(lp0
((dp1
S'text'
p2
(lp3
VI'll assume you are developing a Swing application
p4
aVRead the javadoc of the SwingWorker class : http://download
p5
aVoracle
p6
aVcom/javase/6/docs/api/javax/swing/SwingWorker
p7
aVhtml
p8
aVThe idea is to
p9
aV1
p10
aVdisplay your splash screen
p11
aV2
p12
aVstart a thread which performs all your actions in the background
p13
aV3
p14
aVwhen the background operations are finished, hide the splash screen
p15
aVThe SwingWorker takes care of this
p16
aVNote however that the background operations may not use any Swing-related component or class, since they're not thread-safe and must execute in the event dispatch thread (EDT)
p17
aVAnother, simpler approach would be to display your splash screen, and then use SwingUtilities
p18
aVinvokeLater to perform your operations and hide the splash screen
p19
aVThis way, everything will be done on the EDT, but the splash screen will be displayed before the other operations are performed
p20
aVNote however that with this technique, the application GUI will be unresponsive until the splash screen is hidden
p21
as(dp22
S'author'
p23
V571407
p24
stp25
a((dp26
g2
(lp27
VUnless they change the spec of Properties, it will always work
p28
aVSee http://download
p29
aVoracle
p30
aVcom/javase/6/docs/api/java/util/Properties
p31
aVhtml#load%28java
p32
aVio
p33
aVReader%29 for the specs
p34
as(dp35
g23
V571407
p36
stp37
a((dp38
g2
(lp39
VThe answer from Jigar Joshi looks good to me
p40
aVIf you can't modify the constants class, then just wrap it into another one :
p41
as(dp42
g23
V571407
p43
stp44
a((dp45
g2
(lp46
VI've used Stripes on Google App Engine with success and pleasure
p47
aVIt's a simple yet really powerful MVC stack, very easy to learn and use, and with great documentation
p48
aVI've been able to integrate it with Guide (for dependency injection) and Sitemesh (for page templating)
p49
aVIf you're interested, the code for the application I developed is available at http://code
p50
aVgoogle
p51
aVcom/p/memwords/
p52
as(dp53
g23
V571407
p54
stp55
a((dp56
g2
(lp57
VI think the problem is that when the XSLT task is executes, the JVM (which runs Ant itself) has already loaded classes from the endorsed directory
p58
aVYou would have to fork another JVM instance after having copied the xalan jar into the endorsed dir
p59
aVWhat are you using to run xslt
p60
aVIf it's the XSLT task, couldn't you just use the factory element in order to load xalan
p61
aVIf it's a java task, then use the fork attribute to start the xslt processing in another JVM instance
p62
as(dp63
g23
V571407
p64
stp65
a((dp66
g2
(lp67
VThis won't work, because each serialized object might contain one or several newline character(s) as part of the its binary representation
p68
aVSo if you write a new object at line 3, you might very well write the object in the middle of the binary representation of your first one
p69
aVTest it :
p70
aVIMHO, you have three choices:
p71
aVChoose a protocol which will work with binary data (for example: for each object, write its length (in bytes) as an integer (4 bytes) followed with the bytes of the object itself;
p72
aVEncode the serialized bytes into a string, using Base64 for example, and use a separator between the objects which is not part of the encoding;
p73
aVUse an ObjectOutputStream to serialize an array of Objects
p74
aVWriting a new entry would consist in deserializing the array, make sure it has the right size or copy it to a new array of the appropriate size, insert your object at its position, and reserialize the whole array
p75
as(dp76
g23
V571407
p77
stp78
a((dp79
g2
(lp80
VThe goal of JPA is to be able to create a graph of persistent entities
p81
aVThese entities are linked between them thanks to OneToOne, OneToMany and ManyToMany relationships, in order to be able to navigate into the graph
p82
aVA Message entity should thus have a receiver field of type User and a sender field, also of type User
p83
aVYou may also model the inverse relationships: a User has many sent messages, and many received messages
p84
aVYou thus have two OneToMany relationships :
p85
aVOne User sends Many Messages
p86
aVOne User receives Many Messages
p87
aVYour Message class should thus look like this :
p88
aVAnd you might have additional fields in your User class :
p89
aVThink in terms of objects instead of thinking in termes of fields in a database table
p90
aVAlso, please respect the Java naming conventions (variables starting with a lowercase, camelCase, etc
p91
aV, and avoid mixing French and English terms
p92
aVWith such entities, I don't see why you couldn't use EJBQL and regular JPA methods to insert and read messages in database
p93
as(dp94
g23
V571407
p95
stp96
a((dp97
g2
(lp98
VYour response wrapper is useless as is, since it only stores a string in the Java object used to model the actual HTTP response
p99
aVThe actual HTTP response that the client receives is the stream of bytes (resp
p100
aVcharacters) sent via the output stream (resp
p101
aVwriter) of the HttpServletResponse object (and the headers, cookies, etc
p102
aVstored in the HttpServletResponse object)
p103
aVIf you want to send a custom output string to the client, just use response
p104
aVgetWriter()
p105
aVprint("Hello worlds
p106
aVPassing the response to the rest of the filter chain is questionable, since the rest of the chain will probably want to add its own data to the response stream
p107
aVIf you want to hard-code the response to send to the client to your custom output, but be able to still pass the response to the chain and ignore whatever the rest of the chain puts in the response, you could try to add the following to your wrapper :
p108
as(dp109
g23
V571407
p110
stp111
a((dp112
g2
(lp113
VRead the javadoc for java
p114
aVutil Locale
p115
aVIt says :
p116
aVCreate a Locale object using the constructors in this class: "
p117
aVIt also says :
p118
aVBecause a Locale object is just an identifier for a region, no validity check is performed when you construct a Locale"
p119
aVIt also says :
p120
aVA Locale is the mechanism for identifying the kind of object (NumberFormat) that you would like to get
p121
aVThe locale is just a mechanism for identifying objects, not a container for the objects themselves"
p122
aVAnd finally, the javadoc for the getAvailableLocales() method says :
p123
aVThe returned array represents the union of locales supported by the Java runtime environment and by installed LocaleServiceProvider implementations"
p124
aVSo you just have to invent a language code which is not in the standard list, and use it as an identifier for your locale
p125
as(dp126
g23
V571407
p127
stp128
a((dp129
g2
(lp130
VI'm not sure I understand your question, but maybe this query is your answer :
p131
as(dp132
g23
V571407
p133
stp134
a((dp135
g2
(lp136
VHave you read http://tomcat
p137
aVapache
p138
aVorg/tomcat-6
p139
aV0-doc/jndi-datasource-examples-howto
p140
aVhtml#MySQL_DBCP_Example
p141
aVIt shows you all the steps to access your database from a web app
p142
aVIf you need to access the database from withing Java code (much better than from JSP), your code should look like this :
p143
aVAlso, note that you should also close the resultsets and statements used inside the try block
p144
aVSee http://tomcat
p145
aVapache
p146
aVorg/tomcat-6
p147
aV0-doc/jndi-datasource-examples-howto
p148
aVhtml#Random_Connection_Closed_Exceptions for a more complete example
p149
as(dp150
g23
V571407
p151
stp152
a((dp153
g2
(lp154
VJUnitReport uses XSL stylesheets in order to transform the raw XML files into HTML files
p155
aVYou might change the stylesheets in order to generate custom HTML (and thus sort by timestamp)
p156
aVOne your stylesheets work, use the styledir attribute (see http://ant
p157
aVapache
p158
aVorg/manual/Tasks/junitreport
p159
aVhtml) to tell ant to use your stylesheets rather than the default ones
p160
as(dp161
g23
V571407
p162
stp163
a((dp164
g2
(lp165
Vhttp://code
p166
aVgoogle
p167
aVcom/p/mod-log-firstbyte/ seems to imply that %D measures the time to last byte, whereas mod-log-firstbyte measures the time to first byte
p168
as(dp169
g23
V571407
p170
stp171
a((dp172
g2
(lp173
VThe name is indeed, IMO, very badly chosen
p174
aVWe must read ServletContext as "the general context of a servlet API based web application"
p175
aVWhereas we must read ServletConfig (another standard class) as "The config of a servlet"
p176
aVThey should IMO have named ServletContext "WebAppContext" or "ApplicationContext", and ServletConfig "ServletContext"
p177
aVBTW, in JSP, the scope linked to a JspPage is named "page"; the scope linked to a HttpServletRequest is named "request"; the scope named to a HttpSession is named "session", and the scope linked to a ServletContext is named
p178
aV"application"
p179
as(dp180
g23
V571407
p181
stp182
a((dp183
g2
(lp184
VYou have to make sure that your InputStreamReader uses the same charset to decode the bytes into chars than the one used by the sender to encode chars into bytes
p185
aVLook at the other constructors of InputStreamReader
p186
aVYou must also make sure that the font you're using to display the chars supports your special characters
p187
as(dp188
g23
V571407
p189
stp190
a((dp191
g2
(lp192
VRead paragraph 13
p193
aV5
p194
ag14
aV1 of the servlet specicification
p195
aVIt says :
p196
aVIn order for the authentication to proceed appropriately, the action of the login form
p197
aVmust always be j_security_check"
p198
aVSo you have to change the action of your login form
p199
aVIt has to be j_security_check
p200
as(dp201
g23
V571407
p202
stp203
a((dp204
g2
(lp205
VYou should not, IMO, delete all entities before saving them again
p206
aVInstead, I would
p207
aVfind all the entities,
p208
aVcompare the new collection with the found one and identify wich entities must be deleted
p209
aVdelete those entities
p210
aVmerge the other ones (using the merge method, which will copy the state of your detached entities to the attached ones, even if they are already in the session)
p211
aVNote that the first and second steps could be done by finding all the entities except those whose ID is in your collection of detached entities : "select e from Entity e where e
p212
aVid not in (:idsOfDetachedEntities)"
p213
as(dp214
g23
V571407
p215
stp216
a((dp217
g2
(lp218
VPut placeholders for your sensitive information in the sources, and adapt your build process in order to replace those placeholders with effective values during the build
p219
aVThese effective values could come from a properties file or something like this, and you could put an example properties file with fake values and documentation on each of the property in source control
p220
as(dp221
g23
V571407
p222
stp223
a((dp224
g2
(lp225
VI think you should use the page:applyDecorator tag
p226
aVYou would have a dedicated decorator for the menu bar, responsible for the layout of the menubar, and the contents of the menubar would be in the body of the tag, in every page
p227
aVI have not used it, but this tag seems to do exactly what you want
p228
as(dp229
g23
V571407
p230
stp231
a((dp232
g2
(lp233
Vthe type of the two columns should be time (and not timestamp)
p234
aVThen, the answer is in your question :
p235
aVJust make sure that the night doesnt go from 22:00:00 to 06:00:00 though, or it won't work
p236
aVBut you might introduce two intervals for the might : one from 22:00:00 to 24:00:00, and another one from 00:00:00 to 06:00:00
p237
as(dp238
g23
V571407
p239
stp240
a((dp241
g2
(lp242
VThe node list contains nodes, which are in fact instances of subinterfaces (Element, Text, etc
p243
aVThis code should thus work :
p244
as(dp245
g23
V571407
p246
stp247
a((dp248
g2
(lp249
VThis is probably because you mixed tabs ans spaces, and JSLint supposes that a tab is the equivalent of 4 spaces
p250
as(dp251
g23
V571407
p252
stp253
a((dp254
g2
(lp255
Vactions which modify state on the server or launch a process should not use GET, but POST
p256
aVIf you use POST and the user refreshes, the browser will at least prompt for confirmation
p257
aVTo avoid refreshes, you should send a redirect once the process is launched :
p258
aVuser posts to launch action
p259
aVserver launches action and sends a redirect
p260
aVuser browser receives the redirect and GETs the page atthe given URL
p261
aVuser refreshes, and reloads the page, but doesn't relaunch the action
p262
aVThis pattern is known as Post/redirect/get, or as "redirect after post"
p263
as(dp264
g23
V571407
p265
stp266
a((dp267
g2
(lp268
VI wouldn't care much apout CPU and memory usage
p269
aVIt should be relatively small for such a problem and such a volume of text
p270
aVWhat I would do is
p271
aVhave a Map containing all the strings as keys, with the numer of times they have been found in the text (initially 0)
p272
aVread the text word by word, by using a StringTokenizer, or the String
p273
aVsplit() method
p274
aVfor each word, find if the map contains it (O(1) operation, very quick)
p275
aVif it contains it, add "----" to a StringBuilder, and increment the value stored for the word in the map
p276
aVelse add the word itself (with a space before unless it's the first word of the text)
p277
aVA the end of the process, the StringBuilder contains the result, and the map contains the numer of times each word has been used as a replacement
p278
aVMake sure to initialize the STringBuilder with the length of the original text, in order to avoid too many reallocations
p279
aVShould be simple and efficient
p280
as(dp281
g23
V571407
p282
stp283
a((dp284
g2
(lp285
VWith this struts-config, the second message resources element uses the same (default) key as the first one, and thus replaces the first one completely
p286
aVYou must assign a different key to each of the bundle, and use the bundle atttribute in the bean:message tag to indicate which bundle you want to use :
p287
aVand in the JSPs :
p288
as(dp289
g23
V571407
p290
stp291
a((dp292
g2
(lp293
VWould you format an address the same way in a SMS message and in an HTML page
p294
aVWould you format it the same way in English, French and Japanese
p295
aVIf no, then you have your answer : the presentation does not belong to the object, but to the presentation layer displaying the object
p296
aVUnless the object is specifically made up for the presentation layer, for example if it is a HtmlI18nedAddress, use toString for debugging
p297
aVConsider  vs
p298
aVcontains the state and  returns multiple representations
p299
as(dp300
g23
V571407
p301
stp302
a((dp303
g2
(lp304
VWithout passing the context to the class method, and without storing it in a ThreadLocal variable (which I think would be a bad idea), I don't see how you could do that
p305
aVIf your class needs access to the JSP context it probably means that the class should be a JSP fragment or a custom JSP tag ()
p306
as(dp307
g23
V571407
p308
stp309
a((dp310
g2
(lp311
VThe log entry seems to indicate that it's the com
p312
aVsun
p313
aVxml
p314
aVinternal
p315
aVws
p316
aVmodel
p317
aVRuntimeModeler class which generates this log message
p318
aVYou should be able to filter it out by raisong the level for this logger
p319
as(dp320
g23
V571407
p321
stp322
a((dp323
g2
(lp324
VEST is UTC - 5 hours, so 19:27 EST corresponds to 00:27 UTC
p325
aVIt seems logical to me
p326
aVUse a date format with a UTC locale to display your calendars, instead of using your default locale
p327
as(dp328
g23
V571407
p329
stp330
a((dp331
g2
(lp332
VYou should use joins :
p333
aVwhere :evpn is a named parameter that you have to bind
p334
aVYou must think in terms of objects and relationships between objects when doing HQL, and not in terms of tables, foreign keys and join tables
p335
as(dp336
g23
V571407
p337
stp338
a((dp339
g2
(lp340
VSee [http://download
p341
aVoracle
p342
aVcom/javase/6/docs/api/java/io/FileOutputStream
p343
aVhtml#FileOutputStream(java
p344
aVio
p345
aVFile, boolean)][1]
p346
aVAlso note that you should probably use a FileWriter to write text
p347
aVFileOutputStream is for binary data
p348
aV[1]: http://download
p349
aVoracle
p350
aVcom/javase/6/docs/api/java/io/FileOutputStream
p351
aVhtml#FileOutputStream(java
p352
aVio
p353
aVFile, boolean)
p354
as(dp355
g23
V571407
p356
stp357
a((dp358
g2
(lp359
VJust build your bean manually :
p360
aVThis has one additional advantage : it allows you to make your MyBean immutable
p361
as(dp362
g23
V571407
p363
stp364
a((dp365
g2
(lp366
VIMO, what will really be confusing for your users is to have the content and selection of a combo box changed as soon as they select one of its options
p367
aVAnyway, if you really want to do that, then you should remove the action listener (or deactivate it) before changing its content, and re-add it (or reactivate it) after :
p368
as(dp369
g23
V571407
p370
stp371
a((dp372
g2
(lp373
VYou will need a cast, because the compiler cannot tell from the code that the object is of type ImplementMe
p374
aVIt thus requires the programmer to issue a cast, which will throw a ClassCastException if the object is not an ImplementMe instance
p375
as(dp376
g23
V571407
p377
stp378
a((dp379
g2
(lp380
VThe documentation says :
p381
aVAssuming there's a request parameter myParameter (e
p382
aVg
p383
aVhttp://host/myApp/myAction
p384
aVaction
p385
aVmyParameter=one)
p386
as(dp387
g23
V571407
p388
stp389
a((dp390
g2
(lp391
VEven if an array of Objects only contains HashMap instances, it's still an array of Objects, and can't be cast to an array of HashMaps
p392
aVYou may, however, iterate over the array, and cast each element to a HashMap (or Map)
p393
aVIf you're not sure every object in the array is a Map instance, then use the instanceof operator:
p394
as(dp395
g23
V571407
p396
stp397
a((dp398
g2
(lp399
VCouldn't you just use a regular mailto link, and attach a JavaScript event handler to the link which would send an ajax request to the server to update the statistics
p400
aVYou would of course lose statistics when Javascript is disabled
p401
aVAnother alternative is to set the target of the link to an iframe, so that it's the iframe which becomes blank
p402
aVIf the iframe is invisible, the problem of the blank page becomes invisible as well
p403
as(dp404
g23
V571407
p405
stp406
a((dp407
g2
(lp408
VAt each iteration, you fill your TilesArray
p409
aVarray with new random values, and store a reference to this unique array in TilesArray
p410
aVtiles[i]
p411
aVBut the array of random values is always the same
p412
aVYou just have many pointers to the same array
p413
aVYou need to allocate a new array at each iteration :
p414
as(dp415
g23
V571407
p416
stp417
a((dp418
g2
(lp419
VIf it's in the war, you should be able to access it through the getResourceAsStream method of ServletContext
p420
aVThis is the standard way to access a resource from the war in any web app, whether it's deployed on app engine or not, BTW
p421
as(dp422
g23
V571407
p423
stp424
a((dp425
g2
(lp426
VSee Is querystring parameters secure in HTTPS (HTTP + SSL)
p427
aVEverything will be encrypted, but the URLs, along with the query string (and thus the passwords) will show up in the server log files
p428
as(dp429
g23
V571407
p430
stp431
a((dp432
g2
(lp433
VI would
p434
aVadd a new column to hold the real timestamp
p435
aVuse an update statement to populate the new column from the varchar column, using the STR_TO_DATE function
p436
aVremove the varchar column
p437
aVrename the new column
p438
as(dp439
g23
V571407
p440
stp441
a((dp442
g2
(lp443
VI think that the reason they made it final is to avoid developers shooting themselves in the foot by rewriting a suboptimal (or even incorrect) hashCode
p444
aVRegarding the chosen implementation: it's not stable across JVMs, but it's very fast, avoid collisions, and doesn't need an additional field in the enum
p445
aVGiven the normally small number of instances of an enum class, and the speed of the equals method, I wouldn't be surprised if the HashMap lookup time was bigger with your algorithm than with the current one, due to its additional complexity
p446
as(dp447
g23
V571407
p448
stp449
a((dp450
g2
(lp451
VString implements Comparable, and its natural order is the lexicographical order
p452
aVAll you have to do is
p453
as(dp454
g23
V571407
p455
stp456
a((dp457
g2
(lp458
VUse getSelectOptions to get an array of options of the select box
p459
aVThen generate a random integer between 0 (inclusive) and the length of the array (exclusive)
p460
aVThen use select with an index locator to select the randomly chosen option
p461
as(dp462
g23
V571407
p463
stp464
a((dp465
g2
(lp466
VI think you will only get -1 when the server decides to stop the conversation, i
p467
aVe
p468
aVcloses its output stream or closes the socket completely
p469
aVElse, the stream stays open for potential future incoming data
p470
as(dp471
g23
V571407
p472
stp473
a((dp474
g2
(lp475
VRe-read the tutorial page you linked to : the answer is in there :
p476
aVTo display a splash screen from the command line use the -splash: command-line argument
p477
aVThis argument is a Java application launcher option that displays a splash screen:
p478
aVSo you just have to edit your debug configuration in Eclipse and add the -splash: argument
p479
as(dp480
g23
V571407
p481
stp482
a((dp483
g2
(lp484
VRegarding your first question : since you gave the HTML text directly to the editor pane, without asking to load it from a URL, it doesn't know how to resolve the relative URLs
p485
aVYou thus have two solutions :
p486
aVuse absolute URLs for your images
p487
aVtell the JEditorPane the base URL it must use to load resources
p488
aVFor the second solution, you just have to obtain the HTMLDocument instance used by the editor pane, and call the setBase() method
p489
aVRegarding your second question, you may of course place HTML and images in the jar file, call Class
p490
aVgetResource() to get a URL of one of these HTML files, and give the URL to the editor pane : it will load the HTML and display images relatively to the URL of the loaded HTML file
p491
as(dp492
g23
V571407
p493
stp494
a((dp495
g2
(lp496
VNo, you can't change variable names in Java
p497
aVYou got a NullPointerException when using an array because you tried to put a value in the array, and the array was null
p498
aVYou have to initialize the array, with the right number of elements :
p499
as(dp500
g23
V571407
p501
stp502
a((dp503
g2
(lp504
VThey probably come sorted, but by lexicographical order of the dates rather than chronological order
p505
aVIt's normal since you sort on the ExpenditureDate alias, which is a string containing the formatted date
p506
aVUse another alias :
p507
aVIf you really want to keep the same alias, you might also try this :
p508
as(dp509
g23
V571407
p510
stp511
a((dp512
g2
(lp513
VThe format of each line is always the same : an integer, followed by a tab, followed by the player name
p514
aVJust find the index of the the tab character in each line, and substring from 0 (inclusive) to this index (exclusive), before parsing the score
p515
aVThe player name can be obtained by taking the substring from the tab index +1 (inclusive) up the the length of the line (exclusive)
p516
as(dp517
g23
V571407
p518
stp519
a((dp520
g2
(lp521
VYou should definitely avoid using  tags
p522
aVThey're relics from the past and should always be avoided now
p523
aVUse the JSTL
p524
aVNow, wether you use the JSTL or any other tag library, accessing to a bean property needs your bean to have this property
p525
aVA property is not a private instance variable
p526
aVIt's an information accessible via a public getter (and setter, if the property is writable)
p527
aVTo access the questionPaperID property, you thus need to have a
p528
aVmethod in your bean
p529
aVOnce you have that, you can display the value of this property using this code :
p530
aVor, to specifically target the session scoped attributes (in case of conflicts between scopes) :
p531
aVFinally, I encourage you to name scope attributes as Java variables : starting with a lowercase letter
p532
as(dp533
g23
V571407
p534
stp535
a((dp536
g2
(lp537
VThe stack trace seems to confirm what the exception message explains : you probably try to render the login
p538
aVjsp page, and this JSP uses some struts tag
p539
aVBut since the request has not gone through the Struts filter, the tag can't work
p540
aVIn Struts (and every other action-based framework AFAIK), every URL (except for static resources like images, scripts, etc) should point to the cebtral servlet or filter, which dispatches to your action, which itself forwards to a JSP
p541
aVIf you invoke the JSP directly, it isn't MVC anymore, and the tags can't work
p542
as(dp543
g23
V571407
p544
stp545
a((dp546
g2
(lp547
VA socket is not serializable because it's tied to the machine, OS, etc
p548
aVit's executing onto
p549
aVTo be serializable, an object 's class must implement Serializable, and must contain objects that are all serializable, recursively
p550
aVSo, to serialize your player, you must exclude its socket attribute from the serialization
p551
aVYou do this by declaring the attribute transient :
p552
aVWhen the player will be deserialized, its socket will thus be null, and there's a good chance it won't work correctly
p553
aVYou should probably review your design, because serializing an object which needs a socket to work probably doesn't make sense
p554
as(dp555
g23
V571407
p556
stp557
a((dp558
g2
(lp559
VYour nom and whee fields are static
p560
aVThis means that they are tied to the class, and not to the object (instance) of the class
p561
aVThus, when you assign a new value to this
p562
aVnom, in reality, you assign a the value to Car
p563
aVnom
p564
aVThe compiler allows referring to static variables through an object, but it's very bad practice
p565
aVYou should always refer to static fields by their class : Car
p566
aVnom, Car
p567
aVwhee
p568
aVThis makes it clear that the nom and whee are static, and thus shared by all instances of the class
p569
aVIn this case, these fields should not be static : each Car instance has its own name and whee (whatever it might be)
p570
as(dp571
g23
V571407
p572
stp573
a((dp574
g2
(lp575
VUse an env-entry in the web
p576
aVxml :
p577
aVAnd in the Java code, you can do :
p578
as(dp579
g23
V571407
p580
stp581
a((dp582
g2
(lp583
VThe hibernate mapping DTD mentions an optional  attribute on the class element and on all the collection elements (set, bag, etc
p584
aVIt's not documented in the DTD, but given what is written here regarding this "where" attribute, I'm pretty sure it's what you're looking for
p585
as(dp586
g23
V571407
p587
stp588
a((dp589
g2
(lp590
VJPA (Java Persistence API, implemented by Hibernate, EclipseLink and others) supports this : You would define an Address POJO, mark it as "embeddable", and have two entities (Customer and Vendor) having each a field of type Address (marked as "embedded")
p591
aVThe fields of the customer address would be mapped to columns in the Customer table, and the fields of the vendor address would be mapped to columns in the Vendor table
p592
aVNote that there's no inheritance here
p593
aVInheritance is for is-a relationships
p594
aVA vendor is not an address, and a customer is not an address either
p595
aVThere is composition, though, because a vendor has an address, and a customer has an address
p596
as(dp597
g23
V571407
p598
stp599
a((dp600
g2
(lp601
VNo it can't
p602
aVSee http://www
p603
aVphp
p604
aVnet/manual/en/language
p605
aVoperators
p606
aVlogical
p607
aVphp for the language reference about logical operators, and navigate to find other aliases
p608
aVNote however that the precedence of  and  is not the same as  and
p609
as(dp610
g23
V571407
p611
stp612
a((dp613
g2
(lp614
VFirst of all, you should definitely respect the Java naming conventions : variables and fields start with a lower-case letter in Java (auctionId, startTime, endTime)
p615
aVNow your question :
p616
aVeither you compute the current time, and pass it as a parameter to your query :
p617
aVor you use expressions supported by HQL :
p618
as(dp619
g23
V571407
p620
stp621
a((dp622
g2
(lp623
Vjasper
p624
aVproperties is looked up by jasper reports in the classpath, so it can be directly in the WEB-INF/classes folder, or in the root folder of any of the jars in WEB-INF/lib
p625
as(dp626
g23
V571407
p627
stp628
a((dp629
g2
(lp630
VThe base location for the executing script is the location of index
p631
aVhtml, so the relative path to home
p632
aVhtml is , and not
p633
as(dp634
g23
V571407
p635
stp636
a((dp637
g2
(lp638
VIf you want to compare a String with another one, and test if the other string only contains the double quote char, then you must escape the double quote with a \u005c :
p639
as(dp640
g23
V571407
p641
stp642
a((dp643
g2
(lp644
VHere's how I would do :
p645
aVcreate a sorted map (for example a TreeMap) with the first char as key, and a list of fruits as value
p646
aViterate through the original array
p647
aVat each iteration, extract the first char and see if the map contains it as a key
p648
aVIf not, create an empty list of fruits, and put it in the map
p649
aVPut the current fruit in the list (whether it was already in the map or not)
p650
aVAsk for the values of the map : it's an ordered collection of fruit lists
p651
aVtransforming it into an array of arrays is trivial with Collection
p652
aVtoArray
p653
as(dp654
g23
V571407
p655
stp656
a((dp657
g2
(lp658
VYou can share anything you want between threads : as soon as a method executing in a thread has a reference to an object, and another method in another thread has a reference to the same object, then this object is shared between the two threads
p659
aVThe difficulty, in this case, is to make sure every operation done on the shared object is thread-safe (i
p660
ag468
aVdoesn't put the object in a abnormal state, and returns correct values)
p661
aVImmutable objects are always thread-safe
p662
aVOther ones often need synchronization to be thread-safe
p663
as(dp664
g23
V571407
p665
stp666
a((dp667
g2
(lp668
VWhy do you need a regex for this
p669
aVWhy not simply do :
p670
as(dp671
g23
V571407
p672
stp673
a((dp674
g2
(lp675
VThe conflict is resolved by defining (and applying) rules
p676
aVMost of the time, I only define permissions
p677
aVSo, as soon as the user is in one of the groups where the access is allowed, the access is allowed
p678
aVBut you could define a rule stating that a ban is stronger than a permission, so that once a ban is found, then the ban is applied, even if other groups allow the access
p679
aVIt all depends on your rules
p680
as(dp681
g23
V571407
p682
stp683
a((dp684
g2
(lp685
VYou shouldn't normally have to do anything : if you use the swing components methods, or the methods of their model, the necessary events are fired and the GUI should update itself automatically
p686
aVThis won't be the case if you define your own models (and forget to fire the necessary events, but then it's a bug in your models, and it should be fixed there
p687
as(dp688
g23
V571407
p689
stp690
a((dp691
g2
(lp692
VNo
p693
aVA LinkedList is always a List
p694
aVWhen you deserialize the linked list, since a LinkedList is a List, you may write
p695
aVThe fact that l is in fact a LinkedList is not important
p696
aVYou wanted a List, and you got a List
p697
as(dp698
g23
V571407
p699
stp700
a((dp701
g2
(lp702
VYou could use a listener, which is a simple interface the network class would call back whenever something interesting happens :
p703
aVThis is known as the Observable/observer pattern
p704
aVThe observable notifies its observers when something happens, but without having to know their exact type
p705
aVThe listsner class decouples the two parties
p706
as(dp707
g23
V571407
p708
stp709
a((dp710
g2
(lp711
VI don't think Tomcat ever passivates anything to disk in its default configuration, so everything you put in session will take space in memory
p712
aVThe limit is the heap size of the JVM running Tomcat
p713
aVIf you put too many objects in session, you risk getting an OutOfMemoryError at some time
p714
as(dp715
g23
V571407
p716
stp717
a((dp718
g2
(lp719
VYes you can
p720
aVEvery folder in the working copy knows where it comes from in the repositorythanks to its
p721
aVsvn subdirectory
p722
as(dp723
g23
V571407
p724
stp725
a((dp726
g2
(lp727
VI don't think it's possible to do what you want, without changing the Tomcat code
p728
aVNote however that it might have a nasty side effect : if a user starts a session and stays active for twelve hours, its session timeout will be updated accordingly (the timeout will be updated at each request), but its cookie won't, and the user will thus lose its session after 12 hours, even if he's been active all this time
p729
as(dp730
g23
V571407
p731
stp732
a((dp733
g2
(lp734
VBut dates shouldn't be stored as
p735
aVThey should be stored as s
p736
as(dp737
g23
V571407
p738
stp739
a((dp740
g2
(lp741
VThe problem is that you're synchronizing on two different objects : on the stack instance (through the  keyword on both methods) and on the list (through the  statements)
p742
aVSo, when the  method waits, it calls wait on the stack instance and thus releases the monitor it holds on the stack instance, allowing another thread to enter the  method
p743
aVBut it doesn't release the monitor it holds on the list, so the other thread is blocked waiting for the monitor on the list to be released
p744
as(dp745
g23
V571407
p746
stp747
a((dp748
g2
(lp749
VThe node, with all its children, is inserted in the model, as a simple test would have shown
p750
as(dp751
g23
V571407
p752
stp753
a((dp754
g2
(lp755
VIf you want to test if a file exists, look at
p756
as(dp757
g23
V571407
p758
stp759
a((dp760
g2
(lp761
VHtmlUnit is very good
p762
aVAnd it supports Javascript pretty well
p763
as(dp764
g23
V571407
p765
stp766
a((dp767
g2
(lp768
VNot sure it's the cause of the problem, because I don't know BlazeDS, but the methods  and  of your  class are not symetric : you write an object of type Integer in , and you read an int in
p769
as(dp770
g23
V571407
p771
stp772
a((dp773
g2
(lp774
VThe VetoableChangeListener will only be called if a constrained property is being changed on the JTextField
p775
aVA constrained property is a property whose setter method throws a
p776
aVSo, if your code never calls any such setter method on the JTextField, your listener won't ever be called
p777
aVRead http://download
p778
aVoracle
p779
aVcom/javase/tutorial/javabeans/properties/constrained
p780
aVhtml for more details
p781
aVI haven't found any constrained property in JTextField (and in all its class hirarchy) in the API doc, so I doubt your listener could ever be called
p782
as(dp783
g23
V571407
p784
stp785
a((dp786
g2
(lp787
VThis will return you a list of Object[]
p788
aVEach Object[] contains the ID of the question as first element, and the number of answers of this question as second element
p789
aVthe questions are sorted by descending number of answers
p790
aVIf you needs additional properties (example : question text), then add additional groupProperty projections (example : )
p791
aVThe SQL corresponding to this criteria query looks like this :
p792
as(dp793
g23
V571407
p794
stp795
a((dp796
g2
(lp797
VThe contract of the method is to catch CustomException and log "Error Message" to an external component : the logger
p798
aVYou should thus create a mock logger, give it to the ClassToTest instance, test the method and verify that the mock logger has been called with the aright arguments
p799
aVI personnally use EasyMock (and its "classextension" extension) to mock concrete classes, but there are other mock frameworks
p800
aVRead http://easymock
p801
aVorg/EasyMock3_0_Documentation
p802
aVhtml for information about EasyMock and mocking in general
p803
as(dp804
g23
V571407
p805
stp806
a((dp807
g2
(lp808
VA singleton has the advantatage over a class with static variables and methods : it's an object instance, which can inherit from a class (example : an application that ahas a single principal JFrame), and extend one or more interfaces (and thus be treated as any other object implementing these interfaces)
p809
as(dp810
g23
V571407
p811
stp812
a((dp813
g2
(lp814
VAs you said : we need a session timeout because there is no reliable way for a server to be notified when a browser closes (or crashes)
p815
as(dp816
g23
V571407
p817
stp818
a((dp819
g2
(lp820
VThe problem is probably with this restriction :
p821
aVThis means : "make sure the employee field of the Affiliate instance is equal to 1"
p822
aVBut the employee field of the Affiliate class is not an int nor an Integer
p823
aVIt's an Employee
p824
aVChange your restriction to
p825
aVI'm also surprised by the cascade type on the relationship between employee and affiliate
p826
aVAn employee has many affiliate, but when you delete one of the affiliate,you want the employee to be deleted
p827
aVI doubt this works (you'll have constraints violations)
p828
as(dp829
g23
V571407
p830
stp831
a((dp832
g2
(lp833
VYou could use the  task to concat all your properties files to a big temporary properties file, and the use  with this big temporary properties file as attribute
p834
aVMake sure to use fixlastline="true" with the concat task to make sure each file ends with a new line character
p835
aVExample :
p836
as(dp837
g23
V571407
p838
stp839
a((dp840
g2
(lp841
VThis is known as "virtual hosting" read about it at http://en
p842
aVwikipedia
p843
aVorg/wiki/Virtual_hosting
p844
aVThis technique is used by all shared web hosting providers
p845
as(dp846
g23
V571407
p847
stp848
a((dp849
g2
(lp850
VYou need to update the text of the paragraph each time the variable changes
p851
aVThe paragraph doesn't magically track the value of the clickCount variable :
p852
as(dp853
g23
V571407
p854
stp855
a((dp856
g2
(lp857
VComparable defines a natural order for all instances of a class
p858
aVSo if DeadlinedTask should always come before Tasks, then the compareTo method should implement it
p859
aVYou should not redefine compareTo in DeadlinedTask, because this would break the contract of anti-commutativity : if (), then
p860
aVI would thus completely avoid to implement Comparable in the Task class, and use a dedicated comparator when sorting a collection of tasks
p861
aVIf you really want your task to implement Comparable, than you need to make its implementation depend on the existence of DeadlinedTask (which is not very OO) :
p862
aVNote that Java uses a lower-case letter at the beginning of methods (, and not ), and that you don't need to use getters to access private properties of your own class
p863
as(dp864
g23
V571407
p865
stp866
a((dp867
g2
(lp868
VI don't see any advantage in following this convention
p869
aVIn C, where boolean types don't exist, it's useful to write
p870
aVrather than
p871
aVbecause if you forget one of the eaqual sign, you end up with
p872
aVwhich assigns 5 to variable and always evaluate to true
p873
aVBut in Java, a boolean is a boolean
p874
aVAnd with
p875
aV=, there is no reason at all
p876
aVOne good advice, though, is to write
p877
aVrather than
p878
aVbecause it helps avoiding NullPointerExceptions
p879
aVMy advice would be to ask for a justification of the rule
p880
aVIf there's none, why follow it
p881
aVIt doesn't help readability
p882
as(dp883
g23
V571407
p884
stp885
a((dp886
g2
(lp887
VThe javadoc executable is not in , but in
p888
aVSo, on your machine, it must be in
p889
as(dp890
g23
V571407
p891
stp892
a((dp893
g2
(lp894
VHave you tried the default serialization format
p895
aVIt's binary, but not cross-language
p896
aVMaybe gzipped JSON could work
p897
aVOr you could look into protocol buffers
p898
as(dp899
g23
V571407
p900
stp901
a((dp902
g2
(lp903
VI'm not sure I understand your question (what doesn't work
p904
aVWhat do you expect and what happens
p905
aV, but what's sure is that calling  multiple times on a JTextArea is not a good idea :  replaces the whole content of the text area
p906
aVYou should use  to add multiple lines of text to the text area
p907
aVEDITED :
p908
aVNow that you showed us how you built the text area, the problem is clearer : you instantiate a local variable textArea in the  method, but the instance variable in your GUI points to another text area (or null)
p909
aVEDITED again :
p910
aVYour code is too complex and not complete enough to correct it, but the situation looks like this one :
p911
aVTo fix it, you have to change it to this :
p912
as(dp913
g23
V571407
p914
stp915
a((dp916
g2
(lp917
VYou get a RemoteException because when you try to remove the client (which is disconnected), you first call the getUser() method on the client, which obviously throws a RemoteException
p918
aVYou should change your code to something like this :
p919
aVMake sure that only one thread has access to the map at a time
p920
as(dp921
g23
V571407
p922
stp923
a((dp924
g2
(lp925
VAs in any JPA application, you use JPA queries
p926
aVSee http://download
p927
aVoracle
p928
aVcom/javaee/5/tutorial/doc/bnbqw
p929
aVhtml#bnbrg for an introduction on queries and JPQL
p930
aVIn your case, the code would look like this :
p931
aVNote that everything supported by JPA is not supported in Google App Engine : see http://code
p932
aVgoogle
p933
aVcom/intl/fr/appengine/docs/java/datastore/jpa/overview
p934
aVhtml#Unsupported_Features_of_JPA for details
p935
as(dp936
g23
V571407
p937
stp938
a((dp939
g2
(lp940
VI'm pretty sure that the app engine datastore doesn't specify any guaranteed order, and that the persistence framework you use (JPA
p941
aVJDO
p942
aVdoesn't either
p943
aVSo if it's critical, then store a timestamp along with every data you insert, and add an  clause to your queries to make sure you retrieve the objects in the appropriate order
p944
as(dp945
g23
V571407
p946
stp947
a((dp948
g2
(lp949
VUsing the executable attribute needs to set the fork attribute to true
p950
aVThis means that the javac ant task will launch an external process to execute javac
p951
aVWhen you launch javac manually, you don't have to specify any specific JDK lib directory: it knows where to find the libraries of the JDK it's part of
p952
aVI'd say it will be the same if you launch it through ant's javac task (unless you override the bootclasspath)
p953
as(dp954
g23
V571407
p955
stp956
a((dp957
g2
(lp958
VThe js file should only contains javascript code
p959
aVThe  line and the  line contain HTML code, not JavaScript
p960
aVRemove them from the
p961
aVjs file
p962
as(dp963
g23
V571407
p964
stp965
a((dp966
g2
(lp967
VThe key must be the value of one of the persistent fields of TestB (let's says this field is names "foo"), so this code should work :
p968
as(dp969
g23
V571407
p970
stp971
a((dp972
g2
(lp973
VAccording to http://www
p974
aVfileformat
p975
aVinfo/info/unicode/char/3a3/index
p976
aVhtm, the unicode value for this symbol is U+03A3, so you just have to use the unicade escape sequence :
p977
aVThe problem, now, is that the console where the String is printed must support unicode and use a font where this symbol is supported, else you'll probably see a '
p978
aVcharacter instead of the sigma
p979
as(dp980
g23
V571407
p981
stp982
a((dp983
g2
(lp984
VYou should be able to cast your Graphics to Graphics2D, and use the following line of code :
p985
aVSee http://download
p986
aVoracle
p987
aVcom/javase/6/docs/api/java/awt/Graphics2D
p988
aVhtml for more information
p989
as(dp990
g23
V571407
p991
stp992
a((dp993
g2
(lp994
VYou should not embed firstName and lastName in the primary key
p995
aVuserId should be your primary key, and you should add a unique constraint on [firstName, lastName]
p996
aVBTW, putting these additional fields in the primary key only guarantees that [idUser, firstName, lastName] is unique, but you might still have two users with different idUsers, but with the same [firstName, lastName]
p997
aVNow to answer the original question, I don't see where the problem is :
p998
as(dp999
g23
V571407
p1000
stp1001
a((dp1002
g2
(lp1003
VI would use WinMerge and compare the two directories, recursively (ignoring
p1004
aVsvn folders)
p1005
aVSuppose the left side is the SVN working copy, and the right side is the correct project, not under SVN :
p1006
aVall files existing at the left side but not at the right side must be deleted
p1007
aVall files existing at the right side but not at the left side must be copied to the left and added to SVN
p1008
aVall files existing at both sides but not the same must be replaced at the left side by the file at the right side
p1009
aVall files existing at both sides and identical must stay as is
p1010
aVOnce you have done all these operations, you just have to commit
p1011
aVThis way, you'll keep history, except for renamed/moved files
p1012
as(dp1013
g23
V571407
p1014
stp1015
a((dp1016
g2
(lp1017
VLook at the Javadoc for the application framework (hard to find, but it's here) :
p1018
as(dp1019
g23
V571407
p1020
stp1021
a((dp1022
g2
(lp1023
VYou shouldn't put such code in a JSP, because at the time the code is executed, some blank spaces, newlines, etc
p1024
aVat the beginning of the JSP have probably already been sent to the output stream of the JSP
p1025
aVJSP should be used to output text or markup, but not to execute business logic and send raw bytes to the output stream
p1026
aVYou should put this kind of code in a servlet, or in an action of your favorite MVC framework (Struts, Stripes, Spring MVC, etc
p1027
as(dp1028
g23
V571407
p1029
stp1030
a((dp1031
g2
(lp1032
VThe standard technique, used in browser to send form data containing both text and file inputs, is to use multi-part form data
p1033
aVApache commons FileUpdload could be used at server-side to parse the request, and give you access to the uploaded image as a stream
p1034
as(dp1035
g23
V571407
p1036
stp1037
a((dp1038
g2
(lp1039
VYou obviously need a streaming API rather that a DOM, which would need to hold the whole document in memory
p1040
aVJava supports SAX and Stax
p1041
aVI've never used Stax myself, but heard it was easier to use than SAX, while still efficient
p1042
aVMake sure to split the work into many transactions as well : the database won't be able to support as many insert statements in a single transaction
p1043
as(dp1044
g23
V571407
p1045
stp1046
a((dp1047
g2
(lp1048
VThe toString method of a double array returns something like this :
p1049
aVSo, you need to call a function which iterates on the array and prints out the array as a Javascript array
p1050
aVOr you can do it with the JSTL :
p1051
as(dp1052
g23
V571407
p1053
stp1054
a((dp1055
g2
(lp1056
VHibernate is one implementation of the JPA (EJB persistence) specification (among other)
p1057
aVIt thus provides everything specified in the JPA spec, but adds specific features on top of that
p1058
as(dp1059
g23
V571407
p1060
stp1061
a((dp1062
g2
(lp1063
VMVC, in a web application context, doesn't consist in using a class from a JSP
p1064
aVIt consists in using the following model :
p1065
aVbrowser sends a request to a web server
p1066
aVthe web server is configured so that the request is handled by a servlet or a filter (the controller : Java code, not JSP code)
p1067
aVThe servlet/filter usually dispatches the request to a specific class (called an Action, the specific part of the controller), based on configuration/annotations
p1068
aVThe action executes the business logic (i
p1069
ag468
aVfetch the data from the database in your example : the model)
p1070
aVThe action forwards the request to a JSP
p1071
aVThe role of the JSP is only to generate HTML code (i
p1072
ag468
aVdisplay your data : the view)
p1073
aVSince the JSP usually uses JSP tags (the JSTL, for example) and the JSP expression language, and since JSP tags and the EL are designed to get information from JavaBeans, you'd better have your data available in the form of JavaBeans or collections of JavaBeans
p1074
aVThe role of the controller (the action class) is thus to fetch the data, to create JavaBean instances containing the data, in a suitable format for the JSP, to put them in request attributes, and then to dispatch to the JSP
p1075
aVThe JSP will then iterate through the JavaBean instances and display what they contain
p1076
aVYou should not implement the MVC framework yourself
p1077
aVUse existing ones (Stripes, Struts, etc
p1078
as(dp1079
g23
V571407
p1080
stp1081
a((dp1082
g2
(lp1083
VYou should probably favor composition (and delegation) over inheritance :
p1084
as(dp1085
g23
V571407
p1086
stp1087
a((dp1088
g2
(lp1089
VWell, the safest way is probably to re-execute the DB query used to get the table data, then rebuild a table model, and call setModel on your JTable (or pass the new data to a custom  method of  your  implementation, and call  from this  method)
p1090
as(dp1091
g23
V571407
p1092
stp1093
a((dp1094
g2
(lp1095
VThis should do the trick, provided that you have mapped the one-to-many relationships between authors and the three entities in Author :
p1096
aVEDIT :
p1097
aVBut since the query is not dynamic, you should probably prefer HQL, which would allow you to write your query even if there's no mapping of the relationships in Author :
p1098
as(dp1099
g23
V571407
p1100
stp1101
a((dp1102
g2
(lp1103
VLet the database do the sort for you : it's very efficient at doing it
p1104
aVThe HQL for this is very simple :
p1105
as(dp1106
g23
V571407
p1107
stp1108
a((dp1109
g2
(lp1110
VYou need to change the value of the property  to
p1111
aVYou may do it on a specific table instance, by using the  tag inside the  tag, or you may set it globally for the whole web application by setting it in your displaytag
p1112
aVproperties file
p1113
aVRead http://displaytag
p1114
aVsourceforge
p1115
aVnet/1
p1116
aV2/configuration
p1117
aVhtml to understand how it works, discover the other useful properties
p1118
as(dp1119
g23
V571407
p1120
stp1121
a((dp1122
g2
(lp1123
VIf the objects stored in the set are instances of , then the code should look like this :
p1124
as(dp1125
g23
V571407
p1126
stp1127
a((dp1128
g2
(lp1129
VIf you can't modify the code which fetches the SelectItem instances from the DB so that the come sorted as you'd like, then you have to sort them yourself :
p1130
as(dp1131
g23
V571407
p1132
stp1133
a((dp1134
g2
(lp1135
VI don't think there is any generic way to do it
p1136
aVThe devil is in the details : do you want to impose any precision or scale
p1137
aVWhat's the maximum number of chars in your strings
p1138
aVThe mapping, in its simplest form could be
p1139
as(dp1140
g23
V571407
p1141
stp1142
a((dp1143
g2
(lp1144
VThe avalanche effect, as described in the wikipedia page you linked to, is an important property of cryptographic hash functions
p1145
aVis not a cryptographic hash function
p1146
aVIts only goal is to generate sufficiently distributed hash codes for different strings so that HashMap, HashSet and all other hash-based collections are efficient when holding strings
p1147
aVFor cryptographic hash functions, look at JCA, which allows generating SHA-1, MD5, and other cryptographic digests, which all have the effect you're looking for
p1148
as(dp1149
g23
V571407
p1150
stp1151
a((dp1152
g2
(lp1153
VRead the javadoc for Stack and its parent class : Vector
p1154
aVWhen computing the 50 first prime members, instead of displaying them while you find them, store them in the stack
p1155
aVOnce you have finished finding the primes, the stack contains all the primes you found
p1156
aVThe smallest one is the first element of the stack, and the biggest one is the last element of the stack
p1157
aVStart another loop from the end of the stack to the beginning to display the primes in descending order
p1158
aVNote : Stack is an old class that should not be used anymore
p1159
aVYou should prefer ArrayList
p1160
as(dp1161
g23
V571407
p1162
stp1163
a((dp1164
g2
(lp1165
V takes a file representing a directory as parameter
p1166
aVNot a text file where a path is written
p1167
aVTo do what you want, you have to read the file "path
p1168
aVtxt", create a File object with the contents that you just read, and pass this file to setCurrentDirectory :
p1169
as(dp1170
g23
V571407
p1171
stp1172
a((dp1173
g2
(lp1174
VEclipse often signal syntax errors when there is none, because it fails parsing JSTL inside HTML inside JavaScript (or other combinations) correctly
p1175
aVTest your code by deploying it on your server and running it
p1176
aVIf it runs, then you've encountered an Eclipse bug
p1177
as(dp1178
g23
V571407
p1179
stp1180
a((dp1181
g2
(lp1182
VYou probably have characters in your String that should be escaped in Javascript
p1183
aVFor example, if your string is , your code will generate
p1184
aVwhich is invalid
p1185
aVYou should use StringEscapeUtils
p1186
aVescapeJavaScript from commons-lang to make sure everything is correctly escaped (single and double quotes, newlines, tabs, etc
p1187
as(dp1188
g23
V571407
p1189
stp1190
a((dp1191
g2
(lp1192
VNo, but you could define a naming convention and add an Environment element for each of your resource :
p1193
aVIn your code, you would access it via
p1194
aVSee http://tomcat
p1195
aVapache
p1196
aVorg/tomcat-7
p1197
aV0-doc/config/context
p1198
aVhtml#Environment%20Entries for details
p1199
as(dp1200
g23
V571407
p1201
stp1202
a((dp1203
g2
(lp1204
VFirst of all, the join method takes two arguments : an iterator and a separator string or char
p1205
aVAnd if you look at the javadoc of StringCharacterIterator, you'll see that this class does not implement
p1206
as(dp1207
g23
V571407
p1208
stp1209
a((dp1210
g2
(lp1211
VOf course, The JavaScript runtime will need to store this String object in memory
p1212
aVAssigning null to the variable might free the memory if the string isn't referenced anymore and if the garbage collector decides to free the memory
p1213
as(dp1214
g23
V571407
p1215
stp1216
a((dp1217
g2
(lp1218
VApache HttpClient supports HTTP 1
p1219
aV1 with persistent connections
p1220
as(dp1221
g23
V571407
p1222
stp1223
a((dp1224
g2
(lp1225
VThe RFC says that this is due to an Expect request header that the server can't meet
p1226
aVLook at the request headers sent by your client application, and see what their purpose is and if they're necessary
p1227
as(dp1228
g23
V571407
p1229
stp1230
a((dp1231
g2
(lp1232
VThis solution has the advantage of having a winner as soon as the first thread finishes, instead of having to wait until all the threads are done
p1233
aVEDIT :
p1234
aVAa indicated by jtahlborn,  is a better abstraction for this problem
p1235
aVThe same algorithm can thus be written as this :
p1236
aVIf you want to wait for the two threads to finish before displaying the winner, you just have to initialize the latch to 2 instead of 1
p1237
as(dp1238
g23
V571407
p1239
stp1240
a((dp1241
g2
(lp1242
VDon't know why (the method is not documented), but by looking at the source code, this line should do it :
p1243
as(dp1244
g23
V571407
p1245
stp1246
a((dp1247
g2
(lp1248
VI use the syntax highlighter from Alex Gorbatchev (JavaScript)
p1249
aVSee http://alexgorbatchev
p1250
aVcom/SyntaxHighlighter/manual/installation
p1251
aVhtml for instructions
p1252
aVBut if you need to support displaying HTML containing script elements, you'll need to fall back to the  method, and thus escape ,  and
p1253
as(dp1254
g23
V571407
p1255
stp1256
a((dp1257
g2
(lp1258
VInstall the JDK (Java Development Kit), and refuse the option of installing the JRE (Java Runtime Environment) when asked by the installer
p1259
as(dp1260
g23
V571407
p1261
stp1262
a((dp1263
g2
(lp1264
VOracle supports  on foreign key constraints, so I don't see why it couldn't be used, whether or not you use Hibernate (which is just a layer on top of JDBC)
p1265
aVI doubt you'll be able to define this clause using JPA annotations, but anyway, other than for a quick n' dirty test, the database schema shouldn't be created by Hibernate, but by a specific script (which handles table spaces, indexes, naming conventions, etc
p1266
as(dp1267
g23
V571407
p1268
stp1269
a((dp1270
g2
(lp1271
V(but the order won't be the one in your example)
p1272
aVYou could also iterate through the pairs and build a list :
p1273
as(dp1274
g23
V571407
p1275
stp1276
a((dp1277
g2
(lp1278
VIf the task
p1279
aVexecute() method doesn't start launch an operation in another thread, then the GUI will be freezed, and nothing will apear in the text area until the operation is finished
p1280
aVSo you might just have
p1281
aVIf the operation is launched in a new thread, then this thread should append in the text area, but it should make sure this append is done in the event dispatch thread (EDT)
p1282
aVYour code could thus look like this :
p1283
aVYou might also look at SwingWorker, which is designed just for that (and other things like progress update)
p1284
aVThere is a code example in its class javadoc which does just what you're trying to do
p1285
as(dp1286
g23
V571407
p1287
stp1288
a((dp1289
g2
(lp1290
VThere is no way to change the current directory in Java
p1291
aVWhen you change the system property, the property is changed, but not the actual working directory, used by native code to create the file
p1292
aVgetAbsolutePath, however, uses the current value of the user
p1293
aVdir system directory to compose the absolute path
p1294
as(dp1295
g23
V571407
p1296
stp1297
a((dp1298
g2
(lp1299
VBecause the Wedstrijdlijst class doesn't implement the Iterable interface
p1300
as(dp1301
g23
V571407
p1302
stp1303
a((dp1304
g2
(lp1305
VYou get a NullPointerException because your  array is null
p1306
aVYou need to initialize it :
p1307
as(dp1308
g23
V571407
p1309
stp1310
a((dp1311
g2
(lp1312
VI would do as if your boss had made a feature-branch, and then merge this feature branch to your trunk :
p1313
aVTry to find from which revision of you trunk your boss started making changes (lets' say it's revision 1000)
p1314
aVThen create a branch from this revision, and switch your working copy to that branch
p1315
aVNow replace the files in this working copy by the files in your boss's project
p1316
aVYou could use WinMerge or an equivalent program to compere the directories recursively and find which files are new, modified, deleted or unchanged
p1317
aVCommit the changes to the branch
p1318
aVThen, merge the changes from trunk to branch, starting at 1000, to HEAD
p1319
aVThis is where you'll have to resolve conflicts
p1320
aVOnce it's done, the feature branch contains all your boss's changes and is up to date with the trunk
p1321
aVNow you can reintegrate the feature branch into the trunk, and threaten your boss to kill him if he continues not using revision control
p1322
as(dp1323
g23
V571407
p1324
stp1325
a((dp1326
g2
(lp1327
VWithout seeing the GUI class, it's difficult to say
p1328
aVBut I would suspect that your  field is declared as is :
p1329
aVIf that's the case, then getISBN() can't be found because the variable's declared type is JTextField, and not ISBNText
p1330
aVYou need to change it to
p1331
aVNote that public variables should almost never be used, and that variables in Java should always start with a lower-case letter
p1332
aVYou should thus call it  rather than
p1333
as(dp1334
g23
V571407
p1335
stp1336
a((dp1337
g2
(lp1338
VThe usual way to construct a tree is to construct a hierarchy of DefaultMutableTreeNode instances
p1339
aVThis class has an  method which allows adding a child to an existing node
p1340
as(dp1341
g23
V571407
p1342
stp1343
a((dp1344
g2
(lp1345
VThis is because you're doing integer (32 bits) arythmetics, and then transform the int result into a long
p1346
aVSInce the numbers are too big, it doesn't work
p1347
aVReplace by :
p1348
aVto force the operations do be done with longs
p1349
as(dp1350
g23
V571407
p1351
stp1352
a((dp1353
g2
(lp1354
Vyou should mark the attribute you don't want to serialize as transient :
p1355
as(dp1356
g23
V571407
p1357
stp1358
a((dp1359
g2
(lp1360
VThis happens because you use a relative path to load the file :
p1361
aVWhen you do this, your app is very fragile, because it must be launched from a specific directory to work correctly
p1362
aVI suspect that NetBeans launches your app from the root folder instead of launching it from the src or build folder
p1363
aVI would recommend to put the voice
p1364
aVwav in your sources, so that it's copied into the build directory, along with your class files
p1365
aVThen you may load the file using the classloader, thanks to a call to Class
p1366
aVgetResourceAsStream()
p1367
as(dp1368
g23
V571407
p1369
stp1370
a((dp1371
g2
(lp1372
VThe wrapper types are used when you need an object
p1373
aVFor example : to be able to store integers in a collection (like a List or a Set), you need to transform the primitive into an object (Integer)
p1374
aVThe wrapper have another feature over the primitive types : they are nullable
p1375
aVSo, for example, to represent an integer value stored in a nullable column of a database table, you'll use Integer rather than int to be able to store the null value
p1376
aVBasicaly, my advice would be : use primitive types except whan you can't (for example, for one of the reasons I just explained)
p1377
as(dp1378
g23
V571407
p1379
stp1380
a((dp1381
g2
(lp1382
VYou need to add an action listener on every checkbox except the seventh one, which doesn't have any impact), and re-compute the enabled state of the button each time the listener is called
p1383
aVSee
p1384
as(dp1385
g23
V571407
p1386
stp1387
a((dp1388
g2
(lp1389
VI'm not a C# expert, but according to the documentation, a Bitmap is an Image (it inherits from it), so you could just call the second method with a Bitmap as argument, and it should work
p1390
aVIf I'm correct, then just remove the first one, which is not useful anymore
p1391
as(dp1392
g23
V571407
p1393
stp1394
a((dp1395
g2
(lp1396
VDon't make a generic one-size fits-all persistence layer
p1397
aVWrite persistence methods specifically for the functional use-cases you're implementing
p1398
aVWhile doing it, you're probably going to meet cases where a persistence method, or some part of it, can be reused across two or more use-cases
p1399
aVThis will probably force you to rename the method to make it more generic (less coupled to one specific use-case), or refactor to extract the common part
p1400
aVBut if you want the best performance for your app, you're going to need specific queries for specific use-cases
p1401
as(dp1402
g23
V571407
p1403
stp1404
a((dp1405
g2
(lp1406
VFor the dynamic number of columns part, this is defined by the TableModel of your JTable
p1407
aVUse a DefaultTableModel with the appropriate number of columns, or, even better, implement your own table model by extending AbstractTableModel, and implement  based on the array containing your data
p1408
aVFor the combo part, I guess you want to use a combo to edit the data in the table
p1409
aVYou the need to extend JTable and redefine the getCellEditor() method in order to return a TableCellEditor returning a JComboBox if the row is 0 or 1
p1410
aVAnd you may return  if the row is bigger than 1
p1411
aVYou should also read the Java Tutorial about JTable, which has sections about everything you want to do
p1412
as(dp1413
g23
V571407
p1414
stp1415
a((dp1416
g2
(lp1417
s(dp1418
g23
V571407
p1419
stp1420
a((dp1421
g2
(lp1422
VYou must use the Arrays
p1423
aVsort() method
p1424
aVThis method takes a Comparator as argument
p1425
aVThe sort method delegates to the comparator to determine if one element of the array must be considered bigger, smaller or equal to another element
p1426
aVSince every element of the outer array is an array, the comparator will have to compare arrays (of Strings)
p1427
aVThe arrays must be compared based on the value of their second element
p1428
aVThis second element is a String which in fact represents a double number
p1429
aVSo you'll have to transorm the strings into numbers, else the order will be lexicographical (20 come before 3) rather than numerical
p1430
aVThe comparator could thus look like this :
p1431
as(dp1432
g23
V571407
p1433
stp1434
a((dp1435
g2
(lp1436
VNo
p1437
aVYou have to use  and  in HQL
p1438
as(dp1439
g23
V571407
p1440
stp1441
a((dp1442
g2
(lp1443
VIt's a shame this exception is not documented, but looking at its message and the source code of BufferedImage, it seems you need to pass 0 for the 5th or sixth argument (or both) of the  method call
p1444
as(dp1445
g23
V571407
p1446
stp1447
a((dp1448
g2
(lp1449
s(dp1450
g23
V571407
p1451
stp1452
a((dp1453
g2
(lp1454
VIt seems you want to consider the two entities as completely unrelated, except for the fields they have in common
p1455
aVIt's not really an inheritance relationship since when you search for a MyClass, you don't want MySubclass instances to be found, although MySubClass instances are instances of MyClass in your design
p1456
aVThe best solution is thus probably to use a  (see chapter 2
p1457
ag12
aV4
p1458
aV4) which contains the common fields and methods, and to create two completely separate entities which extend this mapped super class
p1459
as(dp1460
g23
V571407
p1461
stp1462
a((dp1463
g2
(lp1464
VFirst of all, you should not implement this is a JSP, but in a Servlet (or an action of your favorite MVC framework : Stripes, Spring MVC, Struts, etc
p1465
aVJSPs are meant for presentatino code only, using HTML, the JSTL and custom JSP tags
p1466
aVTo handle file uploads, you should use a dedicated API such as Apache commons FileUpload, because the servlet API doesn't have direct support for multi-part requests
p1467
aVAll MVC frameworks I know about also include support for file uploads
p1468
aVNow for the explanation of why it works on your local machine : when you open the input stream to the path sent as parameter in the request, you open an input stream using the path of the file on the client's machine
p1469
aVSince in this case, the server machine is also the client machine, it works
p1470
aVBut as soon as the server is not the client anymore, it doesn't work anymore
p1471
as(dp1472
g23
V571407
p1473
stp1474
a((dp1475
g2
(lp1476
VThis is not possible
p1477
aVYou'll have to regularly poll the database in order to detect changes
p1478
as(dp1479
g23
V571407
p1480
stp1481
a((dp1482
g2
(lp1483
VUnless the "" sections use other locks, your code shouldn't cause any deadlock
p1484
aVThe second thread might have to wait for the first one to complete the synchronized section of the code, but this is not a deadlock : once the first thread has finished, the second thread will be woken up and complete its work
p1485
aVIf you want to avoid contention, you should have a look at concurrent collections in the  package
p1486
as(dp1487
g23
V571407
p1488
stp1489
a((dp1490
g2
(lp1491
VSince everything you do in your scenario is done at client side, in the browser, without any communication to the server, you need to use JavaScript to detect when a radio button value is changed, and set back the other drop-down selections to their default value
p1492
as(dp1493
g23
V571407
p1494
stp1495
a((dp1496
g2
(lp1497
VJava is pass by value
p1498
aVA reference to an object passed to a method can't be changed by this method
p1499
aVYou can change the content of an object, but you can't do that with Strings, because they are immutable (their content can't change)
p1500
aVThe line
p1501
aVaffects a new String object to the string variable
p1502
aVIt doesn't change the content of the original String object
p1503
aVYou need to pass a StringBuilder instance to your method, and append to this StringBuilder:
p1504
as(dp1505
g23
V571407
p1506
stp1507
a((dp1508
g2
(lp1509
VYou could use a CardLayout, or simply remove the displayed panel and add the one you want to display the the frame content pane
p1510
aVYou need to add an  to each menu item in order to trigger the appropriate change ech time a menu item is clicked
p1511
aVThis is really basic Swing functionality
p1512
aVYou should read the Swing Tutorial
p1513
as(dp1514
g23
V571407
p1515
stp1516
a((dp1517
g2
(lp1518
VOpen a connection to the URL (using URL
p1519
aVopenConnection()), adn the parse the content type returned by the getContentType() method (which should contain the charset)
p1520
aVIf not present in this header, you might have to parse the HTML content and look for a tag such as
p1521
as(dp1522
g23
V571407
p1523
stp1524
a((dp1525
g2
(lp1526
VThere is an article explaining how to use Groovy with Stripes here : http://www
p1527
aVfdaoud
p1528
aVcom/groovy
p1529
aVhtml
p1530
as(dp1531
g23
V571407
p1532
stp1533
a((dp1534
g2
(lp1535
VIf you really want to do it manually (and not use specific tools like Quartz), you could use a Timer, which would be created when the application is deployed and canceled when the application is destroyed, using a ServletContextListener declared in your web
p1536
aVxml
p1537
aVBe prepared for additional complexity if your application is clustered on multiple servers, though
p1538
as(dp1539
g23
V571407
p1540
stp1541
a((dp1542
g2
(lp1543
VIf your SVN repo is accessible through HTTP, you just need to open a HTTP connection to the appropriate URL (and authenticate if necessary), and download the file
p1544
aVIf another protocol is used, then it'll be more complex
p1545
as(dp1546
g23
V571407
p1547
stp1548
a((dp1549
g2
(lp1550
V takes a detached instance () and tries to attach it to the session
p1551
aVIts documentation says that an exception is thrown (the one you're encountering) if another instance of the same entity with the same ID is already associated with the session, which is the case here ()
p1552
aVYou should probably use the  method in order to copy the state of the detached instance to the attached one
p1553
as(dp1554
g23
V571407
p1555
stp1556
a((dp1557
g2
(lp1558
VThe thread pool of a web application is normally handled by the web container running the webapp (Tomcat, Jetty, etc
p1559
aVSee http://tomcat
p1560
aVapache
p1561
aVorg/tomcat-7
p1562
aV0-doc/config/executor
p1563
aVhtml for Tomcat, for example
p1564
as(dp1565
g23
V571407
p1566
stp1567
a((dp1568
g2
(lp1569
V doesn't create a new String containing a copy of the chars in the original string
p1570
aVIt just returns a String object sharing the same char array as the original string, but with a different offset and length
p1571
aVSo your second implementation is similar to the first one, but more complex (because it does what String does internally)
p1572
as(dp1573
g23
V571407
p1574
stp1575
a((dp1576
g2
(lp1577
VWhy don't you normalize your schema, make B an entity of its own, put a surrogate primary key in B, and make a OneToMany relationship between A and B
p1578
aVThis would be much more efficient (no need to delete all and reinsert each time the collection is updated) and you wouldn't have these problems anymore
p1579
as(dp1580
g23
V571407
p1581
stp1582
a((dp1583
g2
(lp1584
VThe stack trace tells you that the NPE occurs at line 46 of the  class, ine the method
p1585
aVThis is certainly the line where you try to invoke a method of the singerdao object
p1586
aVSo this is the property that isn't being injected
p1587
aVAnd it's not surprising, because the Servlet is instantiated by the web container, and not by Spring
p1588
aVSpring doesn't know anything about this servlet, and can't inject anything into it
p1589
as(dp1590
g23
V571407
p1591
stp1592
a((dp1593
g2
(lp1594
VFirst of all, before making it fast, make it correct
p1595
aVWhy is  initialized with the length of the array
p1596
aVIf the array is , the result of your algorithm will be 2 instead of 999
p1597
aVThen, why do you make j go from 0 to the length of the array
p1598
aVYou compare each pair of elements twice
p1599
aVYou should make j go from i + 1 to the length of the array (which will also avoid the i
p1600
aV= j comparison)
p1601
aVFinally, you could gain a few nanoseconds by avoiding calling Math
p1602
aVabs() twice
p1603
aVAnd then, you could completely change your algorithm by sorting the array first, as noted in other answers
p1604
as(dp1605
g23
V571407
p1606
stp1607
a((dp1608
g2
(lp1609
VThis should do it
p1610
as(dp1611
g23
V571407
p1612
stp1613
a((dp1614
g2
(lp1615
VI assume that the servlet, at the end, forwards the request to the JSP
p1616
aVYou should store the objects you want to use in the JSP in the request, as an attribute
p1617
aVIn the action class / servlet :
p1618
aVIn the JSP (using the JSTL) :
p1619
as(dp1620
g23
V571407
p1621
stp1622
a((dp1623
g2
(lp1624
VYou should not use Strings to hold binary data
p1625
aVStrings contain characters
p1626
aVWhen you invoke the String constructor taking a byte array as argument, you build a string based on the default charset of the platform, which transforms the bytes into chars
p1627
aVThe javadoc says
p1628
aVThe behavior of this constructor when
p1629
aVthe given bytes are not valid in the
p1630
aVdefault charset is unspecified
p1631
aVMoreover, the default charset of the sending platform is not necessarily the same as the one of the receiving platform
p1632
aVWhy don't you simply transfer the bytes as a byte array
p1633
as(dp1634
g23
V571407
p1635
stp1636
a((dp1637
g2
(lp1638
VI think you need to use analytic functions to do that
p1639
aVHere is an example for Oracle
p1640
aVIn your cas, the sql query would look like this :
p1641
aVBut You won't be able to use HQL for this kind of query
p1642
as(dp1643
g23
V571407
p1644
stp1645
a((dp1646
g2
(lp1647
VHibernate won't do that for you
p1648
aVThis is business logic and should be coded in a service class, or in the entity itself :
p1649
as(dp1650
g23
V571407
p1651
stp1652
a((dp1653
g2
(lp1654
VFirst of all, the  entity should be named  : it represents one language, and not several
p1655
aVThen, the  column is a foreign key to the  entity
p1656
aVIt should thus be mapped as a ManyToOne relationship to the User entity rather than a basic column
p1657
aVFinally, and to answer your question (I'll assume you want to find the users having at least one user language whose  code is in the  list) : you should use a join :
p1658
as(dp1659
g23
V571407
p1660
stp1661
a((dp1662
g2
(lp1663
VThe  before the  is an escape character
p1664
aVAlthough it's not necessary here because the  is not part of the key, but is part of the value, it doesn't hurt either
p1665
aVUsing Properties
p1666
aVload() to load this properties file will unescape the
p1667
aVYou should not care about the escape
p1668
as(dp1669
g23
V571407
p1670
stp1671
a((dp1672
g2
(lp1673
VUse the facade pattern : create a facade service containing a method for each of the combinations (which should map t a functional use-case), and make these facade methods transactional using the Spring annotation
p1674
aVThe facade methods will just call the existing service methods
p1675
as(dp1676
g23
V571407
p1677
stp1678
a((dp1679
g2
(lp1680
VYou could make your ServiceImpl class implement the BeanFactoryAware interface, and lookup itself thanks to the provided bean factory
p1681
aVBut this is not dependency injection anymore
p1682
aVThe best solution is to put method1 in another service bean, which would be injected in your existing service bean and to which your existing service bean would delegate
p1683
as(dp1684
g23
V571407
p1685
stp1686
a((dp1687
g2
(lp1688
VIt is expected behaviour : the query cache will return the IDs of the entity, and Hibernate will the load the entities themselves
p1689
aVEntities which are queried by a cached query should thus be in the second level entity cache in order for the operation to be beneficial
p1690
aVThis is in the documentation :
p1691
aVNote
p1692
aVThe query cache does not cache the
p1693
aVstate of the actual entities in the
p1694
aVcache; it caches only identifier
p1695
aVvalues and results of value type
p1696
aVFor
p1697
aVthis reaso, the query cache should
p1698
aValways be used in conjunction with the
p1699
aVsecond-level cache for those entities
p1700
aVexpected to be cached as part of a
p1701
aVquery result cache (just as with
p1702
aVcollection caching)
p1703
as(dp1704
g23
V571407
p1705
stp1706
a((dp1707
g2
(lp1708
VIf all the entities can be held in memory without problem, then the problem is easily solved by the second level cache
p1709
aVEach time you want to read data from several of these entities, you just have to execute the request fetching all the entities, and filter the results in Java
p1710
aVIf this unique "fetch all" request is cached in the second level cache, then it will always return the entities from memory, except if an update is executed (in which case the second level cache will throw away its cached values)
p1711
aVYou should also put the entities themselves in the second level cache, and make sure the cache for this entity is able to hold all the entities
p1712
aVThis way, the session
p1713
aVget calls and the navigation through relationships to this entity will also use the second level cache
p1714
aVIn clear, you have reimplemented what the second level cache does for you
p1715
aVWhatever the solution is, it's not possible to avoid returning stale data if some process updates the data behind Hibernate's back
p1716
aVEither you accept this fact (and tune the time to live of the cache in order to limit the stalenesss), or you don't accept it and you have no other choice than querying the database each time you need data
p1717
as(dp1718
g23
V571407
p1719
stp1720
a((dp1721
g2
(lp1722
Vservlets are not created by Guice, but by the servlet container
p1723
aVAnd they are singletons : only one instance is created by the servlet container to serve all the requests of all the clients
p1724
aVSo binding them to session scope has no sense : Guice can not create one different servlet instance per session
p1725
aVA servlet should always be stateless (i
p1726
ag468
aVits state should be global to all the clients, and be accessed in a thread-safe way)
p1727
as(dp1728
g23
V571407
p1729
stp1730
a((dp1731
g2
(lp1732
VModify the task's class so that it takes your GUI as a constructor argument
p1733
aVThis way, when the task is completed, it can invoke the  method
p1734
aVYou should use a SwingWorker for this kind of thing
p1735
aVEDIT :
p1736
aVHere's how the code of the task should be :
p1737
as(dp1738
g23
V571407
p1739
stp1740
a((dp1741
g2
(lp1742
VA relationship can be unidirectional, or bidirectional
p1743
aVThe way you designed it in your Java code, it's bidirectional
p1744
aVThis means that the same physical relationship (materialized by the foreign key) is viewed as two logical relationships :
p1745
aVfrom the book point of view : several books are published by one publisher (ManyToOne)
p1746
aVfrom the publisher point of view : one publisher publishes several books (OneToMany)
p1747
aVThe XML mapping you show in your question describes one side of the relationship
p1748
aVBut if you want to make it bidirectional, you must also declare the other side
p1749
aVOne of the sides is declared as the inverse of the other
p1750
aVHibernate gives you the choice : you could have a collection of books in the publisher class (unidirectional one to many), or a publisher reference in the book class (unidirectional many to one), or both (bidirectional one to many/many to one)
p1751
aVRead the documentation for more details
p1752
as(dp1753
g23
V571407
p1754
stp1755
a((dp1756
g2
(lp1757
VIt's done at runtime, when the JSP is invoked for the first time
p1758
aVSome web servers also come with a JSP compiler allowing to do that at build time, which has two advantages :
p1759
aVIt allows detecting JSP syntax errors at build time rather than runtime
p1760
aVIt avoids the first invocation time penalty (it takes some time compiling JSP to Java and then Java to bytecode)
p1761
as(dp1762
g23
V571407
p1763
stp1764
a((dp1765
g2
(lp1766
VWhen I inspect the computed styles in chrome, the html element's height is 0
p1767
aVThis might explain why the page is blank
p1768
as(dp1769
g23
V571407
p1770
stp1771
a((dp1772
g2
(lp1773
VJava is pass by value
p1774
aVWhen you assign a value to  in myMethod, you assign a new value to a copy of the pointer of the calling code
p1775
aVThe calling code's pointer continues pointing to its initial object, which is null
p1776
aVThis is why Eclipse warns you : you're trying to use objA, which is null, whatever you do in myMethod
p1777
as(dp1778
g23
V571407
p1779
stp1780
a((dp1781
g2
(lp1782
VYou should encode every request parameter with  before putting it into the query string
p1783
aVThe  method is only used to include the session ID into the URL if necessary (URL rewriting if no cookie support by the browser)
p1784
as(dp1785
g23
V571407
p1786
stp1787
a((dp1788
g2
(lp1789
VYou'll have to use JavaScript to get the whole HTML source code of your page (see Get entire document HTML as string and How do I get the entire page's HTML with jQuery
p1790
aV, and submit it (using POST) to the server
p1791
aVBut if the PDF converter also needs the CSS, images etc
p1792
aVto convert the page to PDF, it might be much harder
p1793
aVIn this case, one solution would be to send the current page URL to the server, so that the PDF converter loads this URL and gets everything it needs to do the conversion
p1794
aVThis means however that the page shouldn't be protected, shouldn't be generated by JavaScript, etc
p1795
as(dp1796
g23
V571407
p1797
stp1798
a((dp1799
g2
(lp1800
VThe JSTL jar only contains the standard classes and interfaces of the spec, but no implementation for the tags
p1801
aVAdd this dependency to your pom :
p1802
aVBTW, always look at the generated HTML code to see what's going on
p1803
aVAnd the  tag sets a page scope attribute, not a request scope attribute, so the fact that  outputs something doesn't have anything to do with the  tag placed before
p1804
as(dp1805
g23
V571407
p1806
stp1807
a((dp1808
g2
(lp1809
VI think you need to make the relationships bidirectional, and map the one-to-many as the inverse relationship of the many-to-one
p1810
aVIndeed, if you look at http://docs
p1811
aVjboss
p1812
aVorg/hibernate/core/3
p1813
aV6/reference/en-US/html/inheritance
p1814
aVhtml#inheritance-limitations, you'll note that polymorphic one-to-many is limited to  only in the table per concrete-class strategy
p1815
aVThus, try this :
p1816
aVIn class A :
p1817
aVIn class C :
p1818
as(dp1819
g23
V571407
p1820
stp1821
a((dp1822
g2
(lp1823
VEclipse tries to validate the markup and autocomplete it in the JSP files if you have the WTP (Web Tools Platform) installed
p1824
aVBut even that sometimes doesn't work well because it's difficult to parse HTML containing JSP tags, Javascript, etc
p1825
aVRegarding the Java code : it's bad practice to have Java code in scriptlets in JSPs
p1826
aVYou should only use JSPs for pure presentation logic, and use JSTL and custom tags for that
p1827
aVThe Java code should be in a servlet or action invoked before the JSP
p1828
aVUse an MVC framework (Stripes, Struts, Spring MVC, etc
p1829
aVto separate your Java code from your JSP code
p1830
aVI've used Stripes on app engine with success and pleasure
p1831
aVTo make sure your JSPs are valid, you can be helped by Eclipse, but you should also deploy your webapp (on the local server) and run tests to make sure every JSP compiles and runs correctly
p1832
aVYou can automate these tests with HtmlUnit or Selenium
p1833
as(dp1834
g23
V571407
p1835
stp1836
a((dp1837
g2
(lp1838
VI'm not sure having threads for this would really speed up the process if all the files are on the same physical disk
p1839
aVIt could even slow things down because the disk would have to constantly switch from one location to the other
p1840
as(dp1841
g23
V571407
p1842
stp1843
a((dp1844
g2
(lp1845
VUse the classpath or classpathref attribute in the javac task, or include a nested classpath element, as described in the javac ant task documentation
p1846
aVNote : packages in Java should be in lowercase
p1847
as(dp1848
g23
V571407
p1849
stp1850
a((dp1851
g2
(lp1852
VYou should probably mark the relationship as lazy, so that the children are only loaded when necessary
p1853
aVIf you want to load a node with its children, use a dedicated query :
p1854
as(dp1855
g23
V571407
p1856
stp1857
a((dp1858
g2
(lp1859
VYou need to transform your array of Java objects into something JavaScript understands
p1860
aVThere are two obvious choices : XML (AJAX means Asynchronous Javascript And XML), or JSON
p1861
aVJSON is probably easier and more lightweight
p1862
aVAll the AJAX JavaScript libraries (JQuery, etc
p1863
aVhave good support for JSON
p1864
aVSee http://api
p1865
aVjquery
p1866
aVcom/jQuery
p1867
aVgetJSON/ for example
p1868
aVThere are also several Java APIs to transform Java objects into JSON (look at GSON for example)
p1869
aVYou'll have to modify the content type of the response : it's not text/html, but application/json if you use JSON
p1870
as(dp1871
g23
V571407
p1872
stp1873
a((dp1874
g2
(lp1875
V returns environment variables like PATH or, in your example, TOMCAT_OPTS)
p1876
aVWhen you invoke Java with , you don't set an environment variable : you pass a system property
p1877
aVUse  to get the value of foo
p1878
as(dp1879
g23
V571407
p1880
stp1881
a((dp1882
g2
(lp1883
VThey're not broken here
p1884
aVCould it be that you have some sort of firewall or proxy that removes the Referer request header
p1885
as(dp1886
g23
V571407
p1887
stp1888
a((dp1889
g2
(lp1890
VYour last solution is the right one, IMO
p1891
aVSearch for the keyword type, and if not found, create it
p1892
aVCatching the exception is not a good option because
p1893
aVit's hard to know which exception to catch and make your code portable across JPA and DB engines
p1894
aVThe JPA engine will be in an undetermined state after such an exception, and you should always rollback in this case
p1895
aVNote however that with this technique, you might still have two transactions searching for the same type in parallel, and then try to insert it in parallel
p1896
aVOne of the transaction will rollback, but it will be much less frequent
p1897
as(dp1898
g23
V571407
p1899
stp1900
a((dp1901
g2
(lp1902
VThe JDK comes with a JCE provider supporting RC5
p1903
aVSee http://download
p1904
aVoracle
p1905
aVcom/javase/6/docs/technotes/guides/security/crypto/CryptoSpec
p1906
aVhtml and look for the explanations on the Cipher class to get you started
p1907
aVAlso look at the RC5ParameterSpec class
p1908
as(dp1909
g23
V571407
p1910
stp1911
a((dp1912
g2
(lp1913
VThe constructor of ScreenOne creates a ScreenTwo instance, and the constructor of ScreenTwo creates a ScreenOne instance
p1914
aVYou have an infinite loop here
p1915
as(dp1916
g23
V571407
p1917
stp1918
a((dp1919
g2
(lp1920
VSince your GUI will be composed of HTML pages containing rich ExtJS components offering a JavaScript API, I would opt for an MVC framework (not a component-based one) which easily allows to
p1921
aVgenerate HTML pages
p1922
aVread and generate JSON in order to communicate between the JavaScript components and the server-side
p1923
aVtalk to a database
p1924
aVMost of the Java MVC frameworks qualify (Stripes, Spring MVC, Struts, etc
p1925
aVBut remember : do not put Java code in your JSPs
p1926
aVUse Java actions of your framework for that
p1927
aVJSP should be used only for the HTML generation part
p1928
as(dp1929
g23
V571407
p1930
stp1931
a((dp1932
g2
(lp1933
VYou have two things here : a logger, and an appender
p1934
aVUnfortunately, you chose the same name for both, which doesn't make it very clear
p1935
aVThe logger's minimum level is set to warn, which means everything you log with this logger which doesn't have at least the warn level will be ignored
p1936
aVOnce a message is accepted by the logger, it's sent to one or several appenders (to a file, to the console, to a mail server, etc
p1937
aVEach of these appenders may define a threshold
p1938
aVYou could for example limit the messages in the console to errors, but accept warn messages in the log file
p1939
as(dp1940
g23
V571407
p1941
stp1942
a((dp1943
g2
(lp1944
VThe close method allows releasing resources used by the context instead of waiting for the GC to release them
p1945
aVIt would perhaps be useful for a context needing an open connection to, for example, a database or an external system
p1946
aVBut I'm pretty sure it isn't useful for the java:comp/env context
p1947
aVAnyway, I've never seen any code closing them
p1948
as(dp1949
g23
V571407
p1950
stp1951
a((dp1952
g2
(lp1953
VYou could loop and wait until the total has been computed :
p1954
aVYou could also use a higher-level abstraction like a CountDownLatch
p1955
as(dp1956
g23
V571407
p1957
stp1958
a((dp1959
g2
(lp1960
VThis is not the standard way at all
p1961
aVThis is the bad way
p1962
aVThe way I use most of the time is this one :
p1963
aVThe code in the finally block can be put in a helper method, or you can use commons IO to close the stream quietly, as noted in other answers
p1964
aVA stream must always be closed in a finally block
p1965
aVNote that JDK7 will make it much easier with the new syntax, which will automatically close the stream at the end of the try block :
p1966
as(dp1967
g23
V571407
p1968
stp1969
a((dp1970
g2
(lp1971
VAFAIK, Android is based on Apache Harmony
p1972
aVI found the source code of the the Observable implementation of Harmony here : http://www
p1973
aVjava2s
p1974
aVcom/Open-Source/Java-Document/Apache-Harmony-Java-SE/java-package/java/util/Observable
p1975
aVjava
p1976
aVhtm
p1977
aVIt seems to me that the tried to make it thread-safe, but failed : they forgot to synchronize the countObservers method, as well as the set/has/clearChanged methods
p1978
as(dp1979
g23
V571407
p1980
stp1981
a((dp1982
g2
(lp1983
VCalling cancel with true as argument will interrupt the thread, using the Thread
p1984
aVinterrupt method
p1985
aVSo if your thread is waiting, sleeping or joining, an InterruptedException will be thrown
p1986
aVElse, the thread's interrupt status will be set
p1987
aVIf you swallow the InterruptedException, the thread will continue until its end
p1988
aVIf the thread is running (i
p1989
ag468
aVnot waiting, sleeping or joining) when it's interrupted, it will continue running as well
p1990
aVYou must regularly check the interrupted status of the thread (using ) in your background task and stop executing as soon as it returns true
p1991
as(dp1992
g23
V571407
p1993
stp1994
a((dp1995
g2
(lp1996
VYou could use the exec ant task :
p1997
as(dp1998
g23
V571407
p1999
stp2000
a((dp2001
g2
(lp2002
VUse a list of buttons (or even an array of buttons) :
p2003
as(dp2004
g23
V571407
p2005
stp2006
a((dp2007
g2
(lp2008
VYou'll need to communicate with the Java process in one way or another
p2009
aVAs a web service is too heavy, you could simply communicate over a socket with a custom text or binary protocol
p2010
aVOr you could also perhaps make the Java program write to a database every n seconds, and read from the database in your PHP script
p2011
aVEDIT :
p2012
aVLook at http://www
p2013
aVphp
p2014
aVnet/manual/en/sockets
p2015
aVexamples
p2016
aVphp for a socket client example in PHP
p2017
aVLook at http://download
p2018
aVoracle
p2019
aVcom/javase/tutorial/networking/sockets/clientServer
p2020
aVhtml for a server socket example in Java
p2021
as(dp2022
g23
V571407
p2023
stp2024
a((dp2025
g2
(lp2026
VCSV is in no way a standard, and Java has no standard support for it
p2027
aVNo wonder your big book doesn't talk about it
p2028
aVI'd suggest using OpenCSV to write CSV
p2029
aVThe CSVWriter's constructor has a separator argument
p2030
aVEDIT :
p2031
aVYou had this same answer in the question you just asked one hour ago : Java write to CSV that contains comma
p2032
as(dp2033
g23
V571407
p2034
stp2035
a((dp2036
g2
(lp2037
Vorg
p2038
aVhibernate
p2039
aVejb
p2040
aVHibernatePeristence
p2041
aVshould probably be replaced by
p2042
as(dp2043
g23
V571407
p2044
stp2045
a((dp2046
g2
(lp2047
VIf you receive your mails using IMAP, then you could write a Java application and use JavaMail to connect to the IMAP server, get the mail, and extract data from the attachments
p2048
as(dp2049
g23
V571407
p2050
stp2051
a((dp2052
g2
(lp2053
VYes, there is a difference
p2054
aVIn the first loop, the size() method is only called once
p2055
aVIn the second one, it's called at each iteration
p2056
aVIf the iteration modifies the size of the collection (which is very very uncommon), the second one is needed
p2057
aVIn most cases, you should prefer the first one, but limit the scope of the size variable :
p2058
aVBut most of the time, you should prefer the foreach syntax anyway :
p2059
aVwhich will iterate over the array or collection efficiently, even for a LinkedList for example, where indexed access is not optimal
p2060
as(dp2061
g23
V571407
p2062
stp2063
a((dp2064
g2
(lp2065
VThe description of the pattern you linked to doesn't have a fixed set of keys, so I'm not sure you could call it a Multiton if you have a fixed set of keys
p2066
aVBut if we accept it, then yes, enum instances each are a singleton
p2067
aVRemember that enums are objects : they can have state and methods
p2068
as(dp2069
g23
V571407
p2070
stp2071
a((dp2072
g2
(lp2073
VYou should never return from a finally block
p2074
aVThis is very bad practice
p2075
aVSee Java try-finally return design question and In Java, does return trump finally
p2076
as(dp2077
g23
V571407
p2078
stp2079
a((dp2080
g2
(lp2081
VAs the documentation shows, you're right : there is no way to get the text from the matcher or to know if a matching operation has been executed
p2082
aVYou could encapsulate the matcher inside a custom rusable class holding the state for you :
p2083
as(dp2084
g23
V571407
p2085
stp2086
a((dp2087
g2
(lp2088
VSince the SERVICE_USER table is not a pure join table, but has additional functional fields (blocked), you must map it as an entity, and decompose the many to many association between User and Service into two OneToMany associations : One User has many UserServices, and one Service has many UserServices
p2089
aVYou haven(t shown us the most important part : the mapping and initialization of the relationships between your entities (i
p2090
ag468
aVthe part you have problems with)
p2091
aVSo I'll show you how it should look like
p2092
aVIf you make the relationships bidirectional, you should thus have
p2093
aVIf you don't put any cascade on your relationships, then you must persist/save all the entities
p2094
aVAlthough only the owning side of the relationship (here, the UserService side) must be initialized, it's also a good practice to make sure both sides are in coherence
p2095
as(dp2096
g23
V571407
p2097
stp2098
a((dp2099
g2
(lp2100
VBasically, it's just a matter of having a reference to frame A in frame B, and a reference to frame B in frame A :
p2101
aVMost of the time, interfaces are introduced to decouple the frames (listeners, etc
p2102
aV, or a mediator is used in order to avoid too much linkings between all the frames, but you should get the idea
p2103
as(dp2104
g23
V571407
p2105
stp2106
a((dp2107
g2
(lp2108
VYou have two lines at the beginning of your script which seem to already detect if the browser is IE
p2109
aVWhy not use that as a base for your if statement :
p2110
as(dp2111
g23
V571407
p2112
stp2113
a((dp2114
g2
(lp2115
VEscaping , ,  and  should be sufficient
p2116
as(dp2117
g23
V571407
p2118
stp2119
a((dp2120
g2
(lp2121
VIn the google group thread http://groups
p2122
aVgoogle
p2123
aVcom/group/google-appengine-java/browse_thread/thread/d3f1536084f59c22, Ikai Lan (from the GAE team at Google) says MemcacheService is thread-safe, but that caching it is not useful, because there is just one object allocation each time you get the service from the factory
p2124
aVSince all the services are obtained in a similar way, I think we could assume that they all follow the same design and are all thread-safe
p2125
aVBut since it isn't costly to get a new instance at each query, I wouldn't cache them
p2126
as(dp2127
g23
V571407
p2128
stp2129
a((dp2130
g2
(lp2131
VYou could have a program table (presenter, description, etc
p2132
aV, having a one-to-many relationship to a schedule table (day, start time, end time)
p2133
aVThen, you just have to query for all the schedules of a given program, ordered by day, and detect similar start/end times for consecutive days to present them on one line
p2134
as(dp2135
g23
V571407
p2136
stp2137
a((dp2138
g2
(lp2139
VThese characters are control characters
p2140
aVThey're not meant to be written or read by humans, but by computers
p2141
aVYou should treat them in your program like any other character
p2142
as(dp2143
g23
V571407
p2144
stp2145
a((dp2146
g2
(lp2147
VYou're looking for the live() function, which attaches an event handler to all the elements matching a selector, now and in the future
p2148
as(dp2149
g23
V571407
p2150
stp2151
a((dp2152
g2
(lp2153
VHere's the algorithm you could implement :
p2154
aVCreate your 3 output arrays
p2155
aVThey should all have the same length as the original string array
p2156
aViterate through your original array
p2157
aVfor each string, find the index of the first space character and the index of the last space character
p2158
aV(look into the javadoc of the String class for methods doing that)
p2159
aVextract the substring before the first space, the substring between the first and last space, and the substring after the last space
p2160
aVThe javadoc should help you
p2161
aVConvert the first and third substring into an int (see the javadoc for Double for how to do it)
p2162
aVstore the doubles and the string into the ouput arrays
p2163
as(dp2164
g23
V571407
p2165
stp2166
a((dp2167
g2
(lp2168
VYou could get the bounds of the component you want to make visible (using JComponent's getBounds method), and use that as an input to JViewPort's scrollRectToVisible method
p2169
as(dp2170
g23
V571407
p2171
stp2172
a((dp2173
g2
(lp2174
VAdd an  to every internal frame you create, and listen for  events
p2175
aVThe event contains the frame which has been activated
p2176
aVAsk this internal frame its state, to know if it has been built, and enable/disable the menu items accordingly
p2177
as(dp2178
g23
V571407
p2179
stp2180
a((dp2181
g2
(lp2182
VAdd a boolean property allMarksGreaterThan60 in your entity, and recompute its value each time one of the marks changes
p2183
as(dp2184
g23
V571407
p2185
stp2186
a((dp2187
g2
(lp2188
VInstall a web server on your machine, and do all your development and tests locally on your machine
p2189
aVWhen the application is ready, deploy it on your remote server
p2190
aVYou don't have to compile it on the server
p2191
aVJava bytecode is portable across OSes and machines
p2192
aVYou can build your war file on your machine and send it to the remote server
p2193
as(dp2194
g23
V571407
p2195
stp2196
a((dp2197
g2
(lp2198
VEverything you do with Swing components should be done on the event dispatch thread (EDT) (i
p2199
ag468
aVthe thread used by Swing to call your events)
p2200
aVYou should launch threads to perform lengthy background operations
p2201
aVIn your code, you do the reverse : you try showing the dialog in another thread, and perform the long operation in the EDT
p2202
aVHere's the fixed code :
p2203
aVYou should read this tutorial, and learn to use SwingWorker for background tasks
p2204
as(dp2205
g23
V571407
p2206
stp2207
a((dp2208
g2
(lp2209
VYou can't read and write to the same file like this
p2210
aVThe FileWriter constructor is used to write to a file and replace all its contents
p2211
aVEIther read everything in memory, and then write to the file, or write to another temp file, and remove the original file and rename the temp file when you're done
p2212
as(dp2213
g23
V571407
p2214
stp2215
a((dp2216
g2
(lp2217
VThe nextOccurreence returned by one of the events you're camparing is null
p2218
aVFix the comparator (or the AbstractEvent class) to handle the situation
p2219
aVNote that the code of your comparator is more complex than it should be
p2220
aVYou could reduce it to
p2221
as(dp2222
g23
V571407
p2223
stp2224
a((dp2225
g2
(lp2226
VIf you have more and more types of things to parse, instead of overloading the parse method, you should introduce an interface :
p2227
aVThe MessageObject would implement Parseable, and you could use an anonymous adapter class for String objects :
p2228
as(dp2229
g23
V571407
p2230
stp2231
a((dp2232
g2
(lp2233
VYou could test that
p2234
aVgetting a connection when the pool is empty gives you a connection
p2235
aVgetting a connection when a connection has already been got and not released gives you another, different connection
p2236
aVreleasing a connection doesn't throw any exception
p2237
aVgetting a connection after one has been released gives you the same connection
p2238
aVNote that such a unit test would need a real database, with a real user and password to test
p2239
aVYou could make your connection pool depend on a DataSource, and build your ConnectionPool using a mock DataSource returning mock Connections, in order to be able to test the class without depending on a real database
p2240
as(dp2241
g23
V571407
p2242
stp2243
a((dp2244
g2
(lp2245
VUse a DatagramChannel to read your UDP packets, and interrupt the reading thread
p2246
aVAs per the documentation of Thread
p2247
aVinterrupt (and DatagramChannel), the read operation will then throw a ClosedByInterruptException
p2248
as(dp2249
g23
V571407
p2250
stp2251
a((dp2252
g2
(lp2253
VSelect the project in the package tree, and hit Ctrl-Shift-O
p2254
aVIt will organize the imports for all the files of the project
p2255
as(dp2256
g23
V571407
p2257
stp2258
a((dp2259
g2
(lp2260
VIf your plain text is a URL (which is different from containing a hyperlink, as you wrote in your question), then transforming it into a hyperlink in HTML is simply done by
p2261
as(dp2262
g23
V571407
p2263
stp2264
a((dp2265
g2
(lp2266
VStore the count in another entity (named Statistics for example), and modify your application so that the stored count is updated each time a new entity is inserted or deleted
p2267
as(dp2268
g23
V571407
p2269
stp2270
a((dp2271
g2
(lp2272
VYou should not change the client : you should change the design of your app
p2273
aVHTMLUnit does what any real browser would do in this case : reject the cookie
p2274
aVA web site may not set a cookie for another domain, for security (and privacy) reasons
p2275
as(dp2276
g23
V571407
p2277
stp2278
a((dp2279
g2
(lp2280
VHashtable (which, BTW, was badly named - it should have been HashTable) is synchronized, which makes it less efficient than it could be in most of its uses, where synchronization isn't needed
p2281
aVIt also doesn't allows null in keys and values, whereas HashMap allows them
p2282
aVNote that this is mentioned in the first sentence of the javadoc of HashMap
p2283
as(dp2284
g23
V571407
p2285
stp2286
a((dp2287
g2
(lp2288
VRead the explanations from Google
p2289
aVThe search engines access your data as any other user of your website : by browsing it and clicking all the links they find
p2290
aVContent accessible only through AJAX will be more difficult to make accessible by search engines
p2291
aVAccess can be restricted using a robots
p2292
aVtxt file
p2293
aVExplanations are given in the link given above
p2294
as(dp2295
g23
V571407
p2296
stp2297
a((dp2298
g2
(lp2299
VWhy don't you simply create it in the constructor of your master entity, and set cascade=persist on the relationship
p2300
aVEDITED :
p2301
aVTo avoid creating a new invoice each time the Order's constructor is invoked (by JPA, for example), you could use this kind of code :
p2302
aVIf the order is persisted after having been instanciated by the factory method, then the invoice will be persisted as well (thanks to the cascade)
p2303
aVIf the order is not persisted, then it will be garbage collected at some point, and its default invoide as well
p2304
as(dp2305
g23
V571407
p2306
stp2307
a((dp2308
g2
(lp2309
VYou could use Spring's PathMatchingResourcePatternResolver
p2310
as(dp2311
g23
V571407
p2312
stp2313
a((dp2314
g2
(lp2315
VI doubt it's caused by OutOfMemoryError
p2316
aVMaybe you have the unlimited strength policy file installed on the Ubuntu server and not on the Windows one
p2317
aVThis policy file is needed in order to have strong cryptographic keys
p2318
aVSee http://www
p2319
aVoracle
p2320
aVcom/technetwork/java/javase/downloads/index
p2321
aVhtml (at the end of the page) to download it and see if it makes a difference (there is a README inside the zip file explaining how to install it)
p2322
as(dp2323
g23
V571407
p2324
stp2325
a((dp2326
g2
(lp2327
VYou could use the @ResponseBody or return an HttpEntity from your controller method
p2328
aVSee http://static
p2329
aVspringsource
p2330
aVorg/spring/docs/3
p2331
aV0
p2332
aVx/reference/mvc
p2333
aVhtml#mvc-ann-responsebody for details
p2334
as(dp2335
g23
V571407
p2336
stp2337
a((dp2338
g2
(lp2339
VFor this to work, you must have a relationship (I assume it is a ManyToOne, since there seems to be several rows in table A which have the ID of table B) from EntityMappedToTableA to EntityMappedToTableB :
p2340
as(dp2341
g23
V571407
p2342
stp2343
a((dp2344
g2
(lp2345
VThe reference manual says that you can embed a relationship inside an embedded ID :
p2346
aVWhile not supported in JPA, Hibernate
p2347
aVlets you place your association
p2348
aVdirectly in the embedded id component
p2349
aVYou should thus define a Project2User2Role entity with an ID of type Project2User2RoleId:
p2350
aVThe Project2User2RoleId class would look like this :
p2351
as(dp2352
g23
V571407
p2353
stp2354
a((dp2355
g2
(lp2356
VSince you seem to be using Spring, you could define a singleton LockInterceptor, and put it in your interceptor stack before the transaction interceptor
p2357
aVThis interceptor would be very simple :
p2358
as(dp2359
g23
V571407
p2360
stp2361
a((dp2362
g2
(lp2363
VThis is all explained here
p2364
aVHere's an extract of relevance:
p2365
aVDeactivating Expression Evaluation
p2366
aVBecause the patterns that identify EL expressions,  and , were not reserved in the JSP specifications before JSP 2
p2367
aV0, there might exist applications in which such patterns are intended to pass through verbatim
p2368
aVTo prevent the patterns from being evaluated, you can deactivate EL evaluation using one of the following methods:
p2369
aVEscape the  or  characters in the page
p2370
aVConfigure the application with a JSP Property Group
p2371
aVConfigure the page with the page directive
p2372
aVTo escape the  or  characters in the page, you use the  character as follows:
p2373
as(dp2374
g23
V571407
p2375
stp2376
a((dp2377
g2
(lp2378
VIf a method needs a  as argument, give it a , not a String :
p2379
as(dp2380
g23
V571407
p2381
stp2382
a((dp2383
g2
(lp2384
VAdd the property to the class, but make it lazy (using the  annotation)
p2385
aVMake sure your classes are instrumented at build time: it's needed for this to work
p2386
aVMore details are available in this chapter of the documentation
p2387
as(dp2388
g23
V571407
p2389
stp2390
a((dp2391
g2
(lp2392
VStoring, in database, instances of Java objects generated by JAXB from an evolving XML schema doesn't make much sense, IMHO
p2393
aVThe goal of a relational database is to store data, in a well-defined relational structure, in order to be able to query it easily
p2394
aVIf all you want is to be able to get back the XML document you received some time before, as is, just store it as a clob in some table, or in the file system
p2395
aVIf storing the data in database in a structured way is really needed, then design your database schema first, then design the JDO classes needed to map this database schema, and implement the business logic needed to transform your JAXB objects into JDO objects in order to store them in database
p2396
aVBut I would think more about what functionality you want to implement before thinking about the technologies you want to use
p2397
as(dp2398
g23
V571407
p2399
stp2400
a((dp2401
g2
(lp2402
VIt seems to me that you want to update the quizz, even if someone else has updated it behind your back (which throws the optimistic exception)
p2403
aVIf that's the case, why do you enable optimistic logking on this entity
p2404
aVJust remove the version field, and it will work without even retrying
p2405
aVIf you really want to keep the version field, then change the method so that it gets the quizz from DB, copies the version number of the freshly loaded quizz to your detached instance, and then merge the detached instance to copy all the new values to the attached one
p2406
as(dp2407
g23
V571407
p2408
stp2409
a((dp2410
g2
(lp2411
VIf you want to call the  method on the  object, then the syntax is
p2412
aV, not
p2413
aVAlso, 's return type is void
p2414
aVYou can't return an int value from a void method
p2415
aVIf you want to display the number of books, use  (to log it in the console), or use a JOptionPane to display it in a dialog box, as you're doing in your commented code :
p2416
as(dp2417
g23
V571407
p2418
stp2419
a((dp2420
g2
(lp2421
VIn your popup window, your JavaScript code may have a reference to the main window thanks to the  property
p2422
aVYou could thus call  when the new thing has been added
p2423
as(dp2424
g23
V571407
p2425
stp2426
a((dp2427
g2
(lp2428
VJava is case sensitive
p2429
aVJframe is not the same as JFrame
p2430
as(dp2431
g23
V571407
p2432
stp2433
a((dp2434
g2
(lp2435
VHere's how I would try to implement it :
p2436
aVAdd a MouseListener and MouseMotionListener to your JList
p2437
aVWhen the mouser enters in the list, start a thread waiting for a certain delay (half a second)
p2438
aVWhen the mouse is moved or dragged, restart waiting for the delay
p2439
aVWhen the mouse exits the JList, cancel the thread
p2440
aVUse these listeners to track the mouse position as well
p2441
aVOnce the delay has been met (which should thus mean that the mouse has stayed on the list, without moving, for the whole delay), then use SwingUtilities
p2442
aVinvokeLater to show the information box
p2443
aVYou can use JList's locationToIndex to determine which row the mouse is hovering on
p2444
as(dp2445
g23
V571407
p2446
stp2447
a((dp2448
g2
(lp2449
VYUI won't be able to read a Java serialized object (binary data, with a Java specific format)
p2450
aVYou should use an open format, readable from JavaSCript, like XML or JSON, to transfer your object
p2451
as(dp2452
g23
V571407
p2453
stp2454
a((dp2455
g2
(lp2456
VLook at getValueIsAdjusting
p2457
aVReturns whether or not this is one in
p2458
aVa series of multiple events, where
p2459
aVchanges are still being made
p2460
aVOnly print "selected" when this method returns false
p2461
as(dp2462
g23
V571407
p2463
stp2464
a((dp2465
g2
(lp2466
VYou generate multiple fields having the same name, since your code is inside a  tag
p2467
aVYou should obviously have such a loop in your Javascript as well :
p2468
aVAlso, verify the the value is not blank in the generated HTML, and that the hidden fields'a name is hiddenname
p2469
as(dp2470
g23
V571407
p2471
stp2472
a((dp2473
g2
(lp2474
VThe data is usually returned to the browser as
p2475
aVHTML markup (presentation + data), by simply forwarding to a JSP, or
p2476
aVXML (data only), by generating XML in the servlet (using JAXB for example) and sending it in the response writer
p2477
aVJSON (data only), by generating JSON (using GSON for example) in the servlet and sending it in the response writer
p2478
aVJavaScript is able to digest these three kinds of data and update the contents of the displayed page
p2479
as(dp2480
g23
V571407
p2481
stp2482
a((dp2483
g2
(lp2484
VIt's usually fast enough, and can be faster than a custom JDBC-based solution
p2485
aVBut as all tools, you have to use it correctly
p2486
aVFast doesn't mean anything
p2487
aVYou have to define maximum response time, minimum throughput, etc
p2488
aV, then measure if the solution meets the requirements, and tune the app to meet them if it doesn't
p2489
aVRegarding joins vs
p2490
aVmultiple queries, it all depends
p2491
aVUsually, joins are obviously faster, since they require only one inter-process/network roundtrip
p2492
as(dp2493
g23
V571407
p2494
stp2495
a((dp2496
g2
(lp2497
VThe following code works perfectly
p2498
aVBut your maps should probably be instances of a specific class
p2499
as(dp2500
g23
V571407
p2501
stp2502
a((dp2503
g2
(lp2504
VLearn what methods are by reading this part of the Java tutorial
p2505
aVImplement a method taking one URL as argument and processing it
p2506
aVLearn how to read a text file by reading this part of the Java tutorial
p2507
aVImplement a method to read the text file line by line, and call your first method for each line read in the file
p2508
as(dp2509
g23
V571407
p2510
stp2511
a((dp2512
g2
(lp2513
VYou can't use the expression language (i
p2514
ag468
aV) in plain HTML files
p2515
aVIt'll only be interpreted in JSPs (files with a  extension)
p2516
as(dp2517
g23
V571407
p2518
stp2519
a((dp2520
g2
(lp2521
VYou should define your own table model, by extending AbstractTableModel, or DefaultTableModel
p2522
aVJust override  and make it return
p2523
as(dp2524
g23
V571407
p2525
stp2526
a((dp2527
g2
(lp2528
VHere are my answers :
p2529
aVUse mock DAOs to test your services
p2530
aVMuch easier, mush faster
p2531
aVUse EasyMock or Mockito or any other mock framework to test the service layer
p2532
aVGive each developer its own database schema to execute his tests
p2533
aVSuch schemas are typically empty : the unit tests populate the database with a small test data set before running a test, and empties it once the test is completed
p2534
aVUse DBUnit for this
p2535
aVIf the reads work against a well-defined, static, test data set (which you should unit-test), then you can rely on them to unit-test the writes
p2536
aVBut you can also use ad-hoc queries or even DBUnit to test that the writes work as expected
p2537
aVThe fact that the tests are not necessarily run in this order doesn't matter
p2538
aVIf everything passes, then everything is OK
p2539
as(dp2540
g23
V571407
p2541
stp2542
a((dp2543
g2
(lp2544
VThe case-sensitivity of the like operator, in MySQL, depends on the type of the columns and on their collation (see http://dev
p2545
aVmysql
p2546
aVcom/doc/refman/5
p2547
aV5/en/case-sensitivity
p2548
aVhtml)
p2549
aVHibernate is "just" a layer on top of SQL
p2550
aVThe contract of the like operator is to issue a SQL like operator
p2551
aVIf you want it to be the same for MySQL and PostgreSQL, then choose the right types and collations in the database schemas
p2552
aVBut Hibernate can't magically make all the databases use the same rules
p2553
aVDesign your application, choose  and design your database so that the behavior you observe is the behavior you expect
p2554
aVPS : but I agree that the javadoc of Hibernate is
p2555
aVperfectible
p2556
as(dp2557
g23
V571407
p2558
stp2559
a((dp2560
g2
(lp2561
VThe syntax for bulk insertstatements is described here
p2562
aVBut this will only work if you try to insert into a table mapped to en entity
p2563
aVIf WebsiteAction is just a join table, I think you'll have to use SQL rather than HQL
p2564
as(dp2565
g23
V571407
p2566
stp2567
a((dp2568
g2
(lp2569
Vfindjar
p2570
aVcom does that
p2571
aVBut it can't find this class
p2572
as(dp2573
g23
V571407
p2574
stp2575
a((dp2576
g2
(lp2577
VThe scrollbars of a JScrollPane appear if the size of the viewport become smaller than the preferred size of its view component
p2578
aVSet the preferred size of the panel in the scroll pane, or set the preferred size of each of the editor panes :  the preferred size of the panel will be the composition of the preferred sizes of the editor panes (sum of the preferred height, and max of the preferred widths)
p2579
as(dp2580
g23
V571407
p2581
stp2582
a((dp2583
g2
(lp2584
VYou shouldn't try to read what the user enters in the message dialog, when an exception occurs : a message dialog is not meant to input anything
p2585
aVThat's why showMessageDialog returns void, and not String like showInputDialog
p2586
aVReplace
p2587
aVwith
p2588
aVAlso, note that you should always pass a parent component in the showXXXDialog, in order for the dialog to be modal (i
p2589
ag468
aVto block the access) to the frame of this component
p2590
aVHave you read the javadoc of JOptionPane
p2591
aVHave you read the tutorial about dialogs
p2592
as(dp2593
g23
V571407
p2594
stp2595
a((dp2596
g2
(lp2597
VHave you identified a performance problem
p2598
aVIf not, then don't do anything
p2599
aVAre you sure that the physical distribution of the files on the disk is the cause of this performance problem
p2600
aVIf not, then measure where the time is spent in your application, and try to improve the algorithms, introduce caches if necessary
p2601
aVIf you have done all this, and are sure it's the physical distribution of the files on the disk that's causing the performance problem, have you thought about buying a faster disk, or about using several ones
p2602
aVHardware is often much cheaper than development time
p2603
aVI very much doubt the physical distribution of the files on the disk has a significant impact on the performance of your app
p2604
aVI would search elsewhere first
p2605
as(dp2606
g23
V571407
p2607
stp2608
a((dp2609
g2
(lp2610
VYou can't create a subcriteria on an embedded object
p2611
aVCreating a subcriteria maps to adding a join to the SQL query
p2612
aVYou don't create joins on embedded fields
p2613
aVAlso, please use constants rather than magic values for your join types :
p2614
aVis much more readable than
p2615
aVYou haven't shown us your entities and their relationships, but his code might work better:
p2616
as(dp2617
g23
V571407
p2618
stp2619
a((dp2620
g2
(lp2621
VYou never print any space character
p2622
aVYou print an empty String
p2623
aVReplace
p2624
aVwith
p2625
aVAlso, you write a newline after each column rather than writing one after each row
p2626
as(dp2627
g23
V571407
p2628
stp2629
a((dp2630
g2
(lp2631
VThis is expected behaviour, and is one of the main reasons to use REQUIRES_NEW :
p2632
aVbe able to rollback the new transaction, but commit the outer one
p2633
aVbe able to commit the new transaction, but rollback the outer one
p2634
aVre-populate the database between tests is probably the best solution, and I would use this solution for all the tests: this allows tests to check that everything works correctly, including the commit (which could fail due to flushing, deferred constraints, etc
p2635
aVBut it you really want to rollback the transaction, a solution would be to add a boolean argument  to your service, and rollback the transaction if this argument is true
p2636
as(dp2637
g23
V571407
p2638
stp2639
a((dp2640
g2
(lp2641
VIf the Box ia a simple serializable class, then its state is simply serialized, sent on the wire, and deserialized on the client when getBox is called
p2642
aVThe client thus modifies a copy of the box, and not the original one
p2643
aVIf you want the modified box to be on the server, then either send it back to the server (), or make the Box a remote object (by making it a remote interface Box, implemented by a BoxImpl concrete class extending UnicastRemoteObject)
p2644
as(dp2645
g23
V571407
p2646
stp2647
a((dp2648
g2
(lp2649
VIf you want to transform an array of strings ()  into a linked list, then use this code :
p2650
aVBut a method should almost never take a LinkedList as argument
p2651
aVIt should take a List
p2652
aVUse interfaces rather than concrete classes for your arguments : it allows your method to work with other kinds of lists
p2653
as(dp2654
g23
V571407
p2655
stp2656
a((dp2657
g2
(lp2658
VIf the server really dumps data forever, the client will never be blocked in a read operation
p2659
aVYou might thus regularly check (between reads) if the current time minus the start time has exceeded your configurable delay, and stop reading if it has
p2660
aVIf the client can be blocked in a synchronous read, waiting for the server to output something, then you might use a SocketChannel, and start a timer thread that interrupts the main reading thread, or shuts down its input, or closes the channel
p2661
as(dp2662
g23
V571407
p2663
stp2664
a((dp2665
g2
(lp2666
VUse a
p2667
aVThe doInBackground method of the SwingWorker should look like this :
p2668
aVThe keylistener should simply cancel the SwingWorker
p2669
as(dp2670
g23
V571407
p2671
stp2672
a((dp2673
g2
(lp2674
VUnless the foo must stay in the same order, you could replace your list of foos with a
p2675
aVSearching for an existing foo would become a O(1) operation rather than a O(n) operation
p2676
aVEven if the foos must stay ordered, you could use a LinkedHashMap
p2677
as(dp2678
g23
V571407
p2679
stp2680
a((dp2681
g2
(lp2682
VThe common way to do this is to associate a unique random key to your users, store it in a persistent cookie (use  with the number of seconds you want this cookie to stay valid), and send this cookie to the user
p2683
aVLook in the javadoc for  (to send a cookie to the user), and for  (to get back the cookie from the client)
p2684
as(dp2685
g23
V571407
p2686
stp2687
a((dp2688
g2
(lp2689
VIf I understand correctly, you would like to generate queries dynamically, depending on the value of input fields
p2690
aVThere are frameworks helping to do that, like MyBatis
p2691
aVBut you could roll your own solution with prepared statements :
p2692
aVYou could make it even better by supporting SQL types, by using the builder pattern, etc
p2693
aV, but you should get the idea with this simple example
p2694
as(dp2695
g23
V571407
p2696
stp2697
a((dp2698
g2
(lp2699
VArrays have a fixed length in Java
p2700
aVIf you want a dynamic-length array, rather than programming it from scratch, you should use the one given for you in the standard API : java
p2701
aVutil
p2702
aVArrayList
p2703
aVLook at its documentation here : http://download
p2704
aVoracle
p2705
aVcom/javase/6/docs/api/java/util/ArrayList
p2706
aVhtml
p2707
aVThis class is part of the Java collections API, which is a must-know for any Java programmer
p2708
aVLearn to use them in the Java tutorial
p2709
aVRather than a , you would have a list of s :
p2710
aVYou can add a new record with
p2711
aVand the array wrapped by the array list will automatically grow if needed
p2712
aVAnd you can access to a specific index with
p2713
aVYou can also iterate on the list as you would with an array :
p2714
as(dp2715
g23
V571407
p2716
stp2717
a((dp2718
g2
(lp2719
VWhen you get an exception in Java, a stack trace is generated
p2720
aVThe first line of the stack trace is the message of the exception, and the second line, wiich starts with , shows you exactly where in the code this exception has been thrown (class, method an line number in the source file)
p2721
aVLook at this location, and try to find why the exception occurs
p2722
aVA NullPointerException, in 99% of the cases, means that you're trying to call a method or access a field on a null reference (i
p2723
ag468
aVa variable which has never been initialized)
p2724
aVSo, try to find it yourself, or give us the stack trace and tell you to what line in the code the line number points to, so that we can help you more
p2725
as(dp2726
g23
V571407
p2727
stp2728
a((dp2729
g2
(lp2730
s(dp2731
g23
V571407
p2732
stp2733
a((dp2734
g2
(lp2735
VFirst of all,  should be spelt , and it should return a List, not a String, obviously
p2736
aVNow suppose the servlet or action sets an attribute "b" of type B like this :
p2737
aVand then forwards to a JSP, you can access the list in the attribute "b" like this:
p2738
aVYou must refer to the B instance by the name of the request attribute, not by its class name
p2739
aVIf you name the attribute foo, then use must use
p2740
aVThis will simply print to toString of the list
p2741
aVIf you want to get the element at index 3 of the list, you can use
p2742
aVAnd if you want to iterate over the list elements, use the c:forEach construct:
p2743
as(dp2744
g23
V571407
p2745
stp2746
a((dp2747
g2
(lp2748
VBecause inheritance is a is a relationship
p2749
aVAnyone could refer to a instance of  through a reference to  :
p2750
aVWhat would the program do if you called the foo method on the v reference
p2751
aVYou broke the public contract of One, which guarantees that every instance of One has a (here package-protected) foo method
p2752
aVThat's why the compiler forbids it
p2753
as(dp2754
g23
V571407
p2755
stp2756
a((dp2757
g2
(lp2758
VThe  list contains elements with name "current_conditions" (i
p2759
ag468
aVthe node  in the XML)
p2760
aVYou need to get the sub-element named "condition" (i
p2761
ag468
aVthe node  in the XML), and then get its  attribute
p2762
as(dp2763
g23
V571407
p2764
stp2765
a((dp2766
g2
(lp2767
VIf the getter is private, and doesn nothing more than returning a private variable, it isn't needed, IMHO (i
p2768
ag468
aVI prefer the second method of accessing it)
p2769
aVBut if the getter was public and not final, and could thus be redefined by a subclass, then you'd have to decide if you want to get the potentially overridden value returned by the getter, or if you want the value of the private field in the display method
p2770
as(dp2771
g23
V571407
p2772
stp2773
a((dp2774
g2
(lp2775
V10 fast queries can be better than 1 slow one
p2776
aVDefine what's acceptable in terms of response time, throughput, in normal and peek traffic conditions, and measure if these 10 queries are a problem or not (i
p2777
ag468
aVdon't respect your expectations)
p2778
aVIf they are, then try to change your design and find a better solution
p2779
as(dp2780
g23
V571407
p2781
stp2782
a((dp2783
g2
(lp2784
VYou should define work and doesn't work more precisely
p2785
aVWhat's the protocol between the client and the server
p2786
aVWhat do you expect to happen and what do you observe
p2787
aVI suspect the server is simply waiting for a newline character to appear in its input before doing anything
p2788
aVIf that's the case, then of course flushing the writer at client side before sending the newline won't help
p2789
as(dp2790
g23
V571407
p2791
stp2792
a((dp2793
g2
(lp2794
VWith so many simultaneous users (a situation I confess I've never encountered myself), what I think is the most important is to be able to load-balance your charge across many web servers
p2795
aVIf you want failover (which is probably a must-have), this means that you must be very careful about state : the more state you have, the more memory you need, and the more difficult it is to handle failover between servers : either you need to persist the session state in a location that is common to all the servers, or you need to replicate the state across servers
p2796
aVSo, I would choose an architecture where you don't need too much state on the server
p2797
aVIMHO, an action based framework is more suited to this kind of architecture than a component-based one, unless the state is handled at client side, with rich JavaScript components
p2798
as(dp2799
g23
V571407
p2800
stp2801
a((dp2802
g2
(lp2803
VIn your  method, you're redeclaring st as a local variable, rather than initializing the instance variable with the thread
p2804
aVReplace
p2805
aVwith
p2806
as(dp2807
g23
V571407
p2808
stp2809
a((dp2810
g2
(lp2811
VNo, but you could annotate your constructor rather than your fields
p2812
aVThis would have the additional benefit to make your class more easily testable, by injecting mock dependencies when constructing the instance to test (which is the main reason why dependency injection is useful) :
p2813
as(dp2814
g23
V571407
p2815
stp2816
a((dp2817
g2
(lp2818
VThe usual way is to have the consumer thread (here, your main thread) wait on a semaphore or a lock, and the producer thread (here, the server thread) release the semaphore or the lock when the resource is available (i
p2819
ag468
aVwhen the input from the client has been received)
p2820
aVHave a look at Lock and Semaphore in the  and  packages
p2821
as(dp2822
g23
V571407
p2823
stp2824
a((dp2825
g2
(lp2826
VI don't think there is an easy way to do that, other than generating the 100 subclasses
p2827
aVIf every category of messages has the same properties, the subclasses should be very simple, and could be automatically generated by a small program)
p2828
aVThis, however, will only work if the set of categories is static, and not dynamic
p2829
aVHowever, I would first challenge the design of the architect
p2830
aVBy doing this, you will lose the ability to
p2831
aVhave foreign keys to messages (since they will be distributed in 100 tables)
p2832
aVhave unique constraints across messages (even for their ID)
p2833
aVhave sane queries over different message categories
p2834
aVAnd I don't think you'll gain much, because if the indexes over the table of messages include the category column, the query should be as fast as if the messages of a category were in a dedicated table
p2835
as(dp2836
g23
V571407
p2837
stp2838
a((dp2839
g2
(lp2840
VRead this page : http://en
p2841
aVwikipedia
p2842
aVorg/wiki/Same_origin_policy
p2843
aVThis policy "prevents access to most methods and properties across pages on different sites"
p2844
aVThere are workarounds for bypassing this same origin policy, by using JSONP or iframes
p2845
as(dp2846
g23
V571407
p2847
stp2848
a((dp2849
g2
(lp2850
VI assume you store the singer as a key, and the popularity (of the singer) as value
p2851
aVA HashMap is not ordered, and a TreeMap is ordered by key, not by value, so it won't help
p2852
aVIf you need your singers ordered by popularity, then build a list with all the singers in the map, and then sort this list using a comparator which compares the popularity of both singers:
p2853
as(dp2854
g23
V571407
p2855
stp2856
a((dp2857
g2
(lp2858
VThe class loader is only able to load compiled classes
p2859
aVIt's not able to open Java source files, compile them on the fly, and load their class
p2860
aVMoreover, a class name is not the same as a file name
p2861
as(dp2862
g23
V571407
p2863
stp2864
a((dp2865
g2
(lp2866
VQuotes from the javadoc of BatchUpdateException :
p2867
aVThe order of elements in an array of
p2868
aVupdate counts corresponds to the order
p2869
aVin which commands were added to the
p2870
aVbatch
p2871
aVAfter a command in a batch update
p2872
aVfails to execute properly and a
p2873
aVBatchUpdateException is thrown, the
p2874
aVdriver may or may not continue to
p2875
aVprocess the remaining commands in the
p2876
aVbatch
p2877
aVIf the driver continues
p2878
aVprocessing after a failure, the array
p2879
aVreturned by the method
p2880
aVBatchUpdateException
p2881
aVgetUpdateCounts
p2882
aVwill have an element for every command
p2883
aVin the batch rather than only elements
p2884
aVfor the commands that executed
p2885
aVsuccessfully before the error
p2886
aVIn the
p2887
aVcase where the driver continues
p2888
aVprocessing commands, the array element
p2889
aVfor any command that failed is
p2890
aVStatement
p2891
aVEXECUTE_FAILED
p2892
as(dp2893
g23
V571407
p2894
stp2895
a((dp2896
g2
(lp2897
VIn Swing, you can't create or modify a swing component in any othe thread than the Event Dispatch Thread (EDT)
p2898
aVThe following lines should thus be executed in the EDT :
p2899
aVUse SwingUtilities
p2900
aVinvokeLater() to execute some code in the EDT rather than the current (non-EDT) thread
p2901
aVAnd read the warning present in the Javadoc of all the swing components : http://download
p2902
aVoracle
p2903
aVcom/javase/6/docs/api/javax/swing/package-summary
p2904
aVhtml#threading
p2905
as(dp2906
g23
V571407
p2907
stp2908
a((dp2909
g2
(lp2910
VBecause the docummentation for  says
p2911
aVThe Session is sometimes flushed before query execution in order to ensure that queries never return stale state
p2912
aVThis is the default flush mode
p2913
aVSo, auto doesn't mean what you think it means
p2914
aVThe name is, arguably, badly chosen, but it doesn't mean a flush is made after each session operation
p2915
aVIt's thus not similar to JDBC's autocommit, which makes a commit after ever JDBC statement
p2916
as(dp2917
g23
V571407
p2918
stp2919
a((dp2920
g2
(lp2921
VThe actionPerformed method should
p2922
aVadd a string into the User array (which should be named )
p2923
aVask the array its new length
p2924
aVchange the value in the count textfield (, which really has a bad name)
p2925
aVThe problem is that Java arrays have a fixed length
p2926
aVThey can't grow
p2927
aVThat'w why  exists : it's a class that behaves like a dynamic-length array
p2928
aVRead its javadoc to know how to use it
p2929
as(dp2930
g23
V571407
p2931
stp2932
a((dp2933
g2
(lp2934
VA  object doesn't have a time zone
p2935
aVIt's a moment in time, and can be formatted using a specific time zone in order to be readable by humans
p2936
aVThe DateTimeFormat documentation seems to indicate that it handles the browser time zone
p2937
aVIt also has a format method taking a TimeZone as argument
p2938
as(dp2939
g23
V571407
p2940
stp2941
a((dp2942
g2
(lp2943
VThe first one is the same as declaring an instance variable in a Java class
p2944
aVThe second one is the same as declaring a local variable inside a method in a Java class
p2945
as(dp2946
g23
V571407
p2947
stp2948
a((dp2949
g2
(lp2950
VThey're called varargs, and were introduced in Java 5
p2951
aVRead http://download
p2952
aVoracle
p2953
aVcom/javase/1
p2954
ag194
aV0/docs/guide/language/varargs
p2955
aVhtml for more information
p2956
aVIn short, it allows passing an array to a method without having to create one, as if the method took a variable number of arguments
p2957
aVIn your example, the following four calls would be valid :
p2958
as(dp2959
g23
V571407
p2960
stp2961
a((dp2962
g2
(lp2963
VDon't commit files which can be generated from the sources
p2964
aVOr at least, if you really want to commit release files, commit them into a separate tree, disconnected from the dist folder where the war is built and rebuilt during development
p2965
aVThe release should be committed (if it is) only after you've successfully passed all your tests, and you should always create a tag for the whole source tree once you have a release
p2966
aVThis way, you can always checkout the tag and rebuild the same release
p2967
aVAnd you can also easily create a maintenance branch of a released version while working on the next version in trunk
p2968
as(dp2969
g23
V571407
p2970
stp2971
a((dp2972
g2
(lp2973
VYou don't need to do anything special, except creating the two objects in the same transaction, and make the user persistent
p2974
aVRead http://code
p2975
aVgoogle
p2976
aVcom/intl/fr/appengine/docs/java/datastore/jdo/relationships
p2977
aVhtml#Relationships_Entity_Groups_and_Transactions
p2978
as(dp2979
g23
V571407
p2980
stp2981
a((dp2982
g2
(lp2983
VI think it's due to the way ratios are initialized : you do an int division, so the result is an int, not a double
p2984
aVcast one of the values as double to get a double result
p2985
as(dp2986
g23
V571407
p2987
stp2988
a((dp2989
g2
(lp2990
VFirst of all, you should never compare Strings with
p2991
aVUse equals to compare the contents of the strings, rather than the reference
p2992
aVThen for your NPE : you add a new Play instance as action listener for all your buttons
p2993
aVEach of these Play instance doesn't have any ,  or , since these variables are initialized by the  method
p2994
aVThe MenuFrame and HighScoresFrame constructors should have a  argument, and the  method of  should pass  as the play argument, so that a unique Play instance is used
p2995
aVThis unique play is the one that should be added as action listener
p2996
as(dp2997
g23
V571407
p2998
stp2999
a((dp3000
g2
(lp3001
VYou can't
p3002
aVThis is called polymorphism, and that's what OOP is all about
p3003
aVThe subclass toString redefines (overrides) the parent toString method
p3004
aVIf you want to be able to call the parent one, you need to add another method, with another name:
p3005
as(dp3006
g23
V571407
p3007
stp3008
a((dp3009
g2
(lp3010
VI'm not an expert in game programming, but if arrays are OK, you could simply translate your coordinates from (-x, +x) to (0, 2x) (idem for the y axis)
p3011
aVOr if you're used to associative arrays like PHP has, the use the corresponding structure in Java, which is a Map (HashMap would be OK) : define a  class with appropriate equals and hashCode methods, and use a
p3012
aVMaking Coordinate immutable makes the code more robust, and allows caching the hashCode
p3013
as(dp3014
g23
V571407
p3015
stp3016
a((dp3017
g2
(lp3018
VIf JAXB is unable to unmarshal your XML, then either your XML is invalid (i
p3019
ag468
aVis not really XML), or it doesn't conform with the schema expected by the server
p3020
aVThe answer is somewhere in the stack trace of the exception, which should mention why the unmarshaller didn't like your XML
p3021
as(dp3022
g23
V571407
p3023
stp3024
a((dp3025
g2
(lp3026
VSVN doesn't have a notion of a project
p3027
aVIt has directories and files, and you organize your project as you want in the repository
p3028
aVBut SVN doesn't know that a particular directory is the root of a project
p3029
aVYou thus have to be in the right directory (or to pass it as an argument of ) to have all the changes of the project
p3030
as(dp3031
g23
V571407
p3032
stp3033
a((dp3034
g2
(lp3035
VThis is very bad design
p3036
aVA foreign key should be a foreign key, and should not point to non-existing rows
p3037
aVI would fix the data/design
p3038
aVIf you really really can't, use the NotFound annotation described here :
p3039
aVBy default, when Hibernate cannot resolve the association because the expected associated element is not in database (wrong id on the association column), an exception is raised by Hibernate
p3040
aVThis might be inconvenient for legacy and badly maintained schemas
p3041
aVYou can ask Hibernate to ignore such elements instead of raising an exception using the @NotFound annotation
p3042
aVThis annotation can be used on a @OneToOne (with FK), @ManyToOne, @OneToMany or @ManyToMany association
p3043
as(dp3044
g23
V571407
p3045
stp3046
a((dp3047
g2
(lp3048
VWhy do you include the customer ID foreign key in the primary key of your Order entity
p3049
aVIts primary key should be
p3050
aVshould be a foreign key, and should not be part of the ID of Order
p3051
as(dp3052
g23
V571407
p3053
stp3054
a((dp3055
g2
(lp3056
VIf I understand correctly, you have
p3057
aVfirst request : server generates JSON and sends a redirect to the client for another page
p3058
aVsecond request (to the page in the redirect) : client loads the HTML, and should have access to the JSON object generated in first request
p3059
aVIf this is correct, you need to store the JSON somewhere (in the session, for example), at the end of the first request, and then you have two choices :
p3060
aVmake a third AJAX request from the HTML page to a servlet to get the JSON from the session
p3061
aVembed the JSON inside the HTML sent to the client at the second request (inside a  tag, in  Javascript variable initialization)
p3062
as(dp3063
g23
V571407
p3064
stp3065
a((dp3066
g2
(lp3067
Vwhat you pass to a JVM with  is called a system property
p3068
aVYou can get their value using
p3069
aVThere is no standard tag or JSP EL syntax to get them, though, so you'll have to use scriptlet or implement a custom tag
p3070
as(dp3071
g23
V571407
p3072
stp3073
a((dp3074
g2
(lp3075
VYou probably have so many queries because some relationships are eager loaded
p3076
aVNote that by default all OneToOne and ManyToOne relationships are eager loaded
p3077
aVThis means that if a route has a car, which has a user, which has a language, etc
p3078
aV, Hibernate will load all these referenced entities each time it loads a route
p3079
aVMake them lazy loaded instead, and tune your queries to fetch only the entities you need
p3080
as(dp3081
g23
V571407
p3082
stp3083
a((dp3084
g2
(lp3085
VYou need to use this code to access the value :
p3086
aVEncapsulate it in a custom tag to access it from JSP
p3087
as(dp3088
g23
V571407
p3089
stp3090
a((dp3091
g2
(lp3092
VYou could make each of them define a common property, and be executed only if this property is not set yet :
p3093
aVSee http://ant
p3094
aVapache
p3095
aVorg/manual/targets
p3096
aVhtml for explanations
p3097
aVEDIT :
p3098
aVIf you want the build to fail when both targets are executed, then fail if the property is already set :
p3099
as(dp3100
g23
V571407
p3101
stp3102
a((dp3103
g2
(lp3104
VJust add them in some package in your source tree
p3105
aVYour build process or IDE should copy them in your classes directory or in the generated jar file, along with your classes
p3106
aVThe reports may then be loaded with  or
p3107
as(dp3108
g23
V571407
p3109
stp3110
a((dp3111
g2
(lp3112
VYour code is perfectible (the mouse listener is not needed, and the panel should be added to the content pane of the JFrame), but it works
p3113
aVMaybe it would seem to work better if you gave some text to your menu items :
p3114
as(dp3115
g23
V571407
p3116
stp3117
a((dp3118
g2
(lp3119
VUse a negative subpattern, as described in the javadoc for DecimalFormat
p3120
aVproduces (in my French locale where space is the grouping separator and the comma is the decimal separator) :
p3121
as(dp3122
g23
V571407
p3123
stp3124
a((dp3125
g2
(lp3126
Vhttp://download
p3127
aVoracle
p3128
aVcom/javase/6/docs/api/javax/xml/xpath/package-summary
p3129
aVhtml
p3130
aVThe end of the page even has an example on how to use XPath on a DOM document :
p3131
as(dp3132
g23
V571407
p3133
stp3134
a((dp3135
g2
(lp3136
VThe HTML you generate in your JSP must contain an img element with an src pointing to the URL of a servlet or action which will load the image from the database and send it to the ouput stream with the image/jpeg content type
p3137
aVAll the browsers have a right-click - Save image as
p3138
aVmenu item, so I wouldn't implement this in the app
p3139
as(dp3140
g23
V571407
p3141
stp3142
a((dp3143
g2
(lp3144
VSVN is a good option, but you will have revisions (this is the whole point of SVN)
p3145
aVSVN doesn't lock files by default, but you may configure it so that it does
p3146
aVSee http://svnbook
p3147
aVred-bean
p3148
aVcom/nightly/en/svn-book
p3149
aVhtml
p3150
aVbcsi_scan_554E00F99A9AD604=0&bcsi;_scan_filename=svn-book
p3151
aVhtml#svn
p3152
aVadvanced
p3153
aVlocking
p3154
aVI don't know git very well, but since it's not a centralized VCS, I'm pretty sure it isn't the right tool for your situation
p3155
as(dp3156
g23
V571407
p3157
stp3158
a((dp3159
g2
(lp3160
VThe problem is not in the code used to click on the link
p3161
aVIt's in the JavaScript executed when the link is clicked
p3162
aVEither the JavaScript is buggy, or the JavaScript interpreter used by HtmlUnit has a problem running it
p3163
aVThe problem seems to be with a parameter x which has the Infinity value during the execution
p3164
as(dp3165
g23
V571407
p3166
stp3167
a((dp3168
g2
(lp3169
VUse the copy task with a glob or regexp mapper
p3170
aVDon't know what for and for each have to do with this question, though
p3171
as(dp3172
g23
V571407
p3173
stp3174
a((dp3175
g2
(lp3176
VUse JavaScript to handle the form submission, extract the parameters, and transform them
p3177
aVBut be careful about special characters : what if some parameter value has a dollar sign inside
p3178
aVI wonder why you want to do that
p3179
as(dp3180
g23
V571407
p3181
stp3182
a((dp3183
g2
(lp3184
VWith a custom exception, you can tell your callers that a specific kind of error has happened, rather than just an error
p3185
aVAnd the callers may thus do sothing specific to this kind of error
p3186
aVLet's use a car analogy : do you prefer your car to refuse starting with a unique red light blinking, or with a dedicated "gas tank empty" light blinking
p3187
as(dp3188
g23
V571407
p3189
stp3190
a((dp3191
g2
(lp3192
VAll the exceptions can be chained in Java
p3193
aVThis means that you may throw an exception and provide another exception (Throwable in fact) as the cause of the exception you're throwing
p3194
aVLook at the javadoc for Exception
p3195
as(dp3196
g23
V571407
p3197
stp3198
a((dp3199
g2
(lp3200
VYou should have one index on both columns, not two indexes on each of the columns
p3201
aVThis should make the query very fast
p3202
aVIf it still doesn't, then you could use a table with a month, a name and a value, and increment the value for the current month each time an SMS is sent
p3203
aVThis would remove the sum from your query
p3204
aVIt would still need an index on (month, name) to be as fast as possible, though
p3205
as(dp3206
g23
V571407
p3207
stp3208
a((dp3209
g2
(lp3210
VThey would get a different instance of your managing bean
p3211
aVIt would work by default, if your managing bean is indeed stateless
p3212
aVThe concurrency is handled by the database and its support for transactions
p3213
aVIf a transaction tries to modify a book that is being deleted by another concurrent transaction (for example), one of the transactions will rollback, due to a SQLException thrown by the database driver when committing the transaction
p3214
as(dp3215
g23
V571407
p3216
stp3217
a((dp3218
g2
(lp3219
VIf any of those objects can be null, then you have to check for null before calling a getter on this object, of course
p3220
aVBut this kind of chaining is a bad smell of a lack of encapsulation (anemic objects having just data, and no behavior)
p3221
aVYou're violating the law of Demeter : don't talk to strangers
p3222
as(dp3223
g23
V571407
p3224
stp3225
a((dp3226
g2
(lp3227
VIt's right there in the javadoc
p3228
as(dp3229
g23
V571407
p3230
stp3231
a((dp3232
g2
(lp3233
VYou must use ServletContext
p3234
aVgetResourceAsStream() to load a file from a war
p3235
aVClassLoader
p3236
aVgetResourceAsStream loads a class from the classpath
p3237
as(dp3238
g23
V571407
p3239
stp3240
a((dp3241
g2
(lp3242
VThere is only one storage option
p3243
aVGAE offers a JDO and a JPA API on top of the datastore, but it's just a different way of accessing the datastore (like Hibernate, JDO and JDBC are three different APIs that can be used to access a RDBMS)
p3244
as(dp3245
g23
V571407
p3246
stp3247
a((dp3248
g2
(lp3249
VThis one is working on your test :
p3250
as(dp3251
g23
V571407
p3252
stp3253
a((dp3254
g2
(lp3255
VIf  doesn't modify the state of , then the method is thread-safe
p3256
aVThe thread-safeness of the myObj object is the responsability of its class : MyClass, or of the object that holds it
p3257
aVNot the responsibility of all the methods which might take it as an argument, IMHO
p3258
aVYour solution () is right, though : two threads won't be able to execute the  method concurrently if the same myObj is used in both threads
p3259
aVThey will execute concurrently if the two myObjs are different
p3260
as(dp3261
g23
V571407
p3262
stp3263
a((dp3264
g2
(lp3265
VThis should work :
p3266
aVHibernate will select the two_id column twice : once to populate the two relationship, and once to populate the twoId
p3267
aVThe twoId property is read-only, though
p3268
aVYou could also do the reverse, but then it's the two property which will become read-only:
p3269
as(dp3270
g23
V571407
p3271
stp3272
a((dp3273
g2
(lp3274
VWe do this with a PreInsertEventListener and a PreUpdateEventListener :
p3275
aVBut if you want your properties to be timestamps, then they should be annotated with
p3276
as(dp3277
g23
V571407
p3278
stp3279
a((dp3280
g2
(lp3281
VWhy don't you introduce an autogenerated ID in the Role table, and a unique constraint on the tuple (roleId, use, office, year)
p3282
aVThis would make sthings much much simpler
p3283
aVIf you really want to continue with this composite primary key, then you should read http://docs
p3284
aVjboss
p3285
aVorg/hibernate/core/3
p3286
aV6/reference/en-US/html_single/#mapping-declaration-id, which ends with an example of an embedded ID containing an association
p3287
aVBut be careful with your associations : they should be ManyToOne, and not OneToOne, since a user (for example) can be referenced by several roles
p3288
aVYou should thus have
p3289
as(dp3290
g23
V571407
p3291
stp3292
a((dp3293
g2
(lp3294
VThis solution doesn't need a temp vector, and doesn't modify the original vector
p3295
as(dp3296
g23
V571407
p3297
stp3298
a((dp3299
g2
(lp3300
VYes, you're correct
p3301
aVAlso, be aware that even if myHome was not static, all the objects returned by the MyHome would be disconnected from the session
p3302
aVYou won't be able to initialized lazy properties from outside of MyHome
p3303
aVThe session variable should also be a local variable in MyHome methods, rather than an instance variable
p3304
aVBut the main problem is that stateless session beans are supposed to be used to demarcate transactions declaratively
p3305
aVIn an EJB environment, you shouldn't have to open, commit and rollback transactions, and to close sessions
p3306
aVEverything should be done by the JTA transaction synchronization implemented through sessionFactory
p3307
aVgetCurrentSession()
p3308
as(dp3309
g23
V571407
p3310
stp3311
a((dp3312
g2
(lp3313
VAs said by Aron Rotteveel, you need to call live on a selector :
p3314
as(dp3315
g23
V571407
p3316
stp3317
a((dp3318
g2
(lp3319
VUse the all selector :
p3320
as(dp3321
g23
V571407
p3322
stp3323
a((dp3324
g2
(lp3325
VBoth ways are OK, and the second condition won't be tested if the first one is false
p3326
aVUse the one that makes the code the more readable and understandable
p3327
aVFor just two conditions, the first way is more logical and readable
p3328
aVIt might not be the case anymore with 5 or 6 conditions linked with ,  and
p3329
as(dp3330
g23
V571407
p3331
stp3332
a((dp3333
g2
(lp3334
VHave you read the trail about XML of the Java tutorial
p3335
as(dp3336
g23
V571407
p3337
stp3338
a((dp3339
g2
(lp3340
VAs soon as the session used to save, load, get or find an entity has been closed, the entity becomes detached
p3341
aVThis means that it's not connected anymore to a session, and works like any other POJO
p3342
aVWhen an entity is attached and you change one of its properties, Hibernate automatically saves the changes you made to the corresponding row in the database (at flush/commit time)
p3343
aVWhen it's detached, the changes you made to the object are not saved automatically to the database
p3344
aVIn order to save the changes, you need to do it yourself, by calling the session
p3345
aVupdate() or session
p3346
aVmerge()
p3347
aVBoth methods do more or less the same thing, but do it differently
p3348
aVI personnally prefer using merge, which is less dangerous and leads to less bugs
p3349
aVRead http://docs
p3350
aVjboss
p3351
aVorg/hibernate/core/3
p3352
aV6/reference/en-US/html_single/#objectstate-detached for more details
p3353
aVIn your code, the person passed as argument to the edit method is probably detached
p3354
aVWhat you're doing is getting the person with the same ID as the one passed from the session
p3355
aVis thus attached
p3356
aVThen you copy all the properties from the detached person to the attached existingPerson
p3357
aVAnd finally, you save the existingPerson
p3358
aVThere are 3 problems with this code :
p3359
aVsave doesn't do what you think it does
p3360
aVsave is for inserting a new person object
p3361
aVYour existing person already exists and already has an ID, so the operation to use is update or merge
p3362
aVYou don't even need to use update or merge, because since existingPerson is attached to the session, the changes you make (setFirstName, setLastName, etc
p3363
aVwill automatically be made persistent by Hibernate at flush time
p3364
aVIt's transparent
p3365
aVThe algorithm you have implemented is the same one (except for cascades, etc
p3366
aVas the one used by merge, which does all this automatically for you
p3367
aVIt should thus be changed to :
p3368
as(dp3369
g23
V571407
p3370
stp3371
a((dp3372
g2
(lp3373
VUse a filtered properties file containing the line
p3374
aVand load this properties file from the classpath in your Java program
p3375
as(dp3376
g23
V571407
p3377
stp3378
a((dp3379
g2
(lp3380
VSince this is not the real code, it's hard to tell where the bug is
p3381
aVBut the strategy itself is wrong : if Orange is not a unique identifier, it can't work
p3382
aVYou should
p3383
aVexecute a select statement to get the next value from the parent sequence and get a parent ID
p3384
aVexecute an insert statement to insert a parent with this parent ID
p3385
aVexecute a select statement to get the next value from the child sequence and get a child ID
p3386
aVexecute an insert statement to insert a child with the parent and child IDs
p3387
aVEDITED :
p3388
aVNow that the code is OK, I have found the bug
p3389
aVReplace
p3390
aVwith
p3391
aV(and fix the name of the childId column)
p3392
aVA debugger or a simple log would have shown that the select query does return the parent ID
p3393
as(dp3394
g23
V571407
p3395
stp3396
a((dp3397
g2
(lp3398
VYou can't do that
p3399
aVThe JTable (or any other part of the code) is allowed to call getValueAt when it wants to
p3400
aVThe method should return what the table actually contains
p3401
aVIf you want default values in the table initially, then store these default values in the model
p3402
aVWhen the data changes in the model, it must fire a TableModelEvent
p3403
aVThis is done automatically by DefaultTableModel when setValueAt is called
p3404
as(dp3405
g23
V571407
p3406
stp3407
a((dp3408
g2
(lp3409
VWhat prevents you from using your design
p3410
aVHibernate (or JPA in general) is able to handle inheritance, and you may store a whole inheritance hierarchy in a single table with a discriminator column telling which subclass to use for a particular row
p3411
aVSee http://docs
p3412
aVjboss
p3413
aVorg/hibernate/core/3
p3414
aV6/reference/en-US/html_single/#inheritance-tableperclass for details
p3415
as(dp3416
g23
V571407
p3417
stp3418
a((dp3419
g2
(lp3420
VA combo box accepts any kind of objects
p3421
aVTo display their value, it uses tht toString() method of the objects
p3422
aVSo, you may have this code :
p3423
aVIf Genre already have a toString method that you don't want to change, you may wrap a genre inside a dedicated class used for the GUI, and use a combo box of GenreWrappers rather than a combo box of Genres
p3424
aVYou should definitely read the Swing tutorial, and read the javadoc of the swing components you're using
p3425
as(dp3426
g23
V571407
p3427
stp3428
a((dp3429
g2
(lp3430
VYou have to make 4 classes :
p3431
aVBook
p3432
aVChapter
p3433
aVSection
p3434
aVParagraph
p3435
aVThe Book class will hold field of type
p3436
aVThe Chapter class will hold a field of type
p3437
aVThe Section class will hold a field of type
p3438
as(dp3439
g23
V571407
p3440
stp3441
a((dp3442
g2
(lp3443
VThe latest version is the current one + 1
p3444
aVYou could increment the version yourself in the entityToDto() method
p3445
aVBut in your example, doing the flush won't cause such a performance problem, IMO, since Hibernate will do it anyway at commit time
p3446
aVThere will be two flushes, but the second one won't have anything to flush anymore
p3447
as(dp3448
g23
V571407
p3449
stp3450
a((dp3451
g2
(lp3452
VIf it's a real unit test, you shouldn't need to depend on Hibernate
p3453
aVIt's common to change the visibility of methods, or even introduce some in order to be able to unit test a class
p3454
aVI wouldn't mind having a public constructor with an Integer as argument in order to unit test the POJO
p3455
aVYou'll certainly need to be able to set the ID in your POJOs when you'll test services anyway
p3456
aVFor example, if you want to test that calls , you'll need an ID in your POJO
p3457
as(dp3458
g23
V571407
p3459
stp3460
a((dp3461
g2
(lp3462
VEach "enum" should be stored in its own table, so that you can have foreign keys to this table
p3463
aVYou could store all the possible values of each "enum" in a cache, to avoid going to the database each time you need the list of options, but be careful not to propose stale data
p3464
aVSince the number of entries should be very small, I wouldn't care much about performance until you have a real problem
p3465
as(dp3466
g23
V571407
p3467
stp3468
a((dp3469
g2
(lp3470
VIf you follow the standard naming conventions, it should be , and not
p3471
aVTry with
p3472
as(dp3473
g23
V571407
p3474
stp3475
a((dp3476
g2
(lp3477
VWhy don't you simply use a mocking framework like EasyMock or Mockito to test this
p3478
aVYou wouldn't need any deployment descriptor, EJB container, JNDI lookup, etc
p3479
aVJust this kind of code :
p3480
aVAnd it would certainly run much faster, too
p3481
as(dp3482
g23
V571407
p3483
stp3484
a((dp3485
g2
(lp3486
VIt's hard to diagnose the exact problem because you don't say when you close sessions, and in which session/transaction you get your User
p3487
aVBut I guess the problem comes from the fact that you don't maintain the two sides of the relationship when inserting a new registration
p3488
aVYou should set the user in the registration, and add the registration to the list of registrations of the user
p3489
as(dp3490
g23
V571407
p3491
stp3492
a((dp3493
g2
(lp3494
VUse Maven, which stores all the references in a repository, and references them via logical names (group/artifact IDs), or store the jars in your project tree, and reference them with relative paths
p3495
as(dp3496
g23
V571407
p3497
stp3498
a((dp3499
g2
(lp3500
VThere is no point in creating a singleton entity
p3501
aVYou should simply map a one-to-many association between User and POJOWithComposite
p3502
aVGet a User (using ) and call  to get all the POJOWithComposites of a given user
p3503
aVIf you want them for several users, then find these users with HQL, and iterate through the found users and navigate into the association
p3504
aVThe singleton map is the hibernate session
p3505
aVUse its methods to query the database
p3506
as(dp3507
g23
V571407
p3508
stp3509
a((dp3510
g2
(lp3511
VThis would potentially break code written before this design change, when everybody righfully assumed that two newly created instances were different instances
p3512
aVIt could be done for autoboxing, because autoboxing didn't exist before, but changing the meaning of new is too dangerous, and probably doesn't bring much gain
p3513
aVThe cost of short-lived objects is not big in Java, and could even be lower than the cost of maintaining a cache of long-lived objects
p3514
as(dp3515
g23
V571407
p3516
stp3517
a((dp3518
g2
(lp3519
VAlthough I agree with the other answers, one should note that such optional methods exist in the JDK
p3520
aVFor example,  is optional
p3521
aVImplementations must throw an UnsupportedOperationException if they don't want to implement this method
p3522
aVIf you want to be able to know if the optional method is implemented or not, then you could add another method (not optional) :
p3523
as(dp3524
g23
V571407
p3525
stp3526
a((dp3527
g2
(lp3528
VNot tested, but something like this should work :
p3529
as(dp3530
g23
V571407
p3531
stp3532
a((dp3533
g2
(lp3534
VYou should respect the Java naming conventions
p3535
aVVariables always start with a lowercase letter
p3536
aVProperties also start with a lowercase letter
p3537
aVAnd since the Members class represents one member, you should also call it Member, not Members
p3538
as(dp3539
g23
V571407
p3540
stp3541
a((dp3542
g2
(lp3543
VNo
p3544
aVHibernate will populate the relationships when loading entities from the database
p3545
aVBut when you persist or change them, it's your responsibility to maintain the relationships, at both sides
p3546
aVSince Hibernate entities are also POJOs that you will use in other layers and in unit tests, you should make sure that invariants are OK
p3547
aVFor example, the list of revisions should never be null
p3548
aVIt should be empty initially
p3549
as(dp3550
g23
V571407
p3551
stp3552
a((dp3553
g2
(lp3554
VEclipse doesn't support Maven projects natively
p3555
aVYou must install a plugin (m2eclipse) to be able to use a Maven project inside Eclipse
p3556
as(dp3557
g23
V571407
p3558
stp3559
a((dp3560
g2
(lp3561
VYou can be sure to have only one husband per wife by putting a unique constraint on the wifeId column
p3562
aVEither put it directly in your database or, if you use hibernate to generate your schema, add the attribute  to your  annotation
p3563
as(dp3564
g23
V571407
p3565
stp3566
a((dp3567
g2
(lp3568
VYou should add a listener on the marker and listen for the drag or dragend event, and ask the event its position when you receive this event
p3569
aVSee http://code
p3570
aVgoogle
p3571
aVcom/intl/fr/apis/maps/documentation/javascript/reference
p3572
aVhtml#Marker for the description of events triggered by the marker
p3573
aVAnd see http://code
p3574
aVgoogle
p3575
aVcom/intl/fr/apis/maps/documentation/javascript/reference
p3576
aVhtml#MapsEventListener for methods allowing to add event listeners
p3577
as(dp3578
g23
V571407
p3579
stp3580
a((dp3581
g2
(lp3582
VYou get a foreign key violation because the database checks that every docteur_id in the patient table refers to a valid docteur
p3583
aVThis is the whole point of foreign keys
p3584
aVThe database ensures that you don't delete a docteur still referenced by patients
p3585
aVIn order to delete your docteur, you must ensure that no other record in the database references this docteur_id
p3586
aVSo, you must update all the patients of this docteur and set their docteur_id to null :
p3587
aVAlso, all the attached (persistent) entities are automatically updated by Hibernate
p3588
aVThere is no need to persist and merge them
p3589
aVRead http://docs
p3590
aVjboss
p3591
aVorg/hibernate/core/3
p3592
aV6/reference/en-US/html_single/#objectstate-overview
p3593
as(dp3594
g23
V571407
p3595
stp3596
a((dp3597
g2
(lp3598
VHave you configured Hibernate with the appropriate dialect
p3599
aVSee http://docs
p3600
aVjboss
p3601
aVorg/hibernate/core/3
p3602
aV6/reference/en-US/html_single/#configuration-optional-dialects for the list of dialects, and http://docs
p3603
aVjboss
p3604
aVorg/hibernate/core/3
p3605
aV6/reference/en-US/html_single/#configuration-xmlconfig for an exemple XML configuration where the dialect is configured
p3606
as(dp3607
g23
V571407
p3608
stp3609
a((dp3610
g2
(lp3611
VIt's more a functional or organizational problem than a technical one
p3612
aVNo tool will automatically guess how to migrate data from one schema to another one
p3613
aVYou'd better learn how to write stored procedure in order to migrate your data
p3614
aVYou'll probably need to disable constraints, create temporary table and columns, copy lots of data, and then delete the temporary tables and columns and re-enable constraints to have migrate your data
p3615
aVOnce in maintenance mode, every new feature that modifies the schema should also come with the script allowing to migrate from the current schema and data in production to the new one
p3616
as(dp3617
g23
V571407
p3618
stp3619
a((dp3620
g2
(lp3621
VYou could have the counter in JavaScript in the page, and load the next steps of your test using AJAX, in order to avoid refreshing the whole page
p3622
aVOr you could put a hidden "timerCurrentValue" field in your form, updated every second by the JavaScript time, and submit it at each step of the test, so that the next page restarts the time at this given value
p3623
as(dp3624
g23
V571407
p3625
stp3626
a((dp3627
g2
(lp3628
Vautocommit off is the default mode when you're using JPA
p3629
aVElse, you couldn't implement transactions
p3630
aVI'm pretty sure that result sets are forward only by default as well
p3631
as(dp3632
g23
V571407
p3633
stp3634
a((dp3635
g2
(lp3636
VWhat does "the app does not work" mean
p3637
aVDo you have an exception in the tomcat output/logs
p3638
aVWhat does it say
p3639
aVI suspect you forgot to put the cobertura jars in the WEB-INF/lib folder of your webapp before deploying it
p3640
aVObviously, the code addd by the cobertura instrumentation calls methods of the cobertura engine, so these classes must be available in your webapp
p3641
as(dp3642
g23
V571407
p3643
stp3644
a((dp3645
g2
(lp3646
VYou need to add the jar file in your project's libraries
p3647
aVRead http://netbeans
p3648
aVorg/kb/docs/java/project-setup
p3649
aVhtml#projects-classpath
p3650
as(dp3651
g23
V571407
p3652
stp3653
a((dp3654
g2
(lp3655
VI think that the problem comes from the fact that the sequence generator is not really a sequence generator, but a sequence hilo generator, with a default allocation size of 50
p3656
aVas indicated by the documentation : http://docs
p3657
aVjboss
p3658
aVorg/hibernate/stable/annotations/reference/en/html_single/#entity-mapping-identifier
p3659
aVThis means that if the sequence value is 5000, the next generated value will be 5000 * 50 = 250000
p3660
aVAdd the cache value of the sequence to the equation, and it might explain your huge initial gap
p3661
aVCheck the value of the sequence
p3662
aVIt should be less than the last generated identifier
p3663
aVBe careful not to reinitialize the sequence to this last generated value + 1, because the generated valus would grow exponentially (we've had this problem, and had negative integer ids due to overflow)
p3664
as(dp3665
g23
V571407
p3666
stp3667
a((dp3668
g2
(lp3669
VCreate a class resource bundle for the Nynorsk language, and set its parent bundle to the Bokmal bundle
p3670
aVSee http://download
p3671
aVoracle
p3672
aVcom/javase/6/docs/api/java/util/ResourceBundle
p3673
aVhtml#getBundle%28java
p3674
aVlang
p3675
aVString,%20java
p3676
aVutil
p3677
aVLocale,%20java
p3678
aVlang
p3679
aVClassLoader%29 for explanations on how the bundles are loaded :
p3680
aVOr just change your build process so that every xxx_nb
p3681
aVproperties file is copied to xxx_nn
p3682
aVproperties
p3683
as(dp3684
g23
V571407
p3685
stp3686
a((dp3687
g2
(lp3688
VYou could perhaps learn patterns that could be reused in a web application, but no, Swing is not used in webapps
p3689
as(dp3690
g23
V571407
p3691
stp3692
a((dp3693
g2
(lp3694
VIf I understand correctly, the selection of an option in the select box triggers an AJAX calls which, once finished, modifies some part of the page
p3695
aVThe problem here is that since AJAX is, by definition, asynchronous, you can't really know when the call is finished and when you may inspect the page again to find the new content
p3696
aVHtmlUnit has a class named , which you can pass an instance of to the WebClient's  method
p3697
aVAs indicated in the javadoc, using this ajax controller will automatically make the asynchronous calls coming from a direct user interaction synchronous instead of asynchronous
p3698
aVOnce the setSelectedAttribute method is called, you'll thus be able to see the changed made to the original page
p3699
aVThe other option is to use WebClient's  method after the selection is done, and inspect he page once the background JavaScript has ended, or the timeout has been reached
p3700
as(dp3701
g23
V571407
p3702
stp3703
a((dp3704
g2
(lp3705
VYou can't map the same database column to two different fields
p3706
aVThe  join column is already used to map the demographics ManyToOne association
p3707
aVTo get the value of the foreign key, just use
p3708
aVTo persist a new MedicalRecordsReceived instance pointing to a Demographics  instance, you have to initialize the association (and maintain the reverse association to have a coherent object model) :
p3709
aVThink in terms of objects, not in terms of columns
p3710
as(dp3711
g23
V571407
p3712
stp3713
a((dp3714
g2
(lp3715
VYou'll need to introduce a fourth entity (let's call it ), which tells that a specific user has a specific role on a specific project
p3716
aVYou will thus end with the following associations :
p3717
aVOne User has Many Rights
p3718
aVOne Role has Many Rights
p3719
aVOne Project has Many Rights
p3720
aVThe RIght entity will be mapped to a table having three foreign keys (to user, role and project), and the tuple  should be unique
p3721
aVYou'll need to use dedicated queries (or Java methods) to find the roles of a user for a project :
p3722
aVor, in HQL :
p3723
as(dp3724
g23
V571407
p3725
stp3726
a((dp3727
g2
(lp3728
VYes
p3729
aVYou have to use a Projection :
p3730
aVBut HQL is much more readable and straightforward for this kind of query
p3731
aVCriteria is useful for dynamically built queries, or to reuse parts of queries in several ones :
p3732
as(dp3733
g23
V571407
p3734
stp3735
a((dp3736
g2
(lp3737
VSpring can wrap a method into a transaction if it's an instance method of a bean it has instantiated
p3738
aVYou put the  annotation on a static method directly called from the main method
p3739
aVSpring can't wrap this call into a transaction
p3740
aVPut the annotation on the save method, and it should work better
p3741
as(dp3742
g23
V571407
p3743
stp3744
a((dp3745
g2
(lp3746
V determines if the whole String matches the expression, not if some part of the string matches the expression
p3747
aVFor such a simple case, I wouldn't go with regexp
p3748
aVJust use indexOf to find your substring:
p3749
as(dp3750
g23
V571407
p3751
stp3752
a((dp3753
g2
(lp3754
VIf you're not submitting any form, then the server obviously doesn't know anything about the selection you made in the modal window
p3755
aVUse JavaScript to initialize the text field in the parent window with the selected radio
p3756
aVSince I gues you're using JQuery to open the dialog, then you shouldn't have any problem calling a JavaScript function defined in the parent window from the modal dialog
p3757
as(dp3758
g23
V571407
p3759
stp3760
a((dp3761
g2
(lp3762
VAdd a 'change' JavaScript event listener to the country combo, which will use AJAX to load the list of states of the selected country, and change the options of the state combo
p3763
aVDo the same for the state combo, in order to load cities
p3764
aVThe AJAX call could invoke a struts action returning a list of HTML options, or a JSON array of states/cities
p3765
aVThe struts action should use a Hibernate query to find the states of a country (or the cities of a state) in the database
p3766
as(dp3767
g23
V571407
p3768
stp3769
a((dp3770
g2
(lp3771
VYou must have a firewall forbidding you to directly access google
p3772
aVca from a Java application
p3773
aVOr you need to go through a proxy to access google
p3774
aVca
p3775
aVRead http://htmlunit
p3776
aVsourceforge
p3777
aVnet/gettingStarted
p3778
aVhtml for instructions about proxies and HtmlUnit
p3779
aVYou're on the right track if you want to simulate one user activity
p3780
aVIf you need to load-test your application with several users, you should look at something else (Apache JMeter for example)
p3781
as(dp3782
g23
V571407
p3783
stp3784
a((dp3785
g2
(lp3786
VHave you read the documentation
p3787
aVIt's here : http://sourceforge
p3788
aVnet/projects/webtranslator/files/JavaWebTranslator-0
p3789
aV2a/Java%20WebTranslator%200
p3790
aV2a%20%28Alpha%20Release%29/
p3791
aVDownload the zip documentation file, unzip it, and open the index
p3792
aVhtml file
p3793
aVIt contains a quick start guide and other useful material
p3794
as(dp3795
g23
V571407
p3796
stp3797
a((dp3798
g2
(lp3799
VBackup the new system directory somewhere else (outside of the SVN working copy), revert the working copy to its old state (or even do a fresh checkout if needed), delete the system folder and commit, then copy the backed up system folder into the working copy, add it to SVN and commit again
p3800
as(dp3801
g23
V571407
p3802
stp3803
a((dp3804
g2
(lp3805
VEither change the design of A and B to be able to transform an A into a B (if it's even meaningful : how would you transform a dog into a dalmatian
p3806
aV, or use composition instead of inheritance :
p3807
as(dp3808
g23
V571407
p3809
stp3810
a((dp3811
g2
(lp3812
VIt's confusing, IMHO
p3813
aVI would define a PlaceKey class, holding just a name and a state and defining hashCode and equals
p3814
aVA place would hold a PlaceKey, and other attributes
p3815
aVAnd I would use a
p3816
aVNote that, in your example, it's the Place class that needs equals and hashCode, not the Places class
p3817
aVNow, to answer your 2 questions :
p3818
aVa hash map is O(1), and a list is O(n)
p3819
aVA map will thus usually be faster (except perhaps for very small n values)
p3820
aVconcatenating is almost always a bad idea
p3821
aVYou could have name1 = aa, state1 = a, name2 = a and state2 = aa, which would result in a collision
p3822
aVAn array doesn't override equals and hashCode in terms of their content, and is not an appropriate map key class
p3823
as(dp3824
g23
V571407
p3825
stp3826
a((dp3827
g2
(lp3828
VThe key differences, IMHO are that classes allow
p3829
aVencapsulation
p3830
aVpolymorphism
p3831
aVThese are two very important features of OOP
p3832
as(dp3833
g23
V571407
p3834
stp3835
a((dp3836
g2
(lp3837
VBut if you don't know about Session
p3838
aVload and Session
p3839
aVget, I suggest you read the Hibernate documentation
p3840
aVThis is the most basic stuff : loading an entity by its primary key
p3841
aVAlso, note that having a cascade on a ManyToOne is bizarre : it means that you'll potentially create/modify the user each time you modify one of its events
p3842
as(dp3843
g23
V571407
p3844
stp3845
a((dp3846
g2
(lp3847
VYes, all methods of an interface are public, and can't have any other access modifier (i
p3848
ag468
aVthe default public access modifier is the only valid access modifier)
p3849
as(dp3850
g23
V571407
p3851
stp3852
a((dp3853
g2
(lp3854
VWith criteria, I think you'll have to write your own expression class
p3855
aVSomething like this should work (not tested, though):
p3856
aVAnd then, you can use this expression in a criteria:
p3857
as(dp3858
g23
V571407
p3859
stp3860
a((dp3861
g2
(lp3862
Vis useful when you only have two expressions linked by an  (or an , with )
p3863
aVIf you have more than two expressions, then use a disjunction or a conjunction:
p3864
as(dp3865
g23
V571407
p3866
stp3867
a((dp3868
g2
(lp3869
VThe documentation for Object
p3870
aVwait() says:
p3871
aVAs in the one argument version, interrupts and spurious wakeups are possible, and this method should always be used in a loop:
p3872
aVMaybe you didn't follow this advice and got a spurious wakeup or interrupt
p3873
as(dp3874
g23
V571407
p3875
stp3876
a((dp3877
g2
(lp3878
VRead the javadoc of  more carefully : it returns a copy of the object
p3879
aVThe copy is another instance of the same class as that of the object on which clone is invoked
p3880
aVI
p3881
ag468
as(dp3882
g23
V571407
p3883
stp3884
a((dp3885
g2
(lp3886
VSuppose the library defines the package com
p3887
aVfoo
p3888
aVbar (and subpackages)
p3889
aVYou should be able to do what you want by doing a Java Search for the "com
p3890
aVfoo
p3891
aVbar
p3892
aV*" search string, with "Type" as "Search For" option, and "Implementors" as "Limit To" option
p3893
as(dp3894
g23
V571407
p3895
stp3896
a((dp3897
g2
(lp3898
VYou could just wrap the call inside a utility method :
p3899
aVprivate constructor and javadoc omitted for brevity
p3900
as(dp3901
g23
V571407
p3902
stp3903
a((dp3904
g2
(lp3905
VYou could use SessionFactory's getAllClassMetadata method, which would give you all you need except perhaps the field size (which I haven't found in the javadoc)
p3906
aVBut even that should be relatively easy to do by inspecting the @Column annotation set on the class field corresponding to each persistent property of the class
p3907
aVFrom the ENtityManager, you can call getDelegate to get access to the Hibernate session, and then call getSessionFactory() to get access to the session factory
p3908
as(dp3909
g23
V571407
p3910
stp3911
a((dp3912
g2
(lp3913
VSince you have additional columns in the join table, it can't be mapped using a ManyToMany
p3914
aVIt must be mapped as two OneToMany relationships :
p3915
aVOne User (source) has many Friendships
p3916
aVOne Friendship is for one source User (the user who asked for friendship)
p3917
aVOne Friendship is for one target User (the user who must accept the friendship)
p3918
aVYou should thus have the following entities :
p3919
aVIf needed, you may also ad the reverse relationship in the user :
p3920
as(dp3921
g23
V571407
p3922
stp3923
a((dp3924
g2
(lp3925
VYou don't need to override anything
p3926
aVEnabling or disabling the button will trigger a propertyChange event with "enabled" as the property name
p3927
as(dp3928
g23
V571407
p3929
stp3930
a((dp3931
g2
(lp3932
VThis syntax is used to invoke multiple targets at once
p3933
aVSo you could perhaps use
p3934
aVand make the android-market target set a property used in the debug target to identify which version to build:
p3935
as(dp3936
g23
V571407
p3937
stp3938
a((dp3939
g2
(lp3940
VAs its name indicates, the replaceAll method replaces all the occurrences of the searched string with the replacement string
p3941
aVThis is obviously not what you want
p3942
aVYou could have found it yourself by reading the javadoc
p3943
aVThe second one is closer from the truth
p3944
aVBy reading the javadoc of the String class, you'll find a useful method called substring, which extracts a substring from a string, given two indices
p3945
as(dp3946
g23
V571407
p3947
stp3948
a((dp3949
g2
(lp3950
Van auto complete box (like the one described here) could be a good choice
p3951
aVMake sure to set an appropriate delay and a minimum number of characters before searching
p3952
aVYou could also limit the number of returned results if two many are found
p3953
as(dp3954
g23
V571407
p3955
stp3956
a((dp3957
g2
(lp3958
VAsk the table its number of rows (using ), which will return the number of filtered (visible) rows
p3959
aVIterate from 0 to the rowCount, convert each row index to the model index using , and ask your model the data at each model index to build the list of filtered (visible) data
p3960
as(dp3961
g23
V571407
p3962
stp3963
a((dp3964
g2
(lp3965
VThe configuration file is read using the Configuration class
p3966
aVBy default, it uses the hibernate
p3967
aVcfg
p3968
aVxml file found in the classpath, but you can use the configure method taking a file as parameter, and store the config file on the file system rather than in the jar
p3969
aVYou can also put the static mapping, which never changes between configs, in a file inside the jar, and put the varying config inside an external file
p3970
aVLook at the javadoc for Configuration to know how to add resources and config files to the configuration
p3971
as(dp3972
g23
V571407
p3973
stp3974
a((dp3975
g2
(lp3976
VThe zip file of ehcache-spring-annotations containing the dependencies, downloaded on the project web site, contains ehcache-core version 2
p3977
ag12
ag2332
aVYou're using 2
p3978
ag14
ag12
aVThere might be an incompatibility between those versions
p3979
as(dp3980
g23
V571407
p3981
stp3982
a((dp3983
g2
(lp3984
VWhen you delete a folder, you're also deleting the
p3985
aVsvn folder which tells SVN that the folder is a working copy folder
p3986
aVDelete/replace the files, but not the directories
p3987
aVOr delete the folder, commit, add the new folder, and commit again
p3988
as(dp3989
g23
V571407
p3990
stp3991
a((dp3992
g2
(lp3993
Vvendor is usually used for vendor branches, i
p3994
ag468
aVbranches used to apply small changes needed by your software inside externally developed software
p3995
aVRead more about them in the SVN book
p3996
as(dp3997
g23
V571407
p3998
stp3999
a((dp4000
g2
(lp4001
VOne of the important principles in programming is DRY : Don't Repeat Yourself
p4002
aVSo, everything common to several usecases should be written once, in a single location
p4003
aVNow, I've never had to develop an application where each database table had the same, generic, crud pages
p4004
aVIf it were the case, it wouldn't be a functional application, but a database management application
p4005
aVAre you sure you aren't redeveloping phpMyAdmin
p4006
as(dp4007
g23
V571407
p4008
stp4009
a((dp4010
g2
(lp4011
VCookies are sent with every request to the web app, and should thus be used very rarely
p4012
aVYou should probably use request (get/post) parameters, and store values that must persist for a whole user session in the HttpSession object
p4013
aVNow, to answer your specific question: everything coming from the client browser is stored in the HttpServletRequest object
p4014
aVBrowse the javadoc for this class (part of the Java Enterprise Edition - Java EE javadoc), and you'll find a method named getCookies()
p4015
aVFollow the links, and you'll find how to extract the cookies you're interested in, and get their value
p4016
as(dp4017
g23
V571407
p4018
stp4019
a((dp4020
g2
(lp4021
VThis is completely wrong
p4022
aVSwing is single-threaded
p4023
aVEvery interaction with swing components must be done in the single, event dispatch, thread
p4024
aVRead this tutorial carefully
p4025
aVIt explains how things must be done when working with multiple threads
p4026
aVAlso read this tutorial on progress bars and progress monitors
p4027
as(dp4028
g23
V571407
p4029
stp4030
a((dp4031
g2
(lp4032
VYou have a bidirectional OneToMany association here : an account has many orders, and an order has one account
p4033
aVOne of the association is the inverse of the other one
p4034
aVYou must thus define the mapping for this association on one side (usually, the many side: this is mandated by JPA), and declare that the association is the inverse of another one on the other side (the one side) :
p4035
aVNote that most of the time, it's wrong to have a cascade all on the many side of a relationship
p4036
aVYou don't want an account to be deleted when an order is, do you
p4037
aVThe account holds the orders, not the reverse
p4038
aVFinally, regarding your query: it's not a SQL query, it's a HQL query
p4039
aVAnd you should not use concatenation, but bind parameters : this is safer (no injection attack), clearer (no quoting necessary, more readable), and faster :
p4040
as(dp4041
g23
V571407
p4042
stp4043
a((dp4044
g2
(lp4045
VTo track what is being edited in a JTextField "real-time", you must add a DocumentListener to the document of the JTextField:
p4046
as(dp4047
g23
V571407
p4048
stp4049
a((dp4050
g2
(lp4051
VThe appropriate listener in Java's swing to track changes in the text content of a JTextField is a DocumentListener, that you have to add to the document of the JTextField:
p4052
as(dp4053
g23
V571407
p4054
stp4055
a((dp4056
g2
(lp4057
VYou could store the innerHTML value of the strong element in a temp variable, then create a new "b" element and set its innerHTML to the value stored in the temp variable, and finally use the replaceChild method on the strong element's parent to replace the strong element with the new b element
p4058
as(dp4059
g23
V571407
p4060
stp4061
a((dp4062
g2
(lp4063
VIt's not very clear (what are listOfDays, listOfCourts and listOfTimes
p4064
aV, but I guess you need something like this:
p4065
aVIn short, a map can be viewed as a set of map entries, and you can iterate through this entry set
p4066
aVEach entry has a key and a value
p4067
aVSince the value, in your case, is another map, you can repeat this operation on the value
p4068
as(dp4069
g23
V571407
p4070
stp4071
a((dp4072
g2
(lp4073
VThe list, as is, doesn't provide a way to iterate over its elements
p4074
aVIf it did, you could ask the list for an iterator and get the next element of the list from the iterator, until it reaches the last element
p4075
aVMaking it circular would change the iterator behavior: it would go back to the first element once the last element is reached
p4076
aVSo, the answer is that to make it circular, you have to change the methods of the list so that the next link of the last one is the first one, an the previous link of the first one is the last one
p4077
aVBut if you don't add other methods to the list, doing it won't change anything: the public behavior of the existing methods will stay the same once the list is made circular
p4078
as(dp4079
g23
V571407
p4080
stp4081
a((dp4082
g2
(lp4083
V means "non word character"
p4084
aVThe pattern for whitespace characters is
p4085
aVThis is well documented in the Pattern javadoc
p4086
as(dp4087
g23
V571407
p4088
stp4089
a((dp4090
g2
(lp4091
V is probably what you're looking for
p4092
aVIt uses the  windows command behind the scenes
p4093
as(dp4094
g23
V571407
p4095
stp4096
a((dp4097
g2
(lp4098
VBackup the modifications made in main
p4099
aVpy, revert test
p4100
aVpy, delete main
p4101
aVpy (you have a backup), svn rename test
p4102
aVpy into main
p4103
aVpy, copy/paste the code from your backup to main
p4104
aVpy, and commit
p4105
as(dp4106
g23
V571407
p4107
stp4108
a((dp4109
g2
(lp4110
VDoes it make sense to have a DAOImpl instance without session factory
p4111
aVIf it doesn't make sense, then it should be in the constructor
p4112
aVThis way, a DAOImpl instance is in a valid state once constructed, and is never in an invalid state
p4113
aVEdit : the session factory should be private, not public
p4114
as(dp4115
g23
V571407
p4116
stp4117
a((dp4118
g2
(lp4119
VThis is the way it's supposed to work: the owning side is the one which owns the relationship, and which is responsible of managing it in database
p4120
aVIt's the responsibility of the developer (i
p4121
ag468
aVyour responsibility) to make sure your object graph is always coherent : if one side of a relationship is modified, then the other side should be modified as well
p4122
aVIf you don't always do this, you must at least make sure to modify the owning side of the relationship, because Hibernate only cares about the owning side
p4123
as(dp4124
g23
V571407
p4125
stp4126
a((dp4127
g2
(lp4128
VThis is the way it's supposed to work
p4129
aVTCP uses packets to transfer data, but it's not visible from the high-level socket API : you open a output stream and send as much data as you want
p4130
aVThis data is split into packets by the TCP/IP protocol stack
p4131
aVAnd at the receiving side, you open an input stream and receive the data, without knowing it has been split into packets
p4132
aVIf you want two application-level packets, then design a transfer protocol using separators between your packets, or fixed-size chunks of data, or anything else allwoing to distinguish what is part of a logical packet and what is part of the next one
p4133
as(dp4134
g23
V571407
p4135
stp4136
a((dp4137
g2
(lp4138
VYour relationship between Task and TaskStep is mapped twice : once in Task, and once in TaskStep
p4139
aVThe @JoinColumn in Task should disappear, and the @OneToMany should have a "mappedBy" attribute:
p4140
as(dp4141
g23
V571407
p4142
stp4143
a((dp4144
g2
(lp4145
VThis has nothing to do with NetBeans, but everything to do with Java
p4146
aVTo access a resource in the classpath, you should use  method
p4147
aVRead its documentatino carefully
p4148
aVIn your case, you should use
p4149
aVAlso, packages in Java should be in all lowercase
p4150
as(dp4151
g23
V571407
p4152
stp4153
a((dp4154
g2
(lp4155
s(dp4156
g23
V571407
p4157
stp4158
a((dp4159
g2
(lp4160
VIt's the only solution to map a ManyToMany association : you need a join table between the to entities tables to map the association
p4161
aVIt's also used for OneToMany (usually unidirectional) associations, when you don't want to add a foreign key in the table of the many side, and thus keep it independant of the one side
p4162
aVSearch for @JoinTable in the hibernate documentation for explanations and examples
p4163
as(dp4164
g23
V571407
p4165
stp4166
a((dp4167
g2
(lp4168
VI think it's the only case it's used
p4169
aVAnd it's not something which is commonly used, because it's usually more readable to change the value of a flag to end a loop prematurely
p4170
as(dp4171
g23
V571407
p4172
stp4173
a((dp4174
g2
(lp4175
VYou could specify  on all your associations, recursively, but this would load a whole bunch of data you're probably not interested in
p4176
aVIt's usually a better solution to at least let all OneToMany and ManyToMany associations to LAZY (which is the default), and initialize them before closing the session if your use-case needs them (or even load them with an ad-hoc query)
p4177
aVOneToOne and ManyToOne associations are EAGER by default, and this already often generates too many requests
p4178
aVI usually prefer to mark everything lazy, unless all the use-cases need to fetch the association
p4179
as(dp4180
g23
V571407
p4181
stp4182
a((dp4183
g2
(lp4184
VUpdate statements in JPQL are rarely used, and should be used for batch updates, but not simply to update one entity
p4185
aVThey translate directly to SQL, and you can't update a patient and all his related persons like this in SQL
p4186
aVThe same goes for JPQL
p4187
aVTo do what you want to do, just get the patient from the database, and set the new properties into the loaded patient :
p4188
aVOr, if the updatable patient is a detached copy of the patient to update, and thus has the same ID,
p4189
aVThe whole point of JPA (or at least one of its points) is to be able to use and modify an object graph rather than use queries to create and update data in database
p4190
as(dp4191
g23
V571407
p4192
stp4193
a((dp4194
g2
(lp4195
V is supposed to assign an identifier to a transient instance and persisting it by doing an insert
p4196
aVI'm rather surprised that it doesn't do this in your first service call
p4197
aVAnd since a NPE occurs in your service call, the transaction is rolled back (since you configured it with ), which could explain some differences between the succeeding calls and the failing ones
p4198
aVI don't know what your two first lines of code are supposed to do, but as Bozho said, you should not bind resources to the TransactionSynchronizationManager yourself
p4199
aVIt's Spring's responsibility
p4200
as(dp4201
g23
V571407
p4202
stp4203
a((dp4204
g2
(lp4205
V doesn't make the gameThread thread to pause
p4206
aVIt makes the current thread (i
p4207
ag468
aVthe event dispatch thread) to wait
p4208
aVSince the EDT is waiting, it can't receive a keypressed event anymore: the entire GUI freezes
p4209
aVRead the Java tutorial on concurrency, and particularly the following page: http://download
p4210
aVoracle
p4211
aVcom/javase/tutorial/essential/concurrency/guardmeth
p4212
aVhtml
p4213
aVYou should probably change the value of an AtomicBoolean variable, which is regularly inspected by the game thread to know if it has to pause
p4214
aVThe game thread would then wait on a shared lock object
p4215
aVWhen resuming, change the boolean variable again and notify the game thread
p4216
as(dp4217
g23
V571407
p4218
stp4219
a((dp4220
g2
(lp4221
VYou need to use JavaScript and bind an event listener on the button or on the form containing the button to check the value of the field and forbid the click or the form submission if the value is empty
p4222
aVThe precise answer depends on what you're using at client-side and what browsers you want to support (raw JavaScript, JQuery,
p4223
aVHere's an example with raw JavaScript:
p4224
as(dp4225
g23
V571407
p4226
stp4227
a((dp4228
g2
(lp4229
s(dp4230
g23
V571407
p4231
stp4232
a((dp4233
g2
(lp4234
VWith IDENTITY generation, the entity is first inserted in database with a null identifier, and a query is executed afterwards to get the value of the generated ID
p4235
aVSo, at insert time, your ID is null and thus violates the NotNull constraint
p4236
as(dp4237
g23
V571407
p4238
stp4239
a((dp4240
g2
(lp4241
VMost of the Java web frameworks support mapped properties (i
p4242
ag468
aV/ ) or direct read-write access to a map inside the form bean/action bean
p4243
aVWithout knowing the framework you're using and what you mean by "handler", it's difficult to give a more precise answer
p4244
as(dp4245
g23
V571407
p4246
stp4247
a((dp4248
g2
(lp4249
VHibernate uses batch inserts
p4250
aVThis does not mean that a single statement is used to insert many entities
p4251
aVIt means it uses  and  internally
p4252
aVThis effectively reduces the number of roadtrips to the database (read the linked javadoc for more detailed explanations), and I very much doubt it's less (or significantly less) performant than a single insert statement
p4253
aVBefore optimizing, make sure there is a performance problem, and make sure to spot where the performance problem comes from
p4254
as(dp4255
g23
V571407
p4256
stp4257
a((dp4258
g2
(lp4259
VThe response containing the PDF binary stream should have the following header :
p4260
aVThis will tell browsers to treat the PDF as an attachment, and the browser will open a Save As dialog box where the proposed file name is theFileName
p4261
aVpdf
p4262
aVYou won't have any possibility to suggest a directory location, though
p4263
as(dp4264
g23
V571407
p4265
stp4266
a((dp4267
g2
(lp4268
s(dp4269
g23
V571407
p4270
stp4271
a((dp4272
g2
(lp4273
s(dp4274
g23
V571407
p4275
stp4276
a((dp4277
g2
(lp4278
VHere's a simple workaround
p4279
as(dp4280
g23
V571407
p4281
stp4282
a((dp4283
g2
(lp4284
VWhat do you mean by "server"
p4285
aVDo you mean the database server
p4286
aVIf so, then there's no way to create a parent and a child in one SQL statement
p4287
aVBut Hibernate uses batch updates, so it should be very efficient
p4288
aVIf you mean the "application server", then it sounds like a functional problem, not a technical one
p4289
aVChange your parent creation method to make it create a child at the same time
p4290
aVYou could even do that using a factory method in the Parent class :
p4291
as(dp4292
g23
V571407
p4293
stp4294
a((dp4295
g2
(lp4296
VI'm not sure this is the cause of the error message you get, but your mapping has several errors:
p4297
aVEach of the  in your  attribute should have their  attribute specified
p4298
aVThe values of the joinColumns and inverseJoinColumns attributes should be switched
p4299
aVjoinColumns is used to reference the source entity
p4300
aVinverseJoinColumns is used to reference the target entity
p4301
aVThe  attribute should be , and not
p4302
aV(unrelated, but probably incorrect) :  is probably not what you want on a many-to-many
p4303
aVYou don't want to delete all the annotations of a triple when this triple is deleted, since these annotations are referenced by other triples
p4304
as(dp4305
g23
V571407
p4306
stp4307
a((dp4308
g2
(lp4309
VRead http://docs
p4310
aVjboss
p4311
aVorg/hibernate/core/3
p4312
aV6/reference/en-US/html_single/#d0e7576, and find the many-to-one description in paragraph 5
p4313
ag10
aV7
p4314
ag10
aVIt says :
p4315
aVunique (optional): enables the DDL
p4316
aVgeneration of a unique constraint for
p4317
aVthe foreign-key column
p4318
aVBy allowing
p4319
aVthis to be the target of a
p4320
aVproperty-ref, you can make the
p4321
aVassociation multiplicity one-to-one
p4322
aVThis means that it's used by the database schema generation tool of Hibernate to add a unique constraint
p4323
aVIf you don't use it, then you must add this constraint yourself
p4324
as(dp4325
g23
V571407
p4326
stp4327
a((dp4328
g2
(lp4329
VFind the following entry in the same file :
p4330
aVIt will give you the class name of the servlet
p4331
as(dp4332
g23
V571407
p4333
stp4334
a((dp4335
g2
(lp4336
VThe DateTime constructor also expects specific formats, and I doubt dd-mm-yyyy is one of them
p4337
aVFirst parse your dd-mm-yyyy date to transform it into a DateTime object, and then format this DateTime object using the yyyy-mm-dd format :
p4338
as(dp4339
g23
V571407
p4340
stp4341
a((dp4342
g2
(lp4343
VSince you're using the XML syntax to write your JSPs, the comment is interpreted as an XML comment, and is thus not part of the response
p4344
aVTry using the jsp:text directive or try with
p4345
as(dp4346
g23
V571407
p4347
stp4348
a((dp4349
g2
(lp4350
VYou should use an AtomicReference to store the new map, in order to avoid synchronization and visibility problems
p4351
aVBut the biggest problem in your code is that you give access to a non-thread-safe mutable map to several threads
p4352
aVYou should wrap your map into an unmodifiable map :
p4353
aVTo answer your question about JIT optimization : no, the JIT won't remove the temp map usage
p4354
as(dp4355
g23
V571407
p4356
stp4357
a((dp4358
g2
(lp4359
VTo create a persistent UserSetting instance, you need a persistent Setting instance
p4360
aVHibernate can't decide which instance it needs for you
p4361
aVYou're responsible fo find a Setting instance, or create a new one, before setting it in the new UserSetting instance
p4362
as(dp4363
g23
V571407
p4364
stp4365
a((dp4366
g2
(lp4367
VFor HQL queries, you need to create your own dialect based on the Oracle dialect you're currently using (Oracle10gDialect), and add your function to this dialect
p4368
aVFor Criteria queries, you may define your own Criterion implementation and use it in your query
p4369
aVThis Criterion is responsible of the generation of the SQL expression
p4370
aVLook at the Hibernate sources to find an example of an existing criterion implementation similar to the one you want to create
p4371
as(dp4372
g23
V571407
p4373
stp4374
a((dp4375
g2
(lp4376
VA servlet is part of a web app, and this web app is deployed in a Java EE container (Tomcat, WebLogic, etc
p4377
aVThe standard way to get a database connection is to use JNDI to get a DataSource instance, and to ask a connection to this DataSource
p4378
aVThe DataSource, most of the time, will pool database connections to avoid creating and closing too many connections and thus be much faster :
p4379
aVThe DataSource will have to be declared in the web
p4380
aVxml file:
p4381
aVIt will have to be defined (with its URL, number of connections, user, password, settings, etc
p4382
aVinside your Java EE container
p4383
aVThis is where it depends on your container
p4384
aVRead the following explanations for Tomcat : http://tomcat
p4385
aVapache
p4386
aVorg/tomcat-7
p4387
aV0-doc/jndi-datasource-examples-howto
p4388
aVhtml
p4389
as(dp4390
g23
V571407
p4391
stp4392
a((dp4393
g2
(lp4394
VYou could use a listener, configured to listener to appropriate event (post-update, post-delete, post-insert for example)
p4395
aVThe complete list can be found in the source of
p4396
aVRead http://docs
p4397
aVjboss
p4398
aVorg/hibernate/core/3
p4399
aV6/reference/en-US/html_single/#objectstate-events to know how to register your listener(s)
p4400
as(dp4401
g23
V571407
p4402
stp4403
a((dp4404
g2
(lp4405
VYou can put any object inside of a JComboBox
p4406
aVBy default, it uses the toString method of the object to display a label navigate in the combo box using the keyboard
p4407
aVSo, the best way is probably to define and use appropriate objects inside the combo :
p4408
as(dp4409
g23
V571407
p4410
stp4411
a((dp4412
g2
(lp4413
VThe javadoc says :
p4414
aVReturns the name of the violated
p4415
aVconstraint, if known
p4416
aVSo I guess the MySQL driver doesn't give access to the violated constraint name in the SQLException it generated, or Hibernate doesn't know how to get it from the SQLException
p4417
aVLook at the details of the SQLException using a debugger, and see if it can be extracted from somewhere
p4418
aVIf it can, then try extending the dialect in order to extract the constraint name
p4419
as(dp4420
g23
V571407
p4421
stp4422
a((dp4423
g2
(lp4424
VLook at Strategies for dealing with constantly changing requirements for MySQL schemas
p4425
aVfor a similar question and its answer
p4426
aVTo make it short, once you have a reasonable amount of data and need to migrate it from one schema to another one, you'll need to write SQL scripts to alter your schema and move/transform data
p4427
as(dp4428
g23
V571407
p4429
stp4430
a((dp4431
g2
(lp4432
VSpring will automatically rollback a transaction if a runtime exception is thrown from a method annotated with @Transactional
p4433
aVYou usually don't care if it's rolled back or not, because the exception will propagate up to the call stack
p4434
aVIf you really need to know if the transaction is rolled back, use
p4435
aVNo
p4436
aVIf you catch a runtime exception thrown from a transactional method, the transaction used to run this method is rolled back
p4437
aVNo
p4438
aVYou need transactions to use Hibernate, and this is a good thing
p4439
aVDoing database work without transactions is a recipe for disasters
p4440
aVYes, you need a transactional engine
p4441
as(dp4442
g23
V571407
p4443
stp4444
a((dp4445
g2
(lp4446
VIf you really need the directory structure to be updated in a single commit, You might use WinMerge :
p4447
aVcompare the two trees recursively, using a SVN filter to avoid comparing
p4448
aVsvn directories
p4449
aVRemove the files and directories which don't exist in the new structure from your WC
p4450
aVAdd the files and directories which only exist in the new structure to your WC
p4451
aVReplace all the files which exist in both structure with the new ones in your WC
p4452
aVcommit
p4453
as(dp4454
g23
V571407
p4455
stp4456
a((dp4457
g2
(lp4458
VGo to your project properties, select "Builders", and add a new Ant Builder
p4459
aVYou may specify which targets to run at what time (during a clean, after a clean, etc
p4460
aV, and which resources (if any) to refresh in Eclipse after your ant target is executed
p4461
as(dp4462
g23
V571407
p4463
stp4464
a((dp4465
g2
(lp4466
s(dp4467
g23
V571407
p4468
stp4469
a((dp4470
g2
(lp4471
VI see several reasons:
p4472
aVThe most used database in enterprise apps is probably Oracle, and Oracle doesn't have auto-generated IDs, but sequences
p4473
aVSequences allows having the ID before inserting a new row, rather than after inserting the new row
p4474
aVThis is easier to use and more efficient because you can batch insert statements at the end of the transaction but still have IDs definned in the middle of the transaction
p4475
aVSequences allow using hilo algorithms (which is the default with the hibernate sequence generation), and thus make only one DB call for several inserts, thus increasing performance
p4476
aVAUTO varies between databases, whereas sequence always uses the same strategy
p4477
as(dp4478
g23
V571407
p4479
stp4480
a((dp4481
g2
(lp4482
VIt all depends on the propagation set in the @Transactional annotation
p4483
aVBy default, it's set to , which means : if no transaction context, create one and commit at the end of the method; else, include the method call inside the existing transaction context
p4484
aVThere are other ones : REQUIRES_NEW, SUPPORTS, NEVER, etc
p4485
aVSee http://static
p4486
aVspringsource
p4487
aVorg/spring/docs/3
p4488
ag2332
aVx/api/org/springframework/transaction/annotation/Propagation
p4489
aVhtml for details
p4490
as(dp4491
g23
V571407
p4492
stp4493
a((dp4494
g2
(lp4495
VJLabel is probably what you're looking for
p4496
as(dp4497
g23
V571407
p4498
stp4499
a((dp4500
g2
(lp4501
VIf you declare a variable as Collection, this means that you normally plan to consider this variable, in the rest of your program, as a simple Collection, and not as a linked list
p4502
aVThe methods offered by the Collection interface should be sufficient for the rest of your program using this variable
p4503
aVIf you need access to a specific method only present in the LinkedList class, then the variable should be a declared as LinkedList
p4504
as(dp4505
g23
V571407
p4506
stp4507
a((dp4508
g2
(lp4509
VIf you're sending non-character data (i
p4510
ag468
aVbinary data for example) in your XML, you might encode them using Base64
p4511
aVBut I'm not sure I've understood your question correctly
p4512
aVMaybe you just forgot to encode your XML in UTF-8, using
p4513
as(dp4514
g23
V571407
p4515
stp4516
a((dp4517
g2
(lp4518
VRead http://download
p4519
aVoracle
p4520
aVcom/javase/6/docs/api/java/lang/String
p4521
aVhtml for the documentation of the String methods
p4522
as(dp4523
g23
V571407
p4524
stp4525
a((dp4526
g2
(lp4527
VSee http://www
p4528
aVdisplaytag
p4529
aVorg/1
p4530
aV2/tut_externalSortAndPage
p4531
aVhtml
p4532
aVThe idea is to pass an instance of  to the tag instead of a
p4533
aVIf this is the case, then the tag will generate hrefs with not encoded parameters for the page number to load, the sort criterion and direction (asc, desc) to use, and an optional search ID used, for example, to cache your query result at server-side
p4534
aVIn this case, it's of your responsibility to read these parameters, and perform the queries  allowing the creation of a  instance
p4535
as(dp4536
g23
V571407
p4537
stp4538
a((dp4539
g2
(lp4540
VThis is not related to the fact you have several JVMs
p4541
aVYou could have the same scenario with two concurrent threads on the same JVM, because Hibernate doesn't do any locking at all
p4542
aVIf you need locking, then use optimistic locks (using a version attribute), or use locks in the database (with LockMode
p4543
aVUPGRADE)
p4544
aVBut both locking mechanisms will lead to exceptions : they're unavoidable once you have several parallel transactions working on the same data
p4545
aVYou have to design your application (i
p4546
ag468
aVpresent error messages, implement retry mechanisms, etc
p4547
aVwith that in mind
p4548
as(dp4549
g23
V571407
p4550
stp4551
a((dp4552
g2
(lp4553
V detects if the whole address string matches the expression
p4554
aVAnd your expression can only be matched by a single character
p4555
aVAdd a  at the end of your regexp to match one or several of the accepted characters
p4556
as(dp4557
g23
V571407
p4558
stp4559
a((dp4560
g2
(lp4561
VNot tested, but you could register a custom editor for your property, using , in a method annotated with
p4562
aVThis editor would simply return the default long value
p4563
aVSee http://static
p4564
aVspringsource
p4565
aVorg/spring/docs/3
p4566
ag2332
aVx/spring-framework-reference/html/validation
p4567
aVhtml for documentation and examples
p4568
as(dp4569
g23
V571407
p4570
stp4571
a((dp4572
g2
(lp4573
VYou get this error because the method is protected
p4574
aVThis means the method can only be called from within the JSpinner class or a subclass (or a class in the same package)
p4575
aVIt's not supposed to be called from the outside
p4576
aVThe spinner is responsible for firing a state changed event each time a change to its model occurs
p4577
aVChange the value of the spinner, either through the UI or by calling the setValue method, and a state changed event will automatically be fired by the spinner
p4578
as(dp4579
g23
V571407
p4580
stp4581
a((dp4582
g2
(lp4583
VEvery URL in a properly designed action-based application should point to the dispatching servlet/filter (i
p4584
ag468
aVend with
p4585
aVaction in your case), and never directly to a JSP
p4586
aVThat's what the action pattern of action-based frameworks like Struts is all about
p4587
aVTo do what you want to do, you should not forward to the welcome
p4588
aVjsp after the login is sucessful
p4589
aVYou should instead redirect to the welcome
p4590
aVaction action, which would then forward to the welcome
p4591
aVjsp
p4592
aVSee http://struts
p4593
aVapache
p4594
aVorg/2
p4595
ag2332
aV14/docs/redirect-action-result
p4596
aVhtml for details
p4597
aVAnd see http://en
p4598
aVwikipedia
p4599
aVorg/wiki/Post/Redirect/Get for explanations on the Post/Redirect/Get pattern
p4600
as(dp4601
g23
V571407
p4602
stp4603
a((dp4604
g2
(lp4605
VOO design is not meant to prevent attacks, IMHO
p4606
aVIt can be useful to prevent inappropriate usage of your classes and bugs due to bad comprehension, irrespect of the contract, incompetence, or programming errors, though
p4607
aVSince your Example class is not serializable, I would say that serialization is not a problem in this case
p4608
aVRegarding reflection, if someone uses it to create another instance of your singleton, then he's obviously malicious IMO, and risks shooting himself in the foot anyway
p4609
as(dp4610
g23
V571407
p4611
stp4612
a((dp4613
g2
(lp4614
VIf the getter is , then the name of the property is , not
p4615
aVUse
p4616
as(dp4617
g23
V571407
p4618
stp4619
a((dp4620
g2
(lp4621
VYou need to write the Criteria equivalent of
p4622
aVThis means writing a DetachedCriteria for each subquery, with an id projection, and using these detached criterias as argument of two  calls
p4623
aVThe alias of the address entity in the main criteria can be used in the detached criterias to implement the  restriction
p4624
as(dp4625
g23
V571407
p4626
stp4627
a((dp4628
g2
(lp4629
VThis should be possible using the copy task with a filterchain
p4630
aVThis filterchain would contain a concatfilter with an append attribute pointing to a file containing the line to add
p4631
aVSee http://ant
p4632
aVapache
p4633
aVorg/manual/Types/filterchain
p4634
aVhtml#concatfilter and http://ant
p4635
aVapache
p4636
aVorg/manual/Tasks/copy
p4637
aVhtml for details
p4638
as(dp4639
g23
V571407
p4640
stp4641
a((dp4642
g2
(lp4643
VIf the web service call doesn't depend on what you might have updated in a previous iteration, you could make all your web service calls in a first pass and collect the results in memory, and then start a transaction for all your updates
p4644
aVThis would make your transaction much shorter and, since I assume the web service call isn't transactional anyway, it wouldn't affect the coherence of your data
p4645
as(dp4646
g23
V571407
p4647
stp4648
a((dp4649
g2
(lp4650
VRead http://en
p4651
aVwikipedia
p4652
aVorg/wiki/HTTP_404#Custom_error_pages and http://www
p4653
aVthesitewizard
p4654
aVcom/webdesign/google-chrome
p4655
aVshtml
p4656
aVIE and Chrome replace the custom page by their own 404 page if the custom page is less than 512 bytes
p4657
as(dp4658
g23
V571407
p4659
stp4660
a((dp4661
g2
(lp4662
VThe first result of a google search for "sonar ant" leads me here
p4663
aVEverything is explained there
p4664
as(dp4665
g23
V571407
p4666
stp4667
a((dp4668
g2
(lp4669
VA target which has a description is public because it appears when you execute
p4670
aVThe others are considered private because they don't appear by default
p4671
as(dp4672
g23
V571407
p4673
stp4674
a((dp4675
g2
(lp4676
VYou could use a GreaseMonkey script which would programmatically click on all the names for you
p4677
as(dp4678
g23
V571407
p4679
stp4680
a((dp4681
g2
(lp4682
VThe user alias is not defined
p4683
aVTry with
p4684
aVwhere carIds is a collection (and not a string  as in your third try) containing the IDs of the cars
p4685
as(dp4686
g23
V571407
p4687
stp4688
a((dp4689
g2
(lp4690
VYou are transforming a stream of binary data into a String at the line
p4691
aVDon't do this
p4692
aVThis transformation uses a charset and decodes bytes into chars, but certainly fails because the stream doesn't hold valid characters of this charset
p4693
aVIf it's binary, store it as binary (into a stream, or a byte array) :
p4694
as(dp4695
g23
V571407
p4696
stp4697
a((dp4698
g2
(lp4699
VUse the  attribute of the  annotation
p4700
aVI'm not sure this is supported by the standard though
p4701
aVIt might work in some implementations, and not in others
p4702
aVSee http://docs
p4703
aVjboss
p4704
aVorg/hibernate/stable/annotations/reference/en/html/entity
p4705
aVhtml#entity-mapping-association for Hibernate, and http://openjpa
p4706
aVapache
p4707
aVorg/builds/2
p4708
ag10
aV0/apache-openjpa-2
p4709
ag10
aV0/docs/manual/manual
p4710
aVhtml#ref_guide_mapping_notes_nonstdjoins for OpenJPA
p4711
as(dp4712
g23
V571407
p4713
stp4714
a((dp4715
g2
(lp4716
VYou should read the api doc more carefully
p4717
aVOpening a FileOutputStream in non-append more always erases the contents of the file and writes at the beginning
p4718
aVMoreover, the offset argument of the write method is an offset from the beginning of the data (the byte array argument), not from the beginning of the file
p4719
aVYou should just open the stream in append mode, and start writing when you have read n bytes of data, n being the number of bytes already present in the file
p4720
as(dp4721
g23
V571407
p4722
stp4723
a((dp4724
g2
(lp4725
VSee http://ant
p4726
aVapache
p4727
aVorg/manual/Tasks/jar
p4728
aVhtml
p4729
aVYou just have to use filesets or includes/excludes inside your jar task to include only the files you want in each jar:
p4730
as(dp4731
g23
V571407
p4732
stp4733
a((dp4734
g2
(lp4735
VDon't use exceptions for this
p4736
aVExceptions should be used for exceptional situations, and not being able to perform some task seems to be normal
p4737
aVI would add a method
p4738
aVin the Worker class, and have the boss iterate through his workers and find a worker able to execute the task before assigning it
p4739
as(dp4740
g23
V571407
p4741
stp4742
a((dp4743
g2
(lp4744
VI don't think any XML api would let you access an element's text as a stream rather than a String
p4745
aVIf the String is 100 MB, then your only option is probably to change the JVM's heap size until you don't have any OutOfMemoryError :
p4746
as(dp4747
g23
V571407
p4748
stp4749
a((dp4750
g2
(lp4751
VTransactions in Spring are supported through AOP and proxies
p4752
aVThis means that if a method of a class instance calls another method of the same instance, it doesn't invoke the method through a Spring proxy, and Spring can't intercept the call and start a new transaction for you
p4753
aVYou need to put the method with the  propagation inside another Spring component
p4754
as(dp4755
g23
V571407
p4756
stp4757
a((dp4758
g2
(lp4759
VTo be able to deserialize an object, you need to have the concrete class of the object (and, recursively, of all the objects referenced by the object) in the classpath
p4760
aVSo yes, the client needs the User class in its classpath
p4761
aVHave you thought about using RMI instead of using plain sockets
p4762
aVThis would probably be much easier
p4763
as(dp4764
g23
V571407
p4765
stp4766
a((dp4767
g2
(lp4768
VGoogle for Base64, and use Apache commons codec to have a ready to use implementation
p4769
as(dp4770
g23
V571407
p4771
stp4772
a((dp4773
g2
(lp4774
VThe second one should be preferred, because Thread
p4775
aVsleep is a static method, and should thus always be invoked, like all static methods, on the class defining it rather than on an instance of this class
p4776
as(dp4777
g23
V571407
p4778
stp4779
a((dp4780
g2
(lp4781
VFirst of all, Timer
p4782
aVschedule schedules the task for one execution, not for repeated executions
p4783
aVSo this program can only make the button move once
p4784
aVAnd you have a second problem : all the interactions with swing components should be done in the event dispatch thread, and not in a background thread
p4785
aVRead http://download
p4786
aVoracle
p4787
aVcom/javase/6/docs/api/javax/swing/package-summary
p4788
aVhtml#threading for more details
p4789
aVUse a javax
p4790
aVswing
p4791
aVTimer to perform swing actions at repeated intervals
p4792
as(dp4793
g23
V571407
p4794
stp4795
a((dp4796
g2
(lp4797
VYou need to use JavaScript to make an anchor link do a post
p4798
aVYou might use CSS to style your submit button and make it look more like a link, though
p4799
as(dp4800
g23
V571407
p4801
stp4802
a((dp4803
g2
(lp4804
V(assuming the bw_jobs table is mapped by the Job entity, and the job_date column is mapped to the jobDate property)
p4805
aVSee http://docs
p4806
aVjboss
p4807
aVorg/hibernate/core/3
p4808
aV6/reference/en-US/html_single/#queryhql-expressions for the list of functions supported by Hibernate
p4809
as(dp4810
g23
V571407
p4811
stp4812
a((dp4813
g2
(lp4814
VPlease post the code you really try to make work, and the error message you get from the Java compiler
p4815
aVThe code you posted isn't valid Java
p4816
aVEverything you want to do is doable
p4817
aVHere's a working example :
p4818
aVRunning it gives :
p4819
as(dp4820
g23
V571407
p4821
stp4822
a((dp4823
g2
(lp4824
VHtmlUnit is a programmable web browser (in Java)
p4825
aVSee http://htmlunit
p4826
aVsourceforge
p4827
aVnet/gettingStarted
p4828
aVhtml
p4829
as(dp4830
g23
V571407
p4831
stp4832
a((dp4833
g2
(lp4834
VThe syntax is very similar to the one of SQL
p4835
aVHave you read the Hibernate reference
p4836
as(dp4837
g23
V571407
p4838
stp4839
a((dp4840
g2
(lp4841
VThere is normally no problem using an annotated class without the annotation interface being present in the classpath, even if the annotation is a runtime one
p4842
aVOf course, if the class byte-code is instrumented or if some class tries using the annotation at runtime, it's another matter
p4843
as(dp4844
g23
V571407
p4845
stp4846
a((dp4847
g2
(lp4848
VYou won't be able to use Hibernate on GAE
p4849
aVHibernate is only usable on top of a relational database
p4850
aVIf you want to use JPA, then use the implementation available on GAE, and based on DataNucleus
p4851
aVSee http://code
p4852
aVgoogle
p4853
aVcom/intl/fr/appengine/docs/java/datastore/jpa/overview
p4854
aVhtml for details
p4855
aVNote that everything possible with JPA won't be possible on GAE, due to limitations of the GAE datastore
p4856
as(dp4857
g23
V571407
p4858
stp4859
a((dp4860
g2
(lp4861
VIn addition to the good remarks made in the other answers, I would say that giving the users the ability to completely edit their CSS could be dangerous for your site, and would not add much value for regular users, which don't master CSS
p4862
aVThose mastering CSS could simply use a browser extension (like Stylish, for example), to customize the CSS, without any effort from your part and any security risk for your site
p4863
aVI would thus do something more high-level (allowing users to choose colors, fonts, etc
p4864
aVusing an easy to use interface), or do nothing at all
p4865
as(dp4866
g23
V571407
p4867
stp4868
a((dp4869
g2
(lp4870
VThis problem is due to the fact that you don't test if there is a next token before trying to get the next token
p4871
aVYou should always test if  before returns  before calling
p4872
aVBut you have other bugs :
p4873
aVThe first line is read, but not tokenized
p4874
aVYou only add the first word of each line to your list of words
p4875
aVbad practice : the token variable should be declared inside the loop, and not outside
p4876
aVyou don't close your reader in a finally block
p4877
as(dp4878
g23
V571407
p4879
stp4880
a((dp4881
g2
(lp4882
VThe manual says :
p4883
aVPrior to PHP 5
p4884
ag12
aV1, in order to use
p4885
aVthis directive it had to be enabled at
p4886
aVcompile time by using
p4887
aV--enable-memory-limit in the configure line
p4888
aVThat might be the cause of your problem
p4889
as(dp4890
g23
V571407
p4891
stp4892
a((dp4893
g2
(lp4894
VYou have one localStorage object per origin, the origin being the combination of protocol, host and port
p4895
aVSee http://en
p4896
aVwikipedia
p4897
aVorg/wiki/Same_origin_policy
p4898
aVSo if all your HTML files come from the same protocol/host/port, then they will share the same localStorage
p4899
as(dp4900
g23
V571407
p4901
stp4902
a((dp4903
g2
(lp4904
VIf your goal is to offload work from the DB, then you should think about using a second-level cache
p4905
aVSince the same persons and sites are very often read and rarely updated, a second-level cache for these entities is very well suited, and will effectively reduce the number of times these entities are loaded, without having to change anything in your code
p4906
aVSee http://docs
p4907
aVjboss
p4908
aVorg/hibernate/core/3
p4909
aV6/reference/en-US/html/performance
p4910
aVhtml#performance-cache
p4911
as(dp4912
g23
V571407
p4913
stp4914
a((dp4915
g2
(lp4916
VHere's how I reason about it :  is a Set, and thus doesn't have a  property
p4917
aVOnce you traverse the relationship using a join, you get an alias on the myClass entity, which has a  property
p4918
aVNote: classes in Java should always begin with an upper-case letter
p4919
aVRename  to
p4920
as(dp4921
g23
V571407
p4922
stp4923
a((dp4924
g2
(lp4925
VI don't see how you might do that
p4926
aVBut from what I've read, ENCRYPTBYPASSPHRASE uses triple-DES
p4927
aVSo you might encrypt the data yourself and persist it as is with Hibernate
p4928
aVHere's how it would look like to make it transparent (except for queries, obviously)
p4929
aVwhere  would be responsible for storing the secret key and encrypting/decrypting using triple-DES (which is natively supported in the JDK : see http://download
p4930
aVoracle
p4931
aVcom/javase/6/docs/technotes/guides/security/crypto/CryptoSpec
p4932
aVhtml#Cipher)
p4933
aVJust make sure to test it and make sure that your decryption is able to decrypt what SQL-Server has encrypted, and vice-versa
p4934
as(dp4935
g23
V571407
p4936
stp4937
a((dp4938
g2
(lp4939
VWhen you get a User from the session (with , , association traversal, or a HQL or Criteria query), any change made to the user will be committed when the surrounding transaction is committed (without any call to , ,  or  needed)
p4940
aVIt will not be written to the database (flushed) immediately, but will be when necessary : before the commit, or before the execution of a query whose result might depend on the flush
p4941
aVYou normally don't need to care
p4942
aVIf by "committed to the database", you mean committed in terms of transactional commit, then it's not possible
p4943
aVThe changes are committed when the surrounding transaction is committed
p4944
aVIf you want a specific update to be committed outside of the current transaction, then you need to make the update in another transaction, using code such as the one in BobG's answer, but annotated with
p4945
aVMaybe you should explain more precisely what you want to do, and why you want to do it
p4946
as(dp4947
g23
V571407
p4948
stp4949
a((dp4950
g2
(lp4951
VIt depends on the protocol you're using to access the repo
p4952
aVRead http://svnbook
p4953
aVred-bean
p4954
aVcom/nightly/en/svn-book
p4955
aVhtml#svn
p4956
aVserverconfig
p4957
aVsvnserve
p4958
aVauth for  access, and http://svnbook
p4959
aVred-bean
p4960
aVcom/nightly/en/svn-book
p4961
aVhtml#svn
p4962
aVserverconfig
p4963
aVhttpd
p4964
aVauthn for  access
p4965
aVBasically, it's just a matter of defining  in svnserve
p4966
aVconf (for  access), and not defining any  in httpd
p4967
aVconf for  access (using Apache)
p4968
as(dp4969
g23
V571407
p4970
stp4971
a((dp4972
g2
(lp4973
VThe check constraints (as other constraints) are there to guarantee an additional level of coherence, but they must not be used to replace the validation logic in your app, which should, as you mention, display meaningful error messages, and be done (at least) in the presentation layer, before hitting the database
p4974
aVEven if they might seem like a duplication of the validation logic, constraints are still useful because
p4975
aVthe validation logic could be buggy, or forgotten
p4976
aVthere might be other means to write in the database than the webapp (database scripts, etc
p4977
aVbetween the moment the validation logic is executed and the moment the constraints are checked, another transaction might have changed the data in database
p4978
as(dp4979
g23
V571407
p4980
stp4981
a((dp4982
g2
(lp4983
VThis is why svn blame exists
p4984
as(dp4985
g23
V571407
p4986
stp4987
a((dp4988
g2
(lp4989
VResultID is, I guess, the class of the composite ID of the Result entity
p4990
aVIt's not a hibernate Entity, just an ID
p4991
aVIt's needed because the Result table has a composite primary key, composed of the ID of the AnalyseElementaire and the ID of the Echantillon
p4992
aVThere shouldn't be any DAO for the class, since it's not persistent
p4993
aVIt would certainly be easier to add a surrogate primary key in the Result table, to avoid the composite ID
p4994
as(dp4995
g23
V571407
p4996
stp4997
a((dp4998
g2
(lp4999
VThe length() method doesn't read the file
p5000
aVIt calls a native method which delegates to the OS to get the file length
p5001
aVIts response time should not depend on the actual file length
p5002
as(dp5003
g23
V571407
p5004
stp5005
a((dp5006
g2
(lp5007
VThere is no mention of DateTime functions allowing to do that in the spec of JPQL, but you could always cheat and do
p5008
as(dp5009
g23
V571407
p5010
stp5011
a((dp5012
g2
(lp5013
VCouldn't you just prepend manually :
p5014
as(dp5015
g23
V571407
p5016
stp5017
a((dp5018
g2
(lp5019
VYou must first decide when you consider two MyObject instances to be equal, in terms of their properties, and then execute a query
p5020
aVFor example, let's say you have a Country entity with an ID, a name, and a currency
p5021
aVTwo countries can be considered equal if they have the same name
p5022
aVBut if you have a Person entity, it could be the combination of their name, firstName, date of birth and place of birth that make them functionnally equal
p5023
aVTo continue with my Country example, here's how to perform a query :
p5024
aVThat's pretty basic stuff, really
p5025
aVYou should read the Hibernate user guide
p5026
as(dp5027
g23
V571407
p5028
stp5029
a((dp5030
g2
(lp5031
VThe problem is that you access swing components in other threads than the Event Dispatch Thread (EDT)
p5032
aVThis is forbidden
p5033
aVThe javadoc of every swing componenthas a link to this page : http://download
p5034
aVoracle
p5035
aVcom/javase/6/docs/api/javax/swing/package-summary
p5036
aVhtml#threading, where the threading policy is explained in details
p5037
as(dp5038
g23
V571407
p5039
stp5040
a((dp5041
g2
(lp5042
VThe stack trace tells you exactly where the error lies : at line 227, in the class , and in the method
p5043
aVAt this line, you probably call a method on a null reference
p5044
aVWithout seeing the code, it's impossible to be more precise
p5045
aVBTW : what's the relation between the title and the body of your question
p5046
as(dp5047
g23
V571407
p5048
stp5049
a((dp5050
g2
(lp5051
VJPA's AccessType annotation uses FIELD
p5052
aVI would thus use the term "Field"
p5053
as(dp5054
g23
V571407
p5055
stp5056
a((dp5057
g2
(lp5058
VFrom your working copy, do a Show Log on your project root, select the bad commit, and choose "revert changes from this revision"
p5059
aVThis will make your working copy as before the bad commit
p5060
aVRedo the changes correctly, and then commit
p5061
aVIf there has been multiple bad commits, then find the latest good commit, and choose "Revert to this revision"
p5062
aVRedo the changes correctly, and then commit
p5063
as(dp5064
g23
V571407
p5065
stp5066
a((dp5067
g2
(lp5068
VYour XML is invalid, because it doesn't conform to the hibernate DTD
p5069
aVAs the error message says, every class element must have either one id sub-element, or one composite-id sub-element
p5070
aVA hibernate entity must have an ID (simple or composite)
p5071
aVYour database schema deosn't seem very clean
p5072
aVYou should have a primary key in every table
p5073
as(dp5074
g23
V571407
p5075
stp5076
a((dp5077
g2
(lp5078
VSince Java 6, you may use wildcards in classpath, to include all jars in a directory
p5079
aVSee http://download
p5080
aVoracle
p5081
aVcom/javase/6/docs/technotes/tools/windows/classpath
p5082
aVhtml
p5083
as(dp5084
g23
V571407
p5085
stp5086
a((dp5087
g2
(lp5088
VNo, it's not
p5089
aVHow would it distinguish 01/02/2011 (dd/MM/yyyy) and 01/02/2011 (MM/dd/yyyy)
p5090
as(dp5091
g23
V571407
p5092
stp5093
a((dp5094
g2
(lp5095
VThis is the equivalent of the JavaScript sort
p5096
aVThe Comparator object is used as the callback function is used in JavaScript
p5097
as(dp5098
g23
V571407
p5099
stp5100
a((dp5101
g2
(lp5102
VRead the api doc and the Swing tutorial
p5103
as(dp5104
g23
V571407
p5105
stp5106
a((dp5107
g2
(lp5108
VIn addition to @bigZee77's answer, you could also perhaps change your query and query for the kitten instead of the cat
p5109
aVThe resulting list of kittens would be ordered, and every kitten would point to the same cat:
p5110
aVIf the cat doesn't have any kitten, you would get an empty list, though
p5111
aVThe alternative is of course to provide a Java method which sorts the list of kittens
p5112
as(dp5113
g23
V571407
p5114
stp5115
a((dp5116
g2
(lp5117
VYou need queries to search for entities
p5118
aVRead the user guide about queries
p5119
aVThe same page also contains a whole section about HQL, the query language used to write queries
p5120
as(dp5121
g23
V571407
p5122
stp5123
a((dp5124
g2
(lp5125
VNo
p5126
aVYou must have a persistent ID in all your Hibernate entities
p5127
aVThe  keyword is used to avoid serializing it when transferring the object to another JVM (or to a file)
p5128
aVThe  annotation is used to mark a field not persistent, but it can't be used for the ID, which is absolutely necessary in order to use Hibernate
p5129
as(dp5130
g23
V571407
p5131
stp5132
a((dp5133
g2
(lp5134
VFirst of all, you don't need to specify
p5135
aVThe default behavior is to rollback for any runtime exception
p5136
aVYour problem seems to be that you're calling your transactional method from another method of the same bean
p5137
aVSpring starts and stops transactions automatically because it wraps every bean inside a proxy which handles this transaction work
p5138
aVWhen you're calling a method from the same bean, the proxy can't intercept the call and start/stop a transaction for you
p5139
aVYou should thus put the transactional method in another bean
p5140
aVThen for your iteration
p5141
aVIn order to work you need
p5142
aVto make the method containing the loop not transactional, so that every call to mailAbonne starts a new transaction
p5143
aVor to make the propagation of the mailAbonne method REQUIRES_NEW, in order to make it have its own independent transaction
p5144
aVOf course, you also need to wrap every call of mailAbonne in the loop inside a try/catch block, so that runtime exceptions are caught and the next call to mailAbonne can be done even if the current one has failed
p5145
as(dp5146
g23
V571407
p5147
stp5148
a((dp5149
g2
(lp5150
VA static field's value is stored in the memory of the JVM, and each JVM will thus have its own static map
p5151
aVThis can be OK, unless you want a unique cache for all the members of the cluster
p5152
as(dp5153
g23
V571407
p5154
stp5155
a((dp5156
g2
(lp5157
VBecause  is a very bad practice
p5158
aVIt converts to string by concatenating an empty string and an integer, which causes, internally, the creation of a  instance, the appending of the empty string, the call to , the appending of the conversion, and then the call to
p5159
aVdoes just what is needed : converting the integer to a string
p5160
aVIt's thus much more efficient, and also much clearer and readable, because it tells what it does : converting an integer to a string
p5161
as(dp5162
g23
V571407
p5163
stp5164
a((dp5165
g2
(lp5166
VYou should not use a string to store multiple information
p5167
aVThis would force you to parse the string each time you want to get a part of the information
p5168
aVI don't know what  represents, but you should use an object instead of this string :
p5169
aVAnd then, your array of baskets can be built like this :
p5170
aVThen, you may iterate over one of the baskets and compute the total number of fruits easily :
p5171
as(dp5172
g23
V571407
p5173
stp5174
a((dp5175
g2
(lp5176
VBut the session timeout is supposed to be handled by the container, not by you
p5177
aVPS : this is easily answered by reading the javadoc : http://download
p5178
aVoracle
p5179
aVcom/javase/6/docs/api/index
p5180
aVhtml
p5181
as(dp5182
g23
V571407
p5183
stp5184
a((dp5185
g2
(lp5186
VYou could return a status from the method :
p5187
as(dp5188
g23
V571407
p5189
stp5190
a((dp5191
g2
(lp5192
VYou get a warning because Checkstyle considers that modiying method arguments is a bad practice
p5193
aVEither ignore it (or change the checkstyle config) if you don't consider it as bad practice, or change the code to work on copies of the arguments:
p5194
as(dp5195
g23
V571407
p5196
stp5197
a((dp5198
g2
(lp5199
V indeed only guarantees that every method call on the list is synchronized
p5200
aVIf you need multiple operations to be done in a synchronized way, you have to handle the synchronization yourself
p5201
aVBTW, this is explicitely said in the javadoc for Collections
p5202
aVsynchronizedList :
p5203
aVIt is imperative that the user
p5204
aVmanually synchronize on the returned
p5205
aVlist when iterating over it:
p5206
as(dp5207
g23
V571407
p5208
stp5209
a((dp5210
g2
(lp5211
VRead http://www
p5212
aVdisplaytag
p5213
aVorg/1
p5214
aV2/tut_implicitobjects
p5215
aVhtml
p5216
aVIf you add an id attribute to your  tag, you may have access to the current object of the list
p5217
as(dp5218
g23
V571407
p5219
stp5220
a((dp5221
g2
(lp5222
VYou should use objects:
p5223
aVThen you may have an array (or a list) of Items :
p5224
aVand you may sort this array using Arrays
p5225
aVsort() (or Collections
p5226
aVsort() if you use a List instead of an array)
p5227
aVRead the Java tutorial on Collections for more details
p5228
as(dp5229
g23
V571407
p5230
stp5231
a((dp5232
g2
(lp5233
VIf I understand correctly, you want your spinner method to be run in parallel with the loadEverything method
p5234
aVFor two methods to be executed in parallel, you need threads
p5235
aVBut threads must respect some hard rules when used inside a Swing application or applet
p5236
aVRead the tutorial on concurrency in Swing for explanations
p5237
as(dp5238
g23
V571407
p5239
stp5240
a((dp5241
g2
(lp5242
VExclude them explicitely with , or even better, refactor them so that they respect the naming convention : *Test classes should be test cases
p5243
aVSee http://ant
p5244
aVapache
p5245
aVorg/manual/Types/fileset
p5246
aVhtml
p5247
as(dp5248
g23
V571407
p5249
stp5250
a((dp5251
g2
(lp5252
VThe JLS guarantees that a class is only loaded when it's used for the first time (making the singleton initialization lazy), and that the class loading is thread-safe (making the getInstance method thread-safe as well)
p5253
as(dp5254
g23
V571407
p5255
stp5256
a((dp5257
g2
(lp5258
VWhat would the compiler do for
p5259
aVYou need an instance of Integer here, hence the need for boxing/unboxing
p5260
as(dp5261
g23
V571407
p5262
stp5263
a((dp5264
g2
(lp5265
VA solution might be to subclass the oracle dialect you're using and register an additional  function which would do the appropriate SQL translation:
p5266
aVNow that the dialect class is defined, use this class in your hibernate configuration:
p5267
aVAnd use the following HQL query:
p5268
as(dp5269
g23
V571407
p5270
stp5271
a((dp5272
g2
(lp5273
VThe advantage of a real second-level cache over a static map is that you get the advantage of in-memory access by still keeping the same way of defining, accessing and traversing your entities: by using the Hibernate session (or entity manager)
p5274
aVYou may keep relationships with other entities (even not cached); you may use a query cache and still perform queries over these entities (and results of these queries will be cached as well)
p5275
aVIn short, it's transparent, offers more options as Bozho said, and is much easier to use because cached entties are used the same way as other entities
p5276
as(dp5277
g23
V571407
p5278
stp5279
a((dp5280
g2
(lp5281
VI don't know for NHibernate, but Hibernate supports the  keyword:
p5282
as(dp5283
g23
V571407
p5284
stp5285
a((dp5286
g2
(lp5287
VThe Hibernate reference indicates that subselects in the select clause are supported
p5288
aVYou should thus be able to write
p5289
as(dp5290
g23
V571407
p5291
stp5292
a((dp5293
g2
(lp5294
VIf you set a projection on the criteria, the query won't return a list of entities anymore, but a list of arrays of scalars
p5295
aVThis is a good thing, since returning a partially loaded entity would result in a multitude of bugs due to invariants being broken (non null fields being null, unloaded associations, etc
p5296
aVSo, you should use another kind of object (a value object) to represent the loaded fields :
p5297
aVHibernate can also do this transformation for you, using reflection, using an  or an
p5298
as(dp5299
g23
V571407
p5300
stp5301
a((dp5302
g2
(lp5303
VYou've hit the bug http://opensource
p5304
aVatlassian
p5305
aVcom/projects/hibernate/browse/HHH-4963, I think
p5306
aVAs the bug report indicates, you could workaround this bug by defining and using a custom dialect (by subclassing SQLServer2008Dialect), and registering the replace function:
p5307
as(dp5308
g23
V571407
p5309
stp5310
a((dp5311
g2
(lp5312
VI assume your auditDate is in fact a timestamp
p5313
aVIf it's the case, then this is normal, because 25/05/2011 means 25/05/2011 at 0 o'clock (in the morning)
p5314
aVSo, of course, every row having an audit timestamp in the date 25/05/2011 is after 0 o'clock in the morning
p5315
aVI would add 1 day to your end date, and use
p5316
as(dp5317
g23
V571407
p5318
stp5319
a((dp5320
g2
(lp5321
VThis is all explained and specified in tha Java Language Specification
p5322
as(dp5323
g23
V571407
p5324
stp5325
a((dp5326
g2
(lp5327
VJust define the corresponding column in database as TEXT, and JPA should happily map the column to your attribute
p5328
as(dp5329
g23
V571407
p5330
stp5331
a((dp5332
g2
(lp5333
VThe whole point of MD5, SHA and other cryptographic hashes is to make it really really difficult to find a text producing a given hash
p5334
aVI don't understand what you want to do, but finding a small text file producing an MD5 of all 0's is not possible
p5335
aVIf it were, MD5 would be broken
p5336
as(dp5337
g23
V571407
p5338
stp5339
a((dp5340
g2
(lp5341
VJava uses the number of milliseconds since 1st January 1970 to represent times
p5342
aVIf you compute the time represented by 1306249409 milliseconds, you'll discover that it's only 362 days, so your assumptions are wrong
p5343
aVMoreover,  holds a constant
p5344
aVUse  to get the day of month (same for other parts of the date)
p5345
as(dp5346
g23
V571407
p5347
stp5348
a((dp5349
g2
(lp5350
VFree design is a synonym for group layout
p5351
aVThis layout is now in the standard java library
p5352
as(dp5353
g23
V571407
p5354
stp5355
a((dp5356
g2
(lp5357
VYou have only made half of the changes to be cleaner
p5358
aVThe grow method should be changed like this:
p5359
aVAnd  should be renamed to : an apple is a fruit, not a fruits
p5360
aVIf you really need to keep your string types, then define a method (in the enum class itself, for example) returning the Fruit associated to each type
p5361
aVBut most of the code should use Fruit instead of String
p5362
as(dp5363
g23
V571407
p5364
stp5365
a((dp5366
g2
(lp5367
VBecause the example is wrong
p5368
aVIt should contain the line
p5369
aVrather than
p5370
as(dp5371
g23
V571407
p5372
stp5373
a((dp5374
g2
(lp5375
V0 is a valid return value for read, which does not indicate the end of the channel
p5376
aV-1 indicates the end of the channel
p5377
aVSo if you end the reading when 0 is returned, you'll get partial messages
p5378
as(dp5379
g23
V571407
p5380
stp5381
a((dp5382
g2
(lp5383
VThe JSTL provides two means of escaping HTML special chars :
p5384
aVand
p5385
aVBoth wil transform the special chars into their respective HTML entities : ( becomes ,  become
p5386
aVNote that the IDs must be encoded in HTML, but not in JavaScript
p5387
as(dp5388
g23
V571407
p5389
stp5390
a((dp5391
g2
(lp5392
VUse the  class to get the method:
p5393
aVand then invoke the method:
p5394
aVGenerics are erased at runtime
p5395
aVThey're a compile-time thing
p5396
aVYou may thus use  to refer to a
p5397
as(dp5398
g23
V571407
p5399
stp5400
a((dp5401
g2
(lp5402
VThe following line is wrong:
p5403
aV(as the exception message probably indicates)
p5404
aVIndeed, you're trying to initialize , which is a String, with the result of the  method, which returns an array of Strings
p5405
as(dp5406
g23
V571407
p5407
stp5408
a((dp5409
g2
(lp5410
VHave you tried with
p5411
as(dp5412
g23
V571407
p5413
stp5414
a((dp5415
g2
(lp5416
VYou got things right
p5417
aVThe main problem caused by this scheme is "How can Bob be sure that the public key he got from "the world" is Alice's public key, and not Chuck's public key
p5418
aVIndeed, if it were Chuck's public key, Chuck would be able to decrypt the message Bob sends to Alice
p5419
aVThis is resolved by certificates
p5420
aVEvery participant has a copy of the public key of well-known and trusted certificate authorities
p5421
aVWhen Alice want to publish it public key to the world, she pays one of these authorities to get a certificate, containing her public key
p5422
aVWhen getting a certificate, everyone can verify, with the authority's public key, that the certificate hasn't been corrupted, and so be sure that the public key is Alice's public key, and not Chuck's
p5423
aVThe basic process of certification is a cryptographic signature : the certificate authority encrypts some data with its private key
p5424
aVWhen you have the data, its signature, and the authority's public key, you may verify that decrypting the signature with the authority's public key leads to the original data
p5425
aVRSA is a de facto standard, and is available in many languages and platforms
p5426
aVYou shouldn't reimplement it yourself
p5427
as(dp5428
g23
V571407
p5429
stp5430
a((dp5431
g2
(lp5432
VIt depends on the protocol
p5433
aVIf the server doesn't close the stream, readLine will block until the proper line end is received
p5434
aVSo if the server never sends the proper line end, you're blocked
p5435
aVYou should maybe use more low-level methods and try to get the protocol documentation, or reverse-engineer it
p5436
as(dp5437
g23
V571407
p5438
stp5439
a((dp5440
g2
(lp5441
VThe session is the first-level cache, not the second-level cache
p5442
aVWithout more information about your config and the error you get, it's hard to help more
p5443
as(dp5444
g23
V571407
p5445
stp5446
a((dp5447
g2
(lp5448
VRead http://java
p5449
aVsun
p5450
aVcom/javase/technologies/core/basic/serializationFAQ
p5451
aVjsp#handle
p5452
aVThe ObjectOutputStream has a cache in order to avoid sending the same object multiple times
p5453
aVYou must reset the stream to send a copy again
p5454
as(dp5455
g23
V571407
p5456
stp5457
a((dp5458
g2
(lp5459
VUse  followed by
p5460
aVThis is documented in JTextComponent's javadoc
p5461
as(dp5462
g23
V571407
p5463
stp5464
a((dp5465
g2
(lp5466
VThe synchronized block guarantees that only one thread may execute this code block, or any other code block which is synchronized on the same object (i
p5467
ag468
aVthe list) at once
p5468
aVFor example, if you have
p5469
aV, then if one thread is executing block A, no other thread can be executing block A or block B, because they're both synchronized on the same object
p5470
aVBut the list itself isn't locked
p5471
aVAnother thread might access the list
p5472
as(dp5473
g23
V571407
p5474
stp5475
a((dp5476
g2
(lp5477
VYou could just insert the new entity in database, perform the query, see if the entity is found, and rollback if not found (or delete the entity in the same transaction if you don't want to rollback)
p5478
as(dp5479
g23
V571407
p5480
stp5481
a((dp5482
g2
(lp5483
VThe usual objection is that Java is not "purely" OO because it has primitive types (int, double, etc
p5484
aV, which are not objects
p5485
as(dp5486
g23
V571407
p5487
stp5488
a((dp5489
g2
(lp5490
V seems to work (unless I misunderstood your question)
p5491
as(dp5492
g23
V571407
p5493
stp5494
a((dp5495
g2
(lp5496
VYou should transform your Hibernate POJOs into an intermediate object graph, dedicated to JSON serialization
p5497
as(dp5498
g23
V571407
p5499
stp5500
a((dp5501
g2
(lp5502
VYou don't have to import classes that are in the same package as the current class
p5503
aVAlso, note that GradeBook
p5504
aVjava is the name of the file
p5505
aVThe (simple) name of the class is GradeBook
p5506
aVEvery class should be in a package
p5507
aVIf it is in the package com
p5508
aVfoo
p5509
aVbar, the class name is com
p5510
aVfoo
p5511
aVbar
p5512
aVGradeBook, and this is the name you must use when importing this class
p5513
aVRead http://download
p5514
aVoracle
p5515
aVcom/javase/tutorial/java/package/packages
p5516
aVhtml to learn more about packages
p5517
as(dp5518
g23
V571407
p5519
stp5520
a((dp5521
g2
(lp5522
VHave you tried just changing the  field value
p5523
aVI guess this should make the entity modified to Hibernate, and Hibernate would call the  method which would set the  field back to the current time:
p5524
as(dp5525
g23
V571407
p5526
stp5527
a((dp5528
g2
(lp5529
VThe spec says (4
p5530
ag14
aV14):
p5531
aVThe container serializes calls to each
p5532
aVstateful and stateless session bean
p5533
aVinstance
p5534
aVMost containers will support
p5535
aVmany instances of a session bean
p5536
aVexecuting concurrently; however, each
p5537
aVinstance sees only a serialized
p5538
aVsequence of method calls
p5539
aVTherefore, a
p5540
aVstateful or stateless session bean
p5541
aVdoes not have to be coded as
p5542
aVreentrant
p5543
aVThere is thus no way of calling a session bean instance's method while another method of the same instance is still running
p5544
as(dp5545
g23
V571407
p5546
stp5547
a((dp5548
g2
(lp5549
VIn general, yes
p5550
aVBut the form designer of NetBeans considers some parts of the code "private", and you shouldn't modify these parts externally
p5551
aVThey are identified by comments in the generated code:
p5552
aVThese parts are in fact generated from an external proprietary
p5553
aVform file, and having the source code not aligned with the
p5554
aVform code will mess everything up
p5555
as(dp5556
g23
V571407
p5557
stp5558
a((dp5559
g2
(lp5560
VUpdate the user grade being at the same index as the combo box:
p5561
as(dp5562
g23
V571407
p5563
stp5564
a((dp5565
g2
(lp5566
Vshould do the trick
p5567
aVYou will get the same event several times if it's schedules at several future dates, though
p5568
aVUse  to get each event once
p5569
as(dp5570
g23
V571407
p5571
stp5572
a((dp5573
g2
(lp5574
VYou must add an  to the  itself
p5575
aVWhen a selection is made, an action event is triggered
p5576
aVIn the listener's code, just ask the  for its selected item to know which item is the newly selected one
p5577
aVRead http://download
p5578
aVoracle
p5579
aVcom/javase/tutorial/uiswing/components/combobox
p5580
aVhtml#listeners
p5581
as(dp5582
g23
V571407
p5583
stp5584
a((dp5585
g2
(lp5586
VCan't tell for NHibernate for sure, but if it follows the same rules as Hibernate (as I suspect), it guarantees that in a given session, you may only have one instance of a given entity for a given ID
p5587
aVThis means that if a Country instance is already loaded in the session and if a person's country has the ID of this loaded instance, the country and the person's country will be the same instance, which is quite logical
p5588
aVThe session is a cache, and there is only one instance of an entity with a given ID in this cache
p5589
aVNo need for operator overloading
p5590
as(dp5591
g23
V571407
p5592
stp5593
a((dp5594
g2
(lp5595
VSimply use a dedicated counter:
p5596
as(dp5597
g23
V571407
p5598
stp5599
a((dp5600
g2
(lp5601
VThe easiest way is probably to use the native Java serialization
p5602
aVIt will generate a binary representation of the object, but you can encode the generated byte array with Base64 to transform it to text:
p5603
aVNote that the object, and every object it references (recursively) must implement  for this to work
p5604
as(dp5605
g23
V571407
p5606
stp5607
a((dp5608
g2
(lp5609
VYou can't nest jars
p5610
aVBut you may put the jxl
p5611
aVjar next to your jar, and add this jar as a classpath entry in the manifest of your jar:
p5612
aVRead http://download
p5613
aVoracle
p5614
aVcom/javase/tutorial/deployment/jar/downman
p5615
aVhtml for details
p5616
as(dp5617
g23
V571407
p5618
stp5619
a((dp5620
g2
(lp5621
VProbably because the CHAR type consists in appending spaces to every value until the resulting text has the length of the column
p5622
aVThis leads to all sorts of nasty bugs that don't occur with varchars
p5623
as(dp5624
g23
V571407
p5625
stp5626
a((dp5627
g2
(lp5628
VTo be able to call SessionFactory
p5629
aVgetCurrentSession(), you need to configure the current session context
p5630
aVRead http://docs
p5631
aVjboss
p5632
aVorg/hibernate/core/3
p5633
aV6/reference/en-US/html_single/#architecture-current-session for information about this
p5634
aVNote: the message about JNDI doesn't have anything to do with the error you get, and is just an information message
p5635
as(dp5636
g23
V571407
p5637
stp5638
a((dp5639
g2
(lp5640
VUse a  wrapping a  to read the file line by line
p5641
aVFor each song line, use  to find the indices of the separator char you read from the second line, and  to get each part of the line as a separate string
p5642
aVUse  to transform the last string into an integer
p5643
aVDefine a  class containing the three information about a song: title, author and time
p5644
aVFor each song line, construct a new instance of  and put the instance in a
p5645
aVCall Collections
p5646
aVsort with a comparator in order to sort your songs
p5647
aVRead http://download
p5648
aVoracle
p5649
aVcom/javase/tutorial/collections/interfaces/order
p5650
aVhtml for information about sorting
p5651
aVThe documentation about all these classes and methods can be found here: http://download
p5652
aVoracle
p5653
aVcom/javase/6/docs/api/
p5654
as(dp5655
g23
V571407
p5656
stp5657
a((dp5658
g2
(lp5659
VHibernate uses multiple insert statements (one per entity to insert), but sends them to the database in batch mode (using  and )
p5660
aVThis is the reason you're seeing multiple insert statements in the log, but also "Executing batch size: 25"
p5661
aVThe use of batched statements greatly reduces the number of roundtrips to the database, and I would be surprised if it were less efficient than executing a single statement with multiple inserts
p5662
aVMoreover, it also allows mixing updates and inserts, for example, in a single database call
p5663
aVI'm pretty sure it's not possible to make Hibernate use multi-row inserts, but I'm also pretty sure it would be useless
p5664
as(dp5665
g23
V571407
p5666
stp5667
a((dp5668
g2
(lp5669
VYou have a name conflict because you defined a top-level class A$B having the same name as the generated name for a static inner class B of class A
p5670
aVSince you have both, the compiler can't resolve the conflict
p5671
aVThe JLS says:
p5672
aVThe $ character should be used only in mechanically generated source code or, rarely, to access pre-existing names on legacy systems
p5673
aVSince you decided not to respect that rule, you got bitten by javac
p5674
aVI would just rename A$B to something else
p5675
as(dp5676
g23
V571407
p5677
stp5678
a((dp5679
g2
(lp5680
V shouldn't flush the session
p5681
aVFlushing the session should really be rare
p5682
aVLet Hibernate take care of this, and your application will be more efficient
p5683
aVSetting the cache mode at such a place is also really bizarre
p5684
aVWhy do you do that
p5685
aVAs for the explanation about why you get an exception when using  and not when using : it's because load assumes that you know that the entity exists
p5686
aVRather than executing a select query to get the user data from the database, it just returns a proxy, which will get the data when a method is called for the first time on the object
p5687
aVIf the session is closed when you call a method for the first time, Hibernate can't get the data anymore and throws the exception
p5688
aVshould be used rarely, except to initiate some relationship to an existing object without having to get its data
p5689
aVUse  in the other cases
p5690
aVMy general strategy to avoid LazyInitializationException is :
p5691
aVuse attached objects whenever possible
p5692
aVdocument which graph is loaded by the methods returning detached objects, and unit-test that this graph is indeed loaded
p5693
aVprefer  over  and
p5694
aVThese methods can leave a graph of objects with some objects attached, and others detached, depending on the cascades
p5695
aVdoesn't suffer from this problem
p5696
as(dp5697
g23
V571407
p5698
stp5699
a((dp5700
g2
(lp5701
VIt seems that the class  tries to use some class in the  package
p5702
aVIf this class is one of your classes, then you should reimplement it without accessing the sun
p5703
aVmisc classes
p5704
aVIf not, then ask the developer/company who implemented this class to fix it
p5705
aVUsing  classes is a very bad practice, which has always been discouraged
p5706
as(dp5707
g23
V571407
p5708
stp5709
a((dp5710
g2
(lp5711
VHibernate offers different options for defining/using composite identifiers
p5712
aVAll these options are explained in depth in the hibernate reference manual: http://docs
p5713
aVjboss
p5714
aVorg/hibernate/core/3
p5715
aV6/reference/en-US/html_single/#d0e4819
p5716
as(dp5717
g23
V571407
p5718
stp5719
a((dp5720
g2
(lp5721
VNo
p5722
aVSince name is not the ID of the category, you may have severa categories with the same name
p5723
aVYou might add a unique constraint, but Hibernate can't magically know that the ne category you add in the set should in fact be an existing category having the same name
p5724
aVWhen creating categories and adding them to the set, you should search for a category having the same name and, if it exists, put this existing category in the set instead of a new one
p5725
as(dp5726
g23
V571407
p5727
stp5728
a((dp5729
g2
(lp5730
VGiven the source code or Properties, no, it's not possible
p5731
aVBTW, since Properties is in fact a hash table and since its keys are thus not sorted, you can't rely on the properties to be always in the same order anyway
p5732
aVI would use a custom algorithm to store the properties if I had this requirement
p5733
aVUse the source code of Properties as a starter
p5734
as(dp5735
g23
V571407
p5736
stp5737
a((dp5738
g2
(lp5739
VYou may use an env-entry:
p5740
aVAnd get it from anywhere in your webapp code:
p5741
as(dp5742
g23
V571407
p5743
stp5744
a((dp5745
g2
(lp5746
VYou may use unidirectional relationships without problem if you don't need to navigate from an account to its messages (in code or in queries)
p5747
aVwhatever the solution you choose, you should define a foreign key constraint between the message and its account
p5748
aVThis way, deleting an account without first deleting its messages will throw an exception
p5749
aVThis is how you guarantee that the data coherence is not corrupted
p5750
aVIf you want to be able to delete an account without deleting its messages, then you should first detach the account from its messages, by setting their account ManyToOne field to
p5751
aVOf course, the relationship must be marked optional, and the forein key column must be nullable
p5752
aVNote, though, that having a relationship from the account to its messages (even if it's not accessible from the rest of the code) would allow you to
p5753
aVuse this relationship inside queries
p5754
aVset a cascade delete on the relationship, so that all messages are automatically deleted before an account is deleted
p5755
as(dp5756
g23
V571407
p5757
stp5758
a((dp5759
g2
(lp5760
VYou don't need to detach the objects
p5761
aVHibernate entities are POJOs, and are not lost at the end of the transaction
p5762
aVWhen the session is closed, they become detached automatically
p5763
aVBut you can still use then and access their data, unless the data is marked as lazy-loaded and has not been fetched while the entities were attached
p5764
as(dp5765
g23
V571407
p5766
stp5767
a((dp5768
g2
(lp5769
VNo, there's no way
p5770
aVWhy would you want to do this
p5771
aVIf you try to access it and it has not been loaded, you'd better get an exception, informing you that you have a bug in your design, rather than , which might be a perfectly valid value for the field, and thus cause your applications to behave badly
p5772
aVThink about this use-case:
p5773
aVif the patient's cancer field is null, then let him go
p5774
aVelse, start curing him immediately
p5775
aVIf you forget to load the cancer field of the patient, you'll let him go
p5776
aVI'd better get an exception, fix my code, and have the patient cured
p5777
as(dp5778
g23
V571407
p5779
stp5780
a((dp5781
g2
(lp5782
VYou have to downcast the layout manager to BorderLayout :
p5783
aVBut if you know which component is in the center, you can just remove it :
p5784
as(dp5785
g23
V571407
p5786
stp5787
a((dp5788
g2
(lp5789
VHow is your table model defined
p5790
aVIf the  method return  (or , or , depending on what the column contains), then the sort should be right, and you shouldn't have to configure any specific row sorter
p5791
as(dp5792
g23
V571407
p5793
stp5794
a((dp5795
g2
(lp5796
VPut the "before remote call" logic in a separate bean method annotated with REQUIRES_NEW as well
p5797
aVYou will thus have three transactions :
p5798
aVone for the main method (but which won't do anything until th remote call is done);
p5799
aVone for the logic before the remote call;
p5800
aVone for the remote call
p5801
as(dp5802
g23
V571407
p5803
stp5804
a((dp5805
g2
(lp5806
VAre you sure the main thread doesn't reset/close the connection while the spawned thread tries using it
p5807
aVIf you're in a Java EE environment (or similar, like Spring), the connection is often linked to the current transaction, which is itself linked to the current thread
p5808
aVSo when the transaction ends, the connection is given back to the pool of available connections, but your spawned thread is still trying to use it
p5809
as(dp5810
g23
V571407
p5811
stp5812
a((dp5813
g2
(lp5814
VFrom the api doc:
p5815
aVpublic static final FetchMode SELECT
p5816
aVAFAIK, if a mapping is marked as lazy, you may fetch eagerly using a criteria or HQL query, but you can't do the reverse : if a mapping is marked as eager, then it'll always be fetched eagerly
p5817
as(dp5818
g23
V571407
p5819
stp5820
a((dp5821
g2
(lp5822
VThe JDK comes with a security framework and encryption algorithms
p5823
aVRead http://download
p5824
aVoracle
p5825
aVcom/javase/6/docs/technotes/guides/security/crypto/CryptoSpec
p5826
aVhtml
p5827
as(dp5828
g23
V571407
p5829
stp5830
a((dp5831
g2
(lp5832
VForwarding happens at server-side, and the browser doesn't know about it
p5833
aVYou could redirect to the JSP rather than forwarding, but the whole point of an MVC framework like Struts is to avoid accessing JSPs directly, and alway go through a front controller preparing the model for the view
p5834
aVWhy do you want to see welcome
p5835
aVjsp
p5836
as(dp5837
g23
V571407
p5838
stp5839
a((dp5840
g2
(lp5841
VHave you tried using the WhereJoinTable annotation
p5842
aVGiven its documentation, it should do what you want
p5843
as(dp5844
g23
V571407
p5845
stp5846
a((dp5847
g2
(lp5848
VThe "appropriate" way of avoiding slow too many slow startup times is to use the "always on" option
p5849
aVOf course, this is not a free option ($0
p5850
aV30 per day)
p5851
as(dp5852
g23
V571407
p5853
stp5854
a((dp5855
g2
(lp5856
VYou shouldn't use a cell renderer for this
p5857
aVEnable cell selection on your table (using ), then get the selection model of the table (using ), and add a listener on this selection model
p5858
aVEach time an event is triggered, use  and  to know which cell is selected
p5859
aVNote that this will give you the selected cell, which can be modified using the mouse or the keyboard
p5860
aVIf you just want to know where the mouse clicked, then see KDM's answer
p5861
as(dp5862
g23
V571407
p5863
stp5864
a((dp5865
g2
(lp5866
VIt certainly fails because you're executing all this in the same transaction, and thus the same VehicleBrand instance is always returned from the session cache
p5867
aVSince you forgot to maintain both sides of the association when you created your VehicleModel (i
p5868
ag468
aVyou assigned the brand to the new model, but forgot to add the created model to the brand's collection of models), the same set of models is always returned, and doesn't contain the newly created model
p5869
as(dp5870
g23
V571407
p5871
stp5872
a((dp5873
g2
(lp5874
VFrom the documentation:
p5875
aVDrivers for older Oracle versions may
p5876
aVbe distributed as *
p5877
aVzip files rather
p5878
aVthan *
p5879
aVjar files
p5880
aVTomcat will only use
p5881
aV*
p5882
aVjar files installed in $CATALINA_HOME/lib
p5883
aVSo yes, you have to put the jar in $CATALINA_HOME/lib
p5884
as(dp5885
g23
V571407
p5886
stp5887
a((dp5888
g2
(lp5889
VYour table model needs to fire events to inform its view that the model has changed
p5890
aVIn your case, you should use
p5891
aVLook at the javadoc of  to discover which events may be fired
p5892
aVYou should thus use the model to add a player
p5893
aVThe model will add a player to the playerList it holds, and would also fire the appropriate event
p5894
as(dp5895
g23
V571407
p5896
stp5897
a((dp5898
g2
(lp5899
VWhen they commit, they will be forced to update first
p5900
aVThen they will update, will get a conflict, and will have to resolve it manually
p5901
as(dp5902
g23
V571407
p5903
stp5904
a((dp5905
g2
(lp5906
VThere are many unrelated problems:
p5907
aVGiven the stack trace in your question, you seem to be developing an application for Google App Engine
p5908
aVGAE doesn't allow accessing the file system, hence the AccessControlException you get
p5909
aVA text file is not a graphics file
p5910
aVI don't understand what you're trying to do
p5911
aVThe line  is wrong
p5912
aVWhy are you casting the length of the file to a char
p5913
aVThe read method doesn't guarantee that all the file will be read at once
p5914
aVIt returns the number of read characters
p5915
aVYou should not ignore the returned value
p5916
aVRead the tutorial about IO
p5917
as(dp5918
g23
V571407
p5919
stp5920
a((dp5921
g2
(lp5922
VThe macro executes everything inside its  element
p5923
aVJust put your second-macro call inside it:
p5924
as(dp5925
g23
V571407
p5926
stp5927
a((dp5928
g2
(lp5929
VEach time a GET request comes to your servlet, the doGet method is called, and the  statement is executed
p5930
aVSo if 100 requests are done, 100 instances of EmployeeDTO are created
p5931
aVWhen the request ends, unless you have stored the DTO somewhere where it can still be reached, the DTO is eligible to garbage collection
p5932
as(dp5933
g23
V571407
p5934
stp5935
a((dp5936
g2
(lp5937
VWeb services (WSDL, SOAP, etc
p5938
aVare usually used for communications between applications
p5939
aVInside a single web app, you usually make simple GET/POST requests, using AJAX or not, and receive either a full HTML page, or a fragment of HTML (AJAX), or XML or JSON data (AJAX)
p5940
aVThe browser usually talks to a servlet, but it's rare to use servlets directly
p5941
aVThe usual way is to use a framework on top of servlets
p5942
aVThe frameworks can be divided in two big categories : action-based frameworks (Stripes, Spring MVC, Struts, etc
p5943
aVor component-based frameworks (JSF, Wicket, Tapestry, etc
p5944
aVIn a n-tier application, all of the above technologies are supposed to only contain the presentation layer
p5945
aVThis presentation layer talks to a business layer, where the real business logic happens, where transactions are used to access databases, messaging systems, etc
p5946
aVThis business layer is where EJBs are used
p5947
as(dp5948
g23
V571407
p5949
stp5950
a((dp5951
g2
(lp5952
VThis situation is in fact pretty rare, because if you need to have tables referencing the fact that a user is registered into a course (I'll call this a "registration"), then it probably means that this registration is an entity, holding information
p5953
aVThe many-to-many relationship thus becomes two one-to-many relationships:
p5954
aVOne student has many registrations
p5955
aVOne course has many registrations
p5956
aVThe registration entity can be used to hold information (date of the registration,
p5957
aV, and you may have other entities referencing the registration using a foreign key to its auto-generated ID
p5958
as(dp5959
g23
V571407
p5960
stp5961
a((dp5962
g2
(lp5963
VJSP tags are used to generate HTML dynamically in a JSP, but without mixing Java code and HTML markup
p5964
aVThe JSTL is a library of standard JSP tags
p5965
aVIt means "JavaServer Pages Standard Tag Library", and as its name indicates, it's used within JSPs
p5966
aVIt should never be used to get data from the database
p5967
aVGetting data from the database should be done before executing the JSP, in a controller written in Java
p5968
aVOnce the controller has done its job, it should dispatch the HTTP request to a view (the JSP), whose role is to render the data
p5969
aVSo if your application uses  tags, then it's wrong
p5970
aVand  tags are OK
p5971
aVAs the Java EE tutorial indicates :
p5972
aVThe JSTL SQL tags for accessing
p5973
aVdatabases listed in Table 7-7 are
p5974
aVdesigned for quick prototyping and
p5975
aVsimple applications
p5976
aVFor production
p5977
aVapplications, database operations are
p5978
aVnormally encapsulated in JavaBeans
p5979
aVcomponents
p5980
as(dp5981
g23
V571407
p5982
stp5983
a((dp5984
g2
(lp5985
VAdd this main method to EncryptAndDecrypt, and execute it
p5986
aVYou'll see that evrything works fine
p5987
aVThe problem lies in the way you're using this class
p5988
aVThe  method does the following:
p5989
aVAnd the  method does the following:
p5990
aVSo, in short, you use two different keypairs : one to encrypt and the other to decrypt
p5991
aVThat can't work
p5992
aVAlso, note that in , you transform your string into a byte array using the UTF8 encoding, whereas in , you transform the byte array into a String using the default platform encoding
p5993
aVYou should use UTF8 for both, and thus use the following code in decrypt :
p5994
as(dp5995
g23
V571407
p5996
stp5997
a((dp5998
g2
(lp5999
VThe best way, given that you need to search your strings, and given that there are quite many of them, is probably to store these words in database, and use SQL queries to find the ones you're looking for
p6000
as(dp6001
g23
V571407
p6002
stp6003
a((dp6004
g2
(lp6005
VIt's probably caused by the fact that that each table has its own JScrollPane (that's at least the case of your table C)
p6006
aVWhen the mouse is inside a table, the inner-most scroll pane is the one that reacts to the mouse wheel
p6007
aVI don't think you should modify that: it's normal behaviour
p6008
aVEDITED :
p6009
aVIt's ugly, but I'm not sure there is another way of doing it
p6010
aVI've been able to make your example work by removing the listener added to the scroll pane by its UI (even if wheel scrolling is disabled) :
p6011
aVIt's not elegant, but having a several scrollable tables inside a scrollabl panel isn't either
p6012
as(dp6013
g23
V571407
p6014
stp6015
a((dp6016
g2
(lp6017
VIf the constant is shared by several classes, and if you want to make sure this map is not cleared or modified by some code, you'd better make it unmodifiable :
p6018
as(dp6019
g23
V571407
p6020
stp6021
a((dp6022
g2
(lp6023
V looks for an object in page, then request, then session, then application scope, stored under the  attribute name
p6024
aVIf it finds one, it calls the method  on this object
p6025
aVI suspect this is not what you thought this expression was doing
p6026
aVSince there is no such object in any scope, it evaluates to the empty string (or null, I couldn't say for sure)
p6027
aVThere is no way to access class constants using JSP EL
p6028
aVThe best you can do is to store some object in some scope, with getters returning the constants
p6029
as(dp6030
g23
V571407
p6031
stp6032
a((dp6033
g2
(lp6034
VThese queries are executed to load the  of each fetched
p6035
aVMark the ManyToOne from  to  as lazy, and these queries should disappear
p6036
aVOr, if you want to load the groups in the same query, you could add a left join fetch to the query:
p6037
aVYou might also enable batch fetching to reduce the number of queries
p6038
aVPS: Vowels are cool
p6039
aVUserGroup is much more readable than UsrGrp
p6040
as(dp6041
g23
V571407
p6042
stp6043
a((dp6044
g2
(lp6045
VClass is a generic type since Java 5 (years ago)
p6046
aVRead the Java tutorial about generics
p6047
as(dp6048
g23
V571407
p6049
stp6050
a((dp6051
g2
(lp6052
VI agree with Peter's anwser
p6053
aVBut if you want to have fun, you could also wrap each of your predicate inside a predicate which would delegate to the wrapped predicate, and store the values for which true is returned inside a  :
p6054
as(dp6055
g23
V571407
p6056
stp6057
a((dp6058
g2
(lp6059
V is the  DOM element
p6060
aVYou must iterate through its options and get the ones which are selected
p6061
aVSee https://developer
p6062
aVmozilla
p6063
aVorg/en/DOM/HTMLSelectElement for the documentation (in Mozilla) of the element
p6064
aVIt shouldn't be much different in other browsers
p6065
aVNote that cross-browser APIs like JQuery have cool shortcut methods to do this (See http://api
p6066
aVjquery
p6067
aVcom/val/ )
p6068
as(dp6069
g23
V571407
p6070
stp6071
a((dp6072
g2
(lp6073
VThis is well described in the reference documentation
p6074
aVThere are caveats, though : the session and the second-level cache aren't aware of the changes made to the entities, the version field is not updated, etc
p6075
aVAnd if HQL is still not sufficient, you may always fall back to SQL queries
p6076
as(dp6077
g23
V571407
p6078
stp6079
a((dp6080
g2
(lp6081
VYou have to send a request to your JSP with the  as a parameter of the request
p6082
aVThe request could be sent by changing the location, or by changing the value of an input in a form of your HTML page and submitting this form, or by sending an AJAX request to your JSP
p6083
as(dp6084
g23
V571407
p6085
stp6086
a((dp6087
g2
(lp6088
VThe clean way to do it, IMHO, is to make Thread1 regularly poll some state variable to see if it has been asked to pause
p6089
aVIf it's been asked to pause, then it should suspend its execution, waiting for some lock to be released
p6090
aVThread2 should ask Thread1 to pause by changing the value of the shared state variable, then potentialy wait for Thread1 to accept the pause request, then execute its action and release the lock on which Thread1 is waiting
p6091
aVIn short, the two threads must collaborate
p6092
aVThere is no way that I'm aware of to pause a thread cleanly without its collaboration
p6093
as(dp6094
g23
V571407
p6095
stp6096
a((dp6097
g2
(lp6098
VIt's the responsibility of the developer (you) to maintain the two sides of a bidirectional relationship inside a session
p6099
aVJPA will only take into account the side which owns the relationship to decide what has to be updated
p6100
aVThe owning side is the side where there is no  attribute
p6101
aVSo, in your example, setting the category to the product is sufficient for JPA to insert a new product in database and link it to the category (because product is the owning side)
p6102
aVBut the inverse relationship won't be automatically updated by JPA
p6103
aVYou must do it manually
p6104
aVIf you discard your category object and reload it from the database, you'll find the new product inside the category's list of products
p6105
as(dp6106
g23
V571407
p6107
stp6108
a((dp6109
g2
(lp6110
VRead operations shouldn't cause any problem : create an  entity, add a private eagerly-fetched many-to-one relationship between  and , put  in the second-level cache, and add a getter returning the event type's name in
p6111
aVThis makes it transparent to the rest of the application, and doesn't cause additional selects thanks to the second-level cache
p6112
aVInsertion is harder, though, because you probably don't want to make your entities access the session to make new event types persistent
p6113
aVAnd even if this it was acceptable, I guess you'd want to have a unique constraint for the event type name, which could make some event creations fail if two events with the same new event type are created in parallel
p6114
aVI would create a service which would "get or create" an event type based on a name
p6115
aVThis service would use a dedicated transaction to create the event type in order to reduce the probability of conflicts
p6116
aVAnd I would use this service each time I need to assign an event type to an event (which, I guess, should be much less frequent than reading an event's type)
p6117
as(dp6118
g23
V571407
p6119
stp6120
a((dp6121
g2
(lp6122
VDon't pass the Properties object to other methods/objects
p6123
aVIt's too low-level, especially now that you have to deal with this namespace thing
p6124
aVEncapsulate the Properties inside a dedicated object (let's call it "Configuration"), and pass this Configuration object
p6125
aVYou could even extract the contract of this Configuration object into an interface, and make all objects depend on this interface rather than the concrete Configuration class, which would help in
p6126
aVchanging the configuration strategy later if you want to (if you has done this from the start, you wouldn't have to change anything in all the objects now)
p6127
aVmocking the configuration in unit tests to make it return what you want
p6128
as(dp6129
g23
V571407
p6130
stp6131
a((dp6132
g2
(lp6133
Vcommons-lang has a toPrimitive method, but there's nothing like this in the standard API
p6134
aVThe only way is to loop through the array and transform each Character into a char (and decide what to do with null values)
p6135
as(dp6136
g23
V571407
p6137
stp6138
a((dp6139
g2
(lp6140
VIn short, yes
p6141
aVHaving a transaction is a good idea anyway because
p6142
aVit guarantees that both requests (the one for  and the one for the lazy loading) see the database in the same state: the second read doesn't see something committed right after the first one, for example
p6143
aVit makes the session live for the time of the transaction, which optimizes the loading since it may reuse the objects cached in the session, avoid loading the same entity several times, etc
p6144
as(dp6145
g23
V571407
p6146
stp6147
a((dp6148
g2
(lp6149
VIf the structure of the table stays the same (i
p6150
ag468
aVsame number of columns, same titles, same column classes), and only its content changes, you should keep the same model instance but change the data (and call )
p6151
aVThis will be more efficient, and will allow keeping the current column order, the current sorted column, etc
p6152
aVIf the structure of the table completely changes, changing the model itself is probably easier
p6153
aVYou could also call , but the javadoc of this method says :
p6154
aVThis is the same as calling
p6155
aVsetModel(TableModel) on the JTable
p6156
aVRegarding the tabs, the same rule can be followed
p6157
as(dp6158
g23
V571407
p6159
stp6160
a((dp6161
g2
(lp6162
VwordsList is a Java variable
p6163
aVIt's usable only at server-side
p6164
aVYou need to iterate it at client-side, where JavaScript is executed
p6165
aVYou thus need to transform the Java variable into JavaScript code :
p6166
aVOnce this JSP is executed, if the Java wordList contains "hello", "world", the generated HTML will look like this:
p6167
aVNote however that you should certainly escape the words inside the list, in case they contain characters which would make the JavaScript code invalid (for example, if one of the word is O'Reilly)
p6168
aVLook at commons-lang StringEscapeUtils
p6169
aVescapeJavaScript
p6170
as(dp6171
g23
V571407
p6172
stp6173
a((dp6174
g2
(lp6175
VTo help Sean Patrick Floyd, here's his solution with a single query :
p6176
aVIt happens to be shorter and more efficient
p6177
as(dp6178
g23
V571407
p6179
stp6180
a((dp6181
g2
(lp6182
VIn the JDK that you dowloaded, in the src
p6183
aVzip file
p6184
as(dp6185
g23
V571407
p6186
stp6187
a((dp6188
g2
(lp6189
VIt's not clear what you want to do exactly, but HtmlUnit is a programmatic browser
p6190
aVIts API allows doing in Java what a user would do with his keyboard and mouse in a standard browser
p6191
aVAnd modifying the DOM of a web page is not what a user does with his browser
p6192
aVIts API allows accessing the DOM tree anyway (though not via the W3C DOM interfaces), and you should thus be able to do in Java what you would do in JavaScript with the DOM
p6193
aVinstances can be created through the createElement method of
p6194
aVBut of course, there is no "JQuery in Java for HtmlUnit"
p6195
as(dp6196
g23
V571407
p6197
stp6198
a((dp6199
g2
(lp6200
VHow would Hibernate load Address instances if you request for cities
p6201
aVJPA entities are objects, and objects are supposed to respect invariants
p6202
aVFor example, one such invariant might be that an address always has an ID, a street, etc
p6203
aVIf Hibernate loaded partial objects (with only the city attribute filled), those invariants would be broken and you could not rely on your own code anymore
p6204
aVYou would also have all sorts of problems if you tried to attach such an Address to another object, or if you simply tried to remove it, because it wouldn't even has an ID anymore
p6205
aVSo the short answer is no : it's not possible
p6206
aVThe long answer is that since Adress is a POJO, you just have to create Addresses from the loaded cities by yourself, or by using a ResultTransformer
p6207
aVBut you would get transient Address instances rather than attached Adress entities
p6208
aVThis is a recipe for countless bugs and confusion, IMHO
p6209
as(dp6210
g23
V571407
p6211
stp6212
a((dp6213
g2
(lp6214
VYou might have issues with the order by due to the bug http://opensource
p6215
aVatlassian
p6216
aVcom/projects/hibernate/browse/HHH-892 which is supposed to be fixed, but doesn't seem to be in my version of Hibernate
p6217
aVIf it's the case, replace  by
p6218
aVBut, as Michael J
p6219
aVLee indicates, you may also use a simple join and distinct count, which should be more efficient :
p6220
aVUsing left joins instead of inner joins will also let you get users without any post or without any message
p6221
as(dp6222
g23
V571407
p6223
stp6224
a((dp6225
g2
(lp6226
VI've never seen anyone putting the source, doc and class files in the same jar
p6227
aVDo you have an example
p6228
aVUsually, you have three jars : one with the classes, one with the source files, and one with the api doc
p6229
aVIf I haven't understood your question correctly, and if you indeed have three different jars, then just put the source and doc jars elsewhere in your project tree, so that the release doesn't contain them
p6230
as(dp6231
g23
V571407
p6232
stp6233
a((dp6234
g2
(lp6235
VHere's some pseudo-code:
p6236
as(dp6237
g23
V571407
p6238
stp6239
a((dp6240
g2
(lp6241
VRead about static methods in the Java tutorial
p6242
aVLearn the basics of the language before playing with threads
p6243
aVThreads are a difficult thing to master, and if you don't know what a static method is, it's too early to start using them, IMHO
p6244
as(dp6245
g23
V571407
p6246
stp6247
a((dp6248
g2
(lp6249
VI've seen two ways of doing
p6250
aVThe first one consists in separating the public API and internal classes into two different artefacts (jars)
p6251
aVThe documentation is separated as well, and it's thus easy for the end user to make the distinction between what is internal and what is not
p6252
aVBut it sometimes make things more complex to have two jars, two source trees, etc
p6253
aVThe second one consists in delivering a single jar, but have a good documentation allowing to know what's internal and what's not
p6254
aVThe textual documentation can explain how to use the API (and thus avoids talking about the internals)
p6255
aVAnd the javadoc can specify that a class is for internal use and is thus subject to changes
p6256
as(dp6257
g23
V571407
p6258
stp6259
a((dp6260
g2
(lp6261
VDouble-click on the server, and change the Start timeout in the Timeouts section
p6262
as(dp6263
g23
V571407
p6264
stp6265
a((dp6266
g2
(lp6267
VUse  : it will print a tree with all the dependencies
p6268
aVOnce done, search the tree for the missing jar to see where it comes from
p6269
as(dp6270
g23
V571407
p6271
stp6272
a((dp6273
g2
(lp6274
VI would say that the garbage collection starts when the object goes from Unreachable to Collected, and stops when the object is deallocated
p6275
aVYou normally don't have to care much, unless you use finalizers, which you shouldn't in 99
p6276
aV999% of the cases
p6277
as(dp6278
g23
V571407
p6279
stp6280
a((dp6281
g2
(lp6282
VOf course it can be done using servlets/JSP
p6283
aVYou need to generate apage containing an HTML form
p6284
aVThis form will have to contain a select element withh all the fixed options, and a text input where the user has to enter the suffix
p6285
aVWhen submitted, the servlet/JSP will have to get the submitted values from the request parameters, and do its processing
p6286
aVA code sample would be too hard to give you
p6287
aVYou need to read a whole tutorial about HTML forms, the servlet API and how JSPs work
p6288
as(dp6289
g23
V571407
p6290
stp6291
a((dp6292
g2
(lp6293
VThe compileError comes from the fact that variables are scoped to their block in Java
p6294
aVThis means that when you write
p6295
aVsomevar exists only inside the if block
p6296
aVUse
p6297
as(dp6298
g23
V571407
p6299
stp6300
a((dp6301
g2
(lp6302
VYou could have two detached instances of the same entity, or an attached one and a detached one, and they would thus not be equal, since the default equals method compares physical addresses
p6303
aVIt's almost impossible to implement good equals methods for entities without a business key
p6304
aVAnd even for entities with a business key, if this business key is mutable, we're doomed
p6305
as(dp6306
g23
V571407
p6307
stp6308
a((dp6309
g2
(lp6310
VThe first one uses type inference, using the type of the variable the result is assigned to
p6311
aVIn the second one, the result of the call is not assigned to anything (before the cast is done), so the most generic type is returned (), and a  can't be cast to a
p6312
as(dp6313
g23
V571407
p6314
stp6315
a((dp6316
g2
(lp6317
VJava doesn't pass objects, it passes references (pointers) to objects
p6318
aVSo yes, l2 and l1 are two pointers to the same object
p6319
aVYou have to make an explicit copy if you need two different list with the same contents
p6320
as(dp6321
g23
V571407
p6322
stp6323
a((dp6324
g2
(lp6325
VIt seems very strange to me that you, at the same time
p6326
aVneed pessimistic locks (which seems to imply that you really don't want two transactions to update persons/phones at the same time)
p6327
aVare ready to sacrifice data coherence by doing a single operation in two separate transactions
p6328
aVAnyway, if you really need to go with pessimistic locks, make sure that the locks are always requested in the same order (person then phone, or phone then person, but not both)
p6329
aVThis should prevent the kind of deadlock you are faced with
p6330
as(dp6331
g23
V571407
p6332
stp6333
a((dp6334
g2
(lp6335
VFrom http://download
p6336
aVoracle
p6337
aVcom/javase/6/docs/api/javax/crypto/Cipher
p6338
aVhtml#init%28int,%20java
p6339
aVsecurity
p6340
aVKey%29 :
p6341
aVpublic final void init(int opmode,
p6342
aVKey key)
p6343
aVThrows:
p6344
aVInvalidKeyException - if the given key is inappropriate for initializing
p6345
aVthis cipher, or if this cipher is
p6346
aVbeing initialized for decryption and
p6347
aVrequires algorithm parameters that
p6348
aVcannot be determined from the given
p6349
aVkey, or if the given key has a keysize
p6350
aVthat exceeds the maximum allowable
p6351
aVkeysize (as determined from the
p6352
aVconfigured jurisdiction policy files)
p6353
aVTo me, this means that, as Martijn Courteaux said in his comment, you should use a key of 256 bits (i
p6354
ag468
aVinitialize the SecretKeySpec with a byte array containing 32 bytes), and the cipher will accept it and use it, or reject it and throw an exception if its size is not acceptable
p6355
aVIf you get an exception, it's probably because you have not installed the unlimited strength crypto files, (the default JDK install allows 128 bit keys as documented in http://download
p6356
aVoracle
p6357
aVcom/javase/6/docs/technotes/guides/security/crypto/CryptoSpec
p6358
aVhtml#AppC)
p6359
aVDownload unlimited strength crypto package here
p6360
as(dp6361
g23
V571407
p6362
stp6363
a((dp6364
g2
(lp6365
VRead http://download
p6366
aVoracle
p6367
aVcom/javaee/6/tutorial/doc/giplj
p6368
aVhtml#gipln
p6369
aVAt the end of the lifecycle, the client invokes a method annotated @Remove, and the EJB container calls the method annotated @PreDestroy, if any
p6370
aVThe bean\u2019s instance is then ready for garbage collection
p6371
aVIf nobody ever calls an @Remove method, the container will wait antil a timeout is reached and remove it
p6372
aVThe  annotation has nothing to do with the bean's lifecycle
p6373
aVIt only tells the container if and when a transaction should be started when one of its business methods is invoked
p6374
as(dp6375
g23
V571407
p6376
stp6377
a((dp6378
g2
(lp6379
VIf you get an optimistic locking exception, it means that some other transaction has committed changes to entities you were trying to update/delete
p6380
aVSince the other transaction has committed, retrying immediately might have a good chance to succeed
p6381
aVI would also make the method fail after N attempts, rather than waiting for a StackOverflowException to happen
p6382
as(dp6383
g23
V571407
p6384
stp6385
a((dp6386
g2
(lp6387
VYou of course can avoid using any MVC framework, but why would you
p6388
aVDo you like reinventing the wheel
p6389
aVFrameworks are there to help being more productive and writing better code
p6390
aVYes, they are a must
p6391
aVJQuery doesn't provide any UI
p6392
aVIt's a JavaScript library
p6393
aVJQuery-UI does provide UI widgets
p6394
aVJQuery does provide AJAX-related functions, which can be used by/with JQUery-UI widgets, of course
p6395
aVAsking if "it is AJAX" doesn't make much sense
p6396
aVHave you understood what AJAX is
p6397
aVUsing JSP + JSTL + JQuery is OK, and is quite common
p6398
aVBut I wouldn't avoid using an MVC framework
p6399
aVThey are useful
p6400
as(dp6401
g23
V571407
p6402
stp6403
a((dp6404
g2
(lp6405
VA File object represents a file path
p6406
aVCreating a File instance doesn't create a file on the file system
p6407
aVOpening an FileOutputStream and writing to it is the operation which creates the file on the file system
p6408
aVYour first code snippet tries to read and write from/to a file at the same time
p6409
aVYou should read from the file, close the input stream, and then open an output stream, write and close the output stream
p6410
aVReading from a file if it doesn't exist will throw an IOException, so you have to handle this possibility
p6411
aVAnd any input/output stream should always be closed in a finally block
p6412
as(dp6413
g23
V571407
p6414
stp6415
a((dp6416
g2
(lp6417
VOpen a JDBC connection to your database
p6418
aVCreate a prepared statement to insert a row in your table
p6419
aVRead the file line by line
p6420
aVYou might use something like OpenCSV to help you
p6421
aVFor each line, bind the parameters of the prepared statement and execute it
p6422
aVClose the prepared statement, the connection and the file reader
p6423
aVRead http://download
p6424
aVoracle
p6425
aVcom/javase/tutorial/jdbc/basics/index
p6426
aVhtml to learn JDBC
p6427
as(dp6428
g23
V571407
p6429
stp6430
a((dp6431
g2
(lp6432
VThe execution plan computed by the database is probably different between the two queries
p6433
aVA similar problem is described in this question, and my DBA already told me that the same problem can appear with Oracle as well
p6434
as(dp6435
g23
V571407
p6436
stp6437
a((dp6438
g2
(lp6439
VThe documentation of the junit ant task shows it:
p6440
aVIf the appRoot property is passed as a system property to ant, you may access it as an ant property:
p6441
as(dp6442
g23
V571407
p6443
stp6444
a((dp6445
g2
(lp6446
VRead the Java tutorial about collections
p6447
as(dp6448
g23
V571407
p6449
stp6450
a((dp6451
g2
(lp6452
VUse plain sockets :-)
p6453
aVSockets use TCP, and TCP takes care of payloads, multiple packets and ordering
p6454
aVYou'll still need to handle the threading, but  has all you need for this
p6455
aVDon't forget to decide of a character encoding for your strings
p6456
as(dp6457
g23
V571407
p6458
stp6459
a((dp6460
g2
(lp6461
VWhy don't you use an actual JSON encoding API/framework
p6462
aVWhat you're doing is not sanitizing
p6463
aVWhat you're doing is corrupting the data
p6464
aVIf my name is O'Reilly, I want it to be spelled O'Reilly, not OReilly
p6465
aVIf I send a message containing [ or {, I want these to be in the messages
p6466
aVUse a framework or API that escapes those characters when needed rather than removing them blindly
p6467
aVGoogling for JSON Java will lead you to many APIs and frameworks
p6468
as(dp6469
g23
V571407
p6470
stp6471
a((dp6472
g2
(lp6473
VIf you have 6 different Alaska provinces in your database, each with a different ID, and you ask for distinct ones, of course you'll get the 6 ones
p6474
aVThey are distinct, since they have different IDs
p6475
aVYou could load distinct province names, but you would get String instance, not StatesProvices instances
p6476
aVThe fix is probably to cleanup your data, and make sure with a unique constraint that the table doesn't ever contain more than one province with a given name for a given country
p6477
as(dp6478
g23
V571407
p6479
stp6480
a((dp6481
g2
(lp6482
VThis is because you didn't respect a golden rule: don't put anything in the default package
p6483
aVA resource bundle is loaded as a class, from the classpath
p6484
aVIt has a fully qualified name, which must be used to load it
p6485
aVAnd it's not possible to use a class in the default package from a class not in the default package
p6486
aVSo, put your resource bundle in an appropriate package (example : ), and load them like this :
p6487
aVThat said, using scriptlets inside JSPs is a bad practice
p6488
aVYou should really use the JSTL, which has a  library allowing to use resource bundles, format messages, etc
p6489
as(dp6490
g23
V571407
p6491
stp6492
a((dp6493
g2
(lp6494
VIt's probably because the browser returns the contents from its cache at the second request
p6495
aVSee http://spacebug
p6496
aVcom/solving_browser_caching_problem_of_ajax-html/ for a solution, or use an AJAX library (jQuery for example) which can handle this for you
p6497
aVBesides, if you're using Struts, why do you use a bare servlet to handle your AJAX call
p6498
aVWhy don't you use a Struts action
p6499
as(dp6500
g23
V571407
p6501
stp6502
a((dp6503
g2
(lp6504
VJSP code is executed at server side, and generates text
p6505
aVSome of this text happens to be JavaScript code
p6506
aVJavaScript code is executed at client side, where the Java array doesn't exist anymore as a data structure
p6507
aVWhen you write
p6508
aVYou're asking to generate the following String :
p6509
aVbeing a String array, the generated Javascript code will thus look like this :
p6510
aVAnd this is obviously not valid JavaScript code
p6511
aVJavaScript code, when you're generating it with a JSP, is not any different from HTML code
p6512
aVIf you want to generate the code  from a String Java array containing "a", "b" and "c", you need to iterate through the Java array and output a single quote followed by the current String followed by a single quote followed by a comma
p6513
aVAdditionnally, you should escape each string to transform a quote character into \u005c', a newline character into \u005cn, etc
p6514
aVUse  from commons-lang to do that
p6515
as(dp6516
g23
V571407
p6517
stp6518
a((dp6519
g2
(lp6520
VTo be able to use classes stored inside a jar file in your program, this jar file must be part of the classpath
p6521
aVRead http://en
p6522
aVwikipedia
p6523
aVorg/wiki/Classpath for explanations on how to set the classpath
p6524
aVNote that this is also true when compiling your program
p6525
aVSuppose you're at the root of your source directory and you want to compile a Java file and put the class in the classes directory:
p6526
aVNow to run your class:
p6527
aVWhen your program becomes bigger that 2 or three classes, you'll probably want to use a build tool like ant, gradle or maven to build your application
p6528
as(dp6529
g23
V571407
p6530
stp6531
a((dp6532
g2
(lp6533
VNo problem attaching several handlers for the same event
p6534
aVThe documentation for  says :
p6535
aVThere is also
p6536
aV$(document)
p6537
aVbind("ready", handler)
p6538
aVThis behaves similarly to the ready
p6539
aVmethod but with one exception: If the
p6540
aVready event has already fired and you
p6541
aVtry to
p6542
aVbind("ready") the bound
p6543
aVhandler will not be executed
p6544
aVAnd the documentation for  says:
p6545
aVWhen an event reaches an element, all
p6546
aVhandlers bound to that event type for
p6547
aVthe element are fired
p6548
aVIf there are
p6549
aVmultiple handlers registered, they
p6550
aVwill always execute in the order in
p6551
aVwhich they were bound
p6552
as(dp6553
g23
V571407
p6554
stp6555
a((dp6556
g2
(lp6557
VThere is a feature request filed to have additional tags for displaying messages : http://www
p6558
aVstripesframework
p6559
aVorg/jira/browse/STS-245
p6560
aVIf what you don't like is the default messages headers and footers, you just have to change them through the properties as described in the documentation: http://stripes
p6561
aVsourceforge
p6562
aVnet/docs/current/taglib/stripes/messages
p6563
aVhtml
p6564
aVThis will change the headers and footers for all your pages, though
p6565
aVIf you want to change them for one specific page, There is no other way, AFAIK, than doing something like this:
p6566
aVWhere  would be a function defined like this:
p6567
as(dp6568
g23
V571407
p6569
stp6570
a((dp6571
g2
(lp6572
VYou can't, because a Locale is used to hold a language, not a country
p6573
aVIt can hold a language for a specific country, and for a specific variant in this country, but it's a language first
p6574
aVAnd there is no one-to-one relationship between a language and a country
p6575
aVMost languages are spoken in various countries, and many countries have several languages
p6576
aVIf you had the country code for a language, you could use
p6577
aVBut with a country code, all you can do is call , loop through the results, and find one which has your country code
p6578
aVBut there might be several ones
p6579
as(dp6580
g23
V571407
p6581
stp6582
a((dp6583
g2
(lp6584
VIt's really not clear what you want to do
p6585
aVFirst of all, since Foo inherits from Bar, searching for Bar instances will automatically return Foo instances
p6586
aVHibernate takes care of joining the tables by itself
p6587
aVSecond: your SQL query is really strange
p6588
aVYou're doing a left join (which means that you're searching for bars who might not have an associated foo), but you also have a where close on foo
p6589
aVbar_id being not null
p6590
aVThis in fact constitutes an inner join, and could be rewritten as
p6591
aVIf what you want to do is search for Foos, and Foos only, then use a Criteria with Foo as root entity:
p6592
aVYou will get Foo instances, but since Foo extends Bar, these Foo instances are also Bar instances
p6593
aVThat's what inheritance is
p6594
aVNow if you're building your Criteria instance dynamically, and realize at some point that the search must only return instances of Foo, you have to use the implicit class property:
p6595
as(dp6596
g23
V571407
p6597
stp6598
a((dp6599
g2
(lp6600
VEnclose the checkboxes inside a form, and add a submit button in the form:
p6601
aVBesides:
p6602
aVIt's probably time to rename your "Etudinat" class into "Etudiant", before it gets referenced everywhere
p6603
aVUsing scriptlets in JSPs is bad practice for years
p6604
aVUse an MVC framework like Stripes or Spring MVC, use JSP EL, the JSTL and tags
p6605
aVThe MVC framework will take care of mapping form inputs to JavaBean properties, and this is precisely what you want to do
p6606
aVAlways escape strings when you're not absolutely sure they can't contain HTML special chars
p6607
aVIf some student fills its email address field with >, your boss won't be happy
p6608
as(dp6609
g23
V571407
p6610
stp6611
a((dp6612
g2
(lp6613
VApache Tiles supports them, as well as SiteMesh
p6614
as(dp6615
g23
V571407
p6616
stp6617
a((dp6618
g2
(lp6619
VEach JVM has its own implementation
p6620
aVYou may find the implementation of OpenJDK here : http://openjdk
p6621
aVjava
p6622
aVnet/
p6623
as(dp6624
g23
V571407
p6625
stp6626
a((dp6627
g2
(lp6628
VI wouldn't throw any exception, and simply return
p6629
aVOr I would throw a functional exception called
p6630
aVHere's my reasoning:  is used when the user calls a method which is forbidden given the state of the object
p6631
aVHere, it's not the state of the object which causes the exception
p6632
aVIt's the fact that the user doesn't exist in database
p6633
aVYou might argue that the user should have called  before, and that this method could even remember, using an instance field, that it has been called (with this argument), so that an  can be thrown by  without even going to the database
p6634
aVBut the problem here is that calling  before probably doesn't add anything: it will perform a query to check that a user exists, then  will perform a second query, and is not guaranteed to find the user, since another transaction might have removed it
p6635
as(dp6636
g23
V571407
p6637
stp6638
a((dp6639
g2
(lp6640
VYou could use an in-memory database like HSQLDB, fill it, then use JPA to query the data
p6641
aVBut wouldn't using some Maps and Lists be sufficient
p6642
as(dp6643
g23
V571407
p6644
stp6645
a((dp6646
g2
(lp6647
VThe stock price seems to be stored in a span having the ID
p6648
aVUsing the  selector is thus sufficient
p6649
aVYour selector tries to find a span which has an ancestor with the class  which has an ancestor with the ID
p6650
aVRead http://jsoup
p6651
aVorg/apidocs/org/jsoup/select/Selector
p6652
aVhtml for explanations about selectors
p6653
aVEDIT:
p6654
aVYou have a second problem though: this span is not inside the document you have loaded
p6655
aVIt's inside an iframe which has the following URL: http://money
p6656
aVrediff
p6657
aVcom/money1/current_stat
p6658
aVphp
p6659
aVcompanyCode=17020281
p6660
aVTry with this URL instead of the one you're using, and it'll work
p6661
as(dp6662
g23
V571407
p6663
stp6664
a((dp6665
g2
(lp6666
VThis example is not good at all
p6667
aVIt's full of bad practices (hiding exceptions, not closing streams in finally blocks, not specify an explicit encoding, etc
p6668
aVIt uses a 1024 bytes long buffer because it doesn't have any way of knowing the length of the input stream
p6669
aVRead the Java IO tutorial to learn how to read text from a file
p6670
as(dp6671
g23
V571407
p6672
stp6673
a((dp6674
g2
(lp6675
VRight from the documentation:
p6676
aVThis can be used to integrate Struts
p6677
aVwith other business logic components
p6678
aVthat are implemented as servlets (or
p6679
aVJSP pages), but still take advantage
p6680
aVof the Struts controller servlet's
p6681
aVfunctionality (such as processing of
p6682
aVform beans)
p6683
aVStruts is a front controller, that handles form bean population, locale detection, exception handling, form validation, authorization, etc
p6684
aVThis might be useful to do before including the URI (or after, for exception handling)
p6685
aVBut if you start a Struts application from scratch, you shouldn't have to use it
p6686
aVIt's useful when you already have a servlet and want to include it inside a STruts application without rewriting it using Struts
p6687
as(dp6688
g23
V571407
p6689
stp6690
a((dp6691
g2
(lp6692
VYour query doesn't make much sense
p6693
aVWhat would be the average of these three rows
p6694
aVYou may average the amounts and neglect the currency:
p6695
aVbut you can't average the monetary amounts (i
p6696
ag468
aVthe tuple [amount, currency])
p6697
as(dp6698
g23
V571407
p6699
stp6700
a((dp6701
g2
(lp6702
Vshould give you the value that you're looking for
p6703
as(dp6704
g23
V571407
p6705
stp6706
a((dp6707
g2
(lp6708
V$_POST is globally accessible
p6709
aVSo you don't have to pass to your function:
p6710
aVIf you want your function to be able to do what it wants with any array (i
p6711
ag468
aVother than $_POST), then make the function take a parameter, but don't call it $_POST:
p6712
as(dp6713
g23
V571407
p6714
stp6715
a((dp6716
g2
(lp6717
VYou have not installed the unlimited strength crypto files, (the default JDK install allows 128 bit keys as documented in http://download
p6718
aVoracle
p6719
aVcom/javase/6/docs/technotes/guides/security/crypto/CryptoSpec
p6720
aVhtml#AppC)
p6721
aVDownload unlimited strength crypto package here
p6722
aVInstallation Help
p6723
as(dp6724
g23
V571407
p6725
stp6726
a((dp6727
g2
(lp6728
VIterate through the objects in objectList and add each name to a  (let's call it )
p6729
aVThen call
p6730
as(dp6731
g23
V571407
p6732
stp6733
a((dp6734
g2
(lp6735
VA list, if there is no index column specified, will just be handled as a bag by Hibernate (no specific ordering)
p6736
aVOne notable difference in the handling of Hibernate is that you can't fetch two different lists in a single query
p6737
aVFor example, if you have a  entity having a list of contacts and a list of addresses, you won't be able to use a single query to load persons with all their contacts and all their addresses
p6738
aVThe solution in this case is to make two queries (which avoids the cartesian product), or to use a  instead of a  for at least one of the collections
p6739
aVIt's often hard to use Sets with Hibernate when you have to define  and  on the entities and don't have an immutable functional key in the entity
p6740
as(dp6741
g23
V571407
p6742
stp6743
a((dp6744
g2
(lp6745
VThe traditional way of doing, in my experience, it to put all the structured and textual information in database
p6746
aVBinary files as images, videos, sounds, etc
p6747
aVcan be stored in database, but since they can't be queried and are more easily served and backed up from the file system, they're often stored as files
p6748
as(dp6749
g23
V571407
p6750
stp6751
a((dp6752
g2
(lp6753
VRead the part of the Java EE tutorial about web apps
p6754
as(dp6755
g23
V571407
p6756
stp6757
a((dp6758
g2
(lp6759
VThis is a very good practice
p6760
aVI'd just use a standard  rather than a custom one
p6761
as(dp6762
g23
V571407
p6763
stp6764
a((dp6765
g2
(lp6766
VYes there is: the GUI will completely be frozen
p6767
aVYou have to execute long-running tasks in a background thread
p6768
aVThis is usually done using a SwingWorker
p6769
aVHave a look at the Swing tutorial to learn how to use them
p6770
as(dp6771
g23
V571407
p6772
stp6773
a((dp6774
g2
(lp6775
VBoth will do
p6776
aVBut  can't be used to represent any decimal value, whereas  can
p6777
aVChoose the one that fits best for your case
p6778
aVIf it's used to represent monetary amounts, definitely use
p6779
as(dp6780
g23
V571407
p6781
stp6782
a((dp6783
g2
(lp6784
VAs mentioned in the documentation:
p6785
aVAn alternative Dozer properties file
p6786
aVcan be specified via the
p6787
aVdozer
p6788
aVconfiguration system property
p6789
aVex)
p6790
aVSo just launch your app with
p6791
as(dp6792
g23
V571407
p6793
stp6794
a((dp6795
g2
(lp6796
VYes, it's used outside of Wicket
p6797
aVFor example, when a method takes a  as argument, and my Callable doesn't return anything, I use a
p6798
aVis thus used to indicate that some parameterized method doesn't return anything
p6799
aVIn this particular case, according to the documentation, it's used to indicate that the Form doesn't have any model object
p6800
aVThe only valid value of the Void type is
p6801
as(dp6802
g23
V571407
p6803
stp6804
a((dp6805
g2
(lp6806
VI don't see how the index being out of bounds could ever be a normal condition
p6807
aVEither your algorithm has a bug, or you don't validate input correctly
p6808
aVAnd validating input, in this case, consists in checking that the index is in the bounds
p6809
aVChecking it with an  (as in your first snippet) is obviously much more readable, clean and efficient than catching an exception
p6810
as(dp6811
g23
V571407
p6812
stp6813
a((dp6814
g2
(lp6815
VIn Java, a variable doesn't hold an object
p6816
aVIt holds an object reference (i
p6817
ag468
aVa pointer to an object)
p6818
aVGetting an object fom a list and putting it in another list doesn't make a copy of the object
p6819
aVBoth lists simply have a pointer to the same object
p6820
aVSo, of course, if you modify the contents of the object, both lists will have the object modified
p6821
aVSide note: You should use parameterized types (i
p6822
ag468
aVrather than ), and avoid declaring variables at the beginning of your methods as you would do in C
p6823
aVOnly declare a variable when you need it
p6824
aVThis will make the code much clearer, and reduce the scope of your variables
p6825
as(dp6826
g23
V571407
p6827
stp6828
a((dp6829
g2
(lp6830
VYou should access android ui toolkit widgets only on the UI thread
p6831
aVRead http://developer
p6832
aVandroid
p6833
aVcom/resources/articles/painless-threading
p6834
aVhtml
p6835
as(dp6836
g23
V571407
p6837
stp6838
a((dp6839
g2
(lp6840
VIt seems to me that your problem is not with multi-threading, but with inputting something in a GUI from the application fetching the URLs from the database
p6841
aVWhy don't you simply reuse the class (or some of the code, if it's impossible to reuse the classes as is) of your GUI application (i
p6842
ag468
aVthe URL indexing method) inside the application which fetches the URLs from the database
p6843
aVMy guess is that you could very well index these 15 URLs one after the other, in a single thread
p6844
aVI would try doing that before trying to use threads
p6845
aVThe program would look like this:
p6846
aVFetch the 15 URLs from the database and put them into a List
p6847
aVIterate through the list and index each URL
p6848
aVSleep for some time,
p6849
aVGo to 1
p6850
aVEDIT:
p6851
aVSince it seems the URLs must be indexed again and again until the list of URLs changes, I would use this algorithm:
p6852
aVCreate a thread pool using
p6853
aVGet the URLs from the database
p6854
aVFor each URL, create a task which will index the URL again and again, until interrupted (check that  returns false at each iteration)
p6855
aVsubmit each task to the executorService created at step 1, and keep the returned  inside a list
p6856
aVSleep/wait until the list of URLs to index changes
p6857
aVCancel each  () of the list of  instances
p6858
aVGo to step 2
p6859
as(dp6860
g23
V571407
p6861
stp6862
a((dp6863
g2
(lp6864
VEither pass the JFrame instance to the helper classes which create new JDialog instances, or, if your application has a single frame, make this frame accessible from anywhere:
p6865
aVI usually avoid reusing dialog instances: this makes the code more difficult to write (you need to take care of the previous state of the dialog), and it consumes memory to keep invisible dialog instances around
p6866
as(dp6867
g23
V571407
p6868
stp6869
a((dp6870
g2
(lp6871
VThe uri is just an identifier
p6872
aVIt doesn't have to be an actual URI
p6873
aVLook at your web
p6874
aVxml: it might be defined there
p6875
aVIf it isn't, look at all the jars used by your web app, and see if their META-INF folder includes a
p6876
aVtld file where this uri is defined
p6877
aVNow for your second question (can it dynamically include different CSS and if yes, how
p6878
aV, I don't understand exactly what you're asking
p6879
aVBut since no-one including yourself knows what the xyz taglib is, it's hard to answer
p6880
aVOnce you have found the tld file for this taglib, you should find the description and expected parameters of this tag
p6881
aVThe only thing that I might tell is that you could of course use this tag several times:
p6882
as(dp6883
g23
V571407
p6884
stp6885
a((dp6886
g2
(lp6887
VYou can't
p6888
aVThe query must have one placeholder () for each of the elements in the set
p6889
aVAnd you have to bind every element of the set:
p6890
aVIf your set has three elements, your prepared statement must look like this :
p6891
aVand you must iterate through the set and bind each element individually:
p6892
as(dp6893
g23
V571407
p6894
stp6895
a((dp6896
g2
(lp6897
VUse JSON to serialize an object from server to browser
p6898
aVGoogling for "JSON C#" will certainly give you a handful of resources and examples to transform a C# object into a JSON string
p6899
aVBut serializing an image won't be very helpful: what would the browser do with such a binary image
p6900
aVImages are displayed in a  web page thanks to a URL pointing to an image stored on a web server
p6901
aVAnd, until HTML5 is finalized and well supported by browsers, JavaScript won't be able to store anything on the hard drive
p6902
as(dp6903
g23
V571407
p6904
stp6905
a((dp6906
g2
(lp6907
VYou probably have two jars in your classpath defining the same OneToMany annotation, but in different versions (one having the  attribute and the other one not having it)
p6908
aVFix your classpath
p6909
as(dp6910
g23
V571407
p6911
stp6912
a((dp6913
g2
(lp6914
VFirst, the expression  is executed
p6915
aVThis expression means "integer division of 1 by 3"
p6916
aVAnd its result is the integer
p6917
aVThen this result () is cast to a double (or float)
p6918
aVAnd of course it leads to
p6919
aVYou must cast one of the operands of the division to a double (or float) to transform it into a double division:
p6920
aVor simply write
p6921
as(dp6922
g23
V571407
p6923
stp6924
a((dp6925
g2
(lp6926
VYou don't need to separate them
p6927
aVThat's the whole point of encapsulation
p6928
aVThe caller knows there is a  method, but doesn't care if it's implemented through a persistent attribute or not
p6929
aVYou might change your mind and keep the same public methods, but recompute the average and store it inside a field each time  or  is called, without changing anything in the rest of the code
p6930
aVThat's why using getters is better than accessing public fields directly
p6931
as(dp6932
g23
V571407
p6933
stp6934
a((dp6935
g2
(lp6936
VThe error message tells you what is wrong: your code doesn't compile (you should see red error marks in the "Problems" view of Eclipse), because every public class in Java should be defined in a separate file having the name of the class :
p6937
aVThe tree of packages must also match the tree of directories, starting from your source directory:
p6938
aVNote: Eclipse lets you start an application even if it doesn't compile, but you shouldn't: it won't work
p6939
as(dp6940
g23
V571407
p6941
stp6942
a((dp6943
g2
(lp6944
VA variable is something that varies during the report generation, like the number of pages for example
p6945
aVSo a variable () is not something you can pass to a report
p6946
aVYou may pass any value from your Java code to the report as a parameter (), though
p6947
as(dp6948
g23
V571407
p6949
stp6950
a((dp6951
g2
(lp6952
V is the annotation that must be used
p6953
aVIf the same class is both a mapped super class and an entity, then simply split it into two classes:
p6954
as(dp6955
g23
V571407
p6956
stp6957
a((dp6958
g2
(lp6959
VRaw text include characters only, not formatting like bold, italics or underline
p6960
aVTabs, punctuation marks and newline are characters, so a simple varchar will do if all you really need is this
p6961
aVBut you have to decide on a formatting protocol if you want bold, italics and underlined text: HTML, wiki syntax, RTF, etc
p6962
aVIf this format is textual, a varchar will do
p6963
aVIf it's binary, you'll need a blob
p6964
aVIf you have newlines in your text and it's displayed on a single line, it's probably because you output it in a HTML page, where sequences of space characters (tabs, spaces, newlines, etc
p6965
aVare converted to a simple space
p6966
aVUse a  section, and it will display the newlines, tabs and multiple spaces correctly
p6967
as(dp6968
g23
V571407
p6969
stp6970
a((dp6971
g2
(lp6972
V does more than simply outputting the text
p6973
aVIt escapes the HTML special chars
p6974
aVUse it  () every time you're not absolutely sure that the text doesn't contain any of these characters:
p6975
aVElse, you'll have invalid HTML (in the best case), a broken page, or cross-site scripting attacks (in the worst case)
p6976
aVI'll give you a simple example so that you understand
p6977
aVIf you develop a forum, and someone posts the following message, and you don't use  to display this message, you'll have a problem:
p6978
as(dp6979
g23
V571407
p6980
stp6981
a((dp6982
g2
(lp6983
VYes, but it's really the worst case: if all the elements in the  have the same hash code (or a hash code leading to the same bucket)
p6984
aVWith a correctly written  and a normally distributed key sample, a lookup is O(1)
p6985
as(dp6986
g23
V571407
p6987
stp6988
a((dp6989
g2
(lp6990
VDon't ever do that
p6991
aVCommitting should be done when
p6992
aVcode compiles
p6993
aVunit tests pass
p6994
aVthe change you're committing doesn't make your colleagues go mad because the code is in such a state that they can't do their work anymore
p6995
aVMoreover, the commit might very well fail if someone else has made a conflicting change, forcing you to update and perhaps made additional changes before trying to commit again
p6996
aVIn short, it's not something that should be automated at the closing of Eclipse (and that's why Eclipse doesn't allow to do it and probably never will)
p6997
as(dp6998
g23
V571407
p6999
stp7000
a((dp7001
g2
(lp7002
VUse the overloaded  method taking an  as a parameter, and use  to get this input stream
p7003
aVloads a resource from the classpath (and thus from the JAR of your application)
p7004
aVIts api doc will tell you which path it expects
p7005
aVNote that the src directory is used to hold your Java source files
p7006
aVThe jar doesn't contain it
p7007
aVIt contains the
p7008
aVclass files, in a hierarchy which directly maps the package hierarchy
p7009
aVEclipse will automatically "compile" the image file by copying to the output directory, along with the
p7010
aVclass files
p7011
as(dp7012
g23
V571407
p7013
stp7014
a((dp7015
g2
(lp7016
VSee http://static
p7017
aVspringsource
p7018
aVorg/spring/docs/3
p7019
ag2332
aVx/reference/mvc
p7020
aVhtml#mvc-ann-responsebody
p7021
aVYou just have to use
p7022
as(dp7023
g23
V571407
p7024
stp7025
a((dp7026
g2
(lp7027
VThis kind of question is easily answered by reading the javadoc and manual of the API (which I was able to find with a simple Google search, although I've never heard of this API before)
p7028
aVBut even without knowing the API, if it now takes a , it's because it's now able to display any kind of component inside the balloon tip
p7029
aVSince you want to simply render some text, using a  initialized with your string seems like the obvious solution
p7030
as(dp7031
g23
V571407
p7032
stp7033
a((dp7034
g2
(lp7035
VUse a programmatic web browser like HtmlUnit
p7036
as(dp7037
g23
V571407
p7038
stp7039
a((dp7040
g2
(lp7041
VFirst of all, you should check that the whole  method (which finds the test, creates it if necessary, and then creates the  instance and persists it) runs inside a single transaction
p7042
aVAnd your newTestRun method should initialize both sides of the relationship, which is bidirectional
p7043
aVIt's the responsibility of the developer to maintain the coherence of the entity graph
p7044
aVIt should thus do:
p7045
as(dp7046
g23
V571407
p7047
stp7048
a((dp7049
g2
(lp7050
VSee conditional unique constraint for a similar question
p7051
aVI don't think a listener is the right place to define somthing like that
p7052
aVI would either implement it in the database, using a check constraint or a unique constraint on a view, or as a functional check in your application
p7053
as(dp7054
g23
V571407
p7055
stp7056
a((dp7057
g2
(lp7058
VRead the api doc of getText(int, int): the second argument is not an offset
p7059
aVIt's a length
p7060
aVSide note 1: it should probably be easier to get all the text as a single string and split on newline chars, and the parse every string into an integer
p7061
aVSide note 2: The test  can't succeed
p7062
aVA JTextArea instance will never be equals to a String instance
p7063
as(dp7064
g23
V571407
p7065
stp7066
a((dp7067
g2
(lp7068
VYou could always do
p7069
aVThe test would be marked as passed, but at least the missiles wouldn't be launched
p7070
aVOr you could use Assume, which I've never used, but is documented this way:
p7071
aVA set of methods useful for stating
p7072
aVassumptions about the conditions in
p7073
aVwhich a test is meaningful
p7074
aVA failed
p7075
aVassumption does not mean the code is
p7076
aVbroken, but that the test provides no
p7077
aVuseful information
p7078
aVThe default JUnit
p7079
aVrunner treats tests with failing
p7080
aVassumptions as ignored
p7081
aVCustom runners
p7082
aVmay behave differently
p7083
aVFor example:
p7084
aVYour code would thus look like this:
p7085
as(dp7086
g23
V571407
p7087
stp7088
a((dp7089
g2
(lp7090
VYou could do the following:
p7091
aVTemplate 1:
p7092
aVuserRow
p7093
aVjsp:
p7094
aVThe action displaying the full table would forward to the first template, and the action handling the ajax call would forward to userRow
p7095
aVjsp
p7096
aVAnd in your ajax callback, simply append the HTML received from the server (i
p7097
ag468
aVthe result of the execution of userRow
p7098
aVjsp) at the end of your table
p7099
aVIn JQuery, it would look like this (where  is the action that creates the new user based on the parameters passed through the  JavaScript object, and then forwards to  to render the newly created user):
p7100
as(dp7101
g23
V571407
p7102
stp7103
a((dp7104
g2
(lp7105
VYou also have to take care of deadlocks in Java
p7106
aVThe easiest way to get a deadlock is to make one thread run a block synchronized on A, and then another block synchronized on B, while another thread executes a block synchronized on B, and then a block synchronized on A
p7107
aVRead the Java tutorial about concurrency
p7108
aVAnd if you want to keep learning, read Java concurrency in practice
p7109
as(dp7110
g23
V571407
p7111
stp7112
a((dp7113
g2
(lp7114
VI see nothing wrong with such a design
p7115
aVis one of the most commmonly used classes with two abstract parent classes
p7116
aVIt could be useful to make the additional abstract methods of  and  parts of interfaces extending the  interface
p7117
as(dp7118
g23
V571407
p7119
stp7120
a((dp7121
g2
(lp7122
VThe problem comes from the distint clause of the query, which can't be applied to a CLOB
p7123
aVCheck if the distinct keyword is really needed
p7124
aVOr maybe you could rewrite your query as
p7125
aVPS: next time, include the error message and your database in the question
p7126
aVI've been able to find the problem with a simple google search on "ora-00932 clob"
p7127
as(dp7128
g23
V571407
p7129
stp7130
a((dp7131
g2
(lp7132
VYou're not supposed to add a label inside a button
p7133
aVJust set its icon with
p7134
aVinstead of
p7135
as(dp7136
g23
V571407
p7137
stp7138
a((dp7139
g2
(lp7140
VThat is assuming that all the associations are bidirectional associations, and not unrelated associations (i
p7141
ag468
aVA
p7142
aVbees is the inverse association of B
p7143
aVa, etc
p7144
as(dp7145
g23
V571407
p7146
stp7147
a((dp7148
g2
(lp7149
VThis way of doing quickly becomes unmanageable, since the number of combinations quickly becomes huge
p7150
aVCreate a PersonFilter class having all the possible query parameters, and visit each person of the list :
p7151
aVThe filtering is now implemented by
p7152
as(dp7153
g23
V571407
p7154
stp7155
a((dp7156
g2
(lp7157
VHibernate doesn't have the concept of a repository
p7158
aVSpring does
p7159
aVHibernate doesn't care where the persistent entities classes are
p7160
aVThey must be in the classpath, that's all
p7161
aVWhether they're in one, two or three jars doesn't matter if all these jars are in the classpath
p7162
aVOrganize your projects as you would like, and just make sure you don't have two different hibernate configuration files in the classpath
p7163
aVI would use a project to hold all the common entities and maybe their associated repositories, and let the main project define the hibernate configuration file
p7164
aVIf the shared class fully qualified name is src
p7165
aVshared
p7166
aVmyEntity, then the spring config should have the following lines:
p7167
aVYour wording is confusing, so I'll check mhat I considered obvious but which is perhaps not
p7168
aVThe fully qualified name of a class is composed of its full package name, followed by the name of the class, without
p7169
aVclass or
p7170
aVjava extension
p7171
aVAnd the jar must contain the
p7172
aVclass file, not the
p7173
aVjava file
p7174
aVAnd the hierarchy of the directories in the jar must exactly map the hierarchy of the packages
p7175
aVSo if your entity looks like this:
p7176
aVThe jar should have, at its root, a  directory, containing a  directory, containing a  file
p7177
aVPS: having  as a root package name is really strange
p7178
aVWhy don't you respect the convention:
p7179
aVPS2: a class name should always start with a capital letter:  and not
p7180
as(dp7181
g23
V571407
p7182
stp7183
a((dp7184
g2
(lp7185
VYou will have problems if you use a single jar shared by all the webapps, since it will then be impossible for two apps to use a different version of a library
p7186
aVBut if each webapp has its own version of the library in its WEB-INF/lib, the container shouldn't have any problem: each webapp has its own classloader, which doesn't see the libraries of other webapps
p7187
as(dp7188
g23
V571407
p7189
stp7190
a((dp7191
g2
(lp7192
VSee http://www
p7193
aVw3
p7194
aVorg/Protocols/rfc2616/rfc2616-sec14
p7195
aVhtml#sec14
p7196
aV43
p7197
as(dp7198
g23
V571407
p7199
stp7200
a((dp7201
g2
(lp7202
VThat's basically the idea of an ExecutorService
p7203
aVYou create an executor service backed by one or several threads (a thread pool), and you submit tasks to this executor service
p7204
aVThe tasks are stored in a queue, from which the thread(s) of the executor service takes the tasks it must execute
p7205
aVWhen the queue is empty, the thread(s) wait for a new task to appear in the queue
p7206
aVYou could have a , and submit all the mails you have found in the database to the appropriate executor service
p7207
aVUse Executors to create the appropriate implementation of ExecutorService
p7208
as(dp7209
g23
V571407
p7210
stp7211
a((dp7212
g2
(lp7213
VDuck typing doesn't exist in Java
p7214
aVIf a class implements an interface, it must declare that this interface is implemented
p7215
aVIt isn't sufficient just to have methods with the same signature as the ones in the interface
p7216
aVAn interface is a type, though, and you may declare a variable of this type
p7217
aVFor example:
p7218
aVdeclares a variable  of type , where  is an interface
p7219
aVYou may initialize this variable with any object implementing this List interface:
p7220
aVBut then  must declare that it implements the  interface (which it does)
p7221
as(dp7222
g23
V571407
p7223
stp7224
a((dp7225
g2
(lp7226
VNo
p7227
aVYou wrote two characters
p7228
aVWriters are used for textual data, not for binary data
p7229
aVThe documentation of write(int) says:
p7230
aVWrites a single character
p7231
aVSince the default character encoding of your platform stores those two characters as a single byte (each), the file length is 2 (2 bytes: the length of a file is measured in bytes, as the documentation says)
p7232
aVOpen the file with a text editor, and see what's in there
p7233
aVThe Java API doc is really useful to know what a class or method does
p7234
aVYou should read it
p7235
as(dp7236
g23
V571407
p7237
stp7238
a((dp7239
g2
(lp7240
VIn your example, it might not be useful
p7241
aVBut suppose you're writing an interface with many possible implementations
p7242
aVSuppose for example that two years from now, you switch from a SQL database to a NoSQL one
p7243
aVYour DAO will then be forced to declare NoSQLException, and all the calling code will have to be rewritten
p7244
aVWhereas if the SQLException or NoSQLException is wrapped inside your custom exception, the calling code can stay as it is
p7245
as(dp7246
g23
V571407
p7247
stp7248
a((dp7249
g2
(lp7250
VBetween  and , you have a newline char and a number of spaces
p7251
aVThese form a text node, and that's why you get  as the event type
p7252
aVI'm surprised you got an empty string when calling
p7253
aVAre you sure it wasn't a string with only a newline and space characters
p7254
as(dp7255
g23
V571407
p7256
stp7257
a((dp7258
g2
(lp7259
VThe  class should be annotated with
p7260
aVElse, its persistence annotations are not taken into account by the mapping
p7261
aVNote : Your unit tests should probably be updated to check that the mapping of the super-class fields works as expected
p7262
as(dp7263
g23
V571407
p7264
stp7265
a((dp7266
g2
(lp7267
VNo, it's not a sane idea :-)
p7268
aVThe GWT code should handle presentation logic
p7269
aVThe way data is displayed in the presentation layer doesn't necessarily match the way this data is stored in database, and the presentation layer shouldn't even know Hibernate is used in the data access layer
p7270
aVBuilding a Criteria object is the role of the data access layer
p7271
aVI would just use some kind of DTO containing the search criteria, pass this DTO to my service layer, which would give it to the data access layer (with potential additional search criterias depending on the context), which would build a Hibernate Criteria object
p7272
aVThink about it: imagine the request needs to be done in HQL or SQL in the future because of limitations of the Criteria API
p7273
aVWould it sound normal to have to completely change the presentation and service layers
p7274
as(dp7275
g23
V571407
p7276
stp7277
a((dp7278
g2
(lp7279
VYou have to decide how to store passwords
p7280
aVIf you store them as a String in a Hibernate entity, they will be stored in a varchar in database, in clear text
p7281
aVAnyone having access to the database will thus be able to see them
p7282
aVAuthenticating in this case consists in comparing the sent password with the one in database
p7283
aVThere are two other possibilities
p7284
aVThe first one consists in encrypting them with a secret key before storing them in database
p7285
aVBut this secret key will have to be stored somewhere in order for your application to decrypt them and compare the decrypted password with the one sent by the user
p7286
aVBut it could at least reduce the visibility of the password only to the persons having acces to the application deployment directory
p7287
aVAuthenticating in this case consists in decrypting the password stored in database with the secret key, and compare it with the password sent by the user
p7288
aVIf they are equal, then the user sent the correct password
p7289
aVThe last possibility would be to use a one-way hash algorithm (like SHA-1, for example), also known as message digest algorithm
p7290
aVThis way, there is no need for a secret key, and it would be very hard (read : nearly impossible) for anyone to get access to the password (if the password is salted)
p7291
aVThe drawback of this solution is that if a user looses his password, you won't be able to send him
p7292
aVThe only possibility is to reset him to a new value, send this new password to the user and ask him to choose a new one
p7293
aVAuthenticating the user, in this case, consists in hashing the password he sends and comparing with the hash stored in database
p7294
aVRead http://en
p7295
aVwikipedia
p7296
aVorg/wiki/Salt_(cryptography) for more detailed explanations
p7297
as(dp7298
g23
V571407
p7299
stp7300
a((dp7301
g2
(lp7302
VThere is no automatic way of setting all the foreign keys to  when some entity is removed
p7303
aVYou have to explicitely get all the authors of the department, set their departement to null, and then remove the department
p7304
aVYou could also use a bulk update query to do this:
p7305
aV(and thus have just one query instead of n + 1), but be aware that the version field won't be updated, that there won't be any optimistic locking check, and that the already loaded departments of the session won't be affected (in memory) if you do so
p7306
aVNote that you shouldn't have an ObjectNotFoundException when you're deleting an entity referenced by another one
p7307
aVInstead, you should enable a foreign key constraint in the database so that the removal of the department fails if there is still an author referencing it
p7308
aVThat way, your data stays in a coherent state
p7309
as(dp7310
g23
V571407
p7311
stp7312
a((dp7313
g2
(lp7314
VIt doesn't make sense
p7315
aVThe point of  is to define a field that the JPA engine will increment at each modification of the entity
p7316
aVThe point of  is to define the primary key, which should be unique and immutable, and be used to identify an entity for its whole life
p7317
aVThe  field should thus not be part of an ID
p7318
as(dp7319
g23
V571407
p7320
stp7321
a((dp7322
g2
(lp7323
Vdeclares docArray as an array of arrays of Strings
p7324
aVSo the next line doesn't make sense:
p7325
aVmeans "take the 0th String of the third array of Strings of docArray, and try to cast this String into an array of arrays of Objects
p7326
aVAside of the type problem, you also have another problem
p7327
aVWhen an array of objects is initialized, it's full of null values
p7328
aVGetting a value from this array will thus always return null
p7329
aVAnd trying to get the 0th element of null leads to a NullPointerException
p7330
aVNote that having arrays of arrays of Objects is pretty hard to read and understand, and is often the sign of a lack of design
p7331
aVUse well-defined classes rather than Object arrays
p7332
as(dp7333
g23
V571407
p7334
stp7335
a((dp7336
g2
(lp7337
VThe FutureTask will execute in a new thread and, if an exception occurs, will store it in an instance field
p7338
aVIt's only when you'll ask the result of the execution that you will get the exception, wrapped inside an :
p7339
as(dp7340
g23
V571407
p7341
stp7342
a((dp7343
g2
(lp7344
VYou can't
p7345
aVYou have to pass the property value itself to the query:
p7346
as(dp7347
g23
V571407
p7348
stp7349
a((dp7350
g2
(lp7351
VThere is no built-in way to do what you want, but as you said, it isn't difficult to do it yourself: the basically have the same interface, and copying the keys and values from the bundle to the properties is easy
p7352
aVThere is a caveat, though
p7353
aVAlthough the interface is similar, the implementation is not: the resource bundle has an inheritance model which allows returning the value in  if it isn't defined in  and
p7354
aVSo copying all the entries won't get you the same properties as it they had been loaded from the properties file
p7355
aVIt will get the entries of the properties file and the properties of all its parents
p7356
aVBut I guess you knew that since you're talking about a stack of properties files
p7357
aVYou haven't stated why you would prefer a Properties over a ResourceBundle, so it's hard to give you a better answer
p7358
aVAnother solution would be to simply load the properties yourself:
p7359
aVThis way, you would get only the entries from the specific properties file
p7360
as(dp7361
g23
V571407
p7362
stp7363
a((dp7364
g2
(lp7365
V is the HTML entity which must be used to output the  character in HTML
p7366
aVand  are special characters used by the HTML markup and must thus be escaped to  and  if these characters must be displayed in the page
p7367
aVI suspect you're using a JSF tag which escapes its input
p7368
aVI don't have much experience with JSF, but you might try to enclose the script in a CDATA section:
p7369
aVBut the best solution is not to have JavaScript in HTML at all, and load it from an external file
p7370
as(dp7371
g23
V571407
p7372
stp7373
a((dp7374
g2
(lp7375
VI agree with Jon Skeet
p7376
aVIf you really have no choice, consider using StringEscapeUtils
p7377
aVescapeXml from commons-lang
p7378
as(dp7379
g23
V571407
p7380
stp7381
a((dp7382
g2
(lp7383
VCheck if you're at the first iteration (), and initialize the bestSolution with the computed solution if it's the first iteration, else compare it with the previous bestSolution
p7384
as(dp7385
g23
V571407
p7386
stp7387
a((dp7388
g2
(lp7389
VThere is no way (AFAIK) to prevent context switches in Java
p7390
aVThus, I don't see how locking could be atomic in this sense
p7391
aVBut I also don't see why it would matter anyway, since an attached entity is not supposed to be used concurrently by several threads
p7392
as(dp7393
g23
V571407
p7394
stp7395
a((dp7396
g2
(lp7397
VYou may use the  annotation: the LinkedHashMap will be serialized and stored in a BLOB column (and deserialized when read from the database)
p7398
aVBut this is of course fragile, impossible to query, forces the use of Java to read the contents of the pets
p7399
aVIf you need a more traditional mapping to an additional Pet table, with a one-to-many association, then you'll need a Pet entity
p7400
as(dp7401
g23
V571407
p7402
stp7403
a((dp7404
g2
(lp7405
VI'm pretty sure that, as the reference says, it applies to any method
p7406
aVIndeed, a proxy, in my understanding, is nothing more than a subclass of the entity which has no state except for the ID of the entity initially, and which delegates every method call to an actual instance of the entity class once initialized
p7407
aVIt thus has to override all of the methods in order to
p7408
aVinitialize itself if necessary
p7409
aVdelegate the call to the actual instance method
p7410
as(dp7411
g23
V571407
p7412
stp7413
a((dp7414
g2
(lp7415
VYou have to remove the hotels from the list of hotels of the country before deleting the country, in order to tell Hibernate that the hotels don't have a country anymore
p7416
as(dp7417
g23
V571407
p7418
stp7419
a((dp7420
g2
(lp7421
VMy approach would be to have the Spring MVC app split in layers:
p7422
aVthe presentation layer is where Spring MVC is used
p7423
aVIt contains the presentation logic and calls the service layer
p7424
aVthe service layer is where the business logic is
p7425
aVIt calls the data access layer
p7426
aVthe data access layer is where the persistence logic is
p7427
aVI would thus have to make some or all of the services of the service layer remotely accessible (using Spring HttpInvoker, web services or whatever), and potentially add some more dedicated to the specifics of the RCP app
p7428
as(dp7429
g23
V571407
p7430
stp7431
a((dp7432
g2
(lp7433
VThe second one is less confusing to me, because it isn't clear from the first one if returned and passed objects are the same, and I don't find it normal to ignore a returned value
p7434
as(dp7435
g23
V571407
p7436
stp7437
a((dp7438
g2
(lp7439
VYour code is not complete, so it's hard to be sure, but I suspect that you're basically doing this:
p7440
aVIn Java, adding an object to a list doesn't make a copy from the object into the list
p7441
aVThe list simply stores a reference to your object
p7442
aVSo, at each iteration, you overwrite what you stored in the object at the previous iteration, and add a new reference to the same object in the list
p7443
aVAt the end, the list contains N references to the exact same object
p7444
aVSo when the datastore stores the list in database, it notices that the list contains the same object duplicated n times, and only stored the object once
p7445
aVYou thus have to make a new location object at each iteration:
p7446
as(dp7447
g23
V571407
p7448
stp7449
a((dp7450
g2
(lp7451
Vtells hibernate to update the database schema each time the session factory is created
p7452
aVAnd
p7453
aVbuilds a new session factory
p7454
aVA  should be built only once during the wole application lifetime
p7455
aVIt should be created once and then reused
p7456
aVHave you read the hibernate reference manual
p7457
as(dp7458
g23
V571407
p7459
stp7460
a((dp7461
g2
(lp7462
VJasperReports and Birt are two good and free candidates
p7463
as(dp7464
g23
V571407
p7465
stp7466
a((dp7467
g2
(lp7468
VDon't let Spring create your CustomerManager to test
p7469
aVCreate it by hand and inject a mock DAO manually
p7470
aVthat's the whole point of dependency injection:
p7471
as(dp7472
g23
V571407
p7473
stp7474
a((dp7475
g2
(lp7476
VSession
p7477
aVload does what you want
p7478
aVIt returns a proxy of Actor containing only the ID of the actor, and assumes you know that the actor exists in the database
p7479
aVIf it doesn't, your transaction will of course rollback after the update because of a broken foreign key constraint
p7480
aVIf the actor is already present in the session, it's returned
p7481
aVIf the transaction finally needs to call a method on one of the actors, no probem: it's a proxy, and the state of the actor will be loaded if needed
p7482
aVThe equivalent method with a JPA EntityManager is getReference
p7483
as(dp7484
g23
V571407
p7485
stp7486
a((dp7487
g2
(lp7488
VUsing argThat with a hamcrest Matcher should do the trick
p7489
aVThe Matcher would match its passed  if the thing has the  status:
p7490
aVAnd then in your test, use the following code :
p7491
as(dp7492
g23
V571407
p7493
stp7494
a((dp7495
g2
(lp7496
VThe easiest way is to use a surrogate primary key for the Shape entity
p7497
aVThe tables would look like this:
p7498
aVThe use of composite keys is discouraged by Hibernate, for good reasons (and the problem you're having is just one of them)
p7499
as(dp7500
g23
V571407
p7501
stp7502
a((dp7503
g2
(lp7504
VIf it works when running in jsfiddle, then it works
p7505
aVI suspect you're trying to register the keypress listener when the dom is not loaded yet, and input_area is not available yet
p7506
aVWrap it inside $(document)
p7507
aVready :
p7508
as(dp7509
g23
V571407
p7510
stp7511
a((dp7512
g2
(lp7513
VIf I understand correctly, you would like to iterate over the result set, but are not interested in building the full list of results
p7514
aVJust use the query method with a  as argument
p7515
aVThe  can use your mapper to transform the current row into an
p7516
aVPut every event into a list until you reach a different KEY_ID or the end of the result set, then proceed with your list of events and clear the list
p7517
as(dp7518
g23
V571407
p7519
stp7520
a((dp7521
g2
(lp7522
VSuppose that you need to be able to report the steps of some background task
p7523
aVYou could choose to do it by changing the text of a label, or by changing the text of a notification bubble
p7524
aVOne way to do it would be to pass the label or notification to the background task:
p7525
aVThis couples the BackgroundTask with the UI, and with the two possible ways of reporting progress
p7526
aVIf you add a third one, you must change the code of BackGroundTask
p7527
aVNow extract an interface:
p7528
aVThe BackgroundTask is now simpler, and isn't dependent anymore on allthe possible ways to report progress
p7529
aVThe caller just has to give it an implementation of the ProgressListener interface
p7530
aVFor a label-based progress, it would do the following :
p7531
aVOr your activity could implement the ProgressListener directly:
p7532
aVNo more coupling between Label and BackgroundTask, or between MyActivity and BackgroundTask
p7533
aVThe BackgroundTask can't call any method of Label, Notification or MyActivity anymore
p7534
aVIt can only call what it's supposed to call: the method of a dedicated ProgressListener interface
p7535
as(dp7536
g23
V571407
p7537
stp7538
a((dp7539
g2
(lp7540
VNo it's not
p7541
aVGoogle provides a JPA API implementation above its very specific "database" calls the DataStore
p7542
aVAFAIK, there is no other JPA implementation able to target this datastore
p7543
aVBut there are other APIs available: the low-level datastore API, JDO, Objectify, twig-persist, and maybe others I don't know about
p7544
as(dp7545
g23
V571407
p7546
stp7547
a((dp7548
g2
(lp7549
VIt doesn't work because Maven resolves dependencies when building your project, but doesn't put all the dependencies magically in your jar
p7550
aVYou're supposed to run your app with all its dependencies in the classpath:
p7551
aVOr you have to customize the maven jar plugin in order to create an executable jar, as described here
p7552
aVAnd you may also use the maven assemby plugin to copy all your Y project's dependencies to the target directory, next to the generated Y
p7553
aVjar
p7554
as(dp7555
g23
V571407
p7556
stp7557
a((dp7558
g2
(lp7559
VTo do what you want, you should:
p7560
aVCreate a  instance using one of its constructors
p7561
aVCall  on this option pane to get a dialog containing this option pane
p7562
aVUse a  instance in order to fire an action event after 2 minutes
p7563
aVadd an action listener to this timer which would close the dialog containing the option pane
p7564
aVshow the dialog containing the option pane
p7565
as(dp7566
g23
V571407
p7567
stp7568
a((dp7569
g2
(lp7570
VI would advice you to learn using ant, which is very-well suited for this task and is very easy to grasp and well documented
p7571
aVYou would just have to define a target like this in the build
p7572
aVxml file:
p7573
as(dp7574
g23
V571407
p7575
stp7576
a((dp7577
g2
(lp7578
VYou should get the directories you want to show ( instances) and use these directories as the items of the combo box
p7579
aVThen add an action listener of this combo box
p7580
aVThis listener will be called each time the user selects one of the directories in the combo box
p7581
aVThen just ask the combo box its selected item, and list the files of the selected directory
p7582
aVYou may customize how the directories are displayed inside the combo box using a
p7583
aVI suggest you read the Swing tutorial, where all this is well explained
p7584
as(dp7585
g23
V571407
p7586
stp7587
a((dp7588
g2
(lp7589
VThe answer depends on what the superclass method does, and what the subclass method does
p7590
aVIf the work done by the superclass must be done before, put the super call before
p7591
aVIf the work done by the superclass must be done after, put the super call after
p7592
aVIf some work must be done before the superclass method and some after, then put it in between
p7593
aVIf the order doesn't matter, the usual way is to call the superclass method at the beginning
p7594
as(dp7595
g23
V571407
p7596
stp7597
a((dp7598
g2
(lp7599
VTo answer your specific question, cookies are preferable to sessions when cookies can do what you can't do with sessions
p7600
aVI see two reasons to use them:
p7601
aVwhen you need some information about the client, and this information must keep existing across multiple client sessions, even if the user closes his browser
p7602
aVFor example, an automatic login uses cookies: at the first request of a client session, the cookie is sent, and the web site is thus able to identify the user
p7603
aVwhen you need to share some information between information between several web applications, provided their are all served from the same domain
p7604
aVFor example, single sign-on can use cookies
p7605
aVThe first application authenticates the user and sets a token cookie, which is sent to the second application
p7606
aVthe second application may then use this cookie to automatically authenticate the user
p7607
as(dp7608
g23
V571407
p7609
stp7610
a((dp7611
g2
(lp7612
VIf you need to display several images, you need to have several  tags, each with a different  attribute
p7613
aVIt's not a good idea to use the real image just to display its thumbnail (using smaller width and height attributes), because it wastes bandwidth and takes more time: it forces the browser to download a big image (hundreds of KBs) instead of a small one (some KBs)
p7614
aVSo reduce your images and store two copies on the server: the thumbnail and the actual image
p7615
as(dp7616
g23
V571407
p7617
stp7618
a((dp7619
g2
(lp7620
VAll the files stored in WEB-INF are, on purpose, invisible to the outside
p7621
aVA URL pointing on WEB-INF/something will thus always result in a 404
p7622
aVWEB-INF is used to store resources needed by the application, but which must stay invisible to the outside
p7623
aVPut the CSS files outside of WEB-INF
p7624
as(dp7625
g23
V571407
p7626
stp7627
a((dp7628
g2
(lp7629
VThere is no difference
p7630
aVYou don't call a method when accessing the length of the array
p7631
aVYou just read an internal field
p7632
aVEven if you called a method, the difference would be negligible with current JVMs
p7633
as(dp7634
g23
V571407
p7635
stp7636
a((dp7637
g2
(lp7638
VThe generated string is not valid JSON
p7639
aVAll those objects should be in an array, and the name of the properties should be quoted
p7640
aVWhy don't you use json_encode
p7641
as(dp7642
g23
V571407
p7643
stp7644
a((dp7645
g2
(lp7646
VThe documentation you linked to says:
p7647
aVHandler methods that are annotated
p7648
aVwith @RequestMapping can have very
p7649
aVflexible signatures
p7650
aV[
p7651
aVCommand or
p7652
aVform objects to bind parameters to: as
p7653
aVbean properties or fields, with
p7654
aVcustomizable type conversion [
p7655
aVYou can't use the @RequestMapping annotation on the properties/fields of the POJO like you did in your example, but if the property names of the POJO map the parameter names, the POJO will be instantiated and populated by Spring properly
p7656
as(dp7657
g23
V571407
p7658
stp7659
a((dp7660
g2
(lp7661
VPutting every layer on its own machine makes things harder and less efficient
p7662
aVThe more inter-process calls you make, the less performant your application is, and the more difficult it is to implement, manage and debug it
p7663
aVHaving well-defined layers is a good thing, but putting them on a dedicated machine is not a good idea, IMHO
p7664
aVNothing stops you to share the same data layer in two different JVMs
p7665
aVThe only thing you must take into account is the second-level cache, which will have to be replicated/clustered if it's not read-only
p7666
aVBut this second-level cache is optional, and since you probably don't have one yet, you might start without one and introduce it later in your architecture
p7667
as(dp7668
g23
V571407
p7669
stp7670
a((dp7671
g2
(lp7672
VThe  constructor takes a  as argument
p7673
aVI don't know what  does in your code, but it should return a  built with one of the SessionFactory beans you defined (either by declaring them in the spring context xml file, or by constructing them in Java from one of the injected session factories)
p7674
aVNote that, as the documentation of HibernateTemplate says (in bold):
p7675
aVAs of Hibernate 3
p7676
ag2332
aV1, transactional
p7677
aVHibernate access code can also be
p7678
aVcoded in plain Hibernate style
p7679
aVHence,
p7680
aVfor newly started projects, consider
p7681
aVadopting the standard Hibernate3 style
p7682
aVof coding data access objects instead,
p7683
aVbased on
p7684
aVSessionFactory
p7685
aVgetCurrentSession()
p7686
aVI would inject the session factory directly, and use the Hibernate API directly
p7687
aVHibernateTemplate doesn't bring much over the Hibernate API and often gets in the way, IMHO
p7688
aV(For example by not providing an equivalent to )
p7689
as(dp7690
g23
V571407
p7691
stp7692
a((dp7693
g2
(lp7694
VFirst of all, you're not forced to create your tables with Hibernate
p7695
aVYou might use a custom SQL script
p7696
aVNow, having such a database design is not very clean, because you can't enforce any foreign key constraint for the container_id column
p7697
aVI would either use two columns (group_id and project_id) in the blog table, or use two join tables (group_blogs and project_blogs)
p7698
aVThis would make Hibernate happy, and would improve the database
p7699
aVIf you worry that this design might allow a blog to belong to a group and a project, then use a check constraint on the blog table ensuring that group_id or project_id is null
p7700
aVHarder to do with two join tables, though
p7701
aVThat said, if you really want to keep that design, I think the key is to use the  annotation to map the inverse relationship (from Blog to Group/Project)
p7702
as(dp7703
g23
V571407
p7704
stp7705
a((dp7706
g2
(lp7707
VIf you want to map that design, you need a third entity, that I'll call
p7708
aVOne user has many participations;
p7709
aVOne channel has many participations;
p7710
aVOne participation has one channel, one user, and 5 boolean fields (status1 to status5)
p7711
aVBut a more normal (and certainly easier to query) way of designing this would be to have a Participation entity with just one status, and create a  instance per User-Channel-Status tuple
p7712
aVIf you think about it, it would be the only possible mapping (as far as I see) if the number of possible statuses was much bigger (or not fixed at all)
p7713
as(dp7714
g23
V571407
p7715
stp7716
a((dp7717
g2
(lp7718
Vshould do the trick
p7719
as(dp7720
g23
V571407
p7721
stp7722
a((dp7723
g2
(lp7724
VIf I understand correctly, you use this code in a superclass to test if a subclass has a  field
p7725
aVWhy don't you simply add a method like this
p7726
aVSeems much more OO to me, doesn't break encapsulation
p7727
aVThat said, I've not really understood why you needed this in the first place
p7728
as(dp7729
g23
V571407
p7730
stp7731
a((dp7732
g2
(lp7733
VUse delegation rather than inheritance:
p7734
as(dp7735
g23
V571407
p7736
stp7737
a((dp7738
g2
(lp7739
VIn JPA/Hibernate, you always have to maintain both sides of a bidirectional association yourself
p7740
aVThe owning side of an association, which is the side used by Hibernate to know if an association exists or has changed, is the side where these is no  attribute
p7741
aVIn your case, it's the  which is the owning side
p7742
aVSo if you don't set the  property of the phone you create, Hibernate will consider that the phone is not linked to any user, even if user has the phone in its list of phones
p7743
aVSide note: read the Spring documentation about declarative transaction management
p7744
aVYou really don't do what should be done to get an open session and manage transactions
p7745
as(dp7746
g23
V571407
p7747
stp7748
a((dp7749
g2
(lp7750
VUse
p7751
aVwhere  is defined as
p7752
as(dp7753
g23
V571407
p7754
stp7755
a((dp7756
g2
(lp7757
VYou won't be able to print from the browser without the browser asking you to confirm and choose the print settings
p7758
aVBut you can generate an HTML page which is suitable for printing and use JavaScript to make the confirmation dialog box appear automatically
p7759
aVIf you need more control, you may also generate a PDF document (with birt or JasperReport, for example), and display this PDF document in the browser page
p7760
aVThe adobe plugin will take care of displaying and printing the document
p7761
aVRegarding the letter head of the hospital, either you include the hospital heading in the generated HTML page or PDF document, or you ask the doctor to use a printer containing paper already having the hospital header, pre-printed
p7762
as(dp7763
g23
V571407
p7764
stp7765
a((dp7766
g2
(lp7767
VBy doing that, you'be mapped a unique bidirectional association as two unidirectional associations
p7768
aVOne of the side must be marked as the inverse of the other:
p7769
aVThe  attribute must contain the name of the attribute of the other side of the association
p7770
aVNote that this is indeed what is described at paragraph 2
p7771
ag12
ag194
ag14
ag10
ag10
aVof the documentation
p7772
as(dp7773
g23
V571407
p7774
stp7775
a((dp7776
g2
(lp7777
VJavadoc to the rescue:
p7778
aVDetermines the integer value of the
p7779
aVsystem property with the specified
p7780
aVname
p7781
aVUse  to transform the string into an int, and  to transform the string into an Integer
p7782
as(dp7783
g23
V571407
p7784
stp7785
a((dp7786
g2
(lp7787
V in XPath means Select all td elements no matter where they are in the document
p7788
aVSee http://www
p7789
aVw3schools
p7790
aVcom/xpath/xpath_syntax
p7791
aVasp
p7792
as(dp7793
g23
V571407
p7794
stp7795
a((dp7796
g2
(lp7797
VUse a filelist, as shown in the ant concat documentation
p7798
as(dp7799
g23
V571407
p7800
stp7801
a((dp7802
g2
(lp7803
VYou might be able to do it by displaying the JFrame and then calling
p7804
aVBut it's really a bad idea
p7805
aVThe GUI will be frozen for the whole duration of the method
p7806
aVThe right way to do it is, indeed, to use a background thread
p7807
aVBut Swing has all you need to make it painless
p7808
aVSimply use a
p7809
aVIts API doc is well-written and has examples
p7810
aVTry doing it, and if you can't, Ask another question and show the code you have tried so that someone helps you
p7811
as(dp7812
g23
V571407
p7813
stp7814
a((dp7815
g2
(lp7816
VIn fact, naming conventions exist for the Java language: See http://www
p7817
aVoracle
p7818
aVcom/technetwork/java/codeconventions-135099
p7819
aVhtml
p7820
aVArguments, like variable, should be written in camelCase, should generally not be abbreviated except for well-known acronyms (URL, HTTP, etc
p7821
aV, and, most important, should describe the role of the argument and not its type
p7822
aVIts type is knwon: it's written just before the argument
p7823
aVSo prefer
p7824
aVto
p7825
aVRegarding your examples, here are the ones I would accept:
p7826
aVBoth are acceptable, because the first one handles a name and the second one handles a file
p7827
as(dp7828
g23
V571407
p7829
stp7830
a((dp7831
g2
(lp7832
VThe fact that the request comes from a form or not doesn't change anything
p7833
aVThe servlet receives a request, and then can do some processing and forward to a JSP:
p7834
aVservlet gets request parameters
p7835
aVservlets uses those parameters to get requested data from a database, and populate some beans with said data
p7836
aVIt may also build some beans from scratch, to display a form with default values
p7837
aVservlet puts those beans in request attributes
p7838
aVservlet forwards to a JSP
p7839
aVJSP avoids using scriptlets and rather uses JSP EL, the JSTL and custom tags to display the information stored in the beans in request scope
p7840
as(dp7841
g23
V571407
p7842
stp7843
a((dp7844
g2
(lp7845
VIf you're not looking for String to Date conversion and vice-versa, and thus don't need to handle invalid dates or anything, String manipulation is the easiest and most efficient way
p7846
aVBut i's much less readable and maintainable than using DateFormat
p7847
as(dp7848
g23
V571407
p7849
stp7850
a((dp7851
g2
(lp7852
VWindow - Preferences - Web - JSP Files - Editor
p7853
aVClick on the link for your kind of JSP (HTML or XML content), and adjust the line width
p7854
as(dp7855
g23
V571407
p7856
stp7857
a((dp7858
g2
(lp7859
VIt sounds more like a role to me
p7860
aVWhat if a therapist is also an admin
p7861
aVYou won't be able to model this with inheritance
p7862
as(dp7863
g23
V571407
p7864
stp7865
a((dp7866
g2
(lp7867
VNot sure I understood correctly, but if you want to get the rows where itemspecialid is not null, the query is
p7868
aVIt's a bad idea to store multiple information inside a single column
p7869
aVYou should have a separate table to store the itemIDs of your items
p7870
as(dp7871
g23
V571407
p7872
stp7873
a((dp7874
g2
(lp7875
VYes, Java has its own binary serialization format
p7876
aVAnd I don't think it has a name other than Java serialization [format | protocol]
p7877
as(dp7878
g23
V571407
p7879
stp7880
a((dp7881
g2
(lp7882
VNever put any class in the default package
p7883
aVThe default package is not accessible to classes in a package, and since the JSP is transformed in a servlet class by Tomcat, and this class is in a package, it can't access your Model class
p7884
aVOnce it's in a well-defined package, you'll have to import it, as mschonaker shows in his answer:
p7885
as(dp7886
g23
V571407
p7887
stp7888
a((dp7889
g2
(lp7890
VSimply loop over all the lines in the file, and if one is blank, ignore it
p7891
aVTo test if it's blank, just compare it to the empty String:
p7892
aVThis won't work with lines with spacing characters (space, tabs), though
p7893
aVSo you might want to do
p7894
as(dp7895
g23
V571407
p7896
stp7897
a((dp7898
g2
(lp7899
VDouble quotes must not be escaped in EL
p7900
aVUse single quotes if the tag attribute is in double quotes, and vice-versa:
p7901
aVor
p7902
as(dp7903
g23
V571407
p7904
stp7905
a((dp7906
g2
(lp7907
VThe main disadvantage IMO is the impossibility, using most of the mocking frameworks, to mock the implementation of such utility methods in order to unit-test some class using these utility methods
p7908
aVFor example, Using  is easy to get the current time
p7909
aVBut when you have to test a class which uses the current time to do some work, it's impossible to mock the method to make it return a specific point in time
p7910
aVUsing an object implementing a  interface and injected into the object to test make it much easier: you can create a mock Clock implementation returning a specific date when asked to get the current time
p7911
as(dp7912
g23
V571407
p7913
stp7914
a((dp7915
g2
(lp7916
VI'm guessing you're using a connection pool to get connections to MySQL
p7917
aVThe principle of a connection pool is that it opens a bunch of connections, and gives you one of them when you ask for
p7918
aVWhen you close the connection, the physical connection is not closed, but the connection returns to the pool in order to be used by another request
p7919
aVThis allows much better performance because you avoid opening and closing connections endlessly: opening a connection is costly
p7920
aVThe problem is that is one of the connection stays in the pool without being used for too much time, MySQL considers that it's not useful to let it open anymore, and closes it
p7921
aVTo avoid this, you can
p7922
aVconfigure your connection pool to test the connection before giving it to you
p7923
aVor increase the wait_timeout on the MySQL server as indicated in the error message
p7924
aVor use the connection property autoReconnect=true as indicated in the error message
p7925
as(dp7926
g23
V571407
p7927
stp7928
a((dp7929
g2
(lp7930
VThe line
p7931
aVsays that the  element must be composed of a  element, followed by a  element, etc
p7932
aV, but there is no  element in there
p7933
aVSo you can't have a  element inside a  element
p7934
as(dp7935
g23
V571407
p7936
stp7937
a((dp7938
g2
(lp7939
VYou need to have the index of the object in the array to be able to remove it:
p7940
aVNote that an array has a fixed length
p7941
aVRemoving an element won't shrink the array
p7942
aVIf you want this, use a , iterate through the list using an , and use the iterator's  method to remove the current element
p7943
as(dp7944
g23
V571407
p7945
stp7946
a((dp7947
g2
(lp7948
VWindow - Preferences - Java - Code Style - Code Templates - Class Body - Edit
p7949
aVTyping "Templates" in the search box above the tree of the preferences window is a good way to find what you're looking for
p7950
as(dp7951
g23
V571407
p7952
stp7953
a((dp7954
g2
(lp7955
VYou should use an IN clause:
p7956
aVBut you should definitely not use string concatenation to set parameters dynamically in your query
p7957
aVThis is the best way to suffer from SQL injection attacks
p7958
aVUse prepared statements, with a  placeholder for each of your parameter:
p7959
aVLearn more about prepared statements in the JDBC tutorial
p7960
aVYou will indeed have to use some loop or utility to build the IN clause
p7961
aVfrom commons-lang is useful here:
p7962
as(dp7963
g23
V571407
p7964
stp7965
a((dp7966
g2
(lp7967
VThere is no multiple inheritance in Java, except for interfaces
p7968
aVType casting just consists in saying when using a variable of type A: "I know that this A instance is in fact a B instance
p7969
aVLet me use it as a B"
p7970
aVAnd the type cast only succeeds if the variable effectively point to an instance of B
p7971
aVSo multiple inheritance doesn't cause any problem
p7972
aVThere is no need to cast to access a member of a superclass, since an instance of a subclass always is an instance of a superclass
p7973
as(dp7974
g23
V571407
p7975
stp7976
a((dp7977
g2
(lp7978
VYes
p7979
aVJust use
p7980
as(dp7981
g23
V571407
p7982
stp7983
a((dp7984
g2
(lp7985
VChange the line
p7986
aVto
p7987
aVThe first line would work if your HTML had
p7988
aVBut apparently it has
p7989
as(dp7990
g23
V571407
p7991
stp7992
a((dp7993
g2
(lp7994
VWith the  attribute of the  annotation:
p7995
as(dp7996
g23
V571407
p7997
stp7998
a((dp7999
g2
(lp8000
VUse a sequence generator and make the sequence start at 1000
p8001
as(dp8002
g23
V571407
p8003
stp8004
a((dp8005
g2
(lp8006
VYou have a very uncommon many-to-many association here, and I doubt you can get the information you want with a mapping
p8007
aVYou should probably use a specific query to get what you want:
p8008
as(dp8009
g23
V571407
p8010
stp8011
a((dp8012
g2
(lp8013
VYou may avoid ajax by using one of those solutions:
p8014
aVLoad all the professors of all the lessons when displaying the form, and store them in some JavaScript structure
p8015
aVWhen the selection of lesson changes, get the associated professors from this JavaScript structure
p8016
aVThis might mean loading too much data at once, though
p8017
aVWhen the lessons selection changes, submit the form and redisplay it with the select box of professors populated
p8018
aVBoth of the solutions need JavaScript, and I really don't see what you gain by not using AJAX, though
p8019
aVYou might avoid JavaSCript completely with the second solution, but the user would have to click a submit button to load the second form
p8020
as(dp8021
g23
V571407
p8022
stp8023
a((dp8024
g2
(lp8025
VYou could store the object in a Map indexed by the value of the item, or in an array or List, at the index of the added item in the list box
p8026
as(dp8027
g23
V571407
p8028
stp8029
a((dp8030
g2
(lp8031
VThe line
p8032
aVmakes a file named , because  inside a String literal is used to represent a double quote caracter, not a backslash
p8033
aVmust be used to represent a backslash
p8034
aVUse the File constructor taking a File (directory) as the first argument, and a file name as a second argument:
p8035
as(dp8036
g23
V571407
p8037
stp8038
a((dp8039
g2
(lp8040
VNo it won't
p8041
aVYou should always explicitely close your statements, and do it in finally blocks
p8042
aVOr use Spring's JdbcTemplate which handles this for you
p8043
as(dp8044
g23
V571407
p8045
stp8046
a((dp8047
g2
(lp8048
VYou have only put the  entity in your persistence
p8049
aVxml, but this entity has an association to another entity (), which is not listed
p8050
aVAll the entities must be listed
p8051
as(dp8052
g23
V571407
p8053
stp8054
a((dp8055
g2
(lp8056
VHow about using a map containing, for each received event A, an object (let's call it ) containing the time at which  was received, and a potential  ( initially)
p8057
aVWhen you receive an event , you create a  instance with the current time and a null , you store it in the map, and you start a thread that sleeps for 3 seconds, then checks if the  associated with  contains a , removes the entry from the map, and acts accordingly (i
p8058
ag468
aVcall  with the appropriate arguments)
p8059
aVWhen you receive a , you check if there is a  in the map and if it has been received for less than 3 seconds (although that shouldn't happen), and store the  in the
p8060
aVYou must of course synchronize when needed
p8061
as(dp8062
g23
V571407
p8063
stp8064
a((dp8065
g2
(lp8066
VRead the complete JSON string from the database, then parse it using a JSON parser, and extract the information you're interested into from the data structure/object returned from the parsing
p8067
aVThere are lots of JSON parsers available
p8068
aVLook at this page, which lists a number of them in the Java section (you have to scroll a little bit down)
p8069
as(dp8070
g23
V571407
p8071
stp8072
a((dp8073
g2
(lp8074
VYou'll have to extract the URL of the main frame () and make a second request to this URL
p8075
aVIf cookies are used to track sessions, you'll also have to send the cookies contained in the response to your login request
p8076
aVI would use a higher-level API to do this (like Apache HttpClient), or even a programmatic browser like HtmlUnit
p8077
as(dp8078
g23
V571407
p8079
stp8080
a((dp8081
g2
(lp8082
VTo be able to check the password, you need to store the salt somewhere
p8083
aVIn your case, the random string is stored, and the user specific strings are also stored
p8084
aVSo if someone is able to access the stored random string and the user specific strings, and knows which algorithm you use to generate the salt from these parts, he will be able to try a whole lot of insecure and easily guessable passwords ("password", "qwerty", "123456", etc
p8085
aVand see if they match with the stored hash
p8086
aVHaving a secure password is thus still necessary
p8087
aVThe salt is useful because if the password wasn't salted before being hashed, a cracker would just have to compare the hash with a dictionary of hashes of insecured passwords to be able to find the password
p8088
as(dp8089
g23
V571407
p8090
stp8091
a((dp8092
g2
(lp8093
VI'll assume you're using a tree with a , using instances of
p8094
aVYou'll have to iterate through the tree nodes and find the one which has the  as user object, then change its user object to , and call the method  of the tree model
p8095
as(dp8096
g23
V571407
p8097
stp8098
a((dp8099
g2
(lp8100
VCreate a  and register it in your web
p8101
aVxml file
p8102
aVIn the , when the application is initialized, read the file and store it in an attribute of the
p8103
aVThis attribute is then easily accessible from your Java and JSP code
p8104
as(dp8105
g23
V571407
p8106
stp8107
a((dp8108
g2
(lp8109
VYou aren't reading the error message correctly
p8110
aVIt says that the deletion is forbidden because of the foreign key constraint between  and
p8111
aVThe cascade delete would work if you used  to delete your
p8112
aVUsing a delete query like you're doing won't automagically delete the s before deleting the location
p8113
aVEither load them and remove them using , or execute other delete queries before to delete the s
p8114
as(dp8115
g23
V571407
p8116
stp8117
a((dp8118
g2
(lp8119
VFrom the documentation:
p8120
aVValid numbers include hexadecimal marked with the
p8121
aVqualifier, scientific notation and numbers marked with a type
p8122
aVqualifier (e
p8123
ag383
aV123L)
p8124
aVmeans the float number 1
p8125
as(dp8126
g23
V571407
p8127
stp8128
a((dp8129
g2
(lp8130
VEclipse should do it automatically
p8131
aVThe problem is that Hibernate, by default, loads its config file from the default package, and not from the  package
p8132
aVNotice that it doesn't load it by opening a file, from the current directory
p8133
aVIt loads it as a resource from the classpath
p8134
aVEven if the config file ends up in a jar file, Hibernate will be able to load it, provided it is at the expected location in the package tree (i
p8135
ag468
aVat the root of the tree)
p8136
as(dp8137
g23
V571407
p8138
stp8139
a((dp8140
g2
(lp8141
VThe ID selector will be quicker than getting all the anchors of a div by ID and getting an anchor by ID among the anchors
p8142
aVUse the ID selector, and only optimize when you've measured that something had a performance problem
p8143
as(dp8144
g23
V571407
p8145
stp8146
a((dp8147
g2
(lp8148
VYou're confusing the directory that you're using to store the source files of your project and the directory where the application is deployed on the server
p8149
aVFirst define how and where you will deploy the application (if it's as a war file, you won't even have a root directory), and then design your application accordingly
p8150
aVIf you want to stay portable, you should define a configuration parameter (in your web
p8151
aVxml) defining where external files are stored, and have a servlet reading files from this directory and writing their contents in the response output stream
p8152
aVBut you could also configure your server to serve static files from a specific directory and write the XML file to this directory
p8153
aVRead the documentation of your server to know if and how it's possible to do that
p8154
as(dp8155
g23
V571407
p8156
stp8157
a((dp8158
g2
(lp8159
VYou shouldn't override the  method, and certainly not add a component in this method
p8160
aVJust remove the radio buttons from the applet (using its  method) and add the label in the applet in your  method, the same way you add them in the  method
p8161
aVYou might have to call  after
p8162
as(dp8163
g23
V571407
p8164
stp8165
a((dp8166
g2
(lp8167
VThe best practice IMHO is to avoid doing it
p8168
aVWrap every access to the model from another thread inside a Runnable and use  to update the model
p8169
as(dp8170
g23
V571407
p8171
stp8172
a((dp8173
g2
(lp8174
VWhen you sleep inside the event dispatch thread (EDT), the GUI is frozen
p8175
aVEvery long running task should be done outside of the EDT, and all swing manipulations should be done in the EDT
p8176
aVYou should use a  to sleep in another thread, and publish some progress every 500ms
p8177
aVOr you could use a  which would fire an event every 500ms
p8178
as(dp8179
g23
V571407
p8180
stp8181
a((dp8182
g2
(lp8183
VPHP is executed by a PHP interpreter and output HTML
p8184
aVJSP is compiled and executed by a Java VM, and output HTML
p8185
aVYou can't execute PHP inside JSP code (and vice-versa)
p8186
aVIt's like if you put Chinese words inside an English speech
p8187
aVNobody can understand
p8188
as(dp8189
g23
V571407
p8190
stp8191
a((dp8192
g2
(lp8193
VUse a dedicated spring context XML file where you override  with an instance of
p8194
aVOf course, it uses XML, but I don't see any other solution (other than repackaging the application with your  annotated class instead of the  one)
p8195
as(dp8196
g23
V571407
p8197
stp8198
a((dp8199
g2
(lp8200
VCreate a temporary directory and write some files into the directory
p8201
aVThen call the method with the temp directory as argument and a given zip file name
p8202
aVTest that the zip file exists
p8203
aVThen test that you can open it with ZipFile and find the expected zip entries in the zip file
p8204
aVThe method doesn't specify its contract very well
p8205
aVFor example, it doesn't say what it does if the directory doesn't exist, or if it's impossible to write the zip file, so it's hard to test these aspects
p8206
aVBut normally, it's the developer of a method which writes the unit test for it, because he knows what the corner-cases are
p8207
as(dp8208
g23
V571407
p8209
stp8210
a((dp8211
g2
(lp8212
VNo, that's it
p8213
aVBut usually
p8214
aVYour list of values will be dynamic as well, and you'll have to iterate through it to generate your HTML options anyway
p8215
aVYou'll use some web framework which will provide JSP tags and/or UI components handling this for you
p8216
aVYour code will then look like this:
p8217
as(dp8218
g23
V571407
p8219
stp8220
a((dp8221
g2
(lp8222
VWhen a query returns projections rather than entities, the returned list is a
p8223
aVEach  contains the columns returned by the query:
p8224
aVThis is described in the documentation
p8225
as(dp8226
g23
V571407
p8227
stp8228
a((dp8229
g2
(lp8230
VIt's because you're creating a query, but you don't execute it:
p8231
aVYou should really use bound named parameters rather than string concatenation to pass parameters in your query: it's usually more efficient, it' much more robust, but above all, it doesn't open the door to SQL injection attacks
p8232
as(dp8233
g23
V571407
p8234
stp8235
a((dp8236
g2
(lp8237
VIn a well-configured Spring application, both are equivalent except in one case: when there is no current transaction context
p8238
aVIn this case, getCurrentSession() won't work, whereas using a HibernateCallback will open a session and a Hibernate transaction for you and close them at the end
p8239
aVNote that the documentation of HibernateTemplate mentions that getCurrentSession() should be preferred:
p8240
aVNOTE: As of Hibernate 3
p8241
ag2332
aV1, transactional Hibernate access code can
p8242
aValso be coded in plain Hibernate style
p8243
aVHence, for newly started
p8244
aVprojects, consider adopting the standard Hibernate3 style of coding
p8245
aVdata access objects instead, based on
p8246
aVSessionFactory
p8247
aVgetCurrentSession()
p8248
aVIt also says:
p8249
aVNote that HibernateTemplate will perform its own Session management,
p8250
aVnot participating in a custom Hibernate CurrentSessionContext unless
p8251
aVyou explicitly switch "allowCreate" to "false"
p8252
aVMixing both ways of doing is thus not a good idea
p8253
aVMy preference is to avoid HibernateTemplate, use the Hibernate Session API directly, and use Spring-managed declarative transactions
p8254
as(dp8255
g23
V571407
p8256
stp8257
a((dp8258
g2
(lp8259
VI don't think it's possible
p8260
aVBut when you deploy your project, you'll certainly want to create a jar file to hold all your classes
p8261
aVAnd Eclipse has a wizard to export a jar file and choose to embed dependencies in the jar
p8262
aVThe usual way, however, is to have each project generate its own jar, and to use all the jar of the project + the jars of the dependencies as the classpath of the deployed project
p8263
as(dp8264
g23
V571407
p8265
stp8266
a((dp8267
g2
(lp8268
VBack when this method was added, in JDK1
p8269
ag2332
aV2, there was no autoboxing, and JVMs were much slower than now
p8270
aVI imagine that having this static method allowed converting both an int and an Integer to a binary string easily, and without having to create a new Integer instance just for the conversion of an int to binary
p8271
as(dp8272
g23
V571407
p8273
stp8274
a((dp8275
g2
(lp8276
VThis sounds like an impossible task to me
p8277
aVFor example, even your current criteria are incorrect, IMHO
p8278
aVA factory method returns an instance of some class, but
p8279
aVit does not necessary create the instance (it might use a cache, as  does, for example),
p8280
aVit might create an instance using something other than the  operator
p8281
aVit might delegate to another method or another class to create the instance
p8282
aVYou could search for commonly used names like "createXxx", "newXxx" or "valueOf", but this would of course return potential factory methods, and would miss many
p8283
aVThe factory pattern is just a pattern
p8284
aVIt's not something so rigid that you can identify it automatically, IMHO
p8285
as(dp8286
g23
V571407
p8287
stp8288
a((dp8289
g2
(lp8290
VMy general rules are:
p8291
aVin the entity classes, respect the law of Demeter: don't talk to strangers
p8292
aVthe entity classes must not use the session
p8293
aVthe controller/service classes must not use the session
p8294
aVThey may navigate in the graph of entities and call DAO methods
p8295
aVDAO methods should be the ones using the session
p8296
aVTheir work consists in getting, saving, merging entities and executing queries
p8297
aVIf several queries or persistence-related actions should be executed for a single use-case, the controller/service should coordinate them, not the DAO
p8298
aVThis way, I can test the business logic relatively easily by mocking the DAOs, and I can test the DAOs relatively easily because they don't contain much logic
p8299
aVMost of the tests verify that the queries find what they're supposed to find, return them in the appropriate order, and initialize the associations that must be initialized (to avoid lazy loading exceptions in the presentation layer, where I'm using detached objects)
p8300
as(dp8301
g23
V571407
p8302
stp8303
a((dp8304
g2
(lp8305
VDefine a classpath for the  task
p8306
aVRelying on the CLASSPATH environment variable is a bad practice
p8307
aVIt's even more true for the build process of a project, which should work without having to setup a whole lot of environment variables
p8308
aVIf you start developing three or four projects at once, you'll understand why using a single CLASSPATH env variable is a bad idea
p8309
aVSee http://ant
p8310
aVapache
p8311
aVorg/manual/Tasks/javac
p8312
aVhtml to know how to define a classpath inside the build
p8313
aVxml and use it in the  task
p8314
as(dp8315
g23
V571407
p8316
stp8317
a((dp8318
g2
(lp8319
VYes, that's feasible
p8320
aVIn fact, that's what P2P programs do to identify a file
p8321
aVUse any cryptographic hash algorithm (MD5, SHA-1, etc
p8322
aVJava has support for hashes using the MessageDigest class
p8323
aVNote however than this will allow you to avoid storing duplicate files, but it won't prevent users from uploading the file: it's only at server side that you'll be able to access the file contents and hash it, unless you use an applet or webstart app with the privilege to access local files
p8324
as(dp8325
g23
V571407
p8326
stp8327
a((dp8328
g2
(lp8329
VPROPAGATION_NESTED can only be used with a  and a JDBC3 driver
p8330
aVIt uses save points in order to be able to rollback some part of a transaction (i
p8331
ag468
aVwhat constitutes the nested transaction in Spring terms)
p8332
aVSee the javadoc of Connection to see how save points work
p8333
aVREQUIRED is completely different
p8334
aVIt just means: if there is a transaction already existing, do the work in this transaction; else, start a new transaction, do the work, and commit the transaction
p8335
as(dp8336
g23
V571407
p8337
stp8338
a((dp8339
g2
(lp8340
VYou might not use them to get the photos, but you will certainly use them in queries
p8341
aVFor example:
p8342
aVto be able to navigate from a user to his friends, you need the  collection annotated with the  annotation
p8343
aVYou might make this collection private, and avoid having any accessor to this collection if you want to
p8344
aVNote that a user, in your example, has probably too many photos and friends to make the collection useful, but it's far from being always the case
p8345
aVI have lots of toMany associations in the application I'm currently working on which have from 0 to 100 elements
p8346
aVAnd 0 to 10 is pretty frequent
p8347
aVAlso, don't forget that next to your "usual" use-cases, consisting in listing some photos of a user, you will certainly have "unusual" use cases, where you'll have to apply changes in batch to all the photos of a user, or things like that
p8348
as(dp8349
g23
V571407
p8350
stp8351
a((dp8352
g2
(lp8353
VYou'll just have to create and populate the map by yourself:
p8354
as(dp8355
g23
V571407
p8356
stp8357
a((dp8358
g2
(lp8359
VA HQL or Criteria query is based on entities and relationships between entities, and you didn't show us you entities, so we can only speculate
p8360
aVIf  is mapped to  and  is mapped to , with a many-to-one association between TableB and TableA, then the query is obvious:
p8361
aVBut note that the left join is completely useless here, since it doesn't add any restriction to the query, and the query doesn't select anything from
p8362
aVYour initial SQL query should very well be written as
p8363
aVAnd the criteria query would thus just be
p8364
as(dp8365
g23
V571407
p8366
stp8367
a((dp8368
g2
(lp8369
VYes, and yes
p8370
aV(Note that it's , not )
p8371
as(dp8372
g23
V571407
p8373
stp8374
a((dp8375
g2
(lp8376
VIt doesn't work because, as the URL indicates, it points to a location inside a JAR file, which is not an existing location of the file system:  is not an existing directory
p8377
aVYou should never rely on a resource loaded from the classloader pointing to a location in the file system, because most of the time, resources are embedded inside jar files
p8378
as(dp8379
g23
V571407
p8380
stp8381
a((dp8382
g2
(lp8383
VSee http://docs
p8384
aVjboss
p8385
aVorg/hibernate/annotations/3
p8386
aV5/reference/en/html_single/#entity-mapping-entity
p8387
aVDepending on where you put the  annotation (on a field or on a getter), all fields or getters not marked with  will automatically be made persistent, with a default column name
p8388
as(dp8389
g23
V571407
p8390
stp8391
a((dp8392
g2
(lp8393
VThere is something really wrong with the second approach: if the called method signature is modified and throws a new kind of exception, the code will still compile fine, whereas you have not handled this new exception correctly
p8394
aVUsing the first approach, the compiler will produce an error, which will force you to handle the new exception
p8395
as(dp8396
g23
V571407
p8397
stp8398
a((dp8399
g2
(lp8400
VThis is because even is  extends ,  does not extend
p8401
aVIf it did, you could do the following:
p8402
as(dp8403
g23
V571407
p8404
stp8405
a((dp8406
g2
(lp8407
VYou can't, because floating-point math can't produce exact results given that there are only 2^64 double values to represent an inifinity of numbers
p8408
as(dp8409
g23
V571407
p8410
stp8411
a((dp8412
g2
(lp8413
VThe common way is to make the private method protected or package-private and to put the unit test for this method in the same package as the class under test
p8414
aVGuava has a  annotation, but it's only for documentation purpose
p8415
as(dp8416
g23
V571407
p8417
stp8418
a((dp8419
g2
(lp8420
VBecause  evaluates to the String "Male", not to
p8421
aVYou would need to have access to the  constant to access its map entry
p8422
aVBut accessing constants is not possible in JSP EL, so you might want to do :
p8423
as(dp8424
g23
V571407
p8425
stp8426
a((dp8427
g2
(lp8428
VFirst of all, Java is not a scripting language and has no notion of a script
p8429
aVYou should not use the term script, but the terms "class", "method", "program"
p8430
aVTo answer your question, if a method catches an exception, then the exception is caught, and you can't do anything about it
p8431
aVYou might throw another exception type which would not be caught by the superclass method, though
p8432
as(dp8433
g23
V571407
p8434
stp8435
a((dp8436
g2
(lp8437
VYou should use the version of the parse method taking a  as argument
p8438
aVOnce the parsing is done, the index of the position is updated to the index after the last character used
p8439
aVYou can thus check that this index is equal to the length of the string
p8440
aVIf it's not, then it means that the whole string has not been used to produce the returned number
p8441
as(dp8442
g23
V571407
p8443
stp8444
a((dp8445
g2
(lp8446
V returns the names of the parameters
p8447
aVNot their values
p8448
aVUse  to get the value of a parameter
p8449
aVThe javadoc is your friend
p8450
as(dp8451
g23
V571407
p8452
stp8453
a((dp8454
g2
(lp8455
VI suspect that the  method call internally overwrites the header with its own value
p8456
aVThe javadoc says :
p8457
aVIf the header had already been set, the new value overwrites the
p8458
aVprevious one
p8459
aVThe containsHeader method can be used to test for the
p8460
aVpresence of a header before setting its value
p8461
as(dp8462
g23
V571407
p8463
stp8464
a((dp8465
g2
(lp8466
VNothing happens because the observable hasn't changed
p8467
aVFrom the javadoc:
p8468
aVIf this object has changed, as indicated by the hasChanged method,
p8469
aVthen notify all of its observers and then call the clearChanged method
p8470
aVto indicate that this object has no longer changed
p8471
aVYou should thus call  before notifying the observers
p8472
as(dp8473
g23
V571407
p8474
stp8475
a((dp8476
g2
(lp8477
VFirst of all, your question isn't very clear because the UML diagram contradicts your text
p8478
aVYou say that View extends ViewGroup, but the diagram shows the reverse : ViewGroup extends View
p8479
aVNow, a  doesn't extend a
p8480
aVIf it were the case, you could do:
p8481
as(dp8482
g23
V571407
p8483
stp8484
a((dp8485
g2
(lp8486
V is used to define a property, but not to execute some actions based on the value of a property
p8487
aVUse a target with  or  attribute to execute some tasks based on the value of the property
p8488
as(dp8489
g23
V571407
p8490
stp8491
a((dp8492
g2
(lp8493
VI suspect the programmer just found it more readable
p8494
aVI don't agree with him in this particular case, but often use parentheses to make it clearer
p8495
aVFor example, I find
p8496
aVclearer than
p8497
as(dp8498
g23
V571407
p8499
stp8500
a((dp8501
g2
(lp8502
VCreating an input stream using a relative path will try to open a file in the current directory of the running program
p8503
aVIn your case, the current directory is the directory of execution of your servlet container (Tomcat, Jetty, etc
p8504
aVWhat you want to do is to open a properties file which is located along with your classes, in the war file
p8505
aVThis properties file should thus be laoded by the class loader, and using  is the appropriate way
p8506
aVLook at the linked javadoc to understand which kind of path to supply as argument
p8507
as(dp8508
g23
V571407
p8509
stp8510
a((dp8511
g2
(lp8512
VThe copy task does exactly that
p8513
as(dp8514
g23
V571407
p8515
stp8516
a((dp8517
g2
(lp8518
VYou're not doing anything wrong
p8519
aVJust make sure that the method opening a stream/reader also closes it, in a finally block
p8520
as(dp8521
g23
V571407
p8522
stp8523
a((dp8524
g2
(lp8525
VHow about this
p8526
aVThe  method is inherited, and will always call the  method
p8527
aVSince  is protected, it's called polymorphically
p8528
aVSo, if invoked on a  instance,  will be called
p8529
as(dp8530
g23
V571407
p8531
stp8532
a((dp8533
g2
(lp8534
VAn applet is just a jar or a series of jars that must be downloaded by the browser
p8535
aVPut the jar(s) in your web archive just as you would put a HTML, CSS, image or JS file, and include the markup for the applet in the appropriate page
p8536
aVSee http://download
p8537
aVoracle
p8538
aVcom/javase/6/docs/technotes/guides/plugin/developer_guide/using_tags
p8539
aVhtml for details
p8540
as(dp8541
g23
V571407
p8542
stp8543
a((dp8544
g2
(lp8545
VYou need to specify that the applet needs the  using the  attribute of the  HTML tag
p8546
aVSee http://www
p8547
aVw3
p8548
aVorg/TR/1999/REC-html401-19991224/struct/objects
p8549
aVhtml#edef-APPLET and http://mindprod
p8550
aVcom/jgloss/applet
p8551
aVhtml#APPLETTAGS for details
p8552
as(dp8553
g23
V571407
p8554
stp8555
a((dp8556
g2
(lp8557
VSubversion doesn't merge when you commit
p8558
aVIt merges when you update
p8559
aVIf the other developer has made changes to the same file as you have, when you'll try to commit, Subversion will refuse and tell you to update first
p8560
aVYou will then update, and subversion will try to merge the other dev's changes into your working copy
p8561
aVIf there is a conflict, it will tell you
p8562
aVElse, your working copy will simply contain both sets of changes
p8563
aVYou will then commit the file, and both sets of changes will thus be stored in the repo
p8564
as(dp8565
g23
V571407
p8566
stp8567
a((dp8568
g2
(lp8569
VThe answer is in the question : delete the file when you delete the item
p8570
aVis the method you're probably searching for
p8571
aVYou'll also have to rename the other files if the item is not the last one in the list, though
p8572
aVAnother, easier way would be to use a simple counter to name your files, and associate each item in the list with the file name with the help of a
p8573
as(dp8574
g23
V571407
p8575
stp8576
a((dp8577
g2
(lp8578
VThe problem is that everything is done on the UI thread, and the long database access blocks the UI thread and prevents the "Loading
p8579
aVtext to be displayed
p8580
aVYou should perform the database operation outside of the UI thread
p8581
aVRead http://developer
p8582
aVandroid
p8583
aVcom/resources/articles/painless-threading
p8584
aVhtml
p8585
as(dp8586
g23
V571407
p8587
stp8588
a((dp8589
g2
(lp8590
VYes
p8591
aVIt's called a logging framework
p8592
aVJava has
p8593
aVBut many prefer using Log4J
p8594
as(dp8595
g23
V571407
p8596
stp8597
a((dp8598
g2
(lp8599
Vrelocate is used to make a working copy point to another URL, which also holds the repo of this working copy (i
p8600
ag468
aVwhen the SVN server changes and you don't want to remove the working copy and check it out again)
p8601
aVYou seem to want to reimport new files into an empty repo
p8602
aVExcept your new files are still "marked" as being part of a working copy
p8603
aVFirst checkout the empty trunk dir
p8604
aVThis will create an empty working copy
p8605
aVThe copy the old working copy to the new one, but remove all the
p8606
aVsvn directories
p8607
aVThis can be done using the export command
p8608
aVThe add all the files and commit to import them into the repo
p8609
as(dp8610
g23
V571407
p8611
stp8612
a((dp8613
g2
(lp8614
VIf you use another entity maneger to find your master, its configs collection will probably be populated
p8615
aVBut here, the entity manager returns the master from its cache, and since you didn't put the config into the master's set of configs, it isn't there
p8616
aVWhen using a bidirectional relationship, you are responsible for the maintenance of both sides of the relationship
p8617
aVThe ORM only uses the owning side (the one without the  attribute) to decide if the relationship exists or not, but the coherence of the object graph is your responsibility
p8618
as(dp8619
g23
V571407
p8620
stp8621
a((dp8622
g2
(lp8623
VHere is a HQL query returning all the names of the nodes with type B, along with their parent node's name
p8624
aVThe concatenation should not be done by the query
p8625
aVYou should do this in your presentation logic
p8626
aVThis query returns a list of
p8627
aVEach  contains the node nalme as its first element, and the parent node's name as its second element
p8628
as(dp8629
g23
V571407
p8630
stp8631
a((dp8632
g2
(lp8633
VYou need to use the "one table per class hierarchy" inheritance mapping, described here
p8634
aVThe explicit mapping of the discriminator column is possible, but not mandatory
p8635
as(dp8636
g23
V571407
p8637
stp8638
a((dp8639
g2
(lp8640
VNo
p8641
aVThe hook is executed at server (repo) side, and not on the user's machine
p8642
as(dp8643
g23
V571407
p8644
stp8645
a((dp8646
g2
(lp8647
VI see three ways of doing it
p8648
aVjust put your properties file in the classpath, but before the properties file that you want to override
p8649
aVPutting it in WEB-INF/classes should work
p8650
aVChange the jar file and remove the properties file from it
p8651
aVCreate a class having the same basename as the properties file, and delegate to your properties file in the class to implement the bundle
p8652
aVSee The ResourceBundle api doc to understand how resource bundles are loaded
p8653
aVThe class file will be loaded before the properties file for a given bundle base name and locale
p8654
aVNote that if all you want to do is to customize displaytag, you just have to put your displaytag
p8655
aVproperties at the root of the classpath (i
p8656
ag468
aVin the default package) rather than in the  package, as documented here
p8657
aVDisplaytag will load your bundle rather than the default one if found
p8658
as(dp8659
g23
V571407
p8660
stp8661
a((dp8662
g2
(lp8663
VWhen you delete A, you should clear its set of Bs before
p8664
aVWhen you delete B, you should remove it from the set of Bs of every A
p8665
aVThis os of course easier if you make the relationship bidirectional
p8666
as(dp8667
g23
V571407
p8668
stp8669
a((dp8670
g2
(lp8671
VNever compare String instances with
p8672
aVUse
p8673
aVchecks if both variables hold the same reference, not if both strings contain the same characters
p8674
as(dp8675
g23
V571407
p8676
stp8677
a((dp8678
g2
(lp8679
VThe code is fine, except for the way you're embedding strings in your query
p8680
aVIf address contains a quote character, the query will become invalid
p8681
aVAnd this is only a small part of the problem
p8682
aVDoing it like this opens the door to SQL injection attacks, where malicious users could enter an address which completely changes the meaning of the query
p8683
aVAlways use prepared statements to bind parameters:
p8684
aVAlso, you should use finally blocks to close your result sets and statements
p8685
as(dp8686
g23
V571407
p8687
stp8688
a((dp8689
g2
(lp8690
VYou don't need to create a new String instance
p8691
aVStrings are immutable, and it's perfectly OK to share and reuse them
p8692
as(dp8693
g23
V571407
p8694
stp8695
a((dp8696
g2
(lp8697
VRight from the javadoc of ParameterizedRowMapper:
p8698
aVExtension of the RowMapper interface, adding type parameterization
p8699
aVAs
p8700
aVof Spring 3
p8701
aV0, this is equivalent to using the RowMapper interface
p8702
aVdirectly
p8703
as(dp8704
g23
V571407
p8705
stp8706
a((dp8707
g2
(lp8708
VYes, you're missing something
p8709
aVFirst: hashCode returns an int, and can thus only return 2^32 different values
p8710
aVequals is thus needed to be able to differentiate between values which have identical hash codes
p8711
aVSecond: the hash table uses the hashCode modulo the number of buckets it maintains
p8712
aVSo, even if two keys have different hashCodes, they might fall in the same bucket, and equals will be necessary to differentiate them
p8713
as(dp8714
g23
V571407
p8715
stp8716
a((dp8717
g2
(lp8718
VIf there is a good chance that the list will contain as much elements as it contains when clearing it, and if you're not in need for free memory, clearing the list is a better option
p8719
aVBut my guess is that it probably doesn't matter
p8720
aVDon't try to optimize until you have detected a performance problem, and identified where it comes from
p8721
as(dp8722
g23
V571407
p8723
stp8724
a((dp8725
g2
(lp8726
VThe background processing must be done in a separate thread
p8727
aVBut the label update must be done in the event dispatch thread
p8728
aVSo your code should look like this:
p8729
aVBut you might want to use the  class, which is designed to do that in a simpler way
p8730
aVIts documentation is very well done and contains examples
p8731
as(dp8732
g23
V571407
p8733
stp8734
a((dp8735
g2
(lp8736
VUse a Calendar :
p8737
aVThe hour of day goes from 0 to 23
p8738
as(dp8739
g23
V571407
p8740
stp8741
a((dp8742
g2
(lp8743
VIf you call , the second constructor will be called, and the first thing it will do is call the super constructor
p8744
aVSo the line  in the first constructor is unnecessary
p8745
as(dp8746
g23
V571407
p8747
stp8748
a((dp8749
g2
(lp8750
VYou can't
p8751
aVThe JSP EL is used to access JavaBean properties
p8752
aVThis means that  looks for a getter  in the attribute
p8753
aVYou will have to transform your entities into JavaBeans, or use custom tags to access Entity properties
p8754
aVAlso, not that you should use  or  to display properties which potentially contain HTML special chars, and/or are submitted by end users
p8755
aVNot doing so exposes your app to XSS attacks, and will potentially generate broken HTML
p8756
as(dp8757
g23
V571407
p8758
stp8759
a((dp8760
g2
(lp8761
VYou need to provide a context
p8762
aVxml file with your webapp, containing a  element with an empty attribute
p8763
aVThis is explained in the tomcat configuration reference
p8764
aVThis context
p8765
aVxml file should be located under  in your web application (not )
p8766
as(dp8767
g23
V571407
p8768
stp8769
a((dp8770
g2
(lp8771
VYou may have several values for the same parameter name:
p8772
aVIn this case,  will return a  containing 3 elements : ,  and
p8773
aVIn the example you gave, you defined 3 different parameters : ,  and
p8774
aVThe servlet API will consider them as 3 totally different parameters having nothing in common
p8775
aVYou thus have to call  to get ,  to get , etc
p8776
as(dp8777
g23
V571407
p8778
stp8779
a((dp8780
g2
(lp8781
VUse the set method of Calendar:
p8782
aVetc
p8783
aVAnd then extract the number of milliseconds with
p8784
as(dp8785
g23
V571407
p8786
stp8787
a((dp8788
g2
(lp8789
VIt's not really surprising:
p8790
aVyou use the JList item value as a key to get the icon from the icon map;
p8791
aVthe icon map contains a single key: "Name"
p8792
aVthe JList contains "Smith", "John", "Bob" and "Kim", but no "Name"
p8793
as(dp8794
g23
V571407
p8795
stp8796
a((dp8797
g2
(lp8798
s(dp8799
g23
V571407
p8800
stp8801
a((dp8802
g2
(lp8803
VA JavaBean class is a class which respects a number of conventions
p8804
aVBut depending on the usage of the class, some conventions are or aren't important
p8805
aVIn the strict sense, a JavaBean class
p8806
aVmust have a public no-arg constructor allowing to instantiate it
p8807
aVmust have properties available through getters and setters
p8808
aVmust be serializable
p8809
aVSo, in the strict sense, a JavaBean class may not be abstract
p8810
aVBut an abstract class can be the superclass of a JavaBean class
p8811
as(dp8812
g23
V571407
p8813
stp8814
a((dp8815
g2
(lp8816
VReflection is almost always a bad idea, and a sign of poor OO design
p8817
aVTo avoid your if clause (which, IMHO, and unless it is repeated too many times, is maintainable, readable, easy to understand, test and debug), you could store your two services instances in a map:
p8818
aVIf this is repeated in several classes, put this map into a separate Spring bean called , and containing a method
p8819
as(dp8820
g23
V571407
p8821
stp8822
a((dp8823
g2
(lp8824
VJust make the canvas an instance variable, as (I guess) all the other components created by the Netbeans designer:
p8825
as(dp8826
g23
V571407
p8827
stp8828
a((dp8829
g2
(lp8830
VYou got it wrong
p8831
aVjust returns a boolean value (two possible values), and needs another object to compare against
p8832
aVreturns an int (2^32 possible values), and only needs the object to be called
p8833
aVThe  tries to distribute all the objects it holds among buckets
p8834
aVWhen  is called on the map, it has to decide which bucket it will use for the given object
p8835
aVIt thus uses  (modulo the number of buckets) to decide which bucket to use
p8836
aVThen, once the bucket is found, it has to check whether the key is already in the map or not
p8837
aVTo do this, it compares every object in the bucket with the object to put in the map
p8838
aVAnd to do this, it uses
p8839
aVIf the object isn't found, it adds it in the bucket
p8840
aVisn't used because it's faster than
p8841
aVIt's used because it allows distributing keys among a set of buckets
p8842
aVAnd it's much faster to compute the hashCode once and compare the object with (hopefully) 0, one or two objects in the same bucket that to compare the object with the thousands of objects already stored in the map
p8843
as(dp8844
g23
V571407
p8845
stp8846
a((dp8847
g2
(lp8848
Vwill give you the list of loaded pages, from the most popular to the least one
p8849
as(dp8850
g23
V571407
p8851
stp8852
a((dp8853
g2
(lp8854
VMy guess is that the client application doesn't send any line break at the end of the string it sends
p8855
aVSo  waits for an EOL character, and only returns the string when the client application ends, because at this point the connection is closed and the reader knows there won't ever be an EOL, and the string is the last line it will ever receive
p8856
as(dp8857
g23
V571407
p8858
stp8859
a((dp8860
g2
(lp8861
VDo you mean something like this
p8862
aVis a tag from the JSTL
p8863
as(dp8864
g23
V571407
p8865
stp8866
a((dp8867
g2
(lp8868
VBecause enums were introduced in Java 5, and those libraries have been written long before
p8869
aVRefactoring them would break a bazillion of existing applications
p8870
as(dp8871
g23
V571407
p8872
stp8873
a((dp8874
g2
(lp8875
VWhatever your problem is, you shouldn't use such a kind of array, because your code will be impossible to understand and unmaintainable
p8876
aVYou should create a  class, which would give access to a set or list of  instances, which should give you access to a set or list of  instances, etc
p8877
aVThis will lead to much more readable code, and allow you to encapsulate behavior in these classes
p8878
as(dp8879
g23
V571407
p8880
stp8881
a((dp8882
g2
(lp8883
VTo access this web page and log in, you're using a web browser and not a sequance of telnet commands, because it's much easier, right
p8884
aVThen, as a programmer, do the same and use a programmatic web browser rather than a sequence of low-level actions using cookies and URL connections
p8885
aVIt will also be much easier
p8886
aVHtmlUnit is such a programmatic web browser
p8887
aVThe end of its Getting started page shows an example of loading a web page and submitting a form
p8888
aVHtmlUnit will handle the submission, cookie handling, encoding, etc
p8889
aVfor you
p8890
as(dp8891
g23
V571407
p8892
stp8893
a((dp8894
g2
(lp8895
V is used to get the hashCode of an object, in order to know in which bucket of a  this object must be placed
p8896
aVIt thus has to be an instance method of the object, and it must be called polymorphically
p8897
aVcan be used as a key in a HashMap, but it's treated as a special case
p8898
aVYou seem to be using hashCode for a different purpose, so you have to handle is in a specific way
p8899
as(dp8900
g23
V571407
p8901
stp8902
a((dp8903
g2
(lp8904
VYou can't chain associations like you would do in HQL
p8905
aVInstead, you need to define a sub-criteria or an alias:
p8906
aVor
p8907
aVThis is documented in Criteria's javadoc and in the Hibernate reference documentation
p8908
as(dp8909
g23
V571407
p8910
stp8911
a((dp8912
g2
(lp8913
VAll you can do is create a unique fake identity for the user
p8914
aVNo
p8915
aVMultiple users may have the same IP address, and a single user may change its IP address
p8916
aVYes
p8917
aVPHP will create a session for you as soon as you ask to start a session
p8918
aVYou must associate an identity with this session
p8919
aVJust use a random number, or a UUID generator, or something like that to generate something unique and not easily guessable
p8920
aVThen store the identity in a cookie so that when the user comes back some time later, you can re-associate his identity with the new session
p8921
aVI would just store the identity in the cookie
p8922
aVA cookie only holds a small amount of information, and may be modified by the user without you knowing it
p8923
aVIf the users don't log in, I don't see any other way
p8924
as(dp8925
g23
V571407
p8926
stp8927
a((dp8928
g2
(lp8929
VDon't ever change the primary key value of a persistent entity:
p8930
aV- it won't work
p8931
aV- even if it did, all the foreign key constraints to this primary key would break anyway
p8932
aVA primary key is supposed to be immutable
p8933
as(dp8934
g23
V571407
p8935
stp8936
a((dp8937
g2
(lp8938
VCipher is a generic class to apply an encryption/decryption algorithm
p8939
aVIts security depends on the actual encryption algorithm used (DES, triple-DES, AES, etc
p8940
aV, on the size of its key, and on the block chaining type that you choose
p8941
as(dp8942
g23
V571407
p8943
stp8944
a((dp8945
g2
(lp8946
VI don't think this is possible
p8947
aVBut I don't know what difference it would make
p8948
aVIf you want to do this for performance reasons:
p8949
aVHave you measured a significant difference between both approaches
p8950
aVDo you know that the sequence ID generator of Hibernate is in fact a hilo sequence ID generator, and that it only gets the next value every N inserts (N defaulting at 50, IIRC), making it certainly faster than you might think
p8951
as(dp8952
g23
V571407
p8953
stp8954
a((dp8955
g2
(lp8956
VIMHO, the DAO pattern, when using an ORM, is not really about the ability to switch the database engine
p8957
aVIt's about
p8958
aVseparating the responsibilities: business logic goes to the service layer, persistence goes to the DAO layer
p8959
aVbeing able to test the service layer by mocking the DAO layer
p8960
aVbeing able to test the persistence logic, because it's not buried inside the business logic
p8961
aVI usually prefer not to have a DAO per domain object, but rather a DAO per set of functional use-cases
p8962
aVIndeed, I've found that most of the queries, in a sufficiently complex application, are not linked to a specific domain object, but rather to a use-case or a set of use-cases
p8963
aVBut YMMV, and combining both approaches is sometimes useful
p8964
aVSo, to answer your specific questions:
p8965
aVnearly always
p8966
aVUsing a DAO using Hibernate or JPA is not the same as using a DAO using plain JDBC, most of the time
p8967
aVnever
p8968
aVUsually, the choice of the database is done long before the project starts, and never changes
p8969
aVI tend to only develop a DAO when I need it, and not because a domain object exists
p8970
aVBut having a "generic DAO" base class is sometimes handy
p8971
aVI think they're harder to test, are often not well-structured, and end up reimplementing the same queries/loadings over and over again because those are not isolated in a reusable DAO
p8972
as(dp8973
g23
V571407
p8974
stp8975
a((dp8976
g2
(lp8977
VThis is not really linked to generics
p8978
aVThe interface  has a method
p8979
aVSo, any class implementing this interface should have such a method
p8980
aVis not acceptable because it doesn't allow adding any kind of , but only
p8981
aVIt's the same as if you had
p8982
aVObviously,  doesn't override , because it only accepts s, and not s
p8983
as(dp8984
g23
V571407
p8985
stp8986
a((dp8987
g2
(lp8988
VIt's right there in the documentation:
p8989
aVdefaultexcludes   indicates whether default excludes should be used or
p8990
aVnot (yes | no); default excludes are used when omitted
p8991
aVwhich links to
p8992
aVThis is the default list; note that you can modify the list of default
p8993
aVexcludes by using the defaultexcludes task
p8994
aVwhich links to
p8995
aVAlters the default excludes for all subsequent processing in the
p8996
aVbuild, and prints out the current default excludes if desired
p8997
as(dp8998
g23
V571407
p8999
stp9000
a((dp9001
g2
(lp9002
VSpring is both Spring - the IOC container and Spring MVC - the web action framework
p9003
aVStruts is only a web action framework
p9004
aVSo if you prefer Struts over Spring MVC, but also want an IOC container, you will use Struts with Spring
p9005
aVAdditionally, Spring also provides declarative transaction management, a security framework, a set of JDBC helper classes, etc
p9006
aV, that you might want to use in a Struts/Hibernate application
p9007
as(dp9008
g23
V571407
p9009
stp9010
a((dp9011
g2
(lp9012
VUse HtmlUnit
p9013
aVIt's a programmatic web browser: with Java code, you tell it to go to the URL, find the form with a given ID or name (for example), fill in the text input field "A" with "foo", submit the form by clicking the "Log in" button, etc
p9014
aVIts Get Started page has useful examples
p9015
as(dp9016
g23
V571407
p9017
stp9018
a((dp9019
g2
(lp9020
V isn't useful (it's the default)
p9021
aVThe cache it refers to is the second-level cache
p9022
aVYou probably have loaded some entities in the session (i
p9023
ag468
aVthe first-level cache) before executing your update query
p9024
aVIn this case, the select query will perform against the database, but will return the already-loaded entities from the session
p9025
aVYou thus need to evict these entities from the session before executing the select query, or to completely clear the session
p9026
aVIf the entities are cached in the second-level cache, then you also have to evict them from the second-level cache
p9027
aVSee getCache
p9028
as(dp9029
g23
V571407
p9030
stp9031
a((dp9032
g2
(lp9033
VThe browser will only send a list of client IDs when the form is submitted
p9034
aVHow could Spring know how to convert each ID into a Client instance
p9035
aVYou either have to tell it how to do, or add a  property to your bean, and make the  tag use this property instead of  as its path
p9036
as(dp9037
g23
V571407
p9038
stp9039
a((dp9040
g2
(lp9041
VRegarding your first question: just use  and sort the resultaing array of  instances using  and a custom comparator comparing the  value of the files
p9042
aVThen iterate through the sorted array
p9043
aVRegarding the second question: Use  to extract the date part from the message, and use  with the appropriate pattern to change each string into a  object
p9044
aVThe interval is just the difference between the time in milliseconds (obtained via ) of the two dates
p9045
as(dp9046
g23
V571407
p9047
stp9048
a((dp9049
g2
(lp9050
VFirebug is what you're looking for (for Firefox)
p9051
as(dp9052
g23
V571407
p9053
stp9054
a((dp9055
g2
(lp9056
VWhen a query returning entity instance(s) is cacheable and you have a cache hit, the cache returns only the ID(s) of the entity(ies), and then the session is used to load the entity(ies)
p9057
aVThis means that the join fecth is not applied anymore when you have a cache hit
p9058
aVThis also means that all the entity instances returned by the query should also be in the second-level cache, else the performance might in fact be worse than without the query cache
p9059
aVYou should thus use  in the DAO to make sure it's initialized
p9060
as(dp9061
g23
V571407
p9062
stp9063
a((dp9064
g2
(lp9065
VUse SAX, and implement the  method so that if the element name is "URL128", you extract the three attributes ,  and , store them in a custom object, and add this object to a
p9066
aVIt will be both easy and fast
p9067
as(dp9068
g23
V571407
p9069
stp9070
a((dp9071
g2
(lp9072
Venums are classes in Java
p9073
aVThey have an implicit ordinal value, starting at 0
p9074
aVIf you want to store an additional field, then you do it like for any other class:
p9075
as(dp9076
g23
V571407
p9077
stp9078
a((dp9079
g2
(lp9080
VEither loop through your list and call  on each of the array of Strings, or transform  into
p9081
as(dp9082
g23
V571407
p9083
stp9084
a((dp9085
g2
(lp9086
VYour  can be converted to a  using
p9087
aVOnce you have this set, you can use  to find the minimum value
p9088
aVYour comparator will have to decide how two  instances compare
p9089
aVI could have given you an example, but you didn't say what min meant in your case
p9090
as(dp9091
g23
V571407
p9092
stp9093
a((dp9094
g2
(lp9095
VThis is typically used when displaying paginated results of a query
p9096
aVThe first page goes from 0 to 19, the second page from 20 to 39, etc
p9097
as(dp9098
g23
V571407
p9099
stp9100
a((dp9101
g2
(lp9102
VI'm pretty sure you can't map a single Java attribute to three different columns
p9103
aVYou will have to use this:
p9104
as(dp9105
g23
V571407
p9106
stp9107
a((dp9108
g2
(lp9109
VThe URL should be
p9110
aVReplace localhost by the IP address of the repo machine if you want to access it from another machine
p9111
aVIf you want another URL, then follow these instructions
p9112
as(dp9113
g23
V571407
p9114
stp9115
a((dp9116
g2
(lp9117
VThe answer is in the question (or at least in its tags)
p9118
aVUse a  to parse the entered string, and if there is no , the string is a valid integer
p9119
aVTo be completely true,  will happily parse  to
p9120
aVTo avoid this, you can use the parse method taking a  as argument, and check that the position after the parsing is at the end of the string
p9121
as(dp9122
g23
V571407
p9123
stp9124
a((dp9125
g2
(lp9126
VIt doesn't compile because , in the  method is an array of s
p9127
aVYour methods take an array of s as argument
p9128
aVYou should thus transform the  array of s into an array of s, and pass this new array of s to your  and  methods
p9129
aVUse  to transform a  into an
p9130
as(dp9131
g23
V571407
p9132
stp9133
a((dp9134
g2
(lp9135
VYour query doesn't select instances of
p9136
aVIt selects two fields:  and
p9137
aVIn this case, JPA returns a list of
p9138
aVEach  of the list contains two elements: the title and the company
p9139
aVUse  to select  instances
p9140
as(dp9141
g23
V571407
p9142
stp9143
a((dp9144
g2
(lp9145
VJust don't pass a Supplier instance to your query, but pass the supplier's name directly:
p9146
as(dp9147
g23
V571407
p9148
stp9149
a((dp9150
g2
(lp9151
VYou don't need to cast: an  instance is an  instance, and casting won't change its type
p9152
aVSince you don't know at compile-time what the type of the element is, casting doesn't help you
p9153
aVWhat you must do is call the  method by reflection:
p9154
as(dp9155
g23
V571407
p9156
stp9157
a((dp9158
g2
(lp9159
VNo, your code is not thread-safe
p9160
aVBetween the time where  is called and the time where the number of connections is compared to the max, some other thread might have released or taken a connection, and the number of connections might have changed
p9161
aVMoreover, you're polling the queue twice to get a single connection
p9162
aVSide note: why are you reinventing the wheel
p9163
aVThere are plenty of free connection pools available
p9164
as(dp9165
g23
V571407
p9166
stp9167
a((dp9168
g2
(lp9169
VIf you're in charge for both the server and the client, there is no reason not to use a single connection to load several (all) images at once
p9170
aVIt will of course be more efficient
p9171
as(dp9172
g23
V571407
p9173
stp9174
a((dp9175
g2
(lp9176
VThis is not possible
p9177
aVYou have to remove the location from the lists of locations before deleting the location
p9178
aVSince your association is unidirectional, you'll have to execute a query to find all the clips available on the location, and remove the location from each clip
p9179
aVAnother option is to execute a native SQL query to remove rows from the join table, but keep in mind that the entities aready loaded in the session won't be aware of the change
p9180
as(dp9181
g23
V571407
p9182
stp9183
a((dp9184
g2
(lp9185
VThe  clause of HQL/criteria has the same semantics as the  clause of SQL
p9186
aVYou need to use % to mean "0, one or several characters"
p9187
aVSo  will return all the users whose userName contains the entered search name (it's case-sensitive, though)
p9188
aVYou may also use Restrictions
p9189
aVlike("username", searchName, MatchMode
p9190
aVANYWHERE) which will do that for you
p9191
as(dp9192
g23
V571407
p9193
stp9194
a((dp9195
g2
(lp9196
VYour source control has the most correct information about who did what and when in a class
p9197
aVIt's the only reliable source of information (except if several users share the same user/password)
p9198
aVI usually don't care about the  tag which, most of the time is automatically inserted by the IDE at the creationof the class
p9199
aVUse it as you want, and choose the format you want
p9200
aVBTW, who does the more work
p9201
aVThe one who writes the whole class code, or the one who changes one line of code to fix a production bug after two weeks of investigation
p9202
as(dp9203
g23
V571407
p9204
stp9205
a((dp9206
g2
(lp9207
s(dp9208
g23
V571407
p9209
stp9210
a((dp9211
g2
(lp9212
VI would define an interface  containing only the read-only methods, and a mutable class  containing all the methods, and make the  method return a  instance
p9213
aVThis way, you don't need to create a defensive copy or to wrap your solution into a read-only wrapper
p9214
aVOf course, the observer could still cast the solution to a , but this wouldn't be an accident
p9215
aVIf you want to protect yourself against casts, then write a  wrapper class implementing  and delegating to the wrapped
p9216
aVThis is similar to your proposition, except that the signature of the method makes it clear that the object is not mutable
p9217
as(dp9218
g23
V571407
p9219
stp9220
a((dp9221
g2
(lp9222
VA properties file should't be UTF-8 encoded
p9223
aVQuote from http://download
p9224
aVoracle
p9225
aVcom/javase/6/docs/api/java/util/Properties
p9226
aVhtml:
p9227
aVthe input/output stream is encoded in ISO 8859-1 character encoding
p9228
aVCharacters that cannot be directly represented in this encoding can be
p9229
aVwritten using Unicode escapes ; only a single 'u' character is allowed
p9230
aVin an escape sequence
p9231
aVThe native2ascii tool can be used to convert
p9232
aVproperty files to and from other character encodings
p9233
as(dp9234
g23
V571407
p9235
stp9236
a((dp9237
g2
(lp9238
VYes, it's fine
p9239
aVYou should document how a Thread/Runnable must be stopped
p9240
aVYou could add a dedicated stop method on your Runnable implementation that encapsulates the stopping mechanism
p9241
aVEither use interrupt, or use a dedicated boolean value, or both
p9242
aVYes, except the good practice is to restore the interrupt status when catching InterruptedException:
p9243
aVNo, you should restore the interrupt status
p9244
aVNone that I'm aware of
p9245
as(dp9246
g23
V571407
p9247
stp9248
a((dp9249
g2
(lp9250
VI would say that your answer is incorrect
p9251
aVThe fact that Vector is synchronized only protects the internal state of the Vector
p9252
aVBut most of the time, you need to make your class thread-safe
p9253
aVSuppose you want to implement a container containing at most 10 elements, and you use Vector to store those elements
p9254
aVThe add method will look like this:
p9255
aVBut this method is not thread-safe, and you have to make it synchronized to make it thread-safe
p9256
aVSo yes, calling the vector method inside a synchronized block does make a difference
p9257
aVThe vector could also be part of a larger set of fields which must be updated in a synchronized way
p9258
aVIn this case, even if the synchronized block only calls a method from the vector, it protects all the state of the object
p9259
aVIf you want a completely technical answer: it does make a difference because the synchronized block and the vector call do not synchronize on the same object, and thus don't do the same thing
p9260
as(dp9261
g23
V571407
p9262
stp9263
a((dp9264
g2
(lp9265
VIt's not possible
p9266
aVMy rule of thumb is : make everything LAZY, and use custom queries if you want eager fetching
p9267
aVThe best you can do is to load tuples (and populate DTOs) instead of loading entities
p9268
as(dp9269
g23
V571407
p9270
stp9271
a((dp9272
g2
(lp9273
VIn SQL, you could use a union:
p9274
aVYou will have to construct this query dynamically before passing it to JasperReports
p9275
aVSince HQL doesn't support union, I don't see a way to do it in HQL, though
p9276
aVYou could also fetch the data in your Java code before (using a simple HQL query), build a list of Java Beans containing a label, time and value, and use these as a JRBeanCollectionDataSource
p9277
as(dp9278
g23
V571407
p9279
stp9280
a((dp9281
g2
(lp9282
VAn int takes 4 bytes
p9283
aV10000 * 10000 * 4 bytes = 400000000 bytes ~= 381 MBs
p9284
aVAnd you have to add the size of the taken by the arrays
p9285
aVIf your heap size is less than that, then you need to increase the heap size
p9286
as(dp9287
g23
V571407
p9288
stp9289
a((dp9290
g2
(lp9291
VYour EmmaTest is not a singleton
p9292
aVThere is 0 instance of EmmaTest, so its constructor is never used, and there is no way to call valueOf with a valid value
p9293
aVBTW: do you really fear that valueOf or the default constructor might have a bug
p9294
aVWhy do you want 100% coverage
p9295
as(dp9296
g23
V571407
p9297
stp9298
a((dp9299
g2
(lp9300
VIndenting the source code shows that you indeed have some scoping issue
p9301
aVThe calbck function is private to the click handler function, and is thus not visible to initiate_timeout function
p9302
aVEither make calbck a top-level function, or make initiate_timeout a function local to the click handler function
p9303
as(dp9304
g23
V571407
p9305
stp9306
a((dp9307
g2
(lp9308
VSee JSTL access a map value by key for an explanation of why it doesn't work
p9309
aVIf your map is a sorted map or a LinkedHashMap, iterating over its entries might work:
p9310
as(dp9311
g23
V571407
p9312
stp9313
a((dp9314
g2
(lp9315
VUse MessageFormat:
p9316
aVor String
p9317
aVformat:
p9318
as(dp9319
g23
V571407
p9320
stp9321
a((dp9322
g2
(lp9323
V is the ID (i
p9324
ag468
aVthe primary key) of the product entity
p9325
aVThere should be only one product with a given ticket in database
p9326
aVIf there's more than one, then your mapping or your database model is wrong
p9327
as(dp9328
g23
V571407
p9329
stp9330
a((dp9331
g2
(lp9332
VRunning this program on my machine gives
p9333
as(dp9334
g23
V571407
p9335
stp9336
a((dp9337
g2
(lp9338
VThe value represents milliseconds
p9339
aVAnd you only have 529 milliseconds of difference between the two timestamps
p9340
aVSo, there is a good chance that they are indeed in the same second
p9341
as(dp9342
g23
V571407
p9343
stp9344
a((dp9345
g2
(lp9346
VSpring recommends that you only annotate concrete classes (and methods of concrete classes) with the  annotation, as opposed to annotating interfaces
p9347
aVHave you tried putting the  annotation on the  class
p9348
aVAlso, have you checked that you have a  in your spring config, as explained in the Spring documentation
p9349
as(dp9350
g23
V571407
p9351
stp9352
a((dp9353
g2
(lp9354
VYou're writing a message toy the output stream after having shut down the output
p9355
aVYou should get an IOException by doing it
p9356
aVMoreover, you're using the same stream to write textual data after having written some binary data
p9357
aVIf you do this, you have to find a way at the other side to know where the binary data ends, and when the textual data begins
p9358
aVIf you read bytes until the end of the stream like you're doing, you will read the binary data concatenated with the bytes of the textual data
p9359
as(dp9360
g23
V571407
p9361
stp9362
a((dp9363
g2
(lp9364
VYour question doesn't make much sense
p9365
aVAn XML file is just that: a file
p9366
aVIt doesn't contain any executable or interpreted statement
p9367
aVYou probably want to dynamically generate an XML file (or stream), but unless the output generated by the JSP is this XML file (after all, JSPs typically generate (X)HTML, and can be used to generate other kinds of XML documents), it's not really a task that a JSP should do
p9368
aVA servlet is the place where such a task should be done
p9369
aVIf you want to generate an XML document, you have many choices: DOM, JDOM, dom4j, JAXB, or even plain string concatenation (although I would not recommend it, except if all you need to do is generating such a small document with only one dynamic attribute)
p9370
as(dp9371
g23
V571407
p9372
stp9373
a((dp9374
g2
(lp9375
VProbably not the most efficient way, but probably fast enough: loop starting with the earliest date, add a day at each iteration until the end date, and increment a counter unless the current day is a weekend or a holiday
p9376
aVis the class to use
p9377
aVIt has method to add a day to itself and check if it's a saturday or a sunday
p9378
as(dp9379
g23
V571407
p9380
stp9381
a((dp9382
g2
(lp9383
VexecuteSql takes a data handler callback function as argument
p9384
aVThe data handler function is executed once the query has executed and gives you access to the result set
p9385
aVJust execute the next query in the data handler of the previous query
p9386
as(dp9387
g23
V571407
p9388
stp9389
a((dp9390
g2
(lp9391
VRight-click on the hibernate jar in the package explorer, then choose "Properties", and fill the "javadoc location" field
p9392
as(dp9393
g23
V571407
p9394
stp9395
a((dp9396
g2
(lp9397
VWhen you shutdown the executor, it tries to stop its running tasks by interrupting them
p9398
aVThis causes an InterruptedException to be thrown, but you just swallow it and continue
p9399
aVYou should return in your catch clause, and/or reset the interrupted status of the thread by calling , which will reset the interrupted status and exit the loop
p9400
as(dp9401
g23
V571407
p9402
stp9403
a((dp9404
g2
(lp9405
VI would just deactivate the rule (i
p9406
ag468
aVmake the compiler not generate warning for this)
p9407
aVIf the construction is legal, and if an additional method is added by the compiler to support it, then it's the way it must be done
p9408
aVI doubt there is a significant loss of performance caused by this synthetic method
p9409
aVThe JIT must inline it anyway if necessary
p9410
as(dp9411
g23
V571407
p9412
stp9413
a((dp9414
g2
(lp9415
VAs you said, the Date object doesn't care about timezone
p9416
aVIt stores an instant in time
p9417
aVThe timezone is only meaningful when you want to display a date
p9418
aVUse a  with the specific timezone you want to use to display a date (using setTimeZone)
p9419
as(dp9420
g23
V571407
p9421
stp9422
a((dp9423
g2
(lp9424
V considers  to be a relative path to the
p9425
aVSo if  is in package , it will look for
p9426
aVPut a slash at the beginning of the path to make it absolute (i
p9427
ag468
aVstart at the root of the classpath)
p9428
aVBTW, you're making it unnecessarily complex
p9429
aVNo need to read the image using ImageIO or to flush the image
p9430
aVJust do
p9431
aVNote: I prefer hardcoding Foo
p9432
aVclass rather than using , because  will return another class if it's called by a subclass, and the relative path will thus point to another location which, most of the time, is not what is desired
p9433
as(dp9434
g23
V571407
p9435
stp9436
a((dp9437
g2
(lp9438
VFirst, fix your mapping
p9439
aVThe association is bidirectional, and one of the side (the one side) must be marked as the inverse of the other using the mappedBy attribute:
p9440
aVThe employee is only one of the employees of the office
p9441
aVDo you really want to delete the entire office when you delete a single employee
p9442
aVIf not, why do you put a  on the
p9443
aVThose annotations have consequences
p9444
aVDon't use them without understanding them
p9445
aVNow to really answer the question
p9446
aVIf the office already exists in the database, you should not build a new one
p9447
aVGo fetch it from the database and update it:
p9448
aVNow you may also attach the office to the new employee
p9449
aVBut since it's a bidirectional relationship, you should also initialize the other side of the association to keep the object graph coherent:
p9450
as(dp9451
g23
V571407
p9452
stp9453
a((dp9454
g2
(lp9455
VTwo requests mean two executions of the script, and two distinct memory spaces
p9456
aVAt the end of the first request, the first script ends, and all the changes it made in memory are forgotten
p9457
aVThe second script starts from scratch, with all the variables having their default value
p9458
aVIf the variable is linked to the current user, you should store it in the session
p9459
aVElse, you should store it in a file or database
p9460
as(dp9461
g23
V571407
p9462
stp9463
a((dp9464
g2
(lp9465
VThe data stored in a  can be found in its
p9466
aVBut since it's your code, normally, that builds this  (from a list or an array, typically), you should be able to get the icon from this list or array
p9467
aVElse, just use , and cast it to an
p9468
as(dp9469
g23
V571407
p9470
stp9471
a((dp9472
g2
(lp9473
VI would recommend using HtmlUnit, which will give you access to the DOM tree of the HTML page, and even execute JavaScript in case the data are dynamically put in the page using AJAX
p9474
aVYou could also use JSoup: no JavaScript, but more lightweight and support for CSS selectors
p9475
as(dp9476
g23
V571407
p9477
stp9478
a((dp9479
g2
(lp9480
VUse svn checkout to a new, empty directory, to make sure you don't have any non-committed file
p9481
aVThen use svn export to a new empty directory (or remove all the
p9482
aVsvn directories manually)
p9483
aVThen replace the old contents of the web-served directory with the new files, or use a symlink
p9484
aVsvn directories shouldn't be accessible from the outside
p9485
aVMy web apps usually need some build process before being deployed
p9486
aVThis build process replaces the svn export phase
p9487
as(dp9488
g23
V571407
p9489
stp9490
a((dp9491
g2
(lp9492
VSee http://static
p9493
aVspringsource
p9494
aVorg/spring-security/site/docs/3
p9495
ag2332
aVx/reference/remember-me
p9496
aVhtml
p9497
as(dp9498
g23
V571407
p9499
stp9500
a((dp9501
g2
(lp9502
VA script loaded from one domain can't make an ajax request to another domain
p9503
aVUse the Google Maps JavaScript api to load your data
p9504
as(dp9505
g23
V571407
p9506
stp9507
a((dp9508
g2
(lp9509
VSee http://checkstyle
p9510
aVsourceforge
p9511
aVnet/config_modifier
p9512
aVhtml
p9513
aVThe correct (or rather, conventional) order is :
p9514
aVpublic
p9515
aVprotected
p9516
aVprivate
p9517
aVabstract
p9518
aVstatic
p9519
aVfinal
p9520
aVtransient
p9521
aVvolatile
p9522
aVsynchronized
p9523
aVnative
p9524
aVstrictfp
p9525
aVThis order should come naturally to your mind after some days programming in Java
p9526
as(dp9527
g23
V571407
p9528
stp9529
a((dp9530
g2
(lp9531
VDoing what you did means to Hibernate that you're storing two different kinds of entities in a single table
p9532
aVThis is possible is you use a discriminator column
p9533
aVBut if I understand correctly, you just want one kind of entity in the table : Eakopf6001
p9534
aVIn this case, its base class should be annotated with , not with
p9535
aVI would suggest creating a class annotated with  (let's call it BaseEakopf), and two entities: EaKopf and EaKopf6001, each with their set of additional fields
p9536
aVInclude one of the other of the entities in the list of mapped classes, depending on which one you want to use
p9537
aVMy personal opinion is that if you have multiple versions of your app, they should use the same entities, but with different fields
p9538
aVYour version control system would take care of these multiple versions, rather than your source code (i
p9539
ag468
aVhave one set of source files per version of the app, rather than one single set of source files for all the possible versions)
p9540
as(dp9541
g23
V571407
p9542
stp9543
a((dp9544
g2
(lp9545
VThe order of the keys of a JSON object is not supposed to be meaningful
p9546
aVIf you want a specific order, you should use an array, not an object
p9547
aVYour Java code sorts the keys alphabetically
p9548
aVThere is no way to get the initial ordering of the keys in the object
p9549
aVReference 1:
p9550
aVThe order of the keys is undefined
p9551
aVReference 2:
p9552
aVAn object is an unordered set of name/value pairs
p9553
as(dp9554
g23
V571407
p9555
stp9556
a((dp9557
g2
(lp9558
VYou could use a data structure containing
p9559
aVan XPath expression (see http://www
p9560
aVw3schools
p9561
aVcom/Xpath/xpath_syntax
p9562
aVasp)
p9563
aVan operator (>, <, contains, =, etc
p9564
aVa value
p9565
aVThis data structure would have to be serialized to be stored in database
p9566
aVYou could use JSON or XML for example
p9567
aVAnd to apply the condition, you would have to evaluate the expression, and see if the result(s) of the evaluation match the value with the operator
p9568
as(dp9569
g23
V571407
p9570
stp9571
a((dp9572
g2
(lp9573
VAt the end of your for loop, if p is still less than indice, then it means that you have reached the end of the list
p9574
aVReset the indice to 1, and return the first element of the iterator
p9575
aVYou should also make sure that instance is not null before getting its properties
p9576
aVIt would be easier if you had a List rather than an Iterator: you could simply access the element by index
p9577
as(dp9578
g23
V571407
p9579
stp9580
a((dp9581
g2
(lp9582
VThere is a much easier way to do it: just use the MD5 algorithm already implemented for you by the Java SE API
p9583
aVSide note: a String in Java contains chars, not bytes
p9584
aVDon't use the term "string" to refer to a binary message
p9585
aVUse the term byte array
p9586
as(dp9587
g23
V571407
p9588
stp9589
a((dp9590
g2
(lp9591
VThe JLS (9
p9592
ag1458
aV1) says :
p9593
aVIt is possible for an interface to inherit several methods with
p9594
aVoverride-equivalent signatures (8
p9595
ag1458
aV2)
p9596
aVSuch a situation does not in
p9597
aVitself cause a compile-time error
p9598
aVThe interface is considered to
p9599
aVinherit all the methods
p9600
aVHowever, one of the inherited methods must
p9601
aVmust be return type substitutable for any other inherited method;
p9602
aVotherwise, a compile-time error occurs (The throws clauses do not
p9603
aVcause errors in this case
p9604
aVSo I would say that javac is right
p9605
aVBut this looks like lawyer jargon to me, so I could be wrong
p9606
as(dp9607
g23
V571407
p9608
stp9609
a((dp9610
g2
(lp9611
VNo, there is no predefined constants in Java for SUCCESS and FAILURE
p9612
aVCertainly because there might be several different kinds of failures, depending on each specific application
p9613
as(dp9614
g23
V571407
p9615
stp9616
a((dp9617
g2
(lp9618
VIf the singleton doesn't maintain a reference to the objects it creates (by storing them in an instance field), and if no other reachable object maintain a reference to these objects, then they become unreachable, and the garbage collector collects them
p9619
aVWho creates an object isn't important for the garbage collector
p9620
aVWho has a reference to an object is
p9621
as(dp9622
g23
V571407
p9623
stp9624
a((dp9625
g2
(lp9626
VInclude the current URL as a hidden field of your authentication form
p9627
aVIn the action handling the authentication, once the user is authenticated, redirect to this URL
p9628
aVIn the JSPs, test if the user is authenticated and include the authentication form or the shopping cart
p9629
aVThis test can be done by just putting a boolean value in the HTTP session once the user is authenticated
p9630
as(dp9631
g23
V571407
p9632
stp9633
a((dp9634
g2
(lp9635
VJTA is a standard API for transaction management in Java
p9636
aVThere are many implementations of this API (basically, each Java EE server has its own implementation, and there are other ones, like JOTM, Bitronix, Atomikos for example)
p9637
aVHaving a standard API allows developing a transactional application which is portable across transaction managers/application servers
p9638
aVA transaction manager which would not respect this API would shoot itself in the foot, because nobody would use it
p9639
aVSee Atomikos vs JOTM vs Bitronix vs
p9640
as(dp9641
g23
V571407
p9642
stp9643
a((dp9644
g2
(lp9645
VSerialization is mainly used to send objects across the network
p9646
aVIt's used in RMI, Spring's HttpInvoker, and other binary remote method invocation systems
p9647
aVUsing it for durable persistent storage is questionable, because it's impossible to query, binary and thus hard to analyze with a simple text editor, and hard to maintain when the classes change and their serialization format is thus modified
p9648
aVSo a more open format is often chosen (XML, JSON, etc
p9649
as(dp9650
g23
V571407
p9651
stp9652
a((dp9653
g2
(lp9654
Vphpmyadmin is a front-end to a database, a web application
p9655
aVIt's not a database
p9656
aVYou can't access the database in Java through phpmyadmin
p9657
aVYou need a direct access to the database itself (which is called MySQL, BTW)
p9658
aVNot sure if your hosting provider allows it
p9659
as(dp9660
g23
V571407
p9661
stp9662
a((dp9663
g2
(lp9664
VI guess your tag has a non-public constructor, or some attribute for which the setter is not public
p9665
as(dp9666
g23
V571407
p9667
stp9668
a((dp9669
g2
(lp9670
VDo you have a web_resources_fi
p9671
aVclass of web_resources_fi
p9672
aVproperties in the root of your classpath
p9673
aVIf not, then ResourceBundle
p9674
aVgetBundle looks for web_resources
p9675
aVclass or web_resources
p9676
aVproperties (after looking for such files with the default locale appended to the base name)
p9677
aVSee http://download
p9678
aVoracle
p9679
aVcom/javase/6/docs/api/java/util/ResourceBundle
p9680
aVhtml#getBundle%28java
p9681
aVlang
p9682
aVString,%20java
p9683
aVutil
p9684
aVLocale,%20java
p9685
aVlang
p9686
aVClassLoader%29 for details about how this method works
p9687
as(dp9688
g23
V571407
p9689
stp9690
a((dp9691
g2
(lp9692
VIf I understand correctly, you would like your book list to be ordered in the same way as your ID array
p9693
aVThe easiest way is not to sort the book list, but to transform it into a map:
p9694
aVAnd then, to iterate through your books in the same order as in your ID array, just iterate through this array
p9695
aVMake sure to handle nulls correctly: there could be an ID that doesn't have its corresponding book if it has been deleted:
p9696
aVNote that you could also simply execute your query, and then re-ask your DAO for each book by ID, since it should be in the session cache anyway:
p9697
as(dp9698
g23
V571407
p9699
stp9700
a((dp9701
g2
(lp9702
VThere are several possibilities, depending on which kind of operations you need to make
p9703
aVThe most straightforward is to simply have a parent-child one-to-many association
p9704
aVDepending on what you need to do, choose the appropriate kind: unidirectional one-to-many, unidirectional many-to-one, or bidirectional
p9705
aVIt's often useful to have all the nodes of a tree have a many-to-one relationship with the root node
p9706
aVThis allows loading a whole tree very easily, in a single query
p9707
as(dp9708
g23
V571407
p9709
stp9710
a((dp9711
g2
(lp9712
VThe best way, IMO, is to avoid doing too much work during the construction of the object graph (just as in Java, you avoid doing too much work in the constructor), and to avoid calling methods from dependencies when you're not sure they're fully initialized yet
p9713
aVIf you just remove the @PostConstruct annotation from the  method, and simply invoke it from your main method, after the context has been created, you won't have this problem anymore
p9714
as(dp9715
g23
V571407
p9716
stp9717
a((dp9718
g2
(lp9719
VWhat you're doing is commonly called "exception chaining"
p9720
aVI was introduced in Java 1
p9721
ag1458
as(dp9722
g23
V571407
p9723
stp9724
a((dp9725
g2
(lp9726
VUsing  is not really a hint to the compiler or the JIT
p9727
aVIt's a hint to yourself, or the other developers maintaining the code
p9728
aVIt makes it clear that the rest of the class code assumes that this field never changes, which can be a particularly important thing (for correctness and/or thread-safety reasons, for example)
p9729
aVIt also makes sure that a subclass may not change its value (if the field is )
p9730
aVThe  of the object could for example be cached if all the fields participating in its value are final
p9731
as(dp9732
g23
V571407
p9733
stp9734
a((dp9735
g2
(lp9736
VIt seems that the JTable and the TableRowSorter each have a different table model
p9737
aVThe TableRowSorter should be constructed with the table model of the JTable
p9738
as(dp9739
g23
V571407
p9740
stp9741
a((dp9742
g2
(lp9743
VThe JVM exits when all the running threads are daemon threads
p9744
aVSo imagine you're writing a simple game where your main method loops until you decide to quit
p9745
aVAnd imagine that at the start of the game, you start a thread that will endlessly poll some website to trigger alerts
p9746
aVYou would like the JVM to exit when you decide to end the game
p9747
aVYou don't want the endless polling to prevent the game from ending
p9748
aVSo you make this polling thread a daemon thread
p9749
as(dp9750
g23
V571407
p9751
stp9752
a((dp9753
g2
(lp9754
VI think Hibernate adds this join because, when loading a SeizureI18n, it's unable to know if the SeizureI18n has an associated Seizure or not
p9755
aVSo it's unable to know if he must populate the seizure field with null or with a Seizure instance (or proxy to a Seizure instance)
p9756
aVOf course, in this particular query, it seems strange
p9757
aVBut if you were just loading SeizureI18n without their Seizure, it would feel more normal
p9758
aVIf a SeizureI18n always has an associated Seizure, you should mark the association as non-optional ()
p9759
aVI think it should avoid the additional join (since Hibernate would know that there is an associated  Seizure, and that the property is thus never null)
p9760
as(dp9761
g23
V571407
p9762
stp9763
a((dp9764
g2
(lp9765
VMethods of an interface are implicitely public
p9766
aVUsing the public modifier is thus redundant and unnecessary
p9767
aVCheckstyle even has a rule to check that public is not used in interface methods
p9768
as(dp9769
g23
V571407
p9770
stp9771
a((dp9772
g2
(lp9773
VThe application context should be created once, and only once, at the startup of your application
p9774
aVYou should never build a new one after
p9775
aVAnd you should use dependency injection rather than getting your bean from the context
p9776
aVThat's the whole point of Spring
p9777
aVI'm sorry, but you should definitely re-read the Spring documentation
p9778
as(dp9779
g23
V571407
p9780
stp9781
a((dp9782
g2
(lp9783
VDo what you feel is best in terms of readability and maintainability at server-side
p9784
aVThen, if you have a performance problem, find where it comes from by measuring (and not guessing), and try to optimize
p9785
aVYou're optimizing prematurely, and this is the root of all evil
p9786
aVCompared to the time it takes to a HTTP request/response to execute, including some additional lines of PHP is very certainly negligible
p9787
as(dp9788
g23
V571407
p9789
stp9790
a((dp9791
g2
(lp9792
VMy utility classes look like this:
p9793
aVNote that, although this makes the utility methods easily testable, and easily accessible from the outside, it also makes the classes using them hard to unit-test, because it's not easy to mock these utility methods
p9794
aVHaving too many of such utility classes can be a sign of a lack of OO design (procedural programming), and can really make the code hard to test
p9795
aVIf you're using a dependency injection framework (Spring, Guice, whatever), it might be a good idea to just make the utility class instantiatable, with non-static methods, and make it an injectable singleton
p9796
aVThis way, classes using these utility methods can be tested by mocking the utility object
p9797
as(dp9798
g23
V571407
p9799
stp9800
a((dp9801
g2
(lp9802
VIf you feel there is a risk of forgetting to load one of the attributes, or substituting two of these attributes, then definitely test it
p9803
aVIf you think it'll never happen, don't test it, and wait for a bug to happen
p9804
aVIf it happens, introduce a unit-test which fails due to this bug, fix the bug, and verify that the unit-test doesn't fail anymore
p9805
aVIn short: there is no absolute rule, and it's up to you to decide
p9806
as(dp9807
g23
V571407
p9808
stp9809
a((dp9810
g2
(lp9811
VDon't store just the word count as the value in your map
p9812
aVStore an object containing the word and its number of occurrences
p9813
aVAnd your map should thus be a
p9814
aVThen sort the list of values based on their occurrences property, and iterate through the last 10 values to display their word property (or sort in reverse order and display the first ten values)
p9815
aVYou'll have to use a custom comparator to sort your  instances
p9816
as(dp9817
g23
V571407
p9818
stp9819
a((dp9820
g2
(lp9821
VI think it's due to the fact that the JSP EL allows using  or  to access object properties
p9822
aVBut both have a special meaning for  instances: it means access to the nth element
p9823
aVYou may thus write  or
p9824
aVSince EL detects that your object is an instance of a collection, it tries to transform name into a number, and you get this exception
p9825
aVNote that this is only an explanation of the exception you get
p9826
aVI haven't checked the specification to see if it's a bug of Tomcat or if it's expected behavior
p9827
aVYou should very very rarely extend
p9828
aVMost of the time, it's better to use delegation, and thus wrap the list inside another object
p9829
aVCouldn't you just have something like the following
p9830
as(dp9831
g23
V571407
p9832
stp9833
a((dp9834
g2
(lp9835
VYou could use the  method to get the member, then test if this member is a  or a , and access the field or call the method on the object using reflection
p9836
aVYou will probably have to make the field or method accessible before accessing/invoking it
p9837
aVAnd you will also have to handle primitive type conversion to objects
p9838
aVThe main question is: why do you need this
p9839
aVIf you need it only for this specific entity class, you could simply use a switch on the attribute name and return the appropriate value:
p9840
as(dp9841
g23
V571407
p9842
stp9843
a((dp9844
g2
(lp9845
VGiven that the other tests of the benchmark test
p9846
aVa complex object graph
p9847
aVnested lists
p9848
aVobjects with a 5 level inheritance structure
p9849
aVI would say that a flat object is an object with no relation to any other entity/table, and which directly extends
p9850
as(dp9851
g23
V571407
p9852
stp9853
a((dp9854
g2
(lp9855
VYou need to specify the expeded type of the custom tag attribute
p9856
aVBy default, it's , and the JSP container coerces the attribute to a string before passing it to your tag
p9857
aVIt thus calls toString on your String array
p9858
aVor
p9859
aVshould do the trick
p9860
aVIf neither does, using
p9861
aVshould, but it's less clear
p9862
as(dp9863
g23
V571407
p9864
stp9865
a((dp9866
g2
(lp9867
VYou need to transform your String so that all the JavaScript special characters (end of line, ", ', tabs, etc
p9868
aVare escaped (\u005cn, \u005c", \u005c', \u005ct, etc
p9869
aVCommons-lang has StringEscapeUtils
p9870
aVescapeEcmaScript to do this
p9871
aVEncapsulate this method inside a JSP tag, or escape the string in your controller
p9872
as(dp9873
g23
V571407
p9874
stp9875
a((dp9876
g2
(lp9877
VAFAIK, the closest you can do is to have a  in your  entity
p9878
as(dp9879
g23
V571407
p9880
stp9881
a((dp9882
g2
(lp9883
VHibernate supports loading individual properties lazily
p9884
aVSee http://docs
p9885
aVjboss
p9886
aVorg/hibernate/core/3
p9887
aV6/reference/en-US/html_single/#performance-fetching-lazyproperties for details
p9888
aVOr you could just use a DTO with only the fields you want in this specific use-case, and execute a query with the appropriate projections in order to populate this DTO from the database
p9889
as(dp9890
g23
V571407
p9891
stp9892
a((dp9893
g2
(lp9894
VUsually, you just define a TableModel (by subclassing ), and construct a JTable instance with this table model as argument
p9895
aVIf you implement  correctly in your table model,  will automatically choose an appropriate renderer for each of your column
p9896
aVIf some cells are editable (you tell by overriding  in the table model), the appropriate cell editor will also be associated with the column
p9897
aVYou'll have to trigger events (using one of the fireXxx methods in AbstractTableModel) when the model changes
p9898
aVOf course, if you have special objects in your cells (i
p9899
ag468
aVsomething other than String, Boolean, Integer, etc
p9900
aV, you'll have to associate a renderer to a column (and an editor if the cells in these cells are editable)
p9901
aVThis is done by setting the renderer/editor on the column of the column model
p9902
aVThe column model is automatically created by the JTable from the table model, though
p9903
aVYou usually don't have to creat one by youself
p9904
aVSo, to answer your specific questions:
p9905
aVTableModel is used to hold the data displayed in the JTable
p9906
aVYou must implement it yourself
p9907
aVTableColumnModel is automatically created by the JTable and is typically used to associate a renderer and editor to specific columns
p9908
aVIf you want a specific renderer for the nth column, you get the nth column from the column model of the JTable, and you set a renderer on this column
p9909
aVUsually subclassing AbstractTableModel is sufficient
p9910
as(dp9911
g23
V571407
p9912
stp9913
a((dp9914
g2
(lp9915
VThere is no mapping between ant tasks and "Maven tasks", because Maven doesn't have tasks
p9916
aVIts philosophy is completely different
p9917
aVAnt is imperative: you tell Ant what to do with a sequence of parameterized tasks
p9918
aVMaven is descriptive: you describe which kind of project you have, respect a set of conventions (or describe how you broke these conventions, and Maven decides which tasks it must do
p9919
as(dp9920
g23
V571407
p9921
stp9922
a((dp9923
g2
(lp9924
VThat's exactly what is discussed in the documentation for the BlobStore API
p9925
as(dp9926
g23
V571407
p9927
stp9928
a((dp9929
g2
(lp9930
VUse TransactionAspectSuport
p9931
aVcurrentTransactionStatus()
p9932
aVsetRollbackOnly()
p9933
as(dp9934
g23
V571407
p9935
stp9936
a((dp9937
g2
(lp9938
VHave you measured a performance problem when simply iterating over the list of results and call a setter on each of the elements
p9939
aVI would guess that compared to
p9940
aVthe time it takes to execute the query over the database (inter-process call, network communication)
p9941
aVthe time it takes to transform each row into a MyObject instance using reflection
p9942
aVthe time it takes to transform each MyObject instance into a MyDTO using reflection
p9943
aVyour loop will be very fast
p9944
aVIf you're so concerned about performance, you should construct your MyDTO instances manually from the returned MyObject instances instead of relying on Hibernate and reflection to do it
p9945
aVKeep is simple, safe, readable and maintainable first
p9946
aVThen, if you have a performance problem, measure to detect where it comes from
p9947
aVThen and only then, optimize
p9948
as(dp9949
g23
V571407
p9950
stp9951
a((dp9952
g2
(lp9953
VAre you really afraid that more than 5 people update the counters of the same book in the same second
p9954
aVthat would be the sign of a huge traffic on your app
p9955
aVIf so, you'll probably have more important problems to solve than the fact the a counter might be off by one or two votes
p9956
aVI would simply make the counters part of the  entity:
p9957
aVKeep it simple, and change your design if and only if you have a problem
p9958
as(dp9959
g23
V571407
p9960
stp9961
a((dp9962
g2
(lp9963
VA system property is kept in memory, in the JVM executing the program where  is called
p9964
aVJVM A won't see the value of a property set in JVM B
p9965
aVIf you want to make JVM A aware of a property change in JVM B, then you need to make the two JVMs communicate with each other
p9966
aVKnowing what you want to do with these system properties and these multiple JVMs might help giving you a better answer
p9967
as(dp9968
g23
V571407
p9969
stp9970
a((dp9971
g2
(lp9972
s(dp9973
g23
V571407
p9974
stp9975
a((dp9976
g2
(lp9977
VWhen the HibernateTemplate's  property is true, it automatically makes each  or  executes cacheable
p9978
ag3881
ag468
aVit calls Query
p9979
aVsetCacheable(true) and Criteria
p9980
aVsetCacheable(true) before executing the query/criteria
p9981
aVSo, your pattern consists in fact in making the query you're going to execute cacheable, and then reset the flag to false so that the next query is not made cacheable
p9982
aVThe problem is that if the HibernateTemplate is used by multiple threads, the results of using this pattern are indeterminate
p9983
aVYou might have a thread set the flag to true, and then another one immediately reset it to false before the first thread has the time to execute its query
p9984
aVAnd since the access to the property is not synchronized, you might have visibility problems as well
p9985
aVI would use  only at the creation of the HibernateTemplate, to make sure that all the queries it executes are cacheable
p9986
aVIf you don't want it, then use two different HibernateTemplate instances (one with the cache enabled, and the other without), or use the Hibernate API directly when you want a different caching behavior
p9987
aVRegarding your exception, without knowing the use-case, the exact exception and its stack trace, it's hard to diagnose
p9988
as(dp9989
g23
V571407
p9990
stp9991
a((dp9992
g2
(lp9993
VThe problem is that you didn't declare the use of the core taglib correctly
p9994
aVWhen using the classical JSP syntax, the use of a taglib must be declared like this:
p9995
aVThe notation  is used when the XML syntax is used
p9996
aVSee http://download
p9997
aVoracle
p9998
aVcom/docs/cd/B13597_05/web
p9999
aV904/b10320/jspxml
p10000
aVhtm for details
p10001
as(dp10002
g23
V571407
p10003
stp10004
a((dp10005
g2
(lp10006
VYour logic is flawed: you return true (i
p10007
ag468
aVyou end the loop and give a result) as soon as you find an x directly followed by an y
p10008
aVThis is not what the program should do
p10009
aVAlso, if the string length is les than 2, you're comparing strings with ==
p10010
aVThis compares the references (pointers) and not the contents of the strings
p10011
aVUse s1
p10012
aVequals(s2) to compare the contents of two strings
p10013
aVHere's how I would code the algorithm (other solutions using indexOf are potentially more efficient, but they don't use a loop
p10014
aVIf you want to keep using a loop, this solution should work)
p10015
aVInitialize a boolean variable  to true
p10016
aVstart looping on each character of the string
p10017
aVif the current character is an x, set balance to false
p10018
aVif the current character is an y, reset balanced to true
p10019
aVwhen the loop is finished, return the value of balanced
p10020
as(dp10021
g23
V571407
p10022
stp10023
a((dp10024
g2
(lp10025
VYour query is not a SQL query
p10026
aVIt's a HQL query
p10027
aVIt thus should not use table names, but entity class names ( instead of )
p10028
aVAnd it won't return rows in the form of  instances, but will return entity instances
p10029
aVHibernate is an ORM: an Object Relational Mapper
p10030
aVThe idea is to use objects rather than relational data
p10031
aVYou should re-read the Hibernate reference manual
p10032
as(dp10033
g23
V571407
p10034
stp10035
a((dp10036
g2
(lp10037
VI'm guessing that your bundle is a PropertyResourceBundle, i
p10038
ag468
aVit's backed by a properties file
p10039
aVProperties file should be encoded in ISO 8859-1
p10040
aVThe native2ascii tool coming with the JDK must be used to translate a file using some other encoding in ISO 8859-1 (non translatable chars will be unicode-escaped)
p10041
aVThis is all described in the Properties javadoc, as well as the PropertyResourceBundle javadoc
p10042
as(dp10043
g23
V571407
p10044
stp10045
a((dp10046
g2
(lp10047
VYou shouldn't call a class "if"
p10048
aVIt's a reserved Java keyword (that you're using in your program, BTW)
p10049
aVFurthermore, by convention, all classes start with an uppercase letter in Java
p10050
as(dp10051
g23
V571407
p10052
stp10053
a((dp10054
g2
(lp10055
V is used to call the constructor of the superclass, the class you're extending
p10056
aVLook at the documentation: the constructor of  has different arguments
p10057
as(dp10058
g23
V571407
p10059
stp10060
a((dp10061
g2
(lp10062
V is completely unnecessary for an attached instance
p10063
aVHibernate will automatically persist the state of an attached object
p10064
aVat the end of the transaction
p10065
aVwhen executing a query whose result might depend on the new state of the object
p10066
aVwhen calling flush explicitely on the session
p10067
aVAn attached object is an object that you have retrieved from the session (from a call to get, load, or from a query), or that you have made persistent via persist, save, update or merge (in this latter case, the passed object is not attached, but the returned object is)
p10068
aVThen why is  useful
p10069
aVIt's useful to make a transient or detached object persistent, i
p10070
ag468
aVan object which is not attached to a session, either because it's new, or because it was attached previously, but became detached when the session closed
p10071
aVThe idea of Hibernate is to flush the modified state (i
p10072
ag468
aVto execute an update SQL query) only when it's necessary, at the latest possible time
p10073
aVThis way, it can avoid unnecessary updates and thus make the code more efficient
p10074
aVYour first update is unnecessary, unless you're doing a native SQL query in the same transaction between the two updates
p10075
aVWhy would you want the intermediate state to be persisted
p10076
as(dp10077
g23
V571407
p10078
stp10079
a((dp10080
g2
(lp10081
VYour first solution is the good one
p10082
aVUsing the session to hold data specific to a single request is not a good practice
p10083
aVThe fact that users get a confirmation message has nothing to do with the way data are passed from servlet to JSP
p10084
aVIt has to do with the fact that the page they're looking at and refreshing was the result of a POST request
p10085
aVUse the Redirect after Post (or Post-Redirect-Get) pattern to avoid this problem
p10086
aVFor example, suppose you're saving a new product, and after the product is saved (using a POST request), you would like to display the product's category page
p10087
aVIt would go this way:
p10088
aVsubmit the "Save product" form
p10089
aVstore the product in database, adn get its category ID (456)
p10090
aVsend a redirect to the URL productCategory
p10091
aVcategoryId=456
p10092
aVthe user automatically goes to the above URL
p10093
aVGet the data for the category 456 from the database
p10094
aVPut this data in a request attribute and forward the the productCategory
p10095
aVjsp page
p10096
aVUser sees the product category page, with the new product he just saved
p10097
aVIf he refreshes, it redisplay the category without confirmation, and without resubmitting the "Save product" form
p10098
as(dp10099
g23
V571407
p10100
stp10101
a((dp10102
g2
(lp10103
VFrom the documentation, in the section called "Common - Bypass encapsulation":
p10104
aVUse Whitebox
p10105
aVinvokeMethod(
p10106
aVto invoke a private method of an
p10107
aVinstance or class
p10108
aVYou can also find examples in the same section
p10109
as(dp10110
g23
V571407
p10111
stp10112
a((dp10113
g2
(lp10114
VFirst, I would avoid displaying Ajax links to URLs needing authentication if the user is not authenticated, if possible
p10115
aVIf not always possible, your login page could be returned with a specific HTTP response code, (or any other way to distinguish it from a normal response) and your JavaScript callback could replace the entire body of the current page with the HTML received if this response code is received
p10116
aVMost AJAX libraries come with a way to define a handler to all the AJAX requests
p10117
aVSuch a global handler could be used here
p10118
aVThe login page could also be adapted to only return a status code in case of an AJAX request, and the JavaScript code would then redirect to the login page (without using AJAX) if this status code is received
p10119
as(dp10120
g23
V571407
p10121
stp10122
a((dp10123
g2
(lp10124
VJust put the objects in your  and define getters for them, or put them in request attributes directly
p10125
aVIn the JSP, use  of  (respectively) to get the object
p10126
as(dp10127
g23
V571407
p10128
stp10129
a((dp10130
g2
(lp10131
VThis is one of the most often asked (and answered) questions
p10132
aVFloating point arithmetics can not produce exact results, because it's impossible to have an inifinity of real numbers inside 64 bits
p10133
aVUse BigDecimal if you need arbitrary precision
p10134
as(dp10135
g23
V571407
p10136
stp10137
a((dp10138
g2
(lp10139
VThis means that there is no row with ID  in the database table mapped by the entity
p10140
aVBTW: I find it very questionable to commit a transaction in a method which is not necessary the one that started the transaction
p10141
as(dp10142
g23
V571407
p10143
stp10144
a((dp10145
g2
(lp10146
VThe stale object exception is thrown when an entity has been modified between the time it was read and the time it's updated
p10147
aVThis can happen inside a single transaction, but may also happen when you read an object in a transaction, modify it (in the controller layer, for example), then start another transaction and merge/update it (in this case, minutes or hours can separate the read and the update)
p10148
aVThe exception is thrown to help you avoid conflicts between users
p10149
aVIf you don't care about conflicts (i
p10150
ag468
aVthe last update always wins and replaces what the previous ones have written), then don't use optimistic locking
p10151
aVIf you're concerned about conflicts, then StaleObjectExceptions will happen, and you should popup a meaningful message to the end user, asking him to reload the data and try to modify it again
p10152
aVThere's no way to avoid them
p10153
aVYou must just be optimistic and hope that they won't happen often
p10154
aVNote that your synchronized trick will work only if
p10155
aVthe exception happens only when reading and writing in the same transaction
p10156
aVupdates to the entity are only made by this service
p10157
aVyour application is not clustered
p10158
aVIt might also reduce the throughput dramatically, because you forbid any concurrent updates, regardless of which entities are updated by the concurrent transactions
p10159
aVIt's like if you locked the whole table for the duration of the whole transaction
p10160
as(dp10161
g23
V571407
p10162
stp10163
a((dp10164
g2
(lp10165
VA setter is more complicated, because it would need access to the session to get the ID of the enumeration having the given value (provided it's unique) in order to populate the  field
p10166
as(dp10167
g23
V571407
p10168
stp10169
a((dp10170
g2
(lp10171
VMoreover, the  isn't referenced in the main  file
p10172
aVYou should have such an element in the  element:
p10173
as(dp10174
g23
V571407
p10175
stp10176
a((dp10177
g2
(lp10178
VInitialize an array containing all the accepted chars (), then instantiate a SecureRandom instance, and call  repeatedly to get a random index in your char array
p10179
aVAppend each char to a  until you get the expected number of chars
p10180
as(dp10181
g23
V571407
p10182
stp10183
a((dp10184
g2
(lp10185
VBeware: NOT TESTED
p10186
aVs implementation is the following:
p10187
aVAnd  uses the type of the property as the type returned by the function (sum)
p10188
aVYou could instead use a custom subclass of  where the  method is overridden to return  instead of the type of the summed property
p10189
as(dp10190
g23
V571407
p10191
stp10192
a((dp10193
g2
(lp10194
VThe solution of Vlad is definitely better than this one
p10195
aVI let it here anyway to show you how Subqueries can be used
p10196
aVUse a subquery:
p10197
as(dp10198
g23
V571407
p10199
stp10200
a((dp10201
g2
(lp10202
VWhy not simply add a CAPTCHA to the password reset request form
p10203
aVYou could then limit the number of requests per email address and per day/week/month, but a CAPTCHA would keep bots away
p10204
as(dp10205
g23
V571407
p10206
stp10207
a((dp10208
g2
(lp10209
VNote that A could have a toOne relationship to B marked as lazy, and configured (with transient
p10210
aVso that it's not serialized by your Java to XML process
p10211
as(dp10212
g23
V571407
p10213
stp10214
a((dp10215
g2
(lp10216
VThe EL variables reference a page-, or request-, or session-, or application-scope attribute (each scope is inspected, in that order)
p10217
aVThey don't reference a local scriptlet variable
p10218
aVSo, since you don't have any attribute in any scope named , ,  or , default values are used ()
p10219
aVThe results would be the ones that you're expecting if the scriptlet code would be the following:
p10220
aVIn a well-architected application, these attributes would be set by a servlet which would dispatch to your JSP, or by a JSP tag ( for example), but not by a scriptlet
p10221
aVScriptlets should not be used anymore
p10222
as(dp10223
g23
V571407
p10224
stp10225
a((dp10226
g2
(lp10227
VThe easiest solution is to make the constraint deferred, i
p10228
ag468
aVchecked only at the end of the transaction
p10229
aVOracle supports deferred constraints
p10230
aVDon't know about your database
p10231
aVElse, you might remove the entity to delete, then flush the session, then update the orderIndexes
p10232
aVBut you might also have problems if Hibernate tries to update the index of the  4th element before updating the index of the 3rd one
p10233
as(dp10234
g23
V571407
p10235
stp10236
a((dp10237
g2
(lp10238
Vin Java, the code inside the if won't even be part of the compiled code
p10239
aVIt must compile, but it won't be written to the compiled bytecode
p10240
aVIt actually depends on the compiler, but I don't know of a compiler that doesn't optimize it
p10241
aVthe rules are defined in the JLS:
p10242
aVAn optimizing compiler may realize that the statement x=3; will never
p10243
aVbe executed and may choose to omit the code for that statement from
p10244
aVthe generated class file, but the statement x=3; is not regarded as
p10245
aV"unreachable" in the technical sense specified here
p10246
aVThe rationale for this differing treatment is to allow programmers to
p10247
aVdefine "flag variables" such as:
p10248
aVand then write code such as:
p10249
aVThe idea is that it should be possible to change the value of DEBUG
p10250
aVfrom false to true or from true to false and then compile the code
p10251
aVcorrectly with no other changes to the program text
p10252
aVDon't know about C
p10253
as(dp10254
g23
V571407
p10255
stp10256
a((dp10257
g2
(lp10258
VNot an expert, but you could just scale the Graphics2D object (the passed Graphics is in fact a Graphics2D instance), where the x and y ratios are the ratios of the fixed size you chose to draw and the actual size of the frame
p10259
aVSee http://download
p10260
aVoracle
p10261
aVcom/javase/6/docs/api/java/awt/Graphics2D
p10262
aVhtml#scale%28double,%20double%29
p10263
as(dp10264
g23
V571407
p10265
stp10266
a((dp10267
g2
(lp10268
VI don't really see the point of doing this, since the session is not cleared between the flushes (and will thus need as much memory as if you let Hibernate flush at the end of the transaction), but if you really want to do this, and just want a new transaction just for this method, just annotate the method with
p10269
aVand forget about the Hibernate transaction management
p10270
aVThis will make Spring pause the current transaction (if any), start a new transaction, execute your method and commit/rollback the new transaction, and then resume the paused transaction (if any)
p10271
as(dp10272
g23
V571407
p10273
stp10274
a((dp10275
g2
(lp10276
VIf you're using TortoiseSVN, uncheck the "Stop on copy/rename" checkbox in the log window
p10277
aVIf you're using the  command I don't see this behavior
p10278
aVIf you're using some other SVN client, there must be some equivalent of the STop on copy/rename" option somewhere
p10279
as(dp10280
g23
V571407
p10281
stp10282
a((dp10283
g2
(lp10284
VYou're reinventing the  annotation of Spring
p10285
aVRead http://static
p10286
aVspringsource
p10287
aVorg/spring/docs/3
p10288
ag2332
aVx/spring-framework-reference/html/transaction
p10289
aVhtml#transaction-declarative-annotations
p10290
as(dp10291
g23
V571407
p10292
stp10293
a((dp10294
g2
(lp10295
VI would configure this entity to use a custom subclass of  or  to generate its ID
p10296
aVThis custom subclass would override the generate method like this:
p10297
aVThis way, the entity's property will automatically have the value of the generated ID, before the insert is made, which is necessary since the column has a not null constraint
p10298
aVI've not tested it, but it should work
p10299
aVOr you could just use a regular sequence generator for the ID, make sure that the access type is property and not field, and implement the  method like this:
p10300
as(dp10301
g23
V571407
p10302
stp10303
a((dp10304
g2
(lp10305
VIf you have enough memory, you shouldn't have problems, provided that the  method of the keys of the map is properly written and allows distributing the potential 1,200,000 keys with as few collisions as possible
p10306
aVis O(1)
p10307
aVBut memory might be a problem
p10308
aVIn the worst case, you'll have 1,200,000 entries in your map
p10309
aVIf each of them takes 400 bytes (which is not much, but I don't know what your packets contain), you already need 460 MBs
p10310
as(dp10311
g23
V571407
p10312
stp10313
a((dp10314
g2
(lp10315
Vor
p10316
as(dp10317
g23
V571407
p10318
stp10319
a((dp10320
g2
(lp10321
VStore the values you don't want to sort in a first list and the values you want to sort in second one
p10322
aVSort the second list, and then rebuild the full list by adding all the items from the first list in the second one
p10323
as(dp10324
g23
V571407
p10325
stp10326
a((dp10327
g2
(lp10328
VYou should use a feature branch for each ticket, and reintegrate each branch into trunk once finished
p10329
aVJust make sure to read the SVN book to understand the best practices when working with feature branches, and particularly to regularly merge from trunk to the feature branch, before finally reintegrate the feature branch into trunk with the  option
p10330
aVYou could also create a patch, save it somewhere, revert everything, then start working on ticket2
p10331
aVBut it's fragile: you'll forget where your patches are, lose them, or have a hard time applying them because of conflicts caused by the work on the second ticket
p10332
aVAnd it's also harder to switch from one ticket to another
p10333
aVFeature branches are the most appropriate solution for this, IMHO
p10334
as(dp10335
g23
V571407
p10336
stp10337
a((dp10338
g2
(lp10339
VThere are several problems with your code
p10340
aVFirst one: you don't respect naming conventions
p10341
aVvariables should start with a lower-case letter
p10342
aVThis makes your code harder to read for seasoned Java programmers
p10343
aVSecond one: you loop over your item IDs, and change the value of your  and  objects
p10344
aVBut you update always the same objects, and only persist the item after the loop
p10345
aVso, of course, only the last value is persisted
p10346
aVChange to something like this:
p10347
aVThird one: your mapping is more complex than id needs
p10348
aVYou should not have an entity to map the association table
p10349
aVInstead, you should thus have a list of items in the  entity, and a list of profilUsers in the  entity :
p10350
as(dp10351
g23
V571407
p10352
stp10353
a((dp10354
g2
(lp10355
VThe simple loop is the way to go
p10356
aVGiven the very small number of bytes you're exchanging, I guess it will need just one iteration to read everything, but if you want to make it correct, you have to loop
p10357
as(dp10358
g23
V571407
p10359
stp10360
a((dp10361
g2
(lp10362
VYou may indeed use a map:
p10363
aVYou should also have a unique constraint on
p10364
as(dp10365
g23
V571407
p10366
stp10367
a((dp10368
g2
(lp10369
VYou must use , because Swing components must only be accessed from the event dispatch thread
p10370
aVThe javadoc of this method has a link to the Swing tutorial about threads
p10371
aVFollow this link
p10372
aVHere's an example:
p10373
as(dp10374
g23
V571407
p10375
stp10376
a((dp10377
g2
(lp10378
VReading the javadoc gives the answer: no
p10379
aVAnd no, I won't mail you this answer
p10380
aVYou write here, you read here
p10381
as(dp10382
g23
V571407
p10383
stp10384
a((dp10385
g2
(lp10386
VThis line can't possibly work
p10387
aVis not a valid class name
p10388
aVYou'll aways get an exception when executing this method
p10389
aVIf you mean , all it does is make sure the classloader loads the class
p10390
aVWhen the class is loaded, its static block is executed, and this static block registers the MySQL driver to the JDBC API
p10391
aVDoing it once is sufficient
p10392
aVOnce a class is loaded, it's loaded
p10393
aVLoading it a second time won't change anything
p10394
as(dp10395
g23
V571407
p10396
stp10397
a((dp10398
g2
(lp10399
VSome Java applications run in a sandboxed environment (applets, WebStart applications, etc
p10400
aVin order to prevent them to be nasty (for example, an applet executing in some random HTML page shouldn't be able to access the file system and read all your personal data)
p10401
aVThese checks constitute the sandbox
p10402
aVThere are ways to enable some of these restricted operations (by signing the jars and requesting approval from the end user)
p10403
aVThe security manager handles what is allowed and what is not
p10404
aVRead http://download
p10405
aVoracle
p10406
aVcom/javase/6/docs/technotes/guides/security/permissions
p10407
aVhtml
p10408
aVIt lists all the permissioins and describe which risks are encountered by allowing them
p10409
as(dp10410
g23
V571407
p10411
stp10412
a((dp10413
g2
(lp10414
V means: when you do the XXX operation on this object, automatically do the same XXX operation on the object(s) referenced by the association
p10415
aVSo, in your case, if you persist/merge/delete an article, it will also persist/merge/delete its author
p10416
aVThis is thus very questionable
p10417
aVI don't think you really want that
p10418
aVAnd when you'll refresh an author, it will also refresh its articles
p10419
aVNote that if you refresh an article, it will refresh its author (because of CascadeType
p10420
aVALL), and since the association form author to articles also has the REFRESH cascade type, it will also refresh all the articles of the author
p10421
as(dp10422
g23
V571407
p10423
stp10424
a((dp10425
g2
(lp10426
VThe receive method doesn't seem to be interruptible
p10427
aVYou could close the socket: the javadoc says:
p10428
aVAny thread currently blocked in  upon
p10429
aVthis socket will throw a SocketException
p10430
aVYou could also use  to make the receive method block only for a small amount of time
p10431
aVAfter the method has returned, your thread can check if it has been interrupted, and retry to receive again for this small amount of time
p10432
as(dp10433
g23
V571407
p10434
stp10435
a((dp10436
g2
(lp10437
VUse a web framework (Stripes, Spring MVC, etc
p10438
aVsupporting file uploads, or use the apache commons FileUpload to handle them
p10439
aVFor a reason that I can't understand, the servlet API (prior to 3
p10440
aV0) doesn't support them natively
p10441
as(dp10442
g23
V571407
p10443
stp10444
a((dp10445
g2
(lp10446
VJust wanted to add some coment over the previous answers
p10447
aVThe contract of  mentions that it must be symmetric
p10448
aVThis means that  iff
p10449
aVThat's the reason why  is usually not used in  (unless the class is final)
p10450
aVIndeed, if some subclass of  ( for example) overrides  to test that the other object is also an instance of , you'll be in a situation where a  instance is equal to a  instance, but a  instance is not equal to a  instance
p10451
aVYou should thus (except when the class is final or in some other rare cases) rather compare the classes of the two objects:
p10452
aVBTW, that's what Eclipse does when it generates  and  methods
p10453
as(dp10454
g23
V571407
p10455
stp10456
a((dp10457
g2
(lp10458
VYour setter doesn't do anything:
p10459
as(dp10460
g23
V571407
p10461
stp10462
a((dp10463
g2
(lp10464
VYour question is very hard to understand, so I'll just explain how the caches work
p10465
aVYou may cache three things:
p10466
aVentities
p10467
aVcollections of entities (i
p10468
ag468
aVToMany associations)
p10469
aVqueries
p10470
aVThe cache of entities will be hit when using get or load, and when navigating from another entity to the cached entity through a ToOne association
p10471
aVOnly the fields of the entity are cached
p10472
aVNot the ToMany associations
p10473
aVThe cache of collections will be hit when navigating through a cached ToMany association
p10474
aVThe cache only stores the ID of the entities in the collection
p10475
aVHibernate will try to get all the entities of the collection one by one using the cached IDs
p10476
aVTo be efficient, the target entities should thus also be in the entity cache
p10477
aVThe query cache will be hit when executing a cached query
p10478
aVWhen the query returns entity instances (such as the two queries of your question), the query cache only stores the IDs of the root entities returned by the query
p10479
aVIt doesn't cache the whole result
p10480
aVHibernate will try to get all the entities of the collection one by one using the cached IDs
p10481
aVTo be efficient, the target entities should thus also be in the entity cache
p10482
aVSo, if you want to execute a query returning an entity with all its associations recursively, you should make the query cacheable, make the ToMany associations cacheable, and make each entity of the graph cacheable
p10483
as(dp10484
g23
V571407
p10485
stp10486
a((dp10487
g2
(lp10488
VGiven the error message, you seem to call  with an array of entities as argument ( means array of )
p10489
aVYou can't do that
p10490
aVtakes only one entity instance as argument
p10491
aVNot an array
p10492
aVSide note: you might want to choose a better package name than
p10493
aVAt least spell  correctly
p10494
as(dp10495
g23
V571407
p10496
stp10497
a((dp10498
g2
(lp10499
VYour  class shouldn't be annotated with , but with
p10500
aVmeans that entities extending this class inherit columns and associations from the super class, but these columns and associations go in the table of the subclass
p10501
aVis not in the  table or in the  table
p10502
aVIt's in the  table
p10503
aVMoreover  can only be used with an entity
p10504
aVNot with a mapped superclass, which is only used to inherit fields and associations, but is not mapped to its own table like an entity is
p10505
as(dp10506
g23
V571407
p10507
stp10508
a((dp10509
g2
(lp10510
VYes
p10511
aVpublic methods are
p10512
aVpublic
p10513
aVThis means that they're accessible from anywhere
p10514
aVRead http://download
p10515
aVoracle
p10516
aVcom/javase/tutorial/java/javaOO/accesscontrol
p10517
aVhtml
p10518
as(dp10519
g23
V571407
p10520
stp10521
a((dp10522
g2
(lp10523
VIt seems to me that what you want to do is to just leave all table cells empty, except the ones clicked by the user, where some mark icon should appear, right
p10524
aVIf so, your table model should not contain  instances
p10525
aVA JLabel is a visual component, used to render some data graphically
p10526
aVThe data itself is not a JLabel
p10527
aVIn your case, I think it should thus be a Boolean (true when clicked by the user, false otherwise)
p10528
aVNow you could use a custom renderer (although the default one for booleans could also be OK) to display your booleans
p10529
aVThis renderer would be a subclass of , which is itself a subclass of JLabel
p10530
aVThe renderer (the same instance for all the cells configured to use this renderer) would just display a marked icon if the Boolean value to render is true, and a not marked icon (or no icon at all) when the Boolean value to render is false
p10531
aVThen, your click handler would just have one mission: make the clicked cell contain true rather than false
p10532
aVTo do that, it would just have to change the appropriate value in the table model
p10533
aVTo recap: a table model is used to hold data
p10534
aVThink of it as the data you would find in a database
p10535
aVWould you hold a JLabel in the database
p10536
aVNo, you would hold a boolean, a string or an integer
p10537
aVThe table can render this data as you want, and this is the mission of the renderer
p10538
aVSide note: stop with the hungarian notation: it doesn't make sense in Java
p10539
aVIt makes code hard to read
p10540
aVEverything except primitive types is an object, and you can't assign a meaningful prefix to every possible type
p10541
aVRather, use readable and meaningful english names :  rather than ,  rather than ,  rather than
p10542
as(dp10543
g23
V571407
p10544
stp10545
a((dp10546
g2
(lp10547
VI don't really see any other way
p10548
aVThe other options are crappy:
p10549
aVuse a class containing all the possible fields, and only populate the ones you fetched (the other ones staying at null): how will the calling code know which fields are populated and which are not
p10550
aVThis will become a maintenance nightmare
p10551
aVuse a Map to store everything: even worse: you don't know what might be in the map, and the code will be full of casts
p10552
aVIf you have 5 use-cases having each a different view of what a  contains, you'll have to create 5 different  DTOs
p10553
aVIs it really necessary to fetch only some of the fields
p10554
aVCouldn't you use the same entity class for all the use-cases
p10555
aVIs it a performance problem
p10556
aVIf so, have you measured a performance problem
p10557
aVMost of the time, a query takes time to execute because it takes time finding the data to return, but not because of the amount of data it returns
p10558
aVMake sure that you don't optimize prematurely
p10559
as(dp10560
g23
V571407
p10561
stp10562
a((dp10563
g2
(lp10564
VYour understanding is correct
p10565
aVThe marker interface also defines a type
p10566
aVIt can thus be used in method signatures
p10567
aVFor example, Hibernate's Session
p10568
aVget() method takes a Serializable as argument
p10569
aVIt avoids passing a primary key that would not be serializable as argument
p10570
aVNote that Cloneable is, retrospectively, seen as a bad design choice
p10571
aVSerializable could certainly have been implemented with an annotation if those had existed when serialization was implemented
p10572
aVMarker interfaces are, most of the time, an anti-pattern
p10573
aVAn interface should define a polymorphic behaviour
p10574
aVA marker interface can be replaced by an annotation
p10575
as(dp10576
g23
V571407
p10577
stp10578
a((dp10579
g2
(lp10580
VYou have many many problems in your code:
p10581
aVYou're sending XML inside an HTML page to your client
p10582
aVYou shouldn't have html markup around your XML
p10583
aVElse it's not XML anymore
p10584
aVyou're using scriptlets in your JSPs
p10585
aVJSPs should be used to generate markup, and nothing else
p10586
aVPut the code that reads request parameters, reads a file, etc
p10587
aVin a servlet, where Java code can be properly written, parsed, refactored and designed rather than in JSPs
p10588
aVJSPs should contain markup, JSP tags and EL expressions
p10589
aVNot Java code
p10590
aVYou're using the platforme default encoding to read an XML file, which is perhaps encoded in some other encoding
p10591
aVYou should read the XML file as bytes, and send it to the response OutputStream
p10592
aVAn XML file defines its encoding, so the receiver's XML parser can use the appropriate encoding to transform the stream of bytes into an XML document
p10593
aVYou don't read the file properly
p10594
aVA single call to fis
p10595
aVread doesn't guarantee that the whole file has been read
p10596
aVRead the javadoc of the methods you're using, and rea the Java tutorial about IO
p10597
aVYou're using an ObjectOutputStream to send an HTTP request parameter
p10598
aVAn ObjectOutputStream is used to send serialized objects
p10599
aVIt's not used to send HTTP parameters
p10600
aVThe URL should be , and you shouldn't send anything in the connection's output stream
p10601
aVYou should learn how HTTP works
p10602
aVthe code which reads from the inputstream (in the applet) is also wrong
p10603
aVRead the Java tutorial about IO
p10604
aVonce again, in the applet, you're using the default platform encoding to transform a byte array into a String
p10605
aVUse an XML parser to read your XML
p10606
as(dp10607
g23
V571407
p10608
stp10609
a((dp10610
g2
(lp10611
VI would just use JAXB, which allows marshalling a tree of objects (of annotated classes) to XML, and unmarshalling XML to a tree of objects
p10612
aVThere are other Object to XML APIs, but JAXB comes with Java SE and works well
p10613
as(dp10614
g23
V571407
p10615
stp10616
a((dp10617
g2
(lp10618
VUse  instead of
p10619
aVWhy do you want to avoid a META-INF folder
p10620
as(dp10621
g23
V571407
p10622
stp10623
a((dp10624
g2
(lp10625
VThis is a FAQ:
p10626
ag7651
aVWe are aware of no other embedded SQL database engine that
p10627
aVsupports as much concurrency as SQLite
p10628
aVSQLite allows multiple
p10629
aVprocesses to have the database file open at once, and for multiple
p10630
aVprocesses to read the database at once
p10631
aVWhen any process wants to
p10632
aVwrite, it must lock the entire database file for the duration of its
p10633
aVupdate
p10634
aVBut that normally only takes a few milliseconds
p10635
aVOther
p10636
aVprocesses just wait on the writer to finish then continue about their
p10637
aVbusiness
p10638
aVOther embedded SQL database engines typically only allow a
p10639
aVsingle process to connect to the database at once
p10640
ag7651
aVAlso read SQLite is serverless
p10641
aVWhether SQLite is sufficient for your needs is impossible to tell
p10642
aVIf you have long-running update transactions, locking the whole database might be a serious issue
p10643
aVSince you're using JDBC to access it, there shouldn't be many problems switching to another database engine if necessary
p10644
as(dp10645
g23
V571407
p10646
stp10647
a((dp10648
g2
(lp10649
VIn the first case, you synchronize on a public object (), and so other parts of the application might cause problems because they also synchronize on
p10650
aVIn the second case, you synchronize on a private lock object, and are thus sure that nobody else uses the the lock to synchronize access to something else
p10651
aVMoreover, as indicated in other answers, all the instances of the class will be synchronized on the same lock with the first solution, whereas each instance will have its own lock with the second solution
p10652
aVThe second solution is thus much preferred (although the lock object should be final)
p10653
as(dp10654
g23
V571407
p10655
stp10656
a((dp10657
g2
(lp10658
VUse
p10659
aVSee http://docs
p10660
aVjboss
p10661
aVorg/hibernate/core/3
p10662
aV6/reference/en-US/html_single/#batch-direct for the reference
p10663
as(dp10664
g23
V571407
p10665
stp10666
a((dp10667
g2
(lp10668
VThat's because in guimain, you're not using the blockName field of the dialog where the user entered something: you're using the blockName field of another, newly constructed dialog:
p10669
aVYou should pass the blockName from the dialog to the guimain:
p10670
aVSide notes:
p10671
aVyou should not use public fields
p10672
aVUse getter methods
p10673
aVclasses should be start with an upper-case and be spelt in CamelCase: GuiMain
p10674
as(dp10675
g23
V571407
p10676
stp10677
a((dp10678
g2
(lp10679
VYou should download an IDE (eclipse Netbeans and IntelliJ are all free or have a free version), and execute your program inside their debugger
p10680
aVYou would quickly find your errors
p10681
aVThat said, stop treating Strings like char arrays, and stop using fixed length arrays hoping their size will be enough
p10682
aVString is a full-fledged object, with a lot of useful methods
p10683
aVsubstring is one of them, and could be used to extract the left and right operand
p10684
aVIt would be much easier and less buggy than to copy from one char array to another, reused, one (you use  to store the chars of both operands, without resetting the cahrs to default values)
p10685
as(dp10686
g23
V571407
p10687
stp10688
a((dp10689
g2
(lp10690
VA simple google search led me to the following query:
p10691
aVThis will select 10 randow table
p10692
aVcolumn values (in Oracle)
p10693
aVIf you need more columns:
p10694
aVJust use JDBC to execute this query
p10695
as(dp10696
g23
V571407
p10697
stp10698
a((dp10699
g2
(lp10700
VA pem file is read as any other text file
p10701
aVRead the Java tutorial about IO (and concentrate on character streams, since a pem file contains text, and on File IO, since this is what you want to do)
p10702
as(dp10703
g23
V571407
p10704
stp10705
a((dp10706
g2
(lp10707
VThis looks like a simple import problem to me
p10708
aVHave you imported the class :
p10709
aVAnnotations are classes which must be imported to be used (without using their fully qualified name), just as any other class
p10710
as(dp10711
g23
V571407
p10712
stp10713
a((dp10714
g2
(lp10715
VIt's not clear which relation there is between the tables
p10716
aVWhat's the use of the  column
p10717
aVWhat I can say is that:
p10718
aVYou don't have a  annotation on the children field
p10719
aVThis OneToMany is either mapped thanks to a join column, or thanks to a join table
p10720
aVNot both
p10721
aVSince you're using a secondary table, you should specify in which table each column or JoinColumn is, by using the table attribute of the annotation (or at least, you should specify it when the column or join colums is not in the primary table)
p10722
aVSee http://docs
p10723
aVjboss
p10724
aVorg/hibernate/core/3
p10725
aV6/reference/en-US/html_single/#mapping-declaration-join for explanations on how  should be used, and http://docs
p10726
aVjboss
p10727
aVorg/hibernate/core/3
p10728
aV6/reference/en-US/html_single/#collections-mapping for explanations on OneToMany associatios
p10729
as(dp10730
g23
V571407
p10731
stp10732
a((dp10733
g2
(lp10734
VI don't think so
p10735
aVEither have a  getter in your object returning the concatenation of last and first names, or display the options one by one, in a loop:
p10736
as(dp10737
g23
V571407
p10738
stp10739
a((dp10740
g2
(lp10741
VAs already said by other answers, quotes must be escaped
p10742
aVThese are not the only characters that should be escaped
p10743
aV, ,  and  should systematically be escaped in HTML
p10744
aVThe risks are
p10745
aVinvalid HTML
p10746
aVbroken page
p10747
aVXSS attacks and security vulnerabilities
p10748
aVWhenever you must display data for which you're not absolutely sure that it doesn't contain any of such characters (for example : data coming, directly or indirectly, from the user, free textual data in general), escape this data
p10749
aVThis is done, in JSP by two simple constructs:
p10750
aVthe JSTL  tag:
p10751
aVthe JSTL  EL function:
p10752
aVScriptlets should not be used for years in JSP
p10753
aVUse the JSTL, other custom tags, and the EL
p10754
as(dp10755
g23
V571407
p10756
stp10757
a((dp10758
g2
(lp10759
VSpring and Guice will do fine
p10760
aVI personnally prefer Guice for pure dependency injection, but Spring offers much more
p10761
aVThe code would just look like this:
p10762
aVI personnally prefer constructor injection, but you might also use setter injection or field injection
p10763
aVNote that the purpose of DI is not to have "easy singletons", though
p10764
aVIts main purpose is to make the code (of , here) easily unit-estable, by being able to inject mock dependencies (here, a mock  instance)
p10765
as(dp10766
g23
V571407
p10767
stp10768
a((dp10769
g2
(lp10770
VYes, it's expected
p10771
aV(which is the default) means: execute in the existing transaction if it exists
p10772
aVElse, create a transaction and commit it at the end of the method
p10773
aVSo yes, if the whole test method is transactional, both service calls will execute in the context of the test transaction
p10774
aVNote that since the service is annotated with , it's supposed to work if a transaction already exists
p10775
aVThis makes the test valid: it tests your service in the context of an existing transaction
p10776
aVIf you want a service to execute in its own dedicated transaction, it should be annotated with
p10777
aVBut of course, if it's the case, you won't be able to rollback the service transaction by executing the test in a transaction
p10778
as(dp10779
g23
V571407
p10780
stp10781
a((dp10782
g2
(lp10783
VYou're not far from the solution
p10784
aVJust keep the original string until the last index of , and append the new word to this substring
p10785
aVNo need for  here
p10786
as(dp10787
g23
V571407
p10788
stp10789
a((dp10790
g2
(lp10791
VUse a
p10792
aVYour code snippet is not correct, so I suppose you meant
p10793
aVSo, you could just use a  and populate it like this:
p10794
aVThen you could do
p10795
aVNote that this explanation is useful because it explains how to use Maps
p10796
aVBut in your case, all the strings are already stored in the servlet context, so you can in fact just do:
p10797
as(dp10798
g23
V571407
p10799
stp10800
a((dp10801
g2
(lp10802
VThere is an example which is completely similar to your case in the Hibernate reference documentation
p10803
aVJust before this example, you'll find the explanations
p10804
aVHere's the example, which matches your problem (User is table A, and Customer is table B):
p10805
aVNote: it would be much much simpler of you had a surrogate identifier for those two tables
p10806
aVUnless you're forced to deal with a legacy schema, do yourself a favor and use surrogate keys
p10807
as(dp10808
g23
V571407
p10809
stp10810
a((dp10811
g2
(lp10812
VYou seem to be running your application in Google App Engine's development server
p10813
aVIf your server application is a Google App Engine application, it may not use Hibernate
p10814
aVThe only way to persist data in a GAE application is to use the App Engine DataStore
p10815
aVThe App Engine development server has a security manager that replicates what is done on the actual Google App Engine server, and which forbids the MySQL driver to create and modify thread groups, as the stack trace indicates
p10816
aVIf your server application is a traditional web application intended to be deployed in a standard Java EE appserver (Tomcat, Jetty, GlassFish, etc
p10817
aV, then make it a web application and deploy it in one of those servers
p10818
as(dp10819
g23
V571407
p10820
stp10821
a((dp10822
g2
(lp10823
VAnnotations are newer, and are the standard way of doing for JPA applications
p10824
aVI find them easier to use than XML, but it's a matter of taste and experience
p10825
aVUsing them would make you
p10826
aVlearn something new
p10827
aVready to start a JPA-based project (that could use another implementation)
p10828
aVI've never been in a situation where I needed XML because annotations didn't allow me to do what I wanted
p10829
as(dp10830
g23
V571407
p10831
stp10832
a((dp10833
g2
(lp10834
VWindow - Preferences - Java - Editor - Save Actions - Configure
p10835
aV- Code Style - Use modifier final when possible
p10836
aVThe same option can be found in Java - Code Style - Clean up
p10837
as(dp10838
g23
V571407
p10839
stp10840
a((dp10841
g2
(lp10842
VThe mapping only describes how your entities should be saved to/loaded from the database
p10843
aVIt doesn't automatically insert constraints in the database schema, and does not make sure that all the data you create respects the mapping
p10844
aVYou must create and enable the appropriate constraints in the database schema
p10845
as(dp10846
g23
V571407
p10847
stp10848
a((dp10849
g2
(lp10850
VWhy wouldn't they be in the heap
p10851
aVThey're instances of a class (the enum class), as all other objects
p10852
aVThat doesn't mean they could be garbage-collected
p10853
aVTheir class holds a reference to each of the instances
p10854
as(dp10855
g23
V571407
p10856
stp10857
a((dp10858
g2
(lp10859
VIt's not a bug, it's a feature
p10860
aVSpring's HibernateTemplate and its interceptors around repositories translate exceptions into Spring exceptions
p10861
aVThe idea is that if you have a Hibernate-based DAO, an iBatis-based DAO or a JDBC-based DAO, they all throw the same types of exceptions, so that the client code doesn't have to care
p10862
aVSee http://static
p10863
aVspringsource
p10864
aVorg/spring/docs/3
p10865
ag10
ag2332
aVM2/spring-framework-reference/html/dao
p10866
aVhtml#dao-exceptions
p10867
as(dp10868
g23
V571407
p10869
stp10870
a((dp10871
g2
(lp10872
VThis query doesn't return a
p10873
aVIt returns a
p10874
aVThe  arrays contain one element per requested field
p10875
aVIn your case, each  will contain  at index 0 and  at index 1
p10876
aVThis is of course explained in the reference documentation
p10877
aVThe iteration should thus look like this:
p10878
as(dp10879
g23
V571407
p10880
stp10881
a((dp10882
g2
(lp10883
VThis defeats the whole point of AJAX: avoid loading full pages for every interaction, and thus limit bandwidth usage and be more responsive
p10884
aVWith your design, each interaction needs two requests: one to validate the data, and a second one to load the next full page
p10885
aVYou'd better avoid AJAX completely: it would certainly be more efficient
p10886
aVWhy not returning an error response if validation fails, and a success response with what must be displayed after the post if validation succeeds
p10887
as(dp10888
g23
V571407
p10889
stp10890
a((dp10891
g2
(lp10892
VYour question is far from being clear
p10893
aVIf what you want to do is load all the  instances along with their  parent, the query to use is
p10894
aVThis is of course described in the Hibernate reference documentation
p10895
as(dp10896
g23
V571407
p10897
stp10898
a((dp10899
g2
(lp10900
VIf you want to use the classloader to load your test data, then you can't use
p10901
aVA  instance represents a path in the file system
p10902
aVThe class loads files from the file system, or from jar files, or from zip files, or from somewhere else
p10903
aVThe class loader thus doesn't let you access files, but resources
p10904
aVUse  to load the contents, as an input stream, of the path
p10905
aVtxt file
p10906
aVThis file must be anywhere in the classpath: whether path
p10907
aVtxt is in the file system or in a jar doesn't matter as soon as it can be found in the classpath, in the package
p10908
aVSo if your data files are in a tests folder, which is just under the sources directory of your tests, the path to use should be
p10909
aVNote that this works because Eclipse automatically "compiles" files which are not Java files by just copying them to the output directory (bin or classes, traditionally), and that this directory is in the classpath when you run your tests
p10910
aVIf you want to load this data as text rather than bytes, just wrap the  with an
p10911
as(dp10912
g23
V571407
p10913
stp10914
a((dp10915
g2
(lp10916
VThe idea of coverage tools is to instrument the application code so that when it's run, statistics are collected, and finally written into reports
p10917
aVWether the application code is run by automated tests or by manual tests doesn't matter
p10918
aVIt will work with manual tests, but be of course much longer
p10919
as(dp10920
g23
V571407
p10921
stp10922
a((dp10923
g2
(lp10924
VI'm not sure that automatic refreshes are a good idea: log files are normally very frequently modified, and can quickly become quite long, so you have a risk of constantly rereading a long file to update the area, and this area, being constantly updated, could become hard to read
p10925
aVIf you really want to do that, I think the only solution is to read the file first and store its length or modification date, and then start a thread which, every N seconds, compares the length or modification date with the one stored in memory
p10926
aVIf it has changed, re-read the file and update the text area and the length or modification date
p10927
aVBe careful not to update the text area from the polling thread, but from the event dispatch thread
p10928
aVUse  to do it
p10929
as(dp10930
g23
V571407
p10931
stp10932
a((dp10933
g2
(lp10934
VYou should never put any class in the root package
p10935
aVOnce you have put your Sample class in a package (example: ), you need to declare the servet in the web
p10936
aVxml of your web application, and declare one (at least) mapping for this servlet
p10937
aVYou might follow this tutorial to know how to do it
p10938
aVYou need these lines in the web
p10939
aVxml:
p10940
aVAnd your servlet will be accessible at
p10941
aV/yourWebApp/pages/Sample
p10942
as(dp10943
g23
V571407
p10944
stp10945
a((dp10946
g2
(lp10947
VTransform your  (returned by the query) into a , and then use a JRBeanCollectionDataSource
p10948
aVFor each field of your report, you'll need a corresponding getter in your bean
p10949
aVFor example, the field  will call the method  of the bean
p10950
as(dp10951
g23
V571407
p10952
stp10953
a((dp10954
g2
(lp10955
VWhy would you want a regex for this
p10956
aVA regex is used to test if some string matches or contains an expression
p10957
aVTo do what you want, just use equals:
p10958
aVIt can't be much simpler
p10959
as(dp10960
g23
V571407
p10961
stp10962
a((dp10963
g2
(lp10964
VYou're calling nextElement twice in the loop
p10965
aVYou should call it only once, else it moves ahead twice:
p10966
as(dp10967
g23
V571407
p10968
stp10969
a((dp10970
g2
(lp10971
VStart with a  result
p10972
aVIterate through the list
p10973
aVget the date of the current map
p10974
aVIf the result is  or if the result is bigger than the date of the current map, set the result to the date of the current map
p10975
aVafter the loop, return the result
p10976
aVDates can be compared with , since  implements
p10977
aVIf your dates are in fact strings representing dates, parse the string using
p10978
aVThe javadoc is here: http://download
p10979
aVoracle
p10980
aVcom/javase/6/docs/api/index
p10981
aVhtml
p10982
as(dp10983
g23
V571407
p10984
stp10985
a((dp10986
g2
(lp10987
VIt treats both values as Strings, and compares them lexicographically
p10988
aVTry
p10989
as(dp10990
g23
V571407
p10991
stp10992
a((dp10993
g2
(lp10994
VIn short, you don't want to select the cat, but want to select some of its kittens:
p10995
aVThis will select 3 kitten, each having the same cat
p10996
as(dp10997
g23
V571407
p10998
stp10999
a((dp11000
g2
(lp11001
VYou need to encode the parameter value correctly
p11002
aVIf the URL is generated by a JSP, make sure to use the JSTL  tag:
p11003
aVIf you're using straight Java, use
p11004
aVIf the URL is static, use  instead of
p11005
as(dp11006
g23
V571407
p11007
stp11008
a((dp11009
g2
(lp11010
VSimple, isn't it
p11011
aVSee http://java
p11012
aVsun
p11013
aVcom/products/jsp/syntax/2
p11014
aV0/syntaxref207
p11015
aVhtml#1010522 for a reference
p11016
as(dp11017
g23
V571407
p11018
stp11019
a((dp11020
g2
(lp11021
VThe cousin relationship is a bit strange becaue it's purely symmetric: if A is a cousin of B, then B is also a cousin of A
p11022
aVThis is different from a classical Student-Course relationship, where each side of the relationship has a different role
p11023
aVYou must, however, think of the cousin relationship as a roleA-roleB relationship
p11024
aVYou could define it as person-cousin personId points to the person, and cousinId points to the cousin
p11025
aVSo, if you want to say that the person A has the cousin B, you must have a tuple aId-bId in the join table
p11026
aVIf you also want to say that the person B has the cousin A, you must have a tuple bId-aId in the join table
p11027
aVThe HQL to find all the cousins of a person is thus the following:
p11028
aVThe HQL to find all the persons of a cousin is this one:
p11029
aVThink in terms of roles rather than in terms of table, and it'll become much easier
p11030
aVThinking of a cousin as a child and of a person as a parent is perhaps a good idea, because it makes the association assymetrical and makes the roles more obvious
p11031
as(dp11032
g23
V571407
p11033
stp11034
a((dp11035
g2
(lp11036
VYou could store all the fields and methods in a base class annotated with , and have three different subclasses, each having a different  annotation value
p11037
aVBut it seems like a normalization problem to me
p11038
aVIf you have three tables holding eactly the same columns, why not using a single table with an additional  column
p11039
as(dp11040
g23
V571407
p11041
stp11042
a((dp11043
g2
(lp11044
VYour use-case is a perfect example of a case where a prepared statement should be used
p11045
aVRead more about them in the JDBC tutorial
p11046
aVUsing a prepared statement would allow
p11047
aVavoiding SQL injection attacks
p11048
aVYou should never use string concatenation to build your SQL query
p11049
aVA malicious user could enter some special value which would completely change the meaning of your query
p11050
aVA non-malicious user could enter special characters (quotes, for example) which would make the query fail because it's not syntaxically correct
p11051
aVletting the database prepare the execution plan only once, for all the insert queries you're executing
p11052
aVIndeed, the query is always the same
p11053
aVOnly the parameters change
p11054
aVSo, the code should look like this:
p11055
as(dp11056
g23
V571407
p11057
stp11058
a((dp11059
g2
(lp11060
VThis is because the SequenceGenerator is not really a sequence generator
p11061
aVIt's a sequence hi-lo generator
p11062
aVThis means that the first time it's invoked, it gets the next value from the sequence (6 for example), then multiplies this value by 50 and gives you the result (300)
p11063
aVThe next time it's invoked, it returns 301 (without going to the sequence), and so on until it reaches 349
p11064
aVThen it asks the sequence for the next value and obtains 7, which it multiplies by 50 again to give you 350
p11065
aVMy algorithm description could be off by one, but you get the idea
p11066
aVIf you stop and start your application, it will thus have gaps
p11067
aVBut it's more efficient than a pure sequence generator because it only makes a database call once in 50 generations
p11068
aVSee http://docs
p11069
aVjboss
p11070
aVorg/hibernate/core/3
p11071
aV6/reference/en-US/html_single/#mapping-declaration-id-enhanced-optimizers and http://docs
p11072
aVjboss
p11073
aVorg/hibernate/core/3
p11074
aV6/reference/en-US/html_single/#mapping-declaration-id-generator for details
p11075
as(dp11076
g23
V571407
p11077
stp11078
a((dp11079
g2
(lp11080
VIf you accept to recycle the random numbers, why do you want to wait for the exhaustion of the combinations before recycling
p11081
aVThis makes the numbers less and less random when going to the end of the combination set
p11082
aVThis forces you to maintain some database to know which numbers have already been used and which haven't
p11083
aVI would just generate random numbers, without caring if they've been used already
p11084
aVIf you really really want to keep it like you asked, here's how you could do it:
p11085
aVGenerate all the combinations and put them into a database table
p11086
aVStore the size of this table in some variable
p11087
aVGenerate a random number R between 1 and the size of the table
p11088
aVFetch the combination stored at the Rth row of the table
p11089
aVDelete the Rth row from the table, and decrement the size variable
p11090
aVwhen the table is empty (and the size variable is 0), start again
p11091
aVYou could improve it by moving the used numbers from one table to another, and use the second table instead of the first one when the first table is empty
p11092
aVYou could also do that in memory, if you have enough of it
p11093
as(dp11094
g23
V571407
p11095
stp11096
a((dp11097
g2
(lp11098
VI think it means you're trying to use the IDENTITY ID generator with a table column which is not properly configured
p11099
aVIt should be an auto_increment column for the IDENTITY generator to work
p11100
aVElse, the database doesn't return any generated ID
p11101
as(dp11102
g23
V571407
p11103
stp11104
a((dp11105
g2
(lp11106
VMap the  column to a  relationship
p11107
aVMap the join table to  relationship
p11108
aVDon't provide accessors to the collection of  in
p11109
aVMake the  clear the collection of bars and add the new one to it
p11110
aVThis way, the ManyToMany association is completely encapsulated inside to ManyToOne association handling
p11111
as(dp11112
g23
V571407
p11113
stp11114
a((dp11115
g2
(lp11116
VAnnotations are not inherited
p11117
aVBut the framework using the annotation (in this case, EJB3), can choose to navigate through the class hierarchy to see if it exists on a superclass
p11118
aVLook at the javadoc of this annotation: It has an  property which, precisely, indicates if this annotation should also be applied to subclasses or not
p11119
as(dp11120
g23
V571407
p11121
stp11122
a((dp11123
g2
(lp11124
VA Java program runs in a JVM: Java Virtual Machine
p11125
aVThe actual executed program is the JVM (lauched by the  command)
p11126
aVThis JVM is written in C and/or C++
p11127
aVIts role is to load Java byte-code, interpret it (and compile it to native code), and run it
p11128
aVSome Java methods have the  modifier, and this means that they don't contain any byte-code to execute, but are directly mapped to a native function written in C or C++
p11129
as(dp11130
g23
V571407
p11131
stp11132
a((dp11133
g2
(lp11134
VJust don't let anyone else (than the object holding the vector) access the vector
p11135
aVThis is the only way to make sure that nobody other than the holding object modifies it while iterating on it
p11136
aVReturn and pass copies of the vector from the methods of the holding object, or return/pass an unmodifiable version (using )
p11137
aVReturning an unmodifiable list will break the code doing the  call, of course
p11138
aVSide note:  is obsolete and should not be used anymore
p11139
aVAs you just noticed, the fact that it's synchronized doesn't shield you from concurrent access bugs
p11140
aVSo using an  is better
p11141
as(dp11142
g23
V571407
p11143
stp11144
a((dp11145
g2
(lp11146
VAssuming that what you want is to find all A instances having a specific B ID
p11147
aVIf you had to search on B's name rather than B's ID, you would need a join:
p11148
aVAs always, all this is explained with examples in the reference documentation
p11149
as(dp11150
g23
V571407
p11151
stp11152
a((dp11153
g2
(lp11154
VUse reflection
p11155
aVHere's an example (I haven't checked the exact contract for the serialVersionUID field, though):
p11156
as(dp11157
g23
V571407
p11158
stp11159
a((dp11160
g2
(lp11161
VWhy do you create an embeddable  class to just store a single Integer
p11162
aVYou're making it harder than necessary
p11163
aVJust use an Integer ID as the contact primary key
p11164
aVThis however is not the cause of your problem
p11165
aVYou're trying to persist a user containing a contact in its list of contacts
p11166
aVYour contact's ID is not auto-generated, and you did not assign any ID to this contact ID
p11167
aVHow could JPA save this contact in database
p11168
aVMoreover, you didn't persist the contact, so it's transient
p11169
aVYou must
p11170
aVeither assign an ID tothe contact, or annotate its ID so that it's auto-generated
p11171
aVpersist the contact as well as the user
p11172
aVHere's the code for the Contact entity:
p11173
aVAnd in the code where the user and contact are created:
p11174
as(dp11175
g23
V571407
p11176
stp11177
a((dp11178
g2
(lp11179
VSince you don't have the inverse relationship, and since Criteria doesn't allow selecting another entity than the root entity, you'll have to use a subquery, but it's ugly:
p11180
aVIf you had the inverse OneToMany relationship from B to A, you would just have to do
p11181
aVBTW, these non-dynamically constructed queries are better expressed with HQL than with the criteria API
p11182
aVIf your real query is the one you asked, just use HQL: it's more readable and more powerful
p11183
as(dp11184
g23
V571407
p11185
stp11186
a((dp11187
g2
(lp11188
VInsert a JTable using the GUI builder, reset its model property to the default value, and tweak the construction code so that it looks like
p11189
aVYou may tweak the creation code by right-clicking on the JTable, selecting "Customize code", choosing "custom creation" instead of "default code" in the first combo box, and typing the code for the constructor call
p11190
aVIf you need your jTable1 variable to be of type  rather than , edit the "Variable declaration code" in the same dialog box
p11191
as(dp11192
g23
V571407
p11193
stp11194
a((dp11195
g2
(lp11196
VA  with HTML markup inside
p11197
aVYou'll have to add a  to trigger some action when the link is clicked
p11198
as(dp11199
g23
V571407
p11200
stp11201
a((dp11202
g2
(lp11203
VTextArea is an AWT component, not a Swing component
p11204
aVIt's thus what's called a heavyweight component, which means it's in fact implemented by a native component of the underlying platform/OS (i
p11205
ag468
aVa Windows/Gnome/Motif component, depending on the OS), called the peer of the component
p11206
aVThe painting is thus done by the platform's native widget, and not by the component
p11207
as(dp11208
g23
V571407
p11209
stp11210
a((dp11211
g2
(lp11212
VUse a left join :
p11213
aV(You should in fact explicitely list all the columns and assign aliases to each of them)
p11214
aVThis query will retrieve a row per couple A-B, and will also retrieve all the As which have no B
p11215
aVFor each row, see if you already have an A with the returned A ID
p11216
aVIf not, construct the A and put it in a map (indexed by A ID)
p11217
aVThen construct a B instance with the columns from the B table (unless the returned B ID is null, which means that the A has no B), and add it to the list of Bs of the A you got from the map or just constructed
p11218
aVNote that ORMs like JPA make this tedious work much easier: they populate an object tree from a single request for you
p11219
as(dp11220
g23
V571407
p11221
stp11222
a((dp11223
g2
(lp11224
VThe documentation says:
p11225
aVAccessing a collection performs a query
p11226
aVI read this as: the collection is lazy-loaded
p11227
aVThis means that when you load a Post, its reviews are not laoded
p11228
aVThey will be loaded automatically when you access the collection (i
p11229
ag468
aVwhen calling any method of the collection)
p11230
as(dp11231
g23
V571407
p11232
stp11233
a((dp11234
g2
(lp11235
VIn Java, you should encode every URL parameter with
p11236
aVIn JSP, you should not use scriptlets
p11237
aVUse the JSP EL, the JSTL, and other custom tags
p11238
aVThe JSTL tag to generate URL is
p11239
aVIt takes care of all this:
p11240
as(dp11241
g23
V571407
p11242
stp11243
a((dp11244
g2
(lp11245
VI think some web frameworks (GWT, Axis) already do that, but in a much simpler way: by using a ThreadLocal static variable (or accessible from a singleton)
p11246
aVSpring also has this possibility
p11247
aVI'm not sure it works with all the containers, though
p11248
aVIf the container uses non-blocking IO and reuses the same thread to handle multiple requests in parallel, it won't work anymore
p11249
aVSee Get the HttpServletRequest (request) object from Java code for a similar question (and its answers)
p11250
as(dp11251
g23
V571407
p11252
stp11253
a((dp11254
g2
(lp11255
VThis particular exception should be handled by fixing the bug it reveals: the code is trying to create an object with a null property, and this property may not be null
p11256
aVIt means that the code forgot to populate this property, or didn't handle the validation of the user-entered data correctly
p11257
as(dp11258
g23
V571407
p11259
stp11260
a((dp11261
g2
(lp11262
VScriptlets contain Java code which is executed to generate the HTML page, at server-side
p11263
aVJavaScript code is executed in the user's browser, seconds, minutes or hours later, at client-side
p11264
aVTo do that, you need to trigger an AJAX call from the JavaScript function to some servlet, which will execute the Java method
p11265
aVSide note: JSPs are meant to generate markup, niot to execute business logic
p11266
aVCode your business logic in Java classes, used by a Servlet, then dispatch to a JSP which generates the markup
p11267
aVThe JSP code should only use the JSP EL, the JSTL, and custom JSP tags
p11268
aVNo Java code
p11269
as(dp11270
g23
V571407
p11271
stp11272
a((dp11273
g2
(lp11274
VBut since you just tols that you wanted to use the  annotation to validate a field, then the reqex is sufficient, since, as the javadoc says:
p11275
aVThe annotated String must match the following regular expression
p11276
aVThe
p11277
aVregular expression follows the Java regular expression conventions see
p11278
aVPattern
p11279
aVAccepts String
p11280
aVnull elements are considered valid
p11281
aV(emphasis mine)
p11282
aVSo, just use
p11283
as(dp11284
g23
V571407
p11285
stp11286
a((dp11287
g2
(lp11288
VYou forgot to tell Hibernate what constitutes the key of the map of parameters
p11289
aVAdd the following annotation to this map:
p11290
aVThis tells Hibernate that the paramPK property of the Param entity is the key of the map
p11291
as(dp11292
g23
V571407
p11293
stp11294
a((dp11295
g2
(lp11296
VIf your only problem is to know if the user is logged in, the solution is straightforward
p11297
aVIn the authentication code, once the user is authenticated:
p11298
aVAnywhere in the code:
p11299
aVIf you have a "Logout" action :
p11300
aVThe attributes in the session are stored at server-side
p11301
aVThey're not sent as cookies to the client, so there's no security risk
p11302
as(dp11303
g23
V571407
p11304
stp11305
a((dp11306
g2
(lp11307
V doesn't generate any HTML
p11308
aVIt only iterates through a collection or array
p11309
aVIt does exactly the same thing as , but in a standard way, and with the JSP EL
p11310
as(dp11311
g23
V571407
p11312
stp11313
a((dp11314
g2
(lp11315
VBecause  does a dynamic include (it sort of dispatches the request to the included JSP)
p11316
aVAnd  stores the object inside a page-scoped attribute
p11317
aVBy definition, page-scoped attributes are only visible from the page which defined them
p11318
aVSolutions:
p11319
aVUse a static include:  rather than a dynamic one
p11320
aVput the attribute in a request scoped attribute:
p11321
as(dp11322
g23
V571407
p11323
stp11324
a((dp11325
g2
(lp11326
VServlet 3
p11327
aV0 has the  annotation to define a filter
p11328
aVNo need to declare it in web
p11329
aVxml anymore
p11330
aVSee http://www
p11331
aVservletworld
p11332
aVcom/servlet-tutorials/servlet3/new-features
p11333
aVhtml for an introduction
p11334
aVBut loading a filter from a filter is not supported
p11335
aVYou could implement it yourself: it's "just" the chain of responsibility pattern, but why would you
p11336
as(dp11337
g23
V571407
p11338
stp11339
a((dp11340
g2
(lp11341
VWhy do you think you can't have two separate session factories
p11342
aVThis won't cause any problem, except if you're using a non-clustered second-level cache to store read-write entities
p11343
as(dp11344
g23
V571407
p11345
stp11346
a((dp11347
g2
(lp11348
Vshould do it fine
p11349
aVThe returned grandcat will only have the wanted cats in its cats collection, and each cat will only have the wanted kitten in its kitten collection
p11350
aVBe aware that although Hibernate returns entities, these entities do not reflect the reality of the associations
p11351
aVI would treat them as read-only objects, and not try to modify the associations in any way, because it could have disastrous side effects
p11352
as(dp11353
g23
V571407
p11354
stp11355
a((dp11356
g2
(lp11357
VErr
p11358
aVString
p11359
aVformat seems like a pretty good candidate
p11360
aVWho would have thought
p11361
aV:-)
p11362
aVThere is also MessageFormat
p11363
aVformat
p11364
as(dp11365
g23
V571407
p11366
stp11367
a((dp11368
g2
(lp11369
VThis is because you mapped the same bidirectional association twice: once in  (with  on the list of items), and once in  (with  on the  field)
p11370
aVThe OneToMany side should just be marked as the inverse association of the ManyToOne side, and the list of items should just be annotated with
p11371
aVRemove the  annotation
p11372
as(dp11373
g23
V571407
p11374
stp11375
a((dp11376
g2
(lp11377
VDoes your application deal with documents, or does it deal with orders and discounts
p11378
aVFor example, do you have some page used to search and display documents, regardless of their type
p11379
aVOr do you have some other entity which has an association (ToOne or ToMany) with a document (and not with an order or with a discount)
p11380
aVIf the answer to one of these questions is yes, then  should be an  (which doesn't mean it should have its own table: Hibernate supports three types of inheritance mapping for entities)
p11381
aVIf, in fact,  and  are two unrelated entities which just have a common set of attributes (number, author and creation date), the Document should just be a
p11382
as(dp11383
g23
V571407
p11384
stp11385
a((dp11386
g2
(lp11387
VA string contains characters
p11388
aVThe encoding is irrelevant until you transform the string into bytes
p11389
aVThis happens when you call , or when you write the String to a stream (file, socket, whatever)
p11390
aVMake sure you use an  to write your XML string, and that you specify UTF-8 as charset when constructing this
p11391
aVIf you're using a dedicated marshalling API like JAXB, set the appropriate property so that the UTF-8 encoding is used, and the generated XML contains its encoding (in the  header)
p11392
aVWithout knowing which API you're using to generate your XML string, it's hard to be more helpful
p11393
as(dp11394
g23
V571407
p11395
stp11396
a((dp11397
g2
(lp11398
VThe user will care about the message, because he wanted to do some modification, and the modifications have not been made
p11399
aVHe will thus refresh the page to see the new state of the data, and will redo his modifications, or decide they should not be made anymore given the new state
p11400
aVIs it a problem if two users modify an entity concurrently, and if the last modification wins, whatever the modification is
p11401
aVIf it is a problem, then use optimistic locking, and inform your user when there is a problem
p11402
aVThere's no way around it
p11403
aVIf it's not a problem, then don't use optimistic locking
p11404
aVThe last modification, if it doesn't break constraints in your database, will always win
p11405
aVBut having concurrent users modifying the same data will always lead to exceptions (for example, because some user might delete an entity before some other user submits a modification to the same entity)
p11406
aVRetrying is not an option:
p11407
aVeither it will fail again, because it's just not possible to do the modifications
p11408
aVor it will succeed, but will defeat the point of having optimistic locking in the first place
p11409
aVYour problem could be explained with a car analogy
p11410
aVSuppose you choose to buy a car with a speed limiter, in order to make sure you don't break the speed limit
p11411
aVAnd now you ask: but I don't care about the speed limits
p11412
aVShouldn't I always disable the speed limiter
p11413
aVYou can, but then don't be surprised if you get caught by the police
p11414
as(dp11415
g23
V571407
p11416
stp11417
a((dp11418
g2
(lp11419
VThese accidents hapen, and it's not a problem if SVN keeps them in its history
p11420
aVWhat is important is to fix the accident
p11421
aVThe way to do it is to revert the changes made by this commit
p11422
aVuse the following commands:
p11423
aVIf you're using TortoiseSVN, you could just show the logs, select the commit, and choose "Revert changes from this revision" in the context menu
p11424
aVIt will change your working copy to the previous version, and you'll just have to commit
p11425
aVI guess other graphical clients have the same option
p11426
as(dp11427
g23
V571407
p11428
stp11429
a((dp11430
g2
(lp11431
VUse a
p11432
aVThe code to get the appropriate  would look like this:
p11433
as(dp11434
g23
V571407
p11435
stp11436
a((dp11437
g2
(lp11438
VThe easiest way is probably to use JAXB
p11439
aVIt consists in writing JavaBeans holding the information (in your case, a  and an  class, with the Question class holding a list of answers, and the answer class holding a (sub-)question)
p11440
aVThen, you ave to annotate the classes to tell JAXB how to map the JavaBean properties to XML attributes or elements
p11441
aVAnd then you have to get a Marshaller which will transform your JavaBean tree into an XML document
p11442
aVThe following page has a short tutorial over these steps
p11443
aVGoogling for JAXB will lead you to a more exhaustive documentation: http://www
p11444
aVvogella
p11445
aVde/articles/JAXB/article
p11446
aVhtml#jaxb
p11447
as(dp11448
g23
V571407
p11449
stp11450
a((dp11451
g2
(lp11452
VYou could just use a servlet filter mapped to the  URL pattern
p11453
aVThis filter would check if the user is authenticated and redirect to the login page if not
p11454
aVYou would have to do it manually, but it would be done at one unique place, without impacting the rest of the code
p11455
aVSee http://www
p11456
aVoracle
p11457
aVcom/technetwork/java/filters-137243
p11458
aVhtml for more details about servlet filters
p11459
aVThe security-constraints, AFAIK, can't be used on GAE for authentication
p11460
as(dp11461
g23
V571407
p11462
stp11463
a((dp11464
g2
(lp11465
VBecause you initialize a variable to a value (), and then replace the variable value with another one (the result of ) just after
p11466
aVThe initialization is thus not necessary
p11467
aVYour code is functionally equivalent to
p11468
aVexcept it allocates a new String array which is immediately discarded
p11469
as(dp11470
g23
V571407
p11471
stp11472
a((dp11473
g2
(lp11474
VYou shouldn't catch this exception
p11475
aVFrom the Hibernate reference documentation:
p11476
aVIf the Session throws an exception, including any SQLException,
p11477
aVimmediately rollback the database transaction, call Session
p11478
aVclose()
p11479
aVand discard the Session instance
p11480
aVCertain methods of Session will not
p11481
aVleave the session in a consistent state
p11482
aVNo exception thrown by
p11483
aVHibernate can be treated as recoverable
p11484
aVThis means that other than catching the exception to transform it or wrap it into another kind of exception, catching the exception won't help you: using the session after won't work as expected anyway
p11485
aVSee How to deal with locks (JPA)
p11486
aVfor another question where optimistic locking exception handling is discussed
p11487
as(dp11488
g23
V571407
p11489
stp11490
a((dp11491
g2
(lp11492
VI agree with you, and do the same thing on my current project: this warning is disabled completely in the compiler options
p11493
as(dp11494
g23
V571407
p11495
stp11496
a((dp11497
g2
(lp11498
VTo me, the contract of the listener should be well-defined:
p11499
aVit must return fast (i
p11500
ag468
aVnot pause or sleep the thread, etc
p11501
aV,
p11502
aVit must not throw any runtime exception
p11503
aVIf it does throw a runtime exception, the listener breaks the API contract, and it's thus a bug of the client code of your API, not a bug of the API itself
p11504
aVI wouldn't do anything other than defining and documenting the contract clearly, and explaining the potential impact of breaking the contract (i
p11505
ag468
aVundeterministic state, whatever)
p11506
aVIf the client really wants to protect himself against a programming error, he can still wrap all the listener code inside a try/catch as your example shows
p11507
as(dp11508
g23
V571407
p11509
stp11510
a((dp11511
g2
(lp11512
VThe entity passed to  is made persistent
p11513
aVThat means that, now or later in the transaction, it will be written to database and an ID will be generated for this entity
p11514
aVThe instance itself (the one you passed to ) will have the generated ID assigned to it
p11515
aVSo, just persisting the entity is, most of the time, sufficient, since when the client will call , the transaction where  has been called has been committed already, which means that the entity has an ID
p11516
as(dp11517
g23
V571407
p11518
stp11519
a((dp11520
g2
(lp11521
VLook at Apache commons-lang  class
p11522
aVIt has a  method which will escape the newline chars to , but also the tab, quote and double-quote chars
p11523
as(dp11524
g23
V571407
p11525
stp11526
a((dp11527
g2
(lp11528
VInsert a newline:
p11529
as(dp11530
g23
V571407
p11531
stp11532
a((dp11533
g2
(lp11534
VYou might use JInternalFrames if you like them, or simply use a main panel with a CardLayout, and display the appropriate card depending on the clicked menu item, or the selected JTree node (as it's done in Windows Explorer and similar applications)
p11535
aVUse the Swing tutorial to get you started
p11536
as(dp11537
g23
V571407
p11538
stp11539
a((dp11540
g2
(lp11541
VI agree
p11542
aVYou could use the strategy pattern and define a strategy class for each of the way, but it seems overkill in such a simple situation
p11543
aVI don't see anything wrong in using a partial mock to test this
p11544
as(dp11545
g23
V571407
p11546
stp11547
a((dp11548
g2
(lp11549
VI guess this method is a method of your first screen, which must be a JDialog or a JFrame
p11550
aVJust call  to hide the frame (you may also call  if the dialog won't be used anymore)
p11551
aVAlso, you shouldn't call the main method on JFrameExample
p11552
aVA main method is normally used to start a new application
p11553
aVJust do what the main method does from your action listener (probably )
p11554
aVFinally, an event listener is always invoked in the event dispatch thread (EDT), so there is no point in using  from an event listener
p11555
aVTo recap, here's how the code should look like:
p11556
as(dp11557
g23
V571407
p11558
stp11559
a((dp11560
g2
(lp11561
VI haven't been able to find if (and how) sourceforge offers web hosting for projects, but I think it does (see http://pmd
p11562
aVsourceforge
p11563
aVnet/apidocs/index
p11564
aVhtml, for example, which is the javadoc of PMD, a Java project hosted at sourceforge)
p11565
aVAnyway, I wouldn't try to convert tha javadoc HTML pages to the wikimedia format
p11566
aVInstead, I would host the javadoc HTML pages somewhere (at sourceforge
p11567
aVnet if it's possible, elsewhere if it isn't), and simply link to the javadoc from the wiki
p11568
as(dp11569
g23
V571407
p11570
stp11571
a((dp11572
g2
(lp11573
VThe  annotation of Spring is useful to assign a value other than a constant to a property, using the Spring expression language
p11574
aVFor example, a value read from a properties file
p11575
aVIf all it did was assigning a constant, you could as well use
p11576
aVSo, you might use it to get the value you want from some configuration file or system property
p11577
aVIf what you want is to apply some transformation algorithm to a field, I don't really see the point of using an annotation
p11578
aVJust call a Java method:
p11579
aVThat seems easy to read, test and maintain
p11580
as(dp11581
g23
V571407
p11582
stp11583
a((dp11584
g2
(lp11585
VDon't reinvent the wheel
p11586
aVUse Apache HttpClient
p11587
aVRead this javadoc page for an example of a post containing a file upload and a string parameter:
p11588
as(dp11589
g23
V571407
p11590
stp11591
a((dp11592
g2
(lp11593
VHave you checked the generated SQL
p11594
aVYou're building a predicate and assigning it to , but then you're creating another one and assign it to the same  variable
p11595
aVI think it should rather be:
p11596
aVAlso, why don't you use the meta-model of your entities:
p11597
aVIt would be more type-safe, and you would detect incorrect queries at compilation time rather than runtime
p11598
as(dp11599
g23
V571407
p11600
stp11601
a((dp11602
g2
(lp11603
VThe first node of the  node is a text node containing the  and the four spaces before the  element starts
p11604
aVTo get the comment node, ask its parent for its second node, or for its first element by tag name "comment"
p11605
aVYou may also loop through the childs and return the first node of type
p11606
aVis an element node containing a text node
p11607
aVThe value of the text node is " abcd "
p11608
as(dp11609
g23
V571407
p11610
stp11611
a((dp11612
g2
(lp11613
VIf you're coding some kind of instant messenger, where there should be a very small delay between the post and its appearance in userB's page, then look at Comet, as suggested by Anthony
p11614
aVElse, the most simple way to achieve this is to have the page on userB regularly (every 2, 3, 5, 10 minutes: you decide what's acceptable) poll the server for new messages using an AJAX request
p11615
aVMake sure not to consume your whole bandwidth by doing this, though
p11616
as(dp11617
g23
V571407
p11618
stp11619
a((dp11620
g2
(lp11621
VJavadoc to the rescue:
p11622
aVDeprecated
p11623
aVAs of JDK version 1
p11624
aV1, replaced by
p11625
aVCalendar
p11626
aVget(Calendar
p11627
aVYEAR) - 1900
p11628
aVReturns a value that is the result of subtracting 1900 from the
p11629
aVyear that contains or begins with the instant in time represented by
p11630
aVthis Date object, as interpreted in the local time zone
p11631
aVYou should not use deprecated methods
p11632
aVDeprecated methods are methods which should not be used anymore
p11633
aVBut whatever the method you're using, read its javadoc to know what it does
p11634
as(dp11635
g23
V571407
p11636
stp11637
a((dp11638
g2
(lp11639
VI'm pretty sure it's a bad idea
p11640
aVYou risk to consume all the available file descriptors, and there is no point in opening a reader to a file if you don't want to read from it
p11641
aVIf you want to read from the file, then open a reader, read from the file, and close the reader
p11642
aVThen, do the same for the next file to read from
p11643
aVIf you want a unique abstraction to read from various sources (URLs, files, etc
p11644
aV, then create your own  interface, and multiple implementations which would wrap the resource to read from (URLSource, FileSource, etc
p11645
aVOnly open the actual reader on the wrapped resource when reading from your  instance
p11646
as(dp11647
g23
V571407
p11648
stp11649
a((dp11650
g2
(lp11651
s(dp11652
g23
V571407
p11653
stp11654
a((dp11655
g2
(lp11656
VThe same cell renderer instance is used to render all the cells of the tree
p11657
aVThe open icon is the little + symbol, or triangle symbol at the left of every tree node which allows to expand it (i
p11658
ag468
aVsee its child nodes)
p11659
aVI doubt this is the icon you want to change
p11660
aVIt would be rather strange not to use the same one for all the nodes
p11661
aVIf you want to display a custom icon for a specific node, create a subclass of DefaultTreeCellRenderer, override the  method, decide which icon to display based on the value passed to the method, and call
p11662
aVSee http://download
p11663
aVoracle
p11664
aVcom/javase/tutorial/uiswing/components/tree
p11665
aVhtml#display for a similar example (which customized the tooltip, and not the icon, but the idea is the same)
p11666
as(dp11667
g23
V571407
p11668
stp11669
a((dp11670
g2
(lp11671
VOK
p11672
aVSo you want to load dealers with their makes, and you only want the dealers having an ID greater than a given ID
p11673
aVFirst of all, you could just load dealers
p11674
aVThe list of their makes would automatically be loaded by Hibernate when you would call :
p11675
aVThis has the disadvantage of executing N + 1 queries
p11676
aVSo if you want to load the dealers and their makes in a single query, you need to set a fetch mode so that the makes are loaded
p11677
aVNote that since the join uses the association that you defined between Dealer and Make, you don't need to tell Hibernate that the ID of the dealer table must be equal to the dealer_id of the make table: Hibernate already knows that thanks to the JoinColumn annotation that you put on the association
p11678
aVThe query is thus the following:
p11679
as(dp11680
g23
V571407
p11681
stp11682
a((dp11683
g2
(lp11684
Vis a relatively easy solution to implement, and works on any JPA implementation
p11685
aVHibernate also allows adding functions to a dialect, in order to generate custom SQL
p11686
as(dp11687
g23
V571407
p11688
stp11689
a((dp11690
g2
(lp11691
VWhy not just generate the
p11692
aVjava file during your build, using a custom ant task or Maven plugin
p11693
aVThis seems like a rather easy task which doesn't need any complex library
p11694
aVYou could even use a template file with placeholders for the class name and the field name, and generate the real
p11695
aVjava file using a  task
p11696
as(dp11697
g23
V571407
p11698
stp11699
a((dp11700
g2
(lp11701
VThe classes of a war file are loaded by a specific classloader, to isolate the war from other webapps deployed on the same server, and to be able to undeploy the war
p11702
aVTo be aware of the webapp classes, your plugin classloader should have the webapp classloader as its parent
p11703
aVI'm not aware of all the problems you might have by using an additional classloader, but I suspect you might have memory leaks and other nasty problems (static values kept in memory, etc
p11704
aVwhen the container will undeploy and redeploy the webapp
p11705
aVAnd you might have differences between containers as well
p11706
as(dp11707
g23
V571407
p11708
stp11709
a((dp11710
g2
(lp11711
VThe main advantage of EJBs is that it allows demarcating the transactions declaratively
p11712
aVInstead of writing the same boilerplate code again and again to start a transaction, commit it at the end, rollback if an exception occurs, etc
p11713
aV, this is done for you by the EJB stack
p11714
aVSpring offers the same possibility, BTW
p11715
aVBut what's most important, reading your question and previous comments, is to architect your application correctly
p11716
aVDon't put any Java code in your JSPs
p11717
aVOnly use the JSP EL, the JSTL and other custom tags in your JSPs, which are meant to generate markup
p11718
aVThe business logic should be placed in Java classes (EJBs or not), and these Java classes should be called from a servlet, which would then dispatch to a JSP to generate the markup
p11719
aVThere are plenty of web frameworks to help you architect the application correctly, but also to help you with validation, i18n, templating, etc
p11720
aVLook at Stripes, Spring MVC, Struts, etc
p11721
as(dp11722
g23
V571407
p11723
stp11724
a((dp11725
g2
(lp11726
VAdd an  to each internal frame added to the desktop pane, and each time an event is triggered, execute the code you have shown in your question
p11727
aVThis code could be better written though:
p11728
aVtakes a primitive boolean as argument, not a
p11729
aVUse  and  rather than  and
p11730
aVThe expression  evaluates as a boolean
p11731
aVJust write
p11732
aVinstead of
p11733
as(dp11734
g23
V571407
p11735
stp11736
a((dp11737
g2
(lp11738
VIf you add an instance of  to the list, and then check if it contains another instance of , it will always return false, unless you override the  method in your custom class
p11739
aVThe equals method checks if another object is functionally equal to this object
p11740
aVMake sure to override the  method each time you override the equals method
p11741
aVshould return the same value for two equal objects
p11742
aVAlso, equals should be written so that it's symmetric:  if and only if
p11743
aVCheck equals and hashCode in the javadoc of
p11744
as(dp11745
g23
V571407
p11746
stp11747
a((dp11748
g2
(lp11749
V doesn't sort
p11750
aVIt just reverse the order of the elements of the list
p11751
aVSo if the list contains , it will contain
p11752
aVYour code snipper initialize a comparator, but doesn't do anything with it
p11753
aVAnd this comparator only works, as the javadoc says, if the elements of the collection implement the  interface
p11754
aVYou should either make the  class implement the  interface (look at its javadoc to know what this interface must do), or you must use a specific  implementation
p11755
aVWhatever the chosen solution is, you'll have to implement some code to tell  how the songs compare with each other
p11756
aVIs a song before another one when its title comes before the other song's title
p11757
aVOr is it when its duration is shorter than the other one
p11758
aVSee Sorting an ArrayList of Contacts
p11759
as(dp11760
g23
V571407
p11761
stp11762
a((dp11763
g2
(lp11764
VIt doesn't work because your label doesn't have any text, so it's size is [0, 0], and it's thus not visible at all
p11765
aVConstruct it with , and it will work as expected
p11766
as(dp11767
g23
V571407
p11768
stp11769
a((dp11770
g2
(lp11771
VSwing uses layout managers to layout components inside their container
p11772
aVRead the swing tutorial about layout managers
p11773
as(dp11774
g23
V571407
p11775
stp11776
a((dp11777
g2
(lp11778
VIt's almost always unnecessary
p11779
aVIt could be useful if the modifications made in the session cause some modifications when flushed in database, and these modifications can't be detected by Hibernate
p11780
aVFor example, if some insert to table A causes a trigger to execute, if this trigger inserts rows to table B, and if you execute a query on table B
p11781
aVIn this case, Hibernate can't detect that flushing the session is needed before the HQL query is executed
p11782
as(dp11783
g23
V571407
p11784
stp11785
a((dp11786
g2
(lp11787
VThe library name is the name of the DLL file, without its
p11788
aVdll extension
p11789
aVThe DLL must be in one of the directories of the windows PATH environment variable to be loaded
p11790
as(dp11791
g23
V571407
p11792
stp11793
a((dp11794
g2
(lp11795
VYou won't be able to do that using standard JPA annotations and an embeddable object, because the object will have to be created using a default constructor, and the value set via reflection
p11796
aVYou could however use a Hibernate custom type
p11797
aVRead this part of the Hibernate reference documentation, where there is an example  type, which is instantiated using a constructor with arguments, and could thus be immutable
p11798
as(dp11799
g23
V571407
p11800
stp11801
a((dp11802
g2
(lp11803
VAll the other threads trying to execute another static synchronized method of the same class, or any other method synchronized on this  instance will be blocked
p11804
as(dp11805
g23
V571407
p11806
stp11807
a((dp11808
g2
(lp11809
VYou need to have all the jars in the classpath when running the application:
p11810
aVIf it's a Java EE web application, the build process should copy all these jars to the  folder of the generated web app structure
p11811
as(dp11812
g23
V571407
p11813
stp11814
a((dp11815
g2
(lp11816
VThe gfeed API contacts Google to get the feeds
p11817
aVAnd since the JavaScript code also comes from Google, it doesn't have any cross-domain problem
p11818
aVIn short: it needs a server-side component to work, but the server-side component is hosted by Google and not by yourself
p11819
as(dp11820
g23
V571407
p11821
stp11822
a((dp11823
g2
(lp11824
VNo, it won't rollback if you catch the exception thrown by the call to ejb2
p11825
as(dp11826
g23
V571407
p11827
stp11828
a((dp11829
g2
(lp11830
VAnd before executing this query, call  on the Query object
p11831
as(dp11832
g23
V571407
p11833
stp11834
a((dp11835
g2
(lp11836
VYou could use the  annotation on the  property
p11837
aVBut this would only work when reading the association
p11838
aVIf you want to be able to set  to null, and make it insert -1 instead of null in database, I have no idea
p11839
as(dp11840
g23
V571407
p11841
stp11842
a((dp11843
g2
(lp11844
VYes
p11845
aVRead the data, from anywhere you want, in your application
p11846
aVThen build a list of objects obeying the JavaBeans conventions, and use a
p11847
aVJasper will iterate through the list of beans, and the field  will have the value of the result of  on the current bean
p11848
as(dp11849
g23
V571407
p11850
stp11851
a((dp11852
g2
(lp11853
VIf you only have this condition once in your code, I would let it like this
p11854
aVIf you have it several times, initialize a constant set:
p11855
as(dp11856
g23
V571407
p11857
stp11858
a((dp11859
g2
(lp11860
V means "some type, I don't know which one, which is or extends Foo"
p11861
aVWhen constructing the data model, you need to tell him which type of data it contains, not just one unknown type
p11862
aVJust construct your data model like this:
p11863
aVUnfortunately, the  constructor only accepts a , and not a
p11864
aVIt seems to me like a misconception
p11865
aVFor example the  constructor takes a  as argument
p11866
aVIf you accept the type safety warning, just casting your list to a  should work
p11867
as(dp11868
g23
V571407
p11869
stp11870
a((dp11871
g2
(lp11872
VInstead of relying on the type of the Java object returned, ask the resultset for the actual database type of the column:
p11873
aVor
p11874
aVSee http://download
p11875
aVoracle
p11876
aVcom/javase/6/docs/api/java/sql/ResultSetMetaData
p11877
aVhtml
p11878
aVThe javadoc is such a valuable source of information
p11879
as(dp11880
g23
V571407
p11881
stp11882
a((dp11883
g2
(lp11884
VThere's perhaps a more elegant way, but the only one I've found is to query for all the users for which there doesn't exist any role in the user's roles which has the given role name
p11885
aVThis is done like this:
p11886
aVIt's equivalent to the following HQL query:
p11887
as(dp11888
g23
V571407
p11889
stp11890
a((dp11891
g2
(lp11892
VIf  is an implementation of , and if you know it contains  instances, just cast it to
p11893
aVYou'll get a type safety warning, but it's not less safe than casting each element of the  to
p11894
as(dp11895
g23
V571407
p11896
stp11897
a((dp11898
g2
(lp11899
VThe reason of the strange painting is indeed the exception thrown by the listener
p11900
aVThe solution is to avoid exceptions in listeners
p11901
aVEmbedding every listener code inside a try/catch block is not the solution, though
p11902
aVThe solution is to avoid bugs, and fix them when they appear
p11903
aVThe strange painting, along with the stack trace of the exception, is what allows you to detect when you have a bug in your listener code
p11904
aVA NullPointerException should never happen
p11905
aVIf it happens, you have a bug
p11906
aVCatching the exception and swallowing it will only make the bug worse, because it will be undetected and will, for example, cause the display of wrong information to the user, which could make a disastrous action based on this wrong information
p11907
as(dp11908
g23
V571407
p11909
stp11910
a((dp11911
g2
(lp11912
VYou have two problems:
p11913
aVYou declare the parameter as , but you pass an array of Strings (a varargs argument is in fact an array)
p11914
aVYou must use , and not , to pass a collection of values
p11915
as(dp11916
g23
V571407
p11917
stp11918
a((dp11919
g2
(lp11920
V means all the files ending with  and being a a direct subdirectory of the fileset dir
p11921
aVIs it what you want
p11922
aVDon't you rather want , which means any file ending with , in the fileset dir or in any subdirectory of the fileset dir, recursively
p11923
as(dp11924
g23
V571407
p11925
stp11926
a((dp11927
g2
(lp11928
VJDBC is the API to use to access relational database
p11929
aVUseful performance and security tips:
p11930
aVuse prepared statements
p11931
aVuse  queries to load many rows at once, but beware on the limit in the number of values in the  clause (1000 max in Oracle)
p11932
aVuse batched statements to make your updates, rather than executing each update separately (see http://download
p11933
aVoracle
p11934
aVcom/javase/1
p11935
aV3/docs/guide/jdbc/spec2/jdbc2
p11936
ag10
aVframe6
p11937
aVhtml)
p11938
aVSee http://download
p11939
aVoracle
p11940
aVcom/javase/tutorial/jdbc/ for a tutorial on JDBC
p11941
as(dp11942
g23
V571407
p11943
stp11944
a((dp11945
g2
(lp11946
VI would suggest using OpenCSV
p11947
aVIf you just split on the comma separator, and you happen to have a single cell text containing a comma, but which is enclosed in double quotes to make it clear that it's a single cell, the split method won't work:
p11948
aVOpenCSV will let you read each line as an array of Strings, handling this problem for you, and you can of course store each array inside a List
p11949
aVYou will need a custom comparator to sort your list of lines
p11950
aVSearch StackOverflow: the question of how to sort a list comes back twice a day here
p11951
as(dp11952
g23
V571407
p11953
stp11954
a((dp11955
g2
(lp11956
VI think the AUTO generation type, in Oracle, is in fact a sequence generator
p11957
aVIf you don't specify which sequence it must use, Hibernate is probably creating one for you and using it, and its default start value is 1
p11958
aVUsing AUTO is useful for quick prototyping
p11959
aVFor a real application, use a concrete generation type (SEQUENCE, for Oracle), and create your sequences yourself with an appropriate start value to avoid duplicate keys
p11960
as(dp11961
g23
V571407
p11962
stp11963
a((dp11964
g2
(lp11965
VJavaScript is executed at client side, and scriptlets, EL, and JSP tags at server side
p11966
aVFrom the point of view of the server-side code, JavaScript is just generated text, just like HTML markup
p11967
aVSo, if you want to have a JavaScript loop which loops over a JavaScript array in the generated HTML page, you need to generate the JavaScript code which initializes the array, and the JavaScript loop
p11968
aVHere's the JSP code
p11969
aVThis JSP code will generate the following JavaScript code, assuming the list in the session attribute contains "banana", "apple" and "orange":
p11970
aVMake sure, though, to properly escape the values of the list in order to generate valid JavaScript code
p11971
aVFor example, if one of the values was , the generated JavaScript would be
p11972
aVwhich is not valid anymore
p11973
aVUse commons-lang StringEscapeUtils
p11974
aVescapeEcmaScript to escape the values
p11975
as(dp11976
g23
V571407
p11977
stp11978
a((dp11979
g2
(lp11980
VThe resource bundles must be somewhere in the classpath of the webapp
p11981
aVWhether they're in , or in a jar of  doesn't matter
p11982
aVWhat's important is that  uses the classloader to load them
p11983
aVI would put them in the same location as the classes using them
p11984
as(dp11985
g23
V571407
p11986
stp11987
a((dp11988
g2
(lp11989
Vshould do the trick
p11990
aVYou need to have a  method in your UI class, returning an instance of your UI
p11991
as(dp11992
g23
V571407
p11993
stp11994
a((dp11995
g2
(lp11996
V doesn't remove any element from the list
p11997
aVFrom the javadoc:
p11998
aVTrims the capacity of this ArrayList instance to be the list's current
p11999
aVsize
p12000
aVAn application can use this operation to minimize the storage of
p12001
aVan ArrayList instance
p12002
aVThe capacity is the size of the array used by the  internally
p12003
aVIf your list contains 6 elements and has a capacity of 10, the last 4 elements of the array are null
p12004
aVCalling  will just make the list use an array of 6 instead of 10
p12005
aVJust don't add anything to the list once its size is 5, instead of adding, and then trying to remove
p12006
as(dp12007
g23
V571407
p12008
stp12009
a((dp12010
g2
(lp12011
VYou may not have joins in such a HQL query
p12012
aVQuote from the reference documentation:
p12013
aVNo joins, either implicit or explicit, can be specified in a bulk HQL
p12014
aVquery
p12015
aVSub-queries can be used in the where-clause, where the
p12016
aVsubqueries themselves may contain joins
p12017
aVSo I guess something like this should work:
p12018
as(dp12019
g23
V571407
p12020
stp12021
a((dp12022
g2
(lp12023
VJavadoc to the rescue:
p12024
aVCreates a new File instance by converting the given pathname string
p12025
aVinto an abstract pathname
p12026
aVIf the given string is the empty string,
p12027
aVthen the result is the empty abstract pathname
p12028
aVParameters:
p12029
aVpathname - A pathname string
p12030
aVThe File constructor takes an abstract path name as argument, not the toString representation of a URL
p12031
aVBesides,  is deprecated
p12032
aVYou might use , and reconstruct the file with this URI
p12033
as(dp12034
g23
V571407
p12035
stp12036
a((dp12037
g2
(lp12038
VThe problem probably comes from the fact that you mapped the same bidirectional association twice
p12039
aVIf you tell Hibernate twice about the same join table or join column, there is a problem
p12040
aVIn a bidirectional association, one of the ends of the association must map the association, and the other one must tell Hibernate that it's the inverse of the other end, using the  attribute
p12041
aVSince a many-to-many is completely symmetric, choose one of the end to be the owner (i
p12042
ag468
aVthe end which maps the association, and thus have the  annotation)
p12043
aVThe other side is just the inverse, and thus doesn't have a  annotation, but has a  attribute
p12044
aVExample:
p12045
aVAdditional notes:
p12046
aVtargetEntity isn't useful, since Hibernate knows it thanks to the generic type of the
p12047
aVIt would be useful if the Set was a
p12048
aVCascadeType
p12049
aVALL is certainly not what you want
p12050
aVDo you want to delete all the roles of a user when deleting a user
p12051
aVWhat should happen to the other users having these roles
p12052
aVYou should almost always initialize both ends of a bidirectional association
p12053
aVHibernate takes into account the owner end (i
p12054
ag468
aVthe end without the  attribute) to persist the association
p12055
aVAll of this is explained in the Hibernate reference documentation
p12056
aVRead it: it's full of useful information, and is not hard to understand
p12057
as(dp12058
g23
V571407
p12059
stp12060
a((dp12061
g2
(lp12062
VThe model is the class holding your data
p12063
aVIt must tell its view each time the data changes, so that the view refreshes itself and shows the new data of the model
p12064
aVThis is the goal of the methods
p12065
aVLike with the other Swing components, when you change the data displayed by the component, you should thus do it by changing the data in the model, and call the appropriate fireXxx methods
p12066
aVThe best thing to do is to encapsulate this in the model class, by adding specific methods in your subclass of AbstractTreeTableModel which perform the data modification and fire the appropriate event using one or several calls to
p12067
aVI suggest you read the Swing tutorial about tables and or trees and then apply what you learn here to your tree table
p12068
aVThe idea is the same
p12069
as(dp12070
g23
V571407
p12071
stp12072
a((dp12073
g2
(lp12074
VI've had bugs though when a single-table inheritance type was chosen (using a discriminator), and where I had to use
p12075
aVNote that  is an implicit property
p12076
aVYou don't need to define anything special in the entity to make it work
p12077
as(dp12078
g23
V571407
p12079
stp12080
a((dp12081
g2
(lp12082
V might be what you're looking for
p12083
aVI'm surprised it takes so much RAM to read a file in memory, though
p12084
aVHave you constructed the ByteArrayOutputStream with an appropriate capacity
p12085
aVIf you haven't, the stream could allocate a new byte array when it's near the end of the 40 MB, meaning that you would, for example, have a full buffer of 39MB, and a new buffer of twice the size
p12086
aVWhereas if the stteam has the appropriate capacity, there won't be any reallocation (faster), and no wasted memory
p12087
as(dp12088
g23
V571407
p12089
stp12090
a((dp12091
g2
(lp12092
VThe table model of your JTable should have a column "download progress", holding the download percentage value (i
p12093
ag468
aVa number between 0 and 100)
p12094
aVYou should associate a custom table cell renderer to this column
p12095
aVThe renderer would use a progress bar to display the percentage contained in the table cell (i
p12096
ag468
aVthe  argument of the unique method of )
p12097
aVTo update the progress bar, you should set a new value for the appropriate cell in the table model
p12098
aVThis change will then fire a  (it's done automatically with a , but you have to call  if you're subclassing )
p12099
aVThe event will be "caught" by the JTable which will refresh the value and thus call your renderer with the new value to display
p12100
aVRead the swing tutorial about tables
p12101
as(dp12102
g23
V571407
p12103
stp12104
a((dp12105
g2
(lp12106
VThe iteration is O(n), where n is the capacity (i
p12107
ag468
aVthe number of buckets) of the map
p12108
aVBut normally, you shouldn't have a capacity of 100000 to store 6 keys
p12109
aVThis means that O(size) should be O(capacity), which means that iteration is also normally O(size)
p12110
as(dp12111
g23
V571407
p12112
stp12113
a((dp12114
g2
(lp12115
VBlocks define a local scope, but don't allow you to redefine a variable with the same name as another variable in an outer local scope
p12116
aVIf it did, there would be no way to access the "hidden" variable
p12117
as(dp12118
g23
V571407
p12119
stp12120
a((dp12121
g2
(lp12122
VIn HQL, joins can only be done on associations between entities
p12123
aVIf you want a join on something else, the only possibility is to make the join in the where clause:
p12124
as(dp12125
g23
V571407
p12126
stp12127
a((dp12128
g2
(lp12129
VI guess opening an input stream on the file should modify its access time
p12130
aVBut I don't know of any API to directly modify this attribute in Java 6
p12131
as(dp12132
g23
V571407
p12133
stp12134
a((dp12135
g2
(lp12136
VIt's pretty rare to have general purpose, reusable servlets (except if you're developing a framework)
p12137
aVBut if you have one, putting it in a jar to make it reusable by several webapps is the way to go
p12138
as(dp12139
g23
V571407
p12140
stp12141
a((dp12142
g2
(lp12143
VYou may add  to the OneToOne annotation of
p12144
aVNote that it has nothing to do with inheritance
p12145
as(dp12146
g23
V571407
p12147
stp12148
a((dp12149
g2
(lp12150
VYes
p12151
aVwill create a file names "filex
p12152
aVtxt" in the directory base
p12153
aVThere is no need to create a  File instance with just the relative name if what you want to do is make it relative to another directory than the current one
p12154
as(dp12155
g23
V571407
p12156
stp12157
a((dp12158
g2
(lp12159
VI would extend  and use the Set/subSet directly as the source of the data displayed by the JList
p12160
aVEach time you replace the current subset by another one in the model, call  to make the view (the JList) aware of the change
p12161
aVThis way, there's no need to convert the Set to a Vector
p12162
as(dp12163
g23
V571407
p12164
stp12165
a((dp12166
g2
(lp12167
VYes
p12168
aVSpecify the appropriate encoding when constructing your InputStreamReader
p12169
aVIf your file is UTF-8 encoded, use
p12170
as(dp12171
g23
V571407
p12172
stp12173
a((dp12174
g2
(lp12175
VThe use of a criteria query is appropriate in this case, because if I understood correctly, you need to construct the SQL query dynamically
p12176
aVIf all the variables except var1 are null, the where clause would be
p12177
aVand if all variables except var2 and var5 are non null you would have
p12178
aVIs that right
p12179
aVIf so, then do what you plan to do, and construct the query dynamically using a criteria query
p12180
aVSomething like this must be done:
p12181
as(dp12182
g23
V571407
p12183
stp12184
a((dp12185
g2
(lp12186
VThe propagation is not about propagating failures
p12187
aVmeans: if there is already a transaction running, do the work (in the template callback) in the current transaction
p12188
aVIf there is no transaction running, start a new one, execute the work in the callback, and then commit the transaction (or rollback it if there is a runtime exception)
p12189
aVIn all the cases, a runtime exception is always propagated to the caller
p12190
aVIt also cause the transaction to rollback, even if it wasn't started by this template
p12191
as(dp12192
g23
V571407
p12193
stp12194
a((dp12195
g2
(lp12196
VYou won't be able to delete it from the repository, but you will be able to commit a change which will undo all the commits from 4 to 27
p12197
aVSee http://svnbook
p12198
aVred-bean
p12199
aVcom/nightly/en/svn
p12200
aVbranchmerge
p12201
aVbasicmerging
p12202
aVhtml#svn
p12203
aVbranchmerge
p12204
aVbasicmerging
p12205
aVundo and my answer in SVN Revert Trunk, remove a revision as if it never existed
p12206
as(dp12207
g23
V571407
p12208
stp12209
a((dp12210
g2
(lp12211
VUse  and iterate over the returned list of HtmlTable objects until you find the table you want to find
p12212
as(dp12213
g23
V571407
p12214
stp12215
a((dp12216
g2
(lp12217
VThe proper JSTL core taglib declaration is
p12218
aVTry with this one and see if it solves the problem
p12219
as(dp12220
g23
V571407
p12221
stp12222
a((dp12223
g2
(lp12224
VHave you looked at existing coverage tools (Cobertura, Clover, Emma,
p12225
aVI'm not sure if one of them is able to link the coverage data to test cases, but at least with Cobertura, which is open-source, you might be able to do the following:
p12226
aVinstrument the classes with cobertura
p12227
aVdeploy the instrumented web app
p12228
aVstart a test suite
p12229
aVafter each test, invoke a URL on the web app which saves the coverage data to some file named after the test which has just been run, and resets the coverage data
p12230
aVafter the test suite, generate a cobertura report for every saved file
p12231
aVEach report will tell which code has been run by the test
p12232
aVIf you need a merged report, I guess it shouldn't be too hard to generate it from the set of saved files, using the cobertura API
p12233
as(dp12234
g23
V571407
p12235
stp12236
a((dp12237
g2
(lp12238
VI think the only ways are
p12239
aVto execute a dedicated HQL request to get all the attendees of an event:
p12240
aVto have a method in Event which returns a copy of the list of attendeed, sorted using a dedicated Comparator
p12241
as(dp12242
g23
V571407
p12243
stp12244
a((dp12245
g2
(lp12246
VWhen a web application starts, it fires a  which goes to every registered
p12247
aVThese listeners must be configured in the web
p12248
aVxml of the application:
p12249
as(dp12250
g23
V571407
p12251
stp12252
a((dp12253
g2
(lp12254
VSee http://docs
p12255
aVjboss
p12256
aVorg/hibernate/validator/4
p12257
aV2/reference/en-US/html_single/#validator-checkconstraints-orm
p12258
aVBy default, Hibernate (the ORM) checks every constraint of the default validation group
p12259
aVSo you might put this particular constraint into another group
p12260
aVSee http://docs
p12261
aVjboss
p12262
aVorg/hibernate/validator/4
p12263
aV2/reference/en-US/html_single/#validator-usingvalidator-validationgroups for explanations on validation groups
p12264
as(dp12265
g23
V571407
p12266
stp12267
a((dp12268
g2
(lp12269
VIn Java, a String contains unicode characters, and you don't care about its encoding until you transform it to a byte array
p12270
aVLook at
p12271
aVIf you have a byte array and want to make it a String, you also need to specify the encoding
p12272
aVThe String class has a constrcutor where you pass a byte array and its encoding as argument
p12273
aVIO classes also have a way to write/read strings to/from a binary stream using a specific encoding
p12274
aVLook at the constructors of  and
p12275
as(dp12276
g23
V571407
p12277
stp12278
a((dp12279
g2
(lp12280
VYou can't store a new file dynamically in a running war
p12281
aVYou may use an external directory to store the serialized object in a file, though, or store it in a database
p12282
as(dp12283
g23
V571407
p12284
stp12285
a((dp12286
g2
(lp12287
VYou can't compare Strings with
p12288
aVtests if both objects are the same instance, not if their contents is the same
p12289
aVUse  instead
p12290
as(dp12291
g23
V571407
p12292
stp12293
a((dp12294
g2
(lp12295
VYes
p12296
aVAssigning an object reference to a variable doesn't modify the state of the object
p12297
aVThe object is, BTW, unable to know if it's assigned to 0, 1 or several variables
p12298
aVMoreover, note that the second timer is assigned to a different variable than the first one, since you instantiate two TimerTest objects, each having their own timer field
p12299
as(dp12300
g23
V571407
p12301
stp12302
a((dp12303
g2
(lp12304
VYour first approach seems OK
p12305
aVYou could combine both types of runnables by passing the  object to its constructor (or pass -1 as the max number of times it must run), and use this mode to determine if the runnable must be canceled or not :
p12306
aVYou'll have to pass the scheduled future to your task in order for it to cancel itself, or you might throw an exception
p12307
as(dp12308
g23
V571407
p12309
stp12310
a((dp12311
g2
(lp12312
VA Java application doesn't stop when its main method returns
p12313
aVIt exits when  is called, or when there is no non-daemon thread running anymore
p12314
aVSo if the main method starts a Swing or AWT GUI, and then returns, an event dispatch thread is started , and the application keeps running
p12315
aVLikewise, if it starts a background thread and this thread is not a daemon, the background thread keeps the programm running until System
p12316
aVexit is called
p12317
as(dp12318
g23
V571407
p12319
stp12320
a((dp12321
g2
(lp12322
VIf you have mapped each of these associations as OneToOne JPA associations between entities, you could use the following query (in HQL or criteria):
p12323
aVThen test if the returned array contains the ID or null for each table
p12324
aVIf these associations are not mapped as JPA associations, you could use a native SQL query doing the same thing as the HQL query above:
p12325
as(dp12326
g23
V571407
p12327
stp12328
a((dp12329
g2
(lp12330
VYou might encapsulate every modification to the list of bars, and mark the entity as dirty (by setting the modification date to another value, for example) each time the list is modified:
p12331
aVNote that this will generate more queries, because adding a bar normally needs just one insert in the bar table (and one in the join table if a join table is used)
p12332
aVNow every bar addition will also cause an update in the Foo table
p12333
as(dp12334
g23
V571407
p12335
stp12336
a((dp12337
g2
(lp12338
VI think a disjunction is what you're looking for
p12339
aVIt's false by default, until some real predicate is ed to it
p12340
as(dp12341
g23
V571407
p12342
stp12343
a((dp12344
g2
(lp12345
VOnce you get an exception from a JPA method, you must consider that the transaction must be rolled back, and the EM must be closed: the first-level cache is in a bad state and can't be recovered
p12346
aVSee http://docs
p12347
aVjboss
p12348
aVorg/hibernate/entitymanager/3
p12349
aV6/reference/en/html_single/#transactions-demarcation-exceptions for details
p12350
aVUse  rather than , and test for null
p12351
aVis used when you know an entity with the given ID exists
p12352
aVAnd it thus throws an exception if it appears later that it doesn't, but it's already too late
p12353
aVWhereas  executes a query to get the state of the entity, and returns null if it doesn't exist
p12354
aVYou may create the entity if it doesn't exist yet, or delete it if it exists
p12355
aVMoreover, it appears that you're expecting the tests to run in a fixed order
p12356
aVYou shouldn't
p12357
aVEach unit test should run separately, and should run whether or not a previous test has already been run
p12358
aVUse a method annotated with  to execute some cleanup after each test
p12359
as(dp12360
g23
V571407
p12361
stp12362
a((dp12363
g2
(lp12364
V is not used by java
p12365
aVexe
p12366
aVMake sure to have the path of the Java 6 JRE's  directory in the PATH environment variable, before the Java 7 JRE's one, and before windows system directory (system32)
p12367
aVOr you can use the full path of the java command:
p12368
as(dp12369
g23
V571407
p12370
stp12371
a((dp12372
g2
(lp12373
VOne cart item references one product
p12374
aVBut a single product is referenced by several cart items
p12375
aVSo it's a one-to-many association
p12376
aVOne shopping cart as several items, and an item is part of one shopping cart, so it's also a one-to-many association
p12377
aVWhen you have a bidirectional OneToMany association, the owner side of the association is always the many side
p12378
aVThe owner side of an association is the side where there is no  attribute
p12379
aVIndeed,  means "I'm just the other side of an association, which is already mapped by the following attribute"
p12380
aVNote that the way the asociation is mapped (join column, join table) must only be defined on the owner side, where the  attribute is absent
p12381
aVWhen you have a unidirectional association, there is only one place where the mapping can be defined, and the mappedBy attribute is thus never used
p12382
aVSo, your entities should be mapped like this:
p12383
aVIf you want your cart item to know about its owning shopping cart, your association becomes bidirectional, and the entities become:
p12384
as(dp12385
g23
V571407
p12386
stp12387
a((dp12388
g2
(lp12389
VThere are basically two ways of doing it:
p12390
aVtransform the set into a list using a deterministic order, and test if all items in the list are the expected items
p12391
aVYou will indeed need a comparator
p12392
aVuse some predicate and test if any item in the set satisfies the predicate
p12393
aVGuava might be useful here with its  class and its  method
p12394
as(dp12395
g23
V571407
p12396
stp12397
a((dp12398
g2
(lp12399
VThis is well described in the Spring documentation:
p12400
aVFor EJB 3 Session Beans and Message-Driven Beans, Spring provides a
p12401
aVconvenient interceptor that resolves Spring 2
p12402
aV5's @Autowired
p12403
aVannotation in the EJB component class:
p12404
aVorg
p12405
aVspringframework
p12406
aVejb
p12407
aVinterceptor
p12408
aVSpringBeanAutowiringInterceptor
p12409
aVThis interceptor can be applied through an @Interceptors annotation in
p12410
aVthe EJB component class, or through an interceptor-binding XML element
p12411
aVin the EJB deployment descriptor
p12412
aVStateless EJBs and Spring beans, however, offer more or less the same possibilities
p12413
aVMixing them together seems like unnecessary complexity
p12414
as(dp12415
g23
V571407
p12416
stp12417
a((dp12418
g2
(lp12419
VThe way you want it (static final field) is what is usually done, and recommended by PMD
p12420
aVIf you have a logger, there is a good chance it's used, so initializing it lazily won't gain anything in terms of memory, and certainly not much in performance
p12421
aVI would capitalize it , though, since it's a constant
p12422
as(dp12423
g23
V571407
p12424
stp12425
a((dp12426
g2
(lp12427
VThese are called arrays
p12428
aVIf you don't know what those are, you should read an introductory book about programming (in Java), rather than asking questions here
p12429
aVYou may also read the Java tutorial about basics of the language
p12430
as(dp12431
g23
V571407
p12432
stp12433
a((dp12434
g2
(lp12435
VYou probably haven't understood things correctly
p12436
aVDatabase access should, most of the time, be made inside a transaction, which guaranteed ACIDity
p12437
aVAnd in the same transaction, you'll have selects, inserts, updates and deletes
p12438
aVHaving 4 different users (and thus 4 seperate connections, and thus 4 separate transactions) for each kind of operation is just a VERY bad idea
p12439
as(dp12440
g23
V571407
p12441
stp12442
a((dp12443
g2
(lp12444
VYes, that's precisely what  ( if using JPA) is for
p12445
aVIt loads a proxy to the object, assuming the entity exists
p12446
aVOf course, you might have an exception if at commit time, a foreign key constraint breaks because the person doesn't actually exist
p12447
aVBut you might also have it with  if some other transaction deletes the person before committing
p12448
aVIf you really want to check that the person exists, execute a dedicated query returning just a boolean (or a count), and the use  when you know that the person exists:
p12449
as(dp12450
g23
V571407
p12451
stp12452
a((dp12453
g2
(lp12454
VA cookie is held in memory (or on disk, but at a specific place) by each client
p12455
aVA Java client and a browser don't share cookies
p12456
aVTwo different browsers (IE and Firefox, for example) don't share cookies either
p12457
aVThere is no way to do what you want
p12458
as(dp12459
g23
V571407
p12460
stp12461
a((dp12462
g2
(lp12463
VLog4J has a
p12464
aVJava logging has , which offers similar functionality
p12465
aVOther logging frameworks might have the same functionality
p12466
aVCheck the documentation for your logging framework to know if it exists or not
p12467
as(dp12468
g23
V571407
p12469
stp12470
a((dp12471
g2
(lp12472
VBecause the super constructor is first called ()
p12473
aVThis super constructor calls the method foo
p12474
aVThen the Derived constructor initializes y to 20 ()
p12475
aVSo when foo is called,  is not initialized yet
p12476
aVIt's a bad practice to call overridable methods in constructors, because, as you just noticed, it can call overridden methods on partially constructed objects
p12477
as(dp12478
g23
V571407
p12479
stp12480
a((dp12481
g2
(lp12482
VDTOs should generally be avoided
p12483
aVThey can be useful in some situations, though:
p12484
aVinstead of returning a whole graph of objects, return ad hoc DTOs containing only the interesting information
p12485
aVThis makes the code more self-documenting
p12486
aVOtherwise, especially when the returned entities are detached, it's hard to know which associations are loaded and which aren't
p12487
aVWhen you have to return the result of a query which doesn't return entity instances (aggregations, etc
p12488
aVWhen using Hibernate entities at client-side isn't possible for technical reasons (no access to Hibernate libraries, etc
p12489
aVAlthough in this case, it might be the role of the facade layer to transform entities into DTOs rather than the role of the DAO
p12490
as(dp12491
g23
V571407
p12492
stp12493
a((dp12494
g2
(lp12495
VYour class declaration should be
p12496
aVBut it's almost always a bad idea to extend a
p12497
aVYou should use a  instance inside your class instead
p12498
aVAlso, methods should always start with a lower-case letter in Java
p12499
as(dp12500
g23
V571407
p12501
stp12502
a((dp12503
g2
(lp12504
VThe answer is indeed no
p12505
aVIf the code of a class is so long that it would need two files to be better organized, it's probably the sign that it should be refactored and split into several classes
p12506
as(dp12507
g23
V571407
p12508
stp12509
a((dp12510
g2
(lp12511
VThe fields other than name and value are not populated (and thus not meaningful) on cookies you get from a request
p12512
aVThese fields are intended to inform the browser about the max age; path, etc
p12513
aVof the cookie, but the browser doesn't send back this information to the server
p12514
aVThe only time where it's important to have the correct max age, path, etc
p12515
aVis when you create a cookie and add it to the response
p12516
aVUse your browser to check if it stores the correct information instead of trying to find it at server-side
p12517
as(dp12518
g23
V571407
p12519
stp12520
a((dp12521
g2
(lp12522
VCriteria queries are a good choice when a query must be generated dynamically, based of variable and multiple search criteria, for example
p12523
aVFor static queries, JPQL is much more readable, and I prefer using them than criteria queries
p12524
aVYou could lose some safety, but the unit tests should make you more confident
p12525
as(dp12526
g23
V571407
p12527
stp12528
a((dp12529
g2
(lp12530
VAn ORM is only a tool
p12531
aVIf you don't use it correctly, you'll have bad results
p12532
aVNothing stops you from using dedicated HQL/criteria queries, with fetch joins or projections, to return the information that your page must display in as few queries as possible
p12533
aVThis will take more or less the same time as dedicated SQL queries
p12534
aVBut of course, if you just get everything by ID and navigate through your objects without realizing how many queries it generates, it will lead to long loading times
p12535
aVThe key is to know exactly what the ORM does behind the scene, and decide if it's appropriate or if another strategy must be adopted
p12536
as(dp12537
g23
V571407
p12538
stp12539
a((dp12540
g2
(lp12541
VWhy don't you just use a boolean  property, and make your  method return an empty list if  is true
p12542
as(dp12543
g23
V571407
p12544
stp12545
a((dp12546
g2
(lp12547
VYour code would be much more readable if you named JFrame instances xxxFrame, and JPanel instances xxxPanel
p12548
aVNaming JPanel instances xxxFrame makes things very confusing
p12549
aVIt would also help if you pasted the stack trace of the exception
p12550
aVI suspect the problem comes from the fact that frame is null
p12551
aVThis is due to the fact that the frame field is only initialized in the createAndShowGUI method, but this method doesn't display the current connection panel, but a new one, which thus have a null frame field:
p12552
aVThe code of createAndShowGUI should contain
p12553
aVrather than
p12554
as(dp12555
g23
V571407
p12556
stp12557
a((dp12558
g2
(lp12559
VI would just use some configuration parameter (a system property for example), telling where the folder is
p12560
aVSee http://maven
p12561
aVapache
p12562
aVorg/plugins/maven-surefire-plugin/examples/system-properties
p12563
aVhtml for how to pass system properties when running tests with Maven
p12564
aVThe first example in this page shows how to pass the build directory as a system property
p12565
as(dp12566
g23
V571407
p12567
stp12568
a((dp12569
g2
(lp12570
VThe exception is not thrown by the code you showed us
p12571
aVThe stack trace says where the exception occurs:
p12572
aVIt's thus the call to  in , at line 34 that throws this exception
p12573
aVYou're certainly passing it a String, and not an int, BTW, because there is no way for a short variable to be printed as  as it's done in the error message of the exception
p12574
aVThe two first lines of a stack traces are the most important one
p12575
aVThe first one telle you what's wrong, and the second line tells you where the exception is thrown
p12576
as(dp12577
g23
V571407
p12578
stp12579
a((dp12580
g2
(lp12581
VBased on what you said in the comments, it appears that you're testing some code which depends on a trigger in the database generating the RECORD_ID, but that you test this on an in-memory database where this trigger doesn't exist
p12582
aVThis, obviously, won't work
p12583
aVYou need to create the same trigger as in your production database
p12584
aVSee http://hsqldb
p12585
aVorg/doc/2
p12586
aV0/guide/triggers-chapt
p12587
aVhtml to create triggers in a HSQLDB database
p12588
as(dp12589
g23
V571407
p12590
stp12591
a((dp12592
g2
(lp12593
VA long query is usually the sign of a missing index in the database
p12594
aVTry adding an index on
p12595
aVAlso, it's hard to say withount knowing the excact use-case, but I find it strange to get the number of products of a group using a group label in the product table
p12596
aVShouldn't you have a Group entity, and reference the group's primary key in the product table
p12597
aVThis would eliminate the need of an index on  (but would need an index on )
p12598
as(dp12599
g23
V571407
p12600
stp12601
a((dp12602
g2
(lp12603
VYour strategy is the right one, IMO
p12604
aVJust make sure not to hardcode the temp directory
p12605
aVUse  to get the path of the temp directory, and use a finally block in your test or a  method to cleanup the created files and directories once your test is finished
p12606
as(dp12607
g23
V571407
p12608
stp12609
a((dp12610
g2
(lp12611
VThe point of the SwingWorker is precisely to launch some task in the background and don't block the EDT
p12612
aVEither you want something synchronous, and the EDT will be blocked whatever you try, or you want something asynchronous, and the background task should update its status using the  method of the SwingWorker
p12613
aVYou could display a blocking modal dialog with a progress bar while the task is running, and hide it once the task completes
p12614
aVThe alternative is to block for some time, hoping the task will be quick to finish, and then backup to an asynchronous way of doing
p12615
aVThis can be done using the  method taking a timeout as argument
p12616
as(dp12617
g23
V571407
p12618
stp12619
a((dp12620
g2
(lp12621
VI would use WinMerge to compare the working copy with the exported one, and merge back the changes from the exported working copy to the actual working copy:
p12622
aVnew files must be added to the WC
p12623
aVdeleted files must be deleted from the WC
p12624
aVdifferent files must be replaced in the WC by the ones in the exported WC
p12625
aVAfter the merge is done, commit the WC and don't ever make changes anymore in an exported WC
p12626
as(dp12627
g23
V571407
p12628
stp12629
a((dp12630
g2
(lp12631
s(dp12632
g23
V571407
p12633
stp12634
a((dp12635
g2
(lp12636
VJust remove the  and  from the annotation
p12637
aVmeans that if a service definition is removed from the list of service definitions, it should be removed
p12638
aVmeans that every operation made on a license should be cascaded to each service definition in the list
p12639
aVSo if you delete the license, the service definitions in the list are deleted in cascade
p12640
aVThose attibutes have a meaning, and have consequences
p12641
aVDon't use them without understanding their meaning
p12642
aVAnd don't add them everywhere thinking you code might magically work better
p12643
as(dp12644
g23
V571407
p12645
stp12646
a((dp12647
g2
(lp12648
VThe answer is in the question: the owner side of the association is Wheel, and Hibernate will only use the owner side to decide if an association exists or not
p12649
aVYou should always update the owner side when updating the non-owner side (and vice-versa, if you want a coherent object graph)
p12650
aVThe most robust way is to encapsulate it in the Car entity:
p12651
as(dp12652
g23
V571407
p12653
stp12654
a((dp12655
g2
(lp12656
VRead http://api
p12657
aVjquery
p12658
aVcom/jQuery
p12659
aVajax/#sending-data-to-server:
p12660
aVThe data option can contain either a query string of the form
p12661
aVkey1=value1&key2;=value2, or a map of the form {key1: 'value1', key2:
p12662
aV'value2'}
p12663
aVIf the latter form is used, the data is converted into a
p12664
aVquery string using jQuery
p12665
aVparam() before it is sent
p12666
aVSo, you should use
p12667
aVand use  to get the JSON string
p12668
as(dp12669
g23
V571407
p12670
stp12671
a((dp12672
g2
(lp12673
VJust don't use any transformer and code the loop yourself:
p12674
aVThis makes 8 lines of trivial code instead of 1, but avoids reflection calls, and thus allows safe refactoring
p12675
as(dp12676
g23
V571407
p12677
stp12678
a((dp12679
g2
(lp12680
VApp engine does not support JTA
p12681
aVIt has a datastore that supports transactions, though
p12682
aVSee http://code
p12683
aVgoogle
p12684
aVcom/intl/en-US/appengine/docs/java/datastore/transactions
p12685
aVhtml
p12686
aVIf your Tomcat application uses a transaction manager, I guess it's to be able to use two different databases in the same transaction, or to use JMS
p12687
aVThis won't be possible in GAE, which doesn't support JMS, nor relational databases
p12688
aVYou'll only have access to the GAE datastore to store your information
p12689
as(dp12690
g23
V571407
p12691
stp12692
a((dp12693
g2
(lp12694
VIf your queries do the same thing as the queries executed behind the scene by Hibernate when it lazy-loads the children, I don't see what you gain by not simplyuse a OneToMany association
p12695
aVIf you know what you're doing, and what each method call on your entity means in terms of queries to the database, you shouldn't have any problem with mapped collections
p12696
aVSometimes it's wise to traverse them, sometimes it's better to use an ad-hoc query to avoid too many round-trips to the database
p12697
aVThe key is to understand what happens
p12698
aVHaving an asociation can also be very helpful just to be able to navigate through it in HQL queries, not necessarily to call the associated getter
p12699
as(dp12700
g23
V571407
p12701
stp12702
a((dp12703
g2
(lp12704
VYou only have implemented the user interface
p12705
aVDefine a method taking two integers (the base and the number to convert) as argument, and returning the converted number
p12706
aVThis is not very difficult
p12707
aV407:8 means
p12708
aVYou thus have to find a way to extract 7 from 407, then 0, and then 4
p12709
aVThe modulo operator can help you here
p12710
aVOr you could treat 407 as a string and extract the characaters one by one and transorm each of them into an int
p12711
as(dp12712
g23
V571407
p12713
stp12714
a((dp12715
g2
(lp12716
VFirst: Google Apps and Google App Engine are two very different things
p12717
aVSecond: no, GAE doesn't support any relational database
p12718
aVIt only has its own, non-relational, datastore
p12719
aVRead the documentation
p12720
aVSurprisingly, you'll find what you can and can't do with app engine in it
p12721
as(dp12722
g23
V571407
p12723
stp12724
a((dp12725
g2
(lp12726
VIf you want a cross-IDE (or rather a no-IDE) solution, you might also use Checkstyle, which can be configured to check javadoc on various levels (package, classes, methods, etc
p12727
as(dp12728
g23
V571407
p12729
stp12730
a((dp12731
g2
(lp12732
VUse the Post-Redirect-Get (also known as Redirect after post) pattern
p12733
aVIt simply consists in redirecting after a successful post, so that the user refresh results in an idempotent GET to be done rather than a POST
p12734
aVIt has the additional advantage that the browser "forgets" about the POST in its history, which means the back button won't submit either
p12735
as(dp12736
g23
V571407
p12737
stp12738
a((dp12739
g2
(lp12740
VRight-click on the interface, and choose "Open type hierarchy"
p12741
aVThen click on "Show the subtype hierarchy"
p12742
as(dp12743
g23
V571407
p12744
stp12745
a((dp12746
g2
(lp12747
VThis is, of course, explained in the Spring reference documentation
p12748
aVSee http://static
p12749
aVspringsource
p12750
aVorg/spring/docs/3
p12751
ag2332
aVx/spring-framework-reference/html/orm
p12752
aVhtml#orm-session-factory-setup
p12753
aVYou may pass the path of your hibernate config file like this:
p12754
as(dp12755
g23
V571407
p12756
stp12757
a((dp12758
g2
(lp12759
VIt depends
p12760
aVSometimes you want to return a reference to the object, and let the caller modify it
p12761
aVSometimes you want to return a copy
p12762
aVIn the case of a Point, a copy seems more appropriate, though
p12763
aVAnother way to protect the state of your class is to return an unmodifiable view of your field
p12764
aVThis can be done by declaring the return type as an interface that only provides read-only methods, or, as in the Java collections api, by returning a wrapper object offering the same interface as the object but throwing exceptions when mutator methods are called
p12765
aVWhatever the solution you choose, the key is to document what your method does
p12766
as(dp12767
g23
V571407
p12768
stp12769
a((dp12770
g2
(lp12771
VAccount is a subclass of , and  holds instances of , so there is no problem
p12772
aVYou'll just have to cast the results of the methods (get, getElementAt, etc
p12773
aVto :
p12774
as(dp12775
g23
V571407
p12776
stp12777
a((dp12778
g2
(lp12779
VYou didn't search very far
p12780
aVSee http://download
p12781
aVoracle
p12782
aVcom/javase/6/docs/api/javax/swing/JFrame
p12783
aVhtml#setDefaultCloseOperation%28int%29
p12784
aVPassing  to this method will forbid the frame to be closed via the default close button
p12785
as(dp12786
g23
V571407
p12787
stp12788
a((dp12789
g2
(lp12790
VInstead of examining all the possible combinations, compose your query dynamically:
p12791
as(dp12792
g23
V571407
p12793
stp12794
a((dp12795
g2
(lp12796
VAn alias or subcriteria is used to create a join
p12797
aVThis join might have two goals:
p12798
aVrestrict the set of returned values, by adding restrictions over the joined entities
p12799
aVselect the fields of the joined entities
p12800
aVIf you want 1 and don't want 2, then a fetch is not necessary, and you should thus not call )
p12801
aVIf you want 2, then a fetch is necessary
p12802
aVExample: you might want to search all the products with an order in the current month, but not be interested at all in the fields of the order
p12803
aVIn this case, a fetch for the orders of the product is unnecessary, and would be very costly if some products have hundreds or thousands of orders in the month
p12804
as(dp12805
g23
V571407
p12806
stp12807
a((dp12808
g2
(lp12809
VYes
p12810
aVDo a  on the directory containing the deleted one
p12811
as(dp12812
g23
V571407
p12813
stp12814
a((dp12815
g2
(lp12816
VYou should probably set the content type of the response to , to let the browser know that the downloaded file is not a HTML file, but a PDF file
p12817
aVSee
p12818
as(dp12819
g23
V571407
p12820
stp12821
a((dp12822
g2
(lp12823
VRead the javadoc of  carefully
p12824
aVreturns the number of years since 1900
p12825
aVreturns the month, starting from 0 (0 = January, 1 = February, etc
p12826
aVreturns the day of week (0 = Sunday, 1 = Monday, etc
p12827
aV, not the day of month
p12828
aVAnd all these methods are deprecated
p12829
aVYou shouldn't use them anymore
p12830
as(dp12831
g23
V571407
p12832
stp12833
a((dp12834
g2
(lp12835
VHQL and SQL are two different languqges
p12836
aVHQL works on Hibernate entities, their properties, and associations between them
p12837
aVSQL works on database tables and columns
p12838
aVUse
p12839
aVrather than
p12840
as(dp12841
g23
V571407
p12842
stp12843
a((dp12844
g2
(lp12845
VYes
p12846
aVIf it's just one value, you just have to set it in the parameters map of the report, and access it using  (meaning the value is tored in the map, at the key )
p12847
aVIf it's a list of values you want to iterate on in the details band of the report, You may use a
p12848
aVYou'll be able to access each property (throught its getter method) of the beans in the collection:  will call your bean's  method to get the field value
p12849
as(dp12850
g23
V571407
p12851
stp12852
a((dp12853
g2
(lp12854
VIt's a pity that this isn't specifically described in the javadoc
p12855
aVWhat I can tell is that Spring uses a global JAXBContext, shared between threads, whereas it creates a new marshaller for each marshalling operation, with a javadoc comment in the code saying that JAXB marshallers are not necessarily thread-safe
p12856
aVThe same is said on this page: http://jaxb
p12857
aVjava
p12858
aVnet/guide/Performance_and_thread_safety
p12859
aVhtml
p12860
aVI would guess that creating a JAXBContext is a costly operation, because it involves scanning classes and packages for annotations
p12861
aVBut measuring it is the best way to know
p12862
as(dp12863
g23
V571407
p12864
stp12865
a((dp12866
g2
(lp12867
VYou're mixing Swing and AWT components
p12868
aVDon't do this, because it leads to the problem you're facing
p12869
aVUse a  rather than a
p12870
as(dp12871
g23
V571407
p12872
stp12873
a((dp12874
g2
(lp12875
VThis is handled by the layout manager of the container
p12876
aVA button at the center of a BorderLayout will resize in all directions, for example
p12877
aVRead the Swing tutorial on layout managers
p12878
as(dp12879
g23
V571407
p12880
stp12881
a((dp12882
g2
(lp12883
VIf  is not serializable, trying to serialize an  instance will throw a runtime exception
p12884
aVYou need to make it serializable, or mark the foo field as
p12885
aVBut in the latter case, when deserializing the example, foo will be null
p12886
as(dp12887
g23
V571407
p12888
stp12889
a((dp12890
g2
(lp12891
VA byte is always signed in Java
p12892
aVYou may get its unsigned value by binary-anding it with 0xFF, though:
p12893
as(dp12894
g23
V571407
p12895
stp12896
a((dp12897
g2
(lp12898
VA reference to the object is passed, and this reference is passed by value
p12899
aVThis means that a copy of the reference is passed
p12900
aVYou may modify the contents of the hotel, and these changes will be visible to the caller
p12901
aVBut if you assign a new Hotel to the hotel argument, only the copy of the original reference will be changed
p12902
aVThe original reference will still point to the original Hotel
p12903
as(dp12904
g23
V571407
p12905
stp12906
a((dp12907
g2
(lp12908
VPHP reads all the cookies sent by the browser
p12909
aVSince every  host is also a  host, it's normal to get all the cookies
p12910
aVYou'll need to either change the domain names, or change your PHP code in order to be able to identify the cookies that should be ignored from the ones that shouldn't
p12911
as(dp12912
g23
V571407
p12913
stp12914
a((dp12915
g2
(lp12916
V applies to the results of the query
p12917
aVNot to the entities in the collection of questions
p12918
aVI don't think it's a bug: what would it do if one of the returned page entity is already loaded in the session, using another query with another order by clause
p12919
aVIf you want an ordered list of questions, select the questions:
p12920
aVor
p12921
aVshould do the trick
p12922
as(dp12923
g23
V571407
p12924
stp12925
a((dp12926
g2
(lp12927
VFor a bean to be autowired by Spring, the bean must be a Spring bean (i
p12928
ag468
aVbe declared in the context
p12929
aVxml file or be annotated with a Spring annotation (, , etc
p12930
aVAnd of course, it must be instantiated by Spring, and not by your code
p12931
aVIf you instantiate a Spring bean yourself with , Spring doesn't know about the bean, and doesn't inject anything into it
p12932
as(dp12933
g23
V571407
p12934
stp12935
a((dp12936
g2
(lp12937
VYou really have type problems
p12938
aVWhy do you change the longs into Strings to store them in a map
p12939
aVWhy not simply use Long, which needs less memory and is more descriptive
p12940
aVThen why use Integer
p12941
aVtoString to transform a long into a String
p12942
aVBy casting your long to an int, you risk loosing information by
p12943
aVHere's how the code should probably look like:
p12944
as(dp12945
g23
V571407
p12946
stp12947
a((dp12948
g2
(lp12949
VOf course, it's a typo
p12950
aVElse, the code wouldn't compile
p12951
aVThe order of fields and methods is not important
p12952
aVThey chose to order them like this, and it's unconventional, but it's not illegal
p12953
as(dp12954
g23
V571407
p12955
stp12956
a((dp12957
g2
(lp12958
VFirst of all,  is for inserting a new entity
p12959
aVYou should not use it when updating an attached entity
p12960
aVAn attached entity's state is automatically written in the database (if changed) at flush time
p12961
aVYou don't need to call anything to have the state updated
p12962
aVAnd Hibernate won't magically re-read the row it has inserted/updated to get the generated timestamp
p12963
aVA specific  annotation is needed to do that
p12964
aVBut it will decrease the performance of the application
p12965
aVI would use a pre-insert/pre-update hook to set the modifiedOn value programmatically in the entity, and avoid auto-modified timestamps in the database
p12966
as(dp12967
g23
V571407
p12968
stp12969
a((dp12970
g2
(lp12971
VIf the pagedListHolder stored as  in the map is available using , then the date, stored as  in the map, must also be available using
p12972
aVYou can format it using
p12973
as(dp12974
g23
V571407
p12975
stp12976
a((dp12977
g2
(lp12978
VIf every char in the file is properly encoded in UTF-8, you won't have any problem reading it using a reader with the UTF-8 encoding
p12979
aVUp to you to check every char of the file and see if you consider it printable or not
p12980
as(dp12981
g23
V571407
p12982
stp12983
a((dp12984
g2
(lp12985
VRead the file and store its content into a String, and then append the String to the text area
p12986
aVYou won't find any shortcut method in (J)TextArea to read the file for you, because that's not his business
p12987
aVThe text could come from a file, a database, a socket connection or anywhere else
p12988
aVThat's not the responsibility of the text area to read the text from all these potential locations
p12989
aVIts responsibility is to display the text you give it
p12990
aVSo read the text file yourself
p12991
aVSee the Java tutorial about character streams
p12992
as(dp12993
g23
V571407
p12994
stp12995
a((dp12996
g2
(lp12997
VThe whole point en  is to include the session ID in the URL if necessary
p12998
aVf you think it's not necessary to include it, don't encode the URL:
p12999
as(dp13000
g23
V571407
p13001
stp13002
a((dp13003
g2
(lp13004
VJavadoc to the rescue:
p13005
aVThrows:
p13006
aVInputMismatchException - if the next token does not match the
p13007
aVInteger regular expression, or is out of range
p13008
aVYou probably don't enter a valid integer whan asked for it by your program
p13009
as(dp13010
g23
V571407
p13011
stp13012
a((dp13013
g2
(lp13014
VAFAIK, no
p13015
aVAnd I would find it very questionable
p13016
aVJPA entities are supposed to be POJOs usable outside of the persistence layer, where the JPA classes are not even in the classpath
p13017
aVExposing the EntityManager in those POJOs seems wrong to me
p13018
as(dp13019
g23
V571407
p13020
stp13021
a((dp13022
g2
(lp13023
VThe cascade is on the wrong side of the association
p13024
aVYou want all the dashboard's positions deleted when you delete a dashboard
p13025
aVBut you don't want the dashboard deleted when you delete one of its positions
p13026
aVThe cascade should thus be set on the  annotation of the Dashboard's  field
p13027
as(dp13028
g23
V571407
p13029
stp13030
a((dp13031
g2
(lp13032
VUse  to display the byte array
p13033
aVreturns the type of the array () followed by its
p13034
aVYou could also use Base64 to encode your byte arrays as ASCII strings
p13035
aVApache commons-codec has a free implementation
p13036
as(dp13037
g23
V571407
p13038
stp13039
a((dp13040
g2
(lp13041
VUsing  in your query means that you're using your MyEntity as a DTO: a detached object containing some fields of the actual MyEntity instance
p13042
aVIf you would like it to reference a lazy collection of children, just use : you'll get an attached MyEntity instance, with its lazy (uninitialized) collection of children
p13043
aVAnd as soon as you call any method of the children collection, an additional query will be executed to load this collection
p13044
aVIf you persist on wanting to use a detached MyEntity, and you want to have a reference to its list of children, you'll indeed have to reload the entity (and thus gets its attached version), which will of course trigger an additional SQL query just to laod the entity again, with all its fields
p13045
aVI would avoid using the MyEntity class as a DTO, and use a dedicated class instead, not containing the list of children
p13046
aVIt will thus be clear to the caller code that an additional, ad-hoc HQL query will need to be executed to get the list of children
p13047
as(dp13048
g23
V571407
p13049
stp13050
a((dp13051
g2
(lp13052
VThis does basically the same thing as what you're doing, but at least you'll have a more readable error message indicating what's wrong, instead of the ClassCastException
p13053
as(dp13054
g23
V571407
p13055
stp13056
a((dp13057
g2
(lp13058
VYou can use  to sort your array, but you'll have to loop yourself and find the first element starting with B to know its position
p13059
aVIf Guava is an option, you might use its  method (although it would need a collection of Strings, and not an array)
p13060
as(dp13061
g23
V571407
p13062
stp13063
a((dp13064
g2
(lp13065
VThe thread is not stopped
p13066
aVIt's just waiting for a message to come
p13067
aVwill block until some line (ending with a newline char) is read, or until the connection ends
p13068
aVSo If Alice keeps the connection open and doesn't send anything, readLine will block forever, and your "null" messages won't ever be printed
p13069
as(dp13070
g23
V571407
p13071
stp13072
a((dp13073
g2
(lp13074
VYou'll need to start 10 threads in your main thread, and wait for them to finish
p13075
aVThis can be done calling  on each of the 10 started threads (after they are all started)
p13076
aVFor more information about threads, read the Java tutorial about concurrency
p13077
as(dp13078
g23
V571407
p13079
stp13080
a((dp13081
g2
(lp13082
VI use the three layers you described, but don't have any base class for my services, and only declare the other services and repositories I actually use as fields in my services: this makes the dependencies clearer
p13083
aVJustifications for the layering:
p13084
aVseparation of responsibilities
p13085
aVtransaction demarcation in the service layer
p13086
aVa sub-service is sometimes needed to be able to start a new transaction, or just to reuse business logic inside several services
p13087
aVtestability : it's easier to test a controller if it only depends on well-defined services
p13088
aVIt's easier to test services if they only contain business logic and no persistence logic
p13089
aVIt's easier to test repositories if all they do is persistence (DB queries)
p13090
aVbeing able to add interceptors (using AOP) to all the services, or all the repositories, in order to check access rights, measure performance, etc
p13091
aVBad practices:
p13092
aVhaving a service depending on all the repositories
p13093
aVhaving a service depending on too many repositories/services
p13094
aVhaving circular dependencies between services
p13095
aVhaving the controller layer talk directly to the persistence layer
p13096
as(dp13097
g23
V571407
p13098
stp13099
a((dp13100
g2
(lp13101
VThe classpath of a web application is composed of
p13102
aVWEB-INF/classes
p13103
aVall the jars under WEB-INF/lib
p13104
aVSo, if you want to load the context file from the classpath, you need it in one of those places
p13105
aVPut it in  and load it using  for example
p13106
aVEDIT: I just realized that you have a problem loading the context file from a JUnit test
p13107
aVThe answer is similar, though
p13108
aVThe directory containing  certainly is not in the classpath of your unit test runner
p13109
aVThe unit test runner should use more or less the same classpath as the application server, so the file should be in a location that makes it go to a JAR file or a directory that is in the classpath of the test after the build
p13110
aVIf using Maven, the  directory is normally one of them: everything in that directory goes to the  directory, which is in the classpath of the unit test runner
p13111
as(dp13112
g23
V571407
p13113
stp13114
a((dp13115
g2
(lp13116
VEither inspect the row of the TableModelEvent fired by the modification, and ask your model the entity at this row, or fire another dedicated event when a cell is updated, containing the updated entity
p13117
aVSee the Swing tutorial on tables for how to create your own table model, extending AbstractTableModel
p13118
aVIt's almost always better than using the default one, and I thought you were doing it already, because you said that "changes [were] made to an entity through an editable cell"
p13119
as(dp13120
g23
V571407
p13121
stp13122
a((dp13123
g2
(lp13124
VIf String weren't immutable you wouldn't be able
p13125
aVto safely return a String field from a getter without breaking encapsulation, because the caller might modify the contents of the string behind your back
p13126
aVto share a String between threads, because some thread might modify its content
p13127
aVAll the accesses to the String would have to be synchronized
p13128
aVto use Strings as keys in HashMaps/TreeMaps, because someone might change its value and thus its hashCode/comparison order
p13129
aVto pool Strings in order to have a single instance of the same constant string
p13130
aVto have a substring sharing the same char array of its string
p13131
aVIn short, life would be much more complicated, because you would have to make defensive copies of the String everywhere, and StackOverflow would be flooded with questions regarding subtle bugs where some String is stored in a map but can't be found anymore
p13132
as(dp13133
g23
V571407
p13134
stp13135
a((dp13136
g2
(lp13137
VJust put you text fields in a list () when creating them dynamically, and loop over this list :
p13138
as(dp13139
g23
V571407
p13140
stp13141
a((dp13142
g2
(lp13143
VRight-click on the project, choose Team - Share project
p13144
aVIt should then detect the
p13145
aVsvn directories already present and propose you to reuse the SVN information stored inside
p13146
as(dp13147
g23
V571407
p13148
stp13149
a((dp13150
g2
(lp13151
VNo, you won't be able to do that
p13152
aVThe resource collection simply defines the set of java or class files to run as test
p13153
aVWhy don't you simply organize your tests in packages, or even have one source/target directory per set of tests
p13154
aVor
p13155
as(dp13156
g23
V571407
p13157
stp13158
a((dp13159
g2
(lp13160
VUser settings are typically stored as
p13161
aVproperties, using the properties file format
p13162
aVproperties using the XML format
p13163
aVpreferences, using the Preferences API
p13164
aVThis has the advantage of storing and reading user and system preferences for you, without having to think about where to store them, etc
p13165
aVSee http://download
p13166
aVoracle
p13167
aVcom/javase/1
p13168
ag1458
aV2/docs/guide/lang/preferences
p13169
aVhtml
p13170
as(dp13171
g23
V571407
p13172
stp13173
a((dp13174
g2
(lp13175
VYou'll be able to do what you want by implementing Externalizable and overriding the writeExternal and readExternal methods
p13176
aVSee http://download
p13177
aVoracle
p13178
aVcom/javase/7/docs/platform/serialization/spec/output
p13179
aVhtml#3146 for details
p13180
aVNote that it will allow customizing the output of the serialization of one object, but not the format of the whole stream
p13181
aVYou will thus find your JSON string inside other binary data
p13182
as(dp13183
g23
V571407
p13184
stp13185
a((dp13186
g2
(lp13187
VStart the java application with  in order to use a specific config file, overriding the one found in your jar, or make sure another log4j
p13188
aVxml is at the root of the classpath, before common
p13189
aVjar:
p13190
as(dp13191
g23
V571407
p13192
stp13193
a((dp13194
g2
(lp13195
VThis is not possible in Java
p13196
aVAn object has a type, and can't acquire a new one
p13197
aVIf it's a Person it will always be a Person, and will never be an employee
p13198
aVYou can create a new object, of type Employee, from a Person, though :
p13199
as(dp13200
g23
V571407
p13201
stp13202
a((dp13203
g2
(lp13204
VYou could try
p13205
aVBut I'm not sure it would be faster
p13206
aVIt depends on the execution plan, which depends on the database indexes
p13207
aVThere should be an index on  and on
p13208
as(dp13209
g23
V571407
p13210
stp13211
a((dp13212
g2
(lp13213
VYou need to checkout the branch
p13214
aVIf someone else makes a change, you'll have to update your working copy
p13215
aVRead http://svnbook
p13216
aVred-bean
p13217
aVcom/nightly/en/svn-book
p13218
aVhtml#svn
p13219
aVtour: it presents basic usage of SVN
p13220
as(dp13221
g23
V571407
p13222
stp13223
a((dp13224
g2
(lp13225
VWhen you modify the dom tree, you modify it in memory, but the original file where this dom tree comes from is not affected
p13226
aVYou need to write the modified dom tree to the file in order to persist the changes you have made in memory
p13227
aVIt's exactly the same as if you read a whole file in a StringBuilder
p13228
aVModifying the StringBuilder won't magically write the new content to the file
p13229
aVSee http://java
p13230
aVsun
p13231
aVcom/j2ee/1
p13232
aV4/docs/tutorial/doc/JAXPXSLT4
p13233
aVhtml for example code to write a DOM tree to a file
p13234
as(dp13235
g23
V571407
p13236
stp13237
a((dp13238
g2
(lp13239
VIt's not so easy, because the displaytag encodes parameters (to avoid naming conflicts with functional parameters), and uses a unique ID per table, in case several tables are on the same page
p13240
aVI suggest you download the source code of displaytag, have a look at the ParamEncoder and Pagination classes (and their callers) to discover how a link to a specific page is constructed by the displaytag
p13241
aVYou'll have to use similar code to generate the URL, and you'll have to modify the value of the appropriate (encoded) parameter in your JavaScript code
p13242
as(dp13243
g23
V571407
p13244
stp13245
a((dp13246
g2
(lp13247
VCall another method which will reload the person from database along with his addresses:
p13248
aVor
p13249
aVto do it in a single query
p13250
as(dp13251
g23
V571407
p13252
stp13253
a((dp13254
g2
(lp13255
Vchar (with a lower-case c) is a numeric type
p13256
aVIt already holds the ascii value of the char
p13257
aVJust cast it to an integer to display it as a numeric value rather than a textual value:
p13258
as(dp13259
g23
V571407
p13260
stp13261
a((dp13262
g2
(lp13263
VThe best documentation for svnserve is not the SVN documentation, IMO, but the TortoiseSVN one
p13264
aVRead http://tortoisesvn
p13265
aVnet/docs/release/TortoiseSVN_en/tsvn-serversetup-svnserve
p13266
aVhtml
p13267
aVYou'll have to create another repository next to the first one and set the root directory to the parent directory of the two repositories
p13268
aVYou'll also have to relocate your existing working copies
p13269
as(dp13270
g23
V571407
p13271
stp13272
a((dp13273
g2
(lp13274
VGoogling for  has led me to the following Hibernate bug report, which describes exactly the same problem: https://hibernate
p13275
aVonjira
p13276
aVcom/browse/HBX-1126
p13277
aVThe solution seems to remove the parameter DELIMIDENT=y from the datasource URL
p13278
as(dp13279
g23
V571407
p13280
stp13281
a((dp13282
g2
(lp13283
VYou can't use the same table () to map an entity () and an association (the OneToMany association)
p13284
aVIf the table is mapped to an entity, then you don't have a OneToMany association between Sale and Pig anymore: you have a OneToMany between  and , mapped by a foreign key in , and a  between  and , also mapped by a foreign key in
p13285
aVIf you map a OneToMany using a JoinTable, then Hibernate handles insertions and deletions in this table itself, each time you add or remove Pigs from the collection
p13286
aVSince you have additional columns in the join table, you need to create PigEvent instances yourself, and add these instances to the collection of events of the sale
p13287
as(dp13288
g23
V571407
p13289
stp13290
a((dp13291
g2
(lp13292
VI would ask native speakers of the languages you want to target
p13293
aVIf all the languages use the same construct (a comma between all the elements except for the last one), then simply build a comma separated list of the n - 1 elements, and use an externalized pattern and use  to build the whole sentence with the n - 1 elements string as first argument and the nth element as second argument
p13294
aVYou might also externalize the separator (comma in English) to make it more flexible if needed
p13295
aVIf some languages use another construct, then define several Strategy implementations, externalize the name of the strategy in order to know which strategy to use for a given locale, and then ask the appropriate strategy to format the list for you
p13296
aVThe strategy for English would use the algorithm described above
p13297
aVThe strategy for another language would use a different way of joining the elements together, but it could be reused for several languages using externalized patterns if those languages use the same construct but with different words
p13298
aVNote that it's because it's so difficult that most of the programs simply do List of what I like: bread, meat
p13299
as(dp13300
g23
V571407
p13301
stp13302
a((dp13303
g2
(lp13304
VEither use an iterator, if you need to be able to remove the current element from the list:
p13305
aVOr use a foreach loop:
p13306
as(dp13307
g23
V571407
p13308
stp13309
a((dp13310
g2
(lp13311
VThe whole point of an ORM is to give you an object graph, in which you can navigate, and which maps to a relational database
p13312
aVFrom a person, you should be able to get its option description using
p13313
aVYou should also be able to search for persons with a given option date using
p13314
aVThis is only possible if you map the foreign key as an association, rather than a String
p13315
aVYou should not use  to put an existing option into your person, thouh
p13316
aVInstead, you should get or load the option from the session:
p13317
as(dp13318
g23
V571407
p13319
stp13320
a((dp13321
g2
(lp13322
VNo
p13323
aVChange the signature of the method called multiple times to make it accept the array, and compute the array before calling the method:
p13324
aVInstead of
p13325
aVUse something like this:
p13326
as(dp13327
g23
V571407
p13328
stp13329
a((dp13330
g2
(lp13331
VNo, it doesn't mean it's asynchronous
p13332
aVIt just means that forward is a regular Java method, and that there's no reason for the rest of the code not to execute
p13333
aVIt's just of your responsibility to avoid modifying the response after the request has been forwarded
p13334
aVBut why wouldn't the following code log everything to the standard output
p13335
as(dp13336
g23
V571407
p13337
stp13338
a((dp13339
g2
(lp13340
V extends , and  has the method , implementing the  interface
p13341
aVThe implementation of the  method is thus just inherited from the  base class
p13342
aVIt makes sense if you make the example more realistic
p13343
aVChange  to , with a  method
p13344
aVCreate a base class  implementing , with an implementation of the  method
p13345
aVAnd make a subclass of  called
p13346
aVThe beautiful pink phone will be able to ring because it's just a simple phone with a pink color
p13347
as(dp13348
g23
V571407
p13349
stp13350
a((dp13351
g2
(lp13352
VEverything is encrypted, including the URL and its parameters
p13353
aVYou might still avoid them because they might be stored in server-side logs and in the browser history, though
p13354
as(dp13355
g23
V571407
p13356
stp13357
a((dp13358
g2
(lp13359
VThere are two problems:
p13360
aVThe day is , and not , in the pl locale
p13361
aVThe AM/PM indicator is not taken into account because you used  (which means hour from 0 to 23) instead of
p13362
aVI would just parse from the first character after the first white space (to avoid parsing "Pon"), adn replace  by
p13363
aVin the pattern:
p13364
as(dp13365
g23
V571407
p13366
stp13367
a((dp13368
g2
(lp13369
VUse a double slash in Java string literal to escape a slash :
p13370
aVIf an end user enters a string in a JFileChooser, the string variable will contain all the characters entered by the user
p13371
aVEscaping is only needed when using String literals in Java source code
p13372
aVAnd use a prepared statement to insert strings into a database table
p13373
aVThis will properly escape special characters and avoid SQL injection attacks
p13374
aVRead more about prepared statements in the Java tutorial about JDBC
p13375
as(dp13376
g23
V571407
p13377
stp13378
a((dp13379
g2
(lp13380
VThe answer to your first question is no
p13381
aVI don't see why, in your second problem, you don't want to have the entity attached to the session
p13382
aVI can see why you don't want to load some associations, but that's precisely the goal of setting the associations as lazy instead of eager
p13383
aVJust don't make them eager, and they won't be loaded in the session
p13384
as(dp13385
g23
V571407
p13386
stp13387
a((dp13388
g2
(lp13389
VUsing composition instead of inheritance is a design choice
p13390
aVEither your class has been designed with inheritance in mind (i
p13391
ag468
aVit provides non-final public and protected methods, intended to be overridden by subclasses), or it has been designed with composition or delegation in mind (by using the strategy pattern, for example)
p13392
aVIf the class has not been designed for customization at all, you might be able to customize it using inheritance, but not using a composition/delegation mechanism
p13393
as(dp13394
g23
V571407
p13395
stp13396
a((dp13397
g2
(lp13398
VAnt doesn't know anything about web projects
p13399
aVIt doesn't automatically include the jars in WEB-INF/lib in the classpath
p13400
aVYou have to explicitely include all the required jars in the classpath used by the  task to compile your classes
p13401
aVNote that at least servlet-api
p13402
aVjar should not be in WEB-INF/lib, since it's obviously in tomcat's root classpath
p13403
as(dp13404
g23
V571407
p13405
stp13406
a((dp13407
g2
(lp13408
VJust click the Edit button, and specify the correct location of the jar
p13409
as(dp13410
g23
V571407
p13411
stp13412
a((dp13413
g2
(lp13414
VA variable holds a piece of information in memory
p13415
aVIf you want to make it accessible from another program, you have two choices :
p13416
aVmake it available using some communication protocol (plain socket, RMI, etc
p13417
aVstore it in a persistent store (the file system, a database), and have the second program read the persistent value from this persistent store
p13418
as(dp13419
g23
V571407
p13420
stp13421
a((dp13422
g2
(lp13423
VJust enclose these two method calls inside a unique transaction
p13424
aVFlushing doesn't have anything to do with transactions
p13425
aVIt just means "really execute all the SQL statements needed to persist the modifications made in the session"
p13426
aVBut the commit will only be done at the end of the transaction
p13427
aVFlushing the session manually is almost always unnecessary
p13428
aVLet Hibernate do it when it has to
p13429
aVAlso, note that a DAO is supposed to be a service object allowing to query and update entities
p13430
aVIt's not supposed to be a persistent entity
p13431
aVRead http://docs
p13432
aVjboss
p13433
aVorg/hibernate/core/3
p13434
aV6/reference/en-US/html_single/#transactions and http://docs
p13435
aVjboss
p13436
aVorg/hibernate/core/3
p13437
aV6/reference/en-US/html_single/#objectstate-flushing
p13438
as(dp13439
g23
V571407
p13440
stp13441
a((dp13442
g2
(lp13443
VThe answer is in the question: when changing the password in the first transaction, the version field of the user entity is updated, but you keep an obsolete version of your user object in the HTTP session and try to update the user with this obsolete version in a second transaction
p13444
aVJust make sure to refresh the user object you keep in the HTTP session each time the password is changed
p13445
aVYou might also manually copy each property of the modified user to the attached user object, but then you wouldn't benefit from optimistic locking anymore
p13446
as(dp13447
g23
V571407
p13448
stp13449
a((dp13450
g2
(lp13451
VUse the following code snippet:
p13452
as(dp13453
g23
V571407
p13454
stp13455
a((dp13456
g2
(lp13457
VHashtable predates the collections framework, and was part of JDK 1
p13458
ag2332
aVAt that time null keys were probably considered not useful or not essential, and were thus forbidden
p13459
aVYou might see it as a design error, just as the choice of the name  rather than
p13460
aVThen, several years later, came the collections framework, and Hashtable was slightly modified to fit into the framework
p13461
aVBut the behavior on null keys was not changed to keep backward compatibility
p13462
aVHashtable should be deprecated, IMHO
p13463
as(dp13464
g23
V571407
p13465
stp13466
a((dp13467
g2
(lp13468
s(dp13469
g23
V571407
p13470
stp13471
a((dp13472
g2
(lp13473
VThis is called an anonymous inner class
p13474
aVAs this name indicates, such a class has no name
p13475
aVIt will be compiled to a
p13476
aVclass file name
p13477
aVThe class file of the receiver2 variable will be
p13478
as(dp13479
g23
V571407
p13480
stp13481
a((dp13482
g2
(lp13483
VYou're looking for  and
p13484
aVThe api doc of ElementCollection says:
p13485
aVDefines a collection of instances of a basic type or embeddable class
p13486
aVYou have a collection of entity instances
p13487
aVSee http://docs
p13488
aVjboss
p13489
aVorg/hibernate/stable/annotations/reference/en/html_single/#eentity-mapping-association-collection-manytomany for how to use those annotations
p13490
as(dp13491
g23
V571407
p13492
stp13493
a((dp13494
g2
(lp13495
VMy guess is that you're compiling with a Java 5 compiler (or Java 5 compiler settings in the IDE)
p13496
aVIn Java 5,  was only usable on a method overriding a method of a class, not an interface
p13497
aVIt was extended to interface method overriding in Java 6
p13498
aVChange the compiler version, or remove the  annotation on the  method
p13499
as(dp13500
g23
V571407
p13501
stp13502
a((dp13503
g2
(lp13504
VYou just need to specify the classpath for , using the  or  attribute, or a nested  element
p13505
aVSee http://ant
p13506
aVapache
p13507
aVorg/manual/Tasks/javac
p13508
aVhtml for details
p13509
aVThe ant documentation is very well written, exhaustive, and full of examples
p13510
aVIt's there to be read
p13511
as(dp13512
g23
V571407
p13513
stp13514
a((dp13515
g2
(lp13516
VA disabled form input field is indeed not submitted
p13517
aVYou could do one of the following:
p13518
aVmake the checkbox readonly rather than disabled
p13519
aVadd a hidden input field with the same name as the checkbox and with the checkbox's value, when disabling the checkbox
p13520
aVJust make sure to remove this hidden field when re-enabling the checkbox again
p13521
aVre-enable the disabled checkboxes at submit time, using JavaScript
p13522
as(dp13523
g23
V571407
p13524
stp13525
a((dp13526
g2
(lp13527
VHow about reading the documentation
p13528
aVJSR 330's @Inject annotation can be used in place of Spring's
p13529
aV@Autowired in the examples below
p13530
aV@Inject does not have a required
p13531
aVproperty unlike Spring's @Autowired annotation which has a required
p13532
aVproperty to indicate if the value being injected is optional
p13533
aVThis
p13534
aVbehavior is enabled automatically if you have the JSR 330 JAR on the
p13535
aVclasspath
p13536
as(dp13537
g23
V571407
p13538
stp13539
a((dp13540
g2
(lp13541
VSee https://developer
p13542
aVmozilla
p13543
aVorg/en/DOM/table
p13544
aVinsertRow:
p13545
aVIf index is omitted or greater than the number of rows, an error will
p13546
aVresult
p13547
aVI'd suggest using a cross-browser JavaScript library like jQuery, which will work whatever the browser is
p13548
as(dp13549
g23
V571407
p13550
stp13551
a((dp13552
g2
(lp13553
VA class can't contain two methods with the same signature
p13554
aVThe signature of a method is its name followed by its arguments
p13555
aVYou may thus have  and  and  in the same class
p13556
aVThis is called method overloading
p13557
aVYou can't have two  methods, because you (and the compiler) could not know which one to execute when calling
p13558
as(dp13559
g23
V571407
p13560
stp13561
a((dp13562
g2
(lp13563
VThis warning means that you have a package-private method  in , and a  method in , which extends , but is not in the same package
p13564
aVIf your goal is to override the  method with , then the Bar
p13565
aVtrololo method must be made protected
p13566
aVIf your goal is to have two different methods, it would be better to name the second one  to make it much clearer and avoid confusion
p13567
as(dp13568
g23
V571407
p13569
stp13570
a((dp13571
g2
(lp13572
VThe  attribute is mandatory at one of the sides of every bidirectional association
p13573
aVWhen the association is a one-to-many, the  attribute is placed ot the one- side (i
p13574
ag468
aVon the 's  field in your case)
p13575
aVThat's because when an association is bidirectional, one side of the association is always the inverse of the other, so there's no need to tell twice to Hibernate how the association is mapped (i
p13576
ag468
aVwhich join column or join table to use)
p13577
aVIf you're ready to recreate the schema, I would do it right (and easier), and use a surrogate auto-generated key in users_userdata rather than a composite one
p13578
aVThis will be much easier to handle, in all the layers of your application
p13579
as(dp13580
g23
V571407
p13581
stp13582
a((dp13583
g2
(lp13584
VYes, that's what is meant by the blog entry you pasted
p13585
as(dp13586
g23
V571407
p13587
stp13588
a((dp13589
g2
(lp13590
VThe effects functions all take a callback optional argument:
p13591
as(dp13592
g23
V571407
p13593
stp13594
a((dp13595
g2
(lp13596
VYou may provide the IV to the cipher in Java using an instance of  passed to
p13597
aVIf you don't, a random IV will be generated and made available by the  method of
p13598
as(dp13599
g23
V571407
p13600
stp13601
a((dp13602
g2
(lp13603
VYou indeed need a null check
p13604
aVMy version of Eclipse generates equals methods with a null check
p13605
as(dp13606
g23
V571407
p13607
stp13608
a((dp13609
g2
(lp13610
VJust take the absolute value of their difference, then, if larger than 180, substract 360 and take the absolute value of the result
p13611
as(dp13612
g23
V571407
p13613
stp13614
a((dp13615
g2
(lp13616
VThe final keyword for arguments is not part of the method signature, and is only important for the body of the method, because Java passes all arguments by value (a copy of the value is always made for the method call)
p13617
aVI only use the final keyword (for arguments) if the compiler forces me to make it final, because the argument is used inside an anonymous class defined in the method
p13618
as(dp13619
g23
V571407
p13620
stp13621
a((dp13622
g2
(lp13623
VYou should not look around for some information
p13624
aVInstead, you should read the reference documentation
p13625
aVThis documentation has a full chapter dedicated to queries using the HQL query language, and another one dedicated to criteria queries
p13626
aVSince you have a fixed set of criteria here, HQL is more suited to the task:
p13627
as(dp13628
g23
V571407
p13629
stp13630
a((dp13631
g2
(lp13632
VYes it is
p13633
aVThe java "interpreter" takes the class name you're giving it, looks for a static  method taking a String array as argument and returning , and calls this method
p13634
aVThe java interpreter probably does this using native code, but that's not important
p13635
aVIf, inside a program, you want to call another class's main method, you can
p13636
aVmethods are not special in this regard
p13637
aVThe only special thing they have is that they can be the entry point for the java interpreter
p13638
as(dp13639
g23
V571407
p13640
stp13641
a((dp13642
g2
(lp13643
VYou should always indeed put a unique constraint on fields which must stay unique
p13644
aVThis will, however, lead to a cryptic exception at commit time
p13645
aVIf you want to be more user-friendly, you should check if the entry already exists (using a query) before inserting it, and display a useful and readable error message to the user if the entry already exists
p13646
aVThis still allows two concurrent users to check at the same time, then insert at the same time, but it greatly reduces the probability, and the unique constraint makes sure that one of the commits will fail, leaving your database in a consistent state
p13647
as(dp13648
g23
V571407
p13649
stp13650
a((dp13651
g2
(lp13652
VWhat takes time is the string concatenation
p13653
aVStrings are immutable in Java
p13654
aVEach time you do
p13655
aVyou create a new String object containing all the chars of the previous one, which must be garbage collected, plus the new ones
p13656
aVUse a StringBuilder to build your string:
p13657
as(dp13658
g23
V571407
p13659
stp13660
a((dp13661
g2
(lp13662
VThe JVM is able to clone the object for you, and you're thus not supposed to construct a new person by yourself
p13663
aVJust use this code:
p13664
aVor
p13665
aVThis will work even if the Person class is subclassed, whereas your clone implementation will always create an instance of Person (and not an instance of Employee for an Employee, for example)
p13666
as(dp13667
g23
V571407
p13668
stp13669
a((dp13670
g2
(lp13671
VOne of the  constructors takes a byte array (the content of the attachment) as argument
p13672
aVSo just write your workbook to a , transform this stream to a byte array, and pass this byte array to the constructor:
p13673
as(dp13674
g23
V571407
p13675
stp13676
a((dp13677
g2
(lp13678
VI guess this choice was made to simplify the coding of servlets
p13679
aVIn the current situation, a servlet having no need for specific initialization can be coded like this:
p13680
aVIf the servlet was initialized using the constructor, it would need to be coded like this:
p13681
aVBTW, they even introduced a no-arg init method that can be used to avoid being forced to call
p13682
as(dp13683
g23
V571407
p13684
stp13685
a((dp13686
g2
(lp13687
VMy guess is that when you populate your vector, you reuse the same string array for every property
p13688
aVThis makes you vector contain 10 times (10 being the number of entries) the same array:
p13689
aVThis should be replaced by
p13690
aVAlso, note in your code snippet, you create a new String array to initialize your tmp2 variable, and then replace its value by the one in the vector
p13691
aVThe initialization is unnecessary
p13692
as(dp13693
g23
V571407
p13694
stp13695
a((dp13696
g2
(lp13697
VWeb services generally return results in a platform-independent, but structured way
p13698
aVXML and JSON are two frequent choices
p13699
aVThere are plenty of apis in Java to generate XML and JSON
p13700
aVGoogle for them
p13701
aVI like using JAXB for XML
p13702
aVSome APIs take JAXB-annotated objects and serialize them into JSON instead of XML
p13703
as(dp13704
g23
V571407
p13705
stp13706
a((dp13707
g2
(lp13708
VThis displays the value of the  request parameter in the email text box
p13709
aVInitially, this parameter won't exist, so the text box will be blank
p13710
aVNote the use of the  JSTL tag, which allows HTML-escaping the value of the parameter
p13711
as(dp13712
g23
V571407
p13713
stp13714
a((dp13715
g2
(lp13716
VThis page says:
p13717
aVTag files can be placed in one of two locations: in the /WEB-INF/tags/
p13718
aVdirectory or subdirectory of a web application or in a JAR file (see
p13719
aVPackaged Tag Files) in the /WEB-INF/lib/ directory of a web
p13720
aVapplication
p13721
aVPackaged tag files require a tag library descriptor (see
p13722
aVTag Library Descriptors), an XML document that contains information
p13723
aVabout a library as a whole and about each tag contained in the
p13724
aVlibrary
p13725
aVand
p13726
aVTag files can be packaged in the /META-INF/tags/ directory in a JAR
p13727
aVfile installed in the /WEB-INF/lib/ directory of the web application
p13728
aVTags placed here are typically part of a reusable library of tags that
p13729
aVcan be used easily in any web application
p13730
aVTag files bundled in a JAR require a tag library descriptor
p13731
aVTag files
p13732
aVthat appear in a JAR but are not defined in a TLD are ignored by the
p13733
aVweb container
p13734
aVWhen used in a JAR file, the path subelement of the tag-file element
p13735
aVspecifies the full path of the tag file from the root of the JAR
p13736
aVTherefore, it must always begin with /META-INF/tags/
p13737
as(dp13738
g23
V571407
p13739
stp13740
a((dp13741
g2
(lp13742
VThe code seems incorrect to me
p13743
aVThe  function's goal is to transform a string in a given format into a date
p13744
aVAnd you're not passing a string as argument to this function, but a  object
p13745
aVYou should remove the use of the  function, transform your  into a  object, and use  to pass the argument to your prepared statement
p13746
aVThe fact that it worked as is on your unix box looks like an accident to me
p13747
as(dp13748
g23
V571407
p13749
stp13750
a((dp13751
g2
(lp13752
VI don't know why you're not defining the value argument as a  rather than an , though
p13753
as(dp13754
g23
V571407
p13755
stp13756
a((dp13757
g2
(lp13758
VIn addition to Adam Batkin's answer, I would like to add that such queries are generally not used (except if you need to modify a whole loat of rows at once) in Hibernate
p13759
aVThe goal of Hibernate is to work with objects
p13760
aVSo you generally do:
p13761
as(dp13762
g23
V571407
p13763
stp13764
a((dp13765
g2
(lp13766
VYou could just use  (or  to get more information)
p13767
aVThis won't list the target dependencies, but I don't see it as a problem: dependencies are not important for the end user (they just tell how the target works)
p13768
aVWhat's important is what the target does, which is what should be in its description
p13769
as(dp13770
g23
V571407
p13771
stp13772
a((dp13773
g2
(lp13774
VJust map the  table to an  entity, and have an eagerly fetched many-to-one association between  and
p13775
as(dp13776
g23
V571407
p13777
stp13778
a((dp13779
g2
(lp13780
VYou have several possibilities:
p13781
aVkeep the listener code as is, and call  on each button
p13782
aVuse  and test if the source is button1, or button2, etc
p13783
aVuse one separate listener for each button, as shown by Bartzilla
p13784
aVThis last method is usually the best one, because each button should be doing something different from the other ones
p13785
aVHaving one giant method for all the buttons, with lots of  statements, is not very clean
p13786
aVAlso, naming your buttons , , etc
p13787
aVwould make the code much clearer than with button1, button2, etc
p13788
as(dp13789
g23
V571407
p13790
stp13791
a((dp13792
g2
(lp13793
VCalling an overridable method inside a constructor is bad practice, though
p13794
aVYou should thus make the method private or final, or make the class itself final
p13795
aVAlso, your method is a bit strange, because it takes a time as argument, but doesn't do anything with it
p13796
as(dp13797
g23
V571407
p13798
stp13799
a((dp13800
g2
(lp13801
VNot tested, but I think you might iterate through the WebClient's top level windows (using ), call   and test if the title text of the page is the one you're looking for
p13802
as(dp13803
g23
V571407
p13804
stp13805
a((dp13806
g2
(lp13807
VI guess you're using the (now dead) Swing Application Framework
p13808
aVNetbeans automatically generates an entry in the properties file associated with each panel for the tooltip, with an empty value (instead of not generating the property at all if you leave the text box blank)
p13809
aVJust remove the property in the properties file manually
p13810
aVThe lines looking like the following should be removed:
p13811
as(dp13812
g23
V571407
p13813
stp13814
a((dp13815
g2
(lp13816
VYou do it in JPA the same way that you're doing it with SQL
p13817
aVJust make it a JPQL query rather that a SQL query:
p13818
as(dp13819
g23
V571407
p13820
stp13821
a((dp13822
g2
(lp13823
VIt fails because the cart instance used by your test method and the cart instance used by the  method are different
p13824
aVEach transaction has its own instance of the entity
p13825
aVAnd JPA doesn't automagically refresh an entity when some other transaction updates the row mapped by this entity
p13826
aVYou should reload the cart from the database after  has been called to check if something has been added to the cart in database
p13827
as(dp13828
g23
V571407
p13829
stp13830
a((dp13831
g2
(lp13832
VYou probably want to use the class
p13833
aVBut since you named your own class , this is the class your program uses instead, and your  class doesn't take any generic parameter
p13834
aVChange the name of your class and import
p13835
as(dp13836
g23
V571407
p13837
stp13838
a((dp13839
g2
(lp13840
Vshould do what you want
p13841
as(dp13842
g23
V571407
p13843
stp13844
a((dp13845
g2
(lp13846
VYou have something wrong
p13847
aVThe first snippet should work, provided it's executed in the same transaction as the  call (i
p13848
ag468
aVthe transaction should be started by the method containing this snippet, and not by the  method)
p13849
aVIn the second snippet, if it runs in a transaction, then it should work: it loads the entity from the session, then copy the state of the detached a to the attached entity, then modifies the property of the attched entity
p13850
aVIf it doesn't run in a transaction, (i
p13851
ag468
aVif it's service
p13852
aVmerge which starts the transaction), the merge will work, but the change of the property will be done on a detached entity, and the new value of the property won't be persisted
p13853
as(dp13854
g23
V571407
p13855
stp13856
a((dp13857
g2
(lp13858
VJSP tags don't use scriptlet variables
p13859
aVThey use JSP EL expressions
p13860
aVscriptlets are something from the past and should not be used anymore in JSPs
p13861
aVJust use
p13862
aVOr, if you want to be more explicit:
p13863
as(dp13864
g23
V571407
p13865
stp13866
a((dp13867
g2
(lp13868
VThis is a FAQ
p13869
aVJust use java -Dlog4j
p13870
aVconfiguration=your/file/path
p13871
aVproperties
p13872
aVSee http://logging
p13873
aVapache
p13874
aVorg/log4j/1
p13875
aV2/manual
p13876
aVhtml#defaultInit for details about this system property
p13877
as(dp13878
g23
V571407
p13879
stp13880
a((dp13881
g2
(lp13882
VI guess there are many
p13883
aVHere's mine: https://memwords
p13884
aVappspot
p13885
aVcom/
p13886
aVIts source code is hosted on Google Code
p13887
aVSee http://code
p13888
aVgoogle
p13889
aVcom/hosting/search
p13890
aVq=label%3aAppEngine for a list of other projects hosted on google code and labeled with AppEngine
p13891
as(dp13892
g23
V571407
p13893
stp13894
a((dp13895
g2
(lp13896
VYou're searching for a user in the LDAP, using only his user name
p13897
aVBut to authenticate to the LDAP, you're using the searched user name and his password
p13898
aVJust use another (admin) user and password to authenticate, and return true if the search for the user returns something
p13899
as(dp13900
g23
V571407
p13901
stp13902
a((dp13903
g2
(lp13904
VA system property has a JVM scope
p13905
aVThe property will thus be modified (and available) in the whole tomcat JVM, for all the webapps and for Tomcat itself
p13906
aVNote that the system property is stored in memory, and will thus not persist if you stop and restart Tomcat
p13907
as(dp13908
g23
V571407
p13909
stp13910
a((dp13911
g2
(lp13912
VThe first one creates a new arraylist for nothing
p13913
aVThe created list is just garbage that has to be collected
p13914
aVThe second one is better, but should be reduced to
p13915
aVYou seem to be thinking that the assignment operator could be used to fill a list created by the caller
p13916
aVThis is not the case
p13917
aVthe assignment operator just takes the reference to the list created by the DAO (and which could be any kind of List), and assigns this reference to the variable
p13918
as(dp13919
g23
V571407
p13920
stp13921
a((dp13922
g2
(lp13923
VYes,  refers to the ClassB instance, which is also a  instance
p13924
aVThe method  is defined in , and thus has access to all the 's private members
p13925
aVYes,  is a method of , inherited by
p13926
aVA line executes in the context of the class in which this line is defined
p13927
aVNot applicable
p13928
as(dp13929
g23
V571407
p13930
stp13931
a((dp13932
g2
(lp13933
VFirst of all, the merge must be done on the working copy of the prototype branch
p13934
aVA merge consists in applying a diff between two versions of some branch to another branch
p13935
aVThe  and the  must thus both point to the trunk
p13936
aVYou want to apply, on the prototype branch, the changes made on trunk, from revision X to revision Y
p13937
aVThis is very well explained in the SVN book
p13938
as(dp13939
g23
V571407
p13940
stp13941
a((dp13942
g2
(lp13943
VThe total memory is the memory that is currently allocated to the JVM
p13944
aVIt varies over time
p13945
aVThe max memory is the maximum memory that the JVM could ever reach
p13946
aVIt's the upper limit of the total memory
p13947
as(dp13948
g23
V571407
p13949
stp13950
a((dp13951
g2
(lp13952
VIf you don't enclose this code block into any try block, the compiler will tell you which exceptions must be caught or thrown by the method
p13953
aVAny other exception that might be thrown by this code will be a runtime exception, which is a sign of a programming error, and which should thus not be caught, because it would just hide a bug rather than force you to fix it
p13954
as(dp13955
g23
V571407
p13956
stp13957
a((dp13958
g2
(lp13959
VOnce your tree of  instances has been built, the root of the tree is the  with ID 0
p13960
aVStart with this folder, and create a directory in the file system for each of its children, recursively:
p13961
as(dp13962
g23
V571407
p13963
stp13964
a((dp13965
g2
(lp13966
VThe JLabeledButton class should be static
p13967
aVElse, it can only be instantiated as part of an enclosing SetLabelForDemo instance
p13968
aVA non static inner class must always have an implicit reference to its enclosing instance
p13969
as(dp13970
g23
V571407
p13971
stp13972
a((dp13973
g2
(lp13974
VI think you're on the right track
p13975
aVYou should just use a custom SimpleHttpInvokerServiceExporter subclass on the server-side, and override  to extract the headers set by the client from the  argument
p13976
aVThese header values could be stored in a static  session variable, which would be accessible anywhere in the server-side code
p13977
as(dp13978
g23
V571407
p13979
stp13980
a((dp13981
g2
(lp13982
VIf you really need a bidirectional relationship, then you'll need to have to fields in movement, with one of them always being null:
p13983
aVBut you could have a single getter:
p13984
as(dp13985
g23
V571407
p13986
stp13987
a((dp13988
g2
(lp13989
VYour query is wrong
p13990
aVYou missed the alias and the equal signs in your where clause:
p13991
aVThe way you're building your map is also wrong
p13992
aVYou put "clayton st" as addressline1, and then replace it with an empty string
p13993
aVIf those corrections don't work, then edit your question, paste the stack trace of the exception, and tell us which line in your code throws it
p13994
as(dp13995
g23
V571407
p13996
stp13997
a((dp13998
g2
(lp13999
VYou do it with displaytag exactly as you would do it without it
p14000
aVJust compute the desired unit in the servlet/action dispatching to your JSP and store this unit in some bean in the request
p14001
aVThen access this bean in the JSP :
p14002
aVOr compute it in the JSP itself, using the JSTL, but it's more verbose:
p14003
as(dp14004
g23
V571407
p14005
stp14006
a((dp14007
g2
(lp14008
VThe  tag takes a property attribute
p14009
aVIf given, it only displays the errors for the given property
p14010
aVJust put this tag with the appropriate property next to the field, and you'll have what you want
p14011
as(dp14012
g23
V571407
p14013
stp14014
a((dp14015
g2
(lp14016
VThis code is syntactically correct
p14017
aVThe problem is your editor, which doesn't handle JSP scriptlet expressions
p14018
aVBut it's using scriplet expressions, which should not be used anymore (for years)
p14019
aVUse the JSP expression language, the JSTL, and other custom tag libraries
p14020
aVAvoid any scriptlet in the JSPs
p14021
aVJava code should be is Java classes (servlets or actions of your preferred MVC framework)
p14022
as(dp14023
g23
V571407
p14024
stp14025
a((dp14026
g2
(lp14027
VI usually let JPA create the schema initially only
p14028
aVAfter, I fine-tune it and maintain it by hand
p14029
aVThere are several reasons I prefer maintaining the schema by hand:
p14030
aVit allows putting comments in the SQL code
p14031
aVit allows adding comments/descriptions for the tables and columns
p14032
aVit allows specifying table spaces and other things that are not possible with JPA annotations
p14033
aVit allows splitting the schema creation between several SQL files (one per table + one for the constraints, for example)
p14034
aVit lets me reuse some parts of the schema creation script in my schema migration script
p14035
aVFor example, if version 2 of my app introduces 3 new tables, I need an alter script that can reuse the three SQL files creating the three new tables
p14036
aVI sometimes need to use synonyms for sequences, rather than concrete ones
p14037
aVit lets me choose names for primary key constraints
p14038
aVprobably some other reasons I've forgotten
p14039
as(dp14040
g23
V571407
p14041
stp14042
a((dp14043
g2
(lp14044
VOnly one of these jars should be in your classpath, to be able to compile your classes
p14045
aVBut at runtime, the jar will be in your application server classpath, and you won't be able to replace it with the other one
p14046
aVIf your container is a JEE6 container, then it uses servlet 3
p14047
aV0 and the servlet-api-2
p14048
ag14
aVjar is obsolete and should not be in the classpath
p14049
aVIf your container only supports servlet api 2
p14050
aV3, then you won't be able to use classes from the jee6 jar in this container
p14051
as(dp14052
g23
V571407
p14053
stp14054
a((dp14055
g2
(lp14056
VYou have a design problem
p14057
aVThe business logic layer should be the one demarcating transactions, and the data access layer should always use the same connection for a given transaction
p14058
aVYou could be using Spring, for example, which would let you use declarative transactions and a connection pool, and would make sure the same connection is used for the whole transaction
p14059
as(dp14060
g23
V571407
p14061
stp14062
a((dp14063
g2
(lp14064
VIf you don't need an association, then you don't need to add it
p14065
aVNote however that even if it's not used in Java code directly, an association might still be useful just to be able to traverse it in JPQL or criteria queries
p14066
aVRegarding your jobId field, it should just be removed from the  entity
p14067
aVAn employee has a job, and you can access its job ID using
p14068
aVYou shouldn't be able to set the job ID of an employee
p14069
aVInstead, you should get or create a job (in the service layer), and set the employee's job using
p14070
as(dp14071
g23
V571407
p14072
stp14073
a((dp14074
g2
(lp14075
VExact mapping has a bigger priority that path mapping
p14076
aVSo you shouldn't have any problem if you map your home servlet to  and the other one to , because  will take the precedence over
p14077
as(dp14078
g23
V571407
p14079
stp14080
a((dp14081
g2
(lp14082
VCtrl-click on one of the classes of the library, and you'll have a page asking you to specify the source location of the class
p14083
aVOr right-click on the jar, choose "Properties", and then "Java Source Attachment"
p14084
as(dp14085
g23
V571407
p14086
stp14087
a((dp14088
g2
(lp14089
VJust do your lookup once, and cache the reference to the remote object somewhere
p14090
aVThe rmiregistry is just used for bootstrapping
p14091
aVDoing a lookup every time will cause lots of unnecessary network calls
p14092
aVThe ServiceLocator pattern talks about it:
p14093
aVThe Service Locator pattern centralizes distributed service object
p14094
aVlookups, provides a centralized point of control, and may act as a
p14095
aVcache that eliminates redundant lookups
p14096
as(dp14097
g23
V571407
p14098
stp14099
a((dp14100
g2
(lp14101
VThis behavior is specified in the api doc:
p14102
aVIf this request has been forwarded using
p14103
aVRequestDispatcher
p14104
aVforward(javax
p14105
aVservlet
p14106
aVServletRequest,
p14107
aVjavax
p14108
aVservlet
p14109
aVServletResponse), the server path in the reconstructed
p14110
aVURL must reflect the path used to obtain the RequestDispatcher, and
p14111
aVnot the server path specified by the client
p14112
aVLook at
p14113
as(dp14114
g23
V571407
p14115
stp14116
a((dp14117
g2
(lp14118
VI guess  expects the path of a resource, that it will load using the ClassLoader, and not a relative file path
p14119
aVIt would help if you linked to the javadoc of this mysterious  method
p14120
aVIf my guess is correct, then the path should just be MainConfig
p14121
aVxml
p14122
aVMave copies the contents of  to the  (IIRC) folder
p14123
aVAnd this test-classes folder is in the classpath of the unit tests
p14124
as(dp14125
g23
V571407
p14126
stp14127
a((dp14128
g2
(lp14129
VOf course
p14130
aVUse  in your HQL query, as explained in the Hibernate reference documentation (that you should read):
p14131
as(dp14132
g23
V571407
p14133
stp14134
a((dp14135
g2
(lp14136
VThe code is in contradiction with the algorithm you described
p14137
aVYou told:
p14138
aVIf a user is not logged in and the first price is empty, then the
p14139
aVprice is price1
p14140
aVIf not, it is price2
p14141
aVIf a user is logged in and the
p14142
aVfirst price is empty, then the price is price1
p14143
aVIf not, it is price2
p14144
aVSo, in fact, the algorithm should do exactly the same thing whether the user is logged in or not
p14145
aVIn your code, it's also very strange:
p14146
aVYou have three conditions:
p14147
aVuser is not logged in
p14148
aVuser is logged in
p14149
aVother
p14150
aVThe user is logged in or it's not logged in
p14151
aVI don't see any other possibility
p14152
aVAnd also, the following lines:
p14153
aVcould be reduced to
p14154
aVsince you're doing the same operation in the two code blocks
p14155
as(dp14156
g23
V571407
p14157
stp14158
a((dp14159
g2
(lp14160
VYou could use a  (see http://ant
p14161
aVapache
p14162
aVorg/manual/Tasks/conditions
p14163
aVhtml)
p14164
aVRead the documentation carefully because it would need installing additional jar dependencies in ant
p14165
aVThe condition could look like that (not tested):
p14166
as(dp14167
g23
V571407
p14168
stp14169
a((dp14170
g2
(lp14171
VNo, there is no way around this
p14172
aVA Java file is very rarely a self-contained program with no dependencies at all
p14173
aVMost of the time, a program is composed of many collaborating classes depending on external libraries
p14174
aVIf you just want to test a self-contained Java program consisting of just one java file, then create a "playground" eclipse project, drop this file inside this project, and run it
p14175
aVUse the same playground project for all the other self-contained java programs if you want: you may have several main classes inside a single eclipse project
p14176
as(dp14177
g23
V571407
p14178
stp14179
a((dp14180
g2
(lp14181
VI'm not absolutely sure that this is the cause of your problem, but you should include the whole thing inside of a transaction
p14182
aVNot just the persistence part:
p14183
aVAs I said in my comments, you have other design and coding problems:
p14184
aVCascadeType
p14185
aVALL is wrong on a ManyToXxx association
p14186
aVYou don't want all the Bs of an A deleted when you delete A, since those Bs are referenced by other As
p14187
aVThis will lead to constraint violations (in the best case) or an inconsistent database (in the worst case, if you have no constraint defined)
p14188
aVDon't use string concatenation in your queries
p14189
aVUse parameterized queries
p14190
aVThis will avoid quoting problems and injection attacks:
p14191
as(dp14192
g23
V571407
p14193
stp14194
a((dp14195
g2
(lp14196
VIn Eclipse, go to the Search menu, choose File
p14197
aV, enter the string to search and  in the file name pattern, then click the Replace
p14198
aVbutton
p14199
aVYou may also click the Search button, and then right-click in the Search view and choose Replace All
p14200
aVor Replace selected
p14201
as(dp14202
g23
V571407
p14203
stp14204
a((dp14205
g2
(lp14206
VWhat's wrong is that the  operator does an addition, and not a concatenation when used on  variables
p14207
aVUse
p14208
aVto convert the numbers into strings and concatenate them
p14209
as(dp14210
g23
V571407
p14211
stp14212
a((dp14213
g2
(lp14214
VCSS:
p14215
aVHTML:
p14216
as(dp14217
g23
V571407
p14218
stp14219
a((dp14220
g2
(lp14221
VThis is possible, but not easily
p14222
aVIt would need to scan all the classes in the classpath to see if they have an annotation or implement the  interface
p14223
aVSee How do you find all subclasses of a given class in Java
p14224
aVfor answers to such a problem
p14225
aVI would do keep it simple and just have a list of classes to load, either in the factory itself, or in an external file (properties file, for example)
p14226
as(dp14227
g23
V571407
p14228
stp14229
a((dp14230
g2
(lp14231
VI guess GWT is talking about synchronous RPC from the javascript code running in the browser to the server
p14232
aVAnd it's indeed bad, because JavaScript is single-threaded, and doing a lengthy synchronous RPC call from the JavaScript thread makes the browser page not responsive: the GUI is frozen until the RPC call ends
p14233
aVThat's why AJAX is asynchronous by default: it allows making asynchronous requests to the server, which lets the browser in a responsive state
p14234
aVWhen the response comes back, a callback method is called to handle the result
p14235
as(dp14236
g23
V571407
p14237
stp14238
a((dp14239
g2
(lp14240
VUse  to pretty-print the contents of an array recursively
p14241
aVElse, every element of the array is printed using its  method, which indeed prints its type followed by its hashCode
p14242
as(dp14243
g23
V571407
p14244
stp14245
a((dp14246
g2
(lp14247
VYou could implement a post-commit hook on the SVN server that would trigger an  on the development server, so that its working copy is always up to date
p14248
aVOr you could use a simple cron job that would do a  every x minutes
p14249
as(dp14250
g23
V571407
p14251
stp14252
a((dp14253
g2
(lp14254
VMost of the time, it's done the other way round:
p14255
aVBut you could do something similar to your C# code by delegating to two other objects:
p14256
aVDelegates were proposed by Microsoft for Java a long long time ago, and were refused by Sun
p14257
aVI don't remember if anonymous inner classes already existed at that time or if they were chosen as the alternative
p14258
as(dp14259
g23
V571407
p14260
stp14261
a((dp14262
g2
(lp14263
VIt seems to me that you're making it more complex than it could be
p14264
aVI would simply do
p14265
aVand, in the JSP, test if the current user's ID is the same as the one being detailed:
p14266
aVBTW, param
p14267
aVfoo returns the value of a request parameter, not the value of a request attribute
p14268
aVYou could do what you wanted by using
p14269
aVThe  notation instead of the  operator is the way to pass a dynamic name rather than a static one
p14270
as(dp14271
g23
V571407
p14272
stp14273
a((dp14274
g2
(lp14275
VI would say no
p14276
aVJPA is targeted at RDBMSs, and doesn't use the additional capabilities offered by ORDBMSs
p14277
aVNow, PostgreSQL is also a very good RDBMS (you're not forced to use its object-oriented features, and my guess would be that most of its users don't), and you may use it with JPA without problem
p14278
as(dp14279
g23
V571407
p14280
stp14281
a((dp14282
g2
(lp14283
VThe index returned by  is a  index : it's the index of the row as seen by the end-user in the table
p14284
aVIt's not the same as the model index, because if you sort the table, the indices in the model don't change, but the indices in the view do change
p14285
aVSo, you must always use  to get the model index from the view index
p14286
aVNote that the same must be done for columns, because the user might choose to reorder columns to its taste
p14287
aVAlso, you shouldn't have to set the model again each time you remove a row
p14288
aVInstead, your model should fire a TableModelEvent to inform the view about the removal
p14289
aVSee
p14290
as(dp14291
g23
V571407
p14292
stp14293
a((dp14294
g2
(lp14295
VYour interface has the following method:
p14296
aVBut your class has this one:
p14297
aVThe contract is thus not respected: the interface method accepts any implementation of  as argument, whereas the class method only accepts the specific  implementation
p14298
as(dp14299
g23
V571407
p14300
stp14301
a((dp14302
g2
(lp14303
VI think you'll have to sort the items in Java:
p14304
as(dp14305
g23
V571407
p14306
stp14307
a((dp14308
g2
(lp14309
VThey keep changing because you set all the fields except the milliseconds, which are thus the number of milliseconds at the current time
p14310
aVCall  or  before setting the other fields, and the values shouldn't vary anymore
p14311
as(dp14312
g23
V571407
p14313
stp14314
a((dp14315
g2
(lp14316
VDon't use a String as a container of other Strings
p14317
aVUse a :
p14318
aVThis will have additional advantages:
p14319
aVit will avoid duplicates in the set of players
p14320
aVit will allow you to add and remove players from the set easily
p14321
aVNote: variables in Java should always start with a lower-case letter
p14322
as(dp14323
g23
V571407
p14324
stp14325
a((dp14326
g2
(lp14327
VYou get it because  is null
p14328
aVAnd since you're calling  on this null value, you get a NullPointerException
p14329
aVNote that
p14330
aVcould be rewritten as
p14331
aV(except you wouldn't have the NullPointerException)
p14332
as(dp14333
g23
V571407
p14334
stp14335
a((dp14336
g2
(lp14337
VThe tabs widget is part of jQuery UI, which is an extension of jQuery
p14338
aVYou need to install jquery UI on your page
p14339
aVSee http://learn
p14340
aVjquery
p14341
aVcom/jquery-ui/getting-started to get you started with jQuery UI
p14342
as(dp14343
g23
V571407
p14344
stp14345
a((dp14346
g2
(lp14347
VYou shouldn't use an entity if it's not supposed to be stored in any database table
p14348
aVThe query should return a list of objects which are instances of a class not annotated with
p14349
aVThat being said, letting hibernate generate the database schema for you is something you should only do for quick prototyping, at the very beginning of a project
p14350
aVLater, the schema should not be created automatically anymore
p14351
as(dp14352
g23
V571407
p14353
stp14354
a((dp14355
g2
(lp14356
VThe only way to remove an entry from a map while iterating over it is to remove it using the iterator
p14357
aVUse
p14358
aVinstead of
p14359
aVNote that the same applies to all the collections (List, Set, etc
p14360
aVAlso, note that your design is not thread-safe, because you let other threads access the map in an unsynchronized way
p14361
as(dp14362
g23
V571407
p14363
stp14364
a((dp14365
g2
(lp14366
VUsing a query:
p14367
as(dp14368
g23
V571407
p14369
stp14370
a((dp14371
g2
(lp14372
VThat's how I generate all of my XHTML web pages, and XHTML is XML
p14373
aVYou might want to use  or  to escape special XML characters
p14374
as(dp14375
g23
V571407
p14376
stp14377
a((dp14378
g2
(lp14379
VYou're writing to the same file you're reading
p14380
aVSo as soon a you write your first integer to the  writer stream, the contents of the file is replaced by what you've written
p14381
aVSince you're using a BufferedOutputStream, it might in fact happen later than the first time you're writing
p14382
aVYou should read all the integers in memory, close the input stream, sort the integers in memory, and then write all the integers to the file
p14383
aVI don't understand why you're using a random access file just to get a file descriptor and the open streams on the file
p14384
aVEither you want to access it randomly, or you want to access it using streams
p14385
aVBut you can't do both
p14386
as(dp14387
g23
V571407
p14388
stp14389
a((dp14390
g2
(lp14391
VBecause int and Integer are two separate types
p14392
aVThe first one is a primitive type, and the second one is an object type
p14393
aVInteger extends Number, but int is not even a class, and it thus can't extend anything
p14394
as(dp14395
g23
V571407
p14396
stp14397
a((dp14398
g2
(lp14399
VUse
p14400
as(dp14401
g23
V571407
p14402
stp14403
a((dp14404
g2
(lp14405
VUse a  initialized with 10 permits
p14406
aVAcquire a permit at the beginning of the method, and release it (in a finally block) at the end of the method
p14407
as(dp14408
g23
V571407
p14409
stp14410
a((dp14411
g2
(lp14412
VIf you make all these methods synchronized, then only one thread at a time will be able to invoke any of the methods, and the list will thus be accessed in a thread-safe way, provided only these methods are able to access the list (i
p14413
ag468
aVthe list is private, and no other method uses the list)
p14414
as(dp14415
g23
V571407
p14416
stp14417
a((dp14418
g2
(lp14419
VYes, except
p14420
aVthat the first one synchronizes on the class, and that there might be other parts of the code that synchronize on the same class
p14421
aVthat the semaphore could be fair, whereas synchronization is not
p14422
aVthat the thread blocked in semaphore
p14423
aVacquire could be interrupted, causing an InterruptedException to be thrown
p14424
aVYour code doesn't compile as is: you must handle this exception somehow, whereas you don't have to using synchronized
p14425
as(dp14426
g23
V571407
p14427
stp14428
a((dp14429
g2
(lp14430
VThe DAO probably executee a request like
p14431
aVChange the query to
p14432
aVOf course, instead of having a  as a result, you'll have a
p14433
aVThis is basic stuff described in the Hibernate reference documentation
p14434
aVHave you read it
p14435
aVAlso, getting the session from the DAO and closing it manually like this shows a design problem
p14436
aVThis should be encapsulated by the service layer or, even better, by the declarative transaction handling
p14437
as(dp14438
g23
V571407
p14439
stp14440
a((dp14441
g2
(lp14442
VThe error message tells you exactly at which line the exception is thrown
p14443
aVRead the error message
p14444
aVIt contains useful information
p14445
aVI can tell you just by examining the code that this line will cause an exception since the input field is named  (lowercase u), and you read the (thus null) parameter  (uppercase U):
p14446
aVBTW, why are you calling  on a
p14447
as(dp14448
g23
V571407
p14449
stp14450
a((dp14451
g2
(lp14452
VYou got it right
p14453
aVNote that you could initially point to another servlet (let's call it LoginDisplay), which would just dispatch to the login JSP
p14454
aVThe JSP would submit to the LoginAuth servlet, which expects all the required parameters to be there
p14455
aVIf you want to use such a model, don't reinvent the wheel, though
p14456
aVThere are lots of frameworks implementing this model already and providing other useful services : Stripes, Spring MVC, Struts just to name a few
p14457
as(dp14458
g23
V571407
p14459
stp14460
a((dp14461
g2
(lp14462
VThe cascade doesn't work when deleting entities using DML-style delete queries
p14463
aVIt will work only if you delete the employee using the session:
p14464
as(dp14465
g23
V571407
p14466
stp14467
a((dp14468
g2
(lp14469
VAn abstract class is never instantiated
p14470
aVOnly its concrete subclasses can be instantiated
p14471
aVSo, when the concrete subclass (let's call it ) constructor is called, it calls
p14472
aVThe Entity constructor then calls , which has been overridden by
p14473
aVIt thus calls the Foo  concrete method
p14474
aVNote that this is bad practice, because the  method will be called on a not yet fully constructed object
p14475
aVThe subclass thus has to make sure this method doesn't access any field it might declare, because they will all be unititialized
p14476
as(dp14477
g23
V571407
p14478
stp14479
a((dp14480
g2
(lp14481
VBecause if you make it return something other than , you're not respecting the contract of the method you override, which is declared in  as
p14482
as(dp14483
g23
V571407
p14484
stp14485
a((dp14486
g2
(lp14487
VIf you need to call methods that are specific to  on your  variable, then its type should not be , but :
p14488
aVThis doesn't cause any problem, because since  extends , a  is also a  (and is also an , and is also an )
p14489
as(dp14490
g23
V571407
p14491
stp14492
a((dp14493
g2
(lp14494
VYou'll have to test it to be sure
p14495
aVBut you certainly shouldn't store files in this location in the first place
p14496
aVStore them outside the tomcat webapps directory, because this directory is supposed to contain webapps, and nothing else
p14497
as(dp14498
g23
V571407
p14499
stp14500
a((dp14501
g2
(lp14502
VThe bytes generated by the MessageDigest don't necessarily represent printable chars
p14503
aVYou should display the numeric value of each byte, or transform the byte array into a Base64 string to have something printable
p14504
aVSee apache commons-codec to get an implementation of Base64
p14505
aVThe two exception that you're forced to handle should never happen, because UTF-8 is guaranteed to be supported by any JVM, and the MD5 algorithm is also supported natively by the JVM
p14506
aVYou shoud thus wrap your code inside a try catch block like this:
p14507
as(dp14508
g23
V571407
p14509
stp14510
a((dp14511
g2
(lp14512
VThe line
p14513
aVwill be translated to
p14514
aVBut your CSS file is at
p14515
aVYou should always use  to generate URLs:
p14516
aVOr you might also use
p14517
as(dp14518
g23
V571407
p14519
stp14520
a((dp14521
g2
(lp14522
VThe  method is implemented by , and returns the class name of the object followed by its hashCode
p14523
aVIf you want to print something other than that, you need to override toString and make it return what you desire
p14524
aVNote that  calls the  method on
p14525
aVYou don't need to explicitely call
p14526
as(dp14527
g23
V571407
p14528
stp14529
a((dp14530
g2
(lp14531
VUse
p14532
aVThe connection callback will have access to the connection which is automatically opened, closed and associated to the current transaction by Spring
p14533
as(dp14534
g23
V571407
p14535
stp14536
a((dp14537
g2
(lp14538
VI would use HtmlUnit, which is a programmatic web browser
p14539
aVYou tell it to load the authentication page, to fill the form with your credentials and to click on the submit button
p14540
aVThe you click on links, just as you would do it with a real browser, but programmatically, using Java instructions
p14541
aVAnd it even supports JavaScript, if necessary
p14542
as(dp14543
g23
V571407
p14544
stp14545
a((dp14546
g2
(lp14547
VYou should add the image panel to the contentPane of the
p14548
aVAnd you should just use  on the frame to make it take the appropriate size
p14549
aVIt will take the size needed to accomodate the preferred size of its components
p14550
as(dp14551
g23
V571407
p14552
stp14553
a((dp14554
g2
(lp14555
VYou can do that, but since Spring must instantiate the bean, you must tell him which values to pass to the constructor
p14556
aVFirst possibility: autowire the two arguments:
p14557
aVIn this case, you'll have to declare two beans of type String in the context
p14558
aVxml file, with the appropriate name
p14559
aVSecond possibility: declare the bean itself in the context
p14560
aVxml file and tell Spring which arguments it must pass to the constructor
p14561
aVSee http://static
p14562
aVspringsource
p14563
aVorg/spring/docs/3
p14564
ag2332
aVx/spring-framework-reference/html/beans
p14565
aVhtml#beans-factory-collaborators
p14566
as(dp14567
g23
V571407
p14568
stp14569
a((dp14570
g2
(lp14571
VThe javadoc of  states:
p14572
aVUnflushed changes made to the entity if any (including removal of the
p14573
aVentity), will not be synchronized to the database
p14574
aVSo you're persisting it, then detaching it
p14575
aVBut the operations associated to persist have not been flushed yet, and the entity is thus not saved to the database
p14576
aVWhy do you want to detach it
p14577
aVAs soon as the transaction is ended, it will be detached automatically
p14578
as(dp14579
g23
V571407
p14580
stp14581
a((dp14582
g2
(lp14583
V and  should not be source folders
p14584
aV, , ,  should be source folders
p14585
aVSource folders should contain the root of the package tree
p14586
aVAnd java and config are not packages
p14587
as(dp14588
g23
V571407
p14589
stp14590
a((dp14591
g2
(lp14592
VYou may not add the same widget twice
p14593
aVYou need two separate buttons (but you may use the same icon on both)
p14594
as(dp14595
g23
V571407
p14596
stp14597
a((dp14598
g2
(lp14599
VYour container should parse the XML file, extract a list of class names, call  for all the class names, to get a list of  objects
p14600
aVThen use  to call the default constructor of each of the class, cast the created objects to , and call their  method
p14601
as(dp14602
g23
V571407
p14603
stp14604
a((dp14605
g2
(lp14606
VJust merge everything to your working copy, then revert every modified/added/removed file that is not a
p14607
aVjsp file, and commit
p14608
as(dp14609
g23
V571407
p14610
stp14611
a((dp14612
g2
(lp14613
VEntities may have methods:
p14614
as(dp14615
g23
V571407
p14616
stp14617
a((dp14618
g2
(lp14619
VSee http://www
p14620
aVdisplaytag
p14621
aVorg/1
p14622
aV2/configuration
p14623
aVhtml:
p14624
aVsort
p14625
aVamount : Indicates if the full list should be sorted before
p14626
aVpaging or if the sorting only affects items in the current page
p14627
aVDefault behaviour is to sort only items in the current page (first
p14628
aVpaging, then sorting)
p14629
aVYou may change this configuration for the whole webapp (by setting its value in the displaytag
p14630
aVproperties file), or you may change it for a specific table using the  tag
p14631
as(dp14632
g23
V571407
p14633
stp14634
a((dp14635
g2
(lp14636
VOnly expose services that your application really uses
p14637
aVI doubt you need a  or a  for every entity
p14638
aVThe fact that the implementation of these methods is very simple is a good thing: you won't have any difficulty implementing and testing them
p14639
aVIf they become more complex, and need several repository method calls and a bit of business logic, you'll be happy to just have to modify the method, and not change all your design
p14640
as(dp14641
g23
V571407
p14642
stp14643
a((dp14644
g2
(lp14645
VHtmlUnit is a web browser
p14646
aVIt just doesn't have a graphical user interface: you have to tell it what to do using code
p14647
aVIf you're able to access your page using a regular web browser, then just do the same thing with HtmlUnit, and it will work as expected
p14648
as(dp14649
g23
V571407
p14650
stp14651
a((dp14652
g2
(lp14653
VAdd a  instance to your
p14654
aVThe  should of course contain  instances
p14655
aVSee http://download
p14656
aVoracle
p14657
aVcom/javase/tutorial/uiswing/components/menu
p14658
aVhtml for a tutorial over menus in Swing
p14659
as(dp14660
g23
V571407
p14661
stp14662
a((dp14663
g2
(lp14664
VJust use
p14665
aVallows getting a resource from anywhere (including resources external to the webapp), and thus generates a new request, different from the original one, to get the resource
p14666
aVuses the request dispatcher, and the same request is thus used
p14667
as(dp14668
g23
V571407
p14669
stp14670
a((dp14671
g2
(lp14672
VYou can't
p14673
aVYou'll have to define another, different method
p14674
aVThe valueOf method is automatically generated by the compiler
p14675
as(dp14676
g23
V571407
p14677
stp14678
a((dp14679
g2
(lp14680
VPutting a class in the classpath is not sufficient to have it loaded by the class loader
p14681
aVAnd the driver class must be loaded to ensure that it's registered to the JDBC API
p14682
aVBTW, for  to work, the driver class must be in the classpath
p14683
as(dp14684
g23
V571407
p14685
stp14686
a((dp14687
g2
(lp14688
VIt compiles to , because the compiler translates the concatenation of multiple String litterals to a single String litteral
p14689
aVIf you had
p14690
aVit would compile it to
p14691
aVSo you should prefer
p14692
aVin this case
p14693
as(dp14694
g23
V571407
p14695
stp14696
a((dp14697
g2
(lp14698
VYou could use , got to the last position using , and call
p14699
aVNote though that this will give you the number of SQL rows, and not necessarily the number of entities returned by the query (if there is a join fetch on a collection, for example)
p14700
as(dp14701
g23
V571407
p14702
stp14703
a((dp14704
g2
(lp14705
VEnable batch fetching in the Hibernate configuration to reduce the number of queries, or execute a query that will load the Widgets and their Fidgets:
p14706
aVThis is also well described in the reference documentation, which is a great source of information
p14707
as(dp14708
g23
V571407
p14709
stp14710
a((dp14711
g2
(lp14712
VYou're closing the database connection while iterating through the
p14713
aVA  needs to have its connection open to work
p14714
aVYou should also make sure to close the JDBC connection in a finally block
p14715
as(dp14716
g23
V571407
p14717
stp14718
a((dp14719
g2
(lp14720
VIt's , and not  that must be used to display a property
p14721
as(dp14722
g23
V571407
p14723
stp14724
a((dp14725
g2
(lp14726
VAll these would have to be transactional resources, able to participate in a 2-phase commit protocol, in order to do what you want
p14727
aVUnless you have a bug in your code, the update to the session should never fail
p14728
aVYou could thus do it after the other updates are successful
p14729
aVThe file system should just be avoided if you need something transactional
p14730
aVThe alternative could be to start by saving to the file system, then do the database updates, and accept to have useless files in the file system if the DB update fails
p14731
as(dp14732
g23
V571407
p14733
stp14734
a((dp14735
g2
(lp14736
VYou can't apply max results to a query which performs a join fetch on a collection, because the max is applied to the number of rows returned in the result set, and not to the number of entities
p14737
aVWhat I do, in this case, is a first query that only fetches the IDs of the root entity (), and then a second query which selects the entities with their fetched collection, using an IN clause:
p14738
as(dp14739
g23
V571407
p14740
stp14741
a((dp14742
g2
(lp14743
VThe reference documentation says:
p14744
aVExpressions used in the where clause include the following:
p14745
ag7651
aVSQL literals 'foo', 69, 6
p14746
aV66E+2, '1970-01-01 10:00:01
p14747
aV0'
p14748
as(dp14749
g23
V571407
p14750
stp14751
a((dp14752
g2
(lp14753
VYour comparator doesn't respect the Comparator contract: if , then  should be
p14754
aVYou must find a deterministic way of comparing your elements when both sizes are the same and the integers are not identical
p14755
aVYou could perhaps use the  of the integers to compare them in this case
p14756
aVThat said, I really wonder what you could do with such a map: you can't create new Integers and use them to get a value out of the map, and you can't modify the sets that it holds
p14757
aVSide note: your comparator code sample uses  and  to refer to the same map
p14758
as(dp14759
g23
V571407
p14760
stp14761
a((dp14762
g2
(lp14763
VSpring executes at server-side, and JavaScript executes at client-side
p14764
aVFor the point of view of Spring, JavaScript is just text that must be generated
p14765
aVAnd this text must represent valid JavaScript source code
p14766
aVThe JavaScript source code that creates an array of dates could thus be generated like this:
p14767
aVThis will generate the following JavaScript code:
p14768
aVwith the numeric arguments being the number of milliseconds since the epoch, which is the same in Java and JavaScript
p14769
as(dp14770
g23
V571407
p14771
stp14772
a((dp14773
g2
(lp14774
VYou need to use a transaction manager that supports XA, and is thus able to do a two-phase commit on the database and the JMS engine
p14775
aVThere are several such transaction managers (Bitronix, Atomikos, etc
p14776
aVfreely available
p14777
aVIf you already use such a transaction manager (because your app runs in an application server providing it), but you don't want to configure something as heavy just for the unit tests, then implement two unit tests
p14778
aVone where the JMS part is mocked up (to test the DB item creation only),
p14779
aVand one where only the JMS message handling is tested
p14780
aVNote that without XA, you'll probably have to handle bizarre situations where the JMS message is handled whereas the first transaction is not committed yet, or where the database transaction is comitted but the sending of the message fails
p14781
as(dp14782
g23
V571407
p14783
stp14784
a((dp14785
g2
(lp14786
VIt all depends on what the "Macro player" does if it encounters a runtime exception, and on what you want to happen
p14787
aVIf it doesn't handle it at all, but you don't care, throw a RuntimeException
p14788
aVIf it handles them properly, throw a RuntimeException
p14789
aVIf it doesn't handle them properly, and you don't want it to fail miserably, then catch the exceptions that might happen in your execute method, and handle them as you feel is the best: show an error dialog box, output an error message, log some error in the logs
p14790
as(dp14791
g23
V571407
p14792
stp14793
a((dp14794
g2
(lp14795
VThis seems to be impossible using annotations : see https://hibernate
p14796
aVonjira
p14797
aVcom/browse/ANN-140
p14798
aVIt's possible, and documented in the reference documentation, if you use XML files to map those entities
p14799
aVNote that Hibernate doesn't need any discriminator, so you might just remove it, or treat it like a basic column
p14800
as(dp14801
g23
V571407
p14802
stp14803
a((dp14804
g2
(lp14805
VThe problem is that you have a single mapped association : the many-to-one association between a product and a store
p14806
aVThe two one-to-many associations (store-vegetables and store-fruits) are both the inverse association of the single product-store association, which is not valid
p14807
aVI'm not sure of the best solution, though
p14808
aVMoreover, I know what I can do in Java, but not in coldfusion
p14809
aVLook at adding a where clause or a filter to your collection mapping (see http://docs
p14810
aVjboss
p14811
aVorg/hibernate/core/3
p14812
aV6/javadocs/org/hibernate/annotations/Where
p14813
aVhtml and http://docs
p14814
aVjboss
p14815
aVorg/hibernate/core/3
p14816
aV6/javadocs/org/hibernate/annotations/Filter
p14817
aVhtml)
p14818
aVOr simply have a single store-products one to many association, and add two custom methods filtering the collection of products
p14819
as(dp14820
g23
V571407
p14821
stp14822
a((dp14823
g2
(lp14824
VYou need to use the id attribute to have a reference to the current element of the list on which the display tag iterates:
p14825
aVNote that attributes, like Java variables, conventionally start with a lower-case letter
p14826
as(dp14827
g23
V571407
p14828
stp14829
a((dp14830
g2
(lp14831
VA Date is just an instant in universal time
p14832
aVIt has no notion of a time zone
p14833
aVThink of it as "when Kennedy was killed"
p14834
aVWhen you display this time with a , this date format has a time zone, and you display this instant in time using this time zone
p14835
aVSo, if the time zone of the date format is the central standard time, this time will be displayed as 12:30
p14836
aVIf the time zone is UTC, it will be displayed as 18:30
p14837
aVIf you want some date to be displayed the same way, regardless of the time zone, than you just have to choose a specific time zone (UTC, for example), and always display the date with this time zone
p14838
aVYou thus have to call  on the  before formatting the date
p14839
as(dp14840
g23
V571407
p14841
stp14842
a((dp14843
g2
(lp14844
VSince the method signature is
p14845
aVyour variable  should be of type , and not of type
p14846
aVA  accepts any  instance as element
p14847
aVWhereas a  is a , or a , or a , or a list of some other subclass of
p14848
aVYou just don't know which one
p14849
as(dp14850
g23
V571407
p14851
stp14852
a((dp14853
g2
(lp14854
VIf your custom exception is ever used in a distributed application (using RMI, Spring http-invoker, whatever) and can be thrown from a server method that is invoked from a remote client, then the exception will have to be serialized to cross the wire and go to the client
p14855
as(dp14856
g23
V571407
p14857
stp14858
a((dp14859
g2
(lp14860
VI think the problem comes from the fact that you're not accessing your service through an interface
p14861
aVBy default, Spring uses Java interface-based proxies
p14862
aVBTW, the stack trace doesn't contain any transactional interceptor call
p14863
aVSee the second note under this paragraph of the Spring documentation:
p14864
aVThe proxy-target-class attribute on the
p14865
aVelement controls what type of transactional proxies are created for
p14866
aVclasses annotated with the @Transactional annotation
p14867
aVIf
p14868
aVproxy-target-class attribute is set to true, class-based proxies are
p14869
aVcreated
p14870
aVIf proxy-target-class is false or if the attribute is
p14871
aVomitted, standard JDK interface-based proxies are created
p14872
aV(See
p14873
aVSection 7
p14874
aV6, \u201cProxying mechanisms\u201d for a discussion of the different
p14875
aVproxy types
p14876
aVSo, either introduce interfaces for your transactional services and DAOs, or use
p14877
as(dp14878
g23
V571407
p14879
stp14880
a((dp14881
g2
(lp14882
VDevelop your application using the supported version of the specification (Servlet 2
p14883
aV5), or use another application server supporting the version 3
p14884
aV0, or wait for the version of WebLogic that supports version 3
p14885
ag2332
as(dp14886
g23
V571407
p14887
stp14888
a((dp14889
g2
(lp14890
s(dp14891
g23
V571407
p14892
stp14893
a((dp14894
g2
(lp14895
VIf I understand correctly, you're executing a query such as
p14896
aVand then execute a Criteria query which returns ObjectDaos still having a client that you just deleted
p14897
aVIf that's right, then it's expected behavior
p14898
aVDML-style queries (i
p14899
ag468
aVupdate and delete queries) bypass the session
p14900
aVThis means that if some object that you deleted was already loaded in the session before the delete query, Hibernate won't delete them from the session, and the session won't reflect the actual state of the database
p14901
aVUse Session
p14902
aVdelete to delete your objects, and make sure to maintain your object graph in memory
p14903
aVOr flush and clear the session after the delete query
p14904
as(dp14905
g23
V571407
p14906
stp14907
a((dp14908
g2
(lp14909
VIf  is , and the propertyName value is , then the restriction will accept this property
p14910
aVThat's the whole point of using the like operator
p14911
as(dp14912
g23
V571407
p14913
stp14914
a((dp14915
g2
(lp14916
VIt's of your responsibility to maintain the coherence of the object graph
p14917
aVIf you create a child referencing its parent, you should also add this child to the parent's collection
p14918
aVHibernate won't do it for you
p14919
aVThereis no reason to call merge on the parent, though: the goal of merge is to copy the state of a detached entity to its attached versioin, and I don't see what this has to do with your problem
p14920
as(dp14921
g23
V571407
p14922
stp14923
a((dp14924
g2
(lp14925
VYes
p14926
aVTags and branches are exactly the same thing in SVN
p14927
aVA tag is just conventionally in tags, and is supposed to be read-only, whereas a branch is conventionally in branches and is read-write
p14928
aVIf the branch already exists, then just merge the commits you did to the tag to the working copy (pointing to the branch):
p14929
aVAll this is well explained in the SVN book
p14930
as(dp14931
g23
V571407
p14932
stp14933
a((dp14934
g2
(lp14935
VThe documentation says that the Text type can be used to store strings up to 1 Mb (not indexed)
p14936
as(dp14937
g23
V571407
p14938
stp14939
a((dp14940
g2
(lp14941
VI would just partition the list of IDs in chunks of 1000, and execute the same query for each chunk
p14942
aVThis can be easily encapsulated in a reusable utility method
p14943
as(dp14944
g23
V571407
p14945
stp14946
a((dp14947
g2
(lp14948
VBecause you certainly have so many books in the database that the query takes a lot of time (more than 1 minute), and that GAE throws this exception when a request is so long
p14949
aVSee http://code
p14950
aVgoogle
p14951
aVcom/intl/en-US/appengine/docs/java/runtime
p14952
aVhtml#Quotas_and_Limits
p14953
as(dp14954
g23
V571407
p14955
stp14956
a((dp14957
g2
(lp14958
VYou shouldn't have a curly brace before the throws keyword :
p14959
aVNote that a class should always start with an uppercase letter
p14960
as(dp14961
g23
V571407
p14962
stp14963
a((dp14964
g2
(lp14965
VA war is just a zip file
p14966
aVUnzip it, change the properties files, and rezip
p14967
aVNo need to recompile anything
p14968
aVProviding a simple script to do that in a single operation should be easy
p14969
aVYou could even use the u (update) option of jar to do it
p14970
aVSee http://download
p14971
aVoracle
p14972
aVcom/javase/tutorial/deployment/jar/update
p14973
aVhtml
p14974
as(dp14975
g23
V571407
p14976
stp14977
a((dp14978
g2
(lp14979
V and  are not valid Java operators
p14980
aVJasperReports uses Java expressions
p14981
aVAnd since all Jasper parameters and fields are objects, I doubt you want to compare them with
p14982
aVUse equals instead
p14983
as(dp14984
g23
V571407
p14985
stp14986
a((dp14987
g2
(lp14988
VMy advice would be to forget about the  tags completely, and to make all your database operations in plain Java (in a servlet or action of your preferred MVC framework)
p14989
aVThis servlet would build a list of bean instances, ready to be displayed by your JSP
p14990
aVUse  to dispatch the request to the JSP from the servlet
p14991
aVEven the official Java EE tutorial says:
p14992
aVThe JSTL SQL tags for accessing databases listed in Table 7-7 are
p14993
aVdesigned for quick prototyping and simple applications
p14994
aVFor production
p14995
aVapplications, database operations are normally encapsulated in
p14996
aVJavaBeans components
p14997
as(dp14998
g23
V571407
p14999
stp15000
a((dp15001
g2
(lp15002
VThis is generally for this kind of problem that the Criteria api is used: it allows building a query dynamically:
p15003
aVThis answer doesn't follow your request of not using anything else than , but you might also ask how to build a house using nothing else than a screwdriver, and the best answer would still be "buy some other tools")
p15004
as(dp15005
g23
V571407
p15006
stp15007
a((dp15008
g2
(lp15009
VYou could have two modes of operations, which must be chosen by the user by selecting a radio button, for example: one for drawing zigzags, and the other one for selecting vertices
p15010
aVWhile the chosen mode is "zigzag", the mouse clicks allow drawing zigzags as you have already implemented
p15011
aVWhen the chosen mode is "vertex selection", then a mouse click could find a vertex whose distance from the clicked point is less than 3 pixels, and the dragging of the mouse could move the vertex from its original position, following the mouse pointer
p15012
aVYou could inform the user about the selected vertex by displaying a small squere around the vertex
p15013
as(dp15014
g23
V571407
p15015
stp15016
a((dp15017
g2
(lp15018
VThe usual convention is to put the unit test of a class in the same package as the class under test
p15019
aVThis allows the unit test to access package-private and protected methods of the class, and thus to test them
p15020
as(dp15021
g23
V571407
p15022
stp15023
a((dp15024
g2
(lp15025
VThe  option uses the manifest of the jar to set the classpath
p15026
aVSince your application depends on the jar , this jar should be in the classpath specified in the manifest of your
p15027
aVSee http://download
p15028
aVoracle
p15029
aVcom/javase/tutorial/deployment/jar/downman
p15030
aVhtml for explanations
p15031
as(dp15032
g23
V571407
p15033
stp15034
a((dp15035
g2
(lp15036
VGiven this part of the documentation, this code should get you started:
p15037
as(dp15038
g23
V571407
p15039
stp15040
a((dp15041
g2
(lp15042
V has nothing to do with inheritance
p15043
aVIt merges the properties of the second object to the first one
p15044
aVThis means that the reference to your  is both in  and
p15045
aVRead http://api
p15046
aVjquery
p15047
aVcom/jQuery
p15048
aVextend/
p15049
as(dp15050
g23
V571407
p15051
stp15052
a((dp15053
g2
(lp15054
VYou don't debug objects or classes
p15055
aVYou debug methods
p15056
aVPut a breakpoint inside a method of the object you want to debug, and you'll be able to inspect the contents of this object when this method is called
p15057
aVIf you have an object A containing a collection of objects B, put a breakpoint in a method of A, and you'll be able to inspect its collection of Bs when this method is called
p15058
aVBut you can't just start in debug and see all the objects on the heap
p15059
aVIt could be very difficult to identify the one you're looking for
p15060
as(dp15061
g23
V571407
p15062
stp15063
a((dp15064
g2
(lp15065
VYou can't
p15066
aVA favicon is something that can be set on a HTML page, but not on a PDF file
p15067
aVYou might be able to do that by linking to a HTML page which has a favicon and contains an iframe containing the PDF file, but it seems overkill for just a favicon
p15068
as(dp15069
g23
V571407
p15070
stp15071
a((dp15072
g2
(lp15073
VYou are responsible of the coherence of the object graph
p15074
aVJPA won't automatically add a child to a parent's collection when you save the child
p15075
aVIt's thus of your responsibility to do
p15076
aVIt's even better to encapsulate this in a  method of the  class:
p15077
as(dp15078
g23
V571407
p15079
stp15080
a((dp15081
g2
(lp15082
s(dp15083
g23
V571407
p15084
stp15085
a((dp15086
g2
(lp15087
VBecause that's how the project explorer's filters are configured by default
p15088
aVClick on the little triangle at the top right of the project explorer view, then select "Customize View
p15089
aV, and uncheck "Java output folders", and you'll see it
p15090
as(dp15091
g23
V571407
p15092
stp15093
a((dp15094
g2
(lp15095
VThe two first methods are similar
p15096
aVIntroduce variables if you feel it's more readable and maintainable
p15097
aVThe last one makes the  class mutable whereas it was immutable in the first two methods (not in the strictest meaning used in concurrency, though)
p15098
aVYou should always favor immutability when possible, mainly because it makes programs more robust: a  is always in a usable, fully constructed state in the first two cases
p15099
aVNot in the third one
p15100
aVNote that performance is irrelevant here: the three ways will certainly lead to comparable times, and it's not that kind of code that will make a program slow
p15101
aVDon't optimize prematurely
p15102
aVIt's the root of all evil
p15103
as(dp15104
g23
V571407
p15105
stp15106
a((dp15107
g2
(lp15108
VWhat's wrong is that you would indeed need a right join to do this
p15109
aVYou could just have the reverse  association from  to , and query from the magazine to the magazineIn with a left join
p15110
as(dp15111
g23
V571407
p15112
stp15113
a((dp15114
g2
(lp15115
VThe root directory of your eclipse project should be the root of your working copy
p15116
aVThen you just have to right-click on the project and choose Team - Share Project, and follow the tutorial
p15117
aVAt some point Eclipse will ask you if you want to keep the existing
p15118
aVsvn files or not
p15119
aVJust choose to keep them
p15120
aVThe workflow in Eclipse is exactly the same as with any other SVN client
p15121
aVYou update and commit when you want to
p15122
aVAnd you may also continue using TortoiseSVN to perform your SVN operations if you prefer
p15123
aVYou'll just have to refresh your eclipse project after each operation
p15124
as(dp15125
g23
V571407
p15126
stp15127
a((dp15128
g2
(lp15129
VThe easiest way to display an image is to use a  and call its  method (or its constructor)
p15130
aVThe icon can be loaded using one of the constructors of the  class
p15131
aVSee http://download
p15132
aVoracle
p15133
aVcom/javase/tutorial/uiswing/components/label
p15134
aVhtml for an example
p15135
as(dp15136
g23
V571407
p15137
stp15138
a((dp15139
g2
(lp15140
VNo, but you may override its  method, cast the  object passed as argument to , and draw whatever you want on it
p15141
as(dp15142
g23
V571407
p15143
stp15144
a((dp15145
g2
(lp15146
V-Xmx sets the maximum heap space
p15147
aVBut Java allocates memory for other spaces : the permgen space, containing class definitions, the stack of every thread, memory allocated in native code, etc
p15148
as(dp15149
g23
V571407
p15150
stp15151
a((dp15152
g2
(lp15153
VYou reference it exactly as you would reference a bean in the same XML file
p15154
aVIf a spring context is composed of several XML files, all the beans are part of the same context, and thus share a unique namespace
p15155
as(dp15156
g23
V571407
p15157
stp15158
a((dp15159
g2
(lp15160
VA String doesn't have an encoding
p15161
aVIt is just an array of chars, and each char has a universal unicode value
p15162
aVIt's only when the chars must be transformed into bytes, to be saved in a file or streamed to a browser, that the encoding is used to transform chars into bytes
p15163
aVSince you said in your JSP's page encoding directive that it had to use UTF-8, your string has been encoded as UTF-8
p15164
aVThe browser knows that it's UTF-8 thanks to a response header, and thus transforms the bytes it receives from the server into chars correctly
p15165
aVIf you tell the browser to ignore the encoding set as a response header, and use gb2312, the browser will try to interpret the bytes as gb2312, and since it's UTF-8, it will display incorrect chars
p15166
as(dp15167
g23
V571407
p15168
stp15169
a((dp15170
g2
(lp15171
VYou have a trailing comma in your insert statement
p15172
aVRemove it
p15173
aVAlso, I guess that the USER_ID is of type NUMBER, and you try to store the String "user_id_seq
p15174
aVnextval" in this column
p15175
aVIf you want to insert the next value of a sequence, you must first issue a SQL query which selects the sequence next value, extract the number returned by this query, ans set it in your insert statement using  or
p15176
aVOr you can just use the following query :
p15177
as(dp15178
g23
V571407
p15179
stp15180
a((dp15181
g2
(lp15182
VDocumentation to the rescue:
p15183
aVApply a constraint expressed in SQL
p15184
aVAny occurrences of {alias} will
p15185
aVbe replaced by the table alias
p15186
aV(emphasis mine)
p15187
as(dp15188
g23
V571407
p15189
stp15190
a((dp15191
g2
(lp15192
VThe problem is that server startup doesn't mean application startup if more than one server is used to host the application
p15193
aVIf you always start and stop both servers at the same time, just configure only one of them (via a config parameter in the web
p15194
aVxml file, or a system property) to perform the synchronization
p15195
aVIf every server can be started and stopped independently, then I would not do anything at startup, but rather implement it as an administration use-case of the application, and trigger it on-demand, from the outside
p15196
as(dp15197
g23
V571407
p15198
stp15199
a((dp15200
g2
(lp15201
VWhy using two different values to mean the same thing
p15202
aVAnd why use values that don't mean anything
p15203
aVI would fix the data, rather than trying to map invalid data :
p15204
aV(assuming 0 is the discriminator of the default entity, and 0, 1, 2, 3, 4 are the valid discriminator values)
p15205
as(dp15206
g23
V571407
p15207
stp15208
a((dp15209
g2
(lp15210
VYes, JPA will call the no-arg constructor of your entity
p15211
aVAfter that, your lists will be replaced by specific List implementations of your JPA engine
p15212
aVThese lists allow lazy-loading and other functionalities needed by the JPA engine
p15213
aVI wouldn't care much about the needless  instantiation in this case
p15214
aVThis is not where a typical JPA application will take the most time
p15215
aVI find it much more important to have clear invariants and to respect them
p15216
aVOne of these invariants is : my entity always has a non-null list of other entities
p15217
as(dp15218
g23
V571407
p15219
stp15220
a((dp15221
g2
(lp15222
VProbably not very different from the methods you listed, but I don't see how or why it smells:
p15223
as(dp15224
g23
V571407
p15225
stp15226
a((dp15227
g2
(lp15228
VBecause that's what a language with duck typing (like JavaScript for example) would do
p15229
aVJava is not such a language
p15230
aVTwo classes having the same methods are unrelated
p15231
aVWhat is important is the inhertiance relationship between their classes
p15232
aVSince the  constructor accepts a  as argument, only instances of classes which implements the  interface can be passed as argument
p15233
as(dp15234
g23
V571407
p15235
stp15236
a((dp15237
g2
(lp15238
VYour  should by typed :
p15239
aVIf it's not, then you're using a raw List, which can contain anything
p15240
aVIts  method thus returns  (which is the root class of all the Java objects), and you must use a cast:
p15241
aVYou should read about generics, and read the api doc of ArrayList
p15242
as(dp15243
g23
V571407
p15244
stp15245
a((dp15246
g2
(lp15247
VFirst of all, calling entities DTO is really confusing
p15248
aVNow regarding your question, you should use the aliases you defined in your projections
p15249
aVAlso, given that you're doing an inner join to root and child, the last two restrictions are not necessary: the inner joins already make sure those are not null
p15250
as(dp15251
g23
V571407
p15252
stp15253
a((dp15254
g2
(lp15255
VYou could add a Servlet Filter to your web app that would intercept all the requests to the Spring servlet and forward to your custom error page if the Spring initialization has failed
p15256
as(dp15257
g23
V571407
p15258
stp15259
a((dp15260
g2
(lp15261
VYou can't
p15262
aVJavaScript must respect the same origin policy
p15263
aVWhat you can do is ask your web server to contact the external site and extract the content
p15264
as(dp15265
g23
V571407
p15266
stp15267
a((dp15268
g2
(lp15269
VIn addition to the excellent advice from hvgotcodes (which points to the hibernate doc about how to use batch updates and how to handle thousands of entities in a single transaction without memory problems), the optimization you could use is to get the DocumentMetaData in chunks, rather than one by one
p15270
aVThe chunk size should also be the same as the JDBC batch size
p15271
aVAnd you would just have to split your N document IDs into chunks of (for example) 20, and use a  clause
p15272
aVFinally, I would like to point that the call to persist is not useful: an entity which has been loaded from the database using the entity manager is attached, and any change done to this entity is automatically written to the database at flush time
p15273
as(dp15274
g23
V571407
p15275
stp15276
a((dp15277
g2
(lp15278
Vuse the following regexp to find:
p15279
aVand this replacement value:
p15280
aVThe regexp means "assertEquals( followed by a first group of chars followed by a comma followed by a second group of chars followed by );"
p15281
aVThe replacement value means "assertEquals( followed by the second group of chars found followed by a comma followed by the first group of chars found followed by );"
p15282
as(dp15283
g23
V571407
p15284
stp15285
a((dp15286
g2
(lp15287
VRead the documentation about listeners, and then build your own listener which listens to the  event
p15288
as(dp15289
g23
V571407
p15290
stp15291
a((dp15292
g2
(lp15293
Vjava
p15294
aVutil
p15295
aVSet has contains, containsAll, size, retainAll, removeAll
p15296
aVWithout knowing precisely what you're after, it's hard to answer more precisely
p15297
aVGuava also has excellent collection utilities (predicates, etc
p15298
aV, and some additional useful collections
p15299
as(dp15300
g23
V571407
p15301
stp15302
a((dp15303
g2
(lp15304
VOpening an AudioInputStream doesn't play the sound coming from this stream
p15305
aVYou need to open a Clip to play the sound coming from the stream
p15306
aVI'm not an expert at all, but you should learn how to do it by reading the Java tutorial
p15307
as(dp15308
g23
V571407
p15309
stp15310
a((dp15311
g2
(lp15312
VThe better way of doing it it to avoid doing it
p15313
aVA class should have a well-defined, as coherent as possible, set of responsibilities
p15314
aVIf all these classes exist, it's certainly because each one has a different set of responsibilities than the other ones
p15315
aVWhy don't you let the caller choose the appropriate class to use and call the appropriate method from this class
p15316
aVYou could use your  class as a factory of helper classes
p15317
aVThe callers would just have to do
p15318
aVIf you guive it real names, it becomes more natural:
p15319
aVBut even then, injecting the specific dependencies to caller object looks better to me than relying on a huge factory like this
p15320
aVUse a dependency injection framework like Spring or Guice
p15321
as(dp15322
g23
V571407
p15323
stp15324
a((dp15325
g2
(lp15326
VIf this method isn't used anywhere, I think you may safely delete it
p15327
aVIt doesn't look like some method automatically called by Spring
p15328
aVInstead, it looks like a utility method to get an instance of the UserDAO from the application context
p15329
aVThis method is useful, because it avoid hard-coding the name of the bean everywhere, but it should generally be avoided, because the whole point of Spring is to use dependency injection, and thus to avoid bean lookups like this
p15330
aVThe application context could be used to get some root object once, at startup
p15331
aVBut all the other beans should be injected
p15332
as(dp15333
g23
V571407
p15334
stp15335
a((dp15336
g2
(lp15337
VThe closest is  (or  to get more information)
p15338
aVThis won't list the target dependencies, but I don't see it as a problem: dependencies are not important for the end user (they just tell how the target works)
p15339
aVWhat's important is what the target does, which is what should be in its description:
p15340
aVI what you really want is the target dependencies, then reading the xml file is the best you can do
p15341
as(dp15342
g23
V571407
p15343
stp15344
a((dp15345
g2
(lp15346
VIt's impossible to tell without seeing the code
p15347
aVBut what you want to do is a very bad idea
p15348
aVDon't do it
p15349
aVA transaction should be as short as possible
p15350
aVLetting a transaction open for a long time (your user could take a while between the Add and the Save clicks) leaves a connection open and not usable by other concurrent users, will probably lead to a timeout anyway, and could lock some database rows or tables, making all the other users wait for your transaction to finish
p15351
aVThe insertion in database and the commit should be done only when the user clicks the Save button
p15352
aVThe modifications done by the Add button should not be persisted in database, but be stored in memory, until the user clicks Save
p15353
as(dp15354
g23
V571407
p15355
stp15356
a((dp15357
g2
(lp15358
VYou tell Hibernate to load the mapping from the hibernate
p15359
aVcfg
p15360
aVxml file:
p15361
aVBut you also tell it to add the Person class as a mapped-trough annotations entity:
p15362
aVDecide if you want to map the Person entity using annotations or using XML
p15363
aVIf you choose XML, then remove the  line
p15364
aVIf you choose annotations, then remove the  (and all its sub-elements of course) from the XML file
p15365
as(dp15366
g23
V571407
p15367
stp15368
a((dp15369
g2
(lp15370
V and  are two different types, and can never be equal to each other
p15371
aVAn int has 2^32 values, whereas a boolean has only two :  and
p15372
aVYour methods should be  and
p15373
aVThey would return true or false depending on the age argument
p15374
as(dp15375
g23
V571407
p15376
stp15377
a((dp15378
g2
(lp15379
VJust use its constructor :
p15380
aVThis is a unit test
p15381
aVA unit test tests a class in isolation from the other classes and from the infrastructure
p15382
aVIf your class has dependencies over other interfaces, mock those interfaces and create the object with these mocks as argument
p15383
aVThat's the whole point of dependency injection : being able to inject other, mock implementations inside an object in order to test this object easily
p15384
aVEDIT:
p15385
aVYou should provide a setter for your properties object, in order to be able to inject the properties you want for each of the unit tests
p15386
aVThe injected properties could contain nominal values, extreme values, or incorrect values depending on what you want to test
p15387
aVField injection is practical, but doesn't fit well with unit-testing
p15388
aVConstructor or setter injection should be preferred when unit-testing is used, because the main goal of dependency injection is precisely to be able to inject mock or specific dependencies in unit tests
p15389
as(dp15390
g23
V571407
p15391
stp15392
a((dp15393
g2
(lp15394
VYour browser or a proxy must cache the page
p15395
aVTry adding those headers to the response of the page which is cached and shouldn't be :
p15396
aVRegarding the JSTL usage, I would have two remarks:
p15397
aVThe usual prefix for the core library is , not
p15398
aVA URL is supposed to be composed using the  tag
p15399
aVThis tag takes care of
p15400
aVtaking absolute URLs (starting with ) and pre-pending the context root of the app ( becomes )
p15401
aVadding the session ID to the URL if URL rewriting is necessary
p15402
aVencoding the URL parameters correctly
p15403
aVFor example:
p15404
as(dp15405
g23
V571407
p15406
stp15407
a((dp15408
g2
(lp15409
VA many-to-many association always needs a join table
p15410
aVA join column is not sufficient: it only enables a one-to-many association
p15411
aVIf you don't specify any  annotation on the association, then default values will be used
p15412
aVHibernate wil use a join table with a default name and default columns composed from the names and IDs of the associated entities
p15413
as(dp15414
g23
V571407
p15415
stp15416
a((dp15417
g2
(lp15418
VThe  collection is marked as the inverse association of the many-to-one from child to parent
p15419
aVThis means that Hibernate uses the other side of the association to decide if the association exists or not
p15420
aVYou should thus set the  to  rather than nulling (or emptying, which is much cleaner than nulling) the set of children
p15421
aVThis, however, won't be sufficient
p15422
aVBreaking an association between a parent and its children doesn't kill the children
p15423
aVIt just makes them orphan
p15424
aVIf you want to delete them, you must call  on every child
p15425
aVFinally, merge is not useful at all here
p15426
aVThe goal of merge is to copy the state of a detached entity to its attached version
p15427
aVYour parent entity is already attached
p15428
aVYou seem to have missed many parts of the very good explanations in the Hibernate reference documentation
p15429
aVRead it again
p15430
as(dp15431
g23
V571407
p15432
stp15433
a((dp15434
g2
(lp15435
VThe right URL is the one the browser submitted to
p15436
aVThe fact that the request is first handled by a servlet and then by a JSP is irrelevant to the browser
p15437
aVBTW, the JSP could very well be in a protected folder (like ), since the browser never sends a request to this JSP directly, but does through the URL of the dispatcher servlet
p15438
aVA redirect is a totally different thing than a forward
p15439
aVForward means : I use another server component to finish the handling of my request
p15440
aVRedirect means : I have finished handling the request, and I'll ask the browser to go visit another URL, and thus make a new request
p15441
aVThis new URL could be a totally external URL (google
p15442
aVcom for example)
p15443
aVIn your situation, you might want to apply the post-redirect-get pattern, so that a refresh of the "success" page doesn't trigger the re-submission of the form
p15444
aVBut if you want to display a dynamically chosen message, you'll have to save it into the session and retrieve it in the second request
p15445
aVYour second request should go through a servlet as well, though, if you want to apply the MVC pattern correctly
p15446
aVNote that most MVC frameworks have suppport for the post-redirect-get pattern
p15447
as(dp15448
g23
V571407
p15449
stp15450
a((dp15451
g2
(lp15452
VEach time you want to use one of the expressions/functions listed in the HQL documentation, and which is not supported by JPQL :
p15453
aVsecond, minute, etc
p15454
aVuser additions to the dialect
p15455
aVetc
p15456
as(dp15457
g23
V571407
p15458
stp15459
a((dp15460
g2
(lp15461
Vand add the MyDAO bean to the context XML file, or simply add the following lines to this file:
p15462
as(dp15463
g23
V571407
p15464
stp15465
a((dp15466
g2
(lp15467
VHere is a HQL query that does what you want:
p15468
aVI'll let you substitute the real names of the associations
p15469
aVYou could even make it shorter (and more similar to your SQL query) by avoiding the join on the course:
p15470
as(dp15471
g23
V571407
p15472
stp15473
a((dp15474
g2
(lp15475
VUse this code:
p15476
aVNote that JPA2 has a (different) Criteria API as well
p15477
aVIt's harder to use IMHO, but it's more type-safe, and has the same advantages as the Hibernate Criteria API (be able to dynamically compose a query)
p15478
as(dp15479
g23
V571407
p15480
stp15481
a((dp15482
g2
(lp15483
VUsing tabs is annoying because some editors interpret a tab as 4 spaces, some others as 8 spaces, and some others as 2 spaces, which makes the indentation completely wrong if tabs and spaces are used in the same file
p15484
aVI always use spaces only to avoid this problem
p15485
aVIt could slightly increase the download size of your pages, but you could also minify the JavaScript and the CSS files, and/or use gzip on-the-fly compression to mitigate this small problem
p15486
as(dp15487
g23
V571407
p15488
stp15489
a((dp15490
g2
(lp15491
VYes, of course it's used by
p15492
aVgenerates a proxy to the entity, without even checking if the entity exists, so the second-level cache is much more relevant for  than for
p15493
as(dp15494
g23
V571407
p15495
stp15496
a((dp15497
g2
(lp15498
VYou should choose the second option
p15499
aVHere's what you get when you click on the Help button in this dialog:
p15500
aVUpdate item to revision
p15501
aVUpdate your working copy to the selected
p15502
aVrevision
p15503
aVUseful if you want to have your working copy reflect a time
p15504
aVin the past, or if there have been further commits to the repository
p15505
aVand you want to update your working copy one step at a time
p15506
aVIt is
p15507
aVbest to update a whole directory in your working copy, not just one
p15508
aVfile, otherwise your working copy could be inconsistent
p15509
aVIf you want to undo an earlier change permanently, use Revert to this
p15510
aVrevision instead
p15511
aVRevert to this revision
p15512
aVRevert to an earlier revision
p15513
aVIf you have
p15514
aVmade several changes, and then decide that you really want to go back
p15515
aVto how things were in revision N, this is the command you need
p15516
aVThe
p15517
aVchanges are undone in your working copy so this operation does not
p15518
aVaffect the repository until you commit the changes
p15519
aVNote that this
p15520
aVwill undo all changes made after the selected revision, replacing the
p15521
aVfile/folder with the earlier version
p15522
aVIf your working copy is in an unmodified state, after you perform this
p15523
aVaction your working copy will show as modified
p15524
aVIf you already have
p15525
aVlocal changes, this command will merge the undo changes into your
p15526
aVworking copy
p15527
aVWhat is happening internally is that Subversion performs a reverse
p15528
aVmerge of all the changes made after the selected revision, undoing the
p15529
aVeffect of those previous commits
p15530
aVIf after performing this action you decide that you want to undo the
p15531
aVundo and get your working copy back to its previous unmodified state,
p15532
aVyou should use TortoiseSVN \u2192 Revert from within Windows Explorer,
p15533
aVwhich will discard the local modifications made by this reverse merge
p15534
aVaction
p15535
aVIf you simply want to see what a file or folder looked like at an
p15536
aVearlier revision, use Update to revision or Save revision as
p15537
aVinstead
p15538
aVRevert changes from this revision
p15539
aVUndo changes from which were made in
p15540
aVthe selected revision
p15541
aVThe changes are undone in your working copy so
p15542
aVthis operation does not affect the repository at all
p15543
aVNote that this
p15544
aVwill undo the changes made in that revision only; it does not replace
p15545
aVyour working copy with the entire file at the earlier revision
p15546
aVThis
p15547
aVis very useful for undoing an earlier change when other unrelated
p15548
aVchanges have been made since
p15549
aVIf your working copy is in an unmodified state, after you perform this
p15550
aVaction your working copy will show as modified
p15551
aVIf you already have
p15552
aVlocal changes, this command will merge the undo changes into your
p15553
aVworking copy
p15554
aVWhat is happening internally is that Subversion performs a reverse
p15555
aVmerge of that one revision, undoing its effect from a previous commit
p15556
aVYou can undo the undo as described above in Revert to this revision
p15557
as(dp15558
g23
V571407
p15559
stp15560
a((dp15561
g2
(lp15562
VI wouldn't try to use both versions of Hibernate at the same time
p15563
aVYou could
p15564
aVextract both encryption/decryption parts in a small utility class, and just use JDBC to decrypt using the old way and encrypt using the new way
p15565
aVor just run a first pass with the first module to extract all the passwords in clear text and put them in a file or in a dedicated database table, then run a second pass with the second module to extract the clear text passwords and store them in the entities to encrypt them using the new method
p15566
as(dp15567
g23
V571407
p15568
stp15569
a((dp15570
g2
(lp15571
VThis would really be the worst way of fixing the problem
p15572
aVDon't ever let anyone edit files directly on the server
p15573
aVThe files could be made read-only (or the culprit could be fired)
p15574
aVDon't update the server directly from the SVN repository: update a working copy, run all the unit and integration tests on this working copy, then tag the revision, and export the working copy to the server
p15575
aVIf people just can't work correctly, don't let them work anymore
p15576
as(dp15577
g23
V571407
p15578
stp15579
a((dp15580
g2
(lp15581
VIt's possible, but not wise, because the loaded users wouldn't reflect the actual state of the database : their list of works should contain all their works, and not only some of them
p15582
aVModifying them could lead to unwanted deletes in the database
p15583
aVI would rather load the works you're interested in, with their associated user :
p15584
as(dp15585
g23
V571407
p15586
stp15587
a((dp15588
g2
(lp15589
VA properties file packaged with the application should not be loaded using the file system, but using the class loader
p15590
aVIndeed, the properties file, once the application is packaged, will be embedded inside a jar file, with the
p15591
aVclass files
p15592
aVIf the  file is in the package , then you should load it using
p15593
aVOr with
p15594
aVYou may also load it with a relative path
p15595
aVIf  is also in the package , then you may load it with
p15596
aVNote that Java variables should always start with a lowercase letter:  and not
p15597
as(dp15598
g23
V571407
p15599
stp15600
a((dp15601
g2
(lp15602
VOf course: you're trying to parse  with the pattern
p15603
aVThis pattern means "the year on 4 digits, followed by minutes on 2 digits, followed by the day on two digits"
p15604
aVSee the javadoc of  to understand how a pattern must be composed
p15605
aVIn your case, it should be
p15606
as(dp15607
g23
V571407
p15608
stp15609
a((dp15610
g2
(lp15611
VThe javadoc of the User constructor tells you that the last argument must be a
p15612
aVSo, you ArrayList will be accepted if it's an , where  is  or a class which implements
p15613
aVYou still haven't told us what was the exact type returned by the method
p15614
aVDo you understand Generics
p15615
aVHave you read the Java tutorial about generics
p15616
as(dp15617
g23
V571407
p15618
stp15619
a((dp15620
g2
(lp15621
VUse placeholders for the url, user and password in the config file, and replace those placeholders with actual values when building the application (using ant, Maven, or whatever you use to build your application)
p15622
aVThe build process itself could take those values from a profile (if using Maven), or from environment variables, or from command-line arguments
p15623
aVYou just need to build the application three times, with different parameters : once for each target environment
p15624
as(dp15625
g23
V571407
p15626
stp15627
a((dp15628
g2
(lp15629
VIt must be read "List of Entry"
p15630
aVIt describes what kind of object can go into the list
p15631
aVRead the generics tutorial to learn more
p15632
as(dp15633
g23
V571407
p15634
stp15635
a((dp15636
g2
(lp15637
VThe ant documentation of the jar task says:
p15638
aVThe update parameter controls what happens if the JAR file already
p15639
aVexists
p15640
aVWhen set to yes, the JAR file is updated with the files
p15641
aVspecified
p15642
aVWhen set to no (the default) the JAR file is overwritten
p15643
aVAn example use of this is provided in the Zip task documentation
p15644
aVPlease note that ZIP files store file modification times with a
p15645
aVgranularity of two seconds
p15646
aVIf a file is less than two seconds newer
p15647
aVthan the entry in the archive, Ant will not consider it newer
p15648
aVYou might need to make sure the properties file is newer than the one in the jar file
p15649
aVUsing the touch task could solve the problem
p15650
aVOr you might just unzip the jar in the temp directory, copy the properties file with the copy task and its overwrite attribute set to true, and re-jar the contents of the temp directory
p15651
as(dp15652
g23
V571407
p15653
stp15654
a((dp15655
g2
(lp15656
VBorderLayout honors the preferred size of the east component, and stretches its height if necessary
p15657
aVHave you tried setting the preferred size of the panel (or overriding the  method to return the size you prefer)
p15658
as(dp15659
g23
V571407
p15660
stp15661
a((dp15662
g2
(lp15663
VYou don't add the  to the center of the panel with the : you add it to another panel, with a , and this panel is added to the center
p15664
aVRemove the
p15665
as(dp15666
g23
V571407
p15667
stp15668
a((dp15669
g2
(lp15670
VThe article indicates that the eclipse package is Eclipse - the platform and not Eclipse - the Java IDE
p15671
aVI don't know if it's true or not, but if it is, then installing the eclipse-jdt package is a must if you want to develop in Java, as installing eclipse-cdt is a must if you want to develop in C++
p15672
aVIf the article is wrong, and eclipse is the full Java IDE, installing eclipse-jdt is indeed unnecessary
p15673
as(dp15674
g23
V571407
p15675
stp15676
a((dp15677
g2
(lp15678
VI've never used velocity, but its VTL reference guide says that calling a method is done using  or
p15679
aVSo I would use
p15680
as(dp15681
g23
V571407
p15682
stp15683
a((dp15684
g2
(lp15685
VYou don't tell what the type of the value in the cell is
p15686
aVIf it's a String, then you're doing it wrong: it should be a Date, and the renderer should use a  to render the date (in addition to setting the appropriate background
p15687
aVThis will, for example, allow sorting the table chronologically rather than lexicographically
p15688
aVIf it's already a Date, then just compare it with the current date, using its compareTo method
p15689
aVYour now() method is really strange, since it seems to return a String rather than a Date
p15690
aVThe appropriate type to represent a date is Date, not String
p15691
aVUse a Date and format it using a DateFormat each time you need it as a String
p15692
aVDon't do the reverse (using a String and parsing it - manually - each time you need a Date)
p15693
as(dp15694
g23
V571407
p15695
stp15696
a((dp15697
g2
(lp15698
VCast each node to , then ask the element for its first "name" sub-element and its first "age" sub-element and get their text
p15699
aVSee http://dom4j
p15700
aVsourceforge
p15701
aVnet/apidocs/org/dom4j/Element
p15702
aVhtml
p15703
aVThe  method of  maybe gets a sub-element by name and retrieves its text in one operation, but it's undocumented, so it's hard to say
p15704
aVNote that variables and methods should always start with a lowercase letter in Java
p15705
as(dp15706
g23
V571407
p15707
stp15708
a((dp15709
g2
(lp15710
VIt's perhaps not the answer you expect but my advice would be to remove all non-ascii letters from the names of methods and classes
p15711
aVI'm French-speaking too, and I've never seen any company, even in France and using French as its development language, accept accented letters in class names and methods
p15712
aVIt's just not good practice, simply because it would be very hard for a non French developer, without accents on his keyboard, to use these classes and methods
p15713
aVIf you use a good IDE, it should allow you to refactor your code easily
p15714
as(dp15715
g23
V571407
p15716
stp15717
a((dp15718
g2
(lp15719
VThe JSTL doesn't generate HTML elements
p15720
aVIt can be used to generate URLs, though
p15721
aVJust use the following code :
p15722
aVIf the URL must be dynamically composed, which I suppose is true, then use the  tag
p15723
as(dp15724
g23
V571407
p15725
stp15726
a((dp15727
g2
(lp15728
VNot sure this is the cause of your problem, but have you installed the export filter, as documented here
p15729
as(dp15730
g23
V571407
p15731
stp15732
a((dp15733
g2
(lp15734
VHere's how I would do it
p15735
aVDefine an interface , with a single method:
p15736
aVWrite an implementation of this interface for each way of combining the digits : SumDigitCombinationStragtegy, SubstractionDigitCombinationStragtegy, etc
p15737
aVEach strategy returns the set of combinations it generates
p15738
aVThis is actually the most difficult part of the problem
p15739
aVBut implementing only small parts is easier than the whole thing, and you can easily unit test each strategy
p15740
aVWrite an implementation of this strategy that just takes a set of other strategies and combines all the sets they return
p15741
aVWhen asked for a book and a number N, initialize two numbers to 0:  and
p15742
aVInstantiate the appropriate strategy
p15743
aVIterate through the pages (or couples of pages), and ask to the strategy the set of numbers it generates
p15744
aVfor this page (or this couple of pages)
p15745
aVIf the set contains N, increment hits
p15746
aVElse, increment misses
p15747
aVThe probability is hits / (hits + misses)
p15748
as(dp15749
g23
V571407
p15750
stp15751
a((dp15752
g2
(lp15753
VMy guess, seeing the difference between your code and the one in the example, is that a blob key is associated with the file only if some blob has been created, i
p15754
ag468
aVif you have written something to the file and finalized it
p15755
aVBTW, if you read the api doc, it says
p15756
aVGiven a BLOBSTORE file that has been finalized, returns the BlobKey
p15757
aVfor the corresponding blob
p15758
aV(emphasis mine)
p15759
as(dp15760
g23
V571407
p15761
stp15762
a((dp15763
g2
(lp15764
VConsider this XML document:
p15765
aVThe descendants of the root are:
p15766
aVa text node containing the newline char + 4 spaces
p15767
aVthe child element
p15768
aVa text node containing the newline char
p15769
aVAlso,  walks through all the descendants, and not just the immediate children of the element
p15770
aVI'm pretty sure that it's not what you want
p15771
as(dp15772
g23
V571407
p15773
stp15774
a((dp15775
g2
(lp15776
VI don't know why you get this exception
p15777
aVBut what's sure is that what you're trying to do won't work
p15778
aVWhen you get a parameter for the request, you get it as a String
p15779
aVThis means that the web container has already transformed the bytes it received from the HTTP request into Strings, and thus has already used an charset encoding
p15780
aVIf you call  on a parameter, you won't find the bytes sent by the browser
p15781
aVYou'll get the result of re-encoding the string into bytes using the default charset of the server
p15782
aVAnother problem of your code is the exception handling: you catch the exception thrown by the constructor but still continue using the detector, which has not been created due to the exception
p15783
aVMaybe you should explain what you want to do and why
p15784
aVYou want to do it
p15785
as(dp15786
g23
V571407
p15787
stp15788
a((dp15789
g2
(lp15790
VAn array has a fixed size, so adding an element to an array is not something easy
p15791
aVThe behavior that you want is exactly the behavior of a
p15792
aVLearn how to use the standard collections : they're much more powerful than arrays
p15793
aVIf you want to preserve the order of the elements, then use a LinkedHashSet
p15794
aVSee http://download
p15795
aVoracle
p15796
aVcom/javase/tutorial/collections/
p15797
aVNow, why does your code fail
p15798
aVYou're iterating through the array, and as soon as you find one element that is not equal to the string, you replace it with the string
p15799
aVAnd you also iterate without taking the length of the array in consideration
p15800
aVHere's the code you might want :
p15801
as(dp15802
g23
V571407
p15803
stp15804
a((dp15805
g2
(lp15806
VThis is exactly these kinds of problems that 2 phase commit resolves
p15807
aVThe write to the JMS queue and the save in the database should be part of the same global 2PC transaction, so that both are done, or none are done
p15808
aVThis would guarantee that the second thread only received the JMS message if and only if the user has been saved in the database
p15809
aVJava EE appservers provide XA-enabled (2 phase commit) transaction managers
p15810
aVIf you're not running inside a Java EE appserver, you might sill integrate one yourself in the application, like Bitronix, Atomikos, or other stand-alone transaction managers
p15811
as(dp15812
g23
V571407
p15813
stp15814
a((dp15815
g2
(lp15816
VYou invoke the WhiteTennisShoes constructor
p15817
aVThis constructor has no super() call, so the compiler inserts one for you, and the first thing it does is thus to call the no-arg constructor of its superclass : TennisShoes
p15818
aVThe TennisShoes constructor without any argument invokes the other constructor with "This is Tennis Shoes" as argument
p15819
aVThe first this this constructor does is to invoke the constructor of its superclass with "Exam1" as argument
p15820
aVThe Shoes constructor is thus invoked with Exam1 as argument, and outputs Exam1
p15821
aVThen the TennisShoes constructor continues its execution and outputs its argument : "This is Tennis Shoes"
p15822
aVThen the TennisShoes no-arg constructor continues its execution and outputs "derived class"
p15823
aVThen the WhiteTennisShoes constructor continues its execution and outputs its argument : "This is a white Tennis Shoes is created"
p15824
as(dp15825
g23
V571407
p15826
stp15827
a((dp15828
g2
(lp15829
VThe problem is that the URL is incorrect
p15830
aVIt should be
p15831
aVJust putting the jar file of the driver in your WEB-INF/lib folder should be sufficient
p15832
aVNo need to modify the Tomcat installation
p15833
aVBut you should really take care of closing the resultsets, statements and connections in a finally block, else your database will quickly run out of available connections
p15834
aVYou should also use a pooled DataSource as explained in the Tomcat documentation
p15835
as(dp15836
g23
V571407
p15837
stp15838
a((dp15839
g2
(lp15840
VThe  attribute value should be "task"
p15841
aVThe problem is that the task field in Person is of type  instead of
p15842
aVAlso, make sure all the entities are listed in the hibernate configuration file
p15843
aVBut I think this mapping won't work, because you try to define two different associations on one side, mapped by a single one (and a single column) on the other size
p15844
aVSince the collection of groups will also hold the users (as User extends Group), you should probably remove the users set in the task
p15845
aVJust provide two getters that return a filtered collection, based on the actual type of the group
p15846
as(dp15847
g23
V571407
p15848
stp15849
a((dp15850
g2
(lp15851
VYes, every object-type variable in Java is in fact a pointer, but we call it a reference, most of the time
p15852
aVIt's still a pointer, since if it's null and you dereference it, you get a NullPointerException
p15853
aVThere are pointers in Java, but there is no pointer arithmetic
p15854
aVYou can not increment a pointer like you would do in C for example
p15855
aVAlso : JavaScript and Java are two very different languages
p15856
aVYour question shouldn't be tagged javascript
p15857
as(dp15858
g23
V571407
p15859
stp15860
a((dp15861
g2
(lp15862
VA Resource Bundle is already sort of a map from keys to values, except it has a fallback mechanism
p15863
aVWhy do you copy its content to another map
p15864
aVJust use the  tag: its goal is precisely to get a message from a resource bundle and to output it to the JSP writer
p15865
aVAnd it can be parameterized, of course :
p15866
aVThis last snippet displaying "Welcome John
p15867
aVif the value of the greeting key is "Welcome {0}
p15868
aVThe  tag can also store the value in a variable, and take an EL expression as parameter, so this snippet should work to implement your loop:
p15869
as(dp15870
g23
V571407
p15871
stp15872
a((dp15873
g2
(lp15874
VThe ant manual for javac says :
p15875
aVIf you wish to compile only files explicitly specified and disable
p15876
aVjavac's default searching mechanism then you can unset the sourcepath
p15877
aVattribute:
p15878
aVI don't think it's a good idea, though
p15879
aVIn a well-designed project, all the files in a given directory (or in a set of directories) should be compiled
p15880
aVThe files which shouldn't be compiled shouldn't be there at all, or should be in a separate directory
p15881
as(dp15882
g23
V571407
p15883
stp15884
a((dp15885
g2
(lp15886
VYou'll just have to remove the relationships yourself
p15887
aVTo do this, before removing the person A, you'll have to find all the persons who have A in their set of related persons, and remove A from these sets
p15888
aVIf you don't, then of course you can't delete A because other persons still reference A
p15889
aVEither do this with a HQL query and remove A from the sets of the found persons in Java, or use a dedicated SQL delete query to remove all the rows from the join table
p15890
aVBut be aware that this SQL query will bypass the caches (first-level and second-level, if any), and your session might thus hold an incorrect view of the database
p15891
as(dp15892
g23
V571407
p15893
stp15894
a((dp15895
g2
(lp15896
VYes, the container instanciates it for you
p15897
aVAnd yes, this object being unique for the whole webapp (in a JVM), you must make sure everything is done in a thread-safe way, using synchronization
p15898
aVI don't see any side-effect or workaround
p15899
aVThat's how it's supposed to be
p15900
aVYou seem to confuse attributes and listeners
p15901
aVYou may set and remove any attribute, of any type, to the servlet context
p15902
aVThese attributes should not implement
p15903
aVYou may also, on the other hand, register listeners, either via the web
p15904
aVxml, or by calling one of the  methods of
p15905
aVThose listeners are not servlet context attributes
p15906
aVIf you have registered one  to the servlet context, then each time you set or remove any attribute to/from the servlet context, the listener's appropriate method will be called
p15907
aVThe name and value of the attribute that has been set or removed will be inside the event received by the listener
p15908
aVSo, since the container handles several requests in parallel, and since each request may set or remove attributes from the servlet context, the listener will be called multiple times in parallel, and must thus be thread-safe
p15909
as(dp15910
g23
V571407
p15911
stp15912
a((dp15913
g2
(lp15914
VOnly one HTML element in a document may have a given ID
p15915
aVYour page is thus invalid
p15916
aVBTW, that's why the method is name  (singular) and not  (plural)
p15917
aVUse  and iterate through the returned list to check every checkbox of the list
p15918
as(dp15919
g23
V571407
p15920
stp15921
a((dp15922
g2
(lp15923
VFor Hibernate, there is no difference
p15924
aVEach time an Entity1 is loaded by Hibernate, its list of Entity2 instances will be initialized (or re-initialized in the second case) with a custom non-null Hibernate list
p15925
aVFor your own code, it does make a difference
p15926
aVWith the first case, each time you create an Entity1 instance, it will be in a bad state, with a list of Entity2 instances that is null instead of being empty
p15927
aVEach time you'll want to add a new element to the list of iterate through the list (even in unit tests), you'll have to check before if the list is null or not
p15928
aVThe second case is better, since it initializes the object in a good state, where the list is ready to be used
p15929
as(dp15930
g23
V571407
p15931
stp15932
a((dp15933
g2
(lp15934
VSharing an Eclipse project doesn't cause any problem
p15935
aVJust put the
p15936
aVclasspath,
p15937
aVproject files and the
p15938
aVsettings directory (and any project-related config file/directory that Eclipse generates at the root of the project) under source control
p15939
aVAlso, avoid using absolute paths in your project (for external libraries, for example), since all the developers don't necessarily have the same setup and use the same locations
p15940
aVGit, SVN or ClearCase : it doesn't matter : all allow sharing Eclipse files
p15941
as(dp15942
g23
V571407
p15943
stp15944
a((dp15945
g2
(lp15946
VWhy do you want to map such a join table
p15947
aVJust use a ManyToMany association between A and B
p15948
aVThis join table will then be handled automatically when you'll add/remove a B to/from the list of Bs contained in A
p15949
aVSee http://docs
p15950
aVjboss
p15951
aVorg/hibernate/core/3
p15952
aV6/reference/en-US/html_single/#d0e11402
p15953
aVIf you really want to do that, then just map the two IDs with the @Id notation
p15954
aVThe primary class will be the entity class itself (which must be serializable), as explained in the hibernate reference documentation
p15955
aVNote that this is Hibernate-specific
p15956
as(dp15957
g23
V571407
p15958
stp15959
a((dp15960
g2
(lp15961
VA  uses a table model, and that's where the data displayed by the  are stored
p15962
aVYou're supposed to build a table model yourself, and pass it as an argument of the  constructor
p15963
aVIf you don't, then the  uses a default table model (an instance of )
p15964
aVAsk the  for its model (using the  method), store it somewhere, and rebuild the table by passing the same model as argument, and you'll find the data that the table had the first time
p15965
aVAnd read the swing tutorial about tables, because this is stuff that you should know before using JTable
p15966
as(dp15967
g23
V571407
p15968
stp15969
a((dp15970
g2
(lp15971
VFile - Import
p15972
aV- Existing project into workspace
p15973
aVThis supposes that the tar archive contains the whole project, including the
p15974
aVproject and
p15975
aVclasspath files
p15976
aVIf it doesn't, then either make a new project where you want, and copy the source files, or create a project and specify that its location must be the directory containing the sources folder that you extracted from the tar
p15977
as(dp15978
g23
V571407
p15979
stp15980
a((dp15981
g2
(lp15982
VUse a singleton prime number generator, and invoke it from a static block in each of the class:
p15983
aVThe prime number generator is left to you as an exercise
p15984
aVBut if the number of primes is small, using a fixed set of numbers to implement it is the easiest solution
p15985
as(dp15986
g23
V571407
p15987
stp15988
a((dp15989
g2
(lp15990
VIf the join table is more than just a join table, and in fact contains additional columns, than you don't have a ManyToMany anymore, but two OneToMany associations :
p15991
aVa person has many rides
p15992
aVa horse has many rides
p15993
aVa ride has one person
p15994
aVa ride has one horse
p15995
as(dp15996
g23
V571407
p15997
stp15998
a((dp15999
g2
(lp16000
VThe error message is strange, so this might not be your only error, but your query is wrong
p16001
aVselect * is SQL, not JPQL
p16002
aVThe correct query is
p16003
as(dp16004
g23
V571407
p16005
stp16006
a((dp16007
g2
(lp16008
VJust add the attribute  to the password input field
p16009
aVBut this is really something most users like in their browser
p16010
aVWhy do you want to disable it
p16011
aVI would let the users choose if they want the browser to remember it or not, rather than forcing them
p16012
as(dp16013
g23
V571407
p16014
stp16015
a((dp16016
g2
(lp16017
VSee http://struts
p16018
aVapache
p16019
aVorg/1
p16020
aVx/userGuide/configuration
p16021
aVhtml
p16022
aVmeans that the servlet must be loaded and initialized on startup of the webapp (i
p16023
ag468
aVas soon as it is deployed, without waiting for a request to the servlet)
p16024
aVThe number indicates the order of the initialisations
p16025
aVIf another servlet has 1, it will be loaded before
p16026
aVIf another has 3, it will be loaded after
p16027
as(dp16028
g23
V571407
p16029
stp16030
a((dp16031
g2
(lp16032
VIterate through the table columns of the table's column model
p16033
aVFind the one with the given header value (using )
p16034
aVThen ask the  of the column (), and ask the table's model for the column name at this index :
p16035
as(dp16036
g23
V571407
p16037
stp16038
a((dp16039
g2
(lp16040
VIf it should generate a warning, then it means that your runtime exception should not be a runtime exception, but a checked exception
p16041
aVRuntime exceptions are not meant to be caught (in the general case)
p16042
aVIf they happen, it means that you have a bug in your program
p16043
aVCatching the exception won't fix the bug
p16044
as(dp16045
g23
V571407
p16046
stp16047
a((dp16048
g2
(lp16049
VThe hibernate reference says :
p16050
aVabstract (optional): is used to mark abstract superclasses in
p16051
aVhierarchies
p16052
aVAn entity may only be abstract if it's a superclass of other concrete entities
p16053
aVIf it's a regular entity, mapped to a table, how would Hibernate instantiate your class if it's abstract
p16054
aVIt won't magically implement the abstract methods of your class
p16055
as(dp16056
g23
V571407
p16057
stp16058
a((dp16059
g2
(lp16060
VAs with any other class: by passing it as an argument of a constructor or method:
p16061
as(dp16062
g23
V571407
p16063
stp16064
a((dp16065
g2
(lp16066
VJust use a List:
p16067
aVRead the tutorial about collections
p16068
aVThis is stuff that all Java developers must know
p16069
as(dp16070
g23
V571407
p16071
stp16072
a((dp16073
g2
(lp16074
VThe only things that could make it go wrong are
p16075
aVif you use methods that are in Vector, but not in ArrayList (but I'm not even sure such a method exists)
p16076
aVif you're relying on the synchronized-ness of Vector in some of your classes to make them thread-safe
p16077
aVif you use reflection somewhere and this reflection-based code uses the Vector class name
p16078
aVif you use some legacy API still using Vector and not List of ArrayList (like some Swing classes)
p16079
as(dp16080
g23
V571407
p16081
stp16082
a((dp16083
g2
(lp16084
VI'm not absolutely sure it's supported by JPA, but the way to do it in Hibernate, regardless of the inheritance strategy, and thus even if you don't have a discriminator (or didn't map it as a property) is to use the implicit  property :
p16085
aVEDIT :
p16086
aVI just found it's possible in JPA2 using the TYPE operator :
p16087
as(dp16088
g23
V571407
p16089
stp16090
a((dp16091
g2
(lp16092
VThe main advantage of dependency injection over a factory-based approach is not performance
p16093
aVIts main advantage is testability
p16094
aVThe whole point of DI is to be able to inject mock dependencies to implement the unit tests of a component
p16095
aVDoing it with a factory is much more painful
p16096
as(dp16097
g23
V571407
p16098
stp16099
a((dp16100
g2
(lp16101
VYou might copy the contents of the stream to a byte array, using a , log the content of the byte array, and then return a  constructed from the byte array
p16102
aVThis puts the whole contents in memory, though
p16103
as(dp16104
g23
V571407
p16105
stp16106
a((dp16107
g2
(lp16108
VYou'll have to
p16109
aVput the job in a session attribute, for example, or in some other shared map where you can find it in a subsequent request
p16110
aVstart a new thread which invokes the job's long-running method
p16111
aVmake sure every access to the job's status is properly synchronized
p16112
aVpoll the server from your HTML page (by refreshing the page or submitting AJAX requests
p16113
aVEach polling request will just get the job from the session (or the shared map) and get its status
p16114
as(dp16115
g23
V571407
p16116
stp16117
a((dp16118
g2
(lp16119
VThis is probably because if some exception occurs when opening the workbook, you catch it, print the stack trace, and then close the workbook in the finally block
p16120
aVBut since an exception occurred when calling , the  variable is still null, and you're trying to invoke  on it
p16121
aVSo a  happens while in the finally block
p16122
aVWatch your console, you must have some exception popping up
p16123
aVAlso, note that fileName should be the only instance variable of your class, that Java variable normally don't contain underscores and use camelCase, and thet the fileName variable should be of type File, rather than String : you get a File from the file chooser, transform it into a string, and then transform it back to a File
p16124
aVAnother possibility, since it works in Eclipse and not when run externally, is that you forgot to put the jXL jar in the classpath, which causes some ClassNotFoundException when trying to use the ExcelObject class
p16125
as(dp16126
g23
V571407
p16127
stp16128
a((dp16129
g2
(lp16130
VYour  seems to have a list of  named  (sic)
p16131
aVI don't know if  is one of your classes or the standard
p16132
aVIf it's one of your class, then simply add a  attribute to this class, and get this attribute from it during your iteration
p16133
aVIf it's the standard , then introduce a  class, containing a Rectangle and a color, and use a list of  rather than a list of
p16134
as(dp16135
g23
V571407
p16136
stp16137
a((dp16138
g2
(lp16139
VI think that it depends on the layout manager of the container containing the label
p16140
aVSome layout managers compute the preferred size based on the visible components only, and others take invisible components into consideration
p16141
aVGroupLayout, for example, has the  method
p16142
aVAnyway, the easiest way is probably to make the label invisible after having called
p16143
aVSee also SetVisible(false) changes the layout of my components within my Panel
p16144
as(dp16145
g23
V571407
p16146
stp16147
a((dp16148
g2
(lp16149
VYou should use HTTP as it's supposed to be used
p16150
aVGET should be used for idempotent, read queries (i
p16151
ag468
aVview an item, search for a product, etc
p16152
aVPOST should be used for create, delete or update requests (i
p16153
ag468
aVdelete an item, update a profile, etc
p16154
aVGET allows refreshing the page, bookmark it, send the URL to someone
p16155
aVPOST doesn't allow that
p16156
aVA useful pattern is post/redirect/get (AKA redirect after post)
p16157
aVNote that, except for long search forms, GET URLs should be short
p16158
aVThey should usually look like http://www
p16159
aVfoo
p16160
aVcom/app/product/view
p16161
aVproductId=1245, or even http://www
p16162
aVfoo
p16163
aVcom/app/product/view/1245
p16164
as(dp16165
g23
V571407
p16166
stp16167
a((dp16168
g2
(lp16169
VYou could just configure a servlet that would serve the images from an external directory
p16170
aVThis servlet would just have to extract the image file name or ID from the request, read the file from an external directory and write the bytes to the servlet response's output stream (with the appropriate content type set on the response)
p16171
aVOr you could add an Apache httpd server front-end which would serve the static images from some external directory, and delegate to your servlet container for the other URLs
p16172
as(dp16173
g23
V571407
p16174
stp16175
a((dp16176
g2
(lp16177
VYou must use the ElementCollection and CollectionTable annotations, as explained in the Hibernate reference documentation
p16178
as(dp16179
g23
V571407
p16180
stp16181
a((dp16182
g2
(lp16183
VYou don't want to test your interface: it contains no code at all
p16184
aVYou want to test your implementation
p16185
aVSo the setter is available
p16186
aVJust use it:
p16187
aVNo need for a spring context
p16188
aVJust instanciate your POJO service, inject mock dependencies manually, and test the methods you want to test
p16189
as(dp16190
g23
V571407
p16191
stp16192
a((dp16193
g2
(lp16194
VI really doubt you'll generate session IDs that are more secure than the ones generated by the container, but here's what you could do, without using any container-specific extension
p16195
aVCreate a servlet filter which intercept every request to the server
p16196
aVWhen a request comes in, check if a session already exists for this request (using )
p16197
aVIf one exists, then extract your specific cookie MY_SESSION_ID from the request, and compare its value to the one that is stored in the session
p16198
aVIf they don't match, reject the request
p16199
aVIf the session doesn't exist, then create it (using ), generate your super-secure session ID, store it as a session attribute and add the cookie MY_SESSION_ID to the response
p16200
aVThis has the disadvantage of creating a session automatically, even if it's not strictly needed
p16201
aVBut that's the case most of the time when using JSPs of component frameworks
p16202
as(dp16203
g23
V571407
p16204
stp16205
a((dp16206
g2
(lp16207
VThe  column is mapped twice : once to hold the foreign key to the person of the address, using the  annotation, and once as a regular  column in the address
p16208
aVRemove the  field from the address
p16209
aVIf you want to have the access to the person ID from the address, then map the association as a bidirectional OneToMany/ManyToOne association
p16210
as(dp16211
g23
V571407
p16212
stp16213
a((dp16214
g2
(lp16215
VTwo web apps, even deployed on the same server, don't share the same classloader and the same sessions
p16216
aVSo if you think that the two sets of page are the same app, from a functional point of view, and if you want the session to be shared between both sets of pages (just to be able, for example, to display a "Hello John" in all the pages once the user is authenticated) then they should be in the same webapp
p16217
aVIf, on the contrary, you want a different authentication for both sets of pages, and they don't have anything in common from a functional point of view, then make two webapps
p16218
aVBased on what you said in your question, I think everything should be in the same webapp
p16219
aVDon't use two webapps for purely technical considerations, like "these pages are static and these aren't"
p16220
as(dp16221
g23
V571407
p16222
stp16223
a((dp16224
g2
(lp16225
VYou don't describe the links between entities, but I would guess that a master travel doesn't necessarily have at least one application, and since you're doing an inner join, all the master travels that don't have any application are not found
p16226
aVUse the join method taking a  as argument, and use a
p16227
as(dp16228
g23
V571407
p16229
stp16230
a((dp16231
g2
(lp16232
VAdd the annotation  to the address field
p16233
aVProblem solved
p16234
aVFor details on how this can be customized, see the Hibernate reference manual
p16235
aVTypically you would use
p16236
as(dp16237
g23
V571407
p16238
stp16239
a((dp16240
g2
(lp16241
Vshould do the trick
p16242
aVNot tested, though
p16243
as(dp16244
g23
V571407
p16245
stp16246
a((dp16247
g2
(lp16248
VSince Java 7,  is a generic type, like , , etc
p16249
aVIt expects a type :  instead of the raw
p16250
aVThis allows to work in a more type-safe way, because you won't be able to insert a String into a list model which is supposed to contain Integer instances
p16251
aVAnd you won't have to cast to Integer when getting an element from the model
p16252
aVThe same is true for  which is also now a  of Strings or a  of Integers, instead of being a raw
p16253
aVRead the tutorial about generics, and have a look at the javadoc of DefaultListModel
p16254
as(dp16255
g23
V571407
p16256
stp16257
a((dp16258
g2
(lp16259
V is used to sort the entities using an "order by" clause in the generated SQL queries
p16260
aVSo, of course, it doesn't the compareTo method
p16261
aVIf you want to sort using Java, then just return a sorted list in the getter
p16262
as(dp16263
g23
V571407
p16264
stp16265
a((dp16266
g2
(lp16267
VYou're trying to map the state twice : once by adding annotations to the field, and once by adding annotations to the getter
p16268
aVPut all the annotations at the same place (and at the same place as the  annotation)
p16269
aVBut this is really confusing
p16270
aVYour state is transient (meaning it's not mapped at all, and should not be read from the database), but it's also enumerated (why would Hibernate use this annotation since it's supposed to be transient), and a formula
p16271
aVFinally, a formula is some piece of SQL that's added in every SQL that is used to load your entity
p16272
aVSo it should not contain a select clause, or a from clause, but just a formula using some of the columns of the table itself
p16273
aVFor example, suppose you have a table with a column  and a column , you could have a formula for a field  which would be 'bonus + salary'
p16274
aVBut id doesn't go much further than that
p16275
as(dp16276
g23
V571407
p16277
stp16278
a((dp16279
g2
(lp16280
VThis means that  always returns the same  instance, and just replaces the name inside it with the name it receives as argument
p16281
aVAdding an object to an list only adds a reference to the object in the list
p16282
aVIt doesn't clone the object to store a copy of it in the list
p16283
aVBTW, why are you creating a  and assign it to the entry variable if it's just to overwrite it with the result of  afterwards
p16284
as(dp16285
g23
V571407
p16286
stp16287
a((dp16288
g2
(lp16289
VIf I understand correctly, you want to have a many-to-one association, but with a foreign key to a column which is not the primary key of the target table
p16290
aVThis is well described in the Hibernate reference documentation
p16291
aVYou just have to use  in the  element
p16292
aVThe  table must be mapped as a regular entity
p16293
as(dp16294
g23
V571407
p16295
stp16296
a((dp16297
g2
(lp16298
VAdd the setter to the implementation class (), and invoke the setter manually
p16299
aVThat's the point of dependency injection, and the advantage of having an implementation and an interface : you may add methods to the implementation which won't be available through the interface
p16300
aVYou shouldn't have to use a Spring context for the unit test of a class
p16301
aVBTW, the  method probably returns a proxy to your class, and not a  instance
p16302
as(dp16303
g23
V571407
p16304
stp16305
a((dp16306
g2
(lp16307
VYou're creating a new project at the same location as an already existing project
p16308
aVChoose another location for this new project
p16309
aVThis new location should be the parent directory of the source folder
p16310
as(dp16311
g23
V571407
p16312
stp16313
a((dp16314
g2
(lp16315
VConstruct the display panel, then pass it as an argument to the constructor of the keypad panel
p16316
aVThe constructor will then store the display panel in an instance field (attribute), and the listener will use this attribute to call the  method
p16317
aVOf course, the  and  methods (and the  field) should not be static
p16318
aVThink about it : how would it work if your application needed two different instances of your
p16319
aVNote that your code could be enhanced in other areas
p16320
aVFor example, you could create only one instance of your , and add this unique instance as a listener of each button
p16321
aVshould almost never be called : the preferred size is automatically computed by the layout manager, based on the components of the panel
p16322
aVFinally, all the code in the main method should run in the event dispatch thread, by using  :
p16323
as(dp16324
g23
V571407
p16325
stp16326
a((dp16327
g2
(lp16328
VYou could just wrap the response output stream inside an  and write your Java object (which would have to be serializable) to the
p16329
aVAt the client side, wrap the input stream inside an , use , and cast the result to the expected object type
p16330
aVThis of course makes the servlet only usable by clients written in Java, and which share the same classes as the server
p16331
aVUsually, a service offering an HTTP interface is meant to be used by any kind of client, and a more open format is chosen, like XML or JSON
p16332
aVBut if that's what you need, why not using native serialization
p16333
aVThat's what Spring HttpInvoker does, BTW
p16334
as(dp16335
g23
V571407
p16336
stp16337
a((dp16338
g2
(lp16339
VI guess you're wandering about the second for loop syntax
p16340
aVIt's just a regular for loop without any initialization part
p16341
aVmust be declared before the loop because it's used outside, after the loop has ended
p16342
as(dp16343
g23
V571407
p16344
stp16345
a((dp16346
g2
(lp16347
VYou can't add anything to an array
p16348
aVJava arrays have a fixed length
p16349
aVSo indeed, what you want to do is impossible
p16350
aVYou might make the method return an  array, but it would be a whole new array, containing all the elements of the initial one + the amount passed as argument
p16351
aVIf you want to add something to an array-like structure, use an
p16352
as(dp16353
g23
V571407
p16354
stp16355
a((dp16356
g2
(lp16357
VNo, it's not possible
p16358
aVBut the fix is obvious: map the  to an entity, and introduce an association between both entities
p16359
aVBeing forced to use transient fields and SQL queries is most of the time a sign of an incorrect JPA design
p16360
aVDon't fight with JPA
p16361
aVUse it the way it's intended to be used, and everything will be much easier
p16362
as(dp16363
g23
V571407
p16364
stp16365
a((dp16366
g2
(lp16367
VThere is no need for  in HQL, because HQL is used to traverse entity associations, and Hibernate already knows how the associations are mapped in the database
p16368
aVSo it inserts the  clause in the generated SQL for you
p16369
aVYou have to think in terms of entities and their associations instead of thinking in terms of tables
p16370
aVSo your query should just be
p16371
aVsince e needs to be not null to satisfy the condition, there is no point in using left joins
p16372
aVinner joins are usually more performant
p16373
as(dp16374
g23
V571407
p16375
stp16376
a((dp16377
g2
(lp16378
VYou normally don't use HQL to delete entities, but use
p16379
aVIf you have a cascade remove set on the association (or a cascade all), the the child entity will be deleted along with the parent entity
p16380
aVRead the hibernate reference manual to learn more and see examples
p16381
aVTo specify a default value for a column when generating the schema using Hibernate, you might use the columnDefinition attribute of the Column annotation
p16382
aVI usually prefer to generate the database schema by hand, though
p16383
as(dp16384
g23
V571407
p16385
stp16386
a((dp16387
g2
(lp16388
VThe correct markup for a checked checkbox is
p16389
aVIf it's not checked, the  attribute must not be present at all
p16390
aVYou should generate it using the JSTL and the JSP EL, because scriptlets are something from the past which should not be used in JSPs for years
p16391
aVSee How to avoid Java Code in JSP-Files
p16392
aVThis would of course need some refactoring so that the action bean has a regular  method returning a boolean, which would be much cleaner
p16393
aVBut anyway, here's how it would work using your existing code :
p16394
aVNote that all attributes should also be surrounded by quotes
p16395
as(dp16396
g23
V571407
p16397
stp16398
a((dp16399
g2
(lp16400
VYou initialized it as a local variable of a separate function
p16401
aVYou need to make it global, or to pass it from function to function as argument to be able to access it
p16402
as(dp16403
g23
V571407
p16404
stp16405
a((dp16406
g2
(lp16407
VYou're not far from the result
p16408
aVThe problem is that, AFAIK, you can't add any restriction on the  clause, using JPA
p16409
aVSo the query wil have to be rewritten as
p16410
aVHere is the equivalent of this query not tested):
p16411
as(dp16412
g23
V571407
p16413
stp16414
a((dp16415
g2
(lp16416
VI think the only solution is to have each installation provide a list of all the child classes, and have a method that loops through these classes, select all the instances who have the soon-to-be-deleted parent, and remove them :
p16417
aVYou could also use a delete HQL query directly, but this will bypass the session
p16418
aVIf each sublcass references the parent using a different field/property name, then transform the list of child classes into a , where the String value is the parent field/property name for the child class
p16419
aVIf you have the option to make all the children inherit a single @MappedSuperClass annotated class, where the parent field is declared and mapped, you could do a single query that would return all the children :
p16420
aVBut since Java only supports single inheritance, it might not be an option
p16421
as(dp16422
g23
V571407
p16423
stp16424
a((dp16425
g2
(lp16426
VThis is really basic usage
p16427
aVHave you read the documentation
p16428
aVNote that DTO is supposed to mean "data transfer object", which is a mean to transfer data without transferring persistent entities
p16429
aVSo naming your persistent entity  is really questionable
p16430
as(dp16431
g23
V571407
p16432
stp16433
a((dp16434
g2
(lp16435
VThis can be done setting your  to , but it's highly discouraged precisely because it annihilates the goal of layouts, which is to be able to have good-looking frames, regardless of the look and feel, screen resolution, etc
p16436
aVYou'd better learn how to use layout managers, because that's the good way to design a GUI
p16437
as(dp16438
g23
V571407
p16439
stp16440
a((dp16441
g2
(lp16442
VPlease please take some time formatting your question before submitting it
p16443
aVThat said : The  column in table B is mapped twice : once for the  field, and once for
p16444
aVThis  column should disappear
p16445
aVYou should only have the association from B to A
p16446
aVIf you want the ID of A form B, just call
p16447
aVThe other important point is that you have a bidirectional association
p16448
aVYou should make sure that the entity graph is coherent
p16449
aVif you add a B to the list of Bs of an A, you must also set the A field in B :
p16450
aVHibernate only looks at one side of the association to know what to persist
p16451
aVThis side is the one which doesn't have the  attribute
p16452
aVThis means that you absolutely have to call  to make it work
p16453
as(dp16454
g23
V571407
p16455
stp16456
a((dp16457
g2
(lp16458
VThe problem is that  tries reading a line
p16459
aVIt will not return the line until it's sure that the end of line has been reached
p16460
aVThis means that it expects either a newline character, or the end of the communication
p16461
aVSince the server doesn't send any newline char and doesn't close the stream, the client waits indefinitely
p16462
as(dp16463
g23
V571407
p16464
stp16465
a((dp16466
g2
(lp16467
VIf you want  to call , then you should use a callback interface :
p16468
as(dp16469
g23
V571407
p16470
stp16471
a((dp16472
g2
(lp16473
VThe Swing tutorial has explanations and examples : http://download
p16474
aVoracle
p16475
aVcom/javase/tutorial/uiswing/components/scrollpane
p16476
aVhtml#scrollable
p16477
aVYour component must implement the  interface
p16478
as(dp16479
g23
V571407
p16480
stp16481
a((dp16482
g2
(lp16483
VIf the tool you use to browse your database is able to export results of a query, you just have to execute the result of three queries:
p16484
as(dp16485
g23
V571407
p16486
stp16487
a((dp16488
g2
(lp16489
VNo
p16490
aVWhat you could do is have an annotation like
p16491
aVThe tool/api which uses the annotation would extract the value of the sessionKey attribute, and get the pattern to apply from the session, using given session attribute key
p16492
as(dp16493
g23
V571407
p16494
stp16495
a((dp16496
g2
(lp16497
VThe content pane of a JFrame uses a BorderLayout by default, so each time you add a new panel to it, without specifying its location in the layout, it adds it to the center, and thus replaces the previous one
p16498
aVJust set the content pane's layout to what you want
p16499
aVYou may of course use the null layout (i
p16500
ag468
aVset the layout to ), but you'll be bitten by this design mistake some time
p16501
aVJust because you've not been able to use layout managers doesn't mean that you shouldn't
p16502
aVJust keep learning
p16503
aVGridBagLayout is one of the most complex ones
p16504
aVYou could use other ones first
p16505
as(dp16506
g23
V571407
p16507
stp16508
a((dp16509
g2
(lp16510
VYes
p16511
aVThe javadoc for  says it:
p16512
aVReturns the current time in milliseconds
p16513
aVNote that while the unit of
p16514
aVtime of the return value is a millisecond, the granularity of the
p16515
aVvalue depends on the underlying operating system and may be larger
p16516
aVFor example, many operating systems measure time in units of tens of
p16517
aVmilliseconds
p16518
aVYou could use , but make sure to read its javadoc to understand its limitations
p16519
as(dp16520
g23
V571407
p16521
stp16522
a((dp16523
g2
(lp16524
VUse a GET instead of a POST
p16525
aVThat's the point of GET : it generates a bookmarkable URL
p16526
aVGET should always be used for idempotent operations, unless the sent data contain secret information or are too large to be put into GET parameters
p16527
as(dp16528
g23
V571407
p16529
stp16530
a((dp16531
g2
(lp16532
VThe best way to know what a method does is to read its javadoc
p16533
aVNot to guess what it does using experiments
p16534
aVReturns the current value of the most precise available system timer,
p16535
aVin nanoseconds
p16536
aVThis method can only be used to measure elapsed time and is not
p16537
aVrelated to any other notion of system or wall-clock time
p16538
aVThe value
p16539
aVreturned represents nanoseconds since some fixed but arbitrary time
p16540
aV(perhaps in the future, so values may be negative)
p16541
aVThis method
p16542
aVprovides nanosecond precision, but not necessarily nanosecond
p16543
aVaccuracy
p16544
aVNo guarantees are made about how frequently values change
p16545
as(dp16546
g23
V571407
p16547
stp16548
a((dp16549
g2
(lp16550
VYou don't expose it using Spring
p16551
aVYou expose it by deploying it in your app server as a remote EJB
p16552
aVThat's not Spring's responsibility
p16553
aVYou access a remote EJB by following the instructions in the reference documentation : http://static
p16554
aVspringsource
p16555
aVorg/spring/docs/3
p16556
ag2332
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p16557
aVhtml#ejb
p16558
as(dp16559
g23
V571407
p16560
stp16561
a((dp16562
g2
(lp16563
VThe  and  fields are private to the String
p16564
aVYou probably saw them using a debugger
p16565
aVIt just means that the String you're seeing is a substring of some other String, which existed before
p16566
aVIf you want the original String, find where the substring operation has been called, and store the original String somewhere
p16567
aVThe fact that a substring is implemented by sharing the same array as its original String is just an implementation detail, used to optimize memory usage
p16568
aVYou can't use it as a way to recover the original String
p16569
aVIf you're referring to the offset and count arguments of the String constructor, they're just used to extract only some part of the char array passed as argument
p16570
aVOnce the copy of the chars from the array is done, the count and offset are forgotten
p16571
aVThey're not part of the String
p16572
as(dp16573
g23
V571407
p16574
stp16575
a((dp16576
g2
(lp16577
VYou generally don't change the look and feel of a unique component, but the look and feel of the entire application
p16578
aVSee the Swing tutorial for explanations
p16579
aVIt's perhaps possible to change the look and feel of a single component, but then the application would be inconsistent
p16580
aVI would never do that
p16581
as(dp16582
g23
V571407
p16583
stp16584
a((dp16585
g2
(lp16586
VYou could use a
p16587
aVBut you'll have to implement the click, highlighting, selection and deletion yourself
p16588
aVA JSeparator is just use to
p16589
aVseparate sections in a panel
p16590
aVIf you mean that all these operations should be available when designing your GUI in a wysiwyg editor like NetBeans Matisse, then JSeparator is just what you need
p16591
as(dp16592
g23
V571407
p16593
stp16594
a((dp16595
g2
(lp16596
VJust use a
p16597
aVIt implements the  interface, and thus automatically sorts the keys it contains
p16598
aVYour keys can just be sorted alphabetically to get the desired result, so you don't even need to provide a comparator
p16599
aVHashMaps are never sorted
p16600
aVThe only thing you coulkd do with a HashMap is get all the keys, and store them in a sorted set or in a List and sort the List
p16601
as(dp16602
g23
V571407
p16603
stp16604
a((dp16605
g2
(lp16606
VThe javadoc for setSoTimeout says:
p16607
aVWith this option set to a non-zero timeout, a call to receive() for
p16608
aVthis DatagramSocket will block for only this amount of time
p16609
aVIf the
p16610
aVtimeout expires, a java
p16611
aVnet
p16612
aVSocketTimeoutException is raised, though
p16613
aVthe DatagramSocket is still valid
p16614
aVSo, if you want to send packets if no response has been received after 1 second, you just have to use
p16615
as(dp16616
g23
V571407
p16617
stp16618
a((dp16619
g2
(lp16620
VWHat you probably don't get is that whan a constructor doesn't explicitely invoke super(), then the compiler adds a  call anyway, to the very beginning of the constructor
p16621
aVSo,
p16622
aVis equivalent to
p16623
aVAdd the  calls at the very beginning of the constructors which don't have one, then follow the calls, and you'll find the answer
p16624
aVFor example, the call to
p16625
aVcalls the  constructor, which calls super()
p16626
aVSo the SillyBird no-arg constructor is called, which first calls super()
p16627
aVSo the Bird no-arg constructor is called, which calls
p16628
aVSO the 1-arg constructor of Bird is called, etc
p16629
as(dp16630
g23
V571407
p16631
stp16632
a((dp16633
g2
(lp16634
VYou need to share your project first, using Team - Share project
p16635
aVDuring the wizard, it will detect
p16636
aVsvn directories and ask if you want to keep them
p16637
aVOnce shared, you'll see the SVN icons and additional menu items in the Team menu
p16638
as(dp16639
g23
V571407
p16640
stp16641
a((dp16642
g2
(lp16643
VThe  annotation on the  field in  should be replaced by
p16644
aVBut you would really do yourself a favor by having a technical, non-functional, auto-generated ID in , and let the ,  and  field be regular fields of the entity
p16645
aVThis wouldcertainly make things more performant, and much easier to use in all the parts of the application
p16646
as(dp16647
g23
V571407
p16648
stp16649
a((dp16650
g2
(lp16651
VThe  element must be a sub-element of the  task
p16652
aVThere are several exemples available in (surprinsingly) the documentation of the junit task
p16653
as(dp16654
g23
V571407
p16655
stp16656
a((dp16657
g2
(lp16658
VI don't think it's possible to have a specific template for a given package
p16659
aVSome notes, though :
p16660
aVthe service layer should demarcate transactions
p16661
aVNot the DAO layer
p16662
aVyou could inherit a base class with a protected log field, and all the subclasses would inherit it
p16663
aVSince you're calling initializing the log with , the actual subclass name would be used
p16664
aVOnly public methods should be transactional
p16665
aVThe other ones aren't intercepted by Spring, so their transactional annotation would be ignored anyway
p16666
aVif you want to have all the methods of a bean to be transactional, put the annotation on the class rather than each individual method
p16667
as(dp16668
g23
V571407
p16669
stp16670
a((dp16671
g2
(lp16672
VRead a jQuery doc about selectors
p16673
aVselects the element havig  as id
p16674
aVselects the elements having  as class
p16675
aVIt uses the CSS3 notation
p16676
aVThat's the heart of jQuery
p16677
as(dp16678
g23
V571407
p16679
stp16680
a((dp16681
g2
(lp16682
VThe problem is certainly caused by the dashes in the catalog name
p16683
aVTry to change the name of the catalog to something else, without dashes
p16684
as(dp16685
g23
V571407
p16686
stp16687
a((dp16688
g2
(lp16689
VIf you need to downcast, then you're not using polymorphism anymore
p16690
aVIf that's what the teacher wants, then you may still downcast in a safe way by testing that the actual type of the object is the appropriate one :
p16691
aVIf this method is common to both subclasses, it might mean that they in fact share the same interface
p16692
aVSo polymorphism could come back into play here :
p16693
as(dp16694
g23
V571407
p16695
stp16696
a((dp16697
g2
(lp16698
VYes, you're missing something
p16699
aVThe point of an ORM like hibernate is to be able to implement associations between objects
p16700
aVEither make the association unidirectional, and remove the  field from Address, or make it bidirectional, and replace the  field by a  field, of type
p16701
aVIn this case, one side of the association (the person
p16702
aVaddress side) will have to be the inverse of the other one (the adress
p16703
aVperson side)
p16704
aVThis is described in the Hibernate reference documentation
p16705
aVRead it
p16706
aVSee http://docs
p16707
aVjboss
p16708
aVorg/hibernate/core/3
p16709
aV6/reference/en-US/html_single/#assoc-unidirectional-121 for unidirectional one-to-one and http://docs
p16710
aVjboss
p16711
aVorg/hibernate/core/3
p16712
aV6/reference/en-US/html_single/#assoc-bidirectional-121 for bidirectional one-to-one
p16713
as(dp16714
g23
V571407
p16715
stp16716
a((dp16717
g2
(lp16718
VYou could easily do that using the JSTL fn:substring function, combined with the  tag to make sure propert HTML escaping is done :
p16719
aVSee http://download
p16720
aVoracle
p16721
aVcom/javaee/1
p16722
aV4/tutorial/doc/JSTL3
p16723
aVhtml for a tutorial
p16724
as(dp16725
g23
V571407
p16726
stp16727
a((dp16728
g2
(lp16729
VI can only assume that the read() functions reads 4 bytes at a time
p16730
aV(the 32 bit java int size)
p16731
aVNo, you can't assume that
p16732
aVThe documentation for  says :
p16733
aVpublic abstract int read()
p16734
aVthrows IOException
p16735
aVReads the next byte of data from the input stream
p16736
aVThe value byte is returned as an int in the range 0 to 255
p16737
aVIf no byte is available
p16738
aVbecause the end of the stream has been reached, the value -1 is
p16739
aVreturned
p16740
aVThis method blocks until input data is available, the end of
p16741
aVthe stream is detected, or an exception is thrown
p16742
as(dp16743
g23
V571407
p16744
stp16745
a((dp16746
g2
(lp16747
VI think you're looking for
p16748
aVCalling  would initialize the proxy to the expensive lazy object, so your method would always return true
p16749
as(dp16750
g23
V571407
p16751
stp16752
a((dp16753
g2
(lp16754
VJust store your items in a list :
p16755
aVand then in the JSP
p16756
as(dp16757
g23
V571407
p16758
stp16759
a((dp16760
g2
(lp16761
VBigInteger and BigDecimal are the classes you're looking for
p16762
aVYou won't be able to use simple arithmetic operators, though, because operator overloading doesn't exist in Java
p16763
aVBut those classes have the required methods for all the simple operations
p16764
as(dp16765
g23
V571407
p16766
stp16767
a((dp16768
g2
(lp16769
Vsetting autocommit to true means in fact that each statement sent to the database will be enclosed in a begin/commit
p16770
aVA transaction will be started implicitely, but it will also be committed implicitely
p16771
aVAnd the same will be true for the next statement
p16772
aVIf you want several statements to be part of a single transaction, you'll need to set autocommit to false, execute your various statements, and finally call commit explicitely
p16773
as(dp16774
g23
V571407
p16775
stp16776
a((dp16777
g2
(lp16778
VI think the problem is rather at the line
p16779
aVtam is initialized as
p16780
aVThis means its first index goes from 0 to a - 1, and its second index goes from 0 to b - 1
p16781
aVArray indices start at 0 in Java
p16782
aVSo  is indeed out of the bounds
p16783
as(dp16784
g23
V571407
p16785
stp16786
a((dp16787
g2
(lp16788
VSpring security works by using proxies around the spring beans, which intercept the calls to methods of the beans, and throw an exception if the user doesn't have the appropriate role
p16789
aVBut your controller doesn't call any spring bean method
p16790
aVIt does call an instance method :
p16791
aVWhen doing this, you're not calling another Spring bean method, so Spring can't intercept the call, and thus can't verify that the user has the appropriate roles
p16792
aVPut the  method in another Spring bean, inject this bean in your controller, and all should be fine
p16793
aVSide note : why not simply using the  annotation for such a case
p16794
aVAnd why not put the annotation on the getResult method directly
p16795
as(dp16796
g23
V571407
p16797
stp16798
a((dp16799
g2
(lp16800
VYou also need to put the classes directory in the classpath, else javac can't find your  class
p16801
aVIt's really refreshing to see someone using the command line tools to build his classes before using an IDE
p16802
aVThat's the best way to learn how javac, java and the classpath work
p16803
aVBut when the number of classes grow, it will quickly become harder
p16804
aVI suggest you use Ant to build your classes once you're accustomed to the command line tools
p16805
as(dp16806
g23
V571407
p16807
stp16808
a((dp16809
g2
(lp16810
VEvery time you have a field names "xxxId" in an entity, and "xxxId" is the ID of another entity, you did something wrong
p16811
aVThe point of JPA is to manipulate objects, and associations between objects using object references or object collections
p16812
aVYour  looks like a join table to me
p16813
aVSuch a join table means that you have a many-to-many (or one-to-many, is one of the IDs is unique) between Major and User
p16814
aVSo, your  entity should have the following field :
p16815
aVAnd your JPA query should look like
p16816
as(dp16817
g23
V571407
p16818
stp16819
a((dp16820
g2
(lp16821
VIf they're functional, I would just implement a check in the functional service which creates and modifies those embeddables, and throw an exception if the constraint isn't verified
p16822
aVIt shouldn't be done at the persistence-level
p16823
as(dp16824
g23
V571407
p16825
stp16826
a((dp16827
g2
(lp16828
VUse  instead of
p16829
aVThat's what it's for : checking if a string completely matches the pattern
p16830
aVYou would have easily found this yourself by reading the javadoc
p16831
aVIf what you need is to check if it's a valid date, use SimpleDateFormat
p16832
aVTo test that the date format parser has completely parsed your string, use the parse method taking a ParsePosition as argument, and check that the position after the parsing is the length of your String
p16833
as(dp16834
g23
V571407
p16835
stp16836
a((dp16837
g2
(lp16838
VI don't see any other possibility
p16839
aVA has a dependency to B, so you need to have Bs in order to persist A
p16840
aVSince mocking is not possible in this case, you need to get your Bs from the database
p16841
as(dp16842
g23
V571407
p16843
stp16844
a((dp16845
g2
(lp16846
VYou have a deadlock :
p16847
aVclient sends login
p16848
aVserver reads login line and sends 200 OK, and waits for the next line
p16849
aVclient reads 200 OK
p16850
aVclient sends servershare
p16851
aVserver reads servershare line, sends 200 OK, and waits for the next line
p16852
aVclient reads 200 OK, and waits for the next line
p16853
aVBoth the client and the server are waiting for the next line from the other end
p16854
aVYour protocol isn't correct
p16855
aVMoreover, you're using the platform default encoding at server-side and client-side to read and write the messages
p16856
aVIf the client and server don't have the same default encoding, you'll have a problem
p16857
aVYou should wrap your streams with Input/Output stream writers and specify a specific encoding when constructing them
p16858
as(dp16859
g23
V571407
p16860
stp16861
a((dp16862
g2
(lp16863
VYou should use a Timer
p16864
aVIts javadoc answers all your questions
p16865
aVOne thread is used for every timer, but the timer executes several tasks, sequentially
p16866
aVThe timer tasks should be very short
p16867
aVIf they aren't, consider using several timers
p16868
aVOf course, the timer thread will be idle if it doesn't have any task to execute
p16869
aVAn idle thread doesn't consume anything (or nearly anything), so I wouldn't worry about it
p16870
aVAnyway, you don't have many choices
p16871
aV10000 threads doing nothing would of course be an issue, but that would mean that you instantiated one timer per task, which is wrong
p16872
as(dp16873
g23
V571407
p16874
stp16875
a((dp16876
g2
(lp16877
VNo
p16878
aVTomcat runs in a separate JVM from eclipse
p16879
aVAdd this option in the VM arguments of the launch configuration :
p16880
aVdouble-click on the Tomcat server in the Servers view
p16881
aVclick on the link "Open launch configuration"
p16882
aVswitch to the Arguments tab
p16883
aVadd -XX:MaxPermSize=512m in the VM arguments text area
p16884
as(dp16885
g23
V571407
p16886
stp16887
a((dp16888
g2
(lp16889
VYou need to use JNDI to query the LDAP server
p16890
aVLook at examples here
p16891
aVBut please, don't do this in a JSP
p16892
aVThis will need Java code, and JSPs shouldn't contain Java code
p16893
aVSee How to avoid Java Code in JSP-Files
p16894
as(dp16895
g23
V571407
p16896
stp16897
a((dp16898
g2
(lp16899
VNo: how would you add a new permission to this map
p16900
aVBut you could have a  (see http://docs
p16901
aVjboss
p16902
aVorg/hibernate/core/3
p16903
aV6/reference/en-US/html_single/#d0e10955), or you could add a specific method to your entity :
p16904
as(dp16905
g23
V571407
p16906
stp16907
a((dp16908
g2
(lp16909
VYou didn't search very hard
p16910
aVSee http://en
p16911
aVwikipedia
p16912
aVorg/wiki/URL_redirection#Refresh_Meta_tag_and_HTTP_refresh_header
p16913
aVThe refresh header is used to ask the browser to redirect to another URL after some delay
p16914
aVI guess it redirects to the same URL if no URL is provided
p16915
as(dp16916
g23
V571407
p16917
stp16918
a((dp16919
g2
(lp16920
VUse
p16921
aVAnd don't forget to properly HTML escape using
p16922
as(dp16923
g23
V571407
p16924
stp16925
a((dp16926
g2
(lp16927
VThe translation is immediate :
p16928
aVThis is assuming that
p16929
aVProvider has a toOne association with Person
p16930
aVProvider has a toMany association with products, using the join table product_provider
p16931
aVProduct has a OnetoMany association with Item
p16932
aVIf that's not the case, then describe your mapping, because doing HQL without knowing the entities is impossible
p16933
aVIt's like doing SQL without knowing the tables
p16934
aVYou should read http://docs
p16935
aVjboss
p16936
aVorg/hibernate/core/3
p16937
aV6/reference/en-US/html_single/#queryhql
p16938
aVIt has lots of examples of HQL queries and explain how they work in great details
p16939
as(dp16940
g23
V571407
p16941
stp16942
a((dp16943
g2
(lp16944
VExtract the entries in a list, then sort the list :
p16945
aVThen iterate over the entries
p16946
aVEdit :
p16947
aVIf what you want is in fact iterate over the entries of the inner map (), then do the following :
p16948
as(dp16949
g23
V571407
p16950
stp16951
a((dp16952
g2
(lp16953
VThere must be some browser detection that changes the generated HTML, because when inspecting the HTML with , the submit button is named  and not  (which is not what I observe in Firefox)
p16954
aVMake this change, and the result will be the expected one
p16955
as(dp16956
g23
V571407
p16957
stp16958
a((dp16959
g2
(lp16960
VYou could simply write your expected array as an array of integers, and use a special value (such as -1) to represent the wildcard
p16961
aVIt's the same trick as the read methods of the input streams
p16962
aVYou would just have to write your custom
p16963
as(dp16964
g23
V571407
p16965
stp16966
a((dp16967
g2
(lp16968
VA secondary table is normally used to map the content of a single entity to two tables
p16969
aVIt doesn't allow for lazy/select fetching using standard JPA annotations
p16970
aVYou may use a proprietary Hibernate annotation to load it using a separate select, and only if necessary, though
p16971
aVSee http://docs
p16972
aVjboss
p16973
aVorg/hibernate/core/3
p16974
aV6/reference/en-US/html_single/#mapping-declaration-join:
p16975
aVfetch: If set to JOIN, the default, Hibernate will use an inner join
p16976
aVto retrieve a secondary table defined by a class or its superclasses
p16977
aVand an outer join for a secondary table defined by a subclass
p16978
aVIf set
p16979
aVto SELECT then Hibernate will use a sequential select for a secondary
p16980
aVtable defined on a subclass, which will be issued only if a row turns
p16981
aVout to represent an instance of the subclass
p16982
aVInner joins will still
p16983
aVbe used to retrieve a secondary defined by the class and its
p16984
aVsuperclasses
p16985
aVSo setting the  attribute of the Hibernate  annotation to  will do what you want : an additional select clause will be issued to select the values from just the appropriate secondary table
p16986
aVIf you want lazy fetching, then a secondary table is not what you want
p16987
aVYou'll have to do it using associations
p16988
as(dp16989
g23
V571407
p16990
stp16991
a((dp16992
g2
(lp16993
VIt's not related to the fact that the insert is done after the listener
p16994
aVIt's related to the fact that the commit of the transaction is done after
p16995
aVYour web service uses another transaction as the one where you insert the data, so it doesn't see the inserted data until the inserting transaction has committed
p16996
aVYou'll need two-phase commit to do what you want
p16997
aVInvoke your web service through a JMS queue and make sure the JMS engine and the database are both handled by a unique, XA, transaction manager
p16998
as(dp16999
g23
V571407
p17000
stp17001
a((dp17002
g2
(lp17003
VThe method should be static, and should return something in every case
p17004
aVMake it return null in the default case, or make it throw an IllegalArgumentException (or some other exception) : it's up to you
p17005
aVNote: reading the compiler error message should guide you
p17006
as(dp17007
g23
V571407
p17008
stp17009
a((dp17010
g2
(lp17011
VThis way of doing would only work if this object instance is the only one which inserts something in the table
p17012
aVIf it's not, then two threads will synchronize on two different objects, and the synchronization won't work
p17013
aVTo make it short : the object should be a singleton, and no other object should insert into this table
p17014
aVEven if there is a unique object instance inserting, if you have any other application, or any other JVM, inserting in this table, then the synchronization won't bring you any guarantee
p17015
aVDoing this is better than nothing, but doesn't guarantee that the insert will always succeed
p17016
aVIf it doesn't, then the transaction will rollback due (hopefully) to a constraint violation
p17017
aVIf you don't have any unique constraint to guarantee the uniqueness in the database, and you have several applications inserting in parallel, then you can't do anything to avoid duplicates
p17018
as(dp17019
g23
V571407
p17020
stp17021
a((dp17022
g2
(lp17023
VYes
p17024
aVMove the project using the repository explorer, and ask the developers to switch to the new location (right-click, TortoiseSVN, Switch)
p17025
aVIt would be easier for them if they don't have any uncommitted files
p17026
aVAsk them to commit before moving the project
p17027
as(dp17028
g23
V571407
p17029
stp17030
a((dp17031
g2
(lp17032
VYou have marked the dependency as a runtime dependency
p17033
aVSo it's not used to compile the project
p17034
aVChange the scope to
p17035
as(dp17036
g23
V571407
p17037
stp17038
a((dp17039
g2
(lp17040
VThere are dozens of ways to read an XML file in Java
p17041
aVThere are several ones to do it just with Java SE :
p17042
aVSAX
p17043
aVDOM
p17044
aVStAX
p17045
aVJAXB
p17046
aVGoogle for them : you'll find documentation and tutorials
p17047
aVThe api doc is also helpful
p17048
aVYou'll find all these tools in package names
p17049
as(dp17050
g23
V571407
p17051
stp17052
a((dp17053
g2
(lp17054
VYou should measure it, and issue an explain plan to be sure
p17055
aVBut I would use neither of those:
p17056
as(dp17057
g23
V571407
p17058
stp17059
a((dp17060
g2
(lp17061
VNo, it's not bad practice
p17062
aVIt's actually fairly frequent
p17063
aVWhat you missed is that main is a static method
p17064
aVIt's not a method of the Student object
p17065
aVIt's a method of the Student class
p17066
aVYou don't invoke it with , but with
p17067
aVSee http://download
p17068
aVoracle
p17069
aVcom/javase/tutorial/java/javaOO/classvars
p17070
aVhtml for more explanations
p17071
as(dp17072
g23
V571407
p17073
stp17074
a((dp17075
g2
(lp17076
VIf you may not use casts and instanceof and must use polymorphism, then add two methods to your CarEntity interface :
p17077
aVThe trucks can be loaded with cars, and thus implement the first methof by returning true
p17078
aVThe other ones return false
p17079
aVThe  method of  adds the car to their map, whereas the other implementations throw an IllegalStateException because they can't be loaded with cars
p17080
aVSo the  method of the manager becomes
p17081
as(dp17082
g23
V571407
p17083
stp17084
a((dp17085
g2
(lp17086
VHere is the JPQL query I would use :
p17087
aVIt's pretty similar to your query, but you need a join to be able to use the subjects of the searched students in the where clause
p17088
as(dp17089
g23
V571407
p17090
stp17091
a((dp17092
g2
(lp17093
VThe line number in the stack trace indicates where the exception occurs
p17094
aVYour  attribute in  is null
p17095
aVIt's never initialized
p17096
as(dp17097
g23
V571407
p17098
stp17099
a((dp17100
g2
(lp17101
VA HashMap doesn't have any order
p17102
aVIf you want insertion order, use a LinkedHashMap
p17103
aVIf you want keys sorted using their natural ordering or a custom comparator, use a TreeMap
p17104
as(dp17105
g23
V571407
p17106
stp17107
a((dp17108
g2
(lp17109
VThe second constructor is rubbish
p17110
aVRemove it
p17111
aVAnd your code doesn't compile because you build a queue with MYCLASS as key and Integer as value, but provide a comparator which sorts Integer instances instead of MYCLASS instances
p17112
aVI guess that what you want is Integer as key
p17113
aVIf so, then the queue's type should be Queue
p17114
aVOr you could respect the convention of placing the key first and the value after, and change the Queue declaration to
p17115
aVNote that it's generally a bad idea to subclass collections
p17116
aVIt's generally better to encapsulate a collection in an object
p17117
as(dp17118
g23
V571407
p17119
stp17120
a((dp17121
g2
(lp17122
VNo
p17123
aVThe register object has a reference to your table model (through the listener)
p17124
aVSo if the register is not reachable any more, it will be garbage collected
p17125
aVOn the other hand, if you keep the registers alive, but change the table model without removing it as listener from the registers, then the registers will maintain a reference to the old model, and the model won't be garbage collected
p17126
aVIt's usually a good idea to have long-lived objects listen to changes in short-lived objects
p17127
aVIf it's the other way, then forgetting to remove listeners leads to memory problems (unless weak references are used for maintaining the list of listeners)
p17128
as(dp17129
g23
V571407
p17130
stp17131
a((dp17132
g2
(lp17133
VI would not do it like this
p17134
aVInstead, I would have a single configuration
p17135
aVproperties, holding placeholders for the values that differ depending on the profile :
p17136
aVAnd then use the filtering capabilities of the resources plugin in order to replace the placeholder with actual values fetched from the profile:
p17137
aVAnd now in your pom :
p17138
as(dp17139
g23
V571407
p17140
stp17141
a((dp17142
g2
(lp17143
V and  return the object from the session if it's already there
p17144
aVYour second option would thus need you to flush, then remove the entity from the session, then reload it (issuing a select query for data you know)
p17145
aVA call to refresh would do the same, more easily, but would still issue an additional select query for nothing
p17146
aVI really prefer the first option : just make sure that each time the association is set, then the corresponding mapped property is mapped as well
p17147
aVYou're responsible for the coherence and invariants of the entities (as with bidirectional associations, where both sides must be maintained)
p17148
aVA third option would be to remove the mapped property completely, and simply call entity
p17149
aVgetKey()
p17150
aVgetSomeRef()
p17151
aVgetId()
p17152
as(dp17153
g23
V571407
p17154
stp17155
a((dp17156
g2
(lp17157
VWrite and execute a query which returns all the modified data, along with their original data:
p17158
aVThen iterate over the returned list, and build a Comparison instance for every result:
p17159
aVNote though that since a ModifiedData instance already holds its original Data instance, the Comparison class is not really useful
p17160
aVYou could return the list of ModifiedData directly
p17161
as(dp17162
g23
V571407
p17163
stp17164
a((dp17165
g2
(lp17166
VYou've tagged your post with Java, so I'll answer for Java (and Swing, more specifically)
p17167
aVThis task is normally the task of a specific TableCellRenderer
p17168
aVIf the same format must be used for other visual components, I would indeed extract the formatting inside an instantiatable class (solution 2)
p17169
aVThis would allow subclasses to customize the format if needed
p17170
as(dp17171
g23
V571407
p17172
stp17173
a((dp17174
g2
(lp17175
VWebstart applications run in a security sandbox which prevents the to access the file system
p17176
aVYou need to digitally sign your har to gain access to the file system, or use the file open api
p17177
aVSee http://download
p17178
aVoracle
p17179
aVcom/javase/6/docs/technotes/guides/javaws/developersguide/faq
p17180
aVhtml#302 and http://download
p17181
aVoracle
p17182
aVcom/javase/6/docs/technotes/guides/javaws/developersguide/examples
p17183
aVhtml#FileOpenService for more information
p17184
as(dp17185
g23
V571407
p17186
stp17187
a((dp17188
g2
(lp17189
VTortoiseSVN doesn't come with a command-line SVN client, AFAIK
p17190
aVYou'll have to download it and install it separately from http://subversion
p17191
aVapache
p17192
aVorg/packages
p17193
aVhtml
p17194
as(dp17195
g23
V571407
p17196
stp17197
a((dp17198
g2
(lp17199
VThe class name is
p17200
aVAnd the constructor signature is
p17201
aVSo if you declare your variable as an , you must pass an array of  as last argument of the constructor
p17202
aVTo be able to pass it an array of , your adapter must be of type
p17203
aVYou can put a lion in a , and a bird in a
p17204
aVBut you may not use a  with birds, nor a  with lions
p17205
aVYou should read the generics tutorial
p17206
as(dp17207
g23
V571407
p17208
stp17209
a((dp17210
g2
(lp17211
VIf the contents of some object needs to be stored in a separate table, then this object should be another persistent entity, and you should use associations between entities : OneToMany, ManyToOne, OneToOne, ManyToMany, depending on the cardinalities
p17212
aVRead the hibernate reference manual
p17213
as(dp17214
g23
V571407
p17215
stp17216
a((dp17217
g2
(lp17218
VAdd a methodThree in your bean :
p17219
aVAnd call this method from the JSF page
p17220
as(dp17221
g23
V571407
p17222
stp17223
a((dp17224
g2
(lp17225
VYour mapping is completely wrong
p17226
aVhas a  column
p17227
aVThus it refers to a single role
p17228
aVHow could it have a collection of role names
p17229
aVThe login column is mapped twice in the entity
p17230
aVMoreover, this looks like a simple join table to me, without any other attribute than the roleId and the login, which are foreign keys to the IDs of User and Role, respectively
p17231
aVYou should have two entities :  and , with a  association using the  table as join table
p17232
aVThat's it
p17233
aVThe UsersToRoles table should not be mapped as an entity: it's a pure join table
p17234
as(dp17235
g23
V571407
p17236
stp17237
a((dp17238
g2
(lp17239
VGlobal variables don't exist in Java
p17240
aVAnd this is not how it should be done
p17241
aVRather than the method updating some variable, the method should just return the result of the computation, and the caller should be responsible of using the result as he wants to:
p17242
aVThis way, you won't have to change anything in the calculate method when you'll want to compute subtotals, or averages, or anything
p17243
aVOne method = one responsibility
p17244
aVThis should be true for your PHP programs as well
p17245
aVAfter this is done, you should encapsulate the article name, number of items, and unit price in a class, and add methods to the class, like  (to display the bought item), and  (to compute the price of this bought item)
p17246
as(dp17247
g23
V571407
p17248
stp17249
a((dp17250
g2
(lp17251
VI'm surprised that the second query works, because the arguments of the constructor that the query calls don't match with any of the constructors of SearchQuestionnaire
p17252
aVMake sure that the query uses the same number and the same type of arguments as one of the constructors of the class
p17253
aVBTW, the second constructor of SearchQuestionnaire is broken
p17254
aVIt takes two arguments and initializes most of the attributes with themselves
p17255
aVBTW, the design of your entities seems questionable, because you shouldn't have to do joins on IDs yourself
p17256
aVInstead, you should have associations between entities and join on these associations
p17257
aVFor example, the Question entity shouldn't have a category ID
p17258
aVIt should have a ManyToOne association with a QuestionCategory
p17259
as(dp17260
g23
V571407
p17261
stp17262
a((dp17263
g2
(lp17264
VNon idempotent operations, like creations, updates and deletes are supposed to be done with a POST
p17265
aVSo, without JavaScript, a form should be used with a submit button
p17266
aVThis at least warns the user, if he refreshes the page after the delete, that the action will be resubmitted
p17267
aVA useful pattern, to let the user refresh the page after the post and not risk a re-submit, is the redirect after post pattern , also known as post-redirect-get
p17268
aVThis makes sure a refresh is possible, and make the browser "forget" about the post in his history, allowing the user to go back without resubmitting the delete
p17269
as(dp17270
g23
V571407
p17271
stp17272
a((dp17273
g2
(lp17274
VThe  column in manager shouldn't be there
p17275
aVmeans that the primary key is also the join column
p17276
aVSo, the  column in  is both the primary key and the foreign key to
p17277
aVAnd the annotation should of course be changed to  (or it must be removed, since the default is to use the same column name as in the parent table)
p17278
aVSee http://download
p17279
aVoracle
p17280
aVcom/javaee/6/api/javax/persistence/PrimaryKeyJoinColumn
p17281
aVhtml
p17282
as(dp17283
g23
V571407
p17284
stp17285
a((dp17286
g2
(lp17287
VDynamicReports seems to use JasperReports, but you probably have incompatible versions of both libraries in your classpath
p17288
aVCheck the documentation of your version of DynamicReports to know which version of JasperReports it expects
p17289
as(dp17290
g23
V571407
p17291
stp17292
a((dp17293
g2
(lp17294
VThe  field shouldn't be static
p17295
aVMake it a non-static field, and then use
p17296
aVAlso, use  instead of
p17297
aVlooks for public fields
p17298
aVIf you can't change it to non-static, then the first argument is ignored, so just use
p17299
as(dp17300
g23
V571407
p17301
stp17302
a((dp17303
g2
(lp17304
VIf you're using JPA/Hibernate to perform SQL queries, then you're using the wrong tool
p17305
aVHibernate is an ORM, and you're supposed to map tables to entities
p17306
aVThat's the whole point of JPA
p17307
aVI you just want to perform SQL queries, use JDBC (and Spring's JdbcTemplate for example)
p17308
aVOnce table1 and table2 are mapped to entities (let's call these entities T1 and T2), you won't need these SQL queries anymore, because JPQL is able to select only some fields of the entities
p17309
aVYour query could the look like this (depending on the association between t1 and t2):
p17310
aVAnd you would just have to iterate over the result (a list of Object[]) to build your results (which is a DTO and not a mapped entity) :
p17311
as(dp17312
g23
V571407
p17313
stp17314
a((dp17315
g2
(lp17316
VThis is a Struts1 tag, isn't it
p17317
aVIf so, then you should use the  or the  attribute to be able to use context-relative (or even module-related) URLs
p17318
aVSee http://struts
p17319
aVapache
p17320
aVorg/1
p17321
aVx/struts-taglib/tagreference
p17322
aVhtml#html:link for details
p17323
as(dp17324
g23
V571407
p17325
stp17326
a((dp17327
g2
(lp17328
Vinterrupt only sets the interrupt status in the thread to true
p17329
aVThe thread needs to regularly pool the interrupt status flag to stop running:
p17330
aVThis is the only way to properly stop a thread : ask him to stop
p17331
aVWithout cooperation from the running thread, there is no clean way
p17332
as(dp17333
g23
V571407
p17334
stp17335
a((dp17336
g2
(lp17337
VJSP = server-side
p17338
aVJavaScript = client-side
p17339
aVThe JavaScript code that the JSP generates must be valid JavaScript code
p17340
aVLook at the generated JavaScript using your browser "View page source" menu item, and fix the JSP code so that it generates valid JavaScript code
p17341
aVExactly how you would do if your JSP generated incorrect HTML code
p17342
aVYou're probably missing some quotes
p17343
aVBut also make sure that the scriptlet expression don't return characters that should be JavaScript-escaped
p17344
aVOr use commons-lang StringEscapeUtils
p17345
aVescapeEcmaScript to escape those characters :
p17346
aVAnd the expressions (
p17347
aVshould be your expressions escaped:
p17348
as(dp17349
g23
V571407
p17350
stp17351
a((dp17352
g2
(lp17353
VTo parse a hex string into a byte :
p17354
aVTo transform your password string into a byte array, using the default encoding (which I suggest not to do : always specify a specific encoding) :  (or  for a specific encoding)
p17355
aVTo hash a byte array :
p17356
aVTo transform a byte to a hex String : See In Java, how do I convert a byte array to a string of hex digits while keeping leading zeros
p17357
as(dp17358
g23
V571407
p17359
stp17360
a((dp17361
g2
(lp17362
VA transaction is rolled back if a runtime exception is thrown
p17363
aVNot if an application exception is thrown
p17364
aVYou may customize this by applying the annotation @Transactional:
p17365
aVThis can also be customized globally in XML, using the  and  attributes of the  element
p17366
aVRead The Spring reference documentation for more details
p17367
as(dp17368
g23
V571407
p17369
stp17370
a((dp17371
g2
(lp17372
VIterate through the list, test if the current student's ID is equal to the one you're looking for
p17373
aVIf yes, return true, else continue
p17374
aVAt the end of the iteration, return false
p17375
aVOr, if you want something easier and faster, use a  instead of the list, storing the students indexed by their ID
p17376
aVYou may use a HashMap, or LinkedHashMap if you need to preserve the insertion order like a List does
p17377
as(dp17378
g23
V571407
p17379
stp17380
a((dp17381
g2
(lp17382
VUse "varchar" instead of "VARCHAR"
p17383
aVSee http://grepcode
p17384
aVcom/file/repo1
p17385
aVmaven
p17386
aVorg/maven2/postgresql/postgresql/9
p17387
aV0-801
p17388
aVjdbc4/org/postgresql/jdbc2/TypeInfoCache
p17389
aVjava#TypeInfoCache
p17390
aV0types
p17391
as(dp17392
g23
V571407
p17393
stp17394
a((dp17395
g2
(lp17396
V calls  if the detached entity already has an ID
p17397
aVthen tries to attach the given detached entity to the session
p17398
aVSince you can only have one instance of a given entity in the session, if you already have loaded the entity (using a , a  or a query) in the session at the time  is called, you'll get this exception
p17399
aVshould generally be one of the first things to do after opening a session
p17400
aVIf you have to load the entity before updating it, you should use
p17401
aVI generally prefer using  in all cases, because it's less error-prone
p17402
aVYou can have an idea of what's in the session using
p17403
as(dp17404
g23
V571407
p17405
stp17406
a((dp17407
g2
(lp17408
VYou must indeed return a SQL literal string, surrouned with single quotes, and with internal scopes escaped
p17409
aVAFAIK, only the single quotes must be escaped, by doubling them :
p17410
aVAt least that's what apache commons-lang StringEscapeUtils does (or did)
p17411
aVBut I doubt you will gain anything by putting a whole address like this in a single column
p17412
aVAnd you'll lose the possibility to query on individual fields of the address
p17413
aVHave you measured that these three fields caused a performance problem, and that putting them in a single column would solve the problem
p17414
as(dp17415
g23
V571407
p17416
stp17417
a((dp17418
g2
(lp17419
VI don't know what you want to do, but you pass  as argument to the Timer constructor
p17420
aVThis means that every 2 seconds, the  method of  (instance of ConcentrationGame4) will be called
p17421
aVAnd the first thing that this method does is
p17422
aVObviously, this will throw an exception, since the origin of the event won't be a game button, but the timer
p17423
aVTo understand what a Timer does and how it works, it's very simple
p17424
aVYou just have to read its api doc : http://download
p17425
aVoracle
p17426
aVcom/javase/6/docs/api/javax/swing/Timer
p17427
aVhtml
p17428
aVThis doc will even lead you to a tutorial explaining how they work, with examples
p17429
as(dp17430
g23
V571407
p17431
stp17432
a((dp17433
g2
(lp17434
VThere is none, but if you go to Windows - Preferences - General - Keys, and type File search in the filter text box, you'll then be able to select the File search action, and type your own key binding
p17435
as(dp17436
g23
V571407
p17437
stp17438
a((dp17439
g2
(lp17440
VA class may not thow an exception
p17441
aVOnly methods can
p17442
aVAnd a class isn't something that can be executed
p17443
aVA method can be executed
p17444
aVAnd what executes the action listener method is the Swing event dispatch thread
p17445
aVThe only thing you can do if some method throws an exception in a listener is to catch it and display it somehow : by opening an error dialog box, or putting the exception message in a text area, or anything
p17446
aVIf you in fact want to communicate from the Swing EDT with the main thread, you could use a BlockingQueue, and have the main thread call  on the queue and the listener  the exception to the queue
p17447
aVAny other thread communication mechanism would do
p17448
aVBut make sure not to block the EDT, or the whole GUI will freeze
p17449
as(dp17450
g23
V571407
p17451
stp17452
a((dp17453
g2
(lp17454
VYou're confusing flush and commit
p17455
aVA flush is when NHibernate executes SQL statements to insert/update/delete rows in the database
p17456
aVA commit is when those inserts/updates/deletes become permanent and visible to other transactions
p17457
aVA flush is done when a HQL query is executed because the query might have to return some entities which have been modified in memory, but whose state has not be written to database yet
p17458
aVFor example, suppose you have the following pseudo-code
p17459
aVYou would want the last query to return all the bikes you just made red
p17460
aVSo NHibernate flushes the bikes to the database before issuing the last query in order for the query to find them
p17461
as(dp17462
g23
V571407
p17463
stp17464
a((dp17465
g2
(lp17466
VThe code which writes the scores uses
p17467
aVThis means that if the method is called with scores 12, 100 and 2, your file will look like
p17468
aVsince you don't write any separator
p17469
aVHow do you want to parse this into three numbers correctly
p17470
aVUse a  that wraps the , and use its  method to write the score
p17471
aVNote that writing the scores one by one by opening the file and closing it each time won't be very fast
p17472
aVBTW, using a BufferedWriter just to write a single integer won't gain any benefit
p17473
aVYou also have bad exception handling : the streams and readers/writers should always be closed in a finally block
p17474
as(dp17475
g23
V571407
p17476
stp17477
a((dp17478
g2
(lp17479
VI suppose you're using SVN
p17480
aVIf so, then that's what it's supposed to do
p17481
aVupdate will try to merge the changes from the repo to your working copy, so that you may then test your changes with the latest version from the repo, and commit them once you have verified everything is OK
p17482
aVIf you want to undo local changes, you need to do a revert
p17483
aVRead the SVN book, it's very well written and explains everything clearly: http://svnbook
p17484
aVred-bean
p17485
aVcom/
p17486
as(dp17487
g23
V571407
p17488
stp17489
a((dp17490
g2
(lp17491
VWhy don't you just use a different output directory for each browser, or copy the output directory to another one when tests are finished
p17492
aVIf you need all the files to be in the same directory, rename (or copy) them after each batch using the  (or ) task with a glob mapper :
p17493
as(dp17494
g23
V571407
p17495
stp17496
a((dp17497
g2
(lp17498
VFirst of all
p17499
aVAddress is in fact Account, right
p17500
aVTo answer your question : your query is much more complex than needed
p17501
aVAll you need is
p17502
as(dp17503
g23
V571407
p17504
stp17505
a((dp17506
g2
(lp17507
VThere is no problem at all
p17508
aVLet's examine these 4 lines of code:
p17509
aVThe first line creates a mock indexManager
p17510
aVThe second one tells the mock graphDb to return indexManager (the mock created at first line) when the index method is called
p17511
aVThe third one telle the mock indexManager (created at first line) to return nodeAutoIndexer when its getNodeAutoIndexer method is called
p17512
aVAnd the last line calls graphDb
p17513
aVindex(), which returns the mock indexManager (you told it to do that at line two), and asks this indexManager (which is the mock you created at first line) to return relAutoIndexer when its getRelationshipAutoIndexer method is called
p17514
aVThe last line works only because you told the mock graphDb what to return when its index method is called
p17515
aVIf you had not done this before, the mock graphDb
p17516
aVindex() method would have returned null and you would have had an NPE
p17517
as(dp17518
g23
V571407
p17519
stp17520
a((dp17521
g2
(lp17522
VI've been able to serve a page through a Spring controller and have a JS script loaded by this page using a similar configuration :
p17523
aVA dispatcher servlet
p17524
aVa servlet mapped to / (the proxy servlet)
p17525
aVI've had to
p17526
aVmap the path /resources/* to the dispatcher servlet in web
p17527
aVxml (in addition to the other mappings)
p17528
aVuse the following spring context file:
p17529
aVservlet-context
p17530
aVxml:
p17531
aVThe key point is the  element
p17532
aVWithout this element, Spring doesn't find any mapping for the JS file in /resources/
p17533
as(dp17534
g23
V571407
p17535
stp17536
a((dp17537
g2
(lp17538
VEither you can make the bean thread-safe, and a singleton bean is OK (that's the majority of the cases)
p17539
aVOr you can't, and you'll have to use a prototype
p17540
aVThe difference I see between Spring prototype beans and stateless EJB session beans is that stateless session beans are pooled
p17541
aVBut in these ages, pooling them or creating a new instance each time won't make much difference
p17542
aVCreating a new instance each time might even help the GC
p17543
as(dp17544
g23
V571407
p17545
stp17546
a((dp17547
g2
(lp17548
VDo you change your SMTP settings in your email client each time you send a mail to a different mail provider
p17549
aVNo
p17550
aVYou don't set the SMTP server to gmail when sending a mail to a gmail
p17551
aVcom address
p17552
aVAnd then set it to yahoo when sending a mail to a yahoo
p17553
aVcom address
p17554
aVYou set it to your email provider SMTP server, and this SMTP server sends the mail to the appropriate location
p17555
aVJust choose an SMTP server which agrees to send mails from your application
p17556
aVSending a dozen per day will be OK with any SMTP provider
p17557
aVBut if you send thousands a day, then you could have problems with your provider
p17558
aVJust ask your hosting provider how it goes with outgoing mails (how much it costs, how many per day are accepted, is there a bandwidth limit, etc
p17559
as(dp17560
g23
V571407
p17561
stp17562
a((dp17563
g2
(lp17564
VFileReader and FileWriter are used to read and write files from/to the file system
p17565
aVAn applet communicates with its origin server using HTTP
p17566
aVAnd HTTP isn't a protocol used to read and write files
p17567
aVTo read it, you need to open a HttpUrlConnection to this URL
p17568
aVTo write it, you'll need to have some server component (a PHP application, a Servlet, whatever) and send an appropriate request to this server component so that it writes to the file
p17569
aVRead up on how HTTP works before trying to write your applet
p17570
as(dp17571
g23
V571407
p17572
stp17573
a((dp17574
g2
(lp17575
VIf thread A has modified some object inside a code block CB1 guarded by the lock and then releases the lock, and thread B enters in a code block guarded by the same lock, then thread B will see the modifications done by thread A in the code block CB1
p17576
aVIf two threads read and write the same shared state, then every read and write to this state should be guarded by the same lock
p17577
as(dp17578
g23
V571407
p17579
stp17580
a((dp17581
g2
(lp17582
VIf you store a detached User object (the logged in user) in the HTTP session, and then create and persists photos having this detached user as owner, JPA won't automatically add the photo to the detached user
p17583
aVFor the entity manager, this detached user doesn't exist: it's not under its responsibility anymore
p17584
aVEven if User was still attached, it's your responsibility to maintain the coherence of the object graph
p17585
aVIf you modify one side of the association (by setting the user as owner of the photo), you should also modify the other side (by adding the photo to the list of photos of the owner)
p17586
aVI'm not absolutely sure this is the cause of the problem, because you haven't shown us what the loginUserBean was and did to get the logged in user, but it might be the answer
p17587
as(dp17588
g23
V571407
p17589
stp17590
a((dp17591
g2
(lp17592
Vints and longs are mapped to a number column in database
p17593
aVChanging the type in the entities won't change anything
p17594
aVYou might have to change the precision of the columns in database so that the number is sufficiently large to accept any long value, but doing that is trivial in SQL, using an alter statement
p17595
aVJPA is just a way to access the database
p17596
aVThe database is not supposed to be created by the JPA engine
p17597
aVYou may do that, but you're not forced to do that
p17598
aVYou may do what you want with your database using SQL, and do whatever you want with your Java code
p17599
aVIf they both map together when running the application, it will work
p17600
as(dp17601
g23
V571407
p17602
stp17603
a((dp17604
g2
(lp17605
VFirst, build and display your GUI
p17606
aVOnce the GUI is displayed, use a javax
p17607
aVswing
p17608
aVTimer to update the GUI every 500 millis:
p17609
as(dp17610
g23
V571407
p17611
stp17612
a((dp17613
g2
(lp17614
VHere's example code from the documentation showing how to write a file to the blobstore
p17615
aVYou'll have to use a stream instead of a writer, since a PNG image is binary, and you'll have to set the appropriate content type, but it should show you the way
p17616
aVAnd here's the UrlFetch documentation, explaining how to get some available resource on the web, using HTTP
p17617
as(dp17618
g23
V571407
p17619
stp17620
a((dp17621
g2
(lp17622
VUpdating the working copy won't delete the local changes you made
p17623
aVDo it without fear
p17624
aVIf you're really afraid of losing something, make a copy of you working copy to another folder, but it shouldn't be necessary
p17625
aVBTW, if you worked with others and someone did a commit that is in conflict with one of your local changes, you would have to do an update and merge the changes before trying to commit again
p17626
aVIt's a normal and usual thing to update a WC containing local changes
p17627
as(dp17628
g23
V571407
p17629
stp17630
a((dp17631
g2
(lp17632
VYou're making it harder than necessary
p17633
aVUse the query cache to avoid hitting the database each time you execute a query with the same arguments
p17634
aVIf the user logs out, the query with these specific arguments won't be executed much afterwards, and the cache will eventually evict this particular query from the cache based on its eviction policy (LRU, timeout, etc
p17635
aVThe cache should just be transparent, and you shouldn't have to evict anything
p17636
aVYou could avoid the query cache completely for this use-case if you used the ID to refer to the user instead of using his email address
p17637
aVIDs are used for that: uniquely refer to an entity, and be able to use session
p17638
aVget and session
p17639
aVload to load the user
p17640
aVUsing the email for login is fine
p17641
aVAfter the login, the application should use his ID to refer to the user, and not his email
p17642
aVRegarding the last point: Hibernate will automatically invalidate the results of the cache if you update the user
p17643
aVAnd even if it didn't, the query cache only stores the IDs of the entities returned
p17644
aVThe state of the entities is loaded from the entity cache, which is invalidated (or updated) when the entity is updated
p17645
as(dp17646
g23
V571407
p17647
stp17648
a((dp17649
g2
(lp17650
VYou should just not store the MP3 files in a location accessible from the outside
p17651
aVInstead, the link you give to the user should be a link to a page (PHP or anything) which will
p17652
aVverify that the user has the right to access the resource
p17653
aVstream the asked resource to the user
p17654
aVSomething like
p17655
aVThe download
p17656
aVphp will check if the user is authenticated and has paid for the file 5435, then read this file from a protected resource, and stream it to the HTTP response, with the appropriate content type set
p17657
as(dp17658
g23
V571407
p17659
stp17660
a((dp17661
g2
(lp17662
VYou shouldn't use a default table model, because once you have copied the data from the entities to the model, it's impossible to get the ID of the entity from the table row
p17663
aVIt might be OK if you had a row with the ID of the purchase order in the table, because you would just have to get the ID from this column and row in the model
p17664
aVYou should use a custom table model, by extending the  class
p17665
aVThis model would just delegate to a list of your entities :
p17666
aVRead the swing tutorial on JTable
p17667
as(dp17668
g23
V571407
p17669
stp17670
a((dp17671
g2
(lp17672
VYou won't be able to do it with a join in HQL
p17673
aVBut this HQL query is OK:
p17674
aVIf the subselect might return several IDs, you may also use
p17675
as(dp17676
g23
V571407
p17677
stp17678
a((dp17679
g2
(lp17680
VI would expect the union strategy to be faster, because it needs less joins, but it really depends on what your application does
p17681
aVSince the base table doesn't contain any other column than the ID, it's not really useful anyway
p17682
aVThe differences between both aproaches are mainly related to normalization
p17683
aVThe join strategy allows defining foreign keys to any class in the hierarchy (even the base class), whereas the union strategy only allows foreign keys to the concrete classes
p17684
aVThis might be an issue for your join table between document and command
p17685
aVThe union strategy also implies duplication of the common columns, but you don't have any in your case, so it's not really an issue
p17686
as(dp17687
g23
V571407
p17688
stp17689
a((dp17690
g2
(lp17691
VIf you invalidate the session once the user is authenticated, he won't be authenticated anymore
p17692
aVWhy would you do that
p17693
aVI fail to see the point
p17694
aVTo invalidate the session after a logout, just use session
p17695
aVinvalidate()
p17696
as(dp17697
g23
V571407
p17698
stp17699
a((dp17700
g2
(lp17701
VYour first example returns the previously set number by chance only : the get method could have been invoked on a different bean instance
p17702
aVIt just happened to use the same instance in this particular case, but you can't count on it
p17703
aVThe second one is guaranteed to return you the previously set number, provided another request doesn't call the set method before the get method is called
p17704
aVA stateful bean should not be injected into a servlet
p17705
as(dp17706
g23
V571407
p17707
stp17708
a((dp17709
g2
(lp17710
VJavadoc to the rescue :
p17711
aVA Scanner breaks its input into tokens using a delimiter pattern,
p17712
aVwhich by default matches whitespace
p17713
aVis probably the method you should use
p17714
as(dp17715
g23
V571407
p17716
stp17717
a((dp17718
g2
(lp17719
VI think you just have some library conflict: Hibernate tries to find the following  constructor:
p17720
aVand doesn't find it
p17721
aVMake sure the hibernate validator version you'e using is compatible with the rest of the hibernate jars you're using
p17722
as(dp17723
g23
V571407
p17724
stp17725
a((dp17726
g2
(lp17727
VBecause you used inheritance instead of delegation
p17728
aVYou inherit LinkedList, and the only thing you do is define a constructor which adds the content of an unsorted list to a new one, in the appropriate order
p17729
aVBut you don't override the  method, so this method is inherited from LinkedList, which doesn't care about your internal sorted list and thus always returns 0
p17730
aVExtending a collection is, most of the time, a bad idea
p17731
aVIn this case, it's a particularly bad idea because it's impossible to have a sorted LinkedList that respects the LinkedList API
p17732
aVSuppose your list contains A, B and C, and you call  on it
p17733
aVWhere will you put Z, if at the beginning, your list is not sorted anymore
p17734
aVIf at the end, you don't respect the contract of
p17735
aVJust use linked lists (instead of extending them), and sort them
p17736
aVYou could just do :
p17737
as(dp17738
g23
V571407
p17739
stp17740
a((dp17741
g2
(lp17742
VJPA has pagination support with the  and  methods
p17743
aVI don't know how it translates in SQL with DB2, though, but it's done in database (using rownum with Oracle, limit with MySQL, etc
p17744
aVJust write your JPA query as you would do without pagination, and call these two methods, and Hibernate will generate the appropriate SQL query:
p17745
as(dp17746
g23
V571407
p17747
stp17748
a((dp17749
g2
(lp17750
VThe idea of  is precisely to avoid having to implement a controller whan its only job would be to dispatch to a view
p17751
aVJust having this tag in the XML is sufficient
p17752
aVYou don't need a controller
p17753
aVSee http://static
p17754
aVspringsource
p17755
aVorg/spring/docs/current/spring-framework-reference/html/mvc
p17756
aVhtml#mvc-view-controller
p17757
aVIf you have controller logic and thus need a controller, then the mvc:view-controller element should be removed, and be replaced by the actual controller, which dispatches to the appropriate view
p17758
aVYou may avoid specifying a view name explicitely here using a RequestToViewNameTranslator, as explained here
p17759
as(dp17760
g23
V571407
p17761
stp17762
a((dp17763
g2
(lp17764
VThe list may contain several elements, so the get method takes an argument : the index of the element you want to retrieve
p17765
aVIf you want the first one, then it's 0
p17766
aVThe list contains Car instances, so you just have to do
p17767
aVor just
p17768
aVThe  variable should be named , since it's a list and thus contains several cars
p17769
aVRead the tutorial about collections
p17770
aVAnd learn to use the javadoc: all the classes and methods are documented
p17771
as(dp17772
g23
V571407
p17773
stp17774
a((dp17775
g2
(lp17776
VYou probably just forgot to declare the use of the core taglib at the beginning of the JSP:
p17777
aVAnd the appropriate way is :
p17778
aVor just
p17779
aVunless you have a page-scope attribute with the same name
p17780
as(dp17781
g23
V571407
p17782
stp17783
a((dp17784
g2
(lp17785
VPut everything that is common to all applications in the library, and everything related to a specific application (database URL, user, password, but maybe also caching options, etc
p17786
aVoutside of the library
p17787
aVAt then end, everything is loaded from the classpath
p17788
aVWhether the files are in one jar or another doesn't matter for Hibernate
p17789
aVIf you use annotations, most of the configuration will be in the entity classes anyway
p17790
as(dp17791
g23
V571407
p17792
stp17793
a((dp17794
g2
(lp17795
VUsing the Check annotation
p17796
aVBeware that according the this bug report, it only works at class level
p17797
as(dp17798
g23
V571407
p17799
stp17800
a((dp17801
g2
(lp17802
VNo, this won't work, because you may only have one value for a given key in a map
p17803
aVI would use a delegation mechanism between scopes
p17804
aVWhen you enter a new scope, create a new Scope object, and store every new symbol defined in this scope inside a map contained by the SCope object
p17805
aVMake the Scope object point to its enclosing Scope (and thus delegating to this enclosing Scope to find the value of variables which are not in the map), and then make the created SCope the current one
p17806
aVOnce you exit from the block, simply take the enclosing scope of the ended scope and make that the current scope
p17807
as(dp17808
g23
V571407
p17809
stp17810
a((dp17811
g2
(lp17812
VIt's included in the src
p17813
aVzip file which comes with the JDK
p17814
aVAll the IDEs allow navigating to the source file of classes, and know where to find them in the JDK
p17815
aVNote that Set and SortedSet are just interfaces, so you won't find much more than what the javadoc tells you in the source file
p17816
aVYou're probably interested in TreeSet, which is the most used SortedSet implementation
p17817
as(dp17818
g23
V571407
p17819
stp17820
a((dp17821
g2
(lp17822
VThese queries are not SQL queries, but JPQL queries
p17823
aVAnd you may put any kind of query inside a named query, complex or not
p17824
aVThey all have the same advantages :
p17825
aVthe JPA engine parses and validates the query at startup time, and may cache the result of the parsing to avoid parsing it again and again
p17826
aVthe same query may easily be used at several places in the code (although that would be questionable design)
p17827
aVThey all have the same disadvantage, IMO : the query is not defined where it is used, and the code is thus harder to understand
p17828
aVWhether those queries are named or not, you will have to write these queries to execute them
p17829
aVThe only other ways to load entities are to find them using their ID (which is not the case here), or to navigate from one entity to another using associations (which is not the case either)
p17830
as(dp17831
g23
V571407
p17832
stp17833
a((dp17834
g2
(lp17835
VThe glassfish development guide says:
p17836
aVAnnotation is supported for the main class and the optional callback
p17837
aVhandler class in application clients
p17838
aVSo, either you inject the beans in the main class, and build some sort of singleton registry where all the classes will get a reference to the EJBs, or you use JNDI to get a reference to a bean, or you use some dependency injection framework (Spring, Guice, etc
p17839
aVwhich will have its own injection rules and will use the registry or JNDI as a factory for the EJB references
p17840
as(dp17841
g23
V571407
p17842
stp17843
a((dp17844
g2
(lp17845
VYes they are the same
p17846
aVJ2SE means "Java 2 Standard Edition"
p17847
aVIt was the "marketing" name for the version 1
p17848
ag12
aVJDK means "Java Development Kit"
p17849
aVI hope you're doing this only for archeological reasons, because this version is obsolete for quite a long time
p17850
as(dp17851
g23
V571407
p17852
stp17853
a((dp17854
g2
(lp17855
VYou shouldn't have any white space before the = sign in your URL, and you should have a quote before the URL:
p17856
aVYou should also encode the parameter value, and avoid scriptlets
p17857
aVUse The JSTL:
p17858
aVRead How to avoid Java Code in JSP-Files
p17859
aVOther than that, any user may remove the parameter from the URL in its address bar, so maybe that's the reason for a null parameter
p17860
as(dp17861
g23
V571407
p17862
stp17863
a((dp17864
g2
(lp17865
VYou're trying to make two impossible things here:
p17866
aVexecute a batch file from an applet
p17867
aVThis would need a signed applet and permissions granted by the user, because obviously, launching an external program from an applet downloaded from the web is very very very insecure
p17868
aVexecute a batch file which is not on the file system
p17869
aVcmd
p17870
aVexe expects the filesystem path of the batch file to execute
p17871
aVIt won't be able to find the batch file in the jar which only exists in the memory of the browser
p17872
aVYou would need to write the batch file to the file system (which, once again, would need a signed applet and granted permissions, because letting an applet writing on the local hard drive is very very insecure), and then execute this batch file
p17873
aVApplets run in a security sandbox
p17874
aVYou need to learn about it
p17875
aVRead http://download
p17876
aVoracle
p17877
aVcom/javase/tutorial/deployment/applet/security
p17878
aVhtml
p17879
as(dp17880
g23
V571407
p17881
stp17882
a((dp17883
g2
(lp17884
VUse the  attribute of the  annotation:
p17885
aVAnd please, make your attributes private
p17886
as(dp17887
g23
V571407
p17888
stp17889
a((dp17890
g2
(lp17891
VI would say no
p17892
aVDoing so will make it harder to change the URL of the page containing this code (because all the relative paths will have to change)
p17893
aVIt will also be harder to change the path of findCaseSearchResults
p17894
aVdo, because you won't be able to do a global search/replace to switch from one absolute path to another one
p17895
aVIt also makes it impossible to forward to the same JSP page from multiple paths, since the location is relative to the URL of the action (
p17896
aVdo) and not to the URL of the JSP
p17897
as(dp17898
g23
V571407
p17899
stp17900
a((dp17901
g2
(lp17902
VNo it's not
p17903
aVThe constructor for CartItem just calls  and
p17904
aVThis will just call the methods, which will obviously return null, since the attributes are never initialized
p17905
aVIt should be:
p17906
aVAnother problem is that you add getters and setters for all the fields, without even knowing if those methods are necessary
p17907
aVTry to favor immutability, and only provide setters if they are absolutely necessary
p17908
aVI won't explain all the advantages of immutability, because it would be too early given what you already know
p17909
aVBut a good rule of thumb is : don't add a method to a class if it's not used
p17910
as(dp17911
g23
V571407
p17912
stp17913
a((dp17914
g2
(lp17915
VIt makes the web driver wait for 30 seconds maximum, until the title in lowercase starts with "Java Developer"
p17916
aVWhich of course is impossible, since  and  are uppercase chars
p17917
aVSo it will always wait for 30 seconds
p17918
as(dp17919
g23
V571407
p17920
stp17921
a((dp17922
g2
(lp17923
VIf the client is able to send objects to EJBs, then it's probably a client written in Java
p17924
aVSo it's in fact a rich presentation layer that invokes the EJB methods
p17925
aVIf so, then the validation should be done in this presentation layer, IMO
p17926
aVIt might be desirable for the server to add an additional layer of validation for its own safety, but in this case, since the contract of the method is well-defined and the presentation layer is supposed to validate the objects and respect the contract, I would just throw a runtime exception at the first error found
p17927
aVIf you really want to perform the validation at server side, I would use a checked  to signal a list of errors
p17928
aVThis exception could contain a list of messages, or a list of message keys with associated parameter values
p17929
aVThat would depend on the necessity of internationalization (i18n), and who is responsible for i18ning the messages
p17930
aVWarnings can also be put in this exception (the message would then be associated with a flag or enum)
p17931
aVIf the client invokes the method with , then warnings are stored in the exception and the exception is thrown
p17932
aVIf it invokes the method with , then warnings are ignored and only errors lead to an exception being thrown
p17933
as(dp17934
g23
V571407
p17935
stp17936
a((dp17937
g2
(lp17938
VUse SAX or StAX
p17939
aVBut if the goal is to have an in-memory object representation of the file, you'll still need lots of memory to hold the contents of such a big file
p17940
aVIn this case, your only hope is to increase the heap size using the  JVM option (which sets the max heap size to 1024 MBs)
p17941
as(dp17942
g23
V571407
p17943
stp17944
a((dp17945
g2
(lp17946
VThe jar itself must be in the classpath
p17947
aVNot the directory containing the jar:
p17948
as(dp17949
g23
V571407
p17950
stp17951
a((dp17952
g2
(lp17953
Vbackup the file with the local changes somewhere
p17954
aVdo a show log on the file, and revert this file to the revision before the unwanted changes (using an update with the given revision number)
p17955
aVcommit the file
p17956
aVupdate the whole working copy
p17957
aVrestore the backup done at step 1
p17958
aVYou might use changelists or lock the file to avoid making the same mistake again
p17959
as(dp17960
g23
V571407
p17961
stp17962
a((dp17963
g2
(lp17964
VThis criteria query won't return instances of Analytic
p17965
aVIt will return a list of
p17966
aVEach  in the list contains 2 elements:
p17967
aVthe count, as an Integer or a Long (it has changed recently
p17968
aVI cast to Number and ask its int value to be safe
p17969
aVthe paramType
p17970
aVYou should of course create a list of bean instances from this lits of Object[], and use these beans in your view
p17971
as(dp17972
g23
V571407
p17973
stp17974
a((dp17975
g2
(lp17976
VYou don't need to change the build or even have access to the code to instrument the classes
p17977
aVJust instrument the classes found in the delivered jar, re-jar them and redeploy the application with the instrumented jars
p17978
aVCobertura even has an ant task that does that for you: it takes a war file, instrument the classes inside the jars inside the war, and rebuild a new war file
p17979
aVSee http://cobertura
p17980
aVsourceforge
p17981
aVnet/anttaskreference
p17982
aVhtml
p17983
aVTo answer your question about instrumenting the jars on build: yes, of course, the instrumented classes are not used in production
p17984
aVThey're only used for the tests
p17985
as(dp17986
g23
V571407
p17987
stp17988
a((dp17989
g2
(lp17990
VIf the map contains the key, then the value for this key is your gradeList
p17991
aVJust add this line under :
p17992
aVNote that naming a map  is pretty confusing
p17993
aVWhy not
p17994
aVAlso note that you could just use  instead of : either the map contains the courseID, or it doesn't; there's no other possibility
p17995
aVFinally, you'll also have to fix the next line of code, because it's not correct
p17996
as(dp17997
g23
V571407
p17998
stp17999
a((dp18000
g2
(lp18001
VCouldn't be much simpler
p18002
as(dp18003
g23
V571407
p18004
stp18005
a((dp18006
g2
(lp18007
VThe fastest way would be to use
p18008
aVIt's what's done by the Arrays class, BTW
p18009
as(dp18010
g23
V571407
p18011
stp18012
a((dp18013
g2
(lp18014
VThe easiest way is to write your custome tag as a JSP tag file, rather than in Java
p18015
aVThis way, the new tag can use other custom tags easily
p18016
aVCreate a file myTag
p18017
aVtag in /WEB-INF/tags, and use the following code:
p18018
aVMore information about tag files here: http://docs
p18019
aVoracle
p18020
aVcom/javaee/1
p18021
aV4/tutorial/doc/JSPTags5
p18022
aVhtml
p18023
as(dp18024
g23
V571407
p18025
stp18026
a((dp18027
g2
(lp18028
VHibernate at least allows for lazy columns (using the fetch attribute of the  annotation), but I don't think it's supported by all the JPA vendors
p18029
aVIs it really necessary to store the images in database
p18030
aVIt's often more efficient to store them in the file system, and just store paths in the database
p18031
as(dp18032
g23
V571407
p18033
stp18034
a((dp18035
g2
(lp18036
VCheck the logs, you must have an error logged somewhere, because the query is invalid
p18037
aVis a SQL query, not a JPQL (or HQL) one
p18038
aVIt should be
p18039
as(dp18040
g23
V571407
p18041
stp18042
a((dp18043
g2
(lp18044
VThat's the goal of the  annotation
p18045
as(dp18046
g23
V571407
p18047
stp18048
a((dp18049
g2
(lp18050
VI think it's natively supported by the JDK
p18051
aVSee http://download
p18052
aVoracle
p18053
aVcom/javase/6/docs/technotes/guides/security/StandardNames
p18054
aVhtml
p18055
aVBut AES and RSA are two very different algorithms, which are not normally used for the same kind of problem
p18056
aVYou would typically use RSA in a handshake to negociate a secret AES key, and use AES to encrypt the rest of the conversation
p18057
as(dp18058
g23
V571407
p18059
stp18060
a((dp18061
g2
(lp18062
VThe runnable will throw a NullPointerException, since you create it yourself (using the new operator), instead of letting Spring create it
p18063
aVThis obviously mleans that the autowired DAO attribute won't be autowired, which will lead to a NPE when calling
p18064
aVYou should get your runnable instance from the bean factory (as a prototype), set its member attribute, and then submit it to the executor
p18065
as(dp18066
g23
V571407
p18067
stp18068
a((dp18069
g2
(lp18070
VNot sure this is the answer, because I don't know about Play, but the Shop-Address bidirectional association is not correct: The shop side must be marked as the inverse of the other side, using
p18071
aVAlso, if  and  corrspond to  and  respectively, doing a save after a merge makes no sense
p18072
aVSave is used to insert a new, transient entity into the session
p18073
aVIf merge has been called, it's already persistent at the time  is called
p18074
as(dp18075
g23
V571407
p18076
stp18077
a((dp18078
g2
(lp18079
VFileReader reads character from a file in the file system
p18080
aVInputStreamReader reads characters from any kind of input stream
p18081
aVThe stream cound be a FileInputStream, but could also be a stream obtained from a socket, an HTTP connection, a database blob, whatever
p18082
aVI usually prefer using an InputStreamReader wrapping a FileInputStream to read from a file because it allows specifying a specific character encoding
p18083
as(dp18084
g23
V571407
p18085
stp18086
a((dp18087
g2
(lp18088
VThat's indeed what you could do, but it looks like you have an inheritance relationship here
p18089
aVBoth PP and JP should probably extend a common base entity Person, and it's the Person entity which should have a list of phones
p18090
aVThe Phone entity would then just have one ManyToOne association with Person
p18091
aVThat's assuming that the Phone entity needs to know about its owning person
p18092
aVMaybe a unidirectional association would make more sense here
p18093
aVIn this case, using a join table (or two, if you don't want this inheritance relationship), would make more sense
p18094
as(dp18095
g23
V571407
p18096
stp18097
a((dp18098
g2
(lp18099
VThis class is part of the Guava library
p18100
aVIt must be in your classpath
p18101
aVBut libraries do not magically disappear from the classpath of a project when upgrading Java
p18102
aVSome one must have removed it
p18103
as(dp18104
g23
V571407
p18105
stp18106
a((dp18107
g2
(lp18108
VHibernate and JPA automatically make persistent all the modifications made to persistent entities while they are attached to the session
p18109
aVThat's the whole point of an ORM: you load a persistent object, modify it, and the new state is automatically persisted at the commit of the transaction, without any need to call persist, merge, save or any other method
p18110
aVNote that calling  on a persistent entities (except for its cascading side-effects) makes no sense
p18111
aVis to make a transient entity (i
p18112
ag468
aVa new one, not in the database yet, with no generated ID) persistent
p18113
as(dp18114
g23
V571407
p18115
stp18116
a((dp18117
g2
(lp18118
VIt's unclear why you can't use a join table, but if you keep this design, then yes, thanks to the  that you defined on both associations, deleting a person will delete its s, which will then cascade to
p18119
aVThe  entity is only useful if it has more than the person and the phone attributes
p18120
as(dp18121
g23
V571407
p18122
stp18123
a((dp18124
g2
(lp18125
VA DAO is typically a stateless singleton used to load, search, modify and delete entities from the database
p18126
aVWhy would you want to use RMI to communicate with another JVM just to do that
p18127
aVYou would seriously decrease the performance, the entities would never be attached to the session, and you couldn't use transactions spanning more than a single operation (load, store) on a single entity
p18128
aVIt just doesn't make sense
p18129
aVHave a DAO instance in each of your application
p18130
as(dp18131
g23
V571407
p18132
stp18133
a((dp18134
g2
(lp18135
VI guess you're looking for a JDialog or a JPanel
p18136
aVFollow the Swing tutorial
p18137
aVIt has detailed guidelines for every component, and has a visual index of all the components
p18138
as(dp18139
g23
V571407
p18140
stp18141
a((dp18142
g2
(lp18143
V will return the content of the map as a String
p18144
aVIt will delegate to the default  of the arrays, which won't print anything useful, though
p18145
aVSo you should use a List instead of a String[] as the value type of the map:
p18146
aVCollections should generally be preferred over arrays, in most of the cases
p18147
as(dp18148
g23
V571407
p18149
stp18150
a((dp18151
g2
(lp18152
VYou should only branch and merge the whole project
p18153
aVNot individual directories inside the project
p18154
aVIt makes things much simpler
p18155
aVFor how to do it, refer to the SVN book
p18156
aVIt's very well explained and details the usual techniques : feature branches, maintenance branches, etc
p18157
aVhttp://svnbook
p18158
aVred-bean
p18159
aVcom/
p18160
as(dp18161
g23
V571407
p18162
stp18163
a((dp18164
g2
(lp18165
VI think you're trying to do it at the wrong level (too low)
p18166
aVRather than trying to track all internal changes to the list of SomeType, encapsulate the functional changes to this list in a specific service, to which all the other services (and the presentation layer) would delegate when this list must be modified
p18167
aVIn this centralized service, notify the subscribers when the service changes the list of SomeType
p18168
as(dp18169
g23
V571407
p18170
stp18171
a((dp18172
g2
(lp18173
VYou shouldn't have to use any of those escape methods
p18174
aVThere is no need to escape the HTML
p18175
aVEscaping the HTML is useful when some user writes some text and you want to display it as is, inside an HTML page
p18176
aVSo you want  to be transformed to , etc
p18177
aVThe database doesn't need this, and you would have to unescape it when loading it from the database to get your HTML back
p18178
aVThat's completely unnecessary
p18179
aVThe HTML has to be SQL-escaped, but that's the job of the JDBC driver
p18180
aVJust use prepared statements, and bind the HTML string using the setString() method, and the driver will escape everything for you
p18181
aVRead the JDBC tutorial
p18182
as(dp18183
g23
V571407
p18184
stp18185
a((dp18186
g2
(lp18187
VYou need to wait until some other thread wakes it by notifying it
p18188
aVRead the tutorial about concurrency: http://download
p18189
aVoracle
p18190
aVcom/javase/tutorial/essential/concurrency/
p18191
aVYou should probably use a more high-level abstraction though, like an
p18192
as(dp18193
g23
V571407
p18194
stp18195
a((dp18196
g2
(lp18197
VNo, because Thread does not implement the  interface
p18198
aVYou'll have an exception when trying to serialize an instance of this class
p18199
aVStraight from the javadoc of Serializable:
p18200
aVWhen traversing a graph, an object may be encountered that does not
p18201
aVsupport the Serializable interface
p18202
aVIn this case the
p18203
aVNotSerializableException will be thrown and will identify the class of
p18204
aVthe non-serializable object
p18205
as(dp18206
g23
V571407
p18207
stp18208
a((dp18209
g2
(lp18210
VThere is no reason to have an inheritance mechanism between those two classes
p18211
aVInheritance is used for polymorphism, and you only have static members here
p18212
aVJust have two separate classes
p18213
aVI would even make them final and non instantiatable:
p18214
as(dp18215
g23
V571407
p18216
stp18217
a((dp18218
g2
(lp18219
VNo
p18220
aVYou must get the child from the database
p18221
aVBut if you use  instead of , it will just initialize a proxy to the actual persistent object, without even executing a SQL query
p18222
aVOf course, if the entity does in fact not exist in the database, you'll have an exception at flush time (or if the entity is being fetched by some other part of the code later in the transaction)
p18223
as(dp18224
g23
V571407
p18225
stp18226
a((dp18227
g2
(lp18228
VClasses from the com
p18229
aVsun
p18230
aV** packages should never be used
p18231
aVUse ImageIO to encode images into bytes
p18232
aVRead the ImageIO tutorial
p18233
as(dp18234
g23
V571407
p18235
stp18236
a((dp18237
g2
(lp18238
VNo, this is not the right way to do it
p18239
aVTo send messages, use message-oriented middleware (MOM), using JMS
p18240
aVThere are free JMS implementations available (like ActiveMQ, for example)
p18241
as(dp18242
g23
V571407
p18243
stp18244
a((dp18245
g2
(lp18246
VThe method itself is thread-safe, since it only takes its arguments and reads them, without publishing them to any other thread
p18247
aVBut that doesn't mean you couldn't have a threading problem
p18248
aVIt all depends on where the arguments come from
p18249
aVIf the arguments constitute shared state between threads, then every access to this state should be synchronized somehow
p18250
aVBut you have to establish a synchronization policy between threads to protect the access to this state
p18251
aVSo this method, or the caller of this method, should make sure the access to the state is thread-safe
p18252
aVWithout knowing where the arguments come from, it's thus impossible to tell if this code is thread-safe or not
p18253
as(dp18254
g23
V571407
p18255
stp18256
a((dp18257
g2
(lp18258
VDon't do this in a JSP
p18259
aVDO this in a Servlet
p18260
aVJSP is used to output HTML markup
p18261
aVServlets are used to contain Java code executing some logic
p18262
aVRead How to avoid Java Code in JSP-Files
p18263
aVYou need to
p18264
aVcreate and start a MySQL database
p18265
aVAn SQL file doesn't contain a database
p18266
aVIt contains SQL instructions that can be used to populate some database
p18267
aVcreate the schema for your two tables (probably with your SQL files, but I don't know what they contain
p18268
aVlearn how to use JDBC
p18269
aVexecute a query which reads every row from table A and insert the data of each row into table B
p18270
aVYou'll neeed prepared statements to do that
p18271
as(dp18272
g23
V571407
p18273
stp18274
a((dp18275
g2
(lp18276
VNo, it's not correct at all
p18277
aVAn applet is a Java program, packaged in a jar file, that the browser downloads and executes in the client browser
p18278
aVA JSP is some dynamically composed page that executes on the server, and outputs HTML which is rendered in the client browser
p18279
aVIf this code would display a JPanel (which id doesn't : it just constructs one), the panel would be displayed on the server screen, where the code is executed
p18280
aVFinally, a JSP should not contain Java code for decades, but should use the JSTL and other custom tags
p18281
aVRead How to avoid Java Code in JSP-Files
p18282
aVRead the Java tutorial about applets, try to create an applet displaying a graph with purely static data and embed it into a static HTML page, then make a JSP that contains the same code as the static JSP to embed the applet, and finally think of a way for the applet to communicate with the server to get the data allowing it to display the graph
p18283
as(dp18284
g23
V571407
p18285
stp18286
a((dp18287
g2
(lp18288
VRemoving those three lines that don't do anything useful would at least avoid at least 2097152 bytes in memory :
p18289
aVFor the rest, this code causes the exception to happen, but it's maybe because some other part of the code, executed before is too memory-hungry
p18290
aVTry using a profiler to detect where the memory is used
p18291
aVBut storing a whole large byte array, along with its copy encoded in base64, in memory in an android program is of course a bad idea
p18292
as(dp18293
g23
V571407
p18294
stp18295
a((dp18296
g2
(lp18297
VUse a DataInputStream wrapping a BufferedInputStream wrapping a FileInputStream to read
p18298
aVUse a DataoutputStream wrapping a BufferedOutputStream wrapping the socket's output stream to write
p18299
aVEach has its responsibilities:
p18300
aVThe file and socket streams are used to read/write data from/to socket
p18301
aVThe buffered streams avoid having too many native calls by buffering the input/output and thus enhancing the performance of the app
p18302
aVThe Data streams allow manipulating bytes, ints, and other types instead of raw bytes
p18303
as(dp18304
g23
V571407
p18305
stp18306
a((dp18307
g2
(lp18308
VRead http://docs
p18309
aVjboss
p18310
aVorg/hibernate/core/3
p18311
aV6/reference/en-US/html_single/#queryhql
p18312
as(dp18313
g23
V571407
p18314
stp18315
a((dp18316
g2
(lp18317
VUse 's  method, which does exactly that
p18318
aVYou may obtain an instance of such an executor service thanks to the  factory class
p18319
aVThis class is the replacement for Timer, which has some deficiencies
p18320
as(dp18321
g23
V571407
p18322
stp18323
a((dp18324
g2
(lp18325
VYou're probably looking for an ORM (object-relational mapper), which would handle associations between objects and would be able to return one A object containing an array of B objects
p18326
aVSee Good PHP ORM Library
p18327
aVUsing explicit joins, the query would look like this:
p18328
as(dp18329
g23
V571407
p18330
stp18331
a((dp18332
g2
(lp18333
VYour first snippet is wrong: it reads the next line, tests if it's null, ignores it, then reads the next line without testing if it's null, and prints it
p18334
aVThe second code prints the integer value of every char read from the reader
p18335
aVBoth snippets use the same underlying streams and readers, and, if coded correctly, the first one should probably be a bit faster thanks to buffering
p18336
aVBut of course, you'll have something printed on the screen only when the line is ended
p18337
aVIf the server sends a single line of text of 10 MBs, you'll have to read the whole 10 MBs before something is printed to the screen
p18338
aVMake sure to close the readers in finally blocks
p18339
as(dp18340
g23
V571407
p18341
stp18342
a((dp18343
g2
(lp18344
VHow could the  method, which reads a line of text from the file, know how to transform the line into a  instance
p18345
aVIt doesn't read in your mind
p18346
aVSo you have to tell it how to transform the line into three components
p18347
aVYou might use the  method to split the line at every space character, and the  method to transform the third token into an integer
p18348
aVAlso, your code assumes that the file contains exactly 3 lines
p18349
aVIf that's not necessarily the case, you should loop until the next line is null, and put each Data instance into a  rather than an array
p18350
aVThe list will automatically grow in size, which an array can't do
p18351
as(dp18352
g23
V571407
p18353
stp18354
a((dp18355
g2
(lp18356
VHave a counter field in your object, write its value each time an entry is written, and then increment it:
p18357
aVYou should always close the writer in a finally block, to make sure it's closed even if some exception is thrown
p18358
as(dp18359
g23
V571407
p18360
stp18361
a((dp18362
g2
(lp18363
VUse the  function
p18364
aVIt allows providing a callback used to compare the elements of the array to sort
p18365
aVThis callback, in your case, would extract the state names from the two inner arrays to compare, and compare the names
p18366
as(dp18367
g23
V571407
p18368
stp18369
a((dp18370
g2
(lp18371
VSee http://download
p18372
aVoracle
p18373
aVcom/javase/6/docs/api/java/util/concurrent/package-summary
p18374
aVhtml#MemoryVisibility:
p18375
aVA write to a volatile field happens-before every subsequent read of
p18376
aVthat same field
p18377
aVWrites and reads of volatile fields have similar
p18378
aVmemory consistency effects as entering and exiting monitors, but do
p18379
aVnot entail mutual exclusion locking
p18380
aVSo the answer is yes
p18381
aVThe write of the volatile in the constructor happens before the read of the volatile in
p18382
aVAnd since the non-atomic incrementation is still done in a synchronized block, the synchronization is alright (the incrementation is not atomic, but the write of the volatile long is)
p18383
as(dp18384
g23
V571407
p18385
stp18386
a((dp18387
g2
(lp18388
VJust apply good OO practices
p18389
aVIf some behavior can be encapsulated in the Model class, then definitely put it in the Model class
p18390
aVFor example, a Model having a  and a  properties might of course have a  method which returns the sum of salary and bonus
p18391
aVOf course, it shouldn't cross its own boudaries
p18392
aVIf the computation of the total income necessitates the call of a service to apply some tax based on the current month and some configuration in the database, this becomes business logic and couples your model objet with the service layer, which should not be done
p18393
aVSo the  method in this case should not exist anymore
p18394
as(dp18395
g23
V571407
p18396
stp18397
a((dp18398
g2
(lp18399
VReading the documentation, I think you might just use the similar methods, and pass a loader which always throws an exception
p18400
aVYou would then call  to get a map, where you would be able to put your keys and values and have it backed by the cache
p18401
as(dp18402
g23
V571407
p18403
stp18404
a((dp18405
g2
(lp18406
VYou may be more precise and use System
p18407
aVnanoTime, but I doubt it will make a significant difference
p18408
as(dp18409
g23
V571407
p18410
stp18411
a((dp18412
g2
(lp18413
VA JSP is a servlet, so you should certainly be able to use the annotation in the JSP:
p18414
aV(untested though)
p18415
aVBut even if it doesn't work, that's not a problem because JSPs should not contain Java code anyway
p18416
aVJSPs should be used to generate markup from beans prepared by a controller (Servlet or action of your preferred framework) written in Java
p18417
aVSee How to avoid Java Code in JSP-Files
p18418
aVAlso, your snippets of code are wrong: they use the  variable although a naming exception occurred when initializing them
p18419
aVThis will obviously lead to a NullPointerException
p18420
as(dp18421
g23
V571407
p18422
stp18423
a((dp18424
g2
(lp18425
VThe result of the query, given what's printed and the error you got is a  (or a  if the numbers are stored as Strings)
p18426
aVThe map has one single key :
p18427
aVThe associated valud contains 4 keys : , , ,
p18428
aVSo your code should rather look like this:
p18429
aVNote that my code
p18430
aVrespects the Java naming conventions
p18431
aValways uses generic types, which avoid casts and compilation warnings
p18432
aVdoesn't compare Strings with ==, but uses equals, because == only compares the references and not the values
p18433
aVdeclare the variables with the smaller scope possible, only when needed
p18434
aVuse getters to access the state of the constructed object
p18435
aVAlso understand that a cast doesn't magically transform an object into another object type
p18436
aVIt just allows referencing an object of type A as another type B, and only works if the object is effectively of type B (and thus B has A as ancestor or interface)
p18437
as(dp18438
g23
V571407
p18439
stp18440
a((dp18441
g2
(lp18442
VYes
p18443
aVWhat you're looking for is a
p18444
aVYou may have several of those, and they're called when the app is initialized and when it's destroyed
p18445
as(dp18446
g23
V571407
p18447
stp18448
a((dp18449
g2
(lp18450
VThe advantages of a lock are
p18451
aVit's possible to make them fair
p18452
aVit's possible to make a thread responsive to interruption while waiting on a Lock object
p18453
aVit's possible to try to acquire the lock, but return immediately or after a timeout if the lock can't be acquired
p18454
aVit's possible to acquire and release locks in different scopes, and in different orders
p18455
aVNote that this is explained in the javadoc of Lock and its subclasses
p18456
aVA high performant cache could be implemented using a ConcurrentMap
p18457
as(dp18458
g23
V571407
p18459
stp18460
a((dp18461
g2
(lp18462
VThere is no alternative
p18463
aVIf you don't know who your users are, then any user will be able to rank the same image multiple times
p18464
aVYou could associate each anonymous user with their own anonymous account with a cookie, and thus make sure that the user only ranks each image once, but if the user uses another machine or browser, or if he clears its anonymous account cookie, you won't be able to do anything
p18465
aVJust don't use a cookie per image
p18466
aVUse a single anonymous account cookie and remember all the already ranked images for each account in your database, at server-side
p18467
as(dp18468
g23
V571407
p18469
stp18470
a((dp18471
g2
(lp18472
VJust because you never change what the minimum variable points to in the loop
p18473
aVSo you're checking again and again that the same minimum's previousState is not null, without ever changing the minimum's value nor the minimum's previousState
p18474
as(dp18475
g23
V571407
p18476
stp18477
a((dp18478
g2
(lp18479
VNo, it's not the case
p18480
aVThere are good frameworks and bad frameworks, and there are frameworks suited for the app you're developing and frameworks not suited for this app
p18481
aVYou just have to pick the best tool for the job
p18482
aVNot anticipating the complexity of the application is not necessarily the framework's fault
p18483
aVIt might be yours, because you just didn't choose the appropriate framework for the task
p18484
aVWhatever the chosen framework is, nobody forces you to use it for each and every part of the application
p18485
aVIf the framework eases the development of 90% of the app, and make it too complex for the 10% left, then just don't use the framework for these 10%
p18486
as(dp18487
g23
V571407
p18488
stp18489
a((dp18490
g2
(lp18491
VAdd a JavaScript click handler to your links and buttons so that the body of the page is replaced (or covered) by some initially hidden div containing a loader icon
p18492
aVNote that that the real problem is that your application is too slow
p18493
aVYou should investigate why all your pages are so slow before trying to find a workaround
p18494
aVUsers, even if you show them a loader icon, will quickly become annoyed by a slow application
p18495
as(dp18496
g23
V571407
p18497
stp18498
a((dp18499
g2
(lp18500
VSharing the project should make it detect that
p18501
aVsvn directories already exist, and should propose you to keep these files and use the information they contain to establish the SVN configuration of the project
p18502
as(dp18503
g23
V571407
p18504
stp18505
a((dp18506
g2
(lp18507
VBecause it's abstract
p18508
aVAn abstract class is a class which is allowed to declare some methods without providing any implementation of those methods, forcing concrete subclasses doing it
p18509
aVYou could add the method
p18510
aVto the abstract class, but it would just be redundant with the method already declared in the interface
p18511
as(dp18512
g23
V571407
p18513
stp18514
a((dp18515
g2
(lp18516
VThe part after
p18517
aVOnce the main thread has received a connection from a client, let another thread (pooled, preferrably) handle the communication with this client so that the main thread can accept another one
p18518
aVUse a  to do this: each time a connection is accepted, construct a new  instance and make it execute by the executor
p18519
as(dp18520
g23
V571407
p18521
stp18522
a((dp18523
g2
(lp18524
VYou don't want to sacrifice the design of your application to gain 2 micro-seconds each time Eclipse or Maven compiles your classes
p18525
aVBTW, if you edit XImpl, it has to check that it still respects the contract of the X interface which is used by YImpl, so it probably doesn't make any difference
p18526
as(dp18527
g23
V571407
p18528
stp18529
a((dp18530
g2
(lp18531
VRead http://docs
p18532
aVjboss
p18533
aVorg/hibernate/core/3
p18534
aV6/reference/en-US/html_single/#d0e4865
p18535
aVThe  annotation must be placed on the field or on the getter, but not both
p18536
aVIt must be replaced by  since it's an embedded object and not a single column field
p18537
aVAnd I would make the class immutable and remove the  and  methods from the entity, since you can't change the primary key of an entity
p18538
as(dp18539
g23
V571407
p18540
stp18541
a((dp18542
g2
(lp18543
VUse HtmlUnit
p18544
aVIt's a programmatic Java web browser
p18545
aVYou just tell it to go to a URL, fill some text field with some text, click on the submit button, and it returns the next page, just as you would do with a GUI
p18546
as(dp18547
g23
V571407
p18548
stp18549
a((dp18550
g2
(lp18551
VIf the website is not under your responsibility, and hasn't provided any API or URL used to only get the part of the page you're interested into, then you don't have any other choice: the web page must be reloaded completely
p18552
aVThat's how the web works
p18553
as(dp18554
g23
V571407
p18555
stp18556
a((dp18557
g2
(lp18558
VI would use the builder pattern and use something like this, which is as easy to use as a constructor and clearer in its purpose:
p18559
aVThe build method calls a private constructor of DefaultSparseIntMatrix with the builder itself as unique argument, and the constructor gets the data from the builder
p18560
as(dp18561
g23
V571407
p18562
stp18563
a((dp18564
g2
(lp18565
VJSPs are servlets
p18566
aVSo everything you do in a servlet can be done in a JSP directly (or nearly everything)
p18567
aVIt's however a bad practice to put Java code into JSPs
p18568
aVSo you might just use servlets for the controller logic, and then use  to dispatch the request and response to the JSP
p18569
aVThat's the absolute minimum an MVC framework does
p18570
aVMore explanation of servlet basics, inclusing some example code and further links on the wiki page for the  tag
p18571
aVIt's unclear what you expect from your minimal framework
p18572
aVBut using a framework like Stripes, for example, is pretty straightforward and does all this for you, by adding some lines in the web
p18573
aVxml and some annotations in Action classes replacing the servlets as controllers
p18574
as(dp18575
g23
V571407
p18576
stp18577
a((dp18578
g2
(lp18579
VIt doesn't look too bad
p18580
aVUsing Guava, you might simply do this:
p18581
aVwhich is more elegant
p18582
aVApache commons-lang has a similar construct ()
p18583
as(dp18584
g23
V571407
p18585
stp18586
a((dp18587
g2
(lp18588
VAn entity already defines the table where it's persisted
p18589
aVSo when you have a list of B entities in an entity A, there is no need to define the target table for the Bs: B already defines it
p18590
aVValue types don't have any associated table, so the mapping of a  in entity A must define which table will be used to store this list
p18591
aVMoreover, value types, by definition are always completely owned by their containing entity
p18592
aVOnce you delete the entity, you also delete all the Strings associated to this entity
p18593
aVThis is not the case with entities: when you delete a Course entity, you don't delete all its students
p18594
aVThese are just two examples showing that different mapping properties must be defined
p18595
as(dp18596
g23
V571407
p18597
stp18598
a((dp18599
g2
(lp18600
VWhy don't you just delete the branch when it has been reintegrated into the trunk
p18601
aVThat what you're supposed to do (in the general case) when a feature branch has been reintegrated
p18602
aVSo the diagnostic is simple : if the branch exists, it hasn't been reintegrated
p18603
as(dp18604
g23
V571407
p18605
stp18606
a((dp18607
g2
(lp18608
VUse the  annotation:
p18609
aVSee http://docs
p18610
aVjboss
p18611
aVorg/hibernate/core/3
p18612
aV6/reference/en-US/html_single/#mapping-declaration-manytoone
p18613
as(dp18614
g23
V571407
p18615
stp18616
a((dp18617
g2
(lp18618
VI usually make it simple, so I split the code into two objects
p18619
aVThe alternative is to demarcate the new transaction yourself, if you need to keep everything in the same file, using a TransactionTemplate
p18620
aVA few more lines of code, but not more than defining a new bean
p18621
aVAnd it sometimes makes the point more obvious
p18622
as(dp18623
g23
V571407
p18624
stp18625
a((dp18626
g2
(lp18627
VFirst of all, your src dir should be  and your testbin should be
p18628
aVThese are the roots of your package tree
p18629
aVNext, the classpath is supposed to contain jar files and directories containing the compiled classes, and not the source files
p18630
aVSo the classpath of junit should contain the testdir, and not the src dir
p18631
aVFinally, you should use forward slashes and not backslashes, even on Windows, and you should also use the location attribute rather than the value attribute when defining properties holding file or directory paths
p18632
as(dp18633
g23
V571407
p18634
stp18635
a((dp18636
g2
(lp18637
VStringBuilder appends "null" when you give it a null reference
p18638
aVIt eases debugging
p18639
aVIf you want an empty string instead of "null", just test the reference before appending:
p18640
as(dp18641
g23
V571407
p18642
stp18643
a((dp18644
g2
(lp18645
VYou could delete everything and checkout a fresh copy
p18646
aVOr you could try letting everything in place and checkout with a depth of 1
p18647
aVSee http://svnbook
p18648
aVred-bean
p18649
aVcom/en/1
p18650
aV5/svn
p18651
aVref
p18652
aVsvn
p18653
aVc
p18654
aVcheckout
p18655
aVhtml
p18656
as(dp18657
g23
V571407
p18658
stp18659
a((dp18660
g2
(lp18661
VA red circle painted in a JPanel is not a component
p18662
aVYou would have to add a JLabel (with a red circle as icon, for example) to the JPanel to have it contain a component
p18663
aVIf you actually added some component to the JPanel, then it probably means that the positionPanel is the inner component and not the containing component
p18664
aVWithout seeing the code, it's impossible to say
p18665
as(dp18666
g23
V571407
p18667
stp18668
a((dp18669
g2
(lp18670
VThe name of the column is , not
p18671
aVSame thing for the other columns, of course
p18672
aVThe  attribute expects an array of
p18673
aVcolumn names
p18674
aVNot an array of Java field or property names
p18675
as(dp18676
g23
V571407
p18677
stp18678
a((dp18679
g2
(lp18680
VWait for the process to terminate using the  method on the Process returned by
p18681
aVElse, the second line of code executes while the external process is running and hasn't created the file already
p18682
as(dp18683
g23
V571407
p18684
stp18685
a((dp18686
g2
(lp18687
VOf course, you might want to improve this code in case you want to support files without any dot in their name
p18688
aVThis is basic String and File manipulation
p18689
aVCheck the javadoc of those two classes: that's how you'll learn how to use them
p18690
as(dp18691
g23
V571407
p18692
stp18693
a((dp18694
g2
(lp18695
VYou indeed need to have Hello3
p18696
aVclass in a directory named
p18697
aVThe directory containing  should be in the classpath
p18698
aVSuppose this directory is called :
p18699
aVThe command to launch your Java program should thus be
p18700
aVor, on Windows
p18701
as(dp18702
g23
V571407
p18703
stp18704
a((dp18705
g2
(lp18706
VExtract the jar in some source directory (it's a zip file), and create a project with this directory as source
p18707
aVOr, if this source jar file contains the sources of a classes jar file that is used as a library in your Eclipse project, just right-click on this jar file, select "Properties", then "Java Source Attachment", then "External File", and select the source jar file
p18708
aVThen each time you browse a class from this classes jar file, Eclipse will automatically show you its source code
p18709
as(dp18710
g23
V571407
p18711
stp18712
a((dp18713
g2
(lp18714
VThe  call reads from input until the end of the int, but does not read the newline character after the int
p18715
aVSo, the first iteration displays "enter the name", then calls  which reads the end of the line where you typed the number of players (an empty string)
p18716
aVThen the second iteration starts and displays "enter the name", and  blocks until you type a newline character
p18717
as(dp18718
g23
V571407
p18719
stp18720
a((dp18721
g2
(lp18722
VCreate a class ABC, containing A, B and C
p18723
aVMake it immutable and implement  and , so that two instances of ABC having the same values for A, B and C have the same hashCode and are equal to each other
p18724
aVThen, build a  storing all the Ds indexed by their ABC tuple
p18725
aVIterate over the entries of the map
p18726
aVEach entry will lead to a new ABC section
p18727
aVFor each entry, iterate over its list of Ds
p18728
aVEach element will lead to a new line in the section
p18729
aVNote that your HQL query shows that you didn't map association between entities as they should be
p18730
aVYou should almost never create a join between two entities like this: rather than holding the ID of its question, a QuestionAnswerOption should have a direct association (a ManyToOne association) with its Question
p18731
as(dp18732
g23
V571407
p18733
stp18734
a((dp18735
g2
(lp18736
VThe length of the queue is the number of blocked threads
p18737
aVIf you keep creating threads and they all finish being blocked in writing, you'll quickly bring the system to its knees
p18738
aVYou should certainly use a thread pool, reuse threads instead of creating them, and block once too many events are in the queue
p18739
aVSee
p18740
aVNo, it's not FIFO
p18741
aVThe order is undefined
p18742
aVYou might want to use a fair  if you want FIFO
p18743
aVBut it's more time-consuming tha  basic synchronization or an unfair lock
p18744
aVPlatform-dependant, and no deterministic behaviour
p18745
aVIt all depends on the implementation of the datasource
p18746
aVIt might use a fair algorithm or simply use a fair lock
p18747
aVOr it might just use synchronization and not be fair
p18748
aVYou need to read the doc of the datasource, if sufficiently detailed
p18749
as(dp18750
g23
V571407
p18751
stp18752
a((dp18753
g2
(lp18754
VYou might use  and have your batch test configured like this:
p18755
as(dp18756
g23
V571407
p18757
stp18758
a((dp18759
g2
(lp18760
VBoth aproaches are fine
p18761
aVIt all depends on what you'll do with the data
p18762
aVIf it's only data and doesn't have any methods except getters, creating a class to hold them might be overkill
p18763
aVIf you want to add some behavior to a row, then create a class
p18764
aV50 fields in a unique class is a bit too much
p18765
aVYou might split the class into logical groups, but it all depends on what the data represents
p18766
aVIf we suppose that you have 10 files open, each with 100000 * 50 doubles, that makes around 380 MBs
p18767
aVYou must add the memory for every array of doubles, and for the ArrayLists
p18768
aVSuch an amount of memory might be too much, or might be fine
p18769
aVIt all depends on the memory you have in your JVM
p18770
aVIf you can't hold everything in memory, consider reading files as needed, or store the data in a database
p18771
as(dp18772
g23
V571407
p18773
stp18774
a((dp18775
g2
(lp18776
VIt's a matter or supposed "independance" vs
p18777
aVease of use
p18778
aVEither you choose to use Hibernate or another JPA engine, and you indeed need to have annotations on your entities and have the hibernate jars in your classpath to use them
p18779
aVOr you choose to be completely independant of JPA/Hibernate, but you have to implement the whole persistence yourself
p18780
aVMy opinion is that sacrificing the ease of use and productivity gains offered by JPA just to avoid some jars in the classpath is a bad choice
p18781
aVBut YMMV
p18782
as(dp18783
g23
V571407
p18784
stp18785
a((dp18786
g2
(lp18787
VForm http://ant
p18788
aVapache
p18789
aVorg/manual/Tasks/basename
p18790
aVhtml:
p18791
aVTask to determine the basename of a specified file, optionally minus a
p18792
aVspecified suffix
p18793
as(dp18794
g23
V571407
p18795
stp18796
a((dp18797
g2
(lp18798
VFind by example is not the appropriate strategy in this case
p18799
aVJust use an HQL query or a classical criteria query
p18800
aVOr create a Criteria query mixing an example restriction (with columnA set to null or excluded) with a regular disjunction restriction
p18801
as(dp18802
g23
V571407
p18803
stp18804
a((dp18805
g2
(lp18806
VStarting a thread from the constructor lets the started thread access the object being constructed before it's properly constructed, and thus makes a not completely constructed object available to the new thread
p18807
aVYou could create the thread in the constructor, and provide a "startup" method to start the thread from the outside
p18808
aVOr you could make the constructor and startup methods private and provide a static factory method which would create the object, start the thread, and return the created object
p18809
as(dp18810
g23
V571407
p18811
stp18812
a((dp18813
g2
(lp18814
VThis line should throw an IOException if the connection is closed
p18815
aVJust make sure to catch the IOException and return from the  method of your Runnable when it occurs
p18816
aVThis will stop the thread handling this client connection
p18817
aVYou must have done something incorrectly if it craches the whole server, though
p18818
aVThis probably means you don't have a thread per client connection, but rather a single thread handling the clients sequentially, one at a time
p18819
aVPost the server code for more information
p18820
as(dp18821
g23
V571407
p18822
stp18823
a((dp18824
g2
(lp18825
V evaluates to var, and then increments
p18826
aVSo your expression is in fact evaluated to
p18827
aVThe sequence of actions is the following:
p18828
aVevaluate var++ : 10
p18829
aVincrement var : var = 11
p18830
aVadd x to 10 : 15
p18831
aVassign the result of the addition to var : var = 15
p18832
aVAnyone programming like this should be banned from development, IMHO
p18833
as(dp18834
g23
V571407
p18835
stp18836
a((dp18837
g2
(lp18838
VYou shouldn't have two loops, but just one
p18839
aVYou want your game to stop when the guess is equal to the number, so make that your ending condition:
p18840
aVThen, in the loop, test if the guess is greater or lower than the number, print the appropriate message, and read the next guess
p18841
aVIf the loop ends, it means that the user found the number
p18842
aVEDIT : To avoid the repetitions:
p18843
as(dp18844
g23
V571407
p18845
stp18846
a((dp18847
g2
(lp18848
VMake them all inherit from an abstract class , add two abstract methods  and  to this class, and implement all the common methods using these getters
p18849
aVThe getters for the immutable class should of course guarantee the immutability of the DoublePoint instances, either by making them immutable or by defensive copying
p18850
as(dp18851
g23
V571407
p18852
stp18853
a((dp18854
g2
(lp18855
VThe second snippet is more encapsulated than the first one
p18856
aVThe first one gives access to the internal map to anyone, whereas the second keeps it encapsulated in the class
p18857
aVBoth will lead to comparable performance
p18858
aVEDIT: since you change the question, I'll also change the answer
p18859
aVIf you go through a getter, and the getter is not final, it means that subclasses may return another map than the one you hold in the class
p18860
aVChoose whether you want your method to operate on the subclass's map or on the class's map
p18861
aVBoth could be acceptable, depending on the context
p18862
aVAnyway, suppose your subclass always makes a defensive copy of the map, you'll end up having many copies if you don't cache the result of the getter in a local variable of
p18863
aVIt might be required to always work on the latest value of the subclass's map, but I doubt it's the case
p18864
aVIf there is no subclass, or the subclass doesn't override the method, or override it by always returning the same map, both will lead to comparable performance and you shouldn't care about it
p18865
as(dp18866
g23
V571407
p18867
stp18868
a((dp18869
g2
(lp18870
V exists since Ant 1
p18871
aV8, as mentioned in the doc
p18872
aVAre you sure your ant version isn't less than that
p18873
aVUse  to know
p18874
as(dp18875
g23
V571407
p18876
stp18877
a((dp18878
g2
(lp18879
VThe source path should point to the root of the package tree
p18880
aVYou make it point to a specific package inside the sources :
p18881
aVAnd in the javac task, you ask it to compile all the files matching the pattern
p18882
aVThat means that it will compile the Java source files in  or in a subdirectory
p18883
aVIf that's the case, you have very unconventional package names
p18884
as(dp18885
g23
V571407
p18886
stp18887
a((dp18888
g2
(lp18889
VHonestly, the ternary operator is already less readable than a simple if/else statement
p18890
aVBut if it's used to concatenate (using the + operator) the symbol "+", it becomes really really unreadable
p18891
aVHow about this:
p18892
as(dp18893
g23
V571407
p18894
stp18895
a((dp18896
g2
(lp18897
VYou need
p18898
aVreturns the month starting at 0
p18899
aVAnd you need to add 1 to the result
p18900
aVIf you do , you're getting something other than the month, because you don't pass the MONTH constant to the get method anymore
p18901
aVget just takes an int as parameter
p18902
aVThe constant MONTH means "I want to get the month"
p18903
aVThe constant DATE means "I want to get the date"
p18904
aVTheir value has no meaning
p18905
aVMONTH is 2, and 3 is WEEK_OF_YEAR
p18906
aVAlso note that static variables (or constants) should be accessed using the class name, and not an instance of the class
p18907
aVHave you considered using
p18908
aVThat's the class to use to format a Date using a specific pattern:
p18909
as(dp18910
g23
V571407
p18911
stp18912
a((dp18913
g2
(lp18914
s(dp18915
g23
V571407
p18916
stp18917
a((dp18918
g2
(lp18919
VJust use the constructor with the radix (using 16 as radix):
p18920
aVhttp://download
p18921
aVoracle
p18922
aVcom/javase/6/docs/api/java/math/BigInteger
p18923
aVhtml#BigInteger%28java
p18924
aVlang
p18925
aVString,%20int%29
p18926
as(dp18927
g23
V571407
p18928
stp18929
a((dp18930
g2
(lp18931
VIntegers are only 32 bits
p18932
aVThis means that its max value is 2^31 -1
p18933
aVAs you see, for very small numbers, you quicly have a result which can't be represented by an integer anymore
p18934
aVThat's why Math
p18935
aVpow uses double
p18936
aVIf you want arbitrary integer precision, use
p18937
aVBut it's of course less efficient
p18938
as(dp18939
g23
V571407
p18940
stp18941
a((dp18942
g2
(lp18943
VYou need to pass a reference to the global list (or to an object encapsulating this global list) to each of the components
p18944
aVPassing it in their constructor is the easiest way to go:
p18945
aVParentFrame
p18946
aVjava:
p18947
aVTestGUI
p18948
aVjava:
p18949
as(dp18950
g23
V571407
p18951
stp18952
a((dp18953
g2
(lp18954
VYou need to make sure that none of the CarGroups has the car you want to delete in its set of cars:
p18955
as(dp18956
g23
V571407
p18957
stp18958
a((dp18959
g2
(lp18960
VYou're not adding the created button to the content pane
p18961
aVAnd you create a constraint named gbc_, but never use it
p18962
aVChange the code to
p18963
as(dp18964
g23
V571407
p18965
stp18966
a((dp18967
g2
(lp18968
VA  is not a
p18969
aVIf it were, you could be able to do this:
p18970
aVAs you see, this would ruin the type-safety of generic collections
p18971
aVYou should probably use a
p18972
as(dp18973
g23
V571407
p18974
stp18975
a((dp18976
g2
(lp18977
VThe first solution allows making the object stateless, and allows using a unique instance for all the invocations, even in parallel
p18978
aVThe third one allows making the object stateful but immutable
p18979
aVIt could be used for several invocations using the same set of fields, even in parallel (if made immutable)
p18980
aVBoth of these solutions are acceptable
p18981
aVThe less state an object has, the easiest it is to use it, particularly in a multi-thread environment
p18982
aVThe less mutable an object is, the easiest it is to use it
p18983
aVThe second one makes it a stateful mutable object, which can't be used by several threads (without synchronization)
p18984
aVIt looks less clean than the other two to me
p18985
as(dp18986
g23
V571407
p18987
stp18988
a((dp18989
g2
(lp18990
VMocks, by definition, have the same type as the argument or dependency that they replace
p18991
aVSo they are either a subclass of A (if A is a concrete class), or an implementation of A (if A is an interface)
p18992
aVMocking interfaces is generaly easier than mocking concrete classes, and expressing dependencies in terms of interfaces rather than concreate classes reduce coupling, and allow for easier mocking and thus testing
p18993
aVIn your case, since B creates instances of A, A is of course a concrete class the method will of course return a real A instance
p18994
aVAll the other A instances can be mocked except a1, which is private and not accessible from the outside (except using nasty reflection tricks)
p18995
aVDefinitely learn how to use mocks and stubs
p18996
aVThey're very valuable if you want to be serious about unit-testing
p18997
as(dp18998
g23
V571407
p18999
stp19000
a((dp19001
g2
(lp19002
VI don't really follow you
p19003
aVThis class doesn't create any thread
p19004
aVSo using the executor framework won't hep you here
p19005
aVInstead os using explicit synchronization and thread communication using wait and notify, you could just use a BlockingQueue
p19006
aVThe producer adds the list to the blocking queue when data is ready, and the consuler blocks while the blocking queue is empty
p19007
as(dp19008
g23
V571407
p19009
stp19010
a((dp19011
g2
(lp19012
VHibernate makes a cartesian product and doesn't dedeuplicate in this case
p19013
aVCartesian products like this (3 actions * 3 activities = 9 rows) only work well with Sets instead of Lists
p19014
aVEven with two Sets, you should maybe avoid these kinds of cartesian products
p19015
aVThink about it: retrieving just one manager with 100 actions and 100 activities retrieves 10,000 rows from the database
p19016
aVYou should perhaps make two queries:
p19017
aVone which fetches the manager with its actions (100 rows)
p19018
aVone which fetches the same manager with its activities (100 rows)
p19019
aVThat would make only 200 rows instead of 10,000
p19020
aVAnd the result will be the same because the activities will be attached to the same Manager instance in the session
p19021
aVIt will also avoid the duplication problem you're having
p19022
as(dp19023
g23
V571407
p19024
stp19025
a((dp19026
g2
(lp19027
VHave some admin page in your app, checking if the required data already exists, and asking the user to press a button to insert it (or doing it automatically without even asking the user)
p19028
as(dp19029
g23
V571407
p19030
stp19031
a((dp19032
g2
(lp19033
V: not necessary anymore
p19034
aVfirst scriplet initializing local variables : not necessary anymore
p19035
aV: replaced by
p19036
aVThe if test before the loop is unnecessary
p19037
aVIf you want to keep it, just use
p19038
aVThe loop: replaced by
p19039
aV: replaced by
p19040
aVYour JavaScript stays unaffected, of course
p19041
aVFor the JSP (server-side), JavaScript is just text to output like HTML
p19042
aVIt will only be meaningful at client-side
p19043
as(dp19044
g23
V571407
p19045
stp19046
a((dp19047
g2
(lp19048
VWhen a thread reads the value of a primitive (except long and double), or of an object reference, it sees the value it has set in this variable, or the value that another thread has set in this variable
p19049
aVHowever, although assigning a value to a shared variable in one thread is atomic, this doesn't mean that all the other threads will see the new value right after
p19050
aVTo do that, the variable should be declared volatile
p19051
aVvolatile also makes writes to long and double atomic
p19052
aVI prefer using AtomicXxx (AtomicLong, AtomicBoolean, etc
p19053
aVin this case, though
p19054
aVAnd if you want to atomically change the values of two shared variables, then you should synchronize every access (read and write) to these variables using a unique lock
p19055
aVMoreover, every "check then act" or "read then write" operation is non-atomic
p19056
aVThis means that these operations need synchronization as well:
p19057
aVEvery single operation in your question is atomic
p19058
aVBut in , you have two atomic operations
p19059
aVThe whole  call is not atomic
p19060
as(dp19061
g23
V571407
p19062
stp19063
a((dp19064
g2
(lp19065
VUse some cron or other scheduling utility on each instance to regularly poll the SVN and update automatically if there have been changes
p19066
aVOr install a post-commit hook on the server which would start a remote update script on every client instance (but this is of course more complex)
p19067
aVNote that all these instances should have a read-only copy of the code
p19068
aVElse, an update could need manual merges to be done in order to succeed
p19069
as(dp19070
g23
V571407
p19071
stp19072
a((dp19073
g2
(lp19074
VThe only constraints that are applied are the constraints that are in the database
p19075
aVSpecifying constraints in Hibernate annotations is only useful if you're using the hibernate tools to generate the database SQL schema from the Java source code
p19076
aVIn the end, it always ends up being in the SQL
p19077
aVSo if you maintain the schema manually and don't generate it from the Java annotations, using annotations to specify them is useless (except for documentation purposes)
p19078
as(dp19079
g23
V571407
p19080
stp19081
a((dp19082
g2
(lp19083
VThe first println statement needs the value of BeezleBub
p19084
aVFOO
p19085
aVrockSteady
p19086
aVSo the BeezleBub enum is loaded
p19087
aVTo initialize the BeezleBub FOO instance, it needs to load the RockSteady enum
p19088
aVSo RockSteady is loaded, and the BAR constant is initialized to the current value of BeezleBub
p19089
aVFOO, which is still null since it's in the process of initializing itself
p19090
aVThen the initialized BeezleBub
p19091
aVFOO constant is assigned the value of RockSteady
p19092
aVBAR, which is non null
p19093
aVIt's an interesting problem, because it's one of the cases where one of the enum should be mutable in order to be properly initialized
p19094
as(dp19095
g23
V571407
p19096
stp19097
a((dp19098
g2
(lp19099
VIf you declare a DataSource in the context
p19100
aVxml, Tomcat tries to instantiate it using its own classloader, and not the classloader of the webapp
p19101
aVSo the driver jar in WEB-INF/lib is not in its classpath and the driver can't be loaded
p19102
aVThe reason you don't see an NPE sooner is that the JNDI lookup probably fails with a NamingException
p19103
aVYou should see the stack trace of this exception in the log, at deployment time
p19104
aVSince you're using Spring, you could create the DataSource from Spring (using a stand-alone connection pool) instead of letting Tomcat create it
p19105
aVSee http://static
p19106
aVspringsource
p19107
aVorg/spring/docs/3
p19108
ag2332
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p19109
aVhtml#jdbc-datasource
p19110
as(dp19111
g23
V571407
p19112
stp19113
a((dp19114
g2
(lp19115
VWow
p19116
aVYou got two things wrong
p19117
aVIf the field is supposed to hold a code, let it hold a code, not a name
p19118
aVTreating your fields like this will lead to unreadable and unmaintainable code
p19119
aVIf getCode() returns the name, getName() returns the address and getAddress() returns the phone number, you and your coworkers will quickly lose all their hairs
p19120
aVA contact should not have a field  of type
p19121
aVIt should have a field  of type , where  is the Hibernate entity representing a customer
p19122
aVThis is called an association
p19123
aVIf a customer has several contacts, it is a ManyToOne association
p19124
aVIf it just has one, it's a OneToOne association
p19125
aVThis way, to get the customer's name, you would just use
p19126
aVYou should read the Hibernate reference manual
p19127
aVSide note: not respecting the Java naming conventions makes your code hard to read
p19128
aVClass names must start with an uppercase letter, and variable and method with a lowercase
p19129
aVNone of them should contain an underscore (example : ContactPersistence, jobTitle)
p19130
as(dp19131
g23
V571407
p19132
stp19133
a((dp19134
g2
(lp19135
VYou need to make an AJAX request to the server
p19136
aVThe server would answer with the HTML to "inject" between the header and the footer
p19137
aVAnd the AJAX callback hendler would replace the current content with the new one
p19138
aVAll this is done for you by the shortcut  function from jQuery
p19139
aVSee http://api
p19140
aVjquery
p19141
aVcom/load/
p19142
as(dp19143
g23
V571407
p19144
stp19145
a((dp19146
g2
(lp19147
VYou may not use Swing components outside of the event dispatch thread
p19148
aVSee http://download
p19149
aVoracle
p19150
aVcom/javase/6/docs/api/javax/swing/package-summary
p19151
aVhtml#threading
p19152
aVUse SwingUtilities
p19153
aVinvokeLater each time your thread must change something in the UI
p19154
aVOr use a Swing Timer
p19155
aVIf this infinite loop is in fact in the EDT, then it blocks all the UI events, repaints, etc
p19156
aVwhile it's running
p19157
aVSo you should run this loop in a separate thread
p19158
as(dp19159
g23
V571407
p19160
stp19161
a((dp19162
g2
(lp19163
VIt's far from being as large as SO, but in my application, the model I chos was to have each post have
p19164
aVa FK to its parent post (root posts have null in this column)
p19165
aVa FK to the root post (root posts have their own ID in this column, which is a bit awkward to insert new root posts, but helps for queries)
p19166
aVa FK to their forum
p19167
aVThis allows getting easily
p19168
aVthe root posts of a forum (searching for posts with a null parent)
p19169
aVall the messages in a thread at once (searching all the posts having a given root)
p19170
aVpresenting the thread in flat mode (per date) or in tree mode (since each post knows its parent)
p19171
aVthe last posts in a given forum (searching the latest post grouped by forum)
p19172
as(dp19173
g23
V571407
p19174
stp19175
a((dp19176
g2
(lp19177
s(dp19178
g23
V571407
p19179
stp19180
a((dp19181
g2
(lp19182
VYou can't, because it would break polymorphism
p19183
aVIf B overrides A's  method, it's because it must add in another way to satify its contract
p19184
aVNot doing it the way it needs to would break B's invariants, and probably also A's invariants
p19185
as(dp19186
g23
V571407
p19187
stp19188
a((dp19189
g2
(lp19190
VNo, transient fields can't be rolled back, because they're transient
p19191
aVThe database is what does the rollback, and the database doesn't know about your transient fields, by definition
p19192
aVEven the persistent fields are not rolled back, because the persistent fields are just a snapshot of what the database contains at a given time
p19193
aVOnce a rollback has happened, the entity should be thrown away and forgotten, because it contains invalid state
p19194
as(dp19195
g23
V571407
p19196
stp19197
a((dp19198
g2
(lp19199
VThese links use JavaScript to trigger an AJAX request and refresh only the center of the page
p19200
aVUse FireBug inside Firefox to sniff the network requests and see which requests are executed on each click
p19201
aVOr use a programmatic web browser like HtmlUnit which will handle JavaScript as your web browser does
p19202
as(dp19203
g23
V571407
p19204
stp19205
a((dp19206
g2
(lp19207
VMaybe it's because you don't respect Swing's threading policy
p19208
aVAll accesses to swing components must be done in the event dispatch thread
p19209
aVYour runnable should thus use  to update the text area in the EDT, rather than in your separate thread
p19210
aVEDIT : as alf mentions in his comment:  is thread-safe, so it's not absolutely needed here
p19211
aVI would still do it, though, because if the append to a text area was replaced or complemented by any other Swing interaction, it wouldn't be thread-safe anymore
p19212
aVIt could also be that the external process doesn't send any newline character, which makes  block until one is found or the end of communication is reached
p19213
as(dp19214
g23
V571407
p19215
stp19216
a((dp19217
g2
(lp19218
VIf a writer is connected to a reader, the reader is also connected to the writer
p19219
aVYou don't need to connect them twice
p19220
aVAnd if one thread writes and the other reads, you just need one writer and one reader
p19221
aVCreate both in the main thread, connect them, then creat one thread with the reader and one with the writer, and start both threads
p19222
as(dp19223
g23
V571407
p19224
stp19225
a((dp19226
g2
(lp19227
VI would use a second-level cache for the entity, query for all the subsidiry's entities at startup (this will fill the second-level cache), and initialize an application cache which would just map  to
p19228
aVThen, each time you're searching for an entity with a given , first get its ID from the application cache, then
p19229
aVif the ID is not in the cache, execute the query, update the application cache, and return the found entity
p19230
aVif the ID is in the cache, get the entity using its ID, which will go to the second-level cache and avoid hitting the DB
p19231
as(dp19232
g23
V571407
p19233
stp19234
a((dp19235
g2
(lp19236
VI'm not sure it's doable using a query
p19237
aVI would just select all the date/quantity pairs for the article set, ordered by date, and then do a loop starting from the start date and ending with the end date, and add the quantities in Java
p19238
aVThe HQL would look like this:
p19239
aVThen, for each week, loop through the pairs and, if the demand time is between the start and the end of the week, add the quantity of the demand to the week sum
p19240
as(dp19241
g23
V571407
p19242
stp19243
a((dp19244
g2
(lp19245
V will be much quicker than a regex, and will probably also be easier to understand
p19246
aVJust test if , and then if
p19247
aVDo the same for the period
p19248
as(dp19249
g23
V571407
p19250
stp19251
a((dp19252
g2
(lp19253
VAn app engine application is just a regular web application deployed on app engine
p19254
aVIf you need to authenticate your users, do so
p19255
aVIf you don't need to, then don't
p19256
aVYou're missing something, though: once a web app is deployed on app engine, it's accessible from anywhere on the web, and so anyone (and not just your app) could send requests to this application, whether you use SSL or not
p19257
aVSSL will just make the communication encrypted, and ensure the client that they're talking to your web app, and not to a rogue web app maskerading as yours
p19258
as(dp19259
g23
V571407
p19260
stp19261
a((dp19262
g2
(lp19263
VSee http://static
p19264
aVspringsource
p19265
aVorg/spring/docs/3
p19266
ag10
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p19267
aVhtml#cache-specific-config:
p19268
aVHow can I set the TTL/TTI/Eviction policy/XXX feature
p19269
aVDirectly through your cache provider
p19270
aVThe cache abstraction is
p19271
aVwell, an abstraction not a cache implementation
p19272
aVSo, if you use EHCache, use EHCache's configuration to configure the TTL
p19273
aVYou could also use Guava's CacheBuilder to build a cache, and pass this cache's ConcurrentMap view to the setStore method of the ConcurrentMapCacheFactoryBean
p19274
as(dp19275
g23
V571407
p19276
stp19277
a((dp19278
g2
(lp19279
VA JVM doesn't need its own copy of a jar
p19280
aVIt just needs to find it in its classpath
p19281
aVThe same jar can be in the classpath of several running java programs
p19282
aVOf course, each JVM has its own memory, and the classes from the jars in its classpath will be loaded in the memory of each JVM
p19283
aVSharing the same memory for the classes loaded by two different JVMs is impossible
p19284
aVIf you want to share memory, don't use several Java processes, but use threads instead
p19285
as(dp19286
g23
V571407
p19287
stp19288
a((dp19289
g2
(lp19290
VWrap it into a JScrollPane
p19291
aVRead the swing tutorial about scroll panes
p19292
as(dp19293
g23
V571407
p19294
stp19295
a((dp19296
g2
(lp19297
VFirst question: why rollback fails
p19298
aVThe rollback fails because it's not some code before the commit which has thrown the exception, but the commit itself
p19299
aVIf commit throws a RollbackException, then it means the commit has failed and has thus transformed the commit into a rollback and made the transaction inactive
p19300
aVJust test if the transaction is active before rollbacking the transaction
p19301
aVSecond question: why are there holes in the sequence of generated IDs
p19302
aVThe generator, when asked for a new ID, increments the sequence number in its own short-lived transaction
p19303
aVSo, if your transaction rolls back and thus doesn't use the generated ID, there will be a hole in the sequence because the increment in the table has already been committed
p19304
aVIf it didn't use its own short-lived transaction, then, either you would have lots of conflicts (because several long transactions would see the same current value and only increment it later), or the throughput would be very low, because all transactions wanting an ID would have to wait for the previous transaction to complete
p19305
aVHoles are unavoidable
p19306
aVDeal with them
p19307
as(dp19308
g23
V571407
p19309
stp19310
a((dp19311
g2
(lp19312
VI just think about the type of the attribute
p19313
aVis a Computer, and I can thus call  on it, so  is OK
p19314
aVis a List, and I can't call  on a List, so  is not OK
p19315
aVYou need a join each time you need to access a member of a collection
p19316
aVWhen using , a SQL join is not necessary (and not generated, at least by Hibernate), because the ID of the computer is in the employee table, as a foreign key
p19317
aVUsing it is thus more efficient than using an explicit join
p19318
aVgenerates a SQL join, and it's just a matter of style and preference
p19319
aVSee 2
p19320
aVI usually prefer explicit joins, because
p19321
aVit makes them explicit
p19322
aVIt's also easier to transform them into left joins if needed
p19323
as(dp19324
g23
V571407
p19325
stp19326
a((dp19327
g2
(lp19328
VYou don't need to use criteria for this
p19329
aVCriteria should be used to dynamically compose a query based on variable search criteria
p19330
aVHere's the JPQL you could use:
p19331
aVIt would probably feel more natural if you had bidirectional associations
p19332
aVYou could then use
p19333
aVor
p19334
as(dp19335
g23
V571407
p19336
stp19337
a((dp19338
g2
(lp19339
V is a local variable of the  method
p19340
aVSo each time the fact method is called, the result is stored in a different variable than the previous fact invocation
p19341
aVSo when fact is invoked with 3 as argument, you can imagine that its result is
p19342
as(dp19343
g23
V571407
p19344
stp19345
a((dp19346
g2
(lp19347
VWhen a GET HTTP request comes in, and the servlet is mapped to the path of the request, then the servlet  method is called
p19348
aVIf it's a POST, then  is called
p19349
aVYou need to override one (or both) of these methods to do what you want with the request and the response
p19350
aVRead the javadoc of HttpServlet to learn more
p19351
as(dp19352
g23
V571407
p19353
stp19354
a((dp19355
g2
(lp19356
VIf I understand correctly, you would like to display a  on top of a
p19357
aVIf so, use a
p19358
aVRead the Swing tutorial on layered panes to learn how to use them
p19359
as(dp19360
g23
V571407
p19361
stp19362
a((dp19363
g2
(lp19364
VIf you have two path variables named  and , then the method signature should be
p19365
aVHow did you expect Spring to put those two strings inside a single  parameter of type
p19366
aVSee http://static
p19367
aVspringsource
p19368
aVorg/spring/docs/current/spring-framework-reference/html/mvc
p19369
aVhtml#mvc-ann-requestmapping-uri-templates
p19370
aVMoreover, PathVariable is used to bind portions of the request path to method arguments
p19371
aVIn your case, you have request parameters
p19372
aVYou should thus use @RequestParam:
p19373
aVSee http://static
p19374
aVspringsource
p19375
aVorg/spring/docs/current/spring-framework-reference/html/mvc
p19376
aVhtml#mvc-ann-requestparam
p19377
as(dp19378
g23
V571407
p19379
stp19380
a((dp19381
g2
(lp19382
VThe Java Build Path is just an Eclipse thing
p19383
aVIt's where Eclipse finds the classes needed to compile and run the classes of the project
p19384
aVIt's thus both th compile and the run classpath
p19385
aVIn the case of a webapp, the webapp runs inside a Java EE web container
p19386
aVThe web container gives access to standard Java EE classes (javax
p19387
aVservlet, etc
p19388
aVMoreover, all the jars in WEB-INF/classes are automatically included in the classpath of the web app
p19389
aVSo Eclipse doesn't need you to specify them in the Java Build Path
p19390
aVThey're included automatically
p19391
as(dp19392
g23
V571407
p19393
stp19394
a((dp19395
g2
(lp19396
VIf you use "Refactor - Rename" from the package tree, an options dialog should appear
p19397
aVIf you do it from the editor, press the little down arrow in the rename popup, and choose "Open Rename Dialog
p19398
as(dp19399
g23
V571407
p19400
stp19401
a((dp19402
g2
(lp19403
VUsing an interface allows defining the contract
p19404
aVThis contract is implemented in the concrete EventDao class
p19405
aVA business service using such a DAO will typically use the EventDao interface as an injected dependency
p19406
aVThis has several benefits:
p19407
aVbeing able to easily inject a mock EventDao implementation in order to unit test the service
p19408
aVbeing able to use a dynamic proxy around the concrete implementation to add
p19409
aVdeclarative transaction management (although it's the service that should demarcate transactions, you could verify in the proxy that a transaction exists, using the MANDATORY propagation)
p19410
aVstatistics and performance gathering
p19411
aVother useful aspects
p19412
as(dp19413
g23
V571407
p19414
stp19415
a((dp19416
g2
(lp19417
VYou seem to be using EJBs
p19418
aVThe main point of Session EJBs is to be able to demarcate transactions declaratively
p19419
aVSo when an EJB method is called, it starts a transaction (unless one is already running), and commits it automatically when the method ends (unless a RuntimeException is thrown which causes a rollback)
p19420
aVThat's the default behaviour
p19421
aVThis means that you should not start, commit, and rollback transactions manually from withing an EJB
p19422
aVThe entity manager should also not be closed manually
p19423
aVThis is all done by the EJB container
p19424
aVIf you want to start a new transaction, then call another Session EJB method annotated with
p19425
as(dp19426
g23
V571407
p19427
stp19428
a((dp19429
g2
(lp19430
VUse  or
p19431
aVThis will just return a proxy to the actual Address entity, without loading anything from the database
p19432
as(dp19433
g23
V571407
p19434
stp19435
a((dp19436
g2
(lp19437
VYou got it wrong
p19438
aVWhat this means if that this strategy should be used when the entity is sometimes updated (so read-only does not apply), but that it's extremely unlikely that two concurrent transactions update the same item
p19439
aVFor example, if you have thousands of users accessing the data, an one batch regularly update it, this option is the right one to choose: only one transaction updates the items at a time
p19440
as(dp19441
g23
V571407
p19442
stp19443
a((dp19444
g2
(lp19445
VOf course everyone will get the same error
p19446
aVis used to know the status of a wroking copy
p19447
aVIf you're not inside a working copy, you'll get this error
p19448
aVSee http://svnbook
p19449
aVred-bean
p19450
aVcom/en/1
p19451
aV0/re26
p19452
aVhtml
p19453
as(dp19454
g23
V571407
p19455
stp19456
a((dp19457
g2
(lp19458
VRead the javadoc of these streams : http://download
p19459
aVoracle
p19460
aVcom/javase/6/docs/api/java/util/zip/GZIPInputStream
p19461
aVhtml and http://download
p19462
aVoracle
p19463
aVcom/javase/6/docs/api/java/util/zip/GZIPOutputStream
p19464
aVhtml
p19465
aVGZIPOutputStream compresses the bytes you write into it before sending them to the wrapped output stream
p19466
aVGZIPInputStream reads compressed bytes from the wrapped stream and returns uncompressed bytes
p19467
aVSo, if you want to send compressed bytes to anyone, you must write to a GZIPOutputStream
p19468
aVBut of course, this will only work if the receiving end knows it and decompresses the bytes it receives
p19469
aVSimilarly, if you want to read compressed bytes, you need to read them from a GZIPInputSTream
p19470
aVBut of course, it'll only work if the bytes are indeed compressed using the same algorithm by the sending end
p19471
as(dp19472
g23
V571407
p19473
stp19474
a((dp19475
g2
(lp19476
VI doubt you'll find anything to do this, because padding and incrementing are two basic operations that are unrelated, and trivial to implement
p19477
aVYou could have implemented such a class three times in the time you took to write your question
p19478
aVIt all boils down to wrapping an int into an object and implementing toString using
p19479
as(dp19480
g23
V571407
p19481
stp19482
a((dp19483
g2
(lp19484
VJMS provides this
p19485
aVSend a message to a topic, and all the listeners on that topic will receive the message
p19486
aVThere are several free implementations available (ActiveMQ, JBoss Messaging, etc
p19487
as(dp19488
g23
V571407
p19489
stp19490
a((dp19491
g2
(lp19492
VUse the "Run" dropdown button (green button with a white "Play" symbol inside) and choose which run config you want to start
p19493
aVYou may start anything regardless of what the current selection or open file is in the IDE
p19494
as(dp19495
g23
V571407
p19496
stp19497
a((dp19498
g2
(lp19499
VPut the included php files in a separate directory, and make this directory inaccessible from the outside (using
p19500
aVhtaccess with Apache, for example)
p19501
as(dp19502
g23
V571407
p19503
stp19504
a((dp19505
g2
(lp19506
VI'm not sure it's standard for all JVMs, but using Oracle's JVM on Windows, you can use the user
p19507
aVlanguage and user
p19508
aVcountry System properties to set the locale when starting the JVM:
p19509
aVYou can also, of course, set the default locale in Java, using
p19510
aVNote that  is locale-independent, though
p19511
as(dp19512
g23
V571407
p19513
stp19514
a((dp19515
g2
(lp19516
VIt will indeed make the local changes to the branch, and not to the trunk
p19517
aVThe manual says:
p19518
aVEven if you create the branch from your WC, those changes are
p19519
aVcommitted to the new branch, not to the trunk, so your WC may still be
p19520
aVmarked as modified with respect to the trunk
p19521
aVYou could also just copy the revision from which you started the changes to a new branch, and then switch your WC to that branch
p19522
aVThat avoids committing unstable modifications, even to the new branch
p19523
as(dp19524
g23
V571407
p19525
stp19526
a((dp19527
g2
(lp19528
VNo, you won't, because as you said, you have two different instances of the entity
p19529
aVIf they both update the gasLevel to a different value, then the last commit will win
p19530
aVThat's one of the reasons to implement optimistic locking, using a version field annotated with @Version: the last commit will fail because some other transaction has updated the value between the moment the entity was loaded and the moment its new state is flushed
p19531
aVNote that even if thread 1 reads the value (7), changes it to 8, flushes, and thread2 then reads the value, thread 2 will still see 7 in the default case, because the default case is to use the READ_COMMITTED isolation level
p19532
aVThis means that one transaction only sees the data that has been committed by other transactions
p19533
aVThis depends on the database, though
p19534
aVHSQLDB for example only supports READ_UNCOMMITTED
p19535
as(dp19536
g23
V571407
p19537
stp19538
a((dp19539
g2
(lp19540
VIt's NOT thread-safe, for multiple reasons
p19541
aVThe most obvious one is that you could have two threads going from 9 to 11, as mentioned by other answers
p19542
aVBut since counter++ is not an atomic operation, you could also have two threads reading the same value and incrementing to the same value afterwards
p19543
aV(meaning that two calls in fact increment only by 1)
p19544
aVOr you could have one thread make several modifications, and the other always seeing 0 because due to the Java memory model the other thread might see a value cached in a register
p19545
aVGood rule of thumb: each time some shared state is accessed by several threads, and one of them is susceptible to modify this shared state, all the accesses, even read-only accesses must be synchronized using the same lock
p19546
as(dp19547
g23
V571407
p19548
stp19549
a((dp19550
g2
(lp19551
VYou'll need to have a hidden form field for each information you want to send to the server
p19552
aVSince you have one button for each row, you should also have one form for each row
p19553
aVSo the  and  lines should be inside the , and not outside
p19554
as(dp19555
g23
V571407
p19556
stp19557
a((dp19558
g2
(lp19559
VJust call the toArray method on the list:
p19560
aVNote that the foreach syntax can be used with all the Iterable objects, and List is Iterable, so you could just have
p19561
aVand use the same foreach loop
p19562
aVIf you don't want the callers to modify the internal list, return an unmodifiable view of the list:
p19563
as(dp19564
g23
V571407
p19565
stp19566
a((dp19567
g2
(lp19568
VBecause that's how it's defined, for backward-compatibility reasons
p19569
aVSee http://download
p19570
aVoracle
p19571
aVcom/javase/6/docs/technotes/guides/jweb/applet/applet_execution
p19572
aVhtml#cache:
p19573
aVNormally, if two applets have the same codebase and archive
p19574
aVparameters, they will be loaded by the same class loader instance
p19575
aVThis behavior is required for backward compatibility, and is relied on
p19576
aVby several real-world applications
p19577
aVThe result is that multiple
p19578
aVapplets on the same web page may access each others' static variables
p19579
aVat the Java language level, effectively allowing the multiple applets
p19580
aVto be written as though they comprised a single application
p19581
aVWhile this feature enables certain kinds of applications to be
p19582
aVconveniently written, it has certain drawbacks
p19583
aVIt interferes with
p19584
aVtermination of applets, in particular when multiple instances of the
p19585
aVsame applet are active
p19586
aVIt makes the programming model for applets
p19587
aVmore complex, since it is under specified exactly when the static
p19588
aVfields of an applet will be re-initialized, and when they will be
p19589
aVmaintained from run to run of the same applet
p19590
aVIt causes imprecise
p19591
aVbehavior of certain user interface operations within the Java Plug-in
p19592
aVdue to the inability to identify exactly which applet initiated a
p19593
aVparticular request
p19594
aVFor this reason, the new Java Plug-in provides a way to opt out of the
p19595
aVuse of the classloader cache on an applet by applet basis
p19596
as(dp19597
g23
V571407
p19598
stp19599
a((dp19600
g2
(lp19601
VA sequence of restrictions linked with  is called a disjunction
p19602
aVA sequence of restrictions linked with  is called a conjunction
p19603
aVSo, what you need is
p19604
aVone conjunction for your third condition
p19605
aVone disjunction to link the first, second, and third conditions:
p19606
aVSo here it goes:
p19607
as(dp19608
g23
V571407
p19609
stp19610
a((dp19611
g2
(lp19612
VJust create a method checking all the elements of the array :
p19613
as(dp19614
g23
V571407
p19615
stp19616
a((dp19617
g2
(lp19618
s(dp19619
g23
V571407
p19620
stp19621
a((dp19622
g2
(lp19623
VIn this case, you don't ever have two kinds of entities at once (Order and CustomerOrder)
p19624
aVYou have only Orders if there is no customization, and you have only CustomerOrders if there is customization
p19625
aVAnd in fact, you could assume that you always have only CustomerOrder, but that this class is not entirely under your control, and could be replaced by another one from the customer
p19626
aVSo I would probably make Order a MappedSuperclass (i
p19627
ag468
aVa class which does not constitute an entity, but has persistent fields that are inherited by entities)
p19628
aVIn the extension jar, that could be customized by the customer, I would define the CustomerOrder entity, which would just extend Order and not add any other field
p19629
aVThis CustomerOrder class would be available in source form to customers, which could replace it with their own implementation with additional fields
p19630
as(dp19631
g23
V571407
p19632
stp19633
a((dp19634
g2
(lp19635
VYou should still move to the first position and check that you have a row:
p19636
aVAlso, using string concatenation in a loop is a very bad idea, especially in an android environment, because it creates lots of temporary StringBuilder and String objects that have to be allocated and garbage collected
p19637
aVYou should use a StringBuilder:
p19638
as(dp19639
g23
V571407
p19640
stp19641
a((dp19642
g2
(lp19643
VA web app's classpath is constituted by /WEB-INF/classes, all the jars in /WEB-INF/lib, and the classpath of the web server itself (tomcat in this case)
p19644
aVThe libraries that you add to the eclipse project's classpath are not deployed with the app
p19645
aVSo if you don't put them in tomcat's classpath, they won't be in the classpath when running the web application
p19646
aVIn this case, you should certainly remove the library from the eclipse build path, and just drop the jar in WEB-INF/lib
p19647
aVEclipse will have it automatically available for the comoilation, and it will automatically be deployed with the web app and be in its classpath at runtime
p19648
as(dp19649
g23
V571407
p19650
stp19651
a((dp19652
g2
(lp19653
VI would first synchronize all the accesses, and only optimize if that proves to be a performance problem
p19654
aVTo optimize, you could use a CopyOnWriteArrayList, or a ReadWriteLock
p19655
aVIt's hard to give a definitive solution without knowing the context more precisely
p19656
as(dp19657
g23
V571407
p19658
stp19659
a((dp19660
g2
(lp19661
VYou have set a cascade of type ALL to the association with the parent
p19662
aVSo of course, the delete operation on the child cascades to the parent:
p19663
as(dp19664
g23
V571407
p19665
stp19666
a((dp19667
g2
(lp19668
VYou need the Java plugin installed in the browser to run Java applets
p19669
aVAlso, if you tell the browser that the codebase is E:\u005cJavaProNetBeens\u005cJSPProject\u005cweb, it will try to load it, on the client machine, in E:\u005cJavaProNetBeens\u005cJSPProject\u005cweb
p19670
aVAnd it will of course not find it
p19671
aVThe HTML page must load the applet using HTTP
p19672
aVAnd you must thus give an absolute HTTP URL, or a relative one from the path used to display the JSP
p19673
as(dp19674
g23
V571407
p19675
stp19676
a((dp19677
g2
(lp19678
VA long id 64-bit long
p19679
aVThat makes 8 bytes
p19680
aVThe DataOutputStream's writeLong method writes the binary representation of the long, not the textual one
p19681
aVWithout knowing the code used to read the long value, it's impossible to tell why it doesn't work
p19682
as(dp19683
g23
V571407
p19684
stp19685
a((dp19686
g2
(lp19687
VBoth your ant build and your eclipse project should set  as the source directory, rather than
p19688
aVThe source dir is supposed to contain the root of the package tree
p19689
as(dp19690
g23
V571407
p19691
stp19692
a((dp19693
g2
(lp19694
VFrom http://php
p19695
aVnet/manual/en/language
p19696
aVtypes
p19697
aVarray
p19698
aVphp:
p19699
aVThe unset() function allows removing keys from an array
p19700
aVBe aware that
p19701
aVthe array will not be reindexed
p19702
aVIf a true "remove and shift" behavior
p19703
aVis desired, the array can be reindexed using the array_values()
p19704
aVfunction
p19705
aVAn example follows
p19706
as(dp19707
g23
V571407
p19708
stp19709
a((dp19710
g2
(lp19711
VYou could put some "invalidated" flag in a application-level map, or in the database, and have a servlet filter check at each request that the current user's "invalidated" flag is not set
p19712
as(dp19713
g23
V571407
p19714
stp19715
a((dp19716
g2
(lp19717
VThere is no rebase in SVN
p19718
aVYou just need to merge from trunk to branch
p19719
aVGo to your working copy (which point to the branch), and do
p19720
aVThen commit
p19721
aVYou should probably read the SVN book: it contains lots of valuable informataion
p19722
as(dp19723
g23
V571407
p19724
stp19725
a((dp19726
g2
(lp19727
VThe general solution is
p19728
aVto have transactions as short as possible
p19729
aVto link the session lifecycle to the transaction lifecycle (this is the default: the session is closed when the transaction is committed or rolled back)
p19730
aVto use optimistic locking concurrency to avoid two transactions updating the same object at the same time
p19731
aVIf each transaction is very short and transaction A updates some object from O to O', then concurrent transaction B will only see O until it commits or rolls back, and any other transaction started after A will see O', because a new session starts with the transaction
p19732
as(dp19733
g23
V571407
p19734
stp19735
a((dp19736
g2
(lp19737
VThe SenderReceiver table has a foreign key to Organization, and a foreign key to Message
p19738
aVThis is a clear sign that a SenderReceiver may only have one Message, and One organization
p19739
aVYou thus have
p19740
aVa OneToMany between Organization and SenderReceiver,
p19741
aVa ManyToOne between SenderReceiver and Organization,
p19742
aVa OneToMany between Message and SenderReceiver
p19743
aVa ManyToOne between SenderReceiver and Message
p19744
aVWhether you map all those associations is up to you
p19745
aVEach association may be unidirectional or bidirectional
p19746
as(dp19747
g23
V571407
p19748
stp19749
a((dp19750
g2
(lp19751
VMy guess is that the child's parent field must be initialized before persisting the parent, and not after, in the @PostPersist method, which is probably called after the cascade has been done
p19752
as(dp19753
g23
V571407
p19754
stp19755
a((dp19756
g2
(lp19757
VYou could use a glass pane and intercept events that don't go to a component of your modal layer
p19758
aVSee http://docs
p19759
aVoracle
p19760
aVcom/javase/tutorial/uiswing/components/rootpane
p19761
aVhtml
p19762
as(dp19763
g23
V571407
p19764
stp19765
a((dp19766
g2
(lp19767
VIf you want an  array, you'll have to loop over the list and unbox each element explicitly
p19768
aVSee http://download
p19769
aVoracle
p19770
aVcom/javase/6/docs/api/java/util/List
p19771
aVhtml next time you're looking for a method of List
p19772
as(dp19773
g23
V571407
p19774
stp19775
a((dp19776
g2
(lp19777
VIf you make the event dispatch thread sleep, then all the GUI events and paintings are blocked
p19778
aVYou need to use a background thread to sleep, and then trigger the dispose of the frame in the EDT from the background thread
p19779
aVRead the tutorial about concurrency in Swing
p19780
as(dp19781
g23
V571407
p19782
stp19783
a((dp19784
g2
(lp19785
VYou could use an  clause on the implicit  property:
p19786
aVI've had bugs with these in the past, where the classes had to be replaced by the discriminator values, but I don't remember exactly when this bug happened and if it has been fixed
p19787
aVSo you could have to use
p19788
as(dp19789
g23
V571407
p19790
stp19791
a((dp19792
g2
(lp19793
VFirst, in the class that initializes the menu items, you need to declare an array of integers
p19794
aVThose will be initialized to 0 automatically:
p19795
aVThen, each time you initialize a menu item, you must add a listener to the item that increments the appropriate counters element:
p19796
aVNow, to be able to save the counters array to a file when the frame is closed, you need to add a window listener to the frame:
p19797
as(dp19798
g23
V571407
p19799
stp19800
a((dp19801
g2
(lp19802
VYou didn't search well enough: http://download
p19803
aVoracle
p19804
aVcom/javase/6/docs/api/java/lang/reflect/Field
p19805
aVhtml#get%28java
p19806
aVlang
p19807
aVObject%29
p19808
aVCall this method, and check if the returned object is null
p19809
as(dp19810
g23
V571407
p19811
stp19812
a((dp19813
g2
(lp19814
VYes
p19815
aVWhen a persistent field of an entity is null, JPA doesn't ignore it
p19816
aVIt sets the column to null in the generated insert/update statements
p19817
aVSo you must set it to the default value in Java
p19818
aVThe constructor of the entity could be the appropriate place to set such a default value
p19819
as(dp19820
g23
V571407
p19821
stp19822
a((dp19823
g2
(lp19824
VHaving eclipse not copy some file that you have modified even after a clean will be a nightmare: you'll have to remember to copy it manually each time it's modified
p19825
aVAnd Eclipse only copies files which have been modified when building incrementally
p19826
aVIf it's so slow, it probably means you have too many such files, and they should perhaps be put in a jar in the build path
p19827
as(dp19828
g23
V571407
p19829
stp19830
a((dp19831
g2
(lp19832
VHibernate used Integer for count queries before, but now uses Long
p19833
aVAlso, note that even if not deprecated, Spring recommends not to use HibernateTemplate anymore and use the Hibernate API directly (using )
p19834
as(dp19835
g23
V571407
p19836
stp19837
a((dp19838
g2
(lp19839
VIntroduce a factory method:
p19840
aVThis does not leak this, and always makes sure everything is configured correctly without the need for every caller to remember initializing both sides of the association
p19841
as(dp19842
g23
V571407
p19843
stp19844
a((dp19845
g2
(lp19846
VThe wiki has a whole section about this subject: http://code
p19847
aVgoogle
p19848
aVcom/p/google-guice/wiki/ServletModule
p19849
as(dp19850
g23
V571407
p19851
stp19852
a((dp19853
g2
(lp19854
VUse a List to store your titles, and another to store your images
p19855
aVOr design a class holding two fields (title and image), and store instances of this class in a List:
p19856
aVRead the Java tutorial about collections
p19857
aVThis is a must-know
p19858
as(dp19859
g23
V571407
p19860
stp19861
a((dp19862
g2
(lp19863
VThat probably means that you didn't initialize the  field of the addresses
p19864
aVIf that isn't the solution, then show us your code
p19865
as(dp19866
g23
V571407
p19867
stp19868
a((dp19869
g2
(lp19870
VJust don't make  an entity, but make it a POJO, and return a list of those POJOs in the  method of the User:
p19871
aVHaving an ID in the contact doesn't really makes sense, since Contact is not an entity
p19872
aVNote that your question is a bit strange: normally, you design your Hibernate entities based on the underlying database schema
p19873
aVWhy id the application designed like this if the underlying schema is as you described
p19874
aVIt doesn't make much sense
p19875
as(dp19876
g23
V571407
p19877
stp19878
a((dp19879
g2
(lp19880
VYou got it wrong: it uses a linked list of entries for each bucket
p19881
aVWhen putting a value in the map, the map starts by calling  on the key, then transforms this hash code so that it's between 0 and the number of buckets
p19882
aVIf the bucket is empty, the key is stored in this bucket
p19883
aVIf it's not, then every key in this bucket is compared to the new key with
p19884
aVIf one is equal, then its value is replaced by the new value
p19885
aVElse, a new entry with the new key is added to the bucket's list of entries
p19886
aVIf you want to store multiple values for a given key, then use a , or use Guava's MultiMap
p19887
as(dp19888
g23
V571407
p19889
stp19890
a((dp19891
g2
(lp19892
VThe image must not be streamed in the same request as the HTML page: the generated HTML must be :
p19893
aVWhen loading this HTML page, the browser will trigger a second request to , and the servlet mapped to this path should use the response output stream to send the dynamically generated image bytes
p19894
as(dp19895
g23
V571407
p19896
stp19897
a((dp19898
g2
(lp19899
VFirst question:
p19900
aVYou need to make a join (assuming the root entity is title):
p19901
aVSecond question:
p19902
aVsame answer: you need to make joins:
p19903
aVThis SearchTemplate is a really bad idea, IMO
p19904
aVInstead of having well-defined methods with a clear contract like :
p19905
aVYou'll have a single method
p19906
aVWhat must you put in the criteria
p19907
aVWhat's the type of the criteria
p19908
aVWhat will the method do with these criteria
p19909
aVWhich ordering will be applied
p19910
aVWhich related entities will be fetched or lazily loaded
p19911
aVAn "explosion" of find methods is a good thing, because each find method has its own contract, optimizations, and goal
p19912
aVEach can also be unit-tested
p19913
aVThat's the goal of a DAO
p19914
aVWithout these methods, you might as well have a unique method such as
p19915
aVBut I fail to see the goal of such a DAO
p19916
as(dp19917
g23
V571407
p19918
stp19919
a((dp19920
g2
(lp19921
VJust code it:
p19922
as(dp19923
g23
V571407
p19924
stp19925
a((dp19926
g2
(lp19927
VThe only way is to dump the repository and to reimport it by filtering some entries
p19928
aVSo in short: it's impossible
p19929
aVOnce something is committed it'll stay in the repository ad vitam aeternam
p19930
as(dp19931
g23
V571407
p19932
stp19933
a((dp19934
g2
(lp19935
VYou need to get the JTable's selection model (using ) and add a  to this model
p19936
aVMake sure to use  to convert the index of the selected row to an index in the table model: if the table is sorted or filtered, the view and model indices won't be the same
p19937
as(dp19938
g23
V571407
p19939
stp19940
a((dp19941
g2
(lp19942
VHQL queries use entities and their associations
p19943
aVThe fact that the association uses a join table or not is not important for HQL: you navigate through associations and Hibernate does the appropriate translation to SQL
p19944
as(dp19945
g23
V571407
p19946
stp19947
a((dp19948
g2
(lp19949
VI would recommend reading the javadoc of ThreadPoolExecutor with great attention, because the behavior of such a pool regarding to queuing is important to understand if you want to avoid problems
p19950
aVThe JDK has Executors, which provides factory methods which should give you correctly configured pools
p19951
aVUse these methods, or dig into their source code to understand which parameters (sizes, queue type, etc
p19952
aVare used for these configurations
p19953
as(dp19954
g23
V571407
p19955
stp19956
a((dp19957
g2
(lp19958
VHibernateTemplate is indeed not very useful, and the Spring doc advises considering not to use it anymore
p19959
aV@Repository and @Service basically do the same thing, except (AFAIK) two things:
p19960
aV@Repository makes it clear that the service is a DAO, and not a business service
p19961
aVexceptions thrown from an @Repository annotated service are translated to Spring's persistence exception classes
p19962
aVThis means that you won't get Hibernate exceptions, but Spring exceptions wrapping Hibernate ones
p19963
as(dp19964
g23
V571407
p19965
stp19966
a((dp19967
g2
(lp19968
VNo, a persist is not cascaded unless you tell Hibernate to do it with
p19969
aVSee http://docs
p19970
aVjboss
p19971
aVorg/hibernate/core/3
p19972
aV6/reference/en-US/html_single/#objectstate-transitive
p19973
as(dp19974
g23
V571407
p19975
stp19976
a((dp19977
g2
(lp19978
VYou won't be able to catch it there, because it's not the delete call that throws the exception, but the flush of the session, which happens later (before the execution of a query, or before the transaction commit)
p19979
aVYou should not catch this exception anyway, because when Hibernate throws an exception, you can't continue using the session anymore: it's in an unstable state
p19980
aVThe only part of the application where such an exception can be caught is outside of the transaction, in order to display an error message to the user (or retry, but this won't be possible in this particular case)
p19981
as(dp19982
g23
V571407
p19983
stp19984
a((dp19985
g2
(lp19986
VNo, it's not correct
p19987
aVA HQL query translates to SQL
p19988
aVAn  property is not in the database, so the SQL query won't be able to query over this property
p19989
aVand  are contradictory
p19990
aVThe first one tells "this property is persistent" and the second one tells "This property is not persistent"
p19991
aVIf you're talking about the Java  keyword, and not about the  annotation, then yes, a  field may be queried and annotated with
p19992
aVThe  keyword has nothing to do with persistence, only with binary serialization of the object
p19993
as(dp19994
g23
V571407
p19995
stp19996
a((dp19997
g2
(lp19998
VMaybe the previous version of WebLogic did the import because it used Calendar (or java
p19999
aVutil
p20000
aV*) internally
p20001
aVThis is however not in the spec
p20002
aVYou could use the weblogic appc compiler (or jspc, but it's deprecated) to precompile the JSPs and see which ones don't compile
p20003
aVSee http://docs
p20004
aVoracle
p20005
aVcom/cd/E12840_01/wls/docs103/webapp/reference
p20006
aVhtml#wp57794
p20007
as(dp20008
g23
V571407
p20009
stp20010
a((dp20011
g2
(lp20012
VStore the handler in an instance variable, and call its  method when needed
p20013
as(dp20014
g23
V571407
p20015
stp20016
a((dp20017
g2
(lp20018
VFirst of all, I would not use a composite ID
p20019
aVUse an autogenerated surrogate key, and store both items as regular properties
p20020
aVThen, when storing the items in a pair, I would just make sure to always store them in the same order
p20021
aVFor example, the source ID should always be smaler than the target ID
p20022
aVThis can be ensured using encapsulation:
p20023
as(dp20024
g23
V571407
p20025
stp20026
a((dp20027
g2
(lp20028
VIf, as your question seem to imply, you only have two groups (first group : forename or name equals searched string; second group : forename or name contains searched string), and if all the persons of a given group have the same "match score", then using two queries is indeed a good solution
p20029
aVFirst query :
p20030
aVSecond query :
p20031
aVExecute both queries (each returning a ), and add all the elements of the second list to the first one (using the  method)
p20032
as(dp20033
g23
V571407
p20034
stp20035
a((dp20036
g2
(lp20037
VThe GAE datastore is a database
p20038
aVData stored in it is in no way restricted to a single user
p20039
aVBTW, you don't even have to sign in to use a GAE application
p20040
aVJust query for the data you want, and you'll get it, whether the current user stored it or anyone else is irrelevant
p20041
as(dp20042
g23
V571407
p20043
stp20044
a((dp20045
g2
(lp20046
VI would bet that you're using a Java 5 compiler
p20047
aVIt's only since Java 6 that @Override can be used on methods overriding interface methods
p20048
aVIn Java5, it was only allowed on methods overriding superclass methods
p20049
as(dp20050
g23
V571407
p20051
stp20052
a((dp20053
g2
(lp20054
VI would change the method signature and make it take a  instance as argument
p20055
aVThe caller would create the helper and pass it to the  method
p20056
aVThe test would pass a mock helper
p20057
aVIf this isn't possible, at least call a protected factory method to create the helper, and mock this factory method when testing the  method in order to make it return a mock helper:
p20058
as(dp20059
g23
V571407
p20060
stp20061
a((dp20062
g2
(lp20063
VHere we go again
p20064
aVA Date doesn't have a time zone
p20065
aVIt's an instant in time
p20066
aVIt's only when it's displayed in a human-readable format that a timezone is used
p20067
aVChange the way the date is displayed
p20068
aVIt's constructed correctly
p20069
as(dp20070
g23
V571407
p20071
stp20072
a((dp20073
g2
(lp20074
VConnection is an interface
p20075
aVAny mocking framework will be able to mock it: EasyMock, Mockito,
p20076
aVMocking it isn't different from mocking any other Java interface
p20077
as(dp20078
g23
V571407
p20079
stp20080
a((dp20081
g2
(lp20082
Vwhen you use batch update or native queries, you're bypassing the first-level cache
p20083
aVToplink has no way to know that the entities it already has in its first-level cache have been changed
p20084
aVSo the entity manager must be cleared in order for the query to retrurn refreshed objects
p20085
aVBut the best way is probably to avoid batch updates in the first place
p20086
aVYour first query could be replaced by a JPQL query that loads the product with the given code, and then simply updates the Product entity
p20087
aVEven if you keep the update query, it could be written in JPQL rather than SQL (but you would still have the problem you're having)
p20088
aVFinally, your queries should use parameters to avoid injections and make sure everything is properly escaped:
p20089
as(dp20090
g23
V571407
p20091
stp20092
a((dp20093
g2
(lp20094
VThe read method returns the number of actually read bytes, or -1 if the end of the stream has been reached
p20095
aVSo you should only write ss bytes, and not len bytes:
p20096
aVNote thet the DataInputStream and the BufferedReader are completely unnecessary here
p20097
as(dp20098
g23
V571407
p20099
stp20100
a((dp20101
g2
(lp20102
VCookies are indeed the solution
p20103
aVHere's a system that would work:
p20104
aVHave a votes table in the database remembering the votes for each visitor ID
p20105
aVWhen a visitor enter your site, check if the request contains a visitor_id cookie
p20106
aVIf not, then generate a unique visitor_id (using a uuid generator), and put a visitor_id cookie in the response, with the generated id as value
p20107
aVThis cookie should be made persistent
p20108
aVEach time a vote is triggered (and/or each time you generate a vote link), check if the current visitor, identified by his visitor_id cookie, has already voted or not thanks to the votes table
p20109
aVWhen a vote is done, store it in the votes table
p20110
aVOf course, nothing stops any visitor to clear its cookies, or to use another browser or machine to vote several times
p20111
aVBut without authentication, that's the best you can do
p20112
as(dp20113
g23
V571407
p20114
stp20115
a((dp20116
g2
(lp20117
VYour select boxes should have a name
p20118
aVThis name is also the name of the HTTP parameter sent when submitting the form:
p20119
aVIn your servlet, you'll get the source and target currencies with :
p20120
aVAnd you may then pass those values to your query, using a prepared statement:
p20121
as(dp20122
g23
V571407
p20123
stp20124
a((dp20125
g2
(lp20126
VThe argument must be passed to the method, not to the class:
p20127
aVRead the Java language tutorial
p20128
as(dp20129
g23
V571407
p20130
stp20131
a((dp20132
g2
(lp20133
VSee http://wiki
p20134
aVeclipse
p20135
aVorg/Introduction_to_EclipseLink_Application_Development_%28ELUG%29#Using_Weaving
p20136
aVFor lazy fetching to be possible on XxxToOne associations, the byte-code of the JPA entities must be modified (that's what weaving means)
p20137
aVIf it's not modified, an XxxToOne association can only be eager-fetched
p20138
aVEager fetching means that each time you load a  from the database, its  is also loaded
p20139
aVWith lazy fetching, you load a site, and its redirect is only loaded (lazily) when you call a method on the  field
p20140
as(dp20141
g23
V571407
p20142
stp20143
a((dp20144
g2
(lp20145
VIf I understand correctly, you want to get all employees having a specific role
p20146
aVWhy use the Criteria API for this
p20147
aVHQL is much simpler and readable:
p20148
aVIf you really want to use the Criteria API, here it goes:
p20149
as(dp20150
g23
V571407
p20151
stp20152
a((dp20153
g2
(lp20154
VHave a list of persons (empty initially)
p20155
aVHave a  variable
p20156
aVWhen the state is "person start", initialize the  variable to a new Person
p20157
aVWhen the state is "age", set the age into the
p20158
aVSame for the "location" state
p20159
aVWhen the state is "end of person", add the currentPerson to the list of persons
p20160
aVWhen you reach the end of the file, the list of persons contains all your persons
p20161
as(dp20162
g23
V571407
p20163
stp20164
a((dp20165
g2
(lp20166
V means that the annotated method argument should be extracted from the path of the invoked URL
p20167
aVmeans that the annotated method argument must be extracted from the request parameters
p20168
aVNone of these annotations cause the annotated arguments to be put in the request, session or application scope
p20169
aVmeans "write the value of the username attribute (found in page, or request, or session, or application scope) in the response"
p20170
aVSince you didn't include any username attribute in any of those scopes, it doesn't write anything
p20171
aVThe code would work if the method returned a ModelAndView object, and the model contained a  attribute and a  attribute
p20172
as(dp20173
g23
V571407
p20174
stp20175
a((dp20176
g2
(lp20177
VHere's what the JPA2 specification says about this attribute:
p20178
aVThe transaction-type attribute is used to specify whether the entity
p20179
aVmanagers provided by the entity manager factory for the persistence
p20180
aVunit must be JTA entity managers or resource-local entity managers
p20181
aVThe value of this element is JTA or RESOURCE_LOCAL
p20182
aVA transaction-type
p20183
aVof JTA assumes that a JTA data source will be provided\u2014either as
p20184
aVspecified by the jta-data-source element or provided by the container
p20185
aVIn general, in Java EE environments, a transaction-type of
p20186
aVRESOURCE_LOCAL assumes that a non-JTA datasource will be provided
p20187
aVIn
p20188
aVa Java EE environment, if this element is not specified, the default
p20189
aVis JTA
p20190
aVIn a Java SE environment, if this element is not specified,
p20191
aVthe default is RESOURCE_LOCAL
p20192
aVAnd here is what it says about JTA and resource local entity managers:
p20193
aVJTA EntityManagers
p20194
aVAn entity manager whose transactions are controlled
p20195
aVthrough JTA is a JTA entity manager
p20196
aVA JTA entity manager participates
p20197
aVin the current JTA transaction, which is begun and committed external
p20198
aVto the entity manager and propagated to the underlying resource
p20199
aVmanager
p20200
aVResource-local EntityManagers
p20201
aVAn entity manager whose transactions are
p20202
aVcontrolled by the application through the EntityTransaction API is a
p20203
aVresource-local entity manager
p20204
aVA resource-local entity manager
p20205
aVtransaction is mapped to a resource transaction over the resource by
p20206
aVthe persistence provider
p20207
aVResource-local entity managers may use
p20208
aVserver or local resources to connect to the database and are unaware
p20209
aVof the presence of JTA transactions that may or may not be active
p20210
as(dp20211
g23
V571407
p20212
stp20213
a((dp20214
g2
(lp20215
VA Java method must either return, or throw an exception
p20216
aVThe compiler refuses to compile if all the possible code paths don't lead to either a return or an exception
p20217
aVThe unique code path in this method throws an exception, so it's valid
p20218
aVWhat would be invalid would be this, because if , nothing is returned, and no exception is thrown:
p20219
aVIt would be valid if changed to
p20220
as(dp20221
g23
V571407
p20222
stp20223
a((dp20224
g2
(lp20225
VIf every thread must wait for the previous one to finish before starting, you'd better have one unique thread executing the original run method 10 times in sequence:
p20226
as(dp20227
g23
V571407
p20228
stp20229
a((dp20230
g2
(lp20231
VHibernate pessimistic locks are database locks
p20232
aVThe locking is delegated to the database
p20233
aVThe second-level cache has nothing to do with it
p20234
as(dp20235
g23
V571407
p20236
stp20237
a((dp20238
g2
(lp20239
VAdd a method in your model taking a collection of indices to remove (, or ), sort this collection, iterate backwards in this collection, and remove the elements in the list of objects of your model:
p20240
as(dp20241
g23
V571407
p20242
stp20243
a((dp20244
g2
(lp20245
VNo, it's not completely possible
p20246
aVA Criteria query can only return entities, arrays of scalars, or value objects built from scalars (using a )
p20247
aVYou could return a list of  objects, which would hold the same fields as a Human + an additional salutation one, but these would be value objects, and not persistent objects: any modification made to these objects would not be made persistent to the database as it would be with Human instances
p20248
aVTo do that, create the class :
p20249
aVAssign it an  (which will populate all your  objects using setters), and make sure the criteria has a projection list returning all the fields of Human + the salutation (aliased to "salutation"):
p20250
aVIf you don't want the SQL projection, you could implement the transformation in Java in the  method (and remove the setter)
p20251
as(dp20252
g23
V571407
p20253
stp20254
a((dp20255
g2
(lp20256
VThe document object is a JavaScript object
p20257
aVIt only makes sense at client-side, in the browser
p20258
aVAt server-side, it's just some text which is part of the generated HTML
p20259
as(dp20260
g23
V571407
p20261
stp20262
a((dp20263
g2
(lp20264
VYou need to make two joins, but don't need to specify any  clause, since Hibernate knows, thanks to the mapping of the association, how the tables are linked together
p20265
aVSo the following query should work:
p20266
as(dp20267
g23
V571407
p20268
stp20269
a((dp20270
g2
(lp20271
VThe easiest way is to use a static inner holder class :
p20272
as(dp20273
g23
V571407
p20274
stp20275
a((dp20276
g2
(lp20277
VSpring is a dependency injection engine
p20278
aVThis means that it injects instances of A into beans which are dependent on A
p20279
aVSo if bean B has a dependency on A, it will have a field of type A, and Spring will initialize this field for you
p20280
aVFinding the references is thus trivial: select one of A's methods, choose "Call hierarchy", and if B calls this method of A, Eclipse will find it
p20281
aVIt's not different from any other Java project not using Spring
p20282
aVRegarding the size of the XML files, Spring also uses annotations to inject beans, so the XML file can be reduced to a minimum
p20283
as(dp20284
g23
V571407
p20285
stp20286
a((dp20287
g2
(lp20288
VYes, ResultSets and Statements should always be closed in a finally block
p20289
aVUsing JDBC wrappers such as Spring's JdbcTemplate helps making the code less verbose and close everything for you
p20290
as(dp20291
g23
V571407
p20292
stp20293
a((dp20294
g2
(lp20295
VDeclare the EmailValidator bean in the Spring XML and tell Spring to use a static factory method to instantiate it
p20296
aVSee http://static
p20297
aVspringsource
p20298
aVorg/spring/docs/3
p20299
ag10
aVx/spring-framework-reference/html/beans
p20300
aVhtml#beans-factory-class-static-factory-method
p20301
aVOr create a Spring bean implementing
p20302
aVSee http://static
p20303
aVspringsource
p20304
aVorg/spring/docs/3
p20305
ag10
aVx/spring-framework-reference/html/beans
p20306
aVhtml#beans-factory-extension-factorybean
p20307
as(dp20308
g23
V571407
p20309
stp20310
a((dp20311
g2
(lp20312
VThe problem is not Hibernate
p20313
aVThe problem is your database
p20314
aVIf an employee doesn't belong to any department, it should have  in the  column, and not some unexisting department ID
p20315
aVYou should have a foreign key constraint on  to make sure such incoherences never happen
p20316
aVThat's the C in ACID
p20317
aVSo, my advice is: fix the data:
p20318
aVAlso, note that doing a left join and forcing the department to have a specific ID is the same as doing an inner join
p20319
as(dp20320
g23
V571407
p20321
stp20322
a((dp20323
g2
(lp20324
VUse a singleton EJB
p20325
aVSee http://docs
p20326
aVoracle
p20327
aVcom/javaee/6/tutorial/doc/gipvi
p20328
aVhtml
p20329
aVYou may choose to initialize it eagerly or lazily
p20330
as(dp20331
g23
V571407
p20332
stp20333
a((dp20334
g2
(lp20335
VA KeyGenerator generates random keys
p20336
aVSince you know the secret key, what you need is a SecretKeyFactory
p20337
aVGet an instance for your algorithm (DESede), and then call its generateSecret mthode with an instance of DESedeKeySpec as argument:
p20338
aVHere is a complete example that works
p20339
aVAs I said, DESedeKeySpec must be used with the DESede algorithm
p20340
aVUsing a DESede key with PBEWithMD5AndDES makes no sense
p20341
as(dp20342
g23
V571407
p20343
stp20344
a((dp20345
g2
(lp20346
VI would never assume any specific order without an order by clause
p20347
aVIf you want to have the rows sorted by ID, than use an
p20348
as(dp20349
g23
V571407
p20350
stp20351
a((dp20352
g2
(lp20353
VIf the calculation is done in the event dispatch thread, then it blocks the thread and prevents it from doing all its repaintings
p20354
aVYou must do the computation in another thread, and have this thread change the label text when it ends (in the event dispatch thread, using SwingUtilities
p20355
aVinvokeLater, or by using the SwingWorker mechanism)
p20356
aVIf the computation is really fast, it's not worth it, though, because the second text will appear so quickly after the first one that you won't even notice the first one
p20357
aVHave a look at SwingWorker, which is designed for such use-cases
p20358
aVIts javadoc contains a useful example
p20359
as(dp20360
g23
V571407
p20361
stp20362
a((dp20363
g2
(lp20364
VYou need to annotate the codes field with , not with
p20365
aVSee http://docs
p20366
aVjboss
p20367
aVorg/hibernate/core/3
p20368
aV6/reference/en-US/html_single/#d0e6099 and the following paragraph
p20369
aVThis is a very fragile way of persisting a list of objects, though, because it uses binary serialization, which might quickly become non-backward compatible if the list or the Code class changes
p20370
aVIt's also impossible to query or inspect using database tools
p20371
aVI would rather map the Code class as an entity or as an embeddable
p20372
as(dp20373
g23
V571407
p20374
stp20375
a((dp20376
g2
(lp20377
VThe 0 is set to the 1st Jan
p20378
aV1970, but that doesn't mean that dates before aren't supported
p20379
as(dp20380
g23
V571407
p20381
stp20382
a((dp20383
g2
(lp20384
VYou won't find much information about this in the Spring documentation because it's out of the scope of Spring
p20385
aVYou can use JSP includes just as you would do PHP includes
p20386
aVThis will however force you to repeat the page layout and the include in each and every page of the application :
p20387
aVOr use a templating engine, like Sitemesh or Apache Tiles (see http://static
p20388
aVspringsource
p20389
aVorg/spring/docs/3
p20390
ag10
ag2332
aVRC1/spring-framework-reference/html/view
p20391
aVhtml#view-tiles for Tiles integration in Spring)
p20392
as(dp20393
g23
V571407
p20394
stp20395
a((dp20396
g2
(lp20397
VIMHO, it's not a good idea
p20398
aVYou're reinventing a new generic query language, and this new query language will be
p20399
aVless expressive than JPQL
p20400
aVnonstandard
p20401
aVless type-safe than the Criteria API
p20402
aVless efficient than JPQL and Criteria
p20403
aVSo the answers to your questions are
p20404
aVNo, it's not a good idea
p20405
aVYes, such a framework already exists
p20406
aVIt's called JPQL
p20407
as(dp20408
g23
V571407
p20409
stp20410
a((dp20411
g2
(lp20412
VSee http://docs
p20413
aVjboss
p20414
aVorg/hibernate/core/3
p20415
aV6/reference/en-US/html/queryhql
p20416
aVhtml#queryhql-joins
p20417
aVIt's the Hibernate reference, and not the nHibernate reference, but I'd assume they work the same (BTW, this post seems to confirm it):
p20418
aVYou may supply extra join conditions using the HQL with keyword
p20419
aVfrom Cat as cat
p20420
aVleft join cat
p20421
aVkittens as kitten
p20422
aVwith kitten
p20423
aVbodyWeight > 10
p20424
ag2332
aVSo, in your case, it should look like
p20425
as(dp20426
g23
V571407
p20427
stp20428
a((dp20429
g2
(lp20430
VThe data is sent to the database, and is not in memory anymore
p20431
aVIt's just not made definitively persistent until the transaction commit
p20432
aVIt's exacltly the same as if you executes the following sequences of statements in any database tool:
p20433
aVThe flush consists in executing the insert statements
p20434
aVThe commit consists in executing the commit statement
p20435
as(dp20436
g23
V571407
p20437
stp20438
a((dp20439
g2
(lp20440
s(dp20441
g23
V571407
p20442
stp20443
a((dp20444
g2
(lp20445
VChecking before deleting is less efficient, and might still lead to a constraint violation if some link is added by another transaction between the moment you check and the moment you delete
p20446
aVOn the other hand, it allows displaying a more specific error message to the user (like "the group is still referenced by a FooBar")
p20447
aVJust do what you feel is best in your specific case
p20448
aVNote however that if some exception happens, the whole transaction should be rolled back, and the session should be closed, because such an exception leaves the session in an inconsistent state
p20449
aVMoreover, it's not the delete, but the flush or the commit that will throw the exception
p20450
aVNow, if you want to check, there is no magical solution
p20451
aVYou might have bidirectional associations, and you could thus check that  is emtpy (although this will fetch all the users of the group)
p20452
aVOr you could execute dedicated queries like  to know if the group is still referenced
p20453
aVBut you need to do one of those for every possible reference to the group
p20454
as(dp20455
g23
V571407
p20456
stp20457
a((dp20458
g2
(lp20459
VYou shouldn't have to do any sorting yourself
p20460
aVsupports sorting natively, and has the  and  methods to go from the view index to the model index and vice-versa
p20461
aVSee http://docs
p20462
aVoracle
p20463
aVcom/javase/tutorial/uiswing/components/table
p20464
aVhtml#sorting
p20465
as(dp20466
g23
V571407
p20467
stp20468
a((dp20469
g2
(lp20470
VWhatever solution you choose, you'll have the private key in memory at some time
p20471
aVSo any cracker having access to the memory could find a way to get this private key
p20472
aVLoading it once and storing it in memory at startup looks like a good solution to me
p20473
aVJust make sure that the server is not easily accessible to malicious persons
p20474
as(dp20475
g23
V571407
p20476
stp20477
a((dp20478
g2
(lp20479
VYou may use a spring context for your main application, and reuse the same beans as the webapp
p20480
aVYou could even reuse some Spring XML configuration files, provided they don't define beans which only make sense in a webapp context (request-scope, web controllers, etc
p20481
aVBut you'll get different instances, since you'll have two JVMs running
p20482
aVIf you really want to reuse the same bean instances, then your main class should remotely call some method of a bean in your webapp, using a web service, or HttpInvoker
p20483
as(dp20484
g23
V571407
p20485
stp20486
a((dp20487
g2
(lp20488
VNot a specialist, but couldn't you call an instance method of your test object in  after having verified it implements the appropriate interface, and call this method only if it's the first time prepareTestInstance is invoked with a test instance of this class
p20489
aVYou would just have to keep a set of already seen classes:
p20490
as(dp20491
g23
V571407
p20492
stp20493
a((dp20494
g2
(lp20495
VYou could
p20496
aVcreate another POJO extending your original POJO and adding those two fields
p20497
aVcreate another POJO wrapping your original POJO, and use nested properties (, , etc
p20498
aVadd two arguments to your request handling method, annotated with @RequestParam (see http://static
p20499
aVspringsource
p20500
aVorg/spring/docs/3
p20501
ag10
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p20502
aVhtml#mvc-ann-requestparam)
p20503
as(dp20504
g23
V571407
p20505
stp20506
a((dp20507
g2
(lp20508
VYou should compile all your classes at once, since they all reference themselves
p20509
aVcd to the Source directory, and run
p20510
as(dp20511
g23
V571407
p20512
stp20513
a((dp20514
g2
(lp20515
VYour main method initializes an array of 201 elements (instead of 200), and doesn't do anything with this array
p20516
aVSo obviously, there is no randomization and now writing to any file
p20517
aVThe main method should call  and then
p20518
aVThe initialization of the array elements in main is useless, since the elements will be reinitialized by the  method
p20519
aVThis method, by the way, doesn't need to return anything
p20520
aVFinally, the  method should loop through the array and println each element
p20521
aVThe stream should be closed in a finally block
p20522
aVIt should not return anything either
p20523
as(dp20524
g23
V571407
p20525
stp20526
a((dp20527
g2
(lp20528
VYour Comparable interface has a method
p20529
aVThis method is not defined in Student, and it's not defined in Person either
p20530
aVPerson has the following method:
p20531
aV, which doesn't override
p20532
aVWhy are you redefining the standard  interface
p20533
as(dp20534
g23
V571407
p20535
stp20536
a((dp20537
g2
(lp20538
VIt's OK, AFAIK
p20539
aVYou have some incorrect assumptions, though:
p20540
aVem
p20541
aVremove(p_task) will not throw a ConstraintException
p20542
aVThe flush od the removal will do
p20543
aVIf this exception is thrown, the only thing to do is to rollback the transaction and close the entity manager anyway, because it will leave it in an inconsistent state
p20544
aVSo deleting the task before or after removing it from its category doesn't make much difference
p20545
aVYou remove a task, but don't remove tha category
p20546
aVSo why wouldn't the category still be attached
p20547
as(dp20548
g23
V571407
p20549
stp20550
a((dp20551
g2
(lp20552
V(not tested)
p20553
aVNote that if it works, it will lead to two queries, since both entities have nothing in common, except they inherit some mapped attributes from a superclass
p20554
aVYou don't have entity inheritance here, and don't implement the table per class strategy
p20555
aVYou would if Parent was annotated with  rather than , and if you defined an inheritance strategyusing
p20556
as(dp20557
g23
V571407
p20558
stp20559
a((dp20560
g2
(lp20561
VI don't think autocomplete has anything to do with the caching response headers
p20562
aVautocomplete is on by default, and can be disabled on a specific form field using
p20563
aVIf you have such an attribute in your login form fields, then just remove it
p20564
aVSee How do you disable browser Autocomplete on web form field / input tag
p20565
as(dp20566
g23
V571407
p20567
stp20568
a((dp20569
g2
(lp20570
VYou may create the table yourself (i
p20571
ag468
aVnot rely on automatic schema creation from the entities), and add a timestamp column with a default value set to
p20572
aVBut beware that sometimes (I can't remember exactly in which cases), when Hibernate adds a new entity B to A, it deletes all the rows referencing A from the join table and re-inserts them all
p20573
aVAlso note that the timestamp field will be populated in the database, but will not be available from the Hibernate entities
p20574
aVOnly SQL queries will be able to access the timestamp
p20575
as(dp20576
g23
V571407
p20577
stp20578
a((dp20579
g2
(lp20580
VThe whole string must be inside the html opening and closing tags
p20581
as(dp20582
g23
V571407
p20583
stp20584
a((dp20585
g2
(lp20586
VThe easiest solution is to read the file at application startup into an in-memory structure (list of , for example), to add, remove, modify beans in this in-memory structure, and to write the whole list of  to the file when the app closes, or when the user chooses to Save
p20587
aVRegarding newlines when writing, the javadoc seems to indicate that the writer will take care of that
p20588
aVJust call  for each of your user bean, and the writer will automatically insert newlines between each row
p20589
as(dp20590
g23
V571407
p20591
stp20592
a((dp20593
g2
(lp20594
VXA doesn't have any incidence on the locking mechanism
p20595
aVIt just makes sure that ACIDity is preserved even if you update two separate transactional resources
p20596
aVYour usecase only updates one, if I understand correctly, so XA is not necessary here
p20597
as(dp20598
g23
V571407
p20599
stp20600
a((dp20601
g2
(lp20602
VYou could have found it yourself by just reading the javadoc
p20603
aVEdit: since you changed the question, I'll change my answer
p20604
aVIf you want to select the item having the "banana" label, then you have two solutions:
p20605
aVIterate through the items to find the one (or the index of the one) which has the given label, and then call  (or )
p20606
aVOverride  and  in  so that two  instances having the same name are equal, and simply use ;
p20607
as(dp20608
g23
V571407
p20609
stp20610
a((dp20611
g2
(lp20612
VNo, it's not
p20613
aVJSPs should not contain Java code
p20614
aVUse servlets for Java code, and then dispatch to the JSP to generate markup
p20615
aVOr use an MVC framework that will do that for you
p20616
aVWhether it's a good idea to spawn a thread from the servlet depends on your specific use-case
p20617
aVRead How to avoid Java Code in JSP-Files
p20618
as(dp20619
g23
V571407
p20620
stp20621
a((dp20622
g2
(lp20623
VYour LabelComparator should delegate to a Collator to compare the labels of your DTOs:
p20624
as(dp20625
g23
V571407
p20626
stp20627
a((dp20628
g2
(lp20629
VThe caller gets a null object because you don't return anything from your method:
p20630
aVIt's not very clear why you need to do this yourself instead of letting the  Spring support do it for you
p20631
as(dp20632
g23
V571407
p20633
stp20634
a((dp20635
g2
(lp20636
VYou could use Guava's Iterators class: transform each Enumeration using , then  the iterators, and transform the resulting iterator back to an Enumeration using
p20637
aVOr implement an concatenating Enumeration yourself using code similar to Guava's concat method
p20638
as(dp20639
g23
V571407
p20640
stp20641
a((dp20642
g2
(lp20643
VYes
p20644
aVThey are in the top right corner :
p20645
as(dp20646
g23
V571407
p20647
stp20648
a((dp20649
g2
(lp20650
VIf I understand correctly, you're modifying a field which is part of the primary key of your entity
p20651
aVThis is illegal: the ID should be immutable
p20652
aVMy advice is to follow the good practices: use a non-composite, purely technical, auto-generated primary key
p20653
aVEverything will be much simpler (and also faster)
p20654
as(dp20655
g23
V571407
p20656
stp20657
a((dp20658
g2
(lp20659
VUse Firebug to check if those cookies are really sent to the server by Firefox, and if their name matches the name you're searching for
p20660
aVAlso add some debug traces and print the names of all the cookies
p20661
aVMaybe you have some path set in the cookie, and Firefox is stricter than IE
p20662
as(dp20663
g23
V571407
p20664
stp20665
a((dp20666
g2
(lp20667
VYou should learn how SQL joins work, and then learn how to use joins in JPQL
p20668
aVThat's essential
p20669
aVYou'll find plenty of tutorials online
p20670
aVGoogle is your friend
p20671
as(dp20672
g23
V571407
p20673
stp20674
a((dp20675
g2
(lp20676
VYou don't have to do anything
p20677
aVOnce the user clicks the OK button, the dialog will close, the  call will return, and the form wil continue to be displayed
p20678
aVJust remove the  call (which exits the JVM)
p20679
as(dp20680
g23
V571407
p20681
stp20682
a((dp20683
g2
(lp20684
VStatic methods and fields are not polymorphic
p20685
aVYou should never use an instance to access a static field
p20686
aVUse  or
p20687
aVIf you want to access the type of an object polymorphically, then use a  instance method
p20688
aVLine 3 doesn't throw a ClassCastException because the object's concrete type is Main, and a Main is a Car, so casting works
p20689
as(dp20690
g23
V571407
p20691
stp20692
a((dp20693
g2
(lp20694
VAlthough I agree date math functions in JPQL are primitive, this problem can easily be circumvented by computing the date corresponding to your "whatever" delay, and comparing the date stored in database to this computed date:
p20695
as(dp20696
g23
V571407
p20697
stp20698
a((dp20699
g2
(lp20700
VThe worker association is mapped by a foreign key in the worker table
p20701
aVThis means that using  makes an inner join to the worker table, and the  is always true
p20702
aVThe resulting SQL should look like this:
p20703
aVYou need to use a left join to accept users having no worker:
p20704
as(dp20705
g23
V571407
p20706
stp20707
a((dp20708
g2
(lp20709
s(dp20710
g23
V571407
p20711
stp20712
a((dp20713
g2
(lp20714
VThe returned String is what the user entered, or null if the user chose to cancel:
p20715
as(dp20716
g23
V571407
p20717
stp20718
a((dp20719
g2
(lp20720
VThe native serialization supports that
p20721
aVSee http://docs
p20722
aVoracle
p20723
aVcom/javase/6/docs/platform/serialization/spec/version
p20724
aVhtml
p20725
as(dp20726
g23
V571407
p20727
stp20728
a((dp20729
g2
(lp20730
VYou do it as you would with a single-column ID:
p20731
aVYou could also query on individual values of the key, but it's unnecessary here:
p20732
aVPlease please, respect the Java naming conventions: voucherId and not voucher_Id, ReceiptCompoundKey and not Receipt_CompoundKey, etc
p20733
as(dp20734
g23
V571407
p20735
stp20736
a((dp20737
g2
(lp20738
VNo, you're not on the right track
p20739
aVA good rule of thumb is: make everything as private as possible
p20740
aVThis makes your class more encapsulated, and allows for changing the internals of the class without affecting the code using your class
p20741
aVIf you design your class to be inheritable, then carefully choose what may be overridden and accessible from subclasses, and make that protected (and final, talking of Java, if you want to make it accessible but not overridable)
p20742
aVBut be aware that, as soon as you accept to have subclasses of your class, and there is a protected field or method, this field or method is part of the public API of the class, and may not be changed later without breaking subclasses
p20743
aVA class that is not intended to be inherited should be made final (in Java)
p20744
aVYou might relax some access rules (private to protected, final to non-final) for the sake of unit-testing, but then document it, and make it clear that although the method is protected, it's not supposed to be overridden
p20745
as(dp20746
g23
V571407
p20747
stp20748
a((dp20749
g2
(lp20750
VNo, there is not
p20751
aVThe only difference is the order used to initialize the fields: fields initialized directly are initialized before the ones initialized in the constructor
p20752
as(dp20753
g23
V571407
p20754
stp20755
a((dp20756
g2
(lp20757
VYour question is not very clear
p20758
aVWhat is , in
p20759
aVYou can't join from Order to StateTransitionEvent (since there is no association from Order to StateTransitionEvent)
p20760
aVBut you can join in the other direction, and you may select the order or the event:
p20761
aVor
p20762
as(dp20763
g23
V571407
p20764
stp20765
a((dp20766
g2
(lp20767
VNo, it's not possible
p20768
aVBut you may have a getter method:
p20769
as(dp20770
g23
V571407
p20771
stp20772
a((dp20773
g2
(lp20774
VWhen a query returns scalars, the list returned by Hibernate contains arrays of Objects
p20775
aVSo you should have a , each  containing three elements:
p20776
aVan Integer (ID)
p20777
aVa Float (distance)
p20778
aVa Float (radius)
p20779
as(dp20780
g23
V571407
p20781
stp20782
a((dp20783
g2
(lp20784
VYes, it propagates the deletion because you told it to do it with
p20785
aVincludes
p20786
aVIt should never be used on ManyToXxx associations
p20787
as(dp20788
g23
V571407
p20789
stp20790
a((dp20791
g2
(lp20792
VQuestion 1:
p20793
aVYou could pass an array of 1 int, and change the unique element value, or pass a mutable integer wrapper object (like , for example)
p20794
aVOr, instead of using in/out parameters, your method could return an object containing a boolean field and an integer field
p20795
aVQuestion 2:
p20796
aVis the same as:
p20797
aVA new Integer instance is thus assigned to currentFoo
p20798
aVThe original instance (being immutable) is not modified
p20799
aVAll parameters are passed by value in Java
p20800
aVWhen using objects, the reference to the object is passed, and it's passed by value: a copy of the reference is made and passed to the method
p20801
aVIf you assign something to the passed reference, you assign it to a copy, and the original reference is thus still pointing to the original object
p20802
as(dp20803
g23
V571407
p20804
stp20805
a((dp20806
g2
(lp20807
VUse a select clause:
p20808
as(dp20809
g23
V571407
p20810
stp20811
a((dp20812
g2
(lp20813
VIf I understood correctly, this error message is a compiler error message
p20814
aVIt means that your code is in the default package, and you have a class in this default package which is named Connection
p20815
aVreturns a java
p20816
aVsql
p20817
aVConnection
p20818
aVUse
p20819
aVor rename your own Connection class to something else
p20820
aVAnd don't ever use the default package
p20821
aVIt leads to all sorts of problems and should be avoided
p20822
aVAlways put your classes in a package of yours
p20823
as(dp20824
g23
V571407
p20825
stp20826
a((dp20827
g2
(lp20828
VIt can't compile because  takes a resource name (a , and not a ) as parameter, in order to load a resource using the class loading mechanism (from the classpath)
p20829
aVUsing it with a  makes no sense
p20830
aVIf you want to open a file, just use a  or a
p20831
aVSee http://docs
p20832
aVoracle
p20833
aVcom/javase/6/docs/api/java/lang/ClassLoader
p20834
aVhtml#getResource%28java
p20835
aVlang
p20836
aVString%29, and include the compiler error message next time you have such a question
p20837
as(dp20838
g23
V571407
p20839
stp20840
a((dp20841
g2
(lp20842
VUnfortunately, there is no such method in Java
p20843
aVThere is no out parameter in Java, so writing such a method would need to return a null Float to signal an error, or to pass a FloatHolder object which could be modified by the method:
p20844
as(dp20845
g23
V571407
p20846
stp20847
a((dp20848
g2
(lp20849
VThis is a complex problem, because unless your table is not linked to any other table, you might very well have the latest row in table A referencing a very old row in table B
p20850
aVIn this case, although the table B's row is very old, you can't delete it without breaking the coherence of your database
p20851
aVDoing it "continuously" is even harder (read: impossible)
p20852
aVI would first
p20853
aVexamine if it's really needed
p20854
aVDisks are cheap, and 10 entries in an enterprise database is really nothing
p20855
aVimplement some purge mechanism and execute it very now and then, when the database is not used by anyone else
p20856
as(dp20857
g23
V571407
p20858
stp20859
a((dp20860
g2
(lp20861
VWhen you flush, d is made persistent thanks to the cascade from C to D
p20862
aVBut there is no cascade from D to B, so Hibernate complains
p20863
aVA would need to be flushed before D for it to work, but there's no reason to have any specific order between A and D
p20864
as(dp20865
g23
V571407
p20866
stp20867
a((dp20868
g2
(lp20869
VTry reading and understanding the stack trace
p20870
aVIt tells you that the problem is a  for the input String :
p20871
aV, happening when calling :
p20872
aVin the method  of your class , at line 243 of the file frmItem
p20873
aVjava:
p20874
aVIt thus has nothing to do with the database: you're passing an empty String to
p20875
aVError messages and stack traces are really useful: you must read them and try to understand them
p20876
as(dp20877
g23
V571407
p20878
stp20879
a((dp20880
g2
(lp20881
VYou can't take an arbitrary sequence of bytes and assume it's a valid UTF-8 encoded string
p20882
aVSo, I suspect that the  method, as documented, replaces malformed-input and unmappable-character sequences with the default replacement string for the platform's default character set
p20883
aVYou should thus not transform purely binary data into a String like this
p20884
aVUse some encoding like Hex or Base64 to transform your bytes to a printable string, and vice-versa
p20885
aVApache commons-codec has a Base64 utility class
p20886
as(dp20887
g23
V571407
p20888
stp20889
a((dp20890
g2
(lp20891
VThreads are scheduled by the OS scheduler, and you can't expect them to execute in a fixed order like this
p20892
aVOnly that each thread should have some allocated time from the scheduler
p20893
aVIf the tasks are independant from the other ones, you shouldn't care about the order anyway
p20894
aVIf they're not independant, then you should make them collaborate to make sure that everything is executed in the appropriate order
p20895
aVHaving 5000 threads is probably far too much
p20896
aVHow many processors does your machine have
p20897
aVWhat are the tasks executed by the threads
p20898
aVIf they're CPU-bound, your best bet is to have a number of threads equal to the number of processors, or to the number of processors + 1
p20899
as(dp20900
g23
V571407
p20901
stp20902
a((dp20903
g2
(lp20904
VDownloading 200 images from the web is always going to take some time
p20905
aVWhat you need to do to speed this up is
p20906
aVTo avoid downloading the images in the event dispatch thread: it blocks the UI while downloading
p20907
aVThe images should be downloaded in a separate, background thread
p20908
aVTo have two threads downloading images simultaneously
p20909
aVYou could download more in parallel, but most of the web servers refuse more than 2 concurrent connections from the same host
p20910
as(dp20911
g23
V571407
p20912
stp20913
a((dp20914
g2
(lp20915
VWhen I run your code, it doesn't hang: it crashes with StackOverflowError
p20916
aVAnd that's expected: the constructor of Slistener invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener, which invokes the constructor of Slistener
p20917
aVSame for Clistener
p20918
aVAlso, the line  doesn't make much sense
p20919
aVWhat's the point of constructing a thread but not starting it
p20920
aVFinally, starting a thread from within a constructor is a very bad practice
p20921
aVNever do that
p20922
as(dp20923
g23
V571407
p20924
stp20925
a((dp20926
g2
(lp20927
VIt seems that your table has a column "describtion" (with a ), without a default value, whereas the entity has a field mapped to the column "description" (with a )
p20928
aVMake sure your mapping matches with the table columns
p20929
as(dp20930
g23
V571407
p20931
stp20932
a((dp20933
g2
(lp20934
VJavaScript is so used nowadays that the probability of having a user without JS enabled is really low
p20935
aVUsers who disable JS normally know what they're doing, and will be able to understand why your web site doesn't work as it would is JS was enabled
p20936
aVI wouldn't care about them
p20937
aVJust make sure your web site can't be compromised by a user who disables JavaScript
p20938
aVFor example, data validation should always be done at server-side
p20939
aVRelying on JS only to validate forms is dangerous
p20940
as(dp20941
g23
V571407
p20942
stp20943
a((dp20944
g2
(lp20945
VRead the line as a String from the buffered reader, then iterate through the chars of the String, and use  and  to know if the current char is a letter or a digit
p20946
aVAll the methods of all the classes are described in the javadoc
p20947
aVThe call to matches will return true only if the line contains only the characters specified by the regex
p20948
aVYou'll need to use a Matcher and call find to detect if the STring contains one of the chars in
p20949
aVNote that your pattern contains a space, which is not a letter nor a digit
p20950
aVAlso note that there are a whole loat of letters which are not in
p20951
as(dp20952
g23
V571407
p20953
stp20954
a((dp20955
g2
(lp20956
VYou could use a static initializer:
p20957
aVNote that your class won't be able to initialize if you do it so
p20958
aVMaybe you should try to initialize the lib lazily, when needed
p20959
aVSuch class initialization exceptions are hard to diagnose, because they're transformed into ClassNotFoundException or NoClassDefFoundError (I don't remember which one)
p20960
as(dp20961
g23
V571407
p20962
stp20963
a((dp20964
g2
(lp20965
VYour method returns an array containing 3 values : sa, sb and sc (you should use more descriptive names)
p20966
aVYou should make it return a list of arrays
p20967
aVEach array in the list would be a row of your table:
p20968
aVAnd since Java is an OO language, you should even create an object for each row:
p20969
as(dp20970
g23
V571407
p20971
stp20972
a((dp20973
g2
(lp20974
VYour code doesn't start any thread
p20975
aVSo your measurements must be wrong
p20976
aVStarting a thread is done using the  method
p20977
aVIt's also not very clear what your synchronized blocks are supposed to do
p20978
aVA synchronized block is used to make sure some mutable shared state is accessed by only one thread at a time
p20979
aVBut you don't access any mutable shared state inside your synchronized blocks
p20980
aVI doubt loading files from a single disk would be faster with multiple threads than with just once, because you'll pay the cost of context switches, and you'll also pay the cost of forcing the disk to change its reading location frequently rather than reading a whole file at once
p20981
as(dp20982
g23
V571407
p20983
stp20984
a((dp20985
g2
(lp20986
VSee http://www
p20987
aVdisplaytag
p20988
aVorg/1
p20989
aV2/displaytag/tagreference
p20990
aVhtml for the tag reference
p20991
aVYou should be able to use the paramId and paramProperty attributes:
p20992
aVThis should generate a link with the following URL: testAction
p20993
aVaction
p20994
aVid=, provided there is a getStudentId() method in the bean
p20995
aVBut generally, I prefer generating my links inside the display:column tag:
p20996
aVYou could use any other tag inside the column tag to generate your link
p20997
aVThe important thing is that the id attribute of the table tag allows defining a pageContext variable representing the current element of the iteration
p20998
as(dp20999
g23
V571407
p21000
stp21001
a((dp21002
g2
(lp21003
VYou're adding the sprite when the random number is between 90 and 100
p21004
aVThis makes a 10% chance
p21005
aVJust test if Math
p21006
aVrandom() is
p21007
as(dp21008
g23
V571407
p21009
stp21010
a((dp21011
g2
(lp21012
VThe , , etc
p21013
aVmethods of  write their argument in binary form
p21014
aVIf you want a text file, use a , or an  wrapping a  if you want to use an encoding different from the default platform encoding
p21015
aVSimilarly, use a FileReader or an InputStreamReader wrapping a FileInputStream to read the text file
p21016
aVIf you want to store and read structured data from a text file, you'd better choose an easily parseable format like XML or JSON, rather than implementing your own protocol
p21017
aVRegarding the bug you have, your code is too large and complex to debug it
p21018
aVPost a SSCCE if you want us to be able to debug
p21019
aVRead the IO tutorial: http://docs
p21020
aVoracle
p21021
aVcom/javase/tutorial/essential/io/charstreams
p21022
aVhtml
p21023
as(dp21024
g23
V571407
p21025
stp21026
a((dp21027
g2
(lp21028
VIt seems that an EOFException is thrown when there is no more object to read from the stream
p21029
aVUnfortunately, it's not even documented
p21030
aVSo, I see the following solutions:
p21031
aVyou read in a loop until you get this exception,
p21032
aVyou make it so that you know in advance the number of objects in the stream,
p21033
aVyou make it so that there is a marker object which marks the last object of the stream,
p21034
aVyou serialize (and unserialize) a unique object: a  containing all the objects
p21035
aVThis last solution, of course prevents writing the objects on the fly to the stream, and forces you to have all the objects in memory before serializing them
p21036
as(dp21037
g23
V571407
p21038
stp21039
a((dp21040
g2
(lp21041
VWell, pass them in the constructor:
p21042
aVand make all these fields private
p21043
as(dp21044
g23
V571407
p21045
stp21046
a((dp21047
g2
(lp21048
VA google of "Java SVN" directly lead me to http://svnkit
p21049
aVcom/documentation
p21050
aVhtml
p21051
as(dp21052
g23
V571407
p21053
stp21054
a((dp21055
g2
(lp21056
VYou shouldn't care about this warning
p21057
aVThe IDE does its best to warn you about potential HTML problems, but what matters is the validity of the generated HTML
p21058
aVYour code will generate correct HTML, so it's OK
p21059
aVOn the other hand, its logic is flawed, and it won't generate the HTML you're expecting
p21060
aVYou will have a div every 3 elements, but the div will only contain one
p21061
aVThe  should be generated when  or when the end of the list has been reached
p21062
as(dp21063
g23
V571407
p21064
stp21065
a((dp21066
g2
(lp21067
VVector is an old class that is not deprecated but shouldn't be used anymore
p21068
aVUse ArrayList instead
p21069
aVYou should use the LIst interface rather than using the concrete Vector class
p21070
aVProgram on interfaces, not on implementations
p21071
aVMoreover, having repeating conversions like this shows a lack of design
p21072
aVEncapsulate your data into usable objects that don't need conversion each time you need a new functionality
p21073
aVIf you really need to do this: use loops:
p21074
aVTransforming from int to STring and then from String to Double is wasteful
p21075
as(dp21076
g23
V571407
p21077
stp21078
a((dp21079
g2
(lp21080
VUse the  method in a loop until the character is
p21081
aVAt each character, append it to a
p21082
as(dp21083
g23
V571407
p21084
stp21085
a((dp21086
g2
(lp21087
VUse a  rather than a  to hold your buttons, and use
p21088
aVto know the index of the clicked button
p21089
aVTo create and populate the list:
p21090
aVIf you want to convert an array of JButtons into a  (but it's not needed here), just use
p21091
as(dp21092
g23
V571407
p21093
stp21094
a((dp21095
g2
(lp21096
VThe pattern  satisfies your first two requirements
p21097
aVThe third one, AFAIK, can't be satisfied with a simple pattern
p21098
aVYou could use a simple amount
p21099
aVtag file doing the following:
p21100
aVNote that not displaying anything for 0 is a bit strange, since any value between 0 and 0
p21101
aV5 will display as $0 due to rounding anyway
p21102
as(dp21103
g23
V571407
p21104
stp21105
a((dp21106
g2
(lp21107
VA servlet is not necessarily initialized when the webapp is deployed
p21108
aVIt may be initialized lazily
p21109
aVAnd you may have many servlets in a single webapp, so you might then wonder which servlet would be responsible of the scheduling
p21110
aVA  is the right tool to use when something must be done at deployment and undeployment time
p21111
as(dp21112
g23
V571407
p21113
stp21114
a((dp21115
g2
(lp21116
VThat's because you put your annotation on the getter rather than putting in on the field
p21117
aVSince the  annotation is put on a field, Hibernate expects all the annotations to be on fields
p21118
as(dp21119
g23
V571407
p21120
stp21121
a((dp21122
g2
(lp21123
VNo
p21124
aVTo have this behavior, the method containing these two calls would have to be transactional as well
p21125
aVMoreover, If you instantiate your classes using , the transactional interceptor won't be used
p21126
aVYou have to get instances of these classes from the application contect, or (preferrably), by dependency injection
p21127
as(dp21128
g23
V571407
p21129
stp21130
a((dp21131
g2
(lp21132
VCriteria is the limiting factor here: it only allows to select the root entity, or scalars
p21133
aVAnd since you don't have the reverse association (from address to person), it's not possible to do it in a simple way with Criteria
p21134
aVI find HQL much more flexible, and much more readable as well
p21135
aVCriteria is useful when a query must be dynamically composed, but in this case, using a HQL query is straightforward:
p21136
aVIt's actually doable in Criteria, but it would need a query which is less efficient and straightforward: something like
p21137
aVtranslated in Criteria
p21138
aVThat would be:
p21139
aVAs you see: less readable, much longer, and less efficient
p21140
as(dp21141
g23
V571407
p21142
stp21143
a((dp21144
g2
(lp21145
VWhat the compiler can't catch is when you refer to a specific type array using a more generic type array:
p21146
aVThe compiler can't detect it because it has no way, from the variable declaration, to know the actual type of the array
p21147
aVNote that you won't have this problems with generic collections, because although a String[] is also an Object[], a  is not a
p21148
aVOne more reason to prefer collections over arrays
p21149
as(dp21150
g23
V571407
p21151
stp21152
a((dp21153
g2
(lp21154
VThe problem is not with the threads Tomcat uses
p21155
aVThe problam is with the absence of exclusive access to the camera
p21156
aVYou should use a Semaphore (with a unique permit), acquire a permit when opening the session with the camera, and release the permit when releasing the session with the camera
p21157
aVThis way, all the threads will be blocked until they can acquire the permit
p21158
aVSemaphore can handle timeouts or can try to acquire the permit, so a thread wanitng to access the camera can still answer with an error message if some other thread uses it
p21159
as(dp21160
g23
V571407
p21161
stp21162
a((dp21163
g2
(lp21164
VThe  call makes the subquery return the  property only instead of the whole  entity
p21165
aVThe  creates a restriction: the property  of the searched employee must be  the set of results returned by the subquery
p21166
as(dp21167
g23
V571407
p21168
stp21169
a((dp21170
g2
(lp21171
VThe answer of the question you linked to is correct
p21172
aVHibernate can only delete the children when deleting the parent if the parent knows about its children
p21173
aVThe only solution is to have the ParentDAO's delete method to search for all the children of the parent, delete them, and then delete the parent itself
p21174
aVIf your concern is that the ParentDAO shouldn't know about the children, you could make it decoupled, and have the ParentDAO have a list of registered ParentDeletionListeners, which would be invoked before deleting the parent itself
p21175
aVThe ParentDAO know only about this ParentDeletionListener interface, and allows registering several listeners
p21176
aVWhen starting the application, register a listener for every kind of child, and have the listener delete the children:
p21177
as(dp21178
g23
V571407
p21179
stp21180
a((dp21181
g2
(lp21182
VNo
p21183
aVIf the method only modifies local variables and method arguments, you don't need to synchronize the method
p21184
aVThe more stateless and immutable your classes are, the less synchronization you need
p21185
as(dp21186
g23
V571407
p21187
stp21188
a((dp21189
g2
(lp21190
VQuestion 1:
p21191
aVYour requirement makes no sense
p21192
aVIf you don't want to access the history, don't call
p21193
aVIf you access the collection of History, either your Question is attached, and the collection will be loaded, or it's detached, and you'll get a lazy loading exception
p21194
aVQuestion 2:
p21195
aVSee http://docs
p21196
aVjboss
p21197
aVorg/hibernate/core/3
p21198
aV6/javadocs/org/hibernate/annotations/ColumnTransformer
p21199
aVhtml
p21200
aVThe example in the javadoc is precisely what you want to do
p21201
as(dp21202
g23
V571407
p21203
stp21204
a((dp21205
g2
(lp21206
VThis isn't correct, because you're making the subclass more restrictive than the superclass: the superclass makes it possible to set any kind of FooKey, but the subclass only accepts BarKey
p21207
aVIn order to do this, you need to make the superclass generic:
p21208
as(dp21209
g23
V571407
p21210
stp21211
a((dp21212
g2
(lp21213
VNo, it's impossible
p21214
aVThe server-side doesn't know anything about the browser windows, and is  unable to control them
p21215
aVYou may only handle this at client side
p21216
as(dp21217
g23
V571407
p21218
stp21219
a((dp21220
g2
(lp21221
VThe details bend is indeed the band where each element of the data source is reported
p21222
aVThe report engine automatically iterates over the data source and inserts applies the template of the detail band to every element of the data source
p21223
aVYou may of course have several elements on a single page
p21224
aVAccording to the properties of the band (split allowed, height, etc
p21225
aV, the paging will be handled by Jasper Reports automatically, and it's the engi,ne that will thus decide how many elements are printed on each page, when to go to the following page, etc
p21226
aVThe details band is not printed if you have nothing in the data source
p21227
aVThe printing of the other bands depend on the parameters of the report
p21228
as(dp21229
g23
V571407
p21230
stp21231
a((dp21232
g2
(lp21233
VI don't think there is any benefit
p21234
aVIt's just a semantic difference
p21235
aVA field comes from the data source, and is supposed to be put in the details band, which will be repeated for every element in the data source
p21236
aVA parameter has a unique value, global to the whole report
p21237
aVSo, if you must repeat the pie chart for every row of a resultset (or bean of a collection), use fields
p21238
aVIf you just have one global pie chart in your report, use parameters
p21239
as(dp21240
g23
V571407
p21241
stp21242
a((dp21243
g2
(lp21244
VNot sure I understand
p21245
aVIf you want to be able to specify what must be fetched, you'll need to mark your associations as lazy, and load your objects using queries
p21246
aVBy default *ToOne associations are eager, and *ToMany associations are lazy
p21247
aVOnce marked as lazy, the following queries are possible:
p21248
aVIf the association is eager, whatever to code used to load the entity, its association will be fetched
p21249
as(dp21250
g23
V571407
p21251
stp21252
a((dp21253
g2
(lp21254
VYes, HQL is translated to SQL
p21255
aVThere is of course an additional overhead, but which is worth because
p21256
aVit takes less time to develop the application, and hardware is cheaper than engineer time
p21257
aVthe application is more maintainable than with JDBC code all over the place
p21258
aVHibernate is able to optimize the JDBC code by only querying and updating when necessary, updating in batch, etc
p21259
aVthe cost of this translation is negligible compared to the cost of actually executing the query and making an inter-process and/or network call to the database
p21260
as(dp21261
g23
V571407
p21262
stp21263
a((dp21264
g2
(lp21265
VGiven that Future is intended to be used by several threads (at least the one which submits, and the one which sets its result), and given that the documentation specifies that there is a happen-before relationship between the asynchronous computation and the actions occurring after the get call, I would assume that the implementations are thread-safe (at least the standard implementations)
p21266
as(dp21267
g23
V571407
p21268
stp21269
a((dp21270
g2
(lp21271
VIt will be possible only if you design your entities correctly
p21272
aVThis means that the Task entity shouldn't have a masterTaskId, a taskQueueId and a taskTypeId, but three (I suppose) ManyToOne associations:
p21273
aVYou will then be able to use joins (using  or ) for your associations in the criteria query, and use projections to retrieve properties from all the entities
p21274
aVThe criteria query will translate to SQL
p21275
aVIts performance will not be worse than the SQL query you would have created yourself
p21276
as(dp21277
g23
V571407
p21278
stp21279
a((dp21280
g2
(lp21281
VYou missed what makes the beauty of the visitor pattern: the  method that must be in the CarElement interface, and which calls the visitor back with itself, using the approriate type
p21282
aVRe-read the wikipedia article
p21283
as(dp21284
g23
V571407
p21285
stp21286
a((dp21287
g2
(lp21288
VThe date functions of JPA are very limited, but your problem can be solved easily by substracting 1 day to the current date in Java, and then use a parameterized query:
p21289
as(dp21290
g23
V571407
p21291
stp21292
a((dp21293
g2
(lp21294
VThe translation to SQL depends on the database dialect
p21295
aVUsing Oracle, for example, only the requested rows are selected
p21296
aVHibernate uses  (if possible) to directly go to the 990th row when it can't select only the 10 wanted rows
p21297
aVDebug the Loader
p21298
aVdoQuery method to inspect what Hibernate is doing with your database
p21299
as(dp21300
g23
V571407
p21301
stp21302
a((dp21303
g2
(lp21304
VThis is a basic functionality of every MVC framework (Stripes, Spring MVC, Struts, etc
p21305
aVThe idea is to have a servlet prepare a bean with default (usually empty) values, store this bean in a request attribute, and then dispatch to a JSP which displays a form populated with the values stored in the bean
p21306
aVWhen the form is submitted, another instance of the same bean is populated with the request parameters, then validated, and if an error is found, the servlet stores the bean in the same request attribute as before, and also error messages in another request attribute
p21307
aVIt then redispatches to the same JSP
p21308
aVThis JSP redisplays the same form, and thus redisplays the value that the user has just submitted
p21309
aVIt also displays the errors stored in the request attribute (and which was null when the JSP was executed for the first time)
p21310
aVEach error message can be associated with a form field name, so that the JSP can, for example, associate an "error" CSS class to a field if an error exists for this field
p21311
as(dp21312
g23
V571407
p21313
stp21314
a((dp21315
g2
(lp21316
VFirst of all, you should not ignore exceptions like you're doing
p21317
aVThe problem is not with accept
p21318
aVThe problem is that the server uses , and the client never sends any EOL character, and never closes the socket
p21319
aVSo the server is blocked waiting for an EOL to appear in the reader
p21320
aVThe same is true for the client: it uses  and the server never sends any EOL
p21321
aVUse a debugger
p21322
aVIt will help you find the cause of such problems
p21323
as(dp21324
g23
V571407
p21325
stp21326
a((dp21327
g2
(lp21328
VThe constraint was probably set by Hibernate itself, when it generated the schema for you
p21329
aVSince you specified the association as OneToMany, only one user is supposed to like a given event
p21330
aVHibernate makes it guaranteed by setting a unique constraint on the event_id column of the join table
p21331
aVYour association should be a ManyToMany, and you should not use CascadeType
p21332
aVALL, since it would delete all the events a user likes when this user is deleted
p21333
as(dp21334
g23
V571407
p21335
stp21336
a((dp21337
g2
(lp21338
VFor this to work, the Transaction entity must not have a userEmail property, but an ManyToOne association to the User entity
p21339
aVThe hibernate reference contains everything you need to know about associations and aggregate functions
p21340
aVThey're similar to SQL aggregate functions, obviously
p21341
aVNote that the above query doesn't return entities, but a , each  containing three elements : the email, the total money paid, and the address
p21342
aVUp to you to loop over the list and crate a list of  instances
p21343
as(dp21344
g23
V571407
p21345
stp21346
a((dp21347
g2
(lp21348
VUse the EL
p21349
aVIf you can't, ask the person forbidding it why he doesn't want you to use the EL
p21350
aVThis is the right thing to do
p21351
aVIf it's because the container is really old and can't be changed, then use
p21352
as(dp21353
g23
V571407
p21354
stp21355
a((dp21356
g2
(lp21357
VYour query only returns persons
p21358
aVOnce you get the persons, you're calling getAddresses(), which lazily loads the addresses of the person - all of them
p21359
aVIn short, the query limits the set of returned persons, but since it only returns persons, the addresses are lazy-loaded using another query when accessing the set of addresses
p21360
aVWhat you want to do is return the persons with some of their addresses in a single query
p21361
aVTo do that, you need to use the  keyword:
p21362
aVBe very careful, though: this query returns an incorrect view of the person entity
p21363
aVYou should make sure not to modify the collection of addresses of the returned persons (although since the addresses association is mapped by the  association and there is no cascade, you should not have problems in this particular case)
p21364
as(dp21365
g23
V571407
p21366
stp21367
a((dp21368
g2
(lp21369
VThe btnClear method clears the text area of a new CrackerGUI instance
p21370
aVIt's like if you wanted to clear a drawing on a sheet of paper by taking a new blank sheet and clearing it
p21371
aVThe original sheet of paper will keep its drawing
p21372
aVYou need to pass the gui instance to your Shift:
p21373
aVand in the CrackerGUI class :
p21374
as(dp21375
g23
V571407
p21376
stp21377
a((dp21378
g2
(lp21379
VIf it contains at most 3 integers, why not store these three integers in three columns
p21380
aVThis would at least be normalized and queryable
p21381
aVIf not, then just use a persistent String attribute, and parse this string in the getter and transform to string in the setter:
p21382
aVYou may also use the @Lob annotation or the @Type(type="serializable") annotation on your Integer array, but then native Java serialization will be used, and it's more fragile and not readable
p21383
as(dp21384
g23
V571407
p21385
stp21386
a((dp21387
g2
(lp21388
VHow should the event objects and other data be stored
p21389
aV(
p21390
aVdat files,
p21391
aVdatabase of some type, etc)
p21392
aVIt depends on the size of the data to be stored (and loaded), and if you want to be able to perform queries on your data or not
p21393
aVWhere should they be stored
p21394
aVA file in the user directory (or in a subdirectory of the user directory) is a good choice
p21395
aVUse  to get it
p21396
aVI'm guessing it's not good to load all the objects into memory when
p21397
aVthe program starts and not update them on the hard drive until the
p21398
aVprogram closes
p21399
aVSo what do I do instead
p21400
aVIt might be a perfectly valid thing to do, unless the amount of data is so great that it would eat far too much memory
p21401
aVI don't think it would be a problem for a simple calendar application
p21402
aVIf you don't want to do that, then store the events in a database and perform queries to only load the events that must be displayed
p21403
as(dp21404
g23
V571407
p21405
stp21406
a((dp21407
g2
(lp21408
VThe problem is probably due to the bad transaction management
p21409
aVAll your code should be done in a single transaction, rather than having a transaction for each DAO call
p21410
aVThe service layer should be the one which demarcates transaction, and not the DAO layer
p21411
aVI can imagine what Hibernate does:
p21412
aVYou call
p21413
aVThis returns a detached product pointing to the category with ID 67 (for example)
p21414
aVThe result is detached because the transaction ends when the call to the DAO ends
p21415
aVYou call
p21416
aVThis returns a detached product pointing to the category with ID 67 (for example)
p21417
aVBut since the call runs in another transaction, you get a second, different, Category instance (with the same ID as the first one)
p21418
aVYou call saveOrUpdate on the product
p21419
aVThis cascades to the category, and Hibernate must thus attach category1 and category2 to the session
p21420
aVSince they both have the same ID, one of the cascade may not be done
p21421
aVIf you use a single transaction to get both products, they will both have the same category instance, and the problem will not occur
p21422
aVCalling  instead of  should also work: Hibernate will copy the state of both categories to a third, attached one
p21423
aVBut the right thing to do is to use a transaction involving both calls to the DAO
p21424
as(dp21425
g23
V571407
p21426
stp21427
a((dp21428
g2
(lp21429
VThe syntax is indeed  and
p21430
aVHibernate queries are always written in termes of objects and their fields, and never in terms of database columns
p21431
aVIf it doesn't work, it means that you have some other error in your code
p21432
aVInclude the complete code and the exception stack trace
p21433
as(dp21434
g23
V571407
p21435
stp21436
a((dp21437
g2
(lp21438
VWhatever the design, you'll have to loop over the ResultSet
p21439
aVDon't overengineer what you just need is something like this:
p21440
aVThe process method is free to do what it wants : do the job, invoke collaborating objects, etc
p21441
as(dp21442
g23
V571407
p21443
stp21444
a((dp21445
g2
(lp21446
VMost of the time, the singleton will be used, and doesn't cost much to create, so just make it simple:
p21447
aVIf you really want lazy instantiation, use a static inner class:
p21448
as(dp21449
g23
V571407
p21450
stp21451
a((dp21452
g2
(lp21453
VYes, you can
p21454
aVWhy don't you simply try it
p21455
aVA project might want to have employees in a specific order, whereas an employee might just want to have a set of projects
p21456
as(dp21457
g23
V571407
p21458
stp21459
a((dp21460
g2
(lp21461
VIf I'm not mistaken, the default bean name of a bean declared with @Component is the name of its class its first letter in lower-case
p21462
aVThis means that
p21463
aVdeclares a bean of type , and of name
p21464
aVIt's equivalent to
p21465
aVor to
p21466
aVYou're redefining another bean of the same type, but with a different name, in the XML:
p21467
aVSo, either specify the name of the bean in the annotation to be , or use the ID  in the XML (don't forget to also modify the  element, or to remove it, since it isn't needed)
p21468
aVIn this case, the XML definition will override the annotation definition
p21469
as(dp21470
g23
V571407
p21471
stp21472
a((dp21473
g2
(lp21474
VYes, you can
p21475
aVJust use full path names when invoking , , etc
p21476
aVor set your PATH environment variable to point to the appropriate  location
p21477
aVThe IDEs usually allow defining multiple JDKs/JREs, and you can choose which one to use for every project
p21478
as(dp21479
g23
V571407
p21480
stp21481
a((dp21482
g2
(lp21483
VThe additional table is just a join table for a many-to-many relationship between Account (as a person/owner) and Account (as a contact/owned)
p21484
aVA person owns many contacts, and a contact is owned by several persons
p21485
aVSo you should have a unique entity with the following association:
p21486
aVYou can also make it bidirectional:
p21487
as(dp21488
g23
V571407
p21489
stp21490
a((dp21491
g2
(lp21492
VThe following should work, I think:
p21493
as(dp21494
g23
V571407
p21495
stp21496
a((dp21497
g2
(lp21498
VYou just need to create a class which extends Exception (for a checked exception) or any subclass of Exception, or RuntimeException (for a runtime exception) or any subclass of RuntimeException
p21499
aVThen, in your code, just use
p21500
aVRead the Java tutorial
p21501
aVThis is basic stuff that every Java developer should know: http://docs
p21502
aVoracle
p21503
aVcom/javase/tutorial/essential/exceptions/
p21504
as(dp21505
g23
V571407
p21506
stp21507
a((dp21508
g2
(lp21509
VYou put jar files in the target directory of Eclipse, i
p21510
ag468
aVin the directory that is generated and populated by Eclipse when building the webapp
p21511
aVSo of course, each time Eclipse deploys the webapp, it cleans this directory, and deploys the new version
p21512
aVYou should put the jar file in your source project tree, under
p21513
aVThe jars in this directory will be part of the webapp's build path automatically, and will be copied to the target WEB-INF/lib directory at deployment time by Eclipse
p21514
as(dp21515
g23
V571407
p21516
stp21517
a((dp21518
g2
(lp21519
VYou're putting a breakpoint with a condition on the variable  at a location where there is no variable
p21520
aVSo obviously, the condition is impossible to evaluate
p21521
aVIf the breakpoint was on the last line, then it would be valid
p21522
as(dp21523
g23
V571407
p21524
stp21525
a((dp21526
g2
(lp21527
VYou have (at least) three problems
p21528
aVFirst problem: you specify
p21529
aVand
p21530
aVThose two annotations are contradictory; if  is set, it means that the mapping information is on the other side
p21531
aVOnly one side should define the mapping (the , and the other side should set the  attribute
p21532
aVSecond problem: you specify
p21533
aVBoth sides of the associations should be initialized
p21534
aVThe code should thus do:
p21535
aVHibernate uses the side where mappedBy is not set to know if an association exists
p21536
aVThird problem:
p21537
aVYou save the employee, but don't save the address
p21538
aVAnd there is no cascade set from employee to address
p21539
as(dp21540
g23
V571407
p21541
stp21542
a((dp21543
g2
(lp21544
VDo you deploy on a phone
p21545
aVElse, 300 KB is nothing
p21546
aVAnyway, the special chars to encode are not many: , , , ,
p21547
aVAll the other characters don't need escaping if you use an encoding able to handle all the characters, like UTF-8
p21548
aVSo building such a method yourself should be very easy
p21549
as(dp21550
g23
V571407
p21551
stp21552
a((dp21553
g2
(lp21554
VUse Guava's  method
p21555
aVIt will create a MultiMap, i
p21556
ag468
aVa Map with categories as keys, and the list of items as values
p21557
aVIf you can't use Guava, then do what this method does:
p21558
aVcreate a  where the key is the category
p21559
aViterate through the list of items, and place each item in the map
p21560
aVHere's an example:
p21561
as(dp21562
g23
V571407
p21563
stp21564
a((dp21565
g2
(lp21566
VJust mark the collection of children as , don't fetch it in the query and initialize the collection after the query if necessary:
p21567
aVIf you really want to keep the association as eager fetched (which is a bad idea, IMO), then only load the ID of the parent in the query, and then get the parent:
p21568
as(dp21569
g23
V571407
p21570
stp21571
a((dp21572
g2
(lp21573
VNo, it doesn't eliminate its need
p21574
aVEven if the order of your divs is not important because the layout is done with CSS, you don't want to repeat the header and footer divs in every JSP of your application
p21575
aVThe HTML head is also something you don't want to repeat
p21576
aVSo it's still better to put them in a layout page, once and for all, ant to only put the body content in every page of the application
p21577
as(dp21578
g23
V571407
p21579
stp21580
a((dp21581
g2
(lp21582
VIf it was possible, we would not call them anonymous anymore: your example defines a class with a name:
p21583
aVYou may define an inner class with a name like this:
p21584
as(dp21585
g23
V571407
p21586
stp21587
a((dp21588
g2
(lp21589
VShot in the dark, because I'm not an expert in Spring MVC, and don't know if you're using Open Session In View or not
p21590
aVIf you're not using Open Session In View, and if Spring uses  to compare the selected filter with every filter in the select box, then the problem might come from the lack of proper redefinition of equals (and hashCode) in the Filter entity
p21591
aVIndeed, you'll have two different Filter instances, having the same ID, but being different regarding
p21592
as(dp21593
g23
V571407
p21594
stp21595
a((dp21596
g2
(lp21597
VYour explanation is incorrect
p21598
aVA commit of the hibernate transaction does write and commit to the database, and if the commit succeeds, then the data is committed in the database
p21599
aVWhat you're seeing comes from somewhere else: the browser cache, or the second-level cache if configured incorrectly (in read-only mode for example)
p21600
aVAnother explanation would be that the second async call doesn't wait for the first one to complete before being sent to the server
p21601
as(dp21602
g23
V571407
p21603
stp21604
a((dp21605
g2
(lp21606
VThe load method doesn't fetch an address from the database
p21607
aVIt returns a proxy to an uninitialized address, assuming the address exists in the database
p21608
aVUse  to get the address
p21609
aVSee http://docs
p21610
aVjboss
p21611
aVorg/hibernate/core/3
p21612
aV6/javadocs/org/hibernate/Session
p21613
aVhtml#load%28java
p21614
aVlang
p21615
aVClass,%20java
p21616
aVio
p21617
aVSerializable%29
p21618
as(dp21619
g23
V571407
p21620
stp21621
a((dp21622
g2
(lp21623
VAs mentioned by skravin, you must configure a
p21624
aVThe  for Hibernate 3 implements , but the one for Hibernate 4 does not
p21625
as(dp21626
g23
V571407
p21627
stp21628
a((dp21629
g2
(lp21630
VThis is expected behavior
p21631
aVThe cascade annotation tells Hibernate to cascade the remove, and it's the responsibility of Hibernate, and not the database, to do so
p21632
aVBulk delete queries completely bypass the session and the entities cascade annotations
p21633
aVWhen you choose to use them, you have to handle the cascade deletes youself
p21634
as(dp21635
g23
V571407
p21636
stp21637
a((dp21638
g2
(lp21639
VThe session is indeed tied to a single browser, and all frames/tabs opened in this browser share the same session
p21640
aVIf you exit the browser, you lose the session
p21641
aVSession tracking is implemented using cookies, but can fall back to URL rewriting if cookies are not accepted by the browser
p21642
aVThis, however, requires the developer to be scrupulous and to always use appropriate methods or tags in order to encode the URL of every link and action of the application
p21643
aVWhat the last part means is that if you deploy two different webapps in the same servlet container, and the same user, with the same browser, uses both applications, he will have two different sessions: one for each webapp
p21644
aVThe session of the first webapp is completely isolated from the session of the second one
p21645
as(dp21646
g23
V571407
p21647
stp21648
a((dp21649
g2
(lp21650
VCreate a , containing the replacement text for each character
p21651
aVIterate through all the chars of the input string, and append the replacement found in the map to a
p21652
aVHere's some code
p21653
aVYou just have to add additional replacements to the map:
p21654
as(dp21655
g23
V571407
p21656
stp21657
a((dp21658
g2
(lp21659
VThe jar must not be put in the project's build path
p21660
aVIt must be put in the WEB-INF/lib folder, and Eclipse will
p21661
aVput this jar in the build path automatically
p21662
aVdeploy this jar as part of the web app, where it will be in the webapp's classpath, as per the servlet specification
p21663
aVIf you put the jar in the project build path, the project will compile, but the jar won't be part of the deployed webapp
p21664
as(dp21665
g23
V571407
p21666
stp21667
a((dp21668
g2
(lp21669
VYou could do something along the lines of what SiteMesh does
p21670
aVEach  tag would just put the file to link to in a list of files, stored in a request attribute
p21671
aVA servlet filter would buffer the whole response, and rewrite it when completed with the head section rewritten to include all the links
p21672
as(dp21673
g23
V571407
p21674
stp21675
a((dp21676
g2
(lp21677
VHQL and SQL are two different languages
p21678
aVSQL uses tables and columns, and HQL uses entities, fields and associations between entities
p21679
aVRead the Hibernate reference documentation
p21680
as(dp21681
g23
V571407
p21682
stp21683
a((dp21684
g2
(lp21685
VThe images are cached by the browser automatically
p21686
aVThe size of the page increases because it contains more HTML code
p21687
aVI don't see how the size could grow exponentially
p21688
aVIt should grow linearly with the number of items
p21689
as(dp21690
g23
V571407
p21691
stp21692
a((dp21693
g2
(lp21694
VThe placeholder for year is , not
p21695
aVDon't know why it gives this result, though
p21696
as(dp21697
g23
V571407
p21698
stp21699
a((dp21700
g2
(lp21701
VThis is expected and documented behavior
p21702
aVtakes a detached (with an ID) or transient entity (without an ID), and then updates it (if it's detached) or saves it (if it's transient)
p21703
aVdoesn't know if some field has changed or not
p21704
aVIt just takes an entity and writes it to the database
p21705
aVYou could use , which fetches the entity with the given ID from the database, and then copy all the fields from the detached entity to the attached one (and then writes the entity to the database at flush time if something has changed)
p21706
aVBut this would need a select to fetch the database and be able to compare the new state with the old one
p21707
as(dp21708
g23
V571407
p21709
stp21710
a((dp21711
g2
(lp21712
VWhat's the primary key of those two tables
p21713
aVI guess id_role is the primary key for role, and id_permission is the primary key for permission
p21714
aVIf so, the join table should only contain the IDs of both tables:
p21715
as(dp21716
g23
V571407
p21717
stp21718
a((dp21719
g2
(lp21720
VIf you have a setter in your action form named
p21721
aVthen Struts will call it with an array containing all the selected values in all the select boxes named "dropDown"
p21722
aVIf you have a setter in your action form named
p21723
aVthen Struts will call it once for each select box named "dropDown[i]" where i is an integer identifying each of the rows (one index per row)
p21724
aVIf you have a setter in your action form named
p21725
aVthen Struts will call it once for each select box named "dropDown(key)" where key is the a key identifying each of your rows (one key per row)
p21726
aVSee http://struts
p21727
aVapache
p21728
aVorg/1
p21729
aVx/struts-taglib/indexedprops
p21730
aVhtml for more details
p21731
as(dp21732
g23
V571407
p21733
stp21734
a((dp21735
g2
(lp21736
VYes, the this reference escapes to the listener
p21737
aVSince this listener is not really an external class, I don't see any problem with it, though
p21738
aVHere's where you could see that this escapes:
p21739
as(dp21740
g23
V571407
p21741
stp21742
a((dp21743
g2
(lp21744
VHaving private methods call other private methods is OK
p21745
aVIf you want to improve readability, don't use prefixes like "helper_" or "operation_", which are non standard, violate naming conventions, and don't tell much about the method anyway
p21746
aVJust choose clear method names, and document them using javadoc comments
p21747
aVAny maintenance developer should know how to analyze code, and should be able to use an IDE to know where a method is called if it isn't obvious from the documentation and name of the method
p21748
as(dp21749
g23
V571407
p21750
stp21751
a((dp21752
g2
(lp21753
VStart by transforming the array into a list, and then add all the elements of this list to your linked list:
p21754
aVOr just iterate through the array yourself, and add every element:
p21755
aVwhich requires just one more line of code, is straightforward, and more efficient
p21756
aVNote that ArrayList is more efficient than LinkedList in most situations
p21757
as(dp21758
g23
V571407
p21759
stp21760
a((dp21761
g2
(lp21762
VA properties file must not be encoded in UTF-8
p21763
aVRead the Properties class documentation:
p21764
aVThe load(Reader) / store(Writer, String) methods load and store
p21765
aVproperties from and to a character based stream in a simple
p21766
aVline-oriented format specified below
p21767
aVThe load(InputStream) /
p21768
aVstore(OutputStream, String) methods work the same way as the
p21769
aVload(Reader)/store(Writer, String) pair, except the input/output
p21770
aVstream is encoded in ISO 8859-1 character encoding
p21771
aVCharacters that
p21772
aVcannot be directly represented in this encoding can be written using
p21773
aVUnicode escapes ; only a single 'u' character is allowed in an escape
p21774
aVsequence
p21775
aVThe native2ascii tool can be used to convert property files
p21776
aVto and from other character encodings
p21777
aVI'm not sure this is the cause of your exception, though
p21778
aVShow us the code you're executing and the stack trace of the exception you're getting
p21779
as(dp21780
g23
V571407
p21781
stp21782
a((dp21783
g2
(lp21784
VYou must indeed explicitely get the entity with the four unique values, and then update it if it exists or create a new one if it does not
p21785
aVThere is no way around that
p21786
aVBTW, note that even with such a mechanism, you might end up with exceptions if two transactions get the entity concurrently, find that it doesn't exist, and both try to create a new one
p21787
as(dp21788
g23
V571407
p21789
stp21790
a((dp21791
g2
(lp21792
Vif , then just substract  :
p21793
aVSimilarly, if , then just add :
p21794
aVNote that concatenating to a  in a loop is very inefficient
p21795
aVIt creates loats of temporary  and  instances
p21796
aVUse a  to append until the end, and then call  on the
p21797
aVAlso note that you can't use  if  is a
p21798
aVYou must use , or transform the  into a char array
p21799
as(dp21800
g23
V571407
p21801
stp21802
a((dp21803
g2
(lp21804
VLook at  and  in the javadoc of Query
p21805
aVNote that these are applied to the rows returned by the JDBC calls, and not to the entities returned by the query
p21806
aVIn general, that's equivalent
p21807
aVBut it's not if your query fetches a *ToMany association
p21808
as(dp21809
g23
V571407
p21810
stp21811
a((dp21812
g2
(lp21813
VThat's expected behaviour
p21814
aVA HTML form sends all the fields, and the PHP script is supposed to validate everything
p21815
aVIf some value is blank, then just ignore it:
p21816
aVIf it's blank and is required, then display an error message
p21817
aVThe only field values that are not sent are the values of unchecked checboxes and unchecked radio buttons
p21818
as(dp21819
g23
V571407
p21820
stp21821
a((dp21822
g2
(lp21823
VFirst, you have to decide what makes a route distinct from another one
p21824
aVDifferent ID
p21825
aVDifferent ID-Source-Destination
p21826
aVThen, implement  and  on your  object
p21827
aVThe IDEs generally have an option to generate these methods by choosing which fields must be part of the computation
p21828
aVAnd finally, use a  to store the routes, instead of a
p21829
aVYou may choose  as implementation if you want to preserve insertion order
p21830
aVA Set is a collection that doesn't store duplicates, so it satisfies your need
p21831
aVThe JSTL code will stay identical
p21832
as(dp21833
g23
V571407
p21834
stp21835
a((dp21836
g2
(lp21837
VYour code is OK, but not very object-oriented
p21838
aVI would probably use some kind of Drawer interface, and pass the appropriate implementation, rather than an int, to the draw_graph method (which I would rename drawGraph to respect naming conventions):
p21839
aVIf all the drawers share some code, then make them all extend a base AbstractDrawer class
p21840
as(dp21841
g23
V571407
p21842
stp21843
a((dp21844
g2
(lp21845
VUse a BorderLayout for the frame's content pane, and use a GridLayout with 1 row and four columns for the title panel
p21846
aVSee http://docs
p21847
aVoracle
p21848
aVcom/javase/tutorial/uiswing/layout/border
p21849
aVhtml and http://docs
p21850
aVoracle
p21851
aVcom/javase/tutorial/uiswing/layout/grid
p21852
aVhtml for tutorials
p21853
aVIf you don't want the same width assigned to each label, but in fact want the same space between every label, you may also use a BoxLayout, and add a glue between each label (and between the border of the panel and the label:
p21854
as(dp21855
g23
V571407
p21856
stp21857
a((dp21858
g2
(lp21859
VTo debug your code, use a debugger
p21860
aVEvery IDE has one
p21861
aVThe JVM arguments in the question you linked to are used to be able to start an application from outside the IDE, possibly on a different host, and remotely debug this application from within the IDE
p21862
aVFrom your question, I don't think you need this
p21863
aVYou just have to run your application in debug mode from the IDE
p21864
aVNote that a NullPointerException rarely needs any debugging: its stack trace tells you exactly at which line it occurs, and the cause is usually that you're calling a method on a null object
p21865
as(dp21866
g23
V571407
p21867
stp21868
a((dp21869
g2
(lp21870
VIf a constant has a variable value, it's not a constant anymore
p21871
aVStatic fields and methods are not polymorphic
p21872
aVYou need to use a public method to do what you want
p21873
as(dp21874
g23
V571407
p21875
stp21876
a((dp21877
g2
(lp21878
VWhy would the code be expensive
p21879
aVCreating temporary objects in Java is not expensive anymore, due to generational GC
p21880
aVAnd a File is just an object encapsulating a path to the file system
p21881
aVIt's not expensive to create one
p21882
as(dp21883
g23
V571407
p21884
stp21885
a((dp21886
g2
(lp21887
VIt could be an encoding issue when reading/writing the text to the file system
p21888
aVBut I doubt you have a database problem, because the JDBC driver takes care of encoding/decoding based on the column definition
p21889
aVYou might have problems if you try to store "special" characters in a column which has an encoding which does not support these "special" characters
p21890
aVASCII and ISO-8859-1 don't support the whole unicode character set, for example
p21891
aVUTF-8 supports everything
p21892
aVWhat bothers me the most is that you're storing pdf, docx and doc files in a CLOB
p21893
aVThose file formats are binary formats, and not text formats
p21894
aVYou should use a BLOB to store them
p21895
as(dp21896
g23
V571407
p21897
stp21898
a((dp21899
g2
(lp21900
VYes, you just have to use the  attribute of the  annotation:
p21901
as(dp21902
g23
V571407
p21903
stp21904
a((dp21905
g2
(lp21906
VIf I understand correctly, you're wondering why the "New Dynamic Web Project" wizard in Eclipse doesn't create a web
p21907
aVxml file automatically, and why the "New Servlet" wizard doesn't add entries to the web
p21908
aVxml
p21909
aVMy guess is that you chose version 3
p21910
aV0 as dynamic web module version when creating the dynamic web project, and this means that you're targetting version 3
p21911
aV0 of the servlet specification
p21912
aVIn this version, the web
p21913
aVxml file is optional, because most of its content can be replaced by annotations put directly into the Java classes
p21914
aVSo either use annotations, or choose a previous version of the spec, or maintaing the web
p21915
aVxml file by yourself
p21916
as(dp21917
g23
V571407
p21918
stp21919
a((dp21920
g2
(lp21921
VThat's the model of Subversion: you make some development locally, test that everything is OK, and if ready, commit multiple changes at once in the repository
p21922
aVIf the modification is important and takes a long time, then you should split it in several short modifications, and commit those short modifications as soon as possible
p21923
aVIf you don't want other developers on the trunk to see these modifications until everything is done, then create a feature branch, commit regularly in this feature branch, and then reintegrate the feature branch into the trunk
p21924
aVThis is well described in the SVN book
p21925
as(dp21926
g23
V571407
p21927
stp21928
a((dp21929
g2
(lp21930
VIt's not working only because the method is protected
p21931
aVOnce you override it, it works because you make the overriding method public
p21932
aVJust make the base methods public and (almost) everything will be OK
p21933
aVOnce the form is submitted, the  method should be called
p21934
aVThe problem is that Struts is not able to magically transform the  parameter it receives in the request into a  instance
p21935
aVYour getter and setter for the  property should use  rather than
p21936
as(dp21937
g23
V571407
p21938
stp21939
a((dp21940
g2
(lp21941
VEach  method of the  returns a , which is not necessarily the chain on which compare is invoked
p21942
aVThe first snippet doesn't ignore the result (and is thus correct), but the second one ignores the result, and is thus incorrect
p21943
aVIt would be correct if it did:
p21944
aVSee http://docs
p21945
aVguava-libraries
p21946
aVgooglecode
p21947
aVcom/git-history/v10
p21948
ag2332
aV1/javadoc/src-html/com/google/common/collect/ComparisonChain
p21949
aVhtml#line
p21950
aV89 for the source code
p21951
as(dp21952
g23
V571407
p21953
stp21954
a((dp21955
g2
(lp21956
VStore the month names in a , and use  to find its index (number starting from 0), and  to get the name of a given month number (still starting from 0)
p21957
as(dp21958
g23
V571407
p21959
stp21960
a((dp21961
g2
(lp21962
VSearch for the products with the given name, order the results by insertion date (a column that must be present in the Product entity) of by ID (if using a sequence number as ID), in descending order, and call  on the query to limit it to 100 results:
p21963
as(dp21964
g23
V571407
p21965
stp21966
a((dp21967
g2
(lp21968
VIt's not a direct answer to your question, but your test is difficult to write because your service class is mixing business code with data access code
p21969
aVThe  call should be encapsulated into a higher-level method of  like
p21970
aVYou would just have to mock this simple method in your test, and make an actual repository unit test, which tests that the  works as expected on a test database
p21971
aVIf you UserRepository only expose such generic methods such as  or , then it's not really a repository anymore, since the creation of the criteria or the query is of the responsibility of the caller, and not of the repository
p21972
aVDoing that doesn't add much more than using the Hibernate session directly in the business service
p21973
as(dp21974
g23
V571407
p21975
stp21976
a((dp21977
g2
(lp21978
VThe JTable shoud use a custom table model, extending
p21979
aVIts  method should be implemented so that each time a new value is set in the boolean column of a given row, the value of the number column of the same row is incremented
p21980
aVSee http://docs
p21981
aVoracle
p21982
aVcom/javase/tutorial/uiswing/components/table
p21983
aVhtml#data for how to implement a table model
p21984
as(dp21985
g23
V571407
p21986
stp21987
a((dp21988
g2
(lp21989
VThis looks like Guava's , except a Function is allowed returning something
p21990
aVIt thus looks like a
p21991
aVNot part of the JDK, but Guava is so commonly used now that you might find it handy
p21992
as(dp21993
g23
V571407
p21994
stp21995
a((dp21996
g2
(lp21997
VThe  tag will make the option with the same value as its property attribute value selected automatically
p21998
aVSo, in your code, the zone information with the value  will be selected
p21999
aVThis means that if you want some option selected, its value should be equal to the  property of the form bean
p22000
aVAnd please, don't use scriptlets
p22001
aVUse the JSTL and the EL
p22002
as(dp22003
g23
V571407
p22004
stp22005
a((dp22006
g2
(lp22007
VYou'll have to implement an authentication mechanism, and to serve those files through a server-side application (in PHP, Java or whatever), that checks if the authenticated user has the right to access a resource, then reads the resource from the disk and writes it to the HTTP response
p22008
aVThe documents should be placed in a location that is not directly accessible through HTTP
p22009
as(dp22010
g23
V571407
p22011
stp22012
a((dp22013
g2
(lp22014
Vcan one thread call add while another is calling makeSnapshot
p22015
aVYes
p22016
aVmakes sure that any other thread can't enter another block of code which is also synchronized, on the same object (the , in this case)
p22017
aVSince you have not synchronized the add method, several threads can call  concurrently, even if one thread is executing
p22018
aVBy removing the synchronized on the add method, you've made the code non-threadsafe, since  is not thread-safe
p22019
aVThe rule of thumb is: every access (read or write) to a shared mutable state must be synchronized on the same lock
p22020
as(dp22021
g23
V571407
p22022
stp22023
a((dp22024
g2
(lp22025
VPoll the server to get the latest generated files (or the complete list of generated files) every n seconds, and stop the polling once the list is complete, or once the first ajax query (the one which starts the generation process) has completed
p22026
aVThe thread which generates the file should make the list of generated files available in a shared, thread-safe, data-structure
p22027
as(dp22028
g23
V571407
p22029
stp22030
a((dp22031
g2
(lp22032
VStart the perl script from the shell script
p22033
as(dp22034
g23
V571407
p22035
stp22036
a((dp22037
g2
(lp22038
VAlthough I agree that this was a bad idea of the developer, bad revisions in a SVN repo (revisions that make the build fail, that make the unit tests fail, etc
p22039
aVare common, and expected
p22040
aVThat's why we use continuous integration
p22041
aVI don't see any reason why any developer would randomly choose one of the bad revisions to start a branch
p22042
aVThey will certainly branch from the head of the trunk (for a feature branch), or from a tagged revision (for a maintenance branch)
p22043
aVIf you want to make sure only good revisions go to the repo, you should probably have two repos: one for actual development, and another one which aggregates several revisions from the dev repo, and to which changes are committed only when they are verified
p22044
aVBut I don't see any good reason to do that
p22045
as(dp22046
g23
V571407
p22047
stp22048
a((dp22049
g2
(lp22050
VThe point of Hibernate is not to create database tables, but to use them
p22051
aVYou may ask Hibernate to create the schema for you in development, but that should be used only for quick prototyping, and certaily not on a production database
p22052
aVSee http://docs
p22053
aVjboss
p22054
aVorg/hibernate/core/3
p22055
aV6/reference/en-US/html_single/#configuration-misc-properties
p22056
aVYou must use the  property to tell Hibernate to create or update database tables when the session factory is created
p22057
as(dp22058
g23
V571407
p22059
stp22060
a((dp22061
g2
(lp22062
VThe commented code is the only way to do that
p22063
aVBut this is a symptom that your design is incorrect
p22064
aVRather than having 30 properties of type , you should certainly have one property of type  or
p22065
aVThen you could do:
p22066
as(dp22067
g23
V571407
p22068
stp22069
a((dp22070
g2
(lp22071
VYou just have to understand how relative paths work
p22072
aVEven if the path is in a JavaScript file, the path is not relative to the location of this JS file, but it's relative to the URL of the HTML page being displayed in the browser
p22073
aVSo, if the URL of the page executing this javascript code is
p22074
aVand the URL of the image is
p22075
aVThe absolute URL of the image will be
p22076
aVwhich is the same as
p22077
aVAn absolute path like  is also resolved from the root of the web server, and not the root of the webapp (the browser doesn't know what a Java webapp is and doesn't care)
p22078
aVSo it's resolved as
p22079
aVYou would need to prepend the context path to the path to make it really absolute:
p22080
aVor, without scriptlets:
p22081
as(dp22082
g23
V571407
p22083
stp22084
a((dp22085
g2
(lp22086
VThe whole point of a protected method is to make it inaccessible from the outside, and making methods protected is often some important point of a design pattern
p22087
aVYou want to break the encapsulation of the classes, and there is no design pattern that will help you do that
p22088
aVOnly dirty reflection calls
p22089
as(dp22090
g23
V571407
p22091
stp22092
a((dp22093
g2
(lp22094
Vis what's documented for 3
p22095
ag2332
aVx
p22096
aVFor 2
p22097
ag2332
aVx, what's documented is
p22098
as(dp22099
g23
V571407
p22100
stp22101
a((dp22102
g2
(lp22103
VYes, it's true, if the exception is a runtime exception
p22104
aVChecked exceptions don't cause a transaction rollback
p22105
aVTo avoid it, just make sure that the code in  doesn't throw any runtime exception
p22106
aVA runtime exception normally indicates a bug, or a state which doesn't allow for continuing the work
p22107
as(dp22108
g23
V571407
p22109
stp22110
a((dp22111
g2
(lp22112
VNot tested, but I guess this should be OK:
p22113
as(dp22114
g23
V571407
p22115
stp22116
a((dp22117
g2
(lp22118
VI think that the problem is that the JList is the component which receives the mouse event
p22119
aVI'm not sure this is the best way to deal with the problem, but couldn't you add the same mouse listener to the JList as well
p22120
as(dp22121
g23
V571407
p22122
stp22123
a((dp22124
g2
(lp22125
VYou're storing a unique datasource (and connection, and dbMainConnection) in a static variable of your class
p22126
aVEach time someone asks for a datasource, you replace the previous one by the new one
p22127
aVIf an exception occurs while getting a datasource from JNDI, the static datasource stays as it is
p22128
aVYou should not store anything in a static variable
p22129
aVSince your dbMainConnection class is constructed with the name of a database, and there are several database names, it makes no sense to make it a singleton
p22130
aVJust use the following code to access the datasource:
p22131
aVAnd let the callers get a connection from the datasource and close it when they have finished using it
p22132
as(dp22133
g23
V571407
p22134
stp22135
a((dp22136
g2
(lp22137
VWhat's the point of the line
p22138
aVYou're transforming chinese (or at least non-occidental) characters into bytes using the ISO-8859-1 encoding
p22139
aVOf course this can't work, since chinese characters are not supported by the ISO-8859-1 encoding
p22140
aVANd then you're constructing a new String from bytes that are supposed to represent ISO-8859-1-encoded characters, using the UTF-8 encoding
p22141
aVThis, once again, doesn't make any sense
p22142
aVUTF-8 and ISO-8859-1 are not the same thing, and only a small set of chars have the same encoding in both formats
p22143
aVJust use
p22144
aVand everything should be OK, provided that the column in the MySQL table uses an encoding that supports these characters
p22145
aVEDIT:
p22146
aVnow that you've shown us the code used to insert the data in database, I know where all this comes from (the preceding points are still valid, though)
p22147
aVYou're doing
p22148
aVWhat's the point
p22149
aVis used to take a String and escape special characters in order to make it a valid Java String literal
p22150
aVIt has nothing to do with SQL
p22151
aVUse a prepared statement:
p22152
aVThe PreparedStatement will take care of escaping special SQL characters correctly
p22153
aVThey're the best tool agains SQL injection attack, and should always be used when a query has parameters, especially if the parameters come from the end user
p22154
aVSee http://docs
p22155
aVoracle
p22156
aVcom/javase/tutorial/jdbc/basics/prepared
p22157
aVhtml
p22158
as(dp22159
g23
V571407
p22160
stp22161
a((dp22162
g2
(lp22163
VWell, you described the problem correctly
p22164
aVIt's just a tradeoff between simplicity (just one method) and performance (two methods, each returning exactly what is needed)
p22165
aVIf the response time is correct by just using the single method and lazy-loading the Bs, then don't touch anything
p22166
aVIf the response time is too long, and you have measured that eager-loading it would make it correct, then introduce a new method
p22167
aVKeep things simple, and optimize only if needed
p22168
aVLazy-loading associations is fast, because it just make a query on a foreign key, whcih should be indexed in the database
p22169
aVAlso not that loading two toMany associations is pretty rare: it's common to show all the products of a category on a page, but it's uncommon to show all the puchases of all the products of a category
p22170
as(dp22171
g23
V571407
p22172
stp22173
a((dp22174
g2
(lp22175
VThe call to  is unnecessary
p22176
aVpersist is used to make a transient entity persistent and managed, and your entity is already persistent and managed
p22177
aVI don't really see the point of an update which would set all the columns of a row to their current value
p22178
aVBut if you really want to trigger such an unnecessary update, consider adding a dummy  persistent field and incrementing it
p22179
aVEclipseLink will detect a change from its cached value, and will trigger an update
p22180
as(dp22181
g23
V571407
p22182
stp22183
a((dp22184
g2
(lp22185
VA resource and a file are two different things
p22186
aVA resource is loaded from the class loader, and is found in the classpath
p22187
aVIt could be loaded from the file system, or from a jar, or from a socket (or from any other location, depending on the class loader)
p22188
aVWriting to a resource doesn't make sense
p22189
aVIf you want to read and write from/to a file, don't use a resource
p22190
aVUse file streams or reader/writer
p22191
as(dp22192
g23
V571407
p22193
stp22194
a((dp22195
g2
(lp22196
VTable models are already observable: you may add a TableModelListener to them and thus be called whenever a change occurs in the table model
p22197
aVSo, the second model could be a listener for the first one, and vice-versa
p22198
aVI usually don't use a DefaultTableModel, because it requires me to transform all my domain objects into arrays
p22199
aVI usually just write an AbstractTableModel subclass that wraps a list of domain objects
p22200
aVGetting the value of a cell generally consists in getting the object model at the given row (index) in the list, and then call the appropriate getter on the object, depending on the column
p22201
aVSetting a value consists in calling the appropriate setter on the object, and firing an event
p22202
aVSee http://docs
p22203
aVoracle
p22204
aVcom/javase/tutorial/uiswing/components/table
p22205
aVhtml#data for a tutorial on table models
p22206
as(dp22207
g23
V571407
p22208
stp22209
a((dp22210
g2
(lp22211
VTwo-phase commit and XA are more or less synonyms
p22212
aVThey ensure that the ACIDity of a transaction is preserved even if this transaction involves several transactional systems such as, for example
p22213
aVtwo databases
p22214
aVa database and a JMS engine
p22215
aVTo be able to participate in such a global transaction, each datasource must collaborate with the XA transaction manager, and must thus implement the XA protocol
p22216
aVIf you need two-phase commit, you thus need an XA datasource
p22217
as(dp22218
g23
V571407
p22219
stp22220
a((dp22221
g2
(lp22222
VHibernate is a JPA implementation
p22223
aVJust use it using the JPA API only, and you'll be free of Hibernate-specific code
p22224
aVEven when using the Hibernate API directly, lazy-loading is configured using JPA annotations
p22225
aVYou don't need any Hibernate-specific annotation to use lazy-loading with Hibernate
p22226
aVThe OpenSessionInView filter/interceptor isn't directly linked to lazy-loading
p22227
aVIt just allows letting the session open even after the transaction has ended
p22228
aVAnyway, this filter/interceptor does not force you to have any Hibernate-specific code in your own classes, so I don't really understand where the problem is
p22229
aVNote that Spring supports JPA as well (and Hibernate is a JPA engine), and has OpenEntityManagerInViewFilter/Interceptor, which play the same role as the OpenSessionInViewFilter/interceptor, but for JPA
p22230
as(dp22231
g23
V571407
p22232
stp22233
a((dp22234
g2
(lp22235
VThe first one will not suffer from creation of Strings
p22236
aVAs everything is static, a single StringBuilder is created, all the parts are appended, and then toString is called
p22237
aVIt will be slightly more efficient than the second one, which has to parse the format string
p22238
aVBut this is probably not where you will lose or gain much performance
p22239
aVString concatenation creates lots of temporary objects when you're doing it in a loop:
p22240
aVThis will create a StringBuilder and a String object at each iteration
p22241
as(dp22242
g23
V571407
p22243
stp22244
a((dp22245
g2
(lp22246
VThe current element of the list is available through the page context attribute "foobar" if the  tag has the attribute  (or )
p22247
aVSee http://www
p22248
aVdisplaytag
p22249
aVorg/1
p22250
aV2/displaytag/tagreference
p22251
aVhtml
p22252
as(dp22253
g23
V571407
p22254
stp22255
a((dp22256
g2
(lp22257
VA  array is a subclass of , and you may the cast  to
p22258
aVBut the reverse is false: you can't cast an  to  because  is not a subclass of
p22259
aVI think your question boils down to How to create an array of a generic type
p22260
as(dp22261
g23
V571407
p22262
stp22263
a((dp22264
g2
(lp22265
VYour method is completely stateless (at least the part you shown us), so calling it from different threads is OK as soon as its arguments may be used from multiple threads
p22266
aVThe documentation of DataInputStream says:
p22267
aVDataInputStream is not necessarily safe for multithreaded access
p22268
aVSo, if both threads use different DataInputStream instances, you'll be fine
p22269
aVIf they use the same one, then you'll have problems: you'll need to synchronize the access to the stream yourself
p22270
as(dp22271
g23
V571407
p22272
stp22273
a((dp22274
g2
(lp22275
VThey make a snapshot of the loaded entities at load time, keep these snapshots in memory, and compare, at flush time, the snapshot of the entities with their current state
p22276
aVIf the state differs, the entity must be updated
p22277
aVIf they still match, it must not
p22278
as(dp22279
g23
V571407
p22280
stp22281
a((dp22282
g2
(lp22283
Vis a relative path
p22284
aVIf you're on the page http://localhost/myWebApp/foo/bar
p22285
aVhtml, it will resolve to
p22286
aVis a path which is absolute to the web server
p22287
aVWherever you are, it resolves to
p22288
aVYou thus need to prepend the web app's context path to the absolute path
p22289
aVUse
p22290
aVor
p22291
aVas you should do for all the URLs in the webapp
p22292
as(dp22293
g23
V571407
p22294
stp22295
a((dp22296
g2
(lp22297
VNo
p22298
aVIf  is installed on the server and used to access the repo, the URL should look like
p22299
aVSVN is often accessed through HTTP, though
p22300
aVAre you sure you installed and configured svnserve
p22301
aVSee http://tortoisesvn
p22302
aVnet/docs/nightly/TortoiseSVN_en/tsvn-serversetup-svnserve
p22303
aVhtml for installation instructions
p22304
aVDid you follow these steps
p22305
as(dp22306
g23
V571407
p22307
stp22308
a((dp22309
g2
(lp22310
VJust append the paths of the files to commit to the svn commit command:
p22311
aVSee http://svnbook
p22312
aVred-bean
p22313
aVcom/en/1
p22314
aV7/svn
p22315
aVref
p22316
aVsvn
p22317
ag18654
aVcommit
p22318
aVhtml
p22319
as(dp22320
g23
V571407
p22321
stp22322
a((dp22323
g2
(lp22324
VFirst rule: avoid scriptlets
p22325
aVThe fact that you have no other solution than scriptlets shows a design problem
p22326
aVThe controller should prepare the model for the view
p22327
aVThe view should not call DAOs directly
p22328
aVThat's the responsibility of the controller
p22329
aVNow, storing the user in the session or loading it at each request (from the controller) is a matter of performance and stale data
p22330
aVIf the user only contains data that won't change through the whole session (or that could change, but only from this session, allowing to refresh the data when needed), then store it in the session
p22331
aVThat's its goal: store data that have a session scope
p22332
aVIf there might be some external session or process modifying the data of the user, and you want to make sure you always display the freshest data, then reload it at every request
p22333
as(dp22334
g23
V571407
p22335
stp22336
a((dp22337
g2
(lp22338
VYou don't need any cascade in the case you describe, and persisting the user is sufficient:
p22339
aVsince the computer has been loaded using the EM, it's attached to the EM
p22340
aVAny change done on the computer will be automatically saved to the database without any operation needed
p22341
aVthe user is a new entity, which is not persistent yet
p22342
aVTo make it persistent, you must call
p22343
aVAfter this call, it will be attached to the EM, and any change done on the user will also be automatically saved to the database without any operation needed
p22344
aVThe error "detached entity passed to persist" could happen if you created a new computer, then a new user, set the computer to the user, and persist the user
p22345
aVIn this case, the EM complaions because you try to make persistent en entity (user) which refers to another entity (computer) which is not persistent
p22346
aVThere are two solutions:
p22347
aVmake the computer persistent before making the user persistent, by calling  with the computer
p22348
aVannotate the  association with cascade=PERSIST or cascade=ALL, so that the computer is made persistent autoamatically when the user is made persistent
p22349
aVNote that ALL also includes REMOVE
p22350
aVSo if you remove a user, its computer will also be removed
p22351
as(dp22352
g23
V571407
p22353
stp22354
a((dp22355
g2
(lp22356
VAfter reintegration, the branch and the trunk should be identical (let's say the head revision is at 100)
p22357
aVSo, you could just commit your changes in the feature branch (creating rev 101), and merge to the trunk the feature branch from 100 (exclusive) to 101 (inclusive)
p22358
aVThen delete the feature branch
p22359
as(dp22360
g23
V571407
p22361
stp22362
a((dp22363
g2
(lp22364
VThe  method doesn't do what you thiks it does
p22365
aVIt only makes sense if your query aggregates several rows using an aggregation function (sum, count, etc
p22366
aV, and applies a  clause to the query
p22367
aVWhat you need is pure Java code:
p22368
as(dp22369
g23
V571407
p22370
stp22371
a((dp22372
g2
(lp22373
VThe web service class itself is never serialized
p22374
aVThe data objects that are returned by the web service methods, as well as their arguments, are serialized
p22375
aVThey should contain information needed by the recipient of the object
p22376
aVIf some information is not needed by the recipient, and if the object will not cause exceptions with this information set to null, then you can mark it as transient
p22377
aVBut if it's not needed by the recipient, it should probably not be part of the object in the first place
p22378
aVIf you're using a logger inside the DTO, then this logger should definitely not be serialized
p22379
aVBut make sure to check that the logger is not null each time you're using it, then
p22380
as(dp22381
g23
V571407
p22382
stp22383
a((dp22384
g2
(lp22385
VI'm assuming that you're talking about HttpSession
p22386
aVCreate a mock session, tell the mock session to always return this object when its getAttribute method is called with the name used by the object under test, and pass this mock session rather than a real one to the object under test
p22387
aVMocking APIs such as Mockito or EasyMock will help doing that
p22388
aVEDIT: Suppose the method you want to test looks like this:
p22389
aVYou could refactor it like this:
p22390
aVAnd you could then use a mocking framework to do something like this (pseudo-code):
p22391
as(dp22392
g23
V571407
p22393
stp22394
a((dp22395
g2
(lp22396
VSee http://ant
p22397
aVapache
p22398
aVorg/manual/using
p22399
aVhtml#references:
p22400
aVAny project element can be assigned an identifier using its id
p22401
aVattribute
p22402
aVIn most cases the element can subsequently be referenced by
p22403
aVspecifying the refid attribute on an element of the same type
p22404
aVThis
p22405
aVcan be useful if you are going to replicate the same snippet of XML
p22406
aVover and over again
p22407
as(dp22408
g23
V571407
p22409
stp22410
a((dp22411
g2
(lp22412
VThe second one doesn't compile
p22413
aVIf you meant
p22414
aVThen they're equivalent
p22415
as(dp22416
g23
V571407
p22417
stp22418
a((dp22419
g2
(lp22420
VIf you're talking about static queries using dynamic arguments, the syntax is
p22421
aVor, with named parameters
p22422
aVIf you're talking about completely dynamically created queries based on a set of criteria, then the API to use is
p22423
aVthe Criteria API
p22424
aVBoth are largely covered in the Hibernate reference documentation
p22425
as(dp22426
g23
V571407
p22427
stp22428
a((dp22429
g2
(lp22430
VNot sure how it compares to Versions, but I've always found TortoiseSVN to be really good
p22431
as(dp22432
g23
V571407
p22433
stp22434
a((dp22435
g2
(lp22436
VYou seem to be storing source files in the bin directory of your Eclipse project, which is probably the target directory used by Eclipse to put the compiled classes
p22437
aVStore your sources in the source folder
p22438
aVThe target folder is completeley deleted by Eclipse each time the project is cleaned up
p22439
aVNote that non
p22440
aVjava files stored in the source directory are automatically copied to the target directory by Eclipse
p22441
aVThey're considered as resources that must be available at runtime in the compiled application
p22442
as(dp22443
g23
V571407
p22444
stp22445
a((dp22446
g2
(lp22447
VI don't think it's possible, because Hibernate doesn't know what the getId() method does: it might just return the ID (which is probably the case in 99% of the cases), but it could also transform it, has some side effects, log some message somewhere, whatever
p22448
aVI'm not absolutely sure, but I think you might map the B_ID column in table A as a basic column (in addition to its mapping as a join column), provided you mark the column as non-insertable and non-updatable
p22449
aVIf I'm correct, you could just call a
p22450
aVgetBId() to get the ID of B without lazy-loading B
p22451
as(dp22452
g23
V571407
p22453
stp22454
a((dp22455
g2
(lp22456
VWhat you probably want is a generic interface :
p22457
as(dp22458
g23
V571407
p22459
stp22460
a((dp22461
g2
(lp22462
VThe default keyboard shortcut to format code is Ctrl-Shift-F
p22463
aVFor preferences regarding content assist, look at Window - Preferences - Java - Editor - Content assist
p22464
aVThe popup may appear automatically, or may appear by typing Ctrl - space
p22465
aVYou probably don't see anything appearing because the code isn't valid
p22466
aVMake sure to import the Vehicle class (Ctrl - Shift - O)
p22467
as(dp22468
g23
V571407
p22469
stp22470
a((dp22471
g2
(lp22472
VMake the JSP page do the same thing as the android app (posting as JSON) using JavaScript, or implement a second method in your Spring controller (userLogin2), mapped to a different URL, and use this URL in your JSP
p22473
as(dp22474
g23
V571407
p22475
stp22476
a((dp22477
g2
(lp22478
VI don't see the point
p22479
aVIf I understand correctly
p22480
aVthe remote client still has to have Hibernate jars in its classpath,
p22481
aVall this does is to recursively initialize all the toOne associations of the entity
p22482
aVSo, you'll probably still have lazy loading exceptions because of uninitialized proxies in the collections
p22483
aVYou'll probably transfer more data than necessary to the remote client, which probably doesn't need all the toOne associations and all the collections initialized
p22484
aVDoing that will of course generate a whole lot of additional queries to the database
p22485
aVMy point of view is that
p22486
aVeither the client is tightly coupled to the server, may be dependent on Hibernate, and uses detached Hibernate entities
p22487
aVAnd you should only initialize what the client needs to be initialized
p22488
aVor the client ios loosely coupled and may not be dependent on Hibernate, and you should then transfer common DTOs, and transform your entities into DTOs
p22489
as(dp22490
g23
V571407
p22491
stp22492
a((dp22493
g2
(lp22494
VYour question is not clear
p22495
aVdoes not contain a
p22496
aVIt contains a
p22497
aVSo the last code snippet doesn't make much sense
p22498
aVMoreover, the  attribute on  is incorrect, and unnecessary
p22499
aVinclude , so it's also unnecessary
p22500
aVBut to answer your question, I think the problem is that deleting  cascades to  because the association has a cascade delete, but there is no cascade delete between SuperMini2 and Mini2, so of course, Mini2 instances are not deleted
p22501
aVEDIT:
p22502
aVThe answer is that the OP, before editing the question, removed all the entities from the collection of SuperMini before deleting the Super entity
p22503
aVSo the cascade delete on the collection of Supermini didn't have anything to delete anymore
p22504
as(dp22505
g23
V571407
p22506
stp22507
a((dp22508
g2
(lp22509
VUnfortunately, The Criteria only allows selecting the root entity, and not any joined entity
p22510
aVIt would thus be easier if your ManyToMany was bidirectional
p22511
aVYou could the use the criteria equivalent of
p22512
aVIf that's not an option, I think the only way is to use a subquery, and thus code the criteria equivalent to
p22513
aVThe code would thus look like this:
p22514
as(dp22515
g23
V571407
p22516
stp22517
a((dp22518
g2
(lp22519
VThe right thing to do would be to use a query parameter:
p22520
aVRather than creating your query dynamically be concatenating query parts, you should also use the Criteria API, which has been designed with this goal in mind
p22521
as(dp22522
g23
V571407
p22523
stp22524
a((dp22525
g2
(lp22526
VHtmlUnit is a web browser
p22527
aVWhy would Google care that you enable or disable CSS in your web browser
p22528
aVEnabling CSS in HtmlUnit doesn't change anything to what a web server serves
p22529
as(dp22530
g23
V571407
p22531
stp22532
a((dp22533
g2
(lp22534
VThe standard classloader can't find class files inside a jar that is itself inside a jar
p22535
aVYou must add every jar to the classpath, and not nest jars
p22536
aVBTW, it would probably be a bad idea to allow nesting jars: you would end up with 6 or seven versions of commons-lang or log4j into every project, because many libraries depend on them
p22537
as(dp22538
g23
V571407
p22539
stp22540
a((dp22541
g2
(lp22542
V ensures that a thread reading the variable will see the new value set in this variable before by another thread
p22543
aVIt won't see a stale value stored in a processor cache
p22544
aVWhether it makes the whole program thread-safe depends on what the program does, how it uses the variable, and how the Foo class is designed
p22545
as(dp22546
g23
V571407
p22547
stp22548
a((dp22549
g2
(lp22550
VFor this to work, the resources folder should be in the same folder as the folder corresponding to the package of
p22551
aVTo start from the root of the classpath, use
p22552
aV(with a leading )
p22553
as(dp22554
g23
V571407
p22555
stp22556
a((dp22557
g2
(lp22558
VSince ${questionAnswer
p22559
aVvalue} is put inside a JavaScript String literal, you need to escape it as you would do if you wanted a newline in a JavaScript literal: the lines Hello and World must be written as 'Hello\u005cnWorld'
p22560
aVLook at commons-lang StringEscapeUtils escapeECMAScript method
p22561
aVIn iddition to escaping the newlines, it will also escape tabs, apostrophes, etc
p22562
aVMake this method an EL method, and use it directly into your JSP:
p22563
aVYou might also generate the text areas statically instead of generating them using JavaScript:
p22564
as(dp22565
g23
V571407
p22566
stp22567
a((dp22568
g2
(lp22569
VFrom http://checkstyle
p22570
aVsourceforge
p22571
aVnet/anttask
p22572
aVhtml:
p22573
aVThis task supports the nested elements fileset, classpath,
p22574
aVformatter, and property
p22575
aVThe parameters for the formatter element are:
p22576
aVtype
p22577
aVThe type of output to generate
p22578
aVThe valid values are:
p22579
aVDefaults to "plain"
p22580
aVNo
p22581
aVtoFile    The file to write output to
p22582
aVDefaults
p22583
aVto standard output
p22584
aVNote, there is no way to explicitly specify
p22585
aVstandard output
p22586
as(dp22587
g23
V571407
p22588
stp22589
a((dp22590
g2
(lp22591
VUse concatenation :
p22592
aVAnd make sure to validate and properly escape your post attributes to avoid SQL injection
p22593
aVOr even better: use prepared statements to be sure
p22594
aVSee http://php
p22595
aVnet/manual/fr/mysqli
p22596
aVprepare
p22597
aVphp
p22598
as(dp22599
g23
V571407
p22600
stp22601
a((dp22602
g2
(lp22603
VNo, it's not (and it's a good thing
p22604
aVBTW, it would only make sense for a one-to-one, mandatory association
p22605
aVAnd you would have to fill the profile with all its mandatory values before saving the user anyway
p22606
aVWhat's so difficult about
p22607
aVIf you want to do that, you can create the profile in the constructor of User, and set a cascade so that the profile is saved when the user is
p22608
as(dp22609
g23
V571407
p22610
stp22611
a((dp22612
g2
(lp22613
VYou could just create a PDF file, and opening it with the Desktop class
p22614
aVThe user's preferred PDF viewer would open the manual
p22615
aVOr you could host the manual in HTML format on a publicly available web site, and use the same class to browse to the appropriate URI (which would have the advantage of being able to have a more contextual help, by linking to an appropriate URL)
p22616
as(dp22617
g23
V571407
p22618
stp22619
a((dp22620
g2
(lp22621
VYes
p22622
aVUse a wrapper around the actual driver like P6Spy
p22623
aVThere are probably other tools in the same league
p22624
aVEDIT: P6Spy seems to be dead
p22625
aVBut I also found JDBCGrabber
p22626
as(dp22627
g23
V571407
p22628
stp22629
a((dp22630
g2
(lp22631
VYou seem to have a many-to-many association:
p22632
aVa user has several actions
p22633
aVan action can be done by several users
p22634
aVmany to many associations, as all the other kinds of associations, are described in the reference documentation:
p22635
aVhttp://docs
p22636
aVjboss
p22637
aVorg/hibernate/core/3
p22638
aV6/reference/en-US/html_single/#assoc-unidirectional-join-m2m
p22639
aVhttp://docs
p22640
aVjboss
p22641
aVorg/hibernate/core/3
p22642
aV6/reference/en-US/html_single/#assoc-bidirectional-join-m2m
p22643
aVI personally find annotations much more easy and developer-friendly than XML files
p22644
aVConsider using annotations rather than XML
p22645
aVMoreover, annotations are standard JPA annotations, and are the same for all the JPA implementations
p22646
aVThey're a good thing to know
p22647
as(dp22648
g23
V571407
p22649
stp22650
a((dp22651
g2
(lp22652
VThe same listener can be added to several components, and the component triggering the event is available using the event's  or  method
p22653
aVNo need to guess based on the point location
p22654
as(dp22655
g23
V571407
p22656
stp22657
a((dp22658
g2
(lp22659
VI think it should return the right subclass instance if this user is not yet loaded as a User (due to a previously loaded association, for example)
p22660
aVIf not, then you have no way of letting it return an actual Doctor instance
p22661
aVSo you should either call a polymorphic method of User, or using proprietary Hibernate code to check if it's a proxy, initialize it and get the wrapped object
p22662
aVIf you know in advance that it's a Doctor, then use "from Doctor" rather than "from User"
p22663
as(dp22664
g23
V571407
p22665
stp22666
a((dp22667
g2
(lp22668
VEverything about logging in GAE/Java is in the reference documentation:
p22669
aVhttp://code
p22670
aVgoogle
p22671
aVcom/intl/en/appengine/docs/java/runtime
p22672
aVhtml#Logging
p22673
as(dp22674
g23
V571407
p22675
stp22676
a((dp22677
g2
(lp22678
V is not deprecated, but a better alternative now exists:
p22679
aVOne of what makes it better is that it uses relative time rather than absolute time for scheduling
p22680
aVUsing an external cron script or an internal timer is just a matter or preference, IMHO
p22681
aVAn internal timer is easier to setup, but if you already have other crons in place, you might want to use an additional one and have this responsibility in a single place
p22682
as(dp22683
g23
V571407
p22684
stp22685
a((dp22686
g2
(lp22687
VWhat makes your post confusing is that the  is in fact an observer/listener (it receives the event, it doesn't fire them), and the  is in fact the notifier (it's the watcher that creates an event and calls the  method)
p22688
aVI'll use the terms observable and observer from now on
p22689
aVThe observable fires events, and thus calls the observer's newEvent method
p22690
aVIf you want the event handling to be done in a separate thread, use a
p22691
aVStart a thread that loops endlessly, and tries to  from the queue at each iteration
p22692
aVRegister an observer to the observable, which simply takes the received event and  it in the blocking queue
p22693
as(dp22694
g23
V571407
p22695
stp22696
a((dp22697
g2
(lp22698
VYou're using a relative path to load your properties file
p22699
aVThis means that the code expects the properties file to be in the directory from which you start the program
p22700
aVSo, if you're in  when launching , the file must be in , and not in the directory where the jar is
p22701
aVIf the properties are read_only, the file should be in the jar, and you should load it from the classpath using
p22702
aVIf it's read/write, use an absolute path to load the file
p22703
as(dp22704
g23
V571407
p22705
stp22706
a((dp22707
g2
(lp22708
VThe generated class is incorrect
p22709
aVI don't know exactly what the message means, but what's sure is that the entity is not mapped correctly: the  is mapped twice: once as a  and once as a
p22710
aVSame for
p22711
aVIt also adds attributes which are not needed
p22712
aVHere's how the class should look like:
p22713
aVMy guess is that the error is called by the  attributes of the JoinColumn annotations
p22714
as(dp22715
g23
V571407
p22716
stp22717
a((dp22718
g2
(lp22719
VIf you sleep in the event dispatch thread (EDT), you're blocking it, and thus preventing all the other event handling and painting methods to occur
p22720
aVis useful to display the progress of some task running in a separate background thread
p22721
aVUse a
p22722
aVIts api doc contains an easy to understand example
p22723
as(dp22724
g23
V571407
p22725
stp22726
a((dp22727
g2
(lp22728
VThe reference doc says:
p22729
aVWhen using the RequestMappingHandlerMapping the actual handler is an
p22730
aVinstance of HandlerMethod which identifies the specific controller
p22731
aVmethod that will be invoked
p22732
aVSo I guess that you should just cast the handler to , call its  method, and check is the returned bean is an instance of
p22733
aVNot tested though
p22734
aVYou could try using a debugger to inspect the handler argument and see what it is if it is neither the handler itself, nor the HandlerMethod
p22735
as(dp22736
g23
V571407
p22737
stp22738
a((dp22739
g2
(lp22740
VWhat I would do is the following:
p22741
aVfind a working copy containing the latest changes
p22742
aVmake a fresh checkout from  the new repo to a new working copy location
p22743
aVuse WinMerge or some other diff tool to make it so that the fresh (but obsolete) working copy contains exactly the same files as the old (but up to date) working copy
p22744
aVcommit the changes from the fresh working copy to the new repo
p22745
aVask all the developers to delete their working copy and checkout from the new repo
p22746
as(dp22747
g23
V571407
p22748
stp22749
a((dp22750
g2
(lp22751
VIf you don't want to use a map, then just follow these steps:
p22752
aVSort the array (using )
p22753
aVUse a variable to hold the most popular element (mostPopular), a variable to hold its number of occurrences in the array (mostPopularCount), and a variable to hold the number of occurrences of the current number in the iteration (currentCount)
p22754
aVIterate through the array
p22755
aVIf the current element is the same as mostPopular, increment currentCount
p22756
aVIf not, reset currentCount to 1
p22757
aVIf currentCount is > mostPopularCount, set mostPopularCount to currentCount, and mostPopular to the current element
p22758
as(dp22759
g23
V571407
p22760
stp22761
a((dp22762
g2
(lp22763
VThere is nothing related to WebLogic in this exception
p22764
aVIn your  file, you're trying to set the property  of a bean of type  to an instance of
p22765
aVThe property is of type , and  is not an implementation of
p22766
as(dp22767
g23
V571407
p22768
stp22769
a((dp22770
g2
(lp22771
VBefore getting an element by index, you always have to make sure that the index is valid
p22772
aVEither you know that the index exists because you created the array and knwo its length, or you don't know because you didn't create the array, and then you just have to check if the index is valid for the array:
p22773
aVMost of the time, an array is used to iterate over all its elements, and you just iterate from 0 (inclusive) to the length of the array (exclusive):
p22774
aVThere is always something in an array of primitive types
p22775
aVAn  array is filled with  values
p22776
aVIf not initialized, it's filled with 0
p22777
aVA  array is filled with false by default
p22778
aVAn array of objects is, by default, filled with
p22779
as(dp22780
g23
V571407
p22781
stp22782
a((dp22783
g2
(lp22784
VThe text pane is private to the appender, and you don't have any getter for it
p22785
aVSo I would guess that the GUI has a text pane, and the logger has another text pane it appends to
p22786
aVThat, or you're getting the text pane from a Log instance that is not the same as the Log instance that Log4j instantiates
p22787
aVAlso, the appender might be use by several threads, but the Swing components may only be accessed from the event dispatch thread
p22788
aVEvery append to the text pane should be done inside a  call
p22789
as(dp22790
g23
V571407
p22791
stp22792
a((dp22793
g2
(lp22794
VYou would put these reusable classes in a separate project, in their own specific package, and generate a jar from these classes
p22795
aVThis jar could then be put in the classpath of any other project that needs to use these classes
p22796
aVMake sure to document these classes and how to use them, so that all the projects using them know how to do it
p22797
as(dp22798
g23
V571407
p22799
stp22800
a((dp22801
g2
(lp22802
VThere are no threads in PHP
p22803
aVYou could cheat by sending back an HTML page that triggers an Ajax call to start the heavy process in a new request
p22804
aVBut if it's shared hosting, my guess is that you'll quickly hit the limits on memory, time or CPU usage imposed by your hosting provider
p22805
as(dp22806
g23
V571407
p22807
stp22808
a((dp22809
g2
(lp22810
VThe culprit is probably this line:
p22811
aVuser is a detached entity, and you merge it
p22812
aVThen, you get the team from the user
p22813
aVBut merge doesn't make the detached entity attached
p22814
aVIt loads the attached user, copy the state from the detached one to the attached one, and returns the attached one
p22815
aVSo, all the subsequent changes you're doing are done to the detached entity
p22816
aVReplace this line with
p22817
as(dp22818
g23
V571407
p22819
stp22820
a((dp22821
g2
(lp22822
VUsing equals doesn't test the equality of the references
p22823
aVIt tests the equality of the contents of the String
p22824
aVYou need to use  to test the equality of the references
p22825
aVTo answer your question, no, it's not the same
p22826
aVThe first snippet assigns two references (a and b) to the same String
p22827
aVThe second one creates a String, assigns it to a, then interns the String and assigns the String that the intern pool returns to b
p22828
aVa and b could thus refer to two different String instances (and certainly will, because the empty String is in the pool for sure, thus intern() will not return the STring referred to by a, but will returned the pooled empty String)
p22829
as(dp22830
g23
V571407
p22831
stp22832
a((dp22833
g2
(lp22834
VAlways use Swing components in the event dispatch thread
p22835
aVThe whole code of the main method should be wrapped into
p22836
aVThis change makes everything appear as expected in my tests
p22837
aVRead http://docs
p22838
aVoracle
p22839
aVcom/javase/tutorial/uiswing/concurrency/initial
p22840
aVhtml and http://docs
p22841
aVoracle
p22842
aVcom/javase/6/docs/api/javax/swing/package-summary
p22843
aVhtml#threading
p22844
aVAlso, be careful that the JTextField constructor taking only a String as argument creates a text field with 0 as the number of columns
p22845
as(dp22846
g23
V571407
p22847
stp22848
a((dp22849
g2
(lp22850
VThis would only make the URL secret for dummies
p22851
aVWith a network sniffer like Ethereal, it would be trivial to know which requests are made by your application
p22852
aVSecurity through obscurity is always a bad idea
p22853
aVIf you want to do that for other reasons, JEditorPane is able to display HTML and load it from a URL, but its HTML capabilities are very limited compared to a real browser
p22854
as(dp22855
g23
V571407
p22856
stp22857
a((dp22858
g2
(lp22859
VServer-side includes or server-side programming languages (like PHP, for example), are often used to do that
p22860
aVAll pages just include a shared common file, which contains the common content
p22861
as(dp22862
g23
V571407
p22863
stp22864
a((dp22865
g2
(lp22866
VIf  has opened  with , then the Popup
p22867
aVhtml page can have a reference to its opening window (the window of ) using
p22868
aVIt could thus call a  callback function defined in  using
p22869
aVExample:
p22870
aVin Main
p22871
aVhtml:
p22872
aVin Popup
p22873
aVhtml
p22874
as(dp22875
g23
V571407
p22876
stp22877
a((dp22878
g2
(lp22879
VAlmost
p22880
aVBetween the controller, which handles presentation logic, and the DAO, which handles Data access logic, there should be a business layer, containing the business objects
p22881
aVThe main responsibilities of these business objects are
p22882
aVto provide business services to the controllers
p22883
aVThey are a facade
p22884
aVto encapsulate the business logic of the application
p22885
aVto demarcate transacations
p22886
aVto use one or several DAOs to get, find and persist objects
p22887
aVThis layer is very important because you want to be able to perform several operations on your database within a single transaction
p22888
aVAnd it should not be the responsibility of the web controller to handle this
p22889
aVMoreover, the same business services could be used by other clients than the web controllers (Swing client, batch, etc
p22890
aVBusiness objects are typically implemented using session EJBs, or Spring services
p22891
aVThey're also useful to be able to
p22892
aVunit test the controller by mocking the business objects
p22893
aVunit test the business logic by mocking the DAOs
p22894
as(dp22895
g23
V571407
p22896
stp22897
a((dp22898
g2
(lp22899
VThe parameters of a request are the values sent as parameters by the browser
p22900
aVThere is no reason to change them
p22901
aVIf you want to associate some value to the request, use an attribute rather than a parameter
p22902
aVThis has the additional advantage that an attribute may be any object and not just a String:
p22903
aVYou may add parameters if you forward the request to another resource (although I wouldn't say it's a good practice):
p22904
aVThe parameters should be encoded correctly, though
p22905
as(dp22906
g23
V571407
p22907
stp22908
a((dp22909
g2
(lp22910
VIMHO, this feature should only be used for quick'n dirty prototypes
p22911
aVIf you're using it each time you start your application, then simply don't
p22912
aVImport the file once and for all, and then start and stop the application as many times as you want
p22913
aVIf the schema or data changes, then reimport it explicitely
p22914
aVIf you're using it for unit tests, then also create the schema once and for all, and use dbUnit to import data before each unit test
p22915
aVBut the data used by the unit test should be reduced to the minimum necessary for this specific unit test
p22916
as(dp22917
g23
V571407
p22918
stp22919
a((dp22920
g2
(lp22921
VYou're trying to affect an int to a String
p22922
aVThat can't compile
p22923
aVEither the  method must return a String, or the  must be an int
p22924
as(dp22925
g23
V571407
p22926
stp22927
a((dp22928
g2
(lp22929
VThis exception shows that you're not using JPA2, but JPA1
p22930
aVYou should probably use a more recent version of JBoss, that ships with JPA2
p22931
as(dp22932
g23
V571407
p22933
stp22934
a((dp22935
g2
(lp22936
VThe syntax of an  tag is
p22937
aVWhat you're doing is
p22938
aVYou need to generate a URL to a servlet, and this servlet needs to open the image file and send its content to the output stream
p22939
aVYou can't download an HTML file and an image in a single HTTP request
p22940
as(dp22941
g23
V571407
p22942
stp22943
a((dp22944
g2
(lp22945
VOpen a command prompt, and use
p22946
aVUnhandled Exceptions will display in the CLI/terminal
p22947
as(dp22948
g23
V571407
p22949
stp22950
a((dp22951
g2
(lp22952
VDon't deploy by simply copying
p22953
aVDeploy by using a script (I use Apache Ant) that will automate the copy of specific files for each environment, the replacement of some values, etc
p22954
aVThis just needs rigor
p22955
aVMake a todo list while developing, and check that every modification on the server is done
p22956
aVYou might also test the deploy procedure on a pre-production server which has an similar configuration as the production server, make sure everything is OK, and then apply the same, tested procedure on the production server
p22957
aVJust use a version control system
p22958
aVSVN or Git are two free candidates
p22959
aVMake your version control server available from anywhere
p22960
aVIf it's an open-source project, free hosting solutions exist
p22961
aVOf course, if you don't have a development computer wvailable, you'll have to checkout the whole project, and probably install some tools to be able to develop, test and deploy
p22962
aVJust try to make it as easy as possible, or always have your laptop available
p22963
aVIf you plan to work, have your toolbox with you
p22964
aVIf you don't plan to work, then don't work
p22965
aVWhen you have finished some development, commit to the server
p22966
aVWhen you go back to your laptop, update your working copy from the server
p22967
as(dp22968
g23
V571407
p22969
stp22970
a((dp22971
g2
(lp22972
VHaving a such a callback reference is common
p22973
aVFor example, each time an anonymous inner class is used, the anonymous ActionListener instance has an implicit reference on its outer class, which is the JFrame or JPanel constructing the action
p22974
aVThe problem you have is that the constructor of your action tries to access elements of the JFrame, and these elements are not available yet because it's also in its construction phase
p22975
aVThe cleanest way would probably be to construct the frame, and once the frame is completely constructed, create all the actions referencing the frame
p22976
aVThis way, you make sure not to escape the frame before it's usable:
p22977
aVYou could also call  in the actionPerformed method of the action rather than calling it in the constructor
p22978
as(dp22979
g23
V571407
p22980
stp22981
a((dp22982
g2
(lp22983
VI think it boils down to how you publish events using dojo
p22984
aVI don't know well how dojo works, but your buttons do
p22985
aVso I don't see how the subscriber to the "editReport" event could know which row you're trying to delete, and thus which row it must delete
p22986
aVThe documentation for publish shows that an argument may be passed to the publish function
p22987
aVPass the rowId as argument to the subscribe function, and use this argument in the function editing/deleting the row
p22988
aVEdit:
p22989
aVThe end of the page http://struts
p22990
aVapache
p22991
aVorg/2
p22992
ag10
aV8/docs/ajax-div-template
p22993
aVhtml shows an example which dynamically changes the href of a div and then refreshes the div
p22994
aVI would use a similar strategy: Have a unique form (rather than one form per row) to edit (or delete) the report in your page
p22995
aVHave each row link publish an event to a topic with the row ID as argument
p22996
aVHave the JavaScript function listening to the topic dynamically change the value of the hidden rowId field of the unique form, and then tells the div to refresh itself
p22997
as(dp22998
g23
V571407
p22999
stp23000
a((dp23001
g2
(lp23002
VThe fastest way, for such a complex equality rule, could to use an algorithm to transform the graph of objects into a String or byte array, to hash this string or byte array using a cryptographic hash function (SHA1, for example), and to store the hash along with the root of the tree
p23003
aVWhen you have to check if a given tree already exits in the database, reapply the algorithm on the tree, and check if the obtained hash already exists in database
p23004
aVThe difficulties are the following:
p23005
aVtwo logically equal trees must always generate the same byte array
p23006
aVThis means that you must decide on an order for your RBFs and Gaussian entities and always serialize them in the same order
p23007
aVcomparing doubles is usually not an easy task
p23008
aVYou'll perhaps have to round them to make sure two very close values are considered equal
p23009
aVyou have to recompute the hash each time a modification is made on any of the entities composing the tree
p23010
aVThis means that all the changes should be encapsulated in a single place and always go through the root of the tree
p23011
as(dp23012
g23
V571407
p23013
stp23014
a((dp23015
g2
(lp23016
VThe Example restrictions ignore associations (and, although this is not documents, element collections)
p23017
aVEven if you used just the Criteria API (without using Example), element collections can't be queries with Criteria (se https://hibernate
p23018
aVonjira
p23019
aVcom/browse/HHH-869)
p23020
aVYou'll have to revert to HQL or SQL restrictions
p23021
as(dp23022
g23
V571407
p23023
stp23024
a((dp23025
g2
(lp23026
VHow about using a GreaseMonkey script that searches all the lines having the class nbHitsUncovered and adds some list/table containing the information wanted to the report
p23027
as(dp23028
g23
V571407
p23029
stp23030
a((dp23031
g2
(lp23032
VSet the keepgenerated configuration of Tomcat to true (see http://tomcat
p23033
aVapache
p23034
aVorg/tomcat-7
p23035
aV0-doc/jasper-howto
p23036
aVhtml), clean tomcat's work directory, restart tomcat, reproduce the problem, and look what happens in index_jsp
p23037
aVjava at line 22
p23038
aVIt probably is some scriptlet which generates this exception
p23039
aV(and you should avoid scriptlets
p23040
aVSee How to avoid Java Code in JSP-Files
p23041
as(dp23042
g23
V571407
p23043
stp23044
a((dp23045
g2
(lp23046
VJust to make it clearer than if it was in a comment: Each HTTP request will be handled by an arbitrary thread
p23047
aVTomcat (and other app servers) use a pool of threads, pick a thread from the pool, execute the request, and give back the thread to the pool
p23048
aVThe HTTP session is completely orthogonal to the threading: several requests from the same session may be handled by different threads
p23049
aVA thread executes requests from several sessions
p23050
aVThere are typically much more parallel sessions than threads in the pool
p23051
aVAnd finally, you may very well have two threads executing two requests for the same session
p23052
aVThat implies that the objects stored in the session should be thread-safe, or that a synchronization mechanisme should be used to access non-thread-safe objects stored in the session
p23053
aVMoreover, multiple frames or tabs of a given browser share the same HTTP session
p23054
aVYou'll have a different session if you start a different browser (Chrome in addition to Firefox, for example), or if you use a browser on another machine
p23055
as(dp23056
g23
V571407
p23057
stp23058
a((dp23059
g2
(lp23060
Vtrying to get the answer from the pool won't work, as the answer property is inside the question
p23061
aVYour code should be
p23062
aVAnd you should make sure to HTML-escape it, to make sure your HTML is valid and you can't have an XSS attack
p23063
aVuse
p23064
as(dp23065
g23
V571407
p23066
stp23067
a((dp23068
g2
(lp23069
VThe loop should not write to an in-memory buffer, but to the file writer directly (wrapped inside a BufferedWriter)
p23070
aVThis will avoid running out of memory
p23071
aVYou should start a new thread which executes your while loop, and tests at each iteration if the thread has been asked to interrupt itself, using
p23072
aVOnce interrupted, the thread should stop the while loop, and close the writer
p23073
aVHave your main thread read from the command line, and when the stop command is entered, call  on the writer thread
p23074
as(dp23075
g23
V571407
p23076
stp23077
a((dp23078
g2
(lp23079
VI think your alternative is much better than letting the item remove itself from the loop
p23080
aVIt reduces the responsibilities of the objects in the list, and avoids circular references
p23081
aVMoreover, You could use Guava's  method and iterate over a filtered list, rather than checking explicitely if the object should be rendered or not at each iteration
p23082
aVEven if what you want to do was possible, you would get a ConcurrentModificationException when removing an object from the list while iterating on it
p23083
aVThe only way to do that is to remove the current object from the iterator
p23084
as(dp23085
g23
V571407
p23086
stp23087
a((dp23088
g2
(lp23089
VYour first solution is the right one
p23090
aVChange your interface to :
p23091
aVAnd make every subclass wrap its IO, JDBC or whatever exception inside a FetchFailureException
p23092
aVThis FetchFailureException exception should be runtime if unrecoverable, and checked if recoverable
p23093
as(dp23094
g23
V571407
p23095
stp23096
a((dp23097
g2
(lp23098
VYou should transform you first list into a HashSet
p23099
aVHashSet lookups are O(1), and List lookups are O(n)
p23100
aVThis makes the whole algorithm O(n) rather than O(n^2)
p23101
as(dp23102
g23
V571407
p23103
stp23104
a((dp23105
g2
(lp23106
VYou may use axtavt solution
p23107
aVYou may also just execute your query, and transform the  it will return into a  explicitely
p23108
aVOr you may map your view as a read-only entity, which is probably the best solution, because it would allow for associations with other tables, querying through JPQL, Criteria, etc
p23109
aVIn my opinion,  should only be used for quick n' dirty prototypes
p23110
aVUse the hibernate tools to generate the SQL file allowing to create the schema, and modify it to remove the creation of the view
p23111
aVAnyway, if it's set to update, shouldn't it skip the table creation since it already exists (as a view)
p23112
as(dp23113
g23
V571407
p23114
stp23115
a((dp23116
g2
(lp23117
VYou need to pass a valid JavaScript String literal to
p23118
aVis a JavaScriptfunction that expects a valid String as well
p23119
aVYou thus need to transform you Java String into a valid JavaScript literal
p23120
aVUse apache commons-lang  to escape it
p23121
aVYou could make it an EL function, and thus use something like
p23122
as(dp23123
g23
V571407
p23124
stp23125
a((dp23126
g2
(lp23127
VYou probably forgot to initialize the field  of every content
p23128
aVThat's the one which is mapped to the join column, and it's thus the one that Hibernate inspects to determine if there is an association between the two entities or not
p23129
as(dp23130
g23
V571407
p23131
stp23132
a((dp23133
g2
(lp23134
VI'm not sure exactly if that's what you're looking for, but you can set, on HtmlUnit's WebClient, an NicelyResynchronizingAjaxController, which will automatically transform all your asynchronous calls into synchronous calls
p23135
aVThis enables testing your AJAX code without having to poll or sleep for an arbitrary time, hoping that the AJAX call has finished
p23136
aVIt's not the solution for all cases, but it's often very useful
p23137
as(dp23138
g23
V571407
p23139
stp23140
a((dp23141
g2
(lp23142
VStrings don't contain bytes
p23143
aVThey contain chars
p23144
aVAnd the String equals obviously compares the chars of the two strings (unless they don't even have the same length)
p23145
aVSince String has a direct access to the underlying char array, which external code doesn't have, it's obviously faster to use
p23146
aVIt makes sense to use byte arrays when dealing with binary data (binary streams, cryptography, etc
p23147
aVWhen dealing with textual data, using Strings, StringBuilders, CharSequence or char arrays is better
p23148
aVIt all depends on the situation
p23149
as(dp23150
g23
V571407
p23151
stp23152
a((dp23153
g2
(lp23154
VIn order for the thread to be able to set the static value, the class must be loaded
p23155
aVIn order for the class to be loaded, the thread must end (so that the static block completes)
p23156
aVThat's probably why you have a deadlock
p23157
as(dp23158
g23
V571407
p23159
stp23160
a((dp23161
g2
(lp23162
VSocketTimeOutException is the type of the exception
p23163
aVIt's probably just that this exception (or the code throwing it) didn't bother providing a message with the exception, and thought the type of the exception was sufficiently meaningful
p23164
aVUse
p23165
aVor
p23166
aVrather than asking the message
p23167
as(dp23168
g23
V571407
p23169
stp23170
a((dp23171
g2
(lp23172
VAsk the master table what its selected row is (getSelectedRow())
p23173
aVConvert this view row index to a model row index (convertRowIndexToModel())
p23174
aVAsk the model for the data at this index, ands extract the ID of the data
p23175
aVThe model should be a class that you wrote, extending
p23176
aVThen get the data to display in the three sub-tables from this ID, and change the model (or the data contained in the model) of these three tables
p23177
as(dp23178
g23
V571407
p23179
stp23180
a((dp23181
g2
(lp23182
VA Hibernate session is not thread-safe, and must not be shared between threads
p23183
aVIt's thus the created thread that should create its own session
p23184
aVBut a session shouldn't be open for the duration of a thread, either
p23185
aVA session's lifespan is typically the same as a transaction lifespan: very short
p23186
as(dp23187
g23
V571407
p23188
stp23189
a((dp23190
g2
(lp23191
Vmerge does not modify its argument
p23192
aVIt copies the state from its argument to the attached version of its argument, and returns the attached version
p23193
aVYou should thus use
p23194
as(dp23195
g23
V571407
p23196
stp23197
a((dp23198
g2
(lp23199
VJust pass an absolute file name rather than a relative one:
p23200
as(dp23201
g23
V571407
p23202
stp23203
a((dp23204
g2
(lp23205
VThis is one of the most asked questions about generics
p23206
aVIt a  was a , you could do
p23207
aVThis would thus break the type-safety promised by generics
p23208
as(dp23209
g23
V571407
p23210
stp23211
a((dp23212
g2
(lp23213
VThe html select tag automatically selects the option that has a value equal to the property of the select tag
p23214
aVSo, if your form bean has a  method and this method returns "bar", the following select tag will have its option with value "bar" selected:
p23215
aVTo make some option selected, just put its value in the property of the form bean:
p23216
as(dp23217
g23
V571407
p23218
stp23219
a((dp23220
g2
(lp23221
VIf your constraints are not deferred, and you flush the session after the call to save, everything will be written into database, and constraints will be applied
p23222
aVYou may then execute queries and check if your entities are returned
p23223
aVThe returned entities will be the ones held in memory by the session, though
p23224
aVWhen I really want to check that something is persisted correctly, I generally execute the persist in one transaction (using a TransactionTemplate), and then execute queries to verify everything is OK after the transaction commit
p23225
as(dp23226
g23
V571407
p23227
stp23228
a((dp23229
g2
(lp23230
VEntities must have an ID
p23231
aVThat's mandatory
p23232
aVWhether this ID is an actual PK in database or not is not important (although I don't see any reason not to define it as a PK), but the ID must be immutable and unique across all rows of the table
p23233
as(dp23234
g23
V571407
p23235
stp23236
a((dp23237
g2
(lp23238
VYou missed the second part: if the entity isn't new,  is called
p23239
aVcopies the state of its argument into the attached entity with the same ID, and returns the attached entity
p23240
aVIf the entity isn't new, and you don't use the returned entity, you'll make modifications to a detached entity
p23241
as(dp23242
g23
V571407
p23243
stp23244
a((dp23245
g2
(lp23246
VAndroid provides the AsyncTask class to do that
p23247
aVRead http://developer
p23248
aVandroid
p23249
aVcom/reference/android/os/AsyncTask
p23250
aVhtml
p23251
as(dp23252
g23
V571407
p23253
stp23254
a((dp23255
g2
(lp23256
VJust remember the TableCellListener instance in an instance variable:
p23257
as(dp23258
g23
V571407
p23259
stp23260
a((dp23261
g2
(lp23262
VA Java bean is just a class which conforms to some conventions:
p23263
aVproperties that can be accessed by getters (and setters if those properties are not read-only)
p23264
aVno-arg public constructor
p23265
aVserializable
p23266
aVThe JSP EL and tags are designed around those conventions
p23267
aVMost of them don't need all these conventions to be respected
p23268
aVproperties available by getters is the most important of these conventions
p23269
aVFor example, the expression
p23270
aVdisplays the name of the bar of the foo bean
p23271
aVfoo is a bean that must be in the page, request, session or application context
p23272
aVAnd this expression will call  on this bean, and then  on the object returned by
p23273
as(dp23274
g23
V571407
p23275
stp23276
a((dp23277
g2
(lp23278
VYou have two errors
p23279
aVFirst error: you mapped the bidirectional association between header and details twice: once in the header, and once in the details
p23280
aVWhen you have a bidirectional association, one of the side (the one header side, in this case) must be declared as the inverse of the other side, using the  attribute:
p23281
aVSecond error: the DELETE cascade is only applied when you use the  method to delete the entity
p23282
aVDelete queries bypass the session entirely (meaning that the entities deleted by the query but previously loaded stay in the session, in the same state as if no query had been executed)
p23283
aVSo, to cascade the deletion, you'll have to execute a select query to find all the headers to delete, and then loop over these headers and delete them using
p23284
as(dp23285
g23
V571407
p23286
stp23287
a((dp23288
g2
(lp23289
VMake the login page/action check if the user is logged in, and redirect to the home page if logged in:
p23290
aVBut you should probably not have a link to the login page in the first place if the user is already logged in
p23291
as(dp23292
g23
V571407
p23293
stp23294
a((dp23295
g2
(lp23296
VGAE doesn't have any file system
p23297
aVRead http://code
p23298
aVgoogle
p23299
aVcom/intl/en-US/appengine/docs/java/runtime
p23300
aVhtml#The_Sandbox:
p23301
aVTo allow App Engine to distribute requests for applications across
p23302
aVmultiple web servers, and to prevent one application from interfering
p23303
aVwith another, the application runs in a restricted "sandbox"
p23304
aVenvironment
p23305
aVIn this environment, the application can execute code,
p23306
aVstore and query data in the App Engine datastore, use the App Engine
p23307
aVmail, URL fetch and users services, and examine the user's web request
p23308
aVand prepare the response
p23309
aVAn App Engine application cannot:
p23310
aVwrite to the filesystem
p23311
aVApplications must use the App Engine datastore for storing persistent data
p23312
aVReading from the filesystem is
p23313
aVallowed, and all application files uploaded with the application are
p23314
aVavailable
p23315
ag7651
aVYour only option is to use the datastore (and blobstore)
p23316
as(dp23317
g23
V571407
p23318
stp23319
a((dp23320
g2
(lp23321
VBut since your code needs the index of the row and of the cell in the row, the foreach loop is just not the right tool for the job
p23322
aVKeep your code as is
p23323
aVYou could just use the length of each array rather than hardcoding 3
p23324
as(dp23325
g23
V571407
p23326
stp23327
a((dp23328
g2
(lp23329
VBecause the jsp context of the JSP is different from the one of the tag
p23330
aVYou could see it as a method calling another method
p23331
aVIf the second method declares a local variable, the first method won't see it
p23332
aVIt's not in its scope
p23333
aVSee http://docs
p23334
aVoracle
p23335
aVcom/javaee/1
p23336
aV4/tutorial/doc/JSPTags5
p23337
aVhtml#wp89909 for how to use out variables in JSP tag files
p23338
as(dp23339
g23
V571407
p23340
stp23341
a((dp23342
g2
(lp23343
VYour question is not very clear
p23344
aVI'll assume the variable is declared inside a servlet, because it's bad practice to use Java in a JSP
p23345
aVTo be able to share a variable between a Servlet whic forwards to a JSP, you need to set this variable into a request attribute:
p23346
aVAnd then in the JSP, you can get the value of the "registration" attribute using the JSP EL:
p23347
aVYou should read the Java EE tutorial: http://docs
p23348
aVoracle
p23349
aVcom/javaee/5/tutorial/doc/bnadp
p23350
aVhtml
p23351
as(dp23352
g23
V571407
p23353
stp23354
a((dp23355
g2
(lp23356
VWhat you're doing is very dangerous: you're using a thread pool to execute tasks (which I'll call downloaders), and the same thread pool to execute tasks which
p23357
aVwait for the downloaders to finish (which I'll call controllers)
p23358
aVor ask the controllers to stop
p23359
aVThis means that if the core number of threads is reached after the controller has started, the downloaders will be put in the queue of the thread pool, and the controller thread will never finish
p23360
aVSimilarly, if the core number of threads is reached when you execute the cancelling task, this cancelling task will be put in the queue, and won't execute until some other task is finished
p23361
aVYou should probably use a thread pool for downloaders, another one for controllers, and the current thread to cancel the controllers
p23362
as(dp23363
g23
V571407
p23364
stp23365
a((dp23366
g2
(lp23367
VYou should not do that
p23368
aVA ResultSet needs an open connection to the database, and the changes done to the result set won't be committed to the database until you commit the connection
p23369
aVThis means that if the database decides to close the connection because it hasn't seen any activity for some time, or if your app crashes after three hours, you'll lose all the modifications done during these 3 hours
p23370
aVThis also means that you might lock some rows for a whole lot of time, and thus make other transactions wait for a whole lot of time before being able to do anything
p23371
aVCopy the data from the result set into your table model, and start a new transaction each time you need to insert or update a row
p23372
as(dp23373
g23
V571407
p23374
stp23375
a((dp23376
g2
(lp23377
VFirst of al, you'll have to convert Strings of 8 '0' and '1' characters into bytes
p23378
aVThis is easily done using , and converting the int to a byte using
p23379
aVThen you need to create a byte array with all these bytes
p23380
aVAnd finally, you need to transform this byte array into a String
p23381
aVThis is where you need to decide whcih encoding to use
p23382
aVThe same String can be transformed into different byte arrays, depending on the encoding
p23383
aVAnd all byte sequences don't represent valid characters
p23384
aVSuppose you want to use ASCII as encoding, the use
p23385
aVBut beware that all bytes bigger than 128 are not valid ASCII characters
p23386
as(dp23387
g23
V571407
p23388
stp23389
a((dp23390
g2
(lp23391
VYour code never adds any MouseListener to the panel
p23392
aVYou should have this line somewhere:
p23393
aVWhen you implement MouseListener, that means that you're able to listen to mouse events
p23394
aVTo actually listen to mouse events, the listener must be added (registered) to some component that produces mouse events
p23395
as(dp23396
g23
V571407
p23397
stp23398
a((dp23399
g2
(lp23400
VYes, this is an example of the factory method pattern
p23401
aVAns yes, it parses its argument and decides which kind of address (which subclass) to instantiate (this is easily findable by looking at the source code of the method, which comes with the JDK)
p23402
aVAt some point, you have to use conditional statements
p23403
aVIt's not necessarily bad practice
p23404
aVIn this case, the factory method is precisely there to encapsulate the address parsing and return the appropriate subclass, rather than having to do it in the caller
p23405
aVWhat would be bad OO practice would be to be forced to write:
p23406
aVInstead, this logic is encapsulated into the factory method
p23407
as(dp23408
g23
V571407
p23409
stp23410
a((dp23411
g2
(lp23412
VYou should not change the grid when the selection changes
p23413
aVYou should change the data displayed by the grid (i
p23414
ag468
aVthe data model of the grid)
p23415
aVFor example, suppose the grid is a panel containing 9 labels, each displaying one element of a
p23416
aVYour  object should have a  which changes the value of each label in the grid
p23417
aVEach time the player selection changes, you should ask the selected player for its data, and call  on the grid
p23418
aVIf the data of a player can change while being delected, you should also call setData() each time it changes
p23419
aVThis can be done by having a  triggered by the  when its data changes, and a listener which updates the grid with the new data if the player triggering the event is the selected player
p23420
as(dp23421
g23
V571407
p23422
stp23423
a((dp23424
g2
(lp23425
VResult:
p23426
aVIf you really don't want to use the default format (with spaces as thousand separator rather than dots), then use
p23427
aVSee, this is all done for you by the NumberFormat class, provided you give it the proper locale
p23428
aVfr_FR means French of France, and not French of Canada
p23429
aVYou need fr_CA for that
p23430
aVAnd en_US means English of the United States, and not English of Canada
p23431
aVYou need en_CA for that
p23432
as(dp23433
g23
V571407
p23434
stp23435
a((dp23436
g2
(lp23437
VInteresting question
p23438
aVWhat's the generated SQL for your JPQL query
p23439
aVWhich JPA engine do you use
p23440
aVAnyway, the solution is to avoid update queries when using JPA, especially if the number of entities to update is small
p23441
aVQuery for the entities, update their state, and let JPA flush the changes for you
p23442
aVIf a big number of entities must be updated, you could still use a native query rather than a JPQL query
p23443
aVOr you could use two queries: one which sets preDeck, and one which set deck to preDeck + 1
p23444
as(dp23445
g23
V571407
p23446
stp23447
a((dp23448
g2
(lp23449
VI think this problem is caused by the double quotes used to declare the columns in the table
p23450
aVEnclosing the column names in double quotes make them case-sensitive
p23451
aVAnd your select query automatically transforms Passwd into PASSWD
p23452
aVSo the column can't be found
p23453
aVChange your create table query to
p23454
aVThis way, column names will be case insensitive
p23455
aVSee http://docs
p23456
aVoracle
p23457
aVcom/cd/B19306_01/server
p23458
aV102/b14200/sql_elements008
p23459
aVhtm for more information
p23460
as(dp23461
g23
V571407
p23462
stp23463
a((dp23464
g2
(lp23465
VRegarding your second question: when you create a Clas instance, persist it, and flush, the ID is autogenerated, and assigned to the ID field of the Clas instance
p23466
aVSince flushing happens automatically at the end of the transaction, calling this transactional session bean method will return a Clas instance with an ID:
p23467
aVCaller code:
p23468
aVOnce you have the clas ID, and want to get all its student, just do the following:
p23469
as(dp23470
g23
V571407
p23471
stp23472
a((dp23473
g2
(lp23474
VThis query can be translated literally to HQL
p23475
aVJust change table names into entity class names, and column names into entity property names, and you'll have your HQL query
p23476
aVBut this query should be written with joins
p23477
aVIn SQL, it would be
p23478
aVAnd, using Hibernate, you would have a ManyToOne association between Urn and City, another one betwen Urn and State, and another one between Urn and Country
p23479
aVThe HQL would then be:
p23480
aVor even simpler:
p23481
as(dp23482
g23
V571407
p23483
stp23484
a((dp23485
g2
(lp23486
Vslf4j does
p23487
aVSee http://www
p23488
aVslf4j
p23489
aVorg/apidocs/org/slf4j/Logger
p23490
aVhtml
p23491
aVIt's one of the main advantages (to me) of slf4j over log4j
p23492
aVIt avoids the need for  everywhere
p23493
aVEDIT :
p23494
aVThe slf4j documentation explains why it doesn't use the standard formatting from the JDK:
p23495
aVSLF4J uses its own message formatting implementation which differs
p23496
aVfrom that of the Java platform
p23497
aVThis is justified by the fact that
p23498
aVSLF4J's implementation performs about 10 times faster but at the cost
p23499
aVof being non-standard and less flexible
p23500
as(dp23501
g23
V571407
p23502
stp23503
a((dp23504
g2
(lp23505
VYou'll have to write a new expression () yourself
p23506
aVUse the code of  as a starting point, and transform it so that the generated SQL clause is something like
p23507
aVand the values passed to the query are the original values passed through  (like the  does)
p23508
aVIf you want to make database-agnostic, use  to get the database function which transforms a string to lower-case, as the  does
p23509
as(dp23510
g23
V571407
p23511
stp23512
a((dp23513
g2
(lp23514
VIn HTTP, the server doesnt send anything to client-side
p23515
aVThe client-side asks for some resource using a request, and the response contains the resource
p23516
aVMake the JavaScript function send an AJAX request to the server, and make the server answer with this JSON string in the response (by writing the JSON String to the response writer)
p23517
aVSee http://api
p23518
aVjquery
p23519
aVcom/jQuery
p23520
aVgetJSON/ to get a JSON String from JavaScript
p23521
aVThe server code is as simple as
p23522
as(dp23523
g23
V571407
p23524
stp23525
a((dp23526
g2
(lp23527
VWhen you execute
p23528
aVyou don't change the content of the String references by
p23529
aVYou assign a new String instance (a new object) to
p23530
aVStrings are immutable
p23531
aVIt's impossible to change their value
p23532
aVThis means that you synchronize on sa (first object : "Not Done"), then assign a new object to sa (second object : "Done"), and call notify on this second object
p23533
aVSince you haven't synchronized on the second object, but on the first one, you get an IllegalMonitorException
p23534
aVCalling notify on an object is only allowed if you own he intrinsic lock on the object
p23535
aVThat's why a lock should always be final
p23536
aVCalling notify() is equivalent to calling this
p23537
aVnotify()
p23538
aVSo  and  are just calling  on two different objects
p23539
aVThe first one will notify a thread waiting on , and the second one will notify a thread waiting on
p23540
aVThe fact that a variable is static or not does not matter
p23541
aVThe lock is associated to the object, not to its reference
p23542
as(dp23543
g23
V571407
p23544
stp23545
a((dp23546
g2
(lp23547
VIf your list of names is big, you'd better transform it into a Set (HashSet, preferrably) and call contains on this set, rather than the list, because contains is O(1) for a HashSet, and O(n) for a List
p23548
as(dp23549
g23
V571407
p23550
stp23551
a((dp23552
g2
(lp23553
VYour listener tries to get the node at the mouse location
p23554
aVIf there isn't any node, null is returned by
p23555
aVJust test if  is null before calling a method on it:
p23556
aVAnd yes,  returns the number of clicks associated with the event, so it seems appropriate to check if it's a double or a simple click
p23557
as(dp23558
g23
V571407
p23559
stp23560
a((dp23561
g2
(lp23562
VThe problem comes from the fact that you transform bytes into Strings
p23563
aVSuppose that your default platform encoding is ASCII
p23564
aVThis means that half of the bytes contained in your encrypted text (bytes 128 and above) don't represent valid characters
p23565
aVMoreover, you write one line for each encrypted text
p23566
aVSo, if your encrypted byte array happens to contain a newline char, you will in fact write two lines to the writer, and try to decrypt each line one by one, which will lead to an exception
p23567
aVEither use bytes to store and transfer your encryted data, or transform them into Strings using a non-lossy algorithm, like Base64 (which will make sure everything will be transformed into printable characters)
p23568
aVApache commons-codec has a Base64 implementation
p23569
as(dp23570
g23
V571407
p23571
stp23572
a((dp23573
g2
(lp23574
VI've played with your code, and noticed that the thread's interrupt status is sometimes true before the socket creation, and false after
p23575
aVI have tried interrupting a thread and calling the Socket constructor, and the thread always stays interrupted after
p23576
aVI also tried removing the shutdown of the threadpool, and the problem continued to happen
p23577
aVThen I have tried using 5 different URIs, rather than always the same one
p23578
aVAnd the problem never happened
p23579
aVSo I wrote this simple program, showing that the thread pool is not the culprit, but the socket is:
p23580
aVAnd indeed, when 5 threads create a socket to the same host and port, 4 of them have their interrupt status cleared
p23581
aVThen I tried to synchronize the socket creation (on a single lock, but I guess you might use one lock per host/port) :
p23582
aVand TADA
p23583
aVthe problem disappeared
p23584
aVI would open a bug at Oracle to signal the problem
p23585
as(dp23586
g23
V571407
p23587
stp23588
a((dp23589
g2
(lp23590
VThe repository has another method taking a Sort as additional argument
p23591
aVCall this method with an appropriate Sort instance
p23592
as(dp23593
g23
V571407
p23594
stp23595
a((dp23596
g2
(lp23597
VSee http://docs
p23598
aVjboss
p23599
aVorg/hibernate/core/3
p23600
aV6/reference/en-US/html_single/#collections-ofvalues
p23601
aVannotations are part of the hibernate core since 3
p23602
aV6, IIRC, and the documentation for annotations is thus embedded in the core documentation of 3
p23603
aV6
p23604
aVFor previous versions, it was documented separately (see http://docs
p23605
aVjboss
p23606
aVorg/hibernate/stable/annotations/reference/en/html_single/#d0e1821)
p23607
as(dp23608
g23
V571407
p23609
stp23610
a((dp23611
g2
(lp23612
VYou should not modify the URLs directly
p23613
aVThe trick to make that work is to ALWAYS use the response
p23614
aVencodeURL() or response
p23615
aVencodeRedirectURL() methods when generating URLs
p23616
aVSee the javadoc here
p23617
aVThe JSTL  tag uses this method internally to generate URLs
p23618
aVSo it's safe to use it
p23619
aVThese methods will append the session ID to the URL if needed
p23620
aVNote that to make them work, cookies must be disabled when the session is first created
p23621
aVIf you create the session while cookies are enabled, and then disable cookies, it won't work
p23622
as(dp23623
g23
V571407
p23624
stp23625
a((dp23626
g2
(lp23627
VThis means that the classifier variable is declared as a superclass or superinterface of , and that you need to call a method which is not defined in the class or interface, but only on
p23628
aVThis notation casts the variable to :
p23629
aVThis is usually the sign of a design problem
p23630
aVEither the methods should be in the superclass or interface, or the variable should be declared as
p23631
as(dp23632
g23
V571407
p23633
stp23634
a((dp23635
g2
(lp23636
VMy guess is that you're doing something like this:
p23637
aVThis is wrong
p23638
aVThe String constructor is using the default platform encoding to transform bytes into chars
p23639
aVAnd all sequence of bytes can't be transformed into chars
p23640
aVFor example, if your default encoding is ASCII, all the negative bytes can't be transformed into chars
p23641
aVIf you have to transfer binary data, then transfer it as bytes (using the byte[] type), or use Base64 to transform the bytes into printable chars, and use a writer with ASCII, ISO-8859-1 or UTF-whatever encoding to transfer the Base-64 string
p23642
as(dp23643
g23
V571407
p23644
stp23645
a((dp23646
g2
(lp23647
VOne of the key principles in development is DRY: don't repeat yourself
p23648
aVJPA applies it, and thus when you have a bidirectional association, you should declare the mapping of this association only once, on one side of the association
p23649
aVThe other side should just say: I'm mapped as declared on the other side, using the mappedBy attribute
p23650
aVSince you mapped the bidirectional association twice, Hibernate considers you have two distinct associations, and thus make two inserts
p23651
aVHere's how the set of addresses should be declared:
p23652
aVOther remarks:
p23653
aVanother key principle of OO is encapsulation
p23654
aVYour fields should be private
p23655
aVusing a cascade = ALL on a toOne relationship is always wrong: do you really want a person to be deleted when one of its addresses is deleted
p23656
aVwhy use a join table if the association is bidirectional
p23657
aVWhy not just use a foreign key to person in address
p23658
as(dp23659
g23
V571407
p23660
stp23661
a((dp23662
g2
(lp23663
VIt's instantiated by Spring before calling the method, and every attribute of the model is then put in a request attribute (at least if JSP is usd as the view), so that the JSP EL can be used to access every attriubte directly
p23664
as(dp23665
g23
V571407
p23666
stp23667
a((dp23668
g2
(lp23669
VFirst, please respect the Java naming conventions
p23670
aVMethods should start with a lower-case letter
p23671
aVIf you want the main object to be notified when something happens in the worker, the worker must have a reference to the main object:
p23672
aVYou might also want to accept other kinds of listeners then just the
p23673
aVIn this case, declare a  interface having a  method, and take a  as argument
p23674
aVThe  will have to implement this interface to listen to events triggered by the worker, but other classes may also implement the same interface and be passed as argument
p23675
as(dp23676
g23
V571407
p23677
stp23678
a((dp23679
g2
(lp23680
VBecause the MultiActionController uses a InternalPathMethodNameResolver by default
p23681
aVTne controller is mapped to , and the form posts to /user/add
p23682
aVhtm
p23683
aVSo the controller is invoked, and the method name resolver calls the add method because the path ends with
p23684
aVIf you plan to use Spring MVC for a new project, I would advise to read the spring reference documentation, because the MultiActionController is not the preferred way to have multiple actions in a single controller anymore
p23685
as(dp23686
g23
V571407
p23687
stp23688
a((dp23689
g2
(lp23690
VA proxy is just an envelope around a real object
p23691
aVWhen you call , Hibernate will check if the Person with ID 3 is already in the session cache
p23692
aVIf it's not, it will create a proxy, store it in the session cache,  and return it
p23693
aVThe proxy is a class which works like this:
p23694
as(dp23695
g23
V571407
p23696
stp23697
a((dp23698
g2
(lp23699
Vis not valid Java code
p23700
aVJust use
p23701
aVor
p23702
as(dp23703
g23
V571407
p23704
stp23705
a((dp23706
g2
(lp23707
VI really doubt that this query retrieves the stateid
p23708
aVI've executed a whole lot of similar queries using Hibernate, and they just return the columns in the select clause
p23709
aVOf course, if your  class has a  property, it won't magically disappear from the class just because you didn't query for it
p23710
aVAll the returned instances will just have the default value in this property (the one you set in the no-arg constructor of , or 0 or null if you don't set any specific value in the constructor, depending on the type of the  field)
p23711
aVIf you want to make sure, just remove the query
p23712
aVsetResultTransformer call, and inspect the content of the list
p23713
aVIt should contain instances of  containing two elements
p23714
as(dp23715
g23
V571407
p23716
stp23717
a((dp23718
g2
(lp23719
VThis exception is probably caused by optimistic locking (or by a bug in your code)
p23720
aVYou're probably using it without knowing
p23721
aVAnd your pseudo-code (which should be replaced by real code to be able to diagnose the problem) is wrong
p23722
aVHibernate saves all the modifications done to attached entities automatically
p23723
aVYou shouldn't ever call update, merge or saveOrUpdate on an attached entity
p23724
aVJust do
p23725
aVNo need to call update
p23726
aVHibernate will flush the changes automatically before committing the transaction
p23727
as(dp23728
g23
V571407
p23729
stp23730
a((dp23731
g2
(lp23732
VOr, if you want immutability:
p23733
aVMake sure to check for null if the fields are nullable
p23734
as(dp23735
g23
V571407
p23736
stp23737
a((dp23738
g2
(lp23739
VFirst of all, you should not use scriptlets in JSP
p23740
aVUse the JSTL, other custom JSP tags, and the expression language
p23741
aVSecond: the point of an MVC framework is to have the action prepare the model for the view, which should stay very simple
p23742
aVYou should probably make the action create a single list of objects, each containing the fields from the barcodes and their corresponding tareweight
p23743
aVThis way, you would just have one iteration in your JSP
p23744
aVThe code would thus be very simple:
p23745
aVNote that there exist specific custom tags to display tables, support sorting, paging etc
p23746
aVI like using the displaytag
p23747
as(dp23748
g23
V571407
p23749
stp23750
a((dp23751
g2
(lp23752
VCheck the description of the visitor pattern
p23753
aVThe accept method should be declared in the base class, and each subclass should override it by calling back the appropriate visit method:
p23754
as(dp23755
g23
V571407
p23756
stp23757
a((dp23758
g2
(lp23759
VReading the javadoc helps finding answers to such questions
p23760
as(dp23761
g23
V571407
p23762
stp23763
a((dp23764
g2
(lp23765
VRead this wikipedia article, which explains it very clearly
p23766
aVA forward just transfers the responsibility of a single request handling to a new server-dide component (example: servlet --> JSP)
p23767
aVA redirect asks the browser to send a new request when a first one has been partially handled (example :create product --> redirect to list of products)
p23768
aVThe post-redirect-get pattern, which is explained in the wikipedia article, explains when and why a redirect is preferrable
p23769
as(dp23770
g23
V571407
p23771
stp23772
a((dp23773
g2
(lp23774
VThe  method is never called, so your listener is never added
p23775
aVIf  is supposed to be a constructor, then it should be declared as
p23776
aVwithout the  return type
p23777
aVJava classes, by convention, always start with an upper-case letter
p23778
aVHence, constructors also start with an upper-case letter
p23779
as(dp23780
g23
V571407
p23781
stp23782
a((dp23783
g2
(lp23784
VI think you'll have to
p23785
aVrecord the bad commit and every subsequent commit as one or several patches
p23786
aVdump the repository
p23787
aVcreate a new repository
p23788
aVimport all the revisions prior to the bad commit from the dump into the repository
p23789
aVreapply each patch in sequence, (and remove the few lines of confidential information before committing)
p23790
as(dp23791
g23
V571407
p23792
stp23793
a((dp23794
g2
(lp23795
VIf the class is shared by classes from two different packages, it could be a good indication that these two classes should be in the same package, along with the shared class, which wouldn't be public and would thus only be usable by classes of the same package
p23796
aVIf it's really not an option, just document the shared class appropriately, to indicate that it's not supposed to be used outside of the SDK internal code, that it's subject to changes in future versions, and make it even clearer by naming the package "internal" or somthing like this
p23797
as(dp23798
g23
V571407
p23799
stp23800
a((dp23801
g2
(lp23802
VWell, if the object under test calls a collaborator with a computed value, and the test is supposed to test that the computation is correct, then verifying the mock colaborator is the right thing to do
p23803
aVExample:
p23804
aVClearly, in this case, you'll have to mock the displayer, and verify that its display method has been called, with the value 5 if 2 and 3 are the arguments of the  method
p23805
aVIf all you do with your collaborators is call getters without arguments, or with arguments which are direct inputs of the tested method, then stubbing is probably sufficient, unless the code might get a value from two different collaborators and you want to verify that the appropriate collaborator has been called
p23806
aVExample:
p23807
as(dp23808
g23
V571407
p23809
stp23810
a((dp23811
g2
(lp23812
VYou shouldn't have to decode anything in the action
p23813
aVThe servlet api does that for you
p23814
aVis sufficient
p23815
aVThe problem is that you didn't properly encode the parameter when generating the form field or URL
p23816
aVIf it's a form field, then it's part of HTML code, and thus must be HTML-escaped:
p23817
aVThe struts html:hidden also takes care of html-escaping properly
p23818
aVIf it's a URL, then it should be url-encoded, and html-escaped:
p23819
aVIf you type this value in a text field of a form, then  is sufficient
p23820
as(dp23821
g23
V571407
p23822
stp23823
a((dp23824
g2
(lp23825
VGiven that it's your code that instantiates the bean wrapper, and that it's instantiated using , I don't see how it could fail if the field is of type  rather than
p23826
aVHowever, the javadoc states:
p23827
aVNOTE: As of Spring 2
p23828
aV5, this is - for almost all purposes - an
p23829
aVinternal class
p23830
aVIt is just public in order to allow for access from
p23831
aVother framework packages
p23832
aVFor standard application access purposes,
p23833
aVuse the
p23834
aVPropertyAccessorFactory
p23835
aVforBeanPropertyAccess(java
p23836
aVlang
p23837
aVObject)
p23838
aVfactory method instead
p23839
aVI would thus use what the javadoc suggests to use
p23840
as(dp23841
g23
V571407
p23842
stp23843
a((dp23844
g2
(lp23845
VCreating and mapping new tables dynamically is not something that JPA supports
p23846
aVIt would need creating new Java classes on the fly and dynamically update the mapping metadata
p23847
aVYou can do everything you want with JDBC or native queries
p23848
aVBut maybe you should explain why you need to create new tables on the fly
p23849
as(dp23850
g23
V571407
p23851
stp23852
a((dp23853
g2
(lp23854
VNot tested, but you could probably define the attribute as an empty string rather than /WEB-INF/jsp/Empty
p23855
aVjsp if nothing must be displayed, and use the following code in your layout:
p23856
as(dp23857
g23
V571407
p23858
stp23859
a((dp23860
g2
(lp23861
VThis should work, for both directions:
p23862
as(dp23863
g23
V571407
p23864
stp23865
a((dp23866
g2
(lp23867
VEither you store the bean in the session during the first request, and retrieve it from the session during the second one, or you store value1 and value2 in hidden fields of your form, and recreate the bean using the corresponding request parameters in the second request
p23868
aVNote that JSPs should not contain Java code
p23869
aVSee How to avoid Java Code in JSP-Files
p23870
as(dp23871
g23
V571407
p23872
stp23873
a((dp23874
g2
(lp23875
Vjavadoc to the rescue:
p23876
aVpublic void registerCustomEditor(Class requiredType,
p23877
aVPropertyEditor propertyEditor)
p23878
aVThe class should not be the class of the editor
p23879
aVIt should be the type of the fields on which you want the editor to apply:
p23880
as(dp23881
g23
V571407
p23882
stp23883
a((dp23884
g2
(lp23885
VIt's a safe way to stop a thread, but there is no reason for the variable to be static: you want to stop one thread, not all threads of the same class
p23886
aVMoreover, there is a more standard and less fragile way to stop a thread: interrupting it
p23887
aVThis has the additional advantage that a thread which is sleeping or waiting, or blocked in an interruptible IO method will be woken up with an InterruptedException
p23888
aVWhen such an exception happens, it means that the thread should stop running, so you shouldn't swallow the exception as you did
p23889
aVInstead, you should return from the run method as fast as possible:
p23890
as(dp23891
g23
V571407
p23892
stp23893
a((dp23894
g2
(lp23895
VWhen you get the user's post, you get the user from the session
p23896
aVSo, obviously, if some posts have been added or removed since you stored the user in the session, you won't see them
p23897
aVDon't cache the user in the session, and everything will be fine
p23898
aVIf the user must be cached somewhere, it's in the Hibernate second-level cache
p23899
as(dp23900
g23
V571407
p23901
stp23902
a((dp23903
g2
(lp23904
VYou're confusing  and
p23905
aVmakes the current thread idle for some period of time, and then the thread restarts on its own
p23906
aVis a method of Object
p23907
aVIt's used to put a thread in a waiting state, and it will only go out of this state if another thread wakes him up using  or  on the same object
p23908
aVUsing  if there's only one thread executing will just make your program hang eternally
p23909
aVRead http://docs
p23910
aVoracle
p23911
aVcom/javase/tutorial/essential/concurrency/index
p23912
aVhtml
p23913
as(dp23914
g23
V571407
p23915
stp23916
a((dp23917
g2
(lp23918
VWhen I select just the project node in the package tree and choose the "Selected Resources" radio button, it searches all the files of the project in my version of Eclipse
p23919
aVYou can also select an arbitrary file in a project, and choose "Enclosing project"
p23920
as(dp23921
g23
V571407
p23922
stp23923
a((dp23924
g2
(lp23925
VDecide if you want to load the images from the file system, or from the classpath of the application
p23926
aVIf from the file system, use file IO to load the icon, or the constructor taking a file name as argument:
p23927
aVIf from the classpath, then the path is a / separated path starting from the root of the classpath, and the images should be stored in the same directory/jar as your classes (or in another directory/jar that is in the classpath):
p23928
aVSee http://docs
p23929
aVoracle
p23930
aVcom/javase/6/docs/api/javax/swing/ImageIcon
p23931
aVhtml and http://docs
p23932
aVoracle
p23933
aVcom/javase/6/docs/api/java/lang/Class
p23934
aVhtml#getResource%28java
p23935
aVlang
p23936
aVString%29
p23937
as(dp23938
g23
V571407
p23939
stp23940
a((dp23941
g2
(lp23942
VYou're probably hitting some browser timeout
p23943
aVPutting debug in the JSP doesn't make sense, since your action forwards to the JSP after 30 or 40 minutes
p23944
aVThis way of doing is not user-friendly, and makes the browser and the server keep an open connection for a too long time
p23945
aVThat could be the reason why you observe this behavior
p23946
aVYou should start the long process in the background, and immediately send a response telling the user that the work is in progress
p23947
aVHave this page refresh itself every minute, or trigger an ajax request every minute, to know if the process has ended or not
p23948
as(dp23949
g23
V571407
p23950
stp23951
a((dp23952
g2
(lp23953
VThe build path is used to compile your app
p23954
aVAt runtime, the container searches for libraries in the web app's WEB-INF/lib folder
p23955
aVRemove it from the build path, put it in this directory, and Eclipse will add it to the build path AND the runtime classpath automatically
p23956
aVNote that, in a webapp running inside a Java EE container like glassfish, you normally put the JDBC driver in the Java EE container classpath, and configure the container to provide a datasource (encapsulating a connection pool) to the applications
p23957
aVApplications use their deployment descriptor and JNDI to get a reference to this datasource
p23958
aVCheck the glassfish documentation
p23959
aVOpening and closing a connection at each request of a webapp is not something you should do
p23960
as(dp23961
g23
V571407
p23962
stp23963
a((dp23964
g2
(lp23965
Vjavadoc to the rescue :
p23966
aVjava
p23967
aVnet
p23968
aVURL getResource(java
p23969
aVlang
p23970
aVString path)
p23971
aVthrows java
p23972
aVnet
p23973
aVMalformedURLException
p23974
aVReturns a URL to the resource that is mapped to the given path
p23975
aVThe path must begin with a / and is interpreted as relative to the current context root, or relative to the /META-INF/resources directory
p23976
aVof a JAR file inside the web application's /WEB-INF/lib directory
p23977
aVThis method will first search the document root of the web application
p23978
aVfor the requested resource, before searching any of the JAR files
p23979
aVinside /WEB-INF/lib
p23980
aVThe order in which the JAR files inside
p23981
aV/WEB-INF/lib are searched is undefined
p23982
aVIf you want to read from a resource in the web app, use a path as indicated above
p23983
aVIf you want to read from the file system, use file IO (and the correct file name):
p23984
as(dp23985
g23
V571407
p23986
stp23987
a((dp23988
g2
(lp23989
VYou seem to pass the path , and the JSP is in
p23990
aVObviously, the paths don't match
p23991
aVPass the correct path to :
p23992
aVThe javadoc says:
p23993
aVThe pathname must begin with a / and is interpreted as relative to the
p23994
aVcurrent context root
p23995
as(dp23996
g23
V571407
p23997
stp23998
a((dp23999
g2
(lp24000
VIf the char 0 is appended at the end of the String, just find its first index in the String, and substring up to this index:
p24001
as(dp24002
g23
V571407
p24003
stp24004
a((dp24005
g2
(lp24006
V1) javadoc to the rescue:
p24007
ag7651
aVThus, this method performs a "shallow copy" of this object, not
p24008
aVa "deep copy" operation
p24009
aV2) Because clone doesn't call clone recursively
p24010
aVIt's a shallow clone
p24011
aVIt just creates a new object with the same references as the original one, and copies of primitive fields
p24012
aV3) I don't understand what you mean
p24013
aVPrimitive are not deeply copied
p24014
aVThey don't reference anything, so there's nothing deep to copy
p24015
as(dp24016
g23
V571407
p24017
stp24018
a((dp24019
g2
(lp24020
VA Timestamp doesn't have a timezone
p24021
aVWhen you display the timestamp as a String, it displays a time and mentions the timezone, because else you couldn't know what time it represents
p24022
aVAnd it chooses to use the default timezone (yours), because that's the one you're the most familiar with
p24023
aVSaying, it's 12:00:00 doesn't mean anything
p24024
aVSaying it's 12:00:00 in your timezone means something
p24025
aVBut the timestamp only contains an instant in time
p24026
aVYou may display this instant in time in any time zone you want using a DateFormat
p24027
aVNote:  means "create a timestamp with the given time in the default timezone"
p24028
as(dp24029
g23
V571407
p24030
stp24031
a((dp24032
g2
(lp24033
VYes, they're compile-time constants
p24034
aVFor example, the code
p24035
aVwill be compiled to bytecode which doesn't even contain the code inside the
p24036
aVIt will be removed by the compiler
p24037
aVAnd you have to recompile all the classes referencing the constant if you decide to change its value
p24038
aVNote however that it's only the reference that can't be modified
p24039
aVThe content of the object (if it's mutable), can be changed
p24040
aVFor example, the content of the array or StringBuilder in the following code may be modified:
p24041
aVYour question about enums doesn't make sense
p24042
aVThere is no enum of primitive or STring
p24043
aVEach enum defines its own class
p24044
as(dp24045
g23
V571407
p24046
stp24047
a((dp24048
g2
(lp24049
VYour test is fine
p24050
aVIt doesn't even have to have the  annotation
p24051
aVThe whole point of dependency injection frameworks like Spring is to be able to unit test services by simply instantiating them, setting mock dependencies, and then call their methods
p24052
aVYou're doing it correctly
p24053
aVYou don't need to have a Spring context for such unit tests
p24054
aVThat's why they're called unit tests: they test it in isolation of all their actual dependencies, Spring included
p24055
aVSide note: assuming you're using JUnit, the arguments of the assertXxx method should be swapped
p24056
aVThe expected value comes before the actual value
p24057
aVIt becomes important when the assertion fails and you have a message like "expecting 6 but was 3" rather than "expecting 3 but was 6"
p24058
as(dp24059
g23
V571407
p24060
stp24061
a((dp24062
g2
(lp24063
VYou're very close to the solution
p24064
aVYou just missed the restriction stating than the track must be a track of the CD:
p24065
aVor
p24066
aVYou could also avoid the subquery and simply use a join
p24067
as(dp24068
g23
V571407
p24069
stp24070
a((dp24071
g2
(lp24072
VTry using the following restriction:
p24073
aVand passing the following value as parameter:
p24074
as(dp24075
g23
V571407
p24076
stp24077
a((dp24078
g2
(lp24079
VI assume that at one moment, the UnCatchExceptionThread is passed to your  method, and the thread returned by this method is executed
p24080
aVIf so, you create a new thread with no name, that executes the runnable passed as argument
p24081
aVThe runnable is the UnCatchExceptionThread instance, but the thread that is executing is the
p24082
aVSo, inside the Runnable  method,  is the instance of UnCatchExceptionThread, and has the name you gave him
p24083
aVBut the current thread is , which has a default name
p24084
as(dp24085
g23
V571407
p24086
stp24087
a((dp24088
g2
(lp24089
VTo do this, you would need some AOP framework that would use a proxy around your method
p24090
aVThis proxy would catch the exception and execute the finally block
p24091
aVQuite frankly, if you don't use a framework supporting AOP already, I'm not sure I would use one just to save these few lines od code
p24092
aVYou could use the following pattern to do this in a more elegant way, though:
p24093
aVI just used  as an interface, but you could define your own  interface:
p24094
aVand thus avoid the need to use a generic  and return null from the Callable
p24095
aVEDIT: in case you want to return something from your methods, then make the  method generic
p24096
aVHere's a complete example:
p24097
as(dp24098
g23
V571407
p24099
stp24100
a((dp24101
g2
(lp24102
VThe following works
p24103
aVIt's a bit ugly, but it fulfils the contract:
p24104
aVYou could also get the pattern from the currency format, remove the currency symbol, and reconstruct a new format from the new pattern:
p24105
as(dp24106
g23
V571407
p24107
stp24108
a((dp24109
g2
(lp24110
VYou want to associate a question with an existing pool
p24111
aVThis pool has ID 1, and is in the database
p24112
aVSo you don't want to create a new pool
p24113
aVis thus not what you want
p24114
aVThe pool is in the database
p24115
aVTo get entities from the database, the Hibernate session is what must be used
p24116
aVSo you ask the Hibernate session to get the pool with ID 1 from the database:
p24117
aVThen you must associate the pool to the question
p24118
aVSince the association is bidirectional, you also want the pool to contain this new question:
p24119
aVAnd finally, you want the question to be persisted in database:
p24120
aVIf the pool must be created along with the question, then you must instantiate a new pool, save it, and do the same thing as above
p24121
as(dp24122
g23
V571407
p24123
stp24124
a((dp24125
g2
(lp24126
VYou're doing it backwards
p24127
aVHaving an entity inheritance with BaseEntity is not something you want: you'll never have an association from one entity to a BaseEntity
p24128
aVBaseEntity should thus be either a regular class, without any annotation, or a MappedSuperclass if it has some mapping annotations
p24129
aVOn the contrary, there's a good chance you'll have some entity which has an association with other persons, without caring if they're doctors or employees
p24130
aVSo an entity inheritance between persons, doctors or employees makes sense
p24131
aVIf it's not the case, and every entity references either doctors or employees, then Person should also be a MappedSuperclass
p24132
as(dp24133
g23
V571407
p24134
stp24135
a((dp24136
g2
(lp24137
VNo
p24138
aVEvery public and non final class could be your superclass
p24139
aVProposing them all would force Eclipse to show thousands of classes, and would not really help you
p24140
aVYou're supposed to know which class you want to extend
p24141
aVJust type its name, the beginning of its name, or the first letter of each of its words (ATM for AbstractTableModel, for example), and Eclipse will then show you matching classes
p24142
as(dp24143
g23
V571407
p24144
stp24145
a((dp24146
g2
(lp24147
VJust implement this algorithm:
p24148
aVget data from the DB
p24149
aVif data exists, return data
p24150
aVif data doesn't exist, get a lock associated with the id of the data to get // blocking call
p24151
aVonce you have the lock, check if data is in the DB, and if so, return the data
p24152
aVElse, call the service and put the data in the DB
p24153
aVrelease the lock
p24154
aVThis way, you wait on a lock only when the data doesn't exist in the DB yet
p24155
aVThe first concurrent thread getting the lock is the only one calling the service, and all the other ones get the data from the DB
p24156
aVThis shouldn't prevent you from correctly designing the database, and using a unique primary key for the data
p24157
aVIt will still be needed if you have a cluster of servers anyway
p24158
as(dp24159
g23
V571407
p24160
stp24161
a((dp24162
g2
(lp24163
VFirst, I would probably not use criteria for this
p24164
aVCriteria is useful when the query must be dynamically generated based on variable search criteria
p24165
aVYour query is completely static, doesn't return entities but scalars, and you already have it
p24166
aVWhy not just using a SQL query
p24167
aVOr at least a HQL query if you don't want to hard-code table and column names
p24168
aVIf criteria, for some obscure reason, is the only accepted way to execute this query, I would not format the result of the query in SQL
p24169
aVI would do it in Java, which would at least make the select and group by clauses easier to generate
p24170
aVThe only hard thing left is the date format
p24171
aVBut wait, your query select rows which must all be in the current month
p24172
aVAll the returned rows will have the same formatted date
p24173
aVSo, why selecting it in the first place
p24174
aVSo in fact, your query could be rewritten as is:
p24175
aVAnd suddenly, it becomes simple to execute, in HQL or Criteria
p24176
as(dp24177
g23
V571407
p24178
stp24179
a((dp24180
g2
(lp24181
VThis is trival to implement
p24182
aVStart with an empty StringBuilder
p24183
aVIterate through each char of
p24184
aVIf the char is contained in the String of valid chars, add it to the StringBuilder
p24185
aVConvert the StringBuilder to a String
p24186
aVDone
p24187
as(dp24188
g23
V571407
p24189
stp24190
a((dp24191
g2
(lp24192
VYou still haven't shown us the query, in
p24193
aVAnyway, here's how you get a list of cars with a retriction on their manufacturer name and an order on their manufacturer ID:
p24194
aVAll this is very well explained in the Hibernate reference manual
p24195
as(dp24196
g23
V571407
p24197
stp24198
a((dp24199
g2
(lp24200
VYou're making you life difficult
p24201
aVWhy don't you simply compute the date limit in Java before executing the query
p24202
aVAnd since the query is completely static, why using the Criteria API
p24203
aVHQL is much easier:
p24204
as(dp24205
g23
V571407
p24206
stp24207
a((dp24208
g2
(lp24209
VSee
p24210
aVYou shouldn't call the  method yourself
p24211
aVis a method that AWT will call when needed, and it will provide the Graphics object to the method
p24212
aVTo display your applet, you need to put it inside a Frame, and make the Frame visible
p24213
aVAWT will call the paint method each time it needs to
p24214
aVNote that an Applet is normally used to embed some Java
p24215
aVapplet inside an HTML page
p24216
aVIf all you need is a standalone Java application, you should use a Canvas, or even better, not use AWT at all and use Swing instead
p24217
aVGoogle for "swing tutorial"
p24218
as(dp24219
g23
V571407
p24220
stp24221
a((dp24222
g2
(lp24223
VObviously, it's not possible to inject anything in an object if this object doesn't exist
p24224
aVAnd to exist, an object must be constructed
p24225
aVSpring supports constructor injection:
p24226
aVSpring also supports @PostConstruct, which allows initializing a bean after all the dependencies have been injected
p24227
aVDon't know about JSF
p24228
as(dp24229
g23
V571407
p24230
stp24231
a((dp24232
g2
(lp24233
VTest if  returns , and if so, call  and use the resulting  instance to formate the message with its resource key and its values
p24234
aVNote that action messages are typically displayed from a JSP, and that the JSP should use the struts errors and messages tags to display the messages
p24235
as(dp24236
g23
V571407
p24237
stp24238
a((dp24239
g2
(lp24240
VTo be able to call a method on an object in Java, you need an instance of this object, and you need to have a variable declared with the appropriate type
p24241
aVThe only other way is to use reflection to call the method
p24242
aVJava is not like JavaScript: it's strongly typed, and doesn't have duck typing
p24243
aVWhat you should probably do is to make all those objects implement a common interface:
p24244
aVAnd use the following code (you need to handle the exceptions, but I omitted them):
p24245
as(dp24246
g23
V571407
p24247
stp24248
a((dp24249
g2
(lp24250
VIf you want the properties files to be in your main source folder, then the package tree must match with the folder tree (which is a good thing, because it makes things much simpler), and you must thus have a, b and c as direct subfolders of the source folder
p24251
aVIf you want to put the properties file in a different folder, you must create a new source folder in Eclipse (named "properties", for example), outside of the main source folder
p24252
aVRight-click the project, select New, and the Source Folder
p24253
as(dp24254
g23
V571407
p24255
stp24256
a((dp24257
g2
(lp24258
VJust store the references to the created threads somewhere
p24259
aVThe main class could maintain a list for the N threads, and each N thread could maintain a reference to the a, b and c threads it creates
p24260
as(dp24261
g23
V571407
p24262
stp24263
a((dp24264
g2
(lp24265
VYou're mixing inheritance and delegation
p24266
aVWhen an object calls
p24267
aVit doesn't call  on another object which has the type of the object's superclass
p24268
aVIt calls it on himself
p24269
aVand  are the same thing
p24270
aVjust allows to access the version of a method defined in the superclass, and overridden in the subclass
p24271
aVSo, changing the super instance doesn't make sense: there is no super instance
p24272
as(dp24273
g23
V571407
p24274
stp24275
a((dp24276
g2
(lp24277
VCreate a join on the event, and apply the restriction on the ID of the event:
p24278
aVAnd then use CriteriaBuilder's and method to combine the two predicates into one as shown by Lukas's answer
p24279
as(dp24280
g23
V571407
p24281
stp24282
a((dp24283
g2
(lp24284
VI don't think so, except using the criteria API
p24285
aVBut really, the type-safety and correctness of the code depends much more on the query passed to  than on the type of the list returned by the query
p24286
aVMoreover, you'll have to cast every element of the array anyway
p24287
aVThe SuppressWarnings annotation is the the last thing I would care about
p24288
aVThe only thing that will really make the code type-safe is an automated test that executes the query and the code which consumes the result
p24289
as(dp24290
g23
V571407
p24291
stp24292
a((dp24293
g2
(lp24294
Vsince we do not have a limit to the String Literal Pool, why not the
p24295
aVsame for other types
p24296
aVBecause the number of String literals in a set of Java classes is bounded, and probably rather low
p24297
aVOn the contrary, the number of dynamically boxed Integer instances is not bounded (well, there are 2^32 possible values)
p24298
aVCaching them all would consume gigabytes of memory, and would be counter-productive
p24299
aVAnd I'm not even talking about all the other types: char, short, long, etc
p24300
aVThis simple program would lead to an OutOfMemoryError:
p24301
as(dp24302
g23
V571407
p24303
stp24304
a((dp24305
g2
(lp24306
VI think the fetch strategy will only be applied if the association is eagerly fetched
p24307
aVYou didn't mark the set with , so the set is lazy-loaded the first time it's accessed
p24308
aVNote that setting  will make Hibernate load the blogs of a user each time the user is loaded
p24309
aVYou should perhaps let the association with , and use an ad-hoc HQL query with join fetching when you need a user with his blogs:
p24310
as(dp24311
g23
V571407
p24312
stp24313
a((dp24314
g2
(lp24315
VJust make your transport classes implement the Serializable interface, and everything will be fine with RMI
p24316
aVNote that every object referenced bt the transport object should also be Serializable
p24317
aVThe RMI tutorial uses an example with a custom Task interface implemented by a Pi custom class that is not a "standard" JDK class
p24318
as(dp24319
g23
V571407
p24320
stp24321
a((dp24322
g2
(lp24323
VYou shouldn't copy all the references from the superclass instance to the subclass instance
p24324
aVBTW, all these references should not even be accessible from the subclass, if they are declared as private fields in the superclass (as they should be, generally)
p24325
aVWhat you probably need is delegation, instead of inheritance:
p24326
aVFooAdapter could extend Foo or (better) theyr should implement a common interface, but that's not necessarily needed
p24327
aVIf this doesn't answer your problem, please tell us what you want to do, instead of telling us how you want to do it
p24328
aVWhat's the problem you want to solve
p24329
as(dp24330
g23
V571407
p24331
stp24332
a((dp24333
g2
(lp24334
VIf you want to avoid round-trips to the database and still code in a safe way, without having to deal with attaching/detaching objects to/from the Hibernate session, what you should do is use a Hibernate second-level cache
p24335
aVThis would enable to transparently cache the often used entities, their associations, and even result of queries that are often executed
p24336
aVThe caching would also be more efficient and use less memory, because it would be shared across all the user sessions
p24337
aVAnd of course, it would be safer, because you wouldn't ever have stale entities in the HTTP session
p24338
aVDefinitely the way to go, IMO
p24339
as(dp24340
g23
V571407
p24341
stp24342
a((dp24343
g2
(lp24344
VThis questions is beeing asked pretty often
p24345
aVArrayList doesn't make a copy of the objects you add to it
p24346
aVIt just stored references to these objects
p24347
aVSo, if you add, as you're doing, the same array twice, the list just holds two references to the same array
p24348
aVYou have to create a new array for each element of the list
p24349
as(dp24350
g23
V571407
p24351
stp24352
a((dp24353
g2
(lp24354
VThe javadoc mentions that
p24355
aVisOpaque must be true
p24356
aVthat depending on the L&F;, this property may be ignored
p24357
aVthat subclasses of JComponent must override paintComponent to honor this property
p24358
aVPutting setBackground in the constructor, and adding these two lines of code in  (before painting the red line) makes the panel black
p24359
aVAlso note that Swing components should always be created and modified in the EDT
p24360
aVYour main method should be like this:
p24361
as(dp24362
g23
V571407
p24363
stp24364
a((dp24365
g2
(lp24366
VA given component may only have one ancestor
p24367
aVSo, when you add a label to a panel, you're effectively removing it from the previous one
p24368
aVIf you want a label in 5 panels, you need 5 labels
p24369
aVTwo additional notes:
p24370
aVyou should learn Java naming conventions and stick to them
p24371
aVVariables start with a lower-case letter and classes with an upper-case letter
p24372
aVyou should learn to use layout managers
p24373
aVThat's the proper way to lay out components
p24374
aVDon't set the layout to null
p24375
as(dp24376
g23
V571407
p24377
stp24378
a((dp24379
g2
(lp24380
VThe problem is caused by the fact that when you add an Item to a category's children, you only do it if the item is not already contained in the children
p24381
aVAnd the equels method of Category considers two categories equal if they have the same children, even if they don't have the same name
p24382
aVSo your both categories are equal
p24383
as(dp24384
g23
V571407
p24385
stp24386
a((dp24387
g2
(lp24388
VSince the main thread ends as soon as the simple thread is started, the simple thread is the last application thread to finish, so the daemon thread ends when this thread ends
p24389
aVThe fact that the simple thread is the one that started the daemon thread has nothing to do with that
p24390
as(dp24391
g23
V571407
p24392
stp24393
a((dp24394
g2
(lp24395
VThe main problem solved by dependency injection is unit-testing
p24396
aVSuppose you have a DoorOpeningService which depends on a NuclearPlant
p24397
aVTo unit-test the DoorOpeningService, you would need to have a NuclearPlant (which is rather costly and hard to setup just to test opening doors)
p24398
aVIf the code of DoorOpeningService is like the following:
p24399
aVThe DoorOpeningService is very hard to unit-test
p24400
aVDependency injection allows giving the NuclearPlant to the DoorOpeningService
p24401
aVSo, instead of needing a real nuclear plant, you can give it a fake one, which always gives some electricity without needing all the real nuclear plant infrastructure
p24402
aVAnd the DoorOpeningService is thus much more easier to test:
p24403
aVHaving a framework inject dependencies for you is easier, and also allows for additional aspects (interceptors if you prefer) to be added
p24404
aVFor example, Spring can inject, instead of your NuclearPlant implementation, a proxy to this implementation that makes sure, for every call to the plant, that a transaction is open, or that the caller is authorized to call its methods, or that statistics are gathered to help diagnosing slow parts in the application
p24405
as(dp24406
g23
V571407
p24407
stp24408
a((dp24409
g2
(lp24410
VYou should use the unwrap method of EntityManager to access the provider-specific implementation
p24411
aVPS: I've not found any EntityManagerImpl in EclipseLink javadoc
p24412
aVWhere is it
p24413
as(dp24414
g23
V571407
p24415
stp24416
a((dp24417
g2
(lp24418
VGet the current Font, use  to get a new Font similar to the current one but with a new style, and apply the new font
p24419
as(dp24420
g23
V571407
p24421
stp24422
a((dp24423
g2
(lp24424
VI debugged your SSCCE, and the value passed to  is the empty string
p24425
aVChanging the line to
p24426
aVMakes everything work as expected
p24427
aVRemoving the call to  also makes the program behave as expected
p24428
aVEDIT:
p24429
aVThe other problem is that no event is fired for the prototype display value because you set it to the previous value as before, and an event is only fired if the value actually changes
p24430
aVAdding  before  makes everything behave as expected, even on JDK 1
p24431
ag23604
aVI agree that given that the font is changed, the preferred size should be recomputed, but at least this change is a workaround
p24432
as(dp24433
g23
V571407
p24434
stp24435
a((dp24436
g2
(lp24437
VThe  class needs to be mapped as a component
p24438
as(dp24439
g23
V571407
p24440
stp24441
a((dp24442
g2
(lp24443
VThe wording in the first paragraph is incorrect
p24444
aVThe request-scope attribute is
p24445
aVSince the JSP code uses , this means that  is a property of the bean stored in the attribute
p24446
aVYour understanding is thus correct, and the first paragraph of the book is wrong
p24447
as(dp24448
g23
V571407
p24449
stp24450
a((dp24451
g2
(lp24452
VYour web container will of course flush the response's output stream when it needs to
p24453
aVYou don't need any call to flush
p24454
aVBTW, Java code in JSP is bad practice anyway
p24455
as(dp24456
g23
V571407
p24457
stp24458
a((dp24459
g2
(lp24460
VYou may use a session-scoped bean, and you may also have an argument of type HttpServletRequest or HttpSession on all your request handling methods
p24461
aVSee http://static
p24462
aVspringsource
p24463
aVorg/spring/docs/3
p24464
ag10
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p24465
aVhtml#mvc-ann-methods
p24466
as(dp24467
g23
V571407
p24468
stp24469
a((dp24470
g2
(lp24471
VThe property is called , and not
p24472
aVDDL means Data Definition Language
p24473
aVDLL means Dynamic-Link Library
p24474
as(dp24475
g23
V571407
p24476
stp24477
a((dp24478
g2
(lp24479
VHere's a way to do it
p24480
aVThe run method is not typesafe, but given that the only way to append a pipe is to do it in a type-safe way, the whole chain is type-safe
p24481
as(dp24482
g23
V571407
p24483
stp24484
a((dp24485
g2
(lp24486
VFirst: there is no multi-dimensional arrays in Java
p24487
aVThere are only arrays containing arrays
p24488
aVArrays of arrays if you prefer
p24489
aVconstructs an array containing 2 arrays of int
p24490
aVThe first array contains the numbers 1 and 2, and the second contains the numbers 3, 4 and 5
p24491
aVThese numbers could be anything you want
p24492
aVThe line declares and populates the array at the same time
p24493
aVconstructs an array of arrays of ints, containing two null elements
p24494
aVThen, the first element of the outer array is initialized with an array of 2 ints, and the second element of the outer array is initialized with an array of 3 ints
p24495
aVAll the ints are initialized to their default value: 0
p24496
as(dp24497
g23
V571407
p24498
stp24499
a((dp24500
g2
(lp24501
VThe checkbox in the JSP is used to let the user choose if a remember-me cookie should be set or not, allowing for transparent authentication later
p24502
aVSpring excepts such a request parameter to decide if the cookie must be set or not
p24503
aVThe key in the security
p24504
aVxml is used to generate a more difficult to guess hash to store in the cookie
p24505
aVYou should put something only known by you
p24506
aVIt's a secret key
p24507
aVSee http://static
p24508
aVspringsource
p24509
aVorg/spring-security/site/docs/3
p24510
ag10
aVx/reference/springsecurity-single
p24511
aVhtml#remember-me
p24512
as(dp24513
g23
V571407
p24514
stp24515
a((dp24516
g2
(lp24517
VWhy don't you just wrap every method call inside a service object which validates its arguments
p24518
as(dp24519
g23
V571407
p24520
stp24521
a((dp24522
g2
(lp24523
VWell, it allows for a tag to receive a JSP fragment (the body of the tag) to execute when the tag wants to
p24524
aVFor example, you could design an  tag which receives a condition argument, and has a tag body
p24525
aVIf the condition is false, the tag doesn't do anything
p24526
aVIf it's true, the tag invokes the fragment
p24527
aVA  tag could invoke its fragment (executes the JSP code that is in its body) as many times as its  argument asks for
p24528
aVSince the fragment is probably used to generate some HTML code to include in the response, the out argument of the method is where the fragment's output is generated
p24529
aVYou might want to pass another writer if you want to postprocess what the fragment generates, for example, rather than letting the fragment write directly to the JSP writer
p24530
as(dp24531
g23
V571407
p24532
stp24533
a((dp24534
g2
(lp24535
VYou're probably looking for ScheduledThreadPoolExecutor :
p24536
aVyou decide how many threads are used
p24537
aVstandard JDK class
p24538
aVcancellable tasks
p24539
aVnot related to any GUI
p24540
aVI don't really understand the link between scheduled runnables and an event loop, but maybe you'll find what you're looking with this class
p24541
as(dp24542
g23
V571407
p24543
stp24544
a((dp24545
g2
(lp24546
VParse the HTML as a Document, then use a Cleaner to clean the document and generate another one, get the outputSettings of the document and set the appropriate charset and the escape mode to xhtml, then transform the document to a String
p24547
aVNot tested, but should work
p24548
as(dp24549
g23
V571407
p24550
stp24551
a((dp24552
g2
(lp24553
VI don't think there is any problem executing a create table statement with a Hibernate native query
p24554
aVJust make sure to use , and not  or
p24555
aVIf it doesn't work, please tell us what happens when you execute it, and join the full stack trace of the exception and the SQL query you're executing
p24556
as(dp24557
g23
V571407
p24558
stp24559
a((dp24560
g2
(lp24561
VFor the web application, the jar of the applet is just a static file that must be served over HTTP by the app, just like a CSS, image, HTML or JS file
p24562
aVJust put the jar anywhere you want in the webapp tree (i
p24563
ag468
aVin the war file), but not under WEB-INF (which is not accessible from the outside)
p24564
as(dp24565
g23
V571407
p24566
stp24567
a((dp24568
g2
(lp24569
VSwing components may not be used outside of the EDT
p24570
aVSo adding threads is not an option
p24571
aVThe obvious option is not to have as many components
p24572
aVA UI with 50,000 text areas is unusable
p24573
aVRedesign the UI
p24574
as(dp24575
g23
V571407
p24576
stp24577
a((dp24578
g2
(lp24579
VWhat meaningless chars does it give
p24580
aVProbably null chars, because you don't read all the chars from the reader, but at most 2048 chars, and you ignore the returned value from the read method (which tell you how many chars were actually read
p24581
aVIf you want to read the whole thing into a String, you'll have to loop until the returned value is negative, and append the chars read at each iteration (from 0 to numChars) to a StringBuilder
p24582
as(dp24583
g23
V571407
p24584
stp24585
a((dp24586
g2
(lp24587
VThe result is stored in the Future object itself
p24588
aVIt's not stored at server-side
p24589
aVThread 1 submits a Callable to an Executor
p24590
aVThis executor creates a Runnable which implements Future and which wraps the callable and its future result
p24591
aVIt returns this future
p24592
aVThread 2 from the executor executes the runnable future
p24593
aVWhen run, the future executes its wrapped callable, and stores the result of the callable in its result field
p24594
aVThread 1 asks the result from the future, and the future returns the result it has stored in its result field
p24595
aVLook at the source code and documentation of java
p24596
aVutil
p24597
aVconcurrent
p24598
aVFutureTask
p24599
as(dp24600
g23
V571407
p24601
stp24602
a((dp24603
g2
(lp24604
VJust because you have a project inside the workspace directory doesn't mean Eclipse opens it or even sees it automatically
p24605
aVYou must use File - Import - General - Import existing project into workspace to have your project in Eclipse
p24606
as(dp24607
g23
V571407
p24608
stp24609
a((dp24610
g2
(lp24611
VNo, it's not possible
p24612
aVWhat would you get if you try to cast a Horse to a Car
p24613
aVYou may only cast something to something it actually is
p24614
aVFor example, the following is OK:
p24615
aVBecause the object that the  variable references is an Integer, which is also a Number, which is also an Object
p24616
as(dp24617
g23
V571407
p24618
stp24619
a((dp24620
g2
(lp24621
VYou asked for a simple example, so I'll give one
p24622
aVSuppose you're designing a circle class
p24623
aVA circle can be characterized by its diameter:
p24624
aVA caller might want to know the diameter of the circle, so you add a getter:
p24625
aVYou might also want to get the area of the circle, so you add a getter for the area:
p24626
aVAnd then you realize that using the radius rather than the diameter is easier for the internal methods of the circle
p24627
aVBut you want to keep all the users of your class as is, to avoid breaking a lot of existing code
p24628
aVSo you change the internals of the class without changing the interface:
p24629
aVAnd finally, you would like to change the diameter of the circle, so you add a setter:
p24630
aVBut wait, a circle with a negative diameter makes no sense, so you make the method safer:
p24631
aVHad you precomputed the area at construction time, the setDiameter would have had to change the value of the area as well:
p24632
aVGetters and setters are just methods
p24633
aVBut they follow a naming conventions that makes your code easy to grasp, and usable by a number of frameworks which rely on these conventions
p24634
as(dp24635
g23
V571407
p24636
stp24637
a((dp24638
g2
(lp24639
VWell, setting it in eclipse
p24640
aVini will make Eclipse have the given memory settings, whereas if you set them "inside Tomcat server", then Tomcat will have the given memory settings
p24641
aVTomcat and Eclipse are two different Java programs, and each runs in its own JVM
p24642
aVSo each may have its own memory settings
p24643
as(dp24644
g23
V571407
p24645
stp24646
a((dp24647
g2
(lp24648
VUse absolute paths rather than relative paths:
p24649
aVrather than
p24650
aVYou must also make sure that the web app's context path is always prepended, so the path should in fact be
p24651
aVor, if you use the JSTL:
p24652
as(dp24653
g23
V571407
p24654
stp24655
a((dp24656
g2
(lp24657
V uses a GroupLayout
p24658
aVTo be visible, your ToolBoxGUI would have to be added to this GroupLayout
p24659
aVIf what you want is to make the ToolBoxGUI the unique component of jPanel1, then remove the code which sets the layout of jPanel1:
p24660
aVand replace it with
p24661
aVOr, if you want to replace jPanel1 with the ToolBoxGUI, remove the same code as above, and initialize jPanel1 with
p24662
as(dp24663
g23
V571407
p24664
stp24665
a((dp24666
g2
(lp24667
VThe syntax for the JSP expression language is
p24668
aVNot
p24669
aVEach time you use a JSP tag, its tag library must be declared in the JSP
p24670
aVThe fact that you configure Spring to use a JstlView has nothing todo with the possibility of using the  tags
p24671
aVIt just configures Spring to perform appropriate actions before dispatching to the view
p24672
aVshould always be used to render a string, unless you're absolutely sure that the string doesn't contain any character that must be HTML-escaped
p24673
aVNot using it opens the door to attacks where a user could submit a text containing  or a piece of javascript code that would compromise your web site
p24674
aVRead the official tutorial about servlets and JSPs: http://docs
p24675
aVoracle
p24676
aVcom/javaee/5/tutorial/doc/bnadp
p24677
aVhtml
p24678
as(dp24679
g23
V571407
p24680
stp24681
a((dp24682
g2
(lp24683
VJust post a regular form rather than posting in AJAX, and the browser will load the response from your PDF servlet in the page rather than loading it from JavaScript and ignoring it completely:
p24684
as(dp24685
g23
V571407
p24686
stp24687
a((dp24688
g2
(lp24689
VIMHO, entities should be the core of your application, and should be designed, implemented and documented with care
p24690
aVThey're supposed to be objects, with methods encapsulating behavior
p24691
aVHaving them autogenerated is an absurdity, IMO
p24692
aVGenerating them at the very beginning might be an option to get you started, but once they've been generated, hand-craft them and don't generate them again
p24693
aVAdd necessary properties and methods as the schema changes, and refactor existing code
p24694
aVBTW, I really prefer using annotations for the mapping, because it's less verbose, less error-prone, and all the information is in a single place
p24695
as(dp24696
g23
V571407
p24697
stp24698
a((dp24699
g2
(lp24700
VI don't think it's a good idea, but if you really have to do it, then use a Semaphore initialized with 10 permits, acquire the semaphore at the beginning of the servlet/jsp/action, and release it, in a finally block, when the servlet/jsp/action has ended its work
p24701
aVYou might also do this in a Filter, to decouple the access limitation code from the functional code
p24702
as(dp24703
g23
V571407
p24704
stp24705
a((dp24706
g2
(lp24707
VSection 2
p24708
aV2 of the specification (3
p24709
aV0) says:
p24710
aVFor a servlet not hosted in a distributed environment (the default),
p24711
aVthe servlet container must use only one instance per servlet
p24712
aVdeclaration
p24713
aVSo, if a container uses a pool of instances, it's in violation of the spec
p24714
aVI don't see why a container would do that, since every servlet developers know that multiple threads may access the servlet concurrently, and the servlet must thus be thread-safe
p24715
as(dp24716
g23
V571407
p24717
stp24718
a((dp24719
g2
(lp24720
VInheritance is used to define a  relationship
p24721
aVA SavingsAccount is an Account, and a CreditAccount is an Account
p24722
aVSo, since a  is used to contain s, and a CreditAccount or SavingsAccount is an Account, you can add instances of both classes into the :
p24723
aVWhen you'll get an account from the list ( for example), this account will be either a CreditAccount or a SavingsAccount, and calling an abstract method will call the implementation of the method defined in the subclass
p24724
as(dp24725
g23
V571407
p24726
stp24727
a((dp24728
g2
(lp24729
VOut of use array elements are not used, so the value they contain should not matter
p24730
aVWhats important is that when you instantiate a new array (of ints), all its elements are initialized to 0
p24731
aVThis is just easier to use and safer than if they were initialized to an arbitrary value, because most of the time, when you create an array, either you explicitely initialize every element and the default value doesn't matter, or you don't because you all want them to be 0
p24732
as(dp24733
g23
V571407
p24734
stp24735
a((dp24736
g2
(lp24737
VYou're using a FileWriter to the file you're reading, so the FileWriter clears the content of the file
p24738
aVDon't read and write to the same file concurrently
p24739
aVAlso:
p24740
aVdon't assume a file contains a line
p24741
aVYou shouldn't use a do/while loop, but rather a while loop;
p24742
aValways close steams, readers and writers in a finally block;
p24743
aVcatch(Exception) is a bad practice
p24744
aVOnly catch the exceptions you want, and can handle
p24745
aVElse, let them go up the stack
p24746
as(dp24747
g23
V571407
p24748
stp24749
a((dp24750
g2
(lp24751
VYou're doing the upload in the event dispatch thread
p24752
aVSo the painting code, which is executed in the same thread, can't be executed until the upload is finished
p24753
aVEvent handling code should finish as quickly as possible
p24754
aVIf you have a long task to execute, it should be executed in a separate, background thread
p24755
aVUse SwingWorker to do what you want
p24756
aVIts javadoc has an easy to understand example
p24757
as(dp24758
g23
V571407
p24759
stp24760
a((dp24761
g2
(lp24762
VIt depends
p24763
aVIf you have a OneToMany, and the address table has a foreign key to the person, removing the address will work
p24764
aVIf the person and its addresses have been loaded in the session prior to the deletion of the address, its list of addresses will still contain the deleted address
p24765
aVYou have to maintain all the associations yourself
p24766
aVIf the person's addresses have not been loaded yet, when they are loaded, the list won't contain the deleted address, obviously, since Hibernate won't find it in the database
p24767
aVIf the OneToMany uses a join table, or if it's a ManyToMany, then deleting the address without removing it from te list of addresses of all the persons referencing it will lead to an exception, since the join table will continue to reference an address that you want to delete
p24768
aVThe foreign key constraint is what will cause the exception
p24769
as(dp24770
g23
V571407
p24771
stp24772
a((dp24773
g2
(lp24774
VYou haven't really looked at template engines
p24775
aVJSP, Velocity and FreeMarker are not template engines (with your meaning of a template engine)
p24776
aVThey're languages allowing to generate markup dynamically, and get the data to display in the generated HTML from Java objects
p24777
aVTapestry is a complete web application framework, based on components
p24778
aVIf you're using JSP to generate the HTML pages, you can use a template engine on top of JSP like Tiles or SIteMesh, which will handle the templating, and thus allow to have one JSP per "component" of a full page
p24779
aVJSP should generaly not be used without an web MVC framework like Stripes, Spring MVC or Struts2
p24780
aVAll of these either have their own templating support, and/or support integrating another one like SiteMesh or Tiles
p24781
as(dp24782
g23
V571407
p24783
stp24784
a((dp24785
g2
(lp24786
VLoop through the array, and convert each String to a byte using
p24787
aVparses signed bytes only, and doesn't consider the sign bit as a sign bit
p24788
as(dp24789
g23
V571407
p24790
stp24791
a((dp24792
g2
(lp24793
VJava passes all its arguments by value
p24794
aVThis means that a copy of the pointer to the String is made, and then passed to the method
p24795
aVThe method then makes the pointer point at another object, but the original pointer still points to the same String
p24796
as(dp24797
g23
V571407
p24798
stp24799
a((dp24800
g2
(lp24801
VThe exception message is quite clear: the  class is not serializable
p24802
aVMake it implement , or declare it as  if it must not be serialized
p24803
as(dp24804
g23
V571407
p24805
stp24806
a((dp24807
g2
(lp24808
VNote: embedding the modification of the  variable inside the method call makes it confusing
p24809
aVI would separate it into 2 instructions to make the code more obvious:
p24810
aVPS: are you sure you don't want to simply use a JTextArea
p24811
as(dp24812
g23
V571407
p24813
stp24814
a((dp24815
g2
(lp24816
VWell, JMS seems like the obvious solution
p24817
aVI don't think you'll find something solid to solve this problem since JMS solves it and is a standard solution
p24818
aVNote however that Java also has BoundedQueues to solve this problem: dimension the queue to make sure it won't fail with an OOME when the queue is full, and producers will be blocked while trying to put a message in the full bounded queue until some task is removed from the queue by one of the consumers
p24819
as(dp24820
g23
V571407
p24821
stp24822
a((dp24823
g2
(lp24824
VRemove the doc type, and use the following web-app element declaration:
p24825
aVThe doc type you use declares your web-app as a 2
p24826
aV3 webapp, which doesn't have support for annotations
p24827
as(dp24828
g23
V571407
p24829
stp24830
a((dp24831
g2
(lp24832
VDon't change anything in your program
p24833
aVIf it works correctly in NetBeans, then it runs correctly
p24834
aVYou're seeing strange characters in the Windows command prompt because it doesn't handle non-ascii chars correctly
p24835
aVThe problem is in the Windows command prompt, not in your program
p24836
aVSee Unicode characters in Windows command line - how
p24837
as(dp24838
g23
V571407
p24839
stp24840
a((dp24841
g2
(lp24842
VFirst, your code doesn't compile
p24843
aVIt should adhere to JavaBeans conventions, and the method should thus be
p24844
aVNow, just because you have a spring XML file and the spring jars in your classpath doesn't make Spring magically run and inject dependencies
p24845
aVYou need to load an application context, and load at least one bean from this context
p24846
aVThis bean will have all its dependencies injected, recursively
p24847
aVSee http://static
p24848
aVspringsource
p24849
aVorg/spring/docs/3
p24850
ag10
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p24851
aVhtml#beans-factory-instantiation for an example
p24852
as(dp24853
g23
V571407
p24854
stp24855
a((dp24856
g2
(lp24857
VDon't use scriptlets in JSP
p24858
aVUse the JSP EL:
p24859
as(dp24860
g23
V571407
p24861
stp24862
a((dp24863
g2
(lp24864
VThe first snippet is OK, except it returns  instead of  in the second case
p24865
aVThe default case, which should never happen, should throw an  in case it actually happens
p24866
as(dp24867
g23
V571407
p24868
stp24869
a((dp24870
g2
(lp24871
VMake sure to have all the JSPs use
p24872
aVelse a session will be created as soon as a JSP is executed
p24873
as(dp24874
g23
V571407
p24875
stp24876
a((dp24877
g2
(lp24878
VTh restriction is not set by JPA
p24879
aVIt's in your database: the  join column in the join table is a foreign key to the ID of the event
p24880
aVYou may not remove the event because some user is still referencing it
p24881
aVIf you want to delete the event, and also delete all the references from users to the event, then you must search for all the users referencing the event, remove the event from their list, and then delete the event
p24882
as(dp24883
g23
V571407
p24884
stp24885
a((dp24886
g2
(lp24887
Vour servlet calss is in the package , but the class name you set in the web
p24888
aVxml is
p24889
aVMoreover, you gave the name  to your servlet in the web
p24890
aVxml, but your mapping uses the name
p24891
aVServlet names are case-sensitive
p24892
as(dp24893
g23
V571407
p24894
stp24895
a((dp24896
g2
(lp24897
VConstruct a Calendar from the Date, use the Calendar to set the year, and then get back a Date object from the Calendar
p24898
as(dp24899
g23
V571407
p24900
stp24901
a((dp24902
g2
(lp24903
VThe message is pretty clear:  throws an , but your code catches
p24904
aVCatch the appropriate exception type
p24905
as(dp24906
g23
V571407
p24907
stp24908
a((dp24909
g2
(lp24910
VIt seems to me that this query could be rewritten using a simple join:
p24911
aVTranslating this HQL query in Criteria is now much easier
p24912
aVThis of course supposes that you have an association between Table1 and Table2, but you should have one
p24913
as(dp24914
g23
V571407
p24915
stp24916
a((dp24917
g2
(lp24918
VThis is expected
p24919
aVA Tag has a set of statuses, and the collection of statuses in the Tag class contains all these statuses
p24920
aVIf it didn't, and you added a status to the set of statuses in the tag, would you expect all the non-loaded statuses to be deleted from the database
p24921
aVMoreover, your query does the following:
p24922
aVSo it only fetches tags
p24923
aVThen, since you configured the collection of stateses to be eagrely fetched, the set of statuses of the tag is loaded, in an additional query, from the database
p24924
aVIf you want to load a partial view of entities, then you shouldn't load entities
p24925
aVNote that Hibernate allows loading partial entities, but you should use this feature with caution, because it's very dangerous
p24926
aVOnly use these partial entities as if they were read-only DTOs
p24927
aVAlso note that this behavior is not supported by other JPA engines
p24928
aVIf you want to load a tag with a partial set of its statuses, you should do it in a single query, by adding a fetch mode for the statuses:
p24929
as(dp24930
g23
V571407
p24931
stp24932
a((dp24933
g2
(lp24934
VCreating an array of  only creates the array
p24935
aVIt doesn't create any  to fill the array
p24936
aVThe arrays is thus filled with s
p24937
aVYou must create a JPanel for each element of the array:
p24938
aVMoreover, a component may only have one ancestor
p24939
aVThe button must be added to the frame or to the panel, but not both
p24940
aVIf you want the button in the panel, it must be added to the panel
p24941
aVComponents are visible by default (except top-level ones like frames or dialogs which must be made visible)
p24942
aVYou don't need to call
p24943
aVYou should definitely learn to use layout managers rather than setting the size and bounds of your components explicitely
p24944
aVThat's the only way to have good-looking, portable GUI apps
p24945
aVRead http://docs
p24946
aVoracle
p24947
aVcom/javase/tutorial/uiswing/layout/using
p24948
aVhtml
p24949
as(dp24950
g23
V571407
p24951
stp24952
a((dp24953
g2
(lp24954
VA cascade set to DELETE wouldn't delete the association between a group and a user when you delete a user
p24955
aVIt would delete the groups themselves
p24956
aVTo delete the association, you just have to remove all the groups from the collection of groups of the user before deleting the user:
p24957
aVRemoving the groups from the users is what will delete the associations from the join table
p24958
as(dp24959
g23
V571407
p24960
stp24961
a((dp24962
g2
(lp24963
VThis means that you have used the Eclipse compiler to compile your own classes, and that some classes didn't compile (due to missing Spring jars in the compilation classpath)
p24964
aVEclipse generates class files for non-compiling class files, but with methods throwing errors instead of containing the actual code (since it doesn't compile)
p24965
aVFix the compilation issues, and regenerate your jars
p24966
as(dp24967
g23
V571407
p24968
stp24969
a((dp24970
g2
(lp24971
VCreate a  class, with an ID and a name, and a  method which returns the name, and add instances of  to the combo box instead of adding the names
p24972
aVThe  method will return a , and you'll just have to call  to get its ID
p24973
as(dp24974
g23
V571407
p24975
stp24976
a((dp24977
g2
(lp24978
VEdit the run configuration of the class you want to run, go to the Arguments tab, click the Variables
p24979
aVbutton under the Program arguments text box, and select one of the  variables
p24980
aVDo that for each argument
p24981
as(dp24982
g23
V571407
p24983
stp24984
a((dp24985
g2
(lp24986
VYes, since
p24987
aVa  is the most adapted data structure to store parameters
p24988
aVhas a  method
p24989
aVNote that this vulnerability has been fixed in recent versions of Tomcat
p24990
as(dp24991
g23
V571407
p24992
stp24993
a((dp24994
g2
(lp24995
VYour  method makes no sense: it loads a contact from the database, doesn't make any change to the contact, and updates the contact
p24996
aVThe edit method should either
p24997
aVload the contact from database, and modify the fields of the contacts (using values coming from the struts form)
p24998
aVor take a modified, detached contact as argument (stored in the session when user asked to modify the contact, for example), and then update or merge this contact
p24999
as(dp25000
g23
V571407
p25001
stp25002
a((dp25003
g2
(lp25004
VJPA engines should be able to store a byte array () as a blob in the database
p25005
aVI would use  rather than  for your entity field
p25006
as(dp25007
g23
V571407
p25008
stp25009
a((dp25010
g2
(lp25011
VUse delegation rather than inheritance
p25012
aVHave all the classes of a same group delegate to a common helper object to implement their method
p25013
as(dp25014
g23
V571407
p25015
stp25016
a((dp25017
g2
(lp25018
VIf a whole lot of rows are loaded when you retrieve a single row, it means that you configured a whole lot of associations to other entities to be eagerly loaded
p25019
aVConfigure them as lazy-loaded, and they won't be loaded by default
p25020
as(dp25021
g23
V571407
p25022
stp25023
a((dp25024
g2
(lp25025
VWith
p25026
aVRead the Hibernate reference manual for more information
p25027
aVIt explains everything
p25028
as(dp25029
g23
V571407
p25030
stp25031
a((dp25032
g2
(lp25033
VThe JSP uses ServletContext
p25034
aVgetResourceAsStream(), which doesn't do the same thing as
p25035
aVIt doesn't search for the resources in the classpath
p25036
aVIf you want to use , then use
p25037
aVIt will also work in a Java EE context
p25038
aVJust make sure to use a class loaded from the same classloader as the one you want to use to load your properties file
p25039
aVSuch a method call shouldn't be done in a JSP, though, but in a Servlet or action which forxards to the JSP
p25040
aVJSPs should be used to generate markup
p25041
as(dp25042
g23
V571407
p25043
stp25044
a((dp25045
g2
(lp25046
VA war file only contains compiled classes
p25047
aVYou won't find your source files in a war file
p25048
aVThat's not what it's used for
p25049
aVIf you want to share code and project files between two machines, use SVN, Git or another version control system
p25050
aVEven with 1 machine, you should use it anyway
p25051
as(dp25052
g23
V571407
p25053
stp25054
a((dp25055
g2
(lp25056
VYour HTML is invalid
p25057
aVYou may not have a  enclose a  like this
p25058
aVEither make the  itself visible or invisible, or put the  inside the , instead of putting it around the
p25059
aVAlso, unless  is a global JS variable, the code should be
p25060
as(dp25061
g23
V571407
p25062
stp25063
a((dp25064
g2
(lp25065
VThe JSP EL doesn't use fields
p25066
aVIt uses properties
p25067
aVIn order for this statement to work, you need to have a public method  in , and a public method  in
p25068
aVEDIT:
p25069
aVIf the getters are there, and nothing is being printed, it can have four reasons:
p25070
aVthere is no  attribute in the request
p25071
aVthere is a list of Speeches in the Speech request attribute, but this list is empty
p25072
aVthe language of each Speech of the list is null
p25073
aVthe name of each Language is null or blank
p25074
aVIf something is printed for the speech ID, it eliminates the first two reasons
p25075
as(dp25076
g23
V571407
p25077
stp25078
a((dp25079
g2
(lp25080
VA daemon thread is stopped when its run method returns, or when there is no non-daemon thread running anymore in the JVM
p25081
aVIf there is a non-daemon thread running forever, and the daemon thread's run method never returns, then the daemon thread also runs forever
p25082
as(dp25083
g23
V571407
p25084
stp25085
a((dp25086
g2
(lp25087
VIf you really want to do this, then simply make the access to the boolean variable synchronized, and wait for 10 seconds:
p25088
as(dp25089
g23
V571407
p25090
stp25091
a((dp25092
g2
(lp25093
V -->
p25094
aVDLL = Dynamic Link Library
p25095
aVDDL = Data Definition Language
p25096
as(dp25097
g23
V571407
p25098
stp25099
a((dp25100
g2
(lp25101
VThat's not how HTTP and HTML works
p25102
aVA request is used to load the HTML code
p25103
aVThis HTML code contains various  tags, and a new request is made to load each image
p25104
aVYou must generate HTML with  tags that have their  point to a Stripes action which will load the image and stream it to the response
p25105
aVA StreamingResolution is the right approach to implement this action, but the action will have to be called from another request
p25106
as(dp25107
g23
V571407
p25108
stp25109
a((dp25110
g2
(lp25111
VWhy don't you just put default values in the map (false and 0), and override them with the values from the request parameters if they are present
p25112
as(dp25113
g23
V571407
p25114
stp25115
a((dp25116
g2
(lp25117
VYes there is
p25118
aVUse optimistic locking
p25119
aVYou just have to add an @Version annotated persistent field to your entities, and understand how it works
p25120
aVRead http://docs
p25121
aVjboss
p25122
aVorg/hibernate/core/3
p25123
aV6/reference/en-US/html_single/#transactions-optimistic
p25124
aVEach time Hibernate writes an entity to the database, it checks that the stored version is still the same as the one in memory, and it increments this version
p25125
aVIf the versions don't match, it throws an which makes the transaction rollback
p25126
aVThis is what will allow the best throughput, and it's also the only system which can be used across two transactions: first transaction loads the object, user modifies it (which can takes minutes), the second transaction merges the object
p25127
as(dp25128
g23
V571407
p25129
stp25130
a((dp25131
g2
(lp25132
VThis is the easiest way to do it
p25133
aVThe other option is to create your own Criterion implementation, but unless you need it a whole lot of times, I wouldn't bother
p25134
as(dp25135
g23
V571407
p25136
stp25137
a((dp25138
g2
(lp25139
VUnless your app is used by casual visitors who only look at one page and then go, there is a good chance that the static resources are being downloaded once, and then served from the browser cache
p25140
aVMoreover, although static resources affect the bandwidth and the overall response time for the user, they should have a small impact on the server load, and they might not be the kind of thing that you want to measure
p25141
aVI guess you need to try mimicking what actual, real users would do with the application
p25142
as(dp25143
g23
V571407
p25144
stp25145
a((dp25146
g2
(lp25147
VMySQL has its own rules regarding case-sensitivity
p25148
aVComparisons between strings are case-insensitive and uses a collation by default
p25149
aVTo make it case insensitive the query or the column itself must use a binary collation
p25150
aVSee http://dev
p25151
aVmysql
p25152
aVcom/doc/refman/5
p25153
aV0/en/case-sensitivity
p25154
aVhtml for additional information
p25155
as(dp25156
g23
V571407
p25157
stp25158
a((dp25159
g2
(lp25160
VThe fetch mode only says that the association must be fetched
p25161
aVIf you want to add restrictions on an associated entity, you must create an alias, or a subcriteria
p25162
aVI generally prefer using aliases, but YMMV:
p25163
aVThis is of course well explain in the Hibernate reference manual, and the javadoc for Criteria even has examples
p25164
aVRead the documentation: it has plenty of useful information
p25165
as(dp25166
g23
V571407
p25167
stp25168
a((dp25169
g2
(lp25170
VNo need for a pre-commit hook to do that
p25171
aVKeyword substitution is what you need
p25172
aVSee http://svnbook
p25173
aVred-bean
p25174
aVcom/en/1
p25175
aV7/svn
p25176
aVadvanced
p25177
aVprops
p25178
aVspecial
p25179
aVkeywords
p25180
aVhtml
p25181
aVI personally hate to have all those information in source files
p25182
aVThey just clutter up the files, and are usually not useful
p25183
aVThe history is kept in SVN anyway, and having SVN tell that the author of the file is the one who last modified it (and perhaps only fixed a typo) is meaningless, IMHO
p25184
as(dp25185
g23
V571407
p25186
stp25187
a((dp25188
g2
(lp25189
VNo, it's not a good practice
p25190
aVThe service layer should depend on the DAO layer, but the reverse should not be true
p25191
aVBut you may have a DAOHelperService object in the DAO layer that is injected in DAOs and in services
p25192
aVThat wouldn't break proper layering
p25193
as(dp25194
g23
V571407
p25195
stp25196
a((dp25197
g2
(lp25198
VIf the session attribute is null, there are five possibilities:
p25199
aVyou stored null in the attribute
p25200
aVthe session has timed out because you didn't browse any page of the application for some time before clicking your export link
p25201
aVyou invalidated the session before clicking the export link
p25202
aVyou didn't use the same browser to get the tare weights and to export them
p25203
aVsomething else modified the session (e
p25204
ag383
aV, filter, different action, etc
p25205
as(dp25206
g23
V571407
p25207
stp25208
a((dp25209
g2
(lp25210
VYou could just query for the values that are in the table and in your set, and then take the complement of what the query returns:
p25211
as(dp25212
g23
V571407
p25213
stp25214
a((dp25215
g2
(lp25216
VA hash uses no key
p25217
aVIt's just a one-way algorithm
p25218
aVYou give it something to digest, and it returns a hash
p25219
aVWhat it guarantees is that it's extremely hard to find the original input or any other input that leads to the same hash
p25220
aVYour algorithm has two basic problems (besides the lack of salting):
p25221
aVit uses String
p25222
aVgetBytes(), which relied on the default platform encoding, and thus differs from platform to platform
p25223
aVYou should specify an encoding such as UTF-8
p25224
aVit uses new String(byte[]), which has the same problem as above + an additional one: all the sequence of bytes are not valid character
p25225
aVTo transform a purely binary byte array into a String, use a base64 encoding algorithm
p25226
aVapache commons codes has one
p25227
as(dp25228
g23
V571407
p25229
stp25230
a((dp25231
g2
(lp25232
VUse urlencode to encode query parameters
p25233
as(dp25234
g23
V571407
p25235
stp25236
a((dp25237
g2
(lp25238
VYou must have a basic property mapped as ID, and a ManyToOne mapped on the same column, and using the  annotation
p25239
as(dp25240
g23
V571407
p25241
stp25242
a((dp25243
g2
(lp25244
VStart by reading the javadoc comments of the classes and methods
p25245
aVTry to understand the role of each class in the application
p25246
aVClasses and methods should have meaningful names (Player, Location, Dice, whatever)
p25247
aVThen start from the main method and see what it does
p25248
aVA monopoly game must have some kind of loop, and at each iteration, the next player changes its location, executes some action, which changes the state of the game
p25249
as(dp25250
g23
V571407
p25251
stp25252
a((dp25253
g2
(lp25254
VWhat you want is
p25255
aVYou can only assign a value to a variable
p25256
aVis not a variable
p25257
aVIt's an expression that returns a value or type char
p25258
aVYou should also use a  and append each char to the StringBuilder, because your loop creates a new String instance at each iteration, which is not efficient at all
p25259
as(dp25260
g23
V571407
p25261
stp25262
a((dp25263
g2
(lp25264
VThis is not how HTTP and HTML work
p25265
aVA first request is made to load HTML code
p25266
aVThis HTML code contains  tags, which point to the URL of the image
p25267
aVA second request is then made by the browser to load the image
p25268
aVYou can't download the HTML and the image in a single request
p25269
as(dp25270
g23
V571407
p25271
stp25272
a((dp25273
g2
(lp25274
VI don't know the code, but the math is not hard:
p25275
aVDivide the angle of the hour hand by 2PI, multiply by 12 and truncate, and you have the hours
p25276
aVDivide the angle of the minute hand by 2PI, multiply by 60 and truncate, and you have the minutes
p25277
aVExample : 06:15:
p25278
aVThe hour angle is a little bit more than PI
p25279
aVThe minute angle is PI/2
p25280
as(dp25281
g23
V571407
p25282
stp25283
a((dp25284
g2
(lp25285
VI see two potential problems here:
p25286
aVyour code doesn't maintain both sides of the bidirectional association
p25287
aVIf a crew is added to an emergency, the emergency should also be added to the crew (and vice-versa)
p25288
aVJPA doesn't maintain the coherence of the object graph for you
p25289
aVif you need to restart Tomcat to see changes, it means that the entity manager is never closed and reopened, and its cache of entities does still contain entities that have been loaded in a previous transaction
p25290
aVThere must be something wrong with the way you use the entity manager
p25291
aVAre you using the transactional and JPA support offered by Spring
p25292
aVSide note: when I see that EAGER is used on both sides of a many-to-many association, I immediately think: "this app will be veeeeery slow"
p25293
aVThe load of an emergency will load all its crews, which will load all their emergencies, which will load all their crews
p25294
aVrecursively
p25295
aVYou could load half of the database like that
p25296
as(dp25297
g23
V571407
p25298
stp25299
a((dp25300
g2
(lp25301
VLoop over the map entries and execute the update statement for each entry:
p25302
aVNote that a map is really a bad choice for storing these arguments
p25303
aVWhat if you had several values to set or several elements in the where clause
p25304
aVWhat if several memos share the same label
p25305
aVYou should use a , where  would be an object having a  and a  fields
p25306
as(dp25307
g23
V571407
p25308
stp25309
a((dp25310
g2
(lp25311
VThe two objects need to have a reference to the JFrame object in some way
p25312
aVWhen constructing the two objects, pass them the JFrame object
p25313
aVThe constructor can then store the frame in an instance field, and do whatever they want to do with it whenever they want
p25314
aVOr these objects shouldn't be concerned with the UI, and should only provide services to the frame
p25315
aVIn this case, have the frame call these services and update itself with the result of those services
p25316
as(dp25317
g23
V571407
p25318
stp25319
a((dp25320
g2
(lp25321
VIf you read the message and the stack trace of the exception, you'll see that this exception is not thrown by the call to persist, but by the flush:
p25322
aVerror during managed flush
p25323
aVpersist doesn't issue any query and doesn't save anything to database
p25324
aVIt just asks the entity manager to make a transient entity persistent
p25325
aVAt flush time (i
p25326
ag468
aVjust before the commit of the transaction, or before Hibernate executes a query which might need this entity to be in database to return the correct results, or when  is explicitely called), then the constraints are checked and the insert query is executed
p25327
aVYou might call flush explicitely, but it would affect the performance of the application by not letting Hibernate to batch multiple queries and execute them only when necessary
p25328
aVI would just use the native exception
p25329
aVWhy do you need such a conversion
p25330
as(dp25331
g23
V571407
p25332
stp25333
a((dp25334
g2
(lp25335
VThe TABLE strategy doesn't consist in using an auto_increment field in the table
p25336
aVIt consists in using an external table acting as a set of sequences, using a HI/LO algorithm
p25337
aVThe jump is a consequence of jumping to the next HI value
p25338
aVI would advise using sequences with PostgreSQL
p25339
aVThey're the most natural choice, IMHO
p25340
as(dp25341
g23
V571407
p25342
stp25343
a((dp25344
g2
(lp25345
VUse a
p25346
aVIt plays the same role as Timer, but fixes its weaknesses (like the one you're encountering)
p25347
as(dp25348
g23
V571407
p25349
stp25350
a((dp25351
g2
(lp25352
VYes, it's correct
p25353
aVHibernate uses the owning side of the association to persist the association
p25354
aVThe owning side is the side where there is no "mappedBy" attribute
p25355
aVThe cascade will make all the answers persistent when you persist a question, and will merge the answers when you merge the question, and similarly for all the other operations
p25356
aVBut the association must be handled by you
p25357
as(dp25358
g23
V571407
p25359
stp25360
a((dp25361
g2
(lp25362
VThe code is thread-safe, because  adn  are the same object
p25363
aVA cast doesn't transform an object into another object
p25364
aVThe code lacks encapsulation, though, because it lets any subclass access the protected  field in an unsynchronized way
p25365
aVSo, any subclass might use  or  without any synchronization
p25366
aVThe field should be private
p25367
as(dp25368
g23
V571407
p25369
stp25370
a((dp25371
g2
(lp25372
VCall  on your
p25373
aVThis will return a , and you may then call  on this
p25374
as(dp25375
g23
V571407
p25376
stp25377
a((dp25378
g2
(lp25379
VSee
p25380
aVSo in JSP :
p25381
as(dp25382
g23
V571407
p25383
stp25384
a((dp25385
g2
(lp25386
VIt isn't stored anywhere except, maybe, in the cache of the browser
p25387
aVWhy would you want it to be stored anywhere
p25388
aVYou load the bytes in memory, and stream them to the response output stream
p25389
aVThey're just downloaded on the wire exactly like your generated HTML is
p25390
as(dp25391
g23
V571407
p25392
stp25393
a((dp25394
g2
(lp25395
VYou can't use a column name as a query parameter like that
p25396
aVHibernate doesn't just make a String substitution
p25397
aVIt translates the query into a SQL query and uses a prepared statement to bind parameters
p25398
aVAnd a column name can't be parameterized
p25399
aVYou'll have to do the string substitution yourself:
p25400
aVSide note: using a StringBuilder to concatenate static Strings is useless, and even counter-productive
p25401
as(dp25402
g23
V571407
p25403
stp25404
a((dp25405
g2
(lp25406
VUse , as explained in the documentation
p25407
aVThis allows service static resources from the web app, but also from the classpath
p25408
as(dp25409
g23
V571407
p25410
stp25411
a((dp25412
g2
(lp25413
VThe HTML select tag does not have a  attribute
p25414
aVIt has a  attribute
p25415
aVThe Spring  has a  attribute
p25416
aVUse  and not just
p25417
as(dp25418
g23
V571407
p25419
stp25420
a((dp25421
g2
(lp25422
VWhen calling , if any modification has been made between the moment the iterator was created and the moment  is called, a ConcurrentModificationException is immediately thrown
p25423
aVThis is what fail-fast means
p25424
aVThe Enumerations returned by Hashtable don't have this behavior
p25425
aVThey assume you know what you're doing, and their behavior, AFAIK, is undefined if you modify the map while iterating over it using one of its enumerations
p25426
as(dp25427
g23
V571407
p25428
stp25429
a((dp25430
g2
(lp25431
VIt's hard to say with so few details, and without even knowing what you'll use to access the database (JDBC
p25432
aVJPA
p25433
aVHibernate
p25434
aVBut
p25435
aVthe service layer and the persistence layer are not the same thing
p25436
aVTo ease decoupling and testability, I prefer having a pure service layer and a data access layer
p25437
aVinheritance is generally not the best way to reuse code
p25438
aVUse a well-design API, and prefer delegation over inheritance
p25439
aVAlso, don't reinvent the wheel
p25440
aVEJB3, Spring and other frameworks have good support to develop services and expose them as web services
p25441
as(dp25442
g23
V571407
p25443
stp25444
a((dp25445
g2
(lp25446
VJava has the  class to format dates
p25447
aVYou'll have to pass the user's  to get an instance, in order to display the date in the user's preferred language
p25448
aVAnd you'll have to set the user's  to the DateFormat to display the date in the user's time zone
p25449
as(dp25450
g23
V571407
p25451
stp25452
a((dp25453
g2
(lp25454
VThe outer table has
p25455
aVThis means that during the iteration, the tag lets you access the current hotel is the list using the page-scope attribute "hotelList"
p25456
aVI would thus name it "hotel", which would make it much clearer
p25457
aVYou need to access the list of rooms of the current hotel
p25458
aVYou use  to do this, which makes no sense: the list of hotels (of type , I guess) doesn't have any property named "roomList"
p25459
aVInstead, you want to access the current hotel's room list:  (provided you have renamed hotelList to hotel as suggested above)
p25460
aVAlso, the nested table uses the ID
p25461
aVSame as above: naming it "room" would be much less confusing
p25462
aVThe current object in the iteration is a room, not a room list
p25463
aVFinally, another problem is that the  attribute is also used to set an ID HTML attribute to the inner HTML table
p25464
aVSince an ID should be unique for the whole HTML page, and you will have several inner tables, this will lead to invalid HTML
p25465
aVYou should thus also set a  attribute to something unique, like
p25466
aVSee http://www
p25467
aVdisplaytag
p25468
aVorg/1
p25469
aV2/displaytag/tagreference
p25470
aVhtml for the tag reference
p25471
as(dp25472
g23
V571407
p25473
stp25474
a((dp25475
g2
(lp25476
VI wouldn't inject a List into an object, and thus break encapsulation, just for the sake of unit testing it by mocking the list
p25477
aVThe List is not an external dependency
p25478
aVIt's part of the internals of the class
p25479
aVIf you want to unit-test this class, test that the method who uses the objects stored in the list do actually use them as they should
p25480
aVYou should also test that the propertyChange method is called when you change a property of a model that you've added to the controller
p25481
aVOr you could add a  and a  method (potentially protected), to test that the addition worked as expected
p25482
as(dp25483
g23
V571407
p25484
stp25485
a((dp25486
g2
(lp25487
VI would decouple the commit from the update completely, like (AFAIK) continuous integration servers do
p25488
aVHave a cron trigger an update every X minutes on your apps
p25489
aVThis way, the commit time will not be impacted at all
p25490
as(dp25491
g23
V571407
p25492
stp25493
a((dp25494
g2
(lp25495
VIf you use , it will reset the status to 302
p25496
aVYou'll have to use setHeader to set the Location header yourself to redirect using a 301 status
p25497
aVExample code:
p25498
aVPulled from this answer:
p25499
aVHttpServletResponse sendRedirect permanent
p25500
as(dp25501
g23
V571407
p25502
stp25503
a((dp25504
g2
(lp25505
VYour mapping doesn't make much sense
p25506
aVIf all the columns in table B are part of the ID, that probably means that you might have several rows in it which have the same value in column W
p25507
aVSo, if a row in table A has this shared value, it actually references all these rows of table B
p25508
aVSo you don't have a ManyToOne association between TableA and TableB
p25509
aVRegarding your query, since the mapping is wrong in the first place, I don't see how I could write it
p25510
aVEnd even if it was OK, you should tell us what the query should return, because it's far from being clear
p25511
as(dp25512
g23
V571407
p25513
stp25514
a((dp25515
g2
(lp25516
VWhen a dynamic String can be put inside a JavaScript string literal, it should be JS-escaped
p25517
aVJust as when a dynamic String is put inside a HTML page, it's HTML-escaped
p25518
aVUse commons-lang  (or  depending on the version) to escape the String
p25519
aVYou could create a very simple EL function to do that straight from the JSP
p25520
aVNote that you could have problems with single quotes, but also double quotes, tags, EOLs, backslash, which must all be escaped in a JS String literal
p25521
as(dp25522
g23
V571407
p25523
stp25524
a((dp25525
g2
(lp25526
VIt's probably because the loaded entity has a toMany association that is eagerly fetched using a join
p25527
aVUse a distinct root entity result transformer to only get each root entity once in the list:
p25528
aVor return a Set rather than a List if the order is not important
p25529
as(dp25530
g23
V571407
p25531
stp25532
a((dp25533
g2
(lp25534
VIt doesn't matter
p25535
aVOne uses a local variable, and the other doesn't
p25536
aVUse what you find the most readable
p25537
as(dp25538
g23
V571407
p25539
stp25540
a((dp25541
g2
(lp25542
VThe line
p25543
aVtries to open the file , in a subdirectory  of the current directory
p25544
aVThe current directory is the directory where you are when you launch the java command in your command prompt
p25545
aVSo, if you're in  and launch , it will search for the file in c:\u005csrc\u005cpersonaldata
p25546
aVtxt
p25547
aVFile is thus used to access the file system
p25548
aVNot resources inside the jar
p25549
aVTo load a resource from the classpath, you must use
p25550
aVLook at the javadoc of this method to understand how it works
p25551
aVNote that writing to a file in the jar is impossible
p25552
as(dp25553
g23
V571407
p25554
stp25555
a((dp25556
g2
(lp25557
VYou shouldn't care how TCP splits your messages into packets and how many times you must read to get a full message
p25558
aVJust read until the end of the message has been reached, and then return all the bytes of the message
p25559
aVKnowing when the message has been read completely depends on your protocol
p25560
aVYou could choose to send only one message per connection, or you could send the length of the message before the message, or use some marker byte
p25561
aVNote that you shouldn't use  without specifying an encoding (and use the same when calling ), especially if you transfer from one machine to another, since both machines could have a different default encoding
p25562
as(dp25563
g23
V571407
p25564
stp25565
a((dp25566
g2
(lp25567
VIf EclipseLink tries to access this table, that means that it's supposed to be there
p25568
aVmeans that EclipseLink chooses the most appropriate generation type for your database (MySQL)
p25569
aVIn this case, the choice is to use a table-based generator, which needs a table
p25570
aVSee http://wiki
p25571
aVeclipse
p25572
aVorg/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/GeneratedValue
p25573
aVIf you don't want to use this strategy, choose another one
p25574
as(dp25575
g23
V571407
p25576
stp25577
a((dp25578
g2
(lp25579
VA join must always be done on an association
p25580
aVThe association between Event and UserEvent is mapped by the field
p25581
aVSo this is the field that you must use to create your join:
p25582
as(dp25583
g23
V571407
p25584
stp25585
a((dp25586
g2
(lp25587
VYou're trying to parse the content on the EditText in
p25588
aVI guess that the EditText is empty at this moment, so the parsing, as indicated in the javadoc, throws a NumberFormatException
p25589
aVI guess you should only parse the content of the EditText in the onClick method, when the user submits
p25590
aVI don't know how an EditText works, but if the user is allowed to enter something other than an integer in the EditText, you should catch NumberFormatException to avoid an exception to be thrown
p25591
aVNote that your two code snippets do exactly the same thing
p25592
aVThe first one just stores the content of the EditText in a local variable before parsing it
p25593
as(dp25594
g23
V571407
p25595
stp25596
a((dp25597
g2
(lp25598
VA JSP is evaluated by a web container like Tomcat or Jetty, and the HTML that it generates is then sent to the browser
p25599
aVThe browser can't run a JSP on its own
p25600
as(dp25601
g23
V571407
p25602
stp25603
a((dp25604
g2
(lp25605
VJust put the rest of the fetching into an if block with the inverse condition:
p25606
as(dp25607
g23
V571407
p25608
stp25609
a((dp25610
g2
(lp25611
VIt's hard to say without knowing the exact use-case, but it looks like you just want to reuse the common fields in all the entities, but that no other entity will have references to AbstractEntity - only to one specific subclass
p25612
aVIn this case, you should map the superclass with @MappedSuperclass rather than with @Entity
p25613
aVEach entity will have its own table, and can override the mapping defined in the mapped superclass
p25614
aVNote that if I'm mistaken, and you really need an entity inheritance, using , at least with Hibernate, will cause problems, because you might have a proxy to the base class, which doesn't know yet the exact subclass the foreign key is pointing to, and which is thus not an instance of any of the subclasses
p25615
as(dp25616
g23
V571407
p25617
stp25618
a((dp25619
g2
(lp25620
VAn application server with a fat client provides the same features as an application with a web app
p25621
aVIf application servers were only useful for webapps, there would be no point in using them even for webapps: a simple Tomcat or Jetty server would be sufficient
p25622
aVThe advantages of a full Java EE app server are the following ones:
p25623
aVdeclarative transaction management
p25624
aVdistributed transactions (across several databases, and/or a database and a JMS server, for example)
p25625
aVdeclarative and programmatic security
p25626
aVthread pooling
p25627
aVconcurrency handling
p25628
aVJPA support for persistence
p25629
aVJMS support for asynchronous communications
p25630
aVresources management (connection pools, etc
p25631
aVability to expose session beans as web services
p25632
aVdependency injection
p25633
aVetc
p25634
aVAll these features are useful, whether the UI is web-based or not
p25635
aVIf your application doesn't have any use of all these features, then you don't need an app server
p25636
aVIf you don't need all of this, and prefer integrating various components (a transaction manager, a JPA engine, a JMS server, etc
p25637
aVyourself, you could just use Spring, with or without a web container like Tomcat or Jetty
p25638
as(dp25639
g23
V571407
p25640
stp25641
a((dp25642
g2
(lp25643
VHQL works on Hibernate entities
p25644
aVIf you don't have an entity to map your table, you can't use HQL on this table
p25645
aVThat's the principle of an ORM: use objects to represent tables
p25646
as(dp25647
g23
V571407
p25648
stp25649
a((dp25650
g2
(lp25651
VStore objects in your combo box:
p25652
aVThis is just an example: you should choose more meaninful names for the class and the fields
p25653
as(dp25654
g23
V571407
p25655
stp25656
a((dp25657
g2
(lp25658
VUse a JTable with two columns:
p25659
aVan editable boolean one for the checkbox
p25660
aVa non-editable one for the text
p25661
aVRead the Swing tutorial about tables
p25662
as(dp25663
g23
V571407
p25664
stp25665
a((dp25666
g2
(lp25667
VYour JS code could be simplified to
p25668
aVOnce you have this value, send an AJAX request to your server (something like )
p25669
aVThe server could answer with a JSON array of subfolders, or directly with the HTML to put inside the second select box
p25670
aVIn the callback function of your AJAX request, populate the second select box with what you received from the server
p25671
aVSee http://api
p25672
aVjquery
p25673
aVcom/category/ajax/
p25674
aVDepending on the strategy you choose, you might use ,  or even
p25675
as(dp25676
g23
V571407
p25677
stp25678
a((dp25679
g2
(lp25680
VThe loop stops when  is set to
p25681
aVAnd  is set to  by the main thread
p25682
aVBut since the  field is not volatile, the looping thread might continue to see a cached value:
p25683
aVThe  keyword guarantees that all the threads reading a volatile field will actually see the last value stored in this field by any other thread
p25684
aVWithout , you don't have this guarantee
p25685
as(dp25686
g23
V571407
p25687
stp25688
a((dp25689
g2
(lp25690
V doesn't insert the entity in database
p25691
aVAnd you're not even guaranteed to have an ID assigned after  has been called
p25692
aVWhat persist does is to make a transient entity attached to the entity manager
p25693
aVAt flush time, the version will be assigned
p25694
aVSo, if you really need the new version before the transaction is committed, call  explicitely and then get the new version
p25695
aVBut usually, it's not needed because you don't need to deal with the version field yourself, so just commit the transaction: it will cause a flush to be done, and the version will thus be assigned
p25696
as(dp25697
g23
V571407
p25698
stp25699
a((dp25700
g2
(lp25701
VIt seems that SimpleDateFormat interprets the last part as an integer, and not as decimal part
p25702
aVThe obvious solution is to make sure there are always three digits at the end, and right pad with 0 if not
p25703
aVThen use the pattern  to parse it
p25704
as(dp25705
g23
V571407
p25706
stp25707
a((dp25708
g2
(lp25709
VYou're doing it correctly, and there's no other way
p25710
aVExcept this scenario is not very realistic
p25711
aVMost of the time, the list of available courses is known in advance, and you may only pick among the available courses when you create a student
p25712
aVThe UI will typically propose a multi-select box where you'll have to select courses, and you won't refer to the chosen courses using their name, but using their ID (or using the Course entity directly)
p25713
aVThe method will thus look like this:
p25714
aVor like this:
p25715
aVIn the first case, the easiest and fastest way to get a set of course is to loop over the course IDs and call  to get a reference to the course, without even needing to hit the database
p25716
as(dp25717
g23
V571407
p25718
stp25719
a((dp25720
g2
(lp25721
VI really don't see the point of making  an embedded object
p25722
aVYou'll repeat the same codes and names again and again for all your users, instead of just make them all point to the same countries
p25723
aVJust have a table with all the countries, mapped by an entity, and make all the addresses refer have a  association with Country
p25724
aVBTW, if you want to design a UI where you have to enter an address, I guess that you'll need a select box displaying al the countries to choose from: you won't enter the code and name of the country manually each time
p25725
aVSo you'll need a  entity and a  method to get them all and populate your select box
p25726
as(dp25727
g23
V571407
p25728
stp25729
a((dp25730
g2
(lp25731
VYour loop only increments the index if the room ID of the current room is equal to the ID of the room to delete
p25732
aVThe line
p25733
aVshould be out of the  block
p25734
aVEDIT:
p25735
aVThe other problem is that you're trying to remove elements a collection while iterating on it
p25736
aVThis is only possible if you use an Iterator to iterate over the collection, and use the iterator's remove method to remove the current element
p25737
aVNote that even if it was possible, since you remove the element at the given index, the index should not be incremented since you have just removed the element at this index
p25738
aVExample of using an iterator:
p25739
as(dp25740
g23
V571407
p25741
stp25742
a((dp25743
g2
(lp25744
VTo keep the existing functionality, I don't see how you could use a single HashSet
p25745
aVYou could, however, use a single HashMap where the key would be the lines, and the value would be the number of occurrences of the line in the file
p25746
aVSide notes:
p25747
aVstreams, readers and writers should always be closed in a finally block
p25748
aVyour  variable isn't useful
p25749
as(dp25750
g23
V571407
p25751
stp25752
a((dp25753
g2
(lp25754
VThe DriverManager object returns an implementation of
p25755
aVIt won't return an instance of your  class
p25756
aVYour  variable should be of type
p25757
aVNote that:
p25758
aVclasses in Java, by convention, always start with an upper-case letter
p25759
aVnaming your class , and make it wrap an object of class , is really really confusing
p25760
aVSo confusing that you got confused by your own code
p25761
as(dp25762
g23
V571407
p25763
stp25764
a((dp25765
g2
(lp25766
VYour explanation, IMHO, rather explains what atomicity means regarding database transactions: the A in ACID
p25767
aVRegarding concurrency, atomicity rather means that when a thread modifies the state of some object (or set of objects), another thread can't see any intermediary state
p25768
aVEither it sees the state as it was before the operation, or it sees the state as it is after the operation
p25769
aVFor example, changing the value of a long variable is not an atomic operation
p25770
aVIt involves setting the value of the 32 first bits, and then setting the state of the 32 last bits
p25771
aVIf the access to the long variable is not properly synchronized, a thread might see the intermediary state: the 32 first bits have been changed, but the 32 last bits haven't been changed yet
p25772
aVThe way to implement atomic operations is to use synchronization
p25773
aVsynchronization involves using
p25774
aVthe synchronized keyword
p25775
aVthe volatile keyword
p25776
aVatomic variables (AtomicInteger, etc
p25777
as(dp25778
g23
V571407
p25779
stp25780
a((dp25781
g2
(lp25782
VYou don't ever have to synchonize any method of an EJB, because the EJB specification  specifies that an EJB instance may not be called by two concurrent threads
p25783
aVThe EJB container handles the synchonization and thread safety for you
p25784
aVThat's one of the points in using EJBs
p25785
as(dp25786
g23
V571407
p25787
stp25788
a((dp25789
g2
(lp25790
VJavadoc to the rescue:
p25791
aVBefore delegation, an absolute resource name is constructed from the
p25792
aVgiven resource name using this algorithm:
p25793
aVIf the name begins with a '/' ('\u005cu002f'), then the absolute name of the resource is the portion of the name following the '/'
p25794
aVOtherwise, the absolute name is of the following form:
p25795
aVWhere the modified_package_name is the package name of this object with '/' substituted > for '
p25796
aV('\u005cu002e')
p25797
aVIn short: relative paths can't use  to go a level up
p25798
aVUse an absolute name (starting with a , from the root of the classpath)
p25799
aVMoreover, getResource loads resources from the classpath
p25800
aVIf the image is not in the classpath, it won't work
p25801
aVYour file tree is not clear at all, but it seems that you haven't understood what the classpath is
p25802
aVIf you want to load a file from the file system, use File IO, not resources
p25803
as(dp25804
g23
V571407
p25805
stp25806
a((dp25807
g2
(lp25808
VInteger
p25809
aVvalueOf() expects a String representing an integer
p25810
aVCalling it with an empty string will lead to an exception
p25811
aVYou need to test the String before parsing it as an integer:
p25812
aVor, if you always want that runtime is 0 if the string is not a valid integer, then catch the exception:
p25813
aVNow, it it's gson that parses the string for you, and this string is not always an integer, then the  field should not be an int, but a String
p25814
aVAnd you should parse it yourself, as shown above
p25815
aVGiven your question, before trying to do anything with gson and android, you should learn the basics of the Java language
p25816
aVYou don't seem to understand the type system in Java and what exceptions are
p25817
aVRead http://docs
p25818
aVoracle
p25819
aVcom/javase/tutorial/java/nutsandbolts/
p25820
as(dp25821
g23
V571407
p25822
stp25823
a((dp25824
g2
(lp25825
VJAVA_HOME is not a environment variable used by Java
p25826
aVIt's used by other tools such as Ant, but not by Java
p25827
aVThe PATH environment variable is not used by Java either
p25828
aVIt's used to find executables in windows, but Java doesn't use it to find jars
p25829
aVPlacing two jars in the same directory doesn't make them automatically in the same classpath
p25830
aVIf A
p25831
aVjar is an executable jar (as it seems to be), and it depends on an external B
p25832
aVjar, then its Class-Path entry of its manifest must reference B
p25833
aVjar
p25834
aVRead http://docs
p25835
aVoracle
p25836
aVcom/javase/tutorial/deployment/jar/downman
p25837
aVhtml
p25838
as(dp25839
g23
V571407
p25840
stp25841
a((dp25842
g2
(lp25843
VThere is no lock method in ConcurrentHashMap
p25844
aVLook at its javadoc
p25845
aVSo i don't see how you could have seen any code to this inexistent method
p25846
aVis a method of the inner class , which extends
p25847
aVSo the lock method you're seeing is the lock method of ReentrantLock
p25848
as(dp25849
g23
V571407
p25850
stp25851
a((dp25852
g2
(lp25853
VThe abstract classes should be annotated with @Entity, rather than @MappedSuperclass
p25854
aVAnd you should of course choose an inheritance strategy
p25855
aVRegarding the owning side: owning an association doesn't have any semantic meaning
p25856
aVIt just means that it's this side of the association that is used by JPA to know if the association exists
p25857
aVJPA indeed mandates that the many side owns the association mapping, whic is logical since it's in the table associated to the many side that the foreign key is
p25858
aVFor you, it just means that when a poem is added to an author, this poem should reference its author, because that's what will make the association persistent
p25859
aVAlso, you should not use ArrayList, but List
p25860
aVEclipseLink will use its own List implementation to support lazy-loading, cascades, etc
p25861
aVAnd BTW, it's good practice to program to interfaces rather than implementations
p25862
as(dp25863
g23
V571407
p25864
stp25865
a((dp25866
g2
(lp25867
VYour bidirectional association is mapped twice: once in TaskList, and once in Task
p25868
aVThe mapping annotations in TaskList should be
p25869
aVWithout the mappedBy attribute, Hibernate considers that you have two separate associations (and I doubt that's what you want), rather than a bidirectional one
p25870
aVMoreover, when you modify a bidirectional association, both sides of the association should be modified
p25871
aVSo the removeTask method should be
p25872
aVThat's particularly important, because the owning side of the association is  (because that's where ther is no  attribute)
p25873
aVSo this is the side that Hibernate inspects to know that the association must be removed
p25874
as(dp25875
g23
V571407
p25876
stp25877
a((dp25878
g2
(lp25879
VYou're not converting anything here
p25880
aVJust using a reader to read from the original String, and then an adapter to see the reader as an InputSource
p25881
aVCompared to IO, these operations cost absolutely nothing
p25882
as(dp25883
g23
V571407
p25884
stp25885
a((dp25886
g2
(lp25887
VJust use TortoiseSVN's repo browser to create the new directories and then move the app directory to trunk
p25888
as(dp25889
g23
V571407
p25890
stp25891
a((dp25892
g2
(lp25893
VYour assumption is correct
p25894
aVHibernate uses the owning side of an association to know is the association exists or not
p25895
aVAnd the owning side ai the side where there is no mappedBy attribute
p25896
aVThe general rule is that when you have a bidirectional association, it's your responsibility to make the object graph coherent by initializing/modifying both sides of the association
p25897
aVHibernate doesn't care much about it, but if you don't initialize the owning side, it won't persist the association
p25898
aVNote that you're not forced to make this association bidirectional
p25899
aVIf you don't, then adding the part to the mask will be sufficient, because this side (which is the unique side) is the owning side
p25900
as(dp25901
g23
V571407
p25902
stp25903
a((dp25904
g2
(lp25905
VHQL doesn't support left joins without associations between entities
p25906
aVYou'll have to use a SQL query to do that
p25907
aVSide note:  isn't valid HQL
p25908
aVis
p25909
as(dp25910
g23
V571407
p25911
stp25912
a((dp25913
g2
(lp25914
VSince sending an email is not transactional, I see two possibilities:
p25915
aVuse a global transaction to update the retrieaval status and sens a JMS message indicating that an email must be sent
p25916
aVOptimistic concurrency should be activated on the document entity (using an @Version field)
p25917
aVThis way, if the transaction fails due to optimistic concurrency checking, the JMS message is not sent
p25918
aVYou of course need a JMS listener to ectually send an email when the JMS message is received
p25919
aVuse optimistic locking, and send the email out of the transaction
p25920
aVIf the transaction fails due to optimistic locking, the email is not sent
p25921
aVIf it succeeds, the email is sent
p25922
aVOr you just don't care, and assume that concurrent first-time downloads will be very exceptional
p25923
aVYou might thus receive two emails instead of one very exceptionally, and you just delete the superfluous email in this case
p25924
as(dp25925
g23
V571407
p25926
stp25927
a((dp25928
g2
(lp25929
VMy guess is that since you use SQL rather than HQL, Hibernate can't use its mapping information and its database dialect to transform what you have in database into a boolean
p25930
aVWhy don't you use HQL for such a query
p25931
aVThe HQL is identical to the SQL query :
p25932
as(dp25933
g23
V571407
p25934
stp25935
a((dp25936
g2
(lp25937
s(dp25938
g23
V571407
p25939
stp25940
a((dp25941
g2
(lp25942
VIf I understand correctly, you're using the JSP as a templating engine to generate the body of an HTML email
p25943
aVIf you want to keep using JSPs for that, I don't think there's a better solution than making a GET request to get the generated HTML
p25944
aVBut you could also use an embeddable templating engine like Velocity or FreeMarker to generate the HTML to a String, directly from the mail daemon
p25945
as(dp25946
g23
V571407
p25947
stp25948
a((dp25949
g2
(lp25950
VJust because an entity manager is open doesn't mean that all lazy-loaded entities can be loaded
p25951
aVIf the entities have been loaded by a different entity manager / session from the "current" one, the entities are still detached, and trying to load a lazy association on them will lead to the exception you're encountering
p25952
aVIn short, your filter opens an entity manager which makes lazy-loading possible for the current request
p25953
aVBut as soon as the request ends, the entities become detached
p25954
aVEither reload them at the second request, or reattach them to the current entity manager / session
p25955
as(dp25956
g23
V571407
p25957
stp25958
a((dp25959
g2
(lp25960
VA pool is possible because the strings are immutable
p25961
aVBut the immutability of the String hasn't been decided only because of this pool
p25962
aVImmutability has numerous other benefits
p25963
aVBTW, a  is also immutable, and there is no pool of Doubles
p25964
aVThe need for the String pool is to reduce the memory needed to hold all the String literals (and the interned Strings) a program uses, since these literals have a good chance of being used many times, in many places of the program
p25965
aVInstead of having thousands of copies of the same String literal, you just have thousand references to the same String, which reduces the memory usage
p25966
aVNote that the String class is not different from other classes: it holds its own char array
p25967
aVIt may also share it with other String instances, though, when substring is called
p25968
as(dp25969
g23
V571407
p25970
stp25971
a((dp25972
g2
(lp25973
VIt seems to me that you have an entity inheritance tree using the joined subclass strategy
p25974
aVSee http://docs
p25975
aVjboss
p25976
aVorg/hibernate/core/3
p25977
aV6/reference/en-US/html_single/#mapping-declaration-joinedsubclass
p25978
aVThe only difference is that Hibernate doesn't need the  discriminator in , and also doesn't need the  table at all
p25979
aVSo, if you really need to keep these in the database model, map the Mapping as a regular entity, and the  column in  as a  association to
p25980
aVYou'll just need to make sure that each time you create a Ford instance, you initialize its mapping association with the Mapping instance which has the "Ford" table name
p25981
as(dp25982
g23
V571407
p25983
stp25984
a((dp25985
g2
(lp25986
VI fail to see how being inside a transaction or not has an incidence on performance
p25987
aVHave you measured a performance difference, or are you just guessing
p25988
aVAnyway, if you really need to do this, then the  method should be in another Spring bean, injected into the  bean
p25989
aVIndeed, Spring is only able to start/commit a transaction when a bean method is called through a proxy
p25990
aVIf you call a bean method from another method of the same bean, Spring can't intercept the call and do its transaction management
p25991
as(dp25992
g23
V571407
p25993
stp25994
a((dp25995
g2
(lp25996
VThis is described in the documentation
p25997
aVRead it
p25998
aVIt allows searching by example: search for all the entities which look like this one (have the same properties)
p25999
as(dp26000
g23
V571407
p26001
stp26002
a((dp26003
g2
(lp26004
VIt must be , but testing it is as simple as calling a reporisoty method which only does
p26005
as(dp26006
g23
V571407
p26007
stp26008
a((dp26009
g2
(lp26010
VThese are the primitive types in Java:
p26011
aVboolean
p26012
aVbyte
p26013
aVshort
p26014
aVchar
p26015
aVint
p26016
aVlong
p26017
aVfloat
p26018
aVdouble
p26019
aVAll the other types are reference types: they reference objects
p26020
aVThis is the first part of the Java tutorial about the basics of the language
p26021
as(dp26022
g23
V571407
p26023
stp26024
a((dp26025
g2
(lp26026
VYou can't import a package
p26027
aVYou import a class, or all classes in a package:
p26028
aVPackages are organized in a tree, but  is not recursive
p26029
aVImporting  only imports classes in , but not classes from sub-packages
p26030
as(dp26031
g23
V571407
p26032
stp26033
a((dp26034
g2
(lp26035
VThe problem comes from the fact that you're accessing the fields of your entity directly, without going through getters/setters
p26036
aVUsing public fields is a very bad practice, because it breaks encapsulation
p26037
aVEclipseLink seems to need methods, probably becauseit's weaving consists in adding byte-code into the methods
p26038
aVBy accessing the fields directly, you must bypass the bytecode additions that make EclipseLink work
p26039
as(dp26040
g23
V571407
p26041
stp26042
a((dp26043
g2
(lp26044
VA local variable and a private instance variable, even with the same name, are two different variables
p26045
aVThis is allowed
p26046
aVThe local variable hides the instance variable
p26047
aVThe only way to access a hidden instance variable is to prefix it with
p26048
as(dp26049
g23
V571407
p26050
stp26051
a((dp26052
g2
(lp26053
VI think it should work out of the box
p26054
aVIf, as it seems, it doesn't work on your setup, and since you know that every change done on the trunk until the revision reached at step 3 of your scenario (that we'll call TheRev), you may merge all the revisions from trunk to Feature1
p26055
aV1 until TheRev with the  flag
p26056
aVIt will just mark those revisions as merged in Feature1
p26057
ag10
aVYou should the be able to work as usual
p26058
as(dp26059
g23
V571407
p26060
stp26061
a((dp26062
g2
(lp26063
VA tag is not executed when the JSP is compiled, but when the JSP is executed
p26064
aVIt's hard to understand what your tag does exactly, and why you can't just aggregate and minify all the JS files in advance (each time one of these files is modified during development, and at buid time when generating the deliverable), and just use the single agregated and minified JS file in your JSPs
p26065
as(dp26066
g23
V571407
p26067
stp26068
a((dp26069
g2
(lp26070
V is the concrete type of the (badly named) mystring variable
p26071
as(dp26072
g23
V571407
p26073
stp26074
a((dp26075
g2
(lp26076
VFix your classpath
p26077
aVIt doesn't make much sense to have two different versions of Struts in the classpath
p26078
aVThe tiles classes for Struts 1
p26079
ag14
aV10 are in struts-tiles-1
p26080
ag14
aV10
p26081
aVjar bundled with struts-1
p26082
ag14
aV10
p26083
as(dp26084
g23
V571407
p26085
stp26086
a((dp26087
g2
(lp26088
VYou'll have to use  and, potentially,
p26089
aVThe process and commands are well described in the SVN book
p26090
as(dp26091
g23
V571407
p26092
stp26093
a((dp26094
g2
(lp26095
VYour hashCode looks correct to me, except the value field should be final to make the class immutable and thus thread-safe, but it's way too complex
p26096
aVThe  is just a wrapper for an int value
p26097
aVThe  could be reduced to:
p26098
aVOr you could avoid the  class completely, and use an  to wrap your int value
p26099
as(dp26100
g23
V571407
p26101
stp26102
a((dp26103
g2
(lp26104
VI suspect the dozerMapper does something with the collection
p26105
aVTry copying the fields from the DTO to the entity without using dozer
p26106
aVMoreover, saveOrUpdate takes a detached instance, and attaches it to the session
p26107
aVIt throws an exception if the attached version of the detached entity is already loaded in the session
p26108
aVThe parent passed to  is already attached, and the call to  is thus completely unnecessary (and could cause an exception)
p26109
aVChanges made to an attached entity are automatically persisted by Hibernate
p26110
aVYou don't need to call ,  or
p26111
as(dp26112
g23
V571407
p26113
stp26114
a((dp26115
g2
(lp26116
VThis question gets asked once every 2 days
p26117
aVJPA uses the owning side of a bidirectional association to know if an association exists
p26118
aVThe owning side is the side where there is no  attribute
p26119
aVSo, to tell JPA that an association exists between owner and storage, you must set the owner of the storage:
p26120
as(dp26121
g23
V571407
p26122
stp26123
a((dp26124
g2
(lp26125
VA PDF document is a binary file
p26126
aVIt doesn't contain chars, and even less chars in the default platform encoding
p26127
aVSuppose your platform encoding is ASCII
p26128
aVAll the bytes above 128 don't represent valid ASCII chars
p26129
aVSo, when you tak a byte array and make it a String, half of the bytes (in average) just can't be converted to chars
p26130
as(dp26131
g23
V571407
p26132
stp26133
a((dp26134
g2
(lp26135
VI generally prefer to put constants in the class where they belong
p26136
aVFor example, the file constants could be in  (or something like that), where they are used
p26137
aVThe connection constants could be in your  class, where they are used
p26138
aVThink about the JDK
p26139
aVDoes it have a gigantic Constants class
p26140
aVNo
p26141
aVThe constants used by (and with)  are in the class
p26142
aVThe constants used by (and with)  are in
p26143
as(dp26144
g23
V571407
p26145
stp26146
a((dp26147
g2
(lp26148
VYou never check if  returns null or not
p26149
aVCheck it, and you'll discover that you probably read past the end of the file
p26150
aVAlso, readers, writers and streams should always be closed in a finally block
p26151
as(dp26152
g23
V571407
p26153
stp26154
a((dp26155
g2
(lp26156
VYou ignore exceptions, and then hope that everything went well
p26157
aVJust stop ignoring exceptions, and you'll probably have the root cause of your NPE:
p26158
as(dp26159
g23
V571407
p26160
stp26161
a((dp26162
g2
(lp26163
VAdd appropriate listeners to the components, and update the model when the events are fired
p26164
aVOr design your UI so that everything is saved to the model only when a Save or OK button is clicked
p26165
aVThis also helps with validation, because you just need to validate everything at once, when the button is clicked
p26166
as(dp26167
g23
V571407
p26168
stp26169
a((dp26170
g2
(lp26171
VPass a reference to your GUI object to the reading thread, and have the reading thread invoke a method of the GUI instance when he has received the data
p26172
aVIf the GUI is a Swing GUI, you'll need to wrap the call into :
p26173
aVand in the reading thread:
p26174
aVNote that SwingWorker is designed specifically for this kind of use-case
p26175
as(dp26176
g23
V571407
p26177
stp26178
a((dp26179
g2
(lp26180
VThe accessor methods are supposed to be called
p26181
aVThat's it
p26182
as(dp26183
g23
V571407
p26184
stp26185
a((dp26186
g2
(lp26187
VRead the javadoc
p26188
aVIt has examples, and described what the method does
p26189
as(dp26190
g23
V571407
p26191
stp26192
a((dp26193
g2
(lp26194
VThere is no cleaner way
p26195
aVYour code is fine
p26196
aVYou ask: "But shouldn't exceptions "be used only in exceptional conditions"
p26197
aVHere I use them as a matter of course
p26198
aVWell, Java doesn't have any  method
p26199
aVIf it had, You could use it, but it doesn't
p26200
aVAnd even then, you would have to parse the double twice: once to check if it's a double, and once to get the double value
p26201
aVWhat you have is a common idiom, and I doubt regular expressions will be more readable and faster than what you have
p26202
as(dp26203
g23
V571407
p26204
stp26205
a((dp26206
g2
(lp26207
VThere are two ways:
p26208
aVMake sure the session is closed after the call to your load method, try to access the collection, and check that it doesn't throw any lazy loading exception
p26209
aVCall
p26210
as(dp26211
g23
V571407
p26212
stp26213
a((dp26214
g2
(lp26215
VSciptlet usage has probably been configured invalid (see http://www
p26216
aVjava-samples
p26217
aVcom/showtutorial
p26218
aVphp
p26219
aVtutorialid=548)
p26220
aVAnd this choice was a wise choice, because scriptlets shouldn't be used in JSPs anymore
p26221
aVUse the JSTL and the EL:
p26222
aVMoreover, even if scriplet was valid, you can't use the JSP EL inside scriptlet code
p26223
as(dp26224
g23
V571407
p26225
stp26226
a((dp26227
g2
(lp26228
VMy guess is that hbm2ddl seaches specifically for tables, and not for synonyms, but that your application should indeed work as if the tables existed in the schema
p26229
aVTry to remove the hbm2ddl option and test your application
p26230
aVEDIT: it seems my guess is true: https://forum
p26231
aVhibernate
p26232
aVorg/viewtopic
p26233
aVphp
p26234
aVp=2438033
p26235
as(dp26236
g23
V571407
p26237
stp26238
a((dp26239
g2
(lp26240
VIn your Hibernate config file, you specified the URL of your database where Hibernate searches for the dialect of your database:
p26241
aVThe dialect must be a class (, for example)
p26242
aVSee http://docs
p26243
aVjboss
p26244
aVorg/hibernate/core/3
p26245
aV6/reference/en-US/html_single/#tutorial-firstapp-configuration
p26246
as(dp26247
g23
V571407
p26248
stp26249
a((dp26250
g2
(lp26251
VThis is described in the javadoc of Thread
p26252
aVState:
p26253
aVpublic static final Thread
p26254
aVState WAITING
p26255
aVThread state for a waiting thread
p26256
aVA thread is in the waiting state
p26257
aVdue to calling one of the following methods:
p26258
aVA thread in the waiting state is waiting for another thread to perform
p26259
aVa particular action
p26260
aVFor example, a thread that has called
p26261
aVObject
p26262
aVwait() on an object is waiting for another thread to call
p26263
aVObject
p26264
aVnotify() or Object
p26265
aVnotifyAll() on that object
p26266
aVA thread that
p26267
aVhas called Thread
p26268
aVjoin() is waiting for a specified thread to
p26269
aVterminate
p26270
as(dp26271
g23
V571407
p26272
stp26273
a((dp26274
g2
(lp26275
VThe answer is in the question
p26276
aVYou need to close the socket
p26277
aVIt's done using
p26278
aVdoesn't care about sockets
p26279
as(dp26280
g23
V571407
p26281
stp26282
a((dp26283
g2
(lp26284
s(dp26285
g23
V571407
p26286
stp26287
a((dp26288
g2
(lp26289
VYou want 4 buttons, each one setting a command text into the text field, is that right
p26290
aVAnd do the same with the other 3 buttons
p26291
aVThis is really basic stuff
p26292
aVRead the tutorial about event listeners
p26293
as(dp26294
g23
V571407
p26295
stp26296
a((dp26297
g2
(lp26298
VIf you only care about the order once all the individuals have been added, and don't add any new individual afterwards, then sorting an ArrayList is probably the fastest option
p26299
aVElse, you may use a TreeSet, and have a comparator that compares by fitness first, and then by identity hash code if the fitnesses are equal (or by any other distinct property)
p26300
aVAll your objects will thus be different, but they will be sorted by fitness
p26301
as(dp26302
g23
V571407
p26303
stp26304
a((dp26305
g2
(lp26306
VYes, you're doing something wrong
p26307
aVYou should just merge the changes done in the maintenance branch to the trunk
p26308
aVYou're confusing maintenance branches with feature branches, which must stay up-to-date with the trunk before reintegrating them in the trunk
p26309
as(dp26310
g23
V571407
p26311
stp26312
a((dp26313
g2
(lp26314
VAs I said in my comment
p26315
aVI think the only way to interrupt a thread blocked reading a line is to kill the process from which the thread reads
p26316
aVJust as the only solution to interrupt a thread blocked reading on a socket is to close the socket
p26317
aVAdd a method to your thread that destroys the process
p26318
as(dp26319
g23
V571407
p26320
stp26321
a((dp26322
g2
(lp26323
V is a tag from Struts
p26324
aVStruts is an MVC framework
p26325
aVThe JSP should just generate markup
p26326
aVSorting a collection is the responsibility of the action which forwards to the JSP
p26327
aVAlso, note that logic tags and bean:write are deprecated in favor of the JSTL for years
p26328
aVYou should definitely help yourself, and learn the JSTL
p26329
as(dp26330
g23
V571407
p26331
stp26332
a((dp26333
g2
(lp26334
VNo
p26335
aVHTTP is a request-response protocol
p26336
aVThe client has to request something to get it
p26337
aVYou could poll the server every X seconds to get changes
p26338
aVOr use something like Comet, but it would probably be overkill
p26339
aVBut what you can do is trigger a refresh of the page or of the table in JavaScript once the save action has been done, to reload the data from the DB
p26340
aVYou just won't get changes done by other users of the application
p26341
as(dp26342
g23
V571407
p26343
stp26344
a((dp26345
g2
(lp26346
VThe name of the entry should be a relative path from the root of your tree
p26347
aVIf you have
p26348
aVthe entries should be ,  and
p26349
aVAdd a prefix argument to you recursive method (which is the empty string initially), and each time a directory is met, call the method with the current prefix + the directory name appended +
p26350
aVAnd always prepend the prefix to the file name to compose the entry name
p26351
as(dp26352
g23
V571407
p26353
stp26354
a((dp26355
g2
(lp26356
V is a generic type, because it can be parameterized with types just as , , and numerous standard Java classes
p26357
aVRead the Java tutorial about generics to learn more
p26358
aVIt's useful to declare them in the class declaration because loadSomeData (which should be named LoadSomeData, or even better: SomeDataLoader) as a specialization of AsyncTask that handles String, Integer and String, and not any other types
p26359
as(dp26360
g23
V571407
p26361
stp26362
a((dp26363
g2
(lp26364
VServer applications usually use a JDBC connection pool to get connections and reuse them
p26365
aVDepending on the pool you use, you may configure it to keep a given number of connections open
p26366
as(dp26367
g23
V571407
p26368
stp26369
a((dp26370
g2
(lp26371
VRegardless of whether the objects are entities and/or lazy-loaded, it's practically impossible to respect the contract of equals and to have a specialization of equals in a subclass which uses instanceof
p26372
aVIndeed, you would then be in a situation where you would have , but
p26373
aVSo, I think the superclass (B) should define equals, and make it final, because all the subclasses should use the base class  method
p26374
aVThat said, your equals method in B isn't right:
p26375
aVThis means that the Object implementation of equals must return true to have two B instances equal
p26376
aVWhich means that two B instances are only equals if they are the same object
p26377
aVWhy does the B class check that the other instance is an instance of C
p26378
aVIt should check if the other instance is an instance of B
p26379
aVSince in the end, two Bs are equal if they have the same ID, and since the IDs must be unique for all the inheritance tree, you're safe if you make this equals method final
p26380
as(dp26381
g23
V571407
p26382
stp26383
a((dp26384
g2
(lp26385
VUse two different Tomcat instances
p26386
aVEDIT:
p26387
aVOr configure Tomcat as explained in the answer of this question: Tomcat configuration help: multiple ports not responding
p26388
as(dp26389
g23
V571407
p26390
stp26391
a((dp26392
g2
(lp26393
VTo have a List, Hibernate needs to know how to order or index elements of the list
p26394
aVUse the @OrderColumn annotation or the @OrderBy annotation
p26395
aVSee http://docs
p26396
aVjboss
p26397
aVorg/hibernate/core/3
p26398
aV6/reference/en-US/html_single/#collections-indexed for details and differences between those annotations
p26399
aVIf you can't order or index your elements, then you have a bag, not a list
p26400
aVAnd it's your equals method that should be fixed to avoid taking the order of the elements into consideration
p26401
as(dp26402
g23
V571407
p26403
stp26404
a((dp26405
g2
(lp26406
VBecause it makes them much easier to use:
p26407
aVthread safe without synchronization
p26408
aVusable as a key in Maps
p26409
aVno need to create defensive copies each time you pass or return them
p26410
aVpoolable
p26411
as(dp26412
g23
V571407
p26413
stp26414
a((dp26415
g2
(lp26416
VJava doesn't find jar files using the PATH
p26417
aVIt finds them using the classpath you pass to the java command (or using the CLASSPATH environment variable, but I wouldn't recommend using it outside of a local terminal session):
p26418
aVTo have the JDK in your path, you need to add  (or  on Windows) to the PATH environment variable
p26419
aVRead the following section of the Java tutorial
p26420
as(dp26421
g23
V571407
p26422
stp26423
a((dp26424
g2
(lp26425
VSearch engines don't read your database
p26426
aVThey read the web pages
p26427
aVMake it so that all the information that you want searchable is accessible by following non-AJAX links from the outside
p26428
aVIf you hide the information behind a login form, or even just a search form, the search engines won't be able to access the information
p26429
as(dp26430
g23
V571407
p26431
stp26432
a((dp26433
g2
(lp26434
VThe message is clear: you don't have an  mapped property (or field, if fields are mapped directly) in the entity Events
p26435
aVIf you respect the Java conventions, the field/property should be named , and not
p26436
as(dp26437
g23
V571407
p26438
stp26439
a((dp26440
g2
(lp26441
VYou must call rs
p26442
aVnext() (and check that it returns true) to access the first row of the result set:
p26443
aVAlso not that the index should be 1, since your query only selects one column
p26444
aVI also don't understand the point in casting the int to a char
p26445
aVThe method takes an int as argument
p26446
aVA cast to byte would at least be logical, but bytes and char are not the same thing in Java
p26447
as(dp26448
g23
V571407
p26449
stp26450
a((dp26451
g2
(lp26452
VI don't know grails but it seems to me that
p26453
aVyour code doesn't use Hibernate at all
p26454
aVIt executes SQL directly
p26455
aVeven if it used Hibernate, using SQL queries in Hibernate completely bypasses ID generation
p26456
aVFor automatic ID generation, you would have to instantiate and persist an entity
p26457
as(dp26458
g23
V571407
p26459
stp26460
a((dp26461
g2
(lp26462
VYou can't do that
p26463
aVAn object has a type, and it can't switch from one type to another
p26464
aVThat's just how Java works
p26465
aVI think you just shouldn't have two types of entities here
p26466
aVWhy don't you just store the discriminator as a basic enum column, and store/fetch the value of the property in the varchar or clob column based on the value of this enum
p26467
aVMake sure everything is transparently encapsulated into the object, and everything will be easier, even for callers
p26468
aVThe enum field could even not be made public
p26469
aVYou use it to implement  (get the value from the appropriate column), and you change its value when  is called, based on the length of the new value
p26470
as(dp26471
g23
V571407
p26472
stp26473
a((dp26474
g2
(lp26475
VYou need to get a new iterator for your list of keywords at each iteration of the outer loop
p26476
aVThe easiest way is to use the foreach syntax:
p26477
aVDon't preoptimize
p26478
aV5000 is nothing for a computer, and street names are short strings
p26479
aVAnd if you place the most frequent keywords (street, rather than boulevard) at the beginning of the keyword list, you'll have less iterations
p26480
as(dp26481
g23
V571407
p26482
stp26483
a((dp26484
g2
(lp26485
VThe self assignment makes sure that another thread will read the array reference that was set, and not another array reference
p26486
aVBut you might have one thread modifying the array while another thread reads it
p26487
aVBoth the reads and the writes to the array should be synchronized
p26488
aVAlso, I wouldn't blindly store and return arrays to/from a cache
p26489
aVAn arrays is a mutable, non-threadsafe data structure and any thread might corrupt the cache by mutating the array
p26490
aVYou should consider creating defensive copies, and/or return an unmodifiable list rather than a byte array
p26491
as(dp26492
g23
V571407
p26493
stp26494
a((dp26495
g2
(lp26496
VAll objects are instances of concrete classes
p26497
aVMaybe you don't see any implementing class in the javadoc, but there is one
p26498
aVIt's probably an anonymous or private class instance that is returned by , like this:
p26499
as(dp26500
g23
V571407
p26501
stp26502
a((dp26503
g2
(lp26504
VIn your table model, when one of the 5 columns value is set to true, you should set the one which is currently true to false and fire a table model event for this column as well
p26505
aVYou should also consider using a radio button as renderer and editor, since it's the most appropriate component to represent a unique selection
p26506
aVThe alternative is to replace these 5 columns by a single one, and use a combo box as cell editor
p26507
as(dp26508
g23
V571407
p26509
stp26510
a((dp26511
g2
(lp26512
VThis is indeed what should be done
p26513
aVI wouldn't reinvent the wheel, though
p26514
aVConsider using Objects
p26515
aVequals (in Java 7), or Objects
p26516
aVequal (in Guava) or an EqualsBuilder (in apache commons-lang)
p26517
as(dp26518
g23
V571407
p26519
stp26520
a((dp26521
g2
(lp26522
VSee http://bug
p26523
aVimprove-community
p26524
aVcom/view
p26525
aVphp
p26526
aVid=160
p26527
aVIt seems that this library is not deployed on any public maven repo
p26528
aVYou'll have to download it and add it to your own private repository
p26529
as(dp26530
g23
V571407
p26531
stp26532
a((dp26533
g2
(lp26534
VThere are two errors here
p26535
aVThe HTTP header says that the encoding is iso-8859-1 whereas the meta-tag in the HTML page says that it's UTF-8
p26536
aVBoth should say the same, and should say the actual character encoding used
p26537
aVYou have a HTTPS page which contains an image downloaded over HTTP
p26538
aVSo the whole page is not considered secure by IE
p26539
as(dp26540
g23
V571407
p26541
stp26542
a((dp26543
g2
(lp26544
VIt's indeed a good idea to have a backup
p26545
aVThe alternative is to use Google Code, SourceForge, GitHub or any other online source control service to host your source code
p26546
aVI'd hope that they are doing backups, and you would have the additional advantage that your repository is available from anywhere
p26547
as(dp26548
g23
V571407
p26549
stp26550
a((dp26551
g2
(lp26552
VYour entity resolver doesn't handle anything (since it always returns null)
p26553
aVMake it return an InputSource to the actual DTD file when the system ID is , since that's the DTD that dom4j tries downloading
p26554
aVThis implementation, for example, returns the DTD from the classpath (in the package )
p26555
aVYou just have to download the DTD yourself and bundle it in your app, in the package
p26556
as(dp26557
g23
V571407
p26558
stp26559
a((dp26560
g2
(lp26561
VThe javadoc says:
p26562
aVThis class and its iterator implement all of the optional methods of
p26563
aVthe Collection and Iterator interfaces
p26564
aVThe Iterator provided in
p26565
aVmethod iterator() is not guaranteed to traverse the elements of the
p26566
aVpriority queue in any particular order
p26567
aVIf you need ordered traversal,
p26568
aVconsider using Arrays
p26569
aVsort(pq
p26570
aVtoArray())
p26571
aVIf you execute
p26572
aVYou'll see that the elements are indeed sorted correctly
p26573
as(dp26574
g23
V571407
p26575
stp26576
a((dp26577
g2
(lp26578
V is a class
p26579
aVis a static field of the  class, and its type is
p26580
aVis an instance method of the  class
p26581
aVJust look at the javadoc, and you'll have all the info you're looking for
p26582
as(dp26583
g23
V571407
p26584
stp26585
a((dp26586
g2
(lp26587
VWhile developing lib A, the developer found that the class Foo from lib B was useful
p26588
aVAnd while developing lib B, the developer found that the class Bar from lib A was useful
p26589
aVI'm not saying it's a wise thing to do, but your question asks why anybody would do that
p26590
aVThis is probably the answer
p26591
as(dp26592
g23
V571407
p26593
stp26594
a((dp26595
g2
(lp26596
VIf you only change the content (data) of each node, and don't move the nodes themselves, I don't see any reason to change anything
p26597
as(dp26598
g23
V571407
p26599
stp26600
a((dp26601
g2
(lp26602
VNo, your analysis is not true
p26603
aVAny class may have a main method
p26604
aVJust add the method to the class, and it'll be there
p26605
aVThe fact the Maven, Eclipse, or MyEclipse is used is irrelevant
p26606
aVDevelopers have chosen to add a main method in all thoses classes, that's all
p26607
aVThere are pretty good reasons to have several main classes in a jar
p26608
aVFor example, if the jar contains a collection of utilities
p26609
as(dp26610
g23
V571407
p26611
stp26612
a((dp26613
g2
(lp26614
VYou can't
p26615
aVA  is not a
p26616
aVIf it was, you could do
p26617
aVwhich would break the type safety that generics bring
p26618
aVSo, you'll indeed have to use a raw map, or use a
p26619
as(dp26620
g23
V571407
p26621
stp26622
a((dp26623
g2
(lp26624
VWith Hibernate, each thread has its own session, and each session has a different set of objects
p26625
aVEach thread will thus have its own copy of MyObject
p26626
aVThe database will handle concurrent modifications for you
p26627
aVIf you want to forbid two threads modifying the same object at the same moment, use optimistic concurrency, with a @Version field, as described in the Hibernate documentation
p26628
aVSynchronization is not the right tool here, because if your app is clustered or if the object is modified by another app or even another method, the synchronization won't have any effect
p26629
as(dp26630
g23
V571407
p26631
stp26632
a((dp26633
g2
(lp26634
VThis is expected
p26635
aVauto-increment IDs are handled by the database, so, unless you drop the tables and recreate them before each test (which you shouldn't do), the IDs will keep incrementing
p26636
aVJust don't rely in absolute values for the IDs in your tests
p26637
aVGet the ID values from the entities that you create when setting up your test case
p26638
as(dp26639
g23
V571407
p26640
stp26641
a((dp26642
g2
(lp26643
VJust use
p26644
aVSee http://struts
p26645
aVapache
p26646
aVorg/1
p26647
ag12
aVx/userGuide/struts-html
p26648
aVhtml#errors for how the tag works:
p26649
aVproperty  Name of the property for which error messages should be
p26650
aVdisplayed
p26651
aVIf not specified, all error messages (regardless of
p26652
aVproperty) are displayed
p26653
aV(emphasis mine)
p26654
as(dp26655
g23
V571407
p26656
stp26657
a((dp26658
g2
(lp26659
VYou could use Spring's NamedParameterJdbcTemplate, and use a query like the following:
p26660
aVSee http://static
p26661
aVspringsource
p26662
aVorg/spring/docs/3
p26663
ag10
aVx/spring-framework-reference/html/jdbc
p26664
aVhtml for the documentation of Spring'sJDBC support, which has other advantages
p26665
as(dp26666
g23
V571407
p26667
stp26668
a((dp26669
g2
(lp26670
VThis question is asked every two days
p26671
aVJPA doesn't maintain the coherence of the object graph for you
p26672
aVIt's your responsibility to maintain both sides of a bidirectional association
p26673
aVEverything will be as you expect if you commit the transaction, close the session, and reload the entities, because you have initialized the owning side of the association
p26674
aVBut if you modify one side of the association in memory, JPA won't modify the other side for you
p26675
as(dp26676
g23
V571407
p26677
stp26678
a((dp26679
g2
(lp26680
VI don't knwo why it doesn't compile, but if you respect the best practices and avoid using scriptlets, you won't have this problem:
p26681
aVAlso note that  is deprecated (as are nearly all other logic tags) in favor of the JSTL  tag (and other core JSTL tags) for years
p26682
as(dp26683
g23
V571407
p26684
stp26685
a((dp26686
g2
(lp26687
VHave each client send its status to the server when it changes, or send the object to all the clients and let them ignore the message if their status is false
p26688
as(dp26689
g23
V571407
p26690
stp26691
a((dp26692
g2
(lp26693
VYou could just make all your Visitor implementations extend a base class, which provides a default implementation for every type of Visitable:
p26694
aVThen, when a new class  is introduced, you add the  method to the interface and the base class, and all the visitors are left unchanged and still compile
p26695
aVIf they don't want to ignore cats, then you override the  method
p26696
as(dp26697
g23
V571407
p26698
stp26699
a((dp26700
g2
(lp26701
VFirst of all, the  clause makes no sense here
p26702
aVYou need a where clause
p26703
aVSecond, querying on  implicitely makes an inner join between RoleFeature and Role
p26704
aVYou would see it by inspecting the generated SQL
p26705
aVYou need to do a second left join to access Role
p26706
aVThird, if you put the restriction on the role ID in the where clause, the left join will become an inner join
p26707
aVSo you need the equivalent of the  clause in JPQL
p26708
aVI don't think JPQL has that, but Hibernate supports it using the  keyword:
p26709
aVMaybe you can simulate it with
p26710
as(dp26711
g23
V571407
p26712
stp26713
a((dp26714
g2
(lp26715
VIt's possible, but you need one placeholder () per ID, and each ID must be bound separately
p26716
aVYou could also use NamedParameterJdbcTemplate, which
p26717
ag7651
aValso allows for expanding a List of values to the appropriate number
p26718
aVof placeholders
p26719
aVBe careful not to put too many values in the set of IDs
p26720
aVOracle limits them to 1000, for example
p26721
as(dp26722
g23
V571407
p26723
stp26724
a((dp26725
g2
(lp26726
VAre you creating the other  instance from another thread
p26727
aVBecause if you're creating both instances from the same thread, then, the lock being reentrant,  obviously returns true
p26728
aVIf you really want to schedule from the constructor, and not from a static block, you should use a static  variable and only schedule the timer if  returns true
p26729
as(dp26730
g23
V571407
p26731
stp26732
a((dp26733
g2
(lp26734
VSee http://docs
p26735
aVoracle
p26736
aVcom/javase/6/docs/api/constant-values
p26737
aVhtml#java
p26738
aVlang
p26739
aVMath
p26740
aVPI
p26741
as(dp26742
g23
V571407
p26743
stp26744
a((dp26745
g2
(lp26746
VUnless the server and the utilities have completely different dependencies, I would make it simple, and put everything in a single jar
p26747
aVProvide shell scripts which wrap the calls to the appropriate classes:
p26748
aVYou can make it an executable jar with the server startup class as the main class, but I find it easier to have an executable script than to have to use
p26749
as(dp26750
g23
V571407
p26751
stp26752
a((dp26753
g2
(lp26754
VOnly instance methods may be overridden
p26755
aVSo abstract on a static method doesn't make sense
p26756
aVThe  method shouldn't be static, and the  method shouldn't be static either
p26757
as(dp26758
g23
V571407
p26759
stp26760
a((dp26761
g2
(lp26762
VTo persist one entity, you just need to have the references to its direct dependencies
p26763
aVThe fact that these other entities reference other entities doesn't matter
p26764
aVThe best way to do it is to get a proxy to the referenced entity, without even hitting the database, using
p26765
aVWhat you're doing is the right thing to do: get a reference to the persistent account, and set this reference into the newly created account
p26766
as(dp26767
g23
V571407
p26768
stp26769
a((dp26770
g2
(lp26771
VI reread your question, and now the answer is clear
p26772
aVYour create a Group , and save it
p26773
aVBut since your save method uses , and you don't take into account the value returned by  to assign it to , you keep merging the transient group g, which never has any ID assigned
p26774
aVSo, each time merge is called, you actually create a new group rather than modifying the previously created one
p26775
aVChange the save method to
p26776
aVand always reassign the result to :
p26777
aVOf course, the same must be done for the user
p26778
as(dp26779
g23
V571407
p26780
stp26781
a((dp26782
g2
(lp26783
VThere is no  instance in your code snippet on which the methd is invoked
p26784
aVYou need an instance of the , and not just the  itself
p26785
aVCall  on , and use the result of this call as the first argument of
p26786
aVMoreover, to make sure your array is considered as one argument, and not a varargs, you need to cast it to Object:
p26787
as(dp26788
g23
V571407
p26789
stp26790
a((dp26791
g2
(lp26792
VYou're calling the  method on  rather than to call it on your subcomponents
p26793
aVMoreover, the calculateTaxDueByComponents is a void method
p26794
aVIt doesn't return anything
p26795
aVSo it's impossible to add its result (since it doesn't have any) to the tax due by the current component
p26796
aVYour method should probably look like this:
p26797
aVSide note: your code would be more readable and more type-safe if you used generic collections:  rather than
p26798
as(dp26799
g23
V571407
p26800
stp26801
a((dp26802
g2
(lp26803
VI would just use a custom EL function or tag which systematically throws an exception, or displays a big red div with the error message, or both
p26804
as(dp26805
g23
V571407
p26806
stp26807
a((dp26808
g2
(lp26809
VA timestamp doesn't have any time zone
p26810
aVIt's only when you display its (absolute) value that a time zone is used to give you a meaningful time representation
p26811
aVJust use the appropriate time zone each time you want to display a time stamp (by setting the default time zone or by setting it on the date format used to display the timestamp)
p26812
aVMoreover, IIRC, setting the default time zone only sets it for the current thread and the threads started from the current thread
p26813
aVThe other threads are unaffected
p26814
as(dp26815
g23
V571407
p26816
stp26817
a((dp26818
g2
(lp26819
VThe tag is declared and described in the TLD
p26820
aVThe TLD doesn't contain any executable code
p26821
aVThe implementation of the tag is in the class specified in the TLD:
p26822
aVPut all the code you want in this class
p26823
as(dp26824
g23
V571407
p26825
stp26826
a((dp26827
g2
(lp26828
VThis is handled by the fact that the database is transactional
p26829
aVDisable autocommit on your JDBC connection, commit after the two statements are successfully executed, or rollback if any of them has failed, and the database will rollback (cancel) the insertion of both statements
p26830
aVRead the JDBC tutorial about transactions
p26831
as(dp26832
g23
V571407
p26833
stp26834
a((dp26835
g2
(lp26836
VThe problem is not the query
p26837
aVThe problem is that Hibernate needs to flush the session (save changes it has in memory to the database) before executing the query, to make sure that the query takes these changes into account
p26838
aVAnd the flush can't be done because some persisted or modified SecuredObject references a transient (i
p26839
ag468
aVnot persisted yet) instance
p26840
aVAs the message says, this transient instance must be saved (or persisted) before the flush can be done
p26841
as(dp26842
g23
V571407
p26843
stp26844
a((dp26845
g2
(lp26846
VSuppose your app is hosted at , and suppose your logout JSP is named logout
p26847
aVjsp
p26848
aVIf I just use my browser and type http://your
p26849
aVhost
p26850
aVcom/app/logout
p26851
aVjsp in the address bar and hit enter, you'll have a logout without login in your database
p26852
aVNo need to crack anything
p26853
aVAnother possibility is that, since you ignore basically any exception that occurs, the login has succeeded but the insert into the database has failed
p26854
aVIt's certainly that which happened, since to insert the login in database, you use  instead of using
p26855
aVYour code is really, really, terrible
p26856
aVYou should learn to indent code, use JDBC correctly, handle exceptions correctly, use transactions instead of autocommit, and close resultsets, statements and connections in finally blocks
p26857
aVAnd Java code in JSP is really bad practice
p26858
aVRead tutorials, and NEVER do
p26859
as(dp26860
g23
V571407
p26861
stp26862
a((dp26863
g2
(lp26864
VWell, just execute a query to get all the children of the selected master
p26865
aVEven if the transaction is not committed yet, the transaction sees them in the database, since it has saved them
p26866
aVNote, however, that using long transactions is not scalable, and will lead to all sorts of locking and staleness problems
p26867
aVWhy don't you save the children and commit each time the user adds or remove a child
p26868
as(dp26869
g23
V571407
p26870
stp26871
a((dp26872
g2
(lp26873
VEverything under WEB-INF is not accessible from the outside, and the point of an MVC framework is to invoke a controller before dispatching to the view, so invoking the JSP directly should not be done anyway
p26874
aVAnd you probably don't have any Spring controller mapped to the root URL, so obviously, there is nothing at the URL
p26875
as(dp26876
g23
V571407
p26877
stp26878
a((dp26879
g2
(lp26880
VA scroll pane is a container which contains another component
p26881
aVYou can't add your text area to two different scroll panes
p26882
aVThe scroll pane takes care of the horizontal and vertical scroll bars
p26883
aVAnd if you never add the scroll pane to the frame, it will never be visible
p26884
aVRead the swing tutorial about scroll panes
p26885
as(dp26886
g23
V571407
p26887
stp26888
a((dp26889
g2
(lp26890
VThe idea of JOptionPane is to show a modal dialog, which asks for confirmation or option, and to continue once the user has chosen an option
p26891
aVWithout the chosen option, the program can't continue
p26892
aVIf you would like a non-modal dialog, then you'll need to construct it yourself, using JDialog
p26893
as(dp26894
g23
V571407
p26895
stp26896
a((dp26897
g2
(lp26898
VIt's not supported yet
p26899
aVSee http://www
p26900
aVmail-archive
p26901
aVcom/users@subversion
p26902
aVapache
p26903
aVorg/msg09857
p26904
aVhtml
p26905
aVYou'll have to do a fresh checkout, or to copy the subtree and do a switch on this subtree
p26906
as(dp26907
g23
V571407
p26908
stp26909
a((dp26910
g2
(lp26911
VYou could use
p26912
aVwhere  is a subclass of ArgumentMatcher which checks that when the given iterator'selements are all added to a new list, this new list equals the list passed in the constructor ( in this case)
p26913
aVThe matcher could be even simpler and just check the first element, or the number of elements, or anything you want
p26914
as(dp26915
g23
V571407
p26916
stp26917
a((dp26918
g2
(lp26919
VEnclose the name in a div with the following CSS style:
p26920
aVSee http://webdesignerwall
p26921
aVcom/tutorials/word-wrap-force-text-to-wrap for a demo
p26922
as(dp26923
g23
V571407
p26924
stp26925
a((dp26926
g2
(lp26927
VBigDecimal is immutable
p26928
aVEvery operation returns a new instance containing the result of the operation:
p26929
aVIf you want x to change, you thus have to do
p26930
aVReading the javadoc really helps understanding how a class and its methods work
p26931
as(dp26932
g23
V571407
p26933
stp26934
a((dp26935
g2
(lp26936
VWhat you're seeing below the table is probably the background of the viewport of the JScrollPane which contains the JTable
p26937
aVSet this viewport's background as well:
p26938
as(dp26939
g23
V571407
p26940
stp26941
a((dp26942
g2
(lp26943
VYou can use the jQuery  function to load the response from an AJAX request to a given URL into a div, and you can use the  function to transform the set of inputs of your search form into a query string
p26944
aVThe JSP page used to generate the first page of the table should just generate the table:
p26945
as(dp26946
g23
V571407
p26947
stp26948
a((dp26949
g2
(lp26950
VYou shouldn't have to transform anything
p26951
aVThe driver takes care of everything
p26952
aVTry using a prepared statement rather than string concatenation
p26953
aVThis will have the additional advantage of avoiding SQL injection attacks, and make sure your statement works even if the string variable contains a quote
p26954
as(dp26955
g23
V571407
p26956
stp26957
a((dp26958
g2
(lp26959
VSee http://velocity
p26960
aVapache
p26961
aVorg/engine/releases/velocity-1
p26962
aV5/user-guide
p26963
aVhtml#propertylookuprules
p26964
aVIf your method was named  rather than , you could use the same syntax as for regular properties
p26965
aVSo, either refactor your class, or add an additional  method that does the same thing as , or transform your object into a , which has a  method
p26966
as(dp26967
g23
V571407
p26968
stp26969
a((dp26970
g2
(lp26971
VSee http://wiki
p26972
aVeclipse
p26973
aVorg/Jetty/Howto/Deploy_Web_Applications:
p26974
aVIf the webapp is called root
p26975
aVwar or the directory is called root/ then
p26976
aVJetty deploys it at the / context
p26977
aVPS: I've never used Jetty, and it took me 3 seconds to find with Google
p26978
as(dp26979
g23
V571407
p26980
stp26981
a((dp26982
g2
(lp26983
VIt works because the URL used to display the form is also mapped (with method GET) to
p26984
aVAnd the default action of a form is the URL of the page where it comes from
p26985
as(dp26986
g23
V571407
p26987
stp26988
a((dp26989
g2
(lp26990
VIf  is called, then the INSTANCE enum must be constructed, then its constructor must have been executed before
p26991
aVThere's no way such code could be executed if the constructor hasn't been executed before
p26992
as(dp26993
g23
V571407
p26994
stp26995
a((dp26996
g2
(lp26997
VThe iterator of a linked list can just have a pointer to the next node in the list, and go to the next node each time  is called
p26998
aVIt doesn't start from the beginning every time
p26999
aVWhereas if you use an index and call , the linked list has to iterate from the beginning until the ith element at each iteration
p27000
aVWhat you missed is that the iterator implementation of an ArrayList and the one of a LinkedList are completely different
p27001
as(dp27002
g23
V571407
p27003
stp27004
a((dp27005
g2
(lp27006
VThis means that the order of the children of each node is not deterministic
p27007
aVYou probably used a  to hold children
p27008
aVConsider using a  (which preserves insertion order) or a  (which sorts children)
p27009
aVThis way, the order will always be the same
p27010
aVIf randomness is a feature of your tree and you want to keep it as is, then see the other answers, or change the algorithm itself to make sure you always sort the children while traversing the tree
p27011
as(dp27012
g23
V571407
p27013
stp27014
a((dp27015
g2
(lp27016
VIn the first iteration, the while loop doesn't execute, because
p27017
aVIn the next iteration, the while loop doesn't run because
p27018
aVYou should probably use  (not tested though)
p27019
as(dp27020
g23
V571407
p27021
stp27022
a((dp27023
g2
(lp27024
VIf you don't let Guice construct your object, it can't provide you an instance with the interceptor wrapped around
p27025
aVYou must not use  to get an instance of your object
p27026
aVInstead, you must ask Guice to give you one instance:
p27027
aVSee http://code
p27028
aVgoogle
p27029
aVcom/p/google-guice/wiki/GettingStarted
p27030
as(dp27031
g23
V571407
p27032
stp27033
a((dp27034
g2
(lp27035
VI don't know JxImageView, but I don't see how it could change the background color of an image, because an image doesn't have any background color
p27036
aVIt probably just means that some parts of the image are transparent, and that the white color you see is the background color of the component which displays the image:
p27037
aVYou should just probably change the background color of the , to the color that suits you
p27038
aVThe JxImageView could also itself be transparent, in which case you would see its parent component's background
p27039
aVTry loading the image in an image editor to confirm that the image is transparent
p27040
as(dp27041
g23
V571407
p27042
stp27043
a((dp27044
g2
(lp27045
VInstead of scheduling two different tasks (P2P and RMI), schedule a single one (P2POrRMI) which, based on the value of the  variable, executes what the P2P task executes, or what the RMI task executes
p27046
aVYou should be able to create this P2POrRMI task by just delegating to RMI or P2P:
p27047
aVMake sure to properly synchronize the access to isRMI, or to make it volatile, since it will be set by one thread, and read by another one (the scheduler thread)
p27048
as(dp27049
g23
V571407
p27050
stp27051
a((dp27052
g2
(lp27053
VWell, your page source indicates the problem clearly: the  tags aren't interpreted by the container
p27054
aVThis means that you forgot to declare the  taglib at the top of the JSP:
p27055
as(dp27056
g23
V571407
p27057
stp27058
a((dp27059
g2
(lp27060
VWhat you're missing is that Hibernate replaces your TreeMap with its own Map implementation in order to implement cascading, lazy-loading, and so on, and that it's impossible for Hiberbate to know that the map must be sorted according to your comparator
p27061
aVYou thus need to tell Hibernate that your map should be sorted, and give it the class of the comparator to use
p27062
aVSee http://docs
p27063
aVjboss
p27064
aVorg/hibernate/core/3
p27065
aV6/reference/en-US/html_single/#d0e10663
p27066
aVNote that since you provide a setter for this map and blindly replace the current map with the map passed as argument, anyone could replace the map with another one which is not sorted the same way
p27067
aVThere shouldn't be a public setter for this property
p27068
as(dp27069
g23
V571407
p27070
stp27071
a((dp27072
g2
(lp27073
VA second thread is not spawned because it would break the contract of the method, specified in its javadoc:
p27074
aVIf any execution of this task takes longer than its period, then
p27075
aVsubsequent executions may start late, but will not concurrently
p27076
aVexecute
p27077
aVThis behavior is the designed, documented behavior
p27078
as(dp27079
g23
V571407
p27080
stp27081
a((dp27082
g2
(lp27083
VMy guess is that the SQL query executed doesn't select this new column, or uses another name as the one you're expecting:
p27084
aVor
p27085
as(dp27086
g23
V571407
p27087
stp27088
a((dp27089
g2
(lp27090
VYes, it's a matter of taste
p27091
aVI generally use double quotes when the string literal contains single quotes, and vice-versa, to avoid having to escape them
p27092
as(dp27093
g23
V571407
p27094
stp27095
a((dp27096
g2
(lp27097
VYou must create a join to the San entity, using a subcriteria, or an alias:
p27098
aVor
p27099
aVThis is well explained in the Hibernate reference documentation and even in the Criteria javadoc
p27100
aVNote that this has absolutely nothing to do with Spring, and everything to do with Hibernate
p27101
aVIf you searched in the Spring doc for how to do this, no wonder you didn't find anything
p27102
as(dp27103
g23
V571407
p27104
stp27105
a((dp27106
g2
(lp27107
VThe entire loop of the  thread is synchronizd on
p27108
aVThis means that although you call  in this loop, other threads can't reacquire the lock until the complete loop has ended in the  thread
p27109
aVMake each iteration of the loop synchronized, instead of synchronizing outside of the loop
p27110
aVNote that this won't be sufficient, though, because the Counter thread might reacquire the lock before all the Stop threads have reacquired it
p27111
aVYou'll need to make the Counter thread wait on another condition, and make it restart when all the Stop threads have displayed the count
p27112
aVYou should investigate higher-level abstractions, like CyclicBarrier and CountDownLatch
p27113
as(dp27114
g23
V571407
p27115
stp27116
a((dp27117
g2
(lp27118
VUse a ServletContextListener to start a thread when the application starts, and stop this thread when it stops
p27119
aVMake the object encapsulating this thread available to all the pages by placing it in an attibute of the ServletContext
p27120
as(dp27121
g23
V571407
p27122
stp27123
a((dp27124
g2
(lp27125
VThe JSP EL looks in page, then request, then session, then application
p27126
aVIf you want to access the session explicitely, use
p27127
aVFor the servlet context, use
p27128
aV(and similarly for  and )
p27129
as(dp27130
g23
V571407
p27131
stp27132
a((dp27133
g2
(lp27134
VIMHO, it's not a good design
p27135
aVThis is like using a global variable to reference the "current friend"
p27136
aVObviously, this makes it impossible to view information about two different friends at once, by opening the "friend info" page in another browser tab or window, for example
p27137
aVIt also couples the "friend info" page to the "friend list" page
p27138
aVThis means that any other page which wants to link to the friend info page must put the friend ID in the session, and that you're forced to go through one of these pages to see a friend info
p27139
aVIf the user bookmarks the friend info page, closes his session, reopens one, and uses his bookmark, it will fail
p27140
aVAnd finally, it makes the application stateful, whereas it could stay stateless by having the "friend list" page simply link to the "friend info" page by using a link such as
p27141
as(dp27142
g23
V571407
p27143
stp27144
a((dp27145
g2
(lp27146
VYou're comparing the current word to the result, but the result is a local variable which is always set to  (which, BTW, is not the empty string, but is a String containing a white space)
p27147
aVYou should pass the current result as an argument to the method, and start with an empty string as the result
p27148
aVYou also have a bug because you don't trim your tokens, and thus consider the leading white space as part of the word
p27149
as(dp27150
g23
V571407
p27151
stp27152
a((dp27153
g2
(lp27154
VThere are two limits:
p27155
aVthe amount of memory
p27156
aVthe max integer value (), since elements in the underlying array are indexed by an integer index
p27157
aVSide note: if you plan to use Vector, then don't
p27158
aVUse ArrayList instead, which is not synchronized and fits better with the rest of the Collections framework
p27159
as(dp27160
g23
V571407
p27161
stp27162
a((dp27163
g2
(lp27164
VYour task is scheduled at fixed rate
p27165
aVThis means that until you cancel the task, it will be executed again and again by the executor with a fixed rate
p27166
aVThe only thing that such a task can do is to have a side-effect
p27167
aVIt can't return anything, since the future that is returned by the executor represents all the pending executions of the task
p27168
aVBTW, you'll notice that the  method takes a Callable as argument (which can result something), whereas the  method only takes a Runnable as argument (which returns void, thus can't return anything)
p27169
aVSo, if you want to print the result of each execution, then simply make the task itself (the Runnable) print its result, or have the runnable put its result in a blocking queue, and have the main thread  from the queue
p27170
aVThe main thread will thus be blocked untile some result is put in the queue
p27171
as(dp27172
g23
V571407
p27173
stp27174
a((dp27175
g2
(lp27176
VThe first one is only valid since Java 7, and is the equivalent of
p27177
aVIt's just less verbose
p27178
aVSame for the third one, which is equivalent to
p27179
aVand thus strictly equivalent to the second one
p27180
aVYou should prefer the first one, for the reasons mentioned in the answers to the following question: List versus ArrayList
p27181
as(dp27182
g23
V571407
p27183
stp27184
a((dp27185
g2
(lp27186
VDon't use Eclipse to build the release version of your app
p27187
aVUse Ant, Maven, or any other build tool that is much more flexible than Eclipse, doesn't need a GUI, can be scripted and used by a continuous integration server
p27188
aVAll of these tools should easily be used to include your pre-compilation and post-compilation tasks in the build process
p27189
aVThat said, you could just use a public static final boolean constant FOR_TEST, and include all your testing code in
p27190
aVYou would then have just a single place to change in the code to have all the test code removed from the compiled version
p27191
aVNo need for a complex Java program to do that
p27192
aVOr you could let all the testing code in the released version, and activate it when testing using a system property, for example
p27193
aVThis wouldn't even need any precompilation/postcompilation phase, and would probably have a negligible cost
p27194
as(dp27195
g23
V571407
p27196
stp27197
a((dp27198
g2
(lp27199
VYour understanding of JPA is wrong
p27200
aVJPA (of which Hibernate and EclipseLink ar two implementations) is an ORM: Object Relational Mapper
p27201
aVSome prefer designing Java objects and deduce the database schema from these objects
p27202
aVOthers prefer designing a database schema, and deduce Java objects from this schema
p27203
aVBoth approaches are possible, and JPA doesn't assume any of those approaches
p27204
aVIt specifies how Java objects and their associations can/must be mapped to tables
p27205
aVAdvantages over writing your own DAL:
p27206
aVyou don't have to,
p27207
aVit's much more efficient
p27208
aVit's standard, and a whole lot of developers know how it works
p27209
aVit's better designed, and has less bugs
p27210
aVwhat you learn will be usable on many other projects
p27211
aVAdvantages over finding a framework which creates classes from database relations:
p27212
aVNot applicable: JPA is such a framework
p27213
as(dp27214
g23
V571407
p27215
stp27216
a((dp27217
g2
(lp27218
VNo, there is no way to do that
p27219
aVYou can create an executable jar, and define what the main class is in the jar manifest, allowing you to use
p27220
aVthough
p27221
aVSee http://docs
p27222
aVoracle
p27223
aVcom/javase/tutorial/deployment/jar/appman
p27224
aVhtml
p27225
aVYou may also deliver your app with a script which executes the appropriate command for you:
p27226
as(dp27227
g23
V571407
p27228
stp27229
a((dp27230
g2
(lp27231
VNo, you don't need an SVN server
p27232
aVYou may access a local repository using the file: protocol
p27233
aVI wouldn't advise doing this, though
p27234
aVInstalling an HTTP or even svnserve server on your local machine is simple and doesn't consume many resources
p27235
aVSee http://tortoisesvn
p27236
aVtigris
p27237
aVorg/faq
p27238
aVhtml#reponoserver
p27239
as(dp27240
g23
V571407
p27241
stp27242
a((dp27243
g2
(lp27244
VPut the  folder inside the  folder, and Eclipse will copy the images into the target folder ( or , generally), which will make them available from the classpath, just as if they were in your jar in the released version of your app
p27245
aVdoesn't look in a jar
p27246
aVIt looks in the classpath of the classloader
p27247
aVWhether the image is in a jar or not is thus not important
p27248
aVIt must be in the classpath
p27249
aVAnd obviously the target folder of eclipse ( or , generally) is in the runtime classpath of the app when you launch it from Eclipse
p27250
as(dp27251
g23
V571407
p27252
stp27253
a((dp27254
g2
(lp27255
VThe IO logic must be in (at least one) separate background thread
p27256
aVEach time something must be printed to the text area from one of those background threads, they should do it using , to make sure that the Swing components are only accessed from the event dispatch thread
p27257
aVThat said, I don't think it's a very good idea to have a GUI for a server
p27258
aVWhy don't you simply write in a log file, and use any text editor to see what the server received
p27259
aVOr write the GUI of the server as a client of this server
p27260
as(dp27261
g23
V571407
p27262
stp27263
a((dp27264
g2
(lp27265
VYou'll have to use a SQL restriction to do that, or, preferrably, you'll have to create your own Criterion implementation, which will issue the appropriate SQL restriction
p27266
aVUse the  class as an exemple: when it's not using the PostgreSQL dialect, it generates the SQL expression , where the argument of the expression is
p27267
aVYour criterion should generate something like  where the argument of your expression is your max time
p27268
aV(And of course, do a similar criterion for the min time)
p27269
as(dp27270
g23
V571407
p27271
stp27272
a((dp27273
g2
(lp27274
VYou'll achieve this by iterating on your teachers and students, and comparing their code with the given token
p27275
aVIf the codes are unique identifiers, and your program must search by code, then you should creta e a  and an , where the keys of the maps are the teacher/student codes, and use the map's containsKey method to know if such a teacher or student code exists
p27276
aVThis will lean to O(1) searches rather than O(n)
p27277
as(dp27278
g23
V571407
p27279
stp27280
a((dp27281
g2
(lp27282
VFirst of all, I think this problem is too difficult to be solved by using a Hibernate query, or even a set of Hibernate queries
p27283
aVHere's how I would do:
p27284
aVload all 100 questions in memory
p27285
aVcreate a , and shuffle all the lists in this map
p27286
aVfor each field, take the first question of the corresponding list that has an acceptable level
p27287
aVOnce you have one question in every field, take all the remaining questions, put them in a list, shuffle the list, and iterate over the list
p27288
aVEach time a question has a level which is acceptable, take it
p27289
aVDo that until you have your 20 questions
p27290
aVThis should work if, for each field, you're guaranteed to have at least a question for every level
p27291
aVIf it's not the case, then it's more difficult
p27292
aVIf you have much more questions that 100, and they can't be loaded in memory, you could use the same kind of algorithm, but use random queries to select the questions:
p27293
aVissue one query per field to find a question in each field
p27294
aVThe where clause should only accept the given field, and should only accept the levels which are still acceptable
p27295
aVissue a query to find N questions randomly (with N being equal to 50, for example, and with a where clause which only accepts the remaining levels), and take the first 10 acceptable questions
p27296
aVIf there are less than 10 acceptable questions, try again
p27297
aVThere should be at most 3 such queries
p27298
aVMake sure your where clause rejects the IDs of the questions which have already been loaded
p27299
as(dp27300
g23
V571407
p27301
stp27302
a((dp27303
g2
(lp27304
VBecause optimistic locking is used to handle concurrent updates and removals
p27305
aVIf two threads try to insert two entities with the same ID, the unique constraint on the primary key is sufficient to detect the conflict
p27306
aVNo need for optimistic locking for this
p27307
as(dp27308
g23
V571407
p27309
stp27310
a((dp27311
g2
(lp27312
VYou're looking for the @Where annotation
p27313
aVYou don't need the  in the clause, AFAIK
p27314
as(dp27315
g23
V571407
p27316
stp27317
a((dp27318
g2
(lp27319
VThe entity manager maintains a first level cache, and this first level cache is thrown away as soon as the transaction has ended
p27320
aVElse, the cache would return stale values, since other transactions, in the same application or in another one, could modify or remove the cached entities
p27321
aVMoreover, concurrent transactions each have their own session-level cache, and thus their own instance of the same entity
p27322
aVIf in a subsequent transaction, you  the same entity, a new SQL query will be issued, and a different instance of the entity will be returned
p27323
aVIf something must be remembered across transactions for a given entity, then it should be made persistent in in the database
p27324
aVThat's the point of a database
p27325
as(dp27326
g23
V571407
p27327
stp27328
a((dp27329
g2
(lp27330
VIf you want to know when some value changes in your table, you must not register a listener on the renderer
p27331
aVYou must register a listener on the table model: that's where the data displayed by the table is held, and that's the object which fires an event if anything changes in the data
p27332
aVThe alternative is to use a custom table model consisting in a list of beans, have the table model modify the properties of the beans it holds, and have the bean fire a property change event when a property changes
p27333
aVYou'll then register listeners on the beans themselves rather than registering a table model listener (note that the table model still has to fire table model events, though)
p27334
as(dp27335
g23
V571407
p27336
stp27337
a((dp27338
g2
(lp27339
VWhat's wrong with
p27340
aVThat looks very readable to me, and I don't see what you gain from your MapBuilder
p27341
aVAnyway, such a MapBuilder wouldn't be hard to implement
p27342
as(dp27343
g23
V571407
p27344
stp27345
a((dp27346
g2
(lp27347
VYes, use a custom generator
p27348
aVThe list is available in the Hibernate documentation
p27349
aVSome of them don't use the database: increment, and uuid*
p27350
aVIf you want a sequence number, the increment generator can be used, but it's very limited, because it's unusable if you have a cluster, or if any other process also inserts rows in the database
p27351
as(dp27352
g23
V571407
p27353
stp27354
a((dp27355
g2
(lp27356
VI'd rather do the reverse
p27357
aVPut the version number in your build file, as a property
p27358
aVAt build time, use the replace ant task to insert the version from ant into the Version
p27359
aVjava file, and then compile the application
p27360
aVThis way, you still have only one place where the version is written, and your Version class delivered with the app is identical to the one you have now
p27361
as(dp27362
g23
V571407
p27363
stp27364
a((dp27365
g2
(lp27366
VYou need to call  to write all the pending changes to the database
p27367
aVonly makes a transient entity attached to the persistence context
p27368
aVHibernate only flushes when necessary, in order to avoid them if they're not, and to be able to send then into a batch
p27369
as(dp27370
g23
V571407
p27371
stp27372
a((dp27373
g2
(lp27374
VAdd something like the following at the end of the code:
p27375
as(dp27376
g23
V571407
p27377
stp27378
a((dp27379
g2
(lp27380
VYou have several problems
p27381
aVFirst problem: persist() doesn't insert in database
p27382
aVIt only makes a transient entity attached
p27383
aVThe insert is only executed when flush( is called, explicitely of implicitely before the commit of the transaction
p27384
aVCatching an exception thrown by persist won't work
p27385
aVSecond problem: since  and  run in the same transaction, if any exception is thrown by JPA, the only thing you can do is rollback the transaction and discard the session
p27386
aVThe Hibernate session is in an unstable state after any exception is thrown, and you can't recover from any exception it throws
p27387
aVSo, what I would do is:
p27388
aVget the item from the database
p27389
aVif there is one, update it (no need to call merge here: the entity is attached) and return
p27390
aVif there is none, call a method with requires_new transaction to create and update the the item
p27391
aVif this method succeeds, return
p27392
aVif this method throws an exception, then go back to step 1
p27393
as(dp27394
g23
V571407
p27395
stp27396
a((dp27397
g2
(lp27398
VMerge revisions 500 to 510 from trunk to branch, and commit the branch
p27399
aVSince these are bug fixes, they should normally also be done in the trunk, so I would leave the trunk as is
p27400
aVIf you really want to remove them from the trunk, then undo these changes
p27401
aVTo avoid merging back those changes from the branch to the trunk, merge the commit from the branch to the trunk with the option "record only"
p27402
as(dp27403
g23
V571407
p27404
stp27405
a((dp27406
g2
(lp27407
VIf you don't make the query cachable, it won't be cached:
p27408
aVYou could also set the cache region for more fine-grained configuration
p27409
as(dp27410
g23
V571407
p27411
stp27412
a((dp27413
g2
(lp27414
VWell, instead of setting new settings in Application, update the existing ones
p27415
aVOr simply document the fact that these settings could change, and that any code interested in having the new settings must always go through
p27416
as(dp27417
g23
V571407
p27418
stp27419
a((dp27420
g2
(lp27421
VUse the  attribute, which references an object of type :
p27422
as(dp27423
g23
V571407
p27424
stp27425
a((dp27426
g2
(lp27427
VNewest first or newest last, it's a purely functional choice
p27428
aVThe comparator of one is just the inverse of the comparator of the other
p27429
aVYou'll need to understand the classes of the collections framework
p27430
aVI wouldn't keep unsaved schedules at client side
p27431
aVIf the client crashes, you lose all the unsaved items
p27432
aVWhy don't you simply call the server each time an item is created at client-side
p27433
as(dp27434
g23
V571407
p27435
stp27436
a((dp27437
g2
(lp27438
VIf I understand correctly, what you want is to concatenate the elements from both lists:
p27439
aVOr, using iterators (which would be important if the lists were long lists not backed by an array):
p27440
aVThat said, I agree with Peter's answer: you should use a  object with two properties:  and
p27441
aVSide note: I renamed your variables to make the code much more readable
p27442
as(dp27443
g23
V571407
p27444
stp27445
a((dp27446
g2
(lp27447
VYou need to at least ask one root object to the injector
p27448
aVThis root object will be injected with objects, which will be injected with objects, etc
p27449
aVThe the process needs to bootstrap
p27450
aVSee http://code
p27451
aVgoogle
p27452
aVcom/p/google-guice/wiki/GettingStarted
p27453
as(dp27454
g23
V571407
p27455
stp27456
a((dp27457
g2
(lp27458
VI don't see how it would be possible without composing the query dynamically
p27459
aVConsider using the Criteria API to create it
p27460
aVI would design the query like this:
p27461
aVAs you see, there's a repeating pattern, and all these subqueries are similar an are combined into a disjunction
p27462
as(dp27463
g23
V571407
p27464
stp27465
a((dp27466
g2
(lp27467
VYes
p27468
aVI don't see why one would use several columns to store a single integer value
p27469
aVThe index column stores the index of the element in the list
p27470
aVHibernate populates this column automatically, from the index of the element in the list
p27471
as(dp27472
g23
V571407
p27473
stp27474
a((dp27475
g2
(lp27476
VWhat you're doing wrong is that when you call , you try loading the  file from the current directory
p27477
aVThe current directory is the directory from which  is executed
p27478
aVAnd the current directory is probably not the directory you believe when you execute  from your IDE
p27479
aVUse the following code to display the current directory:
p27480
aVYou should probably load the png file from the classpath, using
p27481
aVCreate an  folder in your source directory, and put the file in this directory
p27482
aVYour IDE will copy it to the target folder, along with the  files
p27483
aVIf you're not using an IDE, then you'll have to copy it yourself
p27484
aVEDIT:
p27485
aVAfter more investigations, it appeared that the root cause of the problem was the use of the null layout
p27486
aVThe above still stands, though, because loading a file from the current directory is not a good idea
p27487
as(dp27488
g23
V571407
p27489
stp27490
a((dp27491
g2
(lp27492
VThere are definitely safe ways to stop threads
p27493
aVRead http://docs
p27494
aVoracle
p27495
aVcom/javase/tutorial/essential/concurrency/interrupt
p27496
aVhtml
p27497
aVAnd pausing a thread and resuming it is simply a matter of setting a flag and using  and  appropriately
p27498
aVYou're probably looking for a higher-level abstraction, though
p27499
aVHave a look at
p27500
as(dp27501
g23
V571407
p27502
stp27503
a((dp27504
g2
(lp27505
VIf the method returns a raw map, the only thing you can do is to make sure (from the doc or from the code) that the Map is indeed a , and ignore the warning
p27506
aVThe compiler doesn't have any way to check that the returned Map is ideed a
p27507
aVYou should ignore the warning at the smallest possible scope, else other unsafe code could be added without warning from the compiler
p27508
as(dp27509
g23
V571407
p27510
stp27511
a((dp27512
g2
(lp27513
VThe action bean class (), doesn't have a no-arg constructor, so Stripes can't create an instance of this class
p27514
as(dp27515
g23
V571407
p27516
stp27517
a((dp27518
g2
(lp27519
V is the location where the classes of a webapp are found at runtime, inside the generated war file
p27520
aVThe goal of Maven is to generate this war file
p27521
aVCheck if the file is indeed in the war file generated by Maven
p27522
aVThe appropriate location for such a file in a Maven project is
p27523
aVThe files in this location are considered as resources which must be copied along with the classes in the generated artefact
p27524
aVIf it's not the case, it means that the resources plugin isn't used, or is configured in a way that excludes this file or gets resources from another directory
p27525
as(dp27526
g23
V571407
p27527
stp27528
a((dp27529
g2
(lp27530
VIn Java, we use objects
p27531
aVWe would have a  object, with a  property of type , and a  of type
p27532
aVThis  object would have a  property, of type
p27533
aVJava is an OO language
p27534
aVIt's not Perl
p27535
aVYou should use Java idioms in Java, and not Perl idioms
p27536
as(dp27537
g23
V571407
p27538
stp27539
a((dp27540
g2
(lp27541
VYes
p27542
aVPut a breakpoint on the line, hit F8, wait for the program to execute until this line, and press F6 to go to the next line, or F5 to step into the current line
p27543
aVEDIT:
p27544
aVOnce the thread is paused in the debugger, you may also select some runnable code, right-click, and choose "Display" (Ctll-Shift-D) or "Execute" (Ctrl-U)
p27545
aVYou may also use the Display view to type any statement, select it, and execute or display it
p27546
as(dp27547
g23
V571407
p27548
stp27549
a((dp27550
g2
(lp27551
VThe business logic should not depend on the GUI logic
p27552
aVHave your GUI take inputs from the user
p27553
aVCall business logic methods with these inputs as method arguments, and use the values returned by the methods to display the result in the GUI
p27554
aVThe GUI thus depends on the business logic, but the reverse is not true
p27555
aVIf the business logic must callback the GUI, it should do so via well-defined GUI-agnostic callback interfaces, or listeners
p27556
aVFor example, you could register a ProgressListener on some business logic object, and this object would call back the progress listener
p27557
aVThe GUI would have an implementation of the ProgressListener which would in fact update some progress bar or text area
p27558
aVBut the business logic only depends on the interface, and not on the specific implementation
p27559
as(dp27560
g23
V571407
p27561
stp27562
a((dp27563
g2
(lp27564
VAn enum instance, by definition, is a singleton
p27565
aVThere is only one instance of each enum instance, by design
p27566
aVSo obviously, the only thing you can do is copy its reference
p27567
as(dp27568
g23
V571407
p27569
stp27570
a((dp27571
g2
(lp27572
VYou're probably not opening (and closing) your dialog in the event dispatch thread (using  from the main/listening thread)
p27573
aVThat said, having a GUI for a server application is probably not a good idea anyway
p27574
aVServer apps frequently run on headless servers, and are frequently started as services/daemons
p27575
aVUsing a log file is probably a better idea than using a GUI
p27576
as(dp27577
g23
V571407
p27578
stp27579
a((dp27580
g2
(lp27581
VOf course you can
p27582
aVWhy couldn't you
p27583
aVWhat do you think Hibernate does when you tell it to get a object from the DB, and then update this object
p27584
aVIt executes a SQL select query to get the object, and then a SQL update query to update it
p27585
as(dp27586
g23
V571407
p27587
stp27588
a((dp27589
g2
(lp27590
VThe constructor of ErrorCodeEnum can't return you a ServiceException
p27591
aVWhat you can do is to define a constructor of ServiceException which takes an instance of the enum itself:
p27592
aVand thus be able to use
p27593
aVOr a method in the enum which returns a ServiceException:
p27594
aVand thus be able to use
p27595
aVYou may of course do both
p27596
as(dp27597
g23
V571407
p27598
stp27599
a((dp27600
g2
(lp27601
VYou can't pass a column name as a parameter in a prepared statement
p27602
aVYou can only pass values
p27603
aVIf you really need this column name to be dynamic, then you'll have to use String concatenation to build this part of the query
p27604
as(dp27605
g23
V571407
p27606
stp27607
a((dp27608
g2
(lp27609
VA subselect in the select clause is impossible with Criteria
p27610
aVYou'll have to go with a HQL or a SQL query
p27611
as(dp27612
g23
V571407
p27613
stp27614
a((dp27615
g2
(lp27616
VThe JDBC driver takes care of everything
p27617
aVIt knows what the encoding value is and uses the appropriate encoding without any action on your part
p27618
as(dp27619
g23
V571407
p27620
stp27621
a((dp27622
g2
(lp27623
VThe code doesn't compile
p27624
aVWhat is
p27625
aVAnyway, if you want to remove an element while iterating, you must do it using the iterator's remove method:
p27626
aVYour  method could just do , though
p27627
aVMuch more straightforward and efficient
p27628
as(dp27629
g23
V571407
p27630
stp27631
a((dp27632
g2
(lp27633
VThe code is creating an anonymous Thread subclass with
p27634
aVIn this anonymous class, there is an initialization block:
p27635
as(dp27636
g23
V571407
p27637
stp27638
a((dp27639
g2
(lp27640
VFindBugs can output warnings when a DateFormat is defined as a static field
p27641
aVBut detecting non-thread-safe usage of a DateFormat is very difficult, because it would need to understand how an object is used
p27642
aVI don't think writing a CheckStyle rule for this is possible
p27643
aVAt least not without detecting a whole lot of false positives
p27644
aVMaybe you should just forbid direct usage of DateFormat, and wrap it into a custom class, or mandate the use Apache commons FastDateFormat, which is thread-safe
p27645
as(dp27646
g23
V571407
p27647
stp27648
a((dp27649
g2
(lp27650
VYou won't have microseconds, because a Date stores the number of milliseconds since Jan
p27651
aV1 1970
p27652
aVFor the milliseconds, use , as documented in the javadoc
p27653
as(dp27654
g23
V571407
p27655
stp27656
a((dp27657
g2
(lp27658
VYou need a global transaction manager which supports 2-phase-commit (XA)
p27659
aVSeveral independent and free ones are available
p27660
aVI've used Bitronix in a Spring-based project, but there is also Atomikos, and probably others
p27661
aVSee http://en
p27662
aVwikipedia
p27663
aVorg/wiki/Java_Transaction_API#Opensource_JTA_implementations
p27664
as(dp27665
g23
V571407
p27666
stp27667
a((dp27668
g2
(lp27669
VMake them real constants:
p27670
aVor type  yourself
p27671
as(dp27672
g23
V571407
p27673
stp27674
a((dp27675
g2
(lp27676
VYou construct an absolute path with
p27677
aVBut then you still use the file name when constructing the stream:
p27678
aVReplace this line with
p27679
aVAnd it should be better
p27680
aVThat said, you should read the Java IO tutorial, because you don't use files and streams correctly
p27681
aVFor example, you don't read all the bytes of your file, and you don't close streams in finally blocks
p27682
as(dp27683
g23
V571407
p27684
stp27685
a((dp27686
g2
(lp27687
VYou seem to be storing a binary document inside a varchar or CLOB column
p27688
aVUse a binary type to store binary data
p27689
as(dp27690
g23
V571407
p27691
stp27692
a((dp27693
g2
(lp27694
VI'm surprised that your application is not bundled with its dependencies
p27695
aVAnyway, if you manage to figure out the exact dependencies it has, then put all the jars in the same directory, go to this directory, and run
p27696
aVThat's on Windows
p27697
aVOn Unix, replace the  by
p27698
as(dp27699
g23
V571407
p27700
stp27701
a((dp27702
g2
(lp27703
VNo
p27704
aVIt just means that your type is parameterized with the type String
p27705
aVThere are plenty of non-collection generic types
p27706
aVSee , ,  for example
p27707
as(dp27708
g23
V571407
p27709
stp27710
a((dp27711
g2
(lp27712
VCookies are of two different types:
p27713
aVsession cookies, held in memory, and which expire once the browser exits
p27714
aVpersistent cookies, which have a time-to-live, are persisted on disk, and are sent by the browser until their time-to-live has elapsed
p27715
aVRead http://en
p27716
aVwikipedia
p27717
aVorg/wiki/HTTP_cookie
p27718
as(dp27719
g23
V571407
p27720
stp27721
a((dp27722
g2
(lp27723
VThe second one causes a new char array to be created, and all chars from the String to be copied to this new char array, so I would guess that the first one is faster (and less memory-hungry)
p27724
as(dp27725
g23
V571407
p27726
stp27727
a((dp27728
g2
(lp27729
VThere are 3 main reasons, IMO:
p27730
aVFirst reason: proxies
p27731
aVIf you ask Spring for the bean of type UserDAO, it will in fact return a proxy encapsulating the actual UserDAOImpl instance
p27732
aVThis allows it to demarcate transactions, verify security authorization, log accesses, compute statistics, etc
p27733
aVIt's possible to do it without an interface, but then byte-code manipulation is needed
p27734
aVSecond reasons: testability
p27735
aVWhen unit-testing a business service which uses a UserDAO, you typically inject a mock UserDAO implementation
p27736
aVOnce again, this is easier to do when UserDAO is an interface
p27737
aVIt's possible with a concrete class, but it has not always been, and it's still easier with an interface
p27738
aVThird reason: decoupling
p27739
aVBy using an interface, you have a place where you define the real contract of the DAO for its clients
p27740
aVSure, it needs a  method in the concrete implementation, but clients don't care about that
p27741
aVAll they need is set of data-access methods offered by the DAO
p27742
aVBy separating the interface and the concrete implementation, you make sure that the client doesn't rely on implementation details of the DAO
p27743
as(dp27744
g23
V571407
p27745
stp27746
a((dp27747
g2
(lp27748
VHow would you do it with Java code
p27749
aVYou would have two nested loops, right
p27750
aVYou'll need the same thing in your JSP:
p27751
aVIf you know the size of each sublist, then you may get one element (the first, here) using  :
p27752
as(dp27753
g23
V571407
p27754
stp27755
a((dp27756
g2
(lp27757
VThere are two solutions:
p27758
aVdon't use DTOs, and transfer the Hibernate entities themselves
p27759
aVThey're POJOs, and can be serialized if you make them implement the Serializable interface
p27760
aVfix the conversion code
p27761
aVEither make the association unidirectional in the DTOs, or make sure to convert the bidirectional association properly
p27762
aVHibernate can do it, so you should be able to do it as well
p27763
as(dp27764
g23
V571407
p27765
stp27766
a((dp27767
g2
(lp27768
VYou need to use the actual tree path of the node
p27769
aVNot just an instance of TreePath:
p27770
aVAlso, the javadoc says:
p27771
aVIf any component of the path is hidden (under a collapsed node), and getExpandsSelectedPaths is true it is exposed (made viewable)
p27772
aVSo make sure that  is true
p27773
as(dp27774
g23
V571407
p27775
stp27776
a((dp27777
g2
(lp27778
Vassert is a Java keyword
p27779
aVYou need
p27780
as(dp27781
g23
V571407
p27782
stp27783
a((dp27784
g2
(lp27785
VIf I understand correctly, you want to wait infinitely until the OS stops your program, is that right
p27786
aVIf so, you need to have at least one daemon thread running:
p27787
aVI'm not sure thet the OS will kill the JVM gently enough, and that the shutdown hook will execute, though
p27788
aVTest it
p27789
as(dp27790
g23
V571407
p27791
stp27792
a((dp27793
g2
(lp27794
VGiven the code and the exception, this means that you have a tag without name:  throws a NullPointerException, so  returns null
p27795
aVThat said, your query is a dangerous one, because it returns projects with a partial list of their tags
p27796
aVYou should rewrite the query as
p27797
as(dp27798
g23
V571407
p27799
stp27800
a((dp27801
g2
(lp27802
VFirst of all, I deduce from your query that there should be a toOne association between Ticket and Urgencia
p27803
aVYour SQL query could be rewritten as
p27804
aVSecond, this query is really simple, and doesn't need to be dynamically composed
p27805
aVUsing a HQL query would be much simpler than using Criteria:
p27806
aVNow if you really want to do it with criteria:
p27807
aVNext time you ask about Hibernate, include your entities, because that's what Hibernate works with: entities
p27808
as(dp27809
g23
V571407
p27810
stp27811
a((dp27812
g2
(lp27813
VFirst of all, your HTML is invalid, because you have several elements with the same  ID
p27814
aVNow to answer your question, why don't you simply make your JS functions take the ID of the row as argument:
p27815
aVand thus to generate it:
p27816
aVThat said, using scriptlets and accessing JDBC resultsets from a JSP shows a lack of proper MVC architecture
p27817
aVRead How to avoid Java Code in JSP-Files
p27818
as(dp27819
g23
V571407
p27820
stp27821
a((dp27822
g2
(lp27823
VThis property, AFAIK, is a system property that must be passed to ant (using )
p27824
aVBut unsetting the CLASSPATH is probably as easy
p27825
aVThe main problam, IMO, is to use the CLASSPATH environment variable in the first place
p27826
aVI find it preferrable to always use the -cp or -jar option whan using Java, and not to rely on the system CLASSPATH
p27827
aVAs soon as you have two Java programs that both rely on the system CLASSPATH, there is a risk of a clash between the dependencies of these two programs
p27828
as(dp27829
g23
V571407
p27830
stp27831
a((dp27832
g2
(lp27833
VYes
p27834
aVName all your select boxes the same way (, for example), and have a method
p27835
aVin your form bean
p27836
as(dp27837
g23
V571407
p27838
stp27839
a((dp27840
g2
(lp27841
VHQL doesn't work with tables
p27842
aVIt works with entities and their associations
p27843
aVCreate joins between the entities in the HQL query, and Hibernate will generate the appropriate SQL, using the join tables, for you
p27844
aVExample:
p27845
aVRead (at least) the HQL section of the reference manual
p27846
aVSide note: the name of the entities should be singular: Category and not Categories
p27847
aVAn article thus has a , named
p27848
aVMuch easier to read and understand that way
p27849
aVAnd the  field of Category should be named : it's the name of the category, and not its category
p27850
as(dp27851
g23
V571407
p27852
stp27853
a((dp27854
g2
(lp27855
VThe main problem is not the declared type of the  field, but its runtime type
p27856
aVIf the subclass is the only one to create its own vertices, then it can assign a  to the  variable
p27857
aVYou'll have to cast if to  if you want to use its additional methods, though
p27858
aVTo avoid the cast, you may make the Tree class generic:
p27859
aVSee javadoc for more information about generics
p27860
as(dp27861
g23
V571407
p27862
stp27863
a((dp27864
g2
(lp27865
VAdd a cascade of type DETACH:
p27866
as(dp27867
g23
V571407
p27868
stp27869
a((dp27870
g2
(lp27871
VThe URL looks wrong to me: you have a space in it
p27872
aVSouldn't it be something like
p27873
aVAnyway, you could wrap this inside a  or, even better, get the contents of this URL from a servlet/action before dispatching to the JSP (or to another JSP if it's not possible to load the external URL)
p27874
as(dp27875
g23
V571407
p27876
stp27877
a((dp27878
g2
(lp27879
VNo, this is not possible
p27880
aVJava objects are only accessible if you have a reference to those objects
p27881
aVWhat you can do is store your objects in a  under a given name, and get back the reference of the object from its name, using the map
p27882
as(dp27883
g23
V571407
p27884
stp27885
a((dp27886
g2
(lp27887
VJSPs are executed at server-side, and generate HTML
p27888
aVThe browser doesn't know and doesn't care about the JSP
p27889
aVIt goes to a URL, and takes the HTML from the response
p27890
aVIf you want to know which JSP generated some part of an HTML page, then discover to which servlet or JSP is the URL of the page mapped (provided this part is not generated by AJAX), and follow the path of the request from this servlet or JSP until you find the one that generates the given HTML part
p27891
aVIt can help to include a HTML comment at the start of every JSP, to be able to track that more easily:
p27892
aVThis way, by looking at the HTML code, you just have to go up until you find such a comment to know which JSP generated it
p27893
aVBut every JSP has to follow this rule
p27894
as(dp27895
g23
V571407
p27896
stp27897
a((dp27898
g2
(lp27899
VThe corresponding redimensionable structure to an  is a
p27900
aVAlso, note that classes in Java always start with an uppercase, by convention
p27901
aVIt should thus be , and not
p27902
aVA 2D array is not really a 2D array
p27903
aVIt's an array of arrays
p27904
aVThere is thus one outer array, and several inner arrays
p27905
aVIf you just want to remove nulls from the inner arrays, you can just use one temporary list to hold the elements of the current inner array during the iteration
p27906
aVIf the outer array contains null inner arrays, and you also want to remove these, then you shoud use a :
p27907
as(dp27908
g23
V571407
p27909
stp27910
a((dp27911
g2
(lp27912
VI don't know what a SQL parser is supposed to be
p27913
aVApplications don't have to parse SQL
p27914
aVThay have to execute SQL queries, and thus potentially generate SQL queries dynamically
p27915
aVBut it's the database that parses the SQL, not the application
p27916
aVThe UI doesn't typically provide a query to the service layer
p27917
aVThe UI doesn't have to know how the data is persisted and which queries to execute
p27918
aVIt's not its responsibility
p27919
aVThe UI should just pass Filter or Criteria objects to the service layer, which transforms the filter or criteria into a SQL query, executes the query, transforms the results into Java objects, and return those objects to the UI, which displays these objects
p27920
as(dp27921
g23
V571407
p27922
stp27923
a((dp27924
g2
(lp27925
VI would say: in their own layer
p27926
aVThe GUI, the business layer and the data access layer all use the entities
p27927
aVBut the GUI doesn't depend on the data access layer, and the data access layer doesn't depend on the service layer
p27928
aVSo entities must be in their own domain layer
p27929
as(dp27930
g23
V571407
p27931
stp27932
a((dp27933
g2
(lp27934
VIn short, you want to be able to upload a file to your JSP
p27935
aVFirst of all, a JSP is used to generate markup, so you should upload the file to a servlet or action, but not to a JSP
p27936
aVAll the MVC frameworks (Stripes, Spring MVC, etc
p27937
aVhave native support for file uploads
p27938
aVThey would also help structure your application
p27939
aVIf you really don't want to use such an MVC framework, then use Apache commons FileUpload
p27940
as(dp27941
g23
V571407
p27942
stp27943
a((dp27944
g2
(lp27945
VAvoid relying on the external representation of the time used by your database, which could vary depending on the database, locale and settings
p27946
aVInstead, use a prepared statement:
p27947
aVThis might look like a detail for times, but when you'll have to do it with dates or timestamps, it will become much more important
p27948
as(dp27949
g23
V571407
p27950
stp27951
a((dp27952
g2
(lp27953
VOne of the jars probably references the xerces, jta jars through the  entry of its manifest
p27954
aVQuote from java doc:
p27955
aVOriginally, an applet class loader uses a simple linear search
p27956
aValgorithm to search each element on its internal search path, which is
p27957
aVconstructed from the "ARCHIVE" tag or the "Class-Path" main attribute
p27958
as(dp27959
g23
V571407
p27960
stp27961
a((dp27962
g2
(lp27963
VYes, it is correct
p27964
aVAJAX allows loading only portions of a page
p27965
aVIt doesn't mean it's necessarily faster, though
p27966
aVIf each click consists in making 5 requests to refresh 5 parts, there is a good chance a single request to refresh the wole page will be faster
p27967
aVAs always, AJAX is only a tool
p27968
aVIf used badly, it won't lead to good results
p27969
as(dp27970
g23
V571407
p27971
stp27972
a((dp27973
g2
(lp27974
VJSF uses reflection to call the methods on your objects
p27975
aVIt doesn't know what the type of  is
p27976
aVAll it knows is that you asked the  of this object
p27977
aVSo, what it does is
p27978
aVFind an attribute, in any scope, named myBean
p27979
aVif not null, find if there is a public no-arg method named "getConsumer" in the class (or any superclass or interface) of this object
p27980
aVCall this method, and get the result: another object
p27981
aVif this other object is not null, find if there is a public no-arg method named "getFirstName" in the class (or any superclass or interface) of this other object
p27982
aVCall this method
p27983
aVSo, even if the method  declares that it returns a , if, at runtime, the actual object returned by  is a , JSF will search for a  method in , it will find it, and will happily call it and outut its result
p27984
as(dp27985
g23
V571407
p27986
stp27987
a((dp27988
g2
(lp27989
VThis syntax creates a BuyDTO instance from each of the rows of the resultset
p27990
aVEven if it worked, it would not return what you want to return
p27991
aVA collection field may not be part of a select clause of a HQL query
p27992
aVFirst solution: Don't return a DTO, return the entity itself
p27993
aVSecond solution: Select the entities, and build the DTO instances yourself:
p27994
aVThird solution: select what you want, and assemble the DTOs yourself:
p27995
aVIn each row of the result, you will find one ID, one buyName, and one insertionOrder
p27996
aVYou'll thus have to create one DTO the first time you meet a new ID, and add the order to an already constructed DTO thenext times you meet this ID
p27997
as(dp27998
g23
V571407
p27999
stp28000
a((dp28001
g2
(lp28002
VYou'll have to use a servlet which will load the image bytes from the classloader, and stream these bytes to the response :
p28003
aVUse  to get an input stream on the image
p28004
aVcall
p28005
aVget the response output stream
p28006
aVread all the bytes from the input stream and write them to the output stream
p28007
aVNote that most of the MVC frameworks have support for mapping a pattern of URLs to classpath resources, or to at least implement one part of the algorithm above for you
p28008
aVOr you can just extract these images out of the jar file, and put them in the webapp's tree of externally accessible resources
p28009
aVSide note: WEB-INF is, by design, not accessible from the outside
p28010
aVIf what you wanted to do was possible, anybody could steal the jar files and configuration of any Java-based webapp
p28011
as(dp28012
g23
V571407
p28013
stp28014
a((dp28015
g2
(lp28016
VJust because you give a task to a thread pool executor doesn't mean you can't hold a reference on it
p28017
aVKeep a reference on the task, and if the user chooses to cancel it, then call abort on your task
p28018
as(dp28019
g23
V571407
p28020
stp28021
a((dp28022
g2
(lp28023
VYou can't
p28024
aVDefine another named query with the where clause that suits you, and use that named query instead
p28025
as(dp28026
g23
V571407
p28027
stp28028
a((dp28029
g2
(lp28030
VNumberFormat is not thread-safe
p28031
aVSo storing it in a static variable and use it from multiple threads will lead to problems
p28032
aVEither synchronize every use of this object, or store it in a ThreadLocal variable
p28033
aVEven if the wrapper is only accessed read-only, there must be some time where the map of values is initialized and populated, and where the formatter is created, else there wouldn't be anything to format
p28034
aVYou didn't show the real, complete code of the class, so you might have at least visibility problems in this class as well
p28035
as(dp28036
g23
V571407
p28037
stp28038
a((dp28039
g2
(lp28040
VReplace the last colon by an empty string, and then parse
p28041
aVSimplest solutions are sometimes the best ones
p28042
as(dp28043
g23
V571407
p28044
stp28045
a((dp28046
g2
(lp28047
VThe standard JPQL function is TYPE()
p28048
aVI'm not absolutely sure it's supported by Hibernate, though:
p28049
aVHibernate also uses the  implicit property:
p28050
as(dp28051
g23
V571407
p28052
stp28053
a((dp28054
g2
(lp28055
VIt would be easier if you showed us the entities, since it's on them that HQL and criteria queries work
p28056
aVAnyway, in HQL:
p28057
aVAnd in Criteria, unfortunately, IIRC, all you can do is select the root entity or scalars, so it's hard to do this without having a bidirectionall association
p28058
aVIf you had a bidirectional association, you could do
p28059
aVSince you don't have the bidirectional association, the only way that I know of is to do this:
p28060
aVwhich corresponds to this ugly HQL query:
p28061
aVFor such simple static queries, I don't see any reason to go with Criteria rather than HQL
p28062
as(dp28063
g23
V571407
p28064
stp28065
a((dp28066
g2
(lp28067
VMy guess is that you only see the last part of the String because the console has a limited number of lines it can display
p28068
aVConsider logging to a file from Java, or redirecting the standard output from the program to a file:
p28069
as(dp28070
g23
V571407
p28071
stp28072
a((dp28073
g2
(lp28074
VNo, the transaction propagation settings have nothing to do with one thread being blocked
p28075
aVTransactions are precisely used to allow several threads to access the same database concurrently without problems
p28076
aVIs this method synchronized
p28077
aVBecause that would explain the blocking behavior
p28078
as(dp28079
g23
V571407
p28080
stp28081
a((dp28082
g2
(lp28083
VWindow - Preferences - Java - Appearance - Abbreviate package names
p28084
aVAnd enter the following rule:
p28085
aVcom
p28086
aVexample
p28087
aVetc={cee}
p28088
as(dp28089
g23
V571407
p28090
stp28091
a((dp28092
g2
(lp28093
VIt's not a bug, it's a feature
p28094
aVIt's much more user-friendly to let the user go where he wants to go after login than forcing him to go to the home page
p28095
aVHe could have bookmarked one of the protected pages, or simply browsed some non-protected pages containing a link to a protected page
p28096
aVFrom http://static
p28097
aVspringsource
p28098
aVorg/spring-security/site/docs/3
p28099
ag10
aVx/reference/springsecurity-single
p28100
aVhtml#ns-form-target:
p28101
aVIf a form login isn't prompted by an attempt to access a protected
p28102
aVresource, the default-target-url option comes into play
p28103
aVThis is the
p28104
aVURL the user will be taken to after successfully logging in, and
p28105
aVdefaults to "/"
p28106
aVYou can also configure things so that the user always
p28107
aVends up at this page (regardless of whether the login was "on-demand"
p28108
aVor they explicitly chose to log in) by setting the
p28109
aValways-use-default-target attribute to "true"
p28110
aVIMHO, you should keep things as is, but make sure that the required sesion attribute is set once the login is successful, instead of setting this attribute in the home page
p28111
aVThis would ensure that every protected page has access to the session attribute, even if the user didn't go to the home page
p28112
aVYou could do this easily by using a custom UsernamePasswordAuthenticationFilter subclass, that sets the appropriate attribute in session once the authentication has succeeded
p28113
as(dp28114
g23
V571407
p28115
stp28116
a((dp28117
g2
(lp28118
V is a JSP EL expression which means: find an attribute in page scope, or request scope, or session scope, or application scope, named "mytitle"
p28119
aVBy defining a scriptlet variable, you haven't defined an attribute in any of these scopes
p28120
aVIt would work if you had
p28121
aVBut using scriptlets in JSPs is bad practice
p28122
aVI don't know where your story bean comes from, but it's probably a request attribute
p28123
aVIf so, you can define a new page-scope attribute this way, using the JSTL:
p28124
aVThis is unnecessary though, since you could use this expression directly in the tiles tag:
p28125
aVRead more about the JSP EL in this tutorial
p28126
as(dp28127
g23
V571407
p28128
stp28129
a((dp28130
g2
(lp28131
VIf you use a hidden field for your session ID in a GET form, or query parameters in a link, the session ID will be visible in the URL
p28132
aVTo do what you want, you'll have to exclusively use POST forms, or AJAX
p28133
aVWhat kind of device would no support cookies but support JavaScript
p28134
aVIf you still want to go this way, I'm afraid you'll have to reimplement session handling yourself, or modify the session handling code of your web container
p28135
as(dp28136
g23
V571407
p28137
stp28138
a((dp28139
g2
(lp28140
VNo, calling  is not necessary
p28141
aVClosing the session also clears it
p28142
aVClearing the session is useful when you have long-running sessions, or when doing batch updates, which keep a large amount of entities in memory, to avoid out or memory errors
p28143
aVBut if you only keep a session open for the duration of a typical transaction, clear isn't necessary
p28144
as(dp28145
g23
V571407
p28146
stp28147
a((dp28148
g2
(lp28149
VYes, it's correct
p28150
aVWhy you would want to have two instances of an application context is unclear to me, though
p28151
as(dp28152
g23
V571407
p28153
stp28154
a((dp28155
g2
(lp28156
VThe javadoc isn't very clear regarding the behavior of new schedules if the executor is shutting down
p28157
aVIn my understanding, it should reject new schedules
p28158
aVAnyway, the poller thread doesn't see the value of your flag because it's not synchronized
p28159
aVYou need to synchronize all its accesses, or to make it volatile
p28160
aVAnother way is to use an AtomicBoolean, which will encapsulate this for you
p28161
as(dp28162
g23
V571407
p28163
stp28164
a((dp28165
g2
(lp28166
VIf you declare your app in Eclipse to be a 2
p28167
aV5 app, and say that your web-app version is 2
p28168
aV4, but link to the schema of the 2
p28169
aV5 version (), it will obviously not work
p28170
aVUse the 2
p28171
aV4 version:
p28172
as(dp28173
g23
V571407
p28174
stp28175
a((dp28176
g2
(lp28177
VFrom your insert script,  is not the last inserted record
p28178
aVIt's the third one
p28179
aVIf you want to get the last record in alphabetical order (which  is), you must use
p28180
aVIf you want the last inserted row, why don't you just use add an autoincrement column to your table
p28181
aVThat's the point of those kinds of columns
p28182
aVThe autoincrement column doesn't have to be the PK (it should be, but doesn't have to if you don't have the choice)
p28183
as(dp28184
g23
V571407
p28185
stp28186
a((dp28187
g2
(lp28188
VWindow - Preferences - General - Workspace
p28189
aVand, for more fine-grained tuning by content type:
p28190
aVWindow - Preferences - General - Content types
p28191
aVIf you open the Preferences window and type "enco" in the filer text box, Eclipse will show all the preferences panels which contain encoding options
p28192
as(dp28193
g23
V571407
p28194
stp28195
a((dp28196
g2
(lp28197
VLong-running tasks (like your bulk update) must not be done in the event dispatch thread (the thread where all the GUI operations are made), else, as you observed, the GUI freezes
p28198
aVUse SwingWorker to execute your long-running tasks in a background thread
p28199
aVIts javadoc has a useful example, and its also described in the Swing tutorial
p28200
as(dp28201
g23
V571407
p28202
stp28203
a((dp28204
g2
(lp28205
VThere is no built-in mechanism to do what you want, but it's not really difficult
p28206
aVExecute a JPQL query to get all the values whose code is in the set of codes you receive and whose toDate field is null:  (make sure that the number of codes isn't larger than the database limit for an  clause, though
p28207
aVIf so, execute multiple queries)
p28208
aVBuild a  from the list of currencies found (the key of the map being the code of the currency)
p28209
aVIterate over the currencies to update
p28210
aVFor each currency, find its persistent version in the map
p28211
aVIf in the map, update its toDate field
p28212
aVCreate a new currency instance and persist it
p28213
aVThis process could easily be made generic for all implementations of your base class
p28214
as(dp28215
g23
V571407
p28216
stp28217
a((dp28218
g2
(lp28219
VThe best solution, IMO, is to avoid reconstructing a new instance of the entity from the form fields
p28220
aVInstead, take an existing, completely populated instance of the entity, change the values of the fields that are in the form, and then merge this entity
p28221
aVThe alternative is to mark the column as non updatable (with ), but this will make the column non updatable for all the use-cases, whic I don't think it's a good idea, generally: if some fields may not be changed by some users, but may be changed by others, or by an administrative data migration tool, then setting the column as non-updatable will be annoying
p28222
as(dp28223
g23
V571407
p28224
stp28225
a((dp28226
g2
(lp28227
VIf you're able to do both, just combine the two queries:
p28228
aVSelect all clients of a user:
p28229
aVSelect all clients with a given birthDate:
p28230
aVCombination of both:
p28231
as(dp28232
g23
V571407
p28233
stp28234
a((dp28235
g2
(lp28236
VI really wonder how it can be helpful to have a constant column value in a database, but anyway
p28237
aVWhat I would do is to only map the non-constant column as ID, and make the constant column a regular column, with a constant value:
p28238
aVIf other entities reference this same Strange entity using its full composite key, then simply do the following:
p28239
aVYou can reference other entities using something other than their PK
p28240
aVAnother unique column is also OK
p28241
aVAnd since strange_id is unique, it fits the bill
p28242
aVThe  attribute must be used to specify the referenced column name, in that case
p28243
as(dp28244
g23
V571407
p28245
stp28246
a((dp28247
g2
(lp28248
VComponent-based frameworks generally provide ready-to-use components, that come with their own JavaScript code
p28249
aVIf you don't like this, I would stick with action-based MVC frameworks, which generally don't care about what you use at client-side
p28250
aVMy preferences go to Stripes and Spring MVC, but YMMV
p28251
as(dp28252
g23
V571407
p28253
stp28254
a((dp28255
g2
(lp28256
VBecause your class extends , which means that when you create a new instance of your class, the  constructor is called, which exports this object as an RMI server object, which cause a non-daemon RMI thread to start
p28257
aVCall  to exit from the JVM
p28258
as(dp28259
g23
V571407
p28260
stp28261
a((dp28262
g2
(lp28263
VThe point of a  is precisely to know how to search for class files given a class name
p28264
aVThe javadoc says:
p28265
aVGiven the binary name of a class, a class loader should attempt to
p28266
aVlocate or generate data that constitutes a definition for the class
p28267
ag7142
aVtypical strategy is to transform the name into a file name and then
p28268
aVread a "class file" of that name from a file system
p28269
aVSo, you'll have to make your ClassLoader translate the class name to some location where the byte-code of the class will be found
p28270
aVdoes that by transforming the class name into a path, and looking up that path in the various jars and directories at which the URLs point
p28271
as(dp28272
g23
V571407
p28273
stp28274
a((dp28275
g2
(lp28276
VIf you want to be able to change the location of the file without rebuilding the application, then externalize the location, for example, by passing a system property to the weblogic server:
p28277
aVIf you want to be able to reload the content of the file at runtime, without restarting the server, then read the file each time you need to access one of its properties (slow), or use Apache commons configuration, for example, which can reload properties file when they change
p28278
as(dp28279
g23
V571407
p28280
stp28281
a((dp28282
g2
(lp28283
VYour list is declared as
p28284
aVThis is a raw type, so the Java compiler doesn't know what is inside the list
p28285
aVAll it knows is that it contain instances of , since ever class in Java extends Object
p28286
aVSo
p28287
aVdoesn't compile, since you're trying to assign an object of type  to a variable of type
p28288
aVA cast is needed to be able to do that
p28289
aVSo, there are two solutions
p28290
aVYou know that the list actually contains  instances, so you cast the list to :
p28291
aVOr you cast every element of the list to :
p28292
as(dp28293
g23
V571407
p28294
stp28295
a((dp28296
g2
(lp28297
VYou don't choose to start and commit a transaction based on technical or performance considerations
p28298
aVYou choose to do it based on what you consider should be done atomically, coherently, and in isolation to the other transactions
p28299
aVRead http://en
p28300
aVwikipedia
p28301
aVorg/wiki/ACID
p28302
aVIf you want to make sure that all the inserts either succeed or fail, but that you shouldn't be in a state where half succeed and the other half fail, then your transaction should encapsulate all the inserts: you start the transaction before the first one, and commit it after the last one
p28303
aVIf, on the contrary, you want each insert to be done in its own transaction, and for example be able to catch the exception if one fails but coninue inserting the others, then each insert should be done in its own transaction, like you're doing
p28304
as(dp28305
g23
V571407
p28306
stp28307
a((dp28308
g2
(lp28309
VFirst of all, you don't need to cut the list in half if all you need to do is use recursion
p28310
aVThe sum of the elements of a list is the sum of its first element + the sum of all the elements of the rest of the list
p28311
aVSecond, your method is too complex
p28312
aVThe sum of the elements of the list is 0 if the list is empty, the unique element is it contains 1 element, and the sum of the results of the method applied to the two sublists if it contains more than 1
p28313
aVYou don't need any start argument
p28314
aVThis should get you started
p28315
aVEDIT: since Oscar Lopez gave you the answer, but I find it too complex, here's mine:
p28316
as(dp28317
g23
V571407
p28318
stp28319
a((dp28320
g2
(lp28321
VEither use  and return null from your action, or return an instance of ActionRedirect from your action
p28322
as(dp28323
g23
V571407
p28324
stp28325
a((dp28326
g2
(lp28327
VDo GMail, EBay, Twitter and Amazon count
p28328
aVI would characterize them as popular and high-load
p28329
as(dp28330
g23
V571407
p28331
stp28332
a((dp28333
g2
(lp28334
VExtract the entities, and potentially some common data access classes, in a jar, and use this jar in both applications
p28335
as(dp28336
g23
V571407
p28337
stp28338
a((dp28339
g2
(lp28340
VThe rule of thumb is: anyone must be able to start from scratch, with a brand new computer, install the various development tools (compiler, IDE, database, etc
p28341
aV, checkout the trunk, and build the latest version of the project
p28342
aVAll your sources go in the repository, except the sources that are automatically generated from other artefacts
p28343
as(dp28344
g23
V571407
p28345
stp28346
a((dp28347
g2
(lp28348
VThe EJB project must not be created inside the EAR project
p28349
aVEclipse doesn't have the notiopon of projects inside a project
p28350
aVYou create a new top-level EJB project (File - New - EJB - EJB Project), and in its settings, you declare it's part of the other EAR project
p28351
as(dp28352
g23
V571407
p28353
stp28354
a((dp28355
g2
(lp28356
VWhat you did is the only way
p28357
aVYou don't have to create a variable for the length of the array, though
p28358
aVAnd using public fields is, 99
p28359
aV99% of the times, a very bad idea:
p28360
as(dp28361
g23
V571407
p28362
stp28363
a((dp28364
g2
(lp28365
VAFAIK, svn commit is recursive by default
p28366
aVCommit from the root directory of the tree, and everything should be committed at once
p28367
as(dp28368
g23
V571407
p28369
stp28370
a((dp28371
g2
(lp28372
V never throws a , so there is no way this catch block catches this exception
p28373
aVWhen EJB A calls methodB from EJB B, it doesn't call the bean method directly
p28374
aVIt calls methodB on a proxy
p28375
aVThis proxy is responsible for handling the transaction management, the security, etc
p28376
aVand then call the actual methodB on your bean instance
p28377
aVSo the exception is not thrown from withing the methodB
p28378
aVIt's called from the proxy which wraps the EJB B, and which throws a TransactionTimeoutException when methodB of the wrapped bean instance returns, and has taken more than the configured timeout to execute
p28379
as(dp28380
g23
V571407
p28381
stp28382
a((dp28383
g2
(lp28384
VWhen you select , you're implicitely doing an inner join between both tables, whereas what you want is a left join
p28385
aVRewrite your query as is:
p28386
aVSide note: your code would be more readable if you didn't have all these redendancies in the properties names
p28387
aVNo need to call the property customerName
p28388
aVIt's a property of the Customer class, so  is sufficient
p28389
aVSame for , which would be easier to read as
p28390
as(dp28391
g23
V571407
p28392
stp28393
a((dp28394
g2
(lp28395
VWild guess, but if all the threads read and write to a single hard disk, it forces the disk to constantly change the location of the reads and writes
p28396
aVWhereas in the single-threaded approach, the thread can read the wole input file at once, and write the result at once
p28397
as(dp28398
g23
V571407
p28399
stp28400
a((dp28401
g2
(lp28402
VIf you made this replacement, you would still have only one thread using a given Iterator at once
p28403
aVThe warning means that two threads should not use the same Iterator instance
p28404
aVNot that two threads can't iterate concurrently
p28405
aVThe problem you would have is that since the removal operation can't be done in a single atomic operation of the ConcurrentMap, you could have a concurrent thread see the map in an intermediate state: one value has been removed but not the other one
p28406
aVI'm not sure this would be any faster, since you say that write performance is not an issue, but what you could do to avoid the copy of the map at each write, is to use a ReadWriteLock guarding a mutable ConcurrentMap
p28407
aVAll the reads would still be concurrent, but a write to the map would prevent all the other threads to access the map
p28408
aVAnd you wouldn't have to create a fresh copy each time it's modified
p28409
as(dp28410
g23
V571407
p28411
stp28412
a((dp28413
g2
(lp28414
VA Properties only contains values of type String
p28415
aVThere is no way a String can be cast to an int
p28416
aVI have the feeling that you're reinventing the wheel
p28417
aVYou could serialize your object in a binary form, using Java native serialization, or use an XML marshaller to serialize your bean as XML
p28418
aVOr if you want to read/write from/to a Properties, why not simply provide two methods, and avoid reflection:
p28419
as(dp28420
g23
V571407
p28421
stp28422
a((dp28423
g2
(lp28424
VThe code doesn't load the ImageIcon from the  folder
p28425
aVIt loads it from the runtime classpath
p28426
aVAnd for the images to be in the runtime classpath, the easiest way is indeed to place them in the  folder, so that your IDE automatically copies them to the target folder, along with the
p28427
aVclass files
p28428
aVIf you want, you may define another source directory (named , for example) in your project, and the IDE will also copy the files of this source directory to the target folder
p28429
aVThis allows separating Java files from resource files
p28430
as(dp28431
g23
V571407
p28432
stp28433
a((dp28434
g2
(lp28435
VYes, it's guaranteed
p28436
aVEverything is sequential
p28437
aVrollbacks the transaction, and when it returns, the transaction has been rollbacked
p28438
as(dp28439
g23
V571407
p28440
stp28441
a((dp28442
g2
(lp28443
VThis configuration option has nothing to do with the size of the first-level cache
p28444
aVAnd flushing the session doesn't remove anything from the cache
p28445
aVIt writes the pending changes (inserts, deletes, updates) to the database
p28446
aVThe cache is only cleared when clear() is explicitely called, or when the session is closed
p28447
aVIf you don't clear or clause the session (or evist specific entities), the cache will keep growing and growing
p28448
aVWhich is not a problem since it's typically very short-lived (the duration of a transaction)
p28449
aVJDBC batch updates allow sending multiple update queries in a single batch to the database
p28450
aVIt reduces the number of network calls
p28451
aVYou can view it as uploading an uncompressed zip containing 20 files instead of sending 20 files individually
p28452
aVThe confusion comes from the fact that the batch updates mentioned in the page linked in your question have nothing to do with JDBC batch updates
p28453
aVWhat Hibernate means with batch updates is "updates done by a batch job"
p28454
aVA batch job typically have much longer transactions that typical business use-cases, and updates hundreds, thousands or even more entities in a single transaction
p28455
aVThis is why Hibernate recommends regularly flushing and clearing the session in this case, to avoid running out of memory
p28456
as(dp28457
g23
V571407
p28458
stp28459
a((dp28460
g2
(lp28461
VThe servlet 3
p28462
aV0 spec says:
p28463
aVA string containing only the \u2019/\u2019 character indicates the "default"
p28464
aVservlet of the application
p28465
aVAnd it also says:
p28466
aVBy default all applications will have index
p28467
aVhtm(l) and index
p28468
aVjsp in
p28469
aVthe list of welcome-file-list
p28470
aVThe descriptor may to be used to
p28471
aVoverride these default settings
p28472
aVSo, I guess that the container considers that the implicit  welcome file is an exact match, which takes precedence over the default servlet mapped to
p28473
aVThe solution is to delete the index
p28474
aVhtml file or, probably, to define an explicit empty welcome file list in the descriptor
p28475
as(dp28476
g23
V571407
p28477
stp28478
a((dp28479
g2
(lp28480
VThe code you have expresses your intent clearly, is more readable than a regexp, and is also probably faster
p28481
aVAnyway, there is a very low probability that this part of your code causes any significant performance problem
p28482
aVSo I wouldn't worry about performance here, but about readability and maintainability
p28483
as(dp28484
g23
V571407
p28485
stp28486
a((dp28487
g2
(lp28488
VSee http://www
p28489
aVw3schools
p28490
aVcom/tags/att_input_accept
p28491
aVasp:
p28492
aVThe accept attribute is supported in all major browsers, except
p28493
aVInternet Explorer and Safari
p28494
aVDefinition and Usage
p28495
aVThe accept attribute specifies the types of files that the server
p28496
aVaccepts (that can be submitted through a file upload)
p28497
aVNote: The accept attribute can only be used with
p28498
aVTip: Do not use this attribute as a validation tool
p28499
aVFile uploads
p28500
aVshould be validated on the server
p28501
aVSyntax
p28502
aVTip: To specify more than one value, separate the values with a comma
p28503
aV(e
p28504
ag383
as(dp28505
g23
V571407
p28506
stp28507
a((dp28508
g2
(lp28509
Vbeing the name of the enclosing class, obviously
p28510
as(dp28511
g23
V571407
p28512
stp28513
a((dp28514
g2
(lp28515
VFrom the freely available online SVN book:
p28516
aVCommit a modification to the file foo
p28517
aVc (explicitly specified on the
p28518
aVcommand line) with the commit message in a file named msg:
p28519
aV$ svn commit -F msg foo
p28520
ag18654
as(dp28521
g23
V571407
p28522
stp28523
a((dp28524
g2
(lp28525
VThe other service is not really a business service in this case
p28526
aVIts only responsibility is to find the objects from the given ID, and apply the given action on these objects
p28527
aVFunctionally, this is equivalent to the following code:
p28528
aVMake  protected
p28529
aVCreate a unit test for this method
p28530
aVThis is the most important unit test: the one that tests the business logic
p28531
aVIf you really want to unit-test , what you could do is create a mock OtherService (and I mean implement this mock youself, here), that is built from a Set of objects, and applies its given action to all the objects in the set
p28532
aVCreate a partial mock of  where the  method is mocked, and which is injected with you mock OtherService
p28533
aVCall  on the partial mock, and verify that  has been called with every object of the set of objects
p28534
as(dp28535
g23
V571407
p28536
stp28537
a((dp28538
g2
(lp28539
VYou have to show the next screen when the "RUN" button is clicked
p28540
aVSo you should add an  to this button
p28541
aVThis listener will get the state of all the checkboxes, decide which next screen to show depending on these states, and show the appropriate next screen
p28542
aVThat's how event-based APIs work
p28543
aVYou don't wait for something to happen
p28544
aVYou register a listener to an event, and this listener is called when the event is triggered
p28545
as(dp28546
g23
V571407
p28547
stp28548
a((dp28549
g2
(lp28550
VIf the dialog is modal, then the code is blocked until the dialog is closed:
p28551
aVIf the dialog is not modal, then you need to make it call a callback method when the validation happens
p28552
aVThis is what MyFrame would contain
p28553
aVand in MyDialog:
p28554
as(dp28555
g23
V571407
p28556
stp28557
a((dp28558
g2
(lp28559
VThere is no point in creating a synchronized list if the list doesn't need to be synchronized
p28560
aVAnd if it needs to be synchronized, then performance doesn't matter, because it's preferrable to have a slower, correct program, than a faster, incorrect one
p28561
aVYou don't choose to use a synchronized list based on performance considerations
p28562
aVYou choose it based on correctness considerations in a concurrent environment
p28563
aVAnd if you have thread-safety problems, it's not by adding some synchronization randomly that it will work better
p28564
aVYou have to understand how this all works
p28565
aVRead (at least) the Java tutorial about concurrency
p28566
as(dp28567
g23
V571407
p28568
stp28569
a((dp28570
g2
(lp28571
VFrom the reference manual:
p28572
aVA "fetch" join allows associations or collections of values to be
p28573
aVinitialized along with their parent objects using a single select
p28574
aVThis is particularly useful in the case of a collection
p28575
aVIt
p28576
aVeffectively overrides the outer join and lazy declarations of the
p28577
aVmapping file for associations and collections
p28578
as(dp28579
g23
V571407
p28580
stp28581
a((dp28582
g2
(lp28583
VI wouldn't implement it like that
p28584
aVInstead, I would delete the timed out sessions when a session is asked to the pool (not necessary at each get, though)
p28585
aVThis is, BTW, what is done by Guava's CacheBuilder, which you could use, since it's simple, tested, and provide useful features
p28586
aVIf you really want to go this way, then you should probably use a ConcurrentMap or ConcurrentList, and use a single-thread ScheduledExecutorService, which would wake iterate through the list and remove older sessions every X minutes
p28587
as(dp28588
g23
V571407
p28589
stp28590
a((dp28591
g2
(lp28592
VThis question is asked every two days
p28593
aVThe owner side of this bidirectional association is the side where there is no  attribute
p28594
aVThis is the side that Hibernate uses to know if the relation exists or not
p28595
aVYou initialized one side of the association (), but this side is not the owner side
p28596
aVSo Hibernate doesn't know that the association axists and must be persisted
p28597
aVYou must initialize the other side: the owner side:
p28598
as(dp28599
g23
V571407
p28600
stp28601
a((dp28602
g2
(lp28603
VDon't look for examples
p28604
aVRead the reference manual
p28605
aVTo limit the depth of the tree of entities, declare the associations as lazy
p28606
aVThis is the default for toMany associations
p28607
aVTo save a new Photo, if this new Photo belongs to a User, you just have to get a reference to this user
p28608
aVNo need to load the photos of this user, or any other indirect dependency
p28609
aVAnd you don't even need to hit the database:
p28610
aVI don't see how it is so difficult
p28611
aVMaybe you should elaborate with an example of you code persisting a new Photo
p28612
as(dp28613
g23
V571407
p28614
stp28615
a((dp28616
g2
(lp28617
VWhy don't you simply make each panel know about his position:
p28618
aVand, in the mouse listener:
p28619
aVOr you could also use a  if you don't want to alter MyPanel, and store the position of each panel in this map:
p28620
as(dp28621
g23
V571407
p28622
stp28623
a((dp28624
g2
(lp28625
VFrom TortoiseSVN Help:
p28626
aVPut another way, you need to relocate when your working copy is
p28627
aVreferring to the same location in the same repository, but the
p28628
aVrepository itself has moved
p28629
aVIt does not apply if:
p28630
aVYou want to move to a different Subversion repository
p28631
aVIn that case
p28632
aVyou should perform a clean checkout from the new repository location
p28633
aVYou want to switch to a different branch or directory within the same
p28634
aVrepository
p28635
aVTo do that you should use TortoiseSVN \u2192 Switch
p28636
aVRead
p28637
aVSection 4
p28638
aV19
p28639
aV2, \u201cTo Checkout or to Switch
p28640
aV\u201d for more information
p28641
aVSo, what you must do is checkout a new fresh copy
p28642
aVEither Delete the whole content of your directory and then checkout, or Checkout to a new directory, and then rename the new one with the name of the old one
p28643
as(dp28644
g23
V571407
p28645
stp28646
a((dp28647
g2
(lp28648
VA  represents a date without time
p28649
aVYou must use a Timestamp if you care about the time part
p28650
aVThe javadoc of java
p28651
aVsql
p28652
aVDate says:
p28653
aVTo conform with the definition of SQL DATE, the millisecond values
p28654
aVwrapped by a java
p28655
aVsql
p28656
aVDate instance must be 'normalized' by setting
p28657
aVthe hours, minutes, seconds, and milliseconds to zero in the
p28658
aVparticular time zone with which the instance is associated
p28659
as(dp28660
g23
V571407
p28661
stp28662
a((dp28663
g2
(lp28664
VA forward happens entirely at server-side
p28665
aVThe browser doesn't know about it
p28666
aVWhen it sends a request to , and receives HTML from this response, he doesn't care if the HTML has been generated by a servlet, a JSP, both, or anything else
p28667
aVIt reads the HTML and considers it comes from the path
p28668
aVAll the relative path in the HTML are thus relative to
p28669
aVIt's far easier to use absolute paths to reference images, JS and CSS paths (and even other actions, most of the time)
p28670
aVJust make sure to use the  tag to generate the URL, so that the context path of the web-app is prepended:
p28671
as(dp28672
g23
V571407
p28673
stp28674
a((dp28675
g2
(lp28676
VUnfortunately, AFAIK, this is not possible with this query
p28677
aVIt's possible with the following ugly query, though:
p28678
aVFor such a simple, non-dynamically composed query, I would stick with your HQL query
p28679
aVIf you really need to use Criteria, then this is the corresponding code:
p28680
as(dp28681
g23
V571407
p28682
stp28683
a((dp28684
g2
(lp28685
VDrop the jars in
p28686
aVThose jars are automatically added by Eclipse to the project build path, and constitute (with the  directory and the container classpath) the classpath of the webapp
p28687
as(dp28688
g23
V571407
p28689
stp28690
a((dp28691
g2
(lp28692
VThe servlet 3
p28693
aV0 specification says:
p28694
aVThe root of this hierarchy serves as the document root for files that
p28695
aVare part of the application
p28696
aVFor example, for a Web application with
p28697
aVthe context path /catalog in a Web container, the index
p28698
aVhtml file at
p28699
aVthe base of the Web application hierarchy or in a JAR file inside
p28700
aVWEB-INF/lib that includes the index
p28701
aVhtml under META-INF/resources
p28702
aVdirectory can be served to satisfy a request from /catalog/index
p28703
aVhtml
p28704
aVIf an index
p28705
aVhtml is present both in the root context and in the
p28706
aVMETA-INF/resources directory of a JAR file in the WEB-INF/lib
p28707
aVdirectory of the application, then the file that is available in the
p28708
aVroot context MUST be used
p28709
aVSo you can place your images in your jar, under META-INF/resources, and they will be served as if they were directly in the war
p28710
aVPrevious versions of the spec don't provide this possibility, so you'll have to use a servlet or filter to implement it
p28711
aVSpring MVC and Struts2 provide this natively
p28712
aVI don't know about other frameworks
p28713
as(dp28714
g23
V571407
p28715
stp28716
a((dp28717
g2
(lp28718
VOf course it is:
p28719
aVSuch answers are very easily findable in the reference manual
p28720
as(dp28721
g23
V571407
p28722
stp28723
a((dp28724
g2
(lp28725
VSee http://docs
p28726
aVoracle
p28727
aVcom/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide
p28728
aVhtml#SupportClasses for examples, and for the names of the supported algorithm
p28729
aVIt seems that "SunX509" and "NewSunX509" are the algorithms supported by KeyManagerFactory
p28730
aVAnd the protocol is named TLS, not TSL
p28731
as(dp28732
g23
V571407
p28733
stp28734
a((dp28735
g2
(lp28736
VOne of the fields of the entities that are loaded is an , mapped as ordinal
p28737
aVThis means that the ordinal of the enum is stored in the database, and is used when loading the object to find the corresponding enm instance
p28738
aVAnd instead of one of the valid ordinals (from 0 to 4 if there are 5 values for that enum), the cell in the database contains the value 48 (which would require en enum with at least 49 instances)
p28739
aVIn short, the data in the database is invalid, or should not be mapped with an enum
p28740
as(dp28741
g23
V571407
p28742
stp28743
a((dp28744
g2
(lp28745
VDo it in two passes:
p28746
aViterate through the entries, and collect the keys to delete in a
p28747
aViterate over the set, and remove all the keys it contains from the map
p28748
aV(Or call )
p28749
as(dp28750
g23
V571407
p28751
stp28752
a((dp28753
g2
(lp28754
VThis code generates a  block defining the same  function for each photo found in the table (but with a different photo ID at each iteration)
p28755
aVIt's not very clear what you're trying to do
p28756
aVTo do a slideshow, you have to iterate over a list of picture IDs
p28757
aVYou can store this list of IDs
p28758
aVas a JavaScript array in the HTML code
p28759
aVThe servlet code would have to generate the JavaScript code defining an array of IDs
p28760
aVas an Iterator at server-side, in a session attribute
p28761
aVTo display the next photo, the displayphoto servlet would have to get the iterator from the session, get its next ID, and serve the bytes of the image having this ID
p28762
aVnowhere
p28763
aVEach time a new photo must be displayed, its index would be passed to the displayphoto servlet, and the servlet would generate a SQL query to get the photo at this index
p28764
aVOf course, the SQL query would have to use some sort order to always return the photos in the same order
p28765
aVIf your goal is to implement the first solution, it's really not difficult
p28766
aVHere is how an array of three IDs (id1, id2 and id3) is declared in JavaScript:
p28767
aVSo, all you have to do is to generate the above String frm a  containing ,  and
p28768
aVA simple loop will do:
p28769
as(dp28770
g23
V571407
p28771
stp28772
a((dp28773
g2
(lp28774
VYes, you have to execute a query to be able to paginate
p28775
aVThe snippet in the last example is fine, except paginating without using any order to sort the results of the query is not a good idea: there is no guarantee on the deterministic order of the results in you don't use any  clause, AFAIK
p28776
as(dp28777
g23
V571407
p28778
stp28779
a((dp28780
g2
(lp28781
VBecause you don't always know how to construct the object when you declare it
p28782
aVFor example:
p28783
as(dp28784
g23
V571407
p28785
stp28786
a((dp28787
g2
(lp28788
VAn XML document always has one root element, so marshalling several objects to a single file won't lead to valid XML
p28789
aVYou should have one root object with an Object1 element, and an Object2 element, and marshal this root object
p28790
aVOtherwise, the Marshaller API doc says:
p28791
aVSupported Properties
p28792
ag7651
aVjaxb
p28793
aVfragment - value must be a java
p28794
aVlang
p28795
aVBoolean
p28796
aVThis property determines whether or not document level events will be generated by the Marshaller
p28797
aVIf the property is not specified, the
p28798
aVdefault is false
p28799
aVThis property has different implications depending
p28800
aVon which marshal api you are using - when this property is set to
p28801
aVtrue:
p28802
ag7651
aVmarshal(Object,XMLStreamWriter) - the Marshaller will not generate XMLStreamConstants
p28803
aVSTART_DOCUMENT and
p28804
aVXMLStreamConstants
p28805
aVEND_DOCUMENT events
p28806
as(dp28807
g23
V571407
p28808
stp28809
a((dp28810
g2
(lp28811
VUse  instead of  for the Content-Disposition header
p28812
as(dp28813
g23
V571407
p28814
stp28815
a((dp28816
g2
(lp28817
V seems the most appropriate
p28818
aVIf you want a runtime exception and not a checked one,  is probably the most appropriate
p28819
as(dp28820
g23
V571407
p28821
stp28822
a((dp28823
g2
(lp28824
VThe first one allows creating the schema when you want to, by executing this code
p28825
aVThe second one configures Hibernate to do it each time the session factory is created
p28826
as(dp28827
g23
V571407
p28828
stp28829
a((dp28830
g2
(lp28831
VAFAIK, yes, it's the best way to have what you want
p28832
aVI really don't see how it's an ugly hack
p28833
aVThere is no point of providing two different classes if just one is sufficient
p28834
aVIf we followed your reasoning, we would have a MinTreeSet and a MaxTreeSet, a MinTreeMap and a MaxTreeMap, etc
p28835
aV, all doining exactly the same thing
p28836
aVIt's a classical use of the strategy pattern
p28837
aVJust use  to get a comparator that compares in the reverse order of the natural ordering
p28838
as(dp28839
g23
V571407
p28840
stp28841
a((dp28842
g2
(lp28843
VDeclaring a method static means that the method is a method of the class, and not a method of the instance of that class
p28844
aVSo, obviously,  has no sense in a static method: there is no instance of the class to which  could refer
p28845
aVWhat you want is this:
p28846
aVRead the tutorial about static members
p28847
as(dp28848
g23
V571407
p28849
stp28850
a((dp28851
g2
(lp28852
VJPA has been designed to replace EJB2 entity beans, and has started as a part of the EJB3 specification
p28853
aVSince it makes sense to also use JPA outside of an EJB container, it has now its own specification, but it's still related to EJB3, since a compliant EJB3 container has to provide a JPA implementation, which integrates into the transaction handling of the container
p28854
as(dp28855
g23
V571407
p28856
stp28857
a((dp28858
g2
(lp28859
VIf you want to develop for JDK1
p28860
aV5, then download JDK1
p28861
aV5, and use it to develop your application
p28862
aVNetBeans allows using another JDK than the one it comes with
p28863
aVYou're shooting yourself in the foot by targetting JDK1
p28864
aV5 and developing on JDK1
p28865
ag23604
as(dp28866
g23
V571407
p28867
stp28868
a((dp28869
g2
(lp28870
VYou closed the javac task before defining its classpath:
p28871
aVReplace it with
p28872
aVAnd there's no need to add the jars twice to the classpath
p28873
aVYou include them once using , and then a second time by listing the jars
p28874
as(dp28875
g23
V571407
p28876
stp28877
a((dp28878
g2
(lp28879
VIsn't  what you're looking for
p28880
as(dp28881
g23
V571407
p28882
stp28883
a((dp28884
g2
(lp28885
V is a constant
p28886
aVIt's used to indicate that you want the month field, using :
p28887
as(dp28888
g23
V571407
p28889
stp28890
a((dp28891
g2
(lp28892
VYes, it's possible
p28893
aVHibernate doesn't care if the table is an actual table or a view
p28894
aVJust make sure to never update or create instances of such an entity, or mark it as non updatable
p28895
as(dp28896
g23
V571407
p28897
stp28898
a((dp28899
g2
(lp28900
VThe javadoc says:
p28901
aVSegments are specialized versions of hash tables
p28902
aVThis subclasses
p28903
aVfrom ReentrantLock opportunistically, just to simplify some locking
p28904
aVand avoid separate construction
p28905
aVGiven that it's a non-public inner class, I guess they made a tradeoff between performance, ease-of-use, and good design
p28906
as(dp28907
g23
V571407
p28908
stp28909
a((dp28910
g2
(lp28911
VThat is probably because you treat a binary stream as if it contained characters encoded with your platform default encoding:
p28912
aVThis considers that the input stream contains lines of text, transforms the bytes to characters (decoding: can be lossy, because all sequences of bytes don't represent valid characters), and then transforms the characters to bytes
p28913
aVAnd it also forgets to write the newline separators that could be in the binary stream
p28914
aVLearn how to read and write binary data in the Java IO tutorial
p28915
aVSide note: your code is hard to read because it doesn't respect the Java naming conventions
p28916
as(dp28917
g23
V571407
p28918
stp28919
a((dp28920
g2
(lp28921
VMap a servlet or filter to , and make this servlet or filter redirect to the static page, using (if you want  a redirect), or forward to the JSP using the request dispatcher (if you want a forward)
p28922
aVA forward and a redirect are two very different things
p28923
aVDecide which one you want
p28924
as(dp28925
g23
V571407
p28926
stp28927
a((dp28928
g2
(lp28929
VUse a sub-report
p28930
aVEach row in the main report will contain a sub-report, which will itself have its own detail band
p28931
aVYou should find an example using a sub-report in the JasperReports distribution
p28932
as(dp28933
g23
V571407
p28934
stp28935
a((dp28936
g2
(lp28937
VProbably because it contains a space or another invisible character
p28938
aVTry printing it enclosed in delimiters, and/or use the  method to remove whitespace chars at the beginning and the end of the string
p28939
aVIf this still doesn't work, print the numeric value of every character of the string, and do the same with "true", to detect where they differ:
p28940
aVAnd calling toString() on a String doesn't make any sense, as said in the comments
p28941
aVThe String class overrides  to return itself
p28942
as(dp28943
g23
V571407
p28944
stp28945
a((dp28946
g2
(lp28947
VMy guess is that the directory where you want to write files is write-protected, or that you don't have the rights to write there
p28948
aVYou shouldn't write these files in this directory anyway, because it will be deleted if you undeploy or redeploy the webapp
p28949
aVConsider that Tomcat's directory is under Tomcat's responsibility
p28950
aVChoose a directory, outside of Tomcat, where you want to store your uploads, and configure your webapp with a parameter containing this path
p28951
aVUse this parameter in your code to get the path and write the uploaded files
p28952
as(dp28953
g23
V571407
p28954
stp28955
a((dp28956
g2
(lp28957
VGiven that your SimpleDateFormat is a public static field, I guess that multiple threads are using it concurrently
p28958
aVBut SimpleDateFormat is not thread-safe:
p28959
aVDate formats are not synchronized
p28960
aVIt is recommended to create
p28961
aVseparate format instances for each thread
p28962
aVIf multiple threads access
p28963
aVa format concurrently, it must be synchronized externally
p28964
aVSynchronize its uses, or store it in a ThreadLocal variable, or create a new instance each time
p28965
aVWhat you got might be caused by some race condition or other thread-related bug due to the concurrent use of the SimpleDateFormat
p28966
as(dp28967
g23
V571407
p28968
stp28969
a((dp28970
g2
(lp28971
VNo
p28972
aVCriteria quesries don't support subqueries in the select clause
p28973
aVHQL should be able to handle such a query, though
p28974
aVCriteria queries are more limited and harder to use and read than HQL queries
p28975
aVMy advice is to use them only when the query must be dynamically generated, or when multiple methods share a significant common portion of a complex query
p28976
as(dp28977
g23
V571407
p28978
stp28979
a((dp28980
g2
(lp28981
VThen the easiest way is to use an explicit lock () and call its  method
p28982
aVIf it returns true, then it means that no other thread has the lock, and the current thread acquired it
p28983
aVIf it returns false, it means that another thread holds the lock, and you should not call the method
p28984
aVRemember to always call  in a finally block, to make sure the lock is released even in case an exception is thrown
p28985
as(dp28986
g23
V571407
p28987
stp28988
a((dp28989
g2
(lp28990
VA DAO layer is useful to isolate the data acess code from the business logic code
p28991
aVThis is especially useful when you start unit-testing the business logic, because it allows mocking the DAOs
p28992
aVAll the applications don't simply have CRUD operations
p28993
aVInterfaces have the same testability advantages
p28994
aVRead what reasons are there to use interfaces (J2EE or Spring and JPA), where I explain the advantages of having interfaces
p28995
aVThe service layer is the most important layer
p28996
aVIt is the one used to demarcate transactions
p28997
aVYou could avoid using a DAO layer, especially if you have extremely simple crud-like data access
p28998
aVBut a service layer is crucial
p28999
aVYou don't want to have three inserts and one update each in their own transaction
p29000
aVSee DAO Design Pattern and Servlets for a question where I explain why a service layer is so important
p29001
as(dp29002
g23
V571407
p29003
stp29004
a((dp29005
g2
(lp29006
VNo, Java doesn't have such a feature
p29007
aVThis could be accomplished by static code analysis tools like FindBugs, based on an annotation on the method, but I don't think such a rule exists
p29008
aVYou could create one, though: FindBugs is free software
p29009
aVFindBugs does a similar check already for specific API calls like  (it throws a warning if the result of the method is ignored
p29010
aVSee http://findbugs
p29011
aVsourceforge
p29012
aVnet/bugDescriptions
p29013
aVhtml#RV_RETURN_VALUE_IGNORED_BAD_PRACTICE)
p29014
aVSo you could take this rule as an example
p29015
as(dp29016
g23
V571407
p29017
stp29018
a((dp29019
g2
(lp29020
VA DataSource allows getting a JDBC connection (from a pool of connections, most of the time)
p29021
aVIn a servlet environment, if you ask a connection to a DataSource twice, you'll get two different connections
p29022
aVSo passing the DataSource doesn't make sense: you want all the objects in the chain of calls to use the same connection, and commit at the end
p29023
aVAnd the connection must be closed by the method which got it from the DataSource, in a finally block, else the pool will leak connections, and you'll quickly run out of available connections
p29024
as(dp29025
g23
V571407
p29026
stp29027
a((dp29028
g2
(lp29029
VMap the servlet to
p29030
aVOr create a servlet mapped to  that forwards to , where  is what matched the wildcard
p29031
aVWhat kind of environment are you working in, where you can't change anything
p29032
as(dp29033
g23
V571407
p29034
stp29035
a((dp29036
g2
(lp29037
VThis means that you need to deploy your application as the root application
p29038
aVIt's easily done by naming your war file ROOT
p29039
aVWAR (or your exploded war directory ROOT), or by defining a context for your web app with an empty string as the  attribute
p29040
aVThen you don't want a redirect, but a forward
p29041
aVOr you simply want to map the JSP (which IS a servlet) to a given path
p29042
aVDefine a servlet and a servlet mapping in the web
p29043
aVxml file, as you would for a servlet class, but use  instead of
p29044
aVThis is done using the  element in the web
p29045
aVxml
p29046
as(dp29047
g23
V571407
p29048
stp29049
a((dp29050
g2
(lp29051
VIf the field is really static, you should pass  as an argument to
p29052
aVIf the field is not static, then you must pass the instance of  which you want to get the field value from:
p29053
as(dp29054
g23
V571407
p29055
stp29056
a((dp29057
g2
(lp29058
VTo notify  of an event, the  instance (really bad name for a Frame) must have a reference to
p29059
aVPass  as an argument of the SidePanel constructor, and callback  from the  method in SidePanel:
p29060
aVand in SidePanel:
p29061
aVThis tightly couples both classes though
p29062
aVA way to decouple them is to make the SidePanel object accept listeners for custom events, and to fire such an event when the button is clicked
p29063
aVThe mainFrame would construct the SidePanel instance, and add itself (or an inner anonymous class instance) as a listener to the sidePanel
p29064
aVSee this page for an example
p29065
as(dp29066
g23
V571407
p29067
stp29068
a((dp29069
g2
(lp29070
VIf you just copied the error message of the cause of the exception into Google, you would have found the problem
p29071
aV"Unsupported major
p29072
aVminor version 51
p29073
aV0" means that you compiled the classes with JDK7, but try to deploy and run it with a previous version of the JDK or JRE
p29074
aVStart your tomcat with JDK7, or change the JDK you're using to compile your classes
p29075
aVSide note: your class seems to be named Simple and to be in the default package
p29076
aVThis ie a bad practice that will cause all sorts of problems
p29077
aVAlways put your classes in a package
p29078
as(dp29079
g23
V571407
p29080
stp29081
a((dp29082
g2
(lp29083
VIt would help if you showed us the spring context
p29084
aVxml file
p29085
aVBut what is strange is that you're using a persistence
p29086
aVxml file, i,dicating that you want to use JPA, but your DAO doesn't use JPA: it uses the native Hibernate API
p29087
aVMy guess is that the session factory is not configured correctly, because you assume it will automatically read the persistence
p29088
aVxml file, which won't be the case if you don't configure Hibernate as a JPA entity manager
p29089
aVEDIT:
p29090
aVYou declare a session factory in the XML, but it scans classes in the package , which is not the package of your Customer entity
p29091
aVAnd you want to use JPA, so this session factory bean definition should not exist
p29092
aVYou want to use the JPA API, so you must inject an entity manager in your DAO instead of injecting a session factory
p29093
aVThis injection is possible thanks to your definitionof the bean
p29094
aVChange your DAO code to something like this:
p29095
aVRead http://static
p29096
aVspringsource
p29097
aVorg/spring/docs/3
p29098
ag10
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p29099
aVhtml#orm-jpa for more information
p29100
as(dp29101
g23
V571407
p29102
stp29103
a((dp29104
g2
(lp29105
VFirst of all, "it will crash" is a poor description of what happens
p29106
aVAny exception
p29107
aVWhat happens exactly
p29108
aVSecond, are you sure you need to synchronize the access to the API
p29109
aVIf it provides a Java API, there's a good chance that this API already is synchronized, and that your semaphore isn't needed
p29110
aVThird, if you acquire a semaphore, you should release it in a finally block
p29111
aVThis guarantees that it's released, whatever happens inside the try block:
p29112
aVFourth: I don't understand the point of the  loop
p29113
aVThe only time it loops is when there is an InterruptedException
p29114
aVAnd an InterruptedException is precisely used to signal a thread that it should stop executing ASAP
p29115
aVSo your method should throw this exception instead of swallowing it
p29116
aVFinally, you should learn Java naming conventions and stick to them
p29117
aVMethods start with a lower-case letter
p29118
aVProvided you really need to synchronize access, here is thus how I would rewrite the method:
p29119
aVIf you want to ensure that only one thread has access to the native library functions, use such a class:
p29120
as(dp29121
g23
V571407
p29122
stp29123
a((dp29124
g2
(lp29125
VA quick google search lead me to this page, which implements it by subclassing the text pane and overriding the  method:
p29126
as(dp29127
g23
V571407
p29128
stp29129
a((dp29130
g2
(lp29131
VThe WEB-INF folder is inaccessible from the outside of the webapp
p29132
aVSo, anything that must be downloaded by the browser must NOT be put in this folder
p29133
aVThe root of the webapp is the folder containing WEB-INF
p29134
aVPut anything in this folder or any subfolder, and it will be downloadable from the browser
p29135
aVSo, if your JSP and your image are in the same folder, and you invoke the JSP from the browser, the JSP can use a relative path for the image:
p29136
aVIf the JSP is at the root, and the image is inside an images folder (which is at the root), the URL is
p29137
aVIf you want to be able to refer to the absolute path of the image , regardless of the URL used to invoke your JSP, you'll have to use an abolute path
p29138
aVAn absolute path must start with a /, and contain the context path of the web app:
p29139
aVor, if you use the JSTL (which you should do):
p29140
as(dp29141
g23
V571407
p29142
stp29143
a((dp29144
g2
(lp29145
VThe last line is not strictly necessary
p29146
aVHibernate uses the owner side (the child side in this case) to know if it has to persist the association
p29147
aVHowever, it does not care if you initialized the other side, and won't do it for you
p29148
aVSo, if this method happens to return the parent to the GUI, for example, the GUI will get a parent without the new child in its list of children
p29149
aVSimilarly, it this code snippet is only a small part of a longer transaction, the rest of the code in the transaction won't see the new child in the children list, because you failed to maintain the coherence of the object graph
p29150
aVSo, unless this code is in a facade, and the parent is never used after this code snippet is executed, you should initialize both sides
p29151
aVIf you know what you're doing, and you know that the parent will be out of scope, not used and garbage-collected after this code snippet, initializing only the owning side is sufficient
p29152
aVBut remember that the session cache itself maintains a reference to the parent until the session is closed
p29153
as(dp29154
g23
V571407
p29155
stp29156
a((dp29157
g2
(lp29158
VRemove them, and re-add them, starting from the first one
p29159
as(dp29160
g23
V571407
p29161
stp29162
a((dp29163
g2
(lp29164
VBecause the concrete implementation used by the app is also an instance of , which extends
p29165
as(dp29166
g23
V571407
p29167
stp29168
a((dp29169
g2
(lp29170
VIf you're concerned about the load imposed to your database, you should probably avoid storing images in it
p29171
aVInstead, store the images on the disk, and store their path in the database
p29172
aVThis way, when you need to display three images in a single page, you execute a single query to get the paths of the three images, and you generate an HTML page containing the 3 paths
p29173
aVIf you have no other choice than storing the images as blobs in the database, and if you have load-tested your application, and showed that getting them from the database caused a significant performance problem, then consider using some application cache (like EHCache), to remove load from the database
p29174
aVYou could also get the three images at once from the database and store them in the session, but you would have to find a way to cleanup the session, else the memory of your app would climb very fast
p29175
as(dp29176
g23
V571407
p29177
stp29178
a((dp29179
g2
(lp29180
VYou declared two dates as Integer properties:
p29181
aVThese fields are probably stored in a column of type  in database, and the database driver doesn't know how to convert a date to an integer
p29182
as(dp29183
g23
V571407
p29184
stp29185
a((dp29186
g2
(lp29187
VThe available mechanism is a pre-commit hook
p29188
aVI think most distributions of SVN come with examples of such hook scripts
p29189
aVHere's the example hook that is created by by distribution when I create a new repo:
p29190
as(dp29191
g23
V571407
p29192
stp29193
a((dp29194
g2
(lp29195
VCase 1 is concise, expresses the intent clearly, and is equivalent to case 3
p29196
aVCase 2 is less efficient, and also less readable
p29197
aVCase 3 is nearly as efficient as case 1, but longer, and less readable
p29198
aVUsing case 3 is only better to use when you have to concatenate in a loop
p29199
aVOtherwise, the compiler compiles case 1 to case 3 (except it constructs the StringBuilder with ), which makes it even more efficient than your case 3)
p29200
as(dp29201
g23
V571407
p29202
stp29203
a((dp29204
g2
(lp29205
VYou must annotate ItemBody with
p29206
aVOtherwise, Hibernate treats it as a serializable object
p29207
as(dp29208
g23
V571407
p29209
stp29210
a((dp29211
g2
(lp29212
VOpen the Display view, type the code you want to execute in it, select it, right-click, and click "Execute", "Display" or "Inspect", depending on what you want to do
p29213
as(dp29214
g23
V571407
p29215
stp29216
a((dp29217
g2
(lp29218
VYou have to choose between field and getter
p29219
aVAnnotations on setters are not supported
p29220
aVAnd all the annotations should be on fields, or they should all be on getters: you can't mix both approaches (except if you use the  annotation)
p29221
aVRegarding which one is preferrale, the answer is: it depends
p29222
aVI prefer field access, but YMMV, and there are situations where property access is preferrable
p29223
aVSee Hibernate Annotations - Which is better, field or property access
p29224
as(dp29225
g23
V571407
p29226
stp29227
a((dp29228
g2
(lp29229
VYou have to use the second way
p29230
aVA prepared statement isn't just a "query-replace placeholders by the String I pass"
p29231
aVAll parameters must be typed values to insert into the syntax tree generated from the query
p29232
aVYou can't pass a portion of a query as a parameter
p29233
as(dp29234
g23
V571407
p29235
stp29236
a((dp29237
g2
(lp29238
VYou should care about the naming of your variables, because the  attribute is actually a , and should be named as a variable, with a lower-case d:
p29239
aVJust use the reverse tactic: prepend a pipe before every division except the first one, and use a flag to know if the first one has already been displayed:
p29240
aVAlso, Using  makes sure that special HTML characters (like , ) are properly escaped
p29241
as(dp29242
g23
V571407
p29243
stp29244
a((dp29245
g2
(lp29246
VOneToOne is an annotation describing the object model
p29247
aVIt says what the cardinality of the association is
p29248
aVis an indication to the "model-to-ddl" tool that there should be a unique cosntraint on this column
p29249
aVYou can use such a tool, but you're also free to create and maintain the database schema yourself
p29250
aVWhatever you choose to do, the JPA engine doesn't make a query each time the OneToOne association is modified to check that the cardinality is respected
p29251
aVAll it does is assuming that the code is correct, and the unique constraint in the database will make sure that the cardinality is respected
p29252
as(dp29253
g23
V571407
p29254
stp29255
a((dp29256
g2
(lp29257
VFirst of all, given your mapping, the JPA engine should not call the setters at all, because you chose field access by placing the annotations on the field
p29258
aVSecond, there is no  field in the code
p29259
aVThird, this field should not exist at all, since it can be computed from two other fields
p29260
aVJust let other classes call  to access its value
p29261
aVAnd rename this method
p29262
aVOh, and the fields should be private, not public
p29263
aVIf you really want to store the result for reuse, then compute it lazily, and reset it to null when one of the operands is modified:
p29264
as(dp29265
g23
V571407
p29266
stp29267
a((dp29268
g2
(lp29269
V is a standard JPA annotation, which is now preferred over the proprietary Hibernate annotation
p29270
aVIt means that the collection is not a collection of entities, but a collection of simple types (Strings, etc
p29271
aVor a collection of embedded elements (class annotated with )
p29272
aVIt also means that the elements are completely owned by the containing entities: they're modified when he entity is modified, deleted when the entity is deleted, etc
p29273
aVThey can't have their own lifecycle
p29274
as(dp29275
g23
V571407
p29276
stp29277
a((dp29278
g2
(lp29279
VBut I still stand by my position: the other applications sending this parameter are the ones that should be fixed
p29280
aVIf the parameter is , they should send
p29281
aVNot  or anything else
p29282
aVIf they're lazy (or stupid) enough to send  instead of , nothing guarantees that they won't send
p29283
aVWhat will you do then
p29284
as(dp29285
g23
V571407
p29286
stp29287
a((dp29288
g2
(lp29289
VThe base API in Java is the Servlet API
p29290
aVRead this tutorial
p29291
aVOn top of this API, there exist a myriad of frameworks (Stripes, Spring MVC, Struts2, JSF, Wicket, etc
p29292
aV, which all have their own philosophy
p29293
aVThere are two groups of frameworks, though: action-based ones (Stripes, Spring MVC, Struts2,
p29294
aVand component-based ones (JSP, Wicket,
p29295
aVThe action-based ones usually use JSPs for their view technology (to generate the markup), but also support others
p29296
aVWhat you'll learn if you learn JSP will be useful in a variety of frameworks, so I would learn it as well
p29297
aVRead this tutorial
p29298
as(dp29299
g23
V571407
p29300
stp29301
a((dp29302
g2
(lp29303
V returns the default line separator of your operating system
p29304
aVIt has nothing to do with what the line separator used by a given file is
p29305
aVTo find it, open the file as a character stream, and iterate over the characters until you find  or
p29306
aVIf you find  first, the you have a unix file
p29307
aVIf you find  followed by , you have a windows file
p29308
aVIf you find  not followed by , you have an old Mac file
p29309
aVThis of course assumes that the file is a text file in the first place, that a single kind of EOL is used in the file, and that you know the encoding of the file
p29310
aVIf you don't know the encoding, you might use the same algorithm and use a byte stream instead of a character stream
p29311
aVNote that this is irrelevant, most of the time, since Java has APIs that read a file line by line, and handle all combinations of EOLs just fine
p29312
as(dp29313
g23
V571407
p29314
stp29315
a((dp29316
g2
(lp29317
VYou just have to know what you're doing
p29318
aVIf your application is a standalone application, system properties provide an easy to use way to pass named arguments, in any order, to the program, and I don't see anything intrinsically bad in using them
p29319
aVIf your app is a webapp that must be deployed in a app server shared by multiple webapps, then it might not be a good idea, especially if you aren't allowed to change how the server is started, or if you have to deploy multiple versions of the same application
p29320
as(dp29321
g23
V571407
p29322
stp29323
a((dp29324
g2
(lp29325
VSince there is no good answer yet, I'll post mine
p29326
aVFirst, you should really have a separate folder for your classes and your sources
p29327
aVI suggest using  for your sources, and  for your classes
p29328
aVSince the classes are stored in the classes folder, this is the one that should be in the classpath
p29329
aVThe folder tree of your sources should then match your package tree
p29330
aVThis means that the class mew
p29331
aVMouth must contain the line , be defined in the Mouth
p29332
aVjava file, in the  folder
p29333
aVTo compile your classes, put you in the  directory, and use the following command:
p29334
aVThe compiler will automatically generate the folder structure matching the package structure in the classes directory
p29335
aVIf you make structural modifications in your source tree, just remove everything in the classes folder, and recompile everything
p29336
aVTo run your classes, you must refer to their fully qualified name
p29337
aVAnd the folder containing your package tree (the  folder) must be in the classpath
p29338
aVOnce this is done, from everywhere, you can use
p29339
aVNote that, as you have discovered, the  and  packages are reserved
p29340
aVYou can't use them for your own classes
p29341
as(dp29342
g23
V571407
p29343
stp29344
a((dp29345
g2
(lp29346
VThe like operator can only be used on String values
p29347
aVIt doesn't make sense on a date
p29348
aVIf you have the date  (assuming  here), and you want all the rows which have their timestamp in this day, then you're searching for all the rows where the timestamp is  and
p29349
aVSo, add 1 day to your date (using a temporary Calendar object), and use the following code:
p29350
as(dp29351
g23
V571407
p29352
stp29353
a((dp29354
g2
(lp29355
VYou're doing many things wrong
p29356
aVFirst; the contractual agreement table is just a join table
p29357
aVIt doesn't have any other functional column, and is thus used to materialize the association between contract and provider
p29358
aVThis table should thus
p29359
aVhave no ID
p29360
aVhave a composite PK containing the two FKs
p29361
aVnot be mapped as an entity
p29362
aVYou should have a ManyToMany association between Contract and Provider
p29363
aVThe ManyToMany association will be mapped using the ContractualAgreement table
p29364
aVOther problems in your code:
p29365
aVyou mark everything as
p29366
aVIf nothing can be insertable or updatable, how would these columns be populated
p29367
aVa OneToMany bidirectional association should have the many side mapped with a JoinColumn
p29368
aVThe other side should just say: "this association is already mapped on the other side", using
p29369
aVAll this is well described in the Hibernate reference manual
p29370
aVRead it
p29371
as(dp29372
g23
V571407
p29373
stp29374
a((dp29375
g2
(lp29376
VHibernate (and JPA in general) persists collections using their interfaces
p29377
aVThe list must be declared as a List, and not as a LinkedList
p29378
aVAnd it won't be loaded with a LinkedList instance, because Hibernate uses its own List implementation to implement dirty-checking, lazy-loading, etc
p29379
aVIt's a good practice to program on interfaces rather than programming on concrete implementations in general
p29380
aVIn JPA entities, it's mandatory
p29381
as(dp29382
g23
V571407
p29383
stp29384
a((dp29385
g2
(lp29386
V and  are exactly the same condition
p29387
aVAnd your test will throw a NullPointerException if  is null
p29388
aVI don't understand exactly which test you want to make, but this one is wrong
p29389
aVThink about it once again, and implement a unit test to test all the cases:
p29390
aVnull string,
p29391
aVempty string,
p29392
aVnot empty string
p29393
as(dp29394
g23
V571407
p29395
stp29396
a((dp29397
g2
(lp29398
V means: in English, with the particularities of the English language from France
p29399
aVSince English isn't an official language in France, the JVM doesn't have any specific settings for the English locale in France, so it falls back to : English
p29400
aVAnd since there isn't anything different regarding dates between  and , the format is the same
p29401
aVHere's some test, and what it displays:
p29402
aVDisplay:
p29403
as(dp29404
g23
V571407
p29405
stp29406
a((dp29407
g2
(lp29408
VQuote from the documentation:
p29409
aVBy default all model attributes are considered to be exposed as URI
p29410
aVtemplate variables in the redirect URL
p29411
aVOf the remaining attributes
p29412
aVthose that are primitive types or collections/arrays of primitive
p29413
aVtypes are automatically appended as query parameters
p29414
aVThis means that kungfoo is an attribute of your model in the first method, and that it's thus automatically added as a request param to the redirect URL
p29415
aVThe rest of the paragraph explains how to proceed if you don't want all the attributes in the redirect URL (although I have the feeling that the default is exactly what you should use, in this case, since you want the second request to get back the kungfoo value):
p29416
aVIn annotated controllers however the model may contain additional
p29417
aVattributes originally added for rendering purposes (e
p29418
ag383
aVdrop-down
p29419
aVfield values)
p29420
aVTo gain precise control over the attributes used in a
p29421
aVredirect scenario, an @RequestMapping method can declare an argument
p29422
aVof type RedirectAttributes and use it to add attributes for use in
p29423
aVRedirectView
p29424
aVIf the controller method does redirect, the content of
p29425
aVRedirectAttributes is used
p29426
aVOtherwise the content of the default Model
p29427
aVis used
p29428
aVIf you want to stay with this solution of storing the value in the session, you should use a flash attribute, so it's removed from the session as soon as the second request is received
p29429
aVThe rest of the paragraph explains how to use them
p29430
as(dp29431
g23
V571407
p29432
stp29433
a((dp29434
g2
(lp29435
VThis constraint doesn't make much sense, and you have a stronger constraint by default anyway:
p29436
aVIf  is unique, then of course, the tuple  is also unique
p29437
aVMoreover, since the PK of the table is , the constraint is already applied by the PK constraint
p29438
as(dp29439
g23
V571407
p29440
stp29441
a((dp29442
g2
(lp29443
VAFAIK, no
p29444
aVBut if the goal is to only execute something if the selection comes from the user, you may set a flag before selecting an index in the code to signal that the selection doesn't come from the user, or remove the listener and add it afterwards:
p29445
as(dp29446
g23
V571407
p29447
stp29448
a((dp29449
g2
(lp29450
VYour  method never commits and close the connection
p29451
aVChange it to
p29452
as(dp29453
g23
V571407
p29454
stp29455
a((dp29456
g2
(lp29457
VQuote from the reference manual:
p29458
aVThe pseudo-syntax for UPDATE and DELETE statements is: ( UPDATE |
p29459
aVDELETE ) FROM
p29460
aVEntityName (WHERE where_conditions)
p29461
aVSome points to note:
p29462
ag7651
aVNo joins, either implicit or explicit, can be specified in a bulk HQL query
p29463
aVSub-queries can be used in the where-clause, where the
p29464
aVsubqueries themselves may contain joins
p29465
aVYou could just use a subquery, or simply get the entities in the session and use  to delete them
p29466
aVHere's a subquery that would probably work:
p29467
as(dp29468
g23
V571407
p29469
stp29470
a((dp29471
g2
(lp29472
VWhat you did is a busy loop: you're running a loop which only stops when a variable changes
p29473
aVThis is a bad technique because it makes the CPU very busy, instead of simple making the thread wait until the flag is changed
p29474
aVI would use two semaphores: one for , and one for
p29475
aVmust acquire the  before adding, and releases a permit to the  when it's done, and vice-versa
p29476
as(dp29477
g23
V571407
p29478
stp29479
a((dp29480
g2
(lp29481
VA Hibernate session is not thread-safe, and so each thread must have its own session
p29482
aVEach session uses a JDBC connection, so both sessions will each get a different JDBC connection from the pool
p29483
aVAnd of course, Oracle allows concurrent access to the database using two connections, else every app out there would have serious performance problems
p29484
as(dp29485
g23
V571407
p29486
stp29487
a((dp29488
g2
(lp29489
VUse  or
p29490
as(dp29491
g23
V571407
p29492
stp29493
a((dp29494
g2
(lp29495
VDefine a context with the appropriate  attribute
p29496
as(dp29497
g23
V571407
p29498
stp29499
a((dp29500
g2
(lp29501
VThe link point to an interface
p29502
aVYou can't get anything from an interface that you implement
p29503
aVIf, in fact, you extend its unique implementation, you have access to the entity manager thanks to the  method
p29504
aVYou can do nearly everything you would do with a Hibernate session using an EntityManager
p29505
aVIt's the equivalent in the standard JPA API
p29506
aVIf you really need to access the underlying Hibernate session, call
p29507
as(dp29508
g23
V571407
p29509
stp29510
a((dp29511
g2
(lp29512
VIf that's request parameters that you want to access (and not request attributes like the title says), then the syntax is
p29513
aVIf it's request attributes, then it's
p29514
aVSee http://java
p29515
aVsun
p29516
aVcom/products/jsp/syntax/2
p29517
aV0/syntaxref207
p29518
aVhtml#1010522 for a quick reference
p29519
as(dp29520
g23
V571407
p29521
stp29522
a((dp29523
g2
(lp29524
VI don't think it's a good idea
p29525
aVYou're trying to make "as if" everything was in a single database, whereas it's not the case
p29526
aVAnd you make "as if" there was a real  association between an exam and a patient, although it's not a real association
p29527
aVAlthough you are conscious of this fact, other or future developers won't necessarily be, and will wonder why it's not possible to make a query such as
p29528
aVor
p29529
aVIn short, your pseudo-association only fulfills a very small part of the contract a regular association offers, and this will, IMO, cause more confusion than comfort
p29530
aVNothing stops you from having a utility method like
p29531
aVthat does the same thing, but makes it clear that there is no real asociation between both entities
p29532
as(dp29533
g23
V571407
p29534
stp29535
a((dp29536
g2
(lp29537
VIt would really be a decorator if the decorator also implemented the PowerSwitch interface
p29538
aVI would characterize this as object aggregation
p29539
as(dp29540
g23
V571407
p29541
stp29542
a((dp29543
g2
(lp29544
VYes, it does
p29545
aVThe javadoc says:
p29546
aVCloses this input stream and releases any system resources associated
p29547
aVwith the stream
p29548
aVAnd the wrapped stream is definitely such a system resource
p29549
aVMoreover, GZIPInputStream is a FilterInputStream, and the FilterInputStream javadoc says:
p29550
aVCloses this input stream and releases any system resources associated
p29551
aVwith the stream
p29552
aVThis method simply performs in
p29553
aVclose()
p29554
as(dp29555
g23
V571407
p29556
stp29557
a((dp29558
g2
(lp29559
VThe javadoc for the 3
p29560
aV1 version of the library says:
p29561
aVNote that Unicode characters greater than 0x7f are as of 3
p29562
aV0, no
p29563
aVlonger escaped
p29564
aVIf you still wish this functionality, you can achieve
p29565
aVit via the following: StringEscapeUtils
p29566
aVESCAPE_XML
p29567
aVwith(
p29568
aVNumericEntityEscaper
p29569
aVbetween(0x7f, Integer
p29570
aVMAX_VALUE) );
p29571
aVSo you probably use an older version of the library
p29572
aVUpdate your dependencies (or reimplement the escape yourself: it's not rocket science)
p29573
as(dp29574
g23
V571407
p29575
stp29576
a((dp29577
g2
(lp29578
VCaching the length isn't useful
p29579
aVYou're accessing a field directly
p29580
aVAnd even is it was a method, the JIT would inline and optimize it
p29581
aVIf something had to be optimized,  would contain the optimization
p29582
aVBut the real answer is that it doesn't matter at all
p29583
aVYou're not going to obtain a significant gain in performance by choosing the most appropriate way of copying an array of 10 elements or less
p29584
aVIf you have a performance problem, then search where it comes from by measuring, and then optimize what must be optimized
p29585
aVFor the rest, use what is the most readable and maintainable
p29586
aVWhat you're doing is premature optimization
p29587
aVAnd it's the root of all evil (says D
p29588
aVKnuth)
p29589
as(dp29590
g23
V571407
p29591
stp29592
a((dp29593
g2
(lp29594
VWhat you describe is a ClassLoader
p29595
aVTo be able to load class A in a JVM that doesn't have A in its classpath, you need to use a ClassLoader to load the class (and its dependencies)
p29596
aVThe ObjectInputSTream would then have to delegate to the custom class loader to resolve its classes
p29597
aVSee the last post in https://forums
p29598
aVoracle
p29599
aVcom/forums/thread
p29600
aVjspa
p29601
aVthreadID=1149865 for an example that does that
p29602
aVSpring also has such an ObjectInputStream
p29603
as(dp29604
g23
V571407
p29605
stp29606
a((dp29607
g2
(lp29608
VIt must be named , and be in the classpath, in the default package
p29609
aVAnd it must of course contain such a line:
p29610
aVYou may customize it for  by using a file named , in the same location
p29611
as(dp29612
g23
V571407
p29613
stp29614
a((dp29615
g2
(lp29616
V is what you're looking for
p29617
aVIts optional attribute is used to tell if its a 1-0
p29618
aV1 or a 1-1
p29619
aVBy default,  is true, so it means that it's a 1-0
p29620
ag10
as(dp29621
g23
V571407
p29622
stp29623
a((dp29624
g2
(lp29625
V means: evaluate the Java expression , and write its result to the HTTP response writer
p29626
aVSo obviously, you're writing  directly to the response
p29627
aVA JSP tag must be in the static source code of the JSP to be evaluated
p29628
aVNote that JSTL is a standard library of tags
p29629
aVis a custom JSP tag
p29630
aVIt's not a JSTL tag
p29631
as(dp29632
g23
V571407
p29633
stp29634
a((dp29635
g2
(lp29636
VYou'll have to create a custom subclass of , and override the  method to generate the SQL  clause you want
p29637
aVAnd then use
p29638
as(dp29639
g23
V571407
p29640
stp29641
a((dp29642
g2
(lp29643
VSo, you have two tablew A and B, and a join table between A and B
p29644
aVYou thus probably have a ManyToMany association between A and B
p29645
aVYou should thus not have an ID in this table, and you should not map it as an entity
p29646
aVUse a ManyToMany association, as explained in the reference manual
p29647
as(dp29648
g23
V571407
p29649
stp29650
a((dp29651
g2
(lp29652
VYou can't compare Strings with , because it compares object references, and not the content of the strings
p29653
aVUse
p29654
aVOr better, don't transform your char into a String, and just use
p29655
as(dp29656
g23
V571407
p29657
stp29658
a((dp29659
g2
(lp29660
VYes
p29661
aVUse a well-known, easily parsable format like XML or JSON
p29662
aVThere are plenty of parsers for these two formats, in any language
p29663
aVAnd the rules to escape special characters are standard and well-defined
p29664
as(dp29665
g23
V571407
p29666
stp29667
a((dp29668
g2
(lp29669
VHere's what I came up with
p29670
aVNot sure it's the most efficient or the only way, but it seems to at least work:
p29671
as(dp29672
g23
V571407
p29673
stp29674
a((dp29675
g2
(lp29676
VYou could use an abstract BaseEntity class, mapped with @MappedSuperclass
p29677
aVBut you still would have to override the mapping of the ID field to the appropriate column in every subclass
p29678
aVJust because two classes have the same property doesn't necessarily mean that they should extend a common class
p29679
aVYour code will probably never reference any object with the type BaseEntity
p29680
aVUnless you have additional common methods, I would advise not to use a superclass in this case
p29681
aVIt will just be simpler
p29682
aVAnd entities are POJOs
p29683
aVUsing an interface for every entity, in my experience, just adds unnecessary complexity
p29684
as(dp29685
g23
V571407
p29686
stp29687
a((dp29688
g2
(lp29689
VAFAIK, there's no way to do that without bypassing the session completely, since it would mean that a Java object changes its concrete type, which is impossible
p29690
aVAnd even then, if a concurrent transaction updates the same entity at the same time, you'd better have optimistic concurrency
p29691
aVAnd if another transaction refreshes the entity or lazy loads it, and the type has changed, you will have problems
p29692
aVIn short, if you need to do this, it probably means that you shouldn't have inheritance in the first place
p29693
aVConsider mapping the table as a single entity, with a type column, and optional fields
p29694
as(dp29695
g23
V571407
p29696
stp29697
a((dp29698
g2
(lp29699
VI they are constant Strings, then definitely make them constant by declaring them static and final
p29700
aVAnd declare these constants where they logically belong, i
p29701
ag468
aVin the class that depends on this constant for its logic
p29702
aVI don't see any downside, on the contrary
p29703
as(dp29704
g23
V571407
p29705
stp29706
a((dp29707
g2
(lp29708
VYou must have compiled with a newer version of the JDK/JRE than the one you're running the jar with
p29709
aVCheck the version of the JDK you're using to compile the project in Netbeans, and then check the JDK/JRE version in the console using
p29710
as(dp29711
g23
V571407
p29712
stp29713
a((dp29714
g2
(lp29715
VI don't see how it would be possible
p29716
aVJava does have pointers
p29717
aVThey're just called references in Java, but they're basically the same thing
p29718
aVEvery variable pointing to an object is a reference, or pointer, to the object
p29719
aVIf the variable is null, and you try to dereference it, you get a NullPointerException
p29720
as(dp29721
g23
V571407
p29722
stp29723
a((dp29724
g2
(lp29725
VYes:
p29726
as(dp29727
g23
V571407
p29728
stp29729
a((dp29730
g2
(lp29731
VThis is not supported in pure JDBC
p29732
aVYou have to generate a query so that the  clause contains one placeholder for each element of the array
p29733
aVSpring's JDBC helper classes support named parameters and what you want to do
p29734
as(dp29735
g23
V571407
p29736
stp29737
a((dp29738
g2
(lp29739
VThe Hibernate reference manual has an exemple showing how to define the table name used to hold the elements of the collection
p29740
aVAnd it happens to use a User entity to do so, and to define the column as  rather than user
p29741
aVThis mapping should be OK, for your case:
p29742
as(dp29743
g23
V571407
p29744
stp29745
a((dp29746
g2
(lp29747
VThis is an inner join, but it's just not using the inner join syntax
p29748
aVIf you want it with an inner join syntax, use an inner join, as explained in the Hibernate reference manual:
p29749
aVI'm surprise that both queries don't execute in the same time
p29750
aVThey're equivalent, and should use the same indices
p29751
as(dp29752
g23
V571407
p29753
stp29754
a((dp29755
g2
(lp29756
VWith the concat task, using a filelist to preserve order
p29757
as(dp29758
g23
V571407
p29759
stp29760
a((dp29761
g2
(lp29762
V is the method that writes changes to the database
p29763
aVWithout flushing, nothing is written
p29764
aVSo obviously, if you set flush mode to manual and never call flush, nothing will be written to the database
p29765
as(dp29766
g23
V571407
p29767
stp29768
a((dp29769
g2
(lp29770
VThe mapping doesn't care about the query string
p29771
aVIt only cares about the path of the URL
p29772
aVA request to  will be mapped to  since  is mapped to
p29773
as(dp29774
g23
V571407
p29775
stp29776
a((dp29777
g2
(lp29778
VThis is the problem when generating the code: you don't understand the code that is generated, because you don't read the javadoc and the reference manual
p29779
aVThe key here is the DataSource
p29780
aVThis is the class which creates JDBC connections
p29781
aVYou configured it, in the app-context
p29782
aVxml file to be a datasource for an embedded database of type H2
p29783
aVYou want a real pooled datasource, creating connections to the MySQL database
p29784
aVOf course, the dialect and the database type of the JPA vendor adapter must also be changed to MySQL
p29785
aVSee http://static
p29786
aVspringsource
p29787
aVorg/spring/docs/3
p29788
ag10
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p29789
aVhtml#jdbc-datasource for how to configure a DataSource in Spring
p29790
as(dp29791
g23
V571407
p29792
stp29793
a((dp29794
g2
(lp29795
VIf the message is predefined and read-only, I would simply hard-code it (as a constant) into a PHP source file
p29796
aVIf it does change, let the database handle the concurrency issues
p29797
aVReading a row by primary key is very fast, especially if there are only 10 rows in the table
p29798
aVThat's probably not where your app will have a performance issue
p29799
as(dp29800
g23
V571407
p29801
stp29802
a((dp29803
g2
(lp29804
VThis question is asked every two days
p29805
aVIf you execute code in the event dispatch thread, you block this threa, and thus prevents it from executing all its repaint actions necessary for the text to appear in the text field
p29806
aVLong-running, blocking tasks should be run in a background thread, and this thread must no access the Swing components
p29807
aVUse
p29808
aVIts javadoc explains everything
p29809
aVIt also has a link to the relevant section of the Swing tutorial, that you should read
p29810
as(dp29811
g23
V571407
p29812
stp29813
a((dp29814
g2
(lp29815
VThe reference manual says:
p29816
aVVersion properties, identifiers and associations are ignored
p29817
aVBut it also says:
p29818
aVYou can even use examples to place criteria upon associated objects
p29819
as(dp29820
g23
V571407
p29821
stp29822
a((dp29823
g2
(lp29824
VCreate a  project containing the shared class, package it as a jar (MyLibrary
p29825
aVjar), and add this jar as a library of the Java and Android projects
p29826
as(dp29827
g23
V571407
p29828
stp29829
a((dp29830
g2
(lp29831
VDon't use the absolute layout
p29832
aVLayout managers are used precisely to avoid the kind of problems that you're facing
p29833
as(dp29834
g23
V571407
p29835
stp29836
a((dp29837
g2
(lp29838
VI don't see how you came from "I need to have the transaction committed before calling the external service" to "I decided using listeners"
p29839
aVWhy don't you simply have the following code:
p29840
aVor
p29841
aVwhere  uses the  propagation type
p29842
as(dp29843
g23
V571407
p29844
stp29845
a((dp29846
g2
(lp29847
VThe point of the  tag (and all the other form tags) is to populate the text field with the value the corresponding property has in the form bean
p29848
aVMake your action set the form bean's name property to what you want, and simply use
p29849
aVScriptlets should be avoided anyway in a well-designed MVC app
p29850
aVIy you had to get some value from an object, use the JSP EL:
p29851
as(dp29852
g23
V571407
p29853
stp29854
a((dp29855
g2
(lp29856
VIt's passed by the container to the servlet in order for the servlet to be able to store it, and call any of its methods
p29857
aVThe purpose of  is to make sure that, although the method is overridden, the base implementation is nevertheless called
p29858
aVSee the javadoc of the method:
p29859
aVCalled by the servlet container to indicate to a servlet that the servlet is being placed into service
p29860
aVSee Servlet#init
p29861
aVThis implementation stores the ServletConfig object it receives from the servlet container for later use
p29862
aVWhen overriding this form of
p29863
aVthe method, call super
p29864
aVinit(config)
p29865
aVSpecified by:
p29866
aVinit in interface Servlet
p29867
aVParameters:
p29868
aVconfig - the ServletConfig object that contains configutation information for this servlet
p29869
aVAn init parameter is a parameter that may be pased to the servlet thanks to the deployment descriptor (web
p29870
aVxml file) of the web app:
p29871
as(dp29872
g23
V571407
p29873
stp29874
a((dp29875
g2
(lp29876
VMy guess is that
p29877
aVYou're inserting a B in the database using a HTTP GET (which is wrong: GET is supposed to be idempotent
p29878
aVYou should use POST)
p29879
aVYou're assigning the ID of B explicitely, and since you're refreshing the page, you're inserting the same B, with the same ID, a second time
p29880
aVUse the post-redirect-get pattern
p29881
aV(and include the stack trace of the exception, the code causing this exception and other relevant code, if my guesses are wrong and you need more help)
p29882
as(dp29883
g23
V571407
p29884
stp29885
a((dp29886
g2
(lp29887
VI'm no Struts2 expert, and the STruts2 documentation is horrible
p29888
aVBut a HTML label is just that: a label
p29889
aVIt has only one "value": the text of the label:
p29890
aVSo, either user the  attribute, or use the tag body
p29891
aVI wouldn't expect a particular order if you use both to set a single value
p29892
aVI would just do it like this:
p29893
as(dp29894
g23
V571407
p29895
stp29896
a((dp29897
g2
(lp29898
VSpring is plain Java code
p29899
aVIt's no black magic
p29900
aVUsing a  is a good practice because it allows using a name that is local to the web app, rather than using a global name, shared by all the webapps in the container
p29901
aVSuppose that you want to deploy two different versions of the same app in the same container, and that both use the same global JNDI name
p29902
aVThey're now forced to use the same database, which is wrong
p29903
aVWhereas if you use a local name, declared in the web
p29904
aVxml file, you can associate each version with it own global name, and thus have both versions use two different databases
p29905
aVThe same goes if you deploy two completely different applications, and both happen to use the same  global name
p29906
as(dp29907
g23
V571407
p29908
stp29909
a((dp29910
g2
(lp29911
VThe documentation says:
p29912
aVReturns the elements of an enum class or null if the Class object does
p29913
aVnot represent an enum type; the result is uncloned, cached, and shared
p29914
aVby all callers
p29915
aVSo, unless the point was to provide a shared array, so that anyone could break everything by setting one of its elements to null, or sorting it, or whatever (which could have been done by caching the result of the  method), my guess is also that this line is there due to the incompetence of the previous developer
p29916
aVI would write a unit test, then replace it with a call to  and check that the unit test still passes
p29917
as(dp29918
g23
V571407
p29919
stp29920
a((dp29921
g2
(lp29922
VCheck if the elements exist in the database using a query, and insert it only if it doesn't exist
p29923
aVNote that this should be enforced by a database constraing, because you might have a race condition if two transactions check and insert the same element concurrently
p29924
as(dp29925
g23
V571407
p29926
stp29927
a((dp29928
g2
(lp29929
VMap it as it really is in the database, and change the code of the  method:
p29930
as(dp29931
g23
V571407
p29932
stp29933
a((dp29934
g2
(lp29935
VThe simple answer is: you have to pass a  argument to the method
p29936
as(dp29937
g23
V571407
p29938
stp29939
a((dp29940
g2
(lp29941
VFirst, you catch the exception, so there is no way the Spring interceptor can see it and rollback the transaction
p29942
aVAnd then, even if you didn't catch it, you've configured the method with
p29943
aVThis means that you don't want a rollback if this exception is thrown
p29944
aVUse  instead
p29945
as(dp29946
g23
V571407
p29947
stp29948
a((dp29949
g2
(lp29950
VIt's a stupid rule, IMHO
p29951
aVIts description is here
p29952
aVIllegalToken
p29953
aVChecks for illegal tokens
p29954
aVRational: Certain language features often lead to hard to maintain
p29955
aVcode or are non-obvious to novice developers
p29956
aVOther features may be
p29957
aVdiscouraged in certain frameworks, such as not having native methods
p29958
aVin EJB components
p29959
aVBy default, it forbids postfix increments, postfix decrements, and switches
p29960
aVYou can safely disable the rule, or configure it differently
p29961
aVMy opinion is that your rule is a standard Java idiom, and that replacing i++ with ++i will have no other effect that making newbies ask themselves why the standard idiom isn't used
p29962
as(dp29963
g23
V571407
p29964
stp29965
a((dp29966
g2
(lp29967
Vreturns the first non null expression among its arguments
p29968
as(dp29969
g23
V571407
p29970
stp29971
a((dp29972
g2
(lp29973
VNo
p29974
aVis a static method, and is thus not polymorphic
p29975
aVYou may hide it be defining another static  method in a subclass, though
p29976
as(dp29977
g23
V571407
p29978
stp29979
a((dp29980
g2
(lp29981
VHQL doesn't use table names
p29982
aVIt uses entity names
p29983
aVAnd entity names are (by default) class names
p29984
aVSo you can use
p29985
aVBut I would favor readability over type safety here, and use
p29986
aVYou should have automated tests for your queries anyway
p29987
as(dp29988
g23
V571407
p29989
stp29990
a((dp29991
g2
(lp29992
VIt's used when initializing the variable can't be done in a single line
p29993
aVFor example:
p29994
as(dp29995
g23
V571407
p29996
stp29997
a((dp29998
g2
(lp29999
VProbably because the first demo (RootLayeredPaneDemo) needs to have access to the layered pane of the frame, whereas the second one (LayeredPaneDemo) doesn't need it
p30000
aVThere's no reason to pass a reference to an object if this reference is not needed
p30001
as(dp30002
g23
V571407
p30003
stp30004
a((dp30005
g2
(lp30006
VAFAIK, the ID is only guaranteed to be assigned when the persistence context is flushed
p30007
aVIt might be assigned sooner, but it depends on the generation strategy
p30008
as(dp30009
g23
V571407
p30010
stp30011
a((dp30012
g2
(lp30013
V means that you explicitely assign the ID of the entity, which is not the case
p30014
aVThe problem with these auto-generated IDs in postgreSQL, AFAIK, is that it's not possible to get the last generated ID, and that Hibernate has no way to get the ID assigned to the entity after it has inserted it
p30015
aVYou should not use an autogenerated ID in PostgreSQL
p30016
aVInstead, let Hibernate use a sequence generator and assign the ID to the entity before inserting it:
p30017
as(dp30018
g23
V571407
p30019
stp30020
a((dp30021
g2
(lp30022
VThe column is of type mapped to a Time, and thus you must compare its value with a Time:
p30023
aVYou can also use a regular date:
p30024
as(dp30025
g23
V571407
p30026
stp30027
a((dp30028
g2
(lp30029
VCheckout  to your root folder (), then SVN-add all the files and folders you want to be in source control, and commit
p30030
as(dp30031
g23
V571407
p30032
stp30033
a((dp30034
g2
(lp30035
VIf I understand correctly, you're clicking on a link that loads a part of the page using AJAX, and Sitemesh decorates that page, which you don't want
p30036
aVIf so, then the answer is in the question
p30037
aVConfigure sitemesh so that it doesn't decorate this AJAX request (or all AJAX requests)
p30038
aVYou could for example make all the AJAX URLs use a common prefix (like ajax), and use the following rule:
p30039
aVOr you could extend the Sitemesh filter, detect if the request is an AJAX request using the HTTP_X_REQUESTED_WITH request header, and only filter if it's not an ajax request
p30040
as(dp30041
g23
V571407
p30042
stp30043
a((dp30044
g2
(lp30045
VI don't think the exception comes from the fact that you're using a transient entity as a parameter of your query (although this query is also wrong, see below)
p30046
aVThe exception comes from the fact that Hibernate flushes the session before executing the query, but you have attached a transient entity to an attached one in the session
p30047
aVIt thus tries to save the association, but since the object is transient and doesn't have any ID yet, this is not possible
p30048
aVNow your query:  won't magically query by name and value
p30049
aVIt will query by ID
p30050
aVAnd this is precisely what you don't want to do
p30051
aVThe query should thus be:
p30052
aVAnd you should bind both parameters
p30053
aVAnother way to do this is to use a query by example
p30054
aVSee http://docs
p30055
aVjboss
p30056
aVorg/hibernate/core/3
p30057
aV6/reference/en-US/html_single/#querycriteria-examples
p30058
as(dp30059
g23
V571407
p30060
stp30061
a((dp30062
g2
(lp30063
VThis is the standard way
p30064
aVBut nothing forces you to not store the bundle in a field:
p30065
aVYou may also encapsulate it into a Messages class that has the following method:
p30066
aVIt's all up to you
p30067
as(dp30068
g23
V571407
p30069
stp30070
a((dp30071
g2
(lp30072
VYou should not add an icon in your data model
p30073
aVYou should add data (a boolean indicator, a String, whatever), and use a renderer for this column that will display the appropriate icon based on the data of the column
p30074
aVSee http://docs
p30075
aVoracle
p30076
aVcom/javase/tutorial/uiswing/components/table
p30077
aVhtml#editrender for information and examples about cell renderers
p30078
aVAnd please, learn the Java naming conventions and stick to them
p30079
aVYour code is unreadable
p30080
aVSee http://www
p30081
aVoracle
p30082
aVcom/technetwork/java/codeconv-138413
p30083
aVhtml
p30084
as(dp30085
g23
V571407
p30086
stp30087
a((dp30088
g2
(lp30089
VDon't use : it's not reliable
p30090
aVAnd don't ignore the result of the  method: it tells you how many bytes were actually read
p30091
aVAnd if you want to read everything in memory, use a ByteArrayOutputStream rather than using a :
p30092
aVI think 1024 is a bit small as a buffer size
p30093
aVI would use a larger buffer (something like 16 KB or 32KB)
p30094
aVNote that Apache commons IO and Guava have utility methods that do this for you, and have been optimized already
p30095
as(dp30096
g23
V571407
p30097
stp30098
a((dp30099
g2
(lp30100
VWrite each inline JS portion into its own file, and concat all the files
p30101
aVYou can use the echo task to write to temp files dynamically from the ant build file, and then concat the snippet files and the temp files
p30102
as(dp30103
g23
V571407
p30104
stp30105
a((dp30106
g2
(lp30107
VThis strategy is called pessimistic locking
p30108
aVIt's generally not a good strategy, because you can't tell when the first user, which has locked the data, has finished editing it
p30109
aVHe could have closed his browser, and never release the lock
p30110
aVYou may of course use a timeout mechanism, but then you have to deal with the situation where the first user submits the modification after the timeout (if the timeout is short), or you forbid any user to edit the data for too long (if the timeout is long)
p30111
aVThe usual way to deal with that is to use optimistic locking: you let everyone edit the data, but each time one submits, you check that the version number submitted (with a hidden field) is the same as the one in the stored data
p30112
aVIf so, the edit is successful, and you increment the number
p30113
aVIf not, then you tell the user that someone else has modified the data
p30114
as(dp30115
g23
V571407
p30116
stp30117
a((dp30118
g2
(lp30119
VWhy not using the ant sql task, which is designed to do exactly what you want to do
p30120
aVElse, you may use the  nested element:
p30121
aVThere is a complete example on the manual page of the apply task
p30122
as(dp30123
g23
V571407
p30124
stp30125
a((dp30126
g2
(lp30127
VThe documentation shows that you must have an assignment at the end of the clause:
p30128
aVNote that it's a good practice to list the column names in an insert statement, rather than relying on the order they were defined, and on the maintainer to know this order
p30129
as(dp30130
g23
V571407
p30131
stp30132
a((dp30133
g2
(lp30134
VJavadoc to the rescue:
p30135
aVParameters:
p30136
aVa - an angle, in radians
p30137
aV(emphasis mine)
p30138
aVConvert your degrees into radians first
p30139
aV360 degrees = 2 * pi
p30140
as(dp30141
g23
V571407
p30142
stp30143
a((dp30144
g2
(lp30145
VThe uses are the same that a class nested in another class: it allows scoping the class to the interface
p30146
aVYou could imagine something like this:
p30147
aVIt avoids defining a top-level class named  (because  could be a too generic name)
p30148
as(dp30149
g23
V571407
p30150
stp30151
a((dp30152
g2
(lp30153
VYou must use the  annotation on the two ManyToOne associations
p30154
as(dp30155
g23
V571407
p30156
stp30157
a((dp30158
g2
(lp30159
VThis means:
p30160
aVThe reason of  is that the sort procedure is able to sort an array of SomeType instances if SomeType is able to compare itself to other SomeType instances
p30161
aVIf it happens that SomeType extends SomeSuperType, and that any SomeSuperType instance is able to compare itself to other SomeSuperType instances, the sort will compare them without problems
p30162
as(dp30163
g23
V571407
p30164
stp30165
a((dp30166
g2
(lp30167
VIf you want to display an image, you have to use an  tag:
p30168
aVThe name of the image is in the form, so you must generate the path dynamically from this property:
p30169
aVI don't know why you use a blob to store an image name, rather than using a varchar, though
p30170
as(dp30171
g23
V571407
p30172
stp30173
a((dp30174
g2
(lp30175
VCreate a method implementing it using a loop, then call your method, and you'll have a one-line solution
p30176
aVThere is no buit-in method in the Java API to do that
p30177
as(dp30178
g23
V571407
p30179
stp30180
a((dp30181
g2
(lp30182
VWhat you're doing is a static include
p30183
aVA static include is resolved at compile time, and may thus not use a parameter value, which is only known at execution time
p30184
aVWhat you need is a dynamic include:
p30185
aVNote that you should use the JSP EL rather than scriptlets
p30186
aVIt also seems that you're implementing a central controller with index
p30187
aVjsp
p30188
aVYou should use a servlet to do that instead, and dispatch to the appropriate JSP from this servlet
p30189
aVOr better, use an existing MVC framework like Stripes or Spring MVC
p30190
as(dp30191
g23
V571407
p30192
stp30193
a((dp30194
g2
(lp30195
VBesides encapsulation, this is the main reason why JavaBeans setters are used: to be able to fire an event each time a property changes
p30196
aVThis definitely should be a setter
p30197
aVRead the Java tutorial about JavaBeans
p30198
aVWhat you went to do is define a bound property in your bean
p30199
as(dp30200
g23
V571407
p30201
stp30202
a((dp30203
g2
(lp30204
VYes, they will get the same one: the one defined under the "MY_PU" name
p30205
aVWhich other factory could they get
p30206
as(dp30207
g23
V571407
p30208
stp30209
a((dp30210
g2
(lp30211
VMake the association bidirectional, and cascade the removal:
p30212
as(dp30213
g23
V571407
p30214
stp30215
a((dp30216
g2
(lp30217
VI like having some build process (using Apache ant, for example) to deploy the web site from a working copy
p30218
aVEven if it just makes a copy initially, it might later on filter some resources, generate files, minify Javascript, or whatever
p30219
aVAt the minimum, the working copy should be a working copy of a tag in SVN, and yu should switch to another tag when releasing a new version
p30220
aVThis would at least prevent from doing updates from a development branch of from the trunk, which could be unstable
p30221
as(dp30222
g23
V571407
p30223
stp30224
a((dp30225
g2
(lp30226
VAFAIK, Subversive doesn't have this problem
p30227
aVInstall Subversive rather than Subclipse
p30228
as(dp30229
g23
V571407
p30230
stp30231
a((dp30232
g2
(lp30233
VIf you're using MVC, the the redirect should not be done in a JSP, with the JSTL
p30234
aVNot that it wouldn't work, but it's just not the responsibility of the view to issue a redirect
p30235
aVIt's the responsibility of the controller
p30236
aVRedirecting from the JSP could fail if some part of the response has already been flushed
p30237
aVMake it in the controller servlet, using
p30238
as(dp30239
g23
V571407
p30240
stp30241
a((dp30242
g2
(lp30243
VYou could just define an additional attribute (blank by default) in your tiles definition, and insert this attribute inside the head section of the layout page
p30244
aVThat's how Tiles is supposed to work
p30245
aVOr you could use Sitemesh instead of Tiles, which does what you suggest: it uses a filter which buffers the response, and then decorates the response by extracting some of its elements and putting them into a template
p30246
aVI guess it could be possible to use Sitemesh and Tiles together, but it would become a bit too complex, IMHO
p30247
as(dp30248
g23
V571407
p30249
stp30250
a((dp30251
g2
(lp30252
VEither query for User instances, and fecth the roles with them:
p30253
aVOr use a query that returns scalars, but then you can't just treat the collection af roles as if it were a scalar:
p30254
aVSide note: it should be , not , to respect the standard Java naming conventions
p30255
as(dp30256
g23
V571407
p30257
stp30258
a((dp30259
g2
(lp30260
VThe JSP EL doesn't manipulate local variables of the JSP
p30261
aVIt manipulates objects stored in one of the four scopes:
p30262
aVpageScope
p30263
aVrequestScope
p30264
aVsessionScope
p30265
aVapplicationScope
p30266
aVFor this code to work, you would have to do:
p30267
aVBut the JSP EL and JSP taglibs have been introduced to avoid using Java code in the JSPs
p30268
aVscriptlets should not be used
p30269
aVUse a servlet for your Java code, and dispatch to the JSP for the rendering code
p30270
aVOr use an MVC framework like Stripes or Spring MVC
p30271
as(dp30272
g23
V571407
p30273
stp30274
a((dp30275
g2
(lp30276
VThe subcriteria defines a new scope, which is the rooted at BookingLocation
p30277
aVYou just need to use :
p30278
as(dp30279
g23
V571407
p30280
stp30281
a((dp30282
g2
(lp30283
VYes, of course it's possible
p30284
aVImplement a table model by extending , and use the list to implement its methods
p30285
aVRead the JTable tutorial
p30286
aVThe main methods of the table model would look like this:
p30287
as(dp30288
g23
V571407
p30289
stp30290
a((dp30291
g2
(lp30292
VWrite to a , then get the byte array, and return a  from this byte array
p30293
as(dp30294
g23
V571407
p30295
stp30296
a((dp30297
g2
(lp30298
VYou must make a join to the PostalCarrier
p30299
aVYou can't access a property from a collection
p30300
aVThus,  isn't correct
p30301
as(dp30302
g23
V571407
p30303
stp30304
a((dp30305
g2
(lp30306
VYou have probably configured the Spring servlet to be mapped to , which means it handles all the requests to the web app
p30307
aVEither map it to only certain requests (like *
p30308
aVhtm, *
p30309
aVaction, or whatever), or configure Spring to serve static resources
p30310
as(dp30311
g23
V571407
p30312
stp30313
a((dp30314
g2
(lp30315
VThe code is using the observer pattern
p30316
aVThe scraper notifies listeners (or observers), by calling their method, when it starts, when it finishes, when it pauses, etc
p30317
as(dp30318
g23
V571407
p30319
stp30320
a((dp30321
g2
(lp30322
VDon't use an enum in your library
p30323
aVUse an interface, that the application will have to implement the way it wants to (by using an enum, for example)
p30324
aVThe interface should contain the methods that are needed by the library
p30325
aVWithout a more concrete example, it's hard to provide a more concrete answer
p30326
aVFor example:
p30327
aVAnd in the application:
p30328
as(dp30329
g23
V571407
p30330
stp30331
a((dp30332
g2
(lp30333
VYou failed to understand the whole point of an MVC framework like Struts
p30334
aVIn a MVC app, you should never have any link or form pointing to a JSP
p30335
aVYou should always point to a URL mapped to the Struts servlet/filter
p30336
aVThen the servlet invokes the appropriate action based on the URL, the action returns the result (the JSP to go to), and Struts forwards to this JSP
p30337
aVIf you point to a JSP directly, then you're bypassing Struts completely
p30338
aVRead http://www
p30339
aVjavaworld
p30340
aVcom/javaworld/jw-12-1999/jw-12-ssj-jspmvc
p30341
aVhtml
p30342
as(dp30343
g23
V571407
p30344
stp30345
a((dp30346
g2
(lp30347
VFields are not polymorphic in Java
p30348
aVMethods are
p30349
aVAdd a  method to the  class, and call this method from the  method
p30350
aVYou'll then be able to override the getPriority method in the subclasses, and the appropriate method will be called, in a polymorphic way
p30351
aVNote that if the  method is not used from the outside, you can make it
p30352
aVSide note: please learn Java naming conventions and stick to them
p30353
aVAnd it would be easier to understand your question if you used real Java code rather than obscure pseudo-code
p30354
as(dp30355
g23
V571407
p30356
stp30357
a((dp30358
g2
(lp30359
VInstall the database
p30360
aVAdd the MySQL JDBC driver to your classpath
p30361
aVAnd follow the instructions of the JDBC tutorial
p30362
as(dp30363
g23
V571407
p30364
stp30365
a((dp30366
g2
(lp30367
VFirst of all, the  annotations on your two classes are ignored, since you instantiates these classes directly (using ) rather than getting an instance from the spring context
p30368
aVSo in fact, it boild down to this code:
p30369
aVA finally block is always executed, even if an exception is thrown in the try block
p30370
aVSo the test creates a person in  and in
p30371
as(dp30372
g23
V571407
p30373
stp30374
a((dp30375
g2
(lp30376
VLoad those two files in memory, and use loops:
p30377
as(dp30378
g23
V571407
p30379
stp30380
a((dp30381
g2
(lp30382
VThe easiest way is to use a OneToMany association between a  entity and a  entity, each entity mapping the associated table:
p30383
as(dp30384
g23
V571407
p30385
stp30386
a((dp30387
g2
(lp30388
VAFAIK, Japanese words use chars above 256, whereas English doesn't use them
p30389
aVYou could test if one of the chars is  in the word
p30390
as(dp30391
g23
V571407
p30392
stp30393
a((dp30394
g2
(lp30395
VYes, multiplying the size of the map by the expected (estimated) average list size and by the expected (estimated) average String length should be enough
p30396
aVThe growing algorithm of StringBuilder isn't linear: it doubles each time, so you won't gain much by having a precise estimation of its final size
p30397
aVI doubt this is where you would have any performance problem
p30398
aVSide note: your code would be easier if you prepended the newline before each element except the first one, and used the foreach loop syntax
p30399
aVYou should also iterate throught the  of the map, rather than iterating throught the keys and doing a lookup at each iteration:
p30400
as(dp30401
g23
V571407
p30402
stp30403
a((dp30404
g2
(lp30405
VThe  method would have to be synchronized if only one thread at a time needed to access a non-thread-safe shared state inside this method (or would have to make several modifications on a shared state atomically)
p30406
aVAll the method does is to call a method on an , which is designed precisely to be accessed concurrently by several threads
p30407
aVThe method doesn't need to be synchronized
p30408
as(dp30409
g23
V571407
p30410
stp30411
a((dp30412
g2
(lp30413
VAn application context is not an XML file
p30414
aVAll the beans declared in the imported files are part of the same application context
p30415
aVAnd the order doesn't matter
p30416
as(dp30417
g23
V571407
p30418
stp30419
a((dp30420
g2
(lp30421
VIt's concatenated because the selection event is triggered twice, and you use  to display the selection
p30422
aVYou should probably ignore the event if its  method returns true
p30423
aVAlso, be careful that the selected row index returned is not necessarily the same index as the table model index: if your table is sorted, both indexes will differ
p30424
aVUse JTable's  before getting the data from the model
p30425
as(dp30426
g23
V571407
p30427
stp30428
a((dp30429
g2
(lp30430
VUse the  method of the event:
p30431
aVBut you should probably avoid having a single ActionListener handle the events from multiple buttons in the first place
p30432
aVEach button should have its own responsibility, and hence be handled by a single listener
p30433
as(dp30434
g23
V571407
p30435
stp30436
a((dp30437
g2
(lp30438
VTortoiseSVN is an SVN client
p30439
aVI communicates with a SVN server which stores and gets files to/from a repository
p30440
aVYou thus need an SVN server on the server
p30441
as(dp30442
g23
V571407
p30443
stp30444
a((dp30445
g2
(lp30446
VIf you want to get the value of an environment variable from a Java program, you must use
p30447
aVIt has nothing to do with the servlet API, and is of course global to the JVM
p30448
as(dp30449
g23
V571407
p30450
stp30451
a((dp30452
g2
(lp30453
VHere's a working example which displays all the zip files in any descendant directory of :
p30454
aVAs you see, using forward slashes works on Windows
p30455
as(dp30456
g23
V571407
p30457
stp30458
a((dp30459
g2
(lp30460
VBecause the join type is inner by default, which means that for a configuration to be returned it has to at least have one component
p30461
aVIf none of your configurations have a component, nothing is returned
p30462
aVThe first query is equivalent to
p30463
aVAnd the second one is equivalent to
p30464
as(dp30465
g23
V571407
p30466
stp30467
a((dp30468
g2
(lp30469
VIf you don't know how to handle an IOException in this method, then it means that it's not the responsibility of the method to handle it, and it should thus be thrown by the method
p30470
aVThe reader should be closed in this method, though, since this method opens it:
p30471
aVAlso, note that unless your class is itself a kind of Reader wrapping another reader, and thus has a close method, the reader shouldn't be an instance field
p30472
aVIt should be a local variable as shown in my example
p30473
as(dp30474
g23
V571407
p30475
stp30476
a((dp30477
g2
(lp30478
VSee the api doc: http://www
p30479
aVjson
p30480
aVorg/javadoc/org/json/JSONObject
p30481
aVhtml#keys%28%29
p30482
aVThis returns an iterator on the keys of the object
p30483
as(dp30484
g23
V571407
p30485
stp30486
a((dp30487
g2
(lp30488
VAFAIK, there's no way, except asking the user:
p30489
aVIf you're using Internet Explorer (nice image of the IE logo): click here;
p30490
aVIf you're using Firefox (nice image of the Firefox logo): click here;
p30491
as(dp30492
g23
V571407
p30493
stp30494
a((dp30495
g2
(lp30496
VChoose the option Maven build
p30497
aV, and type  in the Goals text box
p30498
as(dp30499
g23
V571407
p30500
stp30501
a((dp30502
g2
(lp30503
VYour loops should check for  rather than , and the streams and the socket should be closed in a finally block
p30504
aVOther than that, the code looks fine to me
p30505
aVWhat do you mean by "it is stuck at transfering 8kb"
p30506
aVAny exception occurring
p30507
as(dp30508
g23
V571407
p30509
stp30510
a((dp30511
g2
(lp30512
VThe documentation says:
p30513
aVYou can override the constraint name by use @ForeignKey
p30514
aVNote that
p30515
aVthis annotation has to be placed on the owning side of the
p30516
aVrelationship, inverseName referencing to the other side constraint
p30517
as(dp30518
g23
V571407
p30519
stp30520
a((dp30521
g2
(lp30522
VYou effectively have a bidirectional association here, since the invoiceId in the Item entity is in fact a foreign key to the Invoice
p30523
aVYou should thus map the association as a bidirectional one, and use the  annotation
p30524
aVIts javadoc has an example
p30525
as(dp30526
g23
V571407
p30527
stp30528
a((dp30529
g2
(lp30530
VUse the user-agent to set a  flag in the user session to remember that the session is for a mobile device, and use
p30531
aVto only serve a given section of a JSP if the device it not a mobile device
p30532
aVSee http://detectmobilebrowsers
p30533
aVcom/ for how to detect a mobile browser
p30534
as(dp30535
g23
V571407
p30536
stp30537
a((dp30538
g2
(lp30539
VDon't search on the web
p30540
aVRead the reference documentation instead
p30541
aVHere's the section showing an example of a one-to-many unidirectional association
p30542
aVYour mapping doesn't make sense
p30543
aVIf you want a one-to-many association between BusinessGroup and BusinessCard, then the BusinessGroup class should have a collection of BusinessCards
p30544
aVThere shouldn't be a class BusinessContact, since the BUSINESSCONTACT table is just a join table, and not an entity
p30545
aVIts only use is to hold the association between the other entities, and it's thus completely managed by the association
p30546
as(dp30547
g23
V571407
p30548
stp30549
a((dp30550
g2
(lp30551
VDon't include these classes in the documentation of the API, or document them with a bold warning: This class is for internal use only and is subject to changes or removal in future versions of the API
p30552
aVDon't use it
p30553
aVPutting these classes in a  package is also useful
p30554
as(dp30555
g23
V571407
p30556
stp30557
a((dp30558
g2
(lp30559
VMake your Database bean keep a reference to the Corpus instance it creates, and make it disposable
p30560
aVThis way, when the container stops, the destroy method of the Database bean is called, and it can persist all the changes made to the Corpus instances it has created
p30561
as(dp30562
g23
V571407
p30563
stp30564
a((dp30565
g2
(lp30566
VYou must use a @MapKeyJoinColumn annotation to do that
p30567
aVThere is an example of what you want to do in the javadoc:
p30568
as(dp30569
g23
V571407
p30570
stp30571
a((dp30572
g2
(lp30573
VHere's the documentation on how to do it with Hibernate
p30574
aVSince it's standard JPA, you should be able to do the same thing with EclipseLink
p30575
aVEither you replace the A_ID in B with a mapped OneToOne association to A (and use  on the other side), or you keep the A_ID, but also add a OneToOne association to A and annotated it with  (and you also use  on the other side)
p30576
as(dp30577
g23
V571407
p30578
stp30579
a((dp30580
g2
(lp30581
VUse keyword substitution:
p30582
as(dp30583
g23
V571407
p30584
stp30585
a((dp30586
g2
(lp30587
VRead http://docs
p30588
aVoracle
p30589
aVcom/javaee/1
p30590
aV4/tutorial/doc/JSPIntro7
p30591
aVhtml:
p30592
aVTo deactivate the evaluation of EL expressions, you specify the
p30593
aVisELIgnored attribute of the page directive:
p30594
aVThe valid values of this attribute are true and false
p30595
aVIf it is true,
p30596
aVEL expressions are ignored when they appear in static text or tag
p30597
aVattributes
p30598
aVIf it is false, EL expressions are evaluated by the
p30599
aVcontainer
p30600
aVThe default value varies depending on the version of the web
p30601
aVapplication deployment descriptor
p30602
aVThe default mode for JSP pages
p30603
aVdelivered using a Servlet 2
p30604
aV3 or earlier descriptor is to ignore EL
p30605
aVexpressions; this provides backward compatibility
p30606
aVThe default mode
p30607
aVfor JSP pages delivered with a Servlet 2
p30608
aV4 descriptor is to evaluate
p30609
aVEL expressions; this automatically provides the default that most
p30610
aVapplications want
p30611
aV(emphasis mine)
p30612
aVSo, either switch to a servlet 2
p30613
aV4 or higner descriptor, if your container supports it, or activate EL using
p30614
as(dp30615
g23
V571407
p30616
stp30617
a((dp30618
g2
(lp30619
VYou need a format to parse the date: , and once you have a Date object from this first date format, you need a second one: , to format the date as you want
p30620
aVFormatting with  will give you the month on two digits, and parsing with  will expect an abbreviated textual month, and won't parse
p30621
as(dp30622
g23
V571407
p30623
stp30624
a((dp30625
g2
(lp30626
VA List contains Object instances
p30627
aVThe get() method returns Object
p30628
aVIf you want a typesafe List, you must use the generic type information:
p30629
aVIf you use the raw type (without the  generic type information), then the compiler doesn't know that the List only contains String instances, and you thus have to cast the result:
p30630
aVSide note: learn to indent your code and to respect Java naming conventions
p30631
aVIt's unreadable as is
p30632
as(dp30633
g23
V571407
p30634
stp30635
a((dp30636
g2
(lp30637
VAFAIK, it's not possible to do it directly
p30638
aVBut there's a simple workaround:
p30639
aVSure, the list is sorted in Java, but the sort is easy, and the list size is very small
p30640
as(dp30641
g23
V571407
p30642
stp30643
a((dp30644
g2
(lp30645
VThis is a very dangerous thing to do, and although it's supported by Hibernate, it's not by JPA, because the entities that it loads do not reflect the reality of what is stored in the database
p30646
aVIf you happen to modify the list of Bs, Hibernate might delete all the Bs that balong to the A, but which have not been loaded by the query
p30647
aVThat said, this is a simple inner join with a fetch mode:
p30648
as(dp30649
g23
V571407
p30650
stp30651
a((dp30652
g2
(lp30653
VDon't make the login the welcome file
p30654
aVMake the home page the welcome file (or make the welcome page simply redirect to the home page)
p30655
aVThis is what users expect to find at the root of the webapp: the home page
p30656
aVIf the home page is accessible only after login, then use a filter to intercept all the requests, and redirect to the login servlet if not logged in
p30657
aVMake the GET request to this servlet display the login page (by forwarding to login
p30658
aVjsp), and the POST request to this servlet handle the login, and forward to the login
p30659
aVjsp again if the login failed
p30660
as(dp30661
g23
V571407
p30662
stp30663
a((dp30664
g2
(lp30665
VThe default table model copies the data from the two-dimensional array into its own vectors
p30666
aVEach time you press the load button, you create a new default table model using the same data, and a new copy is made to the new table model's vectors
p30667
aVYour code resets the table model each time the load button is pressed, so of course, the old data comes up
p30668
as(dp30669
g23
V571407
p30670
stp30671
a((dp30672
g2
(lp30673
VIf I understand correctly, you have a transaction which saves some data in database, and sends a message
p30674
aVAnd the receiver of the message tries to read the data from the database, but doesn't find it because the message is received but the sender's transaction hasn't been committed yet
p30675
aVYou are in a situation where you need a XA-capable (2 phase commit) transaction manager, which enrolls the database and the JMS broker into the same global transaction
p30676
aVThis way, the writes to the database and the sending of the message are committed atomically, and there's no way to have a message sent if the database write hasn't been done yet, and has succeeded
p30677
aVThere are free such transaction managers, like Bitronix, Atomikos or JBoss TM
p30678
as(dp30679
g23
V571407
p30680
stp30681
a((dp30682
g2
(lp30683
VThat means that the readLine() method blocks until it finds an EOL character, or the end of the stream has been reached
p30684
aVMake sure the client actually sends an EOL character or closes its socket
p30685
as(dp30686
g23
V571407
p30687
stp30688
a((dp30689
g2
(lp30690
VYou probably have one of the entities using a sequence ID generator without any sequence name configured, and Hibernate thus uses the default sequence name: hibernate_sequence, but doesn't find it
p30691
aVConfigure the sequence name (and use an existing sequence), or create the hibernate_sequence sequence in database, or don't use a sequence-based generator
p30692
as(dp30693
g23
V571407
p30694
stp30695
a((dp30696
g2
(lp30697
VTo access the entity manager, you're supposed to use the execute method of JpaTemplate, and put your code in the callback
p30698
aVJpaTemplate gives you the EM
p30699
aVYou don't get it from the JpaTemplate:
p30700
aVNote that this class is deprecated
p30701
as(dp30702
g23
V571407
p30703
stp30704
a((dp30705
g2
(lp30706
VRead the documentation on indexed properties
p30707
aVYou need to tell Stripes that you have multiple items, by naming them , , etc
p30708
aV:
p30709
aVThis supposes that you action bean has a  method, that the  class has a public no-arg constructor, and has a  and a  method
p30710
as(dp30711
g23
V571407
p30712
stp30713
a((dp30714
g2
(lp30715
VStraight from the documentation:
p30716
aVhibernate
p30717
aVjdbc
p30718
aVbatch_size: A non-zero value enables use of JDBC2 batch
p30719
aVupdates by Hibernate
p30720
ag468
ag383
aVrecommended values between 5 and 30
p30721
as(dp30722
g23
V571407
p30723
stp30724
a((dp30725
g2
(lp30726
VThe  class should be an entity
p30727
aVThe  has a list of  instances, you should thus have
p30728
aVEach  links to an , so you should also have an association
p30729
aVIt's not clear if it's a ManyToOne or a OneToOne, tough
p30730
aVI'll suppose it's a OneToOne:
p30731
aVIt's pretty simple
p30732
aVEach time an entity has a reference to another entity, or a collection of another entity instances, you have an assosiation
p30733
aVAnd an association can be a OneToMany, OneToOne, ManyToOne or ManyToMany
p30734
aVYou have to tell Hibernate which one it is
p30735
aVIf you don't tell it, it assumes it's a simple Column which is wrong
p30736
as(dp30737
g23
V571407
p30738
stp30739
a((dp30740
g2
(lp30741
VMarking a method abstract means that the class defines the method, but does not implement it
p30742
aVIt forces the concrete subclasses to provide an implementation of the method
p30743
aVEither you provide an implementation, and the method may not be abstract, or you don't provide one, and the method must be abstract (and thus the class must also be)
p30744
aVRead the Java tutorial
p30745
as(dp30746
g23
V571407
p30747
stp30748
a((dp30749
g2
(lp30750
VAES treats the bytes as purely binary data
p30751
aVNot as numbers which have a sign or don't have a sign
p30752
aVThere are no unsigned bytes in Java
p30753
aVThey are always signed
p30754
aVBut the sign only matters when you do integer arythmetics on them
p30755
aVThe bitwise operators are described in the Java tutorial
p30756
as(dp30757
g23
V571407
p30758
stp30759
a((dp30760
g2
(lp30761
VSince you don't know the type of the List, you don't know if it has a public no-arg constructor either, so you can't be sure that newInstance() won't throw an exception
p30762
aVIf you don't want a copy of the list, and you know that the list actually contains Y instances, you could just do
p30763
as(dp30764
g23
V571407
p30765
stp30766
a((dp30767
g2
(lp30768
VI disagree with the answer of the question you linked to
p30769
aVA unit test should test the class independantly from the environment it's supposed to work in
p30770
aVAnd dependency injection frameworks are precisely used to be able to inject mock dependencies in unit tests, without needing any complex environment to run the unit test
p30771
aVI don't know Seam, but its documentation says that @In can be placed on a property accessor
p30772
aVI would just have the class under test like this:
p30773
aVAnd I would just call the setter to inject the mock in the unit test
p30774
aVYou could also let the code as is, but provide a setter or an additional constructor to be able to inject a mock applicationBean
p30775
as(dp30776
g23
V571407
p30777
stp30778
a((dp30779
g2
(lp30780
VThere shouldn't be any difference in the database: you just choose to use a Map rather than a List to store the Shapes, but the attributes of the Shape entity stay identical and thus the table storing the shapes also has the same columns
p30781
as(dp30782
g23
V571407
p30783
stp30784
a((dp30785
g2
(lp30786
VI think there are two problems in the query:
p30787
aVThe exists subquery should have a projection returning a single column
p30788
aVYou're using a projection that returns an embedded object
p30789
aVYou compare "userExpense
p30790
aVprimaryKey
p30791
aVexpense" and "mainExpense" with
p30792
aVI don't think it's valid
p30793
aVYou should use
p30794
as(dp30795
g23
V571407
p30796
stp30797
a((dp30798
g2
(lp30799
VYou could do something like that (by passing the class of the object to create, and use reflection to call its constructor), but I would find it bad design to have the POJO dependent on JDBC, and knowing not only how it's stored in database, but also which aliases have been used in the query used to load it
p30800
aVIn short, it's not the responsibility of the User POJO constructor to handle a result set of an external, unknown query
p30801
aVYou could design an AbstractSingleEntityHandler superclass which would just have the
p30802
aVblock, and would delegate the actual entity creation to an abstract method, but you wouldn't gain much
p30803
as(dp30804
g23
V571407
p30805
stp30806
a((dp30807
g2
(lp30808
VThe url-pattern that you specify in web
p30809
aVxml is always a pattern that is relative to the context path of the webapp
p30810
aVSo,  means all the URLs under , under the context path of the application
p30811
aVSince your app is deployed un , it means that this url-pattern matches the URL
p30812
aVIt doesn't match , because this URL, when written relatively to the context path, is , which doesn't matches the pattern
p30813
aVGood rule of thumb: nothing in the code or deployment descriptor of a webapp should ever depend on the context path chosen to deploy the application
p30814
aVEverything should always be specified relatively to this context path
p30815
as(dp30816
g23
V571407
p30817
stp30818
a((dp30819
g2
(lp30820
VJava doesn't allow overloading operators
p30821
aVIt uses a very limited kind of operator overloading though, since  does addition or concatenation depending on the context
p30822
aVIf your assignment asks you to implement something by overloading operators, you won't be able to do it in Java
p30823
aVMaybe you should ask the teacher why he allows Java for such an assignment
p30824
aVIf your assignment only asks you to use an overloaded operator, then having your program use  for concatenation and addition would fit the bill
p30825
aVBut I would ask the teacher, because I doubt that it's what he expects
p30826
as(dp30827
g23
V571407
p30828
stp30829
a((dp30830
g2
(lp30831
VThe source code reveals that in case of a collision between two identity hash codes of different objects, the comparator falls back to a map associating each of the objects with a counter that is incremented each time a new object is stored in the map
p30832
aVSee http://docs
p30833
aVguava-libraries
p30834
aVgooglecode
p30835
aVcom/git-history/v11
p30836
ag2332
aV1/javadoc/src-html/com/google/common/collect/Ordering
p30837
aVhtml#line
p30838
aV200
p30839
as(dp30840
g23
V571407
p30841
stp30842
a((dp30843
g2
(lp30844
VWrite another assertion yourself
p30845
aVThis assertion could use the following technique:
p30846
aVcopy the collection to a new list
p30847
aVfor each element that must be present, test if it is, and remove it from the list
p30848
aVif you want to check that there aren't more instances of an object, then for each element, test that it isn't in the list anymore
p30849
as(dp30850
g23
V571407
p30851
stp30852
a((dp30853
g2
(lp30854
VFirst of all, you shouldn't consider the webapp's folder is accessible to write file
p30855
aVThe app could be deployed as a war file, and if you redeploy the app, you'll loase all the uploaded files
p30856
aVStore the uploaded files elsewhere
p30857
aVSecond,  loads resources from the classpath
p30858
aVIt doesn't load from the file system or the webapp's context
p30859
aVwill only find resources stored in WEB-INF/classes, in one of the jars of WEB-INF/lib, or in a jar of the container's classpath
p30860
aVIf you need to load something from the webapp's context (which you shouldn't do in this case), use ServletContext
p30861
aVgetResource() (or )
p30862
as(dp30863
g23
V571407
p30864
stp30865
a((dp30866
g2
(lp30867
V returns a , but every item of the node list is an instance of
p30868
aVAnd  also has a  method
p30869
aVJust cast the nodes from the node list to
p30870
as(dp30871
g23
V571407
p30872
stp30873
a((dp30874
g2
(lp30875
VYour objects should have invariants, and one of these invariants is that collections are never null
p30876
aVThey can be empty, but not null
p30877
aVSo yes, you should instantiate empty sets from the constructor
p30878
aVThe cost of doing this is negligible compared to the work Hibernate does, the network calls to the database, etc
p30879
aVYou won't notice any difference in performance
p30880
as(dp30881
g23
V571407
p30882
stp30883
a((dp30884
g2
(lp30885
VYou don't need SQL to execute this query
p30886
aVHQL will do fine
p30887
aVAnd such a query returns a , each  containing a row of the result set
p30888
aVSo you will find the customer ID at index 0, the card at index 1, etc
p30889
aVYou just have to loop througn the rows and create an instance of your lightweight object at each iteration
p30890
aVSee http://docs
p30891
aVjboss
p30892
aVorg/hibernate/core/3
p30893
aV6/reference/en-US/html_single/#queryhql-select
p30894
as(dp30895
g23
V571407
p30896
stp30897
a((dp30898
g2
(lp30899
VIf you instantiate a new ClassA instance (and, BTW, the syntax is ), then you will have
p30900
aVa new instance, with another jtextfield1 than the one in the existing ClassA instance
p30901
aVYou need to pass a reference to the existing ClassA instance to the ClassB instance:
p30902
aVWhen ClassB is constructed:
p30903
aVYou don't seem to master the basic OO concepts of classes and objects, and not even the syntax of Java
p30904
aVI would advise not using Swing now, and learning the basics first
p30905
aVSwing is hard, much too hard for a developer which doesn't understand these concepts
p30906
aVRead the basics and OO lessons of the Java tutorial
p30907
as(dp30908
g23
V571407
p30909
stp30910
a((dp30911
g2
(lp30912
VUse the resultset metadata to know the number of columns returned by the query, the type of these columns, etc
p30913
aVSee the javadoc, which also has an example
p30914
as(dp30915
g23
V571407
p30916
stp30917
a((dp30918
g2
(lp30919
VUse  where the keys of the map are your 6 strings, and the value is either  or
p30920
aVUse  to get the type of the string
p30921
as(dp30922
g23
V571407
p30923
stp30924
a((dp30925
g2
(lp30926
VYou're using
p30927
aVDLL = Dynamic Link Library
p30928
aVThe correct property is
p30929
aVDDL = Data Definition Language
p30930
as(dp30931
g23
V571407
p30932
stp30933
a((dp30934
g2
(lp30935
VThis looks like premature optimization to me, especially if your query only returns one User instance as in your instance
p30936
aVNot only that, but it's actually very confusing, because the query doesn't return a complete User: it returns a User with nearly all the fields set to null, which might break the invariants of the class, and there is no way for the caller to know if some field is really null in database or if it's null only because your query chose not to load it
p30937
aVI would first measure if loading these fields really cause a performance problem, and only optimize if and where there is one
p30938
aVAnd I would use a dedicated UserDTO which would only contain the fields actually loaded by the query
p30939
aVYou might also look at fetch groups, which enable lazy-loading of properties, but as the reference manual says:
p30940
aVPlease note that this is mostly a marketing feature; optimizing row
p30941
aVreads is much more important than optimization of column reads
p30942
aVHowever, only loading some properties of a class could be useful in
p30943
aVextreme cases
p30944
aVFor example, when legacy tables have hundreds of
p30945
aVcolumns and the data model cannot be improved
p30946
as(dp30947
g23
V571407
p30948
stp30949
a((dp30950
g2
(lp30951
VThe servlet is mapped to  in the web
p30952
aVxml file, inside the context path of your application
p30953
aVSo, if your webapp's war file or directory is indeed named , the URL to your servlet is
p30954
as(dp30955
g23
V571407
p30956
stp30957
a((dp30958
g2
(lp30959
VThis looks like a good candidate for the State pattern to me
p30960
aVYour parser would have an initial state (implementation of an abstract class or interface), and ask this state to handle the next token
p30961
aVDepending on the value of the token the state modifies the context, and returns the appropriate next State instance
p30962
aVAnd you repeat this until the state throws an exception because the next token is not expected, or until the last token has been handled and the last state doesn't expect another token
p30963
aVAt the end, either the parsing failed, or it succeeded and the context contains the parsed data
p30964
as(dp30965
g23
V571407
p30966
stp30967
a((dp30968
g2
(lp30969
VInternationalizing dynamic values is always difficult
p30970
aVYour last method for storing the types is the right one
p30971
aVIf you want to be able to i18n them, you can use resource bundles as properties files in your app
p30972
aVThis forces you to modify the properties files and redeploy and restart the app each time a new type is added
p30973
aVYou can also fall back to the English string stored in database if the type is not found in the resource bundle
p30974
aVOr you can implement a custom ResourceBundle class that fetches its keys and values from the database directly, and have an additional PersonTypeI18n table which contains the translations for all the locales you want to support
p30975
as(dp30976
g23
V571407
p30977
stp30978
a((dp30979
g2
(lp30980
VA is incorrect, because your list could be a , and it would thus be invalid to add a String to it
p30981
aV(I know String is final, but the compiler doesn't care about it here)
p30982
aVE is incorrect because a  can't be assigned to a , obviously, since the objects contained by a  don't necessarily are of type String or of a subclass of String
p30983
aVThe other three ones are OK:
p30984
aVB is OK because everything except primitives is a an Object in Java
p30985
aVC is OK because a  contains instances of String, or instances of a subclass of String
p30986
aVAnd an instance of a sublcass is also an instance of the superclass
p30987
aVD is OK because an  is a , and a  is also a
p30988
as(dp30989
g23
V571407
p30990
stp30991
a((dp30992
g2
(lp30993
VYour jar file is named HelloWorld
p30994
aVjar, not za
p30995
aVac
p30996
aVuj
p30997
aVcsc2a
p30998
aVHelloWorld
p30999
aVjar
p31000
aVSo obviously, java doesn't find it
p31001
aVThe jar file contents must respect the package hierarchy, so inside the jar file, the  must be in the folder
p31002
as(dp31003
g23
V571407
p31004
stp31005
a((dp31006
g2
(lp31007
VStore the specific configuration files of each server in a directory, put these under version control, and use something like Ant to take a "naked" war, unzip it, replace the files with the config files of the server you want to deploy to, and rebuild the war
p31008
aVThen scp the war to the server directly
p31009
aVThis can also be done using ant
p31010
as(dp31011
g23
V571407
p31012
stp31013
a((dp31014
g2
(lp31015
VThe coherence of the data in database should not be compromised by doing only some part of an atomic change in its own transaction
p31016
aVAnd although some synchronization might work on your environment, if you need to cluster your app, or if several applications acces the database, it won't solve the problem
p31017
aVWhat you should do is to put a unique constraint in the database on
p31018
aVThat will cause one of the two transactions to rollback if there is a race condition
p31019
aVIf you choose to still isolate the check/insert code in its own transaction (because it's not a problem if that succeeds and the outer transaction fails), I don't see how JTA would be a problem
p31020
aVSupposing you're using EJBs or Spring, just put this method in its own EJB/bean, and mark the method as transactional, with the REQUIRES_NEW propagation
p31021
aVThe code would thus look like this:
p31022
aVIf you can't synchronize , then try calling it, catch any exception that it could throw, and retry calling it:
p31023
as(dp31024
g23
V571407
p31025
stp31026
a((dp31027
g2
(lp31028
VIf you have a reference to an entity, then obviously the object is in memory (unless the reference is a reference to a lazy-loaded proxy)
p31029
aVEHCache is used to avoid going to the database too often, and get the entities from the in-memory or on-disk cache
p31030
aVUsing it will increase the memory, not decrease it
p31031
as(dp31032
g23
V571407
p31033
stp31034
a((dp31035
g2
(lp31036
VI would just enter the URL in your preferred browser, and bookmark it
p31037
aVAs simple as that
p31038
aVYou'll have to do it with different browsers anyway if you want to test the app on multiple browsers
p31039
aVYou can also choose which browser is used by going to Window - Preferences - General - Web Browser
p31040
as(dp31041
g23
V571407
p31042
stp31043
a((dp31044
g2
(lp31045
VThis is not a number
p31046
aVIt's a string containing digits
p31047
aVIf you really store such information as a number, you will have to write a formatting method yourself
p31048
aVYou could use this formatting method from the JSP by delaring it as a JSP EL function
p31049
aVNote that if the String can have a leading zero, using a number to store it is an even worse idea
p31050
as(dp31051
g23
V571407
p31052
stp31053
a((dp31054
g2
(lp31055
VStraight from the documentation:
p31056
aVThe elements are returned in no particular order (unless this set is
p31057
aVan instance of some class that provides a guarantee)
p31058
as(dp31059
g23
V571407
p31060
stp31061
a((dp31062
g2
(lp31063
VYou have implemented a recursive  method: when you write an instance to an output stream, it calls the writeObject method, which writes an int, and then writes the object to the output stream, which write an int, etc
p31064
aVThe goal of the serialVersionUID field is to check that the objects are compatible
p31065
aVIt's done natively by the serialization mechanism
p31066
aVYou don't have to do anything except changing the serialVersionUID value when the class changes
p31067
as(dp31068
g23
V571407
p31069
stp31070
a((dp31071
g2
(lp31072
VFrom the documentation:
p31073
aVIf the Session throws an exception, including any SQLException,
p31074
aVimmediately rollback the database transaction, call Session
p31075
aVclose()
p31076
aVand discard the Session instance
p31077
aVCertain methods of Session will not
p31078
aVleave the session in a consistent state
p31079
aVNo exception thrown by
p31080
aVHibernate can be treated as recoverable
p31081
aVEnsure that the Session will
p31082
aVbe closed by calling close() in a finally block
p31083
aVThe transaction must be rolled back
p31084
aVSo, if you want to continue executing if Hibernate throws an exception, you should put the execute the  method in its own transaction, using the REQUIRES_NEW propagation in the  annotation
p31085
aVThis way, only this short transaction will be rolled back
p31086
as(dp31087
g23
V571407
p31088
stp31089
a((dp31090
g2
(lp31091
VYou'll have to read through the whole reader, and only keep the last line:
p31092
aVEDIT: as Joachim says in his comment, if you know that the last line will never be longer than (for example) 500 bytes, you could set the Range header in your HTTP request to -500, and thus only download the last 500 bytes
p31093
aVThe same algorithm as above could be used
p31094
aVI don't know, however, if it would deal correctly a stream starting in the middle of a multi-byte encoded character if the encoding is multi-byte (like UTF-8)
p31095
aVWith ASCII or ISO-8859-1, you won't have any problem
p31096
aVAlso note that the server is not forced to honor the range request, and could retur the whole file
p31097
as(dp31098
g23
V571407
p31099
stp31100
a((dp31101
g2
(lp31102
VAs explained in the documentation, every dispatcher servlet has its own application context, where you typically define controllers, view resolvers, etc
p31103
aV, and which inherits (and can override beans) from a root application context, which typically contains data source definitions, middle tier services, etc
p31104
aVThe ContextLoaderListener, as its documentation explains, is used to to start up and shut down Spring's root application context (from which the servlet contexts inherit)
p31105
aVIt's also useful when you want to use Spring for your middle tier, but you don't want to use Spring MVC as your presentation layer
p31106
aVIn this case, you only define a root application context using ContextLoaderListener
p31107
as(dp31108
g23
V571407
p31109
stp31110
a((dp31111
g2
(lp31112
Vdisplaytag uses the id attribute of the table tag, and appends "_rowNum" to this attribute, to define another attribute containing the current row number
p31113
aVSo, the attribute, in your case, is named
p31114
aVAnd as any page scope attribute, you access it using :
p31115
aVYou shouldn't use a plural form () to refer to a single object
p31116
aVIt makes things very confusing
p31117
aVThe current element should thus be named
p31118
as(dp31119
g23
V571407
p31120
stp31121
a((dp31122
g2
(lp31123
s(dp31124
g23
V571407
p31125
stp31126
a((dp31127
g2
(lp31128
VThis cascade does not make sense
p31129
aVYou have many  entities having the same  (ManyToOne)
p31130
aVAnd you're configuring Hibernate so that if you delete one of the  instances, it also deletes the
p31131
aVThis would obviously leave all the other  entities with an association to an unexisting , which would break the foreign key constraint, and cause a rollback
p31132
as(dp31133
g23
V571407
p31134
stp31135
a((dp31136
g2
(lp31137
VThis might be the problem you're having, or at least it's one part of the problem
p31138
aVAs the documentation of  says:
p31139
aVThis method has no effect if it is called after getWriter has been
p31140
aVcalled or after the response has been committed
p31141
aVYou should set the encoding, and only after, get the writer
p31142
as(dp31143
g23
V571407
p31144
stp31145
a((dp31146
g2
(lp31147
VI'm assuming you're using Swing
p31148
aVIf so, use a Swing Timer
p31149
aVOr, if the check itself is some long-running task that must not be done in the GUI thread (because it would freeze it), then use a SwingWorker and submit it to a ScheduledExecutorService created by the Executors class
p31150
as(dp31151
g23
V571407
p31152
stp31153
a((dp31154
g2
(lp31155
VNo
p31156
aVI would use multiple persistence units only if the app has to access multiple databases
p31157
aVIf everything comes from the same database, I don't see any advantage in using multiple persistence units
p31158
as(dp31159
g23
V571407
p31160
stp31161
a((dp31162
g2
(lp31163
VIf this class is a factory, it should be a Guice-managed object, having a non static getFoo method, and the getFoo method would just use
p31164
aVNot every class needs to be instantiated by Guice
p31165
aVAlso see http://code
p31166
aVgoogle
p31167
aVcom/p/google-guice/wiki/AssistedInject, to avoid creating this factory yourself and let Guice create one for you
p31168
as(dp31169
g23
V571407
p31170
stp31171
a((dp31172
g2
(lp31173
VEncryption algorithms don't work on unicode characters
p31174
aVThey work on binary data: byte arrays
p31175
aVIf you need to encrypt unicode text (a String, for example), then choose a non lossy byte encoding for the String (like UTF-8, for example), transform the String to a byte array (), encrypt the byte array, and write the resulting byte array to the file
p31176
aVWhen decrypting, read the file as a byte array, decrypt this byte array (which gives another byte array), and recreate a String from this byte array using the same character encoding:
p31177
as(dp31178
g23
V571407
p31179
stp31180
a((dp31181
g2
(lp31182
VNot tested, but the flow layout probably uses the preferred size of your panel, and you probably haven't overridden  to return something other than a [0, 0] dimension
p31183
aVAlso, you should encapsulate the change of the hello variable in a  method that calls
p31184
aVThe calling code shouldn't have to deal with repaint
p31185
aVThe panl should know when it has to be repainted, and call repaint itself
p31186
as(dp31187
g23
V571407
p31188
stp31189
a((dp31190
g2
(lp31191
VNote: the result list will NEVER be null
p31192
aVAnd its size will NEVER be < 0
p31193
aVAn empty list is the right thing to return if the category doesn't have any product
p31194
aVI wouldn't throw an exception in this case
p31195
as(dp31196
g23
V571407
p31197
stp31198
a((dp31199
g2
(lp31200
VYou get this exception because you pass a null  to the method
p31201
aVIt's easily findable by
p31202
aVreading the error message
p31203
aVreading the source code of
p31204
as(dp31205
g23
V571407
p31206
stp31207
a((dp31208
g2
(lp31209
VA  instance represents a path on the local file system
p31210
aVIf that's what you want your variable to be, it's the appropriate class to use
p31211
aVIf not (like a simple file name, or a file path on another machine), use something else
p31212
as(dp31213
g23
V571407
p31214
stp31215
a((dp31216
g2
(lp31217
VYou need to tell Hibernate to access the ID using property access rather than field access:
p31218
aVYou really should not make your fields public
p31219
as(dp31220
g23
V571407
p31221
stp31222
a((dp31223
g2
(lp31224
VThe  adds an instance of  with the default scope value of "validation
p31225
aVrequired" when a required field is missing
p31226
aVSo you coult probably write a tag similar to the stripes errors tag, but which collapes all the instances of ScopedLocalizableError having a default scope of "validation
p31227
aVrequired" to a single error message
p31228
as(dp31229
g23
V571407
p31230
stp31231
a((dp31232
g2
(lp31233
VNot tested, but you could probably
p31234
aVread all the bytes from the request input stream and write them to a byte array,
p31235
aVconstruct a buffered reader over this byte array to read what you want in the filter,
p31236
aVconstruct a  which overrides  to return a stream over the byte array,
p31237
aVpass this wrapper to the filter chain
p31238
as(dp31239
g23
V571407
p31240
stp31241
a((dp31242
g2
(lp31243
VUse the  method, read all the bytes from the input stream, and write them to a FileOutputStream
p31244
as(dp31245
g23
V571407
p31246
stp31247
a((dp31248
g2
(lp31249
VThe browser can't call a stateful session bean directly
p31250
aVIt always has to call a servlet
p31251
aVSo, you have several choices:
p31252
aVdon't store anything anywhere: only return the rows that the grid asks for, and go back to the database when it asks the next chunk
p31253
aVstore the whole result in a stateful session bean, and have the servlet get the next chunks from this stateful bean
p31254
aVstore the results in the HTTP session directly, and have the servlet get the next chunks from the session
p31255
aVI prefer being as stateless as possible, because it makes the app more scalable, and often less complex, so my preference goes to the first solution, but YMMV
p31256
as(dp31257
g23
V571407
p31258
stp31259
a((dp31260
g2
(lp31261
VYou just need to modify the UserJump before deleting the JumpSession:
p31262
aV(note: the above is traditional Java Hibernate code
p31263
aVI don't know how to translate that in Play's way of doing)
p31264
as(dp31265
g23
V571407
p31266
stp31267
a((dp31268
g2
(lp31269
V is a blocking call
p31270
aVIt waits until the task has completed, or until the timeout has elapsed
p31271
aVSo, by calling it in the EDT, you're doing exactly what you try to avoid by using a SwingWorker
p31272
as(dp31273
g23
V571407
p31274
stp31275
a((dp31276
g2
(lp31277
VThe  method takes a row as argument
p31278
aVUse the existing example as a guide, and use the row argument of this method to decide which values must be proposed by the combo box
p31279
as(dp31280
g23
V571407
p31281
stp31282
a((dp31283
g2
(lp31284
VThis is far from being a corner case
p31285
aVEvery bidirectional association has an owner side and an inverse side
p31286
aVJPA uses the owning side to decide if an association exists between two entities
p31287
aVThe other side is ignored
p31288
aVThe owning side is the one which defines how the association is mapped (using the JoinColumn, JoinTable, etc
p31289
aVannotations)
p31290
aVIt doesn't have any  attribute
p31291
aVThe inverse side uses the  attribute to say: "Hey, I'm just the inverse association of the one mapped by the following property"
p31292
aVSo, by definition, the owning side doesn't have a  attribute
p31293
aVIf it had one, it wouldn't be the owning side
p31294
aVThis is well explained in the JPA spec
p31295
aVIf you need to build a compliancy kit for this specification, you'd better read and understand it
p31296
aVI don't really see the point of writing such a compliancy kit since, as written on the JPA2 JSR home page,
p31297
aVAs required by the Java Specification Participation Agreement (JSPA),
p31298
aVthe Java Persistence API, version 2
p31299
aV0 TCK will be licensed at no
p31300
aVcharge without support to qualified not-for-profit entities
p31301
aVSuch
p31302
aVqualification will be verified by the Compatibility Testing
p31303
aVScholarship Program
p31304
aVSupport may also be provided at no charge with
p31305
aVapproval of the scholarship board
p31306
aVFor more information, please refer
p31307
aVto: http://java
p31308
aVsun
p31309
aVcom/scholarship/
p31310
as(dp31311
g23
V571407
p31312
stp31313
a((dp31314
g2
(lp31315
VAs the javadoc says:
p31316
aVa WebClient instance is not thread safe
p31317
aVIt is intended to be used
p31318
aVfrom a single thread
p31319
aVEach thread should have its own WebClient
p31320
as(dp31321
g23
V571407
p31322
stp31323
a((dp31324
g2
(lp31325
V means "display a text box filled with the property  of the property  of the form bean associated to the enclosing "
p31326
aVSo, if the form bean associated to the form is named , the expression you should use is
p31327
as(dp31328
g23
V571407
p31329
stp31330
a((dp31331
g2
(lp31332
s(dp31333
g23
V571407
p31334
stp31335
a((dp31336
g2
(lp31337
VThe obvious, portable solutions are the following ones:
p31338
aVuse three join tables, and also have 3 sets of networks in the Member entity
p31339
aVuse an additional  entity, having a member, a network, and a type of attachment (default, suppressed or added)
p31340
aVHave a OneToMany bidirectional association between Network and Attachment, and another OneToMany bidirectional associatio between Member and Attachment
p31341
aVIf they don't fit, please explain why
p31342
as(dp31343
g23
V571407
p31344
stp31345
a((dp31346
g2
(lp31347
VAdd the  as argument to the method, and get the query string from the request:
p31348
as(dp31349
g23
V571407
p31350
stp31351
a((dp31352
g2
(lp31353
VErr,
p31354
aVAm I missing something
p31355
as(dp31356
g23
V571407
p31357
stp31358
a((dp31359
g2
(lp31360
VYes, it's possible
p31361
aVThese are called dynamic attributes
p31362
aVSee http://docs
p31363
aVoracle
p31364
aVcom/javaee/1
p31365
aV4/tutorial/doc/JSPTags5
p31366
aVhtml#wp89775:
p31367
aVdynamic-attributes     (optional)
p31368
aVIndicates whether this tag supports
p31369
aVadditional attributes with dynamic names
p31370
aVThe value identifies a
p31371
aVscoped attribute in which to place a Map containing the names and
p31372
aVvalues of the dynamic attributes passed during invocation of the tag
p31373
aVA translation error results if the value of the dynamic-attributes of
p31374
aVa tag directive is equal to the value of a name-given of a variable
p31375
aVdirective or the value of a name attribute of an attribute directive
p31376
as(dp31377
g23
V571407
p31378
stp31379
a((dp31380
g2
(lp31381
VRight-click on the jar (the one with the class files), choose "Properties", the "Javadoc location", and choose the jar file with the javadoc
p31382
aVDo similarly for the source jar, using "Java source attachment"
p31383
as(dp31384
g23
V571407
p31385
stp31386
a((dp31387
g2
(lp31388
VSeeing the address of the action you posted to in the browser address bar is expected behavior
p31389
aVWhat you should do is use the Post-Redirect-Get pattern, so that the user can successfully refresh the page or navigate through historywithout any problem
p31390
aVThis will also have the side-effect of displaying the URL of the action you redirect to after the creation, rather than the URL of the creation action itself
p31391
as(dp31392
g23
V571407
p31393
stp31394
a((dp31395
g2
(lp31396
VThe jar file itself must be in the classpath, and not just the directory containing it
p31397
aVAnd the CLASSPATH environment variable is , not
p31398
aVMy advice would be to never use it, though
p31399
aVAlways use the  (or ) option with javac or java to pass the classpath
p31400
as(dp31401
g23
V571407
p31402
stp31403
a((dp31404
g2
(lp31405
VNo, there won't be any noticeable difference
p31406
aVUse what you find the most readable (which is , normally)
p31407
aVFirst rule of code optimization: don't
p31408
as(dp31409
g23
V571407
p31410
stp31411
a((dp31412
g2
(lp31413
VIt all depends where you stored the list
p31414
aVIf you stored it in a request attribute (and not anywhere else), then it will be eligible to garbage-collection when the request has been handled
p31415
aVIf you stored it in a session attribute, then it will be stored in the server memory (and/or the file system or the database depending on the container configuration) until the session times out or is invalidated, or until you remove it
p31416
aVHTTP is a stateless protocol
p31417
aVThe user doesn't have a connection to the server
p31418
aVJava code between  is not a java tag
p31419
aVIt's scriptlet, and should not be used in a JSP
p31420
aVIf you need to do something that EL or JSP tags can't do easily, then either
p31421
aVwrite a custom JSP tag yourself, put the Java code in this JSP tag, and invoke the tag from the JSP, or
p31422
aVor write a custom EL function, and invoke this function from the JSP
p31423
aVor prepare the work in a controller (servlet, MVC framework action) before dispatching to the JSP, so that the JSP can generate the markup easily
p31424
aVThe list is accessible using the getAttribute method corresponding to the setAttribute method you used to store the list:
p31425
as(dp31426
g23
V571407
p31427
stp31428
a((dp31429
g2
(lp31430
VMaybe your app is using a second-level cache, and some of the updates are done in the back of Hibernate, using SQL update queries
p31431
aVThis would make the second-level cache unaware that an update has been made to the entity, and the app would thus still show stale data fetched from the second-level cache
p31432
as(dp31433
g23
V571407
p31434
stp31435
a((dp31436
g2
(lp31437
Vor, as a Java String:
p31438
aVThe JAR_REPO String will be the :
p31439
as(dp31440
g23
V571407
p31441
stp31442
a((dp31443
g2
(lp31444
VWhy are you using projections, since what you want to load is an entity instance
p31445
aVAnd why use Criteria for such a query, which doesn't need to be compose dynamically
p31446
aVHere's the corresponding HQL:
p31447
aVIf you really want to make your life difficult, and use criteria for this, you just need this:
p31448
aVYour code would be more readable and concise if you just named your ID properties
p31449
aVNaming the ID of CreditRealization  is redundant
p31450
as(dp31451
g23
V571407
p31452
stp31453
a((dp31454
g2
(lp31455
VThere might be a more performant solution, but here's how I would start
p31456
aVI would create a shared TreeAccess object, with a  and an  method
p31457
aVThis method would have to enter a synchronized block which would loop until the path is available
p31458
aVAt each iteration, if not available, it would check if the path is available, and if not,  until some other thread calls
p31459
aVIf the path is available, then it would proceed, and when done, call the unlock() method which would
p31460
aVBefore proceeding, you have to store the locked path into some data structure
p31461
aVAnd before notifying, you have to remove the unlocked path from this data structure
p31462
aVTo check if a path is available, you need to find if there exist some path in this data structure that is equal or is an ancestor of the path you want to lock
p31463
as(dp31464
g23
V571407
p31465
stp31466
a((dp31467
g2
(lp31468
VIf you keep the  private to , there is no way any external object calls a setter on  directly
p31469
aVUse encapsulation, by not providing any accessor to the ageWriter, and use methods on  that delegate to the
p31470
aVYou could also use an observable/observer pattern (JavaBeans property change listeners) and add the HumanWriter as a listener to the AgeWriter
p31471
aVThis way, every property change on the ageWriter will trigger an event that will be sent to the HumanWriter
p31472
as(dp31473
g23
V571407
p31474
stp31475
a((dp31476
g2
(lp31477
VYou defined a constructor with no argument:
p31478
aVBut you're invoking a constructor which needs a String as argument:
p31479
aVSo, your constructor should have a String as argument:
p31480
aVAnd you should probably store this name as a field in the Student class:
p31481
aVNote that there is no way that a Student instance could be equal to a String instance
p31482
aVYou should provide a getter method for the name, and compare the entered String with the name of the student, instead of comparing it with the student itself
p31483
as(dp31484
g23
V571407
p31485
stp31486
a((dp31487
g2
(lp31488
VThe JPA 2 spec (page 139) defines the  and  functions to access the key and the value of a map-valued element collection:
p31489
as(dp31490
g23
V571407
p31491
stp31492
a((dp31493
g2
(lp31494
VFrom the documentation:
p31495
aVExpressions used in the where clause include the following:
p31496
ag7651
aVAny function or operator defined by EJB-QL 3
p31497
aV0: substring(), trim(),
p31498
aVlower(), upper(), length(), locate(), abs(), sqrt(), bit_length(),
p31499
aVmod()
p31500
as(dp31501
g23
V571407
p31502
stp31503
a((dp31504
g2
(lp31505
VCtrl T on a class name: quick type hierarchy
p31506
aVF4 on a class name: type hierarchy
p31507
aVOn a method name: Ctrl hover: a menu appears with "Open implementation"
p31508
as(dp31509
g23
V571407
p31510
stp31511
a((dp31512
g2
(lp31513
VHow about reading the documentation
p31514
aVhttp://docs
p31515
aVoracle
p31516
aVcom/javase/6/docs/api/java/awt/BorderLayout
p31517
aVhtml#BorderLayout%28int,%20int%29:
p31518
aVConstructs a border layout with the specified gaps between components
p31519
aVThe horizontal gap is specified by hgap and the vertical gap is
p31520
aVspecified by vgap
p31521
as(dp31522
g23
V571407
p31523
stp31524
a((dp31525
g2
(lp31526
VHibernate entities can't have associations to entities from another database
p31527
aVInstead of using separate databases, see
p31528
aVif you really need to do this
p31529
aVIf B is rarely used, letting it in the same DB won't do any harm
p31530
aVAnd if the database is too large, then buy a new hard disk: hardware is cheap
p31531
aVif the database can be clustered
p31532
aVProgramming with Hibernate "as if everything is already in memory" is a recipe for disaster
p31533
aVYou need to understand what Hibernate does behind the scene
p31534
as(dp31535
g23
V571407
p31536
stp31537
a((dp31538
g2
(lp31539
VYou may not declare a persistent collection as an
p31540
aVYou must use the interface instead:
p31541
aVHibernate needs to replace your actual collection by a Hibernate-specific collection (which implements List)
p31542
aVIt's a good practice in general to program to interfaces rather than implementations
p31543
aVWhen using Hibernate or JPA, it's madatory
p31544
as(dp31545
g23
V571407
p31546
stp31547
a((dp31548
g2
(lp31549
VThere is no way that an HTTP response goes to a browser if the corresponding HTTP request has not been sent by the browser, but an external Swing application
p31550
aVWhat you could do, is send the parameters from your swing app to your servlet, have the servlet store these parameters in memory or in a database or whatever, and have your swing app open a browser window to an URL of the same webapp that would display the parameters that have just been sent
p31551
aVBut you need two requests:
p31552
aVone from the swing app to send the parameters
p31553
aVone from the browser to display the parameters
p31554
as(dp31555
g23
V571407
p31556
stp31557
a((dp31558
g2
(lp31559
VIf the categories already exist, then you should not create new instances
p31560
aVYou should get them from the database, using the Hibernate session
p31561
aVIf you have the IDs of the categories you need to associate with a new project, and you don't want to issue a select query to get thosee categories from the database (because there is no way these categories aren't in database anymore), then simply use the  method:
p31562
as(dp31563
g23
V571407
p31564
stp31565
a((dp31566
g2
(lp31567
VThe  method you linked to is not a timeout on a query
p31568
aVIt's a timeout on the whole transaction
p31569
aVI fail to see how it's a client-side solution
p31570
aVI think you're looking for Query
p31571
aVsetTimeout()
p31572
as(dp31573
g23
V571407
p31574
stp31575
a((dp31576
g2
(lp31577
VThere is no way you can have multiple sessions simultaneously using a unique browser
p31578
aVEach time you create a new session, the session cookie which is used to track the current session is replaced by a new one
p31579
as(dp31580
g23
V571407
p31581
stp31582
a((dp31583
g2
(lp31584
VI think it's
p31585
aVoverengineering
p31586
aVbreaking encapsulation, by relying on an external aspect (that could or couldn't be there) to maintain invariants of the object
p31587
aVconfusing
p31588
aVnot efficient
p31589
aVnot adding any value
p31590
aVI like using Guava's Preconditions class for such checks
p31591
aVMoreover, such checks are part of the business logic, IMHO
p31592
as(dp31593
g23
V571407
p31594
stp31595
a((dp31596
g2
(lp31597
VAs with any generic method
p31598
aVEIther the type is deduced by the compiler (type inference):
p31599
aVor it's not, and you have to specify the type:
p31600
as(dp31601
g23
V571407
p31602
stp31603
a((dp31604
g2
(lp31605
VI think you just missed a select in your query:
p31606
as(dp31607
g23
V571407
p31608
stp31609
a((dp31610
g2
(lp31611
VJust don't throw an exception, then:
p31612
aVOr throw it, and catch it inside the loop, rather than outside (but I don't see the point in throwing an exception in this trivial example):
p31613
aVSide note: see how the code is much easier to read when it's indented properly, and contains white spaces around operators
p31614
as(dp31615
g23
V571407
p31616
stp31617
a((dp31618
g2
(lp31619
VThis is really not the job of JavaScript (which runs - or doesn't - in the browser) to prepare the data for the database query that is performed at server-side
p31620
aVNever trust any data that comes from the browser
p31621
aVAlways use prepared statements to bind the parameters of the query and make sure they're correctly escaped and quoted
p31622
as(dp31623
g23
V571407
p31624
stp31625
a((dp31626
g2
(lp31627
VIf your unit tests use the annotations to automatically create the database tables, then obviously the  attribute is taken into account: that's its purpose
p31628
aVSo if you have database-specific stuff, for another database than the one you're using, in the column definition, then obviously it won't work
p31629
aVIt looks like you want to define a foreign key constraint here
p31630
aVWhy don't you use a OneToOne or ManyToOne association then
p31631
as(dp31632
g23
V571407
p31633
stp31634
a((dp31635
g2
(lp31636
VThe two blocks are executed sequentially
p31637
aVEach block defines a new scope for local variables
p31638
aVSo you could have
p31639
aVin both blocks
p31640
as(dp31641
g23
V571407
p31642
stp31643
a((dp31644
g2
(lp31645
VLook at the javadoc
p31646
aVThe method  returns a
p31647
aVyou can't assume that the returned list is a
p31648
aVAnd there's a a very good chance that it won't be a Vector since nobody uses Vector anymore since JDK 1
p31649
ag12
aVYour method should return a , not a
p31650
aVEach row of the returned List is an
p31651
aVThat's defined by the JPA spec
p31652
aVAnd each cell element of the row is an object corresponding to the type of the field in your mapping
p31653
aVAFAIK, when you sum a field defined as a Long, you'll get a Long as result
p31654
aVIf you sum a field defined as a BigDecimal, you'll get a BigDecimal
p31655
aVis the result of calling  on the returned list
p31656
aVAll it tells you is that the list contains a single object, whose  is
p31657
aVThis means that the object is an array of objects, and that the hashCode of the array is
p31658
as(dp31659
g23
V571407
p31660
stp31661
a((dp31662
g2
(lp31663
VYou could just use a different session cookie name (or path, if possible) for your tomcatB
p31664
aVtomcatB would thus consider the JSESSIONID cookie as any other cookie, and not as a session cookie
p31665
aVSee http://tomcat
p31666
aVapache
p31667
aVorg/tomcat-7
p31668
aV0-doc/config/context
p31669
aVhtml
p31670
as(dp31671
g23
V571407
p31672
stp31673
a((dp31674
g2
(lp31675
VUse a , or (better IMHO),
p31676
aVtransform your Comment object into a JSON String (using one of the myriads of free Java JSON encoders available),
p31677
aVreturn that JSON String as a StreamingResolution
p31678
aVuse the native JSON functions in the browser (if you target recent browsers) or a JS library containing a JSON parsing function to transform the JSON string into a JavaScript object
p31679
as(dp31680
g23
V571407
p31681
stp31682
a((dp31683
g2
(lp31684
V0) I always use a select clause, because it allows telling what you want to select, and is mandatory in JPQL anyway
p31685
aVIf you want to select the managers with their projects, use
p31686
aVIf you don't use the distinct keyword, the list will contain n instances of each manager (n being the number of projects of the manager): Hibernate returns as many elements as there are rows in the result set
p31687
aV1) If you want to avoid the n + 1 problem, fetch the other association in the same query:
p31688
aVYou may also configure batch fetching to load 10 bosses (for example) at a time when the first boss is accessed
p31689
aVSearch for "batch fetching" in the reference doc
p31690
aV2) The whole Hibernate API is not generified
p31691
aVIt's been made on JDK 1
p31692
aV4, before generics
p31693
aVThat doesn't mean it isn't useful
p31694
aV3) No
p31695
aVHQL query parameters are, in the end, prepared statement parameters
p31696
aVYou must use String concatenation to do this
p31697
as(dp31698
g23
V571407
p31699
stp31700
a((dp31701
g2
(lp31702
VAt runtime, there is no maven anymore (thank God
p31703
aV, and there is no directory anymore
p31704
aVAll you have is a war file, and everything is either in the war file, or somewhere outside of the app, on the file system
p31705
aVUse  to load a file from the webapp's context
p31706
as(dp31707
g23
V571407
p31708
stp31709
a((dp31710
g2
(lp31711
VThe doc of Cipher
p31712
aVgetInstance() says:
p31713
aVNote that the list of registered providers may be retrieved via the
p31714
aVSecurity
p31715
aVgetProviders() method
p31716
aVClicking on the link leads to the doc of Provider, which has a method getServices() documented by :
p31717
aVGet an unmodifiable Set of all services supported by this Provider
p31718
aVAnd clicking on the link leads to the doc of Provider which has a getAlgorithm() method
p31719
aVNote that this is a very empirical method
p31720
aVA more logical method would be to read the documentation of the crypto libraries you're using
p31721
aVIt must contain the list of supported algorithms
p31722
aVWhatever the method you choose, reading the documentation helps a lot
p31723
as(dp31724
g23
V571407
p31725
stp31726
a((dp31727
g2
(lp31728
VA criteria created with  won't return employees
p31729
aVIt will return Departments
p31730
aVAnd an example query is used to retrieve entities which are the same as the example you pass as argument
p31731
aVBut, as the documentation says:
p31732
aVVersion properties, identifiers and associations are ignored
p31733
as(dp31734
g23
V571407
p31735
stp31736
a((dp31737
g2
(lp31738
VIf you're already in the user directory, you just need to use a relative URL:
p31739
aVIf you want to use an absolute URL, use , but don't include it in the attribute of another JSP tag: that's illegal
p31740
as(dp31741
g23
V571407
p31742
stp31743
a((dp31744
g2
(lp31745
VThat looks like a good strategy to me
p31746
aVThe alternative is to get the set of existing IDs, remove the IDs of this set that are not in the new set, and add the IDs that are in the new set but not in the old one
p31747
aVBut unless you need to keep some additional metadata on the association (time of creation, for example), the delete all and recreate approach is much simpler
p31748
as(dp31749
g23
V571407
p31750
stp31751
a((dp31752
g2
(lp31753
VNo, there isn't
p31754
aVYou'll need to compose your query dynamically
p31755
aVNo need to create all the combinations, though
p31756
aVJust appending an additional  to the query if the parameter is defined is OK
p31757
aVThere are APIs that do this for you
p31758
aVSee http://www
p31759
aVjooq
p31760
aVorg/ for example
p31761
as(dp31762
g23
V571407
p31763
stp31764
a((dp31765
g2
(lp31766
VIf a method returns something, then its return type must be this something:
p31767
aVor
p31768
aVor anything else wher you can store the results
p31769
aVBut Java is a statically typed OO language
p31770
aVA custom class is the way to go
p31771
as(dp31772
g23
V571407
p31773
stp31774
a((dp31775
g2
(lp31776
VThe main reason not to do that is that it makes it much harder to understand and maintain the code
p31777
aVWhatever the JVM optimizes, it won't compromise the correctness of the program
p31778
aVIf it can't do an optimization because the index is modified inside the loop, then it won't optimize it
p31779
aVI fail to see how a Java test could show if there is or not such an optimization
p31780
aVAnyway, Hotspot will optimize a whole lot of things for you
p31781
aVAnd your second example is a kind of explicit optimization that Hotspot will happily do for you
p31782
as(dp31783
g23
V571407
p31784
stp31785
a((dp31786
g2
(lp31787
VThe bean state is guaranteed to be saved to the database when the transaction is committed
p31788
aVUsually, the container will wait until commit time before saving the state, in order to avoid unnecessary updates in case the transaction rolls back, or in case the state is modified several times in a single transaction
p31789
aVThe spec also says that the container must make sure that modifications made to entity beans are visible by an EJBQL queryexecuted in the same transaction
p31790
aVThat means that the modifications are saved to the database before an EJBQL finder is executed
p31791
as(dp31792
g23
V571407
p31793
stp31794
a((dp31795
g2
(lp31796
VIterate over the enum values, and for each enum value, iterate over the maps (or vice-versa):
p31797
as(dp31798
g23
V571407
p31799
stp31800
a((dp31801
g2
(lp31802
VThere are several problems with your code:
p31803
aVthe rest_logger variable should not be static
p31804
aVyou shouldn't initialize it to a new BufferedWriter just to discard it afterwards and reinitialize it with the writer argument (that you have no control on)
p31805
aVyou shouldn't ignore exceptions
p31806
aVIf you don't know what to do with them, make your methods throw IOException and let the caller decide what to do
p31807
aVyou should not use finalizers
p31808
aVyou should not close a writer that you have not created
p31809
aVLet the opener of the writer close it
p31810
aVOther than that, and since your code doesn't make much sense, it's hard to understand what the code is supposed to do
p31811
as(dp31812
g23
V571407
p31813
stp31814
a((dp31815
g2
(lp31816
VIt's hard to discuss about a particular design without knowing which problem it's supposed to solve
p31817
aVAnyway, the principal problem with your design is that you can only have one listener
p31818
aVUsing  would allow easily supporting several ones, and would make the add/remove listener methods trivial to implement
p31819
aVAnother problem is that your listener methods don't take any event as parameter
p31820
aVThis makes it impossible for a single listener to listen to several  instances, because it can't use the event to detect the source of the event
p31821
as(dp31822
g23
V571407
p31823
stp31824
a((dp31825
g2
(lp31826
VUse a List (such as an ArrayList)
p31827
aVJava has a number of collections (List, Set, Map, Queue, etc
p31828
aV, with various implementations
p31829
aVLearn how to use them by reading the collections tutorial
p31830
as(dp31831
g23
V571407
p31832
stp31833
a((dp31834
g2
(lp31835
VUse a custom class that will start a thread which exits after 5 minutes, and starts the multicast test in the main thread:
p31836
as(dp31837
g23
V571407
p31838
stp31839
a((dp31840
g2
(lp31841
VDon't use Struts to configure a data source
p31842
aVStruts is a presentation framework
p31843
aVIt has nothing to do with databases
p31844
aVSee http://tomcat
p31845
aVapache
p31846
aVorg/tomcat-7
p31847
aV0-doc/jndi-datasource-examples-howto
p31848
aVhtml for how to declare and use a DataSource in an application deployed on Tomcat
p31849
as(dp31850
g23
V571407
p31851
stp31852
a((dp31853
g2
(lp31854
VBy using a SecretKeySpec:
p31855
as(dp31856
g23
V571407
p31857
stp31858
a((dp31859
g2
(lp31860
VDon't set the CLASSPATH variable, because it's global to all the Java programs
p31861
aVUse the  (or ) option when running java
p31862
aVSee http://docs
p31863
aVoracle
p31864
aVcom/javase/6/docs/technotes/tools/windows/classpath
p31865
aVhtml for details
p31866
as(dp31867
g23
V571407
p31868
stp31869
a((dp31870
g2
(lp31871
VNo, there's no reason
p31872
aVexpresses the intent more clearly, and should be preferred
p31873
aVPMD even has a rule for that
p31874
aVIt doesn't matter much, though
p31875
as(dp31876
g23
V571407
p31877
stp31878
a((dp31879
g2
(lp31880
VPart 1:
p31881
aVHibernate does the right thing
p31882
aVThe query cache is not per entity
p31883
aVThere is a single query cache region, shared by all queries, unless you set a specific region for a query
p31884
aVEach time a table is updated, its timestamp in the timestamps cache is updated
p31885
aVEach time a query is executed, the timestamp of each of the tables where the query searches is compared to the timestamp of the cached result
p31886
aVAnd of course, the cached result is returned only if itstimestamp is more recent than all the table timestamps
p31887
aVPart 2:
p31888
aVYes, it makes sense
p31889
aVThe cache for the author remembers that the author with ID 456 has the name "foo" and the birth date 1975/07/19
p31890
aVOnly the data stored in the author table is remembered
p31891
aVSo, caching the association  is also useful: instead of making an additional query to get the set of books of the author when calling , Hibernate will get the IDs of the books of the author from its cache, and then load each book from the second-level cache
p31892
aVMake sure to cache the Books, though
p31893
aVPart 3:
p31894
aVI can imagine several reasons:
p31895
aVthere are so many entities and they are so changing that the number of cache hits would be very low, and that the second-level cache handling would in fact consume more time and memory than a solution without cache
p31896
aVthe application is clustered, and the cost and complexity of a distributed second-level cache is too high, for a low gain
p31897
aVother non-hibernate applications write to the same database, and the cache has thus a big risk of returning stale data, which is not acceptable
p31898
aVeverything goes very well without a second-level cache, and there is no reason to make the application more complex than it is
p31899
as(dp31900
g23
V571407
p31901
stp31902
a((dp31903
g2
(lp31904
VYour JSP code is equivalent to:
p31905
aVIf you don't want to do plenty of other things, the code should be
p31906
aVSo it should look like that:
p31907
aVExcept that
p31908
aVyou shouldn't use scriptlets, but the JSP EL and the JSTL in JSP pages
p31909
aVsuch a logic shouldn't be in a JSP, which should only have to generate markup
p31910
aVIt should be in a servlet of action of your preferred MVC framework, which would redirect or dispatch to the JSP
p31911
as(dp31912
g23
V571407
p31913
stp31914
a((dp31915
g2
(lp31916
VThis looks like a job for Java-based container configuration
p31917
aVYou'll be able to do what you do in your XML config, but with all the power of Java
p31918
as(dp31919
g23
V571407
p31920
stp31921
a((dp31922
g2
(lp31923
VYou're indeed using the strategy pattern, but your implementation is buggy: the strategy inserts items in its private, different list from the list containing the strategy
p31924
aVThe Strategy interface should look like this:
p31925
aVThe concrete implementation should look like this:
p31926
aVAnd the executeStrategy method should be
p31927
aVAlso, the goal of the strategy pattern is to be able to customize the behavior of some object without modifying this object's class directly
p31928
aVI think your DoubleLInkedList class shouldn't have an  method
p31929
aVIt should just have an  method, and the concrete strategy should implement the reverse alphabetical order logic, and then call
p31930
aVI don't know what this method does, so I will give you another example
p31931
aVSuppose that you want to insert "nhoJ" to the list when "John" is passed to the  method
p31932
aVThis strategy could be called "ReverseStringInsertStrategy"
p31933
aVIts implementation would be:
p31934
aVNow suppose that you want to insert "JOHN" to the list when "John" is passed to the  method
p31935
aVThis strategy could be called "UppercaseStringInsertStrategy"
p31936
aVIts implementation would be:
p31937
as(dp31938
g23
V571407
p31939
stp31940
a((dp31941
g2
(lp31942
VYou could avoid using a static initializer block completely by using the following code:
p31943
aVor
p31944
aVif the API key creation requires more than just a constructor call
p31945
aVThat makes the code more readable, IMHO
p31946
aVBut it doesn't matter much
p31947
aVThe static initializer is useful when two static fields depend on the same initialization code:
p31948
aVBut even then, A and B could perhaps be refactored into a single object, which would be created in a single method
p31949
as(dp31950
g23
V571407
p31951
stp31952
a((dp31953
g2
(lp31954
VIt has a major flaw: it promotes a lack of encapsulation by making every component globally accessible
p31955
aVThis can lead very quickly to spaghetti code where every object uses any other object, instead of having a short list of dependencies providing encapsulated methods
p31956
aVAnother problem is with the implementation: the synchronization is unnecessary, since Swing components are not thread-safe, and may only be used from the event dispatch thread
p31957
aVYou should thus only have the EDT calling your methods, which makes synchronization unnecessary
p31958
aVFinally, a component may only have one parent component
p31959
aVIf the same compoentnmust be displayed in two different frames, for example, you'll need two instances of this component
p31960
as(dp31961
g23
V571407
p31962
stp31963
a((dp31964
g2
(lp31965
VCouldn't you execute, from ant, a script that executes the actual script using
p31966
aVSee pass password to su/sudo/ssh for how to pass the password from the command line
p31967
as(dp31968
g23
V571407
p31969
stp31970
a((dp31971
g2
(lp31972
VMake your ant script modify the Java source file containing the API key or a properties file bundled with the application, using the replace task or the copy task with a filterset
p31973
as(dp31974
g23
V571407
p31975
stp31976
a((dp31977
g2
(lp31978
VSpring MVC doesn't have tags for UI components that could be rendered differently
p31979
aVIt just has low-level tags to render form fields, and messages
p31980
aVIf you want specific pages for the mobile app, you'll have to tweak the CSS, and/or rewrite the pages
p31981
aVIt can help you with its support for themes, but you won't find any magic wand that converts an HTML page and give it mobile-friendly aspect
p31982
as(dp31983
g23
V571407
p31984
stp31985
a((dp31986
g2
(lp31987
VIsn't it the whole point of inheritance and overriding
p31988
aVBase class:
p31989
aVSubclass:
p31990
as(dp31991
g23
V571407
p31992
stp31993
a((dp31994
g2
(lp31995
VWhat's the URL of the page
p31996
aVThe one that appears in the location bar of your browser
p31997
aVThat is the URL to which relative locations are resolved in the HTML code
p31998
aVSo, if the URL is , and the URL of the CSS inside the HTML code is , the absolute URL where the browse will try to find the CSS will be , which doesn't make sense
p31999
aVI prefer always using absolute paths for images and CSS files (and other resources)
p32000
aVUsing JSTL, that makes it like
p32001
aVThe  tag takes care of prepending the application context () to the path
p32002
aVNote that relative paths inside CSS files are not resolved relative to the page URL, but relative to the location of the CSS file itself
p32003
aVSo the path in your CSS file is correct
p32004
as(dp32005
g23
V571407
p32006
stp32007
a((dp32008
g2
(lp32009
VThe documentation reveals that the syntax for getting the last insert ID is:
p32010
as(dp32011
g23
V571407
p32012
stp32013
a((dp32014
g2
(lp32015
VThe context
p32016
aVxml file must be in the META-INF directory of the war file
p32017
aVIt must not be in the classes directory or in a jar file
p32018
aVPut the META-INF directory with the context
p32019
aVxml in the directory containing the root of the webapp in your source folder tree
p32020
as(dp32021
g23
V571407
p32022
stp32023
a((dp32024
g2
(lp32025
VUsing an ArrayList to do that is inefficient because each time you remove an element from the list, all the other numbers in the list must be copied to the previous position
p32026
aVUsing a LinkedList could help, but it would be faster if you just used an array and put some marker value (-1 for example) at the indices that must be removed
p32027
aVIf you try with a LinkedList, make sure to never call the  method, though, but to use an iterator instead and remove the element using the Iterator's remove method
p32028
aVAlso, using a List forces to constantly transform from int to Integer and vice-versa
p32029
aVYou could also gain some time by setting the initial size of the ArrayList to the correct value
p32030
aVOtherwise, it forces it to make a copy of the internal array each time it has to expand
p32031
as(dp32032
g23
V571407
p32033
stp32034
a((dp32035
g2
(lp32036
VBecause Java has a pool of unique interned instances, and that String literals are stored in this pool
p32037
aVThis means that the first "hi" string literal is exactly the same String object as the second "hi" literal
p32038
as(dp32039
g23
V571407
p32040
stp32041
a((dp32042
g2
(lp32043
VRegarding the first question, the reference documentation says:
p32044
aVA org
p32045
aVhibernate
p32046
aVSession begins when the first call to
p32047
aVgetCurrentSession() is made for the current thread
p32048
aVIt is then bound
p32049
aVby Hibernate to the current thread
p32050
aVWhen the transaction ends, either
p32051
aVthrough commit or rollback, Hibernate automatically unbinds the
p32052
aVorg
p32053
aVhibernate
p32054
aVSession from the thread and closes it for you
p32055
aVRegarding your second question, the documentation says:
p32056
aVThe Interceptor interface provides callbacks from the session to the
p32057
aVapplication, allowing the application to inspect and/or manipulate
p32058
aVproperties of a persistent object before it is saved, updated, deleted
p32059
aVor loaded
p32060
aVOne possible use for this is to track auditing information
p32061
aVFor example, the following Interceptor automatically sets the
p32062
aVcreateTimestamp when an Auditable is created and updates the
p32063
aVlastUpdateTimestamp property when an Auditable is updated
p32064
aVRegarding the third question, Struts2 is a presentation framework
p32065
aVIt has nothing to do with persistence and thus caching of the persistent entities
p32066
aVThe documentation talks in details about the second-level cache
p32067
aVAs you see, the documentation has a whole lot of interesting information
p32068
aVI would advise reading it
p32069
as(dp32070
g23
V571407
p32071
stp32072
a((dp32073
g2
(lp32074
VA thread is an instance of
p32075
aVUse a  (rather than a List)
p32076
aVYou can access the current thread using
p32077
as(dp32078
g23
V571407
p32079
stp32080
a((dp32081
g2
(lp32082
VYou're not correct
p32083
aVWhen a request comes in, Struts tries to map the URL or the request with the path of an action
p32084
aVForwards are not used at this stage
p32085
aVWhen the action returns a forward name, Struts first looks for a forward with this name in the forwards of the action, and if not found, it looks in the global forwards
p32086
as(dp32087
g23
V571407
p32088
stp32089
a((dp32090
g2
(lp32091
VgetArray doesn't do what you think it does
p32092
aVHere's what the javadoc says:
p32093
aVRetrieves the value of the designated column in the current row of
p32094
aVthis ResultSet object as an Array object in the Java programming
p32095
aVlanguage
p32096
aVReturns: an Array object representing the SQL ARRAY value in the
p32097
aVspecified column
p32098
aV(emphasis mine)
p32099
aVYou must loop through the result set
p32100
aVThat's the only way
p32101
as(dp32102
g23
V571407
p32103
stp32104
a((dp32105
g2
(lp32106
VUsing setFileFilter():
p32107
aVWhy are you subclassing the file chooser, rather than just using it
p32108
aVAnd why aren't you respecting Java's naming conventions (methods start with a lower-case letter)
p32109
aVAnd why don't you respect Swing's threading policy, which say that Swing components must be used in the EDT only
p32110
as(dp32111
g23
V571407
p32112
stp32113
a((dp32114
g2
(lp32115
VYou probably
p32116
aVforgot to import the Article class in the JSP, using
p32117
aVforgot to cast the result of getAttribute() to an array of articles:
p32118
aVNote that you shouldn't have any Java code in a JSP
p32119
aVYou should use the JSP EL, the JSTL, and other custom tags
p32120
aVRead How to avoid Java Code in JSP-Files
p32121
as(dp32122
g23
V571407
p32123
stp32124
a((dp32125
g2
(lp32126
VYour Employer refers to an already existing user profile
p32127
aVIf it already exists, it is in the database
p32128
aVIf it is in the database, you must not create a new instance, but get it from the database
p32129
aVTo get something from the database, you use the  or  method (the second one doesn't even do any select statement)
p32130
aVSo, remove the  and  flags from your annotation (the association is insertable), and use code similar to the following one:
p32131
as(dp32132
g23
V571407
p32133
stp32134
a((dp32135
g2
(lp32136
VHere's the section of the Hibernate documentation which details how to map such a bidirectional one-to-one association using a foreign key
p32137
as(dp32138
g23
V571407
p32139
stp32140
a((dp32141
g2
(lp32142
VCreate a  containing the examiners, and a  containing the routes
p32143
aVShuffle the list of routes (using Collections
p32144
aVshuffle())
p32145
aVNow the examiner at index  is associated to a randomly chosen route at index
p32146
aVYou can of course create a class () containing the examiner and the corresponding route, and create an instance of this class for each pair
p32147
as(dp32148
g23
V571407
p32149
stp32150
a((dp32151
g2
(lp32152
VHibernate is not a database
p32153
aVIt's an ORM
p32154
aVStoring everything in memory wouldn't be a problem for such a small amount of data
p32155
as(dp32156
g23
V571407
p32157
stp32158
a((dp32159
g2
(lp32160
VThe persistence layer, if it's implemented using JPA or Hibernate, already has its own exceptions, which are runtime exceptions
p32161
aVThe service layer throws runtime exceptions when illegal arguments are passed (when they're supposed to be validated by the presentation layer), or checked exceptions when a recoverable error occurs (example: the chosen name already exists in database)
p32162
aVEach controller of the presentation layer deals with the checked exceptions thrown by the business services that it calls, to provide a meaningful error message and let the user recover from the error (example: re-display the form and ask the user to choose another name)
p32163
aVAll the other runtime exceptions, coming from the presentation layer, the business layer, or the persistence layer, are handled by one or several global exception handlers (most UI frameworks support them), which log the exception and throw a more or less generic error message (example: "Unexpected error occurred", "Some other user modified or removed the object you tried to modify")
p32164
as(dp32165
g23
V571407
p32166
stp32167
a((dp32168
g2
(lp32169
VYou can scroll to the results of a query, using the  (or ) method, rather than the  method
p32170
aVMake sure to regularly flush and clear the session, as explained in the hibernate documentation of batch updates
p32171
aVAlso, the inner query should at least have a where clause, as your pseudo-SQL query has one
p32172
aVThe two entities should probably be associated with OneToMany or OneToOne column, which would avoid the need for this inner query completely
p32173
aVI think the best thing to do would be to read the Hibernate documentation
p32174
as(dp32175
g23
V571407
p32176
stp32177
a((dp32178
g2
(lp32179
VFirst,  is not accessible from the outside
p32180
aVSecond, if you use , the browser will load images from the root of the web server, and not from the root of your web-app (which is deployed under a context path)
p32181
aVUse the JSTL  tag to generate absolute paths from the root of the web-app:
p32182
as(dp32183
g23
V571407
p32184
stp32185
a((dp32186
g2
(lp32187
VIf it's guarantteed that the name of each DataWise is unique in the list, use a , where the String key is the name of the DataWise
p32188
aVThis will lead to O(1) instead of O(n):
p32189
aVNote that a setter () should set the visits value to the value of the argument
p32190
aVIncrementing the number of visits is really counter-intuitive
p32191
aVThis is why I used an  method, which is much clearer
p32192
as(dp32193
g23
V571407
p32194
stp32195
a((dp32196
g2
(lp32197
VSpring itself makes sure to properly publish your beans once they have been instantiated, injected, etc
p32198
aVThis means that any thread having a reference to your singleton bean will at least see its state as it was at the end of the Spring context creation
p32199
aVIf the state is immutable, you don't have anything to do
p32200
aVIf the state of the singleton is mutable, you will have to properly synchronize the accesses to this mutable state, though
p32201
as(dp32202
g23
V571407
p32203
stp32204
a((dp32205
g2
(lp32206
VThe first one ensures that all the elements of the array are comparable with each other
p32207
aVThe second one only ensures that all the elements implement Comparable
p32208
aVYou may pass an array containing Integer, String and Date instances to the second method, but you can't with the first one
p32209
aVThe first one is much type-safer
p32210
as(dp32211
g23
V571407
p32212
stp32213
a((dp32214
g2
(lp32215
VYou could
p32216
aVcompute a cryptographic hash of the request
p32217
aVsee if the result already is in the database for this hash, and if so, return it
p32218
aVstore the hash in database with a "result pending" status
p32219
aVcall the web service and update the row in the database with the result
p32220
aVAt step 2, if the hash already is in the database, with the "result pending" status, you could poll the database every X milliseconds and finally return the result once it's there
p32221
aVThe devil is in the details, of course, because you would have to decide what you do in case an error occurs:
p32222
aVdo you return an error for all the subsequent identical requests
p32223
aVdo you cause the waiting threads to retry calling the web service
p32224
aVdo you return an error, but only for some time, and then retry
p32225
as(dp32226
g23
V571407
p32227
stp32228
a((dp32229
g2
(lp32230
VYour ResViewer needs to be annotated with , and the fields res1 and res2 must be annotated with , and with , as demonstrated in the javadoc of
p32231
as(dp32232
g23
V571407
p32233
stp32234
a((dp32235
g2
(lp32236
VYour code only resets the button which has been clicked :
p32237
aVYou need to iterate through all the buttons to reset:
p32238
aVThis code assumes that the buttons to reset are placed in a collection or array of buttons named
p32239
as(dp32240
g23
V571407
p32241
stp32242
a((dp32243
g2
(lp32244
VNo, you just need to make a join:
p32245
aVRead the Hibernate documentation on HQL, associations and joins
p32246
as(dp32247
g23
V571407
p32248
stp32249
a((dp32250
g2
(lp32251
VSee this line:
p32252
aVThe  attribute means that the set will be loaded lazily, when you access it:
p32253
aVThis is a must-know
p32254
aVRead the Hibernate documentation before using Hibernate, else your app will be a disaster
p32255
aVYou HAVE to understand how it works to avoid making mistakes
p32256
aVI stronly suggest you use annotations for your mapping rather than XML
p32257
aVIt's more standard, less verbose, and much easier to udnerstand
p32258
as(dp32259
g23
V571407
p32260
stp32261
a((dp32262
g2
(lp32263
VI don't know about OGNL, but the equivalent JSP EL expression to your line of Java code is not
p32264
aVIt's
p32265
aVlooks for a page/request/session/application attribute named "session"
p32266
as(dp32267
g23
V571407
p32268
stp32269
a((dp32270
g2
(lp32271
VI don't see why it wouldn't work, except if your application is clustered across several JVMs
p32272
aVIn this case, you'd better store the configuration in a central database or propagate the change to all the other JVMs using a JMS topic, for example
p32273
aVIf you want to make these system properties persistent after a restart, you'd bette store them in a database as well
p32274
as(dp32275
g23
V571407
p32276
stp32277
a((dp32278
g2
(lp32279
VThis is because the constructor of Animal is first called, where name is set to "dog", and then the constructor of Dog is called, where name is reset to null
p32280
aVTo make it clearer, your code is similar to the following:
p32281
aVThis is one of the reasons why calling an overridable method in a base class constructor is very bad practice
p32282
as(dp32283
g23
V571407
p32284
stp32285
a((dp32286
g2
(lp32287
VIf I understand correctly, you already have all your "external" persons in memory
p32288
aVI would create a  containing all your external persons indexed by name
p32289
aVI would then ask the  of this map to get the list of persons to get from the database
p32290
aVI would then execute the following query:
p32291
aVYou just has to make sure that the number of names isn't above the limit imposed by your database (1000 in Oracle)
p32292
aVIf so, you'll have to split the set into several subsets, and repeat the query for each subset
p32293
aVThen iterate over the query results
p32294
aVFor each person found, get its corresponding external person using the map or external persons, and update the score of the current person
p32295
aVThen remove the external person from the map
p32296
aVAt the end of the process, the map contains the external persons that don't exist in the database, and must be created
p32297
aVIf the set of persons is really hign, make sure to use  rather than  to iterate through the persons, and regularly flush and clear the session as explained in this section of the reference manual, to avoid memory problems
p32298
as(dp32299
g23
V571407
p32300
stp32301
a((dp32302
g2
(lp32303
VOr, if you don't have an association from business to clients (but you should have one):
p32304
as(dp32305
g23
V571407
p32306
stp32307
a((dp32308
g2
(lp32309
V is of type
p32310
aVAnd a  doesn't have a  field
p32311
aVThat's how I reason about those kind of queries
p32312
aVYou must the create an explicit join over the collection:
p32313
aVNote that this will produce a cartesian product, and thus petentially returns a huge number of rows
p32314
aVAlso note that it will only be possible if one of the two collections at least is a set
p32315
aVIf they're both bags, Hibernate will throw an exception when executing the query
p32316
as(dp32317
g23
V571407
p32318
stp32319
a((dp32320
g2
(lp32321
VA List is treated as a bag by default, and thus doesn't have a column for the index
p32322
aVThe order of the elements in the list is thus indeterminate by default
p32323
aVIf you need a specific order, you have to use the  annotation
p32324
as(dp32325
g23
V571407
p32326
stp32327
a((dp32328
g2
(lp32329
VThere is no clean way to stop a thread without this thread's collaboration
p32330
aVSo, if you need to stop as soon as possible, you'll have to check the stop flag ( in your example) as often as possible
p32331
aVBTW, the  flag should be , else your thread might never stop
p32332
as(dp32333
g23
V571407
p32334
stp32335
a((dp32336
g2
(lp32337
VAFAIK, this is not possible unless you store the OneToMany association and the target of the association in the second-level cache
p32338
aVThis of course has implications if these entities can be modified by another application, or if the application itself modifies these entities and is clustered across several JVMs
p32339
aVOtherwise, using the second-level cache for such entities is a very good solution
p32340
aVAnd you could then even avoid to load all the entities in each session, since they would be (lazily) pre-loaded in the cache already
p32341
as(dp32342
g23
V571407
p32343
stp32344
a((dp32345
g2
(lp32346
VYou can receive the T as a parameter of the constructor:
p32347
aVOr, if the goal of A is to really create new T instances, then take a factory of T as an argument:
p32348
aVcan be viewed as a , since it has a  method, that invokes the public no-arg constructor
p32349
aVBut a  could create new instances using something other than this constructor
p32350
as(dp32351
g23
V571407
p32352
stp32353
a((dp32354
g2
(lp32355
s(dp32356
g23
V571407
p32357
stp32358
a((dp32359
g2
(lp32360
VIf you're like me an don't master ByteBuffer, to complement Jon's answer, you could also create your own OutputStream implementation wrapping your byte array, and use an  to write the String to this custom
p32361
as(dp32362
g23
V571407
p32363
stp32364
a((dp32365
g2
(lp32366
VI wouldn't do it like this
p32367
aVIndeed, there is a good chance that the ServiceClassA depends on some specific method of DaoClassA
p32368
aVIn this case, you would have to cast the protected AbstractDAO to DaoClassA each time you want to call such a specific method
p32369
aVI would make it generic, and reverse the way the dependencies are injected:
p32370
as(dp32371
g23
V571407
p32372
stp32373
a((dp32374
g2
(lp32375
VI personally use , ,  and
p32376
aVYou might argue that the  suffix is noise, but
p32377
aVthere's typically only one implementation, so there's no  and
p32378
aVthe concrete  types are used nowhere in the code except in unit tests: dependencies are injected, and their type is the interface
p32379
as(dp32380
g23
V571407
p32381
stp32382
a((dp32383
g2
(lp32384
VThis is normally the role of the  method: it creates and returns a proxy to the entity having the given class and ID, without hitting the database:
p32385
aVI have no experience with EclipseLink though, so I don't know when exactly is this query executed
p32386
as(dp32387
g23
V571407
p32388
stp32389
a((dp32390
g2
(lp32391
VYes you can, using the EasyMock Class Extension library
p32392
aVLook for "Partial mocking" in the documentation of EasyMock
p32393
aVThe idea is to mock only one (or some) of the methods of an object, and test the methods that depend on the mocked method
p32394
as(dp32395
g23
V571407
p32396
stp32397
a((dp32398
g2
(lp32399
VBy interdependent, I hope you don't mean that you have circular dependencies
p32400
aVThis would be a big NO
p32401
aVIf your dependencies are not cyclic, then I don't see any problem
p32402
aVYou'll need all those jars in the runtime classpath anyway to run the program
p32403
aVWhat you might want to avoid is to have some direct dependencies in the code of project A to a library "old_library_still_needed_by_project_B_but_that_should_not_be_used_anymore
p32404
aVjar" used by project B, but there are static Java code analysis tools for this (which can check the some classes or packages are never used inside a project source code), like CheckStyle and PMD
p32405
as(dp32406
g23
V571407
p32407
stp32408
a((dp32409
g2
(lp32410
VIt is collapsible:
p32411
aVIMHO, this check can be useful sometimes, but should be ignored in some other cases
p32412
aVThe key is to have code as readable as possible
p32413
aVIf you feel that your code is more readable than a collapsed if statement, then add a  annotation
p32414
as(dp32415
g23
V571407
p32416
stp32417
a((dp32418
g2
(lp32419
VYou classes are incorrect
p32420
aVThe B class should have a field of type A, but not have an  field
p32421
aVRead the Hibernate documentation on unidirectional OneToOne associations, since this is what you have
p32422
aVYour requirements indicate that you should cascade all operations from B to A, and that this association should be eagerly fetched (with )
p32423
as(dp32424
g23
V571407
p32425
stp32426
a((dp32427
g2
(lp32428
VCacheProvider is a legacy, deprecated way of defining which second-level cache implementation to use, as indicated in its javadoc
p32429
aVThe new way is to use a region factory
p32430
aVSee http://docs
p32431
aVjboss
p32432
aVorg/hibernate/core/3
p32433
aV6/javadocs/org/hibernate/cache/package-summary
p32434
aVhtml for details
p32435
as(dp32436
g23
V571407
p32437
stp32438
a((dp32439
g2
(lp32440
V associations can't be cached
p32441
aVHowever, in most of the cases, a XxxToOne association is mapped using a foreign key that is in the table mapped by the entity itself
p32442
aVSo, the association is already cached as part of the entity itself
p32443
aVIt could only be useful in the case of a ManyToOne using a join table (very rare), or in case of the inverse side of a OneToOne association (where the foreign key is in the other table)
p32444
aVI don't know if Hibernate uses the cache of the associated entity in this case, but it could
p32445
as(dp32446
g23
V571407
p32447
stp32448
a((dp32449
g2
(lp32450
VRemove  from your XML file
p32451
aVIn this case, only annotations will be used to wire the beans, and thus only setters marked with  will be called by Spring
p32452
as(dp32453
g23
V571407
p32454
stp32455
a((dp32456
g2
(lp32457
VThe best reason is robustness
p32458
aVA lock must be released, and forgetting to do it, or not doing it properly (in a finally block) can have disastrous effects
p32459
aVSince synchronized protects a whole block of code or a method, and automatically releases the lock when the block or method ends, using it is safer and leads to less programming errors
p32460
as(dp32461
g23
V571407
p32462
stp32463
a((dp32464
g2
(lp32465
VYou probably have two incompatible versions of libraries in your classpath (i
p32466
ag468
aVthe xhtmlrenderer library probably expects a version of the lowagie library that is not the one you're using)
p32467
as(dp32468
g23
V571407
p32469
stp32470
a((dp32471
g2
(lp32472
VIf I understand correctly, you have two files with the same name (and package) in two jars in the classpath, and hope that the ClassLoader will load both
p32473
aVThere is no way for this to work: when the ClassLoader is asked to load a resource by name, it scans all the jars and directories in its classpath, in order, and returns the first resource found with this name
p32474
aVYou have to name your context files with a different name (or package), and load them both
p32475
aVIf you want both sessions to be opened in view, you will also have to declare two different filters
p32476
as(dp32477
g23
V571407
p32478
stp32479
a((dp32480
g2
(lp32481
VYes
p32482
aVIf the join table contains something other than the foreign keys to the joined tables, you need to map this table as an entity as well
p32483
as(dp32484
g23
V571407
p32485
stp32486
a((dp32487
g2
(lp32488
VThe Robot class has everything you need:
p32489
aVmouseMove to move the mouse to a given coordinate
p32490
aVmousePress and mouseRelease to click
p32491
aVdelay to sleep
p32492
as(dp32493
g23
V571407
p32494
stp32495
a((dp32496
g2
(lp32497
VThe key to make it correct is precisely to make the get/increment/set an atomic operation
p32498
aVInstead of the  method, there should be a synchronized  method
p32499
aVYou could also avoid the synchronization completely by using an AtomicInteger and use its  method inside the  method
p32500
aVNote that the instruction  is completely unnecessary
p32501
aVThe class should have a private constructor to prevent such unnecessary instantiations
p32502
as(dp32503
g23
V571407
p32504
stp32505
a((dp32506
g2
(lp32507
VYou have two queries there
p32508
aVYou should execute the first one with , and then execute the second one with
p32509
as(dp32510
g23
V571407
p32511
stp32512
a((dp32513
g2
(lp32514
VYou just need to create a SecretKeySpec instance:
p32515
aVJust make sure to pass a byte array with the appropriate number of bytes (16 for AES-128)
p32516
as(dp32517
g23
V571407
p32518
stp32519
a((dp32520
g2
(lp32521
VPut your operators in an array (4 elements), generate a random integer from 0 to 3, and pick the operator that is at this index in the array
p32522
aVDo that each time you need to have a random operator, i
p32523
ag468
aVafter every number of your question except the last one
p32524
as(dp32525
g23
V571407
p32526
stp32527
a((dp32528
g2
(lp32529
VYou have to decide if you want optimistic locking or not
p32530
aVIf you want to update the database with what the client sends, regardless of potential concurrent updates between the time he got the object and the time he updates it, then that means that you don't want optimistic locking, and there shouldn't be a version field in the entity
p32531
aVIf you want optimistic locking, then the version should be part of the merged entity
p32532
aVThat's how the mechanism works: it checks if the saved version number is the same as the passed version number
p32533
aVSo if you always pass 0, obviously, it will never work
p32534
aVThe easiest way is of course to make it part of the JSON object sent to and by the client
p32535
aVYou could also imagine storing the version of a given entity (sent to a client for future update, so the key would be clientId-entityId) in some in-memory or in-database table, but it would be more difficult to implement
p32536
as(dp32537
g23
V571407
p32538
stp32539
a((dp32540
g2
(lp32541
VBecause you didn't understand how a bidirectional OneToOne is mapped
p32542
aVYou don't need two foreign keys
p32543
aVA single one is sufficient to perform a join between both tables, in both directions:
p32544
aVThe fact that the association is unidirectional or bidirectional doesn't change how the tables are linked together
p32545
aVIt just changes the mapping, and allows navigating through the association in both directions
p32546
aVIn a bidirectional association, you always have an owning side (which tells how the association is mapped, using which join column), and an inverse side, where you just say: I'm the other side of the association that is mapped by this field (the field in the  attribute value) in the target entity
p32547
as(dp32548
g23
V571407
p32549
stp32550
a((dp32551
g2
(lp32552
VIs your exception a runtime exception or a checked exception
p32553
aVSpring rollbacks by default if a runtime exception is thrown, and commits by default if a checked exception is thrown
p32554
aVFrom the stack trace, it seems that your exception is a checked exception, so Spring tries to commit, but can't because the JTA TM (Atomikos) refuses to commit (because of a timeout, for example)
p32555
aVSo, if you want this exception to cause a rollback, make it a runtime exception or declare it in the  attribute of the @Transactional annotation
p32556
aVIf it must not cause a rollback, then try to discover why Atomikos refuses to commit (too short timeout, something else
p32557
aVthe logs could help)
p32558
as(dp32559
g23
V571407
p32560
stp32561
a((dp32562
g2
(lp32563
VYou make the base class generic:
p32564
aVand the subclass parameterized with the derived class:
p32565
aVWithout generics, it's not possible because B would break the contract of A: A accepts any kind of BaseClass, but you retrict B to only accept a specific subclass
p32566
aVThis does not respect the Liskov principle
p32567
as(dp32568
g23
V571407
p32569
stp32570
a((dp32571
g2
(lp32572
VHibernate doesn't use equals and hashCode to know if an entity is already persistent or not
p32573
aVIf the entity has an ID, it is persistent
p32574
aVElse, it's new
p32575
aVAnd two entities are the same if they have the same ID
p32576
aVThe equals method is only used to compare two detached entities, or to compare a detached entities with an attached one, in your code (and not in the Hibernate code)
p32577
aVYou also need equals and hashCode if the entities are stored in a Set
p32578
aVIf you really need to have an equals and hashCode method, using the collection of children entities to implement them is a very bad idea
p32579
aVNot only do you need to load half of the database to be able to call them, but as soon as you add an ingredient to a dish, its hashCode changes, which "corrupts" the set where it's stored
p32580
aVYou should use a non-nullable immutable unique functional field of the entity to implement equals and hashCode (the restaurant's name, the dish name, the nutrient's name)
p32581
aVAnd definitely use surrogate identifiers
p32582
aVIf you don't have such a field, you can use the ID
p32583
aVBut just make sure to have it generated before storing the entity in a Set
p32584
as(dp32585
g23
V571407
p32586
stp32587
a((dp32588
g2
(lp32589
VJust use  and type  in the goal field
p32590
as(dp32591
g23
V571407
p32592
stp32593
a((dp32594
g2
(lp32595
VThe best practice is to fix the bug, and make it impossible to have an exception thrown when generating the HTML markup
p32596
aVIf you follow the MVC principles, every task that could generate an exception (validation, business calls, database calls) should be done from the action, before dispatching to the view
p32597
aVThe view should just have to generate markup and get the information to display from beans stored in the request
p32598
aVThis should never throw any exception, unless there is a bug in the code
p32599
as(dp32600
g23
V571407
p32601
stp32602
a((dp32603
g2
(lp32604
VIf this object is dedicated to the JTree, and is not used anywhere else, the easiest way is to override the  method and return the name from this method:
p32605
aVIf you want a different toString() method, that could be used to provide more information when debugging for example, then set a custom  to the tree
p32606
aVThis custom could just extend DefaultTreeCellRenderer, and override the following method:
p32607
aVEDIT:
p32608
aVA third solution, as mentioned by aterai in the comments, is to subclass JTree and to override the  method, that the default renderer calls
p32609
aVSee http://docs
p32610
aVoracle
p32611
aVcom/javase/tutorial/uiswing/components/tree
p32612
aVhtml for more details about trees
p32613
as(dp32614
g23
V571407
p32615
stp32616
a((dp32617
g2
(lp32618
VWhy wouldn't they garbage collected
p32619
aVThe GC doesn't care about the type of an object
p32620
aVIf it's unreachable, it's GCed
p32621
aVIf it's reachable, it's not GCed
p32622
as(dp32623
g23
V571407
p32624
stp32625
a((dp32626
g2
(lp32627
VWhen  is used to compare references to objects, it returns true only if both references point to the same object
p32628
aVIn the first case, you have two different objects
p32629
aVIn the second case, you're not comparing objects, but primitive types
p32630
aVIn the third case, the  object is unboxed to its primitive  value to be compared with the primitive value, so two primitive values are compared
p32631
aVYou should never use  to compare objects, except for enums
p32632
aVAlways use
p32633
as(dp32634
g23
V571407
p32635
stp32636
a((dp32637
g2
(lp32638
VOf course they will be different
p32639
aVThe following query does the following thing:
p32640
aVTake b1, which is a byte array, and call its  method
p32641
aVThis results in a String like [B@8976876, which means "an object of type byte array with hashCode 8976876", but doesn't represent the contents of the byte array at all
p32642
aVThen insert this string in the table
p32643
aVA byte array is not a String
p32644
aVEnd of story
p32645
aVYou must use a prepared statement to insert binary data in a table
p32646
aVIn fact, you should always use a prepared statement to execute any query that has a non-constant parameter
p32647
as(dp32648
g23
V571407
p32649
stp32650
a((dp32651
g2
(lp32652
VDon't use low-level thread methods to do that
p32653
aVHave a  thread pool, and submit  instances (implementing  or ) to this pool
p32654
aVAt the end of the DownloadTask's code, submit the a PostProcessPageTask instance (once again implementing implementing  or ) to a second  thread pool
p32655
aVYou could use one or two CountDownLatch instances that every task would decrement when finished, and have the main thread awaiting on this (or these) latches to know when the thread pools must be shut down
p32656
aVSee http://docs
p32657
aVoracle
p32658
aVcom/javase/6/docs/api/java/util/concurrent/Executors
p32659
aVhtml and docs
p32660
aVoracle
p32661
aVcom/javase/6/docs/api/java/util/concurrent/CountDownLatch
p32662
aVhtml for more information
p32663
as(dp32664
g23
V571407
p32665
stp32666
a((dp32667
g2
(lp32668
VThat is because you're using a relative file path in your program:
p32669
aVmeans: find the  file in the directory  of the current directory
p32670
aVUse an absolute file path, or use a startup script that makes sure that the program is always executed from the same directory
p32671
aVSide note: you should always put your classes in a package, and never put them in the default package
p32672
as(dp32673
g23
V571407
p32674
stp32675
a((dp32676
g2
(lp32677
VYour last snippet of Java code doesn't compile
p32678
aVI guess it looks like
p32679
aVDon't do the last instruction
p32680
aVInstead of replacing the set by another one, clear the set and add the new children to the cleared set:
p32681
aVwhere the methods are defined as:
p32682
aVThe setChildren method should be removed completely, or it should be replaced with the following implementation:
p32683
as(dp32684
g23
V571407
p32685
stp32686
a((dp32687
g2
(lp32688
VAn exception thrown by Hibernate is not recoverable
p32689
aVThe only thing you should ever do when such an exception occurs is rollback the transaction and close the session
p32690
aVThe state of the session (and its entities) after such an exception is unstable
p32691
aVIf you want to keep a copy of the element untouched, use  rather than , or clone the element before persisting it
p32692
aVNote that the exception is expected, since when Hibernate persists and flushes the entity, it starts by generating an ID and assigning the ID to the entity, then inserts the row, which causes the exception
p32693
aVSo, after the exception, the entity has an ID assigned, and is thus considered as a detached entity by Hibernate
p32694
aVYou could try resetting the ID to null and see if it works, but I would prefer cloning the entity before or using merge
p32695
as(dp32696
g23
V571407
p32697
stp32698
a((dp32699
g2
(lp32700
VSee http://svnbook
p32701
aVred-bean
p32702
aVcom/en/1
p32703
aV7/svn-book
p32704
aVhtml#svn
p32705
aVbranchmerge
p32706
aVbasicmerging
p32707
aVundo for how to do it with the svn command line:
p32708
aVAn extremely common use for svn merge is to roll back a change that
p32709
aVhas already been committed
p32710
aVSuppose you're working away happily on a
p32711
aVworking copy of /calc/trunk, and you discover that the change made way
p32712
aVback in revision 303, which changed integer
p32713
aVc, is completely wrong
p32714
aVIt
p32715
aVnever should have been committed
p32716
aVYou can use svn merge to \u201cundo\u201d the
p32717
aVchange in your working copy, and then commit the local modification to
p32718
aVthe repository
p32719
aVAll you need to do is to specify a reverse difference
p32720
aV(You can do this by specifying --revision 303:302, or by an equivalent
p32721
aV--change -303
p32722
aVI don't know about Ankhsvn, but in Tortoisesvn, you may show the log of a given directory or file, select one of the revision, right-click and select Revert to this revision or Revert changes done in this revision
p32723
aVMaybe something similar exists in Ankhsvn
p32724
as(dp32725
g23
V571407
p32726
stp32727
a((dp32728
g2
(lp32729
VYou need to use the generated metamodel to access the attributes is a really safe way
p32730
aVIf you use Strings to refer to your attributes, types can only be deduced from the explicit generic type used when calling the method, or by a type cast, or by the automatic type inference done by the compiler:
p32731
as(dp32732
g23
V571407
p32733
stp32734
a((dp32735
g2
(lp32736
VWhen you're doing a redirect to , by definition, the browser will send a new request to the URL  of your web app
p32737
aVYou will see the complete URL in the address bar of your browser
p32738
aVIf this URL is not mapped to any servlet in your web app, you will obviously get a 404 error
p32739
aVYou need to understand that the point of a redirect is not to dispatch to a view (a JSP)
p32740
aVThe point is to make the browser go to another URL in your web app
p32741
aVThe path you put after the  prefix is thus supposed to be the path of an action of your Spring MVC app
p32742
aVNot the path of a view
p32743
as(dp32744
g23
V571407
p32745
stp32746
a((dp32747
g2
(lp32748
VThe main goal of dependency injection is to make unit testing easy by allowing to do
p32749
aVor
p32750
aVThe second way of injecting dependencies makes it impossible to do the abover
p32751
aVYou can only test it by letting Guice create the service and inject a mock dependency, or by using reflection to set the mock dependency
p32752
as(dp32753
g23
V571407
p32754
stp32755
a((dp32756
g2
(lp32757
VYour expectations are wrong
p32758
aVAs its name and documentation indicates,  executes is body if the value is present in the request
p32759
aVWhether the attribute is an ampty list of not is irrelevant: the attribute is present, son the body is executed
p32760
aVYou should use the  tag instead or, even better, forget about these obsolete logic tags and use the JSTL  tag instead:
p32761
as(dp32762
g23
V571407
p32763
stp32764
a((dp32765
g2
(lp32766
VYou don't check that  is not null before calling its  method, and that probably throws a NullpointerException for non-authenticated users
p32767
aVExamining the logs and/or executing this code through a debugger would confirm it
p32768
aVImportant note: relying on the presence and value of a cookie to know if someone is authenticated is very dangerous: any script kiddie is able to send such a cookie with its requests, without the need to go through your authentication procedure
p32769
aVDon't rely on data coming from the client to know if a user is authenticated
p32770
aVStore an authenticated flag in the HTTP session, which stays at server-side
p32771
aVSide note: your Java code should be indented to be much more readable, and it shouldn't be in a JSP
p32772
aVScriptlets should not be used anymore
p32773
aVSee How to avoid Java Code in JSP-Files
p32774
as(dp32775
g23
V571407
p32776
stp32777
a((dp32778
g2
(lp32779
VHave you read the javadoc of Collections
p32780
aVaddAll()
p32781
aVIts signature is
p32782
aVThis means that the second argument is a varargs
p32783
aVYou may thus pass an array of Characters, or individual Character instances:
p32784
aVBut a  is an invalid type for the second argument
p32785
aVA good way to know is to actually read the compiler error message
p32786
aVUsually, they're much more informative than "it doesn't work"
p32787
aVAnd another problem is that the lists returned by  have a fixed size
p32788
aVYou can't add anything to them
p32789
as(dp32790
g23
V571407
p32791
stp32792
a((dp32793
g2
(lp32794
VThe protocol to communicate with the DB is database dependant
p32795
aVThe JDBC driver takes care of communicating with the DB for you
p32796
aVThe URL of the database is also database dependant, and contains the information necessary for the driver to connect to the database server
p32797
aVUsing web services on the DB server is definitely a bad idea:
p32798
aVit would forbid the use of transactions in the Java EE application
p32799
aVyou wouldn't be able to scroll to results without loading them all in memory
p32800
aVit would be horribly slow
p32801
aVthe web service on the DB server would still communicate with the same native protocol with the database server
p32802
aVRead the JDBC tutorial for more information
p32803
as(dp32804
g23
V571407
p32805
stp32806
a((dp32807
g2
(lp32808
VYour question is very confusing
p32809
aVIt what you want is to copy the contents of a Map to another Map, use the putAll method
p32810
aVor the copy constructor directly:
p32811
as(dp32812
g23
V571407
p32813
stp32814
a((dp32815
g2
(lp32816
VIf you're writing two lines on one side, you should obviously read two lines on the other side:
p32817
as(dp32818
g23
V571407
p32819
stp32820
a((dp32821
g2
(lp32822
VSuppose you have a class Fruit, with two subclasses Orange and Banana
p32823
aVAnd suppose that Fruit has a  method
p32824
aVOrange can override the  method to return "orange"
p32825
aVSame for Banana, which can have it return "yellow"
p32826
aVWhen some method uses an object of type Fruit, and call the  method, the method that will be called is  if the type of the Fruit is in fact Banana
p32827
as(dp32828
g23
V571407
p32829
stp32830
a((dp32831
g2
(lp32832
VStore all your records in a , sort the list using , then iterate through the list and write each record to the file
p32833
aVOr read each record as you're doing now
p32834
aVAt each iteration, if the new record has not been written yet, compare the current record to the new one and, if bigger than the new record, write the new record, then write the current record
p32835
aVAt the end of the loop, if the new record has not been written yet, write it
p32836
as(dp32837
g23
V571407
p32838
stp32839
a((dp32840
g2
(lp32841
VDuh
p32842
aVWith :
p32843
as(dp32844
g23
V571407
p32845
stp32846
a((dp32847
g2
(lp32848
VCharacter is a standard class in the  package, which is auto-imported in every class
p32849
aVChoose another name for your custom class
p32850
as(dp32851
g23
V571407
p32852
stp32853
a((dp32854
g2
(lp32855
VThe spec (2
p32856
aV4) says:
p32857
aVThe Web application class loader must load classes from the
p32858
aVWEB-INF/classes directory first, and then from library JARs in the
p32859
aVWEB-INF/lib directory
p32860
aVSo if Tomcat loads from the jar first, it's not compliant with the spec
p32861
aVIts documentation says:
p32862
aVTherefore, from the perspective of a web application, class or
p32863
aVresource loading looks in the following repositories, in this order:
p32864
aVBootstrap classes of your JVM
p32865
aVSystem class loader classes (described above)
p32866
aV/WEB-INF/classes of your web application
p32867
aV/WEB-INF/lib/*
p32868
aVjar of your web application
p32869
aVCommon class loader classes (described above)
p32870
aVSo I'm surprised you're seeing such a behavior
p32871
aVIf you're absolutely sure that the class is not in some jar in Tomcat's own classpath, file a bug report
p32872
aVBefore doing that, also make sure to clear Tomcat's work directory, or even to start from a fresh install of Tomcat
p32873
aVThe workaround is of course to repackage the jar file to include your modified class instead of relying on the classloading order
p32874
as(dp32875
g23
V571407
p32876
stp32877
a((dp32878
g2
(lp32879
VYes, it's expected behavior
p32880
aVIf you ask for a JSP, you get a JSP
p32881
aVThe solutions:
p32882
aVdon't include any link to any JSP in the web app
p32883
aVstore the JSPs under /WEB-INF
p32884
aVmap the Spring servlet to  (but then it will also be invoked for images, CSS files, etc
p32885
aVYou'll have to use mvc:resources to handle this situation)
p32886
as(dp32887
g23
V571407
p32888
stp32889
a((dp32890
g2
(lp32891
VThere is no way, other than rejecting the request if it doesn't contain a previously generated random one-time token in the parameters (that would be stored in the session, for example)
p32892
as(dp32893
g23
V571407
p32894
stp32895
a((dp32896
g2
(lp32897
VAn ArrayList is generally faster than a LinkedList
p32898
aVIf you don't specify an appropriate size, each time the capacity is exhausted, it will have to reassign a new array (with the double size) and copy the elements to a new array, though
p32899
aVYou could use a LinkedList to avoid this cost, but the average time will probably be bigger
p32900
aVWhatever the collection you use, if you don't have enough memory, the GC will trigger, which could also introduce some delay
p32901
aVAn "unknown amount", without any limit, is impossible to store in any in-memory collection
p32902
aVIf "unknown" can be very very large and forbid the usage of an in-memory collection, you'll have to us a file or a database
p32903
as(dp32904
g23
V571407
p32905
stp32906
a((dp32907
g2
(lp32908
VNo
p32909
aVThe copy method has a reference to the immutable bitmap while copying it to the mutable one
p32910
aVThis reference is called
p32911
aVSo you still have a reference to both bitmaps at the same time
p32912
aVThe  object that you can pass to the BitMapFactory  method has an  option, though, which would avoid the immutable bitmap completely
p32913
as(dp32914
g23
V571407
p32915
stp32916
a((dp32917
g2
(lp32918
VCreate a class containing these two properties, and return an instance of this class
p32919
as(dp32920
g23
V571407
p32921
stp32922
a((dp32923
g2
(lp32924
VIf you're allowed to use generated code, the teacher should understand that this code is not generated by you, but by the IDE, and shouldn't care that it doesn't respect the formatting rules
p32925
aVIf he doesn't understand it, then let Netbeans generate the code, and then edit it using any text editor before giving it to the teacher
p32926
aVIf I were your teacher, I wouldn't allow the use of Netbeans's wysiwig editor, though
p32927
aVYou learn how to use Swing (and use it properly) by hand-crafting the code, not by dragging and dropping Swing components
p32928
as(dp32929
g23
V571407
p32930
stp32931
a((dp32932
g2
(lp32933
VIf two roles may have the same privilege, then it's not a OneToMany anymore, but a ManyToMany
p32934
aVSo start by changing the mapping of the  collection
p32935
aVThen show us the code which adds P1 to the set of privileges of R2
p32936
aVI suspect that you're creating a new Privilege instance, instead of getting P1 from the session
p32937
as(dp32938
g23
V571407
p32939
stp32940
a((dp32941
g2
(lp32942
VIf  is in , then you have to use this path when incuding it:
p32943
as(dp32944
g23
V571407
p32945
stp32946
a((dp32947
g2
(lp32948
VFirst of all, an interface may not define fields, but only methods
p32949
aVThe fields you have declared in the interface are in fact public static final constants
p32950
aVAfter, the Categories entity has a CategoriesLangInt field, but Hibernate has no way to know which entity this field represents, since there might be several entities implementing this interface
p32951
aVYou must use the  attribute of the OneToOne annotation to tell Hibernate which entity is referenced
p32952
aVFinally, the  column in CategoriesLang is mapped twice: once as an ID, and once as a JoinColumn
p32953
aVYou must either remove the  field and annotate the  field with @Id, or leave  field as it is and add the @MapsId annotation to
p32954
aVSide note: you should respect the Java naming conventions (no underscore in fields and methods), and rename Categories to Category, CategoriesLang to CategoryLang, etc
p32955
as(dp32956
g23
V571407
p32957
stp32958
a((dp32959
g2
(lp32960
VWhy couldn't you
p32961
aVJavaScript is executed at client-side, and doesn't care if the HTML code has been generated by a JSP, a PHP script, or anything else
p32962
as(dp32963
g23
V571407
p32964
stp32965
a((dp32966
g2
(lp32967
VList, Map and String have a common ancestor class:
p32968
aVcan thus be an Object
p32969
aVYou could also wrap the result and its type into a  object, that would provide methods such as , ,  and
p32970
aVThese last three methods would throw an IllegalStateException if the type of the value is not the type returned by the method
p32971
as(dp32972
g23
V571407
p32973
stp32974
a((dp32975
g2
(lp32976
VHere's what Java Concurrency in Practice says about the subject:
p32977
aVThe JVM can implement blocking either via spin-waiting (repeatedly
p32978
aVtrying to acquire the lock until it succeeds) or bysuspending the
p32979
aVblocked thread through the operating system
p32980
aVWhich is more efficient
p32981
aVdepends on the relationship between context switch overhead and the
p32982
aVtime until the lock becomes available; spin-waiting is preferable for
p32983
aVshort waits and suspension is preferable for long waits
p32984
aVSome JVMs
p32985
aVchoose between the two adaptively based on profiling data of past wait
p32986
aVtimes, but most just suspend threads waiting for a lock
p32987
aVAnd also (which is, IMO, the most important point):
p32988
aVDon't worry excessively about the cost of uncontended synchronization
p32989
aVThe basic mechanism is already quite fast, and JVMs can perform
p32990
aVadditional optimizations that further reduce or eliminate the cost
p32991
aVInstead, focus optimization efforts on areas where lock contention
p32992
aVactually occurs
p32993
as(dp32994
g23
V571407
p32995
stp32996
a((dp32997
g2
(lp32998
VHere's a quote from the Swing tutorial about GridLayout:
p32999
aVA GridLayout object places components in a grid of cells
p33000
aVEach
p33001
aVcomponent takes all the available space within its cell, and each cell
p33002
aVis exactly the same size
p33003
aVIf your book doesn't tell such an important thing, it's a bad book, and I would advise using the Swing tutorial instead
p33004
aVI'm astonished your teacher hasn't been able to tell you that
p33005
aVIf this behavior is not the one you want, choose another layout manager
p33006
aVThe Swing tutorial has a guide for all standard ones
p33007
as(dp33008
g23
V571407
p33009
stp33010
a((dp33011
g2
(lp33012
VThe easiest way, using standard Java classes, is
p33013
aVBut you can also use a static initializer, or delegate to a private static method:
p33014
aVNote the  wrapper, which guarantees that your constant set is indeed constant
p33015
as(dp33016
g23
V571407
p33017
stp33018
a((dp33019
g2
(lp33020
VYou're supposed to use the alias you assigned to the joined entity in the wgere clause:
p33021
aVSide note: you should respect the Java naming conventions:  rather than
p33022
as(dp33023
g23
V571407
p33024
stp33025
a((dp33026
g2
(lp33027
VYour criteria looks fine, but your request to do a case-insensitive get by default does not make much sense
p33028
aVWhat would it do of several rows in the database have PKs differing only in case
p33029
aVI would just make sure that your key properties are always in lower-case, either by throwing exceptions if upper-case values are passed to the B constructor, or by automatically transforming them to lower-case
p33030
aVYou could do the same using checked constraints in the database, in case some other app inserts data in the database
p33031
as(dp33032
g23
V571407
p33033
stp33034
a((dp33035
g2
(lp33036
VThe javadoc says:
p33037
aVPersist the given transient instance, first assigning a generated
p33038
aVidentifier
p33039
aVYou should call  on an existing, detached instance
p33040
aVis to persist a new entity
p33041
aVUse  or
p33042
as(dp33043
g23
V571407
p33044
stp33045
a((dp33046
g2
(lp33047
VFirst of all, you could avoid a type cast by making your loadObject method parameterized:
p33048
aVSecond: why do you open and commit the transaction in this method
p33049
aVLetting the caller open a transaction and commit it when he has finished using the object it has loaded from the cache would solve the problem
p33050
aVThird: if you really want to let this method open and close the transaction, let it take an  instance as parameter
p33051
aVThis initializer would have the responsibility to initialize all the necessary associations before returning the entity
p33052
as(dp33053
g23
V571407
p33054
stp33055
a((dp33056
g2
(lp33057
VThe level-1 cache is the Hibernate session
p33058
aVExcept in very rare case where a stateless session is used, there is a level-1 cache by default
p33059
aVQueries results are never cached in the level-1 cache
p33060
aVI think you meant "second-level cache"
p33061
aVNamed queries are handled exactly like unnamed-queries regarding the cache
p33062
aVQueries can be cached or not
p33063
aVIf they're cached, a round-trip to the database can be avoided
p33064
aVWhether they're cached or not, if they return instances of entities that are in the second-level cache, the query will return the IDs, and then the entities themselves will be loaded from the second-level cache
p33065
aVSee Hibernate 2nd level cache in a Grails app and the reference documentation for more information
p33066
as(dp33067
g23
V571407
p33068
stp33069
a((dp33070
g2
(lp33071
VYou're missing the  method
p33072
aVis used precisely to return a proxy
p33073
aVIt's useful when you just need a reference to an entity to set as a parent of child entity, for example
p33074
aVIn this case, you don't need the state of the parent entity, but only a reference
p33075
aVBTW, the JPA equivalent method is called , whereas the JPA equivalent to  is
p33076
as(dp33077
g23
V571407
p33078
stp33079
a((dp33080
g2
(lp33081
VExceptions should not be used for normal control flow
p33082
aVJust use the  block:
p33083
as(dp33084
g23
V571407
p33085
stp33086
a((dp33087
g2
(lp33088
VThe first pattern contains no space, and no colon
p33089
aVThe second one contains a colon, but no space
p33090
aVThe third one contains a space and a colon
p33091
aVThe last one contains a space, but no colon
p33092
aVSo using two  calls, you should be able to determine the pattern to apply
p33093
aVAnother way would be to use the length of the string, which is different in all the patterns (8, 5, 14 and 13)
p33094
as(dp33095
g23
V571407
p33096
stp33097
a((dp33098
g2
(lp33099
VNo, JPA should not take care of it for you
p33100
aVIt's not a magic tool
p33101
aVIf you decide to rename the table "client" to "customer", the column "street" to "line1" and to switch the values of the customer type column from 1, 2, 3 to "bronze", "silver", "gold", there is no way for JPA to read in your mind and figure all the changes to do automagically
p33102
aVTo migrate from one schema to another, you use the same tools as if you didn't use JPA: SQL scripts, or more adavanced schema and data migration tools, or even custom migration JDBC code
p33103
as(dp33104
g23
V571407
p33105
stp33106
a((dp33107
g2
(lp33108
VAn ORM is just a tool to help you with your database
p33109
aVBut the database is still the best tool you have to efficiently query for the data you want to display
p33110
aVAnd using an ORM without understanding and caring about the database and the queries that are generated is a recipe for disaster
p33111
aVYour second solution is better than the first one, but it's still not as logical and efficient as it could be
p33112
aVInstead of querying for the poll or polls to display, and then querying for the polls that a user has voted on, and passing these two collections to the view, the controller could execute a query which returns a list of PollWithVoteFlag instances, containing each poll data, along with a flag indicating if the poll has been voted on by the user
p33113
as(dp33114
g23
V571407
p33115
stp33116
a((dp33117
g2
(lp33118
VSwing uses layout managers to lay out components contained in a container
p33119
aVYou could use a BorderLayout and place your two panels at LINE_START and LINE_END, or at LINE_START and CENTER, or at CENTER and LINE_END, depending on what you want
p33120
aVRead the Swing tutorial, it has lots of helpful information, and has a full chapter dedicated to layout managers
p33121
as(dp33122
g23
V571407
p33123
stp33124
a((dp33125
g2
(lp33126
VFirst, you have to decide if you want to load the file from the file system, or if the file will in fact be bundled with your application code
p33127
aVIf the former, then you should really think about how your application will be launched when actually deployed, because using a relative file path means that the program should always be started from the same location: a relative path is relative to the location from where the program is started (the current directory)
p33128
aVIf this is really what you want, then edit your launch configuration in Eclipse, go to the Arguments tab, and set the working directory you want
p33129
aVBut the src directory is not where you should put this file, since this will copy the file to the target directory, along with the classes, that will probably be put in a jar once you'll deploy the application
p33130
aVIf the latter, then you should not treat the file as a file, but as a resource that is loaded by the ClassLoader, using ClassLoader
p33131
aVgetResourceAsStream() (or Class
p33132
aVgetResourceAsStream())
p33133
aVRead the javadoc of those methods to understand the path to pass
p33134
aVIf you put the file directly under src, it will be copied by Eclipse to the target directory, along with your classes, in the default package
p33135
aVAnd you should thus use  to load it
p33136
as(dp33137
g23
V571407
p33138
stp33139
a((dp33140
g2
(lp33141
VAnd why don't you read the documentation, where left outer joins are discussed, explained, and where you will even find examples
p33142
as(dp33143
g23
V571407
p33144
stp33145
a((dp33146
g2
(lp33147
VFirst of all, the query is not valid JPQL, because it doesn't have a select clause
p33148
aVSecond, it should be
p33149
aVYour strategy of populating a temp table looks fine to me
p33150
aVYou could just make it contain an additional uuid column, and generate a new UUID each time you want to perform such a query:
p33151
aVgenerate a UUID
p33152
aVinsert all the elements of the list in the table, with the uuid column set to the generated UUID
p33153
aVexecute a query such as
p33154
aVexecute a query to delete all the rows from the temp table (not absolutely necessary):
p33155
as(dp33156
g23
V571407
p33157
stp33158
a((dp33159
g2
(lp33160
VEach time your component's name is changed, it could throw a
p33161
aVWhen the component is added to the tabbed pane, you could add a  to the component, listening for changes of its  property, and updating the tab name accordingly
p33162
aVDon't forget to remove the listener when the component is removed from the tabbed pane, though
p33163
as(dp33164
g23
V571407
p33165
stp33166
a((dp33167
g2
(lp33168
VA servlet is a singleton
p33169
aVYou can assign an instance variable of your servlet
p33170
aVJust make sure to properly synchronize the access to this variable
p33171
aVYou may also use the "application" scope, i
p33172
ag468
aVset an attribute in the
p33173
aVThe same synchronization warning applies:
p33174
aVThis way, the same object will be available from all the servlets, and from the JSPs using
p33175
as(dp33176
g23
V571407
p33177
stp33178
a((dp33179
g2
(lp33180
VA package is just a namespace
p33181
aVDependencies on packages don't exist
p33182
aVYou can depend on classes, and these classes are in a package, but that's all
p33183
aVYou don't depend on all the classes of a package if you depend on one of them
p33184
aVSaying that a class or package depends on another package is just a shortcut to say that it depends on at least one class of this package
p33185
as(dp33186
g23
V571407
p33187
stp33188
a((dp33189
g2
(lp33190
VThe flush mode indicates when changes done to entities in the session must be written to the database
p33191
aVIt has nothing to do with queries
p33192
aVMoreover, you're not starting any transaction in your code
p33193
aVAnd finally, even if you were, when you execute a query, Hibernate executes this query
p33194
aVThe only calls that would not trigger a query the second time are  and
p33195
aVThe reasons are that
p33196
aVthe lifetime of the first-level cache is typically very short (the duration of a transaction), and it's thus pretty rare to execute the same query twice in the same transaction
p33197
aVdepending on the isolation level, the query might return different results between two calls, because another transaction might have made changes between the two queries
p33198
as(dp33199
g23
V571407
p33200
stp33201
a((dp33202
g2
(lp33203
VIt seems pretty logical to me:
p33204
aVYou have a first event handling method execution in the EDT which gets the firmware version and then gets the port reader
p33205
aVGetting the firmware version causes an event to be received, in a different thread (and thus in parallel to the execution of  in the EDT)
p33206
aVThe event handling code invokes
p33207
aVThis call thus waits for the first event handling methd to complete, and then appends the received string to
p33208
aVThis append is thus done after the  has completed
p33209
aVThe serial port offers an event-based mechanism
p33210
aVI would simply use it to propagate the event to one or several listeners in the EDT:
p33211
aVSide note: your code is hard to understand mainly because your variables and methods are badly named
p33212
as(dp33213
g23
V571407
p33214
stp33215
a((dp33216
g2
(lp33217
VYou need to test if the object has the Fraction class, and if so, cast it to a Fraction:
p33218
aVBefore doing this, make sure to also test for null
p33219
as(dp33220
g23
V571407
p33221
stp33222
a((dp33223
g2
(lp33224
VYour query doesn't return instances of the Restaurant entity
p33225
aVIt returns individual fields from this entity
p33226
aVThe result of such a query is a , each  containing all the selected fields
p33227
aVSee http://docs
p33228
aVjboss
p33229
aVorg/hibernate/core/3
p33230
aV6/reference/en-US/html_single/#queryhql-select:
p33231
aVQueries can return multiple objects and/or properties as an array of type Object[]:
p33232
aVIf you want your query to returninstances of Restaurant, it should be
p33233
aVAnd please, don't use concatenation to pass your parameter
p33234
aVUse named parameters as the above query
p33235
as(dp33236
g23
V571407
p33237
stp33238
a((dp33239
g2
(lp33240
VHere's some code that you could add to your  method, and which would open a dialog box displaying the text received from the serial port:
p33241
aVIt creates an anonymous  instance, which displays a dialog box containing the received text as message, and adds it to your  instance
p33242
as(dp33243
g23
V571407
p33244
stp33245
a((dp33246
g2
(lp33247
V and  are two methods of Throwable, and you may of course call both
p33248
aVThey don't do the same thing, though
p33249
aVTo know what they do, read their documentation
p33250
as(dp33251
g23
V571407
p33252
stp33253
a((dp33254
g2
(lp33255
VYes, it's correct
p33256
aVImpossible to say without testing
p33257
aVI don't see how it could be faster than storing the six fields in the table directly
p33258
aVWhat I don't understand is why you're not satisfied with your three fields
p33259
aVIf you want to be able to have a  method (and the corresponding setter) in your entity, nothing prevents you from adding it and implementing it yourself:
p33260
as(dp33261
g23
V571407
p33262
stp33263
a((dp33264
g2
(lp33265
VThe behavior of form-based authentication is the following:
p33266
aVthe browser sends a request to a protected URL
p33267
aVthe server intercepts its request, sees that you're not authenticated, and redirects to the loginf form page
p33268
aVthe user logs in
p33269
aVthe server redirects to the URL that triggered the authentication: the protected URL asked in the first step
p33270
aVThis is good, because it allows a user to bookmark a protected page, come back the next day to this bookmarked page, log in, and go directly to the bookmarked page rather than the welcome page
p33271
aVMy guess is that the landing page is not protected, but its CSS file is
p33272
aVSo the request that triggers the authenticationis the request that tries to load the CSS file, which causes the user to be redirected to the CSS file
p33273
as(dp33274
g23
V571407
p33275
stp33276
a((dp33277
g2
(lp33278
VThe method should take the OutputStream as argument, instead of creating it itself
p33279
aVThis way, subclasses can start by calling the super method to write the superclass fields, and callers can choose where to write the data rather than being forced by the book class to use a file at a specific location
p33280
aVThe method should also throw the IOException, rather than ignoring it
p33281
aVThis way, the caller can do what he wants to handle it
p33282
as(dp33283
g23
V571407
p33284
stp33285
a((dp33286
g2
(lp33287
VIt's really not clear what you're asking
p33288
aVBut your tag, as it is, just loops through each inner list of an outer list (well, in fact, I guess it should do that, but it has a bug, so it doesn't)
p33289
aVYou don't need a custom tag to do that, since the JSTL  tag does that already
p33290
aVSuppose you have an outerList stored in a request (or page, or session, or application) attribute:
p33291
aVFrom your question, it seems to me that you shouldn't have an inner list, though
p33292
aVRather, the outer list should contains objects (instances of a  class, for example) which have a  and and a  methods
p33293
aVThe loop would thus be:
p33294
as(dp33295
g23
V571407
p33296
stp33297
a((dp33298
g2
(lp33299
VYour proposition would make it impossible to have  values in collections, since it uses  as a "poison pill" to detect the end of the iteration
p33300
aVIn the very very rare cases two threads share an iterator, you just need to wrap it inside some custom class and synchronize the access to the iterator, to make the check-then-act operation atomic
p33301
aVThis is needed anyway since, even if the iterator just had one method, the backing collection (ArrayList in your example) is not thread-safe
p33302
as(dp33303
g23
V571407
p33304
stp33305
a((dp33306
g2
(lp33307
VNo, the outer instance is still reachable in this case, since every non-static inner class has an implicit rerefence to its outer class instance
p33308
as(dp33309
g23
V571407
p33310
stp33311
a((dp33312
g2
(lp33313
VYou need to configure the WebLogic startup script to allow for remote debugging, and then start a remote debugging session from Eclipse
p33314
aVHere's a post explaining the process entirely
p33315
as(dp33316
g23
V571407
p33317
stp33318
a((dp33319
g2
(lp33320
VTransform your second list into a  (the key being the ID, and the value being a list of messages containing this ID)
p33321
aVThen iterate through your first list and get the corresponding messages from the map
p33322
aVYou could use one of Guava's MultiMap implementations
p33323
as(dp33324
g23
V571407
p33325
stp33326
a((dp33327
g2
(lp33328
VYour mapping is incorrect, because the  column is mapped twice: once as a JoinColumn in , and once as a column in
p33329
aVEither make the association unidirectional and remove the studentid field in , or make it bidirectional, and have a  field in , mapped as a ManyToOne, as shown in this example from the Hibernate documentation
p33330
as(dp33331
g23
V571407
p33332
stp33333
a((dp33334
g2
(lp33335
VSee http://struts
p33336
aVapache
p33337
aVorg/1
p33338
ag12
aV9/api/org/apache/struts/action/ActionMapping
p33339
aVhtml#getInputForward%28%29
p33340
as(dp33341
g23
V571407
p33342
stp33343
a((dp33344
g2
(lp33345
VThe owner is the side which doesn't have the  attribute
p33346
aVIt's the side of the association that Hibernate/JPA tracks to see if the association exists or not between two entities
p33347
aVIf you set/modify the owner side, the change will be reflected in the database
p33348
aVIf you set/modify the other side, JPA/Hibernate doesn't care
p33349
aVIt doesn't correspond to any concept in real life
p33350
aVIn a bidirectional OneToMany/ManyToOne assoaciation, the only side that can be the owner in the JPA spec is the Many side
p33351
aVIt's also the most natural choice given that it's the many side which is mapped to the table holding the foreign key which materializes the association
p33352
aVHibernate allows defining the other side as the owner, but the mapping is complex, and not advised
p33353
as(dp33354
g23
V571407
p33355
stp33356
a((dp33357
g2
(lp33358
VYou need a loop
p33359
aVPseudo-code using a while loop:
p33360
as(dp33361
g23
V571407
p33362
stp33363
a((dp33364
g2
(lp33365
VYes, passing objects around is better
p33366
aVUsing a singleton or static methods makes OO programming look like procedural programming
p33367
aVA singleton is somewhat better because you can at least make it implement interfaces or extend an abstract class, but it's usually a design smell
p33368
aVAnd mixing instance methods with static variables like you're doing is even more confusing: you could have several objects looping, but you stop all of them at once because they all stop when a static variable changes
p33369
as(dp33370
g23
V571407
p33371
stp33372
a((dp33373
g2
(lp33374
VYes, you need to do this
p33375
aVHibernate looks at the owner side of the association to persist it, and the owner side is the side which doesn't have the  attribute
p33376
aVIn general, you are responsible of the coherence of the object graph
p33377
aVIt's thus often a good idea to have a method  in Customer which sets both sides of the association
p33378
aVYour  method could do that as well
p33379
as(dp33380
g23
V571407
p33381
stp33382
a((dp33383
g2
(lp33384
VSince it's not been said yet in other answers, I'll say it: you should not have URLs pointing to JSPs in the first place
p33385
aVUse an MVC framework like Stripes or Spring MVC, which
p33386
aVallows for Java actions to handle the presentation logic (validation, error handling, etc
p33387
aV, delegates to a business layer for the actual business logic, and prepares the data to be shown
p33388
aVdispatches to a JSP to generate the HTML markup
p33389
aVHaving Java code in JSPs is unsafe, unmaintainable, and promotes copy'n paste programming rather than clean design
p33390
as(dp33391
g23
V571407
p33392
stp33393
a((dp33394
g2
(lp33395
VI agree with your philosophy
p33396
aVThe main problem with native queries, IMHO, is the maintainability
p33397
aVFirst of all, they're generally more complex and longer than JPQL queries
p33398
aVBut they also hardcode table and column names, rather than using class and property names
p33399
aVJPQL queries are already problematic when refactoring, because they hard-code class and property names in Strings
p33400
aVBut native queries are even worse, because they hard-code table and column names everywhere
p33401
aVI don't think native select queries are a problem regarding the cache
p33402
aVNative update, insert and delete queries are a problem, though, because they modify data behind the back of the first and second-level cache
p33403
aVSo these might become stale
p33404
aVAnother problem is that your native queries could use a syntax that is recognized by one database but not by another, making the application harder to migrate from one database to another
p33405
as(dp33406
g23
V571407
p33407
stp33408
a((dp33409
g2
(lp33410
VYes, you have to loop
p33411
aVThe best collection for unique values is a Set, but if you really want a List or an array, you can always tranform the Set afterwards:
p33412
aVYou should read the Java collections tutorial
p33413
aVThis is a must-know
p33414
as(dp33415
g23
V571407
p33416
stp33417
a((dp33418
g2
(lp33419
VThe documentation says:
p33420
aVNote that HQL subqueries can occur only in the select or where clauses
p33421
aVSo, this is not possible to translate it directly to HQL
p33422
aV(Note: I checked for Hibernate, but it must be the same in NHibernate)
p33423
as(dp33424
g23
V571407
p33425
stp33426
a((dp33427
g2
(lp33428
VYour first query, AFAIK, is not possible to implement without the association from B to A
p33429
aVThe fact that you have such a query is an indication that this association should exist
p33430
aVThe ugly workaround is to use this query:
p33431
aVOther queries than the one you want are possible though:
p33432
as(dp33433
g23
V571407
p33434
stp33435
a((dp33436
g2
(lp33437
VThe documentation says:
p33438
aVpublic void setTableHeader(JTableHeader tableHeader)
p33439
aVSets the tableHeader working with this JTable to newHeader
p33440
aVIt is legal to have a null tableHeader
p33441
aVSo, I've not tested it, but I would guess that if the header is set to null, the table won't have any visible header
p33442
as(dp33443
g23
V571407
p33444
stp33445
a((dp33446
g2
(lp33447
VA Shape is just that: a shape
p33448
aVA circle is a shape
p33449
aVA rectangle is a shape
p33450
aVBut a circle with a number inside it is not a shape
p33451
aVMy guess is that you in fact want something like this:
p33452
as(dp33453
g23
V571407
p33454
stp33455
a((dp33456
g2
(lp33457
VThis is exactly what an ORM is good at
p33458
aVIf you want to do it all by yourself, my trick is to use a map to hold the customers:
p33459
as(dp33460
g23
V571407
p33461
stp33462
a((dp33463
g2
(lp33464
VIf everything is local, your method is thread-safe as is
p33465
aVEach thread will have its own object argument on the stack, and they won't interfere with each other
p33466
aVYou could have concurrency problems if two threads invoke this method with the same object as argument, or if two of those objects share some state, but that's not the problem of the singleton
p33467
aVIt's the problem of the shared state, which must be properly synchronized
p33468
aVGood rule of thumb: a stateless object is thread-safe
p33469
aVAn object with immutable state is thread-safe
p33470
aVAn object with mutable state is not thread-safe if it doesn't properly synchronize access to the shared state
p33471
as(dp33472
g23
V571407
p33473
stp33474
a((dp33475
g2
(lp33476
VThe stack trace tells you everything you need to know
p33477
aVThe error is a NullPointerException (meaning that you pass a null reference to a method expecting a non null reference, or that you call a method on a null reference)
p33478
aVThe error occurs inside some android code (), which is called by your  method, on line 25
p33479
aVThe line 25 is the following line:
p33480
aVSo the error is clear:  is null
p33481
aVYou haven't initialized it before this method is called
p33482
as(dp33483
g23
V571407
p33484
stp33485
a((dp33486
g2
(lp33487
Vwith outerList being a
p33488
aVRemember that 2-dimensional arrays don't exist
p33489
aVThey're in fact arrays or arrays
p33490
as(dp33491
g23
V571407
p33492
stp33493
a((dp33494
g2
(lp33495
VThe documentation says:
p33496
aVThe persistence context is not synchronized with the result of the
p33497
aVbulk update or delete
p33498
aVCaution should be used when executing bulk update or delete operations
p33499
aVbecause they may result in inconsistencies between the database and
p33500
aVthe entities in the active persistence context
p33501
aVIn general, bulk
p33502
aVupdate and delete operations should only be performed within a
p33503
aVtransaction in a new persistence context or at the beginning of a
p33504
aVtransaction (before entities have been accessed whose state might be
p33505
aVaffected by such operations)
p33506
aVSo, since OpenJPA doesn't synchronize the L1 cache, I don't see why it would (and how it could) synchronize the L2 cache
p33507
aVHe could flush it, but I doubt it
p33508
aVIt's easy enough to test anyway
p33509
as(dp33510
g23
V571407
p33511
stp33512
a((dp33513
g2
(lp33514
VThe fact that you want to share presentation logic and session data betwen both application shows that these two apps should be merged in a single one, where administrators simply have more privileges than simple users
p33515
as(dp33516
g23
V571407
p33517
stp33518
a((dp33519
g2
(lp33520
VThe above table is a pure join table used to materialize the ManyToMany association between Employee and Project
p33521
aVThe Employee entity could have a collection of Projects, and/or the Project entity could have a collection of Employees (i
p33522
ag468
aVteh relation can be unidirectional from Employee to Project, or unidirectional from Project to employee, or bidirectional)
p33523
aVDecide which kind of association better fits your needs (in general, a bidirectional one makes life easier)
p33524
aVIf bidirectional, choose which side is the owner of the association (the owner side has a @JoinTable annotation, and the other side has a mappedBy attribute), and then in your form handling method, populate the collections
p33525
aVThe owning side is the side that must be populated for JPA to persist the association
p33526
aVSuppose the owning side is Employee:
p33527
as(dp33528
g23
V571407
p33529
stp33530
a((dp33531
g2
(lp33532
VDesign an enum  (ROCK, PAPER, SCISSORS), where each enum has a  which it wins against
p33533
aVHave each of your players choose one of the choices
p33534
aVIterate through your players, and for each one, iterate over all the other players that are after him in the list of players (for player 0, iterate through players 1, 2, 3, etc; for player 1, iterate through players 2, 3, etc
p33535
aV;
p33536
aVFor each match, you have three possibilities:
p33537
aVA beats B (the choice of B is in the set of choices that A beats): increment A's score
p33538
aVA and B have the same choice: do nothing
p33539
aVA doesn't beat B: increment B's score
p33540
as(dp33541
g23
V571407
p33542
stp33543
a((dp33544
g2
(lp33545
VIt's simply a matter of adding an ActionListener to the first combo box and, in the action listener's  method, get the selected value in the first combo, and change the values displayed by the second combo
p33546
aVRead the Swing tutorial about combo boxes
p33547
as(dp33548
g23
V571407
p33549
stp33550
a((dp33551
g2
(lp33552
VSpring security has a JSP taglib to do that
p33553
as(dp33554
g23
V571407
p33555
stp33556
a((dp33557
g2
(lp33558
VCreate a class  containing an instance of Class1, and an instance of Class2
p33559
aVIterate over the Class1 instances, and then over each of its transactions, and populate a :
p33560
aVOnce you have this list, you just have to create a table model around it
p33561
aVEach row of the table is an instance of
p33562
as(dp33563
g23
V571407
p33564
stp33565
a((dp33566
g2
(lp33567
VThe classpath must contain
p33568
aVjar files
p33569
aVdirectories containing the roots of the package tree
p33570
aVIf your package is , the root is , and the directory containing  must be in the classpath
p33571
aVSo, if you're in the  directory, the classpath should be set to : the  directory is the one that should be in the classpath
p33572
aVOr you should use  as the classpath, but launch your program from the  directory
p33573
as(dp33574
g23
V571407
p33575
stp33576
a((dp33577
g2
(lp33578
VThe  attributes means:
p33579
aVThis association is bidirectional
p33580
aVI'm not the owner of the association
p33581
aVFind the mapping of the association on the other side
p33582
aVThe other side is in the target class of the association, under the following property/field:
p33583
aVSo, in your Product entity, the collection of ShopProducts is mapped by the field "product" in the
p33584
aVAnd in the Shop entity, the collection of ShopProducts is mapped by the field "shop" of the ShopProduct entity
p33585
aVYou haven't shown us the ShopProductId class, but you have additional errors in your mapping
p33586
aVThe AssociationOverrides doesn't make sense: you're not extending any other class, so there's nothing to override
p33587
aVSince ShopProduct is an entity, you should make your life easier, and use a single-column, auto-generated ID, as you're doing for the other entities
p33588
as(dp33589
g23
V571407
p33590
stp33591
a((dp33592
g2
(lp33593
Vdoesn't even goes to the database: it returns a proxy to the actual Bar
p33594
aVIf it doesn't exist, an error will be thrown at flush time, due to a foreigk key reference error
p33595
aVIf you want to check that the entity exists:
p33596
as(dp33597
g23
V571407
p33598
stp33599
a((dp33600
g2
(lp33601
VThe second one is correct, but the first one isn't
p33602
aVThink about it a minute, and suppose two threads are calling  in parallel
p33603
aVHere's what could occur:
p33604
aVThread 1 calls add("foo", bar");
p33605
aVThread 2 calls add("foo", baz");
p33606
aVThread 1 gets the set for "foo" : null
p33607
aVThread 2 gets the set for "foo" : null
p33608
aVThread 1 creates a new set and adds "bar" in it
p33609
aVThread 2 creates a new set and adds "baz" in it
p33610
aVThread 1 puts its set in the map
p33611
aVThread 2 puts its set in the map
p33612
aVAt the end of the story, the map contains one value for "foo" instead of two
p33613
aVSynchronizing the map makes sure that its internal state is coherent, and that each method you call on the map is thread-safe
p33614
aVbut it doesn't make the get-then-put operation atomic
p33615
aVConsider using one of Guava's SetMultiMap implementations, which does everything for you
p33616
aVWrap it into a call to  to make it thread-safe
p33617
as(dp33618
g23
V571407
p33619
stp33620
a((dp33621
g2
(lp33622
VUsing the @RequestBody annotation:
p33623
aVThe @RequestBody method parameter annotation indicates that a method
p33624
aVparameter should be bound to the value of the HTTP request body
p33625
aVFor
p33626
aVexample:
p33627
aVYou convert the request body to the method argument by using an
p33628
aVHttpMessageConverter
p33629
aVHttpMessageConverter is responsible for
p33630
aVconverting from the HTTP request message to an object and converting
p33631
aVfrom an object to the HTTP response body
p33632
aVThe
p33633
aVRequestMappingHandlerAdapter supports the @RequestBody annotation with
p33634
aVthe following default HttpMessageConverters:
p33635
as(dp33636
g23
V571407
p33637
stp33638
a((dp33639
g2
(lp33640
VThe message says:
p33641
aVTry a 'Cleanup'
p33642
aVIf that doesn't work you need to do a fresh checkout
p33643
aVSo what I would do is try a cleanup
p33644
aVAnd if it didn't work, I would do a fresh checkout
p33645
aVThese two commands are in the TortoiseSVN context menu
p33646
aVAnd there's also a Help menu if yo don't understand how these commands work
p33647
aVIf you end up doing a fresh checkout, you can always use WinMerge to compare your old, corrupted working copy with the new one, and reapply your local changes to your fresh working copy
p33648
as(dp33649
g23
V571407
p33650
stp33651
a((dp33652
g2
(lp33653
VFor such a small number of possible values, a trivial implementation would be to put your 1000 integers in a list, and have a loop which, at each iteration, generates a random number between 0 and , pick the number stored at this index, and remove it from the list
p33654
as(dp33655
g23
V571407
p33656
stp33657
a((dp33658
g2
(lp33659
VDefaultMutableTreeNode has depthFirstEnumeration() and breadthFirstEnumeration()
p33660
aVCall the one you desire, iterate through the enumeration until you find the node that has the  you want
p33661
as(dp33662
g23
V571407
p33663
stp33664
a((dp33665
g2
(lp33666
VNo way
p33667
aVThe controller is a pure server-side stuff
p33668
aVIt doesn't control anything in the browser
p33669
aVIt's invoked when a request comes in with a given URL
p33670
aVBut it doesn't change anything in how the browser handles requests sent to the controller
p33671
as(dp33672
g23
V571407
p33673
stp33674
a((dp33675
g2
(lp33676
VNo way to do that directly with a JPQL query
p33677
aVBut you could just have a method in the User entity which returns the String of role names, and fetch the users with their roles:
p33678
aVand, using Guava's Joiner, in User
p33679
aVjava:
p33680
as(dp33681
g23
V571407
p33682
stp33683
a((dp33684
g2
(lp33685
V takes an entity as parameter
p33686
aVBut you're passing a Set of objects which I assume are entities)
p33687
aVYou don't need to saveOrUpdate something that is attached to the session
p33688
aVsaveOrUpdate is used to persists a new entity, or update an existing, but detached, entity
p33689
aVTo remove all the elements of a collection, just remove them from the collection, and Hibernate will make that persistent automatically:
p33690
aVis all you need
p33691
as(dp33692
g23
V571407
p33693
stp33694
a((dp33695
g2
(lp33696
VThe point of the  annotation is to map the fields of a single entity to several tables, exactly as if those tables were merged into a single one
p33697
aV@ManyToOne is used to map a many-to-one association betwen two entities
p33698
aVBut you just have one
p33699
aVIt makes no sense in this context
p33700
aVAnd @JoinColumn is used to indicate that a field is mapped to a column that constitutes a
p33701
aVjoin column, i
p33702
ag468
aVa foreign key to another table
p33703
aVSo it doesn't make sense either
p33704
aVJust use the following mapping:
p33705
aVThis is well explained, with an example, in the Hibernate documentation
p33706
as(dp33707
g23
V571407
p33708
stp33709
a((dp33710
g2
(lp33711
VThe AliasToBeanResultTransformer uses setters to populate the DTO
p33712
aVIf you want to use a constructor, to create your bean instance, you need to use an AliasToBeanConstructorResultTransformer
p33713
aVYour DTO seems to have a setter for all the elements of the tuple, except for lastName
p33714
aVMaybe this is the problem
p33715
aVThat said, your code as is is simple, easy to maintain, and refactorable
p33716
aVIt wouldn't be refactorable with an AliasToBeanResultTransformer
p33717
aVI generally prefer to instantiate my DTOs myself, just as you did
p33718
as(dp33719
g23
V571407
p33720
stp33721
a((dp33722
g2
(lp33723
VAt most one of the children collection must be a bag (i
p33724
ag468
aVdeclared as a List)
p33725
aVDeclare the other collections as Sets, and it will work
p33726
aVBeware, though, that doing such fetch joins makes a cartesiann product of the rows
p33727
aVIf both collections have 100 elements, such a query retrieves 10,000 rows fro the database
p33728
aVIt's sometimes more efficient to execute a first query which fetches one collection, and a second one which fetches the other (which thus reduces the number of rows retrieved to 200)
p33729
aVThis is also a way to avoid the problem you have:
p33730
as(dp33731
g23
V571407
p33732
stp33733
a((dp33734
g2
(lp33735
VAdd an else clause to your :
p33736
aVRemember that the same renderer instance is used to paint all the cells
p33737
as(dp33738
g23
V571407
p33739
stp33740
a((dp33741
g2
(lp33742
VYour first case executes an update query, whereas the second one executes a select query
p33743
aVThe second one should use  to be similar to the first one
p33744
as(dp33745
g23
V571407
p33746
stp33747
a((dp33748
g2
(lp33749
VOne very useful application is to be able to deploy several web applications into a single Java EE server
p33750
aVEach application might use different versions of the same libraries, and must thus have a different classloader from the others in order to be able to have different versions of the same classes in a single JVM
p33751
as(dp33752
g23
V571407
p33753
stp33754
a((dp33755
g2
(lp33756
VIf I understand correctly, you already have a Contact entity with several phone number fields:
p33757
aVcellPhone
p33758
aVworkPhone
p33759
aVhomePhone
p33760
aVAnd you would like to find a contact given a phone number
p33761
aVIf so, you don't need any additional table to do that:
p33762
aVBut maybe you should have a Phone entity with a  and a  (work, cell, etc
p33763
aVfields, and have a bidirectional OneToMany association between Contact and Phone
p33764
aVYour query would then be
p33765
aVwhich would certainly be more efficient
p33766
as(dp33767
g23
V571407
p33768
stp33769
a((dp33770
g2
(lp33771
VPlace the libraries jar files under a  directory in your Eclipse project, and use a project-relative path (using "Add jars" rather than "Add external jars") to include these libraries in the build path
p33772
as(dp33773
g23
V571407
p33774
stp33775
a((dp33776
g2
(lp33777
VBecause  has a higher precedence than
p33778
aVIf the code is rewritten like
p33779
aVit displays  as expected
p33780
as(dp33781
g23
V571407
p33782
stp33783
a((dp33784
g2
(lp33785
VThe key is the transactional behavior
p33786
aVIf you don't have a service layer, where will you demarcate transactions
p33787
aVin the presentation layer: that's not where transaction demarcation belongs, and you wouldn't be able to use declarative transaction demarcation
p33788
aVin the DAO layer: you would not be able to create a customer and its contact (for example) in a single transaction, because it would use two different DAOs
p33789
aVMoreover, you want your UI layer as simple as possible, and the business code (which sometimes is much more complex than sinply calling a DAO method) isolated in specific components
p33790
aVThis allows
p33791
aVunit testing the UI layer by mocking the service layer
p33792
aVunit testing the service layer (the business code) by mocking the DAO layer
p33793
as(dp33794
g23
V571407
p33795
stp33796
a((dp33797
g2
(lp33798
VWhat you want to do is impossible
p33799
aVEIther a field is persistent, or it's transient
p33800
aVIt can't be sometimes one and sometimes the other
p33801
aVConsider defining a MyClass1 with just two fields, and a MyClass2 extending MyClass1 and adding the third field
p33802
aVUse the first one for , and the second one for
p33803
aVNote that, in your example, you have mapped column1 and column2 twice, which is also incorrect
p33804
as(dp33805
g23
V571407
p33806
stp33807
a((dp33808
g2
(lp33809
VWhen you have a bidirectional association, one side is the owner side (the side without the  attribute), and the other is the inverse side (the one with the  attribute)
p33810
aVHibernate only considers the owner side to know if there is an association between two entities
p33811
aVSo, if A is the owner side in the relation between A and B, you must add B instances to A's collection to make an association persistent
p33812
aVAdding A instances to B's collection has no effect
p33813
aVIn general, you are responsible for maintaining the coherence of the object graph, and thus you should make sure that the owner side (at least) is always updated
p33814
as(dp33815
g23
V571407
p33816
stp33817
a((dp33818
g2
(lp33819
VI don't know exactly why you get this behavior, but what I know is that you don't have a bidirectional one-to-one association here
p33820
aVWhat you have is two different one-to-one unidirectional associations: the parent knows its child using a foreign key to the child table, and the child knows its parent using a foreign key to the parent table
p33821
aVBTW, this way of doing could lead to a situation where a parent A has a child B which has a parent C
p33822
aVIf what you actually want is a bidirectional one-to-one association, you should remove one of the foreign keys, and use the other one to map the association
p33823
aVSuppose you keep the CHILD_ID column in the parent table, the mapping would then be:
p33824
aVand
p33825
as(dp33826
g23
V571407
p33827
stp33828
a((dp33829
g2
(lp33830
VIt depends
p33831
aVIf the getter or setter is not final, and if it is intended to be overridden in potential subclasses, it might make sense to call it even from the class itself, in order to avoid bypassing the additional behavior added by the subclass to the accessor
p33832
aVFor example, suppose a subclass wants to fire an event each time some property is changed
p33833
aVTo do that, it overrides the setter for this property
p33834
aVBut if some other method of the superclass modifies the property directly, without using the setter, then the event won't be fired
p33835
aVIn this case, it makes sense using the setter from the base class
p33836
as(dp33837
g23
V571407
p33838
stp33839
a((dp33840
g2
(lp33841
VIf the time unit is "days":
p33842
aVKeep your query as is, and bind  to the  request parameter
p33843
aVFor other intervals, do the same, but with the appropriate Calendar field (HOUR_OF_DAY, MINUTE, etc
p33844
aVinstead of Calendar
p33845
aVDAY_OF_MONTH
p33846
as(dp33847
g23
V571407
p33848
stp33849
a((dp33850
g2
(lp33851
VThe query , as indicated by the error message, doesn't return  instances
p33852
aVIt returns  instances
p33853
aVIf you want your combo box to contain Item instances, just use
p33854
as(dp33855
g23
V571407
p33856
stp33857
a((dp33858
g2
(lp33859
VFrom the documentation:
p33860
aVupdate, insert (optional - defaults to true): specifies that the
p33861
aVmapped columns should be included in SQL UPDATE and/or INSERT
p33862
aVstatements
p33863
aVSetting both to false allows a pure "derived" property
p33864
aVwhose value is initialized from some other property that maps to the
p33865
aVsame column(s), or by a trigger or other application
p33866
as(dp33867
g23
V571407
p33868
stp33869
a((dp33870
g2
(lp33871
VYour code doesn't compile
p33872
aVAnd  is initialized to 10, not 0
p33873
aVSo obviously, it will not stop at 0
p33874
as(dp33875
g23
V571407
p33876
stp33877
a((dp33878
g2
(lp33879
VA session is global to a web app
p33880
aVIt isn't tied to a particular servlet in the webapp
p33881
aVYour routing servlet doesn't make much sense
p33882
aVIf you're not worried about failover, then sticky sessions are easier
p33883
aVIf you need clustering, this probably means that you have an awful lot of concurrent users
p33884
aVSo, in average, the load should be similar on all the servers anyway
p33885
aVOn the other hand, if you have very few data in the session, and your application modifies it rarely, replicating the session should not cost much
p33886
aVYou would have failover as an added advantage, and the load balancer could use a pure round-robin algorithm, making sure that each server gets the same number of requests as the other ones
p33887
as(dp33888
g23
V571407
p33889
stp33890
a((dp33891
g2
(lp33892
VThe display tag displays the list of values that you tell it to show
p33893
aVIf the value is dsplayed, it means that it's still in the list
p33894
aVMaybe you deleted the item from the database, but forgot to remove it from the list stored in the session and displayed by the table:
p33895
aVThe session should be used to store objects that have a session life-time (the user name, a shopping cart, etc
p33896
aVIf you used the request to store the list of data to display in the table, you would waste less memory, and wouldn't risk displaying stale values as you are doing now
p33897
aVStruts chose to use session-scoped action forms by default snce the beginning, and this was a very bad choice
p33898
aVMake sure to use request-scoped form beans by default
p33899
as(dp33900
g23
V571407
p33901
stp33902
a((dp33903
g2
(lp33904
VEach time I see such a structure, I wonder why a  class, containing the two String keys and implementing equals and hashCode properly, is not used instead
p33905
aVThe map would then become a
p33906
aVAnd should even be implemented (using Guava) using a , which would make it easier to use and maintain
p33907
as(dp33908
g23
V571407
p33909
stp33910
a((dp33911
g2
(lp33912
VA session is associated with a given browser instance
p33913
aVEvery tab in the browser will share the same session
p33914
aVAnd that's a good thing: you don't want to re-authenticate and lose everything in the session each time you open a link in a new tab, do you
p33915
as(dp33916
g23
V571407
p33917
stp33918
a((dp33919
g2
(lp33920
VThe System class doesn't "reference the PrintStream class"
p33921
aVIt has two static fields of type PrintStream:  and
p33922
aVSo if you want to write to the out stream, you use
p33923
aVIf you want to write to the err stream, you use
p33924
aVIf you want to write to another PrintStream, you construct one by yourself:
p33925
as(dp33926
g23
V571407
p33927
stp33928
a((dp33929
g2
(lp33930
VYes, you should delete the branch after it has been reintegrated into the trunk
p33931
aVThis is well explained in the SVN book:
p33932
aVOnce a --reintegrate merge is done from branch to trunk, the branch is
p33933
aVno longer usable for further work
p33934
aVIt's not able to correctly absorb
p33935
aVnew trunk changes, nor can it be properly reintegrated to trunk again
p33936
aVFor this reason, if you want to keep working on your feature branch,
p33937
aVwe recommend destroying it and then re-creating it from the trunk
p33938
as(dp33939
g23
V571407
p33940
stp33941
a((dp33942
g2
(lp33943
VEvery Java array is an Object
p33944
aVWhen you pass it as an argument, you pass a copy of the reference to the array
p33945
as(dp33946
g23
V571407
p33947
stp33948
a((dp33949
g2
(lp33950
VIt doesn't require a compiled jar file
p33951
aVChoose Run - Run configurations
p33952
aV- Select your run configuration - Arguments tab
p33953
aVThen enter the appropriate command line argument in the VM arguments text box:  for example
p33954
as(dp33955
g23
V571407
p33956
stp33957
a((dp33958
g2
(lp33959
VThe syntax for a path variable is , not :
p33960
as(dp33961
g23
V571407
p33962
stp33963
a((dp33964
g2
(lp33965
VCascading the removal will make Hibernate call  on the referenced entity (or collection of entities)
p33966
aVThe referenced entity will thus be removed from the database
p33967
aVBut it leaves the entity instances untouched
p33968
aVNote that having a cascade=REMOVE (or ALL) on a ManyToOne is usually a very bad idea
p33969
aVYou generally don't want to remove a user when removing just one of its memberships
p33970
as(dp33971
g23
V571407
p33972
stp33973
a((dp33974
g2
(lp33975
VSecureRandom extends Random, and Random has a  method: http://docs
p33976
aVoracle
p33977
aVcom/javase/6/docs/api/java/util/Random
p33978
aVhtml#nextLong%28%29
p33979
as(dp33980
g23
V571407
p33981
stp33982
a((dp33983
g2
(lp33984
VI think this is not supported by Hibernate
p33985
aVI would simply make Translation an entity rather than an embedded, and include a language field in the Translation entity
p33986
aVThe mapping would be
p33987
aVThe association could also be bidirectional, and your query could then be much more logical and less dangerous, because it could return translations rather than articles:
p33988
as(dp33989
g23
V571407
p33990
stp33991
a((dp33992
g2
(lp33993
VYou should not create a new database for each user, and you should also not create new tables for each user
p33994
aVYou should have a fixed set of tables shared by all the users
p33995
aVFor example:
p33996
aVUser: ID, login, first name, last name
p33997
aVForum: ID, name
p33998
aVPost: ID, forum_id (FK to Forum
p33999
aVid), author_id (FK to User
p34000
aVID), parent_post_id (FK to Post
p34001
aVID), date, subject, body
p34002
as(dp34003
g23
V571407
p34004
stp34005
a((dp34006
g2
(lp34007
VJSP files get the data from request, session, or application attributes
p34008
aVIf the attributes are stored where the included JSP expects to find them, they will be displayed without any problem:
p34009
aVFor example:
p34010
aVpage
p34011
aVjsp:
p34012
aVbase_html
p34013
aVjsp:
p34014
as(dp34015
g23
V571407
p34016
stp34017
a((dp34018
g2
(lp34019
VMaybe you should use 3 pools of threads then
p34020
aV1 pool of 7 threads for A tasks, 1 pool of 2 threads for B tasks, and 1 pool of 1 thread for C tasks
p34021
aVEDIT: to have parallelism even if there are only C tasks (or, if you have many processors, if you only have B and C tasks), multiply the number of threads in each pool by the number of processors, or the number of processors + 1, or any other bigger factor you like
p34022
as(dp34023
g23
V571407
p34024
stp34025
a((dp34026
g2
(lp34027
VThe javadoc of SecureRandom says:
p34028
aVMany SecureRandom implementations are in the form of a pseudo-random
p34029
aVnumber generator (PRNG), which means they use a deterministic
p34030
aValgorithm to produce a pseudo-random sequence from a true random seed
p34031
aVOther implementations may produce true random numbers, and yet others
p34032
aVmay use a combination of both techniques
p34033
aVMaybe the algorithm uses another randomness source to produce its random numbers
p34034
aVDoing it would not break the contract of the SecureRandom class
p34035
aVIt would even satisfy it even more, since the goal of a secure random generator is to produce random numbers, and not a predictable sequence of numbers
p34036
as(dp34037
g23
V571407
p34038
stp34039
a((dp34040
g2
(lp34041
VYou probably have a tab character instead of spaces to separate your fields
p34042
aVAdd the tab to your set of delimiters ()
p34043
aVAlso, always close your streams and readers in a finally block (only the outermost one must be closed: closing the BufferedReader will close the InputStreamReader, which will close the FileInputStream)
p34044
as(dp34045
g23
V571407
p34046
stp34047
a((dp34048
g2
(lp34049
VYou should probably download the Eclipse for JavaScript developers distribution, and then download the PHPEclipse plugin by following the following instructions: http://www
p34050
aVphpeclipse
p34051
aVcom/wiki/General/PHPEclipseFAQ#InstallPHPEclipseinEclipsesince3
p34052
aV4M6
p34053
as(dp34054
g23
V571407
p34055
stp34056
a((dp34057
g2
(lp34058
VThe main class should create an instance of Game, and pass the array of players to the constructor:
p34059
aVThe Game class should thus have the following field and constructor:
p34060
aVNote that methods should start with a lower-case letter to follow Java naming conventions, and that your loop has a bug: it always sets the first element of the array instead of initializing every element
p34061
aVFinally, give meaningful names to variables:  is much more readable than
p34062
as(dp34063
g23
V571407
p34064
stp34065
a((dp34066
g2
(lp34067
VA servlet generates HTML, and sends it to the browser
p34068
aVOnce the response has been sent, the HTML code is in the browser, and there is no way for a background task on the server to modify anything in this HTML code
p34069
aVYou'll need some background JavaScript polling in the page (AJAX), that will ask for updates to the server and modify the HTML page accordingly
p34070
aVOr you can regularly reload the whole page, but it's less efficient and user-friendly
p34071
as(dp34072
g23
V571407
p34073
stp34074
a((dp34075
g2
(lp34076
Vpersist is not guaranteed to generate the ID
p34077
aVThe ID is guaranteed to be generated at flush time only
p34078
aVSo if you really need the ID before the transaction ends (and the entity manager is thus flushed), call flush() explicitely to get the ID:
p34079
as(dp34080
g23
V571407
p34081
stp34082
a((dp34083
g2
(lp34084
VErr, add a  field to your class, and initialize it from the constructor:
p34085
aVAlso, you made your MyListNode generic, but use the raw type () instead of the parameterized one ()
p34086
as(dp34087
g23
V571407
p34088
stp34089
a((dp34090
g2
(lp34091
VWe don't have the relevant source code, but the error message says what's wrong:
p34092
aVTester creates a Probability
p34093
aVProbability constructor creates a Statistics
p34094
aVStatistics constructor calls Survey
p34095
aVaddQuestion()
p34096
aVaddQuestion() creates a Question
p34097
aVQuestion creates a Statistics (goto 3 and loop infinitely)
p34098
aVI think you should probably pass objects around rather than creating them each time
p34099
as(dp34100
g23
V571407
p34101
stp34102
a((dp34103
g2
(lp34104
VIt's all explained in the SVN book
p34105
aVYou're looking for externals definitions:
p34106
aVSometimes it is useful to construct a working copy that is made out of
p34107
aVa number of different checkouts
p34108
aVFor example, you may want different
p34109
aVsubdirectories to come from different locations in a repository or
p34110
aVperhaps from different repositories altogether
p34111
ag7651
aVFortunately, Subversion provides support for externals definitions
p34112
as(dp34113
g23
V571407
p34114
stp34115
a((dp34116
g2
(lp34117
VHave you tried flushing the session before recreating the deleted entity
p34118
as(dp34119
g23
V571407
p34120
stp34121
a((dp34122
g2
(lp34123
VYou made your tree editable, but you didn't specify any editor for the tree
p34124
aVSo it uses the default editor, which uses the  method of your ContentNode to edit the node
p34125
aVYou probably don't want your tree to be editable
p34126
as(dp34127
g23
V571407
p34128
stp34129
a((dp34130
g2
(lp34131
VYou could generate a random validation number when the user signs up, and store it in the database with the user record
p34132
aVThen generate an email with a link such as
p34133
aVWhen the  action is invoked, check if the validation token stored in the database for the given user ID matches with the token sent as parameter, and if so, approve the user
p34134
as(dp34135
g23
V571407
p34136
stp34137
a((dp34138
g2
(lp34139
VDon't use String replacements to handle this
p34140
aVInstead, use a prepared statement and thus let the JDBC driver escape the parameters for you:
p34141
aVThis is the proper way to have database-independent, robust code, that is not vulnerable to SQL injection attacks
p34142
aVAnd it also make it more efficient if you execute the same query several times with different parameters
p34143
aVSee the JDBC tutorial for more information
p34144
as(dp34145
g23
V571407
p34146
stp34147
a((dp34148
g2
(lp34149
VFrom the documentation:
p34150
aVThere can only be a single entity named in the from-clause
p34151
aVIt can,
p34152
aVhowever, be aliased
p34153
aVIf the entity name is aliased, then any property
p34154
aVreferences must be qualified using that alias
p34155
aVIf the entity name is
p34156
aVnot aliased, then it is illegal for any property references to be
p34157
aVqualified
p34158
aVNo joins, either implicit or explicit, can be specified in a bulk HQL
p34159
aVquery
p34160
aVSub-queries can be used in the where-clause, where the
p34161
aVsubqueries themselves may contain joins
p34162
aVThe idea of an ORM like Hibernate is to avoid such update queries
p34163
aVYou get a persistent entity from the session, you modify it, and Hibernate transparently saves the updates to the database:
p34164
as(dp34165
g23
V571407
p34166
stp34167
a((dp34168
g2
(lp34169
VEclipse allows deploying the webapp directly to a server, without needing to copy anything by yourself
p34170
aVIt also allows generating a deployable war file when you're ready to deploy to a test or production server
p34171
aVOpen the "Servers" view, right-click, and choose to create a new server
p34172
aVOnce created, right-click on the server and choose to add your web-app into it
p34173
aVAnd then Eclipse will deploy your web-app to the server
p34174
aVYou're not supposed to manually copy anything from Eclipse
p34175
aVAnd if you need or want to do this, then you should probably use some ant script which generates the proper deployment structure
p34176
aVThis structure is described in the servlet specification
p34177
aVIt should have, under the root directory of the webapp, a WEB-INF directory containing:
p34178
aVclasses: a directory containing your classes
p34179
aVlib: a directory containing all the jar files your app depends on
p34180
aVweb
p34181
aVxml the webapp's deployment descriptor
p34182
aVAll the other directories and files that are not under WEB-INF can be served by the web container
p34183
as(dp34184
g23
V571407
p34185
stp34186
a((dp34187
g2
(lp34188
VThe strategy is the following
p34189
aVA timestamp cache keeps track of the last update timestamp for each table
p34190
aVEach time a cachable query is executed and that the results are in the query cache, Hibernate checks the the timestamp of the query results is bigger (more recent) than the update timestamp of each table concerned by the query
p34191
aVIf bigger, then the results are not stale, and the cached results are returned
p34192
aVIf lower, then the cached results are potentially stale, and the query is executed against the database
p34193
as(dp34194
g23
V571407
p34195
stp34196
a((dp34197
g2
(lp34198
VPHP is interpreted from source
p34199
aVJava is compiled into byte-code
p34200
aVThe web server only has the byte-code, so I don't see how it could generate such a thing
p34201
aVIf you're debugging your webapp in an IDE, the stack trace should appear in the IDE console, and you should be able to click the stack trace and go to the corresponding line of code in the IDE
p34202
as(dp34203
g23
V571407
p34204
stp34205
a((dp34206
g2
(lp34207
VThe accessibility of a field or method is orthogonal to the fact that it's static or not
p34208
aVYou could have a static method accessible from the outside, and a static method that must only be used from inside the class itself (by other static or non-static methods)
p34209
aVThe same goes for fields
p34210
aVFor example:
p34211
as(dp34212
g23
V571407
p34213
stp34214
a((dp34215
g2
(lp34216
VMappedSuperClass must be used to inherit properties, associations, and methods
p34217
aVEntity inheritance must be used when you have an entity, and several sub-entities
p34218
aVYou can tell if you need one or the other by answering this questions: is there some other entity in the model which could have an association with the base class
p34219
aVIf yes, then the base class is in fact an entity, and you should use entity inheritance
p34220
aVIf no, then the base class is in fact a class that contains attributes and methods that are common to several unrelated entities, and you should use a mapped superclass
p34221
aVFor example:
p34222
aVYou can have several kinds of messages: SMS messages, email messages, or phone messages
p34223
aVAnd a person has a list of messages
p34224
aVYou can also have a reminder linked to a message, regardless of the kind of message
p34225
aVIn this case, Message is clearly an entity, and entity inheritance must be used
p34226
aVAll your domain objects could have a creation date, modification date and ID, and you could thus make them inherit from a base AbstractDomainObject class
p34227
aVBut no entity will ever have an association to an AbstractDomainObject
p34228
aVIt will always be an association to a more specific entity: Customer, Company, whatever
p34229
aVIn this case, it makes sense to use a MappedSuperClass
p34230
as(dp34231
g23
V571407
p34232
stp34233
a((dp34234
g2
(lp34235
VImplementing  using a mutable field is a bad idea: it makes storing the entity in a HashSet and modifying the mutable property impossible
p34236
aVImplementing it in terms of a collection of other entities is an even worse idea: it forces the loading of the collection to compute the hashCode
p34237
aVChoose a unique, immutable property (or set of properties) in your entity, and implement hashCode based on that
p34238
aVOn last resort, you have the option of using the ID, but if it's autogenerated, you must not put it in a Set before the ID is generated
p34239
as(dp34240
g23
V571407
p34241
stp34242
a((dp34243
g2
(lp34244
VUse the @Generated annotation, and make sure to mark the property as non insertable, adn non updatable, as explained in the Hibernate documentation
p34245
aVNote that this will force Hibernate to issue an additional select query after each insert and update query
p34246
as(dp34247
g23
V571407
p34248
stp34249
a((dp34250
g2
(lp34251
VThe javadoc of OutOfMemoryError says:
p34252
aVThrown when the Java Virtual Machine cannot allocate an object because
p34253
aVit is out of memory, and no more memory could be made available by the
p34254
aVgarbage collector
p34255
aVSo, if a thread is not running anymore and is eligible to GC, the GC will try to collect it before throwing an OOM
p34256
aVLike with any other object
p34257
as(dp34258
g23
V571407
p34259
stp34260
a((dp34261
g2
(lp34262
VNote that a MouseListener is not the appropriate listener to use with a button
p34263
aVActionListener is the one which is invoked when a button is clicked, and regardless of the way it's clicked (with the mouse, the keyboard, a keyboard shortcut)
p34264
as(dp34265
g23
V571407
p34266
stp34267
a((dp34268
g2
(lp34269
VcreateAlias creates an inner join using an association between entities
p34270
aVSo,
p34271
aVis equivalent to the following HQL:
p34272
aVThe root entity is
p34273
aVAnd I guess you don't have a  field in the  entity
p34274
aVSo this line doesn't make sense
p34275
aVIf you don't have any association between two entities, you can't make a join
p34276
aVYou're reduced to making an inner join in the form of an equality between two fields in the where clause:
p34277
aVBut since Criteria only allows to select from one root entity, and a series of joined associations, it's impossible to do this using Criteria
p34278
aVYour best bets are:
p34279
aVto do it in SQL
p34280
aVto do it using 2 separate HQL queries, and join the results using Java
p34281
as(dp34282
g23
V571407
p34283
stp34284
a((dp34285
g2
(lp34286
VAt each iteration, check if the line is empty (or contains only whitespace, depending on what your really want):
p34287
aVAnd please:
p34288
aVdon't ignore exceptions
p34289
aVThrow them if you can't handle them here
p34290
aVclose the reader in a finally block
p34291
as(dp34292
g23
V571407
p34293
stp34294
a((dp34295
g2
(lp34296
V$ANT_HOME doesn't mean $ANT_HOME, literally
p34297
aV$ANT_HOME means "the value of ANT_HOME"
p34298
aVIf Ant is installed at , your environment variables should be:
p34299
aVSame for JAVA_HOME
p34300
as(dp34301
g23
V571407
p34302
stp34303
a((dp34304
g2
(lp34305
VSupposing that the calendar is initialized with the current time, you go from year 1999 to year 1932
p34306
aVThat makes an empty loop
p34307
aVAnd what's the point in having those two nested loops
p34308
as(dp34309
g23
V571407
p34310
stp34311
a((dp34312
g2
(lp34313
VIf you're calling  everywhere, you're probably missing the whole point of Spring, which is a dependency injection framework
p34314
aVIn a standalone app, you typically call  only once (or at least, very rarely), in order to get a "root" bean
p34315
aVThis bean is injected by Spring with other beans, and so on
p34316
aVIn a web app, it all depends on which framework you use
p34317
aVBut typically, you register a listener in the web
p34318
aVxml which loads the context for you, and controllers are created and/or injected by Spring
p34319
as(dp34320
g23
V571407
p34321
stp34322
a((dp34323
g2
(lp34324
VFirst of all, if authors co-write books, you have a many-to-many association, and not a one-to-many
p34325
aVThat said, the query will return the list of all the authors who have written at least one book (that's the effect of the inner join)
p34326
aVAnd each author will be exactly once in the returned list
p34327
as(dp34328
g23
V571407
p34329
stp34330
a((dp34331
g2
(lp34332
VBecause the  tag tries to get a bean in the attribute  of the request, and since you didn't store anything under this attribute name, it creates one
p34333
aVThe bean instance used by the JSP is thus a different instance than the one created in the servlet
p34334
aVPut the following code in your servlet, and you'll get the desired behavior:
p34335
aVNote that the  tags are completely obsolete, and should not be used anymore
p34336
aVYou should instead use the JSP expression language (EL), and the JSTL:
p34337
aVOr even better, to make sure the potential HTML characters present in the name are properly escaped:
p34338
as(dp34339
g23
V571407
p34340
stp34341
a((dp34342
g2
(lp34343
VThe article says what you're saying: loading objects on demand, across several transactions, is not reliable:
p34344
aVThe solution for this issue is of course proper unit of work
p34345
aVdemarcation and design, supported by possibly an interception
p34346
aVtechnique as shown in the pattern here, and/or the correct fetch
p34347
aVtechnique so that all required information for a particular unit of
p34348
aVwork can be retrieved with minimum impact, best performance, and
p34349
aVscalability
p34350
as(dp34351
g23
V571407
p34352
stp34353
a((dp34354
g2
(lp34355
VBecause when Tomcat is asked to execute a JSP, is compares the modification date of the JSP file with the modification time of the compiled class corresponding to this JSP, and if more recent, it recompiles on the fly before executing it
p34356
aVThis is BTW an option that should be turned off in production, because it takes time to perform this check
p34357
aVSee http://tomcat
p34358
aVapache
p34359
aVorg/tomcat-7
p34360
aV0-doc/jasper-howto
p34361
aVhtml for details
p34362
as(dp34363
g23
V571407
p34364
stp34365
a((dp34366
g2
(lp34367
VLet's examine this mapping:
p34368
aVThis means that the ID is mapped to the column , and that you also have a column, which is a foreign key to the GB_CAPACITY
p34369
aVORG_ID column, and which is also named
p34370
aVYou can't have two columns with the same name in the same table
p34371
aVChoose a different name for your join column:
p34372
as(dp34373
g23
V571407
p34374
stp34375
a((dp34376
g2
(lp34377
VIf you have a foreign key from Data to TherapyResult, and Data is the owner of the association, then
p34378
aVremoving the Data will delete the TherapyResult automatically if cascade is set to REMOVE
p34379
aVyou just need to set the  field to null and then delete the TherapyResult to have what you need
p34380
aVAnother option is to set orphanRemoval to true, in which case setting the  field to null is sufficient to remove it from the database
p34381
aVIf you have a foreign key from TherapyResult to Data, and TherapyResult is the owner of the association, then
p34382
aVremoving the Data will delete the TherapyResult automatically if cascade is set to REMOVE on the  field
p34383
aVremoving the TherapyResult will leave the Data in the DB provided the cascade is not set to REMOVE on the  field
p34384
as(dp34385
g23
V571407
p34386
stp34387
a((dp34388
g2
(lp34389
VJPQL doesn't support such queries
p34390
aVYou should use SQL for such queries if you want to make them efficient
p34391
aVIn Oracle, such a query would look like
p34392
as(dp34393
g23
V571407
p34394
stp34395
a((dp34396
g2
(lp34397
VWell, you marked the association with @Transient, which means that the field is not persistent and should be ignored by JPA
p34398
aVAnd you also seem to have two different fields to store the same information:  and
p34399
aVRemove the first one, and map the second one as
p34400
aVThis tells that the association is a ManyToOne to the User entity (no need to specify the targetEntity since it's the type of the field), and that this association is materialized by the join column named "chuserid", in the auditable entity's table, and referencing the ID of the User entity (referencedColumnName is only useful when you use composite IDs, or when you reference an entity by a column which is the the ID)
p34401
as(dp34402
g23
V571407
p34403
stp34404
a((dp34405
g2
(lp34406
VYou're assigning the same ID to all the inputs in the table, which results in invalid HTML
p34407
aVThe browser is kind enough (
p34408
aVto give you the first input with this ID instead of throwing an exception
p34409
aVThe code should be:
p34410
aVbut the input field doesn't serve any purpose, so you might remove it completely
p34411
aVNote that your naming is bad:
p34412
aVan attribute should be named as a Java or JavaScript variable:  rather than
p34413
aVthe page attribute refers to one item of the list, and not to the list itself, so it should be named  rather than
p34414
as(dp34415
g23
V571407
p34416
stp34417
a((dp34418
g2
(lp34419
VConstruct a prepared statement:
p34420
aVThen iterate through the line of the CSV file, and parse each line into a data structure (or a simple array) containing the 4 fields:
p34421
aVAnd for each line, bind the parameters and execute the statement:
p34422
aVTo speed up things, you may use a batch:
p34423
as(dp34424
g23
V571407
p34425
stp34426
a((dp34427
g2
(lp34428
VTry with the following query:
p34429
as(dp34430
g23
V571407
p34431
stp34432
a((dp34433
g2
(lp34434
VJavadoc to the rescue:
p34435
aVReturns:
p34436
aVan int indicating the option selected by the user
p34437
aVcompare the result with the constants defined in JOptionPane (, , , etc
p34438
as(dp34439
g23
V571407
p34440
stp34441
a((dp34442
g2
(lp34443
VThe fact that another entities have an association with Message instances proves that Message must not be a MappedSuperclass, but an Entity
p34444
aVAnnotate Message with  rather than
p34445
aVMappedSuperclass is used to inherit fields and/or associations in entities that have nothing else in common
p34446
as(dp34447
g23
V571407
p34448
stp34449
a((dp34450
g2
(lp34451
VYou just need to do a left join rather than an inner join:
p34452
as(dp34453
g23
V571407
p34454
stp34455
a((dp34456
g2
(lp34457
VgetArray() is by no means a method that automatically transforms a String stored in a database into a JSON array
p34458
aVJDBC and JSON have nothing in common
p34459
aVRead its javadoc:
p34460
aVRetrieves the value of the designated column in the current row of this ResultSet object as an Array object in the Java programming
p34461
aVlanguage
p34462
aVReturns:
p34463
aVan Array object representing the SQL ARRAY value in the specified column
p34464
aV(emphasis mine)
p34465
as(dp34466
g23
V571407
p34467
stp34468
a((dp34469
g2
(lp34470
VJPQL, AFAIK, doesn't support  clauses, but HQL does support them
p34471
aVThe chose to use the  keyword though:
p34472
as(dp34473
g23
V571407
p34474
stp34475
a((dp34476
g2
(lp34477
VIt's probably the last revision of the file or folder loaded in the workspace
p34478
aVYou can configure these label decorations under Window - Preferences - Team - SVN - Label decorations
p34479
as(dp34480
g23
V571407
p34481
stp34482
a((dp34483
g2
(lp34484
VThat's because you forgot to return the result of the inner binarySearch calls
p34485
aVYou thus have
p34486
as(dp34487
g23
V571407
p34488
stp34489
a((dp34490
g2
(lp34491
VYou need to understand two things
p34492
aVFirst: when you say , JPA only selects the columns from the Profesor table, and returns a Profesor instance containing a collection of students that is not loaded yet
p34493
aVIt's loaded lazily the first time you actually access the collection
p34494
aVAnd when it loads the collection, it has forgotten which query you used to load the professor
p34495
aVWhat it loads is the collection of students of the professor
p34496
aVAnd since a professor has many students, it ;oads them all
p34497
aVThe initial query is similar to
p34498
aVExecute it in SQL, and you'll see that it doesn't load a professor and its student
p34499
aVIt only loads a professor
p34500
aVSecond: an entity is supposed to represent the data in the database
p34501
aVIt isn't supposed to represent the result of a query
p34502
aVSo, the collection of students in a Professor entity is always the collection of all the students of the professor
p34503
aVTo do what you want, you have several choices:
p34504
aV: this will return an array containing the found profesor, and the found student
p34505
aVif the association is bidirectional: : this will load the student, and it references its professor
p34506
aVif using Hibernate, which violates the JPA spec in this area: : the fetch makes hibernate load the professor and its students in a single query
p34507
aVBut since you added a where clause on the student, it only loads the matching students of the professor
p34508
aVNote that the third solution is a very dangerous one, and I wouldn't advise using it
p34509
aVFirst because it's not valid JPQL
p34510
aVAnd more importantly, because the code getting a Professor entity loaded by such a query expects that professor
p34511
aVgetStudents() will return all the students of the professor, and not just one of them
p34512
aVIt could thus display false results, or modify the collection and cause incoherences in the database
p34513
as(dp34514
g23
V571407
p34515
stp34516
a((dp34517
g2
(lp34518
VYou can't convert pure binary data into a String like this, because all the bytes don't represent a valid character
p34519
aVUse base-64 to convert your byte array to a readable ascii string
p34520
aVApache commons codec has a free implementation
p34521
as(dp34522
g23
V571407
p34523
stp34524
a((dp34525
g2
(lp34526
VYou're not using sqlplus here
p34527
aVYou're using JDBC
p34528
aVAnd a date is a date
p34529
aVIt's not a String
p34530
aVSqlplus shows you the date as a string formatted in a certain way to make it readable, but you shouldn't  transform dates into strings to store them
p34531
aVUse a PreparedStatement:
p34532
aVPreparedStatement should always be used to pass dynamic parameters to a SQL query
p34533
aVIt's safer, more robust, and avoid SQL injection attacks
p34534
aVRead the JDBC tutorial about prepared statements
p34535
as(dp34536
g23
V571407
p34537
stp34538
a((dp34539
g2
(lp34540
VThe annotated getter in Student is called
p34541
aVThis means that the property is named  (which is a terriblename, BTW)
p34542
aVYou must thus use this property name in your HQL
p34543
aVMoreover, you don't need the single quotes around your parameter
p34544
aVThe query should thus be:
p34545
aVNote that you missed one important part of Hibernate, which consists in providing an object graph on to of a database, and not just individual objects containing IDs of other objects
p34546
aVYou shouldn't have a courseId in Student
p34547
aVInstead, you should have a (many-to-one) association with a Course:
p34548
aVThis allows getting a student from the database, and navigating to its course
p34549
aVAnd the query you had could then be rewritten as:
p34550
as(dp34551
g23
V571407
p34552
stp34553
a((dp34554
g2
(lp34555
VYou should remove the  from the  table, because it's not needed (and is even a problem, since it's redendant with )
p34556
aVFor the rest, this is described in the Hibernate documentation on bidirectional one-to-one association mappings:
p34557
as(dp34558
g23
V571407
p34559
stp34560
a((dp34561
g2
(lp34562
VIt's not an issue in Hibernate
p34563
aVThe class of the ID must implement hashCode and equals properly
p34564
aVdoesn't, so it's not a valid ID class
p34565
aVUsing a byte[] as an ID is, IMO, a really bad idea
p34566
aVA Long is a really better idea
p34567
aVIf you really want to keep your byte array, then wrap it into a custom type, or transform it into a String using Base64 or Hex encoding
p34568
as(dp34569
g23
V571407
p34570
stp34571
a((dp34572
g2
(lp34573
VThis not how I would do it
p34574
aVGenerate a random double
p34575
aVThe result is between 0 and 1
p34576
aVMultiply this number by (highLimit - lowLimit) (52952058699
p34577
aV3098 - -1554900
p34578
aV101)
p34579
aVAdd the lowLimit (random + -1554900
p34580
aV101)
p34581
aVHere you go
p34582
aVYou have a random number between low and high limit
p34583
as(dp34584
g23
V571407
p34585
stp34586
a((dp34587
g2
(lp34588
VThe JSP tags are executed at server-side, and generate HTML
p34589
aVJavaSCript is executed at client-side, in the browser, and manipulates the HTML DOM
p34590
aVThe HTML checkboxes generated by the Spring tags are no different than all other checkboxes, and of course have a  attribute
p34591
aVAnd you may change it using JavaScript
p34592
aVAt client-side, you don't care whether the HTML is static, has been generated by Spring, PHP or whatever
p34593
aVHTML is HTML
p34594
as(dp34595
g23
V571407
p34596
stp34597
a((dp34598
g2
(lp34599
s(dp34600
g23
V571407
p34601
stp34602
a((dp34603
g2
(lp34604
VYou could avoid the listener completely and use
p34605
aVNote that the default value is HIDE_ON_CLOSE, so the behavior you want should be the default behavior
p34606
aVMaybe you registered another listener that exits the application
p34607
aVSee http://docs
p34608
aVoracle
p34609
aVcom/javase/6/docs/api/javax/swing/JFrame
p34610
aVhtml#setDefaultCloseOperation%28int%29
p34611
as(dp34612
g23
V571407
p34613
stp34614
a((dp34615
g2
(lp34616
VFirst of all, if you used generic collections rather than raw types ( instead of ), those errors would be caught by the compiler
p34617
aVForget about Vector, Hashtable and Enumeration
p34618
aVThey should not be used anymore since Java 1
p34619
ag12
aVAnd finally, why are you iterating on the hash table keys, instead of looking up the value directy
p34620
aVInstead of
p34621
aVJust use
p34622
aVNow to answer your question: if you get a ClassCastException, it means that the objects stored in the collection are not what you think they are
p34623
aVCheck the code which fills the collection
p34624
aV(and switch to generic, modern collections)
p34625
as(dp34626
g23
V571407
p34627
stp34628
a((dp34629
g2
(lp34630
VSeeing the code would help finding what's wrong with it
p34631
aVBut by judging on the error message only, it seems you chose to use a sequence or table generator, and that this generator relies (by default) on a table named , that doesn't exist in the database
p34632
aVCreate this table, or configure the generator to use an existing table, or change the ID generator
p34633
as(dp34634
g23
V571407
p34635
stp34636
a((dp34637
g2
(lp34638
VImplement  a static method using Apache commons-lang  (or reimplement it yourself) to escape the special characters (single and double quotes, newlines, tabs), then make this function an EL function, and use this EL function from inside the JSP:
p34639
aVSee the end of this page for how to create an EL function
p34640
as(dp34641
g23
V571407
p34642
stp34643
a((dp34644
g2
(lp34645
VThe ID is only guaranteed to be generated at flush time
p34646
aVPersisting an entity only makes it "attached" to the persistence context
p34647
aVSo, either flush the entity manager explicitely:
p34648
aVor return the entity itself rather than its ID
p34649
aVWhen the transaction ends, the flush will happen, and users of the entity outside of the transaction will thus see the generated ID in the entity
p34650
as(dp34651
g23
V571407
p34652
stp34653
a((dp34654
g2
(lp34655
VIt works without specifying JoinColumn or JoinTable because the JPA specification defines default mappings in case these annotations are not present:
p34656
ag12
aV10
p34657
ag14
aV2 Unidirectional ManyToOne Relationships
p34658
aVThe following mapping defaults apply:
p34659
aVEntity A is mapped to a table named A
p34660
aVEntity B is mapped to a table named B
p34661
aVTable A contains a foreign key to table B
p34662
aVThe foreign key column name
p34663
aVis formed as the concatenation of the following: the name of the
p34664
aVrelationship property or field of entity A; "_"; the name of the
p34665
aVprimary key column in table B
p34666
aVThe foreign key column has the same type as the primary key of table
p34667
aVB
p34668
as(dp34669
g23
V571407
p34670
stp34671
a((dp34672
g2
(lp34673
VUse the IDENTITY generator, and use the  attribute of  to specify the type of the column:
p34674
as(dp34675
g23
V571407
p34676
stp34677
a((dp34678
g2
(lp34679
VBecause you call a method that declares that it throws a FileNotFoundException, and you don't catch the exception, nor do you declare that the enclosing method throws it
p34680
aVThis is not allowed in Java
p34681
aVAll checked exceptions must either be caught, or declared in the  clause of the method:
p34682
aVIf you can handle the exception and do something meaningful that makes you program continue to work as expected, then catch the exception
p34683
aVIf you can't handle it in this method, then let the caller of your method handle it for you, and let it propagate by declaring it in the throws clause
p34684
as(dp34685
g23
V571407
p34686
stp34687
a((dp34688
g2
(lp34689
VAs the javadoc indicates, the  method is for numbers
p34690
aVUse greaterThanOrEqualTo(), which accepts any
p34691
as(dp34692
g23
V571407
p34693
stp34694
a((dp34695
g2
(lp34696
VThe content pane uses a BorderLayout by default
p34697
aVWhen you add a panel to the content pane, you add it to the center of the BorderLayout
p34698
aVSo when you add the second panel, it replaces the first one in the center of the layout
p34699
aVIf you want the two panels to be painted one on top of the other, then you don't have the appropriate strategy
p34700
aVCreate a single panel, which combines the paintings of the two panels you have at the moment
p34701
as(dp34702
g23
V571407
p34703
stp34704
a((dp34705
g2
(lp34706
VAdd a method to the bean:
p34707
as(dp34708
g23
V571407
p34709
stp34710
a((dp34711
g2
(lp34712
VYou're violating two rules of OO programming:
p34713
aVdo not talk to strangers
p34714
aVencapsulation
p34715
aVNote that these rules are just rules, and that they can, or even must be broken sometimes
p34716
aVBut if some data is owned by an object, and the object is supposed to guarantee some invariants on the objects it owns, then it should not expose its mutable internal data structures to the outside
p34717
aVHence the need for a defensive copy
p34718
aVAnother often used idiom is to return unmodifiable views of the mutable data structures:
p34719
aVThis idiom, or the defensive copy idiom, can be important, for example, if you must make sure that every modification to the list goes through the object:
p34720
aVIf you don't make a defensive copy or return an unmodifiable view of the list, a caller could add a foo to the list directly, and the listener would not be called
p34721
as(dp34722
g23
V571407
p34723
stp34724
a((dp34725
g2
(lp34726
VThe documentation says:
p34727
aVincrement
p34728
aVgenerates identifiers of type long, short or int that are unique only when no other process is inserting data into the same table
p34729
aVDo
p34730
aVnot use in a cluster
p34731
aVYou probably have another process inserting rows in the same table, and Hibernate is unaware of it, because the increment generator just storesthe next value in memory and assumes it's the only one to insert rows in this table
p34732
as(dp34733
g23
V571407
p34734
stp34735
a((dp34736
g2
(lp34737
VThat's normal and expected behavior
p34738
aVIf Hibernate did an update query each time a persistent property is modified, the performance would be disastrous
p34739
aVThe state of all the modified entities is persisted in database at flush time
p34740
aVThe flush happens
p34741
aVat commit time
p34742
aVwhen you call  or  explicitely
p34743
aVwhen you execute a query (HQL or Criteria) that queries one of the tables of the modified entities
p34744
aVYou should thus not have any error, except if you do a query "behind the back" of Hibernate, using JDBC or some native query
p34745
aVIf so, flush explicitely before executng this query
p34746
as(dp34747
g23
V571407
p34748
stp34749
a((dp34750
g2
(lp34751
VHQL uses entities and their properties
p34752
aVIt doesn't use table and column names
p34753
aVNote that this join (and the where clause in your query) doesn't serve any purpose, since all the Child are linked to a parent (the join column being not null)
p34754
aVThe Hibernate documentation has a whole chapter dedicated to HQL
p34755
aVRead it
p34756
aVSide note:  is really a terrible name
p34757
as(dp34758
g23
V571407
p34759
stp34760
a((dp34761
g2
(lp34762
VThe javadoc says:
p34763
aVThe pathname specified may be relative, although it cannot extend
p34764
aVoutside the current servlet context
p34765
aV(emphasis mine)
p34766
aVSo, what you're asking is not possible
p34767
as(dp34768
g23
V571407
p34769
stp34770
a((dp34771
g2
(lp34772
VA NavigableMap is a Map
p34773
aVYou get all its keys using , all its values using , and all its entries using
p34774
as(dp34775
g23
V571407
p34776
stp34777
a((dp34778
g2
(lp34779
VOf course it's possible
p34780
aVBut not using a method of customVenue (unless the entity has a reference to the entity manager, which is a bad idea)
p34781
aVExecute a query:
p34782
as(dp34783
g23
V571407
p34784
stp34785
a((dp34786
g2
(lp34787
VNo
p34788
aVYou're allowed to extend only one class, but this class can itself extend another one
p34789
aVIf you don't specify any superclass in the extends clause, you extend from Object directly
p34790
aVIf you specify a class in the extends clause, you extend from this class, which extends its own superclass, etc
p34791
aV, until Object
p34792
as(dp34793
g23
V571407
p34794
stp34795
a((dp34796
g2
(lp34797
VThe javadoc or OrderColumn has the information you're looking for:
p34798
aVThe OrderColumn annotation is specified on the side of the
p34799
aVrelationship that references the collection that is to be ordered
p34800
aVThe
p34801
aVorder column is not visible as part of the state of the entity or
p34802
aVembeddable class
p34803
aVThe OrderBy annotation should be used for ordering that is visible as
p34804
aVpersistent state and maintained by the application
p34805
aVThe OrderBy
p34806
aVannotation is not used when OrderColumn is specified
p34807
aVOrderColumn is used to add an additional column to the join table, used to maintain the order of the list
p34808
aVThe order column, as mentioned in the javadoc, is not part of the entity state
p34809
aVIn your case, it seems you want to order the elements in the list by one of their persistent property
p34810
aVIn that case, you must use the OrderBy annotation (or have a getter that sorts the list before returning it)
p34811
as(dp34812
g23
V571407
p34813
stp34814
a((dp34815
g2
(lp34816
VThat's because in SQL,  is always false, even if  is null
p34817
aVTo compare a column with null, you must use , instead of
p34818
as(dp34819
g23
V571407
p34820
stp34821
a((dp34822
g2
(lp34823
VOracle doesn't have an auto_increment type
p34824
aVYou should use a sequence generator, as shown and explained in this section of the Hibernate reference manual
p34825
as(dp34826
g23
V571407
p34827
stp34828
a((dp34829
g2
(lp34830
VIt shouldn't be at the project root, but directly under the source folder
p34831
aVAt runtime, the persistence
p34832
aVxml file is searched in the classpath, under META-INF
p34833
aVSo if you want the META-INF folder to be put at the top of the compiled package tree, you need to put it at the top of the source tree
p34834
aVEclipse copies every non-Java file to its output directory (bin, by default), respecting the package/folder hierarchy
p34835
as(dp34836
g23
V571407
p34837
stp34838
a((dp34839
g2
(lp34840
VI'm pretty sure that  won't return the value of a key that was initialized with the next value of a sequence
p34841
aVIndeed, in this case, the database doesn't generate the key by itself (like it would with an auto-increment column)
p34842
aVIf you want to know the generated key, then execute a first query:
p34843
aVand then use the result of this first query to execute your prepared statement:
p34844
as(dp34845
g23
V571407
p34846
stp34847
a((dp34848
g2
(lp34849
VThere is no way for server-side Java code to modify the history of the client-side browser
p34850
aVI wouldn't mess with the browser history: users expect a consistent and predictable behavior for the back button
p34851
aVIf they want to go back to the login page, let them go back to the login page
p34852
as(dp34853
g23
V571407
p34854
stp34855
a((dp34856
g2
(lp34857
VTo answer your question about the array syntax, this is just how you define an array in Java:
p34858
aVThe expression  is thus an array of  instances, containing one element: the result of , which is thus the class of
p34859
aVNote that I don't know where you got this code from, but I wouldn't call it good code:
p34860
aVit uses reflection, which is, most of the time, a bad idea;
p34861
aVit doesn't respect JavaBean conventions, and doesn't use  API to get access to the setter method
p34862
aVit doesn't support inheritance, which means that you can only call  with an object of type Object (and not String, Integer, or whatever)
p34863
as(dp34864
g23
V571407
p34865
stp34866
a((dp34867
g2
(lp34868
VA properties file contains static values, fixed at compile time (or deployment time)
p34869
aVA database contains dynamic values, that you can change while the application is running
p34870
as(dp34871
g23
V571407
p34872
stp34873
a((dp34874
g2
(lp34875
VThe display tag has nothing to do with pictures
p34876
aVIts goal is to generate tables
p34877
aVIf you want to display some picture in a column of a table, then use the following code:
p34878
aVThis assumes that the beans you iterate over have a method  which returns an absolute or context-relative URL of a picture to display for this bean
p34879
as(dp34880
g23
V571407
p34881
stp34882
a((dp34883
g2
(lp34884
VHere's how you iterate through an array in JSTL (Note that I pluralized your userName variable, since it's an array):
p34885
aVSince you array is an array of arrays, you can nest two iterations:
p34886
aVNote that JavaScript executes at client-side, whereas the JSP is executed at server-side
p34887
aVWhen JS code executes, it doesn't have access to your server-side Java array
p34888
aVIf you need to access the contents of the Java array at client-side, you should serialize it with JSON, and parse the resulting JSON String in JavaScript
p34889
as(dp34890
g23
V571407
p34891
stp34892
a((dp34893
g2
(lp34894
VIt's sometimes useful, yes
p34895
aVIf the class is extendable, make sure to make the method final
p34896
aVAlso, document the fact that the method is not supposed to be called by subclasses or external classes of the same package
p34897
aVI use the Guava @VisibleForTesting annotation to make it clear that the method should in fact be private
p34898
as(dp34899
g23
V571407
p34900
stp34901
a((dp34902
g2
(lp34903
VYou could use a function-based unique index, if your database allows them
p34904
aVExample in Oracle:
p34905
as(dp34906
g23
V571407
p34907
stp34908
a((dp34909
g2
(lp34910
VThe Spring documentation recommends avoiding HibernateTemplate completely, and use the Hibernate API directly instead:
p34911
aVNOTE: As of Hibernate 3
p34912
ag2332
aV1, transactional Hibernate access code can
p34913
aValso be coded in plain Hibernate style
p34914
aVHence, for newly started
p34915
aVprojects, consider adopting the standard Hibernate3 style of coding
p34916
aVdata access objects instead, based on
p34917
aVSessionFactory
p34918
aVgetCurrentSession()
p34919
aVAnd the  annotation should always be put on methods of the service layer
p34920
aVThis is the layer that demarcates transactions
p34921
aVRead http://static
p34922
aVspringsource
p34923
aVorg/spring/docs/3
p34924
ag10
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p34925
aVhtml#orm-session-factory-setup to understand how to setup a session factory
p34926
aVOnce done, the session factory can be injected in your DAOs:
p34927
as(dp34928
g23
V571407
p34929
stp34930
a((dp34931
g2
(lp34932
VSome remarks:
p34933
aVyou forgot to declare the return type of
p34934
aVthere is no javadoc
p34935
aVAlthough most of the methods are obvious, what does  do, for example
p34936
aVIs the argument the new level (in which case it does the same thing as ), or is it an increment
p34937
aVWhat's the state of the object when constructed using the no-arg constructor
p34938
aVif  is overridden, then  must also be
p34939
aVThe contract is that equal objects MUST have the same hashCode
p34940
aVMoreover, the  method should take an  as argument
p34941
aVYou may implement an  method, but be aware that you would then not override the  method, and this method would thus never be called by the collection classes
p34942
aVit's bizarre to have  methods, but no
p34943
aVit's bizarre to not have limits (although it's not asked in the question)
p34944
aVFinally, your snippet doesn't do what is asked
p34945
aVIt should:
p34946
aVcreate a unique  instance, with the volume set to 1 and not muted
p34947
aVcall  in a loop of 9 iterations
p34948
aVmute it by calling
p34949
aVcall  and  and check that the values are  and  respectively
p34950
aVThe question doesn't ask you to implement equals and to test the equality between two VolumeModel instances
p34951
as(dp34952
g23
V571407
p34953
stp34954
a((dp34955
g2
(lp34956
VHibernate won't do it magically for you
p34957
aVYou'll have to implement it yourself:
p34958
as(dp34959
g23
V571407
p34960
stp34961
a((dp34962
g2
(lp34963
VThis is well explained in the JDBC tutorial:
p34964
aVThere are many possible implementations of JDBC drivers
p34965
aVThese
p34966
aVimplementations are categorized as follows:
p34967
aVType 1: Drivers that implement the JDBC API as a mapping to another data access API, such as ODBC (Open Database Connectivity)
p34968
aVDrivers of this type are generally dependent on a native library,
p34969
aVwhich limits their portability
p34970
aVThe JDBC-ODBC Bridge is an example of
p34971
aVa Type 1 driver
p34972
aVNote: The JDBC-ODBC Bridge should be considered a transitional solution
p34973
aVIt is not supported by Oracle
p34974
aVConsider using this only if
p34975
aVyour DBMS does not offer a Java-only JDBC driver
p34976
aVType 2: Drivers that are written partly in the Java programming language and partly in native code
p34977
aVThese drivers use a native client
p34978
aVlibrary specific to the data source to which they connect
p34979
aVAgain,
p34980
aVbecause of the native code, their portability is limited
p34981
aVOracle's OCI
p34982
aV(Oracle Call Interface) client-side driver is an example of a Type 2
p34983
aVdriver
p34984
aVType 3: Drivers that use a pure Java client and communicate with a middleware server using a database-independent protocol
p34985
aVThe
p34986
aVmiddleware server then communicates the client's requests to the data
p34987
aVsource
p34988
aVType 4: Drivers that are pure Java and implement the network protocol for a specific data source
p34989
aVThe client connects directly to
p34990
aVthe data source
p34991
as(dp34992
g23
V571407
p34993
stp34994
a((dp34995
g2
(lp34996
VYou can't have a column mapped twice, which is the case with your  column
p34997
aVYou're making it harder than necessary
p34998
aVIf I understand correctly, you have the following associations:
p34999
aVLookup - OneToMany - Group
p35000
aVLookup - OneToMany - Keyword
p35001
aVGroup - ManyToMany - Keyword
p35002
aVIf that's right, you don't need to map the groupkw table as an entity: it's a join table, and can be handled by JPA
p35003
aVYou just need :
p35004
aVLookup (id PK)
p35005
aVGroup (id PK, lookupId FK)
p35006
aVKeyword (id PK, lookupId FK)
p35007
aVGroupKeyWord (groupId FK, keywordId FK), the PK of this table being the tuple (groupId, keywordId)
p35008
as(dp35009
g23
V571407
p35010
stp35011
a((dp35012
g2
(lp35013
VSuppose you have a Person entity with a OneToMany association to the Contact entity
p35014
aVWhen you get a Person from the entityManager, calling any method on its collection of contacts will lazily load the list of contacts of that person:
p35015
aVIf you want to use a single query to load a person and all its contacts, you need a  in the SQL query:
p35016
aVYou can also mark the association itself as eager-loaded, using , but then every time a person is loaded (vie  or any query), its contacts will also be loaded
p35017
as(dp35018
g23
V571407
p35019
stp35020
a((dp35021
g2
(lp35022
VThat's indeed expected behavior
p35023
aVconsists in
p35024
aVgetting the entity with the same ID as the detached one passed as argument,
p35025
aVcopying the state of the detached entity to the attached one,
p35026
aVand returning the attached entity
p35027
aVSo, obviously, if you don't reinitialize the lazy collection of the returned attached entity, the collection won't be loaded
p35028
as(dp35029
g23
V571407
p35030
stp35031
a((dp35032
g2
(lp35033
VAnnotate the method, class or declaration with the findbugs SuppressWarnings annotations
p35034
aVFor example:
p35035
aVMore information about FindBugs annotations here
p35036
as(dp35037
g23
V571407
p35038
stp35039
a((dp35040
g2
(lp35041
VYou probably chose the increment generator, which stored the max value in memory and then increments it
p35042
aVThis strategy is not appropriate when you have multiple processes accessing the database (i
p35043
ag468
aVmost of the time)
p35044
aVChoose another strategy (sequence, table, native, depending on your database capabilities and your preferences)
p35045
aVSee http://docs
p35046
aVjboss
p35047
aVorg/hibernate/core/3
p35048
aV6/reference/en-US/html_single/#mapping-declaration-id-generator for details
p35049
as(dp35050
g23
V571407
p35051
stp35052
a((dp35053
g2
(lp35054
VSVN uses the svn:mergeinfo property to track merges
p35055
aVIt probably doesn't merge the other revisions because they have been merged already
p35056
aVSee http://svnbook
p35057
aVred-bean
p35058
aVcom/en/1
p35059
aV7/svn-book
p35060
aVhtml#svn
p35061
aVbranchmerge
p35062
aVbasicmerging
p35063
aVmergeinfo for details
p35064
as(dp35065
g23
V571407
p35066
stp35067
a((dp35068
g2
(lp35069
VThe  class has a  method, and the  interface has a  method
p35070
aVGenerate a random index between 0 and the size of the list, and get the word at the resulting index from the list
p35071
as(dp35072
g23
V571407
p35073
stp35074
a((dp35075
g2
(lp35076
VNo, you can't
p35077
aVQuote from the documentation:
p35078
aVNote that HQL subqueries can occur only in the select or where
p35079
aVclauses
p35080
as(dp35081
g23
V571407
p35082
stp35083
a((dp35084
g2
(lp35085
VHere's what the section 2
p35086
ag14
aV1 of the JPA2 specification says:
p35087
aVBy default, a single access type (field or property access) applies to
p35088
aVan entity hierarchy
p35089
aVThe default access type of an entity hierarchy is
p35090
aVdetermined by the placement of mapping annotations on the attributes
p35091
aVof the entity classes and mapped superclasses of the entity hierarchy
p35092
aVthat do not explicitly specify an access type
p35093
aVAn access type is
p35094
aVexplicitly specified by means of the Access annotation[6], as
p35095
aVdescribed in section 2
p35096
ag14
ag12
aVWhen annotations are used to define a
p35097
aVdefault access type, the placement of the mapping annotations on
p35098
aVeither the persistent fields or persistent properties of the entity
p35099
aVclass specifies the access type as being either field- or
p35100
aVproperty-based access respectively
p35101
aVWhen field-based access is used, the object/relational mapping annotations for the entity class annotate the instance variables, and
p35102
aVthe persistence provider runtime accesses instance variables directly
p35103
aVAll non-transient instance variables that are not annotated with the
p35104
aVTransient annotation are persistent
p35105
aVWhen property-based access is used, the object/relational mapping annotations for the entity class annotate the getter property
p35106
aVaccessors[7], and the persistence provider runtime accesses persistent
p35107
aVstate via the property accessor methods
p35108
aVAll properties not annotated
p35109
aVwith the Transient annotation are persistent
p35110
aVMapping annotations must not be applied to fields or properties that are transient or Transient
p35111
aVAll such classes in the entity hierarchy whose access type is
p35112
aVdefaulted in this way must be consistent in their placement of
p35113
aVannotations on either fields or properties, such that a single,
p35114
aVconsistent default access type applies within the hierarchy
p35115
aVAny
p35116
aVembeddable classes used by such classes will have the same access type
p35117
aVas the default access type of the hierarchy unless the Access
p35118
aVannotation is specified as defined below
p35119
aVIt is an error if a default
p35120
aVaccess type cannot be determined and an access type is not explicitly
p35121
aVspecified by means of annotations or the XML descriptor
p35122
aVThe behavior
p35123
aVof applications that mix the placement of annotations on fields and
p35124
aVproperties within an entity hierarchy without explicitly specifying
p35125
aVthe Access annotation is undefined
p35126
aVSo, if you want to avoid problems with the obfuscation, then annotate the fields and not the getters, consistently, or use the @Access annotation to force field access type
p35127
as(dp35128
g23
V571407
p35129
stp35130
a((dp35131
g2
(lp35132
VThe map is an array of N buckets
p35133
aVThe  method starts by calling  on your key
p35134
aVFrom this hash code, it uses a modulo to get the index of the bucket in the map
p35135
aVThen, it iterates through the entries stored in the linked list associated with the found bucket, and compares each entry key with your key, using the  method
p35136
aVIf one entry has a key equal to your key, its value is replaced by the new value
p35137
aVElse, a new entry is created with the new key and the new value, and stored in the linked list associated with the bucket
p35138
aVSince Cat instances and String instances are never equal, a value associated with a String key will never be modified by putting a value associated with a Cat key
p35139
as(dp35140
g23
V571407
p35141
stp35142
a((dp35143
g2
(lp35144
VIf the result is disastrous, you shouldn't code the class so that it allows it
p35145
aVThe "bug" is not caused by code external to the class, but by code of the class itself
p35146
aVSo it's simply a bug in your code
p35147
aVIf Java did not allow it, you could only compare objects of the same class by their public attributes, for example, which would either break encapsulation (by exposing private stuff), and/or be very slow (by forcing to make defensive copies of the private attributes to make them available to other objects
p35148
as(dp35149
g23
V571407
p35150
stp35151
a((dp35152
g2
(lp35153
VIt's useful to link a product with a BillType entity if it's possible to add, remove and modify bill types at runtime without any need to rebuild and redeploy a new version of the application
p35154
aVThis is not the case with your example
p35155
aVSo if what you have is a static set of bill types, each defining a static behavior encapsulated by the BillType subclass, you could simply have a BillType enum instead
p35156
aVEach instance of this enum defining its own behavior
p35157
aVYou don't need an entity hierarchy and an additional table for this
p35158
aVThe code to calculate the InVal in the Product entity would be exactly the same:
p35159
aVThe code to get all the bill types would be
p35160
aVAnd instead of the following code to associate a bill type to a product:
p35161
aVyou would simply have
p35162
as(dp35163
g23
V571407
p35164
stp35165
a((dp35166
g2
(lp35167
VUsing the JSP EL
p35168
aVIn the action:
p35169
aVIn the JSP:
p35170
aVThe action form is stored as a request or session attribute by Struts
p35171
aVThe name of this attribute is the name given to the action form in the struts-config
p35172
aVxml file
p35173
as(dp35174
g23
V571407
p35175
stp35176
a((dp35177
g2
(lp35178
VThe only way that I know of is the commit message
p35179
aVYou can use your command-line grep-fu to search for the commits you want in the output of the  command
p35180
aVOr you can write a utility which searches for the commits using the result of , or you can use your preferred SVN GUI client, which could have this utility built-in
p35181
aVFor example, TortoiseSVN has a filter box in the log window that allows searching for commits containing a given text in their message
p35182
aVSee the screenshot here
p35183
as(dp35184
g23
V571407
p35185
stp35186
a((dp35187
g2
(lp35188
VA stateless session bean may have state
p35189
aVBut it may not have conversational state
p35190
aVSo it's perfectly acceptable that a session bean method does the following (although bad practice):
p35191
aVBesides pooling, the EJB container provides several services with stateless beans:
p35192
aVdependency injection
p35193
aVdeclarative transaction demarcation
p35194
aVdeclarative security
p35195
aVaccess to the EJB context
p35196
aVetc
p35197
aVSo a stateless session bean is much more useful than a simple stateless singleton
p35198
as(dp35199
g23
V571407
p35200
stp35201
a((dp35202
g2
(lp35203
VYou're reinventing what is already done by default by the Java serialization:
p35204
aVQuote from
p35205
aVhttp://docs
p35206
aVoracle
p35207
aVcom/javase/1
p35208
ag194
aV0/docs/guide/serialization/relnotes15
p35209
aVhtml:
p35210
aVSupport has been added to serialization to handle enumerated types,
p35211
aVwhich are new in version 5
p35212
ag2332
aVThe rules for serializing an enum
p35213
aVinstance differ from those for serializing an "ordinary" serializable
p35214
aVobject: the serialized form of an enum instance consists only of its
p35215
aVenum constant name, along with information identifying its base enum
p35216
aVtype
p35217
aVDeserialization behavior differs as well--the class information
p35218
aVis used to find the appropriate enum class, and the Enum
p35219
aVvalueOf
p35220
aVmethod is called with that class and the received constant name in
p35221
aVorder to obtain the enum constant to return
p35222
as(dp35223
g23
V571407
p35224
stp35225
a((dp35226
g2
(lp35227
VThe format is described in the java
p35228
aVutil
p35229
aVProperties documentation
p35230
aVAnd yes, the  character is only considered as the start of a comment if it's the first non-whitespace character of the line
p35231
as(dp35232
g23
V571407
p35233
stp35234
a((dp35235
g2
(lp35236
VYou're doing Integer multiplication, and then transforming the result into a long
p35237
aVThe multiplication overflows, so the result is negative
p35238
aVUse the following code to do long multiplication:
p35239
as(dp35240
g23
V571407
p35241
stp35242
a((dp35243
g2
(lp35244
VYou never add anything to your list
p35245
aVAdd the following lines:
p35246
aVm_excercizes
p35247
aVadd(e1);
p35248
aVm_excercizes
p35249
aVadd(e2);
p35250
aVAnd please stick to the Java naming conventions:  instead of
p35251
aVMoreover, the  method is part of the class
p35252
aVNaming it this way is redundant
p35253
aVis sufficient
p35254
aVHere's the link of the documentation of J2SE: http://docs
p35255
aVoracle
p35256
aVcom/javase/6/docs/api/
p35257
as(dp35258
g23
V571407
p35259
stp35260
a((dp35261
g2
(lp35262
VThe  needs to be JavaScript-escaped to be put in a JavaScript string literal
p35263
aVUse commons-lang  to eascape the message, and pass this escaped message to your JSP
p35264
as(dp35265
g23
V571407
p35266
stp35267
a((dp35268
g2
(lp35269
VYou could enclose all your logging calls inside an  block and inject the test attribute
p35270
aVOr you could enclose them into an  block and configure logging with info disabled, or inject a mock logger which returns false for
p35271
aVBut logging is a key part of your code
p35272
aVSo if you really want to test that it won't blow up in production, you should either test for nulls in your production code, or prove that these attributes may never return null, and inject a mock which doesn't return null either
p35273
aVPS: do you really intend to keep properties named  and  in your code
p35274
as(dp35275
g23
V571407
p35276
stp35277
a((dp35278
g2
(lp35279
s(dp35280
g23
V571407
p35281
stp35282
a((dp35283
g2
(lp35284
VUse , iterate through the array, get each value (using ), check if it's already in a Set, and store it in the Set if it's not there already
p35285
as(dp35286
g23
V571407
p35287
stp35288
a((dp35289
g2
(lp35290
VA Struts action is not a standard Java EE web component, and is not instantiated and managed by the Java EE container, so EJBs are not injected in Struts actions
p35291
aVUse JNDI to lookup your beans, or use http://code
p35292
aVgoogle
p35293
aVcom/p/struts-di/ (not tested)
p35294
aVAlso see EJB 3
p35295
aV1: Does it allow injection of beans into resources not managed by the container
p35296
aVfor a similar question
p35297
as(dp35298
g23
V571407
p35299
stp35300
a((dp35301
g2
(lp35302
VGet all the files, sort them by date, and take the last 10 elements
p35303
as(dp35304
g23
V571407
p35305
stp35306
a((dp35307
g2
(lp35308
VIn HQL, you use entities, not tables
p35309
aVAnd entities are linked together by associations (OneToOne, OneToMany, etc
p35310
aVJoins can anly be done between associated entities
p35311
aVFor example, if you have a ManyToOne association between Product and Provider, the HQL query is:
p35312
aVThe on clause is unnecessary, because Hibernate knows from the mapping of the ManyToOne association that a Product is associated with its provider using the product
p35313
aVid_provider foreign key to the provider
p35314
aVid_provider primary key
p35315
aVAll of this is very well explained, with lots of examples, in the Hibernate documentation
p35316
as(dp35317
g23
V571407
p35318
stp35319
a((dp35320
g2
(lp35321
VHow about reading the documentation
p35322
aVboolean isElementPresent(java
p35323
aVlang
p35324
aVString locator)
p35325
aVVerifies that the specified element is somewhere on the page
p35326
aVboolean isVisible(java
p35327
aVlang
p35328
aVString locator)
p35329
aVDetermines if the specified element is visible
p35330
aVAn element can be
p35331
aVrendered invisible by setting the CSS "visibility" property to
p35332
aV"hidden", or the "display" property to "none", either for the element
p35333
aVitself or one if its ancestors
p35334
aVThis method will fail if the element
p35335
aVis not present
p35336
as(dp35337
g23
V571407
p35338
stp35339
a((dp35340
g2
(lp35341
VIf you want to compare two dates formatted differently,
p35342
aVparse the first string with the appropriate date format to transform the string into a Date
p35343
aVparse the second string with the appropriate date format to transform the string into a Date
p35344
aVcompare the Date objects
p35345
as(dp35346
g23
V571407
p35347
stp35348
a((dp35349
g2
(lp35350
VThere are two easy ways to have one thread wait for N threads to finish:
p35351
aVMake the main thread call join() on all the other threads
p35352
aVjoin() returns when a thread finishes, or has already finished
p35353
aVCreate a CountDownLatch initialized to N, pass this latch to all the threads, make each thread call  on the latch when it has finished, and make the main thread call  on the latch
p35354
aVThis second technique is a bit harder than the first one, but is also more flexible and reusable, and allows being awaken after some delay, even if the N threads have not finished yet
p35355
as(dp35356
g23
V571407
p35357
stp35358
a((dp35359
g2
(lp35360
VA HTTP session has nothing to do with Hibernate, and not much to do with Spring MVC
p35361
aVIt's part of the standard Servlet API
p35362
aVA session is started as soon as you call , ( being an ) or as soon as a JSP is executed (unless you have specifically configured it to avoid making it start a session)
p35363
aVYou just have to assume that the session is there
p35364
aVIt's started automatically when you get it from the request, if it doesn't exist yet
p35365
aVOnce a user is authenticated, you can store some user information in the session
p35366
aVBut unauthenticated users also have a session
p35367
as(dp35368
g23
V571407
p35369
stp35370
a((dp35371
g2
(lp35372
VWhy don't you store Student objects in your list, each having a name, an ID and an age
p35373
aVThis would be much more maintainable, and easy to program
p35374
aVAt the moment, you use the same index in the list to find the three properties
p35375
aVYou would need to iterate by steps of 3 in the loop, and get the elements i, i+1 and i+2 to make it work
p35376
as(dp35377
g23
V571407
p35378
stp35379
a((dp35380
g2
(lp35381
VAn interface defines behavior
p35382
aVFor example, a  interface might define the  method
p35383
aVA Car is a Vehicle, but has additional behavior
p35384
aVFor example, the  interface might define the  method
p35385
aVSince a Car is also a Vehicle, the  interface extends the  interface, and thus defines two methods:  (inherited) and
p35386
aVThe Car interface doesn't have any method implementation
p35387
aVIf you create a class (Volkswagen) that implements Car, it will have to provide implementations for all the methods of its interface:  and
p35388
aVAn interface may not implement any other interface
p35389
aVIt can only extend it
p35390
as(dp35391
g23
V571407
p35392
stp35393
a((dp35394
g2
(lp35395
VThe first question to ask is: could these private methods be part of the public interface of an additional helper class
p35396
aVIn this case, you could test this helper class, and inject a mock helper in the original class
p35397
aVIf it's not possible, then make these private methods protected, document the fact that they're protected only in order to be tested and that they should not be called or overridden by subclasses, and put the test class in the same packaged as the class under test to be able to access this protected method
p35398
aVI use the  annotation provided by Guava in this case
p35399
as(dp35400
g23
V571407
p35401
stp35402
a((dp35403
g2
(lp35404
VYou need to modify the lists, not the map
p35405
aVSo the code should be:
p35406
as(dp35407
g23
V571407
p35408
stp35409
a((dp35410
g2
(lp35411
VBy having another thread modifying the list, for example
p35412
aVJust because you synchronize this code block doesn't mean all the accesses to the list are blocked
p35413
aVIt only makes sure that all the other blocks synchronized on the list can't execute in parallel
p35414
aVIf the list is shared by several threads, all its usages must be synchronized on the same monitor
p35415
as(dp35416
g23
V571407
p35417
stp35418
a((dp35419
g2
(lp35420
VThere is no global variable in Java
p35421
aVA field should only exist if it is a property of the object
p35422
aVIt should not be used, for example, to store intermediate results between two method calls of the object
p35423
aVGetters should only be defined if the outside world needs to access the information
p35424
aVIf it doesn't need to, don't define a getter
p35425
aVThe more private state is, the best it is because it allows the class to eveolve without impacting the other classes
p35426
aVA setter should only be modified if the modification of the field is needed, and if it makes sense to modify this field in isolation to the other ones
p35427
aVGood rules:
p35428
aVLess state is better than more state
p35429
aVImmutable state is better than mutable state
p35430
aVA method should always bring an object from a stable consistent state to another stable consistent state
p35431
as(dp35432
g23
V571407
p35433
stp35434
a((dp35435
g2
(lp35436
VThe sort and pagination links generated by displaytag have the same request parameters as the ones sent in the request displaying the table
p35437
aVSo, if you post a form with the request parameters  and , and display a table as the result of this request submission, the generated links will have an href looking like this:
p35438
aVSo, when you click on the links, you'll send a new request to your server, and this request should use the parameters sent to get back the list of data to display and make them accessible to the JSP
p35439
aVThe display tag in the JSP will regenerate the table, and use the displaytag-specific parameters (the ones beginning with ) to sort the data and display only the appropriate page
p35440
as(dp35441
g23
V571407
p35442
stp35443
a((dp35444
g2
(lp35445
VJava picked the semicolon to have a syntax similar to C and C++
p35446
aVC++ picked it to have a syntax similar to C
p35447
aVAnd I would guess that C picked the semicolon because B, ALGOL and Pascal already used it, and there was no reason not to use an already accepted convention
p35448
as(dp35449
g23
V571407
p35450
stp35451
a((dp35452
g2
(lp35453
VThen unit-test
p35454
as(dp35455
g23
V571407
p35456
stp35457
a((dp35458
g2
(lp35459
V affects another JList object to the  field
p35460
aVIf you set a custom renderer to  before executing this line, you set the renderer on another JList object, and there is no way that the renderer becomes magically attached to the new selected list
p35461
aVYou're confusing variables and objects
p35462
aVWhen you call a method on the object, you're modifying the object the variable points to, and not the variable itself
p35463
aVIf you want to attach the same cell renderer to the newly selected JList, you need the following code:
p35464
as(dp35465
g23
V571407
p35466
stp35467
a((dp35468
g2
(lp35469
VThere are several reasons
p35470
aVFirst because at the time the script is evaluated, the HTML page has not been loaded yet and the dom is not ready
p35471
aVSo the div can't be found and modified by jQuery
p35472
aVYou need to enclose the script into a callback function and register this callback function with
p35473
aVSecond because HTML pages are not supposed to access the local drive of the end user to load images
p35474
aVAnd even if they did, it would need to use the file:// protocol
p35475
aVThe images should be served over HTTP, as your page is
p35476
as(dp35477
g23
V571407
p35478
stp35479
a((dp35480
g2
(lp35481
VCreating 1000 LinkedList objects (and garbage-collecting them) has a negligible cost compared to downloading millions of files
p35482
aVWe're talking about 1 milli-second vs
p35483
aVhours here
p35484
aVSome meters vs
p35485
aVthe distance from the earth to the moon
p35486
aVYou're pre-optimizing, and as is usually the case when pre-optimizing, you're doing it at the wrong place
p35487
aVThat said, a list is a dynamically sized data structure, and you don't need to know its maximum size to be able to reuse it
p35488
aVIt will grow dynamically:
p35489
as(dp35490
g23
V571407
p35491
stp35492
a((dp35493
g2
(lp35494
VThe key to OO design is encapsulation
p35495
aVAnd when dealing with multiple threads, it becomes even more important
p35496
aVIf those two variables constitute shared state that must be updated and read coherently, then
p35497
aVthis shared state should not be public, because it forces every client of this state to respect a collaboration protocol with the other ones
p35498
aVthis shared state should be encapsulated in an object, which controls access to the state
p35499
aVSo, the fields of the AppState object should be private
p35500
aVThat's a rule that is true in 99% of the cases
p35501
aVPublic fields are a big no-no
p35502
aVAnd then all the accesses to the fields should be synchronized (both read and writes)
p35503
aVSince those two fields constitute a single coherent piece of information, you should put them into a single class (let's call it WriterState)
p35504
aVIf this class is mutable, you have to make a copy of the one helf by the shared state each time the getState() and setState() is called, so it's easier and faster to use an immutable class, which can be shared by multiple threads without synchronization
p35505
aVIf the WriterState class was mutable, here's what you should do to make it thread-safe:
p35506
as(dp35507
g23
V571407
p35508
stp35509
a((dp35510
g2
(lp35511
VFindBugs supports those annotations
p35512
aVThe support for those annotations and others is described in this documentation page
p35513
as(dp35514
g23
V571407
p35515
stp35516
a((dp35517
g2
(lp35518
VThis is a method call followed by a block of code
p35519
aVThe block of code has nothing to do with the preceding method call
p35520
aVIts only use is to define a new block scope (allowing to define local variables that are visible only in this block)
p35521
as(dp35522
g23
V571407
p35523
stp35524
a((dp35525
g2
(lp35526
VThe javadoc says:
p35527
aVIn addition, the LogManager uses two optional system properties that
p35528
aVallow more control over reading the initial configuration:
p35529
aVThese two properties may be set via the Preferences API, or as command
p35530
aVline property definitions to the "java" command, or as system property
p35531
aVdefinitions passed to JNI_CreateJavaVM
p35532
aVIf the "java
p35533
aVutil
p35534
aVlogging
p35535
aVconfig
p35536
aVclass" property is set, then the
p35537
aVproperty value is treated as a class name
p35538
aVThe given class will be
p35539
aVloaded, an object will be instantiated, and that object's constructor
p35540
aVis responsible for reading in the initial configuration
p35541
aV(That object
p35542
aVmay use other system properties to control its configuration
p35543
aVThe
p35544
aValternate configuration class can use readConfiguration(InputStream)
p35545
aVto define properties in the LogManager
p35546
aVSo, either use the  system property, and store the config file out of the jar file (which is probably a good idea if you want to be able to customize the logging properties in order to debug or analyze some weird behavior), or store the config file wherever you want (in the jar file, for example), and use the  system property to load and instantiate a class that will read the file in the jar file (Using )
p35547
as(dp35548
g23
V571407
p35549
stp35550
a((dp35551
g2
(lp35552
VYou should  the thread
p35553
aVBlocking calls (like ) will throw an InterruptedException when the thread is interrupted
p35554
aVIf you want to stop as fast as possible while in a tight loop, regularly check is the current thread has been interrupted using the  method
p35555
aVMore information about this in the Java concurrency tutorial
p35556
as(dp35557
g23
V571407
p35558
stp35559
a((dp35560
g2
(lp35561
VYour loop goes from  to , instead of going from  to
p35562
aVArrays and collections indices always go from 0 (included) to size (excluded) in Java
p35563
as(dp35564
g23
V571407
p35565
stp35566
a((dp35567
g2
(lp35568
VWhen a method is synchronized on some object, a thread executing this method blocks all the other threads that try to enter another block/method that is synchronized on the same object
p35569
aVSo, if you want the writer threads to forbid any reader thread to read, you must synchronize both the write and the read method
p35570
aVThere is no reason to synchronize on the Store class
p35571
aVSynchronizing on the Store object is more natural:
p35572
aVThis, however, (maybe) has a drawback: it also forbids two reader threads to read at the same time
p35573
aVIf you really need this to happen, you should use a ReadWriteLock
p35574
aVBut this will lead to code that is less performant, and harder to understand and maintain
p35575
aVI would only use it if I have measured that this is needed
p35576
as(dp35577
g23
V571407
p35578
stp35579
a((dp35580
g2
(lp35581
VYou could use a ThreadLocal to store the connection for each thread:
p35582
aVOr, if the connections can be used (at different times) by several threads, you could create a pool of connections
p35583
aVThe run method would get a connection from the pool (which would dynamically create it  and add it to the set of created connections is none is available), and release it to the pool (in a finally block) when it has finished using it
p35584
aVThis would make the connection available for any other task
p35585
aVThis would have the advantage of making the number of needed connections potentially lower than the number of threads in the thread pool
p35586
as(dp35587
g23
V571407
p35588
stp35589
a((dp35590
g2
(lp35591
VTo be able to make a join between two entities in HQL, you need to have an association between these two entities
p35592
aVYou can't make a join between two unrelated entities on any condition like you can in SQL
p35593
aVHQL and its join capabilities are described in great details in the Hibernate documentation
p35594
aVIf you really need this type of join, use a native query
p35595
as(dp35596
g23
V571407
p35597
stp35598
a((dp35599
g2
(lp35600
VYes, it's possible
p35601
aVRight-click on your project, select "Properties
p35602
aV, then go to the Builders configuration panel, add a new Ant builder, and select which targets must be run at which moment
p35603
as(dp35604
g23
V571407
p35605
stp35606
a((dp35607
g2
(lp35608
VYou could use a servlet filter or a Spring interceptor, and get the recurring data from this filter or interceptor and place it in a request attribute
p35609
as(dp35610
g23
V571407
p35611
stp35612
a((dp35613
g2
(lp35614
VYou at least have the following problem: you don't start and commit any transaction
p35615
aVRead http://docs
p35616
aVjboss
p35617
aVorg/hibernate/core/3
p35618
aV6/reference/en-US/html_single/#transactions-demarcation-nonmanaged for details about how you're supposed to handle Hibernate transactions
p35619
aVNote that since you're using Spring, you should definitely use its Hibernate support, which would completely avoid the need for this HibernateSessionFactory class, and would allow you to demarcate transactions declaratively, instead of programmatically
p35620
aVDon't reinvent the wheel, and read http://static
p35621
aVspringsource
p35622
aVorg/spring/docs/3
p35623
ag10
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p35624
aVhtml#orm-hibernate
p35625
as(dp35626
g23
V571407
p35627
stp35628
a((dp35629
g2
(lp35630
VWhat you can put after  is described in the javadoc tool documentation
p35631
aVYou should never put the URL of any external class or method documentation
p35632
aVInstead, you should put the class/method name, and use the -link option to let javadoc figure out the appropriate URL for you
p35633
as(dp35634
g23
V571407
p35635
stp35636
a((dp35637
g2
(lp35638
VGet the table model of the table, cast it to DefaultTableModel, and use one of its  methods:
p35639
aVUnderstanding how a JTable works, and what the role of its model is, is crucial
p35640
aVYou should not use a visual GUI designer if you don't understand the code it generates, and how to use the components it generates
p35641
aVThe swing tutorial is a very good (and free) resource to understand how Swing works
p35642
as(dp35643
g23
V571407
p35644
stp35645
a((dp35646
g2
(lp35647
VThe best thing to do is to go back to your "pyramid-like" model, by storing your maps in a single object, and serializing this object;
p35648
aVThe serialization mechanism handles graphs and multiple instances of the same object without any problem
p35649
as(dp35650
g23
V571407
p35651
stp35652
a((dp35653
g2
(lp35654
VYou're looking for the -overview option of javadoc
p35655
aVSee http://docs
p35656
aVoracle
p35657
aVcom/javase/6/docs/technotes/tools/windows/javadoc
p35658
aVhtml#overviewcomment for details
p35659
as(dp35660
g23
V571407
p35661
stp35662
a((dp35663
g2
(lp35664
VTomcat is a Java EE server which doesn't support the full Java EE stack
p35665
aVIt concentrates on webapp support (servlets and JSPs), provides a JDBC connection pool and JNDI support, but doesn't have EJBs and JMS for example
p35666
aVGlassFish is a full-stack Java EE server, which supports everything on the Java EE spec (servlets, JSPs, EJB, JMS, JPA, JTA, etc
p35667
aVOracle has tutorials on Java EE
p35668
aVGoogle for them
p35669
as(dp35670
g23
V571407
p35671
stp35672
a((dp35673
g2
(lp35674
VIt's possible
p35675
aVYou'll need to make the next version backward-compatible with the previous version
p35676
aVThe ways to do that are explained in the Java serialization specification: http://docs
p35677
aVoracle
p35678
aVcom/javase/1
p35679
aV3/docs/guide/serialization/spec/version
p35680
aVdoc
p35681
aVhtml
p35682
aVThis problem, however, is a good example of why using the native Java serialization to persist objects for a long time is usually a bad idea
p35683
aVIf you had used a specific format (XML, JSON or whatever), you could easily read and transform the files themselves, or be able to read any version of the file with different implementation of the serializer, and thus migrate more easily from one version to another
p35684
as(dp35685
g23
V571407
p35686
stp35687
a((dp35688
g2
(lp35689
VYou can inject mock Spring facades into your Struts actions, and unit-test the Struts actions
p35690
aVYou can inject mock Spring repositories/DAOs into your Spring facades and unit-test these facades
p35691
aVAnd you can use DBUnit (or another similar tool) to populate a test database before each repository test
p35692
aVChoose the mocking API you like the most
p35693
aVThere are sevaral ones: Mockito, EasyMock, JMock, etc
p35694
aVIf you want to test the whole app, you're not doing unit tests anymore, but integration tests
p35695
aVAnd mocking would go against your goal
p35696
aVIf that's what you want to do, you could use Selenium or HtmlUnit to test the application
p35697
as(dp35698
g23
V571407
p35699
stp35700
a((dp35701
g2
(lp35702
VYou don't tell which type you want as a result
p35703
aVThe easiest way is probably to transform the BigDecimal into a String, and take a substring:
p35704
as(dp35705
g23
V571407
p35706
stp35707
a((dp35708
g2
(lp35709
VIt's a matter of design
p35710
aVThe basic principle of OO is encapsulation
p35711
aVSuppose you have a Circle object
p35712
aVYou could have a setter for the radius and a setter for the perimeter
p35713
aVBut of course, since both are linked together, setting the perimeter should also change the radius, and setting the radius should also change the perimeter
p35714
aVIf that's not the case, you indeed don't have an object anymore, but a simple data structure, without any encapsulation
p35715
aVNow some objects are mutable, and some others are not
p35716
aVFor example, a String or an Integer is immutable
p35717
aVOnce it has a value, its value can't change
p35718
aVConcatenating a String to another one just creates a new String instance, without affecting any of the two original Strings
p35719
aVImmutable objects are easier to understand and use, because they only have one state
p35720
aVThey also are inherently thread-safe
p35721
aVBut they can lead to performance problems
p35722
aVFor example, concatenating in a loop creates a whole lot of temporary String instances that consume memory and must be GC'ed
p35723
aVThat's the reason why StringBuilder exists: it's basically a mutable String
p35724
aVTo conclude: there is no definitive answer, because it all depends on the kind of object, and the way it's used
p35725
aVIn general, favor immutable objects over mutable ones
p35726
aVFavor less mutable objects over more mutable ones
p35727
as(dp35728
g23
V571407
p35729
stp35730
a((dp35731
g2
(lp35732
VYou have two options:
p35733
aVMake the form submit itself, and generate the page with the same search form, pre-filled with what the user has submitted, and with the results of the search after the form
p35734
aVThat's the typical "Web 1
p35735
aV0" way of doing, and Struts form fields are well suited to this task
p35736
aVUse JavaScript to send an AJAX request to the server when the form is submitted, and make the server generate a partial page, containing only the search results
p35737
aVIn the AJAX response handler, insert the search results into the DOM tree of the page
p35738
aVThe server could also answer with raw search results (i
p35739
ag468
aVnot HTML formatted), using JSON for example, and the JavaScript response handler would then iterate through the results and create the appropriate HTML elements in the DOM dynamically
p35740
aVEDIT:
p35741
aVTo elaborate on the first way of doing: have two actions ( and ) that both use the same ActionForm (containing the search form fields)
p35742
aVThe first action just fills the form with default search values, and dispatches to a JSP that displays the form and the results
p35743
aVSince there is no result to display, it will just show the search form
p35744
aVThe second action validates the form, executes the search, stores the search results into a request attribute or into the ActionForm directly, and then dispatches to the same JSP as the first action
p35745
aVThis time, the JSP will find results to display, and will thus display them
p35746
as(dp35747
g23
V571407
p35748
stp35749
a((dp35750
g2
(lp35751
VIf I understand correctly, what you want is a mechanism that reads a String command from a text file, and based on this command, displays a screen
p35752
aVSo, extract the interface of the "display screen" command into an interface
p35753
aVFor example:
p35754
aVThen build a :
p35755
aVAnd when a "menu item" is clicked, get the DisplayScreen from the map and call it:
p35756
as(dp35757
g23
V571407
p35758
stp35759
a((dp35760
g2
(lp35761
VI've never used args4j, but looking at its documentation, it seems that the exception is thrown by the option handler
p35762
aVSo, use a BDateOptionHandler and a EDateOptionHandler, that throw a custom subclass of CmdLineException containing the needed information:
p35763
as(dp35764
g23
V571407
p35765
stp35766
a((dp35767
g2
(lp35768
VYou never close your BufferedWriter
p35769
aVSo your output is buffered, and never flushed to the underlying file
p35770
aVSince you're experimenting Java 7 new APIs, you should use the new try-with-resources, which would automatically close the writer and avoid such bugs
p35771
aV(BTW, you use it to read, but not to write
p35772
aVAlways use it, or always close streams, readers and writers in a finally block)
p35773
as(dp35774
g23
V571407
p35775
stp35776
a((dp35777
g2
(lp35778
VFirst method: implement  on the Employee class, and make it return the name
p35779
aVMake your combo box model contain instances of Employee
p35780
aVWhen getting the selected object from the combo, you'll get an Employee instance, and you can thus get its ID
p35781
aVSecond method: if  returns something other than the name (debugging information, for example), Do the same as above, but additionally set a custom cell renderer to your combo
p35782
aVThis cell renderer will have to cast the value to Employee, and set the label's text to the name of the employee
p35783
as(dp35784
g23
V571407
p35785
stp35786
a((dp35787
g2
(lp35788
VThe  directory is for unit tests
p35789
aVThe  directory is for your application code
p35790
aVcontains resources (properties files, xml files, etc
p35791
aVthat must be part of the jar, and must be loadable by the classloader (the application classloader in case of , and the test classloader in case of )
p35792
aVJava source files of your application must be under
p35793
as(dp35794
g23
V571407
p35795
stp35796
a((dp35797
g2
(lp35798
VRead the link that you posted:
p35799
aVYou can modify an entity instance in one the following ways:
p35800
aVUsing an Updating Query
p35801
aVUsing the Entity's Public API
p35802
ag7651
aVThe way used in 99% of the cases is the second way:
p35803
aVOf course, the entity can also be loaded via a query, or by navigating through the graph of entities
p35804
aVIf you have a detached entity, and you want to persist its state to the database, use the  method
p35805
aVIt finds the entity with the same ID as the detached one passed as argument, copies the state from the detached entity to the attached one, and returns the attached one:
p35806
aVIf the detached entity isn't persistent (i
p35807
ag468
aVdoesn't have any ID), then it is created and made persistent
p35808
as(dp35809
g23
V571407
p35810
stp35811
a((dp35812
g2
(lp35813
VYou probably just forgot to import the Fruit interface:
p35814
aVNote: NEVER use the default package
p35815
aVAlways put your classes in a package
p35816
aVOther note: if the name of the class is not read dynamically from some external resource (a file, a database, whatever), but is hard-coded as shown in your question, you should simply invoke its constructor:
p35817
as(dp35818
g23
V571407
p35819
stp35820
a((dp35821
g2
(lp35822
VYou can define it as a static inner class, but I fail to see the point, because it makes the class more cumbersome to use
p35823
aVJust because a class is small doesn't mean it shouldn't be in its own file
p35824
as(dp35825
g23
V571407
p35826
stp35827
a((dp35828
g2
(lp35829
VIn general, if you're using Swing, you should only use Swing components
p35830
aVMixing Swing and AWT components in the same GUI leads to strange results
p35831
aVSo I would use a JPanel, or a raw JComponent
p35832
as(dp35833
g23
V571407
p35834
stp35835
a((dp35836
g2
(lp35837
VWriters are used to write characters (text)
p35838
aVStreams are used to write bytes (binary)
p35839
aVYou can wrap a Stream with a Writer, but not the reverse
p35840
aVIf you want binary data and buffering, use a BufferedOutputStream
p35841
as(dp35842
g23
V571407
p35843
stp35844
a((dp35845
g2
(lp35846
VFields are not polymorphic in Java
p35847
aVOnly methods are
p35848
aVDo what every decent book suggests, and never use public fields
p35849
aVUse a getter instead, and override the getter in the subclass
p35850
aVFields can't be overridden
p35851
as(dp35852
g23
V571407
p35853
stp35854
a((dp35855
g2
(lp35856
VGit is a DVCS which consists in having the whole repository, with its whole history, on every "client" machine
p35857
aVSVN is a centralized VCS, where the working copy only has the latest version of every file
p35858
aVThe history is only available on the server
p35859
aVIf offline work is so important, git is obviously a much better choice, and you should switch to git
p35860
aVI don't think any SVN tool will ever give you access to previous versions offline, because that's just not how SVN works
p35861
as(dp35862
g23
V571407
p35863
stp35864
a((dp35865
g2
(lp35866
VIn the action listener of the button, check which radio button is checked:
p35867
as(dp35868
g23
V571407
p35869
stp35870
a((dp35871
g2
(lp35872
VRead the file line by line
p35873
aVFor each line, find the index of the  substring (two spaces)
p35874
aVExtract everything before the index and everything after
p35875
aVTrim both parts
p35876
aVIf the separator is in fact a series of tabs, then use the same algorithm with  instead of
p35877
as(dp35878
g23
V571407
p35879
stp35880
a((dp35881
g2
(lp35882
VThere are several solutions:
p35883
aVUse
p35884
aVThis, however, doesn't work as specified in IE6 and IE7 (at least)
p35885
aVIterate through the parameters, find the one which starts with , and extract the ID after that
p35886
aVYou could use a simpler name, such as
p35887
aVCreate one form per cart item, instead of a global form, and use a hidden field to contain the book to remove
p35888
aVThe third way is probably the easiest one
p35889
aVYou could also use some JavaScript to initialize the value of a hidden field when a button is clicked, but this is not easier than the methods above, and requires JavaScript
p35890
as(dp35891
g23
V571407
p35892
stp35893
a((dp35894
g2
(lp35895
VThis just replaces the element at index 2 with null, which leads to the desired result
p35896
as(dp35897
g23
V571407
p35898
stp35899
a((dp35900
g2
(lp35901
VEclipse is an IDE
p35902
aVIt's used to develop Java applications
p35903
aVNot just one application, but several ones
p35904
aVYou shouldn't place any app-specific jar into the eclipse folder
p35905
aVStruts (and not strut or struct) is a web framework
p35906
aVIts jars must be put in the WEB-INF/lib folder of your deployed application
p35907
aVIn an Eclipse web project, the location for them is (typically)
p35908
as(dp35909
g23
V571407
p35910
stp35911
a((dp35912
g2
(lp35913
VThe principle of remote interfaces (and interfaces in general) is that a client which has a reference to an object implementing a given interface doesn't need to know the concrete type of the object
p35914
aVIf he knows the interface, he calls the methods defined in the interface
p35915
aVDefine methods in your interface, else it doesn't have any sense
p35916
aVAnd call methods on this interface:
p35917
aVThe EJB container wraps every EJB with an object which implements its interface, and delegates to the actual EJB bean instance
p35918
aVBut before calling the method on the EJB bean instance, it makes sure the transaction  is started, the caller has the rights to call the methods, etc
p35919
aVIn the case of remote interfaces, the client could live in a separate JVM, and not even have access to the BookEJB class
p35920
aVIt just receives an instance of a stub class which implements the remote interface
p35921
aVThe stub, when a method is called, serializes the arguments, sends a network request to the server, gets the response from the server, deserializes it, and returns the result to the caller
p35922
aVThe BookEJB instance only lives inside the server JVM
p35923
as(dp35924
g23
V571407
p35925
stp35926
a((dp35927
g2
(lp35928
VIf you want your mechanic to fix your car (by starting it, diagnosing the problem, opening the hood, etc
p35929
aV, you give your car to the mechanic, don't you
p35930
aVIt's the same in Java
p35931
aVIf you want the Display object (the mechanic) to access to information available in the Main object (the car), you need to give the Main object to the Display:
p35932
aVin Display:
p35933
as(dp35934
g23
V571407
p35935
stp35936
a((dp35937
g2
(lp35938
VHere's what you find when you google for "SQLServer JDBC URL": http://msdn
p35939
aVmicrosoft
p35940
aVcom/en-us/library/ms378428%28v=sql
p35941
aV100%29
p35942
aVaspx
p35943
aVThe general form of the connection URL is
p35944
aVjdbc:sqlserver://[serverName[\u005cinstanceName][:portNumber]][;property=value[;property=value]]
p35945
aVwhere:
p35946
aVjdbc:sqlserver:// (Required) is known as the sub-protocol and is constant
p35947
aVserverName (Optional) is the address of the server to connect to
p35948
aVThis could be a DNS or IP address, or it could be localhost or
p35949
aV127
p35950
ag2332
ag2332
aV1 for the local computer
p35951
aVIf not specified in the connection URL, the server name must be specified in the properties collection
p35952
aVinstanceName (Optional) is the instance to connect to on serverName
p35953
aVIf not specified, a connection to the default instance is
p35954
aVmade
p35955
aVportNumber (Optional) is the port to connect to on serverName
p35956
aVThe default is 1433
p35957
aVIf you are using the default, you do not have to
p35958
aVspecify the port, nor its preceding ':', in the URL
p35959
aVNote:
p35960
aVFor optimal connection performance, you should set the portNumber when you connect to a named instance
p35961
aVThis will avoid a round trip to
p35962
aVthe server to determine the port number
p35963
aVIf both a portNumber and
p35964
aVinstanceName are used, the portNumber will take precedence and the
p35965
aVinstanceName will be ignored
p35966
as(dp35967
g23
V571407
p35968
stp35969
a((dp35970
g2
(lp35971
VThis is all explained in details, with examples, in the android documentation:
p35972
aVAndroid offers several ways to access the UI thread from other
p35973
aVthreads
p35974
aVYou may already be familiar with some of them but here is a
p35975
aVcomprehensive list:
p35976
aVActivity
p35977
aVrunOnUiThread(Runnable)
p35978
aVView
p35979
aVpost(Runnable)
p35980
aVView
p35981
aVpostDelayed(Runnable, long)
p35982
aVHandler
p35983
ag7651
aVUnfortunately, these classes and methods could also tend to make your
p35984
aVcode more complicated and more difficult to read
p35985
aVIt becomes even
p35986
aVworse when your implement complex operations that require frequent UI
p35987
aVupdates
p35988
aVTo remedy this problem, Android 1
p35989
aV5 and later platforms offer a
p35990
aVutility class called AsyncTask, that simplifies the creation of
p35991
aVlong-running tasks that need to communicate with the user interface
p35992
as(dp35993
g23
V571407
p35994
stp35995
a((dp35996
g2
(lp35997
VIt all depends on the look 'n feel, AFAIK
p35998
aVIn your L&F;, "Enter" means "press the default button" (which is Yes)
p35999
aVPressing the focused button is probably done by pressing the space bar
p36000
as(dp36001
g23
V571407
p36002
stp36003
a((dp36004
g2
(lp36005
VIf I understand correctly, you want to get all the  tuples that exist in the join table and for which the name of the business identified by  is 'x' and the name of the product identified by  is 'y'
p36006
aVIf so, the following query should do what you want:
p36007
as(dp36008
g23
V571407
p36009
stp36010
a((dp36011
g2
(lp36012
VIf I understand correctly, you would like the elements of the NPC_DROPS array initialized with a call to  to be reinitialized each time this NPC_DROPS array is used
p36013
aVWell, NPC_DROPS is a constant, so it can't change
p36014
aVGenerate it each time it's accessed, using a method:
p36015
as(dp36016
g23
V571407
p36017
stp36018
a((dp36019
g2
(lp36020
VTry using something other than  and  as column names, because these are probably reserved keywords in SQL
p36021
as(dp36022
g23
V571407
p36023
stp36024
a((dp36025
g2
(lp36026
VI think your query should just be
p36027
aVYou could use your original query if the argument of the query was of type Module (the type of the associated entity, and not the type of its ID)
p36028
as(dp36029
g23
V571407
p36030
stp36031
a((dp36032
g2
(lp36033
VUsing the JSTL:
p36034
aVYou can also use the struts html:link tag, but it's less easy to use than the c:url tag
p36035
as(dp36036
g23
V571407
p36037
stp36038
a((dp36039
g2
(lp36040
VIf the entity you're trying to save already has an ID, then it must exist in the database
p36041
aVIf it doesn't exist, you probably don't want to blindly recreate it, because it means that someone else has deleted the entity, and updating it doesn't make much sense
p36042
aVThe  method persists an entity that is not persistent yet (doesn't have an ID or version), and updates the entity if it is persistent
p36043
aVYou thus don't need to do anything other than calling  (and returning the value returned by this call to )
p36044
aVA transaction is a functional atomic unit of work
p36045
aVIt should be demarcated at a higher level (in the service layer)
p36046
aVFor example, transfering money from an account to another needs both account updates to be done in the same transaction, to make sure both changes either succeed or fail
p36047
aVRemoving money from one account and failing to add it to the other would be a major bug
p36048
as(dp36049
g23
V571407
p36050
stp36051
a((dp36052
g2
(lp36053
VEither you're using an older version of HtmlUnit, that hasn't been made generic, or you're using JDK1
p36054
aV4 or older
p36055
aVThe last version is the version 2
p36056
aV9
p36057
aVCheck the version you're using
p36058
as(dp36059
g23
V571407
p36060
stp36061
a((dp36062
g2
(lp36063
VThe javadoc of DiscriminatorFormula links to the javadoc of Formula, which contains the following:
p36064
aVThe formula has to be a valid SQL fragment
p36065
aVSo yes, the formula must be valid SQL, and not HQL
p36066
as(dp36067
g23
V571407
p36068
stp36069
a((dp36070
g2
(lp36071
VI'm not sure this is your problem, but JSON object properties don't have any intrinsic order
p36072
aVis strictly equivalent to
p36073
as(dp36074
g23
V571407
p36075
stp36076
a((dp36077
g2
(lp36078
VThe best practice is to use a pool of connections
p36079
aVThis makes sure that
p36080
aVmultiple clients can access the database concurrently
p36081
aVthe number of open connections always stays reasonable, and doesn't put the server or database to its knees in case of a high number of concurrent requests
p36082
aVconnections are not constantly opened and closed
p36083
aVOpening a connection is a time and memory consuming operation
p36084
aVThere are several free connection pools available (C3P0, DBCP, etc
p36085
aVGoogle is your friend
p36086
as(dp36087
g23
V571407
p36088
stp36089
a((dp36090
g2
(lp36091
VSee the javadoc for details
p36092
as(dp36093
g23
V571407
p36094
stp36095
a((dp36096
g2
(lp36097
VSpring Roo uses JPA for the persistence
p36098
aVSearch for JPA tutorials and documentation to find what you're looking for
p36099
aVJPQL uses the  clause to order results returned by a query
p36100
aVThis  is very similar to the SQL  clause:
p36101
as(dp36102
g23
V571407
p36103
stp36104
a((dp36105
g2
(lp36106
VAuthentication is directly supported by the Java EE spec
p36107
aVYou don't even need any particular framework for that
p36108
aVEvery web container supports it out of the box
p36109
aVIf you want some additional functionalities (like remember-me, etc
p36110
aV, loot at spring-security
p36111
as(dp36112
g23
V571407
p36113
stp36114
a((dp36115
g2
(lp36116
VThe B constructor is called
p36117
aVThe first implicit instruction of the B constructor is  (call the default constructor of super class)
p36118
aVSo A's constructor is called
p36119
aVA's constructor calls , which invokes the java
p36120
aVlang
p36121
aVObject constructor, which doesn't print anything
p36122
aVThen  is called
p36123
aVSince the object is of type B, the B's version of  is called, and  is printed
p36124
aVThen the B constructor continues executing, and  is printed
p36125
aVIt must be noted that calling an overridable method from a constructor (like A's constructor  does) is very bad practice: it calls a method on an object which is not constructed yet
p36126
as(dp36127
g23
V571407
p36128
stp36129
a((dp36130
g2
(lp36131
VGuava has your first and third interfaces (called  and )
p36132
aVYour second one, IMHO, is not useful, because you would just have to combine T1 and T2 in a single object, and use the first interface instead
p36133
aVMore interesting, Guava also has a whole lot of methods using these two interfaces, like , , etc
p36134
as(dp36135
g23
V571407
p36136
stp36137
a((dp36138
g2
(lp36139
VThis is very very basic SVN stuff
p36140
aVRead the SVN book, or at least the chapter about fundamental concepts and basic usage
p36141
aVUpdate means: "take all the new stuff in the repository and apply them in my working copy"
p36142
aVCommit means: "take all the changes I've made in my working copy and apply them in the repository"
p36143
as(dp36144
g23
V571407
p36145
stp36146
a((dp36147
g2
(lp36148
VI would add this as a functionality of the enum:
p36149
as(dp36150
g23
V571407
p36151
stp36152
a((dp36153
g2
(lp36154
VSo you have web-app A which is invoked by web-app B
p36155
aVA has a session timeout of 30 minutes
p36156
aVB has a session timeout of 15 minutes
p36157
aVAnd you're asking what the session timeout of A is
p36158
aVWell, the answer is in the question: 30 minutes
p36159
aVWhether A receives HTTP requests from a regular user or from another web application is irrelevant
p36160
as(dp36161
g23
V571407
p36162
stp36163
a((dp36164
g2
(lp36165
VIf you want to fix your algorithm, then use a boolean variable:
p36166
as(dp36167
g23
V571407
p36168
stp36169
a((dp36170
g2
(lp36171
VEach enum value is a singleton
p36172
aVOnly one instance exists for the classloader which loaded the enum class
p36173
aVSo yes, if two threads use an enum value as a lock, they will use the same lock and thus block each other
p36174
aVSide note: your question would be clearer if you used valid, compiling Java code
p36175
as(dp36176
g23
V571407
p36177
stp36178
a((dp36179
g2
(lp36180
VCheck that you have all the needed dependencies of Hibernate also in WEB-INF/lib
p36181
aVSee http://docs
p36182
aVjboss
p36183
aVorg/hibernate/core/3
p36184
aV6/quickstart/en-US/html_single/#hibernate-gsg-setup-releaseBundle for how to know the required dependencies
p36185
aVAlso, read the rest of the stack trace, which should indicate that LiteralNode has not been found because a class it depends on has itself not been found
p36186
as(dp36187
g23
V571407
p36188
stp36189
a((dp36190
g2
(lp36191
VJavadoc to the rescue:
p36192
aVCriteria createAlias(String associationPath,
p36193
aVString alias,
p36194
aVint joinType)
p36195
aVthrows HibernateException
p36196
aVJoin an association using the specified join-type, assigning an alias to the joined association
p36197
aVThe joinType is expected to be one of CriteriaSpecification
p36198
aVINNER_JOIN (the default),
p36199
aVCriteriaSpecification
p36200
aVFULL_JOIN, or CriteriaSpecification
p36201
aVLEFT_JOIN
p36202
aVWhy use Google when you have the javadoc and the Hibernate reference documentation available
p36203
as(dp36204
g23
V571407
p36205
stp36206
a((dp36207
g2
(lp36208
VWhy don't you read the javadoc of DefaultTableModel
p36209
aVpublic void removeRow(int row)
p36210
aVRemoves the row at row from the model
p36211
aVNotification of the row being
p36212
aVremoved will be sent to all the listeners
p36213
aVpublic void setDataVector(Vector dataVector,
p36214
aVVector columnIdentifiers)
p36215
aVReplaces the current dataVector instance variable with the new
p36216
aVVector of rows, dataVector
p36217
aVpublic void setRowCount(int rowCount)
p36218
aVSets the number of rows in the model
p36219
aVIf the new size is greater than
p36220
aVthe current size, new rows are added to the end of the model If the
p36221
aVnew size is less than the current size, all rows at index rowCount and
p36222
aVgreater are discarded
p36223
as(dp36224
g23
V571407
p36225
stp36226
a((dp36227
g2
(lp36228
s(dp36229
g23
V571407
p36230
stp36231
a((dp36232
g2
(lp36233
VIf I understand correctly, you just need a hidden field instead of your select box:
p36234
as(dp36235
g23
V571407
p36236
stp36237
a((dp36238
g2
(lp36239
VYes
p36240
aVClick on Run - Run configurations
p36241
aVThen select your run configuration, select the Arguments tab, and enter arguments in the Arguments text area
p36242
as(dp36243
g23
V571407
p36244
stp36245
a((dp36246
g2
(lp36247
VYou instantiate a single User object before your loop, and then modify the same User object at each iteration
p36248
aVSo you end up with N times the same User object added to your list
p36249
aVYou must recreate a new User at each iteration:
p36250
as(dp36251
g23
V571407
p36252
stp36253
a((dp36254
g2
(lp36255
VStore the words in a HashSet in memory, and you'll have O(1) lookups
p36256
as(dp36257
g23
V571407
p36258
stp36259
a((dp36260
g2
(lp36261
VIf you want to preserve line breaks, use a pre tag:
p36262
as(dp36263
g23
V571407
p36264
stp36265
a((dp36266
g2
(lp36267
VThe association is bidirectional, and the owning side of a bidirectional association is the one where there is no mappedBy attribute
p36268
aVThis means that in this case, the owning side is the project side
p36269
aVHibernate only considers the owning side to know if the association exists or not
p36270
aVThis means that to break the association between a person and a project, you must set the person to  in the project
p36271
as(dp36272
g23
V571407
p36273
stp36274
a((dp36275
g2
(lp36276
VFirst of all, you won't have a new servlet for each request
p36277
aVThe same, unique instance of servlet will be used to concurrently handle all the requests
p36278
aVThe servlet is also a singleton: the web container instantiates only one instance
p36279
aVYou say that the requests to your ResourceClass singleton will be queued
p36280
aVThey won't, unless you mark the method as  or use some other locking mechanism
p36281
aVIf you don't, then the threads will invoke your singleton method concurrently
p36282
aVWhether it's thread-safe or not is impossible to say without seeing the code of your singleton and the code of the JNI library
p36283
aVThe fact that it's read-only is a sign that it could be thread-safe, but it's not guaranteed
p36284
as(dp36285
g23
V571407
p36286
stp36287
a((dp36288
g2
(lp36289
VThere is absolutely no reason to make a copy of an Integer
p36290
aVInteger is an immutable class
p36291
aVThis means that its value is set when the Integer instance is created, and can never change
p36292
aVAn Integer reference can thus be shared by multiple lists and threads without fear, because there's no way anybody can change its value
p36293
aVYour question thus makes no real sense
p36294
aVTo create an ArrayList  containing the same Integers as another List , just use the following code:
p36295
aVSure the Integer won't be cloned, but this is a good thing, because cloning them is completely unnecessary
p36296
as(dp36297
g23
V571407
p36298
stp36299
a((dp36300
g2
(lp36301
VSince 1
p36302
aV7, TortoiseSVN includes a copy of the 1
p36303
aV7 SVN command line client in the TortoiseSVN/bin directory
p36304
aVIf using this version is also not an option, and the client doesn't want to let you install a command-line SVN client, explain us that this rule makes no sense because a command-line client is just another user interface over the same SVN library, and that if they insist, then you will lose a whole lot of time, and they will thus lose a whole lot of money, doing manually what could be automated
p36305
as(dp36306
g23
V571407
p36307
stp36308
a((dp36309
g2
(lp36310
VThe wording is a bit strange, but I think that what the documentation means is that the resource path is a path used by the classloader to load a resource
p36311
aVThe file is thus not searched in the file system, but in the classpath, following the rules detailed in ClassLoader
p36312
aVgetResource()
p36313
aVSo, the XML file should be accessible from the classpath
p36314
aVSuppose  is in the classpath, the resource path should thus be  or  depending on how this method is implemented
p36315
aVIf  is in the classpath, then the path should be  or
p36316
aVIf this library is a general-purpose API and is well-designed, it should accept something other than a resource path as argument, like a java
p36317
aVio
p36318
aVReader or java
p36319
aVio
p36320
aVInputStream
p36321
as(dp36322
g23
V571407
p36323
stp36324
a((dp36325
g2
(lp36326
VIMHO, every problem comes from the original design smell: wanting to put values of different types into the map
p36327
aVI would wrap your Integer and String values into a common  type instead
p36328
aVSomething like this:
p36329
aVThis way, you just need a , and you can safely get the value from the map:
p36330
as(dp36331
g23
V571407
p36332
stp36333
a((dp36334
g2
(lp36335
VBecause if you create a new ProductBean instance and get the name from this new instance, you will always get the default value of the name property (null, typically), instead of the value that was extracted from the  request parameter, stored into the ProductBean instance that Struts has created and has passed to the  method of your action
p36336
aVWhen a request comes in for your action, Struts instantiates the form bean, populates it with the request parameters, and invokes your action with the form bean
p36337
aVIf you create another form bean instance, it will not get magically populated with the request parameters
p36338
aVWhat you're doing is similar to the following:
p36339
aVask someone (Struts) to write their name on a sheet of paper and to give you this sheet of paper
p36340
aVtake another blank sheet of paper, read what's written on this blank sheet of paper, and be surprised not to find the name written by Struts
p36341
as(dp36342
g23
V571407
p36343
stp36344
a((dp36345
g2
(lp36346
VHere's your code:
p36347
aVYou can't call a method on a null reference
p36348
aVInitialize your sfSession variable
p36349
aVPS: Hibernate is a very complex beast to understand and use
p36350
aVIf you don't know that you can't call a method on a null reference, and fail to diagnose such a basic bug, I would advise you to learn programming in Java with more simple problems than a web app using Hibernate
p36351
as(dp36352
g23
V571407
p36353
stp36354
a((dp36355
g2
(lp36356
VXStream will create the instance of the object for you
p36357
aVSo unless you want to copy all the attributes of the XStream-created packet to the packet you're constructing, it makes no sense to do that in a constructor
p36358
aVCreate a factory method instead:
p36359
as(dp36360
g23
V571407
p36361
stp36362
a((dp36363
g2
(lp36364
VI didn't even know you could add an order by query on an embeddable property like this
p36365
aVBut I wouldn't rely on it, and simply add two orders to your query:
p36366
as(dp36367
g23
V571407
p36368
stp36369
a((dp36370
g2
(lp36371
VThe JSP includes the servlet, which forwards to the JSP, which includes the servlet, which forwards to the JSP, which includes the servlet, which forwards to the JSP, which includes the servlet, which forwards to the JSP, which includes the servlet, which forwards to the JSP, which includes the servlet, which forwards to the JSP, which includes the servlet, which forwards to the JSP
p36372
aVYou have a serious design issue here
p36373
aVAdopt the MVC principles: all requests go to a servlet (Controller), which loads the Model, and dispatches to the appropriate JSP (View)
p36374
aVA view should not include a servlet, and certainly not in a recursive way like this
p36375
as(dp36376
g23
V571407
p36377
stp36378
a((dp36379
g2
(lp36380
VUse an entity class (Test) and two embedded object classes (Parameters and Results), as described in the Hibernate documentation
p36381
as(dp36382
g23
V571407
p36383
stp36384
a((dp36385
g2
(lp36386
s(dp36387
g23
V571407
p36388
stp36389
a((dp36390
g2
(lp36391
VIs there any requirement that jvm should first execute all the statements before a synchronized bloc before entering that bloc
p36392
aVYes
p36393
aVhttp://docs
p36394
aVoracle
p36395
aVcom/javase/6/docs/api/java/util/concurrent/package-summary
p36396
aVhtml says:
p36397
aVEach action in a thread happens-before every action in that thread
p36398
aVthat comes later in the program's order
p36399
aVGiven that the assignment to x happens-before the first synchronized block execution, and that the first synchronized block execution happens-before the second synchronized block execution, the value assigned to x in the first thread will be visible to the second one
p36400
aV(happens-before is transitive)
p36401
as(dp36402
g23
V571407
p36403
stp36404
a((dp36405
g2
(lp36406
VThe Hibernate documentation says:
p36407
aVHibernate's own connection pooling algorithm is, however, quite
p36408
aVrudimentary
p36409
aVIt is intended to help you get started and is not
p36410
aVintended for use in a production system, or even for performance
p36411
aVtesting
p36412
aVYou should use a third party pool for best performance and
p36413
aVstability
p36414
aVSo, the answer is simple: use a real connection pool, and configure it to test connections before giving them to the application
p36415
as(dp36416
g23
V571407
p36417
stp36418
a((dp36419
g2
(lp36420
VYou must specify that T is not a concrete type, but a generic type:
p36421
aVNote that there is a constructor in every List implementation that takes a collection as argument and does what this static method does
p36422
aVI'm not sure it's particularly useful:
p36423
as(dp36424
g23
V571407
p36425
stp36426
a((dp36427
g2
(lp36428
VBy removing the items from the collection, you're telling Hibernate that the association between the two entities doesn't exist anymore, so obviously, Hibernate removes what materializes this association in the database: it sets the foreign key to null
p36429
aVWhat you probably want is just a getter in your entity that returns only the non-deleted items:
p36430
as(dp36431
g23
V571407
p36432
stp36433
a((dp36434
g2
(lp36435
VThe javadoc comment says it all:
p36436
aVDeprecated
p36437
aVReplaced - by java
p36438
aVnio
p36439
aVcharset
p36440
aVLook for a replacement class/method in the java
p36441
aVnio
p36442
aVcharset package
p36443
aVNote that using classes in the JDK that are not part of the officially documented API is a bad idea in the first place
p36444
as(dp36445
g23
V571407
p36446
stp36447
a((dp36448
g2
(lp36449
VGood question
p36450
aVMaybe there's a better option, because I don't know every aspect of SQL/HQL, but the following clause:
p36451
aVcan also be expressed like this
p36452
aVSo, in HQL, you can express it like this:
p36453
as(dp36454
g23
V571407
p36455
stp36456
a((dp36457
g2
(lp36458
VLine 26 is doing
p36459
aVand it throws a NullPointerException
p36460
aVThat means something which should not be null is null
p36461
aVWhat could be null in this line of code
p36462
aVof course
p36463
aVHave you initialized userDao somewhere
p36464
aVNo
p36465
aVThe line
p36466
aVis equivalent to
p36467
aVInitialize your  variable
p36468
as(dp36469
g23
V571407
p36470
stp36471
a((dp36472
g2
(lp36473
VThose are the same dates
p36474
aVIf you subtract 2 hours from your GMT+0200 date, you obtain the Joda result, which is in the GMT timezone
p36475
aVA single date (instant in time) can be represented in different ways as a String, and the representation depends on the timezone used to generate this representation
p36476
as(dp36477
g23
V571407
p36478
stp36479
a((dp36480
g2
(lp36481
VMake it an instance variable:
p36482
aVWhy don't you learn the language basics before doing Android programming
p36483
aVRead the Java tutorial, or a good book about Java
p36484
as(dp36485
g23
V571407
p36486
stp36487
a((dp36488
g2
(lp36489
VThis is rather an OO question than a Spring question
p36490
aVWhat you want is a factory of SimpleFileReader
p36491
aVSimply using a  could be your solution:
p36492
aVthe  of the map contains all the file types
p36493
aVonce you get the file type from the GUI, use  to get the SimpleFileReader associated to this type
p36494
aVYou could also use en enum:
p36495
aVThe  gives you the array of file types
p36496
aVSpring can automatically map an input field to an enum, and getting the associated file reader is as simple as
p36497
as(dp36498
g23
V571407
p36499
stp36500
a((dp36501
g2
(lp36502
VThere's no simple way to do that
p36503
aVThe  and  methods are applied on the generated SQL query
p36504
aVIn MySQL, for example,  is added to the where clause of the query)
p36505
aVSo if you filter the results after the query has been executed, you'll always get a smaller number of results
p36506
as(dp36507
g23
V571407
p36508
stp36509
a((dp36510
g2
(lp36511
VYou need to use paths in your HQL query, from one entity to the other
p36512
aVThe Hibernate documentation on HQL and joins provides more information
p36513
as(dp36514
g23
V571407
p36515
stp36516
a((dp36517
g2
(lp36518
VJavaScript executes in the browser
p36519
aVJSP scriptlet executes on the server
p36520
aVSo when you make a request to the page containing the above JavaScript code, the HTML is generated by the server
p36521
aVThe server executes the following scriptlet code:
p36522
aVSince, at this moment, the session attribute doesn't exist, the generated HTML is:
p36523
aVThen this HTML/JS code is downloaded by the browser, and the JS code is executed in the browser
p36524
aVThe browser sends an AJAX request to the server, and when the response comes back, the browser executes the following function:
p36525
aVSo obviously, what is displayed in the allert box is
p36526
as(dp36527
g23
V571407
p36528
stp36529
a((dp36530
g2
(lp36531
VThat's the principle of the  method: it returns a non-initialized proxy to the entity (unless the entity is already loaded in the session)
p36532
aVIf you want an initialized instance of Student, use
p36533
as(dp36534
g23
V571407
p36535
stp36536
a((dp36537
g2
(lp36538
VSuppose a Category has many products:
p36539
aVIf that's not what you want, please show an example in your question
p36540
as(dp36541
g23
V571407
p36542
stp36543
a((dp36544
g2
(lp36545
VStraight from the documentation:
p36546
aVRender an internationalized message string to the response
p36547
aVRetrieves an internationalized message for the specified locale, using
p36548
aVthe specified message key, and write it to the output stream
p36549
aVUp to
p36550
aVfive parametric replacements (such as "{0}") may be specified
p36551
aVThe message key may be specified directly, using the key attribute, or
p36552
aVindirectly, using the name and property attributes to obtain it from a
p36553
aVbean
p36554
aV(emphasis mine)
p36555
aVSo, all you need is
p36556
as(dp36557
g23
V571407
p36558
stp36559
a((dp36560
g2
(lp36561
VThe constructor of File does NOT treat  as escape
p36562
aVYou need to escape  with  in a string literal
p36563
aVThe String literal  contains a single character:
p36564
as(dp36565
g23
V571407
p36566
stp36567
a((dp36568
g2
(lp36569
VYou probably configured the webapp (or a filter in the webapp) to redirect to the login page for all (or a whole lot) of "protected" URLs, if the user is not authenticated
p36570
aVMake sure the loggedOut
p36571
aVjsp is not part of those "protected" URLs (or url patterns) that need to be authenticated to be accessed
p36572
aVThis is normally configured in the web
p36573
aVxml file, but you're the only one to know how your app works
p36574
aVEDIT: now you've shown us the web
p36575
aVxml file, look inside it
p36576
aVYou're defining a resource collection with the url pattern  (which means every URL of the webapp) which needs to be in the role  to be accessed
p36577
aVThis means that to access every URL of the webapp, you must be authenticated and have gained the messages-user role through this authentication
p36578
aVSo, as soon as you log out, you redirect the user to logedOut
p36579
aVjsp
p36580
aVBut since the URL needs to be authenticated to be accessed, the login page is displayed
p36581
aVHere is a tutorial for you: http://docs
p36582
aVoracle
p36583
aVcom/javaee/5/tutorial/doc/bncas
p36584
aVhtml
p36585
as(dp36586
g23
V571407
p36587
stp36588
a((dp36589
g2
(lp36590
VEncapsulate this behavior inside a specific, higher-level class, using the CountDownLatch internally:
p36591
as(dp36592
g23
V571407
p36593
stp36594
a((dp36595
g2
(lp36596
VIn a development environment, each deployed app should have its own database schema
p36597
aVNot only will this solve the problem, but it will also solve the following ones:
p36598
aVtwo developers are executing some tests, and one of them fails because the other one has modified data used by the first one
p36599
aVone developer is developing an evolution that requires the schema to be changed, while the other fixes a bug on the current schema
p36600
aVAnd I'm sure there are a whole lot of other scenarii that will cause problems
p36601
aVHave each developer have its own schema, and everything will be much easier
p36602
as(dp36603
g23
V571407
p36604
stp36605
a((dp36606
g2
(lp36607
VAn ElementCollection is not mapped to a single column where the set would be serialized
p36608
aVIt's mapped using an additional table which contains a column for your String (recs_detail_name) and a foreign key column referencing the primary key of the owning table
p36609
aVThis is of course described in the hibernate documentation
p36610
aVIf you want to map a Set to a single column, you'll have to use a custom user type
p36611
as(dp36612
g23
V571407
p36613
stp36614
a((dp36615
g2
(lp36616
VYou could store both
p36617
aVThe stored markdown is useful if it must be edited multiple times, or if another or better Markdown to HTML translation is developed
p36618
aVThe stored HTML is useful, as you say, to avoid regenerating it again and again
p36619
as(dp36620
g23
V571407
p36621
stp36622
a((dp36623
g2
(lp36624
VRead http://docs
p36625
aVjboss
p36626
aVorg/hibernate/core/3
p36627
aV6/reference/en-US/html_single/#queryhql-joins
p36628
as(dp36629
g23
V571407
p36630
stp36631
a((dp36632
g2
(lp36633
VYou can add listeners to any object you like, provided the object has a method which allows adding (and removing) a listener
p36634
aVJust add  methods to your object
p36635
aVThese methods should simply add/remove the listener to/from a collection of listeners, and the object should iterate through this collection and call the  method when appropriate
p36636
as(dp36637
g23
V571407
p36638
stp36639
a((dp36640
g2
(lp36641
VTo complement Jon's excellent answer, I'll try to explain you in much more general terms
p36642
aVWhen you want a sandwich, you have two solutions:
p36643
aVprepare the sandwich yourself
p36644
aVThis would be the equivalent of the code
p36645
aVgo to a snack bar and ask them a sandwich
p36646
aVThis would be the equivalent of the code
p36647
aVIn the latter case, it's the snackBar object's  method which will use the name of the sandwich you want ("Ham & Cheese") to prepare a sandwich and return it for you
p36648
aVThis method will thus probably, internally, call new
p36649
aVBut it could also delegate to another object and call, for example:
p36650
aVAnd in this case, it's the cook object which will call
p36651
aVOr the snackBar object could also just get a sandwich that has been prepared in advance and stored in some cache:
p36652
as(dp36653
g23
V571407
p36654
stp36655
a((dp36656
g2
(lp36657
VThat's the base principle of an ORM like Hibernate: you manipulate objects mapped to database tables, and attached to a persistent session, and every changes you make on these objects are automatically recorded, transparently, in the database
p36658
aVIf you want your changes to the User object not recorded in the database, you need to first detach the object from the Hibernate session, using
p36659
aVYou don't seem to have grasped basic (and very important) principles of Hibernate
p36660
aVRead its excellent documentation
p36661
as(dp36662
g23
V571407
p36663
stp36664
a((dp36665
g2
(lp36666
VYou probably just need to set the Content-disposition header to the response:
p36667
aVbeing the name of the file that the browser will display for the PDF report
p36668
as(dp36669
g23
V571407
p36670
stp36671
a((dp36672
g2
(lp36673
VYour tree is not correct
p36674
aVA webapp's folder (or war) must be placed in Tomcat's webapps folder
p36675
aVDirectly under the webapp's root folder ( in your case, but you should really avoid spaces in folder names, because they must be encoded in URLs and make things harder tha necessary), there must be a folder named
p36676
aVThe servlet-api
p36677
aVjar must not be in the WEB-INF/lib folder
p36678
aVTomcat obviously already has this jar in its classpath
p36679
aVIf the name of the webapp's folder is , why do you use the URL
p36680
aVThe URL should be
p36681
aVIn the web
p36682
aVxml file, the  element must be the fully qualified name of the class of the servlet
p36683
aVSo if the class is named HelloWorldServlet and is in the package com
p36684
aVfoo
p36685
aVbar, the element must contain
p36686
aVAnd of course, the  element is used to map a given servlet to a URL (or a set of URLs)
p36687
aVYou should thus use this URL to invoke your servlet: http://hostname/Welcome form/HelloWorldServlet
p36688
aVIn short, you have everything wrong
p36689
aVYou should re-read your book or tutorial about servlets and web applications
p36690
aVHere's one for you: http://docs
p36691
aVoracle
p36692
aVcom/javaee/5/tutorial/doc/bnadp
p36693
aVhtml
p36694
as(dp36695
g23
V571407
p36696
stp36697
a((dp36698
g2
(lp36699
VBut if the condition is an invariant, then it should always be true, and the AssertionError should thus never be thrown, and you should thus not even be able to unit test it
p36700
aVIf you're able to test it, it means that the invariant is not really an invariant, and that the condition might be true depending on the sequence of calls or on the arguments provided
p36701
aVYou should thus prefer an IllegalStateExcetion over the AssertionError
p36702
as(dp36703
g23
V571407
p36704
stp36705
a((dp36706
g2
(lp36707
V is a URL that you use to connect to MySQL directly, using the MySQL JDBC driver
p36708
aVThe URL used by the JDBC/ODBC driver is different (see http://docs
p36709
aVoracle
p36710
aVcom/javase/1
p36711
aV3/docs/guide/jdbc/getstart/bridge
p36712
aVdoc
p36713
aVhtml)
p36714
aVThe usage of this JDBC/ODBC bridge is discouraged, and should only be used to access a database that doesn't provide any JDBC driver
p36715
aVThis is not the case of MySQL
p36716
aVUse Connector/J, their JDBC driver
p36717
aVOnce you have this driver in your classpath, you can use the URL you're currently using, and remove the JDBC/ODBC driver from your classpath (and its loading from your code)
p36718
as(dp36719
g23
V571407
p36720
stp36721
a((dp36722
g2
(lp36723
VIn fact, the practice that I try to follow, and that Josh Bloch recommends, in his Effective Java book, is exactly the inverse rule of the one you've been told: Unless you have thought about inheritance, designed your class to be inherited, and documented how your class must be inherited, you should always disable inheritance
p36724
aVI would recommend reading this chapter of Effective Java (you won't regret buying it), and showing it to the person who told you about this rule
p36725
aVThe most obvious reason to disallow inheritance is immutability
p36726
aVAn immutable object is simple to use (only one state), can be cached, shared between many objects, and is inherently thread-safe
p36727
aVIf the class is inheritable, anyone can extend the class and make it mutable by adding mutable attributes
p36728
as(dp36729
g23
V571407
p36730
stp36731
a((dp36732
g2
(lp36733
VIf two servlets are in the same webapp, they share the same session context, and the session is the same for both servlets
p36734
aVOf course, remember that a session is tight to a particular user
p36735
as(dp36736
g23
V571407
p36737
stp36738
a((dp36739
g2
(lp36740
VThe usual trick (which some framework provide for you) is, when the form is generated, to generate a token, store it in the user's session, as well as in a hidden field in the form
p36741
aVWhen the form is submitted, you compare the token you receive with the token in the session
p36742
aVIf they match, you delete the token from the session and proceed with the form submission
p36743
aVIf the user goes back and resubmits the form, there won't be any token anymore in the session, and you'll display an error message instead of handling the form submission
p36744
aVAnother method is to code the form handling in order for the submission to be idempotent
p36745
aVFor example, instead of blindly increasing the score, you can check if the question has already been answered by the user and ignore the second answer
p36746
as(dp36747
g23
V571407
p36748
stp36749
a((dp36750
g2
(lp36751
VYou must create a new instance of ArrayList at each iteration of the loop
p36752
aVElse, you'll keep adding elements to the same inner list, and add this unique inner list multiple times to the outer list
p36753
as(dp36754
g23
V571407
p36755
stp36756
a((dp36757
g2
(lp36758
VYou're not upcasting here, but downcasting
p36759
aVAn IntervalNode is a  (because it extends it), but a  is not necessarily an IntervalNode
p36760
aVJust as a Banana is a Fruit because it extends it, but a Fruit is not always a Banana
p36761
aVIf you have a Fruit and cast it to a Banana, it will work only if the fruit is effectively a banana
p36762
aVIf it's an apple, it will fail
p36763
as(dp36764
g23
V571407
p36765
stp36766
a((dp36767
g2
(lp36768
VYour benchmark is flawed, for many reasons:
p36769
aVwe don't know the contents of the file
p36770
aVIf the searched word is at the beginning, the linear search will be faster than the binary search
p36771
aVthe linear search compares with equals, whereas the binary search compares with equalsIgnoreCase
p36772
aVyou don't execute the code a sufficient number of times to let the JIT compile the code
p36773
aVI haven't verified if your binary search algorithm is correct, but why don't you use the one bundled with the JDK (in the java
p36774
aVutil
p36775
aVArrays class)
p36776
aVAnyway, you don't have to measure anything
p36777
aVA binary search, in average, is faster than a linear search
p36778
aVNo need to prove that again
p36779
as(dp36780
g23
V571407
p36781
stp36782
a((dp36783
g2
(lp36784
VStore the menu items in an array (or an ArrayList):
p36785
aVAnd use the index of the array as menu identifier
p36786
aVWhen you receive the selected menu itentifier, retrieve the corresponding item with
p36787
aVYou could also use a Map if the identifiers are not numbers, or don't go from 0 to N
p36788
as(dp36789
g23
V571407
p36790
stp36791
a((dp36792
g2
(lp36793
VFirst of all, you don't have a OneToMany, but a ManyToMany
p36794
aVNow, to fix your problem, don't assign the ID of the attached B to your detachedB, but replace the detached B by the attached one:
p36795
as(dp36796
g23
V571407
p36797
stp36798
a((dp36799
g2
(lp36800
VI think this is just a bug/limitation of your editor
p36801
aVTry deploying your JSP and see if it works as expected or not
p36802
aVThat said, if your question contains characters that must be URL and/or HTML escaped, your HTML code will be invalid
p36803
aVYou should use the  tag to avoid that:
p36804
as(dp36805
g23
V571407
p36806
stp36807
a((dp36808
g2
(lp36809
VThere is no operator overloading in Java, and the multiplication operator only applied to numeric primitive types
p36810
aVIf you need to do this on generic types, you'll have to make them implement them an interface which allows transforming them into doubles:
p36811
aVAnd then, you can define the following method:
p36812
aVNotice how my code
p36813
aVrespects the Java naming conventions
p36814
aVacepts any kind of Iterable, rather than just the obsolete Vector (which should not be used anymore since Java 1
p36815
aV2)
p36816
as(dp36817
g23
V571407
p36818
stp36819
a((dp36820
g2
(lp36821
VThe first instruction of every constructor is always to invoke one of its superclass constructor
p36822
aVIf you don't do it explicitely, the compiler inserts this instraction for you
p36823
aVThe constructor
p36824
aVis thus equivalent to
p36825
aVSince A doesn't have a no-arg constructor, the compilation fails
p36826
aVIn this case, you must explicitely invoke one of the super constructors:
p36827
as(dp36828
g23
V571407
p36829
stp36830
a((dp36831
g2
(lp36832
VI would guess that you imported an Element class, but from a different package (i
p36833
ag468
aVnot , but another class named Element in another package)
p36834
aVCheck your import statements
p36835
aVNote that the instruction causing the exception is a cast
p36836
aVIt doesn't convert the casted object
p36837
aVInstead, it takes a reference to an object of type Node and make it a reference of type Element
p36838
aVThe casted object is unaffected by this operation
p36839
aVAnd the operation can succeed only if the object is indeed of type Element
p36840
as(dp36841
g23
V571407
p36842
stp36843
a((dp36844
g2
(lp36845
VSince it seems that your output is a properties file, you should use Properties
p36846
aVstore() to generate the output file
p36847
aVThis would not only take care of encoding the newline chars, but also the other special characters (non ISO8859-1 characters for example)
p36848
as(dp36849
g23
V571407
p36850
stp36851
a((dp36852
g2
(lp36853
VBecause you don't specify which class the native query should return
p36854
aVHave a look at the other createNativeQUery methods, taking additional arguments
p36855
aVNote that the point of using JPA is to use objects rather than database tables
p36856
aVJPQL is there for that
p36857
aVYou should use the following code:
p36858
as(dp36859
g23
V571407
p36860
stp36861
a((dp36862
g2
(lp36863
VMap  to a servlet in the web
p36864
aVxml file
p36865
aVIn this servlet, parse the URL of the request and transform it to some advertisement ID or name
p36866
aVGet the text of the Ad in your database of ads using the ID or name you parsed, and send the text of the ad to the response
p36867
as(dp36868
g23
V571407
p36869
stp36870
a((dp36871
g2
(lp36872
VYou typically don't use the low-level exceptions to do that
p36873
aVInstead, you explicitely check that the email is available (using a query), and perist the email only if it doesn't exist
p36874
aVSure, there could be a race condition if two threads do the same check in parallel, but it will be extremely rare, and the database constraint is there to guarantee the uniqueness
p36875
as(dp36876
g23
V571407
p36877
stp36878
a((dp36879
g2
(lp36880
VAs already said, concat stands for concatenate
p36881
aVAs a former latinist, I recognize two parts here:
p36882
aVcon (cum), which means "with", "together"
p36883
aVcatena, which means "chain"
p36884
aVConcatenate thus means literally "put two chains together"
p36885
aVWhat's interesting is that the French word for String (of characters) (French mainly comes from latin) is Chaine (de caractres), which is the same word as the one used to say Chain in French
p36886
as(dp36887
g23
V571407
p36888
stp36889
a((dp36890
g2
(lp36891
VThe packages are just a way to group together classes that make sense to go together, and avoiding name clashes with other classes
p36892
aVIt has absolutely 0 impact on performance
p36893
aVDo whatever you find the best
p36894
aVBoth approaches are common (technical-based separation first vs
p36895
aVfunctional-based separation first)
p36896
aVI prefer your first approach (functional-based separation first), but YMMV
p36897
as(dp36898
g23
V571407
p36899
stp36900
a((dp36901
g2
(lp36902
VFrom the documentation:
p36903
aVNote that HQL subqueries can occur only in the select or where
p36904
aVclauses
p36905
aVSo yes, such a query can only be done using native SQL
p36906
as(dp36907
g23
V571407
p36908
stp36909
a((dp36910
g2
(lp36911
VIt's not a best practice to use the latter one
p36912
aVBoth are equivalent, but the former is easier to read
p36913
aVThis "best practice" comes from C where boolean don't exist
p36914
aVIntegers are used instead, and  is not a syntax error, but is completely different from
p36915
aVIn Java, only boolean expressions can be inside an if, and this practice doesn't make much sense
p36916
as(dp36917
g23
V571407
p36918
stp36919
a((dp36920
g2
(lp36921
VThe advantage of a singleton with instance methods over a class with static methods is that it can
p36922
aVextend another class
p36923
aVimplement an interface
p36924
aVbe passed as argument to methods
p36925
aVThis makes a big difference, especially if you want to unit test methods depending on this singleton: you may pass another, mock instance of the singleton implementing the same interface
p36926
as(dp36927
g23
V571407
p36928
stp36929
a((dp36930
g2
(lp36931
VThe answer doesn't matter much (and might vary betwen implementations), because by contract,  if and only if
p36932
aVNot respecting this contract is a recipe for strange and incoherent behavior from the collections
p36933
as(dp36934
g23
V571407
p36935
stp36936
a((dp36937
g2
(lp36938
VWhen page is first loaded, the JSP code executes
p36939
aVThis code contains the following lines:
p36940
aVSo, the JSP EL code is interpreted by the container, and ${output} is replaced by the value of the output attribute
p36941
aVSince this attribute is null, the following HTML code is generated and sent to the browser:
p36942
aVWhen you click on the button, the above JavaScript code executes
p36943
aVIt sends an AJAX request to the ajax URL, and when the response comes back, it executes the callback function:
p36944
aVSo, the data received from the server is displayed in an alert box, and then the content of the HTML element identified by "result" is replaced by
p36945
as(dp36946
g23
V571407
p36947
stp36948
a((dp36949
g2
(lp36950
VFirst of all, this is normal and expected behavior
p36951
aVHibernate has a first-level cache (the Session), and once some entity is loaded in the first-level cache, every time you get a reference to this entity, the values from the first-level cache will be retrieved
p36952
aVYou can refresh the state of the entity in the cache by calling EntityManager
p36953
aVrefresh() (or Session
p36954
aVrefresh())
p36955
aVNote that even if you do that, you might still get the old state of the entity if the isolation level of your transaction is REPEATABLE_READ
p36956
as(dp36957
g23
V571407
p36958
stp36959
a((dp36960
g2
(lp36961
VTry to imagine yourself as the JSP container, then as the JavaScript interpreter
p36962
aVOr simply look at the source code of the generated HTML page
p36963
aVThe line
p36964
aVis interpreted by the JSP container
p36965
aVSo  is executed, and the result of this method call is put in the response
p36966
aVSuppose the result is composed of two lines:
p36967
aVSo the generated JavaScript code is:
p36968
aVAnd this is invalid JavaScript code
p36969
aVThe correct JavaScript code would be
p36970
aVSo, you need to JavaScript-escape the result of the Java method call before putting it in the response
p36971
aVLook at Apache commons-lang StringEscapeUtils
p36972
aVescapeEcmaScript() method
p36973
as(dp36974
g23
V571407
p36975
stp36976
a((dp36977
g2
(lp36978
VThe first query doesn't make much sense, since a  returns only 1 row
p36979
aVThe second is probably the one you really want
p36980
aVThe third one looks like the second one, but doesn't do the same thing at all
p36981
aVThe order by clause is applied after the where clause
p36982
aVSo the third query selects the first 20 rows from the table, without any specific order, and sorts these 20 rows by ID
p36983
aVThe second query selects the rows from the table, sorts them by ID, and return only the 20 first rows from these sorted rows
p36984
as(dp36985
g23
V571407
p36986
stp36987
a((dp36988
g2
(lp36989
VCheck for the existence of the file
p36990
aVIf the file doesn't exist:
p36991
aVcreate a ReentrantLock, and store it in a ConcurrentHashMap, with the path of the file as the key, using the  method
p36992
aVIf  returns a lock, then use this lock in the following
p36993
aVElse, use the lock you created and stored in the map
p36994
aVAcquire the lock on the ReentrantLock
p36995
aVOnce you have the lock, check if the file exists
p36996
aVIf it doesn't, create it
p36997
aVElse, you don't have anything to do because a concurrent thread created it before
p36998
aVRelease the lock and remove it from the map (in a finally block)
p36999
aVRead the file and return its content
p37000
as(dp37001
g23
V571407
p37002
stp37003
a((dp37004
g2
(lp37005
VThe definition of the average is the sum of all values, divided by the number of values
p37006
aVLoop over the values, add them, and divide the sum by the size of the list
p37007
as(dp37008
g23
V571407
p37009
stp37010
a((dp37011
g2
(lp37012
VTo get an attribute  from the servlet context, you use the same syntax as to get it from the session, but replace sessionScope by applicationScope
p37013
aVBut you have so many nested things here that you should define variables:
p37014
aVNote that this is typically the kind of hard work that you should not have to do in the view
p37015
aVImplement the retrieval of the image path in the controller, in Java, and make it available as a property of your action/form, and access it directly from your view
p37016
as(dp37017
g23
V571407
p37018
stp37019
a((dp37020
g2
(lp37021
VTest methods are there to test your code
p37022
aVPutting them in the tested class clutters the API of the class, and makes the bytecode and dependencies of the class larger than necessary
p37023
aVIf I want to use your Calculator class, I don't need the  and  test methods
p37024
aVI just need  and
p37025
aVAnd if  depends on some class from the JUnit or Mockito library, I don't want these dependencies in the production environment: they're only useful when testing the class
p37026
as(dp37027
g23
V571407
p37028
stp37029
a((dp37030
g2
(lp37031
VThis is indeed a pita, and I've been confronted to the same problem
p37032
aVIn the end, the combo box uses the toString() method of the objects contained in the model for its key selection
p37033
aVThe easiest way is to wrap all your HTML strings into objects which have a toString() method returning the text used for selection, and use a cell renderer to render the HTML
p37034
aVFor example:
p37035
aVAnd then fill your combo with these objects:
p37036
aVAnd set a renderer to the combo box which does
p37037
as(dp37038
g23
V571407
p37039
stp37040
a((dp37041
g2
(lp37042
VYou must always go to the next row by calling  (and checking it returns true), before accessing the data of the row:
p37043
aVNote that you should also
p37044
aVuse prepared statements instead of String concatenation to avoid SQL injection attacks, and have more robust code
p37045
aVclose the connections, statements and resultsets in a finally block, or use the try-with-resources construct if using Java 7
p37046
aVRead the JDBC tutorial
p37047
as(dp37048
g23
V571407
p37049
stp37050
a((dp37051
g2
(lp37052
VYou either develop a webapp, use your Java application's API inside the webapp, and deploy this webapp inside a web container
p37053
aVOr you can do the reverse and embed a web server inside your application (see here for documentation to embed Jetty)
p37054
aVIf you want to keep the webapp and the original application in two separate JVMs, you'll need some wey to communicate between both, like sockets, RMI, or even files, but it will be more complex
p37055
as(dp37056
g23
V571407
p37057
stp37058
a((dp37059
g2
(lp37060
VThere is no other way than to loop over the elements until you find the one you're looking for
p37061
aVYou could use Guava's support for predicates:
p37062
aVbut the end result is the same
p37063
aVOr you could maintain a separate  in addition to your list, or use a  instead of your list, which would achieve O(1) search instead of O(n)
p37064
as(dp37065
g23
V571407
p37066
stp37067
a((dp37068
g2
(lp37069
VNo, it's not possible to generate the above SQL query with HQL
p37070
aVThe documentation says:
p37071
aVNote that HQL subqueries can occur only in the select or where
p37072
aVclauses
p37073
as(dp37074
g23
V571407
p37075
stp37076
a((dp37077
g2
(lp37078
VBecause only a String can be used as a key of a JSON object
p37079
aVSo your jtest object is transformed to a String
p37080
as(dp37081
g23
V571407
p37082
stp37083
a((dp37084
g2
(lp37085
VYou forgot the :
p37086
aVNote that this kind of code is usually the sign of a poor OO design
p37087
aVAlso note that comparing the class of an object with a class and using instanceof is not the same thing
p37088
aVFor example:
p37089
aVis false, whereas
p37090
aVis true
p37091
aVWhether one or the other must be used depends on your requirements
p37092
as(dp37093
g23
V571407
p37094
stp37095
a((dp37096
g2
(lp37097
VJavadoc to the rescue:
p37098
aVMany aspects of the behavior of this method are inherently
p37099
aVplatform-dependent: The rename operation might not be able to move a
p37100
aVfile from one filesystem to another, it might not be atomic, and it
p37101
aVmight not succeed if a file with the destination abstract pathname
p37102
aValready exists
p37103
aVThe return value should always be checked to make sure
p37104
aVthat the rename operation was successful
p37105
aVNote that the Files class defines the move method to move or rename a
p37106
aVfile in a platform independent manner
p37107
as(dp37108
g23
V571407
p37109
stp37110
a((dp37111
g2
(lp37112
VHere's how you could get all the deletable devices:
p37113
aVYou should be able to translate this with the Criteria API easily
p37114
as(dp37115
g23
V571407
p37116
stp37117
a((dp37118
g2
(lp37119
VYou construct a GroupFrame, and the call the show() method, which constructs another GroupFrame
p37120
aVThis is already wrong
p37121
aVBut it's even more wrong because then you call  which internally calls the  method that you inadvertently overrode
p37122
aVThe show method should be named something else, and should be static:
p37123
aVThis method would thus be called as this:
p37124
aVAnd please, don't catch Exception
p37125
aVAnd when you do it, don't swallow the exception
p37126
as(dp37127
g23
V571407
p37128
stp37129
a((dp37130
g2
(lp37131
VSo, you're breaking a rule, having problems, and wondering if these problems could be cause by the fact that you broke the rule
p37132
aVThe answer is Yes
p37133
aVRespect the rules
p37134
aVTo detect the violations, you might be interested by the following page: http://weblogs
p37135
aVjava
p37136
aVnet/blog/2006/02/16/debugging-swing-final-summary
p37137
as(dp37138
g23
V571407
p37139
stp37140
a((dp37141
g2
(lp37142
VWebstart is used to download and execute a fat Java application on client machines
p37143
aVJSPs are used to build web applications, generating HTML pages and running in the browser
p37144
aVWould you like to have to download a 5MBs jar file to use Google, Amazon, EBay, Facebook or whatever webapp
p37145
aVIf not, then don't use WebStart to develop this kind of application
p37146
as(dp37147
g23
V571407
p37148
stp37149
a((dp37150
g2
(lp37151
VSuppose your bean is in the request, you should be able to do what you want with
p37152
as(dp37153
g23
V571407
p37154
stp37155
a((dp37156
g2
(lp37157
VYour descriptiin would be much clearer if you added some code
p37158
aVBut I think you're just looking for the MappedSuperclass annotation, described in the documentation:
p37159
ag194
ag10
ag23604
ag1458
aVInherit properties from superclasses
p37160
aVThis is sometimes useful to share common properties through a
p37161
aVtechnical or a business superclass without including it as a regular
p37162
aVmapped entity (ie no specific table for this entity)
p37163
aVFor that purpose
p37164
aVyou can map them as @MappedSuperclass
p37165
as(dp37166
g23
V571407
p37167
stp37168
a((dp37169
g2
(lp37170
VYou've told the DecimalFormat which currency symbol to use when it must format a currency
p37171
aVBut you haven't told it to format a currency
p37172
aVThe default pattern used by the no-arg constructor isn't meant to format currencies
p37173
aVUse a dedicated pattern for that
p37174
aVThe javadoc tells you everything you need to know
p37175
as(dp37176
g23
V571407
p37177
stp37178
a((dp37179
g2
(lp37180
VYour GraphEdge class uses a generic type which could be anything, and not just GraphNode
p37181
aVThe declaration should be
p37182
aVAdditionally, since GraphEdge is a generic type, you should not use it as a raw type in AStarNode:
p37183
as(dp37184
g23
V571407
p37185
stp37186
a((dp37187
g2
(lp37188
VJavadoc to the rescue:
p37189
aVIn order to receive these notification events, the implementation
p37190
aVclass must be either declared in the deployment descriptor of the web
p37191
aVapplication, annotated with WebListener, or registered via one of the
p37192
aVaddListener methods defined on ServletContext
p37193
as(dp37194
g23
V571407
p37195
stp37196
a((dp37197
g2
(lp37198
VThe 9 classes should all implement a single interface (let's call it ) which declares the  method
p37199
aVThe code would thus be:
p37200
aVNote that you could just use  to invoke the no-arg constructor
p37201
aVSide note: please respect tha Java naming conventions: methods start with a lower-case letter
p37202
as(dp37203
g23
V571407
p37204
stp37205
a((dp37206
g2
(lp37207
VYou shouldn't use String concatenation to pass arguments to a query
p37208
aVThis is error-prone, database and locale-dependant, and makes your code vulnerable to SQL injection attacks
p37209
aVInstead, use prepared statements, and pass your date argument as a java
p37210
aVsql
p37211
aVDate, instead of passing it as a String:
p37212
aVThat said, I don't see how your query could possibly work
p37213
aVHow can a date in database be both less or equal to a given date, and greater than the same date
p37214
aVMaybe you should use your date as lowest bound, and your date + 1 month as upper bound
p37215
as(dp37216
g23
V571407
p37217
stp37218
a((dp37219
g2
(lp37220
VIt's perfectly acceptable to lock on a private field, as long as this field is an object
p37221
aVPrimitives don't have an intrinsic lock, and the first snippet is thus invalid
p37222
aVI would however avoid locking on a private field if this field is accessible from the outside (using a getter, for example), as this would allow anyone to lock on the same object for different purposes
p37223
aVThe second solution is thus the cleanest, IMHO
p37224
aVUsing a single lock is counter-productive, since it prevents concurrent access to methods which should be able to run concurrently
p37225
aVIt's thus generally better to have fine-grained the locks
p37226
aVEDIT:
p37227
aVnow that you have changed your question and use wrapper objects, the locking on the private Integer instances is really not a good solution, as you change the values of these variables inside the methods
p37228
aVUse final fields as locks
p37229
aVRemember that , if  is an Integer instance, is equivalent to:
p37230
aVMoreover, since Integer
p37231
aVvalueOf() caches Integer instances, you might have several classes using the same Integer instance to lock completely different things
p37232
aVA recipe for slow execution and deadlocks
p37233
as(dp37234
g23
V571407
p37235
stp37236
a((dp37237
g2
(lp37238
VIf Guava is not an option, I would use a , where Coordinate is a custom object containing your row and column objects, and implementing equals and hashCode properly
p37239
as(dp37240
g23
V571407
p37241
stp37242
a((dp37243
g2
(lp37244
VYes, it's possible, using a subquery:
p37245
aVwhich is the equivalent of the following HQL query:
p37246
as(dp37247
g23
V571407
p37248
stp37249
a((dp37250
g2
(lp37251
VI would simply use a native query to get all the strings from the  table, or map B as an entity to retrieve all the B Strings using a JPQL query, but not have any association from A to B
p37252
aVThe B string would be stored as basic String column in entity
p37253
aVAnd if you try creating or updating an  instance with a string that is not in the  table, then you'll get an exception at flush or commit time because the foreign key constraint is broken
p37254
as(dp37255
g23
V571407
p37256
stp37257
a((dp37258
g2
(lp37259
VYes, it's possible, provided the 3 web sites are in the same domain
p37260
aVIf they're not, then a cookie created by website 1 won't be sent to website 2
p37261
as(dp37262
g23
V571407
p37263
stp37264
a((dp37265
g2
(lp37266
VYou should use an MVC framework like Stripes or Spring MVC, which handles this for you (and much more)
p37267
aVIn those frameworks, you configure a single servlet to intercept all the requests to a given URL pattern (*
p37268
aVaction for example), and this servlet dispatches to appropriate actions based on annotations and/or naming conventions and/or configuration
p37269
as(dp37270
g23
V571407
p37271
stp37272
a((dp37273
g2
(lp37274
VSpecify a case-sensitive collation when you create the table:
p37275
aVNote that the default collation can also be set globally, at the database level: http://dev
p37276
aVmysql
p37277
aVcom/doc/refman/5
p37278
aV0/en/charset-database
p37279
aVhtml
p37280
as(dp37281
g23
V571407
p37282
stp37283
a((dp37284
g2
(lp37285
V is of type , i
p37286
ag468
aV"array of Page"
p37287
aVAnd arrays don't have a  method
p37288
aVSo the statement  doesn't compile (you should have said that in your question, and joined the exact error message)
p37289
aVTo print all the pages of the array, you need to loop over the array:
p37290
aVPlease avoid single-letter variables, and use a plural form for arrays and collections:
p37291
as(dp37292
g23
V571407
p37293
stp37294
a((dp37295
g2
(lp37296
VYou won't run into problems, but you'll have to handle transactions and session handling yourself, unless you use Spring for example
p37297
aVNo
p37298
aVNo
p37299
aVTomcat is a servlet and JSP container, and not a full-stack Java EE container
p37300
aVA Java EE container must support EAR files, and Tomcat only deploys WAR files
p37301
aVStuffing libraries into a WAR file won't make it an EAR file
p37302
as(dp37303
g23
V571407
p37304
stp37305
a((dp37306
g2
(lp37307
VWhen you  an object, the println method checks if it's null and prints null if it is
p37308
aVIf it isn't null, it calls the  method of the object
p37309
aVThe  method of  overrides the  method, to return itself
p37310
aVAnyway,  doesn't print the reference, it prints the object itself
p37311
aVThe Object's implementation of toString() returns the class name of the object followed by its hashCode
p37312
as(dp37313
g23
V571407
p37314
stp37315
a((dp37316
g2
(lp37317
VDon't test the dummy implementations: they won't be used in production
p37318
aVIt makes no real sense to test them
p37319
aVIf the real UserService implementation does nothing else than go to a database and get the user name by its ID, then the test should test that it does that and does it correctly
p37320
aVCall it an integration test if you want, but it's nevertheless a test that should be written and automated
p37321
aVThe usual strategy is to populate the database with minimal test data in the @Before annotated method of the test, and have you test method check that for an ID which exists in the database, the corresponding user name is returned
p37322
as(dp37323
g23
V571407
p37324
stp37325
a((dp37326
g2
(lp37327
VYou're looking for the method ServletContext
p37328
aVgetResourceAsStream(), which loads a resource from a path starting at the webapp's root folder:
p37329
as(dp37330
g23
V571407
p37331
stp37332
a((dp37333
g2
(lp37334
VYou're adding a new action listener to your addcartbtn (wouldn't it be much more readable if it was named addCartButton, BTW) each time a selection is made in the JList
p37335
aVThe listener should only be added once
p37336
as(dp37337
g23
V571407
p37338
stp37339
a((dp37340
g2
(lp37341
VIf the goal is just to have several independant entities to inherit a common field from a base class, then no, you're not doing it correctly
p37342
aVThe annotation @Inheritance is unnecessary
p37343
aV@Inheritance is necessary when you have an entity (Vehicle, for example), and several sub-entities (Car, Bike, for example)
p37344
as(dp37345
g23
V571407
p37346
stp37347
a((dp37348
g2
(lp37349
VWhat you're seeing is the result of the array's toString() method
p37350
aVIt's not the content of the byte array
p37351
aVUse  to display the content of the arrays
p37352
aVis the type (array of bytes), and  is the hashCode of the array
p37353
as(dp37354
g23
V571407
p37355
stp37356
a((dp37357
g2
(lp37358
V is an
p37359
aVSO if you write , you're asking the container to call the method  on an object of type
p37360
aVArrayList doesn't have such a method
p37361
aVIf you want to call this method on every element of the list, then iterate through the list:
p37362
aVIf you only have one instance, then simply don't store it in a list and pass it directly to the view:
p37363
as(dp37364
g23
V571407
p37365
stp37366
a((dp37367
g2
(lp37368
VUse prepared statements, and the database driver will do everything for you, and you won't be subject to SQL injection attacks as a bonus
p37369
aVSee http://php
p37370
aVnet/manual/fr/mysqli
p37371
aVprepare
p37372
aVphp
p37373
as(dp37374
g23
V571407
p37375
stp37376
a((dp37377
g2
(lp37378
VWhen the JSP is executed, it opens the response writer to write its first characters as text (the newline chars between all your < directives)
p37379
aVYou then try to open the output stream of the response, but the JSP has already done it before
p37380
aVThis kind of pure Java code has no reason to be put in a JSP, which is meant to generate markup using JSP tags
p37381
aVUse a servlet to do that
p37382
as(dp37383
g23
V571407
p37384
stp37385
a((dp37386
g2
(lp37387
VIMO, your existing solution, with two constructors, is fine
p37388
aVYou could use the strategy pattern and have your constructor take an instance of some  interface instead of Object
p37389
aVThis interface would have the following method:
p37390
aVClients would pass an instance of  or an instance of  to the constructor
p37391
aVYour constructor would thus look like:
p37392
aVAnd the StringPanelProvider implementation would look like
p37393
aVThe ConstructedClassPanelProvider would look the same
p37394
aVIf you really want to use the Visitor pattern then you'll have to modify the above a little bit:
p37395
aVBut this looks like overengineering to me
p37396
as(dp37397
g23
V571407
p37398
stp37399
a((dp37400
g2
(lp37401
VI'll just answer on the first part of the question
p37402
aVTo embed an image into an HTML page, you first need to generate the HTML page which will contain the following markup:
p37403
aVThis HTML markup will be sent in the response to the request, and the browser will parse it
p37404
aVIt will then send a second HTTP request to , to download the bytes of the image
p37405
aVSo, you need to somehow store the generated image in memory and wait for the second request, and then send the bytes to the response, or you need to delay the image generation until the second request comes in
p37406
aVI much prefer the second solution
p37407
aVSo the goal of the code handling the first request will just be to generate markup containing an  tag pointing to an appropriate URL
p37408
aVThis URL should contain all the parameters necessary to actually generate the image
p37409
aVFor the second part, you will certainly have to create a BufferedImage instance, draw to its Graphics2D object, and use ImageIO to write this BufferedImage to the response output stream
p37410
as(dp37411
g23
V571407
p37412
stp37413
a((dp37414
g2
(lp37415
VIf you only want these three columns, then the HQL should be
p37416
aVThis query will return a  and each Object array in the list will contain these three elements
p37417
aVIt would be much more natural however to use this query:
p37418
aVwhich would load all the jobs with their position
p37419
aVThe query would return a List, and you would be able to access the three information uou want using , , and
p37420
aVThe syntax of HQL is described with examples in the reference documentation, a must-read
p37421
as(dp37422
g23
V571407
p37423
stp37424
a((dp37425
g2
(lp37426
VYour compareTo method is wrong
p37427
aVThe contract is that if A > B, then you must have B < A
p37428
aVYour implementation always returns 1 if the contents are not equal
p37429
aVYou should implement it like this:
p37430
aV(and the Word class should implement , not Comparable)
p37431
aVSince a TreeMap uses this method to tell if some word is bigger or smaller than another one, and since the method returns incoherent results, the Map also returns incoherent results
p37432
as(dp37433
g23
V571407
p37434
stp37435
a((dp37436
g2
(lp37437
VThe problem is that you told the JTable that all your columns contain Strings (escpt the last one), which is not true:
p37438
aVTell the truth to the JTable, and it will be happy
p37439
as(dp37440
g23
V571407
p37441
stp37442
a((dp37443
g2
(lp37444
VRead the error message:
p37445
aVLine 11 of Levels
p37446
aVjava is
p37447
aVSo, either  is null, or  is null
p37448
as(dp37449
g23
V571407
p37450
stp37451
a((dp37452
g2
(lp37453
VThe local variable should be declared a few lines above its usage
p37454
aVJust use regular comments if you need to
p37455
aVBut more importantly, keep methods short, choose meaningful names for them, and declare them only when you need them
p37456
aVMost of the time, it's completely unnecessary to comment local variables
p37457
aVPrefer
p37458
aVover
p37459
as(dp37460
g23
V571407
p37461
stp37462
a((dp37463
g2
(lp37464
VYou didn't show your code, but the join table was probably not populated because you forgot to initialize the user field of the book
p37465
aVin a bidirectional association, the owner side is the side which doesn't have the mappedBy attribute, and it's this side that JPA uses to know id the association exists or not
p37466
as(dp37467
g23
V571407
p37468
stp37469
a((dp37470
g2
(lp37471
VA bidirectional association always has an owner side, and an inverse side
p37472
aVThe owner side is the one where you define how the association is mapped (using @JoinColumn)
p37473
aVOn the inverse side, you must not define how the association is mapped (it would be redundant)
p37474
aVBut you must define that it's the inverse side by using the mappedBy attribute
p37475
aVInstead of defining a parent-child bidirectional association, you have defined two different associations
p37476
aVThe mapping of the collection should be:
p37477
aVNote that setting both sides of such an association as EAGER will force Hibernate to load the whole tree each time you load one single node of the tree
p37478
aVPrepare yourself for a very large number of queries to be executed, and abysmal performance
p37479
as(dp37480
g23
V571407
p37481
stp37482
a((dp37483
g2
(lp37484
VYou probably just want to set the  attribute of the exec task to true
p37485
aVIf you do this and the executable's return status code is anything other than 0, then the buildwill fail
p37486
aVYoui could also store this status code in a property using the  attribute, and execute some task only if this property is set (or is not set)
p37487
as(dp37488
g23
V571407
p37489
stp37490
a((dp37491
g2
(lp37492
VYour strategy is to use a first query to get IDs, and then loop over these IDs and execute another query for each of the IDs found by the first query
p37493
aVYou're in fact doing a "manual" join instead of letting the database do it for you
p37494
aVYou could rewrite everything in a single query:
p37495
as(dp37496
g23
V571407
p37497
stp37498
a((dp37499
g2
(lp37500
VOr instead of using , use a query that will load everything is a single query:
p37501
as(dp37502
g23
V571407
p37503
stp37504
a((dp37505
g2
(lp37506
VHQL queries aren't expressed in terms of tables and columns, but in terms of entities and their persistent fields/properties and associations
p37507
aVThe above query is valid only if the  entity has a persistent field/property named
p37508
aVIt probably has a toOne association to the  entity, and the query should thus be
p37509
aVBut this is only a guess, since you didn't provide the code and mapping of the  entity
p37510
aVLearn how HQL works by reading the documentation
p37511
as(dp37512
g23
V571407
p37513
stp37514
a((dp37515
g2
(lp37516
VThe cell editor will ultmately call the method  on your table model
p37517
aVIn this table model, simply update the linked cell value in addition to the edited celle value, and fire the appropriate change event for both cells
p37518
as(dp37519
g23
V571407
p37520
stp37521
a((dp37522
g2
(lp37523
VI don't have much experience with them, but I think you could be able to do that by wrapping your arrays (and sub-arrays) into IntBuffer instances
p37524
as(dp37525
g23
V571407
p37526
stp37527
a((dp37528
g2
(lp37529
V1- No, the design is not OK
p37530
aVYou should not redefine the flag in subclasses, but only assign a value to the flag in the superclass:
p37531
aVThe field should not be named like a constant, since it isn't one
p37532
aVrather than
p37533
aV2- Not necessarily
p37534
aVYou could however make it an argument of the base class constructor, to force every subclass to provide a value at construction time
p37535
aV3- Never access fields of other classes directly
p37536
aVDefinitely use a getter to access it from the outside
p37537
aVAnd no, the flag is not a static field, since every instance has its own value
p37538
as(dp37539
g23
V571407
p37540
stp37541
a((dp37542
g2
(lp37543
VBut of course, it will fail if all the s returned by the iterator are not s
p37544
aVIf you want to filter the iterator, then use instanceof:
p37545
aVUsing Guava, the above can be reduced to
p37546
as(dp37547
g23
V571407
p37548
stp37549
a((dp37550
g2
(lp37551
VNo, it's not possible
p37552
aVSince you marked the association itself as eagerly-loaded, Hibernate will always load this association eagerly
p37553
aVIf you mark the association as lazy (the default for toMany associations), then you have th option of eagerly fetching them in a query, using a :
p37554
aVNote that this will not work if both of the collections are bags (i
p37555
ag468
aVLists without index column)
p37556
as(dp37557
g23
V571407
p37558
stp37559
a((dp37560
g2
(lp37561
VI guess it means writing functions in your own object, instead of writing global functions:
p37562
as(dp37563
g23
V571407
p37564
stp37565
a((dp37566
g2
(lp37567
VDependency injection (which greatly helps unit-testing) and declarative transactions are the first things that come to mind
p37568
as(dp37569
g23
V571407
p37570
stp37571
a((dp37572
g2
(lp37573
VYou could use XML to define the mapping of this inheritance tree
p37574
aVHere's the relevant section of the documentation
p37575
as(dp37576
g23
V571407
p37577
stp37578
a((dp37579
g2
(lp37580
VThrow a SQLException from your action, and you'll have your answer
p37581
aVOr read the documentation, which says:
p37582
aVThe Interceptor will examine all declared mappings applicable to the
p37583
aVaction mapping, first local and then global mappings
p37584
as(dp37585
g23
V571407
p37586
stp37587
a((dp37588
g2
(lp37589
VA HashMap doesn't maintain eny order between keys
p37590
aVA TreeMap orders its keys by their natural order, or by the order imposed by a comparator that you pass when constructing the map
p37591
aVSo if you want to have Integer keys ordered in reverse order, construct the TreeMap this way:
p37592
as(dp37593
g23
V571407
p37594
stp37595
a((dp37596
g2
(lp37597
VRe-read the javadoc of ReentrantReadWriteLock
p37598
aVIt doesn't impose any order between reads and writes
p37599
aVAll it does is allowing concurrent reads, but disallowing concurrent writes and writes concurrent with reads
p37600
aVThis class has the following properties:
p37601
aVAcquisition order
p37602
aVThis class does not impose a reader or writer preference ordering for lock access
p37603
aVHowever, it does support an optional fairness policy
p37604
as(dp37605
g23
V571407
p37606
stp37607
a((dp37608
g2
(lp37609
VWebapp libraries must be stored in the /WEB-INF/lib directory of the deployed web application
p37610
aVIn a WTP eclipse project, you just have to drop the jar in the WebContent/WEB-INF/lib folder, and this jar will automatically be
p37611
aVin the build classpath of the project
p37612
aVdeployed under /WEB-INF/lib byt Eclipse
p37613
aVSo, remove it from your build path, and drop it in WebContent/WEB-INF/lib
p37614
aVAnd please, don't swallow exceptions like you're doing in your code snippet
p37615
aVIf you can't throws IOException, at least throw a runtime exception wrapping the original IOException
p37616
as(dp37617
g23
V571407
p37618
stp37619
a((dp37620
g2
(lp37621
VI have no experience with such multi-tenant setups, but you're going from one unique EMF shared by everyone to one EMF per user
p37622
aVYou're going too far
p37623
aVThe correct granularity IMO should be one EMF per database schema
p37624
aVThere's no reason for two users (and thus two HTTP sessions) using the same schema to have two different EMFs
p37625
as(dp37626
g23
V571407
p37627
stp37628
a((dp37629
g2
(lp37630
VMerge from folder1 to folder2, in the working copy of folder1, then commit
p37631
aVThis is the 2-URL merge explained in the documentation
p37632
as(dp37633
g23
V571407
p37634
stp37635
a((dp37636
g2
(lp37637
s(dp37638
g23
V571407
p37639
stp37640
a((dp37641
g2
(lp37642
VStraight from the documentation:
p37643
aV@org
p37644
aVhibernate
p37645
aVannotations
p37646
aVTypeDef and
p37647
aV@org
p37648
aVhibernate
p37649
aVannotations
p37650
aVTypeDefs allows you to declare type
p37651
aVdefinitions
p37652
aVThese annotations can be placed at the class or package
p37653
aVlevel
p37654
aVNote that these definitions are global for the session factory
p37655
aV(even when defined at the class level)
p37656
aVIf the type is used on a
p37657
aVsingle entity, you can place the definition on the entity itself
p37658
aVOtherwise, it is recommended to place the definition at the package
p37659
aVlevel
p37660
as(dp37661
g23
V571407
p37662
stp37663
a((dp37664
g2
(lp37665
VIf IOException was caught between the try and the finally, the first one would also handle the case where the constructor of the FileInputStream throws an IOException, whereas the second one would not
p37666
aVThey wouldn't do the same thing
p37667
aVAs is, the second one is cleaner
p37668
aVSince Java 7, the best way is to use the try-with-resources statement:
p37669
as(dp37670
g23
V571407
p37671
stp37672
a((dp37673
g2
(lp37674
VIf I understand correctly, you would like to have a name property in your entity, but you would like this property to be non-persistent (i
p37675
ag468
aVcompletely ignored by Hibernate)
p37676
aVIf so, that's what @Transient is for:
p37677
aVThe name property will of course be null for every instance loaded by Hibernate from the database
p37678
aVIt will only have a value if you assign one
p37679
as(dp37680
g23
V571407
p37681
stp37682
a((dp37683
g2
(lp37684
VYou simply have two OneToMany associations
p37685
aVYou just need to use joins in your query, as described in the Hibernate documentation over HQL
p37686
aVThe second query is the same, except you just want the book names:
p37687
aVSide note: you shouldn't name your collection of Assigns  or : it's very confusing
p37688
aVName it
p37689
as(dp37690
g23
V571407
p37691
stp37692
a((dp37693
g2
(lp37694
VNot sure, but the  could inherit its access type from the  annotation placed on the  method
p37695
aVHibernate would thus look for mapping details on the properties of this class and wouldn't find any, causing this exception
p37696
aVTry putting  on the  class
p37697
as(dp37698
g23
V571407
p37699
stp37700
a((dp37701
g2
(lp37702
VYou missed the whole point of JPA: having objects associated with other objects directly, rather than objects holding IDs of other objects
p37703
aVYou should have an Action entity with a ManyToOne association to an Employee entity, which would have a ManyToOne association to a Department entity
p37704
aVYou should NOT have an employeeId field in Action
p37705
aVAnd you should NOT have a departmentId field in Employee
p37706
aVThis would allow you, for example, to get the department name of an action by simply calling
p37707
aVAnd you would be able to use left joins in your query, which would become
p37708
aVand would give you the expected result
p37709
as(dp37710
g23
V571407
p37711
stp37712
a((dp37713
g2
(lp37714
VI'm wondering is there an easy JPA way to get all the Project objects given the list of project ids
p37715
aVhow can I make a JPA query that does what this SQL does
p37716
aVRead documentation about JPQL, because this is pretty basic stuff
p37717
aVHere's the Hibernate documentation on HQL, which is a small superset of JPQL
p37718
as(dp37719
g23
V571407
p37720
stp37721
a((dp37722
g2
(lp37723
VIt seems to me that you don't want entity inheritance here, but an additional mapped superclass for your entities with custom fields
p37724
aVEntity inheritance must be used when you have a real is-a functional relationship
p37725
aVFor example, an invoice might have a list of products, and the product entity would be the root of an inheritance tree (Vegetable, Meat, Clothe, etc
p37726
aVAnd in this case, a Vegetable is a product, and of course two products may not have the same ID, because a Price entity for example could reference a Product via a foreign key, and if two products had the same ID, it wouldn't work at all
p37727
aVIn your case, the entities with custom fields are completely unrelated
p37728
aVThey just happen to have common fields and you want to factor this by putting these common fields in a superclass
p37729
aVThat's what MappSuperclass is for
p37730
aVAnd those custom fields should be duplicated in each and every entity table
p37731
aVThis will, anyway, be much more efficient than a joined inheritance (which leads to more queries, and more complex and hard to optimize queries)
p37732
as(dp37733
g23
V571407
p37734
stp37735
a((dp37736
g2
(lp37737
VAFAIK, the  parameter is only used by iReport and JasperServer (and could be used by any other generic app generating reports)
p37738
aVAnyway, how is JasperReport supposed to know how it should ask the parameter value
p37739
aVAnd if your application was a webapp
p37740
aVOr a command-line app
p37741
aVJasper Reports generates reports
p37742
aVYou should provide the necessary GUI
p37743
as(dp37744
g23
V571407
p37745
stp37746
a((dp37747
g2
(lp37748
VThe message is pretty clear:
p37749
aVAn embeddable class that is used with an embedded ID specification can
p37750
aVonly contain basic mappings
p37751
aVSo, you can't have a ManyToOne association inside the ABAssociationPK class
p37752
aVThe standard JPA way of doing this is to use the  annotation
p37753
aVThe javadoc provides a helpful example
p37754
aVIn your particular situation, the  class should contain two fields of type :  and , mapped as basic columns
p37755
aVThe  entity should contain the associations, and use the  annotation:
p37756
as(dp37757
g23
V571407
p37758
stp37759
a((dp37760
g2
(lp37761
VThere is no problem with the components
p37762
aVThere is a problem with your design
p37763
aVYou're doing the long-running queries and the updates of the charts in a single method run in the event dispatch thread
p37764
aVBy doing so, the EDT is completely blocked and can't repaint anything until all the queries have been run and all the charts have been generated
p37765
aVUse a background thread to execute the queries, and generate a chart, in the EDT, each time one query is finished
p37766
aVThe SwingWorker class helps doing that
p37767
aVRead its API doc, and the tutorial about concurrency in Swing
p37768
as(dp37769
g23
V571407
p37770
stp37771
a((dp37772
g2
(lp37773
VNo, you can't
p37774
aVThe point of HQL and Criteria API is to query an object model, based on entities and associations between them
p37775
as(dp37776
g23
V571407
p37777
stp37778
a((dp37779
g2
(lp37780
VYou shouldn't have to parse anything
p37781
aVUse one of the ResultSet
p37782
aVgetTimestamp() methods, and you'll have a  object directly, which extends
p37783
aVAnd this will have the additional advantage of being portale across databases and locales
p37784
as(dp37785
g23
V571407
p37786
stp37787
a((dp37788
g2
(lp37789
VI don't really see what problem you're trying to solve here
p37790
aVHibernate is almost always used in a multi-threaded environment
p37791
aVIn webapps, for example, concurrent requests are handled by multiple concurrent threads, and each thread uses its own Hibernate session
p37792
aVAnd that doesn't cause any problem
p37793
aVYou will have problem if you share the same session among threads, or if you share a given entity among threads
p37794
aVIf you start your own thread, and this thread uses its own session and entities, I don't see why you would have any problem
p37795
as(dp37796
g23
V571407
p37797
stp37798
a((dp37799
g2
(lp37800
VFirst of all, the easiest way to solve this problem would be to make the ManyToMany association bidirectional
p37801
aVYou would just have to do
p37802
aVNow, if it's not an option, HQL would be easier than Criteria for such a query, which is not dynamically composed
p37803
aVThe query would be as simple as
p37804
aVIf you really really want to do this with Criteria, then you need to do the following:
p37805
aVYou could have found this by yourself and learnt many other things by reading the Hibernate documentation
p37806
as(dp37807
g23
V571407
p37808
stp37809
a((dp37810
g2
(lp37811
VHibernate doesn't do anything other than generating a SQL query and executing it
p37812
aVTurn loggin on to see which query it executes
p37813
aVMake sure this query looks like what you want
p37814
aVUse your database to analyze the execution plan and make sure the necessary indices are there
p37815
aV180,000 rows is nothing for a decent database
p37816
aVUnless your query loads a whole lot of entities with a whole lot of eagerly fetched associations, this query shoud execute in a few milliseconds
p37817
as(dp37818
g23
V571407
p37819
stp37820
a((dp37821
g2
(lp37822
VJSP tags are XML elements
p37823
aVAnd an XML element can't have multiple attributes with the same name
p37824
aVIMHO, your code happened to work only by accident in previous Websphere versions, probably due to a sloppy validation and interpretation of the JSP tags
p37825
as(dp37826
g23
V571407
p37827
stp37828
a((dp37829
g2
(lp37830
VA ManyToOne never points on a primary key class, but always on an entity
p37831
aVThus, this mapping is incorrect:
p37832
aVI recommend not defining any association in the primary key classes, and only defining basic columns (or embeddables containing basic columns)
p37833
aVThen define the association in the entity itself, and use the @MapsId annotation on this association to tell Hibernate that this association uses the same columns as the ones used to map the ID
p37834
aVThe documentation contains an example of mapping that does exactly what you're trying to do:
p37835
aVAn embedded id can itself contains the primary key of an associated
p37836
aVentity
p37837
as(dp37838
g23
V571407
p37839
stp37840
a((dp37841
g2
(lp37842
VIt's actually a best practice to put code (other than getters and setters) in JPA entities
p37843
aVNot doing so results in an anemic domain model
p37844
aVGenerating JPA entities from a schema can be useful to start you up, but once this is done, you should fine-tune the code and the design of these entities and add business logic in them
p37845
aVIt's not hard at all to write entities from scratch, without any generation phase
p37846
as(dp37847
g23
V571407
p37848
stp37849
a((dp37850
g2
(lp37851
VIf you do all this in a transaction, and the server goes down, the transaction won't be committed, and even if you flush during the transaction, nothing will be written to the database
p37852
aVFoe each and every contact, you need to open a new transaction, save the contact in this new transaction, then commit the transaction
p37853
as(dp37854
g23
V571407
p37855
stp37856
a((dp37857
g2
(lp37858
VThe servlet API is not part of Java SE, but of Java EE
p37859
aVIt's not bundled with the JDK
p37860
aVFind the javaee jar file in your Glassfish install and put it in your compilation classpath
p37861
as(dp37862
g23
V571407
p37863
stp37864
a((dp37865
g2
(lp37866
VIt is the right place
p37867
aVYou have to put them inside the VM arguments text area
p37868
as(dp37869
g23
V571407
p37870
stp37871
a((dp37872
g2
(lp37873
VAs explained in the javadoc and in the user guide, There is no thread that makes sure entries are removed from the cache as soon as the delay has elapsed
p37874
aVInstead, entries are removed during write operations, and occasionally during read operations if writes are rare
p37875
aVThis is to allow for a high throughput and a low latency
p37876
aVAnd of course, every write operation doesn't cause a cleanup:
p37877
aVCaches built with CacheBuilder do not perform cleanup and evict values
p37878
aV"automatically," or instantly after a value expires, or anything of
p37879
aVthe sort
p37880
aVInstead, it performs small amounts of maintenance during
p37881
aVwrite operations, or during occasional read operations if writes are
p37882
aVrare
p37883
aVThe reason for this is as follows: if we wanted to perform Cache
p37884
aVmaintenance continuously, we would need to create a thread, and its
p37885
aVoperations would be competing with user operations for shared locks
p37886
aVAdditionally, some environments restrict the creation of threads,
p37887
aVwhich would make CacheBuilder unusable in that environment
p37888
as(dp37889
g23
V571407
p37890
stp37891
a((dp37892
g2
(lp37893
VThe alternative is to transfer bytes instead of Strings
p37894
aVWhen you're doing , you're asking to use your platform's default encoding to interpret bytes and sequences of bytes as characters
p37895
aVThe problem is that all the bytes and sequences of bytes do not represent valid characters
p37896
aVThe algorithm is thus lossy
p37897
aVThat's a bit like transforming a color picture to black and white, and then trying to go from black and white to color
p37898
aVIt doesn't work
p37899
aVHence the need for base64
p37900
aVAn additional problem is that you don't specify any explicit encoding, which means that the sender and the receiver could use different encodings if they're not on the exact same platform
p37901
as(dp37902
g23
V571407
p37903
stp37904
a((dp37905
g2
(lp37906
VIt's closed when the connection that created it is closed
p37907
as(dp37908
g23
V571407
p37909
stp37910
a((dp37911
g2
(lp37912
VThe reason is that the last value you set for the attribute  is :
p37913
aVFrom the javadoc:
p37914
aVIf an object of the same name is already bound to the session, the
p37915
aVobject is replaced
p37916
as(dp37917
g23
V571407
p37918
stp37919
a((dp37920
g2
(lp37921
VA refresh is sufficient after you have dropped the new source files inside the source folder
p37922
aVNo need to add a new source folder
p37923
aVThe clean way to collaborate is to use a version control system, like Subversion, git, or whatever
p37924
aVCopying files between developers is a recipe for chaos
p37925
as(dp37926
g23
V571407
p37927
stp37928
a((dp37929
g2
(lp37930
VThe compiler isn't smart enough to understand that going through the  block will set  to , and that the next  block thus won't ever be executed
p37931
aVThe static analysis is more limited than what you expect, which also makes the comilation faster/
p37932
aVAnd it's probably a good thing, because changing the code of the  block would suddenly make the next  block not compilable, which would be annoying
p37933
as(dp37934
g23
V571407
p37935
stp37936
a((dp37937
g2
(lp37938
VIt's explained, surprisingly, in the Java tutorial page about exceptions
p37939
aVAn exception propagates from method to method, up the call stack, until it's caught
p37940
aVSo if  calls , which calls , which calls , and if  throws an exception, the exception will propagate from d to c to b to a, unless one of these methods catches the exception
p37941
as(dp37942
g23
V571407
p37943
stp37944
a((dp37945
g2
(lp37946
VYou're missing the FileOutputStream constructor which allows to append to the file
p37947
aVIf you create it as above, you overwrite the content of the file
p37948
as(dp37949
g23
V571407
p37950
stp37951
a((dp37952
g2
(lp37953
VYou probably need to add a
p37954
aVto your Hibernate config file, or to call configuration
p37955
aVaddPackage("com
p37956
aVfoo
p37957
aVbar
p37958
aVthepackage")
p37959
as(dp37960
g23
V571407
p37961
stp37962
a((dp37963
g2
(lp37964
VThat's the way to do:
p37965
aVremoving a provider from the list will remove the association between the QuickLaunch and the provider (and thus delete the corresponding row from the join table);
p37966
aVadding a provider to the list will create the association between the QuickLaunch and the provider (and thus insert a row in the join table)
p37967
as(dp37968
g23
V571407
p37969
stp37970
a((dp37971
g2
(lp37972
VIt will be the same as before your call to
p37973
aVis a method of
p37974
aVIt waits on the intrinsic monitor associated to the object
p37975
aVIn that case, the object is a thread, and that doesn't change what wait() does
p37976
aVIt's pretty bizarre to use a Thread object as a monitor, though
p37977
aVYou should use a private and final object as monitor
p37978
as(dp37979
g23
V571407
p37980
stp37981
a((dp37982
g2
(lp37983
VTo complement Adam's good answer: you don't need server affinity in GAE, because data stored in the HTTP session is not held in memory, but in the persistent datastore
p37984
aVSo any server will find what any other server previously stored in the session
p37985
aVSee [the documentation][1]:
p37986
aVApp Engine includes an implementation of sessions, using the servlet
p37987
aVsession interface
p37988
aVThe implementation stores session data in the App
p37989
aVEngine datastore for persistence, and also uses memcache for speed
p37990
aVAs
p37991
aVwith most other servlet containers, the session attributes that are
p37992
aVset with  during the request are persisted at
p37993
aVthe end of the request
p37994
aVThis feature is off by default
p37995
aVTo turn it on, add the following to
p37996
aVappengine-web
p37997
aVxml:
p37998
aVThe implementation creates datastore entities of the kind ,
p37999
aVand memcache entries using keys with a prefix of
p38000
aVNote: Because App Engine stores session data in the datastore and
p38001
aVmemcache, all values stored in the session must implement the
p38002
aVinterface
p38003
aVIt's possible to reduce request latency by configuring your
p38004
aVapplication to asynchronously write HTTP session data to the
p38005
aVdatastore:
p38006
aV[1] https://developers
p38007
aVgoogle
p38008
aVcom/appengine/docs/java/config/appconfig#Enabling_Sessions
p38009
as(dp38010
g23
V571407
p38011
stp38012
a((dp38013
g2
(lp38014
s(dp38015
g23
V571407
p38016
stp38017
a((dp38018
g2
(lp38019
VYou'll have to generate your query dynamically:
p38020
aVOf course, you will also have to set the parameters to the query only if they're not null
p38021
as(dp38022
g23
V571407
p38023
stp38024
a((dp38025
g2
(lp38026
VNo, you can't
p38027
aVIn the end, HQL parameters become JDBC prepared statement parameters, and you can't do that with prepared statements
p38028
aVParameters hold values, and not arbitrary portions of a query
p38029
aVThe database must be able to compute the query plan based on the parameterized query, and it would impossible if what you want to do was allowed
p38030
aVBTW, you would have found it youself if you had just tried it
p38031
as(dp38032
g23
V571407
p38033
stp38034
a((dp38035
g2
(lp38036
VBy doing what you did, you basically ignored dependency injection, and used a static factory instead
p38037
aVSo, if in a unit test, you want your factory to return fake instances of Foo rather than real instances, you can't
p38038
aVInstead, you should use dependency injection (Spring example here):
p38039
aVAnd now, in a unit test, you can inject whatever FooFactory implementation you want (typically, a mock)
p38040
as(dp38041
g23
V571407
p38042
stp38043
a((dp38044
g2
(lp38045
VThe problem is related to the way the object is serialized to JSON
p38046
aVYou probably configured it in one way or another (annotation, default implementation, config file) so that dates are serialized this way
p38047
as(dp38048
g23
V571407
p38049
stp38050
a((dp38051
g2
(lp38052
VThe first query (once fixed) should definitely return the parent and its children, even if it doesn't have any:
p38053
aVTo fetch the childInfos, you need to assign an alias to the child:
p38054
aVI have no concrete experience with EclipseLink, but such a query definitely works in Hibernate, and is, AFAIK, valid JPQL
p38055
aVSo it should work in EclipseLink
p38056
as(dp38057
g23
V571407
p38058
stp38059
a((dp38060
g2
(lp38061
V is not overridden in all the Number subclasses
p38062
aVFor example, it's not in BigInteger, AtomicInteger, AtomicLong, BigDecimal
p38063
aVAll those classes benefit from the default implementation in the Number class
p38064
as(dp38065
g23
V571407
p38066
stp38067
a((dp38068
g2
(lp38069
VYou'll need to provide  elements in your application context config file, as described in the documentation
p38070
as(dp38071
g23
V571407
p38072
stp38073
a((dp38074
g2
(lp38075
VYour SQL query is much too complex
p38076
aVStart with simple things:
p38077
aVSelect all the track_records sent to user 1:
p38078
aVNow you would like the message linked to the track record
p38079
aVThis is done using a join:
p38080
aVNow you would like only the ID of the sender, and the body of the message:
p38081
aVIn HQL, the query is almost identical
p38082
aVYou have a Message entity and a TrackRecord entity
p38083
aVTrackRecord has a ManyToOne association with Message
p38084
aVIt also has a ManyToOne association with the sender and the receiver
p38085
as(dp38086
g23
V571407
p38087
stp38088
a((dp38089
g2
(lp38090
VWell, first of all, you can't use double quotes to define an alias ( --> )
p38091
aVSecond, you're using an alias which as not been defined:
p38092
aVThird, your where clause is wrong: you forgot an  or an  betwwen the two restrictions
p38093
aVI'm not absolutely sure your query will be correct after you fix all these errors, but you should at least start with that
p38094
aVAnd please, join the error message and the full stack trace of any exception you have
p38095
as(dp38096
g23
V571407
p38097
stp38098
a((dp38099
g2
(lp38100
VYou're doing a busy loop
p38101
aVThis is almost never a good idea
p38102
aVUse a blocking data structure instead, like a BlockingQueue
p38103
aVOnce you have received your message, put it in the queue
p38104
aVAnd have your receiver get the message from the queue
p38105
aVThe receiver will be blocked while there is no message in the queue
p38106
as(dp38107
g23
V571407
p38108
stp38109
a((dp38110
g2
(lp38111
VHibernate recommends using purely technical, auto-generated, non-composite keys (except for pure join tables)
p38112
aVAnd for very good reasons, IMO
p38113
aVYour mapping will be much harder with composite keys
p38114
aVThe performance will be reduced because of more complex indices
p38115
aVThe general programming will be harder because instead of being able to identify a given entity with just a long, you'll need two or three longs (think about URLs and forms, for example, where you'll have to put two or three parameters/hidden fields to your URLs/forms)
p38116
aVAnd of course, if the keys are functional, it's even worse, because you WILL have to change one of the parts of a primary key some time, which will force you to update all the references to this primary key
p38117
as(dp38118
g23
V571407
p38119
stp38120
a((dp38121
g2
(lp38122
VThe EntityManagerFactory has a getMetamodel() method, which returns its MetaModel
p38123
aVFrom this MetaModel, you may ask for the MetaModel of every entity class, and discover all its attributes, their types, etc
p38124
as(dp38125
g23
V571407
p38126
stp38127
a((dp38128
g2
(lp38129
VCreate the  directory: it doesn't exist
p38130
aVSo obviously, you can't  into it
p38131
as(dp38132
g23
V571407
p38133
stp38134
a((dp38135
g2
(lp38136
VThere is no  clause in JPQL
p38137
aVIt's not necessary because you can only join two entities that have an association between them, and the mapping of the association already contains the necessary information necessary to know on which columns the join must be made
p38138
aVSo the following is sufficient:
p38139
aVThis assumes that you have a ToOne association between  and
p38140
aVEDIT: Announcement extends Commentable
p38141
aVSo you don't need any join
p38142
aVThe JPA engine does the join for you (if a join is necessary, depending on the inheritance strategy):
p38143
as(dp38144
g23
V571407
p38145
stp38146
a((dp38147
g2
(lp38148
VYou're passing a double to
p38149
aVAnd  is exactly the same double as
p38150
aVPass it a String, and the result will be different, because the scale of the BigDecimal will be deduced from the number of decimals in the String:
p38151
as(dp38152
g23
V571407
p38153
stp38154
a((dp38155
g2
(lp38156
VBut you should probably use a debugger instead of cluttering your code with such loops
p38157
as(dp38158
g23
V571407
p38159
stp38160
a((dp38161
g2
(lp38162
VHere's an excerpt from the EasyMock documentation:
p38163
aVChanging Behavior for the Same Method Call
p38164
aVIt is also possible to specify a changing behavior for a method
p38165
aVThe
p38166
aVmethods times, andReturn, and andThrow may be chained
p38167
aVAs an example,
p38168
aVwe define voteForRemoval("Document") to
p38169
aVreturn 42 for the first three calls,
p38170
aVthrow a RuntimeException for the next four calls,
p38171
aVreturn -42 once
p38172
as(dp38173
g23
V571407
p38174
stp38175
a((dp38176
g2
(lp38177
VI've not checked that this explanation is true, but it has good points
p38178
aVWithout any index column, a List is in fact a bag: no order, and duplicates allowed
p38179
aVSo Hibernate considers it possible that you have the same role twice in the list of roles of a user
p38180
aVSo issuing  is not possible because it would potentially remove several roles instead of just the one you removed from the list
p38181
aVTry adding an index column, or using a  instead of a
p38182
as(dp38183
g23
V571407
p38184
stp38185
a((dp38186
g2
(lp38187
s(dp38188
g23
V571407
p38189
stp38190
a((dp38191
g2
(lp38192
s(dp38193
g23
V571407
p38194
stp38195
a((dp38196
g2
(lp38197
VFirst of all, you should learn about JSPs and generate your HTML markup from a JSP rather than from the servlet
p38198
aVNow for your problem
p38199
aVEach of these rows comes from a database table
p38200
aVSo each of these rows should have an ID (primary key)
p38201
aVAssign the ID of the row to the value of the checkbox
p38202
aVWhen you submit your form, the servlet will receive all the IDs of the checked checkboxes
p38203
aVGet the values corresponding from these IDs from the database, and sum them (or execute a query that computes the sum directly):
p38204
aVIn the servlet handling the form submission:
p38205
as(dp38206
g23
V571407
p38207
stp38208
a((dp38209
g2
(lp38210
VI can imagine several solutions:
p38211
aVstore everything in memory
p38212
aVYou only have 400 records, and it could be a perfectly fine solution given this small number
p38213
aVuse an order by clause (which you should do anyway) on a unique column (the PK, for example), store the ID of the last loaded record, and make sure the next query uses
p38214
as(dp38215
g23
V571407
p38216
stp38217
a((dp38218
g2
(lp38219
V(the k parameter should be an instance of B with the ID to reject)
p38220
as(dp38221
g23
V571407
p38222
stp38223
a((dp38224
g2
(lp38225
VHere's how Hibernate does it:
p38226
aVif the identifier is generated, use the presence of the identifier
p38227
aVif not, and the entity is versioned (for optimistic locking), use the timestamp or version
p38228
aVif the above is not possible, query the second-level cache or the database to know if the identifier already exists or not
p38229
as(dp38230
g23
V571407
p38231
stp38232
a((dp38233
g2
(lp38234
VNo, there is not
p38235
aVIt's redundant
p38236
aVAbstractSample is a Sample, and MySample is a AbstractSample
p38237
aVSo MySample is a Sample
p38238
aVThe javadoc displays all the implemented interfaces anyway, whether you add the  or not
p38239
as(dp38240
g23
V571407
p38241
stp38242
a((dp38243
g2
(lp38244
VIf what you showed us is the full code of the JSP, then you simply forgot to declare the two taglibs at the top of the JSP:
p38245
as(dp38246
g23
V571407
p38247
stp38248
a((dp38249
g2
(lp38250
VYes, it's correct
p38251
aVYes, since the block is synchronized on OBJ1
p38252
aVI don't understand what you mean
p38253
aVIf what you're asking is "are locks reentrant
p38254
aV, then yes
p38255
aVA thread which already has a lock on an object can enter another block synchronized on the same object
p38256
aVYes
p38257
aVWhere the code is doesn't matter
p38258
aVWhat matters is if the thread has the lock or not
p38259
as(dp38260
g23
V571407
p38261
stp38262
a((dp38263
g2
(lp38264
VYes, you can do it by passing a custom FileView to the setFileView() method
p38265
aVThere is even an example of doing that in the JFileChooser tutorial
p38266
as(dp38267
g23
V571407
p38268
stp38269
a((dp38270
g2
(lp38271
VInstead of having two lists, I would store each topic with its count in a single object (let's call it ), and use a single
p38272
as(dp38273
g23
V571407
p38274
stp38275
a((dp38276
g2
(lp38277
VOr simly use the setClob() method takin a reader as argument:
p38278
aVNo need to use any database-proprietary class
p38279
aVJDBC is supposed to be an database-agnostic abstraction layer
p38280
as(dp38281
g23
V571407
p38282
stp38283
a((dp38284
g2
(lp38285
VThe additional selected columns when using Criteria come from a long-standing bug in Hibernate
p38286
aVAFAIK, the only way to avoid it is to use HQL, or the JPA2 criteria API
p38287
aVThe other problem is also signalled as a bug, but it has fewer impacts, and I wouldn't care much about it
p38288
as(dp38289
g23
V571407
p38290
stp38291
a((dp38292
g2
(lp38293
VThe first one uses one Employee instance as monitor
p38294
aVThe second one uses the Employee class as monitor
p38295
aVIf the goal is to guard instance variables of an employee, the first one is makes much more sense than the second one
p38296
aVIf the goal is to guard static variables of the Employee class, the second one makes sense, but not the first one
p38297
as(dp38298
g23
V571407
p38299
stp38300
a((dp38301
g2
(lp38302
VOf course it's an issue
p38303
aVA servlet is a singleton
p38304
aVThe same servlet instance is used to handle all the requests to this servlet
p38305
aVAnd requests are of course handled concurrently
p38306
aVThis means that thread1 will use the request  and response normally handled by thread2 if you do that
p38307
as(dp38308
g23
V571407
p38309
stp38310
a((dp38311
g2
(lp38312
VThat seems pretty logical to me
p38313
aVYou call this method twice
p38314
aVSo you create two different instances of InspectorAssignment and save them both
p38315
aVEven if you save them by saving the project, the project has a set of assignments containing two different instances of InspectorAssignment
p38316
aVThe Set would not add the second one it it were equal to the first one, but it's not, since you haven't overridden  and
p38317
aVI would
p38318
aVcreate a unique constraint on  in the assignment table to make sure this doesn't happen and throws an exception instead
p38319
aVonly create a new InspectorAssignment if it doesn't exist yet
p38320
aVcreate the InspectorAssignment in database by saving it explicitely, rather than counting on the cascade from Project to InspectorAssignment
p38321
aVoverride  and  in InspectorAssignment
p38322
as(dp38323
g23
V571407
p38324
stp38325
a((dp38326
g2
(lp38327
VWell, the framework is a software product, and the clients of the framework are the applications using it
p38328
aVSo the framework should follow the same rules than the application itself
p38329
aVSo here's the scenario
p38330
aVYou released version A3
p38331
aV0 of your application
p38332
aVThis version uses the version F2
p38333
aV4 of the framework
p38334
aVThe SVN repository of the framework has a tag for the F2
p38335
aV4 release
p38336
aVThe SVN repository has a tag for the A3
p38337
aV0 release
p38338
aVA client of your application discovers a bug in the release A3
p38339
ag2332
aVYou create a new branch named A3
p38340
ag2332
aV1, where you'll fix the bug
p38341
aVThe framewok has noting to do with this bug
p38342
aVSo you fix the code of the application in this branch, merge the fix to the trunk it applicable, and when ready, you make the release and create a tag named A3
p38343
ag2332
ag10
aVIn the branch and in the tag, you're still using the release F2
p38344
aV4 of the framework
p38345
aVThe client discovers another bug in A3
p38346
ag2332
ag10
aVSo you create a new branch named A3
p38347
ag2332
aV2 to fix this bug
p38348
aVAfter investigation, you realize this comes for the framework
p38349
aVSo you ask the framework team to fix this bug, and provide you a version F2
p38350
ag1458
ag10
aVIn the framework team, they create a branch F2
p38351
ag1458
aV1 to fix the bug
p38352
aVOnce ready, they release F2
p38353
ag1458
aV1 and create a tag for this release
p38354
aVYou include F2
p38355
ag1458
aV1 in your branch A3
p38356
ag2332
aV2, you make sure the bug is fixed (maybe you also need to make some changes in the application code), and when ready, you release the version A3
p38357
ag2332
aV2 and create a tag for it
p38358
aVYour version A3
p38359
ag2332
aV2 now depends on the framework F2
p38360
ag1458
ag10
aVRegarding the VS plugins, if they're not backward compatible, I don't see any other solution than keeping older versions
p38361
aVBut I would not rely on an IDE, and even less on specific plugins of an IDE, to create and build software
p38362
aVIDEs should be interchangeable, and at the very least, there should be an IDE-independant way of building the software
p38363
as(dp38364
g23
V571407
p38365
stp38366
a((dp38367
g2
(lp38368
VYour query is:
p38369
aVYour first row's interval is [01
p38370
aV05
p38371
aV2012, 31
p38372
aV05
p38373
aV2012], and your second row's interval is [01
p38374
aV05
p38375
aV2012, 01
p38376
aV08
p38377
aV2012]
p38378
aVThe arguments of the query are 10
p38379
aV05
p38380
aV2012, 20
p38381
aV05
p38382
aV2012
p38383
aVSo, for your first row:
p38384
aVSo the first row is not returned
p38385
aVFor your second row:
p38386
aVSo the second row isn't returned either
p38387
aVEverything looks normal to me
p38388
as(dp38389
g23
V571407
p38390
stp38391
a((dp38392
g2
(lp38393
Vis what you need
p38394
aVYou may alwo use the ordinal:
p38395
aVEnums have a natural ordering defined by their ordinal
p38396
aVAnd the ordinal of an enum is attributed based on its position in the declaration
p38397
aVSo DEUCE has ordinal 0, TREY has ordinal 1, etc
p38398
as(dp38399
g23
V571407
p38400
stp38401
a((dp38402
g2
(lp38403
VYour overridden constructor doesn't use the JMenuItem constructor taking an Action as argument, and doesn't call  either
p38404
aVSo your menu item is not associated to the action
p38405
aVI would not create a subclass just to add a constructor
p38406
aVWhy not simply create a factory method
p38407
as(dp38408
g23
V571407
p38409
stp38410
a((dp38411
g2
(lp38412
VHere's what the javadoc says:
p38413
aVint compare(T o1, T o2)
p38414
aVCompares its two arguments for order
p38415
aVReturns a negative integer, zero, or a positive integer as the first argument is less than, equal
p38416
aVto, or greater than the second
p38417
aVYour comparator implementation doesn't respect this contract, so the result is indeterminate
p38418
aVIt must return a negative value if it considers o1 to be less than o2
p38419
aVIt must return a positive value if it considers o1 to be greater than o2
p38420
aVAnd it must return 0 if it considers o1 to be equal to o2
p38421
aVAnd it must of course be consistent
p38422
aVIf o1 < o2, then o2 > o1
p38423
aVIf o1 < o2 and o2 < o3, then o1 < o3
p38424
as(dp38425
g23
V571407
p38426
stp38427
a((dp38428
g2
(lp38429
VYou need to be full generic:
p38430
as(dp38431
g23
V571407
p38432
stp38433
a((dp38434
g2
(lp38435
VYou don't need to mess with Tomcat threads for that
p38436
aVJust use the following code:
p38437
aVEach time you need a serializer, call , and it will return the thread-local instance, and lazily create it if it doesn't exist yet
p38438
as(dp38439
g23
V571407
p38440
stp38441
a((dp38442
g2
(lp38443
VIf I understand correctly, you're asking how to display some lines of Java code on a web page so that
p38444
aVit looks like properly indented Java code, and doesn't end up in one single long line
p38445
aVit has syntax coloring
p38446
aVThe first part is easily done using a  HTML tag:
p38447
aVThe  HTML tag is used to preserve line breaks and spaces
p38448
aVFor syntax coloring, consider using some JavaScript library like SyntaxHighlighter
p38449
as(dp38450
g23
V571407
p38451
stp38452
a((dp38453
g2
(lp38454
VIt's more efficient to do it in Java, since you'll save a roundtrip to the database
p38455
aVIt's also more logical to do it in Java, because this is business logic, and the business logic should generally be in the application code, not in the database
p38456
aVHere are some good rules of thumbs regarding performance:
p38457
aVdon't base all your design choices on performance
p38458
aVTry making your code clean, well structured, and working first
p38459
aVThen if you have a performance problem, measure to know where it comes from
p38460
aVThen only optimize where it's necessary
p38461
aVPremature optimization is the root of all evil
p38462
aVsome lines of code manipulating data in memory are almost always several orders of magnitude faster than an interprocess or, even worse, network call
p38463
aVThe memory is the house next door
p38464
aVThe database is planet Mars
p38465
as(dp38466
g23
V571407
p38467
stp38468
a((dp38469
g2
(lp38470
VWhy don't you simply use svn switch (described in more details here)
p38471
as(dp38472
g23
V571407
p38473
stp38474
a((dp38475
g2
(lp38476
VIt's impossible to redirect using POST
p38477
aVEnd of story
p38478
aVJust make sure an abc user never sees a link or form pointing to xyz
p38479
aVRedirect for GET requests (in case the user enters the xyz URL directly in the address bar), and redirect to some error page or home page for POST requests, since that should never happen anyway
p38480
as(dp38481
g23
V571407
p38482
stp38483
a((dp38484
g2
(lp38485
VYou got it wrong
p38486
aVAll variables are implicitely public static and final in interfaces
p38487
aVYou can't create static methods in interfaces
p38488
aVAll methods are instance methods
p38489
aVSince the only goal of an interface is to have classes implementing them, and since methods in interfaces can't have any implementation, making them final would make no sense: they would have no implementation, and could not be overridden
p38490
as(dp38491
g23
V571407
p38492
stp38493
a((dp38494
g2
(lp38495
VGuava doesn't use
p38496
aVEverything that is not documented in the official Java SE javadoc is internal code, and should not be used in applications
p38497
aVYou're probably looking for , which is part of JSR305
p38498
as(dp38499
g23
V571407
p38500
stp38501
a((dp38502
g2
(lp38503
VYou store byte arrays in an ArrayList, and then you write the whole ArrayList to a ByteArrayOutputStream wrapped in an ObjectOutputStream, using the  method
p38504
aVThis uses the native Object serialization mechanism to save the ArrayList object
p38505
aVIt doesn't write every byte array in the list one after the other
p38506
aVTo make it clear: it writes the class name, and the internal structure of the ArrayList, using the object serialization protocol
p38507
aVYou don't need an ArrayList
p38508
aVWrite directly to a ByteArrayOutputStream, or even directly to a FileOutputStream
p38509
aVAs is, you're trying to
p38510
aVwrite bytes to a list
p38511
aVwrite the bytes in the list to a byte array
p38512
aVwrite the byte array to a file
p38513
aVIt would be much more straightforward (and efficient) to write directly to the output file (wrapped in a BufferedOutputStream for buffering)
p38514
as(dp38515
g23
V571407
p38516
stp38517
a((dp38518
g2
(lp38519
VThis code looks very suspicious to me:
p38520
aVYour output array (data) is of length , but you only copy  bytes to it
p38521
aVIf the bytes to ignore in packetData are the first 4 bytes, it should be
p38522
aVbecause the last argument is not a length, but the  index (exclusive)
p38523
aVSee the javadoc for details
p38524
as(dp38525
g23
V571407
p38526
stp38527
a((dp38528
g2
(lp38529
s(dp38530
g23
V571407
p38531
stp38532
a((dp38533
g2
(lp38534
VYou can't
p38535
aVA  is not a
p38536
aVIf it was, you could do the following:
p38537
aVand it would thus completely break the type-safety of the collection
p38538
aVWhat you can do is the following:
p38539
as(dp38540
g23
V571407
p38541
stp38542
a((dp38543
g2
(lp38544
VYou're trying to store a  object, rather than an entity instance
p38545
aVis not an entity instance
p38546
aVIt's
p38547
aVThe error is in code that you don't show, before the call to
p38548
as(dp38549
g23
V571407
p38550
stp38551
a((dp38552
g2
(lp38553
V means
p38554
aVfind a page-scope attribute named "foo" and, if not found
p38555
aVfind a request-scope attribute named "foo" and, if not found
p38556
aVfind a session-scope attribute named "foo" and, if not found
p38557
aVfind an application-scope attribute named "foo"
p38558
aVSo, if you want some object to be available to the EL, store it in the appropriate scope:
p38559
as(dp38560
g23
V571407
p38561
stp38562
a((dp38563
g2
(lp38564
VBecause Properties was misconceived from the start by extending Hashtable, which can store anything
p38565
aVThe design thus didn't respect the Liskov substitution principle: everything a base class can do, a subclass must be able to do
p38566
aVSince Properties extends Hashtable, you can in fact store any kind of Object in it
p38567
as(dp38568
g23
V571407
p38569
stp38570
a((dp38571
g2
(lp38572
VI like your current approach the best
p38573
aVIt's inherently thread-safe (because stateless)
p38574
aVIt allows for the same processor to be used by multiple threads
p38575
aVIt's easy to understand and use
p38576
aVIt's very similar to, for example, the way a servlet works: the request and the response objects are passed to the servlet, even if they don't care about them
p38577
aVAnd it's also very easy to unit test, because you don't have to setup a thread-local context to be able to test a processor
p38578
aVYou just pass a ReceiverData (real or fake), and that's it
p38579
aVYou could, instead of passing a byte array and a ReceiverData, mix both in a single argument
p38580
as(dp38581
g23
V571407
p38582
stp38583
a((dp38584
g2
(lp38585
Vdon't use one transaction per row, but include everything (or at least significant subsets) in a single transaction
p38586
aVissue a single query to verify the existence of several rows at once
p38587
aVfollow the advices of the reference documentation
p38588
as(dp38589
g23
V571407
p38590
stp38591
a((dp38592
g2
(lp38593
VWhen you construct the JScrollPane, you pass it the table, which is its only child component
p38594
aVBut then you add the table to the contentPane, which means that you remove it from the JScrollPane and add it to the content pane
p38595
aVYou must not add the table to the contentPane
p38596
aVOnly the scrollPane, which itself contains the table
p38597
aVAlso, never use
p38598
aVIt makes no sense anyway since you're using a layout manager which takes care of positioning the components
p38599
aVAnd it makes even ess sense in this case since the table is handled by the JScrollPane
p38600
as(dp38601
g23
V571407
p38602
stp38603
a((dp38604
g2
(lp38605
VLocale
p38606
aVsetDefault() sets the default locale for the whole JVM, which is fine for a client application
p38607
aVFor a web application, it's not a valid solution, but a thread-local is not either, since the same threads are used for all the users
p38608
aVIn this case, the user locale is typically stored in the HTTP session
p38609
as(dp38610
g23
V571407
p38611
stp38612
a((dp38613
g2
(lp38614
VAFAIK, that's it
p38615
aVIt's pretty rare to mix different message types, and different object types inside the message, in a single destination (queue or topic), though
p38616
aVSo you might skip the instanceof checks if you know that only ObjectMessages containing SomeType objects are expected
p38617
as(dp38618
g23
V571407
p38619
stp38620
a((dp38621
g2
(lp38622
VAn EntityManagerFactory is an object that is thread-safe, and that should be created only once for the lifetime of the application
p38623
aVIt shouldn't matter much if it takes 3 seconds to create
p38624
aVThere's no reason to close the EntityManagerFactory and reopen it like you seem to be doing
p38625
as(dp38626
g23
V571407
p38627
stp38628
a((dp38629
g2
(lp38630
VOnly needed classes are loaded and stored in the permgen space
p38631
as(dp38632
g23
V571407
p38633
stp38634
a((dp38635
g2
(lp38636
VA  doesn't have a time zone
p38637
aVIt's a universal instant in time
p38638
aVWhen you display a date in human readable format, then you choose in which timezone you want to display this date, and you do it by setting the time zone on the SimpleDateFormat used to transform the date into a string
p38639
aVIf you just do , the  method of the date is used, and this  method uses the default timezone
p38640
as(dp38641
g23
V571407
p38642
stp38643
a((dp38644
g2
(lp38645
VYou got it
p38646
aVBasically, the  method does the following:
p38647
aVThe javadoc explains it:
p38648
aVFirst, if the class of this object does not implement the interface
p38649
aVCloneable, then a CloneNotSupportedException is thrown
p38650
aVNote that the compiler doesn't have anything to do with that
p38651
aVIt all happens at runtime
p38652
as(dp38653
g23
V571407
p38654
stp38655
a((dp38656
g2
(lp38657
VI haven't checked tha JPA specification, but given that the Hibernate documentation says
p38658
aVNote that HQL subqueries can occur only in the select or where
p38659
aVclauses
p38660
aVI very much doubt that your query can be transformed in a valid JPQL query
p38661
aVYou'll have to keep using this native SQL query
p38662
as(dp38663
g23
V571407
p38664
stp38665
a((dp38666
g2
(lp38667
VYour approach is excellent
p38668
aVIt uses the post-redirect-get pattern, which has several advantages:
p38669
aVclean URL that is bookmarkable and can be sent by email for example
p38670
aVno risk of resubmitting the modification by hitting the Refresh button
p38671
aVclean navigation through the browser history
p38672
aVseparation of responsibilities between the get and the post URLs
p38673
aVSo keep everything as it is
p38674
aVA forward is a less optimal solution than a redirect in this case
p38675
as(dp38676
g23
V571407
p38677
stp38678
a((dp38679
g2
(lp38680
VLaunch a background thread that sleeps for 60 minutes and exits:
p38681
as(dp38682
g23
V571407
p38683
stp38684
a((dp38685
g2
(lp38686
VWhy don't you simply count the applicants
p38687
aVEclipseLink will transform this in SQL and add the where clause on the discriminator for you
p38688
aVRemember that JPQL works with your entities and their persistent fields/properties
p38689
aVIt knows about their association and their inheritance hierarchy
p38690
aVJPQL never uses table and column names
p38691
aV(Side note: why use "Yes" for a boolean field
p38692
as(dp38693
g23
V571407
p38694
stp38695
a((dp38696
g2
(lp38697
VThe javadoc says:
p38698
aVThe pathname specified may be relative, although it cannot extend
p38699
aVoutside the current servlet context
p38700
aVIf the path begins with a "/" it
p38701
aVis interpreted as relative to the current context root
p38702
aVSo the path has nothing to do with class names, and everything to do with what resource (static, like an html file, or dynamic, like a servlet mapped to a given url pattern) is located at the given path
p38703
aVI would avoid using relative paths: it's hard to know to which absolute path they resolve, and they're fragile because if you map your servlet to another URL, they will break
p38704
as(dp38705
g23
V571407
p38706
stp38707
a((dp38708
g2
(lp38709
VSee the javadoc
p38710
aVThis method exists since servlet 2
p38711
ag1458
aVEither your server supports this version (or later) of the servlet spec, and the jar in your buildpath is too old, or it doesn't support it, and you should not use this method
p38712
aVIn the latter case, read the javadoc to know by what you should replace it
p38713
as(dp38714
g23
V571407
p38715
stp38716
a((dp38717
g2
(lp38718
VStart by measuring what takes time
p38719
aVThen try to optimize where needed
p38720
aVIf your pool is too small, and you have more concurrent requests than the pool has connections, there will obviously be delays
p38721
aVThe nest probable culprit is the query:
p38722
aVturn SQL logging on and see if all the SQL queries are necessary (no unnecessary eager fetching)
p38723
aVexamine the execution plan of these queries in MySQL, and see if no index is missing
p38724
aVReading your code quickly, you're doing a manual N + 1 query:
p38725
aVquery for recipes
p38726
aVfor each recipe, find a Userlikes
p38727
aVYou should use a single query to load all the needed data in one single query
p38728
aVOr at the very least, you should do a single query to load all the Userlikes at once, by using a  clause
p38729
as(dp38730
g23
V571407
p38731
stp38732
a((dp38733
g2
(lp38734
VBoth approaches are OK
p38735
aVThe advantage of an inner class is that it has access to the internals of the enclosing object
p38736
aVThe disadvantage is that it's not reusable in another context (another frame which would have a similar interface, for example)
p38737
aVJust make sure your code is well structured and readable
p38738
aVFor example, you might want to extract the three method calls in your  method in a single method of the frame
p38739
as(dp38740
g23
V571407
p38741
stp38742
a((dp38743
g2
(lp38744
VIf you use named parameters, you should bind them by name:
p38745
aVSo you should rather use a Map to hold your parameter values, indexed by their name
p38746
aVBut this kind of dynamic query is exactly why the JPA criteria API has been designed
p38747
aVYou should use it
p38748
as(dp38749
g23
V571407
p38750
stp38751
a((dp38752
g2
(lp38753
VBecause some queries don't have any parameter, and preparing the statement and then executing it can actually be less efficient than executing the statement directly
p38754
aVIt's also more readable and straightforward in this case to use (and potentially reuse) a single statement
p38755
aVHere's what the javadoc says, BTW:
p38756
aVSQL statements without parameters are normally executed using
p38757
aVStatement objects
p38758
aVIf the same SQL statement is executed many times,
p38759
aVit may be more efficient to use a PreparedStatement object
p38760
as(dp38761
g23
V571407
p38762
stp38763
a((dp38764
g2
(lp38765
VYou can't cast the Document to a JTextField
p38766
aVJTextField has a document
p38767
aVBut JTextField  Document
p38768
aVAFAIK, you'll have to use a separate listener for every JTextField, and give the reference of the JTextField to your listener:
p38769
aVAnd you should use a factory method to create your textfields:
p38770
as(dp38771
g23
V571407
p38772
stp38773
a((dp38774
g2
(lp38775
Vdouble quotes must be escaped with a backslash inside a String literal:
p38776
as(dp38777
g23
V571407
p38778
stp38779
a((dp38780
g2
(lp38781
VBecause you might want to inject other beans in your prototype
p38782
aVOr you might want to apply AOP aspects to methods of this bean
p38783
aVOr you might want to make it transactional
p38784
aVOr secure
p38785
aVIf you simply invoke the constructor of the class, it's not a Spring-managed bean anymore, and everything Spring does with beans is not done to the manually constructed object
p38786
as(dp38787
g23
V571407
p38788
stp38789
a((dp38790
g2
(lp38791
VYou delete it like any other folder in SVN
p38792
aVThere is nothing special with trunk folders
p38793
aVThey're just named like that by convention
p38794
aVHere's the documentation of the  command
p38795
as(dp38796
g23
V571407
p38797
stp38798
a((dp38799
g2
(lp38800
VYou can't return from a constructor
p38801
aVWhat you should do to prevent the creation is to throw an exception from the constructor:
p38802
as(dp38803
g23
V571407
p38804
stp38805
a((dp38806
g2
(lp38807
VThere's no reason to  an object and assign it an ID if you don't want it to be saved in the database yet
p38808
aVOnly save it when the form is submitted and the data contained in the object are valid
p38809
as(dp38810
g23
V571407
p38811
stp38812
a((dp38813
g2
(lp38814
VIf you have several rows with the same ID in your view, then it means that your ID is not an ID
p38815
aVFrom what you posted it seems like  should be the ID of the entity
p38816
as(dp38817
g23
V571407
p38818
stp38819
a((dp38820
g2
(lp38821
V should do the trick
p38822
aVWith TortoiseSVN, select the directory which contained trunk, and revert
p38823
aVis used to delete a file or folder in SVN, but keeping the file or folder in the working copy
p38824
as(dp38825
g23
V571407
p38826
stp38827
a((dp38828
g2
(lp38829
VThe solution I use for this problem is to have a first query to only load the IDs of the root entities that satisfy the criteria (i
p38830
ag468
aVthe IDs of your 25 nominations), and then issue a second query which loads the data of these 25 IDs, by doing a query like the following
p38831
as(dp38832
g23
V571407
p38833
stp38834
a((dp38835
g2
(lp38836
VThat's right
p38837
aVBut that doesn't limit the number of users to 10, because in a typical application, a user clicks on a link, which causes a connection to be used for a few milliseconds (the time to load the page), and then stares at the page for seconds or minutes
p38838
aVSo if the ratio of idle time vs
p38839
aVbusy time is of 100 on average, you can expect to have 1000 users sharing the 10 connections in your pool, and everything should be fine (this is of course an approximation, that doesn't take bursts, long tasks, etc
p38840
aVinto account, but you get the idea)
p38841
aVTo sum it up: a connection is used by a user only during a transaction, which should very short (as short as possible)
p38842
aVThis is what makes many concurrent users possible
p38843
as(dp38844
g23
V571407
p38845
stp38846
a((dp38847
g2
(lp38848
VThis code is hard to unit test because instead of using Spring as intended (i
p38849
ag468
aVas a dependency injection framework), you use it as a factory
p38850
aVDependency injection is precisely used to avoid this kind of bean lookup you're doing, which is hard to test
p38851
aVThe DAO should be injected into your object
p38852
aVThat way, you could inject a mock DAO when unit testing your object
p38853
aVAlso, this logic is not database-related at all
p38854
aVThe DAO contains the database-related logic
p38855
aVThis action uses the DAO, and the DAO is thus another unit (which should be tested in its own unit test)
p38856
aVYou should thus inject a mock DAO to unit test this method
p38857
aVFinally, this method doesn't use HttpServletRequest (at least not directly), so I don't understand why you would need to use a fake request
p38858
aVYou could mock the setXxx methods which use the request
p38859
as(dp38860
g23
V571407
p38861
stp38862
a((dp38863
g2
(lp38864
Vshould do the trick, AFAIK
p38865
as(dp38866
g23
V571407
p38867
stp38868
a((dp38869
g2
(lp38870
VTo make it clear, you have a many-to-one association between you Product and its Provider
p38871
aVWhen you insert a product, you want it to link it to an existing provider
p38872
aVSo you get the provider which has the given ID, and attach this provider to the product:
p38873
aVThe same goes for the othe associations
p38874
as(dp38875
g23
V571407
p38876
stp38877
a((dp38878
g2
(lp38879
VYour save method calls the save method, which calls the save method, which calls the save method, which calls the save method, which calls the save method, which calls the save method, which calls the save method, which calls the save method, which calls the save method
p38880
aVReplace  by
p38881
aV(and please respect the Java naming conventions
p38882
aVVariables start with a lower-case letter)
p38883
as(dp38884
g23
V571407
p38885
stp38886
a((dp38887
g2
(lp38888
VI'm pretty sure the problem doesn't come from the StringBuffer or from the HTML code generation by the JSP
p38889
aVThe problem probably comes from:
p38890
aVthe time it takes to load all this information from your database
p38891
aVthe time it takes to transfer a huge HTML page from the server to the client
p38892
aVBandwidth is not unlimited
p38893
aVthe time it takes for the browser to parse and render a huge HTML page
p38894
aVAnyway, I very much doubt a user will be able to find what he's interested about in a page containing 20000 records
p38895
aVProvide a search interface rather than showing everything, and only display pages of 20, 50 or 100 records at once, like nerly every web site does (think Google: all the results are not displayed in the result page, but only the few first ones)
p38896
as(dp38897
g23
V571407
p38898
stp38899
a((dp38900
g2
(lp38901
VThe point of a front controller is that it intercepts all requests
p38902
aVYou should never send a request to a JSP directly
p38903
aVAlways to some  URL
p38904
aVAll your links and forms must poiunt to an  URL
p38905
aVThe forward gives the control, at server-side to another resource
p38906
aVOnce the controller servlet has finished its job, it gives the control to the JSP, which generates the markup
p38907
aVThis all happens at server-side, and the browser knows nothing about this
p38908
aVIt's absolutely normal for the URL to remain the same
p38909
aVSee 1
p38910
aVI don't understand what you mean by "without processing it again", though
p38911
as(dp38912
g23
V571407
p38913
stp38914
a((dp38915
g2
(lp38916
VSpring wraps the bean into a proxy, probably in order to apply AOP aspects (transactional, security) around the methods
p38917
aVSo the bean it injects inside your test is a Spring proxy around the mock, and not the mock itself
p38918
aVWhy are you using a spring context and dependency injection, though
p38919
aVYou could simply instantiate your service object in your unit test, inject mock dependencies in the object, and test it
p38920
aVNo need for a Spring container for that
p38921
aVThat's probably the main interesting feature of an IoC framework: it makes unit tests simple:
p38922
as(dp38923
g23
V571407
p38924
stp38925
a((dp38926
g2
(lp38927
VSince those collections are eagerly fetched anyway, why don't you simply add a getOptions() method that returns a filtered view (or copy) of
p38928
as(dp38929
g23
V571407
p38930
stp38931
a((dp38932
g2
(lp38933
VYour code is not in any method
p38934
aVYou may declare and initialize fields in a class
p38935
aVBut using these fields should be done in methods (or constructors)
p38936
as(dp38937
g23
V571407
p38938
stp38939
a((dp38940
g2
(lp38941
VBy default,  associations and element collections are lazy loaded
p38942
aVThis means that the collection elements are loaded from the database only when needed, when one of the collection methods is called
p38943
aVBut of course, the entity needs to be attached to its session for this to work
p38944
aVIf the session is closed, the exception you got is thrown
p38945
aVEither you make it eagerly loaded by setting the fetch attribute of the annotation, or you use a query or service that initialize the collection, in the transaction, before returning it
p38946
aVBeware that if you make it eagerly loaded, it will ALWAYS be eagerly loaded, even if you don't need the collection elements
p38947
as(dp38948
g23
V571407
p38949
stp38950
a((dp38951
g2
(lp38952
VThreads have nothing to do with your problem
p38953
aVSuppose you use a class  from library  in your source file
p38954
aVTo compile your class, you need  in the classpath, for the compiler to be able to know about , its methods, fields, etc
p38955
aVBut if the code of  relies on another class  which is in , you will also need  in the runtime classpath
p38956
aVIn short, you only need the direct dependencies in the classpath to compile
p38957
aVBut you need all the transitive dependencies in the classpath to run the program
p38958
aVYou should not mess with the CLASSPATH environment variable
p38959
aVAlways use the -cp option to set the classpath of your program
p38960
as(dp38961
g23
V571407
p38962
stp38963
a((dp38964
g2
(lp38965
VThe error message of the exception, that you have put in the comments, tells you what's wrong:
p38966
aVresult error, ResultSet
p38967
aVnext was not called
p38968
aVYou forgot to call ResultSet
p38969
aVnext() before accessing the first row of the result set:
p38970
as(dp38971
g23
V571407
p38972
stp38973
a((dp38974
g2
(lp38975
VI disagree with using SUPPORTS for read operations
p38976
aVUse REQUIRED
p38977
aVA transaction is needed anyway to perform every database operation
p38978
aVDoing several small transactions to read several things at once won't benefit from the first-level cache
p38979
aVThere won't be any isolation between all the subsequent reads, meaning that something not visible to the first read might become visible for the second one
p38980
aVyou'll get lazy loading exceptions when traversing associations
p38981
as(dp38982
g23
V571407
p38983
stp38984
a((dp38985
g2
(lp38986
VNo, it's not possible
p38987
aVThe only thing you can do if you just have one case where the association must not be fetched is to use a DTO instead of your entity, and use projections to retrieve only what you want:
p38988
as(dp38989
g23
V571407
p38990
stp38991
a((dp38992
g2
(lp38993
VUsing a presentation-independant data structure is obviously a better choice
p38994
aVIt allows
p38995
aVdecoupling the testing from the reporting
p38996
aVgenerating several kinds of reports (HTML, PDF, text, etc
p38997
aVinternationalizing the reports
p38998
aVintegrating the testing into another application which won't do any reporting, but present the result in some GUI component (a tree or a table for example)
p38999
as(dp39000
g23
V571407
p39001
stp39002
a((dp39003
g2
(lp39004
VYou don't need to escape single quotes in your parameters
p39005
aVThat's the whole point of using parameters (in Hibernate and, behind the scenes, in the JDBC prepared statements): the JDBC driver escapes everything that needs to be escaped for you
p39006
aVYou take what comes from the UI layer as is and stuff it into parameters, everything isproperly escaped by the driver, and you don't risk any SQL injection attack
p39007
as(dp39008
g23
V571407
p39009
stp39010
a((dp39011
g2
(lp39012
VYou can't override it, because Action doesn't define any  method
p39013
aVBut you can perform validation in an action, yes:
p39014
as(dp39015
g23
V571407
p39016
stp39017
a((dp39018
g2
(lp39019
VYou could pass a unique instance of  to every validation task, and have the task increment this  each time a failure happens
p39020
aVAn AtomicInteger is thread-safe, so you won't have any concurrency issue by doing this
p39021
aVRegarding the output of every record, you just need to add the output to a thread-safe collection (like a  or a ConcurrentLinkedQueue, for example)
p39022
as(dp39023
g23
V571407
p39024
stp39025
a((dp39026
g2
(lp39027
VA thread is started using the  method
p39028
aVNot the  method
p39029
as(dp39030
g23
V571407
p39031
stp39032
a((dp39033
g2
(lp39034
VThe second-level cache doesn't contain entities
p39035
aVIt contains rows of data as loaded from the database table by Hibernate
p39036
aVEach time an entity is loaded from the cache, a new instance of the entity is constructed from the data in the cache, as if it came from the database
p39037
aVTransient fields of your entities are not stored in the cache
p39038
as(dp39039
g23
V571407
p39040
stp39041
a((dp39042
g2
(lp39043
V is a lookup from the Hashtable that is the Properties object
p39044
aVWhen you do , you load the entries from a file and store them into the Properties object, which extends Hashtable
p39045
aVEvery subsequent access to a property does a lookup in the Hashtable
p39046
aVThere is no file IO anymore
p39047
aVOf course accessing a member variable is slightly faster than accessing a value from a key in a HashMap, but I doubt that this is where you'll gain anything significant in performance
p39048
aVa HashMap lookup is O(1), and is damn fast
p39049
aVYou would probably need millions of lookups before noticing a difference
p39050
aVDo what is the most readable for you
p39051
as(dp39052
g23
V571407
p39053
stp39054
a((dp39055
g2
(lp39056
VIf I understand correctly, you want to remove all the items of a given type from te list of items, and then add other items to this list
p39057
aVBasic collection manipulation
p39058
aVYou should probably encapsulate this logic into a method of the User entity
p39059
as(dp39060
g23
V571407
p39061
stp39062
a((dp39063
g2
(lp39064
VThis is called locking, and it's usually preferrable to use optimistic locking
p39065
aVJPA comes with a standard mechanism to do that
p39066
aVJust add a version field to your entity, and annotate it with @Version:
p39067
aVEt voil
p39068
aVEach time a User is saved, its current version will be compared to the one in database, and incremented:
p39069
aV(this all happens transparently)
p39070
aVIf the versions don't match, then nothing is updated, the JPA engine detects it, throws an OptimisticLockException, and marks the transaction for rollback
p39071
aVSide note: in your scenario above, the call to  is unnecessary: all changes made to an attached entity are automatically saved in the database
p39072
aVNo need to save the entity
p39073
as(dp39074
g23
V571407
p39075
stp39076
a((dp39077
g2
(lp39078
VIs all you need
p39079
aVRead the hibernate documentation for more details
p39080
as(dp39081
g23
V571407
p39082
stp39083
a((dp39084
g2
(lp39085
VThe only thing you can do in such a case is to do an inner join via the where clause:
p39086
aVProper joins are only possible using associations between entities in HQL
p39087
as(dp39088
g23
V571407
p39089
stp39090
a((dp39091
g2
(lp39092
VThe fact that Struts is used to generate the form is irrelevant
p39093
aVJavaScript executes in the browser, and HTML is HTML
p39094
aVThe line of code above is not HTML
p39095
aVIt's a Struts JSP tag that is evaluated at server-side and generates HTML code that is sent to the browser
p39096
aVjQuery only cares about the HTML
p39097
aVAnd the above code will generate the following HTML:
p39098
as(dp39099
g23
V571407
p39100
stp39101
a((dp39102
g2
(lp39103
VInstead of passing an ID to your task at creation time, have your task get their ID from a pool of available IDs
p39104
aVSince you have 10 threads, you only need 10 IDs
p39105
aVEach task takes an ID from the pool at startup, and releases it to the pool when done
p39106
aVOf course, the pool needs to be thread safe:
p39107
as(dp39108
g23
V571407
p39109
stp39110
a((dp39111
g2
(lp39112
VAFAIK, you need to use PrimaryKeyJoinColumn (I changed the class and attribute names to conform to standard Java naming conventions, but you should choose meaningful names):
p39113
as(dp39114
g23
V571407
p39115
stp39116
a((dp39117
g2
(lp39118
VWhat is meant is that if 20 objects use the same literal String:
p39119
aVall these objects will in fact reference the same String instance in memory
p39120
aVAnd it doesn't matter, because it's impossible to change the content of the String, since it's immutable
p39121
aVThe same instance can thus be shared without problems between objects
p39122
as(dp39123
g23
V571407
p39124
stp39125
a((dp39126
g2
(lp39127
Vshould do the trick
p39128
aVIf you don't want to replace in the manifest file, make a copy first, and replace in the copy
p39129
aVSee http://ant
p39130
aVapache
p39131
aVorg/manual/Tasks/replaceregexp
p39132
aVhtml for details
p39133
as(dp39134
g23
V571407
p39135
stp39136
a((dp39137
g2
(lp39138
V and  are local variables of the method
p39139
aVIn this method, you create an anonymous inner class which uses these local variables  and
p39140
aVThis is only possible if  and  are final
p39141
aVBut by definition, a final variable can only be assigned once, and you assign null, and then another value to them
p39142
aVSo you need to make a copy of  and  to final variables, and use those final copies inside your anonymous class:
p39143
as(dp39144
g23
V571407
p39145
stp39146
a((dp39147
g2
(lp39148
VI haven't looked at the internals of the JVM, but I would guess that the JVM instantiates the main thread to run the main method, but runs this main thread by invoking native code directly, without going through the classical Java classes and methods to start the thread
p39149
as(dp39150
g23
V571407
p39151
stp39152
a((dp39153
g2
(lp39154
VI'm not sure this is a good idea:
p39155
aVhow do you know which words or sequences of words are susceptible to change before they actually change
p39156
aVwhat if client X wants to remove "Please" from the sentence
p39157
aVhow do you plan to deal with plural forms, varying grammar rules, genre differences between words, etc
p39158
aV(all this in several different languages)
p39159
aVIMHO, either your system is simplistic, but will fit the bill in 2% of the cases, or it will be very complex, a nightmare to use and configure, and you'll lose time and readability for a problem that happens very rarely anyway and can be fixed with ad hoc search/replace
p39160
aVIf the simplistic approach suits you, I would just need special markup to identify tokens (, for example), and do the replacements during the build of the application, using Ant's replace task for example
p39161
as(dp39162
g23
V571407
p39163
stp39164
a((dp39165
g2
(lp39166
VIf you set everything association to eager, it will obviously take a lot of time, because when loading a product, its category must be fetched
p39167
aVAnd the creator of the category
p39168
aVAnd the brother of the creator
p39169
aVAnd the daughter of the brother
p39170
aVAnd the company of the daughter
p39171
aVAnd the city of the company
p39172
aVAnd the country of the city, etc
p39173
aVetc
p39174
aVAnd I'm not even talking about to-many associations
p39175
aVJust don't set everything to eager loaded
p39176
aVAnd use appropriate HQL queries to only load what you're interested in
p39177
aVIf an association is set to eager, it will ALWAYS be eagerly loaded
p39178
aVIf you set it to lazy, it can be fetched eagerly when you want to, using an HQL or Criteria query
p39179
aVRead the HQL documentation about joins, and especially fetch joins
p39180
as(dp39181
g23
V571407
p39182
stp39183
a((dp39184
g2
(lp39185
VBecause your collegue might prefer NetBeans or IDEA
p39186
aVBecause the settings might vary from one eclipse install to another
p39187
aVBecause you might want to get your dependencies automatically
p39188
aVBecause you want to automate the complete build: build, jar, apply static code analysis, run the unit tests, generate the documentation, copy to some directory, tune some properties depending on the environment, etc
p39189
aVBecause once it's automated, you can use a continuous integration system which builds the application at each change or every hour to make sure everything still builds and the tests still pass
p39190
aVEclipse is a development environment
p39191
aVBut it's not a build tool
p39192
aVI personally hate Maven, but YMMV
p39193
aVThere are many alternatives: gradle, buildr, etc
p39194
as(dp39195
g23
V571407
p39196
stp39197
a((dp39198
g2
(lp39199
VThe Java Language Specification decides them
p39200
aVThey're the same size on all VMs, on all OSes, on all processors
p39201
aVIf they're not, it's not Java anymore
p39202
as(dp39203
g23
V571407
p39204
stp39205
a((dp39206
g2
(lp39207
VYou're using relative paths
p39208
aVThat means that the images must be in the same path as the one used to execute the JSP
p39209
aVSo if the URL used to execute this JSP is
p39210
aVThe images must be available from these URL:
p39211
aVYou should probably use absolute paths instead, to make your template usable from any locations
p39212
aVBut beware to avoid hardcoding the context root of the application () in the URLs:
p39213
aVusing the JSTL, or
p39214
as(dp39215
g23
V571407
p39216
stp39217
a((dp39218
g2
(lp39219
VI'm not going to comment on the Android specific problems
p39220
aVOnly on the general compilation error you're getting
p39221
aVLet's take an example:
p39222
aVTo be able to call the getName() method, you need an instance of User:
p39223
aVWhat you're doing is calling the getName() method without any instance of User:
p39224
aVThis doesn't make sense
p39225
aVYou don't have any user
p39226
aVOnly the User class
p39227
aVAs noted in my comment; variables should start with a lower-case letter
p39228
aVClasses start with an upper-case letter
p39229
aVIf you respect this convention, everything is clearer:
p39230
as(dp39231
g23
V571407
p39232
stp39233
a((dp39234
g2
(lp39235
VYour problem probably comes from a limitation in HSQLDB, described in the documentation:
p39236
aVHSQLDB databases are initially created in a legacy mode that does not
p39237
aVenforce column size and precision
p39238
aVYou can set the property:
p39239
aVsql
p39240
aVenforce_strict_size=true to enable this feature
p39241
aVWhen this
p39242
aVproperty has been set, Any supplied column size and precision for
p39243
aVnumeric and character types (CHARACTER and VARCHAR) are enforced
p39244
aVUse
p39245
aVthe command, SET PROPERTY "sql
p39246
aVenforce_strict_size" TRUE once before
p39247
aVdefining the tables
p39248
aV(emphasis mine)
p39249
as(dp39250
g23
V571407
p39251
stp39252
a((dp39253
g2
(lp39254
VRefactor the code of the called class so that it takes a Writer as argument, and print to this Writer rather than System
p39255
aVout:
p39256
aVand call this second main method from your JSP (which should be a servlet):
p39257
as(dp39258
g23
V571407
p39259
stp39260
a((dp39261
g2
(lp39262
VThe problem comes from the fact that you're trying to do 3 different things, in the wrong order, in the same method:
p39263
aVwrite to a file
p39264
aVfind a word in a list
p39265
aVread words from a scanner
p39266
aVEach of these operations should be a separate one
p39267
aVRegarding what you asked for:
p39268
aVhow I can compare my String i
p39269
ag468
aVword to all my ArrayList elements,
p39270
aVchecking if they are equal, disregarding case
p39271
aVThis is one part of your complete program that should be in its own method (the second bullet in the above list)
p39272
aVYou don't need a Scanner and a FileWriter and a BufferedWriter for this
p39273
aVAll you need is the word and the list
p39274
aVAnd the method should return a boolean:
p39275
aVAnd the implementation is very easy:
p39276
aVNow this method can be used in your program
p39277
aVThe trick is to separate the logic in simple blocks which only have one responsibility
p39278
aVAnd make a method for each of this block
p39279
as(dp39280
g23
V571407
p39281
stp39282
a((dp39283
g2
(lp39284
Vimports are used only be the compiler
p39285
aVAt runtime the byte code uses the fully qualified name of every class used
p39286
aVThe byte code is exactly the same whether you use star imports or not
p39287
as(dp39288
g23
V571407
p39289
stp39290
a((dp39291
g2
(lp39292
VYour field is named  (lower-case i), and not  (upper-case I)
p39293
as(dp39294
g23
V571407
p39295
stp39296
a((dp39297
g2
(lp39298
VThe main problem with multi-threading is precisely to make sure that, although the state of objects is shared between several threads, this state always stays consistent
p39299
aVThis is why synchronized blocks exists, why locks exist, why volatile variables exist
p39300
aVJust ignoring this problem and hope no serious problem will occur is a recipe to disaster
p39301
aVEverything will run fine for 1 hour, and then you'll start getting exceptions everywhere, false results, etc
p39302
aVThe fact that you let two threads access the same non-thread-safe list concurrently shows that your code is buggy
p39303
aVIt's plain incorrect and should definitely be fixed
p39304
aVYou should synchronize the accesses to your shared list
p39305
aVRead tutorials and books about concurrency in Java, because synchronization is not an option when multiple threads are running
p39306
as(dp39307
g23
V571407
p39308
stp39309
a((dp39310
g2
(lp39311
VThe best way is to make the XxxtoMany associations lazy (the default)
p39312
aVThis way, the collections will only be loaded when needed, or when you tell Hibernate to fetch them eagerly using a query with a join fetch clause
p39313
aVMaking them EAGER forces Hibernate to always load them, even when you don't need them
p39314
aVOf course, if you need them and they are configured as LAZY, they can only be loaded if the session is still open
p39315
aVOnce the session is closed, the entity becomes detached, and the collections can't be lazy-loaded anymore
p39316
aVYou thus need to initialize them explicitly (by calling a method of the collection, or by invoking ) before closing the session
p39317
aVIf you really want to keep them eagerly loaded, then only one of them should be a bag (i
p39318
ag468
aVof type  or )
p39319
aVThe others should be declared as
p39320
aVSide note: the mapping of the second association is wrong: you're using the same join column twice
p39321
as(dp39322
g23
V571407
p39323
stp39324
a((dp39325
g2
(lp39326
VUse JavaScript to find the selected employees, and compose a URL with the IDs of all the selected rows (3, 54 and 867 for example):
p39327
aVInvoke  with this URL as argument
p39328
aVIn the servlet mapped to , use  to get the IDs of the employees to edit
p39329
aVGet the information of these employees from the database and generate the HTML page containing the form to edit these employees
p39330
as(dp39331
g23
V571407
p39332
stp39333
a((dp39334
g2
(lp39335
VYou're reading from the InputStream to a byte array (with an arbitrary size which could be too small)
p39336
aVThen you construct an ObjectInputStream to read from this byte array
p39337
aVWhy don't you read your object directly from the InputStream
p39338
aVNo need for a buffer
p39339
aVMoreover, InputStream
p39340
aVread() doesn't read everything from the InputStream
p39341
aVIt reads what is available, and returns the number of bytes read
p39342
aVIf you don't loop until it returns -1, you only read a part of what has been sent on the other side
p39343
aVBTW, you're doing the same mistake on the sending side
p39344
aVInstead of writing your object directly to the output stream, you write it to a byte array, adn then send this byte array
p39345
aVWrite your object directly to the stream:
p39346
aVNo need for a buffer
p39347
as(dp39348
g23
V571407
p39349
stp39350
a((dp39351
g2
(lp39352
VI already explained you in your previous question that your code submitted millions and millions of tasks to the executor, since it submits tasks in a loop during 60 minutes, withot waiting
p39353
aVIt's very unclear what your end goal is, but as is, you're filling a queue of tasks until you don't have any memory available anymore
p39354
aVSince you don't explain the goal of your program, it's hard to give you any solution
p39355
aVBut the first thing you could do is to limit the size of the task queue of your executor
p39356
aVThis would force the main thread to block each time the queue is full
p39357
as(dp39358
g23
V571407
p39359
stp39360
a((dp39361
g2
(lp39362
VTry
p39363
aV(You might also need to detach the children, especially if you modified them before removing them)
p39364
as(dp39365
g23
V571407
p39366
stp39367
a((dp39368
g2
(lp39369
VAn action listener serves to listen to action events
p39370
aVA button triggers an action event when it's pressed and released using the mouse (and not when it's clicked), or when it's pressed using the keyboard (space bar, mnemonic, keyboard shortcut, etc
p39371
aVIt's a high-level event
p39372
aVA mouse click is a more low-level event, which is handled by a
p39373
aVAdd a MouseListener to your JPanel if you want to handle mouse clicks
p39374
as(dp39375
g23
V571407
p39376
stp39377
a((dp39378
g2
(lp39379
VEmbedded objects are just a way to group several fields inside an entity
p39380
aVWhen you save an entity, everything is saved in the entity, including all the embedded objects (and their sub-embedded objects)
p39381
as(dp39382
g23
V571407
p39383
stp39384
a((dp39385
g2
(lp39386
VIf all your numbers have the same number of characters, lexicographic order is the same as numeric order, so you might just compare your Strings directly
p39387
aVElse, you should split the strings and transform them into proper objects which implement the Comparable interface:
p39388
as(dp39389
g23
V571407
p39390
stp39391
a((dp39392
g2
(lp39393
V returns the StringBuilder itself
p39394
aVYou're calling a method on the object returned by the method
p39395
aVIt's the same as doing
p39396
aVExcept in your code, each  method call returns the same object, which allows chaining multiple method calls to the same StringBuilder
p39397
as(dp39398
g23
V571407
p39399
stp39400
a((dp39401
g2
(lp39402
VWell, it's pretty simple actually:
p39403
aVA non-authenticated user tries to access a protected resource in your app
p39404
aVA security filter intercepts the request
p39405
aVThe filter stores the URL of the accessed protected resource in a session attribute
p39406
aVThe filter forwards to the login screen
p39407
aVOnce the login is successful, the URL is retrieved from the session, and the user is redirected to this URL
p39408
aVI would only do this is the protected resource is accessed using a GET request
p39409
aVAnother variant is to store the URL of the protected resource in a hidden field of the login form
p39410
as(dp39411
g23
V571407
p39412
stp39413
a((dp39414
g2
(lp39415
VThe source code has the following comment:
p39416
aVIn short, since  is a static final variable, if it was set to , the compiler would consider it as a constant, and would replace all the references to  in other classes with  (that's what inlining means)
p39417
aVWhich would obviously make everything non-functional
p39418
aVSome native code must be used to replace the value of this  final value (which normally should never change) once the system is initialized
p39419
aVTo resume: it's used to avoid a compiler optimization that should not be made in this very particular case, because System
p39420
aVin is a final field that can change, which is normally impossible
p39421
as(dp39422
g23
V571407
p39423
stp39424
a((dp39425
g2
(lp39426
VWhat you did was simply a static import, which allows you to use  without typing
p39427
aVIf you want to write to the browser, you need access to the HttpServletResponse's writer:
p39428
as(dp39429
g23
V571407
p39430
stp39431
a((dp39432
g2
(lp39433
VOnce the JSP has been executed, the HTML code that it has generated has been sent to the browser, and there is no connection between the browser and the JSP anymore
p39434
aVIf you want to refresh some part of the page, you need to poll the server using AJAX, or use WebSockets to maintain a connection between the page and the server
p39435
as(dp39436
g23
V571407
p39437
stp39438
a((dp39439
g2
(lp39440
VUse Hibernate filters, or an additional where clause
p39441
aVA filter can be activated and parameterized at runtime, whereas a where clause can't
p39442
aVBut they're both used to apply an additional where clause to a persistent collection
p39443
as(dp39444
g23
V571407
p39445
stp39446
a((dp39447
g2
(lp39448
VYour code could be reduced to
p39449
aVor
p39450
as(dp39451
g23
V571407
p39452
stp39453
a((dp39454
g2
(lp39455
VIf only one thread is used to generate the numbers:
p39456
aVIf multiple threads:
p39457
aVNote: given @Gumbo's computation, it would need 313 years to reach the max value, so you can even drop the modulo
p39458
as(dp39459
g23
V571407
p39460
stp39461
a((dp39462
g2
(lp39463
VOK
p39464
aVSo, the contract of the method is the following: Parse the input string as JSON, and send back BAD_REQUEST if it's invalid
p39465
aVIf it's valid, create an entity in the datastore with various properties (you know them), and send back OK
p39466
aVAnd you need to verify that this contract is fulfilled by the method
p39467
aVWhere does mockito help here
p39468
aVWell, if you test this method without Mockito, you need a real DataStoreService, and you need to verify that the entity has been created correctly in this real DataStoreService
p39469
aVThis is where your test is not a unit test anymore, and this is also where it's too complex to test, too long, and too hard to run because it needs a complex environment
p39470
aVMockito can help by mocking the dependency on the DataStoreService: you can create a mock DataStoreService, and verify that this mock is indeed called with the appropriate entity argument when you call your  method in your test
p39471
aVTo do that, you need to be able to inject the DataStoreService into your object under test
p39472
aVIt can be as easy as refactoring your object in the following way:
p39473
aVAnd now in your test method, you can do:
p39474
as(dp39475
g23
V571407
p39476
stp39477
a((dp39478
g2
(lp39479
VYou have
p39480
aVand
p39481
aVno wonder you get this exception
p39482
aVIf you configure Struts to store the form bean in the request, don't try to fetch it from the session in your JSP
p39483
as(dp39484
g23
V571407
p39485
stp39486
a((dp39487
g2
(lp39488
VThe right way is to avoid this method, and use the standard Arrays
p39489
aVbinarySearch() method, which has the enormous advantage of being documented, and the other enormous advantage of returning a result rather than printing it on System
p39490
aVout (which makes it useless)
p39491
as(dp39492
g23
V571407
p39493
stp39494
a((dp39495
g2
(lp39496
VYour entity class is named , not
p39497
aVHQL uses entities and fields/properties
p39498
aVIt doesn't use table and column names
p39499
aVRead the HQL documentation
p39500
aVMoreover,  returns a List, and not necessarily an ArrayList
p39501
aVYou shouldn't cast the result of the query to ArrayList
p39502
as(dp39503
g23
V571407
p39504
stp39505
a((dp39506
g2
(lp39507
VSo your question is rather "how can I change the background color of a cell at a given row and index
p39508
aVThe background color of a cell depends on the renderer associated to the cell
p39509
aVBut you can't associate a renderer to a cell
p39510
aVWhat you can do is
p39511
aVcreate a JTable subclass and override  to return your own renderer
p39512
aVcall setDefaultRenderer(Class columnClass, TableCellRenderer renderer) to associate a renderer to a given class of data
p39513
aVSo, if you want to change the background color of a given cell, you must configure your table to use a custom renderer, and you must configure this custom renderer to use your background color instead of the default one for this given cell (or change the value of the data in this particular cell so that your custom renderer knows it must use the background color)
p39514
as(dp39515
g23
V571407
p39516
stp39517
a((dp39518
g2
(lp39519
VSee http://struts
p39520
aVapache
p39521
aVorg/1
p39522
ag14
aV10/apidocs/org/apache/struts/action/ActionRedirect
p39523
aVhtml
p39524
as(dp39525
g23
V571407
p39526
stp39527
a((dp39528
g2
(lp39529
VIt's probably due to the fact that the list of selected products doesn't contain the same instances as the complete list of displayed products
p39530
aVThe tag compares products with , and you have not overridden  (and ) in your Product class
p39531
aVSo even if the selected products contain the Product with the name "foo", and the complete list of Product also contains a Product with the name "foo", those products are not equal, and Spring thus doesn't know they're the same product, and that this product should thus be selected
p39532
as(dp39533
g23
V571407
p39534
stp39535
a((dp39536
g2
(lp39537
VYour table can be represented as a list of TimeSlot
p39538
aVEach TimeSlot object in the list has a timeRange (start and end time), and a 5 events (monday, thursday
p39539
aVThe TimeSlots have a natural ordering which is the ordering of the start of their time range
p39540
aVIterate through all the rows in the table
p39541
aVFor each row, find an existing TimeSlot with the same time range, or create it if it doesn't exist yet, and store it in the list of time slots
p39542
aVThen set the appropriate day field of the TimeSlot depending on the day of your row
p39543
aVSort the list
p39544
aVOnce you have this sorted list of TimeSlot objects, displaying the table is just a matter of iterating through the list of TimeSlot, and to generate one table row per TimeSlot
p39545
as(dp39546
g23
V571407
p39547
stp39548
a((dp39549
g2
(lp39550
VYou add your JLabel to jPanel1, which uses a GroupLayout to display its components
p39551
aVThe GroupLayout needs to know where each component must be placed in its vertical and horizontal group, and it doesn't know where to put your new label, since you didn't tell
p39552
aVI very much doubt that your end goal is to add a new label to your GUI each time the selection changes
p39553
aVYou should probably add a unique label with a default text when the GUI is initialized, and change the text of this label when the selection changes
p39554
as(dp39555
g23
V571407
p39556
stp39557
a((dp39558
g2
(lp39559
VWhen you read a text file, you have to read it using the actual encoding used to create the file
p39560
aVIf you specify the appropriate encoding, you'll get the correct characters in memory
p39561
aVSo, if the same file (semantically) exists in two versions (UTF-8 encoded and ISO-8859-1), reading the first one with UTF-8 and the second one with ISO-8859-1 will lead to exactly the same chars in memory
p39562
aVThe above is true only if it made sense to encode the file in ISO-8859-1 in the first place
p39563
aVUTF-8 is able to store every unicode character
p39564
aVBut ISO-8859-1 is able to encode only a small subset of the unicode characters (western languages characters)
p39565
aVThe characters you posted literally look like Chinese to me, and I don't think encoding them in ISO-8859-1 is even possible without losing everything
p39566
as(dp39567
g23
V571407
p39568
stp39569
a((dp39570
g2
(lp39571
s(dp39572
g23
V571407
p39573
stp39574
a((dp39575
g2
(lp39576
VYou drop the war file in the  folder of Tomcat
p39577
aVSee http://tomcat
p39578
aVapache
p39579
aVorg/tomcat-7
p39580
aV0-doc/appdev/deployment
p39581
aVhtml for documentation about deployment in tomcat
p39582
aVIf the war file is named , the web app will be available under the  context path
p39583
as(dp39584
g23
V571407
p39585
stp39586
a((dp39587
g2
(lp39588
VA JTable isn't supposed to contain components
p39589
aVIt's supposed to contain data (Strings, Integers, Booleans, Dates, etc
p39590
aVThe renderer's goal is to use a component (the same instance for multiple cells) to transform this data into a visual thing (a label, a radio button, an icon,
p39591
aVThe editor's goal is to be able to display the data in an editable component, to accept a new value, and to change the value of the data with the data entered by the end user
p39592
aVDon't store components in a JTable
p39593
aVConfigure renderers and/or editors to render/edit the data if the default doesn't suit your needs
p39594
aVThis is all explained in the JTable tutorial
p39595
as(dp39596
g23
V571407
p39597
stp39598
a((dp39599
g2
(lp39600
VRead my answer to this question
p39601
aVYou shouldn't store components in a table
p39602
aVStore booleans
p39603
aVYou should then configure a renderer to display the boolean as a radio button, and an editor to change the value of the checked cell as well as the value of the previously checked one
p39604
aVAnd understand that the same instance of renderer is used to render/edit all the cells of the same class
p39605
as(dp39606
g23
V571407
p39607
stp39608
a((dp39609
g2
(lp39610
VYes, the read has to be synchronized as well
p39611
aVThis page says:
p39612
aVThe results of a write by one thread are guaranteed to be visible to a
p39613
aVread by another thread only if the write operation happens-before the
p39614
aVread operation
p39615
ag7651
aVAn unlock (synchronized block or method exit) of a monitor
p39616
aVhappens-before every subsequent lock (synchronized block or method
p39617
aVentry) of that same monitor
p39618
aVThe same page says:
p39619
aVActions prior to "releasing" synchronizer methods such as Lock
p39620
aVunlock,
p39621
aVSemaphore
p39622
aVrelease, and CountDownLatch
p39623
aVcountDown happen-before actions
p39624
aVsubsequent to a successful "acquiring" method such as Lock
p39625
aVlock
p39626
aVSo locks offer the same visibility guarantees as synchronized blocks
p39627
aVWhether you use synchronized blocks or locks, the visibility is only guaranteed if the reader thread uses the same monitor or lock as the writer thread
p39628
aVYour Example 1 is incorrect: the getter must be synchronized as well if you want to see the latest value of the count
p39629
aVYour example 2 is incorrect because it uses different locks to guard the same count
p39630
aVYour example 3 is OK
p39631
aVIf the getter did not lock, you could see an older value of the count
p39632
aVThe happens-before is something that is guaranteed by the JVM
p39633
aVThe JVM has to respect the rules specified, by flushing caches to the main memory for example
p39634
as(dp39635
g23
V571407
p39636
stp39637
a((dp39638
g2
(lp39639
VThis just means that deleting the product is impossible, because it would break a foreign key constraint in database
p39640
aVYou have orders for your product, but you're trying to delete the product
p39641
aVHow will you honor the orders
p39642
aVYou have to decide:
p39643
aVeither you delete the orders referencing the product before deleting the product
p39644
aVor you keep the orders in the database, but these orders must not reference the product anymore
p39645
aVNot doing any of the above would leave the database in an inconsistent state: orders for products which don't exist
p39646
aVThe foreign key constraint in the database ensures that such an inconsistent state is impossible
p39647
as(dp39648
g23
V571407
p39649
stp39650
a((dp39651
g2
(lp39652
VYou're using the same attribute name thrice:
p39653
aVmeans that the Struts will store a bean of type  in the session attribute  when invoking the action
p39654
aVIn this action, you're doing
p39655
aVSo here, you're storing a  in the request attribute
p39656
aVThis request attribute is completely unnecessary, since the same list is available already in the bean ListeActeur which is already stored in the session
p39657
aVBut wait, before doing that, the code which fetched some data from Hibernate decided to do
p39658
aVand to override what Struts stored in the session with the same
p39659
aVSo, to resume, at the end of this action method call, you have
p39660
aVan attribute  of type  in the request
p39661
aVan attribute  of type  in the session, which is the same list as the one stored in the request
p39662
aVAnd now the JSP is executed:
p39663
aVThis line tells Struts to get the form bean of type associated to the Liste action from the session, or to create it and store it
p39664
aVIt should normally be there already, but you replaced it with a java
p39665
aVutil
p39666
aVList, so Struts removes your List from the session and replaces it by a brand new
p39667
aVAnd now you try iterating through the collection stored in the property  of the bean
p39668
aVI don't know exactly how Struts does here, but either it finds your  in the request, which doesn't have a  property, or it finds the  bean in the session, but since it's brand new, its  property is an empty or null list
p39669
aVSteps to fix this mess:
p39670
aVRespect namng conventions: variables and attributes start with a lower-case letter
p39671
aVForm bean classes should be named SomethingForm, and action classes should be named SomethingAction
p39672
aVForm bean names in struts-config should be named somethingForm
p39673
aVform beans should almost never be stored in the session scope in the struts-config
p39674
aVxml
p39675
aVStore them in request scope
p39676
aVYou should NEVER store a form bean in any scope yourself
p39677
aVStruts does it for you
p39678
aVThe code whose responsibility is to get data from the database doesn't have to deal with request and session attributes
p39679
aVIt takes arguments in parameters, and returns objects
p39680
aVLet your action deal with the request and session
p39681
aVSince you choose to store the result of the query in your form bean, no need to store it elsewhere
p39682
aVStruts stores your form bean in the request
p39683
aVYou store the query result in the form bean
p39684
aVNo need for anything else
p39685
aVChoose meaningful names for your properties
p39686
aVdoesn't mean anything
p39687
aVIf you have a list of Acteur, call it
p39688
aVHere's how your action method should look like (and look how it's properly indented):
p39689
aVAnd here's how your JSP should look like (using the JSTL, since logic tags are deprecated for years):
p39690
as(dp39691
g23
V571407
p39692
stp39693
a((dp39694
g2
(lp39695
VYou need to tell Hibernate that this column is a boolean, with the SQLQuery
p39696
aVaddScalar() method
p39697
as(dp39698
g23
V571407
p39699
stp39700
a((dp39701
g2
(lp39702
VYou need to do left joins instead of inner joins
p39703
aVBut this is only possible if your entities are associated together instead of containing each other's IDs
p39704
aVAs is, it's plain impossible with HQL
p39705
aVGiven your query, you probably should have a ManyToOne between Product and Manufacturer, and a ManyToOne between Product and Part
p39706
aVAlso, your query would be much more readable if you didn't concatenate class names and if you used proper alias names:
p39707
aVOnce the associations exist, the query should just be
p39708
as(dp39709
g23
V571407
p39710
stp39711
a((dp39712
g2
(lp39713
VNo need for a regex for that
p39714
aVIf you have a problem, use a regex
p39715
aVNow you have two problems
p39716
as(dp39717
g23
V571407
p39718
stp39719
a((dp39720
g2
(lp39721
VThe query should be
p39722
ag3881
ag468
aVyou should assign an alias to each joined entity, and use this alias for subsequent joins or restrictions
p39723
as(dp39724
g23
V571407
p39725
stp39726
a((dp39727
g2
(lp39728
VI'm pretty sure it can't
p39729
aVI also wonder why you would need such a thing, but you can simply have two fields and always make sure the the second one has the same value as the first one:
p39730
as(dp39731
g23
V571407
p39732
stp39733
a((dp39734
g2
(lp39735
VThere is no need to save anything since you're using attached entities
p39736
aVJPA automatically persists the changes you do to attached entities
p39737
aVAnd when you have a bidirectional association, it's your responsibility to make the changes at both sides to ensure that your object model is consistent
p39738
aVIf you set  to null, then you should also remove the user from
p39739
aVI don't understand what the above code is doing, but remove the calls to save, and maintain both sides of the association, and everything will be fine
p39740
as(dp39741
g23
V571407
p39742
stp39743
a((dp39744
g2
(lp39745
VThe error message says it all:
p39746
aVLine 49 in XML document from class path resource [persistence
p39747
aVxml] is
p39748
aVinvalid; nested exception is org
p39749
aVxml
p39750
aVsax
p39751
aVSAXParseException: The value
p39752
aVof attribute "class" associated with an element type "null" must not
p39753
aVcontain the '<' character
p39754
aVHere's the line 48:
p39755
as(dp39756
g23
V571407
p39757
stp39758
a((dp39759
g2
(lp39760
VDon't store images under your webapp deployment directory: next time you'll redeploy the app, you will lose all your images
p39761
aVAnd moreover, there is not always a directory for a webapp, since it's typically deployed as a war file
p39762
aVStore your images in an external location, at an absolute path, and configure Tomcat or another web server to serve images from this location, or implement a servlet which serves images from this location
p39763
aVSee Image Upload and Display in JSP for additional pointers
p39764
aVEDIT:
p39765
aVIf your problem is the hard-coded absolute path in the Java code, use a System property that you set when starting Tomcat, or a context param in the web
p39766
aVxml, or use a properties file to store the path, or your database
p39767
as(dp39768
g23
V571407
p39769
stp39770
a((dp39771
g2
(lp39772
VYes, you could group the three methods together, and use an additional argument (an enum, for example) to specify which kind of output format you want
p39773
aVBut I would not do that
p39774
aVYour solution is cleaner
p39775
aVWhy do you think it doesn't look good
p39776
aVWhat I would do, however, is transforming the String to a Date once and for all, and using a Date everywhere rather than the String, and transforming the Date with one of your 3 methods (which would take a Date as argument rather than a String) when needed
p39777
as(dp39778
g23
V571407
p39779
stp39780
a((dp39781
g2
(lp39782
VYour web site serves files from your working copy of the project
p39783
aVSo obviously, if another developer makes changes in his own working copy, or even commits to SVN, the web site will only see the changes once you update your working copy
p39784
aVYou should create a working copy for the web site itself, which would have the latest committed files from subversion, and not intermediate changes which have not been committed yet
p39785
aVAnd each developer should have its own server serving file from his own working copy to test changes before committing them
p39786
as(dp39787
g23
V571407
p39788
stp39789
a((dp39790
g2
(lp39791
VThe code which enables and disables the buttons is the following:
p39792
aVYou have two different methods, and you call sometimes one, and sometimes the other
p39793
aVMake it one single method, which would look like this:
p39794
aVAlso, note that  is the length of your list, and indices go from  to  inclusive
p39795
aVSo the next button needs to be disabled when the page is
p39796
as(dp39797
g23
V571407
p39798
stp39799
a((dp39800
g2
(lp39801
VYou can't
p39802
aVIt's not supported by JPQL
p39803
as(dp39804
g23
V571407
p39805
stp39806
a((dp39807
g2
(lp39808
VDon't do that
p39809
aVThere is only one servlet instance for all the users of this webapp
p39810
aVThis means that all the users will store data, concurrently, in the same list
p39811
aVThe HTTP session is the place where to store data associated to one particular user, and whose lifetime must span several requests
p39812
aVFirst request:
p39813
aVSecond request:
p39814
aVAlso note that destroy doesn't matter: destroy is called when the application ends (because the server is stopped, for example)
p39815
as(dp39816
g23
V571407
p39817
stp39818
a((dp39819
g2
(lp39820
VYou're calling the method calculateAverage this way: , without any argument
p39821
aVBut the method is declared this way:
p39822
aVIt thus needs one argument of type , but you don't pass anything
p39823
as(dp39824
g23
V571407
p39825
stp39826
a((dp39827
g2
(lp39828
VYour code really makes no sense:
p39829
aVIn the above line, you declare that your list is a list of Cars (which it is not)
p39830
aVThen you iterate on the list, and cast each element to
p39831
aVHow could a Cars instance ever be an
p39832
aVThe list should be declared as , and you shouldn't use raw types
p39833
aVYour loop should be written as
p39834
aVOr, even simpler:
p39835
aVNow, in the JSP, I suspect you're just using  to display the list
p39836
aVThis simply calls the toString() method on the list, which itself calls the toString() method of each element
p39837
aVSince each element is an , the result string is , which means "array of Object with hashCode 1f3b536"
p39838
aVTo display the elements of the list, you should iterate over the list, as you must do it in the Java code:
p39839
as(dp39840
g23
V571407
p39841
stp39842
a((dp39843
g2
(lp39844
VThe second example is O(N * M)
p39845
aVThe third is still O(N^2), because a constant factor (2) doesn't change the BigO
p39846
aVWhat counts is that if you double N, the time is multiplied by 4
p39847
aVIf you triple N, the time is multiplied by 9
p39848
as(dp39849
g23
V571407
p39850
stp39851
a((dp39852
g2
(lp39853
VNote that the above makes sure you  don't write more that length bytes
p39854
aVBut it doesn't make sure you write exactly length bytes
p39855
aVI don't see how you could do this without reading length bytes in memory, or reading length bytes and writing to a temp file, then writing the temp file to the final destination
p39856
as(dp39857
g23
V571407
p39858
stp39859
a((dp39860
g2
(lp39861
VYou could use a servlet filter to store the start time in a request attribute for each request (or at least for each request to a page), and compute the elapsed time at the end of your view execution
p39862
aVIf you use a template engine like Tiles or SiteMesh, this elapsed time computation would be called in a single place: the page template
p39863
as(dp39864
g23
V571407
p39865
stp39866
a((dp39867
g2
(lp39868
VThe logs you show are the logs of your web application
p39869
aVYour test is a standalone application, where the main method simply instantiate your test class using
p39870
aVThere is no way for Spring to autowire a bean that it doesn't instantiate itself
p39871
aVWhen you construct a bean using new, you're bypassing Spring completely
p39872
aVYour main method needs to instantiate an application context, and to ask this context for the bean of type
p39873
aVThe anwser of @SJUan76 is correct as well
p39874
aVSpring instantiates the bean , then autowire it
p39875
aVSo in the constructor, nothing is autowired yet
p39876
aVIt's generally a bad practice to do something other than initialization in a constructor
p39877
as(dp39878
g23
V571407
p39879
stp39880
a((dp39881
g2
(lp39882
VAs you said:
p39883
aVThat said, I don't know of any class that implements
p39884
aVThe method should probably take  as arguments rather than
p39885
as(dp39886
g23
V571407
p39887
stp39888
a((dp39889
g2
(lp39890
VDo yourself a favor, and
p39891
aVdon't use a JSP to do that
p39892
aVGenerate the JSON array in the servlet
p39893
aVuse a JSON library to transform your Java object into a JSON array
p39894
aVThere are plenty of those libraries available for free
p39895
aVSee http://json
p39896
aVorg
p39897
aVNow, to answer your Java programming question:
p39898
as(dp39899
g23
V571407
p39900
stp39901
a((dp39902
g2
(lp39903
VBrute force is brute force
p39904
aVYou can't do anything about it except refusing to try the authentication (or imposing a delay) after N successive failed trials
p39905
aVOf course, if the hacker has the hashed password, he will be able to brute force the password, but the point of a secure hashing function is to make that very very long
p39906
aVRainbow/dictionary attacks are solved by the salting
p39907
aVIf a user chooses "password" as his password, a rainbow/dictionary attack would find the password immediately
p39908
aVBut since you salt the password with a random value, the hashed value will be something like , which won't be in the rainbow table/dictionary
p39909
as(dp39910
g23
V571407
p39911
stp39912
a((dp39913
g2
(lp39914
VYou don't seem to use any result transformer (such as ) for your query
p39915
aVSo, since it uses a projection list, your query returns a
p39916
aVthere is no way Hibernate can know that it must return instances of your bean class
p39917
aVEither you transform the  into what you want explicitely, or you use a ResultTransformer
p39918
as(dp39919
g23
V571407
p39920
stp39921
a((dp39922
g2
(lp39923
VIt's executed when the class is initialized by the class loader
p39924
aVAnd the class is initialized lazily, the first time some code in the application needs this class (to call a static method, or to reference one of its static fields, or to create a new instance for example)
p39925
aVSo if the program never uses the class, the static block will never be executed
p39926
as(dp39927
g23
V571407
p39928
stp39929
a((dp39930
g2
(lp39931
VIf you want to reuse code through inheritance, the following should be OK:
p39932
as(dp39933
g23
V571407
p39934
stp39935
a((dp39936
g2
(lp39937
VWouldn't simple nested loops, where a test method is invoked at each innermost loop iteration, fit the bill (or at least mostly fit the bill)
p39938
aVSomething like:
p39939
as(dp39940
g23
V571407
p39941
stp39942
a((dp39943
g2
(lp39944
VI also prefer not reusing local variables, and performance aspects shouldn't matter here, because you would gain or lose such a tiny time that it's negligible
p39945
aVAnd the JIT could generate the same native code for both anyway
p39946
aVWhat matters is readability and maintainability
p39947
aVAnd what I see in your code is that there should be an additional method, so that your original code becomes:
p39948
aVThis makes the code clearer, more testable, avoids repetitions, and makes your initial question irrelevant, since your temp variable is only defined once, in the  method
p39949
as(dp39950
g23
V571407
p39951
stp39952
a((dp39953
g2
(lp39954
VFirst, as noted in the comments, you should always use parameters instead of concatenating parameter values:
p39955
aVThis would prevent SQL injection attacks, or simply incorrect queries in case of a user name like  for example
p39956
aVYour query returns two different columns
p39957
aVThere is no way for such a query to magically return instances of
p39958
aVIt returns a , where each  contains two values: the  and the
p39959
aVThe query would return instances of MasterScrip if it was
p39960
as(dp39961
g23
V571407
p39962
stp39963
a((dp39964
g2
(lp39965
VYou should have two servlets:
p39966
aVOne to generate the HTML page (by forwarding to a JSP)
p39967
aVThis generated page contains
p39968
aVWhen the browser sees this tag, it sends a second request, to the URL
p39969
aVOne to generate the image, mapped to the  URL
p39970
aVThis servlet should only send the bytes of the image to the response output stream
p39971
aVIt must not forward to a JSP
p39972
as(dp39973
g23
V571407
p39974
stp39975
a((dp39976
g2
(lp39977
VNo, it's imposible
p39978
aVYou would need to cast the ActionListener to its real subclass name, but since it's anonymous, it doesn't have a name
p39979
as(dp39980
g23
V571407
p39981
stp39982
a((dp39983
g2
(lp39984
VThe first test shouldn't need flush or clear, because the entity manager must detect that the query results could be affected by the pending changes not already saved
p39985
aVSo you shouldn't have to flush(), and even less to clear(), before executing the query
p39986
aVThe second test, however, is different
p39987
aVYou're executing an update query, and thoses queries completely bypass the first level cache
p39988
aVThey make changes in the database behind its back
p39989
aVThis is the reason why you need to clear: if you don't, the select query will find the customer that is already in the cache, and the cached (but obsolete) entity will be returned
p39990
as(dp39991
g23
V571407
p39992
stp39993
a((dp39994
g2
(lp39995
VWhat you want is not possible
p39996
aVYou have to create two parameters, and bind them separately:
p39997
as(dp39998
g23
V571407
p39999
stp40000
a((dp40001
g2
(lp40002
VThe above line means: There is an association between this entity (Event) and the Country entity, and this association is materialized by the column "COUNTRID" in the table EVENTS
p40003
aVThere is already a problem: you don't have any COUNTRYID column in the EVENTS table
p40004
aVThe above line means: there are three different associations between this entity (Event) and the Country entity, and all these associations are materialized by the same column COUNTRYID
p40005
aVThis is of course impossible
p40006
aVIf you have three associations, you need three different columns
p40007
aVA good rule, whether you have annotations or not, is to always have one declaration per line
p40008
aVDeclare your three associations in three separate lines, and annotate each of them with the right annotations
p40009
aVEach of them is a ManyToOne
p40010
aVAnd each of them has its own column to materialize the association
p40011
aVAnd of course this column must exist in the table
p40012
as(dp40013
g23
V571407
p40014
stp40015
a((dp40016
g2
(lp40017
VSince they're closely related to each other, I would put them in the same class, that would play the role of a mediator:
p40018
as(dp40019
g23
V571407
p40020
stp40021
a((dp40022
g2
(lp40023
VThe Hibernate session is a cache
p40024
aVIt caches entities read from the database, and it also caches changes you've made to entities it contains, as well as added and removed entities, until the session is flushed (i
p40025
ag468
aVall the pending changes are written to the database)
p40026
aVA session is said dirty when some changes have not been flushed yet
p40027
aVAnd it's thus perfectly normal to have a dirty session
p40028
aVThe session is flushed before the transaction is committed
p40029
as(dp40030
g23
V571407
p40031
stp40032
a((dp40033
g2
(lp40034
VWithout goind into details about how  and  should be modeled, I will at least explain why you get this exception
p40035
aVYou're doing:
p40036
aVThis means: create a query using , and this query will return instances of the  entity
p40037
aVBut your  is:
p40038
aVSo the query does not return entities of type Media
p40039
aVIt returns three fields, from two different entities
p40040
aVThere is no way your JPA engine could magically create instances of Media from these 3 columns
p40041
aVA query would return instances of Media if it looked like this:
p40042
as(dp40043
g23
V571407
p40044
stp40045
a((dp40046
g2
(lp40047
VYou're not understanding what a redirect is
p40048
aVA redirect is a response you send to the browser so that the browser sends another, new request to the location you redirected to
p40049
aVSo, when you call , the browser will send a new request to test
p40050
aVjsp
p40051
aVAnd obviously, all the attributes you have stored in the current request won't be available anymore
p40052
aVIt's impossible, without context, to say if a redirect is something you should do in this case, or if you should instead forward to the JSP
p40053
aVA forward is very different from a redirect, since it only transfers the responsibility of the current request and response to another component
p40054
aVIn that case, there would be a unique request, and the JSP could find the attribute set by the servlet in the request
p40055
aVThe only thing I can say is that, in a properly designed MVC application, the JSP is used as a view, and there should never be a direct request to the view
p40056
aVEach request should go through a controller
p40057
as(dp40058
g23
V571407
p40059
stp40060
a((dp40061
g2
(lp40062
VYour output is not the
p40063
aVIf you printed , it would print "saturday" or "friday"
p40064
aVIf you want the day in the month on two characters, as indicated in the javadoc of SimpleDateFormat, you must use  for the pattern:
p40065
aVYou should really learn to read documentation
p40066
as(dp40067
g23
V571407
p40068
stp40069
a((dp40070
g2
(lp40071
VYour design corresponds to an inheritance tree, where all the subclasses of the root AbstractComment entity would be stored in the same table, using a discriminator column ():
p40072
as(dp40073
g23
V571407
p40074
stp40075
a((dp40076
g2
(lp40077
VPut comments in your code to explain that they're related, how they're related, what they're used for, and that if one is changed, the other should be modified accordingly
p40078
aVImplement a unit test to make sure that a saved board can be loaded
p40079
aVMake sure that your build and release process runs the unit tests, and fails if one of them doesn't pass
p40080
as(dp40081
g23
V571407
p40082
stp40083
a((dp40084
g2
(lp40085
VThis is too small for running nearly anything involving a Java servlet container and a database
p40086
aVAnd it all depends on what your application does and how it's implemented anyway
p40087
aVLoad-test your application with the expected number of users, see if it works, measure the response times, and choose your settings accordingly
p40088
as(dp40089
g23
V571407
p40090
stp40091
a((dp40092
g2
(lp40093
VSee http://docs
p40094
aVoracle
p40095
aVcom/javaee/5/jstl/1
p40096
aV1/docs/tlddocs/fmt/formatDate
p40097
aVhtml
p40098
as(dp40099
g23
V571407
p40100
stp40101
a((dp40102
g2
(lp40103
VThe JSTL:
p40104
as(dp40105
g23
V571407
p40106
stp40107
a((dp40108
g2
(lp40109
VThis mapping doesn't make much sense, and is far from what you said you wanted in the first place: a many to many relationship with attributes
p40110
aVA many-to-many uses a join table between two entities
p40111
aVIf there are more than the two IDs in this join table, then it's not a join table anymore, but a functional entity, which should be mapped as any other entity, and have its own auto-generated ID
p40112
aVYou should thus have 3 entities, each with its own generated ID:
p40113
aVEquipment
p40114
aVReparation
p40115
aVMaintenanceCompany
p40116
aVOne Equipment has many Reparations
p40117
aVOne MaintenanceCompany has many Reparations
p40118
aVOne Reparation has one Equipment and one MaintenanceCompany
p40119
aVAs simple as that
p40120
as(dp40121
g23
V571407
p40122
stp40123
a((dp40124
g2
(lp40125
VThe javadoc of HibernateTemplate explains it
p40126
aVYou should use  to get a session, and use the native Hibernate Session API directly
p40127
as(dp40128
g23
V571407
p40129
stp40130
a((dp40131
g2
(lp40132
VHQL is a superset of EQL (or JPQL)
p40133
aVIt contains additional functions and constructs, but they're basically the same
p40134
aVThere are some features of JPQL that Hibernate doesn't implement yet, also
p40135
as(dp40136
g23
V571407
p40137
stp40138
a((dp40139
g2
(lp40140
VYou have a bidirectional association, but one side declares it as a , and the other side (the owning side) declares it as a
p40141
aVIf it's a OneToOne, it should be OneToOne on both sides
p40142
aVIf it's a OneTomany, it should be OneToMany on one side and ManyToOne on the other side
p40143
as(dp40144
g23
V571407
p40145
stp40146
a((dp40147
g2
(lp40148
VWell, you need to initialize every object that you plan to use once the session is closed
p40149
aVSuppose you have a User entity with a OneToOne lazy association with its address
p40150
aVAnd suppose you load the user while the session is open
p40151
aVSince the address is lazy loaded, the first time you'll call a method on the address ( for example), Hibernate will execute a query to load the address of the user, and thus be able to give you access to its street
p40152
aVBut if the session is closed, there is no connection to the database anymore, the User entity is detached, and Hibernate thus throws this exception
p40153
aVUse  to initialize the objects you need, or execute a query which has the necessary fetches to load everything needed at once
p40154
aVSide note: your exception handling is awful
p40155
aVWhen asked to return the profiles, instead of saying: "sorry but I couldn't do that due to the following exception", you basically ignore the exception and say "There is no profile in the database"
p40156
aVPlease imagine a cancer detection system works this way
p40157
aVWould you like your cancer to stay undetected because the system had an exception
p40158
as(dp40159
g23
V571407
p40160
stp40161
a((dp40162
g2
(lp40163
VWell the query is very easy :
p40164
aVBut you could also do the easier
p40165
as(dp40166
g23
V571407
p40167
stp40168
a((dp40169
g2
(lp40170
VAn unchecked exception can be caught exactly as a checked exception is
p40171
aVI would use the following to handle such a case:
p40172
aVCheck if the user ID already exists
p40173
aVIf so, throw a checked DuplicateUserIdException
p40174
aVI think a checked exception makes more sense here
p40175
aVBut you could also make the exception a runtime one, and catch it in the presentation layer as you would catch a checked exception
p40176
aVinsert the user
p40177
aVIf a SQLException occurs, it's not easy at all to be sure that it's precisely due to an already existing user ID
p40178
aVPlus the constraint could be checked at commit time if deferred
p40179
aVThis exception would only occur in case of a race condition between two threads, and should thus be very seldom
p40180
aVSo I would treat it like a technical runtime exception and display a generic error message
p40181
as(dp40182
g23
V571407
p40183
stp40184
a((dp40185
g2
(lp40186
VThere's no way to execute such a query in JPQL
p40187
aVYou'll have to use SQL
p40188
aVOr you could execute the following query:
p40189
aVand call  before executing the query
p40190
aVYou would get 5 accounts (maximum) as a result and you could change the status, the code and the timestamp of the 5 returned accounts
p40191
aVI find it strange to get the 5 first rows of a query which doesn't have any  clause, though
p40192
as(dp40193
g23
V571407
p40194
stp40195
a((dp40196
g2
(lp40197
VThe better way is to redirect to
p40198
aVFirst because you have the latest changes you did to the model, but not the ones another concurrent user might have done concurrently
p40199
aVSecond because it makes your app stateless, thus more scalable and simpler at the same time
p40200
aVThird because the view page might need more information about the user than the edit page does
p40201
aVIt's pretty frequent to have a large detail page showing many associations of the user, but have only some modifiable information in the edit page
p40202
aVSo saving the model of the edit page to make it available to the view page won't be sufficient
p40203
aVFourth because this way, the logic to show the detail of a user is at a single place, and there is only one possible URL to do that
p40204
aVFifth because this way, the user can bookmark the URL, or send it to someone by email, and it will work if he comes back later to this URL
p40205
aVWhereas in your current solution, the URL only works if you've edited the user just before
p40206
as(dp40207
g23
V571407
p40208
stp40209
a((dp40210
g2
(lp40211
VWhen a class implements the  interface, instances of this class are serializable
p40212
aVThat means that the JVM can transform the object into a sequence of bytes
p40213
aVThese bytes can be sent over the network, or saved on a disk, and can be read by another VM and transformed back into a Java object
p40214
aVIf a field has the  Java keyword, it means that this field will be ignored by this serialization mechanism
p40215
aVThe field won't be serialized
p40216
aVA field annotated with  is considered as a non-persistent field by JPA
p40217
aVIt won't save it in the database, and it won't load it from the database
p40218
aVBut it will be serialized if the object is sent to another JVM
p40219
aVThe Java  keyword automatically makes a field
p40220
aVThis means that a  field, won't be serialized, and won't be saved by JPA either
p40221
as(dp40222
g23
V571407
p40223
stp40224
a((dp40225
g2
(lp40226
VA SimpleDateFormat, as its name indicates, formats Dates
p40227
aVNot Calendar
p40228
aVSo if you want to format a GregorianCalendar using a SimpleDateFormat, you must convert the calendar to a date first:
p40229
aVAnd what you see printed is the toString() representation of the calendar
p40230
aVIt's intended usage is debugging
p40231
aVIt's not intended to be used to display a date in a GUI
p40232
aVFor that, use a (Simple)DateFormat
p40233
aVFinally, to convert from a String to a Date, you should also use a (Simple)DateFormat (its  method), rather than splitting the String as you're doing
p40234
aVThis will give you a Date object, and you can create a calendar from the Date by instanciating it () and setting its time ()
p40235
aVMy advice would be: Googling is not the solution here
p40236
aVReading the API documentation is what you need to do
p40237
as(dp40238
g23
V571407
p40239
stp40240
a((dp40241
g2
(lp40242
VYou shouldn't embed jar files inside another jar file
p40243
aVThat can only work if you use a special classloader
p40244
aVUse the  option when starting your app:
p40245
aVOr include the relative paths of the jar files into the manifest of myApp
p40246
aVjar by following the instructions on this page, and start your app with
p40247
as(dp40248
g23
V571407
p40249
stp40250
a((dp40251
g2
(lp40252
VYou can register a listener on the view using setOnClickListener()
p40253
aVThis listener will be called by android when the view is clicked
p40254
aVThe listener can be any object implementing the OnClickListener interface
p40255
aVAnd the method called by android on the listener will be onClick()
p40256
aVAnd android will pass the view which has been clicked to the method, so that the listener knows which view has been clicked
p40257
aVThis allows using the same listener for several views
p40258
as(dp40259
g23
V571407
p40260
stp40261
a((dp40262
g2
(lp40263
VIf you don't prepend an alias to your property, the property is considered part of the root entity of the criteria (First in this case)
p40264
as(dp40265
g23
V571407
p40266
stp40267
a((dp40268
g2
(lp40269
VRead on HQL in the excellent Hibernate documentation
p40270
as(dp40271
g23
V571407
p40272
stp40273
a((dp40274
g2
(lp40275
VChoose a directory where your images will be stored, outside of Tomcat
p40276
aVAssign some unique ID to each uploaded or generated image, and store the images in this directory (with the ID as file name, for example)
p40277
aVGenerate URLs to an image servlet that will read the image by ID in this directory, and send the bytes of the image to the output stream of the servlet response :
p40278
as(dp40279
g23
V571407
p40280
stp40281
a((dp40282
g2
(lp40283
VThe javadoc of HibernateTemplate says:
p40284
aVNOTE: As of Hibernate 3
p40285
ag2332
aV1, transactional Hibernate access code can
p40286
aValso be coded in plain Hibernate style
p40287
aVHence, for newly started
p40288
aVprojects, consider adopting the standard Hibernate3 style of coding
p40289
aVdata access objects instead, based on
p40290
aVSessionFactory
p40291
aVgetCurrentSession()
p40292
aVSo even Spring tells you not to use Spring's HibernateTemplate anymore
p40293
aVAnd there is no HibernateTemplate for Hibernate4
p40294
aVThe choice should be obvious
p40295
as(dp40296
g23
V571407
p40297
stp40298
a((dp40299
g2
(lp40300
VI think you should just use a query to do that:
p40301
aVIf you really want to go this road, a simple ManyToOne with a JoinColumn should be sufficient
p40302
aVYou need to make it non-insertable and non-updatable, though:
p40303
as(dp40304
g23
V571407
p40305
stp40306
a((dp40307
g2
(lp40308
VYou could just store a fixed list of supported locales in some constant of your application
p40309
aVIf you need to make this dynamic, I see two solutions:
p40310
aVuse a properties file listing the supported locales, and load them from this properties file at startup
p40311
aViterate through the available locales (or languages), try to load a corresponding bundle properties file (using ), and consider that the locale is supported if you get an InputStream, and not supported if you get null
p40312
aVYou could let the user add a bundle by putting some directory in the classpath, in addition to your jar
p40313
aVDrop the properties file in this directory (respecting the package hierarchy), et voil
p40314
as(dp40315
g23
V571407
p40316
stp40317
a((dp40318
g2
(lp40319
VThere is nothing out of the box, but nothing prevents you to write your own EL functions, and thus use something like that:
p40320
aVI don't feel that it's more readable than the standard c:url tag, and it would be even worse if it has to accept parameter names and values, though
p40321
aVSee http://docs
p40322
aVoracle
p40323
aVcom/javaee/1
p40324
aV4/tutorial/doc/JSPIntro7
p40325
aVhtml for how to define and use EL functions
p40326
as(dp40327
g23
V571407
p40328
stp40329
a((dp40330
g2
(lp40331
VThe answer is in the question
p40332
aVInstall SVN (or another SCM)
p40333
aVAnd at least eclipse has a local history, in case you need to go back to something you haven't committed
p40334
aVDon't know about other IDEs
p40335
as(dp40336
g23
V571407
p40337
stp40338
a((dp40339
g2
(lp40340
VAn exploded jar is simply a directory which has the same structure as a jar file
p40341
aVJust use , for example, to put all the files you want in this directory
p40342
as(dp40343
g23
V571407
p40344
stp40345
a((dp40346
g2
(lp40347
VIf the API used above is similar to the native Hibernate Restrictions API (and I guess it is, because it would be more logical), you just used  when you should have used , and vice-versa:
p40348
as(dp40349
g23
V571407
p40350
stp40351
a((dp40352
g2
(lp40353
VYou could use your own factory bean instead of , which will delegate to  and the call the method:
p40354
as(dp40355
g23
V571407
p40356
stp40357
a((dp40358
g2
(lp40359
VNo, you can't do that in Java
p40360
aVThe implementation of a method is entirely determined by the runtime type of its object
p40361
aVBut you may use the strategy pattern, and it's actually what's being done (more or less) by the standard Swing framework: you may set an  to a , and the 's  method is called when the button is clicked
p40362
aVIt's just delegation between objects
p40363
as(dp40364
g23
V571407
p40365
stp40366
a((dp40367
g2
(lp40368
VYou should not call overridable methods from a constructor
p40369
aVWhat you should do, in this case, is defining a constructor that only initializes instance fields, and put the initialization of the GUI in an overridable initialize() method, which is not called from the constructor
p40370
aVSo, to construct a FooPanel, you do:
p40371
aVAnd if you won't force all the clients of FooPanel to do that, you define the constructor private, and provide  a factory method:
p40372
as(dp40373
g23
V571407
p40374
stp40375
a((dp40376
g2
(lp40377
VNo, it's not possible
p40378
aVA link performs a GET request, and the only way for a GET request to send information to the server is to use request parameters, which appear in the URL
p40379
aVThe only thing you can do is to have your link invoke a JavaSCript function which submits a hidden form using POST
p40380
aVBut it's ugly
p40381
aVWhy do you fear by making the parameter visible in the URL
p40382
aVAre you aware that anybody can view the source of your HTML page and see the hidden field here
p40383
as(dp40384
g23
V571407
p40385
stp40386
a((dp40387
g2
(lp40388
VYou could simply have a  in your SAX parser, and allow registering ElementHandlers for element names
p40389
aVSupposing that you're only interested in leaf elements:
p40390
aVeach time an element starts, you look if there is a handler for this element name in the map, and you clear a buffer
p40391
aVeach time  is called, you append the characters to the buffer (if there was a handler for the previous element start)
p40392
aVeach time an element is ended, if there was a handler for the previous element start, you call the handler with the content of the buffer
p40393
aVHere's an example:
p40394
as(dp40395
g23
V571407
p40396
stp40397
a((dp40398
g2
(lp40399
VIf this information comes from a form in a previous page (for example if you're implementing a wizard, where a single big form is splitted into several pages), then you could use a form hidden field to store the information and resubmit it in every subsequent form
p40400
aVIf this is just information coming from the server (from the database, for example, or computed from other input fields), then you should simply get the information again from the database (or recompute it) and put it again in the form
p40401
as(dp40402
g23
V571407
p40403
stp40404
a((dp40405
g2
(lp40406
VYour date is
p40407
aVI read that as 30 june 2009, 23:59:56
p40408
aVSo the format to parse it should be  or  (depending on if your hours go from 1 to 24 or from 0 to 23)
p40409
aVBut definitely not : the month comes before the day
p40410
aVAlso, a Timestamp doesn't have any time zone
p40411
aVIt's a universal instant in time
p40412
aVIt's only when you display its value that the timezone is important, because then you have to choose which time zone to use to display the time
p40413
aVUse a DateFormat with the appropriate timezone set to display your timestamp
p40414
as(dp40415
g23
V571407
p40416
stp40417
a((dp40418
g2
(lp40419
VDon't try to be too smart and pretend like the client was on the server, and the entity manager was always open
p40420
aVConsider the domain objects, at client-side, exactly as you would consider DTOs or JSON objects: objects containing some information coming from the server and seralized over the wire
p40421
aVDocument the service methods called from the client (the facade methods) to specify which associations are initialized and which are not in the returned entities
p40422
aVIf you are on some "list" screen and want to see the detailed view of one of the elements of the list, for example, call another service which loads the entity again from the database (and thus gets fresh results), with probably other associations initialized in order to display more details about the entity
p40423
aVTrying to dynamically initialize the lazy-loaded associations at the client just doesn't work: it's complex, inefficient, results in an obsolete and incoherent graph on the client, doesn't take transactional isolation into account
p40424
as(dp40425
g23
V571407
p40426
stp40427
a((dp40428
g2
(lp40429
VHere's the example that the Hibernate documentation provides:
p40430
aVReplace  with , and  with , add the fields you need, and you have your answer
p40431
as(dp40432
g23
V571407
p40433
stp40434
a((dp40435
g2
(lp40436
V11 is probably a number that was chosen more or less arbitrarily, as a trade off between memory consumption (a too large number would consume too much memory for nothing), and CPU consumption (a too low number would need too many resizes of the queue)
p40437
aVAnd they probably benchmarked typical use cases to choose this number and the strategy used to resize the queue
p40438
as(dp40439
g23
V571407
p40440
stp40441
a((dp40442
g2
(lp40443
VThe error message says:
p40444
aVNo action instance for path /aboutus could be created is the error
p40445
aVshown
p40446
aVThis means that Struts can't instanciate your action class, which is configured, in struts-config
p40447
aVxml, as
p40448
aVYour class is named
p40449
aVSo obviously, you get this error
p40450
aVAlso note that the java package is reserved fro core classes of the JRE
p40451
aVI'm even surprised your compiler accepts to compile such a class, or at least doesn't emit any warning
p40452
aVDon't put your classes in a  package
p40453
as(dp40454
g23
V571407
p40455
stp40456
a((dp40457
g2
(lp40458
VAn array declared as a field is initialized to null, like every non-primitive instance variable
p40459
aVAn array declared as a local variable is uninitialized, as every other local variable
p40460
aVOnce initialized to a new array, both contain null for each of their elements
p40461
as(dp40462
g23
V571407
p40463
stp40464
a((dp40465
g2
(lp40466
VIt's impossible for the compiler to check if what you read is a , a , or a
p40467
aVSo in the end, you have to know what is in the stack, and you have to decide the type of the stack
p40468
aVThe rest is syntactic sugar
p40469
aVIf you leave it like that, and you know you're reading a , you'll have to write
p40470
aVIf you write it as
p40471
aVthe compiler can infer the type from the declaration of the variable, and you can thus write
p40472
aVBut in the end, the result is the same
p40473
aVYou'll get an exception when getting an Integer from the stack if it's not really a
p40474
as(dp40475
g23
V571407
p40476
stp40477
a((dp40478
g2
(lp40479
VStraight from the documentation:
p40480
aVSometimes you might want to change a log message you once entered,
p40481
aVmaybe because there's a spelling error in it or you want to improve
p40482
aVthe message or change it for other reasons
p40483
aVOr you want to change the
p40484
aVauthor of the commit because you forgot to set up authentication or
p40485
aVSubversion lets you change revision properties any time you want
p40486
aVBut
p40487
aVsince such changes can't be undone (those changes are not versioned)
p40488
aVthis feature is disabled by default
p40489
aVTo make this work, you must set
p40490
aVup a pre-revprop-change hook
p40491
aVPlease refer to the chapter on Hook
p40492
aVScripts in the Subversion Book for details about how to do that
p40493
aVRead
p40494
aVthe section called \u201cServer side hook scripts\u201d to find some further
p40495
aVnotes on implementing hooks on a Windows machine
p40496
as(dp40497
g23
V571407
p40498
stp40499
a((dp40500
g2
(lp40501
VIndeed, inside the ActionListener,  is not defined
p40502
aVIt's a local variable of the Gui constructor
p40503
aVIt's only when the action is performed (i
p40504
ag468
aVinside the  method) that you should read from the textfields and perform the addition
p40505
aVCurrently, your code adds what is in the textfields when the Gui is initialized, and you try displaying the result of this initial addition when the action is performed
p40506
aVAlso, instead of comparing button texts inside the actionPerformed method, it would be much cleaner to add a specific ActionListener for each button
p40507
aVAdd a listener which adds to the add button; a listener which subtract to the subtract button, etc
p40508
as(dp40509
g23
V571407
p40510
stp40511
a((dp40512
g2
(lp40513
VAFAIK, you're not supposed to keep a reference to a Graphics object and draw on it when you want to
p40514
aVInstead, you're supposed to wait for the  method to be called by Swing, and do your drawings in this method
p40515
aVSo, your task should just change the state of your component, and ask for an asynchronous or synchronous repaint (using  or )
p40516
aVSwing will then invoke the  method with a Graphics object that you can use to paint the appropriate lines, based on the state of your component
p40517
aVSee http://java
p40518
aVsun
p40519
aVcom/products/jfc/tsc/articles/painting/ for more details and explanations
p40520
as(dp40521
g23
V571407
p40522
stp40523
a((dp40524
g2
(lp40525
VIf you want to manipulate any kind of file, never consider they contain textual data, and consider them as binary files, containing bytes
p40526
aVBinary files are read and written using input and output streams
p40527
aVHere's an example of a method that reads a file and splits it into pieces of 1024 bytes written to N output files :
p40528
as(dp40529
g23
V571407
p40530
stp40531
a((dp40532
g2
(lp40533
VYour objects should probably all extend a common superclass or implement a common interface which defines a method
p40534
aVYou should not use public fields
p40535
aVAnd also note that
p40536
aVcan be written as
p40537
aVwhich is more logical and readable
p40538
as(dp40539
g23
V571407
p40540
stp40541
a((dp40542
g2
(lp40543
VRead the Hibernate documentation about HQL and associations
p40544
as(dp40545
g23
V571407
p40546
stp40547
a((dp40548
g2
(lp40549
VJust look at the debug view:
p40550
aVIn the above example, the debugger is stopped at the line 45 of the  method
p40551
aVThis method is called by the  method (which is paused at line 24)
p40552
aVAnd this  method is called by  (which is paused at line 10)
p40553
aVClicking on any of these nodes allows seeing the code of the calling method, and allows inspecting the values of all the variables involved in this method
p40554
as(dp40555
g23
V571407
p40556
stp40557
a((dp40558
g2
(lp40559
VThe javadoc of replaceAll says:
p40560
aVNote that backslashes ( \u005c ) and dollar signs ($) in the replacement
p40561
aVstring may cause the results to be different than if it were being
p40562
aVtreated as a literal replacement string; see Matcher
p40563
aVreplaceAll
p40564
aVUse
p40565
aVMatcher
p40566
aVquoteReplacement(java
p40567
aVlang
p40568
aVString) to suppress the special
p40569
aVmeaning of these characters, if desired
p40570
as(dp40571
g23
V571407
p40572
stp40573
a((dp40574
g2
(lp40575
VThe easiest way is probably to create an ImageIcon from the URL of the file (or from the content of the file as bytes, or from the file name), and to wrap this ImageIcon into a JLabel:
p40576
aVBut if your app is supposed to edit the image, then you'll have to learn how to manipulate  instances, and the easiest way won't be sufficient
p40577
as(dp40578
g23
V571407
p40579
stp40580
a((dp40581
g2
(lp40582
VI suspect that you have another version of commons-codes classes in your classpath, before the commons-codec jar you installed
p40583
aVMake sure the "Link with Editor" icon button at the top of the package explorer is pressed, and then ctrl-click on the Base64 type in your editor
p40584
aVThen check if the selected class file in the package editor is the class inside the commons-codec-1
p40585
ag23604
aVjar, or if it's a class in another jar
p40586
as(dp40587
g23
V571407
p40588
stp40589
a((dp40590
g2
(lp40591
VIt's pretty simple if you take some time to read the API doc:
p40592
aVBlob has a getBinaryStream() which returns a stream of bytes containing the data stored in the blob
p40593
aVImageIcon, which implements Icon, has a constructor which takes a byte array as argument
p40594
aVJLabel has a setIcon(Icon) method
p40595
aVSo, read everything from the Blob binary stream into a byte array, construct an ImageIcon using this byte array, and call the label setIcon method with this ImageIcon as argument
p40596
as(dp40597
g23
V571407
p40598
stp40599
a((dp40600
g2
(lp40601
VNo, but you can pass the object itself:
p40602
aVIf you want to be able to pass any method, then wrap this method into a Runnable or Callable for example:
p40603
as(dp40604
g23
V571407
p40605
stp40606
a((dp40607
g2
(lp40608
VIt's perfectly possible to use a DataSource on a desktop application
p40609
aVServer apps are usually multi-thread, multi-user applications, where several connections to the database are open in parallel
p40610
aVA pooled DataSource is critical here
p40611
aVDesktop apps are usually single-user applications, where you just need one connection to the database
p40612
aVSo a pooled datasource isn't necessary in this case
p40613
as(dp40614
g23
V571407
p40615
stp40616
a((dp40617
g2
(lp40618
VIf I understand correctly, you want all the brands belonging to a category
p40619
aVWhy don't you simply make the association bidirectional
p40620
aVYou could then just do:
p40621
aVIf it's unidirectional, then you'll need a query, but it's much simpler that the one you tried:
p40622
aVYour query doesn't make sense: it uses a non-existing association ()
p40623
aVRemember that JPQL uses entities, their persistent fields and associations to other entities
p40624
aVAnd nothing else
p40625
aVTables don't exist in JPQL
p40626
as(dp40627
g23
V571407
p40628
stp40629
a((dp40630
g2
(lp40631
VIf your question is: "how to only sort the items returned by the query, instead of sorting the whole list, and then applying the first and max results constraints
p40632
aV, then it's not possible without sorting the result list explicitely, in Java, using a Comparator
p40633
aVThe alternative is to use a native SQL query, but the query will depend on which database you're using
p40634
as(dp40635
g23
V571407
p40636
stp40637
a((dp40638
g2
(lp40639
VYour map should be a : for each word, you have an integer storing the number of occurrences of the word
p40640
aVTo get the number of occurrences of a word:
p40641
aVTo test if the word is in the map:
p40642
aVTo increment the number of occurrences:
p40643
aVTo store this new value in the map:
p40644
aVThere is no reason to iterate over the map
p40645
aVYou read your file word by word, and use the above to increment the occurrence of each word
p40646
as(dp40647
g23
V571407
p40648
stp40649
a((dp40650
g2
(lp40651
VThe javadoc of mark() says: (emphasis mine):
p40652
aVParameters:
p40653
aVreadAheadLimit - Limit on the number of characters that may be read while still preserving the mark
p40654
aVAn attempt to reset the stream
p40655
aVafter reading characters up to this limit or beyond may fail
p40656
aVA limit
p40657
aVvalue larger than the size of the input buffer will cause a new buffer
p40658
aVto be allocated whose size is no smaller than limit
p40659
aVTherefore large
p40660
aVvalues should be used with care
p40661
aVIf you invoke it with 0 as argument, as soon as you read one byte more from the reader, it might be impossible to reset
p40662
aVThe solution is to call the mark method with the length of the file as argument
p40663
aVBut of course, this will lead to reading the whole file in an in-memory buffer
p40664
aVIf you don't want that, close your reader and reopen a new BufferedReader
p40665
as(dp40666
g23
V571407
p40667
stp40668
a((dp40669
g2
(lp40670
VYou have two syntax errors in your HQL query:
p40671
aVThere is no from clause
p40672
aVis invalid
p40673
aVThe proper syntax is  or simply
p40674
aVThe  (and  field) field of the Link entity is of type
p40675
aVYou can't compare it with an ID
p40676
aVEither you compare it with a  instance, or you compare the ID of  with an ID:  or
p40677
as(dp40678
g23
V571407
p40679
stp40680
a((dp40681
g2
(lp40682
VFirst of all, to make things clearer, I would start by renaming your entities and fields:
p40683
aV, with a collection of rights named
p40684
aV(without s), with a collection of roles named
p40685
aVNow, the simplest thing to do is just to get all the roles, and to fetch the rights of each role in a single query:
p40686
aVIf you really just want to have all the role_name/right_name associations, then use the following code:
p40687
aVAnd each Object[] element of the returned list contains two elements: the role name and the right name
p40688
aVNote that the roles which don't have any right are not returned by this query
p40689
aVAll this is very well explained in the Hibernate documentation
p40690
aVRead it
p40691
as(dp40692
g23
V571407
p40693
stp40694
a((dp40695
g2
(lp40696
VIf the second car comes to the bridge when the first car has already spent 75 millis on the bridge, it seems logical to me that the second car only waits 25 millis
p40697
as(dp40698
g23
V571407
p40699
stp40700
a((dp40701
g2
(lp40702
VThe inner join just makes there is at least one tag for the purchase
p40703
as(dp40704
g23
V571407
p40705
stp40706
a((dp40707
g2
(lp40708
VThe simplest way is to use hidden fields in the second page(s) to store what the user has enetered in the first form
p40709
aVThis way, all the fields, inclusing those from the first page, will be submitted with the second form(s)
p40710
as(dp40711
g23
V571407
p40712
stp40713
a((dp40714
g2
(lp40715
VYou load the Purchase without initializing its tags collection and then, in your controller, once the transaction is committed and the session closed, you're adding a tag to this non-initialized collection
p40716
aVSo obviously, this exception is thrown
p40717
aVYou have two possibilities:
p40718
aVLoad the tags with the Purchase, either by calling , or by executing a JPQL query that loads the tag along with its tags, in a single query ()
p40719
aVInstead of having a service class that offers noting more than the DAO, add a real service method  which reloads the purchase and adds the tags to this purchase
p40720
aVThis is in fact the service method needed by your controller
p40721
aVI of course prefer the second solution by far:
p40722
aVit shows why a service layer is useful,
p40723
aVit removes business code from the presentation layer to put it in the service layer,
p40724
aVit's more efficient
p40725
aVit's safer because it uses attached entities, and thus avoids the kind of exception you're having
p40726
aVIn general, if your controller, to execute a single atomic action, needs several calls to the service layer, it means that the service layer doesn't offer the needed functionality, and that the service is implemented in the presentation layer instead
p40727
as(dp40728
g23
V571407
p40729
stp40730
a((dp40731
g2
(lp40732
VYou use an OpenCSV Writer, which takes a row of the CSV file as an array of Strings, and generates the separators between columns and rows automatically, but instead of letting OpenCSV do it for you, you do it explicitely by appending all the values of a row in a single String
p40733
aVSo obviously, OpenCSV takes your unique value and considers it contains a single column, where commas and newlines must be encoded
p40734
aVYou should call  with an array of Strings, each String in the array being a single cell from the table
p40735
aVThe writer will generate the commas and the newlines for you
p40736
as(dp40737
g23
V571407
p40738
stp40739
a((dp40740
g2
(lp40741
s(dp40742
g23
V571407
p40743
stp40744
a((dp40745
g2
(lp40746
VYou probably have begun a transaction, and trying to begin another one without having committed or rollbacked the previous one
p40747
aVThe idiom when using programmatic transaction demarcation is the following one:
p40748
aVThis is cumbersome and error-prone, and this is one of the reasons why using EJBs or Spring to have declarative transactions is so useful
p40749
as(dp40750
g23
V571407
p40751
stp40752
a((dp40753
g2
(lp40754
VIn an ideal world, you should not have to care about the type of the referenced person, and you should only access it polymorphically
p40755
aVIf you're absolutely sure the referenced person is not a proxy, you can simply use the  operator
p40756
aVOr you can modify the person entity to provide a getter for the discriminator column
p40757
aVOr you can override a  method in all subclasses in order for the objects to return their type
p40758
as(dp40759
g23
V571407
p40760
stp40761
a((dp40762
g2
(lp40763
VHere's what the official Oracle tutorial says about the SQL tag library:
p40764
aVThe JSTL SQL tags for accessing databases listed in Table 14-8 are
p40765
aVdesigned for quick prototyping and simple applications
p40766
aVFor production
p40767
aVapplications, database operations are normally encapsulated in
p40768
aVJavaBeans components
p40769
aVJSPs are view components
p40770
aVTheir intended usage is to generate HTML markup
p40771
aVIn a properly designed application, access to the database should be done (via services and DAOs) in the controller, not in the view
p40772
aVAvoid the JSTL SQL tag library like the plague
p40773
aVIt will make your application a mess
p40774
as(dp40775
g23
V571407
p40776
stp40777
a((dp40778
g2
(lp40779
VThe method you're unit testing is a method which takes data as argument, and transforms it into CSV
p40780
aVSo it should just test that this transformation works, and you should feed it with the minimal necessary data to verify that it indeed works, for all cases
p40781
aVThis method should be independant of the method which fetches the data from the database, and you should not fetch an enormous amount of data from the database to unit-test this method
p40782
aVJust prepare the data in memory, and give it as an argument to your data-transformation method in your test:
p40783
as(dp40784
g23
V571407
p40785
stp40786
a((dp40787
g2
(lp40788
VNo, it's not possible
p40789
aVORMs like Hibernate or wrapper APIs like Spring JDBC allows doing that
p40790
aVBut with plain JDBC, you must do it yourself
p40791
as(dp40792
g23
V571407
p40793
stp40794
a((dp40795
g2
(lp40796
VThe problem is not in the Spring configuration
p40797
aVIt's in the URL
p40798
aVThe question mark is the symbol indicating the start of the query String
p40799
aVIf it's part of the URL, it must be encoded:
p40800
as(dp40801
g23
V571407
p40802
stp40803
a((dp40804
g2
(lp40805
VYou probably just forgot to declare the class in your hibernate config file:
p40806
aVAlso, note that the  is unnecessary, since your getter returns a
p40807
aVHibernate will deduce the target entity from the return type of the getter
p40808
as(dp40809
g23
V571407
p40810
stp40811
a((dp40812
g2
(lp40813
VMessagesResources are available from Action subclasses using the getResources() method
p40814
aVBut As the javadoc of MessageResources says:
p40815
aVGeneral purpose abstract class that describes an API for retrieving
p40816
aVLocale-sensitive messages from underlying resource locations of an
p40817
aVunspecified design, and optionally utilizing the MessageFormat class
p40818
aVto produce internationalized messages with parametric replacement
p40819
aVMessageResources are intended to store locale-sensitive messages, not general configuration properties which have nothing to do with internationalization
p40820
aVBTW, Struts is a presentation framework, and the access to the database is not the business of the presentation layer, but the business of the persistence layer
p40821
aVYou should not store database configuration options into Struts message resources, but inside a properties file, loaded with the  method, by some class of the persistence layer
p40822
as(dp40823
g23
V571407
p40824
stp40825
a((dp40826
g2
(lp40827
VI don't know if this must be determined from a MouseListener or from a ListSelectionListener, but the simplest solution is similar: use a different listener for each table:
p40828
as(dp40829
g23
V571407
p40830
stp40831
a((dp40832
g2
(lp40833
VThe second one is the good one: you should extract your data access methods in Data Access Objects (DAOs), which isolate the rest of the application from persistence-related problems
p40834
aVAnd DAOs should definitely return objects, and not result sets
p40835
aVThis provides the following advantages:
p40836
aVdecoupling of concerns and responsibilities
p40837
aVeasier evolution of the rest of the application when the schema changes
p40838
aVeasier evolution of the rest of the application when you choose to use an ORM instead of JDBC to access the database
p40839
aVeasier unit-testing of the queries (and of the persistence layer in general), since the persistence code is not mixed with functional code
p40840
aVeasier unit-testing of the business (service) layer, because it allows injecting mock DAOs to provide the data, rather than needing real data in the database to test it
p40841
as(dp40842
g23
V571407
p40843
stp40844
a((dp40845
g2
(lp40846
VYour mapping is wrong: you defined two different associations between Playlist and PlaylistadMap instead of a single bidirectional one, because you forgot the  attribute in PlayList
p40847
aVAnd no, you don't have to remove and re-add the existing ads to the set
p40848
aVIt wouldn't change anything
p40849
aVJust add your 3 new ads to the set, make sure the other side of the association is initialized correctly, and everything should be fine
p40850
aVAlso note that cascading is not related to your problem
p40851
aVCascading means: when I do X on an entity, also do X on the associated entities
p40852
aVYou're just creating an association between entities here
p40853
aVThere's nothing to cascade
p40854
as(dp40855
g23
V571407
p40856
stp40857
a((dp40858
g2
(lp40859
VFirst note: JpaTemplate is deprecated, and should not be used anymore
p40860
aVIt just delegates to the EntityManager's  method, and both return an entity
p40861
aVHere's what the JPA spec says about merge:
p40862
aVIf X is a new entity instance, a new managed entity instance X' is
p40863
aVcreated and the state of X is copied into the new managed entity
p40864
aVinstance X'
p40865
aVSo, if an ID is generated, it will be assigned to the attached entity, and not to the object you pass to the merge method
p40866
aVYou should thus never ignore the result of the merge method
p40867
aVInstead of
p40868
aVyou should do:
p40869
aVMoreover, the JPA spec also says that
p40870
aVA generated id is not guaranteed to be available until after the
p40871
aVdatabase insert has occurred
p40872
aVAnd this is probably the other reason why you don't have an ID
p40873
aVAFAIK, the AUTO strategy, with MySQL, consists in relying on an autoincrement ID column in the database, and it's only possible to get the value of the ID after the insert has been done, and Hibernate waits until absolutely necessary to flush, and thus perform the insert
p40874
aVIf you really need to have the ID right after the merge, do the following:
p40875
as(dp40876
g23
V571407
p40877
stp40878
a((dp40879
g2
(lp40880
VWell, first of all, a search form should use GET rather than POST: a search is an idempotent operation, that doesn't modify anything at server side
p40881
aVIf you switch your method to GET and submit the form, you'll notice that the URL invoked by the form is something like:
p40882
aVJust make your links have the same href, and the link will send the same request as the search form:
p40883
aVAlso, note that your submit input should be inside the form, and not outside
p40884
as(dp40885
g23
V571407
p40886
stp40887
a((dp40888
g2
(lp40889
VNo, it's not possible
p40890
aVHow would JPA execute such a basic query
p40891
aVYou'll have to store the ID of the driver in the Route entity, load it explicitely, and hope it's there (because you don't have any foreign key constraint)
p40892
as(dp40893
g23
V571407
p40894
stp40895
a((dp40896
g2
(lp40897
VYou don't need JavaScript for this
p40898
aVJust place the last div before the slow one, and use CSS to arrange the divs on the screen as it suits you:
p40899
aVYou can use a couple lines of code, called from body onload to get the slow div to where it belongs and then to show it
p40900
aVto get it located in the right place, and  to get it to show
p40901
as(dp40902
g23
V571407
p40903
stp40904
a((dp40905
g2
(lp40906
VFirst question:
p40907
aVI don't know of any
p40908
aVBut the JPA specification is freely available and describes what the default table and column names are
p40909
aVSecond question:
p40910
aVI personally always specify the table and column names
p40911
aVIt avoids this kind of surprise, allows me to always choose the names that I want, and is self-documentary
p40912
aVAnd I also prefer creating the database schema and DDL by myself
p40913
aVThis ensures that all required indices, constraints, comments, etc
p40914
aVare created correctly
p40915
aVThird question: Yes, the nature of the collection doesn't matter
p40916
aVSee the answer to your second question to avoid these kinds of problems
p40917
as(dp40918
g23
V571407
p40919
stp40920
a((dp40921
g2
(lp40922
VThings are complicated only if you don't understand them
p40923
aVOnce you have understood what the above code does, it will be extremely simple
p40924
aVreturns the Class object of the current object ()
p40925
aVcalled with a relative path as above, looks for a file, in the classpath, named bug1
p40926
aVgif, and in the same package as the Class object being called
p40927
aVSo it looks for bug1
p40928
aVgif in the same package as the class containing the above code
p40929
aVreturns a URL
p40930
aVAnd the  constructor takes a URL as argument, loads the image bytes from this URL, and constructs an ImageIcon from these bytes
p40931
aVSo the whole thing just creates an ImageIcon from a file available from the classpath, in the same package as the class calling this code
p40932
aVAnd this makes sense: you put the images used by a given class in the same package as the class, and you release a jar containing the classes and the images of the application
p40933
aVYou would have figured all this by yourself by reading the javadoc of all these methods
p40934
as(dp40935
g23
V571407
p40936
stp40937
a((dp40938
g2
(lp40939
VYou'll need to use a custom comparator that extracts the numerical part of the Strings, transform them into Integer instances, and compare those Integers:
p40940
aVBut instead of using Strings to represent sections, you could also use  objects, which would have a number attribute, a  method, and a natural ordering using the number attribute
p40941
as(dp40942
g23
V571407
p40943
stp40944
a((dp40945
g2
(lp40946
VYour innermost loop could be removed by using Arrays
p40947
aVequals()
p40948
aVFor each element of the first array, you should define a  boolean variable, that would only be set to true once the element is found in the second array
p40949
aVOnce the second loop is finished, if this variable is still false, you have found an element of the first array that is not in the second, and you can return immediately
p40950
aVAnd of course, as soon as this variable is set to true, you can break out of the second loop
p40951
as(dp40952
g23
V571407
p40953
stp40954
a((dp40955
g2
(lp40956
VHere's the easiest, simplest solution and cleanest solution:
p40957
aVAnd this function could even be stored in an external JS file, to avoid reloading each time the page is reloaded
p40958
as(dp40959
g23
V571407
p40960
stp40961
a((dp40962
g2
(lp40963
VYou're accessing shared state (the  and  variables) from different threads concurrently without any synchronization
p40964
aVEvery access should be synchronized if you want to make sure to read what the other thread wrote
p40965
aVSo, either add methods to get and set these variables, and make those methods synchronized, or, if each variable represents an distinct information from the other and they can be written and read independantly, make those variables volatile
p40966
aVA third way (which is only valid under the same conditions as the volatile solution) is to use AtomicBoolean variables instead of boolean variables
p40967
as(dp40968
g23
V571407
p40969
stp40970
a((dp40971
g2
(lp40972
VYes, they can be collected
p40973
aVIf A held a reference to them, then they wouldn't be collected as long as A is still reachable
p40974
as(dp40975
g23
V571407
p40976
stp40977
a((dp40978
g2
(lp40979
VYou see the value 0 because the read is executed before the write
p40980
aVAnd you see the value 10 because the write is executed before the read
p40981
aVIf you want to have a test with more unpredictable output, you should have both of your threads await a CountDownLatch, to make them start concurrently:
p40982
as(dp40983
g23
V571407
p40984
stp40985
a((dp40986
g2
(lp40987
VUsing the  annotation, as explained in the Hibernate documentation:
p40988
aVSometimes, you want the Database to do some computation for you rather
p40989
aVthan in the JVM, you might also create some kind of virtual column
p40990
aVYou can use a SQL fragment (aka formula) instead of mapping a property
p40991
aVinto a column
p40992
aVThis kind of property is read only (its value is
p40993
aVcalculated by your formula fragment)
p40994
as(dp40995
g23
V571407
p40996
stp40997
a((dp40998
g2
(lp40999
VThe first file in the classpath will be loaded
p41000
aVSo if A
p41001
aVjar and B
p41002
aVjar both contain a file, and A
p41003
aVjar comes before B
p41004
aVjar in the classpath, A
p41005
aVjar's file will be loaded
p41006
aVThat's how the class loader works
p41007
as(dp41008
g23
V571407
p41009
stp41010
a((dp41011
g2
(lp41012
VThere is no more elegant way as the one you're using to iterate over a
p41013
aVBut a more elegant thing to do would be to use a Guava ListMultimap, which provides an  method over which you can iterate directly, without a nested loop
p41014
as(dp41015
g23
V571407
p41016
stp41017
a((dp41018
g2
(lp41019
VYou must not map the bidirectional association twice
p41020
aVThe One side must be marked as the inverse of the Many side, using the  attribute:
p41021
aVThere is no reason to tell Hibernate twice that the association is mapped by the join column FOOID
p41022
aVAnd doing it is actually an error, because it defines two different unidirectional associations rather than one bidirectional association
p41023
aVEDIT:
p41024
aVThe above should work, but doesn't due to the following Hibernate bug: It's a Hibernate bug
p41025
aVSee hibernate
p41026
aVonjira
p41027
aVcom/browse/HHH-4284
p41028
aVTo circumvent this problem, since the FOOID is enough to ensure uniqueness, a solution would be to remove the @Id annotation from the owner ID and the @IdClass annotation
p41029
as(dp41030
g23
V571407
p41031
stp41032
a((dp41033
g2
(lp41034
VRead the rest of the stack trace, and you should find the name of the constraint that has been violated
p41035
aVYou probably have some other entity referencing the serving you try to delete (i
p41036
ag468
aVsome other row having a foreign key to the serving row you try to delete)
p41037
aVSo, to be able to delete this entity, you must make sure that all entities referencing it through a foreign key don't reference it anymore
p41038
aVHow to do that depends on which entities these are, how their relation with Serving is implemented, and what you want to do: just remove the association, or delete the referencing entity as well
p41039
as(dp41040
g23
V571407
p41041
stp41042
a((dp41043
g2
(lp41044
VHere's my guess
p41045
aVIn a Spring MVC application the context used by the dispatcher servlet is a child of the global context
p41046
aVSo if you configure the same beans in this child context as the ones configured in the global context, the child context beans will override the global ones
p41047
aVThis is probably what you did, which means that you get a reference to a UserService instantiated by the child context, where there is no transaction manager, instead of getting a reference to the UserService instantiated by the global context, where the transaction manager is defined
p41048
aVMake sure to only scan MVC-related beans in your MVC context, by changing
p41049
aVto
p41050
aVor to
p41051
aVfor example
p41052
as(dp41053
g23
V571407
p41054
stp41055
a((dp41056
g2
(lp41057
VNever compare Strings with
p41058
aVAlways with
p41059
aVThe former tests that both objects are the same (i
p41060
ag468
aVthe variables reference the same String object)
p41061
aVThe latter tests that the sequences of chars of both Strings are the same
p41062
as(dp41063
g23
V571407
p41064
stp41065
a((dp41066
g2
(lp41067
VNo, it's not possible
p41068
aVThe file format is freely available: http://docs
p41069
aVoracle
p41070
aVcom/javase/6/docs/api/java/util/Properties
p41071
aVhtml#load%28java
p41072
aVio
p41073
aVReader%29
p41074
aVDo this in Java code:
p41075
as(dp41076
g23
V571407
p41077
stp41078
a((dp41079
g2
(lp41080
VWhen you serialize an object, every field of the object is serialized, unless marked with
p41081
aVAnd this behavior is of course recursive
p41082
aVSo yes, you can serialize an object, then deserialize it, and the deserialized object will have the same state as the serialized one
p41083
aVA different behavior would make serialization useless
p41084
aVI wouldn't use native serialization for long-term storage of data, though
p41085
aVSerialized objects are hard to inspect, impossible to modify using a text editor, and maintaining backward compatibility with older versions of the classes is hard
p41086
aVI would use a more open format like XML or JSON
p41087
as(dp41088
g23
V571407
p41089
stp41090
a((dp41091
g2
(lp41092
V exists since Java 7
p41093
aVAnd the driver has been implemented with a previous version of the interface
p41094
aVSo this method is not implemented by the MySQL driver
p41095
aVFind if a more recent version exists with support for this method (but it doesn't seem to exist), or avoid calling this method
p41096
as(dp41097
g23
V571407
p41098
stp41099
a((dp41100
g2
(lp41101
VThe explanation is simple: you start a transaction only once, but commit it several times:
p41102
aVEither you want a seperate transaction for each doc, and the transaction must begin inside the for loop, or you want a single transaction for all the docs, and the commit must be outside the for loop
p41103
as(dp41104
g23
V571407
p41105
stp41106
a((dp41107
g2
(lp41108
VYou need three queries to do that:
p41109
aVEDIT:
p41110
aVIf what you actually want is a list of all the user types, with the users of each user type, and the country of each user of each user type, all this loaded in a single query, then you need fetch joins, as explained in the Hibernate documentation:
p41111
as(dp41112
g23
V571407
p41113
stp41114
a((dp41115
g2
(lp41116
VIf I understand correctly, you just want to group several OneToMany associations inside a separate class, and have an instance of this class inside User
p41117
aVBut semantically, these associations are associations between the User and other entities
p41118
aVIf so, you should keep your database scheam as is, and simply use an embedded object inside User to group your associations:
p41119
aVSee the documentation for more details
p41120
as(dp41121
g23
V571407
p41122
stp41123
a((dp41124
g2
(lp41125
VIt will work only if you have configured your associations to cascade the delete (remove) operation:
p41126
aVIf you don't have this cascade, removing the parent entity will only remove this specific entity, and of course since all the children have a foreign key to the parent, you'll get the constraint violation exception
p41127
as(dp41128
g23
V571407
p41129
stp41130
a((dp41131
g2
(lp41132
VIf it's in a conf directory inside the jar, then the package of the bundle you're trying to load is , and you should use
p41133
aVThe javadoc says:
p41134
as(dp41135
g23
V571407
p41136
stp41137
a((dp41138
g2
(lp41139
VHibernate queries are translated into SQL queries and executed in the database
p41140
aVIf the set contains entity instances that are not into the database, there's no way Hibernate can query them
p41141
aVIf these entities are in fact entities from the database, as you seem to indicate, then you might just use an  clause:
p41142
aVBut make sure you don't have too many IDs and you don't hit the limit imposed by your database (Oracle limits elements of an IN clause to 1000 for example)
p41143
aVIf those entities are already loaded in memory, you could also just iterate through them:
p41144
as(dp41145
g23
V571407
p41146
stp41147
a((dp41148
g2
(lp41149
VSuch a query will return a
p41150
aVAnd each Object[] will contain two elements: the sum, and the result of the function call
p41151
aVSo, iterate over the result, and create a meaningful object for each result:
p41152
as(dp41153
g23
V571407
p41154
stp41155
a((dp41156
g2
(lp41157
VInstead os adding a column for each language in your table, you should normalize and have an additional table ANIMAL_TRANSLATION:
p41158
aVYou would then have a OneToMany association between Animal and AnimalTranslation:
p41159
aVAnd your query could be, for example:
p41160
aVAnd this would retrieve all the animal translations, with their animal, for a given language
p41161
aVThis might seem more complex, but it's also more normalized, and doesn't force you to change your schema and entities each time a new language comes in
p41162
as(dp41163
g23
V571407
p41164
stp41165
a((dp41166
g2
(lp41167
VThe reason is that if you had two users having the same instance of address, the following would modify the address of both users, which you obviously don't want:
p41168
aVBoth addresses, even if they contain the same values, represent the cells of two different rows in the database, so they should be different instances
p41169
as(dp41170
g23
V571407
p41171
stp41172
a((dp41173
g2
(lp41174
VBased on one of your comments, you're using a collator to sort your titles
p41175
aVWhy you didn't say that in your question is beyond me
p41176
aVAnyway, the collator sorts Strings according to locale preferences
p41177
aVIt doesn't sort in lexicographic order
p41178
aVAnd the collator you're using considers that the right order is the one you observe
p41179
aVIf you want lexicographical order, you should not use a collator
p41180
aVAlso note that a collator is always associated to a locale
p41181
aVThe javadoc of  method says:
p41182
aVGets the Collator for the current default locale
p41183
as(dp41184
g23
V571407
p41185
stp41186
a((dp41187
g2
(lp41188
VThe product will be removed when the supplier is removed due to the OnDelete annotation
p41189
aVThe OnDelete annotation is used only when the schema is generated by Hibernate
p41190
aVIt configures the foreign key in database so that when the referenced row is deleted, the row containing the foreign key is also deleted
p41191
aVSee http://docs
p41192
aVjboss
p41193
aVorg/hibernate/annotations/3
p41194
aV5/reference/en/html_single/#entity-hibspec-singleassoc
p41195
aVBut Hibernate will also delete the supplier when you delete the product (which is probably not what you want), because of the CascadeType
p41196
aVALL set on the association
p41197
aVYou should remove this attribute: there is no reason to delete a supplier when one of its product is removed
p41198
as(dp41199
g23
V571407
p41200
stp41201
a((dp41202
g2
(lp41203
VBut you're using maps when you should use objects with properties
p41204
aVOf course, if you need to do that multiple times, with various properties, you should transform the predicate into a non-anonymous, reusable class:
p41205
as(dp41206
g23
V571407
p41207
stp41208
a((dp41209
g2
(lp41210
VWhen an association has the  attribute, it means: I'm not the owner of this association
p41211
aVAny change done to this side of the association won't matter for Hibernate
p41212
aVWhat will matter is the other side of the association
p41213
aVI'm surprised this even works, because I would have expected Hibernate to require a ManyToOne on the other side, of type
p41214
aVBut what's sure is that if you don't set the custom/customId field to null in KeyValue/ValueObject, Hibernate won't set this column to null
p41215
as(dp41216
g23
V571407
p41217
stp41218
a((dp41219
g2
(lp41220
VIt's the name that is used by the browser as parameter name, not the ID
p41221
as(dp41222
g23
V571407
p41223
stp41224
a((dp41225
g2
(lp41226
VIt's nowhere
p41227
aVYou must download it and install it separately
p41228
aVSee http://stackoverflow
p41229
aVcom/tags/jstl/info
p41230
as(dp41231
g23
V571407
p41232
stp41233
a((dp41234
g2
(lp41235
VI don't see anything fundamentally wrong with your code, except it's a bit strange to close result sets and connections, but not statements
p41236
aVAnother bizarre thing is that a DAO is supposed to be an object that encapsulates the data access code
p41237
aVIt's the DAO that should contain the JDBC logic
p41238
aVThat said, why don't you do the right thing now, instead of waiting to have 100,000 lines of code to refactor
p41239
aVUse a connection pool as soon as possible
p41240
aVIt would have two huge advantages:
p41241
aVopening a connection is very costly
p41242
aVYou would save much time by avoiding constantly opening and closing connections
p41243
aVa pool is also what allows limiting the number of connections to a reasonable maximum, in case of a peak usage
p41244
aVIt allows avoiding opening too many connections, and bringing the database to its knees
p41245
as(dp41246
g23
V571407
p41247
stp41248
a((dp41249
g2
(lp41250
VYou shouldn't cache entities in EHCache yourself
p41251
aVInstead, you should configure Hibernate to use a second-level cache, and use EHCache as its implementation
p41252
aVThe end result will be the same: your entities will be cached and you'll save roundtrips to the database
p41253
aVBut by using the second-level cache, everything will be transparent: you'll load entities from the session, and Hibernate will automatically store them in the cache
p41254
aVAnd if you reload them from the session, Hibernate will get them from the cache
p41255
aVAnd if you update the entity, it will be evicted from the cache to make sure a fresh copy is reloaded next time
p41256
aVAnother huge difference with your hand-made solution is that Hibernate will return you attached entities
p41257
aVSo if you just call cachedEntity
p41258
aVgetNonCachedEntity(), Hibernate will lazy-load the non cached entity exactly as if you had no cache at all
p41259
aVWhether the entity comes from the database or from the second-level cache doesn't change anything: if an attribute is lazy-loaded, and if this attribute is accessed once the session is closed, then the lazy attribute must be initialized before the session is closed
p41260
aVCall  to initialize it
p41261
aVMore info in the Hibernate documentation
p41262
as(dp41263
g23
V571407
p41264
stp41265
a((dp41266
g2
(lp41267
VSession and access control don't have much in common
p41268
aVAn unauthenticated user may have a session
p41269
aVIt can be useful just to store preferences, for example
p41270
aVOnce authenticated, you can keep the same session, but store the identity of the user and its authorizations in the session
p41271
aVYou should just see the session as a place where you can store attributes for a given user, that will last for the duration of its session with your webapp
p41272
aVTo resume, the presence of a session doesn't mean a user is authenticated
p41273
aVThe presence of some "authenticated" flag, or some identity in the session, that your authentication mechanism stores in the session, is what you must check to know if a user is authenticated
p41274
as(dp41275
g23
V571407
p41276
stp41277
a((dp41278
g2
(lp41279
VHere's the page that comes as first result when you google for "tomcat 6 connection pool": http://tomcat
p41280
aVapache
p41281
aVorg/tomcat-6
p41282
aV0-doc/jndi-datasource-examples-howto
p41283
aVhtml
p41284
aVIt explains how to setup and configure a connection pool in tomcat 6, and how to access it from your application
p41285
aVAnd here is the section of the Hibernate documentation that explains how to configure it to get connections from a JNDI data source of an app server like tomcat: http://docs
p41286
aVjboss
p41287
aVorg/hibernate/core/3
p41288
aV6/reference/en-US/html_single/#configuration-hibernatejdbc
p41289
as(dp41290
g23
V571407
p41291
stp41292
a((dp41293
g2
(lp41294
VIterate over the objects
p41295
aVFor each object, get its corresponding list from the map
p41296
aVIf null, create a new list and put it in the map
p41297
aVThen add the value to the list
p41298
aVOr Use Guava's ListMultimap, which will do this for you
p41299
as(dp41300
g23
V571407
p41301
stp41302
a((dp41303
g2
(lp41304
VYou can't take any POJO and make it a controller
p41305
aVThe controller's job is get inputs from the browser, call services, prepare the model for the view, and return the view to dispatch to
p41306
aVIt's still a controller
p41307
aVInstead of configuring it through XML and method overrides, you configure it through annotations, that's all
p41308
aVThe code is very far from being free from any controller specific code
p41309
aVIt still uses ModelAndView, BindingResult, etc
p41310
as(dp41311
g23
V571407
p41312
stp41313
a((dp41314
g2
(lp41315
Vdoubles are only 64 bit long
p41316
aVThere are an infinity of real numbers
p41317
aVIt's thus impossible to represent exactly each real into a 64-bit double
p41318
aVSo using doubles will always lead to approximated results
p41319
aVIf you need absolute precision, use BigDecimal
p41320
as(dp41321
g23
V571407
p41322
stp41323
a((dp41324
g2
(lp41325
VUsing Spring, you're in fact embedding some kind of Java EE container inside your application
p41326
aVBut even when using Spring, if you need JTA support (because you need distributed XA transactions), you'll need to use an additional transaction manager
p41327
aVIf you need JMS, you'll need to install an additional JMS broker
p41328
aVIf you need connection pooling, you'll need to use an additional connection pool
p41329
aVSometimes it's as simple as adding additional jars to the classpath and properties or XML files
p41330
aVSometimes it's harder
p41331
aVA Java EE app server comes with everything bundled
p41332
aVYou have less flexibility, but you don't need to install, configure and make everything work by yourself
p41333
as(dp41334
g23
V571407
p41335
stp41336
a((dp41337
g2
(lp41338
VThe data is the data
p41339
aVIf it contains a quote, it contains a quote, and it has to be stored that way in the database
p41340
aVYou need to escape the quote when using this String a a JavaScript string literal
p41341
aVYou could use Apache commons-lang  method to do that, or you could encode your Java objects into JSON strings, and parse the JSON string in your JavaScript code
p41342
as(dp41343
g23
V571407
p41344
stp41345
a((dp41346
g2
(lp41347
VThe solution is simple: don't catch the exception
p41348
aVAs soon as an exception is thrown and is not caught, the whole process will stop
p41349
aVOr catch it but transform it into your own exception with the appropriate error message, and throw this exception
p41350
aVSide note: you should use a  and not a  to store a non-nullable boolean value
p41351
as(dp41352
g23
V571407
p41353
stp41354
a((dp41355
g2
(lp41356
VYour second solution makes sense, but could lead to a performance disaster, since it would load in memory all the addresses from USA, whereas you're only interested in their count and in a small range of these addresses
p41357
aVWhen you execute a query, the query returns a list, and this list is populated with all the results of the query
p41358
aVThat's why setFirstResult and setMaxResults are useful
p41359
aVIf you don't care about absolutely exact counts, you could execute the count query only once, and execute the "result" query for each page
p41360
as(dp41361
g23
V571407
p41362
stp41363
a((dp41364
g2
(lp41365
VWhen you execute , the  method is called on the byte array to transform it into a String, and append this String to the URL
p41366
aVThe  method of  return  followed by the hash code of the object
p41367
aVThat said, your code really makes no sense
p41368
aVYou have a String and want to append it to an URL
p41369
aVWhat's the point of transformiong the String to a byte array and then the byte array back into a String
p41370
aVWhat would make sense would be to use  to make sure all the special characters are correctly encoded and that the result of the encoding is safe to be appended as a query string parameter
p41371
as(dp41372
g23
V571407
p41373
stp41374
a((dp41375
g2
(lp41376
VI don't think Guava has anything specific to do this
p41377
aVBut it's just a matter of writing this comparator:
p41378
aVNow that I think about it, it can also be implemented this way:
p41379
aVwhich is probably more efficient
p41380
as(dp41381
g23
V571407
p41382
stp41383
a((dp41384
g2
(lp41385
VYou could use the implementation of IntegerInstantiation as an example
p41386
aVBut make sure not to forbid the usage of all the BigDecimal constructors
p41387
aVThere are only three  methods, and the ones taking a long as arguments are the only ones which should be preferred over calling a constructor
p41388
aVThe one taking a double just calls the constructor anyway, and constructing BigDecimal with double values should be discouraged anyway
p41389
as(dp41390
g23
V571407
p41391
stp41392
a((dp41393
g2
(lp41394
VPrint the content of your  variable, and you'll see that it's not valid:
p41395
aVyou don't need double quotes around column names
p41396
aVyou should have a space between each column name and its type
p41397
aVyou shouldn't have a semi-colon at the end of the query
p41398
aVMoreover, I think you should use  and not
p41399
as(dp41400
g23
V571407
p41401
stp41402
a((dp41403
g2
(lp41404
VThe owner side is the one without the mappedBy attribute
p41405
aVYou must initialize the owner side in order to tell JPA that the association exists
p41406
aVSince you have a cascade on corpus
p41407
aVhistories, when you persist the corpus, JPA will also persist the histories
p41408
as(dp41409
g23
V571407
p41410
stp41411
a((dp41412
g2
(lp41413
VIf you want the employee to be the owner of the association, just switch the annotations:
p41414
aVEmployee:
p41415
aVVehicle:
p41416
as(dp41417
g23
V571407
p41418
stp41419
a((dp41420
g2
(lp41421
VUsing 8 fields for a single value is really ugly, but anyway
p41422
aVHibernate use objects
p41423
aVAnd objects use encapsulation
p41424
aVProvide public  and  methods in your entity, and have those methods join/split the description from/to your 8, private, persistent fields:
p41425
as(dp41426
g23
V571407
p41427
stp41428
a((dp41429
g2
(lp41430
VThis isn't the proper way to do that
p41431
aVThe proper way is to use a java
p41432
aVsql
p41433
aVTimestamp, and use a prepared statement to insert your date:
p41434
aVThis will make your code portable, not tied to any locale or database
p41435
as(dp41436
g23
V571407
p41437
stp41438
a((dp41439
g2
(lp41440
VIf I understand correctly, you already have a company in database, with ID 7, and you try adding a CPDoc to this company
p41441
aVIn this case, it makes little sense to persist the company, since it already exists
p41442
aVAnd it also makes no sense to create a new company, since it already exists
p41443
aVYou should instead load the company from the database, and attach the company to the new CPDocs (and vice-versa):
p41444
as(dp41445
g23
V571407
p41446
stp41447
a((dp41448
g2
(lp41449
VNo idea for persistence and messaging, but for transactions, I can explain
p41450
aVI'll take the example of Spring
p41451
aVYou can configure your Spring beans (typically service layer beans) so that every method invoked on those beans will be intercepted by a transactional interceptor
p41452
aVThis interceptor typically does the following thing:
p41453
aVsee if a transaction is already bound to the current thread
p41454
aVif not, start a transaction and bind it to the current thread
p41455
aVinvoke the method
p41456
aVif the transaction was started by this method interception and no runtime exception was thrown by the method, commit the transaction
p41457
aVif the transaction was started by this method interception and a runtime exception was thrown by the method, rollback the transaction
p41458
aVunbind the transaction from the current thread
p41459
aVWith no transactional aspect the transactional methods would have to do something like this:
p41460
aVIt's cumbersome, error-prone, and doesn't even handle transaction propagation, new transactions, etc
p41461
aVWith AOP, the body of the method becomes:
p41462
as(dp41463
g23
V571407
p41464
stp41465
a((dp41466
g2
(lp41467
VYou have just created a query, but you haven't executed it:
p41468
aVNote that
p41469
aVyou should use named parameters instead of concatenating parameters
p41470
aVThis would prevent SQL injection attacks, or simply errors when the password or user name contains
p41471
aVin Hibernate, you typically do such simple operations with:
p41472
aV-
p41473
as(dp41474
g23
V571407
p41475
stp41476
a((dp41477
g2
(lp41478
VTry with
p41479
as(dp41480
g23
V571407
p41481
stp41482
a((dp41483
g2
(lp41484
VShould you use OneToOne or ManyToOne
p41485
aVUse the association which best described the situation
p41486
aVIf several DataContainers may have the same session, it's a ManyToOne
p41487
aVIf only one DataContainer may have a given session, then it's a OneToOne
p41488
aVNow if you delete the session, and a DataContainer still references it, of course you'll get an exception
p41489
aVThat's what FKs are for: it makes sure you can't have a DataContainer which references an unexisting session
p41490
aVSo, to delete the session, you should first update all the data containers referencing it
p41491
aVSince your association is unidirectional, you'll need a query to do this:
p41492
aVExecute this query, iterate through the results, and set the session to null
p41493
aVThen, delete the session
p41494
aVIf your association was bidirectional, you could simply do:
p41495
aVYou could also use an update query to do everything in a single query
p41496
aVBut be aware that these changes won't be made to already loaded DataContainers in the session:
p41497
as(dp41498
g23
V571407
p41499
stp41500
a((dp41501
g2
(lp41502
VThis is not a valid JPQL query, for several reasons:
p41503
aVis not supported by JPQL
p41504
aVUse  and  on the Query object
p41505
aVgiven the names used in your query (, ,
p41506
aV, it seems you're querying tables and columns instead of entities and fields
p41507
aVJPQL doesn't use table and column names
p41508
aVNever
p41509
aVAlways mapped entities and fields/properties
p41510
aV, AFAIK, doesn't exist in JPQL
p41511
aVa  clause without any aggregate function in the select clause (sum, count, avg, etc
p41512
aVdoesn't make sense
p41513
aVJPQL (or HQL) and SQL have similar constructs, but they aren't the same language
p41514
aVLearn about HQL in the reference documentation
p41515
as(dp41516
g23
V571407
p41517
stp41518
a((dp41519
g2
(lp41520
VYou misread the documentation
p41521
aVIt explicitely says:
p41522
aVTo get the Spring container to release resources held by
p41523
aVprototype-scoped beans, try using a custom bean post-processor, which
p41524
aVholds a reference to beans that need to be cleaned up
p41525
aVSo Spring does not hold any reference to the prototype beans it creates
p41526
aVIt's up to you to create a bean post-processor that would hold references to these beans if needed
p41527
aVMoreover, it's pretty rare for prototype beans to hold resources that must be cleaned up
p41528
aVFor example, a connection pool (which needs to be destroyed properly at shutdown) is typically a singleton bean
p41529
aVIt wouldn't make much sense to make it a prototype
p41530
aVSince prototype beans are often used for a small amount of time, the client creating it can explicitely release its resources when it doesn't use it anymore
p41531
aVJust like when you create a new stream or connection, and close it in a finally block
p41532
as(dp41533
g23
V571407
p41534
stp41535
a((dp41536
g2
(lp41537
VGet all the files from the directory (using directory
p41538
aVlistFiles()), and pass the resulting array to getJavaFileObject(File
p41539
as(dp41540
g23
V571407
p41541
stp41542
a((dp41543
g2
(lp41544
VFor your first problem, here's how I do:
p41545
aVFor your second problem, I simply select the text I want with ctrl-shift-left_or_right_arrow
p41546
aVFor your third problem, no idea
p41547
aVI don't remember having transformed a local variable into a field for a long long time
p41548
aVMaybe I just know beforehand which fields I'll need for a given class
p41549
as(dp41550
g23
V571407
p41551
stp41552
a((dp41553
g2
(lp41554
VYou're not supposed to keep a reference to a Graphics object and call  directly
p41555
aVYou're supposed to call , and wait for Swing to call the  method, that you should override to perform your custom paintings on the Graphics object that Swing passes as argument to the method
p41556
aVSee http://java
p41557
aVsun
p41558
aVcom/products/jfc/tsc/articles/painting/index
p41559
aVhtml for more information
p41560
as(dp41561
g23
V571407
p41562
stp41563
a((dp41564
g2
(lp41565
VAFAIK, given the dynamic and interpreted nature of EL, you don't need any cast
p41566
aVIf the property exists for the runtime object, it will find it, without caring about its declared type:
p41567
as(dp41568
g23
V571407
p41569
stp41570
a((dp41571
g2
(lp41572
VIt will still be alive
p41573
aVA running thread constitutes a root for the GC
p41574
aVAverything reachable from a chain of references starting from a root is not eligible to GC
p41575
aVThis means, BTW, that your panel won't be GCed either, since the thread holds an implicit reference to the panel ()
p41576
aVYou need to make sure to stop the thread when you don't want it running anymore
p41577
as(dp41578
g23
V571407
p41579
stp41580
a((dp41581
g2
(lp41582
s(dp41583
g23
V571407
p41584
stp41585
a((dp41586
g2
(lp41587
VIt would be much clearer to just return the connection from inside the try block:
p41588
aVEDIT : to answer your question about dead code:
p41589
aVjdbcConnection can NOT be null at this place, because if it was null, a NPE would have been thrown at the line
p41590
as(dp41591
g23
V571407
p41592
stp41593
a((dp41594
g2
(lp41595
VThis is answered by the javadoc of Object
p41596
aVhashCode():
p41597
aVAs much as is reasonably practical, the hashCode method defined by
p41598
aVclass Object does return distinct integers for distinct objects
p41599
aV(This
p41600
aVis typically implemented by converting the internal address of the
p41601
aVobject into an integer, but this implementation technique is not
p41602
aVrequired by the JavaTM programming language
p41603
aV(emphasis mine)
p41604
aVSo no, there is no additional field to store the hashCode (unless some class decides to override it and implement it by using a dedicated field)
p41605
aVAnd the hashCode is not used by the JVM, but by hash-based collections (Hashtable, HashMap, HashSet,
p41606
as(dp41607
g23
V571407
p41608
stp41609
a((dp41610
g2
(lp41611
VIt seems apache commons digester is missing in your dependencies, given the stacktrace
p41612
as(dp41613
g23
V571407
p41614
stp41615
a((dp41616
g2
(lp41617
VOf course it affects it
p41618
aVEvery operation comes with a cost
p41619
aVWriting to system out is IO, and comes with a non-negligible cost
p41620
aVTo know the exact effect on your program, there's no other solution than benchmarking: run the program with and without the println calls, and measure the time it takes for both versions, or use a profiler
p41621
aVYou should use a logging framework (like slf4j, log4j or java util logging), which would allow for various kinds of outputs (sysout, file, etc
p41622
aV, and which would also allow deactivating the output log by just changing some property in a config file
p41623
as(dp41624
g23
V571407
p41625
stp41626
a((dp41627
g2
(lp41628
VThe response time of a web app mainly depends on the network latency and on the IO (database requests, for example) in server-side code (and I'm ignoring the cost of rendering by the browser here, which is also non negligible, especially if images, scripts, etc
p41629
aVmust be loaded)
p41630
aVThe JSTL vs
p41631
aVscriptlet time difference is negligible, and you should favor clean code, best practices, maintainability and separation of concerns rather than trying to gain a few nanoseconds by using scriptlets
p41632
aVIf JSTL caused performance problems, they would have been noticed, and would have been fixed already (or nobody would use it and recommend it)
p41633
as(dp41634
g23
V571407
p41635
stp41636
a((dp41637
g2
(lp41638
V"detached entity passed to persist" means that you're trying to call  with an entity that is considered by Hibernate as already existing (because it already has an ID, or a non-zero @Version property)
p41639
aVpersist() is used to create a new entity
p41640
aVIf you want to update and existing entity,  must be used
p41641
as(dp41642
g23
V571407
p41643
stp41644
a((dp41645
g2
(lp41646
VUse objects, rather than trying to put unstructured data into collections
p41647
aVYour map should be a , with the Product objects containing the name, price, and other properties of your products
p41648
aVBTW, you were already told to do this in your previous question, and you even accepted the answer
p41649
as(dp41650
g23
V571407
p41651
stp41652
a((dp41653
g2
(lp41654
VIs it really so hard to read the javadoc of the method
p41655
aVReturns true if and only if the current thread holds the monitor lock
p41656
aVon the specified object
p41657
aV(emphasis mine)
p41658
aVSo, the assert checks that the current thread does not hold the monitor lock of the given lock object
p41659
aVNote that asserts are used to check invariants, and can be disabled
p41660
aVThey should not be used to prevent deadlock
p41661
aVA regular  test should be used to do that
p41662
as(dp41663
g23
V571407
p41664
stp41665
a((dp41666
g2
(lp41667
VYou may also use a with clause, which would be necessary in case of a left join:
p41668
aVSide note: your choices of names are awful
p41669
aVInstead of , Why not use
p41670
aVInstead of , why not choose
p41671
as(dp41672
g23
V571407
p41673
stp41674
a((dp41675
g2
(lp41676
VThe owning side is the side that JPA considers to know is the association exists or not
p41677
aVSuppose you go with your first example
p41678
aVThe owning side is the side where there is no mappedBy attribute
p41679
aVThe owning side is thus A, and not B
p41680
aVThis means that if you have an A and a B in database, and you do
p41681
aVJPA will save the association (i
p41682
ag468
aVit will store the ID of B in the join column of table A)
p41683
aVBut if you do
p41684
aVnothing will be changed in database, because you modified the inverse side and forgot to modify the owning side
p41685
as(dp41686
g23
V571407
p41687
stp41688
a((dp41689
g2
(lp41690
VAFAIK, Spring doesn't use the transactional proxies around your beans to call the PostConstruct methods (which BTW, are not part of the external interface of the bean most of the time)
p41691
aVTry calling the  method of  from another bean (where MyBean is injected), or even from a
p41692
as(dp41693
g23
V571407
p41694
stp41695
a((dp41696
g2
(lp41697
VYou need a column in the "property" table to hold the ID of the User it references
p41698
aVSince you didn't specify any column in your mapping, Hibernate uses the default column name, which is owner_id (the name of the property followed by the name of the column it references)
p41699
aVIf you want to use another column name, you have to tell Hibernate: it can't guess it magically:
p41700
as(dp41701
g23
V571407
p41702
stp41703
a((dp41704
g2
(lp41705
VI would make things simple, and simply have one mapped collection of DocumentUser
p41706
aVGetting the writers would just return a filtered collection
p41707
aVDitto for getting the readers which are not writers:
p41708
aVThis has the advantage of being very close to the reality of the database design
p41709
aVIt doesn't need any implementation-specific trick
p41710
aVAnd it allows transforming a reader into a writer by just doing , without needing to remove the user from a list and adding it to the other
p41711
aVAn inheritance-based solution would have been appropriate if the type of the DocumentUser was known from the beginning, and would never change
p41712
as(dp41713
g23
V571407
p41714
stp41715
a((dp41716
g2
(lp41717
VChanges made to entities are made in memory, and are only written to the database at flush time (typically, at the end of the transaction)
p41718
aVAnd even if a fluch is made before the end of the transaction, or if you flush after each process state update, other concurrent transactions have a good chance of not seeing the new state, because transactions are isolated from each other, and the default isolation level is, most of the time, READ_COMMITTED (which means other transactions only see the changes once they are committed)
p41719
aVIf you want to make the process state definitely written to the database, you need to write this state in a separate transaction
p41720
as(dp41721
g23
V571407
p41722
stp41723
a((dp41724
g2
(lp41725
VYou have not understood what AOP is all about
p41726
aVThe idea of AOP is to be able to write
p41727
aVinstead of writing
p41728
aVAll the cross-cutting concerns (logging, security, transaction management) are outside of the business code, instead of being mixed with the business code, and repeated ad nauseam
p41729
as(dp41730
g23
V571407
p41731
stp41732
a((dp41733
g2
(lp41734
VI have not analyzed how abc
p41735
aVcom's registration work, but I would bet that it uses either some hidden field (for which I see no parameter in your code), or a cookie to remember which captcha was displayed to the user, and thus verify if the captcha value sent by the browser is the right value
p41736
aVSince you don't send the hidden field value, and since you're using a fresh new HttpClient instance, you're sending a captcha value to the server, but it has no way to know for which captcha you're sending this value, and so can't verify it
p41737
aVTry reusing the same instance of HttpClient than the one used to get the registration page from the server
p41738
aVThis way, cookies stored in the HttpClient's state will be sent back to the server
p41739
as(dp41740
g23
V571407
p41741
stp41742
a((dp41743
g2
(lp41744
VYou should just have to put the joda-time jar file inside the WEB-INF/lib folder of your project
p41745
aVThis folder contains all the libraries that must be delivered with your application, and are automatically added to the build path of your project by Eclipse
p41746
as(dp41747
g23
V571407
p41748
stp41749
a((dp41750
g2
(lp41751
VYou would use the queryForList() method taking arguments as argument, for example:
p41752
aVLearn to read API documentation (and documentation in general)
p41753
aVThat's how you learn
p41754
as(dp41755
g23
V571407
p41756
stp41757
a((dp41758
g2
(lp41759
VThis is a FAQ
p41760
aVYou can put  on the line triggering the warning
p41761
aVI prefer using the FindBugs mechanism though, which consists in adding the @SuppressWarnings annotation:
p41762
as(dp41763
g23
V571407
p41764
stp41765
a((dp41766
g2
(lp41767
VRead your code:
p41768
aVYou're using the table variable (in ) before it's even declared
p41769
aVThe  method takes a String as argument
p41770
aVYou need
p41771
aVwith double quotes, which will select all the table elements
p41772
aVThe next line has the same problem:
p41773
aVshould be
p41774
as(dp41775
g23
V571407
p41776
stp41777
a((dp41778
g2
(lp41779
Vfor Unix
p41780
aVfor Windows
p41781
aVSee http://docs
p41782
aVoracle
p41783
aVcom/javase/1
p41784
aV3/docs/tooldocs/solaris/classpath
p41785
aVhtml or http://docs
p41786
aVoracle
p41787
aVcom/javase/1
p41788
aV3/docs/tooldocs/win32/classpath
p41789
aVhtml for more explanations
p41790
as(dp41791
g23
V571407
p41792
stp41793
a((dp41794
g2
(lp41795
VNo, I'm sure that's not what you want
p41796
aVIf you restart an application, it's probably that you want to test some changes you've just made in the code
p41797
aVSo Eclipse needs to start a new instance of your application
p41798
aVYou could also want to start two instances of an app because they need to talk to each other
p41799
aVIf you want previously launched applications to stop, then stop them
p41800
aVYour app seems to be a GUI app
p41801
aVUse the close button on the main frame of the app to close it
p41802
aVAs simple as that
p41803
aVIt's often not desired to kill an application, because it might need to properly close resources, or tell the server it's leaving before exiting, or whatever
p41804
aVHaving Eclipse kill apps without a conscious request from the user would not be wise
p41805
as(dp41806
g23
V571407
p41807
stp41808
a((dp41809
g2
(lp41810
VYou're using an extended persistence context ()
p41811
aVThis is what the spec says about them:
p41812
aVA container-managed extended persistence context can only be initiated
p41813
aVwithin the scope of a stateful session bean
p41814
aVIt exists from the point
p41815
aVat which the stateful session bean that declares a dependency on an
p41816
aVentity manager of type PersistenceContextType
p41817
aVEXTENDED is created, and
p41818
aVis said to be bound to the stateful session bean
p41819
aVThe dependency on
p41820
aVthe extended persistence context is declared by means of the
p41821
aVPersistenceContext annotation or persistence-context-ref deployment
p41822
aVdescriptor element
p41823
aVThe persistence context is closed by the container
p41824
aVwhen the @Remove method of the stateful session bean completes (or the
p41825
aVstateful session bean instance is otherwise destroyed)
p41826
aVSo, the first-level cache of this persistence context is kept alive for the life-time of your stateful session bean
p41827
aVI see no reason to use an extended persistence context in this case
p41828
aVUse a stateless session bean, and a normal persistence context, and the user will be reloaded from the DB instead of being reloaded from the first-level cache of the persistence context
p41829
as(dp41830
g23
V571407
p41831
stp41832
a((dp41833
g2
(lp41834
VYou're comparing the message with the empty string using
p41835
aVFirst, your comparison is wrong because the message will be null (and not the empty string)
p41836
aVSecond, it's wrong because Objects must be compared with  and not with
p41837
aVThird, it's wrong because you should avoid scriptlets in JSP, and use the JSP EL, the JSTL, and other custom tags instead:
p41838
as(dp41839
g23
V571407
p41840
stp41841
a((dp41842
g2
(lp41843
VNo, you can't change the locale of a bundle
p41844
aVBut you can reload the same bundle base name using another locale:
p41845
as(dp41846
g23
V571407
p41847
stp41848
a((dp41849
g2
(lp41850
VThe would mutually exclude each other if they referred to the same property
p41851
aVSince their property is different, they can both be selected at the same time
p41852
aVThe point of mutually exclusive radio buttons is to choose among several values, and set a single property
p41853
aVThe code should look like this:
p41854
as(dp41855
g23
V571407
p41856
stp41857
a((dp41858
g2
(lp41859
VIf you store the same UserVO object in both, then of course changing some field in one will change the field in the other
p41860
aVIf you want two distinct objects, then create two distinct objects
p41861
aVIf one is a copy of the other, the best way is to use a copy constructor:
p41862
as(dp41863
g23
V571407
p41864
stp41865
a((dp41866
g2
(lp41867
VA ConcurrentModificationException, most of the time, is not caused by concurrent threads
p41868
aVIt's caused by the modification of the collection while it's being iterated:
p41869
aVThe above code would cause a ConcurrentModificationException if someCondition is true
p41870
aVWhile iterating, the collection can only be modified through the iterator's methods:
p41871
aVI suspect that this is what happens in your real code
p41872
aVThe posted code is fine
p41873
as(dp41874
g23
V571407
p41875
stp41876
a((dp41877
g2
(lp41878
VThe query won't return columns with such names
p41879
aVIt will just use the simple names of the columns (, , etc
p41880
aVExecute the query inside your database query tool, and you'll see which names are assigned to the retrieved columns
p41881
aVYou should never do a , and always select specific columns
p41882
aVAnd you should assign aliases to columns if two columns have the same name:
p41883
aVAnd, then, you can safely use
p41884
aVAlso, the exception thrown contains a message, which should help you identify the problem
p41885
aVRead it
p41886
aVAnd if you don't understand it, post it
p41887
as(dp41888
g23
V571407
p41889
stp41890
a((dp41891
g2
(lp41892
VThe problem is discussed in the hibernate documentation, in the section about optimistic concurrency control
p41893
aVYou can use a session which stays open for the duration of a whole conversation (without keeping a database connection open, of course)
p41894
aVI think this is the strategy adopted by JBoss Seam, although I've never used it (nor did I use this session-per-conversation strategy)
p41895
aVIf you want to keep it simple, storing the version field in a hidden field or in a session attribute is indeed the only solution I see
p41896
as(dp41897
g23
V571407
p41898
stp41899
a((dp41900
g2
(lp41901
VThis is really well described in the Hibernate documentation:
p41902
aVNotice how property-ref is used, to indicate that the one-to-one is the inverse side of the association mapped by the address property
p41903
as(dp41904
g23
V571407
p41905
stp41906
a((dp41907
g2
(lp41908
VThe directory or jar containing your classes package tree (i
p41909
ag468
aVthe directory containing the com directory, in the following example) must be in the classpath
p41910
aVAnd the sqljdbc4
p41911
aVjar must also be
p41912
aVPut both in the classpath:
p41913
aVAlso note that you need to use the fully qualified name of the main class (as the above example shows), and that class names in Java use CamelCase by convention
p41914
as(dp41915
g23
V571407
p41916
stp41917
a((dp41918
g2
(lp41919
VThe natural object mapping for your file would be a list of  objects, each containing a list of  objects
p41920
aVThe  array should be stored inside the student object
p41921
as(dp41922
g23
V571407
p41923
stp41924
a((dp41925
g2
(lp41926
VYou're calling  twice, instead of once:
p41927
aVUse this instead:
p41928
aVor
p41929
as(dp41930
g23
V571407
p41931
stp41932
a((dp41933
g2
(lp41934
VOne reason is that it would be hard to know which of the entities would be the cause of the exception potentially thrown by persist()
p41935
aVAnother reason is that there is no need to clutter the API with shortcut methods that could be trivially implemented by the user of the API
p41936
as(dp41937
g23
V571407
p41938
stp41939
a((dp41940
g2
(lp41941
VThere are two main advantages:
p41942
aVBeing able to navigate between persistent objects:
p41943
aVBeing able to use joins in HQL (or Criteria) queries:
p41944
aVIn fact, I would say associations is what makes an ORM an ORM
p41945
aVWithout them you would only get basic objects, not linked to any other objects, and using JDBC would be enough
p41946
as(dp41947
g23
V571407
p41948
stp41949
a((dp41950
g2
(lp41951
VTry using the IDs:
p41952
aVAlso, you shouldn't cast the result to , but to
p41953
as(dp41954
g23
V571407
p41955
stp41956
a((dp41957
g2
(lp41958
VFirst of all, try to avoid saying "it doesn't work"
p41959
aVTell how it doesn't work
p41960
aVTell what happens
p41961
aVTell the error message you get
p41962
aVSecond, you seem to have not grasped basic OO concepts such as objects and static methods, and dealing with very complex stuff such as socket IO and multiple threads is too early
p41963
aVNow to your problem: you're trying to pass  as a method argument
p41964
aVrepresents the object on which the current method is called
p41965
aVBut the method where you're trying to do that is a static method, so it doesn't have any enclosing object
p41966
aVThe code of the main method should probably look like that:
p41967
aVWhere the  method contains what your main method currently contains
p41968
aVRead http://docs
p41969
aVoracle
p41970
aVcom/javase/tutorial/java/javaOO/classvars
p41971
aVhtml for more information about static class members
p41972
as(dp41973
g23
V571407
p41974
stp41975
a((dp41976
g2
(lp41977
VHibernate needs a unique, immutable ID for each entity
p41978
aVWhereas this ID is declared as primary key or not in the database table mapped by this entity doesn't matter
p41979
aVBut I don't see what you would gain by not declaring it as a primary key
p41980
as(dp41981
g23
V571407
p41982
stp41983
a((dp41984
g2
(lp41985
VThe single quote must be escaped using a double single quote:
p41986
as(dp41987
g23
V571407
p41988
stp41989
a((dp41990
g2
(lp41991
VThe only way is to concatenate the appropriate field
p41992
aVIf you don't like it, use the Criteria API, which is designed to generate queries dynamically
p41993
as(dp41994
g23
V571407
p41995
stp41996
a((dp41997
g2
(lp41998
VYou shouldn't change the background color inside the  method
p41999
aVYou shouldn't even have a  method
p42000
aVAnd you also shouldn't have to call
p42001
aVYour  method should be the one that changes the background:
p42002
aVFinally, the  and  methods override methods from JComponent
p42003
aVChoose another name for these methods
p42004
as(dp42005
g23
V571407
p42006
stp42007
a((dp42008
g2
(lp42009
VThere is no way to do that, even with the native Hibernate API
p42010
aVIf an association is defined as EAGER, it will always be eagerly loaded, and there's no way to change that using a query
p42011
aVThe reverse is not true: you can eagerly-load a lazy association using a query
p42012
as(dp42013
g23
V571407
p42014
stp42015
a((dp42016
g2
(lp42017
VNo, it's not necessarily the right approach
p42018
aVSQL is not the query language of choice when using Hibernate
p42019
aVHQL should be preferred when possible
p42020
aVAnd Hibernate also has the Criteria API which has been designed precisely to build dynamic queries
p42021
as(dp42022
g23
V571407
p42023
stp42024
a((dp42025
g2
(lp42026
VserialVersionUID is a special static variable used by the serialization and deserialization process, to verify that a local class is compatible with the class used to serialize an object
p42027
aVIt's not just a static variable as others, which are definitely not serialized
p42028
aVWhen an object of a class is serialized, the class name and serial version UID are written to the stream of bytes
p42029
aVWhen it's deserialized, the JVM checks if the serial version UID read from the stream of bytes is the same as the one of the local class
p42030
aVIf they're not, it doesn't even try to deserialize the object, because it knows the classes are incompatible
p42031
as(dp42032
g23
V571407
p42033
stp42034
a((dp42035
g2
(lp42036
VYou're not supposed to use scriptlet expressions inside JSTL tag attributes
p42037
aVYou should use the JSP EL instead:
p42038
aVRead http://stackoverflow
p42039
aVcom/tags/jsp/info for information and links about the JSTL and the EL
p42040
as(dp42041
g23
V571407
p42042
stp42043
a((dp42044
g2
(lp42045
VGuava has a Splitter which is more flexible that the  method, and doesn't (necessarily) use a regex
p42046
aVOTOH,  has been optimized in Java 7 to avoid the regex machinery if the separator is a single char
p42047
aVSo the performance should be similar in Java 7
p42048
as(dp42049
g23
V571407
p42050
stp42051
a((dp42052
g2
(lp42053
VYes, it's possible
p42054
aVThe HQL query will be nearly identical to the SQL query
p42055
aVNote that your SQL is invalid, though
p42056
aVThere is even an example of such a query in the Hibernate documentation about subqueries
p42057
as(dp42058
g23
V571407
p42059
stp42060
a((dp42061
g2
(lp42062
V is an object of type Project that refers to the current project
p42063
aVSee the groovydoc of this variable for more details
p42064
as(dp42065
g23
V571407
p42066
stp42067
a((dp42068
g2
(lp42069
VYou can do everything you describe in your question, but the second option is not what I would do
p42070
aVIf you need to navigate from element1 to its list of element2, having the OneToMany association is the batural and obvious thing to do
p42071
aVNote that the association can be bidirectional: you can choose to navigate from parent to children, and from child to parent at the same time
p42072
aVI would go with your first solution: a method that just returns element1, and another method which returns element1 with its children
p42073
aVI would choose more meaningful names for the methods, though
p42074
as(dp42075
g23
V571407
p42076
stp42077
a((dp42078
g2
(lp42079
VThe JPA spec (see paragraph 7
p42080
ag194
aV4) has explicit examples showing the use of  to begin and commit the transaction
p42081
aVSo your code should be fine
p42082
aVYour test shows that you get two different objects, but that doesn't mean the same transaction is not used
p42083
aVMaybe the returned object is just some proxy to a single, real, transaction object
p42084
aVOr maybe the transaction is committed or rollbacked inside the code hidden under
p42085
as(dp42086
g23
V571407
p42087
stp42088
a((dp42089
g2
(lp42090
VNo, it's not possible
p42091
aVOnly types are accepted in generic types
p42092
aVAnd annotations don't define types
p42093
as(dp42094
g23
V571407
p42095
stp42096
a((dp42097
g2
(lp42098
VTo be able to lazy-load the  association, Hibernate sets the  field in  to a proxy
p42099
aVThe proxy is an instance of a class that extends B, but is not B
p42100
aVSo, your equals() method will always fail when comparing a non-proxy B instance to a proxy B instance, because it compares the classes of both objects:
p42101
aVIn the case of Hibernate entities, you should replace this with
p42102
aVAlso, note that
p42103
aVHibernate recommends not implementing  and  by using the ID, but rather by using a natural identifier
p42104
aVImplementing it with IDs can cause problems because entities don't have an ID until they're saved and the ID is generated
p42105
aVWhen using entity inheritance, the problem is even worse
p42106
aVSuppose B is a superclass of two sub-entities B1 and B2
p42107
aVHiberante can't know which type (B1 or B2) is  before loading it
p42108
aVSo  will be initialized to a proxy which is a subclass of B, but is not a subclass of B1 or B2
p42109
aVSo the  and  methods should be implemented in B, but not be overridden in B1 and B2
p42110
aVTwo B instances should be considered equal if they're instances of B, and have the same identifier
p42111
as(dp42112
g23
V571407
p42113
stp42114
a((dp42115
g2
(lp42116
VI'm not sure if that's what you want, butI think it could just be
p42117
aVdoesn't make much sense to me
p42118
as(dp42119
g23
V571407
p42120
stp42121
a((dp42122
g2
(lp42123
VYou need to understand how HTTP and HTML work:
p42124
aVThe browser asks for an HTML page (first request)
p42125
aVThe server sends back HTML (and HTML only), containing 3  tags
p42126
aVThe browser sends a request to get the bytes of the first image (second request)
p42127
aVThe server sends back the bytes of the first image
p42128
aVThe browser sends a request to get the bytes of the second image (third request)
p42129
aVThe server sends back the bytes of the second image
p42130
aVThe browser sends a request to get the bytes of the third image (fourth request)
p42131
aVThe server sends back the bytes of the third image
p42132
aVSo, you need a servlet or JSP which generates the HTML page, containing all your  tags
p42133
aVEach of this tag should have the following form:
p42134
aVAnd you need a second servlet, mapped to , which reads the bytes of the image identified by the  parameter value from the file system, and write those bytes to the response output stream
p42135
as(dp42136
g23
V571407
p42137
stp42138
a((dp42139
g2
(lp42140
VRead its javadoc
p42141
aVIt's there only to explain what  must return if you choose to override it in a class implementing Comparator
p42142
aVYou might think that no comparator can be equal to any other, but it's not the case
p42143
aVYou might think that two comparators are equal if they return the same thing for any arguments, but it's not the case
p42144
aVThe javadoc explains that two comparators are equal if they impose the same ordering, whatever the arguments given
p42145
aVThe javadoc also says:
p42146
aVNote that it is always safe not to override Object
p42147
aVequals(Object)
p42148
aVMost of the time, you don't override  in comparators
p42149
as(dp42150
g23
V571407
p42151
stp42152
a((dp42153
g2
(lp42154
VYou're selecting all the users from the database
p42155
aVDon't ever do this
p42156
aVInstead, select the user which has the given login
p42157
aVIf it exists, check the password
p42158
aVIf it doesn't exist, then the login itself is incorrect
p42159
aVAlso:
p42160
aVseparate database access code from UI code
p42161
aVThose should be in separate classes
p42162
aVdon't store plain text password in a database
p42163
aVSalt them, hash them, and to check a password, salt the password, hash it, and compare it to the salted-and-hashed password stored in the database
p42164
as(dp42165
g23
V571407
p42166
stp42167
a((dp42168
g2
(lp42169
VStraight from the documentation of the zip task:
p42170
aVThe update parameter controls what happens if the ZIP file already
p42171
aVexists
p42172
aVWhen set to yes, the ZIP file is updated with the files
p42173
aVspecified
p42174
aV(New files are added; old files are replaced with the new
p42175
aVversions
p42176
as(dp42177
g23
V571407
p42178
stp42179
a((dp42180
g2
(lp42181
VOK
p42182
aVYou seem to be completely lost, so here's how I would do it:
p42183
aVNote that I don't really see the point of this map
p42184
aVIf you have the list of parents, each containing its children, the map shouldn't be necessary
p42185
as(dp42186
g23
V571407
p42187
stp42188
a((dp42189
g2
(lp42190
VThe first one declares a List, and initializes it with a new LinkedList concrete implementation of the List interface
p42191
aVThe rest of the code doesn't care about the concrete implementation
p42192
aVThe only thing that matters is that it's a List
p42193
aVIf you realize later that an ArrayList is more efficient, you just have to change the initialization
p42194
aVThe second one declares a LinkedList, and initializes it with a new LinkedList
p42195
aVThe rest of the code knows that it's a LinkedList, and can use methods from LinkedList that are not in List
p42196
aVIf you realize later that an ArrayList is more efficient, you might have to change the rest of the code
p42197
aVThe first one should generally preferred: use the most general type as possible, and code to interfaces rather than implementation
p42198
aVAlso, you should never use raw types, but always generic types:
p42199
as(dp42200
g23
V571407
p42201
stp42202
a((dp42203
g2
(lp42204
Vwith
p42205
aVand
p42206
aVOr you could extract this code to a JSP tag or an EL function:
p42207
as(dp42208
g23
V571407
p42209
stp42210
a((dp42211
g2
(lp42212
VYes, you can build a JRDataSource from a table model using JRTableModelDataSource
p42213
aVThe names of the fields are the names of the columns returned by
p42214
aVYou may also use  as field name
p42215
as(dp42216
g23
V571407
p42217
stp42218
a((dp42219
g2
(lp42220
VExtract the code of the  method into another method without argument, and call this method instead:
p42221
as(dp42222
g23
V571407
p42223
stp42224
a((dp42225
g2
(lp42226
VClosing the browser will force the user to login again when coming back to the webapp
p42227
aVBut that doesn't mean its session is automatically closed at server-side
p42228
aVIt means that the session cookie will be forgotten by the browser
p42229
aVThere is no way around it
p42230
aVYou can't control what happens at client-side
p42231
aVThat's why the sessions have a timeout
p42232
as(dp42233
g23
V571407
p42234
stp42235
a((dp42236
g2
(lp42237
VMethods are transactional when they're called from the outside of the bean, using an injected instance of the bean, which is in reality a transactional proxy around the actual bean instance
p42238
aVSpring calls the initialize method directly on the bean instance, not on the transactional proxy, so the methods are not called in a transaction
p42239
aVPut an initialize method in another bean, which will use an injected MyServiceBean and call its  method
p42240
as(dp42241
g23
V571407
p42242
stp42243
a((dp42244
g2
(lp42245
VFirst of all, the above page doesn't even use the JSTL
p42246
aVIt uses the JSP EL
p42247
aVAnd I assume you expect to see  printed, but that won't happen, because the JSP EL doesn't print values of local variables
p42248
aVIt prints the value of attributes
p42249
aVChange your code to
p42250
aVor, better, to
p42251
aVand you'll see the expected output
p42252
as(dp42253
g23
V571407
p42254
stp42255
a((dp42256
g2
(lp42257
VThe specifications (paragraph 12
p42258
aV2) says the following:
p42259
aVIn the Web application deployment descriptor, the following syntax is
p42260
aVused to define mappings:
p42261
aVA string beginning with a \u2018/\u2019 character and
p42262
aVending with a \u2018/*\u2019 suffix is used for path mapping
p42263
aVA string
p42264
aVbeginning with a \u2018*
p42265
aV\u2019 prefix is used as an extension mapping
p42266
aVThe
p42267
aVempty string ("") is a special URL pattern that exactly maps to the
p42268
aVapplication's context root, i
p42269
ag468
aV, requests of the form
p42270
aVIn this case the path info is \u2019/\u2019 and
p42271
aVthe servlet path and context path is empty string (\u201c\u201c)
p42272
aVA string
p42273
aVcontaining only the \u2019/\u2019 character indicates the "default" servlet of
p42274
aVthe application
p42275
aVIn this case the servlet path is the request URI
p42276
aVminus the context path and the path info is null
p42277
aVAll other strings
p42278
aVare used for exact matches only
p42279
aVSo the  is taken literally, unless the pattern ends with  or starts with
p42280
as(dp42281
g23
V571407
p42282
stp42283
a((dp42284
g2
(lp42285
VYour query is invalid
p42286
aVYou can't join between two entities if there is no association between those entities
p42287
aVSo, either you have such an association, and the query should be:
p42288
aVor (if the association is on the other side):
p42289
aVOr you don't have such an association (but you should have it), and the query should be:
p42290
as(dp42291
g23
V571407
p42292
stp42293
a((dp42294
g2
(lp42295
s(dp42296
g23
V571407
p42297
stp42298
a((dp42299
g2
(lp42300
VThe  keyword transforms an instance variable into a static variable
p42301
aVA side-effect is that the field is not serialized anymore
p42302
aVbecause it's not a field anymore
p42303
aVA static variable is a variable of the class
p42304
aVAn instance variable is a variable of the object, or instance of the class
p42305
aVYou can't blindly go from one to the other
p42306
aVRead the tutorial page about instance and static variables
p42307
aVThe  keyword is the right keyword to use, of course
p42308
as(dp42309
g23
V571407
p42310
stp42311
a((dp42312
g2
(lp42313
VYou mapped two different fields on the same  column:
p42314
aVRemove the school_ID field
p42315
aVYou don't need it, since you already have an association to the School entity
p42316
aVAnd also remove  from the association mapping
p42317
aVYou should use the  field to create, update or remove the association
p42318
as(dp42319
g23
V571407
p42320
stp42321
a((dp42322
g2
(lp42323
VHave you tried calling  on the CriteriaQuery
p42324
aVThe JPA 2 specification, page 161, says:
p42325
aVThe DISTINCT keyword is used to specify that duplicate values must be
p42326
aVeliminated from the query result
p42327
aVIf DISTINCT is not specified, duplicate values are not eliminated
p42328
aVThe javadoc also says:
p42329
aVSpecify whether duplicate query results will be eliminated
p42330
aVA true
p42331
aVvalue will cause duplicates to be eliminated
p42332
aVA false value will cause
p42333
aVduplicates to be retained
p42334
aVIf distinct has not been specified,
p42335
aVduplicate results must be retained
p42336
aVThe reason why you don't need the distinct when the association is eagerly loaded is probably just that the association is not loaded using a fetch join, but using an additional query
p42337
as(dp42338
g23
V571407
p42339
stp42340
a((dp42341
g2
(lp42342
VYour first objection also applies to composition: if the implementation of a method that you call changes, there's no guarantee that your code won't break
p42343
aVThe second objection is actually a good thing, since you'll immediately notice there is a problem with the new version of the API
p42344
aVThe problem doesn't have much to do with inheritance/composition
p42345
aVIf the public contract of a class changes from version to version, you'll have to make changes in your code to accomodate these changes
p42346
aVThe problem is solved by avoiding changes that would be backward-incompatible
p42347
aVProviding a new API can be the solution (See io, followed by nio, followed by nio2, for example)
p42348
aVOtherwise, release notes and migration documentation are there to help transitioning from one version of an API to another
p42349
aVInheritance is used when there is a is-a relationship between your class and the other class
p42350
aVComposition is used when there is a has-a relationship between your class and the other class
p42351
as(dp42352
g23
V571407
p42353
stp42354
a((dp42355
g2
(lp42356
VI would say it's a really bad idea
p42357
aVIf I use an interface which documents that it throws an IllegalArgumentException for some condition, I expect to get an IllegalArgumentException if this condition is met, and not some application-specific exception
p42358
aVIf it has a bug and it throws a NullPointerException, I prefer getting a NullPointerException identifying the problem directly, rather than having it encloses in some application-specific exception which doesn't tell what and where the problem is
p42359
aVNow, if your class is not an interceptor in the AOP sense, but a wrapper around another object or API (like spring-jdbc is a wrapper around JDBC for example) and if it only transforms checked exceptions into application-specific exceptions in a meaningful way, I wouldn't see any problem with that
p42360
as(dp42361
g23
V571407
p42362
stp42363
a((dp42364
g2
(lp42365
VIt's impossible
p42366
aVInheritance implies a is-a relationship
p42367
aVYour entity instances can thus be either a bare , or an
p42368
aVAnd a Java object can't change its type
p42369
aVYou can't take an object of type Object, and ask the JVM to change its type and make it an object of type String instead
p42370
aVIt's the same here
p42371
aVIf you need to do that, then you should use composition, not inheritance: an Address can have an Addr1
p42372
aVAnd you should thus have a OneToOne association beteween Address and Addr1, instead of an inheritance relationship
p42373
as(dp42374
g23
V571407
p42375
stp42376
a((dp42377
g2
(lp42378
VBecause you have configured a cascade for MERGE, but not for SAVE_UPDATE
p42379
aVUse the Cascade annotation to add a cascade for SAVE_UPDATE
p42380
as(dp42381
g23
V571407
p42382
stp42383
a((dp42384
g2
(lp42385
VYes, they must be declared before other fields of the enum class
p42386
aVYes, they can have more than one constructor
p42387
aVYou could have discovered by trying it yourself
p42388
as(dp42389
g23
V571407
p42390
stp42391
a((dp42392
g2
(lp42393
VIn addition to Hovercraft's answer, you should note that you're not forced to use anonymous classes for your listeners
p42394
aVThe code of Hovercraft's answer is similar to the following one:
p42395
as(dp42396
g23
V571407
p42397
stp42398
a((dp42399
g2
(lp42400
VYou're trying to read from the result set before going to its first row:
p42401
aVYour code is full of bad practices:
p42402
aVmixing UI code with database access code
p42403
aVcatching Exception
p42404
aVselecting a whole lot of rows and columns when you're only interested by one of them
p42405
aVnot using prepared statements
p42406
aVusing both  and  for the same thing
p42407
aVnot closing statements and result sets
p42408
aVusing String variables to store dates
p42409
aVpoor and inconsistent indentation
p42410
as(dp42411
g23
V571407
p42412
stp42413
a((dp42414
g2
(lp42415
VI'm not sure if I understand your question correctly, but if your query retrieves entities with toMany associations join-fetched, then pagination won't work as expected
p42416
aVIndeed, suppose you have 4 A entities, each with 3 B entities, and suppose your query retrieves all the A entities with their Bs
p42417
aVIn that case, the SQL query will return 12 rows
p42418
aVIf you use setMaxResults(7), it will retrieve (for example) three rows for A1 and its Bs, three rows for A2 and its Bs, and just 1 row for A3 and its first B
p42419
aVAnd since you have used DISTINCT_ROOT_ENTITY, the criteria query will return only three entities: A1, A2, and A3 (which will have an incomplete set of Bs)
p42420
as(dp42421
g23
V571407
p42422
stp42423
a((dp42424
g2
(lp42425
VThis question is asked every two days
p42426
aVYou just initialized one side of the association, and you chose the one that Hibernate ignores
p42427
aVA bidirectional association has an owner side, and an inverse side
p42428
aVHibernate only considers the owner side
p42429
aVAnd the owner side is the one which doesn't have the  attribute
p42430
aVSo you need to initialize the other side of the association:
p42431
as(dp42432
g23
V571407
p42433
stp42434
a((dp42435
g2
(lp42436
VThe inner classes should be made static if they're created from static methods, and thus don't need access to an enclosing ITask
p42437
aVYou should also respect Java naming conventions: methods start with a lower-case letter
p42438
as(dp42439
g23
V571407
p42440
stp42441
a((dp42442
g2
(lp42443
Vor
p42444
aVThe above supposes that the birth date is stored as a date in database, and not as a timestamp
p42445
aVIf the birth date in database is a timestamp, and thus has a time portion, the portable way of doing that is:
p42446
as(dp42447
g23
V571407
p42448
stp42449
a((dp42450
g2
(lp42451
VIf you're asking how to write an Album to an output stream rather than write it to a file, then the answer is simple: JAXB
p42452
aVmarshal(Object, OutputStream)
p42453
aVIf you're asking how to transform an Album into an XML string, then the answer is also simple: JAXB
p42454
aVmarshal(Object, String)
p42455
aVIf you're asking something else, please clarify your question
p42456
as(dp42457
g23
V571407
p42458
stp42459
a((dp42460
g2
(lp42461
VThe OrderBy clause is only used when Hibernate selected entities from the database
p42462
aVOnce the list is in memory, it works as any other list in Java
p42463
aVIf you add something to the list, the  method works like it's documented in its javadoc, and the element is added at the end of the list
p42464
aVIf you want the new item to be inserted at the appropriate index in the list, you'll have to find this index yourself, or add it to the list and sort the list, using a Comparator which orders the items based on their arrival date, arrival time, etc
p42465
aVAnd of course, be aware that if you change one of those fields in an item that is already in the list, the list won't have the rigth order anymore
p42466
aVMaybe you should avoid the @OrderBy annotation completely, and simply add a  method in your entity, that would return a sorted copy of the list of items
p42467
as(dp42468
g23
V571407
p42469
stp42470
a((dp42471
g2
(lp42472
VThe problem is that you use the same column to map two different associations
p42473
aVAFAIK, this is not supported
p42474
aVAnd it's actually a good thing, because it's much cleaner to use two separate columns to refer to different things
p42475
aVIt allows defining an FK constraint on those columns, for example, which isn't possible with your current solution since the column holds IDs of EntityA or EntityB depending on the row
p42476
as(dp42477
g23
V571407
p42478
stp42479
a((dp42480
g2
(lp42481
VYou don't have any restriction linking the vote with the contest
p42482
aVI think your query should be :
p42483
as(dp42484
g23
V571407
p42485
stp42486
a((dp42487
g2
(lp42488
VFirst of all, I would probably simply select the complete entity in both cases, because it wouldn't make much difference in terms of performance, you would have an attached entity, and it would be much simpler
p42489
aVNow to answer your technical question, simply implement the loop over the results yourself:
p42490
aVAs simple as that, and you would have refactorable code as an additonal bonus
p42491
aVI would also strongly advise against using the entity class to store the results of such queries
p42492
aVCreate a specific DTO object containing only the fields returned by the query
p42493
aVIf a method returns instances of an entity class, the caller will expect to get properly, fully populated, attached entity instances
p42494
as(dp42495
g23
V571407
p42496
stp42497
a((dp42498
g2
(lp42499
VThe following should work:
p42500
as(dp42501
g23
V571407
p42502
stp42503
a((dp42504
g2
(lp42505
VFrom the documentation:
p42506
aVVersion properties, identifiers and associations are ignored
p42507
aVBy
p42508
aVdefault, null valued properties are excluded
p42509
aV(emphasis mine)
p42510
aVYou'll need to use a regular criteria restriction:
p42511
as(dp42512
g23
V571407
p42513
stp42514
a((dp42515
g2
(lp42516
VAs the XSD says, the  element must come before the  element
p42517
as(dp42518
g23
V571407
p42519
stp42520
a((dp42521
g2
(lp42522
VYou can implement your method like this:
p42523
aVBut the point of polymorphism is to put the A implementation in A, so that this implementation can use A's private fields to implement the method (same for B, or course)
p42524
as(dp42525
g23
V571407
p42526
stp42527
a((dp42528
g2
(lp42529
VNo, it's not possible
p42530
aVBut in a properly designed application, the controller (a servlet, or an action of your preferred MVC framework) creates the bean, and the view uses it
p42531
aVAnd  is obsolete for years
p42532
aVUse the JSP EL
p42533
aVController:
p42534
aVView:
p42535
as(dp42536
g23
V571407
p42537
stp42538
a((dp42539
g2
(lp42540
VIf you put the jdbc3 driver in your classpath instead of the jdbc4 driver, and if you make sure to avoid calling methods existing since JDBC4 in your code, everything should work flawlessly
p42541
aVMany databases don't support JDBC4 yet, and are usable with Java 7, provided you only call methods supported by the driver
p42542
as(dp42543
g23
V571407
p42544
stp42545
a((dp42546
g2
(lp42547
VSince  could be  or , Hibernate resolves the ambiguity by choosing the first (or last) association with this name in its metadata
p42548
aVIt might work if the name of the  collection is not the same in both subclasses
p42549
aVFor example, you could define  and
p42550
aVOtherwise, you'll have to issue two queries (one for teachers and one for students), and join the result lists
p42551
aVOr you'll have to pull up the association in the User entity
p42552
as(dp42553
g23
V571407
p42554
stp42555
a((dp42556
g2
(lp42557
VInheritance is used to define a is-a relationship
p42558
aVSince every class in Java extends  (either directly or indirectly), a Car instance is-a Object instance, and a Human instance is-a Object instance
p42559
aVSo, of course, an array of objects can hold humans, cars, and every other kind of object
p42560
as(dp42561
g23
V571407
p42562
stp42563
a((dp42564
g2
(lp42565
VThe BorderLayout respects the preferred width of its west and east components
p42566
aVAnd it respects the preferred width and height of its center component
p42567
aVSo, your DrawPanel should override  and return the appropriate preferred size
p42568
aVSince it's placed at the center of a BorderLayout which also has a south component, the preferred width of the east panel will be the max of the preferred width of the draw panel and of the button
p42569
as(dp42570
g23
V571407
p42571
stp42572
a((dp42573
g2
(lp42574
VThe second argument is supposed to be the type of the objects that the query will return
p42575
aVBut this query doesn't return anything, since it's a delete query
p42576
aVI don't know why it throws a NullPointerException (it shouldn't), but what's sure is that you should use the  method without a Class argument
p42577
as(dp42578
g23
V571407
p42579
stp42580
a((dp42581
g2
(lp42582
VAn interface's sole purpose is to be implemented
p42583
aVSo, using an interface to group constants is still bad practice, even if you don't implement it
p42584
aVJust use a class to put the constants:
p42585
aVIf these connstants are tightly coupled with a given class, put them directly in this class
p42586
aVIf they're common to several classes, put them in an external class as shown above
p42587
as(dp42588
g23
V571407
p42589
stp42590
a((dp42591
g2
(lp42592
VI've never used it, but I think you're looking for Dozer:
p42593
aVDozer is a Java Bean to Java Bean mapper that recursively copies data
p42594
aVfrom one object to another
p42595
aVTypically, these Java Beans will be of
p42596
aVdifferent complex types
p42597
aVDozer supports simple property mapping, complex type mapping,
p42598
aVbi-directional mapping, implicit-explicit mapping, as well as
p42599
aVrecursive mapping
p42600
aVThis includes mapping collection attributes that
p42601
aValso need mapping at the element level
p42602
aVDozer not only supports mapping between attribute names, but also
p42603
aVautomatically converting between types
p42604
aVMost conversion scenarios are
p42605
aVsupported out of the box, but Dozer also allows you to specify custom
p42606
aVconversions via XML
p42607
as(dp42608
g23
V571407
p42609
stp42610
a((dp42611
g2
(lp42612
VThe list is part of the entity state, since the entity is the owner of the association
p42613
aVSo if you merge a detached entity which doesn't have anything in the bean, you're telling Hibernate: here's the new state of the entity, which doesn't contain any object anymore
p42614
aVSo obviously, Hibernate deletes the association between the entity and the objects previously contained in the list
p42615
aVMy guess is that you construct a new entity instance and pass it to , instead of getting an entity from the session, modifying it, and then passing this instance to merge():
p42616
aVinstead of doing:
p42617
aVyou should be doing:
p42618
aVNote that your problem has nothing to do with deleting orphan
p42619
aVDelete orphan means: if I remove the association between paren and children, then the child entities themselves should be deleted automatically
p42620
as(dp42621
g23
V571407
p42622
stp42623
a((dp42624
g2
(lp42625
VYou must add a JavaScript event listener to the select box, which will do one of the following:
p42626
aVsubmit the form (after modifying its action attribute), in order for the controller to redisplay the same page but with a different set of countries
p42627
aVsend an AJAX request to the controller with the customer name, and dynamically populate the select box with the set of countries contained in the response
p42628
aVThe response could be a JSON array of countries, or an HTML snippet containing the new options of the select box, for example
p42629
as(dp42630
g23
V571407
p42631
stp42632
a((dp42633
g2
(lp42634
VThe common pattern is to use the JPA entities when they fit the bill (i
p42635
ag468
aVwhen they contain the data needed by the presentation tier, and when you don't need to fetch half of the database to return this data), and to use DTOs (Data Transfer Objects, which are just POJOs containing the required information) when the entities don't fit the bill
p42636
aVSome prefer to only use DTOs, like you're doing
p42637
aVBut DTOs should be real objects, with typed properties
p42638
aVLists of arrays a nightmare to understand and maintain, do not offer any kind of type safety and compilation checks, and are not easily usable by the classical presentation tier technologies (JSP EL, etc
p42639
aV, which generally expect JavaBeans
p42640
as(dp42641
g23
V571407
p42642
stp42643
a((dp42644
g2
(lp42645
VNote: what you call a notepad is more commonly called a "file"
p42646
as(dp42647
g23
V571407
p42648
stp42649
a((dp42650
g2
(lp42651
VNo, it has never been possible
p42652
aVMaybe a previous version of the code used some factory method which could return null:
p42653
as(dp42654
g23
V571407
p42655
stp42656
a((dp42657
g2
(lp42658
VYes
p42659
aVAn interface defines a contract
p42660
aVAll classes implementing the interface have to obey this contract
p42661
aVWhen you want to observe an Observable, all you need to do is to obey the contract of an Observer: implement the Observer interface and thus have an update method which can be called by the Observable
p42662
aVThe concrete type of the Observer doesn't matter to the Observable
p42663
aVUsing an interface is very handy, because it allows any kind of object to observe an Observable, as long as it implements the Observer interface
p42664
aVYou don't need to have any specific concrete type, or to extend any particular class to observe an Observable
p42665
as(dp42666
g23
V571407
p42667
stp42668
a((dp42669
g2
(lp42670
VYou told Hibernate to generate the EmployeeDetail ID from the ID of its  property, but you never initialized this property
p42671
aVAdd  to your code
p42672
as(dp42673
g23
V571407
p42674
stp42675
a((dp42676
g2
(lp42677
VClasses are loaded lazily in Java
p42678
aVIf you access the map before the StatusCode class is loaded, then of course it will be empty
p42679
aVThe map should be in the enum itself
p42680
aVThis way, if you're accessing the map, you're guaranteed that the enum class has been loaded, and that the map is not empty
p42681
aVThe map should also be hidden from the outside code
p42682
aVYou should provide a static  method in the enum
p42683
aVEDIT: example code:
p42684
aVOr you could also use a  static method inside the constructor which lazily initializes the map if it's null
p42685
as(dp42686
g23
V571407
p42687
stp42688
a((dp42689
g2
(lp42690
VTo create a branch from a given revision, just choose "merge/branch
p42691
aVand then check the radio button "specific revision in repository" and enter the revision number (11)
p42692
aVTo get the the trunk back to how it was in revision 8, choose "Show log
p42693
aV, then select the revision you want to rollback to (8), right-click, and then choose "revert to this revision"
p42694
aVThen commit
p42695
aVThis will create an additional revision (13) which will be identical to revision 8
p42696
aVMake sure not to merge the revision 13 into the branch you created from revisoon 11, since it would also rollback the changes in the branch
p42697
aVTo make sure it doesn't happen, merge revision 13 from trunk into the branch, but select the checkbox "only record the merge" (IIRC)
p42698
as(dp42699
g23
V571407
p42700
stp42701
a((dp42702
g2
(lp42703
VSomething like this should work:
p42704
aVEDIT: Now that you've explained what you wanted with a nice picture, it's simpler
p42705
aVIn fact what you want is all the Foos which are linked to at least one bar (and not all the bars) also linked to the Thing
p42706
aVThe query would thus be:
p42707
as(dp42708
g23
V571407
p42709
stp42710
a((dp42711
g2
(lp42712
VApplets are executed by the Java Plugin, which is a browser plugin
p42713
aVThe applet is indeed part of an HTML page loaded by the browser, can communicate with the browser DOM and with JavaScript code in the page, and uses the browser to send requests to its originating server
p42714
aVSee http://docs
p42715
aVoracle
p42716
aVcom/javase/tutorial/deployment/applet/appletExecutionEnv
p42717
aVhtml and http://docs
p42718
aVoracle
p42719
aVcom/javase/tutorial/deployment/applet/server
p42720
aVhtml for more information
p42721
as(dp42722
g23
V571407
p42723
stp42724
a((dp42725
g2
(lp42726
VThe GUI thread calls  on  (of type Thread), and the  method calls  on , which is the Runnable instance used by
p42727
aVI would advise using a specific object, shared by both threads to wait and notify:
p42728
aVAlso, instead of using a LinkedList and sleeping an aritrary time between requests, I would use a BlockingQueue: this would allow the consuming thread to handle a request as soon as there is one, and would avoid unnecessary wakeups from the sleeping state
p42729
aVAlso, instead of the low-level wait/notify, you could use a CountDownLatch initialized to 1
p42730
aVThe GUI thread would  the latch when it's initialized, and the mesurement thread would  the latch until the GUI thread has called
p42731
aVThis would delegate complex synchronization and notification stuff to a more high-level, well-tested object
p42732
as(dp42733
g23
V571407
p42734
stp42735
a((dp42736
g2
(lp42737
V just makes a transient entity persistent
p42738
aVIt doesn't issue any insert statement
p42739
aVThe insert statement, which causes the exception you get, is issued at flush time
p42740
aVAnd the flush is done (in this case) at the end of the transaction, when the DAO method has already returned
p42741
aVDon't rely on database constraints to validate your objects
p42742
aVValidate them explicitely, and don't even call  if the entity is invalid
p42743
aVThe database constraints are a last resort check
p42744
as(dp42745
g23
V571407
p42746
stp42747
a((dp42748
g2
(lp42749
VYour code is very long and hard to read (mainly because it doesn't respect Java naming conventions), but my guess is that your problem comes from the fact that your copy of the map simply copies the ArrayList references from one map to another:
p42750
aVIn the above code, you don't create any new list
p42751
aVYou just store the same lists in another map
p42752
aVIf you need a new list, the code should be:
p42753
as(dp42754
g23
V571407
p42755
stp42756
a((dp42757
g2
(lp42758
VDelegate the code to a private static method:
p42759
as(dp42760
g23
V571407
p42761
stp42762
a((dp42763
g2
(lp42764
VThe HQL query would be very similar to the SQL query:
p42765
aVThe Criteria query is left as an exercise, but I don't see the poin tin using Criteria for such a static query
p42766
as(dp42767
g23
V571407
p42768
stp42769
a((dp42770
g2
(lp42771
VSo in fact, your association is bidirectional, and not unidirectional
p42772
aVIf your goal is to delete the children when the parent is deleted, then all you need is
p42773
aVand
p42774
as(dp42775
g23
V571407
p42776
stp42777
a((dp42778
g2
(lp42779
VThe right way is to use GET instead of POST: searching is an idempotent operation which doesn't cause any change on the server, and such operations should be done with a GET
p42780
as(dp42781
g23
V571407
p42782
stp42783
a((dp42784
g2
(lp42785
VYou can, but need to be aware of those problems:
p42786
aVthe map is empty initially, but you never check for null counters;
p42787
aVthe add() method doesn't modify the counter in the map
p42788
aVYou need to put the counter back in the map after incrementing it, since Integer is immutable
p42789
aVOr you need to store mutable counters inside the map
p42790
aVseveral threads are accessing the map without any kind of synchronization, which will lead to bugs, erratic behavior, or exceptions
p42791
aVthis strategy will obviously fail in case your app is clustered among several servers
p42792
as(dp42793
g23
V571407
p42794
stp42795
a((dp42796
g2
(lp42797
VThere is no way a  can be cast to a , since  doesn't even extend
p42798
aVOnly a Dog instance can be cast to a Dog
p42799
aVYou could create a new Dog instance using a constructor which would copy all the fields of DogTemplate to Dog, if it's possible
p42800
aVOr you could use a common interface to both classes
p42801
as(dp42802
g23
V571407
p42803
stp42804
a((dp42805
g2
(lp42806
VYou could use an array of locks, to at least be able to get different instances concurrently:
p42807
as(dp42808
g23
V571407
p42809
stp42810
a((dp42811
g2
(lp42812
VSwingx's JXComboBox doesn't add anything other than visual enhancements to the standard swing JComboBox
p42813
aVAnd JComboBox usage is well described, like all the other Swing components, in the Swing tutorial
p42814
as(dp42815
g23
V571407
p42816
stp42817
a((dp42818
g2
(lp42819
VWhat it would bring is that if the user closes its browser and restarts it, it would still log in automatically
p42820
aVThis is not the case with a session cookie, since such a cookie is deleted as soon as the browser is closed
p42821
aVMaybe the page you went to every 30 seconds didn't start the session
p42822
aVIn that case, the session mechanism is not used, and the expiration date of the session is not reset to
p42823
aVOr maybe the refresh only hits the browser cache, and not the server
p42824
as(dp42825
g23
V571407
p42826
stp42827
a((dp42828
g2
(lp42829
VThe WEB-INF directory is inaccessible from the outside
p42830
aVIf you want the JSPs to be accessible from the outside, you must put them outside of WEB-INF
p42831
as(dp42832
g23
V571407
p42833
stp42834
a((dp42835
g2
(lp42836
VThere is no concept of a directory for classes in Java
p42837
aVClasses are in a package, or are in the default package, and are loaded from directories or jars that must be in the classpath
p42838
aVIf the directory containing  is in the classpath, the above code should work
p42839
aVBut it's a very very bad practice to use the default package
p42840
aVEvery class should be in a package
p42841
as(dp42842
g23
V571407
p42843
stp42844
a((dp42845
g2
(lp42846
VThe Java API doesn't provide any way to read TCP packets
p42847
aVIt's stream-based, and you have absolutely no way to read one packet at a time
p42848
aVIf you want to send and receive multiple messages, you need to implement an application-level protocol, which might use a specific delimiter between messages, or send the length of a message followed by the message body itself, for example
p42849
as(dp42850
g23
V571407
p42851
stp42852
a((dp42853
g2
(lp42854
VSee http://tiles
p42855
aVapache
p42856
aVorg/2
p42857
aV2/framework/tiles-jsp/tlddoc/tiles/insertAttribute
p42858
aVhtml and http://tiles
p42859
aVapache
p42860
aVorg/2
p42861
aV2/framework/tiles-jsp/tlddoc/tiles/useAttribute
p42862
aVhtml
p42863
aVdeclares a variable containing the attribute
p42864
aVinserts the attribute in the response
p42865
aVIt's basically the same difference as there is between
p42866
aVand
p42867
as(dp42868
g23
V571407
p42869
stp42870
a((dp42871
g2
(lp42872
VUse Search - File
p42873
aVin Eclipse, search for  in , then right click in the Search view, choose Replace All
p42874
aV, enter the replacement text, and click OK
p42875
as(dp42876
g23
V571407
p42877
stp42878
a((dp42879
g2
(lp42880
VYes, the IN clause is limited:
p42881
aVThe number of values in the IN list is only limited by the
p42882
aVmax_allowed_packet value
p42883
aVIn Oracle, the limit is set to 1000 elements
p42884
aVInstead of selecting user posts, and then iterating through them to get their link or issuing another query to get them, you could load the links in the same query as the user posts:
p42885
aVThis query will load eveything at once, and iterating theough the user posts and getting their link using  won't trigger any additional query
p42886
as(dp42887
g23
V571407
p42888
stp42889
a((dp42890
g2
(lp42891
VYou're probably no using c3p0
p42892
aVThe documentation says:
p42893
aVHibernate will use its org
p42894
aVhibernate
p42895
aVconnection
p42896
aVC3P0ConnectionProvider
p42897
aVfor connection pooling if you set hibernate
p42898
aVc3p0
p42899
aV* properties
p42900
aVIf you
p42901
aVwould like to use Proxool, refer to the packaged hibernate
p42902
aVproperties
p42903
aVand the Hibernate web site for more information
p42904
aVThe following is an example hibernate
p42905
aVproperties file for c3p0:
p42906
aVSo the properties should be  and not
p42907
as(dp42908
g23
V571407
p42909
stp42910
a((dp42911
g2
(lp42912
VThere is no best thing
p42913
aVA database trigger will update the last update date at every update of a row, whatever the way used to update the row (Hibernate, a JDBC query, or an update from your database admin tool)
p42914
aVA JPA callback will only be invoked when the row is updated using JPA
p42915
aVYou might want one or the other
p42916
aVAnother difference is that JPA is unaware of the trigger executed by the database
p42917
aVSo if you update some field in your entity, and JPA flushed the change, the update date will be modified by the trigger, but the JPA entity will keep the old value of the update date in memory
p42918
aVSo if this update date is displayed in the GUI after the update, the update date will be incorrect
p42919
aVYou'll have to refress the entity to get the lates update date
p42920
as(dp42921
g23
V571407
p42922
stp42923
a((dp42924
g2
(lp42925
VYou need collaboration from the background task to be able to stop it
p42926
aVIt should regularly check if the task has been cancelled and return as soon as possible if cancelled
p42927
aVSo, either you reimplement the  method yourself and check at each iteration that the task hasbn't been cancelled, or you use a dirty trick, and throw some runtime exception from inside the file filter if the task has been cancelled (since the file filter will be invoked for every file the  method inspects
p42928
as(dp42929
g23
V571407
p42930
stp42931
a((dp42932
g2
(lp42933
VYou should
p42934
aVonly manipulate Swing components inside the event dispatch thread;
p42935
aVcall  only after all the components have been added to the frame;
p42936
aVspell Planet with only one n, although that's less important
p42937
aVThe  that "Eclipse made you add" are called generic types
p42938
aVRead the tutorial on generics
p42939
as(dp42940
g23
V571407
p42941
stp42942
a((dp42943
g2
(lp42944
VYou could use a Hibernate named query, which would avoid the HQL or SQL parsing by Hibernate at each invocation (why use a SQL query instead of a HQL one here
p42945
aVIn the end, Hibernate will ask the JDBC connection to create a prepared statement
p42946
aVAnd if your connection pool or driver caches prepared statement, there is a good chance that you get an already prepared statement if this method is used so often
p42947
as(dp42948
g23
V571407
p42949
stp42950
a((dp42951
g2
(lp42952
VRead the documentation:
p42953
aVThe items attribute is typically populated with a collection or array
p42954
aVof item objects
p42955
aVitemValue and itemLabel simply refer to bean
p42956
aVproperties of those item objects, if specified; otherwise, the item
p42957
aVobjects themselves will be stringified
p42958
aVSo, if you want all the entries of the map in the select box, and want the key of the entry as option label and the value of the entry as the option value, you need to pass the  of the map to the  attribute, and use
p42959
as(dp42960
g23
V571407
p42961
stp42962
a((dp42963
g2
(lp42964
VThat's how it's supposed to be
p42965
aVMerging applies the changes betwee two revisions of one branch (the trunk-rev-1 and trunk-rev2, in your case) to the working copy of another branch
p42966
aVOnce your working copy is updated, you can test if the merge doesn't break everything (compilation is OK, unit tests pass, etc
p42967
aV, apply other changes manually if needed, and then commit the working copy
p42968
aVThis will create a new revision in the repository
p42969
aVFiles don't have any revision in SVN
p42970
aVThe whole repository goes from one revision to another
p42971
aVI suggest you read the free SVN book, which explains evrything very clearly
p42972
as(dp42973
g23
V571407
p42974
stp42975
a((dp42976
g2
(lp42977
VDon't use scriptlets
p42978
aVNever
p42979
aVUse the JSTL and the EL
p42980
aVAnd understand that the EL can't be used inside a scriptlet: scriplets contain Java code, and the EL is not Java
p42981
aVMoreover, the code adds a column if the specific row is not a grand total
p42982
aVThis is not what should be done
p42983
aVThe column should always be there, but its content should change depending on the row:
p42984
as(dp42985
g23
V571407
p42986
stp42987
a((dp42988
g2
(lp42989
VThis is the preferred way for a quick'n dirty prototype or a simple tutorial, but it's far from being the preferred way for any production application
p42990
aVI largely prefer designing the database independently, using scripts to generate the schema, tables, views, indexes, etc
p42991
aV, and map the schema to entities
p42992
aVAs long as the mapping finds the tables and columns in the database, everything is fine
p42993
aVAs soon as you have data in your database and the schema must change, you'll have to write migration scripts anyway
p42994
aVYou can't just drop everything and restart from scratch
p42995
aVThe tutorials are written for developers starting with Hibernate and who must discover Hibernate as quick as possible, without dealing with complex SQL scripts
p42996
as(dp42997
g23
V571407
p42998
stp42999
a((dp43000
g2
(lp43001
VBecause it would force Hibernate to scan all the classes of the classpath to discover annotated classes
p43002
aVAnd because you might have some entities in the classpath that you don't want to use in your application
p43003
aVOr you might want to have some entities in a session factory, and some others in another one
p43004
aVOr even the same entity in two seperate session factories
p43005
aVThe Criteria API has methods which bind the parameters directly:  for example
p43006
aVIt's of course possible to write your own second-level cache, but you would have to configure Hibernate to use it, as you do with all the other providers
p43007
aVDropping the classes in the classpath is not sufficient
p43008
as(dp43009
g23
V571407
p43010
stp43011
a((dp43012
g2
(lp43013
VTo be able to make a join, you need an association between the entities
p43014
aVThe BonDetal entity should thus have something like
p43015
aVIt must not have any  property, since the idbon column is mapped by the association
p43016
aVAnd the query doesn't need any  clause, since Hibernate knows how the entities are associated with each other
p43017
aVThe query should thus be:
p43018
aVYou also should use named parameters rather than concatenating values to the query, to avoid SQL injection attacks and escaping problems
p43019
aVAll of this is explained in the Hibernate documentation
p43020
aVIf you're in such a hurry, you should read it instead of trying random queries
p43021
as(dp43022
g23
V571407
p43023
stp43024
a((dp43025
g2
(lp43026
VGoing to the end of the line: End key
p43027
aVGoing to the start of the line: Home key
p43028
aVGoing one line down: down arrow key
p43029
aVMove the cursor one line up: up arrow key
p43030
aVMove the cursor one column left: don't know what you mean by column
p43031
aVMove the cursor one column right: idem
p43032
aVMove the cursor one word left: ctrl - left arrow key
p43033
aVMove the cursor one word right: ctrl - right arrow key
p43034
aVMove the cursor to the end of the word: no idea
p43035
aVMove the cursor to the beginning of the word: ctrl - left arrow key
p43036
aVDelete the character to the left of the cursor: backspace
p43037
aVDelete the character to the right of the cursor: delete
p43038
aVThis is on Windows
p43039
aVAll the shortcuts are available in Window (Alt W) - Preferences (P) - General - Keys (type "Keys" in the filter text box)
p43040
aVMost of the shortcuts above are standard shortcuts, which are used in every windows editor
p43041
as(dp43042
g23
V571407
p43043
stp43044
a((dp43045
g2
(lp43046
VEither make the association bidirectional and add a cascade to remoe the tasks of the sensor when deleting the sensor:
p43047
aVOr, before deleting the sensor, search for all its tasks and delete them first:
p43048
aVNote that setting cascade = ALL an the ManyToOne from task to sensor doesn't make mush sense: you don't want to delete the sensor when you delete one of its tasks
p43049
as(dp43050
g23
V571407
p43051
stp43052
a((dp43053
g2
(lp43054
VThe query should be:
p43055
aVi
p43056
ag468
aVyou should use the alias of the entity in the select clause instead of its path, and use the same alias in the order by clause
p43057
as(dp43058
g23
V571407
p43059
stp43060
a((dp43061
g2
(lp43062
VYou need apache commons-logging in the classpath
p43063
aVLog4j is not commons-logging
p43064
as(dp43065
g23
V571407
p43066
stp43067
a((dp43068
g2
(lp43069
VYou can't
p43070
aVA FileReader reads a file from the file system
p43071
aVIt doesn't read from an FTP connection
p43072
as(dp43073
g23
V571407
p43074
stp43075
a((dp43076
g2
(lp43077
VFirst of all, your mapping is wrong
p43078
aVOne side of the association must be the owner side, and define the mapping of the association
p43079
aVThe other must be the inserse side, and just use the mappedBy attribute:
p43080
aVSecond, you should really avoid EAGER fetching on a toMany association, and particularly on both sides: this will force Hibernate to load all the associated entities recursively, and has a good chance to load all the rows of both tables in memory each time you load one row
p43081
aVNow to your question:
p43082
aVIf you want to delete everything from both tables, you first need to make sure that the join table is empty, else some rows in one of the tables will still be referenced by a row of the join table, and it will obviosuly fail
p43083
aVTo do that, the best option in your case is to use a SQL query to delete everything from the join table before executing the two HQL queries you already have
p43084
as(dp43085
g23
V571407
p43086
stp43087
a((dp43088
g2
(lp43089
VIn Window - Preferences - Java - Installed JREs, make sure you have a JDK installed, and select it as the default
p43090
as(dp43091
g23
V571407
p43092
stp43093
a((dp43094
g2
(lp43095
VA nested forEach works exactly as a non-nested forEach:
p43096
aVThe above supposes that the Spring controller stores an object with the following structure in the  attribute:
p43097
as(dp43098
g23
V571407
p43099
stp43100
a((dp43101
g2
(lp43102
VInstall some GUI over SVN For example, with TortoiseSVN, you can
p43103
aVright-click on a folder
p43104
aVChoose "Check for modifications"
p43105
aVClick "Check repository"
p43106
aVselect the added/deleted/modified files you want to update
p43107
aVright-click
p43108
aVchoose "update"
p43109
as(dp43110
g23
V571407
p43111
stp43112
a((dp43113
g2
(lp43114
VA concurrent Set might be the solution: CopyOnWriteArraySet or Collections
p43115
aVnewSetFromMap(ConcurrentHashMap), but it's hard to say given what I know about your problem
p43116
as(dp43117
g23
V571407
p43118
stp43119
a((dp43120
g2
(lp43121
VThe name of the columns are irrelevant
p43122
aVThe contract has an association to the vendor company, and an association to the customer company
p43123
aVAnd the company has an association with its time lines
p43124
aVSo you don't need anything more
p43125
aVIf you want the time lines of the vendor company of a contract, just call
p43126
aVSide note: your bidirectional OneToMany between Company and CompanyTimeLine is wrong
p43127
aVIt should be:
p43128
as(dp43129
g23
V571407
p43130
stp43131
a((dp43132
g2
(lp43133
VFirst of all, you have 2 TODO rows with the same job key
p43134
aVSo, either the data are wrong, or they're right but your association should then be ManyToOne/OneToMany instead of OneToOne/OneToOne
p43135
aVNow, regarding your question
p43136
aVIf you want to change the code of the job of a todo, the answer is very simple:
p43137
aVIf, in fact, you want the TODO to refer to another, existing JobType (supposing the association is a ManyToOne):
p43138
aVNow the question is: how to get the reference to this
p43139
aVIf you have its ID, the answer is simple:
p43140
aVIf you only have its code, you'll need to execute a query to find it
p43141
aVAssuming the code is unique:
p43142
as(dp43143
g23
V571407
p43144
stp43145
a((dp43146
g2
(lp43147
VThe servlet specification explains how standard authentication works, and each server (tomcat, jetty, etc
p43148
aVprovides various options to store the users and their credentials
p43149
aVSee http://tomcat
p43150
aVapache
p43151
aVorg/tomcat-7
p43152
aV0-doc/realm-howto
p43153
aVhtml for how to configure Tomcat
p43154
aVSpring-security is often used as an alternative
p43155
as(dp43156
g23
V571407
p43157
stp43158
a((dp43159
g2
(lp43160
VThe first snippet uses dependency injection, and the second doesn't
p43161
aVDependency injection allows
p43162
aVdecoupling MyClass from the concrete implementation of AuthorService which would allow switching implementations depending on the environment for example
p43163
aVusing a singleton (or session-scoped or request-scope) AuthorService rather than reinstantiating one each time
p43164
aVinjecting a mock AuthorService implementation when unit-testing MayClass
p43165
aVinjecting a proxy around the concrete AuthorService instance, which could
p43166
aVverify authorizations
p43167
aVstart a transaction before each method call and commit/rollback it after the method call
p43168
aVlog the method calls
p43169
aVmeasure the time taken by methods and compute statistics
p43170
aVinvoke an AuthorService on another machine, using RMI or HttpInvoker
p43171
aVNote that you should autowire AuthorServiceInterface, and not AuthorService, in MyClass
p43172
as(dp43173
g23
V571407
p43174
stp43175
a((dp43176
g2
(lp43177
VI never use XML to map my entities, but I think your mapping is wrong
p43178
aVThe one side should be the inverse side of the many side, as shown in the documentation:
p43179
as(dp43180
g23
V571407
p43181
stp43182
a((dp43183
g2
(lp43184
VIf you want the code to keep working even if you nest the button inside a sub-panel, you should use the follwoing:
p43185
aVSide note: please respect Java naming conventions: classes start with upper-case letters
p43186
as(dp43187
g23
V571407
p43188
stp43189
a((dp43190
g2
(lp43191
VA KeyListener can only be added to a GUI component
p43192
aVIt can't be used in a console application
p43193
aVThat's why it's in a  subpackage
p43194
aVAWT = Abstract Window Toolkit, the basic GUI toolkit of Java
p43195
aVIf you want to interrupt a "process" when enter is pressed in the console, you should use a thread for your process, and another thread which reads from standard input and interrupts the other one when something is entered
p43196
as(dp43197
g23
V571407
p43198
stp43199
a((dp43200
g2
(lp43201
VA  task doesn't create an executable jar file
p43202
aVIt executes a Java program
p43203
aVI don't think it's possible to specify VM parameters when starting an executable jar file by double-clicking on it
p43204
aVIf you want to pass VM parameters, open a command prompt and execute the jar this way:
p43205
as(dp43206
g23
V571407
p43207
stp43208
a((dp43209
g2
(lp43210
VStraight from the SVN documentation:
p43211
aVIf you want to create a snapshot of /calc/trunk exactly as it looks in
p43212
aVthe HEAD revision, make a copy of it:
p43213
aVThis example assumes that a /calc/tags directory already exists
p43214
aV(If
p43215
aVit doesn't, you can create it using svn mkdir
p43216
aVAfter the copy
p43217
aVcompletes, the new release-1
p43218
aV0 directory is forever a snapshot of how
p43219
aVthe /trunk directory looked in the HEAD revision at the time you made
p43220
aVthe copy
p43221
aVOf course, you might want to be more precise about exactly
p43222
aVwhich revision you copy, in case somebody else may have committed
p43223
aVchanges to the project when you weren't looking
p43224
aVSo if you know that
p43225
aVrevision 901 of /calc/trunk is exactly the snapshot you want, you can
p43226
aVspecify it by passing -r 901 to the svn copy command
p43227
aV(emphasis mine)
p43228
as(dp43229
g23
V571407
p43230
stp43231
a((dp43232
g2
(lp43233
VAFAIK, that's just how the look 'n feel works
p43234
aVButtons and menu items can be clicked by pressing the space bar
p43235
aVEnter is for clicking the default button
p43236
as(dp43237
g23
V571407
p43238
stp43239
a((dp43240
g2
(lp43241
VThe eclipse browser probably just doesn't know which encoding to use, since you don't send any HTTP header specifying it
p43242
aVTry sending the following HTTP header: Content-Type: text/html; charset=utf-8
p43243
aVOr use a real browser, and set the page encoding to UTF-8 explicitely
p43244
as(dp43245
g23
V571407
p43246
stp43247
a((dp43248
g2
(lp43249
VI would simply select the entity and its association, and llopover the results to invoke the DTO constructor explicitely
p43250
aVYou would have the additional advantage of compile-time checks and refactorable code:
p43251
aVEDIT:
p43252
aVThis query should also select what's needed, and avoid selecting the whole DonationAllocation entity:
p43253
aVand you might just add the DTO constructor in the query if you want:
p43254
aVThe fact the a
p43255
aVcampaign is in the select clause should be sufficient to tell Hibernate to load the entity
p43256
aVAt least that's how it behaves in my tests
p43257
as(dp43258
g23
V571407
p43259
stp43260
a((dp43261
g2
(lp43262
VString literals are interned into a pool
p43263
aVThis means that when you write
p43264
aVs1 and s2 refer to the same String object, and s3 refers to another one, backed by another char array
p43265
aVIn your code, you violate String's invariants by modifying the private char array holding the characters of the "Original" String literal instance
p43266
aVBut since  refers to another String instance, it's not modified
p43267
aVImmutability is achieved by keeping fields private into an object, and not providing any method to modify this private state
p43268
aVBy using reflection, you break all the rules of encapsulation, and you can thus violate immutability
p43269
as(dp43270
g23
V571407
p43271
stp43272
a((dp43273
g2
(lp43274
VIf the data field of Entity4 should be unique, then you should have a unique constraint for the corresponding column in the database
p43275
aVAnd to make sure you don't create duplicated Entity4 instances in your code, you should
p43276
aVsearch the database for an Entity4 instance with this data field
p43277
aVif it already exists, add it to the list in Entity1 (or 2, or 3)
p43278
aVif it doesn't exist, create a new one and add it to the list in Entity1 (or 2, or 3)
p43279
aVNote that you might still have two threads checking concurrently if an entity4 exists, and have those two threads create a new one concurrently
p43280
aVThis will lead to an exception in one of the threads thanks to the unique constraint in the database
p43281
as(dp43282
g23
V571407
p43283
stp43284
a((dp43285
g2
(lp43286
VWhat you show is the structure of your source project
p43287
aVWhen you're running a deployed webapp, there is no source project anymore
p43288
aVEverything is bundled in a war file, containing JSP files, other web resources, class files under , and jar files under
p43289
aVIf you want to access a file which is, in the generated war file, inside , then you should access it using the classloader, using
p43290
aVAnd if you plan to store something inside the  directory, then forget about it: the war file is read-only
p43291
aVConfigure some absolute directory on the file system, outside of the webapp, and use this absolute location to store new files
p43292
aVDon't use a relative location, because it would depend on where the server is physically located, how it's started, what's the current directory of its JVM is, etc
p43293
aVAnd if the server is moved, everything will break
p43294
as(dp43295
g23
V571407
p43296
stp43297
a((dp43298
g2
(lp43299
VYou've still not said which issue you have, i
p43300
ag468
aVwhat you expect instead of the output you get, but there are two important problems with your code:
p43301
aVBoth kinds of threads wait on the itemQueue (becauses it's full, or because it's empty), but nowhere in the code is , or preferrably, , called to wake up the waiting threads
p43302
aVThis will inevitably lead to starvation
p43303
aVWhen a producer puts an item in the queue, it should call  to wake up the waiting consumers
p43304
aVWhen a consumer removes an item from the queue, it should call  to wake up the waiting producers
p43305
aVA wait() method must always be made inside a loop that checks whether the thread can really continue when it's woken up
p43306
aVRead the javadoc for
p43307
aVAnother, less important problem, is that rather to force each thread to implement synchronization and /, this should all be encapsulated inside the queue
p43308
aVThe thread would just get items and put items in the queue, and be blocked by the queue until possible
p43309
aVIn short, you should reimplement BlockingQueue
p43310
as(dp43311
g23
V571407
p43312
stp43313
a((dp43314
g2
(lp43315
VYou got it right
p43316
aVExternalize the driver class name, the database URL, the user and the password, and here you go
p43317
aVThat what is done by most "frameworks" anyway: Java EE servers allow configuring datasources in the server, and accessing it using JNDI
p43318
aVHibernate has entries in its configuration file for this, connection pools usually use an XML or properties file to hold their configuration
p43319
aVOf course, if you use proprietary SQL code, you won't be able to switch from one database to another so easily, but that's another problem
p43320
as(dp43321
g23
V571407
p43322
stp43323
a((dp43324
g2
(lp43325
VAssuming that what you call "a value in a String" is a pair of characters between spaces, split both Strings to transform them in sets of values (), and use the Set methods to compute what you want (, , , etc
p43326
as(dp43327
g23
V571407
p43328
stp43329
a((dp43330
g2
(lp43331
V is intended to hold
p43332
aVresources: properties files, images, etc
p43333
aVthat are copied to the classes directory
p43334
aVJava source files must be put in
p43335
as(dp43336
g23
V571407
p43337
stp43338
a((dp43339
g2
(lp43340
VWindow - Show view is the place where you'll find all the possible views
p43341
as(dp43342
g23
V571407
p43343
stp43344
a((dp43345
g2
(lp43346
VTo indicate that the method is a generic method, using/returning generic types
p43347
aVIf they were not there, the compiler would look for a concrete type named K, and another concrete type named V
p43348
as(dp43349
g23
V571407
p43350
stp43351
a((dp43352
g2
(lp43353
VYou don't assign the result of the method to anything
p43354
aVChange your code to:
p43355
aVAnd not that the checkValue method doesn't need any error message as argument
p43356
aVIt will create one by itself and return it to the caller
p43357
aVAlso, assigning null to a variable you reassign immediately after, like this:
p43358
aVis unnecessary
p43359
aVYou just need
p43360
aVAnd you should never compare Strings with
p43361
aVtests if two variables reference the same String object
p43362
aVYou should use the  method, which tests if two Strings contain the exact same sequence of characters:
p43363
as(dp43364
g23
V571407
p43365
stp43366
a((dp43367
g2
(lp43368
VIt has nothing in common
p43369
aVBranches are a way to develop new features without disturbing the main line of development, or to maintain older versions of a project in parallel to developing newer versions
p43370
aVI suggest you read the freely available SVN book
p43371
as(dp43372
g23
V571407
p43373
stp43374
a((dp43375
g2
(lp43376
VWhat you need is the following:
p43377
aVA Customer entity
p43378
aVAn embeddable ServiceCall
p43379
aVA HistoricalServiceCall entity
p43380
aVThe Customer should contain an embedded ServiceCall field (the last service call)
p43381
aVThe HistoricalServiceCall entity should have an ID, an embedded ServiceCall field (the data of the HistoricalServiceCall), and, potentially, a ManyToOne association to Customer if you want the OneToMany to be bidirectional
p43382
aVThe Customer should have a OneToMany association to HistoricalServiceCall
p43383
as(dp43384
g23
V571407
p43385
stp43386
a((dp43387
g2
(lp43388
VUse a method annotated with @ModelAttribute:
p43389
aVAn @ModelAttribute on a method indicates the purpose of that method is
p43390
aVto add one or more model attributes
p43391
aVSuch methods support the same
p43392
aVargument types as @RequestMapping methods but cannot be mapped
p43393
aVdirectly to requests
p43394
aVInstead @ModelAttribute methods in a controller
p43395
aVare invoked before @RequestMapping methods, within the same
p43396
aVcontroller
p43397
aV@ModelAttribute methods are used to populate the model with commonly
p43398
aVneeded attributes for example to fill a drop-down with states or with
p43399
aVpet types, or to retrieve a command object like Account in order to
p43400
aVuse it to represent the data on an HTML form
p43401
as(dp43402
g23
V571407
p43403
stp43404
a((dp43405
g2
(lp43406
VThe link should be the same for all the users
p43407
aVSince the users are authenticated, the server should know which user is executing a given request, and should thus use that information, rather than a request parameter, to get the inbox or account of the current user
p43408
aVThat said, if you really need to pass a request parameter which is different for every user, just parameterize your message:
p43409
aVAnd use your message tag topass the argument
p43410
aVWith the JSTL, this would be something like this:
p43411
as(dp43412
g23
V571407
p43413
stp43414
a((dp43415
g2
(lp43416
VGiven that other kinds of contexts can be created from an InputStream, I would guess that it's a limitation of Excel, and that you won't be able to open the Excel file if it isn't on the file system
p43417
aVConsider extracting the file from the jar and copy its content to a temporary file, possibly deleted when the application ends
p43418
aVSee File
p43419
aVcreateTempFile() and File
p43420
aVdeleteOnExit()
p43421
as(dp43422
g23
V571407
p43423
stp43424
a((dp43425
g2
(lp43426
VThe problem is with this line of code:
p43427
aVWhy do you create a JFrame
p43428
aVYou should just create the JScrollPane like this:
p43429
aVOr set the view of the scrollpane like this:
p43430
aVAlso, you should just use
p43431
aVThe GridLayout will put the label at the appropriate location
p43432
aVAnd you should not ignore exceptions
p43433
aVTransform the empty catch block to:
p43434
as(dp43435
g23
V571407
p43436
stp43437
a((dp43438
g2
(lp43439
VI'll anwser to another, clearer question: how many String instances are involved in the following code snippet:
p43440
aVAnd the answer is 6:
p43441
aVthe empty String literal: ;
p43442
aVthe String literal ;
p43443
aVthe copy of the String literal "a": ;
p43444
aVthe String created by concatenating  and the copy of ;
p43445
aVthe String literal
p43446
aVthe String created by concatenating  and
p43447
aVIf you assume that the three String literals have already been created by previously-loaded code, the code snippet thus creates 3 new String instances
p43448
as(dp43449
g23
V571407
p43450
stp43451
a((dp43452
g2
(lp43453
VWhat he means is that you should provide an interface, and an abstract class implementing parts of this interface:
p43454
aVThe  class may even not be abstract if it's possible to provide a basic, complete implementation
p43455
aVBut if you need a class that is a Foo, but can't extend AbstractFoo, it's still possible with an interface
p43456
aVAn abstract class doesn't provide this capability, since you can only extend one class
p43457
aVBTW, this is what is done in the collections framework (which Josh Bloch created): the  interface is implemented by , the  interface is implemented by , etc
p43458
as(dp43459
g23
V571407
p43460
stp43461
a((dp43462
g2
(lp43463
VUse  rather than  every time you can
p43464
aVThis will avoid many s and make your code more robust
p43465
aVis useful, for example
p43466
aVto store booleans in a collection (List, Map, etc
p43467
aVto represent a nullable boolean (coming from a nullable boolean column in a database, for example)
p43468
aVThe null value might mean "we don't know if it's true or false" in this context
p43469
aVeach time a method needs an Object as argument, and you need to pass a boolean value
p43470
aVFor example, when using reflection or methods like
p43471
as(dp43472
g23
V571407
p43473
stp43474
a((dp43475
g2
(lp43476
VThis is exactly why Java code should not be put in JSPs
p43477
aVUse a servlet for Java code, and only use the EL, the JSTL and other JSP tags in the JSPs, whose sole purpose should be to generate HTML markup
p43478
aVWhen Java code is in a servlet, it's precompiled, and your IDE helps you identify and fix the compilation issues
p43479
aVThe IDE will also help you formatting and indenting your Java code in order to make it readable
p43480
as(dp43481
g23
V571407
p43482
stp43483
a((dp43484
g2
(lp43485
VThe documentation says:
p43486
aVA query may only use inequality filters (<, <=, >=, >,
p43487
aV=) on one
p43488
aVproperty across all of its filters
p43489
as(dp43490
g23
V571407
p43491
stp43492
a((dp43493
g2
(lp43494
VIf I understand correctly, You're executing the above methods several times, and after some invocations, it throws the above exception
p43495
aVThe problem probably comes from the fact that you're reading the Hibernate configurationand creating a whole new session factory, with a new connection pool, at each method invocation
p43496
aVThe following should be done once and only once
p43497
aVThe same session factory should then be reused at each method invocation:
p43498
as(dp43499
g23
V571407
p43500
stp43501
a((dp43502
g2
(lp43503
VYou don't need any pattern for this
p43504
aVJust plain old polymorphism:
p43505
as(dp43506
g23
V571407
p43507
stp43508
a((dp43509
g2
(lp43510
VA classpath contains directories and jars which contain compiled class files
p43511
aVYou added the source folder of A, B and C
p43512
aVAdd their classes folder, or the jar file generated for these projects
p43513
aVMoreover, the path attribute of pathelement is not just a directory name
p43514
aVIt's a path
p43515
aVYou should just use
p43516
as(dp43517
g23
V571407
p43518
stp43519
a((dp43520
g2
(lp43521
VYou need to set the working directory of the launched process using ProcessBuilder
p43522
aVdirectory(File)
p43523
as(dp43524
g23
V571407
p43525
stp43526
a((dp43527
g2
(lp43528
VYou really need to understand the difference between the layout of the sources in your project, the layout of the deployed webapp, and the layout of the application in the server
p43529
aVThe deployed webapp has the following structure:
p43530
aVThe WebContent directory doesn't exist in the deployed app
p43531
aVIt's just where Eclipse stores the webapp related sources (JSP files, images, etc
p43532
aVEach webapp has a context path
p43533
aVIf the context path of your webapp is , the path that you'll have to type in the browser's address bar for your JSP will be:
p43534
aVWhen you forward to another resource, it's always to a resource of the same webapp
p43535
aVSo you don't need to specify the context path:
p43536
aVWhen you redirect (which is completely different from a forward), you can redirect to any URL (the same webapp, another webapp on the same host, or www
p43537
aVgoogle
p43538
aVcom if you like)
p43539
aVIf you redirect to some resource of the same webapp, you don't need to send the  part, but you need to send the context path, follwed by the resource path in the webapp, and you also should always use the encodeRedirectURL method (unless you don't care about users relying on URL-rewriting rather than cookies for session management):
p43540
aVis used to get  without hard-coding it
p43541
as(dp43542
g23
V571407
p43543
stp43544
a((dp43545
g2
(lp43546
VYou're returning the String representation of the query
p43547
aVYou just need to execute the query, and return its unique result:
p43548
aV(assuming the method name is the same as in the Java version)
p43549
as(dp43550
g23
V571407
p43551
stp43552
a((dp43553
g2
(lp43554
VIn a HQL query, you need to use the  keyword to do that:
p43555
aVThis is well explained in the Hibernate documentation
p43556
aVI've never used QueryDSL, but according to its documentation, you just need to call the fetch() method after each join to add this fetch keyword:
p43557
as(dp43558
g23
V571407
p43559
stp43560
a((dp43561
g2
(lp43562
VYour display:table looks for the list in
p43563
aVBut the LoginAction is not in session scope (it's not in any scope), and there is no getLi() method anyway in LoginAction that would return the list, and even if there was such a method, the list is just a local variable of the  method
p43564
aVYou need to store the list in a request attribute in your  method:
p43565
aVand in the JSP, you need to use this request attribute:
p43566
as(dp43567
g23
V571407
p43568
stp43569
a((dp43570
g2
(lp43571
VWhy do you think it should be JS-escaped
p43572
aVIt shouldn't
p43573
aVIf you want to send HTML back, you send HTML back
p43574
aVThe fact that it's an AJAX request doesn't change anything
p43575
as(dp43576
g23
V571407
p43577
stp43578
a((dp43579
g2
(lp43580
VYou could use a post-commit hook script on the CVS server to update (refresh) a working copy on
p43581
aVEvery time you commit, the hook script would thus get the latest version of the files on the server and put them in
p43582
as(dp43583
g23
V571407
p43584
stp43585
a((dp43586
g2
(lp43587
VYou're creating 100 arrays, each containing a reference to the same list
p43588
aVI think what you want is creating 100 arrays, each containing a copy of the elements of the list:
p43589
aVBut I would advise avoiding arrays completely, and always using collections:
p43590
as(dp43591
g23
V571407
p43592
stp43593
a((dp43594
g2
(lp43595
VYou need to use NESTED
p43596
aVNote that this propagation mode uses JDBC SavePoints in order to achieve this behavior, and that the nested behavior thus only works if the transaction is just a wrapper around the JDBC connection
p43597
aVIt won't work for JTA transactions
p43598
aVSee the Spring documentation for more details
p43599
as(dp43600
g23
V571407
p43601
stp43602
a((dp43603
g2
(lp43604
VUnless you explicitely map the association as eagerly loaded (using ), the above query should only return the fields of the users, and should not load their
p43605
aVIf the sessions are loaded, then the association is marked as eagerly loaded, or you load them lazily by calling a method of the
p43606
as(dp43607
g23
V571407
p43608
stp43609
a((dp43610
g2
(lp43611
VJSP tags must be balanced correctly, as in a XML document
p43612
aVYou can't open a tag , open a tag  and close the  tag without having closed the  tag
p43613
as(dp43614
g23
V571407
p43615
stp43616
a((dp43617
g2
(lp43618
VIndeed store the value you want to pre-select, and add the following code:
p43619
as(dp43620
g23
V571407
p43621
stp43622
a((dp43623
g2
(lp43624
V limits the number of rows returned from the JDBC resultset coming from the SQL query executed
p43625
aVIt doesn't limit the number of objects returned from the Criteria query
p43626
aVFor a simple request without any join fetch, the two numbers are the same
p43627
aVBut for a query with a join fetch on a toMany association, the numbers aren't
p43628
aVFor example, if a document has 2 schedules, and each of these schedules has 3 activites, your query will return 6 JDBC rows for this single document
p43629
aVSo if you call , you'll get onlmy one, incomplete, document from your query
p43630
aVshould not be used with such queries
p43631
aVA workaround consists in executing a query returning only the IDs of the documents, and apply  on this query
p43632
aVOnce you have the 10 IDs, you execute a second query, with the fetch joins, returning the documents having one of these 10 IDs ()
p43633
as(dp43634
g23
V571407
p43635
stp43636
a((dp43637
g2
(lp43638
VHQL and SQL are two different things
p43639
aVYou could use a native SQL query instead of a HQL query
p43640
aVOr you could just execute the following query:
p43641
aVand add 6 days in Java:
p43642
as(dp43643
g23
V571407
p43644
stp43645
a((dp43646
g2
(lp43647
VThis is impossible
p43648
aVHibernate needs a well-defined set of entity classes with their mapping at startup
p43649
aVBut really, if you're working at the table-level and just need all the columns of a table in a CSV file, Hibernate is not the right tool
p43650
aVYou should just use JDBC
p43651
aVSelect everything from the table, get the result set metadata to know the number type and name of the columns, iterate over the JDBC result set, and generate a new CSV line for every row of the result set
p43652
as(dp43653
g23
V571407
p43654
stp43655
a((dp43656
g2
(lp43657
VYou just need a join:
p43658
as(dp43659
g23
V571407
p43660
stp43661
a((dp43662
g2
(lp43663
VI'm not sure I fully understand the question
p43664
aVBut supposing you have a , and you need a table displaying the row number, the person first name, and the person last name, you don't need any index in the Person or even in the list to do that:
p43665
aVAn ArrayList would be much more efficient than a LinkedList, since indexed access is O(1) rather than O(n) for a LinkedList
p43666
as(dp43667
g23
V571407
p43668
stp43669
a((dp43670
g2
(lp43671
VThe problem comes from the fact that you blindly pass the result of the three first queries as arguments to the last query
p43672
aVThis results in a where clause containing:
p43673
aVwhich is invalid
p43674
aVAn  clause must at least have one element inside the parentheses
p43675
aVYou should use another query if one of the list you pass as argument to the  clauses is empty
p43676
as(dp43677
g23
V571407
p43678
stp43679
a((dp43680
g2
(lp43681
VStop clearing the list, and it won't be empty anymore:
p43682
aVYou should create a new list at each iteration
p43683
aVPut the following line of code inside the for loop:
p43684
aVRemember that Java passes references to objects
p43685
aVSo the container list holds a reference to the list you add to it
p43686
aVIt doesn't make a copy of the list
p43687
aVSo your current code adds several references to the same list object to the container list, and you clear the list each time you add it
p43688
aVIt thus contains N references to the same empty list at the end of the loop
p43689
as(dp43690
g23
V571407
p43691
stp43692
a((dp43693
g2
(lp43694
s(dp43695
g23
V571407
p43696
stp43697
a((dp43698
g2
(lp43699
VYou could start by using the JSTL instead of most of the logic and bean tags
p43700
aVOther than that, your application will be dependant on Struts, and there's no way around it, other than
p43701
aVnot using any of what the framework offers, but then why use Struts in the first place
p43702
aVbuild some kind of super framework which use Struts behind the scene, but could be migrated to another underlying MVC framework
p43703
aVBut you'll probably lose more time creating and migrating the framework than it takes to build the whole app using Struts and migrate the app to another framework
p43704
aVStruts1 is obsolete anyway, and shouldn't be used for new projects
p43705
aVPrefer more modern frameworks such as Stripes or Spring MVC
p43706
as(dp43707
g23
V571407
p43708
stp43709
a((dp43710
g2
(lp43711
VYou already have a Date (or the number of milliseconds of the Date), so there is nothing to convert
p43712
aVA Date doesn't have any time zone
p43713
aVIt's a universal instant in time
p43714
aVThe time zone is relevant only when you display this date, because the date 65647678000 could be 12:38 in some time zone, but 10:38 in some other time zone
p43715
aVIt's also relevant when you parse the String representation of a Date, because 10:38 is 65647678000 in some time zone, but is 65657678000 in some other
p43716
aVWhile you don't display a Date object, or parse a String to a Date, you don't need to care about time zones
p43717
aVAnd to choose the time zone used when displaying/parsing it, set the time zone of the , and then use / to format/parse the date
p43718
aVWhen you use  to display a date, it will always use your current time zone
p43719
aVI find it easier to understand what I mean by not thinking of a Date as a day, a month, a year, an hour, etc
p43720
aV, but as a moment: "when Kennedy was shot"
p43721
aV"When Kennedy was shot" is the same moment for everyone
p43722
aVBut if you represent the moment "when Kennedy was shot" in Dallas time zone, it's not the same result as the result you get when you represent this same moment in Paris time zone
p43723
as(dp43724
g23
V571407
p43725
stp43726
a((dp43727
g2
(lp43728
VYou should first be consistent on where you put your annotations in an entity hierarchy
p43729
aVAlways put them on fields, or always put them on getters
p43730
aVThe annotations on your getters are ignored because the @Id annotation is put on the  field
p43731
aVOnce this is fixed, the  in  must be the name
p43732
aVof the join column
p43733
aVSo it must be the name of the column in the JobRelation table that is a foreign key to the TakeJob table
p43734
as(dp43735
g23
V571407
p43736
stp43737
a((dp43738
g2
(lp43739
VYour images should be in a source folder (let's call it "resources"), and respect the same package hierarchy rules as Java source files
p43740
aVIf you load your images with , then there must be a package named "res" in the resources source folder, containing a package named "images", containing :
p43741
aVThe generated jar file will look like this:
p43742
as(dp43743
g23
V571407
p43744
stp43745
a((dp43746
g2
(lp43747
VYou shouldn't have to format dates to insert them in a database
p43748
aVIf using JDBC, use prepared statements
p43749
aVTo answer your question, though,  can't mean minute and month at the same time
p43750
aVmeans month
p43751
aVmeans minute
p43752
as(dp43753
g23
V571407
p43754
stp43755
a((dp43756
g2
(lp43757
V doesn't return the same session as
p43758
aVThe former returns the contextual (thread-bound, by default) session
p43759
aVThe latter creates a new session, different from the contextual session
p43760
as(dp43761
g23
V571407
p43762
stp43763
a((dp43764
g2
(lp43765
VYou can get the metadata of all the entities using SessionFactory
p43766
aVgetAllClassMetadata()
p43767
as(dp43768
g23
V571407
p43769
stp43770
a((dp43771
g2
(lp43772
VProbably because they were not designed with the same goals in mind
p43773
aVThe servlet API is a simple API, very close to the HTTP protocol, on top of which you can build applications or frameworks
p43774
aVThe HTTP protocol being completely stateless, I guess it made sense to also build an API that is stateless
p43775
aVSeveral frameworks built on top of the servlet API (Stripes, for example), use one instance of Action per request, which is not used concurrently
p43776
aVEJBs are a much more complex and high-level framework, designed to implement transactional business-logic as simply as possible
p43777
aVIt's more heavyweight, and has stateful components
p43778
aVThese obviously need to be thread-safe
p43779
aVI guess it was thus natural to make stateless beans thread-safe as well
p43780
aVIt should be noted that Spring beans, for example, are singletons by default, and must thus follow the same rules as servlets
p43781
aVSo multiple designs are possible to provide more or less the same functionality
p43782
aVThreads have nothing to do with a performance optimization
p43783
aVIf you need to handle 3 requests concurrently, you need 3 threads, whether the request goes to a servlet or to an EJB
p43784
as(dp43785
g23
V571407
p43786
stp43787
a((dp43788
g2
(lp43789
VThe service layer is mainly justified by the need for transactions, and by the need of specific business logic for every use-case
p43790
aVMaking it generic doesn't make much sense, IMHO
p43791
aVAnd having a service per entity doesn't make much sense either, still IMHO: some entities are tightly linked together, and can't just be created or updated independently by a service
p43792
aVAnd most of the services involve several entities
p43793
aVThe service layer, as its name indicates, is there to provide services to the above layer (the presentation layer)
p43794
aVSo it should not have some generic interface disconnected from the reality of what the application needs to do
p43795
aVIt should provide the services that the UI layer needs
p43796
aVI find it much more logical to split the services based on use-cases or groups of related use-cases rather than entities
p43797
aVAnd I also find it more logical to start implementing the UI layer, see what services it needs, and implement those services, rather than designing generic services, then start implementing the UI layer, and fall in one of those commonly seen traps:
p43798
aVa whole lot of services don't have any use and are implemented but never used
p43799
aVthe UI layer start calling N low-lever services for each button click, forgets about transactional integrity, and contains the logic that should be in the service layer
p43800
as(dp43801
g23
V571407
p43802
stp43803
a((dp43804
g2
(lp43805
VOf course you can't use JOptionPane in Struts
p43806
aVStruts runs at server-side
p43807
aVJOptionPane would display a Swing dialog on the web server screen, not in the client's browser
p43808
aVTo display a dialog box in a browser, you need JavaScript
p43809
aVYou could use jQuery-UI for example
p43810
as(dp43811
g23
V571407
p43812
stp43813
a((dp43814
g2
(lp43815
VThe transaction is associated with the current thread somehow, using a ThreadLocal variable
p43816
as(dp43817
g23
V571407
p43818
stp43819
a((dp43820
g2
(lp43821
VThe query is not valid HQL
p43822
aVThe documentation says:
p43823
aVNote that HQL subqueries can occur only in the select or where
p43824
aVclauses
p43825
aVA join can only be done through an association between two entities
p43826
as(dp43827
g23
V571407
p43828
stp43829
a((dp43830
g2
(lp43831
VThe join is an inner join by default
p43832
aVSo the query will only select the games that have at least 1 category
p43833
aVMake it a left join, and it will select all the games (even those which don't have any category)
p43834
as(dp43835
g23
V571407
p43836
stp43837
a((dp43838
g2
(lp43839
VShow log
p43840
aVshows the latest commits
p43841
aVNot just the latest commits before your last update
p43842
aVIt does what you want by default
p43843
as(dp43844
g23
V571407
p43845
stp43846
a((dp43847
g2
(lp43848
VDesign your database properly, and don't store non-existing child IDs in the  column
p43849
aVStore NULL in this column if the parent doesn't have a child, and create a foreign key constraint for the column to make sure the column always holds NULL or a valid child ID
p43850
aVThis will allow you to remove the  annotation from your mapping, and will remove the additional query
p43851
aVIndeed, when Hibernate executes the first query, it gets -1 as the child ID
p43852
aVBut since there is no way to know if -1 is a valid child ID or not, it must execute the additional query to decide if the child exists (and should thus be initialized in the parent), or doesn't (and should thus be set to null in the parent)
p43853
as(dp43854
g23
V571407
p43855
stp43856
a((dp43857
g2
(lp43858
V writes all the pending changes to the database
p43859
aVIt executes insert, update and delete statements
p43860
aVIt's (by default) automatically called before committing the transaction
p43861
aVBut just because you flushed doesn't mean other transactions will see the changes
p43862
aVThis depends on the transaction isolation level, which, in most databases, is READ_COMMITTED
p43863
aVTransactions run in isolation from each other (the I in ACID)
p43864
aVSo, if your isolation level is READ_COMMITTED, the transaction in the second app won't see any change done in the transaction of the first app until this transaction has committed
p43865
as(dp43866
g23
V571407
p43867
stp43868
a((dp43869
g2
(lp43870
VHere are two excerpts from the Java EE specification:
p43871
aVA JAR format file (such as a
p43872
aVjar file,
p43873
aVwar file, or
p43874
aVrar file) may
p43875
aVreference a
p43876
aVjar file or directory by naming the referenced
p43877
aVjar file
p43878
aVor directory in a Class-Path header in the referencing JAR file\u2019s
p43879
aVManifest file
p43880
aVThe referenced
p43881
aVjar file or directory is named using a
p43882
aVURL relative to the URL of the referencing JAR file
p43883
aVThe Manifest file
p43884
aVis named META-INF/MANIFEST
p43885
aVMF in the JAR file
p43886
aVThe Class-Path entry in
p43887
aVthe Manifest file is of the form
p43888
ag7142
aVear file may contain a directory that contains libraries packaged
p43889
aVin JAR files
p43890
aVThe library-directory element of the
p43891
aVear file\u2019s
p43892
aVdeployment descriptor contains the name of this directory
p43893
aVIf a
p43894
aVlibrary-directory element isn\u2019t specified, or if the
p43895
aVear file does
p43896
aVnot contain a deployment descriptor, the directory named lib is used
p43897
aVAn empty library-directory element may be used to specify that there
p43898
aVis no library directory
p43899
aVAll files in this directory (but not
p43900
aVsubdirectories) with a
p43901
aVjar extension must be made available to all
p43902
aVcomponents packaged in the EAR file, including application clients
p43903
aVThese libraries may reference other libraries, either bundled with the
p43904
aVapplication or installed separately, using any of the techniques
p43905
aVdescribed herein
p43906
as(dp43907
g23
V571407
p43908
stp43909
a((dp43910
g2
(lp43911
VThis error happens when you use Eclipse as IDE and try to run code that doesn't even compile
p43912
aVCheck your Problems view in Eclipse, and fix the compilation errors before executing the application
p43913
as(dp43914
g23
V571407
p43915
stp43916
a((dp43917
g2
(lp43918
V means: Nobody generates the ID, the ID is set explicitely in the entity before persisting it
p43919
aVWhat you want to do is impossible
p43920
aVHibernate would have to insert an entity without knowing its ID, then the database would generate the ID, and Hibernate would have to reload the entity from the database to know its ID
p43921
aVBut how would it reload the entity without knowing its ID
p43922
aVThe native generator does the same thing, and it works because the database provides a  method which allows getting the IOD that the database has generated
p43923
aVBut you can't do that with Oracle and a trigger
p43924
aVRemove the trigger from the database, use the sequence generator, and everything will be fine
p43925
as(dp43926
g23
V571407
p43927
stp43928
a((dp43929
g2
(lp43930
VIn your action definition, you probably specified the login
p43931
aVjsp instead of the login tile name in the input parameter:
p43932
aVshould be
p43933
as(dp43934
g23
V571407
p43935
stp43936
a((dp43937
g2
(lp43938
VIt's not a valid JPQL query
p43939
aVIt's a valid HQL query, but HQL ain't JPQL
p43940
aVA JPQL query must have a select clause
p43941
aVHere's the BNF syntax of a JPQL clause, from the specifications:
p43942
as(dp43943
g23
V571407
p43944
stp43945
a((dp43946
g2
(lp43947
VIf you have 64 enum values, you could use a byte array where each byte would contain the ordinal of one of the enum items
p43948
aVThis would need  bytes for 3 arrays of 64 bytes (16 bytes being the cost of a byte array, regardless of its length)
p43949
aVThis still wastes space, as each byte is able to store 8 bits, but you only need 6 to store numbers from 0 to 63
p43950
aVSo you could apply a clever packing algorithm that would use 3 bytes (24 bits) to store 4 enum ordinals
p43951
aVThis would lead to  bytes
p43952
aVI suck at byte manipulations, so I'll leave the implementation as an exercise for you
p43953
as(dp43954
g23
V571407
p43955
stp43956
a((dp43957
g2
(lp43958
VYou shouldn't use a random generator to generate unique keys
p43959
aVNothing guarantees uniqueness
p43960
aVWhy don't you use a UUID generator instead, or a database sequence
p43961
aVAnd why do you want your keys to be properly distributed
p43962
aVThe only important thing for a primary key is its uniqueness
p43963
aVAnd the seed doesn't have any impact on the distribution, AFAIK
p43964
as(dp43965
g23
V571407
p43966
stp43967
a((dp43968
g2
(lp43969
VAn SVN repository is "just" a bunch of files and directories
p43970
aVYou can access this repository directly ( protocol) or through http, https, svn, etc
p43971
aVTortoiseSVN just allows creating the repository
p43972
aVIf you need to access it using another protocol than the  protocol, you'll need a server (which TortoiseSVN doesn't provide)
p43973
as(dp43974
g23
V571407
p43975
stp43976
a((dp43977
g2
(lp43978
VYes, by specifying that the OneToMany must use a join column instead of the default (which uses a join table):
p43979
as(dp43980
g23
V571407
p43981
stp43982
a((dp43983
g2
(lp43984
VYou forgot to declare the mapping files in the main config file:
p43985
aVI'll repeat my comment here: the entities should be named with a singular form: ,
p43986
aVTweak the auto-generation (see http://docs
p43987
aVjboss
p43988
aVorg/tools/3
p43989
ag2332
ag10
aVGA/en/hibernatetools/html_single/index
p43990
aVhtml#tab_and_col), or refactor the generated code afterwards, because all your application code will be based on these names, and it's really awful to call an  an
p43991
aVThe code will be confusing and hard to understand
p43992
aVEntities are the core of your application anyway, and should contain other methods than just setters and getters
p43993
aVSo automatic generation is OK to start up, but should be forgotten afterwards
p43994
as(dp43995
g23
V571407
p43996
stp43997
a((dp43998
g2
(lp43999
VYou should not have to do that
p44000
aVTransactions run in isolation from each other
p44001
aVIn the default isolation level (READ_COMMITTED, most of the time), each transaction only sees what other transactions have already committed
p44002
aVSo if you have one parallel transaction reading from the database while your transaction is running, this parallel transaction won't see the changes of your main transaction until it has committed
p44003
aVEach transaction will see a coherent snapshot of the database
p44004
aVThis is sufficient in most of the cases
p44005
aVIf it's not sufficient, you might want to use a higher isolation level (like REPEATABLE_READ or even SERIALIZABLE, if your database supports them), but completely locking the database is impossible, and not desirable
p44006
aVRead http://en
p44007
aVwikipedia
p44008
aVorg/wiki/Isolation_%28database_systems%29 for more details about what each isolation level guarantees, and read your database documentation to see which levels it supports
p44009
aVSide note: @Transactional is a Spring annotation, not a Hibernate one
p44010
as(dp44011
g23
V571407
p44012
stp44013
a((dp44014
g2
(lp44015
VThe -jar option launches the class that is indicated as the main class in the manifest of the jar file (and which must be the Test class, in the default package, in your case)
p44016
aVThe -cp option sets the classpath to use for the app which, in this case, only contains your test jar
p44017
as(dp44018
g23
V571407
p44019
stp44020
a((dp44021
g2
(lp44022
VThe project is where the sources of the application, on the developer workstation, are
p44023
aVAt runtime, all you got is a server running a deployed war
p44024
aVThe sources of the application, and the directory where they are on your workstation are irrelevant for the app server
p44025
aVIt doesn't care, and doesn't have to know
p44026
aVThere might be such a directory on the app server machine, but it's not sure, and it's a directory as all the other directories on the machine
p44027
aVThere is no other way than specifying it in some config file
p44028
as(dp44029
g23
V571407
p44030
stp44031
a((dp44032
g2
(lp44033
VSee http://groups
p44034
aVgoogle
p44035
aVcom/group/h2-database/browse_thread/thread/390eed5e21584faa
p44036
aVpli=1 for an answer to your question:  is the default escape character in H2, and you need to escape it (with another ) if you use it in a like clause
p44037
aVOr you can set the default escape character to an empty string to avoid this escaping problem
p44038
aVSee http://www
p44039
aVh2database
p44040
aVcom/javadoc/org/h2/constant/DbSettings
p44041
aVhtml and search for "defaultEscape"
p44042
as(dp44043
g23
V571407
p44044
stp44045
a((dp44046
g2
(lp44047
VHudson is a continuous integration server
p44048
aVIts goal is to check out the source code of your app, compile it, run unit tests and various other code quality checks, build the application, and potentialy deploy it
p44049
aVThe build/deploy is typically done using a build tool (Maven, Ant, Gradle, whatever) that uses a build file
p44050
aVYou should be able to run this same build using this same build file, which must be in the SVN repo with the sources, and deploy the app on your own local server
p44051
aVNow what I wonder is: this whold build procedure and infrastructure was not built magically
p44052
aVSomeone in your company must have created it and documented it, or at least knows how it works
p44053
aVWhy don't you ask this person how you're supposed to work
p44054
as(dp44055
g23
V571407
p44056
stp44057
a((dp44058
g2
(lp44059
VA  is not a
p44060
aVIf it was, you could do the following:
p44061
aVand you would end up with a list of cars which contains a bicycle
p44062
aVIt would ruin the type-safety of generic collections
p44063
aVYou probably should used a  instead of
p44064
aVmeans: a
p44065
as(dp44066
g23
V571407
p44067
stp44068
a((dp44069
g2
(lp44070
V,  and  are three different operations
p44071
aVIf you want to cascade the  operation, you need to use the Hibernate annotation
p44072
aVor
p44073
aV, which also include the Hibernate proprietary operations
p44074
as(dp44075
g23
V571407
p44076
stp44077
a((dp44078
g2
(lp44079
VThe correct format is
p44080
aVdoesn't mean anything, and  means day of year (instead of day of month)
p44081
as(dp44082
g23
V571407
p44083
stp44084
a((dp44085
g2
(lp44086
VI think what you're after is the following:
p44087
as(dp44088
g23
V571407
p44089
stp44090
a((dp44091
g2
(lp44092
VYou do eactly as you would do to open the page in the same window, except that the link should contain a  attribute:
p44093
as(dp44094
g23
V571407
p44095
stp44096
a((dp44097
g2
(lp44098
VFirst of all, you'll need to JavaScript-escape the query
p44099
aVIndeed, if you query is
p44100
aVThe resulting HTML code will be:
p44101
aVAnd this will obviously cause problems, because due to the unescaped single quotes, the JS code won't be valid
p44102
aVYou could use apache commons-lang StringEscapeUtils
p44103
aVescapeECMAScript() to do that
p44104
aVNow, an alert box doesn't display HTML
p44105
aVSO you must not transform  into  if you want to display it in an alert box
p44106
aVLeave them as is, and the alert box will display the query just fine
p44107
aVIf you want HTML support, you could use jQuery UI's dialog box to display your SQL query
p44108
aVIf you do, then replacing  with  would be needed
p44109
aVBut you could do that in Java, and place your query in a hidden div that the jquery UI dialog box would use as the content of its dialog box
p44110
as(dp44111
g23
V571407
p44112
stp44113
a((dp44114
g2
(lp44115
V: You're using  for month, instead of
p44116
aVMoreover, your code checks that the date in the page is exactly the same as the current date (with second precision)
p44117
aVIs this really what you need
p44118
aVIf the server generating the page doesn't have exactly the ssame date as the client executing the test, or if the test is a bit slow, the test will never pass
p44119
aVDon't you simply want to check that the generated date is parsable with the date format (and, potentially, that its value is in the same minute or hour as the current date)
p44120
as(dp44121
g23
V571407
p44122
stp44123
a((dp44124
g2
(lp44125
VWhy would it operate on a copy
p44126
aVJava passes references to objects
p44127
aVAnd references are very much like C++ pointers
p44128
as(dp44129
g23
V571407
p44130
stp44131
a((dp44132
g2
(lp44133
VIt runs embedded inside Tomcat, and is accessible through JNDI, like all other JTA transaction managers
p44134
aVThe whole process of embedding Bitronix with Tomcat is described here
p44135
aVNote that there is no reason to use Bitronix with Glassfish, since Glassfish is a full-stack Java EE app server and thus already has a JTA transaction manager
p44136
as(dp44137
g23
V571407
p44138
stp44139
a((dp44140
g2
(lp44141
VI would first execute a JPQL query:
p44142
aVThen I would iterate through the  returned, and group them by paramType
p44143
aVWith Guava, it would be:
p44144
as(dp44145
g23
V571407
p44146
stp44147
a((dp44148
g2
(lp44149
VIf you're using a servlet 3
p44150
aV0 compliant server, I would recommend packaging all shared web resources (JSPs, CSS files, etc
p44151
aVinside the  directory of a jar
p44152
aVPut this jar in the  of every webapp, and these shared resources will become part of the webapp, just as if they were directly in the root of the webapp
p44153
as(dp44154
g23
V571407
p44155
stp44156
a((dp44157
g2
(lp44158
VMulti-threading has two main advantages, IMO:
p44159
aVbe able to distribute intensive work across several CPU/cores: instead of letting 3 of 4 CPU idle and do everything on a single CPU, you split the problem in 4 parts, and let each CPU work on its own part
p44160
aVThis reduces the time it takes to execute a CPU-intensive task, and justifies the money you spent on multi-CPU hardware
p44161
aVreduce the latency of many tasks
p44162
aVSuppose 4 users make a request to a web server, and the requests are all handled by a single thread
p44163
aVSuppose the first request makes a very long database query
p44164
aVThe thread is idle, waiting for the query to complete, and the 3 other users wait until this request is finished to get their tiny web page
p44165
aVIf you have 4 threads, even with a single CPU, the second, third and fourth requests can be handled while the long database query is executed by the database server, and all the users are happy
p44166
aVSo multi-threading is especially important when you have blocking IO calls, since those blocking IO calls let the CPU idle, instead of executing some other waiting tasks
p44167
aVNote: the problem with reading from the same disk from multiple threads is that instead of reading the whole long file sequentially, it would force the disk to switch between various physical locations of the disk at each context switch
p44168
aVSince all the threads are waiting for the disk-reading to finish (they're IO-bound), this makes the reading slower than if a single thread read everything
p44169
aVBut once the data is in memory, it would make sense to split the work between threads
p44170
as(dp44171
g23
V571407
p44172
stp44173
a((dp44174
g2
(lp44175
VI would simply use a  to eliminate duplicate codes, then put all the values inside a , and sort this list by mark in descending order
p44176
as(dp44177
g23
V571407
p44178
stp44179
a((dp44180
g2
(lp44181
VTo get this URL, you would have to deploy the webapp as the root webapp
p44182
aVAFAIR, you just need to name the generated war ROOT
p44183
aVwar to do that
p44184
aVOtherwise, the app is deployed under a context path, which is by default the name of the war file
p44185
aVSo if your war if hello
p44186
aVwar, the URL should be
p44187
as(dp44188
g23
V571407
p44189
stp44190
a((dp44191
g2
(lp44192
VGet the user from the database, concatenate its existing email with the new value, and save the user
p44193
aVJPA uses entities and generates SQL queries for you
p44194
aVYou tyically use queries only to get entities from the database
p44195
aVAnd those queries are JPQL queries, not SQL queries
p44196
aVAnd it looks like your schema is not normalized correctly
p44197
aVOne User entity should have many Email entities (OneToMany associations), rather than stuffing all the emails in a single CLOB field of the user
p44198
aVThis is how you could search and get individual emails from the database, and get users without all their emails if you don't need them
p44199
as(dp44200
g23
V571407
p44201
stp44202
a((dp44203
g2
(lp44204
VBasically, yes
p44205
aVThe Hibernate documentation says:
p44206
aVDatabase, or system, transaction boundaries are always necessary
p44207
aVNo
p44208
aVcommunication with the database can occur outside of a database
p44209
aVtransaction (this seems to confuse many developers who are used to the
p44210
aVauto-commit mode)
p44211
aVAlways use clear transaction boundaries, even for
p44212
aVread-only operations
p44213
aVDepending on your isolation level and database
p44214
aVcapabilities this might not be required, but there is no downside if
p44215
aVyou always demarcate transactions explicitly
p44216
aVCertainly, a single
p44217
aVdatabase transaction is going to perform better than many small
p44218
aVtransactions, even for reading data
p44219
as(dp44220
g23
V571407
p44221
stp44222
a((dp44223
g2
(lp44224
VFirst of all, make your mapping look like described in the documentation
p44225
aVThe one-to-one needs a property-ref attribute
p44226
aVThen, make sure that you initialize the  property when you want to attach an AccountLoan to an Account
p44227
aVInitializing the  field is not sufficient
p44228
as(dp44229
g23
V571407
p44230
stp44231
a((dp44232
g2
(lp44233
VWhen you use a relative file name such as , you're asking for a file with this name in the current directory
p44234
aVThe current directory has nothing to do with packages
p44235
aVIt's the directory from which the JVM is started
p44236
aVSo if you're in the directory  when you launch your application (using ), it will look for the file
p44237
as(dp44238
g23
V571407
p44239
stp44240
a((dp44241
g2
(lp44242
VYou're mixing Java code and JavaScript code as if they were the same thing
p44243
aVJava code inside a JSP should be avoided, and if it's there, it must be inside scriptlet tags ()
p44244
aVThsi Java code is executed at server-side, when the JSP is executed and the HTML and JavaScript code is generated
p44245
aVThen, in the browser, JavaScript code can be executed
p44246
aVThis JavaScript code can't invoke methods of Java objects which were used to generate HTML at server-side
p44247
aVJava doesn't exist in the browser
p44248
aVIf you need to invoke server-side Java code from the browser, you must send a new HTTP request to the server (by clicking a link, submitting a form, or sending an AJAX request)
p44249
as(dp44250
g23
V571407
p44251
stp44252
a((dp44253
g2
(lp44254
V(assuming jsonObject is of type org
p44255
aVjson
p44256
aVJSONObject)
p44257
as(dp44258
g23
V571407
p44259
stp44260
a((dp44261
g2
(lp44262
VIf the shared state consists in a single field, and you don't use any get-and-set construct (like  for example) to assign it, then volatile is good enough
p44263
aVMost of the volatile usages can be replaced by the use of AtomicXxx types, though (which provide atomic get-and-set operations)
p44264
as(dp44265
g23
V571407
p44266
stp44267
a((dp44268
g2
(lp44269
VThe default type of attributes is
p44270
aVIf you expect something else, specify the expected type:
p44271
aVor
p44272
aVfor example
p44273
as(dp44274
g23
V571407
p44275
stp44276
a((dp44277
g2
(lp44278
VYou do it as you would do it in any programming language:
p44279
aVBut the main problem is that you shouldn't do that at all
p44280
aVJSPs should be used to generate markup
p44281
aVNot to check whether the user is logged in and display a page or another depending on the result
p44282
aVYou should do that in Java, in a servlet which dispatches to the appropriate JSP
p44283
aVThat's the MVC pattern
p44284
aVAnd since it's something that should be done for almost all the requests, you should even do that in a servlet filter
p44285
aVA filter is mapped to a set of URLs, like a servlet, and intercepts all the requests to these URLs
p44286
aVThe filter would thus check if the user is logged in and forward or redirect to the login page if not
p44287
aVIf the user is authenticated, it wouldn't do anything except letting the request go to the servlet/JSP mapped to the URL
p44288
aVRead http://www
p44289
aVoracle
p44290
aVcom/technetwork/java/filters-137243
p44291
aVhtml for example, to know more about filters
p44292
as(dp44293
g23
V571407
p44294
stp44295
a((dp44296
g2
(lp44297
VThe problem with your code is that you expect a transaction to be started when you call
p44298
aVThis won't happen because Spring uses AOP to start and stop transactions
p44299
aVIf you get an instance of a transactional Spring bean from the bean factory, or through dependenvy injection, what you get is in fact a proxy around the bean
p44300
aVThis proxy starts a transaction before calling the actual method, and commits or rollbacks the transaction once the method has completed
p44301
aVIn this case, you call a local method of the bean, without going through the transactional proxy
p44302
aVPut the  method (annotated with ) in another Spring bean
p44303
aVInject this other Spring bean into DemoService, and call the other Spring bean from the DemoService, and everything will be fine
p44304
as(dp44305
g23
V571407
p44306
stp44307
a((dp44308
g2
(lp44309
VImplementing Serializable is not sufficient to make an object serializable
p44310
aVFor example, a Socket is not serializable: it doesn't make sense to serialize a socket
p44311
aVSo, if you have a  class that has a field of type  and that implements , how do you intend to serialize a  instance
p44312
aVIt won't work
p44313
aVAll the fields of a serializable object msut also be serializable, recursively
p44314
aVAnd, as Hovercraft says in his comment, you should serialize data, not swing components
p44315
as(dp44316
g23
V571407
p44317
stp44318
a((dp44319
g2
(lp44320
VCertainly not inside WEB-INF
p44321
aVYou might want to save them in the file system, but not in the webapp's directory
p44322
aVFirst of all, it could very well be inexistent, if the app is packaged as a war
p44323
aVAnd second, you would lose evrything as soon as you redeploy the app
p44324
aVDesktop apps don't store their user data in their install directory, do they
p44325
aVIt should be the same for webapps
p44326
aVNow, since images are usually big, and they're not searchable, you might want to store them on the file system, and only store their name, path, hash, and/or mime type into the database
p44327
aVBut it depends on your application, if they need to be served/used by other applications, if these apps have access to the database and/or the file system, etc
p44328
aVYou decide
p44329
as(dp44330
g23
V571407
p44331
stp44332
a((dp44333
g2
(lp44334
VYes, it's possible
p44335
aVWrite to a  instead of writing to a
p44336
aVThe use the  method of the  to get the byte array, in memory, containing the bytes of the zip file
p44337
aVCreate a prepared statement as you would do to insert any kind of data into a database table, and use its  or  method to fill one of the column with the content of the byte array
p44338
aVYou just need to pass a  (constructed with the byte array as argument) to one of these methods
p44339
as(dp44340
g23
V571407
p44341
stp44342
a((dp44343
g2
(lp44344
V returns the current time, in nanoseconds
p44345
aVCall it once and store the result in a variable, let your program run for a while, call it a second time and compute the difference
p44346
aVYou'll get nanoseconds that you may convert to seconds, minutes, or whatever unit you want
p44347
aVGuava has a StopWatch class that does everything for you
p44348
as(dp44349
g23
V571407
p44350
stp44351
a((dp44352
g2
(lp44353
VRemove the :
p44354
as(dp44355
g23
V571407
p44356
stp44357
a((dp44358
g2
(lp44359
VI think the main problem you should worry about is transactional integrity
p44360
aVI would bet that you'll find many use-cases where several safe/update/saveOrUpdate/delete operations should be in a single transaction, but are each done in their own transaction "thanks to" this helper class
p44361
aVThe other problem is that using this helper class forces the use of two session factories instead of just one, since this helper class uses its own, private, session factory
p44362
aVI would remove this class, and use Spring or EJBs to have declarative transaction management, and use the session per transaction pattern, or the open session in view pattern, which both make sure the session is closed at some time
p44363
as(dp44364
g23
V571407
p44365
stp44366
a((dp44367
g2
(lp44368
VSuppose it did what you want, and suppose I use your webapp, and choose to upload an image from my  directory
p44369
aVYou would thus get  as argument to your method
p44370
aVWhat would it be useful for
p44371
aVA file path on the end-user's machine (my machine) doesn't represent anything meaningful on the webapp server (your machine)
p44372
aVRead Spring MVC's documentation to understand how you must handle file uploads
p44373
as(dp44374
g23
V571407
p44375
stp44376
a((dp44377
g2
(lp44378
VYour  element has an attribute named , whose value is "Montage", but that doesn't make the job element part of the "Montage" namespace
p44379
aVJust use
p44380
as(dp44381
g23
V571407
p44382
stp44383
a((dp44384
g2
(lp44385
VAssuming you're talking about java
p44386
aVio
p44387
aVOutputStreamWriter, yes, you should close it, in a finally block, when you don't want to write anything more
p44388
aVThis allows the underlying OutputStream to be closed
p44389
aVIf the underlying OutputStream is a FileOutputStream, it will release the file descriptor (which is a limited OS resource), and allow other aps to read the file
p44390
aVIf it's a SocketOutputSTream, it will signal to the other side that it shouldn't expect anything more from the socket input stream
p44391
aVIn general, streams and readers/writers must always be closed properly
p44392
aVIf using Java 7, use the new try-with-resources construct to make sure it's done automatically for you
p44393
as(dp44394
g23
V571407
p44395
stp44396
a((dp44397
g2
(lp44398
VYes, that's what you should do
p44399
aVNote though that:
p44400
aVunless yo have only one employee for a given country, you don't have a one-to-one association, but a many-to-one association
p44401
aVusing  gets you a reference to a given country (if you know its ID, of course) without even executing a select query
p44402
aVIf the country hasn't been loaded yet into the session, it will simply return an unitialized proxy to the country, which is sufficient to initialize the association
p44403
aVOf course, if you want to make sure the country actually exists, you should use , which executes a select query and loads the data of the country in the session (unless it has already been loaded, of course)
p44404
as(dp44405
g23
V571407
p44406
stp44407
a((dp44408
g2
(lp44409
VIt's a choice that Java designers have made:  extends , but you can't add anything other than a  to an array whose concrete type is  without getting a runtime exception
p44410
aVWhat they could have made invalid is the following:
p44411
aVbecause it effectively allows any kind of object to be added to the array without getting any compiler error (as you noticed), which is perfectly normal since an Integer is an Object, and the compile-time type of the array is
p44412
aVThey didn't make this choice for arrays, but they did it for generic collections:
p44413
aVgenerates a compiler error, because  doesn't extend
p44414
aVCollections should generally be preferred over arrays, as they're safer, and provide a lot more functionality
p44415
as(dp44416
g23
V571407
p44417
stp44418
a((dp44419
g2
(lp44420
VThe first one calls an anonymous function, which takes 2 arguments and doesn't do anything, with  and  as argument
p44421
aVThe second does the same thing
p44422
aVIt uses $ as the first argument name, and passes jQuery as the argument value
p44423
aVIt's thus possible, inside this function to use  to refer to the  object
p44424
aVIt's a way to alias variables to another name inside a function
p44425
as(dp44426
g23
V571407
p44427
stp44428
a((dp44429
g2
(lp44430
VReally, you shouldn't use reflection to do that
p44431
aVMake all your entities implement a common interface with a  method:
p44432
as(dp44433
g23
V571407
p44434
stp44435
a((dp44436
g2
(lp44437
VYou should use a JSON parser to extract data from the results, rather than parsing the result yourself
p44438
aVGoogle won't return all the results at once for a single query
p44439
aVIf you search for Java, there are approximately 214,000,000 results
p44440
aVReturning them all would last days, and you couldn't do anything meaningful with them anyway
p44441
aVSo if there are several pages, you must do a new query for each page, as you do when doing a Google search with your browser
p44442
aVMostof the time, the interesting results are in the first or second page
p44443
aVReturning more than that would waste resources
p44444
aVGoogle doesn't know the exact number of results
p44445
aVIt returns an estimate
p44446
aVCounting the exact number of results would be too hard
p44447
aVKnowing that there are 214,000,001 results and not 214,000,002 doesn't ad any value, and the exact number would be immediately obsolete anyway
p44448
as(dp44449
g23
V571407
p44450
stp44451
a((dp44452
g2
(lp44453
VBut everything would be simpler if
p44454
aVyou named your entities  and  (without the final )
p44455
aVyou mapped the association as a bidirectional one
p44456
aVIt would allow getting the  by ID, and just call  to get its contacts
p44457
as(dp44458
g23
V571407
p44459
stp44460
a((dp44461
g2
(lp44462
VTo execute a main class  in package , the command is
p44463
aVBut the directory (or jar) containing the root of the package tree (i
p44464
ag468
aVthe directory containing ) must be in the classpath, in order for java to find the class
p44465
aVSo the full command in your case is
p44466
aVAnd this command can be run from any directory you want
p44467
aVSide note: by convention, all Java classes start with an upper-case letter in Java
p44468
aVYour class should be named  to respect these conventions
p44469
as(dp44470
g23
V571407
p44471
stp44472
a((dp44473
g2
(lp44474
VYes, it's a good practice to avoid raw types and use generic types
p44475
aVUsing  makes it clear that the Callable is intended to return any kind of Object
p44476
aVUsing  doesn't make that clear
p44477
as(dp44478
g23
V571407
p44479
stp44480
a((dp44481
g2
(lp44482
VYou can't redirect to a tile definition
p44483
aVA redirect consists in sending a response to the browser telling him: "please go to the following URL"
p44484
aVA tile definition is not a URL
p44485
aVYou can redirect to a JSP, and the JSP will be executed
p44486
aVIt's bad practice though, because in a properly designed MVC application, all the requests should go through a controller
p44487
aVAnd you can redirect to the URL of an action of course, which is what you should do: redirected to the  URL (assuming  is the URL of the Struts welcome action)
p44488
as(dp44489
g23
V571407
p44490
stp44491
a((dp44492
g2
(lp44493
VUsing threads in a webapp is not a problem per se
p44494
aVIt just depends why and how you use them
p44495
aVIn particular, if you have 1000 users, and you start one thread for each of these users, you'll bring the JVM to its knees
p44496
aVBut if threads are launched very raraely, for a specific, reduced set of users and use-cases, and if you use a thread pool to limit the number of such threads, you shouldn't have any problem
p44497
aVIt's just important to understand what you're doing
p44498
aVAlso, make sure to not pass a HttpServletRequest or HttpServletResponse object to such a thread, because they aren't meant to be used by several concurrent threads, and they are not supposed to be used anymore once the request has been handled
p44499
as(dp44500
g23
V571407
p44501
stp44502
a((dp44503
g2
(lp44504
VNo
p44505
aVYou need to execute a query which selects all the products who have a score that is bigger than the average of all the scores
p44506
aVThis needs a subquery
p44507
aVIn HQL:
p44508
aVI'll let you translate this to Criteria if you really want to do it with Criteria (which, IMHO, is a bad idea since the above is much more readable and you don't need to dynamically compose your query)
p44509
as(dp44510
g23
V571407
p44511
stp44512
a((dp44513
g2
(lp44514
VYou shouldn't care about how the jar files are segregated into the war file: it's only used by the container
p44515
aVSegregating the jar files could be useful in your source project
p44516
aVBut then you just need to have a build process (using ant, gradle, whatever) that copies all the jar files from all the subdirectories into
p44517
aVUsing ant:
p44518
as(dp44519
g23
V571407
p44520
stp44521
a((dp44522
g2
(lp44523
V assigns null to the  variable
p44524
aVIf the list has been stored before in another object, this other object still has a reference to the list, and thus still has access to all the elements that are stored in this list
p44525
aVIf the List object object previously referenced by  is not reachable anymore, it will be garbage collected
p44526
aVSame for its elements: if they're not reachable anymore, they will be garbage collected
p44527
aVis very different: it removes all the elements from the list
p44528
aVIf the list has been stored before in another object, this other object has a reference to the list you just cleared, and thus doesn't have access to the elements that were stored in the list anymore (since you removed them)
p44529
aVIf the elements previously stored in the list are not reachable anymore, they will be garbage collected
p44530
aVThe list won't be, since you keep a reference to it ()
p44531
aVSo ,  should be used if you want to reuse the variable, but want to keep the List Object as is
p44532
aVshould be used if you want to remove all the elements from the list
p44533
as(dp44534
g23
V571407
p44535
stp44536
a((dp44537
g2
(lp44538
Vbranches and tags are the same thing: a cheap copy from one URL and version to another URL
p44539
aVSee http://svnbook
p44540
aVred-bean
p44541
aVcom/en/1
p44542
aV7/svn-book
p44543
aVhtml#svn
p44544
aVref
p44545
aVsvn
p44546
ag18654
aVcopy for the reference of the copy command
p44547
aVWhat you just need is:
p44548
as(dp44549
g23
V571407
p44550
stp44551
a((dp44552
g2
(lp44553
VIf you're using the JSTL to internationalize your JSPs, it's normal: the JSTL doesn't get the locale from the response, but from a configured scoped parameter or, if no locale is set, from the request
p44554
aVUse
p44555
aVwhere Config is the class
p44556
as(dp44557
g23
V571407
p44558
stp44559
a((dp44560
g2
(lp44561
VA Die instance should represent a die
p44562
aVThe Die class should not be a procedural application that launches a die
p44563
aVA Die has a state, which is its current face value (1 to 6)
p44564
aVRolling it should make it go from its current face value to another one
p44565
aVIts  method could say that it's a die, and say its current face value
p44566
aVI don't really see the point in overriding equals(), because I don't see why a die should ever be equal to another die
p44567
aVBut you could choose to make two dies equal if they have the same face value
p44568
as(dp44569
g23
V571407
p44570
stp44571
a((dp44572
g2
(lp44573
VYour code works (with , and not ), as soon as I specify that the date format should use the symbols of the English locale:
p44574
aVAs per eran, you also have extra space after yyyy:
p44575
aVRemove that extra space
p44576
as(dp44577
g23
V571407
p44578
stp44579
a((dp44580
g2
(lp44581
VThe  method changes the size of your  box to 4, and places it at index 1 in the array
p44582
aVThen the main method also sets it at index 0
p44583
aVSo the array contains two references to , whose size is 4
p44584
as(dp44585
g23
V571407
p44586
stp44587
a((dp44588
g2
(lp44589
VThere is no advantage at all
p44590
aVThreadGroups are there for backward compatibility, but I've never seen them used
p44591
aVHere's what Brian Goetz (author of Java Concurrency in Practice - the bible) said about them a long time ago:
p44592
aVThe ThreadGroup class was originally intended to be useful in
p44593
aVstructuring collectionsof threads into groups
p44594
aVHowever, it turns out
p44595
aVthat ThreadGroup is not all that useful
p44596
aVYou are better off simply
p44597
aVusing the equivalent methods in Thread
p44598
aVThreadGroup does offer one
p44599
aVuseful feature not (yet) present in Thread: the uncaughtException()
p44600
aVmethod
p44601
aVWhen a thread within a thread group exits becauseit threw an
p44602
aVuncaught exception, the ThreadGroup
p44603
aVuncaughtException() method
p44604
aVis called
p44605
aVThis gives you an opportunity to shut down the system, write
p44606
aVa message to a log file, or restart a failed service
p44607
aVThreads now have an uncauht exception handler, and this single reason to use thread groups isn't valid anymore
p44608
as(dp44609
g23
V571407
p44610
stp44611
a((dp44612
g2
(lp44613
VYou do that by enabling optimistic locking, using a field annotated with @Version
p44614
aVAt each update, Hibernate will check that the version is the same in database as it is in memory, and increment the version
p44615
aVIf the versions don't match, it will throw an exception
p44616
aVMore about optimistic locking in the documentation
p44617
as(dp44618
g23
V571407
p44619
stp44620
a((dp44621
g2
(lp44622
s(dp44623
g23
V571407
p44624
stp44625
a((dp44626
g2
(lp44627
VFor a given forumTheme, you have several responseIds
p44628
aVSo how should they be sorted
p44629
aVIs  greater or lower than
p44630
aVThis is why you can't do this order by
p44631
aVYou should probably execute the following query:
p44632
as(dp44633
g23
V571407
p44634
stp44635
a((dp44636
g2
(lp44637
VYour expectations are wrong
p44638
aVPutting something in the model makes it available for the current request only
p44639
aVThe goal of adding something into the model is to make it available for the view, in order to generate the HTML page
p44640
as(dp44641
g23
V571407
p44642
stp44643
a((dp44644
g2
(lp44645
VDecide which formats are expected, and try to parse the date with each format, one after the other
p44646
aVStop as soon as one of the formats parses the date without exception
p44647
as(dp44648
g23
V571407
p44649
stp44650
a((dp44651
g2
(lp44652
VWhat comes to my mind immediately is the list held by the  instance returned by
p44653
aVHere's a part of its source code:
p44654
aVThe  object is not thread safe, but is guarded by the mutex
p44655
aVThe object returned by  should be manually guarded by the same mutex (which is the synchronized list itself)
p44656
as(dp44657
g23
V571407
p44658
stp44659
a((dp44660
g2
(lp44661
VIf the file is inside the jar file generated for your project (or in the classpath used by your project, generally), under the package , you can load it using
p44662
aVIf it's not in the classpath, and you launch the application (using java
p44663
aVexe) from the directory , and the file is under , the you can load it using
p44664
as(dp44665
g23
V571407
p44666
stp44667
a((dp44668
g2
(lp44669
VYou would get an exception at flush time if you added a @Version annotated field to your entity, which would be used by JPA for optimistic locking
p44670
aVEach time JPA updates an entity, it would compare the version in memory with the version in database, and would throw an exception if they don't match
p44671
aVIf they match, the version would be incremented
p44672
aVJust add the following to your entity:
p44673
aV(and add the corresponding column to the database, of course)
p44674
as(dp44675
g23
V571407
p44676
stp44677
a((dp44678
g2
(lp44679
VSwing calls the  method when the panel must be painted
p44680
aVI don't think it will call it until the panel is made visible
p44681
aVThat said, your panel should be in a paintable state as soon as it's added to the GUI
p44682
aVSo the  method should handle the case where the pictures have not been added yet, by simply checking that the list if not null (and not empty):
p44683
aVSide note: I would initialize the list to  or to , which would avoid the check for null
p44684
aVI would also respect the Java naming conventions: no underscore in class and variable names, camelCasing
p44685
as(dp44686
g23
V571407
p44687
stp44688
a((dp44689
g2
(lp44690
VYou can't do that with any framework, because a forward is an operation that happens entirely at server-side, and the browser doesn't know or care about it
p44691
aVYou asked for a page at a given URL, and the server gives you this page
p44692
aVHow it does to generate this page doesn't matter to the browser
p44693
as(dp44694
g23
V571407
p44695
stp44696
a((dp44697
g2
(lp44698
VI don't do any android programming, but I doubt Android will ever call your main method
p44699
aVThe content of this main method must probably be in the onCreate method
p44700
as(dp44701
g23
V571407
p44702
stp44703
a((dp44704
g2
(lp44705
VThe  directory should be in your PATH environment variable:
p44706
aVAnd you won't be able to create a
p44707
aVexe file
p44708
aVJava programs are launched using the  command
p44709
aVThis should be covered by the first chapter of your Java book or tutorial
p44710
aVRead it
p44711
as(dp44712
g23
V571407
p44713
stp44714
a((dp44715
g2
(lp44716
VSee http://cobertura
p44717
aVsourceforge
p44718
aVnet/commandlinereference
p44719
aVhtml
p44720
aVYou didn't specify the classes to instrument
p44721
aVcobertura-instrument
p44722
aVbat [--basedir dir] [--datafile file]
p44723
aV[--destination dir] [--ignore regex] classes [
p44724
aVNote: Classes may be specified individually, or as a directory tree
p44725
aVcontaining multiple classes
p44726
aVExample:
p44727
aVcobertura-instrument
p44728
aVbat --destination C:\u005cMyProject\u005cbuild\u005cinstrumented C:\u005cMyProject\u005cbuild\u005cclasses
p44729
aV(emphasis mine)
p44730
as(dp44731
g23
V571407
p44732
stp44733
a((dp44734
g2
(lp44735
VAdjust settings of your pool, following the documentation
p44736
aVSetting  and  to low values would ensure that idle connections are evicted fast, and that few idle connections stay open
p44737
aVObviously, it will also make your pool less efficient, since connections will be closed and opened more frequently
p44738
as(dp44739
g23
V571407
p44740
stp44741
a((dp44742
g2
(lp44743
VYour second solution looks like the obvious one
p44744
aVYou're seeing a query to the database because you didn't set the  property to
p44745
as(dp44746
g23
V571407
p44747
stp44748
a((dp44749
g2
(lp44750
VMake the link include the function to pre-select:
p44751
as(dp44752
g23
V571407
p44753
stp44754
a((dp44755
g2
(lp44756
VYou got your solution:
p44757
aVor, using the JSTL:
p44758
aVThe JSTL tag has the added advantage that it also adds the session ID to the URL if cookies are disabled, in order to track session using URL-rewriting
p44759
as(dp44760
g23
V571407
p44761
stp44762
a((dp44763
g2
(lp44764
VTo insert, update or delete data, you must use
p44765
aVAnd please: don't swallow exceptions
p44766
aVThis is what makes you think nothing happens
p44767
aVSomething happens: an exception is thrown, but you choose to ignore it with:
p44768
aVIf you don't know how to handle an exception in this method, then make the method throw is:
p44769
aVor at least, catch it but rethrow it wrapped into a runtime exception:
p44770
as(dp44771
g23
V571407
p44772
stp44773
a((dp44774
g2
(lp44775
VHibernate has a  method
p44776
aVUse it if you already have a reference to the entity to remove
p44777
aVNo need for a query
p44778
aVThis would also apply the potential cascades configured on associations, which a delete query does not
p44779
as(dp44780
g23
V571407
p44781
stp44782
a((dp44783
g2
(lp44784
VThat's the whole point of polymorphism
p44785
aVThe concrete type of  is  (since the object was created with )
p44786
aVSo the method  is called
p44787
aVLook at the Animal example in http://en
p44788
aVwikipedia
p44789
aVorg/wiki/Polymorphism_%28computer_science%29 to understand why it's useful
p44790
aVWhen you have an animal, and this animal is a Cat, you expect it to say "Meow
p44791
aVwhen you make it talk
p44792
as(dp44793
g23
V571407
p44794
stp44795
a((dp44796
g2
(lp44797
VIt's quite simple actually
p44798
aVWith Struts, each request goes to the Struts servlet, which dispatches it to a Struts action
p44799
aVThe Struts action gets input data coming from the user from the action form
p44800
aVIt also has access to the session
p44801
aVAnd with all this information, it can get data from the database, and store this data (as Java Beans) into request attributes
p44802
aVThe action then returns an action forward and the Struts servlet forwards the request to the corresponding JSP page
p44803
aVThis JSP page generates HTML using the data stored in the request attributes by the action
p44804
aVSo, after the login, you should have the ID of the authenticated user in the session
p44805
aVThe action can use this user ID to get data from the database belonging to this user:
p44806
aVDon't try to get data from the database in the JSPs
p44807
aVJSPs should only generate HTML
p44808
aVIt's the job of the Java code, called from the action class, to get the user ID from the session and to get data from the database using this user ID
p44809
aVThat's the whole point of the MVC pattern promoted by Struts
p44810
as(dp44811
g23
V571407
p44812
stp44813
a((dp44814
g2
(lp44815
VAFAIK, Play requires a call to  on all the modified entities
p44816
aVSo you probably need to iterate through the user's directions and save them as well:
p44817
as(dp44818
g23
V571407
p44819
stp44820
a((dp44821
g2
(lp44822
VThe cross join comes from the fact that, well, you're making a cross join with
p44823
aVThe query should be:
p44824
aVNote that the join with hotel doesn't serve any purpose, except tofilter reservations which don't have any hotel
p44825
as(dp44826
g23
V571407
p44827
stp44828
a((dp44829
g2
(lp44830
VA pool is used to avoid constantly creating and destroying resources that are costly to create
p44831
aVA resource from a pool can be used by only one client at a time
p44832
aVAvailable resources are stored in the pool
p44833
aVWhen you need one, you get it from the pool and thus make it unavailable to other clients
p44834
aVWhen you're done with the resource, you put it back to the pool
p44835
aVPools are used for database connections and threads, typically
p44836
aVAnother advantage is that it allows maintaining the number of resources (connections, threads) to a reasonable maximum
p44837
aVA cluster is a collection of nodes (computers, virtual machines) which allows serving a larger number of concurrent clients (scalability) and avoiding a single point of failure (failover, redundancy)
p44838
aVAlso note that load balancers are not necessarily random
p44839
aVIn many cases, the load balancer uses sticky sessions: once a client has been assigned to a node of the cluster, all his subsequent requests go to the same node
p44840
aVThe goals are thus not the same between a pool and a cluster
p44841
aVAnd the resources stored in a pool are not the same kind as the resources of a cluster
p44842
as(dp44843
g23
V571407
p44844
stp44845
a((dp44846
g2
(lp44847
s(dp44848
g23
V571407
p44849
stp44850
a((dp44851
g2
(lp44852
VThe web
p44853
aVxml file contains  elements indicating which servlets are mapped to which URLs
p44854
aVSo if you know the URL, you should easily find the corresponding servlet
p44855
aVNow you can read the servlet code to see which other classes are involved
p44856
as(dp44857
g23
V571407
p44858
stp44859
a((dp44860
g2
(lp44861
s(dp44862
g23
V571407
p44863
stp44864
a((dp44865
g2
(lp44866
VNo
p44867
aVYou'll need to execute a query to find all the persons with the given car, set their car to null, then delete the car:
p44868
as(dp44869
g23
V571407
p44870
stp44871
a((dp44872
g2
(lp44873
Vtrunk is just a conventional name
p44874
aVIf everything is at least contained in a directory (and not directly at the root), you may create a branch of this directory
p44875
aVIf everything is directly under the root, talk to your colleagues and decide to follow the best practices with them: move everything under a trunk directory
p44876
as(dp44877
g23
V571407
p44878
stp44879
a((dp44880
g2
(lp44881
VYou can't add anything to a
p44882
aVMake it a
p44883
aVmeans: a list of some unknow class, which is ErrorTO or extends ErrorTO
p44884
aVSo obviously, if you could add something to it, its type-safety would be broken
p44885
as(dp44886
g23
V571407
p44887
stp44888
a((dp44889
g2
(lp44890
VThe date itself doesn't have any time zone
p44891
aVIts  method uses the current default time zone to return a String representing this date:
p44892
aVExecuting the above code on my machine leads to the following output:
p44893
as(dp44894
g23
V571407
p44895
stp44896
a((dp44897
g2
(lp44898
VI don't think it's possible
p44899
aVI suggest adding an additional column to the table, containing a checkbox allowing to mark the row as selected
p44900
aVOf course, you won't be able to use the table selection model to know which rows are selected
p44901
as(dp44902
g23
V571407
p44903
stp44904
a((dp44905
g2
(lp44906
VYou shouldn't do that
p44907
aVReally
p44908
aVSVN is there and has all the history of the file
p44909
aVAnd it's able to handle branches, which this strategy won't be able to handle
p44910
aVIt's not supported by SVN, for good reasons, explained here: http://subversion
p44911
aVapache
p44912
aVorg/faq
p44913
aVhtml#log-in-source
p44914
as(dp44915
g23
V571407
p44916
stp44917
a((dp44918
g2
(lp44919
VNo, it's not the right way to use SVN
p44920
aVThere's no reason for every developer to have its own branch
p44921
aVTypically, everybody works on the trunk
p44922
aVIf some feature is long to develop and must not be done on the trunk to avoid disturbing the other developers, a specific feature branch is made
p44923
aVChanges from the trunk are regularly merged to this feature branch, and once the feature has been developed completely in its own feature branch, the branch is reintegrated into the trunk, and deleted
p44924
aVIf everybody has to constantly merge from everybody else's branch, it's no different than working all on the trunk, except it's much more painful
p44925
aVAnd it doesn't scale to more than 2 or 3 developers anyway
p44926
aVI suggest reading the freely available SVN book which explains all of the above in details, and discussing with your coworkers to make them adopt the traditional best practices
p44927
as(dp44928
g23
V571407
p44929
stp44930
a((dp44931
g2
(lp44932
VWhat is  in your first code snippet
p44933
aVIf it's an attached entity (which I suspect it is), obviously,  will return the attached entity which has the same identifier, and since the identifier is the entity itself, it will return the given attached entity
p44934
aVThere is always only one instance of any given entity in a session
p44935
aVNow, to answer your questions:
p44936
aVAFAIK, it works as expected
p44937
aVNo
p44938
aVIs this a question
p44939
aVThe best workaround is to do the right thing and stop using composite identifiers
p44940
aVUse single-column, auto-generated IDs, as advised by Hibernate, and everything will be much simpler
p44941
as(dp44942
g23
V571407
p44943
stp44944
a((dp44945
g2
(lp44946
VThe join columns of the join table reference columns from the joined tables
p44947
aVIt works by accident in the first case because the order of the columns constituting the ID of the entity is the same as the order of the join columns
p44948
aVYou should specify the referenced column name of each join column, to make things clearer and safer:
p44949
aVA OneToOne with a join table is really really strange, though
p44950
as(dp44951
g23
V571407
p44952
stp44953
a((dp44954
g2
(lp44955
VThere is no way to do that
p44956
aVAnd I don't see the point either: if the subclass wants to make this method accessible, why shouldn't it
p44957
aVIt won't affect users of the parent abstract class anyway
p44958
as(dp44959
g23
V571407
p44960
stp44961
a((dp44962
g2
(lp44963
VWhen you use inheritance to reuse code from the superclass, rather than to override methods and define another polymorphic behavior, it's often an indication that you should use composition instead of inheritance
p44964
aVThe  class is a good example of a bad use of inheritance
p44965
aVRather than using a Hashtable to store its properties, it extends Hashtable, in order to reuse its methods and to avoid reimplementing some of them using delegation
p44966
as(dp44967
g23
V571407
p44968
stp44969
a((dp44970
g2
(lp44971
VB is-a A
p44972
aVSo you don't need to make any join between A and B
p44973
aVHibernate does that for you:
p44974
as(dp44975
g23
V571407
p44976
stp44977
a((dp44978
g2
(lp44979
VYou don't have to enter any text in any text field, because in the end, when you press the Translate button, you just send a GET request to Google Translate
p44980
aVJust send a GET HTTP request to the following URL, and you'll get the result:
p44981
as(dp44982
g23
V571407
p44983
stp44984
a((dp44985
g2
(lp44986
V returns the fully qualidied name of
p44987
aVBut  being already something you should rarely use in a well-design OO program, it should be used even less in the JSP EL, where methods are called dynamically without caring of the actual type, and where the end goal should only be to generate markup
p44988
as(dp44989
g23
V571407
p44990
stp44991
a((dp44992
g2
(lp44993
VThe request is typically used to store attributes that must be accessible to all the servlets and JSPs handling the request
p44994
aVBut here, it's unnecessary since the variable is the value of a request parameter
p44995
aVJust use  as you do in the parent JSP
p44996
aVThat said, you seem to have completely missed the point in using JSPs, which is to avoid generating HTML markup by using Java code and ugly String concatenations (which could be done from a servlet directly)
p44997
aVLearn the JSTL and the JSP EL, and avoid scriptlets like the plague in your JSPs
p44998
aVFor example, your first scriptlet should be rewritten as:
p44999
aVNote that the use of  here makes sure the parameter is properly HTML-escaped, and thus avoids all kinds of XSS attacks
p45000
as(dp45001
g23
V571407
p45002
stp45003
a((dp45004
g2
(lp45005
VIf your question is: where is the implementation of the LinkedList iterator, the answer is:
p45006
aVit's implemented as a private inner class of the LinkedList class:
p45007
as(dp45008
g23
V571407
p45009
stp45010
a((dp45011
g2
(lp45012
VYou need to create a join to be able to access the fields of the user of the task:
p45013
aVYou don't need to do it for the ID of the project of the task, because the ID of the project is stored, as a foreign key, in the task table directly
p45014
aVDesign note: your DAO doesn't add much value
p45015
aVIn particular, it doesn't isolate the service class from the persistence API (Hibernate, in this case)
p45016
aVYou might use the Hibernate session directly in your service class, and it wouldn't change much
p45017
aVCompletely isolating the service class from the persistence API is useful for two main reasons:
p45018
aVit makes responsibilities clearer: the service class contains business logic, while the DAO contains persistence logic
p45019
aVit allows mocking the DAO in order to unit test the service
p45020
as(dp45021
g23
V571407
p45022
stp45023
a((dp45024
g2
(lp45025
VThe first one returns a Set that basically has the same thread-safe and performance guarantees as the map passed as argument
p45026
aVIf the map isn't thread-safe, the set won't be either
p45027
aVYou typically use this method to create a concurrent set from a concurrent map, because there is no ConcurrentHashSet in the API
p45028
aVThe second one returns a proxy to the given set, which has all its methods synchronized
p45029
as(dp45030
g23
V571407
p45031
stp45032
a((dp45033
g2
(lp45034
VMost of the application servers come with a JSP compiler that allows pre-compiling JSP files
p45035
aVThe documentation of JspC, the Tomcat JSP compiler is in Jasper 2 JSP Engine How To
p45036
aVI also used WebLogic's JSP compiler in the past
p45037
aVNote that, even if you don't use Tomcat, you could use this compiler just to check that your JSP files compile
p45038
aVIf they compile with Tomcat, they should compile with your container
p45039
as(dp45040
g23
V571407
p45041
stp45042
a((dp45043
g2
(lp45044
VStraight from the documentation:
p45045
aVThis tag operates in two modes, depending upon the state of the
p45046
aVmultiple attribute, which affects the data type of the associated
p45047
aVproperty you should use:
p45048
aVmultiple="true" IS NOT selected - The corresponding property should be a scalar value of any supported data type
p45049
aVmultiple="true" IS selected - The corresponding property should be an array of any supported data type
p45050
aV(emphasis mine)
p45051
as(dp45052
g23
V571407
p45053
stp45054
a((dp45055
g2
(lp45056
VI think you're just confused by the fact that Eclipse displays packages in a flat way by default, rather than displaying them hierarchically, as folders
p45057
aVClick on the small triangle icon in the package explorer if you prefer a hierarchical view
p45058
as(dp45059
g23
V571407
p45060
stp45061
a((dp45062
g2
(lp45063
VIMHO, the main advantage in using a logging facade like slf4j is that you let the end-user of the library choose which concrete logging implementation he wants, rather than imposing your choice to the end user
p45064
aVMaybe he has invested time and money in Log4j or LogBack (special formatters, appenders, etc
p45065
aVand prefers continuing using Log4j or LogBack, rather than configuring jul
p45066
aVNo problem: slf4j allows that
p45067
aVIs it a wise choice to use Log4j over jul
p45068
aVMaybe, maybe not
p45069
aVBut you don't care
p45070
aVLet the end user choose what he prefers
p45071
as(dp45072
g23
V571407
p45073
stp45074
a((dp45075
g2
(lp45076
VYou have to understand that the browser doesn't know that your request is handled by a servlet, then by a JSP
p45077
aVWhen it resolves relative paths, it doesn't resolve them using the path of the JSP as the base path, but by using the path of the invoked URL
p45078
aVFor example, if the browser address bar contains the following address:
p45079
aVand the generated HTML contains
p45080
aVthe browser will look for the image in
p45081
aVeven if the JSP generating the HTML is in the root of the webapp (i
p45082
ag468
aVat the URL )
p45083
aVI recommend always using absolute paths for images, JS files and other resources:
p45084
as(dp45085
g23
V571407
p45086
stp45087
a((dp45088
g2
(lp45089
VOK
p45090
aVThe problem is the one I thought
p45091
aVHere's how Spring makes beans transactional: when you get a transactional bean from the Spring bean factory, or thanks to dependency injection, Spring doesn't give you an instance of your bean class
p45092
aVIt gives you a proxy which has the same interface as your bean class, and delegates all the method calls to an instance of your bean class, except it starts a transaction (if needed) before invoking the method, and rollbacks/commits the transaction (if needed) after the method has returned:
p45093
aVIf, from your bean class instance (), you call another method of the same bean, the method invocation doesn't go through the proxy:
p45094
aVSo Spring has no way to start a new transaction for
p45095
aVThe easier way is to put the  method into another transactional Spring bean, and to inject this other Spring bean into your current bean:
p45096
as(dp45097
g23
V571407
p45098
stp45099
a((dp45100
g2
(lp45101
VYou stored the same list reference inside two thread-local variables
p45102
aVThat doesn't mean the ThreadLocal don't have a value per thread
p45103
aVYour test should start one thread which stores something into the thread-local, then start another thread that looks if the thread-local variable contains anything (and it won't)
p45104
aVThat's exactly like if you had two Maps, and stored the same list in both maps
p45105
aVObviously, if you modify the list stored in one map, the list stored in the other map will be modified, since it's the same list
p45106
aVBut clearing one map doesn't clear the other map
p45107
as(dp45108
g23
V571407
p45109
stp45110
a((dp45111
g2
(lp45112
VUsing Apache commons-codec:
p45113
as(dp45114
g23
V571407
p45115
stp45116
a((dp45117
g2
(lp45118
V returns only public constructors
p45119
aVTry with
p45120
aVEDIT:
p45121
aVThe problem is that the H constructor doesn't take a B as argument, but a X (which is a subclass of B)
p45122
aVThe signature of the constructor is thus
p45123
aVThis constructor only accepts instances of  as its first argument
p45124
aVIt doesn't accept any kind of  instances, but only instances of
p45125
as(dp45126
g23
V571407
p45127
stp45128
a((dp45129
g2
(lp45130
V tries to attach a detached (or transient) object to the session
p45131
aVSince Hibernate guarantees that a session does never holds 2 instances of the same attached entity, it throws this exception
p45132
aVIf you want to copy the state of a detached object to an attached one, use  (which returns the attached, modified object)
p45133
as(dp45134
g23
V571407
p45135
stp45136
a((dp45137
g2
(lp45138
VYou don't check that the returned list is not null here:
p45139
aVand here:
p45140
aVAnd you use different keys for your map here:
p45141
aVand here:
p45142
aV(and your code is not thread-safe, also)
p45143
as(dp45144
g23
V571407
p45145
stp45146
a((dp45147
g2
(lp45148
VThere is no  field in , so the path  is invalid
p45149
aVChange your query to
p45150
aVor even better:
p45151
as(dp45152
g23
V571407
p45153
stp45154
a((dp45155
g2
(lp45156
VIf you really don't care about the age, don't select it:
p45157
aVIf you'd like to get a valid age with each user, but don't care which one, select the min or max of the ages:
p45158
as(dp45159
g23
V571407
p45160
stp45161
a((dp45162
g2
(lp45163
VYes
p45164
aVEverything stored in a scope larger than request is potentially accessed by multiple threads, and must be thread-safe
p45165
as(dp45166
g23
V571407
p45167
stp45168
a((dp45169
g2
(lp45170
VAn object doesn't have to be serializable to be stored in a request attribute
p45171
aVThe HttpServletRequest object and its attributes live in memory
p45172
aVAnd displaytag uses a collection (a List, most of the time) of objects which should respect JavaBeans conventions
p45173
aVSo the process is simple:
p45174
aVThe servlet executes a database query
p45175
aVIt iterates through the ResultSet, and creates a  containing the data retrived by the query
p45176
aVIt stored this list as an attribute of the request:
p45177
aVIt forwards the request and response to the JSP, using the RequestDispatcher
p45178
aVThe JSP uses the displaytag to display the content of the  as a table
p45179
aVIf you have to transfer two resultsets, execute 2 requests, build two lists, store them in 2 request attributes, and use the displaytag twice in the JSP
p45180
as(dp45181
g23
V571407
p45182
stp45183
a((dp45184
g2
(lp45185
VThe clear text probably contains characters that look like ASCII digits, but are not ASCII digits
p45186
aVSee http://www
p45187
aVfileformat
p45188
aVinfo/info/unicode/category/Nd/list
p45189
aVhtm for a list of digits which are not ASCII digits
p45190
aVTo confirm that, execute the following method on the decrypted text and on the hard-coded long as string, and compare the results:
p45191
aVEDIT: it appears that the clear text starts with a BOM (byte order mark) which is an invisible character
p45192
as(dp45193
g23
V571407
p45194
stp45195
a((dp45196
g2
(lp45197
VYou could use an include directive:
p45198
aVOr you could use a dynamic include, but then the variables would have to be stored in the request, rather than the page scope:
p45199
aVBut the best way would probably be to put all these constants in an object, and store this object in the request (or session, or application) from a servlet or filter:
p45200
as(dp45201
g23
V571407
p45202
stp45203
a((dp45204
g2
(lp45205
VThe command pattern doesn't inject anything into the object
p45206
aVIt passes a command to a method, which calls the command (typically, only once)
p45207
aVDependency injection injects a dependency (i
p45208
ag468
aVanother object needed by the dependent object to do its job)
p45209
aVThe dependent object keeps the dependency as a field, and uses it for all the subsequent method calls
p45210
aVIf you want an analogy, dependency injection consists in giving an oven to a cook to allow him preparing all the dishes
p45211
aVThe command pattern consists in giving him a bowl of ingredients to prepare each time someone asks for a dish
p45212
aVEDIT:
p45213
aVThe command pattern consists in passing an implementation of some interface of abstract class which just defines a single method ()
p45214
aVThe invoker invokes this command without knowing what it could do, or what its role is
p45215
aVThe principle of the pattern is to be able to pass several different implementations of the command interface (up, down right, left, for example)
p45216
aVThe invoker might store these instances to execute them later, or store them to undo them
p45217
aVDependncy injection just consists in passing a dependency, once, when the dependent object is initialized
p45218
aVThis dependency offers a large number of well identified methods, which are used by the dependent object as part of its own business logic
p45219
aVBoth use objects and call methods, but the goal is very different
p45220
aVSo my answer to your point a) would be: yes or no, it depends
p45221
aVIf the object is a general object, providing different methods, and which is not one of many implementations of a single interface with just one method, that the dependent object calls as it wants, it doesn't constitute a command
p45222
aVb) Read the example code in http://en
p45223
aVwikipedia
p45224
aVorg/wiki/Command_pattern, it should make it clearer
p45225
as(dp45226
g23
V571407
p45227
stp45228
a((dp45229
g2
(lp45230
VThe documentation says:
p45231
aVerrorArgs - error arguments, for argument binding via MessageFormat
p45232
aV(can be null)
p45233
aV(emphasis mine)
p45234
aVYou're giving a pattern usable with
p45235
aVBut MessageFormat doesn't use that
p45236
aVThe patter should be:
p45237
as(dp45238
g23
V571407
p45239
stp45240
a((dp45241
g2
(lp45242
VTo answer you first question: You search for the skills you want to attach to the new job or seeker (with a HQL query)
p45243
aVOnce you have found the skills, you add them to the collection of skills of the new job or seeker:
p45244
aVI don't understand the syntax used in your second question
p45245
aVIf you want to find all seekers who have all the skills in a given set of skills:
p45246
as(dp45247
g23
V571407
p45248
stp45249
a((dp45250
g2
(lp45251
VYou should avoid scriptlets in JSPs, but to answer your question: a JSP is a servlet
p45252
aVIf a bean is stored in session scope under the attribute "PersonBean", then just get it from the session:
p45253
aVIf it's stored under the attribute "PersonalInformationDataBean", the code is of course
p45254
aVThe code  creates a new PersonBean instance, so of course, there is no reason for this instance to have the same ID as the instance stored in the session
p45255
aVThis is pretty basic Java stuff, and I would advise learning a bit more about the Java language and basic OO concepts before using JSF
p45256
as(dp45257
g23
V571407
p45258
stp45259
a((dp45260
g2
(lp45261
VAssuming you use mysqli, you get if using the insert_id function:
p45262
aVYou then insert this ID in the join table as you would insert any other data into any other table
p45263
as(dp45264
g23
V571407
p45265
stp45266
a((dp45267
g2
(lp45268
VI think you just missed the  and  in you spring-security context
p45269
as(dp45270
g23
V571407
p45271
stp45272
a((dp45273
g2
(lp45274
VSVN stores files, differences, properties, revisions, etc
p45275
aVin a database
p45276
aVDon't expect to find the files directly under the repository folder
p45277
aVIf you can access the repository via your SVN client, and if everything runs as expected, then your server is going well
p45278
as(dp45279
g23
V571407
p45280
stp45281
a((dp45282
g2
(lp45283
VLook at JavaScript errors in your browser error console
p45284
aVThe following is not valid JavaScript code:
p45285
as(dp45286
g23
V571407
p45287
stp45288
a((dp45289
g2
(lp45290
VThe recommended way is to use a standard password encoder, that will use a random salt, ans store this salt with the digested password
p45291
aVThis way, you don't need to provide any salt
p45292
aVIf you want to provide your own salt, then you need to inject a SaltSource into the DAO authenticator, as explained by the documentation (and of course use the same source when you encode the password to create a new user):
p45293
aVThe StandardPasswordEncoder in the crypto package uses a random 8-byte
p45294
aVsalt, which is stored in the same field as the password
p45295
aVNote
p45296
aVThe legacy approach to handling salt was to inject a SaltSource into
p45297
aVthe DaoAuthenticationProvider, which would obtain a salt value for a
p45298
aVparticular user and pass it to the PasswordEncoder
p45299
aVUsing a random
p45300
aVsalt and combining it with the password data field means you don't
p45301
aVhave to worry about the details of salt handling (such as where the
p45302
aVthe value is stored), as it is all done internally
p45303
aVSo we'd strongly
p45304
aVrecommend you use this approach unless you already have a system in
p45305
aVplace which stores the salt separately
p45306
aVIn your case, the SaltSource would always return the "salt"
p45307
aVNote that this way of salting is insecure, because all the users sharing a common password (yes, it happens) end up with the same hashed password
p45308
aVThis means that an attacker finding the password of one user also finds the password of all the users sharing the same password
p45309
as(dp45310
g23
V571407
p45311
stp45312
a((dp45313
g2
(lp45314
VYes, there can be concurrency issues
p45315
aVYour thread local variable doesn't serve any purpose
p45316
aVIt's only used when the class is initialized, to temporarily store an array of date formats that is immediately retrieved and stored in a static constant
p45317
aVAll the threads, after, always use the same instances of date formats concurrently, without getting them from any thread local variable
p45318
aVThe code should rather be:
p45319
aVI would also use an unmodifiable  rather than an array, to be safer
p45320
as(dp45321
g23
V571407
p45322
stp45323
a((dp45324
g2
(lp45325
VI doesn't change much (if each case has a break statement, at least)
p45326
aVIn each solution, only one case of the switch statement will be executed in a new thread
p45327
aVUse what you find the most readable
p45328
aVRepeating the thread creation code in each case of the switch adds more boilerplate code
p45329
aVOn the other hand, if you have a default case where nothing must be done, it's not worth creating and starting a new thread to do nothing
p45330
as(dp45331
g23
V571407
p45332
stp45333
a((dp45334
g2
(lp45335
VIt's not the type of the returned object
p45336
aVIt indicates that , in the method signature, is a generic type and not a concrete type
p45337
aVWithout it, the compiler would look for a class named  for the argument of the method
p45338
as(dp45339
g23
V571407
p45340
stp45341
a((dp45342
g2
(lp45343
VSearch - File
p45344
aVBut it won't search in open files
p45345
aVIt will search in the whole workspace, or in the current project, or in the selection, or in a working set, depending on the option you choose
p45346
as(dp45347
g23
V571407
p45348
stp45349
a((dp45350
g2
(lp45351
VYou're passing a relative file name as argument
p45352
aVThis file name is not relative to a class
p45353
aVIt's relative to the JVM's current directory
p45354
aVAnd the current directory if the directory from which java is started
p45355
aVSo if you launch the program from , it will look for the file , even if the classes are in the jar file  or in the directory
p45356
aVFiles used as ImageIcon are usually bundled in the jar file of the application, along with the class files, and loaded by the class loader
p45357
aVIf you store the file under the package , you should thus use
p45358
as(dp45359
g23
V571407
p45360
stp45361
a((dp45362
g2
(lp45363
VDefine the join table on the many side, but don't define it once again on the one side
p45364
aVThis creates two unidirectional associations mapped with the same table instead of one bidirectional association
p45365
aVA bidirectional association always has an owner side (where you specify the join column or join table to use, and an inverse side which says hat it's the inverse of the other side by using the mappedBy attribute:
p45366
aVEDIT:
p45367
aVAlso, your query should only select the activity, andnot all the entities joined by the query, by adding a select clause:
p45368
as(dp45369
g23
V571407
p45370
stp45371
a((dp45372
g2
(lp45373
VPersisting fields to another table won't prevent code duplication
p45374
aVI think you should just make  extend , and  extend
p45375
aVNote that if a user can become unactive (i
p45376
ag468
aVit is a RegularUser and becomes an UnactiveRegularUser), inheritance is not the right solution: an object can't go from one type to another
p45377
aVSince it seems UnactiveRegularUser doesn't have anything more than RegularUser, I'm not sure this subclass is useful
p45378
as(dp45379
g23
V571407
p45380
stp45381
a((dp45382
g2
(lp45383
VB extends A
p45384
aVSo B is a A
p45385
aVSince A has  and  fields, B also has them
p45386
aVThe state of an object is made of the set of fields it has, plus the set of fields its superclass has, plus the set of fields of the superclass of the superclass, etc
p45387
aVAnd this has nothing to do with Hibernate
p45388
aVIf a fruit has a color, and if a banana is a fruit, a banana has a color
p45389
aVSince Hibernate persists the state of the banana, it has to persists its color
p45390
aVThe fact that the color field is private in Fruit doesn't make any difference
p45391
as(dp45392
g23
V571407
p45393
stp45394
a((dp45395
g2
(lp45396
VHow is Gson supposed to know how to populate your object
p45397
aVYou don't have a no-arg constructor, and the fields of your object don't match the fields in the JSON object
p45398
aVMake your object as following:
p45399
as(dp45400
g23
V571407
p45401
stp45402
a((dp45403
g2
(lp45404
VThe query would be almost identical:
p45405
aVThat is assuming that there is an association from EntityA to EntityB using a
p45406
aVfield1 as a foreign key to b
p45407
aVfield2 (or vice-versa)
p45408
aVIf you don't have such an association, it's impossible
p45409
aVleft joins are only possible with associations
p45410
as(dp45411
g23
V571407
p45412
stp45413
a((dp45414
g2
(lp45415
VJust don't expect Hibernate to do everything for you
p45416
aVTransforming a List into a Map (or a Guava Multimap, which is easier and more appropriate here) is a matter of 3 lines of codes:
p45417
as(dp45418
g23
V571407
p45419
stp45420
a((dp45421
g2
(lp45422
VBecause  invokes the gradle wrapper, which downloads the version of gradle that the build script has been written for, instead of using your version, which might not be compatible
p45423
aVIt does that only once, and then reuses the downloaed version
p45424
aVIf you want to use your version of gradle, use the  command rather than , but it might not work if you don't have the appropriate version
p45425
aVAFAIK, this is done by defining the GRADLE_USER_HOME environment variable
p45426
aVSee http://www
p45427
aVgradle
p45428
aVorg/docs/current/userguide/userguide_single
p45429
aVhtml#sec:repositories
p45430
as(dp45431
g23
V571407
p45432
stp45433
a((dp45434
g2
(lp45435
VYou never add any component to the JFrame
p45436
aVSo obviously, it doesn't contain anything
p45437
aVYou should add a constructor to your JFrame subclass, and make it add some component(s) to the frame
p45438
aVAnd you should also indent your code, to make it readable, and respect Java naming conventions
p45439
as(dp45440
g23
V571407
p45441
stp45442
a((dp45443
g2
(lp45444
VClick on the small white triangle at the top-right of the package explorer view (View Menu), then choose "Package Presentation - Hierarchical"
p45445
as(dp45446
g23
V571407
p45447
stp45448
a((dp45449
g2
(lp45450
VIf all you do is adding new rows, it's better to add all the rows, and call  with the appropriate first and last rows
p45451
aVThe view will have to handle only one event, and the event tells exactly what happens, which avoids refreshing the parts of the view that don't need to be refreshed
p45452
as(dp45453
g23
V571407
p45454
stp45455
a((dp45456
g2
(lp45457
VAdd the new parameter without the annotation
p45458
aVEclipse will add the default value of the new argument to all the method invocations
p45459
aVThen add the annotation in the method definition: it's defined only once, and it shouldn't be too hard to type  in the source editor
p45460
as(dp45461
g23
V571407
p45462
stp45463
a((dp45464
g2
(lp45465
VGiven the method signatures, you store the members of your TaskDefs as static fields, rather than instance fields
p45466
aVA static field is a field of the class TaskDef itself, and not a field of a specific TaskDef instance
p45467
aVRead the Java tutorial about instance and class members
p45468
as(dp45469
g23
V571407
p45470
stp45471
a((dp45472
g2
(lp45473
VDisplaying stale data instead of displaying current data is quite a strange requirement, but if you really want to do this, you could just store the results of the first query in the session, and fetch the details from the session instead of fetching them from the database
p45474
aVOr you could store the results of the first query in some database table, and get the details from this database table instead of getting them from the "real" database table
p45475
as(dp45476
g23
V571407
p45477
stp45478
a((dp45479
g2
(lp45480
VI would add to the other answers that enums are classes which only have a fixed number of instances
p45481
aVThese instances may have fields and methods, and be used as any other Java objects
p45482
aVFor example, the  enum could define methods like
p45483
as(dp45484
g23
V571407
p45485
stp45486
a((dp45487
g2
(lp45488
VOne of those paths is probably wrong
p45489
as(dp45490
g23
V571407
p45491
stp45492
a((dp45493
g2
(lp45494
VThe query you're executing is not SQL
p45495
aVIt's HQL
p45496
aVHQL queries entities, not tables
p45497
aVIt should thus be
p45498
aVThis entity, BTW, should be named , sicne one instance of it represent one category, and not several categories
p45499
aVRead the documentation
p45500
as(dp45501
g23
V571407
p45502
stp45503
a((dp45504
g2
(lp45505
VCheck that all the images are in the jar, and use forward slashes rather than backslashes for resource paths:
p45506
as(dp45507
g23
V571407
p45508
stp45509
a((dp45510
g2
(lp45511
VYou should not pass it a File
p45512
aVA File represents a path on the file system
p45513
aVYour config file should be bundled in the jar/war along with the classes of your app, and be loaded using the class loader
p45514
aVYou should use the method taking a URL as argument instead, and pass it the URL returned by
p45515
as(dp45516
g23
V571407
p45517
stp45518
a((dp45519
g2
(lp45520
VThe line
p45521
aVprecisely means: create an inner join with the Category entity
p45522
aVJust use
p45523
as(dp45524
g23
V571407
p45525
stp45526
a((dp45527
g2
(lp45528
VYou're passing a file name as argument
p45529
aVI guess this file name is a relative file name
p45530
aVSo the file is relative to the directory from which your IDE launches the  command to execute your application: the working directory
p45531
aVThis directory can be changed from the run configuration in Eclipse, under the tab "Arguments"
p45532
aVBut this is probably not what you want
p45533
aVThe icons should certainly be bundled with your application, and loaded with the class loader
p45534
aVPut them under a package in your source folder
p45535
aVEclipse will copy them to the output directory, along with the compiled classes
p45536
aVAnd if you generate a jhar for your app, they will be bundled in the jar with your classes
p45537
aVOnce this is done, you just have to use the constructor taking a URL as argument, and pass
p45538
aVas this URL argument
p45539
aVThis will allow you to bundle the icons with the app easily, and will load the icons whatever the working directory is
p45540
as(dp45541
g23
V571407
p45542
stp45543
a((dp45544
g2
(lp45545
VIMHO, the best place to do this is the database
p45546
aVI would split this column into 3 columns in the table, and store one information by column
p45547
aVIf this is really not an option for legacy reasons, I would indeed do it in the domain object directly
p45548
aVThis is behavior that can be encapsulated directly in the domain object without any impact on the other entities
p45549
as(dp45550
g23
V571407
p45551
stp45552
a((dp45553
g2
(lp45554
VYes, indeed
p45555
aVWaiting on the event dispatch thread makes it block completely, and thus prevents any repaint to happen
p45556
aVSo the EDT can't paint anything anymore while you're waiting
p45557
aVLong-running tasks, and even more blocking tasks, should not be done in the event dispatch thread
p45558
aVIt's not clear at all why you're using  here, BTW
p45559
aVAnd catching Exception and ignoring it completely is one of the worst things you could do
p45560
as(dp45561
g23
V571407
p45562
stp45563
a((dp45564
g2
(lp45565
VYou use the pattern dd/MM/yyyy to parse the date 06/27/2012
p45566
aVI doubt 27 is a month
p45567
aVThe appropriate format is MM/dd/yyyy
p45568
aVThe DateFormat is lenient by default, and will thus consider 27 as a valid month: 2 years + 3 months, so you end up in March, 2 years later
p45569
as(dp45570
g23
V571407
p45571
stp45572
a((dp45573
g2
(lp45574
VIt's the line
p45575
aVThe javadoc of this method says:
p45576
aVExecutes the given command at some time in the future
p45577
aVThe command may
p45578
aVexecute in a new thread, in a pooled thread, or in the calling thread,
p45579
aVat the discretion of the Executor implementation
p45580
as(dp45581
g23
V571407
p45582
stp45583
a((dp45584
g2
(lp45585
VI would use Guava's Splitter, which doesn't need all the big regex machinery, and is more well-behaved than String's  method:
p45586
as(dp45587
g23
V571407
p45588
stp45589
a((dp45590
g2
(lp45591
VDo yourself a favor, and forget about the logic tags
p45592
aVUse the JSTL and the JSP EL instead:
p45593
aVStruts documentation itself discourages the use of logic tags, and promotes the use of the JSTL:
p45594
aVNote: - Many of the features in this taglib are also available in the
p45595
aVJavaServer Pages Standard Tag Library (JSTL)
p45596
aVThe Apache Struts group
p45597
aVencourages the use of the standard tags over the Struts specific tags
p45598
aVwhen possible
p45599
as(dp45600
g23
V571407
p45601
stp45602
a((dp45603
g2
(lp45604
VCreate a custom EL function that checks it
p45605
aVSomething like
p45606
aVAn EL function is just a static method in some class, declared in a tag library descriptor
p45607
aVSee http://docs
p45608
aVoracle
p45609
aVcom/javaee/1
p45610
aV4/tutorial/doc/JSPIntro7
p45611
aVhtml for a tutorial
p45612
as(dp45613
g23
V571407
p45614
stp45615
a((dp45616
g2
(lp45617
VNo
p45618
aVBut you can do
p45619
aVmeans A of some class, but I don't know which one
p45620
aVSo you can't call its  method because the compiler doesn't know if the type of the argument matches with the actual generic type of A
p45621
as(dp45622
g23
V571407
p45623
stp45624
a((dp45625
g2
(lp45626
VLet's say you have a picture on the server, and its size is 8000x6000
p45627
aVits size could be something like 10 MB
p45628
aVNow let's say you want to display this image in a web page and do it like this:
p45629
aVThe browser will download the large image (10 MB), which takes a whole lot of time, and will then resize it to 800x600 in memory to display it on the web page (this consumes memory and CPU time)
p45630
aVTotal time: 25 seconds
p45631
aVNow suppose you resize this image to 800x600 and put this resized image on the server
p45632
aVYou then display the image with
p45633
aVThe small image will look identical to the user visiting your web page, but the browser will only have to download a small image, which will be something like 100 KB large (100 times less than the large image)
p45634
aVThe time taken to download the image will be divided by 100 as well (0
p45635
aV25 seconds), and the browser won't have to load and resize a huge image in memory (less memory, less CPU time)
p45636
aVYour image will be visible almost instantly
p45637
aVThere are many tools (I use Irfanview myself) which are able to take a large collection of images and resize them all at once
p45638
aVYou should do that
p45639
as(dp45640
g23
V571407
p45641
stp45642
a((dp45643
g2
(lp45644
VThere are tons of solutions, most of them (in Java) being based on the servlet API
p45645
aVIf you use Spring already, Spring has a module called Spring MVC, which is a framework based on the servlet API to create web applications, based on the MVC pattern:
p45646
aVModel holding the data from the database
p45647
aVView (implemented, most of the time, using JSPs) generating markup based on the data contained in the model
p45648
aVController getting the data from the database, and dispatching to the appropriate view
p45649
aVThis is a good pattern used by most web frameworks, but every one has its own way of doing, strengths and weaknesses
p45650
aVYou could do with a simple servlet, but generating markup from a servlet is ugly
p45651
aVThat's why servlets are usually used in combinations with JSPs, following the MVC pattern
p45652
aVYou could implement a micro-MVC framework by yourself, using only servlets and JSPs, but Spring-MVC and other frameworks offer so many additional advanteges that the investment is worth it
p45653
aVI personally like Stripes very much, and it's very simple
p45654
as(dp45655
g23
V571407
p45656
stp45657
a((dp45658
g2
(lp45659
VThe GameBoard constructor, which is the only thing you call when your start button is pressed, creates a new frame, sets its background, and makes it visible
p45660
aVBut it doens't add any component to the frame
p45661
aVYou probably need to add
p45662
aVNote that it's not really the responsibility of the constructor of your Canvas to display a frame and add itself to this frame, though
p45663
aVI would move the frame creation outside of the constructor
p45664
aVLet the constructor do what it's supposed to do: construct the object
p45665
as(dp45666
g23
V571407
p45667
stp45668
a((dp45669
g2
(lp45670
VThe URL
p45671
aVprobably doesn't exist (assuming your web container runs on port 8080 on your own machine)
p45672
aVThe  attribute of the  tag is an URL, not a file path on the client or server machine
p45673
as(dp45674
g23
V571407
p45675
stp45676
a((dp45677
g2
(lp45678
VOn Windows, WinMerge can compare a whole hierarchy of files and tell you which exists on one side only, and what are the difference between the left and right versions if a file exists in both hierarchies
p45679
aVNot sure if it counts the number of lines which differ, though
p45680
as(dp45681
g23
V571407
p45682
stp45683
a((dp45684
g2
(lp45685
V is not a static method
p45686
aVIt's an instance method
p45687
aVYou need to create a DateFormat instance, and then call  on this instance:
p45688
aVA static method belongs to a class
p45689
aVIt doesn't make sense to call
p45690
aVBut it makes sense to call
p45691
as(dp45692
g23
V571407
p45693
stp45694
a((dp45695
g2
(lp45696
VNo, of course not
p45697
aVYou might use the same model but have a view that displays a resume of the model, another that displays the full details of the model, and a third one which displays it in a form that is well-suited for smart phones
p45698
aVThat's one of the advantages and core principles of the MVC pattern: the controller builds the model, and delegates to the appropriate view to display the model
p45699
as(dp45700
g23
V571407
p45701
stp45702
a((dp45703
g2
(lp45704
VAt the end, your gap data structure would have to be transformed into a String, which would need assembling all the chunks in a single array by appending them to a StringBuilder
p45705
aVSo using a StringBuilder directly will be faster
p45706
aVI don't think you'll find a faster technique than that
p45707
aVMake sure to initialize the StringBuilder with a large enough size to avoid copies of the whole buffer once the capacity is exhausted
p45708
as(dp45709
g23
V571407
p45710
stp45711
a((dp45712
g2
(lp45713
VYour code above is fine, although too complex
p45714
aVIt could be reduced to
p45715
aVAlso, you should avoid Vector, and use ArrayList instead
p45716
as(dp45717
g23
V571407
p45718
stp45719
a((dp45720
g2
(lp45721
V, if you don't pass any locale as argument, uses the default locale of the JVM, as indicated in its API documentation
p45722
aVThere is no way Struts can have any impact on that
p45723
aVIf you want to use the locale set by the Struts i18n interceptor, either use the Struts API to get your text, as explained in the documentation, or use ActionSupport's  method to get the locale from the session, and pass it to
p45724
as(dp45725
g23
V571407
p45726
stp45727
a((dp45728
g2
(lp45729
VThe JPA specification mandates that the transaction is marked for rollback when an OptimisticLockException occurs
p45730
aVAnd I don't know which JPA engine you use, but at least for Hibernate (and I would expect the same thing for other engines, the documentation says:
p45731
aVIf the Session throws an exception, including any SQLException,
p45732
aVimmediately rollback the database transaction, call Session
p45733
aVclose()
p45734
aVand discard the Session instance
p45735
aVCertain methods of Session will not
p45736
aVleave the session in a consistent state
p45737
aVNo exception thrown by
p45738
aVHibernate can be treated as recoverable
p45739
aVEnsure that the Session will
p45740
aVbe closed by calling close() in a finally block
p45741
aVSo if you get such an exception, your best bet is to let the transaction rollback, and retry
p45742
as(dp45743
g23
V571407
p45744
stp45745
a((dp45746
g2
(lp45747
VTo create an instance of a class, you need this class to be loaded and initialized, so obviously, the static fields will be initialized before the first instance field can be initialized
p45748
as(dp45749
g23
V571407
p45750
stp45751
a((dp45752
g2
(lp45753
VYou can't change a named query
p45754
aVThey're part of the source code of the class
p45755
aVIf you change them in your source file, you need to recompile the source file and restart the application
p45756
as(dp45757
g23
V571407
p45758
stp45759
a((dp45760
g2
(lp45761
VThe queue obvously has to store all the elements you put in the queue, and it does that using nodes which are linked with each other
p45762
aVThat's the principle of a linked queue
p45763
aVYour producer produces itels too fast, and the consumer doesn't have the time to consume them, so in the end, you end up with an OOM
p45764
aVYou should consider using a bound BlockingQueue: it would force the producer thread to block when the queue contains too many elements, avoiding OOMs
p45765
as(dp45766
g23
V571407
p45767
stp45768
a((dp45769
g2
(lp45770
VI would use the following query:
p45771
aVThe above can be translated in Criteria by
p45772
aVThe above assumes that you can't have a product which has 2 colors being RED, i
p45773
ag468
aVthat the tuple  has a unique constraint in the table
p45774
as(dp45775
g23
V571407
p45776
stp45777
a((dp45778
g2
(lp45779
VAs long as the code stays readable, no problem
p45780
aVIf you end up with 10 method invocations in a single line of code being 200 characters long, it's not acceptable anymore
p45781
aVYes
p45782
aVStoring the result of the invocation in a local variable and returning the local variable doesn't serve any real purpose
p45783
aVIt can help for debugging, but returning the result directly is OK
p45784
aVIf an additional variable is needed for debugging, you can still add it at this moment
p45785
as(dp45786
g23
V571407
p45787
stp45788
a((dp45789
g2
(lp45790
VI see three possibilities:
p45791
aVThe  (which really should be named errorMap) is present in the request attributes, and not empty (but you ruled that out)
p45792
aVThere is a page, or session, or application-scope attribute named  which is not empty
p45793
aVYou could rule that out by using
p45794
aVYou see "test" on the page because EL is ignored or because the core tag library is not declared in your JSP
p45795
aVCheck the generated HTML code to see how it looks
p45796
as(dp45797
g23
V571407
p45798
stp45799
a((dp45800
g2
(lp45801
VWhat you tried won't work
p45802
aVIf you have an association between Caller and Location, the association must be defined in Caller, not in Person
p45803
aVSame for Employee
p45804
aVAnd I think you'll need two different join tables, as well
p45805
as(dp45806
g23
V571407
p45807
stp45808
a((dp45809
g2
(lp45810
VNo, that's not how you create a branch
p45811
aVYou first make a copy of the trunk in the SVN repo (the branch is this copy):
p45812
aVThen either you switch your current working copy to this new branch (but you should rename the directory to something other than trunk, because it's confusing) or, if you want to have the trunk and the branch locally, you checkout the branch to another location
p45813
as(dp45814
g23
V571407
p45815
stp45816
a((dp45817
g2
(lp45818
VThe ThreadPoolExecutor transforms the Runnable you submit into a  using the newTaskFor() method, and adds this RunnableFuture to the queue
p45819
aVSo if you want to use a PriorityQueue, you should override the  method to make sure the  instances it creates are comparable
p45820
aVOr you could also use the  method instead of the  method, to bypass the task creation
p45821
as(dp45822
g23
V571407
p45823
stp45824
a((dp45825
g2
(lp45826
VSeveral tabs of the same browser use the same session, so if you just forbid access to the login page to already logged in users, this situation should never happen
p45827
aVThe only possibility to do that is if cookies are not supported by the browser, and the container falls back to URL rewriting to maintain sessions
p45828
aVIn this case a user could have two simultaneous sessions in the same browser
p45829
aVBut in this case, you could simply force the usage of cookies for your webapp
p45830
as(dp45831
g23
V571407
p45832
stp45833
a((dp45834
g2
(lp45835
VFrom your own description, clicking the button just executes some JavaScript function which sends an AJAX request with post parameters
p45836
aVIf you send the same AJAX request, you'll get the same response
p45837
aVThe server doesn't care how the request was sent
p45838
aVWhether it was sent by clicking on a button, or a link or any other action is completely irrelevant
p45839
aVThe only thing that matters is the URL, method, parameters, headers and cookies of the request it receives
p45840
as(dp45841
g23
V571407
p45842
stp45843
a((dp45844
g2
(lp45845
VOrderBy adds an order by clause to the generated SQL to order the members of the retrieved collection by a column of the table of the target entity:
p45846
aVwill generate a SQL query like
p45847
aVOrderColumn defines the name of an additional column in the table, containing the index of the entity in the list
p45848
aVIf you change the ordering of the elements in the list, Hibernate will change the value of this column
p45849
aVAnd if your students have 0, 3, and 5 as values in this column, the list will be
p45850
aVThis is well described in the javadoc of those 2 annotations
p45851
aVEDIT:
p45852
aVThe order in which B identifiers are assigned depends on how you persist these B instances:
p45853
aVif you explicitely call , of , this assigns an ID to the entity, so calling it for b1, b2 and b3 will respect the order
p45854
aVAFAIK, all the other methods (cascading, merge(), persist()) don't guarantee any order (except if you merge or persist, and then )
p45855
aVSo if you want the list to hold b1, b2 and b3 in this order, regardless of the way those are persisted, your best bet is to add an  annotation to the collection
p45856
aVHibernate will automatically populate this column with 0 for b1, 1 for b2 and 2 for b3
p45857
aVAnd when you'll reload the parent entity, They will be in the same order in the list
p45858
as(dp45859
g23
V571407
p45860
stp45861
a((dp45862
g2
(lp45863
VIf you declare a variable like this:
p45864
aVthe following will be valid:
p45865
aVbut the following wwon't:
p45866
aV(assuming  and  are two implementations of )
p45867
aVThat's the point of generics in that case: restrict the type to a specific type that implements (or extends) AnInterface
p45868
as(dp45869
g23
V571407
p45870
stp45871
a((dp45872
g2
(lp45873
VDon't know about grails, but you just need the following query:
p45874
aVOf course, this query could return 0, 1 or 2 products, and you have to iterate through the list to know which is the one with "issuedProduct" as name, and which is the other one
p45875
as(dp45876
g23
V571407
p45877
stp45878
a((dp45879
g2
(lp45880
VRemoving and adding components does work as expected
p45881
aVYou need to call  on the parent component once it's done, though
p45882
aVIf that doesn't work, post an SSCCE exhibiting the problem
p45883
as(dp45884
g23
V571407
p45885
stp45886
a((dp45887
g2
(lp45888
VBecause an enum, by definition, has a fixed set of instances which are declared and constructed in the enum itself
p45889
aVUsing the constructor from outside of the enum class itself thus doesn't make sense
p45890
aVAnd AFAIK, an enum constructor is always, explicitely or implicitely, private
p45891
as(dp45892
g23
V571407
p45893
stp45894
a((dp45895
g2
(lp45896
VJPQL uses entities and association between entties
p45897
aVIt doesn't use tables, column and foreign keys
p45898
aVIf you want to select all As which have a B, the query is
p45899
aVIf you want to select all As with their B
p45900
aVRead a book about JPA, because you haven't grasped basic concepts about JPA
p45901
as(dp45902
g23
V571407
p45903
stp45904
a((dp45905
g2
(lp45906
VJava enums have a built-in ordinal, which is 0 for the first enum member, 1 for the second, etc
p45907
aVBut enums are classes in Java so you may also assign them a field:
p45908
as(dp45909
g23
V571407
p45910
stp45911
a((dp45912
g2
(lp45913
VThe BeanComparator uses reflection to access the name property and compare the two objects
p45914
aVAlthough reflection performance has improved, it's still not as fast as accessing a field directly
p45915
aVWhether this is important or not depends on how many times it's called in your application, and in which context
p45916
aVAnother problem is that, if you refactor the method and rename it to , the code using BeanComparator will not be refactored, and the problem will go unnoticed until runtime (or unit testing time)
p45917
aVFrankly, implementing a comparator is so easy that I don't think using reflection is a good idea
p45918
aVThe benefit of avoiding 4 lines of trivial code isn't sufficient to compensate for the performance and maintainability problems it causes
p45919
as(dp45920
g23
V571407
p45921
stp45922
a((dp45923
g2
(lp45924
VYou should use both
p45925
aVThe Hibernate query will allow checking functionally that the user doesn't exist before inserting it, and return an appropriate result or throw an appropriate exception
p45926
aVIt's better than relying on a unique constraint that will cause the transaction to rollback with a cryptic error message deeply hidden inside an stack of exceptions
p45927
aVBut you should also have a unique constraint to guarantee the uniqueness, simply in case two concurrent threads both check that the user doesn't exist at the same time, then both insert the same user at the same time
p45928
aVFor simple queries which don't need to be dynamically composed, I would use HQL rather than Criteria though: much more readable IMHO
p45929
as(dp45930
g23
V571407
p45931
stp45932
a((dp45933
g2
(lp45934
VThe method1 simply says it returns an Animal
p45935
aVReturn any instance of Animal, and the code will compile:
p45936
aVThe second method says that it returns an animal which is of the same type than the animal given as argument
p45937
aVSo you could return the argument itself, and it would compile
p45938
aVYou've said which type the method must return, but you haven't said what the method must do and return, so it's impossible to implement it
p45939
aVAll I can say is that  would compile
p45940
as(dp45941
g23
V571407
p45942
stp45943
a((dp45944
g2
(lp45945
VThe model doesn't talk to the view
p45946
aVBut the view displays data contained in the model, and calls methods from the model to display them
p45947
aVThat's probably why there is a link between them in your diagram:
p45948
aVcontroller gets model from database (via the service layer) and stores it in the request
p45949
aVcontroller dispatches to the appropriate view
p45950
aVview gets data from the model and generates HTML
p45951
as(dp45952
g23
V571407
p45953
stp45954
a((dp45955
g2
(lp45956
VThe hash is purely a browser thing
p45957
aVWhen you send a request to a URL like , the browser sends a request to , renders the HTML from the response, then finds an anchor with the  name or ID in the HTML, and scrolls to this anchor
p45958
aVIf you send a request to  (when submitting your form), there is no way for the server to change the URL the browser sent a request to and to tell it to go to the  anchor
p45959
aVThe only way is to generate an HTML page containing a JavaScript function called when the page is loaded and jumping to the bar anchor
p45960
aVSee How to scroll HTML page to given anchor using jQuery or Javascript
p45961
aVfor how to do that
p45962
as(dp45963
g23
V571407
p45964
stp45965
a((dp45966
g2
(lp45967
VYou're looking for the JSTL  tag:
p45968
aVIt uses  internally, though
p45969
aVMost UI frameworks also have their own version of such a tag
p45970
as(dp45971
g23
V571407
p45972
stp45973
a((dp45974
g2
(lp45975
VMake the  attribute of your form point to the appropriate URL:
p45976
aVIf you need to change it dynamically, add this to your JS code (before the submit, of course):
p45977
as(dp45978
g23
V571407
p45979
stp45980
a((dp45981
g2
(lp45982
VSince the root list is fast at accessing random indices, the sublist is also fast at doing it, so it makes sense to mark the sublist as RandomAccess as well
p45983
aVSubList and RandomAccessSubList share the same implementation through inheritance, but one is not marked as RandomAccess, and the other is
p45984
aVThat's why a subclass is useful
p45985
as(dp45986
g23
V571407
p45987
stp45988
a((dp45989
g2
(lp45990
VYou should not redirect to index
p45991
aVjsp, but forward to index
p45992
aVjsp in this case
p45993
aVStore the message in some request attribute, forward to the index
p45994
aVjsp, and display the message if it's present in the request attribute
p45995
aVYou should use an MVC framework, in order to always make your URLs point to actions (controllers) implemented in Java, make these actions call the business ogic (here, log the user in) and have those actions forward or redirect to the appropriate view (index
p45996
aVjsp or welcome
p45997
aVjsp)
p45998
as(dp45999
g23
V571407
p46000
stp46001
a((dp46002
g2
(lp46003
VYou simply forgot to initialise the owning side of the bidirectional association
p46004
aVYou only initialized the inverse side (the one which has the  attribute)
p46005
aVHibernate only considers the owning side to know if an association exists or not (the side without the  attribute)
p46006
aVAdd this to your code (before the holding is saved):
p46007
aVSide note: your code would be much more readable if you named the  field (and accessors)
p46008
aVThere are many of them, so it should have a plural form
p46009
as(dp46010
g23
V571407
p46011
stp46012
a((dp46013
g2
(lp46014
VAs you see in the logs, it passes  as the value for the generated column, which means: use the default value for this column
p46015
aVDB2's documentation says:
p46016
aVDEFAULT
p46017
aVSpecifies that the default value is to be used
p46018
aVThe result of specifying DEFAULT depends on how the column was defined, as follows:
p46019
ag7651
aVIf the IDENTITY clause is used, the value is generated by the database manager
p46020
as(dp46021
g23
V571407
p46022
stp46023
a((dp46024
g2
(lp46025
VTreeSet doesn't use  and  at all
p46026
aVIt uses the comparator you pass as argument (or the  method of the objects if they are Comparable and you don't provide a comparator)
p46027
aVTwo objects are considered equal by a TreeSet if  (or) returns 0 when comparing these two objects
p46028
aVSo if your comparator only compares the age of humans, all the humans with the same age will be considered equal
p46029
aVIf you want humans to be considered equal when they have the same age and name, then the comparator should compare by age, and then compare by name if the age comparison returns 0
p46030
as(dp46031
g23
V571407
p46032
stp46033
a((dp46034
g2
(lp46035
VNo
p46036
aVA HQL/JPQL query is always transformed into a SQL query, and the database doesn't know about the inheritance relationships between Java classes
p46037
as(dp46038
g23
V571407
p46039
stp46040
a((dp46041
g2
(lp46042
V lists all the options, and the one you're looking for is
p46043
aVor
p46044
as(dp46045
g23
V571407
p46046
stp46047
a((dp46048
g2
(lp46049
VIf what you really have is a OneToMany (which means that a give  appears at most once in ), then the mapping is the following:
p46050
aVElse, what you have is in fact a ManyToMany, and the mapping is the same, except that  must be replaced by
p46051
as(dp46052
g23
V571407
p46053
stp46054
a((dp46055
g2
(lp46056
VJPQL queries entities and their associations, and you haven't described them, so it's a bit hard to say
p46057
aVBut assuming a Post has a ManyToOne with a Friend, and a Friend has a ManyToMany with a User, the query would be:
p46058
as(dp46059
g23
V571407
p46060
stp46061
a((dp46062
g2
(lp46063
VYou missed the  annotation:
p46064
aVDesignates a ManyToOne or OneToOne relationship attribute that
p46065
aVprovides the mapping for an EmbeddedId primary key, an attribute
p46066
aVwithin an EmbeddedId primary key, or a simple primary key of the
p46067
aVparent entity
p46068
aVThe value element specifies the attribute within a
p46069
aVcomposite key to which the relationship attribute corresponds
p46070
as(dp46071
g23
V571407
p46072
stp46073
a((dp46074
g2
(lp46075
VThis shouldn't be checked at runtime: it would be too late
p46076
aVAdd a unit test that iterates through the enum values, and check that they all have a different number
p46077
aVAnd make sure to always execute the unit tests, and check that they pass, before generating a new version of your application/library
p46078
as(dp46079
g23
V571407
p46080
stp46081
a((dp46082
g2
(lp46083
V loads a resource using the class loader
p46084
aVSo the resources it can load are resources that are accessible in the classpath
p46085
aVSo it can only load from a jar in , or from , or a jar in tomcat's classpath
p46086
aVOne solution (probably the best one) is thus to also put the jasper files in a jar file in , or in a directory under
p46087
aVIf you really want to put the jasper files in the webapp, then you need to load the resource using ServletContext
p46088
aVgetResource()
p46089
aVIn both solutions, what you'll get is not an URL pointing to a file, but an URL to a resource inside a jar or a war
p46090
aVSo you shouldn't call
p46091
aVPass the URL, or the InputStream returned by , to the Jasper API
p46092
as(dp46093
g23
V571407
p46094
stp46095
a((dp46096
g2
(lp46097
VYou could encode the bytes in hexadecimal to get a printable file name
p46098
aVBut your algorithm doesn't guarantee uniqueness
p46099
aVOr you could simply use a UUID, or a sequence number returned from a database sequence
p46100
as(dp46101
g23
V571407
p46102
stp46103
a((dp46104
g2
(lp46105
VMaybe something simpler exists, but I've not found it:
p46106
aVTo make it clearer, this query checks that there is no permission of name 'test' that is not in the role permissions, which is the same as saying that all permissions with name 'test' are in the role permissions
p46107
as(dp46108
g23
V571407
p46109
stp46110
a((dp46111
g2
(lp46112
VHtmlUnit doesn't control any external web browser
p46113
aVIt is a web browser (without any graphical UI)
p46114
aVUse Selenium to control an external web browser
p46115
as(dp46116
g23
V571407
p46117
stp46118
a((dp46119
g2
(lp46120
VI would call it
p46121
aVThere is no naming convention for "Main" classes
p46122
aVClasses are spelt with CamelCase, and should always be in a package
p46123
aVThe convention for packages it to prefix them with your domain name in the inverse order
p46124
aVSo if your domain name is jojo
p46125
aVcom, it should be
p46126
as(dp46127
g23
V571407
p46128
stp46129
a((dp46130
g2
(lp46131
VGet the root of the tree:
p46132
aVthen get the number of children of this root node:
p46133
aVthen go from 0 to the number of children and call
p46134
aVto get the children of the root node
p46135
as(dp46136
g23
V571407
p46137
stp46138
a((dp46139
g2
(lp46140
VThe constructor expects a
p46141
aVYou pass it a
p46142
aVA  is not a
p46143
aVIndeed, you may store any kind of Runnable in a , but you may only store  instances in a
p46144
aVIf it were, you could do the following:
p46145
aVand boom
p46146
aVyour  would contain something other than an
p46147
as(dp46148
g23
V571407
p46149
stp46150
a((dp46151
g2
(lp46152
s(dp46153
g23
V571407
p46154
stp46155
a((dp46156
g2
(lp46157
VThe Unix file probably uses the native Unix EOL char: , whereas the Windows file uses the native Windows EOL sequence:
p46158
aVSince you have two EOLs in your file, there is a difference of 2 chars
p46159
aVMake sure to use a binary file transfer, and all the bytes will be preserved, and everything will run the same way on both OSes
p46160
aVEDIT: in fact, you are the one which appends an OS-specific EOL () at the end of each line
p46161
aVJust read the file as a char array using a Reader, and everything will be fine
p46162
aVOr use Guava's method which does it for you:
p46163
as(dp46164
g23
V571407
p46165
stp46166
a((dp46167
g2
(lp46168
VThat's one of the reasons why you should always use prepared statements when executing parameterized queries:
p46169
aVThe JDBC driver will escape the quotes for you, and this will also prevent SQL injection attacks
p46170
aVPrepared statements also have performance advantages when you must execute the same query several times but with different parameters
p46171
aVRead more about prepared statements in the JDBC tutorial
p46172
aVSide note: you shouldn't have a  at the end of your query
p46173
as(dp46174
g23
V571407
p46175
stp46176
a((dp46177
g2
(lp46178
VThe documentation you linked to says:
p46179
aVAlternatively, you may specify a Map of items, in which case the map
p46180
aVkeys are interpreted as option values and the map values correspond to
p46181
aVoption labels
p46182
aVSo, the tag displays the keys of the map as values, and its values as labels, as documented
p46183
as(dp46184
g23
V571407
p46185
stp46186
a((dp46187
g2
(lp46188
VUsing the method shown in the answer you linked to: setAccessible(true), which is a method of the superclass of Field, Constructor and Method
p46189
aVNo
p46190
aVNo, unless the code runs in a JVM you control, where you install a security manager
p46191
aVBut if you give someone a jar file, and he uses the classes from this jar file, he'll be able to access everything
p46192
as(dp46193
g23
V571407
p46194
stp46195
a((dp46196
g2
(lp46197
VThis is not possible, because the method, declared in the abstract class, defines a contract: it returns an int
p46198
aVThis contract must be respected by all implementations
p46199
aVWhat would happen if you did:
p46200
aVIt would break, because myOperation would not return an
p46201
aVThat's why it's not allowed
p46202
aVWhat is allowed, though, is the following:
p46203
aVIn this case, the contract is respected
p46204
aVThe method must return an Object, it returns a String, and a String is an Object
p46205
as(dp46206
g23
V571407
p46207
stp46208
a((dp46209
g2
(lp46210
VJPA uses JDBC so both queries will be executed exactly the same way, and have the same execution time
p46211
as(dp46212
g23
V571407
p46213
stp46214
a((dp46215
g2
(lp46216
VThere's nothing else recommended
p46217
aVIf this way of doing works for you, it's fine
p46218
aVYou could also use alter statements to make your database schema evolve
p46219
aVUse temporary tables to migrate your data, etc
p46220
aVif exporting and importing to/from a flat file isn't possible anymore due to the large volume of data
p46221
aVBut at some time, data must be migrated in a way or another
p46222
as(dp46223
g23
V571407
p46224
stp46225
a((dp46226
g2
(lp46227
VThe first one is a generic listener to the session
p46228
aVIt's called whenever an attribute of any kind is being added or removed to/from a session
p46229
aVIt's used when you want to be informed of any session attribute addition/removal
p46230
aVThe second one is a callback interface that can be implemented by a specific class
p46231
aVThe callback method is called on an object implementing this interface when this object is being bound/unbound to/from the session
p46232
aVIt's used when you want an object to be informed of its own addition/removal to/from the session
p46233
as(dp46234
g23
V571407
p46235
stp46236
a((dp46237
g2
(lp46238
VA NullPointerException, most of the time, means that you're dereferencing a null variable
p46239
aVI assume the line causing the exception (line 97 in , as the stack trace indicates) is the following line:
p46240
aVThen it can mean two things:
p46241
aVis null
p46242
aVThe list returned by  is null
p46243
aVUse a debugger to identify the problem, or add logging traces in your code
p46244
as(dp46245
g23
V571407
p46246
stp46247
a((dp46248
g2
(lp46249
VOnce you've found your index, and even if it's -1, you just need to append to the original string the substring going from  (since index is the last matching character index) to the end of the string
p46250
aVThere's a method in String to get this substring
p46251
as(dp46252
g23
V571407
p46253
stp46254
a((dp46255
g2
(lp46256
VImport consists in adding a project (source code) into a repository
p46257
aVYou invoke Import on the root directory of the project
p46258
aVNot on the directory containing the SVN repository
p46259
aVImporting a repository inside a repository doesn't make sense
p46260
aVRead section 4
p46261
aV2 of TortoiseSVN's help
p46262
aV(right-click on any directory, TortoiseSVN - Help)
p46263
as(dp46264
g23
V571407
p46265
stp46266
a((dp46267
g2
(lp46268
VUse  to tell the compiler it's a long literal, and not an int literal
p46269
as(dp46270
g23
V571407
p46271
stp46272
a((dp46273
g2
(lp46274
VCatch the SQLException, and wrap it into your own exception:
p46275
aVWhether this exception should be a checked exception or a runtime exception depends on what the caller can do about it
p46276
aVIf it's recoverable (which, I think, is not the case here), it should be a checked exception
p46277
aVIf it's not recoverable (the caller can just display an error message), then it should be a runtime exception
p46278
aVIf it's a checked exception, you have no choice; the exception MUST be declared in the  clause of the method
p46279
as(dp46280
g23
V571407
p46281
stp46282
a((dp46283
g2
(lp46284
VI would use optimistic locking instead
p46285
aVThe following strategy is the one used by JPA
p46286
aVYou add a  field to the table holding the data to edit
p46287
aVEach time you load the data to edit, you also load the  field
p46288
aVEach time the data is modified, you increment this version field by 1
p46289
aVBut to be able to save the data, you must have an in-memory version that is equal to the one stored in database:
p46290
aVIf the above query doesn't update anything, it means the data has been updated by someone else
p46291
aVIn this case, you throw an exception and tell the admin to refresh the page and redo his edit
p46292
aVIf you really want pessimistic locking, then you need to maintain some in-memory (in the app is not clustered) or in-database lock, try to lock the lock, and display the page in read-only if it's already locked
p46293
aVOnce the update is done, you must release the lock
p46294
aVThe problem is if the update is never done
p46295
aVIn this case, you need to use an , and release the lock when  is called, if the lock is held by the session being destroyed
p46296
as(dp46297
g23
V571407
p46298
stp46299
a((dp46300
g2
(lp46301
VAFAIK, the following should work:
p46302
as(dp46303
g23
V571407
p46304
stp46305
a((dp46306
g2
(lp46307
VWe don't have any context, so maybe the author of what you read meant something else, but here's a scenario where DTOs can indeed reduce the number of roundtrips from the presentation layer to the service layer
p46308
aVSuppose you have a page where you must list users, and for each user, display the number of answers posted by the user
p46309
aVAnd suppose your page lists 10 users
p46310
aVIf you don't use a DTO, you'll have to call a method to get the informations about the 10 users
p46311
aVThe for each user, you'll have to call a second method to get the number of answers he posted
p46312
aVThat makes 11 method calls
p46313
aVIf you use a DTO which holds the information to display about a user, as weel as his number of answers, you may call a single method to get the list of 10 users, and get all the information at once
p46314
aVNote that returning the list of 10 users, each containing its list of answers posted is not an option, because you would load an insane amount of information (the 2453 answers of each users) just to display the number of answers
p46315
as(dp46316
g23
V571407
p46317
stp46318
a((dp46319
g2
(lp46320
VThe  method is implemented by , as a protected method
p46321
aVYour code works because you're calling the  method from the same class as the one you clone
p46322
aVIf you want your object to be cloneable, you should override the  method and make it public:
p46323
aVNote that the doc doesn't say that implementing the Cloneable interface will always make  fail
p46324
aVIt says that implementing it is not a guarantee that  will work
p46325
aVThis is very different
p46326
as(dp46327
g23
V571407
p46328
stp46329
a((dp46330
g2
(lp46331
VYou don't respect Swing's threading policy:
p46332
aVSwing components should only be used from the event dispatch thread
p46333
aVLong-running and blocking methods (such as the one with the infinite loop updating the label) should be run out of the event dispatch thread (but the update of the label must be made in the EDT - see rule 1)
p46334
aVRead the Swing tutorial about concurrency
p46335
as(dp46336
g23
V571407
p46337
stp46338
a((dp46339
g2
(lp46340
VEverything is fine except the stop condition:
p46341
aVSince your array is of size 50, and indices start at 0, the last index is 49
p46342
aVYou should reduce the scope of , avoid hard-coding the length everywhere (don't repeat yourself principle), and respect the camelCase naming conventions:
p46343
as(dp46344
g23
V571407
p46345
stp46346
a((dp46347
g2
(lp46348
VGet the CommissionSummary for the given month an year using a HQL query:
p46349
aVIf not null, delete it:
p46350
aVThen save the new one
p46351
as(dp46352
g23
V571407
p46353
stp46354
a((dp46355
g2
(lp46356
VIt's recommended to use JTA
p46357
aVwhen using a Java EE app server, since it provides JTA and connection pooling out of the box, as well as other goodies like a management console, which allows getting statistics, health status, etc
p46358
aVabout your transactions
p46359
aVwhen you have a distributed transaction, i
p46360
ag468
aVa transaction that spans multiple transactional resources: two databases, or a database and a JMS broker, etc
p46361
aVWhether you use JTA or not, I really advise you to use a framework (Spring, EJBs,
p46362
aVallowing you to demarcate transactions declaratively, rather than demarcating them with code
p46363
aVThis really makes an application more robust and maintainable
p46364
as(dp46365
g23
V571407
p46366
stp46367
a((dp46368
g2
(lp46369
VEach running thread constitutes a root for the GC
p46370
aVAny object reachable from one of the roots is not eligible for GC, and the thread has a thread-local reference to the  instance (returned by )
p46371
aVSo no, your thread won't be GCed until it ends running, since the  instance is reachable from the running thread
p46372
aVI don't see why it would be a bad thing not to call  on the spawned thread
p46373
aVIf you don't care when the spawned thread ends, you don't need to join it
p46374
aVThe application will stop when the last non-daemon thread stops running
p46375
aVAlso, note that the number of references is not what is used by the GC to tell if an object is eligible for GC or not
p46376
aVGraphs of objects which maintain references to each other (a DOM tree for example) can be eligible for GC, if the graph is not reachable anymore
p46377
as(dp46378
g23
V571407
p46379
stp46380
a((dp46381
g2
(lp46382
VThat's expected behavior
p46383
aVIn a given session, a given entity exists only once
p46384
aVIf you want to assign another titularidad to your descripcion entity, you shouldn't modify the fields of the existing titularidads
p46385
aVInstead, you should get a reference to the titularidad you want to assign, and assign this reference:
p46386
as(dp46387
g23
V571407
p46388
stp46389
a((dp46390
g2
(lp46391
VThere's no restriction available to do that
p46392
aVYou'll have to create your own Criterion subclass which generates the appropriate SQL, or use
p46393
aVIn SQL, on Oracle, the SQL restriction could look like the following:
p46394
as(dp46395
g23
V571407
p46396
stp46397
a((dp46398
g2
(lp46399
VI've never used Camel, but Google lead me to this documentation page, which explains that an option can be added to the URL to specify the charset:
p46400
as(dp46401
g23
V571407
p46402
stp46403
a((dp46404
g2
(lp46405
VWhen fetching multiple columns, the result is a
p46406
aVEach  contains one column of the row
p46407
aVSo in your case, each  would contain 2 elements, the first one being the name, and the second one being the designation
p46408
aVNote that  will never return null
p46409
aVYou shouldn't check that
p46410
as(dp46411
g23
V571407
p46412
stp46413
a((dp46414
g2
(lp46415
VYou need to customize the table model to tell the JTable that the column is holding values of type Date:
p46416
aVThis will make the JTable use a renderer formatting the date with the format associated to the current locale
p46417
aVIf you need another format, you need to associate another renderer to the column, which formats the date as you want to
p46418
as(dp46419
g23
V571407
p46420
stp46421
a((dp46422
g2
(lp46423
VUse the JSTL's :
p46424
aVRetrieves an absolute or relative URL and exposes its contents to
p46425
aVeither the page, a String in 'var', or a Reader in 'varReader'
p46426
as(dp46427
g23
V571407
p46428
stp46429
a((dp46430
g2
(lp46431
VAn Immutable class whose instances never change
p46432
aVThe state of the object is defined at construction time and never changes after
p46433
aVTo be properly immutable, the class doesn't provide any way (other than reflection) to change its state: no setter method, no method that changes its internal state, no method that allows accessing to a mutable field it holds
p46434
aVIt should also be final (as BigDecimal should be), to prevent any other class to extend it and thus make it mutable by adding mutable fields
p46435
aVThe advantages are many:
p46436
aVThe class is easy to understand
p46437
aVInstances are inherently thread-safe
p46438
aVInstances can be cached without needing to return copies from the cache
p46439
aVInstances can be used as keys in a Map without fear of being changed after
p46440
aVIt doesn't violate OO principles: to the contrary, the state is completely encapsulated in the object
p46441
aVNote: some immutable objects change their state internally (lazy initialization of some fields, for example) without affecting the externally-visible state of the object
p46442
aVIf done properly, it doesn't change the thread-safety of immutable objects
p46443
aVIf done incorrectly, it can make them non-thread-safe
p46444
as(dp46445
g23
V571407
p46446
stp46447
a((dp46448
g2
(lp46449
VUse a well-defined format, like XML or JSON
p46450
aVOr choose a delimiter and escape every instance of this delimiter in each of the Strings
p46451
aVOr prepend the length of each part in the message
p46452
aVFor example:
p46453
aVor
p46454
as(dp46455
g23
V571407
p46456
stp46457
a((dp46458
g2
(lp46459
VSee the javadoc for details
p46460
as(dp46461
g23
V571407
p46462
stp46463
a((dp46464
g2
(lp46465
VThen why not use a , where  is a class containing a , and the number of articles using it
p46466
aVMuch more readable, type-safe, maintainable, and object-oriented IMHO
p46467
as(dp46468
g23
V571407
p46469
stp46470
a((dp46471
g2
(lp46472
VWorks for me:
p46473
aVShow us your code
p46474
aVYou probably call  on the ObjectOutputStream between the first and the second map
p46475
aVOr you use two difference ObjectOutputStream instances
p46476
as(dp46477
g23
V571407
p46478
stp46479
a((dp46480
g2
(lp46481
VA HTML DOM is a tree data structure, which doesn't provide much behavior, and that uses node types that are not under your control
p46482
aVA Swing tree of components is a tree of rich objects, containing objects of types that you create, and which should provide the behavior you need
p46483
aVYou should apply the OO principles to the elements of this tree (panels, etc
p46484
aV: encapsulation, law of demeter, composition, etc
p46485
aVYou shouldn't have to traverse a tree of Swing components to find the one you want
p46486
aVThis would be a sign of poor design and lack of encapsulation
p46487
aVThe elements of the tree should collaborate, reference each other, call appropriate methods to do their job
p46488
as(dp46489
g23
V571407
p46490
stp46491
a((dp46492
g2
(lp46493
VGradle doesn't support this (yet)
p46494
aVThere's a open feature request opened already
p46495
as(dp46496
g23
V571407
p46497
stp46498
a((dp46499
g2
(lp46500
VMy guess is that Spring instantiates its beans and injects the DataSource, but instead of getting the bean from the Spring bean factory, you instantiate one yourself, and thus use another instance, not under Spring's control, and thus not initialized with the DataSource
p46501
aVYou should never do
p46502
aVAll the bean references should be injected dependencies or should be obtained by asking a bean to the Spring bean factory
p46503
aVSo if your code does , something is wrong
p46504
as(dp46505
g23
V571407
p46506
stp46507
a((dp46508
g2
(lp46509
VThis is probably a query that is executed due to batch fetching:
p46510
aVUsing batch fetching, Hibernate can load several uninitialized proxies
p46511
aVif one proxy is accessed
p46512
aVBatch fetching is an optimization of the
p46513
aVlazy select fetching strategy
p46514
aVBatch fetching for classes/entities is easier to understand
p46515
aVConsider
p46516
aVthe following example: at runtime you have 25 Cat instances loaded in
p46517
aVa Session, and each Cat has a reference to its owner, a Person
p46518
aVThe
p46519
aVPerson class is mapped with a proxy, lazy="true"
p46520
aVIf you now iterate
p46521
aVthrough all cats and call getOwner() on each, Hibernate will, by
p46522
aVdefault, execute 25 SELECT statements to retrieve the proxied owners
p46523
aVYou can tune this behavior by specifying a batch-size in the mapping
p46524
aVof Person:
p46525
aVHibernate will now execute only three queries: the pattern is 10, 10,
p46526
ag194
as(dp46527
g23
V571407
p46528
stp46529
a((dp46530
g2
(lp46531
VBecause you defined an inner class called  in
p46532
as(dp46533
g23
V571407
p46534
stp46535
a((dp46536
g2
(lp46537
VAssuming these classes are commons-DBCP classes, the constructor of  registers the instance being created as the factory of the pool pased as argument:
p46538
aVSo, creating the factory creates it, and makes the pool use it to create new connections when needed
p46539
as(dp46540
g23
V571407
p46541
stp46542
a((dp46543
g2
(lp46544
VIf I understand correctly, you would like to be able to get the score associated to a name quickly (hence the need for a Map), and you would like to be able to iterate through tyhe name-score pairs with the highest scores first
p46545
aVI would just use a  (where the key is the name and the value is the name-score pair)
p46546
aVThis would give you O(1) lookups
p46547
aVAnd when you need to name-score pairs sorted by score, create a new  from the  of the map, sort it, and return it
p46548
as(dp46549
g23
V571407
p46550
stp46551
a((dp46552
g2
(lp46553
VYour question doesn't make much sense
p46554
aVIndexColumn is used to assign indices to the elements of a List, in a OneToMany or ManyToMany association
p46555
aVYou just have a ManyToOne association, so there's no list at all, so there is no need for an index column
p46556
aVI could imagine you would want to execute a query returning all the children of a parent, and want them placed in a list at a specific index
p46557
aVIn this case, you need to add a persistent index field to your child entity, execute the query, sort the children by index, and then create the indexed list by yourself:
p46558
aVFor OneToOne associations, IndexColumn really doesn't make any sense
p46559
as(dp46560
g23
V571407
p46561
stp46562
a((dp46563
g2
(lp46564
VI would create the object/array in Java, serialize it to JSON using a JSON encoder, bind the JSON String to a request parameter, and initialize the JavaScript object from this JSON string:
p46565
as(dp46566
g23
V571407
p46567
stp46568
a((dp46569
g2
(lp46570
VGet the source code of the Criterion class returned by  (), and create another one which is similar but transforms all the elements of the value list to lowercase, and generates a SQL query like:
p46571
as(dp46572
g23
V571407
p46573
stp46574
a((dp46575
g2
(lp46576
VIf the column contains integer values, the best solution is to map it as an integer rather than a String
p46577
aVIf, for obscure reasons, this is not possible, you could add a integer field annotated with  in your entity and order on this field
p46578
as(dp46579
g23
V571407
p46580
stp46581
a((dp46582
g2
(lp46583
VStruts 1 doesn't offer anything to help for that except the standard Servlet API
p46584
aVYou'll need to use the methods from the HttpServletRequest to get this information, for example getRequestURI()
p46585
aVStruts1 is completely obsolete
p46586
aVYou would get better support from more modern frameworks like Stripes, Spring MVC, Play, etc
p46587
as(dp46588
g23
V571407
p46589
stp46590
a((dp46591
g2
(lp46592
VIt's not very clear, and it seems to me that you missed the part of the manual talking about associations (and the part of the Java manual talking about naming conventions as well)
p46593
aVBut what's sure is that if you query the field devotee_id:
p46594
aVWhat you'll get as result will be a list of devotee IDs
p46595
aVNot a list of M_member
p46596
aVSo, assuming devotee_id is a field of type Long, what you'll get will be a
p46597
aVNot a
p46598
as(dp46599
g23
V571407
p46600
stp46601
a((dp46602
g2
(lp46603
VCreate a  class which encapsulates your sorted map, and makes sure all the accesses to the map are properly synchronized
p46604
aVOr use a concurrent map that is already thread safe
p46605
aVCreate an instance of this class
p46606
aVUse the Executors class to create an  with the characteristics that you desire
p46607
aVThen iterate through the collection, and for each reader, create a  or a  filling the WordMap instance with the words found in this reader, and submit this  or  to the
p46608
as(dp46609
g23
V571407
p46610
stp46611
a((dp46612
g2
(lp46613
VThe login fields are probably populated by the browser
p46614
aVNot by the server (checking the generated HTML code would tell you immediately)
p46615
aVAnd that's a good thing: if the user has chosen to make the browser remember the login and password for your app, then that's what he wants, and you shouldn't forbid it
p46616
as(dp46617
g23
V571407
p46618
stp46619
a((dp46620
g2
(lp46621
VNo, JDBC doesn't have any support for optimistic concurrency
p46622
aVOptimistic concurrency is handled by JPA by using a dedicated  column to the table, and incrementing the version value each time an update is made
p46623
aVThe update query looks like this:
p46624
aVIf  returns 0 instead of 1, it means that someone else deleted the record, or updated it and thus incremented the version
p46625
as(dp46626
g23
V571407
p46627
stp46628
a((dp46629
g2
(lp46630
VAssuming Employee is a third subclass of User, then if a user logs in, and you get this user from the database using Hibernate, and this user is in fact an employee, then Hibernate will return an Employee instance
p46631
aVIt works as you would expect
p46632
aVIf it doesn't, then you did something wrong, but it's impossible to tell without seeing the code
p46633
as(dp46634
g23
V571407
p46635
stp46636
a((dp46637
g2
(lp46638
VThe foreach loop is as efficient as this kind of loop:
p46639
aVbecause it's strictly equivalent
p46640
aVIf you iterate through a list using
p46641
aVThen the foreach loop will have an equivalent performance as your loop, but only for ArrayList
p46642
aVIn case of a LinkedList, your loop will have abysmal performance, because at each iteratioon, it will have to traverse all the nodes of the list until it gets to the th element
p46643
aVThe foreach loop (or the loop based on an iterator, which is the same), doesn't have this problem, since the iterator keeps a reference to the current node and simply goes to the next at each iteration
p46644
aVIt's the bast choice, because it works fine with all types of lists
p46645
aVIt also expresses the intent more clearly, and is safer because you don't risk to increment the index inside the loop, or use the wrong index in case of nested loops
p46646
as(dp46647
g23
V571407
p46648
stp46649
a((dp46650
g2
(lp46651
VIf there is no association betwee the entities, the only join you can do with HQL is an inner join using a where clause on the IDs:
p46652
aVSuch a query returns a , each  containing the 5 elements you selected
p46653
as(dp46654
g23
V571407
p46655
stp46656
a((dp46657
g2
(lp46658
VYou're looking for optimistic concurrency control
p46659
aVWith JPA/Hibernate, it can be as simple as adding an  annotated field in your entity
p46660
as(dp46661
g23
V571407
p46662
stp46663
a((dp46664
g2
(lp46665
VYou have a whole lot of code duplication here
p46666
aVHere's what you should do, IMHO
p46667
aVCreate a static final array of texts, containing the text of all your buttons
p46668
aVCreate a  containing the text associated with each button (unless Android allows associateing some text to a button, in which case you don't even need this map)
p46669
aVFor each button add the same listener:
p46670
as(dp46671
g23
V571407
p46672
stp46673
a((dp46674
g2
(lp46675
VTry with
p46676
aVThe other calls are unnecessary and clutter your code
p46677
aVAnd you ignore the result of , which is the updated, attached version of the detached, left untouched, user passed as argument
p46678
aVAlso, note that since you have a cascade ALL on the association, the above will not only update the user fields and which permissions are associated to the user
p46679
aVIt will also merge the permissions
p46680
aVSo the state of the permissions of the user passed as argument will be copied to the attached versions of these permissions and be saved in database
p46681
as(dp46682
g23
V571407
p46683
stp46684
a((dp46685
g2
(lp46686
VNo, I don't see how it would be possible without taking a  as argument in your constructor
p46687
aVThis  would have the responsibility of creating instances of  based on the elements you have in the
p46688
as(dp46689
g23
V571407
p46690
stp46691
a((dp46692
g2
(lp46693
VHibernate will never execute queries on your cache
p46694
aVWhat it can do is execute a query on the database, cache the results, and return these cached results the next time you execute the same query, with the same parameters
p46695
aVBut to do that, the query, each time it's executed, must be cacheable
p46696
aVWIth the JPA API, this is done using query hints, directly on the named query definition, or each time you create a query:
p46697
aVNow that the query is cacheable, Hibernate will load the IDs of the cars from the database the first time this query is executed, and from the query cache afterwards
p46698
aVThen the corresponding cars themselves will be loaded from the entity cache
p46699
as(dp46700
g23
V571407
p46701
stp46702
a((dp46703
g2
(lp46704
VCreate a program where you create all your objects and store them in a simple array
p46705
aVMeasure the used memory (See Runtime)
p46706
aVThen store them in a HashMap
p46707
aVMeasure the used memory
p46708
aVSubtract the first measured memory to the second used memory, and you have the overhead of the HashMap
p46709
as(dp46710
g23
V571407
p46711
stp46712
a((dp46713
g2
(lp46714
VStruts 1 is dead
p46715
aVIt hasn't had a release since 2008
p46716
aVI would really think about migrating to a more modern framework
p46717
aVIf you're stuck with Struts 1, you could
p46718
aVedit the sources yourself, and add a placeholder attribute to the tag
p46719
aVavoid using the tag, and go back to basic HTML + JSTL + EL :
p46720
as(dp46721
g23
V571407
p46722
stp46723
a((dp46724
g2
(lp46725
VDon't know where this AUTHORIZATION_REQUEST_ID comes from
p46726
aVProbably from soething you don't show us
p46727
aVBut your mapping is clearly wrong
p46728
aVThe binary data has a foreign key to the binary data contents
p46729
aVSo this means that a binary data may only have one binary data contents
p46730
aVSo, if several binary data may share the same contents, you should have a ManyToOne
p46731
aVElse, you should have a OneToOne
p46732
aVA OneToMany is of course not what you want, and the fact that you use a Set and are only interested in its first element is a strong indication that it's wrong
p46733
aVHere's how it should be:
p46734
as(dp46735
g23
V571407
p46736
stp46737
a((dp46738
g2
(lp46739
VIt all depends on which kind of  you're writing to
p46740
aVIf it's writing to memory (), it won't make any difference
p46741
aVIf you're writing to a , the stream will buffer your lines in memory and write the buffer once it's full to the underlying stream, so it won't make any difference either
p46742
aVIf you're writing to a  or a , buffering will lead to better performance
p46743
aVBut buffering everything into memory could be a bad idea if the data to write is too big: it could need too much memory
p46744
aVThe best thing to do is to use a buffered writer or stream, which will take care of buffering for you, transparently, and thus avoid too many low-level writes without having to buffer explicitely into a
p46745
as(dp46746
g23
V571407
p46747
stp46748
a((dp46749
g2
(lp46750
VNo, it's not really acceptable
p46751
aVThe local server is just a "toy" server which mimics what the real server does, but without any optimization or safety
p46752
aVThe datastore for example loads everything in memory, and writes everything from memory in a single file
p46753
aVIt's not designed at all to host real applications
p46754
aVJust to be able to test locally without deploying on the real app engine every time
p46755
aVSome services are not available locally either
p46756
aVAnd frankly, if the goal is to host locally and not to exploit the elasticity of the app engine infrastructure, there are much better options
p46757
aVUse a real database, and a runtime environment which allows all the classes to be used
p46758
as(dp46759
g23
V571407
p46760
stp46761
a((dp46762
g2
(lp46763
VTo my astonishment, all the solutions proposed so far are just plain wrong, or contain a subtle bug, or could be more efficient
p46764
aVHere's a solution that works fast whatever the kind of list is, and even if the list contains null elements:
p46765
as(dp46766
g23
V571407
p46767
stp46768
a((dp46769
g2
(lp46770
VYou're breaking the Liskov principle: everything a superclass can do, a subclass must be able to do
p46771
aVThe superclass declares a method accepting any kind of RuleDTO
p46772
aVBut in your subclass, you only accept instances of EvaluationRuleDTO
p46773
aVWhat would happen if you did the following
p46774
aVAn EvaluationRuleDTO is a RuleDTO, so it must fulfill the contract defined by RuleDTO
p46775
aVThe method in the subclass may return an instance of EvaluationRuleDTO instead of a RuleDTO, though, because the contract is to return a RuleDTO, and EvaluationRuleDTO is a RuleDTO
p46776
as(dp46777
g23
V571407
p46778
stp46779
a((dp46780
g2
(lp46781
VNo, it can't
p46782
aVStatic fields are global to the whole ClassLoader, (to the whole)
p46783
aVSo if you have several concurrent requests to your servlet, the second one will overwrite the data stored by the first one in the static fields (and in a thread-unsafe way, additionnally)
p46784
aVIf the data is local to a request, you should store it in a request attribute
p46785
aVThat's what they're for
p46786
aVSide note: your fields are not static, but the only way your code would compile is to make them static
p46787
as(dp46788
g23
V571407
p46789
stp46790
a((dp46791
g2
(lp46792
VThe  suffix usually indicates that the object is meant to contain values coming from an HTML form (Spring calls these command objects)
p46793
aVThe  suffix indicates that the object is a Data Transfer Object
p46794
aVA Data Transfer Object is an object, usually without much logic, which is used to carry information between the presentation layer and the service layer
p46795
aVUse the appropriate suffix for you use-case, or use another one or not at all if your object is neither a form nor a DTO
p46796
as(dp46797
g23
V571407
p46798
stp46799
a((dp46800
g2
(lp46801
VUsing it would simply avoid the need for declaring the bean using XML
p46802
aVYou chose to use annotations for your other beans
p46803
aVI would thus also use annotations for this one
p46804
aVYes, it is, because Spring makes sure everything is properly wired up and initialized, with a synchronization barrier, before serving any request
p46805
aVThis is a very broad question
p46806
aVLayering is useful for separation of concerns, testability, ability to demarcate transactions declaratively, etc
p46807
as(dp46808
g23
V571407
p46809
stp46810
a((dp46811
g2
(lp46812
VIt will propagate it precisely because exceptions are either caught or propagated
p46813
aVIf not caught, an exception propagates:
p46814
aVIn the above example, the exception thrown from  will be propagated by the  method, since  doesn't catch it
p46815
as(dp46816
g23
V571407
p46817
stp46818
a((dp46819
g2
(lp46820
VA class defines the data and behavior that all the instances (objects) of this class will have
p46821
aVFor example, the class Dog has a name and color fields, and a  method
p46822
aVNow if you want to make an application with three dogs, you will create three instances of the Dog class:
p46823
aVOnce you have a dog you can ask it to bark:
p46824
aVYou could also imagine a House class, containing dogs:
p46825
aVSo you could create a house:
p46826
aVadd dogs in the house:
p46827
aVAnd when you come at the door of the house, all its dogs start barking:
p46828
aVSo an object can be composed of other objects, and objects can call each others methods to assemble a whole application
p46829
as(dp46830
g23
V571407
p46831
stp46832
a((dp46833
g2
(lp46834
VThe solution is to use the version of the servlet spec that your JBoss server supports, or to use a version of the JBoss server that supports version 3
p46835
aV0 of the servlet spec
p46836
aVYou're trying to use a brand new version of the spec with an old server that was released when this version of the spec didn't even exist
p46837
aVSee https://community
p46838
aVjboss
p46839
aVorg/wiki/VersionOfTomcatInJBossAS for a matrix of JBoss versions and servlet spec versions
p46840
as(dp46841
g23
V571407
p46842
stp46843
a((dp46844
g2
(lp46845
VMy bet is that you forgot to declare the core taglib in your included JSP
p46846
aVThe  tags will thus be sent as is to the output, and the browser will ignore them
p46847
aVCheck the generated HTML code
p46848
as(dp46849
g23
V571407
p46850
stp46851
a((dp46852
g2
(lp46853
VThe query seems to indicate that your have a whole lot of OnetoOne or ManyToOne associations that are mapped as eagerly-loaded (which is, unfortunately, the default)
p46854
aVSo Hibernate loads them eagerly
p46855
aVFor example, it seems a user references another user, which references anothe user, etc
p46856
aVand this association is not lazily loaded
p46857
aVIt also seems that all your entities inherit from a common super entity
p46858
aVThis is probably wrong: a business and a player are not the same kind of entity, and should not be in the same entity hierarchy
p46859
aVThe commen entity should probably be replaced by a MappedSuperclass
p46860
as(dp46861
g23
V571407
p46862
stp46863
a((dp46864
g2
(lp46865
VThat's what an IDENTITY generator is: a generator that relies on an auto-increment field to generate the unique ID, and asks the database for the generated ID once the record has been saved
p46866
aVIf you want the ID to be generated in memory you could use a UUID generator
p46867
aVMost of the generators ask the database to generate the ID, because it's the only component in the architecture that is reliable and shared
p46868
aVIf you have several applications each saving records in the same table, and each using their own generator, it will obviously lead to conflicts
p46869
aVAsking the database solves this problem: every application agrees to use an auto-increment field, or a sequence, or a table, and everything is fine
p46870
as(dp46871
g23
V571407
p46872
stp46873
a((dp46874
g2
(lp46875
VStore it in a hidden field of your form:
p46876
aVYou should really learn about the JSP EL, the JSTL, and the MVC pattern
p46877
aVReading data from a database in a JSP and using scriptlets is really bad practice
p46878
as(dp46879
g23
V571407
p46880
stp46881
a((dp46882
g2
(lp46883
VThe same option exists in a Java EE webapp, by declaring a login config and a security constraint in the web
p46884
aVxml file
p46885
aVRead the tutorial for more details
p46886
as(dp46887
g23
V571407
p46888
stp46889
a((dp46890
g2
(lp46891
VIt all depends if you expect the user information to change during the life-time of the session or not
p46892
aVIf it doesn't change, or you don't care displaying stale values, storing the user in the session is fine
p46893
aVElse, getting the latest user information every time from the database is necessary
p46894
aVI would avoid identifying a user by his email address, though, as it's something that can expire and change
p46895
aVUse a technical user ID, and store his email as any other information of the user
p46896
as(dp46897
g23
V571407
p46898
stp46899
a((dp46900
g2
(lp46901
VYou may import a class:
p46902
aVor all the classes in a package:
p46903
aVBut you can't import a package:
p46904
aVNote that, with an IDE like Eclipse, you almost never import anything, because the IDE does it for you
p46905
aVType "Refl", then Ctrl-space, and Eclipse will suggest to use  and add the import for you
p46906
aVOr use "Reflections" without importing it, then hit Ctrl-Shift-O, and Eclipse will organize the imports by adding all the necessary imports and removing unnecessary ones
p46907
aVEDIT:
p46908
aVThe reflections-0
p46909
ag36057
aV9-uberjar
p46910
aVjar file is not a Java library (a jar containing classes)
p46911
aVIt's a jar containing other jars (and which should thus be a zip file to avoid the confusion)
p46912
aVYou must unzip the jar and put all the libraries it contains into the build path
p46913
as(dp46914
g23
V571407
p46915
stp46916
a((dp46917
g2
(lp46918
VAFAIK, no
p46919
aVBut you can use the getDelegate() method and see what it returns
p46920
aVFor Hibernate, it returns the Hibernate  instance, for example
p46921
aVJust getting the name of the class of the delegate returned should give you an idea of the underlying provider
p46922
as(dp46923
g23
V571407
p46924
stp46925
a((dp46926
g2
(lp46927
VAdd the appropriate version of the JSP API to the dependencies of your project, with the  scope
p46928
aVIt will be available at compile-time, but Maven will consider that it's provided by the runtime environment and thus don't ship it with the app
p46929
as(dp46930
g23
V571407
p46931
stp46932
a((dp46933
g2
(lp46934
VThe link is generated like this:
p46935
aVSo it completely ignores the context path of the webapp (and doesn't support URL-rewriting as a mean to track sessions)
p46936
aVIt should use the JSTL  tag:
p46937
as(dp46938
g23
V571407
p46939
stp46940
a((dp46941
g2
(lp46942
VDefine an  interface, and have all your category classes (C1, C2 and C3) implement an
p46943
aVmethod, which return the appropriate validator for the chosen category
p46944
aVOther designs could be possible, or even better, but without more information about what a category is and how an excel file structure is linked to a category, it's hard to provide the ideal solution
p46945
aVSome kind of factory for validators based on the category is needed, though
p46946
aVWHether the category should be the factory is debatable
p46947
as(dp46948
g23
V571407
p46949
stp46950
a((dp46951
g2
(lp46952
VLook at your method:
p46953
aVYou want to get the questions of a survey, but the method returns void
p46954
aVMake it return a
p46955
aVAnd in the body of the method, iterate through the resultset, transform each row into a question, add the question to a , and return this list
p46956
aVOr, if the goal of the method is to add questions to the survey passed as argument, then rename the method to
p46957
aVand, inside the method body, call the method  (which should be named ), with the resultset and the survey as argument:
p46958
as(dp46959
g23
V571407
p46960
stp46961
a((dp46962
g2
(lp46963
VFirst of all, since the borrow table is a pure join table, you don't need to map it at all
p46964
aVAll you need is a ManyToMany association using this borrow table as JoinTable
p46965
aVIf you really want to map the join table as an entity, then it should contain two ManyToOne associations (one for each foreign key)
p46966
aVSo the following is wrong:
p46967
aVIndeed,  means: this association is the inverse side of the bidirectional OneToMany/ManyToOne association, which is already mapped by the field  in the  entity
p46968
aVPlease see the annotations on this field to know how to map the association
p46969
aVSo the  doesn't make sense
p46970
aVIt's in contradiction with
p46971
aVYou just need the following:
p46972
aVThe targetEntity is also superfluous, since it's a : JPA can infer the target entity from the generic type of the list
p46973
as(dp46974
g23
V571407
p46975
stp46976
a((dp46977
g2
(lp46978
VIf you don't get any record, it just means that no record in the database matches the criteria
p46979
aVBe aware that equality on strings is case-sensitive and space sensitive: it looks for an exact match
p46980
aVMaybe you have trailing spaces in either your criteria or the names in database
p46981
aVSimilarly, the equality on date is an exact match
p46982
aVIf the date is stored as a timestamp in database and is something like 2012-07-22 12:43:05
p46983
aV757657, passing a date of 2012-07-22 00:00:00
p46984
aV000000 will not match what is stored in the database
p46985
as(dp46986
g23
V571407
p46987
stp46988
a((dp46989
g2
(lp46990
VYes, it's possible, using the  method
p46991
aVThis method invokes the no-arg constructor
p46992
aVMake sure your classes all have one
p46993
as(dp46994
g23
V571407
p46995
stp46996
a((dp46997
g2
(lp46998
VYou're using two different lock objects ( and ), so the blocks are not mutually exclusive
p46999
aVYou need both blocks to synchronize on the same lock object to achieve what you want
p47000
as(dp47001
g23
V571407
p47002
stp47003
a((dp47004
g2
(lp47005
VEclipse is an IDE
p47006
aVJava is the language
p47007
aVGoogling for "format a date in Java" and "current date in Java" would have led you to hundreds of pages telling you the answer
p47008
aVWhat matters is the language: Java
p47009
aVNot the IDE, which is just a tool to generate and compile Java code
p47010
as(dp47011
g23
V571407
p47012
stp47013
a((dp47014
g2
(lp47015
VCheck the javadoc of all the methods you use, and make sure to handle all the nominal and exceptional cases:
p47016
aVthe file doesn't exist: an exception is being thrown
p47017
aVHandle this exception correctly
p47018
aVdoesn't find what it looks for
p47019
aVIt returns -1
p47020
aVHandle this case correctly
p47021
aVdoesn't return an array of the length I expect
p47022
aVHandle this case correctly
p47023
aVSplit your big method into several sub-methods, each doing only one thing
p47024
aVWrite unit tests to check that your methods do what they're supposed to do, with all the possible inputs
p47025
aVNote that "handling things correctly" might very well mean: throw an exception because the input is incorrect, if the contract is that the logs follow a well-defined format
p47026
aVIn this case, it's the code generating the logs that is incorrect
p47027
aVBut it's better to have an exception telling which format you expected and which format you got instead, rather than an obscure NullPointerException or ArrayIndexOutOfBoundsException
p47028
aVThe above applies to any kind of code you write, and not just to file parsing
p47029
aVSide note:
p47030
aVWhat's the point in creating an array of 10 elements to discard it right after and replace it by another array (the one returned by )
p47031
as(dp47032
g23
V571407
p47033
stp47034
a((dp47035
g2
(lp47036
VThen read the documentation:
p47037
aVImplementation note: this implementation provides O(log(n)) time for
p47038
aVthe enqueing and dequeing methods (offer, poll, remove() and add);
p47039
aVlinear time for the remove(Object) and contains(Object) methods; and
p47040
aVconstant time for the retrieval methods (peek, element, and size)
p47041
as(dp47042
g23
V571407
p47043
stp47044
a((dp47045
g2
(lp47046
V checks if the object is already in the session
p47047
aVIf it is, it returns it
p47048
aVIf not, it executes a select statement to load the state of the object in the session, and returns it
p47049
aVIt's the method that you should use by default
p47050
aVchecks if the object is already in the session
p47051
aVIf it is, it returns it
p47052
aVIf not, it creates an uninitialized proxy and returns the proxy
p47053
aVIt doesn't even hit the database
p47054
aVThe first method called on the proxy will make Hibernate load the state of the object from the database, and initialize the proxy
p47055
aVYou typically use this method when you just need a reference to an existing object, to initialize a to-one association for example
p47056
aVA Criteria query or HQL query will always query the database
p47057
aVYou wouldn't use that to do the same thing as
p47058
aVIt can be useful to load an object by primary key, and initialize associations that would otherwise be lazy-loaded using
p47059
aVIf you know that you'll need a student with all its courses, it's better to load everything in a single query than loading the student in one query, and the courses in a second one
p47060
as(dp47061
g23
V571407
p47062
stp47063
a((dp47064
g2
(lp47065
VYou need to set the time zone, but more importantly, you simply need to actually use the format to format the date:
p47066
aVWhat your code does is:
p47067
aVI don't really understand the point in parsing a string to a date, and then displaying the date using the exact same format, though (except to validate that the String is indeed a valid date, but then you could simply reuse the original string)
p47068
as(dp47069
g23
V571407
p47070
stp47071
a((dp47072
g2
(lp47073
VYour exception has nothing to do with your question and Hibernate, end everything to do with Spring
p47074
aVSpring doesn't find any Spring bean of type
p47075
aVYour probably forgot to annotated it with
p47076
aVBTW, you ask if you should create a DAO for , but the error message shows that you have created one already
p47077
aVSide question: why not simply create a ManyToMany association between Article and Category
p47078
aVThe  entity isn't needed at all
p47079
as(dp47080
g23
V571407
p47081
stp47082
a((dp47083
g2
(lp47084
VRSA key length is typically 1024 or 2048 bits
p47085
aVThat makes 128 or 256 bytes
p47086
aVPasswords are typically 8 bytes long (and use only a around 64 different bytes)
p47087
aVYou would lose much of the strength of the algorithm if the RSA key was derived from the password
p47088
aVAttackers would only have to guess or brute-force an 8-bytes password rather than a 128 or 256-bytes long key
p47089
as(dp47090
g23
V571407
p47091
stp47092
a((dp47093
g2
(lp47094
VBecause your benchmark is flawed: in a real use-case, the time taken to produce and consume elements from the queue is much more important than the time it takes to add and remove an element to/from the queue
p47095
aVSo the raw performance of the queue is not so important
p47096
aVBTW, the code only shows how you take elements from the first queue implementation, and not how you add them
p47097
aVMoreover, the choice of the appropriate structure is not made based on performance, but on behavior
p47098
aVIf you want something concurrent, you choose a blocking queue, because it's implemented for you and doesn't have bugs like your code has
p47099
aVIf you want FIFO (which is often what you want), you won't choose a TreeSet
p47100
aVIf you want to compare synchronized vs
p47101
aVReentrantLock, you shouldn't use one data structure for one, and another data structure for the other
p47102
aVReentrantLock used to be faster, but they are on the same level, nowadays (if I believe what Brian Goetz says in JCIP)
p47103
aVAnyway, I would choose one over the other for safety/capability reasons
p47104
aVNot for performance reasons
p47105
as(dp47106
g23
V571407
p47107
stp47108
a((dp47109
g2
(lp47110
VUse a SingleThreadExecutor
p47111
aVHave your servlet create Callable objects and submit them to the executor, and then call  on the returned Future:
p47112
as(dp47113
g23
V571407
p47114
stp47115
a((dp47116
g2
(lp47117
VIf I understand correctly, you want to load the content of a table once the tab containing it is selected
p47118
aVFirst of all, you should not use a MouseListener to do that
p47119
aVIt's a too low-level listener
p47120
aVAnd moreover, you could use the keyboard to switch tabs
p47121
aVTo detected a tab selection change, you should add a ChangeListener to the tabbed pane
p47122
aVAnother thing you should do is remove the JPA code from the listener, and put it in a separate method, and even in a separate class
p47123
aVIt's not the business of the GUI code to know how to get data from the database
p47124
aVDo that in a Data Access Object, and unit test this Data Access Object to know if it works correctly
p47125
aVOne you know that, use it in your GUI
p47126
aVIf there is a problem, it will be in the GUI code since you have tested that the data access code works
p47127
aVUsing a debugger, and ultimately, logging statements, also helps diagnosing where the problem comes from
p47128
as(dp47129
g23
V571407
p47130
stp47131
a((dp47132
g2
(lp47133
VJust provide a startup script for your app:
p47134
aV(above example is for Windows
p47135
aVThe same can be done on Unix)
p47136
aVIf needed, this script could detect if the XYZ_LIB_PATH environment variable is set and gracefully exit if it isn't:
p47137
as(dp47138
g23
V571407
p47139
stp47140
a((dp47141
g2
(lp47142
V is used to map a field to a column
p47143
aVis used to tell Hibernate that the field is (or is a part of) the identifier of the entity (i
p47144
ag468
aVthe primary key)
p47145
aVis used to tell Hibernate that the annotated field constitutes the field to use as the version for optimistic locking
p47146
aVThis field will be checked before every update, and incremented at each update
p47147
aVIt's described in the documentation under the optimistic locking section
p47148
aVAll these annotations are also well described in their javadoc
p47149
as(dp47150
g23
V571407
p47151
stp47152
a((dp47153
g2
(lp47154
VDon't do anything
p47155
aVThe stack trace of the exception does that for you:
p47156
aVis sufficient
p47157
aVThe logger, if configured to show stack traces (which it should do), will print the stack trace and the stack trace will tell exactly which method, at which line, threw the exception
p47158
aVIt will also tell which method called the method causing the exception, etc
p47159
aVuntil the bottom of the stack
p47160
as(dp47161
g23
V571407
p47162
stp47163
a((dp47164
g2
(lp47165
VDo yourself a favor, and use the JSTL:
p47166
as(dp47167
g23
V571407
p47168
stp47169
a((dp47170
g2
(lp47171
VBecause that's how the Hibernate documentation and the JPA spec tells you to do it
p47172
aVIn a bidirectional association, there's an owner side, and an inverse side
p47173
aVThe owner side is the one which doesn't have the  attribute
p47174
aVThe inverse side is the one which has the  attribute
p47175
aVIn a bidirectional OneToMany, the owner side is always the many side (the one which has the foerign key)
p47176
aVHibernate/JPA only cares about the owner side
p47177
aVIf you don't initialize the owner side, it considers the association doesn't exist
p47178
aVUnless you really know what you're doing, a good rule of thumb is to initialize both sides of the association, to make your graph of entities coherent
p47179
as(dp47180
g23
V571407
p47181
stp47182
a((dp47183
g2
(lp47184
VAll you need to do is modify the model of the table
p47185
aVIt will fire the appropriate events which will make the view refresh itself
p47186
aVFor example, to add a new row:
p47187
aVBrowse the javadoc of DefaultTableModel to know all the possible operations
p47188
aVAnd read the tutorial about JTable
p47189
as(dp47190
g23
V571407
p47191
stp47192
a((dp47193
g2
(lp47194
VIf parent has not been persisted yet, then the query won't work, and executing it doesn't make much sense
p47195
aVIt's your responsibility to avoid executing it if the parent hasn't been persisted
p47196
aVBut I would not make it a responsibility of the find method itself
p47197
aVJust make it clear in the documentation of the method that the parent passed as argument must have an ID, or at least be persistent
p47198
aVNo need to make the sameverification as the entity manager
p47199
aVIf it has been persisted, but the flush hasn't happened yet, the entity manager must flush before executing the query, precisely to make the query find the children of the new parent
p47200
aVAt least with Hibernate, you may execute the query with a detached parent
p47201
aVIf the ID is there, the query will use it and execute the query
p47202
as(dp47203
g23
V571407
p47204
stp47205
a((dp47206
g2
(lp47207
VI guess you could do the following:
p47208
as(dp47209
g23
V571407
p47210
stp47211
a((dp47212
g2
(lp47213
VThe communication is encrypted and decrypted for you by the HttpsURLConnection object
p47214
aVYou don't have to deal with encryption and decryption yourself
p47215
as(dp47216
g23
V571407
p47217
stp47218
a((dp47219
g2
(lp47220
VThe AUTO strategy should work on Oracle as well
p47221
aVThe difference with MySQL is that it will use a sequence instead of relying on an auto_increment ID
p47222
aVYou can even control the sequence name per entity if desired: see Hibernate sequence on oracle, @GeneratedValue(strategy = GenerationType
p47223
aVAUTO)
p47224
as(dp47225
g23
V571407
p47226
stp47227
a((dp47228
g2
(lp47229
VThey're just characters that may appear in the URL
p47230
aVYou access them by parsing the URL, because they're not regular query string parameters
p47231
as(dp47232
g23
V571407
p47233
stp47234
a((dp47235
g2
(lp47236
VYes, you can put them in your jar file
p47237
aVJust make  a source folder under Eclipse, and it will copy the non-Java files to the target directory, and add them to the jar file
p47238
aVOnce in the jar file, you would get  like this:
p47239
as(dp47240
g23
V571407
p47241
stp47242
a((dp47243
g2
(lp47244
VAnother solution would be to use the built-in mechanism to interrupt threads:
p47245
aVThis way, no need for an  field, and no risk in failing to synchronize
p47246
as(dp47247
g23
V571407
p47248
stp47249
a((dp47250
g2
(lp47251
VIf I understand correctly, you want to be able to access the current "row" object, but since it has a dynamic ID, you're stuck
p47252
aVThe following should work:
p47253
aVYou could also define an alias right after the  opening tag, and use this alias after:
p47254
as(dp47255
g23
V571407
p47256
stp47257
a((dp47258
g2
(lp47259
VThat's what all MVC frameworks (that I know about) allow doing
p47260
aVHere's an example with Stripes:
p47261
aVMVC frameworks have their own learning curve, but they offer huge services (data binding being one of them)
p47262
aVPick one and learn: Stripes, Spring MVC, Play,
p47263
aVthere are dozens of them
p47264
aVI like Stripes for its simplicity and good design
p47265
as(dp47266
g23
V571407
p47267
stp47268
a((dp47269
g2
(lp47270
VSince you need multiple rows to create a single DTO instance, you can't use the new operator inside the query
p47271
aVInstead, you'll have to create your DTOs by yourself
p47272
aVSomething like this should do:
p47273
as(dp47274
g23
V571407
p47275
stp47276
a((dp47277
g2
(lp47278
VSo much easier without regexps
p47279
as(dp47280
g23
V571407
p47281
stp47282
a((dp47283
g2
(lp47284
VYou just need to annotate the GenericEntity class with , and each entity with
p47285
aVThe javadoc of the annotations explains it
p47286
as(dp47287
g23
V571407
p47288
stp47289
a((dp47290
g2
(lp47291
VIf I understand correctly, you want your Java method to return an intermediate result, and then continue
p47292
aVSo you have two solutions:
p47293
aVSplit the method in two parts, and call each submethod from the client:
p47294
aVMake the method do the second part in a separate thread:
p47295
as(dp47296
g23
V571407
p47297
stp47298
a((dp47299
g2
(lp47300
VThe static block would be necessary (or at least useful) if two different variables are interdependant and can't be initialized independently
p47301
aVSuppose you need to read two values from a file, for example
p47302
aVYou could store both values in an additional object
p47303
aVBut if you really want two constants, a static block is useful
p47304
as(dp47305
g23
V571407
p47306
stp47307
a((dp47308
g2
(lp47309
VI would simply use a counter and
p47310
aVFor each keyword in the list, get its position from the map
p47311
aVIf you get null, put the keyword in the map with the current counter value as value, and increment the counter
p47312
as(dp47313
g23
V571407
p47314
stp47315
a((dp47316
g2
(lp47317
VInstead of using the  with just the name of the metho, you use the one taking a method name and the types of its arguments as parameters: http://www
p47318
aVeasymock
p47319
aVorg/api/easymock/3
p47320
aV1/org/easymock/internal/MockBuilder
p47321
aVhtml#addMockedMethod%28java
p47322
aVlang
p47323
aVString,%20java
p47324
aVlang
p47325
aVClass
p47326
aV%29
p47327
as(dp47328
g23
V571407
p47329
stp47330
a((dp47331
g2
(lp47332
VYou have to choose: either you annotate the getters, or you annotate the fields
p47333
aVBut not both
p47334
aVIf  is on a getter, then all the annotations of fields will be ignored
p47335
aVIf  is on a field, then all the annotations on getters will be ignored
p47336
as(dp47337
g23
V571407
p47338
stp47339
a((dp47340
g2
(lp47341
VThe message exception says what the problem is
p47342
aVYou're trying to call , and thus attach to the session, a detached object
p47343
aVBut the session already contains an attached object with the same ID
p47344
aVIt can happen in a situation like the following:
p47345
aVNote that, if your IDs are generated automatically, calling  on an object which already has an ID is an error in itself
p47346
aVis used to create a new persistent object
p47347
as(dp47348
g23
V571407
p47349
stp47350
a((dp47351
g2
(lp47352
VYes, Hibernate invokes the no-arg constructor for every entity instance it creates and populates
p47353
aVYour above code is not Java code, though
p47354
as(dp47355
g23
V571407
p47356
stp47357
a((dp47358
g2
(lp47359
VNo, it wouldn't
p47360
aVThat's the whole point of parameterized queries
p47361
as(dp47362
g23
V571407
p47363
stp47364
a((dp47365
g2
(lp47366
VThe tool is wrong
p47367
aVThat said, I would use the  JSTL tag to generate the URL
p47368
aVIt would take care of the context path, and of URL rewriting if necessary to track sessions
p47369
as(dp47370
g23
V571407
p47371
stp47372
a((dp47373
g2
(lp47374
VHQL doesn't have an  operator
p47375
aVJoins can only be done on associations between entities, and can have an optional  clause
p47376
as(dp47377
g23
V571407
p47378
stp47379
a((dp47380
g2
(lp47381
VI don't really see the relation between your question and the builder pattern
p47382
aVIf you want a method  and a method , just add them to the Pizza:
p47383
as(dp47384
g23
V571407
p47385
stp47386
a((dp47387
g2
(lp47388
VYou shouldn't split your list of passengers into two lists of name and age
p47389
aVThat's what makes things difficult
p47390
aVJust store  into your form directly
p47391
aVOnce this is done, do yourself a favor and use the JSTL rather than the deprecated struts logic and bean tags:
p47392
aVTo explain why it doesn't work as is:
p47393
aVThe above iterates through the elements of the form's  array (which you should name , since there are several of them), and defines a page attribute named  that you must use inside the loop
p47394
aVSince  is a String array,  is a String
p47395
aVAnd inside the loop you're trying to access the property  of
p47396
aVThere is no method  in
p47397
aVThe passenger name is stored in
p47398
aVYou just need to write it
p47399
aVWith properly named variables, it would be much clearer:
p47400
as(dp47401
g23
V571407
p47402
stp47403
a((dp47404
g2
(lp47405
V is the node in the JNDI tree where you can find properties for the current Java EE component (a webapp, or an EJB)
p47406
aVallows defining a variable pointing directly to this node
p47407
aVIt allows doing
p47408
aVrather than
p47409
aVRelative paths instead of absolute paths
p47410
aVThat's what it's used for
p47411
as(dp47412
g23
V571407
p47413
stp47414
a((dp47415
g2
(lp47416
VI don't have any experience with XML mapping, but I see at least two errors:
p47417
aVYour field should be declared as , to allow Hibernate injecting its own lazy-loaded list implementation (always use interfaces rather than concreate types is a best practice anyway, but it's mandatory with Hibernate)
p47418
aVIf it's a list, it needs an index
p47419
aVElse, it's a bag
p47420
aVThe index is supposed to hold the index of the guest in the list
p47421
aVThe ID is tus not the index
p47422
aVOtherwise, one-to-many mappings are described in the documentation
p47423
aVReplace the  in the example by a , and it should be OK
p47424
as(dp47425
g23
V571407
p47426
stp47427
a((dp47428
g2
(lp47429
VBecause a HashMap uses the following algorithm to find keys quickly:
p47430
aVget the  of the key in argument
p47431
aVdeduce the bucket from this hash code
p47432
aVcompare every key in the bucket with the key in argument (using ) to find the right one
p47433
aVIf two equal objects didn't have the same hash code, the first two steps of the algorithm wouldn't work
p47434
aVAnd it's those two first steps that make a HashMap very fast (O(1))
p47435
as(dp47436
g23
V571407
p47437
stp47438
a((dp47439
g2
(lp47440
VUse an AliasToBeanConstructorResultTransformer, and define a constructor like the following in your entity:
p47441
aVOr, (and this is my preferred solution, because it avoids reflection and allows refactoring the code with less risk) dont't use any result transformer and construct your instances yourself:
p47442
as(dp47443
g23
V571407
p47444
stp47445
a((dp47446
g2
(lp47447
VEclipse has nothing to do with what you see
p47448
aVIf you set a breakpoint to some place inside a method supposed to be called concurrently, and if your client code really launches 20 concurrent requests, and if you observe that the second request is only handled once the first one has finished, then what you thought was concurrent is not
p47449
aVI see two possible explanations:
p47450
aVyou have a unique thread handling all the requests
p47451
aVIf several are sent concurrently, all the requests are queued and handled one by one
p47452
aVyou have several threads handling the request concurrently, but the client code sends 20 requests sequentially, rather than sending 20 requests concurrently
p47453
aVAnyway, using a breakpoint to test such a thing is not a good solution
p47454
aVYou'll have to hit the "Continue (F8)" button for each of the 20 threads, thus they won't restart at the same time
p47455
aVYou'd bette use a CountDownLatch initialized at 20 to do that:
p47456
as(dp47457
g23
V571407
p47458
stp47459
a((dp47460
g2
(lp47461
VIt's possible, if you can express the content of the virtual column as a SQL formula, using the  annotation
p47462
aVSee the documentation for more details
p47463
aVIf the virtual column is a virtual join column, you may also use the  annotation
p47464
as(dp47465
g23
V571407
p47466
stp47467
a((dp47468
g2
(lp47469
VAs simple as that
p47470
as(dp47471
g23
V571407
p47472
stp47473
a((dp47474
g2
(lp47475
VYou try to call  in the constructor
p47476
aVBut the object has to be constructed first, before Spring can call the setter and inject the session factory
p47477
aVSo obviously, at construction time, the session factory is null
p47478
aVEven if the session factory was injected in the constructor and you asked for a session after, there wouldn't be any transactional context, and  would throw an exception
p47479
aVYou should get a session from the factory only from inside the methods of the DAO
p47480
aVThis is the way to get the current session, i
p47481
ag468
aVthe session associated to the current transaction
p47482
as(dp47483
g23
V571407
p47484
stp47485
a((dp47486
g2
(lp47487
VNo, AJAX is not necessary
p47488
aVIn the code of your action method, initialize the list:
p47489
aVThe JSP page will then have access to the list of books
p47490
as(dp47491
g23
V571407
p47492
stp47493
a((dp47494
g2
(lp47495
VThe collection should be declared as
p47496
aVmeans: a collection of some unknown class which is or extends Item
p47497
aVYou can't add anything to such a collection, since you don't know the type of objects it holds
p47498
as(dp47499
g23
V571407
p47500
stp47501
a((dp47502
g2
(lp47503
VMake sure to call  before executing your stored procedure
p47504
aVElse, the persistence context might still have pending changes in memory
p47505
aVFlushing makes sure all the pending changes are written to the database
p47506
aVIf that doesn't work, then it means that the stored proc uses a different transaction than the one used by JPA
p47507
as(dp47508
g23
V571407
p47509
stp47510
a((dp47511
g2
(lp47512
VThe JLS explains it:
p47513
aVBased on the above, I would expect a mandatory  before the , though
p47514
as(dp47515
g23
V571407
p47516
stp47517
a((dp47518
g2
(lp47519
VAs your screenshot shows, the mysql jar doesn't appear under the Web App Libraries node
p47520
aVPaste the jar in , and it will be automatically added to the build path  to the runtime classpath of the webapp (and it will appear under Web App Libraries)
p47521
as(dp47522
g23
V571407
p47523
stp47524
a((dp47525
g2
(lp47526
VThe specifications defines the SUM expression as the following:
p47527
aVSo no, your query isn't valid JPQL
p47528
aVHQL (the Hibernate JPQL variant) supports it, though
p47529
as(dp47530
g23
V571407
p47531
stp47532
a((dp47533
g2
(lp47534
VYou can't chain properties like you would do in HQL
p47535
aVYou must use joins, with Criteria
p47536
aVAnd since checkpoint can be null, you must use a left join
p47537
aVMoreover,  can't be used to compare something with  (as in HQL and SQL)
p47538
aVYou must use  to do that
p47539
aVSo your query should look like this:
p47540
as(dp47541
g23
V571407
p47542
stp47543
a((dp47544
g2
(lp47545
VHere's what the documentation says about circular dependencies:
p47546
aVIf you use predominantly constructor injection, it is possible to
p47547
aVcreate an unresolvable circular dependency scenario
p47548
aVFor example: Class A requires an instance of class B through
p47549
aVconstructor injection, and class B requires an instance of class A
p47550
aVthrough constructor injection
p47551
aVIf you configure beans for classes A
p47552
aVand B to be injected into each other, the Spring IoC container detects
p47553
aVthis circular reference at runtime, and throws a
p47554
aVBeanCurrentlyInCreationException
p47555
aVOne possible solution is to edit the source code of some classes to be
p47556
aVconfigured by setters rather than constructors
p47557
aVAlternatively, avoid
p47558
aVconstructor injection and use setter injection only
p47559
aVIn other words,
p47560
aValthough it is not recommended, you can configure circular
p47561
aVdependencies with setter injection
p47562
aVUnlike the typical case (with no circular dependencies), a circular
p47563
aVdependency between bean A and bean B forces one of the beans to be
p47564
aVinjected into the other prior to being fully initialized itself (a
p47565
aVclassic chicken/egg scenario)
p47566
aVI would just use setter injection in this case, or try to avoid the circular dependency in the first place
p47567
aVAnother solution is to make one of the beans BeanFactoryAware, and to lookup the other bean from the bean factory when the reference is needed
p47568
as(dp47569
g23
V571407
p47570
stp47571
a((dp47572
g2
(lp47573
VOnly values can be bound as parameters
p47574
aVNot parts of the query itself
p47575
aVIn the end, a prepared statement is generated and the parameters are bound to the prepared statement
p47576
aVThe principle of a prepared statement is to prepare the execution plan of the query (of which the order by clause is a part), and to execute the query one or several times after, with varying parameters
p47577
aVIf the query is not complete, the execution plan can't be prepared and reused
p47578
aVSo, for this part of the query, you'll need to generate the query dynamically using string concatenation, and not parameters
p47579
as(dp47580
g23
V571407
p47581
stp47582
a((dp47583
g2
(lp47584
VYour remove method modifies the mutable map returned by
p47585
aVBut the next call to  reconstructs a new mutable map containing all the parameters of the wrapped query
p47586
aVThe mutable map should be constructed when the  is constructed, and it should be stored in an instance field
p47587
as(dp47588
g23
V571407
p47589
stp47590
a((dp47591
g2
(lp47592
VThere is no global setting, and you really don't want such a setting
p47593
aVIndeed,  does not make sense for a whole lot of queries
p47594
aVIn particular, if a query loads an entity and at least one to-many association,  should not be used
p47595
aVIt limits the number of rows returned from the database, and not the number of entities returned from the query
p47596
aVSo, imagine you have entities A and B with the following associations:
p47597
aVAnd imaging you execute the following query:
p47598
aVIf you set the max results to 4, the returned rows might be
p47599
aVand you will end up with the A1 entity with all its Bs, and with an A2 entity with only one of its Bs instead of all 3
p47600
aVNothing forbids you to implement some sort of reusable query template which automatically applies max results, though
p47601
aVBut applying it blindly to all queries is wrong
p47602
as(dp47603
g23
V571407
p47604
stp47605
a((dp47606
g2
(lp47607
VNot everything
p47608
aVBut in that case, it would probably be a good idea, yes
p47609
aVWhat you gain is the possibility to unit-test  by injecting a mock  in it
p47610
aVYou could gain many other things (security, transactional aspects, etc
p47611
aV, but it depends on the context and on which kind of objects  and  are
p47612
aVThe same applies to all your chain
p47613
aVNote though that XML is not the preferred way of configuring a Spring application
p47614
aVAnnotations are easier to use, and allow having a minimal XML config file
p47615
as(dp47616
g23
V571407
p47617
stp47618
a((dp47619
g2
(lp47620
VBecause you don't synchronize the access to the counter, and since writing a long is not atomic, and  isn't either, two concurrent threads incrmenting the counter could lead to a completely inconsistent results, or to only one increment instead of 2
p47621
aVUse an  instead, and call  on this
p47622
as(dp47623
g23
V571407
p47624
stp47625
a((dp47626
g2
(lp47627
VAssuming you can't have two children with the same name for a given parent, you could do something like this:
p47628
aVIf it returns 3 or more, then a parent with these children already exists
p47629
as(dp47630
g23
V571407
p47631
stp47632
a((dp47633
g2
(lp47634
V is an entity
p47635
aVSo you can't use it in a  which, as its javadoc indicates,
p47636
aVDefines a collection of instances of a basic type or embeddable class
p47637
aV(emphasis mine)
p47638
aVWhat you want is , since you have an association between two entities
p47639
aVThe  doesn't make sense either on a toMany association
p47640
aVIt's used when you have a toOne association mapped by a "foreign key" which doesn't reference any existing row
p47641
as(dp47642
g23
V571407
p47643
stp47644
a((dp47645
g2
(lp47646
VFirst of all,  is to  what  is to : it should be preferred because it's not synchronized
p47647
aVYour first String is entirely constructed at compilation time, and is stored as a String literal
p47648
aVThis literal is interned inside a pool, and the  variable always points to the same String instance
p47649
aVYour second snippet dynamically concatenates, at runtime, three String literals
p47650
aVIt returns a new String instance each time it's called
p47651
as(dp47652
g23
V571407
p47653
stp47654
a((dp47655
g2
(lp47656
V means: compose the classpath from the given jar and from all the ones it references in its manifest
p47657
aVSo the  option is ignored
p47658
aVYour command line should be:
p47659
aVThat said, a resource bundle is used to load internationalized labels
p47660
aVIf you just want to read properties, you'd bette use the  class
p47661
as(dp47662
g23
V571407
p47663
stp47664
a((dp47665
g2
(lp47666
VA Java  doesn't have any time zone
p47667
aVThe time zone you see is your local time zone, which is displayed by the method which transforms the  instance into a readable String (and that you've not told us in your question)
p47668
aVAnd for your convenience, this method seems to use your local time zone, in order for you to be able to easily compare the time it displays with the time displayed by your wall clock
p47669
aVIf you want to format the  instance in another way, using another time zone, use
p47670
as(dp47671
g23
V571407
p47672
stp47673
a((dp47674
g2
(lp47675
VI would forget about the second option and go with the simplest, stateless option: the first one
p47676
aVDatabases are fast
p47677
aVIf it appears that this takes too much time or puts too much load on the database (but I doubt it: loading the provileges of a user should be very fast), you could always go with the third option
p47678
aVSure it would store the menu (or just the privileges) in the session, but the session can also be written to the disk or the database if necessary
p47679
aVDon't pre-optimize
p47680
as(dp47681
g23
V571407
p47682
stp47683
a((dp47684
g2
(lp47685
VThe AUTO strategy is an alias for NATIVE if your database supports it, or SEQUENCE if your database supports it, or TABLE if your database doesn't support any of those
p47686
aVSo if the database doesn't support NATIVE and SEQUENCE, then you need to create the table that EclipseLink uses to generate IDs
p47687
aVWith MySQL, NATIVE should be supported
p47688
aVYou need to make the ID column an auto_increment column, though
p47689
aVMake sure to configure the appropriate DatabasePlatform as well
p47690
as(dp47691
g23
V571407
p47692
stp47693
a((dp47694
g2
(lp47695
VThe syntax for JSPX files (JSPs with the XML syntax) is not the same as for JSP files (JSPs with the traditional syntax)
p47696
aVSee http://docs
p47697
aVoracle
p47698
aVcom/javaee/1
p47699
aV4/tutorial/doc/JSPX3
p47700
aVhtml for details and examples
p47701
as(dp47702
g23
V571407
p47703
stp47704
a((dp47705
g2
(lp47706
VUse  to get your annotation instance, and call  to get the check value:
p47707
aVNote that classes should start with an upper-case letter, and that naming an annotation "annotation" is quite confusing
p47708
as(dp47709
g23
V571407
p47710
stp47711
a((dp47712
g2
(lp47713
VThere is only one thread because you create the thread pool with , which means that the thread pool contains only 1 thread
p47714
aVIf you want 10 threads, pass 10 as argument
p47715
aVNote that the documentation of ScheduledThreadPoolExecutor, which is what this method returns, explitely says that the thread pool has a fixed size
p47716
as(dp47717
g23
V571407
p47718
stp47719
a((dp47720
g2
(lp47721
VIt would be much simpler if you had the webapp inside the EAR, and if you deployed only one app on JBoss (which obviously include a web container)
p47722
aVEven if you keep your current architecture, nothing forces you to deploy both apps on 2 different machines
p47723
aVReagarding EJBs, I find it quite strange that you chose to use EJBs if you don't know what they provide
p47724
aVAnyway, the main advantages they give are
p47725
aVdeclarative (and programmatic) transaction management
p47726
aVdistributed transactions
p47727
aVresource management (thread and connection pools, pools of beans, etc
p47728
aVdependency injection
p47729
aVJMS integration message driven beans
p47730
aVdeclarative (and programmatic) security
p47731
aVand I probably forget some
p47732
as(dp47733
g23
V571407
p47734
stp47735
a((dp47736
g2
(lp47737
VBoth threads could have access to the same object if they both have a reference to the object
p47738
aVIf you have a method like the following:
p47739
aVThe StringBuilder object is indeed in the heap, but only one thread has a reference to this object
p47740
aVNo other thread can have a reference to this StringBuilder
p47741
aVSo it's inherently thread-safe
p47742
aVIf, on the contrary, you have the following:
p47743
aVThen you have a thread-safety issue, because you shere the locally created object reference with another thread, and StringBuilder is not thread-safe
p47744
as(dp47745
g23
V571407
p47746
stp47747
a((dp47748
g2
(lp47749
VMy guess (but it's only a guess) is that FindBugs doesn't trigger this warning if you reference  instances, because it considers that in this case, your class is a generic container, which can hold any kind of object (like a Collection)
p47750
aVIn that case, it's the responsibility of the user of the class to make sure that the object stored in the container is serializable if he wants the container to be serializable
p47751
aV(just like an ArrayList is serializable if and only if you store serializable objects inside the list)
p47752
as(dp47753
g23
V571407
p47754
stp47755
a((dp47756
g2
(lp47757
V is a variable of type  that is declared and initialized for you in the code generated by the servlet container when the JSP code is transformed into a Servlet class and compiled, it also known as one of implicit objects in JSP
p47758
aVNote that using scriptlets in JSP is bad practice for years
p47759
aVYou should learn JSP EL, the JSTL, and choose an MVC framework that allows separating the Java code for the pure markup-generation code
p47760
as(dp47761
g23
V571407
p47762
stp47763
a((dp47764
g2
(lp47765
VUse a  instead of a Book array
p47766
aVLists grow automatically when needed
p47767
aVSee the collections tutorial for more information
p47768
aVAlso, fix the comments in the code:
p47769
as(dp47770
g23
V571407
p47771
stp47772
a((dp47773
g2
(lp47774
VCURRENT_TIMESTAMP must be used to refere to the current date and time in a JPQL query:
p47775
aVIf the current date and time is in fact a date coming from user input (and which is thus not the current date and time, then you do it like you do for the :
p47776
aVAnd you set the parameter using
p47777
as(dp47778
g23
V571407
p47779
stp47780
a((dp47781
g2
(lp47782
VYou must assign aliases to your entities, and return/use those aliases
p47783
aVMoreover, given your description, you should have OneToMany/ManyToOne associations between your entities, but you don't have anything of the sort
p47784
aVAll you have is IDs pointing to other entities
p47785
aVA query that returns multiple fields like that won't return instances of ObjectDVO
p47786
aVIt will return a , where each  will contains one of the values returned by the query: objectBId at index 0, objectBName at index 1, etc
p47787
aVAnd finally, a VO is preciseliy not an entity
p47788
aVYour entities shouldn't be named VO
p47789
aVThat's basically like appending a  suffix on Animals
p47790
aVAnyway, if you keep the entities as shown (which you shouldn't do, but introduce associations instead), your query should look like this:
p47791
aVWith ManyToOne associations, you could simply do
p47792
aVand you would get a
p47793
aVOn each D instance, you could the do
p47794
aVLast note: a property is part of a class
p47795
aVSo naming  the ID of  is redundant
p47796
aVName it :  is much more readable than
p47797
as(dp47798
g23
V571407
p47799
stp47800
a((dp47801
g2
(lp47802
VCreate an ExecutorService using one of the Executors factory methods, and submit a new Runnable to this executor each time you need to:
p47803
as(dp47804
g23
V571407
p47805
stp47806
a((dp47807
g2
(lp47808
VYes, it's possible
p47809
aVThat's what the  property does
p47810
aVYou may also have finer control using the logging configuration:
p47811
as(dp47812
g23
V571407
p47813
stp47814
a((dp47815
g2
(lp47816
VDelete the medicines referencing the patients first:
p47817
aVOr disassociate them from the patients to delete:
p47818
aVOtherwise, you would obviously break a foreign key constraint: medicines referencing a non-existing patient would stay in the database
p47819
aVThat's precisely what a foreign key constraint is useful for: avoid such inconsistencies
p47820
aVNote that, unless there are hundreds of patients with a given number, the usual way of doing that with JPA is to do:
p47821
aVIf you have a cascade of type REMOVE on the association, all medicines would be deleted as well
p47822
aVIf not, you would have to do:
p47823
aVor
p47824
as(dp47825
g23
V571407
p47826
stp47827
a((dp47828
g2
(lp47829
VSometimes you put annotations on fields, and sometimes on accessores (getters)
p47830
aVAlways put them on the same place in a given hierarchy of classes
p47831
aVIIRC, Hibernate only considers annotations that are placed at the same location as the  (or ) annotation
p47832
aVSo if  is on a getter, and you have a  on a field, the  annotation will be ignored
p47833
as(dp47834
g23
V571407
p47835
stp47836
a((dp47837
g2
(lp47838
VYour workflow is fine if your branch is very short-lived
p47839
aVIf it has a longer life, you'll want to regularly merge changes from the trunk into your branch, to avoid being disconnected from the main branch of activity
p47840
aVIn the end, your feature branch will contain every change from the trunk since you created the branch, + the new feature you developed in the branch
p47841
aVAt this time, you need to use the  option, because it would be wrong to apply the changes of your branch to the trunk: it would reapply changes that are already in the trunk, since they originate from it
p47842
aVThis is well covered in the section of the SVN book about feature branches
p47843
as(dp47844
g23
V571407
p47845
stp47846
a((dp47847
g2
(lp47848
VIt allows telling the generator from which property the ID must be extracted (in this case: "post")
p47849
aVAn entity could have several OnetoOne associations
p47850
aVYou need to tell it which one of them contains the ID of your entity
p47851
aVNote that this generator can be replaced by a standard JPA annotation on the OneToOne association containing the ID: @MapsId
p47852
aVThe Hibernate documentation recommends its usage rather than the foreign generator
p47853
as(dp47854
g23
V571407
p47855
stp47856
a((dp47857
g2
(lp47858
VThe error message says it all: the  class is not serializable
p47859
aVIt doesn't implement the interface
p47860
as(dp47861
g23
V571407
p47862
stp47863
a((dp47864
g2
(lp47865
VShameless plug: I have implemented some classes to allow retrying operations
p47866
aVThe library is not made available yet, but you may fork it on github
p47867
aVIt allows building a Retryer with various flexible strategies
p47868
aVFor example:
p47869
aVAnd you can then execute a callable (or several ones) with the Retryer:
p47870
as(dp47871
g23
V571407
p47872
stp47873
a((dp47874
g2
(lp47875
VThe URL should be
p47876
aVIndeed, unless the alwaysUseFullPath property of the handler is set to true, the servlet-mapping is prepended to the request mapping URL to form the full path
p47877
aVSee http://static
p47878
aVspringsource
p47879
aVorg/spring/docs/3
p47880
ag10
aVx/spring-framework-reference/htmlsingle/spring-framework-reference
p47881
aVhtml#mvc-handlermapping for details:
p47882
aValwaysUseFullPath
p47883
aVIf true , Spring uses the full path within the current Servlet context to find an appropriate handler
p47884
aVIf false (the default), the
p47885
aVpath within the current Servlet mapping is used
p47886
aVFor example, if a
p47887
aVServlet is mapped using /testing/* and the alwaysUseFullPath property
p47888
aVis set to true, /testing/viewPage
p47889
aVhtml is used, whereas if the
p47890
aVproperty is set to false, /viewPage
p47891
aVhtml is used
p47892
as(dp47893
g23
V571407
p47894
stp47895
a((dp47896
g2
(lp47897
VJava and Velocity pages are executed at server-side
p47898
aVWhen the user enters something in the form, it happens in the browser, long after the Java/Velocity code has finished generating the HTML page
p47899
aVSo you need to either compute the end date completely in JavaScript, or send the startDate and number of days to the server using an AJAX request, compute the end date in Java, send it to the response, get this date from the response in the AJAX response handler, and update it in the page
p47900
as(dp47901
g23
V571407
p47902
stp47903
a((dp47904
g2
(lp47905
VUnless you're ready to implement a web server yourself from Java SE, you don't have much choice: you'll need some web application framework
p47906
aVIt can ba a Java EE web container, or another implementation like Play, for example
p47907
aVBut Java SE won't be sufficient
p47908
as(dp47909
g23
V571407
p47910
stp47911
a((dp47912
g2
(lp47913
VThe javadoc would have told you, as well as the linked user guide article
p47914
as(dp47915
g23
V571407
p47916
stp47917
a((dp47918
g2
(lp47919
VGet the Map from the form, and this map will be usable with the EL:
p47920
as(dp47921
g23
V571407
p47922
stp47923
a((dp47924
g2
(lp47925
VThe article you linked to says:
p47926
aVUPDATE: It turns out that after many years of sitting on a shelf, the Apache
p47927
aVCommons folk have taken DBCP out of dormancy and it is now, once
p47928
aVagain, an actively developed project
p47929
aVThus my original post may be out
p47930
aVof date
p47931
aVSo, maybe the issues in the article have been met by others, or maybe they've been fixed now
p47932
aVMake up your own opinion
p47933
as(dp47934
g23
V571407
p47935
stp47936
a((dp47937
g2
(lp47938
VYour code looks fine to me
p47939
aVIntroducing an additional volatile variable would be unnecessary complexity: the interrupt status does the job
p47940
aVThe recommended way, in Java Concurrency in Practice, to deal with interrupts in tasks is to either throw an  (this is doable if the task is a  and not a ), or to make sure the interrupt status is set and to exit from the task ASAP
p47941
aVYour code does that well
p47942
as(dp47943
g23
V571407
p47944
stp47945
a((dp47946
g2
(lp47947
VYou could nest two try-with-resources: the outer one which opens the output stream and flushes it, and then inner one which opens the input stream
p47948
as(dp47949
g23
V571407
p47950
stp47951
a((dp47952
g2
(lp47953
VBasic and Digest authentication are covered by the servlet specification
p47954
aVRead the spec or this tutorial to know how it works
p47955
aVWhere the credentials are stored and how they are checked is at the discretion of each container, though
p47956
aVTomcat supports a variety of Realm implementations (file-based, JDBC based, LDAP-based, etc
p47957
aVDon't know for JBoss
p47958
as(dp47959
g23
V571407
p47960
stp47961
a((dp47962
g2
(lp47963
VThe following should work:
p47964
aVOr the following:
p47965
aVOr the following:
p47966
as(dp47967
g23
V571407
p47968
stp47969
a((dp47970
g2
(lp47971
VThere is no limit, other than the memory of your server
p47972
aVThe alternatives are
p47973
aVto run your server with more memory
p47974
aVto configure the server to swap sessions to disk (see http://tomcat
p47975
aVapache
p47976
aVorg/tomcat-7
p47977
aV0-doc/config/manager
p47978
aVhtml for Tomcat)
p47979
aVto avoid putting large data in the session, and to use a cache or a database to store them instead
p47980
as(dp47981
g23
V571407
p47982
stp47983
a((dp47984
g2
(lp47985
VFirst of all, if the code you've given is really the code used in the tutorial, then choose another tutorial
p47986
aVIt doesn't even respect the standard Java naming conventions
p47987
aVThen, to answer your question
p47988
aVAn object is a mix of state (fields) and behaviour (methods)
p47989
aVSome methods modify the state of the object
p47990
aVSome methods let you access the state of the object
p47991
aVSome methods allow doing both
p47992
aVSome methods use the state of the object and other objects to do something useful
p47993
aVThe method  doesn't return anything
p47994
aVIf it had a javadoc comment, and if the class and method names were wisely chosen, this comment would say:
p47995
aVThis method modifies the state of the object, and doesn't need to return anything
p47996
aVIts responsibility is to change the name, and nothing else
p47997
aVReturning the new name doesn't serve any purpose, since the caller already knows it: it passed it as argument
p47998
aVLater on, you could be interested in knowing the name of the girl friend:
p47999
aVThis method doesn't need any argument: it allows asking the girl friend for her name, and the method returns the name as an answer
p48000
aVI would go with a good book, or with the official Java tutorial to learn more
p48001
as(dp48002
g23
V571407
p48003
stp48004
a((dp48005
g2
(lp48006
VA stateless object is always inherently thread-safe
p48007
aVSince it uses only local variables, there is no way for one thread to corrupt the state used by another concurrent thread
p48008
as(dp48009
g23
V571407
p48010
stp48011
a((dp48012
g2
(lp48013
VThe problem is that it only checks the first element of the iterator
p48014
aVIt should not return if the current element is even, but go to the next element
p48015
aVAnother problem is that you should use , and not just the raw  if you want auto-unboxing to work
p48016
aVIt would also be more concise and readable by using a foreach loop:
p48017
aVThis looks like homework, or at least something you could figure out yourself, so I won't give you the solution, but only the above hints
p48018
as(dp48019
g23
V571407
p48020
stp48021
a((dp48022
g2
(lp48023
VUse a Set of already counted nodes, initially empty
p48024
aVStart from the root node
p48025
aVFor each child of the current node, if it's not already in the set, add it to the set, increment the counter, then apply the same algorithm, with the same set, and the child as the start node
p48026
as(dp48027
g23
V571407
p48028
stp48029
a((dp48030
g2
(lp48031
VYour question is answered in the introduction page of the tutorial
p48032
aVYou would indeed use an API rather than the JDK tools (which are designed to sign jar files) to do such a thing in an application, at runtime:
p48033
aVYou can use the JDK Security API, tools, or a combination to generate
p48034
aVkeys and signatures and to import certificates
p48035
aVYou can use these API
p48036
aVor tool features to securely exchange documents with others
p48037
aVTo use
p48038
aVthe tools for document exchange, the document(s) must be placed in a
p48039
aVJAR (Java ARchive) file, which may be created by the jar tool
p48040
ag7651
aVThe Generating and Verifying Signatures shows you how to use the JDK
p48041
aVSecurity API to sign documents
p48042
as(dp48043
g23
V571407
p48044
stp48045
a((dp48046
g2
(lp48047
Vhttp://www
p48048
aVhibernate
p48049
aVorg/subprojects/tools
p48050
aVhtml: the home of Hibernate tools:
p48051
aVThe following features are available within Eclipse:
p48052
aVMapping Editor: An editor for Hibernate XML mapping files, supporting
p48053
aVauto-completion and syntax highlighting
p48054
aVThe editor even supports
p48055
aVsemantic auto-completion for class names, property/field names, table
p48056
aVnames and column names
p48057
as(dp48058
g23
V571407
p48059
stp48060
a((dp48061
g2
(lp48062
VAssuming your source files are in
p48063
aVAssuming you want your compiled classes to be in
p48064
aVAssuming your source files reference classes that are in :
p48065
aVwill compile the class  and put the generated  file in
p48066
aVYou need the  file in the classpath
p48067
aVThat's what the  option does
p48068
aVYou also need  in the classpath, because MyClass probably references other classes that you have already compiled and that are in your  directory
p48069
aVTo run your class, it has to be in the classpath, and acm
p48070
aVjar as well:
p48071
aVAs you see, the classpath contains jar files, and directories containing the folder hierarchy which matches the package hierarchy
p48072
aVI wouldn't use javac from the command line directly, though
p48073
aVTry using a real build tool, that will build all your classes at once, like Gradle or Ant
p48074
aVMaven is also very popular, but I hate it with passion
p48075
as(dp48076
g23
V571407
p48077
stp48078
a((dp48079
g2
(lp48080
VIf the  contains valid HTML code, and you don't fear any XSS attack, you just need to disable the XML-escaping of the  tag:
p48081
aVBut this is equivalent to the simpler
p48082
aVis preciesely used to make sure all special HTML characters () are escaped
p48083
aVIf you don't want this, no need to use the  tag
p48084
aVIt has an escapeXml attribute only because in the first versions of the EL, it could only be used inside tags, and not directly in the JSP code
p48085
as(dp48086
g23
V571407
p48087
stp48088
a((dp48089
g2
(lp48090
VIt's in spring-tx
p48091
aVThe Spring documentation covers Spring quite nicely
p48092
as(dp48093
g23
V571407
p48094
stp48095
a((dp48096
g2
(lp48097
VThe jar file you included has the version 3
p48098
ag194
aV2-Final, and doesn't contain the class you configured
p48099
aVWhy don't you use the one which has the version 4
p48100
ag10
aV1 (since this is the version of Hibernate that you use), and which has the necessary class inside: http://grepcode
p48101
aVcom/snapshot/repository
p48102
aVjboss
p48103
aVorg/nexus/content/repositories/releases/org
p48104
aVhibernate/hibernate-c3p0/4
p48105
ag10
ag10
aVFinal/
p48106
as(dp48107
g23
V571407
p48108
stp48109
a((dp48110
g2
(lp48111
VYou'd better create and apply the regexp replacement only once, at the end
p48112
aVBut you would gain much more by
p48113
aVinitializing the StringBuilder with a reasonable size
p48114
aVavoiding the creation of a String inside the loop, and append the read characters directly to the StringBuilder
p48115
aVavoiding the instantiation of a new char buffer, for nothing, at each iteration
p48116
aVTo avoid an unnecessary long temporary String creation, you could read char by char, and only append the char to the StringBuilder if it's not a whitespace
p48117
aVIn the end, the StringBuilder would contain only the good characters, and you wouldn't need any  call
p48118
as(dp48119
g23
V571407
p48120
stp48121
a((dp48122
g2
(lp48123
VYou have a Date
p48124
aVConvert if to a GregorianCalendar, and ask every field to the GregorianCalendar:
p48125
as(dp48126
g23
V571407
p48127
stp48128
a((dp48129
g2
(lp48130
VYou're probably trying to get the name from the root object
p48131
aVBut name is a field of the sub-object stored under the  name
p48132
as(dp48133
g23
V571407
p48134
stp48135
a((dp48136
g2
(lp48137
VAssociate a resource bundle to your enum, containing the enum names as keys, and the enum labels as values
p48138
aVThen use  and  with the enum name as a key to display the associated label:
p48139
as(dp48140
g23
V571407
p48141
stp48142
a((dp48143
g2
(lp48144
VIf you plan to sometimes work on your laptop, and sometimes on your dektop, or simply if your changes last more than a day, you should probably create a feature branch and commit there
p48145
aVOnce your feature is complete, reintegrate the feature branch into the trunk
p48146
aVThe SVN book covers feature branches
p48147
as(dp48148
g23
V571407
p48149
stp48150
a((dp48151
g2
(lp48152
VYou can't
p48153
aVThe session is kept, privately, at server-side, and is not available from the client
p48154
aVIt's not part of the HTTP protocol at all, but is just something that nearly all server-side webapp APIs offer to allow keeping state associated to one particular user of the application
p48155
aVBasically, what you're asking is the equivalent of "what can I put in my email to store some text in the  file on the hard drive of the recipient
p48156
ag30709
aVthere is perhaps no  file
p48157
aVyou can't access the hard drive of a recipient by writing something in an email
p48158
aVIt would constitute a big security problem
p48159
as(dp48160
g23
V571407
p48161
stp48162
a((dp48163
g2
(lp48164
VI usually prefer having a first functional-level segregation, and then, inside a functional domain, having a second technical segregation
p48165
aVI would name the  package  instead
p48166
aVAn it feels very strange to have classes named model in a controller package
p48167
aVThese are models in the swing MVC architecture, not controllers
p48168
aVAlso, I hate putting anything in the root package
p48169
aVWhy don't you put the properties file in a package, the same as the class whhose responsibility is to parse and hold the properties
p48170
aVYour entities should have a singular name, not a plural name
p48171
aVThis is probably the most important refactoring I see: an instance of  is one article, so the class should be named , not
p48172
aVFinally, I see entities, I see presentation-related classes, but I don't see any service and data access layer
p48173
aVData access should not be done in the presentation layer
p48174
aVThat's not its responsibility
p48175
aVAnd you need a place where transactions are demarcated (preferrably in a declarative way): that should be the service layer
p48176
aVA dependency injection framework like Spring hugely helps here, and makes code easily testable
p48177
as(dp48178
g23
V571407
p48179
stp48180
a((dp48181
g2
(lp48182
VYou could clone all the nodes in order and, during this first pass, build an identity map associating each original node with its clone
p48183
aVThen do a second pass and, for each original node, get its associated random node, then get the corresponding clone from the map, and associate the clone of the original node to the clone of the random node
p48184
aVThe whole process would still be O(n)
p48185
as(dp48186
g23
V571407
p48187
stp48188
a((dp48189
g2
(lp48190
VNot sure if it's the problem you have, but you're adding things to an ArrayList, which is not thread-safe, from multiple threads, without any kind of synchronization
p48191
aVThis will lead to erratic behavior
p48192
aVAlso, you don't show how and when you display the content of this list
p48193
aVCalling code has no way to know when the scanning ends, so if you ask for the list right after the  has been called, there's a good chance that none of the scanning task has finished executing yet
p48194
aVBTW, why add futures to a list of futures if you never use this list
p48195
as(dp48196
g23
V571407
p48197
stp48198
a((dp48199
g2
(lp48200
VThe XSD mentioned in the file (http://java
p48201
aVsun
p48202
aVcom/xml/ns/javaee/web-jsptaglibrary_2_1
p48203
aVxsd) reveals that the taglib element has the following child elements, in this order
p48204
aVThe  is not optional, and it's supposed to be the suggested prefix to use for this taglib
p48205
as(dp48206
g23
V571407
p48207
stp48208
a((dp48209
g2
(lp48210
VApp engine has restrictions about threads
p48211
aVMake sure to read https://developers
p48212
aVgoogle
p48213
aVcom/appengine/docs/java/runtime#The_Sandbox
p48214
aVRegarding your inheritance problem, extending Thread can't be done in app engine, and is bad practice anyway
p48215
aVYou should implement Runnable, and follow the documentation I linked to to execute it in app engine
p48216
as(dp48217
g23
V571407
p48218
stp48219
a((dp48220
g2
(lp48221
VOnce an object has been written to an output stream, if you send it a second time, the stream only sends a reference to what has already been sent
p48222
aVSo, either create a new Vector each time, or call reset() on the stream before sending the vector a second time
p48223
aVNote that ArrayList should be preferred to Vector for years now
p48224
aVYou shouldn't use Vector anymore
p48225
as(dp48226
g23
V571407
p48227
stp48228
a((dp48229
g2
(lp48230
VYou named your file , and Hibernate tries reading
p48231
aVYour main config file must be wrong
p48232
as(dp48233
g23
V571407
p48234
stp48235
a((dp48236
g2
(lp48237
VWhat I've never understood is why  returns its argument in the first place:
p48238
aVI personally ignore the result of , as above
p48239
aVAnd this makes things consistent with the other checks which return void
p48240
aVThe only advantage I see is that you can do something like that, but I find it less readable than doing it in two separate lines:
p48241
aVSo, in short, I agree with you that the API is somewhat inconsistent, but I would prefer for all the methods to return void
p48242
aVA method should either have a side effect, or return something, but doing both should be avoided generally
p48243
aVHere, the goal of the method is to have a side effect: throwing an exception
p48244
aVEDIT:
p48245
aVYour example is indeed a more valid explanation of why returning the argument is useful
p48246
aVBut I would still have favored consistency and cleanness instead of this possibility of checking and assigning in a single line
p48247
as(dp48248
g23
V571407
p48249
stp48250
a((dp48251
g2
(lp48252
V and  are generally too low level, and too complex to use
p48253
aVTry using a more high-level abstraction like
p48254
aVYou could have a pair of Semaphore instances: one which allows printing the next multiple of 2, and another one which allows printing the next multiple of 3
p48255
aVOnce the next multiple of 2 has been printed, the thread should give a permit to print the next multiple of 3, and vice-versa
p48256
aVOf course, the initial numbers of permits of the semaphores must be 1 for the multiple-of-2 semaphore, and 0 for the other one
p48257
as(dp48258
g23
V571407
p48259
stp48260
a((dp48261
g2
(lp48262
VIf the spring bean is a prototype-scoped bean, Spring will have to instantiate it with reflection, and will thus have to do what your second snippet does
p48263
aVBut asking the Spring context to get a bean doesn't just get you a new instance of a class
p48264
aVIt returns a Spring bean, on which you could have aspects applied (security, transactional, etc
p48265
aV, dependencies injected, etc
p48266
aVYou shouldn't choose what to call based on performance, but on what you want to get
p48267
aVAnyway, the cost of both calls is probably negligible compared to the rest of what your app does (network calls, database queries, etc
p48268
as(dp48269
g23
V571407
p48270
stp48271
a((dp48272
g2
(lp48273
VUse a profiler, identify where the memory is consumed, and optimize what should be optimized
p48274
aVIt could be settings (number of threads in the pool, etc
p48275
aV, algorithms, data structures, database queries
p48276
aVIt's impossible to know without knowing the internals of the application
p48277
aVAnd even then, guessing has a good chance of giving incorrect results
p48278
aVMeasuring and analyzing is the best thing to do
p48279
as(dp48280
g23
V571407
p48281
stp48282
a((dp48283
g2
(lp48284
VYou could use
p48285
aVif you don't mind creating an unnecessary String
p48286
aVUnlike in C, Strings are objects, and not just arrays of characters
p48287
aVThat said, it's quite rare to use char arrays directly
p48288
aVAre you sure you don't want a String instead
p48289
as(dp48290
g23
V571407
p48291
stp48292
a((dp48293
g2
(lp48294
VYou don't need to use any onclick handler to submit the form
p48295
aVThat's what an input of type image does natively
p48296
aVChange the form method to  and analize the browser location bar to see which parameters are sent
p48297
aVOr use Firebug
p48298
aVOr read the documentation of the input tag or type image:
p48299
aVThe coordinate is sent to the server during form submission by sending
p48300
aVtwo entries for the element, derived from the name of the control but
p48301
aVwith "
p48302
aVx" and "
p48303
aVy" appended to the name with the x and y components of
p48304
aVthe coordinate respectively
p48305
as(dp48306
g23
V571407
p48307
stp48308
a((dp48309
g2
(lp48310
VYou need to track the length of the currently matched key, and only use the one which is the longest:
p48311
as(dp48312
g23
V571407
p48313
stp48314
a((dp48315
g2
(lp48316
VThe servlet container will make sure there is a memory barrier between the initialization of the servlets and their invocations
p48317
aVYou shouldn't have to do anything
p48318
aVNote: I haven't found such a requirement in the spec, but I would consider it a failure of the container not to do it
p48319
aVBTW, in GenericServlet, the instance variable  initialized by the init method is not marked as volatile
p48320
as(dp48321
g23
V571407
p48322
stp48323
a((dp48324
g2
(lp48325
VStatic methods can't be overridden at all
p48326
aVThey're not called polymorphically, since they don't act on an instance of the class, but on the class itself
p48327
aVIf you call , it will call the static  method defined in
p48328
aVThe fact that there is also a method  defined in  is irrelevant: those two methods have nothing in common, except their name
p48329
aVNote that you could confirm or infirm your doubts by simply writing a program and executing it
p48330
aVThe problem with hiding methods only occurs when you start calling static methods on an instance of an object
p48331
aVThis is very bad practice, and should never be done
p48332
aVIf you don't respect this rule, and have the following:
p48333
aVthe result will be , because in the case of static methods, what counts is not the concrete type of the objects ( and ), but their declared type ( and )
p48334
as(dp48335
g23
V571407
p48336
stp48337
a((dp48338
g2
(lp48339
VYou want names, and names are strings, so you don't want a , but a
p48340
aVThe  method returns a List, so there's no need to create a new ArrayList, only to replace it by the list returned by the method
p48341
aVSo you just need the following (which respects Java naming conventions):
p48342
aVNote that I named the variable , and not , since HQL and SQL are not the same language, and you're using HQL here
p48343
aVThe above query will work if the persistent property of the  class is named
p48344
aVThe name of the table and the name of the column are irrelevant, since HQL uses entities for its queries, and not tables
p48345
aVFinally, you should not catch Exception: it will only hide errors
p48346
aVLet the exception propagate to the caller
p48347
aVIt seems you lack basic Java knowledge
p48348
aVI would start by learning Java with simpler problems before using Hibernate, which is a complex framework
p48349
as(dp48350
g23
V571407
p48351
stp48352
a((dp48353
g2
(lp48354
V means: go see the other side of this bidirectional association to see how it's mapped
p48355
aVThe other side is the attribute  in the target entity
p48356
aVSo, since you have a field
p48357
aVyour JPA engine looks for an attribute named  (since mappedBy = "foos") in the class  (since it's a )
p48358
aVIt doesn't find any such attribute, and thus complains
p48359
aVOne and only one side (the inverse side) of a bidirectional association must have the  attribute
p48360
aVThe side without the  attribute is the owner side
p48361
aVSo, if you want Article to be the owner of the association, you must have:
p48362
aVIf you want Foo to be the owner of the association, you must have
p48363
as(dp48364
g23
V571407
p48365
stp48366
a((dp48367
g2
(lp48368
VEach kind of association is described in the hibernate documentation, with examples
p48369
aVYou should read the documentation
p48370
aVAnyway, here are the problems your mapping has
p48371
aVIf you have a one-to-one association between B and C, the annotations to use are  and
p48372
aVNot  and
p48373
aVAnd of course, you should have a field of type  in  instead of a field of type
p48374
aVWhen you have a bidirectional OneToOne or OneToMany association, the side which contains the foreign key in its table must be the owner side
p48375
aVThe other side must be the inserse side
p48376
aVOn the inverse side, there must be a  attribute, and no  annotation
p48377
aVSo, in TableA, the association with TableC should be defined like this:
p48378
as(dp48379
g23
V571407
p48380
stp48381
a((dp48382
g2
(lp48383
VUsing a simple if statement:
p48384
aVOr using polymorphism and a factory method :
p48385
aVOr using an  functional interface, defining an  method, and two concrete implementations of this interface:
p48386
aVThis last one is the closest to waht you asked in your question
p48387
aVfunction objects don't exist per se, but can be replaced by interfaces
p48388
as(dp48389
g23
V571407
p48390
stp48391
a((dp48392
g2
(lp48393
VUse a debugger, or traces in the code, to see what it executes
p48394
aVUse Firebug to see what the response contains
p48395
aVAnd fix the reading and writing from the blob to the output stream:  doesn't necessarily read all the bytes at once
p48396
aVIt returns the number of bytes that were actually read
p48397
aVYou should loop until this method returns -1 to indicate that everything has been read
p48398
aVRead the Java IO tutorial
p48399
as(dp48400
g23
V571407
p48401
stp48402
a((dp48403
g2
(lp48404
VJPA is clearly not the right tool for this job
p48405
aVJPA allows creating functional entities mapping a well-know database schema
p48406
aVYour tool doesn't know anything about the schemas and tables it will find
p48407
aVThere could be 0 tables or 5000, with completely unknow names
p48408
aVYou need a much lower-level API to do what you want, like JDBC
p48409
aVYou could use JPA to store the results of your crawlings in a single schema, though
p48410
as(dp48411
g23
V571407
p48412
stp48413
a((dp48414
g2
(lp48415
VTo execute a DML statement (insert, create or delete), you must use
p48416
aVNot
p48417
as(dp48418
g23
V571407
p48419
stp48420
a((dp48421
g2
(lp48422
VThis page, found by googling "saz files", says:
p48423
aVSAZ files are simply specially formatted
p48424
aVZIP files
p48425
aVIf you rename a
p48426
aVSAZ file to
p48427
aVZIP, you can open it for viewing using standard ZIP
p48428
aVviewing tools
p48429
aVSo they're just zip files with a different extension
p48430
aVUnzip them exactly like you would unzip a zip file
p48431
as(dp48432
g23
V571407
p48433
stp48434
a((dp48435
g2
(lp48436
VDates in Java don't have a time zone
p48437
aVThey're just a universal instant in time
p48438
aVIf you want to display the date in a given time zone, then simply use a DateFormat initialized with this time zone:
p48439
aVYou don't need to convert anything
p48440
aVThe date format prints the appropriate values based on the universal instant it formats, and the time zone you tell it to use
p48441
aVSimilarly, if you want to know if the date is a monday or a tuesday, or if it's 1 o'clock or 2 o'clock, you need to first choose a time zone, convert it to Calendar, and ask the calendar for the information:
p48442
aVSide note: don't use deprecated methods
p48443
aVThey're deprecated for good reasons
p48444
as(dp48445
g23
V571407
p48446
stp48447
a((dp48448
g2
(lp48449
VBefore googling, read the documentation:
p48450
aVvoid refresh(java
p48451
aVlang
p48452
aVObject entity)
p48453
aVRefresh the state of the instance from the database, overwriting changes made to the entity, if any
p48454
aVEDIT:
p48455
aVThe error you get is not an OptimisticLockException
p48456
aVIt's an IllegalArgumentException with a pretty clear error message: Can not refresh not managed object
p48457
aVYou may only refresh an entity which is managed
p48458
aVAnd the object you pass is a detached object
p48459
aVYou wouldn't need to refresh the entity at all if you didn't ignore the result of
p48460
aVtakes a detached object, copies its state to the managed (attached) object with the same ID, and returns the managed object
p48461
aVSo you should just need to do:
p48462
as(dp48463
g23
V571407
p48464
stp48465
a((dp48466
g2
(lp48467
VAssuming you use Eclipse, the build path is just that: the set of libraries used to build the application
p48468
aVYou also need the libraries to be available at runtime, inside your webapp
p48469
aVThe servlet specification explains where the libraries of a webapp must go: in
p48470
aVRemove the jar files from the build path, and drop them in the folder  of your WebContent directory
p48471
aVThis will automatically add them back to the build path, and also make them part of the deployed application, and thus available at runtime
p48472
aVThey will also appear under the Web App libraries node in the package explorer of Eclipse, confirming that these libraries are part of the webapp
p48473
as(dp48474
g23
V571407
p48475
stp48476
a((dp48477
g2
(lp48478
VUse Connection
p48479
aVgetMetaData(), and use the returned object to get the catalogs, schemas, tables and columns
p48480
as(dp48481
g23
V571407
p48482
stp48483
a((dp48484
g2
(lp48485
VThe error message explains what the problem is:
p48486
aVYou have a non-nullable column named ID in the users table, but you don't insert anything into this column, so the database complains
p48487
aVAlso, your code is a perfect example of using prepared statements the wrong way, and thus be subject to SQL injection attacks
p48488
aVYour queries should have parameters, which should be bound:
p48489
aVFor example, if my name is O'Reilly, your query will fail with a syntax error
p48490
aVAnd that's the least of the potential problems
p48491
aVRead about prepared statements in the JDBC tutorial
p48492
as(dp48493
g23
V571407
p48494
stp48495
a((dp48496
g2
(lp48497
VIn Java, it would look like this:
p48498
aVSo do the same in JSTL:
p48499
as(dp48500
g23
V571407
p48501
stp48502
a((dp48503
g2
(lp48504
VYes
p48505
aVSince the block is synchronized on the message, two threads using two different message instances can enter the synchronized block concurrently, and both get the same ID
p48506
aVMake the method synchronized, and everything will be fine
p48507
aVOr use an AtomicInteger
p48508
as(dp48509
g23
V571407
p48510
stp48511
a((dp48512
g2
(lp48513
VWell, you could do
p48514
as(dp48515
g23
V571407
p48516
stp48517
a((dp48518
g2
(lp48519
VThe second and third steps must NOT be done in the  method, since they use Swing components and must thus be done in the event dispatch thread
p48520
aVThey must be done in the  method, if the login was successful
p48521
aVSo your SwingWorker should rather be a
p48522
aVThe  method should return true if the login was successful, and false if not:
p48523
as(dp48524
g23
V571407
p48525
stp48526
a((dp48527
g2
(lp48528
VYou can't use a JSP tag in an attribute of another JSP tag
p48529
aVSTore the result of the date formatting in a page attribute, and use this page attribute (as you would do with a variable in Java):
p48530
as(dp48531
g23
V571407
p48532
stp48533
a((dp48534
g2
(lp48535
VIf you want your tabs in another order, add them in another order:
p48536
aVEt voil
p48537
as(dp48538
g23
V571407
p48539
stp48540
a((dp48541
g2
(lp48542
VYou haven't told Hibernate that the ID of UserApp was generated automatically by the database:
p48543
aV(and do the same for the other entity)
p48544
as(dp48545
g23
V571407
p48546
stp48547
a((dp48548
g2
(lp48549
VYou're wrong on your synchronization strategy
p48550
aVuses the intrinsic lock of the object between parentheses
p48551
aVIf you have two  instances that you might consider equal because they refer to the same , Java doesn't care: 2 objects, so 2 locks, so no mutual exclusion
p48552
aVI really don't see why the above, without the , could generate deadlocks: you're updating a single row in the table
p48553
aVYou could have a deadlock if you had two concurrent transaction with one updating user1, then user2, and the other one updating user2, then user1
p48554
aVBut even then, the database would detect the deadlock and throw an exception for one of the transactions
p48555
as(dp48556
g23
V571407
p48557
stp48558
a((dp48559
g2
(lp48560
s(dp48561
g23
V571407
p48562
stp48563
a((dp48564
g2
(lp48565
VThe documentation says:
p48566
aVVersion properties, identifiers and associations are ignored
p48567
aV(emphasis mine)
p48568
aVWhy not simply using  if you have the identifier
p48569
as(dp48570
g23
V571407
p48571
stp48572
a((dp48573
g2
(lp48574
VLeft joins in HQL are only possible if you have an association between two entities
p48575
aVSince your query imposes the joined entity to be non null, an inner join would do the same thing
p48576
aVAn inner join, with the join syntax, is also possible only if you have an association between two entities
p48577
aVBut you can do it by simply adding an equality test in the where clause:
p48578
as(dp48579
g23
V571407
p48580
stp48581
a((dp48582
g2
(lp48583
VThe above should, AFAIK, make an additional join from the join table to the profile table, but it should return the same thing as your SQL query
p48584
as(dp48585
g23
V571407
p48586
stp48587
a((dp48588
g2
(lp48589
V returns the first child named "data"
p48590
aVIf you need to add something to the second child named "data", use , and get the second element from the returned list
p48591
aVNote that your code would be much more readable (and efficient) if you used variables instead of repeating the whole chain of getters each time:
p48592
as(dp48593
g23
V571407
p48594
stp48595
a((dp48596
g2
(lp48597
VYou need statements in Java code because most of the values sent as parameters are only known at runtime: they come from the GUI, and from all the business code executed between each query
p48598
aVOtherwise, yes, what you want exists: they're called stored procedures
p48599
as(dp48600
g23
V571407
p48601
stp48602
a((dp48603
g2
(lp48604
VPagination with Hibernate can be done using  and
p48605
aVThis will trigger a SQL query which looks like this (IIRC) :
p48606
aVAnd the SQL query will just return the required page of data
p48607
aVIf what you want to scroll through the results of a query and not load everything in a List, use
p48608
as(dp48609
g23
V571407
p48610
stp48611
a((dp48612
g2
(lp48613
VIn the end, Hibernate must use SQL queries to load the data from the database
p48614
aVAnd AFAIK, it's not possible to load three rows from unrelated tables at once
p48615
aVSo this is not possible either using the Hibernate API
p48616
aVIf the entities are connected through associations, you can load everything at once using a HQL query, though
p48617
aVFor example, if a PurchaseOrder has a ManytoOne association with a Product and a ManyToOne with an Invoice, you may load the PurchaseOrder with its invoice and its product using the following HQL query:
p48618
as(dp48619
g23
V571407
p48620
stp48621
a((dp48622
g2
(lp48623
VUse a JSON API/marshaller in Java to transform the JSON string back into a Java object
p48624
aVThere are dozens of such JSON APIs: Look at http://www
p48625
aVjson
p48626
aVorg/ for a list of Java JSON APIs
p48627
as(dp48628
g23
V571407
p48629
stp48630
a((dp48631
g2
(lp48632
VCheck their javadoc
p48633
aVFor example:  has a  annotation, so it's only applicable to types
p48634
aVhas a  annotation, so it's only applicable to methods
p48635
as(dp48636
g23
V571407
p48637
stp48638
a((dp48639
g2
(lp48640
VYou have many questions in your question
p48641
aVIf you want to gracefully shutdown threads when Ctrl-C is hit, then register a shutdown hook, and in the code of this shutdown hook, gracefully shutdown your threads
p48642
aVA Thread instance can be constructed by extending Thread, or by passing a Runnable to the Thread constructor
p48643
aVSo, if you want the code of your shutdown hook to be implemented in a Runnable, just do the following:
p48644
aVNote that the above will prevent the JVM to exit if one of the threads doesn't respond to the interrupt
p48645
aVIntroducing a timeout would be a good idea
p48646
aVAlso note that you must NOT start the thread that you register as shutdown hook
p48647
as(dp48648
g23
V571407
p48649
stp48650
a((dp48651
g2
(lp48652
VThe Post/Redirect/Get pattern doesn't consist in forcing a redirect when the user presses the Back button
p48653
aVIt consists in sending a redirect after a successful POST request
p48654
aVIn Struts 1, define the forward with , and Struts will send a redirect if you return this forward:
p48655
as(dp48656
g23
V571407
p48657
stp48658
a((dp48659
g2
(lp48660
VYou could add a version column in each of the tables, and increment this version each time you update a row
p48661
aVIf the version of the object loaded in the tab doesn't match the version in database, someone has updated the data
p48662
aVThat's what JPA's optimistic locking does
p48663
as(dp48664
g23
V571407
p48665
stp48666
a((dp48667
g2
(lp48668
VJava is an Object Oriented Language
p48669
aVCreate classes to represent your data:
p48670
aVWhen reading the file, create instances of the above  class, and pass these instances to the methods who need the 4 boolean values and the number of the line where they come from
p48671
as(dp48672
g23
V571407
p48673
stp48674
a((dp48675
g2
(lp48676
VNo, they wouldn't be closed
p48677
aVIf  creates a new Connection, then the only thing that will happen at the end of the method is that the Connection could be garbage collected
p48678
aVBut the GC won't call the close() method for you
p48679
aVAnd, anyway, you want to close as soon as possible
p48680
aVMost of the time,  will simply get a connection from a pool of connections, that stay open for a very long time
p48681
aVIf you don't  the connection, it will not be put back into the pool of available connections, and after a few seconds or minutes, you won't have any connection available anymore
p48682
aVThe title asks about , but the question body doesn't
p48683
aVIf you call , then the connection will end up being closed because the database will notice that the communication is broken
p48684
aVBut it's extremely rare for a program to startup, execute a query, and exit
p48685
aVMost of the applications start and stay running for days or even months
p48686
aVSo you really want to release the connection once you have finished using it
p48687
as(dp48688
g23
V571407
p48689
stp48690
a((dp48691
g2
(lp48692
VThe default  implementation you posted is already the one in
p48693
aVThere's no real point in overriding it with the same implementation
p48694
aVRegarding your 3 methods to add to the collection interface:
p48695
aV: this one is already in the Collection interface
p48696
aV: equivalent to , but less readable
p48697
aVI don't see the point of such a method
p48698
aV: this method indeed doesn't exist, but I've never had the need for such a method, so I think it should not clutter the API of Collection
p48699
aVYou could use Guava's Equivalence to do that:
p48700
as(dp48701
g23
V571407
p48702
stp48703
a((dp48704
g2
(lp48705
VIt's as efficient as it can be: it iterates through the items of the list, and returns the first of the Items having the maximum price: O(n)
p48706
as(dp48707
g23
V571407
p48708
stp48709
a((dp48710
g2
(lp48711
VThat's exactly why  exists
p48712
aVIt assumes the entity with the given ID exists, and returns a proxy to this entity:
p48713
aVHibernate's native Session class has the same method, except it's called
p48714
as(dp48715
g23
V571407
p48716
stp48717
a((dp48718
g2
(lp48719
VVariables contain references to objects
p48720
aVIn other languages, references are often called pointers
p48721
aVSo doing  makes the  variable reference the same object as the  variable
p48722
aVIf you want to make a copy of an object, the best way is to implement it yourself, for example using a copy constructor:
p48723
aVand thus do
p48724
as(dp48725
g23
V571407
p48726
stp48727
a((dp48728
g2
(lp48729
VI'm not sure I have completely understood what you want to do, but it seems to me that you have a consumer thread (the main thread, waiting for events from the event dispatch thread), and a producer thread (the event dispatch thread)
p48730
aVThe typical way to implement this is to use a blocking queue as a communication mechanism:
p48731
aVCreate a blocking queue
p48732
aVCreate your GUI and pass it the blocking queue
p48733
aVstart a loop which gets data from the queue
p48734
aVSince the queue is blocking, the main thread will be blocked untile there is something in the queue
p48735
aVHave your event listeners, running in the EDT, post data to the blocking queue
p48736
as(dp48737
g23
V571407
p48738
stp48739
a((dp48740
g2
(lp48741
VThe JDBC package is part of spring-jdbc
p48742
aVNot spring-context
p48743
aVThe Spring framework looks like a giant set of clases, but it's actually split into various libraries: spring-context, spring-jdbc, spring-orm, etc
p48744
aVYou need to declare the dependencies to the ones you want
p48745
as(dp48746
g23
V571407
p48747
stp48748
a((dp48749
g2
(lp48750
VThe above database design is not how you should store roles for a user
p48751
aVIt is not normalized (since you have several values in a single column), and is thus very hard to query
p48752
aVHow would you make a query to know all the users which have the roles  or , for example
p48753
aVChange the design to something like that:
p48754
aVIn JPA terms, you would simply have a  entity, a  entity, and a  association between those entities: a user has 0, 1 or several roles, and a role is held by 0, 1 or several users
p48755
as(dp48756
g23
V571407
p48757
stp48758
a((dp48759
g2
(lp48760
VNo Throwable ever restarts a JVM
p48761
aVThe OutOfMemoryError is like every other runtime exception or error: it propagates the call stack until it's caught
p48762
aVAnd if it isn't, then the thread's UncaughtExceptionHandler handles this exception, usually by terminating the thread and printing the stack trace of the exception
p48763
as(dp48764
g23
V571407
p48765
stp48766
a((dp48767
g2
(lp48768
VThe only way, with a list, is to iterate over all the objects and find the one which has the given country and language
p48769
aVIt would be more efficient if you made a  class, containing the country and language, and overriding  and  based on the two fields
p48770
aVYou could then use a , and get the object in constant time by calling:
p48771
as(dp48772
g23
V571407
p48773
stp48774
a((dp48775
g2
(lp48776
VRead the JDBC tutorial
p48777
as(dp48778
g23
V571407
p48779
stp48780
a((dp48781
g2
(lp48782
VIf your dates have a time part, then
p48783
as(dp48784
g23
V571407
p48785
stp48786
a((dp48787
g2
(lp48788
VYes, it's expected behavior
p48789
aVHibernate does everything it can to have one and only one instance of an entity in the session
p48790
aVSince it already has a proxy to EntityA, stored in the session when you loaded EntityB, a subsequent query returning the same EntityA instance effectively return the same instance: the proxy already stored in the session
p48791
aVYou shouldn't care much about the fact that the list contains proxies
p48792
aVCalling any method on the proxy (except ) will return the same thing as calling it on the unproxied entity
p48793
aVAFAIK, that's what allows having collections of entities behaving correctly with attached objects, although the objects don't even have an  method
p48794
as(dp48795
g23
V571407
p48796
stp48797
a((dp48798
g2
(lp48799
VThe DAO pattern is the typical way of dealing with that
p48800
aVSpecify a DAO interface, provide multiple implementations of this DAO interface (one per database, but sharing common code through inheritance, for example), and inject an instance of the appropriate implementation (based on the Spring configuration) into your service class
p48801
aVSpring-JDBC will be of no help here: it simply executes the SQL queries you ask it to execute
p48802
as(dp48803
g23
V571407
p48804
stp48805
a((dp48806
g2
(lp48807
VExecute the following query, with a join fetch which will thus load the colors with the products:
p48808
aVHQL is well described in the Hibernate documentation:
p48809
aVA "fetch" join allows associations or collections of values to be
p48810
aVinitialized along with their parent objects using a single select
p48811
aVThis is particularly useful in the case of a collection
p48812
aVIt
p48813
aVeffectively overrides the outer join and lazy declarations of the
p48814
aVmapping file for associations and collections
p48815
aVDoing it with criteria is similar (only more tedious: do that only if the where clause is really dynamic):
p48816
aVAnd here's the relevant part of the documentation:
p48817
aVYou can specify association fetching semantics at runtime using
p48818
aVsetFetchMode()
p48819
aVYou have already asked many Hibernate questions here
p48820
aVWhy don't you read the documentation
p48821
aVEDIT:
p48822
aVFrom the comments, it appears that you know how to do what you want, but that you have a problem applying a max number of results
p48823
aVThe simplest solution to this problem is to execute a first query, limited to 5000, loading only the IDs of the products
p48824
aVThen execute a second query, not limited, loading the products, with their colors, having an ID in the set of IDs retrieved by the first query:
p48825
aVBeware that some databases (Oracle, for example) limit the number of elements you can put in an  clause (1000 elements max with Oracle)
p48826
aVSo you might have to partition the set of 5000 IDs into sets of 1000 elements, and execute a query for each of this partition
p48827
as(dp48828
g23
V571407
p48829
stp48830
a((dp48831
g2
(lp48832
VYes, it's a technical limitation
p48833
aVWhen you don't use AspectJ, the transactional aspect is implemented by returning a proxy around the actual bean class instance and returning/injecting this proxy into other beans
p48834
aVSo, when you call , the following (basically) happens:
p48835
aVThe proxy applies the transactional aspect around the call to : it starts the transaction before, and commits/rollbacks it after
p48836
aVIf you call  from , the following happens:
p48837
aVAnd since you bypass the proxy, no transactional aspect can be applied
p48838
aVAspectJ is different because it transforms the byte-code of  in order to apply aspects around various method invocations
p48839
aVI wouldn't say that applying aspects around internal method calls is not proper design
p48840
aVYou just need to be aware that it works only with byte-code instrumentation
p48841
as(dp48842
g23
V571407
p48843
stp48844
a((dp48845
g2
(lp48846
VYou need to escape the backslash with another backslash:
p48847
aVTest:
p48848
as(dp48849
g23
V571407
p48850
stp48851
a((dp48852
g2
(lp48853
VIf you do all you can to make both implementations very fast, the JDBC template will probably be a bit faster, because it doesn't have the overhead that Hibernate has
p48854
aVBut it will probably take much more time and lines of code to implement
p48855
aVHibernate has its learning curve, and you have to understand what happens behind the scenes, when to use projections instead of returning entities, etc
p48856
aVBut if you master it, you'll gain much time and have cleaner and simpler code than with a JDBC-based solution
p48857
aVI would say that in 95% of the cases, Hibernate is fast enough, or even faster than non-optimized JDBC code
p48858
aVFor the 5% left, nothing forbids you to use something else, like Spring-JDBC for example
p48859
aVBoth solutions are not mutually exclusive
p48860
as(dp48861
g23
V571407
p48862
stp48863
a((dp48864
g2
(lp48865
VJust add another fileset:
p48866
as(dp48867
g23
V571407
p48868
stp48869
a((dp48870
g2
(lp48871
VYour user has an association with an account
p48872
aVThe account is lazy-loaded
p48873
aVThis means that the first time you call any method on the account () for example, Hibernate will load the state of the account from the database, and return the name of the account
p48874
aVAnd it can only do that while the entity manager is open, else, it doesn't have any connection to the database anymore
p48875
aVIt can't return null: returning null would mean: this user doesn't have an account, which is wrong
p48876
aVIf you want to access the account after the entity manager is closed, then you need to initialize the account before closing it
p48877
aVThere's no way around that
p48878
aVRegarding your config, no, it's not ready for production:
p48879
aVshowSql should be false
p48880
aVhibernate
p48881
aVshow_sql should be false
p48882
aVgenerateDdl should be false
p48883
aVhibernate
p48884
aVconnection
p48885
aVautocommit should be false
p48886
aVyou haven't shown your datasource definition, which is a very important part
p48887
as(dp48888
g23
V571407
p48889
stp48890
a((dp48891
g2
(lp48892
VIf I understand correctly, you want to initialize  with the value of
p48893
aVIf so, you just need
p48894
aVwhich is roughly equivalent to the following Java code
p48895
aVAnd if you want to display the content of  (which is also the content of ), you just need
p48896
as(dp48897
g23
V571407
p48898
stp48899
a((dp48900
g2
(lp48901
VYou forgot to call  on the result set:
p48902
aVIf that is not sufficient to solve the problem, paste the whole stack trace of the exception: it contains meaningful information
p48903
as(dp48904
g23
V571407
p48905
stp48906
a((dp48907
g2
(lp48908
VNo need to call  or : the object is attached, so everything is flushed and committed at the end of the transaction
p48909
as(dp48910
g23
V571407
p48911
stp48912
a((dp48913
g2
(lp48914
VThe exception message says it all:
p48915
aVYou're trying to persist a child
p48916
aVAnd the child's parent is a new Parent
p48917
aVParent is not persistent
p48918
aVSO you're trying to persist a child with a parent that is not persistent
p48919
aVIt can't work
p48920
aVEither what you want is to save a new child for an existing parent, and then you must attach this existing parent to the child:
p48921
aVOr you want to save a new child with a new parent in one go, and you must persist the parent, then the child:
p48922
aVOr you want to save a new child with a new parent in one go, and let JPA persist the parent automatically when the child is persisted, and you must then make the persist cascaded
p48923
as(dp48924
g23
V571407
p48925
stp48926
a((dp48927
g2
(lp48928
VThe data in the database is OK, and you don't have to replace anything
p48929
aVString literals, written directly in the Java code, must have their backslash escaped by another backslash:
p48930
aVBut if you get those values from the database, you don't have anything to do:
p48931
as(dp48932
g23
V571407
p48933
stp48934
a((dp48935
g2
(lp48936
VNo, your implementation is not a good one:
p48937
aVtransactions should be around business logic, not around data access logic: if you want to transfer money from one account to another, you can't have a transaction for the debit operation, and another transaction for the credit operation
p48938
aVThe transaction must cover the whole use-case
p48939
aVby synchronizing every method of the DAO, you forbid two requests to get a client at the same time
p48940
aVYou should not have a session field in your DAO
p48941
aVThe session should be a local variable of each method
p48942
aVBy doing this, your DAO would become stateless, and thus inherently thread-safe, without any need for synchronization
p48943
aVAs Michael says in his comment, using programmatic transactions makes the code verbose, complex, and not focused to the business use-case
p48944
aVUse EJBs or Spring to enjoy declarative transaction management and exception handling
p48945
as(dp48946
g23
V571407
p48947
stp48948
a((dp48949
g2
(lp48950
VAs for any variable, its type is found in its declaration:
p48951
aVSo yes,  (which should be named  since it's a collection) is of type
p48952
aVIt should also be generified, and thus be declared as
p48953
aVWhat it means, is that  is of type
p48954
aVAn  is a  which contains enum instance of a specific enum type, in a more efficient way than other  implementations (like , , etc
p48955
aVTo know what an  is, read its api doc
p48956
as(dp48957
g23
V571407
p48958
stp48959
a((dp48960
g2
(lp48961
VBasically, every time you use a Swing component or a model of a Swing component, it must be done in the EDT
p48962
aVIf you don't, no exception will be raised
p48963
aVIt could work, but it could also not work, have erratic behavior, corrupted data, etc
p48964
aVEvery Swing event listener is called in the EDT
p48965
aVBasically, except the main method, every line of code of a Swing application is executed in the EDT by default, unless you explicitely start a thread, use a SwingWorker, or something like that
p48966
aVyes
p48967
aVTasks submitted to SwingUtilities
p48968
aVinvokeLater() are executed in the same order as the order they were submitted
p48969
aVInternally, it uses SwingUtilities
p48970
aVinvokeLater() or a similar method
p48971
aVThe FutureTask doesn't have anything to do with Swing
p48972
aVIt's the SwingWorker that ensures that its done method is executed in the EDT
p48973
aVThe  method has the following comment: Invokes done on the EDT
p48974
as(dp48975
g23
V571407
p48976
stp48977
a((dp48978
g2
(lp48979
VThe above line gets the child nodes of the element with the given tag name
p48980
aVIf this element doesn't have data, the returned node list is empty
p48981
aVThe above line gets the first element from the empty node list
p48982
aVSince the list is empty, 0 is an invalid index, and as per the documentation, null is returned
p48983
aVThe above line thus calls a method on a null variable, which causes the NPE
p48984
aVYou should test if the list is empty, and return what you want (an empty string, for example), if it's the case:
p48985
as(dp48986
g23
V571407
p48987
stp48988
a((dp48989
g2
(lp48990
VThe javadoc for LinkedBlockingQueue says:
p48991
aVAn optionally-bounded blocking queue based on linked nodes
p48992
ag7651
aVThe optional capacity bound constructor argument serves as a way to
p48993
aVprevent excessive queue expansion
p48994
aVThe capacity, if unspecified, is
p48995
aVequal to Integer
p48996
aVMAX_VALUE
p48997
aVThe javadoc of ArrayBlockingQueue says:
p48998
aVA bounded blocking queue backed by an array
p48999
ag7651
aVThis is a classic "bounded buffer", in which a fixed-sized array holds
p49000
aVelements inserted by producers and extracted by consumers
p49001
aVOnce
p49002
aVcreated, the capacity cannot be increased
p49003
aVSo, a linked blocking queue can be bounded ou unbounded, whereas an ArrayBlockingQueue is always bounded
p49004
as(dp49005
g23
V571407
p49006
stp49007
a((dp49008
g2
(lp49009
VYou shouldn't use an array of Strings to hold the card faces, but an array of CardFace, having a name (for display), and a value (to compute the sum of the faces)
p49010
aVAnd since there are only 13 values, it should be an enum:
p49011
as(dp49012
g23
V571407
p49013
stp49014
a((dp49015
g2
(lp49016
VIt's a counter used to detect modifications to the collection when iterating the collection: iterators are fail fast, and throw an exception if the collection has been modified during the iteration
p49017
aVis used to track the modifications
p49018
aVFYI, the sources of the standard classes are part of the JDK, and you may read them to understand how the standard classes work
p49019
as(dp49020
g23
V571407
p49021
stp49022
a((dp49023
g2
(lp49024
VYou're trying to have two different persistent instances of EmployeeTransaction with the same ID
p49025
aVThis is not possible
p49026
aVYou'll have to delete the EmployeeTransaction, (probably) flush the session, then save the new one with the same ID
p49027
aVNote that all the associations to the original EmployeeTransaction will have to be deleted as well
p49028
aVIf that's not possible, then you shouldn't have an inhertiance relationship, but a composition relationship: One EmployeeTransaction has (zero or) one HiringTransaction
p49029
as(dp49030
g23
V571407
p49031
stp49032
a((dp49033
g2
(lp49034
VYou use an alias in your query () without having defined it
p49035
aVMoreover, a join is only possible if you have an association (OneToOne, OneToMany, ManyToOne or ManyToMany) between the entities
p49036
aVAssuming you don't have any, the query should be
p49037
aVHQL and associations are well described in the Hibernate documentation
p49038
aVRead it
p49039
as(dp49040
g23
V571407
p49041
stp49042
a((dp49043
g2
(lp49044
VYou can't stop a thread from another thread
p49045
aVYou can only ask the thread to stop itself, and the best way to do that is to interrupt it
p49046
aVThe interrupted thread must collaborate, though, and respond to the interruption as soon as possible by stopping its execution
p49047
aVThis is covered in the Java tutorial about concurrency
p49048
as(dp49049
g23
V571407
p49050
stp49051
a((dp49052
g2
(lp49053
VIf the field is defined as an enum, you must pass an enum as parameter:
p49054
aVAnd let Hibernate use the mapping to transform the parameter into a String (if  is uses) or into an int (if  is used)
p49055
as(dp49056
g23
V571407
p49057
stp49058
a((dp49059
g2
(lp49060
VUse a list of s (or of Integers mapping to each function, as you did in your code), shuffle it, then iterate through the list and call each function
p49061
aVhttp://docs
p49062
aVoracle
p49063
aVcom/javase/6/docs/api/java/util/Collections
p49064
aVhtml#shuffle%28java
p49065
aVutil
p49066
aVList%29
p49067
as(dp49068
g23
V571407
p49069
stp49070
a((dp49071
g2
(lp49072
VYou should not escape what is sent by the user
p49073
aVLeave it as it is, and store it as it is in the database
p49074
aVThis data might be XML for a good reason, and the data might be used by something else than a webapp, which doesn't care about HTML-escaping
p49075
aVAnd even in the webapp, it could be sent as part of a JSON object, where HTML-escaping is not needed
p49076
aVWhen generating an HTML page containing this data, then you must escape the HTML-special characters to make sure everything is displayed correctly
p49077
aVStringEscapeUtils is just fine, and bundling jars with your app is perfectly normal
p49078
aVIf you're using JSPs to generate the HTML markup, use the JSTL  tag, or the JSTL  function
p49079
aVIf you want to make it in Java without embedding the commons-lang library, implement the filtering yourself
p49080
aVYou just need to replace , , ,  and  with their corresponding HTML entities
p49081
aVShouldn't be too hard
p49082
as(dp49083
g23
V571407
p49084
stp49085
a((dp49086
g2
(lp49087
VThe class loader doesn't access the file system
p49088
aVIt accesses resources that are in the classpath
p49089
aVYou don't want to use the class loader here, but file IO
p49090
aVSo the call to  doesn't make sense (and you replace the input stream it returns by another one anyway)
p49091
aVPut your class in a package, as all classes should be
p49092
aVNow, when you create a File like this:
p49093
aVyou open a file that is in the current directory
p49094
aVAnd the current directory is the directory from which the java command is executed
p49095
aVSo, unless you are always in the  directory when executing your program, you won't be able to open the file by using such a relative path
p49096
aVPass the path of the  directory as an argument or system property to your application, and use this directory as a base directory to open your files
p49097
aVThe next problem is that you open an input stream and an output stream to the same file, at the same time
p49098
aVYou should open an InputStream to the backup file, and an output stream to the database file
p49099
as(dp49100
g23
V571407
p49101
stp49102
a((dp49103
g2
(lp49104
VStraight from the documentation:
p49105
aVThe following example shows a column updated for a certain primary
p49106
aVkey
p49107
aVIn this example, an SQL statement has placeholders for row
p49108
aVparameters
p49109
aVThe parameter values can be passed in as varargs or
p49110
aValternatively as an array of objects
p49111
aVThus primitives should be
p49112
aVwrapped in the primitive wrapper classes explicitly or using
p49113
aVauto-boxing
p49114
as(dp49115
g23
V571407
p49116
stp49117
a((dp49118
g2
(lp49119
VAs simple as that
p49120
as(dp49121
g23
V571407
p49122
stp49123
a((dp49124
g2
(lp49125
VThe equivalent is an  subclass instance backed by a
p49126
aVWhen you edit a row, you get the index of the selected row from the table (), then you convert this row index to a model row index (), then you ask your model for the  at this row, and you get the ID of  directly from the object
p49127
aVRead the JTable tutorial for more details
p49128
as(dp49129
g23
V571407
p49130
stp49131
a((dp49132
g2
(lp49133
VLoading data and displaying it in AJAX is made in several steps:
p49134
aVThe page sends an AJAX request to a URL of the wabapp
p49135
aVIt registers a JavaScript callback function that will be called when the response to the request is received
p49136
aVThe webapp generates a response to this request
p49137
aVThe content of the response could be HTML, XML, JSON or anything else
p49138
aVThe JavaScript callback function is called
p49139
aVThe JavaScript callback function gets the data from the response, and updates the DOM tree of the page to display the received data
p49140
aVGoogling for "AJAX example" will lead you to plenty of tutorials explaining how to do that
p49141
aVIf you have a more specific problem, come back
p49142
as(dp49143
g23
V571407
p49144
stp49145
a((dp49146
g2
(lp49147
VGoogling for the SQLState mentiones in the error led me to the following page: http://publib
p49148
aVboulder
p49149
aVibm
p49150
aVcom/infocenter/db2luw/v8/index
p49151
aVjsp
p49152
aVtopic=/com
p49153
aVibm
p49154
aVdb2
p49155
aVudb
p49156
aVdoc/core/r0sttmsg
p49157
aVhtm
p49158
aVA unique constraint is broken
p49159
aVYou're trying to insert/update data and two rows end up having the same value in a column which has a unique constraint
p49160
as(dp49161
g23
V571407
p49162
stp49163
a((dp49164
g2
(lp49165
VPerformance has nothing to do with the number of classes you have
p49166
aVA manager per DB table is too many: business use-cases typically involve more than one table
p49167
aVA manager for the whole database is too few: having all the business logic of an application in one class is not maintainable
p49168
aVAn application typically has groups of use-cases: user management, notifications management, etc
p49169
aVI would use these as a way to split the logic into classes
p49170
aVAlso, note that business logic (which is what I assumed would be in your manager classes) should be separated from data access logic (DAOs, repositories)
p49171
aVThe CRUD is typically the responsibility of the DAO, whild the business logic and transaction demarcation is done in the service (manager) layer
p49172
as(dp49173
g23
V571407
p49174
stp49175
a((dp49176
g2
(lp49177
V extends
p49178
aVSo it could be any subclass of
p49179
aVLet's replace that with
p49180
aVApple extends Fruit
p49181
aVBut you can't do
p49182
aVIndeed, a  only accepts apples, whereas a  accepts any kind of Fruit
p49183
as(dp49184
g23
V571407
p49185
stp49186
a((dp49187
g2
(lp49188
VMake your association bidirectional:
p49189
aVAnd the query will simply be
p49190
aVReturning the parent ID will be:
p49191
aVRead more about bidirectional associations in the Hibernate documentation
p49192
as(dp49193
g23
V571407
p49194
stp49195
a((dp49196
g2
(lp49197
VYou obtain more tables because you did not make the associations bidirectional
p49198
aVJPA has no way to know that  is the other side of the  if you don't tell:
p49199
aVThe documentation of course explains how that works
p49200
as(dp49201
g23
V571407
p49202
stp49203
a((dp49204
g2
(lp49205
VThe signature of the get method is
p49206
aVYour Multimap is declared as
p49207
aVSo you don't know the type of the key
p49208
aVYou know that it is or that it extends , but you don't know its type
p49209
aVSo passing it an instance of  is invalid
p49210
as(dp49211
g23
V571407
p49212
stp49213
a((dp49214
g2
(lp49215
VYou haven't shown your entities, but, just as you would use joins in SQL, you need to use joins in HQL:
p49216
aVThe Hibernate documentation has a whole chapter on HQL, and a section of this chapter about associations in HQL
p49217
as(dp49218
g23
V571407
p49219
stp49220
a((dp49221
g2
(lp49222
VNote that I renamed  to , since the variable is an instance of Class2, and not a list
p49223
aVAlso note that unlike in Java (where it would cause a NullPointerException), the EL will automatically evaluate the expression as  if one of the beans in the chain is null
p49224
as(dp49225
g23
V571407
p49226
stp49227
a((dp49228
g2
(lp49229
VUsing the constructor of ScheduledThreadPoolExecutor
p49230
as(dp49231
g23
V571407
p49232
stp49233
a((dp49234
g2
(lp49235
VBecause the queries are not SQL queries, but HQL queries
p49236
aVSQL and HQL are two different languages
p49237
aVSQL works on tables and columns, whereas HQL works on Hibernate entities and associations
p49238
aVSee the Hibernate documentation
p49239
as(dp49240
g23
V571407
p49241
stp49242
a((dp49243
g2
(lp49244
VSee the chapter of the documentation about SQL queries
p49245
aVYou can use the  method to specify which type Hibernat should use for a given column
p49246
aVAnd you can use aliases to map the results with the bean properties:
p49247
aVOr, (and although it require some lines of code, it's my preferred solution), you can simply do the mapping yourself:
p49248
aVThis avoids reflection, and lets you control everything
p49249
as(dp49250
g23
V571407
p49251
stp49252
a((dp49253
g2
(lp49254
VPut the B class in the same package as A, and make its constructor package-protected
p49255
aVOnly the classes from the same package will be able to invoke it
p49256
as(dp49257
g23
V571407
p49258
stp49259
a((dp49260
g2
(lp49261
VPerformance has nothing to do with the number of fields an object has
p49262
aVMemory consumption is of course potentially affected, but if the variables are needed, you can't do much about it
p49263
aVDon't worry too much about performance
p49264
aVMake your code simple, readable, maintainable, tested
p49265
aVThen, if you notice performance problems, measure and profile to see where they come from, and optimize where needed
p49266
aVMaintainability and readability is affected by the number of fields an object has though
p49267
aV40 to 50 fields is quite a lot of fields, and is probably an indication that your classes do too much on their own, and have too many responsibilities
p49268
aVRefactoring them to many, smaller subclasses, and using composition would probably be a good idea
p49269
as(dp49270
g23
V571407
p49271
stp49272
a((dp49273
g2
(lp49274
VYour loop is inside the form
p49275
aVSo each time you submit, you submit all the inputs (the IDs of all the rows), and not just the ones that are in the same row as the submit button you clicked
p49276
aVPut the form inside the loop, and everything should work as expected
p49277
as(dp49278
g23
V571407
p49279
stp49280
a((dp49281
g2
(lp49282
Vor, using Guava,
p49283
as(dp49284
g23
V571407
p49285
stp49286
a((dp49287
g2
(lp49288
VNo, it won't
p49289
aVEven HQL update and delete queries don't affect in-memory state
p49290
as(dp49291
g23
V571407
p49292
stp49293
a((dp49294
g2
(lp49295
VUsing annotations is one way to use a declarative approach, as opposed to using a programmpatic approach, involving additional Java code in your methods:
p49296
aVDeclarative approach:
p49297
aVProgrammatic approach:
p49298
as(dp49299
g23
V571407
p49300
stp49301
a((dp49302
g2
(lp49303
VFirst solution: hard-code them in one place, using constants
p49304
aVThis solution is awful though, because your code will become less readable, and you still have the risk of having incorrect column names in your constants
p49305
aVSecond solution: leave it as it is, and unit-test your queries
p49306
aVThe code will stay readable, and your unit tests will make sure you don't have incorrect names
p49307
aVThird solution: use the JPA API, and use the JPA2 criteria API, with the automatically generated metamodel
p49308
aVThe queries will then look like this:
p49309
aVWhere  and  are auto-generated metamodel classes holding attributes for every column and association of the  and  entities respectively
p49310
aVBeware that, IMHO, the JPA2 criteria API is a non-intuitive, hard to use API that doesn't make code very readable
p49311
aVBy all means, use HQL/JPQL every time you can instead of criteria queries: they are much more readable IMHO
p49312
aVCriteria queries are useful when a query must be dynamicall generated based on various optional criteria, or when you have a whole lot of complex, similar queries and you can reuse a common part
p49313
aVBut for the majority of the cases, HQL is much more readable
p49314
aVYou need to unit-test your queries anyway
p49315
aVSo these tests will check that the properties names are correct
p49316
as(dp49317
g23
V571407
p49318
stp49319
a((dp49320
g2
(lp49321
VJPQL works on entities, their mapped columns and associations
p49322
aVIt doesn't work on tables and columns
p49323
aVThere is no  field in the  entity
p49324
aVThere is no  in the  entity
p49325
aVThe query should be
p49326
aVSide note: all the fields os UserTime are part of UserTime
p49327
aVNo need to repeat the  prefix everywhere
p49328
aVWhy not name the fields , ,  instead
p49329
as(dp49330
g23
V571407
p49331
stp49332
a((dp49333
g2
(lp49334
VYour code above assumes the named query returns a list of questions, but it returns an array of objects
p49335
aVTo return a list of questions, the query should look like
p49336
aVBut the query probably looks like
p49337
aVWithout seeing the executed query, it's hard to give a more detailed answer
p49338
as(dp49339
g23
V571407
p49340
stp49341
a((dp49342
g2
(lp49343
VYou can, but the SwingWorker has methods designed to report progress of a background task: you call  from  to publish progress, and you override  (which is called in the EDT) in order to display the progress
p49344
aVSo the above code could be rewritten as:
p49345
as(dp49346
g23
V571407
p49347
stp49348
a((dp49349
g2
(lp49350
VCompare both types
p49351
aVIf the comparison is different from 0, return it as a result
p49352
aVIf equal to 0, then compare the names
p49353
aVNote that:
p49354
aVExtending Object is unnecessary: it's the default
p49355
aVFields should start with a lower-case letter: name, type na dnot Name, Type
p49356
aVYour class should implement
p49357
aVI would choose another name for the class: It's not a file type, but a file name associated to a file type
p49358
aVI would use an enum rather than a String for file types, since you only have two valid instances of file types
p49359
aVYou should never ignore exceptions like you're doing
p49360
aVBTW, if this exception occurs, it could lead to a NullPointerException
p49361
aVWrap the exception into a runtime exception and throw this runtime exception:
p49362
aVYour compareTo method doesn't handle null names, although the default constructor assigns null to the name
p49363
aVFix the method or the constructor
p49364
aVIt seems to me that a file name should never be null, so I would fix the constructor
p49365
as(dp49366
g23
V571407
p49367
stp49368
a((dp49369
g2
(lp49370
VYou could use a custom user type, or you could simply implement the setter of the property like this:
p49371
aVThis rounding would thus be encapsulated in the entity
p49372
aVNote that using a double to initialize a BigDecimal is a bit strange
p49373
aVIf you want  to be stored in the BigDecimal, use , and you won't have a BigDecimal initialized with
p49374
as(dp49375
g23
V571407
p49376
stp49377
a((dp49378
g2
(lp49379
VDecide who should know how a  must be constructed from from an instance of
p49380
aVIt could be the instance of , it could be the  class, it could be the Hierarchy, or it could be the caller of
p49381
aVIf it's the caller of , then either you make it take an instance of  instead of an instance of , or you make it take an instance of some , to which the method will delegate to transform the data into a node
p49382
aVThis factory could also be passed as an argument to the hierarchy constructor if all the nodes are constructed by the same factory
p49383
as(dp49384
g23
V571407
p49385
stp49386
a((dp49387
g2
(lp49388
V66996956 and 6
p49389
aV6996956E7 are the same value, displayed differently
p49390
aVSee the documentation to understand why it's displayed this way:
p49391
aVIf m is less than 10^-3 or greater than or equal to 10^7, then it is
p49392
aVrepresented in so-called "computerized scientific notation
p49393
aVIf you don't mind about the loss of precision that floats and doubles necessarily have (and even more for large values), then use them
p49394
aVIf you want an absolutely precise value, then use BigDecimal
p49395
as(dp49396
g23
V571407
p49397
stp49398
a((dp49399
g2
(lp49400
VThis is the proper way, as documented in the documentation
p49401
aVHibernate will never prevent two records from  to reference one the same row from
p49402
aVThat's the role of the unique constraint that you should add on the  column of , in the database
p49403
as(dp49404
g23
V571407
p49405
stp49406
a((dp49407
g2
(lp49408
VA pull request in Git is typically used to ask someone, using his own repo, to pull changes from another repo (which is a clone of the original repo)
p49409
aVSVN only uses one repo for everybody, so the closest matches to a pull request would be:
p49410
aVyou developed a feature in a branch, and ask the trunk maintainer to reintegrate your branch into the trunk
p49411
aVyou developed a feature in your own working copy of the trunk, and send a patch file to the trunk maintainer in order to commit the changes into the trunk
p49412
as(dp49413
g23
V571407
p49414
stp49415
a((dp49416
g2
(lp49417
VYes, it's safe
p49418
aVThe code either get an instance from a  (which must, according to the documentation, return a new instance), or it creates a new instance of DecimalFormat
p49419
aVLogically, since NumberFormat is mutable, returning the same instance or cached instances would make the method completely unusable
p49420
as(dp49421
g23
V571407
p49422
stp49423
a((dp49424
g2
(lp49425
VIn HTML, newline characters are treated like spaces, and multiple spaces are displayed as a single space
p49426
aVIf you want to go to the next line, you must transform newline characters into , or enclose your text inside a  block
p49427
as(dp49428
g23
V571407
p49429
stp49430
a((dp49431
g2
(lp49432
VAll the Non-UI related OO patterns might apply, depending on the situation
p49433
aVMost of the design patterns have nothing to do with UI, and are simply named, common solutions to common OO problems: delegation, factory, visitor, composite, strategy, chain of responsibility, builder, proxy, observer, dependency injection, etc
p49434
aVetc
p49435
aVUse them when appropriate
p49436
as(dp49437
g23
V571407
p49438
stp49439
a((dp49440
g2
(lp49441
VTo be able to sort a list, its elements must be comparable to each other
p49442
aVThat's not the case here
p49443
aVInstances of A can only be compared with other instances of A
p49444
aVSame for B
p49445
aVIf you want to sort a list containg A and B instances, you need to provide  which will happily take two s, two s or an  and a , and compare these objects as you want them compared
p49446
aVBut maybe A and B should implement the same Identifiable interface, and the list should be a
p49447
aVThis way, you could easily write a comparator that compares two instances of Identifiable, and it would work whether the actual instance is A, B, or any other Identifiable
p49448
as(dp49449
g23
V571407
p49450
stp49451
a((dp49452
g2
(lp49453
VBoth approaches are fine, but the second one is less flexible:
p49454
aVif you have this method inside a bigger transaction, involving several entities, you can't be sure that the exception is caused by the removal of the author, and not by something unrelated
p49455
aVif the author is references by other entities than books, you can't tell the user that the books must be deleted
p49456
aVIt could be any other entity referencing the author
p49457
aVNote that, with the first approach, if the goal of throwing the exception is to be able to cacth it in the presentation layer (and not simply display a generic error message), I would use a more specific exception, like
p49458
aVThe exception would be much clearer, and you wouldn't have the risk of catching an IllegalArgumentException that has nothing to do with books still referencing authors
p49459
as(dp49460
g23
V571407
p49461
stp49462
a((dp49463
g2
(lp49464
VIf you're using JSPs to display your data, all you need to do is use the JSTL's  tag, or  function to escame the HTML special chars:
p49465
aVI would definitely not do this in the controller
p49466
aVThis is one of the view's jobs
p49467
as(dp49468
g23
V571407
p49469
stp49470
a((dp49471
g2
(lp49472
VYou're using the same column () to uniquely identify a category, and to reference the parent category
p49473
aVThis can't possibly work, since all categories would obviously have themselves as parent
p49474
aVYou need another column to hold the parent category ID:
p49475
as(dp49476
g23
V571407
p49477
stp49478
a((dp49479
g2
(lp49480
VEnclose the text into a  tag:
p49481
aVThe  JSTL tag is necessary to HTML-escape all the HTML special chars:  become ,  becomes ,  becomes , etc
p49482
as(dp49483
g23
V571407
p49484
stp49485
a((dp49486
g2
(lp49487
VYour mapping is wrong: instead of defining a many-to-many bidirectional association, you're defining two many-to-many unidirectional associations, using the same join table
p49488
aVA bidirectional association always has an owner side and an inverse side
p49489
aVThe owner side is the one without the  attribute
p49490
aVThe inverse side must have a  attribute
p49491
aVThink about it: why would you need to tell Hibernate twice how a bidirectional association is mapped
p49492
aVThe mapping should be:
p49493
aVIn this case, the owner side is
p49494
aVThis means that to add an association between a person and a team, you need to add the team to the teams collection of the person
p49495
aVYou may choose to map it the other way, and in this case, you'll need to add the person to the team collection of persons
p49496
aVAlso, note that having  on a ManyToMany association is really dubious: do you really want to delete all the persons when you delete a team, and to delete all the teams of the deleted persons, etc
p49497
as(dp49498
g23
V571407
p49499
stp49500
a((dp49501
g2
(lp49502
VRolling back in-memory objects is not possible
p49503
aVBut the correct data is in database, so you just need to forget about your in-memory data, and get a fresh copy of them from the database:
p49504
aVGet  from database
p49505
aVModify  in memory
p49506
aVTry to commit the transaction to update  in database: exception
p49507
aVGet  from database again
p49508
as(dp49509
g23
V571407
p49510
stp49511
a((dp49512
g2
(lp49513
V returns an Object
p49514
aVAn Object can't be compared to a boolean
p49515
aVSo the expression  is invalid
p49516
aVIf you want to check if  is stored in the session attribute, the code should be
p49517
aVNote that you'd better put all the Java code in regular Java classes and limit yourself to the JSP EL in the JSPs
p49518
aVScriptlets should not be used anymore
p49519
as(dp49520
g23
V571407
p49521
stp49522
a((dp49523
g2
(lp49524
VThe Guava API doc links to the source code
p49525
aVYou just need to use the -linksource option of javadoc to do that
p49526
aVI wish more open-source projects use this option
p49527
as(dp49528
g23
V571407
p49529
stp49530
a((dp49531
g2
(lp49532
VYour code would be much more readable if the class was named  (since each instance of the class is one and only one state), and if the field was named  instead of
p49533
as(dp49534
g23
V571407
p49535
stp49536
a((dp49537
g2
(lp49538
VWith this design, you'll need to use a query to get the mayor of the town of the person:
p49539
aVThis query will have to be executed as part of the method of a DAO/Repository class
p49540
aVThe mayor can't be available in a  method of the Client object
p49541
as(dp49542
g23
V571407
p49543
stp49544
a((dp49545
g2
(lp49546
VJPA (and thus Hibernate) support inheritance
p49547
aVI don't quite understand what you mean
p49548
aVJPA/Hibernate, by default, leave objects in memory for the duration of a transaction
p49549
aVEach transaction has its own copy of the object, and this first-level cache is recreated at the beginning of each transaction, since any other concurrent transaction (or even another application) could have modified the object
p49550
aVThere is no destructor in Java, so I don't understand what you mean
p49551
aVBut at the end of the transaction, by default, every change to an entity is automatically saved to the database
p49552
aVIf you read the documentation and takes the time to understand how it works, then JPA/Hibernate is relatively easy to use
p49553
aVBut it has it learning curve
p49554
aVThe performance is OK in 95% of the typical use cases, as long as you understand what the ORM does behind the scenes
p49555
as(dp49556
g23
V571407
p49557
stp49558
a((dp49559
g2
(lp49560
VEither launch Tomcat in debug mode from Eclipse, or launch tomcat with remote debug options, and attach a remote debug session from Eclipse to this tomcat server (in a similar way as you're probably doing for the remote RMI server)
p49561
aVSee http://wiki
p49562
aVapache
p49563
aVorg/tomcat/HowTo#How_do_I_debug_a_Tomcat_application
p49564
aV3F for how to start tomcat in remote debug mode:
p49565
as(dp49566
g23
V571407
p49567
stp49568
a((dp49569
g2
(lp49570
VNo
p49571
aVBut you could write it yourself by using  and check if there is a  property in the class (of type boolean)
p49572
as(dp49573
g23
V571407
p49574
stp49575
a((dp49576
g2
(lp49577
VNo, it's not possible
p49578
aVCriteria queries are translated to SQL directly, without going through an intermediate JPQL/HQL query
p49579
as(dp49580
g23
V571407
p49581
stp49582
a((dp49583
g2
(lp49584
VIt's just a generic type name, just as  in
p49585
aVThe author just chose a larger name for this type
p49586
as(dp49587
g23
V571407
p49588
stp49589
a((dp49590
g2
(lp49591
VBut I would definitely avoid composite PKs: they make life much more complicated, and performance worse
p49592
as(dp49593
g23
V571407
p49594
stp49595
a((dp49596
g2
(lp49597
VCasting an object to another class doesn't magically change the type of the object
p49598
aVIt only allows referencing it as a more concrete class
p49599
aVSo casting a List to Vector only works if the list is indeed a Vector
p49600
aVreturns a
p49601
aVThat's what the javadoc says
p49602
aVThe concrete class returned depends on the JPA provider, but I'm pretty sure none of them returns a , since Vector is a class that should not be used anymore, since Java 1
p49603
ag12
aVMoreover, this particular query doesn't return , but instances of  (which should be named , BTW)
p49604
aVSo the method should be:
p49605
aVThe server shouldn't care that the client-side needs a Vector to satisfy an old Swing class
p49606
aVIf you really need a Vector at client-side, then create one from the returned list:
p49607
as(dp49608
g23
V571407
p49609
stp49610
a((dp49611
g2
(lp49612
VImplement your own , by using the code of  as an example, but using a  instead of a
p49613
aVpreserves insertion order
p49614
as(dp49615
g23
V571407
p49616
stp49617
a((dp49618
g2
(lp49619
VYou could simply wrap your  objects into  objects, where  would implement  and  based on the desired fields, and provide access to the wrapped
p49620
as(dp49621
g23
V571407
p49622
stp49623
a((dp49624
g2
(lp49625
VOr, if you prefer avoiding chaining calls:
p49626
as(dp49627
g23
V571407
p49628
stp49629
a((dp49630
g2
(lp49631
VThat's the principle of the EL
p49632
aVIt looks for Java bean properties
p49633
aVA bean property is some information available by a public getter, obeying the JavaBeans conventions
p49634
aVIt can also be set using a JavaBean setter, obeying the JavaBeans conventions:
p49635
aVThe EL doesn't care about the fields of your objects
p49636
aVThis is private, encapsulated stuff
p49637
aVSo  could trigger a complex computation returning a  instance, or simply return a field named ,  or anything else
p49638
aVThe EL doesn't care
p49639
as(dp49640
g23
V571407
p49641
stp49642
a((dp49643
g2
(lp49644
VThe only way is to use the deprecated Thread
p49645
aVstop(), but it's deprecated for good reasons, and should not be used
p49646
aVSo the answer is no: there is no way to stop a task without this task collaboration
p49647
aVIf the task refuses to stop even whan it has been asked to stop, nothing can be done
p49648
as(dp49649
g23
V571407
p49650
stp49651
a((dp49652
g2
(lp49653
VThe problem is probably not caused by serial version UIDs, but by classloader issues
p49654
aVyou probably try to cast an object whose class was loaded by a class loader A (the class loader used by EHCache) to a class loaded by class loader B (your webapp's class loader)
p49655
aVWithout more details, it's hard to tell what you should do, but make sure your class can be loaded by one and only one class loader
p49656
aVFor example, if the class is both in the webapp's classpath (WEB-INF/lib) and in the server classpath, it might be the issue
p49657
as(dp49658
g23
V571407
p49659
stp49660
a((dp49661
g2
(lp49662
VThe syntax is similar to the SQL syntax, but with mapped fields/properties instead of columns:
p49663
aVNote that if the goal is to modify a single entity instance, you'd better do
p49664
as(dp49665
g23
V571407
p49666
stp49667
a((dp49668
g2
(lp49669
VThe first affects the literal String object "somvalue" to variable
p49670
aVThis literal String object is cached in a pool, as all literal Strings
p49671
aVThe second creates a new instance of empty String
p49672
aVSince String instances are immutable, it's equivalent to , except it instantiates a new object for nothing
p49673
as(dp49674
g23
V571407
p49675
stp49676
a((dp49677
g2
(lp49678
Vshould do
p49679
aVBut AFAIK, the signature in the taglib file should be
p49680
aVIf this doesn't work, then mention the exact error message you get, instead of just saying "it doesn't work"
p49681
as(dp49682
g23
V571407
p49683
stp49684
a((dp49685
g2
(lp49686
VYour comparator is wrong: if , it returns 0 instead of returning a negative number
p49687
aVThe code should be
p49688
aVor
p49689
aVor
p49690
as(dp49691
g23
V571407
p49692
stp49693
a((dp49694
g2
(lp49695
V means:
p49696
aVfind an attribute named "registrationServlet" in the page scope
p49697
aVif not found, find an attribute named "registrationServlet" in the request scope
p49698
aVif not found, find an attribute named "registrationServlet" in the session scope
p49699
aVif not found, find an attribute named "registrationServlet" in the application scope
p49700
aVif found, call  on the found object
p49701
aVSo, if you haven't stored any instance of  in any scope, this expression will always evaluate to
p49702
aVIf you keep this design, the  (or ) method of your servlet should have the following line:
p49703
aVBut it would be much cleaner to have
p49704
aVand, in the JSP:
p49705
as(dp49706
g23
V571407
p49707
stp49708
a((dp49709
g2
(lp49710
VLazy-init the frames:
p49711
as(dp49712
g23
V571407
p49713
stp49714
a((dp49715
g2
(lp49716
VFrom this comment to a previous answer of mine:
p49717
aVIn tomcat 7 (so with JSP EL 2
p49718
aV2) you can actually do  and it works
p49719
as(dp49720
g23
V571407
p49721
stp49722
a((dp49723
g2
(lp49724
VAnother option would be to use an array of  objects, and use their  or  method
p49725
aVYou wouldn't need synchronization to increment your objects, and multiple objects could be incremented concurrently
p49726
as(dp49727
g23
V571407
p49728
stp49729
a((dp49730
g2
(lp49731
VPass an additional  argument to the method:
p49732
aVThe caller will have to pass a where clause (such as ), and an instance of this interface, such as
p49733
as(dp49734
g23
V571407
p49735
stp49736
a((dp49737
g2
(lp49738
VRegarding the second question: no
p49739
aVGuava uses the identity hash codes of the objects to sort them arbitrarily
p49740
aVRegarding the first question: I would use a comparison chain to sort by name, then by arbitrary order:
p49741
aVThen I would create the real ordering to order the templates with nulls first:
p49742
aVNot tested, though
p49743
as(dp49744
g23
V571407
p49745
stp49746
a((dp49747
g2
(lp49748
VThe complexity is only relevant if there is a variable N
p49749
aVSo, the question makes no sense as is
p49750
aVIf the question was:
p49751
aVA much slower algo would consist in testing every possible value in a range of N values, which would be about N times slower on average
p49752
aVIs the second algorithm O(1) or O(N)
p49753
aVThen the answer would be: this algorithm is O(N)
p49754
as(dp49755
g23
V571407
p49756
stp49757
a((dp49758
g2
(lp49759
VBecause the Java Language Specification says so:
p49760
aVAn identifier is an unlimited-length sequence of Java letters and Java
p49761
aVdigits, the first of which must be a Java letter
p49762
aVA "Java letter" is a character for which the method
p49763
aVCharacter
p49764
aVisJavaIdentifierStart(int) returns true
p49765
aVA "Java letter-or-digit" is a character for which the method
p49766
aVCharacter
p49767
aVisJavaIdentifierPart(int) returns true
p49768
aVThe "Java letters" include uppercase and lowercase ASCII Latin letters
p49769
aVA-Z (\u005cu0041-\u005cu005a), and a-z (\u005cu0061-\u005cu007a), and, for historical
p49770
aVreasons, the ASCII underscore (_, or \u005cu005f) and dollar sign ($, or
p49771
aV\u005cu0024)
p49772
aVThe $ character should be used only in mechanically generated
p49773
aVsource code or, rarely, to access pre-existing names on legacy
p49774
aVsystems
p49775
aVThe "Java digits" include the ASCII digits 0-9 (\u005cu0030-\u005cu0039)
p49776
aVLetters and digits may be drawn from the entire Unicode character set,
p49777
aVwhich supports most writing scripts in use in the world today,
p49778
aVincluding the large sets for Chinese, Japanese, and Korean
p49779
aVThis
p49780
aVallows programmers to use identifiers in their programs that are
p49781
aVwritten in their native languages
p49782
as(dp49783
g23
V571407
p49784
stp49785
a((dp49786
g2
(lp49787
VYour mapping is wrong
p49788
aVIf the association is a one-to-many bidirectional association, one side must define it as , and the other side as  (not )
p49789
aVMoreover, a bidirectional association always has an owner side and an inverse side
p49790
aVThe inverse side is the one with the  attribute
p49791
aVIn the case of a OneToMany, the inverse side must be the one side
p49792
aVSo the mapping should be:
p49793
aVThis mapping is described in the hibernate documentation
p49794
as(dp49795
g23
V571407
p49796
stp49797
a((dp49798
g2
(lp49799
VPackages are not hierarchical in Java
p49800
aVhas nothing to do with package
p49801
aVSo if your goal is to check that a class is in a package, or one of its "sub-packages", then yes, String manipulation is your best bet
p49802
as(dp49803
g23
V571407
p49804
stp49805
a((dp49806
g2
(lp49807
VYou can't
p49808
aVFrom the official tutorial:
p49809
aVBy using the Class-Path header in the manifest, you can avoid having
p49810
aVto specify a long -classpath flag when invoking Java to run the your
p49811
aVapplication
p49812
aVNote: The Class-Path header points to classes or JAR files on the
p49813
aVlocal network, not JAR files within the JAR file or classes accessible
p49814
aVover internet protocols
p49815
aVTo load classes in JAR files within a JAR
p49816
aVfile into the class path, you must write custom code to load those
p49817
aVclasses
p49818
aVFor example, if MyJar
p49819
aVjar contains another JAR file called
p49820
aVMyUtils
p49821
aVjar, you cannot use the Class-Path header in MyJar
p49822
aVjar's
p49823
aVmanifest to load classes in MyUtils
p49824
aVjar into the class path
p49825
as(dp49826
g23
V571407
p49827
stp49828
a((dp49829
g2
(lp49830
V using the JSTL or, if you really like Struts tags,
p49831
aVThis assumes that the action form is registered under the attribute name "theActionForm", and has a  method
p49832
as(dp49833
g23
V571407
p49834
stp49835
a((dp49836
g2
(lp49837
VI really wouldn't do that, because it makes it impossible to query your data
p49838
aVIf you really want to do it, then just transform the collection into a string in the setter, and the string into a collection of enums into the getter
p49839
aVWith Guava:
p49840
as(dp49841
g23
V571407
p49842
stp49843
a((dp49844
g2
(lp49845
VYes, it is the expected behavior
p49846
aVThe outer transaction is suspended while the inner transaction is executed
p49847
aVOnce the inner transaction ends (whether it's a commit or rollback), the outer transaction resumes
p49848
aVBTW, the documentation says it:
p49849
aVPROPAGATION_REQUIRES_NEW, in contrast to PROPAGATION_REQUIRED, uses a
p49850
aVcompletely independent transaction for each affected transaction
p49851
aVscope
p49852
aVIn that case, the underlying physical transactions are
p49853
aVdifferent and hence can commit or roll back independently, with an
p49854
aVouter transaction not affected by an inner transaction's rollback
p49855
aVstatus
p49856
as(dp49857
g23
V571407
p49858
stp49859
a((dp49860
g2
(lp49861
VA custom thread spawned by a servlet thread is no different than any other thread: it's an independant, parallel flow of execution
p49862
aVThe servlet thread doesn't care about the custom spawned thread: it continues its execution
p49863
aVSo the response will be sent to the browser as if no custom thread had been spawned, and whether the custom spawned thread is still running or not is irrelevant
p49864
aVOnce the servlet thread has finished serving the request and sending the response, it goes back to the pool and can start serving another request
p49865
aVOnce again, whether a custom thread has been spawned, and whether this custom thread is still running, are irrelevant
p49866
as(dp49867
g23
V571407
p49868
stp49869
a((dp49870
g2
(lp49871
VIt's more a design question than a performance question
p49872
aVIf you consider that a Phone doesn't know about the employee it's assigned to, this means that the Phone entity is independant from the Employee entity
p49873
aVAnd if it's independant from the Employee entity, its table shouldn't have a foreign key to the Employee table
p49874
aVMoreover, since a Phone doesn't know about its employee, it means that it could potentially be reused and be associated with other kinds of entities: companies, customers, etc
p49875
aVIt would be questionable to have foreign keys to all the entities that can have a phone in the phone table itself
p49876
as(dp49877
g23
V571407
p49878
stp49879
a((dp49880
g2
(lp49881
VThe best way is the way you've done it, although I would name the method  instead of , since the method doesn't get a Locale, but formats a BigDecimal
p49882
aVThe data is a list of BigDecimals
p49883
aVWhether and how this data is displayed/stored in a CSV file shouldn't change the nature of the data
p49884
aVIf later, you need to display these data in a web page in English, you shouldn't have to change the nature of the data, but only the way this data is displayed
p49885
as(dp49886
g23
V571407
p49887
stp49888
a((dp49889
g2
(lp49890
VIf  is sufficient to uniquely identify a Resource, then it should be the primary key, and  should not be part of the primary key
p49891
aVIf it's not sufficient to uniquely identify a Resource, then you need it in the join table, else it would not map one resource with one tag, but many resources with one tag
p49892
as(dp49893
g23
V571407
p49894
stp49895
a((dp49896
g2
(lp49897
VYour assumptions are wrong
p49898
aVTables are not magically created if they don't exist
p49899
aVMost of the applications use existing databases
p49900
aVEclipseLink can create the schema for you, but it's not the default
p49901
aVRead this page to know how to enable this feature:
p49902
aVEclipseLink can be used to automatically generate the tables and
p49903
aVdatabase schema for a persistence unit
p49904
aVThis is done through the
p49905
aV"eclipselink
p49906
aVddl-generation" persistence unit property, set to either
p49907
aV"create-tables" or "drop-and-create-tables"
p49908
aVThe tables and
p49909
aVconstraints will be generated for all of the classes defined in that
p49910
aVpersistence unit
p49911
as(dp49912
g23
V571407
p49913
stp49914
a((dp49915
g2
(lp49916
VA BigDecimal is a BigDecimal
p49917
aVIt doesn't have any intrinsic format
p49918
aVMoreover, it's definitely not the job of an ORM like Hibernate to transform the data the way you want it displayed
p49919
aVTreat your entities as data, and use the appropriate NumberFormat in the presentation layer, when you need to display the data
p49920
aVNumber formatting has nothing to do in the persistence layer
p49921
aVEDIT: I misunderstood the question:
p49922
aVNumberFormat is locale-dependent
p49923
aVThis means that  means "the group separator associated with the locale", and  means "the decimal separator associated with the locale"
p49924
aVIf you want a dot as group separator and a comma as decimal separator, either use a locale that has these as separators by default, or use a DecimalFormat and set the DecimalFormatSymbols to the appropriate values
p49925
as(dp49926
g23
V571407
p49927
stp49928
a((dp49929
g2
(lp49930
VFor a static query, I find HQL queries much more readable (and concise) than criteria queries
p49931
aVI see two reasons for criteria queries:
p49932
aVThe query is not static, but dynamically created
p49933
aVAssume you have a search form with many search criteria, many of them being optional
p49934
aVYou'll need to dynamically create a query based on the presence and value of the various search parameters
p49935
aVThis is where criteria queries help you
p49936
aVYou have several complex static queries, all sharing common parts
p49937
aVIn this case, rather than duplicating these common parts in every static query, it can be useful to use a criteria query, and factor the addition of the common parts in methods
p49938
as(dp49939
g23
V571407
p49940
stp49941
a((dp49942
g2
(lp49943
VLook at the javadoc for HttpServletRequest (and its parent interface), and especially the methods containing the word "Parameter"
p49944
as(dp49945
g23
V571407
p49946
stp49947
a((dp49948
g2
(lp49949
VUnless you use the directive
p49950
aVin a JSP, a session is created (unless it already exists, obviously) as soon as you hit this JSP
p49951
aVI don't know what you try to achieve, but 99% of the times, using the default (i
p49952
ag468
aVa session is created as soon as you hit a JSP) is an acceptable solution
p49953
aVUnless you have good reasons to not want a session to be created, you shouldn't care
p49954
as(dp49955
g23
V571407
p49956
stp49957
a((dp49958
g2
(lp49959
V is of type
p49960
aVSO you can't compare it with an integer
p49961
aVYou may only compare it with a ContentLanguage
p49962
aVSo, either you do
p49963
aVor you do
p49964
aVI really prefer HQL for such simple static queries
p49965
aVIsn't the following much more readable and intuitive
p49966
as(dp49967
g23
V571407
p49968
stp49969
a((dp49970
g2
(lp49971
VYou don't show your code, but I suspect that you call the send method in your SLB from the parse method of the same SLB instance
p49972
aVIn that case, the method call is a direct method call, which doesn't go through the bean proxy, and thus the transactional annotation on the send method is completely ignored
p49973
aVYou have
p49974
aVwhere you should have
p49975
aVThe simplest way is to put the send method in a separate SLB
p49976
as(dp49977
g23
V571407
p49978
stp49979
a((dp49980
g2
(lp49981
VRead the documentation again
p49982
aVYou're not supposed to have the ID of the student in the Phone entity
p49983
aVRather, you're supposed to have an association between both entities: a Phone belongs to a Student:
p49984
aVOnly then will you be able to use joins:
p49985
as(dp49986
g23
V571407
p49987
stp49988
a((dp49989
g2
(lp49990
VYou get the parent from the database, do the attachments, and persist the two children:
p49991
as(dp49992
g23
V571407
p49993
stp49994
a((dp49995
g2
(lp49996
VIt's plain impossible
p49997
aVSHA1, like all cryptographic digest algorithms, is not an encryption algorithm, but a hashing algorithm
p49998
aVIt takes any text, as long as you want, and transforms it into a few bytes, in a way that is impossible to revert, by design
p49999
aVThe whole point of a cryptographic hash is to be one-way, and thus impossible to revert
p50000
aVIf it was possible, the algorithm would be useless
p50001
as(dp50002
g23
V571407
p50003
stp50004
a((dp50005
g2
(lp50006
VYou don't abolutely need it to make the database happy, but not doing it makes the object graph inconsistent
p50007
aVSo if, for example, you return the stock with its categories as a result of this operation, and the client code (UI) iterates through the stock categories to display the new state of the system, the newly created stock will appear without any category, which is wrong
p50008
as(dp50009
g23
V571407
p50010
stp50011
a((dp50012
g2
(lp50013
VYou need to use an XA-enabled transaction manager, and send the JMS message and do the update to the DB in the same, distributed transaction
p50014
aVThis doesn't change anything to asynchronicity: the send call will return before the receiver receives the message
p50015
aVBut when it receives it, the transaction will be committed, and the receiver will find the updates in the database
p50016
aVI don't see what OutOfMemoryErrors have to do with this
p50017
as(dp50018
g23
V571407
p50019
stp50020
a((dp50021
g2
(lp50022
VIt's not possible
p50023
aVJPQL is only able to query mapped entities
p50024
aVNot database tables
p50025
aVYou'll need to use SQL, and if you need to support multiple databases, have one DAO per database and use the appropriate DAO based on the used database
p50026
as(dp50027
g23
V571407
p50028
stp50029
a((dp50030
g2
(lp50031
VYou have several problems in your code:
p50032
aVwon't transform an Enumeration into a List
p50033
aVIt will create a List containing a single element: the enumeration
p50034
aVYou should use Collections
p50035
aVlist() to do that
p50036
aVThere is no reason to transform a List into a Vector
p50037
aVVector (like Enumeration, by the way) is an old class that shouldn't be used anymore, and List has all you need
p50038
aVYou should use generic types and not raw types
p50039
aVIt would save youmany unnecessary casts
p50040
aVThis code shouldn't be in a JSP in the first place, but in a servlet or controller
p50041
aVYou're trying to access  from outside the loop, but aString is defined inside the loop
p50042
aVThe JSP EL doesn't access local variables
p50043
aVIt accesses page, request, session or application attributes
p50044
aVIf you want it to access a local variable, you need to store this variable in a page scope attribute
p50045
aVI guess you want to display every string in the enumeration
p50046
aVIn that case, you should use the  tag, and not a while loop
p50047
aVSo, the code could be written as such:
p50048
aVBut, I repeat, the Java code should be out of the JSP, and should store the list into a request attribute
p50049
aVThe forEach loop would stay unchanged
p50050
as(dp50051
g23
V571407
p50052
stp50053
a((dp50054
g2
(lp50055
VWrap it in a pre block:
p50056
aVOr use a tag that will transform every end of line into a
p50057
aVI've always wondered why this wasn't part of the JSTL
p50058
aVBut it's pretty easy to write yourself
p50059
as(dp50060
g23
V571407
p50061
stp50062
a((dp50063
g2
(lp50064
VYou can do that with Hibernate, although the JPA spec says it should be forbidden
p50065
aVIndeed, when you get an , its list of Bs should always be the complete list a Bs
p50066
aVNot a list that has been filtered by some query
p50067
aVI would avoid doing that because its dangerous
p50068
aVRather, I would use a query like the following:
p50069
aVNow you have all the As you're interested into, and all the Bs you're interested into:
p50070
aVIf you really want to get As with partial list of Bs, use the following query
p50071
aVBut you've been warned: it's not portable, and it's dangerous:
p50072
as(dp50073
g23
V571407
p50074
stp50075
a((dp50076
g2
(lp50077
VThe parameter must be a collection of Dealership instances
p50078
aVIf you want to use a collection of dealership IDs, use
p50079
aVRemamber that JPQL always use entities, mapped attributes and associations
p50080
aVNever table and column names
p50081
as(dp50082
g23
V571407
p50083
stp50084
a((dp50085
g2
(lp50086
VYou don't even need a while loop or Guava
p50087
aVJust add the following method in your interface:
p50088
aVAnd then the following implementation in the delegate:
p50089
aVAnd the following implementation in the "real" implementation:
p50090
aVIf the interface can't be modified, do it externally:
p50091
as(dp50092
g23
V571407
p50093
stp50094
a((dp50095
g2
(lp50096
VA fileset is something like a selector
p50097
aVIt's a set of "instructions" (inclusions, exclusions, patterns) allowing to get a set of files
p50098
aVEach time you actually do something with the fileset (like printing the files it "references"), the actual set of files is computed based on the "instructions" contained in the fileset
p50099
as(dp50100
g23
V571407
p50101
stp50102
a((dp50103
g2
(lp50104
VSo the answer is no
p50105
aVreturns a , but it's not guaranteed by the javadoc
p50106
aVThe  interface, which extends , has a  method, which returs a , which extends , though
p50107
as(dp50108
g23
V571407
p50109
stp50110
a((dp50111
g2
(lp50112
VThe controller controls the rpesentation layer logic
p50113
aVFor all the business code, transactional use cases, persistence, etc
p50114
aV, it typically delegates to a service layer
p50115
aVA typical way of doing that is to implement transactional services as spring beans, and inject those spring beans in controllers
p50116
aVTypical use case: createa new product:
p50117
aVThe controller receives a command bean from the browser
p50118
aVIt validates that all the required data is present, and if not, redisplays the product creation page with error messages
p50119
aVIt calls a service bean to create the product
p50120
aVThe service bean runs in a transaction
p50121
aVIt gets the product category from the database, attaches the product to its category, computes the price for the product based on current pricing strategies, sends a JMS message to an external application, and returns the ID of the created product
p50122
aVThe controller redirects to the product detail page, using the ID of the created product as URL parameter
p50123
as(dp50124
g23
V571407
p50125
stp50126
a((dp50127
g2
(lp50128
VThe session itself is thread-safe
p50129
aVBut that doesn't mean that using it without any kind of synchronization leads to correct behavior
p50130
aVIt only means that the session will behave correctly if accessed by multiple threads
p50131
aVFor example, assume you have the following code executed concurrently:
p50132
aVAnd assume the original value of  is 0
p50133
aVThe end result could be 2 (the expected value), or it could be 1
p50134
aVIndeed, both threads could read the current value conncurrently (0), then both increment it to 1, and both store it in the session
p50135
aVSimilarly, if you store a thread-unsafe object in the session (like a HashMap for example), and two threads use this HashMap concurrently, you could see erratic behavior
p50136
aVAs with every multi-threaded program, you must use appropriate synchronization mechanisms when necessary, and/or make your objects thread-safe
p50137
aVBut this is the subject for a whole book
p50138
aVI would recommend Java Concurrency in practice
p50139
as(dp50140
g23
V571407
p50141
stp50142
a((dp50143
g2
(lp50144
VYou never execute your statement:
p50145
aVYou don't commit the connection either:
p50146
aVAnd the connection should really be closed in a finally block
p50147
aVYou should always close connections that you open
p50148
aVNotes: I really suggest avoiding commenting portions of code
p50149
aVIt's also bad practice to rely on the default order of the columns in an insert statement
p50150
aVThe statement should look like
p50151
aVFinally, please respect Java naming conventions
p50152
aVClasses start with an upper-case letter in Java
p50153
as(dp50154
g23
V571407
p50155
stp50156
a((dp50157
g2
(lp50158
VUsing the same query, no, it's not possible
p50159
aVUse a query without any where clause to do that:
p50160
as(dp50161
g23
V571407
p50162
stp50163
a((dp50164
g2
(lp50165
VSimply don't use the  tag at all:
p50166
aVOr use it with  set to false (but it's needlessly complex):
p50167
aVThe documentation would have told you
p50168
as(dp50169
g23
V571407
p50170
stp50171
a((dp50172
g2
(lp50173
VThe  method of a byte array doesn't return a meaningful string
p50174
aVIt returns the type of the array object, followed by the hashCode of the array
p50175
aVTransform the byte array to a String using Hex or Base64 encoding if you want it printed
p50176
aVApache commons-codec has methods to do that
p50177
aVAlso, make sure to specify en encoding which supports any kind of character to transform your string to a byte array
p50178
aVThe method you're using uses the platform default encoding, which could fail if, for example, it's latin-1 and you're transforming non-latin-1 characters
p50179
aVUTF-8 is a good choice
p50180
as(dp50181
g23
V571407
p50182
stp50183
a((dp50184
g2
(lp50185
VSee http://stackoverflow
p50186
aVcom/tags/jstl/info for info about the JSTL
p50187
as(dp50188
g23
V571407
p50189
stp50190
a((dp50191
g2
(lp50192
VThat's the principle of a Pseudo-RNG
p50193
aVThe numbers are not really random
p50194
aVThey are generated using a deterministic algorithm, but depending on the seed, the sequence of generated numbers vary
p50195
aVSince you always use the same seed, you always get the same sequence
p50196
as(dp50197
g23
V571407
p50198
stp50199
a((dp50200
g2
(lp50201
VThe fact that it's anonymous is irrelevant
p50202
aVEvery object instance you create goes on the heap
p50203
aVIf you can reuse the same listener for many buttons, then definitely do it: it will need less memory, and will generate less garbage
p50204
as(dp50205
g23
V571407
p50206
stp50207
a((dp50208
g2
(lp50209
VLocal variables must be initialized before being used
p50210
aVThat is enforced by the compiler
p50211
aVFields are initialized by default to the default value associated with their type (false, 0, null)
p50212
aVThat's required by the Java Language Specification
p50213
aVSo initializing them explicitely to their default value just adds noise, most of the time:
p50214
aVdoesn't do anything more than
p50215
as(dp50216
g23
V571407
p50217
stp50218
a((dp50219
g2
(lp50220
VReferences are always passed by value in Java
p50221
aVSo, assigning a new value to  in the called method won't change the reference in the calling method
p50222
aVYou need the following code for it to work:
p50223
as(dp50224
g23
V571407
p50225
stp50226
a((dp50227
g2
(lp50228
VYes, that's expected given the logic of the program
p50229
aVYou loop through the days
p50230
aVFor each day, you add the events of the day to a list of events (the badly named  list)
p50231
aVAnd for each day, you the loop through each events in this list (which thus contains all the events from the start of the month until the current day), and create an array of  instances, each summary containing the date of the current day, and the details of the event (whether it's a past event or an event of the current day)
p50232
aVThe list of events doesn't seem useful
p50233
aVI would simply use a list of summaries:
p50234
as(dp50235
g23
V571407
p50236
stp50237
a((dp50238
g2
(lp50239
VYou're supposed to bind parameters to a query
p50240
aVParameters are anonymous () or named ():
p50241
as(dp50242
g23
V571407
p50243
stp50244
a((dp50245
g2
(lp50246
VSee the Hibernate documentation on HQL and associations and joins
p50247
as(dp50248
g23
V571407
p50249
stp50250
a((dp50251
g2
(lp50252
VBefore executing a query, Hibernate flushes the changes you made to persistent entities in the session
p50253
aVThis ensures that the query will search on the latest state of all the entities
p50254
aVUnfortunately, one of the dirty entities that Hibernate tries to flush references a transient entity, and thus can't be flushed, which causes the exception
p50255
aVThe exception doesn't come from the query itself, but from the flush before the execution of the query
p50256
aVYou probably did something like the following before executing the query:
p50257
as(dp50258
g23
V571407
p50259
stp50260
a((dp50261
g2
(lp50262
VYou need to initialize the  variable to something other than its default value, which is :
p50263
aVThen look at the javadoc of , and you'll see that it contains methods to add and remove elements, as well as a method which returns its size, and makes thus the id variable completely unnecessary
p50264
aVAlso, notice in the javadoc how ALL the classes start with an uppercase letter, and ALL the methods are spelled in camelCase (like  and not like )
p50265
aVRespect these conventions: they're a very important factor for the readability of your code
p50266
aVAlso, choose the appropriate type for your variables
p50267
aVAn area, in meter square, should be an int or a float or a double, but not a String
p50268
as(dp50269
g23
V571407
p50270
stp50271
a((dp50272
g2
(lp50273
VThe collaborator's  method doesn't declare that it may throw Exception, and you're telling its mock to throw one
p50274
aVIt's not possible
p50275
aVException is a checked exception
p50276
aVIt can only be thrown if it's declared in the method signature
p50277
aVIf the method has no  clause, all it can do is throwing runtime exceptions (i
p50278
ag468
aVor any descendant class)
p50279
as(dp50280
g23
V571407
p50281
stp50282
a((dp50283
g2
(lp50284
V means "when fetching , also fetch the  linked to the "
p50285
aVBut your query doesn't fetch
p50286
aVIt fetches  only
p50287
aVSo the fetch makes no sense
p50288
aVJust remove it, and everything will be fine:
p50289
aVSome notes, though:
p50290
aVdoing a left join and then adding a retriction like  means that the join is in fact an inner join (since classDAO can't be null and have the given ID at the same time)
p50291
aVnaming your entities XxxDAO is very confusing
p50292
aVDAOs and entities are not the same thing at all
p50293
aVGiven the above, the query can be rewritten as
p50294
as(dp50295
g23
V571407
p50296
stp50297
a((dp50298
g2
(lp50299
VUsing Guava's Lists
p50300
aVpartition() method:
p50301
as(dp50302
g23
V571407
p50303
stp50304
a((dp50305
g2
(lp50306
VFirst advice: use the session as seldomly as possible
p50307
aVTry to only use it for things that have a lifetime identical to the lifetime of the session, and that can't be retrieved from the database easily or fast enough
p50308
aVSecond advice: don't use the session directly
p50309
aVEncapsulate the access to the session in one or a few dedicated class(es) (like you would do for a database, except the session is an in-memory database)
p50310
aVInstead of doing
p50311
aV, do something like
p50312
aVThis is more readable, much less error-prone, and allows finding easily in all the codebase where the preferred product is get or set
p50313
as(dp50314
g23
V571407
p50315
stp50316
a((dp50317
g2
(lp50318
VYour method, at each iteration, makes
p50319
aVone lookup for containsKey
p50320
aVone lookup for get
p50321
aVone unboxing from Integer to int
p50322
aVone boxing from int to Integer
p50323
aVone put
p50324
aVYou could simply compare the current element to the previous one, increment a count if it's equal, and put the count if not (and reset the counter to 1)
p50325
aVBut even if you keep your algorithm, using get and compare the result to null would at least avoid an unnecessary lookup
p50326
as(dp50327
g23
V571407
p50328
stp50329
a((dp50330
g2
(lp50331
VDon't pass the message itself in a redirect
p50332
aVStore the message under a unique key in the session, redirect with the key of this message as URL parameter, then go to the session, get the message, and display it
p50333
aVI would also remove the message from the session immediately: if the user refreshes, there is no reason to tell him again that the insert was successful
p50334
aVMost of the MVC frameworks do that for you, using what they usually call a Flash scope (session attributes that are removed from the session as soon as they've been retrieved)
p50335
as(dp50336
g23
V571407
p50337
stp50338
a((dp50339
g2
(lp50340
VNeither of those two
p50341
aVRead about the MVC pattern
p50342
aVMake every request coming from the browser go to a servlet
p50343
aVMake this servlet call services of the backend and populate Java Beans stored in a request attribute
p50344
aVThen dispatch the request to a JSP
p50345
aVThe JSP's only responsibility should be to get the data from the beans in the request and generate the HTML markup of the page (with the help of the JSTL and custom tags
p50346
aVNo scriptlet)
p50347
aVA database connection should not be reserved to a single user
p50348
aVIf you have 1000 concurrent users doing one request every 30 seconds, you would need 1000 connections, staying idle most of the time
p50349
aVThis is more than the database can support, and these connections could timeout orfail anyway
p50350
aVRead about connection pools, and use one: each request needing a connection gets one from the pool, does its job, and then closes the connection, which in fact gives it back to the pool where it comes from, ready to serve another request
p50351
as(dp50352
g23
V571407
p50353
stp50354
a((dp50355
g2
(lp50356
VYou don't pass any mock to reset
p50357
aVThe line should be
p50358
as(dp50359
g23
V571407
p50360
stp50361
a((dp50362
g2
(lp50363
VI would use
p50364
as(dp50365
g23
V571407
p50366
stp50367
a((dp50368
g2
(lp50369
VYou're confused about what a static import does
p50370
aVA static import in class A of B
p50371
aV* only allows calling static methods of B in the code of A without prepending  to the static method call
p50372
aVIt has nothing to do with overrides, and doesn't add methods from B to the class A
p50373
as(dp50374
g23
V571407
p50375
stp50376
a((dp50377
g2
(lp50378
VI guess that you're in a situation where a user has roles in  and also roles in , and your code thus sends two different meta refreshes to the browser
p50379
aVFirst, don't use meta refresh, but use a real redirect or a forward (and that shouldn't be done in a JSP, but in a controller, filter or servlet)
p50380
aVIf you really want to stay with a JSP solution, I guess something like this should work:
p50381
as(dp50382
g23
V571407
p50383
stp50384
a((dp50385
g2
(lp50386
VYes, you would need generics:
p50387
aVThe reason Java refuses to compile your HttpTarget class is because it doesn't override the Target's  method
p50388
aVIndeed, a Target, by contract is supposed to accept any kind of Load as argument
p50389
aVAnd the 's  method only accepts instances of HttpLoad, and thus breaks the Liskov principle
p50390
aVGenerics are the solution to this problem
p50391
as(dp50392
g23
V571407
p50393
stp50394
a((dp50395
g2
(lp50396
VThe first problem, although highly unlikely, could happen (I think you would need an enormous amount of memory, and a very bad luck)
p50397
aVBut it's solved by Guava's Ordering
p50398
aVarbitrary(), which uses the identity hash code behind the scenes, but maintains a cache of comparison results for the cases where two different objects have the same identity hash code
p50399
aVRegarding your second question, no, the identity hash codes are not preserved between runs
p50400
as(dp50401
g23
V571407
p50402
stp50403
a((dp50404
g2
(lp50405
VA release branch is used to prepare the final steps of a release
p50406
aVA maintenance branch is used to fix bugs once a release has been done
p50407
aVThey're both branches, and it's purely a semantic difference, but it's still a difference
p50408
aVTo merge your bug fix, you just make sure your working copy points to the trunk (the destination branch), and then merge from the maintenance branch (or a revision range of the maintenance branch if you don't want everything merged):
p50409
aVThe next merge will remember that these revisions have already been merged to the trunk, and will skip them automatically
p50410
as(dp50411
g23
V571407
p50412
stp50413
a((dp50414
g2
(lp50415
VThis looks like a producer/consumer system to me
p50416
aVYou could have the producers (importers) run in one or several threads and put their messages in a queue, and have the exporters run in one or several other threads and get their messages from the queue
p50417
aVA batch exporter could retrieve 100 messages from the queue (or wait for a given timeout) before actually writing to the database
p50418
aVAn "on-the-fly" exporter could retrive a message from the queue and export it immediately
p50419
aVThe queue can be bounded, preventing importers to store too many messages in the queue and thus avoid memory probems
p50420
aVYou'll find everything you need to implement such a thing in the  package
p50421
as(dp50422
g23
V571407
p50423
stp50424
a((dp50425
g2
(lp50426
VA bidirectional association has an owner side, and an inverse side
p50427
aVHibernate looks at the owner side to know if an association exists
p50428
aVThe owner side is the one which doesn't have the  attribute
p50429
aVSo, in this case, the owner side is Task
p50430
aVSo, if you want to detach the task CCC from its project plan, you must set its  field to null
p50431
aVIf you want to delete the task CCC, you must delete it, using
p50432
as(dp50433
g23
V571407
p50434
stp50435
a((dp50436
g2
(lp50437
VI would go with a visitor
p50438
aVUsing  won't work if the  is lazy-loaded, because the actual type of the Loy won't be any of your subclasses, but a Hibernate proxy extending the Loy class
p50439
aVIndeed, Hibernate has no way to know, from the ID of the loy in the customer, which kind of Loy it refers to
p50440
aVAnd a visitor is more OO and cleaner anyway
p50441
as(dp50442
g23
V571407
p50443
stp50444
a((dp50445
g2
(lp50446
VYou probably implemented  in the  class using Java 7's  method, and running this class on a Java 6 VM, which doesn't contain this class
p50447
as(dp50448
g23
V571407
p50449
stp50450
a((dp50451
g2
(lp50452
VYou just need one SQL query:
p50453
aV(where  are parameters of the query)
p50454
aVIf you have an index on the login column or even better, on [login - hashed_password], the query should not take more than a few milliseconds to execute
p50455
as(dp50456
g23
V571407
p50457
stp50458
a((dp50459
g2
(lp50460
VWhe you inspect it using the Eclipse debugger, the debugger initializes the proxy
p50461
aVJust turn on SQL logging, execute the  method, and verify that no select statement has been executed by your JPA engine
p50462
as(dp50463
g23
V571407
p50464
stp50465
a((dp50466
g2
(lp50467
VAccess control modifiers (, , ) are not meant as a security tool, but as an OO design tool
p50468
aVThey're used to implement OO patterns like encapsulation, inheritance
p50469
aVEven with no getter whatsoever and a private variable, any Java developer can use reflection to access the variable
p50470
aVIf you want to keep something secret, don't ever put it in a variable of a program executed by anyone
p50471
aVKeep it on your own machines
p50472
as(dp50473
g23
V571407
p50474
stp50475
a((dp50476
g2
(lp50477
VIn my experience on a similar architecture, for a quite big project, DTOs are unavoidable and should be used when necessary
p50478
aVWorking with detached entities, especially when they have multiple associations with other entities, not only causes performance problems due to the database loading and serialization, but also a huge complexity
p50479
aVIndeed, unless the code is extremely well documented, it's hard to know in the presentation layer whether a given association is loaded or not, which causes a whole lot of lazy initialization exceptions
p50480
aVIt's even worse if you send back serialized detached entities from the presentation layer to the service layer, because then you end up with code using a mix of detached and attached entities, which makes things even more complex
p50481
aVMy advices would thus be:
p50482
aVtransfer entities from the service layer to the UI layer if the entity is simple and the UI layer doesn't need too many loaded associations
p50483
aVAlways document which of the associations are initialized, and which are not
p50484
aVIf too many associations, use DTOs, and ad hoc queries to load the necessary data from the database
p50485
aVtransfer DTOs from the service layer to the UI layer when a big number of entities are needed (for example, the result of a search form returning O(100) results or more)
p50486
aVUse an ad hoc query to load the requested data
p50487
aVavoid transferring entities from the presentation layer to the service layer
p50488
aVIf you do, make sure that the first thing you do in the service layer is reloading an attached version of the entity from the database, or merging the received entity, in order to always work with attached entities
p50489
aVDebugging a lazy initialization exception thrown in the service layer and cause by the use of a detached entity that has been loaded several minutes ago by a previous screen is not a piece of pleasure
p50490
as(dp50491
g23
V571407
p50492
stp50493
a((dp50494
g2
(lp50495
VWhy don't you use the JSTL instead:
p50496
aVYou wouldn't have to care about the parameter being null, and it would be much cleaner
p50497
aVscriptlets should not be used anymore
p50498
aVAnd that's true for a loooong time
p50499
as(dp50500
g23
V571407
p50501
stp50502
a((dp50503
g2
(lp50504
VYes
p50505
aVThe method will be executed, and thus  and  will take new values
p50506
aVOf course, you might have multiple instances of your class, and thus multiple instances of those two fields
p50507
aVYes
p50508
aVThis code is completele thread-*un*safe
p50509
aVPublic fields in general should almost always be avoided
p50510
aVEspecially in a multi-threaded environment
p50511
aVYes, it's a bad choice
p50512
aVThe scope of a variable should be as small as possible
p50513
aVAnd these variables are used in a single method, and reassigned every time
p50514
aVThey should be local variable
p50515
aVAlso:
p50516
aVa method  should return something, and not just printing something
p50517
aVthe ResultSet and the Statement should be closed, in a finally block
p50518
aVI hope the error management doesn't consist in swallowing the exception
p50519
aVI would advise using spring-jdbc, which takes care of all the plumbing code for you, and avoids all the problems your code currently has
p50520
as(dp50521
g23
V571407
p50522
stp50523
a((dp50524
g2
(lp50525
V returns an array of Objects:
p50526
aVAnd an  can't be cast to a
p50527
aVYou should use
p50528
aVwhich returns a
p50529
aVSee the javadoc
p50530
as(dp50531
g23
V571407
p50532
stp50533
a((dp50534
g2
(lp50535
VI don't see any other way
p50536
aVGuava's explicit ordering would be helpful in this case
p50537
as(dp50538
g23
V571407
p50539
stp50540
a((dp50541
g2
(lp50542
s(dp50543
g23
V571407
p50544
stp50545
a((dp50546
g2
(lp50547
VNo, that's not how you should do
p50548
aVFirst, measure, profile, and prove that loading these additional three fields causes a significant overhead and performance problem
p50549
aVOnce, and only once you have this proof, then consider lazy-loading the additional three fields as explained in the documentation
p50550
aVThen measure once again, and prove that the lazy-loading of these three fields does no cause an even bigger overhead and performance problem
p50551
aVAs stated in the documentation:
p50552
aVHibernate3 supports the lazy fetching of individual properties
p50553
aVThis
p50554
aVoptimization technique is also known as fetch groups
p50555
aVPlease note that
p50556
aVthis is mostly a marketing feature; optimizing row reads is much more
p50557
aVimportant than optimization of column reads
p50558
aVHowever, only loading
p50559
aVsome properties of a class could be useful in extreme cases
p50560
aVFor
p50561
aVexample, when legacy tables have hundreds of columns and the data
p50562
aVmodel cannot be improved
p50563
aVUnless the store_func formula is very expensive, you probably should avoid trying to optimize anything
p50564
as(dp50565
g23
V571407
p50566
stp50567
a((dp50568
g2
(lp50569
VYo have no cascade on the OneToMany association, so any operation you might do on the word entity doesn't cascade to its definitions
p50570
aVMoreover, since the definition entity is the owner of the association, you need to set its word property for Hibernate to persist the association
p50571
as(dp50572
g23
V571407
p50573
stp50574
a((dp50575
g2
(lp50576
VIt depends
p50577
aVBoth exist for a good reason
p50578
aVPrimitives should be preferred as much as possible
p50579
aVThey cost less, and are non-nullable, which avoids quite a lot of potential bugs
p50580
aVA wrapper can be used to represent a nullable value (for example, in JPA, to represent a nullable column value in a database, or in JAXB, to represent an optional element or attribute of an XML element)
p50581
as(dp50582
g23
V571407
p50583
stp50584
a((dp50585
g2
(lp50586
VThe idea of the strategy pattern is to customize some part of a task using a variable strategy
p50587
aVThe context, in the above example, does more than simply compressing a list of files
p50588
aVIt could be, for example, a class that iterates through a folder hierarchy, selects files to compress, puts them in a list, uses the compression strategy, and writes the result of the compression to another location
p50589
aVThis algorithm can be customized by providing a compression strategy, that is only used for the compression step of the whole algorithm
p50590
as(dp50591
g23
V571407
p50592
stp50593
a((dp50594
g2
(lp50595
VThe  field is not initialized
p50596
aVIn the onCreate method, you initialize a local variable also named
p50597
as(dp50598
g23
V571407
p50599
stp50600
a((dp50601
g2
(lp50602
VThe command to use is explained in the SVN book
p50603
aVAssuming you started your maintenance branch at revision 341, and the trunk is at revision 405, and the working copy is pointing to the trunk, the command should be:
p50604
aVsvn merge -r 341:405 http://svn
p50605
aVexample
p50606
aVcom/repos/calc/branches/my-maintenance-branch
p50607
aVRemember that a merge consists in applying a diff from point A to point B into the working copy
p50608
aVHere, points A and points C are in the same branch: the maintenance branch: all the changes you made in this branch must be reapplied on the trunk
p50609
as(dp50610
g23
V571407
p50611
stp50612
a((dp50613
g2
(lp50614
VI don't see the behavior you're seeing
p50615
aVThe following program displays the correct width each time the button is pressed
p50616
aVYou must be displaying the widths of the columns of another table or table column model
p50617
as(dp50618
g23
V571407
p50619
stp50620
a((dp50621
g2
(lp50622
VWith EntityManager, you have the benefit of having a standard interface, and the JPA2 criteria API
p50623
aVIf necessary, you can always get the underlying Hibernate native session, and use that in addition
p50624
aVWith the native Hibernate session, you get more methods (but it's debatable if they're useful or not): , , etc
p50625
aVand the native Hibernate criteria API which, IMHO, is easier to use, although less type-safe, than the JPA2 criteria API
p50626
aVUnless you have to integrate with awhole bunch of code or APIs that use the native Hibernate API, I would go with the EntityManager interface
p50627
as(dp50628
g23
V571407
p50629
stp50630
a((dp50631
g2
(lp50632
VNo, there's no reason to prefer criteria queries over JPQL ones, especially if you consider JPQL queries easy to understand and thus to maintain, and criteria queries hard to understand and maintain (which I agree with)
p50633
aVCriteria queries, if you use the auto-generated metamodel, are hard to write, but once written, you can be sure that there is no syntax error
p50634
aVThat doesn't mean that the query does what it's supposed to do, though
p50635
aVSo in any case, you should unit-test the queries
p50636
aVIf you have unit test covering the queries, then use what you find the most readable and maintainable
p50637
aVEven if there was a performance difference generating the underlying SQL query, this difference would be negligible compared to the cost of actually executing the query
p50638
aVI use Criteria queries only in those two situations (and not even always):
p50639
aVthe query is dynamically composed from a set of optional search criteria
p50640
aVThere are many similar queries sharing a common part, and I want to avoid repeating this common part in each and every query
p50641
aVUsing a criteria allows putting the common parts in a reusable method
p50642
as(dp50643
g23
V571407
p50644
stp50645
a((dp50646
g2
(lp50647
VSuppose you have the following entities:
p50648
aVThe owner side is Student (because it doesn't have the  attribute)
p50649
aVThe inverse side is Course ((because it has the  attribute)
p50650
aVIf you do the following:
p50651
aVHibernate will add an entry for student 4 and course 3 in the join table because you updated the owner side of the association ()
p50652
aVWhereas if you do the following:
p50653
aVnothing will happen, because uou updated the inverse side of the association (), but neglected to updated the owner side
p50654
aVHibernate only considers the owner side
p50655
as(dp50656
g23
V571407
p50657
stp50658
a((dp50659
g2
(lp50660
VRight-click on the folders you don't want to put under SVN, and choose "Add to SVN ignore"
p50661
aVCommit
p50662
aVThe SVN will always ignore this folder
p50663
as(dp50664
g23
V571407
p50665
stp50666
a((dp50667
g2
(lp50668
VHibernate stores a snapshot of the object in memory when it loads it from the database
p50669
aVWhen a flush is done, it compares the state of the object with the snapshot stored at loading time
p50670
aVIf the state hasn't changed, the object is not dirty, and no update will be done for this object, so no version increment either
p50671
as(dp50672
g23
V571407
p50673
stp50674
a((dp50675
g2
(lp50676
VThere is a good reason for the servlet to not forward to the JSP page: one of the statements before the forward throws a SQLException, so the rest of the instructions are skipped, and the catch block is executed
p50677
aVSince the forward is part of the the instructions that are after the statement throwing the exception (and is thus skipped due to the exception), no forward is made
p50678
aVThe exception is probably caused by
p50679
aVI doubt your users are named 3
p50680
aV452 and 67
p50681
aV43 ;-)
p50682
as(dp50683
g23
V571407
p50684
stp50685
a((dp50686
g2
(lp50687
VHow about simply
p50688
aVThat looks quite readable and simple enough to me
p50689
as(dp50690
g23
V571407
p50691
stp50692
a((dp50693
g2
(lp50694
VYou may only modify the collection using methods of the iterator while iterating on the collection
p50695
aVSo you may call , but you may not add an element to the collection using , for example
p50696
as(dp50697
g23
V571407
p50698
stp50699
a((dp50700
g2
(lp50701
VNo, it's not a reasonable thing to do
p50702
aVAn entity is supposed to represent the data that is in the database, and not the date returned by a particular query
p50703
aVI would simply add a ManyToOne association from  to , and search for employments
p50704
aVIf you need the set of persons, just iterate through the employments and add each employment's person to a Set
p50705
aVIf you want the persons associated with their employments at this date, you could use a custom class, or a
p50706
as(dp50707
g23
V571407
p50708
stp50709
a((dp50710
g2
(lp50711
VYes, a reference is basically the same thing as a pointer
p50712
aVBy the way, if you call a method  on a null reference, you get
p50713
aVa NullPointerException
p50714
aVNote that it doesn't have to be a memory address, though
p50715
aVA given object can be stored elsewhere during a program execution, and still keep the same reference
p50716
aVBut you don't need to care, as pointer arithmetic doesn't exist in Java
p50717
as(dp50718
g23
V571407
p50719
stp50720
a((dp50721
g2
(lp50722
VMaybe there's something simpler, but the following would do, I think:
p50723
as(dp50724
g23
V571407
p50725
stp50726
a((dp50727
g2
(lp50728
VNo
p50729
aVEither you have a chain of references starting from a static field, or (and it's probably more often the case) you have a chain of references starting from a local variable on a thread's stack:
p50730
aVIn the above, foo migh in fact reference a whole bunch of other objects, recursively, and they're all non collectable by the GC because the main thread still has the local variable  in its stack
p50731
as(dp50732
g23
V571407
p50733
stp50734
a((dp50735
g2
(lp50736
VRight-click on the jar, click "Properties", then fill the javadoc location
p50737
as(dp50738
g23
V571407
p50739
stp50740
a((dp50741
g2
(lp50742
VExceptions are usually immutable: you can't change their message after they've been created
p50743
aVWhat you can do, though, is chain exceptions:
p50744
aVThe stack trace will look like
p50745
as(dp50746
g23
V571407
p50747
stp50748
a((dp50749
g2
(lp50750
VBecause the javadoc says:
p50751
aVReturns the value of the attribute that has been added, removed or
p50752
aVreplaced
p50753
aVIf the attribute was added (or bound), this is the value of
p50754
aVthe attribute
p50755
aVIf the attribute was removed (or unbound), this is the
p50756
aVvalue of the removed attribute
p50757
aVIf the attribute was replaced, this is
p50758
aVthe old value of the attribute
p50759
aVIn the first case, the old value and the new value are the same, so you see the new dog name
p50760
aVHttpSessionListener is used to be aware of session creation and destruction
p50761
aVHttpSessionAttributeListener  is used to be aware of new, removed and replaced attributes in the session
p50762
aVThey're very different
p50763
as(dp50764
g23
V571407
p50765
stp50766
a((dp50767
g2
(lp50768
V should always be enclosed inside a while loop checking for the wakeup condition, due to spurious wakeups
p50769
aVRead the javadoc for more information
p50770
aVCatching Exception, and swallowing them, is a very bad practice
p50771
aVYour  method should throw InterruptedException
p50772
aVYour release method shouldn't catch Exception
p50773
aVAnd I wouldn't use the semaphore itself as the lock: an external class could use it to synchronize something completely unrelated, and it could lead to bad performance or deadlock
p50774
aVI would use a private final lock object
p50775
as(dp50776
g23
V571407
p50777
stp50778
a((dp50779
g2
(lp50780
VI don't know why you're using a Criteria and a subquery for that, because it makes things less readable than a simple HQL query
p50781
aVThis is the equivalent HQL query:
p50782
aVAnd indeed, you see that this query is invalid:
p50783
aVcomparing an ID with a user is not valid
p50784
aVthe subquery returns all the users references by a UserType, so comparing one user ID with N users is not valid
p50785
aVI don't know what your query should return, so it's hard to fix the code
p50786
aVIf the goal of the query is to return all the users referenced by a UserType, I would use this simple HQL query:
p50787
as(dp50788
g23
V571407
p50789
stp50790
a((dp50791
g2
(lp50792
VThis is explained in the documentation
p50793
aVThe following should do:
p50794
aVI wouldn't put the jar in  though
p50795
aVIt's not a resource of your project, but a compile dependency
p50796
aVI would put it in a lib directory
p50797
as(dp50798
g23
V571407
p50799
stp50800
a((dp50801
g2
(lp50802
VIf you don't close a connection, it won't return to the pool
p50803
aVA connection must ALWAYS be closed, in a finally block, by the method which got it from the pool
p50804
aVYour server or pool might have means to detect that a connection has not been closed, but isn't used anymore, and thus return it to the pool, but you can't rely on such a mechanism
p50805
as(dp50806
g23
V571407
p50807
stp50808
a((dp50809
g2
(lp50810
VFirst request: : shows all the records
p50811
aVNow the user chooses to scroll, edit and save the 100th record, identified by the ID 3542: , with the parameters , , etc
p50812
aVThe server saves the record, and redirects to
p50813
aVSo third request:
p50814
aVThe JSP regenerates the list of records, and highlights the record identified by 3542 (thanks to the value of the parameter )
p50815
aVThe list of records is redisplayed, and since there is #3542 at the end of the URL, the browser looks for an anchor named or identified by 3542
p50816
aVIf found, it automatically scrolls to this location
p50817
aVYou just need to generate such an anchor in your HTML:
p50818
as(dp50819
g23
V571407
p50820
stp50821
a((dp50822
g2
(lp50823
VJust make sure you use the same strategy as your Hibernate generator in the script
p50824
aVFor example, if the sequence is at 2300, and the Hibernate generator increments the sequence by 100 and generates the ID 2301 to 2400 without going to the sequence, do the same in your script
p50825
aVOr stop the application, run your script, and regenerate the sequence with a value that guarantees that the Hibernate generator won't generate an already used ID
p50826
as(dp50827
g23
V571407
p50828
stp50829
a((dp50830
g2
(lp50831
VThe following is already, by itself, a serious problem:
p50832
aVYou're synchronizing on an object referenced by , and immediately make the reference point to another object
p50833
aVThe next thread will thus synchronize on a different object than the first one
p50834
aVThen you're waiting on this object, and hope that someone will notify you
p50835
aVI haven't analyzed more than that, but you have a serious design problem
p50836
aVYou shouldn't synchronize between threads of the servlet container in the first place
p50837
aVIf you have only 6 threads in the pool, and they're all waiting for the 7th one to complete, you have a deadlock
p50838
aVIf you have 12 threads in the pool, and 2 clients do that at the same time, you have a deadlock as well
p50839
aVAnd even if you don't have a deadlock, you make several threads unavailable, doing nothing but wait, hoping that a subsequent HTTP request will notify them
p50840
aVIf the last request doesn't come for a reason or another (the user kills his browser, for example, you have 6 threads blocked forever
p50841
aVMy advice is thus: don't mess with threads
p50842
aVFind another way
p50843
as(dp50844
g23
V571407
p50845
stp50846
a((dp50847
g2
(lp50848
VIt's a compilation error, and the error is quite self-explanatory:
p50849
aVThis means that the argument of the method  must be of type CharSequence, but that you are calling it with an argument of type , which is not a CharSequence
p50850
aVTransform the  arrays to Strings, and, as String implements CharSequence, pass the resulting String to
p50851
aVFor example:
p50852
aVMoreover, I don't really see the point of calling setText() with three different arguments on the same text field
p50853
as(dp50854
g23
V571407
p50855
stp50856
a((dp50857
g2
(lp50858
VI would simply create a Polygon, and use its contains(Point) method
p50859
aVWhy reinvent the wheel
p50860
as(dp50861
g23
V571407
p50862
stp50863
a((dp50864
g2
(lp50865
VYou should be able to use  and  to get the numeric part of the string and cast it to a number
p50866
aVSomething like that (not tested) :
p50867
as(dp50868
g23
V571407
p50869
stp50870
a((dp50871
g2
(lp50872
VYou're running your application in JBoss, and Hibernate is the default persistence provider of JBoss
p50873
aVAs stated in the spec, the persistence provider is optional in persistence
p50874
aVxml
p50875
aVIn this case, the container (JBoss) uses its default provider
p50876
as(dp50877
g23
V571407
p50878
stp50879
a((dp50880
g2
(lp50881
VVelocity and Freemarker are usable outside of a web application
p50882
aVThey're generic HTML template engines
p50883
aVIt's written in their respective welcome pages
p50884
aVTiles isn't really in the same league: unless it has changed drastically since I last used, it, it's only able to assemble various page sections together, but each section must be written as a JSP
p50885
as(dp50886
g23
V571407
p50887
stp50888
a((dp50889
g2
(lp50890
VUnless I misunderstood the question, you can't rollback something that has been done in another transaction
p50891
aVSo what you're doing here doesn't make much sense
p50892
aVA savepoint and a rollback can be used to rollback the operations done since the save point with the connection that you rollback
p50893
aVEverything else is not concerned by the savepoint, and can't be undone
p50894
as(dp50895
g23
V571407
p50896
stp50897
a((dp50898
g2
(lp50899
VAssuming the ID is a string, why not simply use a like clause:
p50900
aVAssuming it's not a string, you could cast it to a string:
p50901
aVor
p50902
as(dp50903
g23
V571407
p50904
stp50905
a((dp50906
g2
(lp50907
VYour code checks that  has a length of 5 characters
p50908
aVBut  is not the number entered by the user
p50909
aVIt's the object of type  that is used to parse what the user enters
p50910
aVSo the result of  is probably something like
p50911
as(dp50912
g23
V571407
p50913
stp50914
a((dp50915
g2
(lp50916
VYou could generate a PDF report using Jasper Reports or BIRT (I'm sure there are other options, but I know about these ones)
p50917
aVYou won't be able to automatically choose or suggest a printer, though
p50918
aVThat's out of the control of the server
p50919
as(dp50920
g23
V571407
p50921
stp50922
a((dp50923
g2
(lp50924
VThat's a JavaScript problem, and doesn't have much to do with JSPs
p50925
aVYou could use jQueryUI, or Dojo, or Twitter Bootstrap, or ExtJS, or any other JavaScript framework that provides such a component
p50926
as(dp50927
g23
V571407
p50928
stp50929
a((dp50930
g2
(lp50931
VYou can't
p50932
aVEither use a SQL query, or use Java code:
p50933
as(dp50934
g23
V571407
p50935
stp50936
a((dp50937
g2
(lp50938
V"Unused code" doesn't mean that you have a syntax error
p50939
aVIt just means that the import is not necessary, because the current code of the class doesn't use the imported class yet
p50940
aVIf you add code inside the class that uses the imported class, the warning will disappear
p50941
aVNote that, with current IDEs, you usually don't bother adding import statements manually
p50942
aVYou use the class without importing it, and use a keyboard shortcut (or autocompletion) to add the necessary imports (and remove the unused ones) automatically
p50943
aVIn Netbeans, the command is "Fix Imports (Ctrl-Shift-I)"
p50944
as(dp50945
g23
V571407
p50946
stp50947
a((dp50948
g2
(lp50949
VWhen a user edits his personal information using the form, the form should be pre-popuated with his current name and phone number
p50950
aVThis way, if he changes only his phone number, he won't touch to the name input field containing his name, and the form will be submitted with his current name and his new phone number
p50951
aVAnd you can update all the fields in database
p50952
aVIt's a UI problem, not a database problem
p50953
as(dp50954
g23
V571407
p50955
stp50956
a((dp50957
g2
(lp50958
VYou're waiting on one object, and notifying on a different one, since ThreadA assigns a new object to Myclass
p50959
aVmyobj and notifies this new object
p50960
aVUse a dedicated lock object, and make sure EVERY access to myObj is guarded by this lock object
p50961
aVOr better yet, use higher-level concurrency abstractions from the java
p50962
aVutil
p50963
aVconcurrent package
p50964
as(dp50965
g23
V571407
p50966
stp50967
a((dp50968
g2
(lp50969
VAFAIK, you can't set a background color on a
p50970
aVInstead, you must set it on each of its enclosed
p50971
aVI would define a CSS class like
p50972
aVand add the class  to the appropriate
p50973
as(dp50974
g23
V571407
p50975
stp50976
a((dp50977
g2
(lp50978
VYou need one parameter per element of the list
p50979
aVAnd all these parameters should have the same name:
p50980
aVIn the servlet, you'll get all your list elements like this:
p50981
aVBeware: the length of a query string is limited
p50982
aVDon't pass a large number of values this way
p50983
as(dp50984
g23
V571407
p50985
stp50986
a((dp50987
g2
(lp50988
VThe original file name is the name of the file on the end-user's machine
p50989
aVYour Spring MVC application runs on your server machine
p50990
aVYou can't use the original file name, hope to find the absolute file name on the end-user machine, and even less try to read the file using this name
p50991
aVTo get the contents of the uploaded file, use  or
p50992
as(dp50993
g23
V571407
p50994
stp50995
a((dp50996
g2
(lp50997
VSpring MVC doesn't care whether the request is a "traditional" request or an AJAX request
p50998
aVExcept for some potential additional header, both types of requests are exactly the same
p50999
aVSo, if you need to refresh part of a page using an AJAX request, you would use a controller like you're doing for a "traditional" page, and then forward to a view which generates the markup for the part of the page that must be refreshed
p51000
aVSo instead of generating a complete HTML page, from  to , the view would only generate a portion of a page
p51001
aVYou could also send make the controller return something other than HTML markup: XML or JSON for example
p51002
aVIn that case, it would be up to the JavaScript function handling the response to use the received data and update the page DOM
p51003
aVThe errors are handled exactly the same way as for "traditional" requests as well
p51004
aVIf there is a  error for example, it's up to the JavaScript code handling the AJAX response to do what it finds appropriate
p51005
aVFor example, displaying an alert popup or something like that
p51006
as(dp51007
g23
V571407
p51008
stp51009
a((dp51010
g2
(lp51011
VAssigning a new Object to a variable is an atomic operation, but if you don't make the reference volatile, or synchronize access to this reference, or use an AtomicReference, you will have visibility problems and see stale values
p51012
as(dp51013
g23
V571407
p51014
stp51015
a((dp51016
g2
(lp51017
VFrom the iterator tag documentation:
p51018
aVstatus - If specified, an instanceof IteratorStatus will be pushed into stack upon each iteration
p51019
aVFor example:
p51020
aVHere is the Javadoc of IteratorStatus
p51021
as(dp51022
g23
V571407
p51023
stp51024
a((dp51025
g2
(lp51026
VUsing a chained expression like  generates an inner join
p51027
aVYou need to assign an alias to the left joined entity and use that alias:
p51028
as(dp51029
g23
V571407
p51030
stp51031
a((dp51032
g2
(lp51033
VYou're mocking a BufferedReader, but your method doesn't use your mock
p51034
aVIt uses its own, new BufferedReader
p51035
aVYou need to be able to inject your mock into the method
p51036
aVIt seems that  is a field of the class containing this method
p51037
aVSo you could mock the inputStream instead and make it throw an IOException when its  method is called (by the InputStreamReader)
p51038
as(dp51039
g23
V571407
p51040
stp51041
a((dp51042
g2
(lp51043
VA JSP is a servlet with a different syntax
p51044
aVIt executes at server-side
p51045
aVHTML5 is a markup language interpreted by browsers, at-client-side
p51046
aVIt has nothing to do with reading properties files
p51047
aVSince JSPs are servlets, they can contain any kind of Java code
p51048
aVSo you read a properties file in a JSP the same way you would do it in any Java application (using the  class)
p51049
aVHowever, in well-designed applications, the JSP is only used as a view, generating markup from data prepared by a controller written in Java
p51050
aVIt's the job of the controller to read a properties file
p51051
aVNot the job of a JSP
p51052
aVI think you should read tutorials and understand what a servlet, a JSP, an HTML page, and MVC are, because you seem quite confused
p51053
as(dp51054
g23
V571407
p51055
stp51056
a((dp51057
g2
(lp51058
VThe servlet context listener is made for that
p51059
aVUse it
p51060
aVYou could use a servlet, but you would have to make sure it's started at deploy time, and before other servlets
p51061
aVAnd which one of all your servlets would have this responsibility
p51062
as(dp51063
g23
V571407
p51064
stp51065
a((dp51066
g2
(lp51067
VYou've added Guice to the runtime dependencies (i
p51068
ag468
aVthe dependencies necessary to run the application, but not to compile it)
p51069
aVAdd it to the compile dependencies:
p51070
aVA compile dependency is also a runtime dependency, obviously
p51071
as(dp51072
g23
V571407
p51073
stp51074
a((dp51075
g2
(lp51076
VEvery web container has its own way of defining data sources, and making them available through JNDI
p51077
aVYou should do that instead
p51078
aVThe native oracle connection pool seems to be creating an MBeanServer, and this is not probably not allowed by the security manager used by Jetty
p51079
aVSee http://wiki
p51080
aVeclipse
p51081
aVorg/Jetty/Feature/Secure_Mode and http://wiki
p51082
aVeclipse
p51083
aVorg/Jetty/Tutorial/Jetty-Policy
p51084
as(dp51085
g23
V571407
p51086
stp51087
a((dp51088
g2
(lp51089
VWhen a session is created, it contains no attribute at all, so only the HttpSessionListener would be called
p51090
aVAnd since it's the only listener called, it's also the first one :-)
p51091
as(dp51092
g23
V571407
p51093
stp51094
a((dp51095
g2
(lp51096
VEvery time  is called, it reads a new line
p51097
aVYou can thus read 3 lines per iteration in your current code
p51098
aVYou should assign the result of the first call to a variable, and use this variable:
p51099
aVYou should also avoid swallowing exceptions
p51100
as(dp51101
g23
V571407
p51102
stp51103
a((dp51104
g2
(lp51105
VJPA can't magically use a table and forbid anyone else to use it
p51106
aVIf you use the same strategy in your other system as the one used by Hibernate to generate your IDs, there's no reason it wouldn't work
p51107
aVSince the allocation size is 1, you probably just need to start a new transaction,  the appropriate row of the sequence table, get its value and increment it by 1
p51108
as(dp51109
g23
V571407
p51110
stp51111
a((dp51112
g2
(lp51113
VIn your suggestion, if the service throws an ObjectNotFoundException, your method also does
p51114
aVWithout changing the signature of the service, what the code does currently is the only way to do it
p51115
aVOr maybe you meant
p51116
aVThis is very similar to the current code
p51117
aVIn any case, what should be done IMHO to make the code cleaner, is extracting the 60 lines of code of the normal path into another method, itself splitted in several sub-methods
p51118
as(dp51119
g23
V571407
p51120
stp51121
a((dp51122
g2
(lp51123
VFrom your comment:
p51124
aVIf the user enters 2012-09-26 and search criteria as less than, I need all the dates which is less than 2012-09-26
p51125
aVThen the restriction should be:
p51126
aVIf the user enters the same date, and the search criterion "greater than", and you use the following restriction:
p51127
aVYou will of course get all the entries with a date and time greater than 2012-09-26 00:00:00, including of course all the entries of the 2012-09-26 date
p51128
as(dp51129
g23
V571407
p51130
stp51131
a((dp51132
g2
(lp51133
VStore the voice receiver in a field, and stop it when the "Stop listening" button is clicked:
p51134
aVNote that I fixed your namings
p51135
aVIn Java, by convention, methods start with a lowercase letter, and classes start with an uppercase letter
p51136
as(dp51137
g23
V571407
p51138
stp51139
a((dp51140
g2
(lp51141
VYou could write your own Criterion implementation, which would generate a SQL clause similar to the one you have in your question, except it would use the dialect associated with the criteria query to get the appropriate concat function and delegate the concatenation to this database-dependant concat function
p51142
as(dp51143
g23
V571407
p51144
stp51145
a((dp51146
g2
(lp51147
VClass
p51148
aVforName() declares that it throws ClassNotFoundException
p51149
aVAnd this is a checked exception
p51150
aVSo you must catch it, or declare that your method throws it as well
p51151
aVLearn about exception handling by reading the Java tutorial
p51152
aVThis is basic stuff that every Java developer must know
p51153
aVOnce you master exceptions, please learn about JDBC
p51154
aVThe JDBC-ODBC driver is something that should not be used anymore, for years
p51155
aVEvery database now has a native JDBC driver
p51156
as(dp51157
g23
V571407
p51158
stp51159
a((dp51160
g2
(lp51161
VThe log4j
p51162
aVproperties file is loaded by the classloader
p51163
aVAll the classes in your webapp use the webapp's classloader, and thus only see the log4j
p51164
aVproperties file that is under
p51165
aVAnd thus, the logs from  that are generated by classes of your webapp use the configuration found in
p51166
aVSo they're written to
p51167
aVIf you want the logs from  to go to test
p51168
aVlog, you'll have to either modify the webapp's log4j
p51169
aVproperties (right solution), or to put those classes out of the webapp, directly in tomcat's classpath (but don't do this)
p51170
as(dp51171
g23
V571407
p51172
stp51173
a((dp51174
g2
(lp51175
VWhen using JDBC, you use an API that is database-agnostic
p51176
aVThe interfaces of this API (Connection, Statement, etc
p51177
aVare implemented by the JDBC driver of the database that you target
p51178
aVSo if you use Oracle, you'll need an oracle driver
p51179
as(dp51180
g23
V571407
p51181
stp51182
a((dp51183
g2
(lp51184
VWhen the PropName class is loaded by the class loader
p51185
aVEnum constants are static final fields of their class
p51186
as(dp51187
g23
V571407
p51188
stp51189
a((dp51190
g2
(lp51191
VThe call to encodeRedirectURL is necessary if you want to support session tracking for browsers with cookie support disabled (i
p51192
ag468
aVusing URL rewriting)
p51193
as(dp51194
g23
V571407
p51195
stp51196
a((dp51197
g2
(lp51198
VSuppose the last correct revision before you made the mess was 1234, and you're now at revison 1240
p51199
aVFollow this procedure:
p51200
aVMake sure your working copy is updated to the last revision, and doesn't contain any local modification (use Check for modifications in the TortoiseSVN menu)
p51201
aVClick "Show log" on the root folder of your working copy
p51202
aVFind the revision 1234
p51203
aVRight-click on it, and choose "Revert to this revision" (and not "Revert changes from this revision")
p51204
aVThis will undo all the commits, from 1240 to 1235, that you made since revision 1234 and make your working copy be like it was at revision 1234
p51205
aVCommit, with the message "Revert all the mess I have introduced since revision 1234"
p51206
as(dp51207
g23
V571407
p51208
stp51209
a((dp51210
g2
(lp51211
VExecute a first query:
p51212
aVThen remove all the found sites from the list of entered sites (since they're already in the database)
p51213
aVThen iterate over the remaining sites, and persist them
p51214
as(dp51215
g23
V571407
p51216
stp51217
a((dp51218
g2
(lp51219
VPausing the EDT while the background thread is running and then resuming it is exactly the same, but in a more convoluted way, as doing the lengthy, blocking operation in the EDT
p51220
aVIt makes no sense
p51221
aVIf you want to prevent users from using the program while the background task is running, simply display a modal dialog, and close it (or allow closing it) once the background task is done
p51222
as(dp51223
g23
V571407
p51224
stp51225
a((dp51226
g2
(lp51227
VFirst of all, DAOs and database entities are two very different things
p51228
aVNow to the question
p51229
aVYou're right
p51230
aVThe database entities are mapped to a database schema, and this database schema should follow the database design best practices, and be normalized
p51231
aVThe UI sometimes dislays exactly the information from a given entity, but often show data that comes from multiple entities, in an aggregate format
p51232
aVOr, to the contrary, they only show a small part of a given entity
p51233
aVFor example, it would make sense for a UI to show a product name, description and price along with the name of its category, along with the number of remaining items in stock, along with the manufacturer of the product
p51234
aVIt would make no sense to have a persistent entity containing all those fields
p51235
as(dp51236
g23
V571407
p51237
stp51238
a((dp51239
g2
(lp51240
VAssuming that  is the context path of your webapp, the code which forwards should use  and not , because, as the javadoc says:
p51241
aVThe pathname must begin with a / and is interpreted as relative to the current context root
p51242
aV(emphasis mine)
p51243
aVAs it is, you're forwarding to , which probably doesn't exist
p51244
as(dp51245
g23
V571407
p51246
stp51247
a((dp51248
g2
(lp51249
VYou need to add the  keyword to load the association:
p51250
aVNote that the name  for an entity representing one user is really badly chosen, and very confusing
p51251
aVSame for the field name
p51252
aVYou should remove the final , which makes every reader think that a configuration has many users
p51253
as(dp51254
g23
V571407
p51255
stp51256
a((dp51257
g2
(lp51258
VIf it's a static file, enclosed in the deployed war file, just put it in the src directory
p51259
aVNetbeans will copy it tothe target location, along with the
p51260
aVclass files
p51261
aVLoad the file using
p51262
aVand the class loader of the webapp will load it will for you
p51263
as(dp51264
g23
V571407
p51265
stp51266
a((dp51267
g2
(lp51268
VNo, there isn't
p51269
aVAnd anyway, most of the collections throw a ConcurrentModificationException if you modify them while iterating on them
p51270
aVNothing forbids you to modify the object contained in the collection, though:
p51271
aVFor lists, you can use a ListIterator to replace the current element while iterating
p51272
aVSee http://docs
p51273
aVoracle
p51274
aVcom/javase/6/docs/api/java/util/ListIterator
p51275
aVhtml
p51276
as(dp51277
g23
V571407
p51278
stp51279
a((dp51280
g2
(lp51281
VEach time you create a new frame, you initialize a single field () with this newly created table
p51282
aVAnd the listener of every button you create populates the table referenced by this unique  variable
p51283
aVThe same goes for your text fields, etc
p51284
aVEither only use local variables, and pass them between methods (for example, you need to pass the table you just created to the method creating the button, in order for this button to populate this table
p51285
aVOr you extract all the code to a new class,  (choose a better name), make the table, textfields and buttons instance fields of this new class, and create a new instance of this MyInternalFrame class each time you need a new one
p51286
aVThis second solution looks like the best one to me
p51287
as(dp51288
g23
V571407
p51289
stp51290
a((dp51291
g2
(lp51292
VThis looks like a good candidate for the template method pattern
p51293
aVDefine an abstract class containing the main method (final), which delegates the specific parts to protected abstract methods
p51294
aVIn each method of your web service, instantiate a subclass of this abstract class which only overrides the two specific abstract methods, and call the main method of this subclass instance
p51295
as(dp51296
g23
V571407
p51297
stp51298
a((dp51299
g2
(lp51300
VA GregorianCalendar represents an instant in time, under our gregorian calendar
p51301
aVIts no-arg constructor initializes it to the current time
p51302
aVA DateFormat is used to format dates
p51303
aVYou can transform a  into a Date using its  method
p51304
aV"EEEE" means the day of the week, in its longest form
p51305
aVThe  method allows adding a value to any field of the calendar (year, month, date, hour, etc
p51306
aVSince you want to iterate through the days of the week, I start from tomorrow, and add 1 day at each iteration
p51307
aVEverything is available in the javadoc
p51308
as(dp51309
g23
V571407
p51310
stp51311
a((dp51312
g2
(lp51313
VLike any other bean: using the constructor annotated with @Autowired, or the default one if there isn't any (or a factory method if one is defined)
p51314
aVWhat you heard is wrong
p51315
aVMost objects are not cloneable, so it would only get an exception by doing that
p51316
aVAnd it would make no sense since
p51317
aVit wouldn't be able to create the first instance
p51318
aVall the instances would be the same as the first one, which is clearly not what is wanted
p51319
as(dp51320
g23
V571407
p51321
stp51322
a((dp51323
g2
(lp51324
VYes, you'll need to find all the orders and remove them
p51325
aVOr you can also execute a JPQL query deleting everything:
p51326
aVNote that your note about CascadeType
p51327
aVREMOVE is wrong: it's JPA that executes the cascade, and not the database
p51328
aVIt's thus supported whatever the database is
p51329
as(dp51330
g23
V571407
p51331
stp51332
a((dp51333
g2
(lp51334
s(dp51335
g23
V571407
p51336
stp51337
a((dp51338
g2
(lp51339
VHibernate EntityManager can be used outside of a Java EE container
p51340
aVSee http://docs
p51341
aVjboss
p51342
aVorg/hibernate/core/4
p51343
aV0/hem/en-US/html_single/#architecture-javase
p51344
aVMoreover, even with the Hibernate native API, since you're using annotations, you don't need any hbm
p51345
aVxml file
p51346
aVJust a central Hibernate config file listing the entities and some Hibernate properties
p51347
as(dp51348
g23
V571407
p51349
stp51350
a((dp51351
g2
(lp51352
VIf you want to refresh the whole page, using AJAX doesn't bring any advantage
p51353
aVIf you only want to refresh some part of the page, then you need to provide a JavaScript callback function that will use the AJAX response, and modify the DOM of the current page
p51354
as(dp51355
g23
V571407
p51356
stp51357
a((dp51358
g2
(lp51359
VNo, it wouldn't complete
p51360
aVSynchronization doesn't prevent  to exit
p51361
aVThat said, unless you use Ctrl-C to kill your program, you have some multi-threading in the project
p51362
aVElse you wouldn't be able to call  while another method is executing
p51363
as(dp51364
g23
V571407
p51365
stp51366
a((dp51367
g2
(lp51368
V is simply a variable that contains the file (or the name of the file) to read
p51369
aVSee the javadoc to check what the FileInputStream constructors take as argument
p51370
as(dp51371
g23
V571407
p51372
stp51373
a((dp51374
g2
(lp51375
VBy just reading the source code of java
p51376
aVio
p51377
aVWriter, that comes with the JDK, you can deduce that you're writing a null String to the Writer, and that causes the NullPointerException
p51378
aVThis happens at , in the file  at line 541
p51379
aVCheck that your Strings aren't null before writing them
p51380
as(dp51381
g23
V571407
p51382
stp51383
a((dp51384
g2
(lp51385
VRemove the 5 last lines of code, and you'll just have the DOM document in memory
p51386
aVStore this document in some field, rather than in a local variable
p51387
aVIf that isn't sufficient, then please explain, with code, what you mean with "if I just try to access the document object below, it comes as empty"
p51388
as(dp51389
g23
V571407
p51390
stp51391
a((dp51392
g2
(lp51393
VYou're making two mistakes:
p51394
aVThe message you get from the compiler is a note, and not a compilation error
p51395
aVFollow the instructions to get details
p51396
aVYou forget to set the classpath when running the app:
p51397
aV(assuming you're on windows, and you're in the directory containing )
p51398
aVIf you're on Unix, replace the  by a
p51399
aVNote that it's bad practice to put classes in the default, root package
p51400
as(dp51401
g23
V571407
p51402
stp51403
a((dp51404
g2
(lp51405
VYou do it as you suggested:
p51406
aVThe only thing that won't work correctly (in my experience) is if you define two persistent fields with the same name in both subclasses
p51407
as(dp51408
g23
V571407
p51409
stp51410
a((dp51411
g2
(lp51412
VIt's completely consistent with the documentation
p51413
aVThe inner service throws an exception, so its transaction is rolled back
p51414
aVThen the exception propagates to the outer service, which causes the outer transaction to also rollback
p51415
aVCatch the exception inside the outer service, and it won't rollback anymore
p51416
as(dp51417
g23
V571407
p51418
stp51419
a((dp51420
g2
(lp51421
VIt's a canonical object array declaration and initialization
p51422
aVThe first line initializes the  variable with a new array of 0 element
p51423
aVThe second one reinitializes the variable with a new array of 10 elements
p51424
as(dp51425
g23
V571407
p51426
stp51427
a((dp51428
g2
(lp51429
VI would use a GroupDAO to only create the group, a UserDAO to only create a user, and a functional service delegating to these two DAOs to create a group with all its users
p51430
aVIts code would look like the following:
p51431
as(dp51432
g23
V571407
p51433
stp51434
a((dp51435
g2
(lp51436
VThe following query should do what you want
p51437
aVNo idea if there's a better alternative:
p51438
aVwhere  is the number of words contained into the collection of words to match
p51439
aVOf course, this collection must not contain any duplicate
p51440
aVTo explain what the query does: it checks that the number of words in the set of words to match is equall to the number of words parts of this set and referenced by the sentence
p51441
as(dp51442
g23
V571407
p51443
stp51444
a((dp51445
g2
(lp51446
VI guess that the toString() method of the stub doesn't actually call the toString() method of the remote CORBA object
p51447
aVTry using another method name (like ), and use a custom renderer which calls this method
p51448
aVThat said, is it really a good idea to model a User as a remote CORBA object
p51449
aVThat will cause a lot or remote method calls just to display the names of the users, and thse method calls are basically out of your control, since the Swing components will make them
p51450
aVShouldn't you use DTOs instead
p51451
as(dp51452
g23
V571407
p51453
stp51454
a((dp51455
g2
(lp51456
VCollections
p51457
aVemptySet() is a typical example of a singleton that can't be implemented as a static class since, obviously, its goal is to be an instance of the  interface
p51458
aVIt's not costly to create, but it would be stupid to create a new instance each time an empty set is needed, since the unique instance can be reused
p51459
as(dp51460
g23
V571407
p51461
stp51462
a((dp51463
g2
(lp51464
VYour association is a One To Many
p51465
aVThis means that One user can have Many books
p51466
aVIf you want to be able to have a book shared by several users, make it a ManyToMany association: a user would have several books, and a book would have several users
p51467
as(dp51468
g23
V571407
p51469
stp51470
a((dp51471
g2
(lp51472
VYou need to make your class generic:
p51473
as(dp51474
g23
V571407
p51475
stp51476
a((dp51477
g2
(lp51478
VFirst of all, the mapping is wrong
p51479
aVIn the parent class, you're saying that the association is mapped by , and immediately after you're saying that it's mapped using a join column named
p51480
aVMake up your mind
p51481
aVEither it's mapped by the  property, and you should remove the
p51482
aVOr it's mapped by the JoinColumn and you should remove the  in the child, and use  in the Child entity
p51483
aVNow, to make your quary work, whatever the mapping is, you should simply make an inner join:
p51484
aVSince the join is an inner join, it will only select parents that have a non-null child
p51485
as(dp51486
g23
V571407
p51487
stp51488
a((dp51489
g2
(lp51490
VYou need an explicit join to do that:
p51491
as(dp51492
g23
V571407
p51493
stp51494
a((dp51495
g2
(lp51496
VYou could use the following query:
p51497
aVwhere  is the number of tags in the set of tags that must be matched
p51498
as(dp51499
g23
V571407
p51500
stp51501
a((dp51502
g2
(lp51503
VBecause the collections using equals will use the  method (potentially overridden in MyClass, and thus called polymorphically), which is different from the
p51504
aVOverloading a method defines a new, different method, that happens to have the same name as another one
p51505
as(dp51506
g23
V571407
p51507
stp51508
a((dp51509
g2
(lp51510
VYou probably launch the same program again and again from eclipse, and these programs never exit
p51511
aVSwitch to the Debug perspective, and look at the Debug view
p51512
aVKill all the processes that should not run anymore
p51513
aVThat said,  is very very far from
p51514
aVAnd I doubt any Java program can be as light as 26KB
p51515
as(dp51516
g23
V571407
p51517
stp51518
a((dp51519
g2
(lp51520
VFrom wikipedia:
p51521
aVWhen data that has been entered into HTML forms is submitted, the form field names and values are encoded and sent to the server in an HTTP request message using method GET or POST, or, historically, via email
p51522
aV2 The encoding used by default is based on a very early version of the general URI percent-encoding rules, with a number of modifications such as newline normalization and replacing spaces with "+" instead of "%20"
p51523
aVSo + is a valid way of encoding a space
p51524
aVBTW, this is clearly documented:
p51525
aVUtility class for HTML form encoding
p51526
aVThis class contains static methods for converting a String to the application/x-www-form-urlencoded MIME format
p51527
ag7651
aVThe space character " " is converted into a plus sign "+"
p51528
as(dp51529
g23
V571407
p51530
stp51531
a((dp51532
g2
(lp51533
VIf you're just interested in the language, simply use  to transform a locale into a String, and  to transform the String into a Locale
p51534
aVIf you want to store the whole Locale, use , and a custom method that splits on  to transform the string into the three parts of a Locale
p51535
as(dp51536
g23
V571407
p51537
stp51538
a((dp51539
g2
(lp51540
VNo, you can't
p51541
aVThis would break the contract of the superclass, which says: this method accepts a IAppendOnlyData as second argument
p51542
aVRemember that an instance of a subclass is also an instance of its superclass
p51543
aVSo anyone could refer to the subclass instance as its superclass, and call the base method, passing a IAppendOnlyData, without knowing that the instance is actually a subclass instance
p51544
aVRead more about the Liskov substitution principle
p51545
aVThe only way to do that is to make the superclass generic:
p51546
as(dp51547
g23
V571407
p51548
stp51549
a((dp51550
g2
(lp51551
VIf you want to modify an existing , then you must set its ID, or get it from the session and modify it
p51552
aVElse, Hibernate thinks it's a new one that must be saved, since it doesn't have any ID
p51553
aVTo make sure you don't save two UserDetail instances for the same user, you should add a unique constraint on the  column of the  database table
p51554
as(dp51555
g23
V571407
p51556
stp51557
a((dp51558
g2
(lp51559
VThe query is invalid
p51560
aVBut this one should do:
p51561
as(dp51562
g23
V571407
p51563
stp51564
a((dp51565
g2
(lp51566
VI don't know anything about Hadoop, but based on the documentation of the interface, you could probably do it like that:
p51567
as(dp51568
g23
V571407
p51569
stp51570
a((dp51571
g2
(lp51572
VThe visibility modifiers in Java are not a security tool, but an OO design tool
p51573
aVWhatever you might do, if someone uses your class, it can access any private members of any class using reflection
p51574
aVIf your objects contain confidential information, leave these objects in your secure server
p51575
as(dp51576
g23
V571407
p51577
stp51578
a((dp51579
g2
(lp51580
VI would remove the  from the mapping, since it says that as soon as you remove an element from the collection, it should be removed (which is clearly not what you want)
p51581
as(dp51582
g23
V571407
p51583
stp51584
a((dp51585
g2
(lp51586
VIn addition to the other answer, I would like to note that doing that is not necessarily a good idea, since you might have a cache in your app that uses SoftReferences
p51587
aVSuch a cache would release memory as soon as the JVM reaches its memory limits
p51588
aVAllocating memory, even if there's not enough free memory, would first cause memory to be released by the soft references, and make it available for the allocation
p51589
as(dp51590
g23
V571407
p51591
stp51592
a((dp51593
g2
(lp51594
VThis map is a non-thread-safe object shared by multiple threads
p51595
aVSo every access to the map should be synchronized
p51596
aVYou have various options:
p51597
aVhave each client of the map synchronize on the map itself: very fragile
p51598
aVuse a thread-safe map like  or ConcurrentHashMap
p51599
aVThis will never let the map in an inconsistent state, but additional synchronization could still be needed for operations that should be atomic but involve several method calls on the map
p51600
aVencapsulate the map into an object of your own, and make sure that this object provides all the necessary operations that need to be done on the map
p51601
aVThese operations should of course perform the necessary synchronization
p51602
aVThe third solution is probably the best one
p51603
aVThe second one might be OK if the operations on the map are very simple, and coveredby methods of the map
p51604
aVRegarding the generation of unique and random strings, you could combine a UUID (for uniqueness) and a Random (or SecureRandom, depending on your requirements), for the randomness
p51605
as(dp51606
g23
V571407
p51607
stp51608
a((dp51609
g2
(lp51610
VIf one side of an association is a ManyToOne, the other side must be a OneToMany, not a OneToOne
p51611
aVEvery topic has multiple views (and one of these views is for the current user)
p51612
aVEach user has multiple views (and one of these views is for a given topic)
p51613
aVSo you have two OneToMany/ManyToOne associations
p51614
aVIt's not clear what you want to do, but I think you'll need to execute a query to get what you want
p51615
aVIf what you want is the list of views associated with the current user and corresponding to a given list of topics, the query simply is
p51616
aVNo need for 50 queries if you have 50 topics
p51617
aVThe above one retrieves all the views at once
p51618
as(dp51619
g23
V571407
p51620
stp51621
a((dp51622
g2
(lp51623
VGoogling for "tag file in jar" leads to this Oracle documentation, which says:
p51624
aVTag files can be packaged in the /META-INF/tags/ directory in a JAR
p51625
aVfile installed in the /WEB-INF/lib/ directory of the web application
p51626
aVTags placed here are typically part of a reusable library of tags that
p51627
aVcan be used easily in any web application
p51628
aVTag files bundled in a JAR require a tag library descriptor
p51629
aVTag files
p51630
aVthat appear in a JAR but are not defined in a TLD are ignored by the
p51631
aVweb container
p51632
aVNote that your tag is a custom JSP tag, and not a JSTL tag
p51633
aVJSTL is the JSP standard tag library, and your custom tag is not part of this standard library
p51634
as(dp51635
g23
V571407
p51636
stp51637
a((dp51638
g2
(lp51639
VNo, it's not thread safe
p51640
aVYou make sure only one thread can change the values in your  at a time if it uses the  method, but you also provide a getter for this object, so any other thread could call  concurrently
p51641
as(dp51642
g23
V571407
p51643
stp51644
a((dp51645
g2
(lp51646
VIt's a groovy thing
p51647
aVOperators can be overloaded in Groovy by declaring a method on the object the operator is applied on
p51648
aVIn this case, the method is leftShift()
p51649
aVSee http://groovy
p51650
aVcodehaus
p51651
aVorg/Operator+Overloading for more information
p51652
as(dp51653
g23
V571407
p51654
stp51655
a((dp51656
g2
(lp51657
VUse
p51658
aVIt returns an uninitialized proxy on the entity, without going to the database
p51659
aVYour use-case is the main reason for the existence of this method
p51660
as(dp51661
g23
V571407
p51662
stp51663
a((dp51664
g2
(lp51665
VYou should not subclass the JTable itself, but the table model:
p51666
aVOr even better, don't use a DefaultTableModel, and use an AbstractTableModel that directly gets the information in your business objects rather than copying all the information from the business objects to Vectors
p51667
as(dp51668
g23
V571407
p51669
stp51670
a((dp51671
g2
(lp51672
VCasting an object to a given class or interface is only possible if the casted object indeed extends this class or implements this interface
p51673
aVIf it does not (i
p51674
ag468
aVif the object is not an instance of the the class or interface), you'll get a ClassCastException
p51675
aVNotev that casting an object to a class doesn't change the type of the object
p51676
aVIt only allows referencing it as another type, that it also is, extends or implements
p51677
aVLet's see your examples:
p51678
aVThis first casts the object , which is of type
p51679
aVto the interface
p51680
aVThis is OK since B extends A, and A implements I, which means that B also implements I
p51681
aVThen it casts the same object a second time to the class
p51682
aVis an instance of , so this works
p51683
aVThis casts the object , which is of type , to the class
p51684
aVA doesn't extend C, so this is impossible
p51685
as(dp51686
g23
V571407
p51687
stp51688
a((dp51689
g2
(lp51690
VNo
p51691
aVIt uses a connection pool, as described in the documentation
p51692
aVSo connections are retrieved from a pool, and, when closed, they simply go back to the pool
p51693
as(dp51694
g23
V571407
p51695
stp51696
a((dp51697
g2
(lp51698
VThe constructor has an argument of type , but you don't pass anything as argument
p51699
aVYou need to create an array, and pass it as argument:
p51700
aVNote that this constructor argument isn't useful at all, since you don't do anything with it in the constructor
p51701
aVInstead, you overwrite it with a new array
p51702
aVI would simply remove the array argument
p51703
as(dp51704
g23
V571407
p51705
stp51706
a((dp51707
g2
(lp51708
VThe error message says it all: you try to autowire an instance of IManager, but two different Spring components implement this interface, so Spring doesn't know which one to autowire
p51709
aVYou need to use the @Qualifier annotation to specify which one you want Spring to autowire
p51710
as(dp51711
g23
V571407
p51712
stp51713
a((dp51714
g2
(lp51715
VGiven the error message, I would guess that Java is looking for the file name , with a trailing comma
p51716
as(dp51717
g23
V571407
p51718
stp51719
a((dp51720
g2
(lp51721
VThe reverse should be done
p51722
aVSince the DataInputStream wraps the FileInputStream, you should close it, which would also close the FileInputStream
p51723
as(dp51724
g23
V571407
p51725
stp51726
a((dp51727
g2
(lp51728
VYou need to provide two arguments
p51729
aVThe first one needs to be of type  (and  qualifies), and the second one needs to be an int
p51730
aVSo, for example:
p51731
aVOf course, that's only a technical answer
p51732
aVWhat you should really pass as argument depends on what the method does with its arguments (which should be specified in its javadoc), what the arguments mean (which should be specified in its javadoc), and what you want the method to do for you (which you should know)
p51733
aVAlso, note that since the method is declared as , it doesn't return anything
p51734
aVSo doing  doesn't make any sense
p51735
as(dp51736
g23
V571407
p51737
stp51738
a((dp51739
g2
(lp51740
V is a static include directive
p51741
aVThis means that it's evaluated at compilation time, and thus can't use dynamic file names
p51742
aVUse a dynamic include to do what you want:
p51743
aVYou'll need to store  in a request attribute for the included page to use it, though
p51744
aVAnd please, learn how to use the JSP EL
p51745
aVScriptlets should not be used anymore
p51746
as(dp51747
g23
V571407
p51748
stp51749
a((dp51750
g2
(lp51751
VApostrophes must be doubled in a message format pattern:
p51752
as(dp51753
g23
V571407
p51754
stp51755
a((dp51756
g2
(lp51757
VUsing Guava:
p51758
as(dp51759
g23
V571407
p51760
stp51761
a((dp51762
g2
(lp51763
VAn EJB is a Java component, containing business logic, that you deploy in a container, and that benefits from technical services provided by the container, usually in a declarative way, thanks to annotations:
p51764
aVtransaction management: a transaction can be started automatically before a method of the EJB is invoked, and committed or rollbacked once this method returns
p51765
aVThis transactional context is propagated to calls to other EJBs
p51766
aVsecurity management: a check can be made that the callerhas the necessary roles to execute the method
p51767
aVdependency injection: other EJBs, or resources like a JPA entity manager, a JDBC datasource, etc
p51768
aVcan be injected into the EJB
p51769
aVconcurrency: the container makes sure that only one thread at a time invokes a method of your EJB instance
p51770
aVdistribution: some EJBs can be called remotely, from another JVM
p51771
aVfailover and load-balancing: remote clients of your EJBs can automatically have their call redirected to another server if necessary
p51772
aVresource management: stateful beans can automatically be passicated to disk in order to limit the memory consumption of your server
p51773
aVI probably have forgotten some points
p51774
as(dp51775
g23
V571407
p51776
stp51777
a((dp51778
g2
(lp51779
VThe program is not complete (no main method, no JFrame), but you don't have any DobbelSteen instance displayed in this program
p51780
aVThe DobbelSteen rolled by the displayed button ()  is never added to any panel, so rolling it won't change anything in the appearance of the application
p51781
as(dp51782
g23
V571407
p51783
stp51784
a((dp51785
g2
(lp51786
VA jar file is a zip file with a  file extension
p51787
aVAny zip tool will do
p51788
as(dp51789
g23
V571407
p51790
stp51791
a((dp51792
g2
(lp51793
VIf you want to modify the input array, you don't need to return anything:
p51794
aVIf you want to make a new array, containing the first 4 elements of the input array incremented by 1, then the code to use is
p51795
as(dp51796
g23
V571407
p51797
stp51798
a((dp51799
g2
(lp51800
VHere are the possible reasons for this code to return null:
p51801
aVthe second call is sent after the session has timed out
p51802
aVyou restarted the server or redeployed the app between the two calls
p51803
aVyou restarted your browser between the two calls
p51804
aVyou used two different browsers or machines to perform the two calls
p51805
aVthe browser rejects cookies, and you didn't encode your URLs properly for url-rewriting session tracking to work
p51806
aVanother call between the two calls invalidated the session
p51807
aVboth servlets are in fact not in the same webapp
p51808
as(dp51809
g23
V571407
p51810
stp51811
a((dp51812
g2
(lp51813
VTransform X, Y and Z into JSON arrays:
p51814
as(dp51815
g23
V571407
p51816
stp51817
a((dp51818
g2
(lp51819
VThat looks quite fast, IMHO
p51820
aVI've seen much slower integration tests
p51821
aVThat said, there are various approaches that could make your tests faster:
p51822
aVreduce the amount of inserted data
p51823
aVavoid inserting the same data as the previous test if the data sets are identical and the previous test is a read-only test (which is often the case, especially if you rollback at the end of each test)
p51824
aVI guess doing it with DbUnit should be possible
p51825
aVIf you're ready to use another framework, you could use my own DbSetup, which supports that out of the box
p51826
as(dp51827
g23
V571407
p51828
stp51829
a((dp51830
g2
(lp51831
VMake sure to expand the path from the parent of the new node to the root each time you add a new child node:
p51832
as(dp51833
g23
V571407
p51834
stp51835
a((dp51836
g2
(lp51837
VYou don't do anything with the criteria argument in the constructor:
p51838
as(dp51839
g23
V571407
p51840
stp51841
a((dp51842
g2
(lp51843
VIf the text is in a  object, you don't even need a tag
p51844
aVStore the Properties object in a request attribute (, for example), and use the following EL expression:
p51845
aVor, if the key contains characters that can't be used in a Java identifier:
p51846
aVIf you still want to write a custom tag, then googling for "custom JST tag" leads to the following tutorial: http://docs
p51847
aVoracle
p51848
aVcom/javaee/5/tutorial/doc/bnalj
p51849
aVhtml
p51850
as(dp51851
g23
V571407
p51852
stp51853
a((dp51854
g2
(lp51855
VFrom the MySQL documentation:
p51856
aVA DATETIME or TIMESTAMP value can include a trailing fractional
p51857
aVseconds part in up to microseconds (6 digits) precision
p51858
aVAlthough this
p51859
aVfractional part is recognized, it is discarded from values stored into
p51860
aVDATETIME or TIMESTAMP columns
p51861
aVFor information about fractional
p51862
aVseconds support in MySQL, see Section 11
p51863
ag10
ag194
aV6, \u201cFractional Seconds in
p51864
aVTime Values\u201d
p51865
aVNote that you shouldn't use equals to compare dates anyway, because the various Date subclasses have buggy implementations, which cause problems such as :
p51866
as(dp51867
g23
V571407
p51868
stp51869
a((dp51870
g2
(lp51871
VClasses that are not in the  package must be imported to be used:
p51872
aVRead more about packages and imports in the Java tutorial
p51873
as(dp51874
g23
V571407
p51875
stp51876
a((dp51877
g2
(lp51878
VYou could simply generate the link yourself:
p51879
as(dp51880
g23
V571407
p51881
stp51882
a((dp51883
g2
(lp51884
VYes, you're right
p51885
aVTesting it would have told you
p51886
as(dp51887
g23
V571407
p51888
stp51889
a((dp51890
g2
(lp51891
VThere is no need to do that, as it's done automatically by the transaction interceptor already: by default, a Hibernate session is flushed automatically before the transaction commits
p51892
aVSo if your service is transactional (and it should be, to work with Hibernate), the session will be flushed automatically
p51893
as(dp51894
g23
V571407
p51895
stp51896
a((dp51897
g2
(lp51898
VYou asked for cars, and since FourByFour extends Car, a FourByFour is a Car, so the query also returned FourByFour instances
p51899
aVHibernate queries are polymorphic
p51900
aVJust like when you go to a car store and they show you all their cars, even if they're SUVs, Monospaces or Hybrid cars
p51901
aVTo restrict to a specific class instance, you must add an additional criterion:
p51902
as(dp51903
g23
V571407
p51904
stp51905
a((dp51906
g2
(lp51907
VIt looks like your tech-lead, as often, has escaped his role of developer because he wasn't good at it
p51908
aVMy advices would be:
p51909
aVprefer runtime exceptions over checked exceptions, especially if you're not the only client of your API
p51910
aVUsing a checked exception forces every client to handle the exception, even if it can't do anything about it
p51911
aVIf this is really what you want to do (i
p51912
ag468
aVforcing the caller to handle it), then a checked exception is what you want
p51913
aVif the only thing the client can do when an exception happens is displaying a more or less generic error message such as "oops, something bad happened, please retry or go back to the welcome page", then definitely use runtime exceptions
p51914
aVMost of the presentation frameworks provide a way to use a generic error handler
p51915
aVdefinitely use exceptions that are linked to your abstraction layer
p51916
aVThrowing a SQLException from a high-level service is not adequate
p51917
aVUse existing exception types when they're appropriate (like IllegalArgumentException to signal an illegal argument)
p51918
aVOtherwise, wrap the low-level exception into a higher-level, appropriate exception type
p51919
aVWhat is costly is to throw an exception
p51920
aVWhether it wraps another one or not doesn't matter much
p51921
aVAnd it should only happen exceptionally anyway
p51922
as(dp51923
g23
V571407
p51924
stp51925
a((dp51926
g2
(lp51927
VAsk the list for the  stored at the given index: See http://docs
p51928
aVoracle
p51929
aVcom/javase/6/docs/api/java/util/List
p51930
aVhtml#get%28int%29
p51931
aVThen use the methods provided by the  class to modify its internal state
p51932
aVMy guess is that it has a  and a  methods (it should have those if you need to change its coordinates, anyway)
p51933
as(dp51934
g23
V571407
p51935
stp51936
a((dp51937
g2
(lp51938
VThe main problem is your algorithm
p51939
aVInstead of
p51940
aVYou should have
p51941
ag43056
ag468
aVThe runnable passed to  is executed in the event dispatch thread
p51942
aVIt must not execute long-running tasks
p51943
aVLooping endlessly is a very long running task
p51944
as(dp51945
g23
V571407
p51946
stp51947
a((dp51948
g2
(lp51949
VIt's pretty easy:
p51950
aVOr even simpler, without any query:
p51951
aVEDIT : to know if a given role is referenced by at least one user, you can use the following query, which is very similar to your SQL query:
p51952
as(dp51953
g23
V571407
p51954
stp51955
a((dp51956
g2
(lp51957
VPMD isn't the right tool for this
p51958
aVYou should use FindBugs to catch such problems
p51959
aVBut even with FindBugs, you won't catch anything because the above code is perfectly reasonable, and doesn't have any bug, unless you know that  can return null, and that there is something better to do than throwing a NullPointerException in this case
p51960
aVIf such code triggered an error, basically every line of code which calls a method on an object returned by another method would trigger an error
p51961
aVFindBugs supports annotations that allows declaring that the caller of a method should always check for null on the result returned by this method
p51962
aVSee http://findbugs
p51963
aVsourceforge
p51964
aVnet/manual/annotations
p51965
aVhtml
p51966
aVBut of course, for third-party code, you can't do anything (other than writing your own rules)
p51967
as(dp51968
g23
V571407
p51969
stp51970
a((dp51971
g2
(lp51972
VUsing the Criteria API, you can't
p51973
aVYou can only query from a root entity and create aliases or subcriterias to navigate to other entities through their associations
p51974
aVSelecting from two entities at once is not possible with this API
p51975
aVIt's possible using HQL, though
p51976
as(dp51977
g23
V571407
p51978
stp51979
a((dp51980
g2
(lp51981
VRemove the  declaration from the class
p51982
aVAdd it to the main method:
p51983
aVAnd add an argument  to each method which needs to access it
p51984
aVFor example:
p51985
as(dp51986
g23
V571407
p51987
stp51988
a((dp51989
g2
(lp51990
VNo, jar files are not supposed to contain other jar files
p51991
aVIt's possible to do so, but only with custom class loaders that make everything more complex
p51992
aVWhy don't you just zip the jar and all its dependencies together:
p51993
as(dp51994
g23
V571407
p51995
stp51996
a((dp51997
g2
(lp51998
VThat's what you do by default when persisting a Many:
p51999
aVIf you just need a reference to the one, without actually loading it from the DB, use  instead of
p52000
aVWhatever you do, only the database can guarantee the coherence of your data (since another transaction could delete the one after you've loaded it and attached to the many), so you need a foreign key constraint in database
p52001
as(dp52002
g23
V571407
p52003
stp52004
a((dp52005
g2
(lp52006
VAssertions and preconditions are not the same thing
p52007
aVAssertions check that invariants are respected: it checks that your own algorithm work as expected
p52008
aVFor example, that the numbers produced by your random generator are always positive
p52009
aVThey can be deactivated once you have checked that everything worked fine and that you had no assertion failures
p52010
aVGuava preconditions check that the caller does not pass invalid arguments or do not call methods that shouldn't be called
p52011
aVFor example, that the limit passed as argument to the  method is bigger than 0, or that  is not called after the random generator has started
p52012
aVIf your goal is to enforce that the caller of your API respects its contract, I would thus use Guava preconditions, and not assertions
p52013
as(dp52014
g23
V571407
p52015
stp52016
a((dp52017
g2
(lp52018
VIt's only a warning, and I guess it has two reasons:
p52019
aVit's redundant, and can thus be removed
p52020
aVThe less noise you have the better it is
p52021
aVBut this is a matter of style
p52022
aVit tells you that you don't need to implement any of the interface method in B, since they're already implemented in A
p52023
aVAnd implementing the interface methods would thus not only implement the interface, but also override the default implementation in the superclass
p52024
as(dp52025
g23
V571407
p52026
stp52027
a((dp52028
g2
(lp52029
VYou're making it harder than necessary
p52030
aVWhy not just use the following:
p52031
as(dp52032
g23
V571407
p52033
stp52034
a((dp52035
g2
(lp52036
VYou could simply make the SQL query which returns everything, and build the graph of objects from the result set
p52037
aVUsing maps to keep an association between IDs and the corresponding objects:
p52038
aVAt the end of the loop, you have all the customers, each with their orders, each with their items
p52039
as(dp52040
g23
V571407
p52041
stp52042
a((dp52043
g2
(lp52044
VSpring itself recommends not using HibernateTemplate anymore, in the javadoc of the class
p52045
aVYou can declare the session factory as a Spring bean directly, inject it as any other Spring bean in your own components, and use the native Hibernate API directly (using sessionFactory
p52046
aVgetCurrentSession())
p52047
as(dp52048
g23
V571407
p52049
stp52050
a((dp52051
g2
(lp52052
VYes, your solution is alright
p52053
aVJust implement the setter like this:
p52054
aVUsing inheritance is not a good idea: When an entity has a given type, it can't become something other
p52055
aVSo changing the state would be impossible with an inheritance strategy
p52056
as(dp52057
g23
V571407
p52058
stp52059
a((dp52060
g2
(lp52061
VCalling  will only do what it always does in Java: call the no-arg constructor of the  class
p52062
aVTo get a reference to an EJB, you need to have it injected into your managed bean, or to retrieve a reference to the EJB using JNDI
p52063
as(dp52064
g23
V571407
p52065
stp52066
a((dp52067
g2
(lp52068
VYou store the attributes as  and , and get them in the servlet as  and
p52069
aVCheck the spelling of your attributes, or even better, define constants and use them everywhere, to avoid such typos
p52070
aVThat said, a well designed application should dispatch from a servlet to a JSP, and not from a JSP to a servlet
p52071
aVJSPs should not use scriptlets and should only be used to generate markup using EL, the JSTL and other custom tags
p52072
as(dp52073
g23
V571407
p52074
stp52075
a((dp52076
g2
(lp52077
VYou have several things wrong:
p52078
aVinserting data must be done with executeUpdate(), and not executeQuery()
p52079
aVyou should learn about prepared statements which would avoid SQL injection attacks and incorrect queries if your parameters contain characters like quotes, which must be escaped
p52080
aVyou should not ignore SQLExceptions as you're doing, since they contain the error message which would help identifying the problem
p52081
aVDon't catch those exceptions
p52082
aVIf you catch them, throw a runtime exception wrapping them
p52083
as(dp52084
g23
V571407
p52085
stp52086
a((dp52087
g2
(lp52088
VYes, you always need to use transactions to access a database using Hibernate (and even without actually)
p52089
aVI just wouldn't use MyISAM, since, as you said, it isn't a transactional DB engine
p52090
aVThe best place to put the  annotation is on your functional services, in the service layer
p52091
aVEither you introduce a real service layer, or you consider that the DAO layer is in fact your service layer
p52092
aVBut beware that if your controller must save a foo using the FooDAO, and a bar using the BarDAO, and if these two insertions should be done transactionally, then you have a big problem
p52093
aVThat's why a service layer is so important: it can access multiple DAOs in a single transaction
p52094
as(dp52095
g23
V571407
p52096
stp52097
a((dp52098
g2
(lp52099
V returns an array of type
p52100
aVAnd  and  are different types
p52101
aVIf you want an array of , you must use the following code:
p52102
aVSee the javadoc for more details
p52103
aVNote that  violates the Java naming conventions, and that having two variables, one named  and the other named , is really a bad idea (unless you want your code to be as unreadable as possible)
p52104
as(dp52105
g23
V571407
p52106
stp52107
a((dp52108
g2
(lp52109
VAs I said in my comment,  returns true if the next token in the stream is an int, and false if it is not an int
p52110
aVOnce the loop has read the last int,  simply waits for the next token to be entered to decide if it's a valid integer or not
p52111
aVIf you want to stop the loop, you need to enter something which is not an integer
p52112
as(dp52113
g23
V571407
p52114
stp52115
a((dp52116
g2
(lp52117
VA session ID must uniquely identify a session on a server, or on a cluster of servers
p52118
aVYou don't have any guarantee of uniqueness across restarts
p52119
aVWhy don't you simply use a database sequence, or a UUID
p52120
as(dp52121
g23
V571407
p52122
stp52123
a((dp52124
g2
(lp52125
VA write being atomic means that the write is executed as a single, atomic operation
p52126
aVNo other thread could see something other than the value before the assignment, or after the assignment
p52127
aVFor example, in the case of long values, an assignment is not atomic because it's actualy executed as two operations: one which assigns the first 32 bits, and one which assigns the last 32 bits
p52128
aVSo another thread might read the variable's value after only one of the two operations has been executed, ans thus see a value that is neither the before nor the after value, but an "in-between" value
p52129
aVWhat your program demonstrates is that writing to a variable without any kind of synchronization causes visibility problems between threads
p52130
aVThe write done by one thread is not visible by another thread
p52131
aVThis is due to processors each having their own cache, and not writing to the main memory at each assignment
p52132
aVTo make sure a write is visible, you need to make the variable volatile, or to synchronize access to the variable, or to use an AtomicInteger
p52133
as(dp52134
g23
V571407
p52135
stp52136
a((dp52137
g2
(lp52138
VYou should use the generic version of ArrayList, and not the raw version:
p52139
aVIf you just use , the compiler doesn't know what your list contains, so everything is considered as an
p52140
aVAnd you thus need to cast the returned object to its actual type:
p52141
as(dp52142
g23
V571407
p52143
stp52144
a((dp52145
g2
(lp52146
VYour client calls  on its scanner, and this method, as it names indicates, returns the next line
p52147
aVSo your client can't print anything until the complete next line is available
p52148
aVHere's what the javadoc says about :
p52149
aVAdvances this scanner past the current line and returns the input that
p52150
aVwas skipped
p52151
aVThis method returns the rest of the current line,
p52152
aVexcluding any line separator at the end
p52153
aVThe position is set to the
p52154
aVbeginning of the next line
p52155
aVSince this method continues to search through the input looking for a
p52156
aVline separator, it may buffer all of the input searching for the line
p52157
aVto skip if no line separators are present
p52158
as(dp52159
g23
V571407
p52160
stp52161
a((dp52162
g2
(lp52163
VArrays are objects, and object references are passed by value in Java
p52164
aVSo calling this method makes  be a copy of the reference to the contact array passed as argument
p52165
aVNo copy of the array elements is made
p52166
aVNo copy of the array is made
p52167
as(dp52168
g23
V571407
p52169
stp52170
a((dp52171
g2
(lp52172
VI think the problem is that your JSP doesn't contain valid JSON data
p52173
aVKeys should be surrounded by double quotes to make it valid JSON:
p52174
aVUse jsonlint
p52175
aVcom to check the validity of your JSON
p52176
as(dp52177
g23
V571407
p52178
stp52179
a((dp52180
g2
(lp52181
VYou don't assign the result of your  method to any variable
p52182
aVI don't see how the results could be displayed by anyone
p52183
aVI guess that the code should be:
p52184
aVDon't take it bad, but Java EE and Hibernate are complex beasts, and looking at your code, it seems like you don't really master some basic Java stuff like calling a method and assigning its result
p52185
aVYou also don't respect Java naming conventions
p52186
aVShouldn't you take some time to learn basic stuff first
p52187
as(dp52188
g23
V571407
p52189
stp52190
a((dp52191
g2
(lp52192
VThe where clause is used to select which entities are returned by the query, but it doesn't modify what is returned by the query
p52193
aVIf a query returns instances of , and you ask for the children of the returned persons, you'll always get all the children, whatever the query used to get those persons
p52194
aVYour query performs a cartesian product between  and , so it's not surprising that you get more rows than you expect
p52195
aVUse the distinct keyword to get distinct instances:
p52196
as(dp52197
g23
V571407
p52198
stp52199
a((dp52200
g2
(lp52201
VNo, it's not possible
p52202
aVThe strings are filtered by the prepared statement
p52203
aVThat's one of their points, actually
p52204
as(dp52205
g23
V571407
p52206
stp52207
a((dp52208
g2
(lp52209
V1 millisecond == 1,000,000 nanoseconds
p52210
aVI would recomment using Guava's Stopwatch to do what you're doing
p52211
as(dp52212
g23
V571407
p52213
stp52214
a((dp52215
g2
(lp52216
VThis code doesn't make much sense
p52217
aVA Date object doesn't have to be transformed to be used in another time zone
p52218
aVIt represents a universal instant
p52219
aVWhat makes sense is to use the time zone when displaying (or formatting as a string) a Date object
p52220
aVIn this case, you should simply set the time zone on the DateFormat instance, and the universal instant that constitutes a date will be formatted in order to make sense for the given time zone
p52221
as(dp52222
g23
V571407
p52223
stp52224
a((dp52225
g2
(lp52226
VThat's a too broad question to be answered here
p52227
aVNo
p52228
aVIt populates the cache lazily
p52229
aVEach time you get a cachable entity from the database, using the hibernate API or a query, this entity is stored in the cache
p52230
aVLater, when  is called with an ID of an entity that is in the cache, no database query is necessary
p52231
aVIf the update is made through Hibernate, then the cache is updated
p52232
aVIf it's done using an external application, or a SQL query, or even a bulk update HQL query, then the cache is unaware of the update
p52233
aVThat's why you need to be careful about which entities you make cachable, which time-to-live you choose, etc
p52234
aVSometimes, returning stale values is not problematic, and sometimes it is unacceptable
p52235
aVNo
p52236
as(dp52237
g23
V571407
p52238
stp52239
a((dp52240
g2
(lp52241
VLet's suppose you have 2 Properties instances:
p52242
aVA:
p52243
aVB:
p52244
aVIf you send these two properties instances, what will be sent on the wire will be:
p52245
aVAnd the receiver doesn't have any way to know that this constitutes two different instances
p52246
aVIt reads all the properties until the end of the stream, and stores all the read properties in a single object
p52247
aVYou need to find another protocol to send those two objects
p52248
as(dp52249
g23
V571407
p52250
stp52251
a((dp52252
g2
(lp52253
VThen the answer is
p52254
aVor
p52255
aVThe first one doesn't escape the HTML special chars in  (, , , , ), whereas the second one does (and transforms them to , , , etc
p52256
as(dp52257
g23
V571407
p52258
stp52259
a((dp52260
g2
(lp52261
VYou can't use such a parameter in a prepared statement
p52262
aVThe query should be
p52263
aVAnd you should use
p52264
as(dp52265
g23
V571407
p52266
stp52267
a((dp52268
g2
(lp52269
VReading the javadoc of these three methods (which are deprecated and thus shouldn't be used, BTW) would tell you why:
p52270
aV112 : number of years since 1900
p52271
aV9: month number, starting from 0 (so 9 means october)
p52272
aV1: day of month
p52273
aVUse a Calendar to get date fields, and a DateFormat to format dates
p52274
as(dp52275
g23
V571407
p52276
stp52277
a((dp52278
g2
(lp52279
VHQL only uses entities, mapped properties and associations
p52280
aVNever tables and columns
p52281
aVSo the correct query is
p52282
aVIf you don't map all the table columns in your entity, every insert and update in the table will completely ignore the other columns
p52283
aVThis means that they will keep their default or current values
p52284
aVThe exception you get, IIRC, means that you simply forgot to add the entity to the list of mapped entities in the hibernate configuration file
p52285
as(dp52286
g23
V571407
p52287
stp52288
a((dp52289
g2
(lp52290
VDon't look for examples
p52291
aVRead the official documentation:
p52292
aVAlso, note that this is the default for unidirectional one-to-many associations
p52293
aVSo you don't even have to provide the  annotation if the default table and column names suit you
p52294
as(dp52295
g23
V571407
p52296
stp52297
a((dp52298
g2
(lp52299
VYour HQL query is invalid
p52300
aVLIMIT is not a valid HQL clause
p52301
aVTo do that in Hibernate, just do
p52302
as(dp52303
g23
V571407
p52304
stp52305
a((dp52306
g2
(lp52307
VThe method should be declared as
p52308
aVsince its goal is to return a list of customers (one per row in the table)
p52309
aVInside the method, you should have the following:
p52310
aVThen, the caller of this method will iterate through the list of CustomerDTOs, and write them to a file
p52311
aVEach method has its responsibility: the DAO handles the database retrieval, but doesn't handle the file IO
p52312
as(dp52313
g23
V571407
p52314
stp52315
a((dp52316
g2
(lp52317
VYou can do it the same way as for servlets
p52318
aVThe only difference is that you must use  instead of  to declare your servlet:
p52319
as(dp52320
g23
V571407
p52321
stp52322
a((dp52323
g2
(lp52324
VTo be checked, a checbox must have its  attribute set (to "checked" if using XHTML)
p52325
aVSo the code could be something like the following:
p52326
as(dp52327
g23
V571407
p52328
stp52329
a((dp52330
g2
(lp52331
VIf you have several users with the same last name, sorting by last name will return users sorted by last name, but you don't have any guarantee over the order of the users who share the same last name
p52332
aVSo you should add an additional sort criterion to guarantee a deterministic order
p52333
aVFor example:
p52334
aVIn this case, users sharing the same last name will always be sorted by ID, and the order will the be deterministic
p52335
as(dp52336
g23
V571407
p52337
stp52338
a((dp52339
g2
(lp52340
VInstead of using  (or ) to get a reference to the SIte entity, use  (or ) to get this reference
p52341
aVThese methods will return a lazy-loaded proxy on the entity rather than executing a query to get the data of the site
p52342
as(dp52343
g23
V571407
p52344
stp52345
a((dp52346
g2
(lp52347
VI prefer putting all persistence-related stuff (i
p52348
ag468
aVqueries, and everything dealing with JDBC, JPA or Hibernate) in a DAO layer, and have the service layer rely on this DAO layer for persistence-related stuff
p52349
aVBut the main goal is not to be able to change the persistence technology without affecting the service layer
p52350
aVAlthough that could be possible if you switch from Hibernate to JPA, for example, it wouldn't be if you switch from JPA to JDBC, for example
p52351
aVThe reasons are that
p52352
aVJPA automatically persists all the changes made to entities without any need for update database queries , whereas JDBC doesn't, and thus needs additional update queries
p52353
aVJPA lazy-loads association between entities, whereas JDBC doesn't
p52354
aVSo changing the persistence technology will affect the service layer, even if all the persistence stuff is isolated in DAOs
p52355
aVThe main advantages of this decoupling, IMHO are
p52356
aVclearer responsibilities for each class
p52357
aVIt avois mixing persistence-related code with business logic code
p52358
aVtestability: you can easily test your service layer by mocking the DAO layer
p52359
aVYou can easily test the DAO layer because all it does is executing queries over the database
p52360
as(dp52361
g23
V571407
p52362
stp52363
a((dp52364
g2
(lp52365
VI think you're looking for something like spring-security or app server proprietary ways of authenticating users stored in a database (like Tomcat's JDBCRealm)
p52366
aVBut frankly, if you know nothing about spring-security or even spring, and want to avoid proprietary solutions, writing your own servlet filter which goes to the database is quite an easy solution
p52367
as(dp52368
g23
V571407
p52369
stp52370
a((dp52371
g2
(lp52372
VNever compare Strings with
p52373
aVchecks that the two objects are the same, and not that the two objects have the same characters
p52374
aVUse  to compare strings
p52375
aVThat said, to validate that a string is a valid Integer, you indeed need to catch the exception:
p52376
aVThis is basic Java stuff
p52377
aVRead the Java tutorial over exceptions
p52378
as(dp52379
g23
V571407
p52380
stp52381
a((dp52382
g2
(lp52383
VFrom Google Translate home page:
p52384
aVGoogle Translate API is available as a paid service
p52385
aVSee the Pricing
p52386
aVand FAQ pages for details
p52387
aVSo getting an error is not really surprising
p52388
as(dp52389
g23
V571407
p52390
stp52391
a((dp52392
g2
(lp52393
VI would do it by using a
p52394
aVThis map would maintain a TermFrequencies object for each term found
p52395
aVThe TermFrequencies object would have the following methods:
p52396
aVIt would use a  internally to associate each document the term occurs in with the number of occurrences of the term in the document
p52397
aVThe algorithm would be extremely simple:
p52398
aVThe  method would simply increment a counter for the total number of occurrences, and would insert or update the number of occurrences in the internam map
p52399
as(dp52400
g23
V571407
p52401
stp52402
a((dp52403
g2
(lp52404
VYou inverted the two attributes
p52405
aVis where the files are in the web app root
p52406
aVis the url-pattern used to access the resources from the browser
p52407
aVSo the configuration should be
p52408
aVAs explained in the documentation
p52409
as(dp52410
g23
V571407
p52411
stp52412
a((dp52413
g2
(lp52414
VDbUnit can be used with JUnit 4, without extending any DbUnit base class
p52415
aVSee http://dbunit
p52416
aVsourceforge
p52417
aVnet/howto
p52418
aVhtml#noextend for how to do it
p52419
aVThat said, I really dislike XML and like fast tests, so I wrote DbSetup to achive similar functionality, with an all-Java solution
p52420
as(dp52421
g23
V571407
p52422
stp52423
a((dp52424
g2
(lp52425
VIf a method is declared as returning a String, it must return a String, or throw an exception
p52426
aVNot returning anything is not acceptable
p52427
aVSo you should decide what to do when the string is not found
p52428
aVYou basically have two choices:
p52429
aVreturning null
p52430
aVthrowing an exception
p52431
aVPrinting an error is not a good idea
p52432
aVSuch a method shouldn't deal with the user interface
p52433
aVThat's not its responsibility, and a method should only have one responsibility
p52434
aVReturning a string with an error message is not a good idea either: the caller would have no way to know if the returned string is the one which has been found, or an error string
p52435
aVMoreover your code is overly complicated
p52436
aVIt could be reduced to the following (assuming  implements Iterable, as it should):
p52437
aVI would change the return type, so, and make it return a  instance
p52438
aVLet the caller deal with the concatenation
p52439
aVIt's not the responsibility of this method either
p52440
as(dp52441
g23
V571407
p52442
stp52443
a((dp52444
g2
(lp52445
VIf you're concerned about storing sensitive data in the session, then don't worry
p52446
aVThe session is held in memory at server-side
p52447
aVIt doesn't goes on the wire, and can't be read from the browser memory of by an intruder on the network
p52448
aVIf you're concerned about users having multiple opened browser tabs or frames on the same pages, and sending several payments in parallel, in the same session, then it's a very valid concern
p52449
aVI tend to prefer stateless solutions, so if hidden fields are an acceptable solution, then just use them to maintain state from one page to the next one
p52450
aVThis won't cause any problem with multiple tabs
p52451
aVIf you need to use the session to store intermediate state, then you can simply generate a unique ID (using a sequence number, for example), store the data in the session using the unique ID as session attribute, and pass this unique ID frompage to page using a hidden field
p52452
aVThat way, multiple tabs will use different session attributes, and won't disturb each other
p52453
as(dp52454
g23
V571407
p52455
stp52456
a((dp52457
g2
(lp52458
VChecked exceptions are checked by the Java compiler: it checks that you catch them or declare them in the method signature
p52459
as(dp52460
g23
V571407
p52461
stp52462
a((dp52463
g2
(lp52464
VBecause the Java Language Specification says so
p52465
as(dp52466
g23
V571407
p52467
stp52468
a((dp52469
g2
(lp52470
VStatic methods are not polymorphic, and thus can't be inherited and overridden
p52471
aVWhat you want to do is impossible
p52472
as(dp52473
g23
V571407
p52474
stp52475
a((dp52476
g2
(lp52477
VDon't ignore exceptions
p52478
aVIf nothing is read, it's probably that an exception is thrown
p52479
aVInstead of letting it bubble and telling you what's wrong, you catch it and exit silently
p52480
aVThat's like buying a fire alarm and setting its sound volume to 0: you'll never know there is a fire
p52481
aVTransform your program to
p52482
aVand see what happens
p52483
aVAlso, I removed the call to readLine() inside the loop
p52484
aVThe line has already been read at this point
p52485
as(dp52486
g23
V571407
p52487
stp52488
a((dp52489
g2
(lp52490
VYour question is quite confusing:
p52491
aVI am developing a GUI which contains a table with 8 columns, (A,B,C,D,E,F,G)
p52492
aVThat makes 7 columns, not 8
p52493
aVIn the database I have two tables
p52494
aVTable1 contains (A,B,C,D,E+) and Table2 contains (E,F,G)
p52495
aVHere E+ is FK to Table1
p52496
aVWhy would Table1 contain a foreign key to itself
p52497
aVinsert into table1 (a,b,c,d,e,f,g)
p52498
aVHow can you imagine this would work, since table 1 doesn't have any column named e, f, and g
p52499
aVFirst of all, separate the database stuff from the GUI stuff into distinct classes
p52500
aVThe two aspects should not be mixed together
p52501
aVThen learn about SQL
p52502
aVIf you want to insert into 2 tables, you need 2 insert statements: one which inserts into table1, and another one that inserts into table2
p52503
aVIf the FK is in table2, then the first insert must be the insert in table1, since the FK in table2 must reference a row that exists in table1
p52504
as(dp52505
g23
V571407
p52506
stp52507
a((dp52508
g2
(lp52509
VAs its name and its javadoc indicates,  sets the text of the text area to the given String argument
p52510
aVIt doesn't append the text
p52511
aVUse a StringBuilder to concatenate the various matrix elements to a String, and the set the text of the text area with the complete result:
p52512
as(dp52513
g23
V571407
p52514
stp52515
a((dp52516
g2
(lp52517
VFrom the Java Language Specification:
p52518
aVA Java compiler must produce a deprecation warning when a type,
p52519
aVmethod, field, or constructor whose declaration is annotated with the
p52520
aVannotation @Deprecated is used (i
p52521
ag468
aVoverridden, invoked, or
p52522
aVreferenced by name), unless:
p52523
aVThe use is within an entity that is itself annotated with the annotation @Deprecated; or
p52524
aVThe use is within an entity that is annotated to suppress the warning with the annotation @SuppressWarnings("deprecation"); or
p52525
aVThe use and declaration are both within the same outermost class
p52526
aVYour example is an example of the last condition: you're only using the deprecated method from the same outermost class as the deprecated method
p52527
as(dp52528
g23
V571407
p52529
stp52530
a((dp52531
g2
(lp52532
VThe method is a static method of the G5 class
p52533
aVIt's not an instance method of GraphicsPanel
p52534
aVSo you must call it using
p52535
aVinstead of
p52536
aVTo be able to call it like you're doing, the method would have to be defined inside the GraphicsPanel class (or any of its superclass), without the static keyword
p52537
aVRead this section of the Java tutorial to understand the difference between instance and static methods
p52538
as(dp52539
g23
V571407
p52540
stp52541
a((dp52542
g2
(lp52543
VYou also do it with joins in JPQL:
p52544
aVNote that inner joins can be used here, since you have a restriction on , which can only be true if B and C exist
p52545
aVBut you could use left joins as well
p52546
aVEDIT:
p52547
aVUsing a Criteria query, it would look like the following (not tested):
p52548
as(dp52549
g23
V571407
p52550
stp52551
a((dp52552
g2
(lp52553
VI guess you're using json-lib, based on the code sample, and I've never used it, but the javadoc shows that JsonConfig provides the following method:
p52554
aVSo I guess you could use that method, and register a processor for Calendar
p52555
aVclass that would transform the Calendar object into a String using the format you want
p52556
as(dp52557
g23
V571407
p52558
stp52559
a((dp52560
g2
(lp52561
VFirst of all, think about the following question: what's the probability that you change the underlying backing store used by your repository (i
p52562
ag468
aVgo from a database with primary keys to some unknown datastore not having the notion of unique IDs)
p52563
aVI would guess that the probability is very close to 0
p52564
aVYAGNI applies here
p52565
aVDon't start implementing code in case some very unlikely unknown change occurs
p52566
aVWhen the change actually occurs, then do the necessary changes
p52567
aVThen, regarding your example, why don't you generate a new ID (or let the underlying datastore do it for you) for the entity being added rather than forcing the client code to do it before
p52568
aVIDs should be autogenerated, using a database sequence, or a UUID, or n autoincrement column
p52569
as(dp52570
g23
V571407
p52571
stp52572
a((dp52573
g2
(lp52574
VOr even
p52575
aVif XML-escaping is not necessary
p52576
as(dp52577
g23
V571407
p52578
stp52579
a((dp52580
g2
(lp52581
VNot sure this is the only problem, but you got your  attributes wrong
p52582
aVThe list of semesters in  is mapped by the  field of
p52583
aVNot by the  field
p52584
aVAnd the list of homeworks in  is mapped by the  field of
p52585
aVNot by the  field
p52586
aVEverything would be much easier if you had a non-composite, autogenerated ID in
p52587
as(dp52588
g23
V571407
p52589
stp52590
a((dp52591
g2
(lp52592
V is not an object
p52593
aVIt's a variable referencing null
p52594
aVA variable can't be eligible to GC
p52595
aVOnly objects can be eligible to GC
p52596
aVThe objects eligible to GC are the Cardboard which was initially referenced by , and the Short instance initially referenced by the CardBoard initially referenced by
p52597
as(dp52598
g23
V571407
p52599
stp52600
a((dp52601
g2
(lp52602
s(dp52603
g23
V571407
p52604
stp52605
a((dp52606
g2
(lp52607
VThe web profile is a lightweight version of the full Java EE stack
p52608
aVIt only includes some parts of the full Java EE stack, specifically targeted at building web applications
p52609
aVSee http://jaxenter
p52610
aVcom/introducing-the-java-ee-web-profile-36201
p52611
aVhtml for an introduction
p52612
as(dp52613
g23
V571407
p52614
stp52615
a((dp52616
g2
(lp52617
VOpen the file with a zip tool, and you'll discover it only contains
p52618
aVjava source files, and not
p52619
aVclass files
p52620
aVYou need to add the jeplite-0
p52621
aV8
p52622
aV7a-bin
p52623
aVjar file as a library
p52624
as(dp52625
g23
V571407
p52626
stp52627
a((dp52628
g2
(lp52629
Vis the best you can do
p52630
aVIf the label has many different properties that you want to have on both copies, then use a method to create the three labels, to avoid repeating the same code 3 times:
p52631
as(dp52632
g23
V571407
p52633
stp52634
a((dp52635
g2
(lp52636
VA PriorityQueue is a sorted collection
p52637
aVSo the elements you add to them must be comparable with each other
p52638
aVEither they must implement Comparable (and the queue sorts them using the natural ordering implied by the  method), or you must provide a Comparator when creating the Queue itself (and the queue will use this comparator to compare objects and sort them)
p52639
aVIf you don't do any of these, the queue has no way to decide if the first element has a bigger priority than the second one
p52640
as(dp52641
g23
V571407
p52642
stp52643
a((dp52644
g2
(lp52645
VNo, there is not
p52646
aVBut if all the buttons share the same action listener (which is quite strange), maybe they should be stored in an array or collection
p52647
aVYou could then do:
p52648
as(dp52649
g23
V571407
p52650
stp52651
a((dp52652
g2
(lp52653
VIt looks to me like the vertex class should simply be mutable, and you should just change its coordinates:
p52654
aVThis way, all the references to e get the new coordinates automatically
p52655
aVIf this is not an option, maybe you should just wrap the Vertex object into a  object, and make the triangle objects and the vertices list contain instances of
p52656
as(dp52657
g23
V571407
p52658
stp52659
a((dp52660
g2
(lp52661
VReading byte by byte is the other extreme solution, and will be very inefficient
p52662
aVYou should simply use a BufferedInputStream, and read the bytes chunk by chunk
p52663
aVRead the Java IO tutorial about byte streams
p52664
as(dp52665
g23
V571407
p52666
stp52667
a((dp52668
g2
(lp52669
VIf the list is properly encapsulated into your object (i
p52670
ag468
aVno other object has access to the list), and if these are the only methods accessing the list, then yes, this is all you need
p52671
aVThe key is that every access to the list must be done in a synchronized block
p52672
aVAnd every synchonized block must synchronize on the same object (, in your code example)
p52673
as(dp52674
g23
V571407
p52675
stp52676
a((dp52677
g2
(lp52678
VIf the line causing the NullPointerException is the line
p52679
aVthen the problem is not in the stack class
p52680
aVThe problem is that  is null (probably because it has never been assigned anything before this line)
p52681
aVYou're making the same error as the following one several times in your code:
p52682
aVThe two last lines are completely useless: they assign a new StackList to a local variable
p52683
aVSo the stack is created, and is immediately eligible to garbage collection, since nothing references it except a local variable that goes out of scope
p52684
aVHere's another place where it happens:
p52685
as(dp52686
g23
V571407
p52687
stp52688
a((dp52689
g2
(lp52690
VYes, the solution is to get the city from the database, create it if it doesn't exist, and set it to the address
p52691
aVThere's no way around that
p52692
aVThe city name doesn't have to be the primary key, though
p52693
aVI would use an autogenerated, non-functional, surrogate key as the PK, and add a unique constraint on the name of the city
p52694
aVThis would at least allow you to fix typos in city names without having to update the thousand addresses referencing them
p52695
as(dp52696
g23
V571407
p52697
stp52698
a((dp52699
g2
(lp52700
VJava arguments are passed by value
p52701
aVYou're passing 0 to the  method
p52702
aVA copy of the value is passed to the method
p52703
aVThis method assigns a new value to its own copy, and then returns
p52704
aVSo the original value is still 0
p52705
aVYou must not pass anything to the method
p52706
aVInstead, the method must return the value it has validated
p52707
aVAlso, consider using a more appropriate method name:
p52708
aVAnd in the main method:
p52709
as(dp52710
g23
V571407
p52711
stp52712
a((dp52713
g2
(lp52714
VThe above  method only uses local variables, and doesn't access any state that is shared between threads, so it's thread-safe
p52715
aVLocal variables are local to each method invocation, and are thus not shared between threads
p52716
aVThe only thread-safety problem you could have is if the form has the scope  (which is a bad practice)
p52717
aVIn this case, two threads could use the same ActionForm instances
p52718
aVBut this is not really a problem of the  method
p52719
aVRather a design problem, or a synchronization problem of the  method(s) that use this session-scoped ActionForm
p52720
as(dp52721
g23
V571407
p52722
stp52723
a((dp52724
g2
(lp52725
VNo
p52726
aVHtmlUnit is a web browser
p52727
aVThe difference with traditional browser is that it doesn't have a GUI (it's a headless web browser), and is driven by your Java code instead of your mouse clicks
p52728
as(dp52729
g23
V571407
p52730
stp52731
a((dp52732
g2
(lp52733
VWhat does the rest of the code do
p52734
aVThis looks like a tiny piece of code, so it should execute extremely fast
p52735
aVDo you really have a performance problem, or are you trying to make your program consume no CPU at all
p52736
aVThat said, you could simly pre-compute all those trivial arithmetic operations:
p52737
aVetc
p52738
aVI don't understand how you can access ,  and  though, since  is supposed to be an array of 3 elements
p52739
as(dp52740
g23
V571407
p52741
stp52742
a((dp52743
g2
(lp52744
VYou're at the mercy of the OS thread scheduler, and you can't do much about it
p52745
aVJust because you sleep for a very short time doesn't mean the scheduler will awake your thread as soon as it has finished sleeping
p52746
aVAnd thread priorities are only a hint, without any guarantee
p52747
as(dp52748
g23
V571407
p52749
stp52750
a((dp52751
g2
(lp52752
VHave you enabled HTTP sessions by adding  to your appengine-web
p52753
aVxml file, as decribed in the documentation
p52754
as(dp52755
g23
V571407
p52756
stp52757
a((dp52758
g2
(lp52759
VWhy would the above code cause a deadlock
p52760
aVEach thread only locks one lock at a time, so if the other thread tries to lock it, it just has to wait for the first one to release it
p52761
aVYou would have a serious risk of deadlock if the threads did
p52762
aVand
p52763
as(dp52764
g23
V571407
p52765
stp52766
a((dp52767
g2
(lp52768
V extends , and is specifically dedicated to IO streams: it throws IOException instead of Exception, and is idempotent, whereas AutoCloseable doesn't provide this guarantee
p52769
aVThis is all explained in the javadoc of both interfaces
p52770
aVImplementing AutoCloseable (or Closeable) allows a class to be used as a resource of the try-with-resources construct introduced in Java 7, which allows closing such resources automatically at the end of a block, without having to add a finally block which closes the resource explicitely
p52771
aVYour class doesn't represent a closeable resource, and there's absolutely no point in implementing this interface: an IOTest can't be closed
p52772
aVIt shouldn't even be possible to instanciate it, since it doesn't have any instance method
p52773
aVRemember that implementing an interface means that thee is a is-a relationship between the class and the interface
p52774
aVYou have no such relationship here
p52775
as(dp52776
g23
V571407
p52777
stp52778
a((dp52779
g2
(lp52780
V should be preferred: it returns cached values of Long for some often-used values instead of constructing a new instance as the constructor does
p52781
aVEven if some Java versions don't use a cache, using  makes it possible in future versions, whereas the constructor will always create a new instance
p52782
as(dp52783
g23
V571407
p52784
stp52785
a((dp52786
g2
(lp52787
VYes, there will be an overhead
p52788
aVStarting an external process and communicating with it is costly
p52789
aVAnd moreover, many systems don't have a grep command
p52790
aVIf you want to make your Java code portable, don't rely on OS-specific commands
p52791
aVAnother problem is that OS commands will be able to search (for example) in files, but not in your in-memory data structures
p52792
as(dp52793
g23
V571407
p52794
stp52795
a((dp52796
g2
(lp52797
s(dp52798
g23
V571407
p52799
stp52800
a((dp52801
g2
(lp52802
VThere's no best answer
p52803
aVSometimes it's normal to modify the passed array (for example, ), and sometimes it's not
p52804
aVThe key is to document the method, and have the caller respect the contract
p52805
aVI would find it normal for a method that returns a transformed array for an input array to leave the input array unmodified, and I would find it bad to have to create copies before passing an array to such a method, just in case
p52806
aVWith a clear documentation, there's no doubt
p52807
aVCollections should generally be preferred over arrays
p52808
aVWith collections, you wouldn't have to create a copy to protect yourself
p52809
aVYou could just wrap the collection inside an unmodified one:
p52810
as(dp52811
g23
V571407
p52812
stp52813
a((dp52814
g2
(lp52815
VThat's what a Date is: a universal instant in time
p52816
aVChoose the appropriate time zone when displaying it, and you'll have the time string you want:
p52817
as(dp52818
g23
V571407
p52819
stp52820
a((dp52821
g2
(lp52822
VI don't know what you're trying to do with this synchronized block, and why you need synchronization in the first place
p52823
aVWhat is the shared state that you want to protect with a synchronized block
p52824
aVAnyway, what's sure is that this snippet doesn't make much sense
p52825
aVmeans that two threads won't be able to execute the synchronized block if they both received the same String instance (the same object, not just the same characters) from the cache
p52826
aVThis is very unlikely, and is probably not what you want
p52827
as(dp52828
g23
V571407
p52829
stp52830
a((dp52831
g2
(lp52832
VIt seems you're compiling with JDK7, but running with a previous version
p52833
aVUse  and  to know which version of java you're actually using
p52834
as(dp52835
g23
V571407
p52836
stp52837
a((dp52838
g2
(lp52839
VSince every option needs to have a different syle, you just need to iterate through the elements of the list and generate one option for each element, using the  tag
p52840
as(dp52841
g23
V571407
p52842
stp52843
a((dp52844
g2
(lp52845
VIf the  takes an  as argument, you could simply use a custom implementation of  that has all its methods synchronized, and delegate to the corresponding method of a wrapped
p52846
aVJust like  wraps another List into a synchronized List proxy
p52847
aVEDIT:
p52848
aVThat said, reading the source of ByteArrayOutputStream, all its methods are already synchronized, so it's already thread-safe
p52849
aVYour bug probably comes from elsewhere
p52850
as(dp52851
g23
V571407
p52852
stp52853
a((dp52854
g2
(lp52855
VIf you have a Timestamp, and want to convert it back to a MutableDateTime, you just need
p52856
as(dp52857
g23
V571407
p52858
stp52859
a((dp52860
g2
(lp52861
VYou have a list of persons (), and each of the persons in the list is added to a ListModel, which maintains its own list of persons
p52862
aVSo you in fact have two different lists of persons: one in your own class, and one in the list model
p52863
aVSorting your own list won't magically sort the one used by the model
p52864
aVAnd even if it did, the model would have to trigger events in order for the view to repaint itself
p52865
aVSo, if you sort the list, you need to update the list model in order to reorder the persons in the list model as well (for example, by removing all the persons from the model and re-adding them in the new order)
p52866
aVAnother, better solution, would be to implement your own list model (based on AbstractListModel), and provide a sort method in this model that would sort the internal list and trigger the appropriate event
p52867
as(dp52868
g23
V571407
p52869
stp52870
a((dp52871
g2
(lp52872
VYour're not persisting  and , so they're not made persistent
p52873
aVEither persist them explicitely, or add a cascade of type PERSIST to the  list, so that the persist operation is cascade from the perent to its children
p52874
as(dp52875
g23
V571407
p52876
stp52877
a((dp52878
g2
(lp52879
VAdd a JLabel, JTextField, JTextArea or whatever component able to display text
p52880
aVGet the document of the JTextField where the user enters text, and add a DocumentChangeListener to this document
p52881
aVEach time a DocumentEvent is received, get the text from the JTextField and update the text in the JLabel, JTextField, JTextArea or whatever component you chose
p52882
as(dp52883
g23
V571407
p52884
stp52885
a((dp52886
g2
(lp52887
VWhatever design you might choose, you'll always be able to inadvertently do something that shouldn't be done
p52888
aVMaking a builder a static inner class of the class it builds is a common idiom that is used precisely because the outer class can access the private fields of the builder
p52889
aVConsider the builder as an integral part of the outer class, just like a private field or method, and make sure the class and its builder behave as they should
p52890
as(dp52891
g23
V571407
p52892
stp52893
a((dp52894
g2
(lp52895
VDesign your own tag or EL function that truncates the number before formatting it
p52896
aVOr just design a tag or function that truncates the number, and pass the result to
p52897
aVSomething like
p52898
as(dp52899
g23
V571407
p52900
stp52901
a((dp52902
g2
(lp52903
VPrint the field before accessing it
p52904
aVI suspect you're trying to access a non-static field, and passing null to  is thus not acceptable
p52905
as(dp52906
g23
V571407
p52907
stp52908
a((dp52909
g2
(lp52910
VFirst of all, if the Test instances are stateless, there is no point in not reusing them
p52911
aVIt looks to me like you should pass some  instance, or the  instance itself, to each of the Test instances
p52912
aVThese instances could then add their data access class instances to this context, for later reuse
p52913
aVThe TestRunnerContext instance would be created by the TestRunner, and have the same lifetime
p52914
as(dp52915
g23
V571407
p52916
stp52917
a((dp52918
g2
(lp52919
VWhy don't you simply create two subclasses of Vehicle, and containing the additional properties
p52920
aVHibernate supports inheritance just fine
p52921
aVYou'll have three options to persist the entity inheritance tree:
p52922
aVeverything in a single table (often the fastest and simplest option)
p52923
aVevery entity in its own table
p52924
aVcommon properties in a common table, and additional sub-entity properties in their own table
p52925
aVWhatever solution you choose, selecting vehicles will select all the kinds of vehicles satisfying the criteria
p52926
aVHibernate queries are polymorphic
p52927
aVRead the documentation
p52928
as(dp52929
g23
V571407
p52930
stp52931
a((dp52932
g2
(lp52933
VThe JSP code is not really relevant
p52934
aVWhat matters is the generated HTML code
p52935
aVUse Firebug or a similar tool to inspect the contents of your page, and see what the problem is
p52936
aVIf the Struts action returned the appropriate HTML, like the following:
p52937
aVthen the above Javascript would replace the contents of the div identified by  with the above HTML
p52938
aVSo the end result would be
p52939
aVAnd the above is invalid HTML
p52940
aVThe options shouldn't be inside a div, but directly under the select element
p52941
aVGive the select element an ID, and replace the contents of the select element by the response of your AJAX request
p52942
aVBut the other problem is that your action doesn't generate HTML code, but JSP code containing Struts tags
p52943
aVThis makes no sense
p52944
aVStruts tags are interpreted by a JSP, at server-side
p52945
aVBut you're sending them directly to the browser
p52946
aVThe browser only understands HTML
p52947
aVIt doesn't know about Struts tags
p52948
aVWhy aren't you using the recommended MVC approach
p52949
aVThe action should generate a list of beans, store it in the request, and forward to a JSP which would generate the HTML markup using tags
p52950
aVFinally, you should
p52951
aVuse prepared statements rather than String concatenation
p52952
aVHTML-escape your Strings
p52953
aVThe Struts tags do that for you
p52954
aVavoid swallowing exceptions
p52955
aVnot end the SQL query with a semi-colon
p52956
as(dp52957
g23
V571407
p52958
stp52959
a((dp52960
g2
(lp52961
VYou can't do that like that since
p52962
aVyou're accessing Swing components from a thread other than the event disptach thread
p52963
aVthe event disptach thread, where all the UI painting happens, is completely blocked by the call to
p52964
aVYou should be able to do something like what you want with Java 7's SecondaryLoop, but I've never used it
p52965
as(dp52966
g23
V571407
p52967
stp52968
a((dp52969
g2
(lp52970
VYou're starting your loop with a calendar set to now, and where you reset the year, month, date, hour, minute and second
p52971
aVBut you don't set the milliseconds to 0
p52972
aVSo once you reach October, you add one month, and obtain November + some milliseconds
p52973
aVAnd November + some millisesonds is bigger than November + 0 millisecond
p52974
as(dp52975
g23
V571407
p52976
stp52977
a((dp52978
g2
(lp52979
VWhy don't you stick to the  idiom
p52980
aVInstead of asking if the file is empty, and get the next item if it's not empty, directly ask for the next item, and have the method return null if there is no item anymore
p52981
aVMuch simpler:
p52982
aVOtherwise, you could use  to mark your current position, read ahead some lines, and then  to go back to your mark
p52983
as(dp52984
g23
V571407
p52985
stp52986
a((dp52987
g2
(lp52988
VYou create an empty JFrame, and create a bunch of rectangles that you store into an array, but which you never paint anywhere, so the frame stays empty
p52989
aVYou need to paint those rectangles on a JComponent (by overriding its  method), and add this JComponent to the frame
p52990
aVEDIT: as @whiskeyspider notes, there is no setBackground() method in the standard Rectangle class
p52991
aVSo if Rectangle is a class of yours, and is a subclass of JComponent, you need to add the instances of Rectangle to the frame
p52992
as(dp52993
g23
V571407
p52994
stp52995
a((dp52996
g2
(lp52997
VYou configured a single action, mapped to the path
p52998
aVSo the URL to invoke this action is
p52999
aVIn your case, since it seems you deployed the app as the root application, it should be
p53000
aVI don't see the point in submitting the form with JavaScript
p53001
aVEspecially if the only thing it does is changing the correct path to an incorrect one
p53002
aVBTW, if the form is submitted by just pressing enter in one of its inputs, the JavaScript code will be bypassed
p53003
aVYou should also prefer request-scoped form beans, and respect the Java naming conventions (packages in lower-case)
p53004
as(dp53005
g23
V571407
p53006
stp53007
a((dp53008
g2
(lp53009
VWindow - Preferences
p53010
aVType "serialVersionUID" into the filter box on the left
p53011
aVSelect the highlighted node in the tree
p53012
aVThen type "serialVersionUID" in the filter box on the right
p53013
aVChoose "Ignore" in the combo box
p53014
as(dp53015
g23
V571407
p53016
stp53017
a((dp53018
g2
(lp53019
VRegarding your last question: you don't synchronize a method if it can be called from multiple threads
p53020
aVYou synchronize a method if it uses some state that can be accessed from multiple threads
p53021
aVSo, even if your  method is called from only one thread, if it accesses an instance variable which is read and modified, through other methods, by multiple threads, then the  method must be synchronized (or at least, the block of code which accesses the shared variable)
p53022
aVSynchronization is all about shared state
p53023
aVEDIT:
p53024
aVRegarding your main problem: you could simply use the same strategy as the collection framework: make your Counter an interface, and provide a default, non-thread-safe implementation
p53025
aVAlso provide a utility class () containing a method which returns a synchronized Counter proxy:
p53026
aVThis way, you have the best of both worlds
p53027
aVNote that an important point of this design is that the synchronized counter is synchronized on itself
p53028
aVThis makes it possible for the callers to add external synchronization in case two method calls on the counter must be done in an atomic way:
p53029
as(dp53030
g23
V571407
p53031
stp53032
a((dp53033
g2
(lp53034
V reads a binary 32-bit integer from the file
p53035
aVThis means that it read 4 bytes and transform those 4 bytes into an int
p53036
aVIt doesn't read the string representation of an int
p53037
aVRead its javadoc
p53038
as(dp53039
g23
V571407
p53040
stp53041
a((dp53042
g2
(lp53043
VOne of the points of the builder pattern is to avoid methods with a large number of parameters by replacing them with several methods in the builder
p53044
aVIf you have 32 possible features, it looks normal to me to have 32 methods in the builder
p53045
aVAnother possibility is to design each feature as a class, and to add instances of those classes in your builder:
p53046
as(dp53047
g23
V571407
p53048
stp53049
a((dp53050
g2
(lp53051
VIf you sleep in the event dispatch thread, you prevent it from doing its work, i
p53052
ag468
aVrepaint the GUI and display the border you've just set
p53053
aVYou're just freezing the whole GUI for 2 seconds
p53054
aVYou need to use a swing Timer, and have this timer reset the border to its original color after 2 seconds
p53055
aVThe sleep must be done in another thread, and then the border must be changed in the EDT
p53056
aVThat's what the Swing Timer does for you
p53057
as(dp53058
g23
V571407
p53059
stp53060
a((dp53061
g2
(lp53062
VI think it should work by casting the argument to Object, in order to make Java take it as a single argument, rather than an array of arguments corresponding to :
p53063
aVTest case:
p53064
as(dp53065
g23
V571407
p53066
stp53067
a((dp53068
g2
(lp53069
VA BorderLayout should work, provided the image panel's  returns the correct dimension (i
p53070
ag468
aVthe dimension of the image it displays)
p53071
aVUsing a simple JLabel containing an ImageIcon and no text instead of your custom ImagePanel would do that for you
p53072
as(dp53073
g23
V571407
p53074
stp53075
a((dp53076
g2
(lp53077
VThe appropriate name for such JSP files is  (JSP fragment), as explained in this question
p53078
as(dp53079
g23
V571407
p53080
stp53081
a((dp53082
g2
(lp53083
VFirst of all, remove the @Inheritance annotation on Base
p53084
aVIt doesn't serve any purpose
p53085
aVThen, try to explicitely define join columns for the ManyToOne association
p53086
aVIt seems EclipseLink uses the same column names by default both for the embedded ID fields and for the many-to-one association with SubClassA
p53087
aVSee http://docs
p53088
aVoracle
p53089
aVcom/javaee/6/api/javax/persistence/JoinColumn
p53090
aVhtml for an example of using this annotation
p53091
aVSide note: composite IDs are both inefficient, and complex to handle
p53092
aVYou should really consider using autogenerated, single-column IDs for all your entities
p53093
aVEverything would be much easier
p53094
as(dp53095
g23
V571407
p53096
stp53097
a((dp53098
g2
(lp53099
VA  is not a , even if Orange is a Fruit
p53100
aVIf it was a , you could do the following:
p53101
aVAnd it would thus completely break the type-safety of generic collections, since a list of oranges would contain an apple
p53102
aVThe AuthenticatedUser should contain a  to be able to do what you're doing
p53103
as(dp53104
g23
V571407
p53105
stp53106
a((dp53107
g2
(lp53108
VDeclare a field
p53109
aVChange the third line to
p53110
aVand use
p53111
aVSide note: you should import  and make your code more readable by simply using  instead of the fully qualified name
p53112
aVYou should also choose meaningful variable names instead of treeNode1, jTree2, etc
p53113
aVSuch bad names make the code very hard to understand
p53114
as(dp53115
g23
V571407
p53116
stp53117
a((dp53118
g2
(lp53119
VIt is normal behevior
p53120
aVA persistence context, by default, has the same lifetime of the transaction
p53121
aVAnd it's completely normal: once the transaction is committed, other transactions might modify the entity, and Hibernate must reload the entity from the database to make sure it doesn't return stale values
p53122
as(dp53123
g23
V571407
p53124
stp53125
a((dp53126
g2
(lp53127
VDon't mix EL and scriptlets
p53128
aVIn fact, forget about scriptlets completely:
p53129
aVNote though that this will generate invalid JavaScript if one of the IDs happens to contain a double quote
p53130
aVSo you'd better JavaScript-escape the IDs before, in your controller
p53131
aVAnd I would suggest a completely different approach: serialize the list of IDs to a JSON string in your controller, and store this JSON string in request attribute
p53132
aVThe JSP page will just need
p53133
aVwhich will translate to the following generated code:
p53134
as(dp53135
g23
V571407
p53136
stp53137
a((dp53138
g2
(lp53139
VYour query is fine, but needlessly fetches the subEntities
p53140
aVJust remove the fetch keyword
p53141
aVAnd since the sub-entity can't be null to satisfy the condition, an inner join is OK:
p53142
as(dp53143
g23
V571407
p53144
stp53145
a((dp53146
g2
(lp53147
VYes, there is another reason
p53148
aVMaking every method of a collection synchronized makes the collection thread-safe, but
p53149
aVthere are faster solutions (like the concurrent collections)
p53150
aVit's not enough anyway, because you often have to implement check-then-act operations (like checking if an element is present, and add it if not), or iterations, that need external synchronization anyway
p53151
aVMoreover, thread-safety wasn't sacrificed at all, since you just need to wrap your ArrayList (for example) in a synchronized collection proxy to have the same synchronization guarantees as the old, synchronized by default Vector:
p53152
aVSo you get the best of both: fast collections when you don't need synchronization (99% of the cases), and synchronized collections when you want them
p53153
as(dp53154
g23
V571407
p53155
stp53156
a((dp53157
g2
(lp53158
VYou can't
p53159
aVAn entity MUST have a unique, immutable ID
p53160
aVIt doesn't have to be defined as a primary key in the database, but the field or set of fields must uniquely identify the row, and its value may not change
p53161
aVSo, if one field in your entity, or one set of fields in your entity, satisfies these criteria, make it (or them) the ID of the entity
p53162
aVFor example, if there is no way that a user can create two instances in the same day, you could make [createdOn, createdBy] the ID of the entity
p53163
aVOf course this is a bad solution, and you should really change your schema and add an autogenerated, single-column ID in the entity
p53164
as(dp53165
g23
V571407
p53166
stp53167
a((dp53168
g2
(lp53169
VStraight from the documentation:
p53170
aVtitleKey
p53171
aVThe message resources key for the advisory title for this element
p53172
as(dp53173
g23
V571407
p53174
stp53175
a((dp53176
g2
(lp53177
VEvery change to a Swing component must be done in the event dispatch thread
p53178
aVYou can test if you're in the event dispatch thread by calling
p53179
aVIf it returns true, you can modify your model directly
p53180
aVIf it returns false, then the update must be done in the EDT by wrapping it inside a Runnable executed with  (or ):
p53181
aVYou didn't say what this event was, and what is your table model, but you of course need to be able, thanks to the table model, to find which row(s) and column(s) correspond to the event you get
p53182
aVAn AbstractTableModel is typically used, wrapping a
p53183
aVUsing the methods of the list, you should be able to find the index of the  instance to update
p53184
aVEDIT:
p53185
aVAs I said, the typical way of defining a table model is to extend AbstractTableModel, and implement the methods based on a wrapped List
p53186
aVBut nothing prevents you to use a Map instead or in addition to a List, and to add additional methods to the model, provided the table model contract is implemented
p53187
aVThe List would be used to implement the methods , , etc
p53188
aV, and the map would allow to quickly find the index of an object in the list, for example
p53189
aVOf course, it's your job to encapsulate everything into a custom table model, and to keep both collections in sync
p53190
aVThat said, I would go with a simple solution of iterating on the list to find the appropriate row, and only try to optimize if you really have a performance problem (which would probably only occur for a huge table)
p53191
aVMaintaining the two collections could have a bigger overhead than simply looping on the list
p53192
aVDon't optimize prematurely: it's the root of all evil
p53193
as(dp53194
g23
V571407
p53195
stp53196
a((dp53197
g2
(lp53198
VWith Guava:
p53199
as(dp53200
g23
V571407
p53201
stp53202
a((dp53203
g2
(lp53204
VIf you really want to make everything clear, why do you want to only delete and checkout one of the three directories
p53205
aVWhy don't you restart from scratch
p53206
aVAnyway, don't do SVN delete: this means that you want to make SVN delete the files at the next commit
p53207
aVWhat you need to do is just delete the files from your disk, and do a fresh checkout
p53208
aVA regular file delete is thus what you want
p53209
aVHave you considered reading the freely available, and really simple to read SVN book
p53210
aVBecause it seems to me that you have problems only because you don't understand the basic functionality of SVN (like  deleting a file)
p53211
as(dp53212
g23
V571407
p53213
stp53214
a((dp53215
g2
(lp53216
VYes, that's what you should do
p53217
aVIf you don't want to actually load the domain information from the database, use the strangely named  method instead of the  method
p53218
aVIf the domain is not already loaded into the session,  will simply return you an unitialized entity proxy for the domain (just like if you had loaded some entity with a lazy association to the domain), without hitting the database
p53219
aVThat said, if domain is unchangeable, why do you set  on the domain field
p53220
aVThis means that every time you're merging or updating a user, the domain will also be merged or updated
p53221
aVAnd even worse: if you delete a user, the domain will also be deleted (which of course will lead to an exception if other users are referencing the same domain)
p53222
as(dp53223
g23
V571407
p53224
stp53225
a((dp53226
g2
(lp53227
VTo explain what Jim Garrison explains in this comment in more details, just consider the work necessary to implement equals by comparing the fields, and the work necessary to implement it by generating a hash and comparing the hashes
p53228
aVLet's take your example, with A and B differing only by the last letter of their email (which is the worst case)
p53229
aVFirst method:
p53230
aViterate through all the name characters and compare them
p53231
aViterate through all the password characters and compare them
p53232
aViterate through all the email characters and compare them
p53233
aVSecond method:
p53234
aVcreate two new StringBuilders
p53235
aViterate through all the name characters to fill the name in the JSON strings, and append them to the StringBuilder, surrounded by quotes, with special characters escaped, etc
p53236
aViterate through all the password characters to fill the password in the JSON strings, and append them to the StringBuilder, surrounded by quotes, with special characters escaped, etc
p53237
aViterate through all the email characters to fill the email in the JSON strings, and append them to the StringBuilder, surrounded by quotes, with special characters escaped, etc
p53238
aVtransform the StringBuilders to Strings
p53239
aVtransform the Strings to byte arrays
p53240
aVapply a complex cryptographic function to both byte arrays
p53241
aViterate through each byte array and compare the bytes
p53242
aVNote that if the persons differ by the first character or the length of their name, the first method stops immediately, whereas the second one must do every step
p53243
as(dp53244
g23
V571407
p53245
stp53246
a((dp53247
g2
(lp53248
VThe explanation is in your own question:
p53249
aVJspWriter uses a PrintWriter behind the scene, but since by default
p53250
aVJSP pages are buffered, the PrintWriter won't be created until the
p53251
aVbuffer is flushed
p53252
aVThis means that what is written to the JspWriter is buffered, and once this buffer is flushed (either because the buffer is full, or because the JSP has reached the end of its execution), the contents is written to the response's PrintWriter
p53253
aVSo the flow of your example is the following one:
p53254
aVstatic HTML code until the scriptlet: written to the in-memory buffer
p53255
aVout
p53256
aVprintln(
p53257
aV: written to the in-memory buffer
p53258
aVpw
p53259
aVprintln(
p53260
aV: written to the response
p53261
aVstatic HTML code until the end of the JSP: written to the in-memory buffer
p53262
aVflush of the in-memory buffer: all it contains is written to the response
p53263
as(dp53264
g23
V571407
p53265
stp53266
a((dp53267
g2
(lp53268
VYou could simply use a  (if you want to get a card from a label), or a  (if you want to get a label from a card)
p53269
as(dp53270
g23
V571407
p53271
stp53272
a((dp53273
g2
(lp53274
VWhen a request comes in to a web container, the container takes a thread from a pool in order to execute the request
p53275
aVOnce the request is handled, the thread goes back to the pool to be usable for subsequent requests
p53276
aVSeveral requests can be handled in parallel, because the pool has several threads available
p53277
aVEach servlet you declare in your web app is instantiated only once by the web container
p53278
aVA single instance of each servlet is thus used by several concurrent threads
p53279
aVThis is why your servlets must be thread-safe
p53280
aVStruts doesn't change anything to the above
p53281
aVWhat it does is that it defines a single servlet or filter that handles all the requests
p53282
aVAnd for each request targeting the path of a given action, a new Struts Action instance is created
p53283
aVThis is where the model with servlets differ
p53284
aVA servlet is a singleton (only one instance for all the requests), whereas a new Struts action is instantiated for every request
p53285
aVThe advantage is that the action doesn't need to be thread-safe, since it's used by onlyu one thread and is then discarded
p53286
aVIt can contain intermediary state without any need for synchronization
p53287
aVThe downside is that many instances are created
p53288
aVBut since the Java garbage collector is very fast at recycling short-lived objects like Struts actions, it doesn't cause any problem in practice
p53289
as(dp53290
g23
V571407
p53291
stp53292
a((dp53293
g2
(lp53294
VThe first two are the same one
p53295
aVThe only difference is who implements the listener interface
p53296
aVIt uses the observable/observer design pattern
p53297
aVThe last one uses inheritance, and is much less flexible:
p53298
aVyou can only set what must be done on a click when constructing the button
p53299
aVyou can't alter this behavior afterwards
p53300
aVyou can only register a single action to be made on a click
p53301
aVyou can't remove the action on a click
p53302
aVyou need to make your class non-final, and the click method overridable
p53303
aVyou can't add the same listener to multiple buttons, leading to code duplication
p53304
aVThe first one is definitely a better option (and is the solution used by Swing, Android, JavaScript events, etc
p53305
aVIn general composition should be favored over inheritance
p53306
aVThis case is a perfect example os this rule
p53307
as(dp53308
g23
V571407
p53309
stp53310
a((dp53311
g2
(lp53312
VEach time you do
p53313
aVyou're replacing the inner HTML of the div with
p53314
aVConcatenate all your icon elements, and then set the inner HTML of the div with the result of the concatenation
p53315
as(dp53316
g23
V571407
p53317
stp53318
a((dp53319
g2
(lp53320
VYes
p53321
aVEvery method you call is executed in the current thread
p53322
as(dp53323
g23
V571407
p53324
stp53325
a((dp53326
g2
(lp53327
VA session is typically implemented by
p53328
aVgenerating a unique token,
p53329
aVcreating a Session object to hold session data and store it in a map, indexed by the unique token,
p53330
aVsending a session cookie containing this token to the browser
p53331
aVEach time a request comes in from this browser, it contains the cookie, and the container can thus retrieved the appropriate session from its internal map of sessions
p53332
aVSo yes, a session can exist before a user is authenticated, or even without authentication at all
p53333
aVAnd when a user is authenticated, he keeps the same session
p53334
aVThe only difference is that you typically add the user ID in the session, in order to associate the user with the session
p53335
aVYou could thus, for example, let aninymous users shopping and add items to their cart in the session, and only ask them to authenticate once they need to pay (to retrieve their stored account)
p53336
aVOr you could let them add items to their cart, and never authenticate them at all
p53337
as(dp53338
g23
V571407
p53339
stp53340
a((dp53341
g2
(lp53342
VYou're not changing the scrollpane content
p53343
aVYou're assigning a new JScrollPane instance to the  field
p53344
aVThe scroll pane you have added to the frame and which is displayed stays exactly as it is
p53345
aVIf you want to change the scroll pane contents, you should use
p53346
as(dp53347
g23
V571407
p53348
stp53349
a((dp53350
g2
(lp53351
VOf course
p53352
aVDifferent Strings can have the same hashCode, so if you store two such strings as keys in a map, you'll have two entries (since the strings are different)
p53353
aVWhareas if you use their hashCode as the key, you'll have only one entry (since their hashCode is the same)
p53354
aVThe hashCode isn't used to tell if two keys are equal
p53355
aVIt's only used to assign a bucket to the key
p53356
aVOnce the bucket is found, every key contained in the bucket is compared to the new key with equals, and the key is added to the bucket if no equal key can be found
p53357
as(dp53358
g23
V571407
p53359
stp53360
a((dp53361
g2
(lp53362
VI don't see any chain setup here
p53363
aVThe principle of the pattern is to have each link of the chain do its part, and then call the next link somehow
p53364
aVSo a method should look like the following:
p53365
aVAnd of course, the chain should be setup before, using something like
p53366
aVYour current code consists in doing something if some condition is true, else assign the next handler of the next handler to itself:
p53367
as(dp53368
g23
V571407
p53369
stp53370
a((dp53371
g2
(lp53372
VIt looks like the intent of the above code is to group all the operations (the store in the queue, and the store in the list) in an atomic operation
p53373
aVSo yes, the outer synchronized block is all you need
p53374
aVHolding multiple locks at once is a good way to end up with deadlocks, so it should be avoided when possible
p53375
aVI wouldn't use the queue itself as the lock, though, but a dedicated final lock object instead
p53376
aVAnd most importantly: the above code alone doesn't make any sense, since the list and the queue aren't used anywhere else
p53377
aVSo what I just said could be true, or completely false depending on what the rest of the actual code does
p53378
as(dp53379
g23
V571407
p53380
stp53381
a((dp53382
g2
(lp53383
VA and B, in this scenario, don't have an age
p53384
aVThe  class has an age
p53385
aVA static field is associated to a class, and not to an instance of the class
p53386
aVSo the  field would have the value 28
p53387
aVRead more about static members in the Java tutorial
p53388
as(dp53389
g23
V571407
p53390
stp53391
a((dp53392
g2
(lp53393
VI would transform the JSP fragment into a JSP tag file, with a required parameter:
p53394
ag30709
aVThat way, your JSP editor will warn you about the missing required parameter, and a JSP using the tag without the required parameter wouldn't compile
p53395
aVSuch a tag would be used like this:
p53396
aVSee http://docs
p53397
aVoracle
p53398
aVcom/javaee/1
p53399
aV4/tutorial/doc/JSPTags5
p53400
aVhtml for more information
p53401
as(dp53402
g23
V571407
p53403
stp53404
a((dp53405
g2
(lp53406
VUnless you're writing some critical section of a high-efficient algorithm that must run in some embedded device, your first goal should be to produce simple, readable, maintainable code
p53407
aVOOP helps us in this regard with some features like encapsulation
p53408
aVGetters and setters allow encapsulating some behavior
p53409
aVThey're also a standard used by several Java technologies (like the JSP EL, various scripting languages, IDEs, etc
p53410
aVThe performance should not be the primary design factor in general
p53411
aVJava just in time compilers are really smart, and will inline the calls to the getters and setters
p53412
aVHigher-level abstractions like Java collections also help writing simpler and safer code, and have been tested and optimized
p53413
aVReimplementing all they provide with arrays would lead to hard-to-maintain, inefficient code
p53414
aVDefinitely use the Java collections and prefer them over arrays
p53415
aVRemember that efficient incorrect code is useless compared to a bit slower correct code
p53416
as(dp53417
g23
V571407
p53418
stp53419
a((dp53420
g2
(lp53421
VAs explained in the documentation:
p53422
as(dp53423
g23
V571407
p53424
stp53425
a((dp53426
g2
(lp53427
VYou won't be able to map that in pure JPA
p53428
aVIt would need to different foreign keys to be able to map that in JPA: one which would reference Company, and another one which would reference Person
p53429
aVWith Hibernate, you would be able to map that using the Any annotation
p53430
as(dp53431
g23
V571407
p53432
stp53433
a((dp53434
g2
(lp53435
VYou missed the equal sign:
p53436
aVWhen you want help about an error message from the compiler, tell what the error message is (and try to understand it before posting the question)
p53437
as(dp53438
g23
V571407
p53439
stp53440
a((dp53441
g2
(lp53442
VThe JPA spec says:
p53443
aVThe semantics of the merge operation applied to an entity X are as
p53444
aVfollows:
p53445
aVIf X is a detached entity, the state of X is copied onto a pre-existing managed entity instance X' of the same identity or a new
p53446
aVmanaged copy X' of X is created
p53447
aVIf X is a new entity instance, a new managed entity instance X' is created and the state of X is copied into the new managed entity
p53448
aVinstance X'
p53449
ag7651
aVSo to add if not existing or update is it exists, you just need to do:
p53450
aVRegarding your problem with refresh, I don't know why it happens
p53451
aVBut why are you refreshing an entity that you just loaded from the database
p53452
aVThere is nothing to refresh
p53453
as(dp53454
g23
V571407
p53455
stp53456
a((dp53457
g2
(lp53458
VThe local storage, as its name indicates, stores information locally, which means in the browser, at client-side
p53459
aVThe servlet filter executes at server-side
p53460
aVThere is no way to access the local storage at server-side
p53461
aVIf you need to access some ID stored in the local storage from a servlet filter, then retrieve this ID from the local storage in JavaSCript, and send a request containing this ID to the server
p53462
as(dp53463
g23
V571407
p53464
stp53465
a((dp53466
g2
(lp53467
VYou need to register a callback from the main method to the settings frame
p53468
aVWhen the Start button is pressed, the action listener should close the window, and invoke the callback, passing the settings entered in the settings frame
p53469
aVThe callback method will then open the game of life frame
p53470
as(dp53471
g23
V571407
p53472
stp53473
a((dp53474
g2
(lp53475
VUse a Swing Timer:
p53476
aVdisplay the splash frame
p53477
aVcreate a Timer with a 3 seconds delay, and call  on this timer
p53478
aVIts ActionListener should hide the splash frame, and show the Login frame
p53479
aVstart the timer
p53480
as(dp53481
g23
V571407
p53482
stp53483
a((dp53484
g2
(lp53485
VIt seems you're starting with Java
p53486
aVI would advise to avoid messing with inner classes for the moment
p53487
aVDefine each Java class in its own file, and everything will be simpler
p53488
aVAlso learn about Java naming conventions:
p53489
aVclasses start with an upper-case letter, and are CamelCased: ,
p53490
aVThey should not contain underscores
p53491
aVvariables start with a lower-case letter, and are camelCased:
p53492
aVThey should not contain underscores
p53493
aVOnce you are more comfortable with the basics, learn about inner classes and static inner classes in the Java tutorial
p53494
aVBut inner classes should not be abused
p53495
aVThe basic rule is to have one class per file
p53496
as(dp53497
g23
V571407
p53498
stp53499
a((dp53500
g2
(lp53501
VIf  means that  is a type that must implement the  interface, the Java equivalent is
p53502
aVRead the generics tutorial for more information
p53503
as(dp53504
g23
V571407
p53505
stp53506
a((dp53507
g2
(lp53508
V means: I know that the concrete runtime type of the object referenced by  implements the  interface, so I would like to reference it as an
p53509
aVIf the concrete runtime type of  indeed implements , the cast will succeed
p53510
aVThe fact that  and  have nothing in common doesn't matter
p53511
aVWhat matters is the actual concrete runtime type of the object referenced by
p53512
as(dp53513
g23
V571407
p53514
stp53515
a((dp53516
g2
(lp53517
V will sort based on the natural ordering (defined by the compareTo method) of the units
p53518
aVIf the natural ordering is not what you want, then use  and pass a comparator which compares the position of the units
p53519
aVRegarding your second question: you shouldn't have to know the type of the units
p53520
aVYour Unit class should provide polymorphic methods that you can call and which are implemented by every subclass to do the appropriate thing
p53521
aVThere's always the  operator and the  method, but using them shows a lack of OO design, and is thus bad practice
p53522
as(dp53523
g23
V571407
p53524
stp53525
a((dp53526
g2
(lp53527
VCreate a class called , and containing the necessary fields: , , ,
p53528
aVUse a  ( being usually the best choice as an implementation)
p53529
aVJava is an OO language
p53530
aVUse objects to store your information, and encapsulate behavior
p53531
aVUsing multi-dimensional arrays is not the appropriate solution
p53532
as(dp53533
g23
V571407
p53534
stp53535
a((dp53536
g2
(lp53537
VThe serialization mechanism handles them in a special, specific way
p53538
aVBut traditional singletons can be deserialized fine by defining a  method that returns the unique instance
p53539
aVSee http://www
p53540
aVoodesign
p53541
aVcom/singleton-pattern
p53542
aVhtml for an example
p53543
as(dp53544
g23
V571407
p53545
stp53546
a((dp53547
g2
(lp53548
VYour code doesn't compile
p53549
aVDon't try to execute non-compiling code
p53550
aVFix all the compilation errors before executing the code
p53551
aVThey're visible in the "Problems" view of your Eclipse IDE
p53552
as(dp53553
g23
V571407
p53554
stp53555
a((dp53556
g2
(lp53557
VI don't understand why you would need to use a new ServerSocket each time the main one accepts a connection
p53558
aVWhy don't you simply use the socket returned by  (as explained in the Java tutorial)
p53559
aVAlso, instead of starting a new thread for each client, you should use a thread pool
p53560
aVThis would avoid constant creations of new threads, and would avoid starting too many threads and bring your server to its knees
p53561
aVThis architecture is not the best one to handle a huge number of users, though
p53562
aVUsing asynchronous IO would probably be a better solution if you really need such a scalability, but I don't have much experience with that
p53563
as(dp53564
g23
V571407
p53565
stp53566
a((dp53567
g2
(lp53568
Va++ reads the value of a, since it's equivalent to
p53569
aVread a
p53570
aVincrement the read value
p53571
aVassign the new value to a
p53572
aVSo no, you can't safely use a volatile variable in this case
p53573
as(dp53574
g23
V571407
p53575
stp53576
a((dp53577
g2
(lp53578
VA usage I've seen is the following: you have two instances of a given interface (): one for environment A, and one for environment B
p53579
aVSo you define two beans: one named "someBeanForA", and the other one named "someBeanForB"
p53580
aVThe beans where this SomeBean must be injected don't know which one they must use: it depends on the environment
p53581
aVSo they use an alias:
p53582
aVWhen deploying to the environment A, the alias in the XML file points to someBeanA
p53583
aVWhen deploying to the environment B, the alias in the XML file points to someBeanB
p53584
as(dp53585
g23
V571407
p53586
stp53587
a((dp53588
g2
(lp53589
VWhen you append a char to a String, the char is appended ('a' for example), and not its numeric value (97 for example)
p53590
aVIf you want to know what the numeric value of the char is, use
p53591
as(dp53592
g23
V571407
p53593
stp53594
a((dp53595
g2
(lp53596
VYou don't seem to understand how a JSP works
p53597
aVA JSP is executed at server-side
p53598
aVIt's simply another way to write a servlet
p53599
aVIts goal is to generate HTML, which will be sent to the browser
p53600
aVThe  tag is used to set a page-scope attribute
p53601
aVYou can see that as a variable that is local to the current JSP execution
p53602
aVSo the above is more or less equivalent to this:
p53603
aVSo, in clear, you're defining a local variable, which is never used
p53604
aVIf you want to trim what is submitted by the form generated by the JSP, it's not this JSP that must trim the parameter, it's the Spring controller which will receive the form submission, and which is thus mapped to the path "addAcademicAction"
p53605
as(dp53606
g23
V571407
p53607
stp53608
a((dp53609
g2
(lp53610
VWhen you start a thread, the started thread runs in parallel of all the already running threads
p53611
aVThe thread scheduler dispatches the various threads on the available processors, and each thread gets some processor time, each in his turn
p53612
aVBut the processor, the order and the time assigned to each thread is up to the OS thread scheduler, and you have absolutely no guarantee
p53613
as(dp53614
g23
V571407
p53615
stp53616
a((dp53617
g2
(lp53618
VYou're rying to delete a customer, which automatically deletes its list of default masks
p53619
aVBut one of these masks is referenced by a column
p53620
aVSo the database (and thus Hibernate) refuses to execute the deletion, because it would leave the column in an inconsistent state: it would reference a default mask that doesn't exist anymore
p53621
aVSo you have several functional choices:
p53622
aVleave it as it is: the customer can't be deleted because one of its masks is still referenced by a column
p53623
aVremove the cascade: deleting the customer will delete the customer but not its masks
p53624
aVfind all the columns which reference any of the default masks of the user to be deleted, and remove these columns
p53625
aVThen, remove the user and its default masks
p53626
aVfind all the columns which reference any of the default masks of the user to be deleted, and set their mask fild to null
p53627
aVThen, remove the user and its default masks
p53628
as(dp53629
g23
V571407
p53630
stp53631
a((dp53632
g2
(lp53633
VIf you search for the callers of the constructor of DataIntegrityViolationException in the Spring source code, you'll find that it's called in :
p53634
aVSo the exception is caused by a violated constraint, and  is the name of the constraint as returned by the JDBC exception
p53635
aVSo you should blame the MySQL driver for not populating the violated constraint name in the JDBC exception
p53636
aVBut the violated constraint could be any constraint, and not necessarily a  constraint
p53637
as(dp53638
g23
V571407
p53639
stp53640
a((dp53641
g2
(lp53642
VYou should also respect Java naming conventions
p53643
aVshould be ,  should be , etc
p53644
as(dp53645
g23
V571407
p53646
stp53647
a((dp53648
g2
(lp53649
VOK, let me elaborate on my comment
p53650
aVA constructor shouldn't read a file to find its own parameters
p53651
aVThat's not its job
p53652
aVIf I understand correctly, your problem is that you need to have
p53653
aVBut a, b and c come from a file
p53654
aVSince super must be the first instruction of the constructor, you can't read the file before invoking super, so you're doomed
p53655
aVYou should use a factory method instead:
p53656
aVThe callers, to construct a CollegeStudent from a file, would simply call
p53657
aVThis is a typical OO pattern, which is often used
p53658
aVSee , for example
p53659
as(dp53660
g23
V571407
p53661
stp53662
a((dp53663
g2
(lp53664
VForget about JSP actions
p53665
aVJust as scriptlets, they should not be usd anymore
p53666
aVLearn how JSP tags work, and learn the JSTL (JSP Standard Tag Library)
p53667
aVA page-scope attribute is typically set using the JSTL tags:
p53668
aVor
p53669
aVfor example
p53670
as(dp53671
g23
V571407
p53672
stp53673
a((dp53674
g2
(lp53675
VYou have two problems:
p53676
aVyou're using  as a way to know a file length
p53677
aVthat's not what the method does
p53678
aVavailable() should almost never be used
p53679
aVI've never seen any use-case where using it was a good idea
p53680
aVyou're using the  method and disregard its returned value
p53681
aVYou use it to dcrment the size variable, but you don't care if you byte array is filled with read bytes or filled with zeroes
p53682
aVisn't guaranteed to read as many bytes as you asked
p53683
aVThere could be other errors in the way bytes are sent over the wire and read by the other side as well
p53684
as(dp53685
g23
V571407
p53686
stp53687
a((dp53688
g2
(lp53689
VEach deployed web application has its own class loader
p53690
aVThat's what makes it possible to deploy two different webapps on the same container and to undeploy them, even if they use conflicting versions of the same library
p53691
aVThe webapp's classloader is a child of the tomcat classloader, and its classpath contains the webapp's  directory, as well as every jar file in
p53692
aVI don't know how you set your classpath, but you shouldn't set any classpath in eclipse, and the WEB-INF directory itself should definiitely not be in the classpath
p53693
aVThe first and second line are basically equivalent, since they both use getSstemResource, which uses the system classloader
p53694
aVIt's normal that they don't find your file, since the webapp's classpath is not in the system classpath
p53695
aVThe third line should find the file if it's in the webapp's classpath, i
p53696
ag468
aVunder  or in a jar under
p53697
as(dp53698
g23
V571407
p53699
stp53700
a((dp53701
g2
(lp53702
VYou can't use a JSP tag inside an attribute of another JSP tag
p53703
aVTo do what you want, save the message in a page-scope attribute, and use the EL to pass the message to the input tag:
p53704
as(dp53705
g23
V571407
p53706
stp53707
a((dp53708
g2
(lp53709
VYou don't send a request to a Java method, but to a URL
p53710
aVIf your servlet is mapped to this URL, then its  method will be called (since you chose POST to send your request)
p53711
aVMany MVC frameworks (like Stripes, Play, Spring MVC) allow defining actions (sort of servlets) with several methods, each mapped to a given URL
p53712
as(dp53713
g23
V571407
p53714
stp53715
a((dp53716
g2
(lp53717
VNothing forbids you from catching runtime exceptions
p53718
aVThe trend, nowadays, is to use more and more runtime exceptions, and less and less checked exceptions
p53719
aVSpring, Hibernate, and the latest Java EE specs use runtime exceptions almost exclusively
p53720
aVThis makes the business code easier to read and less cumbersome
p53721
aVThe runtime exceptions are generally intended to be not caught at all, or only caught at the bottom of the call stack, in the UI layer, in order to display an error message, because that's usually the only thing you can do when such an exception occurs
p53722
as(dp53723
g23
V571407
p53724
stp53725
a((dp53726
g2
(lp53727
VIf  has a bidirectional OneToOne with , which extends , then the container field should not be defined and mapped in , but in :
p53728
aVIf all the types of container assignments have such a OneToOne association with COntainer, you can define the Container as
p53729
aVTo be honest, I don't know if you're allowed to use the same join column in the table to map the  fields of each subclass
p53730
aVI think this is the best you can have
p53731
aVIf you put the container field in the base class, then you must define the association as a OneToMany/ManyToOne association, since it's what it really is
p53732
aVI don't think what you want to do is possible, and I wouldn't mess with composite PKs, as they're discouraged for good reasons, and a nightmare to use
p53733
as(dp53734
g23
V571407
p53735
stp53736
a((dp53737
g2
(lp53738
VThis situation should not happen in a well-defined schema, with foreign key constraint
p53739
aVIf the user has a non-null , then this ID should refer to an existing ID in the Area table
p53740
aVI would fiw the data, and add a foreign key constraint to make sure this never happens
p53741
aVIf for extremely good reasons, it's impossible, then you can use the  annotation
p53742
aVBut it will have a performance cost, because Hibernate will have to check i the ID is a real ID or a non-existing ID each time it loads a user
p53743
as(dp53744
g23
V571407
p53745
stp53746
a((dp53747
g2
(lp53748
VJSP actions like useBean are something from the past, which shouldn't be used anymore
p53749
aVThe role of a JSP is to be a view, which generates markup from data prepared by the controller
p53750
aVCreating a menu is not its responsibility
p53751
aVThe listener approach should be preferred
p53752
as(dp53753
g23
V571407
p53754
stp53755
a((dp53756
g2
(lp53757
VThe default  is not strictly a memory address, but unless you have a huge memory, it's indeed unique among all the objects in the JVM, so you could see it as a "logical" address
p53758
aVA HashMap has a limited number of buckets, and each key is indeed assigned a bucket based on its hash code
p53759
aVThere is not one bucket per hash code
p53760
aVSo even if two objects have a different hash code, they could end up in the same bucket
p53761
aVThat's why it's important to have hashCode as well distributed as possible, to avoid such collisions
p53762
aVUsing the system identity hash code of a key (i
p53763
ag468
aVthe hash code returned by ) is not desirable most of the time, because you want two keys to be equal if they hold the same information, not if they are the same object instance
p53764
aVFor example, if you store a student in a map based on his SSN, and later get the SSN of this student from some web service or from the database, you won't have the same STring instance, but you want to be able to find the student in the map using the SSN you received
p53765
as(dp53766
g23
V571407
p53767
stp53768
a((dp53769
g2
(lp53770
VYou're mixing hibernate3 and hibernate4 classes:
p53771
aVMake sure to only use classes from the hibernate4 package if you're using Hibernate 4, or to only use classes from the hibernate3 package if you're using Hibernate 3
p53772
aVMoreover, it seems you're running this inside JBoss
p53773
aVWhy not use its JTA transaction manager then
p53774
as(dp53775
g23
V571407
p53776
stp53777
a((dp53778
g2
(lp53779
VServlets are not Spring beans
p53780
aVThey're instantiated by tomcat directly, and not by Spring
p53781
aVThey are thus out of Spring's scope and can't be injected
p53782
aVConsider using Spring MVC controllers instead of servlets
p53783
as(dp53784
g23
V571407
p53785
stp53786
a((dp53787
g2
(lp53788
VYes
p53789
aVDefine an interface XtoYFunction :
p53790
aVAnd let the user pass an implementation of this interface
p53791
aVCall its transform method with the X coordinates, and you'll get the corresponding Y coordinates
p53792
aVIf one Y depends on one X, the interface could be
p53793
aVYou would simply loop through the X coordinates and call the function for each value to get its corresponding Y coordinate
p53794
aVFor example:
p53795
as(dp53796
g23
V571407
p53797
stp53798
a((dp53799
g2
(lp53800
VBackslashes need to be escaped in String literals, because they're a special character
p53801
aVBut the String literal  is in fact a String containing a, one backslash, and b
p53802
aVIf you print it, it will display
p53803
aVJust like the String literal  is a String containing a, one newline character, and b
p53804
aVYou don't have anything to do
p53805
as(dp53806
g23
V571407
p53807
stp53808
a((dp53809
g2
(lp53810
VPut its jar in the classpath, and, in your main method, before displaying any Swing component, add the following code:
p53811
as(dp53812
g23
V571407
p53813
stp53814
a((dp53815
g2
(lp53816
VYou have various options:
p53817
aVUse
p53818
aVUse
p53819
aVUse a template engine like Velocity or FreeMarker
p53820
as(dp53821
g23
V571407
p53822
stp53823
a((dp53824
g2
(lp53825
VYou can't chain properties in a criteria query
p53826
aVAnd even in a HQL queries,  is invalid, since  refers to a collection, and not to an instance of Car
p53827
aVA join is necessary to be able to refer to a Car in the collection of cars
p53828
aVThat's what the  call does
p53829
aVThe above is similar to
p53830
as(dp53831
g23
V571407
p53832
stp53833
a((dp53834
g2
(lp53835
s(dp53836
g23
V571407
p53837
stp53838
a((dp53839
g2
(lp53840
VYou haven't declared any servlet in your web
p53841
aVxml file, and you haven't mapped any URL either
p53842
aVSo obviously, your servlet is unavailable
p53843
aVHere's a tutorial explaining how to declare and map a servlet
p53844
aVYou need the following in your web
p53845
aVxml:
p53846
as(dp53847
g23
V571407
p53848
stp53849
a((dp53850
g2
(lp53851
VWebContent is the location of your webapp sources
p53852
aVWhen deployed, everything is bundled into a war file, and can't be accessed using file IO
p53853
aVUse  to get a resource from your webapp's context
p53854
as(dp53855
g23
V571407
p53856
stp53857
a((dp53858
g2
(lp53859
VThat's what the query cache (which must be coupled with the second-level cache) is for
p53860
aVA query that searches in an empty table, however should be extremely fast, and I doubt this is the cause of any bottleneck
p53861
as(dp53862
g23
V571407
p53863
stp53864
a((dp53865
g2
(lp53866
VA simple solution would be to generate a first random number between 0 and 9
p53867
aV0 means the 10 first percents, 1 the ten following percents, etc
p53868
aVSo if you get 0 or 1, you generate a second random number between 0 and 20
p53869
aVIf you get 2, 3, 4, 5 or 6, you generate a second random number between 21 and 50, etc
p53870
as(dp53871
g23
V571407
p53872
stp53873
a((dp53874
g2
(lp53875
VI don't know what flipping means exactly, but based on your example, the result could be achieved by doing
p53876
as(dp53877
g23
V571407
p53878
stp53879
a((dp53880
g2
(lp53881
VBecause a  is not the same thing as a
p53882
aVA  holds objects of one specific type, that you don't know, but which is String or a super-class or super-interface of String
p53883
aVWhereas a  is a List that can hold any kind of object
p53884
aVSuppose  is
p53885
aVWould you find it normal that the following compiles
p53886
as(dp53887
g23
V571407
p53888
stp53889
a((dp53890
g2
(lp53891
VIn such a case, you would indeed use POJOs stored in some in-memory collection to represent your transient data
p53892
aVSession beans are either stateless (so can't contain shared data) or stateful (which mean they contain conversational data for one client only)
p53893
aVEntities are persistent
p53894
as(dp53895
g23
V571407
p53896
stp53897
a((dp53898
g2
(lp53899
VYou can fetch an association using
p53900
aVIn this case, the preferences will be fetched with the persons, in the same query, and the contact details will be fetched lazily (which means that they will only be fetched if you call a method on the set of contact details)
p53901
aVThe problem, however, is that join fetching doesn't work with  and  because these are applied on the SQL statement directly, and are thus used to set the first and max number of rows returned by the SQL query
p53902
aVAnd a single person, if the preferences are join fetched, corresponds to multiple rows (one row per preference)
p53903
as(dp53904
g23
V571407
p53905
stp53906
a((dp53907
g2
(lp53908
VIf the list is fully populated and always accessed in read-only by all the threads, you won't have a problem
p53909
aVIf there is a write operation, then you need to synchronize all the accesses to the list, or to use a concurrent list (like )
p53910
as(dp53911
g23
V571407
p53912
stp53913
a((dp53914
g2
(lp53915
VYou have several possibilitiies:
p53916
aVcreate your own Projection class, which generates the "salary + 500" select clause
p53917
aVYou can use the property projection as a template
p53918
aVuse HQL rather than Criteria
p53919
aVnot doing this in the query, but doing it in Java: you select the salary, ietarate through the returned list, and add 500 to every salary in the list
p53920
as(dp53921
g23
V571407
p53922
stp53923
a((dp53924
g2
(lp53925
VYes, once an object is sent over an ObjectOutputStream, re-sending it, even if modified, will only send a reference to the previously sent object, unless  is called on the stream
p53926
as(dp53927
g23
V571407
p53928
stp53929
a((dp53930
g2
(lp53931
VIf your object is a Hibernate entity, then two threads shouldn't have a reference to the same object in the first place
p53932
aVEach thread will have its own Hibernate session, and each session will have its own copy of the entity
p53933
aVIf you have a field annotated with  in your entity, for optimistic locking, one of the thread will get an OptimisticLockException
p53934
aVOtherwise, everything will go fine, and the last thread to commit will win
p53935
as(dp53936
g23
V571407
p53937
stp53938
a((dp53939
g2
(lp53940
VIt's not possible
p53941
aVJoins are only possible if there is an association between two entities
p53942
aVYou could be able to do what you want if you had:
p53943
aVa ManyToOne or OneToOne association from First to Employee
p53944
aVa OneToMany or OneToOne association from Employee to Second
p53945
aVand in this case, the query would look like
p53946
as(dp53947
g23
V571407
p53948
stp53949
a((dp53950
g2
(lp53951
VYou can't create a session
p53952
aVYou can only get a session, and this will return a previously created session (if present), or create one and return it (if no session present yet)
p53953
aVEven non logged-in users can have a session
p53954
aVIn fact, they will have one by default if they browse to a JSP which doesn't have
p53955
aVThe authentication should simply get
p53956
aVthe session, and store some  flag (or  token) in the session
p53957
aVIf you don't want authenticated users to go to the login page, then when they go to this page, check if the  token is already in the session, and redirect to some other page
p53958
as(dp53959
g23
V571407
p53960
stp53961
a((dp53962
g2
(lp53963
VYou can't do that
p53964
aVThe placeholders () are not just replaced by Hibernate by any parameter you might pass
p53965
aVThe HQL query is translated to a SQL prepared statement, and the placeholders are parameters of this prepared statement
p53966
aVA prepared statement is used by the database to compute the execution plan for the query
p53967
aVSo if the query doesn't even contain the table name, it's impossible to compute the execution plan
p53968
aVYou can only pass values as parameters to a query
p53969
aVYou can't pass column names or table names
p53970
as(dp53971
g23
V571407
p53972
stp53973
a((dp53974
g2
(lp53975
VTry with
p53976
as(dp53977
g23
V571407
p53978
stp53979
a((dp53980
g2
(lp53981
VShort answer to a veeeeery long question:
p53982
as(dp53983
g23
V571407
p53984
stp53985
a((dp53986
g2
(lp53987
VNew folder creates a new folder inside a project
p53988
aVNew source folder creates a new folder iside a project, and adds this folder to the set of source folders of the project
p53989
aVEclipse will compile the files in this folder
p53990
aVNew package creates a new Java package inside a source folder
p53991
aVIt also creates the folder associated with the package, of course
p53992
as(dp53993
g23
V571407
p53994
stp53995
a((dp53996
g2
(lp53997
VUse a servlet, write the data in CSV (or Excel) format to the response output stream, and make sure to set the appropriate content-type on the response and to set the following header:
p53998
aVThere are lots of libraries to generate CSV or Excel from Java
p53999
as(dp54000
g23
V571407
p54001
stp54002
a((dp54003
g2
(lp54004
VIf OpdBill is a Bill, then both must share the same ID field, and Hibernate must be able to distinguish two bills (whatever their class is) thanks to their IDs
p54005
aVAll the subclasses must thus share the same ID generation with the base class, and the IDs of all the instances of Bill and its subclasses must be unique
p54006
as(dp54007
g23
V571407
p54008
stp54009
a((dp54010
g2
(lp54011
VStore your hands in an array (or a List), and use two nested loops:
p54012
as(dp54013
g23
V571407
p54014
stp54015
a((dp54016
g2
(lp54017
VHere's how I would do it:
p54018
aVHave a table with 6 columns in the database:
p54019
aVid (auto-generated primary key)
p54020
aVdoctorId
p54021
aVdate
p54022
aVsession
p54023
aVcounter
p54024
aVversion (mapped to a field annotated with , for optimistic locking)
p54025
aVMake sure to add a unique contraint on [doctorId, date, session]
p54026
aVCreate a service, running in its own transaction (REQUIRES_NEW propagation), called
p54027
aVThis service should get the counter corresponfing to its three arguments from the database table, return it, and increment it
p54028
aVIf there is no row yet, it should create it
p54029
aVThere's still a possibility to have two concurrent transactions try to create or increment the same row concurrently
p54030
aVIn the case of a creation, one of the transactions would rollback due to the unique contraint
p54031
aVIn the case of an increment, one of the transactions would rollback due to the JPA optimistic locking
p54032
aVIf the service rolls back, then retry it, until there is no exception anymore
p54033
aVThis avoids storing all these counters in memory, is stateless and thus doesn't cause any problem if you restart your application, and works even if you have a cluster of servers
p54034
as(dp54035
g23
V571407
p54036
stp54037
a((dp54038
g2
(lp54039
VXxxToOne associations are eager by default
p54040
aVAnnotate them as lazy if you don't want Hibernate to load them eagerly
p54041
aVMoreover, a SpecialReport is a Report, so the following join doesn't make much sense:
p54042
as(dp54043
g23
V571407
p54044
stp54045
a((dp54046
g2
(lp54047
s(dp54048
g23
V571407
p54049
stp54050
a((dp54051
g2
(lp54052
VFor each student in the list, you're inserting a new student if this student doesn't have the same name as the result to insert:
p54053
aVThe above should be written as:
p54054
aVAnd the findStudentWithName method would look like this:
p54055
as(dp54056
g23
V571407
p54057
stp54058
a((dp54059
g2
(lp54060
VYour query expects a parameter (a value for ), but you don't pass any
p54061
aVThe code should look like
p54062
aVLooking at the query, it alwo looks like the Emp entity should have an association to an Org entity rather than to have its ID
p54063
aVI would also name the entities Employee and Organization
p54064
aVYour code would be much more readable than with these 3-letters names
p54065
as(dp54066
g23
V571407
p54067
stp54068
a((dp54069
g2
(lp54070
VThe array must be defined before the loop
p54071
aVEach iteration should only add an element to the array:
p54072
aVIf you don't know the size of the array in advance, then use a List instead, which grows dynamically:
p54073
aVAlso, please respect the Java naming conventions
p54074
as(dp54075
g23
V571407
p54076
stp54077
a((dp54078
g2
(lp54079
VA non-static inner class has an implicit reference to its outer class instance
p54080
aVSo when you serialize DummyClass, you're also serializing this implicit reference to the DummyClassTest instance owning it
p54081
aVDefine the DummyClass as a top-level class (non nested), or as a static inner class, and everything will work as expected
p54082
aVThe following:
p54083
aVis more or less equivalent to
p54084
as(dp54085
g23
V571407
p54086
stp54087
a((dp54088
g2
(lp54089
VAn entity represents data
p54090
aVIt can have some methods (other than getters and setters) that can be unit-tested as any other method
p54091
aVIf you want to test that the entity can be persisted and retrieved from the database (i
p54092
ag468
aVthat its mapping is defined correctly), then you shouldn't mock anything
p54093
aVHave a test that uses a real entity manager and a database filled with test data, and that tries to persist and/or retrieve an instance of your entity
p54094
aVYou could use DbSetup (yes, self-promotion here) to fill the database with test data before such tests
p54095
as(dp54096
g23
V571407
p54097
stp54098
a((dp54099
g2
(lp54100
VI'm not familiar anymore with the Java memory model of Java 1
p54101
aV4, but I don't see why you would need synchronization
p54102
aVIf you're starting a thread, then the new thread will see everything you have written before starting the thread
p54103
aVAnd if you're passing the task to an existing thread, the publishing mechanism should have all the necessary synchronization in place to make sure that the thread sees everything that has been written before the publication
p54104
aVThat shouldn't be the task's job to synchronize anything, it should be the Queue's job (or any other way you use to pass the task from one thread to the other)
p54105
as(dp54106
g23
V571407
p54107
stp54108
a((dp54109
g2
(lp54110
VThe explanation is in the javadoc:
p54111
aVThrows:
p54112
aVIllegalStateException - If no match has yet been attempted, or if the previous match operation failed
p54113
as(dp54114
g23
V571407
p54115
stp54116
a((dp54117
g2
(lp54118
VYour approach is fine
p54119
aVUnless N is large, it should be OK
p54120
aVIf N is really large, you could store the first event of each stream in a sorted collection, associated with the stream it comes from, and each time you remove an item from this sorted collection, you would add the next one from the stream it comes from
p54121
as(dp54122
g23
V571407
p54123
stp54124
a((dp54125
g2
(lp54126
VThe libraries of a webapp must be in the  directory of the deployed web application directory or war file
p54127
aVEvery jar file in this directory will be in the classpath of the webapp, and won't be in the classpath of the other deployed webapps
p54128
aVYou indeed shouldn't put webapp libraries into Tomcat's classpath
p54129
as(dp54130
g23
V571407
p54131
stp54132
a((dp54133
g2
(lp54134
VCreating instances of Reports like this is not safe anyway, since Hibernate uses reflection to instantiate and populate the reports
p54135
aVSo you could simply do:
p54136
as(dp54137
g23
V571407
p54138
stp54139
a((dp54140
g2
(lp54141
Vor
p54142
aVForget about scriptlets
p54143
aVThey shouldn't be used anymore
p54144
aVThe EL looks for page-scope attributes, then request-scope attributes, then session-scope attributes, the application-scope attributes
p54145
aVAnd  is true by default (since it's the only thing  does)
p54146
as(dp54147
g23
V571407
p54148
stp54149
a((dp54150
g2
(lp54151
VJust a guess, but since you mapped it on , and since roles is probably a collection, it makes sense to make the select box multiple
p54152
aVIf it was not multiple, you would only be able to store a single item in the collection
p54153
aVAnd the tag would not be able to display the selected roles
p54154
aVEDIT: after reading the source code of the tag, it appears my guess was right
p54155
aVSee the  method in
p54156
as(dp54157
g23
V571407
p54158
stp54159
a((dp54160
g2
(lp54161
VThe criteria API is useful when you need to dynamically compose a query from a set of optional search criteria
p54162
aVIn this case, using JPQL leads to much simpler and more readable code:
p54163
aVOr even simpler, without any query at all:
p54164
as(dp54165
g23
V571407
p54166
stp54167
a((dp54168
g2
(lp54169
VAssuming Hand holds its cards into a  (i
p54170
ag468
aVa  or a  for example):
p54171
as(dp54172
g23
V571407
p54173
stp54174
a((dp54175
g2
(lp54176
VSuppose you have two event sources: one firing events of type , and one firing events of type
p54177
aVSuppose  and  extend a common superclass (or implement a common interface)
p54178
aVWith EventBus, you can listen to events of type , and you'll be notified of s and s, because they both extend this common supertype
p54179
aVIf you listen for events of type , then you will be notified of every event, since every class in Java extends Object
p54180
aVThat would be a wildcard listener: it listens at everything
p54181
as(dp54182
g23
V571407
p54183
stp54184
a((dp54185
g2
(lp54186
s(dp54187
g23
V571407
p54188
stp54189
a((dp54190
g2
(lp54191
VUse a collection of buttons:
p54192
as(dp54193
g23
V571407
p54194
stp54195
a((dp54196
g2
(lp54197
VAssuming the indices all start at 0, , so row with index 7 (8th row)
p54198
aV, so column with index 1 (2nd column)
p54199
as(dp54200
g23
V571407
p54201
stp54202
a((dp54203
g2
(lp54204
V is an instance method of a non-static inner class of , so it has an implicit reference to its outer class instance, and has access to all the fields and methods of this instance, and thus to
p54205
aVThe  is an anonymous inner class of the inner class of , and thus also has access to all the fields and methods of its two outer class instances
p54206
aVIf the inner class was static, it wouldn't compile
p54207
aVIf  was a non-final local variable of the  method, it wouldn't compile either
p54208
as(dp54209
g23
V571407
p54210
stp54211
a((dp54212
g2
(lp54213
VIf you want the  method delegate to the current state  method, then do so
p54214
aVIn your code, it returns a hard-coded string and doesn't use the state at all
p54215
aVChange
p54216
aVto
p54217
as(dp54218
g23
V571407
p54219
stp54220
a((dp54221
g2
(lp54222
VOnce you have read the image once from the input stream, the stream is at its end, and reading a second time won't read anything
p54223
aVThe Photo class should read from the stream and store everything read as a byte array, or as a BufferedImage or ImageIcon directly
p54224
as(dp54225
g23
V571407
p54226
stp54227
a((dp54228
g2
(lp54229
VYour servlet is mapped to  (that's what the  annotation does)
p54230
aVAnd it is part of a webapp, deployed under some context path (let's say the context path is )
p54231
aVSo the URL to invoke the servlet is:
p54232
as(dp54233
g23
V571407
p54234
stp54235
a((dp54236
g2
(lp54237
s(dp54238
g23
V571407
p54239
stp54240
a((dp54241
g2
(lp54242
VA jspf file is a file that is supposed to be statically included, using an include directive:
p54243
aVThat's just what a JSP fragment segment is, and since it's supposed tobe statically included, there is no point in compiling it
p54244
aVHere's what the spec says:
p54245
aVBy default the extension
p54246
aVjsp means a top-level JSP file
p54247
aVWe
p54248
aVrecommend, but do not mandate, to differentiate between top-level JSP
p54249
aVfiles (invoked directly by the client or dynamically included by
p54250
aVanother page or servlet) and statically included segments so that:
p54251
aVThe
p54252
aVjsp
p54253
aVextension is used only for files corresponding to top level JSP files,
p54254
aVforming a JSP page when processed
p54255
aVStatically included segments use
p54256
aVany other extension
p54257
aVAs included segments were called \u2018JSP fragments\u2019
p54258
aVin past versions of this specification, the extension
p54259
aVjspf was
p54260
aVoffered as a suggestion
p54261
aVThis extension is still suggested for
p54262
aVconsistency reasons, despite that they are now called \u2018jsp segments\u2019
p54263
aVIf you want to dynamically include it, then it must have the  extension
p54264
aVBut in this case, I don't see why you wouldn't use a static include
p54265
as(dp54266
g23
V571407
p54267
stp54268
a((dp54269
g2
(lp54270
VWhen your master branch is ready to be put in production, you merge it to the production branch, and then push this production branch to the github repo
p54271
as(dp54272
g23
V571407
p54273
stp54274
a((dp54275
g2
(lp54276
VYou're adding 5 different components (the label, text field, and the 3 buttons) to the same place in the layout (the SOUTH section of your border layout)
p54277
aVYou should add these 5 components to another JPanel, using a FlowLayout for example, and then add this panel to the SOUTH of your main panel
p54278
as(dp54279
g23
V571407
p54280
stp54281
a((dp54282
g2
(lp54283
VClick on the info link in the popover on the JSTL tag you added on your question to get information about the JSTL and links to tutorials
p54284
aVWhat you want to achieve could be done like this:
p54285
as(dp54286
g23
V571407
p54287
stp54288
a((dp54289
g2
(lp54290
VAdd your checkboxes to a collection, and when the button is pressed, iterate through the checkboxes and get the text associated with each checked checkbox:
p54291
as(dp54292
g23
V571407
p54293
stp54294
a((dp54295
g2
(lp54296
VThe  instance waits on  (an instance of ), and the  instance notifies on  (an instance of )
p54297
aVSo the notifier doesn't notify the waiting thread
p54298
aVThe two objects must use the same object instance to wait and notify
p54299
aVAnd even better, you should use higher-level abstractions from the  package, like Semaphores, CountDownLatches, etc
p54300
aV, rather than these hard to use low-level methods
p54301
aVMoreover,  should always be called in a loop that checks if the condition necessary to wake up is realized and starts waiting again if it's not, due to spurious wakeups
p54302
as(dp54303
g23
V571407
p54304
stp54305
a((dp54306
g2
(lp54307
VYou designed the Clock as a singleton: there is only one instance of Clock per classloader:
p54308
aVSo obviously, if a method of a test affects the state of the clock, the next method will find this clock with this new state
p54309
aVYou've just rediscovered one of the reasons why singleton is an anti-pattern: it's hard to unit-test
p54310
aVEvery test should not assume anything about the clock, and put it in a well-known initial state before testing
p54311
aVOr you could simply design the Clock as a plain old Java object that you can instantiate in the setup of your test, and use an IOC container to inject a unique instance of Clock in your beans at runtime
p54312
aVAlso, note that unit tests are supposed to be independant from each other
p54313
aVYou might want to execute all tests, or only one of them, and they should be able to run in any order
p54314
as(dp54315
g23
V571407
p54316
stp54317
a((dp54318
g2
(lp54319
VWhat Eclipse deploys to Tomcat is what is inside
p54320
aVIf your JS files are not in WebContent, they won't be part of the deployed web app
p54321
aVYou need to understand that what Eclipse shows you is you development, source folders
p54322
aVWhat is deployed is not this folder, but a directory structure conforming the Java EE specs:
p54323
aVEverything in WebContent is part of the deployed archive
p54324
aVThe Java source files are compiled and stored in the WEB-INF/classes of the deployed archive
p54325
aVThe non-Java files under a source directory ar copied to the WEB-INF/classes of the deployed archive
p54326
aVAll the other files are not part of the deployed archive
p54327
as(dp54328
g23
V571407
p54329
stp54330
a((dp54331
g2
(lp54332
VAs explained in the documentation, by using an  annotation:
p54333
as(dp54334
g23
V571407
p54335
stp54336
a((dp54337
g2
(lp54338
VI guess that you have a named query defined, and want to execute a query that is similar to this named query, but still different
p54339
aVThe solution is simply to not use this named query
p54340
aVDefine another one, doing what you want it to do, and use this new named query instead of the other one
p54341
aVOr, if you don't want to repeat all the common stuff between both queries, don't use named queries at all, and compose the query dynamically, directly in your Java code
p54342
as(dp54343
g23
V571407
p54344
stp54345
a((dp54346
g2
(lp54347
VIncrement a counter each time a user logs in
p54348
aVDecrement it each time a user logs out, and each time the HttpSession of a logged in user is destroyed (by using an HttpSessionListener)
p54349
aVWhen a user logs in and the counter is at 10, then refuse to log him in
p54350
aVI really don't knwow why you would want to do that, though
p54351
aVIt makes no sense to me
p54352
as(dp54353
g23
V571407
p54354
stp54355
a((dp54356
g2
(lp54357
VFirst of all, don't use Vector, as it's an old class that shouldn't be used anymore for more than 10 years
p54358
aVUse either a  or a
p54359
aVIf the  class contains information about the way a student attends a course (for example, the date of its subscription to the course), you could implement it like this:
p54360
aVThat doesn't prevent you from providing a method in Student that returns all his courses:
p54361
aVIf  doesn't contain any information, then it's probably there to model how these classes would be mapped in database tables, where the only way to have a many-to-many association between two tables is to use a join table holding the IDs of the two associated tables
p54362
as(dp54363
g23
V571407
p54364
stp54365
a((dp54366
g2
(lp54367
VThe answer is in the tags of your question
p54368
aVUse recursion
p54369
aVRecursion consists in having a method call itself
p54370
aVIn this case, the method should print all the text files directly under a given directory, and call itself for every subdirectory of the directory
p54371
as(dp54372
g23
V571407
p54373
stp54374
a((dp54375
g2
(lp54376
V doesn't mean the same thing in this context as what it means for fields and methods
p54377
aVA static nested class is a class that doesn't need any outer class instance to be created
p54378
aVA non-static nested class needs an instance of its outer class to be created, and has an implicit reference to this instance (available using  inside the inner class)
p54379
aVStatic inner classes are typically used to avoid exposing classes to the outside when they're used only by one class, or to have a class being able to access private fields and methods of an outer class, or to scope a class to another one, because it's tightly linked to it
p54380
as(dp54381
g23
V571407
p54382
stp54383
a((dp54384
g2
(lp54385
VOne of the classes must be used by typing its fully qualified name
p54386
aVFor example:
p54387
aVRemember that imports are just used to let you use a class by its simple name rather than using it with its fully qualified name
p54388
aVIf you wanted, you could code all your classes without any import, and always use the fully qualified class names
p54389
aVIt would just be much less readable and more cumbersome to write
p54390
aVBut if two classes with the same simple name are used inside the same class, then you can only import one of them
p54391
as(dp54392
g23
V571407
p54393
stp54394
a((dp54395
g2
(lp54396
VYou should have the following associations:
p54397
aVThe above maps each association as a bidirectional association, but you could of course choose to makes them unidirectional
p54398
as(dp54399
g23
V571407
p54400
stp54401
a((dp54402
g2
(lp54403
VWhy inject the bean in your test rather than creating an instance by yourself
p54404
as(dp54405
g23
V571407
p54406
stp54407
a((dp54408
g2
(lp54409
VUse a collection (or an array, but collections should be preferred generally):
p54410
as(dp54411
g23
V571407
p54412
stp54413
a((dp54414
g2
(lp54415
VIt's not possible without creating a class for every table, but this would be an idea as bad as having a table for each month
p54416
aVThe best advice is to normalize your schema by storing all the information in a single table having a  and a  column
p54417
as(dp54418
g23
V571407
p54419
stp54420
a((dp54421
g2
(lp54422
VUse a
p54423
aVAn example can be found int the Swing tutorial
p54424
aVAn alternative is to wrap your objects inside an object defining its own  method
p54425
as(dp54426
g23
V571407
p54427
stp54428
a((dp54429
g2
(lp54430
VYou're calling the  method on one object, and display the results using another object
p54431
aVThat's like storing a message in a bottle, and then looking if the message is in another bottle
p54432
aVUse the same object to call all three methods
p54433
as(dp54434
g23
V571407
p54435
stp54436
a((dp54437
g2
(lp54438
VYou could simply code the platform code on an interface defining the methods you need, and pass a platform-specific implementation of this interface from the platform-specific project
p54439
aVFor example, if what you need is an int array containing all the pixels of the image (just an example), the interface would be:
p54440
aVAnd you would have two implementations of the interface: one using ImageIO internally, in the desktop project, and the other using Bitmap internally, in the android project
p54441
aVAn instance of one of those classes would be passed to the platform-independant code
p54442
as(dp54443
g23
V571407
p54444
stp54445
a((dp54446
g2
(lp54447
VWriting a benchmark is a hard task, and your benchmark is not a good one, for at least the following reasons:
p54448
aVdoing everything in the main method, without letting Hotspot come in and JIT compile your code make the results wrong
p54449
aVUsing  instead of  doesn't let you use the Integer cache
p54450
aVThe values and operations are not realistic
p54451
aVMost of the time, values are close to 0, and not in the 10,000,000 range
p54452
aVPrimitives and arrays are faster than objects and collections generally, but without measuring your actual code, under realistic conditions, it's hard to tell if the gain you would have by using primitives and arrays would be significant or completely negligible
p54453
aVMost of the time, performance is lost in IO operations
p54454
as(dp54455
g23
V571407
p54456
stp54457
a((dp54458
g2
(lp54459
VIf I understand your question correctly, you want to associate String IDs with accounts identified by these IDs
p54460
aVOne way to do that is to use a Map:
p54461
aVAnd then to get the account with a given ID:
p54462
as(dp54463
g23
V571407
p54464
stp54465
a((dp54466
g2
(lp54467
VThe method getUsernameTwo() returns the user name of a UserBean that has been created in the constructor of DataBean
p54468
aVThis UserBean instance is not the same UserBean object as the one that you instantiated in your JSP
p54469
aVThat's like opening two bottles, putting a message in one of the bottles, and looking inside the other bottle hoping to find the message you put in the first one
p54470
aVIt doesn't work with bottles, and doesn't work with Java objects either, because Java objects are somewhat like real objects
p54471
aVOne thing you could do is to make the DataBean use a UserBean passed in its cnstructor:
p54472
aVAnd in your JSP:
p54473
aVIt seems you haven't grasped basic OO concepts yet
p54474
aVI would advise starting tutorials on basic Java and OO first, before playing with JSPs
p54475
as(dp54476
g23
V571407
p54477
stp54478
a((dp54479
g2
(lp54480
VBecause that's how the android team designed the Activity
p54481
aVThe Activity's  method does things that must be done for every activity created, and not calling  would bypass these mandatory things
p54482
aVis not a constructor
p54483
aVIt's a method
p54484
aVIf you override the method and don't call , you redefine what the  method does
p54485
aVCalling  makes your  method do the same thing as the base  method, plus other things specific to your own activity
p54486
aVSee http://developer
p54487
aVandroid
p54488
aVcom/reference/android/app/Activity
p54489
aVhtml#onCreate%28android
p54490
aVos
p54491
aVBundle%29 for the documentation of this method
p54492
as(dp54493
g23
V571407
p54494
stp54495
a((dp54496
g2
(lp54497
VYou can't
p54498
aVHQL update queries can't have joins
p54499
aVSee the documentation:
p54500
aVSome points to note:
p54501
ag7651
aVNo joins, either implicit or explicit, can be specified in a bulk HQL query
p54502
as(dp54503
g23
V571407
p54504
stp54505
a((dp54506
g2
(lp54507
VBy default, result sets are forward-only, meaning that the only thing you can do to change the position of the cursor is  (which is all you need if you order by ID in descending order)
p54508
aVThe javadoc explains it:
p54509
aVA default ResultSet object is not updatable and has a cursor that
p54510
aVmoves forward only
p54511
aVThus, you can iterate through it only once and
p54512
aVonly from the first row to the last row
p54513
aVIt is possible to produce
p54514
aVResultSet objects that are scrollable and/or updatable
p54515
aVThe following
p54516
aVcode fragment, in which con is a valid Connection object, illustrates
p54517
aVhow to make a result set that is scrollable and insensitive to updates
p54518
aVby others, and that is updatable
p54519
aVSee ResultSet fields for other
p54520
aVoptions
p54521
as(dp54522
g23
V571407
p54523
stp54524
a((dp54525
g2
(lp54526
VIt looks like you could have the following structure:
p54527
aVBut it's not very clear what you mean by "deep" and by "the properties can be either in one or more entities"
p54528
as(dp54529
g23
V571407
p54530
stp54531
a((dp54532
g2
(lp54533
VPut the  inside the
p54534
aVOr even better, don't use scriptlets, and don't forward from a JSP
p54535
aVJSPs should be used as view components, and generate markup only
p54536
aVWorkflow should be done from inside a servlet or action of your preferred MVC framework
p54537
as(dp54538
g23
V571407
p54539
stp54540
a((dp54541
g2
(lp54542
VMy guess is that the problem comes from the use of
p54543
aVYou probably created the TeamPlayer with now as the start date, and if you put a breakpoint, the current timestamp is systematically begger than the start date, whereas if you don't put a breakpoint, the code is fast enough, 10% of the time, to have a the current timestamp equal to the start date of the team player
p54544
as(dp54545
g23
V571407
p54546
stp54547
a((dp54548
g2
(lp54549
V is not a JPA annotation, and is not a Hibernate annotatiion either
p54550
aVI don't know from which package it comes from, but it doesn't have anything to do with JPA/Hibernate persistence
p54551
aVSo, regarding Hibernate queries, the fact that a field has this annotation or not is irrelevant
p54552
aVBy default, without any annotation, all the fields of a JPA entity are persistent
p54553
as(dp54554
g23
V571407
p54555
stp54556
a((dp54557
g2
(lp54558
VYou don't need any cascade for this to happen
p54559
aVThe contents of the join table for a given user is determined by the contents of the  collection of this user
p54560
aVSo if you call  with a User that has an empty team list, Hibernate will remove the contents of the join table for this user
p54561
as(dp54562
g23
V571407
p54563
stp54564
a((dp54565
g2
(lp54566
VIf your mapping corresponds to the structure of the database tables, everything will work as expectd
p54567
aVThe fact that there exist a foreign key constraint or not doesn't matter
p54568
aVYour mapping is wrong though
p54569
aVIn a bidirectional OneToMany association, the one side must be marked as the inverse side of the many side using the  attribute
p54570
aVSee the hibernate documentation for how to map bidirectional associations
p54571
as(dp54572
g23
V571407
p54573
stp54574
a((dp54575
g2
(lp54576
V passes the parameter as an HTTP request parameter, which can only be a String
p54577
aVSo  is called on your widget, and the result of this method is passed as parameter
p54578
aVYou should use a JSP tag, implemented as a tag file, instead of using a JSP include
p54579
aVSee http://docs
p54580
aVoracle
p54581
aVcom/javaee/1
p54582
aV4/tutorial/doc/JSPTags5
p54583
aVhtml for how to define an use them
p54584
aVFor example:
p54585
aVTag definintion, in /WEB-INF/tags/specialWidget
p54586
aVtag:
p54587
aVTag usage, in any JSP:
p54588
as(dp54589
g23
V571407
p54590
stp54591
a((dp54592
g2
(lp54593
VYou just need to make the association bidirectional:
p54594
aVJust be aware that in a bidirectional OneToMany association, the owning side of the association is always the many side (the side which doesn't have the  attribute)
p54595
aVThis means the Hibernate will only consider the  field to decide if the association exists
p54596
aVThis thus means that each time you add a suburb to a dnar, you must also set the suburb's dnar field:
p54597
aVSimilarly, if you remove a suburb from a dnar, you should set the parentDnar of the suburb to null
p54598
aVRegarding the query, you can now use the  field in your query
p54599
aVRemember that JPA queries always work on entities and their persistent fields/properties
p54600
aVNever on table and their columns
p54601
as(dp54602
g23
V571407
p54603
stp54604
a((dp54605
g2
(lp54606
VRight-click on any folder and choose TortoiseSVN - Repo Brower
p54607
aVEnter the URL of your repository
p54608
aVThen right-click on the root node of the empty tree on the left, and choose Create folder
p54609
as(dp54610
g23
V571407
p54611
stp54612
a((dp54613
g2
(lp54614
VNo, it's not bad practice
p54615
aVis the traditional variable name for the loop index
p54616
aVYou should ask yourself if a method that contains multiple loops doesn't do too many things, though, and should not be splitted into several methods
p54617
as(dp54618
g23
V571407
p54619
stp54620
a((dp54621
g2
(lp54622
VThe option that will be auto-selected is the option which has the same value as the one returned by the  method of your form bean, since the  attribute of the  tag is
p54623
as(dp54624
g23
V571407
p54625
stp54626
a((dp54627
g2
(lp54628
VMaybe there's another way, but you can
p54629
aVadd the method declaration in the interface
p54630
aVgo to the Problems view, select one of the compilation errors caused by the new method, right-click and choose Quick Fix
p54631
aVChoose "Add unimplemented methods", and select all the other classes in the bottom of the dialog
p54632
aVThis will make the generated methods return false, though:
p54633
aVSo you could search and replace with the following regexp for search:
p54634
aVAnd the following replacement string:
p54635
as(dp54636
g23
V571407
p54637
stp54638
a((dp54639
g2
(lp54640
VYou start a transaction, do everything you want with as many entities as you want, then commit the transaction, as shown in the documentation
p54641
as(dp54642
g23
V571407
p54643
stp54644
a((dp54645
g2
(lp54646
VComplex business rules that depend on several entities' state belong to the service layer
p54647
aVThere shouldn't be so many places in the application where the parent's date and the child's conf are changed, so you shouldn't have so many places where the new date calculation must be done
p54648
aVIf you really have so many places where this is done, you could make it clear that the date must be recomputed by passing a ChildDateUpdater instance (ChildDateUpdater being an interface) to the setter of the parent date and the setter of the child conf
p54649
aVThis would make it obvious that something must be done every time these two fields are changed:
p54650
aVIn Parent:
p54651
aVIn Child:
p54652
as(dp54653
g23
V571407
p54654
stp54655
a((dp54656
g2
(lp54657
VYou can't put your classes inside a package named
p54658
aVThis package is reserved for standard JDK classes
p54659
aVIf your class HelloController is in the package foo, then its class name is
p54660
aVNot
p54661
aVCalling a bean "Redirect
p54662
aVjsp" is a recipe for much confusion
p54663
aVWhy call a controller bean with the name of a JSP
p54664
aVFrankly, it seems you don't master extremely basic Java concepts like classes and packages
p54665
aVI would start with the basics before playing with Spring, which is a complex beast
p54666
as(dp54667
g23
V571407
p54668
stp54669
a((dp54670
g2
(lp54671
VAn EntityManagerFactory is a heavyweight, long-to-create object
p54672
aVIt should be created only once, and then reused
p54673
aVIndeed, every time it's created, it parses the persistence
p54674
aVxml file, computes the mapping metadata of every entity, etc
p54675
aVIf you're running inside a Java EE container, then you should definitely let the container instantiate it for you, and inject the entity managers inside your EJBs
p54676
aVI find it strange that a single application uses several database shemas
p54677
aVWhy is it so
p54678
aVRegarding the caches: there is a first-level cache associated with the entity manager (which is a short-lived cache, typically having the same life-time as a transaction
p54679
aVIt's also possible to have a second-level cache, associated with the entity manager factory, but this is off by default, and, if enabled, must only be used for some entities and configured with care
p54680
as(dp54681
g23
V571407
p54682
stp54683
a((dp54684
g2
(lp54685
VAn ActionListener is used to handle the logical click of a button
p54686
aVA click happens
p54687
aVwhen the mouse is pressed then released on a button,
p54688
aVor when the keyboard shortcut of that button is used,
p54689
aVor when the button has the focus and the space bar is pressed,
p54690
aVor when the button is the default button and Enter is pressed,
p54691
aVor when the button's click() method is called programmatically
p54692
aVA MouseListener only handles low-level mouse events
p54693
as(dp54694
g23
V571407
p54695
stp54696
a((dp54697
g2
(lp54698
VDelegate to the collator in your comparator:
p54699
as(dp54700
g23
V571407
p54701
stp54702
a((dp54703
g2
(lp54704
VYes, you would need synchronization, or a concurrent map
p54705
aVJust think about the size of the map: two threads could add an element in parallel, and both increment the size
p54706
aVIf you don't synchronize the map, you could have a race condition and it would result in an incorrect size
p54707
aVThere are many other things that could go wrong
p54708
aVBut you could also use a different map for each thread, couldn't you
p54709
aVA ConcurrentHashMap is typically faster that a synchronized HashMap
p54710
aVBut the choice depends on your requirements
p54711
as(dp54712
g23
V571407
p54713
stp54714
a((dp54715
g2
(lp54716
VYou should use a  instead of two lists (and find a better name than NameAndValue, which would reflect what these data actually represent)
p54717
aVJava is an OO language
p54718
aVUse objects
p54719
aVThat's what they're for: containing data that are related, and providing behaviour with methods and encapsulation
p54720
aVOnce you have this class, you'll be able to sort your list by name, value or both, and adding an additional field if needed won't be a problem
p54721
as(dp54722
g23
V571407
p54723
stp54724
a((dp54725
g2
(lp54726
s(dp54727
g23
V571407
p54728
stp54729
a((dp54730
g2
(lp54731
VOnce you have parsed the string with JSoup, use its getAllElements() method, iterate on the result, and for every element, call tagName()
p54732
as(dp54733
g23
V571407
p54734
stp54735
a((dp54736
g2
(lp54737
Vselect only the 3 other values, and while iterating on the results of the query, subtract the  from the , in Java
p54738
as(dp54739
g23
V571407
p54740
stp54741
a((dp54742
g2
(lp54743
VIf I understand correctly, what you want is an inheritance relationship:
p54744
aVThe JOINED strategy tells JPA that the fields in the User class are stored in a table (USER), and that each subclass persists its own field in its own table (STUDENT and MENTOR), with a join column used to refer to the USER table ID
p54745
as(dp54746
g23
V571407
p54747
stp54748
a((dp54749
g2
(lp54750
Vchained expressions always result in an inner join
p54751
aVAssign an alias to the left joined entity, and use the alias:
p54752
as(dp54753
g23
V571407
p54754
stp54755
a((dp54756
g2
(lp54757
VAFAIK, you would have to use your own Dialect class, extending the Dialect class you're currently using, and override the method
p54758
as(dp54759
g23
V571407
p54760
stp54761
a((dp54762
g2
(lp54763
VYou don't need to have the annotations of a class in the classpath to be able to load a class
p54764
aVThat said, a Hibernate entity contains collections and references to other entities
p54765
aVThe collections are instances of Hibernate collections, and the references can be Hibernate proxies, if they're lazy-loaded
p54766
aVSo if you serialize a Hibernate entity from the server to the client, the client will need the Hibernate jar(s) in its classpath to be able to load them
p54767
aVIf you want to avoid the Hibernate dependency at client-side, you should consider transferring DTOs to the client rather than Hibernate entities
p54768
as(dp54769
g23
V571407
p54770
stp54771
a((dp54772
g2
(lp54773
VMockito can't inject static final fields
p54774
aVIn fact, nobody can, since by definition, a final field can't be assigned twice
p54775
aVAnd Mockito doesn't inject static fields anyway
p54776
aVOnly instance fields
p54777
aVSee the documentation:
p54778
aVHowever fields that are static or final will be ignored
p54779
as(dp54780
g23
V571407
p54781
stp54782
a((dp54783
g2
(lp54784
V returns a non-loading cache
p54785
aVJust what you want
p54786
aVJust use
p54787
as(dp54788
g23
V571407
p54789
stp54790
a((dp54791
g2
(lp54792
VThe producer never notifies the consumer thread
p54793
aVSo if the consumer is the first to start, it finds the queue empty, and waits eternally
p54794
aVI would simply use a BlockingQueue, which does that for you
p54795
aVIf you really want to use  and , you'll need to:
p54796
aVuse a loop around your  calls, and go back to the waiting state if the condition to wake up is not true
p54797
aVdecide when the producer should notify (normally, when it puts an item in the queue)
p54798
aVdecide when the consumer should notify (normally, when it removes an item from the queue)
p54799
aVdecide when the consumer should wait (normally, when the queue is empty)
p54800
aVdecide when the producer should wait (normally, when the queue is full)
p54801
aVstop ignoring InterruptedException
p54802
aVJust let them propagate
p54803
aVI would use , which would also make sure that everything works well if there are several producers or consumers
p54804
as(dp54805
g23
V571407
p54806
stp54807
a((dp54808
g2
(lp54809
VYou don't need any  annotation
p54810
aVB extends A, so B  an A
p54811
aVSo the following is sufficient:
p54812
aV(assuming the association is a ManyToOne
p54813
aVIt could also be a OneToOne)
p54814
aVHibernate will figure out the concrete type of both objects all by itself, and will initialize object1 and object2 with an instance of A or B
p54815
as(dp54816
g23
V571407
p54817
stp54818
a((dp54819
g2
(lp54820
VThe dealer could cheat and count the cards
p54821
aVIf the probability of getting a good card is bigger than 50%, it would try to get the next card
p54822
aVElse, it would stop
p54823
aVYou just need to count all the "good" cards, and see if the count is bigger than half of the total numbers of cards in the deck
p54824
aVThis would obviously give an advantage to the dealer
p54825
aVYou could make it easier or harder to win against the dealer by varying the probability
p54826
as(dp54827
g23
V571407
p54828
stp54829
a((dp54830
g2
(lp54831
VWhen you execute a DML query like this, the session cache, the cascades and the version checks are completely bypassed
p54832
aVThe query is directly translated into a SQL query and executed as is
p54833
aVSo it's your responsibility to delete (or modify) the dependant entities first
p54834
aVIf you want the cascade to apply, you need to use the Hibernate API:
p54835
as(dp54836
g23
V571407
p54837
stp54838
a((dp54839
g2
(lp54840
VIf you're a web developer, then it should be simple, because it works in a similar way as in JavaScript: you need to register an event listener on the tree () and on the menu item ()
p54841
aVWhen the user selects a node or chooses the menu item, the event you're interested in (node selected, or action performed on the menu item) will be fired, your listener will be called, and this listener just needs to replace the panel content with the new one
p54842
aVRead the tutorial about JTree and the tutorial about JMenu for more guidance
p54843
as(dp54844
g23
V571407
p54845
stp54846
a((dp54847
g2
(lp54848
VDo it in batch:
p54849
aVMake sure, though, that your database allows 5000 elements in an  clause
p54850
aVOracle, for example, limits them to 1000
p54851
aVBut you could still only execute 5 request instead of 5000
p54852
aVThat said, 5 minutes to do that looks like a whole lot to me
p54853
aVDo you have a database index defined on email
p54854
aVaddress
p54855
as(dp54856
g23
V571407
p54857
stp54858
a((dp54859
g2
(lp54860
VFind the method named , which is public, static, returns void, and takes a String array as argument
p54861
aVThe  can be used to do that
p54862
aVAnd you just need to filter the returned method to only keep it if it's public, static, and returns void
p54863
aVThe  and  methods of the Method class can be used to do that
p54864
as(dp54865
g23
V571407
p54866
stp54867
a((dp54868
g2
(lp54869
VYou don't have any  variable in the method
p54870
aVAnd the current element of the loop is already declared in the for loop
p54871
aVThe code should be
p54872
aVAnother, unrealated problem, is that you should override , and not
p54873
as(dp54874
g23
V571407
p54875
stp54876
a((dp54877
g2
(lp54878
VThere is a fundamental problem in the design: there is no way, with your current database design, to know which cities belong to which state
p54879
aVThe tables should look like that:
p54880
aVAnd the SQL query to get the cities of a given state ID would thus simply look like this:
p54881
as(dp54882
g23
V571407
p54883
stp54884
a((dp54885
g2
(lp54886
VThe fact that it's defined in  is irrelevant
p54887
aVYou're initializing a date picker with a given listener, and the date picker will thus invoke this listener each time its date changes
p54888
as(dp54889
g23
V571407
p54890
stp54891
a((dp54892
g2
(lp54893
VWhy do you think this should work
p54894
aVCurly braces don't have any special meaning in JSPs
p54895
aVYou just need
p54896
aVAlso, you should avoid scriptlets and use the JSP EL and the JSTL:
p54897
as(dp54898
g23
V571407
p54899
stp54900
a((dp54901
g2
(lp54902
VYou're making it harder than necessary
p54903
aVHere's how I would do it:
p54904
as(dp54905
g23
V571407
p54906
stp54907
a((dp54908
g2
(lp54909
VCalling  on a byte array just prints the type of the array () followed by its hashCode
p54910
aVYou want to use
p54911
aVYou should also consider using an explicit charset instead of the default one:
p54912
as(dp54913
g23
V571407
p54914
stp54915
a((dp54916
g2
(lp54917
V can already be used to get the day of the week
p54918
aVIf you want it in hebrew, then initialize the SimpleDateFormat instance with the hebrew locale
p54919
as(dp54920
g23
V571407
p54921
stp54922
a((dp54923
g2
(lp54924
VThe  variable is defined in the for loop
p54925
aVIts scope is thus limited to the loop, and the variable can't be used outside of the loop
p54926
aVYou could rewrite the loop this way:
p54927
aVNo need for any index or incrementing counter
p54928
aVAnd, to make the code even cleaner, you could extract the first part into its own method, and rewrite it like this:
p54929
as(dp54930
g23
V571407
p54931
stp54932
a((dp54933
g2
(lp54934
Vis an interface (as the javadoc says \u2014 javadoc should be your reference, rather than the Internet)
p54935
aVYou need to choose an implementation (HashMap being the most often used one, but there are other implementations, with other characteristics)
p54936
aVYou should also forget about Vector
p54937
aVIt shouldn't be used anymore
p54938
aVUse List as a type, and ArrayList as an implementation (there are also other List implementations, but ArrayList is almost always what you want):
p54939
aVor simply
p54940
aVif you're under Java 7
p54941
as(dp54942
g23
V571407
p54943
stp54944
a((dp54945
g2
(lp54946
VThis error, AFAIK, is displayed because the attribute is inside a JPA entity, and not just a simple class
p54947
aVAnd Map is not serializable
p54948
aVDo you really want to save the whole map as a serialized byte array, in a BLOB column
p54949
aVIf so, choose a serializable type, like HashMap
p54950
aVIf not, then the map needs to define some form of association between entities and/or embedded types, and I would first think about how you want to store the information in the database, and map the database schema to entities
p54951
as(dp54952
g23
V571407
p54953
stp54954
a((dp54955
g2
(lp54956
VIf you want to map a (String,String,Integer) to a Float, then the best thing to do is to use a , where  would be defined like this:
p54957
as(dp54958
g23
V571407
p54959
stp54960
a((dp54961
g2
(lp54962
VIf you don't specify a classpath, javac doesn't know where to find the already compiled classes
p54963
aVAlso, classes should start with an upper-case letter in Java
p54964
aVAnd I would avoid using the same directory for the source files and class files
p54965
aVYou'd better put your sources inside d:\u005cJava\u005csrc and your classes inside D:\u005cJava classes
p54966
aVThen, use the following command to compile everything at once:
p54967
as(dp54968
g23
V571407
p54969
stp54970
a((dp54971
g2
(lp54972
VWell, first of all, your query is too complex
p54973
aVIt could be rewritten as
p54974
aVI don't know why you want to use criteria instead of this simple and readable HQL query, but if you really want to, then use
p54975
aVEDIT:
p54976
aVIf you want to implement the query
p54977
aV, then you can use the following code:
p54978
as(dp54979
g23
V571407
p54980
stp54981
a((dp54982
g2
(lp54983
VThere is no other choice than to store the variable inside an object, and to pass the object
p54984
aVAll arguments are passed by value in Java
p54985
aVThe object can be  (i
p54986
ag468
aVthe variable is in fact a field of the current object)
p54987
as(dp54988
g23
V571407
p54989
stp54990
a((dp54991
g2
(lp54992
VThe signature of  is
p54993
aVIf you define a method , you're adding a new method, with a different signature, instead of overriding (or redefining, if you prefer) the  method
p54994
aVSince all the collections call the  method, your new method would never be called by anybody except your own code, and would thus be almost useless
p54995
aVFor example, if you create a , it will consider that two instances are different, although your  method considers them equal
p54996
as(dp54997
g23
V571407
p54998
stp54999
a((dp55000
g2
(lp55001
VThe JSP tags, and the JSP EL, access bean properties, and not bean fields
p55002
aVSo if you pass , it will look for a getter method called
p55003
aVSince you want to access the getter , you need to use  inside the tag
p55004
as(dp55005
g23
V571407
p55006
stp55007
a((dp55008
g2
(lp55009
VYou would only find a method  if your model extended a class containing such a method
p55010
aVBut unlike , which has an associated  containing  methods, there is no such class for trees
p55011
aVYour best bet is to either use a , or to define your own event firing methods
p55012
aVOf course, to be able to implement them, you would need to actually add listeners in your  method, instead of not doing anything
p55013
aVAnother thing that should be changed in your code is your comparisons of hash codes
p55014
aVIt makes no sense doing that
p55015
aVBTW, two different classes could have the same hash code
p55016
aVJust use
p55017
aVor
p55018
as(dp55019
g23
V571407
p55020
stp55021
a((dp55022
g2
(lp55023
VYou have a synchronization problem, leading to a visibility problem
p55024
aVIf no synchronization is used when reading and writing a variable shared by multiple threads, there is no guarantee that the value written by one thread is visible to other threads
p55025
aVTo fix that you need to do one of those things:
p55026
aVmake the  field
p55027
aVchange the  field type to
p55028
aVsynchronize every access to the  field (using the  keyword), using the same lock every time, of course
p55029
aVYour sysout call makes the value visible because it internally calls some method that flushes the state of the registers to the main memory (by writing to a volatile field or calling a synchronized method, for example)
p55030
as(dp55031
g23
V571407
p55032
stp55033
a((dp55034
g2
(lp55035
VThis is exactly why database normalization is important
p55036
aVMultiple values should never be stored in a single column
p55037
aVYou should have a Tag entity, and have a ManyToMany association between your entity and the Tag entity
p55038
aVIf you had that, you could simply do
p55039
aVWith your current design, your best bet is to do
p55040
aVbut this will be much slower, and will return posts having the tags careful or vacarm
p55041
as(dp55042
g23
V571407
p55043
stp55044
a((dp55045
g2
(lp55046
VIf B and C have a common superclass or interface, then you should simply call a polymorphic method of the superclass or interface
p55047
aVIf they don't have any superclass or interface in common, then introduce a common interface or superclass, or store instances of an Adapter class inside the array instead of storing the objects directly
p55048
aVThe adapter would simply delegate to a wrapped B or C instance
p55049
as(dp55050
g23
V571407
p55051
stp55052
a((dp55053
g2
(lp55054
VToMany associations are lazy-loaded by default
p55055
aVThis means the the friens of your users will only be loaded from the database when invoking a method of the  list
p55056
aVThis lazy-loading can only occur while the session used to load the user is open
p55057
aVSo if you return the user from your transactional method without the friends list loaded, the session will be closed, and trying to load the freinds list will lead to the exception you're getting
p55058
aVSo, if the client needs the freinds list to be loaded, ither fetch the friends using HQL, or force the initialization of the list, inside the service method, by calling a method on the list or by calling
p55059
aVEDIT: since you have a fetch in your HQL, it should work
p55060
aVAnother problem is that the bidirectional association is mapped twice: once on the  field, and once on the  field
p55061
aVOne of those association must be marked as the inverse of the other using the  attribute:
p55062
as(dp55063
g23
V571407
p55064
stp55065
a((dp55066
g2
(lp55067
VYou need to implement  if your form contains attributes populated from checkboxes
p55068
aVYou don't need that to request-scoped form beans
p55069
aVYou need to reset the form to its default values if you show a creation form for the second time, else the creation form will redisplay the data coming from the last created/updated object
p55070
aVYou can't have two browser tabs or frames using the same form, because they will walk on each other's toes
p55071
aVForm beans should be in the request scope by default
p55072
as(dp55073
g23
V571407
p55074
stp55075
a((dp55076
g2
(lp55077
VBoth queries will load the found users in session
p55078
aVIf the ManyToOne association is eagerly loaded (which is true by default), then each user's company will also be loaded in the session
p55079
aVIf it's configured as lazy, then no company will be loaded in the session
p55080
aVNote that the first query is a criteria query, whereas the second one is a HQL query (and not a Criteria query as you're saying)
p55081
aVThe first query is also too complex
p55082
aVYou don't need any subquery (as the HQL query shows)
p55083
aVYou could simply do
p55084
as(dp55085
g23
V571407
p55086
stp55087
a((dp55088
g2
(lp55089
VThe type of the association has little impact on how you implement it
p55090
aVThe fact that it's an aggregation or a composition is only a semantic difference
p55091
aVThe difference appears if the objects are persisted in some database
p55092
aVIn this case, if the container object is removed from the database, the contained object is also removed or not, depending on the type of the association
p55093
as(dp55094
g23
V571407
p55095
stp55096
a((dp55097
g2
(lp55098
VSo, the error message is
p55099
aVThis means that the is no method
p55100
aVin
p55101
aV(Note that it could return anything, and not just String
p55102
aVBut since the property is , I assumed it's of type )
p55103
aVThe JSP EL accesses bean properties
p55104
aVIt doesn't access public fields of your class
p55105
aVUsing public fields is a bad practice, and JSP doesn't encourage that
p55106
aVMake your fields private, and provide accessors (getters and setters) if necessary
p55107
aVIf you want to read a field from a JSP, you need a getter
p55108
as(dp55109
g23
V571407
p55110
stp55111
a((dp55112
g2
(lp55113
VUse a layout manager
p55114
aVNever set the bounds, sizes and locations of your panels and other components
p55115
aVThat's the job of the layout manager
p55116
aVLayout managers are explained in details in the Swing tutorial (as everything else, BTW)
p55117
aVYou could use a BorderLayout for the main panel, and another for the bottom panel, for example
p55118
as(dp55119
g23
V571407
p55120
stp55121
a((dp55122
g2
(lp55123
VYou're already inside a scriptlet, so there's no need to use  once again to be able to get a Java String:
p55124
aVCalling  doesn't make any sense either
p55125
aVAnd finally, you shouldn't use scriptlets
p55126
aVUse the JSP EL and the JSTL:
p55127
aVOr even better, do that in the controller (i
p55128
ag468
aVa servlet or action of your preferred MVC framework that dispatches to the JSP), as it doesn't seem to be something that the view should do
p55129
as(dp55130
g23
V571407
p55131
stp55132
a((dp55133
g2
(lp55134
VImpossible to give a definitive answer without knowing the entities and their mapping, but the query would look like this:
p55135
aVprovided the necessary associations between entities are there
p55136
as(dp55137
g23
V571407
p55138
stp55139
a((dp55140
g2
(lp55141
VHow about the following
p55142
aV(Not tested: Groovy newbie here)
p55143
as(dp55144
g23
V571407
p55145
stp55146
a((dp55147
g2
(lp55148
VI have a hard time understanding why and when this should be useful, but I think  should work
p55149
aVmeans interpret the JSP EL expression inside the curly braces
p55150
aVAnd  is not a JSP EL operator, so it can't be used inside
p55151
as(dp55152
g23
V571407
p55153
stp55154
a((dp55155
g2
(lp55156
VThat's, IMHO, a design problem in SQL, that is of course also present in HQL, since it directly translates to SQL
p55157
aVThere is no easy solution to deal with that in HQL
p55158
aVThe easiest, and most efficient thing to do, is to check the list before even generating and executing the query
p55159
aVIn many cases, you just need to do:
p55160
aVIn your case, I would use a criteria query (or another API used to dynamically build queries), and build the query dynamically:
p55161
as(dp55162
g23
V571407
p55163
stp55164
a((dp55165
g2
(lp55166
VYou can of course do the same with Criteria, but HQL is much more readable, IMHO
p55167
as(dp55168
g23
V571407
p55169
stp55170
a((dp55171
g2
(lp55172
VYou're using variables without declaring and initializing them:
p55173
aVMoreover, your  method takes arguments, but does nothing else than reinitializing them, so it could very well not take any argument at all:
p55174
aVEDIT:
p55175
aVinstead of having
p55176
aVyou should have
p55177
aVInstead of having
p55178
aVyou should have
p55179
as(dp55180
g23
V571407
p55181
stp55182
a((dp55183
g2
(lp55184
VWHat you're doing makes no sense
p55185
aVYou should see a JSP tag as a Java method, taking arguments
p55186
aVOnce the method has been called, you can't get a handle on the method and ask it what the arguments were the last tie it was called
p55187
aVThe container will have a pool of  instance, and will use them on several pages, in several threads
p55188
aVAnd when you do
p55189
aVit's equivalent to doing
p55190
aVSo you can't expect finding the arguments to the tag you used before from this new instance of the tag class
p55191
aVWhen you pass a value to the instanzVar1 attribute of the tag, you're not setting any JSP attribute
p55192
aVYou're just passing an argument to your tag
p55193
aVTo set an page scope attribute, you must use the  tag:
p55194
as(dp55195
g23
V571407
p55196
stp55197
a((dp55198
g2
(lp55199
VThe tags are documented:
p55200
aVmultiple - required: false - default: false - evaluated: false - type: Boolean
p55201
aVCreates a multiple select
p55202
aVThe tag will pre-select multiple values if
p55203
aVthe values are passed as an Array or a Collection(of appropriate
p55204
aVtypes) via the value attribute
p55205
aVIf one of the keys equals one of the
p55206
aVvalues in the Collection or Array it wil be selected
p55207
as(dp55208
g23
V571407
p55209
stp55210
a((dp55211
g2
(lp55212
VIf you don't have a hidden field for every property of your  bean, then obviously Struts won't be able to reconstruct this bean from thin air
p55213
aVTo be able to populate the property  of the bean returned by , you need a hidden field named
p55214
aVIf you don't want to have the whole state of  in your HTML form as hidden fields, then store this bean in session
p55215
as(dp55216
g23
V571407
p55217
stp55218
a((dp55219
g2
(lp55220
VThat's a fundamental principle of JPA
p55221
aVYou work with attached (managed) entities, and every modification made on these managed entities is automatically made persistent
p55222
aVIf you don't want your changes to be persistent, then don't make changes, or rollback the transaction
p55223
aVWorking on detached entities would be a nightmare, because it would prevent lazy-loading all the associations
p55224
aVYou can always call  on your entities, but I really wouldn't do that
p55225
aVJust try to understand how it works and deal with it
p55226
aVThere are much more benefits than disadvantages
p55227
aVOne of them being that you don't even have to think about saving all the changes that a complex business logic might do, since it's all done for you by JPA, transparently
p55228
as(dp55229
g23
V571407
p55230
stp55231
a((dp55232
g2
(lp55233
VActually, it will work only if the original file name that you pass to the  method contains
p55234
aVIndeed, the reading method checks that condition, and the  method (which should be named  to respect the Java naming conventions) doesn't append
p55235
aVdat to the file name as you think
p55236
aVIndeed, Strings are immutable, and the  method returns a new String, but doesn't modify the String it's called on
p55237
aVThe code should be
p55238
aVYou should also stop ignoring exceptions like you're doing, and you should always close the streams in a finally block
p55239
aVIf you're under Java 7, use the try-with-resources construct
p55240
as(dp55241
g23
V571407
p55242
stp55243
a((dp55244
g2
(lp55245
VIf you want to access all the cells of a row at once, just inverse the two loops:
p55246
aVOr even
p55247
aVBut I doubt it has any significant impact, or even any impact at all, especially on a so tiny array
p55248
aVMake your code simple and readable
p55249
aVDon't pre-optimize
p55250
as(dp55251
g23
V571407
p55252
stp55253
a((dp55254
g2
(lp55255
VJust like everything injected by Spring: by injecting them yourself in the unit test:
p55256
aVAnd in your unit test:
p55257
aVRemember that dependency injection's main goal is to be able to manually inject fake or mock dependencies in unit tests
p55258
as(dp55259
g23
V571407
p55260
stp55261
a((dp55262
g2
(lp55263
VThese question marks come from
p55264
aVWhen you have , it means you're using the  tag with  as the key, but there is no  key found in the resource bundle
p55265
as(dp55266
g23
V571407
p55267
stp55268
a((dp55269
g2
(lp55270
VNo, you don't need to map the join table as an entity
p55271
aVJust use the ManyToMany annotation:
p55272
aVYou would only need to map the join table as an entity if it was not a pure join table, i
p55273
ag468
aVif it had additional information like, for example, the date when the user entered in the group
p55274
aVThe mapping has little incidence on the performance
p55275
aVWhat is important is how you use and query the entities, and how the database is designed (indices, etc
p55276
as(dp55277
g23
V571407
p55278
stp55279
a((dp55280
g2
(lp55281
VThe message looks strange, but the error is in the first argument
p55282
aVYou can only pass values as parameters, so you should replace  by , and surround your text with  in the Java code
p55283
as(dp55284
g23
V571407
p55285
stp55286
a((dp55287
g2
(lp55288
VA File represents a path on the file system
p55289
aVYour icons are inside a jar file
p55290
aVYou can't use a File to access them
p55291
aVTo get access to some resource in the jar file, just use
p55292
aVto get an InputStream, or
p55293
aVto get a URL
p55294
as(dp55295
g23
V571407
p55296
stp55297
a((dp55298
g2
(lp55299
VUse
p55300
aVinstead of
p55301
aVThe way you have typed it, the  attribute is evaluated as a String: the concatenation of the result of the evaluation of , , and the result of the evaluation of
p55302
aVYou want the whole thing to be evaluated as a boolean expression
p55303
as(dp55304
g23
V571407
p55305
stp55306
a((dp55307
g2
(lp55308
VThe test fails, and it's a good thing, because there's no way for Spring to inject dependencies inside an object it doesn't create by itself
p55309
aVIf you're doing , Spring doesn't know anything about it, and will never inject  inside this C instance
p55310
aVD should be injected in C, which should be injected in B, which should be injected in A
p55311
aVThis way, you can test A by injecting a mock B; you can test B by injecting a mock C, and you can test C by injecting a mock D
p55312
as(dp55313
g23
V571407
p55314
stp55315
a((dp55316
g2
(lp55317
VYou shouldn't extend JMenuBar in the first place
p55318
aVJust create and use a JMenuBar instead of extending it
p55319
aVBTW, the problem is that your JMenuBar subclass doesn't add menus to itself, but to another JMenuBar it creates:
p55320
aVshould be
p55321
as(dp55322
g23
V571407
p55323
stp55324
a((dp55325
g2
(lp55326
VTo update some row, you must use an update statement
p55327
aVNot a select statement:
p55328
aVThat said: IDs are just technical identifiers for rows
p55329
aVThey shouldn't be modified generally
p55330
aVAnd the reason why purely technical IDs are used is that they never need to be modified, which is a good thing because there might be dozens of other tables having foreign keys containing this same ID
p55331
aVThe ID might also be part of some URL used to display the row in a web site, that many people could have bookmarked
p55332
aVThe ID is
p55333
aVthe identity of the row
p55334
aVYou don't change an identity
p55335
aVIf you do it, all kinds of problems occur, exactly as if you changed your own name
p55336
as(dp55337
g23
V571407
p55338
stp55339
a((dp55340
g2
(lp55341
VThe list is already contained inside the scrollpane, so you must not add the list to the main panel
p55342
aVOnly the scroll pane
p55343
aVAnother thing you're doing wrong is not using a layout manager, and setting the bounds and sizes of your components
p55344
aVDon't do that
p55345
aVLet the layout manager position and size the components for you
p55346
aVAnd finally, you shouldn't use Swing components from the main thread
p55347
aVOnly in the event dispatch thread
p55348
aVHere's a modified version of your code that works fine
p55349
aVI removed the background colors, as this should be handled by the L&F;:
p55350
as(dp55351
g23
V571407
p55352
stp55353
a((dp55354
g2
(lp55355
VAs the message says, you're missing a right round bracket:
p55356
as(dp55357
g23
V571407
p55358
stp55359
a((dp55360
g2
(lp55361
VA join is needed to go from one entity to another, associated entity
p55362
aVYou don't have any association here:  extends
p55363
aVIt's inheritance, and thus Super is a Base
p55364
aVTo explain with an analogy:
p55365
aVYou don't ask "Give me all the clothes having a Shoe with shoelaces"
p55366
aVYou ask "Give me all the shoes with shoelaces"
p55367
aVBecause a Clothe doesn't have a Shoe (and vice versa)
p55368
aVShoe is a Clothe
p55369
as(dp55370
g23
V571407
p55371
stp55372
a((dp55373
g2
(lp55374
VThe best practice is not to do this
p55375
aVIt will explode the browser memory and rendering engine, and will take too much time to load
p55376
aVAdd a search form to your webapp, make the end user search for what he's interested about, and only display the N first search results, just like Google does
p55377
aVNobody is able to do anything meaningful with 50 million rows without searching anyway
p55378
as(dp55379
g23
V571407
p55380
stp55381
a((dp55382
g2
(lp55383
VJPQL supports the coalesce function, which returns the first of its non-null arguments
p55384
aVSo you could use
p55385
aVI would put the middle name in the middle, rather than putting it at the end, though
p55386
as(dp55387
g23
V571407
p55388
stp55389
a((dp55390
g2
(lp55391
VThe only difference is that in the first case, you're referencing a  instance as a , whereas in the second case, you're referencing it as a  (through an , which doesn't serve any purpose)
p55392
aVInstead of
p55393
aVuse
p55394
aVsince you want to be able to call  methods
p55395
as(dp55396
g23
V571407
p55397
stp55398
a((dp55399
g2
(lp55400
VInheritance is useful with Hibernate in the same cases where it's useful in OO in general: where you have an is-a association between a sub-entity and a base-entity
p55401
aVFor example, suppose you have a messaging system, where users have a one-to-many association with sent messages
p55402
aVAnd a message can be an email message, a fax message, or a tweet
p55403
aVAll the messages inherit from a base Message class, containing the sender, the send date, and various other common fields
p55404
aVBut each sub-entity class adds specific fields : email address, fax number, etc
p55405
as(dp55406
g23
V571407
p55407
stp55408
a((dp55409
g2
(lp55410
VYou're injecting an entity manager for an extended persistence context
p55411
aVThat means that the lifetime of the persistence context is not tied to the lifetime of the transaction: it stays open until you close it explicitely
p55412
aVSince you got a RollbackException, the persistence context is in a dirty, inconsistent state, and the only thing you can do is close it immediately
p55413
aVIf the persistence context was a transactional one, it would be closed automatically
p55414
aVBut since you're using an extended context, it's up to you to close it explicitely
p55415
aVMake sure to read and understand the following section of the Spring documentation:
p55416
aVThe @PersistenceContext annotation has an optional attribute type,
p55417
aVwhich defaults to PersistenceContextType
p55418
aVTRANSACTION
p55419
aVThis default is
p55420
aVwhat you need to receive a shared EntityManager proxy
p55421
aVThe
p55422
aValternative, PersistenceContextType
p55423
aVEXTENDED, is a completely
p55424
aVdifferent affair: This results in a so-called extended EntityManager,
p55425
aVwhich is not thread-safe and hence must not be used in a concurrently
p55426
aVaccessed component such as a Spring-managed singleton bean
p55427
aVExtended
p55428
aVEntityManagers are only supposed to be used in stateful components
p55429
aVthat, for example, reside in a session, with the lifecycle of the
p55430
aVEntityManager not tied to a current transaction but rather being
p55431
aVcompletely up to the application
p55432
as(dp55433
g23
V571407
p55434
stp55435
a((dp55436
g2
(lp55437
VWhen you click "Run on server", Eclipse deploys the application in Tomcat, opens a new browser window to the URL of the JSP in the deployed webapp
p55438
aVSo an HTTP request is sent to Tomcat by the browser
p55439
aVSince the URL of the HTTP request points to a
p55440
aVjsp file, Tomcat loads the corresponding JSP file in the webapp, transforms it into a Java source file containing a class which extends HttpServlet, then invokes the Java compiler to compile this Java source file into a class file
p55441
aVThen the class file is loaded by the Tomcat classloader associated with the webapp, an instance of the JSP servlet is constructed and initialized, and its service method is called
p55442
aVThe service method generates HTML and writes it to the servlet's response writer, which is in fact a writer wrapping the socket output stream which sends the bytes to the browser
p55443
aVThe browser interprets the HTML and generates text and graphics to be shown in the browser window
p55444
aVOf course, if a second request is sent to the same JSP, Tomcat reuses the servlet instance it has created to serve the first request, and just reinvokes the service method of this servlet
p55445
aVThat's why the first request is generally slow, and the subsequent ones are blazingly fast
p55446
as(dp55447
g23
V571407
p55448
stp55449
a((dp55450
g2
(lp55451
VI don't know if you're on Windows or not, but TortoiseSVN, when you commit, lists the deleted files and allows checking them for SVN deletion
p55452
aVOtherwise, you can have a look at the following question: How to remove all deleted files from repository
p55453
as(dp55454
g23
V571407
p55455
stp55456
a((dp55457
g2
(lp55458
VJPA is a standard API to access relational databases
p55459
aVIt's an ORM: object-relational mapper
p55460
aVIt allows fetching/saving object graphs fom the database, instead of rows and columns
p55461
aVHibernate is an implementation of the JPA API
p55462
aVHibernate Search plugs into Hibernate in order to be able to execute full-text queries over the objects (or parts of the objects) that are persisted in the database
p55463
aVThe goal is to be able to execute google-like queries, instead of (or in addition to) traditional SQL queries
p55464
aVHibernate Search uses Lucene behind the scene
p55465
as(dp55466
g23
V571407
p55467
stp55468
a((dp55469
g2
(lp55470
VThe jar containing this class must be added to the build path of your project: http://mvnrepository
p55471
aVcom/artifact/javax
p55472
aVvalidation/validation-api/1
p55473
ag2332
ag2332
aVGA
p55474
as(dp55475
g23
V571407
p55476
stp55477
a((dp55478
g2
(lp55479
VExecute the following query:
p55480
aVThis query will return a , each object array containing a countryID as first element and an office code as second element
p55481
aVThen iterate through the list, and populate your map
p55482
aVNote: using a StringBuffer to concatenate String literals is counter-productive, and less readable
p55483
aVYou'd better simply do:
p55484
as(dp55485
g23
V571407
p55486
stp55487
a((dp55488
g2
(lp55489
VDon't ignore the result of the  method
p55490
aVIt returns the number of bytes that have been read, which is not necessarily the length of the file
p55491
aVmust always be called in a loop, until it returns -1
p55492
aVAnd don't, ever, use
p55493
aVIt doesn't return what you think it returns
p55494
aVJust loop until  returns -1 or until the number of read bytes reaches the expected count
p55495
aVRead the IO tutorial
p55496
as(dp55497
g23
V571407
p55498
stp55499
a((dp55500
g2
(lp55501
VNo, you can't catch the exception and try to continue
p55502
aVHere's what the chapter about exception handling of the hibernate documentation says:
p55503
aVIf the Session throws an exception, including any SQLException,
p55504
aVimmediately rollback the database transaction, call Session
p55505
aVclose()
p55506
aVand discard the Session instance
p55507
aVCertain methods of Session will not
p55508
aVleave the session in a consistent state
p55509
aVNo exception thrown by
p55510
aVHibernate can be treated as recoverable
p55511
as(dp55512
g23
V571407
p55513
stp55514
a((dp55515
g2
(lp55516
VIf your question is: how to get the selected value in the dropdown in JavaScript, then the answer is:
p55517
as(dp55518
g23
V571407
p55519
stp55520
a((dp55521
g2
(lp55522
VLet's make the thing easier to understand with another example : you define an interface Fruit, which has a method
p55523
aVThe contract of this method is that it returns a color
p55524
aVBased on this contract, you define a class that takes an array of s, and counts the number of red ones
p55525
aVYou don't need any implementation for this method to compile, because you can be sure that the only thing that can be passed to this method is an array of objects, which are instances of a class that indeed implements the  interface
p55526
aVIn order for this method to be run, you'll need to define at least one class that implements the  interface (like  for example), and to construct an array of objects of this class
p55527
aVThat's what polymorphism is all about: you can call a method of an object without knowing what its actual class is, provided it respects the contract of its interface
p55528
aVGenerics don't make this different
p55529
aVSince  is of type , and since  extends , you can call the  method on
p55530
as(dp55531
g23
V571407
p55532
stp55533
a((dp55534
g2
(lp55535
VStraight from the documentation:
p55536
aVSo
p55537
aVNote that this is redundant with , since  prints the hour from 00 to 23
p55538
aVUse  to get the hour from 01 to 12
p55539
as(dp55540
g23
V571407
p55541
stp55542
a((dp55543
g2
(lp55544
VIf you override  (as you're doing, since toSTring() is a method from Object, and you're redefining it in your class, which extends Object as all classes do), you should respect the contract of the overridden method, which is to return a String representation of the object (and not to write fields to a buffered writer
p55545
aVName this method with another name
p55546
aVMoreover, you're calling a method () which throws a checked exception: IOException
p55547
aVSo, either you know how to handle this exception, and you should catch it, or you don't know how to handle it, and the method should declare that it throws the exception:
p55548
aVYou have other compilation errors in your program
p55549
aVEach one comes with an error message, a file name and a line number
p55550
aVTry to understand the message, and to fix the error
p55551
aVRead the Java tutorial about exceptions to understand how to handle them
p55552
aVIf you still can't handle them after having read this tutorial, ask another question and paste the exact error message you get from the compiler
p55553
as(dp55554
g23
V571407
p55555
stp55556
a((dp55557
g2
(lp55558
VIn the  method, if the customer leaving the bar is a smoker and is the last one, then start a new thread that sleeps for some time (the time to refresh), and finally tells the bar that the air is fresh
p55559
aVOnce the air is fresh, then call  to let the next customer enter the bar
p55560
as(dp55561
g23
V571407
p55562
stp55563
a((dp55564
g2
(lp55565
VWell, if you followed best practices, you wouldn't have any scriptlet code, and thus any import statement in your JSPs
p55566
aVYou would still have to refactor the JSPs if you rename a getter used in JSP EL expressions (for example), but changes in class names would not have any impact
p55567
aVI would integrate JSP compiling into your build process (at least on the continuous integration server) to detect such problems in JSPs
p55568
aVHere's how to do it with Tomcat
p55569
aVAnd you could use Selenium or HtmlUnit integration tests to check that your JSPs are executed without problem
p55570
as(dp55571
g23
V571407
p55572
stp55573
a((dp55574
g2
(lp55575
VCheck your generated jar and war files
p55576
aVWhat's inside webapp will be stored in the war file
p55577
aVAnd the META-INF directory of a war file is not in the classpath of the webapp
p55578
aVStore the META-INF directory under src/main/resources, so that its ends up in the WEB-INF/classes directry of the webapp, or in the generated jar file stored in WEB-INF/lib
p55579
as(dp55580
g23
V571407
p55581
stp55582
a((dp55583
g2
(lp55584
VIt's not a constructor
p55585
aVIt's a static method
p55586
aVAnd its return type is A, so it returns A
p55587
aVis equivalent to
p55588
aVIt calls the private constructor, which allows creating a new instance of A, and then returns this new instance
p55589
aVWhat you have there is a typical factory method
p55590
aVJust like , for example
p55591
as(dp55592
g23
V571407
p55593
stp55594
a((dp55595
g2
(lp55596
VOK
p55597
aVSo first of all, you never refer to a class in Java by appending  to its name
p55598
aVSecond: in order to compile a class A that uses another class B, the class B must be compiled, and available in the classpath
p55599
aVOr you must compile both A and B at the same time
p55600
aVSo, you should have the following structure:
p55601
aVBoth classes should start with:
p55602
aVThere's no need to import V2VM in VaporVisitor or vice versa, since they are in the same package
p55603
aVTo compile the files, you should be in the project directory, and use the following command:
p55604
aVThis will compile the two files at once, and put their compiled class files in project/classes:
p55605
aVYou put the jar file in the classpath because the classes you compile use classes from this jar file
p55606
aVThen, to run your class, you need to have both the jar file, and the classes directory in the classpath
p55607
aVAnd the fully quelidied name of the main class is
p55608
aVSo the command is
p55609
aVIf you're on windows, you must use  instead of , and  instead of
p55610
aVIf you wanted to compile VaporVisiotr first, and then V2VM, you could
p55611
aVBut then you would have to do the following:
p55612
aVThis compiles VaporVisiotr only, and put its class file in
p55613
aVThen you need to compile V2VM, which depends on VaporVisitor
p55614
aVSo the compiled VaporVisitor class must be available in the classpath
p55615
aVSo the command is
p55616
aVIf you decided to put VaporVisitor in another package ( for example), then you would need the following structure:
p55617
aVThe VaporVisitor
p55618
aVjava would need to start with
p55619
aVAnd the V2VM
p55620
aVjava file would need to have
p55621
aVRead the tutorial about packages
p55622
as(dp55623
g23
V571407
p55624
stp55625
a((dp55626
g2
(lp55627
VExactly the same way
p55628
aVA Date contains an instant in time, with a millisecond precision
p55629
aVJust change the format used to parse the date
p55630
aVRead the documentation for that
p55631
as(dp55632
g23
V571407
p55633
stp55634
a((dp55635
g2
(lp55636
VYou're accessing the DOM before the the page has been loaded by the browser
p55637
aVSo it doesn't contain your table yet
p55638
aVI would advise using jQuery, and doing everything you're doing in JavaScript once the DOM is ready:
p55639
aVI'm not sure you can set the background-color of a tr, though, so you might have to set the background color of every td:
p55640
aVYou could do this with vanilla JS, but it would be much less concise, and harder to support every browser
p55641
as(dp55642
g23
V571407
p55643
stp55644
a((dp55645
g2
(lp55646
VThe javadoc of TransactionDefinition says:
p55647
aVThis just serves as a hint for the actual transaction subsystem; it
p55648
aVwill not necessarily cause failure of write access attempts
p55649
ag7142
aVtransaction manager which cannot interpret the read-only hint will not
p55650
aVthrow an exception when asked for a read-only transaction
p55651
aVAnd the javadoc of Connection says:
p55652
aVPuts this connection in read-only mode as a hint to the driver to
p55653
aVenable database optimizations
p55654
aVIn short, using readOnly might enhance the performance if your code is indeed read-only
p55655
aVBut that won't prevent you from doind write operations in such a transaction
p55656
as(dp55657
g23
V571407
p55658
stp55659
a((dp55660
g2
(lp55661
VCheck if their YEAR, MONTH and DATE fields are the same: Calendar
p55662
aVget(int)
p55663
as(dp55664
g23
V571407
p55665
stp55666
a((dp55667
g2
(lp55668
VThere could be other problems, but the cipher text in your question, after the 16 first bytes, starts with , whereas the cipher text in the Java code starts with
p55669
aVThey don't match
p55670
as(dp55671
g23
V571407
p55672
stp55673
a((dp55674
g2
(lp55675
VNo, I would say it's a correct approach
p55676
aVYou should put countries in their own table, and skills in their own table
p55677
aVFirst because additional column will inevitably appear for countries, which don't make any sense for skills (or vice-versa)
p55678
aVAnd second because you will want to reference countries or skills from other tables in your database (and other entities in your object model)
p55679
aVSo you'll want to have foreign keys from addresses to countries, for example, and you wouldn't want an address to reference a skill rather than a country
p55680
aVAnd you'll want a ManyToOne association from Address to Country, and not from Address to ReferenceTable
p55681
aVI have the feeling that you're pre-optimizing
p55682
aVSuch reference tables are small, and the database will hold everything in memory
p55683
aVSo querying them, even if you do it frequently, will be extreely fast
p55684
aVIf you want to avoid those queries completely, then you could simply use the second-level cache of hibernate, which will make everything transparent (i
p55685
ag468
aVyou will keep programming as usual, and Hibernate will go to its cache instead of going to the database)
p55686
aVThis will bring additional advantages, such as being able to actually update information in those tables without getting stale values for too long (or without getting stale values at all)
p55687
as(dp55688
g23
V571407
p55689
stp55690
a((dp55691
g2
(lp55692
VYou have to understand that the location of the JSP and the location of the CSS file in the source folder isn't what matters
p55693
aVWhat matters is the URL used to load the HTML page in the browser, and the URL where the CSS file can be accessed using your browser
p55694
aVIf the URL for the page is , and the URL where the css is is , then the page should contain
p55695
aVor, better, use an absolute path like
p55696
as(dp55697
g23
V571407
p55698
stp55699
a((dp55700
g2
(lp55701
VIn a typical application, you don't update a class and its students in one go
p55702
aVYou update a class, or add a student, or remove a student, but not everything at once
p55703
aVEven if you had to do it, the solution would depend on the architecture of your app, on the framework used to access the database, etc
p55704
aV, so it's hard to give a definitive answer
p55705
aVFor example, using JPA or Hibernate, you could modify the whole tree of objects, and merge it, and everything would be automatically handled
p55706
aVIf you have to do it by yourself, you could simply send the updated class with the updated students
p55707
aVYou would first update the class's own information
p55708
aVthen loop to the students and update their own information
p55709
aVThen see which students are currently in the class (in the database), and which ones are in the sent students, and remove the ones that have disappeared
p55710
aVDeleting students and recreating them is not an option, most of the time, not because it's inefficient or because you would exhaust the IDs (long goes to 2^63, which is huge), but because you probably have other tables with forign keys pointing to the students to update
p55711
as(dp55712
g23
V571407
p55713
stp55714
a((dp55715
g2
(lp55716
VThe easiest way is to use JavaScript
p55717
aVWhen the form is submitted, intercept the submission by a JavaScript event handler, and then simply insert an  tag in the page, where you want the graph to appear
p55718
aVThis image should have the URL of the action generating the graph
p55719
aVWith jQuery, it would look like this:
p55720
aVIf the graph changes each time it's generated, even for a similar selection, you should add some random parameter at the end of the URL to prevent browser caching
p55721
as(dp55722
g23
V571407
p55723
stp55724
a((dp55725
g2
(lp55726
VIt's probably a text decoration from the CVS or SVN (or other) team support, which indicates an outgoing change: there is at least one file in the project that has been modified since the last CVS/SVN update
p55727
aVGo to Preferences and type "Label decoration" in the filter box to show where these decorations might come from
p55728
as(dp55729
g23
V571407
p55730
stp55731
a((dp55732
g2
(lp55733
VJPA can be used outside of a Java EE container, yes
p55734
aVThe specification of JPA2 starts with these words:
p55735
aVThis document is the specification of the Java API for the management of persistence and object/relational mapping with Java EE and Java SE
p55736
aV(emphasis mine)
p55737
aVYou won't have automatic support for persistence unit injection, JTA support, etc, though
p55738
aVSpring helps in this area
p55739
as(dp55740
g23
V571407
p55741
stp55742
a((dp55743
g2
(lp55744
VSo, you have something like this:
p55745
aVInstead, just do the following:
p55746
aVThe intermediate flush will make sure only one pair at a time references a participant
p55747
as(dp55748
g23
V571407
p55749
stp55750
a((dp55751
g2
(lp55752
VYour delete method looks fine, except you shouldn't compare a MagazineNode with a Magazine
p55753
aVYou should compare a Magazine with a Magazine
p55754
aVReplace  by
p55755
as(dp55756
g23
V571407
p55757
stp55758
a((dp55759
g2
(lp55760
VThe algorithm is quite simple:
p55761
as(dp55762
g23
V571407
p55763
stp55764
a((dp55765
g2
(lp55766
VThe Law of Demeter says: Don't talk to strangers
p55767
aVIf A needs to call a method of B, then B should be a direct dependency of A
p55768
aVIf B is in fact not a direct dependency of A, but is a transitive dependency, i
p55769
ag468
aVA depends on C, which depends on D, which depends on B, then A should call a method of C, which would call a method of D, which would call the method of B:
p55770
aVReading your examples, it looks like you're looking for the Observable/Observer method
p55771
aVFor example: when you click on a menu, the menu should just call a method of its observers (or listeners, in Swing/AWT terminology), which are instances of an interface
p55772
aVThe listener would register itself to the menu, in order to be notified of a menu click
p55773
as(dp55774
g23
V571407
p55775
stp55776
a((dp55777
g2
(lp55778
VIt seems that  returns a
p55779
aVBut getHeight() is defined in , so the method getHeight() can't be called on the result of
p55780
aVYou might be able to get the program compile by overriding the  method like this:
p55781
aVOf course, the same must be done with
p55782
as(dp55783
g23
V571407
p55784
stp55785
a((dp55786
g2
(lp55787
VWell, the error message says it all:
p55788
aVThe method drawHistogram(int[], int, int) is not applicable for arguments (PImage, int[]);
p55789
aVThis means that you're trying to call the method , which is declared as  (which means it takes an int array and two ints as arguments), but that you pass a  and an int array instead of the required arguments
p55790
aVThat doesn't make sense
p55791
aVIt's a bit like trying to stick a dollar bill into a machine accepting coins only: it doesn't work
p55792
as(dp55793
g23
V571407
p55794
stp55795
a((dp55796
g2
(lp55797
VUsing the Color class:
p55798
as(dp55799
g23
V571407
p55800
stp55801
a((dp55802
g2
(lp55803
VFirst of all, the fact that a car is associated to one user doesn't necessarily make it a one-to-one
p55804
aVThat would be true if a person can have only one car
p55805
aVIt a person can have several cars, the association is a many-to-one
p55806
aVSecond, assuming thet the association is indeed a one-to-one, here's how the documentation maps such an association:
p55807
aVA unidirectional one-to-one association on a foreign key is almost identical
p55808
aVThe only difference is the column unique constraint
p55809
as(dp55810
g23
V571407
p55811
stp55812
a((dp55813
g2
(lp55814
VThe logic tags are not used to retrieve the data: They're used to implement some logic in the JSP without using scriptlets, which are considered bad practice
p55815
aVIt's indeed the job of the controller (the Struts action), not to retrieve the data from the database, but to call objects that will, and to put the list of objects in the request in order for the view to display them
p55816
aVThe struts logic tag, however, are almost all deprecated in favor of the JSP EL and the JSTL
p55817
aVYour scriptlet code could be replaced by the following lines:
p55818
aVWhich is much more readable and escapes the data correctly
p55819
aVI would also use objects instead of HashMaps to hold your data
p55820
aVJava is an OO language
p55821
aVUse objects and encapsulation
p55822
as(dp55823
g23
V571407
p55824
stp55825
a((dp55826
g2
(lp55827
VThe above is a wildcard mapping
p55828
aV{1} is a placeholder that will be replaced with the matched action name
p55829
aVSo, if you have two actions Action1 and Action2, the above is similar to
p55830
aVMore info in the documentation
p55831
as(dp55832
g23
V571407
p55833
stp55834
a((dp55835
g2
(lp55836
VMy guess is that it's just simpler and more efficient
p55837
aVInstead of doing a first pass to see if there are meta characters, and then a second pass to quote them, just assume that there are metacharacters, and always quote
p55838
as(dp55839
g23
V571407
p55840
stp55841
a((dp55842
g2
(lp55843
VThe Hibernate configuration file must list the entity classes:
p55844
aVOr you must explicitely add the class to the configuration using
p55845
as(dp55846
g23
V571407
p55847
stp55848
a((dp55849
g2
(lp55850
V has a  method
p55851
aVCall it, read the file using the returned input stream, fill a  with its contents, and add the list as an attribute to the request
p55852
as(dp55853
g23
V571407
p55854
stp55855
a((dp55856
g2
(lp55857
VNot , but , obviously
p55858
aVCouldn't you have found that yourself by just browsing the javadoc
p55859
as(dp55860
g23
V571407
p55861
stp55862
a((dp55863
g2
(lp55864
VNo
p55865
aVThe method will be called for every request, as explained in the documentation
p55866
aVBTW, where would it find the request parameter (that you don't use, BTW) if it was called only once
p55867
aVIf you don't enable the query cache in addition to the second-level cache, and make the queries cachable, then Hibernate will execute a SQL query to load the country IDs from the database every time, and then load the entities themselves from the second-level cache
p55868
aVIf the query cache is enabled and the queries are cachable, then Hibernate will execute a single query to load all the countries in the cache, and won't execute any query anymore afterwards (at least, for the TTL of the cache region)
p55869
aVI think I have already done what I could do :-)
p55870
aVYou could read the following article for a better understanding
p55871
as(dp55872
g23
V571407
p55873
stp55874
a((dp55875
g2
(lp55876
VIt's hard to know why this doesn't work, since you don't provide an SSCCE, but you should simply use interrupt(), which is designed for that, and allows stopping a thread even if it's waiting on some blocking method:
p55877
aVAnd to stop the thread:
p55878
aVOf course, whatever the solution you choose, if you have another long-running loop inside the outer loop, the thread won't stop until it checks the value of the interrupted/cancelled flag
p55879
aVMake sure to check the flag as often as possible
p55880
as(dp55881
g23
V571407
p55882
stp55883
a((dp55884
g2
(lp55885
VYour mapping is wrong
p55886
aVInstead of having a bidirectional one-to-many association, using a foreign key in MessageEntry, you have a OneToMany association using a join table (), and another, distinct, ManyToOne association using a foreign key
p55887
aVThe one side must be marked as the inverse of the many side, using the  attribute:
p55888
aVand
p55889
aVAlso, note that:
p55890
aVthe  attribute is completly redundant: Hibernate knows the target entity from the type of the collection:
p55891
aVcascade = CascadeType
p55892
aVALL on a ManyToOne doesn't make much sense
p55893
aVIf you delete a MessageEntry, you don't want its Linf to be deleted
p55894
as(dp55895
g23
V571407
p55896
stp55897
a((dp55898
g2
(lp55899
VYou need to determine the character encoding that was used when creating the file, and specify this encoding when reading it
p55900
aVIf it's UTF-8, for example, use
p55901
aVor
p55902
aVif you're under Java 7
p55903
aVText editors like Notepad++ have good heuristics to guess what the encoding of a file is
p55904
aVTry opening it with such an editor and see which encoding it has guessed (if the characters appear correctly)
p55905
as(dp55906
g23
V571407
p55907
stp55908
a((dp55909
g2
(lp55910
VYou need to reason in terms of objects
p55911
aVNot in terms of classes
p55912
aVEach time you're doing , you create a new object, which has its own text boxes, different from the text boxes of another PaymentSystem instance
p55913
aVLet's take an example:
p55914
aVIn the above code,  will be printed, and not "hello", because you have stored a message in a bottle, and getting a message from another bottle
p55915
aVIf you want to store a message in a bottle and retrieve it later, you need to store the bottle in a variable:
p55916
as(dp55917
g23
V571407
p55918
stp55919
a((dp55920
g2
(lp55921
VLet's say you're Apple, and you're selling iPods
p55922
aVThere might be subtle differences in the way the iPods are built between one factory and another one, or between the first release of a model of iPod and the last one, because the process has changed
p55923
aVYou, Apple, know what kind of iPod you build:
p55924
aVor
p55925
aVBut the end customer (i
p55926
ag468
aV, the rest of the code) doesn't give a shit about the way the iPod is built
p55927
aVWhat matters for him is that the iPod works and behaves like an iPod (the way it has been shown in the commercials, or in the end user manual, or in the javadoc of the Ipod class)
p55928
aVHe doesn't ask the store "give me an iPod with the first way of building it"
p55929
aVBut the fact is that he gets an iPod with either the first way of building it, or the second way of building it
p55930
aVAnd the fact that he calls it "an iPod" doesn't change how the iPod has been built, hence :
p55931
aVis the way to say that
p55932
aVI build an iPod, with the first way of building it, but I'm going to use it like any other iPod, without caring how it has been built
p55933
as(dp55934
g23
V571407
p55935
stp55936
a((dp55937
g2
(lp55938
VThe tutorial you linked to has an example: http://docs
p55939
aVoracle
p55940
aVcom/javase/tutorial/uiswing/components/table
p55941
aVhtml#data
p55942
aVYou should be able to adapt it to a  easily:
p55943
as(dp55944
g23
V571407
p55945
stp55946
a((dp55947
g2
(lp55948
VDon't do that in a JSP
p55949
aVThat's not what JSPs are for
p55950
aVThey're view components, and should be used to generate HTML markup
p55951
aVDo that from a servlet, or an action of your preferred MVC framework
p55952
aVOnce the servlet or action has the result, then dispatch to a JSP or redirect
p55953
as(dp55954
g23
V571407
p55955
stp55956
a((dp55957
g2
(lp55958
VThe above instantiates an anonymous inner class which is a subclass of the  abstract class
p55959
aVIt's not strictly equivalent to instantiating the abstract class itself
p55960
aVOTOH, every subclass instance is an instance of all its superclasses and interfaces, so most abstract classes are indeed instanciated by instantiating one of their concrete subclass
p55961
aVIf the interviewer just said "wrong
p55962
aVwithout explaining, and gave this example as a unique counter-example, I think he doesn't know what he's talking about, though
p55963
as(dp55964
g23
V571407
p55965
stp55966
a((dp55967
g2
(lp55968
VHere you go
p55969
aVIt would be even easier with Guava's Multimap
p55970
as(dp55971
g23
V571407
p55972
stp55973
a((dp55974
g2
(lp55975
VYes
p55976
aVThe Byte wrapper also allows representing a nullable byte, or storing byte values into collections and maps, for example
p55977
aVYou send text to the DataInputStream, and this text is encoded to bytes using your platform default encoding
p55978
aVSuppose it's ASCII, the first character will thus be encoded to a byte, then  and  are sent, which are also encoded using ASCII
p55979
aVSo the 3 bytes you read are the ASCII-encoded values of your char +
p55980
aVThe javadoc explains what  does
p55981
aVIt reads one byte, and converts it to an int between 0 and 255, in order to distinguish between the byte -1 and the -1 which means "end of stream"
p55982
aVTo get a byte from the returned int, check it isn't -1 (which means end of stream), and cast it to a byte:
p55983
as(dp55984
g23
V571407
p55985
stp55986
a((dp55987
g2
(lp55988
VNot without doing it in a new transaction, with a fresh Hibernate session
p55989
aVThe documentation says:
p55990
aVIf the Session throws an exception, including any SQLException,
p55991
aVimmediately rollback the database transaction, call Session
p55992
aVclose()
p55993
aVand discard the Session instance
p55994
aVCertain methods of Session will not
p55995
aVleave the session in a consistent state
p55996
aVNo exception thrown by
p55997
aVHibernate can be treated as recoverable
p55998
aVYou should probably check that there is no other entity referencing the entity to delete before trying to delete it
p55999
aVOr simply always delete it logically, since it seems that it's what you're doing for referenced entities
p56000
as(dp56001
g23
V571407
p56002
stp56003
a((dp56004
g2
(lp56005
VYou got your conditions wrong
p56006
aVIf the node is null, then the answer is 0
p56007
aVIf the node is even, it should be 1 + the number of even nodes in the left subtree + the number of even nodes in the right subtree
p56008
aVIf the node is odd, it should be 0 + the number of even nodes in the left subtree + the number of even nodes in the right subtree
p56009
as(dp56010
g23
V571407
p56011
stp56012
a((dp56013
g2
(lp56014
VThere is no point in storing the selection state of a checkbox in a separate boolean field
p56015
aVInstead, when the button is clicked, ask the checkbox if it's selected directly:
p56016
aVDoing it like you're doing could lead to correct results, but you're duplicating functionality, introducing a new path for bugs, and making it more complex than it should be
p56017
as(dp56018
g23
V571407
p56019
stp56020
a((dp56021
g2
(lp56022
VIt's an implementation of the flyweight pattern
p56023
aVWhen the JTable repaints itself, it starts a loop and iterates over every cell that must be painted
p56024
aVFor each cell, it invokes the renderer with the arguments corresponding to the cell
p56025
aVThe renderer returns a component
p56026
aVThis component is painted in the rectangle corresponding to the current table cell
p56027
aVThen the renderer is called for the next cell, and the returned component (which has a different text and color, for example), is painted in the rectangle corresponding to the cell, etc
p56028
aVImagine that each time the renderer is called, a screenshot of the returned component is taken and pasted into the table cell
p56029
as(dp56030
g23
V571407
p56031
stp56032
a((dp56033
g2
(lp56034
VIt doesn't indicate any error because you catch the error it throws, return its localized message to the caller, and the caller completely ignores the returned message
p56035
aVRemove the  block completely, re-run your code, and you'll probably get a NullPointerException
p56036
aVA session bean is not supposed to be instantiated using
p56037
aVIt's supposed to be packaged inside a Java EE application, which is deployed inside a Java EE container like JBoss or Glassfish, and then invoked using a web application deployed in this same container or using a Java EE client application
p56038
aVI think you really need to read a book or a serious tutorial about EJBs (and exception handling)
p56039
as(dp56040
g23
V571407
p56041
stp56042
a((dp56043
g2
(lp56044
VYou should try to separate the UI from the logic
p56045
aVExtract the part where you're computing something based on inputs from the part where you actually gather the input
p56046
aVThat way, the logic methods (or classes) can be reused with several input-gathering methods
p56047
aVFor example, a Calculator class should not have the following methods:
p56048
aVInstead, it should be separated into two classes:
p56049
aVThis way, it's easy to build an AndroidCalculator, because the hard-core math logic is encapsulated in a Calculator class, which doesn't care about where the inputs come from
p56050
as(dp56051
g23
V571407
p56052
stp56053
a((dp56054
g2
(lp56055
VYou almost got it
p56056
aVThere are some errors though:
p56057
aVyou're not iterating over all the chars of the password ( is wrong)
p56058
aVyou start with a digit count of 1 instead of 0
p56059
aVyou make the check that the count of digits is at least 2 as soon as you meet the first digit, instead of checking it after you have scanned all the characters
p56060
as(dp56061
g23
V571407
p56062
stp56063
a((dp56064
g2
(lp56065
VJPQL doesn't use tables and columns
p56066
aVIt uses JPA entities and their persistent fields
p56067
aVSo, to use a JPQL query, you would need a JPA entity , mapped to your table, and containing persistent fields (imageId, userId, filePath, etc
p56068
aVThe query would then look like
p56069
aVJPA is an ORM: Object Relational Mapper
p56070
aVThe whole point is to be able to use objects rather than relational data
p56071
aVThat said, I don't really see the point of getting a user ID from the database, using this user ID as parameter
p56072
as(dp56073
g23
V571407
p56074
stp56075
a((dp56076
g2
(lp56077
VJava, besides primitive types, only has pointers
p56078
aVIt calls these pointers references, but they're pointers
p56079
aVI don't really see how references could be avoided, except for data structures holding only primitive types
p56080
aVAnd the advantages that primitive types have over references are that
p56081
aVthey use less memory
p56082
aVthey can't be null
p56083
aVYou should ask your teacher to clarify his question
p56084
as(dp56085
g23
V571407
p56086
stp56087
a((dp56088
g2
(lp56089
VI think you're just looking for the  method:
p56090
aVThe  method allows us to attach data of any type to DOM
p56091
aVelements in a way that is safe from circular references and therefore
p56092
aVfrom memory leaks
p56093
aVWe can set several distinct values for a single element and retrieve
p56094
aVthem later:
p56095
as(dp56096
g23
V571407
p56097
stp56098
a((dp56099
g2
(lp56100
VBu I would never do that like this
p56101
aVJSPs should not use scriptlets
p56102
aVAnd they should not execute database queries
p56103
aVTheir only job should be to generate HTML markup using objects stored in request attributes
p56104
aVThe SQL query should be in a servlet or action of your preferred MVC framework
p56105
aVThis servlet would get the data, store it in a , put this list in a request attribute, and forward to the JSP
p56106
aVThe JSP would then use the JSTL and the JSP EL (and other custom tags, if needed), in order to display this
p56107
as(dp56108
g23
V571407
p56109
stp56110
a((dp56111
g2
(lp56112
VBy giving the clients access to the internal list used by the bank, you allow them to do things behind the bank of the bank
p56113
aVA bit like if a real bank gave access to its internal database, instead of forcing all the clients to go through the online bank application
p56114
aVYou should give the clients a reference to an interface which allows them to perform their operations
p56115
aVThe implementation of this interface would control that every operation they do is allowed, and does everything necessary
p56116
aVFor example, the  method of the interface implementation would not only add the operation to the list of operations, but also fire a table model event in order for the table to display this added operation
p56117
aVThis could be done directly, if the bank encapsulates the table model, or indirectly, by having the bank fire a custom "operation added" event
p56118
aVThe table model would listen to those events, and fire its own table model event in order for the table to be updated
p56119
as(dp56120
g23
V571407
p56121
stp56122
a((dp56123
g2
(lp56124
VOf course it's possible
p56125
aVInject a DataSource in your DAO (using the ) annotation, construct a JdbcTemplate from this injected DataSource, and use the JdbcTemplate inside the DAO methods
p56126
aVThe DataSource will return a Connection which is tied to the current JTA transaction
p56127
as(dp56128
g23
V571407
p56129
stp56130
a((dp56131
g2
(lp56132
VYou don't override  in your model:
p56133
aVOverride it, and it will work:
p56134
as(dp56135
g23
V571407
p56136
stp56137
a((dp56138
g2
(lp56139
VYou should add the following to your tag:
p56140
aVThis will cause the container to save the value of the subBean attribute in the page (if any), then invoke your tag and make the subBean variable defined by the tag available to the body of the tag, then restore the saved value of the subBean attribute
p56141
aVMore details here
p56142
as(dp56143
g23
V571407
p56144
stp56145
a((dp56146
g2
(lp56147
VYou do it exactly as if you had two entities of different classes:
p56148
aVIf you want it bidirectional, then you also do it exactly as if you had two entities of different classes:
p56149
as(dp56150
g23
V571407
p56151
stp56152
a((dp56153
g2
(lp56154
VIt doesn't release them
p56155
aVIt acquires them all, that's all:
p56156
as(dp56157
g23
V571407
p56158
stp56159
a((dp56160
g2
(lp56161
VAs for every other entity: you give an instance of the ID:
p56162
aVAnd to update the employee, then just as with any other entity: you modify its fields, and the new state is automatically persisted when the transaction commits
p56163
aVJust make sure not to update the name and the birth date: as they're part of the PK, they are immutable
p56164
aVThat's one of the many good reasons not to use composite keys, especially functional composite keys
p56165
aVEverything would be much easier with an autogenerated surrogate key
p56166
as(dp56167
g23
V571407
p56168
stp56169
a((dp56170
g2
(lp56171
VThe fact that you have two instances doesn't change anything
p56172
aVYou map  and  each as a ManyToOne association, and there will be two join columns in the family table: one for dad and one for mom
p56173
aVYou map  as a OneToMany (assuming a child can only be a child in one family), and there will be either a join table between Family and Person (the default for a unidirectional OneToMany), or a join column in the Person table referencing the family table (the default for a OneToMany bidirectional association)
p56174
as(dp56175
g23
V571407
p56176
stp56177
a((dp56178
g2
(lp56179
VChange
p56180
aVto
p56181
aVelse it won't use a sequence strategy, but an identity strategy
p56182
aVAnd try to remove the default value of the PK column, and to define the column as bigint, since int is only 4 bytes and Java longs have 8 bytes
p56183
as(dp56184
g23
V571407
p56185
stp56186
a((dp56187
g2
(lp56188
VAs explained in the documentation:
p56189
aVFinally, you can ask Hibernate to copy the identifier from another
p56190
aVassociated entity
p56191
aVIn the Hibernate jargon, it is known as a foreign
p56192
aVgenerator but the JPA mapping reads better and is encouraged
p56193
aVOr alternatively
p56194
as(dp56195
g23
V571407
p56196
stp56197
a((dp56198
g2
(lp56199
VAdding jars to a project build path doesn't have anything to do with SVN and subversive
p56200
aVYou add the jar as you would do it without subversive: Project - Properties - Java Buid Path - Libraries - Add JARs/Add External JARs
p56201
as(dp56202
g23
V571407
p56203
stp56204
a((dp56205
g2
(lp56206
s(dp56207
g23
V571407
p56208
stp56209
a((dp56210
g2
(lp56211
VIt's plain impossible
p56212
aVSince Java only has single inheritance, an object can't be both an employee and an owner
p56213
aVYou shouldn't use inheritance to map these associations
p56214
aVInstead, you should have Person have a OnetoOne association with its Employee role, and a OnetoOne association to its Owner role
p56215
as(dp56216
g23
V571407
p56217
stp56218
a((dp56219
g2
(lp56220
VYour method is fine
p56221
aVWith Java8 lambdas, the above will be easier to write:
p56222
aVBut before that, what you have is the simplest thing
p56223
as(dp56224
g23
V571407
p56225
stp56226
a((dp56227
g2
(lp56228
VYes, it's bad practice, because it makes the catch block catch runtime exceptions that shouldn't be caught
p56229
aVIf you use Java 7, you can use
p56230
as(dp56231
g23
V571407
p56232
stp56233
a((dp56234
g2
(lp56235
VYou need to create an alias:
p56236
aVThe corresponding HQL query is very similar, but much easier to read and understand IMO:
p56237
as(dp56238
g23
V571407
p56239
stp56240
a((dp56241
g2
(lp56242
VThat's because a renderer is not supposed to handle events
p56243
aVA renderer is a unique component that is just used to paint every cell in a table or column
p56244
aVWhen the table paints itself, it iterates through the cells
p56245
aVFor each cell, the renderer component is modified, then a "screenshot" of the renderer component is taken and pasted into the table cell
p56246
aVSo it can't handle events
p56247
aVYou should add an event listener on the table itself
p56248
aVNot on the renderer
p56249
aVAfter a click, it works because your renderer is also an editor, and an editor can handle events
p56250
aVBut it seems to me that your table is in fact not editable, and that you shouldn't have an editor at all
p56251
aVRather, add a listener on the table
p56252
as(dp56253
g23
V571407
p56254
stp56255
a((dp56256
g2
(lp56257
VYou don't have a default case in your switch block
p56258
aVSo when the column reaches 11, you have an infinite loop
p56259
aVAdd
p56260
aVTo your switch statement, or do
p56261
as(dp56262
g23
V571407
p56263
stp56264
a((dp56265
g2
(lp56266
VNot really elegant, but should do the job
p56267
aVOr, more elegant, but you'll need casts:
p56268
as(dp56269
g23
V571407
p56270
stp56271
a((dp56272
g2
(lp56273
VAn alternative to  is to use MessageFormat:
p56274
as(dp56275
g23
V571407
p56276
stp56277
a((dp56278
g2
(lp56279
VLaunch the app with the  option instead of the  option
p56280
aVThis tells java to load the classpath, the main class and other options like the splash screen from the jar's manifest:
p56281
aVThat's the command that the system uses when double-clicking on a jar (except it uses  and not )
p56282
aVIf you want to have a double-clickable file which sets the heap and permgen size, then create a / file, or use a tool like launch4j
p56283
as(dp56284
g23
V571407
p56285
stp56286
a((dp56287
g2
(lp56288
Vor
p56289
as(dp56290
g23
V571407
p56291
stp56292
a((dp56293
g2
(lp56294
VLearn about HQL and joins by reading the documentation
p56295
as(dp56296
g23
V571407
p56297
stp56298
a((dp56299
g2
(lp56300
VStraight from the documentation:
p56301
aVparamId
p56302
aVThe name of the request parameter that will be dynamically added to
p56303
aVthe generated hyperlink
p56304
aVThe corresponding value is defined by the
p56305
aVparamName and (optional) paramProperty attributes, optionally scoped
p56306
aVby the paramScope attribute
p56307
aVparamName
p56308
aVThe name of a JSP bean that is a String containing the value for the
p56309
aVrequest parameter named by paramId (if paramProperty is not
p56310
aVspecified), or a JSP bean whose property getter is called to return a
p56311
aVString (if paramProperty is specified)
p56312
aVThe JSP bean is constrained to
p56313
aVthe bean scope specified by the paramScope property, if it is
p56314
aVspecified
p56315
aVSo it should be
p56316
as(dp56317
g23
V571407
p56318
stp56319
a((dp56320
g2
(lp56321
VNo, it's not possible
p56322
aVYou'll have to map all the tables, and transform your ManyToMany between Person and Task into two OneToMany associations
p56323
as(dp56324
g23
V571407
p56325
stp56326
a((dp56327
g2
(lp56328
VLet's make the assumption that the 4 lines of pseudo code are in MyService, and that MyService uses MyDAO to access the database, you would have the following:
p56329
aVTo test it, use a mocking framework like Mockito to mock MyDAO, and inject this mock into a MyService instance
p56330
aVMake the mock throw the same exception as the one thrown by a real MyDAO when the network goes down when its  method is thrown, and see is MyService does the right thing:
p56331
as(dp56332
g23
V571407
p56333
stp56334
a((dp56335
g2
(lp56336
VThe injected MyClass instance must be a Spring bean
p56337
aVAnnotate it with  or another bean annotation, or declare it in the spring XML config file
p56338
as(dp56339
g23
V571407
p56340
stp56341
a((dp56342
g2
(lp56343
VThe web application (i
p56344
ag468
aVthe servlet) should fetch its information from some database
p56345
aVThe swing application should directly get and store the information from/into the same database instead of storing it in HashMaps, or it should communicate the web app to get/store the information
p56346
aVThe Android application should also communicate with the web application to get and modify the information
p56347
aVIn the end, everybody would thus get and store the information in the same database
p56348
as(dp56349
g23
V571407
p56350
stp56351
a((dp56352
g2
(lp56353
VYou're sending some string from the client ( for example), and you're trying to read it with  on the server (and vice versa)
p56354
aVwill only return once it finds an EOL character, or once the input stream is closed
p56355
aVSince the client doesn't send any EOL char, the server waits indefinitely, and the client also because it waits for the answer from the server
p56356
aVSend , and it will work better
p56357
as(dp56358
g23
V571407
p56359
stp56360
a((dp56361
g2
(lp56362
VIf your EJBs are injected using @EJB, but are not using @Inject, it probably means you forgot to add a  file (even empty), in the WEB-INF directory
p56363
aVSee http://docs
p56364
aVoracle
p56365
aVcom/javaee/6/tutorial/doc/gjbnz
p56366
aVhtml
p56367
as(dp56368
g23
V571407
p56369
stp56370
a((dp56371
g2
(lp56372
VBecause getting a new prototype instance doesn't magically add it to a previously instantiated bean array
p56373
aVWhen the context starts up, a single employee bean is instantiated and injected in the  bean, and then the empList bean is created and doesn't change anymore
p56374
as(dp56375
g23
V571407
p56376
stp56377
a((dp56378
g2
(lp56379
VThe service layer is the layer which sits between the presentation layer and the data access layer
p56380
aVThe presentation deals with HTTP requests and responses (in a web app) and presentation logic in general (workflow between pages, etc
p56381
aV, and delegates to the service layer for the business, transactional logic that the application uses
p56382
aVThe service layer then delegates to a data access layer to access the database
p56383
as(dp56384
g23
V571407
p56385
stp56386
a((dp56387
g2
(lp56388
VYour question shows that you don't understand polymorphism
p56389
aVLet's use an analogy
p56390
aVYou go to a bar, and ask for a beer
p56391
aVAnd you get a Stella
p56392
aVYou didn't ask specifically for a Stella, and the bar didn't make it public that their beers were actually Stella beers, but the fact is that the actual, concrete type of beer you got was a Stella
p56393
aVSince the bar doesn't guarantee that you'll get a Stella when you ask for a beer, you shouldn't rely on it, because a future version of the bar could give you a Jupiler instead
p56394
aV, since both Jupiler and Stella are beers
p56395
aVIt's the same with your question
p56396
aVThe return type is Set, so it could return any kind of Set
p56397
aVAnd unless the javadoc guarantees that the method in fact returns a NavigableSet, you shouldn't rely on it
p56398
as(dp56399
g23
V571407
p56400
stp56401
a((dp56402
g2
(lp56403
VEither use a dedicated HQL query that counts the elements in the collection, or use extra-lazy fetching, which can be enabled using the  annotation
p56404
as(dp56405
g23
V571407
p56406
stp56407
a((dp56408
g2
(lp56409
VHibernate 4 only supports the standard JPA annotation, which is @ElementCollection
p56410
aVNote that even Hibernate 3 recommends using this standard annotation:
p56411
aVDeprecated
p56412
aVuse @ElementCollection
p56413
as(dp56414
g23
V571407
p56415
stp56416
a((dp56417
g2
(lp56418
VYou iterate through your list, from beginning to end, and remove an element at each step
p56419
aVThis makes all the elements in the list shift to the left
p56420
aVFirst iteration: i = 0
p56421
aVSecond iteration: i = 1
p56422
aVThird iteration: i = 2
p56423
aVIterate from the end to the beginning instead
p56424
aVThat willmake it correct, and faster since the list won't have to copy all the elements from right to left
p56425
as(dp56426
g23
V571407
p56427
stp56428
a((dp56429
g2
(lp56430
VMake the parameter final:
p56431
as(dp56432
g23
V571407
p56433
stp56434
a((dp56435
g2
(lp56436
VThe explanation is probably that you enabled batch fetching for the class B (or for every entity using the  configuration property)
p56437
as(dp56438
g23
V571407
p56439
stp56440
a((dp56441
g2
(lp56442
VStore the last zoom level somewhere:
p56443
aVat server-side, in the HTTP session
p56444
aVat client-side, in the localStorage
p56445
aVat client-side, as a parameter of the three links on the left (i
p56446
ag468
aV, each time the user zooms, the three links are re-created with the new zoom level as parameter, so that when the user click on the first link, the zoom level is sent to the server)
p56447
aVThe best solution for you depends on the architecture of your application
p56448
aVAnother solution would be to load everything in a single page, and have the three links display one section and hide the two others, using JavaScript
p56449
as(dp56450
g23
V571407
p56451
stp56452
a((dp56453
g2
(lp56454
VI don't see how JPA could map the results of a query returning two columns with the same name to a DTO if you don't tell how these two columns should be mapped
p56455
aVAnd you don't even show what the DTO looks like
p56456
aVExecute the following code, and everything should be fine:
p56457
aVAnd next time you're being asked to show your code, do it instead of thinking that it's perfect or obvious and that the bug necessarily comes from somewhere else
p56458
aV99
p56459
aV999% of the time, the bug is in your code, and not in the code of a library used and tested by millions of developers
p56460
as(dp56461
g23
V571407
p56462
stp56463
a((dp56464
g2
(lp56465
VThe JPA spec says:
p56466
aVIn general, the lifecycle method of a portable application should not invoke EntityManager
p56467
aVor Query operations, access other entity instances, or modify relationships within the
p56468
aVsame persistence context
p56469
aVAnd it also says:
p56470
aVAutomatic validation using these constraints is achieved by specifying that Java Persistence delegate
p56471
aVvalidation to the Bean Validation implementation upon the pre-persist, pre-update, and pre-remove
p56472
aVentity lifecycle events described in Section 3
p56473
ag194
ag12
aVSo the spec explicitely says that you shouldn't use the entity manager in a life-cycle event, and that automatic validation is performed using life-cycle events
p56474
aVSo, you can't use the entity manager in a validator
p56475
as(dp56476
g23
V571407
p56477
stp56478
a((dp56479
g2
(lp56480
VHashMap uses an array which MUST have a size which is a power of 2 (as per the documentation)
p56481
aVSo I guess they chose the initial capacity that was the lowest value that is at least equal to the initial capacity of an ArrayList
p56482
aVAnd these two numbers were also probably chosen based on statistics on actual programs, in order to have the best tradeoff between performance and memory consumption
p56483
aVYou can only guess, unless Josh Bloch comes in and explains us why these numbers were chosen when the collections framework was designed
p56484
as(dp56485
g23
V571407
p56486
stp56487
a((dp56488
g2
(lp56489
VAs Jon says, there's probably a difference in the actual characters of the two strings, that doesn't appear visually
p56490
aVPass the two Strings that are supposed to be equal to the following method to know where the problem is:
p56491
as(dp56492
g23
V571407
p56493
stp56494
a((dp56495
g2
(lp56496
VThread safety can be a problem if several threads access some shared state
p56497
aVUnless the code hidden behind "do some stuff" uses static fields or singletons, there should be no thread-safety problem: all your variables are local to the login method, and thus not shared between threads
p56498
as(dp56499
g23
V571407
p56500
stp56501
a((dp56502
g2
(lp56503
VAn update query must be executed with , not
p56504
aVThere are other problems in your code:
p56505
aVyou should use prepared statements instead of concatenation
p56506
aVThis will avoid SQL injection attacks, and avoid errors if the password contains a single quote, for example
p56507
aVyou should never use GET to post a form containing a password
p56508
aVThis makes the password appear in clear text in the browser adress bar
p56509
aVyou should respect Java naming conventions: methods and variables start with a lower-case letter
p56510
aVyou should always close the connection in a finally block
p56511
aVElse, after N executions, your connection pool won't have any available connection anymore, and you'll have to restart the application every minute
p56512
aVYou should never catch Exception and never never ignore the exception completely
p56513
aVis ugly
p56514
aVUse
p56515
aVA given HTML pages should never have two elements with the same  attribute
p56516
aVAn ID is supposed to be unique
p56517
aVyou don't use the CPassword parameter at all
p56518
aVthe methods should be private by default, unless you have a very good reason to make them public
p56519
as(dp56520
g23
V571407
p56521
stp56522
a((dp56523
g2
(lp56524
VIt's telling you that it's using a deprecated fallback method to find a property editor for enums, instead of using a property editor registered with Spring, and that you should consider using a dedicated property editor for enums and registering it with Spring, using the mechanisms described in the documentation
p56525
aVIf you don't do so, your code could not work right in future versionsof Spring, because Spring could not use this fallback mechanism anymore
p56526
aVThat said, The 3
p56527
ag10
aVx version of still has this fallback mechanism
p56528
as(dp56529
g23
V571407
p56530
stp56531
a((dp56532
g2
(lp56533
VBoth answers are possible
p56534
aVIt's up to the thread scheduler to decide when instructions of concurrent threads are executed
p56535
aVThe started thread and the main thread are run "in parallel", and the only guarantee is that the each thread's instructions are executed in sequence
p56536
aVBut there could be any interleaving betwen the two sequences of operations
p56537
aVYou could also have the following, BTW
p56538
aVTo make an analogy, imagine you have a hurdle race, and you tell each runner to start the race, one at a time
p56539
aVDo you know which runner will come at each hurdle in first position
p56540
aVNo, you don't
p56541
aVIt depends on the speed of each runner
p56542
aVIf the first runner to start is very slow, the last runner could come at the first hurdle before him
p56543
aVThat's the same with threads
p56544
aVThe scheduler assigns each running thread to a core, in any order he wants to, and for any time it decides
p56545
aVThe only guarantee you have is that each thread will be executed some time
p56546
as(dp56547
g23
V571407
p56548
stp56549
a((dp56550
g2
(lp56551
VQuoting the Swing tutorial:
p56552
aVThe FlowLayout class puts components in a row, sized at their preferred size
p56553
aVIf the horizontal space in the container is too small to put all the components in one row, the FlowLayout class uses multiple rows
p56554
aVSo the result you get is expected
p56555
aVA GridLayout object places components in a grid of cells
p56556
aVEach component takes all the available space within its cell, and each cell is exactly the same size
p56557
aVIf the GridLayoutDemo window is resized, the GridLayout object changes the cell size so that the cells are as large as possible, given the space available to the container
p56558
aVSo the result you get is also expected
p56559
aVWhen a BoxLayout lays out components from top to bottom, it tries to size each component at the component's preferred height
p56560
aVIf the vertical space of the layout does not match the sum of the preferred heights, then BoxLayout tries to resize the components to fill the space
p56561
aVSo the result you get is also expected
p56562
aVBut, a box layout can contain glue components to avoid that
p56563
aVI would thus use a vertical box layout, and add a vertical glue as the last component
p56564
aVRead the tutorial
p56565
as(dp56566
g23
V571407
p56567
stp56568
a((dp56569
g2
(lp56570
VI don't know if Grails also has a special DSL for queries, but in HQL, you would do:
p56571
as(dp56572
g23
V571407
p56573
stp56574
a((dp56575
g2
(lp56576
VAh, I see what happens
p56577
aVThe ConstraintViolationException happens at commit time, after the method has been executed, when the transaction interceptor around your  method tries to commit the transaction
p56578
aVSince it can't commit, obviously, the transaction is rollbacked
p56579
aVIt can't to anything else
p56580
as(dp56581
g23
V571407
p56582
stp56583
a((dp56584
g2
(lp56585
VWell, remove the call to
p56586
aVWhy is it there in the first place
p56587
as(dp56588
g23
V571407
p56589
stp56590
a((dp56591
g2
(lp56592
VSince servlet 3
p56593
aV0, a jar file placed under WEB-INF/lib can contain resources that will be served directly by the webapp
p56594
aVThese resources must be placed under the META-INF/resources directory of the jar file
p56595
aVSo if your tag library jar contains a file , this file will be directly available using the URL
p56596
aVIf you're targetting pre-servlet3
p56597
aV0 webapps, then tell the developers to deploy the CSS and JS files of your taglib under a specific directory in the webapp
p56598
as(dp56599
g23
V571407
p56600
stp56601
a((dp56602
g2
(lp56603
VIf I understand correctly, you have a row with its  column containing  (for example), but there is no row with ID  in the table
p56604
aVIf so, then it's normal to get an exception
p56605
aVClean your data by setting all those inexistent  to NULL, and add a foreign key constraint to the  column so that this situation never happens anymore
p56606
as(dp56607
g23
V571407
p56608
stp56609
a((dp56610
g2
(lp56611
VWell, it's quite simple
p56612
aVYou start by loading the entity which has the given objectID:
p56613
aVAnd then you update this entity with the new title you got from the web service:
p56614
as(dp56615
g23
V571407
p56616
stp56617
a((dp56618
g2
(lp56619
VAs far as I know, the only way is to use your own UI delegate for the internal frame
p56620
aVSee http://today
p56621
aVjava
p56622
aVnet/pub/a/today/2007/02/22/how-to-write-custom-swing-component
p56623
aVhtml for an article explaining how UI delegates work
p56624
aVSince you seem to use the Synth look n' feel, you should be able to easily create your own subclass of , that would override the  method in order to create and return an instance of a custom subclass of
p56625
aVThis custom title pane would in turn override the  method in order to not add the
p56626
aVI've not tested all that, so maybe you'll need to override additional methods
p56627
as(dp56628
g23
V571407
p56629
stp56630
a((dp56631
g2
(lp56632
VStraight from the documentation:
p56633
aVSupported method return types
p56634
aVThe following are the supported return types:
p56635
ag7651
aVvoid if the method handles the response itself (by writing the response content directly, declaring an argument of type ServletResponse / HttpServletResponse for that purpose) or if the view name is supposed to be implicitly determined through a RequestToViewNameTranslator (not declaring a response argument in the handler method signature)
p56636
as(dp56637
g23
V571407
p56638
stp56639
a((dp56640
g2
(lp56641
VWhen you pass a variable of type  (or any other primitive type) to a method or constructor, you pass the value of the variable (a copy if you prefer)
p56642
aVYou don't pass a reference to its value
p56643
aVSo changing the value of the variable won't change anything to the Color you created with previously this variable
p56644
aVYou need to mutate the color object (but this is impossible bacause Color is immutable), or replace the color object itself with another one
p56645
as(dp56646
g23
V571407
p56647
stp56648
a((dp56649
g2
(lp56650
VYes it's possible
p56651
aVYou would simply have to create your abstract class, package it in a jar, give this jar to the users or store it somewhere where they can download it
p56652
aVUsers would then put the jar in their own project and create subclasses of your abstract class
p56653
aVThey would use their IDEs (or any other way) to run these test classes extending your abstract class, and the IDE would display the result of all the tests, typically using a tree
p56654
aVThis looks like a repetition of everything you asked in your question, but the way to do it is just as you have explained in your question
p56655
aVThere's not much to add
p56656
as(dp56657
g23
V571407
p56658
stp56659
a((dp56660
g2
(lp56661
VI would indeed use a  to store persons by ID1, and a  to store persons by ID2, sorted by ID2
p56662
aVThe first one is O(1) to get the name by ID1
p56663
aVThe second one is O(N) for iterating through all the values
p56664
aVTo answer your questions:
p56665
aVI think this is indeed the simplest solution
p56666
aVMake sure to encapsulate the two maps in an object offering the needed methods and inserting/deleting in both maps at once
p56667
aVDon't expose the two maps to the outside
p56668
aVIf you expose an iterator or the collection of values of the second map to the outside, make sure to wrap it using  before returning it, to prevent a modification of the set from the outside
p56669
as(dp56670
g23
V571407
p56671
stp56672
a((dp56673
g2
(lp56674
VFirst of all, Vector is an old class that shouldn't be used for years
p56675
aVUse ArrayList instead
p56676
aVSecond, if you want to associate an obect with another object, then use a Map:
p56677
aVThen, when you want the textfield associated with a given column name, just use
p56678
aVLearn about collections in the collection tutorial
p56679
aVThis is something that any Java programmer must know
p56680
as(dp56681
g23
V571407
p56682
stp56683
a((dp56684
g2
(lp56685
VThe algorithm should be:
p56686
aVAnd the thread should do:
p56687
aVYou should use a HashSet rather than a List, since it's much faster at lookups (O(1)), and you should make sure that the methods  and  are properly synchronized, since the set is accessed by multiple threads
p56688
as(dp56689
g23
V571407
p56690
stp56691
a((dp56692
g2
(lp56693
VDocument the class, explaining that for the queue to be serialized properly, the comparator should be serializable, and preferrably not an non-static inner class, since this would also cause the serialization of its enclosing object
p56694
aVAlso document the fact that the comparator class must be available when deserializing the queue, of course
p56695
aVhas the same "problem" as the one you have: it takes a comparator as argument, stores it as part of its internal state, and it is serializable
p56696
aVFindBugs generates a warning when you pass a non-serializable comparator to a TreeSet constructor
p56697
aVI don't think you can do better than that
p56698
as(dp56699
g23
V571407
p56700
stp56701
a((dp56702
g2
(lp56703
VThe longer answer is: it shouldn't be empty, most of the time
p56704
aVFor example, imagine the following entity:
p56705
aVWhen an instance is loaded by JPA, the players set will never be null
p56706
aVIt could be empty, but not null
p56707
aVBut when you're creating a new Team, or when you're using Team instances in unit tests, this invariant should also be ensured
p56708
aVSo the class should be written as
p56709
aVwhich is equivalent to
p56710
as(dp56711
g23
V571407
p56712
stp56713
a((dp56714
g2
(lp56715
VThe rest of the sentence is:
p56716
aVwhere only structure (e
p56717
ag383
aV, elements, comments, processing instructions, CDATA sections, and entity references) separates Text nodes, i
p56718
ag468
aV, there are neither adjacent Text nodes nor empty Text nodes
p56719
aVThis basically means that the following XML element
p56720
aVcould be represented like this in a denormalized node:
p56721
aVWhen normalized, the node will look like this
p56722
aVAnd the same goes for attributes: , comments, etc
p56723
as(dp56724
g23
V571407
p56725
stp56726
a((dp56727
g2
(lp56728
VYou must put in in the default package, in your sources directory (whatever it's named), so that Eclipse copies it to the target folder when compiling, which makes it available at the root of the classpath when the application is executed
p56729
as(dp56730
g23
V571407
p56731
stp56732
a((dp56733
g2
(lp56734
VThere should be no delete in cascade configured, neither in MySQL not in the entity mapping
p56735
aVThe method would thus look like this (assuming there is a bidirectional association, and thet  returns the persistent list directly, without making a defensive copy or wrapping it into an unmodified proxy):
p56736
as(dp56737
g23
V571407
p56738
stp56739
a((dp56740
g2
(lp56741
VThere are many possibilities, but you could do like this (I removed the String status, which doesn't add any value since it's equal to the name of the enum):
p56742
aVEDIT:
p56743
aVExample with two sets of conditions:
p56744
as(dp56745
g23
V571407
p56746
stp56747
a((dp56748
g2
(lp56749
VRead the Java tutorial about IO
p56750
aVYou should
p56751
aVnot use Writers and character sets, since you want to write binary data
p56752
aVuse a buffered stream to avoid too many native calls and make the write fast
p56753
aVnot use Scanners, as they're used to read data, and not write data
p56754
aVAnd no, you won't be able to write less than a byte in a file
p56755
aVThe byte is the smallest amount of information that can be stored in a file
p56756
as(dp56757
g23
V571407
p56758
stp56759
a((dp56760
g2
(lp56761
VJust make sure not to delete any
p56762
aVsvn directory when you copy the new files into your working copy (unless of course you want to delete the repository containing this
p56763
aVsvn directory)
p56764
aVA simple way to do that is to keep all the directories as is, and only delete and update files
p56765
aVAlternatively, use SVN 1
p56766
aV7, which uses a single
p56767
aVsvn directory at the root of the project instead of a
p56768
aVsvn directory in every directory of the project
p56769
as(dp56770
g23
V571407
p56771
stp56772
a((dp56773
g2
(lp56774
VIn the following code :
p56775
aVYou have two variables:
p56776
aVone variable called , declared in the class
p56777
aVone local variable also called , declared in the method
p56778
aVSo, when you assign something to  in the method, you don't assign anything to the  field, since they're two different variables
p56779
aVIf your intention is to initialize the field, the code should be
p56780
aVor simply
p56781
as(dp56782
g23
V571407
p56783
stp56784
a((dp56785
g2
(lp56786
VStatic methods are not inherited, and calling  is strictly equivalent to calling
p56787
aVThere is no way to get this information, because it doesn't exist
p56788
aVThe compiler allows calling , but translates it into
p56789
as(dp56790
g23
V571407
p56791
stp56792
a((dp56793
g2
(lp56794
VYou're adding the same  object 10 times to a vector (which shouldn't be used anymore either, BTW)
p56795
aVSo at the end of the loop, every reference in the vector points to the same Date object, containing the last year you set on it
p56796
aVYou need to instantiate a new Date at each iteration:
p56797
as(dp56798
g23
V571407
p56799
stp56800
a((dp56801
g2
(lp56802
VThe main problem with this approach is coupling
p56803
aVThe Writer class, instead of being a generic, reusable Writer class, able to do its job and, if needed, send events about what it does, is tightly coupled to this specific GUI
p56804
aVIf it accepted listeners, like all the Swing components do, you could reuse the Writer in several different GUIs, or choose to update a text area instead of a text field for example
p56805
aVAnother solution would be touse pull rather than push
p56806
aVInstead of having the writer update the GUI, you could have the GUI call methods of the writer in order to query its state
p56807
aVIt's not always possible, but it often is
p56808
as(dp56809
g23
V571407
p56810
stp56811
a((dp56812
g2
(lp56813
VIn an XML file, there is a sequence of declarations, and you may override a previous definition with a newer one
p56814
aVWhen you use annotations, there is no notion of before or after
p56815
aVAll the beans are at the same level
p56816
aVYou defined two beans with the same name, and Spring doesn't know which one it should choose
p56817
aVGive them a different name (staticConverterDAO, inMemoryConverterDAO for example), create an alias in the Spring XML file (theConverterDAO for example), and use this alias when injecting the converter:
p56818
as(dp56819
g23
V571407
p56820
stp56821
a((dp56822
g2
(lp56823
VWith the help of Guava (but you could easily do without):
p56824
as(dp56825
g23
V571407
p56826
stp56827
a((dp56828
g2
(lp56829
VCreate a class , containing the two customer properties, and an interface  containing this unique method:
p56830
aVLet the framework accept an instance of this interface, that the user will provide directly, or by configuring the name of a concrete class implementing this interface in a config file
p56831
aVIf the latter, load the class using , and cast the result to the CustomerInfoProvider interface
p56832
as(dp56833
g23
V571407
p56834
stp56835
a((dp56836
g2
(lp56837
VIt seems you're looking for Executors
p56838
aVnewSingleThreadScheduledExecutor():
p56839
aVCreates a single-threaded executor that can schedule commands to run after a given delay, or to execute periodically
p56840
aV(Note however that if this single thread terminates due to a failure during execution prior to shutdown, a new one will take its place if needed to execute subsequent tasks
p56841
aVTasks are guaranteed to execute sequentially, and no more than one task will be active at any given time
p56842
as(dp56843
g23
V571407
p56844
stp56845
a((dp56846
g2
(lp56847
VBecause BoxLayout is a special layout that needs a reference to the target container it lays out
p56848
aVThat's not the case of all the layout managers
p56849
aVIt would be ugly to add a specific case for BoxLayout in the  method
p56850
aVAnd it would also mean that the BoxLayout would be in an unstable state after its construction, since it wouldn't have the mandatory target container yet
p56851
aVThe reverse could have been done though: having the BoxLayout constructor call  on the target container
p56852
aVBut I don't know why it hasn't been done
p56853
as(dp56854
g23
V571407
p56855
stp56856
a((dp56857
g2
(lp56858
VMy advice: forget about functional composite keys: they're inefficient, and a nightmare to use
p56859
aVJust use a single-column, autogenerated key for all of your entities
p56860
aVThis will also hav the advantage of making your tables shorter and cleaner (less columns)
p56861
aVThat doesn't prevent you for creating a unique constraint on a set of columns, to make sure that, for example, there is only one record with a, b and c for the columns col1, col2 and col3
p56862
aVAnd if you want to check if a record already exists for a, b, c, the just create a query:
p56863
as(dp56864
g23
V571407
p56865
stp56866
a((dp56867
g2
(lp56868
VDon't extend HashMap as you're doing
p56869
aVUse a HashMap and delegate to it:
p56870
aVAt the moment, Repository is a HashMap, but you don't store anything in it: you store the values in another HashMap contained in Repository
p56871
aVAlso, storing an iterator in a field is a bad idea
p56872
aViterators can be used only once
p56873
aVOnce they have iterated, the can't iterate anymore
p56874
aVIt should be a local variable
p56875
as(dp56876
g23
V571407
p56877
stp56878
a((dp56879
g2
(lp56880
VBecause the declaration element translates to a field declaration in the class generated by the JSP:
p56881
aVis not valid Java code
p56882
aVA declaration element is supposed to contain
p56883
aVa declaration
p56884
as(dp56885
g23
V571407
p56886
stp56887
a((dp56888
g2
(lp56889
VYou're comparing Strings with  instead of comparing them with
p56890
aVcompares the strings are the same object instance, not if they contain the same characters
p56891
aVMake sure to read the IO tutorial
p56892
aVStreams should always be closed in a finally block, or you should use the Java 7 try-with-resources construct
p56893
as(dp56894
g23
V571407
p56895
stp56896
a((dp56897
g2
(lp56898
VYou first create a , containing all the possible commands as keys, and the corresponding shape as value:
p56899
aVThen, when you receive the command, you get the corresponding shape and make it visible:
p56900
as(dp56901
g23
V571407
p56902
stp56903
a((dp56904
g2
(lp56905
VYou have several problems
p56906
aVThe reading and decrypting process should be symmetric with the encrypting and writing process
p56907
aVBut
p56908
aVyou transform your String into a byte[] using , which is fine, but you don't use  to do the reverse operation
p56909
aVyou write a whole String to a file, including potential line breaks, but you read it line by line and concatenate each line, thus losing the line breaks in the process
p56910
aVYou must read each and every char that has been written
p56911
aVAlso, relying on undocumented, unsupported classes like sun
p56912
aVmisc
p56913
aVBase64Encoder/Decoder shouldn't be done
p56914
aVUse Apache commons-codec to find a documented Base64 encoding, guaranteed to still be there when the next JDK comes out, and which can be used on every JVM, including non-Sun JVMs
p56915
as(dp56916
g23
V571407
p56917
stp56918
a((dp56919
g2
(lp56920
VReplace
p56921
aVBy
p56922
as(dp56923
g23
V571407
p56924
stp56925
a((dp56926
g2
(lp56927
VWhen you do
p56928
aV, you create an implicit inner join between the tables
p56929
aVYou already have a left outer join between the tables:
p56930
aVSo you just need to use the alias you assigned to this left joined entity:
p56931
aVSide note: your query would be much more readable if you used aliases systematically:
p56932
as(dp56933
g23
V571407
p56934
stp56935
a((dp56936
g2
(lp56937
VIn the swing package javadoc, which is linked from the javadoc of every Swing component
p56938
aVSee for example the doc of JButton, which says:
p56939
aVWarning: Swing is not thread safe
p56940
aVFor more information see Swing's Threading Policy
p56941
as(dp56942
g23
V571407
p56943
stp56944
a((dp56945
g2
(lp56946
VHave your servlet save the image on disk, in a specific directory, under a automatically generated name (using a counter for example: 23
p56947
aVjpg), and generate the following temporary URL for this servlet:
p56948
aVHave another servlet called TempImageServlet mapped to /tempImage/*
p56949
aVWhen a request comes in to the TempImageServlet, extract the part after /tempImage/ in the URL used to invoke the servlet: this gives the file name to load
p56950
aVRead the file from the disk
p56951
aVIf its creation date is older than 2 minutes, then send an error code in the response
p56952
aVOtherwise, read the file from the disk and send it to the servlet response
p56953
aVYou could have one of the servlets regularly scan the disk for old files and delete them
p56954
as(dp56955
g23
V571407
p56956
stp56957
a((dp56958
g2
(lp56959
VYou need a servlet that will read the file from , and send the read bytes to the servlet's response output stream
p56960
aVYou will also need to set the content type of the response to the mime type of image you're sending ( for example), and the content length to the number of bytes in the file
p56961
aVAnd this is the URL of this servlet that you will have to pass into the JSON object
p56962
as(dp56963
g23
V571407
p56964
stp56965
a((dp56966
g2
(lp56967
Vwill get you a number between 0 and 24 (inclusive)
p56968
aVNote that since you didn't specify any rule for the distribution of the colors among boxes, the following algorithm also satisfies your requirements:
p56969
aVIf you want a good distribution, then iterate through your boxes, and fill a  where the key is the box id and the value is the color:
p56970
aVAnd then use this map each time you want to get the color of a box
p56971
aVOr simply do the same, and add a  field to the Box class
p56972
as(dp56973
g23
V571407
p56974
stp56975
a((dp56976
g2
(lp56977
VYou don't decide on whether a variable is static or not based on how it will be used
p56978
aVIf it's common to all the  instances, then it must be static
p56979
aVIf each Text instance has its own  (whatever this poorly chosen name might in fact represent), then it must be an instance variable
p56980
as(dp56981
g23
V571407
p56982
stp56983
a((dp56984
g2
(lp56985
VYou could just use , or  or, if you need more power (like loops, if tests, etc
p56986
aV, use FreeMarker or Velocity
p56987
as(dp56988
g23
V571407
p56989
stp56990
a((dp56991
g2
(lp56992
VRead http://docs
p56993
aVoracle
p56994
aVcom/javaee/1
p56995
aV4/tutorial/doc/JSPIntro7
p56996
aVhtml
p56997
as(dp56998
g23
V571407
p56999
stp57000
a((dp57001
g2
(lp57002
VFirst of all, CascadeType
p57003
aVALL on a ManyToXxx association doesn't make much sense
p57004
aVIf the files of a fileset are part of another fileset, you don't want to delete all the files when you delete a fileset, since they're still referenced by other filesets
p57005
aVNow, to answer the question, what you want it to remove files from a fileset
p57006
aVThis is simply done by removing the files from the collection of files in the fileset:
p57007
aVThis loads all the files in the FileSet, though
p57008
aVIf you don't want that, then you'll have to either map the association table, or use SQL
p57009
as(dp57010
g23
V571407
p57011
stp57012
a((dp57013
g2
(lp57014
VYou must not put tomcat's jar files into WEB-INF/lib
p57015
aVTomcat already has thoses classes, and they must be loaded by the root tomcat classloader, not by the webapp's classloader
p57016
aVUnless there is a specific library in this list of jars that is not part of Tomcat, all those jars shouldn't be there
p57017
aVWhat you put in WEB-INF/lib are libraries that your code uses, like Guava or OpenCSV or whatever jar you could have created yourself
p57018
aVNot Tomcat's own libraries
p57019
as(dp57020
g23
V571407
p57021
stp57022
a((dp57023
g2
(lp57024
VFirst of all, you could use two columns in the comment table to point back to their assessment:
p57025
aVIf you want two join tables, the just say so:
p57026
aVThat is of course explained in the documentation
p57027
as(dp57028
g23
V571407
p57029
stp57030
a((dp57031
g2
(lp57032
VI see two advantages
p57033
aVHaving the choice lets you map existing schemas, whatever they have chosen as strategy
p57034
aVusing a foreign key in A pointing to the ID in B, Hibernate knows that there is no B for a given A if the foreign key is null
p57035
aVIt can't know that when primary keys are used
p57036
aVSo it's more efficient to use a foreign key if the association is optional
p57037
aVFor your second question, yes, of course it's possible
p57038
aVThat is called a bidirectional OneToOne association:
p57039
as(dp57040
g23
V571407
p57041
stp57042
a((dp57043
g2
(lp57044
VYour JSP file must NOT be in WEB-INF
p57045
aVYou must create a directory named as you want ( for example), put your JSP in any subdirectory you want except WEB-INF (for example ), then deploy the webapp by copying the myFirstWebApp firectory to the  directory of Tomcat
p57046
aVThe JSP will then be accessible using the URL
p57047
aVWEB-INF is where you put the files that you don't want to make accessible from the outside:
p57048
aVthe jars (under ),
p57049
aVthe classes (under ),
p57050
aVthe deployment descriptor (web
p57051
aVxml, optional in servlet 3
p57052
aV0 webapps configured through annotations),
p57053
aVand any other file you want anywhere under WEB-INF (typically, configuration files)
p57054
aVWhy don't you read the documentation
p57055
aVhttp://tomcat
p57056
aVapache
p57057
aVorg/tomcat-7
p57058
aV0-doc/appdev/deployment
p57059
aVhtml
p57060
as(dp57061
g23
V571407
p57062
stp57063
a((dp57064
g2
(lp57065
VYou shouldn't have to parse dates coming from a SQL query
p57066
aVThey should come back as Date or Timestamp instances
p57067
aVShow us your query
p57068
aVYou prabably have  instances coming back, but you're transforming them to Strings by concatenating them with an empty string:
p57069
aVJust do
p57070
as(dp57071
g23
V571407
p57072
stp57073
a((dp57074
g2
(lp57075
VIf you want to log the exception, then just use
p57076
aVWhether the stack trace will be displayed or not depends on what the underlying logging implementation is, and how it's configured
p57077
aVAFAIK, most or all implementations do display the stack trace of the exceptions by default
p57078
as(dp57079
g23
V571407
p57080
stp57081
a((dp57082
g2
(lp57083
VIf the project had been in SVN from the start, you would have the following:
p57084
aVwhere each  represents a new commit in trunk
p57085
aVIf you want to sort of recreate this history, then start from the trunk you have, containing the code as it was in v2
p57086
ag10
aVThen, in your working copy, replace all the files by the files from version 2
p57087
aV2, commit, then tag
p57088
aVThen replace all the files by the files from version 2
p57089
aV3, commit, then tag
p57090
aVThat's assuming you're using the latest version of SVN, which only has one
p57091
aVsvn folder at the root
p57092
aVDon't delete this folder when replaing old files by newer ones
p57093
as(dp57094
g23
V571407
p57095
stp57096
a((dp57097
g2
(lp57098
VTry removing every static or instance variable, and replace them with local variables passed as arguments from method to method instead
p57099
aVYour code will thus become stateless, hence thread-safe
p57100
aVFor example, replace the following
p57101
aVby
p57102
aVAnother, perhaps better option, would be to restart from scratch
p57103
aVBecause multi-threaded code using lots of static variables might not be worth preserving, and probably contains lots of other bugs or bad practices
p57104
as(dp57105
g23
V571407
p57106
stp57107
a((dp57108
g2
(lp57109
VThis exception is triggered because you're getting employees and eagerly fetching the employee's themes and the employee's projects
p57110
aVFirst, make sure you really really need both
p57111
aVSecond, realize that by doing it like this, you're making a cartesian product
p57112
aVIf an employee has 100 projects and 100 themes, the query will return 10,000 rows just for this employee
p57113
aVMaybe you should fetch the employee with its projects first (100 rows), and then refetch the employee with its themes (100 rows again)
p57114
aVThird, if a cartesian product is really what you want, then make at least one of the collections a Set instead of a List
p57115
as(dp57116
g23
V571407
p57117
stp57118
a((dp57119
g2
(lp57120
VI assume that  is in fact , because it wouldn't compile
p57121
aVOf course it's null after deployment
p57122
aVis only called when a request
p57123
aVis processed
p57124
aVMake an HTTP request to your servlet, and the code will be executed
p57125
aVThat said, what you have there seems like a really bad idea, and it's not thread-safe ( and  should be synchronized)
p57126
aVMoreover, these methods should be called using , and not , since they're static methods
p57127
aVWhat are you trying to achieve
p57128
aVEDIT: it seems the problem is to read files from WEB-INF at deployment time
p57129
aVTo do that, use a ServletContextListener, and in its  method, get the servlet context from the event, and call
p57130
as(dp57131
g23
V571407
p57132
stp57133
a((dp57134
g2
(lp57135
VUse a  wrapping a
p57136
aVOr, if you prefer, make your class implement  and use an  wrapping a
p57137
aVThis will of course make a byte array readable only by Java
p57138
as(dp57139
g23
V571407
p57140
stp57141
a((dp57142
g2
(lp57143
VOpen the swingx jar file, look for the properties file holding the values you want to translate, and create your own file with the appropriate locale extension
p57144
aVFor example,
p57145
as(dp57146
g23
V571407
p57147
stp57148
a((dp57149
g2
(lp57150
VUse a ThreadPoolExecutor of N threads, constructed with a SynchronousQueue
p57151
aVEach time you'll submit a task to the thread pool, the main thread will be blocked by the synchronous queue until a thread from the pool takes the task from the queue
p57152
as(dp57153
g23
V571407
p57154
stp57155
a((dp57156
g2
(lp57157
VActually, you don't have much choice
p57158
aVIn a bidirectional OneToMany association, the owner side is always the Many side (Hibernate has some trick to make the inverse possible, but it's horrible, and not supported by JPA, AFAIK)
p57159
aVBut don't attribute too much value to this ownership
p57160
aVThe only thing it means is that Hibernate will only consider the  field in OrderLine (or User) to determine if an association exists
p57161
aVThat's all
p57162
aVYou're still free to organize your code as you will, provided that you remember to initialize the parent field if you want to add an OrderLine to an Order, and to set it to null if you want to detach it from its Order
p57163
as(dp57164
g23
V571407
p57165
stp57166
a((dp57167
g2
(lp57168
VEnum instances are objects, encapsulating data and behaviour just like any other object
p57169
aVBy passing enum instances around, anyone can call its methods
p57170
aVIf you pass Map keys as Strings, for example, you can't do anything useful with the key
p57171
aVMoreover, the code is less type-safe, and less self-documenting, since the String could very well be something completely different from what it's supposed to be
p57172
aVWhat's the most readable
p57173
aVor
p57174
aVWhat if I pass something other than a month name in the set
p57175
as(dp57176
g23
V571407
p57177
stp57178
a((dp57179
g2
(lp57180
VIf you want polymorphic behaviour, then make the test method an overridable method of the Num class
p57181
aVOverloaded methods are not resolved polymorphically based on the runtime type of the arguments
p57182
aVThey're resolved at compile-time, based on the declared type of the arguments
p57183
as(dp57184
g23
V571407
p57185
stp57186
a((dp57187
g2
(lp57188
VFor each day of the week, store a list of pairs of LocalTime instances between which orders are rejected
p57189
aVThen when an order is placed at a given DateTime, get the pairs associated with the dateTime's day of week, transform the DateTime into a LocalTime, and check if this LocalTime is contained between the start and end of at least one pair
p57190
as(dp57191
g23
V571407
p57192
stp57193
a((dp57194
g2
(lp57195
VThe articles explains it
p57196
aVClearing the entity manager empties its associated cache, forcing new database queries to be executed later in the transaction
p57197
aVIt's almost never necessary to clear the entity manager when using a transaction-bound entity manager
p57198
aVI see two reasons to clear:
p57199
aVwhen doing batch processing, in order to avoid having a giant cache eating memory and increasing the time to flush because of long dirty checks
p57200
aVwhen you're doing DML or SQL queries, which completely bypass the entity manager cache (as in your example)
p57201
aVIn this case, the state held by the cache doesn't reflect what is in the database because of the queries, so you want to clear the cache to avoid this inconsistency
p57202
as(dp57203
g23
V571407
p57204
stp57205
a((dp57206
g2
(lp57207
VThe first and last index are not what you think they are
p57208
aVHere's what the javadoc says:
p57209
aVgetFirstIndex()
p57210
aVReturns the index of the first row whose selection may have changed
p57211
aVgetLastIndex()
p57212
aVReturns the index of the last row whose selection may have changed
p57213
aVSo, since the selection of pear and orange changes at each click, and since pear is after orange in the list,  always returns Orange and  always returns Pear
p57214
aVIf you want to compare the new selection with the last one, then keep the last selection in some member variable, and compare it with the new selection each time the selection changes, and  returns false
p57215
as(dp57216
g23
V571407
p57217
stp57218
a((dp57219
g2
(lp57220
VAdd a MouseListener to the canvas, and in the  method of the listener, change the state of the objects painted by the canvas, and call the canvas  method in order for the canvas to repaint itself, based on the modified state
p57221
as(dp57222
g23
V571407
p57223
stp57224
a((dp57225
g2
(lp57226
VThe code is hard to read, because it's not indented properly, but it seems you're processing one image at a time in memory, so if that causes an OutOfMemoryError, then you don't have much choice except increase the memory of your VM, or find a library that uses less memory to do the same thing
p57227
aVTo increase the heap memory, use the  flag to launch your program
p57228
aVFor example, for a heap of 512 MBs, you would use
p57229
as(dp57230
g23
V571407
p57231
stp57232
a((dp57233
g2
(lp57234
VGo to the "Debug" view of Eclipse, select the hung process, right-click, choose "Properties", and you'll have the command used by eclipse to start the process
p57235
aVLaunch this command in a console, and hit Ctrl-Break
p57236
as(dp57237
g23
V571407
p57238
stp57239
a((dp57240
g2
(lp57241
VYou'd better keep it as it is
p57242
aVOverriding the  method also makes this method answer to PUT, HEAD, DELETE, etc
p57243
aVAnd it bypasses the work the default  method does with last-modified headers
p57244
as(dp57245
g23
V571407
p57246
stp57247
a((dp57248
g2
(lp57249
VIt can be done, but requires a special launcher using a specific classloader to extract the inner jar from the outer jar
p57250
aVI would simply use the standard way of doing: deliver both jars, along with a startup
p57251
aVbat/
p57252
aVsh file used to start the application, the whole being packed into a simple zip file
p57253
as(dp57254
g23
V571407
p57255
stp57256
a((dp57257
g2
(lp57258
VJust don't
p57259
aVMake your methods instance methods instead of static methods
p57260
aVMake your fields private instance fields instead of public static fields, and inject an instance of the bean where you need access to call the method
p57261
aVThat's the whole point of dependency injection
p57262
aVSpring beans are singletons by default, so there won't be more than one such field in the JVM anyway
p57263
aVAnd making it an instance method and an injectable component will make the code using it testable, which is not the case with a static method
p57264
as(dp57265
g23
V571407
p57266
stp57267
a((dp57268
g2
(lp57269
VUse a LinkedHashMap, which preserves insertion order
p57270
as(dp57271
g23
V571407
p57272
stp57273
a((dp57274
g2
(lp57275
s(dp57276
g23
V571407
p57277
stp57278
a((dp57279
g2
(lp57280
VEach time you change your JSP, the container recompiles it to a new Java source file, and recompiles this new Java source file to a new class
p57281
aVIt seems you have defined a Java class inside the JSP
p57282
aVSo this class is also regenerated and recompiled
p57283
aVSo the object in the session has a class that is not the same as the one recreated
p57284
aVYou shouldn't have Java code in JSPs
p57285
aVAnd definitely not class definitions
p57286
aVProductData should be defined in its own
p57287
aVjava file, like any other class
p57288
as(dp57289
g23
V571407
p57290
stp57291
a((dp57292
g2
(lp57293
VChange your code to
p57294
aVHere's my attempts at an explanation (which might be wrong, because I also have a hard time with generics):
p57295
aVThe compiler doesn't know that a Provider only creates objects
p57296
aVIt thinks that a  is an object that is able to hold instances of  (just like a )
p57297
aVAnd since a  is supposed to be able to hold maps containing anything as keys, and anything as values, a  is not a valid type substitution
p57298
aVIndeed, a  can only hold instances of
p57299
as(dp57300
g23
V571407
p57301
stp57302
a((dp57303
g2
(lp57304
VUse a CountDownLatch to start, and another CountDownLatch to finish:
p57305
aVAnd in each worker thread:
p57306
aVAnd if you need to do that several times, then a  is probably what you should use
p57307
as(dp57308
g23
V571407
p57309
stp57310
a((dp57311
g2
(lp57312
VWhat you describe is called a modal dialog box
p57313
aVCheckout JDialog and the swing tutorial about dialogs
p57314
as(dp57315
g23
V571407
p57316
stp57317
a((dp57318
g2
(lp57319
VStraight from the javadoc of ScriptingContainer
p57320
aVThe second example shows how to share variables between Java and Ruby
p57321
aVIn this example, a local variable "x" is shared
p57322
ag7651
aVExample 2:
p57323
as(dp57324
g23
V571407
p57325
stp57326
a((dp57327
g2
(lp57328
VReplace
p57329
aVby
p57330
aVThe constructor initializes and fills a local variable instead of initializing and filling the instance field used by the  method
p57331
as(dp57332
g23
V571407
p57333
stp57334
a((dp57335
g2
(lp57336
VI think what you in fact need is the following:
p57337
aV(Just as the  and  methods in enums, which is redefined in every Enum subclass, because static methods can't be inherited)
p57338
aVIn this case, each class has its own static method doing whatever it wants
p57339
aVBut your question doesn't make much sense because it says:
p57340
aVThe static method in class A must get the value the non-static method returns (for the subclass the static method is inherited from, of course)
p57341
aVIndeed, the static method is not inherited by the subclass
p57342
aVStatic methods are never inherited
p57343
aVIf you define a static method  in A, and call
p57344
aVthe compiler doesn't refuse to compile it, but it translates it to
p57345
aVSo, there's no way to do in  something that depends on the class on which  is called, since it's always A
p57346
as(dp57347
g23
V571407
p57348
stp57349
a((dp57350
g2
(lp57351
VProbably because when you create your list of  instances, you do
p57352
aVinstead of doing
p57353
aVRemember that a list contains references to objects, and not copies of objects
p57354
aVSo if you add the same Foo instance 10 times to the list, the list will contain 10 references to this unique instance, which will of course contain its last modified state
p57355
as(dp57356
g23
V571407
p57357
stp57358
a((dp57359
g2
(lp57360
VIt's working because you don't use any char in your program
p57361
aVYou're just transferring raw bytes from one file to another
p57362
aVIt would be a problem if you read and wrote characters, because then an encoding would be used to transform the bytes in the files to characters, and vice-versa
p57363
as(dp57364
g23
V571407
p57365
stp57366
a((dp57367
g2
(lp57368
VI don't really understand where the problem is
p57369
aVThe first expression is
p57370
aVWhich means:  is initialized with
p57371
aVthe empty string if  returns null
p57372
aVthe value of  otherwise
p57373
aVSince test has not been initialized yet, you can't initialize  with itself, hence the error message
p57374
aVThe second expression is
p57375
aVwhich means:
p57376
aVinitialize  with the result of
p57377
aVcompare  with
p57378
aVif  is null the expression evaluates to the empty string
p57379
aVotherwise it evaluates to the value of
p57380
aVWhy shouldn't it compile
p57381
as(dp57382
g23
V571407
p57383
stp57384
a((dp57385
g2
(lp57386
VThe compiler translates it to
p57387
aVThe rules of concatenation and conversion are explained in the JLS
p57388
as(dp57389
g23
V571407
p57390
stp57391
a((dp57392
g2
(lp57393
VYou have not specified that the ID was autogenerated by the database in your mapping
p57394
aVAdd
p57395
aVto your ID field
p57396
aVWithout it, JPA doesn't know that it must execute a select statement after insertion in order to get the generated ID from the database
p57397
as(dp57398
g23
V571407
p57399
stp57400
a((dp57401
g2
(lp57402
VStore the things you want to paint in a collection (for example, the coordinates of your two rectangles), call , and have your  method iterate through the collection of things to paint and paint them one by one
p57403
as(dp57404
g23
V571407
p57405
stp57406
a((dp57407
g2
(lp57408
VI'm not a specialist of XML mapping, but both sides of the many-to-many associations are marked as the inverse side ()
p57409
aVSo Hibernate doesn't care about them when persisting the user
p57410
as(dp57411
g23
V571407
p57412
stp57413
a((dp57414
g2
(lp57415
VThe libraries used by a web application at runtime are all the jars placed in the  directory of the deployed webapp
p57416
aVAdding the library in the classpath used to compile the webapp doesn't make it automatically available at runtime
p57417
aVIf you're using Eclipse, just drop the jar in , and it will be automatically added to the build path (i
p57418
ag468
aVthe classpath used to compile the app), and also be part of the deployed webapp, and thus be available at runtime
p57419
as(dp57420
g23
V571407
p57421
stp57422
a((dp57423
g2
(lp57424
VI do something like this:
p57425
aV(where ShouldNeverHappenException is a runtime exception, of course)
p57426
aVThis way, if someone happens to change the constant value, or add an encoding argument, the method will fail fast and the problem will not go unnoticed or buried in log files
p57427
as(dp57428
g23
V571407
p57429
stp57430
a((dp57431
g2
(lp57432
VUse
p57433
aVYour subquery is
p57434
aV, and  is not defined
p57435
as(dp57436
g23
V571407
p57437
stp57438
a((dp57439
g2
(lp57440
VMake it simple, and use a startup script (
p57441
aVbat/
p57442
aVsh file) to run your application
p57443
aVThis startup script will get the path of its own location in the filesystem, and pass it as an argument or system property to the Java application
p57444
aVThis has the additional advantage of being able to pass other arguments, like the size of the heap, etc
p57445
aVOn windows,  is the path of the directory containing the executed bat file
p57446
aVOn Unix, you can use
p57447
as(dp57448
g23
V571407
p57449
stp57450
a((dp57451
g2
(lp57452
VTry with
p57453
aVThe documentation says:
p57454
aVAlso, the URL should be
p57455
aVand not
p57456
as(dp57457
g23
V571407
p57458
stp57459
a((dp57460
g2
(lp57461
VYou have two choices:
p57462
aVlet it as it is, and have the controller get the ID and name from the GUI (and that is the easiest and simplest solution, IMHO)
p57463
aVuse your own Event and Listener types, containing this information
p57464
aVFor example:
p57465
aVThe UI would register an ActionListener on the button, and this action listener would do:
p57466
as(dp57467
g23
V571407
p57468
stp57469
a((dp57470
g2
(lp57471
VYes, it's the right way to do it
p57472
aVThe  method expects an instance of the ID class of the entity
p57473
aVNot some random attribute of the entity
p57474
aVNote that the error isn't caused by the  method, but by the  method
p57475
as(dp57476
g23
V571407
p57477
stp57478
a((dp57479
g2
(lp57480
VAll the possible execution paths are not covered
p57481
aVFor example, if the type is "JPG Images", but the url is neither JPG nor JPEG, the method doesn't return anything
p57482
aVRemove the last  clause, and simply return  at the end of the method
p57483
as(dp57484
g23
V571407
p57485
stp57486
a((dp57487
g2
(lp57488
VUse the primitive type unless you have no other choice
p57489
aVThe fact that it's not nullable will prevent many bugs
p57490
aVAnd they're also faster
p57491
aVBesides collections, wrapper types are typically used to represent a nullable value (for example, coming from a database nullable column)
p57492
as(dp57493
g23
V571407
p57494
stp57495
a((dp57496
g2
(lp57497
VIf you want the FiledTasks of a given user, then the easiest thing to do is
p57498
aVUsing HQL, it would be
p57499
aVIf what you want is in fact the tasks of a given user, then the query would simply be
p57500
aVNote that the entity  shouldbe named
p57501
aVAn instance represents a single task, and not multiple ones
p57502
as(dp57503
g23
V571407
p57504
stp57505
a((dp57506
g2
(lp57507
VRead the bytes of the file, and send them to the HTTP response's output stream
p57508
aVYou should also set the content type to , and the content length to the length of the file
p57509
as(dp57510
g23
V571407
p57511
stp57512
a((dp57513
g2
(lp57514
VYou load entities in a first session, then close this session, then open a new session, and try to lazy-load collections of the entities
p57515
aVThat can't work
p57516
aVFor lazy-loading to work, the entity must be attached to an open session
p57517
aVJust opening another session doesn't make any entity you have loaded before attached to this new session
p57518
aVIn the meantime, some other transaction could have radically changed the database, the entity could not exist anymore
p57519
aVThe best solution is what you have done
p57520
aVEncapsulate evrything into a single transactional service
p57521
aVYou could also have open the transaction before calling the first service, but why handle transactions programmatically, since Spring does it for you declaratively
p57522
as(dp57523
g23
V571407
p57524
stp57525
a((dp57526
g2
(lp57527
VThat's the basic principle of polymorphism
p57528
aVSince  is an overridable method, and since the servlet is an instance of TestServlet, which overrides the init() method, the  implementation of the method is used
p57529
aVJust like in the following example:
p57530
as(dp57531
g23
V571407
p57532
stp57533
a((dp57534
g2
(lp57535
VAccording to the output you gave, there is no myClass
p57536
aVclass file in the directory where you execute
p57537
aVSo obviously, the command can't add it to the jar: it doesn't exist
p57538
aVIf you want to add the myClass directory, recursively, to the jar file, then use
p57539
aVEDIT:
p57540
aVJust look at the output:
p57541
aVThe myClass
p57542
aVclass file is there in the jar file
p57543
aVThere is no problem at all
p57544
as(dp57545
g23
V571407
p57546
stp57547
a((dp57548
g2
(lp57549
VUse
p57550
aVAs it is, you're dividing two integers using integer division, and assigning the resulting int to a double
p57551
aVCasting one of the operands to a double makes it do a double division instead
p57552
as(dp57553
g23
V571407
p57554
stp57555
a((dp57556
g2
(lp57557
VThe right way to do it is
p57558
aVI don't see what any simpler way to do it
p57559
as(dp57560
g23
V571407
p57561
stp57562
a((dp57563
g2
(lp57564
VAdd an ActionListener to the first combo box
p57565
aVEach time the selection changes, an ActionEvent will be fired and the ActionListener will thus be invoked
p57566
aVFrom the listener, get the newly selected category from the combo box, then get the associates causes from the Map, and change the items displayed in the second combo box
p57567
aVAs usual: link to the swing tutorial
p57568
as(dp57569
g23
V571407
p57570
stp57571
a((dp57572
g2
(lp57573
VThe jQuery documentation says:
p57574
aVcache - Boolean
p57575
aVDefault: true, false for dataType 'script' and 'jsonp'
p57576
aVIf set to false, it will force requested pages not to be cached by the browser
p57577
aVSetting cache to false also appends a query string parameter, "_=[TIMESTAMP]", to the URL
p57578
as(dp57579
g23
V571407
p57580
stp57581
a((dp57582
g2
(lp57583
VBecause that's how it works
p57584
aVThe program exits when  is called, or when the last non-daemon thread stops running
p57585
aVAnd it makes sense
p57586
aVWithout this rule, every Java program consisting in just spawning a GUI, for example, would have to wait() infinitely to avoid the program from exiting immediately
p57587
as(dp57588
g23
V571407
p57589
stp57590
a((dp57591
g2
(lp57592
VThe  method expects a  as argument
p57593
aVYou have a  which is not a , and you're trying to cast it to a
p57594
aVThat can't work
p57595
aVCasting doesn't change the type of an object
p57596
aVTo create a  from a , use
p57597
as(dp57598
g23
V571407
p57599
stp57600
a((dp57601
g2
(lp57602
VIf you open a URL connection with a Java program, you're not using the same session ID as the one used by your browser, so obviously, logging out from Java doesn't log you out from the browser
p57603
aVImagine if that works, I would just need to write a program which logs out from gmail
p57604
aVcom, and everybody gmail user would be logged out
p57605
as(dp57606
g23
V571407
p57607
stp57608
a((dp57609
g2
(lp57610
VIt compares Strings with  instead of
p57611
aVcompares object references
p57612
aVIt doesn't compere the contents of two strings
p57613
as(dp57614
g23
V571407
p57615
stp57616
a((dp57617
g2
(lp57618
VTry removing the white space in
p57619
aVAnd in every other place where you might have done the same mistake
p57620
as(dp57621
g23
V571407
p57622
stp57623
a((dp57624
g2
(lp57625
VBecause writing to console needs to refresh the screen each time something is written, which takes time
p57626
aVWriting to a file needs to write bytes on disk, which takes time, but less time than refreshing the screen
p57627
aVAnd writing to  doesn't write anything anywhere, which takes much less time
p57628
as(dp57629
g23
V571407
p57630
stp57631
a((dp57632
g2
(lp57633
V is an implicit inner join between Clazz and SomeObject
p57634
aVSo, since it's an inner join, it automatically filters out Clazz instances having a  someObject
p57635
aVYou need an outer join:
p57636
as(dp57637
g23
V571407
p57638
stp57639
a((dp57640
g2
(lp57641
VThe code inside  can throw an IOException, so the method should declare that it throws an IOException (and not an Exception, because Exception is too vague):
p57642
aVSince this method can throw an IOException, and you call this method from the constructor without catching IOException, the constructor must also declare that it throws IOException:
p57643
aVAnd of course, the method which calls this constructor will also have to either catch IOException, or declare that it throws IOException, etc
p57644
aVetc
p57645
aVuntil you get to a point where you can handle this IOException, and thus catch it to handle it
p57646
aVRead the tutorial about exceptions
p57647
aVImportant note: catching an exception, printing its stack trace, and continuing as if nothing happened is generally not how an exception should be handled
p57648
as(dp57649
g23
V571407
p57650
stp57651
a((dp57652
g2
(lp57653
VLook at the generated JavaScript
p57654
aVIt will look like the following:
p57655
aVSo, in clear, it will redefine the same marker variable N times, overwriting the previous definition of the same variable
p57656
aVAnd all the listeners will thus get the Z index in the marker referenced by the last object assigned to the variabe
p57657
as(dp57658
g23
V571407
p57659
stp57660
a((dp57661
g2
(lp57662
VYou should never modify keys stored in a map
p57663
aVOr at least not modify any of the fields used to implement  and  (in the case of a HashMap) or / (in the case of a SortedMap)
p57664
aVThis will put the map in an inconsistent state, and you can't expect it to work reliably after doing that
p57665
aVOf course, you can remove the key from the map, modify it, and then reinsert it
p57666
aVBut you'd better use immutable types as keys of your maps, to avoid shooting yourself in the foot
p57667
as(dp57668
g23
V571407
p57669
stp57670
a((dp57671
g2
(lp57672
Vpublic methods, by definition, are intended to be called from the oustide of the class (they can be called from the inside also, but if that's the only goal, the method should be private)
p57673
aVThis method, however, is not a method, but a constructor
p57674
aVAnd it's invoked with 5 arguments:
p57675
ag11502
ag11502
ag11502
ag11502
aVWhat's the most troubling from your code is that the constructor takes 5 arguments, but does nothing with 4 of them
p57676
aVEIther the arguments should be used, or they should be removed
p57677
as(dp57678
g23
V571407
p57679
stp57680
a((dp57681
g2
(lp57682
VCatch the exception in the controller, put it (or its message) in a request attribute, and let the JSP get it from the request and display it, as it would with any other object
p57683
as(dp57684
g23
V571407
p57685
stp57686
a((dp57687
g2
(lp57688
VA static method is a method that is not invoked on any Object instance
p57689
aVA non-static method belongs to an object, and needs an object instance in order to be invoked
p57690
aVIt's thus not legal to call an instance method from static method, since the static method is not invoked on any object
p57691
aVYou need to instanciate an object to call an instance method:
p57692
aVAndroid code is Java code, and has exactly the same rule
p57693
aVRead the Java tutorial about instance and static members
p57694
as(dp57695
g23
V571407
p57696
stp57697
a((dp57698
g2
(lp57699
VYou must set the SimpleDateFormat's time zone to UTC before parsing the date
p57700
aVElse, it uses your default timezone
p57701
aVAnd to display the date in the "GMT-5" timezone, you should use another DateFormat, with the timezone set to GMT-5, and format the date with this DateFormat
p57702
aVThe  method of Date uses your default time zone to transform the date into something readable
p57703
as(dp57704
g23
V571407
p57705
stp57706
a((dp57707
g2
(lp57708
VTo implement the method , you call , which calls , etc
p57709
aVetc
p57710
aVuntil you get a StackOverflowError
p57711
aVProvide an actual implementation for your method:
p57712
aVor
p57713
aVAlso note that replacing the last line of Test
p57714
aVjava by
p57715
aVwouldn't work, since the  method in  doesn't return an , but a Fraction
p57716
aVYou would thus get a ClassCastException
p57717
as(dp57718
g23
V571407
p57719
stp57720
a((dp57721
g2
(lp57722
V and  ae orthogonal notions
p57723
aVsimply says that the association is a bidirectional one, mapped by the other side of the association
p57724
aVIt makes the other side the owner of the association
p57725
aVOnly one side of an associaion is the owner side, and Hibernate only considers the owner side when persisting
p57726
aVThis means that if an entity  has a set of Bs containing ,  and , but none of these B instances references  as their parent, Hibernate won't persist the association, because the owner side (B) says: I'm not linked to any parent A
p57727
as(dp57728
g23
V571407
p57729
stp57730
a((dp57731
g2
(lp57732
VIf you don't specify any mapping annotation (i
p57733
ag468
aVJoinColumn or JoinTable), it will use a join table for each association
p57734
aVYou will thus have the following tables:
p57735
aVThe alternative if to annotate each set with a JoinColumn annotation:
p57736
aVAnd you will thus have the following tables:
p57737
aVThis is of course described in the documentation
p57738
as(dp57739
g23
V571407
p57740
stp57741
a((dp57742
g2
(lp57743
VUse a single thread executor service, and each time you want to call a lotus notes method, submit a task to the executor, get the returned Future, and get the result of the method call from the Future
p57744
aVFor example, to call the method , you would use the following code:
p57745
as(dp57746
g23
V571407
p57747
stp57748
a((dp57749
g2
(lp57750
VIf I understand correctly, you would like to append the text entered in the textfield to the output text area when the user presses Enter in the text field
p57751
aVWhen Enter is pressed, the text field fires an action event
p57752
aVYou listen to this event in your class
p57753
aVSo, at this moment, you just need to append the value to the text area
p57754
aVSwing is event-based:
p57755
aVThe code in the constructor is only executed at execution time
p57756
aVSo getting the value of the text fields will of course return an empty string, since at construction time, the text field is not even visible yet
p57757
aVEDIT : to do what you want, just have the following:
p57758
aVThis method is way too complex, though
p57759
aVThere is no point in using an if clause to set a char variable, and then a switch over this char variable
p57760
aVAnd your if clauses should also be cleaned up
p57761
as(dp57762
g23
V571407
p57763
stp57764
a((dp57765
g2
(lp57766
VSpring beans are singletons by default, so make  an instance field, and keep your code clean and testable
p57767
aVThere is no reason for  to be static
p57768
aVNon-final static fields are a smell
p57769
as(dp57770
g23
V571407
p57771
stp57772
a((dp57773
g2
(lp57774
VI would use Guava's HashMultimap instead of a
p57775
aVIt has the following advantages:
p57776
aVshortcut methods to add multiple values for a given key, without caring if a Set already exists for this key of not
p57777
aValways returns a non-null Set when  is called, even if nothing was ever stored for this key
p57778
aVSo your code would become:
p57779
aVThe set would simply be a view over the two sets, which avoids copying every element
p57780
aVBut if you want a copy, then do
p57781
aVIf you don't want to go with an external library, then your code is pretty much OK
p57782
aVI would use  for the second fallback set though, to avoid an unnecessary empty set creation
p57783
aVAnd be careful: your code modified the first set
p57784
aVIt doesn't make a copy of it
p57785
aVSo in the end, every set of the first map is in fact a merged set
p57786
as(dp57787
g23
V571407
p57788
stp57789
a((dp57790
g2
(lp57791
VForget about your wrapper, which eats the exceptions, whereas the SwingWorker doesn't
p57792
aVHere's how a SwingWorker should be used, and how you should handle a specific exception thrown from the background task:
p57793
as(dp57794
g23
V571407
p57795
stp57796
a((dp57797
g2
(lp57798
VYou have a field named , and a local variable also named
p57799
aVYou open a Hibernate session and assign it to the local variable, but you close the field and not the local variable
p57800
aVRemove the  field
p57801
aVYou shouldn't store a Hibernate Session in a field like that
p57802
aVIt doesn't make sense
p57803
aVYou'll then get a compilation error that you'll need to fix by declaring the session local variable in a larger scope (outside of the try block)
p57804
as(dp57805
g23
V571407
p57806
stp57807
a((dp57808
g2
(lp57809
VBecause you don't call it in a safe, genericized way
p57810
aVTry
p57811
aVAnd you'll get a compilation error
p57812
aVOr let the compiler infer the type, and you should also get a compilation error:
p57813
as(dp57814
g23
V571407
p57815
stp57816
a((dp57817
g2
(lp57818
VBecause that's how it's designed, and what the JPA spec tells it to map such an association
p57819
aVIf you want a join column in the Flight table, use
p57820
aVThis is documented
p57821
as(dp57822
g23
V571407
p57823
stp57824
a((dp57825
g2
(lp57826
VUsing Mockito:
p57827
as(dp57828
g23
V571407
p57829
stp57830
a((dp57831
g2
(lp57832
VDefine an entity like the following, and you'll have a tree structure:
p57833
as(dp57834
g23
V571407
p57835
stp57836
a((dp57837
g2
(lp57838
VThe easiest thing to do is probably to serialize the list of CountryData to JSON (using one of the myriads of free Java JSON libraries), and to use JavaScript to filter the array of countries
p57839
aVIn Java:
p57840
aVIn the JSP:
p57841
aVWhich will be translated to the following HTML code:
p57842
as(dp57843
g23
V571407
p57844
stp57845
a((dp57846
g2
(lp57847
VMake the  method an overridable instance method of :
p57848
aVOr use the visitor pattern:
p57849
as(dp57850
g23
V571407
p57851
stp57852
a((dp57853
g2
(lp57854
VCode must be put in methods, and not directly in the class body
p57855
aVThe class is called , so it should probably have a  method, and this method should read, and throw an IOException if it can't do it:
p57856
as(dp57857
g23
V571407
p57858
stp57859
a((dp57860
g2
(lp57861
VYou don't have to use
p57862
aVYou can use any other matcher as well, such as , ,  or
p57863
as(dp57864
g23
V571407
p57865
stp57866
a((dp57867
g2
(lp57868
VRead the JDBC tutorial
p57869
as(dp57870
g23
V571407
p57871
stp57872
a((dp57873
g2
(lp57874
V takes an entity instance to delete as argument
p57875
aVIt doesn't take a HQL query
p57876
aVUse  to execute a delete query
p57877
aVOr even better, forget about HibernateTemplate, which is deprecated, and use the Hibernate API directly
p57878
as(dp57879
g23
V571407
p57880
stp57881
a((dp57882
g2
(lp57883
VRemove the following element:
p57884
aVwhich causes the exception in your logs:
p57885
aVelement in configuration specifies no attribute
p57886
aVI would try to find another tutorial, showing how to use annotations for mapping instead of XML files, because
p57887
aVannotations are much easier
p57888
aVannotations are the standard JPA way of mapping entities
p57889
as(dp57890
g23
V571407
p57891
stp57892
a((dp57893
g2
(lp57894
V and , and generally, every operation you do with persistent entities, are deferred until really necessary, to avoid needless roundtrips to the database
p57895
aVYou can make Hibernate write every pending change to the database by using , but that won't make the entity available for the front-end, because the ront-end doesn't use the same transaction to read the data than the one doing the long operation and persisting the entities
p57896
aVAnd since transactions run in isolation (with the default isolation being READ_COMMITTED, most of the time), a transaction won't see anything written by another transaction until this other transaction commits to the database
p57897
aVIf you want to se the inserted entity immediately, save it in a separate transaction from the rest of the long-running operation, or change the isolation level to READ_UNCOMMITTED
p57898
as(dp57899
g23
V571407
p57900
stp57901
a((dp57902
g2
(lp57903
VThe servlet container has a class implementing this interface, and instantiates an object of this class
p57904
aVJust like when you do
p57905
aVis an interface, and you instantiate , which is a class implementing
p57906
aVThe servlet container does something like the following:
p57907
aVThis is the basis of OO and polymorphism
p57908
as(dp57909
g23
V571407
p57910
stp57911
a((dp57912
g2
(lp57913
Vor simply
p57914
as(dp57915
g23
V571407
p57916
stp57917
a((dp57918
g2
(lp57919
VNo, two sessions can't share a single connection
p57920
as(dp57921
g23
V571407
p57922
stp57923
a((dp57924
g2
(lp57925
VA native query, by definition, is a SQL query
p57926
aVIt must contain valid SQL for your specific database
p57927
aVThe query will return a , and it should be trivial to iterate through the list and create a new instance of  for each  array
p57928
as(dp57929
g23
V571407
p57930
stp57931
a((dp57932
g2
(lp57933
VYou're writing a generic-pupose library, which generates logs using SLF4J
p57934
aVCompany A uses it, and has already configured all its IT infrastructure to use log4J
p57935
aVThey're happy that your API can also use log4J to log
p57936
aVCompany B uses it as well, and has already configured all its IT infrastructure to use java util logging
p57937
aVThey're happy that your API can also use java util logging to log
p57938
aVCompany C uses it as well, and has already configured all its IT infrastructure to use logback
p57939
aVThey're happy that your API can also use logback to log
p57940
as(dp57941
g23
V571407
p57942
stp57943
a((dp57944
g2
(lp57945
VPurists will tell you that the private methods could be extracted to another helper class providing accessible methods, and they could be right
p57946
aVBut if it makes sense to keep these utility methods inside the class, if the class is not part of a public API and is not intended to be subclassed (it could be final, for example), I don't see any problem with making some of its private methods package-protected or protected
p57947
aVEspecially if this non-private visibility is documented, for example with the Guava annotation
p57948
as(dp57949
g23
V571407
p57950
stp57951
a((dp57952
g2
(lp57953
VFirst of all, you have two package declarations in your code:
p57954
aVThis is invalid
p57955
aVSecond, the class you want to use, as the javadoc you linked to indicates, is , and not
p57956
aVFinally, I would be careful in using a class that doesn't even respect the basic Java naming conventions: classes should start with an upper-case letter
p57957
as(dp57958
g23
V571407
p57959
stp57960
a((dp57961
g2
(lp57962
VYes, it would be replaced
p57963
aVRemember that a Map only stores references to other objects
p57964
aVYou put a reference to a HashMap in a map, and the map keeps a reference to this HashMap
p57965
aVIf you put a reference to another HashMap using the same key, the reference to the first put HashMap is replaced by the reference to the new HashMap
p57966
aVThe type of the object doesn't matter
p57967
aVIt always works the same way
p57968
as(dp57969
g23
V571407
p57970
stp57971
a((dp57972
g2
(lp57973
VIn JPQL:
p57974
aVUsing the criteria API (but why would you replace such a simple static query with the following mess
p57975
ag30709
as(dp57976
g23
V571407
p57977
stp57978
a((dp57979
g2
(lp57980
VIf you really want to implement a page view counter, you'd better make it persistent, else the counts will restart from 0 at each redeploy or restart of the application
p57981
aVAnd the numbers won't be right if the application is clustered on several servers
p57982
aVIf it's just an exercise, the you should use bean-managed concurrency, and use an  containing instances of
p57983
aVSee the documentation of these two classes to understand how they work, especially the documentation for  (unless you know all the pages in adavance and can prepopulate the map with counters set to 0, in which case you won't even need to use )
p57984
as(dp57985
g23
V571407
p57986
stp57987
a((dp57988
g2
(lp57989
VA method is usually made generic to ensure that two arguments are compatible with each other, or to return a value whose type depends on the generic type of the method
p57990
aVFor example,
p57991
aVmakes sure the type of the list and the type of the comparator are compatible, which wouldn't necessary be the same if the signature was
p57992
aVIn the following example, the returned value's type depends on the generic type of the method:
p57993
aVwhich allows doing:
p57994
aVIf the method was
p57995
aVyou would have to do
p57996
aVand you wouldn't have any warning from the compiler if you changed the code to
p57997
as(dp57998
g23
V571407
p57999
stp58000
a((dp58001
g2
(lp58002
VCasting a variable of type A to type B works only if the variable indeed references an object whose concrete type is or extends B
p58003
aVFor example:
p58004
aVworks, because the variable  references an object which is a String
p58005
aVBut doing
p58006
aVwon't work because o doesn't reference an Integer
p58007
aVSo obviously, casting an instance of JPanel to Indicator won't work, unless the class actually implements the Indicator interface
p58008
aVWhether the class is an inner class or not doesn't matter
p58009
as(dp58010
g23
V571407
p58011
stp58012
a((dp58013
g2
(lp58014
VYour mapping is wrong
p58015
aVIn Component, you're saying that the association between Component and Task is mapped by a join table
p58016
aVAnd in Task, you're saying that the same association is mapped by a join column in the Task table
p58017
aVMake up your mind
p58018
aVIf the association is a OneToMany bidirectional association, a join table is usually not necessary, and you just need
p58019
aVand
p58020
as(dp58021
g23
V571407
p58022
stp58023
a((dp58024
g2
(lp58025
VIf you want everything and not just the first 1000 results, why do you call  and
p58026
aVRemove them, and the query will retrieved everything:
p58027
as(dp58028
g23
V571407
p58029
stp58030
a((dp58031
g2
(lp58032
VSQL and HQL are two different languages
p58033
aVHQL doesn't support subqueries in from clauses, so this query can't be an HQL query
p58034
aVAnd SQL doesn't know about Java objects, and doesn't have any  function allowing to create them, so the query is not a valid SQL query either
p58035
aVMake it a valid SQL query, execute it using , then iterate through the results and create instances of your objects from the returned rows
p58036
aVOr use a result transformer as you're doing, which will do that for you
p58037
aVthe result transformer will use the aliases you assigned to the returned columns of the SQL query to create beans for you
p58038
aVYou don't need any  in the query to make that work
p58039
aVRead the javadoc for details
p58040
as(dp58041
g23
V571407
p58042
stp58043
a((dp58044
g2
(lp58045
VYou created a modal dialog
p58046
aVSo, as soon as you call , the following instructions wait for the dialog to be closed to be executed
p58047
aVPut the code adding a label before the dialog is made visible, or put it in an event handler called after the dialog is shown, for example, when you click on a button in this dialog
p58048
as(dp58049
g23
V571407
p58050
stp58051
a((dp58052
g2
(lp58053
VI don't think you'll find any component providing a history of previously executed commands for you
p58054
aVBut nobody forbids you to implement your own solution
p58055
aVJust provide a text field or text area to type a command, and display a list of previous commands next to the text field/area
p58056
aVWhen a previous command is clicked, replace the text of the text area by the text of the clicked command
p58057
aVAnd when a command is executed, add it to the history list
p58058
aVAny web framework, from basic servlet/JSP to component-based framewoks, should allow you doing that
p58059
as(dp58060
g23
V571407
p58061
stp58062
a((dp58063
g2
(lp58064
VClasses that are package-private (i
p58065
ag468
aVdon't have any visibility modifier) are only visible by the classes of the same package
p58066
aVThat's a way to make a class visible by several other classes of your API, but not by the outside world
p58067
aVNested private classes are also useful to make a non-public class, and their scope is even narrower: they're only visible by the enclosing class
p58068
aVI suggest having a look at Guava's source code for an excellent API design
p58069
aVYou'll see all kinds of techniques to hide internals to the outside there
p58070
as(dp58071
g23
V571407
p58072
stp58073
a((dp58074
g2
(lp58075
VI think you're looking for a CyclicBarrier:
p58076
aVA synchronization aid that allows a set of threads to all wait for each other to reach a common barrier point
p58077
aVCyclicBarriers are useful in programs involving a fixed sized party of threads that must occasionally wait for each other
p58078
aVThe barrier is called cyclic because it can be re-used after the waiting threads are released
p58079
as(dp58080
g23
V571407
p58081
stp58082
a((dp58083
g2
(lp58084
V and  are mutually exclusive
p58085
aVsays: the classpath is the following jar, and all the libraries referenced in its manifest file
p58086
aVSo you must use:
p58087
aVor, if you want to run your app with , reference the mysql driver jar in the jar's manifest file, as explained in the jar tutorial
p58088
as(dp58089
g23
V571407
p58090
stp58091
a((dp58092
g2
(lp58093
VYes
p58094
aVBy opening the Search - File
p58095
aVdialog box, entering what you want to search for and the file filter you want, and then clicking Replace
p58096
as(dp58097
g23
V571407
p58098
stp58099
a((dp58100
g2
(lp58101
VIt's perfectly fine to load static resources using the classloader
p58102
aVThat's what ResourceBundle does to load the internationalized properties files for example
p58103
aVPut them in  along with your class files, or in a jar inside , and load them with the ClassLoader as indicated by the answers you already read
p58104
aVThat doesn't forbid you to place these files in a separate directory from the Java source files in your project
p58105
aVThe build process should just make sure to put them in the appropriate location for runtime
p58106
aVThe Maven and Gradle convention is to put the source files under  and the resource files under
p58107
as(dp58108
g23
V571407
p58109
stp58110
a((dp58111
g2
(lp58112
VYou're using a bad practice, and by using it, you're directly affected
p58113
aVA method returning a List (or any kind of collection), should never return null
p58114
aVIt should return an empty list if there's nothing to return
p58115
aVBy returning null, you force every caller, including yourself, to always check for null before using the returned list, which you failed to do:
p58116
aVIn the above code, you don't check if  is null before calling
p58117
aVAnd since  returns null instead of an empty list in case no book is found, you get a NullPointerException
p58118
aVHere's how I would rewrite your code:
p58119
aVNote how the code is much shorter, and how it doesn't have a risk of throwing a NullPointerException
p58120
aVThat said, your method of finding the books for a given user name is extremely inefficient: you're loading every book (imagine doing that with a real library), and for every book, you're loading all its users
p58121
aVIt would be much more efficient to find all the users with the given name (using the  named query, for example), and return their book
p58122
aVOr even better, to do all this in a single JPQL query:
p58123
aVThe method would then look like this:
p58124
aVFinally, your code would be more readable if you named your entities  and , instead of  and
p58125
aVUsing the plural form for a single user or book is a really bad idea
p58126
aVAnd the  suffix is annoying noise
p58127
as(dp58128
g23
V571407
p58129
stp58130
a((dp58131
g2
(lp58132
VYes, it will be shared, but only inside a single JVM of course
p58133
aVAnd its capitalization indicates that it's a constant, and should thus be
p58134
aVIf it's not a constant, then it smells, doesn't respect tha Java naming conventions, and violates the EJB spec
p58135
as(dp58136
g23
V571407
p58137
stp58138
a((dp58139
g2
(lp58140
VCtrl-Shift-R
p58141
aVOpen *R*esource
p58142
as(dp58143
g23
V571407
p58144
stp58145
a((dp58146
g2
(lp58147
VSee this question to know how to use @InitBinder to allow/prevent some model fields to be bound by Spring to request parameters
p58148
aVThis allows making sure that the  can't be modified by injecting a request parameter
p58149
aVAnd see the documentation for how to use the @ModelAttribute annotation on methods and on method arguments to load a user from the database and add it to the model before the @RequestMapping method is called, and to populate this user with request parameters when the @RequestMapping method is called
p58150
aVThis allows getting a user from the DB and have Spring populate it with ne values coming from the request
p58151
aVAll you have to do is validate the new state of the user and save it to the database
p58152
as(dp58153
g23
V571407
p58154
stp58155
a((dp58156
g2
(lp58157
VYou have several choices:
p58158
aVsubmit the form to a specific, different URL, when using AJAX
p58159
aVadd a specific parameter to the request when posting using AJAX, and use this specific parameter to check if the request is n AJAX request
p58160
aVtest if the  request header is present and contains
p58161
as(dp58162
g23
V571407
p58163
stp58164
a((dp58165
g2
(lp58166
VIt's probably never called because the SeminarResource is a transactional EJB
p58167
aVThat means that the transaction is committed after its  method has returned, and not before it has returned
p58168
aVThis bean should probably not be transactional
p58169
aVIf it weren't, the transaction would start when the SeminarBooking service is called, and commit when it returns
p58170
aVAnd you would be able to catch the exception that the commit throws
p58171
as(dp58172
g23
V571407
p58173
stp58174
a((dp58175
g2
(lp58176
Vis a method that can take anything as argument, and is allowed to return anything
p58177
aVOverriding it with
p58178
aVdoesn't work, since you restrict the types of argument that can be passed to the method to DesiredClass, and thus break the Liskov principle
p58179
aVIt would be easier to understand without generics
p58180
aVSuppose you have an abstract method in class Bar:
p58181
aVand you try to override in SubBar it with
p58182
aVWhat would the following code do if the above was legal
p58183
as(dp58184
g23
V571407
p58185
stp58186
a((dp58187
g2
(lp58188
VTo me, repositories (or DAOs) are useful because they isolate persistence-related code from business-logic code
p58189
aVOne of the (desired) side effects is that both the business logic code and the data access code become much easier to test
p58190
aVAnother desired side-effect is that the persistence-related methods are easily resusable by multiple business-logic services
p58191
as(dp58192
g23
V571407
p58193
stp58194
a((dp58195
g2
(lp58196
VIf all the implementations are identical, you just need a single implementation
p58197
aVHere's such an implementation which doesn't care about generic types, not using a dynamic proxy (but you could do the same using a dynamic proxy):
p58198
as(dp58199
g23
V571407
p58200
stp58201
a((dp58202
g2
(lp58203
VFirst of all, your question doesn't have anything to do with Java EE
p58204
aVSockets are part of Java SE
p58205
aVYou also don't understand what  means
p58206
aVscopes a variable to a class, rather than scoping it to an instance of a class
p58207
aVIt doesn't limit the number of objects created
p58208
aVAnd each JVM has its own objects and classes, which are not shared with any other JVM over the network
p58209
aVStoring an object into a static variable  of class A in the client JVM won't have any impact on what is stored in  on the server
p58210
aVI don't understand why you're so concerned about the number of socket objects created
p58211
aVA socket is just that: an endpoint for a communication between two parties
p58212
aVEach party has its own endpoint, connected to the endpoint of the other party
p58213
aVA bit like when you phone a friend: you use a phone, and your friend also uses one, and the two phones are connected with each other
p58214
as(dp58215
g23
V571407
p58216
stp58217
a((dp58218
g2
(lp58219
VThe project has probably been configured to be linked with an online continuous integration service which performs quality checks (are the unit tests passing, etc
p58220
aVon pull requests
p58221
aVSo the message probably means: there's no conflict and you can merge, but the result will be a project with failing tests
p58222
aVMaybe you would discover more if you clicked on the link (or told us where the link point to precisely)
p58223
as(dp58224
g23
V571407
p58225
stp58226
a((dp58227
g2
(lp58228
VThe problem, as I suspected, is that you don't load the resources correctly
p58229
aVYou're using File IO to access a resource that is not a file, but an entry of a jar file which is in your classpath
p58230
aVThink about it: once you'll give your jar to an end-user of your application, (or a developer using your library), he won't have any src/main/resources/Lang on his computer
p58231
aVis the location of the file in your development environment
p58232
aVTo load the contents of the Lang file which is at the root of a jar in the runtime classpath, use
p58233
aVor
p58234
aVNote: to see the contents of a jar file, open it with any zip tool, or use the command
p58235
as(dp58236
g23
V571407
p58237
stp58238
a((dp58239
g2
(lp58240
s(dp58241
g23
V571407
p58242
stp58243
a((dp58244
g2
(lp58245
VThat's expected
p58246
aVYou have 100 or 300 parallel threads being executed, and only 1, 2 or 4 cores to execute them all (unless you're running this on a giant super computer)
p58247
aVThis means that each thread is assigned some CPU time, then some other thread, then some other thread, etc
p58248
aVgiving the illusion of parallel execution
p58249
aVBut in reality, instructions of various threads are interlaced and executed sequentially
p58250
aVSo, you could have a thread A's  computation in  executed, and then the thread could be replaced by several other ones one on the CPU
p58251
aVA number of milliseconds could elapse before the thread scheduler reassigns A to a CPU and the  computation in  is executed
p58252
as(dp58253
g23
V571407
p58254
stp58255
a((dp58256
g2
(lp58257
VWell, each time  is called, you create a new instance of , and ask this new instance for its velocity
p58258
aVSince each  instance has its own linked list of raw values, you get an empty list each time
p58259
aVThe listener should probably be created only once, and stored in an instance field of the enclosing class
p58260
as(dp58261
g23
V571407
p58262
stp58263
a((dp58264
g2
(lp58265
VThere is no point in adding a mouse listener to store the selected row in a field
p58266
aVThe table knows its selected row(s), and moreover, the selection can change without using the mouse
p58267
aVIf you want to do something (like loading details of a selected row) each time the selection changes, then add a selection listener:
p58268
as(dp58269
g23
V571407
p58270
stp58271
a((dp58272
g2
(lp58273
VThe servlet specification gives a nice explanation with examples
p58274
aVHere's a rewritten part of it:
p58275
aVIf you have a webapp whose context path is , and a servlet mapped to , and if a request comes in for the path , the ContextPath of the request will be /catalog; its ServerPath will be , and its PathInfo will be
p58276
aVUse the ServerPath and ContextPath properties of the request to extract the controller part and the action part of the URL
p58277
as(dp58278
g23
V571407
p58279
stp58280
a((dp58281
g2
(lp58282
VThe EL doesn't access fields of your objects
p58283
aVIt accesses bean properties of your objects
p58284
aVThis means that  is translated to a call to
p58285
aVIf you don't have such a getter, you'll get an exception though
p58286
aVIf it just doesn't display anything, it's probably because  is null, or because its  list is null or empty
p58287
aVTo confirm or infirm those guesses, we need to see the code where you create and populate the bean and its list of languages, and where you store it somewhere to make it accessible from the JSP
p58288
aVAnother possibility is that you forgot to declare the core taglib at the beginning of the JSP
p58289
aVTo confirm or infirm that, paste the code of the JSP, and the HTML code generated by the JSP (using View page source in the browser)
p58290
as(dp58291
g23
V571407
p58292
stp58293
a((dp58294
g2
(lp58295
VNo
p58296
aVAll the exceptions happen at runtime
p58297
aVChecked exceptions are exceptions that force the caller to handle them or declare them
p58298
aVThey are usually intended to signal recoverable errors, which are not caused by a programmer error (like a file not being there, or a network connectivity problem)
p58299
aVRuntime exceptions are usually intended to signal non-recoverable errors
p58300
aVThey don't force the caller to handle or declare them
p58301
aVAnd many of them indeed signal programming errors (like NullPointerException)
p58302
aVBecause that's how the JLS define an unchecked exception: an exception that is or extends RuntimeException, which itself extends Exception
p58303
aVUsing a single inheritance root allows handlong every possible exception in a single catch clause
p58304
aVRegarding your example: yes, the throws clause is mandatory, since IOException is a checked exception and that the code inside the method is susceptible to throw one
p58305
as(dp58306
g23
V571407
p58307
stp58308
a((dp58309
g2
(lp58310
Vand inside the called method:
p58311
aVor
p58312
aVand inside the called method:
p58313
aVA Boolean is such an object: it contains a boolean value
p58314
aVBut it's intentionally designed as immutable: its wrapped boolean value can't be changed
p58315
aVSo you need to create your own, functional object
p58316
as(dp58317
g23
V571407
p58318
stp58319
a((dp58320
g2
(lp58321
VNo
p58322
aVfor example is not thread-safe
p58323
aVThose in the  packages are thread-safe
p58324
aVThe best performance depends on what you do with them
p58325
aVAnd you don't choose an implementation based on its performance, but based on how the queue behaves, and what you need to do with the queue
p58326
aVFor example, a  has a completely different behavior from a  or an
p58327
as(dp58328
g23
V571407
p58329
stp58330
a((dp58331
g2
(lp58332
VEalier Department has the attribute mappedBy and now both entities have joinColumn both entities are the owner of the relationship right
p58333
aVNot right
p58334
aVNow, instead of having a OneToMany bidirectional association, you have two distinct unidirectional associations, that Hibernate tries to map using the same column, leading to unpredictable behavior
p58335
aVYou should use the  attribute on the one side
p58336
as(dp58337
g23
V571407
p58338
stp58339
a((dp58340
g2
(lp58341
VYour reading method removes all the end of lines from the file
p58342
aVreturns a line, without its line terminator
p58343
aVPrint the contents of the StringBuilder, and you'll understand the problem
p58344
aVMoreover, a hashing algorithm is a binary operation
p58345
aVIt operates on bytes, and returns bytes
p58346
aVWhy are you transforming the bytes in the file into a String, to later transform the String back to an array of bytes in order to hash it
p58347
aVJust read the file as a byte array, using an InputStream, instead of reading it as a String
p58348
aVThen hash this byte array
p58349
aVThis will also avoid using the wrong file encoding (your code uses the platform default encoding, which might not be the encding used to create the file)
p58350
as(dp58351
g23
V571407
p58352
stp58353
a((dp58354
g2
(lp58355
VStart by using meaningful names for your variables and methods
p58356
aV, ,  and  are not acceptable names
p58357
aVThen try to split a complex method into 2 or three operations, themselves split into 2 or three operations, etc
p58358
aVEach operation should be a method call
p58359
aVFor example:
p58360
as(dp58361
g23
V571407
p58362
stp58363
a((dp58364
g2
(lp58365
VUse the  tag, which prepends the context path to an absolute URL
p58366
aVor
p58367
as(dp58368
g23
V571407
p58369
stp58370
a((dp58371
g2
(lp58372
VThe javadoc says:
p58373
aVMany SecureRandom implementations are in the form of a pseudo-random number generator (PRNG), which means they use a deterministic algorithm to produce a pseudo-random sequence from a true random seed
p58374
aVOther implementations may produce true random numbers, and yet others may use a combination of both techniques
p58375
aVSo, counting on a secure random to generate a deterministic sequence of values by seeding it won't necessarily work, as documented
p58376
as(dp58377
g23
V571407
p58378
stp58379
a((dp58380
g2
(lp58381
VA redirect consists in sending a response to the browser saying "Please go to the following URL : RedirectIfSuccessful
p58382
aVjsp"
p58383
aVWhen it receives this response, the browser sends a new request to , without any parameter
p58384
aVSo getting the parameter  from  will return null
p58385
aVIf you want to have access to the name after the redirection, you need to send a redirect to
p58386
as(dp58387
g23
V571407
p58388
stp58389
a((dp58390
g2
(lp58391
VBecause they bring back this habit from C, where
p58392
aVis valid code, since C doesn't have booleans, but only integers (0 being false, and every other integer being true)
p58393
aVis also valid, since in C, NULL is 0
p58394
aVSo, in C, this construct makes sense
p58395
aVNote that in Java, this bug can also occur when doing
p58396
aVinstead of
p58397
aVOf course, a good Java developer will never write the above, but will use
p58398
as(dp58399
g23
V571407
p58400
stp58401
a((dp58402
g2
(lp58403
VWith the replace or replaceRegexp task, or, if really needed, using the xslt task
p58404
as(dp58405
g23
V571407
p58406
stp58407
a((dp58408
g2
(lp58409
VThe increment strategy should not be used in such a situation
p58410
aVIt consists in loading the max value in a counter in memory, and then incrementing it each time a new ID is asked for
p58411
aVSince you have 3 applicarions deployed, you have 3 such counters, each initialized to the same initial value, and they will thus return the same IDs
p58412
aVThis is obviously documented:
p58413
aVincrement
p58414
aVgenerates identifiers of type long, short or int that are unique only when no other process is inserting data into the same table
p58415
aVDo
p58416
aVnot use in a cluster
p58417
aV(emphasis NOT mine)
p58418
aVA sequence generator would not exhibit the same problem
p58419
aVIf it does, then either you're missing something in the configuration, or one of the three apps continues using an increment strategy, or you're inserting IDs from the outside, or the initial value of the sequence in the database is wrong
p58420
aVWithout seeing the code, the max value of the ID, and the definition of the sequence, it's hard to say
p58421
as(dp58422
g23
V571407
p58423
stp58424
a((dp58425
g2
(lp58426
VSo, you get a NullPointerException when executing
p58427
aVThis means that  is null
p58428
aVWhere is  initialized
p58429
aVJust before, in the call to
p58430
aVHow does  initialize the variable
p58431
aVThe abobe indicates that either  returns a connection, and  can't be null (but it is), or  is null because  throws a SQLException, but you continue as if nothing happened, just displaying the toString() of the exception that was thrown
p58432
aVThe above should be rewritten as the following:
p58433
aVThat way, you wouldn't ignore the SQLException
p58434
aVIt would propagate to the caller, and would be identified as a SQLException, with a clear error message, indicating where the problem comes from in the code, rather than an obscure NullPointerException happening later, and being much harder to diagnose
p58435
aVLet the exception propagate, or at the very least, replace the code by:
p58436
aVNow you just need to get the stack trace of the SQLException thrown by , and understand what it's error message means
p58437
aVNote that I suspect that the exception is not thrown by , but by some other exception that you also ignore in the following:
p58438
aVOnce again, don't catch the exception
p58439
aVLet it propagate
p58440
aVBy catching it, you make it very hard for yourself to notice the problem, and impossible to diagnose it
p58441
aVIf you can't handle an exception, don't catch it
p58442
as(dp58443
g23
V571407
p58444
stp58445
a((dp58446
g2
(lp58447
VIf  is a method of the base Entity class, overridden in subclasses, then you don't need any type cast
p58448
aVThat's what polymorphism is all about:
p58449
aVSide note: you should really choose better names for your methods and variables, and respect Java naming conventions: methods start with a lower-case letter, whereas classes start with an upper-case letter
p58450
as(dp58451
g23
V571407
p58452
stp58453
a((dp58454
g2
(lp58455
VYou tried to initialize the list with the keys of your map
p58456
aVBut the keys are Strings, they're not Students
p58457
aVYou need to return a list containing every student in every value of the map
p58458
aVSo the code would be:
p58459
as(dp58460
g23
V571407
p58461
stp58462
a((dp58463
g2
(lp58464
VA vararg argument is just syntactic sugar for an array
p58465
aVThe signature of the method is
p58466
aVand not
p58467
as(dp58468
g23
V571407
p58469
stp58470
a((dp58471
g2
(lp58472
VIt's hard to answer, because the code is incomplete, and the above code doesn't make much sense
p58473
aVI'll explain what it actually does, because I don't think that it does what you want it to do
p58474
aVThe code creates a single button labeled "Show Reservations"
p58475
aVWhen this button is clicked, an array of ten thousand (
p58476
aVJDialog instances is created (why
p58477
aVAll these dialogs are null
p58478
aVThen, a loop is done, iterating on the reservations
p58479
aVFor each reservation, a new JDialog is created, containing a new button named "Edit", which closes the dialog when clicked
p58480
aVAnd the last one of these dialogs is stored in the giant array, at the index i
p58481
aVAll the other ones are created for nothing, since they're replaced by the next one, at the same index in the array
p58482
aVSo at the end of the loop, you have created one dialog for each reservation, but stored only one of them in a giant array
p58483
aVAnd since this giant array is a local variable, nobody can use this dialog anyway, because the array and its unique dialog goes out of scope
p58484
aVSo your action listener does the equivalent of the following one, but in a very slow and inefficient way:
p58485
aVAlso not that your code is full of bad practices
p58486
aVYou're not using generic collections, you're setting sizes on buttons, you're not using a layout manager and instead set arbitrary locations
p58487
aVIf you tell us what the code should do, we could help you make it do that
p58488
as(dp58489
g23
V571407
p58490
stp58491
a((dp58492
g2
(lp58493
VIf an employee has the skill Java, you're displaying the following checkbox:
p58494
aVThis means that on submit, if the checkbox is checked, the following parameter will be sent:
p58495
aVIf an employee doesn't have the skill Java, you're displaying the following checkbox:
p58496
aVThis means that on submit, if the checkbox is checked, the following parameter will be sent:
p58497
aVWhat you want is generate always the same checkbox (the first one), but preselect it if the employee has the skill Java, and not preselect it if the employee doesn't have the skill Java
p58498
aVThis is not possible as is using the  tag, because it's supposed to be bound to a boolean property
p58499
aVSo you could instead have a property / in your form bean, and use
p58500
aVStruts will pre-select the checkbox if the form's javaSkilled property is true, and leave it unchecked if it's false
p58501
aVNote however, that since you have a list of skills that can be or not present, you should instead have a property / of type , and use a  tag
p58502
as(dp58503
g23
V571407
p58504
stp58505
a((dp58506
g2
(lp58507
VYou don't need to configure anything in Tomcat
p58508
aVYou should just create a directory structure like the following, and drop this directory in the webapps folder of Tomcat:
p58509
aVThis is the structure of a standard Java EE webapp
p58510
aVIt's described in every tutorial about Java EE webapps, and in Tomcat's documentation
p58511
aVNote that it's a good idea to rely on Ant, Gradle or Maven to build your app, but that Eclipse (in its enterprise edition) supports Java EE webapps, and can create this structure for you and deploy the app directly from the IDE
p58512
as(dp58513
g23
V571407
p58514
stp58515
a((dp58516
g2
(lp58517
VThat's what the  operator is for:
p58518
aVBe careful though: passing an empty list will result in a SQL grammar exception
p58519
as(dp58520
g23
V571407
p58521
stp58522
a((dp58523
g2
(lp58524
VYou pull the generated page, make any modification and addition you like (including adding new pages and links between the pages), then commit and push
p58525
aVThe generated single page helps you to make you start
p58526
aVYou can duplicate its layout to generate other similar-looking pages by hand
p58527
aVSee Help
p58528
as(dp58529
g23
V571407
p58530
stp58531
a((dp58532
g2
(lp58533
VItems is also a class with one attribute, a HashMap
p58534
aVSo Items has a HashMap, or contains a HashMap
p58535
aVItems is not a HashMap
p58536
aVSo it doesn't have any  method
p58537
aVYou need to add a  method to your Items class, which delegates to the contained Map:
p58538
as(dp58539
g23
V571407
p58540
stp58541
a((dp58542
g2
(lp58543
VUsing the @Transient annotation:
p58544
as(dp58545
g23
V571407
p58546
stp58547
a((dp58548
g2
(lp58549
VNo
p58550
aVI would say that it's just composition
p58551
aVA decorator would be something like this:
p58552
aVPS: sorry if this is not valid C# syntax
p58553
aVI'm a Java developer
p58554
as(dp58555
g23
V571407
p58556
stp58557
a((dp58558
g2
(lp58559
VUse Checkstyle, or use SONAR, which aggregates Checkstyle, PMD, Findbugs and other checks and generates reports and more
p58560
as(dp58561
g23
V571407
p58562
stp58563
a((dp58564
g2
(lp58565
VThe Java EE and Tomcat libs must not be deployed as part of the web-app
p58566
aVTomcat implements those APIs, and already has those libs in its own classpath
p58567
aVUse the  scope instead of the  scope for those libs in your pom
p58568
aVAnd make sure the Java EE API and Tomcat jar files are NOT in the WEB-INF/lib directory of your deployed webapp
p58569
aVAnd if you want help over an exception thrown by some code, show us the code, and the stack trace of the exception
p58570
aVYou shouldn't rely on Tomcat specific classes in your code and in your tests
p58571
as(dp58572
g23
V571407
p58573
stp58574
a((dp58575
g2
(lp58576
VThat's probably because you're not using the same version of ZK as the author of the article
p58577
aVHere's the javadoc for version 5
p58578
ag2332
aV12 (which doesn't take any generic parameter), and here's the javadoc for the latest version, which takes a generic parameter
p58579
as(dp58580
g23
V571407
p58581
stp58582
a((dp58583
g2
(lp58584
VInstead of loading everything in memory, do it like you would do in JDBC: scroll through the results:
p58585
as(dp58586
g23
V571407
p58587
stp58588
a((dp58589
g2
(lp58590
VRemove the line
p58591
aVThis will fix the initial problem
p58592
aVAfter that:
p58593
aVindent the code
p58594
aVrespect Java naming conventions
p58595
aVdon't add panels to the content pane if you add them to the splitpanes right after
p58596
aVA component can be added to a single parent
p58597
aVIt doesn't make sense to add them to both
p58598
aVdon't use
p58599
aVThat's the role of the layout manager
p58600
aVdon't extend JPanel and JFrame
p58601
aVUse them
p58602
aVRespect Swing's threading policy
p58603
aVDon't
p58604
as(dp58605
g23
V571407
p58606
stp58607
a((dp58608
g2
(lp58609
Vscriptlets contain Java code
p58610
aVis not valid Java code
p58611
aVWhat  does is
p58612
aVSo this is the code you should have in your scriptlet
p58613
aVBut more importantly, you should not use scriptlets at all
p58614
aVStick to the EL, the JSTL, and other custom tags
p58615
aVIf the logic is too complex to be expressed using these, then it's a sign that it doesn't belong to the view (the JSP), but to the controller (a servlet or action written in Java, invoked before the JSP, which prepares the data for the JSP, and forwards to the JSP once the data is ready)
p58616
aVThis is not the case here, since all of the above could be rewritten as:
p58617
as(dp58618
g23
V571407
p58619
stp58620
a((dp58621
g2
(lp58622
VThis is explained in the Create a Repo help page:
p58623
aVEvery time you make a commit with Git, it is stored in a repository (a
p58624
aVk
p58625
aVa
p58626
aV"repo")
p58627
aVTo put your project up on GitHub, you'll need to have a GitHub repository for it to live in
p58628
ag7651
aVClick New Repository
p58629
aVFill out the information on this page
p58630
aVWhen you're done, click "Create Repository
p58631
ag7651
ag7651
as(dp58632
g23
V571407
p58633
stp58634
a((dp58635
g2
(lp58636
VIn standard SQL, the group by clause must contain every selected value except the ones which are aggregate functions
p58637
aVThe query generated by Hibernate is thus invalid, and AFAIK, the only possible way to make a group by HQL query work is to list every scalar column you want to select explicitely (see https://hibernate
p58638
aVonjira
p58639
aVcom/browse/HHH-1615):
p58640
aVIf your original query works with MySQL, it's because MySQL doesn't respect the SQL standard, and allows queries with  not listing every selected column
p58641
aVI would suggest not relying on this "feature", using the same database in tests and in production, and using PostgreSQL instead of MySQL
p58642
as(dp58643
g23
V571407
p58644
stp58645
a((dp58646
g2
(lp58647
VThere are two Session
p58648
aVload() methods that you can use:
p58649
aVload(Class theClass, Serializable id)
p58650
aVReturn the persistent instance of the given entity class with the given identifier, assuming that the instance exists
p58651
aVand
p58652
aVload(Object object, Serializable id)
p58653
aVRead the persistent state associated with the given identifier into the given transient instance
p58654
aVNone of these methods take the ID as first argument
p58655
aVYou want
p58656
aVor
p58657
as(dp58658
g23
V571407
p58659
stp58660
a((dp58661
g2
(lp58662
VIt's unusual to store binaries or "the contents of a server" into a VCS
p58663
aVThey're typically used to store source files, which can then be used to build and deploy the application
p58664
aVEvery source file of an app is supposed to be in the VCS
p58665
aVAnd by source file, I also mean resources (like images, script files, CSS files, etc
p58666
aV, config files, build scripts, etc
p58667
aV, but not artifacts generated by the build such as jar or war files
p58668
aVAsking which is the best system between CVS and Git is like asking which is the best between a Ford T and a new Beetle
p58669
aVNobody uses CVS anymore, because much progress has been done in VCSs since CVS
p58670
aVIt's obsolete now
p58671
aVYou might consider Mercurial or Subversion, but definitely not CVS
p58672
as(dp58673
g23
V571407
p58674
stp58675
a((dp58676
g2
(lp58677
VIt must not be put in the build classpath, neither under User entries, nor under Bootstrap entries
p58678
aVIt must be dropped inside the  directory of your webapp project
p58679
aVEclipse will detect them, automatically add them into the build path for you, and automatically include them into the  directory of the deployed webapp, since that's where the Java EE containers look for the libraries needed by a Java EE webapp
p58680
as(dp58681
g23
V571407
p58682
stp58683
a((dp58684
g2
(lp58685
VStraight from the article you linked to:
p58686
aVExtending GenericDAO
p58687
aVThe interface for each DAO is, of course, based on the GenericDao interface
p58688
aVI just need to adapt the interface to a specific domain class and extend it to include my finder methods
p58689
aVIn Listing 6, you can see an example of the GenericDao interface extended for a specific purpose
p58690
aVRegarding your last question: by definition, an entity has one and only one primary key
p58691
as(dp58692
g23
V571407
p58693
stp58694
a((dp58695
g2
(lp58696
VBecause the point of the decorator pattern is to decorate a contained component:
p58697
aVUsing the above, the decorator can be used anywhere you would use any other logger, and the decorator can decorate any kind of logger (console, file, email, socket, whatever)
p58698
aVIt doesn't care what the concrete logger does (print to the console or print to a file)
p58699
aVAll it does is decorate the concrete logger, by adding the current date to the message before letting the delegate logger print it
p58700
aVIf you had to do this without composition (or rather delegation), you would have to create a  and a  (add one subclass for each concrete logger)
p58701
aVAnd every other decoration or concrete logger type would make the number of classes to create explode, due to the high number of combinations
p58702
as(dp58703
g23
V571407
p58704
stp58705
a((dp58706
g2
(lp58707
VIf you want help over a HQL query, show us the entity and its mapping, and tell us what the HQL query should do
p58708
aVBut a HQL query is no different for an entity with a composite key than it is for an entity with a non-composite key
p58709
as(dp58710
g23
V571407
p58711
stp58712
a((dp58713
g2
(lp58714
VThe reader reads the file , whereas the writer writes to
p58715
aVUnless you run the program from the root of your file system (), these are not the same files
p58716
aVApply the DRY principle (Don't Repeat Yourself)
p58717
aVCreate a constant containing the file path, and use the constant everywhere you're using the path
p58718
aVThat will avoid such bugs
p58719
aVAlso, close the reader and the writer in a finally block, or use the Java 7 try-with-resources construct
p58720
as(dp58721
g23
V571407
p58722
stp58723
a((dp58724
g2
(lp58725
VWell, I guess you have a large number of concurrent threads running (one by moving bullet), and you expect each thread to wake up after exactly  milliseconds
p58726
aVYou can't have such a guarantee, because the thread scheduler allows each thread to run for some time one at a time, and you might thus have glitches
p58727
aVAnother problem is that you seem to execute modification on Swing components out of the event dispatch thread, which is clearly forbidden by Swing's threading policy
p58728
as(dp58729
g23
V571407
p58730
stp58731
a((dp58732
g2
(lp58733
VSome hints to get you on the right track:
p58734
aVYou're adding a key listener to the frame in the  method
p58735
aVThis means that each time the button is clicked, a new key listener is added to the frame
p58736
aVThe key listener should be added once, and only once, when the frame is initialized
p58737
aVIf you don't want to listen on key presses, then you could just set a  flag to true
p58738
aVIn the key listener, if this flag is true, you ignore the event
p58739
aVAnd if it's set to false, then you do something
p58740
aVRegarding the EDT, yes, all swing interactions should be done on the EDT
p58741
aVThe Runnable should be invoked using , as explained in the Swing tutorial
p58742
aVAnd finally, maybe the most important advice, don't do everything in a single giant method
p58743
aVSeparate the code in objects and methods doing a specifc task
p58744
aVAdd some blank lines to make the code readable
p58745
aVIndent the code properly
p58746
as(dp58747
g23
V571407
p58748
stp58749
a((dp58750
g2
(lp58751
VInstead of asking information to the object in order to do something, ask the object to do it directly
p58752
aVFor example, replace
p58753
aVwith
p58754
aVThis way, if the subclass doesn't have a getB() method because it's alsways considered as 0, it can implement the method  using
p58755
aVSorry for this stupid example, but that's the idea
p58756
aVAdd behavior to your objects rather than making them data structures with getters and setters
p58757
aVIf you post a concrete example of what you have to do, I could help more
p58758
as(dp58759
g23
V571407
p58760
stp58761
a((dp58762
g2
(lp58763
VJust an addition to the other answer, using polymorphism is usually preferred to switch cases:
p58764
as(dp58765
g23
V571407
p58766
stp58767
a((dp58768
g2
(lp58769
VOne of the reasons of using prepared statements is that you don't need to quote anything
p58770
aVYou pass a string argument to the driver (via the prepared statement), and it quotes it for you
p58771
aVJust use
p58772
aVAnd then
p58773
as(dp58774
g23
V571407
p58775
stp58776
a((dp58777
g2
(lp58778
VTry with
p58779
as(dp58780
g23
V571407
p58781
stp58782
a((dp58783
g2
(lp58784
VDon't use a multidimensional array
p58785
aVUse a simple array (or List) of objects:
p58786
aVJava is an OO language
p58787
aVLearn to define and use objects
p58788
as(dp58789
g23
V571407
p58790
stp58791
a((dp58792
g2
(lp58793
VNo, it's not possible
p58794
aVThe only (dirty) workaround I see is to forward to an internal page containing a hidden form (with method POST) and a JavaScript script submitting this form
p58795
as(dp58796
g23
V571407
p58797
stp58798
a((dp58799
g2
(lp58800
VAdd
p58801
aVor
p58802
aVto your script to find out
p58803
as(dp58804
g23
V571407
p58805
stp58806
a((dp58807
g2
(lp58808
VNot sure I really answer your question, but couldn't you simply use something like that
p58809
as(dp58810
g23
V571407
p58811
stp58812
a((dp58813
g2
(lp58814
VAUTO doesn't increment the ID for all the tables together
p58815
aVHere's what it does (from the JPA specification):
p58816
aVThe AUTO value indicates that the persistence provider should pick an
p58817
aVappropriate strategy for the particular database
p58818
aVThe AUTO generation
p58819
aVstrategy may expect a database resource to exist, or it may attempt to
p58820
aVcreate one
p58821
aVA vendor may provide documentation on how to create such
p58822
aVresources in the event that it does not support schema generation or
p58823
aVcannot create the schema resource at runtime
p58824
aVIf you care about the strategy that should be used, then define an explicit strategy, and the database resources needed by this strategy
p58825
as(dp58826
g23
V571407
p58827
stp58828
a((dp58829
g2
(lp58830
VTo delete something from the database,  must be called:
p58831
aVAn exception to this rule is when  is set on the  association
p58832
aVIn this case, removing the participant from the collection of participants will remove it from the database:
p58833
as(dp58834
g23
V571407
p58835
stp58836
a((dp58837
g2
(lp58838
VYes, it's possible
p58839
aVJust do it like for any other parameter:
p58840
as(dp58841
g23
V571407
p58842
stp58843
a((dp58844
g2
(lp58845
VThis is a very slow way to remove the last element of a list
p58846
aVInstead, use
p58847
as(dp58848
g23
V571407
p58849
stp58850
a((dp58851
g2
(lp58852
VThe javadoc says:
p58853
aVDefines a ToMany association pointing to different entity types
p58854
aVMatching the according entity type is done through a metadata discriminator column
p58855
aVThis kind of mapping should be only marginal
p58856
aVSo instead of having a ManyToMany between Student and Course, you could have a ManyToAny between Student and [Course or Teacher], and the metadata discriminator column would say, for a given row, if it points to a Course or to a Teacher
p58857
as(dp58858
g23
V571407
p58859
stp58860
a((dp58861
g2
(lp58862
VThe MySQL driver jar file must be placed in the WEB-INF/lib directory of your deployed webapp
p58863
aVAlso note that:
p58864
aVJSPs shouldn't access the database
p58865
aVThis should be done in a service called by a servlet
p58866
aVConnections should always be closed in a finally block
p58867
aVNot doing it will leave connections open if you have any exception, and will quickly bring the system to its knees
p58868
aVA webapp should use a connection pool
p58869
aVRead your app server or web container documentation for how to setup aconnection pool
p58870
as(dp58871
g23
V571407
p58872
stp58873
a((dp58874
g2
(lp58875
VTo me, this looks like a classical One-To-Many or Many-To-Many association between two tables
p58876
aVIf each B belongs to only one A, then you would have a table A and a table B containing a foreign key to A
p58877
aVIf a given B can belong to multiple As, then you would have a table A, a table B, and a join table between the two tables
p58878
aVMake sure to index the foreign keys
p58879
as(dp58880
g23
V571407
p58881
stp58882
a((dp58883
g2
(lp58884
VYou could create a list containing your 50 numbers, and use a Random to get 5 indices between 0 and 50, to create your first random array
p58885
aVFor the second pass, create a copy of the first list, but remove the numbers that are in the first random array
p58886
aVThen shuffle this second list (using ), and take the 5 first elements
p58887
as(dp58888
g23
V571407
p58889
stp58890
a((dp58891
g2
(lp58892
VMake the base  method take the information as argument, and ignore the argument in subclass implementations that don't need it
p58893
aVOr pass the SubSystem instance itself to the handler, and let the handler get the information it needs from the SubSystem (and ignore it if it doesn't need any information from the SubSystem)
p58894
aVThat would make the design more extensible: you wouldn't need to pass an additional argument and refactor all the methods each time a new subclass needing additional information is introduced
p58895
as(dp58896
g23
V571407
p58897
stp58898
a((dp58899
g2
(lp58900
s(dp58901
g23
V571407
p58902
stp58903
a((dp58904
g2
(lp58905
VAdd a click event listener to all the links whose id attribute starts with
p58906
aVIn the event handle function, extract the substring after , look for the div having the ID , and toggle it:
p58907
as(dp58908
g23
V571407
p58909
stp58910
a((dp58911
g2
(lp58912
VSee http://tortoisesvn
p58913
aVnet/tsvn_1
p58914
aV7_releasenotes
p58915
aVhtml:
p58916
aVSubversion 1
p58917
aV7 introduces substantial changes to the working copy format
p58918
aVIn previous releases, Subversion would automatically update the working copy to the new format when a write operation was performed
p58919
aVSubversion 1
p58920
aV7, however, will make this a manual step
p58921
aVBefore you can use an existing working copy with TortoiseSVN 1
p58922
aV7, you have to upgrade the format first
p58923
aVIf you right-click on an old working copy, TortoiseSVN only shows you one command in the context menu: Upgrade working copy
p58924
aVTo be on the safe side, you should run a cleanup with your pre-1
p58925
aV7 svn client on all your working copies, because if the working copy is in an inconsistent state the upgrade process might fail
p58926
aVBest to run cleanup before installing the new version of TortoiseSVN
p58927
aVEven after cleanup the upgrade process does not always run as smoothly as it should, and it can be quite slow
p58928
aVWe recommend that you commit all changes to your working copy (using your pre-1
p58929
aV7 client) before upgrading
p58930
aVIf the upgrade fails for any reason, just make a fresh checkout
p58931
as(dp58932
g23
V571407
p58933
stp58934
a((dp58935
g2
(lp58936
VBy sleeping for 2 seconds in the EDT, you prevent it from doing its work (like repainting the GUI and displaying your animated gif)
p58937
aVRemove the call to
p58938
aVIf you want the frame to close itself after 2 seconds, use a  to schedule the closing after 2 seconds
p58939
as(dp58940
g23
V571407
p58941
stp58942
a((dp58943
g2
(lp58944
VI would love to find a more elegant solution to this problem, but I solve it with such a query:
p58945
aVor,
p58946
as(dp58947
g23
V571407
p58948
stp58949
a((dp58950
g2
(lp58951
VYou have added the jar files in the project build path
p58952
aVThis path is used to compile your application, but it's different from the runtime classpath
p58953
aVAt runtime, the container looks for libraries in the  directory of the deployed webapp
p58954
aVUnder Eclipse, the libraries that must be present at runtime under WEB-INF/lib must simply be dropped in the folder  of your web project
p58955
aVEclipse automatically adds these to the build path and adds them to the WEB-INF/lib directory if the deployed app, so that they're available also at runtime
p58956
aVSo, remove all the cassandra jars from your build path, and drop them in
p58957
aVOnce done, they will appear under the Web App Libraries node of your project
p58958
as(dp58959
g23
V571407
p58960
stp58961
a((dp58962
g2
(lp58963
VThe connection should be a local variable of the  method (and of the other DAO methods)
p58964
aVIt should get the connection from a DataSource, use it, and close it in a finally block
p58965
aVIf you told a bit more about your environment (Spring, EJB container
p58966
aV, I could give more explanations
p58967
as(dp58968
g23
V571407
p58969
stp58970
a((dp58971
g2
(lp58972
VMy guess is that your controller is doing the following:
p58973
aVThis means that you're modifying the same Good object 4 tilmes, and adding it 4 times to the list
p58974
aVIn the end, your have 4 times the same object, containing the state you set into it in the last iteration
p58975
aVInstead, do this:
p58976
aVEDIT : and your edited question just confirmed my guess:
p58977
aVthis line should be inside the for loop, and not outside
p58978
as(dp58979
g23
V571407
p58980
stp58981
a((dp58982
g2
(lp58983
VYou should probably use  (or )
p58984
aVTo display an image in a swing app, the easiest way is to use a  and construct it with an
p58985
aVSo that's probably what your bean should contain
p58986
as(dp58987
g23
V571407
p58988
stp58989
a((dp58990
g2
(lp58991
VBecause you're comparing objects (the IDs) using  rather than
p58992
aVtests if both variables reference the same object
p58993
aVtests if the two variables reference two functionally equal integers (i
p58994
ag468
aVwith the same int value)
p58995
aVIt's almost always a bug to compare objects using , except for enums
p58996
as(dp58997
g23
V571407
p58998
stp58999
a((dp59000
g2
(lp59001
VYou could simply return the type of the entity in a getter method:
p59002
aVBut the question is: why do you need to do that
p59003
aVThe Product sould be used in a polymorphic way
p59004
aVThe visitor pattern helps in doing that
p59005
aVBTW, note that even if the returned type is SUN_GLASSES, casting the product to SunGlasses could fail if the reference is a lazy proxy
p59006
as(dp59007
g23
V571407
p59008
stp59009
a((dp59010
g2
(lp59011
VYou can't have free instructions like these in the class body
p59012
aVThe class body can contain methods, field declarations, constructors, inner classes declarations, static and instance initializer blocks, but not free instructions like this
p59013
aVYou could do
p59014
aVbut it's ugly
p59015
as(dp59016
g23
V571407
p59017
stp59018
a((dp59019
g2
(lp59020
VThe procedure is described in the git book:
p59021
aVSquashing Commits
p59022
aVIt\u2019s also possible to take a series of commits and squash them down into a single commit with the interactive rebasing tool
p59023
aVThe script puts helpful instructions in the rebase message:
p59024
aVIf, instead of "pick" or "edit", you specify "squash", Git applies both that change and the change directly before it and makes you merge the commit messages together
p59025
aVSo, if you want to make a single commit from these three commits, you make the script look like this:
p59026
aVIf you don't want to squash seceral commits into just one, but actually remove commits completely, then do what the script tells you to do:
p59027
as(dp59028
g23
V571407
p59029
stp59030
a((dp59031
g2
(lp59032
VAFAIK, with Struts1, you should use String and not Long to represent a value entered by the user, because that's the only way for Struts to populate your form bean with what the user actually entered and let you redisplay the input page with erroneous values
p59033
aVStruts will try to transform an empty string to a Long, and will initialize the Long to 0 if the string doesn't represent a valid long value
p59034
aVThat's one of the many weak points of Struts
p59035
as(dp59036
g23
V571407
p59037
stp59038
a((dp59039
g2
(lp59040
VThe problem probably comes from the way you create branches:
p59041
aVthis developer a creates a directory called fix1 in the branches area and copies the file to work on in this area from the trunk
p59042
aVThat's not what should be done
p59043
aVYou shouldn't copy files manually
p59044
aVInstead, you should create a branch from the trunk, switch your working copy to this branch, make modifications and commits
p59045
aVAt regular intervals, and when the work on the branch is finished, you should merge from trunk to branch, to incorporate all the changes from trunk into branch
p59046
aVThen you should switch to the trunk, reintegrate the branch into the trunk, commit, and delete the branch
p59047
aVThis is explained in the SVN book in more details
p59048
as(dp59049
g23
V571407
p59050
stp59051
a((dp59052
g2
(lp59053
VYou would need to call it if you add a component to a panel after it has been initialized and made visible
p59054
aVTry adding a button to your applet, and on the click of the button, add a new label to the applet
p59055
as(dp59056
g23
V571407
p59057
stp59058
a((dp59059
g2
(lp59060
VYou probably added an "Open" , instead of adding an "Open"
p59061
aVThe source code would confirm it
p59062
aVis a leaf in the menu tree
p59063
aVis a container for other s and s
p59064
as(dp59065
g23
V571407
p59066
stp59067
a((dp59068
g2
(lp59069
Venclose the line you don't want eclipse to reformat between  and :
p59070
as(dp59071
g23
V571407
p59072
stp59073
a((dp59074
g2
(lp59075
VJFrame is a top-level component
p59076
aVA main window
p59077
aVYou can't add a main window to a JInternalFrame
p59078
aVThat's what the stack trace says:
p59079
aVjava
p59080
aVlang
p59081
aVIllegalArgumentException: adding a window to a container
p59082
aVIt's illegal to add a window to a container
p59083
aVNotepad and the other classes should extend JPanel, not JFrame
p59084
aVJPanel is a component that you can add to a JInternalFrame
p59085
aVLesson to learn: even if an error message makes no sense to you, it contains valuable information
p59086
aVIf you don't post it, we don't know what the problem is
p59087
aVCode also contains valuable information
p59088
aVIf you don't post it, we don't know what it does
p59089
as(dp59090
g23
V571407
p59091
stp59092
a((dp59093
g2
(lp59094
VCheck all these points:
p59095
aVif the applet class is , and is in the package , then its source code must start with the line
p59096
aVThe full name of the class is thus
p59097
aVin the jar file, you should thus have a directory named  at the root, and this directory must contain a file named
p59098
aVsince the name of the class is , that's what the code attribute of the applet HTML element must contain:
p59099
as(dp59100
g23
V571407
p59101
stp59102
a((dp59103
g2
(lp59104
VI think what you're looking for is Window - Preferences - Java - Code Style - Formatter - Edit
p59105
aV- Line Wrapping - Default indentation for wrapped lines
p59106
as(dp59107
g23
V571407
p59108
stp59109
a((dp59110
g2
(lp59111
VArrays are objects in Java
p59112
aVAnd references to objects are passed by value
p59113
as(dp59114
g23
V571407
p59115
stp59116
a((dp59117
g2
(lp59118
VYour list is indexed by the column
p59119
aVSo if Hibernate loads all the list of addresses for the country , it will set the address  at index 1 (since it's the value of  for this address), the address  at index 2, and the addres 3 at index 3
p59120
aVAnd since there is no address with , the index 0 of the list will be null
p59121
aVSubtract 1 to the values of your ADDRESS_ELEMENT_POS in the database, or add the following attribute the the  configuration element:
p59122
aVSee http://docs
p59123
aVjboss
p59124
aVorg/hibernate/core/3
p59125
aV6/reference/en-US/html_single/#d0e10924
p59126
as(dp59127
g23
V571407
p59128
stp59129
a((dp59130
g2
(lp59131
Vyes, you must add it in your build
p59132
aVxml
p59133
aVThese attributes and elements are attributes and elements of the  ant task, which you can use in your build file thanks to the taskdef you have added in point 1
p59134
aVAnd yes, this  task must be used in your build
p59135
aVxml
p59136
aVYou place it wherever you want
p59137
aVyou just need to give its path to the  task using its  attribute
p59138
as(dp59139
g23
V571407
p59140
stp59141
a((dp59142
g2
(lp59143
VThe first one implements the protocol imagined for the KnockKnock example: a client sends "KnockKnock", and the server answers
p59144
aVThe second one doesn't make much sense
p59145
aVIf the client has a an output stream open with the server, and the server calls , it means that it's waiting for a line to come from the client
p59146
aVAnd the call will block until the client sends a line, or closes the socket
p59147
aVIt seems you don't expect any input from the client
p59148
aVIn this case, well, don't open an input stream at all, and don't call  on the input stream (obviously)
p59149
aVSend what you need to send to the client directly, as soon as you want to send it
p59150
as(dp59151
g23
V571407
p59152
stp59153
a((dp59154
g2
(lp59155
VYou typically use a cookie to implement remember-me
p59156
aVThe idea is to generate a random and unique cookie for an authenticated user, store it with the rest of the user information in the database, and send the cookie to the client browser
p59157
aVNow, when the client comes back 5 days later, the cookie is sent with its first request to your application
p59158
aVAt this time, if the user is not authenticated yet, you can extract the cookie from the request, find the user in the database who owns this cookie, and automatically authenticate him as if he sent his credentials
p59159
aVThis solution doesn't need to modify anything to how the sessions are handled by GAE
p59160
as(dp59161
g23
V571407
p59162
stp59163
a((dp59164
g2
(lp59165
VIt makes it clear that the method accepts null values, and that if you override the method, you should also accept null values
p59166
aVIt also serves as a hint for code analyzers like FindBugs
p59167
aVFor example, if such a method dereferences its argument without checking for null first, FindBugs will emit a warning
p59168
as(dp59169
g23
V571407
p59170
stp59171
a((dp59172
g2
(lp59173
VThis code doesn't compile
p59174
aVYou're referencing instance fields (, ) from a static method (main)
p59175
aVThe error message of the compiler should tell you that
p59176
aVAnd if you don't understand it, googling for the error message should lead you to explanations of the error message
p59177
aVAnd even if it did compiler, here's an explanation of each line of the event listener:
p59178
aVCreate a new table model
p59179
aVWhy
p59180
aVYour table already has one
p59181
aVAll you need is to modify the existing table model
p59182
aVRemove a row from this new table model
p59183
aVWhy modify a new model instead of modifying the existing one
p59184
aVReplace the old model by a new one
p59185
aVThis is very inefficient
p59186
aVThe table already has a model
p59187
aVModify it
p59188
aVReplace the new model by the old one
p59189
aVWhy
p59190
aVAdd the table to the main panel of the frame
p59191
aVWhy
p59192
aVThe table is already there and visible
p59193
aVThis makes no sense
p59194
aVYou should implement a  method in your AbstractTableModel
p59195
aVUsing a List of objects, where each row represents a row, would also be much clearer than using a single list to represent all the rows
p59196
aVI have the feeling that you're copying and pasting code without understanding at all how it works and what the architecture of Swing is
p59197
aVRead the Swing tutorial
p59198
aVAnd even before that, read an introductory book about Java, variables and scopes
p59199
as(dp59200
g23
V571407
p59201
stp59202
a((dp59203
g2
(lp59204
VThe Memento pattern is an OO design pattern used to keep previous states of an object in memory
p59205
aVIt's useful to implement an "Undo" operation, for example
p59206
aVSerialization is the process of transforming a graph of objects to a byte array, in order to save it on disk, or send it to another JVM over the network, for example
p59207
aVThey don't have much in common
p59208
as(dp59209
g23
V571407
p59210
stp59211
a((dp59212
g2
(lp59213
VThere is somewhere in your code where you must clear the filters collection of a service, or set this collection to null
p59214
aVHibernate makes this change persistent
p59215
aVAlso note that your mapping is wrong, which is a reason why you see strange behaviors
p59216
aVInstead of having a bidirectional ManyToMany, you have two, unrelated, unidirectional ManyToMany, both using the same join table
p59217
aVOne of the side must be chosen as the inverse of the other side
p59218
aVFor example, if you want the filter side to be the owner of the association, you must mark the serving side as the inverse side using the  attribute:
p59219
aVThis is described in the documentation
p59220
as(dp59221
g23
V571407
p59222
stp59223
a((dp59224
g2
(lp59225
VThe JavaScript files are just resources that must be downloaded by the browser
p59226
aVSo you put them where you want under the webapp root directory
p59227
aVSuppose you put your file under  (in the WebContent directory of your web project)
p59228
aVAnd suppose your webapp has  as context path
p59229
aVThis means that the root of the webapp, once the application is deployed, will be at
p59230
aVand that your JS file will thus be at
p59231
aVTo generate a URL in a webapp, you typically use the  tag:
p59232
aVThe c:url tag takes care of the context path:it prepends it to the absolute URLs you give it in order to halp you change the context path later
p59233
as(dp59234
g23
V571407
p59235
stp59236
a((dp59237
g2
(lp59238
VThe collection itself must be cached, using the  annotation
p59239
aVSee the documentation:
p59240
aVHibernate also let's you cache the content of a collection or the identifiers if the collection contains other entities
p59241
aVUse the @Cache annotation on the collection property
p59242
aVExample 21
p59243
ag23604
aVCaching collections using annotations
p59244
as(dp59245
g23
V571407
p59246
stp59247
a((dp59248
g2
(lp59249
V returns the user's preferred locale
p59250
aVTest if its language is equal to  or
p59251
as(dp59252
g23
V571407
p59253
stp59254
a((dp59255
g2
(lp59256
VThe assignment is quite strange (it tells you to implement a bug, basically), but I think what the teacher wants is:
p59257
aVMaybe to make you realize that only Integer instances can be cast to an Integer
p59258
as(dp59259
g23
V571407
p59260
stp59261
a((dp59262
g2
(lp59263
VUsually, web frameworks are used to build web applications rather than web sites, and there are quite few long static paragraphs
p59264
aVMost of the content is dynamic and comes from a database
p59265
aVBut yes, the usual way of doing is to externalize everything to resource bundles, usually in the form of properties files
p59266
aVPutting a long paragraph in a properties file doesn't cause much problem, because you can break long paragraphs into multiple lines by ending each line by a backslash:
p59267
as(dp59268
g23
V571407
p59269
stp59270
a((dp59271
g2
(lp59272
VYou get the exception when you run it
p59273
aVNot when you compile it
p59274
aVAnd the error message says:
p59275
aVyou're trying to get the char at index 0 of a string, but the String has no index 0
p59276
aVThis exception happens at line 58 of Main
p59277
aVjava
p59278
aVA String which doesn't have a char at index 0 is an empty string
p59279
aVThis probably happens because the last thing you read from SYstem
p59280
aVin() is a number, and reading a number doesn't consume the end-of-line that comes after
p59281
aVAdd a call to readLine() before reading Yes or No from the user
p59282
aVAnd don't assume that the user will do what you tell him to do
p59283
aVThat's almost never true
p59284
aVValidate the inputs you read
p59285
as(dp59286
g23
V571407
p59287
stp59288
a((dp59289
g2
(lp59290
VAn alternative is to use a template engine, such as mustache, underscore or Handlebars
p59291
as(dp59292
g23
V571407
p59293
stp59294
a((dp59295
g2
(lp59296
Vshould of course be
p59297
aVsince you want it to start from the beginning of the row, and fill two columns
p59298
as(dp59299
g23
V571407
p59300
stp59301
a((dp59302
g2
(lp59303
VJSON uses commas to separate attributes, colon to separate the attribute name from the attribute value, and double quotes around the names and the values
p59304
aVThis is not valid JSON
p59305
aVHere's valid JSON:
p59306
as(dp59307
g23
V571407
p59308
stp59309
a((dp59310
g2
(lp59311
VYou don't have the SVN repo on your machine
p59312
aVYou have a working copy
p59313
aVUnlike Git, SVN doesn't download the entire repository, with the whole history, when checking out a working copy
p59314
aVIt just downloads the latest versions of the files
p59315
aVSo no, it's impossible to get the history of an SVN project from a working copy
p59316
as(dp59317
g23
V571407
p59318
stp59319
a((dp59320
g2
(lp59321
VThe  tag is supposed to be enclosed inside an  tag, which defines the action, and thus the ActionForm instance from which  gets its value
p59322
as(dp59323
g23
V571407
p59324
stp59325
a((dp59326
g2
(lp59327
VYou assume that the whole byte array is read in just one call to , and has a length of exactly 1024 bytes
p59328
aVThat's not the case (unless you're extremely lucky)
p59329
aVMoreover, your ObjectInputStream is wrapping the InputStream from which you have already read the bytes (or some of the bytes) constituting the message
p59330
aVAnd also, the bytes written by the sender are not flushed
p59331
aVDon't ignore the result of the call to : It tells you how many bytes have actually been read
p59332
aVAnd until it's not -1, you should continue to read, in a loop
p59333
aVRead the Java tutorial on byte streams
p59334
aVThat said, you're making things difficult
p59335
aVWhy don't you write the object directly to the socket output stream, and read the object directly from the socket input stream at the other side
p59336
as(dp59337
g23
V571407
p59338
stp59339
a((dp59340
g2
(lp59341
VBy default, the layout manager of a JFrame is a BorderLayout
p59342
aVAnd if you don't specify where you want to add a component (, or , etc
p59343
aV, the it's added at the center
p59344
aVSo you add two components at the same place: in the center
p59345
aVSo, only one of them is displayed
p59346
as(dp59347
g23
V571407
p59348
stp59349
a((dp59350
g2
(lp59351
VIt is an anonyous inner class
p59352
aVThe above code creates a subclass of the  class (or a class implementing the  interface), overrides its  method, calls its constructor, and assigns the result to the  variable
p59353
as(dp59354
g23
V571407
p59355
stp59356
a((dp59357
g2
(lp59358
VAssuming you put the image in your source folder, in the package , and that your build process copies this file with your classes so that it's in the classpath when running the application (that's what all IDEs do by default), you can just use
p59359
aVto get you an icon
p59360
aVI'm not sure that Java has native support for the tiff format, so you might have to convert the image to another supported format to load it (gif, JPEG and PNG will work fine)
p59361
as(dp59362
g23
V571407
p59363
stp59364
a((dp59365
g2
(lp59366
V uses the class loader to load the resource
p59367
aVThis means that the resource must be in the classpath to be loaded
p59368
aVWhen doing it with Eclipse, everything you put in the source folder is "compiled" by Eclipse:
p59369
aVjava files are compiled into
p59370
aVclass files that go the the bin directory (by default)
p59371
aVother files are copied to the bin directory (respecting the package/folder hirearchy)
p59372
aVWhen launching the program with Eclipse, the bin directory is thus in the classpath, and since it contains the Test
p59373
aVproperties file, this file can be loaded by the class loader, using  or
p59374
aVIf it doesn't work from the command line, it's thus because the file is not in the classpath
p59375
aVNote that you should NOT do
p59376
aVto load a resource
p59377
aVBecause that can work only if the file is loaded from the file system
p59378
aVIf you package your app into a jar file, or if you load the classes over a network, it won't work
p59379
aVTo get an InputStream, just use
p59380
aVAnd finally, as the documentation indicates,
p59381
aVwill load a Test
p59382
aVproperties file located in the same package as the class Foo
p59383
aVwill load a Test
p59384
aVproperties file located in the package
p59385
as(dp59386
g23
V571407
p59387
stp59388
a((dp59389
g2
(lp59390
VYou're telling Hibernate that the Visit class has a many-to-one association with the Patient class (and with two other classes)
p59391
aVIt doesn't have such an association
p59392
aVIf you had such an assciation, the Visit class would contain
p59393
aVInstead, what you have in your Visit entity is the ID of a patient
p59394
aVThat doesn't constitute an association
p59395
aVRead the Hibernate documentation about associations, because you've missed what they are, and a great deal of what an ORM actually allows, which is to be able to load, navigate and query graphs of objects
p59396
as(dp59397
g23
V571407
p59398
stp59399
a((dp59400
g2
(lp59401
VThe type of  is
p59402
aVThis int contains a value that is bigger than the max value of short
p59403
aVWhen you cast it to a short, the 16 last bits of the 32 bits int are taken to make the short, and these 16 last bits happen to represent a negative short value
p59404
aVThe Java Language Specification says:
p59405
aVA narrowing conversion of a signed integer to an integral type T simply discards all but the n lowest order bits, where n is the number of bits used to represent type T
p59406
aVIn addition to a possible loss of information about the magnitude of the numeric value, this may cause the sign of the resulting value to differ from the sign of the input value
p59407
as(dp59408
g23
V571407
p59409
stp59410
a((dp59411
g2
(lp59412
V prints to the output stream of the process
p59413
aVThe JVM doesn't know and care about where the output actually goes
p59414
aVIt could be the console, or it could be redirected to a file, or piped to another process, or sent to nowhere
p59415
aVThe instruction is a blocking operation, so the time taken by the instruction depends on where it actually goes
p59416
aVPrinting to a console is slower than printing to a file, which is slower than printing to nowhere
p59417
as(dp59418
g23
V571407
p59419
stp59420
a((dp59421
g2
(lp59422
V is part of
p59423
aVIf you're using it, it should be in your direct dependencies, and it should be deployed with the webapp
p59424
aVEDIT:
p59425
aVIt's also in the all-in-one spring jar which seems to be in the classpath, so I'm confused as well
p59426
aVTry using only this all-in-one jar, or using only the spring-xxx jars
p59427
aVIn more recent version of Spring, the all-in-one jar doesn't exist anymore, so I would go with using only the small spring-xxx jars
p59428
as(dp59429
g23
V571407
p59430
stp59431
a((dp59432
g2
(lp59433
V simply tells Swing "when you'll have time, please repaint this area"
p59434
aVSo if you add rectangles in a loop and call repaint at each iteration, all the rectangles will only appear after the loop has finished, and the action event has been handled
p59435
aVTo have an animation, you need to loop in a separate thread
p59436
aVThe easiest way to do that is to use a Swing Timer
p59437
aVWhen the Start button is started, start a timer which adds a random rectangle and calls  every X milliseconds
p59438
aVWhen the Stop button is pressed, stop the timer
p59439
as(dp59440
g23
V571407
p59441
stp59442
a((dp59443
g2
(lp59444
VYou're initializing local variables instead of initializing the fields in your event handling methods
p59445
aVInstead of
p59446
aVit should be
p59447
aVor simply
p59448
aVEDIT:
p59449
aVAnother problem is that, even though your class has methods mousePressed(), mouseDragged(), etc
p59450
aV, it doesn't implement MouseListener and MouseMotionListener
p59451
aVAnd finally, it doesn't add any such listener to itself
p59452
aVSo the code should be modified like the following:
p59453
aVMy advice: each time you add a method to a class (like ), and that this method is supposed to override a method from a class or an interface, annotate it with
p59454
aVThat way, the compiler will generate a compilation error if the method doesn't actually override any method:
p59455
as(dp59456
g23
V571407
p59457
stp59458
a((dp59459
g2
(lp59460
VThe above line uses your platform's default encoding to transform characters to bytes
p59461
aVSo if it's ASCII and your hex string is , you will get the ASCII value of A followed by the ASCII value of 1
p59462
aVUse a Hex encoder/decoder to transform the string to bytes
p59463
aVI like Guava, but Apache commons-codec also has an implementation
p59464
aVYou can also of course implement your own as Peter Lawrey's answer shows
p59465
as(dp59466
g23
V571407
p59467
stp59468
a((dp59469
g2
(lp59470
VYou didn't do what you're being asked to do
p59471
aVWhat is asked:
p59472
aVI have to execute
p59473
aV/gradlew build
p59474
aVWhat you do
p59475
aVThat's not the same thing
p59476
aVThe first one will use the gradlew command found in the  directory (), and look for the build file to execute in the current directory, which is (for example)
p59477
aVThe second one will execute the gradlew command found in the current directory (), and look for the build file to execute in the current directory, which is
p59478
aVSo the build file executed is not the same
p59479
as(dp59480
g23
V571407
p59481
stp59482
a((dp59483
g2
(lp59484
VHQL queries use entities and their association
p59485
aVNever tables and their columns
p59486
aVAnd it knows on which tables and columns entities are linked together, so you don't need to repeat it in the join query
p59487
aVTo fetch all the courses having a given subject, you just need
p59488
as(dp59489
g23
V571407
p59490
stp59491
a((dp59492
g2
(lp59493
VAs written in the documentation:
p59494
aVA DirSet is a group of directories
p59495
aVSo since you want zip files, you should use a FileSet
p59496
as(dp59497
g23
V571407
p59498
stp59499
a((dp59500
g2
(lp59501
VUse the JSTL's  tag:
p59502
aVRetrieves an absolute or relative URL and exposes its contents to either the page, a String in 'var', or a Reader in 'varReader'
p59503
as(dp59504
g23
V571407
p59505
stp59506
a((dp59507
g2
(lp59508
VThis code should be in a method
p59509
aVNot directly in the class body
p59510
as(dp59511
g23
V571407
p59512
stp59513
a((dp59514
g2
(lp59515
V and  take a detached object and attach this object instance to the session
p59516
aVSo if an entity with the same type and ID is already attached to the session, Hibernate can't attach another instance: it would break the guarantee that only one entity with a given ID exists in a session
p59517
aVSo it throws this exception
p59518
aVis different
p59519
aVIt takes an detached entity, loads the entity with the same ID in the session if not already loaded, and copies the state (i
p59520
ag468
aVthe fields) of the detached entity to the attached one
p59521
aVThe detached entity stays deteached and unmodified
p59522
aVSo, in general,  should be preferred
p59523
aVBTW, the other methods don't exist in the JPA API
p59524
aVIf you use saveOrUpdate(), you should generally call it as the first instruction of the transaction, to avoid being in the situation causing the NonUniqueException
p59525
as(dp59526
g23
V571407
p59527
stp59528
a((dp59529
g2
(lp59530
VFrom what you describe, you should have a ManyToMany association between TableA1 and TableB1 and another ManyToMany association between TableA2 and TableB2
p59531
aVBut you mapped these two associations as a single association between TableA and TableB
p59532
aVYou should map these two associations as what they really are:
p59533
aVI wouldn't use the same join table to map two different associations
p59534
aVI'm not even sure it's possible
p59535
as(dp59536
g23
V571407
p59537
stp59538
a((dp59539
g2
(lp59540
VThe documentation says:
p59541
aVIf the association is bidirectional, one side has to be the owner and one side has to be the inverse end (ie
p59542
aVit will be ignored when updating the relationship values in the association table):
p59543
aVSo, the side which has the  attribute is the inverse side
p59544
aVThe side which doesn't have the  attribute is the owner
p59545
aVThe owner side is the side which Hibernate looks at to know which association exists
p59546
aVSo, for example, if you add a Foo the the set of foos of a Bar, a new row whill be inserted by Hibernate in the join table
p59547
aVIf, on the contrary, you add a Bar to the set of bars of a Foo, nothing will be modified in the database
p59548
as(dp59549
g23
V571407
p59550
stp59551
a((dp59552
g2
(lp59553
VThe documentation says:
p59554
aVBy default all model attributes are considered to be exposed as URI
p59555
aVtemplate variables in the redirect URL
p59556
aVOf the remaining attributes
p59557
aVthose that are primitive types or collections/arrays of primitive
p59558
aVtypes are automatically appended as query parameters
p59559
aVSo you don't have anything to do except making sure that you have a model attribute named , with the value
p59560
as(dp59561
g23
V571407
p59562
stp59563
a((dp59564
g2
(lp59565
VWhat you can say is that Spring uses AOP to add a transactional aspect to bean methods annotated with : before executing such a method, it starts a transaction (if necessary), and after the method has been executed, it commits or rollbacks the transaction
p59566
as(dp59567
g23
V571407
p59568
stp59569
a((dp59570
g2
(lp59571
VAs the compiler says, the case expressions must be constant expressions
p59572
aVYou can't use an array element as a case expression
p59573
aVYou can simply use an // clause instead
p59574
as(dp59575
g23
V571407
p59576
stp59577
a((dp59578
g2
(lp59579
VDon't use relative paths
p59580
aVUse absolute paths instead:
p59581
aVThe JSTL  tag makes sure the context path is prepended to the absolute path passed as argument in the  attribute, so if your webapp is deployed to , the generated HTML code will be
p59582
aVThe  tag should also be used for every other URL: anchor hrefs, form actions, etc
p59583
as(dp59584
g23
V571407
p59585
stp59586
a((dp59587
g2
(lp59588
VYes, you have to, because you have a bidirectional association, and the owner side of the association is RigaDocumento
p59589
aVThe owner side is the side which doesn't have the  attribute
p59590
aVThe other side is called the inverse side, and is ignored by JPA/Hibernate
p59591
as(dp59592
g23
V571407
p59593
stp59594
a((dp59595
g2
(lp59596
VThe actual concrete object is an instance of a class which extends :
p59597
aVAnd since inheritance defines an is a relationship, any instance of ConcreteSocketImpl is a SocketImpl
p59598
aVThat's a fundamental principle of object orientation
p59599
aVIf you couldn't have any instance of an abstract class, abstract classes and interfaces would make no sense at all, and would be completely useless
p59600
as(dp59601
g23
V571407
p59602
stp59603
a((dp59604
g2
(lp59605
VThey discourage them for several reasons:
p59606
aVthey're cumbersome to use
p59607
aVEach time you need to reference an object (or row), for eexample in your web application, you need to pass 3 parameters instead of just one
p59608
aVthey're inefficient
p59609
aVInstead of simply hashing an integer, the database needs to hash a composite of 3 columns
p59610
aVthey lead to bugs: developers inevitably implement the equals and hashCode methods of the primary key class incorrectly
p59611
aVOr they make it mutable, and modify their value once stored i a HashSet or HashMap
p59612
aVthey pollute the schema
p59613
aVIf another table needs to reference this 3-column table, it will need to have a 3 columns instead of just one as a foreign key
p59614
aVNow suppose you follow the same design and make this 3-column foreign key part of the primary key of this new table, you'll quickly have a 4-column primary key, and then a 5-column PK in the next table, etc
p59615
aVetc
p59616
aV, leading to duplication of data, and a dirty schema
p59617
aVThe alternative is to have a single-column, auto-generated primary key, in addition to the other three columns
p59618
aVIf you want to make the tuple of three columns unique, then use a unique constraint
p59619
as(dp59620
g23
V571407
p59621
stp59622
a((dp59623
g2
(lp59624
VIf it doesn't animate, it means that you're doing work in the event dispatch thread while the loading frame is displayed
p59625
aVThis background work should be done in another thread
p59626
aVHere's a non-working example:
p59627
aVHere's a working example:
p59628
aVSide note: the code which instantiates, populates and makes the loading frame visible should be wrapped into , because it must be run in the EDT
p59629
as(dp59630
g23
V571407
p59631
stp59632
a((dp59633
g2
(lp59634
VYou're creating an instance of a subclass of Window which, in its constructor, create a Frame (which is itself a Window)
p59635
aVYou're showing this empty frame, and add the button to the window you're creating
p59636
aVSo in the end you have two windows
p59637
aVI think that what you really want is to create one and only one Frame
p59638
aVYour class shouldn't extend Window, and all this shouldn't be done in a constructor
p59639
aVMoreover, AWT is kind of obsolete
p59640
aVYou should be using Swing
p59641
aVOracle has a great tutorial about Swing, which BTW also explains how to use layout managers (which you should do)
p59642
aVRead this tutorial
p59643
as(dp59644
g23
V571407
p59645
stp59646
a((dp59647
g2
(lp59648
VYou have two different classes that happen to have the same short name
p59649
aVThat doesn't make them interchangeable
p59650
aVYour service layer should not depend on the technology you have chosen for the GUI layer
p59651
aVA DefaultListModel won't be very useful when you'll switch to a webapp to display the result of the service
p59652
aVMake it return a
p59653
aVis nothing more than a wrapper around a list anyway
p59654
as(dp59655
g23
V571407
p59656
stp59657
a((dp59658
g2
(lp59659
VYour server program (which, BTW, has the exacte same class name as the client program, which is not very wise), only accepts a single connection
p59660
aVOnce it has finished its conversation with the first client, it ends up
p59661
aVYou think it's still listening because the frame is still visible, but the main method has ended
p59662
aVYou should have a loop if you want to accept multiple successive connections
p59663
aVAnd you should spawn threads if you want multiple parallel connections
p59664
as(dp59665
g23
V571407
p59666
stp59667
a((dp59668
g2
(lp59669
VThe problem is that since the associatio is optional, Hibernate has no way to know, just by loading a CPU, if it has an associated processor or not
p59670
aVSo, in order to either set the processor field to null, or to set it to an instance of Processor, it has to chck if a processor exists with the primary key of the CPU
p59671
aVTo avoid that, the easiest way is to map the association using a join column in CPU pointing to the processor
p59672
aVThat way, if the join column is null, Hibernate knows there is no associated CPU
p59673
aVAnd if it's not null, it can set the procssor field to a lazy proxy
p59674
aVAnother way, AFAIK, is to use , and to instrument the bytecode
p59675
aVBut I've had bad experiences with this setting in the past
p59676
aVMaybe it has improved
p59677
as(dp59678
g23
V571407
p59679
stp59680
a((dp59681
g2
(lp59682
VIt doesn't work because the AUTO strategy, for your database, consists in relying o the database to generate IDs
p59683
aVThe ID column of the table should be an auto-increment column, or you should change the ID generation strategy
p59684
as(dp59685
g23
V571407
p59686
stp59687
a((dp59688
g2
(lp59689
VIn your  overridden method, cast the Graphics argument to Graphics2D, call  on this Graphics2D, and draw your ellipse
p59690
as(dp59691
g23
V571407
p59692
stp59693
a((dp59694
g2
(lp59695
VYou're doing it harder than necessary, and you're encrypting your cipher text when doing
p59696
aVI would rewrite it as is:
p59697
as(dp59698
g23
V571407
p59699
stp59700
a((dp59701
g2
(lp59702
VIt's impossible
p59703
aVHibernate queries, (HQL or Criteria) only use entities, their persistent fields and their associations
p59704
aVIf the join table is not mapped and is not used to define an association between ther User and Address entities, you won't be able to define queries using this table with Hibernate, except SQL queries of course
p59705
as(dp59706
g23
V571407
p59707
stp59708
a((dp59709
g2
(lp59710
VYou should never ignore the result of
p59711
aVIt returns -1 if the end of the stream is reached
p59712
aVIf not, it returns the number of chars that have been read
p59713
aVAssuming that it reads exactly the number of chars you asked it to read is wrong
p59714
aVChange it to
p59715
as(dp59716
g23
V571407
p59717
stp59718
a((dp59719
g2
(lp59720
VThe association in  is defined as
p59721
aVSo Hibernate looks for an attribute of type  named  in the class
p59722
aVThere is no such field
p59723
aVThe field only exists in the subclass
p59724
aVThis means that only  instances can be the target of this association, and the association should thus be defined as
p59725
as(dp59726
g23
V571407
p59727
stp59728
a((dp59729
g2
(lp59730
VCreate a JSP tag file () containing the following code:
p59731
aVThe tag calls itself recursively to generate a folder tree
p59732
aVAnd inside your JSP, do
p59733
as(dp59734
g23
V571407
p59735
stp59736
a((dp59737
g2
(lp59738
VOnly one of them is annotated with
p59739
aVthe other ones default to the CLASS policy, which isn't kept at runtime by the VM
p59740
as(dp59741
g23
V571407
p59742
stp59743
a((dp59744
g2
(lp59745
VI don't understand what you're trying to do, but I can comment on your code:
p59746
aVThis is a noop: it sets an array element value to the value it already has
p59747
aVThis obviously causes a NullPointerException, since you're trying to access an array which is null
p59748
aVYou must initialize the array before being able to modify it:
p59749
aVAdditional note: you should choose better names for your variables
p59750
aVThe names should tell what the variable represents, and they should respect the Java naming conventions (no underscores in variable names, camelCase)
p59751
aV,  and  don't mean anything
p59752
aVEDIT:
p59753
aVI'm still not sure what you want to do, and why you don't simply use , but here's how to transform EUCHARIST to HARIST:
p59754
as(dp59755
g23
V571407
p59756
stp59757
a((dp59758
g2
(lp59759
VTo fix your error, you should just replace
p59760
aVby
p59761
aVBut I would not use replaceAll to do that
p59762
aVInstead, I would add a  field to your enum, in a similar way as the other fields, and call  instead of , or override  to return the label:
p59763
as(dp59764
g23
V571407
p59765
stp59766
a((dp59767
g2
(lp59768
VSimply use  to get a shuffled list:
p59769
aVAnd in the Question entity:
p59770
as(dp59771
g23
V571407
p59772
stp59773
a((dp59774
g2
(lp59775
VYes, that's the documented behavior:
p59776
aVBy default, for all methods that return value, mock returns null, an empty collection or appropriate primitive/primitive wrapper value (e
p59777
aVg: 0, false,
p59778
aVfor int/Integer, boolean/Boolean,
p59779
aVIf you want the real methods to be called when not stubbed, you should spy the real object:
p59780
aVYou can create spies of real objects
p59781
aVWhen you use the spy then the real methods are called (unless a method was stubbed)
p59782
as(dp59783
g23
V571407
p59784
stp59785
a((dp59786
g2
(lp59787
VThe annotation must be
p59788
as(dp59789
g23
V571407
p59790
stp59791
a((dp59792
g2
(lp59793
VThere are an infinity of real numbers
p59794
aVThere are only 32 bits in a float
p59795
aVSo obviously, not every real can be represented accurately as a float
p59796
aVAnd the float representation makes small numbers more accurate than large ones
p59797
as(dp59798
g23
V571407
p59799
stp59800
a((dp59801
g2
(lp59802
VThis method is static, so it's not part of a Spring bean and Spring can't intercept the call to the method and return a cached result instead of invoking it
p59803
aVOnly Spring bean methods can be made cacheable
p59804
as(dp59805
g23
V571407
p59806
stp59807
a((dp59808
g2
(lp59809
VJPQL/HQL queries use entities and their persistent fields/properties/associations
p59810
aVThey don't use tables and columns
p59811
aVYour query should be something like:
p59812
aVRead the documentation
p59813
as(dp59814
g23
V571407
p59815
stp59816
a((dp59817
g2
(lp59818
VYour checkbox is not inside the form, so it's not submitted when the form is submitted:
p59819
aVAlso, please respect the Java naming conventions, and read about MVC, the JSTL, and best practices
p59820
as(dp59821
g23
V571407
p59822
stp59823
a((dp59824
g2
(lp59825
VUse a  to associate each char with its digit
p59826
aVThen iterate through the chars of your word, get the corresponding digit, and append it to a StringBuilder
p59827
aVYou could also simply use an array of 26 elements, containing the digit associated with each letter
p59828
aVTo get the index of a given char, you would simply use
p59829
aVIt would be more efficient, but maybe a bit less readable
p59830
as(dp59831
g23
V571407
p59832
stp59833
a((dp59834
g2
(lp59835
VIn general, if the type is just a piece of information, you make it a field
p59836
aVIf it's used to change the behavior of the methods like
p59837
aVthen it's an indication that you should subclass, and use polymorphism to get the appropriate behavior depending on the type
p59838
aVAnother solution is to use delegation rather than inheritance, and to associate behavior to the type:
p59839
as(dp59840
g23
V571407
p59841
stp59842
a((dp59843
g2
(lp59844
VIn IE at least, and I don't know why, innerHTML is read-only for
p59845
aVThose are the little annoyances that made jQuery so popular: it circumvents those bizarre and inconsistent behaviors and provide a more logical and functional API
p59846
aVI would simply use JQuery:
p59847
aVSee http://jsfiddle
p59848
aVnet/fxUwS/1/
p59849
as(dp59850
g23
V571407
p59851
stp59852
a((dp59853
g2
(lp59854
VThe algorithm is quite simple:
p59855
as(dp59856
g23
V571407
p59857
stp59858
a((dp59859
g2
(lp59860
VIt's returning one object per retrieved row, as a HQL query without distinct would do
p59861
aVWIth a Criteria, you must use
p59862
as(dp59863
g23
V571407
p59864
stp59865
a((dp59866
g2
(lp59867
VOne of the variables is null
p59868
aVIt could be:
p59869
aVchooser
p59870
aVchooser
p59871
aVgetSelectedFile()
p59872
aVsaveChooser
p59873
aVsaveChooser
p59874
aVgetSelectedFile()
p59875
aVparseFile
p59876
aVstartSpanText
p59877
aVcol2 to col6
p59878
aVUse the line number in the stack trace, and a debugger or traces in the code to know which one
p59879
aVMy guess would be one of the selected files, since it makes no sense to call
p59880
aVEither there is no selected file, and it throws an NPE because  returns null, or there is one, and its  will never be null
p59881
aVAlso, you shouldn't use a mouse listener to do something when a button is pressed
p59882
aVThat's what an ActionListener is for
p59883
aVIt will be simpler, and also work when the user presses the button with its keyboard
p59884
as(dp59885
g23
V571407
p59886
stp59887
a((dp59888
g2
(lp59889
VYour method is named  instead of
p59890
aVAlways use the  annotation when your intention is to override a method
p59891
aVThat way, if you don't, the compiler will emit an error:
p59892
aVTried to put @Override annotation, the compiler rejected it
p59893
aVThe compiler rejected it precisely because the method doesn't override anything
p59894
aVThe error means: you want to override a method, but you don't
p59895
aVSomething is wrong
p59896
aVInstead of removing the annotation in this case, you should fix the method signature
p59897
as(dp59898
g23
V571407
p59899
stp59900
a((dp59901
g2
(lp59902
VYes,  means , and  means
p59903
aVAnd they're both short-circuit, so in the following case:
p59904
aVwould not even be called if  returns false
p59905
aVAnd in the following case:
p59906
aVwould not even be called af  returns true
p59907
aVThat's what allows conditions like
p59908
aVwhich would cause a  if the operator wasn't short-circuit
p59909
as(dp59910
g23
V571407
p59911
stp59912
a((dp59913
g2
(lp59914
VReplace
p59915
aVby
p59916
aVNote that this will transform the new line characters (which could be \u005cr or \u005cr\u005cn) by a \u005cn though
p59917
aVAlso note that concatenating using the + operator in a loop is very inefficient because it produces a whole lot of large throw-away STring instances
p59918
aVYou'd better use a StringBuilder or StringWriter
p59919
aVWhy don't you simply read the whole file as a single String, and then call replaceAll and rewrite everything
p59920
aVSee Guava's method or commons-io method
p59921
as(dp59922
g23
V571407
p59923
stp59924
a((dp59925
g2
(lp59926
VThis is described in the following section of the documentation
p59927
aVFollow the instructions given there, and then change your :  means: In the folder  right under the root of the server
p59928
aVSo, unless your application is deployed as the root application, it won't work, because you need to prepend the context path of your app:
p59929
aVAnd this will thus mean: in the css folder, right under the root of the webapp
p59930
aVIf the context path of your webapp is , the generated href will thus be
p59931
as(dp59932
g23
V571407
p59933
stp59934
a((dp59935
g2
(lp59936
VAdd a submit event handler to your form, that makes the animated gif appear and doesn't prevent the form submission
p59937
aVExample with JQuery:
p59938
aVassuming you have the animated gif hidden somewhere in the page:
p59939
as(dp59940
g23
V571407
p59941
stp59942
a((dp59943
g2
(lp59944
VThis mapping doesn't make much sense
p59945
aVYou have an entity , mapped to the , and having a  association with the entity
p59946
aVAnd in , you have a set of , but you map it as a second association, and make it a
p59947
aVIt isn't a
p59948
aVIt's a , since the other side is a
p59949
aVAnd since the bidirectional association is already mapped in , you can't map it a second time in
p59950
aVSo the code should be:
p59951
as(dp59952
g23
V571407
p59953
stp59954
a((dp59955
g2
(lp59956
VEither remove the mouse listener from the table, or set a flag that will make the listener do nothing:
p59957
aVor
p59958
as(dp59959
g23
V571407
p59960
stp59961
a((dp59962
g2
(lp59963
VThat's the idea, yes
p59964
aVThe boolean should be volatile to make this solution work though
p59965
aVBut you don't even need this flag, because each thread has one already: the interrupted flag
p59966
aVSo you could just call  from thread B, and have your thread A do the following:
p59967
aVNote, though, that interrupting a thread blocked in a waiting state will make the blocking method throw an InterruptedException, in order to stop running ASAP
p59968
aVIf you don't want that, then use a volatile flag
p59969
as(dp59970
g23
V571407
p59971
stp59972
a((dp59973
g2
(lp59974
VThe server doesn't redirect to your error page
p59975
aVIt fowards to it
p59976
aVSo, if the initial invoked URL is , since you used a relative path for your image, the browser will look for the image in
p59977
aVYou should thus use an absolute path to reference the image (and for all your images, resources and links, in general)
p59978
aVAnd since each application has a context path, you must prepend the context path to the URL
p59979
aVThat's what the JSTL  tag does:
p59980
aVwhich will be translated to
p59981
aV( being the contect path of your application)
p59982
as(dp59983
g23
V571407
p59984
stp59985
a((dp59986
g2
(lp59987
VEvery time you do , you implicitly use your platform default encoding to transform chars to bytes
p59988
aVIf the String contains characters that can't be represented using your platform's default encoding, you lose information
p59989
aVSo use an explicit encoding supporting every character on earth, like UTF8:
p59990
aVSimilarly, when you do , you use your platform's default encoding to transform the bytes into chars
p59991
aVIf the bytes actually are text encoded using another encoding, or aren't chars at all, but purely binary information, you'll also lose information
p59992
aVEncryption is a binary operation
p59993
aVIt takes bytes and returns other bytes
p59994
aVYou can't blindly transform bytes into chars, whatever the encoding is, because not all bytes represent a valid character
p59995
aVIf you want to transform binary information (like encrypted text) to a String, use Hex or Base64 encoding
p59996
aVSo the encryption process should be:
p59997
aVAnd the decryption process should be symmetric:
p59998
as(dp59999
g23
V571407
p60000
stp60001
a((dp60002
g2
(lp60003
s(dp60004
g23
V571407
p60005
stp60006
a((dp60007
g2
(lp60008
VThis code should be done before anything is flushed to the response, and it should not execute any instruction after the redirect
p60009
aVMoreover, this isn't view logic (so it shouldn't be in a JSP), and you really don't want to have this code in every JSP and servlet of your application that needs the user to be authenticated
p60010
aVYou should thus put this logic in a servlet filter
p60011
aVFinally, the following code will throw an exception if there's no session yet
p60012
aVSoc heck that the session is not null, or don't use , but :
p60013
as(dp60014
g23
V571407
p60015
stp60016
a((dp60017
g2
(lp60018
VCreate a  containing 1-30, shuffle it using , then iterate through the list
p60019
aVOf course, at the end of the list, it's impossible to have a new number that hasn't been generated yet
p60020
as(dp60021
g23
V571407
p60022
stp60023
a((dp60024
g2
(lp60025
VYou got your diagnostic wrong:
p60026
aVWhat I notice in my controller for www
p60027
aVsomeurl
p60028
aVcom is that the session id is different on step 2 and step 4
p60029
aVLooks like Spring Security created a new session and that session is now attached to the request for public page
p60030
aVIt's precisely because all the pages use the same session that when you go back to the first tab and refresh, you're still logged in as an admin
p60031
aVAll the tabs and frames of a given browser share the same session for a given webapp
p60032
aVThat's how it works
p60033
aVThe server doesn't know and care about browser tabs
p60034
aVIt gets a session cookie attached to all the requests sent by a given browser, and uses this cookie to get the corresponding session
p60035
aVThis is actually a good thing
p60036
aVWithout that, each time you open a new tab once already authenticated, you would have to authenticate again
p60037
aVAnd you definitely don't want that
p60038
aVSo let's explain what happens in your scenario:
p60039
aVyou restart the server and browser so there's no session data
p60040
aVyou go to www
p60041
aVsomeurl
p60042
aVcom public access page
p60043
aVYour controller gets you a session
p60044
aVA cookie is sent back to the browser
p60045
aVYou click on a plane anchor link to www
p60046
aVsomeurl
p60047
aVcom/admin restricted access page which opens in a new tab
p60048
aVThe cookie is sent with the request, so this request is part of the session opened at step 2
p60049
aVSpring Security 3 intercepts this and challenges for credentials
p60050
aVIt attaches credentials to the session, which is now an authenticated session
p60051
aVYou go back to the previous tab with www
p60052
aVsomeurl
p60053
aVcom and refresh the page
p60054
aVThe cookie is sent again, and Spring knows that you're the guy who authenticated at step 3, because the authentication credentials are stored in session
p60055
aVEDIT: it appears I was wrong, and Spring indeed creates a new session after login to prevent session fixation attacks
p60056
aVExplanations about why this is useful, and how to avoid this behavior are available in the documentation:
p60057
aVSession fixation attacks are a potential risk where it is possible for a malicious attacker to create a session by accessing a site, then persuade another user to log in with the same session (by sending them a link containing the session identifier as a parameter, for example)
p60058
aVSpring Security protects against this automatically by creating a new session when a user logs in
p60059
aVIf you don't require this protection, or it conflicts with some other requirement, you can control the behaviour using the session-fixation-protection attribute on , which has three options
p60060
aVmigrateSession - creates a new session and copies the existing session attributes to the new session
p60061
aVThis is the default
p60062
aVnone - Don't do anything
p60063
aVThe original session will be retained
p60064
aVnewSession - Create a new "clean" session, without copying the existing session data
p60065
as(dp60066
g23
V571407
p60067
stp60068
a((dp60069
g2
(lp60070
VWell, it's quite simple
p60071
aVDon't print stats from this class
p60072
aVReturn them
p60073
aVAnd let the caller decide how the returned stats should be displayed
p60074
aVNow that you can get stats, you can create a , a , an , or whatever you want
p60075
as(dp60076
g23
V571407
p60077
stp60078
a((dp60079
g2
(lp60080
s(dp60081
g23
V571407
p60082
stp60083
a((dp60084
g2
(lp60085
VMake sure your table model overrides  and returns the appropriate type for your column ()
p60086
aVThis will make the table use a DecimalFormat with the default locale to format the numbers, rather than calling
p60087
aVSide note: using double for money, especially for big amounts, is a really bad idea
p60088
aVYou should use BigDecimal instead
p60089
as(dp60090
g23
V571407
p60091
stp60092
a((dp60093
g2
(lp60094
Vor
p60095
as(dp60096
g23
V571407
p60097
stp60098
a((dp60099
g2
(lp60100
VI won't expand on how you should do this, but only on why it happens
p60101
aVAn AsyncTask, by definition, is asynchronous
p60102
aVThis means that when you execute it, it does its job in parallel, in a different thread
p60103
aVSo you can't expect it to be terminated right after  has been called (else it would be called SyncTask, and wouldn't have any reason to exist)
p60104
aVSee  as a toaster
p60105
aVWhen you start the toaster (execute the AsyncTask), it toasts your bread, but doesn't return the toasted bread immediately
p60106
aVIt takes some time to toast it
p60107
aVWhile it's toasting your bread, you can do something else (and thus not freeze the UI thread completely)
p60108
aVAnd when it has finished toasting your bread, it notifies you with a ding
p60109
aVthat the bread is toasted
p60110
aVThat's the same thing here
p60111
aVYou should only start using  (the toasted bread), when the AsyncTask notifies you that it has finished executing
p60112
as(dp60113
g23
V571407
p60114
stp60115
a((dp60116
g2
(lp60117
VNo project built with Ant will ever build automatically without creating a build file
p60118
aVAnt doesn't do anything without a build file
p60119
aVMaybe your IDE generates one for you, or maybe you're not even using Ant to build your small project
p60120
as(dp60121
g23
V571407
p60122
stp60123
a((dp60124
g2
(lp60125
V is the installation directory of Java
p60126
aVYou shouldn't write anything to this directory
p60127
aVI guess you actually want to copy something to the user's home directory
p60128
aVIn this case, the property is
p60129
aVSee http://docs
p60130
aVoracle
p60131
aVcom/javase/6/docs/api/java/lang/System
p60132
aVhtml#getProperties%28%29
p60133
as(dp60134
g23
V571407
p60135
stp60136
a((dp60137
g2
(lp60138
V means: some type being or extending B1, but we don't know which one
p60139
aVSo the list could be a , or a , or a  (assuming B3 also extends B1)
p60140
aVAnd you don't want to add a B2 to a , so the compiler forbids it
p60141
aVYou probably want a
p60142
as(dp60143
g23
V571407
p60144
stp60145
a((dp60146
g2
(lp60147
VAssuming the class has a public constructor without any argument, and is called , the follwoing loads the class and calls the constructor:
p60148
aVThat is called reflection
p60149
aVBut it should be used extremely seldomly, for special kinds of problems
p60150
aVYou should tell us what you actually want to achieve, so that we coan help you do it with a more type-safe, OO and efficient way
p60151
aVFor example, you could use the factory pattern:
p60152
as(dp60153
g23
V571407
p60154
stp60155
a((dp60156
g2
(lp60157
V is a JSON object
p60158
aVIt contains another JSON object called
p60159
aVAnd  contains a JSON array called
p60160
aVSo you should get the  array from the  object, and iterate on this array
p60161
as(dp60162
g23
V571407
p60163
stp60164
a((dp60165
g2
(lp60166
VYou're sorting Strings
p60167
aVThe natural ordering for String is the lexicographical ordering
p60168
aVWhat you want is integer ordering
p60169
aVSo use an  rather than a  for
p60170
aVOr at least transform the strings to compare to integers, and compare those integers
p60171
aVAlso, calling your field  adds unnecessary noise
p60172
aVJust call it  (and do the same for the other fields, of course)
p60173
as(dp60174
g23
V571407
p60175
stp60176
a((dp60177
g2
(lp60178
VYour arrays are both arrays of objets
p60179
aVCall it with
p60180
aVand the compiler will refuse to compile
p60181
as(dp60182
g23
V571407
p60183
stp60184
a((dp60185
g2
(lp60186
VIn a String literal,  must be escaped with another
p60187
aVAnd in a reges, a  must also be escaped by another
p60188
aVSo, you must escape every  four times:
p60189
aVAnother way is to use  (for the regex) and  for the replacement string
p60190
as(dp60191
g23
V571407
p60192
stp60193
a((dp60194
g2
(lp60195
VYou must probably specify a path for your cookie
p60196
aVIIRC, if you don't specify one, the cookie is only valid for the URL the cookie comes from
p60197
aVAlso, your remember-me cookie is really insecure
p60198
aVAny user could authenticate himself as someone else by simply sending a cookie with the other user's name
p60199
aVYou should make the cookie random and very hard to guess, and associate each random cookie with the user it has been generated for, in the database
p60200
as(dp60201
g23
V571407
p60202
stp60203
a((dp60204
g2
(lp60205
VEvery access to a mutable object shared between two threads must be accessed in a synchronized way
p60206
aVNot synchronizing will lead to visibility and coherence issues like you're seeing
p60207
aVYou should not expose an  like that (even without multiple threads, public static mutable objects are already a very bad practice)
p60208
aVInstead, you should encapsulate it in your own object, and make sure every access is synchronized properly
p60209
aVIt's hard to give a more concrete advice without seeing any line of your code
p60210
as(dp60211
g23
V571407
p60212
stp60213
a((dp60214
g2
(lp60215
VI guess the author refers to the  method, that every Object has, and that is called by the garbage collector
p60216
aVSending a message = Calling a method
p60217
as(dp60218
g23
V571407
p60219
stp60220
a((dp60221
g2
(lp60222
VYou probably already began a transaction before calling this method
p60223
aVEither this should be part of the enclosing transaction, and you should thus not start another one; or it shouldn't be part of the enclosing transaction, and you should thus open a new session and a new transaction rather than using the current session
p60224
as(dp60225
g23
V571407
p60226
stp60227
a((dp60228
g2
(lp60229
V returns a char array
p60230
aVTo create a String from the char array, you must use
p60231
aV, on any array, returns the type of the array followed by its hash code (something like ), and it's thus not a functionally interesting information
p60232
as(dp60233
g23
V571407
p60234
stp60235
a((dp60236
g2
(lp60237
VThe webapp classpath is composed by the directory WEB-INF/classes and by all the jars in WEB-INF/lib
p60238
aVIf you want a jar to be available at runtime, you must NOT add it to the build path, but to WEB-INF/lib
p60239
aVDropping a jar in WebContent/WEB-INF/lib in Eclipse will make it automatically part of the buid path of your webapp, and available at runtime
p60240
as(dp60241
g23
V571407
p60242
stp60243
a((dp60244
g2
(lp60245
VFrankly, I'm not an expert in regexes, but I don't think it's the best tool to do what you want
p60246
aVI would use a method like the following:
p60247
as(dp60248
g23
V571407
p60249
stp60250
a((dp60251
g2
(lp60252
VExtend
p60253
aVIt implements  by doing nothing for every method
p60254
aVSo you can just override the one that you want
p60255
as(dp60256
g23
V571407
p60257
stp60258
a((dp60259
g2
(lp60260
VEither you iterate over the entities and call delete for each of them, or you construct a delete query:
p60261
aVMake sure to understand the restrictions and caveats associated to such DML queries though
p60262
aVThey're described in the documentation
p60263
as(dp60264
g23
V571407
p60265
stp60266
a((dp60267
g2
(lp60268
VUse pagination, just like Google does for example
p60269
aVInstead of loading all the entries, load the first 100 ones, and make it possible to load the next page of 100 entries, etc
p60270
aVSee  and  in the  class
p60271
aVAlso add a search form to your GUI, because browsing through 10,000 entries to find the one you're looking for is not something anyone wants to do
p60272
as(dp60273
g23
V571407
p60274
stp60275
a((dp60276
g2
(lp60277
VTo make Hibernate create an index, you would use the annotation
p60278
aVTo retrieve an AccountBilling by userName, you would use a query:
p60279
as(dp60280
g23
V571407
p60281
stp60282
a((dp60283
g2
(lp60284
VYour  should contain objects of type
p60285
aVThis Employer class should, at least contain the ID of the employer (to be able to uniquely identify him), and the name of the employer (to display it in the combo box)
p60286
aVTo insert a new Job, simply get the selected Employer from your combo box, get its ID, and pass it to your query (which should not have any inner join):
p60287
as(dp60288
g23
V571407
p60289
stp60290
a((dp60291
g2
(lp60292
VIf your question is: why are the person in the original game and the person in the cloned game the same
p60293
aV, then the answer is that you're not deep cloning but shallow cloning
p60294
aVCalling  and assigning the result to the cloned game passes a reference to the person to the cloned game
p60295
aVIt doesn't make any copy
p60296
aVTo make a copy, you would need
p60297
aVor
p60298
aVNote that the use of  is discouraged in favor of copy constructors
p60299
aVAnd if you implement clone, than you should use
p60300
aVAlso note that you wouldn't have to clone the Person if it was immutable
p60301
as(dp60302
g23
V571407
p60303
stp60304
a((dp60305
g2
(lp60306
VNo, you can't do that using a war file, because a war file would define a new web application separated from the other ones
p60307
aVBut since the servlet 3
p60308
aV0 spec, you can do that with a jar file placed in the WEB-INF/lib directory of your war file, using the META-INF/resources directory of the jar
p60309
aVSee this question for details
p60310
as(dp60311
g23
V571407
p60312
stp60313
a((dp60314
g2
(lp60315
VExecute the same command with  instead of , then commit
p60316
as(dp60317
g23
V571407
p60318
stp60319
a((dp60320
g2
(lp60321
VYou can't chain properties like this in a Criteria query
p60322
aVTry
p60323
as(dp60324
g23
V571407
p60325
stp60326
a((dp60327
g2
(lp60328
VThe name of a JavaBean property accessed by  or  is "foo"
p60329
aVIf you want the accessor method, (), you should call
p60330
aVIt's the programmatic name in the sense that it's the name you will use when firing events when the property changes, for example, or the name you will use when accessing the property using a scripting language like Groovy or the JSP EL:
p60331
aVSee http://docs
p60332
aVoracle
p60333
aVcom/javase/tutorial/javabeans/writing/properties
p60334
aVhtml for more information
p60335
as(dp60336
g23
V571407
p60337
stp60338
a((dp60339
g2
(lp60340
VFirst of all, if the data is a date, you shouldn't store it as a String, but as a Date
p60341
aVDate instances will naturally be sorted in chronological order rather tan in lexicographical order
p60342
aVSo you should just have an  property, of type Date
p60343
aVAnd to display it in your column, and sort chronologically, the code would simply be (assuming you're using the JSTL, and the ID of your display table is ):
p60344
aVYou can of course customize he format of the date using the , ,  and  attributes of the  tag
p60345
aVSee http://docs
p60346
aVoracle
p60347
aVcom/javaee/5/jstl/1
p60348
aV1/docs/tlddocs/fmt/formatDate
p60349
aVhtml
p60350
aVTh same technique can be used to display the string and sort using another string property, but it's really bad design:
p60351
as(dp60352
g23
V571407
p60353
stp60354
a((dp60355
g2
(lp60356
VJust make sue that your controller sets the corresponding property in the form before dispatching to the view:
p60357
as(dp60358
g23
V571407
p60359
stp60360
a((dp60361
g2
(lp60362
VIf you reference an  from another entity, then  should not be a MappedSuperclass, but an entity
p60363
aVYou should annotate it with , and choose an inheritance strategy
p60364
aVOther than that, the mapping will stay as is
p60365
as(dp60366
g23
V571407
p60367
stp60368
a((dp60369
g2
(lp60370
VThis is basic stuff, covered by the documentation
p60371
aVRead it
p60372
as(dp60373
g23
V571407
p60374
stp60375
a((dp60376
g2
(lp60377
VAdd a constructor to your base class (or modify the existing one) that takes a listener as argument, and registers this listener instead of the base class listener:
p60378
as(dp60379
g23
V571407
p60380
stp60381
a((dp60382
g2
(lp60383
VNo, it's impossible
p60384
aVWhen you mark a collection as eagrely fetched, it's always eagerly fetched
p60385
aVIf you want it lazily loaded, it should be marked lazy
p60386
aVBut you may select only your three attributes:
p60387
aVOr, much more readable:
p60388
as(dp60389
g23
V571407
p60390
stp60391
a((dp60392
g2
(lp60393
VMaybe there's some more elegant solution, but you don't tell what you want to do with the attribute
p60394
as(dp60395
g23
V571407
p60396
stp60397
a((dp60398
g2
(lp60399
s(dp60400
g23
V571407
p60401
stp60402
a((dp60403
g2
(lp60404
VSome file system calls become very slow when a single directory contains a huge number of files, especially on Windows
p60405
aVAnd it's also harder to administer them because simply listing their content is too slow and returns too many entries
p60406
as(dp60407
g23
V571407
p60408
stp60409
a((dp60410
g2
(lp60411
VYou could use an URLClassLoader, but it would download the file every time, and would make the code more complex
p60412
aVIf you're using a shell script already, why don't you simply use curl to download the jar and place it in the classpath
p60413
as(dp60414
g23
V571407
p60415
stp60416
a((dp60417
g2
(lp60418
VYou would use a second forEach loop:
p60419
aVI think you're confusing yourself by your bad naming choices
p60420
aVYou should' name a  , since it's not a list, but a map
p60421
aVAnd you shouldn't name a map entry  since it doesn't mean anything
p60422
aVI would refactor the code to (assuming the key in the map, for example, represents the owner of the items)
p60423
as(dp60424
g23
V571407
p60425
stp60426
a((dp60427
g2
(lp60428
VClassLoaders are hierarchical
p60429
aVA class loader has a parent, and sees the classes of its parent
p60430
aVThe reverse is not true
p60431
aVSo a class loaded by the webapp's classloader has access to the classes loaded by the common Tomcat classloader (its parent), which has access to the JRE classes (the parent of Tomcat's classloader)
p60432
aVSee the Tomcat documentation and the ClassLoader javadoc for more details
p60433
as(dp60434
g23
V571407
p60435
stp60436
a((dp60437
g2
(lp60438
VYour mapping is wrong
p60439
aVIn a bidirectional asociation, one side is the owner of the association, and tells how the association is mapped
p60440
aVThe other side is the inverse side, and just says "look at the other side for the mapping" using the  attribute
p60441
aVSee the documentation for an exemple:
p60442
as(dp60443
g23
V571407
p60444
stp60445
a((dp60446
g2
(lp60447
VHibernate is one of the implementations of the JPA spec
p60448
aVSince your project chose Hibernate as its JPA implementation, it uses the JPA API, which delegates the Hibernate
p60449
aVJust like when you use the JDBC API, which delegates to a specific Oracle or PostgreSQL driver
p60450
aVEntityManagerFactory, as its name indicates, is a factory for EntityManager
p60451
aVI don't see why you wouldn't use both
p60452
aVEntityManager is the main interface of the JPA API, used to execute all database operations (find, persist, merge, query, etc
p60453
aVEntityManagerFactory must be configured before asking it to create an EntityManager
p60454
as(dp60455
g23
V571407
p60456
stp60457
a((dp60458
g2
(lp60459
VHave you tried
p60460
aVAlso, note that attached entities are automatically persistent
p60461
aVYou don't need to call
p60462
as(dp60463
g23
V571407
p60464
stp60465
a((dp60466
g2
(lp60467
VThe best thing to do, IMHO, would be to put the uploads directory outside of the webapp folder
p60468
aVIf you really want to leave it there, you could simply add a servlet filter to your app that is mapped to , and returns an error in case the URL ends with
p60469
as(dp60470
g23
V571407
p60471
stp60472
a((dp60473
g2
(lp60474
VGuava also has Base64 (among other encodings and incredibly useful stuff)
p60475
as(dp60476
g23
V571407
p60477
stp60478
a((dp60479
g2
(lp60480
VThe documentation says:
p60481
aVPHP treats objects in the same way as references or handles, meaning that each variable contains an object reference rather than a copy of the entire object
p60482
aVSee Objects and References
p60483
aVRead the documentation
p60484
aVThat's why it has been written
p60485
as(dp60486
g23
V571407
p60487
stp60488
a((dp60489
g2
(lp60490
VGuava has a Stopwatch class encapsulating this
p60491
aVEDIT:
p60492
aVIf what you need is a scheduler, then use a ScheduledExecutorService
p60493
as(dp60494
g23
V571407
p60495
stp60496
a((dp60497
g2
(lp60498
VA generic type can't be a primitive
p60499
aVThe problem doesn't exist
p60500
as(dp60501
g23
V571407
p60502
stp60503
a((dp60504
g2
(lp60505
VThis question is asked almost every day
p60506
aVWhen you're doing things in the event dispatch thread (like reading 6K messages), you're preventing the event dispatch thread from repainting the GUI
p60507
aVLong tasks must not be done in the event dispatch thread, but in a separate background thread
p60508
aVUse a SwingWorker
p60509
aVIts javadoc explains how to use it, as well as the swing tutorial
p60510
as(dp60511
g23
V571407
p60512
stp60513
a((dp60514
g2
(lp60515
VA map is a dictionary
p60516
aVFor each key, it has one and only one entry
p60517
aVAnd there's no point in iterating over a map to find a key, since the whole point af a map is to be able to get the entry for a key in a single method call (O(1) for a HashMap):
p60518
aVwill get you the value associated with  in the map
p60519
as(dp60520
g23
V571407
p60521
stp60522
a((dp60523
g2
(lp60524
VMy guess is that it's not Tomcat that sends you the same response, but your browser cache
p60525
aVTry using a POST instead of a GET, or use jQuery's  setting (or a similar trick) to prevent caching from the browser
p60526
as(dp60527
g23
V571407
p60528
stp60529
a((dp60530
g2
(lp60531
VYou're not adding a disjunction
p60532
aVYou're adding N disjunctions containing only one restriction each
p60533
aVThe code should be:
p60534
aVNote that unless you have few questions in your forum, these searches will be slow
p60535
aVSQL queries are not the best way to handle full text search
p60536
aVI would look at Lucene (that Hibernate Search uses, BTW) for such a task
p60537
as(dp60538
g23
V571407
p60539
stp60540
a((dp60541
g2
(lp60542
VSimply cancel the future returned by :
p60543
as(dp60544
g23
V571407
p60545
stp60546
a((dp60547
g2
(lp60548
VIf I understand correctly, you want to format the date using the GMT time zone
p60549
as(dp60550
g23
V571407
p60551
stp60552
a((dp60553
g2
(lp60554
VYou would do it the same way as you would do in Java: by using a counter variable initialized outside of the outermost loop:
p60555
aVSo in JSTL, it would become
p60556
as(dp60557
g23
V571407
p60558
stp60559
a((dp60560
g2
(lp60561
VThe value of an input is a string, not a number
p60562
aVYou need to use  or  to convert your string to a number before adding them
p60563
as(dp60564
g23
V571407
p60565
stp60566
a((dp60567
g2
(lp60568
VYou're overriding  but don't call
p60569
aVSo the normal painting of the components done by the JFrame's  method implementation is not executed
p60570
as(dp60571
g23
V571407
p60572
stp60573
a((dp60574
g2
(lp60575
VUse a  to get the value of a date column:
p60576
aVTo convert a string to a java
p60577
aVsql
p60578
aVDate, use a DateFormat to parse the string into a java
p60579
aVutil
p60580
aVDate, and then transform the java
p60581
aVutil
p60582
aVDate into a java
p60583
aVsql
p60584
aVDate:
p60585
as(dp60586
g23
V571407
p60587
stp60588
a((dp60589
g2
(lp60590
VYour app seems to be deployed in the  context path (th HTML page URL is )
p60591
aVBut your form submits to
p60592
aVIt should submit to
p60593
aVTo avoid hard-coding the context path in your pages, use the JSTL  tag:
p60594
aVor prepend the context path explicitely:
p60595
as(dp60596
g23
V571407
p60597
stp60598
a((dp60599
g2
(lp60600
VAs simple as that
p60601
aVHibernate is documented
p60602
as(dp60603
g23
V571407
p60604
stp60605
a((dp60606
g2
(lp60607
VYou're persisting a new Bean (assuming that's the name of your entity)
p60608
aVAnd you told Hibernate that whenever you persist a Bean, persist() must also be called on the zip of the Bean
p60609
aVAnd the bean contains a zip which has an ID of a zip which already exists in the database
p60610
aVSo obviously, you get this exception
p60611
aVEither use merge() instead of persist, or look up the zip from the session, attach the retrieved persistent zip to the bean, and persist the bean
p60612
aVCascading a ManyToOne association is a bit strange
p60613
aVYou have several bean instances sharing a single zip, and whenever you modify one of the beans, the zip is modified for all the other beans
p60614
as(dp60615
g23
V571407
p60616
stp60617
a((dp60618
g2
(lp60619
VThe payment gateway must use a frame or iframe and set the URL of the only visible frame to your website URL
p60620
aVSo the main page is the page of the payment gateway, and this page only contains a frame or iframe which loads your website
p60621
as(dp60622
g23
V571407
p60623
stp60624
a((dp60625
g2
(lp60626
VYou're passing a SQL request, using tables and column names, to a method which expects an HQL request, using entities, mapped fields and associations
p60627
aVSQL and HQL are two different query languages
p60628
aVThe HQL query should be
p60629
aVIf you don't know about HQL, then you really need to read the documentation
p60630
aVUsing Hibernate without knowing HQL is like using JDBC without knowing SQL
p60631
as(dp60632
g23
V571407
p60633
stp60634
a((dp60635
g2
(lp60636
VCreate a dedicated exception, which has the appropriate abstraction level (something like UnstarTrackException)
p60637
aVThrow such an exception, wrapping the original exception you caught
p60638
aVThat way, the caller will only have to handle one exception (I assume all the exceptions should be handled the same way: retrying)
p60639
aVWhether this exception should be checked or not depends on your taste
p60640
aVIf you want to force all the callers of your method to handle this exception, make it a checked exception
p60641
aVIf you want to let the caller choose whether he wants to handle this exception or not, use a runtime exception
p60642
aVIf this method is buried deep inside layers of code, and if an exception can only be handled at the top layer, a runtime exception is probably a better choice
p60643
aVAnd in fact, unless you're the only caller of this method, a runtime exception is also probably a better choice
p60644
aVChecked exceptions tend not to be used much nowadays
p60645
as(dp60646
g23
V571407
p60647
stp60648
a((dp60649
g2
(lp60650
s(dp60651
g23
V571407
p60652
stp60653
a((dp60654
g2
(lp60655
VYes
p60656
aVHolding the monitor of an object prevents another thread from executing another block of code or synchronized on the same object
p60657
aVIf a method is not synchronized, any thread can call it at any time, whether another thread holds a monitor or not
p60658
aVEvery access to a shared stated, even read-only accessed, must be synchronized if there's a chance that at least one thread modifies this shared state
p60659
as(dp60660
g23
V571407
p60661
stp60662
a((dp60663
g2
(lp60664
VNo, it's not good practice
p60665
aVBy doing that, you tie your facade to a specific view technology
p60666
aVBy doing that you also put presentation-layer logic inside the service layer, which goes against the layer separation that you decided to use
p60667
aVAnd finally, it would prevent putting the service layer on another JVM than the presentation layer
p60668
aVYou should extract data from the HTTP request inside the controller, transform this data into objects, with the appropriate types, and pass these objects to the service layer
p60669
aVThis will also make the service layer more testable
p60670
as(dp60671
g23
V571407
p60672
stp60673
a((dp60674
g2
(lp60675
VSet the content type and the headers before sending the body
p60676
aVThey're called headers for a good reason :-)
p60677
as(dp60678
g23
V571407
p60679
stp60680
a((dp60681
g2
(lp60682
V is the result of calling  on a byte array
p60683
aVI don't know which Base64 class you're using, but you should find one which encodes byte arrays to Strings, and not byte arrays to other byte arrays, if you want to use a Writer
p60684
as(dp60685
g23
V571407
p60686
stp60687
a((dp60688
g2
(lp60689
VFirst of all, I wouldn't do that in a document listener
p60690
aVYou already have some method which updates the JTextAea when a line is read from the serial port
p60691
aVI would change the displayed image in this same method:
p60692
aVAnd to change the image, I wouldn't use  at all
p60693
aVSimply have a JLabel somwewhere in your panel, and when a line is received, load the appropriate image icon and set it to the label:
p60694
as(dp60695
g23
V571407
p60696
stp60697
a((dp60698
g2
(lp60699
VUse a thread pool
p60700
aVEach time you receive a request, create a task and submit it to the thread pool
p60701
aVThis will ensure too many requests don't bring the server to its knees, because you'e in control of how many concurrent threads you can have, and how many tasks can wait in the thread pool's queue of waiting tasks
p60702
aVSee the javadoc for Executors and ThreadPoolExecutor
p60703
as(dp60704
g23
V571407
p60705
stp60706
a((dp60707
g2
(lp60708
VNo, it doesn't
p60709
aVIt could read up to 8192 bytes (the deault buffer size of )
p60710
aVIt could also read 0 bytes, or any number of bytes between 0 and 2000, since you don't check the number of bytes that have actually been read, and which is returned by the  method
p60711
aVAnd finally, depending on the value of charset, and of the actual charset used by the HTTP response, this could return an incorrect string, or a String truncated in the middle of a multi-byte character
p60712
aVYou should use a Reader to read text
p60713
aVI suggest you read the Java IO tutorial
p60714
as(dp60715
g23
V571407
p60716
stp60717
a((dp60718
g2
(lp60719
VI've never used it, but andDelegateTo() seems to be exactly what you want:
p60720
as(dp60721
g23
V571407
p60722
stp60723
a((dp60724
g2
(lp60725
VYou can't forward a request to a URL which is external to your webapp
p60726
aVYou probably want to send a redirect to this URL instead
p60727
aVSee
p60728
aVSee difference between jsp forward and redirect
p60729
as(dp60730
g23
V571407
p60731
stp60732
a((dp60733
g2
(lp60734
VIf  is a local variable, you can't
p60735
aVIf it's a field, use  or
p60736
as(dp60737
g23
V571407
p60738
stp60739
a((dp60740
g2
(lp60741
VAdd the following method to you bean:
p60742
aVand use
p60743
as(dp60744
g23
V571407
p60745
stp60746
a((dp60747
g2
(lp60748
VIt looks like all those calls are using the same hibernate session, and sinc you failed to properly initialize both sides of the collection, of course you don't get anything in the collection:
p60749
as(dp60750
g23
V571407
p60751
stp60752
a((dp60753
g2
(lp60754
VBy definition, a buffered writer buffers data and only writes them when it has enough in memory, to avoid too many roundtrips to the file system
p60755
aVIf you handle exceptions properly, and close your stream in a finally block as you should always do, the buffer will be flushed to the disk, and everything written to the buffered writer so far will be written to the disk (unless of course the exception is precisely caused by an error writing to the disk)
p60756
aVSo, the solution is not to flush each time ou write, since it would defeat the purpose of the buffered writer
p60757
aVThe solution is to close in a finally block (or to use the Java 7 trye-with-resources statement, which does that for you)
p60758
as(dp60759
g23
V571407
p60760
stp60761
a((dp60762
g2
(lp60763
VSplit your entries into rows, using Java code, in your controller instead of wanting to do it using JSTL in the view
p60764
aVIt's possible, but everything will be easier by doing it in Java
p60765
aVAnd using a map to contain keys going from 1 to 28 is a bit strange
p60766
aVWhy not just use a list of 28 boolean
p60767
aVAnd in your JSP:
p60768
as(dp60769
g23
V571407
p60770
stp60771
a((dp60772
g2
(lp60773
VYou can't, because you're limited to single inheritance in Java
p60774
aVSo you'll have to implement KeyListener, and provide an implementation for these two methods (which does nothing)
p60775
aVA better design would be to separate the responsibilities, and have a class for the mouse events, another one for the action events, and a third one for the key events
p60776
aVThe classes could be implemented as anonymous inner classes
p60777
as(dp60778
g23
V571407
p60779
stp60780
a((dp60781
g2
(lp60782
VWhen a button is clicked (whatever you use to click it, including the keyboard), it fires an ActionEvent
p60783
aVYou should use an ActionListener instead of a MouseListener
p60784
aVRead the Swing tutorial
p60785
aVIt's also bad practice to extends Swing components
p60786
aVYou should use them
p60787
aVA button shouldn't listen to itself
p60788
aVThe user of the button should listen to the button events
p60789
as(dp60790
g23
V571407
p60791
stp60792
a((dp60793
g2
(lp60794
VThe only thing you need to do is to drop the jar in
p60795
as(dp60796
g23
V571407
p60797
stp60798
a((dp60799
g2
(lp60800
VAll your dates have different millisecond values, that are not printed in your traces
p60801
aVSet the milliseconds to 0
p60802
as(dp60803
g23
V571407
p60804
stp60805
a((dp60806
g2
(lp60807
VThere is no way to avoid the repetition, except in the constructor, since Java 7:
p60808
aVYou would have better code, and less to type, if you encapsulated the HashMap and entries in well-defined classes, though
p60809
aVIt looks like you're using objects as open data structures, instead of using them as closed objects offering behaviour and keeping their state encapsulated
p60810
as(dp60811
g23
V571407
p60812
stp60813
a((dp60814
g2
(lp60815
VI would simply call a method from the main controller, in order to populate the model with the data needed by the included JSP
p60816
aVAnd I would call this same method from every other controller dispatching to a page including the same JSP
p60817
as(dp60818
g23
V571407
p60819
stp60820
a((dp60821
g2
(lp60822
VIt's safe because one thread writes to the list, then one other thread reads from the list, and the executor service guarantees a happen-before relationship when you submit a task
p60823
aVQuote from the documentation:
p60824
aVThe methods of all classes in java
p60825
aVutil
p60826
aVconcurrent and its subpackages
p60827
aVextend these guarantees to higher-level synchronization
p60828
aVIn
p60829
aVparticular:
p60830
ag7651
aVActions in a thread prior to the submission of a Runnable to an Executor happen-before its execution begins
p60831
aVSimilarly for Callables
p60832
aVsubmitted to an ExecutorService
p60833
as(dp60834
g23
V571407
p60835
stp60836
a((dp60837
g2
(lp60838
VThe documentation says:
p60839
aVIf the Session throws an exception, including any SQLException, immediately rollback the database transaction, call Session
p60840
aVclose() and discard the Session instance
p60841
aVCertain methods of Session will not leave the session in a consistent state
p60842
aVNo exception thrown by Hibernate can be treated as recoverable
p60843
aVSo using , catching an exception, and continuing using the session is a big no-no
p60844
aVmust be used when you consider that the object MUST exist in the database, and an exception must be thrown if it doesn't
p60845
aVIf you're not sure that the object exists, use , test if the returned object is null, and act accordingly
p60846
as(dp60847
g23
V571407
p60848
stp60849
a((dp60850
g2
(lp60851
VIf this main class does nothing other than passing its argument to somewhere else, then it's not its responsibility to validate the string
p60852
aVIf this string finally goes to a class which uses it in a SQL query, then it's the responsibility of this class to use a prepared statement and thus make sure no SQL injection attack is possible
p60853
aVIf this string ends up being part of a generated HTML page, then it's the responsibility of the HTML generator to HTML-escape the string
p60854
aVA string, by itself, is never harmful
p60855
aVIf you have to validate it, then you need to know when it is valid, and when it's not
p60856
aVAnd it depends on the context
p60857
as(dp60858
g23
V571407
p60859
stp60860
a((dp60861
g2
(lp60862
VBy submitting the form containing the text box, or by reading the box value in JavaScript and sending an AJAX request to the JSP
p60863
as(dp60864
g23
V571407
p60865
stp60866
a((dp60867
g2
(lp60868
VYou can't
p60869
aVA Java array has a fixed length
p60870
aVIf you need a resizable array, use a
p60871
aVBTW, your code is invalid: you don't initialize the array before using it
p60872
as(dp60873
g23
V571407
p60874
stp60875
a((dp60876
g2
(lp60877
V is not a valid attribute of
p60878
aVThe field should be
p60879
aVIf it's not submitted, it's probably because the field is outside of the form instead of being inside
p60880
aVBut it's just a guess, since you don't provide enough code to know
p60881
aVUse Firebug or the chrome developer console to know what is being submitted
p60882
as(dp60883
g23
V571407
p60884
stp60885
a((dp60886
g2
(lp60887
VOpen a FileOutputStream, write the bytes, close the stream in a finally block (or use the Java 7 try-with-resources)
p60888
as(dp60889
g23
V571407
p60890
stp60891
a((dp60892
g2
(lp60893
VYour  join table has an  column, that Hibernate doesn't know about
p60894
aVAll hibernate knows about is the  and  columns
p60895
aVThe  column isn't useful, and you should remove it from the  table
p60896
aVIf you leave it there, you need to make it nullable, or to make it have a default value
p60897
as(dp60898
g23
V571407
p60899
stp60900
a((dp60901
g2
(lp60902
V doesn't take a file path as argument
p60903
aVIt takes a path to a resource loaded from the classpath
p60904
aVSo your file must be in one of the jars (or directories) in the classpath of your app, and if it's in the package , the path should be
p60905
as(dp60906
g23
V571407
p60907
stp60908
a((dp60909
g2
(lp60910
VIf I understand correctly, this test is a test foe
p60911
aVAnd you would like to test that, given a source, the correct MyClass paremeter is created by the mapper, and passed to
p60912
aVSo in fact, your unit test for  actually tests the  method
p60913
aVThat's wrong
p60914
aVYou should write a unit test for  to test that
p60915
aVOnce you've ensured that  works as expected, you can test  by mocking the  method, and verify that the result of this mocked method is passed to the mocked service (although this test wouldn't add much value)
p60916
aVTo be complete, if you really want to go your way and check the value passed to , then you should use a capture
p60917
as(dp60918
g23
V571407
p60919
stp60920
a((dp60921
g2
(lp60922
VSince your int values go from 0 to 2, without hole, you could indeed simply use an array
p60923
aVA switch would also be fine, although it would probably be slightly slower than an array lookup
p60924
aVBut unless you call the method billions of times, it won't make any noticeable difference
p60925
aVUse what you find the clearest and easiest to understand and maintain
p60926
as(dp60927
g23
V571407
p60928
stp60929
a((dp60930
g2
(lp60931
VYou can return a different type, as long as it's compatible with the return type of the overridden method
p60932
aVCompatible means: it's a subclass, sub-interface, or implementation of the class or interface returned by the overridden method
p60933
aVAnd that's logical
p60934
aVIf a method returns an Animal, and your derived class returns a Cow, you're not breaking the contract of the superclass method, since a Cow is an Animal
p60935
aVIf the derived class returns a Banana, that isn't correct anymore, since a Banana is not an Animal
p60936
as(dp60937
g23
V571407
p60938
stp60939
a((dp60940
g2
(lp60941
VBecause  is an implementation detail
p60942
aVOne implementation of the method might need to make the method synchronized, whereas another one might not need it
p60943
aVThe caller doesn't care whether the method is synchronized or not
p60944
aVIt's not part of the contract, which tells what the method does
p60945
aVWhich synchronization technique, if any, is used to fulfill the contract is irrelevant
p60946
as(dp60947
g23
V571407
p60948
stp60949
a((dp60950
g2
(lp60951
VWhat you're doing wrong is calling
p60952
aVThis constructs a new instance of Test, but in the back of CDI
p60953
aVFor CDI to inject your Test instance, CDI has to create it itself
p60954
aVSee the documentation for how to boostrap Weld in a Java SE environment
p60955
as(dp60956
g23
V571407
p60957
stp60958
a((dp60959
g2
(lp60960
VConvert the entrySet to an array, loop through this array:
p60961
as(dp60962
g23
V571407
p60963
stp60964
a((dp60965
g2
(lp60966
VOnce you have all the indices, you just need to use substring
p60967
aVRead the String javadoc
p60968
as(dp60969
g23
V571407
p60970
stp60971
a((dp60972
g2
(lp60973
VA Node is typically used in a linked list, and the node with a null next node is the last one of the list (since it doesn't have any next node)
p60974
aVThe next node of a node will be the one you initialize, by doing
p60975
aVNote that fields should be private by default, and should almost never be public
p60976
aVUse methods to modify the state of objects
p60977
as(dp60978
g23
V571407
p60979
stp60980
a((dp60981
g2
(lp60982
VYou want a join:
p60983
aVYou should really rename your  column to something else
p60984
aVThe cells of this column don't contain players, but a player ID
p60985
aVI would rename it
p60986
as(dp60987
g23
V571407
p60988
stp60989
a((dp60990
g2
(lp60991
VThe Date constructor expects year, month and day, in this order
p60992
aVYou pass day, month and year
p60993
as(dp60994
g23
V571407
p60995
stp60996
a((dp60997
g2
(lp60998
VThe  is supposed to be the name of a property of the command oject associated with the form
p60999
aVIn the case of a radiobutton tag, the radio button will be checked if the value in the property referenced by the path attribute has the same value as the value references by the  attribute
p61000
aVSo, if the command object has a  property, and if  returns "hello", and the  returns "hello", the following tag
p61001
aVwill generate the following checked HTML radio input:
p61002
aVIf  returns "goodbye", then the following tag
p61003
aVwill generate the following unselected HTML radio input:
p61004
as(dp61005
g23
V571407
p61006
stp61007
a((dp61008
g2
(lp61009
VThe X type should probably be a generic type:
p61010
as(dp61011
g23
V571407
p61012
stp61013
a((dp61014
g2
(lp61015
VEither you use a simple (i
p61016
ag468
aVnot prepared statement), and you can't pass any parameter:
p61017
aVOr (and in your case, that's what you should do), you use a prepared statament and pass parameters:
p61018
aVIn your code, you're using a simple statement and try to execute a SQL query which needs parameters
p61019
aVThat's not possible
p61020
aVYou need a prepared statement to do that
p61021
aVMore information in the JDBC tutorial
p61022
as(dp61023
g23
V571407
p61024
stp61025
a((dp61026
g2
(lp61027
VEncapsulate the list in your own object, and do whatever you want before or after adding an element into the list:
p61028
as(dp61029
g23
V571407
p61030
stp61031
a((dp61032
g2
(lp61033
VIf I understand correctly, you would like to create a JSP custom tag accepting dynamic attributes
p61034
aVSee http://docs
p61035
aVoracle
p61036
aVcom/javaee/6/api/javax/servlet/jsp/tagext/DynamicAttributes
p61037
aVhtml
p61038
aVYour tag must be declared with
p61039
aVin the TLD, and it must implement the  interface
p61040
as(dp61041
g23
V571407
p61042
stp61043
a((dp61044
g2
(lp61045
VYou're trying to get a connection for the URL
p61046
aVChange
p61047
aVto
p61048
aVAnd learn more about JDBC: connections should always be closed in a finally block, and you should use a connection pool (and thus a DataSource) to get connections
p61049
as(dp61050
g23
V571407
p61051
stp61052
a((dp61053
g2
(lp61054
VThe Site class should be generic:
p61055
as(dp61056
g23
V571407
p61057
stp61058
a((dp61059
g2
(lp61060
VYou're probably running the application in development mode, where everything is compiled and initialized lazily, on the first request
p61061
aVThe production mode compiles everything before actually starting the server
p61062
aVSee http://www
p61063
aVplayframework
p61064
aVorg/documentation/1
p61065
ag12
aV5/production
p61066
as(dp61067
g23
V571407
p61068
stp61069
a((dp61070
g2
(lp61071
VFrom the documentation:
p61072
aVTo serve binary data, such as a file stored on the server, use the renderBinary method
p61073
aVFor example, if you have a User model with a play
p61074
aVdb
p61075
aVjpa
p61076
aVBlob photo property, add a controller method to load the model object and render the image with the stored MIME type:
p61077
as(dp61078
g23
V571407
p61079
stp61080
a((dp61081
g2
(lp61082
VIf I understand correctly, you have the ID of a user, and you want to get the friends of the user identified by this ID
p61083
aVThe easiest way is to do
p61084
aVIf you want to do it using a JPQL query, you just need
p61085
aVNote that your mapping isn't right: scuserCollection1 and beachCollection are both mapped by the same attribute
p61086
aVYou should also choose better names for your associations (like  for example, instead of )
p61087
as(dp61088
g23
V571407
p61089
stp61090
a((dp61091
g2
(lp61092
VThe main problems with your code are the non-respect of Java naming conventions, the lack of transaction, and the poor session handling code
p61093
aVGiven your usage of @Autowired, I guess you're using Spring
p61094
aVYou should thus use Spring session and transaction management to have a contextual session (i
p61095
ag468
aVuse  instead of ), tied to the current Spring declarative transaction
p61096
aVThe Spring documentation has a whole chapter dedicated to Hibernate
p61097
aVRead it
p61098
aVAlso,  should be named
p61099
as(dp61100
g23
V571407
p61101
stp61102
a((dp61103
g2
(lp61104
VThe problems I see, in addition to the ones seen by Hovercraft are:
p61105
aVyou're not overriding any KeyListener (or KeyAdapter) method
p61106
aVYour method is named , and methods always start with a lower-case letter in Java
p61107
aVThe method is named
p61108
aVAlways use the @Override annotation when your intention is to override a method
p61109
aVThat way, when you don't because you have a typo in the method name, you'll get a compiler error:
p61110
aVyou're not calling repaint() when a key is pressed, so there's no reason Swing repaints your frame
p61111
as(dp61112
g23
V571407
p61113
stp61114
a((dp61115
g2
(lp61116
VDon't try to generate JSON by yourself
p61117
aVGenerate a data structure, and use a JSON parser/generator to actually transform this data structure into a JSON string
p61118
aVThe generator will take care of escaping the characters for you
p61119
aVThere are dozens of JSON APIs freely available
p61120
aVSee http://json
p61121
aVorg/ for a list
p61122
as(dp61123
g23
V571407
p61124
stp61125
a((dp61126
g2
(lp61127
VYou have serious concurrency issues in your servlet
p61128
aVA single instance of the servlet is used to serve all the requests to this servlet
p61129
aVSo a servlet should be stateless
p61130
aVBut the first thing you're doing is
p61131
aVThis means that if two concurrent requests are made to the servlet, you might have the first one set these two instance variables, then the second one resetting the same instance variables
p61132
aVThe first image would thus be sent as a response to the second request, and nothing would be sent as a response to the first request
p61133
aVAnd this is only one of the strange things that could happen
p61134
aVYou could also have exceptions and inconsistent data
p61135
aVDon't store the request and response (and any other state) in instance variables
p61136
aVPass them from method to method
p61137
aVI've not analyzed the whole code, but the only instance field that you should have in the servlet is sessionFactory field
p61138
as(dp61139
g23
V571407
p61140
stp61141
a((dp61142
g2
(lp61143
VThe SQL query has a group by, and orders by count
p61144
aVThe JPA query doesn't have any group by and orders by user name
p61145
aVSo I don't see how they could return the same thing
p61146
aVThe equivalent JPQL query is
p61147
aVIf you call  on the Query object, the limit clause will be added to the generated SQL query, making it completely equivalent
p61148
as(dp61149
g23
V571407
p61150
stp61151
a((dp61152
g2
(lp61153
VFirst of all, you don't have a bidirectional OneToMany association, but two unrelated unidirectional associations
p61154
aVIn a bidirectional OneToMany association the One side must be marked as the inverse of the Many side using the  attribute:
p61155
aVSecond, using the criteria API for such static queries is overkill, and leads to code that is harder to read than necessary
p61156
aVI would simply use HQL which is much easier to read
p61157
aVCriteria should be used for dynamic queries, IMHO, but not for static ones:
p61158
aVWhether you use HQL or Criteria, you can't use , since  is a collection
p61159
aVA collection doesn't have a customer attribute
p61160
aVTo be able to reference properties from the Dealing entity, you need a join, as shown in the above HQL query
p61161
aVAnd it's the same for Criteria:
p61162
as(dp61163
g23
V571407
p61164
stp61165
a((dp61166
g2
(lp61167
VA HashMap uses  and  to find the entry from a given key
p61168
aVAnd a byte array will only ever be equal to itself
p61169
aVIt won't be equal to another byte array, even if this other byte array has the same length and the same bytes
p61170
aVYou should wrap the arrays inside a Key class which override  and  to make that work
p61171
as(dp61172
g23
V571407
p61173
stp61174
a((dp61175
g2
(lp61176
VProbably because  needs to box an int to an Integer, whereas  doesn't need to
p61177
aVThe VM could also optimize the loop, understanding that executing a single iteration would lead to the same result as executing 1 billion
p61178
aVBeware of simplistic micro-benchmarks
p61179
as(dp61180
g23
V571407
p61181
stp61182
a((dp61183
g2
(lp61184
VYou could use a ScheduledExecutorService, and submit a Runnable or Callable which calls your method
p61185
as(dp61186
g23
V571407
p61187
stp61188
a((dp61189
g2
(lp61190
VYou're basically asking how TCP works
p61191
aVWhich is quite a large subject
p61192
aVBasically, it can be resumed as is: Tomcat listens for connections on a given TCP port (8080 by default)
p61193
aVEach time some browser opens a connection to Tomcat, this connection is identified by the IP address of the remote host, and by the TCP port used by this host to connect to Tomcat
p61194
aVA  HTTP request is sent by the browser over this connection, and when the request comes in to Tomcat, Tomcat assigns a thread from its pool of threads to handle the request
p61195
aVWhen the response has been generated and sent, the thread goes back to the pool, ready to serve another request from any client
p61196
aVThe TCP stack itself is not implemented by Tomcat, but by the OS
p61197
aVThe Java runtime provides java
p61198
aVio
p61199
aVSocket and other related classes, which use the underlying TCP IP stack provided by the OS
p61200
aVAnd Tomcat relies on java
p61201
aVnet
p61202
aVSocket and the other related classes
p61203
as(dp61204
g23
V571407
p61205
stp61206
a((dp61207
g2
(lp61208
VThere's no reason launching an application once works fine, and launching it a second time doesn't do anything, since they're launched in a different JVM
p61209
aVThere could be a problem if the first launch tries to open a TCP socket, or lock a file, and the second launch tries doing the same thing
p61210
aVBut I think the explanation is that you checked the "single instance only" checkbox in the Run Configuration, which is precisely used to make IntelliJ only launch one instance of your application instance at once
p61211
aVIf that's not the case provide more details: what happens when you launch the second app
p61212
aVDo you get an exception
p61213
aVIf so, what's the stack trace
p61214
aVIf not, what does your application do
p61215
as(dp61216
g23
V571407
p61217
stp61218
a((dp61219
g2
(lp61220
VIf I understand correctly, your tag generates HTML code containing another custom tag instance
p61221
aVSo in fact, it doesn't generate HTML, but JSP code
p61222
aVThat's not allowed
p61223
aVThe JSP container won't re-parse and interpret the code your tag generates
p61224
aVBut there's no reason you can't call your tag methods (or your JSP tag, if implemented as a tag file) yourself to implement recursion
p61225
aVHere's a simple example using a JSP tag file (tree
p61226
aVtag, taking a collection of nodes as parameter):
p61227
as(dp61228
g23
V571407
p61229
stp61230
a((dp61231
g2
(lp61232
VTo answer your question, yes, you need some form of synchronization
p61233
aVSince your shared state is a single variable, and this variable is of type , a write will be atomic (it would not be the case if the variable was a long or a double)
p61234
aVBut you still need synchronization to make sure that you have no visibility problem: thread A could write to the variable, and thread B could not see the written value, but a previous one
p61235
aVThe synchronization can be implemented using synchronized, volatile, or an AtomicInteger in this case
p61236
aVAll these techniques will ensure that the write will be visible to any subsequent read of the variable
p61237
as(dp61238
g23
V571407
p61239
stp61240
a((dp61241
g2
(lp61242
V8080 is the port of the web server hosting the webapp allowing to access the database
p61243
aVThe database itself doesn't listen on this port
p61244
aVAFAIR, the default port of Oracle database is 1521
p61245
aVRead http://docs
p61246
aVoracle
p61247
aVcom/cd/B25329_01/doc/appdev
p61248
aV102/b25320/getconn
p61249
aVhtm for more information
p61250
as(dp61251
g23
V571407
p61252
stp61253
a((dp61254
g2
(lp61255
VThat looks like a javac bug
p61256
aVjavac compiles it fine in JDK7
p61257
aVIt doesn't in JDK6 (javac 1
p61258
ag23604
aV0_24), both from IntelliJ and from the command line
p61259
as(dp61260
g23
V571407
p61261
stp61262
a((dp61263
g2
(lp61264
VYes, it's an expected behavior
p61265
aVAn interceptor or proxy wraps the target bean, intercepts calls made from the outside to the bean, and then delegates to the target bean
p61266
aVIt doesn't know about internal calls
p61267
aVByte-code instrumentation would be needed to intercept internal calls
p61268
as(dp61269
g23
V571407
p61270
stp61271
a((dp61272
g2
(lp61273
VStart the DataCollector when the webapp is deployed (using a ServletContextListener), stop it when the webapp is destroyed (using the same listener), and make the DataCollector a singleton or store it in a servlet context attribute to be able to get it from any component of the webapp
p61274
aVThat said, are you sure you couldn't simply read from the database table every time you need to send the data to the response
p61275
aVDatabases are very fast, especially on small tables
p61276
as(dp61277
g23
V571407
p61278
stp61279
a((dp61280
g2
(lp61281
VYour second loop shows the pair that was last created in the first loop
p61282
aVYou probably made the Pair field static, which means that all the Pair instances share a unique version
p61283
aVA static field belongs to the class it's defined in
p61284
aVA non-static field belongs to the instance of the class
p61285
aVRead the Java tutorial about this topic
p61286
as(dp61287
g23
V571407
p61288
stp61289
a((dp61290
g2
(lp61291
VIn your  method, the map is declared as
p61292
aVSo you're using the raw (non-generic) TreeMap type, and the compiler doesn't know the type of the keys and values stored in the map
p61293
aVAll it knows is that they're Object instances
p61294
aVDeclare the map as  or even , and everything will be fine
p61295
aVAnd while you're at it, rename  to
p61296
aVClasses start with an upper-case letter in Java
p61297
as(dp61298
g23
V571407
p61299
stp61300
a((dp61301
g2
(lp61302
VI personally prefer to have the SQL query in the Java file where it's executed
p61303
aVThat makes it easier to maintain the code: no need to switch between several files
p61304
aVThat said, storing the SQL queries in an external file (properties or XML or whatever) is very simple
p61305
aVIf you need to insert a variable, you would use a prepared statement anyway, so your SQL would look like
p61306
aVThe only difficulty is with the SQL queries that are dynamically generated (fom a set of optional search criteria for example)
p61307
aVBut there are APIs that allow generating this kind of SQL queries without concatenating parts of a query
p61308
as(dp61309
g23
V571407
p61310
stp61311
a((dp61312
g2
(lp61313
V{0} found, displaying {2} to {3}
p61314
as(dp61315
g23
V571407
p61316
stp61317
a((dp61318
g2
(lp61319
VHibernate allows making any property laoded lazily
p61320
aVFor basic properties (such as our XML property), bytecode instrumentation is needed though
p61321
aVThis is all described in the documentation
p61322
aVSo, if you mark this property as laz and execute your query, The XML property won't be loaded until you actually access the lazy property afterwards
p61323
as(dp61324
g23
V571407
p61325
stp61326
a((dp61327
g2
(lp61328
VA simple way would be to make a copy of the tree, find all the files which contain the word, and delete them
p61329
aVThe remaining files are the ones which don't contain the word
p61330
as(dp61331
g23
V571407
p61332
stp61333
a((dp61334
g2
(lp61335
VMonths are 0 based (so 1 is February), and years are 1900-based (so 2013 is 3913)
p61336
aVThat's explained in the Date javadoc
p61337
aVThe javadoc also says that this constructor is deprecated, so you shouldn't use it anyway
p61338
as(dp61339
g23
V571407
p61340
stp61341
a((dp61342
g2
(lp61343
VYes, there will be a resource leak
p61344
aVA FileInputStream should always be closed
p61345
aVWhen the GC runs, the  method should be called and the stream will be closed at that time, but you shouldn't rely on that
p61346
aVThe way to check that there will be a resource leak is by reading the javadoc, which explains it
p61347
aVBasically, all the classes implementing the Closeable interface should be closed explicitely
p61348
as(dp61349
g23
V571407
p61350
stp61351
a((dp61352
g2
(lp61353
VThe problem is in these two lines:
p61354
aVreturns an int
p61355
aVWhy are you storing it into a long
p61356
aVThen once you have this long, you test if the long is equal to the String
p61357
aVA long will never be equal to a String, since they're not even of the same type
p61358
aVEither use
p61359
aVor
p61360
aVAnd please respect the Java naming conventions: variables start with a lower-case letter
p61361
as(dp61362
g23
V571407
p61363
stp61364
a((dp61365
g2
(lp61366
VYou're building your project with Maven, and Maven expects non-Java files to be in , and not in  (which should only contain
p61367
aVjava files)
p61368
aVSo your properties file is not copied to the target directory and included into the deployed application
p61369
as(dp61370
g23
V571407
p61371
stp61372
a((dp61373
g2
(lp61374
VYes, there are other approaches
p61375
aVBasically, you have a Member entity, and this entity has two subclasses: StudentMember and StaffMember
p61376
aVThe StaffMember has an association with a Staff, and the StudentMamber has an association with a Student
p61377
aVThis inheritance can be mapped in three different ways
p61378
aVeverything in a single table
p61379
aVThis would lead to your first database design: the user_role column is the discriminator column, and either student_id or staff_id is null
p61380
aVEach concrete class has its own table
p61381
aVThis would lead to two identical tables, except one would have a student_id column and one would have a staff_id column
p61382
aVEach class has its own table
p61383
aVThis would lead to 3 tables: one (member) which would contain all the common columns (id, banned, group_id, etc
p61384
aV, one which would contain only the StudentMember specific columns (the ID, referencing the member table, and the student ID), and one which would contain the StaffMember specific columns (the ID, referencing the member table, and the staff ID)
p61385
aVAll the approaches have pros and cons:
p61386
aVthe first one leads to nullable join columns, but is very efficient (no need for joins to load all the members of a group, for example)
p61387
aVIt's also impossible for another table to have a FK to a StudentMember, but only to a Member
p61388
aVthe second one leads to column duplications, and needs joins to load members (but no join to load StudentMember or StaffMember), but it has no nullable foreign keys, and it's possible to have a FK to a StaffMember or a StudentMember, but not to any Member
p61389
aVthe third one is inefficient, because it needs joins for every query
p61390
aVBut it has no column duplication, and you can have foreign keys to whatever you want
p61391
aVGiven that you onlyhave one column which differs between the sub-entities, I would go for the first solution, which is easier to understand, query and optimize, and leads to much simpler queries
p61392
aVAll these inheritance strategies are described in the documentation
p61393
as(dp61394
g23
V571407
p61395
stp61396
a((dp61397
g2
(lp61398
VUse , and you'll have the enum in your entities, mapped as the ordinal int value in the database table
p61399
aVThat's the default mapping for enums, if I'm not mistaken, so you can even remove the  annotation, and Hibernate will persist the enum as an int automatically
p61400
aVPS: you should also respect the Java naming conventions:  should be , and  should be
p61401
as(dp61402
g23
V571407
p61403
stp61404
a((dp61405
g2
(lp61406
VIf you mean that you want to forward from one webapp to another webapp, then this is not possible
p61407
aVEvery webapp is isolated from the other webapps
p61408
aVEach has its awn classes, libraries and sessions, different from the other one
p61409
aVSo passing HttpRequest objects from one to the other doesn't make sense
p61410
aVYou should probably redirect to the other webapp
p61411
aVBTW, action chaining is discouraged by Struts, even when it's possible, inside a single wepapp
p61412
aVEDIT: it appears that you're using modules
p61413
aVSo do what the documentation says:
p61414
aVThere are three approaches for switching from one module to another
p61415
aVYou can use the org
p61416
aVapache
p61417
aVstruts
p61418
aVactions
p61419
aVSwitchAction from the Extras JAR,
p61420
aVyou can use a  (global or local) and specify the contextRelative attribute with a value of true,
p61421
aVor you can specify the "module" parameter as part of any of the Struts JSP hyperlink tags (Include, Img, Link, Rewrite, or Forward)
p61422
as(dp61423
g23
V571407
p61424
stp61425
a((dp61426
g2
(lp61427
V does two things:
p61428
aVcreate a new instance of Math
p61429
aVcast the created Math instance to Class
p61430
aVSince Math extends Class, every Math instance is a Class instance, and you don't need any cast to assign a Math instance to a variable of type Class
p61431
aVThe cast is thus completely useless
p61432
aVAnd since you don't assign the created Math instance to any variable, the cast is even more useless
p61433
as(dp61434
g23
V571407
p61435
stp61436
a((dp61437
g2
(lp61438
VThe struts tag doesn't have anything to do with the problem
p61439
aVAll it can do is generate an select box containing options retrieved from the form bean
p61440
aVThe problem is that an HTML select box only submits its selected option(s)
p61441
aVThat's what it's for
p61442
aVIf you want to submit all the options, make your select box multi-selection, and make sure that all the options are selected before submitting the form (using JavaScript, in the form submit event handler)
p61443
aVOr if you want to keep the select box as it is, create a hidden field for every option of the select box before the form is submitted (still using JavaScript, in the form submit event handler)
p61444
as(dp61445
g23
V571407
p61446
stp61447
a((dp61448
g2
(lp61449
VThe problem should be solved by the caller
p61450
aVWhen it instanciate your class with a concrete type for T, it should also pass an instance of  with the same concrete type:
p61451
as(dp61452
g23
V571407
p61453
stp61454
a((dp61455
g2
(lp61456
VIt looks like your HQL query uses table and column names instead of using entities, fields and associations
p61457
aVYou haven't shown your entities, but if they respect the usual conventions, the HQL query should look like
p61458
aVYou should also use parameterized queries instead of String concatenation
p61459
aVThat makes your code less efficient, and subject to SQL injection attacks or simply escaping problems:
p61460
as(dp61461
g23
V571407
p61462
stp61463
a((dp61464
g2
(lp61465
VYou're looking at the wrong place
p61466
aVAs its name indicates, ClassMetadata contains metadata about a class, and not about a database table and its columns
p61467
aVTo get information about the columns of a table, use JDBC's DatabaseMetaData
p61468
as(dp61469
g23
V571407
p61470
stp61471
a((dp61472
g2
(lp61473
VNo, it's not
p61474
aVFirst of all, the loop at the end doesn't make much sense
p61475
aVwill always return the same value: the submitted task is excuted only once, and  will return the result of this single execution
p61476
aVAnd anyway, what's the point of starting a new thread if the initial thread immediately stops, waiting for the started thread to be finished
p61477
aVDoing everything in the initial thread would be much simpler, and more efficient
p61478
as(dp61479
g23
V571407
p61480
stp61481
a((dp61482
g2
(lp61483
VYou explicitely chose property access for your entity
p61484
aVThis means that the setters are called to populate your entity
p61485
aVBut your setter is not really a setter
p61486
aVSo rename this method to something else, and add a real setter, or use field access rather than property access
p61487
aVIMHO, hashing the password should not be done by the entity, and even less by a setter
p61488
aVThe expected behavior is that the getter should return the value that has been set by the setter
p61489
as(dp61490
g23
V571407
p61491
stp61492
a((dp61493
g2
(lp61494
VIs it necessary to have Thread
p61495
aVsleep() in the try statement of MyConsumer
p61496
aVjava
p61497
aVNo
p61498
aVThe sleep call, I presume, is there to make sure that  is executed with an interval of 1 second between every invocation, rather than executed continuously
p61499
aVIf you want this 1 second interval, you need to leave the sleep call there
p61500
aVIf you want  to be executed continuously, then you need to remove the sleep
p61501
aVInstead of checking for my boolean flag, running, should I remove the concept of a flag and just check for while(
p61502
aVThread
p61503
aVcurrentThread()
p61504
aVisInterrupted)
p61505
aVYes, that's what I would indeed do
p61506
aVIt would remove the need for the flag, and would allow stopping the thread as soon as possible, rather than having to wait for the sleep call to return, after 1 second
p61507
aVThe other advantage is that you can check if the thread is interrupted inside the  method, in case it's a long-running method that you want to stop ASAP
p61508
as(dp61509
g23
V571407
p61510
stp61511
a((dp61512
g2
(lp61513
VI would indeed add an auto-generated ID to the Friend entity
p61514
aVIt would make things much simpler (no composite key containing associations)
p61515
aVI don't see how adding such an ID (and thus such an additional column in the Friend table) would make any query more complex, or introduce a new table
p61516
aVIt won't
p61517
aVYou'll simply have an additional column, being the primary key of the friend table
p61518
aVOnce you have that, you'll need to fix your mapping:
p61519
aVthe association between Friend and Person is not a OneToOne, but a ManyToOne, since several persons can be the friends of another one
p61520
aVis supposed to hold the name of the field, in the other entity, which represents the other side of the association
p61521
aVIn your case, it's thus "key
p61522
aVowner"
p61523
aVIf you stop using a composite key, it will simply be "owner"
p61524
aVAnd finally, in a bidirectional OneToMany association, the owner is always the Many side (i
p61525
ag468
aVFriend, in this case)
p61526
aVSo you must initialize the friend
p61527
aVowner field in order to persist the association
p61528
aVBut if you encapsulate the list of friends rather than letting it accessible from the oustide, it will be simple
p61529
aVInstead of doing
p61530
aVsimply do
p61531
aVand make sure that the addFriend() method contains the following instruction:
p61532
as(dp61533
g23
V571407
p61534
stp61535
a((dp61536
g2
(lp61537
VThe syntax is the same as if the method was in a class:
p61538
as(dp61539
g23
V571407
p61540
stp61541
a((dp61542
g2
(lp61543
VLearn the JSTL and the JSP EL, and use it instead of these obsolete struts tags:
p61544
aVAFAIR, the JSTL exists for something like 10 years
p61545
aVAnd since then, the Struts documentation says:
p61546
aVNote: - Many of the features in this taglib are also available in the JavaServer Pages Standard Tag Library (JSTL)
p61547
aVThe Apache Struts group encourages the use of the standard tags over the Struts specific tags when possible
p61548
as(dp61549
g23
V571407
p61550
stp61551
a((dp61552
g2
(lp61553
s(dp61554
g23
V571407
p61555
stp61556
a((dp61557
g2
(lp61558
VYour mapping is wrong
p61559
aVYou have a unidirectional OneToMany association
p61560
aVSO you obviously must tell Hibernate how this association is mapped
p61561
aVAnd what you tell is:
p61562
aVThis means: "Go look at the other side of this bidirectional association to find how this association is mapped
p61563
aVI'm only the inverse side"
p61564
aVBut there is no other side
p61565
aVYour association is unidirectional
p61566
aVThe mapping should be:
p61567
aVNote that the  field has been removed, since it's already used to map the children association
p61568
aVAnother problem is your expectations
p61569
aVA query returns columns, or it returns entities
p61570
aVIf it returns a parent entity and you ask this entity for its children, all the children will be returned
p61571
aVAN entity represents what is in the database
p61572
aVIt doesn't represent the result of a specific query
p61573
aVWhat you could do, if you only want to have some of the children, is to search for children, and get their parent
p61574
aVTo do that, you would need to make the association bidirectional:
p61575
aVAnd the query would be:
p61576
aVThis would return all the children with testId = 1, along with their parent
p61577
aVYou would need a second query to get all the other parents
p61578
aVSomething like
p61579
as(dp61580
g23
V571407
p61581
stp61582
a((dp61583
g2
(lp61584
VThe line
p61585
aVis equivalent to
p61586
aVbut without the temporary variable
p61587
aVIt's just method chaining
p61588
aVis an expression whose type is , since the  method returns a
p61589
aVSo you can call methods of  on this expression
p61590
aVNote that  is an HttpServletRequest, and not an  as your question says
p61591
as(dp61592
g23
V571407
p61593
stp61594
a((dp61595
g2
(lp61596
VCreate a prepared statement:
p61597
aVThen loop through your list, and at each iteration, do
p61598
aVFor better performance, you could also use batch updates
p61599
aVRead the JDBC tutorial
p61600
as(dp61601
g23
V571407
p61602
stp61603
a((dp61604
g2
(lp61605
VYou're making it harder than necessary
p61606
aVJust use the following task, and the META-INF folder will be included in the jar if it exists, and ignored if it doesn't:
p61607
as(dp61608
g23
V571407
p61609
stp61610
a((dp61611
g2
(lp61612
VSo you have two lists, and you add an object to one of these two lists, and expect to find it in the second one
p61613
aVWhy would it be in the second list
p61614
aVThey're two different lists
p61615
aVJava objects are like real objects
p61616
aVIf you put a message in a bottle, the message won't be in all the other bottles
p61617
aVOnly in the one where you put it
p61618
as(dp61619
g23
V571407
p61620
stp61621
a((dp61622
g2
(lp61623
VChange the value of your serialVersionUID static field from 1 to 6313827182653283573, since that's the value it had when you serialized the object
p61624
aVThis will make it possible to deserialize the object, provided the class still has the exact same non-transient fields as it had when serializing it (which could not be true, since you introduced or changed the serialVersionUID field since then and forgot about it)
p61625
as(dp61626
g23
V571407
p61627
stp61628
a((dp61629
g2
(lp61630
VWhat you tried is almost correct
p61631
aVThe  must be set to
p61632
aVSome notes though:
p61633
aValways put your classes in a package
p61634
aVNot in the default package
p61635
aVgenerate valid HTML5
p61636
aVis a tag that shouldn't be used for a long time, and your select box is invalid HTML
p61637
aVLearn servlet 3
p61638
aV0 rather than servlet 2
p61639
ag1458
as(dp61640
g23
V571407
p61641
stp61642
a((dp61643
g2
(lp61644
VIt's valid since Java 7, and I call it a pipe
p61645
aVThe catch block itself is called a multi-catch block
p61646
aVDepending on the context where it's used, this operator is a bitwise or, or a multi-catch operator
p61647
aVJust like in  the  is the addition operator, and in , the + is the concatenation operator
p61648
as(dp61649
g23
V571407
p61650
stp61651
a((dp61652
g2
(lp61653
VTo complement T
p61654
aVJ
p61655
aVs answer, here is an example:
p61656
aVnow the value of  is  because the function has been invoked on the object o, and inside the function,  refers to the object on which the function has been invoked
p61657
as(dp61658
g23
V571407
p61659
stp61660
a((dp61661
g2
(lp61662
VIf you have everything in memory already, my guess is that filtering the list will be faster than making an inter-process call to a database, especially for such a small amount of rows
p61663
aVBut it seems strange to have the full list in memory in the first place
p61664
aVDatabases are fast, and are there to return the data you want when you want it
p61665
aVCaching the contents of such small tables in memory probably makes your application more complex for no significant speed gain
p61666
aVI would try keeping the application as stateless as possible unless you have a performance problem and you prove that caching the table contents solves the problem
p61667
as(dp61668
g23
V571407
p61669
stp61670
a((dp61671
g2
(lp61672
Vjogl-all
p61673
aVjar is not in your CLASSPATH environment variable
p61674
aVSo obviously,  can't find any class from this jar if you don't include it explicitely in the  option
p61675
aVThe jar itself must be in the CLASSPATH, and not the directory containing it
p61676
aVjust like in the  option
p61677
aVI wouldn't use a global CLASSPATH environment variable anyway, but only the  option
p61678
aVIt will make everything easier when you'll compile or run another Java project, with different dependencies
p61679
as(dp61680
g23
V571407
p61681
stp61682
a((dp61683
g2
(lp61684
VYou're initializing the  variable with the result of calling  on a closure which, when invoked, returns the current user
p61685
aVWhat you want is
p61686
aVwhich initializes the  variable with the value returned by
p61687
as(dp61688
g23
V571407
p61689
stp61690
a((dp61691
g2
(lp61692
VCreate a new directory under trunk, and move everything you have to this directory
p61693
aVBut your current structure is not unconventional, and there's probably no reason to change it
p61694
as(dp61695
g23
V571407
p61696
stp61697
a((dp61698
g2
(lp61699
VYour container is a raw container and not a generic container
p61700
aVIt's declared as
p61701
aVIt should be declared as
p61702
aVOnce done, the line
p61703
aVwon't compile anymore
p61704
aVIn Java, the generic type of an object is only a compile-time thing
p61705
aVAt runtime, due to erasure, it's just a Container
p61706
aVSo if you don't declare the container as a , you'll have a raw Container and the compiler won't check anything about the type of objects you store inside
p61707
aVTo make it clearer (at least I hope so), the line
p61708
aVis equivalent to
p61709
aVIt transforms a reference to a  into a reference to a raw Container, ruining its type-safety
p61710
as(dp61711
g23
V571407
p61712
stp61713
a((dp61714
g2
(lp61715
VThe  variable is an instance variable, so you can't access it from a static method
p61716
aVAnd the method shouldn't be static: you want to update the progress in the controller, and not in all the Controller instances
p61717
aVPass a reference to the controller to the ChildModel, and use this reference from the ChildModel in order to update the progress bar
p61718
aVAlso remember that all Swing interactions must be done in the EDT, and not in a background thread
p61719
aVSO the code should look like this:
p61720
as(dp61721
g23
V571407
p61722
stp61723
a((dp61724
g2
(lp61725
VYou need to get the generated keys before committing the connection, and not after
p61726
as(dp61727
g23
V571407
p61728
stp61729
a((dp61730
g2
(lp61731
V doesn't throw an IOException
p61732
aVIf it did, it would have to be declared as
p61733
aVYou're explicitely catching any IOException that could be thrown from the instructions in
p61734
aVCatching an exception is precisely used to avoid the exception to be thrown
p61735
aVDon't catch IOException, and declare the IOException in the method declaration, and the test will pass:
p61736
as(dp61737
g23
V571407
p61738
stp61739
a((dp61740
g2
(lp61741
VRunning your program with 37 as buckets length, and the hashing part replaced with
p61742
aVleads to the following result:
p61743
aVwhich looks quite good
p61744
aVYou're not testing the distribution of
p61745
aVYou're testing the distribution if HashMap's  method, which uses the key's hashCode, and has been designed to try getting a uniform distribution for its capacity, which MUST be a power of 2
p61746
aVIf  already returns well-distributed values, simply taking the modulo using a prime number as divisor will lead to a good distribution
p61747
as(dp61748
g23
V571407
p61749
stp61750
a((dp61751
g2
(lp61752
VYou're missing a clause in the inner query:
p61753
aVYour code would be much clearer if you renamed Rooms to Room
p61754
aVEach instance is a single room, so it should use the singular form
p61755
as(dp61756
g23
V571407
p61757
stp61758
a((dp61759
g2
(lp61760
VYou're iterating until  (exclusive), but inside the loop, you're accessing , which will thus be equal to  at the last iteration, which will cause an ArrayIndexOutOfBoundsException
p61761
aVIterate until  (exclusive), and decide what should be stored in the last element of the array instead of its previous value
p61762
aVYou're also starting at , instead of starting at
p61763
as(dp61764
g23
V571407
p61765
stp61766
a((dp61767
g2
(lp61768
VYou have quite a special directory layout
p61769
aVAssuming  is a source folder in Eclipse, it will copy all the non-Java files to the classes or bin directory (or whatever directory name you chose for the compiled classes), and the  should be directly under , since you're telling Hibernate to load it from the root of the classpath:
p61770
aVIf you place it in main/resources, the code to load it should be
p61771
aVWhy don't you use your own package hierarchy, and thus use the following directory tree:
p61772
as(dp61773
g23
V571407
p61774
stp61775
a((dp61776
g2
(lp61777
VRename your input fields to , , etc
p61778
aV, and change the controller method to
p61779
aVThis is described in the documentation
p61780
as(dp61781
g23
V571407
p61782
stp61783
a((dp61784
g2
(lp61785
VYou just need the jar to be in the classpath of the two programs
p61786
aVThen you use the class as any other class: by importing it and using its name:
p61787
aVNote: this is for Windows
p61788
aVUnder *nix,  must be used instead of
p61789
aVSee http://docs
p61790
aVoracle
p61791
aVcom/javase/7/docs/technotes/tools/windows/classpath
p61792
aVhtml
p61793
aVAlso, respect the Java naming conventions
p61794
aVJava classes start with an upper-case letter
p61795
aVVariables never contain underscores and are camelCased
p61796
as(dp61797
g23
V571407
p61798
stp61799
a((dp61800
g2
(lp61801
VTo get an always true  instance, use
p61802
aVTo get an always false  instance, use
p61803
as(dp61804
g23
V571407
p61805
stp61806
a((dp61807
g2
(lp61808
VThe goal of the homework, it seems, is to make you learn what method parameters are
p61809
aVThe first step is to write a method that returns a random integer in the range of 1 to 100
p61810
aVSo this method doesn't have any parameter
p61811
aVIts signature should be
p61812
aVThe second step is to write a method which takes a parameter specifying the top number
p61813
aVIts signature should thus be:
p61814
aVThe third step is to write a method taking two values as parameter: the bottom and the top value
p61815
aVIts signature should thus be:
p61816
aVThe last step is a bit more tricky
p61817
aVIt asks you to remember the values a method has already generated, and to avoid generating them again
p61818
aVThere is no parameter
p61819
aVIts signature should be
p61820
aVand its implementation should basically do the following:
p61821
aVOf course, the set of already generated numbers is empty at the beginning
p61822
aVNote that you should use  rather than
p61823
aVThere's no reason to accept null as argument, and the methods should never return null
p61824
aVSo the primitive  type should be preferred
p61825
aVAlso note that the methods should not print the generated number, but  it
p61826
aVSo they should have  as their return type, and not
p61827
aVAnd classes, by convention, start with an upper-case letter and don't abbriviate words
p61828
aVSo your class should be named
p61829
as(dp61830
g23
V571407
p61831
stp61832
a((dp61833
g2
(lp61834
VAfter the post, redirect (using ) to the page showing the form, so that a refresh will only reload the page containing the form, rather than re-submit the form
p61835
aVSee http://en
p61836
aVwikipedia
p61837
aVorg/wiki/Post/Redirect/Get
p61838
as(dp61839
g23
V571407
p61840
stp61841
a((dp61842
g2
(lp61843
VIn XML, double quotes aren't escaped using a backslash
p61844
aVThey're escaped using
p61845
as(dp61846
g23
V571407
p61847
stp61848
a((dp61849
g2
(lp61850
VI guess I'm wondering how to implement code such that every time a new request comes into, say, FizzServlet#doGet, how to make sure that request gets sent to an available thread (if there is one available)
p61851
aVThat way, if FizzServlet was the only servlet I was exposing, it could get called up to 10 times before it would cause a new (11th) incoming request to hang while a previous request was processing
p61852
aVThat's what the GAE servlet engine does for you
p61853
aVYou deploy an app containing a servlet, and when a request comes in, the servlet engine uses a thread to process the request and calls your servlet
p61854
aVYou don't have anything to do
p61855
aVIf your servlet's  or  method, invoked by GAE, needs to perform several tasks in parallel (like contacting several other web sites for example), then you'll start threads by yourself as explained in the page you linked to
p61856
as(dp61857
g23
V571407
p61858
stp61859
a((dp61860
g2
(lp61861
VThe declared type of rs is Rectangle
p61862
aVSo it looks at a method in Rectangle and all superclasses taking a Square or a type compatible with Square as argument
p61863
aVThe most specific one is  since  Square is a Rectangle, and since Rectangle is more specific than Figure
p61864
aVLooks for a method  in Square and all super-classes
p61865
aVis chosen, since  doesn't apply (a Rectangle is not a Square), and  is less specific
p61866
as(dp61867
g23
V571407
p61868
stp61869
a((dp61870
g2
(lp61871
VYou're dividing an int by an int, so you're using integer division
p61872
aVTo have double division, one of the operands at least must be a double:
p61873
as(dp61874
g23
V571407
p61875
stp61876
a((dp61877
g2
(lp61878
VThe Hibernate documentation says:
p61879
aVCaution
p61880
aVThe built-in Hibernate connection pool is in no way intended for production use
p61881
aVIt lacks several features found on any decent connection pool
p61882
aVSo yes, you should use a connection pool other than the default hibernate one
p61883
aVThe config og the pool depends entirely on your application: what's the typical transaction duration, how many concurrent transactions do you want to support, etc
p61884
as(dp61885
g23
V571407
p61886
stp61887
a((dp61888
g2
(lp61889
VThe documentation says:
p61890
aVThe methods of all classes in java
p61891
aVutil
p61892
aVconcurrent and its subpackages extend these guarantees to higher-level synchronization
p61893
aVIn particular:
p61894
aVActions in a thread prior to placing an object into any concurrent collection happen-before actions subsequent to the access or removal of that element from the collection in another thread
p61895
aVso yes, you're guaranteed to see the values in the array that have been set prior to storing the object into the queue
p61896
aV(I'm assuming you don't modify te array once after it has been stored into the queue here)
p61897
as(dp61898
g23
V571407
p61899
stp61900
a((dp61901
g2
(lp61902
s(dp61903
g23
V571407
p61904
stp61905
a((dp61906
g2
(lp61907
V will never return an instance of your own criteria implementation
p61908
aVAnd casting the result to your class won't help, as you've seen, because casting never changes the type of an object
p61909
aVSuppose you have a reference to an Animal
p61910
aVAnd you know that this animal is a horse
p61911
aVYou can then do that:
p61912
aVin order to be able to call methods present in Horse and not present in Animal
p61913
aVIf the animal is in fact a cow, you'll get a ClassCastException, because a cow is not a horse
p61914
aVYou're using inheritance where you should be using composition
p61915
aVYour class should not extend CriteriaImpl
p61916
aVIt should use, or delegate to, a Criteria instance
p61917
as(dp61918
g23
V571407
p61919
stp61920
a((dp61921
g2
(lp61922
VStore the data as JavaScript objects
p61923
aVThere are plenty of JSON parsers/marshallers in Java
p61924
aVChoose the one you like the most, and do the following:
p61925
aVin the servlet/controller:
p61926
aVin the JSP:
p61927
as(dp61928
g23
V571407
p61929
stp61930
a((dp61931
g2
(lp61932
VFirst, make the 2 variables instance variables rather than static variables
p61933
aVSecond, synchronize the methods of the singleton:
p61934
aVI would avoid lazy instanciation of the singleton
p61935
aVMost of the time, there's no added value:
p61936
aVIf you really want to keep is lazily initialized, then the  method should also be synchronized, alse two threads might get two different instances of your singleton
p61937
as(dp61938
g23
V571407
p61939
stp61940
a((dp61941
g2
(lp61942
VYou're probably looking for disconnected rowsets
p61943
aVBut frankly, most of the time, I just transform the data in a result set into a list of Java objects, and then close the connection, and use this list of objects later on
p61944
as(dp61945
g23
V571407
p61946
stp61947
a((dp61948
g2
(lp61949
VIt's quite simple: the hierarchy of the folders must match exactly with the hierarchy of the packages
p61950
aVSo, assuming src is the folder where all your source files are, the tree should be:
p61951
aVTo compile all the classes  to the folder classes, you would use the following command (from the src directory):
p61952
aVAnd this will create the following files, which also respect the package hierarchy:
p61953
aVYou can then execute your main class , still from the src directory, using
p61954
aVNote that placing classes in the default package is a bad practice, and should be avoided
p61955
aVPackages should also be written in lower-case
p61956
as(dp61957
g23
V571407
p61958
stp61959
a((dp61960
g2
(lp61961
VYes, it's probably a copy constructor
p61962
aVYou'll know only when the instructor gives you the javadoc of the constructor, which defines its contract
p61963
aVBut in all likelyhood, this constructor should create a new linked list containing the same elements as the linked list passed as argument
p61964
aVSide note:  is a terrible name for a class
p61965
aVWhy not use  instead
p61966
as(dp61967
g23
V571407
p61968
stp61969
a((dp61970
g2
(lp61971
VFields are not resolved polymorphically
p61972
aVAt compile time,  is resolved statically to "get the value of the field x defined in class A"
p61973
as(dp61974
g23
V571407
p61975
stp61976
a((dp61977
g2
(lp61978
VMy guess is that the data you send from the server doesn't end with an EOL sequence ( or )
p61979
aVSo the  method at client-side never returns, since it can only return when it's sure the line is terminated (i
p61980
ag468
aVwhen an EOL sequence is received, or the connection is closed)
p61981
as(dp61982
g23
V571407
p61983
stp61984
a((dp61985
g2
(lp61986
VYou can simply use JavaScript to refresh the image URL every second (using jQuery here):
p61987
aVThe counter here is used to make sure the URL is always different, and the browser doesn't simply get the image from its cache
p61988
aVNot tested, but should work
p61989
as(dp61990
g23
V571407
p61991
stp61992
a((dp61993
g2
(lp61994
VSo you in fact have a , and each  in the list contains an instance of Master as its first element, and an instance of DateRange as its second element
p61995
aVStart by writing a class which contains those two objects, which will make your code easier to read:
p61996
aVThen iterate through your  and create a
p61997
aVThen store this list in a request attribute (, for example)
p61998
aVThen, in the JSP, use the JSTL to iterate over this list:
p61999
as(dp62000
g23
V571407
p62001
stp62002
a((dp62003
g2
(lp62004
VJust as you did, except the query string must start with a  and not with a :
p62005
aVis used to separate the parameters inside the query string
p62006
aVAnd it must be HTML-escaped
p62007
aVSo if you had a second parameter to pass, you would need to generate the following URL:
p62008
aVNote that generating HTML from Java code is not a good practice
p62009
aVIt leads to hard-to read, unmaintainable code
p62010
aVScriptlets should be avoided
p62011
aVYou should do that using JSTL tags and the JSP EL:
p62012
aVNote how the structure is much more readable
p62013
aVAlso note that
p62014
aVit's  and not
p62015
aVyou can't have several elements with the same ID
p62016
aVThis is invalid
p62017
aVallows escaping special characters
p62018
aVSo if any of the attributes contains a  or a  or a  for example, it won't lead to invalid HTML (or worse: to an XSS attack)
p62019
aVusing  allows using absolute paths instead of relative paths without hard-coding the context path, and it URL-encodes the parameters
p62020
as(dp62021
g23
V571407
p62022
stp62023
a((dp62024
g2
(lp62025
VThe syntax to make a join is
p62026
aVRead the documentation
p62027
as(dp62028
g23
V571407
p62029
stp62030
a((dp62031
g2
(lp62032
VHibernate sessions are not thead-safe, and must not be used by multiple threads
p62033
aVIf you start a new thread, this new thread should get a new session from the session factory
p62034
aVIf you pass an entity to a new thread, you should first detach the entity from the session
p62035
aVOtherwise, as your code does, any attempt to initialize a lazy collection will call methods from the session
p62036
aVEither the session will be closed (from the first thread), leading to the Exception you got, or it won't, but then you'll have a shared session between two threads, which will cause all sorts of random problems
p62037
as(dp62038
g23
V571407
p62039
stp62040
a((dp62041
g2
(lp62042
V is a boolean expression which is true if , and false otherwise
p62043
aVdeclares a boolean variable named , and assigns the value of the boolean expression  to this variable
p62044
aVSo it declares a boolean variable which is true if , and false otherwise
p62045
aVTo make it a bit clearer, you might write it that way:
p62046
as(dp62047
g23
V571407
p62048
stp62049
a((dp62050
g2
(lp62051
VI'm not sure I fully understand the problem, but two patterns are best practices:
p62052
aVAlways go through a controller, which fills the model, stores it in the request, and dispatches to a view which displays the data in the model
p62053
aVThat's the MVC pattern
p62054
aVAlways redirect after a successful non-idempotent request (i
p62055
ag468
aVa POST, if you respect the HTTP protocol)
p62056
aVThat's the post-redirect-get pattern
p62057
aVSo what it means is that you should have:
p62058
aVrequest 1 goes to a servlet
p62059
aVservlet gets data to be displayed in the form and stores it in the request, then forwards to the JSP
p62060
aVthe JSP displays the form
p62061
aVthe form is submitted to a servlet (request 2)
p62062
aVservlet stores the data in the database, which generates an ID for the created data
p62063
aVservlet redirects to a URL like  or
p62064
aVbrowser sends a request to this URL (request 3)
p62065
aVThis request goes to a servlet
p62066
aVservlet gets the data identified by the ID, from the database
p62067
aVIt stores the data into the request, and forwards to a JSP
p62068
aVthe JSP displays the data
p62069
aVOf course, you could choose to redirect to some other page, like the list of products for example
p62070
aVIf what bothers you is to use the request to store data when forwarding from the servlet to the JSP, then that shouldn't bother you: it's the only clean way to do it
p62071
aVThe data will be scoped to the request only, and be garbage-collected when the request has been processed
p62072
as(dp62073
g23
V571407
p62074
stp62075
a((dp62076
g2
(lp62077
VUse option 3
p62078
aVThe first option keeps your code untestable
p62079
aVYou won't be able to easily mock the static factory method so that it returns a mock DataManager
p62080
aVThe second option will force you to have the root classes know all the dependencies of all the non-root classes in order to make the code testable
p62081
aVThe third option really uses dependency injection, where each bean only know about its direct dependencies, and is injected by the DI container
p62082
as(dp62083
g23
V571407
p62084
stp62085
a((dp62086
g2
(lp62087
VIf your goal is to be able to compare the start and end time of the period with the current time, then you need a way to compute the date and time of the period's bounds for today
p62088
aVSo get a Calendar instance for today, set its time to 7:45, and compare the time of the calendar with the current time (same for the upper bound, of course)
p62089
aVTo represent each bound, you could simply use an int for the hours and a second int for the minutes
p62090
as(dp62091
g23
V571407
p62092
stp62093
a((dp62094
g2
(lp62095
VI wouldn't use exceptions to test that, but verifications
p62096
aVAnd another problem is that you can't use  with methods returning void
p62097
aVHere's how I would do it:
p62098
as(dp62099
g23
V571407
p62100
stp62101
a((dp62102
g2
(lp62103
VYour planets are null by default
p62104
aVYou only initialize them in the  method
p62105
aVBut the line initializing the array of planets is executed long before: when the Test object is constructed
p62106
aVSo at this time, all the planets are still null, since  has not been called yet
p62107
aVThe array should be initialized right after the planets are
p62108
aVAnd everything should probablybe done in the constructor rather than in
p62109
as(dp62110
g23
V571407
p62111
stp62112
a((dp62113
g2
(lp62114
VYou shouldn't use a singleton for this
p62115
aVBut to answer the question, the constructor is called when the enum class (Deck) is loaded by the classloader and initialized
p62116
aVSo the deck will be shuffled before any line of code can call any method of the Deck class
p62117
as(dp62118
g23
V571407
p62119
stp62120
a((dp62121
g2
(lp62122
VA Path represents a file on the file system
p62123
aVIt doesn't help to read a resource from the classpath
p62124
aVWhat you're looking after is a helper method that reads everything fro a stream (more efficiently than how you're doing) and writes it to a byte array
p62125
aVApache commons-io or Guava can help you with that
p62126
aVFor example with Guava:
p62127
aVIf you don't want to add Guava or commons-io to your dependencies just for that, you can always read their source code and duplicate it to your own helper method
p62128
as(dp62129
g23
V571407
p62130
stp62131
a((dp62132
g2
(lp62133
VI would first think about how the design would be in database
p62134
aVIf I understand correctly, you would have 3 tables:
p62135
aVUser
p62136
aVActivity
p62137
aVParticipation
p62138
aVwhere Participation would have  a foreign key to a user, a foreign key to an activity, and a role
p62139
aVSo I would map that simply as
p62140
aVUser has a OneToMany with Participation
p62141
aVActivity has a OneToMany with Participation
p62142
aVAnd of course you can make these two associations bidirectional
p62143
as(dp62144
g23
V571407
p62145
stp62146
a((dp62147
g2
(lp62148
VThat's because in Java, an  is also a
p62149
aVIf you had the same method with a list instead of an array as arguments, it wouldn't work the same way, because a  is not a
p62150
aVSo only the second version would accept a  as argument
p62151
aVCollections are more type-safe and work better with generics than arrays
p62152
aVYou should prefer them over arrays in general
p62153
as(dp62154
g23
V571407
p62155
stp62156
a((dp62157
g2
(lp62158
VA book has chapters
p62159
aVIf it has no chapter, the collection will be empy
p62160
aVThat's what you want
p62161
aVIt allows iterating through the chapters by doing
p62162
aVinstead of
p62163
aVIt allows testing if the book has chapters by doing
p62164
aVrather than by doing
p62165
aVis evil
p62166
aVYou want to avoid null collections like the plague, because they cause bugs, and make the code less readable
p62167
as(dp62168
g23
V571407
p62169
stp62170
a((dp62171
g2
(lp62172
VThe JSP is executed at server-side
p62173
aVIf you need to do something when somethin is clicked, it must be done at client-side, in JavaScript
p62174
aVSo you basically have two possibilities:
p62175
aVEmbed all these HTML blocks in hidden divs in the page
p62176
aVWhen the UL is clicked, extract the inner HTML of the appropriate hidden div using Javascript and copy it to the  div
p62177
aVWhen the UL is clicked, send an AJAX request to your webapp, make your webapp return the appropriate HTML block, and in the AJAX response handler, set the received content as the content of the  div
p62178
as(dp62179
g23
V571407
p62180
stp62181
a((dp62182
g2
(lp62183
VYou're confusing tags and branches
p62184
aVTags are not supposed to be modified
p62185
aVThey're typically created (from the trunk or from a branch) each time you're doing a release of your applcation
p62186
aVBranches are used to hold work in progress
p62187
aVYou should checkout the trunk directory to a working copy
p62188
aVTo switch to a branch, use the switch command
p62189
aVThere's no reason to have separate config files for each branch, sinc eyour working copy, at the same location, can point to whatever you want: thr trunk, a branch, or even a tag
p62190
aVThe key point is that the working copy's root should be the root of your project:
p62191
aVSo, suppose your project files contains the following files:
p62192
aVYour repo would have the following layout:
p62193
aVAnd your working copy would be:
p62194
aVIf you want to work on the feature branch, switch to the branch, and your working copy will then be
p62195
aVSo it would be exacttly the same, and there's no reason for the config file to contain different file paths
p62196
as(dp62197
g23
V571407
p62198
stp62199
a((dp62200
g2
(lp62201
VMy factors for choosing between a table and an enums are the following:
p62202
aVthe list of possible values could change in the future, and we don't want to recompile, retest and redeploy the app when it happens: we use a table
p62203
aVthe list of possible values could change in the future, but every value of the table is used in the code itself to implement some business logic (like if status == married then do something else do something): we'll need to change the logic anyway if the list of possible values change, so we use an enum
p62204
aVthe list will never, ever change: we use an enum
p62205
aVYou can still keep the table, and use an enum in the code, though
p62206
aVThis makes it clearer when just looking at the data in the database, when you don't know how the enum is implemented
p62207
aV0 meaning married and 1 meaning single is not obvious at all
p62208
aVIf you keep the table just for reference, you can at least figure what the values mean, and make sure that it's not possible to insert 2 or any other number in the data
p62209
aVAnother way is to use the name of the enum rather than its ordinal
p62210
aVIt takes up a bit more space and is a bit less efficient, but it makes the data even clearer and simpler to analyze
p62211
aVYou lose the safety, though, unless you add a checked constraint
p62212
as(dp62213
g23
V571407
p62214
stp62215
a((dp62216
g2
(lp62217
VThe best practice is to refactor the code
p62218
aVEither the classes should not have the same name, because it's normal to use them both in the same classes, and thus choosing the same name for both is not a wise choice
p62219
aVSo one of them at least should be renamed
p62220
aVOr it's not normal to use them both in the same classes because they belong to completely different abstraction levels (like database access code and UI code, for example), and code should be refactored to use each class where it must be used and not elsewhere
p62221
as(dp62222
g23
V571407
p62223
stp62224
a((dp62225
g2
(lp62226
VIf  has a first name and a last name, and  is of type , calling  on it makes no sense: it's not a list, and it doesn't have any first element
p62227
aVIt has a first name and a last name
p62228
aVYou simply need
p62229
aVThe JSP expression language (EL) accesses properties via getters
p62230
aVSo you shouldn't use the getter, but simply the name of the property:
p62231
aVYou should also avoid scriptlets in JSP, and put the code which gets data from the database into a servlet instead
p62232
aVMoreover, two out of the 4 lines are completely unnecessary
p62233
aVThe code should be reduced to:
p62234
as(dp62235
g23
V571407
p62236
stp62237
a((dp62238
g2
(lp62239
VThe second one calls the first one
p62240
aVThe difference is described in the javadoc
p62241
aVThe first one takes paths that don't start with a , and always starts at the root of the classpath
p62242
aVThe second one takes path that can start with a
p62243
aVIf it does, it starts at the root of the classpath
p62244
aVIf not, it starts at the package of the class on which the method is called
p62245
aVSo  is equivalent to
p62246
aVAnd, assuming getClass() returns a class that is in the package ,  is equivalent to
p62247
as(dp62248
g23
V571407
p62249
stp62250
a((dp62251
g2
(lp62252
VIf you write some bytes or chars to the response, then flush, then write some other bytes or chars to te response, it will have to used a chunked transfer type and won't be able to set the content length, since it's forced to send the bytes without knowing the length of what will actually be written
p62253
as(dp62254
g23
V571407
p62255
stp62256
a((dp62257
g2
(lp62258
VEclipse doesn't have native support for Gradle
p62259
aVThere's an eclipse plugin available from SpringSource in order to support Gradle in Eclipse, but the easiest way is to generate the eclipse project from gradle, following the documentation
p62260
as(dp62261
g23
V571407
p62262
stp62263
a((dp62264
g2
(lp62265
VAdd another explicit left join to the query:
p62266
as(dp62267
g23
V571407
p62268
stp62269
a((dp62270
g2
(lp62271
VYou're reading and modifying a static variable without any kind of synchronization from multiple threads:
p62272
aVJust make it a local variable in  and everything should work as intended
p62273
as(dp62274
g23
V571407
p62275
stp62276
a((dp62277
g2
(lp62278
VYou're using Struts 1 tags in a Struts 2 application
p62279
aVDon't
p62280
aVStruts 1 and Struts 2 are two completely different web frameworks
p62281
aVHere's the Struts2 documentation page about i18n
p62282
as(dp62283
g23
V571407
p62284
stp62285
a((dp62286
g2
(lp62287
VThis is described in the documentation
p62288
aVHave a getter and a setter for your map in yhe action bean, and have input fields in the HTML form named like  (foo being a key of the map)
p62289
aVSo for example, a form containing the following input fields will populate the map with 1 for the key , and 2 for the key :
p62290
as(dp62291
g23
V571407
p62292
stp62293
a((dp62294
g2
(lp62295
VYour join table needs 4 columns
p62296
aV2 to reference the PK columns of  and 2 other to reference the PK columns of
p62297
aVSo it should look like
p62298
as(dp62299
g23
V571407
p62300
stp62301
a((dp62302
g2
(lp62303
VThat's what I thought
p62304
aVYou're adding the TripExecutionMoment to the RepeatedTrip:
p62305
aVBut you don't initialize the owner side of the bidirectional association, which is the only one Hibernate cares about:
p62306
as(dp62307
g23
V571407
p62308
stp62309
a((dp62310
g2
(lp62311
VBecause to be able to implement a method such as
p62312
aVyou need to have parsed the document completely, and loaded the tree of nodes in memory
p62313
aVYou could imaging reparsing the document at every method call, but it would be extremely inefficient
p62314
aVWhat makes it so popular is that it's a standard API, supported by every language on earth, and which makes it relatively easy to navigate through the nodes and extract the information you want
p62315
as(dp62316
g23
V571407
p62317
stp62318
a((dp62319
g2
(lp62320
VThe following part looks wrong, and not matching with the native query:
p62321
aVIt should probably be
p62322
aVIf that's not the problem, see which SQL query is generated in the logs by your JPA engine, and compare it with the native query to find what the difference is
p62323
as(dp62324
g23
V571407
p62325
stp62326
a((dp62327
g2
(lp62328
VYou don't need all this to enable an instance to process multiple requests concurrently
p62329
aVGAE allows you to spawn threads if you need to perform multiple tasks in parallel when handling a single given request
p62330
aVIt could be useful, for example, if you need to contact several external URLs in parallel to get information needed to respond to a given request
p62331
aVThis would be more efficient tha contacting all the URLs in sequence
p62332
as(dp62333
g23
V571407
p62334
stp62335
a((dp62336
g2
(lp62337
VNone of these
p62338
aVThe main method is static
p62339
aVSo it doesn't belong to any object
p62340
aVSo you don't have any association
p62341
aVThe main method uses instances of the other classes, that's all
p62342
as(dp62343
g23
V571407
p62344
stp62345
a((dp62346
g2
(lp62347
V takes a JPQL query as argument
p62348
aVNot a SQL query
p62349
aVIf you want to execute a SQL query, use EntityManager
p62350
aVcreateNativeQuery()
p62351
as(dp62352
g23
V571407
p62353
stp62354
a((dp62355
g2
(lp62356
VThe default target of the build file is :
p62357
aVSo if you invoke ant without specifying a target, the  target will be executed
p62358
aVTo execute the  target, use
p62359
as(dp62360
g23
V571407
p62361
stp62362
a((dp62363
g2
(lp62364
VIf the message is a JavaScript string literal, such as in
p62365
aVThen you need this attribute, which will escape the single and double quotes, the newline chars, the tabs, etc
p62366
aVin order to make sure that the generated JavaScript is valid
p62367
as(dp62368
g23
V571407
p62369
stp62370
a((dp62371
g2
(lp62372
VThere won't be any noticeable difference between both
p62373
aVUse what you find the most logical and readable
p62374
aVI would use
p62375
as(dp62376
g23
V571407
p62377
stp62378
a((dp62379
g2
(lp62380
VThis indeed prevents adding a new subclass without modifying the base class (to add a new constant)
p62381
aVI would indeed move it to the factory
p62382
aVThe factory must need to know about all the kinds of subclasses it can create
p62383
aVThe base class doesn't need to know about its subclasses
p62384
aVMoreover, these constants are only used by the factory (and the callers of the factory)
p62385
aVThe base class doesn't use them at all
p62386
as(dp62387
g23
V571407
p62388
stp62389
a((dp62390
g2
(lp62391
VThe class hierarchy is wrong
p62392
aVA faculty IS NOT an employee, so there should be no inheritance hierarchy
p62393
aVThe sentence doesn't mean much beause instantiating a variable doesn't mean anything
p62394
aVI think that what it means is: Create a new instance of the class Employee
p62395
aVAn employee should reference an instance of Faculty
p62396
aVSo it should have a field of type Faculty
p62397
aVEDIT:
p62398
aVbased on the complete instructions, the class hierarchy is right
p62399
aVBut the Faculty class is extremely badly named
p62400
aVIt should be named "FacultyMember" or "Professor" instead (since that's what it is)
p62401
aVThe wording is also not very well chosen
p62402
aVWhat "Instantiate an Employee variable that references a new Faculty" means in this context is:
p62403
as(dp62404
g23
V571407
p62405
stp62406
a((dp62407
g2
(lp62408
VYes you can
p62409
aVUse the type attribute:
p62410
aVI would also rename the attributes to  and  or
p62411
as(dp62412
g23
V571407
p62413
stp62414
a((dp62415
g2
(lp62416
V means the same thing as for any other class
p62417
aVIt refers to the current  of the class
p62418
aVStatic inner classes can be instantiated (and usually are):
p62419
aVA static inner class works exactly the same way as any other class
p62420
aVThe only difference is that it can be made invisible from the other classes by making it private to its containing class
p62421
aVCompiling example:
p62422
as(dp62423
g23
V571407
p62424
stp62425
a((dp62426
g2
(lp62427
VThe main problem is that you'll bring the server to its knees if many concurrent requests comes in for your servlet, because you don't limit the number of threads that can be spawned
p62428
aVAnother problem is that you keep creating new threads instead of reusing them, which is inefficient
p62429
aVThese two problems are solved easily by using a thread pool
p62430
aVAnd Java has native support for them
p62431
aVRead the tutorial
p62432
aVAlso, make sure to shutdown the thread pool when the webapp is shut down, using a ServletContextListener
p62433
as(dp62434
g23
V571407
p62435
stp62436
a((dp62437
g2
(lp62438
VIf you want to check is a String is null, you use
p62439
aVIf you want to check if a string is the empty string, you use
p62440
aVor
p62441
aVor
p62442
aVAn empty string is an empty string
p62443
aVIt's not null
p62444
aVAnd  must never be used to compare string contents
p62445
aVtests if two variables refere to the same object instance
p62446
aVNot if they contain the same characters
p62447
as(dp62448
g23
V571407
p62449
stp62450
a((dp62451
g2
(lp62452
VYou're creating a new object in the second frame
p62453
aVSo obviously, this second object doesn't contain the same data as the first one
p62454
aVIf you put a message in a box, and open another box, you won't find the message in it
p62455
aVSame with Java objects
p62456
aVWhen the login frame constructs the main frame, it should pass the SharedData object it has created to the main frame constructor (or to a setter method):
p62457
aVYou should also learn Java naming conventions and stick to them
p62458
aVFields should start with a lower-case letter, and shouldn't contain underscores:  instead of
p62459
aVAnd there is no point in calling  on a String
p62460
as(dp62461
g23
V571407
p62462
stp62463
a((dp62464
g2
(lp62465
VThe answer is in the question
p62466
aVUse , and iterate through the nodes in the returned list
p62467
aVFor each node, you can check if it's an element using
p62468
aVAnd, if true, you can get the element's tag name using
p62469
as(dp62470
g23
V571407
p62471
stp62472
a((dp62473
g2
(lp62474
VFirst of all, you don't need a native query for that
p62475
aVJPQL will do just fine
p62476
aVAnd the result of such a query will simply be a , where each object array will contain an element for each returned column
p62477
aVJust iterate over this list and do whatever you want with the elements:
p62478
as(dp62479
g23
V571407
p62480
stp62481
a((dp62482
g2
(lp62483
VThe compiler needs the reference because it has to check that the classes and methods you're calling or overriding exist, and can be called/overridden
p62484
aVThe JVM needs them because it has to execute the instructions inside these classes and methods
p62485
as(dp62486
g23
V571407
p62487
stp62488
a((dp62489
g2
(lp62490
VHave each of your 3 panels implement the same interface:
p62491
aVThen, when the accept button is clicked, call this:
p62492
as(dp62493
g23
V571407
p62494
stp62495
a((dp62496
g2
(lp62497
VThe Hibernate documentation recommends a value between 5 and 30
p62498
aVThe best value is entirely dependent on your app, your data, your database
p62499
aVTry various values and measure the performance of each one
p62500
as(dp62501
g23
V571407
p62502
stp62503
a((dp62504
g2
(lp62505
VEven in the SERIALIZABLE isolation level, multiple selects can be made in parallel
p62506
aVIf you want to put a lock on the row on the select clause, use
p62507
aVReferences:
p62508
aVhttp://dev
p62509
aVmysql
p62510
aVcom/doc/refman/5
p62511
aV1/en/select
p62512
aVhtml :
p62513
aVIf you use FOR UPDATE with a storage engine that uses page or row locks, rows examined by the query are write-locked until the end of the current transaction
p62514
aVUsing LOCK IN SHARE MODE sets a shared lock that permits other transactions to read the examined rows but not to update or delete them
p62515
aVhttp://dev
p62516
aVmysql
p62517
aVcom/doc/refman/5
p62518
aV1/en/set-transaction
p62519
aVhtml#isolevel_serializable :
p62520
aVSERIALIZABLE
p62521
aVThis level is like REPEATABLE READ, but InnoDB implicitly converts all plain SELECT statements to SELECT
p62522
aVLOCK IN SHARE MODE if autocommit is disabled
p62523
as(dp62524
g23
V571407
p62525
stp62526
a((dp62527
g2
(lp62528
VIt just seems you're looking at the project structure in the Navigator view (which displays files and folders) rather than looking at it in the Package Explorer view (which displays source folders and packages)
p62529
aVUse Window - Show View
p62530
aV- Package Explorer
p62531
as(dp62532
g23
V571407
p62533
stp62534
a((dp62535
g2
(lp62536
VYou can't sort a HashMap
p62537
aVIt makes no sense
p62538
aVA List can be sorted
p62539
aVAn array can be sorted
p62540
aVBut not a HashMap
p62541
as(dp62542
g23
V571407
p62543
stp62544
a((dp62545
g2
(lp62546
VYou got it wrong
p62547
aVIt inherits everything from the Vehicle class
p62548
aVThe package-protected elements are not accessible from the subclass, that's all
p62549
aVSo you can't access these fields and methods, and you can't override them either
p62550
aVBut that doesn't mean you need to redeclare them
p62551
aVLet's take an example
p62552
aVSuppose you design a Vehicle class, and allow for subclasses to override and have access to the color of the vehicle
p62553
aVBut suppose you don't want the subclasses to mess with the engine of the vehicle
p62554
aVYou would thus have something like this:
p62555
aVA Car is a Vehicle
p62556
aVSo since you can start a vehicle, you can also start a car
p62557
aVAnd since a vehicle has an engine, a car also has one
p62558
aVIt's not possible from inside the Car class to modify or do anything with the engine because it's private to the Vehicle class, but a car has one
p62559
aVThe  field, however, is protected
p62560
aVThis means that the Car class can have access to this field
p62561
aVFor example, it modifies it in the constructor, in order to be able to have another color than Black
p62562
aVTry the following code:
p62563
aVAnd you'll see that the engine gets started
p62564
as(dp62565
g23
V571407
p62566
stp62567
a((dp62568
g2
(lp62569
VNo, it's not very clean
p62570
aVYou should shutdown the thread pool when the webapp is destroyed, using a ServletContextListener
p62571
aVNote that you do't add threads to a thread pool
p62572
aVThe thread pool creates threads for you, and you submit tasks to the thread pool
p62573
as(dp62574
g23
V571407
p62575
stp62576
a((dp62577
g2
(lp62578
VIf the class is in the default package, and if you are in the directory where the Main
p62579
aVclass file is, the use
p62580
aVIf your class is in the package com
p62581
aVfoo
p62582
aVbar, then go th the directory where the Main
p62583
aVclass file is (bar), then execute the following commands:
p62584
as(dp62585
g23
V571407
p62586
stp62587
a((dp62588
g2
(lp62589
VYou definitely need to learn Swing to use JGoodies
p62590
aVJGoodies provides additional look and feels, layouts, Swing components and helper classes, but the UI framework is still Swing
p62591
as(dp62592
g23
V571407
p62593
stp62594
a((dp62595
g2
(lp62596
VThat would not compile
p62597
aVYou can't assign a  to a variable of type , since they're not the same type
p62598
as(dp62599
g23
V571407
p62600
stp62601
a((dp62602
g2
(lp62603
VIn a properties file, backslashes must be escaped (using another backslash):
p62604
aVI wouldn't bother with backslashes, and use clashes instead, which ant (and Java in general) supports just fine, even on Windows:
p62605
as(dp62606
g23
V571407
p62607
stp62608
a((dp62609
g2
(lp62610
VDon't post form to JSPs
p62611
aVPost the to servlets instead, and let the server analyze the parameters and forward to the appropriate JSP depending on which button has been clicked:
p62612
aVUsing the above form (which BTW, is valid HTML), the servlet can use the value of the "destination" parameter
p62613
aVIf it's "next", it should forward to
p62614
aVIf it's , it should forward to "new1
p62615
aVjsp"
p62616
aVAnd if, for example, you want to redisplay the same page because the user didn't enter a valid value in the text field, it can do so
p62617
aVThat's the well-known MVC pattern
p62618
aVYou should use it
p62619
as(dp62620
g23
V571407
p62621
stp62622
a((dp62623
g2
(lp62624
VYou need one question mark per element, ad there's no way around it (except by using a wrapper API like Spring JDBC which does it for you):
p62625
as(dp62626
g23
V571407
p62627
stp62628
a((dp62629
g2
(lp62630
VIf you don't want to load the user when loading a phone, make the association lazy:
p62631
aVNote that the above code also respects the Java naming conventions
p62632
aVClasses should not be in all-uppercase
p62633
as(dp62634
g23
V571407
p62635
stp62636
a((dp62637
g2
(lp62638
VThe thread doesn't hold any reference, other than those set by the servlet container itself, and those potentially stored in a ThreadLocal variable by your own code
p62639
aVAnd those are not set to null
p62640
as(dp62641
g23
V571407
p62642
stp62643
a((dp62644
g2
(lp62645
VUse
p62646
aVand in the action which dispatches to the JSP, set the form bean's  property to what you want:
p62647
as(dp62648
g23
V571407
p62649
stp62650
a((dp62651
g2
(lp62652
VUse  to all your subclasses
p62653
aVI don't think there is any other solution
p62654
as(dp62655
g23
V571407
p62656
stp62657
a((dp62658
g2
(lp62659
VYou can only access the element at index  if  is greater than or equal to 0 and less than the length of the aray
p62660
aVSo check that:
p62661
aVThat said, unless  is a value entered by the end user, if it doesn't satisfy these conditions, it means that there is a bug before in your program
p62662
aVMake sure to fix the cause of the bug, and not its symptom
p62663
as(dp62664
g23
V571407
p62665
stp62666
a((dp62667
g2
(lp62668
VFirst of all, your code isn't valid
p62669
aVYou have opened a , but it isn't closed
p62670
aVSecond, to access th current row element of the table, you need to assign an uid to the table, which will hold the current element:
p62671
aVThis is documented:
p62672
as(dp62673
g23
V571407
p62674
stp62675
a((dp62676
g2
(lp62677
VYou'll have to pass the enum class to do that (just like  does)
p62678
as(dp62679
g23
V571407
p62680
stp62681
a((dp62682
g2
(lp62683
V is a reserved word
p62684
aVChoose another table name
p62685
as(dp62686
g23
V571407
p62687
stp62688
a((dp62689
g2
(lp62690
s(dp62691
g23
V571407
p62692
stp62693
a((dp62694
g2
(lp62695
V is precisely used to tell JPA that it should generate the ID
p62696
aVIf you want to assign the ID explicitely and don't want JPA to generate one for you, just don't use the  annotation, assign the ID explicitely, and call
p62697
as(dp62698
g23
V571407
p62699
stp62700
a((dp62701
g2
(lp62702
VThe  instance has a field of type , and another field of type
p62703
aVAnd your code is trying to iterate, with ,  on
p62704
aVBut  is not a collection or an array
p62705
aVIt's a simple object
p62706
aVThere's nothing to iterate on
p62707
aVMoreover, the User class doesn't sem to have any  property
p62708
aVIt has a 'first' property and a last property, but these are directly in the User, and not in a  sub-object
p62709
aVSo you just need
p62710
as(dp62711
g23
V571407
p62712
stp62713
a((dp62714
g2
(lp62715
VDo yourself a favor, and learn the JSTL
p62716
aVOnce done, use the , ,  and   tags:
p62717
as(dp62718
g23
V571407
p62719
stp62720
a((dp62721
g2
(lp62722
VYes
p62723
aVIt makes them more complex, because since multiple concurrent users modify the same state, making the app stateful quickly leads to stale or inconsistent data in memory
p62724
aVIt also makes the app less scalable, because state consumes memory, and state must be replicated (or made available somehow) on all the web servers of the cluster
p62725
as(dp62726
g23
V571407
p62727
stp62728
a((dp62729
g2
(lp62730
VYou use a single session attribute to store every image
p62731
aVSo, at the end of the loop, this session attribute contains the last one
p62732
aVYou shouldn't use the session at all
p62733
aVInstead, you should pass the ID or name or whatever identifies the image as a URL parameter:
p62734
aVAnd the servlet should use this parameter to now which image it must oad and send to the browser
p62735
aVAlso, learn the JSTL and the EL
p62736
aVScriptlets sould not be used
p62737
as(dp62738
g23
V571407
p62739
stp62740
a((dp62741
g2
(lp62742
VRead the javadoc of SimpleDateFormat
p62743
aVdoesn't exist, and  is the day in year
p62744
aVYou want  as your pattern
p62745
as(dp62746
g23
V571407
p62747
stp62748
a((dp62749
g2
(lp62750
VThe documentation says:
p62751
aVupdate, insert (optional - defaults to true): specifies that the mapped columns should be included in SQL UPDATE and/or INSERT statements
p62752
aVSetting both to false allows a pure "derived" association whose value is initialized from another property that maps to the same column(s), or by a trigger or other application
p62753
as(dp62754
g23
V571407
p62755
stp62756
a((dp62757
g2
(lp62758
VSay you have an Inventory class that you want to test
p62759
aVInventory has a dependency on IProducts
p62760
aVSo it shouldn't care which implementation of Iproducts it uses
p62761
aVThe only thig that matters is that it must be an instance of IProducts
p62762
aVIn production, the instanes of IProducts will be instances of Products
p62763
aVIn tests, it will be instances of a mock Iproducts
p62764
aVIf you introduce an interface (IProducts), but Inventory still depends on the concrete Products class, then your interface is useless
p62765
aVIt should only depend o the interface, and not on the implementation
p62766
as(dp62767
g23
V571407
p62768
stp62769
a((dp62770
g2
(lp62771
VYou could use a :
p62772
as(dp62773
g23
V571407
p62774
stp62775
a((dp62776
g2
(lp62777
V doesn't go to the database, and returns a proxy
p62778
aVBut if you call a method on the proxy, it initializes the proxy and gets the entity data from the database
p62779
aVSo since you call  on your entity, you don't gain anything by calling  instead of
p62780
aVSimilarly, the list is loaded lazily
p62781
aVthis means that it will only be loaded when you call a method on it
p62782
aVAnd you do call a method on it:
p62783
aVSo the data of the elements in the list is also loaded from the database
p62784
aVTurn on SQL logging in devlopment, to see and understand all the queries executed by Hibernate
p62785
aVIf you want to avoid loading the list, replace your code by
p62786
aVThis won't load anything from the database, and it will make the association persistent because Record
p62787
aVparent is the owner side of the association
p62788
aVBut beware that this will also make your in-memory object graph inconsistent if the parent has already been loaded before
p62789
as(dp62790
g23
V571407
p62791
stp62792
a((dp62793
g2
(lp62794
VHere's how I do it:
p62795
aVUse a filter which intercepts all the pages that need authentication to be served
p62796
aVIn this filter, if the request is a GET request, is not an AJAX request, and the user is not authenticated, store the requested URL with its query string in a request attribute, and forward to the login page
p62797
aVThe login page contains a hidden field with the request URL, which is submitted with the login form
p62798
aVIn the login servlet/action, if the requested URL request parameter is populated, once the login succeeds, redirect to this URL
p62799
aVElse, redirect to the login page
p62800
aVYou could also use the session to store the request URL, but I prefer keeping the session as empty as possible
p62801
as(dp62802
g23
V571407
p62803
stp62804
a((dp62805
g2
(lp62806
VThe form backing object is placed under the name "feedbackVO", so I guess you actually need
p62807
aVNote that the form:input tag doesn't have any value attribute, so your code is equivalent to:
p62808
aVwhich generates the HTML's input value attribute from the path, fetching the value in the command object
p62809
as(dp62810
g23
V571407
p62811
stp62812
a((dp62813
g2
(lp62814
V returns null if the attribute doesn't exist
p62815
aVThat's documented explicitely
p62816
aVSo obviously, if you call  on the result, you'll get a NUllPointerException
p62817
aVCompare the result to null instead:
p62818
aVOr even better, use the JSP EL and the JSTL
p62819
aVScriptlets should be avoided:
p62820
as(dp62821
g23
V571407
p62822
stp62823
a((dp62824
g2
(lp62825
VYou haven't initialized the  variable
p62826
aVSo it has the default value: null
p62827
aVAnd calling a method on a null object cause a NullPointerException
p62828
aVRead a good book about Java, or the Java tutorial
p62829
aVThis is basic stuff you need to understand
p62830
as(dp62831
g23
V571407
p62832
stp62833
a((dp62834
g2
(lp62835
VYou're right
p62836
aVThe session ID is only meaningful for a given webapp
p62837
aVThat's why the javadoc says:
p62838
aVEncodes the specified URL for use in the sendRedirect method or, if encoding is not needed, returns the URL unchanged
p62839
aVThe implementation of this method includes the logic to determine whether the session ID needs to be encoded in the URL
p62840
aV(emphasis mine)
p62841
as(dp62842
g23
V571407
p62843
stp62844
a((dp62845
g2
(lp62846
VThere is no multidimensional array in Java
p62847
aVAll there is is arrays of arrays
p62848
aVis such an array of arrays of ints
p62849
aVSo  is an array of ints, and
p62850
aViterates over every element of this array, i
p62851
ag468
aVit iterates over all the elements in the array of ints stored at the index  of the array of arrays of ints
p62852
aVYou could see it as a big box containing N smaller boxes, each smaller box containg a given number of integers
p62853
aVis the big box
p62854
aVis the th smaller box in the big box
p62855
aVAnd the loop iterates over every integer in this smaller box
p62856
as(dp62857
g23
V571407
p62858
stp62859
a((dp62860
g2
(lp62861
VI'm not sure I understand the question, but polymorphic methods are always resolved at runtime
p62862
aVThe executed method is the one of the concrete runtime type of the object
p62863
aVThe  declared type of the variable referencing it doesn't matter
p62864
aVA Lion is a Lion, and it will always roar, aven if you reference it as an Animal
p62865
as(dp62866
g23
V571407
p62867
stp62868
a((dp62869
g2
(lp62870
VWindow - Preferences - General - Workspace - Refresh using native hooks or polling
p62871
as(dp62872
g23
V571407
p62873
stp62874
a((dp62875
g2
(lp62876
VYou seem to misunderstand what properties files are
p62877
aVThey're just data
p62878
aVThey don't contain Java code, and aren't used to declare variables
p62879
aVTo get the value associated to the key  in the properties file, you need to call
p62880
aVafter having initialized the  variable and loaded the file using
p62881
aVAnd then you'll have a variable initialized with the value of the key
p62882
aVSide note: please respect the Java naming conventions: variables start with a lower-case letter
p62883
as(dp62884
g23
V571407
p62885
stp62886
a((dp62887
g2
(lp62888
VNo, you should not do that
p62889
aVIf you do it, any concurrent thread could acquire the lock in the middle of the  method, which is precisely what you want to avoid by using a lock
p62890
aVIt's called ReentrantLock precisely because it allows acquiring the lock multiple times in the same thread
p62891
aVA counter is incremented each time  is called, and decremented each time  is called, so you just need to make sure  is always called in a finally block
p62892
aVNote that the code would be less fragile by simply using synchronized blocks, because it's impossible to forget closing a synchronized block
p62893
as(dp62894
g23
V571407
p62895
stp62896
a((dp62897
g2
(lp62898
VNo, it doesn't necessarily make sense
p62899
aVIf you want to read files that have not been created by your own application, on any platform, you'd better leave the file encoding as it is by default, because that's what you'll need to be able to read these files
p62900
aVAnd if you read files created by your own applications, or by applications which use a well-known and specified file encoding, then you should simply use this encoding when instantiating your IO readers and writers
p62901
aVFor methods such as  just don't use them, and use  instead if you want to use a specific encoding instead of the platform's default one
p62902
as(dp62903
g23
V571407
p62904
stp62905
a((dp62906
g2
(lp62907
VThis line doesn't make sense:
p62908
aVloads a resource from the classpath, using a package path starting at the root package
p62909
aVAnd there is nothing above the root package
p62910
as(dp62911
g23
V571407
p62912
stp62913
a((dp62914
g2
(lp62915
VLearn about prepared statements, and use native types instead of strings:
p62916
aVThat said, since you're talking about timestamps, and timestamps have a precision that goes to the nanosecond, the problem could be that the date stored in the database has a time part in addition to a date part:
p62917
aVIf that's the case (and it seems it is), compare the chosen date with the timestamp truncated to a date:
p62918
aVSee http://docs
p62919
aVoracle
p62920
aVcom/cd/B19306_01/server
p62921
aV102/b14200/functions201
p62922
aVhtm#i79761
p62923
as(dp62924
g23
V571407
p62925
stp62926
a((dp62927
g2
(lp62928
VOf course not
p62929
aVThey must be static if they belong to the class, and not be static if they belong to the instance of the class:
p62930
as(dp62931
g23
V571407
p62932
stp62933
a((dp62934
g2
(lp62935
VOf course it's possible
p62936
aVHow would we implement applications using a database if it weren't:
p62937
aVIn GUI:
p62938
aVIn UserDAO:
p62939
aVNote that the above is only pseudo-code
p62940
aVIt doesn't handle exceptions and doesn't close resources properly
p62941
aVIt's just to give you an idea
p62942
aVLearn about prepared statements
p62943
as(dp62944
g23
V571407
p62945
stp62946
a((dp62947
g2
(lp62948
VEnums have a natural order, which is the order of the declaration of the enum members
p62949
aVSo if you want the order you specify, the enum should be declared as:
p62950
aVAnd then you could sort your orders like this:
p62951
aVIf you can't modify the enum, then use the following trick:
p62952
as(dp62953
g23
V571407
p62954
stp62955
a((dp62956
g2
(lp62957
VIt matters if it's very long, but not for the reason you think
p62958
aVIt matters because it makes your code hard to read and test
p62959
aVYou'd better refactor it to several methods:
p62960
as(dp62961
g23
V571407
p62962
stp62963
a((dp62964
g2
(lp62965
VAsk the students to write an object that runs RockPaperScissors by getting values from an InputStream, and writing results to a PrintStream, i
p62966
ag468
aVto write an implementation of the following interface
p62967
aVThat will allow them to test their own program using an instance of their class taking System
p62968
aVin and System
p62969
aVout as argument
p62970
aVAnd that will allow you to unit test their program by passing your own ByteArrayInputStream containing the sequence of inputs, and your own ByteArrayOutputStream containing the output generated by the program, that you'll also be able to verify
p62971
aVBTW, shouldn't the students learn to unit test their own code
p62972
as(dp62973
g23
V571407
p62974
stp62975
a((dp62976
g2
(lp62977
VHere's what the documentation says about the display:table tag:
p62978
aVid: See "uid"
p62979
aVuid: Unique id used to identify this table
p62980
aVThe object representing the current row is also added to the pageContext under this name, so that you can refer to it in column bodies using ${uid}
p62981
aVYou can also use uid_rowNum to refer to the current row number
p62982
aVTwo tables in the same page can't have the same id (paging and sorting will affect both)
p62983
aVIf no "htmlId" is specified the same value will be used for the html id of the generated table
p62984
aV(emphasis mine)
p62985
aVSo choose between  and  (and don't specify the id twice as you're doing) in your tag instead of using both, and then (assuming you keep uid), use ${sr} to refer to the current element:
p62986
as(dp62987
g23
V571407
p62988
stp62989
a((dp62990
g2
(lp62991
VStart by removing the cascades, since you precisely don't want to create/modify the PaymentMethod when you create/modify a Payment
p62992
aVThen, when you create a Payment, assign it the existing PaymentMethod you want it to be associated with:
p62993
as(dp62994
g23
V571407
p62995
stp62996
a((dp62997
g2
(lp62998
VUse a POST rather than a GET
p62999
aVThe query string is limited in length, and you can't do anything about it
p63000
aVIf you have a large amount of data to send, use a POST instead of a GET
p63001
as(dp63002
g23
V571407
p63003
stp63004
a((dp63005
g2
(lp63006
VIf you just need to print one element, you don't need any loop:
p63007
aVRead the Java tutorial about arrays (or any Java introductory book)
p63008
as(dp63009
g23
V571407
p63010
stp63011
a((dp63012
g2
(lp63013
VThe GC doesn't use reference counting, so circular dependencies are handled just fine
p63014
aVYou don't need to do anything, and the whole list will be garbage collected when no element of the list is reachable anymore
p63015
as(dp63016
g23
V571407
p63017
stp63018
a((dp63019
g2
(lp63020
VEither you make the association bidirectional and add a cascade, as you suggest yourself in your question, or you explicitely delete all the items linked to the order (using a JPQL delete query, or by searching them and then deleting them), and then delete the order
p63021
aVA bidirectional association makes sense in this case, and you'll probably benefit from it in several other places in your code
p63022
as(dp63023
g23
V571407
p63024
stp63025
a((dp63026
g2
(lp63027
VThe number of updated and matched rows are the same
p63028
aVEven if the row already has the values passed in the update, it will be counted as an updated row:
p63029
as(dp63030
g23
V571407
p63031
stp63032
a((dp63033
g2
(lp63034
VA marker interface is just an ordinary interface which doesn't have any method:
p63035
aVYou implement it exactly like any other interface:
p63036
aVThat said, that won't change anything to how instances of this class will be serialized
p63037
aVThe serialization mechanism doesn't care about your marker interfaces
p63038
aVIt only checks if the object is serializable or not (by checking if its class implements )
p63039
as(dp63040
g23
V571407
p63041
stp63042
a((dp63043
g2
(lp63044
VWhat they call a BO seems to be a business service
p63045
aVA DAO's job is to contain the persistence-related code: inserting, updating, querying the database
p63046
aVThe services demarcate transactions, contain business logic, and usually use one or several DAOs to implement this logic
p63047
aVFor some use cases, the service just delegates to the DAO
p63048
aVFor others, it calls several methods of one or several DAOs
p63049
aVThe classical example is a money transfer service:
p63050
as(dp63051
g23
V571407
p63052
stp63053
a((dp63054
g2
(lp63055
VDon't use this deprecated constructor, which is deprecated precisely because it uses the default time zone
p63056
aVUse a Calendar (or a DateFormat) with the appropriate time zone (CET), set the fields of the calendar (or parse a string containing the date you want to insert), get the milliseconds from the calendar/date, and construct a Timestamp from the milliseconds
p63057
as(dp63058
g23
V571407
p63059
stp63060
a((dp63061
g2
(lp63062
VImplement a separate listener for each button
p63063
aVFirst because it's the usual solution
p63064
aVSecond, between there's no reason to extend JButton just to do something else when it's clicked
p63065
aVThat's the role of the ActionListener
p63066
aVSwing components are designed to be used as is, and you should generally not extend them
p63067
as(dp63068
g23
V571407
p63069
stp63070
a((dp63071
g2
(lp63072
VA  doesn't have any format
p63073
aVIt has a value, which is a number of milliseconds since 1st Jan
p63074
aV1970, and a chronology
p63075
aVIt's only when you transform a  to a String that you need to choose a format
p63076
aVAnd you know how to do that already, since you're doing it in your question
p63077
aVSo what you're trying to do just doesn't make sense
p63078
as(dp63079
g23
V571407
p63080
stp63081
a((dp63082
g2
(lp63083
VNeither Spring nor Hibernate comes with an XA-enabled transaction manager
p63084
aVSo you indeed need such a transaction manager in order to have distributed transactions with Spring/Hibernate
p63085
aVThis is explained in the Spring documentation
p63086
as(dp63087
g23
V571407
p63088
stp63089
a((dp63090
g2
(lp63091
VThe  calls the
p63092
aVInternally, it listens to keyboard and mouse events
p63093
aVWhen it receives a mouse click or a keypress which means "click the button", it creates an  instance, loops through all the  instances that have been added to itself, and calls each one with the  as argument
p63094
as(dp63095
g23
V571407
p63096
stp63097
a((dp63098
g2
(lp63099
VThere is no best practice
p63100
aVIt only depends if you need the exception handling part inside the synchronized block or not
p63101
aVYou might want one or the other, and should choose the one which makes the synchronized block the shortest, while still making the code correct and thread-safe
p63102
as(dp63103
g23
V571407
p63104
stp63105
a((dp63106
g2
(lp63107
VYes, the standard practice is to limit the results using some limit clause (which is, unfortunately, non-standard and different for every database)
p63108
aVJPA supports that natively using the  and  methods, which are translated to the appropriate limit clause in SQL
p63109
as(dp63110
g23
V571407
p63111
stp63112
a((dp63113
g2
(lp63114
VOK
p63115
aVHint to the solution: Read carefully the javadoc of the Scanner class, and especially the part explaining what the default delimiter is, as well as the documentation of the  method
p63116
aVNow look at what the solution is, and ask yourself if it could have a relationship with what the default delimiter is
p63117
aVTo confirm, choose another solution and see if it changes something
p63118
aVAlso print the values of the variables you compare to see what they actually contain, or learn to use the Eclipse debugger
p63119
aVIt's not so hard, and I'm sure Eclipse has a help page about it
p63120
as(dp63121
g23
V571407
p63122
stp63123
a((dp63124
g2
(lp63125
V is a method of
p63126
aVEvery Java object has an instrinsic lock, called the monitor
p63127
aVwaits on the object references by the variable
p63128
aVis equivalent to , and thus waits on the object referenced by
p63129
aVThat said,  is a very low-level and hard to use abstraction
p63130
aVYou'd better use higher-level abstraction, like a
p63131
aV, which Java has
p63132
aVCheck it out in the javadoc
p63133
aVAlso check out Java's concurrency tutorial, which covers these topics
p63134
as(dp63135
g23
V571407
p63136
stp63137
a((dp63138
g2
(lp63139
VThe javadoc says:
p63140
aVReturn the query results as an Iterator
p63141
aVIf the query contains multiple results pre row, the results are returned in an instance of Object[]
p63142
aVEntities returned as results are initialized on demand
p63143
aVThe first SQL query returns identifiers only
p63144
aV(emphasis mine)
p63145
as(dp63146
g23
V571407
p63147
stp63148
a((dp63149
g2
(lp63150
VYou can't do that with the Hibernate Criteria API
p63151
aVIt's possible in HQL or in the JPA2 Criteria API, but not using the Hibernate Criteria API
p63152
as(dp63153
g23
V571407
p63154
stp63155
a((dp63156
g2
(lp63157
VYou're supposed to shut down the scheduler when the application is undeployed
p63158
aVThe easier way to do that is to declare an implement a ServletContextListener, and shut down the schedler in the  method
p63159
as(dp63160
g23
V571407
p63161
stp63162
a((dp63163
g2
(lp63164
VStraight from the Getting Started guide:
p63165
aVRequirements
p63166
aVJava SE 6 or later (we recommend that you use the latest update available)
p63167
aVJava SE 7 can be used with JBoss AS 7
p63168
as(dp63169
g23
V571407
p63170
stp63171
a((dp63172
g2
(lp63173
V is an instance method of the inner class B
p63174
aVSo you need a B instance to be able to call it:
p63175
as(dp63176
g23
V571407
p63177
stp63178
a((dp63179
g2
(lp63180
VJPA and Hibernate are the same thing
p63181
aVJPA is the API (interfaces, abstract classes, specification), and Hibernate is one of the implementations of this API
p63182
aVYou could use Hibernate and continue using its proprietary, non-standard API, but there's no real advantage, since you can do the same thing using a standard API, that you'll be able to use in other projects, using a different implementation
p63183
aVSpring is used as another level, to provide dependency injection, declarative transactions, and much more services
p63184
as(dp63185
g23
V571407
p63186
stp63187
a((dp63188
g2
(lp63189
VThe first part is right
p63190
aVYou can treat an AJAX request exactly as another request, and execute a JSP that will generate a fragment of a page
p63191
aVThe JavaScript function will receive this fragment, and can do whatever it wants with it: append it to some section of the page, replace a section with this fragment, etc
p63192
as(dp63193
g23
V571407
p63194
stp63195
a((dp63196
g2
(lp63197
V returns the ceiled value
p63198
aVIt can't change the value of the variable it takes as argument, because Java passes arguments by value
p63199
aVSo you need to do
p63200
as(dp63201
g23
V571407
p63202
stp63203
a((dp63204
g2
(lp63205
VIn JPQL (which I really advise you to use when you don't need a dynamically generated query), you would write it like this:
p63206
aVIf you really want to use the Criteria API to write this query, do the same thing: create a join and check that the ID of the joined entity is equal to the given student ID
p63207
aVIt should look like this:
p63208
as(dp63209
g23
V571407
p63210
stp63211
a((dp63212
g2
(lp63213
VPass an array of categories, as shown in the javadoc
p63214
as(dp63215
g23
V571407
p63216
stp63217
a((dp63218
g2
(lp63219
VI would use polymorphism:
p63220
aVFor this to work, all the user objects of your nodes must be instances of the same  interface
p63221
as(dp63222
g23
V571407
p63223
stp63224
a((dp63225
g2
(lp63226
VIf you're already using Java 8:
p63227
as(dp63228
g23
V571407
p63229
stp63230
a((dp63231
g2
(lp63232
VPass the wrapped request to the filter chain:
p63233
as(dp63234
g23
V571407
p63235
stp63236
a((dp63237
g2
(lp63238
VEnvers does that for you:
p63239
aVThe Envers project aims to enable easy auditing/versioning of persistent classes
p63240
aVAll that you have to do is annotate your persistent class or some of its properties, that you want to audit, with @Audited
p63241
aVFor each audited entity, a table will be created, which will hold the history of changes made to the entity
p63242
aVYou can then retrieve and query historical data without much effort
p63243
as(dp63244
g23
V571407
p63245
stp63246
a((dp63247
g2
(lp63248
VHQL doesn't support
p63249
aVYou'll have to execute two different queries, or use SQL
p63250
as(dp63251
g23
V571407
p63252
stp63253
a((dp63254
g2
(lp63255
VYour JSON represents an object with one single field: :
p63256
aVThe value of this field is an array with a single element:
p63257
aVThis single element is an object with several fields, one of them being
p63258
aVSo your code should first get the field  as an array, take the first element of this array as another JSON object, and finally get the String  in this object
p63259
as(dp63260
g23
V571407
p63261
stp63262
a((dp63263
g2
(lp63264
VYour getter is , so the property is , and not :
p63265
aVThe EL doesn't care about the private fields of your class
p63266
aVIt cares about its JavaBean properties
p63267
as(dp63268
g23
V571407
p63269
stp63270
a((dp63271
g2
(lp63272
VSpring closes connections when the transaction is committed of rollbacked
p63273
aVBut the connections are pooled connections, so closing them simply puts them back into the pool of connections, and doen't physically closes them
p63274
aVThe first goal is to be able to get a new connection from the pool extremely quickly, without having to recreate a new physical connection each time, because it's a costly operation
p63275
aVThe other goal is to be able to put a limit on the number of opened connections, to avoid bringing the database to its knees
p63276
aVNote that the pool of connections, in your case, isn't handled by Spring, but by your application server, which makes it available from JNDI
p63277
as(dp63278
g23
V571407
p63279
stp63280
a((dp63281
g2
(lp63282
VJust don't map the servlet to
p63283
aVThat makes it the default servlet, which catches all the requests
p63284
aVMap it to the URL it must handle (like  for example)
p63285
as(dp63286
g23
V571407
p63287
stp63288
a((dp63289
g2
(lp63290
VInitialize the fileLogger variable (which thus can't be final) in the  method
p63291
aVA class field is initialized at class loading time, before any methof of the class can be called
p63292
aVThat said, I'm pretty sure you can't use this annotation on a static method
p63293
aVSpring injects fields, constructors or instance setter methods
p63294
as(dp63295
g23
V571407
p63296
stp63297
a((dp63298
g2
(lp63299
VYour expectation is wrong
p63300
aVRepeatable read doesn't mean that a transaction should block while another transaction reads the same row
p63301
aVIt means that reading the same row twice in the same transaction should return the same data, even if another transaction has committed a change to this row between the first and the second read
p63302
aVYou get that (more or less) for free with Hibernate, since the second read will return the data from the first-level cache, without going to the database at all
p63303
aVSee http://en
p63304
aVwikipedia
p63305
aVorg/wiki/Isolation_%28database_systems%29#Non-repeatable_reads
p63306
aVAlso, you're making your test with a database that doesn't support this isolation level:
p63307
aVhttp://www
p63308
aVhsqldb
p63309
aVorg/doc/2
p63310
aV0/guide/dbproperties-chapt
p63311
aVhtml#N15385
p63312
as(dp63313
g23
V571407
p63314
stp63315
a((dp63316
g2
(lp63317
VIt makes no sense to have two columns wit the same name in the same table
p63318
aVSo just choose a different name for the columns
p63319
aVChange
p63320
aVto
p63321
aVAs the name of the attribute indicates, the name you give there is the name of the join column, part of the join table,  i
p63322
ag468
aVthe name of the column holding the foreign key to the activity or user table, in the join table ACTIVITY_USER
p63323
aVHibernate already know the name of the PK of User and Activity: you told it in their respective  annotation
p63324
as(dp63325
g23
V571407
p63326
stp63327
a((dp63328
g2
(lp63329
V returns the next token, and the default separator of tokens is the white space, so the resulting value for the input  is
p63330
aVAlso, your  variable should be a boolean
p63331
as(dp63332
g23
V571407
p63333
stp63334
a((dp63335
g2
(lp63336
VREgarding the installation, I would probably simply go for a zip file containing an executable jar or a startup shell script
p63337
aVOr use Java Web Start
p63338
aVRegarding images, they should be in the jar file, along with your
p63339
aVclass files, and be loaded using
p63340
as(dp63341
g23
V571407
p63342
stp63343
a((dp63344
g2
(lp63345
VYou only write one account to the file
p63346
aVThere is no loop at all in the code writing the account
p63347
aVCode that would write several accounts would look like this:
p63348
as(dp63349
g23
V571407
p63350
stp63351
a((dp63352
g2
(lp63353
VThe answers to your two questions are Yes, and Yes
p63354
aVIn fact, you might not have an instance of ContactDAOImpl autowired in the service, but an instance of a proxy, which deletages to an instance of ContactDAOImpl
p63355
aVThe proxy will typically handle transactions, translate exceptions, etc
p63356
aVAnd the  annotation is an alternative (simpler) way to declare a Spring bean
p63357
aVIt works only if you have an element in the Spring xml file telling it to discover annotated beans
p63358
as(dp63359
g23
V571407
p63360
stp63361
a((dp63362
g2
(lp63363
VSuppose you have a single file in your repo, and you have the following commits:
p63364
aVIf you execute revert on , you'll have this in the repo:
p63365
aVAnd the file in your working copy will contain B as well
p63366
aVIf you execute roll back, you'll have this in the repo:
p63367
aVAnd the file in your working copy will be left unmodified
p63368
aVThe file will thus contain C
p63369
aVIt allows you to fix a small mistake and commit again, for example
p63370
as(dp63371
g23
V571407
p63372
stp63373
a((dp63374
g2
(lp63375
VIt's probably because most of the time in each iteration is spent printing to , which is a synchronized operation that is thus not parallelizable
p63376
aVSo the cost induced by starting threads, scheduling them and synchronize them makes the parallel iteration slower than the sequential one
p63377
as(dp63378
g23
V571407
p63379
stp63380
a((dp63381
g2
(lp63382
VHibernate is an implementation of the JPA specification
p63383
aVJPA is just a specification, and a set of annotations and interfaces
p63384
aVYou need an implementation of JPA to use it, and Hibernate is one of them
p63385
aVJust like to use JDBC, you need a database driver
p63386
aVThe package of the annotation is , so they're JPA annotations
p63387
aVHibernate annotations are in the package
p63388
as(dp63389
g23
V571407
p63390
stp63391
a((dp63392
g2
(lp63393
VA tag allows remembering which commit was used to build a release
p63394
aVIf you want to fix bugs after the release on a branch separated from the master branch, you can create a branch, directly or later, from this commit
p63395
aVJust like in Subversion
p63396
as(dp63397
g23
V571407
p63398
stp63399
a((dp63400
g2
(lp63401
VDon't add the text area to the panel directly
p63402
aVPut it inside a JScrollPane, and add the scroll pane to the panel, as explained in the tutorial
p63403
as(dp63404
g23
V571407
p63405
stp63406
a((dp63407
g2
(lp63408
VThe point of the pattern is that you can have 200 "big red" soldiers sharing the same "big red" graphical representation, 300 "small blue" soldiers sharing the same "small blue" graphical representation, etc
p63409
aVIf you make the graphical representation static, all the soldiers will be identical
p63410
as(dp63411
g23
V571407
p63412
stp63413
a((dp63414
g2
(lp63415
VA static field is a field that belongs to the class it's declared in
p63416
aVWhereas an instance (non-static) field belongs to an instance of the class it's declared in
p63417
aVSo, if you have the following:
p63418
aVand the following user code:
p63419
aVeach controller has its own instance list, but they both share a unique static list
p63420
aVYou want every controller to have its own buttons, so you definitely don't want static lists
p63421
aVIf you want to have access to a controller from another object, you simply need to pass the controller to this other class instance:
p63422
aVAnd inside , you can do whatever you want with the controller:
p63423
as(dp63424
g23
V571407
p63425
stp63426
a((dp63427
g2
(lp63428
VThe code in class A doesn't compile
p63429
aVThere is no  method in TableModel
p63430
aVYour goal of not having database-related code in a GUI class is a good one, but if it leads to GUI code in database-related code, the result is even worse
p63431
aVThe GUI class should contain GUI code only
p63432
aVThe data access code should contain database-related code only
p63433
aVThe GUI should call methods on the database access code to get data
p63434
aVIt should not pass JTable instances or even TableModel instances to the data access code:
p63435
as(dp63436
g23
V571407
p63437
stp63438
a((dp63439
g2
(lp63440
VYour client reads  (the host),  (the port), but not , the word to be searched
p63441
aVYour code is also hard to read, because it doesn't respect the standard naming conventions
p63442
aVClasses start with an uppercase letter, whereas methods start with a lowercase letter
p63443
aVYour code does the inverse
p63444
as(dp63445
g23
V571407
p63446
stp63447
a((dp63448
g2
(lp63449
V, as its javadoc indicates, reads resources from the classpath
p63450
aVNot from the file system
p63451
aVEither you want to read from a file, and should use file IO (i
p63452
ag468
aVa ), or you want to read from the classpath, and you should use  and pass a resource path, starting from the root of the classpath
p63453
aVFor example, if sound
p63454
aVwav is in the runtime classpath, in the package , the code should be
p63455
as(dp63456
g23
V571407
p63457
stp63458
a((dp63459
g2
(lp63460
VIt's not considered as an instance of  because it does not implement the interface
p63461
aVAs simple as that
p63462
aVChange its declaration to
p63463
aVand you'll be ale to use the foreach loop with it
p63464
aVBut since  is an instance of , and since a  contains instances of  (at least, I guess so), the loop should be:
p63465
as(dp63466
g23
V571407
p63467
stp63468
a((dp63469
g2
(lp63470
VI've never done any android development, but the documentation of SimpleCursorAdapter says:
p63471
aVFirst, if a SimpleCursorAdapter
p63472
aVViewBinder is available, setViewValue(android
p63473
aVview
p63474
aVView, android
p63475
aVdatabase
p63476
aVCursor, int) is invoked
p63477
aVIf the returned value is true, binding has occured
p63478
aVIf the returned value is false and the view to bind is a TextView, setViewText(TextView, String) is invoked
p63479
aVIf the returned value is false and the view to bind is an ImageView, setViewImage(ImageView, String) is invoked
p63480
aVSo you just need to pass a custom instance of SimpleCursorAdapter which will, if the column index is 1 (second column), get the value in pounds from the cursor, multiply it to transform pounds into kg, set the result as the text of the view, and return true
p63481
aVFor the other columns, return false
p63482
as(dp63483
g23
V571407
p63484
stp63485
a((dp63486
g2
(lp63487
VLazy loading doesn't mean that the data won't be loaded
p63488
aVIt means that the data will only be loaded when you (or Dozer, in this case), asks for its value
p63489
aVSuppose you have an entity Manager, with a OneToMany with an entity Worker
p63490
aVAnd suppose the association is lazy-loaded
p63491
aVHere's what will happen:
p63492
aVIt's lazy, because it's only loaded when you really needed
p63493
aVSo, if you don't want to return the workers with the manager when mapping it using Dozer, make sure that Dozer doesn't try to get the workers
p63494
aVThere are two simple solutions to do that:
p63495
aVdon't use Dozer (which sucks, IMHO)
p63496
aVmap the  entity to a  class which doesn't contain a workers list
p63497
as(dp63498
g23
V571407
p63499
stp63500
a((dp63501
g2
(lp63502
VYou're initializing the variable in a background thread
p63503
aVThat means that the line
p63504
aVis executed in parallel with the code initializing the variable
p63505
aVThat thus means that there is a huge chance that the background thread has not had the time to initialize the variable yet when this line is executed
p63506
aVYour code is similar to the following situation: you have an empty cup in front of you, and ask someone to go make some coffee and to fill your cup
p63507
aVAnd immediately after asking, you start drinking
p63508
aVThere will be no coffee inside the cup, obviously
p63509
aVRe-read the android documentation on how to execute asynchronous tasks
p63510
as(dp63511
g23
V571407
p63512
stp63513
a((dp63514
g2
(lp63515
VYou can't start a thread multiple times
p63516
aVIf you want to execute a runnable multiple times, re-create a new thread
p63517
as(dp63518
g23
V571407
p63519
stp63520
a((dp63521
g2
(lp63522
VBased on your comment, the problem is that you're modifying the lock
p63523
aVYou can't increment the value of an Integer object
p63524
aVInteger is immutable, so each time you "increment" it, you replace the lock by another lock:
p63525
aVUse a final  as a lock, and use a separate variable to hold the count
p63526
aVOr use an AtomicInteger
p63527
aVA Semaphore might be the class you're looking for as well
p63528
aVRule of thumb: a lock should always be final
p63529
aVAnd you should never use a shared object as a lock ( is a shared object, because , at least in some VM implementations, always return the same Integer instance)
p63530
as(dp63531
g23
V571407
p63532
stp63533
a((dp63534
g2
(lp63535
VYou're using the JDBC-ODBC bridge driver, which is an extremely old JDBC driver, built when JDBC was created more than 10 years ago in order to provide an way to use JDBC with databases which didn't have JDBC drivers yet, but had an ODBC driver
p63536
aVThis driver is completely obsolete now
p63537
aVUse a real JDBC driver for SQL Server instead
p63538
aVSee http://msdn
p63539
aVmicrosoft
p63540
aVcom/en-us/sqlserver/aa937724
p63541
aVaspx
p63542
as(dp63543
g23
V571407
p63544
stp63545
a((dp63546
g2
(lp63547
VIt will manage it just fine, by using database transactions
p63548
aVIf two threads try to create the same row (i
p63549
ag468
aVwith the same primary key) at the same time, one will succeed, and the other will get an exception from the database, which will cause a rollback of its transaction
p63550
aVThat means that all the other inserts, updates and deletes made in the same transaction will also be rollbacked, or cancelled if you prefer, leaving the database in a coherent state
p63551
aVThat's the A in ACID
p63552
aVIf two threads insert two different rows at the same time in the same table, then the database will handle that just fine, and both rows will be inserted
p63553
as(dp63554
g23
V571407
p63555
stp63556
a((dp63557
g2
(lp63558
VEach time you call  on the text field, you replace the text it displays by another text
p63559
aVSo create a String holding the 6 first numbers, and then set the text of the text field with the result:
p63560
as(dp63561
g23
V571407
p63562
stp63563
a((dp63564
g2
(lp63565
VI would create a getExtension() method, which returns the extension of the file, and a final set of accepted extensions:
p63566
aVThe code would then be redueced to:
p63567
aVOr even better, I would create a FileFilter which only accepts directories and files with one of the accepted extensions (using the same set and  method), and would use
p63568
as(dp63569
g23
V571407
p63570
stp63571
a((dp63572
g2
(lp63573
VIn order not to have a blank screen, you would have to write something to the output writer of the JSP
p63574
aVBut you don't do it
p63575
aVAll you do is call a method of a class
p63576
aVThis class, I guess, has  statements
p63577
aVBut  writes to the console of your JSP container (tomcat or whatever you're using), on the server
p63578
aVIt doesn't write to the JSP's writer
p63579
as(dp63580
g23
V571407
p63581
stp63582
a((dp63583
g2
(lp63584
VThe answer is in the documentation:
p63585
aVReal partial mocks (Since 1
p63586
ag52622
aV0)
p63587
aVFinally, after many internal debates & discussions on the mailing list, partial mock support was added to Mockito
p63588
aVPreviously we considered partial mocks as code smells
p63589
aVHowever, we found a legitimate use case for partial mocks - more reading: here
p63590
aVBefore release 1
p63591
aV8 spy() was not producing real partial mocks and it was confusing for some users
p63592
aVwas introduced after , but spy() was left there of course, to ensure backward compatibility
p63593
aVOtherwise, you're right: all the methods of a spy are real unless stubbed
p63594
aVAll the methods of a mock are stubbed unless  is called
p63595
aVIn general, I would prefer using , because it doesn't force me to use the  idiom instead of the traditional
p63596
as(dp63597
g23
V571407
p63598
stp63599
a((dp63600
g2
(lp63601
VIt seems like you're starting a process which generates an XML file, and read the generated file directly after
p63602
aVThis means that the parser will read the file while the process is running and writing to the same file
p63603
aVSo the parser will not see the complete generated file
p63604
aVYou should wait for the process to finish before reading the file it generates
p63605
aVYou should also respect the Java naming conventions: methods start with a lowercase letter
p63606
as(dp63607
g23
V571407
p63608
stp63609
a((dp63610
g2
(lp63611
VFirst of all, you shouldn't put AWT components inside Swing components
p63612
aVUse JComponent or JPanel instead of Canvas
p63613
aVSecond, no, it shouldn't repaint itself
p63614
aVWhen the button is clicked, you should simply store what should be painted in some variable, and the  method should be overridden in order to paint what is stored in this variable
p63615
aVThis way, every time the component is repainted, it will repaint what has been stored last in this variable
p63616
aVFor example:
p63617
aVIn general, you should never ask the Graphics of a component and paint on it
p63618
aVInstead, you should override  and paint the component using the Graphics passed as argument
p63619
as(dp63620
g23
V571407
p63621
stp63622
a((dp63623
g2
(lp63624
VYou want the association to be mapped using a join table
p63625
aVSo the annotation is (drumroll
p63626
aVThe javadoc has examples, and the Hibernate documentation as well
p63627
as(dp63628
g23
V571407
p63629
stp63630
a((dp63631
g2
(lp63632
VHere's an example, because an example is often clearer than a long explanation
p63633
aVSuppose  is a variable of type
p63634
aVThe following operation is not an atomic operation:
p63635
aVIndeed, the variable is written using two separate operations: one that writes the first 32 bits, and a second one which writes the last 32 bits
p63636
aVThat means that another thread might read the value of , and see the intermediate state
p63637
aVMaking the operation atomic consists in using synchronization mechanisms in order to make sure that the operation is seen, from any other thread, as a single, atomic (i
p63638
ag468
aVnot splittable in parts), operation
p63639
aVThat means that any other thread, once the operation is made atomic, will either see the value of  before the assignment, or after the assignment
p63640
aVBut never the intermediate value
p63641
aVA simple way of doing this is to make the variable volatile:
p63642
aVOr to synchronize every access to the variable:
p63643
aVOr to replace it with an AtomicLong:
p63644
as(dp63645
g23
V571407
p63646
stp63647
a((dp63648
g2
(lp63649
VYour code tries to find a method taking an  (the concrete class of ) as argument
p63650
aVBut your method doesn't take an  as argument
p63651
aVIt takes a  as argument
p63652
aVYou'll need to pass the types of the parameters of the method in addition to the values of the parameters
p63653
aVOr you could refactor the code and either make the method protected or package-protected, or put it in another collaborating class as a public method
p63654
as(dp63655
g23
V571407
p63656
stp63657
a((dp63658
g2
(lp63659
VYou need to populate your array first:
p63660
aVOtherwise, you create an array which just contains null elements
p63661
as(dp63662
g23
V571407
p63663
stp63664
a((dp63665
g2
(lp63666
s(dp63667
g23
V571407
p63668
stp63669
a((dp63670
g2
(lp63671
VThe default way of mapping a OneToMany unidirectional association is to use a join table
p63672
aVThis avoid polluting the child (many) side with a join column, since it's not supposed to know its parent (the one side)
p63673
aVIf you want a foreign key at the many side, referencing the one side, then you need to say it explicitely using an @JoinColumn annotation on the OneToMany association declaration
p63674
aVHow to do that with Roo, I don't know
p63675
as(dp63676
g23
V571407
p63677
stp63678
a((dp63679
g2
(lp63680
VYou can't
p63681
aVThe session is kept in memory (or on disk) at server-side
p63682
aVjQuery runs in the browser, at client side
p63683
aVIf you want to have data available at client-side, you need to send it to the browser
p63684
as(dp63685
g23
V571407
p63686
stp63687
a((dp63688
g2
(lp63689
VThe user changes the selection in the combo box
p63690
aVSo a first ItemEent is fired to tell that the previously selected item has been de-selected, and a second one is fired to say that the newly-selected item has been selected
p63691
aVI would use an ActionListener instead of an ItemListener
p63692
as(dp63693
g23
V571407
p63694
stp63695
a((dp63696
g2
(lp63697
VThis is a design smell
p63698
aVYou shouldn't have two parallel arrays
p63699
aVInstead, you should have a single array of Player objects, where each Player would have a name and a score
p63700
aVStoring the arra of players by name or by score would then be extremely simple
p63701
aVJava is an OO language
p63702
aVUse objects
p63703
as(dp63704
g23
V571407
p63705
stp63706
a((dp63707
g2
(lp63708
VYour protocol is wrong, and leads to a deadlock
p63709
aVThe server starts by writing a line to the client
p63710
aVThen it waits for a line from the client
p63711
aVThe client, on the other side, starts by reading from the server until there's nothing more to read, and the  method return -1
p63712
aVThis will only happen when the server closes its output stream to the client
p63713
aVSo the client waits for the next char from the server, and the server waits for the first line from the client
p63714
aVDeadlock
p63715
aVIn general, client and server code should be symmetric
p63716
aVIf you send a line on one side, you should read a line on the other side
p63717
as(dp63718
g23
V571407
p63719
stp63720
a((dp63721
g2
(lp63722
VThe message is clear: you have a repeated column in the mapping
p63723
aVThat means that you mapped the same database column twice
p63724
aVAnd indeed, you have
p63725
aVand also
p63726
aV(and the same goes for /)
p63727
aVYou shouldn't reference other entities by their ID, but by a direct reference to the entity
p63728
aVRemove the  field, it's useless
p63729
aVAnd do the same for
p63730
aVIf you want the cutomer ID of a sale, you just need to do
p63731
as(dp63732
g23
V571407
p63733
stp63734
a((dp63735
g2
(lp63736
VNo, there's no difference
p63737
aVA folder is a folder
p63738
aVWhether you create it when the repo is created or later doesn't change anything
p63739
aVBut I would create them directly, since you will need them
p63740
as(dp63741
g23
V571407
p63742
stp63743
a((dp63744
g2
(lp63745
VDon't use a String when you want a Date
p63746
aVUse a Date
p63747
aVYou should only transfom the Date to a String when displaying it
p63748
aVOtherwise, everywhere in the code, the date should of type Date
p63749
aVThis is what allows sorting in chronological order, because dates have a natural order which is chronological
p63750
aVSo, once the  has a  and an , both being of type , you can sort a list of row items by start date using a simple comparator:
p63751
aVAlso, fix your indentationof if/else blocks, because your way is really not readable:
p63752
as(dp63753
g23
V571407
p63754
stp63755
a((dp63756
g2
(lp63757
VBecause what Java calls a Charset is what you call an encoding
p63758
aVThe documentation of CharSet describes a Charset as:
p63759
aVA named mapping between sequences of sixteen-bit Unicode code units and sequences of bytes
p63760
aVBTW, there is no  method in Charset
p63761
as(dp63762
g23
V571407
p63763
stp63764
a((dp63765
g2
(lp63766
VThere is no way
p63767
aVTo be able to execute a method on an object, you need to have the byte-code of the concrete class of the object
p63768
aVIts interface isn't sufficient
p63769
as(dp63770
g23
V571407
p63771
stp63772
a((dp63773
g2
(lp63774
VYou need a RunnerFactory
p63775
aVIf you don't want to test the class of the task, you could use the visitor pattern, which allows basically doing what you want (), but without any coupling between the task and the runner:
p63776
aVNow, to get a runner from a task, you just need to call
p63777
aVAnd if you add a new Task type, you'll be foced to implement its  method, which will force you to add a new method to the visitor, and a new Runner implementation
p63778
as(dp63779
g23
V571407
p63780
stp63781
a((dp63782
g2
(lp63783
VThe documentation says:
p63784
aVSupport for new charsets can be made available via the interface defined in the CharsetProvider class in the java
p63785
aVnio
p63786
aVcharset
p63787
aVspi package
p63788
aVFollow the link and read the instructions
p63789
as(dp63790
g23
V571407
p63791
stp63792
a((dp63793
g2
(lp63794
VYou're calling
p63795
aVbut there is no  variable defined in the main method
p63796
aVAnd BTW, even if there was one, the  method takes two arguments, and not just one
p63797
aVAlso note that the  method is static
p63798
aVSo you don't need any instance of DVDCollection to call it
p63799
aVInstead of
p63800
aVyou should use
p63801
as(dp63802
g23
V571407
p63803
stp63804
a((dp63805
g2
(lp63806
V returns the view index of the selected row
p63807
aVThat means that if you sort your table, then select the first row displayed in the table, you'll get
p63808
aVBut since the table is sorted, this index is not the index of the selected row in the model
p63809
aVTo get the corresponding row in the model, you must call
p63810
aVSo, the correct sequence to get the ID of the object selected in the detail table is:
p63811
as(dp63812
g23
V571407
p63813
stp63814
a((dp63815
g2
(lp63816
VYou marked the column as non-updatable, and EclipseLink detects that the only change made to the person you tell it to merge is the user name
p63817
aVBut the user name must not be updated
p63818
aVSo it doesn't issue any SQL update query
p63819
aVIf you mark a column as non-updatable, you shouldn't update it
p63820
aVSo, to make things clear, the behavior you observe is the expected behavior
p63821
as(dp63822
g23
V571407
p63823
stp63824
a((dp63825
g2
(lp63826
s(dp63827
g23
V571407
p63828
stp63829
a((dp63830
g2
(lp63831
VInitialize an empty collection or holder object, and fill this collection or holder inside the  instance:
p63832
aVOr even cleaner, create a named subclass of Work:
p63833
as(dp63834
g23
V571407
p63835
stp63836
a((dp63837
g2
(lp63838
VThe problem is that you're using a String instead of a numeric value
p63839
aVUse a Long instead of a String, and your error will disappear
p63840
aVAFAIK, you can't use a trigger to populate the ID
p63841
aVIndeed, Hibernate would have to retrieve the generated ID, but since it doesn't have an ID, I don't see how it could read back the row it has just inserted (chicken and egg problem)
p63842
aVYou could use your SQL query to get an ID before inserting the row, but this strategy is inefficient, and has a risk of duplicate IDs in case of concurrent inserts
p63843
aVSo I wouldn't use this strategy
p63844
aVYou tagged your post with Oracle
p63845
aVI suggest you use a sequence
p63846
aVthat's what they're for
p63847
as(dp63848
g23
V571407
p63849
stp63850
a((dp63851
g2
(lp63852
VAFAIK, the proxy is initialized, whatever te method you call
p63853
aVAnd there might be a good reason to do so
p63854
aVFor example, your  method could contain the following instructions:
p63855
aVIf the proxy was not initialized, the logged name would be null, which would be incorrect
p63856
aVI've read somewhere that the proxy is not initialized when calling  if you use property access type rather than field access type (i
p63857
ag468
aVif your getters are annotated with mapping annotations rater than your fields)
p63858
aVBut I would simply initialize the object before closing the session, instead of initializing it after, by issuing a new sessio and a new database query
p63859
as(dp63860
g23
V571407
p63861
stp63862
a((dp63863
g2
(lp63864
VYou don't need any
p63865
aVtld file to use tags implemented as tag files
p63866
aVThe tags must simply be put under , and be declared in the JSP using
p63867
aVMore information here
p63868
as(dp63869
g23
V571407
p63870
stp63871
a((dp63872
g2
(lp63873
VGradle is an incremental build system
p63874
aVThis means that it checks that a task must really be executed before actually executing it, in order to be faster
p63875
aVSo, for example, if you already compiled your source files in a previous build, and didn't modify any source file (nor any other input of the compile task), then Gradle won't recompile all the source files, because it know it will lead to exactly the same output as the one already present in the build folder
p63876
aVAnd the compilation is thus safely skipped, leading to a faster build
p63877
aVMore information in the documentation
p63878
as(dp63879
g23
V571407
p63880
stp63881
a((dp63882
g2
(lp63883
VI don't see  and  declared anywhere
p63884
aVThey shoud be declared inside the inner foreach loop
p63885
aVElse, you'll concatenate the contents ef every file into the ses Strings
p63886
aVYour algorithm is very inefficient, and doesn't take into account new lines, but that's another story
p63887
as(dp63888
g23
V571407
p63889
stp63890
a((dp63891
g2
(lp63892
VUse a Hamcrest matcher, as shown in the documentation:
p63893
aVwhere  is defined as
p63894
as(dp63895
g23
V571407
p63896
stp63897
a((dp63898
g2
(lp63899
VSo, a User has many preferred Stores, and a Store is the preferred store of many users
p63900
aVThis is thus a ManyToMany association between User and Store
p63901
aVJust map it as explained in the documentation:
p63902
as(dp63903
g23
V571407
p63904
stp63905
a((dp63906
g2
(lp63907
V doesn't transform a byte array into a String
p63908
aVIt gives a String representation of a byte array, for debugging purposes, as  would do
p63909
aVshould transform a byte array into a String
p63910
aVAnd  should transform a base64 string into the corresponding byte array
p63911
aVAll the Base64 libraries I've seen have such a method built-in
p63912
aVYours probably has one as well
p63913
aVIf it doesn't, Base64 containing ASCII characters, you can simply use
p63914
aVand
p63915
as(dp63916
g23
V571407
p63917
stp63918
a((dp63919
g2
(lp63920
VIf you want A to be selected 80% of the time, and B to be selected 20% of the time, on average, just pick a random number between 0 (inclusive) and 100 (exclusive)
p63921
aVIf the number is < 80, choose A, else choose B
p63922
aVAs simple as that
p63923
as(dp63924
g23
V571407
p63925
stp63926
a((dp63927
g2
(lp63928
VCreate a class called Employee, with the fields , ,
p63929
aVStore all these employees in a  where the key is the employee's ID, and the value is the employee having this ID
p63930
aVThen for each employee, you can easily get all his management chain by recusrsively looking up his manager in the map:
p63931
aVThe rest is parsing and formatting
p63932
as(dp63933
g23
V571407
p63934
stp63935
a((dp63936
g2
(lp63937
VHibernate doesn't do the sorting
p63938
aVThe database does
p63939
aVExecuting a criteria query boils down to executing a SQL query having an  clause
p63940
aVSo check the configuration of your database to know how to specify the collation used by a table or column
p63941
as(dp63942
g23
V571407
p63943
stp63944
a((dp63945
g2
(lp63946
VChange INFO to DEBUG for the package or class you want, or for the rootCategory if you want DEBUG everywhere
p63947
aVRead the documentation
p63948
as(dp63949
g23
V571407
p63950
stp63951
a((dp63952
g2
(lp63953
VI would say no
p63954
aVFor example, you'll save some product or whatever in the database, and show a success page or redirect, thinking everything has been saved
p63955
aVBut the transaction won't be committed yet and could still rollback after you have displayed the success message
p63956
aVAnd with Hibernate, the probability of this happening is even bigger, because nothing will be written to the database until flush time, which will happen just before the commit
p63957
aVMoreover the transaction will live longer than necessary, preventing other transactions to procees in case it has put a lock on rows or tables in the database, resulting in poorer performance and scalability
p63958
aVWhat's wrong with the default Spring OpenSessionInViewFilter, which lets the session open, but still uses service-level, short transactions
p63959
aVWhy do your requests open multiple transactions
p63960
aVMy quess is that you're doing too many calls from the UI layer to the service layer in a single request
p63961
as(dp63962
g23
V571407
p63963
stp63964
a((dp63965
g2
(lp63966
VNo, because neither  nor its parent  class overrides the  method
p63967
aVSo it inherits the  method from Object, which only considers two objects to be equal if they are the same object
p63968
as(dp63969
g23
V571407
p63970
stp63971
a((dp63972
g2
(lp63973
VUse TimeUnit directly as the type of your parameter
p63974
aVSpring can bind enums without problem
p63975
as(dp63976
g23
V571407
p63977
stp63978
a((dp63979
g2
(lp63980
VYou must use
p63981
aVand not
p63982
aVThis is explained in the documentation
p63983
as(dp63984
g23
V571407
p63985
stp63986
a((dp63987
g2
(lp63988
VYes, you can use one or the other
p63989
aVThe only difference is that double-quoted strings can be GStrings, which can contain evaluated expressions like in the following example taken from the Groovy documentation:
p63990
as(dp63991
g23
V571407
p63992
stp63993
a((dp63994
g2
(lp63995
VUnless the original author lets you push to his repo, you won't be allowed to do it
p63996
aVThe usual process to contribute to a project you don't own is to:
p63997
aVcreate a fork of the repo
p63998
aVclone the fork you've just created to work on it locally
p63999
aVcreate a branch to add your contribution
p64000
aVadd commits to this branch
p64001
aVpush it to your forked repo on github
p64002
aVsend a pull request to the original repo on github so that the author can fetch the branch from your repo, test it, and integrate it if he likes it
p64003
aVThis is explained when you click on the giant 3 - Fork a repository link on Github's home page
p64004
as(dp64005
g23
V571407
p64006
stp64007
a((dp64008
g2
(lp64009
VFirst of all, I wouldn't care at all if my JSP generated an exception due to a malicious user changing a parameter value
p64010
aVBut This wouldn't happen if you used the MVC pattern, and started to fill a command/form object with the parameters sent by the browser
p64011
aVThat way, you would have typed variables instead of strings, and you would compare those typed variables with the typed values coming from the database
p64012
as(dp64013
g23
V571407
p64014
stp64015
a((dp64016
g2
(lp64017
VThe above doesn't compile
p64018
aVIf you didn't try to put everything on one line, you would understand why more easily
p64019
aVStart by creating a variable for
p64020
aVThen put one instruction per line
p64021
aVThen don't mix  and the  concatenation operator
p64022
aVThe code becomes:
p64023
aVAnd the last instruction isn't valid
p64024
aVTo become valid, and make it a link, you would need something like
p64025
aVRespecting the Java naming conventions (variables start with a lowercase letter) is also crucial in making code readable and understandable
p64026
as(dp64027
g23
V571407
p64028
stp64029
a((dp64030
g2
(lp64031
VFrom the comments, it looks like you have several class loaders
p64032
aVThe annotated class and its Manifest annotation are loaded by a first class loader, and the class containing the  tests in your question is loaded by a second class loader, and reloads the Manifest class using this second class loader
p64033
aVAs a consequence, you test if  is the same as , and they are not, because although they have the same name, they're two different classes because loaded by two different class loaders
p64034
aVIt's hard to tell you how to fix the problem, because we don't know what your application does, how it does it and in which environment
p64035
aVBut you should make sure only one classloader can load the class
p64036
aVFor example, if run in a webapp, the class should be in the container's claspath, or in the webapp's classpath (WEB-INF/classes and WEB-INF/lib/xxx
p64037
aVjar), but not in both
p64038
as(dp64039
g23
V571407
p64040
stp64041
a((dp64042
g2
(lp64043
VUse a ServletContextListener
p64044
aVIt's invoked when the application is started, and when it's destroyed
p64045
as(dp64046
g23
V571407
p64047
stp64048
a((dp64049
g2
(lp64050
VThe documentation says:
p64051
aVA Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace
p64052
aVThe resulting tokens may then be converted into values of different types using the various next methods
p64053
aVAnd it also says:
p64054
aVpublic String next(Pattern pattern)
p64055
aVReturns the next token if it matches the specified pattern
p64056
aVSo, your code reads chars until the next white space, and return them if they match your pattern
p64057
aVWhich is not the case since your pattern matches strings containing a white space, and a token can't contain one
p64058
as(dp64059
g23
V571407
p64060
stp64061
a((dp64062
g2
(lp64063
VNo, it shouldn't, unless your  method calls  and the association between Cat and Collar has a  (or ) attribute
p64064
as(dp64065
g23
V571407
p64066
stp64067
a((dp64068
g2
(lp64069
VYes
p64070
aVYou would send an HTTP request, read its response, and parse it
p64071
aVThis can be made using an URLConnection, or using a library like apache HttpCLient if you need more flexibility
p64072
as(dp64073
g23
V571407
p64074
stp64075
a((dp64076
g2
(lp64077
s(dp64078
g23
V571407
p64079
stp64080
a((dp64081
g2
(lp64082
VBecause that's how the Java language is defined
p64083
aVThe runtime doesn't check bounds at each operation (probably because it would be extremely expensive)
p64084
aVIt just overflows or underflows
p64085
as(dp64086
g23
V571407
p64087
stp64088
a((dp64089
g2
(lp64090
VIf you also don't care whether the operation has been executed or cancelled, then yes, you can ignore the returned Future
p64091
as(dp64092
g23
V571407
p64093
stp64094
a((dp64095
g2
(lp64096
VThe message says that  is 30
p64097
aVThat means that  is not 5, as you believe it is, but 25:
p64098
aVSide note, you should use named parameters in your queries instead of String concatenation to pass parameters
p64099
aVYour code is vulnerable to SQL injection attacks
p64100
aVIt will also fail if the email address happens to contain a single quote
p64101
as(dp64102
g23
V571407
p64103
stp64104
a((dp64105
g2
(lp64106
VOK
p64107
aVThe answer is simple now that we can see the code
p64108
aVThe district model contains instances of :
p64109
aVAnd you compare every element of this model with a String
p64110
aVSo obviously, the comparison will always be false, because a DistrictItem can't be equal to a String
p64111
aVOnly a String can be equal to a String
p64112
aVSo, assuming the district names are unique (but you should probably use the ID rather than the name), you should iterate through the elements and find the one which has the same name as the one you retrieved:
p64113
aVAlso, you should respect the Java naming conventions: variables start with a lwoercase letter:  instead of  (and same for all the other variables)
p64114
as(dp64115
g23
V571407
p64116
stp64117
a((dp64118
g2
(lp64119
VThe implementation of HttpServletRequest is the one provided by your servlet container (Tomcat, Jetty,
p64120
aVSo, if your container is opensource, print the class of the request:
p64121
aVthen find the sources of the servlet container and browse for the class that has been printed
p64122
aVThe web page of the container, most of the time, says where the sources can be found
p64123
aVThat said, the contract of the method is well documented in the interface, and you shouldn't have to know how it's implemented to use the method
p64124
aVThe documentation should be sufficient
p64125
as(dp64126
g23
V571407
p64127
stp64128
a((dp64129
g2
(lp64130
VYou could, for example, store the read data in a servlet context attribute
p64131
aVThen, from the other classes, you would get the attribute from the servlet context:
p64132
as(dp64133
g23
V571407
p64134
stp64135
a((dp64136
g2
(lp64137
VThe main problem is that you start a new thread each time
p64138
aVThis is time consuming, and it can bring the server to its knees if you get many concurrent requests, because you don't have any limit on the number of spawned threads
p64139
aVI would use a ThreadPoolExecutor instead, which would solve those two problems
p64140
as(dp64141
g23
V571407
p64142
stp64143
a((dp64144
g2
(lp64145
VThe input is
p64146
aVBut you're reading it using
p64147
aVSo you're reading an int, then a whole line, then a whole line, then a whole line, then a whole line
p64148
aVUse  instead of , since you want the next token, and not the next line
p64149
as(dp64150
g23
V571407
p64151
stp64152
a((dp64153
g2
(lp64154
VYour loop boils down to
p64155
aVSo, you're storing the same map of adjacent vertices in every vertex, and you clear this map at the end of each iteration
p64156
aVSo obviously, all the vertices share the same, empty map, at the end of the loop
p64157
aVYou should create a new LinkedHashMap at every iteration:
p64158
aVAnd you should not clear it, cince clearing it, well
p64159
aVclears it
p64160
as(dp64161
g23
V571407
p64162
stp64163
a((dp64164
g2
(lp64165
VYour mapping is incorrect
p64166
aVIn a bidirectional OneToMany association, the one side must be the inverse side of the many side:
p64167
aVAnd JPA only considers the owner side when it comes to the assicoation
p64168
aVSo adding a keyword to a content is not sufficient
p64169
aVYou must also set the content in the keyword:
p64170
as(dp64171
g23
V571407
p64172
stp64173
a((dp64174
g2
(lp64175
VYou forgot to call  before getting the value:
p64176
aVIf you don't call , the cursor doesn't point to any row
p64177
as(dp64178
g23
V571407
p64179
stp64180
a((dp64181
g2
(lp64182
VPrepared statements using
p64183
aVas a placeholder for parameters are a standard JDBC feature
p64184
aVRead the JDBC tutorial (and the JDBC javadoc) to understand what JDBC offers
p64185
aVSpring-JDBC adds JdbcTemplate over plain JDBC, which helps in handling exceptions, closing resources, generate objects from rows, etc
p64186
aVIt also adds support for named parameters, which are not supported by plain JDBC
p64187
aVClasses in the packages  and  are standard Java classes
p64188
aVClasses in the package  are Spring-specific classes
p64189
as(dp64190
g23
V571407
p64191
stp64192
a((dp64193
g2
(lp64194
s(dp64195
g23
V571407
p64196
stp64197
a((dp64198
g2
(lp64199
VYour code doesn't make much sense:
p64200
aVThe above line says that the query is supposed to return entities (with, potentially, joined entities), and that Hibernate should return only distinct entities
p64201
aVThe above line says that the query must only return one scalar column: the ID of the root entity
p64202
aVIf what you want is a list of IDs, then don't set the distinct root entity result transformer
p64203
as(dp64204
g23
V571407
p64205
stp64206
a((dp64207
g2
(lp64208
V doesn't return the pinging thread
p64209
aVIt's equivalent to , since  is a static method
p64210
aVTo get the pinging thread, just use :
p64211
aVI don't really understand why you would interrupt the current thread either
p64212
aVThe current thread is the event dispatch thread, which is running your GUI
p64213
aVThere is no reason to interrupt it
p64214
as(dp64215
g23
V571407
p64216
stp64217
a((dp64218
g2
(lp64219
VThe build path is that: a build path
p64220
aVA path used to build the application
p64221
aVThe runtime classpath of a webapp is composed from the WEB-INF/class directory, and the set of jars in
p64222
aVRemove the jar from the build path of the dynamic web project
p64223
aVThe just drop it into the  directory
p64224
aVEclipse will automatically add all the jars in this directory to the build path, and will put them in the  directory of the deployed web application, so that they're also part of the runtime classpath
p64225
as(dp64226
g23
V571407
p64227
stp64228
a((dp64229
g2
(lp64230
VIt's a JSP which is named
p64231
aVAFAIK, by default, the welcome files of a webapp include index
p64232
aVjsp
p64233
aVWhich means that if you go to the URL
p64234
aVthe index
p64235
aVjsp located in the  directory of the webapp will be executed
p64236
as(dp64237
g23
V571407
p64238
stp64239
a((dp64240
g2
(lp64241
VThe primary factor for choosing a language is not always (and even extremely rarely) performance
p64242
aVWhich one would you choose between those two:
p64243
aVLanguage A allows creating a program in 30 days
p64244
aVThe response time of every user interaction is 2 milliseconds
p64245
aVLanguage B allows creating the same program in 2 days
p64246
aVBut the response time of every user interaction is 20 milliseconds
p64247
aVDo you really think the end user care whether the response time is 2 or 20 milliseconds
p64248
aVThose are so tiny times that they're indistinguishable
p64249
aVBut 30 days of development compared to 2 days of development is huge
p64250
aVAt 1000 dollars a day, it makes quite a difference
p64251
aVMoreover, your benchmark is flawed
p64252
aVAnd moreover, you don't use OOP to be able to use an Integer rather than an int
p64253
aVYou use OOP to be able to manipulate complex objects, made of several fields and methods, in a more intuitive way
p64254
as(dp64255
g23
V571407
p64256
stp64257
a((dp64258
g2
(lp64259
VIf you declare a cascade of type REMOVE (or ALL) on the collection of ads in , you tell JPA: when I call  on an , also call  on all the ads in this collection
p64260
aVSo that's what JPA does
p64261
aVYou have a bidirectional association, it's your responsibility to make sure both sides of the association are in a coherent state
p64262
aVSo if you change the category of an ad, you should also remove this ad from the set of ads in its category, and you should also add the ad to its new category
p64263
aVIt's not absolutely mandatory in all the cases, but in yours, it is
p64264
aVAlso, your naming is really bad
p64265
aVAn instance of  is a single category
p64266
aVSo the entity should be named
p64267
aVSame for , which should be named
p64268
aVThe field  doesn't contain a category ID, but a category
p64269
aVIt should be named  of  and not
p64270
aVWhy name the field
p64271
aVIt's the ID in the class Ad, so it's already obviously the ID of an Ad
p64272
aVIt should thus be named
p64273
aVshould be named
p64274
aVThat might seem like details, but those are the details that make code look good and be readable
p64275
as(dp64276
g23
V571407
p64277
stp64278
a((dp64279
g2
(lp64280
VUnless android has some special way of treating enum references, each reference to a DropTarget will indeed take more than one byte in memory
p64281
aVEnums are classes, and enum instances are objects
p64282
aVSo a reference to an enum instance takes the same amout of memory as any other object reference
p64283
aVI wouldn't care much about it unless you have measured that this caused memory problems, though, and that reducing the size would have a significant impact
p64284
aVWhat you get from enums, mainly, is type safety
p64285
aVIf a method takes a  as argument, you (or coworkers) won't be able to pass anything other than one of the three instances of  (or null)
p64286
aVIf you use a byte instead, the code is less clear, and anyone could pass any byte value instead of the three authorized byte values
p64287
aVSo, decide which is the most important for you, and choose the solution you prefer
p64288
as(dp64289
g23
V571407
p64290
stp64291
a((dp64292
g2
(lp64293
VYou have several possibilities, and all involve JavaScript
p64294
aVWhen clicking on the link, change its href using JavaScript by appending all the values of the inputs of the form as parameters of the URL
p64295
aVWhen clicking on the link, add a hidden field to the form containing the question ID, change the action of the form to make it go to MCQApp instead of going to APPServlet, and submit the form
p64296
aVThe cleanest one: when clicking on the link, send an AJAX request to a URL which responds with an HTML fragment (or data), and replace the section of the page that you want to update with this HTML fragment, thus leaving the form as it is in the page
p64297
as(dp64298
g23
V571407
p64299
stp64300
a((dp64301
g2
(lp64302
VInstead of making the component invisible, set its text to the empty string:
p64303
as(dp64304
g23
V571407
p64305
stp64306
a((dp64307
g2
(lp64308
VThe above doesn't compile, because you can't execute instructions directly inside classes
p64309
aVClasses must contain field declarations, constructors and methods
p64310
aVBut not instructions
p64311
aVThe following would compile:
p64312
aVThis is realy basic stuff that you should learn by reading a Java book, or a tutorial
p64313
aVNot by asking questions on StackOverflow
p64314
as(dp64315
g23
V571407
p64316
stp64317
a((dp64318
g2
(lp64319
VObjects don't have names
p64320
aVVariables have
p64321
aVBut you can't create variables dynamically
p64322
aVIf you want to associate objects with names, use a :
p64323
as(dp64324
g23
V571407
p64325
stp64326
a((dp64327
g2
(lp64328
VYour first scenarrio is impossible
p64329
aVHibernate writes the changes to the database before the transaction is committed, and not after
p64330
aVUser 2 will read what has been committed to the database, since it reads the entity after the first transaction has been committed
p64331
aVIf User 2 read from the database before the commit of the first transaction, it would read the state as it was before the start of the first transaction (as long as the database isolation level is the default READ_COMMITTED)
p64332
aVHibernate applications are not different from other database applications: the ACIDity of the transactions is handled by the database, and not by Hibernate
p64333
aVEntities, BTW, are not shared
p64334
aVEvery Hibernate session has its own copy of a given entity, which contains the data as it has been read from the database in the transaction
p64335
aVRead about what database transactions and ACID are
p64336
aVWhether you use Hibernate or not doesn't change anything
p64337
as(dp64338
g23
V571407
p64339
stp64340
a((dp64341
g2
(lp64342
VTo complete Alex's answer:
p64343
as(dp64344
g23
V571407
p64345
stp64346
a((dp64347
g2
(lp64348
VThe ordinal of your enum has nothing to do with the rank you assign to each instance of the enum
p64349
aVEvery enum has an ordinal
p64350
aVThe ordinal starts at 0 for the first declared one, then 1, then 2, etc:
p64351
aVAnd enums are automatically comparable by their ordinal
p64352
aVSo
p64353
as(dp64354
g23
V571407
p64355
stp64356
a((dp64357
g2
(lp64358
VMarker interfaces are better than annotations when they're used to define a type
p64359
aVFor example, Serializable can be used (and should be used) as the type of an argument that must be serializable
p64360
aVAn annotation doesn't allow doing that:
p64361
aVIf the marker interface doesn't define a type, but only meta-data, then an annotation is better
p64362
as(dp64363
g23
V571407
p64364
stp64365
a((dp64366
g2
(lp64367
VYour loop exit condition is
p64368
aVBut you never assign any value to  in the loop
p64369
aVSo it loops endlessly
p64370
aVIn addition, you only print the value of the dice when it's not equal to the first roll
p64371
aVAnd not when it is
p64372
aVSo you got the impression that the first message is printed when it shouldn't
p64373
as(dp64374
g23
V571407
p64375
stp64376
a((dp64377
g2
(lp64378
VWhat you want to do is impossible
p64379
aVInheritance is not the appropriate tool, because, in Java like in Hibernate, an object has a type and can not become something else
p64380
aVYou should probably model this using composition rather than inheritance: a user has a practitionar role, or a user has a patient role
p64381
as(dp64382
g23
V571407
p64383
stp64384
a((dp64385
g2
(lp64386
VOf course
p64387
aVWhat would be the point of a list if you can't put objects in it
p64388
aVIt should be declared and initialized as
p64389
aVthough
p64390
aVThe issue is that you tell the tag to find the list in the request attribute named "list", but it's stored in a request attribute named "list1"
p64391
aVJust as you did, except of course you should create a new AcceptBean inside the wile loop, and add it to the list inside the while loop
p64392
aVOtherwise, you'll only ever have one object in your list, containing the last row retrieved from the database:
p64393
aVNo
p64394
aVWhy don't you read the tag documentation
p64395
aVIt explains how to use it, what the attributes are, and contains lots of examples
p64396
aVSee above
p64397
as(dp64398
g23
V571407
p64399
stp64400
a((dp64401
g2
(lp64402
VYou're constructing a BufferedReader and reading from it outside of the constructor, and this might throw an IOException
p64403
aVYou must thus handle this exception by putting this instruction into the constructor, and declaring the exception in its throws clause:
p64404
aVNote that it's a good habit to declare a variable only when you need it, and to initialize it immediately:
p64405
as(dp64406
g23
V571407
p64407
stp64408
a((dp64409
g2
(lp64410
VThat looks correct to me
p64411
aVYou could easily check by yourself by removing the call to the void method and verify that the test fails, or by adding a second call to the void method and see that the test also fails
p64412
as(dp64413
g23
V571407
p64414
stp64415
a((dp64416
g2
(lp64417
VSource code instrumentation consists in adding instructions to the source code before compiling it
p64418
aVThese instructions are used to trace which parts of the codes have been executed
p64419
aVOffline byte-code instrumentation consists in adding those same instructions, but after the compilation, directly into the byte-code
p64420
aVOn-the-fly byte-code instrumentation consists in adding those same instructions in the byte-code, but dynamically, at runtime, when the byte-code is loaded by the JVM
p64421
aVThis page has a comparison between the methods
p64422
aVIt might be biased, since it's part of the Clover documentation
p64423
aVDepending on your definition of "efficient", choose the one you like the most
p64424
aVI don't think you'll get enormous differences
p64425
aVThey all do the job, and the big picture will be the same whatever the method used
p64426
aVI think Cobertura doesn't support Java 7 though, so that's a factor to take into account
p64427
as(dp64428
g23
V571407
p64429
stp64430
a((dp64431
g2
(lp64432
VSimply use
p64433
aV(i
p64434
ag468
aVuse the overloaded  method which doesn't take any argument)
p64435
aVYou already passed the query when preparing the statement
p64436
as(dp64437
g23
V571407
p64438
stp64439
a((dp64440
g2
(lp64441
VThe file should be in the runtime classpath
p64442
aVMaven copies to the  folder the resources that are under
p64443
aVSo your config file should be there
p64444
aVThat said, you don't show the code which loads the file, so there might be other problems
p64445
as(dp64446
g23
V571407
p64447
stp64448
a((dp64449
g2
(lp64450
VIt seems you told IntelliJ that the library was the zip file containing all the distribution (sources, documentation, etc
p64451
aVExtract the zip file, and make it point to the jar file that this zip probably contains
p64452
as(dp64453
g23
V571407
p64454
stp64455
a((dp64456
g2
(lp64457
VBased on the comments, here's what I would do instead:
p64458
aVExisting subclasses would still work, but would be in a "degraded" mode, where the second argument is always ignored
p64459
aVNew subclasses would simply be implemented the following way:
p64460
as(dp64461
g23
V571407
p64462
stp64463
a((dp64464
g2
(lp64465
VThe above expression does not what you want, because you embedded an EL expression inside a String literal inside an EL expression
p64466
aVWhat you want is
p64467
aVor
p64468
aVwhich is longer, but more readable, IMO
p64469
as(dp64470
g23
V571407
p64471
stp64472
a((dp64473
g2
(lp64474
VHQL and criteria queries always use the entity classes and properties
p64475
aVNever the names of the underlying tables and columns
p64476
aVThe UserHesk class doesn't have any  property
p64477
aVIt has a  property
p64478
aVSo the code should be
p64479
aVor even
p64480
as(dp64481
g23
V571407
p64482
stp64483
a((dp64484
g2
(lp64485
VThe problem has nothing to do with the driver
p64486
aVYour code doesn't compile, because you're defining a method which uses a variable  which doesn't exist
p64487
aVIt's not a local variable nor an argument of your method, and it's not a field of your JSP either
p64488
aVMy advice: stop using scriptlets, and put this code in a Java class
p64489
aVJSPs are view components
p64490
aVthey should only be used to generate markup, using the JSP EL, the JSTL and other custom tags
p64491
aVData access code should be in separate classes, called from a controller implemented as a servlet
p64492
as(dp64493
g23
V571407
p64494
stp64495
a((dp64496
g2
(lp64497
VYou start a new Timer each time your panel is repainted, and all the previous ones are still running
p64498
aVYou should change your algorithm to use a unique timer, and compute the new y based on the previous one and on the current speed
p64499
aVFor example, the time would repaint every 40 milliseconds
p64500
aVIf the speed is N, the new y would be the previous one +
p64501
as(dp64502
g23
V571407
p64503
stp64504
a((dp64505
g2
(lp64506
VMethods are not called on threads
p64507
aVThey're called on objects (or on classes, for static methods)
p64508
aVAn object could be of type , but calling a method on an object of type  is exactly the same as calling a method on an object of any other type
p64509
aVThe method is still executed by the current thread
p64510
as(dp64511
g23
V571407
p64512
stp64513
a((dp64514
g2
(lp64515
VYes, it is possible
p64516
aVThe bat file could run  and parse the output
p64517
as(dp64518
g23
V571407
p64519
stp64520
a((dp64521
g2
(lp64522
V"R
p64523
aVraw
p64524
aVsomething" doesn't look like a valid URI to me
p64525
aVYou probably want
p64526
aVand not
p64527
as(dp64528
g23
V571407
p64529
stp64530
a((dp64531
g2
(lp64532
VInvoking  in a constructor is never necessary, because if you don't, the compiler inserts this instruction for you
p64533
aVSo
p64534
aVand
p64535
aVare strictly equivalent
p64536
aVThe first thing a constructor must do is to invoke one of the superclass constructors
p64537
aVIf you forget to do it, the compiler does it for you by inserting a  call
p64538
aVAnd if the superclass doesn't have a visible no-arg constructor, you'll get a compilation error
p64539
aVInvoking  is often necessary when you want (or need) to invoke a constructor of the base class that is not the no-arg constructor
p64540
as(dp64541
g23
V571407
p64542
stp64543
a((dp64544
g2
(lp64545
VYou've replayed the mock before adding the second expectation:
p64546
as(dp64547
g23
V571407
p64548
stp64549
a((dp64550
g2
(lp64551
VYou shouldn't start and stop transactions in the DAO methods
p64552
aVAll the code in the last section should be in a single transaction, which would allow you to
p64553
aVwork on attached entities, and have all the changes made on the account persisted automatically
p64554
aVremove the unnecessary  on the association
p64555
aVleave the database in a coherent state and not, as now, in a state where the payment has been created but the rest has not been decreased (which is why we use transactions in the first place)
p64556
aVThat said, you persist a payment
p64557
aVWhy would that cause any modification of its account
p64558
aVThe only cascade you have is MERGE, and you're not doing any merge in the code
p64559
as(dp64560
g23
V571407
p64561
stp64562
a((dp64563
g2
(lp64564
VIt can be accessed at  rather than being accessed at
p64565
aVThe advantage it that the URLs are shorter
p64566
as(dp64567
g23
V571407
p64568
stp64569
a((dp64570
g2
(lp64571
V is correct, if and only if you run your program from the  directory, and use file IO to read the file, and not resource loading using the class loader
p64572
as(dp64573
g23
V571407
p64574
stp64575
a((dp64576
g2
(lp64577
VThe location of the JSP file is irrelevant when it comes to URL paths
p64578
aVWhat matters is the location of the page displayed by your browser, i
p64579
ag468
aVthe address of the page displayed in the address bar of your browser
p64580
aVSo if the address of the page is  and the image is at , the path should be  (absolute path, preferrable and clearer), or  (relative path, harder to refactor if you move files or change URLs)
p64581
aVMy advice: always use absolute paths, and use the JSTL's c:url tag to avoid hard-coding the context path of the webapp:
p64582
aVThe above line will always work
p64583
as(dp64584
g23
V571407
p64585
stp64586
a((dp64587
g2
(lp64588
VYou're loading the file using the class loader
p64589
aVBut  is not in the classpath
p64590
aVis in the classpath, as well as every jar in the  directory
p64591
as(dp64592
g23
V571407
p64593
stp64594
a((dp64595
g2
(lp64596
VFirst of all, you shouldn't make DAO methods transactional, but service methods
p64597
aVSecond, using Transactional is a way to let Spring start and commit/rollback transactions for you
p64598
aVSo you shouldn't start and commit transactions yourself
p64599
aVThird: this will only work if you use a transaction manager that knows how to associate a Hibernate session with the transaction (typically, a )
p64600
aVThe session factory should also be handled by Spring, and injected by Spring in your DAOs
p64601
aVThe code of the DAO should look like this:
p64602
aVFourth: you should not open a new session, but get the current one, associated to the current transaction by Spring
p64603
aVRead the documentation for more information
p64604
as(dp64605
g23
V571407
p64606
stp64607
a((dp64608
g2
(lp64609
V depends on the class
p64610
aVSo, when you compile , the compiler must either also compile , or have access to the already compiled  class
p64611
aVSo, assuming you're in  and compile to , you must use one of the following commands:
p64612
aVor
p64613
aVIf they both depended on each other, you would have to compile them both at once, as in the first command
p64614
aVAlso, note that packages should be all lowercase to respect the Java namng conventions
p64615
as(dp64616
g23
V571407
p64617
stp64618
a((dp64619
g2
(lp64620
VChange your Hibernate query to
p64621
aVNow that you have objects with properties, you can use
p64622
as(dp64623
g23
V571407
p64624
stp64625
a((dp64626
g2
(lp64627
V is an expression of type
p64628
aVSo if you call
p64629
aVit's equivalent to
p64630
aVwhich is equivalent to
p64631
aVSo, if you want Armor to be printed if Item is of class Armor, yo should override  in the  class like this:
p64632
aVAnd same for Sword:
p64633
aVIf you use
p64634
aVit's equivalent to
p64635
aVand you can't customize the output, because the toSTring() method of the class  is not under your control
p64636
aVNote that  is typically used for debugging purpose
p64637
aVAnd only returning the class of an object is bizarre, because it makes it impossible to distinguish two different instances of the same class
p64638
aVIf yuo want to display the type of the item, I would use a dedicated getType() method instead of
p64639
aVIf you want to display a description of the armor, then , or a method named , are fine
p64640
as(dp64641
g23
V571407
p64642
stp64643
a((dp64644
g2
(lp64645
VYou're accessing the  from multiple threads without any kind of synchronization
p64646
aVSo you have a visibility problem: the second thread reads the value of the variable from its internal cache, and is not aware that it has been changed by the first thread
p64647
aVYou should make the variable , or use an , or access it using a synchronized method, to ensure that the write to the variable is flushed to the main memory and the variable is read from the main memory
p64648
aVThe call to  has the side effect of making the variable visible because the println method is synchronized
p64649
as(dp64650
g23
V571407
p64651
stp64652
a((dp64653
g2
(lp64654
VYour method doesn't have any visibility modifier, so it's only visible from classes in the same package
p64655
aVMake it public to make it accessible from any other class:
p64656
aVRead the Java tutorial to learn about visibility modifiers
p64657
as(dp64658
g23
V571407
p64659
stp64660
a((dp64661
g2
(lp64662
VIf I understand correctly, you're calling your DAO's , and it returns that the session is open
p64663
aVThat's quite normal, since this method is just like the other methods of your DAO: Spring intercepts the call to the method, opens a session, executes the method, and thus, inside the method, you get an open current session
p64664
aVNote that although there is no @Transactional annotation on the method, it is transactional, since you also put a  annotation on the class itself, making all its methods transactional
p64665
as(dp64666
g23
V571407
p64667
stp64668
a((dp64669
g2
(lp64670
s(dp64671
g23
V571407
p64672
stp64673
a((dp64674
g2
(lp64675
VIf the String is always of this form, I would simply do:
p64676
as(dp64677
g23
V571407
p64678
stp64679
a((dp64680
g2
(lp64681
VSpring's declarative transaction handling works using AOP proxies
p64682
aVWhen you get a tranasactional bean, you in fact get a proxy which wraps your bean instance, intercepts the method call, starts a transaction if necessary, then calls the actual bean's method, then commits or rollbacks the transaction if necessary
p64683
aVBut you're calling a method of your bean from another method inside the same bean, so the proxy is bypassed, and can't apply any transactional behavior
p64684
aVPut the method in another bean, or use AspectJ, which instruments the byte code and can intercept intra-bean method calls
p64685
aVFor a more detailed explanation, see the Spring documentation
p64686
as(dp64687
g23
V571407
p64688
stp64689
a((dp64690
g2
(lp64691
VWhat confuses you is that you think
p64692
aVmodifies the state of the String object referenced by
p64693
aVThat's not the case
p64694
aVStrings are immutable, and the above line of code creates a new String object and assigns it to aC
p64695
aVa, leaving all the other references to the original object as is
p64696
aVMake the same test with a , and call
p64697
aVand you'll get a different result
p64698
as(dp64699
g23
V571407
p64700
stp64701
a((dp64702
g2
(lp64703
VMap doesn't have any public field named
p64704
aVSo  is invalid
p64705
aVIf you want to initialize an array which has a length equal to the size of the map, use :
p64706
aVAlso, please respect tha Java naming conventions
p64707
aVVariables start with a lowercase letter
p64708
as(dp64709
g23
V571407
p64710
stp64711
a((dp64712
g2
(lp64713
VThe main one would be to have support for distributed transactions
p64714
aVFor example, you might want to write to the database and send a JMS message, and have both part of the same transaction
p64715
aVOr to modify two different databases
p64716
aVAnother reason might be that you already run your app inside a Java EE container, providing support for JTA, and want to benefit from the container services (diagnostics, statistics, etc
p64717
as(dp64718
g23
V571407
p64719
stp64720
a((dp64721
g2
(lp64722
VNo
p64723
aVThe JVM starts a thread (the main thread) and executes your main method inside this thread
p64724
aVAs soon as the main method returns, if there is no other non-daemon thread running, the JVM exits
p64725
aVYou can run an infinite loop in the main method, and the JVM will never exit (unless it's killed from the outside)
p64726
as(dp64727
g23
V571407
p64728
stp64729
a((dp64730
g2
(lp64731
s(dp64732
g23
V571407
p64733
stp64734
a((dp64735
g2
(lp64736
VLoop through your array and print every element, or use the  method if its format suits your needs
p64737
as(dp64738
g23
V571407
p64739
stp64740
a((dp64741
g2
(lp64742
VIf you divide two ints, you get an integer division
p64743
aVTo get a double division, one of the operands must be a double
p64744
as(dp64745
g23
V571407
p64746
stp64747
a((dp64748
g2
(lp64749
VYou're building a huge list of strings
p64750
aVSo you'll need enough memory to hold all the list
p64751
aVYou could make it less consuming by initializing the list with the appropriate size, avoiding temporary copies to enlarge the list:
p64752
aVYou could also use a  instead, since that's what the list contains actually
p64753
aVBut a huge list of strings needs lots of memory
p64754
aVEnlarge the heap size with
p64755
aVfor example (1024 MB of heap)
p64756
as(dp64757
g23
V571407
p64758
stp64759
a((dp64760
g2
(lp64761
VDon't use an additional list
p64762
aVSort your original list using a comparator that "normalizes" the two words to compare, and then compares their normalized values (by normalizing, I mean transforming  into )
p64763
aVYou'll then have your anagrams next to each other in the list
p64764
as(dp64765
g23
V571407
p64766
stp64767
a((dp64768
g2
(lp64769
VJMS has a QueueReceiver, which, well, receives messages
p64770
aVYou can set a MessageListener to this QueueReceiver to be notified of new messages
p64771
as(dp64772
g23
V571407
p64773
stp64774
a((dp64775
g2
(lp64776
VYou're increasing/decreasing a local variable
p64777
aVSo each time the actionPerformed is executed, the counter is initialized to 0, and then increased or decreased
p64778
aVThe counter should be a field (attribute) of the class containing these two action listeners
p64779
as(dp64780
g23
V571407
p64781
stp64782
a((dp64783
g2
(lp64784
VThat's the whole point of command beans: containing the parameters sent in the request
p64785
aVParameter binding to form/command objects is at the core of ever MVC framework since Struts 1
p64786
aVHere's the relevant documentation section:
p64787
aV16
p64788
ag14
ag14
aV1 Supported method argument types
p64789
aVThe following are the supported method arguments:
p64790
ag7651
aVCommand or form objects to bind request parameters to bean properties (via setters) or directly to fields, with customizable type conversion, depending on @InitBinder methods and/or the HandlerAdapter configuration
p64791
aVSee the webBindingInitializer property on RequestMappingHandlerAdapter
p64792
aVSuch command objects along with their validation results will be exposed as model attributes by default, using the command class class name - e
p64793
ag383
aVmodel attribute "orderAddress" for a command object of type "some
p64794
aVpackage
p64795
aVOrderAddress"
p64796
aVThe ModelAttribute annotation can be used on a method argument to customize the model attribute name used
p64797
as(dp64798
g23
V571407
p64799
stp64800
a((dp64801
g2
(lp64802
V is overridden in class B
p64803
aVSo every time it's called on an instance of class B, the class B version of the method is called
p64804
aVThat's what polymorphism is all about
p64805
aVIf you want the foobar() method in A to always return A's version of foobar, and don't want methods in subclasses to change that,  should be made  in A
p64806
aVOr you could delegate to a  method in A:
p64807
as(dp64808
g23
V571407
p64809
stp64810
a((dp64811
g2
(lp64812
VSet the model attribute's  property to the empty string in the controller, before displaying the form for the first time
p64813
aVThat way, if the user submits the form with a validation error, the form will be redisplayed with the form field pre-populated with the value he entered
p64814
as(dp64815
g23
V571407
p64816
stp64817
a((dp64818
g2
(lp64819
VYou're trying to make the rundll32 program open a file that doesn't exist, since the PDF file is inside your jar, and not on the file system
p64820
aVStore it outside of your jar if you want it to be accessible from external programs
p64821
aVAnd instead of just displaying "Error" when you have an IOException, why don't you print the message and stack trace of the exception: it would explain why and where you get the error:
p64822
as(dp64823
g23
V571407
p64824
stp64825
a((dp64826
g2
(lp64827
VThe second option is both cleaner, faster, and safer
p64828
aVIt's basically using the facade pattern
p64829
aVCleaner because it moves code business code outside of the UI layer, in the service layer, where it belongs
p64830
aVFaster because, since everything is made in the same transaction, you'll save transaction openings and closings, and benefit from the transactional cache (assuming you use an ORM to fetch the data you need)
p64831
aVAnd it's of course even faster if the UI and service layers are on sepaate JVMs
p64832
aVSafer because, since everything is in the same transaction, each service will get data from the same consistent database "snapshot"
p64833
aVIn the first option, you could have the first method return a foo which doesn't exist anymore when the second service is called
p64834
aVOf course, this depends on the transaction isolation level of your database, but it'll always be safer than doing it in several transactions
p64835
as(dp64836
g23
V571407
p64837
stp64838
a((dp64839
g2
(lp64840
VWhat you deploy to Tomcat is a war file
p64841
aVTomcat doesn't know or care about the directory where the sources of your application are
p64842
aVThe files in  are copied to the  directory by Maven, and this directory is then copied to the  directory of the deployed web application, which is in the classpath of your webapp
p64843
aVSo you just need to load the file using the class loader:
p64844
aV(MyClass being any class of your webapp)
p64845
as(dp64846
g23
V571407
p64847
stp64848
a((dp64849
g2
(lp64850
VA Java web application is a set of files obeying a well-defined structure, and which can be packaged in a war file
p64851
aVThis web application is deployed into a server (also called container), which understands the file structure, listens to HTTP requests, and calls the appropriate servlet of the appropriate deployed web application when it receives one
p64852
aVAnd of course, if you shut down the server, nothing listens to the HTTP requests anymore, so you won't get any response
p64853
aVYou could read the Java EE tutorial for more explanations
p64854
as(dp64855
g23
V571407
p64856
stp64857
a((dp64858
g2
(lp64859
VI'm not sure why you need a linked list, but the  method is obviously wrong:
p64860
aVExcept the first byte, all the other ones will be 0, since  never changes in this loop
p64861
as(dp64862
g23
V571407
p64863
stp64864
a((dp64865
g2
(lp64866
VNo, it's not safe
p64867
aVMy guess is that all your generated values are generated by the same sequence
p64868
aVIndeed, the javadoc says:
p64869
aVDefines a primary key generator that may be referenced by name when a generator element is specified for the GeneratedValue annotation
p64870
aVA sequence generator may be specified on the entity class or on the primary key field or property
p64871
aVThe scope of the generator name is global to the persistence unit (across all generator types)
p64872
aV(emphasis mine)
p64873
aVEach entity should define its own generator
p64874
as(dp64875
g23
V571407
p64876
stp64877
a((dp64878
g2
(lp64879
VYou're confusing source files and class files
p64880
aVis the place, in Eclipse, where you put the resources of the webapp (html files, images, css files, jsp files, etc
p64881
aVThere shouldn't be anything under
p64882
aVNo  file
p64883
aVNo  file
p64884
aVWhen building the application with Eclipse, Eclipse will compile all the  files in the project source directory, and the generated  files will be part of the runtime classpath of the deployed web application
p64885
aVIf you generate a war file from eclipse, it will contain a WEB-INF/classes directory which will contain the
p64886
aVclass file it has generated when compiling the source files from the project source directory
p64887
as(dp64888
g23
V571407
p64889
stp64890
a((dp64891
g2
(lp64892
VYou should print first, and increment after:
p64893
aVThat said, all the threads are busy looping, which will lead to 100% CPU usage
p64894
aVYou should synchronize the threads instead
p64895
as(dp64896
g23
V571407
p64897
stp64898
a((dp64899
g2
(lp64900
VWhen you submit a form, the browser expects the server to send back an HTML page and displays the returned HTML
p64901
aVIf you want to stay on the same page, you should submit the form using an AJAX request
p64902
aVSee Submit form using AJAX and jQuery for example for how to do that
p64903
aVYou'll still have to tell Spring not to forward to adicionaLola
p64904
aVjsp
p64905
aVYou can do that using the @ResponseBody annotation
p64906
as(dp64907
g23
V571407
p64908
stp64909
a((dp64910
g2
(lp64911
VYou're trying to get the substring going from index 3 to index 4 on a string which has only 3 characters
p64912
aVThis is why you get an exception
p64913
aVMoreover,  will obviously never be true
p64914
aVHow could a string of 1 character ever be equal to the string , which has 4 characters
p64915
aVRead the API doc of the String class
p64916
aVIt has a  method which returns the length of the string, and that you should use to stop your loop
p64917
aVIt also has a  method which returns the character at a given index
p64918
as(dp64919
g23
V571407
p64920
stp64921
a((dp64922
g2
(lp64923
VLets' say you unpacked gradle to
p64924
aVTo add its bin directory it to the PATH in a console window, execute the following command:
p64925
aVThe above prepends the bin path to the current value of the PATH environment variable
p64926
aVThis will only change the path for this specific command window
p64927
aVIf you want to add it to the PATH globally, then go to your control panel and choose System, then Advanced parameters (it might be something a little bit different: I'm translating from my French version of Windows)
p64928
aVThen in the Advanced system parameters tab, click the button Environment variables
p64929
aVFind the Path environment variable in the list, and add the directory, separated from the others using a semicolon ()
p64930
aVNote: you can also define a new environment variable called GRADLE_HOME:
p64931
aVor globally, as explained above, and reference it inside the PATH variable:
p64932
as(dp64933
g23
V571407
p64934
stp64935
a((dp64936
g2
(lp64937
VUse the Infinitest plugin, which has been designed precisely to be able to do this
p64938
as(dp64939
g23
V571407
p64940
stp64941
a((dp64942
g2
(lp64943
VYou defined EMP_ID as the primary key column of the entity EmployeeAcctDetails
p64944
aVThis doesn't make any sense, since there are several rows in the corresponding table with the same EMP_ID value
p64945
aVAdd a real primary key column to the table, and use that as the primary key column
p64946
as(dp64947
g23
V571407
p64948
stp64949
a((dp64950
g2
(lp64951
VThe happens-before thing doesn't guarantee that some statement is executed before some other statement
p64952
aVIt guarantees that if a first statement is executed before a second one, (and there is a good chance of that happening in your exemple, since both threads start at the same time, and one sleeps 1 second whereas the other one sleeps 2 seconds) the second one will see what the first one has written
p64953
aVThe synchronized access to a variable guarantees that a write to this variable is visible to a subsequent read of this variable from another thread
p64954
aVWhy
p64955
aVBecause that's what the specification of the Java Memory Model says, and because the implementation respects the specification
p64956
aVThere are other ways to guarantee that: make the variable volatile, make it an AtomicReference, or store it and retrieve it from a concurrent collection
p64957
as(dp64958
g23
V571407
p64959
stp64960
a((dp64961
g2
(lp64962
VThat is guaranteed by the foreign key constraints that you should have in the database
p64963
aVIf the child has a foreign key to its parent, and you try to delete the parent, the database will refuse the deletion and you'll get an exception
p64964
aVYes, Spring opens a session for you and associates it to the current transaction, and closes it automatically when the transaction ends
p64965
aVYou shouldn't care about opening and closing sessions
p64966
aVInject the session factory into your DAOs, and get the current session from this factory each time you need it
p64967
as(dp64968
g23
V571407
p64969
stp64970
a((dp64971
g2
(lp64972
VNo, you don't need a form submit
p64973
aVParameters are passed by links using a query string:
p64974
as(dp64975
g23
V571407
p64976
stp64977
a((dp64978
g2
(lp64979
VThe structure of a webapp is the following:
p64980
aVdeploy the root directory under webapps, or make a war file containing the contents of the root directory and deploy this war file, and you'll get a webapp
p64981
aVThe web
p64982
aVxml is not necessary since servlet 3
p64983
aV0 (Tomcat 7), if you declare the servlet and its mappings using annotations
p64984
aVOtherwise, you need one
p64985
as(dp64986
g23
V571407
p64987
stp64988
a((dp64989
g2
(lp64990
VYour class name is invalid:
p64991
aVshould be
p64992
aVMoreover, I'm not sure you can use absolute paths in the classpath, and I'm even less sure you can use wildcards
p64993
aVAnd I'm also pretty sure the classpath is not transitive, so you should use relative path, and ad all the jar files your jar depends on in the classpath:
p64994
aVIf you add these libraries to a subdirectory, use foward slashes and not backslashes
p64995
aVAnd remove white spaces from the jar file name:
p64996
aVSee the Java tutorial for more information
p64997
as(dp64998
g23
V571407
p64999
stp65000
a((dp65001
g2
(lp65002
V is an undefined attribute here
p65003
aVYou need to define it using the  attribute of the  tag:
p65004
aVAlso  is used to set the foreground (text) color
p65005
aVNot to set the background color
p65006
aVAnd you apply the class to , so it doesn't apply to table rows and cells
p65007
aVThe CSS should be:
p65008
as(dp65009
g23
V571407
p65010
stp65011
a((dp65012
g2
(lp65013
VIn general, Hibernate tries to write to the database as latest as possible, without compromising the correctness of the program, and by respecting the contract of the methods it offers
p65014
aVSince  is documented to assign an ID to the saved entity and return this ID, it generates the ID when  is called, and returns it
p65015
aVThis might mean that the entity is written to the DB or not, depending on the ID generation strategy
p65016
aVSince  doesn't guarantee that an identifier is assigned when it's called, then you can't count on an ID to be assigned after  has been called
p65017
aVAnd you can't expect the entity to be written to the DB either, since that's not what  does
p65018
aVIt's as simple as that
p65019
aVWrites to the DB are only guaranteed to be executed when the session is flushed, automatically before the commit, or explicitely when  is called
p65020
aVYou also have the guarantee that a write to the DB is executed if you execute a query whose results might depend on the pending writes
p65021
as(dp65022
g23
V571407
p65023
stp65024
a((dp65025
g2
(lp65026
VA decorator takes an object of a given type A, and wraps it into an object of the same type A
p65027
aVThe client can use the decorated object as if it used the actual object, since they have the same type
p65028
aVAn adapter takes an object of a given type A, and wraps it into an object of another type B
p65029
aVA client which used the original type A must then be adapted to use the other type B
p65030
aVThat said, if we use the adapter pattern, it's precisely because a client needs an object of a type B, and we only have an object of type A
p65031
aVSo we wrap it into an adapter to make it an object of type B
p65032
aVThe two patterns use the same principle (wrapping), but for diferent purposes
p65033
aVA decorator to change the behavior of the original object
p65034
aVAn adapter to change its type
p65035
as(dp65036
g23
V571407
p65037
stp65038
a((dp65039
g2
(lp65040
VUse a List
p65041
aVThat's what Lists are for:
p65042
as(dp65043
g23
V571407
p65044
stp65045
a((dp65046
g2
(lp65047
VA JSP is used to generate markup, from beans placed in request attributes by a controller
p65048
aVIt shouldn't have to change bean properties
p65049
aVOnly read from beans
p65050
aVSo I would first check if what you're doing shouldn't be done in the controller rather than the view
p65051
aVThat said, to set a bean property, you use the  tag of the JSTL:
p65052
as(dp65053
g23
V571407
p65054
stp65055
a((dp65056
g2
(lp65057
VYou're not printing the contents of the byte arrays
p65058
aVYou're outputting their type and hashCode (the result of the  method on arrays)
p65059
aVTo output the contents of a byte array, use
p65060
as(dp65061
g23
V571407
p65062
stp65063
a((dp65064
g2
(lp65065
VThe file should be encoded in UTF8
p65066
aVThat's at least what was required in Play 1
p65067
aVI assume it's the same with Play 2, although I didn't find anything mentioned in the documentation
p65068
as(dp65069
g23
V571407
p65070
stp65071
a((dp65072
g2
(lp65073
VHere's your list of images:
p65074
aVYou select the first, the second and the third (A, B, C), and mark them as "to be deleted"
p65075
aVAt the first iteration,  is equal to 0,  is equal to 5, and you get the image at index 0 (A), which is marked for deletion, so the list becomes
p65076
aVAt the second iteration,  is equal to 1,  is equal to 4, and you get the element at index 1 (C), which is marked for deletion, so the list becomes
p65077
aVAt the third iteration,  is equal to 2, size is equal to 3, and you get the element at index 2 (E), which is not marked for deletion
p65078
aVConclusion: if you want to keep the same algorithm, start from the end of the list rather than starting from the beginning
p65079
as(dp65080
g23
V571407
p65081
stp65082
a((dp65083
g2
(lp65084
VThat's indeed not a valid time
p65085
aVYou should not use a java
p65086
aVsql
p65087
aVTime to represent a duration, especially if this duration is potential longer tha 24 hours, since a Time represents the time portion of a date
p65088
aVUse a custom type instead, or simply a string that you'll parse yourself
p65089
as(dp65090
g23
V571407
p65091
stp65092
a((dp65093
g2
(lp65094
VIf nothing is selected, then the array will stay as it was when the form bean was instantiated
p65095
aVSo if you initialize it to an empty array, you'll have what you want
p65096
aVMy guess is that you're using the (unfortunate) default session scope for your form beans
p65097
aVIt's a bad practice
p65098
aVYou should prefer request-scoped form beans
p65099
aVAnd if you really want to stay with session-scoped form beans, then they should override the reset() method in order to reset the properties to their default values before being populated from the request parameters
p65100
as(dp65101
g23
V571407
p65102
stp65103
a((dp65104
g2
(lp65105
VOuch
p65106
aVYou should change your text book then
p65107
aVFirst of all, all the accesses to Swing components must be done in the event dispatch thread
p65108
aVSecond, you should not get the graphics of a component and paint on it
p65109
aVInstead, you should extend a JComponent or JPanel, override its  method, and paint using the Graphics object passed as argument (and which is in fact a  instance)
p65110
as(dp65111
g23
V571407
p65112
stp65113
a((dp65114
g2
(lp65115
VIt's extremely simple:
p65116
aVThat's all you need
p65117
aVThat's the principle of an ORM
p65118
aVYou manipulate objects, and the ORM saves them in the database using the mapping you defined
p65119
as(dp65120
g23
V571407
p65121
stp65122
a((dp65123
g2
(lp65124
VThe query should be something like this instead:
p65125
as(dp65126
g23
V571407
p65127
stp65128
a((dp65129
g2
(lp65130
VA  needs an instance of  to work
p65131
aVThis instance could be an instance of , but you could create your own  implementation and use it instead of
p65132
aVBTW, note by the constructors of JList construct a JList with a ListModel that is not an instance of DefaultListModel
p65133
aVIf you know that it is a , because that's what you passed when constructing the list, then you can safely cast the returned  to
p65134
as(dp65135
g23
V571407
p65136
stp65137
a((dp65138
g2
(lp65139
VSee http://docs
p65140
aVoracle
p65141
aVcom/javaee/1
p65142
aV4/tutorial/doc/JSPIntro7
p65143
aVhtml#wp71043 for a list of JSP EL implicit objects
p65144
as(dp65145
g23
V571407
p65146
stp65147
a((dp65148
g2
(lp65149
VQ1: You use Fetch or Pull to get the latest changes from the origin repo
p65150
aVQ2: Every time they must do it, either because they want to see what has happened in the origin repo, or because git forces them to do so
p65151
aVIndeed, if you try to push to the remote origin repo and your local copy is behind it, git will force you to update your local copy first, merge of rebase your changes, and then push again
p65152
aVQ3: Yes, the second push will be rejected
p65153
aVThe developer will have to fetch, merge or rebase, and thus solve the potential conflicts, and then push
p65154
aVI recommend reading Pro Git, which is both excellent, and free
p65155
as(dp65156
g23
V571407
p65157
stp65158
a((dp65159
g2
(lp65160
VYou have a semicolon after the for loop:
p65161
aVWhich transforms the for loop into a loop doing nothing at each iteration
p65162
aVRemove it
p65163
aVTo clear the old array, simply use
p65164
as(dp65165
g23
V571407
p65166
stp65167
a((dp65168
g2
(lp65169
VYou shouldn't have to cast if you're using a recent version of Spring, since it's a generic method and the signature of the method is now:
p65170
aVIf you're using an old version, then either cast, or upgrade to a recent version
p65171
as(dp65172
g23
V571407
p65173
stp65174
a((dp65175
g2
(lp65176
Vor
p65177
aVshould do what you want
p65178
as(dp65179
g23
V571407
p65180
stp65181
a((dp65182
g2
(lp65183
VIt seems you have some utility classes that you want to reuse in multiple projects
p65184
aVInstead of copying the source code of the classes in every project, you should instead compile the classes, package the class files in a jar file, and add this jar file in the classpath of every project needing them
p65185
aVThat's what you do with every other librery that you use (commons-lang, guava, whatever
p65186
aV, and there's no reason not to do the same with your own utility classes
p65187
as(dp65188
g23
V571407
p65189
stp65190
a((dp65191
g2
(lp65192
VYou should start by writing a method which transforms a raw severity with a "normalized" severity (i
p65193
ag468
aVa severity between 1 and 17)
p65194
aVAnd then you should compare patients by their normalized secerity:
p65195
as(dp65196
g23
V571407
p65197
stp65198
a((dp65199
g2
(lp65200
VI would simply make sure both icons have exactly the same size
p65201
aVAdd a transparent border to the smaller one if necessary
p65202
aVThis will make everything easier
p65203
as(dp65204
g23
V571407
p65205
stp65206
a((dp65207
g2
(lp65208
VFirst, it's much quicker to type, is much more readable, and expresses the intent clearly: get an entity by its ID
p65209
aVAnd it's basically impossible to make an error, whereas you could have a typo in your HQL query
p65210
aVRegarding performance, the main advantage is that it executes a select statement only if the entity is not in the session cache yet
p65211
aVAn HQL query will be executed every time
p65212
aVAnd if you have a second-level cache,  will avoid executing a query completely if the entity is already in the second-level cache
p65213
as(dp65214
g23
V571407
p65215
stp65216
a((dp65217
g2
(lp65218
s(dp65219
g23
V571407
p65220
stp65221
a((dp65222
g2
(lp65223
VYou're trying to store a Java array of s as the  and  attributes of your JSON object
p65224
aVYou should store a  of s instead
p65225
as(dp65226
g23
V571407
p65227
stp65228
a((dp65229
g2
(lp65230
VThe class of the object in the first webapp is loaded by the first webapp classloader
p65231
aVA class with the same name is loaded in the second webapp, by the second webapp classloader
p65232
aVSo, even if both apps have access to a class with the same name, they're two different classes, because they're not loaded by the same classloader
p65233
aVI wouldn't try to share objects between apps this way
p65234
aVIt won't work in a clustered environment anyway, and a more secure container could return null when asked for another servlet context
p65235
aVConsider sharing a database between the two applications, and storing the shared data in the shared database
p65236
aVIf you still want to go this route, then make sure the shared classes are in the container's classpath, and not in each webapp classpath
p65237
as(dp65238
g23
V571407
p65239
stp65240
a((dp65241
g2
(lp65242
VInstead of printing the result, return it;
p65243
as(dp65244
g23
V571407
p65245
stp65246
a((dp65247
g2
(lp65248
V is not the appropriate annotation
p65249
aVYou don't want to store a whole User or Question in a column
p65250
aVYou want to create an association between the entities
p65251
aVStart by renaming  to , since an instance represents a single question, and not several ones
p65252
aVThen create the association:
p65253
aVThe Hibernate documentation explains that
p65254
aVRead it
p65255
aVAnd also read the javadoc of the annotations
p65256
as(dp65257
g23
V571407
p65258
stp65259
a((dp65260
g2
(lp65261
VThis request doesn't make sense
p65262
aVis used when the select clause contains at least one aggregation function (sum, avg, min, max, etc
p65263
aVAnd all the other columns must appear in the  clause
p65264
aVSo for example, the following query would make sense:
p65265
aVIt would return, for each message sender, the length of its longest message
p65266
aVTell us, with example data, what you would like your query to return
p65267
aVIf you want to get all the distinct users whom user A sent a message to, the query should simply be
p65268
as(dp65269
g23
V571407
p65270
stp65271
a((dp65272
g2
(lp65273
VIt seems you're confusing  with
p65274
aVis used to do nothing for some duration, and then wake up
p65275
aVis used to wait for some condition to happen, and be awaken by another thread calling  or
p65276
aVAnd you must hold the monitor of the object on which you
p65277
aVLook up their javadoc to understand what they do and how to use them
p65278
aVshould generally be avoided anyway
p65279
aVYou should use higher level abstrations like Semaphores instead
p65280
aVAlso, note that your code doesn't make much sense
p65281
aVYou're staring a thread, and then block the current one waiting for the started thread to complete
p65282
aVYou'd better do everything in the current thread
p65283
aVIt would be simpler, clearer, and more efficient
p65284
as(dp65285
g23
V571407
p65286
stp65287
a((dp65288
g2
(lp65289
VFirst of all, the method is , not
p65290
aVis a method from java
p65291
aVlang
p65292
aVObject, which does something completely different
p65293
aVYou won't get any InterruptedException unless you decide, from another thread, to interrupt the thread being blocked in  (by calling )
p65294
aVAnd since you decide to interrupt the thread, you should know what to do when the thread is interrupted
p65295
aVUsually, you decide to interrupt a thread when you want it to finish what he's doing as soon as possible, and stop running
p65296
as(dp65297
g23
V571407
p65298
stp65299
a((dp65300
g2
(lp65301
VIn production, you typically have already existing tables with a large amount of data that you don't want to lose, and that you want to migrate to the new schema
p65302
aVHibernate can't do that automagically for you
p65303
aVIt doesn't know that the data that was previously in column A must now be in the new column B
p65304
aVSo you'll need to create a migration script
p65305
aVOf course, you can use Hibernate to generate the new schema for you in development, see what the differences with the old schema are, and create your script thanks to that
p65306
aVBut yes, having an app in production and migrate it needs some work to be done
p65307
as(dp65308
g23
V571407
p65309
stp65310
a((dp65311
g2
(lp65312
VThe following code works fine here:
p65313
aVIt won't work with  though, since the input size is not a multiple of 16:
p65314
aVBute that's expected, since no padding is used
p65315
aVIf that's the exception you get (and not "invalide key" as your question says), then fix the length of your input data
p65316
aVElse, paste the exact and complete error stack trace in your question
p65317
as(dp65318
g23
V571407
p65319
stp65320
a((dp65321
g2
(lp65322
VDon't use
p65323
aVSession handling and authentication are two different things
p65324
aVAn unauthenticated user can (and will) have a non new session
p65325
aVYou should user a servlet filter, which will intercept every request sent to your application
p65326
aVThis filter should check if the requested URL needs authentication
p65327
aVIf so, and if the current user is not authenticated, it should redirect to a login page
p65328
aVOnce authenticated, you should store the user identity in the session
p65329
aVThat's what will allow differentiating an authenticated session from an unauthenticed one
p65330
aVAnd that's also what will allow retrieving the current user in the application
p65331
aVOf course, make sure not to include the login URL in the set of URLs that require authentication
p65332
aVA filter is much more secure and clean than checking authentication in each and every page
p65333
aVIt makes things centralized, avoid repeating the same code again and again, and has no risk of forgetting to add the required check in some pages
p65334
aVAlso, please respect tha Java naming conventions
p65335
aVMethods start with a lowercase letter in Java
p65336
as(dp65337
g23
V571407
p65338
stp65339
a((dp65340
g2
(lp65341
VIf your question is "how to get the values for a given quarter (1, 2, 3 or 4)", then you can simply use
p65342
aVIf you want to select rows from the table, including the quarter of each row, then use the same trick in the select clause:
p65343
as(dp65344
g23
V571407
p65345
stp65346
a((dp65347
g2
(lp65348
VYou probably want
p65349
aVwhich will load the certificates with their vendor
p65350
as(dp65351
g23
V571407
p65352
stp65353
a((dp65354
g2
(lp65355
VSince you're initializing the cipher with a key of 16 bytes (128 bits), it uses that as the key size implicitely
p65356
aVAnd regarding the block size, the JCA specification says:
p65357
aVAES is a 128-bit block cipher supporting keys of 128, 192, and 256 bits
p65358
aVSo the block size is always 128-bits
p65359
as(dp65360
g23
V571407
p65361
stp65362
a((dp65363
g2
(lp65364
VYou should use both
p65365
aVThe business services should rely on DAOs, and be tested by mocking the DAOs
p65366
aVThis allows for fast, easy to implement, easy to maintain tests
p65367
aVThe DAOs unique responsibility is to contain database access code (queries, etc
p65368
aV, and should also be tested
p65369
aVSo you should use a test database, with test data, and check that their queries return/save what they're support to return/save
p65370
aVI'm not a big fan of using an in-memory database, different from the one used in production
p65371
aVThe behavior of some queries, constraints, etc
p65372
aVwill be different from database to database, and you'd better be sure that the code will work on the production database, and not in an in-memory database used only by tests
p65373
as(dp65374
g23
V571407
p65375
stp65376
a((dp65377
g2
(lp65378
VYou should choose:
p65379
aVeither you use , and the JVM will use the classpath specified in the manifest file inside the jar
p65380
aVIt will also use the manifest to know which main class must be executed
p65381
aVThere should thus be no  option, and no class name specified:
p65382
aVor you use  (or ), and you should add every jar in the classpath (commons and hello), and you should specify the main class name to execute:
p65383
aVIn your case, since you haven't configured the classpath in the manifest, you should choose the second option
p65384
as(dp65385
g23
V571407
p65386
stp65387
a((dp65388
g2
(lp65389
VAt the time you create the combo box and assign the listener, in , the listener is still null
p65390
aVIt's initialized only after the  method has been called
p65391
as(dp65392
g23
V571407
p65393
stp65394
a((dp65395
g2
(lp65396
VThe 25th of March 2012 is the day where daylight saving time switch is done is many countries, typically at 2 o'clock
p65397
aVSo 2AM and 3AM are the same time this day, in your locale
p65398
aVThat's why you're seeing this
p65399
as(dp65400
g23
V571407
p65401
stp65402
a((dp65403
g2
(lp65404
VEDIT: and, as @Joey indicates, you should also filter out keywords and reserved words
p65405
as(dp65406
g23
V571407
p65407
stp65408
a((dp65409
g2
(lp65410
VThe only correct way is the first one:
p65411
aVThe inverse side uses the  attribute to say: "I'm the inverse side
p65412
aVGo see the  attribute in the target entity to see how this association is mapped
p65413
aVWhat you're doing wrong is that you only modify the inverse side in your test
p65414
aVJPA/Hibernate only considers the owner side to know if an association exists
p65415
aVSo instead of doing
p65416
aVyou should do
p65417
aVor even better, do both, to make sure the object graph is coherent
p65418
aVI really hope that this tread becomes a reference for similar issues, but I doubt it, because I have already answered this question a gazillion times, and it keeps coming again and again, although it's clearly explained in the documentation:
p65419
aVIf the association is bidirectional, one side has to be the owner and one side has to be the inverse end (ie
p65420
aVit will be ignored when updating the relationship values in the association table):
p65421
aV[ follows an example with the appropriate annotations on each side of a bidirectional many-to-namy association ]
p65422
as(dp65423
g23
V571407
p65424
stp65425
a((dp65426
g2
(lp65427
VWell, probably because the action it submits the form to returns the above page, which submits the form, which displays the page, which submits the form, etc
p65428
as(dp65429
g23
V571407
p65430
stp65431
a((dp65432
g2
(lp65433
VAn  contains a field of type A, or a field of type B, but never both
p65434
aVYou can pass a Function to its  method which will only be called if it contains an A
p65435
aVAnd you can pass a Function to its  method that will be called if it contains a B
p65436
aVSO, if you call both methods, one and only of the functions will be called
p65437
aVFunction is simply an interface that you can implement, and which transforms something into something else
p65438
aVA  is either a single element, or a Triple of three Trees (being themselves either an element, or a Triple of three trees, etc
p65439
aV, forming a recursive data structure
p65440
aVAnd a Triple has a left, a middle, and a right elements
p65441
aVTo traverse the tree, you should check if it contains a single element or a Triple
p65442
aVIf it's a single element, the traversal is finished
p65443
aVIf it's a Triple, then you should traverse the its left tree, its middle tree, and its right tree
p65444
as(dp65445
g23
V571407
p65446
stp65447
a((dp65448
g2
(lp65449
VThe locale you pass in argument to  has its country set to "be"
p65450
aVIt should be set to "BE" instead
p65451
aVYou should also consider using properties files with only the langage code suffix, and have one backup bundle without suffix at all:
p65452
aVLanguage : will be used at last resort
p65453
aVLanguage_nl : will be used when the language is "nl"
p65454
aVLanguage_nl_BE : should override the translations from Language_nl if they're specific to Belgium
p65455
as(dp65456
g23
V571407
p65457
stp65458
a((dp65459
g2
(lp65460
VThe boolean will be set to true only when the OK button is clicked
p65461
aVThe  block is executed right after you've created and registered the listener
p65462
aVThe content of the if vlock should be in the  method of the listener if you want this code to be executed when the OK button is clicked
p65463
as(dp65464
g23
V571407
p65465
stp65466
a((dp65467
g2
(lp65468
VIf there is no model attribute at all, the EL will evaluate  to null, and will stop the evaluation of  there, returning an empty string
p65469
aVIf there is a model, it will evaluate  to your object and try to evaluate  by calling , but won't find any such getter, which will lead to an exception
p65470
as(dp65471
g23
V571407
p65472
stp65473
a((dp65474
g2
(lp65475
VPassing null to such a method indicates a bug
p65476
aVNobody would ever want to find the entity which has a null ID, since no such thing can exist
p65477
aVSo this probably mean that there has been a binding problem in the UI layer, or that the caller forgot to add a hidden ID field in its form, or whatever
p65478
aVReturning null hides the bug, or makes it more obscure
p65479
aVThrowing an exception spots the bug early, with a clear error message, which allows fixing it early, and makes the application ultimetely more robust
p65480
aVThe convention for non-nullable arguments which are null is to throw a NullPointerException
p65481
aVThat's what I'd do
p65482
as(dp65483
g23
V571407
p65484
stp65485
a((dp65486
g2
(lp65487
VThis line of code doesn't do anything:
p65488
aVdoesn't modify the String (Strings are immutable in Java)
p65489
aVIt returns a new String where the characters have been replaced
p65490
aVYou're calling  on this new String, and don't do anything with this char
p65491
as(dp65492
g23
V571407
p65493
stp65494
a((dp65495
g2
(lp65496
VAdd a name attribute to your class (which should be named , BTW, and not ), and to its constructor:
p65497
aVThen create your objects:
p65498
aVThat's how an object can have a name
p65499
aVDon't confuse objects, and variables
p65500
as(dp65501
g23
V571407
p65502
stp65503
a((dp65504
g2
(lp65505
VYes, the interceptor pattern (or intercepting filter) comes to mind: a central filter should intercept all the requests to authentication-protected pages of the application and redirect to the login page if the user is not authenticated yet
p65506
aVAnd if the user is already authenticated, it should let the request go to its original target
p65507
aVNote that it's much more user-friendly to not redirect to a welcome page after authentication, but to the originally-requested page:
p65508
aVUser wants to go to /my-profile
p65509
aVFilter notices the user is not authenticated, and /my-profile requires authentication
p65510
aVIt redirects to login page
p65511
aVuser logs in
p65512
aVserver redirects to /my-profile which is where the user asked to go originally
p65513
aVNote that I know nothing about asp
p65514
aVnet, so this pattern might be easy to implement or very hard: I have no idea
p65515
aVJava EE webapps have this notion of filters which are typically used for authentication, the way described above
p65516
as(dp65517
g23
V571407
p65518
stp65519
a((dp65520
g2
(lp65521
VReally, you shouldn't
p65522
aVPrimary keys should be purely technical, meaningless values
p65523
aVTheir value, and the monotony of the generation, shouldn't matter at all
p65524
aVMoreover, since it's the PK of the row, you'll have potentially dozens (or thousands) of other rows in other tables referencing this ID (foreign keys), so changing it in the table would not be enough: you would have to change it everywhere
p65525
aVAnd there's a good chance that this ID is also referenced in other applications (for example, it could be part of a bookmarked URL in a browser), and changing its value would make all these references invalid
p65526
aVYou should never change a primary key
p65527
aVIt should be immutable, forever
p65528
aVEDIT: I misread the question
p65529
aVYou actually want to reuse an old ID
p65530
aVThis is also a bad idea
p65531
aVExisting references would reference something other than they initially referenced
p65532
aVThis is what happens when you change your phone number and it's being reused by someone else, who starts receiving lots of calls from people who still think this phone number is yours
p65533
aVVery annoying
p65534
aVYou want to avoid this situation
p65535
as(dp65536
g23
V571407
p65537
stp65538
a((dp65539
g2
(lp65540
VBecause the source code of  has this shortcut :
p65541
aVSo it doesn't bother checking if the elements of the array implement Comparable, because it doesn't have to sort an array that has only one element
p65542
aVNote that the javadoc doesn't guarantee that a ClassCastException is thrown
p65543
as(dp65544
g23
V571407
p65545
stp65546
a((dp65547
g2
(lp65548
VSo you want, for each word, to keep
p65549
aVthe number of times it appears
p65550
aVa sorted set of line numbers where it appears (and by set, I mean no duplicate line numbers)
p65551
aVSo just do that:
p65552
aVAnd now just use a
p65553
aVFor each word in the text, add a WordStats if it isn't in the map yet, and add an occurrence to its WordStats instance
p65554
aVThe printEntry method would then look like:
p65555
as(dp65556
g23
V571407
p65557
stp65558
a((dp65559
g2
(lp65560
VThe multiply method creates a BigDecimal which has a scale equal to the scale of the first operand + the scale of the second operand,  even if that leads to trailing zeros
p65561
aVTo strip the trailing zeros, use
p65562
aVstripTrailingZeros()
p65563
as(dp65564
g23
V571407
p65565
stp65566
a((dp65567
g2
(lp65568
VThe SwingWorker class is defined as follows:
p65569
aVSo, since your subclass is declared as
p65570
aVThe process method should take a  as argument, and not a
p65571
as(dp65572
g23
V571407
p65573
stp65574
a((dp65575
g2
(lp65576
VYou're trying to save a product
p65577
aVAnd this product is linked to a category
p65578
aVSo when JPA saves the product, its category must already exist, or there must be a cascade configured so that persisting the product cascades to persisting its category
p65579
aVBut you don't have such a cascade
p65580
aVWhat you have is a cascade saying that any operation done on a category cascades to its list of products
p65581
as(dp65582
g23
V571407
p65583
stp65584
a((dp65585
g2
(lp65586
VOK I think I understood what you meant
p65587
aVYou set the default timezone to the one of London
p65588
aVIn the summer, London is at the British Summer Time (BST) timezone
p65589
aVIn the winter, it's at the GMT timezone
p65590
aVAnd the day when this timezone change is done varies from year to year
p65591
as(dp65592
g23
V571407
p65593
stp65594
a((dp65595
g2
(lp65596
VWhat you have won't work, because  is an instance variable
p65597
aVThis means that every product you create will have an ID of 0
p65598
aVAnd calling  on every product you create will set the ID of avery product to 1
p65599
aVYou need a  counter, which would belong to the class, and not to each of its instances:
p65600
aVNote that this wouldn't work well in a multi-threaded environment, and that double is a bad choice for prices, but you'll learn that later
p65601
aVSee the Java tutorial for more information about instance and static variables
p65602
as(dp65603
g23
V571407
p65604
stp65605
a((dp65606
g2
(lp65607
VWorks fine here:
p65608
as(dp65609
g23
V571407
p65610
stp65611
a((dp65612
g2
(lp65613
VNone of the above
p65614
aVThe first one doesn't allow building an immutable Vehicle, which is often why the Builder pattern is used
p65615
aVThe second example is a variation of the first one which allows getting information from the builder using additional getter methods
p65616
aVBut those those methods aren't used anywhere, except in the Vehicle constructor, which has access to the builder fields directly
p65617
aVI don't see the point in adding them
p65618
aVI see two more important things to improve:
p65619
aVThe two builder types do exactly the same thing
p65620
aVThere's no need for two types
p65621
aVA single one is sufficient
p65622
aVWhat the  method does should be done by the builder constructor
p65623
aVIf you construct a CarBuilder, it's obviously to build a car, so the type of the vehicle should be set as soon as the builder is constructed
p65624
aVHere's how I would write it:
p65625
as(dp65626
g23
V571407
p65627
stp65628
a((dp65629
g2
(lp65630
VYour form will only submit the result of the call to  on the  property of the Question object
p65631
aVIf you want to get all the properties of the question from the form submission, then you should add a hidden field for each of the question properties, or find a way to transform a question to a String and vice-versa and use a single hidden field
p65632
aVOr you should have the question stored somewhere on the server (in the session or in the database) and reload it from there
p65633
as(dp65634
g23
V571407
p65635
stp65636
a((dp65637
g2
(lp65638
VCasting doesn't change the type of an object
p65639
aVIt allows getting a reference of another type for the object iff the object has this other type
p65640
aVUpcasting is never necessary
p65641
aVYou can use
p65642
aVDowncasting is necessary, and will only work if the object has the type you cast it to:
p65643
aVSo, your code is equivalent to
p65644
aVYou must create a new object of the new type, using a copy constructor:
p65645
as(dp65646
g23
V571407
p65647
stp65648
a((dp65649
g2
(lp65650
VIn Java, if a method or constructor takes 1 argument, you must pass 1 argument
p65651
aVYour BushelBasket constructor takes an int as argument, so you must call it with an int as argument
p65652
aVYou could add another constructor which would leave the field to its default value though:
p65653
aVOr you could define another constructor without argument, which would call the one with an int argument and pass it 0:
p65654
as(dp65655
g23
V571407
p65656
stp65657
a((dp65658
g2
(lp65659
VYou don't need JavaScript to upload a file
p65660
aVI don't see how it would help
p65661
aVJust use a input of type file
p65662
aVYou can of course use JavaScript, whatever you use at server-side to generate the HTML pages
p65663
aVEmbedding JavaScript code inside HTML pages is a bad practice though
p65664
aVYou should try to externalize the JS code to
p65665
aVjs files as much as possible
p65666
aVJust a few notes regarding the title and body of your question:
p65667
aVreading a CSV file is the job of the controller, not the job of the view
p65668
aVusing the session to pass objects from a servlet controller to a view is not what you should do
p65669
aVYou should use the request to do that
p65670
as(dp65671
g23
V571407
p65672
stp65673
a((dp65674
g2
(lp65675
V doesn't mutate the BigDecimal it's called on
p65676
aVIt returns a copy of the BigDecimal with the new scale value
p65677
aVPMD reports an error because YOUR code is wrong: it ignores the result of the operation making the operation useless
p65678
aVYour code should be:
p65679
as(dp65680
g23
V571407
p65681
stp65682
a((dp65683
g2
(lp65684
VBecause the servlet API is a dependency of , and thus a transitive dependency of your project
p65685
as(dp65686
g23
V571407
p65687
stp65688
a((dp65689
g2
(lp65690
VEvery element in your array of buttons is null
p65691
aVYou can't add a null component to a container
p65692
as(dp65693
g23
V571407
p65694
stp65695
a((dp65696
g2
(lp65697
VThreads run inside a Java Virtual Machine
p65698
aVIf you stop the JVM, the threads don't run anymore
p65699
aVYou could see exiting the JVM as pulling the plug off your computer: nothing can run anymore
p65700
as(dp65701
g23
V571407
p65702
stp65703
a((dp65704
g2
(lp65705
VYou configured eclipselink to drop and recreate the schema each time the app is started:
p65706
aVSo obviously, if you run a first application that persists some entries, and then a second application which tries to read what the first one has written, you won't find anything anymore, since eclipselink drops everything and recreates the schema every time
p65707
as(dp65708
g23
V571407
p65709
stp65710
a((dp65711
g2
(lp65712
VYou should simply use
p65713
as(dp65714
g23
V571407
p65715
stp65716
a((dp65717
g2
(lp65718
VEncapsulate each method inside an object (a Runnable for example):
p65719
as(dp65720
g23
V571407
p65721
stp65722
a((dp65723
g2
(lp65724
VSuppose you have these two variables:
p65725
aVAnd suppose one thread does
p65726
aVIf another thread reads these values and sees that b == 2, then it's guaranteed to also see a == 1
p65727
aVBut the reading thread could see  and , because the two writes are not part of an atomic operation, so the reading thread might see the change made to  before the first thread has assigned a value to
p65728
aVTo make these two writes atomic, you would need to synchronize the access to these two variables:
p65729
aVAnd in this case, the reading thread will see  and , or  and , but never the intermediate state
p65730
as(dp65731
g23
V571407
p65732
stp65733
a((dp65734
g2
(lp65735
V is never called anywhere, so the deck list is empty, so calling  in  leads to the exception you have, and which clearly indicates the problem: you're trying to access the element at index 0 of a list of size 0:
p65736
as(dp65737
g23
V571407
p65738
stp65739
a((dp65740
g2
(lp65741
VWhen a method is overloaded (like all your methods here), Java uses the method which matches the most closely with the declared type of the argument
p65742
aVIn the first example, the object () being of declared type A, the compiler only knows about the method , so it's chosen
p65743
aVNote that the method  does NOT override the method , since its signature doesn't match
p65744
aVYou would have a compile error if you uncommented the  annotation
p65745
aVIn the second example, only  matches with the declared type of the argument (A), so this one is chosen
p65746
aVIn the third example,  matches the declared type of the argument (B) more closely, so it's chosen
p65747
aVSame for the fourth example
p65748
aVIn the last example, only  applies to the declared type of the argument (A), so it's chosen
p65749
as(dp65750
g23
V571407
p65751
stp65752
a((dp65753
g2
(lp65754
VAs documented, you must hold the monitor of the object on which you call /
p65755
aVSince you're calling these methods on , these instructions must be inside a
p65756
aVblock
p65757
aVThat said, calling / on a thread is quite a strange choice
p65758
aVYou'd better use a final, dedicated lock Object to wait/notify
p65759
aVThere are other bad choices in your program
p65760
aVFor example, initializing a static field from a constructor
p65761
aVand  are very low-level, hard to use primitives
p65762
aVYou should use higher-level abstractions like Locks, Semaphores, CountDownLatches, BlockingQueues, etc
p65763
aVinstead
p65764
as(dp65765
g23
V571407
p65766
stp65767
a((dp65768
g2
(lp65769
VThe superclass constructor is executed first
p65770
aVSo when the overridden method is called, the child constructor hasn't been executed yet, so  field in the subclass still has its default value
p65771
aVThat's why calling overridable methods from a constructor is a bad practice, flagged by tools such as PMD: the invariants of the objects are not fulfilled when such a method is called
p65772
as(dp65773
g23
V571407
p65774
stp65775
a((dp65776
g2
(lp65777
VDependency injection's first goal is to make the code easily unit-testable
p65778
aVThen come additional advantages, like the possibility to inject proxies (AOP, used for transactions, security checks, etc
p65779
aV, to configure the injected components, to choose implementations depending on a profile or configuration, etc
p65780
aVAll this depends on the capabilities of your framework
p65781
as(dp65782
g23
V571407
p65783
stp65784
a((dp65785
g2
(lp65786
VTo execute something when the AJAX response has been successfully received (in the following example, showing the received data in an alert box):
p65787
aVTo be able to pass a custom success callback function to your retrieve method:
p65788
as(dp65789
g23
V571407
p65790
stp65791
a((dp65792
g2
(lp65793
VThe cleanest way is to simply have all the checkboxes in a collection (a , for example), and iterate on the list:
p65794
as(dp65795
g23
V571407
p65796
stp65797
a((dp65798
g2
(lp65799
VAssuming  returns ,  looks for a file named  in the package
p65800
aVIf the image is not in this package, or if it is in this package but its root directory is not in the classpath, the method will return null
p65801
aVIf the img folder is at the root of the classpath, you should use  (note the leading ), or
p65802
as(dp65803
g23
V571407
p65804
stp65805
a((dp65806
g2
(lp65807
VIf you used HQL instead os SQL, Hibernate would use the types that you chose to map the columns in your entity:
p65808
aVAssuming you have a Contract entity containing these fields:
p65809
aVYou would simply execute the HQL query
p65810
aVand you would be sure to get an array containing two Floats
p65811
aVThat said, for such a simple query, why don't you just use
p65812
aVand then get the fields you want from the entity
p65813
as(dp65814
g23
V571407
p65815
stp65816
a((dp65817
g2
(lp65818
VThe following query (not tested) should do what you want:
p65819
as(dp65820
g23
V571407
p65821
stp65822
a((dp65823
g2
(lp65824
VYou seem to completely misunderstand how an application works
p65825
aVWhen you launch your program, java executes your main method
p65826
aVAll its instructions are executed in sequence until the end of the method is reached
p65827
aVIf you haven't started any other thread from this method, when the last instruction in the main method has been executed, the program terminates
p65828
aVIn this case, the main method contains only one instruction:
p65829
aVSo this instruction is executed, and since it's the last one, the program terminates
p65830
aVYou don't even reference the Exec class anywhere, so this class isn't even loaded by the JVM
p65831
aVIf you want to use the Exec class, then you have to do something with is somewhere in the program
p65832
aVFor example, you could do
p65833
aVNote that storing something in a public static variable in order for some other object to be able to get this value is a very poor form of parameter passing
p65834
aVIf an Exec object needs a value to work, then it should be an argument of its constructor:
p65835
aVand in the main method, you would use a local variable and not a public static variable:
p65836
as(dp65837
g23
V571407
p65838
stp65839
a((dp65840
g2
(lp65841
VIf what you actually want to know is the index of the c key in the sorted set of keys contained in the map, you could simply use
p65842
aVNote that it doesn't have anything to do with insertion order, which a TreeMap doesn't maintain
p65843
as(dp65844
g23
V571407
p65845
stp65846
a((dp65847
g2
(lp65848
VThe following line
p65849
aVwill be translated by the JSP container to the following JavaScript code:
p65850
aVSo the JavaScript engine in the browser will look for a JavaScript variable named DIBYA
p65851
aVIf you just want the value to be the string DIBYA, I don't even understand why you use a scriptlet
p65852
aVJust use
p65853
as(dp65854
g23
V571407
p65855
stp65856
a((dp65857
g2
(lp65858
VHere's what the javadoc says:
p65859
aVReturns:
p65860
aVuser's input, or null meaning the user canceled the input
p65861
aVSo, if the returned value is null, it means the user clicked Cancel or closed the dialog box
p65862
aVIf the result isn't null, it means the user clicked OK
p65863
as(dp65864
g23
V571407
p65865
stp65866
a((dp65867
g2
(lp65868
VWhy don't you make it much clearer (and obviously correct) by using a char literal
p65869
aVAlso, Streams must be used to read binary data
p65870
aVTo read text, you should use a Reader
p65871
aVRead the Java IO tutorial
p65872
aVAnd of course, your method shouldn't eat exceptions like that
p65873
aVIt should throw them, or at least wrap them in another exception and throw this exception
p65874
aVFinally, the Reader should be a local variable of the  method and not a field
p65875
aVAnd it should be closed in a finally block, or by using the Java 7's try-with-resources construct
p65876
as(dp65877
g23
V571407
p65878
stp65879
a((dp65880
g2
(lp65881
VSince you have functional data, other than just the foreign keys to the linked entities, in the contract table, then you need to map it as an entity
p65882
aVYou would thus have a OneToMany between Government and Contract, and another OneToMany between NonProfitOrg and Contract
p65883
aVAnd since it's a regular entity, I strongly advise you to identify it with an autogenerated, single-column ID, just like the other entities
p65884
as(dp65885
g23
V571407
p65886
stp65887
a((dp65888
g2
(lp65889
VYou should use a primitive type if the column is not nullable, and a wrapper object if the column is nullable
p65890
aVYou shouldn't choose the type of a field depending on the memory it uses
p65891
aVYou should choose it based on what you need to store in the field
p65892
as(dp65893
g23
V571407
p65894
stp65895
a((dp65896
g2
(lp65897
VFirst of all, you should respect Java naming conventions, and choose much better names for your classes and variables
p65898
aVWhen you want to call a method on an object, you need a reference to this object
p65899
aVSo the main method simply needs to pass a reference to the second frame to the first frame:
p65900
aVThen in the Object1 class:
p65901
as(dp65902
g23
V571407
p65903
stp65904
a((dp65905
g2
(lp65906
VOne millisecond is 1,000,000 nanoseconds, so you just need a division
p65907
aVA more readable and safe way to do it is to use the TimeUnit class:
p65908
as(dp65909
g23
V571407
p65910
stp65911
a((dp65912
g2
(lp65913
VThe  method calls  on the request to determine if it must call ,  or the other servlet methods
p65914
aVSince you didn't stub this call to  on your mock request, EasyMock throws this exception
p65915
aVWhy don't you call  directly, rather than calling , since that's the method you want to test
p65916
as(dp65917
g23
V571407
p65918
stp65919
a((dp65920
g2
(lp65921
VYou shouldn't call  on a component
p65922
aVInstead, you should override the  method, and do the painting in this method, using the Graphics object passed as argument
p65923
as(dp65924
g23
V571407
p65925
stp65926
a((dp65927
g2
(lp65928
VI'm not sure I understand the question, and the poor variable naming doesn't help, but it seems you're create N instance of a StudentThread  class, which all have their  method synchronized
p65929
aVThat won't prevent multiple threads to invoke the run method concurrently, since they're all synchronized on a separate object
p65930
aVTo have mutual exclusion, all the threads must synchronize on a unique object, which should encapsulate the shared state that must be protected from concurrent access
p65931
as(dp65932
g23
V571407
p65933
stp65934
a((dp65935
g2
(lp65936
VNamed queries have two small advantages:
p65937
aVtheir syntax is checked when the session factory is created, making the application fail fast in case of an error (which probably indicates that your application lacks some unit tests)
p65938
aVthey can be accessed and used from several places (which probably indicates a design problem anyway)
p65939
aVThey also have a drawback: when reading or debugging code using a named query, you can"t immediately see which query is being executed without searching for its definition
p65940
aVThe rest is really unimportant:
p65941
aVthe cost of transforming a HQL query to SQL is negligible compared to the cost of actually executing the query
p65942
aVthe memory cost of caching the query is really small
p65943
aVRemember that Hibernate needs to have all the entities meta-data in memory anyway
p65944
aVI tend to prefer defining the query in the code where it's used, and to unit test them
p65945
aVThat makes the code more readable, and more robust
p65946
as(dp65947
g23
V571407
p65948
stp65949
a((dp65950
g2
(lp65951
VAll the cards could for example have an  method which would always return 0, except for ScoreCard instances
p65952
aVAll the cards could have a  which would always return true for JokerCard, and would obey some other rules for other cards
p65953
aVIt's hard to give a definitive answer, but if you want to use polymorphsm, then you need methods in the base class that must have an implementation is all the derived classes
p65954
as(dp65955
g23
V571407
p65956
stp65957
a((dp65958
g2
(lp65959
VIt seems like the  option of git rm is what you want
p65960
aVNot tested though
p65961
as(dp65962
g23
V571407
p65963
stp65964
a((dp65965
g2
(lp65966
VFor a browser to execute an applet, it needs to download the jar file containing the applet code
p65967
aVAn if it downloads it, it's available for decompilation
p65968
aVTo protect you against that, you can obfuscate the byte-code, or not use an applet at all, and simply use a traditional web application, where the code is at server-side, and the client only see HTML and JavaScript code
p65969
as(dp65970
g23
V571407
p65971
stp65972
a((dp65973
g2
(lp65974
VI would say that using dependency injection makes AOP, based on dynamic proxies, easier to use, and thus a natural path to follow
p65975
aVBut you can use dependency injection without using AOP at all, and you could use AOP without using dependency injection
p65976
aVBTW, proxies are not used only to implement AOP, but also to resolve circular dependencies or be able to inject smaller-scoped objects (for example, request-scoped objects) into larger-scoped ones (for example, singleton-scoped objects)
p65977
as(dp65978
g23
V571407
p65979
stp65980
a((dp65981
g2
(lp65982
VYour query asks for all the inverters and logs satisfying the criteria, without doing any join between them
p65983
aVAnd you can't have an Inverter loaded with only a partial list of logs
p65984
aVAn entity represents what you really have in the database, and not the result of a specific query
p65985
aVI would just use  to get the inverter by ID, and the following query to get all its logs satisfying the criteria:
p65986
aVAnd I would create an object containing the inverter and its partial list of logs
p65987
as(dp65988
g23
V571407
p65989
stp65990
a((dp65991
g2
(lp65992
VThe servlet api jar file must not be embedded inside the webapp since, obviously, the container already has these classes in its classpath: it implements the interfaces contained in this jar
p65993
aVThe dependency should be in the  scope, rather than the default  scope, in your Maven pom:
p65994
as(dp65995
g23
V571407
p65996
stp65997
a((dp65998
g2
(lp65999
VIn Eclipse, go to the Window - Show view menu, and choose to open the view named "Problems"
p66000
aVThis view should be always open
p66001
aVIt contains all the compilation errors and warnings
p66002
aVWhile there are compilation errors (marked red), you shouldn't even try to run your program
p66003
aVIt seems try to use undefined variables, and that you're calling a method  taking two Strings as argument without passing any
p66004
aVDouble-click on a compilation error in the problems view, and eclipse will put the cursor in the line where the problem is
p66005
aVHow comes you're using Swing before having learned how to compile a program and solve such basic errors
p66006
aVThat's like trying to drive a Ferrari before learning to drive
p66007
aVStart with the basics
p66008
as(dp66009
g23
V571407
p66010
stp66011
a((dp66012
g2
(lp66013
VIn Java, public classes must be defined in their own file, having the same name (with a
p66014
aVjava suffix) as the class name
p66015
aVYou defined a public class named  in the file
p66016
aVAnd you tried to put code directly in this class, outside of any method
p66017
aVThat isn't valid Java
p66018
aVSwing is hard and complex
p66019
aVDon't try to use it before knowing the basics of Java
p66020
aVMoreover, classes, by convention, start with an uppercase letter in Java
p66021
as(dp66022
g23
V571407
p66023
stp66024
a((dp66025
g2
(lp66026
VLook at how you create the data:
p66027
aVMy advices to make the code more robust:
p66028
aVdon't use a  field
p66029
aVIt's not useful since the data is contained in the model already
p66030
aVSo, to get the data, you just need to get it from the model
p66031
aVeither make all your method take arguments and return values, or not take anything, return void, and initialize fields, but mixing both is confusing
p66032
aVThe method above initializes a field and returns it, but the else clause only returns it without initializing it
p66033
as(dp66034
g23
V571407
p66035
stp66036
a((dp66037
g2
(lp66038
VIt's coming in Java 8
p66039
aVFor the moment, your best bet is to use the Guava library, which has an  (or ) method
p66040
as(dp66041
g23
V571407
p66042
stp66043
a((dp66044
g2
(lp66045
VIt behaves as documented:
p66046
aVParameters:
p66047
aVinstant - instant to format, null means now
p66048
as(dp66049
g23
V571407
p66050
stp66051
a((dp66052
g2
(lp66053
VThe left join must be before the where clause
p66054
aVAnd every column listed in the select clause should be in the group by clause:
p66055
as(dp66056
g23
V571407
p66057
stp66058
a((dp66059
g2
(lp66060
VThe message is:
p66061
aVYou don't have any id or composite-id element in your class definition
p66062
as(dp66063
g23
V571407
p66064
stp66065
a((dp66066
g2
(lp66067
VIf I understand correctly, you want to add a child to an existing parent
p66068
aVSo it's quite simple
p66069
aVSince the parent already exists, you get a reference to it, and then you assign the parent to the new child:
p66070
as(dp66071
g23
V571407
p66072
stp66073
a((dp66074
g2
(lp66075
VThat's simply because you haven't created any transactional service to create a region and a country at the same time, in the same transaction
p66076
aVInstead, you'e using a first transactional service call to create the region alone, and a second one to create the country alone
p66077
aVThe session is bound to the transaction, and it's a good thing
p66078
aVYou don't want the session to last forever and be filled with obsolete data from 1 hour ago
p66079
aVAnd you even less went to have a single session for all your transactions, since transactions excute in parallel, and a session is not threadsafe
p66080
as(dp66081
g23
V571407
p66082
stp66083
a((dp66084
g2
(lp66085
VIf the query is simply , and you get this exception, it means that the mapping of your entity doesn't match the column names in your database
p66086
aVWe could only help more if you gave us the code of the entity and its mapping, the database table definition, and the generated SQL query
p66087
as(dp66088
g23
V571407
p66089
stp66090
a((dp66091
g2
(lp66092
VThe message is telling you that you need a group by clause in your query
p66093
aVEvery column in the select clause (except the ones which are the result of an aggregate function) must be in the group by clause:
p66094
as(dp66095
g23
V571407
p66096
stp66097
a((dp66098
g2
(lp66099
VYou're closing the connection in the server immediately:
p66100
aVSo obviously, as soon as the first line from the client has been read by the server and the response has been sent, the connection is closed, and the client can't send anything more
p66101
as(dp66102
g23
V571407
p66103
stp66104
a((dp66105
g2
(lp66106
VYou need an XA-enabled transaction manager, and Spring doesn't come with any
p66107
aVSo either deploy your app in a Java EE application server, or embed a stand-alone transaction manager like Bitronix
p66108
as(dp66109
g23
V571407
p66110
stp66111
a((dp66112
g2
(lp66113
VThat is only possible if the bean is annotated with @Configuration and if the byte-code is instrumented
p66114
aVOtherwise, only beans created by Spring are autowired
p66115
aVNot beans created using
p66116
aVBecause Spring has no way to know that you created an object and that it must inject a dependency in it
p66117
aVThat's a fundamental principle of dependency injection: the objects are instantiated and injected by the container, not by you
p66118
as(dp66119
g23
V571407
p66120
stp66121
a((dp66122
g2
(lp66123
VThe XML dateTime pattern, expected by , is
p66124
aVSo, the date should be formatted using the SimpleDateFormat  pattern (not tested)
p66125
aVBut an even simpler way would be to simply use the  constructor which takes a  as argument, instead of transforming the Date to a String, and then thuis Date to a DateTime
p66126
as(dp66127
g23
V571407
p66128
stp66129
a((dp66130
g2
(lp66131
VDoing it for private methods is easy because the scope to search for usage of the method is limited (only the class itself), and because the warning makes sense: since it's private, nobody from the outside can call the method, and since it's not called from inside the project, the method is probably useless, hence the warning
p66132
aVDoing it for default methods could be done
p66133
aVBut doing it for public and protected methods would be counter-productive most of the time, because public and protected methods are part of the public interface of your classes, which could be used by other classes, out of the scope of the current eclipse project
p66134
aVAFAIK, eclipse doesn't come with such a tool
p66135
aVBut the UCDetector plugin can find unused code in your project
p66136
aVUse with caution
p66137
as(dp66138
g23
V571407
p66139
stp66140
a((dp66141
g2
(lp66142
VYou could simply use an auto-generated sequence ID, and sort by ID
p66143
aVOr add a Timestamp, and sort using this timestamp
p66144
aVThose two techniques would maintain insertion order without needing to get the largest integer before inserting a new picture
p66145
as(dp66146
g23
V571407
p66147
stp66148
a((dp66149
g2
(lp66150
VYou put your attribute in the session:
p66151
aVso you won't find it in requestScope, but in sessionScope:
p66152
as(dp66153
g23
V571407
p66154
stp66155
a((dp66156
g2
(lp66157
VThe syntax is
p66158
as(dp66159
g23
V571407
p66160
stp66161
a((dp66162
g2
(lp66163
VPassing 0 as divisor shouldn't be allowed
p66164
aVYou should throw an exception instead of returning false in this case:
p66165
as(dp66166
g23
V571407
p66167
stp66168
a((dp66169
g2
(lp66170
VUse an init-param to exteralize the configuration of the servlet to the standard web
p66171
aVxml file:
p66172
aVAnd access it from your servlet initialization method:
p66173
aVThis will indeed force you to repackage the war when you change the value, unless youd deploy the app as an exploded war
p66174
aVYou can of course imagine meny other solutions: use a system property (passed when Tomcat is started), store it in a file read at startup time, store it in the database, etc
p66175
as(dp66176
g23
V571407
p66177
stp66178
a((dp66179
g2
(lp66180
VWhen some argument is invalid, you should throw an IllegalArgumentException:
p66181
aVRead more about exceptions in the Java tutorial
p66182
aVNote that calling an overridable method from a constructor is a bad practice
p66183
aVYou should call  directly from the constructor (assuming this method is private or final)
p66184
as(dp66185
g23
V571407
p66186
stp66187
a((dp66188
g2
(lp66189
VYou're storing instances of  in the first JSP, in an
p66190
aVBut in the second JSP, you're trying to get Strings out of this list
p66191
aVAn  is not a
p66192
aVIt's an
p66193
aVSo the code of the second JSP should be
p66194
aVNote that your first JSP code could also be improved
p66195
aVWhy use a  when what you want is in fact a
p66196
aVIts code should be
p66197
aVAnd you should also use another name than "disp" for your variable and attribute
p66198
aVHow about something more descriptive like "invoices"
p66199
aVFinally, JSPs shouldn't use scriplets at all, and shouldn't be used to store objects in the session
p66200
aVThe first JSP only contains code, and doesn't generate any markup
p66201
aVIt should be implemented as a servlet, and not as a JSP
p66202
aVAnd it should store invoices in a request attribute and not in the session
p66203
aVThe session should only be used to store things that have a session lifetime (like the current user's name, preferences, or things like that)
p66204
aVThe second JSP should use the JSP EL and the JSTL rather than useing scriptlets
p66205
as(dp66206
g23
V571407
p66207
stp66208
a((dp66209
g2
(lp66210
VThe implementation should have the annotation
p66211
aVNot the interface
p66212
aVAnd the controller should depend on the interface, not on the implementation
p66213
aVThat's what would allow Spring to inject an AOP proxy, allowing for transactions, security, etc:
p66214
as(dp66215
g23
V571407
p66216
stp66217
a((dp66218
g2
(lp66219
VCreate a , iterate through the morse codes entered by the user, and for each morse code, get the associated Character in the map
p66220
aVIf you want to translate into the other direction, use a
p66221
as(dp66222
g23
V571407
p66223
stp66224
a((dp66225
g2
(lp66226
VAssuming the entities are fixed, and you in fact have a  or a  for your OneToMany association (same for MiniProject):
p66227
aVretrieve all the subprojects of a list of Projects
p66228
aVretrieve all the miniprojects of a Project
p66229
aVgiven a list of sub projects , how to retrieve all the miniprojects
p66230
aVsame as first query:
p66231
as(dp66232
g23
V571407
p66233
stp66234
a((dp66235
g2
(lp66236
VUse @JoinColumn to specify that you want to use the idEmpresa column to map the ManyToOne association:
p66237
as(dp66238
g23
V571407
p66239
stp66240
a((dp66241
g2
(lp66242
VSpring transactions, by default, work by wrapping the Spring bean with a proxy which handles the transaction and the exceptions
p66243
aVWhen you call  from , you're completely bypassing this proxy, so it can't start a new transaction, and you're effectively calling  from the same transaction as the one opened by the call to
p66244
aVOn the contrary, when you call a method of another injected bean from , you're in fact calling a method on a transactional proxy
p66245
aVSo if this alien method is marked with REQUIRES_NEW, a new transaction is started by the proxy, and you're able to catch the exception in  and resume the outer transaction
p66246
aVThis is described in the documentation
p66247
as(dp66248
g23
V571407
p66249
stp66250
a((dp66251
g2
(lp66252
VRead the javadoc
p66253
as(dp66254
g23
V571407
p66255
stp66256
a((dp66257
g2
(lp66258
VYou won't be able to add anything to a
p66259
aVThe list should be declared as
p66260
aVIndeed,  means: a list of some unknow type which is or extends BaseWorkflow
p66261
aVSince the type is unknown, adding anything (other than null) to this list would break its type safety
p66262
aVAnd then a simple cast will do:
p66263
as(dp66264
g23
V571407
p66265
stp66266
a((dp66267
g2
(lp66268
VUse JSON
p66269
aVThere are a myriad of free Java JSON marshallers
p66270
aVAnd JSON is natively supported by JavaScript
p66271
as(dp66272
g23
V571407
p66273
stp66274
a((dp66275
g2
(lp66276
VA List can't contain primitive types
p66277
aVAssuming it contains instances of , the only way is to iterate over the list and unbox each element (hoping there's no null in the list):
p66278
as(dp66279
g23
V571407
p66280
stp66281
a((dp66282
g2
(lp66283
VRemove the line
p66284
aVThis line precisely tells the browser to display a download/save dialog rather than displaying the PDF directly
p66285
aVOh, and make sure to close the input sytream in a finally block
p66286
as(dp66287
g23
V571407
p66288
stp66289
a((dp66290
g2
(lp66291
VYour expectations are wrong
p66292
aVHibernate won't generate a single insert statement
p66293
aVBut it will add three insert statements to a batch and execute this batch, thus making a single roundtrip to the database
p66294
aVRead http://docs
p66295
aVoracle
p66296
aVcom/javase/1
p66297
aV3/docs/guide/jdbc/spec2/jdbc2
p66298
ag10
aVframe6
p66299
aVhtml for more information about JDBC batch updates
p66300
as(dp66301
g23
V571407
p66302
stp66303
a((dp66304
g2
(lp66305
VThe servlet should simply decide which tab must be active and store this information in a request attribute before forwarding to the JSP
p66306
aVFor example:
p66307
aVAnd the JSP should use this information to make the appropriate tab active
p66308
aVFor example:
p66309
aV(and similarly for the tab content)
p66310
as(dp66311
g23
V571407
p66312
stp66313
a((dp66314
g2
(lp66315
VThat's the main disadvantage of linked lists: random access by index is O(n) rather than being O(1) for lists backed by an array
p66316
aVThat's just how they work
p66317
aVYou could make things better by uing a skip list, but it would make things more complex, and need more memory
p66318
aVNote than storing the index in each node makes it worse, since inserting a node at the first index, which should be O(1) without the index stored, becomes O(n) with the index, since you need to visit every node of the list to increment their index
p66319
aVBy storing this index, you're basically taking the worse part from both linked lists and array lists
p66320
aVWhy are you implementing a linked list, and not using the standard
p66321
as(dp66322
g23
V571407
p66323
stp66324
a((dp66325
g2
(lp66326
VRead as many objects as the number of written objects, or write the list of objects itself, instead of writing every object one after the other
p66327
aV(Or rely on the EOFException to detect the end of the stream, but this is ugly)
p66328
as(dp66329
g23
V571407
p66330
stp66331
a((dp66332
g2
(lp66333
VJust don't do that
p66334
aVFactor out the common part between both controller methods in a helper method, and call this helper method from both controller methods
p66335
as(dp66336
g23
V571407
p66337
stp66338
a((dp66339
g2
(lp66340
VIt seems you have defined Ban as a non-static inner class of another class called Main:
p66341
aVThis means that every Ban instance has an implicit reference to its outer Main instance
p66342
aVThe code above is similar to the following one:
p66343
aVor
p66344
aVpublic class Main {
p66345
aV}
p66346
aVSo when you serialize a Ban, you're also serializing this implicit instance, which is not serializable, hence the exception
p66347
aVMake Ban a top-level class, or a static inner class
p66348
as(dp66349
g23
V571407
p66350
stp66351
a((dp66352
g2
(lp66353
VThe code you posted prints the array to the  writer
p66354
aVTo get a variable referencing the array, just do
p66355
aV(assuming the array is an array of Strings, of course)
p66356
as(dp66357
g23
V571407
p66358
stp66359
a((dp66360
g2
(lp66361
VStraight from the javadoc:
p66362
aVAn instance of HashMap has two parameters that affect its performance: initial capacity and load factor
p66363
aVThe capacity is the number of buckets in the hash table, and the initial capacity is simply the capacity at the time the hash table is created
p66364
aVThe load factor is a measure of how full the hash table is allowed to get before its capacity is automatically increased
p66365
aVWhen the number of entries in the hash table exceeds the product of the load factor and the current capacity, the hash table is rehashed (that is, internal data structures are rebuilt) so that the hash table has approximately twice the number of buckets
p66366
aV(emphasis mine)
p66367
aVThe source code is also distributed with the JDK if you want more implementation details
p66368
as(dp66369
g23
V571407
p66370
stp66371
a((dp66372
g2
(lp66373
VIn the reload/wait page, have a JavaScript function making an AJAX request to the server ever N seconds, until the request finally succeeds, indicating that the server has been restarted
p66374
aVThen redirect to some page served by the server
p66375
as(dp66376
g23
V571407
p66377
stp66378
a((dp66379
g2
(lp66380
VThe easiest and cleanest way is to add a dedicated, specific action listener to each button
p66381
aVThat way, when the actionPerformed() method is called, you're sure that the associated button has been clicked, and don't need to test which button has been clicked:
p66382
aVAnother way is to use a common ActionListener, and use the  method of ActionEvent to know which component triggered the event
p66383
aVCompare the result with each potential button to determine which is the one that has been clicked:
p66384
aVWhat is the argument ActionEvent
p66385
aVThe answer is in the documentation
p66386
aVRead it
p66387
as(dp66388
g23
V571407
p66389
stp66390
a((dp66391
g2
(lp66392
VYou need a loop:
p66393
as(dp66394
g23
V571407
p66395
stp66396
a((dp66397
g2
(lp66398
VIt seems your foreign key constraint is wrong:
p66399
aVshould be
p66400
aVAlso, learn about prepared statements to avoid SQL injection attacks, have more robust and more efficient code
p66401
as(dp66402
g23
V571407
p66403
stp66404
a((dp66405
g2
(lp66406
VThe documentation says:
p66407
aVDatabase, or system, transaction boundaries are always necessary
p66408
aVNo communication with the database can occur outside of a database transaction (this seems to confuse many developers who are used to the auto-commit mode)
p66409
aVAlways use clear transaction boundaries, even for read-only operations
p66410
aVDepending on your isolation level and database capabilities this might not be required, but there is no downside if you always demarcate transactions explicitly
p66411
aVCertainly, a single database transaction is going to perform better than many small transactions, even for reading data
p66412
aV(emphasis mine)
p66413
as(dp66414
g23
V571407
p66415
stp66416
a((dp66417
g2
(lp66418
VEJBs are transactional by default
p66419
aVInvoking any of their method automatically starts a transaction, which is committed after the method returns (or rolled back in case of a runtime exception)
p66420
as(dp66421
g23
V571407
p66422
stp66423
a((dp66424
g2
(lp66425
VYou create an instance of FichierCommunRetriever using , instead of asking Spring to return a bean instance
p66426
aVSo Spring isn't controlling the creation and injection of this instance
p66427
aVYou should have the following method in your config class, and call it to get the bean instance:
p66428
as(dp66429
g23
V571407
p66430
stp66431
a((dp66432
g2
(lp66433
VYou must not put a backslash before the double quote:
p66434
aVor, if you want it clearer
p66435
as(dp66436
g23
V571407
p66437
stp66438
a((dp66439
g2
(lp66440
V doesn't escape anything
p66441
aVIf you have an EOL character (written as  in a Java String literal, but being a single character in the string, whose numeric value is 10) in the string stored in the database, then  will return a String containing this character
p66442
aVPrinting this String will result in two lines
p66443
aVIf you have a  character followed by a  character (which would thus be written as  in a Java String literal, but would only result in two characters in the string,  and ), then  will return a String containing these two characters
p66444
aVPrinting this String will result in  to be printed
p66445
aVIn short,  is used to be able to add a newline character in a String literal, in Java source code
p66446
aVBut this is translated by the compiler to a String containing just one newline character
p66447
aVNot to a String containing a backslash followed by a
p66448
aVAt runtime, these escape sequences don't exist anymore
p66449
as(dp66450
g23
V571407
p66451
stp66452
a((dp66453
g2
(lp66454
VYou could have any number of producers and any number of consumers
p66455
aVIf the producers produce too fast, the queue will fill up, until you get memory problems or the producers are forced to stay idle until there's some place left in the queue
p66456
aVIf the consumers consume too fast, they will stay idle most of the time
p66457
as(dp66458
g23
V571407
p66459
stp66460
a((dp66461
g2
(lp66462
VYou're confusing bytes and hexadecimal digits
p66463
aVA byte contains 8 bits
p66464
aVAn hexadecimal digit goes from 0 to F, and is thus only 4 bits (16 values, 16 = 2^4, thus 4 bits)
p66465
aVA single byte is thus represented using two hexadecimal digits
p66466
aVis equivalent to
p66467
aVThe first 4 bits are all 0, and the last 4 bits are all 1
p66468
as(dp66469
g23
V571407
p66470
stp66471
a((dp66472
g2
(lp66473
VAdd
p66474
aVto your imports, to be able to use
p66475
as(dp66476
g23
V571407
p66477
stp66478
a((dp66479
g2
(lp66480
VCheck the page source in your browser
p66481
aVYou're not setting the content-type of the response
p66482
aVSo the browser probably displays the first one as plain text because it doesn't start with anything looking like HTML, and tries to displays the second one as HTML, but since it's not valid HTML, it doesn't look good
p66483
aVIf you want to always have the response displayed as plain text, add
p66484
as(dp66485
g23
V571407
p66486
stp66487
a((dp66488
g2
(lp66489
VYes, it will
p66490
aVHibernate doesn't care about the length of the columns
p66491
aVWhy don't you simply test it
p66492
as(dp66493
g23
V571407
p66494
stp66495
a((dp66496
g2
(lp66497
VBecause the value of the field annotated with  doesn't match with the value stored in the database (or because the row in the database doesn't exist anymore)
p66498
as(dp66499
g23
V571407
p66500
stp66501
a((dp66502
g2
(lp66503
VEach time you're doing  or , you create a new instance of Boolean, which is, by definition, different from other instances
p66504
aVObjects, except enums, should never be compared with
p66505
aVUse  instead
p66506
aVOr, in your case, use
p66507
as(dp66508
g23
V571407
p66509
stp66510
a((dp66511
g2
(lp66512
VYou simply forgot to make your Employee class implement Cloneable
p66513
as(dp66514
g23
V571407
p66515
stp66516
a((dp66517
g2
(lp66518
VI would simply use a  containing all the names of the components in the card layout, and a field containing the index of the currently displayed component
p66519
aVTo know if you're at the beginning, you would test if
p66520
aVTo know if you're at the last component, you would test if
p66521
aVTo show the next component, you would use
p66522
as(dp66523
g23
V571407
p66524
stp66525
a((dp66526
g2
(lp66527
VIf I understand correctly, you want to test if the list contains "M"
p66528
aVThe clean way to do that is not to use a for loop, but simply to call
p66529
aVTo answer your question, though, you can break out of the loop using
p66530
aVIf you actually want to do something in the loop only if the element is not M, then do
p66531
as(dp66532
g23
V571407
p66533
stp66534
a((dp66535
g2
(lp66536
VWhat you gain by making the attribute transient is that you don't serialize the state
p66537
aVSerializing it is unnecessary, since it's discarded anyway by the readResolve() method
p66538
aVIf the state consists in an int, it doesn't matter much
p66539
aVBut if the state is a complex graph of objects, it makes a significant performance difference
p66540
aVAnd of course, if the state is not serializable, you don't have any other choice
p66541
aVThat said, serializing a singleton is questionable
p66542
as(dp66543
g23
V571407
p66544
stp66545
a((dp66546
g2
(lp66547
V is an array or objects, containing BigDecimal instances
p66548
aVThe forEach loop iterates through all the elements of this array
p66549
aVAt each iteration, the current element is stored in the  page attribute
p66550
aVThe current element is an instance of
p66551
aVthus doesn't make sense
p66552
as(dp66553
g23
V571407
p66554
stp66555
a((dp66556
g2
(lp66557
VYou implemented a deadlock
p66558
aVThe server writes the file content, then wait for a datagram packet from the client, the closes the socket
p66559
aVThe client reads until the server closes the socket, then sends a datagram packet
p66560
aVSo each party is waiting for the other one
p66561
aVAlso, never ignore the result of the InputStream
p66562
aVread() method like you're doing in the server code
p66563
aVYou can never assume that all the file will be read in one single call
p66564
as(dp66565
g23
V571407
p66566
stp66567
a((dp66568
g2
(lp66569
VI'm pretty sure this isn't possible
p66570
aVFirst of all, because @MappedSuperclass is needed to inherit mapping annotations from a superclass
p66571
aVSo I don't see why mapping annotations would automatically be inherited from an interface
p66572
aVSecond because if the JPA anotations in the class are on fields and not on getters, the annotations on getters will be ignored
p66573
aVParagraph 2
p66574
aV11
p66575
aV2 of the spec says:
p66576
aVAn entity may inherit from a superclass that provides persistent entity state and mapping information,
p66577
aVbut which is not itself an entity
p66578
aVTypically, the purpose of such a mapped superclass is to define state
p66579
aVand mapping information that is common to multiple entity classes
p66580
aVA mapped superclass, unlike an entity, is not queryable and must not be passed as an argument to
p66581
aVEntityManager
p66582
aVor
p66583
aVQuery
p66584
aVoperations
p66585
aVPersistent relationships defined by a mapped superclass must
p66586
aVbe unidirectional
p66587
aVBoth abstract and concrete classes may be specified as mapped superclasses
p66588
aVThe
p66589
aVMappedSuper-
p66590
aVclass
p66591
aVannotation (or
p66592
aVmapped-superclass
p66593
aVXML descriptor element) is used to designate a
p66594
aVmapped superclass
p66595
aV(emphasis mine)
p66596
aVThis is in the chapter about inheritance, and nowhere does the spec talsk about inherited mapping from interfaces
p66597
aVMapping can only be inherited from abstract or concrete classes
p66598
as(dp66599
g23
V571407
p66600
stp66601
a((dp66602
g2
(lp66603
V makes Hibernate load all the users registered to the newsletter, only to get the number of registered users
p66604
aVUse an ad hoc HQL query to count the number of registered users:
p66605
aVNote that 5-6 seconds to execute the above code is way too much, though
p66606
aVYou probably need to check if there is an index placed on the join columns of the join table
p66607
aVAlso note that you could simply use  to get the list by ID
p66608
aVAnd finally, everything would be easier and more readable if your IDs were all named
p66609
as(dp66610
g23
V571407
p66611
stp66612
a((dp66613
g2
(lp66614
VThis blog post explains it
p66615
aVThis is only possible in a servlet 3
p66616
aV0 application
p66617
aVThe jar file must be under , and its descriptor must be called web-fragment
p66618
aVxml and be under  in the jar file
p66619
aVFollow the blog post and the link to the spec for more details
p66620
as(dp66621
g23
V571407
p66622
stp66623
a((dp66624
g2
(lp66625
VThere are at least two problems
p66626
aVFirst: the result of the servlet is what is rendered by Timer
p66627
aVjsp
p66628
aVAnd Timer
p66629
aVjsp doesn't do anything with the date stored in the request by the servlet
p66630
aVIf you just want the servlet to return a formatted date, you don't need to forward to a JSP
p66631
aVJust write the date to the response's writer
p66632
aVSecond: your JavaScript code tries to change the innerHTML of the header with the content of the response before even sending the request
p66633
aVThis can't work
p66634
aVMy advice, to make your JS code easier to write and understand and portable between browsers, is to use jQuery and its AJAX functions:
p66635
as(dp66636
g23
V571407
p66637
stp66638
a((dp66639
g2
(lp66640
VMy guess is that sometimes, the  and  dates are on the exact same millisecond, and sometimes they differ by a few milliseconds (the time that elapses between the first call to  and the second one)
p66641
aVSince getDays() returns the number of complete days, a few milliseconds could make a difference
p66642
as(dp66643
g23
V571407
p66644
stp66645
a((dp66646
g2
(lp66647
VThe obvious security flaw is that anybody could detect which URL the authentication servlet redirects to, and share this URL with all his friends, thus allowing anyone to access the resource directly, without going through the euthentication servlet
p66648
aVUnfortunately, I don't know S3 at all, so I can't recommend any fix to the security problem
p66649
as(dp66650
g23
V571407
p66651
stp66652
a((dp66653
g2
(lp66654
VSpring never injects static fields
p66655
aVAnd it only inject objects that are retrieved from the application context, or are themselves injected into other objects
p66656
aVYou're not even creating an application context in your program, so Spring doesn't play any role in this program
p66657
aVI suggest to read the documentation
p66658
as(dp66659
g23
V571407
p66660
stp66661
a((dp66662
g2
(lp66663
VShould I specify garbage keys to persist the entities in the map
p66664
aVNo
p66665
aVAs soon as the real ID would be affected, the map would be in an inconsistent state
p66666
aVKeys of a map should be immutable
p66667
aVIs my approach all wrong
p66668
aVIf so, whats a better way
p66669
aVFrankly, I don't really see the point in using a map to hold comments by ID
p66670
aVThe entity manager is already able to get a comment by ID
p66671
aVI would simply use a Set or a List
p66672
aVThe alternative would be to persist the comments and flush the entity manager before adding them to the map, to make sure they already have a real ID
p66673
as(dp66674
g23
V571407
p66675
stp66676
a((dp66677
g2
(lp66678
VWhy subclass FluentIterable just to do this
p66679
aVYou just need a simple loop:
p66680
as(dp66681
g23
V571407
p66682
stp66683
a((dp66684
g2
(lp66685
VYou're assigning 'a' to the local variable c, but not to the array element
p66686
aVTo make it print bass, you'd need
p66687
as(dp66688
g23
V571407
p66689
stp66690
a((dp66691
g2
(lp66692
VThe EL, initially, has been designed to be used inside attributes of the JSTL tags, and any other custom tag you might want to use or write yourself
p66693
aVA later version of the JSP spec has allowed using the EL directly inside the JSPs, but this doesn't mean the JSTL isn't useful anymore
p66694
aVThe only thing you can do with EL directly in the JSP is to write some value to the response like for example
p66695
aVwhich would write the ID of the user bean
p66696
aVIf you want tests, loops, HTML escaping, URLs, date an number formatting, etc
p66697
aV, you still need to use the JSTL
p66698
as(dp66699
g23
V571407
p66700
stp66701
a((dp66702
g2
(lp66703
VThis mapping makes no sense to me
p66704
aVHow could the INVOICE_ID column of the table INVOICE (which is its primary key) serve as a foreign key to the USER
p66705
aVID column
p66706
aVThere should be a USER_ID column in INVOICE, and this column should serve as a JoinColumn for your OneToMany association:
p66707
as(dp66708
g23
V571407
p66709
stp66710
a((dp66711
g2
(lp66712
VYou don't provide many details about what these lists are, and if they're mutable or not
p66713
aVBut you could probably use an additional list containing all the elements of all the sublists:
p66714
as(dp66715
g23
V571407
p66716
stp66717
a((dp66718
g2
(lp66719
VThere are many things wrong
p66720
aVFirst of all, why are all the fields and methods static in Files
p66721
aVThis means that a Files instance has in fact no state at all, and that all Files instance share the same files, duration and status
p66722
aVThos fields and methods should certainly be instance fields and methods instead (i
p66723
ag468
aVyou must remove the  modifier)
p66724
aVThen, your model implements  and  by returning 0
p66725
aVThis means that your table contains 0 row and 0 column
p66726
aVSo I don't really see the point in using a table if you don't intend to have any value in it
p66727
aVThe  method, on the other hand, implies that all the rows contain the same values, since you're returning the same values whatever the  argument contains
p66728
aVFinally, You're saying you have a , but you don't say what the relationship between this map and the table should be
p66729
aVYou don't use this map anywhere in your model, and since the code, as is, doesn't make sense, it's hard to guess what the map actually contains, and what the table should actually display
p66730
as(dp66731
g23
V571407
p66732
stp66733
a((dp66734
g2
(lp66735
VConcurrentHashMap is used when several threads may access the same map concurrently
p66736
aVIn that case, implementing putIfAbsent() manually, like below, is not acceptable:
p66737
aVIndeed, two threads might execute the above block in parallel and enter in a race condition, where both first test if the key is absent, and then both put their own value in the map, breaking the invariants of the program
p66738
aVThe ConcurrentHashMap thus provides the  operation which makes sure this is done in an atomic way, avoiding the race condition
p66739
as(dp66740
g23
V571407
p66741
stp66742
a((dp66743
g2
(lp66744
VYou're not supposed to use a MouseListener to detect button clicks
p66745
aVUse an ActionListener instead
p66746
aVThis will also have the additional advantage of being able to click the button using the keyboard
p66747
as(dp66748
g23
V571407
p66749
stp66750
a((dp66751
g2
(lp66752
VIf the debugger can't acces the local variable, that means that the code hasn't been compiled with the option adding the local variable debugging information from the bytecode
p66753
aVCheck how you're compiling the classes, and make sure this information is in the compiled classes
p66754
aVIf javac is used, add the  option to ad all the debugging information
p66755
as(dp66756
g23
V571407
p66757
stp66758
a((dp66759
g2
(lp66760
VThe documentation says:
p66761
aVthrows: EOFException - if this input stream reaches the end before reading all the bytes
p66762
aVSo this behavior is expected if the length you send is not correct (i
p66763
ag468
aVis larger than the actual length), or if the sender closes the stream before having written all the bytes
p66764
as(dp66765
g23
V571407
p66766
stp66767
a((dp66768
g2
(lp66769
VYour code runs fine in your specific test
p66770
aVThat doesn't mean it will always work fine
p66771
aVTry iterating a lot more times, and you'll probably start seeing anomalies
p66772
aVYour test is a bit like if you tested that a bridge can support 20 trucks by riding on the bridge with a single car
p66773
aVIt doesn't demonstrate anything
p66774
aVAnd demonstrating that th code is thread-safe using a test is almost impossible
p66775
aVOnly careful reading and understanding of all the potential problems can guarantee that
p66776
aVA non thread-safe program might work fine for years and suddenly have a bug
p66777
aVTo make you counter safe, use an AtomicInteger
p66778
aVEDIT :
p66779
aVAlso, as noted by @SpringRush, you're not sharing a single counter between threads
p66780
aVEach thread has its own counter
p66781
aVSo your code is actually thread-safe, but I don't think it does what you intend it to do
p66782
as(dp66783
g23
V571407
p66784
stp66785
a((dp66786
g2
(lp66787
VYou can't embed an EL expression () inside another EL expression ()
p66788
aVYou just need
p66789
as(dp66790
g23
V571407
p66791
stp66792
a((dp66793
g2
(lp66794
VYou're doing it backwards
p66795
aVThe subject says: if the boolean is true, then do this, else, then do that
p66796
aVSo you should program it the same way:
p66797
aVThe rest is left as an exercise
p66798
aVYou should be able to figure it out by yourself
p66799
as(dp66800
g23
V571407
p66801
stp66802
a((dp66803
g2
(lp66804
VYou must have another concurrent non-committed transaction which is updating a row that you're trying to read
p66805
aVThis causes the row to be locked, and your transaction to wait until this lock is released
p66806
aVIf you're using a tool to execute requests on the database, make sure to commit or rollback the current transaction in this tool
p66807
aVIf you have another application, or another thread in the same application using the same database, check if it doesn't have long-running transactions
p66808
as(dp66809
g23
V571407
p66810
stp66811
a((dp66812
g2
(lp66813
VYour test runs in a single transaction, using a single session
p66814
aVSo when you're executing , Hibernate returns the A that is already in its first level cache
p66815
aVAnd since you forgot to add the B to the set of Bs in A, this set is still empty
p66816
aVIt's your responsibility to maintain the coherence of the object graph
p66817
aVIf you do , you should also do
p66818
aVThe best way is to encapsulate these two operations into a method  in A, which adds the B to the set and initializes
p66819
as(dp66820
g23
V571407
p66821
stp66822
a((dp66823
g2
(lp66824
VYou're using Struts, an MVC framework
p66825
aVIn such a framework, the View, whose role is to generate HTML markup, is implemented as a JSP
p66826
aVIt should only contain HTML, JSP EL, and JSP tags
p66827
aVNo Java code
p66828
aVAnd its default content type is text/html
p66829
aVThe controller's role is to handle presentation logic, and is implemented using Java actions
p66830
aVIn this case, you don't have any HTML markup to generate
p66831
aVYou only need to send bytes to the response output stream
p66832
aVSo why are you using a JSP to do that
p66833
aVIt's not its job
p66834
aVYou should do that directly from the controller (i
p66835
ag468
aVthe action)
p66836
aVPut the code above directly in the action, and everything should be fine
p66837
aVNote that :
p66838
aVyou don't need a DataInputStream to read bytes
p66839
aVYou should prefer a BufferedInputStream instead
p66840
aVthis stream should be closed in a  block
p66841
as(dp66842
g23
V571407
p66843
stp66844
a((dp66845
g2
(lp66846
VBecause fields are not accessed in a polymorphic, dynamic way
p66847
aVThe declared type of the object returned is Foo, so Foo's field is accessed
p66848
aVFields can't be overridden
p66849
aVDefining  in the subclass creates another field that happens to have the same name as the one in the superclass, and thus hides it
p66850
aVThere's no way
p66851
aVYou should amost never access fields of an object directly
p66852
aVUse methods instead
p66853
aVBecause that's invalid Java code
p66854
aVmakes no sense
p66855
aVis not a different object
p66856
aVand  are the same object
p66857
as(dp66858
g23
V571407
p66859
stp66860
a((dp66861
g2
(lp66862
VWhy can't you block a none static method with an object other than 'this'
p66863
aVYou can:
p66864
aVWhy do you have to specify the object that has blocked synchronized code
p66865
aVBecause that's how the language designers chose to design the language
p66866
aV, when used on instance methods, implicitely uses  as the lock
p66867
aVwhen used on a block must explicitely specify the lock
p66868
as(dp66869
g23
V571407
p66870
stp66871
a((dp66872
g2
(lp66873
VBecause Eclipse tells Tomcat to look for the webapp in the directory where Eclipse compiles the webapp, in order to avoid unnecessary file copies and be able to change the content of a JSP and have the result be immediately available without needing to redeploy everything
p66874
aVIt speeds things up significantly
p66875
as(dp66876
g23
V571407
p66877
stp66878
a((dp66879
g2
(lp66880
VIdentityHashMap dates from JDK1
p66881
aV4, whereas HashMap dates from JDK1
p66882
ag12
aVIn the meantime, the authors of the collections framework probably realized that passing an expected max size is much more natural, frequent and developer-friendly than passing a capacity
p66883
aVBut passing a capacity or a max size is basically the same thing :
p66884
as(dp66885
g23
V571407
p66886
stp66887
a((dp66888
g2
(lp66889
VI have no experience with Spring-data-JPA, but the javadoc of saveAndFlush() shows that it returns an entity
p66890
aVSo it probably uses  internally
p66891
aVTry changing your code to
p66892
as(dp66893
g23
V571407
p66894
stp66895
a((dp66896
g2
(lp66897
VUsing a BufferedInputStream should improve the performance:
p66898
aVAnd of course, a BufferedOutputStream would also improve the performance of the serialization
p66899
aVUsing those buffered streams allow reading large chunks of bytes from the file system in one shot, instead of reading byte per byte
p66900
aVRead the documentation for more information
p66901
as(dp66902
g23
V571407
p66903
stp66904
a((dp66905
g2
(lp66906
VYes, it's guaranteed
p66907
aVArray values are initialized with null (for objects), 0 (for numeric primitives) and false (for boolean primitives), just like fields
p66908
aVSee http://docs
p66909
aVoracle
p66910
aVcom/javase/specs/jls/se7/html/jls-10
p66911
aVhtml#jls-10
p66912
aV6-100:
p66913
aVSpace is allocated for a new array of that length
p66914
aVIf there is insufficient space to allocate the array, evaluation of the array initializer completes abruptly by throwing an OutOfMemoryError
p66915
aVOtherwise, a one-dimensional array is created of the specified length, and each component of the array is initialized to its default value (4
p66916
aV12
p66917
aV5)
p66918
aV(emphasis mine)
p66919
as(dp66920
g23
V571407
p66921
stp66922
a((dp66923
g2
(lp66924
VThat can't work, since, as the documentation shows, there is no Vector constructor taking an array as argument
p66925
aVIf you just want a non-modifiable list, use
p66926
aVIf you really want a Vector (but you should use ArrayList instead, because Vector is obsolete), use
p66927
as(dp66928
g23
V571407
p66929
stp66930
a((dp66931
g2
(lp66932
VIf the question is: How to translate this SQL query to HQL
p66933
aV, then the answer is very simple:
p66934
aVSee the documentation on aggregate functions in HQL
p66935
as(dp66936
g23
V571407
p66937
stp66938
a((dp66939
g2
(lp66940
VYou can't write to a folder
p66941
aVAnd  is a folder path
p66942
aVAlso,  is unnecessary
p66943
aVJust use
p66944
as(dp66945
g23
V571407
p66946
stp66947
a((dp66948
g2
(lp66949
VFirst of all, don't use doubles to store money amounts
p66950
aVUse BigDecimal instead
p66951
aVYou don't want rounding errors, inherent to floating point arithmetic, when dealing with money
p66952
aVSecond, use java
p66953
aVtext
p66954
aVDecimalFormat to format your numbers
p66955
as(dp66956
g23
V571407
p66957
stp66958
a((dp66959
g2
(lp66960
VRead the documentation about HQL
p66961
aVJoins, in HQL, are done using associations between entities:
p66962
aV(assuming there is a OneToOne association between Product and Descriptor, using their respective IDs)
p66963
as(dp66964
g23
V571407
p66965
stp66966
a((dp66967
g2
(lp66968
VIf the goal is to send data (as JSON or XML, for example) from the servlet to the JavaScript, then you don't need any JSP
p66969
aVThe view, in this case, is handled completely at client-side
p66970
aVThe usual way is to use a Java bean to store the data to send, marshal this bean to JSON or XML, and send the JSON or XML to the response writer
p66971
aVIf the goal is to send HTML to the JavaScript (to send a portion of the page to refresh, for example), then you can forward the request to a JSP that will generate this HTML portion only, and not a whole new page
p66972
aVIn the end, it's up to the AJAX callback function to get the data or HTML from the response and update the HTML page
p66973
as(dp66974
g23
V571407
p66975
stp66976
a((dp66977
g2
(lp66978
VMake the HTML file a JSP page, and use a JSP include (static or dynamic, depending on what you want, but you probably want a static include here):
p66979
aVHTML files are static resources that are served as is, without any kind of interpretation, by the web container
p66980
as(dp66981
g23
V571407
p66982
stp66983
a((dp66984
g2
(lp66985
VFirst of all, if you plan to use Struts 1, then forget about it
p66986
aVStruts 1 is an obsolete, not maintained anymore framework
p66987
aVDon't use Struts 1 for a new project
p66988
aVThat said, Struts is a server-side framework, and generates whatever HTML you put in your JSPs
p66989
aVSo it's compatible with any browser you want
p66990
aVIt's up to you to generate HTML, CSS and JavaScript code that is compatible with the browsers you target
p66991
aVStruts is also based on the stadard servlet API, and is thus compatible with any Java EE web container
p66992
as(dp66993
g23
V571407
p66994
stp66995
a((dp66996
g2
(lp66997
VYour query selects customers and fetches their portfolios, using a
p66998
aVIf you want to also fetch the invstments of the portfolios, you need an additional join fetch, just like in SQL:
p66999
as(dp67000
g23
V571407
p67001
stp67002
a((dp67003
g2
(lp67004
VThe transaction will propagate like with any other method call
p67005
aVSo, unless  has a REQUIRES_NEW transaction propagation, it will execute in the same transaction as the one started by
p67006
as(dp67007
g23
V571407
p67008
stp67009
a((dp67010
g2
(lp67011
Vis compiled to
p67012
aVThis is called autoboxing
p67013
aVIn some JDK versions, Integer
p67014
aVvalueOf() uses a cache of Integer instances usually going from -128 to 127, and returns instances from this cache instead of creating a new Integer instance every time
p67015
aVThat's why  returns true for 127 but not for 128
p67016
aVDon't rely on this, since it's a non-mandatory implementation detail
p67017
aVAlways compare their primitive int value or use
p67018
as(dp67019
g23
V571407
p67020
stp67021
a((dp67022
g2
(lp67023
VAssuming the enum is  and you want to pass the  instance of this enum:
p67024
aVJust like ou would use the enum anywhere else
p67025
as(dp67026
g23
V571407
p67027
stp67028
a((dp67029
g2
(lp67030
VHibernate is a JPA implementation
p67031
aVIt follows the JPA specifications, and has additional proprietary mapping capabilities
p67032
as(dp67033
g23
V571407
p67034
stp67035
a((dp67036
g2
(lp67037
VRemove the  instruction
p67038
aVIt's unnecessary
p67039
aVYou're forced to add slashes before double quotes when you send a JSON String literal because in a Java String literal, double quotes must be escaped (otherwise, they would mark the end of the String instead of being a double quote inside the String)
p67040
aVBut the actual String, in the bytecode, doesn't contain these backslashes
p67041
aVThey're only used in the source code
p67042
as(dp67043
g23
V571407
p67044
stp67045
a((dp67046
g2
(lp67047
VThese methods don't return anything, and don't initialize any field: only local variables
p67048
aVSo they're basically complex noops
p67049
aVAlso, you shouldn't cath Exception
p67050
aVCatch IOException, only if you can really handle the exception at this place
p67051
aVOther wise, let the exception propagate, or transform it into a runeim exception and throw the runtime exception
p67052
as(dp67053
g23
V571407
p67054
stp67055
a((dp67056
g2
(lp67057
VYou can't
p67058
aVInheritance is used to model an is a relationship: A Car is a Vehicle
p67059
aVA Banana is a Fruit
p67060
aVSo this relationship doesn't make sense if you have one campaign detail, and several deals
p67061
aVThis is a composition relationship, where one campaign detail has several deals
p67062
as(dp67063
g23
V571407
p67064
stp67065
a((dp67066
g2
(lp67067
VSwing is event-based
p67068
aVYou're not supposed to have infinite loops waiting for a button to be pressed
p67069
aVThe loop is implemented by Swing internally
p67070
aVWhat you're supposed to do is to add an action listener to the event, which will be called by the button when it's clicked:
p67071
aVThis is fundamental stuff when dealing with Swing
p67072
aVYou should read the swing tutorial
p67073
aVAny infinite loop in the swing event dispatch thread will freeze the GUI forever
p67074
as(dp67075
g23
V571407
p67076
stp67077
a((dp67078
g2
(lp67079
VDoing it automatically or by default is a big no-no
p67080
aVThere are many situations where you synchronize on a lock without wanting to notify at the end of the synchronized block
p67081
aVDoing so would break a whole lot of existing programs
p67082
aVAnd why do it with  instead of doing it with a simple  at the end of the synchronized block
p67083
aVIf you forget to call , you have as many chances to forget
p67084
aVAnd it would make things less readable, and less consistent
p67085
aVThe best practice, anyway, is to avoid using these very low-level methods, and to use higher-level abstractions, like blocking queues, countdown latches, semaphores, etc
p67086
aVIf I had to decide, your suggestion would be rejected
p67087
as(dp67088
g23
V571407
p67089
stp67090
a((dp67091
g2
(lp67092
VYou have a chain of  blocks, and not a chain of , ,  blocks
p67093
aVSo, when  is read, those two conditions are true, and the char is written twice:
p67094
aVAlso, you shouldn't use , but you should use a  instead
p67095
aVAnd you should respect Java naming conventions: variables start with a lower-case letter
p67096
aVAlso consider improving your naming:  and  aren't descriptive names
p67097
aVand  should be named  and
p67098
aVFinal note: this is the kind of problems that are diagnosed immediately when you step through the code using a debugger
p67099
aVLearn using the debugger: it will save you hours of debugging time
p67100
as(dp67101
g23
V571407
p67102
stp67103
a((dp67104
g2
(lp67105
VThat means that the message doesn't match any of the strings in the file, but that there are at least 5 strings in the file that can be found inside the message
p67106
aVchecks if the whole string matches the pattern
p67107
aVNot if some substring matches it
p67108
as(dp67109
g23
V571407
p67110
stp67111
a((dp67112
g2
(lp67113
VFrom the Java tutorial
p67114
aVA try-with-resources statement can have catch and finally blocks just like an ordinary try statement
p67115
aVIn a try-with-resources statement, any catch or finally block is run after the resources declared have been closed
p67116
aV(emphasis mine)
p67117
aVSo you can simply do
p67118
as(dp67119
g23
V571407
p67120
stp67121
a((dp67122
g2
(lp67123
VHibernate delays the updates to the database until it's really necessary
p67124
aVThat allows improving performance by not doing unnecessary updates in case the transaction is rollbacked, and by batching statements
p67125
aVTo force it to write all the pending changes to the database, you need to call
p67126
as(dp67127
g23
V571407
p67128
stp67129
a((dp67130
g2
(lp67131
VThe answer is no because the spec guarantees that a given EJB instance is never called concurrently
p67132
as(dp67133
g23
V571407
p67134
stp67135
a((dp67136
g2
(lp67137
VIt seems you like making your own life difficult :-) Why are you using the same name for different things
p67138
aVYou have a list of contacts, this list should be named  (plural form: it's a list of severa contacts), and not
p67139
aVAnd then in the loop, each individual contact can be named  (singular form: it's a single Contact instance):
p67140
as(dp67141
g23
V571407
p67142
stp67143
a((dp67144
g2
(lp67145
VCounting from 0 to 100000 without doing anything else is so fast (and is even probably removed completely by Hotspot, reducing the  method to a noop) that you'll never have a large number of concurrent threads: it takes more time to start a new thread than it takes for threads to complete and die
p67146
aVWhy don't you make all your threads sleep forever
p67147
aVThat would guarantee that they're all started
p67148
as(dp67149
g23
V571407
p67150
stp67151
a((dp67152
g2
(lp67153
VYou'll have to do it by yourself, and it will probably even be slightly more efficient than using a constructor in JPQL, since reflection won't be necessary:
p67154
aVThen loop over the results, and construct your results
p67155
aVFor example:
p67156
as(dp67157
g23
V571407
p67158
stp67159
a((dp67160
g2
(lp67161
VYour method should take a  as argument, get the float value from the numbers and compute their average
p67162
aVmeans: a List of some unknown type being or extending Number
p67163
as(dp67164
g23
V571407
p67165
stp67166
a((dp67167
g2
(lp67168
VA servlet must be declared and mapped to an URL pattern in the web
p67169
aVxml file of your webapp
p67170
aVOnce this is done, you can use the chosen URL to invoke the servlet:
p67171
as(dp67172
g23
V571407
p67173
stp67174
a((dp67175
g2
(lp67176
V is an array of arrays of integers:
p67177
aVso  is an
p67178
aVSo, since it's an , assigning it an instance of  makes no sense:
p67179
aVYou might want to initialize it to an int:
p67180
aVOr you might want to make rate an array of arrays of pric:
p67181
aVNote that Java conventions tell that classes should start with an uppercase letter
p67182
aVChoosing good names makes the code more readable also
p67183
aVWhat is a
p67184
aVWhat is an
p67185
as(dp67186
g23
V571407
p67187
stp67188
a((dp67189
g2
(lp67190
V is not used to change what the browser connects to and displays
p67191
aVIt's used to create a HTTP connection in the Java application itself
p67192
aVWhen a Java program connects to a URL and reads the response, the browser doesn't know about it, and won't magically display anything
p67193
aVBy connecting to a URL in your Java app, you do the same thing as what the browser does, but in your own program
p67194
aVSo you might read the response from the connection, and display what the webapp has sent
p67195
as(dp67196
g23
V571407
p67197
stp67198
a((dp67199
g2
(lp67200
VInside a given session, entities are singletons: Hibernate will always (well, almost always) return the same entity instance, whatever the way you get it : Session
p67201
aVget(), Session
p67202
aVload(), HQL query, Criteria query, etc
p67203
aVIf what you want is a singleton across several sessions, then no, it's impossible (and it wouldn't make sense)
p67204
as(dp67205
g23
V571407
p67206
stp67207
a((dp67208
g2
(lp67209
VThat has always be the case, with all versions of SVN (and TortoiseSVN)
p67210
aVSVN will only reject a commit if one of the modified files in the commit has been modified by someone else
p67211
aVsince the last update of the file
p67212
aVIt worked file by file, and not on the whole project
p67213
aVThat's one of the well-known weaknesses of SVN
p67214
aVIf you want the behavior you describe, use Git
p67215
as(dp67216
g23
V571407
p67217
stp67218
a((dp67219
g2
(lp67220
V is not a byte array
p67221
aVIt's a string containing a single char
p67222
aVExecute the following test instead:
p67223
aVTo check that this is true for any byte, just improve the code an loop through all the bytes:
p67224
aVISO-8859-1 is a standard encoding
p67225
aVSo the language used (Java, C# or whatever) doesn't matter
p67226
aVHere's a Wikipedia reference that claims that every byte is covered:
p67227
aVIn 1992, the IANA registered the character map ISO_8859-1:1987, more commonly known by its preferred MIME name of ISO-8859-1 (note the extra hyphen over ISO 8859-1), a superset of ISO 8859-1, for use on the Internet
p67228
aVThis map assigns the C0 and C1 control characters to the unassigned code values thus provides for 256 characters via every possible 8-bit value
p67229
aV(emphasis mine)
p67230
as(dp67231
g23
V571407
p67232
stp67233
a((dp67234
g2
(lp67235
VThe first reason is that the JVM itself is not written in Java, and is not portable across OSes
p67236
aVSo you'd better choose a Windows VM if your OS is Windows, and a Linux VM if you run on Linux
p67237
aVThe second reason is that new versions of the language need new versions of the JVM
p67238
aVSo for example, a Java 7 VM won't be able to run programs written using Java 8 Lambdas
p67239
aVThen as usual with all the products: some are more efficient in some areas than others
p67240
aVSome are open-source and others aren't
p67241
aVSome are specialized for a given kind of problem and others are more general, etc
p67242
as(dp67243
g23
V571407
p67244
stp67245
a((dp67246
g2
(lp67247
VFirst of all, you should not put anything under the JDK's jre/lib/ext directory
p67248
aVInstead, use the  option when launching your application, and make sure to have the jar of the driver (and not the bin directory) in the classpath:
p67249
as(dp67250
g23
V571407
p67251
stp67252
a((dp67253
g2
(lp67254
VAFAIR, the same would work in Struts1, provided the list in your form bean contains a list which already has the right size
p67255
ag3881
ag468
aVif the last input text has the name , the list should be of size 8 at least, and thus be prepopulated with 8  instances
p67256
aVSTruts will only do
p67257
aVSee http://struts
p67258
aVapache
p67259
aVorg/development/1
p67260
aVx/struts-taglib/indexedprops
p67261
aVhtml for more details
p67262
as(dp67263
g23
V571407
p67264
stp67265
a((dp67266
g2
(lp67267
VThe taglib declaratiion must be at the top of every JSP using the taglib
p67268
aVSo it must also be present at the top of
p67269
aVNote that there are other errors in your page: unclosed  tags for example
p67270
as(dp67271
g23
V571407
p67272
stp67273
a((dp67274
g2
(lp67275
VThe error message says:
p67276
aVThis means that in the table , the column  is a foreign key to the column  of the same table
p67277
aVThis doesn't look right to me
p67278
aVIt doesn't even seem right to have a  column in this table
p67279
as(dp67280
g23
V571407
p67281
stp67282
a((dp67283
g2
(lp67284
VAdd a setter for it:
p67285
aVThis is the principle of dependency injection: you inject dependencies manually, vis constructor or setter injection, in your unit tests
p67286
as(dp67287
g23
V571407
p67288
stp67289
a((dp67290
g2
(lp67291
VThis is a job that should be done by the controller, in Java code, and not by the view
p67292
aVMake it split the list in two, store both lists in two request attributes, and have your JSP simply have two separate loops, without any date comparison needed
p67293
as(dp67294
g23
V571407
p67295
stp67296
a((dp67297
g2
(lp67298
VJSTL code is executed at server-side
p67299
aVIn this case, instead of being used to generate HTML, it's also being used to generate JavaScript code (which is perfectly valid)
p67300
aVThe  method of your list, which  calls, returns the toString representation of every Java object in the list, separates them by commas, and surrounds them with brackets
p67301
aVThe end result being
p67302
aVThe generate HTML + JavaScript is then downloaded by the browser, which interprets the JavaScript code:
p67303
aVThis happens (by accident) to be syntaxically correct JavaScript code
p67304
aVIt means: call the function  with a JavaScript array as argument
p67305
aVThe array contains the value of the two JavaScript variables  and
p67306
aVI assume that you in fact want a JavaScript array of strings instead, which should be written as
p67307
aVWhat you should do is transform the Java array into a JSON string in the controller, and then use this JSON string inside the JavaScript code:
p67308
as(dp67309
g23
V571407
p67310
stp67311
a((dp67312
g2
(lp67313
VOK, despite the fact that you haven't read the error message, it seems you're really a newbie, so I'll help
p67314
aVThe above isn't valid Java
p67315
aVA method invocation takes a list of arguments, without a type
p67316
aVNow that is a valid method invocation
p67317
aVBut it tries to invoke a static method called  of the class HistoryPane
p67318
aVWhat you want is to invoke the instance method  on the current object
p67319
aVSo the valid syntax is
p67320
aVor simply
p67321
aVThat should solve this particular compilation error
p67322
aVDon't try to run your app before every compilation error, listed in the Problems view of Eclipse, is fixed
p67323
aVNote that the above line won't do what you want it to do, but I'll let you investigate what you should do instead
p67324
aVMy advice: don't try using Swing, which is quite a complex beast, if you don't even know how to call a method yet
p67325
aVStart with very simple Java exercises, not involving any GUI, until you're familiar with the Java syntax, and understand how to read, understand and fix basic compilation problems
p67326
as(dp67327
g23
V571407
p67328
stp67329
a((dp67330
g2
(lp67331
VIt clutters your code because you're making them too long
p67332
aVReduce them to two or three lines max, and it will be more readable
p67333
aVFor example:
p67334
aVOr, if it's still too long, you can implement them as non-anonymous inner classes
p67335
aVFor example:
p67336
as(dp67337
g23
V571407
p67338
stp67339
a((dp67340
g2
(lp67341
VReplace the code in  by
p67342
as(dp67343
g23
V571407
p67344
stp67345
a((dp67346
g2
(lp67347
VRight-click on the method and click "Find references" or "Open call hierarchy"
p67348
as(dp67349
g23
V571407
p67350
stp67351
a((dp67352
g2
(lp67353
VNo, it's not possible
p67354
aVYou'll need the binary jars in the eclipse build path to be able to compile your source code
p67355
as(dp67356
g23
V571407
p67357
stp67358
a((dp67359
g2
(lp67360
VFirst of all, you should respect the Java naming conventions
p67361
aVClasses start with an uppercase letter
p67362
aVPackages are all in lowercase
p67363
aVYou should also avoid putting the
p67364
aVclass files in the same dirctory structure as the
p67365
aVjava files
p67366
aVAnd the directory structure must match exactly with the package structure, in the sources and in the classes
p67367
aVSo, if you have 2 classes  and , thr structure should be the following:
p67368
aVTo be able to compile the source files, go into the project directory, and type the following command:
p67369
aVTo be able to run the a
p67370
aVA class, go into the project directory, and type the following command:
p67371
as(dp67372
g23
V571407
p67373
stp67374
a((dp67375
g2
(lp67376
VThe above does not escape HTML, since  is set to false
p67377
aVBy default,  is true, and the  tag thus escapes the HTML
p67378
aVIf you don't want to escape, you could simply use
p67379
aVand avoid using  completely, since the only purpose of  is to escape HTML
p67380
as(dp67381
g23
V571407
p67382
stp67383
a((dp67384
g2
(lp67385
VYes, it's a wrong expectation
p67386
aVBatch updates simply means that instead of sending every insert statement separately to the database, they're added to a batch, and once a given number has been added, the batch is sent to the database
p67387
as(dp67388
g23
V571407
p67389
stp67390
a((dp67391
g2
(lp67392
VYou simply need to wrap the data and its priority inside another object, only used internally by your PriorityQueue (just like a LinkedList uses nodes that wrap the data and a pointer to the next node)
p67393
aVSo  would end up being implemented as
p67394
as(dp67395
g23
V571407
p67396
stp67397
a((dp67398
g2
(lp67399
VYou're using Hibernate 4
p67400
ag10
aV9 with classes from the  package
p67401
aVYou shouldn't
p67402
aVClasses in this package must be used with Hibernate 3
p67403
ag22096
aVTo use Hibernate 4 with Spring, use classes from the package
p67404
as(dp67405
g23
V571407
p67406
stp67407
a((dp67408
g2
(lp67409
VThe writer that is passed to your  method is the HTTP response's writer
p67410
aVEverything you write to this writer goes to the browser, as is
p67411
aVJSP is a server-side technology
p67412
aVIt's compiled and executed at server-side
p67413
aVThe browser doesn't know anything about JSP includes
p67414
aVSo writing JSP code to the HTTP response writer doesn't make sense
p67415
aVTo do what you want to do, see Paul Grime's answer
p67416
as(dp67417
g23
V571407
p67418
stp67419
a((dp67420
g2
(lp67421
VJPA/Hibernate doesn't have much to do with clustering
p67422
aVJPA entities are purely local, and can't be used remotely
p67423
aVThe only thing you should care about regarding clustering with JPA is the second-level cache (if enabled) because another JVM might update entities that are in the cache
p67424
aVFail-over and load-balancing must be done at a higher-level : at the service layer, or at the presentation layer
p67425
aVI'm not an expert in this area, but I find it much easier to have homogenous deployments, and to deploy the full app on several boxes with an HTTP load-balancer at the front
p67426
as(dp67427
g23
V571407
p67428
stp67429
a((dp67430
g2
(lp67431
VThe returned value is the index, in the array of options, of the selected option
p67432
as(dp67433
g23
V571407
p67434
stp67435
a((dp67436
g2
(lp67437
VI haven't found the javadoc of the  class, but my guess is that the current state is rendered by the method render() of StateBaseGame
p67438
aVAnd since you overrode the method to make it do nothing, your state's render() method is never called by any object
p67439
aVTry removing the overridden  and  method in your main class
p67440
aVBTW, in the source file that I found on github, these two methods are final, so it's impossible to override them, which probably indicates that these methods are not supposed to be overridden
p67441
as(dp67442
g23
V571407
p67443
stp67444
a((dp67445
g2
(lp67446
VYou don't have any attribute named "nam" in the superclass
p67447
aVYou have one named "name":
p67448
as(dp67449
g23
V571407
p67450
stp67451
a((dp67452
g2
(lp67453
VThe ImageIcon constructor you're using takes a file name as argument
p67454
aVThis constructor thus tries to find this file on the disk, in the current directory (since the path you passed is a relative path)
p67455
aVThe current directory is not the directory where the Java source file is
p67456
aVIt's the directory from which the java command used to execute your app is launched
p67457
aVYou don't want to use file IO to load your image
p67458
aVInstead, you want this image to be loaded from the classpath (ultimately, from inside the jar containing your packaged application)
p67459
aVTo do that, use the constructor taking a URL as argument, and pass the URL of the resource:
p67460
aV(provided Ace
p67461
aVpng is in the same package as the TrevCard class)
p67462
as(dp67463
g23
V571407
p67464
stp67465
a((dp67466
g2
(lp67467
VEach node should have a pointer to the next node and to the previous node
p67468
as(dp67469
g23
V571407
p67470
stp67471
a((dp67472
g2
(lp67473
V doesn't return the number of minutes
p67474
aVIt returns the minutes part of the period
p67475
aVThe period between these two dates is -2 years, 0 month, 0 week, 0 day, 0 hour, 0 minute, 0 second
p67476
aVIf you want the number of hours and the number of minutes between two dates, use
p67477
as(dp67478
g23
V571407
p67479
stp67480
a((dp67481
g2
(lp67482
VSee http://docs
p67483
aVoracle
p67484
aVcom/html/E24396_01/ejb3_langref
p67485
aVhtml#ejb3_langref_arithmetic and/or http://docs
p67486
aVjboss
p67487
aVorg/hibernate/core/3
p67488
aV6/reference/en-US/html_single/#queryhql-expressions
p67489
as(dp67490
g23
V571407
p67491
stp67492
a((dp67493
g2
(lp67494
VYou shouldn't do this
p67495
aVMockito is a really well-designed, simple to learn, extremely well-documented, and almost de-facto standard framework
p67496
aVAnd it's type-safe and doesn't need reflection, which makes tests easy to read and understand
p67497
aVLet your developers learn the real Mockito and use its API directly
p67498
aVThey'll be happy to use it because it will have a better, easier to use and more flexible design than your own super-api, and they'll know that they won't learn Mockito for nothing because they'll probably use it in other projects or even other jobs
p67499
aVMockito doesn't need another proprietary API on top of it
p67500
aVMy suggested alternative is thus to forget about this and teach Mockito to your developers
p67501
as(dp67502
g23
V571407
p67503
stp67504
a((dp67505
g2
(lp67506
VYour server doesn't implement the HTTP protocol correctly
p67507
aVYou're sending the body of the HTTP response directly, instead of sending back a proper HTTP response, starting with the status line, then the HTTP headers (in which the HTML content type should be specified), then a blank line, then finally the response body
p67508
aVSee http://en
p67509
aVwikipedia
p67510
aVorg/wiki/Hypertext_Transfer_Protocol#Response_message
p67511
as(dp67512
g23
V571407
p67513
stp67514
a((dp67515
g2
(lp67516
VBecause the  variable is not initialized yet at the moment you try to set its text
p67517
aVIndeed, it's only initialized t=when the event queue calls the runnable passed toinvokeLater at the end of the main method
p67518
aVMoreover, you're accessing a Swing component from the main thread, and Swing components must only be used from the event disptach thread
p67519
aVThat's why, BTW, the main method initializes the frame inside a runnable passed to
p67520
aVPlease read the Swing tutorial about concurrency, or your next question will ask why sleeping in an event listener freezes the whole GUI
p67521
aVThis field should not be public, and it should even less be static
p67522
aVWhy don't you initialize the field's text from the frame constructor
p67523
aVThat's where it should be initialized
p67524
as(dp67525
g23
V571407
p67526
stp67527
a((dp67528
g2
(lp67529
VInstead of
p67530
aVyou should have
p67531
aVOtherwise, the event listener will be another instance of PanelEventTest, whose  method has never been invoked, and whose  variable is thus null
p67532
aV(Note that even if its  method was called, it would remove everything from its own panel2, and not from the panel2 of the frame containing the button)
p67533
aVYou should prefer using (annonymous) inner classes for your listeners instead of making the frame itself a listener:
p67534
as(dp67535
g23
V571407
p67536
stp67537
a((dp67538
g2
(lp67539
Vthe  operator can only be used on arrays
p67540
aVList has a  method to get the element at a given index:
p67541
aVJava classes are documented: http://docs
p67542
aVoracle
p67543
aVcom/javase/6/docs/api/
p67544
as(dp67545
g23
V571407
p67546
stp67547
a((dp67548
g2
(lp67549
VYou don't add the cardPanel to the applet, so it doesn't have any child component to display:
p67550
as(dp67551
g23
V571407
p67552
stp67553
a((dp67554
g2
(lp67555
VIf I understand correctly, you would like to have your button panel at the south of your frame, and your buttons to be at the right of the button panel
p67556
aVTo do that, I would use a horizontal BoxLayout, containing a glue as its first element, to layout the buttons inside their button panel
p67557
aVThen I would add this button panel at the south of the content pane
p67558
aVRead how to use those two layout managers in the swing tutorial, because you're confused about how a BorderLayour works: you can't add something at the south and at the east of such a layout
p67559
aVNote that the tutorial page about the BoxLayout has an example that does exactly what you want
p67560
as(dp67561
g23
V571407
p67562
stp67563
a((dp67564
g2
(lp67565
VNo
p67566
aVDependency injection is not just about avoiding the creation of its dependencies
p67567
aVIt's also about avoiding to ask the container for its dependencies
p67568
aVInstead of asking the container for dependencies, the container injects dependencies into the component
p67569
aVI don't understand what you mean by "the problem of not injecting dependencies"
p67570
aVPlease clarify
p67571
aVA session bean is normally used when you need transactional, security and/or remoting aspects to be added by the container around the methods
p67572
aVIf it's just a utility class, there's no reason to make it a session bean
p67573
aVNo, it doesn't make sense
p67574
aVDepoendency injection's main goal is to replace the uses of a servce locator and/or factory, in order to have the container inject the dependency into the bean
p67575
aVThis is what makes the code easily testablen because you can simply inject fake dependencies (mock objects) into the bean in your unit test
p67576
as(dp67577
g23
V571407
p67578
stp67579
a((dp67580
g2
(lp67581
VFile extends Object (like all classes do)
p67582
aVSo the above is simply compiled by the JSP container to something like
p67583
aVThere's nothing to convert, since a File is an Object
p67584
aVNote that  and  are obsolete for a looooong time
p67585
aVYou shouldn't use these directives anymore
p67586
aVUse an MVC controller (or at least a self-implemented MVC pattern), and use the JSTL and the JSP EL to access beans created and stored in request attributes by the controller
p67587
aVThe view (i
p67588
ag468
aVthe JSP) shouldn't create and populate beans
p67589
aVThat's not its job
p67590
as(dp67591
g23
V571407
p67592
stp67593
a((dp67594
g2
(lp67595
VTo keep track of the current player's color, just switch the color each time a user plays:
p67596
aVTo find the first row with the p0 icon (assuming the lowest row is at index 0), just loop over the rows until finding the one:
p67597
as(dp67598
g23
V571407
p67599
stp67600
a((dp67601
g2
(lp67602
s(dp67603
g23
V571407
p67604
stp67605
a((dp67606
g2
(lp67607
VThe first listener clears the selection of
p67608
aVThat makes the selection change: it goes from "the index i is selected" to "no index is selected", so the second listener is invoked
p67609
aVAnd in the second listener, you're trying to call a method on the selected value of
p67610
aVSince you just cleared the selection, there's no selected value anymore, hence the NullPointerException
p67611
aVSide note: your code is very hard to read, because it doesn't respect the Java naming conventions
p67612
aVVariables start with a lowercase letter, and are camelCased (no underscore in their name)
p67613
aVOther side note : what's the point in calling
p67614
aVIf the list contains Integer instances, the cast the value to Integer directly
p67615
aVIf it contains String, then why not store Integers instead, since this is what you want the list to contain
p67616
as(dp67617
g23
V571407
p67618
stp67619
a((dp67620
g2
(lp67621
VUse BigInteger
p67622
aVIt has been designed to support arbitrary large integer operations
p67623
aVBTW, I hope you're not reimplementing RSA encryption by yourself
p67624
aVRSA is natively supported by the JDK
p67625
as(dp67626
g23
V571407
p67627
stp67628
a((dp67629
g2
(lp67630
VYou need a  loop, and an  test
p67631
as(dp67632
g23
V571407
p67633
stp67634
a((dp67635
g2
(lp67636
VAn inner class has a reference to an instance of its outer class
p67637
aVThis is a has-a relationship
p67638
aVIf it extends its outer class, it also has a is-a relationship wit its outer class
p67639
aVSo it's equivalent to the following two top-level classes:
p67640
as(dp67641
g23
V571407
p67642
stp67643
a((dp67644
g2
(lp67645
VInterrupting a thread just sets an interrupt flag to  for this thread
p67646
aVIt's the responsibility of the thread itself to regurlarly check the value of this flag and stop executing ASAP (by returning from the  method) as soon as it's true
p67647
aVWhen the interrupt flag is set while the thread is sleeping (or when it's blocked inside a bocking call like , , etc
p67648
aV, an InterruptedException is thrown by the blocking method
p67649
aVIt's also the responsibility of the thread to cacth this exception and stop executing ASAP
p67650
aVYour first thread regularly checks the flag and exits when it's true, but fails to do so when an InterruptedException is caught
p67651
aVYour second thread interrupts itself, but doesn't return from its  method when it does so
p67652
as(dp67653
g23
V571407
p67654
stp67655
a((dp67656
g2
(lp67657
V uses the class loader to return the URL of a resource inside a jar in the  directory of the webapp, or inside , still in the webapp
p67658
aVYou can't and must not assume this is a file
p67659
aVA webapp is normally deployed as a war file
p67660
aVAnd anyway, the content of this war must be kept read-only
p67661
aVIf you want to write to a file, use file IO, in a directory outside of the webapp
p67662
as(dp67663
g23
V571407
p67664
stp67665
a((dp67666
g2
(lp67667
VFirst of all, your mapping is wrong
p67668
aVYou have a many to many bidirectional association here, so one of the side must be the owner, and define the mapping using @JoinTable, and the other side must be the inverse side, and use the mappedBy attribute
p67669
aVIf you want the person to be the owner, the mapping should thus be:
p67670
aVNote that LAZY is the default for toMany associations, and that cascade = ALL doesn't make much sense for many to many associations
p67671
aVThen you must understand that HQL uses entity and attribute names, and not table and column names
p67672
aVYou must also realize that if you select department names, you'll get a list of department names, and not a list of persons
p67673
aVSo, if you want to get the list of persons for a given depertment name, you should use
p67674
as(dp67675
g23
V571407
p67676
stp67677
a((dp67678
g2
(lp67679
V does that : it creates a view over the original list
p67680
aVYou would probably save memory by using that, since a sublist has only these 4 fields:
p67681
aVreference to the outer list
p67682
aVoffset
p67683
aVsize
p67684
aVmodCount
p67685
aVEach sublist would thus consume something like 20 bytes
p67686
as(dp67687
g23
V571407
p67688
stp67689
a((dp67690
g2
(lp67691
VYou can do one, or the other, or both
p67692
aVIn any case, Hibernate needs an instance of the entity to delete it using
p67693
aVYou can get such an instance without loading the entity from the database using , which returns a lazy-loaded proxy
p67694
aVSo the deleteById() method would be implemented using
p67695
as(dp67696
g23
V571407
p67697
stp67698
a((dp67699
g2
(lp67700
VYou don't have any  method in your form bean
p67701
aVSo Struts can't set the user name in the form bean when the form is submitted, so the username in the form is null, and thus  throws a NullPointerException
p67702
aVRename the  method to
p67703
aVAlso note that you don't need to set the name attribute in your form tags
p67704
aVJust setting the property attribute is sufficient
p67705
as(dp67706
g23
V571407
p67707
stp67708
a((dp67709
g2
(lp67710
VThis is basically what dependency injection tries to avoid: getting a dependency from the container instead of having the dependency injected by the container
p67711
aVThis utility class should be a Spring bean, where the service would be injected
p67712
aVAnd you could then inject this utility bean inside the controller
p67713
as(dp67714
g23
V571407
p67715
stp67716
a((dp67717
g2
(lp67718
VWhat you want to do is explained in the javadoc of Answer:
p67719
as(dp67720
g23
V571407
p67721
stp67722
a((dp67723
g2
(lp67724
VYou can't use  with
p67725
aVTo load a resource  in the same package as the class, use
p67726
aVTo load a resource  in a sub-package foo
p67727
aVbar of the package of the class, use
p67728
aVTo load a resource  in any package com
p67729
aVcompany
p67730
aVfoo
p67731
aVbar, use
p67732
aVThis is described in the javadoc of the  method, although it lacks examples
p67733
as(dp67734
g23
V571407
p67735
stp67736
a((dp67737
g2
(lp67738
V is used to specify the name of the variable used to refere to the bean
p67739
aVSo the above code is equivalent to
p67740
aVAnd this is invalid, because it defines two variables with the same name
p67741
aVjsp:useBean shouldn't be used for years anyway
p67742
aVLearn the JSP EL and the JSTL, and simply do
p67743
aVAlso, the convention is to name attributes the same way as Java local variables: starting with a lowercase letter
p67744
as(dp67745
g23
V571407
p67746
stp67747
a((dp67748
g2
(lp67749
VUse a map to store your topics:
p67750
as(dp67751
g23
V571407
p67752
stp67753
a((dp67754
g2
(lp67755
VThe import should be
p67756
aVand not
p67757
as(dp67758
g23
V571407
p67759
stp67760
a((dp67761
g2
(lp67762
VTo have more space between the buttons, use a number of pixels beiiger than 4 for the grid layout:
p67763
aVTo have a grid rather than a flow at the right side, use a GridLayout (just like you did for your buttons, but with 4 rows and 2 columns) rather than a FlowLayout
p67764
as(dp67765
g23
V571407
p67766
stp67767
a((dp67768
g2
(lp67769
VFirst, as noted in the comments, don't ignore exceptions
p67770
aVIf you didn't ignore it, you would get an error message that would explain what the problem is
p67771
aVInstead, by ignoring it, you put yourself in the dark
p67772
aVIf you run this applet on a machine which is not the apache server, then obviously it won't work
p67773
aVlocalhost is
p67774
aVthe local host, i
p67775
ag468
aVthe host where the applet runs, and not the host of the web server
p67776
aVUse  to get an URL pointing to the web server where the applet comes from
p67777
as(dp67778
g23
V571407
p67779
stp67780
a((dp67781
g2
(lp67782
VYour code isn't very clear, but if you want the second column class to be Integer, you just need to override it:
p67783
as(dp67784
g23
V571407
p67785
stp67786
a((dp67787
g2
(lp67788
VSimply because the compiler includes the line numbers in the generated byte-code
p67789
aVThere are  options (in the Oracle javac compiler) allowing to turn that off, if you want to
p67790
as(dp67791
g23
V571407
p67792
stp67793
a((dp67794
g2
(lp67795
VThe field at the other side of the association is named , not , so the mappedBy attribute must be set to
p67796
as(dp67797
g23
V571407
p67798
stp67799
a((dp67800
g2
(lp67801
VThis looks like a design problem
p67802
aVPassing strings around, containing the name of a Java constant, is not a good idea
p67803
aVWhy don't you simply create a class, or an enum, containing the value of your color and its description:
p67804
aVThen in Class1 :
p67805
aVAnd in Class2 :
p67806
aVAnd in the list displayed to the user, you just need to store all the DescribedColor instances, and use their description as the value displayed to the user
p67807
aVThis way, you're OO, type-safe, self-documenting, and don't need nasty reflection tricks
p67808
as(dp67809
g23
V571407
p67810
stp67811
a((dp67812
g2
(lp67813
VThe whole point of optimistic locking is to be able to tell the end user: Hey, you tried to save this important piece of information, but someone else saved it behind your back, so you'd better refresh the information, decide if you still want to save it and potentially enter some new values, and then retry
p67814
aVJust like with SVN, if you try to commit a file and someone else committed a new version before, SVN forces you to update your working copy and resole potential conflicts
p67815
aVSo I would do the same as what JPA does : it lets the caller decide what to do by throwing the exception
p67816
aVThis exception should be handled in the presentation layer
p67817
as(dp67818
g23
V571407
p67819
stp67820
a((dp67821
g2
(lp67822
VThe remove operation can be cascaded to associations of an entity
p67823
aVTo be able to know which associated entities to remove, the entity manager can't rely on a detached entity, since, by definition, this detached entity doesn't reflect the latest state of the entity, and doesn't necessarily have all its cascaded associations recursively loaded
p67824
aVSo, if it accepted a detached entity,  would have to decide for you: either merge the detached entity and execute the remove operation based on what the detached entity contains, or simply load the entity having the same ID as the detached entity, and execute the operation based on the loaded entity
p67825
aVInstead of deciding for you, it simply requires an attached entity
p67826
aVThat way, you decide what you want
p67827
as(dp67828
g23
V571407
p67829
stp67830
a((dp67831
g2
(lp67832
VIf what you're after is performance, then executing 5 queries to find 5 users given an array of 5 IDs is not really the best solution
p67833
aVYou'd better execute a single query that loads all the users at once, using
p67834
aVSimilarly, your  method is extremely inefficient
p67835
aVIt should execute a single query, instead of executing a query to get all the IDs, and then a query for every ID found
p67836
as(dp67837
g23
V571407
p67838
stp67839
a((dp67840
g2
(lp67841
VYou're sleeping in the event dispatch thread
p67842
aVThis completely freezes the GUI, and prevents Swing from dispatching events
p67843
aVThis means that while the GUI is frozen, the events pile up in a queue until it becomes responsive again
p67844
aVAt this time, your listener gets called with all the events that have been queued
p67845
aVDon't sleep in the event dispatch thread
p67846
aVIf you want to change some state after a delay, use a Swing timer to fire an event that will update the state after this delay, but keep the GUI responsive during that delay
p67847
as(dp67848
g23
V571407
p67849
stp67850
a((dp67851
g2
(lp67852
VInstalled as root, why not
p67853
aVRun as root, probably not a good idea
p67854
aVIf you want a desktop, install a desktop distrib
p67855
aVIf you want a server, install a server distrib
p67856
aVThis doesn't change what can and can't be run in the OS
p67857
aVIt only changes what is installed by default
p67858
aVMaven is a build tool
p67859
aVJBoss doesn't care how you build your app
p67860
aVAll it cares about is if the application you deploy is a valid Java EE application
p67861
aVNo
p67862
aVYou need an OS, so Ubuntu must come first
p67863
aVJBoss and (AFAIK) Spring STS need a JRE to run, as they're Java applications, so Java should be installed before them
p67864
aVMySQL is independent of JBoss, STS and Java, so you can install it whenever you want
p67865
aVNote that if you're struggling just with this installation part, be prepared to suffer with the rest
p67866
aVBuilding a Java EE webapp is not a piece of cake, and you should probably find some experienced developer to help you, as it seems you're only beginning with Java
p67867
as(dp67868
g23
V571407
p67869
stp67870
a((dp67871
g2
(lp67872
VI'm not sure I have understood what you want, but it seems you just want to loop over the entries of a map:
p67873
as(dp67874
g23
V571407
p67875
stp67876
a((dp67877
g2
(lp67878
VUse distinct:
p67879
as(dp67880
g23
V571407
p67881
stp67882
a((dp67883
g2
(lp67884
VBecause the file doesn't exist
p67885
aVYou said yourself that the location was
p67886
aVYet you use
p67887
as(dp67888
g23
V571407
p67889
stp67890
a((dp67891
g2
(lp67892
VThe Wrapper task has several properties allowing its customization
p67893
aVYou can specify an alternate URL to download it ()
p67894
aVYou can also leave the URL as is, but specify where the wrapper must be stored (), which would allows storing it outside of the directory which is cleaned up every time by your accurev plugin
p67895
aVI don't see why it wouldn't be safe to use a shared location
p67896
aVThis is what is done by default, since the wrapper is stored in the gradle user home directory
p67897
as(dp67898
g23
V571407
p67899
stp67900
a((dp67901
g2
(lp67902
VYou need to declare an abstract method  in the enum directly, and override it in every enum member
p67903
as(dp67904
g23
V571407
p67905
stp67906
a((dp67907
g2
(lp67908
VThe byte -96 (A0 in hexadecimal, or 160 as an unsigned byte), is the non-breaking space in the ISO-8859-1 character encoding, which is probably the encoding you used to transform the string to bytes
p67909
as(dp67910
g23
V571407
p67911
stp67912
a((dp67913
g2
(lp67914
VAt its core, Spring is a dependency injection framework
p67915
aVThis means that instead of doing
p67916
aVYou can do
p67917
aVAnd Spring will automatically call the constructor and inject an instance of MyDao
p67918
aVThe main benefit is that the code is easily unit-testable
p67919
aVOn top of that, it allows injecting proxies instead of the actual implementations directly
p67920
aVThese proxies will indeed handle the transaction management for you, and more (exception translation, security checks, etc
p67921
aVSo instead of explicitely opening, committing and rollbacking transactions, you would simply annotate a service method with , and Spring would open, commit/rollback the transaction
p67922
aVAnd the transaction context would automatically propagate to the nested service calls
p67923
aVThis short answer is only to give you an idea
p67924
aVTo learn more, read about dependency injection, and read the Spring documentation
p67925
as(dp67926
g23
V571407
p67927
stp67928
a((dp67929
g2
(lp67930
VHere we go again
p67931
aVYour mapping is wrong
p67932
aVIn a bidirectional association, one side is the owner side, and contains the mapping (or chooses to use the default mapping by not using any JoinTable or JoinColun annotation), and the other MUST be marked as the inverse side of the other, using the  attribute
p67933
aVSo the mapping should be :
p67934
aVIn a bidirectional one to many association, you don't have the choice: the many side MUST be the owner side
p67935
aVSo the mapping should be:
p67936
aVDEVICE:
p67937
aVDEVICE PRESETS:
p67938
aVSTORED PRESET
p67939
as(dp67940
g23
V571407
p67941
stp67942
a((dp67943
g2
(lp67944
VIf you want to assign  to an attribute , simply use
p67945
aVThat said, why use an additional attribute for that, and not directly use
p67946
aVFinally, the problem is that the display tag computes the columns to display at the first iteration
p67947
aVIn the following iterations, it just changes the values displayed in each column
p67948
aVInstead of not displaying the last two columns when the attribute is 200, you should display them but leave them empty
p67949
aVIn short, the test should be inside the display:column tag, and not outside:
p67950
as(dp67951
g23
V571407
p67952
stp67953
a((dp67954
g2
(lp67955
V is the output directory
p67956
as(dp67957
g23
V571407
p67958
stp67959
a((dp67960
g2
(lp67961
VThe webapp is deployed and run on tomcat
p67962
aVTomcat doesn't care about the jars in the IntelliJ source project
p67963
aVWhat matters to tomcat is the set of jar files under the WEB-INF/lib directory of the deployed webapp
p67964
aVOnly those jars are in the classpath of the webapp
p67965
aVI don't know very well how IntelliJ builds and deploys webapps, especially when Maven is in the picture
p67966
aVBut I'd guess that it only deploys the jars that are in the compile and runtime scopes of the Maven project
p67967
aVFor an external jar, it's probably possible to configure the IntelliJ project in order to include it in the built and deployed archive
p67968
aVBut anyway, if you use Maven, you must be able to build your war without using IntelliJ
p67969
aVThat's the whole point of a build tool: it's used to build a project without an IDE
p67970
aVSo all the necessary jars must be known by Maven
p67971
aVSo the jar, if not available in the Maven central, should be added to your own local Maven repo (at least), or to your company's private repo
p67972
as(dp67973
g23
V571407
p67974
stp67975
a((dp67976
g2
(lp67977
VIt's a unit test
p67978
aVSo you shouldn't use Spring at all to create and autowire the objects
p67979
aVJust create a new ClassUnderTest every time you need one, and inject the mock dependencies manually :
p67980
aVNote: I don't know JMockit, and it might have annotations that even create a new and inject mock dependencies automatically
p67981
aVThe point of my answer is that Spring should be out of the picture for unit tests
p67982
aVThat's the main advantage of dependency injection: being able to create instances of objects to test, and being able to manually inject mock dependencies
p67983
as(dp67984
g23
V571407
p67985
stp67986
a((dp67987
g2
(lp67988
VUnder File - Project structure - Project, make sure to have the project language level set to at least 5
p67989
ag2332
aV(I would expect 6
p67990
aV0 or 7
p67991
aV0 now)
p67992
aVStatic imports are indeed supported only since Java 5
p67993
aVAlso, Mockito is used only in tests, and has thus no reason to be part of the deployed libraries of the webapp
p67994
aVIt should thus not be under WEB-INF/lib
p67995
as(dp67996
g23
V571407
p67997
stp67998
a((dp67999
g2
(lp68000
VIt's not a singleton
p68001
aVIt's a pure utility class, with only static methods
p68002
aVThere is 0 instance of this class
p68003
aVA singleton would have one instance of the class, and you would have access to this instance to call instance methods on it
p68004
aVJava is documented, and it's open-source
p68005
aVYou can look at the source of the class to understand how it works
p68006
as(dp68007
g23
V571407
p68008
stp68009
a((dp68010
g2
(lp68011
VImports are not transitive
p68012
aVIf class A imports class B, and class C imports class A, class C doesn't automatically import class B
p68013
aVIf you need to use the class B without typing its fully quelified name every time (com
p68014
aVfoo
p68015
aVbar
p68016
aVB), then you need to import it
p68017
aVIt's as simple as that
p68018
aVThat said, I concur with BalusC
p68019
aVHaving Java code in JSPs is ugly, and should be avoided
p68020
as(dp68021
g23
V571407
p68022
stp68023
a((dp68024
g2
(lp68025
VThe Data class is a non-static inner class of your outer class, which extends Thread or has an attribute of type Thread
p68026
aVEvery non-static inner class has an implicit reference to its outer object
p68027
aVTo illustrate this, the following code
p68028
aVis equivalent to the following :
p68029
aVSo, when serializing an instance of Data, it also tries to serialize the outer object, and Thread being non-serializable, it breaks
p68030
aVTo fix the problem, make the  inner class static, or make it a top-level class
p68031
as(dp68032
g23
V571407
p68033
stp68034
a((dp68035
g2
(lp68036
VAbstractEntity must not be annotated with  and
p68037
aVIt must be annotated with
p68038
aVIndeed, this inheritance is only used to inherit common attributes, and that's what  is for
p68039
aVThe exception you get is caused by the lack of coherence in the position of your mapping annotations
p68040
aVThe base superclass annotated the getters, and the subclasses annotate the fields
p68041
aVHibernate uses the position  of the Id annotation to determine the access type of the entity
p68042
aVSince @Id is on a getter, it only considers the annotations placed on getters, and ignores those placed on fields
p68043
aVPut all your annotations either on fields (which I would recommend) or on getters
p68044
aVMoreover, your getter is badly named
p68045
aVIt should be  and not
p68046
as(dp68047
g23
V571407
p68048
stp68049
a((dp68050
g2
(lp68051
VFirst of all, you don't have any problem here, since the decoded string value (gunjan) is equal to the original value (gunjan)
p68052
aVYou're confused by what is printed for the intermediate byte arrays
p68053
aVAs noted in the comments, the strings  are the result of calling toString() on a byte array
p68054
aVThis desn't display the value of the bytes, but the type of the array () followed by the hashCode of the array object
p68055
aVIf you want to display the byte values, use
p68056
aVYou have a potential bug though: you're using the default encoding to transform strings to bytes and vice-versa
p68057
aVThis encoding might not be able to support every character in your String
p68058
aVYou should use a specific encoding that supports every character on earth, like UTF8:
p68059
as(dp68060
g23
V571407
p68061
stp68062
a((dp68063
g2
(lp68064
VSuppose you have an Order and an OrderLine
p68065
aVYou can choose to have a unidirectional OneToMany between Order and OrderLine (Order would have a collection of OrderLines)
p68066
aVOr you can choose to have a ManyToOne association between OrderLine and Order (OrderLine would have a reference to its Order)
p68067
aVOr you can choose to have both, in which case the association becomes a bidirectional OneToMany/ManyToOne association
p68068
aVThe solution you choose mainly depends on the situation, and on the level of coupling between the entities
p68069
aVFor example, if a user, a company, a provider all have many addresses, it would make sense to have a unidirectional between every of them and Address, and have Address not know about their owner
p68070
aVSuppose you have a User and a Message, where a user can have thousands of messages, it could make sense to model it only as a ManyToOne from Message to User, because you'll rarely ask for all the messages of a user anyway
p68071
aVThe association could be made bidirectional only to help with queries though, since JPQL queries join between entities by navigating through their associations
p68072
aVIn a bidirectional association, you could be in a situation where the graphof objects is inconsistent
p68073
aVFor example, Order A would have an empty set of OrderLines, but some OrderLines would have a reference to the Order A
p68074
aVJPA imposes to always have one side of the association being the owner side, and the other side being the inverse side
p68075
aVThe inverse side is ignored by JPA
p68076
aVThe owner side is the side that decides what relation exists
p68077
aVIn a OneToMany bidirectional association, the owner side must be the many side
p68078
aVSo, in the previous example, the owner side would be OrderLine, and JPA would persist the association between the lines and the order A, since the lines have a reference to A
p68079
aVSuch an association would be mapped like this:
p68080
aVin Order :
p68081
aVin OrderLine :
p68082
as(dp68083
g23
V571407
p68084
stp68085
a((dp68086
g2
(lp68087
s(dp68088
g23
V571407
p68089
stp68090
a((dp68091
g2
(lp68092
VYou mapped your servlet to the URL pattern :
p68093
aVSo it is mapped to the absolute URL  (since  is the context path of your webapp)
p68094
aVIn your servlet though, you use the relative URL , resolving to the abswolute URL , which is obviously not the URL the servlet is mapped to
p68095
aVYou should use the relative URL  instead
p68096
as(dp68097
g23
V571407
p68098
stp68099
a((dp68100
g2
(lp68101
VThe GAE development server is specifically designed to help you develop applications for Google App Engine by simulating the actual GAE environment
p68102
aVIf you plan to deploy the webapp on GAE, then it's all you need
p68103
aVIf you want to develop a standard Java EE webapp, then you indeed need a standard Java EE web container
p68104
aVTomcat is one of them, but you could also use Jetty, GlassFish, JBooss, Resin or any other Java EE web container
p68105
aVAnd since they're all written in Java, they're all multiplatform and can all be installed on Windows
p68106
aVAlso Eclipse is not a framework
p68107
aVIt's an IDE
p68108
aVDeveloping a webapp using Eclipse, IntelliJ, NetBeans or a text editor and the JDK doesn't change anything to the webapp
p68109
aVThey're just tools to help you write Java code
p68110
as(dp68111
g23
V571407
p68112
stp68113
a((dp68114
g2
(lp68115
VYou can't
p68116
aVArguments are passed by value in Java
p68117
aVSo the method receives a copy of the caller's reference to out1 (and out2)
p68118
aVAnd whatever you assign to this copy won't be visible by the caller since, well, it's a copy
p68119
as(dp68120
g23
V571407
p68121
stp68122
a((dp68123
g2
(lp68124
VNone of the snippets is right
p68125
aVThe first one will cause a NullPointerException if the Scanner constructor throws an exception, because it doesn't check for null before invoking close()
p68126
aVThe second one fails to close the scanner in case of any exception in the try block
p68127
aVThe first one is closer to the correct code than the second one, obviously
p68128
aVRegarding what is best regarding the exception, it's a matter of correctness
p68129
aVIf the method can handle the exception correctly (and that means the program will continue to work as expected after the exception is handled), it should catch it
p68130
aVIf it can't, it should propagate it to the caller and let it handle it
p68131
as(dp68132
g23
V571407
p68133
stp68134
a((dp68135
g2
(lp68136
VWhen the buffer is empty, the consumer starts waiting
p68137
aVWhen it's notified, it checks if the buffer is empty, and starts waiting again if it's still empty
p68138
aVYou should not start waiting again if the  flag has been set to false:
p68139
as(dp68140
g23
V571407
p68141
stp68142
a((dp68143
g2
(lp68144
VI would transform the byte array to a base64-encoded readable string, and store this string in the database
p68145
aVIt would only increase the size with a 4/3 ratio (so around 20 bytes instead of 14), and would store readable, indexable and printable ascii strings in the database
p68146
aVGuava and apache commons-codec both have a free base64 encoder/decoder
p68147
as(dp68148
g23
V571407
p68149
stp68150
a((dp68151
g2
(lp68152
s(dp68153
g23
V571407
p68154
stp68155
a((dp68156
g2
(lp68157
VCSS files and JS files must be downloaded by the browser
p68158
aVAnd WEB-INF is precisely a directory from which nothing can be downloaded by the prower: it contains the configuration, class and jar fiels that must stay private to the webapp
p68159
aVSo you shouldn't put those files in WEB-INF
p68160
aVIf the URL displayed in the browser address bar is , and the relative URL you have in the JSP is , then the browser will download the JS file at the URL
p68161
aVSo in that case, the JS file should be in a directory named , located right under the root of your webapp
p68162
aVIf the URL is , then the browser will look for the JS file at the URL
p68163
aVMy advice: don't use relative paths for your JS and CSS files (and for everything else, in fact)
p68164
aVUse absolute paths:
p68165
aVThat way, whatever the URL of the page, the browser will always look for the JS file at the URL
p68166
as(dp68167
g23
V571407
p68168
stp68169
a((dp68170
g2
(lp68171
VFirst of all, your addLecturer() method has a bug
p68172
aVIt shouldn't set the lecturers list of the child to the current lecturer's list:
p68173
aVWhen you get a lecturer, you obtain the following as the checker :
p68174
aVThe above is just the result of the call to the default  method on the checker
p68175
aVTo get its name, call  on the checker
p68176
aVIf you want the toString() method to return the name, then implement it that way:
p68177
as(dp68178
g23
V571407
p68179
stp68180
a((dp68181
g2
(lp68182
VIf you didn't put any annotation on the flights property, the default mapping would apply, which is
p68183
aVThat means that the whole contents of the list would be serialized and stored in a column named flights
p68184
aVThis is obviously not what you want
p68185
aVWhat you want is to make it the inverse side of the ManyToOne association defined in Flight
p68186
aVThat's what  does
p68187
aVOther than that, your assumption is correct
p68188
aVA ManyToOne is mapped by default using a join column in the table of the entity
p68189
aVUsing the JoinColumn annotation allows specifying a name other than the default one for the join column (as well as other properties of this join column)
p68190
as(dp68191
g23
V571407
p68192
stp68193
a((dp68194
g2
(lp68195
VAn enum is a class
p68196
aVThe type of  is  (which, since it's a class which represents a single menu option, should be named )
p68197
aVYour  method should thus take an argument of type  and not an argument of type
p68198
aVThis is much safer, because it documents what the method expects (int is much more vague than MenuOption), and because you won't be able to pass any value other than the values defined in the enum (whereas any invalid int value could be passed to a method taking an int as argument)
p68199
as(dp68200
g23
V571407
p68201
stp68202
a((dp68203
g2
(lp68204
VMockito is not a testing framework
p68205
aVIt's a mocking API
p68206
aVUse JUnit or TestNG
p68207
aVThese are testing frameworks
p68208
aVBoth simply require some annotations to be placed on test methods
p68209
aVAnd of course, your JUnit or TestNG tests will use the Mockito API internally, to mock dependencies
p68210
as(dp68211
g23
V571407
p68212
stp68213
a((dp68214
g2
(lp68215
VNow that you have a stack trace, the problem is clear: since the moment you serialized the objects to the file, you have made changes to the class
p68216
aVSo the class you have now is not compatible anymore with the class as it was when serializing the objects to the file
p68217
aVIf you didn't change the number and the names of the fields of the class (and of all its superclasses), you can make it compatible again by just adding the following variable declaration in the class:
p68218
aVIf you added, removed or renamed at least one (non-transient) field, then you might make the new class still compatible with the old one, but with more pain
p68219
aVAnd we would have to know the nature of the changes to help you
p68220
aVI would personally avoid using native serialization for long-term storage because, as you just noticed, it's fragile and makes it hard to change the model
p68221
aVI would use a more easily readable and migratable file format: XML or JSON for example
p68222
as(dp68223
g23
V571407
p68224
stp68225
a((dp68226
g2
(lp68227
VIf you add the accountType to the session using the attribute name "accountType", you can access it in the JSP using  or (to avoid scope clashes)
p68228
aVlooks for an attribute named foobar in the page, then in the request, then in the session, then in the application scope (servlet context)
p68229
as(dp68230
g23
V571407
p68231
stp68232
a((dp68233
g2
(lp68234
VIf you want to use an array rather than a decent, appropriate data structure, then use Arrays
p68235
aVbinarySearch() to find the appropriate location
p68236
aVBut you'll have to shift all the subsequent elements
p68237
as(dp68238
g23
V571407
p68239
stp68240
a((dp68241
g2
(lp68242
VIf all the subclasses don't add any state to the base class and don't change or add behavior by adding or overriding methods to/of the base class, then you shouldn't have subclasses
p68243
aVJust having a Car class with a  attribute is sufficient
p68244
aVIf the subclasses have a good reason to exist, then you could indeed use an enum, but that would prevent adding any other type of car (without also changing the enum)
p68245
aVHaving a method which searches for a specific type of car looks like a design smell to me
p68246
aVThat probably means that the Car class is not sufficiently polymorphic: instanceof and casts are not very OO
p68247
as(dp68248
g23
V571407
p68249
stp68250
a((dp68251
g2
(lp68252
VThe valid syntax is like in SQL :
p68253
aVYou have to treat null as a special case
p68254
aVYou can't compare to null with
p68255
aVNothing is equal to null, not even null, in SQL
p68256
as(dp68257
g23
V571407
p68258
stp68259
a((dp68260
g2
(lp68261
VIMHO, knowing which pattern is used isn't what matters
p68262
aVWhat matters is what the class is and does
p68263
aVFilterInputStream says that clearly
p68264
aVThe fact that it implements the decorator pattern is an implementation details, that is easily recognized if you know the pattern, and that doesn't add much information if you don't know it
p68265
aVThat said, some pattern names clearly describe what a class is, like factory or strategy, so they're often used as part of the class name
p68266
aVFor example, a SecretKeyFactory is a factory for secret keys, and implements the factory pattern
p68267
aVBut I would hate to have classes named like RuntimeSingleton or FileFilterStrategy
p68268
aVThese suffixes are noise
p68269
aVBTW, I also hate this  prefix convention of C# for interfaces
p68270
aVIt's the same kind of noise that makes code less readable and doesn't add meaningful information
p68271
as(dp68272
g23
V571407
p68273
stp68274
a((dp68275
g2
(lp68276
VThe parent component of the JTextArea is not the same as the parent component of the JTextField, since the JTextArea is inside a JScrollPane
p68277
aVI have not taken the time to read and understand all the code you posted, but you should probably placed the label relative to the position of the JScrollPane, and not relative to the position of the JTextArea
p68278
as(dp68279
g23
V571407
p68280
stp68281
a((dp68282
g2
(lp68283
VThe resource you read is not a file
p68284
aVIt's a resource loaded by the classloader
p68285
aVWhen deployed, this resource will be read from inside a war file, and perhaps even from a jar file inside this war file
p68286
aVDon't ever try to modify the contents of a webapp dynamically
p68287
aVEven if it is possible, it's an extremely bad idea, since any redeployment of the webapp would delete the creted or modified files
p68288
aVIf you have to write somewhere, write to a database (preferrably), since it can easily be shared by multiple webapp instances, and handle concurreny natively), or to a file outside of the webapp
p68289
aVBTW, the argument of the FileWriter constructor is a file path
p68290
aVSo  writes to the file  on the file system (and not inside the webapp)
p68291
as(dp68292
g23
V571407
p68293
stp68294
a((dp68295
g2
(lp68296
VMy guess is that Hibernate calls your setter with its own implementation of Set (PersistentSet) which implements lazy-loading, and is not initialized yet when the setter is called
p68297
aVSince you call a method on this set, it makes the set load itself while already being in a loading phase, which puts Hibernate in an inconsistent state
p68298
aVThat's why I prefer using field access over property access (i
p68299
ag468
aVput all the mapping annotations on fields rather than getters)
p68300
aVYou want to make a copy of the passed set when the method is called by "normal" code, but you don't want to do that when Hibernate itself calls the setter: it completely break lazy-loading
p68301
as(dp68302
g23
V571407
p68303
stp68304
a((dp68305
g2
(lp68306
VExecute the rest of your program once the number has been run :
p68307
as(dp68308
g23
V571407
p68309
stp68310
a((dp68311
g2
(lp68312
V tests if a file exists, and is thus, logically, part of the class java
p68313
aVio
p68314
aVFile, and not of the class String
p68315
aVSo the code should be
p68316
aVDoing this check after opening a FileInputStream to the same file doesn't make much sense though, since the FileInputStream would already have thrown a FileNotFoundException if the file doesn't exist, as its javadoc indicates
p68317
as(dp68318
g23
V571407
p68319
stp68320
a((dp68321
g2
(lp68322
VYou call , but don't do anything with the response
p68323
aVChange it to
p68324
aVto show what you received
p68325
aVTo update the contents of the div with id "dynamicallyLoadedDiv" with the HTML returned by the AJAX call, for example, use
p68326
aVor simply
p68327
aVRead the documentation for more information
p68328
aVNote that if your goal is to replace the whole page content, I don't really seee the point of making an AJAX request
p68329
aVUse a simple hyperlink in that case
p68330
as(dp68331
g23
V571407
p68332
stp68333
a((dp68334
g2
(lp68335
VThe CLASSPATH variable is used when the java (or javaw) command is launched without the -classpath or -jar or -cp option
p68336
aVBut Eclipse follows best practices, and always uses these options
p68337
aVIMHO, you should NEVER rely on CLASSPATH
p68338
aVAlways specify the classpath explicitely, in the command line options
p68339
aVIt's quite rare to want ALL your java programs to share the same libraries
p68340
aVThat's why the CLASSPATH global environment variable is a bad idea
p68341
as(dp68342
g23
V571407
p68343
stp68344
a((dp68345
g2
(lp68346
VUsing prepared statement is perfectly possible, and is what you should do
p68347
aVBuild your query dynamically, using placeholders () for every argument, and each time you add a placeholder, also add the argument value to a list of arguments
p68348
aVIn the end, you have a parameterized SQL query, and a list of argument values to bind to the prepared statement
p68349
aVSomething like
p68350
as(dp68351
g23
V571407
p68352
stp68353
a((dp68354
g2
(lp68355
VThe runnables (lets call them R) passed to executor threads are in fact wrapped inside other runnables (let's call them W)
p68356
aVThe pseudo-code of the run() method of W is
p68357
aVIt's actually more complex than that, but you should get the idea
p68358
aVTo really understand what it does, look at the code the the  inner class
p68359
as(dp68360
g23
V571407
p68361
stp68362
a((dp68363
g2
(lp68364
VFor your first association, (One Building has Many Rooms), you would typically model this with two tables (building and room), where the child table (room) would have a foreign key to the parent table (building)
p68365
aVFor the second association, it's a many to many association, and you would need a join table between bus and driver:
p68366
aVThe primary key of this join table would be the couple
p68367
as(dp68368
g23
V571407
p68369
stp68370
a((dp68371
g2
(lp68372
VLinkedList compares Object using their equals() method
p68373
aVSo if you want two instances of your class to be considered equal when they have the same ID, you must override the equals() method:
p68374
aVWhen overriding equals(), hashCode() must also be overridden, because two equals objects MUST have the same hashCode:
p68375
aVNote that if you don't want two instances to be considered equal when they have the same ID, then you have no choice other than iterating the list and finding the first element which has the same ID as the instance you're looking for
p68376
aVOr you must use another data structure, like a  for example
p68377
as(dp68378
g23
V571407
p68379
stp68380
a((dp68381
g2
(lp68382
VThe error message is clear : the code doesn't compile (Unresolved compilation problem) because you're not handling the checked exception  that can be thrown by
p68383
aVEither add this exception to the throws clause of the main method, or catch it:
p68384
aVNote that this is a compilation error
p68385
aVYou chose to launch your program despite the presence of compilation errors (visible in the "Problems" view of Eclipse), and despite the fact that Eclipse warned you about that before launching the program
p68386
aVSo you tried executing code which doesn't compile, which you shouldn't do
p68387
as(dp68388
g23
V571407
p68389
stp68390
a((dp68391
g2
(lp68392
VThe code you posted is invalid: a method declaration must not have a semicolon between the closing parenthesis and the opening brace :
p68393
aVSame for the if and else statements, which, if they contain more than one instruction, must enclose them inside braces:
p68394
aVAlso learn to indent your code like I did above to make it readable
p68395
aVAnd of course, as indicated in the comments, a method returning a double can't return a String
p68396
aVAlways read and try to understand the error messages of the compiler
p68397
aVIf you don't understand them, post them in your question
p68398
aVError messages are intended to be read, and contain meaningful information
p68399
as(dp68400
g23
V571407
p68401
stp68402
a((dp68403
g2
(lp68404
VYou created an Order, and initialized its barcode
p68405
aVBut you never added the order to the set of orders of the barcode
p68406
aVSo its set of barcodes is empty
p68407
aVThat's expected
p68408
aVYou're supposed to maintain the two sides of an association if you expect them to be coherent
p68409
as(dp68410
g23
V571407
p68411
stp68412
a((dp68413
g2
(lp68414
VThe JSTL has a  tag:
p68415
aVThat said, JSPs are view components, used to generate markup
p68416
aVThey should read attributes, but not set and remove them, IMHO
p68417
as(dp68418
g23
V571407
p68419
stp68420
a((dp68421
g2
(lp68422
VAnnotations are just meta-data
p68423
aVThey don't do anything
p68424
aVA framework can get the annotations on methods and classes using reflection to do something with them
p68425
aVThis means that, to do what you want to do, you would need to use AOP to find the annotations on the methods and measure the time they spent
p68426
aVSuch frameworks exist (like Jamon combined with Spring beans for example)
p68427
aVBut writing one yourself will take much more time than doing what you're doing now, and will probably force you to change the way your application is architected in order to use some form of dependency injection
p68428
aVOr you'll have to instrument the byte-code with AspectJ for example
p68429
aVSo my advice would be: don't change anything, or use an dependency injection framework and use an existing product (like jamon for example), or write a custom AOP interceptor to measure the time taken by the methods of the components
p68430
as(dp68431
g23
V571407
p68432
stp68433
a((dp68434
g2
(lp68435
Vis not a valid statement, in any version of Java
p68436
aVMy guess is that you copied and pasted this from some web site, but the three dots were just meant as an ellipsis meaning "the initialization code must go here"
p68437
aVWhat do you think these three dots mean
p68438
as(dp68439
g23
V571407
p68440
stp68441
a((dp68442
g2
(lp68443
VYou have serious thread-safety issues here
p68444
aVFirst of all, you're using  when all you want to do is sleep for a few milliseconds
p68445
aVYou should use  instead
p68446
aVThat will solve your exception, but won't solve the thread-safety issues
p68447
aVYou have a shared linked list that is used by multiple threads in parallel : the random generator thread stors messages in the queue whild the servlet thread(s) emoved messages from the queue
p68448
aVYou should thus either use a concurrent collection (like a ConcurrentLinkedQueue), or synchronize every access to the linked list
p68449
aVI would use a Concurrent collection
p68450
aVAnd finally, several servlet threads read and modify the  and  variables in parallel, without any kind of synchronization
p68451
aVThe rmpThread variable is written, but never read, so I would make it a local variable instead
p68452
aVTo make sure the newly written  is visible by the other servlets, you need to synchronize all its accesses, either by using a synchronized block to write and read it, or by making it , or by wrapping it into an AtomicReferece (that's the choice I would make)
p68453
aVSo the rmProducer should be declared like this:
p68454
aVTo modify its value, you should use
p68455
aVAnd to get it, you shuld use
p68456
as(dp68457
g23
V571407
p68458
stp68459
a((dp68460
g2
(lp68461
VFor each row, create a list containing the integers it can contain, then shuffle the list (with ), and keep the 5 first elements
p68462
aVOr, if your goal is to have different elements for the whole table, create a single list containing all the integers the matrix can contain, then shuffle the list, an iterate through the list to fill your matrix
p68463
as(dp68464
g23
V571407
p68465
stp68466
a((dp68467
g2
(lp68468
VUse the  method
p68469
as(dp68470
g23
V571407
p68471
stp68472
a((dp68473
g2
(lp68474
VIf you want to call  where  is an , then you should have such a constructor in the  class:
p68475
aVNote that it's generally not a good idea to extend collection classes
p68476
aVUse them (delegation, composition) instead of extending them
p68477
as(dp68478
g23
V571407
p68479
stp68480
a((dp68481
g2
(lp68482
VYou construct the typed query before setting the order by clause
p68483
aVInverse these two instructions:
p68484
as(dp68485
g23
V571407
p68486
stp68487
a((dp68488
g2
(lp68489
VUse  instead of  to launch your application
p68490
aVDouble-clicking on a jar executes it with
p68491
aVInstead, open a command line window and type
p68492
aVIf you want to have something double-clickable, then write a shell script containing this command, and double-click the shell script instead of the jar
p68493
as(dp68494
g23
V571407
p68495
stp68496
a((dp68497
g2
(lp68498
VYes
p68499
aVUse a  rather than an ArrayList
p68500
aVThen read chunks of bytes from the InputStream (without using , which should almost always never used) and write these chunks to the ByteArrayOutputStream, until the  method returns -1
p68501
aVThen call toByteArray() on your
p68502
aVYou could use Guava's  method, which does all that for you, or you could read its source code to have a better idea of how it does it
p68503
aVReading the IO tutorial might also help
p68504
as(dp68505
g23
V571407
p68506
stp68507
a((dp68508
g2
(lp68509
VYes
p68510
aVThe transactional aspect makes sure that a transaction is started before the annotated method is called, and that the transaction (if started by this method) is committed or rollbacked once the method returns
p68511
aVThe transactional interceptor doesn't know (and doesn't care) about which other methods are called inside the annotated method
p68512
aVEvery read and write to the DataSource handled by the Spring transaction manager will be included in the same transaction
p68513
as(dp68514
g23
V571407
p68515
stp68516
a((dp68517
g2
(lp68518
VYour servlet is not a servlet
p68519
aVIt doesn't extend HttpServlet
p68520
aVI'm even surprised that the webapp deploys without error given this mistake
p68521
aVCheck the logs
p68522
aVAlways annotate your methods with @Override when your intention is that they override a superclass or interface method
p68523
aVThe compiler would have generated an error if you had done that, warning you that the method didn't override anything
p68524
as(dp68525
g23
V571407
p68526
stp68527
a((dp68528
g2
(lp68529
VI did not want to validate the incoming data explicitly, instead want to use JPA validation that is already set on the entity
p68530
aVThat's where your problem is
p68531
aVThe documentation explicitely says:
p68532
aVIf the Session throws an exception, including any SQLException, immediately rollback the database transaction, call Session
p68533
aVclose() and discard the Session instance
p68534
aVCertain methods of Session will not leave the session in a consistent state
p68535
aVNo exception thrown by Hibernate can be treated as recoverable
p68536
aVEnsure that the Session will be closed by calling close() in a finally block
p68537
as(dp68538
g23
V571407
p68539
stp68540
a((dp68541
g2
(lp68542
VRead the javadoc of JdbcTemplate
p68543
aVThere are plenty of other methods, also named , that don't return a list, and take a  or a  as argument
p68544
aVUse these ones
p68545
aVTo set the number of rows fetched at once by the resultset, override  and call
p68546
as(dp68547
g23
V571407
p68548
stp68549
a((dp68550
g2
(lp68551
VYour date probably has the time 09:30:47 in your time zone
p68552
aVBut you configured the date format to the GMT time zone
p68553
aVSo it's displaying the time as it is in the GMT time zone
p68554
aVIf you used another date format to parse the input string and get a Date object, make sure this oter date format also uses the GMT time zone
p68555
aVTo get more help, show us how you create the Date object passed to your method
p68556
as(dp68557
g23
V571407
p68558
stp68559
a((dp68560
g2
(lp68561
VRelative file paths are not relative to the package of any class
p68562
aVThey're relative to current directory, which is the directory from which the  command was executed to start you program
p68563
aVSo, if you're in the directory  and type
p68564
aVit will search for the files  and
p68565
as(dp68566
g23
V571407
p68567
stp68568
a((dp68569
g2
(lp68570
VThe counter is static
p68571
aVIt is thus not part of the state of any Card instance, and serializing all your cards won't save the value of the counter
p68572
aVEither save this counter value, reload it and reset it explicitely, or get the biggest ID from all the deserialized cards at startup an reset the counter to this max value
p68573
as(dp68574
g23
V571407
p68575
stp68576
a((dp68577
g2
(lp68578
VNo
p68579
aVAn  represents a mathematical integer value, represented as 32 bits
p68580
aVThe number 0001 is 1, and has a unique binary representation
p68581
aVLeft-padded integers are not integers
p68582
aVthey are Strings
p68583
as(dp68584
g23
V571407
p68585
stp68586
a((dp68587
g2
(lp68588
VIt is possible, but I would advise against it
p68589
aVIf you have only two stand locations, it would be much and clearer to simply have two variables of type :  and , and to have corresponding methods: , , etc
p68590
aVThe code would be much clearer, simpler and safer
p68591
aVIf you really want to go your way, the keys of the map shouldn't be Strings
p68592
aVThe caller wouldn't know which key to pass to your methods (there are an infinity of Strings), and ven if he knows that the keys are "Right" and "Left", he could make a typo which would go unnoticed by the compiler
p68593
aVYou should use an enum instead, which would make the code self-documented and safer:
p68594
as(dp68595
g23
V571407
p68596
stp68597
a((dp68598
g2
(lp68599
VBecause a POST, in the HTTP specifications, is intended for requests that are non-idempotent, because they modify state on the server (for example, by adding a new product to a category), that would be modified again if the request was resubmlited (it would create yet a new product in the category, for example)
p68600
aVA GET, on the other hand, is intended for requests that are idempotent
p68601
aVFor example, a google search is idempotent
p68602
aVSearching twice for the same thing doesn't modify anything on the server, and resubmitting the same request doesn't have any unwanted effect
p68603
aVThe browser expects web applications to respect this convention, and thus warns the user about this unwanted side-effect before re-submitting a POST request
p68604
aVThe usual practice is to follow the post-redirect-get pattern to let the user refresh after a post without this annoying popup, and without unwanted side-effect
p68605
as(dp68606
g23
V571407
p68607
stp68608
a((dp68609
g2
(lp68610
VThat's the expected result
p68611
aVis used to specify the name of the table where every element of the list is stored ()
p68612
aVis used to specify the name of the column(s) which is used, in this hobby table, to store the reference to its owning user
p68613
aVAnd  is used to specify the name of the column, in the hobby table, that holds the element value (the hobby name)
p68614
aVSo you'll end up with this, very similar to a OneToMany mapping:
p68615
aVI would name the column "hobby" or "hobbyName" rather than "userHobbies", since it holds a single hobby
p68616
as(dp68617
g23
V571407
p68618
stp68619
a((dp68620
g2
(lp68621
VA class in a package must import classes it uses (without using their fully qualified name) that are not in the same package (an not in java
p68622
aVlang)
p68623
aVThe directories where the classes are stored must match the packages, but you could have several root directories (or jars) containing the classes
p68624
aVYour command doesn't work because you put the directory of a package () in the classpath, instead of putting the root directory ()
p68625
as(dp68626
g23
V571407
p68627
stp68628
a((dp68629
g2
(lp68630
VYou should have a separate join table for each of your associations instead of trying to use the same one for all
p68631
as(dp68632
g23
V571407
p68633
stp68634
a((dp68635
g2
(lp68636
VNo, it's not safe
p68637
aVYou're modifying a shared list () from inside the  method
p68638
aVSo this modification, and all the other accesses to this shared list (read or write), must be synchronized
p68639
aVYou coud also use a concurrent List implementation, if that suits your needs
p68640
as(dp68641
g23
V571407
p68642
stp68643
a((dp68644
g2
(lp68645
VThis code is valid
p68646
aVBut to invoke it, you must execute
p68647
aVand not
p68648
aVas it seems you're doing
p68649
aVexpects the fully qualified name (package + class) of a class containing a main method
p68650
aVYour class name is PrintMsg
p68651
as(dp68652
g23
V571407
p68653
stp68654
a((dp68655
g2
(lp68656
VYou can't use a JSP tag inside an attribute of another JSP tag
p68657
aVBut all JSTL tags printing a value have an attribute  allowing to store the value inside an attribute instead of printing it
p68658
aVSo you can simply use
p68659
as(dp68660
g23
V571407
p68661
stp68662
a((dp68663
g2
(lp68664
VIt's OK if it's sufficiently fast for you
p68665
aVOnly you knows that
p68666
aVYou could compare it with code written by hand using JDBC
p68667
aVBut don't forget to also take into account the maintainability and the correctness of the code and the time it takes to write and test it
p68668
aVHardware is cheap
p68669
aVDevelopers are not
p68670
aVNote that the use-case you tested (inserting lots of rows in lots of tables) is not a very frequent use-case in most typical applications, and not well-suited for JPA, which is typically used to implement short transactions (like buying a book on Amazon, or adding a message in a blog, things like that)
p68671
aVNo idea
p68672
aVJPA entitymanagers are not thread-safe, and the current transaction is typically associated to the current thread
p68673
aVYou can't start a transaction in a thread and commit it in another one
p68674
as(dp68675
g23
V571407
p68676
stp68677
a((dp68678
g2
(lp68679
VHQL uses class names and mapped attribute/properties names
p68680
aVAlways
p68681
aVIt doesn't use table and column names
p68682
aVNever
p68683
aVSo, if your class is named , as you initially said in the question and as it should be named to respect the Java naming convention, the query you asked for should work fine:
p68684
aVThe exception says that the query, in fact, is
p68685
aVwhich is invalid, as the exception says, because USER is not the name of a mapped entity class
p68686
aVAlso, note that the exception is not a NullPointerException, but a QuerySyntaxException
p68687
as(dp68688
g23
V571407
p68689
stp68690
a((dp68691
g2
(lp68692
VThe point of the blog post is to talk about spring-data repositories
p68693
aVSo it doesn't elaborate on why services are necessary
p68694
aVThey are because a typical business method will deal with several DAOs/Repositories, in a single transaction
p68695
aVFor example, transferring money might include calling the AccountRepository, the AudiRepository and the CustomerRepository
p68696
aVThe service's main goal is to provide transactional business methods to the presentation layer
p68697
as(dp68698
g23
V571407
p68699
stp68700
a((dp68701
g2
(lp68702
VYou're confusing attributes and parameters
p68703
aVParameters are String values sent by the browser
p68704
aVThey're accessed using the  family of methods
p68705
aVAttributes are data that you can add to a request (or session, or servlet context), or any type, in order to get them backlater
p68706
aVYou typically add an attribute to the request in a servlet (for example, the information about the logged in user) in order to get back this attribute in the JSP and display the information
p68707
aVIn your code, the only place where you get a parameter is commented out
p68708
aVAnd you're trying to get a parameter named "hidden", although none of the form has an input field with than name
p68709
aVIt's the  attribute of an input field that is submitted by the browser, and not its  attribute
p68710
aVAlso, you should use GET rather than POST for actions which consist in getting or reading things
p68711
as(dp68712
g23
V571407
p68713
stp68714
a((dp68715
g2
(lp68716
VI'm pretty sure you'll find that the exception comes in fact from this line:
p68717
aVThis line tries to compare the  property of  to the String
p68718
aVThat's not what you want to do
p68719
aVWhat you want to do is to compare the  property of  to the  property of
p68720
aVAnd you thus need to use eqProperty() instead:
p68721
as(dp68722
g23
V571407
p68723
stp68724
a((dp68725
g2
(lp68726
VIf you're in a servlet-3
p68727
aV0 web application, create a jar file and put all your static resources under META-INF/resources in this jar file
p68728
aVThen place this jar file in WEB-INF/lib in the web application, and the container will serve your static resources as if they were at the root of the webapp
p68729
aVSo if you want the URL to the static resource foo
p68730
aVhml to be
p68731
aVyou should have this directory/jar structure:
p68732
as(dp68733
g23
V571407
p68734
stp68735
a((dp68736
g2
(lp68737
VThere is no specific reason
p68738
aVThey could have ordered their parameters the other way
p68739
aVBTW, TestNG does it the other way
p68740
aVFor better readability and expressivity, I prefer using fluent assertions with [fest-assert]
p68741
ag10
as(dp68742
g23
V571407
p68743
stp68744
a((dp68745
g2
(lp68746
VAssuming the class is in the package  and is named
p68747
aVAssuming the  directory tree, containing the
p68748
aVclass files, is located in , the command line should be:
p68749
aVIf your class depends on a jar file located in , iy should also be placed in the classpath:
p68750
as(dp68751
g23
V571407
p68752
stp68753
a((dp68754
g2
(lp68755
VThe second-level cache caches the state of entities, indexed by ID
p68756
aVBut it's a cache
p68757
aVIt only stores some of the entities (the most recently used, typically)
p68758
aVSo, even if Hibernate could parse the query, analyze it, notice that it only contains restrictions on entity IDs, it can't use its cache to bypass the database, since it doesn't know if all the entities that would be returned by the database are in the cache or aren't
p68759
aVSo it doesn't do all that, and simply executes the query, as any other query
p68760
aVWhat you can do though is to configure a query cache
p68761
aVthat would make it cache the IDs of the entities returned by a previously executed query
p68762
aVIn that case, the second execution of the same query (with the same arguments) would be bypassed, the IDs would be returned from the query cache, and the states would be loaded from the second level cache
p68763
as(dp68764
g23
V571407
p68765
stp68766
a((dp68767
g2
(lp68768
VThe source code of Transformers
p68769
aValiasToBean() is:
p68770
aVSo it just serves as a factory method for AliasToBeanResultTransformer
p68771
aVUsing this factory method or calling the AliasToBeanResultTransformer directly is strictly equivalent
p68772
as(dp68773
g23
V571407
p68774
stp68775
a((dp68776
g2
(lp68777
VThere is a workaround mentioned (by me) on this JIRA issue
p68778
as(dp68779
g23
V571407
p68780
stp68781
a((dp68782
g2
(lp68783
VA lazy collection doesn't contain proxies
p68784
aVThe collection itself is a lazy-loaded collection
p68785
aVThis means that when you get a thread from the database, its list of replies won't be initialized
p68786
aVCalling  will simply return this not-initialized list
p68787
aVOnly when calling a method on the list itself (like  or ) will Hibernate initialize the list by executing a SQL query loading the state of all the replies of the thread
p68788
aVUsing a debugger to check what the collection contains is not a good idea, because the debugger usually calls methods on the list behind your back, which causes the list to initialize itself
p68789
aVYou can check if a collection is initialized using the  method
p68790
aVRegarding your other question: Hibernate is used to map database rows to objects
p68791
aVIf a thread has replies, Hibernate will never tell you that it doesn't have any by returning you an empty list
p68792
aVThat would be a serious bug
p68793
aVIf you don't want to load the replies, simply don't call any method on the list of replies
p68794
as(dp68795
g23
V571407
p68796
stp68797
a((dp68798
g2
(lp68799
VDeploying a web application to a server consists in creating a war file or an exploded war directory, and deploying this war file or directory
p68800
aVThe war file doesn't have any connection whatsoever with the source directory from which it was generated
p68801
aVAnd, ultimetely, it's deployed on a production server where there is no source directory at all
p68802
aVIf you wan to upload files, configure your webapp to save them in a specific directory on the server's file system, and create a servlet to read the image from this specific directory an stream it to the HTTP response
p68803
aVThe war file/exploded war direcory should be considered read-only, for two reasons:
p68804
aVthere's a good chance it actually is read-only
p68805
aVyou don't want to have all your uploaded images to be deleted each tim you redeploy the webapp to fix a bug or bring a new feature
p68806
as(dp68807
g23
V571407
p68808
stp68809
a((dp68810
g2
(lp68811
VJSTL is the JSP Standard Tag Library
p68812
aVIt can be used in JSPs
p68813
aVWhat the JSP generates (HTML, XML, JavaScript, plain text, whatever) is irrelevant: the JSTL can be used in JSPs
p68814
as(dp68815
g23
V571407
p68816
stp68817
a((dp68818
g2
(lp68819
VYour classpath is wrong
p68820
aVA classpath doesn't contain a set of
p68821
aVclass files
p68822
aVIt cntains a set of jar or directories, each containing the root of a package tree
p68823
aVSo the classpath should simply contain one element : :
p68824
as(dp68825
g23
V571407
p68826
stp68827
a((dp68828
g2
(lp68829
VYou don't need to call
p68830
aVJust use
p68831
aVwhile in the recording phase (before calling )
p68832
aVIf you want the mocked method, for example, to throw an exception or to be called twice, use :
p68833
as(dp68834
g23
V571407
p68835
stp68836
a((dp68837
g2
(lp68838
VYes, it's the good way to do it
p68839
aVIt's possible to have a composite primary key consisting of two ManyToOne associations, but it's much more complex, both in the mapping and in the rest of the application, to handle that, and it's also less efficient
p68840
aVYou have an entity, so just do like for all the other entities and use an auto-generated, single-column primary key
p68841
aVThe fact that this entity used to be a join table of a many-to-many association is irrelevant
p68842
aVYes, that seems OK, except the  and  methods should be named  and : there's only one user and one group for a given
p68843
aVI would also use another name for the entity itself
p68844
aVSomething like "Membership" for example
p68845
as(dp68846
g23
V571407
p68847
stp68848
a((dp68849
g2
(lp68850
VYou can't use an ArrayList to hold an association
p68851
aVYou must use a collection interface instead: ,  or
p68852
aVHibernate replaces your ArrayList with its own PersistentList, which handles dirty chcking, lazy loading, etc
p68853
aVAnd anyway, it's always a good idea to program on interfaces rather than implementations
p68854
as(dp68855
g23
V571407
p68856
stp68857
a((dp68858
g2
(lp68859
VAFAIK, yes
p68860
aVThe listener is called when enter is pressed while the textfield has the focus
p68861
aVThe current object, being constructed, is added to the list of ActionListeners of the text field, so that when enter is pressed in the text field, the current object's  method is called
p68862
aVIt's generally a bad practice to pass an object not being fully constructed to another object, because the other object could call it back directly and the object wouldn't be functional, since not fully constructed yet
p68863
as(dp68864
g23
V571407
p68865
stp68866
a((dp68867
g2
(lp68868
VUse DefaultTreeModel
p68869
aVremoveNodeFromParent()
p68870
aVpublic void removeNodeFromParent(MutableTreeNode node)
p68871
aVMessage this to remove node from its parent
p68872
aVThis will message nodesWereRemoved to create the appropriate event
p68873
aVThis is the preferred way to remove a node as it handles the event creation for you
p68874
aVFor example :
p68875
as(dp68876
g23
V571407
p68877
stp68878
a((dp68879
g2
(lp68880
VHere,  is said to hide
p68881
aVHiding does not work like overriding, because static methods are not polymorphic
p68882
aVSo the following will happen:
p68883
aVCalling static methods on instances rather than classes is a very bad practice, and should never be done
p68884
aVCompare this with instance methods, which are polymorphic and are thus overridden
p68885
aVThe method called depends on the concrete, runtime type of the object:
p68886
aVThen the following will happen:
p68887
as(dp68888
g23
V571407
p68889
stp68890
a((dp68891
g2
(lp68892
VYou're using two different objects for  and  : the main thread waits on the main thread, whereas the background thread notifies on the background thread
p68893
aVYou should use a shared, final object for the two calls
p68894
aVYou should also wait and notify in a synchronized block on this shared object, as explained in the javadoc of those two methods
p68895
aVAnd there should only exit from the waiting state where some condition has changed, to avoid spurious wakeups, as explained in the javadoc
p68896
aVBut wait() and notifyAll() are too low-level and too hard to use correctly
p68897
aVYou should use a higher-level abstraction like a Semaphore instead
p68898
as(dp68899
g23
V571407
p68900
stp68901
a((dp68902
g2
(lp68903
s(dp68904
g23
V571407
p68905
stp68906
a((dp68907
g2
(lp68908
VThis means that you're telling Hibernate that the property  of the property  of the entity  should be equal to
p68909
aVBut there is no  property in , as the exception message rightly says
p68910
aVhas a property named , and another one named
p68911
as(dp68912
g23
V571407
p68913
stp68914
a((dp68915
g2
(lp68916
VThe good practice is to update both, to keep the object graph in a consistent state:
p68917
aVBut the owner of the association, which is the only side that JPA considers, is the one which does not have the  attribute
p68918
aVSo you could add a new friendship to the database by only adding a client to
p68919
aVFor better readability, I would choose better names for the lists
p68920
aVSomething like , and
p68921
as(dp68922
g23
V571407
p68923
stp68924
a((dp68925
g2
(lp68926
VNo
p68927
aVAt runtime, ,  and  are the same type, due to type erasure
p68928
as(dp68929
g23
V571407
p68930
stp68931
a((dp68932
g2
(lp68933
VApart for doing the queries by yourself, you could simply enable batch fetching, as described in the documentation:
p68934
aVYou can also enable batch fetching of collections
p68935
aVFor example, if each Person has a lazy collection of Cats, and 10 persons are currently loaded in the Session, iterating through all persons will generate 10 SELECTs, one for every call to getCats()
p68936
aVIf you enable batch fetching for the cats collection in the mapping of Person, Hibernate can pre-fetch collections:
p68937
as(dp68938
g23
V571407
p68939
stp68940
a((dp68941
g2
(lp68942
s(dp68943
g23
V571407
p68944
stp68945
a((dp68946
g2
(lp68947
VUse the query method taking a RowMapper as argument, and transform each row returned in the result set into a DocumentCategory thanks to the RowMapper
p68948
aVis useful when the query returns a single column, to get back a  or a  for example
p68949
as(dp68950
g23
V571407
p68951
stp68952
a((dp68953
g2
(lp68954
VSimply because you forgot to add the ManyToMany annotation on items:
p68955
as(dp68956
g23
V571407
p68957
stp68958
a((dp68959
g2
(lp68960
V is a reserved keyword of your database
p68961
aVUse another name for your table
p68962
as(dp68963
g23
V571407
p68964
stp68965
a((dp68966
g2
(lp68967
VI would simply use the method that does it for you, or look at its source code if you want to reimplement it: Line2D
p68968
aVlinesIntersect()
p68969
as(dp68970
g23
V571407
p68971
stp68972
a((dp68973
g2
(lp68974
VFirst of all, Magician should not have a location_id field
p68975
aVIt should have a field of type Location
p68976
aVThis would make a bidirectional association between the two entities:
p68977
aVThen, to answer your question, the state and associations of an entity are not used to implement a speciic use-case or query
p68978
aVThy're used to model what the database contains
p68979
aVTo get the active magicians of a given location, you should simply use a query:
p68980
as(dp68981
g23
V571407
p68982
stp68983
a((dp68984
g2
(lp68985
VEither the directory is in the classpath, and you can use  (which only accepts fuly qualified name classes, and not  command line options), or it's not in the classpath and you should then use a custom class loader
p68986
aVYou're not saying what you really want to do (why are you loading classes dynamically), but your best bet is to have the directory in the classpath
p68987
as(dp68988
g23
V571407
p68989
stp68990
a((dp68991
g2
(lp68992
VIt returns the stuff itself, unless you're doing an explicit copy in the getter and returning this copy
p68993
aVThere is no generic way in Java (and thus Groovy) to make a copy of an object anyway
p68994
as(dp68995
g23
V571407
p68996
stp68997
a((dp68998
g2
(lp68999
VBoth of these solutions are complex, and load all the products of the categories from the database
p69000
aVIf you're ready to do that, why don't you simply make the association bidirectional, and simply call  to get your count
p69001
aVIf you really don't want to do that, then you should simply execute a query to get the categories, and then execute a single additional query to get their product count from the database:
p69002
aVThis will return a , where each  contains one of the category IDs, and the associated count of products
p69003
as(dp69004
g23
V571407
p69005
stp69006
a((dp69007
g2
(lp69008
VTransforming the example using ReentrantLocks would indeed mean using two locks: one associated with  and the other one associated with
p69009
aVAnd you would replace every entrance in a synchronized block on  by a call to , and any exit from a synchronized block on  by a call to lockX
p69010
aVunlock()`
p69011
aVUsing  defeats the purpose, since it returns instead of waiting if the lock can't be acquired
p69012
as(dp69013
g23
V571407
p69014
stp69015
a((dp69016
g2
(lp69017
VBy selecting from post AND from tag, you're doing a cartesian product
p69018
aVJust do as in your SQL query, and use joins:
p69019
as(dp69020
g23
V571407
p69021
stp69022
a((dp69023
g2
(lp69024
VIf I understand correctly, each value in the properties is a String which represents an Integer
p69025
aVSo the code would look like this:
p69026
as(dp69027
g23
V571407
p69028
stp69029
a((dp69030
g2
(lp69031
VI don't know much about the Reflections API, but you can simply get all the fields annotated with the Searchable annotation, and then check if their Searchable annotation's types contains SearchType
p69032
aVALL:
p69033
as(dp69034
g23
V571407
p69035
stp69036
a((dp69037
g2
(lp69038
VThe usual strategy is to use optimistic locking, as described in the documentation
p69039
aVIt simply consists in adding a column and a corresponding field to the entity, annotated with :
p69040
as(dp69041
g23
V571407
p69042
stp69043
a((dp69044
g2
(lp69045
VAs explained in the question you linked to, and in the Hibernate documentation, joins use associations between entities
p69046
aVSo the correct query is
p69047
aVAlso note that using parameters is a much better solution than concatenating values directly in the query
p69048
aVIt handles quoting and escaping automatically, and doesn't have any risk of HQL injection
p69049
as(dp69050
g23
V571407
p69051
stp69052
a((dp69053
g2
(lp69054
VThe only things I can think of, if you want to optimize code without modifying the code are :
p69055
aVtry larger values for hibernate
p69056
aVjdbc
p69057
aVbatch_size
p69058
aVuse a faster disk and machine for your database
p69059
aVIf you're ready to slightly change the code, then follow the advices of the documentation, and regularly flush and clear the session while inserting your data
p69060
aVOr use a stateless session
p69061
as(dp69062
g23
V571407
p69063
stp69064
a((dp69065
g2
(lp69066
VDTO stands for Data Transfer Object
p69067
aVA DTO is a class which is more a data structure than a real class, usually, and which is created to transfer information from one layer to another, often across the network
p69068
aVIt's not a model entity
p69069
aVA DTO is often used
p69070
aVwhen serializing real model objects is not paractical (because the structure doesn't fit, or because the receiver doesn't have access to Hibernate classes, or because lazy-loaded entities are a problem)
p69071
aVwhen you want to transfer information that is an aggregation, or a complex view, over your model objects (like data of a statistical report for example)
p69072
aVSo naming your entities DTO is not a good idea
p69073
aVDTOs and entities are different things
p69074
aVThe  suffix is also cumbersome
p69075
aVEntities are usually named after what they represent: , , , , etc
p69076
aVSegregating classes based on their technical role is an often used solution
p69077
aVBut it tends not to scale when the application grows
p69078
aVI usually have a first level of segregation based on a functional aspect (like customer management, order management, security, etc
p69079
aV, and then a second level based on technical aspects (service, dao, model, etc
p69080
as(dp69081
g23
V571407
p69082
stp69083
a((dp69084
g2
(lp69085
VThe third label should be added to the frame from the start, with some default text
p69086
aVIf you add the label dynamically, then the container must be validated (by calling  on the panel)
p69087
aVAlso, you should not set the preferred size of a panel
p69088
aVThe layout manager computes the preferred size based on the components it contains
p69089
as(dp69090
g23
V571407
p69091
stp69092
a((dp69093
g2
(lp69094
VIn the JButton class, the keyboard and mouse events are handled, and once the button detects a click, it iterates to its action listeners and calls them:
p69095
aVListeners are just callback objects
p69096
as(dp69097
g23
V571407
p69098
stp69099
a((dp69100
g2
(lp69101
VThe compile classpath is the classpath used to compile your Java source files (using , or your IDE)
p69102
aVEvery class referenced in the source file must be present in the compile classpath, else the compiler will complain that it can't find the class
p69103
aVOnce you have compiled the classes, you can run a program using them (using )
p69104
aVObviously, the libraries on which your source code depends directly should be in the runtime classpath
p69105
aVBut that's not all
p69106
aVIf you depend directly on CoolLibrary
p69107
aVjar, and this library internally depends on Guava
p69108
aVjar, then Guava
p69109
aVjar must also be in the runtime classpath, although it was not needed when compiling
p69110
aVWebapps are a bit special
p69111
aVThe servlet specification specifies that the classpath used to execute the webapp is composed by the WEB-INF/classes directory of the deployed webapp, and of all the jars contained in WEB-INF/lib
p69112
aVAll the webapps also have access to the native servlet and JSP jars, which are directly provided by Tomcat
p69113
aVIn reality, Tomcat's internal classes (like the implementation classes of the servlet-api interfaces) are also available to the webapp, but relying on these classes is not a good idea, since it would tie your webapp to tomcat
p69114
aVTalking of the runtime classpath, in the case of a webapp, is a bit of a simplification
p69115
aVIn reality, every webapp's classes are loaded dynamically by a specific classloader by tomcat
p69116
aVAnd this webapp classloader is a child of the tomcat's classloader
p69117
aVSo, in theory, you could place the webapp jars in Tomcat's classpath directly, but this would mean that all the webapps would share these libraries, and that you would have problems undeploying and redeploying webapps
p69118
aVThe goal of having a specific classloader per webapp is to be able to have, in the same JVM, an app relying on Guava 11
p69119
aV0, and another one relying on Guava 12
p69120
aV0, for example
p69121
aVFor more information about tomcat classloaders, read the documentation
p69122
as(dp69123
g23
V571407
p69124
stp69125
a((dp69126
g2
(lp69127
VYou're not supposed to code that by yourself
p69128
aVYou should instead rely on an implementation of the JSR, for example Hibernate Validator
p69129
aVThe Validator it implements allows getting a set of constraint violations based on the annotations on the bean
p69130
as(dp69131
g23
V571407
p69132
stp69133
a((dp69134
g2
(lp69135
VYou could simply implement it like the following:
p69136
aVBut I'm not sure it's the best idea
p69137
aVMoreover, you can't guarantee that all implementations of the interface extend your abstract class
p69138
aVYou could simply maintain a
p69139
aVEach module implementation would add itself to your registry, and if the class of the module is already in the map, you would simply reject or ignore the new module instance
p69140
as(dp69141
g23
V571407
p69142
stp69143
a((dp69144
g2
(lp69145
VOptimisticLockException will only be used if there is an @Version field in the entity, and if a transaction tries to save an entity that has been modified by another transaction since the state of the entity has been loaded
p69146
aVEach transaction has its own instance of each entity it loads
p69147
aVEntities are not thread-safe, and must not be shared by several threads
p69148
aVTransient fields are indeed ignored completely by JPA
p69149
aVBut I don't see how synchronization could change anything, since each thread has its own entity instance
p69150
aVMoreover, in most enterprise applications, multiple JVMs use the same database, so synchronization doesn't help there
p69151
aVFrankly, using transient fields in entities usually show a design problem, and relying on the state of a transient field in an entity to hold state shared by multiple threads is plain wrong
p69152
aVIf the state is shared by multiple threads or even processes, it should probably be saved in the database
p69153
as(dp69154
g23
V571407
p69155
stp69156
a((dp69157
g2
(lp69158
VPassing an ArrayList would prevent you (or at least, make it more difficult) to change your mind and use another kind of  later, because  would rely on the list to be of type , and not simply
p69159
aVAmong the other List implementations that you could want to pass are , , , , or, often,
p69160
aVThe best practice is thus to program on interfaces, and pass a  (or even a  or  if calling methods should not even assume it's a List)
p69161
aVFor a private method inside the same class, it doesn't matter much
p69162
aVBut if the method is part of a public API, then passing an ArrayList could really hurt you at some time
p69163
as(dp69164
g23
V571407
p69165
stp69166
a((dp69167
g2
(lp69168
VFirst of all, start by respecting the Java naming conventions
p69169
aVClasses are CamelCased and methods are camelCased
p69170
aVUsing a single instance is perfectly fine
p69171
aVThat's what servlets do, as well as Struts1 actions, and Spring beans (by default) for example
p69172
aVBut this should be documented, because it forces every implementation of your interface to be thread-safe (preferrably, by being stateless), unless your framework makes sure only one thread uses each instance at a time, which would considerably reduce the performance of your application
p69173
aVCreating many instances used to be slow, many years ago
p69174
aVIt's not anymore now, so I would create a new instance every time, unless having a single instance is important (because initializing an instance might be slow)
p69175
as(dp69176
g23
V571407
p69177
stp69178
a((dp69179
g2
(lp69180
VIf every element in the list is supposed to be a an instance of T, then the list should be a :
p69181
as(dp69182
g23
V571407
p69183
stp69184
a((dp69185
g2
(lp69186
VYes, these objects would be accessed concurrently
p69187
aVSo they must be coded in a thread-safe way
p69188
aVBut this is trivial to do, since they're usually stateless, except for their dependencies which are injected at startup time by Spring
p69189
as(dp69190
g23
V571407
p69191
stp69192
a((dp69193
g2
(lp69194
VYou forgot to add the Temporal annotation on the endDate, specifying if the date, time, or both should be persisted
p69195
as(dp69196
g23
V571407
p69197
stp69198
a((dp69199
g2
(lp69200
VYou shouldn't use a criteria query to get an entity by ID
p69201
aVThere's a method for that:
p69202
aVAnd since you have an association between your entities, there's no reason to use a query to get this association either
p69203
aVIf I understand correctly, all you need is:
p69204
aVAnd the to get the setter modules, you simply need to call
p69205
aVAnd to get the checker modules, you simply need to call
p69206
as(dp69207
g23
V571407
p69208
stp69209
a((dp69210
g2
(lp69211
VAFAIR, Hibernate will use native serialization and store the resulting bytes in your column
p69212
aVI wouldn't do that though, and use a dedicated transformation that would make the prices readable in the database, and at least be able to use the data without needing Java native serialization:
p69213
as(dp69214
g23
V571407
p69215
stp69216
a((dp69217
g2
(lp69218
VAFAIK, nothing prevents the servlet container to return a different object each time a thread asks for the session (i
p69219
ag468
aVa proxy over the real, actual session)
p69220
aVIf the container does that, synchronizing on the session won't be of any help, since each thread will synchronize on a different object
p69221
aVThe easiest way to have a thread-safe counter is to use an AtomicInteger, and call one of its increment methods, but that doesn't prevent two concurrent threads from storing an AtomicInteger for the first time if they both see it as null
p69222
aVThe easiest way to be sure (although probably not the fastest) is to use a global lock to get the attribute:
p69223
aVThat said, in a clustered application, the session is made persistent or replicated across nodes of the clustered, so that doesn't bring any guarantee either
p69224
aVStoring the counter in the database would be the solution here
p69225
as(dp69226
g23
V571407
p69227
stp69228
a((dp69229
g2
(lp69230
VYou could simply use a  as the key (or even a  if you want to support heterogeneous types)
p69231
aVTwo lists are equal if they have the same size and if all their members are equal
p69232
as(dp69233
g23
V571407
p69234
stp69235
a((dp69236
g2
(lp69237
VI assume that what you get is in fact an EmptyResultDataAccessException
p69238
aVThe javadoc of this exception says:
p69239
aVData access exception thrown when a result was expected to have at least one row (or element) but zero rows (or elements) were actually returned
p69240
aVThat simply means that the query is executed fine, and is supposed to return one row, but doesn't return any
p69241
aVSo no row satisfies the criteria of your query
p69242
aVIf that is expected, then catch the exception, or use a method that returns a list rather then returning a single value
p69243
aVThat way, you can test if the returned list is empty
p69244
aVThat said, you should use a parameterized query instead of concatenating the token like you're doing
p69245
aVThis would prevent SQL injection attacks
p69246
aVIt would also work even if the token contains a quote, for example
p69247
as(dp69248
g23
V571407
p69249
stp69250
a((dp69251
g2
(lp69252
VThere is no
p69253
aVOnly
p69254
aVAnt is a Java build tool
p69255
aVIf it comes with the Android SDK, make sure its  directory is in your  environment variable
p69256
aVOtherwise, download it (from ), and follow the installation instructions on the web site
p69257
aVNormally, simply unzipping it, putting its bin directory in the PATH envieonment variable, and setting a JAVA_HOME environment variable that points to your preferred JDK directory is sufficient
p69258
as(dp69259
g23
V571407
p69260
stp69261
a((dp69262
g2
(lp69263
VNone of these methods trigger a validation
p69264
aVThe documentation says:
p69265
aVWhenever a PreInsertEvent, PreUpdateEvent or PreDeleteEvent occurs, the listener will verify all constraints of the entity instance and throw an exception if any constraint is violated
p69266
aVPer default objects will be checked before any inserts or updates are made by Hibernate
p69267
aVPre deletion events will per default not trigger a validation
p69268
aVSo the validation will happen at flush time, just before Hibernate inserts or updates an entity in the database
p69269
as(dp69270
g23
V571407
p69271
stp69272
a((dp69273
g2
(lp69274
VA servlet is part of the presentation layer
p69275
aVIt shouldn't deal with JPA
p69276
aVInstead, it should call services, implemented as EJBs and containing the business logic, which in turn should call DAOs, also implemented as EJBs, and containing the persistence logic, dealing with the entity manager
p69277
aVThe service EJB would start a transaction automatically each time one of its method is called (that's the main reason for using EJBs), and commit it automatically when the method returns
p69278
as(dp69279
g23
V571407
p69280
stp69281
a((dp69282
g2
(lp69283
V means minutes
p69284
aVmeans month
p69285
aVmeans milliseconds
p69286
aVmeans seconds
p69287
aVSo the pattern to parse should be , and the pattern to format should be
p69288
aVThis is documented
p69289
aVRead the documentation
p69290
as(dp69291
g23
V571407
p69292
stp69293
a((dp69294
g2
(lp69295
VLook at your method definition:
p69296
aVThe only thing this method does is calling itself
p69297
aVSo obviously, you have an infinite recursion loop
p69298
as(dp69299
g23
V571407
p69300
stp69301
a((dp69302
g2
(lp69303
VHere we go again
p69304
aVEvery bidirectional association has two sides : the owner side, and the inverse side
p69305
aVThe inverse side is the one which has the  attribute
p69306
aVThe owner side is the other one
p69307
aVJPA/Hibernate only cares about the owner side
p69308
aVSo if you just initialize the inverse side, the association won't be persisted
p69309
aVIt's a good practice, generally, ti initialize both sides of the association
p69310
aVFirst because it makes sure the owner side is initialized, and second because it makes the graph of entities coherent, for your own good
p69311
aVAlso note that if you're working inside a transaction (and you should), all the entities returned by your queries are attached entities
p69312
aVThe changes applied to the entities are automatically made persistent when the transaction is committed (or before)
p69313
aVThere is no need to save the entities explicitely like you're doing
p69314
as(dp69315
g23
V571407
p69316
stp69317
a((dp69318
g2
(lp69319
VOption 1 is actually safer than Option 2, since if an exception is thrown in option 2, the second lock () won't be unlocked: the unlocking is not in a finally block
p69320
aVAlso, be very careful when manipulating two locks, because there's a good chance of deadlock if one thread locks  then , and another thread locks  then
p69321
as(dp69322
g23
V571407
p69323
stp69324
a((dp69325
g2
(lp69326
VThe usage of joins and associations in HQL is described in the documentation
p69327
aVThe correct query to load everything at once is:
p69328
aVHQL uses entities and associations
p69329
aVNever table and column names as you're doing in your question
p69330
as(dp69331
g23
V571407
p69332
stp69333
a((dp69334
g2
(lp69335
VThese two methods will consider  and  to be equal if they're both null
p69336
aVHere's the relevant part of the freely available source code:
p69337
as(dp69338
g23
V571407
p69339
stp69340
a((dp69341
g2
(lp69342
VThe easiest way I see is to copy allyour jars to a temporary folder using the  task and its  attribute, and to include the jars of this temporary directory into the destination jar
p69343
aVADDED DETAIL added by asker
p69344
aVHere's what the final ANT target looks like (for future reference):
p69345
as(dp69346
g23
V571407
p69347
stp69348
a((dp69349
g2
(lp69350
VJust as you initialize min and max to fake values before the loop, you should also initialize minName and maxName to something:
p69351
aVOtherwise, since the compiler can't guarantee that the loop executes at least once, it can't guarantee that these variables have been initialized to some value (as the error message indicates)
p69352
aVBTW, your code should handle this case some way: if there is 0 entry in inFile, you should probably detect it (the minName would still be null, for example), and you could write an error message
p69353
as(dp69354
g23
V571407
p69355
stp69356
a((dp69357
g2
(lp69358
VThat's not a best practice at all, and implementing serializable or not doesn't have any impact on performance
p69359
aVIf you want to be able to serialize your entities, make them implement Serializable
p69360
aVIf you don't want to, then don't make them implement Serializable
p69361
aVIt's as simple as that
p69362
aVUsing a DTO when the entity itself contains the adequate information is rather viewed as an anti-pattern than viewed as a best practice
p69363
as(dp69364
g23
V571407
p69365
stp69366
a((dp69367
g2
(lp69368
VYou're trying to sort a  with a
p69369
aVThat's why you get an error
p69370
aVA  should be sorted using a , or a
p69371
aVIn non-computer terms, you're trying to sort bananas with something that compares apples
p69372
aVSorting bananas can be done with something able to sort bananas, or with something able to sort any kind of fruit
p69373
as(dp69374
g23
V571407
p69375
stp69376
a((dp69377
g2
(lp69378
VClasses are resolved at runtime
p69379
aVYou compiled your client class (Sample) with a version of the Hoge class in the classpath, and ran it with another version of the class
p69380
aVSince the class is still compatible (same package, same name, same method signature), everything goes well
p69381
aVThat's what allows compiling classes with a given version of a library (or the JDK), but still run it with another version of the same library (or the JDK)
p69382
aVIf this wasn't possible, it would be a nightmare to build reusable libraries, since every library would have to be compiled against every version of the JDK and every version of every dependant library
p69383
as(dp69384
g23
V571407
p69385
stp69386
a((dp69387
g2
(lp69388
VUse a spy:
p69389
aVThis is described, like everything else, in the api doc
p69390
as(dp69391
g23
V571407
p69392
stp69393
a((dp69394
g2
(lp69395
VYou initialize a list:
p69396
aVIn this constructor, the head of the list is set to null:
p69397
aVThen you initialize a variable with the head of the list:
p69398
aVSo  is null
p69399
aVThen you try to print the value of  :
p69400
aVAnd since  is null, you get a NullPointerException
p69401
as(dp69402
g23
V571407
p69403
stp69404
a((dp69405
g2
(lp69406
VYou can't chain comparison operators like in math
p69407
aVThe syntax is:
p69408
aVor rather, to avoid holes in your range:
p69409
aVor even simply
p69410
aVsince every value less than 0
p69411
aV5 will be handled by the first
p69412
aVAlso, variables start with a lower-case in Java, and constants are all upper-case
p69413
aVSo the values should probably be BLACK, WHITE and ASIAN
p69414
aVAnd you should consider using enums rather than Strings for these values, to make your code clearer and safer
p69415
as(dp69416
g23
V571407
p69417
stp69418
a((dp69419
g2
(lp69420
VHere's how I would do:
p69421
aVsplit "he wo" into words, using , to get an array of prefixes
p69422
aViterate on the items
p69423
aVFor each item, split it into words, to get an array of words
p69424
aVCheck that the array of words has at least the same length as the array of prefixes
p69425
aVIf not, the item is rejected
p69426
aVIterate through the indices of the prefixes
p69427
aVFor each index, get the prefix and the word
p69428
aVConvert the word to lower-case
p69429
aVCheck that it starts with the prefix
p69430
aVAll these methods are available in the String class
p69431
aVIf it doesn't start with the prefix, the item is rejected
p69432
aVThis should get you started
p69433
aVMake sure to implement this algorithm as a separate method, itself splitted into sub-methods doing just one thing
p69434
aVEDIT:
p69435
aVhere's the last part of the algorithm (steps 3 and 4):
p69436
as(dp69437
g23
V571407
p69438
stp69439
a((dp69440
g2
(lp69441
VYes, it's possible:
p69442
as(dp69443
g23
V571407
p69444
stp69445
a((dp69446
g2
(lp69447
VYour transaction is not rollbacked because there is no exception thrown: the  method that you call catches the exception:
p69448
aVSo the transactional Spring proxy doesn't see any exception thrown and doesn't rollback the transaction
p69449
aVIt works for exceptions thrown from the DAO because the DAO is itself transactional, so its own transactional proxy detects the exception being thrown by the DAO and marks the transaction for rollback
p69450
aVThe exception is then propagated to the service and caught by your code, but the transaction is already marked for rollback at this point
p69451
as(dp69452
g23
V571407
p69453
stp69454
a((dp69455
g2
(lp69456
VYou have a bidirectional association
p69457
aVEvery bidirectional association has an owner side and an inverse side
p69458
aVThe inverse side is the side with the  attribute
p69459
aVThe owner side is the other side
p69460
aVJPA doesn't care about the inverse side
p69461
aVSo if you want to associate a cliente with a cuenta, you must add the cuenta to the cliente, because cuente is the owner side of the association
p69462
aVThe good practice, generally, is to maintain both sides of the association, even if JPA only cares about the owner side, because
p69463
aVyou're sure not to forget the owner side
p69464
aVit makes the object graph coherent
p69465
as(dp69466
g23
V571407
p69467
stp69468
a((dp69469
g2
(lp69470
VYou could use polymorphism instead of your switch:
p69471
aVAnd then, in your code:
p69472
aVThis has the additional advantage that, if a new enum value appears, you won't have a risk of forgetting to add a case to the switch
p69473
as(dp69474
g23
V571407
p69475
stp69476
a((dp69477
g2
(lp69478
VThe first thing I would do, before trying to optimize the code, is to make it compiling
p69479
aVThe following lines don't compile:
p69480
aVThen I would make the code cleaner by respecting the Java naming conventions, by splitting this long method in several ones, and by using better names than , for example
p69481
aVThen I would measure, test and see if I have a performance problem
p69482
aVAnd if I have one, I would try to find where it comes from
p69483
aVAnd only if I'm sure that it comes from this method (which is unlikely), then I would try to optimize it
p69484
aVLet's suppose this method needs to be optimized
p69485
aVThe first thing I would do is to make sure that the appropriate index exists, to speed up the delete statement
p69486
aVThen I would avoid preparing the two statements if the list is empty
p69487
aVYou avoid their execution using the flag variable, but you don't avoid their preparation
p69488
aVThen I would try to see if using a batch is necessary, or if using several ones is useful, depending on the size of the list, on what my database recommends, and on what the measurements and tests say
p69489
aVBut as I said
p69490
aVDoing all this is premature optimization, which is the root of all evil
p69491
aVTry to make the code correct, clean and maintainable before
p69492
as(dp69493
g23
V571407
p69494
stp69495
a((dp69496
g2
(lp69497
VFirst of all, the Criteria api is useful for dynamically generated queries, but too complex and leading to less readable and maintainable code for static queries
p69498
aVYou should use HQL for such a simple static query:
p69499
aVIf you persist in using Criteria, then the same query should be composed:
p69500
as(dp69501
g23
V571407
p69502
stp69503
a((dp69504
g2
(lp69505
VThe simplest way to do what you want is to have something like the following:
p69506
aVdo something useful" should be a fast operation, and your thread will always last slightly longer than 1 minute (1 minute + the time of "do something useful")
p69507
aVNote about your original code: to stop a thread from the thread itself, no need for an interrupt: you just need to return from the  method
p69508
as(dp69509
g23
V571407
p69510
stp69511
a((dp69512
g2
(lp69513
VI think the rest of the message tells you what the problem is
p69514
aVWhen you use an argument matcher for one of the arguments, all the other arguments must also use an argument matcher:
p69515
as(dp69516
g23
V571407
p69517
stp69518
a((dp69519
g2
(lp69520
VBoth threads use  as their lock, and call  and  on this object to communicate, inside a synchronized block on , which is correct
p69521
aVBut you're reassigning a new value to this variable just before calling
p69522
aVSo, in effect, you call  on an object which you don't own the lock:
p69523
aVRule of thumb : when a variable is used as a lock, it should be final, to avoid this kind of bug
p69524
aVMoreover, using the empty string as a lock is a really, really bad idea
p69525
aVYou'd better create a dedicated object to do that:
p69526
aVBut the best thing to do would be to forget about  and , which are too low-level, and to use a higher-level abstraction from the java
p69527
aVutil
p69528
aVconcurrent package like a semaphore for example
p69529
aVOr even better: instead of having the main thread wait for the event dispatch thread, you'd better start a background thread, or rather use a SwingWorker, to execute your lengthy operation
p69530
as(dp69531
g23
V571407
p69532
stp69533
a((dp69534
g2
(lp69535
VThe approach I have taken is to create an EntityList class with only those fields to appear in the list
p69536
aVThis class is mapped to the same table as the full Entity but with only a subset of fields
p69537
aVThis is the root of the problem
p69538
aVDon't do that
p69539
aVJust use the complete entity for your query
p69540
aVLoading some unneeded columns usually doesn't have any significant impact on performance
p69541
aVAnd if it does, then just execute a query which selects only the columns you want
p69542
as(dp69543
g23
V571407
p69544
stp69545
a((dp69546
g2
(lp69547
VThis is best solved by an ORM
p69548
aVWith JDBC, you have to do by hand what an ORM would do for you
p69549
aVExecuting N + 1 queries is very inefficient
p69550
aVYou should execute a single query, and build your objects manually
p69551
aVCumbersome, but not hard:
p69552
as(dp69553
g23
V571407
p69554
stp69555
a((dp69556
g2
(lp69557
VWhy I should use JoinTable insted of Foreign Key
p69558
aVYou should not
p69559
aVYou have the choice
p69560
aVIf you prefer using a join table, use a join table
p69561
aVIf you prefer using a join column (foreign key in the child table), use a join column
p69562
aVIf you have an already existing schema that you can't change, choose the option that corresponds to the existing schema
p69563
aVhow entity work's and collaborate with each other
p69564
aVI'm not sure what you mean by that
p69565
aVIf an entity School has a OneToMany association with an entity Teacher, when you get a school from the session, and ask for its teachers, Hibernate will load them from the database for you
p69566
aVIf you add a teacher to the collection of teachers of a school, Hibernate will populate the join column or the join table for you
p69567
aVThe goal is simply to manipulate objects as if theyr were simple objects stored in memory, and have Hibernate load and save them for you from/to the database
p69568
aVNow regarding the exception and the title of your question, the exception message says it clearly:
p69569
aVinsert into TYPE (TYPE_NAME, VERSION) values (
p69570
ag11502
aVWARN : org
p69571
aVhibernate
p69572
aVutil
p69573
aVJDBCExceptionReporter - SQL Error: 1048, SQLState: 23000 ERROR: org
p69574
aVhibernate
p69575
aVutil
p69576
aVJDBCExceptionReporter - Column 'TYPE_NAME' cannot be null
p69577
aVYou're trying to insert an antity of type Type (what a badly chosen name
p69578
aVwith a null name
p69579
aVAnd the database column doesn't acept null
p69580
aVSo you get this exception
p69581
aVEither change the table definition if null is a valid Type name, or fix your code to make sure you don't try to insert a null name
p69582
aVAlso, respect the Java naming conventions
p69583
aVYour code is really hard to read
p69584
as(dp69585
g23
V571407
p69586
stp69587
a((dp69588
g2
(lp69589
VRedirect from the old one to the new one, with a  status code
p69590
aVThat is the transparent, standard way of doing
p69591
aVIf you really want to tell users not to use it, then just do that: return a page with a message saying not to use this URL anymore, and add a link to the new URL in the page
p69592
as(dp69593
g23
V571407
p69594
stp69595
a((dp69596
g2
(lp69597
VUse Mockito (or another mocking framework), to mock the method B when testing A, and make it return what you want:
p69598
as(dp69599
g23
V571407
p69600
stp69601
a((dp69602
g2
(lp69603
VIterator is a generic type
p69604
aVIf you use the raw  type, the Iterator returns Object, and the loop should be
p69605
aVYou should instead use a type-safe generic :
p69606
aVAlso, choose better names for your classes
p69607
aVshould be
p69608
aVAnd  should be
p69609
aVDon't name "Iterator" what is not an Iterator
p69610
aVStart class names with upper-case letters, and method names with lower-case letters
p69611
as(dp69612
g23
V571407
p69613
stp69614
a((dp69615
g2
(lp69616
VThe javadoc explains it:
p69617
aVThis filter makes Hibernate Sessions available via the current thread, which will be autodetected by transaction managers
p69618
aVIt is suitable for service layer transactions via HibernateTransactionManager or JtaTransactionManager as well as for non-transactional execution (if configured appropriately)
p69619
aVNOTE: This filter will by default not flush the Hibernate Session, with the flush mode set to FlushMode
p69620
aVNEVER
p69621
aVIt assumes to be used in combination with service layer transactions that care for the flushing: The active transaction manager will temporarily change the flush mode to FlushMode
p69622
aVAUTO during a read-write transaction, with the flush mode reset to FlushMode
p69623
aVNEVER at the end of each transaction
p69624
aVIf you intend to use this filter without transactions, consider changing the default flush mode (through the "flushMode" property)
p69625
as(dp69626
g23
V571407
p69627
stp69628
a((dp69629
g2
(lp69630
VA workaround I see, if you can modify all the places where the lists are wrapped, is to use your own unmodifiable list wrapper, and check if the list is not already an instance of this list wrapper before wrapping it
p69631
aVAnother workaround would be to use
p69632
as(dp69633
g23
V571407
p69634
stp69635
a((dp69636
g2
(lp69637
VYou should consider using joda-time to handle dates, which is a much better API than what the JDK comes with
p69638
aVTo manipulate dates with the standard JDK classes, you use the Calendar class:
p69639
as(dp69640
g23
V571407
p69641
stp69642
a((dp69643
g2
(lp69644
VIt's hard to give a definitive answer because you don't provide much context, and because it's been a while I haven't used GAE, but here's my guess
p69645
aVIt means that on the real appengine, on Google's machines, you won't be able to access the files in the working directory (and you won't be able to write any file at all), because that is forbidden in this environment
p69646
aVAnd I guess it shows this error because on your development server, you're executing some code that is accessing the current directory
p69647
aVSo it warns you that the code, although working fine on your development server, won't work on the real app engine
p69648
aVTo get rid of the warning, find the code doing that, and modify it
p69649
aVRead https://developers
p69650
aVgoogle
p69651
aVcom/appengine/docs/java/runtime#The_Sandbox for more details
p69652
as(dp69653
g23
V571407
p69654
stp69655
a((dp69656
g2
(lp69657
VYou're using @Transactional, to have Spring start, commit and rollback transactions for you, and handle your transactions declaratively
p69658
aVThe whole point of this is precisely to not have to start, commit and rollback transactions in the code
p69659
aVSo the method implementation should simply be
p69660
as(dp69661
g23
V571407
p69662
stp69663
a((dp69664
g2
(lp69665
VYour query isn't a valid HQL query
p69666
aVYou missed a set clause in the query:
p69667
aVThat said, 8000 IDs in an in clause is a lot
p69668
aVDatabases have limits on the size of a query
p69669
aVOracle for example doesn't accept more than 1000 elements in an IN clause
p69670
as(dp69671
g23
V571407
p69672
stp69673
a((dp69674
g2
(lp69675
VHQL queries are translated to SQL queries and executed by your database
p69676
aVAnd your database doesn't know and care about your classes and their  method
p69677
aVYou just need
p69678
aVRead the documentation about HQL to understand how joins work
p69679
as(dp69680
g23
V571407
p69681
stp69682
a((dp69683
g2
(lp69684
VThe observer is the component that wants to be notified about changes or events of the subject
p69685
aVIt decides to observe the subject and adds itself to the list of observers that the subject maintains
p69686
aVThe typical use-case is a graphical panel containing a button
p69687
aVThe graphical panel creates a button and adds it to itself
p69688
aVAnd it wants to display a dialog box every time the button is clicked
p69689
aVSo it adds itself as an observer of the button, and the button notifies the panel when it's clicked
p69690
aVIn this example, the observer creates the object it observes
p69691
aVBut there are situations where that is not the case, and when the reference to the subject is passed as an argument to its constructor or one of its methods
p69692
aVThis is irrelevant to the principle of the observer pattern itself
p69693
as(dp69694
g23
V571407
p69695
stp69696
a((dp69697
g2
(lp69698
VNo, you can't do that
p69699
aVJSPs are executed at server-side
p69700
aVSending JSP markup to the browser doesn't make sense
p69701
aVIf you want to display the three last posts of a user, just select these three last posts from the database and display them
p69702
aVIf you want the user to be able to display the next 3 posts, then add a link with parameters to the page
p69703
aVWhen handling the request, extract these parameters to know which posts to display, get the posts from the database, and display the posts
p69704
aVThe whole point of web applications is to be able to generate HTML dynamically, based on parameters coming from the user
p69705
aVYou shouldn't generate static pages
p69706
aVExample of a link to show the posts 3 to 5 of a user:
p69707
as(dp69708
g23
V571407
p69709
stp69710
a((dp69711
g2
(lp69712
VIn your first attempt, you're loading images from the file system, in the current directory, which is the directory from which the  of  command is started
p69713
aVThat's what prevents you from bundling the images with your applications
p69714
aVObviously, the end user of your app won't have the images in his current directory, and his current directory will change depending on how he launches the application
p69715
aVYou should instead have the images packaged inside the jar file, and thus be present in the classpath, and thus load them using the ClassLoader as you're doing in your second attempt
p69716
aVLet's say they're in the folder  of the jar, which thus corresponds to the package
p69717
aVUsing , as the javadoc indicates, tries to find  in the same package as the class returned by
p69718
aVSo, it would work in our example if the class was in the package
p69719
aVIf it's not, you should use the absolute path of the resource:
p69720
aVAlso, don't mess with the bin folder
p69721
aVThis is the destination folder of Eclipse, and doing a clean build will remove everything from this directory
p69722
aVJust add the images to the appropriate package in the source directory, and Eclipse will automatically copy them to the destination directory when building the project
p69723
as(dp69724
g23
V571407
p69725
stp69726
a((dp69727
g2
(lp69728
VWhen you want a queue, use a PriorityQueue
p69729
aVWhen you want a Set, use a TreeSet
p69730
aVA TreeSet has unique elements, and doesn't offer the API of a Queue
p69731
aVA Queue doesn't offer the API of a Set, and allows multiple equal elements
p69732
as(dp69733
g23
V571407
p69734
stp69735
a((dp69736
g2
(lp69737
VYou're printing the value of the counter after having started all the threads, and not after all the threads have completed
p69738
aVUse Thread
p69739
aVjoin() on all the threads you have started to wait until they've completed, and then print the value
p69740
aVOr use a CountDownLatch
p69741
aVSleeping gives you the correct result by accident
p69742
aVIt allows all the threads to complete, but only because they have so few things to do that sleeping for 1 millisecond is sufficient
p69743
as(dp69744
g23
V571407
p69745
stp69746
a((dp69747
g2
(lp69748
VNo, you can't do that
p69749
aVA prepared statement consists in passing a parameterized statement to the database so that it prepares the execution plan of the query, in order to execute it later
p69750
aVTo be able to prepare the execution plan, the database needs to know the column names, because the plan depends on them (for example, selecting by name would use the index on the name, but selecting by age would not)
p69751
as(dp69752
g23
V571407
p69753
stp69754
a((dp69755
g2
(lp69756
VYes
p69757
aVUse NamedParameterJdbcTemplate and assign the same name to both parameters:
p69758
aVMore explanations on how to use this class in the documentation
p69759
as(dp69760
g23
V571407
p69761
stp69762
a((dp69763
g2
(lp69764
VUse  rather than
p69765
as(dp69766
g23
V571407
p69767
stp69768
a((dp69769
g2
(lp69770
VThe problem seems to be with the following configuration:
p69771
aVThe javadoc for setMappingResources says:
p69772
aVSet Hibernate mapping resources to be found in the class path, like "example
p69773
aVhbm
p69774
aVxml" or "mypackage/example
p69775
aVhbm
p69776
aVxml"
p69777
aVSo your config tells Spring to look for a file named fr
p69778
aVdemo
p69779
aVbean
p69780
aVClient in the root package, which is wrong
p69781
aVIf you want to specify the name of an annotated class, use
p69782
as(dp69783
g23
V571407
p69784
stp69785
a((dp69786
g2
(lp69787
VWhat comes to mind is socket-based communication, where several XML documents are sent and received, and closing the underlying stream would close the socket
p69788
as(dp69789
g23
V571407
p69790
stp69791
a((dp69792
g2
(lp69793
VIntroduce a boolean variable that is set to true if you found the branch, and check the value of this boolean variable after the loop:
p69794
aVYou should probably introduce a class () that holds the branchId and the associated fee, instead of using parallel arrays
p69795
aVAnd you should also use a  to be able to get the information from a branch ID in constant time rather than having to loop
p69796
as(dp69797
g23
V571407
p69798
stp69799
a((dp69800
g2
(lp69801
V is a local variable of the  method
p69802
aVSo it's initialized when you start a thread, and then goes out of scope
p69803
aVOnce the stop button is clicked, the actionPerformed() method is called once again, and its  local variable is reinitialized to null
p69804
aVThis variable should be an instance field, not a local variable
p69805
as(dp69806
g23
V571407
p69807
stp69808
a((dp69809
g2
(lp69810
VFOCUSED is just an alias to GENERAL
p69811
aVIt won't appear in the  of the enum, and if some client code uses FOCUSED, it will in fact use GENERAL, as both variables refer to the same enum value
p69812
aVSo no, I don't think you messed up
p69813
aVTo reduce the confusion, maybe you should make  a static method, which returns GENERAL
p69814
aVThis would also avoid the need to recompile client code in case you decide that the focused type is another one
p69815
as(dp69816
g23
V571407
p69817
stp69818
a((dp69819
g2
(lp69820
VReplace  by  or by
p69821
aV, and you'll have a useful error message and stack trace allowing you to know what's wrong
p69822
aVThe error is obvious though: you forgot a single quote in your query:
p69823
aVYou should also learn to use prepared statements, which would avoid this kind of bug, wouldn't make your code a subject of SQL injection attacks, and wouldn't make your code break in case the question or answer contains a single quote
p69824
as(dp69825
g23
V571407
p69826
stp69827
a((dp69828
g2
(lp69829
VMonths are zero-based in Calendar
p69830
aVSo 12 is interpreted as december + 1 month
p69831
aVUse
p69832
as(dp69833
g23
V571407
p69834
stp69835
a((dp69836
g2
(lp69837
VSQL injection is something that you definitely want to avoid
p69838
aVIt's not something that a database or framework supports
p69839
aVIt's an attack
p69840
aVSomething that you want to avoid
p69841
aVAnd it won't be solved by any framework
p69842
aVYou have to understand what SQL injection attacks are and when they can happen, and adopt good practices of coding to avoid them: always use prepared statements and never create SQL queries dynamically by appending values coming from untrusted sources
p69843
aVIn short, instead of doing
p69844
aVdo the following:
p69845
aVand then create a prepared statement and bind  to the query parameter
p69846
aVIt's as simple as that
p69847
as(dp69848
g23
V571407
p69849
stp69850
a((dp69851
g2
(lp69852
VThe following annotation
p69853
aVshould be
p69854
aVthe  attribute doesn't make sense, since it's a ManyToOne association: you'll obviously have several DiasUsuarioTimeSheets referencing the same user
p69855
aVSimilarly, the following annotation
p69856
aVmust be replaced by
p69857
as(dp69858
g23
V571407
p69859
stp69860
a((dp69861
g2
(lp69862
VYour two methods are mapped to
p69863
aVBut your URL is
p69864
aVMoreover, this doesn't make sense:
p69865
aVA form can only have one action
p69866
aVIf you want to invoke the method addCustomer, it should be
p69867
as(dp69868
g23
V571407
p69869
stp69870
a((dp69871
g2
(lp69872
VJava webapps can declare a ServletContextListener to be notified when the application is started and destroyed
p69873
aVThey can also declare an HttpSessionListener to be notified when a session is started and destroyed
p69874
as(dp69875
g23
V571407
p69876
stp69877
a((dp69878
g2
(lp69879
VYou're using both declarative transactions (using ) and programmatic transactions
p69880
aVThis makes no sense
p69881
aVSpring starts, commits and rollbacks transactions for you, based on the  annotation
p69882
aVThere's no need to start and commit transactions programmatically (and it's even a bug, as you just discovered)
p69883
aVRemove all your transactin handling code:
p69884
aVAlso, you should use  instead of  to get a reference to the entity to delete
p69885
aVIt would avoid lots of unnecessary select queries
p69886
as(dp69887
g23
V571407
p69888
stp69889
a((dp69890
g2
(lp69891
VThe second one is lazy
p69892
aVIf, by some miracle, the program loads the class but never calls , the logger instance, which might be an expensive object to create, won't be created
p69893
aVFrankly, if a singleton is really needed (and with dependency injection frameworks, they're almost always unneeded), I prefer the first solution, which is easier to understand
p69894
aVI've rarely, if ever, seen a singleton whose class was loaded but which was never used in real code
p69895
as(dp69896
g23
V571407
p69897
stp69898
a((dp69899
g2
(lp69900
VBoth FileWriter and FileOutputStream have a constructor taking a  as argument
p69901
aVUse this constructor with  set to true
p69902
aVReading the javadoc helps finding the solution for simple problems like that
p69903
aVJava also has a tutorial for almost everything
p69904
aVGoogle for someSubject Java tutorial, and you'll find them
p69905
as(dp69906
g23
V571407
p69907
stp69908
a((dp69909
g2
(lp69910
VHTML files are static
p69911
aVThey can't display data dynamically
p69912
aVUse another JSP
p69913
aVshould be a servlet instead
p69914
aVJSPs are view components, used to generate HTML markup
p69915
aVServlets are controller components, used to contain Java code and, for example, insert and get data from the database
p69916
aVThe requests should that way:
p69917
aVGET request for ShowFormServlet
p69918
aVThe ShowFormServlet forwards to showForm
p69919
aVjsp, which displays the form
p69920
aVPOST request to InsertDataServlet to submit the form
p69921
aVThe servlet inserts data in the database and sends a redirect to ShowDataServlet
p69922
aVGET request to ShowDataServlet
p69923
aVThe ShowDataServlet gets the data from the database, stores them in a request attribute, and forwards to displayData
p69924
aVjsp
p69925
aVdisplayData
p69926
aVjsp generates HTML markup to display the data stored in the request attribute
p69927
aVThis is the MVC pattern
p69928
aVTo redirect, use
p69929
aVTo forward from a servlet to a JSP, use
p69930
as(dp69931
g23
V571407
p69932
stp69933
a((dp69934
g2
(lp69935
VNot a JAX-RS expert at all, so this is just a guess
p69936
aVHow could Jersey decide which method to invoke when a GET request comes in if you don't set
p69937
aVBoth methods answer to GET requests, on the same path, accept any media type, and produce the same media type
p69938
aVSo my guess is that Jersey can't decide (other than randomly) which method to call when a GET request comes in to this path, and thus refuses to start up
p69939
aVThe  annotation makes it call getSize when request has a JSON body (i
p69940
ag468
aVnever), and the other method in all the other cases (i
p69941
ag468
aValways)
p69942
as(dp69943
g23
V571407
p69944
stp69945
a((dp69946
g2
(lp69947
VReplace your  by a , and you'll see the exception appear, because you'll then ask the iterator to go to the next element after you've modified the list
p69948
aVThe Iterator won't throw an exception if it's not called
p69949
as(dp69950
g23
V571407
p69951
stp69952
a((dp69953
g2
(lp69954
VBecause  doesn't evaluate local and instance variables
p69955
aVIt looks for a page-, then request-, then session-, then application-scoped attribute named "x"
p69956
aVThe code above would work if you used
p69957
aVor, much cleaner since scriptlets should be avoided:
p69958
as(dp69959
g23
V571407
p69960
stp69961
a((dp69962
g2
(lp69963
VThe easiest way would be to make ExpensiveObject a really expensive object:
p69964
aVOtherwise, the chance of entering into a rece condition is very small, especially since one thread is started after the other one, and thus calls  after the other one
p69965
as(dp69966
g23
V571407
p69967
stp69968
a((dp69969
g2
(lp69970
VIt has nothing to do with parentheses
p69971
aVA varchar value must be surrounded by single quotes in SQL:
p69972
aVThe error message, which you didn't post, usually contains meaningful information
p69973
aVAlways read (and post) the complete and exact error message
p69974
as(dp69975
g23
V571407
p69976
stp69977
a((dp69978
g2
(lp69979
VThe Hibernate documentation says:
p69980
aVNo join, either implicit or explicit, can be specified in a bulk HQL query
p69981
aVSub-queries can be used in the where-clause, where the subqueries themselves may contain joins
p69982
aVis an implicit inner join between LocationTrade and Trade, so the query is invalid
p69983
aVYou'll have to rewrite it to something like the following:
p69984
aVOr you'll have to use a SQL query instead
p69985
as(dp69986
g23
V571407
p69987
stp69988
a((dp69989
g2
(lp69990
VThe URL of each of the links is exactly the same, and doesn't include any parameter
p69991
aVFor your code to work the URLs should be
p69992
aVand
p69993
aVI would use two different servlets instead: one which has the responsibility of dealing with the about page, and the other one that has the responsibility to deal with the contact page
p69994
aVIt doesn't change much if all they do is dispatch to a JSP, but if some data is needed to display in the pages, having a dedicated servlet for each page makes more sense
p69995
aVIt would also help having cleaner URLs, like  and
p69996
as(dp69997
g23
V571407
p69998
stp69999
a((dp70000
g2
(lp70001
VThis part populates the array
p70002
aVThe element at index 0 has the value 0, the element at index 1 has the value 1, etc
p70003
aVuntil the index 100 (included)
p70004
aVWithout this part, all the elements would have the value 0
p70005
as(dp70006
g23
V571407
p70007
stp70008
a((dp70009
g2
(lp70010
VTo implement the clone method, you simply do:
p70011
aVYou can of course customize the method to make a deeper copy if needed
p70012
aVCalling super
p70013
aVclone() is almost mandatory because, unless the class is final and thus can't be overridden, the  method must return an instance of the same class as the object on which it's called
p70014
aVSo simply creating a new instance and copy the state will work for this class, but not for all the subclasses
p70015
aVMoreover, you don't always have access to all the state contained in superclasses
p70016
aVIn short, you make the protected clone method of Object public
p70017
aVAnd the first thing that the  method does is (this is not he real code, but this is what the method does):
p70018
aVSo,  is just a marker interface to let the  method know that it must not throw an exception when called
p70019
aVThis is one of the most badly-designed parts of Java
p70020
aVUsually, you should prefer using a copy contructor instead of using
p70021
as(dp70022
g23
V571407
p70023
stp70024
a((dp70025
g2
(lp70026
VMy suggestion: avoid storing an XML string in the session and trying to parse it in the JSP
p70027
aVAdopt the MVC principles: parse the document using Java code, before storing it in the session
p70028
aVTransform the document into a Java bean and store this Java bean in the session instead of storing the XML string
p70029
aVThen use the JSTL core taglib and the JSP EL in the JSP to display the information stored in this Java Bean
p70030
as(dp70031
g23
V571407
p70032
stp70033
a((dp70034
g2
(lp70035
VThe problem is likely caused by the way you get a session
p70036
aVThe session you get is in no way linked to the Spring transaction manager, and what you're doing with it is done outside of the Spring transaction
p70037
aVYou should define a Spring-based session factory in your spring context, and inject it in your DAO, as explained in the documentation
p70038
as(dp70039
g23
V571407
p70040
stp70041
a((dp70042
g2
(lp70043
VIf it was public, everybody could use  and would complain because it's null
p70044
aVMaking it private forces them to use , which guarantees to return a non-null instance
p70045
aVIf it wasn't static, it would be an instance variable of Singleton, and you would thus need a Singleton instance to access the unique Singleton instance which doesn't make much sense
p70046
as(dp70047
g23
V571407
p70048
stp70049
a((dp70050
g2
(lp70051
VDivide the problem in two parts:
p70052
aVwrite a method that checks if a character is contained in an array
p70053
aVuse this method to test that every character of the first array is contained in the second one
p70054
aVAs soon as you find a character that is not contained in the second array, you can return false
p70055
aVAt the end of the loop, return true
p70056
as(dp70057
g23
V571407
p70058
stp70059
a((dp70060
g2
(lp70061
VWhat's wrong is the following:
p70062
aVAnd it's wrong for two reasons
p70063
aVmeans: this OneToMany is mapped using a join column (i
p70064
ag468
aVa foreign key) named
p70065
aVBut the join column  is not named idEmployees
p70066
aVidEmployees is the primary key of the Employee table
p70067
aVThe join column name is
p70068
aVPutting the right name would make the mapping correct for a unidirectional OneToMany association
p70069
aVBut the association is bidirectional, which leads to the second reason
p70070
aVIn a bidirectional association, there is no need (and it's a bug) to repeat the mapping information on both sides of the association
p70071
aVOne side (the many side) must be the owner of the association and define the mapping
p70072
aVThe other side must be the inverse side by simply saying: go see at the other side how this association is mapped
p70073
aVThis is done using the mappedBy attribute, which tells Hibernate the name of the field or property on the other side which is the owner of the association:
p70074
aVNote that LAZY is the default for toMany associations, so it's unnecessary to specify it
p70075
as(dp70076
g23
V571407
p70077
stp70078
a((dp70079
g2
(lp70080
VThe table is initialized with:
p70081
aVBut when the button is clicked, you modify the variable author_model:
p70082
aVThe initialization of the table should be
p70083
aVYou should also respect the Java naming conventions, and choose better names for your variables
p70084
as(dp70085
g23
V571407
p70086
stp70087
a((dp70088
g2
(lp70089
VUse :
p70090
as(dp70091
g23
V571407
p70092
stp70093
a((dp70094
g2
(lp70095
VWhat I think that means is that the given lines of code will throw an exception:
p70096
aVArrays are covariant: String[] extends Object[]
p70097
aVBut the actual type of the array is known at runtime, and an attempt to store an instance which is not of the right type throws an exception
p70098
as(dp70099
g23
V571407
p70100
stp70101
a((dp70102
g2
(lp70103
VThe usual way of solving this problem in an OO way is to use the visitor pattern:
p70104
aVAnd finally
p70105
aVThis is clean and everything, but it's a bit more difficult to understand than a simple instanceof based solution
p70106
aVIt has an advantage though: you can't forget handling a new Vehicle type: it will force you to implement the abstract  method, which will force you to add another method to the Visitor interface, which will force you to implement it in every visitor
p70107
as(dp70108
g23
V571407
p70109
stp70110
a((dp70111
g2
(lp70112
VThere is no standard tag to do that
p70113
aVSo you should do it in the controller, or create your own tag that does it and use this tag in the JSP
p70114
aVThis doesn't look like view logic (i
p70115
ag468
aVmarkup generation logic) to me, so the best place is probably in the controller
p70116
as(dp70117
g23
V571407
p70118
stp70119
a((dp70120
g2
(lp70121
VAn association must be between two entities
p70122
aVThe company should have a
p70123
aVBTW, you make it much harder than necessary
p70124
aVJust use
p70125
aVThere's no reason to wrap a single field into an embeddable class
p70126
as(dp70127
g23
V571407
p70128
stp70129
a((dp70130
g2
(lp70131
VUse the JSTL  tag for all your URLs:
p70132
aVit prepends the context path (whatever it is) to absolute URLs
p70133
aVit writes the session ID in the URL in case the browser doesn't accept cookies:
p70134
aVFor links, it also allows passing parameters to the URL, and encodes them properly (via the  inner tag)
p70135
as(dp70136
g23
V571407
p70137
stp70138
a((dp70139
g2
(lp70140
VQuote from the documentation:
p70141
aVIf you prefer to specify a java
p70142
aVutil
p70143
aVMap that contains all of the request parameters to be added to the hyperlink, use one of the following techniques:
p70144
aVSpecify only the name attribute - The named JSP bean (optionally scoped by the value of the scope attribute) must identify a java
p70145
aVutil
p70146
aVMap containing the parameters
p70147
aVSpecify both name and property attributes - The specified property getter method will be called on the bean identified by the name (and optional scope) attributes, in order to return the java
p70148
aVutil
p70149
aVMap containing the parameters
p70150
aVAs the Map is processed, the keys are assumed to be the names of query parameters to be appended to the hyperlink
p70151
aVThe value associated with each key must be either a String or a String array representing the parameter value(s), or an object whose toString() method will be called
p70152
aVIf a String array is specified, more than one value for the same query parameter name will be created
p70153
aVSupplmenting these two methods, you can nest one or more  tags to dynamically add parameters in a logic-friendly way (such as executing a for loop that assigns the name/value pairs at runtime)
p70154
aVThis method does not compete with the aforementioned; it will adds its parameters in addition to whatever parameters are already specified
p70155
aVYou can also use a regular HTML  tag and create the URL using the standard  tag from the JSTL
p70156
as(dp70157
g23
V571407
p70158
stp70159
a((dp70160
g2
(lp70161
V is a regex that means "1 char, whatever it is"
p70162
aVSo you're looking for the next char
p70163
aVSo the returned string contains a single char
p70164
aVSo attempting to get the char at index 1 is throwing this exception
p70165
aVTo get the next word, use
p70166
as(dp70167
g23
V571407
p70168
stp70169
a((dp70170
g2
(lp70171
VIt's not a bug
p70172
aVIt's a documented, expected behavior:
p70173
aVThis just serves as a hint for the actual transaction subsystem; it will not necessarily cause failure of write access attempts
p70174
aVA transaction manager which cannot interpret the read-only hint will not throw an exception when asked for a read-only transaction
p70175
as(dp70176
g23
V571407
p70177
stp70178
a((dp70179
g2
(lp70180
VAn instance, of course
p70181
aVPassing the class will force the  method to instantiate, using reflection, the Strategy object
p70182
aVThis will only work if all the classes agree on some conventions (like having a default constructor)
p70183
aVAnd it won't allow passing a strategy which has some state (like a caseSensitive flag, or a reference to another contextual object, or whatever)
p70184
aVI don't see how performance has anything to do with this
p70185
as(dp70186
g23
V571407
p70187
stp70188
a((dp70189
g2
(lp70190
VThe problem is caused by the circular reference, I think
p70191
aVThe photo has a reference (foreign key) to its car, and the car also has a reference to its cover photo
p70192
aVSo EclipseLink seems to insert the photo first, but since the car has not been inserted yet, the insert fails
p70193
aVI would simply persist and flush the user (and thus its cars and its photos), and then only, set the photo as the cover photo of the car:
p70194
aVSuch circular references are a bad idea in general
p70195
aVIn this case, the cover photo can at least be null
p70196
aVIf it was not the case, you couldn't enforce one of the foreign key constraints, or one of them would have to be deferred
p70197
aVAn alternative solution, if there aren't too many photos, would be to flag one of them as the cover photo using a boolean
p70198
as(dp70199
g23
V571407
p70200
stp70201
a((dp70202
g2
(lp70203
VYou're accessing a Swing component from a thread other than the event dispatch thread
p70204
aVThat is forbidden by the Swing threading policy
p70205
aVUse this code to update the progress bar from the background thread:
p70206
aVRead more about concurrency in swing in the official swing tutorial
p70207
as(dp70208
g23
V571407
p70209
stp70210
a((dp70211
g2
(lp70212
V must be an entity, and thus be annotated with , and not with , to be able to create an association to it
p70213
aVThen you should be able to use
p70214
as(dp70215
g23
V571407
p70216
stp70217
a((dp70218
g2
(lp70219
VIf you're using SVN 1
p70220
aV7, you can simply remove the  folder at the root of your working copy
p70221
aVFor previous versions, you can remove all the
p70222
aVsvn directories from all the folders, or use the Export command to create a copy of the project to another location, without the
p70223
aVsvn directories
p70224
as(dp70225
g23
V571407
p70226
stp70227
a((dp70228
g2
(lp70229
VRead the documentation of the select tag and of the options tag
p70230
aVThe select tag expects to find the selected value of the select box in a property
p70231
aVYou gave it  as the property, but the action form doesn't seem to have any  method
p70232
aVThe options tag gets options from a collection of values
p70233
aVThe place where it gets the collection depends on three attributes: collection, name and property
p70234
aVThe documentation says:
p70235
aVOnly property is specified - The value of this attribute is the name of a property of the ActionForm bean associated with our form, which will return the collection
p70236
aVThis means that the options tag looks for a method  in the action form that would return the array of values
p70237
aVIt doesn't seem you have such a method
p70238
aVThe documentation clearly explains how the tag works
p70239
aVIf you told us what you want to do (what do you want the select options to have as value and as labels, what is the property that contains the selected value), we could tell you what to use
p70240
as(dp70241
g23
V571407
p70242
stp70243
a((dp70244
g2
(lp70245
VTo communicate between a client and a server, a protocol needs to be well defined
p70246
aVThe client code blocks until a line is received from the server, or the socket is closed
p70247
aVYou said that you only receive something once the socket is closed
p70248
aVSo it probably means that the server doesn't send lines of text ended by an EOL character
p70249
aVThe  method thus blocks until such a character is found in the stream, or the socket is closed
p70250
aVDon't use readLine() if the server doesn't send lines
p70251
aVUse the method appropriate for the defined protocol (which we don't know)
p70252
as(dp70253
g23
V571407
p70254
stp70255
a((dp70256
g2
(lp70257
VgetObject() returns an object of the Java type associated with the column type
p70258
aVSo if it's a VARCHAR, you'll get a  (which extends Object)
p70259
aVIf it's a BIT, you'll get a Boolean (which extends Object), etc
p70260
aVEverything extends Object in Java
p70261
aVThat's what the method does and is documented to do:
p70262
aVThis method will return the value of the given column as a Java object
p70263
aVThe type of the Java object will be the default Java object type corresponding to the column's SQL type, following the mapping for built-in types specified in the JDBC specification
p70264
aVIf the value is an SQL NULL, the driver returns a Java null
p70265
as(dp70266
g23
V571407
p70267
stp70268
a((dp70269
g2
(lp70270
VThe solution is to have a sequence of releases that allows that
p70271
aVSuppose that the code, before the update, uses a plain-text column named A
p70272
aVAdd another column A_ENCRYPTED to the database
p70273
aVThe old code still uses A and ignores A_ENCRYPTED, so everything is fine
p70274
aVRelease a first update on three boxes which reads from A, writes to A and also encrypts the value and writes the result in A_ENCRYPTED
p70275
aVThe old code and the new code both read and write from A, so everything is fine
p70276
aVRelease this first update to the other three boxes
p70277
aVNow everybody writes to A and A_ENCRYPTED
p70278
aVExecute a script that encrypts everything in A and stores the result in A_ENCRYPTED
p70279
aVNow A and A_ENCRYPTED are coherent for all the rows, and continue being coherent since all the boxes write to both columns
p70280
aVNow release a second update to three boxes which reads from A_ENCRYPTED, and still writes to A and A_ENCRYPTED
p70281
aVThe other 3 boxes still work fine since A is always kept coherent with A_ENCRYPTED
p70282
aVDo the same release on the 3 other boxes
p70283
aVNow all the boxes read and write from/to A_ENCRYPTED
p70284
aVNow release a third update to 3 boxes that read and writes only from/to A_ENCRYPTED
p70285
aVDo the same release on the 3 other boxes
p70286
aVNow nobody uses the column A anymore
p70287
aVExecute a script which removes the column A
p70288
as(dp70289
g23
V571407
p70290
stp70291
a((dp70292
g2
(lp70293
VFirst of all, your naming is bad
p70294
aVEvery class is a class, so ending the name of a class with  is just noise
p70295
aVOn the contrary  doesn't mean anything
p70296
aVIf you must explain what SListClass stands for, then it means that the name is bad, and that you should choose another name, which doesn't need any explanation, like
p70297
aVThe users of your class shouldn't care how the list retains the information
p70298
aVIt should never have to pass a Node to any method
p70299
aVOnly a value
p70300
aVSo the following methods should be modified:
p70301
aV-->
p70302
aV-->  : the list knows what the head node is
p70303
aVIt makes no sense to pass it as argument
p70304
aV-->  : the list knows what the first node is
p70305
aVIt makes no sense to pass it as argument
p70306
aVOnce you get the API right, you'll see that everything will be much easier to figure out, because you won't confuse the actual head of the list with the unnecessary head passed as argument
p70307
as(dp70308
g23
V571407
p70309
stp70310
a((dp70311
g2
(lp70312
VThe RXTXcomm
p70313
aVjar must not be inside the jar file, but outside of it
p70314
aVRead the tutorial
p70315
as(dp70316
g23
V571407
p70317
stp70318
a((dp70319
g2
(lp70320
VThere are several solutions:
p70321
aVPass a mainFrame reference to the internal frame, and call a method of the main frame from the internal frame when the slider state changes
p70322
aVThis couples the internal frame to the main frame though
p70323
aVOr pass a reference to some interface (XValueChangeListener for example) from the main frame to the internal frame, and call the xValueChanged() method from the internal frame when x changes
p70324
aVThis decouples the internal frame from the main frame
p70325
aVYou could use the last solution with standard Java events if you want (like ChangeListener or PropertyChangeListener)
p70326
as(dp70327
g23
V571407
p70328
stp70329
a((dp70330
g2
(lp70331
VNot tested, but as I understand the documentation, you would just have to inject an object of type  in your controller, create and bind an Errors instance as explained in Add Error on GET METHOD Spring annotated controller, and invoke the validator's validate() method, passing the form and the Errors as argument
p70332
as(dp70333
g23
V571407
p70334
stp70335
a((dp70336
g2
(lp70337
VHibernate doesn't pass entity instances to the database
p70338
aVIt executes SQL queries returning (or passing) the state of the entities, using JDBC
p70339
aVSo the fact that the database is on a remote machine is irrelevant: Hibernate uses a JDBC driver to talk to the database, and entities are not serialized by Hibernate
p70340
aVIt can be necessary to make entities serializable if YOU want to serialize entities, but it's not necessary otherwise
p70341
as(dp70342
g23
V571407
p70343
stp70344
a((dp70345
g2
(lp70346
VThere is a problem in the above line
p70347
aVThe loop only executes if
p70348
aVBut  starts at 1
p70349
aVSo it never executes
p70350
aVBTW, you won't be able to use  to represent the factorial of , which is an incredibly large number, well beyond of the limit of int (which is )
p70351
aVUse BigInteger instead
p70352
as(dp70353
g23
V571407
p70354
stp70355
a((dp70356
g2
(lp70357
VA Date represents an instant in time, and doesn't care about the time zone and locale
p70358
aVYou only care about time zone and locale when you want to parse or format a date for a human (using SimpleDateFormat), or when you start comparing the date with some wall-clock value, wondering if the date is within a given month, day or hour, or adding days and taking daylight savings into account (and in this case you transform the date into a Calendar)
p70359
aVSo Date isn't inherently a less useful class than Calendar
p70360
aVIt just doesn't serve the same purpose
p70361
aVBoth are complementary
p70362
aVI would recommend using joda-time anyway, which is a much better API, but still has the same concepts of an instant, and of a zoned date time
p70363
as(dp70364
g23
V571407
p70365
stp70366
a((dp70367
g2
(lp70368
VYour mapping is wrong
p70369
aVA bidirectional association always has an owner side and an inverse side
p70370
aVYou made both sides the owner side
p70371
aVThe inverse side must not contain mapping information (join table, join column), and must be marked as the inverse side using the  attribute:
p70372
aVNote that you have several other problems with the code:
p70373
aVthe naming is bad
p70374
aVCars should be named Car
p70375
aVusername should be named user
p70376
aVuserCars should be named cars
p70377
aVthe username field shouldn't be public but private
p70378
aVthe annotations should always be on the fields, or always be on the getters
p70379
aVYou can't mix both placement types
p70380
aVIf you do, half of them will be ignored by Hibernate
p70381
as(dp70382
g23
V571407
p70383
stp70384
a((dp70385
g2
(lp70386
VThe hard part has been done already: implement the comparison algorithm
p70387
aVTo actually test it, just create some data set, in arbitrary order, containing strings starting with a  and strings starting with a digit, then invoke your sort algorithm, and check that the strings are in the expected order:
p70388
as(dp70389
g23
V571407
p70390
stp70391
a((dp70392
g2
(lp70393
VIf you want the string "2013-05-18" from the string "2013-05-18", you don't need any parsing at all
p70394
aVTo transform a date object into a string with a given format, use :
p70395
aVA Date object is just a wrapper around a long value holding a number of milliseconds
p70396
aVIts  method doesn't use the pattern you used to parse the string and create the Date object
p70397
as(dp70398
g23
V571407
p70399
stp70400
a((dp70401
g2
(lp70402
VGiven the error message, it seems like the actual code of the JSP uses  and not
p70403
aVBut more importantly, the reason why you found nothing when searching for an answer is that you're implementing your JSP like if nothing had changed in the JSP area for more than 10 years
p70404
aVand other  tags are completely obsolete
p70405
aVLearn how to use the JSP EL and the JSTL, and replace the code of the JSP by
p70406
aVThis will have the additional advantage of escaping the HTML special characters in the user name
p70407
as(dp70408
g23
V571407
p70409
stp70410
a((dp70411
g2
(lp70412
VDoing that is a very bad idea: your base class would call a methog of the subclass in its constructor, and would thus call a method on an object that hasn't been initialized yet
p70413
aVYou'd better pass all the data needed by the superclass in its constructor:
p70414
aVDoing how others suggest would completely break with such a basic implementation:
p70415
as(dp70416
g23
V571407
p70417
stp70418
a((dp70419
g2
(lp70420
VThe libraries shouldn't be at the same place as the source code
p70421
aVIf you don't want to use a build tool like Gradle yet, which would handle your library dependencies, then I suggest using the following layout:
p70422
aVTo compile, go in the project directory and execute the following command:
p70423
aVTo run your app, execute the following command:
p70424
as(dp70425
g23
V571407
p70426
stp70427
a((dp70428
g2
(lp70429
VGo to the JUnit web site: http://junit
p70430
aVorg/
p70431
aVThen click on "Download and install Guide" : https://github
p70432
aVcom/junit-team/junit/wiki/Download-and-Install
p70433
aVThen read:
p70434
aVDownload the following JARs and put them on your test classpath:
p70435
aVjunit
p70436
aVjar
p70437
aVhamcrest-core
p70438
aVjar
p70439
as(dp70440
g23
V571407
p70441
stp70442
a((dp70443
g2
(lp70444
VThe behavior you see is expected
p70445
aVHow could Hibernate know that some fields must be merged and some others must not
p70446
aVnull is a valid values for all fields, and setting fields to null by merging them is a perfectly valid operation
p70447
aVTo achieve your result, merge the fields that you want to merge explicitely:
p70448
as(dp70449
g23
V571407
p70450
stp70451
a((dp70452
g2
(lp70453
VYour method should be generic:
p70454
aVNote that I used standard collection classes, and standard Java naming conventions
p70455
as(dp70456
g23
V571407
p70457
stp70458
a((dp70459
g2
(lp70460
VAs the stack trace indicates, this exception is thrown because you're doing networking code (talking withg PostgreSQL) on the main UI thread
p70461
aVThis should be done on a background thread to leave the UI responsive
p70462
aVSee http://developer
p70463
aVandroid
p70464
aVcom/reference/android/os/NetworkOnMainThreadException
p70465
aVhtml
p70466
as(dp70467
g23
V571407
p70468
stp70469
a((dp70470
g2
(lp70471
VI'm not sure it's possible to get the swing component from a Document
p70472
aVBut the issue is easily solved: just add a different instance of the listener to every text field, and store the text field in the listener itself
p70473
as(dp70474
g23
V571407
p70475
stp70476
a((dp70477
g2
(lp70478
VThe exception says it all
p70479
aVYou must assign an ID to your entity before persisting it
p70480
aVSo just call a method that sets the value of  before calling
p70481
aVUnfortunately, you don't have any such method
p70482
aVThe only one that looks like such a setter is the following one:
p70483
aVBut, not only is it badly named (it should be called ), but it also has an obvious bug: it completely ignores its argument, and sets the value of  to the value it already has
p70484
aVGiven the mess that your getters and setters are, my advice would be:
p70485
aVremove them all
p70486
aVuse your IDE to regenerate them automatically
p70487
aVThe setter should be:
p70488
as(dp70489
g23
V571407
p70490
stp70491
a((dp70492
g2
(lp70493
VUse a java
p70494
aVutil
p70495
aVCalendar object to get the day, month and year of the date:
p70496
aVThen get the indices in your array using
p70497
as(dp70498
g23
V571407
p70499
stp70500
a((dp70501
g2
(lp70502
VFirst of all, Hibernate is an implementation of the JPA pecification, and is the default one in JBoss
p70503
aVSo you're using JPA, with Hibernate as the implementation
p70504
aVSecond, You get a LazyInitialization exception because you access a lazy-loaded collection, after having closed the session, without having initialized this collection while the session was still open
p70505
aVIf you have two lazy collections and you know that the client code needs both initialized, initialize them before returning the entity and closing the session (i
p70506
ag468
aVwhile you're still inside the transactional service method):
p70507
aVYou can fetch multiple toMany associations at once, but only one of them can be a bag (i
p70508
ag468
aVa Collection or a List)
p70509
aVI wouldn't advise eager collections generally
p70510
aVBut if you really want them, make them Sets instead of Collections
p70511
as(dp70512
g23
V571407
p70513
stp70514
a((dp70515
g2
(lp70516
VWe can't see the real code, but my guess is that it contains a static import:
p70517
aVor
p70518
aVA static import allows referring to a static field or method of a class without having to type the name of the class
p70519
aVSee http://docs
p70520
aVoracle
p70521
aVcom/javase/1
p70522
ag194
aV0/docs/guide/language/static-import
p70523
aVhtml for more details
p70524
as(dp70525
g23
V571407
p70526
stp70527
a((dp70528
g2
(lp70529
VYour ManyToOne is EAGER (by default)
p70530
aVYour OneToMany is also EAGER (you explicitely marked it so)
p70531
aVSo, when you get a child in your first line of code, JPA also loads its parent, and all the children of the parent
p70532
aVThen you delete the child, but you don't remove it from the parent's chidren
p70533
aVAnd since the parent's collection of children is already loaded, the deleted child is still in the collection
p70534
as(dp70535
g23
V571407
p70536
stp70537
a((dp70538
g2
(lp70539
V is a reserved MySQL keyword
p70540
aVChange the name of the table
p70541
as(dp70542
g23
V571407
p70543
stp70544
a((dp70545
g2
(lp70546
VHere are more details to help you avoid asking the same question for all the other commands:
p70547
aVPress Ctrl-shift-A, and search for the command you're looking for ("declaration") for example
p70548
aVThis finds the command "Declaration - Goto by Reference action - Ctrl-B"
p70549
aVSo you just need to put your cursor on the method you want to go to, and press Ctrl-B
p70550
aVYou can also Ctrl-click to achieve the same goal
p70551
aVThe most useful keyboard shortcuts are described in the Help - Tip of the day dialog box
p70552
aVRead them all
p70553
as(dp70554
g23
V571407
p70555
stp70556
a((dp70557
g2
(lp70558
VEven if two instances of your DTO contain exactly the same values, they will be considered different by the HashSet
p70559
aVTo be considered equal,  (and ) must return true
p70560
aVSo you must override the  method in your DTO in order to specify when two DTO instances are equal
p70561
aVAnd when you override , you must also override
p70562
aVTwo equal objects must have the same hashCode
p70563
aVRead the documentation of those two methods, and use your IDE to generate those two methods if you don't know how to implement them
p70564
as(dp70565
g23
V571407
p70566
stp70567
a((dp70568
g2
(lp70569
VA MappedSuperclass uses inheritance for field and code reuse
p70570
aVFor example, if you want all your entities to have a  and a  field, you could make them all extend a  class annotated with  containing these two fields, along with their getters, setters, etc
p70571
aVBut you would never have an entity having an association with a BaseEntity: the association would always be with a specific subclass of BaseEntity
p70572
aVA parent entity is used for "entity polymorphism"
p70573
aVFor example, you could imagine having two kinds of : an  and a
p70574
aVBoth would contain a source, a target, and a body
p70575
aVBut EmailMessage would have an email address and a subject, whereas SmsMessage would have a phone number
p70576
aVAnd you could imagine having a  entity containing a collection of sent messages, of type
p70577
aVThe collection would in fact contain instances of EmailMessage and of SmsMessage
p70578
aVHibernate would decide which one to instantiate depending on the inheritance strategy used for the inheritance mapping:
p70579
aVall the messages could be stored in the same table, and Hibernate would use a discriminator column containing the type of the message
p70580
aVthe EmailMessage could be stored in one table, and the SmsMessage stored in another one
p70581
aVor the fields common to both entities (source, target, body) could be stored in a comon table, the fields specific to EmailMessage in a second table, and the fields specific to SmsMessage in a third table
p70582
as(dp70583
g23
V571407
p70584
stp70585
a((dp70586
g2
(lp70587
VFirst of all, in the code you posted, the employee is not the owner of the association
p70588
aVIt would if the association was bidirectional, and if the OneToMany association is thus defined with a  attribute:
p70589
aV(note that I also made the field private
p70590
aVPublic fields should never be used)
p70591
aVRegarding the removal of a department: in my company, when a department is removed, all its employees are not automatically fired
p70592
aVThey could be assigned to another department, or even stay in the company without being affected to a department, but they're not deleted
p70593
aVI understand your application doesn't necessarily models the real world, but no, it is not necessarily rational to force the employees to be deleted when a department is deleted
p70594
aVNow, assuming the mapping is as above, yes, you can perfectly add a PERSIST cascade to the OneToMany association
p70595
aVCascades and ownership are orthogonal notions
p70596
aVIf you want the  operation to be cascaded from a department to its employees (ie
p70597
aVif you want to create employees when creating a department), then add this cascade
p70598
aVFor the association to be saved, since the owner side is Employee, the employee
p70599
aVdepartment field will have to be correctly initialized, though
p70600
as(dp70601
g23
V571407
p70602
stp70603
a((dp70604
g2
(lp70605
VThe  prefix means: look for this resource in the classpath
p70606
aVThe classpath of a webapp is composed of the WEB-INF/classes directory, and of all the jars unders WEB-INF/lib
p70607
aVSo put the file in your source folder, and IntelliJ will "compile" it by copying it to the target folder, along with the compiled classes
p70608
aVOr change the IntelliJ project configuration to make it copy this file to WEB-INF/classes in the generated (exploded) war
p70609
aVIf you're using the Maven conventional layout, it should be under
p70610
as(dp70611
g23
V571407
p70612
stp70613
a((dp70614
g2
(lp70615
VIf I understand correctly, the problem is not really to test the observer, but to test the result of an asynchronous method call
p70616
aVTo do that, create an observer which blocks until its update() method has been called
p70617
aVSomething like the following:
p70618
aVAnd in your test:
p70619
as(dp70620
g23
V571407
p70621
stp70622
a((dp70623
g2
(lp70624
VThe android build system doesn't use the standard Gradle Java plugin
p70625
aVIts documentation says:
p70626
aVAs mentioned previously, next to the main sourceSet is the androidTest sourceSet, located by default in src/androidTest/
p70627
aVAdditionally, the sourceSet can be configured to have its own dependencies
p70628
aVBy default, the application and its own dependencies are added to the test app classpath, but this can be extended with
p70629
as(dp70630
g23
V571407
p70631
stp70632
a((dp70633
g2
(lp70634
VYour assumptions are mainly wrong:
p70635
aVIn the same method call (so we are not talking detached entities etc here)
p70636
aVThe method is a method of the controller
p70637
aVIn typical Spring applications, controllers are not transactional, but services are
p70638
aVSo, unless you configured an "open session in view" filter or interceptor, the session is closed when the transactional service method returns, and the controller thus always uses detached entities
p70639
aVProfile
p70640
aVconnections do not actually explicitly state a fetchtype, so should default to eager load
p70641
aVNo
p70642
aVXxxToMany associations are lazy by default
p70643
aVIf the same code worked before the transition, my guess is that you had an open session in view filter or interceptor, and that you forgot it when migrating to annotations
p70644
as(dp70645
g23
V571407
p70646
stp70647
a((dp70648
g2
(lp70649
VYou don't seem to realize that HTML and HTTP don't work with objects
p70650
aVThey can only submit string parameters
p70651
aVYou should not build an app with JSPs only
p70652
aVJSPs are great to generate HTML
p70653
aVThe rest (getting parameters, validating them, retrieving and saving objects from/to the database, etc
p70654
aVshould be done using Java code, in a servlet, or in a controller of your preferred MVC framework
p70655
aVYou also shouldn't have to send a whole movie to the server to display it
p70656
aVThe movie is in the database, at server-side
p70657
aVAll the server needs to get from the client is the ID of the movie it must display
p70658
aVSo the app should work like this:
p70659
aVA request is sent to the ListMovies servlet
p70660
aVThe servlet searches the movies in the database, and stores the list of movies in a request attribute
p70661
aVThe servlet forwards to the listMovies
p70662
aVjsp
p70663
aVThe listMovies use the JSTL and the EL to iterate through the movies stored in the request attribute, and, for each of them, generates a link to
p70664
aVDOn't use a form containing just a button when a link should be used
p70665
aVThe user clicks on the link
p70666
aVA request is sent to the DisplayMovie servlet
p70667
aVThe servlet gets the value of the  parameter
p70668
aVIt finds the movie in the database using this ID, and stores it in a request attribute
p70669
aVThe servlet forwards to the displayMovie
p70670
aVjsp page
p70671
aVThe displayMovie
p70672
aVjsp page uses the JSTL and the EL to display the details of the movie
p70673
aVForget completely about jsp:useBean, jsp:setProperty and jsp:getProperty
p70674
aVThey belong to the past, and shouldn't be used anymore
p70675
aVAlso, the methods to execute queries against the database to get movies shouldn't be in the Movie class
p70676
aVThey should be in a  class
p70677
aVIt doesn't make much sense to instantiate a movie just to get other movies from the database
p70678
aVAnd an Entity's responsibility is not to query the database
p70679
as(dp70680
g23
V571407
p70681
stp70682
a((dp70683
g2
(lp70684
VThe property is , instead of
p70685
aVDDL = Data Definition Language
p70686
aVDLL = Dynamically Loaded Library
p70687
as(dp70688
g23
V571407
p70689
stp70690
a((dp70691
g2
(lp70692
VAs the javadoc indicates, the read() method reads a single char, and returns it as an int (in order to be able to return -1 to indicate the end of the stream)
p70693
aVTo print the int as a char, just cast it:
p70694
aVTo read everything, loop until you get -1, or read line by line until you get null
p70695
as(dp70696
g23
V571407
p70697
stp70698
a((dp70699
g2
(lp70700
VA Java library is a jar file containing classes and other resources
p70701
aVTo be available, at compile time and at runtime, this library (the jar file) must be present in the classpath
p70702
aVImports have nothing to do with libraries
p70703
aVImports are used to allow the source code to use short class names instead of fully qualified names
p70704
aVFor example, being able to code
p70705
aVinstead of
p70706
aVWhether you use an import or use the fully qualified name, the Java compiler or the Java runtime must be able to find the class in its classpath
p70707
aVIf the class is part of a library, then this library must be in the claspath
p70708
as(dp70709
g23
V571407
p70710
stp70711
a((dp70712
g2
(lp70713
VYou're calling  on  which is, obviously, null
p70714
aVThe context will only be initialized by Spring after the Triangle bean has been constructed, and after its  method has been called by Spring
p70715
aVOnly then, you can call  on the context
p70716
aVBTW, you're not doing dependency injection here
p70717
aVYou're doing dependency lookup, which is exactly what dependency injection frameworks like Spring are used to avoid
p70718
aVTo inject your point, just do
p70719
as(dp70720
g23
V571407
p70721
stp70722
a((dp70723
g2
(lp70724
VIt looks like you're using a relative file path to load the file
p70725
aVSo the actual result will depend on the directory from which the JVM executing your tests is started (it's "current" directory)
p70726
aVThis is generally a bad idea
p70727
aVIf the file is supposed to get bundled with the application, store it is src/main/resources and load it using the class loader:
p70728
aVIf it's a file used only by your tests, store it in src/test/resources, and load it using the class loader (same as above)
p70729
aVIf you really need to load it as a file, then ensure that the current directory is always the right one, or pass a system property telling the code what base directory it should use to create an absolute path
p70730
as(dp70731
g23
V571407
p70732
stp70733
a((dp70734
g2
(lp70735
VTest the value of the source:
p70736
aVOr add a specific listener to each slider, so that each listener is notified of the changes of just one slider:
p70737
as(dp70738
g23
V571407
p70739
stp70740
a((dp70741
g2
(lp70742
VInject the properties in your controller, and store it in the model:
p70743
as(dp70744
g23
V571407
p70745
stp70746
a((dp70747
g2
(lp70748
VUse polymorphism:
p70749
as(dp70750
g23
V571407
p70751
stp70752
a((dp70753
g2
(lp70754
VHibernate indeed chooses the most appropriate strategy depending on the dialect
p70755
aVSince HSQLDB supports identity columns, it uses this strategy
p70756
aVThis strategy supposes that the ID column is autogenerated by the database, and you didn't define it as such, so it doesn't work
p70757
aVDefine the column as , and everything should be fine
p70758
aVOr choose another generation strategy using a sequence or a table (that you'll aslo have to define in the database)
p70759
as(dp70760
g23
V571407
p70761
stp70762
a((dp70763
g2
(lp70764
VThe scope of log4j is :
p70765
aVSo it's available only at runtime, and not at compilation time
p70766
aVChange it to  (or remove it, since compile is the default)
p70767
as(dp70768
g23
V571407
p70769
stp70770
a((dp70771
g2
(lp70772
VI'll show it with a stupid simple example
p70773
aVLet's define a circle class:
p70774
aVNotice how the radius is a private field, that can't be accessed directly from the outside
p70775
aVThat's encapsulation
p70776
aVEncapsulation allows changing your mind after the class has been designed and used by other classes already, without breaking these other classes and clients:
p70777
aVThe state of the object is now represented differently
p70778
aVBut since this state is encapsulated into the object, and the interface (the public methods) of the object doesn't change, clients can still use the object as if nothing had changed
p70779
aVIf encapsulation was not used, and the radius field was public, you couldn't change the implementation of the class by removing the radius and replacing is with the diameter, because everybody already using the class would use the radius field
p70780
as(dp70781
g23
V571407
p70782
stp70783
a((dp70784
g2
(lp70785
VYou forgot to add an  annotation on  and
p70786
aVEDIT: And as @PepperBob says: the associations shouldn't be marked as insertable=false and updatable=false, since you precisely want to insert them
p70787
aVBut I would make my life much easier, and the application faster, by using a single-column, auto-generated primary key instead of a composite primary key
p70788
aVUse a unique constraint to guarantee that two rows with the same job ID and the same prozedur ID can't exist
p70789
as(dp70790
g23
V571407
p70791
stp70792
a((dp70793
g2
(lp70794
VWhat you want here is a Spy : a partially mocked object
p70795
aVYou want to test the real  method, but you want to stub the  method of the same object
p70796
aVSo the test should look like
p70797
aVIf you want to use annotations to let Mockito create the spy for you, then you can use the Spy annotation:
p70798
aVDon't forget to add a @Before method which calls
p70799
aVMockito is very well documented
p70800
aVRead the documentation
p70801
as(dp70802
g23
V571407
p70803
stp70804
a((dp70805
g2
(lp70806
VA HashMap can't be sorted
p70807
aVA TreeMap is sorted, but by keys, and not by values
p70808
aVIf you want to iterate over the entries of the map, sorted by their value, then I would simply copy all the entries to a list, sort this list as you want to, and iterate through the sorted list
p70809
as(dp70810
g23
V571407
p70811
stp70812
a((dp70813
g2
(lp70814
VHibernate uses the value of the field annotated with  (for optimistic locking), if present, to tell if an entity is transient or detached
p70815
aVYou could do the same
p70816
aVOtherwise, no, there's no way
p70817
aVA POJO is a POJO
p70818
aVAnd Hibernate uses the value of the primary key if no @Version field is present
p70819
as(dp70820
g23
V571407
p70821
stp70822
a((dp70823
g2
(lp70824
VYou could use the state pattern
p70825
aVEncapsulate the state and behavior depending on the boolean variable in a separate abstract  class
p70826
aVWhen the boolean is set to false, change the state to an instance of  (which extends ), and delegate to this  instance
p70827
aVWhen the boolean is set to true, change the state to an instance of , and delegate to this  instance
p70828
aVFor example, the following class
p70829
aVcould be refactored to
p70830
aVI used inner classes, but you could of course use top-level classes
p70831
as(dp70832
g23
V571407
p70833
stp70834
a((dp70835
g2
(lp70836
VSimply remove the last few lines:
p70837
aVThese lines force JPA to load the profile, load all its persons, and add the new person to the collection
p70838
aVIt's not needed, since the owner of the association is Person
p70839
aVThat said, if a profile has so many persons that it's a problem to load them all, the association should probably be modeled as a unidirectional ManyToOne association
p70840
as(dp70841
g23
V571407
p70842
stp70843
a((dp70844
g2
(lp70845
VFor the first problem: reshuffle the list each time you want to display a new line:
p70846
aVFor the second problem, don't use println(), but print(), since println() prints a new line:
p70847
aVNote that the standard idiom for looping in Java consists in starting from 0:
p70848
as(dp70849
g23
V571407
p70850
stp70851
a((dp70852
g2
(lp70853
V is used to specify the mapping of a basic type
p70854
aVTo specify the mapping of an association to another entity, you use a  (or a , depending on what you want):
p70855
as(dp70856
g23
V571407
p70857
stp70858
a((dp70859
g2
(lp70860
VThe source code of this method is
p70861
aVIn short, it writes to the JspWriter, and transforms an IOException into a JspException
p70862
aVThis shouldn't be too hard to reimplement by yourself
p70863
as(dp70864
g23
V571407
p70865
stp70866
a((dp70867
g2
(lp70868
VYour  method takes a checker as argument, but ignores it completely
p70869
aVIt calls , without any argument, which saves an empty checker containing an empty setter
p70870
aVSo the result is quite expected
p70871
aVFor the othe fields to be filled, you have to fill them
p70872
as(dp70873
g23
V571407
p70874
stp70875
a((dp70876
g2
(lp70877
VA method call on an object can't nullify the reference of this object in the caller
p70878
aVThe session is not null after the call, but it's invalidated
p70879
aVIf you try to get an attribute from the session after it has been invalidated,you'll get an IllegalStateException
p70880
aVIf the user sends a new request to the server, it will get a new session, since the old one has been invalidated
p70881
as(dp70882
g23
V571407
p70883
stp70884
a((dp70885
g2
(lp70886
VThe ForwardingSet implements the Set interface by forwarding, or delegating, all its methods to another Set
p70887
aVThis is the decorator pattern in action
p70888
as(dp70889
g23
V571407
p70890
stp70891
a((dp70892
g2
(lp70893
VThere are maybe other errors, but this line is invalid:
p70894
aVAlso, the resource should be
p70895
aVThe resource is a classpath resource, using forward slashes as path separator
p70896
as(dp70897
g23
V571407
p70898
stp70899
a((dp70900
g2
(lp70901
VThis is called a factory method
p70902
aVA factory method has many advantages over a constructor:
p70903
aVit has a name (and multiple factory methods may have different names)
p70904
aVit allows returning a cached instance instead of a new instance
p70905
aVit allows returning a subclass instance instead of the actual class
p70906
aVetc
p70907
as(dp70908
g23
V571407
p70909
stp70910
a((dp70911
g2
(lp70912
VYou mocked an instance of Bar, but this mocked Bar is never used in your test, since you test a separate instance: foo
p70913
aVCreating a mock Bar instance creates an object of a new, dynamically generated class, which overrides all the methods of the the Bar class
p70914
aVIt doesn't change the internal byte-code of the methods in the Bar class
p70915
aVWhat you need is a Spy, or a partial mock:
p70916
as(dp70917
g23
V571407
p70918
stp70919
a((dp70920
g2
(lp70921
VYou're trying to execute an HQL query, working on Hibernate entities, as a SQL query, using JDBC statements
p70922
aVThat doesn't make sense
p70923
aVHQL queries are executed by the Hibernate Session
p70924
aVNot by JDBC
p70925
aVIf you're using Hibernate, you don't need JDBC anymore (except maybe in some corner cases when you need raw JDBC performance, like batches)
p70926
aVRead the documentation about HQL query execution
p70927
aVYou'll also have to fix your query, because it doesn't seem right
p70928
aVIt contains  and also
p70929
aVIt also does a join using equality statements and selects from two entities, instead of simply using implicit or explicit joins
p70930
aVThose are also explained in the documentation
p70931
as(dp70932
g23
V571407
p70933
stp70934
a((dp70935
g2
(lp70936
VYou identified the problem, but didn't fix it: you shouldn't have two different join tables to hold the association between a TransportationEvent  and a Conclusion
p70937
aVYou should have a single one
p70938
aVYou haven't defined a single, bidirectional ManyToMany association, but two separate unidirectional ManyToMany associations
p70939
aVIn a bidirectional association, one side must always be the inverse side of the other side, which is the owner side
p70940
aVThe inverse side must have the  attribute
p70941
aVSo, if you choose TransportationEvent as the owner side, the mapping should be:
p70942
aVand
p70943
aVAnd now, to make an association disppear you must simply remove the conclusion from the list of conclusions of the event
p70944
aVIt's better to also remove the event from the list of events of the conclusion, to have a coherent object graph, but Hibernate doesn't care about the inverse side
p70945
aVOnly about the owner side
p70946
aVOnce the conclusion is removed from its event, it's not referenced anymore, and you can remove it from the database
p70947
as(dp70948
g23
V571407
p70949
stp70950
a((dp70951
g2
(lp70952
VThere is no absolute best practice
p70953
aVUse a bidirectional association when you want or need a bidirectional association, and a unidirectional when you want it unidirectional
p70954
aVSome associations should not be bidirectional
p70955
aVFor example, if an address can be an address of a user, or a consumer, or a vendor, or a contact, or whatever, having a reference to each of these entities in the address (all null except one) isn't a wise choice
p70956
aVOther than that, when two entities are tightly coupled, I generally make the association bidirectional to ease the development and the writing of the queries (as the Hibernate documentation says)
p70957
aVI also agree with the SO answer you linked to: be careful when you have a One to Very Many or Many to Very Many association
p70958
aVBut this association, if it's not the owner side, can also stay completely private to the entity (and thus never be loaded), just to help writing queries, but forbidding initializing the very large collection
p70959
aVTo have no problems with JPA, you "just" need to understand and think about what happens under the cover
p70960
aVWhen developing, turn SQL logging on and look at the queries being executed
p70961
as(dp70962
g23
V571407
p70963
stp70964
a((dp70965
g2
(lp70966
VWhy are you parsing the JSON stream to a JSON object, then transforming back the JSON object to a string, then transforming back this string to a MyObject
p70967
aVJust do the last part, and everything will be much faster, and use less memory
p70968
as(dp70969
g23
V571407
p70970
stp70971
a((dp70972
g2
(lp70973
VIf what you want is to process the whole result set, without returning anything, simply use a  (and one of the JdbcTemplate methods taking it as argument)
p70974
as(dp70975
g23
V571407
p70976
stp70977
a((dp70978
g2
(lp70979
VIf I understand correctly, you're trying to add an existing Institution, with the ID 2, to a new CreationDate
p70980
aVSince the Institution already exists, you shouldn't create a new one
p70981
aVYou should simply get it from the Hibernate Session:
p70982
as(dp70983
g23
V571407
p70984
stp70985
a((dp70986
g2
(lp70987
VI'd say that you should use a CyclicBarrier to make all the threads wait for each another
p70988
aVOther than that, to check their neighbor, just give each thread its index in the list, and the list itself, at construction time, so that each can lookup the value his neighbor have
p70989
aVThat said, I don't know what the goal is, but a single thread looping through the array would probably be much simpler and faster
p70990
as(dp70991
g23
V571407
p70992
stp70993
a((dp70994
g2
(lp70995
VTo read a resource that is in the same package as the class, use
p70996
aVReading it with the classloader looks it up at the root of the package tree (in the default package):
p70997
as(dp70998
g23
V571407
p70999
stp71000
a((dp71001
g2
(lp71002
VAssuming this is Spring's FileCopyUtils, its javadoc says:
p71003
aVAll copy methods use a block size of 4096 bytes, and close all affected streams when done
p71004
aV(emphasis mine)
p71005
aVSo your inital approach is perfectly fine in this case: Spring handles the closing of the Reader, and closing a Reader closes the wrapped stream
p71006
aVIf that wasn't the case, you would have to close the Reader, preferrably using Java 7's try with resources
p71007
aVNote that your second example, closes the stream but doesn't have to: closing the reader automatically closes it
p71008
aVAlso note that if the first reader can't be closed and throws an IOException, the second won't be closed correctly
p71009
aVAnother good reason to use try with resources, whic is guaranteed to close everything
p71010
as(dp71011
g23
V571407
p71012
stp71013
a((dp71014
g2
(lp71015
VThe first one is scoped to the request, so a new instance is created for each request
p71016
aVThe second one is scoped to the session, so a new one is created for each session
p71017
aVCDI doesn't pool and recycle the objects, because it has no idea if the objects are stateful or not, and you don't want, in a request, to get back the state that a bean had in a previous request
p71018
aVThat would ruin the whole point of the request/session scope
p71019
aVUnless beans are really costly to create (because they start a new connection or something like that), pooling them doesn't bring any advantage
p71020
aVShort-lived objects are very fast to create and garbage collect nowadays
p71021
aVAnd if the bean is really expensive to create, then it should probably be a singleton
p71022
as(dp71023
g23
V571407
p71024
stp71025
a((dp71026
g2
(lp71027
VDoing  (with  being en ) is an atomic operation
p71028
aVBut doing  is not an atomic operation because it requires a read of the value of a, an incrementation, and a write to a of the result
p71029
aVAs a result, if you used  to implement a thread-safe counter, you could have two threads reading the value concurrently (26 for example), then have both increment it and writing it concurrently, resulting in 27 as a result, instead of 28
p71030
aVAtomicInteger solves this issue by providing atomic operations like the ones you listed
p71031
aVIn my example, you would use  for example, which would guarantee the the end value is 28 and not 27
p71032
as(dp71033
g23
V571407
p71034
stp71035
a((dp71036
g2
(lp71037
VIt's a bad idea to create subclasses of the collections in the first place
p71038
aVStick with the standard implementations, and use composition rather than inheritance
p71039
aVNow to understand why this doesn't compile, here's why, with a short example
p71040
aVSuppose what you want to do is possible and compiles, you could then do:
p71041
aVAnd although RowList is supposed to hold instances of  only, you would then have a  inside, ruining the type-safety and correctness of the program
p71042
as(dp71043
g23
V571407
p71044
stp71045
a((dp71046
g2
(lp71047
VYou have optimistic locking configured on your entities, using an  annotated field
p71048
aVThe principle of optimistic locking is to only allow an update of a row if the version stored in the row has the same value as the one stored in the entity being merged
p71049
aVOtherwise, the exception you get is thrown
p71050
aVSo, if you want to bypass this check, you'll have to get the version from the entity to update, copy it to the detached entity being merged (as if you loaded this entity from the target database), and then merge the entity
p71051
as(dp71052
g23
V571407
p71053
stp71054
a((dp71055
g2
(lp71056
VBy default, Spring uses Java dynamic proxies to implement AOP when the bean implements an interface
p71057
aVThe easiest and cleanest way to solve your problem is to make program on interfaces, and inject theinterface insted of the concrete class:
p71058
aVSee http://static
p71059
aVspringsource
p71060
aVorg/spring/docs/3
p71061
ag12
aVx/spring-framework-reference/htmlsingle/#aop-proxying for how to force Spring to always use CGLib
p71062
as(dp71063
g23
V571407
p71064
stp71065
a((dp71066
g2
(lp71067
VIMHO, Runnable is a better type to use when taking as argument a function which
p71068
aVdoesn't have a returned value, but only side effects
p71069
aVmust handle exceptions, and not propagate them
p71070
aVDon't forget that  throws Exception
p71071
aVThat means that if you take a Callable as argument, this Callable can throw any kind of exception, and you must have a way to handle them all in a correct way
p71072
aVIf you can't do that, it's better to let the implementor of the Callable handle the exception as he wants to, and make the argument a Runnable to make that clear
p71073
as(dp71074
g23
V571407
p71075
stp71076
a((dp71077
g2
(lp71078
VYour question is not very clear
p71079
aVNeither Tomcat nor JPA comes with a database
p71080
aVYou're supposed to choose which database you want to use (PostgreSQL, MySQL, Oracle, DB2, HSQLDB, etc
p71081
aV, install it and configure a schema (and choose, during the installation, where the data must be stored), and then configure Tomcat and/or JPA with the URL of the database
p71082
aVIt looks like you're using a lightweight database that stores its data in the current directory, which happens to be the  directory because that's whare Tomcat is started from
p71083
aVThis is a situation that is specific to your choice of database and configuration, and not a standard situation at all
p71084
aVIf you want help on how to configure your database with Tomcat and JPA, tell us which database you're using, and show us the current configuration
p71085
as(dp71086
g23
V571407
p71087
stp71088
a((dp71089
g2
(lp71090
V is not an expression that has to be executed
p71091
aVIt's a syntax element in the source code that tells the compiler (and then the runtime) that the wrapped section of the code must only be executed after the lock associated with  has been acquired by the current thread, even if you don't "come from" the line of code before the synchronized block
p71092
aVreleases the lock, and must reacquire it before returning
p71093
as(dp71094
g23
V571407
p71095
stp71096
a((dp71097
g2
(lp71098
VYou didn't specify the language, but the documentation for Python says:
p71099
aVFor text strings longer than 500 characters (which are not indexed), use a Text instance
p71100
aVFor unencoded byte strings longer than 500 bytes (also not indexed), use a Blob instance
p71101
aVThe documentation for Java says
p71102
aVText string (short)   java
p71103
aVlang
p71104
aVString    Unicode     Up to 500 Unicode characters
p71105
aVValues longer than 500 characters throw IllegalArgumentException
p71106
aVText string (long)    com
p71107
aVgoogle
p71108
aVappengine
p71109
aVapi
p71110
aVdatastore
p71111
aVText     None    Up to 1 megabyte
p71112
aVNot indexed
p71113
aVIf you use another language, you should now be able to find the type to use in the documentation
p71114
as(dp71115
g23
V571407
p71116
stp71117
a((dp71118
g2
(lp71119
VIMHO, using a char array only gives you a false feeling of better security
p71120
aVIf someone has physical access to your computer and its memory, using a String or a char array won't make a huge difference
p71121
aVTo answer the questions you asked though
p71122
aVThe problem is not the pool of interned strings, because you won't intern your randomly generated strings
p71123
aVThe problem is that the STrings are immutable, and thus kept in memory until garbage-collected without any (sane) way of resetting their content
p71124
aVAll the elements of a char array can be reset to 0 after it's not needed anymore
p71125
aVRegarding the way to display a password without transforming it to a String, you could simply paint each char on a JComponent directly for example
p71126
aVBut if you're ready to display the password on a screen, thinking about the password staying somewhere hidden in the memory is quite contradictory to me
p71127
as(dp71128
g23
V571407
p71129
stp71130
a((dp71131
g2
(lp71132
VIf you retrieve the customer from the same transaction, then yes, it's expected behavior
p71133
aVThe reason is that the EntityManager returns the order it has in its first-level cache, and that you created yourself, without adding any order to its set of orders
p71134
aVIt's your responsibility to maintain the coherence of the object graph by maintaining the two sides of the association:
p71135
as(dp71136
g23
V571407
p71137
stp71138
a((dp71139
g2
(lp71140
VThe answer is in the question
p71141
aVYou shouldn't have any Java code in JSPs
p71142
aVThe corollary is that the less Java code you have in JSPs, the better it is
p71143
aVThis has nothing to do with performance though
p71144
aVA method is a method, and JSPs are compiled to classes that are just like your own classes, and run by the same JVM
p71145
aVThe important things here are clean design, maintainability, separation of responsibilities, ease to document, reuse and debug code
p71146
as(dp71147
g23
V571407
p71148
stp71149
a((dp71150
g2
(lp71151
VJPA implementations offer the possibility to create or update the schema automatically at startup, but this, IMO, should only be used during development, where data can be removed from the database without any problem
p71152
aVFor production, you would use a SQL migration script or even a migration program, or some tool like Liquibase, to update the schema and migrate the existing data to the new schema without losing anything
p71153
aVThis is something that you shoul think about, design and test carefully, and which can't be done magically by JPA
p71154
as(dp71155
g23
V571407
p71156
stp71157
a((dp71158
g2
(lp71159
VThis is the standard syntax for prepared statements, which expect parameters
p71160
aVSee the JDBC tutorial for more information about prepared statements
p71161
aVThey're a best practice to follow to correctly escape special characters, reuse the same query several times without recomputing the execution plan every time, and the most important: avoid SQL injection attacks
p71162
as(dp71163
g23
V571407
p71164
stp71165
a((dp71166
g2
(lp71167
VIf what you want is a "normalized" display, i
p71168
ag468
aVhave te max number of hours, then the max number of minutes, then the max number of seconds, I would simply store the duration as a number of seconds, and compute the number of hours/minutes/seconds it contains each time you want to format the duration:
p71169
aV(not tested, but you should get the idea)
p71170
aVNote that joda-time has a Duration class that could suit your needs
p71171
as(dp71172
g23
V571407
p71173
stp71174
a((dp71175
g2
(lp71176
VWhen you have an entity inheritance using the single table strategy, and you want the value of the discriminator column to be something other than the name of the class of the entity concrete class, or when the type of the discriminator column is not STRING
p71177
aVThis is explained, with an example, in the javadoc
p71178
as(dp71179
g23
V571407
p71180
stp71181
a((dp71182
g2
(lp71183
VThe location must be mapped with , and not with :
p71184
aVNote that this is not standard JPA though
p71185
aVTo make it standard, you would use
p71186
aVThese two mappings are explained in the documentation
p71187
as(dp71188
g23
V571407
p71189
stp71190
a((dp71191
g2
(lp71192
VIt looks like you're looking for a templating system like Apache Tiles or Sitemesh
p71193
aVThe alternatives are static JSP includes, dynamic JSP includes, and JSP tag files, which should all be described in you JSP book or tutorial
p71194
as(dp71195
g23
V571407
p71196
stp71197
a((dp71198
g2
(lp71199
Vwill the add() be able to add numbers to the list if doSomething() is invoked
p71200
aVNo, not until the thread invoking doSomething() leaves the synchronized block
p71201
aVWhat would happen if I instead used public synchronized void add() and public synchronized void doSomething()
p71202
aVAssuming these are the only places where the list is used, the effect would be the same
p71203
aVBut you would syncronize on the object containing the list rather than synchronizing on the list itself
p71204
aVBasically, all the accesses to a shared state must be synchronized on the same lock
p71205
aVYou choose the lock that you prefer
p71206
aVInstead of using a sychronized list, or synchronized methods, you could use a concurrent collection like a CopyOnWriteArrayList
p71207
as(dp71208
g23
V571407
p71209
stp71210
a((dp71211
g2
(lp71212
VNever compare objects with  (except enums)
p71213
aVtests if the two expressions refer to the same object
p71214
aVUse  instead, which tests if the two expressions refer to objects that are functionally equal (i
p71215
ag468
aVif the Strings have the same characters in this case)
p71216
as(dp71217
g23
V571407
p71218
stp71219
a((dp71220
g2
(lp71221
VSome quick tips out of my head
p71222
aVdon't use multiple threads (like Swing does, for example, by mandating that everything is done in the EDT)
p71223
aVdon't hold several locks at once
p71224
aVIf you do, always acquire the locks in the same order
p71225
aVdon't execute foreign code while holding a lock
p71226
aVuse interruptible locks
p71227
as(dp71228
g23
V571407
p71229
stp71230
a((dp71231
g2
(lp71232
VGiven the documentation of the for task, the default delimiter usedto split the string into tokens is
p71233
aVThis means that your list will contain two tokens:  and
p71234
aVSo your task copies all the files which end with
p71235
as(dp71236
g23
V571407
p71237
stp71238
a((dp71239
g2
(lp71240
VBecause the second one uses a correct schemaLocation declaration and the first one doesn't
p71241
aVThe specification for xsi:schemaLocation says:
p71242
aVThe schemaLocation attribute value consists of one or more pairs of URI references, separated by white space
p71243
aVThe first member of each pair is a namespace name, and the second member of the pair is a hint describing where to find an appropriate schema document for that namespace
p71244
as(dp71245
g23
V571407
p71246
stp71247
a((dp71248
g2
(lp71249
VYou should set the preferred viewport size of the tables using setPreferredScrollableViewportSize(Dimension)
p71250
as(dp71251
g23
V571407
p71252
stp71253
a((dp71254
g2
(lp71255
VYou defined the variables as local variables in the method
p71256
aVBy definition, local variables are
p71257
aVlocal
p71258
aVThey're visible only in the block here they're defined
p71259
aVTo be visible in  and in , they should be defined as fields of the class
p71260
aVAn alternative would be to use an anonymous inner class defined in the  method to defined your action listener, but given that you don't master variables yet, you'd better leave anonymous classes for a bit later
p71261
aVSwing is a complex framework, and you should probably do some more basic programming exercises before doing Swing
p71262
as(dp71263
g23
V571407
p71264
stp71265
a((dp71266
g2
(lp71267
VThere is probably nothing in your result set
p71268
aVUse
p71269
as(dp71270
g23
V571407
p71271
stp71272
a((dp71273
g2
(lp71274
VUnless some other jar file is in the classpath of the current thread(s classloader, before yours, and also contains a log4j
p71275
aVxml file at the root, your code will do what you expect it to do
p71276
aVTo get the other one you would use  as path
p71277
as(dp71278
g23
V571407
p71279
stp71280
a((dp71281
g2
(lp71282
VThe LazyInitializationException has nothing to do with deletion
p71283
aVYou're loading a Keyword in your controller
p71284
aVThis makes the service load the keyword, without initializing its lazy list of users
p71285
aVThis keyword is then returned to the controller, and the transaction is committed, and the session is closed, making the keyword detached from the session
p71286
aVThen you pass this detached keyword to the service to delete it
p71287
aVThe service thus receives a detached keyword, and tries to access its list of users
p71288
aVSince the keyword is detached and the list of users hasn't been loaded yet, this causes a LazyInitializationException
p71289
aVThe service method should take the ID of the keyword to delete as argument, load it, and thus work with an attached keyword, and then proceed with the deletion
p71290
aVNow to answer your question, you got it right for the user deletion: you remove all the keywords from the user to delete, because the user is the owner of the association
p71291
aVApply the same logic when deleting a keyword : remove the keyword from all the users referencing it, and delete the keyword:
p71292
aVNote that you don't have to call update() when working with attached entities
p71293
aVThe state of attached entities is automatically and transparently saved to the database
p71294
as(dp71295
g23
V571407
p71296
stp71297
a((dp71298
g2
(lp71299
VSomething like this should do it (not tested):
p71300
as(dp71301
g23
V571407
p71302
stp71303
a((dp71304
g2
(lp71305
VThe first error is likely caused by the fact that you chose  as the name of your table
p71306
aVbeing a reserved SQL keyword, the query is invalid
p71307
aVChoose another name (and don't choose ,  or  as the name :-))
p71308
as(dp71309
g23
V571407
p71310
stp71311
a((dp71312
g2
(lp71313
VLeave them on separate lines
p71314
aVThat makes the code more redable and doesn't force to scroll horizontally
p71315
aVUse your IDE find-replace tool with regexps to introduce the quotes
p71316
aVSomething like replace  with  (in Eclipse) or  (in IntelliJ IDEA)
p71317
as(dp71318
g23
V571407
p71319
stp71320
a((dp71321
g2
(lp71322
VBecause the compiler team at Oracle didn't bother implementing type inference for the second situation, but did it for the first situation (where the type can be inferred from the variable the expression is assigned to)
p71323
aVJava 8 comes with large improvements in terms of type inference, so I wouldn't be surprised if it compiled with the Java 8 compiler
p71324
as(dp71325
g23
V571407
p71326
stp71327
a((dp71328
g2
(lp71329
VThe transactional context used by Spring is stored in a thread-local variable
p71330
aVSo if you start a new thread, or execute code in another thread using a callable, this code won't be part of the transaction started by the Spring transactional aspect
p71331
aVThat's why your data doesn't appear in the database
p71332
as(dp71333
g23
V571407
p71334
stp71335
a((dp71336
g2
(lp71337
VIt all depends on what your singleton is
p71338
aVConsider this example:
p71339
aVis a singleton
p71340
aVBut it makes sense to serialize it when you serialize an apple
p71341
aVAnd when deserializing the apple, you want to get back the singleton empty list, and not a new copy of this singleton
p71342
as(dp71343
g23
V571407
p71344
stp71345
a((dp71346
g2
(lp71347
V is just syntactic sugra for
p71348
aVSo you just need to create an array of selections, and pas this array as argument to the  method
p71349
as(dp71350
g23
V571407
p71351
stp71352
a((dp71353
g2
(lp71354
VHere is an excerpt from the documentation:
p71355
aVAn @ModelAttribute on a method argument indicates the argument should be retrieved from the model
p71356
aVIf not present in the model, the argument should be instantiated first and then added to the model
p71357
aVOnce present in the model, the argument's fields should be populated from all request parameters that have matching names
p71358
ag7651
aVGiven the above example where can the Pet instance come from
p71359
aVThere are several options:
p71360
aVIt may already be in the model due to use of @SessionAttributes \u2014 see the section called \u201cUsing @SessionAttributes to store model attributes in the HTTP session between requests\u201d
p71361
aVIt may already be in the model due to an @ModelAttribute method in the same controller \u2014 as explained in the previous section
p71362
aVIt may be retrieved based on a URI template variable and type converter (explained in more detail below)
p71363
aVIt may be instantiated using its default constructor
p71364
aVSo your controller should have the following:
p71365
as(dp71366
g23
V571407
p71367
stp71368
a((dp71369
g2
(lp71370
VYou want to create a String
p71371
aVHow about looking at the javadoc of String, find the constructors, and finding this one:
p71372
aVString(char[] value, int offset, int count)
p71373
aVAllocates a new String that contains characters from a subarray of the character array argument
p71374
as(dp71375
g23
V571407
p71376
stp71377
a((dp71378
g2
(lp71379
VFirst of all, if you don't plan to ever serialize an instance of your class, there is no need to even think about serializing it
p71380
aVOnly implement what you need, and don't try to make your class serializable just for the sake of it
p71381
aVIf your object has a reference (directly of transitively) to any non-serializable object, and this reference is not marked with the  keyword, then your object won't be serializable
p71382
aVGenerally, it makes no sense to serialize objects that can't be reused when deserialized later or somewhere else
p71383
aVThis could be because the state of the object is only meaningful here and now (if it has a reference to a running thread, for example), or because it uses some resource like a socket, a database connection, or something like that
p71384
aVA whole lot of objects don't represent data, and shouldn't be serializable
p71385
as(dp71386
g23
V571407
p71387
stp71388
a((dp71389
g2
(lp71390
Vyou probably want
p71391
aVYour original code looks for a local variable named , and such a variable is not defined
p71392
aVThat said, you shouldn't have scriptlets in JSPs
p71393
aVUse the JSP EL:
p71394
as(dp71395
g23
V571407
p71396
stp71397
a((dp71398
g2
(lp71399
VNo
p71400
aVOf course the code being part of the transaction must be between the begin and the commit of the transaction
p71401
aVHere(s what the documentation says:
p71402
aVThe session/transaction handling idiom looks like this:
p71403
as(dp71404
g23
V571407
p71405
stp71406
a((dp71407
g2
(lp71408
VYou're probably looking for the optionsCollection tag:
p71409
aVRenders a set of HTML  elements, representing possible choices for a  element
p71410
aVThis tag can be used multiple times within a single  element, either in conjunction with or instead of one or more  or  elements
p71411
aVThis tag operates on a collection of beans, where each bean has a label property and a value property
p71412
aVThe actual names of these properties can be configured using the label and value attributes of this tag
p71413
as(dp71414
g23
V571407
p71415
stp71416
a((dp71417
g2
(lp71418
VYou can find an entity by ID using
p71419
aVWhen looking for an entity using something other than its ID, then you must create a query
p71420
aVTo get the person referencing the employee having a given mobile number (assuming only one exists), the query would be
p71421
aVTo get the address directly, the query would be
p71422
as(dp71423
g23
V571407
p71424
stp71425
a((dp71426
g2
(lp71427
VIt would call the child method if it overrode the parent method
p71428
aVBut it doesn't, since the parent method is private, and thus can't be overridden
p71429
aVWhen your intention is to override a method from a parent class or interface, you should always annotate the method with
p71430
aVIf you did, in this case, you would get an error from the compiler, since the child's method1 doesn't override any method
p71431
aVWhen the parent class is compiled, the compiler looks for the method1 in the Parent class
p71432
aVIt finds it, and sees that it's private
p71433
aVSince it's private, it knows that it's not overridable by any subclass, and thus statically binds the method call to the private method it has found
p71434
aVIf method1 was protected or public, the compiler would find the method, and know that the method could be overridden by a subclass
p71435
aVSo it would not statically bind to the method
p71436
aVInstead, it would generate bytecode that would look for method1 in the concrete class, at runtime, and you would then get the behavior you expect
p71437
aVThink about it: if a subclass could override a private method, the method wouldn't be private anymore
p71438
as(dp71439
g23
V571407
p71440
stp71441
a((dp71442
g2
(lp71443
VYes, of course it's possible
p71444
aVWhat would be the point of an ORM that you can't use for saving, deleting and updating entities
p71445
aVEntityManager has the persist(), merge() and remove() methods
p71446
aVThe way the tables are created is irrelevant
p71447
aVTables are tables and columns are columns
p71448
aVIf the fields, associations and mappings match with the tables and columns in the database, everything will run fine
p71449
aVThis is extremely basic stuff that you need to understand before even considering using JPA
p71450
aVRead a book or tutorial about JPA, because not understanding how it works won't lead you anywhere, and StackOverflow answers can't teach you that
p71451
as(dp71452
g23
V571407
p71453
stp71454
a((dp71455
g2
(lp71456
VOf course it does
p71457
aVIn the end, the Spring form tags are just helpers to generate standard HTML form input, textarea and select elements in an easier way
p71458
aVAnd the form is submitted as any other HTML form
p71459
aVSo if you have input fields with the appropriate names and submit it to your controller, the command object will be created and populated from the request parameters
p71460
as(dp71461
g23
V571407
p71462
stp71463
a((dp71464
g2
(lp71465
VYou get a null pointer exception because the list of books in the Bookshelf class is never initialized, and no book is ever added to it
p71466
aVIt's your responsibility to make the graph of objects consistent
p71467
aVA BookShelf should never have a null list of books
p71468
aVIt could have an empty list
p71469
aVAnd when you create a new book for a given bookshelf, you should also add the book to the bookshelf
p71470
aVChange your code to:
p71471
aVand
p71472
as(dp71473
g23
V571407
p71474
stp71475
a((dp71476
g2
(lp71477
VIt's quite simple: you never initialize the  field in  (which should be named Child, BTW)
p71478
aVis the owner of the association, and is the field that is mapped to the join column, so if it's null, the join column will be null
p71479
as(dp71480
g23
V571407
p71481
stp71482
a((dp71483
g2
(lp71484
VToast has two methods called , and both of them take a Context as first argument
p71485
aVis not a Context (I guess you want it to extend Activity, but it doesn't), so the code doesn't compile
p71486
as(dp71487
g23
V571407
p71488
stp71489
a((dp71490
g2
(lp71491
VThe problem is that you're reusing the same list to store the items:
p71492
aVHere,  contains the locations
p71493
aVBut now it doesn't contain anything anymore: you've just cleared it
p71494
aVAnd now  contains the items, just as , since both variables reference the same list
p71495
as(dp71496
g23
V571407
p71497
stp71498
a((dp71499
g2
(lp71500
VFirst of all,  is a Struts tag not a JSTL tag
p71501
aVThis tag simply generates a standard HTML input of type checkbox
p71502
aVAnd HTML checkboxes send their value as parameter value when they're checked, and don't send any parameter when they're unchecked
p71503
aVSo, since the default value of your form field is true:
p71504
aVif the checkbox is checked, it will be set to true by STruts
p71505
aVif the checkbox is unchecked, it won't be set to anything by Struts, and will thus keep its default value: true
p71506
aVThe default value of the  property should be false
p71507
aVThat way, if the checkbox is unchecked, it will keep its default value (false), which is correct
p71508
aVAnd if the checkbox is checked, it will be set to true, which is also correct
p71509
as(dp71510
g23
V571407
p71511
stp71512
a((dp71513
g2
(lp71514
VI don't think that's possible
p71515
aVAn alternative would be to map the join table as an entity (let's call is ), replace the ManyToMany by a OneToMany targetting a , and eager fetch this set
p71516
aVYou would thus have a loaded Set of ABJoin, each having a non-initialized proxy to a B
p71517
as(dp71518
g23
V571407
p71519
stp71520
a((dp71521
g2
(lp71522
VThat's what  does
p71523
aVPass it the new, detached entity, and it will merge its state to the old, attached entity
p71524
aVThe detached entity will stay detached, and the old one will stay attached, but have its state replaced by the state of the new, detached one
p71525
as(dp71526
g23
V571407
p71527
stp71528
a((dp71529
g2
(lp71530
VThere are many problems with this code, and I would suggest reading the official Java tutorials rather than the one you looked at
p71531
aVFirst of all, you shouldn't even try to run code that doesn't compile
p71532
aVOpen the Problems view in Eclipse, and don't even think about running your code if there is one compilation error listed in this view
p71533
aVThen read the compiler error message and try to understand them to fix them
p71534
aVThe problem here is that you're probably using a very, very old version of the JDK (pre Java 5), which doesn't automatically boxes primitives (double) into their wrapper type (Double)
p71535
aVDownload the latest version of the JDK, and configure eclipse to use this new version
p71536
aVBut there are other problems:
p71537
aVyou shouldn't create a new JOptionPane to invoke the static method showMessageDialog()
p71538
aVJust use JOptionPane
p71539
aVshowMessageDialog()
p71540
aVyou shouldn't use Swing outside of the event dispatch thread
p71541
aVGiven that you're a newbie, don't use Swing at all, and only yse System
p71542
aVout
p71543
aVprintln() calls to print values on the screen for now
p71544
as(dp71545
g23
V571407
p71546
stp71547
a((dp71548
g2
(lp71549
VErr, no, this is not how many-to-many associations are mapped
p71550
aVThe join table should not be mapped as an entity
p71551
aVYou should have just three entities :
p71552
aVIncident <-> Category <-> CategoryType
p71553
aVThe join tables should only be used to map the many-to-many associations, are described in the official documentation
p71554
as(dp71555
g23
V571407
p71556
stp71557
a((dp71558
g2
(lp71559
VThe translation of your SQL query is
p71560
aVSee the documentation to learn about HQL and joins
p71561
as(dp71562
g23
V571407
p71563
stp71564
a((dp71565
g2
(lp71566
VIf I understand correctly, you have two parallel lists, one containing times, and the other containing averages
p71567
aVAnd you would want the two lists to be sorted "in parallel"
p71568
aVYou'd better have a single list of objects, each object containing a date and an average, and sort that list as you want:
p71569
aVJava is an OO language
p71570
aVUse objects, and encapsulate behavior in these objects
p71571
as(dp71572
g23
V571407
p71573
stp71574
a((dp71575
g2
(lp71576
s(dp71577
g23
V571407
p71578
stp71579
a((dp71580
g2
(lp71581
VMocks created by Mockito are "smart"
p71582
aVThey don't do anything when a void method is called
p71583
aVThey return null when a method returning an object is called
p71584
aVThey return an empty collection when a method returning a collection is called
p71585
aVIf you want to verify that  and  have been called, use
p71586
aVThese two things are explained in the Mockito documentation, points 1 and 2
p71587
aVIn particular:
p71588
aVBy default, for all methods that return value, mock returns null, an empty collection or appropriate primitive/primitive wrapper value (e
p71589
aVg: 0, false,
p71590
aVfor int/Integer, boolean/Boolean,
p71591
as(dp71592
g23
V571407
p71593
stp71594
a((dp71595
g2
(lp71596
VThe documentation says:
p71597
aVBecause the list appears in the dialog's content area, the dialog cannot show both a message and a list and you should set a title for the dialog with setTitle()
p71598
as(dp71599
g23
V571407
p71600
stp71601
a((dp71602
g2
(lp71603
VYou haven't set the layout of the panel:
p71604
aVAnd, as already said in the comments, all the components have the same gridx and gridy, which is obviously not right
p71605
aVHere's a complete example which, if I understand correctly, does what you want:
p71606
as(dp71607
g23
V571407
p71608
stp71609
a((dp71610
g2
(lp71611
VYou use  to get the value of the user name text input, but this text input doesn't have the id
p71612
aVIt has the name
p71613
aVSo you actually want
p71614
aVor, more simply
p71615
aV(same for all the other fields, of course)
p71616
aVSide note: what's the point of catching an exception only to rethrow it
p71617
aVThis adds unnecessary lines to your code, and make it more difficult to identify the source of an exception
p71618
as(dp71619
g23
V571407
p71620
stp71621
a((dp71622
g2
(lp71623
V is a reserved SQL keyword (used in )
p71624
aVChange the name of the column you named "desc" (or escape it using backticks, but I would change the name to make it easier)
p71625
as(dp71626
g23
V571407
p71627
stp71628
a((dp71629
g2
(lp71630
VYou can't assign values to fields outside of the field declaration or a block (or constructor)
p71631
aVSo this line
p71632
aV(and the other similar ones) should be in the constructor, or the declaration should also initialize the field:
p71633
as(dp71634
g23
V571407
p71635
stp71636
a((dp71637
g2
(lp71638
VI'm not sure I understand the question, but specifying  and  at the same time is illogical
p71639
aVmeans that the ORM should pick the generation strategy it finds the most appropriate
p71640
aVAnd generator forces it to use a specific generator
p71641
aVSo they're contradictory
p71642
aVUse  instead of , since you want the ID to be generated using a table generator
p71643
as(dp71644
g23
V571407
p71645
stp71646
a((dp71647
g2
(lp71648
VThe entity class is not listed in your persistence
p71649
aVxml file:
p71650
as(dp71651
g23
V571407
p71652
stp71653
a((dp71654
g2
(lp71655
VLets' explain with an example:
p71656
aVDo you find the above contract easy to understand
p71657
aVOr wouldn't the following be better
p71658
aVYou could have a FrenchPeople, AmericanPeople and ChinesePeople implementation, but all are supposed to return the popuation for all three possible types of people
p71659
as(dp71660
g23
V571407
p71661
stp71662
a((dp71663
g2
(lp71664
VYou could use the standard support for service providers: ServiceLoader
p71665
aVYou would simply require each user of your library to provide an implementation of some interface, for example
p71666
aVThe name of the class implementing this interface would have to be specified in a file of the jar file of the user library named
p71667
aVAt runtime, your library would automatically discover all the message bundle providers using the following code:
p71668
aVDisclaimer: I know that ServiceLoader exists, but I've never used it before
p71669
aVIt's how all the standard Java service providers are discovered, though (like JDBC drivers, charset providers, etc
p71670
as(dp71671
g23
V571407
p71672
stp71673
a((dp71674
g2
(lp71675
VExtract all the jars of the lib folder to some temporary folder (using the unjar task), then create the engine
p71676
aVjar by adding this temporary folder as a fileset
p71677
aVJust like you would do it by hand
p71678
as(dp71679
g23
V571407
p71680
stp71681
a((dp71682
g2
(lp71683
VEach time you add a work to a user, which already exists in the database, you create a new User (although it already exists), assign it a set of work containing a single element, and then update the existing user with the new one
p71684
aVOf course, the result is that the existing set of works is replaced by the new one, which contains a single element
p71685
aVYou shouldn't create a new user, since it already exists in the database
p71686
aVInstead, get the existing user from the database, and add the new work to his set of works:
p71687
as(dp71688
g23
V571407
p71689
stp71690
a((dp71691
g2
(lp71692
VYes, of course:
p71693
aVNow pass any entity class having a persistent "name" property, and you'll get a list of the entity instances named Fido
p71694
as(dp71695
g23
V571407
p71696
stp71697
a((dp71698
g2
(lp71699
VYou probably use an old version of Hibernate, which required the in clause to be written as
p71700
as(dp71701
g23
V571407
p71702
stp71703
a((dp71704
g2
(lp71705
VYou should not call  in the  method
p71706
aVThis will block and wait until the worker has finished its computation
p71707
aVget() should only be called in the  method of your worker, when you're sure the worker has finished doing its computation, as shown in the example contained in the documentation
p71708
as(dp71709
g23
V571407
p71710
stp71711
a((dp71712
g2
(lp71713
VA Date is just the wrapper for a long, which contains a number of milliseconds
p71714
aVWhat you're seeing is the default  representation of the Date object, which uses your default timezone (IST) to transform the date into a readable string
p71715
aVIf you want the date represented as a string using the GMT timezone, just do what you did: use a date format with the GMT time zone
p71716
aVThe Date object represents an instant on the universal timeline, and doesn't have any timezone
p71717
as(dp71718
g23
V571407
p71719
stp71720
a((dp71721
g2
(lp71722
VYou're doing a lengthy operation in the event dispatch thread, which prevents it from doing its job (painting, and thus displaying the progress in the progress bar) until the lengthy operation is finished
p71723
aVDo this lengthy operation in a separate thread, using a SwingWorker for example
p71724
aVAnd read the Swing tutorial on concurrency to understand more about threads and swing
p71725
as(dp71726
g23
V571407
p71727
stp71728
a((dp71729
g2
(lp71730
VYou can't compare enums with strings or integers
p71731
aVThe persistent field is of type Status, which is an enum (or at least, let's suppose the type is Status, since you didn't specify the name of the enum class)
p71732
aVSo, what you must pass as argument for the collection in the  clause is a collection of Status
p71733
aVFor example:
p71734
as(dp71735
g23
V571407
p71736
stp71737
a((dp71738
g2
(lp71739
VYou're calling , but ignoring what it returns
p71740
aVThe current time thus stays as it was before
p71741
aVReplace your code with:
p71742
aVEDIT :
p71743
aVNot only do you ignore the value returned by , but  also always returns the same thing, since you're always reuse the month, minute, seconds, etc
p71744
aVthat have been initialized only once, when the panel has been constructed
p71745
aVYou're also making your life really difficult by not using the standard DateFormat class
p71746
aVRemove ALL the fields from your panel except the JLabel, and change the  method to something like this:
p71747
as(dp71748
g23
V571407
p71749
stp71750
a((dp71751
g2
(lp71752
VIf I understand correctly, the servlet is mapped to , and you want to generate a form that posts to this servlet from a JSP whose path is
p71753
aVSo use a relative URL:
p71754
aVor better, use an absolute URL, using the JSTL to make sure the context path of the webapp is prepended to the URL:
p71755
aVWithout the JSTL, you can also use
p71756
as(dp71757
g23
V571407
p71758
stp71759
a((dp71760
g2
(lp71761
V returns a Query
p71762
aVIt doesn't return the list of its results
p71763
aVYou forgot to execute the query:
p71764
aVAlso, you should use parameters instead of String concatenation:
p71765
aVOr, even simpler (and more efficient) since you're querying by ID:
p71766
as(dp71767
g23
V571407
p71768
stp71769
a((dp71770
g2
(lp71771
Vshould do it if the assets folder really is in the jar
p71772
aVFrom the image you posted, it isn't, since assets is not inside any source folder of your project
p71773
aVEclipse's runtime classpath is composed from all the jars in the build path of the project, and from the target directory where it puts the compiled classes and all the resources which are in the source directory
p71774
aVIf you don't put the assets folder in the source directory, Eclipse won't make it part of the runtime classpath
p71775
as(dp71776
g23
V571407
p71777
stp71778
a((dp71779
g2
(lp71780
VYou're passing the author criteria instead of passing the root criteria
p71781
aVThe code should be:
p71782
as(dp71783
g23
V571407
p71784
stp71785
a((dp71786
g2
(lp71787
VReading the specification, absolute-ordering is used to order the loading of web fragments, not of servlet filters
p71788
aVTo fix the ordering of your filters, see the accepted answer in the question you linked to
p71789
as(dp71790
g23
V571407
p71791
stp71792
a((dp71793
g2
(lp71794
VThe address in the browser is the address of the JSP, so the JSP is executed
p71795
aVTo execute the servlet, you have to put the address of the servlet in the address bar
p71796
as(dp71797
g23
V571407
p71798
stp71799
a((dp71800
g2
(lp71801
VChange the layout of the content pane of the frame to something other than BorderLayout, and add the panels where you want
p71802
aVYou should probably use a GridLayout of 1 column and 4 rows
p71803
aVSince you master the GridBagLayout for all your panels, you could also use a GridBagLayout for the content pane if you prefer
p71804
as(dp71805
g23
V571407
p71806
stp71807
a((dp71808
g2
(lp71809
V always returns one of , ,
p71810
aV, , whatever the locale is
p71811
aVAnd these are constants which are respectively 1, 2,
p71812
ag4314
aVSo if your boolean array starts at Monday (index 0) and ends at Sunday (index 6) you just need this:
p71813
as(dp71814
g23
V571407
p71815
stp71816
a((dp71817
g2
(lp71818
VUse  rather than , and make sure you don't reset the set to a null set when merging:
p71819
as(dp71820
g23
V571407
p71821
stp71822
a((dp71823
g2
(lp71824
VThis is at least the common way of doing in Java, and I guess it's the same in C#
p71825
aVIt makes the name more meaningful than , and uses the same name as the property to designate the same thing
p71826
as(dp71827
g23
V571407
p71828
stp71829
a((dp71830
g2
(lp71831
s(dp71832
g23
V571407
p71833
stp71834
a((dp71835
g2
(lp71836
VYou haven't initialized your array of buttons, so the following line throws the exception:
p71837
aVYour code lacks the following line:
p71838
as(dp71839
g23
V571407
p71840
stp71841
a((dp71842
g2
(lp71843
VYou didn't specify any name for the join column used to map your association, so Hibernate uses the default one, as specified in the JPA specification:
p71844
aVTo use  instead, you must tell Hibernate: it can't guess it:
p71845
aVAlso, an instance of Employees is a single employee, so the class should be named Employee, and not Employees
p71846
aVSame for Orders
p71847
aVAnd same for the property , which implies that the order has several employes, although it has only one
p71848
aVThe property should be named :
p71849
as(dp71850
g23
V571407
p71851
stp71852
a((dp71853
g2
(lp71854
VThrowing an InterrupedException doesn't set the interrupt flag
p71855
aVAnd catching it doesn't clear it
p71856
aVAnd  is a static method, which tells if the current thread is interrupted
p71857
aVMoreover, testing if a thread is interrupted after it has been joined will always return false because  clears the interrupt flag
p71858
as(dp71859
g23
V571407
p71860
stp71861
a((dp71862
g2
(lp71863
VThis code relies on an implementation detail that was not documented before Java 7, and now is (in the documentation of the  method), but with the following words:
p71864
aVAs a thread terminates the this
p71865
aVnotifyAll method is invoked
p71866
aVIt is recommended that applications not use wait, notify, or notifyAll on Thread instances
p71867
aVSo I don't know where this question was asked, but it really tests if you know the hidden corner-cases of threading, that you should never use in any sane program
p71868
as(dp71869
g23
V571407
p71870
stp71871
a((dp71872
g2
(lp71873
VNo
p71874
aVJPA won't return you entities that don't match the reality of the database
p71875
aVIf a QuestionSet has 4 questions in the database, the QuestionSet entity will have 4 questions
p71876
aVIf you only want some questions, then select the questions you're interested in, and navigate to their question set
p71877
aVOr execute the following query, which will return the matched question sets, and the matched questions:
p71878
as(dp71879
g23
V571407
p71880
stp71881
a((dp71882
g2
(lp71883
VIt is documented since Java 7, in the documentation of the join() method:
p71884
aVAs a thread terminates the this
p71885
aVnotifyAll method is invoked
p71886
aVIt is recommended that applications not use wait, notify, or notifyAll on Thread instances
p71887
as(dp71888
g23
V571407
p71889
stp71890
a((dp71891
g2
(lp71892
VThe documentation for Example queries says:
p71893
aVVersion properties, identifiers and associations are ignored
p71894
aV(emphasis mine)
p71895
as(dp71896
g23
V571407
p71897
stp71898
a((dp71899
g2
(lp71900
VRight click on a file in your Eclipse project explorer, then click "Properties
p71901
aVand you'll have the path of the file in the file system
p71902
as(dp71903
g23
V571407
p71904
stp71905
a((dp71906
g2
(lp71907
VIs this a normal requirment
p71908
aVYes
p71909
aVNothing in your webapp should depend on the value of the context path
p71910
aVIt's actually quite simple to support any context path: systematically prepend the context path to every URL your app produces
p71911
aVIn JSP files, use the  tag (or similar) to generate URLs
p71912
aVIn JS files, use URLs passed from the JSP pages, or use a global variable set in theJSP file and containing the context path to generate the URLs
p71913
aVIn Java files, use  to get the context path and prepend it to URLs
p71914
aVIn CSS files, use relative paths
p71915
as(dp71916
g23
V571407
p71917
stp71918
a((dp71919
g2
(lp71920
V expects a HQL query
p71921
aVIf you want to execute SQL, use
p71922
as(dp71923
g23
V571407
p71924
stp71925
a((dp71926
g2
(lp71927
VSince you're using escape entities in your Spring XML file, the actual pattern that is passed to the compile() method is not
p71928
aVbut
p71929
aVIf you want to pass the first pattern, you'll have to escape the ampersand:
p71930
as(dp71931
g23
V571407
p71932
stp71933
a((dp71934
g2
(lp71935
VThe ID is only automatically generated if it's annotated with
p71936
aVBut it isn't
p71937
aVEDIT:
p71938
aVAs explained in the documentation, the standard and recommended way to have the child entity share the ID of its parent entity is the following:
p71939
as(dp71940
g23
V571407
p71941
stp71942
a((dp71943
g2
(lp71944
VThe problem is not the choice of Java 7 vs
p71945
aVanother version of the JDK
p71946
aVThe problem is: which version of the servlet API specification do you want to use in your webapp
p71947
aVThis choice of course also has an impact on the servlet container you'll be able to use
p71948
aVFor example, if you choose servlet 3
p71949
aV0, you will have to use Tomcat 7, and not Tomcat 6
p71950
aVSo, first choose which version of the API (and thus container) you want to use, then add the corresponding jar to your project, and build with this jar in your classpath
p71951
aVJust make sure NOT to add this jar file in the WEB-INF/lib folder of your deployed webapp
p71952
aVThe jar should only be used for compiling
p71953
aVAt runtime, the container already has this jar in its own classpath
p71954
as(dp71955
g23
V571407
p71956
stp71957
a((dp71958
g2
(lp71959
VPass a Callable to the constructor instead of passing a Runnable, and you won't have to catch the exception anymore:
p71960
aV(but the generic type of the FutureTask should be  rather than )
p71961
aVIf a ResponseException is thrown by , the  method of the FutureTask will throw an ExecutionException, and the cause of this exception will be the ResponseException
p71962
aVThat said, shouldn't you simply submit the Callable to an ExecutorService, and let it create a Future for you
p71963
aVAlso try to respect the Java naming conventions, and remove the throws clause from your method, since it doesn't throw any exception
p71964
aVThe naming is also bad: your method doesn't send anything
p71965
aVIt only creates a FutureTask which, when executed, will send an event
p71966
as(dp71967
g23
V571407
p71968
stp71969
a((dp71970
g2
(lp71971
VYes, it is possible
p71972
aVAnd yes, it's a good idea
p71973
aVThe documentation says:
p71974
aVFor distributed transactions across multiple Hibernate session factories, simply combine JtaTransactionManager as a transaction strategy with multiple LocalSessionFactoryBean definitions
p71975
aVEach DAO then gets one specific SessionFactory reference passed into its corresponding bean property
p71976
aVIf all underlying JDBC data sources are transactional container ones, a business service can demarcate transactions across any number of DAOs and any number of session factories without special regard, as long as it is using JtaTransactionManager as the strategy
p71977
ag7651
aVHibernateTransactionManager can export the Hibernate JDBC Connection to plain JDBC access code, for a specific DataSource
p71978
aVThis capability allows for high-level transaction demarcation with mixed Hibernate and JDBC data access completely without JTA, if you are accessing only one database
p71979
aVHibernateTransactionManager automatically exposes the Hibernate transaction as a JDBC transaction if you have set up the passed-in SessionFactory with a DataSource through the dataSource property of the LocalSessionFactoryBean class
p71980
aVAlternatively, you can specify explicitly the DataSource for which the transactions are supposed to be exposed through the dataSource property of the HibernateTransactionManager class
p71981
aVSo, if you're in a full-stack Java EE container supporting JTA transactions and DataSources, use a DataSource defined in your Java EE container and a JTATransactionManager
p71982
aVIf you'e in a simple web container such as Tomcat, use a Spring-provided DataSource and a HibernatTransactionManager
p71983
as(dp71984
g23
V571407
p71985
stp71986
a((dp71987
g2
(lp71988
VThe error message is quite clear: JAVA_HOME doesn't point to a JDK
p71989
aVSet the JAVA_HOME environment variable to point to a JDK, and not a JRE
p71990
aVWhy do you think changing the environment of the ant runtime would have any impact on Gradle
p71991
as(dp71992
g23
V571407
p71993
stp71994
a((dp71995
g2
(lp71996
VUse
p71997
aVto force the generic type
p71998
aVOr, to let the compiler infer it:
p71999
as(dp72000
g23
V571407
p72001
stp72002
a((dp72003
g2
(lp72004
VThe properties file is at the root of the jar file
p72005
aVSo its basename is not , but simply :
p72006
aVYou would use  as the base name if the path of the file in the jar was
p72007
as(dp72008
g23
V571407
p72009
stp72010
a((dp72011
g2
(lp72012
VInstead of reading the values from a static Spring configuration file, read them at runtime from the database
p72013
aVWhen you want to change the values, you change them in the database, and the code reads the new values immediately without having to redeploy the application
p72014
aVYou should only use configuration files for purely static values, that are chosen at deployment time and never change afterwards
p72015
as(dp72016
g23
V571407
p72017
stp72018
a((dp72019
g2
(lp72020
VSpring beans happen to have "bean" in their name, but they're not really related to Java beans
p72021
aVA property of a Spring bean is the same as a property of any other Java object: something which is optionally readable through a getter and optionally writable through a setter
p72022
aVWhether the object is a spring bean or not doesn't change the definition
p72023
as(dp72024
g23
V571407
p72025
stp72026
a((dp72027
g2
(lp72028
VThe default strategy of entity inheritance is to store every field of every entity in the same table
p72029
aVSo your mapping doesn't make sense, since you speciy a different table on the sub-entity
p72030
aVFirst choose the inheritanc strategy you want to use, and then annotate your classes accordingly
p72031
aVThe 3 inheritance strategies are defined and explained in the documentation
p72032
aVThat said, if the goal is to have a product and additional detailed information information about this product, you shouldn't use inheritance, but have a OneToOne association instead
p72033
as(dp72034
g23
V571407
p72035
stp72036
a((dp72037
g2
(lp72038
VTrying to store arbitrary numbers in a Stack can't possibly work, since a Number could be something other that an Integer
p72039
aVSo your example doesn't make much sense
p72040
aVYou would use super when the object asts as a consumer, i
p72041
ag468
aVwhen instances of the generic type of the object are passed as arguments to methods of the object
p72042
aVFor example:
p72043
aVIn this example, the sort method takes T instances from the collection, and passes them as argument to the  of the comparator
p72044
aVContrast this to your first example, where the Iterable  is a producer
p72045
aVThe  method calls a method of the Iterable which roduces (i
p72046
ag468
aVreturns) instances of T
p72047
aVIn this case, the iterable is a producer, hence the use of
p72048
as(dp72049
g23
V571407
p72050
stp72051
a((dp72052
g2
(lp72053
Vyes, or event just one
p72054
aVIt's also the ability of committing the transaction at the end, and thus have the other concurrent transaction only see the new state after the transaction has been committed, and not all the temporary states between the beginning and the end of the transaction (i
p72055
ag468
aVthe I in ACID)
p72056
aVNo
p72057
aVAn update is an update
p72058
aVIt's executed as part of the transaction that you begun previously
p72059
aVIf one of them doesn't succeed, you'll have an exception, and can still choose to commit the transaction (i
p72060
ag468
aVhave all the previous updates committed), or to rollback the transaction (i
p72061
ag468
aVhave all the previous updates canceled)
p72062
aVThe UserTransaction has a reference to its transaction manager, presumably
p72063
aVWhen you get a connection from a DataSource in a Java EE environment, the DataSource is linked to the transaction manager of the Java EE container, and rollbacking the JTA transaction will use the XA protocol to rollback all the operations done on all the data sources during the transaction
p72064
aVThat's the container's business, not yours
p72065
as(dp72066
g23
V571407
p72067
stp72068
a((dp72069
g2
(lp72070
VIf a base class or interface implements Serializable, it forces every subclass or implementation, to fulfill the contract of the superclass or interface, to make sure that the subclass or implementation is also serializable
p72071
aVThat prevents any implementation to add fields that are non transient and not serializable to their implementation, for example
p72072
as(dp72073
g23
V571407
p72074
stp72075
a((dp72076
g2
(lp72077
VIf the join table has other columns than just the two foreign keys, then it's not a join table anymore, but an entity in itself
p72078
aVYou should thus have an additional Participation entity, containing the information about the participation of a user in a department, and have a OneToMany between User and Participation, and a OneToMany between Department and Participation
p72079
aVTreat the Participation entity like all the other entities: it should have a single-column auto-generated ID, and two join columns
p72080
aVTo make sure the same user doesn't participate twice for the same department, add a unique constraint on
p72081
as(dp72082
g23
V571407
p72083
stp72084
a((dp72085
g2
(lp72086
VYou're using Spring JDBC, Spring transactions, but Guice for DI
p72087
aVWhy
p72088
aVYou're making things much more complex than needed
p72089
aVYour objects are probably not Spring beans, since Spring doesn't create and inject them, so  has no effect: Spring doesn't create and inject the objects, so it doesn't create and inject transactional proxies, so the annotation is never used by anything
p72090
as(dp72091
g23
V571407
p72092
stp72093
a((dp72094
g2
(lp72095
VIf you make it a relative path, and use  to access the directory, it will be relative to the directory from which your container is started
p72096
aVYou can do it, but except for making it more difficult to know where the files are actually stored, and for risking to look at the wrong place because the container is started from elsewhere, I don't really see the point
p72097
aVIf waht you plan to do is storing the uploaded files in the directory of the deployed webapp, then you should definitely not do that, as a redeploy of the webapp will remove all the uploaded files
p72098
aVTreat the webapp directory as read-only
p72099
as(dp72100
g23
V571407
p72101
stp72102
a((dp72103
g2
(lp72104
VStore the selected file in an attribute of the object defining these two actions
p72105
as(dp72106
g23
V571407
p72107
stp72108
a((dp72109
g2
(lp72110
VThis is how a disjunction is translated to SQL
p72111
aVSee the javadoc for disjunction()
p72112
aVCreate a disjunction (with zero disjuncts)
p72113
aVA disjunction with zero disjuncts is false
p72114
aVSo, when an empty disjunction is created, it only contains the clause  (false)
p72115
aVWhen additional predicates are added to the disjunction, they're simply added to the initial (false) one, separated with an :
p72116
aVIf you use a conjunction, it will be translated to
p72117
as(dp72118
g23
V571407
p72119
stp72120
a((dp72121
g2
(lp72122
VBecause if it printed it, another developer would ask why it cripples the output of the program with unwanted stack traces, and reduces the throughput drastically by writing the stack traces to a synchronized PrintStream
p72123
aVIf you want the exceptions to be printed, then print them by yourself
p72124
aVNothing prevents you from doing it
p72125
aVThe answer you got shows how to do that
p72126
aVYou could also wrap all your runnables with another runnable that catches the runtime exceptions, prints them when they are thrown, and rethrow them
p72127
as(dp72128
g23
V571407
p72129
stp72130
a((dp72131
g2
(lp72132
VFirst of all, in a bidirectional association, there is always an owner side, which defines the mapping, and an inverse side, marked by the presence of the  attribute
p72133
aVIn a OneToMany association, the owner side is always the many side (PartRelease in your case)
p72134
aVMoreover, a join column, by default, references the ID of the entity it references
p72135
aVSince it's not what you want, you have to specify the referenced column name
p72136
aVAnd of course, the RELEASES column must be mapped:
p72137
aVAssociations are well described in the documentation
p72138
aVYou should read it
p72139
as(dp72140
g23
V571407
p72141
stp72142
a((dp72143
g2
(lp72144
VYour code is subject to deadlock
p72145
aVIf a thread calls  while another thread calls , you'll have a deadlock
p72146
aVYou must make sure that you always lock your accounts in the same order
p72147
aVFor example, assuming all the accounts are identified by a unique ID,
p72148
aVAnother big problem is that you access the balance of an account using a public field
p72149
aVPublic fields should almost never be used, and especially not when an object is accessed by multiple threads
p72150
aVUse accessor methods, and make sure they're properly synchronized, or another thread won't see the new balances after the swap
p72151
aVEvery shared state must always be accessed in a synchronized way
p72152
aVBut the first thing to do with your code is to make it compile, and respect the Java naming conventions
p72153
as(dp72154
g23
V571407
p72155
stp72156
a((dp72157
g2
(lp72158
VYou didn't show any code, but I can guess two problems:
p72159
aVYou're using GET to post a form which creates something in the database
p72160
aVYou should be using POST
p72161
aVIf you did that, you would at least get a warning from the browser when refreshing the page
p72162
aVYou don't redirect to the list page, but you forward to it
p72163
aVSo when you refresh, the form is resubmitted and the object is recreated
p72164
aVUse the post-redirect-get pattern to solve this issue
p72165
as(dp72166
g23
V571407
p72167
stp72168
a((dp72169
g2
(lp72170
VThe message explains it: the first mandatory sub-element of  is
p72171
aVAnd you don't have any  sub-element in your file
p72172
aVThe documentation has an example, and says:
p72173
aVUse the  element to declare the primary key / foreign key column
p72174
as(dp72175
g23
V571407
p72176
stp72177
a((dp72178
g2
(lp72179
VThe association is "mappedBy"
p72180
aVThis means that Hibernate only considers this side of the association (the owner side), and ignores the other side (the inverse side)
p72181
aVBut your code only initializes the inverse side, and neglects to initialize the owner side
p72182
aVThe association is thus not persisted in the database
p72183
aVYou need this line in your DAO:
p72184
as(dp72185
g23
V571407
p72186
stp72187
a((dp72188
g2
(lp72189
VNo
p72190
aVThe garbage collector doesn't count references to know is an object is collectable or not
p72191
aVAn object is collectable if it's not reachable any more through a chain of strong references from any root (static variable, or running thread)
p72192
as(dp72193
g23
V571407
p72194
stp72195
a((dp72196
g2
(lp72197
VAFAIK, the almost standard library is com
p72198
aVgoogle
p72199
aVcode
p72200
aVfindbugs:jsr305
p72201
aVIt's the one used by Guava, for example
p72202
aVAnd it's supported by FindBugs, which is probably the most used byte-code analysis tool
p72203
aVIntelliJ supports those annotations as well
p72204
as(dp72205
g23
V571407
p72206
stp72207
a((dp72208
g2
(lp72209
VFirst of all, you can simply call
p72210
aVwould look for a static method named  in ClassA
p72211
aVlooks for an instance method
p72212
as(dp72213
g23
V571407
p72214
stp72215
a((dp72216
g2
(lp72217
VMy guess is that you have an import for a class named XPathExpression, but which is not the standard
p72218
aVThis would also explain why you have a cast in your code:
p72219
aVit would not be required if the imported class was
p72220
aVThe compiler probably wasn't happy with the simple assignment and the IDE proposed to "fix" it by adding a cast
p72221
aVBut the problem is that you imported the wrong class
p72222
as(dp72223
g23
V571407
p72224
stp72225
a((dp72226
g2
(lp72227
VIf you're able to reproduce it, you could simply call  at the beginning of the program and pass a custom stream that logs every call made on the stream, with a stack trace, in order to be able to find who is printing to
p72228
aVIt could even be smart and only log the calls when a certain keyword, part of the errant stack trace, is printed
p72229
as(dp72230
g23
V571407
p72231
stp72232
a((dp72233
g2
(lp72234
VTo be accessible, a servlet must be mapped to a URL pattern
p72235
aVIn servlet 3
p72236
aV0 (tomcat 7 only), it's simply done by annotating the servlet with
p72237
aVIn previous versions of the spec, you must declare the servlet in the  file, and also declare its mapping using a  element
p72238
aVSo if the pattern you choose is , for example, the URL will be
p72239
aVIf the pattern is  you can use any URL in the web app contet (/myWebApp in my example) that ends with
p72240
aVThis is stuff that is covered by every servlet tutorial
p72241
aVPick one (preferrably something at oracle), and read it
p72242
as(dp72243
g23
V571407
p72244
stp72245
a((dp72246
g2
(lp72247
s(dp72248
g23
V571407
p72249
stp72250
a((dp72251
g2
(lp72252
V looks for a directory images on the file system, in the current directory, which is the directory from which the application is started
p72253
aVSo that's wrong
p72254
aVreturns a BufferedImage, and takes a URL or an  as argument
p72255
aVTo get an URL of  from the classpath, you use  or
p72256
aVAnd the path starts with a /, and starts at the root of the classpath
p72257
aVSo, the following code should work if the grass
p72258
aVpng file is under the package  in the classpath:
p72259
aVThis will work in the IDE is the file is in the runtime classpath
p72260
aVAnd it will be if the IDE "compiles" it to its target classes directory
p72261
aVTo do that, the file must be under a sources directory, along with your Java source files
p72262
as(dp72263
g23
V571407
p72264
stp72265
a((dp72266
g2
(lp72267
VNo, they aren't null-safe
p72268
aVThey're translated directly to SQL, and obey the same rules
p72269
aVSo if yo want to test for null, you must use
p72270
aVSo if the f parameter can be null, you'll have to use two different HQL queries, or build it dynamically, or use a Criteria query to build a dynamic query
p72271
as(dp72272
g23
V571407
p72273
stp72274
a((dp72275
g2
(lp72276
VThe latter is only available since Java 7
p72277
aVThat's why you often see the former
p72278
aVThe latter is equivalent, and shorter
p72279
as(dp72280
g23
V571407
p72281
stp72282
a((dp72283
g2
(lp72284
VCreate a  folder in your project, mark it as a source folder in eclipse, put the  folder under , and make sure your non-eclipse build uts everything that is under  in the jar
p72285
aVThen load the icon using
p72286
aVYour problem is caused by the fact that you non-eclipse build puts  in the jar, but eclipse puts the content of  in the target directory
p72287
as(dp72288
g23
V571407
p72289
stp72290
a((dp72291
g2
(lp72292
VThe error message says:
p72293
aVInvalid property 'cid' of bean class [com
p72294
aVorder
p72295
aVdomain
p72296
aVOrder]: Bean property 'cid' is not readable or has an invalid getter method
p72297
aVSo, Spring is looking for a getter for the property  in the class :
p72298
aVAnd there is no such getter in your class
p72299
as(dp72300
g23
V571407
p72301
stp72302
a((dp72303
g2
(lp72304
s(dp72305
g23
V571407
p72306
stp72307
a((dp72308
g2
(lp72309
s(dp72310
g23
V571407
p72311
stp72312
a((dp72313
g2
(lp72314
VUse JSONTokener
p72315
aVnextValue() and check if the result is a JSONObject or a JSONArray (using instanceof)
p72316
as(dp72317
g23
V571407
p72318
stp72319
a((dp72320
g2
(lp72321
VIt is possible, but not using a single counter
p72322
aVYou'll need a counter per subtype
p72323
aVFor example, something like the following:
p72324
aVBeware: the above is not thread-safe
p72325
aVBut your initial code isn't either
p72326
as(dp72327
g23
V571407
p72328
stp72329
a((dp72330
g2
(lp72331
VA map entry has one key and one value
p72332
aVYou're trying to have two values (dummyval and the map specified as a sub-element of the entry) in the same entry
p72333
aVThat doesn't make sense, and Spring seems to use the sub-element and to ignore the value attribute
p72334
as(dp72335
g23
V571407
p72336
stp72337
a((dp72338
g2
(lp72339
VThe debugger is not lying
p72340
aVYou're assuming that all the keys of the map should be stored in the private  field of the HashMap
p72341
aVBut this is not the case
p72342
aVThis variable is lazily populated when the  method is called
p72343
aVJust look at the method implementation
p72344
aVIf you want to know something about your map, use its documented, specified API: use the Display view, type , right-click and choose "Evaluate", and then you'll really get the key set of the map
p72345
as(dp72346
g23
V571407
p72347
stp72348
a((dp72349
g2
(lp72350
VThat's basically the definition of an enum:
p72351
aVONE, TWO, etc
p72352
aVare the only five possible instances of
p72353
as(dp72354
g23
V571407
p72355
stp72356
a((dp72357
g2
(lp72358
V is a reserved MySQL keyword
p72359
aVChange the name of your table
p72360
as(dp72361
g23
V571407
p72362
stp72363
a((dp72364
g2
(lp72365
VThe query makes no sense
p72366
aVA OneToMany will never be null
p72367
aVIt might be empty, but not null
p72368
aVIf you want to get all the products without any tweet, the query should be something like
p72369
as(dp72370
g23
V571407
p72371
stp72372
a((dp72373
g2
(lp72374
VSee http://docs
p72375
aVmockito
p72376
aVgooglecode
p72377
aVcom/hg/org/mockito/Mockito
p72378
aVhtml#15 for the documentation
p72379
aVYou could also use a custom argument matcher
p72380
aVThe documentation shows an example that does exactly what you want:
p72381
aVhttp://docs
p72382
aVmockito
p72383
aVgooglecode
p72384
aVcom/hg/org/mockito/ArgumentMatcher
p72385
aVhtml
p72386
as(dp72387
g23
V571407
p72388
stp72389
a((dp72390
g2
(lp72391
VThe message is quite clear: inside the  element of your pom, you have a  element with the artefact
p72392
aVAnd inside this  element, there must be a version element, but you didn't provide it
p72393
aVNote that 3
p72394
aV0 is just an example
p72395
aVProvide the right version
p72396
as(dp72397
g23
V571407
p72398
stp72399
a((dp72400
g2
(lp72401
VThe program code starts one thread
p72402
aVThe JVM itself starts several ones: the main thread, the GC thread, etc
p72403
aVThe output could be 0 or 1 because the  line might execute before or after the  line
p72404
aVYou have absolutely no guarantee, since no synchronization is used
p72405
aVAnd since the shared  variable is accessed by two threads without any kind of synchronization, even if  is executed before the other instruction, the main thread could still see 0 as the value of
p72406
aVThis is quite complex stuff, and you should read a good book about it if you really want to understand concurrency in Java, like Java concurrency in Practice, by Brian Goetz
p72407
as(dp72408
g23
V571407
p72409
stp72410
a((dp72411
g2
(lp72412
VYou create a Person instance and persist it
p72413
aVJPA inserts a row in the person table
p72414
aVThen you create an Address instance and persist it
p72415
aVJPA inserts a row in the address table
p72416
aVThen you add the address to the list of addresses of the person, and Hibernate inserts a row in the join table
p72417
aVThis is in fact partially true, because the inserts will in fact be done when you commit the transaction
p72418
aVBut the principle of an ORM like JPA is that the mapping you specify in the entities tell JPA how and where the entities and their associations must be persisted
p72419
as(dp72420
g23
V571407
p72421
stp72422
a((dp72423
g2
(lp72424
VThe classpath is explicitely passed to the java command, so it supersedes the CLASSPATH environment variable
p72425
aVAnswers B, D, E and F are thus incorrect
p72426
aVA is incorrect since the class name is
p72427
aVSince the package and the directory structures must match, the Chess
p72428
aVclass file must be in a games folder (inside or outside a jar file)
p72429
aVC is correct
p72430
aVG is incorrect because you can't pass *
p72431
aVjar to a classpath
p72432
aVAnd even if Games
p72433
aVjar was explicitely in the classpath, the manifest doesn't play any role here
p72434
aVSee http://docs
p72435
aVoracle
p72436
aVcom/javase/6/docs/technotes/tools/windows/classpath
p72437
aVhtml for the documentation about the classpath
p72438
as(dp72439
g23
V571407
p72440
stp72441
a((dp72442
g2
(lp72443
VDue to the above line, uppertime and lowertime are two references to the same object
p72444
aVEach time you modify one, you also modify the other, since they are in fact a single, unique object
p72445
aVYou need to create a copy:
p72446
as(dp72447
g23
V571407
p72448
stp72449
a((dp72450
g2
(lp72451
VFor the  operation to be cascaded, you need to enable , using the proprietary Hibernate Cascade annotation, since save() is not a standard JPA operation
p72452
aVOr you need to use the  method, and not the  method
p72453
as(dp72454
g23
V571407
p72455
stp72456
a((dp72457
g2
(lp72458
VIf the PK is [sid, subject], then the ID of the Student entity should be a class containing these two fields, and you would use it the same way as you would do with a non-composite primary key:
p72459
aVIf this is not clear enough, then edit your question and show how you defined the entity mapped to this table
p72460
as(dp72461
g23
V571407
p72462
stp72463
a((dp72464
g2
(lp72465
VUse a link with a request parameter
p72466
aVAnd learn not to use scriptlets in JSPs
p72467
aVUse the JSP EL and the JSTL instead:
p72468
aVThe above will generate a link with a URL like , and the servlet mapped to  will then be able to access the user ID using
p72469
as(dp72470
g23
V571407
p72471
stp72472
a((dp72473
g2
(lp72474
VThe test fails because the argument to the second  method call is not the same file as the argument of the first one, since the first file is replaced by another one in
p72475
as(dp72476
g23
V571407
p72477
stp72478
a((dp72479
g2
(lp72480
VThe problem is with your understanding of how HTTP and HTML work
p72481
aVWhen a web page contains an image, the HTML doesn't containg the content of the image
p72482
aVAll it contains is an  tag, with an src attribute containing the URL of this image:
p72483
aVThe browser sends a first request to get the HTML page
p72484
aVThen it parses the HTML, sees the  tag, and sends a second request to the URL of the image to get its content (bytes) and display it
p72485
aVYour code tries to generate an HTML page containing the blob (in fact, the result of calling toString() on the blob) directly in the page:
p72486
aVThat is incorrect
p72487
aVWhat you need to generate is an image tag whose src attribute contains the URL of the action which will get the image bytes from the database and send them to the browser, i
p72488
ag468
aVan  tag pointing to the download action:
p72489
as(dp72490
g23
V571407
p72491
stp72492
a((dp72493
g2
(lp72494
VThe problem is that instead of letting the container instantiate and inject the DAO for you, you explicitely create the DAO instance by yourself:
p72495
aVFor the EntityManager to be injected into the DAO, the container must instantiate it, not you
p72496
aVReplace the above code with the following, which uses dependency injection, and will thus also have the advantage of making your code testable:
p72497
as(dp72498
g23
V571407
p72499
stp72500
a((dp72501
g2
(lp72502
VThe first one gets the restaurant stored at index i in the  vector
p72503
aVThe second one calls the  method, obtaing the result of this method, and calls  on the restaurant with this result as argument
p72504
aVThe code would be much easier to understand and type-safe if it respected Java naming conventions, used proper variable names, didn't use Vector (which should not be used anymore for more than 10 years), and used generic collections () instead of raw types (), which force you to use casts to tell the compiler: the object stored in the vector is in fact a Restaurant
p72505
as(dp72506
g23
V571407
p72507
stp72508
a((dp72509
g2
(lp72510
VThe second query is not cacheable, so it doesn't use the cache
p72511
aVAs simple as that
p72512
aVNote that if this is your real code, you should simple use  to get the department
p72513
as(dp72514
g23
V571407
p72515
stp72516
a((dp72517
g2
(lp72518
VCall setParameter another time:
p72519
as(dp72520
g23
V571407
p72521
stp72522
a((dp72523
g2
(lp72524
VYou're reinventing the JSTL, which already has a standard tag to do that:
p72525
aVTo answer your question: no, the syntax you propose isn't supported
p72526
aVThe closest to what you're suggesting is dynamic attributes
p72527
aVSee http://www
p72528
aVjavabeat
p72529
aVnet/2009/02/dynamic-attributes-in-tag-file-in-jsp-2-0/ and http://www
p72530
aVcoderanch
p72531
aVcom/t/170429/java-Web-Component-SCWCD/certification/Tutorial-Dynamic-Attributes for examples
p72532
as(dp72533
g23
V571407
p72534
stp72535
a((dp72536
g2
(lp72537
VAt each iteration, you're reading two lines instead of one
p72538
aVChange
p72539
aVto
p72540
as(dp72541
g23
V571407
p72542
stp72543
a((dp72544
g2
(lp72545
VIf I understand correctly, you have a , and one of these entities is an instance of , and you want to find it in the list
p72546
aVIf so, here's the code you need:
p72547
aVThat said, this code smells, and you should probably have a field for each of your entities, which doesn't prevent you from also having a list of all the entities:
p72548
as(dp72549
g23
V571407
p72550
stp72551
a((dp72552
g2
(lp72553
VOr, using a query:
p72554
as(dp72555
g23
V571407
p72556
stp72557
a((dp72558
g2
(lp72559
VThe servlet is mapped to
p72560
aVYour URL is
p72561
aVThe URL thus lacks a trailing slash before the query string to be mapped to the servlet
p72562
aVIt would need to be
p72563
aVThis would also only work if the webapp is the root webapp
p72564
aVIf it isn't, you also need to prepend the context path of the application:
p72565
as(dp72566
g23
V571407
p72567
stp72568
a((dp72569
g2
(lp72570
VThe code logic is fine, but the implementation has several problems:
p72571
aVit doesn't respect naming conventions
p72572
aVClasses start with an uppercase letter
p72573
aVyou shouldn't use public fields
p72574
aVAnd initializing fields to default values is useless if they're reinitialized right after by the constructor
p72575
aVyou don't close the connection, which means that each time the method is executed, it will leave one connection open, resulting in memory being consumer for nothing, and your program eventually failing due to the max number of open connections being reached
p72576
aVThe connection should be closed in a finally block, or using the try-with-resources construct available since Java 7
p72577
aVResultSets and statements should also be closed, although not closing them is not as problematic as not closing the connection
p72578
aVthe Class
p72579
aVforName()
p72580
aVnewInstance() should not be necessary with a recent enough driver and JVM
p72581
aVthe chosen types are bizarre
p72582
aVThe price, for example, is stored in a nullable Double variable
p72583
aVBut you use getDouble(), which will never return null, to get its value
p72584
aVAlso, using double for a price is a bad choice
p72585
aVUse a BigDecimal instead
p72586
aVusing  is a bad practice
p72587
aVSelect the columns you want, and not all the columns
p72588
aVI would not generalize the creation of a class per table
p72589
aVMany times, you won't query for all the columns from a single table, but for some column of several joined tables
p72590
aVI would also consider using an ORM (JPA) instead of doing JDBC
p72591
aVThis will make your code much cleaner, shorter, readable and safer
p72592
as(dp72593
g23
V571407
p72594
stp72595
a((dp72596
g2
(lp72597
VThe query above returns a
p72598
aVSo, in your JSP, inside , the tester variable references an
p72599
aVAnd  dorsn't have any lastname (or firstname) property
p72600
aVYou're missing a loop which transforms a loop that transforms the  into a  before placing the list into the model
p72601
aVOr you should change the query to
p72602
aVwhich would return a  instead of a
p72603
as(dp72604
g23
V571407
p72605
stp72606
a((dp72607
g2
(lp72608
VYou should not add it to the VM arguments
p72609
aVOnly to the Program arguments
p72610
aVVM arguments are arguments passed
p72611
aVto the VM
p72612
aVLike memory options, system properties, etc
p72613
as(dp72614
g23
V571407
p72615
stp72616
a((dp72617
g2
(lp72618
VOrderBy simply add an order by clause to the query used to load the comments of a program
p72619
aVNothing more
p72620
aVThe rest is under your responsibility
p72621
aVSo if you want the comments sorted by position when adding comments and persisting them, you have to take care of this by yourself
p72622
aVI have personally never found this annotation to be really useful
p72623
aVI have also found it not to work in every case, particularly when using a query to fetch programs with their comments, with an order by clause already present in the query
p72624
aVI generally prefer not to use theis annotation, and provide a  method which returns a sorted set or list of comments, using a comparator
p72625
as(dp72626
g23
V571407
p72627
stp72628
a((dp72629
g2
(lp72630
VYour original JSON string (the one you show in your first snippet) looks to be valid JSON already
p72631
aVYou must not encode it
p72632
aVEncoding it is what makes it invalid JSON, transforming every tab into \u005ct, and every new line into \u005cn
p72633
aVRead the documentation of json_encode carefully
p72634
as(dp72635
g23
V571407
p72636
stp72637
a((dp72638
g2
(lp72639
VThe javadoc of clone() explains what Object
p72640
aVclone() does:
p72641
aVThe method clone for class Object performs a specific cloning operation
p72642
aVFirst, if the class of this object does not implement the interface Cloneable, then a CloneNotSupportedException is thrown
p72643
aVNote that all arrays are considered to implement the interface Cloneable
p72644
aVOtherwise, this method creates a new instance of the class of this object and initializes all its fields with exactly the contents of the corresponding fields of this object, as if by assignment; the contents of the fields are not themselves cloned
p72645
aVThus, this method performs a "shallow copy" of this object, not a "deep copy" operation
p72646
aVThe  method is a native method (just look in the sources)
p72647
aVIt's implemented in native code, by the JVM, which of course has access to all the state of the object being cloned
p72648
aVNote that even Java code using reflection also has access to all the state, even private, of any object
p72649
as(dp72650
g23
V571407
p72651
stp72652
a((dp72653
g2
(lp72654
V and  are reserved MySQL keywords
p72655
aVChange the name of these columns
p72656
as(dp72657
g23
V571407
p72658
stp72659
a((dp72660
g2
(lp72661
VThe second one is probably a bit more efficient, because it needs one join less than the first one
p72662
aVBut it couples the many side (address) to the one side (person) by requiring a foreign key in the address table
p72663
aVThat is in contradiction with the fact that the association is unidirectional (address doesn't know about its person in the object model)
p72664
aVThis is why the second one is the default for unidirectional one to many associations
p72665
as(dp72666
g23
V571407
p72667
stp72668
a((dp72669
g2
(lp72670
VNo
p72671
aVThe primitive long will automatically be boxed to a Long
p72672
aVWhat might cause a problem is the reverse operation:
p72673
aVThis will unbox the Long to a long, and will throw a NullPointerException if null is stored in the list
p72674
as(dp72675
g23
V571407
p72676
stp72677
a((dp72678
g2
(lp72679
VThis is possible, and documented in the manual:
p72680
aVIn most application scenarios, most beans in the container are singletons
p72681
aVWhen a singleton bean needs to collaborate with another singleton bean, or a non-singleton bean needs to collaborate with another non-singleton bean, you typically handle the dependency by defining one bean as a property of the other
p72682
aVA problem arises when the bean lifecycles are different
p72683
aVSuppose singleton bean A needs to use non-singleton (prototype) bean B, perhaps on each method invocation on A
p72684
aVThe container only creates the singleton bean A once, and thus only gets one opportunity to set the properties
p72685
aVThe container cannot provide bean A with a new instance of bean B every time one is needed
p72686
aVA solution is to forego some inversion of control
p72687
aVYou can make bean A aware of the container by implementing the ApplicationContextAware interface, and by making a getBean("B") call to the container ask for (a typically new) bean B instance every time bean A needs it
p72688
ag7651
aVLookup method injection is the ability of the container to override methods on container managed beans, to return the lookup result for another named bean in the container
p72689
aVThe lookup typically involves a prototype bean as in the scenario described in the preceding section
p72690
aVThe Spring Framework implements this method injection by using bytecode generation from the CGLIB library to generate dynamically a subclass that overrides the method
p72691
as(dp72692
g23
V571407
p72693
stp72694
a((dp72695
g2
(lp72696
VFirst of all, start with HQL
p72697
aVCriteria is useful when a query must be composed dynamically, based on a set of
p72698
aVcriteria
p72699
aVEven if you absolutely want to use the criteria API, having the HQL query and translate it is easier
p72700
aVOK, so you want the events that belong to a certain SomeEntity ordered by date and within some range:
p72701
aVNow you can translate it to criteria
p72702
aVThe problem is that the criteria API doesn't allow selecting any other entity than the root entity, and since you don't have an association going from SomeEntityEvent to SomeEntity, you're stuck
p72703
aVMy advice would thus be: do it in HQL, or make the association bidirectional
p72704
aVIf it is bidirectional, you can write the HQL query like this:
p72705
aVAnd it can easily be translated to criteria:
p72706
aVNote how every part of the HQL query directly translates to a similar criteria instruction
p72707
as(dp72708
g23
V571407
p72709
stp72710
a((dp72711
g2
(lp72712
VThe dates represent the same moment
p72713
aVThe first ones are in UTC, and the second ones are in UTC minus 5 hours
p72714
aVis the 29th of June at 19:00 in a timezone which is 5 hours after UTC
p72715
aVSo if you express this date in UTC time, you have to add 5 hours, which gives back the date
p72716
as(dp72717
g23
V571407
p72718
stp72719
a((dp72720
g2
(lp72721
VHashMap is faster
p72722
aVIts  and  methods are O(1) (constant time, provided the hashCode is correctly implemented)
p72723
aVTreeMap's  and  are O(log(n)), and they of course use the tree structure to make these operations fast
p72724
as(dp72725
g23
V571407
p72726
stp72727
a((dp72728
g2
(lp72729
VThe iterator should be declared as
p72730
aVand not as
p72731
aVBy declaring it as MyListIterator, its generic type T is not the same T as the T from its enclosing class
p72732
as(dp72733
g23
V571407
p72734
stp72735
a((dp72736
g2
(lp72737
VYour field is named , not
p72738
aVCase matters
p72739
as(dp72740
g23
V571407
p72741
stp72742
a((dp72743
g2
(lp72744
VYou shouldn't subclass ThreadPoolExecutor
p72745
aVIn particular, this makes the thread pool usable only for one execution of a set of tasks
p72746
aVWhen you submit a task to a thread pool, you get a  back from the thread pool
p72747
aVSo you simply need to iterate through the returned futures,  their result, and do whatever you want if any of the get method throws an ExecutionException (meaning that the task itself threw an exception, wrapped inside the ExecutionException)
p72748
as(dp72749
g23
V571407
p72750
stp72751
a((dp72752
g2
(lp72753
VCurrently, the map knows about the start place, but the place doesn't know anything about the map containing it
p72754
aVSo if you really must implement a method such as , you'll have to also set a relation from place to map:
p72755
as(dp72756
g23
V571407
p72757
stp72758
a((dp72759
g2
(lp72760
VYou can't connect to a SQL file
p72761
aVA SQL file is just that: a file, with some text inside
p72762
aVIf you want to connect to a MySQL database running on localhost, you need to install MySQL on your machine, start it, create a database, create tables in it, and populate the tables
p72763
aVFollow the MySQL documentation for how to do that
p72764
as(dp72765
g23
V571407
p72766
stp72767
a((dp72768
g2
(lp72769
VAdd a form to each of your row, containing just a submit button and a hidden input field having the ID of the row to delete as its value
p72770
aVMake the form's action point to the DeleteRowAction Struts action
p72771
aVIn this action, get the ID of the row from the request parameters, delete it, and then redirect to the action displaying the list
p72772
as(dp72773
g23
V571407
p72774
stp72775
a((dp72776
g2
(lp72777
VAs the stack trace of the exception shows, the exception is not thrown by the code above, but by the  method of the class , which calls  somewhere
p72778
as(dp72779
g23
V571407
p72780
stp72781
a((dp72782
g2
(lp72783
VThe stack trace says:
p72784
aVGiven the content of this method, the line 59 must be the following one:
p72785
aVAnd if a NullPointerException occurs at this line, it means that  is null
p72786
aVSo check if this variable has been initialized anywhere
p72787
aVIt isn't: I don't see any line like
p72788
aVSo initialize this variable
p72789
as(dp72790
g23
V571407
p72791
stp72792
a((dp72793
g2
(lp72794
VThis part is the problem :
p72795
aVYou tell the parser that the part after the + sign is the hour and minutes part of the date, and these values are 00 and 00, so you get 0 and 0 as a result
p72796
aVThe part startring at the + sign is in fact an offset to UTC time, and the symbol for that is  (since Java 7)
p72797
as(dp72798
g23
V571407
p72799
stp72800
a((dp72801
g2
(lp72802
VThe  keyword prevents anyone from extending the class and override any of its methods
p72803
aVTo implement lazy-loading, hibernate replaces the instance of the parent object at the many side by a proxy
p72804
aVThe first time it's called, this proxy loads the data of the parent from the database
p72805
aVThe proxy must be an instance of the Parent class
p72806
aVBut it can't be of type Parent, since its methods need to do something else: execute a SQL query the first time they're called
p72807
aVSo the proxy is in fact a subclass (dynamically generated at runtime) of Parent
p72808
aVAnd to be a subclass, the Parent class can't be final
p72809
aVSo  must be avoided on hibernate entities, else proxies and thus lazy-loading won't work
p72810
as(dp72811
g23
V571407
p72812
stp72813
a((dp72814
g2
(lp72815
VJust use a javax
p72816
aVswing
p72817
aVTimer, and in its  method, get the next 10 rows to display, and replace the rows in the model of the table by those next 10 rows
p72818
as(dp72819
g23
V571407
p72820
stp72821
a((dp72822
g2
(lp72823
VThe role of an association is not to model such kinds of relationships
p72824
aVManyToMany doesn't work with arbitrary columns happening to have the same name and value
p72825
aVIt works with join tables containing a foreign key to each of the joined entities
p72826
aVTo get all the books that were published on the same date as the birth date of a person, just execute a query:
p72827
as(dp72828
g23
V571407
p72829
stp72830
a((dp72831
g2
(lp72832
VHibernate doesn't know and care about the id field inside your enum
p72833
aVAll it knows about is the ordinal value (0 and 1) and the name (FISICA and JURIDICA)
p72834
aVIf you want to persist F and J, you'll have to rename your two enum constants to F and J, and annotate the field in the entity like this:
p72835
aVor use a custom user type to transform F to FISICA or vice-versa
p72836
as(dp72837
g23
V571407
p72838
stp72839
a((dp72840
g2
(lp72841
VThis output comes from the  tag
p72842
aVIt simply means that you have no key named "abc" in the resource bundle used by fmt:format
p72843
aVIt thus displays the key surrounded by question marks to let you know that you forgot to provide a translation for this key
p72844
as(dp72845
g23
V571407
p72846
stp72847
a((dp72848
g2
(lp72849
VAngular doesn't have much to do with this question
p72850
aVIf you already have all the users at client side, it's indeed a good idea to simply get the user information directly from this array
p72851
aVIf the array is small, you just need to loop through it until you find the user with the given ID
p72852
aVIf it's large, consider creating a map which allows directly getting the user given its ID:
p72853
aVIf your question is more "what should I do in general
p72854
aV, then I would say that, in general, you don't have the whole list of users at client side, because that list is much too large, so the join is made at server-side
p72855
as(dp72856
g23
V571407
p72857
stp72858
a((dp72859
g2
(lp72860
V$window is an injectable service, just like $location
p72861
aVSo, at the place where you currently inject $location and call its path() method, inject $window instead and set $window
p72862
aVlocation
p72863
aVhref to the URL you want to load
p72864
as(dp72865
g23
V571407
p72866
stp72867
a((dp72868
g2
(lp72869
VThe  attribute value must be the name of a field, on the other side of the association, which contains the mapping of this bidirectional association
p72870
aVSo instead of
p72871
aVyou should have
p72872
aVInstead of
p72873
aVyou should have
p72874
aVAnd instead of
p72875
aVyou should probably have
p72876
as(dp72877
g23
V571407
p72878
stp72879
a((dp72880
g2
(lp72881
VThe merge() method does the following: it takes a detached entity, loads the attched entity with the same ID from the database, copies the state of the detached entity to the attached one, and returns the attached entity
p72882
aVAs you not in this description, the detached entity is not modified at all, and doesn't become attached
p72883
aVThis is why you get the exception
p72884
aVYou wouldn't get it if you did
p72885
aVThat said, merging is completely unnecessary, since all you want to do is remove the entity
p72886
aVThe last solution is fine, except it really loads the entity from the database, which is also unnecessary
p72887
aVYou should simply do
p72888
aVNote that your  method is not efficient, and needlessly complex
p72889
aVYou should replace it with
p72890
aVwhich will use the first-level cache (and potentially the second-level one as well) to avoid unnecessary queries
p72891
as(dp72892
g23
V571407
p72893
stp72894
a((dp72895
g2
(lp72896
V is null, so you can't call any instance method on
p72897
aVMake sure you intialize  before using it
p72898
aVMore specifically, in this line:
p72899
aVyou're calling the  method before r has been initialized (it's initialized right after)
p72900
as(dp72901
g23
V571407
p72902
stp72903
a((dp72904
g2
(lp72905
VYou can't bind a column name as a parameter
p72906
aVOnly a column value
p72907
aVThis name has to be known when the execution plan is computed, before binding parameter values and executing the query
p72908
aVIf you really want to have such a dynamic query, use the Criteria API, or some other way of dynamically creating a query
p72909
as(dp72910
g23
V571407
p72911
stp72912
a((dp72913
g2
(lp72914
VNo, not without executing SQL queries
p72915
aVBut Hibernate allows executive SQL queries
p72916
as(dp72917
g23
V571407
p72918
stp72919
a((dp72920
g2
(lp72921
V returns true if the reader can guarantee that the next read won't block
p72922
aVThe fact that it returns false doesn't guarantee that the next read will block, and a Reader implementation is authorized to always return false from this method
p72923
aVJetty and Tomcat are two different implementations of a Java EE web container, and each provides its own HttpServletRequest implementation
p72924
aVThey've thus obviously made different design choices, but each of them respects the specification
p72925
aVYou should simply not rely on this method
p72926
aVI've never met a case where using it was useful
p72927
as(dp72928
g23
V571407
p72929
stp72930
a((dp72931
g2
(lp72932
VBecause the Java designers decided to make methods polymorphic (and thus overridable), but not fields
p72933
aVWhen you reference a field from an object, the compiler decides which field to use, based on the declared type of the variable, which, in this case, is
p72934
aVWhen you refer to methods, the JVM, at runtime, chooses which method to call based on the actual, concrete type of the object which, in this case, is
p72935
aVOO is all about encapsulation of state, so you should almost never expose fields to the outside anyway
p72936
as(dp72937
g23
V571407
p72938
stp72939
a((dp72940
g2
(lp72941
VBecause it's impossible, without knowing all the keys in advance, to design an algorithm that will guarantee that they will be evenly distributed
p72942
aVAnd even when knowing all the keys in advance, if two of them have the same hashCode, they will always be in the same bucket
p72943
aVThat doesn't mean the HashMap isn't O(1)
p72944
aVEven assuming that every bucket has 2 entries, regardless of the number of entries in the map, that still makes every get operation execute in time that doesn't depend on the number of entries in the map, which is the definition of O(1)
p72945
as(dp72946
g23
V571407
p72947
stp72948
a((dp72949
g2
(lp72950
VHere's an example that transforms the array to a String and displays it as a string directly in the page:
p72951
aVJS:
p72952
aVHTML:
p72953
aVAnd here is an example that generates a list containing all the selected days:
p72954
aVHTML:
p72955
as(dp72956
g23
V571407
p72957
stp72958
a((dp72959
g2
(lp72960
VThe closest to what you're looking for is a , which has the following method:
p72961
aVIf you have a sorted list, then using  twice would allow you to quickly find the index of the first and last elements in the range
p72962
aVAlso, note that if what you need is a Map,  has a similar method
p72963
as(dp72964
g23
V571407
p72965
stp72966
a((dp72967
g2
(lp72968
VNo, there's no way
p72969
aVlists the files that must not be stored inside the CVS repository
p72970
aVSo obviously, they aren't stored inside
p72971
aVSo there's no way to get them from the repository
p72972
as(dp72973
g23
V571407
p72974
stp72975
a((dp72976
g2
(lp72977
VJava bytes are signed numbers, but that only means that when considering a byte (which is a sequence of 8 bits) as a number, Java treats one of the bits as a sign bit, whereas other language read the same sequence of bits as an unsigned number, containing no sign bit
p72978
aVThe MD5 algorithm is a binary algorithm that transforms a sequence of bits (or bytes) into another sequence of bits (or bytes)
p72979
aVThe way Java does that is the same as the way any other language does it
p72980
aVIt's only when displaying the bytes as numbers that you'll get different outputs depending on the way the language transforms bytes into numbers
p72981
aVSo the short answer is, send an MD5 hash generated using Java to a C# program, and it will work fine
p72982
aVIf you want to display the byte array in Java as unsigned numbers, just use the following code:
p72983
as(dp72984
g23
V571407
p72985
stp72986
a((dp72987
g2
(lp72988
V takes a class name as argument
p72989
aVIt doesn't take a file path
p72990
aVThe class name (Sparrow) is then resolved by the java class loader to a
p72991
aVclass file based on the classpath, i
p72992
ag468
aVit looks for a  file in every directory and jar listed in the classpath
p72993
aVLet's take an example that respects good practices, and thus doesn't use the default package:
p72994
aVThe class name of the above class is
p72995
aVTo execute it, you must use
p72996
aVand java will look for a  in all the directories listed in the classpath
p72997
aVSo if the classpath is set to , it will look for the file
p72998
as(dp72999
g23
V571407
p73000
stp73001
a((dp73002
g2
(lp73003
V is not an atomic operation
p73004
aVIt involves
p73005
aVreading the current value of ,
p73006
aVincrementing it,
p73007
aVand reassign the new value to
p73008
aVIf this block was not synchronized, two threads executing the  method in parallel could enter into a race condition
p73009
aVFor example the two threads might
p73010
aVread the current value in parallel (both reading 8, for example),
p73011
aVthen increment the value and reassign the new one in parallel
p73012
aVInstead of going from (for example) 8 to 10, it would thus go from 8 to 9, missing one increment
p73013
aVThe synchronization is also necessary to make sure that the change to  made by one thread is made visible to all the other threads reading its value afterwards
p73014
aVWithout synchronization, you waould also have risks of missing increments
p73015
aVNote that, although you don't create and execute threads anywhere in the code, the web container itself creates and executes them
p73016
aVSo if two users of your app click on the same link at the same time, their respective request will be handled by two different threads, both calling the  method of your servlet concurrently
p73017
as(dp73018
g23
V571407
p73019
stp73020
a((dp73021
g2
(lp73022
VYou're calling  on
p73023
aVBefore calling  on any object, you must own the monitor of this object, by the way of a synchronized block synchronizing on this object
p73024
aVSo what is missing is
p73025
aVThat said, calling  on a Thread object is not something you should do, and probably shows that you have not understood what  does, especially given that you don't have any other thread calling  or
p73026
aVSynchronizing on the arguments passed to the main method is also a very strange choice
p73027
aVis a very low-level method that should rarely be used, even if you fully understand what it does
p73028
aVFor a better answer, you should explain what you actually want this code to do
p73029
as(dp73030
g23
V571407
p73031
stp73032
a((dp73033
g2
(lp73034
VObjects are meant to be used as types for variables, and can of course be passed as arguments to methods
p73035
aVSo here's an example:
p73036
aVAnd here's an example using the above method:
p73037
aV(imports omitted)
p73038
aVThis is extremely basic stuff that you need to understand before doing any serious development, especially GUI development, which is hard
p73039
aVIf you learnt something thanks to this answer, then it's a sign that you should read an introductory book about Java and OO
p73040
aVThe Java tutorial is also a good read
p73041
as(dp73042
g23
V571407
p73043
stp73044
a((dp73045
g2
(lp73046
VYou're not calling  anywhere
p73047
aVYou're overriding it (which you shouldn't do), but you're not calling it
p73048
as(dp73049
g23
V571407
p73050
stp73051
a((dp73052
g2
(lp73053
VStore all your accepted letters in an array, then generate a random number between 0 and the length of this array N times, to get N indices of a letter in the array
p73054
aVConcatenate the letters
p73055
aVEDIT:
p73056
aVNote that if your goal is to generate unique names, random is not the solution
p73057
aVA random doesn't guarantee uniqueness
p73058
as(dp73059
g23
V571407
p73060
stp73061
a((dp73062
g2
(lp73063
VThe error message is self-explanatory:
p73064
aVProvided id of the wrong type for class com
p73065
aVutp
p73066
aVsoft6
p73067
aVmodel
p73068
aVenteties
p73069
aVLogin
p73070
aVExpected: class java
p73071
aVlang
p73072
aVLong, got class com
p73073
aVutp
p73074
aVsoft6
p73075
aVmodel
p73076
aVenteties
p73077
aVLogin
p73078
aVThis means that, when you're loading a Login by ID in the following line
p73079
aVyou pass a Login instance () as argument, instead of passing an instance of the type of the ID of the Login entity: Long
p73080
aVMoreover,  returns an instance of the entity, and not a String, so the above line makes no sense at all
p73081
aVA correct method would be:
p73082
aVYou have other big problems in your code, like reading the configuration and initializing Hibernate at each request, instead of doing it only once
p73083
aVRead the manual
p73084
as(dp73085
g23
V571407
p73086
stp73087
a((dp73088
g2
(lp73089
VIf the type is not null, you replace it by 0, whatever its value is
p73090
aVSo comparing "paper" with "online" leads to comparing 0 with 0, which is obviously wrong
p73091
aVMy first advice would be to use proper types instead of String for everything
p73092
aVmonth and year should be s, and type should be an enum
p73093
aVYou should also strive to make them non-nullable
p73094
aVOnce done, the comparison method would reduce to
p73095
aVNote that using an enum allows you to dictate specify the way types compare, simply by listing the values in the order you want
p73096
aVOr even better, with Guava:
p73097
aVIf the values are nullable, the above code would have to be changed to
p73098
as(dp73099
g23
V571407
p73100
stp73101
a((dp73102
g2
(lp73103
VNo
p73104
aVYou must go through the merge process on a working copy, resolve the potential conflicts, and commit
p73105
aVBut the working copy could be a different working copy from the one you're currently working on: just do a fresh checkout of the branch to a new directory, make the merge in this new directory and commit
p73106
as(dp73107
g23
V571407
p73108
stp73109
a((dp73110
g2
(lp73111
VIf the Maven project is not available in any Maven repo, Gradle can't find it anywhere, so you'll have to build it
p73112
aVI would at least  it, and tell Gradle to look for artifacts in your local Maven repo rather than in a specific directory, using
p73113
as(dp73114
g23
V571407
p73115
stp73116
a((dp73117
g2
(lp73118
VJava is case-sensitive
p73119
aVThe fields are named  and , not  and
p73120
as(dp73121
g23
V571407
p73122
stp73123
a((dp73124
g2
(lp73125
VHave some configuration property containing the absolute path of a directory outside of the webapp and web server path, read this path from the configuration property, and write to this directory
p73126
aVTo serve files from this directory, write a servlet that takes the name or ID of this file as parameter, reads the file from the directory, and sends its content to the response
p73127
aVThis will
p73128
aVwork even if the app is deployed as a war file and never unzipped to the file system
p73129
aVallow you to redeploy the next version of the app or server without deleting all the uploaded/created files
p73130
aVallow you to add whatever control you want on the uploaded/created files, instead of making them available to everyone
p73131
aVIn short, treat these files as data, stored in a database which happens to be the file system instead of a SQL database
p73132
as(dp73133
g23
V571407
p73134
stp73135
a((dp73136
g2
(lp73137
VYes, using the Hibernate Table annotation:
p73138
as(dp73139
g23
V571407
p73140
stp73141
a((dp73142
g2
(lp73143
VIt's looking for a label property because that's what  does:
p73144
aVThis tag operates on a collection of beans, where each bean has a label property and a value property
p73145
aVThe actual names of these properties can be configured using the label and value attributes of this tag
p73146
as(dp73147
g23
V571407
p73148
stp73149
a((dp73150
g2
(lp73151
VPart1
p73152
aVjs:
p73153
aVPart2
p73154
aVjs:
p73155
aVMonitor
p73156
aVjs:
p73157
as(dp73158
g23
V571407
p73159
stp73160
a((dp73161
g2
(lp73162
VIn the above code, you're breaking the encapsulation of the pile by adding something to its queue without going though a method of the pile
p73163
aVYou should not have a  method in this class: all the accesses to this shared data structure should be synchronized on the same lock
p73164
aVYou should thus add a synchronized method allowing to add a URL to the queue
p73165
aVAnd this method should also call  (or better: ), in order to wake up the threads that are waiting for some element to be in the queue:
p73166
as(dp73167
g23
V571407
p73168
stp73169
a((dp73170
g2
(lp73171
VIt's a Spring feature
p73172
aV#{
p73173
aV} is an SpEL expression
p73174
as(dp73175
g23
V571407
p73176
stp73177
a((dp73178
g2
(lp73179
Vshould be OK, if I'm not mistaken
p73180
aVFor example
p73181
as(dp73182
g23
V571407
p73183
stp73184
a((dp73185
g2
(lp73186
VYou're telling Hibernate that the customer in the Address entity should not be inserted nor updated, so Hibernate doesn't insert it
p73187
aVReplace
p73188
aVby
p73189
as(dp73190
g23
V571407
p73191
stp73192
a((dp73193
g2
(lp73194
VIf you don't have any field annotated with @Version, Hibernate can't do optimistic locking
p73195
aVThe point of having an @Version field is precisely to avoid implementing your own optimistic locking
p73196
aVHibernate will use the field annotated with @Version to implement optimistic locking
p73197
aVThe way it works is described in the documentation
p73198
aVNote that update queries will bypass optimistic lock verifications completely
p73199
aVThey can update the version field, but only when using a versioned update
p73200
aVThe exception javadoc explains when such an exception is thrown
p73201
as(dp73202
g23
V571407
p73203
stp73204
a((dp73205
g2
(lp73206
VYou're telling the layout that the text field must fill horizontally, so that's what it does
p73207
aVReplace
p73208
aVby
p73209
as(dp73210
g23
V571407
p73211
stp73212
a((dp73213
g2
(lp73214
VYou're in GMT-5, and you're parsing a string representing a moment in the GMT+8 time zone
p73215
aVSo, the date  is in fact
p73216
aVTo get the date at GMT, you have to subtract 8 hours:
p73217
aVAnd to get the date at GMT-5, you have to subtract another 5 hours:
p73218
aVAll these strings are different representations of the same moment
p73219
as(dp73220
g23
V571407
p73221
stp73222
a((dp73223
g2
(lp73224
VThe second one is much cleaner: it doesn't need any long switch block, and has 0 risk of forgetting one of the enum values like the first one has
p73225
aVIt's not always possible to use it, though, because the enum might be some generic enum (, for example), that should not be coupled to the factory of actions
p73226
as(dp73227
g23
V571407
p73228
stp73229
a((dp73230
g2
(lp73231
Venums are not compile-time constants
p73232
aVSo their value is not copied by the compile to every class that uses them
p73233
aVThat's different from int values, which can be compile time constants
p73234
aVSo if you have a class like
p73235
aVand have another class
p73236
aVthe class will print 1
p73237
aVNow change the declaration of FOO to
p73238
aVAnd recompile Constants without recompiling Client
p73239
aVExecute the Client
p73240
aVThe printed value will still be 1, because it has been copied by the compiler to the Client class when the Client class was compiled
p73241
aVThere is no way to have this effect using enums
p73242
aVIf you store a value as an instance variable of an enum, or if you refer to its ordinal(), you'll always get the right value, even without recompiling the Client class
p73243
as(dp73244
g23
V571407
p73245
stp73246
a((dp73247
g2
(lp73248
VThe query could be reduced to
p73249
aVand it translates to the following SQL query:
p73250
aVTo know how a HQL query translates to SQL, simply enable SQL logging in Hibernate, and see what Hibernate logs
p73251
aVThis can be done by setting the hibernate
p73252
aVshow_sql property to true in the configuration file
p73253
as(dp73254
g23
V571407
p73255
stp73256
a((dp73257
g2
(lp73258
VHibernate reads and writes to tables, but doesn't create them (by default)
p73259
aVIf you want Hibernate to create your tables, then you have to set the property  in your config file to one of the documented values:
p73260
aVhibernate
p73261
aVhbm2ddl
p73262
aVauto    Automatically validates or exports schema DDL to the database when the SessionFactory is created
p73263
aVWith create-drop, the database schema will be dropped when the SessionFactory is closed explicitly
p73264
ag468
ag383
aVvalidate | update | create | create-drop
p73265
as(dp73266
g23
V571407
p73267
stp73268
a((dp73269
g2
(lp73270
VThe method doesn't load files from the classpath, but from the current directory in the file system
p73271
aVThat's what the problem is
p73272
aVTo load a resource from the classpath,  (or ) must be used
p73273
as(dp73274
g23
V571407
p73275
stp73276
a((dp73277
g2
(lp73278
VThe  method is mainly useful when you just want a reference to an entity, but don't actually care about its state, for example when you just want to attach this entity to another one:
p73279
aVIn the above code, you need a Sender entity reference to create the new Message entity, but you don't care about its state, and don't need to load it from the database
p73280
aVis thus useful
p73281
as(dp73282
g23
V571407
p73283
stp73284
a((dp73285
g2
(lp73286
VA Calendar represents some fixed time
p73287
aVSo if you instantiate it once, outside of the loop, it will always represents the same time, unless you update it in the loop, using, for example
p73288
aVor
p73289
aVThat said, given that you only need the calendar inside this loop, I don't see why you wouldn't keep this solution, and declare it as a local variable instead of declaring it as a field
p73290
as(dp73291
g23
V571407
p73292
stp73293
a((dp73294
g2
(lp73295
VThe javadoc of TreeSet also says:
p73296
aVNote that the ordering maintained by a set (whether or not an explicit comparator is provided) must be consistent with equals if it is to correctly implement the  interface
p73297
aV(See  or  for a precise definition of consistent with equals
p73298
aVThis is so because the  interface is defined in terms of the  operation, but a  instance performs all element comparisons using its  (or ) method, so two elements that are deemed equal by this method are, from the standpoint of the set, equal
p73299
aVThe behavior of a set is well-defined even if its ordering is inconsistent with equals; it just fails to obey the general contract of the  interface
p73300
aVI agree that the javadoc of  could make it clearer that  is not actually used, and re-state or link to this warning, though
p73301
as(dp73302
g23
V571407
p73303
stp73304
a((dp73305
g2
(lp73306
VEncapsulate your function in a Java interface:
p73307
aVand then pouplate the map with instances of this interface:
p73308
aVThen to call the function (task) associated with a given string :
p73309
as(dp73310
g23
V571407
p73311
stp73312
a((dp73313
g2
(lp73314
V is supposed to take a transient instance as argument, and not a persistent instance
p73315
aVThe javadoc is not very exhaustive, but AFAIK, calling  on a persistent instance has no effect, other than cascading the operation to transient instances attached to the entity, is such a cascade is configured
p73316
aVNote that there is usually no reason to call  or  on an attached, persistent entity, since Hibernate dirty-checks the entities and makes persists the changes automatically
p73317
as(dp73318
g23
V571407
p73319
stp73320
a((dp73321
g2
(lp73322
VIt depends on the access type
p73323
aVIf all the mapping annotations are put on fields, JPA sets the fields directly, without going through the setters, and reads the state of the entity from the fields directly
p73324
aVIf the mapping annotations are on the getters, JPA uses the setters to populate the entity and the getters to retrieve their state
p73325
aVThe access type can be customized with the Access annotation
p73326
as(dp73327
g23
V571407
p73328
stp73329
a((dp73330
g2
(lp73331
VYou don't seem to have understood how ThreadLocal variables work
p73332
aVA ThreadLocal instance is a bit like a container for a single value
p73333
aVIf you store something in it, it will be associated to the current thread, and you can retrieve it later, from the same thread
p73334
aVBut of course, if you store something in a ThreadLocal instance, and try to retrieve it from a different ThreadLocal instance, you'll always get null: they're not the same container
p73335
aVSo a ThreadLocal is often hidden behind static methods
p73336
aVSuppose you want to associate a user with the current thread, for example
p73337
aVYou would do
p73338
aVThen let's design a scenario :
p73339
as(dp73340
g23
V571407
p73341
stp73342
a((dp73343
g2
(lp73344
VAs always, you forgot the mappedBy annotation on the OneToMany
p73345
aVIt's a bidirectional OneToMany association, and the one side must thus be the inverse side of the many side, as explained in the documentation:
p73346
aVI also renamed the fields to , since it's a collection, and thus contains several ones
p73347
aVEDIT:
p73348
aVYour comment shows that the 2 vehicles are printed:
p73349
aVIf you want them to be printed is a different way than the dafult way, you need to override the  method in vehicle, as for any Java object
p73350
as(dp73351
g23
V571407
p73352
stp73353
a((dp73354
g2
(lp73355
Vis the index of the row in the list backing the table model
p73356
as(dp73357
g23
V571407
p73358
stp73359
a((dp73360
g2
(lp73361
VThe JVM, and Java programs running on the JVM, can get the actual type of an object
p73362
aVIn Java, it's impossible to pretend that an object has a given type if it doesn't actually have this type
p73363
aVThe JVM will check and detect that, and throw an exception
p73364
aVWhen debugging some running code, even remotely, it's possible to modify the source code being run, compile it, and tell the JVM to reload the byte-code without having to stop and restart the program
p73365
aVThe Java EE containers, and many frameworks, also generate byte-code at runtime and load it in the running JVM
p73366
as(dp73367
g23
V571407
p73368
stp73369
a((dp73370
g2
(lp73371
VDon't use recursion
p73372
aVUse iterative loops:
p73373
aVThat said, such a List implementation, espacially named List like the standard , is not really a good idea
p73374
as(dp73375
g23
V571407
p73376
stp73377
a((dp73378
g2
(lp73379
VThe reason is simple:  relies on the classes from the library to work
p73380
aVSo if you don't have the classes of the library in the classpath,  can't work
p73381
aVJust like just having an accelerator is not sufficient to make a car move
p73382
aVWithout the car engine, the accelerator can't work
p73383
aVThe fact that you, as a driver, don't mess with the engine directly, but only through the accelerator, doesn't mean the engine is not necessary
p73384
aV(sorry for this car analogy, but hopefully it makes things clearer)
p73385
as(dp73386
g23
V571407
p73387
stp73388
a.