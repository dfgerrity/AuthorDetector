(lp0
((dp1
S'text'
p2
(lp3
VHere's my exact scenario: I have a
p4
aVNET class library exposed as a COM object (using regasm
p5
aVexe)
p6
aVThe COM object contains a method that runs an external application (using Process
p7
aVStart)
p8
aVThe COM object is used in Internet Explorer
p9
aVSo my web page runs the external application and I need to find a way to pass the ExitCode to the web page
p10
aVAt first I didn't start the external application on a new thread and just waited for the user to close the application and then my function returned the ExitCode to the caller
p11
aVBut while the application was running IE was not responsive
p12
aVSo I decided to start the application in a new thread but now I can no longer return the ExitCode
p13
aVThe COM object is created with:  instruction and unfortunately javascript doesn't support event sinking so I can't write an event in C# that's triggered when the application exits
p14
as(dp15
S'author'
p16
V29407
p17
stp18
a((dp19
g2
(lp20
VThis code works fine for me:
p21
as(dp22
g16
V29407
p23
stp24
a((dp25
g2
(lp26
VIn order to handle errors I used the Application_Error event in one of my projects:
p27
as(dp28
g16
V29407
p29
stp30
a((dp31
g2
(lp32
VThe exe or library you are adding to the Commit step should contain a class deriving from Installer and marked with the RunInstaller attribute as follows:
p33
aVHope this helps
p34
as(dp35
g16
V29407
p36
stp37
a((dp38
g2
(lp39
VTransactional NTFS on Windows Vista or later might be useful for your scenario
p40
as(dp41
g16
V29407
p42
stp43
a((dp44
g2
(lp45
VIn a web farm scenario the machine key stored in machine
p46
aVconfig might be what you are looking for
p47
aVIt is a randomly generated hash that must be the same across machines in the web farm
p48
as(dp49
g16
V29407
p50
stp51
a((dp52
g2
(lp53
VIf you are using XmlSerializer you need to indicate it how to serialize your collections:
p54
aVAnd then:
p55
aVHope this helps
p56
as(dp57
g16
V29407
p58
stp59
a((dp60
g2
(lp61
VTo track user sessions ASP
p62
aVNET uses the *ASP
p63
aVNET_SessionId* cookie
p64
aVTo track authenticated users ASP
p65
aVNET uses the ASPXAUTH cookie (by default)
p66
aVWhen a session times out the *ASP
p67
aVNET_SessionId* cookie might no longer be sent by the client but the ASPXAUTH cookie is still sent which might explain why your action is rendered
p68
aVTo override default forms authentication values you might take a look here
p69
aVI also suggest you to use the firebug extension to see exactly which cookies are sent by the client
p70
as(dp71
g16
V29407
p72
stp73
a((dp74
g2
(lp75
VIf you are using regasm
p76
aVexe to generate the COM wrapper you can use the /codebase parameter which creates a Codebase entry in the registry
p77
aVThe Codebase entry specifies the file
p78
aVpath for an assembly that is not
p79
aVinstalled in the global assembly
p80
aVcache
p81
aVYou can then easily update the assembly without the need of re-registering it if the interface hasn't changed of course
p82
as(dp83
g16
V29407
p84
stp85
a((dp86
g2
(lp87
VIt is an invalid character '\u2013'
p88
aVChange '\u2013' to '-'
p89
as(dp90
g16
V29407
p91
stp92
a((dp93
g2
(lp94
VYou can append some dummy day and year to the month name and then use the Date constructor:
p95
as(dp96
g16
V29407
p97
stp98
a((dp99
g2
(lp100
VThe static method Image
p101
aVFromHbitmap(IntPtr hbitmap) might be what you are looking for
p102
as(dp103
g16
V29407
p104
stp105
a((dp106
g2
(lp107
VAfter modifying the web service did you update the client proxy (svcutil
p108
aVexe)
p109
as(dp110
g16
V29407
p111
stp112
a((dp113
g2
(lp114
VSome reasons I can think of:
p115
aVYou have an *App_Code* directory in your project
p116
aVYou have a CodeFile page directive in the some page markup instead of CodeBehind
p117
as(dp118
g16
V29407
p119
stp120
a((dp121
g2
(lp122
VIn IIS 7 you can use the Url Rewrite Module as explained in this blog post
p123
aVIn IIS 6 you could write an http module that will rewrite the url:
p124
aVAnd there's a nice example how to achieve extensionless urls in IIS 6 without using third party ISAPI modules or wildcard mapping
p125
as(dp126
g16
V29407
p127
stp128
a((dp129
g2
(lp130
VYou can use iTextSharp to convert your html pages to pdf
p131
aVHere's an example:
p132
as(dp133
g16
V29407
p134
stp135
a((dp136
g2
(lp137
VI would start by writing an interface and a wrapper class that will encapsulate this logic and then use the interface in my controller:
p138
aVNow IAuth could be easily mocked in a unit test and verify that the controller calls the expected methods on it
p139
aVI would NOT unit test the FormsAuthWrapper class because it just delegates the call to the FormsAuthentication which does what it is supposed to do (Microsoft guarantee :-))
p140
as(dp141
g16
V29407
p142
stp143
a((dp144
g2
(lp145
s(dp146
g16
V29407
p147
stp148
a((dp149
g2
(lp150
VUsing tlbimp
p151
aVexe you can generate an assembly from your COM component that can be used in
p152
aVNET code
p153
as(dp154
g16
V29407
p155
stp156
a((dp157
g2
(lp158
VThe WebBrowser windows forms control is wrapper around Internet Explorer and it doesn't expose all the functionality of the underlying ActiveX control and particularly the NavigateError event
p159
aVHere's a workaround:
p160
aVFirst add reference to SHDocVw
p161
aVdll to your project (COM tab of Add Reference window)
p162
aVThen you can do the following to capture errors:
p163
as(dp164
g16
V29407
p165
stp166
a((dp167
g2
(lp168
VUsing the default keyword:
p169
as(dp170
g16
V29407
p171
stp172
a((dp173
g2
(lp174
VI am creating a pdf document using C#
p175
aVcode in my process
p176
aVAre you using some library to create this document
p177
aVThe pdf specification (8
p178
aV6MB) is quite big and all tasks involving pdf manipulation could be difficult without using a third party library
p179
aVPassword protecting and encrypting your pdf files with the free and open source itextsharp library is quite easy:
p180
as(dp181
g16
V29407
p182
stp183
a((dp184
g2
(lp185
VIn a typical ASP
p186
aVNET MVC application the Application_Start event is often used to register custom routes
p187
aVHere's a nice post explaining how to unit test your custom routes
p188
as(dp189
g16
V29407
p190
stp191
a((dp192
g2
(lp193
VYou may see if this works for you (it does for me):
p194
as(dp195
g16
V29407
p196
stp197
a((dp198
g2
(lp199
VDepending on your requirements a possible solution might be to set the Cache-Control header to "no-cache" on every authenticated page
p200
aVThis will prevent pages from being cached downstream
p201
aVIt could be achieved by writing a custom HttpModule that will set the header:
p202
aVYou can also set this in your page's HEAD section by adding the following line of code:
p203
aVBy doing that if a user clicks the Back button once he's been signed out, he will be redirected to the login form instead of seeing a cached version of his last page which could be a problem if he is using a public computer
p204
as(dp205
g16
V29407
p206
stp207
a((dp208
g2
(lp209
VAs @lassevk suggested you should download the corrupted zip file and compare it with the original file on the server
p210
aVAre both the same length
p211
aVUse a hex editor to inspect the contents of the file
p212
aVIn this related thread you are saying that if you point the browser directly to the zip file it is also corrupted, meaning that the problem is probably not related to the headers but something wrong with IIS
p213
aVAre you using some third party ISAPI extensions that could modify the file
p214
as(dp215
g16
V29407
p216
stp217
a((dp218
g2
(lp219
VHere's how I did it in an old project in which I had to pass a matrix of integers to a C routine that would fill it with values and then I had to get back the values in managed code
p220
aVI had a routine in unmanaged code that would fill a matrix of integers with some values:
p221
aVAnd then in managed code I did something among the lines:
p222
aVP/Invoke is a PITA
p223
aVI would strongly recommend you to avoid it as much as possible and in cases where it is not possible try to organize your functions in a way to minimize marshaling data
p224
as(dp225
g16
V29407
p226
stp227
a((dp228
g2
(lp229
VMore precisely calling Dispose or Close will mark the underlying physical connection as "Not in use" - but doesn't really close it
p230
aVA "Not in use" connection that isn't yet physically closed is thus available for pooling
p231
aVTherefore - calling Dispose would return a connection to the connection pool
p232
as(dp233
g16
V29407
p234
stp235
a((dp236
g2
(lp237
VYou can use the
p238
aVnet 2
p239
aV0 binaries in your 3
p240
aV5 solution without any problem
p241
aVThey are both built for the same version of the CLR
p242
aVThere is no need to recompile the source code targeting 3
p243
aV5
p244
aVThere's a nice picture outlining different versions of the framework with the corresponding CLR version
p245
as(dp246
g16
V29407
p247
stp248
a((dp249
g2
(lp250
VThe open source iTextSharp library will allow you to do this
p251
aVHere's a post explaining how to digitally sign a pdf file
p252
aVIf you don't want to use a third party library then you can implement it yourself but it could be a tough task -> you can start by reading the pdf specification (8
p253
aV6MB)
p254
as(dp255
g16
V29407
p256
stp257
a((dp258
g2
(lp259
VIf there's an existing instance of the IAutomation interface in the AppDomain there must be something pointing to it otherwise it would be garbage collected
p260
aVSo you will need to identify what is pointing to the instance and use it to get the instance
p261
aVYou should ask yourself questions such as: Who created the instance
p262
aVIt's probably this object that's holding the reference
p263
as(dp264
g16
V29407
p265
stp266
a((dp267
g2
(lp268
VFrom the snippet you provided there are a couple of things to consider:
p269
aVYou are missing a script reference to the Microsoft ASP
p270
aVNET 2
p271
aV0 AJAX Templates for Visual Studio 2008
p272
aVYou are using the jquery's document
p273
aVready function (raised whenever the DOM is ready to be traversed and manipulated) instead of the System
p274
aVApplication
p275
aVinit event (raised after all scripts have been loaded but before objects are created)
p276
aVCan you try this to see if it works for you:
p277
aVScott Hanselman has written a nice post on this subject
p278
as(dp279
g16
V29407
p280
stp281
a((dp282
g2
(lp283
VYou can use the SetMaxResults method on IQuery (if you use HQL) or ICriteria (if you use criteria API)
p284
as(dp285
g16
V29407
p286
stp287
a((dp288
g2
(lp289
VBoth are valid
p290
aVQuote from xml
p291
aVcom:
p292
aVA resource may have more than one
p293
aVrepresentation
p294
aVThere are four
p295
aVfrequently used ways of delivering the
p296
aVcorrect resource representation to
p297
aVconsumers:
p298
aVServer-driven negotiation
p299
aVThe service provider determines the right
p300
aVrepresentation from prior knowledge of
p301
aVits clients or uses the information
p302
aVprovided in HTTP headers like Accept,
p303
aVAccept-Charset, Accept-Encoding,
p304
aVAccept-Language, and User-Agent
p305
aVThe
p306
aVdrawback of this approach is that the
p307
aVserver may not have the best knowledge
p308
aVabout what a client really wants
p309
aVClient-driven negotiation
p310
aVA client initiates a request to a
p311
aVserver
p312
aVThe server returns a list of
p313
aVavailable of representations
p314
aVThe
p315
aVclient then selects the representation
p316
aVit wants and sends a second request to
p317
aVthe server
p318
aVThe drawback is that a
p319
aVclient needs to send two requests
p320
aVProxy-driven negotiation
p321
aVA client initiates a request to a server
p322
aVthrough a proxy
p323
aVThe proxy passes the
p324
aVrequest to the server and obtains a
p325
aVlist of representations
p326
aVThe proxy
p327
aVselects one representation according
p328
aVto preferences set by the client and
p329
aVreturns the representation back to the
p330
aVclient
p331
aVURI-specified representation
p332
aVA client specifies the representation it
p333
aVwants in the URI query string
p334
as(dp335
g16
V29407
p336
stp337
a((dp338
g2
(lp339
VYou could use an AJAX request to your controller that will verify if the address already exists and if it does only update the error message container of the page
p340
aVThis way the already rendered list of matches will stay intact
p341
as(dp342
g16
V29407
p343
stp344
a((dp345
g2
(lp346
VI would go for a cookie if both sites are on the same domain
p347
aVOne advantage of cookies over encrypted strings is that they are automatically passed between requests and you don't have to think about them when building your urls
p348
aVOne downside of cookies is that they can be disabled by users
p349
as(dp350
g16
V29407
p351
stp352
a((dp353
g2
(lp354
VAssuming you want to retrieve the html:
p355
as(dp356
g16
V29407
p357
stp358
a((dp359
g2
(lp360
VRecommended by the ASP
p361
aVNET team to use
p362
aVcache instead of session
p363
aV@ray247, could you provide a reference for this
p364
aVSession and Cache are different by nature and should be used depending on application requirements
p365
aVFor example storing user specific data into the cache could lead to undesired behavior
p366
aVOf course if you really want to avoid using session you could provide your own implementation of the ITempDataProvider interface
p367
as(dp368
g16
V29407
p369
stp370
a((dp371
g2
(lp372
VIt depends on what you mean by acceptable
p373
aVIn my experience a 7200RPM hard drive will boost VS
p374
aVNET 2005 performance speed as it is a very IO intensive application
p375
as(dp376
g16
V29407
p377
stp378
a((dp379
g2
(lp380
VThere are a few things wrong with your CLIENT
p381
aVASPX file
p382
aVFrom what I can see you are using server side code in order to instantiate an ActiveX control allowing you to make an HTTP request to SERVER
p383
aVASHX and read the response stream which in turn is written to the response stream of the CLIENT
p384
aVASPX page
p385
aVThe fact that you are using an ActiveX control instead of the standard
p386
aVNET classes makes me think that you are migrating an old ASP site to
p387
aVNET
p388
aVIn this case the first thing to do is to mark your pages with the AspCompat=true directive:
p389
aVAnother thing to mention is that you are using the wrong ActiveX name MSXML2
p390
aVServerXMLHTTP
p391
aV4
p392
aV0 instead of MSXML2
p393
aVServerXMLHTTP
p394
aVAlso you are trying to set request headers using the setRequestHeader method before calling the open method
p395
aVThe fact that you wrote the On Error Resume Next statement prevented you from seeing all these errors
p396
aVThe code just went through and your SERVER
p397
aVASHX handler never actually executed, so you got an empty response
p398
aVHere's a corrected version of your CLIENT
p399
aVASPX code:
p400
aVOf course the preferred way to achieve this is either using a client scripting language such as javascript or if you want to do it server side, then use the standard
p401
aVNET classes instead of ActiveX controls
p402
as(dp403
g16
V29407
p404
stp405
a((dp406
g2
(lp407
VAccording to the documentation:
p408
aVAfter calling SendAsync, you must wait
p409
aVfor the e-mail transmission to
p410
aVcomplete before attempting to send
p411
aVanother e-mail message using Send or
p412
aVSendAsync
p413
aVSo to send multiple mails at the same time you need multiple SmtpClient instances
p414
as(dp415
g16
V29407
p416
stp417
a((dp418
g2
(lp419
VBy passing anonymous types you cannot have strongly typed views
p420
aVYou will also need to use reflection in your unit tests
p421
as(dp422
g16
V29407
p423
stp424
a((dp425
g2
(lp426
VThe first thing I would suggest you is using IList instead of List for mapping the localCalendarGroups association in your domain classes
p427
aVThis will enable lazy loading the collection
p428
aVAnd here's the mapping file for the UserVO class:
p429
aVAnd the corresponding class definition:
p430
as(dp431
g16
V29407
p432
stp433
a((dp434
g2
(lp435
VI think this should be Many-to-Many
p436
aVrelationship
p437
aVYou are correct
p438
aVIn your scenario you will need to use a self-referential many-to-many mapping
p439
aVBut using a single Users table you cannot represent the relation between users and friends (using a single table you could represent a self-referential parent-child relationship)
p440
aVYou will need an intermediary table to achieve this
p441
aVHere's an example using SQLite ADO
p442
aVNET provider to show one possible way of modeling your scenario:
p443
aVUser
p444
aVhbm
p445
aVxml:
p446
aVFrom the above mapping you will notice the use of the following tables: Users and Friends
p447
aVAnd here's the code:
p448
aVAnd finally for the sake of completeness here's my config file:
p449
as(dp450
g16
V29407
p451
stp452
a((dp453
g2
(lp454
VCould you show the JSON string you are trying to deserialize and the way you are using the Deserialize method
p455
aVThe following works fine:
p456
as(dp457
g16
V29407
p458
stp459
a((dp460
g2
(lp461
VCould it be related to this bug
p462
as(dp463
g16
V29407
p464
stp465
a((dp466
g2
(lp467
VIn your example PropertyB is not marked with a DataMember attribute meaning that it won't be exposed in the WSDL and ignored by the serializer
p468
aVBut if you mark PropertyB with a DataMember then you must have a setter (private, proptected or public) in order to serialize it correctly otherwise you may get an exception
p469
aVThere are two ways I can think of having read-only properties serialized over the wire:
p470
aVOr this:
p471
aVPlease note that if you use svcutil
p472
aVexe, the generated proxy class will have both public getter and setter for the property which might not be what you are looking for
p473
aVIn this case you can use the service contract and data contract assemblies on the client side
p474
as(dp475
g16
V29407
p476
stp477
a((dp478
g2
(lp479
s(dp480
g16
V29407
p481
stp482
a((dp483
g2
(lp484
VThe reason NHibernate will issue a SELECT statement when you try to access the Friends collection is because it wasn't initialized at the moment you loaded the user entity
p485
aVYou can force the collection to be loaded either by using the following query:
p486
aVor by adding fetch="join" in your mapping file:
p487
aVIt is worth mentioning that there is a difference between UniqueResult and session
p488
aVLoad
p489
aVIf the user is not found in the database you will get an ObjectNotFoundException with the second approach while UniqueResult will return null
p490
aVYou can use either approach based on your needs
p491
as(dp492
g16
V29407
p493
stp494
a((dp495
g2
(lp496
VYou can write the link like this: http://gast:gast@mis
p497
aVvlaanderen
p498
aVbe/cognos7/metadata/mp_v_i_im_020_e100_az_algemeen_overzicht
p499
aVpdf
p500
as(dp501
g16
V29407
p502
stp503
a((dp504
g2
(lp505
VExtracting the text from CHM and PDF files is the first step
p506
aVNext you can find the ISBN number with a regular expression
p507
as(dp508
g16
V29407
p509
stp510
a((dp511
g2
(lp512
s(dp513
g16
V29407
p514
stp515
a((dp516
g2
(lp517
s(dp518
g16
V29407
p519
stp520
a((dp521
g2
(lp522
VIn order to perform XPath queries with the standard
p523
aVNET classes the whole document tree needs to be loaded in memory which might not be a good idea if it can take up to a gigabyte
p524
aVIMHO the XmlReader is a nice class for handling such tasks
p525
as(dp526
g16
V29407
p527
stp528
a((dp529
g2
(lp530
VAccording to the documentation iText supports the following image formats: JPEG, GIF, PNG, TIFF, BMP, WMF and EPS
p531
aVI don't know if this might be of any help but I have successfully used iTextSharp to embed vector WMF image in a pdf file:
p532
aVC#:
p533
as(dp534
g16
V29407
p535
stp536
a((dp537
g2
(lp538
VRed gate's
p539
aVNET Reflector
p540
as(dp541
g16
V29407
p542
stp543
a((dp544
g2
(lp545
VThis has already been discussed here
p546
aVWhat issues did you encounter with the example you provided
p547
aVInstead of writing the code in the constructor of the service you write it in the GetInstance method of your IInstanceProvider implementation
p548
as(dp549
g16
V29407
p550
stp551
a((dp552
g2
(lp553
VHere's an example in VB
p554
aVNET which can be translated to C# and adapted to your scenario
p555
as(dp556
g16
V29407
p557
stp558
a((dp559
g2
(lp560
VYou haven't specified the name of the Id
p561
aVInstead of:
p562
aVyou should specify the name:
p563
aVIn the first case the generated mapping is wrong:
p564
aVwhile in the second case you will get the correct mapping:
p565
aVNotice the name="Id" attribute which was missing
p566
as(dp567
g16
V29407
p568
stp569
a((dp570
g2
(lp571
s(dp572
g16
V29407
p573
stp574
a((dp575
g2
(lp576
VCorrect me if I am wrong but you are using the ExportToStream method with ExportFormatType
p577
aVRichText:
p578
aVThis exports the report into an RTF stream
p579
aVNow you wish to convert this stream to plain text (extract the text from the RTF)
p580
aVIf that's true then this thread might have the answer for you
p581
as(dp582
g16
V29407
p583
stp584
a((dp585
g2
(lp586
VYou can implement IXmlSerializable, unfortunately this negates the most important benefit of XmlSerializer (the ability to declaratively control serialization)
p587
aVDataContractSerializer (xml based) and BinaryFormatter (binary based) could be used as alternatives to XmlSerializer each having its pros and cons
p588
as(dp589
g16
V29407
p590
stp591
a((dp592
g2
(lp593
VThe ThreadAbortException is thrown from the following line:
p594
aVHere's more details and a workaround
p595
as(dp596
g16
V29407
p597
stp598
a((dp599
g2
(lp600
VThere is a nice form plugin that allows you to send an HTML form asynchroniously
p601
aVor
p602
aVto submit the form immediately
p603
as(dp604
g16
V29407
p605
stp606
a((dp607
g2
(lp608
VYou are not doing anything wrong
p609
aVAccording to the documentation:
p610
aVA volatile field should not normally
p611
aVbe passed using a ref or out
p612
aVparameter, since it will not be
p613
aVtreated as volatile within the scope
p614
aVof the function
p615
aVThere are exceptions
p616
aVto this, such as when calling an
p617
aVinterlocked API
p618
as(dp619
g16
V29407
p620
stp621
a((dp622
g2
(lp623
VIf you are using JQuery to make AJAX calls you can use something among the lines:
p624
aVThe beforeSend handler can be used to show a hidden div containing your loading text or image while complete handler will be used to hide it (no matter whether the call succeeds or not)
p625
aVOr if you want to set it up globally for all AJAX requests you can use the ajaxSetup function:
p626
as(dp627
g16
V29407
p628
stp629
a((dp630
g2
(lp631
VYou could write an interceptor and implement the OnDelete method that will be executed when a picture is deleted
p632
as(dp633
g16
V29407
p634
stp635
a((dp636
g2
(lp637
VYes, if the service exposes an endoint with basicHttpBinding
p638
aVAlthough there are some issues you should be aware of
p639
as(dp640
g16
V29407
p641
stp642
a((dp643
g2
(lp644
VThere's a nice article on CodeProject showing how to bind 2D arrays to a DataGridView
p645
as(dp646
g16
V29407
p647
stp648
a((dp649
g2
(lp650
VIt could be related to IPv6 as explained in this blog
p651
as(dp652
g16
V29407
p653
stp654
a((dp655
g2
(lp656
VWhen you create the cookie you can set the domain:
p657
aVThis will allow your cookie to be accessible from all subdomains of cookies
p658
aVcom
p659
aVIf you are using FormsAuthentication then you can set the domain for the auth cookie in web
p660
aVconfig:
p661
aVRemember that for the single sign on to work on multiple subdomains your ASP
p662
aVNET applications must share the same machine keys as explained in this CodeProject article
p663
aVSharing sessions between different subdomains (different worker processes) is more difficult because sessions are constrained to an application and you will have to implement a custom session synchronization mechanism
p664
as(dp665
g16
V29407
p666
stp667
a((dp668
g2
(lp669
VIn a performance critical application XmlReader/XmlWriter are a good choice (see here) for the sake of simplicity which is offered by Linq to XML and XmlDocument
p670
as(dp671
g16
V29407
p672
stp673
a((dp674
g2
(lp675
VIt seems that the server sends incorrect cookie values
p676
aVIMHO commas are not allowed in cookie values
p677
aVThey need to be encoded with %2C
p678
as(dp679
g16
V29407
p680
stp681
a((dp682
g2
(lp683
VI would suggest you to centralize the error handling of your WCF service instead of putting try/catch on every method
p684
aVTo do this you can implement the IErrorHandler interface:
p685
aVThe  method is called whenever one of your  throws an exception
p686
aVIt will convert the exception into a custom defined  and send it to the client
p687
aVThis way you no longer need to put try/catch in every method
p688
aVYou can also send a different  depending on the exception thrown
p689
aVOn the client side you need to catch  every time you call a method on your web service
p690
as(dp691
g16
V29407
p692
stp693
a((dp694
g2
(lp695
VTry defining your specific route before the Default one:
p696
as(dp697
g16
V29407
p698
stp699
a((dp700
g2
(lp701
VHave you tried with parameters:
p702
aVThey also have the advantage to protect your query against SQL injection
p703
as(dp704
g16
V29407
p705
stp706
a((dp707
g2
(lp708
VAs far as I know the Cache object is thread safe so you wouldn't need the lock
p709
as(dp710
g16
V29407
p711
stp712
a((dp713
g2
(lp714
VYou can use inline coding in your svc file:
p715
aVBut you will need also a web
p716
aVconfig file and a virtual directory configured on your web server:
p717
aVBut basically if your web server has IIS 6
p718
aV0 and
p719
aVNET 3
p720
aV0 installed then you should have no problems running WCF services on it
p721
as(dp722
g16
V29407
p723
stp724
a((dp725
g2
(lp726
VThere are two things I can think of:
p727
aVThe
p728
aVsvc extension is not correctly set up (least probable according to your description)
p729
aVYou can check this post for more details
p730
aVOr your web site has multiple host headers
p731
aVTo resolve this issue, you must have a single host header or use a factory
p732
aVHere\u2019s an example:
p733
aVNext, you need to set the factory in the markup of your
p734
aVsvc file:
p735
as(dp736
g16
V29407
p737
stp738
a((dp739
g2
(lp740
VI am not aware of such helper method in ASP
p741
aVNET MVC but it should be pretty easy to roll your own:
p742
aVAnd then use it like this:
p743
as(dp744
g16
V29407
p745
stp746
a((dp747
g2
(lp748
VTMySQL5 component provides fast access to MySQL server 5
p749
aV0, the latest production server of MySQL
p750
aVIt only requires libmysql
p751
aVdll, MySQL5
p752
aVpas, and mysql
p753
aVpas (thanks to Matthias Fichtner for making mysql
p754
aVpas available)
p755
aVAt the moment this component only support up to 500 rows, and 10 fields
p756
aVHowever, you can change this value in the statement Dataset: array[1
p757
aVn, 1
p758
aVm] to suit your requirement
p759
aVOnly two data types available String and Integer, however, you can convert data using standard data conversion functions
p760
aVFully functional
p761
aVSource: Included
p762
aVExe-Demo Included
p763
aVGood through Delphi 2006
p764
aVHome page
p765
as(dp766
g16
V29407
p767
stp768
a((dp769
g2
(lp770
VYou can always use HttpContext
p771
aVCurrent
p772
aVSession in your DLL but this is considered as bad practice
p773
aVA better approach would be to pass the values stored in the session dictionary to your DLL instead of it referencing the session
p774
aVAnother benefit you will gain is that the code in your DLL won't be coupled to the ASP
p775
aVNET runtime meaning it will be easier to test
p776
as(dp777
g16
V29407
p778
stp779
a((dp780
g2
(lp781
VThe IsRequired attribute refers to the validation that happens on the data that is arriving on the wire
p782
aVIf you want validation done at the client side, you'll need to add code on the client side for that
p783
as(dp784
g16
V29407
p785
stp786
a((dp787
g2
(lp788
VI would strongly recommend you SoapUI
p789
aVIt is a great tool that allows you to call web services and inspect the generated XML
p790
as(dp791
g16
V29407
p792
stp793
a((dp794
g2
(lp795
VYour Children collection property needs to be virtual if you want to define expectations on it:
p796
as(dp797
g16
V29407
p798
stp799
a((dp800
g2
(lp801
s(dp802
g16
V29407
p803
stp804
a((dp805
g2
(lp806
VThere's nothing special you need to do
p807
aVJust remove the
p808
aVaspx extension from the ASPX page file and it should work fine with VWD
p809
aVThe Visual Studio designer will probably complain that there's no build provider registered for the extension '', but you can just ignore it
p810
aVThen you can reference the page without extension:
p811
as(dp812
g16
V29407
p813
stp814
a((dp815
g2
(lp816
VSince it's a jQuery plugin there's nothing to tie it to the ASP
p817
aVNET postback model
p818
aVIt is server language agnostic
p819
aVYou can use it with PHP if you like as discussed here
p820
as(dp821
g16
V29407
p822
stp823
a((dp824
g2
(lp825
VHere's a sample you can use to query the service:
p826
as(dp827
g16
V29407
p828
stp829
a((dp830
g2
(lp831
VBecause each page has a global context with its own "Array" function, if code on one page passes an array to a function on a separate page, the test "array instanceof Array" will fail
p832
aVFor Array you can do this instead:
p833
aVIt feels hacky but it works
p834
as(dp835
g16
V29407
p836
stp837
a((dp838
g2
(lp839
VI guess you are using a web site project in contrast of web application project
p840
aVIn this case you need to put the code behind file of your handler (Handler
p841
aVcs) in the special App_Code folder
p842
aVThe markup file (Handler
p843
aVashx) may be at the root of your site:
p844
aVThen you can directly declare your handler in web
p845
aVconfig:
p846
as(dp847
g16
V29407
p848
stp849
a((dp850
g2
(lp851
VThere is no difference in the generated IL between the 3 methods
p852
as(dp853
g16
V29407
p854
stp855
a((dp856
g2
(lp857
VHere's a sample:
p858
as(dp859
g16
V29407
p860
stp861
a((dp862
g2
(lp863
Vquick and dirty:
p864
aVweb
p865
aVconfig:
p866
aVand a test page:
p867
as(dp868
g16
V29407
p869
stp870
a((dp871
g2
(lp872
VAs additional criteria you could use the fact that in many cases the couple of the two foreign keys represents the primary key of the join/intermediate table
p873
as(dp874
g16
V29407
p875
stp876
a((dp877
g2
(lp878
VYou are not using the correct cache element
p879
aVAccording to the documentation the EffectivePrivateBytesLimit property can be set with the privateBytesLimit attribute of the cache Element for caching (ASP
p880
aVNET Settings Schema) element in the application's configuration file;
p881
as(dp882
g16
V29407
p883
stp884
a((dp885
g2
(lp886
VThe complete list of exceptions that can be thrown from a web service call is so vast that I really don't think that it is a good idea to test for every type of exception possible
p887
aVIn many cases it would be enough to catch for SoapException which could contain some business errors transmitted through the SOAP Fault Element and every other exception could be considered as a non handled error:
p888
aVHere's a nice article explaining how to raise and handle SoapExceptions
p889
as(dp890
g16
V29407
p891
stp892
a((dp893
g2
(lp894
VHere's a minor modification you need to make:
p895
as(dp896
g16
V29407
p897
stp898
a((dp899
g2
(lp900
VCould you try with this function and see if it works:
p901
as(dp902
g16
V29407
p903
stp904
a((dp905
g2
(lp906
VInstead of removing just do the inverse (create a new dictionary from the old one containing only the elements you are interested in) and let the garbage collector take care of the old dictionary:
p907
as(dp908
g16
V29407
p909
stp910
a((dp911
g2
(lp912
VAre you repositioning your memory stream before trying to load it into the XmlDocument
p913
as(dp914
g16
V29407
p915
stp916
a((dp917
g2
(lp918
VYou can add the test
p919
aVsqlite file to your WPF project and in the properties window specify the "Copy To Output Directory" : "Copy always"
p920
aVThis way every time you compile your project, the file will be automatically copied to the output directory
p921
aVConcerning your UnauthorizedAccessException have you tried granting read and write permissions on the App_Data folder for the ASP
p922
aVNet Service account
p923
aVTo find out the account used to run the application pool you can write a simple test
p924
aVaspx page:
p925
as(dp926
g16
V29407
p927
stp928
a((dp929
g2
(lp930
VTry with a StringBuilder:
p931
as(dp932
g16
V29407
p933
stp934
a((dp935
g2
(lp936
VYou have to use the RunWorkerCompleted event because it is executed on the UI thread
p937
aVAdding controls on the form from the DoWork event is wrong because this function is executed on a different thread than the one that created the main form
p938
as(dp939
g16
V29407
p940
stp941
a((dp942
g2
(lp943
VI don't know if this is possible with CSS but in html you could write:
p944
as(dp945
g16
V29407
p946
stp947
a((dp948
g2
(lp949
VYou can use the Focus method:
p950
as(dp951
g16
V29407
p952
stp953
a((dp954
g2
(lp955
VYou didn't mention the binding you are using for your service
p956
aVIf it is SOAP based binding such as wsHttpBinding or basicHttpBinding then all the possible types that your method can possibly return must be known at compile time so that they can be exposed in the WSDL and the clients can generate proxy classes
p957
aVIn this case you have to define a base class containing the id that all your entities will derive from and use either the ServiceKnownTypeAttribute or list them in your app
p958
aVconfig/web
p959
aVconfig file:
p960
aVIf you are using binary serialization over TCP then it is not necessary specify known types at compile time because the binary serializers will transmit type information
p961
as(dp962
g16
V29407
p963
stp964
a((dp965
g2
(lp966
VReflection is used for runtime type evaluation
p967
aVSo your string constants cannot be verified at compile time
p968
as(dp969
g16
V29407
p970
stp971
a((dp972
g2
(lp973
VIf you use NHibernate as ORM it is easy to swap the real SQL Server database (a few lines in app
p974
aVconfig) with an in-memory SQLite database that is easily recreated on every test
p975
aVThis way your integration/build server which will execute the unit tests no longer needs to access an SQL Server
p976
as(dp977
g16
V29407
p978
stp979
a((dp980
g2
(lp981
VThere's an example of parsing iCalendar files
p982
aVIt is based on the DDay
p983
aViCal library
p984
as(dp985
g16
V29407
p986
stp987
a((dp988
g2
(lp989
VYou can try using XmlElementAttribute instead of XmlArrayItemElementAttribute:
p990
as(dp991
g16
V29407
p992
stp993
a((dp994
g2
(lp995
VThere's a nice article on CodeProject which might be helpful
p996
aVAnd here's a thread on SO discussing PSD file format parsing with C#
p997
as(dp998
g16
V29407
p999
stp1000
a((dp1001
g2
(lp1002
VA better way would be to use the Split method:
p1003
as(dp1004
g16
V29407
p1005
stp1006
a((dp1007
g2
(lp1008
VRemoving unused assembly references wouldn't change anything apart from cleaning your projects
p1009
aVWhen you add assembly references the compiler will ignore any assembly which you have not actually made use of in your code
p1010
aVThus, if you were to set a reference to System
p1011
aVData
p1012
aVdll and System
p1013
aVWindows
p1014
aVForms
p1015
aVdll but only authored the following code:
p1016
aVthe compiler would only reference the mandatory mscorlib
p1017
aVdll
p1018
as(dp1019
g16
V29407
p1020
stp1021
a((dp1022
g2
(lp1023
VQuote from http://weblogs
p1024
aVasp
p1025
aVnet/leftslipper/archive/2007/06/29/how-asp-net-databinding-deals-with-eval-and-bind-statements
p1026
aVaspx
p1027
aVThere isn\u2019t a Bind method
p1028
aVin ASP
p1029
aVNET
p1030
aVWhen ASP
p1031
aVNET
p1032
aVparses your file and sees you're using
p1033
aV<%# Bind() %> it generates some
p1034
aVspecial code for it
p1035
aVWhen you use <%# Bind("Name") %> it's
p1036
aVnot a real function call
p1037
aVIf ASP
p1038
aVNET
p1039
aVparses the code and detects a Bind()
p1040
aVstatement, it splits the statement
p1041
aVinto two parts
p1042
aVThe first part is the
p1043
aVone-way databinding portion, which
p1044
aVends up being just a regular Eval()
p1045
aVcall
p1046
aVThe second part is the reverse
p1047
aVportion, which is typically some code
p1048
aValong the lines of "string name =
p1049
aVTextBox1
p1050
aVText" that grabs the value
p1051
aVback out from where it was bound
p1052
aVHowever, because ASP
p1053
aVNET has to parse
p1054
aVBind() statements, two-way databinding
p1055
aVdoesn\u2019t support anything other than
p1056
aVBind()
p1057
aVFor example, the following
p1058
aVsyntax is invalid because it tries to
p1059
aVinvoke arbitrary code and use Bind()
p1060
aVat the same time:
p1061
aV<%# FormatNameHelper(Bind("Name")) %>
p1062
aVThe only formats supported in two-way
p1063
aVdatabinding are Bind("field") and
p1064
aVBind("field", "format string {0}")
p1065
aVYou could use Eval instead of Bind in your EditItemTemplate
p1066
aVYou also need to cast to string:
p1067
as(dp1068
g16
V29407
p1069
stp1070
a((dp1071
g2
(lp1072
VTry installing the sqlite3-ruby gem:
p1073
as(dp1074
g16
V29407
p1075
stp1076
a((dp1077
g2
(lp1078
VI suppose there's a reason behind the fact that the members in your generating assembly are marked internal
p1079
aVYou can either expose the necessary functionality in public methods, or you are left with only two choices: InternalsVisibleTo (as @tuinstoel mentioned in the comments section) or Reflection (using reflection you can access non public members in different assemblies)
p1080
as(dp1081
g16
V29407
p1082
stp1083
a((dp1084
g2
(lp1085
VCross site XMLHttpRequest are forbidden by most browsers
p1086
aVIf you want to crawl different sites, you will need to do it in a server side script
p1087
as(dp1088
g16
V29407
p1089
stp1090
a((dp1091
g2
(lp1092
VYou can take a look at this tutorial showing how to develop a web service using php
p1093
aVThe
p1094
aVNET client will be pretty straightforward as you mentioned
p1095
as(dp1096
g16
V29407
p1097
stp1098
a((dp1099
g2
(lp1100
VYou can have a look at the Textile markup language to see if it fits your needs
p1101
aVIt has many implementations and nice documentation
p1102
as(dp1103
g16
V29407
p1104
stp1105
a((dp1106
g2
(lp1107
VAs far as I know Visual Studio defines only DEBUG and TRACE constants
p1108
aVInstead of declaring such constant manually in the project configurations you could use NANT to build your project
p1109
aVIt can determine the build platform at compile time and define a custom directive accordingly
p1110
as(dp1111
g16
V29407
p1112
stp1113
a((dp1114
g2
(lp1115
s(dp1116
g16
V29407
p1117
stp1118
a((dp1119
g2
(lp1120
VThis issue has been discussed here
p1121
aVBasically you can change the current thread's CurrentCulture to en-US
p1122
as(dp1123
g16
V29407
p1124
stp1125
a((dp1126
g2
(lp1127
ViTextSharp is basically a PDF generation library but can also be used to create files as shown here
p1128
as(dp1129
g16
V29407
p1130
stp1131
a((dp1132
g2
(lp1133
VYou can take a look at the Web Deployment Projects VS add-in
p1134
aVScott Guthrie does a great job explaining it in this post
p1135
as(dp1136
g16
V29407
p1137
stp1138
a((dp1139
g2
(lp1140
VI doubt that adding controls to a WinForm could be slow
p1141
aVIMHO what probably degrades the performance is fetching the data that is bound to them
p1142
aVSo you can for example load the data in a new thread and once it is loaded, bind it to the control:
p1143
as(dp1144
g16
V29407
p1145
stp1146
a((dp1147
g2
(lp1148
VTo name a few:
p1149
aVAutomatic memory management, garbage collection
p1150
aVType safety
p1151
aVBounds checking
p1152
aVAccess to thousands of classes that you will not have to create
p1153
as(dp1154
g16
V29407
p1155
stp1156
a((dp1157
g2
(lp1158
VA service on server1 that's running under the Local Service principal and that tries to access the folder on server2 is seen as an anonymous connection attempt that is or isn't allowed depending on the policy of server2
p1159
aVSo you need to either allow anonymous access on server2 or change the service account (recommended)
p1160
as(dp1161
g16
V29407
p1162
stp1163
a((dp1164
g2
(lp1165
VTry going to the Publish tab in the project properties and then select the Application Files button
p1166
aVThen set the following properties:
p1167
aVFile Name of stdole
p1168
aVdll
p1169
aVPublish status to Include
p1170
aVDownload Group to Required
p1171
aVAfter that you need to republish your application
p1172
aVIf the reference has CopyLocal=true, then the reference will be published with the application
p1173
aVIf the reference has CopyLocal=false then the reference will be marked as a prerequisite
p1174
aVThis means the assembly must be installed in the client's GAC before the ClickOnce application will install
p1175
aVThere are some assemblies that are installed into the GAC because of the Visual Studio install, not the
p1176
aVNET Framework install
p1177
aVThis could be your situation
p1178
as(dp1179
g16
V29407
p1180
stp1181
a((dp1182
g2
(lp1183
VTry granting the ASP
p1184
aVNET account permissions to the following folder:  (may vary according to your environment)
p1185
as(dp1186
g16
V29407
p1187
stp1188
a((dp1189
g2
(lp1190
VIf only the second listbox's contents needs to change then it would be more appropriate to put the first listbox outside the UpdatePanel and use triggers property:
p1191
aVThis way only the second listbox will be updated when you perform your AJAX postback
p1192
as(dp1193
g16
V29407
p1194
stp1195
a((dp1196
g2
(lp1197
VYou can use  inside your  to reference Entity2:
p1198
aVIn this case Entity2 needs to be a persistent class with its own mapping file
p1199
as(dp1200
g16
V29407
p1201
stp1202
a((dp1203
g2
(lp1204
VThere is nothing wrong with your regular expression (apart from some optimizations you can make as suggested by others)
p1205
aVThe following code works fine in IE 7 and Firefox and successfully matches the string:
p1206
aVSo there's something else that might cause the issue
p1207
aVI would suggest you to try to isolate the problem as much as possible and the solution will then be easier to find
p1208
as(dp1209
g16
V29407
p1210
stp1211
a((dp1212
g2
(lp1213
VUsing Spring
p1214
aVNET AOP + NHibernate you can write your repository class as normal and configure your transactions in custom XML file:
p1215
aVIn the XML file you select which methods you would like to be executed inside a transaction:
p1216
aVAnd in your code you obtain an instance of the CustomerService class like this:
p1217
aVSpring
p1218
aVNET will return you a proxy of the CustomerService class that will apply a transaction when you call CreateOrder method
p1219
aVThis way there's no transaction specific code inside your service classes
p1220
aVAOP takes care of it
p1221
aVFor more details you can take a look at the documentation of Spring
p1222
aVNET
p1223
as(dp1224
g16
V29407
p1225
stp1226
a((dp1227
g2
(lp1228
VI am not familiar with Entity Framework and the ObjectQuery class but if the Include method is virtual you can mock it like this:
p1229
as(dp1230
g16
V29407
p1231
stp1232
a((dp1233
g2
(lp1234
s(dp1235
g16
V29407
p1236
stp1237
a((dp1238
g2
(lp1239
VIt has no special meaning
p1240
aVIt is just an arbitratry name
p1241
aVIf you use the wizard of ASP
p1242
aVNET MVC RC you will find that it is referenced inside your master page (Site
p1243
aVmaster):
p1244
aVAs to all
p1245
aVmin
p1246
aVcss used in SO, it could be a custom handler that is executed on the server to retrieve a compressed style sheet by version
p1247
as(dp1248
g16
V29407
p1249
stp1250
a((dp1251
g2
(lp1252
VYou may take a look at the FieldInfo type and GetField method
p1253
aVCode might look something among the lines:
p1254
as(dp1255
g16
V29407
p1256
stp1257
a((dp1258
g2
(lp1259
VIf you want to change the contents of an existing PDF file and add extra content such as watermarks, pagenumbers, extra headers, PdfStamper is the object you need
p1260
aVI have successfully used the following code to insert an image into an existing pdf file to a given absolute position:
p1261
aVWhen you insert the image you have the possibility to resize it
p1262
aVYou can take a look at transformation matrix in the iTextSharp documentation
p1263
as(dp1264
g16
V29407
p1265
stp1266
a((dp1267
g2
(lp1268
VYou should be using the  handler instead of  to update the html because it will be triggered only if the server sends 200
p1269
as(dp1270
g16
V29407
p1271
stp1272
a((dp1273
g2
(lp1274
VIMHO there is no way to serialize the JSON string you provided into a
p1275
aVNET class using DataContractJsonSerializer
p1276
aVThe problem comes from the way DataContractJsonSerializer serializes dictionaries
p1277
aVYou could use an alternative serializer such as Json
p1278
aVNET (which I strongly recommend) or JavaScriptSerializer (I think it was deprecated in favor of DataContractJsonSerializer but it will work for your scenario)
p1279
aVYou can also read these rants
p1280
as(dp1281
g16
V29407
p1282
stp1283
a((dp1284
g2
(lp1285
VThe append method expects a string or DOM node as argument
p1286
aVYou are calling it with an object (json)
p1287
aVThe contents of this object will depend on the data sent by the server
p1288
aVWhat does the alert print on your screen
p1289
aVUsing FireBug you can inspect the properties available to your json object:
p1290
as(dp1291
g16
V29407
p1292
stp1293
a((dp1294
g2
(lp1295
VYou could use anchors in your aspx page:
p1296
aVor make a redirect in your code behind:
p1297
as(dp1298
g16
V29407
p1299
stp1300
a((dp1301
g2
(lp1302
VYou could use getElementsByName function which will return an array of all elements having a given name:
p1303
as(dp1304
g16
V29407
p1305
stp1306
a((dp1307
g2
(lp1308
VDean Edward's packer achieves some pretty good compression ratios
p1309
aVIt has command line implementations which allows it to be used in a continuous integration process
p1310
as(dp1311
g16
V29407
p1312
stp1313
a((dp1314
g2
(lp1315
VYour objects contain circular references which is not supported by the XmlSerializer class
p1316
aVYou could instead look at the DataContractSerializer which supports such scenarios
p1317
as(dp1318
g16
V29407
p1319
stp1320
a((dp1321
g2
(lp1322
VBecause C++ compiles to machine code, while C# to byte code
p1323
aVHave you noticed the lag when you first start your
p1324
aVNET program
p1325
aVIt is when the byte code gets JITed (compiled to machine code)
p1326
as(dp1327
g16
V29407
p1328
stp1329
a((dp1330
g2
(lp1331
VWhy not order the rows on the server side
p1332
aVIf you are going to reorder them with JQuery as soon as the page is loaded then it will be more efficient to do this job in server code, especially if the user's selected order is stored in a database
p1333
as(dp1334
g16
V29407
p1335
stp1336
a((dp1337
g2
(lp1338
VYou can install your site to the local IIS server instead of using Visual Studio's built in server
p1339
as(dp1340
g16
V29407
p1341
stp1342
a((dp1343
g2
(lp1344
VYou might be missing the SOAPAction header
p1345
aVHere's a working example:
p1346
aVAnd the calling VBS script:
p1347
as(dp1348
g16
V29407
p1349
stp1350
a((dp1351
g2
(lp1352
VTry this:
p1353
aVAnd add  to the project reference for assembly1 and  for assembly2
p1354
as(dp1355
g16
V29407
p1356
stp1357
a((dp1358
g2
(lp1359
VIt is not necessary to declare a type that reflects the json structure:
p1360
as(dp1361
g16
V29407
p1362
stp1363
a((dp1364
g2
(lp1365
VYou are using the BinaryFormatter class which includes type information into the serialized stream, so you don't need the docType variable:
p1366
as(dp1367
g16
V29407
p1368
stp1369
a((dp1370
g2
(lp1371
VYou can checkout the rules add function, but basically here's what you can do:
p1372
aVThis way no need to worry about the crappy identifiers generated by the webforms engine
p1373
as(dp1374
g16
V29407
p1375
stp1376
a((dp1377
g2
(lp1378
VThere's an article on codeproject
p1379
as(dp1380
g16
V29407
p1381
stp1382
a((dp1383
g2
(lp1384
VSoapUI is another web service testing tool
p1385
aVI strongly recommend it
p1386
as(dp1387
g16
V29407
p1388
stp1389
a((dp1390
g2
(lp1391
V\u005cx27 is invalid JSON
p1392
aVReplace it with \u005cu0027
p1393
as(dp1394
g16
V29407
p1395
stp1396
a((dp1397
g2
(lp1398
VYou need to include a DOCTYPE declaration if you want to use the GetElementById method
p1399
aVIt is because the function doesn't know what ID means for the given XML
p1400
aVIn your case you are using XHTML, so you need to specify that when you want to find an element by id this means find a node that has an attribute named "id":
p1401
aVThis first approach means that you need web access to the DOCTYPE declaration when running your code (http://www
p1402
aVw3
p1403
aVorg/TR/xhtml1/DTD/xhtml1-transitional
p1404
aVdtd)
p1405
aVAn alternative approach would be to use XPATH expression:
p1406
as(dp1407
g16
V29407
p1408
stp1409
a((dp1410
g2
(lp1411
VYou can use google's protocol buffers
p1412
aVIt is a fast and compact mechanism for serializing objects
p1413
aVThere are two implementations on
p1414
aVNET: protobuf-net and protobuf
p1415
as(dp1416
g16
V29407
p1417
stp1418
a((dp1419
g2
(lp1420
VYou can enable basic authentication for this directory by setting up username and password
p1421
as(dp1422
g16
V29407
p1423
stp1424
a((dp1425
g2
(lp1426
VYou can register type aliases either in app
p1427
aVconfig/web
p1428
aVconfig:
p1429
aVOr in a spring configuration file by adding a definition for the  object:
p1430
aVYou will find this in the documentation
p1431
as(dp1432
g16
V29407
p1433
stp1434
a((dp1435
g2
(lp1436
VYou are attempting to create a file in the root folder of your site
p1437
aVWhen doing so you get an access denied exception
p1438
aVThe following instruction:  will attempt to create a new file in the root folder of your site
p1439
aVThe exception is due to the fact that the account your site is running under doesn't have enough permissions to write to that directory
p1440
aVEither grant the account write permissions to the root folder or as Freddy Rios suggested create a subfolder to store your pdf files into and you will need to grant write permissions only to this subfolder
p1441
as(dp1442
g16
V29407
p1443
stp1444
a((dp1445
g2
(lp1446
VYou cannot share sessions between different ASP
p1447
aVNET applications without some custom code
p1448
aVWhat you did in web
p1449
aVconfig was to use an out of process sessions, which means that data will no longer reside into memory but into the memory of a dedicated machine
p1450
aVThis is useful for server farms and it uses the ApplicationName to know which application the session belongs to
p1451
aVSo basically your applications need to have the same name if you want them to share sessions
p1452
aVThere are some dirty workarounds though
p1453
as(dp1454
g16
V29407
p1455
stp1456
a((dp1457
g2
(lp1458
VYou are missing the quotes around your expressions:
p1459
as(dp1460
g16
V29407
p1461
stp1462
a((dp1463
g2
(lp1464
VYou could use an abstract class:
p1465
aVAnother possibility is to have this:
p1466
as(dp1467
g16
V29407
p1468
stp1469
a((dp1470
g2
(lp1471
VIf you know the structure of the binary stream you can use the BinaryReader class:
p1472
aVIf you don't know the structure you are trying to read, you will need some hard guessing
p1473
as(dp1474
g16
V29407
p1475
stp1476
a((dp1477
g2
(lp1478
VHere's how you can do it in C#:
p1479
as(dp1480
g16
V29407
p1481
stp1482
a((dp1483
g2
(lp1484
VBecause it serves as container for objects
p1485
aVIt is the framework that manages their lifecycle
p1486
aVIt is responsible to instantiate, resolve references and destroy them
p1487
as(dp1488
g16
V29407
p1489
stp1490
a((dp1491
g2
(lp1492
VI can't recall it from the top of my head but I think there was a bug in XmlDataSource that prevents you to bind to values of xml nodes
p1493
aVIt works with attributes only
p1494
aVPlease correct me if I am wrong with this
p1495
aVThere's a slight modification you need to make to your XML file:
p1496
aVNote that I added the name attribute instead of using the value of the node directly
p1497
aVIf you can't modify the structure of your original XML file you can apply an XSLT transformation on it using the TransformFile property as described in this post
p1498
as(dp1499
g16
V29407
p1500
stp1501
a((dp1502
g2
(lp1503
VThe ExtensionData is actually a feature that must be built into the type to enable round-tripping
p1504
aVIt is always emitted by the DataContractSerializer
p1505
aVOne possible way of suppressing this field is using the older XmlSerializer by decorating your service contract interface with the XmlSerializerFormatAttribute
p1506
as(dp1507
g16
V29407
p1508
stp1509
a((dp1510
g2
(lp1511
VYou could use the many-to-one element:
p1512
aVNote that you need a column in your table to define the relation
p1513
as(dp1514
g16
V29407
p1515
stp1516
a((dp1517
g2
(lp1518
VIf you want to execute some javascript before redirecting, you will need to do the redirect in javascript and not in ASP
p1519
aVNET
p1520
as(dp1521
g16
V29407
p1522
stp1523
a((dp1524
g2
(lp1525
VI suggest you to start commenting all the methods you overrode until you isolate the problem
p1526
aVIn worst case you will get to the point where the ASP
p1527
aVNET MVC wizard left your project when you created it and where parameter binding definitely worked
p1528
as(dp1529
g16
V29407
p1530
stp1531
a((dp1532
g2
(lp1533
VAs far as I know, no such feature exists
p1534
aVIt would be tricky, anyway
p1535
aVWhat should be the semantics if the singleton has been wired to other objects already, before it is removed eventually
p1536
aVRe-setting object properties to null might not be possible as you cannot assume that null is allowed for the affected properties
p1537
aVIf the object is wired via constructor injection, there might not even be a setter method
p1538
as(dp1539
g16
V29407
p1540
stp1541
a((dp1542
g2
(lp1543
VDomain classes:
p1544
aVAnd their corresponding mappings:
p1545
aVOr if you prefer the fluent way of expressing your mappings:
p1546
as(dp1547
g16
V29407
p1548
stp1549
a((dp1550
g2
(lp1551
VIf it is the initial load of your application that takes time, you could consider adding a splash screen
p1552
aVIf it is a secondary form, then the BackgroundWorker class is an excellent component allowing you to perform time consuming tasks on background threads without freezing your main GUI thread
p1553
aVThe DoWork, ProgressChanged and RunWorkerCompleted events are particularly useful
p1554
as(dp1555
g16
V29407
p1556
stp1557
a((dp1558
g2
(lp1559
VYou can add a hidden field in your aspx file:
p1560
aVAnd in your code behind populate it from the request parameter:
p1561
as(dp1562
g16
V29407
p1563
stp1564
a((dp1565
g2
(lp1566
VHere's how to select a portion of a text box (range select) and get the selected text:
p1567
aVDemo
p1568
as(dp1569
g16
V29407
p1570
stp1571
a((dp1572
g2
(lp1573
VYou could either write an url rewrite handler, use ASP
p1574
aVNET MVC routing in your webforms application, or use ASP
p1575
aVNET MVC instead of webforms
p1576
as(dp1577
g16
V29407
p1578
stp1579
a((dp1580
g2
(lp1581
VYou cannot have two partial classes referring to the same class in two different assemblies (projects)
p1582
aVOnce the assembly is compiled, the meta-data is baked in, and your classes are no longer partial
p1583
aVPartial classes allows you to split the definition of the same class into two files
p1584
as(dp1585
g16
V29407
p1586
stp1587
a((dp1588
g2
(lp1589
VWhen you open the file for writing you shouldn't use FileShare
p1590
aVReadWrite
p1591
aVYou should instead use FileShare
p1592
aVRead:
p1593
aVWhen mplayer
p1594
aVexe process open the file for reading it will first try to open it with FileShare
p1595
aVRead which will fail but it then will reattempt with FileShare
p1596
aVReadWrite which will succeed
p1597
as(dp1598
g16
V29407
p1599
stp1600
a((dp1601
g2
(lp1602
VIf you want to write a managed class that implements the IDispatchEx interface you will first need to define this interface because it does not exist in
p1603
aVNET
p1604
aVHere's a link to its definition
p1605
aVIMHO implementing this interface won't be a trivial task
p1606
as(dp1607
g16
V29407
p1608
stp1609
a((dp1610
g2
(lp1611
VEDIT:
p1612
aVaspnet_regiis
p1613
aVexe should no longer be used with IIS7 to install ASP
p1614
aVNET
p1615
as(dp1616
g16
V29407
p1617
stp1618
a((dp1619
g2
(lp1620
VThe page class is instantiated by the ASP
p1621
aVNET runtime when a request is made
p1622
aVSo you can make a request and get the capture the response:
p1623
as(dp1624
g16
V29407
p1625
stp1626
a((dp1627
g2
(lp1628
VWhen you instantiate the client proxy class (the one that derives from ClientBase and implements your service contract) you can specify a remote address:
p1629
aVThis way you can override the address value stored in your app/web
p1630
aVconfig
p1631
aVAnother option if you use directly the ChannelFactory class:
p1632
as(dp1633
g16
V29407
p1634
stp1635
a((dp1636
g2
(lp1637
VYour service needs to handle all exceptions and wrap them into FaultException where T is a data contract you have written
p1638
aVSo the first step is to define a custom data contract that will contain your exception information:
p1639
aVThen you instruct your service contract that its methods could potentially throw FaultException
p1640
aVThis allows the service to expose the CustomFault class in the wsdl, so that clients could generate a proxy class:
p1641
aVNext step is to implement this interface:
p1642
aVTo handle exceptions you could implement IErrorHandler which will be used whenever one of your service methods throws an exception
p1643
aVThe purpose of this error handler is to wrap the exception into FaultException:
p1644
aVOnce you have registered your error handler, on the client side, you will always get FaultException
p1645
as(dp1646
g16
V29407
p1647
stp1648
a((dp1649
g2
(lp1650
VThe OnStart method shouldn't block
p1651
aVYou need to spawn a worker thread that will do the job
p1652
aVYou could also take a look at the FileSystemWatcher class to scan for file system change notifications
p1653
as(dp1654
g16
V29407
p1655
stp1656
a((dp1657
g2
(lp1658
VAt first glance there are three problems with your code:
p1659
aV1: you should use the ServiceKnownTypeAttribute to specify known types when exposing only base types in your operation contracts:
p1660
aV2: You should use  instead of  because the latter is not compatible with WebScriptServiceHostFactory
p1661
aV3: IMHO using Method="GET" would be more RESTful for a method called GetClientJson than Method="POST"
p1662
aVAnother advice I could give you when working with WCF services is to use SvcTraceViewer
p1663
aVexe bundled with Visual Studio
p1664
aVIt is a great tool for debugging purposes
p1665
aVAll you need is to add the following section to your app/web
p1666
aVconfig:
p1667
aVThen invoke the web method and WcfDetailTrace
p1668
aVe2e file will be generated in your web site root directory
p1669
aVNext open this file with SvcTraceViewer
p1670
aVexe and you will see lots of useful information
p1671
aVFor example it could say:
p1672
aVCannot serialize parameter of type
p1673
aV'MyNamespace
p1674
aVClient' (for operation
p1675
aV'GetClientJson', contract
p1676
aV'IClientBroker') because it is not the
p1677
aVexact type 'MyNamespace
p1678
aVIClient' in
p1679
aVthe method signature and is not in the
p1680
aVknown types collection
p1681
aVIn order to
p1682
aVserialize the parameter, add the type
p1683
aVto the known types collection for the
p1684
aVoperation using
p1685
aVServiceKnownTypeAttribute
p1686
aVOf course you should not forget commenting this section before going into production or you might end up with some pretty big files
p1687
as(dp1688
g16
V29407
p1689
stp1690
a((dp1691
g2
(lp1692
Vcsc
p1693
aVexe produces IL code
p1694
aVJIT produces machine code from the IL code, so correct me if I am wrong but I don't think JIT has anything to do with csc
p1695
aVexe
p1696
as(dp1697
g16
V29407
p1698
stp1699
a((dp1700
g2
(lp1701
VYou could take a look at SharpZipLib
p1702
aVAnd here's a sample
p1703
as(dp1704
g16
V29407
p1705
stp1706
a((dp1707
g2
(lp1708
VTry this:
p1709
as(dp1710
g16
V29407
p1711
stp1712
a((dp1713
g2
(lp1714
VIMHO there's no 100% reliable way to achieve this but the presence of any of the following headers is a strong indication that the request was routed from a proxy server:
p1715
aVYou could also look for the proxy or pxy in the client domain name
p1716
as(dp1717
g16
V29407
p1718
stp1719
a((dp1720
g2
(lp1721
VIt will depend on what you mean by "calculates some value" and "a lot of traffic"
p1722
aVYou could do some load testing and see how the #requests/second evolves with the traffic
p1723
as(dp1724
g16
V29407
p1725
stp1726
a((dp1727
g2
(lp1728
VDOM parsers read the entire XML document and build a representation of it as a hierarchy of objects in memory
p1729
aVSAX parsers read one XML token at a time
p1730
aVYou supply callback methods that the parser should call when it encounters certain kinds of things in the document
p1731
aVXMLTextReader reads one XML token at a time so it is closer to SAX but it doesn't provide callbacks
p1732
as(dp1733
g16
V29407
p1734
stp1735
a((dp1736
g2
(lp1737
VYou could append a fixed width for all inputs on the current page:
p1738
as(dp1739
g16
V29407
p1740
stp1741
a((dp1742
g2
(lp1743
VThere is an article showing how to do it
p1744
as(dp1745
g16
V29407
p1746
stp1747
a((dp1748
g2
(lp1749
VUsing basicHttpBinding endpoint will guarantee that any SOAP 1
p1750
aV1 compatible client will be able to consume your service
p1751
as(dp1752
g16
V29407
p1753
stp1754
a((dp1755
g2
(lp1756
VWhen you open a file for reading in
p1757
aVNET it will at some point try to create a file handle using the CreateFile API function which sets the error code which can be used to see why it failed:
p1758
as(dp1759
g16
V29407
p1760
stp1761
a((dp1762
g2
(lp1763
VLPBYTE is a pointer to a byte array
p1764
aVThe equivalent in C# would be a variable of type byte[]
p1765
aVSo you could translate your function like so:
p1766
as(dp1767
g16
V29407
p1768
stp1769
a((dp1770
g2
(lp1771
VAssuming you are using composite-element to map your UserBook class:
p1772
aVAnd here's the link to the complete source code
p1773
aVEDIT:
p1774
aVI see that you require the number of times a book has been read
p1775
aVHere's the query:
p1776
as(dp1777
g16
V29407
p1778
stp1779
a((dp1780
g2
(lp1781
VA better approach would be to use unobtrusive javascript
p1782
aVYou generate your link as normal:
p1783
aVand then ajaxify it:
p1784
aVI didn't quite understand why would you want to use JQuery
p1785
aVdata()
p1786
as(dp1787
g16
V29407
p1788
stp1789
a((dp1790
g2
(lp1791
VYou could write an IFilter to extract text from word files
p1792
aVNo need to have Word installed
p1793
as(dp1794
g16
V29407
p1795
stp1796
a((dp1797
g2
(lp1798
VTo check if an url is valid instead of using exceptions you can use the TryCreate method:
p1799
as(dp1800
g16
V29407
p1801
stp1802
a((dp1803
g2
(lp1804
VYou can add mappings at runtime at the moment your session factory is being constructed:
p1805
aVor with assemblies:
p1806
as(dp1807
g16
V29407
p1808
stp1809
a((dp1810
g2
(lp1811
VRyan Bates has a screencast on this topic
p1812
as(dp1813
g16
V29407
p1814
stp1815
a((dp1816
g2
(lp1817
VYou need to specify the id of the DOM element that you want to be updated:
p1818
as(dp1819
g16
V29407
p1820
stp1821
a((dp1822
g2
(lp1823
VI finally decided to use xhtmlrenderer
p1824
aVIt perfectly fits my needs, it has many features and it was able to correctly render any of my HTML files
p1825
aVAs currently it has only a JAVA version I had to convert the jars into a
p1826
aVNET assembly with IKVM
p1827
as(dp1828
g16
V29407
p1829
stp1830
a((dp1831
g2
(lp1832
VYou could use the TempData to store objects that will be available between two requests
p1833
aVInternally the default implementation uses the Session
p1834
as(dp1835
g16
V29407
p1836
stp1837
a((dp1838
g2
(lp1839
VCheck out this post
p1840
as(dp1841
g16
V29407
p1842
stp1843
a((dp1844
g2
(lp1845
VThere are tools that could be used to compress javascript code and render it difficult for the end user to understand
p1846
as(dp1847
g16
V29407
p1848
stp1849
a((dp1850
g2
(lp1851
VRight click on your solution, then go to Properties, Configuration Properties and select the projects you want to be compiled
p1852
as(dp1853
g16
V29407
p1854
stp1855
a((dp1856
g2
(lp1857
VFirst a little clarification: a DLL cannot implement an interface
p1858
aVThe DLL contains types that could implement a specific interface
p1859
aVHere's a
p1860
aVNET wrapper around fusion
p1861
aVdll that allows you to enumerate all the assemblies in the GAC
p1862
aVOnce you have loaded the assembly with Assembly
p1863
aVLoad you can try to find all the types that implement the specific interface:
p1864
as(dp1865
g16
V29407
p1866
stp1867
a((dp1868
g2
(lp1869
VFirebug +
p1870
as(dp1871
g16
V29407
p1872
stp1873
a((dp1874
g2
(lp1875
VThere are many ways depending on your needs
p1876
as(dp1877
g16
V29407
p1878
stp1879
a((dp1880
g2
(lp1881
VCookies are not sent by default with WebClient
p1882
aVYou could although write your implementation that uses a cookie container:
p1883
as(dp1884
g16
V29407
p1885
stp1886
a((dp1887
g2
(lp1888
VIn general if you don't care which property was null in your object hierarchy just don't test against it
p1889
aVUse a global error handler for the application (this will depend on the type of application ASP
p1890
aVNET, WinForms,
p1891
aVand say the user something went wrong
p1892
as(dp1893
g16
V29407
p1894
stp1895
a((dp1896
g2
(lp1897
s(dp1898
g16
V29407
p1899
stp1900
a((dp1901
g2
(lp1902
VAdd  to your collection mapping
p1903
as(dp1904
g16
V29407
p1905
stp1906
a((dp1907
g2
(lp1908
VYou should derive from it
p1909
as(dp1910
g16
V29407
p1911
stp1912
a((dp1913
g2
(lp1914
VIf it is an ASP
p1915
aVNET application, xcopying will modify web
p1916
aVconfig which will unload the application domain so you don't need to stop and start the web publishing service nor recycle the application pool
p1917
as(dp1918
g16
V29407
p1919
stp1920
a((dp1921
g2
(lp1922
VIt's because statically typed languages are often compiled to machine code while dynamically typed languages are in most cases run by an interpreter
p1923
as(dp1924
g16
V29407
p1925
stp1926
a((dp1927
g2
(lp1928
VNET Framework 3
p1929
aV5 is not supported on Windows 2000
p1930
aVUPDATE
p1931
aVIf you are converting a Web Site Project to a Web Application Project make sure to check these pointers
p1932
as(dp1933
g16
V29407
p1934
stp1935
a((dp1936
g2
(lp1937
VIn C, you must compile your program with the TINY memory model
p1938
aVThen you can use use EXE2BIN or a similar program to convert an EXE file to a COM file
p1939
as(dp1940
g16
V29407
p1941
stp1942
a((dp1943
g2
(lp1944
VThere's no such function in the framework base class library
p1945
aVIf it is for debugging purposes you could set brake points in the code and analyze the values in your collection
p1946
aVIf it is for printing it on the screen you could override the ToString method for each object
p1947
aVYet another option would be to serialize the array to XML if this format is acceptable
p1948
as(dp1949
g16
V29407
p1950
stp1951
a((dp1952
g2
(lp1953
VYou missed the generic argument:
p1954
as(dp1955
g16
V29407
p1956
stp1957
a((dp1958
g2
(lp1959
VYou might take a look at mergebin, a tool that allows you to combine unmanaged and managed DLLs into one assembly
p1960
aVSystem
p1961
aVData
p1962
aVSQLite uses this approach
p1963
as(dp1964
g16
V29407
p1965
stp1966
a((dp1967
g2
(lp1968
VThe DLLs will use the app
p1969
aVconfig file of their host application
p1970
aVFor example if your smart client is called MySmartClient, then you could use MySmartClient
p1971
aVexe
p1972
aVconfig the same way you would use web
p1973
aVconfig to define web service urls
p1974
as(dp1975
g16
V29407
p1976
stp1977
a((dp1978
g2
(lp1979
VYou should use tha  attribute instead of :
p1980
aVAlso it should be  instead of
p1981
aVYou need to double check that you have a type called  in  namespace defined in  assembly
p1982
as(dp1983
g16
V29407
p1984
stp1985
a((dp1986
g2
(lp1987
VHave you tried:
p1988
as(dp1989
g16
V29407
p1990
stp1991
a((dp1992
g2
(lp1993
VYou need to create a virtual directory for your ASP
p1994
aVNET application as described here
p1995
as(dp1996
g16
V29407
p1997
stp1998
a((dp1999
g2
(lp2000
VConverting HTML to bitmap is difficult task
p2001
aVYou will need first a rendering engine capable of handling HTML and optionally javascript and css (in case you want to support them)
p2002
aVUsing a WebBrowser control could be done but there might be better ways
p2003
as(dp2004
g16
V29407
p2005
stp2006
a((dp2007
g2
(lp2008
VYou need to mark your assembly as COM visible by setting the COMVisibleAttribute to true (either at assembly level or at class level if you want to expose only a single type)
p2009
aVNext you register it with:
p2010
aVand finally call it from VBScript:
p2011
as(dp2012
g16
V29407
p2013
stp2014
a((dp2015
g2
(lp2016
VThis has been already discussed here
p2017
as(dp2018
g16
V29407
p2019
stp2020
a((dp2021
g2
(lp2022
VAbsolutely
p2023
aVI would recommend you Hibernate in Action
p2024
as(dp2025
g16
V29407
p2026
stp2027
a((dp2028
g2
(lp2029
VTo select DOM elemets by id use #id_of_element:
p2030
as(dp2031
g16
V29407
p2032
stp2033
a((dp2034
g2
(lp2035
Vand
p2036
aVare not the same tests because if depObj is not of type FrameworkElement nor FrameworkContentElement but is not null the second test will return true, while the first will return false
p2037
as(dp2038
g16
V29407
p2039
stp2040
a((dp2041
g2
(lp2042
VYou could try this:
p2043
as(dp2044
g16
V29407
p2045
stp2046
a((dp2047
g2
(lp2048
VAllow directory browsing in IIS and download the root folder
p2049
aVThen you could find the latest version number and construct the actual url to download
p2050
aVHere's a sample (assuming your directories will be of the form Major
p2051
aVMinor
p2052
aVRevision):
p2053
as(dp2054
g16
V29407
p2055
stp2056
a((dp2057
g2
(lp2058
VFluent NHibernate generates temporary
p2059
aVhbm
p2060
aVxml files that are used to construct the ISessionFactory
p2061
aVI guess you need to grant write permissions on the Temp folder to the ASPNET account on your server
p2062
as(dp2063
g16
V29407
p2064
stp2065
a((dp2066
g2
(lp2067
VYou code looks fine
p2068
aVIf you are entering the else condition it means that there are either no
p2069
aVrar files under d:\u005ctest (or any subfolders) or that the account you are running your code under doesn't have read permissions to this folder
p2070
as(dp2071
g16
V29407
p2072
stp2073
a((dp2074
g2
(lp2075
VAlong with a key you need an Initialization Vector (8 bytes for your case):
p2076
as(dp2077
g16
V29407
p2078
stp2079
a((dp2080
g2
(lp2081
VWell actually you could use reflection:
p2082
aVNot the kind of code I like, but in C# 4
p2083
aV0 you could use the dynamic type to clean up this mess
p2084
as(dp2085
g16
V29407
p2086
stp2087
a((dp2088
g2
(lp2089
VIMO logging should be a cross cutting concern of your application
p2090
aVYou should not try to reuse the same session in order to log errors
p2091
aVNHibernate already uses log4net
p2092
aVAll you need is to configure an appender that will write logs to the SQL database
p2093
as(dp2094
g16
V29407
p2095
stp2096
a((dp2097
g2
(lp2098
VIf you make your SessionData property virtual then your first approach could work:
p2099
aVIMO this approach is not very good because the SUT (Subject Under Test => in this case CityController) is being mocked with PartialMock
p2100
as(dp2101
g16
V29407
p2102
stp2103
a((dp2104
g2
(lp2105
VRoy Osherove has written an interesting article on this subject using enterprise services
p2106
as(dp2107
g16
V29407
p2108
stp2109
a((dp2110
g2
(lp2111
VTry this:
p2112
as(dp2113
g16
V29407
p2114
stp2115
a((dp2116
g2
(lp2117
VIt looks like this is by design and this behavior cannot be changed:
p2118
aVEnumeration member values are treated
p2119
aVas numbers in JSON, which is different
p2120
aVfrom how they are treated in data
p2121
aVcontracts, where they are included as
p2122
aVmember names
p2123
aVHere's an example using an alternative (and IMO better and more extensible) serializer which achieves what you are looking for:
p2124
as(dp2125
g16
V29407
p2126
stp2127
a((dp2128
g2
(lp2129
VYou cannot achieve this with ForEach
p2130
as(dp2131
g16
V29407
p2132
stp2133
a((dp2134
g2
(lp2135
VThis is the normal behavior
p2136
aVYou can try adding  to your class definition to override this behavior
p2137
as(dp2138
g16
V29407
p2139
stp2140
a((dp2141
g2
(lp2142
VajaxDotNet plugin uses the jQuery's native ajax functions but it is specifically designed for calling ASP
p2143
aVNET PageMethods and JSON enabled web services
p2144
as(dp2145
g16
V29407
p2146
stp2147
a((dp2148
g2
(lp2149
VI suspect that your text box has the disabled attribute instead of readonly which prevents it from posting its value to the server
p2150
as(dp2151
g16
V29407
p2152
stp2153
a((dp2154
g2
(lp2155
VHere's how you could call a custom ASP
p2156
aVNET PageMethod with jQuery and Microsoft Ajax:
p2157
as(dp2158
g16
V29407
p2159
stp2160
a((dp2161
g2
(lp2162
VIt seems like a bug in the ASP
p2163
aVNET MVC templates for MonoDevelop as suggested in the comments section of this post
p2164
as(dp2165
g16
V29407
p2166
stp2167
a((dp2168
g2
(lp2169
VMaybe because your background is white and you are setting white color to your font:
p2170
aVTry with black :-)
p2171
as(dp2172
g16
V29407
p2173
stp2174
a((dp2175
g2
(lp2176
VDataContract, DataMember and EnumMember attributes are used by the DataContractSerializer (usually basicHttpBinding or wsHttpBinding)
p2177
aVIf you are exposing an endpoint with TCP binding (netTcpBinding) only SerializableAttribute is required
p2178
aVNote that with DataContractSerializer you could only add SerializableAttribute to your classes and it will automatically serialize all fields
p2179
aVI would recommend you the following: if you want your service to be interoperable, use basicHttpBinding and mark your classes with DataContract and DataMember attributes
p2180
aVIf your client is a
p2181
aVNET application, use netTcpBinding and mark your classes with SerializableAttribute
p2182
aVYou could also read this post for comparison between different bindings
p2183
as(dp2184
g16
V29407
p2185
stp2186
a((dp2187
g2
(lp2188
s(dp2189
g16
V29407
p2190
stp2191
a((dp2192
g2
(lp2193
VPass a returnUrl parameter (url encoded) to the change and login actions and inside redirect to this given returnUrl
p2194
aVYour login action might look something like this:
p2195
as(dp2196
g16
V29407
p2197
stp2198
a((dp2199
g2
(lp2200
VQ1: Forms authentication uses machineKey to encrypt the cookie
p2201
aVSince its value is constant in machine
p2202
aVconfig ASP
p2203
aVNET is able to decrypt cookies encrypted with the same key
p2204
aVThe cookies are encrypted with the same key but this key is known only to the server, which means that the user cannot tamper with the data of the cookie and thus cannot impersonate another user, so it is not a security risk to use the same private key to encrypt cookies
p2205
aVQ2: The ticket contains the following information: the username and a date which is used to determine if it is valid (if sliding expiration is set, ASP
p2206
aVNET could rewrite the cookie as it checks its validity on every request)
p2207
aVIf the cookie is sent by the client and when it gets decrypted it is still valid, ASP
p2208
aVNET assumes that the client is authenticated
p2209
as(dp2210
g16
V29407
p2211
stp2212
a((dp2213
g2
(lp2214
VCheck out if this post might help
p2215
as(dp2216
g16
V29407
p2217
stp2218
a((dp2219
g2
(lp2220
VFor chunked responses I would recommend you reading data like this:
p2221
as(dp2222
g16
V29407
p2223
stp2224
a((dp2225
g2
(lp2226
VTry this:
p2227
as(dp2228
g16
V29407
p2229
stp2230
a((dp2231
g2
(lp2232
VIKVM
p2233
aVNET does pretty good job in taking a jar file and compiling it to a managed
p2234
aVNET assembly
p2235
as(dp2236
g16
V29407
p2237
stp2238
a((dp2239
g2
(lp2240
VMVC is about separation of concerns
p2241
aVPassing SqlDataReaders, DataTables, or whatever class that resides in the System
p2242
aVData namespace to a view is not a good idea
p2243
aVYou need to define a model which might talk to the database, and a controller which will pass this model to the view
p2244
aVIf your company policy says don't use an ORM then maybe classic WebForms are better suited to your scenario than the MVC pattern
p2245
as(dp2246
g16
V29407
p2247
stp2248
a((dp2249
g2
(lp2250
VHave you tried specifying  on your one-to-one mapping
p2251
as(dp2252
g16
V29407
p2253
stp2254
a((dp2255
g2
(lp2256
VNHibernate uses the default constructor to instantiate entities
p2257
aVThere are some workarounds though
p2258
as(dp2259
g16
V29407
p2260
stp2261
a((dp2262
g2
(lp2263
VYou might take a look at the DLR
p2264
aVIt allows you to evaluate and execute scripts inside
p2265
aVNET 2
p2266
aV0 application
p2267
aVHere's a sample with IronRuby:
p2268
aVOf course this technique is based on runtime evaluation and code cannot be verified at compile time
p2269
as(dp2270
g16
V29407
p2271
stp2272
a((dp2273
g2
(lp2274
VThis is not supported by
p2275
aVNET clients natively
p2276
aVYou might take a look at the following discussion on MSDN forums
p2277
aVIf you install WSE 2
p2278
aV0 there is an example at the following location: C:\u005cProgram Files\u005cMicrosoft WSE\u005cv2
p2279
aV0\u005cSamples\u005cCS\u005cQuickStart\u005cAttachments\u005cAttachmentsClient
p2280
as(dp2281
g16
V29407
p2282
stp2283
a((dp2284
g2
(lp2285
VTry this instead:
p2286
as(dp2287
g16
V29407
p2288
stp2289
a((dp2290
g2
(lp2291
VNHibernate
p2292
aVCaches is part of the contrib package
p2293
aVYou need to download the latest version and update your assembly
p2294
as(dp2295
g16
V29407
p2296
stp2297
a((dp2298
g2
(lp2299
Vif you enable ASP
p2300
aVNET Compatibility Mode on your WCF service you could secure it the same way you would secure any ASP
p2301
aVNET page:
p2302
as(dp2303
g16
V29407
p2304
stp2305
a((dp2306
g2
(lp2307
VAs you said the default encoding of an HTTP POST request is ISO-8859-1
p2308
aVOtherwise you have to look at the Content-Type header that might then look like
p2309
aVOnce you have read the posted data into a byte array you may decide to convert this buffer to a string (remember all strings in
p2310
aVNET are UTF-16)
p2311
aVIt is only at that moment that you need to know the encoding
p2312
aVAnd to answer your question:
p2313
aVAm I able to use Unicode to decode an
p2314
aVHTTP request given as a byte array
p2315
aVYes, if unicode has been used to encode this byte array:
p2316
as(dp2317
g16
V29407
p2318
stp2319
a((dp2320
g2
(lp2321
VIn addition to what @Greg B said you will need to add a dummy default
p2322
aVaspx page and register your handler using /* path:
p2323
as(dp2324
g16
V29407
p2325
stp2326
a((dp2327
g2
(lp2328
VYou may take a look at this post
p2329
as(dp2330
g16
V29407
p2331
stp2332
a((dp2333
g2
(lp2334
VIMHO the best solution would be to modify the code/program/whatever produced the invalid XML that is being fed to your program
p2335
aVUnfortunately this is not always possible
p2336
aVIn this case you need to escape all characters < 0x20 before trying to load the document
p2337
as(dp2338
g16
V29407
p2339
stp2340
a((dp2341
g2
(lp2342
VA COM DLL cannot talk to
p2343
aVNET assembly directly
p2344
aVYou might need to expose your
p2345
aVNET assembly as COM object and talk to this COM object instead
p2346
aVBut this might in fact be an overkill in your scenario
p2347
aVAnother option would be to expose the functionality that talks to the database in your
p2348
aVNET assembly as some interoperable service (WCF
p2349
aVthat might be called from the shell etension
p2350
as(dp2351
g16
V29407
p2352
stp2353
a((dp2354
g2
(lp2355
VA very helpful tool in your situation is process monitor
p2356
aVJust run it as administrator and add the following filter:
p2357
aVYou will see detailed information about the files your process is trying to use
p2358
as(dp2359
g16
V29407
p2360
stp2361
a((dp2362
g2
(lp2363
VI would just write a test for this case and don't bother for the rest:
p2364
as(dp2365
g16
V29407
p2366
stp2367
a((dp2368
g2
(lp2369
VTry this:
p2370
aVIn fact the ForEach method accepts a delegate of type Action and you should use the AddressOf to pass a pointer to a given method in VB
p2371
aVNET
p2372
as(dp2373
g16
V29407
p2374
stp2375
a((dp2376
g2
(lp2377
VBecause you cannot redirect from an action which is invoked asynchronously ($
p2378
aVpost)
p2379
aVLook here for alternative
p2380
as(dp2381
g16
V29407
p2382
stp2383
a((dp2384
g2
(lp2385
s(dp2386
g16
V29407
p2387
stp2388
a((dp2389
g2
(lp2390
VThe proper way would be to define fault contracts
p2391
aVFor example in your web service you could do the following:
p2392
aVNext you declare this contract for a given service operation
p2393
aVAnd you implement it like so:
p2394
aVIn this case the NoRoomsAvailableFaultContract will be exposed in the WSDL and svcutil
p2395
aVexe could generate a proxy class
p2396
aVThen you could catch this exception:
p2397
as(dp2398
g16
V29407
p2399
stp2400
a((dp2401
g2
(lp2402
VAccording to what actionUrl returned, "response" can be an xml document, a json object, text, etc
p2403
aVdepending on the Content-Type set by the server
p2404
aVIt is up to your server side script to send information about any validation errors in the response, so that they are available in the AJAX callback
p2405
aVJQuery's documentation has some examples
p2406
as(dp2407
g16
V29407
p2408
stp2409
a((dp2410
g2
(lp2411
VThe problem is that your the XML generated by the writer is UTF-16 while you use UTF-8 to convert it to string
p2412
aVTry this instead:
p2413
as(dp2414
g16
V29407
p2415
stp2416
a((dp2417
g2
(lp2418
s(dp2419
g16
V29407
p2420
stp2421
a((dp2422
g2
(lp2423
VTDD is about testing methods in isolation
p2424
aVIf you want to test your UI you are doing integration tests and not unit tests
p2425
aVSo if you carefully separate the concerns in your application you will be able to successfully apply TDD to ANY kind of project
p2426
as(dp2427
g16
V29407
p2428
stp2429
a((dp2430
g2
(lp2431
VHere are some good pointers on this subject
p2432
as(dp2433
g16
V29407
p2434
stp2435
a((dp2436
g2
(lp2437
VUsing pure HTML you cannot access files stored on users' computers
p2438
aVYou could instead use Flash, Java Applet, ActiveX, Silverlight,
p2439
as(dp2440
g16
V29407
p2441
stp2442
a((dp2443
g2
(lp2444
VExample:
p2445
aVRemarks:
p2446
aVLet ADO
p2447
aVNET connection pooling do the right work for you (avoid storing connections in static fields, etc
p2448
aVAlways make sure to properly dispose unmanaged resources (using "using" in C#)
p2449
aVAlways return the lowest interface in the hierarchy from your public methods (in this case IEnumerable)
p2450
aVLeave the callers handle exceptions and logging
p2451
aVThese are crosscutting concerns and should not be mixed with your DB access code
p2452
as(dp2453
g16
V29407
p2454
stp2455
a((dp2456
g2
(lp2457
VThe problem is that in your second example you open a file handle that you never dispose of, so the second time you call your method it will throw the exception you are describing
p2458
aVThe first snippet is the preferable way (You could remove the file_stream
p2459
aVClose() bit - it will be automatically called by Stream
p2460
aVDispose())
p2461
as(dp2462
g16
V29407
p2463
stp2464
a((dp2465
g2
(lp2466
VThere's no crossbrowser way to achieve this with pure javascript
p2467
aVInstead you could use a small
p2468
aVwav file that you play using embed or object tags
p2469
as(dp2470
g16
V29407
p2471
stp2472
a((dp2473
g2
(lp2474
s(dp2475
g16
V29407
p2476
stp2477
a((dp2478
g2
(lp2479
VIf all the methods require a company name then it is perfectly reasonable from a OOP design point of view to pass this company name into the constructor of your class
p2480
aVThis means that your class cannot function correctly without a company name so any consumer of the class will be forced to supply required dependency
p2481
as(dp2482
g16
V29407
p2483
stp2484
a((dp2485
g2
(lp2486
VHow about this:
p2487
as(dp2488
g16
V29407
p2489
stp2490
a((dp2491
g2
(lp2492
VTake a look at the IInstanceProvider interface
p2493
aVBasically you need to implement this interface and in the method GetInstance instantiate the WCF class yourself providing any dependencies
p2494
as(dp2495
g16
V29407
p2496
stp2497
a((dp2498
g2
(lp2499
VIt's because you are mixing SetData/GetData with LogicalSetData/LogicalGetData
p2500
aVThere's an article you could read more about differences between those two couple of methods
p2501
aVThe rule of thumb here is to always use SetData in conjunction with GetData and LogicalSetData in conjunction with LogicalGetData
p2502
aVThis modification will make your test pass:
p2503
as(dp2504
g16
V29407
p2505
stp2506
a((dp2507
g2
(lp2508
VAnother argument against using debug builds in production is because they consume much more memory since debug symbols are required to be loaded
p2509
as(dp2510
g16
V29407
p2511
stp2512
a((dp2513
g2
(lp2514
VAccording to your snippet MemberViewData class has the Results property in addition to properties of Search class
p2515
aVSo first step would be to make MemberViewData derive from Search and define a constructor that accepts Search instance as parameter and assigns it's basic properties from it
p2516
aVNext I would change the action method like so:
p2517
as(dp2518
g16
V29407
p2519
stp2520
a((dp2521
g2
(lp2522
VHere's a post that might give you some ideas
p2523
aVBasically it generates a sitemap from route values
p2524
as(dp2525
g16
V29407
p2526
stp2527
a((dp2528
g2
(lp2529
VYou could use the ContainsKey or TryGetValue method instead to verify if the dictionary contains the key
p2530
as(dp2531
g16
V29407
p2532
stp2533
a((dp2534
g2
(lp2535
VThe problem with forms authentication is that you cannot have a dynamically configured login url
p2536
aVThat's just the way ASP
p2537
aVNET team designed the framework
p2538
aVAt some moment FormsAuthentication
p2539
aVRedirectToLoginPage method will be called which will just redirect to the hardcoded url in web
p2540
aVconfig
p2541
aVI can see two possible workarounds:
p2542
aVDon't store language in the url but in a cookie
p2543
aVWrite a custom ActionFilter that redirects to a dynamically constructed login page if user is not authenticated
p2544
aVHere's an example using a custom attribute:
p2545
as(dp2546
g16
V29407
p2547
stp2548
a((dp2549
g2
(lp2550
VFor the null error change:
p2551
aVto
p2552
aVis looking for an element in the DOM that has a given  attribute
p2553
aVThe reason it works in IE is because it allows selecting by  attribute as well
p2554
as(dp2555
g16
V29407
p2556
stp2557
a((dp2558
g2
(lp2559
VYou could attach it as an attribute:
p2560
aVAnd attach the attribute to an operation
p2561
as(dp2562
g16
V29407
p2563
stp2564
a((dp2565
g2
(lp2566
s(dp2567
g16
V29407
p2568
stp2569
a((dp2570
g2
(lp2571
VA Configuration object is normally associated to an ISessionFactory
p2572
aVIf you have lots of mappings building (by calling cfg
p2573
aVBuildSessionFactory) a session factory might be slow
p2574
aVThat's why you need to construct a session factory only once and use it throughout your entire application
p2575
aVIn an ASP
p2576
aVNET application when the process recycles, you will lose the reference to this session factory and it needs to be reconstructed again
p2577
aVIf you find it is extremely slow to construct your session factory you could improve performance by disabling the reflection optimizer : Environment
p2578
aVUseReflectionOptimizer = false (cf doc)
p2579
as(dp2580
g16
V29407
p2581
stp2582
a((dp2583
g2
(lp2584
VThe , ,  and  data types do not have designated suffixes
p2585
aVHowever, integer literal can be assigned to variables of these data types and will be implicitly converted, assuming that the value is appropriate for storage in the variable
p2586
aVJust for the record here are the defined literals in C#:
p2587
as(dp2588
g16
V29407
p2589
stp2590
a((dp2591
g2
(lp2592
VBackgroundWorker is a good class for running tasks on background threads in winforms applications
p2593
aVHere's a small sample I wrote for you to demonstrate its usage:
p2594
as(dp2595
g16
V29407
p2596
stp2597
a((dp2598
g2
(lp2599
Vhttp://stackoverflow
p2600
aVcom/questions/466726/net-jump-list
p2601
aVhttp://www
p2602
aVvcskicks
p2603
aVcom/aero-shake
p2604
aVphp
p2605
as(dp2606
g16
V29407
p2607
stp2608
a((dp2609
g2
(lp2610
VConcerning javascript I would say that none of the methods seems suitable for me
p2611
aVI am a big fan of unobtrusive javascript, so I always prefer just adding a script tag in the beginning of my page and not writing a single line of js in helpers or user controls
p2612
as(dp2613
g16
V29407
p2614
stp2615
a((dp2616
g2
(lp2617
VThere's a nice route debugger
p2618
as(dp2619
g16
V29407
p2620
stp2621
a((dp2622
g2
(lp2623
VThere's a code smell here
p2624
aVIf you inherit from a class that has a parameterless constructor it means that the author of this base class intended that it cannot function properly without supplying the necessary dependency
p2625
aVIf you inherit from it and call a base method that required this dependency your code will probably fail if the dependency is not supplied
p2626
aVSo if you really think that you should completely override this behavior you don't have to inherit from this base class, otherwise just copy the constructor in the inherited class
p2627
as(dp2628
g16
V29407
p2629
stp2630
a((dp2631
g2
(lp2632
VMaybe your problem's somewhere else because the following works fine for me:
p2633
as(dp2634
g16
V29407
p2635
stp2636
a((dp2637
g2
(lp2638
VIf you use a web server (such as Cassini or IIS) to host your WCF service the base address will be provided from this server
p2639
aVAlso note that you cannot use TCP bindings over HTTP
p2640
aVIf you want to be able to set the base address property you need to host the service yourself (for example in NT service, console or windows application)
p2641
as(dp2642
g16
V29407
p2643
stp2644
a((dp2645
g2
(lp2646
VWhen Spring
p2647
aVNET is trying to resolve a reference in its configuration file it will use the same rules as the
p2648
aVNET assembly loader
p2649
aVSo maybe you could try adding the correct reference of log4net assembly in your bin folder
p2650
aVEDIT: If you want Spring
p2651
aVNET to locate assemblies in non-standard locations you could use the  element to indicate the location:
p2652
aVAnd then you could ask the container to instantiate the object:
p2653
as(dp2654
g16
V29407
p2655
stp2656
a((dp2657
g2
(lp2658
VThere's a difference between these blocks
p2659
aVIn the second case the exception won't be caught if it is thrown in the using() line (for example instantiating an IDisposable object and the constructor throws an exception)
p2660
aVWhich one is better will depend on your specific needs
p2661
as(dp2662
g16
V29407
p2663
stp2664
a((dp2665
g2
(lp2666
VIf the JIT compiler sees a call to a virtual method using a sealed types it can produce more efficient code by calling the method non-virtually
p2667
aVNow calling a non-virtual method is faster because there's no need to perform a vtable lookup
p2668
aVIMHO this is micro optimization that should be used as a last resort to improving performance of an application
p2669
aVIf your method contains whatever code, the virtual version will be negligibly slower than the non-virtual compared to the cost of executing the code itself
p2670
as(dp2671
g16
V29407
p2672
stp2673
a((dp2674
g2
(lp2675
Vor even shorter
p2676
as(dp2677
g16
V29407
p2678
stp2679
a((dp2680
g2
(lp2681
VAs @ceejayoz suggested JSONP technique must be used to access data on different domain
p2682
aVBut in order for this to work the server side script must be JSONP enabled which means that it must accept a parameter that will define a client postback function name to prepend to the JSON data
p2683
aVIf this is not the case you need to write a server script on the domain that is hosting your client script to serve as a bridge to the foreign domain
p2684
as(dp2685
g16
V29407
p2686
stp2687
a((dp2688
g2
(lp2689
VThere's no such built-in functionality in ASP
p2690
aVNET except app_offline
p2691
aVhtm which doesn't quite fit your needs because even you will be denied access to the site
p2692
aVYou have to build it on your own but this is best done on the routers and load balancers level than at the application level
p2693
aVOf course this will depend on your network architecture
p2694
as(dp2695
g16
V29407
p2696
stp2697
a((dp2698
g2
(lp2699
Vwsdl
p2700
aVexe crashes when importing this WSDL, so there must be something really wrong with
p2701
aVEven a
p2702
aVNET 2
p2703
aV0 client cannot consume it
p2704
aVCould you post the code of the web service
p2705
as(dp2706
g16
V29407
p2707
stp2708
a((dp2709
g2
(lp2710
VSession is preserved between multiple requests
p2711
as(dp2712
g16
V29407
p2713
stp2714
a((dp2715
g2
(lp2716
VIf by recent you mean recently written to then you could use the following code to gather all excel files in a given directory and order them by last write time:
p2717
aVOther properties of FileInfo that might interest you are LastAccessTime and CreationTime
p2718
aVEDIT: Sorry I didn't notice you were using
p2719
aVNET 2
p2720
aV0
p2721
aVSo here is the equivalent code for finding all excel files in a given directory and order them by last write time:
p2722
aVIn your question you mention downloading files in ASP
p2723
aVNET application
p2724
aVSo once you have retrieved the list of files you can show it to the user in a table so that he can pick up the desired file to download
p2725
as(dp2726
g16
V29407
p2727
stp2728
a((dp2729
g2
(lp2730
VPut a breakpoint at the opening parenthesis of your Convert method
p2731
aVStart your application in debug mode
p2732
aVWhen the breakpoint is hit analyze the actual type of value
p2733
aVDo the cast
p2734
aVIf value is string cast it to string and then parse the result to get an integer
p2735
aVRun the program again
p2736
aVIt should work this time
p2737
as(dp2738
g16
V29407
p2739
stp2740
a((dp2741
g2
(lp2742
VIf the new form will need the data immediately then it is probably better to pass it in the constructor of this form
p2743
as(dp2744
g16
V29407
p2745
stp2746
a((dp2747
g2
(lp2748
VWhat you need is a templating engine
p2749
aVI would recommend you StringTemplate
p2750
aVIt can be used as standalone engine and it has a
p2751
aVNET version
p2752
aVThere's a CodeProject article that could get you started
p2753
aVAFAIK ASP
p2754
aVNET WebForms cannot run without the ASP
p2755
aVNET infrastructure
p2756
as(dp2757
g16
V29407
p2758
stp2759
a((dp2760
g2
(lp2761
VHibernate will try to automatically replace "
p2762
aVs with values from your entity
p2763
aVWhen you call  it will use the value of the property that is mapped to the PPDID column
p2764
aVThat being said, I think it is a bad idea to use a custom sql statement in this case
p2765
aVIMHO your code will be difficult to understand and maintain
p2766
aVWhen a someone sees  he would expect a DELETE statement to be performed but instead it will get an UPDATE statement
p2767
aVI would stick to a  having set the correct values before
p2768
as(dp2769
g16
V29407
p2770
stp2771
a((dp2772
g2
(lp2773
VThere are no out of the box bindings in
p2774
aVNET 3
p2775
aV0 that will allow you to send JSON responses
p2776
aVYou will need to implement it yourself
p2777
aVThere's an article showing how to do REST with POX
p2778
aVIt could be easily adapted to JSON but as you will see there's not negligible amount of work
p2779
as(dp2780
g16
V29407
p2781
stp2782
a((dp2783
g2
(lp2784
VXmlSerializer has issues with IDictionary
p2785
aVIt is now deprecated in favor of DataContractSerializer which can serialize a CodeCompileUnit instance:
p2786
as(dp2787
g16
V29407
p2788
stp2789
a((dp2790
g2
(lp2791
VUnit testing frameworks usually provide asserts for floats that take a precision
p2792
aVFor example in Visual Studio Test you can write:
p2793
as(dp2794
g16
V29407
p2795
stp2796
a((dp2797
g2
(lp2798
VMake UserMap a public type
p2799
as(dp2800
g16
V29407
p2801
stp2802
a((dp2803
g2
(lp2804
VTry like this:
p2805
as(dp2806
g16
V29407
p2807
stp2808
a((dp2809
g2
(lp2810
VJust to add on what others have said, when writing to a file in a multi-threaded application, you need to synchronize the access to this resource
p2811
aVYou could use ReaderWriterLockSlim to achieve this:
p2812
as(dp2813
g16
V29407
p2814
stp2815
a((dp2816
g2
(lp2817
VYes, the only type that could break is IntPtr but you shouldn't serialize fields of this type anyways
p2818
as(dp2819
g16
V29407
p2820
stp2821
a((dp2822
g2
(lp2823
VThere's no equivalent of C#'s  keyword in VB
p2824
aVNET
p2825
aVInstead what's often recommended is the use of MemoryBarrier
p2826
aVHelper methods could also be written:
p2827
aVAlso there's a useful blog post on this subject
p2828
as(dp2829
g16
V29407
p2830
stp2831
a((dp2832
g2
(lp2833
VYou can use Membership
p2834
aVGetUser method to accomplish the same thing:
p2835
as(dp2836
g16
V29407
p2837
stp2838
a((dp2839
g2
(lp2840
VDid you include ajax client scripts in the head section:
p2841
aVMicrosoftMvcAjax
p2842
aVjs
p2843
aVMicrosoftAjax
p2844
aVjs
p2845
as(dp2846
g16
V29407
p2847
stp2848
a((dp2849
g2
(lp2850
VAFAIK there's no built in method in the framework that will allow you to do this
p2851
aVYou could check this post for a suggestion on determining framework version by reading windows registry values
p2852
as(dp2853
g16
V29407
p2854
stp2855
a((dp2856
g2
(lp2857
s(dp2858
g16
V29407
p2859
stp2860
a((dp2861
g2
(lp2862
VHere's a sample using WebClient you could try:
p2863
aVIf you decide to use it in a WinForms application make sure you call InvokeRequired/Invoke pattern from event handlers as they are not executed on the UI thread
p2864
as(dp2865
g16
V29407
p2866
stp2867
a((dp2868
g2
(lp2869
VHere's an article illustrating the approach
p2870
aVYou should indeed use the Contains method over your collection which will be translated into  clause
p2871
as(dp2872
g16
V29407
p2873
stp2874
a((dp2875
g2
(lp2876
V will read posted values
p2877
aVAlso you need to use a submit button to post the form:
p2878
aVinstead of
p2879
as(dp2880
g16
V29407
p2881
stp2882
a((dp2883
g2
(lp2884
VYou are saying that for globalization reasons you need to have both urls render the same view
p2885
aVIn this case I would suggest you to use the routing engine and map  to
p2886
as(dp2887
g16
V29407
p2888
stp2889
a((dp2890
g2
(lp2891
VThere are 3 basic type of applications in
p2892
aVNET:
p2893
aVConsole application
p2894
aVWindows Forms Application
p2895
aVASP
p2896
aVNET application
p2897
aVIf you want to run your application from a web server you need to create an ASP
p2898
aVNET application
p2899
aVThe web server needs to have
p2900
aVNET installed and a virtual directory setup for your application
p2901
as(dp2902
g16
V29407
p2903
stp2904
a((dp2905
g2
(lp2906
VA lock statement around List method's would definitely work but if you need caching functionality in your ASP
p2907
aVNET application I would recommend you using Cache class which is adapted to this functionality
p2908
as(dp2909
g16
V29407
p2910
stp2911
a((dp2912
g2
(lp2913
VHere's an example of how you could declare the GetCPUSpeed function in C#:
p2914
aVAnd there are the other declarations you could try:
p2915
as(dp2916
g16
V29407
p2917
stp2918
a((dp2919
g2
(lp2920
VUse basicHttpBinding and try avoiding
p2921
aVNET 2
p2922
aV0 types that don't exist in
p2923
aVNET 1
p2924
aV1
p2925
as(dp2926
g16
V29407
p2927
stp2928
a((dp2929
g2
(lp2930
VSQL connections are expensive to create and ADO
p2931
aVNET uses a technique called connection pooling which allows to reuse them
p2932
aVQuote from MSDN:
p2933
aVIt is strongly recommended that you
p2934
aValways close the connection when you
p2935
aVare finished using it so that it will
p2936
aVbe returned to the connection pool and
p2937
aVbe reused
p2938
aVIf the maximum pool size has been
p2939
aVreached and no usable connection is
p2940
aVavailable, the request is queued
p2941
aVThe
p2942
aVpooler then tries to reclaim any
p2943
aVconnections until the time-out is
p2944
aVreached (the default is 15 seconds)
p2945
aVIf the pooler cannot satisfy the
p2946
aVrequest before the connection times
p2947
aVout, an exception is thrown
p2948
as(dp2949
g16
V29407
p2950
stp2951
a((dp2952
g2
(lp2953
VBy default Visual Studio generates PDB files in both debug and release mode
p2954
aVThe difference is that in debug mode the entire symbol table is loaded while in release mode only the key symbols are loaded
p2955
aVYou can completely disable PDB generation in release mode by setting generate debug info in advanced compile options to none
p2956
aVIf you want to have a clean output folder you can add the following ItemGroup to your web deployment project's file (
p2957
aVwdproj):
p2958
as(dp2959
g16
V29407
p2960
stp2961
a((dp2962
g2
(lp2963
VThe best approach would be to do the sorting and paging at the database level and return only a subset of the original data that will only be shown on the screen
p2964
aVNo javascript in this scenario
p2965
aVIf for some reasons you cannot sort and page at the database level, then you should do it with a server side script
p2966
aVNo javascript in this scenario either
p2967
aVAnd the worst approach would be to do the sorting and paging with javascript which of course is not recommended at all for obvious reasons
p2968
as(dp2969
g16
V29407
p2970
stp2971
a((dp2972
g2
(lp2973
V100kb - 1Mb : Are you sending some form of binary data in your response such as files
p2974
aVIn this case you can consider using MTOM which will optimize responses
p2975
aVIf it is only text then you could gain pretty much bandwidth by compressing the response
p2976
aVThe only drawback I can think of is that it will not be interoperable (both server and clients need to implement it) and it will probably incur some CPU overhead
p2977
as(dp2978
g16
V29407
p2979
stp2980
a((dp2981
g2
(lp2982
VWhat you do wrong is that when you add your custom method you never return true or false from it
p2983
aVYou return it in the ajax callback
p2984
aVInstead of adding a custom method you could use the remote function:
p2985
aVYou can check it out in action here
p2986
as(dp2987
g16
V29407
p2988
stp2989
a((dp2990
g2
(lp2991
VOn your confirmation page you can put a form with hidden fields that contain all values and a Back submit button which will post them to the previous page
p2992
aVYou could also have a second submit button on this form which will post to an url that will write the values to the database
p2993
as(dp2994
g16
V29407
p2995
stp2996
a((dp2997
g2
(lp2998
VThere's a codeplex project allowing you to do this
p2999
as(dp3000
g16
V29407
p3001
stp3002
a((dp3003
g2
(lp3004
VUse a prime numbers generator to create primes
p3005
aVtxt and then:
p3006
aVIn this case I use Int16 in the method signature, so my primes
p3007
aVtxt file contains numbers from 0 to 32767
p3008
aVIf you want to extend this to Int32 or Int64 your primes
p3009
aVtxt could be significantly larger
p3010
as(dp3011
g16
V29407
p3012
stp3013
a((dp3014
g2
(lp3015
VA workaround:
p3016
as(dp3017
g16
V29407
p3018
stp3019
a((dp3020
g2
(lp3021
VAs the compiler error states you need an instance of IPEndPoint to access the Address property
p3022
as(dp3023
g16
V29407
p3024
stp3025
a((dp3026
g2
(lp3027
VIs the variable  pointing to the same node in IE and Firefox
p3028
aVYou could verify that by putting an  or
p3029
as(dp3030
g16
V29407
p3031
stp3032
a((dp3033
g2
(lp3034
VYou could read the explanation here
p3035
aVQuote from XmlSerializer:
p3036
aVIf a schema includes an element that
p3037
aVis optional (minOccurs = '0'), or if
p3038
aVthe schema includes a default value,
p3039
aVyou have two options
p3040
aVOne option is to
p3041
aVuse
p3042
aVSystem
p3043
aVComponentModel
p3044
aVDefaultValueAttribute
p3045
aVto specify the default value, as shown
p3046
aVin the following code
p3047
aVAnother option
p3048
aVis to use a special pattern to create
p3049
aVa Boolean field recognized by the
p3050
aVXmlSerializer, and to apply the
p3051
aVXmlIgnoreAttribute to the field
p3052
aVThe
p3053
aVpattern is created in the form of
p3054
aVpropertyNameSpecified
p3055
aVFor example, if
p3056
aVthere is a field named "MyFirstName"
p3057
aVyou would also create a field named
p3058
aV"MyFirstNameSpecified" that instructs
p3059
aVthe XmlSerializer whether to generate
p3060
aVthe XML element named "MyFirstName"
p3061
aVThe only acceptable for me workaround I've come so far is to use XmlSerializer instead of DataContractSerializer by using XmlSerializerFormatAttribute
p3062
as(dp3063
g16
V29407
p3064
stp3065
a((dp3066
g2
(lp3067
s(dp3068
g16
V29407
p3069
stp3070
a((dp3071
g2
(lp3072
VYou could try passing FileShare
p3073
aVReadWrite when opening the file:
p3074
as(dp3075
g16
V29407
p3076
stp3077
a((dp3078
g2
(lp3079
VA point of attention is if you use PInvoke to call unmanaged libraries and the size of IntPtr structure
p3080
as(dp3081
g16
V29407
p3082
stp3083
a((dp3084
g2
(lp3085
VPut the following code:
p3086
aVinside the loop which adds AnItemObj to the list
p3087
aVWhen you add a reference type to a list, you are only adding the reference, not the value
p3088
aVThis means that if you add 10 times the same instance to a list, it will add 10 times the same reference to the list
p3089
aVBut if afterward you still have a reference to this instance you can modify its properties and as all 10 entries in the list point to the same reference in memory, all 10 entries will be modified
p3090
as(dp3091
g16
V29407
p3092
stp3093
a((dp3094
g2
(lp3095
VThis post seems to describe the same problem and possible workarounds
p3096
as(dp3097
g16
V29407
p3098
stp3099
a((dp3100
g2
(lp3101
VThis seems like a limitation of the html function
p3102
aVIn this discussion the following function was suggested as replacement:
p3103
as(dp3104
g16
V29407
p3105
stp3106
a((dp3107
g2
(lp3108
VI think you are confusing between hosting a WCF service and a WCF binding
p3109
aVA WCF service can be hosted in many different applications such as standalone executables, windows services, a web server such as IIS,
p3110
aVOnce you've found an appropriate host for the service you have to decide what binding to use
p3111
aVA binding is used to specify the transport, encoding, and protocol details required for clients and services to communicate with each other
p3112
aVNote that choosing a host could further limit the choice of bindings available
p3113
aVFor example if you decide to host your service in IIS you could only use HTTP/S as transport and NetTcp is not available (in IIS7 it is available through WAS)
p3114
as(dp3115
g16
V29407
p3116
stp3117
a((dp3118
g2
(lp3119
VString is a reference type
p3120
as(dp3121
g16
V29407
p3122
stp3123
a((dp3124
g2
(lp3125
s(dp3126
g16
V29407
p3127
stp3128
a((dp3129
g2
(lp3130
VAssuming your controller class derives from System
p3131
aVWeb
p3132
aVMvc
p3133
aVController (probably this is the case) you could try this:
p3134
as(dp3135
g16
V29407
p3136
stp3137
a((dp3138
g2
(lp3139
VExceptions in
p3140
aVNET do affect performance
p3141
aVThis is the reason why they should be used only in exceptional cases
p3142
as(dp3143
g16
V29407
p3144
stp3145
a((dp3146
g2
(lp3147
VHere's a working example of Lucene
p3148
aVNET using a custom filter you might take a look at:
p3149
as(dp3150
g16
V29407
p3151
stp3152
a((dp3153
g2
(lp3154
VBeginGetResponse is the method you need
p3155
aVIt allows you to read the response stream incrementally:
p3156
aVOr if you feel more comfortable with WebClient (I personnally prefer it over WebRequest):
p3157
as(dp3158
g16
V29407
p3159
stp3160
a((dp3161
g2
(lp3162
VYou could set the value of the hidden field just before submitting the form using onsubmit event:
p3163
as(dp3164
g16
V29407
p3165
stp3166
a((dp3167
g2
(lp3168
VThe general rule of thumb is the following:
p3169
aVWrite an independent data access assembly that will talk to the database
p3170
aVIf you are looking for interoperability between different platforms/clients then expose this assembly as a SOAP web service
p3171
aVIf you are looking for performance use the assembly directly in your client
p3172
aVNET applications
p3173
as(dp3174
g16
V29407
p3175
stp3176
a((dp3177
g2
(lp3178
VAFAIK there's no built-in function
p3179
aVA letter might mean different things according to user culture
p3180
aVIf you mean ASCII letter you could test like this:
p3181
as(dp3182
g16
V29407
p3183
stp3184
a((dp3185
g2
(lp3186
VIt is not appropriate to use connection pooling if the time taken to execute the SQL query is much larger than the time to create a connection
p3187
aVIf you use a connection pooling and the maximum number of connections is reached the next request is put on a pending while either a connection is returned into the pool or a timeout is reached
p3188
as(dp3189
g16
V29407
p3190
stp3191
a((dp3192
g2
(lp3193
VAs defined ClassA violates the definition for singleton
p3194
aVImagine two threads at the same time call the static Instance property
p3195
aVAs the access is not synchronized you could get with two different instances of ClassA and thus two different instances of ClassB
p3196
aVThread1 calls Instance property and as _classA is null it enters the LoadClassA method
p3197
aVThread2 calls Instance property and as _classA is still null it enters the LoadClassA method
p3198
aVThread1 and Thread2 get two different instances of ClassA
p3199
as(dp3200
g16
V29407
p3201
stp3202
a((dp3203
g2
(lp3204
VUPDATE: To start the service you could write the following console application to host it (by adding the previous app
p3205
aVconfig):
p3206
as(dp3207
g16
V29407
p3208
stp3209
a((dp3210
g2
(lp3211
VI've had the exact same problem
p3212
aVDelphi just has hard time importing the WSDL exposed by WCF
p3213
aVOne solution is to add an ASMX wrapper to your service and use that with Delphi clients
p3214
aVHere's an example:
p3215
as(dp3216
g16
V29407
p3217
stp3218
a((dp3219
g2
(lp3220
VApplication
p3221
aVBeginRequest and Application
p3222
aVEndRequest are good candidates
p3223
as(dp3224
g16
V29407
p3225
stp3226
a((dp3227
g2
(lp3228
VHere's an example:
p3229
as(dp3230
g16
V29407
p3231
stp3232
a((dp3233
g2
(lp3234
VIncrement/decrement operations on 32-bit or less integer variables on a single 32-bit processor with no Hyper-Threading Technology are atomic
p3235
aVOn a processor with Hyper-Threading Technology or on a multi-processor system, the increment/decrement operations are NOT guaranteed to be executed atomicaly
p3236
as(dp3237
g16
V29407
p3238
stp3239
a((dp3240
g2
(lp3241
VThe logger should be initialized once per app-domain
p3242
as(dp3243
g16
V29407
p3244
stp3245
a((dp3246
g2
(lp3247
VYou need to correctly escape the values:
p3248
as(dp3249
g16
V29407
p3250
stp3251
a((dp3252
g2
(lp3253
VAdd the following to your web
p3254
aVconfig:
p3255
aVThen invoke your web service method
p3256
aVThis will generate WcfDetailTrace
p3257
aVsvclog in the root of your web site
p3258
aVOpen this file with SvcTraceViewer
p3259
aVexe
p3260
aVThis should give you pretty much information on what's going on
p3261
as(dp3262
g16
V29407
p3263
stp3264
a((dp3265
g2
(lp3266
VYou need also to set the content type:
p3267
as(dp3268
g16
V29407
p3269
stp3270
a((dp3271
g2
(lp3272
VYou could do something like this:
p3273
as(dp3274
g16
V29407
p3275
stp3276
a((dp3277
g2
(lp3278
VASP
p3279
aVNET Page lifecycle is tricky
p3280
as(dp3281
g16
V29407
p3282
stp3283
a((dp3284
g2
(lp3285
VYour thinking is absolutely correct
p3286
aVIf you want a clean separations of concerns it is best to have the View generate HTML from Model
p3287
aVIn some cases html helpers could be used
p3288
as(dp3289
g16
V29407
p3290
stp3291
a((dp3292
g2
(lp3293
VYou could implement like this:
p3294
as(dp3295
g16
V29407
p3296
stp3297
a((dp3298
g2
(lp3299
VHere's a sample showing how to attach an event using reflection:
p3300
as(dp3301
g16
V29407
p3302
stp3303
a((dp3304
g2
(lp3305
VIt depends on where in your MVC project you want to access this class library
p3306
aVFirst you need to add a project reference to the class library
p3307
aVAccessing it from the Model or the Controller should be trivial
p3308
aVIn order to access it in the view you need to add the following to your web
p3309
aVconfig:
p3310
aVThen you can strongly type your view:
p3311
as(dp3312
g16
V29407
p3313
stp3314
a((dp3315
g2
(lp3316
VHere's a sample using Fluent NHibernate and SQLite:
p3317
aVAnd in your ASPX page you can bind data:
p3318
as(dp3319
g16
V29407
p3320
stp3321
a((dp3322
g2
(lp3323
VIt seems that in Release mode there are no exceptions thrown and view locations are cached so there is no need to be more explicit
p3324
as(dp3325
g16
V29407
p3326
stp3327
a((dp3328
g2
(lp3329
VJust add the following to your action:
p3330
as(dp3331
g16
V29407
p3332
stp3333
a((dp3334
g2
(lp3335
VIf all you need is to remove all items that satisfy a condition you could use the List
p3336
aVRemoveAll method:
p3337
aVNote that this modifies the initial list
p3338
as(dp3339
g16
V29407
p3340
stp3341
a((dp3342
g2
(lp3343
s(dp3344
g16
V29407
p3345
stp3346
a((dp3347
g2
(lp3348
Vsqlite does not enforce foreign key constraints
p3349
as(dp3350
g16
V29407
p3351
stp3352
a((dp3353
g2
(lp3354
VActually the WebBrowser is a GUI control used in case you want to visualize a web page (embed and manage Internet Explorer in your windows application)
p3355
aVIf you just need to get the contents of a web page you could use the WebClient class:
p3356
as(dp3357
g16
V29407
p3358
stp3359
a((dp3360
g2
(lp3361
s(dp3362
g16
V29407
p3363
stp3364
a((dp3365
g2
(lp3366
VThere must be something wrong with a code you didn't show
p3367
aVIf you create a new ASP
p3368
aVNET MVC project using the default VS template and then comment out the line  the user is not signed in as expected
p3369
as(dp3370
g16
V29407
p3371
stp3372
a((dp3373
g2
(lp3374
VYou are getting a compile-time error because ArchivedArticleDataAccess must implement IArticleDataAccess and its declaration needs to look like this:
p3375
aVand not:
p3376
as(dp3377
g16
V29407
p3378
stp3379
a((dp3380
g2
(lp3381
VIt seems that the webservice method is defined as follows:
p3382
aVIf you want to convert an array to a list you can do the following:
p3383
aVor using ToList extension method:
p3384
as(dp3385
g16
V29407
p3386
stp3387
a((dp3388
g2
(lp3389
s(dp3390
g16
V29407
p3391
stp3392
a((dp3393
g2
(lp3394
VYou can have multiple submit buttons on your form:
p3395
aVand in your action:
p3396
as(dp3397
g16
V29407
p3398
stp3399
a((dp3400
g2
(lp3401
VDue to policy restrictions browsers do not allow you to send XMLHttpRequest to domains different than the domain hosting the web page which in your case is Yahoo
p3402
as(dp3403
g16
V29407
p3404
stp3405
a((dp3406
g2
(lp3407
VThis should work:
p3408
as(dp3409
g16
V29407
p3410
stp3411
a((dp3412
g2
(lp3413
VYou didn't mention the target platform but assuming its Windows you could create an MSI package to deploy your executable
p3414
aVAn easy to use freeware program is MAKEMSI
p3415
as(dp3416
g16
V29407
p3417
stp3418
a((dp3419
g2
(lp3420
VIf your class has a non default constructor with simple type arguments like string, int, etc
p3421
aVyou can try this:
p3422
as(dp3423
g16
V29407
p3424
stp3425
a((dp3426
g2
(lp3427
VAs suggested by MrPeregrination you need to write a class deriving from XmlLayoutBase, override the FormatXml method and instruct your appender to use it as layout:
p3428
aVAnd in app
p3429
aVconfig put this:
p3430
aVThis will produce entries like this in your log file:
p3431
as(dp3432
g16
V29407
p3433
stp3434
a((dp3435
g2
(lp3436
VYou need to cast to a Callable type:
p3437
as(dp3438
g16
V29407
p3439
stp3440
a((dp3441
g2
(lp3442
VGive your forms an unique ID:
p3443
aVThen use the  function to get the desired form:
p3444
aVAlthough I suspect there's something wrong with your design
p3445
aVWhy do you have multiple forms
p3446
aVCan't you have a single form to submit a comment like:
p3447
aVCould you give a little more details on what the interface looks like and what you are trying to achieve
p3448
as(dp3449
g16
V29407
p3450
stp3451
a((dp3452
g2
(lp3453
VYes this event fires for every request
p3454
aVYes you can use this event to get information for the authenticated user
p3455
aVNo, don't use  to store user specific information as the cache is common for all users and you will get conflicts
p3456
aVUse  instead as this will be specific to the user
p3457
as(dp3458
g16
V29407
p3459
stp3460
a((dp3461
g2
(lp3462
VYou need to first enable Basic Authentication:
p3463
aVThen in your ProcessRequest method you could get username and password:
p3464
as(dp3465
g16
V29407
p3466
stp3467
a((dp3468
g2
(lp3469
VIsn't this a cross domain issue
p3470
aVI see that your WCF web service is hosted in IIS and accessible through  while your web application is using the ASP
p3471
aVNET development server which means it is hosted on
p3472
aVAFAIK, AJAX is used when you want to invoke a web service from javascript
p3473
aVDue to cross domain restrictions you need to have the web service and the web application hosted on the same domain, or create a some proxy/bridge that will delegate calls to the web service
p3474
as(dp3475
g16
V29407
p3476
stp3477
a((dp3478
g2
(lp3479
VjQuery Forms plugin and an ASP
p3480
aVNET MVC action should do the job:
p3481
aVAnd in your View just invoke this action periodically:
p3482
as(dp3483
g16
V29407
p3484
stp3485
a((dp3486
g2
(lp3487
VThe reason you get  in the second case is because you are using  as a Content-Type header when sending your request and on the server side ASP
p3488
aVNET expects data to arrive as a form posting when it populates the Request object and so it doesn't contain the  parameter
p3489
aVYou can try with the following instead:
p3490
aVOr stick with  and read and parse the request stream manually:
p3491
as(dp3492
g16
V29407
p3493
stp3494
a((dp3495
g2
(lp3496
VHere are a few pros for sending JSON/XML instead of HTML:
p3497
aVIf the data is going to ever be used outside of your application HTML might be harder to parse and fit into other structure
p3498
aVJSON can be directly embedded in  tags which allows cross domain AJAX scenarios
p3499
aVJSON/XML preserves the separation of concerns between the server side scripts and views
p3500
aVReduces bandwidth
p3501
as(dp3502
g16
V29407
p3503
stp3504
a((dp3505
g2
(lp3506
VA few pointers on MSDN:
p3507
aVBenchmarks
p3508
aVDataSet vs
p3509
aVDataReader
p3510
aVWorking with DataReaders, DataSets, DataAdapters, and DataViews
p3511
as(dp3512
g16
V29407
p3513
stp3514
a((dp3515
g2
(lp3516
VAFAIK Ajax
p3517
aVActionLink doesn't allow you to easily get form values and post them with AJAX
p3518
aVThere are some workarounds which seem quite hackish (looking at the last paragraph Adapting the URL Dynamically makes me cry)
p3519
aVHere's the jQuery way (I prefer it if compared to MS Ajax):
p3520
aVAnd then unobtrusively attach a click event handler to the anchor:
p3521
as(dp3522
g16
V29407
p3523
stp3524
a((dp3525
g2
(lp3526
VLINQ is a set of extension methods defined in the System
p3527
aVCore assembly which is part of
p3528
aVNET Framework 3
p3529
ag244
aVSo in order to use LINQ and LINQ to XML you will need to have
p3530
aVNET Framework 3
p3531
aV5 installed on the target machine because your application will have a static dependency on this assembly
p3532
aVThere's a nice diagram showing what's included in different versions of the framework
p3533
as(dp3534
g16
V29407
p3535
stp3536
a((dp3537
g2
(lp3538
VAs long as you don't start enumerating your method will never be called
p3539
aVYou could try enumerating in your test:
p3540
as(dp3541
g16
V29407
p3542
stp3543
a((dp3544
g2
(lp3545
VI think it is a bad idea to have reserved keywords as variable names
p3546
aVIMHO it makes the code less readable
p3547
aVAlthough there are some cases where it could be useful
p3548
aVFor example in an ASP
p3549
aVNET MVC View you could write:
p3550
as(dp3551
g16
V29407
p3552
stp3553
a((dp3554
g2
(lp3555
VWindows Vista has already
p3556
aVNET Framework 3
p3557
aV0 installed
p3558
aVNow if you wanted for example to have
p3559
aVNET Framework 3
p3560
aV5 installed you could create a Setup Project and then right click and go to View->Launch Conditions
p3561
aVThere will be a
p3562
aVNET Framework launch condition where you can specify the required version of the framework and an URL to download from
p3563
aVHere's a post about Launch Conditions in a Setup Project
p3564
as(dp3565
g16
V29407
p3566
stp3567
a((dp3568
g2
(lp3569
VIf you are using FileSystemWatcher I don't think there's a robust solution to this problem
p3570
aVOne approach would be try/catch/retry later
p3571
as(dp3572
g16
V29407
p3573
stp3574
a((dp3575
g2
(lp3576
VThere's ILMerge from Microsoft Research that allows you to combine multiple assemblies into single and keeping original namespaces
p3577
as(dp3578
g16
V29407
p3579
stp3580
a((dp3581
g2
(lp3582
VIt seems that there are circular references in your object hierarchy which is not supported by the JSON serializer
p3583
aVDo you need all the columns
p3584
aVYou could pick up only the properties you need in the view:
p3585
aVThis will make your JSON object lighter and easier to understand
p3586
aVIf you have many properties, AutoMapper could be used to automatically map between DTO objects and View objects
p3587
as(dp3588
g16
V29407
p3589
stp3590
a((dp3591
g2
(lp3592
VThis is not possible because  is not known at compile time and you can't manipulate this list in your code
p3593
aVYou could use reflection though to create an Array
p3594
as(dp3595
g16
V29407
p3596
stp3597
a((dp3598
g2
(lp3599
s(dp3600
g16
V29407
p3601
stp3602
a((dp3603
g2
(lp3604
VWith the DefaultModelBinder it is possible to override the default required error message but unfortunately it would apply globally which IMHO renders it completely useless
p3605
aVBut in case you decide to do it here's how:
p3606
aVAdd the App_GlobalResources folder to your ASP
p3607
aVNET site
p3608
aVAdd a resources file called Messages
p3609
aVresx
p3610
aVInside the resources file declare a new string resource with the key  and some value
p3611
aVIn Application_Start add the following line:
p3612
aVAs you can see there's no link between the model property you are validating and the error message
p3613
aVIn conclusion it is better to write custom validation logic to handle this scenario
p3614
aVOne way would be to use a nullable type (System
p3615
aVNullable) and then:
p3616
as(dp3617
g16
V29407
p3618
stp3619
a((dp3620
g2
(lp3621
VI've found this interesting starting of a Rails-like RJS framework for ASP
p3622
aVNET MVC
p3623
as(dp3624
g16
V29407
p3625
stp3626
a((dp3627
g2
(lp3628
VOne option would be to use AutoMapper on the client to convert seamlessly from one type to another
p3629
aVAs they have the same properties mappings would be straightforward
p3630
as(dp3631
g16
V29407
p3632
stp3633
a((dp3634
g2
(lp3635
VIn order to call the getTest method from c# you will need an XML-RPC client library
p3636
aVXML-RPC is an example of such a library
p3637
as(dp3638
g16
V29407
p3639
stp3640
a((dp3641
g2
(lp3642
VHave you tried like this:
p3643
as(dp3644
g16
V29407
p3645
stp3646
a((dp3647
g2
(lp3648
VKnown type attributes are passed to the DataContractSerializer constructor
p3649
aVYou can customize the way this serializer is instantiated and provide the known types to the constructor of the serializer by reflecting over your assemblies and finding all types that derive from a base class
p3650
aVHere's a sample code (not tested):
p3651
as(dp3652
g16
V29407
p3653
stp3654
a((dp3655
g2
(lp3656
VPersonally I use WCF to expose my
p3657
aVNET libraries
p3658
aVIt supports many different transport protocols and bindings
p3659
aVI am sure you will find the one that fits your needs
p3660
aVIt also allows you to implement secure communication
p3661
as(dp3662
g16
V29407
p3663
stp3664
a((dp3665
g2
(lp3666
VActually you can with BinaryFormatter as it preserves type information
p3667
aVAnd here's the proof:
p3668
aVAn important thing you should be aware of if you decide to use BinaryFormatter is that its format is not well documented and the implementation could have breaking changes between
p3669
aVNET and/or CLR versions
p3670
as(dp3671
g16
V29407
p3672
stp3673
a((dp3674
g2
(lp3675
VTry this (I've put comments on modified lines):
p3676
as(dp3677
g16
V29407
p3678
stp3679
a((dp3680
g2
(lp3681
VYou could use DataContractJsonSerializer:
p3682
as(dp3683
g16
V29407
p3684
stp3685
a((dp3686
g2
(lp3687
VI would suggest you the following technique: construct a queue of objects that wait to be processed and dequeue them from multiple threads:
p3688
aVCreate an XmlReader and start reading the file node by node while not EOF
p3689
aVOnce you encounter a closing tag you can serialize the contents it into an object
p3690
aVPut the serialized object into a Queue
p3691
aVVerify the number of objects in the Queue and if it is bigger than N, kick a new thread from the ThreadPool which will dequeue <= N objects from the queue and process them
p3692
aVThe access to the queue needs to be synchronized because you will enqueue and dequeue objects from multiple threads
p3693
aVThe difficulty consists in finding N such that all the CPU cores work at the same time
p3694
as(dp3695
g16
V29407
p3696
stp3697
a((dp3698
g2
(lp3699
VPut all shared assemblies into a "lib" directory under your main "trunk" folder and reference them into your Web Site from "lib"
p3700
aVIn this case TFS will not check-in the assemblies into the "bin" folder of your web site but it will only add a text file which has the same name as your assembly and with the "
p3701
aVrefresh" extension (for example MyAssembly
p3702
aVdll
p3703
aVrefresh) which contains a single line pointing to the location of the real assembly
p3704
aVThen when you right-click on the Solution and click on Check-In it will not select the assemblies in the "bin" folder and they will not be locked
p3705
aVAlthough if you click on Check-In from the Team Explorer it will automatically check the assemblies so you have to be careful
p3706
aVOne of the reasons we migrated from Web Site to a Web Application was because it was a real PITA to handle this type of projects with TFS
p3707
as(dp3708
g16
V29407
p3709
stp3710
a((dp3711
g2
(lp3712
VAlways perform your INSERT/UPDATE inside a transaction
p3713
aVHere's a working example using SQLite:
p3714
as(dp3715
g16
V29407
p3716
stp3717
a((dp3718
g2
(lp3719
VSystem
p3720
aVIO
p3721
aVFile is a static class
p3722
aVYou can't instantiate it
p3723
as(dp3724
g16
V29407
p3725
stp3726
a((dp3727
g2
(lp3728
VYou can use ProcessStartInfo
p3729
aVUserName and ProcessStartInfo
p3730
aVPassword to specify the account you want your process to run under
p3731
as(dp3732
g16
V29407
p3733
stp3734
a((dp3735
g2
(lp3736
VI would suggest you a custom model binder:
p3737
aVThis simplifies your controller action to:
p3738
aVAnd register the binder in Global
p3739
aVasax:
p3740
as(dp3741
g16
V29407
p3742
stp3743
a((dp3744
g2
(lp3745
VBy refactoring it this way:
p3746
as(dp3747
g16
V29407
p3748
stp3749
a((dp3750
g2
(lp3751
VTry this:
p3752
aVor this:
p3753
as(dp3754
g16
V29407
p3755
stp3756
a((dp3757
g2
(lp3758
VAmong many useful features the FireBug plugin can show you AJAX generated requests and responses
p3759
as(dp3760
g16
V29407
p3761
stp3762
a((dp3763
g2
(lp3764
VThe way lazy loading works is that it will defer the execution of the database join query until you access the Posts collection
p3765
aVNow if you are going to show only 30 posts on the page while there are 30000 posts in the database that satisfy your criteria loading all the collection would be a waste
p3766
aVIn my opinion paging should be done at the database level
p3767
aVIn this case I would remove the Posts collection from the Thread class and Post should belong to a Thread which will allow you to construct your query
p3768
aVAlso a single method would be enough to get the paged Posts collection and the total number of posts:
p3769
as(dp3770
g16
V29407
p3771
stp3772
a((dp3773
g2
(lp3774
VIMHO adding a functionality by extending HttpApplication is not the best thing to do
p3775
aVIt is so difficult to mock the HttpContext because of the private/internal/sealed classes that even if you succeed your unit tests will be so cluttered with mocking code that you will no longer be able to understand what you are actually testing
p3776
aVCould you give more details on what functionality you are adding
p3777
aVMaybe there's a better way of adding this functionality to your application
p3778
as(dp3779
g16
V29407
p3780
stp3781
a((dp3782
g2
(lp3783
VSubControllers in MvcContrib seem like an appropriate solution to your problem
p3784
as(dp3785
g16
V29407
p3786
stp3787
a((dp3788
g2
(lp3789
VThis was actually possible with the Preview 4 release, but I've never tried it with the RTM 1
p3790
aV0 release
p3791
aVIMO if you create the project structure manually it should work but don't forget that you won't get any shortcuts for adding controllers, views,
p3792
aVYou will have to do everything manually
p3793
aVOh, and if you want to unit test your controllers you will have to put them into a separate assembly
p3794
as(dp3795
g16
V29407
p3796
stp3797
a((dp3798
g2
(lp3799
VWindows uses the Event log to trace activity
p3800
aVYou can use the  class:
p3801
aVAnd you can use app
p3802
aVconfig to instruct the logger where to write:
p3803
as(dp3804
g16
V29407
p3805
stp3806
a((dp3807
g2
(lp3808
VTempData persist between two requests
p3809
aVWhat does the ReturnView method in your Edit action returns
p3810
aVAs far as I can tell it is not a standard method defined in the Controller class
p3811
aVAre you redirecting in this method (i
p3812
aVe
p3813
aVreturning a RedirectToRouteResult)
p3814
aVAlso are there any other requests that could occur between your Edit and Delete actions
p3815
aVFor example ajax requests
p3816
aVGenerally it is not a good idea to use TempData to persist something for a long time
p3817
aVThe pattern usually is the following:
p3818
aVIf you need to persist something for a longer time you should use Session
p3819
as(dp3820
g16
V29407
p3821
stp3822
a((dp3823
g2
(lp3824
VYou could either set your endpoint programatically when creating the client channel inside your COM object or use an app
p3825
aVconfig
p3826
aVTo set an app
p3827
aVconfig for COM+ application:
p3828
aVIf you are using Windows 2000, and your COM+ app is a server one, your
p3829
aVapp
p3830
aVconfig should be called dllhost
p3831
aVexe
p3832
aVconfig and must be in the same
p3833
aVdirectory as dllhost
p3834
aVexe (which is %SystemRoot%\u005cSystem32)
p3835
aVIf you are using Windows 2003, you can go to the Activation tab of the
p3836
aVCOM+app properties and set the Application Root Directory property to point
p3837
aVto a location of your preference, and, in that directory, you must place a
p3838
aVfile called application
p3839
aVconfig (with your config settings) and another file
p3840
aVcaller application
p3841
aVmanifest with the content shown bellow:
p3842
as(dp3843
g16
V29407
p3844
stp3845
a((dp3846
g2
(lp3847
VThere's nothing built-in jQuery that will allow you to do this
p3848
aVYou could use a plugin to parse urls
p3849
aVSo basically your code could look like:
p3850
as(dp3851
g16
V29407
p3852
stp3853
a((dp3854
g2
(lp3855
VIn order to compile to managed assembly the code needs to be written using Managed C++ Extensions
p3856
aVPlease note that C is not an OO language so you cannot compile to a managed assembly
p3857
aVThe primary reason for doing this is if you have an existing code base written in C++ that you want to use directly in
p3858
aVNET application without resorting to P/Invoke
p3859
as(dp3860
g16
V29407
p3861
stp3862
a((dp3863
g2
(lp3864
VASP
p3865
aVNET MVC V2 has a feature called Areas which allows you to have separate projects referenced by the main application
p3866
aVCheck out ScottGu's post
p3867
as(dp3868
g16
V29407
p3869
stp3870
a((dp3871
g2
(lp3872
VIMHO using a filter would be better because you could write the restriction in database agnostic HQL
p3873
as(dp3874
g16
V29407
p3875
stp3876
a((dp3877
g2
(lp3878
VThe labels appear together because of the  rule
p3879
aVYou could define different css rule for checkbox labels which don't align to the left of the input
p3880
as(dp3881
g16
V29407
p3882
stp3883
a((dp3884
g2
(lp3885
s(dp3886
g16
V29407
p3887
stp3888
a((dp3889
g2
(lp3890
VThe way  fills the action and controller automatically is by using
p3891
aVSo you could just write:
p3892
as(dp3893
g16
V29407
p3894
stp3895
a((dp3896
g2
(lp3897
VI wouldn't say that using reflection is a design smell
p3898
aVIt is an useful feature of the framework that makes the statical languages a little more dynamic
p3899
aVNow from practical point of view I try to avoid reflection if I can solve my problem without it
p3900
as(dp3901
g16
V29407
p3902
stp3903
a((dp3904
g2
(lp3905
VDue to cross domain restrictions it is impossible to POST with AJAX to a different domain
p3906
aVThe way  works is it inserts a  tag inside the DOM so it performs a GET request
p3907
as(dp3908
g16
V29407
p3909
stp3910
a((dp3911
g2
(lp3912
VThere's a sample on MSDN which shows how to upload/download streams in a WCF service
p3913
as(dp3914
g16
V29407
p3915
stp3916
a((dp3917
g2
(lp3918
s(dp3919
g16
V29407
p3920
stp3921
a((dp3922
g2
(lp3923
VIf your clients use Internet Explorer you could write an ActiveX control
p3924
as(dp3925
g16
V29407
p3926
stp3927
a((dp3928
g2
(lp3929
VSandCastle
p3930
as(dp3931
g16
V29407
p3932
stp3933
a((dp3934
g2
(lp3935
VYou could pass an additional  parameter to your CreateParameter action so that it will redirect to this given url
p3936
aVAnd in your CreateParameters
p3937
aVascx partial view you could pass the current controller name and action when you construct the link
p3938
aVAnother option would be to always redirect to the  inside your CreateParameter action
p3939
as(dp3940
g16
V29407
p3941
stp3942
a((dp3943
g2
(lp3944
VIf you put them in a subfolder relative to your executable, say  you would be able to access them with
p3945
aVIf you have an ASP
p3946
aVNET application you could put them inside the special  folder and access them with
p3947
as(dp3948
g16
V29407
p3949
stp3950
a((dp3951
g2
(lp3952
VThere's no longer a class called  in NHibernate 2
p3953
ag2925
aVThe class is now called
p3954
as(dp3955
g16
V29407
p3956
stp3957
a((dp3958
g2
(lp3959
s(dp3960
g16
V29407
p3961
stp3962
a((dp3963
g2
(lp3964
VThe compiler actually emits get_MyProperty and set_MyProperty methods for each property you define
p3965
as(dp3966
g16
V29407
p3967
stp3968
a((dp3969
g2
(lp3970
VIt is installing ,  and  assemblies into the GAC and depending on the type of install it could also install a VS project template
p3971
as(dp3972
g16
V29407
p3973
stp3974
a((dp3975
g2
(lp3976
VThe recommended way is to upload the code source including build scripts to a web site such as googlecode so that other developers could download it and compile it but if it is closed source library zipping the assembly (mylibrary
p3977
aVDLL), documentation (mylibrary
p3978
aVXML) and debug information file (mylibrary
p3979
aVPDB) should be enough
p3980
as(dp3981
g16
V29407
p3982
stp3983
a((dp3984
g2
(lp3985
VYou could try with the following map:
p3986
as(dp3987
g16
V29407
p3988
stp3989
a((dp3990
g2
(lp3991
s(dp3992
g16
V29407
p3993
stp3994
a((dp3995
g2
(lp3996
VThere's no such constraint
p3997
as(dp3998
g16
V29407
p3999
stp4000
a((dp4001
g2
(lp4002
VIn contrast to the session factory (ISessionFactory) which is thread safe you should open and close the session (ISession) with every database transaction
p4003
as(dp4004
g16
V29407
p4005
stp4006
a((dp4007
g2
(lp4008
VOne way to do it if the file is not very big is to load all the lines into an array:
p4009
as(dp4010
g16
V29407
p4011
stp4012
a((dp4013
g2
(lp4014
VIt is because you are using  in an ajax callback which no longer refers to the element being clicked
p4015
as(dp4016
g16
V29407
p4017
stp4018
a((dp4019
g2
(lp4020
VFor small files:
p4021
as(dp4022
g16
V29407
p4023
stp4024
a((dp4025
g2
(lp4026
VThere's no standard way to detect content type from a stream built-in
p4027
aVNET
p4028
aVYou could implement your own algorithm that could achieve this for some well-known image formats by reading the first few bytes and trying to match the format
p4029
as(dp4030
g16
V29407
p4031
stp4032
a((dp4033
g2
(lp4034
VHtml
p4035
aVCheckBox helper adds a hidden field to the form
p4036
aVI would suggest you assigning an unique identifier to each element in the Children collection and then have this in your form instead of using the helper:
p4037
aVAnd then in your controller action:
p4038
as(dp4039
g16
V29407
p4040
stp4041
a((dp4042
g2
(lp4043
VTry  instead of
p4044
aVAlso note that as you are in an ajax callback  points to the options for the ajax request, so the  function might not be defined
p4045
aVInstead you could try with:
p4046
as(dp4047
g16
V29407
p4048
stp4049
a((dp4050
g2
(lp4051
VFor rendering HTML tables I would recommend you the Grid component from MvcContrib
p4052
as(dp4053
g16
V29407
p4054
stp4055
a((dp4056
g2
(lp4057
VThis post shows a nice way of achieving what you are looking for
p4058
as(dp4059
g16
V29407
p4060
stp4061
a((dp4062
g2
(lp4063
VSince you can't merge the files on the server you will need to perform 3 independent ajax requests
p4064
aVThe difficulty consists into synchronising the 3 requests
p4065
aVThey can be performed synchronously but this will definitely hurt the performance and could cause timeouts
p4066
aVA better way is be to send the 3 requests asynchronously and invoke a callback once the 3 requests finish:
p4067
as(dp4068
g16
V29407
p4069
stp4070
a((dp4071
g2
(lp4072
VIt depends on what type of application is going to use your class library
p4073
aVIf it is used in a console application, then the output will be printed to the console
p4074
aVIf it is a WinForms, Windows Service or ASP
p4075
aVNET application the output will be ignored
p4076
as(dp4077
g16
V29407
p4078
stp4079
a((dp4080
g2
(lp4081
VA Mutex could be used for interprocess synchronization of a shared resource such as log file
p4082
aVHere's a sample
p4083
as(dp4084
g16
V29407
p4085
stp4086
a((dp4087
g2
(lp4088
VHow about adding the  client event to the button:
p4089
as(dp4090
g16
V29407
p4091
stp4092
a((dp4093
g2
(lp4094
VHere's a sample
p4095
aVIt handles MD5, SHA1, SHA256, SHA384, and SHA512
p4096
as(dp4097
g16
V29407
p4098
stp4099
a((dp4100
g2
(lp4101
VChecking the runtime seems like a viable solution
p4102
aVIs there any reason you would like to remove the P/Invoke function declarations if running under Mono even if they are never used
p4103
as(dp4104
g16
V29407
p4105
stp4106
a((dp4107
g2
(lp4108
VYou could use  directly:
p4109
aVIt can be automated from within your program
p4110
as(dp4111
g16
V29407
p4112
stp4113
a((dp4114
g2
(lp4115
VTo get extended error information try using SvcTraceViewer
p4116
as(dp4117
g16
V29407
p4118
stp4119
a((dp4120
g2
(lp4121
VYou need to reference the DLL inside your project: right-click on the project in solution explorer and then select Add Reference and next select itextsharp
p4122
aVdll
p4123
aVIt will then be automatically copied to the project output folder alongside with the executable (usually bin\u005cDebug)
p4124
as(dp4125
g16
V29407
p4126
stp4127
a((dp4128
g2
(lp4129
VYou could use iTextSharp to create the pdf and add images to it
p4130
aVHere's a sample
p4131
as(dp4132
g16
V29407
p4133
stp4134
a((dp4135
g2
(lp4136
s(dp4137
g16
V29407
p4138
stp4139
a((dp4140
g2
(lp4141
VIt will depend on how your attribute is used (if it is on a class, property, method, etc
p4142
aVFor example if it is only used on a class you could get all types that are marked with your attribute with the following code:
p4143
aVIf it is only used on properties (as your example), then you could nest an additional  statement that will enumerate all properties for a given type and look for the attribute
p4144
as(dp4145
g16
V29407
p4146
stp4147
a((dp4148
g2
(lp4149
VjQuery URL Utils or jQuery URL Parser
p4150
as(dp4151
g16
V29407
p4152
stp4153
a((dp4154
g2
(lp4155
VYou could use DataBinding:
p4156
aVand in your code behind Page_Load call:
p4157
aVor directly databind the page:
p4158
as(dp4159
g16
V29407
p4160
stp4161
a((dp4162
g2
(lp4163
VIt does have an Override method in the 1
p4164
aV0 RTM
p4165
aVYou use it like this:
p4166
as(dp4167
g16
V29407
p4168
stp4169
a((dp4170
g2
(lp4171
Vand use it like this:
p4172
aVif you don't want to use jQuery you could easily adapt the function
p4173
as(dp4174
g16
V29407
p4175
stp4176
a((dp4177
g2
(lp4178
VThe reason might be that the original html page contains relative (to the original site) paths to the stylesheet files so when you render the html in your site it cannot find the css
p4179
as(dp4180
g16
V29407
p4181
stp4182
a((dp4183
g2
(lp4184
VIt could be because when Lucene builds its index it modifies some of the files (web
p4185
aVconfig, global
p4186
aVasax, bin folder, etc
p4187
aVthat would cause AppDomain to unload
p4188
as(dp4189
g16
V29407
p4190
stp4191
a((dp4192
g2
(lp4193
s(dp4194
g16
V29407
p4195
stp4196
a((dp4197
g2
(lp4198
VIt is explained here and example here
p4199
as(dp4200
g16
V29407
p4201
stp4202
a((dp4203
g2
(lp4204
Vtry:
p4205
aVIn your  callback  represents the element which according to your selector I assume is an anchor tag
p4206
aVTo get the URL this anchor points to you use the  attribute
p4207
as(dp4208
g16
V29407
p4209
stp4210
a((dp4211
g2
(lp4212
VHere's how you could mock UrlHelper using MvcContrib's TestControllerBuilder:
p4213
as(dp4214
g16
V29407
p4215
stp4216
a((dp4217
g2
(lp4218
VThere's no equivalent of the  keyword in C++
p4219
aVYou could do this instead:
p4220
as(dp4221
g16
V29407
p4222
stp4223
a((dp4224
g2
(lp4225
VIf you declare the ProjectRegion property in the Project class to be of type ProjectRegion instead of string, when NHibernate fetches a Project it will automatically join (according to a fetch policy) the ProjectRegion table
p4226
as(dp4227
g16
V29407
p4228
stp4229
a((dp4230
g2
(lp4231
VFor
p4232
aVNET you could use Json
p4233
aVNET which supports schema validation
p4234
as(dp4235
g16
V29407
p4236
stp4237
a((dp4238
g2
(lp4239
VXmlTextReader constructor accepts a string that points to the URL where an XML file is stored
p4240
aVYou are passing it the XML itself which of course is an invalid path
p4241
aVTry this instead:
p4242
as(dp4243
g16
V29407
p4244
stp4245
a((dp4246
g2
(lp4247
s(dp4248
g16
V29407
p4249
stp4250
a((dp4251
g2
(lp4252
VStart the process suspended, then change the priority, and then resume the process
p4253
aVYou do this with the CreateProcess Win32 function using the CREATE_SUSPENDED flag but unfortunately I am not sure if there's support in
p4254
aVNET for this and you might need to resort to P/Invoke
p4255
as(dp4256
g16
V29407
p4257
stp4258
a((dp4259
g2
(lp4260
VThere's absolutely no difference
p4261
aVCheckout HttpContext
p4262
aVCurrent
p4263
aVRequest
p4264
aVIsAuthenticated implementation:
p4265
as(dp4266
g16
V29407
p4267
stp4268
a((dp4269
g2
(lp4270
VJust don't use Application_Error to handle 404 errors
p4271
aVDefine a catch all route:
p4272
aVA request that doesn't match another route will be handled by the  action of the  controller
p4273
as(dp4274
g16
V29407
p4275
stp4276
a((dp4277
g2
(lp4278
VI would suggest you to try sending requests asynchronously to avoid blocking the main thread:
p4279
as(dp4280
g16
V29407
p4281
stp4282
a((dp4283
g2
(lp4284
VYou could add App
p4285
aVconfig file to your application and specify the location of the assembly:
p4286
aVEDIT:
p4287
aVMight need to set the culture="neutral"
p4288
aVVerify that the token is correct if the assembly is strongly signed otherwise set publicKeyToken="null"
p4289
as(dp4290
g16
V29407
p4291
stp4292
a((dp4293
g2
(lp4294
VFor security reasons you cannot set the value of an input type="file" tag
p4295
aVImagine visiting a malicious site which could set the value and post a form with javascript stealing any file on your computer
p4296
as(dp4297
g16
V29407
p4298
stp4299
a((dp4300
g2
(lp4301
VEDIT: Another alternative would be to use constructor injection to pass a time zone into your class:
p4302
as(dp4303
g16
V29407
p4304
stp4305
a((dp4306
g2
(lp4307
VThere's no need to call the Close() method, it will be automatically called by Dispose() at the end of the using clause
p4308
aVSo your code might look like this:
p4309
as(dp4310
g16
V29407
p4311
stp4312
a((dp4313
g2
(lp4314
VWhen the  action is invoked, the  object is populated from the request (provided you use the default model binder), so properties will be automatically bound from information found in the request
p4315
aVThis means that you will need to pass all the values of the  when invoking the delete action (you could store them in hidden fields in the page)
p4316
aVAnother option would be to pass just the ID to the delete action use FetchNonCIStaffUserByID to populate the model then delete it which of course would make 2 db calls
p4317
as(dp4318
g16
V29407
p4319
stp4320
a((dp4321
g2
(lp4322
VYou could use DirectoryEntry class:
p4323
as(dp4324
g16
V29407
p4325
stp4326
a((dp4327
g2
(lp4328
VInstead of:
p4329
aVYou need:
p4330
aVbecause  is an open generic class type and if you try to invoke a method it would crash
p4331
as(dp4332
g16
V29407
p4333
stp4334
a((dp4335
g2
(lp4336
Vread in chunks:
p4337
as(dp4338
g16
V29407
p4339
stp4340
a((dp4341
g2
(lp4342
VYou could use reflection:
p4343
as(dp4344
g16
V29407
p4345
stp4346
a((dp4347
g2
(lp4348
VIf you want List instead of IEnumerable you could do:
p4349
as(dp4350
g16
V29407
p4351
stp4352
a((dp4353
g2
(lp4354
VThere's a Windows binary for Apache Bench
p4355
aVYou could download Apache Web Server for Windows and extract ab
p4356
aVexe and abs
p4357
aVexe from it
p4358
as(dp4359
g16
V29407
p4360
stp4361
a((dp4362
g2
(lp4363
VThe single quote is not a problem in your case
p4364
aVIt's the double quotes you have around the filename
p4365
aVYou can escape it like this:
p4366
as(dp4367
g16
V29407
p4368
stp4369
a((dp4370
g2
(lp4371
VYou need to write a controller action that will write the image into the response stream and set the proper content type to say "image/png"
p4372
aVThen you can use the  tag to reference this action in your view:
p4373
aVAnd inside your view:
p4374
as(dp4375
g16
V29407
p4376
stp4377
a((dp4378
g2
(lp4379
VThe Environment class provides properties that can be used to obtain system information
p4380
as(dp4381
g16
V29407
p4382
stp4383
a((dp4384
g2
(lp4385
VIMHO the only 100% reliable way to test if you can write to a directory is to actually write to it and eventually catch exceptions
p4386
as(dp4387
g16
V29407
p4388
stp4389
a((dp4390
g2
(lp4391
VEnum
p4392
aVGetValues:
p4393
as(dp4394
g16
V29407
p4395
stp4396
a((dp4397
g2
(lp4398
VYou can try with:
p4399
aVinside your mapping constructor
p4400
as(dp4401
g16
V29407
p4402
stp4403
a((dp4404
g2
(lp4405
VYou may try adding the  option
p4406
as(dp4407
g16
V29407
p4408
stp4409
a((dp4410
g2
(lp4411
VYou can do this with the Nokia PC Connectivity API
p4412
aVThis post may help
p4413
as(dp4414
g16
V29407
p4415
stp4416
a((dp4417
g2
(lp4418
VThis happens because if the email is not valid in your server script after the ajax is performed you recreate the button and it no longer has the click event handler attached to it, so the  function will not be called and it will simply submit the form
p4419
aVYou can use the live function instead:
p4420
aVThis way the browser will continuously watch if the button is recreated it will automatically reattach the event handler
p4421
aVAnother alternative would be to call  again in the  callback of the ajax request which IMHO is not very good because it leads to repetitions
p4422
as(dp4423
g16
V29407
p4424
stp4425
a((dp4426
g2
(lp4427
VThere's nothing wrong using plain ADO
p4428
aVNET to insert data into the database in integration test
p4429
aVFor batch inserts it is even better than NHibernate
p4430
aVThe way you put your database in a known state for a test doesn't matter that much, what is important is to test the way you access your data in the application
p4431
as(dp4432
g16
V29407
p4433
stp4434
a((dp4435
g2
(lp4436
VI would suggest you using the excellent MVCContrib TestHelper for unit testing your ASP
p4437
aVNET MVC controllers with Rhino Mocks
p4438
aVYou will see a drastic simplification of your unit tests and increased readability
p4439
as(dp4440
g16
V29407
p4441
stp4442
a((dp4443
g2
(lp4444
VYou need to match the number of times you call ReadStartElement with the same number of calls to ReadEndElement
p4445
aVIt might actually work in some cases when you are at the last elements but in general it is not recommended
p4446
as(dp4447
g16
V29407
p4448
stp4449
a((dp4450
g2
(lp4451
VYou could define multiple global javascript variables:
p4452
aVwhich will be used later by the $
p4453
aVgetJSON methods
p4454
as(dp4455
g16
V29407
p4456
stp4457
a((dp4458
g2
(lp4459
VDefining classes and inheritance is built-in the framework
p4460
as(dp4461
g16
V29407
p4462
stp4463
a((dp4464
g2
(lp4465
VA quick solution would be to write a custom Http Handler:
p4466
as(dp4467
g16
V29407
p4468
stp4469
a((dp4470
g2
(lp4471
s(dp4472
g16
V29407
p4473
stp4474
a((dp4475
g2
(lp4476
VAdd reference to  and then:
p4477
aVMSDN reference here
p4478
as(dp4479
g16
V29407
p4480
stp4481
a((dp4482
g2
(lp4483
VAre cookies enabled in Firefox and Chrome
p4484
aVInstall Firebug and when you perform the ajax call verify if the authentication cookie is sent along with the request
p4485
aVThe name of the cookie should be specified in the forms Element in your web
p4486
aVconfig file
p4487
aVAlso verify if user is authenticated for non-ajax requests
p4488
as(dp4489
g16
V29407
p4490
stp4491
a((dp4492
g2
(lp4493
VLogonUser
p4494
as(dp4495
g16
V29407
p4496
stp4497
a((dp4498
g2
(lp4499
VIt's Firefox and it's a feature
p4500
as(dp4501
g16
V29407
p4502
stp4503
a((dp4504
g2
(lp4505
s(dp4506
g16
V29407
p4507
stp4508
a((dp4509
g2
(lp4510
VIs there any reason you want to generate SOAP envelopes manually and use HttpWebRequest to call a web service when you could generate a client proxy from the WSDL (using svcutil
p4511
aVexe or wsdl
p4512
aVexe) and let the framework do the heavy lifting for you
p4513
aVNormally web services expose a contract that describes the operations you can invoke and the types that are involved allowing clients to discover it and use it
p4514
as(dp4515
g16
V29407
p4516
stp4517
a((dp4518
g2
(lp4519
Vtry this instead:
p4520
as(dp4521
g16
V29407
p4522
stp4523
a((dp4524
g2
(lp4525
VProvided you have the sufficient permissions you can do this:
p4526
as(dp4527
g16
V29407
p4528
stp4529
a((dp4530
g2
(lp4531
VAs to your GROUP BY question, the query:
p4532
aVmakes no sense because you need to select only columns that appear in the group by clause or aggregate functions
p4533
aVCould you elaborate a little more as to what exactly are you trying to achieve
p4534
as(dp4535
g16
V29407
p4536
stp4537
a((dp4538
g2
(lp4539
VOO purists would say that DTO is anti-pattern because objects become data table representations instead of real domain objects
p4540
as(dp4541
g16
V29407
p4542
stp4543
a((dp4544
g2
(lp4545
VIf the server supports this you have to send the Range Http header with your request using the AddRange method:
p4546
aVThis will instruct the server to start sending the file after the 1st kilobyte
p4547
aVThen just read the response stream as normal
p4548
aVTo test if a server supports resuming you can send a  request and test if it sends the  header
p4549
as(dp4550
g16
V29407
p4551
stp4552
a((dp4553
g2
(lp4554
VThis works even if you have "" between your words
p4555
as(dp4556
g16
V29407
p4557
stp4558
a((dp4559
g2
(lp4560
VYou can create url helper like this inside html helper extension method:
p4561
as(dp4562
g16
V29407
p4563
stp4564
a((dp4565
g2
(lp4566
VAFAIK you cannot suppress this warning only for certain files
p4567
aVYou could, if these warnings really bothers you, move the autogenerated code to a separate assembly for which you would disable XML documentation
p4568
as(dp4569
g16
V29407
p4570
stp4571
a((dp4572
g2
(lp4573
VHave you tried adding reference to  to your class library and then:
p4574
as(dp4575
g16
V29407
p4576
stp4577
a((dp4578
g2
(lp4579
VYou could try this:
p4580
aVor if you prefer:
p4581
aVIn both cases the result would be:
p4582
as(dp4583
g16
V29407
p4584
stp4585
a((dp4586
g2
(lp4587
VIf you are trying to fetch HTML from the server why are you specifying dataType:'text'
p4588
aVWhat ContentType header your action is sending back
p4589
aVIt looks as if there was some inconcistency between the ContentType header the server is sending and the actual content
p4590
as(dp4591
g16
V29407
p4592
stp4593
a((dp4594
g2
(lp4595
VAn ORM such as NHibernate's primary goal is to abstract database access from the application and render it database agnostic
p4596
aVHaving business logic inside stored procedure means that using an ORM will not bring any value whatsoever
p4597
aVUsing plain ADO
p4598
aVNET would be more straightforward and beneficial
p4599
aVIMHO using NHibernate to call plain SQL or stored procedures is useless
p4600
aVYou are just putting an additional layer to your application that wouldn't bring any value
p4601
aVHowever if you move the business logic away from the database and have a nice object model an ORM could be really helpful to map this model to database tables
p4602
as(dp4603
g16
V29407
p4604
stp4605
a((dp4606
g2
(lp4607
VIt might be better to write a plugin:
p4608
as(dp4609
g16
V29407
p4610
stp4611
a((dp4612
g2
(lp4613
VAll you need is upon successful login to create the cookie:
p4614
aVAnd when you need to sign out just use:
p4615
aVUser
p4616
aVIdentity
p4617
aVName will work because it looks for the authentication cookie and if it is sent along with the request it will decrypt it and read the username which is stored inside
p4618
aVYou could use anything for user authentication and authorization
p4619
as(dp4620
g16
V29407
p4621
stp4622
a((dp4623
g2
(lp4624
s(dp4625
g16
V29407
p4626
stp4627
a((dp4628
g2
(lp4629
VAccording to MSDN:
p4630
aVAny public static (Shared in Visual
p4631
aVBasic) members of this type are thread
p4632
aVsafe
p4633
aVAny instance members are not
p4634
aVguaranteed to be thread safe
p4635
aVSo you need to synchronize access to Serialize/Deserialize methods
p4636
aVHave you identified particular performance issues by creating a local serializer instance every time
p4637
aVUPDATE:
p4638
aVI would trust MSDN because even if in some cases we can verify that instance members might be thread safe this doesn't mean that with the next service pack/update/framework version this will continue to be the case
p4639
aVLooking with Reflector at BinaryFormatter constructor:
p4640
aVAnd StreamingContext constructor:
p4641
aVQuite frankly assigning 6 properties (most of which are ) should be blindingly fast
p4642
aVIMHO most of the time would be spent in Serialize/Deserialize methods
p4643
as(dp4644
g16
V29407
p4645
stp4646
a((dp4647
g2
(lp4648
VIf you are using WCF to generate your client proxy (svcutil
p4649
aVexe) you could append a custom http header with your request like this:
p4650
aVIf you are using wsdl
p4651
aVexe to generate your client you can take a look here
p4652
aVUPDATE:
p4653
aVActually there's no need to cast to HttpWebRequest to add a custom header:
p4654
as(dp4655
g16
V29407
p4656
stp4657
a((dp4658
g2
(lp4659
VThere's a post explaining how to encrypt settings in app
p4660
aVconfig file
p4661
as(dp4662
g16
V29407
p4663
stp4664
a((dp4665
g2
(lp4666
VThe server sends  which is not correct
p4667
aVIt has to be
p4668
aVJust change your server side script to return the correct mime type and it will work
p4669
as(dp4670
g16
V29407
p4671
stp4672
a((dp4673
g2
(lp4674
VYou can't do this using jQuery
p4675
aVload because it performs an AJAX request which due to browser security restrictions is not allowed on cross domain (except if your site is hosted on stackoverflow
p4676
aVcom)
p4677
aVAs a workaround you could create a server side script (hosted on your site) which serves as a bridge between stackoverflow
p4678
aVcom and your site and perform the AJAX request on this script
p4679
as(dp4680
g16
V29407
p4681
stp4682
a((dp4683
g2
(lp4684
VTake a look at the Exlude, Include properties of BindAttribute
p4685
aVIMHO it's better to use Include than Exclude because in this way you are explicit at what properties should be automatically bound
p4686
aVUsing Exclude might be a security risk and could be exploited by a hacker to set properties that are not intended to be set by the binder
p4687
as(dp4688
g16
V29407
p4689
stp4690
a((dp4691
g2
(lp4692
VIf it's for validation purposes I would recommend you the excellent Fluent Validation library
p4693
aVQuote from the site:
p4694
as(dp4695
g16
V29407
p4696
stp4697
a((dp4698
g2
(lp4699
VSince #jQuerySubmit is a form submit button you need to prevent the default action which is submitting the form normally (without AJAX)
p4700
aVTo do this you need to  from your click handler:
p4701
as(dp4702
g16
V29407
p4703
stp4704
a((dp4705
g2
(lp4706
VIs there a reason you prefer WebRequest instead of generating a client proxy with svcutil
p4707
aVexe which takes care of all the plumbing
p4708
as(dp4709
g16
V29407
p4710
stp4711
a((dp4712
g2
(lp4713
VIt will largely depend on the type of X, if it is comparable:
p4714
as(dp4715
g16
V29407
p4716
stp4717
a((dp4718
g2
(lp4719
VThere are also some free profiler tools that it might be worth looking at
p4720
as(dp4721
g16
V29407
p4722
stp4723
a((dp4724
g2
(lp4725
VIf you want to be presented with "Number of things: 100" when you hit the Index action why not directly render the corresponding view:
p4726
as(dp4727
g16
V29407
p4728
stp4729
a((dp4730
g2
(lp4731
VYou can take a look at AutoFixture
p4732
as(dp4733
g16
V29407
p4734
stp4735
a((dp4736
g2
(lp4737
VYour fears are right
p4738
aVThis is called mass assignment
p4739
aVYou can protect your code by marking your class with BindAttribute and setting Exclude / Include properties
p4740
as(dp4741
g16
V29407
p4742
stp4743
a((dp4744
g2
(lp4745
VInt64 is a value type, so casting  to a value type will always throw an exception ()
p4746
aVAnd casting an Int32 to Int64 will succeed and will not throw an
p4747
as(dp4748
g16
V29407
p4749
stp4750
a((dp4751
g2
(lp4752
VSmtpClient actually has SendAsync method which can be used
p4753
aVUPDATE:
p4754
aVAfter further analyzing this scenario it seems that using SmtpClient
p4755
aVSendAsync inside a synchronous controller throws the following exception:
p4756
aVAsynchronous operations are not
p4757
aVallowed in this context
p4758
aVPage starting
p4759
aVan asynchronous operation has to have
p4760
aVthe Async attribute set to true and an
p4761
aVasynchronous operation can only be
p4762
aVstarted on a page prior to
p4763
aVPreRenderComplete event
p4764
aVAs a workaround a manual thread can be spawned:
p4765
as(dp4766
g16
V29407
p4767
stp4768
a((dp4769
g2
(lp4770
VThis thread might give you some hints
p4771
as(dp4772
g16
V29407
p4773
stp4774
a((dp4775
g2
(lp4776
VIf you try to install NetFx20SP2_x86
p4777
aVexe on a x64 system you will get the following error message:
p4778
aVCannot install on a 32-bit operating
p4779
aVsystem
p4780
aVIf you have already installed the
p4781
aVNET x64 runtime, you actually get both x64 and x86 versions
p4782
aVThe one that will be used depends on which platform the assembly is compiled against (the /platform compiler switch)
p4783
aVFor AnyCPU, it will use x64 otherwise, it will use whatever was specified
p4784
as(dp4785
g16
V29407
p4786
stp4787
a((dp4788
g2
(lp4789
VYou may append it to the address you are posting to:
p4790
aVor:
p4791
as(dp4792
g16
V29407
p4793
stp4794
a((dp4795
g2
(lp4796
VIMHO it would be better to perform this task in a server side script
p4797
aVDepending on your platform there might be functions for sending HTTP requests and HTML parsing which is what you need here
p4798
aVJavascript has cross domain restrictions which will prevent you from sending ajax requests to different domains than the one that is hosting the web page
p4799
as(dp4800
g16
V29407
p4801
stp4802
a((dp4803
g2
(lp4804
VI've used the following Memoize function in a project of mine:
p4805
aVIn my project I needed only functions with a single argument that implement IEquatable<\u0422> but this can be generalized even further
p4806
aVAnother important remark is that this code is not thread safe
p4807
aVIf you need thread safety you will need to synchronize the read/write access to the internal map hashtable
p4808
as(dp4809
g16
V29407
p4810
stp4811
a((dp4812
g2
(lp4813
VI've never used FileAppender and cannot say if it is thread safe but I have never had any problems with RollingFileAppender
p4814
aVThe docs state that members of the type are not thread safe, but this should be OK unless you try to directly write to the appender
p4815
aVYou do not need to add your own locking code around calls like:
p4816
as(dp4817
g16
V29407
p4818
stp4819
a((dp4820
g2
(lp4821
VThe code you've shown performs a server side request to the PHP site and passes the username and password in order to perform the authentication
p4822
aVYou are also using a cookie container in order to store the session cookie issued by the PHP site
p4823
aVIf the authentication succeeds you will have to retrieve the session cookie from the container (using the GetCookies method) and send it in the response of the ASP
p4824
aVNET page (using AppendCookie)
p4825
aVThis way the cookie will be stored on the client browser (instead of the temporary cookie container)
p4826
aVOnce the cookie is stored in the user's browser it will be automatically sent along the next request to the PHP site (provided this site is on the same domain as your ASP
p4827
aVNET site) and you will be signed in
p4828
aVIf both sites are hosted on different domains then using cookies to perform single sign-on might be trickier
p4829
as(dp4830
g16
V29407
p4831
stp4832
a((dp4833
g2
(lp4834
VIt doesn't answer your question but when using out parameters it is always a good idea to initialize them in the beginning of the method
p4835
aVThis way you won't have any compiler errors:
p4836
as(dp4837
g16
V29407
p4838
stp4839
a((dp4840
g2
(lp4841
VYou might consider MTOM binding and have a data contract with multiple  properties
p4842
as(dp4843
g16
V29407
p4844
stp4845
a((dp4846
g2
(lp4847
VFor basicHttpBinding you can take a look at SoapUI
p4848
as(dp4849
g16
V29407
p4850
stp4851
a((dp4852
g2
(lp4853
VThis will depend on what binding your WCF service uses but with cURL you can post pretty much everything to a given url
p4854
as(dp4855
g16
V29407
p4856
stp4857
a((dp4858
g2
(lp4859
VPersistent cookies on users computers comes to mind
p4860
aVYou might store the user state in a database and sore the primary key in a cookie which will allow you to later identify users
p4861
aVOf course this approach has limitations and might not be applicable in your scenario
p4862
as(dp4863
g16
V29407
p4864
stp4865
a((dp4866
g2
(lp4867
VYou could try setting a fixed machineKey in your web
p4868
aVconfig file
p4869
aVFor this you can use a machineKey generator or generate your own:
p4870
as(dp4871
g16
V29407
p4872
stp4873
a((dp4874
g2
(lp4875
VYou could design a class which will be stored in the session and which will represent the current state of the operation:
p4876
aVAn instance of this class could be created when you start the operation and store it in the user session
p4877
aVThen at each step of the operation you could retrieve it from session and update the progress property
p4878
aVOnce the operation terminates you could set the Result property or the Error property in case an exception occurs
p4879
aVIn the meantime you could design a PageMethod which will be accessible from client script
p4880
aVThis method will simply return the State instance from the session
p4881
aVYou will then invoke it periodically and asynchronously from javascript to check the progress and update the DOM to notify the user
p4882
as(dp4883
g16
V29407
p4884
stp4885
a((dp4886
g2
(lp4887
s(dp4888
g16
V29407
p4889
stp4890
a((dp4891
g2
(lp4892
s(dp4893
g16
V29407
p4894
stp4895
a((dp4896
g2
(lp4897
VjQuery SimpleTip plugin might be interesting
p4898
as(dp4899
g16
V29407
p4900
stp4901
a((dp4902
g2
(lp4903
VThe first thing that feels wrong about the Save function is that it actually has two responsibilities: it selects a storage and it serializes an object graph to this storage
p4904
aVI would start by isolating responsibilities:
p4905
aVAs far as the unit test is concerned, you could define an XSD schema and then validate the result XML against this schema and also test that it contains the values you are looking for
p4906
as(dp4907
g16
V29407
p4908
stp4909
a((dp4910
g2
(lp4911
VAs @Christian proposed ClearCachedData is the method to use
p4912
aVBut according to MSDN:
p4913
aVThe ClearCachedData method does not
p4914
aVrefresh the information in the
p4915
aVThread
p4916
aVCurrentCulture property for
p4917
aVexisting threads
p4918
aVSo you will need to first call the function and then start a new thread
p4919
aVIn this new thread you can use the CurrentCulture to obtain the fresh values of the culture
p4920
aV}
p4921
as(dp4922
g16
V29407
p4923
stp4924
a((dp4925
g2
(lp4926
VNET is not interpreted
p4927
aVWhen a code actually executes it is a native code which has been compiled from MSIL thanks to the JIT
p4928
aVThe executable contains the MSIL instructions necessary to produce native code
p4929
as(dp4930
g16
V29407
p4931
stp4932
a((dp4933
g2
(lp4934
VThis is a known bug in the WebClient class
p4935
aVIt will be fixed in
p4936
aVNET 4
p4937
ag2721
aVUntil then you could use HttpWebRequest to implement this functionality
p4938
aVUPDATE: Here's an example of using synchronous HttpWebRequest to upload a file and track the progress:
p4939
as(dp4940
g16
V29407
p4941
stp4942
a((dp4943
g2
(lp4944
VIt depends where the temporary folder is configured:
p4945
aVUsually it is:
p4946
as(dp4947
g16
V29407
p4948
stp4949
a((dp4950
g2
(lp4951
VAnonymous types are local scoped
p4952
aVYou cannot use them outside the method they were defined in (besides resorting to a horrible grotty hack)
p4953
aVWhy not just define some domain class that will represent your data in a strongly typed manner:
p4954
as(dp4955
g16
V29407
p4956
stp4957
a((dp4958
g2
(lp4959
VNot very clean but in an ASP
p4960
aVNET MVC View you could actually write this:
p4961
aVWhich will effectively print whatever the value you have in appSettings:
p4962
aVOh and there won't be a VIEWSTATE tag added to your page :-)
p4963
aVNow to the point: I will strongly discourage you doing something like this MVC
p4964
aVIt is not the View's responsibility to pull the data to show, it's the controller that needs to pass it
p4965
aVSo I would make MySetting a property of the ViewModel which will be populated by the controller and passed to the view to be shown
p4966
aVAnd in the View:
p4967
aVor even shorter with the new syntax introduced in ASP
p4968
aVNET 4:
p4969
aVUPDATE:
p4970
aVYet another alternative if you think that MySetting is not a property of the ViewModel (like some css name or similar) you could extend the HtmlHelper:
p4971
aVAnd use it like this:
p4972
as(dp4973
g16
V29407
p4974
stp4975
a((dp4976
g2
(lp4977
VYou might need to check the content type before attaching the response filter:
p4978
aVThere's also a nice article describing response filters in ASP
p4979
aVNET
p4980
as(dp4981
g16
V29407
p4982
stp4983
a((dp4984
g2
(lp4985
VIt means that the authors of the Stream implementation you are using haven't implemented the Flush method so you don't have to call it in your code
p4986
as(dp4987
g16
V29407
p4988
stp4989
a((dp4990
g2
(lp4991
VYou cannot minimize the size of the ViewState
p4992
aVIt's ASP
p4993
aVNET which serializes/deserializes
p4994
aVThough you could selectively disable ViewState for controls that don't need it
p4995
as(dp4996
g16
V29407
p4997
stp4998
a((dp4999
g2
(lp5000
VThere's an article on CodeProject which shows how you could restrict the memory used by a given process
p5001
as(dp5002
g16
V29407
p5003
stp5004
a((dp5005
g2
(lp5006
V is a punctual time, while TimeSpan structure represents time intervals so you are trying to convert apples to oranges
p5007
as(dp5008
g16
V29407
p5009
stp5010
a((dp5011
g2
(lp5012
VTry giving a name to your input tag:
p5013
as(dp5014
g16
V29407
p5015
stp5016
a((dp5017
g2
(lp5018
VFor the third you could use the Remove method:
p5019
as(dp5020
g16
V29407
p5021
stp5022
a((dp5023
g2
(lp5024
VNo:
p5025
as(dp5026
g16
V29407
p5027
stp5028
a((dp5029
g2
(lp5030
VThe wrap function doesn't return the newly created element so you are applying the  attribute to the  tag instead of the  tag
p5031
aVYou may try this instead:
p5032
as(dp5033
g16
V29407
p5034
stp5035
a((dp5036
g2
(lp5037
VYou may consider creating a custom installer action in your setup project which allows you to run arbitrary code during different stages of the deployment
p5038
as(dp5039
g16
V29407
p5040
stp5041
a((dp5042
g2
(lp5043
VFormCollection has a default binder associated with it which always initializes the collection and you should never get
p5044
aVIt is more likely that you have an empty collection when using Ajax
p5045
aVActionLink in contrast to when using a form submit button
p5046
aVThis is because the ActionLink method doesn't POST any form values when it performs the AJAX request
p5047
as(dp5048
g16
V29407
p5049
stp5050
a((dp5051
g2
(lp5052
VIn the success callback of the AJAX request which refreshes the  you could reattach the submit event handler to it
p5053
as(dp5054
g16
V29407
p5055
stp5056
a((dp5057
g2
(lp5058
VThis is not a FluentNHibernate's requirement but rather NHibernate's
p5059
aVIt is because when a property is marked as virtual features such as lazy loading are possible
p5060
aVThere's a blog post describing the details behind this
p5061
as(dp5062
g16
V29407
p5063
stp5064
a((dp5065
g2
(lp5066
VPut  in a  sub-folder of your web site and then you can get the absolute path like this:
p5067
aVAlso don't forget to restrict the public access to the  folder to avoid anyone reading your application log files
p5068
as(dp5069
g16
V29407
p5070
stp5071
a((dp5072
g2
(lp5073
VI have been using FluentValidation along with jQuery validation plugin and still cannot find a situation they cannot handle
p5074
as(dp5075
g16
V29407
p5076
stp5077
a((dp5078
g2
(lp5079
VUsing a managed wrapper around the  (fusion
p5080
aVdll) you could enumerate the assemblies in the GAC, filter them by name and order by version
p5081
as(dp5082
g16
V29407
p5083
stp5084
a((dp5085
g2
(lp5086
VProvided that you have the following page:
p5087
aVIn global
p5088
aVasax you could do this:
p5089
as(dp5090
g16
V29407
p5091
stp5092
a((dp5093
g2
(lp5094
VIt seems that you are using jQuery with other libraries which also redefine the  function
p5095
aVYou could use the noConflict function which forces you to always use  instead of
p5096
as(dp5097
g16
V29407
p5098
stp5099
a((dp5100
g2
(lp5101
VYou increase it on the client side in app/web
p5102
aVconfig:
p5103
as(dp5104
g16
V29407
p5105
stp5106
a((dp5107
g2
(lp5108
VI'm dynamically loading different
p5109
aVcontent from db, using ajax
p5110
aVYou can't directly query the database using javascript, you are probably posting to some server side script which in turn talks to the database and returns the result in some form (XML, JSON, plain text)
p5111
aVIf I understand correctly from your description you have a php-script stored in the database which you want to execute on the server and return the result of this execution to the client
p5112
aVOne way you could achieve this is to have a php-script which queries the database, evals the content and returns the result as plain text
p5113
as(dp5114
g16
V29407
p5115
stp5116
a((dp5117
g2
(lp5118
VThe article you are referring is using VS 2003
p5119
aVIf you want to achieve the same in VS2005/2008 you can right click on the class in the Class View and choose View Class Diagram
p5120
aVThere you can select to create methods, properties, fields and events
p5121
as(dp5122
g16
V29407
p5123
stp5124
a((dp5125
g2
(lp5126
VIt is not the View you are choosing that determines the url but the controller action that has been executed
p5127
aVSo for example if the Succcess1 action has been executed, no matter what view you rendered inside, the user will see  in her browser
p5128
aVI would suggest you the following urls:
p5129
aVIf one time payment is selected success url would be http://www
p5130
aVmysite
p5131
aVcom/SomeController/success/1
p5132
aVIf recurring payment is selected success url would be http://www
p5133
aVmysite
p5134
aVcom/SomeController/success/2
p5135
aVAnd your controller action might look like this:
p5136
as(dp5137
g16
V29407
p5138
stp5139
a((dp5140
g2
(lp5141
VOpen Windows Explorer (WindowsKey+E)
p5142
aVGo to
p5143
aVOpen a second explorer window and drag and drop your assembly to the first window
p5144
as(dp5145
g16
V29407
p5146
stp5147
a((dp5148
g2
(lp5149
VSetOut method allows you to redirect standard output
p5150
as(dp5151
g16
V29407
p5152
stp5153
a((dp5154
g2
(lp5155
VYou may try the following shorter version to download your file:
p5156
as(dp5157
g16
V29407
p5158
stp5159
a((dp5160
g2
(lp5161
VYou can override the  function:
p5162
as(dp5163
g16
V29407
p5164
stp5165
a((dp5166
g2
(lp5167
s(dp5168
g16
V29407
p5169
stp5170
a((dp5171
g2
(lp5172
VYou could use a templating engine to achieve this
p5173
aVThe first step would be to define your HTML template containing placeholders for the object property values
p5174
aVThen you feed the templating engine with the template and an object which will produce the final result
p5175
aVHere's an example using NVelocity:
p5176
as(dp5177
g16
V29407
p5178
stp5179
a((dp5180
g2
(lp5181
VAll you need is download and install ASP
p5182
aVNET MVC
p5183
aVThe installer will add the template in Visual Studio
p5184
as(dp5185
g16
V29407
p5186
stp5187
a((dp5188
g2
(lp5189
VAs you are only reading files it looks that this is thread safe
p5190
aVAlso you need to close the XmlTextReader () after you are finished using it
p5191
as(dp5192
g16
V29407
p5193
stp5194
a((dp5195
g2
(lp5196
VIn general you need to avoid writing too much C# in your Views
p5197
aVThey should contain primary HTML which should be readable
p5198
aVAlso there are some alternative view engines to the default WebForms
p5199
as(dp5200
g16
V29407
p5201
stp5202
a((dp5203
g2
(lp5204
VAFAIK  is deprecated
p5205
aVYou could use this cross browser solution instead:
p5206
as(dp5207
g16
V29407
p5208
stp5209
a((dp5210
g2
(lp5211
s(dp5212
g16
V29407
p5213
stp5214
a((dp5215
g2
(lp5216
VYou could put the index in the name of the button:
p5217
aVAnd in your action method:
p5218
as(dp5219
g16
V29407
p5220
stp5221
a((dp5222
g2
(lp5223
VInstead of using static html page you could use dynamic page which will set the correct status code:
p5224
aV404
p5225
aVaspx:
p5226
aVweb
p5227
aVconfig:
p5228
as(dp5229
g16
V29407
p5230
stp5231
a((dp5232
g2
(lp5233
VIn  when you refer to the  object this actually is an instance  of HttpApplicationState which is used to hold application specific settings in memory and has nothing to do with key/value appSettings stored in web
p5234
aVconfig
p5235
aVWhen you use  this will return the value corresponding to  in the  section of web
p5236
aVconfig
p5237
aVWhen you use  this will return a value cached in the application instance
p5238
aVBoth are completely unrelated and you can't expect to read values stored in  with
p5239
as(dp5240
g16
V29407
p5241
stp5242
a((dp5243
g2
(lp5244
VYou could try with the setContent function:
p5245
aVor even shorter:
p5246
as(dp5247
g16
V29407
p5248
stp5249
a((dp5250
g2
(lp5251
VInstead of using StreamReader you could call Stream
p5252
aVBeginRead on your incoming stream
p5253
aVUPDATE: Here's an example of using BeginRead on a stream:
p5254
as(dp5255
g16
V29407
p5256
stp5257
a((dp5258
g2
(lp5259
VExternalize the initialization of the pager in a separate javascript file:
p5260
aVIn abc
p5261
aVphp you could call this function when the DOM is ready for normal requests:
p5262
aVAnd finally on your ajax success callback call the initialization function once again:
p5263
as(dp5264
g16
V29407
p5265
stp5266
a((dp5267
g2
(lp5268
V will return all the assemblies that are referenced by the assembly in which the type is declared
p5269
aVThis doesn't mean that the assemblies you will get with this function have anything in common with the given type
p5270
as(dp5271
g16
V29407
p5272
stp5273
a((dp5274
g2
(lp5275
VjQuery Simpletip
p5276
as(dp5277
g16
V29407
p5278
stp5279
a((dp5280
g2
(lp5281
VNo reflection and magic strings, easy to rename controller and method without breaking the unit test:
p5282
as(dp5283
g16
V29407
p5284
stp5285
a((dp5286
g2
(lp5287
VLeft and right shift operators (<< and >>) are often used in performance critical applications which do arithmetic operations and more specifically multiplications and divisions by powers of two
p5288
aVFor example suppose you had to calculate the mathematical expression
p5289
aVA naive implementation would be:
p5290
aVUsing left shift operator you could write:
p5291
aVThe second expression will be orders of magnitude faster than the first and yet yielding the same result
p5292
as(dp5293
g16
V29407
p5294
stp5295
a((dp5296
g2
(lp5297
VI think this post explains it best
p5298
as(dp5299
g16
V29407
p5300
stp5301
a((dp5302
g2
(lp5303
VTry to fully qualify the ICommandHandler interface:
p5304
aVMust be the exact same interface implemented by :
p5305
aVAnd here's the patch file to apply to your SVN repo:
p5306
as(dp5307
g16
V29407
p5308
stp5309
a((dp5310
g2
(lp5311
VFirst step is to add the controls dynamically:
p5312
aVAnd in the action that will handle the form submission you can read the value:
p5313
aVUPDATE:
p5314
aVTo get the value of the dynamically added control you can use the val function:
p5315
as(dp5316
g16
V29407
p5317
stp5318
a((dp5319
g2
(lp5320
VWhen the above code is executed, does the DOM gets updated with the newly added content
p5321
aVAlso check with FireBug what's actually being posted to the server
p5322
aVAlso you are using   - could there be some  issues
p5323
aVUPDATE:
p5324
aVTrying to reproduce the problem I've come up with this snippet which works as expected (when you submit the form, the value of the  input is correctly passed):
p5325
aVNow you could tweak it to your needs
p5326
as(dp5327
g16
V29407
p5328
stp5329
a((dp5330
g2
(lp5331
VTry this:
p5332
aVAnd also indicate to jQuery that you will be returning javascript from your controller:
p5333
as(dp5334
g16
V29407
p5335
stp5336
a((dp5337
g2
(lp5338
VYou may try setting the working directory when you start your process:
p5339
aVIf you later try accessing a file in the same directory as the process executable by specifying a relative path it should be able to find it
p5340
as(dp5341
g16
V29407
p5342
stp5343
a((dp5344
g2
(lp5345
VTo successfully apply ajax form submission you will have to modify the Register action and the views
p5346
aVBy default, in case of error, this action just returns the associated register
p5347
aVaspx view
p5348
aVThe first step would be to put the validation summary inside a partial user control:
p5349
aVValidationSummary
p5350
aVascx:
p5351
aVThen you include this partial inside the Register
p5352
aVaspx view:
p5353
aVAnd finally you modify the Register action:
p5354
aVIn case the registration succeeds by default the Register action just redirects to Home/Index
p5355
aVYou will have to modify this bit as well, because as you are performing an ajax request the redirection won't work
p5356
aVThe same way you could test if you are invoking the action asynchronously and return some text that will indicate that the registration was successful
p5357
aVThis text will be displayed inside the same  as the validation errors
p5358
aVUPDATE:
p5359
aVOne final question - Instead of the
p5360
aVbullet list of error messages, how do
p5361
aVI get each controls error message to
p5362
aVrender next to the control using the
p5363
aVHtml
p5364
aVValidationMessage("
p5365
aVmethod
p5366
aVIn order to achieve this you need to put the contents of your form inside a partial view:
p5367
aVAnd in your register action render the correct partial:
p5368
as(dp5369
g16
V29407
p5370
stp5371
a((dp5372
g2
(lp5373
VA good place to start is the Google Maps API Developer's Guide and Reference
p5374
as(dp5375
g16
V29407
p5376
stp5377
a((dp5378
g2
(lp5379
VYou could use anonymous types:
p5380
aVwill return
p5381
aVUPDATE:
p5382
aVThe same technique can be used for the array scenario:
p5383
as(dp5384
g16
V29407
p5385
stp5386
a((dp5387
g2
(lp5388
VIt depends what your application is doing
p5389
aVIf it uses unmanaged APIs, P/Invoke and pointer arithmetics, it is quite possible that it won't work on a 64-bit platform without some modifications
p5390
aVOtherwise you it be OK, you don't even need to specify a platform, just target for Any CPU and it should work
p5391
as(dp5392
g16
V29407
p5393
stp5394
a((dp5395
g2
(lp5396
VIMHO web services should be stateless and you have to avoid doing such sort of things
p5397
aVOtherwise from the tip of my head (not tested):
p5398
as(dp5399
g16
V29407
p5400
stp5401
a((dp5402
g2
(lp5403
VInstead of polluting your HTML with javascript functions how about an unobtrusive solution using jQuery:
p5404
aVIf you prefer instead the more ASP
p5405
aVNETish solution you could always do this:
p5406
as(dp5407
g16
V29407
p5408
stp5409
a((dp5410
g2
(lp5411
VInstead of using  there's a nice plugin that allows you to post your forms asynchronously
p5412
aVAll you have to do is:
p5413
aVAlso don't forget to assign the correct action to the form, it shouldn't be empty
p5414
as(dp5415
g16
V29407
p5416
stp5417
a((dp5418
g2
(lp5419
VThere's no equivalent of Rails RJS generators in ASP
p5420
aVNET MVC though it might be implemented
p5421
aVSo out-of-the box the Rails convention is more powerful, but IMHO it is questionable if returning Javascript from asynchronous actions is a good thing (Json and Xml are prefered)
p5422
as(dp5423
g16
V29407
p5424
stp5425
a((dp5426
g2
(lp5427
VYou need to define the  callback somewhere
p5428
as(dp5429
g16
V29407
p5430
stp5431
a((dp5432
g2
(lp5433
VYes, using the @ literal:
p5434
as(dp5435
g16
V29407
p5436
stp5437
a((dp5438
g2
(lp5439
VYou need to reference the  assembly and use the  namespace
p5440
as(dp5441
g16
V29407
p5442
stp5443
a((dp5444
g2
(lp5445
VIt is used to define an extension method for a given type
p5446
as(dp5447
g16
V29407
p5448
stp5449
a((dp5450
g2
(lp5451
VHave you tried explicitly setting the
p5452
as(dp5453
g16
V29407
p5454
stp5455
a((dp5456
g2
(lp5457
VYou could try adding to the Headers collection
p5458
as(dp5459
g16
V29407
p5460
stp5461
a((dp5462
g2
(lp5463
VThis is the convention in ASP
p5464
aVNET MVC
p5465
aVWhen using the DefaultControllerFactory this convention is buried inside the internal sealed class  (typical for Microsoft to write internal sealed classes)
p5466
aVInside you will find a method called  which looks like this:
p5467
aVPay attention how the grouping is made
p5468
aVSo basically the DefaultControllerFactory will look inside all the referenced assemblies for types implementing the Controller base class and will strip the "Controller" from the name
p5469
aVIf you really want to dissect in details ASP
p5470
aVNET MVC's pipeline I would recommend you this excellent article
p5471
as(dp5472
g16
V29407
p5473
stp5474
a((dp5475
g2
(lp5476
VWhat is  referring to
p5477
aVI think you might not be the  tag
p5478
aVHere's a working example
p5479
as(dp5480
g16
V29407
p5481
stp5482
a((dp5483
g2
(lp5484
VThe fundamental difference between the BinaryFormatter and xml serializers (other than the obvious output format) is that binary serialization preserves type information (private/public properties, methods, events, etc
p5485
aVThat's one of the reason this type of serialization is used with remoting
p5486
aVThe only requirement is to decorate the type with the SerializableAttribute
p5487
as(dp5488
g16
V29407
p5489
stp5490
a((dp5491
g2
(lp5492
VThe routing in ASP
p5493
aVNET MVC is implemented as a custom HttpModule (UrlRoutingModule), so which takes precedence will depend on the order your modules are declared in web
p5494
aVconfig
p5495
as(dp5496
g16
V29407
p5497
stp5498
a((dp5499
g2
(lp5500
s(dp5501
g16
V29407
p5502
stp5503
a((dp5504
g2
(lp5505
VYou need to bind the click handler when the DOM is ready:
p5506
as(dp5507
g16
V29407
p5508
stp5509
a((dp5510
g2
(lp5511
VThis line:
p5512
aVinstructs FluentNHibernate to map all objects inside the  namespace
p5513
aVIf you want to map only a particular type you could try specifying its name:
p5514
as(dp5515
g16
V29407
p5516
stp5517
a((dp5518
g2
(lp5519
VAFAIK there's no reliable way to enforce a given file extension
p5520
aVIt is a good practice anyway to verify the correct extension, once the dialog is closed and inform the user that he selected an invalid file if the extension doesn't match
p5521
as(dp5522
g16
V29407
p5523
stp5524
a((dp5525
g2
(lp5526
VThe same object instance that has been passed to the view: No
p5527
aVASP
p5528
aVNET MVC uses a default Model binder to instantiate new action parameters from request values
p5529
aVSo for example if you had the following action method:
p5530
aVthe binder will look in the request and try to bind model values
p5531
aVYou could to the following in your View:
p5532
aVThis will automatically populate the values of your model in the controller action
p5533
aVTo avoid mass assignment of properties that shouldn't be bound from request values it is always a good idea to use the BindAttribute and set Exclude or Include properties
p5534
as(dp5535
g16
V29407
p5536
stp5537
a((dp5538
g2
(lp5539
VLook up in the registry to find the DLL associated with the ProgID you have
p5540
aVOnce you have its full path, load it as a normal
p5541
aVNET assembly:
p5542
as(dp5543
g16
V29407
p5544
stp5545
a((dp5546
g2
(lp5547
VPut the GridView containing user records inside an UpdatePanel
p5548
aVAdd a Timer control to the Page
p5549
aVSet the Timer's Tick event to be used as an AsyncPostBack trigger for the UpdatePanel
p5550
aVHere's a sample (not tested):
p5551
aVand in the server callback rebind the grid:
p5552
as(dp5553
g16
V29407
p5554
stp5555
a((dp5556
g2
(lp5557
VI would go with pattern 1
p5558
aVIt presents a clear separation of concerns between the domain model and the data access
p5559
aVIt is also easier to unit test
p5560
as(dp5561
g16
V29407
p5562
stp5563
a((dp5564
g2
(lp5565
s(dp5566
g16
V29407
p5567
stp5568
a((dp5569
g2
(lp5570
VTry replacing all occurrences of  with
p5571
aVAlso the selector  won't likely return any elements
p5572
aVYou probably meant:
p5573
aVAnd finally make sure this code is executed when the DOM is ready i
p5574
ag3813
aVinside:
p5575
as(dp5576
g16
V29407
p5577
stp5578
a((dp5579
g2
(lp5580
VIt looks like you have a routing problem
p5581
aVI guess your controller action has to be modified to accept a nullable integer for the id parameter:
p5582
aVAlso if you followed the default routing table as generated by the template the correct link for this action should be:
p5583
aVAnd the helper to generate it:
p5584
as(dp5585
g16
V29407
p5586
stp5587
a((dp5588
g2
(lp5589
VI don't know why I am doing this but here's an example of invoking a web service manually
p5590
aVPlease promise to never use this in a production code
p5591
aVSuppose you had the following SOAP service:
p5592
aVYou can invoke it manually like this:
p5593
as(dp5594
g16
V29407
p5595
stp5596
a((dp5597
g2
(lp5598
VOne way would be to add a submit button to your form (it could be hidden) and invoke the click action so that it will trigger an asynchronous form postback:
p5599
aVAnd if you don't like the idea of putting hidden buttons this also works but one may find it ugly:
p5600
aVOff-topic: simplify your life with unobtrusive javascript and jQuery
p5601
as(dp5602
g16
V29407
p5603
stp5604
a((dp5605
g2
(lp5606
VYou may use one of the overloads of the Start method which takes  and
p5607
as(dp5608
g16
V29407
p5609
stp5610
a((dp5611
g2
(lp5612
VYou could use data binding:
p5613
aVprovided that you call DataBind in code behind:
p5614
as(dp5615
g16
V29407
p5616
stp5617
a((dp5618
g2
(lp5619
s(dp5620
g16
V29407
p5621
stp5622
a((dp5623
g2
(lp5624
VBecause in the second case  is no longer  but
p5625
aVTo fix this change your loop in the view:
p5626
as(dp5627
g16
V29407
p5628
stp5629
a((dp5630
g2
(lp5631
VThe constructor of  expects you to pass a pointer to a function that takes an integer as parameter and returns nothing
p5632
aVWhat you are passing is not a function but an expression
p5633
aVYou could either define an anonymous function or use an existing one:
p5634
as(dp5635
g16
V29407
p5636
stp5637
a((dp5638
g2
(lp5639
VWhat is wrong is that you are locking on something public () which is accessible everywhere from your code and if some other thread locks on this same thing you get a deadlock
p5640
aVIn general it is a good idea to lock only on private static objects:
p5641
aVThis guarantees you that it's only  that could possess the lock
p5642
as(dp5643
g16
V29407
p5644
stp5645
a((dp5646
g2
(lp5647
VInclude it from Google's CDN:
p5648
aVThere's a big chance your clients will already have jQuery cached in their browsers
p5649
as(dp5650
g16
V29407
p5651
stp5652
a((dp5653
g2
(lp5654
VDon't bother with this, just write a  class that reflects the exact same structure as your form
p5655
aVThen use AutoMapper to convert it to
p5656
as(dp5657
g16
V29407
p5658
stp5659
a((dp5660
g2
(lp5661
VNo, it is not possible
p5662
aVBy the time MyPage
p5663
aVaspx is executing, Default
p5664
aVaspx has been garbage collected
p5665
aVYour options are Session variables, Url parameters,
p5666
as(dp5667
g16
V29407
p5668
stp5669
a((dp5670
g2
(lp5671
VThis is a jquery plugin that does the transformation client side
p5672
aVYou haven't tagged your question to indicate what server side technology you are using, but from your description I infer it is ASP
p5673
aVNET
p5674
aVHere's a sample page I've setup illustrating how to achieve the functionality you are looking for:
p5675
as(dp5676
g16
V29407
p5677
stp5678
a((dp5679
g2
(lp5680
VIt is not possible with XmlSerializer
p5681
aVYou could achieve this with DataContractSerializer using the PreserveObjectReferences property
p5682
aVYou may take a look at this post which explains the details
p5683
aVHere's a sample code:
p5684
aVThis produces the following XML:
p5685
aVNow set  to  in the constructor and you will get this:
p5686
aVIt is worth mentioning that the XML produced this way is not interoperable and can only be deserialized with a DataContractSerializer (same remark as with the BinaryFormatter)
p5687
as(dp5688
g16
V29407
p5689
stp5690
a((dp5691
g2
(lp5692
VYou could use the class designer to generate diagrams representing classes, inheritance, method signatures and properties
p5693
aVI think it is included starting from the Standard Edition
p5694
as(dp5695
g16
V29407
p5696
stp5697
a((dp5698
g2
(lp5699
VThis can be easily achieved with jQuery
p5700
aVSuppose you had the following table, generated by your repeater:
p5701
aVThen you can assign an event handler for the checkbox in the header which will toggle all the other checkboxes:
p5702
as(dp5703
g16
V29407
p5704
stp5705
a((dp5706
g2
(lp5707
VI've always used Web Deployment Projects to precompile web applications and prepare them for deployment
p5708
aVScott Guthrie has blogged about it
p5709
as(dp5710
g16
V29407
p5711
stp5712
a((dp5713
g2
(lp5714
VYou can take a look at dynamic script loading
p5715
aVHere's an excerpt from the article:
p5716
as(dp5717
g16
V29407
p5718
stp5719
a((dp5720
g2
(lp5721
VYou may take a look at this thread
p5722
as(dp5723
g16
V29407
p5724
stp5725
a((dp5726
g2
(lp5727
VNHibernate-2
p5728
ag2925
ag2721
aVGA
p5729
as(dp5730
g16
V29407
p5731
stp5732
a((dp5733
g2
(lp5734
VI think you are missing the  case
p5735
as(dp5736
g16
V29407
p5737
stp5738
a((dp5739
g2
(lp5740
VI think you have different possibilities here
p5741
aVFor example you could add under every row of your table another row which will contain the detailed information and which will be hidden at first
p5742
aVWhen the user clicks on the link you could just show it:
p5743
aVAnother possibility would be to use AJAX to load the detailed information about the row and append it to the table:
p5744
as(dp5745
g16
V29407
p5746
stp5747
a((dp5748
g2
(lp5749
VYour RouteLink is constructed on the server side, which means that it will always be static -  will always be equal to the value of
p5750
aVWhen the user changes the selection in the dropdown you need to modify your link with the new value with javascript
p5751
aVHere's how you could achieve this:
p5752
aVRemark: this solution has a drawback: if you modify your routes it will no longer work as href is hardcoded in javascript
p5753
as(dp5754
g16
V29407
p5755
stp5756
a((dp5757
g2
(lp5758
VYou could apply the attribute either at the controller in which case it will apply for all actions, or only on selected actions
p5759
as(dp5760
g16
V29407
p5761
stp5762
a((dp5763
g2
(lp5764
VLoading signed assemblies will definitely be slower than non-signed counterparts because signature needs to be verified, but this should be completely negligible
p5765
aVPassing from 5 seconds to 90 seconds
p5766
aVI think you need to contact the assembly author and ask them if they changed only the signature :-)
p5767
as(dp5768
g16
V29407
p5769
stp5770
a((dp5771
g2
(lp5772
VDepends on what your java library does and if it uses many third party components, but thanks to IKVM you could compile a jar file into a
p5773
aVNET assembly
p5774
aVI've used this approach to incorporate the xhtmlrenderer java library into a C# application with success
p5775
as(dp5776
g16
V29407
p5777
stp5778
a((dp5779
g2
(lp5780
VYou may find this article helpful
p5781
as(dp5782
g16
V29407
p5783
stp5784
a((dp5785
g2
(lp5786
VTry this:
p5787
as(dp5788
g16
V29407
p5789
stp5790
a((dp5791
g2
(lp5792
VThe reason  is failing is because you have a master page
p5793
aVRick Strahl wrote a blog post about this problem in which he comes up with a nice  function that you could use
p5794
aVIn your case you could call it like this:
p5795
aVTaken from Rick Strahl's blog:
p5796
as(dp5797
g16
V29407
p5798
stp5799
a((dp5800
g2
(lp5801
VThere's an article on TSS
p5802
as(dp5803
g16
V29407
p5804
stp5805
a((dp5806
g2
(lp5807
VYou can use the Init method of your module
p5808
aVIt fires more or less around the same time  as the Application_Start for the Global
p5809
aVasax
p5810
as(dp5811
g16
V29407
p5812
stp5813
a((dp5814
g2
(lp5815
VTry this:
p5816
as(dp5817
g16
V29407
p5818
stp5819
a((dp5820
g2
(lp5821
VUsually the cross browser test is the following:
p5822
as(dp5823
g16
V29407
p5824
stp5825
a((dp5826
g2
(lp5827
VIf your return type is an array then return an empty array otherwise return null
p5828
as(dp5829
g16
V29407
p5830
stp5831
a((dp5832
g2
(lp5833
VMicrosoft will deprecate the  namespace so I think it will be best to use ODP
p5834
aVNET
p5835
aVMake sure you download the latest one (ODP
p5836
aVNET 11g) as previous versions had some issues
p5837
as(dp5838
g16
V29407
p5839
stp5840
a((dp5841
g2
(lp5842
VYou are calling  inside  on line 331:
p5843
as(dp5844
g16
V29407
p5845
stp5846
a((dp5847
g2
(lp5848
VWhen you call the GetAuthCookie method a FormsAuthenticationTicket is created with a timeout given by the Timeout property in web
p5849
aVconfig
p5850
aVSo be sure to set it properly:
p5851
aVOnce the ticket is encrypted it is used as a value for the cookie
p5852
aVWhen you set the Expires property of your cookie to a given value this indicates that it will be persisted on the client computer for the given period
p5853
aVThen on every request ASP
p5854
aVNET runtime will check the presence of the cookie, will try to decrypt the value and obtain the ticket
p5855
aVNext it will check if the ticket is still valid by using the Timeout property, so if you have a small timeout, no matter that your cookie is still transmitted, the ticket is no longer valid and the authentication will fail
p5856
as(dp5857
g16
V29407
p5858
stp5859
a((dp5860
g2
(lp5861
VYou could use the  hash to pass parameters to the method:
p5862
aVAnd your web method becomes:
p5863
as(dp5864
g16
V29407
p5865
stp5866
a((dp5867
g2
(lp5868
VThe CIL does not support method overloading by return type
p5869
as(dp5870
g16
V29407
p5871
stp5872
a((dp5873
g2
(lp5874
VThere's no a reliable way to tell where an user is coming from and this is not only an ASP
p5875
aVNET limitation, but all web applications in general
p5876
aVThe url referrer can be easily spoofed so it is not reliable
p5877
aVI think the best option could be some encrypted url parameter, or cookie if you prefer
p5878
aVSo both pages should agree on common private keys
p5879
aVPage1 will use the key to encrypt its address and pass it to Page2
p5880
aVPage2 will check for the presence of this parameter and try to decrypt it with the same private key used to encrypt
p5881
aVIf this succeeds it means that Page2 will be capable to determine who called it, if not, the data has been tampered
p5882
as(dp5883
g16
V29407
p5884
stp5885
a((dp5886
g2
(lp5887
VPut the two radio buttons and the associated link into a separate form
p5888
aVReplace the link with a submit button (or submit image if you want it to look like a link)
p5889
aVSo you will have two forms both posting to the same controller action
p5890
aVGive your submit button a  which can be used inside the action to determine which button was clicked
p5891
aVYou could also use a hidden field
p5892
aVThe first thing to do in the action is to determine which button was clicked and then read the appropriate request values for the radio buttons
p5893
aVAnother alternative is to have everything in the same form with two submit buttons and different names
p5894
as(dp5895
g16
V29407
p5896
stp5897
a((dp5898
g2
(lp5899
s(dp5900
g16
V29407
p5901
stp5902
a((dp5903
g2
(lp5904
VIt will depend on the Timeout property in web
p5905
aVconfig
p5906
as(dp5907
g16
V29407
p5908
stp5909
a((dp5910
g2
(lp5911
VAFAIK this is not possible and it will be problematic on developer's machines
p5912
aVFile references is the way to go
p5913
aVI usually organize projects like this:
p5914
aVThis way TeamProject1 is independent from the source code of TeamProject2 and it contains all the necessary dependencies
p5915
aVIf TeamProject2 changes it won't necessary break TeamProject1
p5916
as(dp5917
g16
V29407
p5918
stp5919
a((dp5920
g2
(lp5921
VFew remarks about your code:
p5922
aVYou need to call  on the same service instance on which you called
p5923
aVYou need to pass  as the AsyncCallBack instead of
p5924
aVHere's the code with these remarks taken into account:
p5925
as(dp5926
g16
V29407
p5927
stp5928
a((dp5929
g2
(lp5930
VIf the textbox is added in UpdatePanel, then you need to hook up to the end request
p5931
aVIf you have multiple update panels on your page you might need to tweak a little bit the end_request callback by checking the  and  parameters, so that it attaches the datapicker only if the UpdatePanel that holds your GridView is triggered
p5932
as(dp5933
g16
V29407
p5934
stp5935
a((dp5936
g2
(lp5937
VYou can try saying  to your server and see if it responds with
p5938
aVOf course this test doesn't guarantee you that you will succeed sending the mail later, but it is a good indication
p5939
aVAnd here's a sample:
p5940
aVAnd here's the list of codes to expect
p5941
as(dp5942
g16
V29407
p5943
stp5944
a((dp5945
g2
(lp5946
Vin web
p5947
aVconfig:
p5948
as(dp5949
g16
V29407
p5950
stp5951
a((dp5952
g2
(lp5953
VIntPtr
p5954
aVAlso you might read about P/Invoke calls
p5955
as(dp5956
g16
V29407
p5957
stp5958
a((dp5959
g2
(lp5960
VYou could expose the managed component as COM object
p5961
as(dp5962
g16
V29407
p5963
stp5964
a((dp5965
g2
(lp5966
VYou have two options:
p5967
aVNon persistent authentication cookie (no Expires property set)
p5968
aVIn this case the cookie will be stored only in browser's memory and will be lost once the browser is closed
p5969
aVThe ticket can have either a fixed timeout or a timeout with a sliding expiration
p5970
aVOnce the timeout is reached, despite that the cookie is still sent by the browser, the client will be logged off
p5971
aVFor the sliding expiration to work the cookie is rewritten on every request because the ticket changes
p5972
aVPersistent authentication cookie
p5973
aVIn this case the cookie will be stored on the client's computer and will be sent as long as the Expires date is not reached
p5974
aVSame ticket Timeout rules apply here
p5975
as(dp5976
g16
V29407
p5977
stp5978
a((dp5979
g2
(lp5980
VThis should work:
p5981
as(dp5982
g16
V29407
p5983
stp5984
a((dp5985
g2
(lp5986
VYou could replace  with
p5987
as(dp5988
g16
V29407
p5989
stp5990
a((dp5991
g2
(lp5992
VHere's how a sample SOAP message might look like:
p5993
as(dp5994
g16
V29407
p5995
stp5996
a((dp5997
g2
(lp5998
VCS3016
p5999
aVIf you have an attribute which takes an array as argument and the project is marked as CLSCompliant you will get this warning
p6000
as(dp6001
g16
V29407
p6002
stp6003
a((dp6004
g2
(lp6005
VIMHO if you call the  action you won't hit the cache because you are just rendering a view and not redirecting to the  action whose output has been cached
p6006
as(dp6007
g16
V29407
p6008
stp6009
a((dp6010
g2
(lp6011
VVB
p6012
aVNET 9
p6013
aV0 doesn't support multi-statement lambda expressions or anonymous methods
p6014
aVIt also does not support lambda expression that does not return a value meaning that you cannot declare an anonymous function of type Action
p6015
aVOtherwise this works but is meaningless because the lambda does nothing:
p6016
aVNow let's take your example:
p6017
aVShould be translated to something like this:
p6018
aVwhich doesn't compile in VB
p6019
aVNET 9
p6020
aV0 because your expression doesn't return a value
p6021
aVIn VB
p6022
aVNET 10 you will be able to use the Sub keyword:
p6023
aVwhich will compile fine
p6024
as(dp6025
g16
V29407
p6026
stp6027
a((dp6028
g2
(lp6029
VReading a file will be faster than database access
p6030
aVBut with DB you get bonus: transactions, concurrent access,
p6031
as(dp6032
g16
V29407
p6033
stp6034
a((dp6035
g2
(lp6036
VTo download data from a web page it is easier to use WebClient:
p6037
aVFor parsing downloaded data, provided that it is HTML, you could use the excellent Html Agility Pack library
p6038
aVAnd here's a complete example extracting all the links from a given page:
p6039
as(dp6040
g16
V29407
p6041
stp6042
a((dp6043
g2
(lp6044
VThis actually works as it alerts the correct value:
p6045
as(dp6046
g16
V29407
p6047
stp6048
a((dp6049
g2
(lp6050
VThe fundamental mistake you are making is that the AJAX call is made asynchronously, so by the time you return, the result is not yet ready
p6051
aVTo make this work you could modify your code like this:
p6052
as(dp6053
g16
V29407
p6054
stp6055
a((dp6056
g2
(lp6057
VHave you tried:
p6058
as(dp6059
g16
V29407
p6060
stp6061
a((dp6062
g2
(lp6063
VThis should be done in javascript or using a  instead of
p6064
aVThere's nothing you could put in the place of your  to make it work
p6065
aVYou cannot set these values server side because they might be changed on the client side
p6066
aVSo basically you need to hook up at the onchange event of your two selects and update your link url with the new values or just use a
p6067
aVSomething among the lines:
p6068
as(dp6069
g16
V29407
p6070
stp6071
a((dp6072
g2
(lp6073
VTake a look at this thread
p6074
as(dp6075
g16
V29407
p6076
stp6077
a((dp6078
g2
(lp6079
VThis could be related to sql connections not being properly disposed (returned to the pool)
p6080
aVMake sure you are calling
p6081
as(dp6082
g16
V29407
p6083
stp6084
a((dp6085
g2
(lp6086
VEasy with iTextSharp:
p6087
as(dp6088
g16
V29407
p6089
stp6090
a((dp6091
g2
(lp6092
VI currently can't find any reasonable explanation as to why the second is not working
p6093
aVBut it works if you change your action signature to look like this:
p6094
aVI suppose this has something to do with the DefaultModelBinder
p6095
aVUPDATE:
p6096
aVOk, this starts to be really funny:
p6097
aVStrange indeed
p6098
aVUPDATE2:
p6099
aVOk got it
p6100
aVYou have a property called  in your model and the variable name passed in the action is also called
p6101
aVThis is where the ambiguity comes from
p6102
aVNo bug in the DefaultModelBinder
p6103
aVHe can't bind at the same time to a property of type string and Contact, case closed :-)
p6104
as(dp6105
g16
V29407
p6106
stp6107
a((dp6108
g2
(lp6109
VThis will probably have some performance costs when creating the connection but as connections are pooled, they are created only once and then reused, so it won't make any difference to your application
p6110
aVBut as always: measure it
p6111
aVUPDATE:
p6112
aVThere are two authentication modes:
p6113
aVWindows Authentication mode (corresponding to a trusted connection)
p6114
aVClients need to be members of a domain
p6115
aVSQL Server Authentication mode
p6116
aVClients are sending username/password at each connection
p6117
as(dp6118
g16
V29407
p6119
stp6120
a((dp6121
g2
(lp6122
VThis is defined by the machineKey element:
p6123
as(dp6124
g16
V29407
p6125
stp6126
a((dp6127
g2
(lp6128
VEncode every single string coming from user input
p6129
as(dp6130
g16
V29407
p6131
stp6132
a((dp6133
g2
(lp6134
VDoing this in a web site without installing software on user's computer is luckily impossible
p6135
aVYou could instead offer the first user to upload the file to your site where the second user can download it
p6136
as(dp6137
g16
V29407
p6138
stp6139
a((dp6140
g2
(lp6141
VYou can't reference  directly as it is not a managed library
p6142
aVYou could do this instead:
p6143
aVChoose a category in the Toolbox
p6144
aVRight-click on that and choose
p6145
aVOpen the COM Components Tab
p6146
aVSearch for
p6147
aVThis will generate
p6148
aVNET wrappers and add Windows Media Player component to your project where you can manipulate it directly
p6149
as(dp6150
g16
V29407
p6151
stp6152
a((dp6153
g2
(lp6154
VInstead of using  here's something else you might try
p6155
aVRegister for the end_request event of the UpdatePanel and execute your jQuery script:
p6156
as(dp6157
g16
V29407
p6158
stp6159
a((dp6160
g2
(lp6161
VYou could host the ASP
p6162
aVNET runtime inside a console application
p6163
aVHere's an example:
p6164
aVYou might get a  when you run this program
p6165
aVYou have to create a  subdirectory to your current directory and move a copy of the executable to it
p6166
aVThis is because the ASP
p6167
aVNET runtime will look for a bin subdirectory
p6168
aVAnother option is to put  into a separate assembly which you deploy into the GAC
p6169
as(dp6170
g16
V29407
p6171
stp6172
a((dp6173
g2
(lp6174
VThere's no  in a web application
p6175
aVYou have to do this on the client machine, who has a browser capable of transforming the HTML to some interface worth capturing
p6176
aVWhat you could do in your web application is to register for the Application_Error event in global
p6177
aVasax and send an email for each exception
p6178
as(dp6179
g16
V29407
p6180
stp6181
a((dp6182
g2
(lp6183
VYou need to first save  before attempting to save the :
p6184
as(dp6185
g16
V29407
p6186
stp6187
a((dp6188
g2
(lp6189
VYou may try the  event:
p6190
as(dp6191
g16
V29407
p6192
stp6193
a((dp6194
g2
(lp6195
VPut this in your web
p6196
aVconfig:
p6197
aVby replacing  by the version you gave to your build
p6198
aVRemark: If the new version of the assembly is not signed using the same key, the binding redirect won't work
p6199
aVIf this is the case you have no choice but to recompile  against your custom NHibernate build
p6200
aVUPDATE:
p6201
aVIt seems that the private key is included in the repository so you should be good to go :-)
p6202
as(dp6203
g16
V29407
p6204
stp6205
a((dp6206
g2
(lp6207
VHave you tried using a selector (not tested, might need top adjust the selector):
p6208
aVUPDATE:
p6209
aVadjust the selector:
p6210
as(dp6211
g16
V29407
p6212
stp6213
a((dp6214
g2
(lp6215
VExtension methods apply to class instances:
p6216
as(dp6217
g16
V29407
p6218
stp6219
a((dp6220
g2
(lp6221
VIn order to test if the model is correctly data annotated I would probably do something among the lines:
p6222
aVThe other thing you need to test is that you are effectively using the  instead of the default one:
p6223
as(dp6224
g16
V29407
p6225
stp6226
a((dp6227
g2
(lp6228
VThe problem is that the certificate is not valid for  but for
p6229
aVSo all you have to do is change your url:
p6230
aVLook at the  header
p6231
aVFor paypal it is , while for your site it is
p6232
aVUPDATE:
p6233
as(dp6234
g16
V29407
p6235
stp6236
a((dp6237
g2
(lp6238
VHow to: Create a Basic WCF REST Service
p6239
aVREST Enabled Service in WCF Tutorial
p6240
as(dp6241
g16
V29407
p6242
stp6243
a((dp6244
g2
(lp6245
VThe recommended way of querying objects in NHibernate is using either the Criteria API or HQL
p6246
aVDo you have any reason against any of these two approaches
p6247
aVUPDATE:
p6248
aVIf you want to load only the association without loading the parent object you could use the following query:
p6249
as(dp6250
g16
V29407
p6251
stp6252
a((dp6253
g2
(lp6254
VAn important aspect is defining the correct object lifetime (singleton vs  - never know what the correct technical term of this is) or you might get some nasty threading issues
p6255
aVAs for bottlenecks and memory problems, these aren't relevant to DI frameworks or at least I never had any of these related to a DI framework
p6256
as(dp6257
g16
V29407
p6258
stp6259
a((dp6260
g2
(lp6261
VFor example if you want to test that a password is at least 6 characters long and contains at least one uppercase and one lowercase letter and at least one digit you could use this:
p6262
as(dp6263
g16
V29407
p6264
stp6265
a((dp6266
g2
(lp6267
VThe bitmap is not copied to the output directory
p6268
aVIn the properties of the bitmap set:
p6269
as(dp6270
g16
V29407
p6271
stp6272
a((dp6273
g2
(lp6274
VHere's a sample with GMail which uses SSL:
p6275
as(dp6276
g16
V29407
p6277
stp6278
a((dp6279
g2
(lp6280
VIs jQuery UI considered a jQuery Plugin
p6281
aVIt is not a single plugin but a collection of plugins and UI widgets
p6282
aVIs it possible to use jQuery UI without jQuery
p6283
aVNo, jQuery UI is built on top of jQuery
p6284
as(dp6285
g16
V29407
p6286
stp6287
a((dp6288
g2
(lp6289
VIn general the  a client is pointing to is defined in the app/web
p6290
aVconfig using the endpoint element
p6291
aVSo all you have to do is modify the  attribute to point to the new url:
p6292
as(dp6293
g16
V29407
p6294
stp6295
a((dp6296
g2
(lp6297
VAntiForgeryToken prevents a malicious site to trick a user to a form that looks the same as the original and post it to the original site
p6298
aVIt does not prevent the scenario you are describing
p6299
aVHere's how an attacker could proceed in order to circumvent the token:
p6300
aVThe hacker sends a GET request to the form
p6301
aVHe reads the value of the cookie generated by the AntiForgeryToken
p6302
aVHe POSTs to the url handling the form action by sending the cookie, the RequestVerificationToken hidden field which has the same value as the cookie and the modified entity ID
p6303
aVAs you can see the only difference to as if you haven't used AntiForgeryToken is that the hacker needs to send an additional GET request to read the value of the token
p6304
aVThere's absolutely no way to prevent an attacker from modifying the value of a hidden field other than verifying that the user who submitted the form (I suppose that in order to vote the user has to be authenticated) is not the owner of the entity ID he is voting for
p6305
as(dp6306
g16
V29407
p6307
stp6308
a((dp6309
g2
(lp6310
VTo make this work you need to first authenticate in order to obtain a valid  for a given google site which can be used to access data
p6311
aVHere's how you could achieve this:
p6312
as(dp6313
g16
V29407
p6314
stp6315
a((dp6316
g2
(lp6317
VIMHO the response format is a cross cutting concern and it's not the controller to mess with it
p6318
aVI would suggest you to write an ActionFilter for this job:
p6319
aVwhich then simplifies your controller action a bit:
p6320
aVThe ActionFilter is a reusable component that you could apply to other actions
p6321
as(dp6322
g16
V29407
p6323
stp6324
a((dp6325
g2
(lp6326
VThere are command line debuggers that come with Debugging Tools for Windows like CDB
p6327
aVFor managed applications you will also need the SOS module
p6328
as(dp6329
g16
V29407
p6330
stp6331
a((dp6332
g2
(lp6333
VIf the file is located on the same host that served the page containing the javascript you could try sending an ajax request and verify the returned status code:
p6334
as(dp6335
g16
V29407
p6336
stp6337
a((dp6338
g2
(lp6339
VMake sure to include all the necessary scripts: ,  and  (if you are using class metadata to define validation rules)
p6340
aVHere's a sample:
p6341
as(dp6342
g16
V29407
p6343
stp6344
a((dp6345
g2
(lp6346
s(dp6347
g16
V29407
p6348
stp6349
a((dp6350
g2
(lp6351
VYou could encrypt the sensitive data before writing it to the file
p6352
as(dp6353
g16
V29407
p6354
stp6355
a((dp6356
g2
(lp6357
VYou have unclosed braces in your script:
p6358
aVand you could rewrite your script like this:
p6359
as(dp6360
g16
V29407
p6361
stp6362
a((dp6363
g2
(lp6364
VI've never used design support in Visual Studio and with SQLite I wonder if it is possible at all so I would suggest you to get into coding :-) Here's a sample illustrating the basic ideas
p6365
aVYou start off by creating your database:
p6366
aVGlobal
p6367
aVasax:
p6368
aVOf course you could skip this step if you already have an SQLite database file
p6369
aVYou won't need to recreate it every time your application starts :-)
p6370
aVOnce you have the database filled with data you could show it in a grid
p6371
aVdefault
p6372
aVaspx:
p6373
as(dp6374
g16
V29407
p6375
stp6376
a((dp6377
g2
(lp6378
VIn
p6379
aVNET you could use delegates:
p6380
as(dp6381
g16
V29407
p6382
stp6383
a((dp6384
g2
(lp6385
VIt will depend on your scenario
p6386
aVXmlDocument loads the whole document into memory, while XmlWriter uses a stream so it is better suited when working with large XML documents
p6387
aVOn the other hand XmlDocument might be easier to use
p6388
as(dp6389
g16
V29407
p6390
stp6391
a((dp6392
g2
(lp6393
VWCF has never been meant to be a replacement for COM
p6394
aVThe
p6395
aVNET framework itself is the replacement of COM
p6396
aVWCF is meant to deliver a common interface for writing client/server applications such as SOAP web services and remoting applications independently of the protocol/transport/serialization mechanism used
p6397
as(dp6398
g16
V29407
p6399
stp6400
a((dp6401
g2
(lp6402
VTo set a cookie in javascript:
p6403
aVAlso there's a jquery plugin
p6404
as(dp6405
g16
V29407
p6406
stp6407
a((dp6408
g2
(lp6409
VThese constraints look strange:
p6410
aVT is a value type but in the same time must inherit from U which is a reference type
p6411
aVI wonder what types could satisfy the above constraints and allow us to call this method
p6412
as(dp6413
g16
V29407
p6414
stp6415
a((dp6416
g2
(lp6417
VI know this is not applicable in all cases but when I need to pass an Url to a client script (as in your example) it is often to ajaxify some anchor or button I already have in the DOM:
p6418
aVand in my script:
p6419
as(dp6420
g16
V29407
p6421
stp6422
a((dp6423
g2
(lp6424
VIt is a library that allows you to take a normal LINQ query, divide it into smaller tasks and execute each individual task on multiple threads taking advantage of processor cores
p6425
as(dp6426
g16
V29407
p6427
stp6428
a((dp6429
g2
(lp6430
VCons:
p6431
aVthreading issues (static functions don't require an instance to be called on, so it is easy to invoke them from different parts of the code and if they read/write to a shared state this state might be corrupted in a multi-threaded environment such as ASP
p6432
aVNET)
p6433
aVdifficult to unit test (as static functions don't require an object instance, constructor injection is impossible meaning that the only way to inject dependencies is by passing them as arguments to the function itself)
p6434
aVPros:
p6435
aVperformance (this is questionable - in most cases performance gains will be completely negligible compared to other parts of the code)
p6436
as(dp6437
g16
V29407
p6438
stp6439
a((dp6440
g2
(lp6441
s(dp6442
g16
V29407
p6443
stp6444
a((dp6445
g2
(lp6446
VYour version looks more readable :-)
p6447
as(dp6448
g16
V29407
p6449
stp6450
a((dp6451
g2
(lp6452
VPut everything in the same form: the required fields, the optional fields, the page links
p6453
aVTwo possibilities:
p6454
aVUse submit buttons or images instead of anchor tags for the page links each having a different name (e
p6455
aVg
p6456
aV, ,
p6457
aV: this will allow you to get the desired page when the form is submitted
p6458
aVPut a hidden field inside your form
p6459
aVThen add a javascript click handler to any of the page anchors
p6460
aVThis handler will update the value of the hidden field with the page, submit the form and cancel the event
p6461
aVSo clicking on any of the pager links will submit the form with all the data you need to build the list and pager links
p6462
as(dp6463
g16
V29407
p6464
stp6465
a((dp6466
g2
(lp6467
VIf the account your web service runs under has sufficient permissions you could use paths like this:
p6468
aVAnother solution would be to use UNC shares but you won't be able to read and write to arbitrary paths
p6469
as(dp6470
g16
V29407
p6471
stp6472
a((dp6473
g2
(lp6474
VOr you could use the MethodImplAttribute which puts a  around the whole method body:
p6475
as(dp6476
g16
V29407
p6477
stp6478
a((dp6479
g2
(lp6480
VMeasure it:
p6481
aVAlso I believe that if you enable tracing it will show you some details about the session (not sure about this, never tried it myself)
p6482
as(dp6483
g16
V29407
p6484
stp6485
a((dp6486
g2
(lp6487
VI believe this post might be helpful
p6488
as(dp6489
g16
V29407
p6490
stp6491
a((dp6492
g2
(lp6493
VWhat you are asking is meaningless because the order in which the items are returned is undefined
p6494
aVThere's no such thing as order in a dictionary
p6495
as(dp6496
g16
V29407
p6497
stp6498
a((dp6499
g2
(lp6500
VIf the ASP
p6501
aVNET page performing the upload is not hosted on the same machine serving the subdomain you will need to install some script on each machine that you would call from the ASP
p6502
aVNET page, pass it the file bytes and it will save the file in the necessary subfolder
p6503
aVThis script should be secure enough not to allow uploading to arbitrary directories
p6504
as(dp6505
g16
V29407
p6506
stp6507
a((dp6508
g2
(lp6509
VIt is not necessary to have an  in each test method
p6510
aVFor example if you want to test that your method will throw an exception you could use the ExpectedException (MS Test)
p6511
aVIf you are not testing that your method throws an exception and you don't have a single  then you might be doing something wrong
p6512
aVJust calling a method is not a good unit test
p6513
aVYou need to verify somehow if this method performed as expected after you call it which is usually achieved through asserting
p6514
as(dp6515
g16
V29407
p6516
stp6517
a((dp6518
g2
(lp6519
VHave you seen what does the Bitmap constructor you are using do:
p6520
aVIt calls DrawImage
p6521
as(dp6522
g16
V29407
p6523
stp6524
a((dp6525
g2
(lp6526
VIt's because DateTime
p6527
aVMinValue doesn't have the same meaning as the minimum value you could store in a SQL Server datetime column
p6528
aVIn SQL server datetime column the minimum date you could store is the one you get in your exception stack
p6529
aVIt is SqlDateTime
p6530
aVMinValue
p6531
as(dp6532
g16
V29407
p6533
stp6534
a((dp6535
g2
(lp6536
VjQuery is automatically decoding the data but as long as you don't  or inject that data into the DOM nothing will happen
p6537
aVSo for example if you wanted to inject this into the DOM you don't have to use the html method but the text method:
p6538
as(dp6539
g16
V29407
p6540
stp6541
a((dp6542
g2
(lp6543
VYou need to use an  tag:
p6544
aVWhen you write  you are basically saying: send a GET requets to  using Ajax and if the request succeeds update the contents of  with the result
p6545
aVAs your controller action sends binary data, this binary data will be injected into the div
p6546
as(dp6547
g16
V29407
p6548
stp6549
a((dp6550
g2
(lp6551
VASP
p6552
aVNET works perfectly fine with interfaces:
p6553
as(dp6554
g16
V29407
p6555
stp6556
a((dp6557
g2
(lp6558
s(dp6559
g16
V29407
p6560
stp6561
a((dp6562
g2
(lp6563
VEvery time you call an action method, a new instance of the controller class should be created
p6564
aVSo it is not a good idea to have your action methods depend on instance variables
p6565
aVIf you use the DefaultControllerFactory then you will get a new controller instance for each request
p6566
aVIf you use a custom controller factory you could override this behavior, which I wouldn't recommend
p6567
as(dp6568
g16
V29407
p6569
stp6570
a((dp6571
g2
(lp6572
VYou cannot perform ordinary cross domain ajax requests
p6573
aVYou need to use JSONP and this works only with GET requests (that's because jquery injects a  tag to the DOM in order to perform the request and a  tag can only use GET to fetch javascript)
p6574
as(dp6575
g16
V29407
p6576
stp6577
a((dp6578
g2
(lp6579
VI would suggest you looking at the RegisterWaitForSingleObject function:
p6580
as(dp6581
g16
V29407
p6582
stp6583
a((dp6584
g2
(lp6585
VTo check that Word 2007 in particular is installed:
p6586
as(dp6587
g16
V29407
p6588
stp6589
a((dp6590
g2
(lp6591
s(dp6592
g16
V29407
p6593
stp6594
a((dp6595
g2
(lp6596
VJavascript won't be of any help because the 3rd party page won't be loaded until you click on a link
p6597
aVSo the only way is to pass it as parameter:
p6598
aVThis parameter needs to be interpreted by the 3rd party page and populate the text box
p6599
aVEven if you opened the 3rd party site in a new window or iframe you won't be able to manipulate it with javascript because it probably won't be hosted on the same domain as your site
p6600
as(dp6601
g16
V29407
p6602
stp6603
a((dp6604
g2
(lp6605
VYou could cache portions of the web page which will depend on the list of profiles by putting them in a user control and marking it as cacheable
p6606
aVSqlCacheDependency cache policy expiration could be defined as well
p6607
aVAs for the cache location, every web server in the farm will have it's own version in memory but using cache expiration will make sure that this version is not out of sync with the data in the DB
p6608
aVPage or fragment caching is the most effective caching technique because contrary to caching your model (a DataTable or whatever) you don't pay the price of HTML rendering
p6609
as(dp6610
g16
V29407
p6611
stp6612
a((dp6613
g2
(lp6614
VAn asymmetric algorithm could be used like so:
p6615
aVThe server generates a pair of private/public keys
p6616
aVClient asks server (via AJAX) its public key
p6617
aVClient encrypts data with the public key
p6618
aVClient sends encrypted data to server
p6619
aVServer uses private key to decrypt data
p6620
aVAll these things have already been implemented and tested, so why reinvent the wheel and not directly use HTTPS
p6621
aVThis will guarantee you that any exchange between client and server will be encrypted
p6622
as(dp6623
g16
V29407
p6624
stp6625
a((dp6626
g2
(lp6627
VYou need to use a request filter
p6628
aVWrite a class deriving from Stream and register it as a filter
p6629
as(dp6630
g16
V29407
p6631
stp6632
a((dp6633
g2
(lp6634
VYou could capture the value in the outer function:
p6635
as(dp6636
g16
V29407
p6637
stp6638
a((dp6639
g2
(lp6640
VYou could use the Session_Start event in global
p6641
aVasax and put the instance of ClassA in the session
p6642
aVYou could then just read it from the session and it will be the same instance for the same user as long as the session is alive
p6643
as(dp6644
g16
V29407
p6645
stp6646
a((dp6647
g2
(lp6648
VIt is because by default ScriptManager assumes partial rendering
p6649
aVYou can disable it like this:
p6650
as(dp6651
g16
V29407
p6652
stp6653
a((dp6654
g2
(lp6655
s(dp6656
g16
V29407
p6657
stp6658
a((dp6659
g2
(lp6660
s(dp6661
g16
V29407
p6662
stp6663
a((dp6664
g2
(lp6665
VTry this:
p6666
as(dp6667
g16
V29407
p6668
stp6669
a((dp6670
g2
(lp6671
VUPDATE:
p6672
aVHere's how you could assert argument values:
p6673
aVUPDATE2:
p6674
aVAs suggested by @mquander in the comments, the previous assert could be shortened using LINQ:
p6675
as(dp6676
g16
V29407
p6677
stp6678
a((dp6679
g2
(lp6680
VThis is by design
p6681
aVFor security reasons you cannot perform cross domain AJAX requests
p6682
aVYou could use JSONP though
p6683
aVAnother option is to use a proxy
p6684
as(dp6685
g16
V29407
p6686
stp6687
a((dp6688
g2
(lp6689
VThis really depends on how these classes are designed and what actions they perform when the constructor is invoked
p6690
aVIf they have default empty constructors then the performance hit of instantiating three new objects won't be noticeable
p6691
as(dp6692
g16
V29407
p6693
stp6694
a((dp6695
g2
(lp6696
VHere's how to get the current operation method:
p6697
as(dp6698
g16
V29407
p6699
stp6700
a((dp6701
g2
(lp6702
VIf I had one advice to give you in this case it would be: always use  statements when working with IDisposable objects such as streams
p6703
aVIn addition to automatically flushing streams it would also free resources in case of exception:
p6704
as(dp6705
g16
V29407
p6706
stp6707
a((dp6708
g2
(lp6709
VIn javascript primitive types such as integers and strings are passed by value whereas objects are passed by reference
p6710
aVSo in order to achieve this you need to use an object:
p6711
as(dp6712
g16
V29407
p6713
stp6714
a((dp6715
g2
(lp6716
VWhy not just pass it as parameter:
p6717
as(dp6718
g16
V29407
p6719
stp6720
a((dp6721
g2
(lp6722
V is just a shortcut for :
p6723
as(dp6724
g16
V29407
p6725
stp6726
a((dp6727
g2
(lp6728
VYou could have aspx pages mixing c# and VB
p6729
aVNET in the same site:
p6730
aVdefaultVB
p6731
aVaspx:
p6732
aVdefaultCSharp
p6733
aVaspx:
p6734
aVOf course this assumes that you don't use code behind files
p6735
as(dp6736
g16
V29407
p6737
stp6738
a((dp6739
g2
(lp6740
VWhile using a StringBuilder is preferred there's one caveat
p6741
aVImagine for example that in your  method you store the pointer to some static variable and use it in another method:
p6742
aVNow let's look at the managed side:
p6743
aVThe unsafe method guarantees you that the memory location won't be moved around:
p6744
aVIn this case the unsafe version will work better
p6745
as(dp6746
g16
V29407
p6747
stp6748
a((dp6749
g2
(lp6750
VIf you really care about memory then here's a solution that will directly write to the response stream
p6751
aVFirst define your custom ActionResult:
p6752
aVWith this technique you could serve some really huge zip files without caring about memory or having to clean some temporary zip files on your server hard drives
p6753
aVAnd finally your controller action could look like this:
p6754
aVUsing this method memory footprint is minimized because the zip is written directly to the response stream which in terms will be represented by an underlying network socket
p6755
aVOf course depending on where your files are stored the  could be tweaked
p6756
aVHere I assume the files are stored on the file system
p6757
as(dp6758
g16
V29407
p6759
stp6760
a((dp6761
g2
(lp6762
VGuid
p6763
aVTryParse implementation using regular expressions
p6764
as(dp6765
g16
V29407
p6766
stp6767
a((dp6768
g2
(lp6769
VThe documentation states:
p6770
aVThis attribute is typically used in
p6771
aVthe Properties window to determine
p6772
aVwhether to render an expandable object
p6773
aVas read-only
p6774
aVAs such, this property
p6775
aVis used only at design time
p6776
aVReflector shows that the only method using this attribute is the internal  property getter used by design property grids
p6777
as(dp6778
g16
V29407
p6779
stp6780
a((dp6781
g2
(lp6782
VTry specifying the culture of the assembly in your bindingRedirect:
p6783
aVYou also need to verify that the new version of the assembly is signed with exactly the same private key as the old one
p6784
aVAs far as the the configuration file is concerned verify that it is called  where  is the name of your executable and that it is in the same folder (if this is a windows application of course, for web applications you need to use )
p6785
as(dp6786
g16
V29407
p6787
stp6788
a((dp6789
g2
(lp6790
VThere you go:
p6791
aVPrints:
p6792
as(dp6793
g16
V29407
p6794
stp6795
a((dp6796
g2
(lp6797
VThe ValidateAntiForgeryTokenAttribute will just throw HttpAntiForgeryException
p6798
aVYou could use the HandleErrorAttribute to handle this scenario:
p6799
as(dp6800
g16
V29407
p6801
stp6802
a((dp6803
g2
(lp6804
VThere's also qUnit which is used by the jQuery project
p6805
as(dp6806
g16
V29407
p6807
stp6808
a((dp6809
g2
(lp6810
VThere's are no built-in JSON serializers in javascript so you will need to use a library
p6811
aVA good one is json2
p6812
aVjs
p6813
aVHere's a sample:
p6814
as(dp6815
g16
V29407
p6816
stp6817
a((dp6818
g2
(lp6819
VItems put in a cache are not guaranteed to be found there
p6820
aVIn some situations the framework might expire items from the cache, for example if it starts running low on memory
p6821
aVIn this case it will call the onRemoveCallback you pass along when you add an item to the cache
p6822
aVThe cache is not a reliable storage, you need to always check if the item is there before using it and if it is not perform the necessary actions to fetch it and put it back there so that future callers could find it
p6823
as(dp6824
g16
V29407
p6825
stp6826
a((dp6827
g2
(lp6828
VThis scenario is best handled by implementing an IAuthorizationFilter
p6829
aVThen you can apply this attribute either at the controller level or at some particular actions
p6830
aVBy the way do you have any particular reason for not using the built-in FormsAuthentication
p6831
as(dp6832
g16
V29407
p6833
stp6834
a((dp6835
g2
(lp6836
VYou can dock it to the form
p6837
as(dp6838
g16
V29407
p6839
stp6840
a((dp6841
g2
(lp6842
VYou need to use  instead of
p6843
aVWith  you need to manually pass all the values
p6844
aVWith  all the input fields inside this form will be sent with the request and inside your action you will be able to rebind the model
p6845
as(dp6846
g16
V29407
p6847
stp6848
a((dp6849
g2
(lp6850
s(dp6851
g16
V29407
p6852
stp6853
a((dp6854
g2
(lp6855
VIf the url you are requesting returns html you can use selectors on it:
p6856
as(dp6857
g16
V29407
p6858
stp6859
a((dp6860
g2
(lp6861
VContentDisposition is a convenient class that allows you to set the Content-Disposition header in a friendly manner, without knowing the internals of the HTTP protocol
p6862
aVOf course you could always set the header manually if you prefer:
p6863
as(dp6864
g16
V29407
p6865
stp6866
a((dp6867
g2
(lp6868
VMake sure you added  to the classpath
p6869
as(dp6870
g16
V29407
p6871
stp6872
a((dp6873
g2
(lp6874
VRemark: Don't forget to make the interface public or Rhino Mocks won't be able to create a proxy
p6875
aVUPDATE:
p6876
aVSorry I didn't read your question carefully
p6877
aVHere's how to get the desired behavior:
p6878
as(dp6879
g16
V29407
p6880
stp6881
a((dp6882
g2
(lp6883
VThe Visual Studio development server uses the ASP
p6884
aVNET pipeline to handle all requests including javascript and css
p6885
aVThis is not the case for IIS unless explicitly configured
p6886
as(dp6887
g16
V29407
p6888
stp6889
a((dp6890
g2
(lp6891
V is a reserved word in a  handler
p6892
aVJust rename your variable and it will work:
p6893
as(dp6894
g16
V29407
p6895
stp6896
a((dp6897
g2
(lp6898
VThe Java Language Conversion Assistant has been removed from Visual Studio 2008 and future versions
p6899
aVYou have few options:
p6900
aVInstall VS 2003/2005 and run the assistant
p6901
aVPurchase a commercial solution
p6902
aVDo the conversion by hand
p6903
aVUse ikvmc to compile jar files into managed
p6904
aVNET assemblies (personally I've done this with success)
p6905
as(dp6906
g16
V29407
p6907
stp6908
a((dp6909
g2
(lp6910
VHere's a sample implementation of a custom model binder:
p6911
as(dp6912
g16
V29407
p6913
stp6914
a((dp6915
g2
(lp6916
VJust to add to @adamse answer
p6917
aVIf you want to externalize your  function instead of using an anonymous function you could use the following to pass additional parameters:
p6918
as(dp6919
g16
V29407
p6920
stp6921
a((dp6922
g2
(lp6923
VYou need to set the Maximum property of the progress bar so that it can calculate percentages when you increment the Value:
p6924
as(dp6925
g16
V29407
p6926
stp6927
a((dp6928
g2
(lp6929
VThe first preserves the stack trace while the second resets it
p6930
aVThis means that if you use the second approach the stack trace of the exception will always start from this method and you will lose the original exception trace which could be disastrous for someone reading exception logs as he will never find out the original cause of the exception
p6931
aVThe second approach might be useful when you want to add additional information to the stack trace but it is used like this:
p6932
aVThere's a blog post discussing the differences
p6933
as(dp6934
g16
V29407
p6935
stp6936
a((dp6937
g2
(lp6938
VDataSets are stored in memory so the limit should be somewhere around the amount of memory the OS can address for custom processes
p6939
as(dp6940
g16
V29407
p6941
stp6942
a((dp6943
g2
(lp6944
VThe documentation of WebOperationContext states:
p6945
aVAny public static (Shared in Visual
p6946
aVBasic) members of this type are thread
p6947
aVsafe
p6948
aVAny instance members are not
p6949
aVguaranteed to be thread safe
p6950
aVThis means that invoking Current is thread safe because it is static, but invoking any method on the returned instance will not be guaranteed to be thread safe
p6951
as(dp6952
g16
V29407
p6953
stp6954
a((dp6955
g2
(lp6956
VYou could use the success callback to invoke the functions you want to refire
p6957
as(dp6958
g16
V29407
p6959
stp6960
a((dp6961
g2
(lp6962
VIf you look at the  method with reflector you will see that all filters implementing IAuthorizationFilter are invoked before attributes deriving from ActionFilterAttribute and that's because authorization is made before invoking the action
p6963
as(dp6964
g16
V29407
p6965
stp6966
a((dp6967
g2
(lp6968
VThe issue you describe is already handled by subversion
p6969
aVWhen Clyde tries to commit his changes subversion will detect the conflict and offer him the possibility to merge his changes
p6970
as(dp6971
g16
V29407
p6972
stp6973
a((dp6974
g2
(lp6975
VThe  node is equivalent to:
p6976
aVSo to get the value inside the CData section you could use the following:
p6977
aVYou will not be able to get the CData values separately because they have the same semantics as if it was a single CData section for a XML parser
p6978
as(dp6979
g16
V29407
p6980
stp6981
a((dp6982
g2
(lp6983
VIf your server uses NTLM authentication you may try this:
p6984
as(dp6985
g16
V29407
p6986
stp6987
a((dp6988
g2
(lp6989
VTry putting  instead of
p6990
as(dp6991
g16
V29407
p6992
stp6993
a((dp6994
g2
(lp6995
VAs you are going to write/read to/from the XML document you need to synchronize those two operations if you don't want to run into race conditions
p6996
aVAnd if you care about performance (who doesn't
p6997
aVa ReaderWriterLockSlim might perform better than locking
p6998
as(dp6999
g16
V29407
p7000
stp7001
a((dp7002
g2
(lp7003
VIn
p7004
aVNET delegates are used to store pointers to functions
p7005
aVFor example if you have the following function:
p7006
aVit's address will be defined like so:
p7007
aVand you can invoke it like that:
p7008
as(dp7009
g16
V29407
p7010
stp7011
a((dp7012
g2
(lp7013
VWhy not:
p7014
aVor at least:
p7015
aVYou could use the fixed statement to prevent the GC to move pointers around
p7016
as(dp7017
g16
V29407
p7018
stp7019
a((dp7020
g2
(lp7021
VHere's the answer
p7022
aVThe primary reason Dictionary
p7023
aVthrows is that there is no "error"
p7024
aVvalue that works over any V
p7025
aVHashtable is able to return null
p7026
aVbecause the key is always a reference
p7027
aVtype
p7028
as(dp7029
g16
V29407
p7030
stp7031
a((dp7032
g2
(lp7033
VTry this:
p7034
as(dp7035
g16
V29407
p7036
stp7037
a((dp7038
g2
(lp7039
VYou could use SQL expression in your hibernate queries
p7040
aVAssuming you've mapped a  type you could write the following query:
p7041
as(dp7042
g16
V29407
p7043
stp7044
a((dp7045
g2
(lp7046
VYou need to use reflection to invoke methods
p7047
aVHere's an example invoking the Run method of Windows Script Host:
p7048
as(dp7049
g16
V29407
p7050
stp7051
a((dp7052
g2
(lp7053
VThis error is probably due to the fact that the account your application runs under doesn't have permissions to write to the directory you are trying to store the files
p7054
as(dp7055
g16
V29407
p7056
stp7057
a((dp7058
g2
(lp7059
VIf the click handler is attached to an anchor element then maybe the ajax call doesn't have time to execute before redirecting to a different page
p7060
aVTry adding a  to the click callback:
p7061
as(dp7062
g16
V29407
p7063
stp7064
a((dp7065
g2
(lp7066
VThis is not possible with WebClient
p7067
aVYou will need to use HttpWebRequest and manually format the request according to RFC 1867
p7068
as(dp7069
g16
V29407
p7070
stp7071
a((dp7072
g2
(lp7073
VThere's a wrapper library over FFmpeg for
p7074
aVNET
p7075
as(dp7076
g16
V29407
p7077
stp7078
a((dp7079
g2
(lp7080
VYou need to sign the referenced assemblies with a strong name
p7081
as(dp7082
g16
V29407
p7083
stp7084
a((dp7085
g2
(lp7086
VStep by Step COM Tutorial
p7087
as(dp7088
g16
V29407
p7089
stp7090
a((dp7091
g2
(lp7092
VThe generated IL is different (using Release mode):
p7093
aVAs you can see the compiler replaces all variable usages by the value of the constant which results in a smaller stack
p7094
as(dp7095
g16
V29407
p7096
stp7097
a((dp7098
g2
(lp7099
VYou may try using DataContractSerializer:
p7100
as(dp7101
g16
V29407
p7102
stp7103
a((dp7104
g2
(lp7105
VUse  instead  if you are willing to trade interoperability for performance knowing that you can easily cancel the trade if you are not satisfied with the results (it's a matter of changing config values)
p7106
as(dp7107
g16
V29407
p7108
stp7109
a((dp7110
g2
(lp7111
VYour  statement is wrong as it is unlikely to return  because you are comparing instances of the Image class which you recreate every time
p7112
aVYou could modify it like this:
p7113
as(dp7114
g16
V29407
p7115
stp7116
a((dp7117
g2
(lp7118
s(dp7119
g16
V29407
p7120
stp7121
a((dp7122
g2
(lp7123
VYou could try to eagerly fetch the  property:
p7124
as(dp7125
g16
V29407
p7126
stp7127
a((dp7128
g2
(lp7129
VTry this:
p7130
as(dp7131
g16
V29407
p7132
stp7133
a((dp7134
g2
(lp7135
s(dp7136
g16
V29407
p7137
stp7138
a((dp7139
g2
(lp7140
VSession per Request is probably the most used approach
p7141
as(dp7142
g16
V29407
p7143
stp7144
a((dp7145
g2
(lp7146
s(dp7147
g16
V29407
p7148
stp7149
a((dp7150
g2
(lp7151
VUsing sn
p7152
aVexe utility:
p7153
aVor loading the assembly in Reflector
p7154
as(dp7155
g16
V29407
p7156
stp7157
a((dp7158
g2
(lp7159
VXmlSerializer uses XmlIncludeAttribute instead of  to discover child types that are not included in operation contracts
p7160
aVSo you might try adding them to the base class:
p7161
as(dp7162
g16
V29407
p7163
stp7164
a((dp7165
g2
(lp7166
VDifferent
p7167
aVNET framework versions can be assigned per virtual directory in IIS (provided that these two virtual directories are assigned to different application pools)
p7168
aVSo if you have two virtual directories in your web server say  and  you can assign  to use
p7169
aVNET 1
p7170
aV1 and  to use
p7171
aVNET 3
p7172
aV5 or more precisely ASP
p7173
aVNET 2
p7174
ag2721
aVFor this to work you need to install
p7175
aVNET 3
p7176
aV5 on the server
p7177
as(dp7178
g16
V29407
p7179
stp7180
a((dp7181
g2
(lp7182
VAnd in your controller action:
p7183
as(dp7184
g16
V29407
p7185
stp7186
a((dp7187
g2
(lp7188
VStatic variables are valid for the entire AppDomain
p7189
aVWhen you close your browser you don't close the application as it continues to execute on the web server
p7190
aVOh and forgot to mention: try to avoid using static variables in multi-threaded applications without proper locking mechanisms or you may run into race conditions
p7191
as(dp7192
g16
V29407
p7193
stp7194
a((dp7195
g2
(lp7196
VYou may need to parse strings before performing calculations:
p7197
aVAlso as  is a  you may need to use the text function instead of val (which is used for  elements) to read it's contents
p7198
as(dp7199
g16
V29407
p7200
stp7201
a((dp7202
g2
(lp7203
V will not create a new instance if  is defined as singleton which is the default scope in spring
p7204
aVnet
p7205
as(dp7206
g16
V29407
p7207
stp7208
a((dp7209
g2
(lp7210
VIMHO you should not provide your private key because that's what guarantees that the code is written by yourself
p7211
aVIf you provide your key it's like giving your identity to others and you may be responsible for some  code you never wrote
p7212
as(dp7213
g16
V29407
p7214
stp7215
a((dp7216
g2
(lp7217
VYou don't need to use  function
p7218
aVjQuery already handles encoding:
p7219
aVJust make sure your application is set up for UTF-8 encoding:
p7220
aVAnd HTML pages also:
p7221
as(dp7222
g16
V29407
p7223
stp7224
a((dp7225
g2
(lp7226
VIf it is a web application you can use reset button:
p7227
as(dp7228
g16
V29407
p7229
stp7230
a((dp7231
g2
(lp7232
VIf the aim is to count the number of  for a given  you may try this query:
p7233
as(dp7234
g16
V29407
p7235
stp7236
a((dp7237
g2
(lp7238
VThe first thing would be have a server side script that takes  and  parameters and verifies if they are valid
p7239
aVAdd Check
p7240
aVashx generic handler to your project:
p7241
aVAnd then have your page send an ajax query
p7242
aVDefault
p7243
aVaspx:
p7244
as(dp7245
g16
V29407
p7246
stp7247
a((dp7248
g2
(lp7249
VAs  is a value type, when no element is found in the list it cannot simply return  (as it would do if you had an array of reference types) but it will return  which equals to  in this case
p7250
aVBut anyway what are you trying to achieve
p7251
as(dp7252
g16
V29407
p7253
stp7254
a((dp7255
g2
(lp7256
VIsn't this working for you:
p7257
aVThis will use the current culture, but you could specify one:
p7258
as(dp7259
g16
V29407
p7260
stp7261
a((dp7262
g2
(lp7263
VYou may try with this connection string:
p7264
aVPlease note though that this driver is not supported on x64 systems and it won't work
p7265
as(dp7266
g16
V29407
p7267
stp7268
a((dp7269
g2
(lp7270
VLikeString is a method that is used by the Like operator in VB
p7271
aVThere's no equivalent operator in c# but you could use IsMatch to achieve similar functionality:
p7272
as(dp7273
g16
V29407
p7274
stp7275
a((dp7276
g2
(lp7277
VYou cannot upload files using  as this will serialize only standard inputs but not files
p7278
aVYou may need to use a plugin
p7279
aVBy the way this is pretty obvious
p7280
aVImagine for a moment if this was possible
p7281
aVIf you visit a malicious site it could serialize and steal files from your hard disk without user consent
p7282
as(dp7283
g16
V29407
p7284
stp7285
a((dp7286
g2
(lp7287
VTry this:
p7288
aVand the usage:
p7289
as(dp7290
g16
V29407
p7291
stp7292
a((dp7293
g2
(lp7294
VChange the enctype of the form element to :
p7295
aVAdd a file input to this form:
p7296
aVand read the file in your controller action:
p7297
as(dp7298
g16
V29407
p7299
stp7300
a((dp7301
g2
(lp7302
VWhen you call the  action, along with username and password you could pass it a return url to which it will redirect upon successful login instead of returning a view
p7303
as(dp7304
g16
V29407
p7305
stp7306
a((dp7307
g2
(lp7308
s(dp7309
g16
V29407
p7310
stp7311
a((dp7312
g2
(lp7313
VFor testing purposes you could use WcfSvcHost
p7314
aVexe to host your WCF service
p7315
aVTo invoke a method on it you don't need a client you could use WcfTestClient
p7316
aVexe
p7317
as(dp7318
g16
V29407
p7319
stp7320
a((dp7321
g2
(lp7322
VYou could use PrincipalContext:
p7323
as(dp7324
g16
V29407
p7325
stp7326
a((dp7327
g2
(lp7328
VAs you are using only local variables the method is thread safe
p7329
aVThere are no static variables involved so everything will be on the thread local stack and no race conditions could occur
p7330
as(dp7331
g16
V29407
p7332
stp7333
a((dp7334
g2
(lp7335
VLet me try to recap what I understood from your question: you have a database table  that contains columns  and  that you would like to bind to a  element in a view
p7336
aVIf this is correct you could try doing something like this:
p7337
aVAnd in your strongly typed view:
p7338
aVand finally you could have an action that you post to:
p7339
as(dp7340
g16
V29407
p7341
stp7342
a((dp7343
g2
(lp7344
VYou have an invalid HTTP request
p7345
aVWhat follows the  verb should be the name of the resource your are putting to which in your case is the asp
p7346
aVnet page
p7347
aVSo a valid request should be:
p7348
aVIn this case of course you already know  as you are inside this page
p7349
as(dp7350
g16
V29407
p7351
stp7352
a((dp7353
g2
(lp7354
VIf the assembly you are referencing is strongly signed the CLR will not load it if it has a different version than the one it was compiled against
p7355
aVYou could in this case use the config file to specify the version you would like to use:
p7356
aVOf course this assumes that the new version of the assembly has the same method signatures or you will get a MissingMethodException at runtime
p7357
as(dp7358
g16
V29407
p7359
stp7360
a((dp7361
g2
(lp7362
VDefinitely the third solution
p7363
aVGet the logged in user id from an encrypted cookie (cf
p7364
aVFormsAuthentication) and use it in the SQL query to verify that the item belongs to the user
p7365
as(dp7366
g16
V29407
p7367
stp7368
a((dp7369
g2
(lp7370
VThe fastest you could ever get without parallelizing the enumeration into multiple threads taking accounts of number of processors, etc:
p7371
aVI would recommend you though to always use Linq instead of writing  or  loops because in the future it will become so intelligent that it will actually be capable of distributing the work over processors and take into account hardware specific things (see PLinq) and it will eventually be faster than if you wrote the loops yourself: declarative vs imperative programing
p7372
as(dp7373
g16
V29407
p7374
stp7375
a((dp7376
g2
(lp7377
VThere's nothing special or different for calling a web service over  than over
p7378
aVYou generate a client proxy from the WSDL using either svcutil
p7379
aVexe (or Add Service Reference in VS) or wsdl
p7380
aVexe and invoke the method
p7381
aVThe lower level classes HttpWebRequest and HttpWebResponse will eventually take care of the actual call and certificates but it should be transparent for your code
p7382
aVOf course the server hosting the web service needs to provide a valid certificate
p7383
as(dp7384
g16
V29407
p7385
stp7386
a((dp7387
g2
(lp7388
VComments are not part of the DOM tree, so AFAIK there's no way you could access them
p7389
as(dp7390
g16
V29407
p7391
stp7392
a((dp7393
g2
(lp7394
VYou could try configuring a fixed identity in the Appllication Pool settings that has sufficient permissions to write to the UNC share
p7395
as(dp7396
g16
V29407
p7397
stp7398
a((dp7399
g2
(lp7400
VInstead of serializing the object you may try returning it directly from the method and leave WCF to handle serialization:
p7401
as(dp7402
g16
V29407
p7403
stp7404
a((dp7405
g2
(lp7406
VThis is why Html Helpers exist (to avoid spaghetti code as much as possible):
p7407
aVEvery time you need write an  statement in a view you might ask yourself the question: wouldn't it be better to write a helper method (which as a bonus could be unit tested) instead
p7408
as(dp7409
g16
V29407
p7410
stp7411
a((dp7412
g2
(lp7413
VWhat you get is not an error that will prevent you from running your application
p7414
aVIt is just a warning that Visual Studio emits because it does not know the  node in a config file
p7415
aVYou could use a schema to enable intellisense
p7416
aVDownload the Castle Windsor Schema file and take a look at the readme
p7417
aVtxt inside
p7418
aVIt tells you to put  somewhere on your hard drive and then reference it in the config file:
p7419
as(dp7420
g16
V29407
p7421
stp7422
a((dp7423
g2
(lp7424
VRoutes are usually configured in the Application_Start method in Global
p7425
aVasax
p7426
aVFor your particular case you could add a route before the Default one:
p7427
as(dp7428
g16
V29407
p7429
stp7430
a((dp7431
g2
(lp7432
VMaybe the problem lies somewhere else because the following code worked fine for me using JavaScriptSerializer (it correctly handled the null without throwing any exception):
p7433
as(dp7434
g16
V29407
p7435
stp7436
a((dp7437
g2
(lp7438
VThe  static variable is built from the contents of the  list at some moment in time
p7439
aVIf later you add a new element to the list this will not reflect the lookup
p7440
aVA dictionary would indeed be a better solution for caching if you cannot use the built-in ASP
p7441
aVNET cache
p7442
as(dp7443
g16
V29407
p7444
stp7445
a((dp7446
g2
(lp7447
VBoth approaches are deprecated and not safe
p7448
aVIt would be better if you gave your elements unique identifiers and used  function to find elements in the DOM:
p7449
as(dp7450
g16
V29407
p7451
stp7452
a((dp7453
g2
(lp7454
VYou could use UploadString
p7455
aVYou need to set the  and  headers appropriately:
p7456
as(dp7457
g16
V29407
p7458
stp7459
a((dp7460
g2
(lp7461
s(dp7462
g16
V29407
p7463
stp7464
a((dp7465
g2
(lp7466
V is a global configuration file containing default settings at machine level which could be overridden in  which is specific to a given application
p7467
as(dp7468
g16
V29407
p7469
stp7470
a((dp7471
g2
(lp7472
VYou need to create two different instances of the data source
p7473
aVFor this you may use the ToArray extension method:
p7474
as(dp7475
g16
V29407
p7476
stp7477
a((dp7478
g2
(lp7479
VThis filter is based on the the OnActionExecuted method which is run after the action method is executed in order to JSON or XML serialize the returned model
p7480
aVWhat you have as input to your action method is not important
p7481
aVOnce the action finishes execution the filter will look for the model that you stored in the ViewResult and serialize it according to the Content-Type header that's passed in the request
p7482
as(dp7483
g16
V29407
p7484
stp7485
a((dp7486
g2
(lp7487
VThe only advantage I can see is that not sticking to the conventional  folder might be a good idea if your site gets attacked by hackers
p7488
as(dp7489
g16
V29407
p7490
stp7491
a((dp7492
g2
(lp7493
VYou need to include  in the  section of your html page
p7494
aVSo you could just add a placeholder in your master:
p7495
aVand in your content page:
p7496
as(dp7497
g16
V29407
p7498
stp7499
a((dp7500
g2
(lp7501
VYou could enable compression at IIS level for a specific directory
p7502
aVI believe this will be more efficient than doing it by hand in the generic handler
p7503
aVUPDATE:
p7504
aVYou could use GZipStream to compress the xml directly to thew response stream:
p7505
as(dp7506
g16
V29407
p7507
stp7508
a((dp7509
g2
(lp7510
VYou may implement IExceptionFilter to separate exception handling from the rest of the filter logic
p7511
as(dp7512
g16
V29407
p7513
stp7514
a((dp7515
g2
(lp7516
Vyou may try parsing it:
p7517
as(dp7518
g16
V29407
p7519
stp7520
a((dp7521
g2
(lp7522
VTo enumerate all sites on the local server you may try this:
p7523
as(dp7524
g16
V29407
p7525
stp7526
a((dp7527
g2
(lp7528
s(dp7529
g16
V29407
p7530
stp7531
a((dp7532
g2
(lp7533
s(dp7534
g16
V29407
p7535
stp7536
a((dp7537
g2
(lp7538
VParsing Mjpeg streams manually could be cumbersome and error prone
p7539
aVThat's why there's an excellent library designed to do exactly this
p7540
aVI would recommend you looking at aforge which is capable, among other things, to handle Mjpeg streams
p7541
aVDownload the library, add reference to  into your project and enjoy
p7542
aVHere's a sample that captures a single frame from an Axis camera source:
p7543
as(dp7544
g16
V29407
p7545
stp7546
a((dp7547
g2
(lp7548
VSession is persisted per AppDomain
p7549
aVIn IIS you can have multiple application pools that host different ASP
p7550
aVNET applications in the same site
p7551
aVAn ASP
p7552
aVNET application is hosted in a virtual directory that has an application pool associated to it
p7553
aVIf page A and page B belong to different application pools in IIS you cannot share session between them
p7554
as(dp7555
g16
V29407
p7556
stp7557
a((dp7558
g2
(lp7559
VThere are many tutorials out there that show how to design css forms
p7560
aVIMHO it's more a matter of labels and inputs than divs and spans
p7561
as(dp7562
g16
V29407
p7563
stp7564
a((dp7565
g2
(lp7566
VIf the  you are using is over HTTPS then it is secure
p7567
aVBut to further increase security you might consider sending the  and  with POST instead of concatenating them to the url with a GET request
p7568
as(dp7569
g16
V29407
p7570
stp7571
a((dp7572
g2
(lp7573
s(dp7574
g16
V29407
p7575
stp7576
a((dp7577
g2
(lp7578
VThe way AuthorizeAttribute is designed is that it will first look if the user is authenticated and then look if he is in role
p7579
aVIf any of these conditions aren't satisfied it will simply return return a HttpUnauthorizedResult which in turn will set the response code to 401
p7580
aVTo achieve what you want you will need to implement your own IAuthorizationFiler
p7581
as(dp7582
g16
V29407
p7583
stp7584
a((dp7585
g2
(lp7586
VI believe the compiler cannot infer parameters and you need to specify their type explicitly:
p7587
as(dp7588
g16
V29407
p7589
stp7590
a((dp7591
g2
(lp7592
VI think that using Partial Requests or even SubControllers would be appropriate in this case
p7593
as(dp7594
g16
V29407
p7595
stp7596
a((dp7597
g2
(lp7598
VYou may take a look at AutoMapper which allows you to map different objects
p7599
as(dp7600
g16
V29407
p7601
stp7602
a((dp7603
g2
(lp7604
s(dp7605
g16
V29407
p7606
stp7607
a((dp7608
g2
(lp7609
VThat's because there is no Jet driver for 64-bit systems and I suppose you are trying to run this on a x64 bit OS
p7610
aVYou need to compile your program to target x86
p7611
aVIn the project properties, Build tab, set Platform target to x86
p7612
as(dp7613
g16
V29407
p7614
stp7615
a((dp7616
g2
(lp7617
VYou could write a helper function:
p7618
aVThat you would use like this:
p7619
as(dp7620
g16
V29407
p7621
stp7622
a((dp7623
g2
(lp7624
VThe application freezes because you are performing the file parsing in the main thread
p7625
aVYou could use BackgroundWorker to perform operation on a new thread
p7626
aVHere's some pseudo code that might help you to get started:
p7627
as(dp7628
g16
V29407
p7629
stp7630
a((dp7631
g2
(lp7632
VIf you know the class name why not select the element directly  instead of passing through the parent
p7633
aVOr alternatively give the element you would like to select an unique  and then:
p7634
as(dp7635
g16
V29407
p7636
stp7637
a((dp7638
g2
(lp7639
s(dp7640
g16
V29407
p7641
stp7642
a((dp7643
g2
(lp7644
VYou could use one of the many available javascript minifiers
p7645
aVYUI Compressor
p7646
aVGoogle closure compiler
p7647
aVDean Edwards packer
p7648
aVJSMin
p7649
as(dp7650
g16
V29407
p7651
stp7652
a((dp7653
g2
(lp7654
VThe reference to the DOM element you obtained presumably with  before the UpdatePanel refresh is no longer valid after the refresh because the label is replaced with a new DOM element
p7655
aVSo you need to obtain a new reference to this element and set innerHTML to this new reference
p7656
aVThe events might look like this
p7657
aVUpdatePanel is trigerred which replaces the label inside the DOM
p7658
aVno longer works
p7659
aVYou need to repeat step 1) here
p7660
as(dp7661
g16
V29407
p7662
stp7663
a((dp7664
g2
(lp7665
VIn
p7666
aVNET BeginXXX/EndXXX paradigm relies heavily on threading, while on PHP I am not sure that you could even start a new thread (except maybe the PECL package)
p7667
aVFastCGI is the alternative to multithreading in most interpreted languages
p7668
aVInstead of spawning new threads it uses processes, but as spawning a new process is expensive, it keeps a reusable process pool just as the ThreadPool in
p7669
aVNET
p7670
as(dp7671
g16
V29407
p7672
stp7673
a((dp7674
g2
(lp7675
VYou can check the Request
p7676
aVHttpMethod property
p7677
as(dp7678
g16
V29407
p7679
stp7680
a((dp7681
g2
(lp7682
VIf you don't have experience with ORMs Linq to SQL is slightly easier to learn than NHibernate
p7683
aVIt also has better integration with Visual Studio
p7684
as(dp7685
g16
V29407
p7686
stp7687
a((dp7688
g2
(lp7689
VYou could write a generic handler which will serve the picture:
p7690
aVAnd then call it in an aspx page:
p7691
as(dp7692
g16
V29407
p7693
stp7694
a((dp7695
g2
(lp7696
VYou could use TcpListener class
p7697
aVThere's an example in the documentation
p7698
as(dp7699
g16
V29407
p7700
stp7701
a((dp7702
g2
(lp7703
VA little shorter :-)
p7704
aVAlthough there's a flaw with this previous approach that's worth pointing out
p7705
aVIt will generate an  header as we use StringWriter so it is not exactly equivalent to your code
p7706
aVTo get  header we should use a MemoryStream and an XmlWriter which is an additional line of code:
p7707
as(dp7708
g16
V29407
p7709
stp7710
a((dp7711
g2
(lp7712
VI would store the file at the temp folder and only associate the name of the file with the user session so that later it can be processed:
p7713
aVThere's a flaw with the GetTempFileName that I once fell into because I didn't read the documentation carefully
p7714
aVIt says that the method will start throwing exceptions if you have more than 65535 files in the temp folder
p7715
aVSo remember to always delete the temp file once you've finished processing it
p7716
aVAnother alternative to the temp folder would be to store the file into a database, but I am a little skeptic about storing files inside a relational database
p7717
as(dp7718
g16
V29407
p7719
stp7720
a((dp7721
g2
(lp7722
VTry specifying a valid html:
p7723
as(dp7724
g16
V29407
p7725
stp7726
a((dp7727
g2
(lp7728
VThe function is $
p7729
aVgetJSON and not
p7730
as(dp7731
g16
V29407
p7732
stp7733
a((dp7734
g2
(lp7735
s(dp7736
g16
V29407
p7737
stp7738
a((dp7739
g2
(lp7740
VIf you are working with real numbers it would be better to use  instead of
p7741
aVTo format the number you could use the  function:
p7742
as(dp7743
g16
V29407
p7744
stp7745
a((dp7746
g2
(lp7747
V formats the date using the current culture
p7748
aVYou need to specify the same format:  that's expected by the ParseExact function
p7749
as(dp7750
g16
V29407
p7751
stp7752
a((dp7753
g2
(lp7754
VJust replace  with  or
p7755
aVThe first selector will look for a  inside a DOM element with , while in your case it is the  that has
p7756
aVHope this makes sense
p7757
as(dp7758
g16
V29407
p7759
stp7760
a((dp7761
g2
(lp7762
VSimple answer is no
p7763
aVJavascript runs in a sandbox environment and you cannot save files on user computer
p7764
aVYou could save it to the server though by sending it through an AJAX request
p7765
as(dp7766
g16
V29407
p7767
stp7768
a((dp7769
g2
(lp7770
VTry this:
p7771
aVThe problem with your code is that you first read the action attribute into a variable:
p7772
aVand then you set the  variable to a new string but this won't update the value of the DOM element
p7773
as(dp7774
g16
V29407
p7775
stp7776
a((dp7777
g2
(lp7778
s(dp7779
g16
V29407
p7780
stp7781
a((dp7782
g2
(lp7783
VYou could set the PictureBox
p7784
aVSizeMode property to StretchImage
p7785
as(dp7786
g16
V29407
p7787
stp7788
a((dp7789
g2
(lp7790
VI wouldn't bother using GetData and SetData methods
p7791
aVWhen I need the values I would just pull them from the config file with , or inject them into the service instance constructor by implementing a custom IInstanceProvider
p7792
as(dp7793
g16
V29407
p7794
stp7795
a((dp7796
g2
(lp7797
V control tries to put an  instance into the session
p7798
aVThis works fine with InProc session but will fail with out of process session because this requires the class to be marked with SerializableAttribute
p7799
aVLong story short: you can't use anything else than  with the  component
p7800
as(dp7801
g16
V29407
p7802
stp7803
a((dp7804
g2
(lp7805
VTo send an email in
p7806
aVNET you could use the SmptClient class
p7807
as(dp7808
g16
V29407
p7809
stp7810
a((dp7811
g2
(lp7812
VJust a wild guess: You are trying to bind  to a value type
p7813
aVCheck in your model for , , , ,
p7814
aVdata types that you try to bind to
p7815
as(dp7816
g16
V29407
p7817
stp7818
a((dp7819
g2
(lp7820
VAccording to the documentation it is not thread safe
p7821
aVYou will have RijndaelManagedTransform instances in the  and  variables
p7822
aVTransformFinalBlock is an instance method which according to MSDN is not thread safe:
p7823
aVAny public static (Shared in Visual
p7824
aVBasic) members of this type are thread
p7825
aVsafe
p7826
aVAny instance members are not
p7827
aVguaranteed to be thread safe
p7828
aVIf you want to be guaranteed to have a thread safe code you might need to synchronize the call to TransformFinalBlock method
p7829
as(dp7830
g16
V29407
p7831
stp7832
a((dp7833
g2
(lp7834
VIt is because if you remove the  attribute the designer is no longer capable of finding the partial class defined in your code behind
p7835
aVand  attributes work together
p7836
aVCodeBehind:
p7837
aVSpecifies the name of the compiled file that contains the class associated with the page
p7838
aVThis attribute is not used at run time
p7839
aVThis attribute is included for
p7840
aVcompatibility with previous versions
p7841
aVof ASP
p7842
aVNET, to implement the
p7843
aVcode-behind feature
p7844
aVIn ASP
p7845
aVNET
p7846
aVversion 2
p7847
aV0, you should instead use
p7848
aVthe CodeFile attribute to specify the
p7849
aVname of the source file, along with
p7850
aVthe Inherits attribute to specify the
p7851
aVfully qualified name of the class
p7852
as(dp7853
g16
V29407
p7854
stp7855
a((dp7856
g2
(lp7857
VI don't think this is possible with
p7858
aVYou could define a class  instead:
p7859
as(dp7860
g16
V29407
p7861
stp7862
a((dp7863
g2
(lp7864
VYou could use the reference switch when generating your client proxy:
p7865
aVThis will look for classes in  that are the same in the WSDL and it won't recreate them in the proxy (By same classes I mean same namespace and type name)
p7866
as(dp7867
g16
V29407
p7868
stp7869
a((dp7870
g2
(lp7871
VThis is a feature that has been added in ASP
p7872
aVNET MVC 2
p7873
ag2721
aVIt is called Areas
p7874
as(dp7875
g16
V29407
p7876
stp7877
a((dp7878
g2
(lp7879
VThis is impossible for the following reason
p7880
aVQuote from MSDN:
p7881
aVAn operating-system ThreadId has no
p7882
aVfixed relationship to a managed
p7883
aVthread, because an unmanaged host can
p7884
aVcontrol the relationship between
p7885
aVmanaged and unmanaged threads
p7886
aVSpecifically, a sophisticated host can
p7887
aVuse the CLR Hosting API to schedule
p7888
aVmany managed threads against the same
p7889
aVoperating system thread, or to move a
p7890
aVmanaged thread between different
p7891
aVoperating system threads
p7892
aVSo there's no one-to-one mapping between managed threads and OS threads
p7893
aVSo now the question becomes, how to get a list of all the managed threads currently running in the current process
p7894
aVUnfortunately I don't know the answer
p7895
as(dp7896
g16
V29407
p7897
stp7898
a((dp7899
g2
(lp7900
VActually this applies only to properties
p7901
aVMethods are not persisted, so  and  does not apply
p7902
aVIdeally you should separate data access (the static methods in your case) from the domain object
p7903
aVBut you are correct to point this out, maybe the documentation should have been clearer
p7904
aVIn conclusion your class is perfectly fine but it could be even better if you separated the concerns
p7905
as(dp7906
g16
V29407
p7907
stp7908
a((dp7909
g2
(lp7910
VUnfortunately these types don't have much in common other than they are all value types
p7911
aVBut to avoid a long switch-case you could just define a readonly list with all these types and then just check if the given type is inside the list
p7912
as(dp7913
g16
V29407
p7914
stp7915
a((dp7916
g2
(lp7917
VStrictly speaking they are not equivalent
p7918
aVThe first assigns an  to an anonymous function while the second declares an anonymous function
p7919
aVEvents just like properties have special meaning in the CLR and follow some design guidelines
p7920
as(dp7921
g16
V29407
p7922
stp7923
a((dp7924
g2
(lp7925
VThis is somehow subjective
p7926
aVThere's no such thing as best data access method for ASP
p7927
aVNET MVC
p7928
aVThis will depend on your application requirements and specific needs
p7929
aVThere are many different ORM frameworks you can choose from such as NHibernate, Entity Framework, Linq to SQL,
p7930
aV(If there was a best framework this list wouldn't be so big)
p7931
as(dp7932
g16
V29407
p7933
stp7934
a((dp7935
g2
(lp7936
VFew remarks about your code:
p7937
aVYou don't need the  option as you are performing a POST request
p7938
aVInstead of concatenating the parameters into  let jQuery handle formatting and escaping:
p7939
aVCheck the  header returned by
p7940
aVIf it is not properly set (for example if it is set to ), jQuery might try to parse the returned XML, while in reality you are returning HTML
p7941
as(dp7942
g16
V29407
p7943
stp7944
a((dp7945
g2
(lp7946
VThis is usually done by logging
p7947
aVDo you use any logging framework in your application such as log4net
p7948
aVIf not you could always write to a file by hand:
p7949
as(dp7950
g16
V29407
p7951
stp7952
a((dp7953
g2
(lp7954
VYou may need to set DisplayMember and ValueMember properties:
p7955
aVor DataValueField and DataTextField if it is an ASP
p7956
aVNET application
p7957
as(dp7958
g16
V29407
p7959
stp7960
a((dp7961
g2
(lp7962
VIt seems that you are submitting a different form than the one that contains the Delete button ()
p7963
aVIn this case you could add a hidden field in this form and set it's value to the value of the Delete button just before submitting it:
p7964
aVUPDATE:
p7965
aVInstead of attaching a click handler to the delete button you could do this:
p7966
aVThis will automatically post the value of the Delete button when you submit it
p7967
aVUPDATE2:
p7968
as(dp7969
g16
V29407
p7970
stp7971
a((dp7972
g2
(lp7973
VIMHO the greatest benefit of TFS is that everything is integrated in the IDE: work items, bug tracking, CI, Code analysis,
p7974
as(dp7975
g16
V29407
p7976
stp7977
a((dp7978
g2
(lp7979
VTry this:
p7980
aVUgly but works
p7981
as(dp7982
g16
V29407
p7983
stp7984
a((dp7985
g2
(lp7986
VSHA1 is stronger than MD5 so if you have the choice it would be better to use it
p7987
aVHere's an example:
p7988
as(dp7989
g16
V29407
p7990
stp7991
a((dp7992
g2
(lp7993
VTo get the actual view html use:
p7994
aVThe  function works only with JSON content
p7995
as(dp7996
g16
V29407
p7997
stp7998
a((dp7999
g2
(lp8000
VYou need to specify the format:
p8001
as(dp8002
g16
V29407
p8003
stp8004
a((dp8005
g2
(lp8006
VThis is because of the way  method is implemented:
p8007
aVThe GetItemText method uses  on the object which returns  and so a message is sent with  parameter, which in turn returns an invalid pointer and you enter the second case which throws the exception
p8008
as(dp8009
g16
V29407
p8010
stp8011
a((dp8012
g2
(lp8013
VI know this doesn't answer your question but to encrypt and validate your own cookies you don't need to know the actual values of the DecryptionKey and the ValidationKey
p8014
aVJust use Encrypt and Decrypt methods:
p8015
as(dp8016
g16
V29407
p8017
stp8018
a((dp8019
g2
(lp8020
VI haven't used the  function but I can suggest you this:
p8021
as(dp8022
g16
V29407
p8023
stp8024
a((dp8025
g2
(lp8026
VYes this is related to WCF
p8027
aVWhen your project target is >=
p8028
aVNET 3
p8029
aV0 the  option will be available which will use svcutil
p8030
aVexe to generate client classes, otherwise you will have the  option which uses wsdl
p8031
aVexe
p8032
aVWCF clients use different classes to call a web service and that's why you get different classes generated
p8033
as(dp8034
g16
V29407
p8035
stp8036
a((dp8037
g2
(lp8038
VBecause AddRange function does not return a value
p8039
aVYou might need to perform this in two steps:
p8040
as(dp8041
g16
V29407
p8042
stp8043
a((dp8044
g2
(lp8045
s(dp8046
g16
V29407
p8047
stp8048
a((dp8049
g2
(lp8050
VYou could put it in the App_Data folder
p8051
as(dp8052
g16
V29407
p8053
stp8054
a((dp8055
g2
(lp8056
VIn order to delete a file you must ensure that the account has sufficient permissions
p8057
aVIn general ASP
p8058
aVNET applications run under limited permission account such as
p8059
aVFor example if your application runs under IIS 6 you could go to the Administration Console and set a custom account in the application pool properties:
p8060
aVYou need to ensure that the account is member of the  group
p8061
as(dp8062
g16
V29407
p8063
stp8064
a((dp8065
g2
(lp8066
VYou could try this:
p8067
as(dp8068
g16
V29407
p8069
stp8070
a((dp8071
g2
(lp8072
VHaving this declaration in the header:
p8073
aVYou could use dumpbin
p8074
aVexe to get the exact name of the function:
p8075
aVAnd use this name when declaring the function:
p8076
aVAnother alternative is to use a module definition file:
p8077
aVIn this case you no longer need to use  and your header file might look like this:
p8078
aVAnd finally import them:
p8079
as(dp8080
g16
V29407
p8081
stp8082
a((dp8083
g2
(lp8084
VJust return  from the callback:
p8085
as(dp8086
g16
V29407
p8087
stp8088
a((dp8089
g2
(lp8090
VI would recommend you not to pass a shared object that you use for locking or you could get into some nasty deadlocks
p8091
aVUse a static private member of the class to lock on:
p8092
as(dp8093
g16
V29407
p8094
stp8095
a((dp8096
g2
(lp8097
VThis is because when you convert to string it will contain the UTF-8 BOM which are three bytes in the beginning
p8098
as(dp8099
g16
V29407
p8100
stp8101
a((dp8102
g2
(lp8103
VIf you use the default controller factory a new instance will be constructed for each request and that's the way it should be
p8104
aVControllers shouldn't be shared among different requests
p8105
aVYou could though write a custom factory that manages the lifetime of the controllers
p8106
as(dp8107
g16
V29407
p8108
stp8109
a((dp8110
g2
(lp8111
VThe  folder is, well for views, and javascript should be put elsewhere
p8112
aVThat's why the designers of the MVC framework put a  in this  folder that denies access to any file inside
p8113
aVYou could modify this defaut setting but be warned that this could be a potential security hole
p8114
aVSo open the  file located in the  folder and:
p8115
aVReplace:
p8116
aVwith:
p8117
aVNavigate to
p8118
aVP
p8119
aVS
p8120
aVYou could also remove all the  you put in
p8121
as(dp8122
g16
V29407
p8123
stp8124
a((dp8125
g2
(lp8126
VYou need to consume the output stream when the standard output has been redirected:
p8127
as(dp8128
g16
V29407
p8129
stp8130
a((dp8131
g2
(lp8132
VOne way to do it is to register the
p8133
aVNET assembly as COM object (using ) and then consume it from PHP
p8134
as(dp8135
g16
V29407
p8136
stp8137
a((dp8138
g2
(lp8139
s(dp8140
g16
V29407
p8141
stp8142
a((dp8143
g2
(lp8144
VFor Gmail:
p8145
aVFor Yahoo:
p8146
as(dp8147
g16
V29407
p8148
stp8149
a((dp8150
g2
(lp8151
VTry this:
p8152
as(dp8153
g16
V29407
p8154
stp8155
a((dp8156
g2
(lp8157
VYou could do the following:
p8158
aVWrite a custom http module and in the AuthenticateRequest event check to see if a user is authenticated and get his username
p8159
aVLook up in some common store (probably a database) for a list of users to be signed out
p8160
aVIf the user is in this list sign him out
p8161
aVRemove the user from the list of users to be signed out
p8162
aVAnd as an administrator you could update the list of users to be signed out
p8163
as(dp8164
g16
V29407
p8165
stp8166
a((dp8167
g2
(lp8168
VThere's nothing wrong with both ways of sending the data
p8169
aVWhat is wrong is the way you read the XML on the server side
p8170
aVFor example using the first method and the following listener, I was able to get the entire XML:
p8171
as(dp8172
g16
V29407
p8173
stp8174
a((dp8175
g2
(lp8176
VI would perform operation 1 and 2 in the same thread by removing special characters before writing to the file
p8177
aVOperation 3 cannot be run in parallel with others because while the file is being written you cannot read it and sort
p8178
aVSo basically these operations are sequential and it makes no sense to put them into separate threads
p8179
as(dp8180
g16
V29407
p8181
stp8182
a((dp8183
g2
(lp8184
VYou may take a look at Apache Bench
p8185
aVIt is part of the Apache server software but  is completely standalone and you don't need to install the server
p8186
aVIn the description it says that it is used to test the Apache Hypertext Transfer Protocol (HTTP) server but it works with any HTTP server
p8187
aVI've used it in multiple projects to perform stress testing and I can say that it is a great tool
p8188
aVAs it allows posting data, it could be used to test web services as well
p8189
aVAnother alternative is WCAT from Microsoft
p8190
as(dp8191
g16
V29407
p8192
stp8193
a((dp8194
g2
(lp8195
VYou could use the Team Foundation Server client API
p8196
aVTeamFoundationServer is the base class that should allow you to connect to a server, list and manipulate TFS projects
p8197
as(dp8198
g16
V29407
p8199
stp8200
a((dp8201
g2
(lp8202
VThe only way to do it from your program is to execute the code that writes to the registry under an account that has sufficient permissions
p8203
aVYou may check out this article which gives an example of impersonating a user
p8204
aVThere are some security considerations to take into account with this method so IMHO the best way is to perform this operation during program install
p8205
as(dp8206
g16
V29407
p8207
stp8208
a((dp8209
g2
(lp8210
VSet the Order property
p8211
as(dp8212
g16
V29407
p8213
stp8214
a((dp8215
g2
(lp8216
VTry using Linq to XML:
p8217
aVUPDATE:
p8218
aVAfter downloading the XML file and analyzing the value of the  node it is clear that it is not a valid base64 string:
p8219
aVthrows a  saying that the length is not a valid base 64 string
p8220
aVEvent when I remove the  from the string it doesn't work:
p8221
aValso throws
p8222
as(dp8223
g16
V29407
p8224
stp8225
a((dp8226
g2
(lp8227
VWrite a helper method which can be unit tested and reused:
p8228
aVand call it in your page:
p8229
as(dp8230
g16
V29407
p8231
stp8232
a((dp8233
g2
(lp8234
VDid you use WebServiceHostFactory in your  file:
p8235
as(dp8236
g16
V29407
p8237
stp8238
a((dp8239
g2
(lp8240
VAccording to MSDN:
p8241
aVAfter calling SendAsync, you must wait
p8242
aVfor the e-mail transmission to
p8243
aVcomplete before attempting to send
p8244
aVanother e-mail message using Send or
p8245
aVSendAsync
p8246
aVSo you could reuse the same instance but you must wait for the first mail to be sent
p8247
as(dp8248
g16
V29407
p8249
stp8250
a((dp8251
g2
(lp8252
VThe first thing you need to do is to find a way to verify that your application was called from a trusted site
p8253
aVThis means that the username must be encrypted before sending it
p8254
aVSo both sites could share private key used to encrypt and decrypt sensitive information
p8255
aVSiteA encrypts username using a key and sends it to SiteB (your site)
p8256
aVSiteB decrypts username using same key and retrieves user profile
p8257
as(dp8258
g16
V29407
p8259
stp8260
a((dp8261
g2
(lp8262
VHere's an example
p8263
aVIt creates a PDF file with 4 pages
p8264
aVPage 1,2 and 4 use A4 portrait mode while page 3 uses A4 landscape mode:
p8265
as(dp8266
g16
V29407
p8267
stp8268
a((dp8269
g2
(lp8270
VAn easy solution would be to use handle
p8271
aVexe and read its output
p8272
aVAnother solution is to use P/Invoke with NtQuerySystemInformation function
p8273
aVThis and this forum post on SysInternals has more details as well as this article on CodeProject
p8274
aVDoing it in managed code could be very difficult as you will need to write a driver to read the kernel address space
p8275
aVI would suggest you to expose the needed functionality in a Win32 function that you could call from managed code
p8276
as(dp8277
g16
V29407
p8278
stp8279
a((dp8280
g2
(lp8281
VBoth approaches have pros and cons
p8282
aVReturning JSON or XML from the server and using javascript templating to convert to HTML is more RESTful and has the advantage of separating data and presentation and allowing multiple clients to easily use it
p8283
aVThe cons is that it is more work to do in javascript
p8284
aVOn the other hand if the server returns HTML all you have to do is inject it somewhere into the DOM
p8285
aVUnfortunately in this case markup and data are mixed and it would be more difficult for other clients to extract data without formating (imagine for example a desktop or mobile application that wants to consume services from your site)
p8286
aVIMHO if the only consumer is your site then returning HTML would be the better approach
p8287
as(dp8288
g16
V29407
p8289
stp8290
a((dp8291
g2
(lp8292
VIn your code you are calling the setInterval function 5 times which really is not necessary
p8293
aVAlso as the loop will execute once, the value of  will always be 5 so it won't work as you expect
p8294
aVYou may try this instead:
p8295
as(dp8296
g16
V29407
p8297
stp8298
a((dp8299
g2
(lp8300
VUse Select instead of Cast in order to indicate how to perform the conversion from one type to another:
p8301
aVAlso as  will always contain the same properties as  plus a couple more it would be better to have it inherit from
p8302
as(dp8303
g16
V29407
p8304
stp8305
a((dp8306
g2
(lp8307
VWhen you call  the current thread will block and wait for the event to be signaled
p8308
aVJust like with  the thread will not be released to the thread pool
p8309
aVThe difference is that with  you need to specify a fixed time during which the current thread will be blocked, while  will block until some other thread calls  or a timeout occurs
p8310
as(dp8311
g16
V29407
p8312
stp8313
a((dp8314
g2
(lp8315
VIf you have 100 properties maybe reflection would be most elegant
p8316
aVLINQ's for querying not updating
p8317
as(dp8318
g16
V29407
p8319
stp8320
a((dp8321
g2
(lp8322
VDotNetOpenAuth
p8323
aVYou can also take a look at this blog post from Scott Hanselman
p8324
as(dp8325
g16
V29407
p8326
stp8327
a((dp8328
g2
(lp8329
VThis exception occurs because GetWebResourceUrl function returns an HTTP address but FileStream expects a file path
p8330
aVFrom your code snippet I suppose you are trying to read the XML file that's embedded into the assembly and deserialize it back to an object
p8331
aVHere's how you could achieve this:
p8332
as(dp8333
g16
V29407
p8334
stp8335
a((dp8336
g2
(lp8337
VFrom MSDN:
p8338
aVOperating Systems:  Windows Server 2003; Windows Server 2008; Windows Vista; Windows XP
p8339
aVNET version:
p8340
aVNET Framework SP1
p8341
as(dp8342
g16
V29407
p8343
stp8344
a((dp8345
g2
(lp8346
VThere's one: Online Compiler
p8347
as(dp8348
g16
V29407
p8349
stp8350
a((dp8351
g2
(lp8352
VFor read-only controls they are the same
p8353
aVFor 2 way databinding, using a datasource in which you want to update, insert, etc with declarative databinding, you'll need to use
p8354
aVImagine for example a GridView with a  and
p8355
aVIf you use  or  in the , there will be no difference
p8356
aVIf you use  in the , the value will not be able to be passed to the  method of the  that the grid is bound to
p8357
aVUPDATE: I've come up with this example:
p8358
aVAnd here's the definition of a custom class that serves as object data source:
p8359
as(dp8360
g16
V29407
p8361
stp8362
a((dp8363
g2
(lp8364
VThere's no need to use a  loop:
p8365
aVAnd if using a  loop is a requirement:
p8366
aVAnd finally an example using objects:
p8367
as(dp8368
g16
V29407
p8369
stp8370
a((dp8371
g2
(lp8372
VI think this is not related to Fluent NHibernate
p8373
aVWhen you create your database you indicate the encoding:
p8374
aVAlso verify that you append  to your connection string
p8375
as(dp8376
g16
V29407
p8377
stp8378
a((dp8379
g2
(lp8380
VYou could use an asymmetric encryption algorithm to send the AES key securely and then use this key for symmetric AES encryption/decryption
p8381
aVThe communication could go like this:
p8382
aVA client wants to talk to a server with encrypted messages
p8383
aVThe client generates a pair of public/private keys and sends the public key to the server
p8384
aVThe server uses the public key to encrypt some secret key and sends it back to the client
p8385
aVThe client uses his private key to decrypt the secret (both now know the secret key to encrypt/decrypt their communication)
p8386
aVThe client uses AES with the secret key to encrypt the message he wants to send to the server
p8387
aVThe server uses the secret key to decrypt the message
p8388
as(dp8389
g16
V29407
p8390
stp8391
a((dp8392
g2
(lp8393
VYou have a few options here:
p8394
aVWrite the processing in
p8395
aVNET and measure the performance
p8396
aVIf it is unacceptable try to optimize it
p8397
aVIf it is still too slow you revert to unmanaged code
p8398
aVBut thinking that unmanaged code will be faster and for this reason writing unmanaged code without measuring IMHO is wrong approach
p8399
aVAs you already wrote unmanaged code you can expose it as a dynamic link library by exporting a function that will do the processing:
p8400
aVNext you import the function in managed code:
p8401
aVThis works if the input and output of your processing is not very complex and can be easily marshaled
p8402
aVIt will have very little overhead
p8403
aVCompile the unmanaged code using C++ CLI as managed assembly and reference it directly
p8404
as(dp8405
g16
V29407
p8406
stp8407
a((dp8408
g2
(lp8409
VLet jQuery handle the escaping and encoding of the parameters:
p8410
aVPay attention to the  property
p8411
as(dp8412
g16
V29407
p8413
stp8414
a((dp8415
g2
(lp8416
VThe WaitCallback in this case represents a pointer to a function that will be executed on a thread from the thread pool
p8417
aVIf no thread is available it will wait until one gets freed
p8418
as(dp8419
g16
V29407
p8420
stp8421
a((dp8422
g2
(lp8423
V is the function that will be executed on a thread from the thread pool and is the function your delegate is pointing to
p8424
aVis the function that will be executed once  finishes and in which you have to call the EndXXX method which will give you the result of the  execution
p8425
aVThese two functions are not executed in parallel
p8426
aVHere's line by line:
p8427
aVCreate a delegate pointing to the PrintOut method
p8428
aVDraw a thread from the thread pool (if available) and run the PrintOut method on this thread by passing "Hello" as argument
p8429
aVIn the meantime the main thread sleeps for 1 second
p8430
aVOnce the PrintOut method finishes executing, the Callback method is called
p8431
aVThis is where you handle the result of the asynchronous operation
p8432
aVAs far as the casting is concerned:  is an object, a delegate in
p8433
aVNET is also an object, so no problem casting
p8434
as(dp8435
g16
V29407
p8436
stp8437
a((dp8438
g2
(lp8439
VThis will depend on your application requirements
p8440
aVCan you continue processing if the web service call fails
p8441
aVIf not you probably should log the exception and redirect the user to a 500 page
p8442
aVI would use  method in global
p8443
aVasax to do this
p8444
aVIf you can continue the processing then you should put a try/catch around your web service call and handle the appropriate FaultException
p8445
aVYou should never let customers see the yellow screen in production
p8446
as(dp8447
g16
V29407
p8448
stp8449
a((dp8450
g2
(lp8451
VUnit tests could execute in parallel from different threads and for this reason they should be independent
p8452
aVI suspect that in your case the  object is reused in multiple tests and one another test could messes up with  property
p8453
aVMake sure the session is created inside your test and is destroyed afterwards i
p8454
ag3813
as(dp8455
g16
V29407
p8456
stp8457
a((dp8458
g2
(lp8459
VYou can try with an implementation of  and  I once blogged about
p8460
as(dp8461
g16
V29407
p8462
stp8463
a((dp8464
g2
(lp8465
VIn your code the order of execution is not predictable
p8466
aVThe reason you see sequential calls is because your methods do very little work and by the time you start the next thread the first already finished
p8467
aVBy the way when I ran your code I got this result:
p8468
aVOne can clearly see that the methods execute in parallel
p8469
aVRunning the program multiple times you will get different results
p8470
as(dp8471
g16
V29407
p8472
stp8473
a((dp8474
g2
(lp8475
VYou could try the following:
p8476
aVCreate a new user MVC User Control (Login
p8477
aVascx) in which you setup a login form:
p8478
aVInclude this partial in some view page:
p8479
aVIn your login controller verify username and password and if authentication is successful redirect to returnUrl:
p8480
as(dp8481
g16
V29407
p8482
stp8483
a((dp8484
g2
(lp8485
VType  in the box
p8486
aVA  sign will appear next to the request parameter name
p8487
aVClick on it, then on the  node which indicates the first element in the array and set its values as usual
p8488
as(dp8489
g16
V29407
p8490
stp8491
a((dp8492
g2
(lp8493
VWriting unit tests before even declaring the class you are testing seems a little extreme in a static languages such as C#
p8494
aVSo you start by declaring your domain classes, throw a few interfaces that define operations you will perform on these domain objects and then you add a class that will implement an interface, leaving methods just throw
p8495
aVAt that moment you could write a unit test for this class, as all the types are known
p8496
aVYou run the test which will fail, then you implement the method and run the test again - it will pass
p8497
aVThen you could refactor and optimize your implementation, your unit test should still pass
p8498
aVOnce you have a nice domain model and data access layer you could move to the web project where you create controllers, using the interfaces you previously defined (by making a constructor that takes this interface)
p8499
aVYou write a unit test for this controller by replacing the interface with a mock object, so that you can test the controller actions in isolation from your data access code
p8500
aVAnd most importantly: don't be afraid to add classes and interfaces
p8501
aVI've seen people write huge methods that perform multiple things at the same time and which are difficult to test
p8502
aVTry isolating different tasks into methods that you could easily write specifications for: what output you expect for the different possible inputs
p8503
as(dp8504
g16
V29407
p8505
stp8506
a((dp8507
g2
(lp8508
VTake a look at this post
p8509
aVQuote:
p8510
aVIt is a known bug that Visual Studio
p8511
aVdoes not sort projects alphabetically
p8512
aVwhen the projects are located inside
p8513
aVSolution Folders
p8514
aVSince I am working
p8515
aVon pretty large solutions (more than
p8516
aV20 projects for 1 solution), and I
p8517
aVlike to order the projects via
p8518
aVSolution Folders, this is a very
p8519
aVirritating bug
p8520
aVHowever, I accidently found the
p8521
aVsolution to this problem
p8522
aVFollow the
p8523
aVsteps below to sort your projects
p8524
aValphabetically inside Solution
p8525
aVFolders
p8526
aVRight-click on a project and select
p8527
aVrename (or simple select a project,
p8528
aVwait 1 second, and click it again or
p8529
aVpress F2)
p8530
aVDon\u2019t change the name,
p8531
aVsimply select another project
p8532
as(dp8533
g16
V29407
p8534
stp8535
a((dp8536
g2
(lp8537
Vshould be equivalent of:
p8538
as(dp8539
g16
V29407
p8540
stp8541
a((dp8542
g2
(lp8543
V simply puts  in the form  parameter
p8544
aVWhen you use  routing will be used to calculate the url
p8545
as(dp8546
g16
V29407
p8547
stp8548
a((dp8549
g2
(lp8550
s(dp8551
g16
V29407
p8552
stp8553
a((dp8554
g2
(lp8555
VUse  instead of :
p8556
aVAnd in the Index view:
p8557
as(dp8558
g16
V29407
p8559
stp8560
a((dp8561
g2
(lp8562
VIf the third party assembly doesn't provide you a callback or some way to determine that a process is spawned with a given PID so that you can keep track of them, there's no way to find out that a process has been spawned from a given thread in your application
p8563
aVThe closest you might get is the command line used to run the process
p8564
as(dp8565
g16
V29407
p8566
stp8567
a((dp8568
g2
(lp8569
VI will suggest you a rewrite of the test using AAA syntax and using an interface () instead of concrete type ():
p8570
as(dp8571
g16
V29407
p8572
stp8573
a((dp8574
g2
(lp8575
VThe code looks fine other than some small things like  instead of  and the  tag that is outside of the  but these should not cause the behavior you are describing
p8576
aVIt could be related to the  header the web server is sending and a possible presence of a  header when it serves the request
p8577
aVWhat happens if you replace your markup with a simple HTML page:
p8578
as(dp8579
g16
V29407
p8580
stp8581
a((dp8582
g2
(lp8583
VYou could activate extensive logging information by adding the following to your web
p8584
aVconfig:
p8585
aVThen you could use SvcTraceViewer
p8586
aVexe to view the log file
p8587
as(dp8588
g16
V29407
p8589
stp8590
a((dp8591
g2
(lp8592
VTry this:
p8593
aVEvent object
p8594
as(dp8595
g16
V29407
p8596
stp8597
a((dp8598
g2
(lp8599
s(dp8600
g16
V29407
p8601
stp8602
a((dp8603
g2
(lp8604
VYou could use the RegisterWaitForSingleObject method
p8605
aVHere's an example:
p8606
as(dp8607
g16
V29407
p8608
stp8609
a((dp8610
g2
(lp8611
VYou could exclude  property from serialization and add a readonly :
p8612
as(dp8613
g16
V29407
p8614
stp8615
a((dp8616
g2
(lp8617
VWhen you do  you actually don't create a new connection every time
p8618
aVAs database connections are expensive to create ADO
p8619
aVNET keeps a connection pool and draws connections from there
p8620
aVYou could also remove the call to the  method
p8621
aVHere's a snippet you can safely use in each request:
p8622
as(dp8623
g16
V29407
p8624
stp8625
a((dp8626
g2
(lp8627
VYou could use the serialize method:
p8628
as(dp8629
g16
V29407
p8630
stp8631
a((dp8632
g2
(lp8633
VThere's an undocumented API which allows you to enumerate assemblies from the GAC
p8634
as(dp8635
g16
V29407
p8636
stp8637
a((dp8638
g2
(lp8639
VNo, WPF is not implemented on Mono
p8640
as(dp8641
g16
V29407
p8642
stp8643
a((dp8644
g2
(lp8645
VInclude the user control file in your ASPX page but set it to invisible:
p8646
aVThen put a link on your page and when this link is clicked set the visibility of the control to true in the click handler:
p8647
aVAnd here's the whole example:
p8648
aVUPDATE:
p8649
aVAs requested here's the same example using javascript:
p8650
as(dp8651
g16
V29407
p8652
stp8653
a((dp8654
g2
(lp8655
VThe only way is to bypass strong name verification for a given assembly or globally but be warned that this could pose a HUGE security problem
p8656
as(dp8657
g16
V29407
p8658
stp8659
a((dp8660
g2
(lp8661
VTry with slashes instead of backslashes:
p8662
as(dp8663
g16
V29407
p8664
stp8665
a((dp8666
g2
(lp8667
V where  is the controller instance
p8668
as(dp8669
g16
V29407
p8670
stp8671
a((dp8672
g2
(lp8673
s(dp8674
g16
V29407
p8675
stp8676
a((dp8677
g2
(lp8678
VEvery time you create an ajax request you could use a variable to store it:
p8679
aVThen you can abort the request:
p8680
aVYou could use an array keeping track of all pending ajax requests and abort them if necessary
p8681
as(dp8682
g16
V29407
p8683
stp8684
a((dp8685
g2
(lp8686
VDelphi 2009 Character types are Char, AnsiChar and WideChar, where Char defaults to WideChar
p8687
aVIn previous versions of Delphi, a Char would be equivalent to an AnsiChar
p8688
aVThe P is to indicate a pointer to the given type
p8689
as(dp8690
g16
V29407
p8691
stp8692
a((dp8693
g2
(lp8694
VWhere do you expect the view to load
p8695
aVWhen you do
p8696
aVthis will simply post to the controller action and do nothing with the results (You can confirm that an AJAX call is performed using FireBug)
p8697
aVIf you want to do something with the result returned by the controller action you could try this:
p8698
aVAlso if you intend to inject the resulting HTML somewhere into the DOM your controller action needs to return a partial view instead of a full view:
p8699
as(dp8700
g16
V29407
p8701
stp8702
a((dp8703
g2
(lp8704
s(dp8705
g16
V29407
p8706
stp8707
a((dp8708
g2
(lp8709
VIMHO it would be better to isolate the web service into a separate virtual directory and application pool
p8710
aVIn this case the client application and the web service don't share the same AppDomain and if one fails the other will continue serving requests
p8711
as(dp8712
g16
V29407
p8713
stp8714
a((dp8715
g2
(lp8716
VYou could use show(speed, callback) function:
p8717
as(dp8718
g16
V29407
p8719
stp8720
a((dp8721
g2
(lp8722
VYou could always put this code into a method, create a delegate to this method and invoke it asynchronously:
p8723
aVAnd the invoke code:
p8724
as(dp8725
g16
V29407
p8726
stp8727
a((dp8728
g2
(lp8729
VI would write a generic handler which will fetch the PDF from the database from a given id:
p8730
aVAnd in the aspx page just put anchors that reference this handler:
p8731
as(dp8732
g16
V29407
p8733
stp8734
a((dp8735
g2
(lp8736
VYou could use the IndexOf method:
p8737
as(dp8738
g16
V29407
p8739
stp8740
a((dp8741
g2
(lp8742
VYou can use XML comments in your code
p8743
aVDecorate your custom method with comments:
p8744
aVEnable XML comments when compiling the assembly
p8745
aVAdd the MyAssembly
p8746
aVXML to the references and your custom method description will be shown
p8747
as(dp8748
g16
V29407
p8749
stp8750
a((dp8751
g2
(lp8752
VTry recompiling the solution
p8753
aVSometimes when you add references to the folder that haven't been there before Visual Studio still shows the yellow exclamation marks
p8754
as(dp8755
g16
V29407
p8756
stp8757
a((dp8758
g2
(lp8759
VAttributes in
p8760
aVNET are used to decorate a class or method, but you need to write code to request this information
p8761
aVFor example to verify that a class is decorated with your custom attribute you could use something like this:
p8762
aVThen you can read the metadata associated with this attribute
p8763
as(dp8764
g16
V29407
p8765
stp8766
a((dp8767
g2
(lp8768
VYou may take a look at this page
p8769
aVIMHO this task will involve some heavy interop calls
p8770
as(dp8771
g16
V29407
p8772
stp8773
a((dp8774
g2
(lp8775
VYou could use the Indent property:
p8776
as(dp8777
g16
V29407
p8778
stp8779
a((dp8780
g2
(lp8781
VYou could use regular expression even though it is not a perfect solution:
p8782
as(dp8783
g16
V29407
p8784
stp8785
a((dp8786
g2
(lp8787
VIf an error occurs and the status code is different than 403 or 404 it will redirect to
p8788
aVAlso you have an error in your declaration
p8789
aVThe  attribute should be  instead of :
p8790
as(dp8791
g16
V29407
p8792
stp8793
a((dp8794
g2
(lp8795
VEven tough it might seem weird in C# to create non-zero index based arrays it is actually possible:
p8796
aVIn your case I think you should be able to cast to an array and enumerate:
p8797
aVAnd there's an interesting article explaining the saga around this types of arrays in the CLR
p8798
as(dp8799
g16
V29407
p8800
stp8801
a((dp8802
g2
(lp8803
VYou could use the HttpContext:
p8804
aVAnd you can read it in the action:
p8805
as(dp8806
g16
V29407
p8807
stp8808
a((dp8809
g2
(lp8810
VYou could make all the ,  and  classes implement a common interface and then return a list of searchable items
p8811
aVIn the view you could iterate over the items and format them in an appropriate partial
p8812
as(dp8813
g16
V29407
p8814
stp8815
a((dp8816
g2
(lp8817
VHave you included  in the  section of your page after the inclusion of the  library itself:
p8818
as(dp8819
g16
V29407
p8820
stp8821
a((dp8822
g2
(lp8823
VYou may take a look at the ajaxmanager plugin
p8824
as(dp8825
g16
V29407
p8826
stp8827
a((dp8828
g2
(lp8829
VBefore
p8830
aVNET 3
p8831
aV5 SP1 if you didn't mark your property with a DataMember attribute it was not exposed in the WSDL and not serialized
p8832
aVStarting from
p8833
aVNET 3
p8834
aV5 SP1 the DataContractSerializer will automatically include all public properties, so you no longer need to decorate them with this attribute
p8835
as(dp8836
g16
V29407
p8837
stp8838
a((dp8839
g2
(lp8840
VI think it is some bad interpretation from Reflector
p8841
aVActually if you write your code like this:
p8842
aVand compile it in Release mode you will see this in Reflector:
p8843
aVRemember that the C# compiler is not producing C# code but IL so what you see in Reflector is not always the reality
p8844
aVSo to clearly understand what is going on under the hood you may look at the real code produced by the compiler:
p8845
aVIt is clear that a local variable is used
p8846
as(dp8847
g16
V29407
p8848
stp8849
a((dp8850
g2
(lp8851
VYou could use Array
p8852
aVSort:
p8853
aVAs far as complexity is concerned:
p8854
aVOn average, this method is an O(n log
p8855
aVn) operation, where n is the Length of
p8856
aVarray; in the worst case it is an O(n
p8857
aV^ 2) operation
p8858
as(dp8859
g16
V29407
p8860
stp8861
a((dp8862
g2
(lp8863
s(dp8864
g16
V29407
p8865
stp8866
a((dp8867
g2
(lp8868
VIParameterInspector can prevent operation from executing by throwing an exception
p8869
aVHere's an example
p8870
aVDefine a custom fault contract:
p8871
aVThen the inspector:
p8872
aVAnd finally decorate your operation with appropriate attributes:
p8873
aVWhen invoking the service, the client could check for FaultException:
p8874
as(dp8875
g16
V29407
p8876
stp8877
a((dp8878
g2
(lp8879
VThis is because url is used to track session id instead of cookies
p8880
aVThis setting is normally configured in web
p8881
aVconfig by the sessionState element
p8882
aVIf you use  it will use urls
p8883
aVSet it to  and cookies will be used
p8884
as(dp8885
g16
V29407
p8886
stp8887
a((dp8888
g2
(lp8889
VIf your web service is written in WCF there are lots of security scenarios already built-in and which can be manipulated as easy as  settings
p8890
as(dp8891
g16
V29407
p8892
stp8893
a((dp8894
g2
(lp8895
VYou could set custom headers when performing an ajax request by using the beforeSend callback:
p8896
as(dp8897
g16
V29407
p8898
stp8899
a((dp8900
g2
(lp8901
VYou could obfuscate the code of your assembly which will render the task of using it more difficult but there's not much you can do to 100% prevent a user from picking the assembly and using
p8902
aVWhat you could do is NOT to deploy the assembly on the user computer but provide the functionality through a web service
p8903
as(dp8904
g16
V29407
p8905
stp8906
a((dp8907
g2
(lp8908
VThis should work:
p8909
as(dp8910
g16
V29407
p8911
stp8912
a((dp8913
g2
(lp8914
VYou could use class fields:
p8915
as(dp8916
g16
V29407
p8917
stp8918
a((dp8919
g2
(lp8920
V is just a delegate type that could point to a given method
p8921
aVIf you want to call a method whose name is known only at runtime, stored in a string variable, you need have to use reflection:
p8922
aVAs suggested by @Andrew you could use Delegate
p8923
aVCreateDelegate to create a delegate type from a MethodInfo:
p8924
as(dp8925
g16
V29407
p8926
stp8927
a((dp8928
g2
(lp8929
V returns  which is exactly the same as , so it makes no difference, both point to the same object in memory
p8930
aVAs a side note, I would recommend you not to use either of these in a View Page, let the controller pass the needed data to the view in which case you have a third choise which is the Controller
p8931
aVUser property
p8932
as(dp8933
g16
V29407
p8934
stp8935
a((dp8936
g2
(lp8937
VWhen caret (^) appears after a pointer variable it dereferences the pointer, that is, it returns the value stored at the memory address held by the pointer
p8938
aVSo in your case I suppose that  is a pointer to a record that has  property and  is a pointer to a record that has  property
p8939
aVThese properties are also pointers to the same structure, because  and  are then assigned to them
p8940
aVI suppose that this structure represents a binary tree data type with left and right nodes
p8941
as(dp8942
g16
V29407
p8943
stp8944
a((dp8945
g2
(lp8946
VWhile your example is correct there is no benefit from using a different thread because you call  on the main thread which will block until the operation completes and it cannot do other work
p8947
aVIt would have been equivalent if you called  on the delegate or directly the  method itself
p8948
aVUsually  is called in the callback provided by the  method:
p8949
aVAs far as the memory leak is concerned you may take a look at this thread
p8950
ag8119
aVS: Instance members of the List class are not thread safe so you should be careful when you access them from multiple threads
p8951
as(dp8952
g16
V29407
p8953
stp8954
a((dp8955
g2
(lp8956
VYou could handle the end_request event:
p8957
as(dp8958
g16
V29407
p8959
stp8960
a((dp8961
g2
(lp8962
VIf  and  are part of two different ASP
p8963
aVNET applications (hosted on different application pools in IIS), it won't be possible to share session between them
p8964
aVA possible workaround would be to pass values as url parameters
p8965
aVUPDATE:
p8966
aVYou cannot use server side expressions in external javascript files
p8967
aVYou could declare a global variable in your aspx page that will hold the value which will be used in your javascript file:
p8968
aVIn the aspx page:
p8969
aVand then you could use  variable in the  function inside your javascript file
p8970
as(dp8971
g16
V29407
p8972
stp8973
a((dp8974
g2
(lp8975
VWaitForExit
p8976
as(dp8977
g16
V29407
p8978
stp8979
a((dp8980
g2
(lp8981
VThere's an SmtpClient constructor that takes a host name and port
p8982
aVYou could have a list of servers, try send the mail and if the server is unavailable it will throw an exception which you catch and retry with other server from the list
p8983
as(dp8984
g16
V29407
p8985
stp8986
a((dp8987
g2
(lp8988
VYou could use Restrictions
p8989
aVin method
p8990
as(dp8991
g16
V29407
p8992
stp8993
a((dp8994
g2
(lp8995
VYou could use Array
p8996
aVIndexOf method:
p8997
as(dp8998
g16
V29407
p8999
stp9000
a((dp9001
g2
(lp9002
VAs the three methods have different number of arguments and types in order to call them you will need to know in which case you are, so the  are inevitable
p9003
aVIMHO there will be no benefit to hold an array of delegates
p9004
as(dp9005
g16
V29407
p9006
stp9007
a((dp9008
g2
(lp9009
VYou could also do this programatically:
p9010
as(dp9011
g16
V29407
p9012
stp9013
a((dp9014
g2
(lp9015
VWhy not using NLB directly
p9016
aVI think that a cluster will do a better job distributing requests than a proxy WCF service
p9017
as(dp9018
g16
V29407
p9019
stp9020
a((dp9021
g2
(lp9022
VTry this:
p9023
as(dp9024
g16
V29407
p9025
stp9026
a((dp9027
g2
(lp9028
s(dp9029
g16
V29407
p9030
stp9031
a((dp9032
g2
(lp9033
s(dp9034
g16
V29407
p9035
stp9036
a((dp9037
g2
(lp9038
VYou may take a look at this article which explains how to do cross browser font embedding
p9039
as(dp9040
g16
V29407
p9041
stp9042
a((dp9043
g2
(lp9044
VTry without helpers:
p9045
aVHtml Helpers get their values from :
p9046
aVparameter passed to HTML helper method
p9047
aVThey also generate a hidden input field in addition to the checkbox
p9048
aVSo depending on the context sometimes you may end up with markup like this:
p9049
aVand when you post the form the data binder will be unable to convert the value to a boolean type
p9050
as(dp9051
g16
V29407
p9052
stp9053
a((dp9054
g2
(lp9055
s(dp9056
g16
V29407
p9057
stp9058
a((dp9059
g2
(lp9060
VThis might work better:
p9061
as(dp9062
g16
V29407
p9063
stp9064
a((dp9065
g2
(lp9066
VHere's a parameter inspector I once wrote to measure performance of my WCF service methods
p9067
aVNotice that a Stopwatch is started and returned in the  method which allows you to retrieve it in the  method as the  parameter:
p9068
aVThe difference here is that using a parameter inspector will not take into account the time taken to serialize input/output parameters
p9069
aVIt will only account for the operation time
p9070
aVIf you want to include serialization time you might use IDispatchMessageInspector
p9071
aVThe BeforeSendReply method also has a  that works the same
p9072
aVUPDATE:
p9073
aVYou could configure the parameter inspector in web
p9074
aVconfig by writing a behavior extension:
p9075
aVAnd in your configuration file you register the extension:
p9076
as(dp9077
g16
V29407
p9078
stp9079
a((dp9080
g2
(lp9081
VThe first error is because  is a property of the  class while in your generic version the type of the T parameter is not known
p9082
aVIt could be any type
p9083
aVThe second error is because you return just the query object but not the actual result
p9084
aVYou might need to call  before returning
p9085
aVWith little modifications you could come up with this:
p9086
aVWhich you could use like this:
p9087
as(dp9088
g16
V29407
p9089
stp9090
a((dp9091
g2
(lp9092
VA Stream is just a pointer to data, so you cannot store the stream into SQL Server, you can store the data that this stream points to
p9093
aVAs you mention the  namespace I suppose you mean either DeflateStream or GZipStream which both contain binary data
p9094
aVThe appropriate type to store binary data in SQL is
p9095
as(dp9096
g16
V29407
p9097
stp9098
a((dp9099
g2
(lp9100
VIt will depend on where you want to include this information
p9101
aVFor example you could write an http handler that will display the render time after the  tag:
p9102
aVIf you want to display render time somewhere in the middle of the html page then this render time will not account for the total page render time
p9103
as(dp9104
g16
V29407
p9105
stp9106
a((dp9107
g2
(lp9108
VIn the context of a  handler  corresponds to the DOM element which was clicked
p9109
aVYou can use it to extract the :
p9110
as(dp9111
g16
V29407
p9112
stp9113
a((dp9114
g2
(lp9115
s(dp9116
g16
V29407
p9117
stp9118
a((dp9119
g2
(lp9120
VThe key is C++/CLI
p9121
aVIt allows you to compile C++ code into a managed
p9122
aVNET assembly
p9123
as(dp9124
g16
V29407
p9125
stp9126
a((dp9127
g2
(lp9128
VOr using reflection:
p9129
as(dp9130
g16
V29407
p9131
stp9132
a((dp9133
g2
(lp9134
VHere's a sample:
p9135
as(dp9136
g16
V29407
p9137
stp9138
a((dp9139
g2
(lp9140
VWhy not measure it:
p9141
aVOn my computer when compiled in Release mode this program prints:
p9142
aVUPDATE:
p9143
aVAs suggested by @Stefan here are the results of sorting a big list fewer times:
p9144
aVPrints:
p9145
aVIn this scenario it looks like OrderBy performs better
p9146
aVUPDATE2:
p9147
aVAnd using random names:
p9148
aVWhere:
p9149
aVYields:
p9150
aVStill OrderBy is faster
p9151
as(dp9152
g16
V29407
p9153
stp9154
a((dp9155
g2
(lp9156
s(dp9157
g16
V29407
p9158
stp9159
a((dp9160
g2
(lp9161
VI guess the answer is no, because how the serializer is supposed to know the value you assign in the constructor
p9162
aVIt could be assigned using reflection or read from a database
p9163
aVIf by default value you mean , then it is a different story
p9164
as(dp9165
g16
V29407
p9166
stp9167
a((dp9168
g2
(lp9169
VNo, it is not automatically updated
p9170
aVTo force a refresh you could use the RefreshSection method:
p9171
as(dp9172
g16
V29407
p9173
stp9174
a((dp9175
g2
(lp9176
s(dp9177
g16
V29407
p9178
stp9179
a((dp9180
g2
(lp9181
VValues you find in the  property are fetched either from the URL or the POST body, so if they are not present when you perform the AJAX call, even if they were present when the original page was requested, they will no longer be available
p9182
aVThe only property that is available across different requests is the  and  (which uses the session to persist values between two requests)
p9183
as(dp9184
g16
V29407
p9185
stp9186
a((dp9187
g2
(lp9188
VADOX COM component is only available for x86 systems
p9189
aVThis means that it cannot be used on code that is generated for the x64 platform
p9190
aVA possible solution is to explicitly set the target processor in the Visual Studio project to x86
p9191
as(dp9192
g16
V29407
p9193
stp9194
a((dp9195
g2
(lp9196
VA couple of points:
p9197
aVEncode every user input
p9198
aVUse anti forgery tokens
p9199
aVUse POST verbs for every request that modifies state
p9200
as(dp9201
g16
V29407
p9202
stp9203
a((dp9204
g2
(lp9205
VYou may take a look at the BackgroundWorker class
p9206
as(dp9207
g16
V29407
p9208
stp9209
a((dp9210
g2
(lp9211
VRNGCryptoServiceProvider to generate a random salt, then SHA512 the password with the salt, and finally store both the password hash and the corresponding salt if you want to later verify that some text equals the stored password
p9212
as(dp9213
g16
V29407
p9214
stp9215
a((dp9216
g2
(lp9217
VGenerate the two proxies at the same time:
p9218
aVIf the type is really the same (name and namespace) in both services it will generate only a single proxy class for the client
p9219
aVYet another possibility is to generate the proxy class for the first service:
p9220
aVcompile the generated  file into an assembly for example  and use the /reference option when importing the second service:
p9221
aVThis will look for same types in the WSDL and the supplied assembly
p9222
as(dp9223
g16
V29407
p9224
stp9225
a((dp9226
g2
(lp9227
VThere's a list of syntax highlight plugins in javascript that you could use
p9228
as(dp9229
g16
V29407
p9230
stp9231
a((dp9232
g2
(lp9233
VNo,
p9234
aVNET 3
p9235
aV5 uses the same CLR version as
p9236
aVNET 2
p9237
aV0, so absolutely no cause for concern
p9238
as(dp9239
g16
V29407
p9240
stp9241
a((dp9242
g2
(lp9243
VYou are correct to say that web services are a layer on top of the server pages
p9244
aVOne of the common types of web services are SOAP web services that wrap requests and response into XML to achieve interoperability between different platforms/frameworks
p9245
as(dp9246
g16
V29407
p9247
stp9248
a((dp9249
g2
(lp9250
s(dp9251
g16
V29407
p9252
stp9253
a((dp9254
g2
(lp9255
VYou cannot  to an application that is hosted to a different virtual directory in IIS than the one that's performing the request
p9256
as(dp9257
g16
V29407
p9258
stp9259
a((dp9260
g2
(lp9261
VA cookie is not tied to a page
p9262
aVIt is stored on the client computer/browser and sent along each request to the server
p9263
aVSo if you set it to null on one page it will be deleted and no longer sent
p9264
as(dp9265
g16
V29407
p9266
stp9267
a((dp9268
g2
(lp9269
VYes there is jquery
p9270
aVform plugin
p9271
aVAll you need is to put this in the DOM ready callback:
p9272
as(dp9273
g16
V29407
p9274
stp9275
a((dp9276
g2
(lp9277
VNo, you should use POST with SSL
p9278
aVIf you use GET, the password will be sent in clear in the URL and potentially logged on all intermediate internet routers, proxies,
p9279
as(dp9280
g16
V29407
p9281
stp9282
a((dp9283
g2
(lp9284
VUnlike javascript, C# is a static language and if both classes don't implement a common interface or base class you could use reflection to achieve the same goal
p9285
as(dp9286
g16
V29407
p9287
stp9288
a((dp9289
g2
(lp9290
VTry this:
p9291
as(dp9292
g16
V29407
p9293
stp9294
a((dp9295
g2
(lp9296
VI suppose the assembly is strongly signed, so you get the exception
p9297
aVYou could use binding redirect in your app
p9298
aVconfig file:
p9299
as(dp9300
g16
V29407
p9301
stp9302
a((dp9303
g2
(lp9304
VInstead of creating the  in the popup window, you could create it in the parent window
p9305
aVThis way once the user clicks the  button, you could safely close the popup without interupting the printing process
p9306
aVBut instead of going through all the pain of creating new popups windows which might be blocked by some browsers, I would simply create some placeholder in the main page so that the user could choose printing options and then print the document
p9307
as(dp9308
g16
V29407
p9309
stp9310
a((dp9311
g2
(lp9312
VYou could use the ForEach method:
p9313
aVAs pointed out in the comments this works only for
p9314
aVIf your datasource is an  you could write an extension method:
p9315
as(dp9316
g16
V29407
p9317
stp9318
a((dp9319
g2
(lp9320
VThere's a nice tutorial covering the basics of forms authentication in ASP
p9321
aVNET
p9322
as(dp9323
g16
V29407
p9324
stp9325
a((dp9326
g2
(lp9327
s(dp9328
g16
V29407
p9329
stp9330
a((dp9331
g2
(lp9332
ViTextSharp is a
p9333
aVNET library that among other features allows you to fill pdf forms
p9334
as(dp9335
g16
V29407
p9336
stp9337
a((dp9338
g2
(lp9339
VTake a look at this post
p9340
aVYou could try something like this:
p9341
as(dp9342
g16
V29407
p9343
stp9344
a((dp9345
g2
(lp9346
VYou could pass only simple types such as strings and integers to a javascript function
p9347
aVIf you want to pass complex objects you will need to JSON encode them
p9348
aVIn your case you didn't mention the
p9349
aVNET type of your dictionary key, but if it is string you need to put it between quotes and don't forget to HTML encode it:
p9350
as(dp9351
g16
V29407
p9352
stp9353
a((dp9354
g2
(lp9355
VYou could set the timeout for the session and authentication cookies:
p9356
aVand the session:
p9357
as(dp9358
g16
V29407
p9359
stp9360
a((dp9361
g2
(lp9362
VWeb deployment projects use the
p9363
aVQuote from the documentation:
p9364
aVThese files are compiled into
p9365
aVassemblies and placed in the Bin
p9366
aVdirectory
p9367
aVNo App_GlobalResources
p9368
aVsubdirectory is created under the main
p9369
aVoutput directory
p9370
aVIf the configuration
p9371
aVfile specifies appliesTo="All",
p9372
aVresx
p9373
aVand
p9374
aVresources files are copied to the
p9375
aVoutput directories
p9376
aVThey are not
p9377
aVcopied if they are referenced by a
p9378
aVBuildProvider
p9379
aVAll resources are compiled into assemblies and put into the  folder
p9380
aVThat's the way web deployment projects is designed
p9381
as(dp9382
g16
V29407
p9383
stp9384
a((dp9385
g2
(lp9386
VYou need to use a XmlNamespaceManager:
p9387
as(dp9388
g16
V29407
p9389
stp9390
a((dp9391
g2
(lp9392
V is fired after the DOM is loaded
p9393
aVYou may try this:
p9394
as(dp9395
g16
V29407
p9396
stp9397
a((dp9398
g2
(lp9399
VNo
p9400
aVNET framework version was shipped with the original version of Windows XP
p9401
aVThis may have changed with different service packs
p9402
aVStarting with Windows Server 2003,
p9403
aVNET Framework 1
p9404
aV1 was preinstalled
p9405
as(dp9406
g16
V29407
p9407
stp9408
a((dp9409
g2
(lp9410
VProbably this is an ASP
p9411
aVNET MVC V1 project, so you might need to install this as well
p9412
as(dp9413
g16
V29407
p9414
stp9415
a((dp9416
g2
(lp9417
VIf you want to swap images on each page reload, then you probably need to do this using server side script instead of javascript
p9418
aVAnother option is to apply a random css when the DOM is ready:
p9419
as(dp9420
g16
V29407
p9421
stp9422
a((dp9423
g2
(lp9424
VYou could use the RouteUrl extension method:
p9425
aVAnd if you want an absolute url:
p9426
as(dp9427
g16
V29407
p9428
stp9429
a((dp9430
g2
(lp9431
s(dp9432
g16
V29407
p9433
stp9434
a((dp9435
g2
(lp9436
VIf you can have the HTML in memory then you can convert it to PDF
p9437
aVI've once did something similar using xhtmlrenderer
p9438
aVIt is a JAVA framework that bundles iText and that is capable of converting an HTML stream into PDF
p9439
aVAs it is written in JAVA I've used the ikvmc
p9440
aVexe to convert the jar file into a
p9441
aVNET assembly and use it directly from managed code
p9442
as(dp9443
g16
V29407
p9444
stp9445
a((dp9446
g2
(lp9447
VYou are missing a  clause in your HQL query
p9448
aVTry rewriting it like this:
p9449
aVNot sure, but probably the  part is not necessary
p9450
aVI suppose NHibernate will handle this scenario
p9451
as(dp9452
g16
V29407
p9453
stp9454
a((dp9455
g2
(lp9456
VYou might need to modify your web
p9457
aVconfig:
p9458
as(dp9459
g16
V29407
p9460
stp9461
a((dp9462
g2
(lp9463
VYou may take a look at the Params property
p9464
as(dp9465
g16
V29407
p9466
stp9467
a((dp9468
g2
(lp9469
VYou cannot represent accents and umlauts in an ASCII encoded file simply because these characters are not defined in the standard ASCII charset
p9470
as(dp9471
g16
V29407
p9472
stp9473
a((dp9474
g2
(lp9475
VThere's an ODBC client driver
p9476
as(dp9477
g16
V29407
p9478
stp9479
a((dp9480
g2
(lp9481
V should be
p9482
aVThere's no  type in SQL server
p9483
as(dp9484
g16
V29407
p9485
stp9486
a((dp9487
g2
(lp9488
VYou could use the XmlSerializer constructor which takes a default namespace in addition to the type you want to serialize:
p9489
as(dp9490
g16
V29407
p9491
stp9492
a((dp9493
g2
(lp9494
s(dp9495
g16
V29407
p9496
stp9497
a((dp9498
g2
(lp9499
VYou could give your image an unique id in order to fetch it:
p9500
as(dp9501
g16
V29407
p9502
stp9503
a((dp9504
g2
(lp9505
s(dp9506
g16
V29407
p9507
stp9508
a((dp9509
g2
(lp9510
VI usually create a unit test project per
p9511
aVNET assembly tested
p9512
as(dp9513
g16
V29407
p9514
stp9515
a((dp9516
g2
(lp9517
VThe value does not change because the ajax callback that is supposed to set response to true executes asynchronously after the  function exited
p9518
aVA possible workaround would be to execute the ajax request synchronously by setting the  option to
p9519
aVAnother workaround is to perform the call asynchronously but in this case all the work has to be done in the  callback, your function no longer need to return a value (for example show an error message if the hotel name already exists in the success callback)
p9520
aVIMHO this is a better approach
p9521
as(dp9522
g16
V29407
p9523
stp9524
a((dp9525
g2
(lp9526
s(dp9527
g16
V29407
p9528
stp9529
a((dp9530
g2
(lp9531
VIt could be related to lazy loading the  collection
p9532
as(dp9533
g16
V29407
p9534
stp9535
a((dp9536
g2
(lp9537
s(dp9538
g16
V29407
p9539
stp9540
a((dp9541
g2
(lp9542
VYou could mark the Stopwatch member with NonSerializedAttribute
p9543
aVThis way it will be excluded from the serialization process and the containing class will be successfully serialized
p9544
as(dp9545
g16
V29407
p9546
stp9547
a((dp9548
g2
(lp9549
VIt depends where do you set the visibility
p9550
aVHere's a working example with a link button which shows the  when the link is clicked:
p9551
as(dp9552
g16
V29407
p9553
stp9554
a((dp9555
g2
(lp9556
VBoth refer to the same product
p9557
as(dp9558
g16
V29407
p9559
stp9560
a((dp9561
g2
(lp9562
VAlways expose the lowest base class/interface in the object hierarchy that will be suitable for your scenario
p9563
aVFor example if consumers of this property are going to only iterate over it use
p9564
aVBy exposing a  you are breaking encapsulation by giving client code access to an implementation detail of your class
p9565
as(dp9566
g16
V29407
p9567
stp9568
a((dp9569
g2
(lp9570
VThere's a nice AutoComplete jQuery plugin for this
p9571
aVAnd there's a tutorial showing how easy it is to setup
p9572
as(dp9573
g16
V29407
p9574
stp9575
a((dp9576
g2
(lp9577
VYou need to be authenticated with GMail's SMTP:
p9578
as(dp9579
g16
V29407
p9580
stp9581
a((dp9582
g2
(lp9583
VYou may try this:
p9584
as(dp9585
g16
V29407
p9586
stp9587
a((dp9588
g2
(lp9589
s(dp9590
g16
V29407
p9591
stp9592
a((dp9593
g2
(lp9594
VI would write a method encapsulating the query logic including restrictions, grouping,
p9595
aV:
p9596
aVAnd then send requests to the database:
p9597
aVTo further optimize this you could take a look at this excellent blog post in which Ayende Rahien talks about NHibernate Futures
p9598
as(dp9599
g16
V29407
p9600
stp9601
a((dp9602
g2
(lp9603
VActually you need to replace  with
p9604
aVCodeBehind vs CodeFile
p9605
as(dp9606
g16
V29407
p9607
stp9608
a((dp9609
g2
(lp9610
VYou could do this:
p9611
as(dp9612
g16
V29407
p9613
stp9614
a((dp9615
g2
(lp9616
VThe WSDL is automatically generated from the WCF infrastructure
p9617
aVSo if you don't deploy the web service on this server you cannot expose the WSDL
p9618
aVYou could of course manually copy the generated XML files but if the original web service changes you will need to update them on other server
p9619
as(dp9620
g16
V29407
p9621
stp9622
a((dp9623
g2
(lp9624
VEvery time you call the  constructor it will check the type you are trying to serialize and it will generate a temporary assembly
p9625
aVIf the assembly already exists it will reuse it
p9626
aVSo if your web service is a classic ASMX service it will use  on every request, no matter the return type
p9627
aVThese temporary assemblies are part of the serialization process and in my opinion you shouldn't worry too much about them
p9628
as(dp9629
g16
V29407
p9630
stp9631
a((dp9632
g2
(lp9633
VIf you perform a redirect to the other page, the  is a good place
p9634
aVBut if the  is not too expensive to recreate I would probably send a new query to the database
p9635
as(dp9636
g16
V29407
p9637
stp9638
a((dp9639
g2
(lp9640
VIf  returns 0 this probably means that the parameters are not in the request string but rather being posted if there are any
p9641
aVHave you tried
p9642
as(dp9643
g16
V29407
p9644
stp9645
a((dp9646
g2
(lp9647
VWhat if the client you are executing this javascript is running Windows
p9648
aVThis is to say that what you are trying to achieve is not possible
p9649
aVJavascript is a client scripting language and runs in a sandboxed environment often inside a web browser which prevents it from accessing resources on the computer
p9650
as(dp9651
g16
V29407
p9652
stp9653
a((dp9654
g2
(lp9655
VFor performing custom validation I would recommend you the FluentValidation
p9656
aVNET library
p9657
as(dp9658
g16
V29407
p9659
stp9660
a((dp9661
g2
(lp9662
VThe Url Routing engine developed for ASP
p9663
aVNET MVC could now be used in classic ASP
p9664
aVNET WebForms applications
p9665
as(dp9666
g16
V29407
p9667
stp9668
a((dp9669
g2
(lp9670
VIf jQuery is an option, you could take a look at the Autocomplete plugin
p9671
as(dp9672
g16
V29407
p9673
stp9674
a((dp9675
g2
(lp9676
s(dp9677
g16
V29407
p9678
stp9679
a((dp9680
g2
(lp9681
VThe  property is expressed in minutes and is by default equal to 20 and is usually set in web
p9682
aVconfig:
p9683
as(dp9684
g16
V29407
p9685
stp9686
a((dp9687
g2
(lp9688
VIf you don't have an input element with  this could be used to just add a model error which will be shown in the error summary but no inputs would appear in red
p9689
as(dp9690
g16
V29407
p9691
stp9692
a((dp9693
g2
(lp9694
VA couple of disadvantages:
p9695
aVIn order to call the web service a client needs to know the structure of the XML passed as argument as well as the structure of the XML returned in order to make any sense
p9696
aVYou are performing double serialization/deserialization which reflects on performance
p9697
as(dp9698
g16
V29407
p9699
stp9700
a((dp9701
g2
(lp9702
VI would probably define a custom type:
p9703
aVand use Linq with
p9704
aVHere's an example with sorting:
p9705
as(dp9706
g16
V29407
p9707
stp9708
a((dp9709
g2
(lp9710
s(dp9711
g16
V29407
p9712
stp9713
a((dp9714
g2
(lp9715
VIt's the  setter that's triggering the update
p9716
aVWhen you set it to a new value it will refresh the check list box
p9717
as(dp9718
g16
V29407
p9719
stp9720
a((dp9721
g2
(lp9722
VTake a look at the TryParseExact method
p9723
aVHere's an example with the first case:
p9724
aVYou could then keep a list of different formats and try to parse the string with all of them until you succeed
p9725
as(dp9726
g16
V29407
p9727
stp9728
a((dp9729
g2
(lp9730
VYou may take a look at this blog post
p9731
aVieHTTPHeaders might be particularly useful
p9732
aVAlso note that IE8 comes with a Developer Toolbar that has this functionality out of the box
p9733
as(dp9734
g16
V29407
p9735
stp9736
a((dp9737
g2
(lp9738
VYou could either configure log4net or use an SQL Profiler to see what's actually sent to the database
p9739
aVYet another option (if you are willing to spend a few bucks) is to checkout Ayende's excellent tool
p9740
as(dp9741
g16
V29407
p9742
stp9743
a((dp9744
g2
(lp9745
VTry attaching the objects to the context before deleting:
p9746
as(dp9747
g16
V29407
p9748
stp9749
a((dp9750
g2
(lp9751
VYou need to pass an argument to the  function:
p9752
as(dp9753
g16
V29407
p9754
stp9755
a((dp9756
g2
(lp9757
VOr if you want it to apply globally on all pages you could use web
p9758
aVconfig:
p9759
as(dp9760
g16
V29407
p9761
stp9762
a((dp9763
g2
(lp9764
s(dp9765
g16
V29407
p9766
stp9767
a((dp9768
g2
(lp9769
VIf you let the default behavior () and your code doesn't work (you don't get redirected to the new resource) it means that the server is not encoding the  header correctly
p9770
aVIs the redirect working in the browser
p9771
aVFor example if the redirect url is  the Location header must look like
p9772
aVUPDATE:
p9773
aVAfter further investigating the issue I begin to suspect that there's something strange with
p9774
aVWhen the request is sent the server sends the following response:
p9775
aVAs we can see the  header contains greek characters which are not url encoded
p9776
aVI am not quite sure if this is valid according to the HTTP specification
p9777
aVWhat we can say for sure is that a web browser interprets it correctly
p9778
aVHere comes the interesting part
p9779
aVIt seems that  doesn't use UTF-8 encoding to parse the response headers because when analyzing the  header it gives: , which of course is wrong and when it tries to redirect to this location the server responds with a new redirect and so on until the maximum number of redirects is reached and an exception is thrown
p9780
aVI couldn't find any way to specify the encoding used by  when parsing the response headers
p9781
aVIf we use TcpCLient manually it works perfectly fine:
p9782
aVSo I am really puzzled by this behavior
p9783
aVIs there any way to specify the correct encoding used by
p9784
aVMaybe some request header should be set
p9785
aVAs a workaround you could try modifying the  page that performs the redirect and urlencode the  header
p9786
aVFor example when in an ASP
p9787
aVNET application you perform a , the location will be automatically html encoded and any non standard characters will be converted to their corresponding entities
p9788
aVFor example if you do:  in an ASP
p9789
aVNET application the  header will be set to :
p9790
aVIt seems that this is not the case with classic ASP
p9791
as(dp9792
g16
V29407
p9793
stp9794
a((dp9795
g2
(lp9796
VVisual Studio's Web Development server doesn't support remote connections
p9797
aVYou might need to install IIS for this purpose or some proxy server like Squid
p9798
as(dp9799
g16
V29407
p9800
stp9801
a((dp9802
g2
(lp9803
VTry putting an asterix before :
p9804
as(dp9805
g16
V29407
p9806
stp9807
a((dp9808
g2
(lp9809
VYou could use css to set the background image and javascript to change it
p9810
aVHere's an example:
p9811
as(dp9812
g16
V29407
p9813
stp9814
a((dp9815
g2
(lp9816
VYou could use the following connection string:
p9817
aVIt is important to note that a memory database exists as long as the connection remains open
p9818
as(dp9819
g16
V29407
p9820
stp9821
a((dp9822
g2
(lp9823
VFew remarks about your code:
p9824
aVYou need to properly close tags:  is not valid
p9825
aVThere's no input  defined
p9826
aVThe property to set the html of a given DOM element is called  and not
p9827
aVYou need to create a new  element every time the button is clicked, so this should be inside the  function
p9828
aVYou have a typo in your HTML:
p9829
aVThis should be changed to
p9830
aVYou are missing a  section in your document
p9831
aVI've tried cleaning your code a bit:
p9832
aVUPDATE:
p9833
aVAs pointed out by Guffa and Serkan answers in IE7 a  section needs to be used:
p9834
as(dp9835
g16
V29407
p9836
stp9837
a((dp9838
g2
(lp9839
VIf you want to reuse your native code you could expose a function that takes the server name and port as input parameters and that returns the data read
p9840
aVThis native function could then be invoked in C#:
p9841
aVAnother option is to use
p9842
aVNET built-in classes to achieve similar functionality:
p9843
as(dp9844
g16
V29407
p9845
stp9846
a((dp9847
g2
(lp9848
VI've never had any problems installing VS 2008 Team Suite on Windows 7 x64 RTM
p9849
aVYou might have a corrupt installer
p9850
aVAlso you may check if this helps
p9851
as(dp9852
g16
V29407
p9853
stp9854
a((dp9855
g2
(lp9856
VYou didn't mention which version of Delphi you use but I once had hard time making Delphi 2005 import a WCF service with
p9857
aVAs the  is split among many pages, the SOAP import wizard in Delphi wasn't capable of understanding it
p9858
aVI finally ended up writing an ASMX wrapper around the WCF service for Delphi clients
p9859
as(dp9860
g16
V29407
p9861
stp9862
a((dp9863
g2
(lp9864
VYou could take a look at Ajax Minifier which was recently released from Microsoft and which they use internally
p9865
as(dp9866
g16
V29407
p9867
stp9868
a((dp9869
g2
(lp9870
VBecause the  function take the argument returned by the  function:
p9871
as(dp9872
g16
V29407
p9873
stp9874
a((dp9875
g2
(lp9876
VYou need to eagerly load the  collection if you intend to use it before closing the session:
p9877
aVBy default FluentNHibernate uses lazy loading for collection mappings
p9878
aVAnother option is to modify this default behavior in your mapping:
p9879
aVNote that if you do this  will be eagerly loaded (using an outer join) every time you load the parent entity which might not be want you want
p9880
aVIn general I prefer to always leave the default lazy loading at the mapping level and tune my queries depending on the situation
p9881
as(dp9882
g16
V29407
p9883
stp9884
a((dp9885
g2
(lp9886
VIn WCF terms a data contract is a class used in a service contract operation
p9887
aVIt's called a data contract because it is usually annotated with the DataContractAttribute in order to be recognized and serialized successfully (although starting from
p9888
aVNET 3
p9889
aV5 SP1 DataContractSerializer works with POCO objects and this attribute is no longer required)
p9890
aVSo you could have a single service contract with multiple operations dealing with multiple data contracts all exposed in a single endpoint
p9891
as(dp9892
g16
V29407
p9893
stp9894
a((dp9895
g2
(lp9896
VAbsolutely not:  returns false
p9897
as(dp9898
g16
V29407
p9899
stp9900
a((dp9901
g2
(lp9902
VIt is not a good idea to use the thread pool for long running tasks such as Lucene indexing in Global
p9903
aVasax nor anywhere in your application, because these threads are also used to service requests
p9904
aVIt would have the same effect as a slow request
p9905
aVIMHO it would be better to spawn a new thread manually:
p9906
as(dp9907
g16
V29407
p9908
stp9909
a((dp9910
g2
(lp9911
s(dp9912
g16
V29407
p9913
stp9914
a((dp9915
g2
(lp9916
VThere's a blog post which suggests implementing an
p9917
aVYou may also take a look at this discussion
p9918
aVHere's a suggested implementation:
p9919
aVWhich you could use like that:
p9920
as(dp9921
g16
V29407
p9922
stp9923
a((dp9924
g2
(lp9925
VInstead of ODBC I would suggest you downloading the ADO
p9926
aVNET standard driver for MySQL and use it like this:
p9927
as(dp9928
g16
V29407
p9929
stp9930
a((dp9931
g2
(lp9932
VUPDATE:
p9933
aVSo you have a server side script () which generates the PDF file
p9934
aVYou don't have the pdf file stored on your file system
p9935
aVIn this case you will need to first fetch the pdf and then stream it to the client:
p9936
aVThe usefulness of this controller action is doubtful as you already have a script that does the job
p9937
as(dp9938
g16
V29407
p9939
stp9940
a((dp9941
g2
(lp9942
VIMHO is is better to keep validation rules away from the HTML:
p9943
aVand just have:
p9944
as(dp9945
g16
V29407
p9946
stp9947
a((dp9948
g2
(lp9949
VThere's no general function in javascript that allows you to clear all timers
p9950
aVYou will need to keep track of all timers you create
p9951
aVFor this you could use a global array:
p9952
as(dp9953
g16
V29407
p9954
stp9955
a((dp9956
g2
(lp9957
VYou may take a look at this post (first hit on google)
p9958
as(dp9959
g16
V29407
p9960
stp9961
a((dp9962
g2
(lp9963
VTo include a script you could try this:
p9964
aVor like that:
p9965
as(dp9966
g16
V29407
p9967
stp9968
a((dp9969
g2
(lp9970
VTo define an object you could use the following syntax:
p9971
as(dp9972
g16
V29407
p9973
stp9974
a((dp9975
g2
(lp9976
VIf it is not sensitive data, I would also prefer to store it in the HTML rather than the session
p9977
as(dp9978
g16
V29407
p9979
stp9980
a((dp9981
g2
(lp9982
VYou could use HtmlDecode to convert html entities to normal string, then truncate this string and finally encode the result:
p9983
as(dp9984
g16
V29407
p9985
stp9986
a((dp9987
g2
(lp9988
VSend the parameters as a JSON encoded object:
p9989
aVAnd in javascript:
p9990
as(dp9991
g16
V29407
p9992
stp9993
a((dp9994
g2
(lp9995
VBecause Int16 and UInt16 are different types
p9996
aVYou could try this:
p9997
as(dp9998
g16
V29407
p9999
stp10000
a((dp10001
g2
(lp10002
VOnly types used as input/output parameters of service contract operations are published in the WSDL
p10003
as(dp10004
g16
V29407
p10005
stp10006
a((dp10007
g2
(lp10008
VIKVM
p10009
aVNET Bytecode Compiler
p10010
as(dp10011
g16
V29407
p10012
stp10013
a((dp10014
g2
(lp10015
VIt is safe and efficient
p10016
aVYou could even remove the first :
p10017
as(dp10018
g16
V29407
p10019
stp10020
a((dp10021
g2
(lp10022
VIf all the clients that are browsing the site are going to have Word installed and use Internet Explorer, you could embed it with an ActiveX object
p10023
aVIf these requirements are not met you might need to convert it to some more standard format that a browser is capable of displaying such as a  image
p10024
aVYou may also look at this option
p10025
as(dp10026
g16
V29407
p10027
stp10028
a((dp10029
g2
(lp10030
VMaybe these are reserved words
p10031
aVTry quoting them:
p10032
as(dp10033
g16
V29407
p10034
stp10035
a((dp10036
g2
(lp10037
VFrom design perspective it is better for a model binder to add model errors instead of throwing exceptions:
p10038
aVThis way, later in your action you could check if the model is valid:
p10039
as(dp10040
g16
V29407
p10041
stp10042
a((dp10043
g2
(lp10044
VActually the second should be faster as it performs fewer operations
p10045
aVLet's take this program for example:
p10046
aVHere's how Method1 and Method2 look like when compiled in Release mode:
p10047
aVOf course this sort of micro-optimization questions should never be asked
p10048
as(dp10049
g16
V29407
p10050
stp10051
a((dp10052
g2
(lp10053
VGMail's SMTP server always requires authentication
p10054
aVYou may need to setup your own server to send email without authentication
p10055
as(dp10056
g16
V29407
p10057
stp10058
a((dp10059
g2
(lp10060
VThere's a working draft of a JSON schema
p10061
aVYou could also take a look at Cerny
p10062
as(dp10063
g16
V29407
p10064
stp10065
a((dp10066
g2
(lp10067
VIf you use parametrized queries there's no risk of SQL injection and you can store any characters in the DB
p10068
aVLater when displaying them on the page you need to make sure you HTML encode the data
p10069
as(dp10070
g16
V29407
p10071
stp10072
a((dp10073
g2
(lp10074
VBy definition a static method cannot be implemented in derived classes
p10075
as(dp10076
g16
V29407
p10077
stp10078
a((dp10079
g2
(lp10080
VUse an array:
p10081
as(dp10082
g16
V29407
p10083
stp10084
a((dp10085
g2
(lp10086
VYou need a  constraint if you want to be able to instantiate :
p10087
as(dp10088
g16
V29407
p10089
stp10090
a((dp10091
g2
(lp10092
VRemark: Don't use regular expressions to parse PDF files
p10093
as(dp10094
g16
V29407
p10095
stp10096
a((dp10097
g2
(lp10098
VYou could pass a model object to the partial (for example a list of strings):
p10099
aVThen you strongly type the partial and the  property will be of the appropriate type:
p10100
as(dp10101
g16
V29407
p10102
stp10103
a((dp10104
g2
(lp10105
VStatic variable values are shared across all threads in an application domain
p10106
aVIn an ASP
p10107
aVNET application the recommended way to store data that's related only to the current user is the Session
p10108
aVIf you can modify the code of this shared library I would advise you to extract an interface out of these static variables that will provide a mechanism to store values
p10109
aVThis will allow each application to provide its own implementation
p10110
aVFor a windows application you could use an implementation that internally uses a static variable
p10111
aVFor an ASP
p10112
aVNET application you could use the Session
p10113
aVBut in all cases you expose only an interface
p10114
aVThis will also have the positive side effect of rendering your code easier to unit test
p10115
as(dp10116
g16
V29407
p10117
stp10118
a((dp10119
g2
(lp10120
VYou could set the encoding in the first line of the XML file:
p10121
aVCould you show your XML file
p10122
as(dp10123
g16
V29407
p10124
stp10125
a((dp10126
g2
(lp10127
VAssuming you are talking about
p10128
aVNET a BackgroundWorker uses a thread from the thread pool (it doesn't create a new thread but it might block if there are no threads available in the pool) while Thread
p10129
aVStart starts a new managed thread
p10130
as(dp10131
g16
V29407
p10132
stp10133
a((dp10134
g2
(lp10135
VAn apostrophe is a valid character in HTML
p10136
aVIt is not encoded because it is not needed to be encoded
p10137
as(dp10138
g16
V29407
p10139
stp10140
a((dp10141
g2
(lp10142
VWhen stepping through the code in debug mode you could skip the execution of the instructions that throw the undesired exception
p10143
aVBut if the exception is already thrown and you don't have a try/catch it will propagate
p10144
as(dp10145
g16
V29407
p10146
stp10147
a((dp10148
g2
(lp10149
VThe app
p10150
aVconfig for the class library is not being used when you run an ASP
p10151
aVNET application
p10152
aVOnly the web
p10153
aVconfig of the web application is taken into account
p10154
aVSo in your web
p10155
aVconfig you could declare the dependency:
p10156
aVand in the context
p10157
aVxml:
p10158
aVand finally in your code behind:
p10159
as(dp10160
g16
V29407
p10161
stp10162
a((dp10163
g2
(lp10164
VYes it is valid according to
p10165
aVThe following XHTML passes the validation:
p10166
as(dp10167
g16
V29407
p10168
stp10169
a((dp10170
g2
(lp10171
VIf by open source you mean free these are a good start:
p10172
aVVisual Studio 2008 Express Edition
p10173
aVNUnit
p10174
aVSome DI Framework
p10175
aVGit
p10176
as(dp10177
g16
V29407
p10178
stp10179
a((dp10180
g2
(lp10181
VDon't use string concatenation to pass parameters, just use a data hash:
p10182
aVUPDATE:
p10183
aVAs suggested by @Alex in the comments section, an ASP
p10184
aVNET PageMethod expects parameters to be JSON encoded in the request, so  should be applied on the data hash:
p10185
as(dp10186
g16
V29407
p10187
stp10188
a((dp10189
g2
(lp10190
VIf you are using Web Deployment Projects to precompile your the site there's a possibility to specify the output assembly version in the properties page of the project
p10191
aVIf you are using aspnet_compiler
p10192
aVexe you could create an AssemblyInfo
p10193
aVcs file and use AssemblyVersionAttribute
p10194
as(dp10195
g16
V29407
p10196
stp10197
a((dp10198
g2
(lp10199
VIf it is a reference type, the default value will be , if it is a value type, then it depends
p10200
as(dp10201
g16
V29407
p10202
stp10203
a((dp10204
g2
(lp10205
VI am not aware of a fully managed way to perform this
p10206
aVInterop with FindFirstPrinterChangeNotification and FindNextPrinterChangeNotification might be required
p10207
aVYou could also take a look at existing wrappers allowing to monitor the printer queue
p10208
as(dp10209
g16
V29407
p10210
stp10211
a((dp10212
g2
(lp10213
VHttpPostedFile has an internal constructor that takes 3 arguments and that is not intended to be called from your code:
p10214
aVIn order to instantiate this class you will need to pass a filename, a content type and a  instance which is a type that is also internal so the only way to instantiate it is through reflection
p10215
as(dp10216
g16
V29407
p10217
stp10218
a((dp10219
g2
(lp10220
V requires at least
p10221
aVNET 3
p10222
aV0 to be installed on the client machine
p10223
aVIf you referenced  and used LINQ you might need
p10224
aVNET 3
p10225
ag244
as(dp10226
g16
V29407
p10227
stp10228
a((dp10229
g2
(lp10230
VLet's take the first case:
p10231
aVHere when you construct the anonymous delegate the value of flag is false, but when the  method executes, the flag has already been set to true by the next line, and you see the output displayed
p10232
aVHere's another example that illustrates the same concept:
p10233
aVThis will print five times five
p10234
aVNow let's take the second case:
p10235
aVthe value passed to the callback is the one that the variable posses when you call the  method, which is  and that's why you never see the output in the console
p10236
as(dp10237
g16
V29407
p10238
stp10239
a((dp10240
g2
(lp10241
s(dp10242
g16
V29407
p10243
stp10244
a((dp10245
g2
(lp10246
VMake sure that a ViewResult is returned
p10247
aVMake sure the view result has a model
p10248
aVMake sure this model is not null and is of type
p10249
aVAssert properties on the model
p10250
aVThis line  makes me think that it would be difficult to write a unit test because you don't use an interface that could be mocked, but rather rely on a concrete class which might hit the actual database
p10251
as(dp10252
g16
V29407
p10253
stp10254
a((dp10255
g2
(lp10256
VYou can directly cast it:
p10257
as(dp10258
g16
V29407
p10259
stp10260
a((dp10261
g2
(lp10262
VYou could use the special  folder to put uploaded files and store the path into the database
p10263
aVIf you go with SQL Server 2008 then you could take a look at the FILESTREAM type
p10264
as(dp10265
g16
V29407
p10266
stp10267
a((dp10268
g2
(lp10269
VWhen a form posts to a controller action it is the controller action to decide what to do with the posted results and which view to render next or redirect:
p10270
as(dp10271
g16
V29407
p10272
stp10273
a((dp10274
g2
(lp10275
VThere's no built-in mechanism for this
p10276
aVYou will have to implement it manually
p10277
as(dp10278
g16
V29407
p10279
stp10280
a((dp10281
g2
(lp10282
VYou could write a model binder that will decrypt the value:
p10283
as(dp10284
g16
V29407
p10285
stp10286
a((dp10287
g2
(lp10288
VYou cannot escape non-printing characters such as NULL because there's no equivalent escape character defined for them
p10289
aVYou cannot represent it unless you have HEX or Base64 encoded fragments
p10290
aVSo you could either Base64 encode the string or make sure it does not contain non-printing characters
p10291
as(dp10292
g16
V29407
p10293
stp10294
a((dp10295
g2
(lp10296
VBoth are compiled to the same IL
p10297
aVCollection initializers are just syntactic sugar
p10298
aVThey will call the  method
p10299
aVExample:
p10300
aVis compiled to:
p10301
aVThe only difference is an additional local variable being declared
p10302
as(dp10303
g16
V29407
p10304
stp10305
a((dp10306
g2
(lp10307
VWhy not having two methods: one for reading and one for writing, each using its own connection drawn from the connection pool
p10308
aVReading
p10309
aVWriting
p10310
aVAnd then just call them on different threads
p10311
aVThis makes methods clearer and more specific
p10312
as(dp10313
g16
V29407
p10314
stp10315
a((dp10316
g2
(lp10317
VYou could get the response from a server using a WebClient and return it as text:
p10318
as(dp10319
g16
V29407
p10320
stp10321
a((dp10322
g2
(lp10323
VThe recommended way to write web services in
p10324
aVNET is using the Windows Communication Foundation (WCF)
p10325
aVThere are many tutorials online that will get you started
p10326
aVHere's one on MSDN
p10327
as(dp10328
g16
V29407
p10329
stp10330
a((dp10331
g2
(lp10332
VYou could use the following function:
p10333
aVThe name of the parameters should be pretty self-explanatory
p10334
as(dp10335
g16
V29407
p10336
stp10337
a((dp10338
g2
(lp10339
VOrder of XML elements should be dictated by the WSDL and you don't need to worry about it
p10340
aVStarting from
p10341
aVNET 3
p10342
aV5 SP1 you no longer need to use DataContractAttribute and DataMemberAttribute
p10343
aVThe serializer will automatically include all public properties
p10344
aVAs far as XmlSerializer is concerned, the SerializableAttribute has no effect
p10345
aVThis attribute is used for binary serialization by the BinaryFormatter
p10346
aVSo to resume, you could leave the class as a POCO, expose it either in WCF or ASP
p10347
aVNET webservice and leave the clients consume it according to the WSDL
p10348
as(dp10349
g16
V29407
p10350
stp10351
a((dp10352
g2
(lp10353
VYou may find this article on CodeProject helpful
p10354
as(dp10355
g16
V29407
p10356
stp10357
a((dp10358
g2
(lp10359
VI think you have a wrong reference
p10360
aVThe correct version of the  assembly is :
p10361
aVAs the error suggests check out line 37 of  and see if you can put the correct version number
p10362
as(dp10363
g16
V29407
p10364
stp10365
a((dp10366
g2
(lp10367
V never encodes,  obeys the  setting and  will always encode
p10368
as(dp10369
g16
V29407
p10370
stp10371
a((dp10372
g2
(lp10373
VTry setting the maxRequestLength property:
p10374
as(dp10375
g16
V29407
p10376
stp10377
a((dp10378
g2
(lp10379
VMTOM is optimized to handle large binary data
p10380
as(dp10381
g16
V29407
p10382
stp10383
a((dp10384
g2
(lp10385
VThis field is used to store COM+ exception codes and it's value is assigned to the constant
p10386
as(dp10387
g16
V29407
p10388
stp10389
a((dp10390
g2
(lp10391
VThere are couple of reasons why you might get poor performance:
p10392
aVNot usage of asynchronous methods / threads
p10393
aVPoor HTML parsing algorithm
p10394
aVThe page you are downloading with WebClient is slow
p10395
aVMore information/source code will be needed to find a definitive answer
p10396
as(dp10397
g16
V29407
p10398
stp10399
a((dp10400
g2
(lp10401
VYou could use the  function:
p10402
as(dp10403
g16
V29407
p10404
stp10405
a((dp10406
g2
(lp10407
s(dp10408
g16
V29407
p10409
stp10410
a((dp10411
g2
(lp10412
VTry this:
p10413
aVUPDATE:
p10414
aVSorry in my first post I thought you were using  to generate the client proxy
p10415
aVFor a WCF client you need to configure the endpoint:
p10416
aVUPDATE2:
p10417
aVI've used the following configuration to invoke web services protected with NTLM authentication
p10418
aVIn app
p10419
aVconfig of the client put the following:
p10420
aVand then you could set the corresponding credentials before invoking the method:
p10421
as(dp10422
g16
V29407
p10423
stp10424
a((dp10425
g2
(lp10426
VYou could try using the strongly generated class by visual studio:
p10427
aVOr for a more general solution take a look at this post
p10428
as(dp10429
g16
V29407
p10430
stp10431
a((dp10432
g2
(lp10433
s(dp10434
g16
V29407
p10435
stp10436
a((dp10437
g2
(lp10438
VNetBeans is written in Java, so
p10439
aVThe NetBeans IDE is written in Java
p10440
aVand runs everywhere where a JVM is
p10441
aVinstalled, including Windows, Mac OS,
p10442
aVLinux, and Solaris
p10443
aVA JDK is required
p10444
aVfor Java development functionality,
p10445
aVthe PHP bundle can be used with just
p10446
aVthe JVM
p10447
as(dp10448
g16
V29407
p10449
stp10450
a((dp10451
g2
(lp10452
VYou need to draw in the Paint event of a control
p10453
as(dp10454
g16
V29407
p10455
stp10456
a((dp10457
g2
(lp10458
VYour code looks fine but it is not thread safe, as the static Dictionary you are using to cache previously calculated values is not thread safe
p10459
aVYou need to use proper locking mechanisms when you perform read/write operations on it
p10460
aVOther than that you might find function Memoization an interesting technique
p10461
as(dp10462
g16
V29407
p10463
stp10464
a((dp10465
g2
(lp10466
VHow about writing an extension method to make this shorter
p10467
as(dp10468
g16
V29407
p10469
stp10470
a((dp10471
g2
(lp10472
VPass it as parameter:
p10473
aVAnd in the Warranty
p10474
aVaspx page:
p10475
as(dp10476
g16
V29407
p10477
stp10478
a((dp10479
g2
(lp10480
VYou could use the TryParse method:
p10481
as(dp10482
g16
V29407
p10483
stp10484
a((dp10485
g2
(lp10486
VAs you don't have a submit button inside your , the user will have difficulties submitting it
p10487
aVBut if this form is submitted somehow, the browser will redirect to the following address:
p10488
aVAs you can see the value will be sent with a  request which is the default
p10489
aVIf you don't use the  in any part of the script that's supposed to handle the form submission, then you've probably wasted some bytes of bandwidth, but other than that not much will happen
p10490
as(dp10491
g16
V29407
p10492
stp10493
a((dp10494
g2
(lp10495
s(dp10496
g16
V29407
p10497
stp10498
a((dp10499
g2
(lp10500
VYou may take a look at WiX and more specifically the  assembly
p10501
aVIt has a nice API that allows you to do this:
p10502
aVIt's dependent on the  assembly which is standalone so you will need only those two assemblies
p10503
as(dp10504
g16
V29407
p10505
stp10506
a((dp10507
g2
(lp10508
VFrom MSDN:
p10509
aVThe IntPtr type is CLS-compliant,
p10510
aVwhile the UIntPtr type is not
p10511
aVOnly
p10512
aVthe IntPtr type is used in the common
p10513
aVlanguage runtime
p10514
aVThe UIntPtr type is
p10515
aVprovided mostly to maintain
p10516
aVarchitectural symmetry with the IntPtr
p10517
aVtype
p10518
aVBoth types are capable of storing 32-bit and 64-bit pointers
p10519
aVThe preferred type is
p10520
as(dp10521
g16
V29407
p10522
stp10523
a((dp10524
g2
(lp10525
s(dp10526
g16
V29407
p10527
stp10528
a((dp10529
g2
(lp10530
VIf you are talking about unhandled (non-business related) exceptions just let them propagate to the UI layer where you could catch/log/inform the user
p10531
as(dp10532
g16
V29407
p10533
stp10534
a((dp10535
g2
(lp10536
VTake a look at the ConvertTime method
p10537
aVFor example:
p10538
as(dp10539
g16
V29407
p10540
stp10541
a((dp10542
g2
(lp10543
VDon't use any javascript to submit the form, just set the  property of your search button to :
p10544
aVAnd in the  of Search
p10545
aVaspx read the posted value:
p10546
as(dp10547
g16
V29407
p10548
stp10549
a((dp10550
g2
(lp10551
VCookies are the only way to track users
p10552
aVThey can either be persistent or not
p10553
aVIf a cookie is persistent it is stored in the user's computer as a file and has an expiration date but only the browser that created it will be able to access it again
p10554
aVThere's no way to achieve cross-browser cookies
p10555
as(dp10556
g16
V29407
p10557
stp10558
a((dp10559
g2
(lp10560
VPut a setter and it will work as expected:
p10561
as(dp10562
g16
V29407
p10563
stp10564
a((dp10565
g2
(lp10566
s(dp10567
g16
V29407
p10568
stp10569
a((dp10570
g2
(lp10571
VThere's an article on MSDN dedicated on this subject
p10572
as(dp10573
g16
V29407
p10574
stp10575
a((dp10576
g2
(lp10577
VThere's nothing preventing you from using data contracts with MTOM
p10578
as(dp10579
g16
V29407
p10580
stp10581
a((dp10582
g2
(lp10583
VThe default controller factory uses reflection to find all classes that derive from , so no matter in which folder you put them, as long as they are public and derive from  it will work
p10584
aVBut IMHO mixing views and controllers into the same folder is not a good idea
p10585
aVIf it is a matter of organizing your controllers why not create subfolders in the  folder
p10586
as(dp10587
g16
V29407
p10588
stp10589
a((dp10590
g2
(lp10591
VThere's no  that will notify you that the user closed his browser
p10592
as(dp10593
g16
V29407
p10594
stp10595
a((dp10596
g2
(lp10597
VThere is no clear concept of  in
p10598
aVNET, since the
p10599
aVNET framework is quite integrated in the OS
p10600
aVIn web applications, the role of  would be split into IIS and Windows itself
p10601
aVTo summarize:
p10602
aVNET Framework is so rich that it already provides many of the functionality applications may need
p10603
as(dp10604
g16
V29407
p10605
stp10606
a((dp10607
g2
(lp10608
s(dp10609
g16
V29407
p10610
stp10611
a((dp10612
g2
(lp10613
VIMHO this is not possible with ASP
p10614
aVNET AJAX because the generated wrappers use async calls
p10615
aVBy the way you could use jQuery to call the PageMethod where it is a matter of setting
p10616
as(dp10617
g16
V29407
p10618
stp10619
a((dp10620
g2
(lp10621
VIs there any way to do so
p10622
aVThere isn't because a constant value has to be known at compile time, so you cannot assign it to a normal variable
p10623
aVAnd is there any difference between:
p10624
aVdouble Y; and Double Y;
p10625
aVAbsolutely no difference, the first is an alias to the actual type
p10626
as(dp10627
g16
V29407
p10628
stp10629
a((dp10630
g2
(lp10631
VAutomatic properties were first introduced in C# 3
p10632
ag2721
aVThe difference between:
p10633
aVand
p10634
aVis that the first declares a property while the second a field
p10635
aVIn OOP properties are used to encapsulate fields
p10636
aVA property can have a  or a  or both and you can also specify different accessibility level for each
p10637
as(dp10638
g16
V29407
p10639
stp10640
a((dp10641
g2
(lp10642
VCyclic Redundancy Check is a hash function that allows you to compute an unique value given some input which is guaranteed to be always the same for the same input
p10643
aVIf the input changes somehow from the original, a different CRC checksum will be generated
p10644
aVSo if you have an input and a checksum you could calculate a new checksum from the input and compare both checksums
p10645
aVIf they are the same it means that the input hasn't changed
p10646
as(dp10647
g16
V29407
p10648
stp10649
a((dp10650
g2
(lp10651
VFrom the documentation:
p10652
aVA field is a variable of any type that
p10653
aVis declared directly in a class or
p10654
aVstruct
p10655
aVFields are members of their containing type
p10656
as(dp10657
g16
V29407
p10658
stp10659
a((dp10660
g2
(lp10661
VYou could use WebClient:
p10662
as(dp10663
g16
V29407
p10664
stp10665
a((dp10666
g2
(lp10667
VASP
p10668
aVNET MVC offers an alternative to traditional WebForms development
p10669
aVIt gives a clear separation of concerns in the application which makes code easier to test
p10670
aVIn contrast to WebForms, in ASP
p10671
aVNET MVC infrastructure classes such as HttpContext are abstracted and could be mocked in unit tests to simulate request handling
p10672
aVYou also have much more control over the generated HTML which is a good thing in case you want to comply with standards
p10673
aVDue to the separation TDD could be applied
p10674
aVIn this iterative process, unit tests are written to validate the code against a list of specifications
p10675
aVIn the first stages of development writing unit tests might seem to slow down the process but as the code grows its benefits become clearer as you no longer need manually test every aspect of the application once you modify or refactor something
p10676
as(dp10677
g16
V29407
p10678
stp10679
a((dp10680
g2
(lp10681
VDid you include a script manager on the page
p10682
aVHere's an example that should work:
p10683
as(dp10684
g16
V29407
p10685
stp10686
a((dp10687
g2
(lp10688
VExternal javascript files are not served by the ASP
p10689
aVNET engine, so any server side tags such as  will not work
p10690
aVYou could apply a css class to the element and use a CSS selector:
p10691
as(dp10692
g16
V29407
p10693
stp10694
a((dp10695
g2
(lp10696
VThis could be referring to the Json method used in ASP
p10697
aVNET MVC controller
p10698
aVAs your  function is static you cannot use this method
p10699
aVYou may take a look at PageMethods
p10700
aVHere's an example:
p10701
aVAnd in javascript:
p10702
as(dp10703
g16
V29407
p10704
stp10705
a((dp10706
g2
(lp10707
VWhen you call QueueUserWorkItem a new thread will be drawn from the thread pool if available and execute the callback function on this thread
p10708
aVIf no threads are available, the function will block until a thread is freed
p10709
aVOnce it finishes the execution of the method the thread will be suspended and returned to the pool for further reuse
p10710
aVYour only concern should be the fact that threads from the pool are also used to service requests, so if you perform lengthy tasks on them you could jeopardize the whole system request servicing capabilities because there's a limited number of threads in the pool and if all of them are busy performing lengthy operations future HTTP requests will be queued
p10711
aVAs an alternative you could consider creating threads manually:
p10712
as(dp10713
g16
V29407
p10714
stp10715
a((dp10716
g2
(lp10717
VTo perform a redirect you need to do it on the client side
p10718
aVSo you can no longer use  but you should instead use the  option
p10719
aVYou will also need to modify the  controller action so that in case of a redirect you test if you it is an ajax request and in this case return a Json object with the redirect url which will be used in javascript:
p10720
aVAnd in the view:
p10721
as(dp10722
g16
V29407
p10723
stp10724
a((dp10725
g2
(lp10726
VTo get the selected value you could use either javascript or a controller action to which the form containing the select box is submitted
p10727
as(dp10728
g16
V29407
p10729
stp10730
a((dp10731
g2
(lp10732
VTo prevent users from seeing the previous page when pressing the back button you need to instruct the browser not to cache this page:
p10733
aVYou could put this code in all authenticated pages, thus preventing them from being cached on client browsers
p10734
as(dp10735
g16
V29407
p10736
stp10737
a((dp10738
g2
(lp10739
VYou cannot easily mock a
p10740
aVNET service reference client class
p10741
aVYou could use the service contract interface in your code and mock this one
p10742
as(dp10743
g16
V29407
p10744
stp10745
a((dp10746
g2
(lp10747
VWhat you are trying to accomplish is not possible because extension methods are resolved at compile time, while in your case the actual type of the  variable is known only at runtime
p10748
as(dp10749
g16
V29407
p10750
stp10751
a((dp10752
g2
(lp10753
VYou need to use an environment variable:
p10754
as(dp10755
g16
V29407
p10756
stp10757
a((dp10758
g2
(lp10759
VA simple read or write on a field of 32 bits or less is always atomic
p10760
aVBut you should provide your read/write code to make sure that it is thread safe
p10761
as(dp10762
g16
V29407
p10763
stp10764
a((dp10765
g2
(lp10766
VTo read an url parameter from javascript you could use the following method:
p10767
as(dp10768
g16
V29407
p10769
stp10770
a((dp10771
g2
(lp10772
VI would strongly advise you against having a database for each language
p10773
aVYou could keep each translatable item into a separate table where each row represents the translation of some user content for a given language
p10774
as(dp10775
g16
V29407
p10776
stp10777
a((dp10778
g2
(lp10779
VTo retrieve a connection string from the config file you could use the ConnectionStrings  property:
p10780
as(dp10781
g16
V29407
p10782
stp10783
a((dp10784
g2
(lp10785
VAssuming you know the address of the flash movie:
p10786
as(dp10787
g16
V29407
p10788
stp10789
a((dp10790
g2
(lp10791
VMVCContrib 1
p10792
ag2721
ag2721
aV987 Stable
p10793
as(dp10794
g16
V29407
p10795
stp10796
a((dp10797
g2
(lp10798
VThere's an article on CodeProject showing how to compress a wave file in C# using the Lame codec
p10799
aVIt is a managed wrapper around the codec
p10800
as(dp10801
g16
V29407
p10802
stp10803
a((dp10804
g2
(lp10805
VUsing cookies doesn't pose any threat to an application
p10806
aVIt is the way you use them and the information you store that could be problematic
p10807
aVFor example, you have to avoid storing sensitive information in cookies
p10808
aVIf used for authentication, they should always be transmitted over a secure channel
p10809
as(dp10810
g16
V29407
p10811
stp10812
a((dp10813
g2
(lp10814
VThe success callback takes two arguments:
p10815
aVAlso make sure that the  sets the proper content-type header:
p10816
as(dp10817
g16
V29407
p10818
stp10819
a((dp10820
g2
(lp10821
VYou need to write the POST data to the request stream
p10822
as(dp10823
g16
V29407
p10824
stp10825
a((dp10826
g2
(lp10827
s(dp10828
g16
V29407
p10829
stp10830
a((dp10831
g2
(lp10832
VOther than HTTP cookies, there's nothing in the protocol specification about forwarding headers
p10833
aVThe client needs to implement this functionality
p10834
as(dp10835
g16
V29407
p10836
stp10837
a((dp10838
g2
(lp10839
VIn NHibernate it's the  which is responsible to hold connection string to a specific database and create  instances
p10840
aVFor multiple database support you may take a look at NHibernate Shards which is still work in progress
p10841
as(dp10842
g16
V29407
p10843
stp10844
a((dp10845
g2
(lp10846
VIMHO you should always prefer  over  because of the transactional support which is at the heart of every relational database system
p10847
as(dp10848
g16
V29407
p10849
stp10850
a((dp10851
g2
(lp10852
VI am not sure if you could configure it to break on each request, but in FireBug you could use the  and  (for ajax) tabs to see a list of all outgoing requests
p10853
as(dp10854
g16
V29407
p10855
stp10856
a((dp10857
g2
(lp10858
VThis could be related to machineKey differences between your development and staging boxes
p10859
aVThese keys are used in some hashing algorithms
p10860
aVBy default autogenerated values are used in  and you may need to override them with some fixed values which are the same between the two servers
p10861
as(dp10862
g16
V29407
p10863
stp10864
a((dp10865
g2
(lp10866
VThere's a nice comparison of unit testing frameworks
p10867
aVMy personal advice would be to go with MSTest only if you use Microsoft Team Foundation Server for continuous integration, otherwise stick with open source alternatives
p10868
as(dp10869
g16
V29407
p10870
stp10871
a((dp10872
g2
(lp10873
VTo transfer a file from machine A to machine B you could use the Copy method
p10874
aVAssuming you have administrative privileges on machine B you could use the following code to copy a file every second from machine A to machine B:
p10875
aVIf you don't have administrative privileges on machine B you could use shares:
p10876
as(dp10877
g16
V29407
p10878
stp10879
a((dp10880
g2
(lp10881
VScott Gu wrote a post about this
p10882
aVYou may try the following:
p10883
as(dp10884
g16
V29407
p10885
stp10886
a((dp10887
g2
(lp10888
VDoes this work:
p10889
as(dp10890
g16
V29407
p10891
stp10892
a((dp10893
g2
(lp10894
VThere's an in-depth review about marshaling execution on the UI thread
p10895
as(dp10896
g16
V29407
p10897
stp10898
a((dp10899
g2
(lp10900
VYour approach is perfectly valid and used in many places
p10901
aVNow if you have millions of records you will probably won't like to fill an in-memory object anyway
p10902
aVBut I guess it will depend on what you are going to do with the object
p10903
aVIf the interviewer said that he doesn't want to loop around these records, then this defeats the purpose of a data reader
p10904
as(dp10905
g16
V29407
p10906
stp10907
a((dp10908
g2
(lp10909
VFew remarks about your code:
p10910
aVYou are setting the content type header to a word document but you are actually sending HTML contents by rendering a GridView
p10911
aVis not a valid filename because of the  character
p10912
aVYou don't need a  block if in the  statement you are only doing
p10913
aVCalling  at the end is not necessary
p10914
aVAlways use  statement when dealing with disposable objects such as streams and readers/writers to ensure that the  method is invoked in all cases
p10915
as(dp10916
g16
V29407
p10917
stp10918
a((dp10919
g2
(lp10920
V is somehow deprecated
p10921
aVUse  instead
p10922
aVAlso make sure the DOM is fully loaded before trying to manipulate its elements (window
p10923
aVonload)
p10924
as(dp10925
g16
V29407
p10926
stp10927
a((dp10928
g2
(lp10929
VActually  in hex equals  in decimal
p10930
aVYou may have the position of the width/height properties wrong
p10931
as(dp10932
g16
V29407
p10933
stp10934
a((dp10935
g2
(lp10936
VIf you are handling the pasting programatically don't use the Paste method
p10937
aVInstead use Clipboard
p10938
aVGetDataObject()
p10939
aVGetData(DataFormats
p10940
aVText) to get the text in a string and then add the text using the Rtf or Text property to the RichTextBox:
p10941
aVOtherwise you could handle the Ctrl+V key press:
p10942
as(dp10943
g16
V29407
p10944
stp10945
a((dp10946
g2
(lp10947
VI think that it depends on the context
p10948
aVIn a loop where the variable will be used to index an array you should use short letters such as , but in your case  is better as it is clearer
p10949
as(dp10950
g16
V29407
p10951
stp10952
a((dp10953
g2
(lp10954
VThis cannot be accomplished using pure scripting technology
p10955
aVOne way to achieve it is to write a server side script on  that will serve as a bridge to the other domain and perform the ajax call to
p10956
aVIn case you have control over the other domain you could also use JSONP which doesn't rely on XHR but instead it includes a  tag into the DOM and thus is limited to GET requests only
p10957
as(dp10958
g16
V29407
p10959
stp10960
a((dp10961
g2
(lp10962
VWhen you register the  extension with  in IIS you need to enable the  verb:
p10963
as(dp10964
g16
V29407
p10965
stp10966
a((dp10967
g2
(lp10968
VASMX web services use SOAP and the content type will always be  and the content represent
p10969
aVEven if you return a  from your method this array will be base64 encoded into the soap body
p10970
as(dp10971
g16
V29407
p10972
stp10973
a((dp10974
g2
(lp10975
VAdd the following route:
p10976
as(dp10977
g16
V29407
p10978
stp10979
a((dp10980
g2
(lp10981
VYou could use the RegisterStartupScript method in the callback that is called by the update panel:
p10982
as(dp10983
g16
V29407
p10984
stp10985
a((dp10986
g2
(lp10987
Vwhere  is an instance of the client class generated when importing the WSDL
p10988
aVOr you can specify the address when creating the client proxy:
p10989
as(dp10990
g16
V29407
p10991
stp10992
a((dp10993
g2
(lp10994
VA required condition to shutdown the server is that the account your site is running under must have administrative privileges:
p10995
aVYou could also use WMI
p10996
aVThis is the easy part
p10997
aVAs for the SMS, maybe someone else will provide more info
p10998
as(dp10999
g16
V29407
p11000
stp11001
a((dp11002
g2
(lp11003
VYou have two click events bound to the anchor tag
p11004
aVThe first event shows the confirm and the second submits the form
p11005
aVTrigger the form submission only if the user confirmed:
p11006
as(dp11007
g16
V29407
p11008
stp11009
a((dp11010
g2
(lp11011
VTry this:
p11012
as(dp11013
g16
V29407
p11014
stp11015
a((dp11016
g2
(lp11017
VIMHO there's no big gain of setting properties with fluent interface, especially with C# 3
p11018
aV0 class initializers
p11019
aVFluent interfaces become more interesting when you start chaining methods and operations
p11020
as(dp11021
g16
V29407
p11022
stp11023
a((dp11024
g2
(lp11025
VThis is not possible because in
p11026
aVNET attributes may contain only constant expressions
p11027
aVYou could use a before compile step that modifies the file and inserts current year
p11028
as(dp11029
g16
V29407
p11030
stp11031
a((dp11032
g2
(lp11033
VYou may take a look at this article
p11034
as(dp11035
g16
V29407
p11036
stp11037
a((dp11038
g2
(lp11039
VIf you set  (or  and browser has cookies disabled) in your  file, authentication information is appended to the URL and this url will be valid across other browsers
p11040
aVIf you use cookies to identify users, then only the current browser will have the user authenticated
p11041
as(dp11042
g16
V29407
p11043
stp11044
a((dp11045
g2
(lp11046
VMaybe you have  in your  folder
p11047
aVCheck the assembly location:
p11048
as(dp11049
g16
V29407
p11050
stp11051
a((dp11052
g2
(lp11053
VHere are a few remarks about your code:
p11054
aVand  are callback functions, they should be defined like this:
p11055
aVASMX web services use  by default unless you decorate them with ScriptServiceAttribute in which case  could be used to invoke a method
p11056
aVIt is not clear from your code if the web service is decorated with this attribute
p11057
aVWhen you pass parameters, you need to encode them, use  instead of concatenating strings:
p11058
aVUse FireBug to inspect network AJAX requests and server responses and post them on StackOverflow to facilitate debugging
p11059
as(dp11060
g16
V29407
p11061
stp11062
a((dp11063
g2
(lp11064
VThe  tag expects a HQL query:
p11065
aVIf you want to write a native sql query you should use the  tag:
p11066
as(dp11067
g16
V29407
p11068
stp11069
a((dp11070
g2
(lp11071
VYou may take a look at this article
p11072
aVYou could use the new  extension method in your view which allows you to serialize entire objects and encrypt it:
p11073
aVWhich serializes the Model into a hidden field and encrypts the value
p11074
aVTo get the model back you use the  in the controller action to which the form is submitted:
p11075
as(dp11076
g16
V29407
p11077
stp11078
a((dp11079
g2
(lp11080
VTry removing the  line
p11081
as(dp11082
g16
V29407
p11083
stp11084
a((dp11085
g2
(lp11086
VWhen creating the cookie you need to explicitly set the domain:
p11087
aVThis way the browser will send the cookie along each request to
p11088
as(dp11089
g16
V29407
p11090
stp11091
a((dp11092
g2
(lp11093
VIf you are using jQuery you you may take a look at the jCrop plugin
p11094
as(dp11095
g16
V29407
p11096
stp11097
a((dp11098
g2
(lp11099
VIt is impossible to learn all APIs
p11100
aVWhat is important is to learn where to look for samples and documentation
p11101
as(dp11102
g16
V29407
p11103
stp11104
a((dp11105
g2
(lp11106
s(dp11107
g16
V29407
p11108
stp11109
a((dp11110
g2
(lp11111
VThere's an article on CodeProject explaining it step by step and also this post
p11112
as(dp11113
g16
V29407
p11114
stp11115
a((dp11116
g2
(lp11117
VLet me offer you a slightly different approach
p11118
aVRepresent the board as an array of 12 integers
p11119
aVFill the first half of this array with one's and the second half with two's
p11120
aVShuffle the array
p11121
aVLoop through the array and update the DOM elements by converting the array index to the corresponding row and column in the matrix
p11122
as(dp11123
g16
V29407
p11124
stp11125
a((dp11126
g2
(lp11127
VYou can manipulate the DOM of a document loaded inside WebBrowser control by obtaining a reference to an HtmlElement:
p11128
as(dp11129
g16
V29407
p11130
stp11131
a((dp11132
g2
(lp11133
VUPDATE:
p11134
as(dp11135
g16
V29407
p11136
stp11137
a((dp11138
g2
(lp11139
VIIS Directory Browsing:
p11140
as(dp11141
g16
V29407
p11142
stp11143
a((dp11144
g2
(lp11145
VYou could use a WebBrowser control
p11146
aVHere's a sample post
p11147
as(dp11148
g16
V29407
p11149
stp11150
a((dp11151
g2
(lp11152
VYou could extend the Array prototype with a custom method:
p11153
as(dp11154
g16
V29407
p11155
stp11156
a((dp11157
g2
(lp11158
VMake sure that the  mapping file is embedded as a resource in the assembly
p11159
as(dp11160
g16
V29407
p11161
stp11162
a((dp11163
g2
(lp11164
VThe recommended way of connecting to MySQL in
p11165
aVNET is using ADO
p11166
aVNET connector
p11167
aVYou could download it from here
p11168
aVIt represents a
p11169
aVNET assembly that you need to reference in your application
p11170
aVAnd here's a sample code:
p11171
as(dp11172
g16
V29407
p11173
stp11174
a((dp11175
g2
(lp11176
VYou could try this format: , but I think there's no single format string that could support both inputs
p11177
aVYou could test if the length of your  string is less than 10 characters use , otherwise
p11178
as(dp11179
g16
V29407
p11180
stp11181
a((dp11182
g2
(lp11183
VNot that I am aware of
p11184
aVYou could look at the specification for allowed characters and implement it
p11185
aVNote that this might me more difficult because you need to make sure that the identifier is unique within the HTML document
p11186
as(dp11187
g16
V29407
p11188
stp11189
a((dp11190
g2
(lp11191
s(dp11192
g16
V29407
p11193
stp11194
a((dp11195
g2
(lp11196
VASP
p11197
aVNET Globalization and Localization
p11198
as(dp11199
g16
V29407
p11200
stp11201
a((dp11202
g2
(lp11203
VYou need to download an ADO
p11204
aVNET driver for Oracle
p11205
aVHere's a step by step guide
p11206
as(dp11207
g16
V29407
p11208
stp11209
a((dp11210
g2
(lp11211
VStart a single thread that will do the job of sending all mails:
p11212
as(dp11213
g16
V29407
p11214
stp11215
a((dp11216
g2
(lp11217
s(dp11218
g16
V29407
p11219
stp11220
a((dp11221
g2
(lp11222
VASMX web services use SOAP
p11223
aVSOAP requests use only POST to invoke methods
p11224
aVYou will need to generate a proxy client in your aspx page to invoke the web service
p11225
aVIf you really need to use GET verbs to invoke web services you might need to use a different approach such as WCF REST
p11226
as(dp11227
g16
V29407
p11228
stp11229
a((dp11230
g2
(lp11231
VYou could store employee information into a javascript object:
p11232
aVNext you bind to the change event of the select box:
p11233
as(dp11234
g16
V29407
p11235
stp11236
a((dp11237
g2
(lp11238
s(dp11239
g16
V29407
p11240
stp11241
a((dp11242
g2
(lp11243
VAccording to the documentation you could define a callback function which will be called once the animation ends:
p11244
aVanimate( params, [duration], [easing],
p11245
aV[callback] )
p11246
as(dp11247
g16
V29407
p11248
stp11249
a((dp11250
g2
(lp11251
VJust update the control inside the update panel that needs to be refreshed
p11252
aVTake a look at this example
p11253
as(dp11254
g16
V29407
p11255
stp11256
a((dp11257
g2
(lp11258
VA 3-tier architecture usually has the following components:
p11259
aVClient Browser
p11260
aVWeb server hosting the ASP
p11261
aVNET application
p11262
aVSome backend storage such as database that is being accessed by the ASP
p11263
aVNET application
p11264
aVSo to answer your question on how to write code for a 3-tier architecture, you develop an ASP
p11265
aVNET application that communicates with a data storage
p11266
as(dp11267
g16
V29407
p11268
stp11269
a((dp11270
g2
(lp11271
s(dp11272
g16
V29407
p11273
stp11274
a((dp11275
g2
(lp11276
VIf you want to get exact reason and location of error and if you want to perform extensive javascript debugging I would recommend you using FireBug
p11277
as(dp11278
g16
V29407
p11279
stp11280
a((dp11281
g2
(lp11282
VYou need to configure it in the properties of the virtual directory hosting the ASP
p11283
aVNET application
p11284
aVPut  before
p11285
as(dp11286
g16
V29407
p11287
stp11288
a((dp11289
g2
(lp11290
VTake the absolute value:
p11291
as(dp11292
g16
V29407
p11293
stp11294
a((dp11295
g2
(lp11296
VThe key methods here are ToByteArray and this particular constructor
p11297
aVEncode:
p11298
aVDecode:
p11299
as(dp11300
g16
V29407
p11301
stp11302
a((dp11303
g2
(lp11304
VLook at the TryParseExact method
p11305
as(dp11306
g16
V29407
p11307
stp11308
a((dp11309
g2
(lp11310
VFunction overloading allows more than one function to be defined with the same name in the same class, as long as the arguments are different
p11311
aVNot to be confused with function overriding where functions have the same number, type of arguments its the implementations in the derived classes that differs
p11312
as(dp11313
g16
V29407
p11314
stp11315
a((dp11316
g2
(lp11317
VI am not sure what you mean by client machine, because you can only get the MAC address of a NIC of the machine your application executes under
p11318
aVFor this you could use ManagementClass:
p11319
aVC#:
p11320
aVVB
p11321
aVNET:
p11322
as(dp11323
g16
V29407
p11324
stp11325
a((dp11326
g2
(lp11327
VYou can try implementing IEqualityComparer and then pass an instance of it to the proper constructor
p11328
as(dp11329
g16
V29407
p11330
stp11331
a((dp11332
g2
(lp11333
Va ViewContext is not available within the action method because it is constructed later before rendering the view
p11334
aVI would suggest you using MVCContrib's BlockRenderer to render the contents of a partial view into a string
p11335
as(dp11336
g16
V29407
p11337
stp11338
a((dp11339
g2
(lp11340
VThe helper will first look for POSTed values and use them
p11341
aVAs you are posting the form it will pick up the old value of the ID
p11342
aVYour workaround is correct
p11343
as(dp11344
g16
V29407
p11345
stp11346
a((dp11347
g2
(lp11348
s(dp11349
g16
V29407
p11350
stp11351
a((dp11352
g2
(lp11353
VYou need to pass the  as a callback not invoke it :
p11354
as(dp11355
g16
V29407
p11356
stp11357
a((dp11358
g2
(lp11359
VTry
p11360
as(dp11361
g16
V29407
p11362
stp11363
a((dp11364
g2
(lp11365
VJSONP simply adds a  tag to the  section and thus is limited only to GET requests
p11366
aVIn order to configure your asmx web service to handle JSONP you will need to handle serialization manually:
p11367
aVAnd the client side:
p11368
aVAnother alternative for cross domain AJAX calls is to use Flash
p11369
as(dp11370
g16
V29407
p11371
stp11372
a((dp11373
g2
(lp11374
VTry this:
p11375
as(dp11376
g16
V29407
p11377
stp11378
a((dp11379
g2
(lp11380
VTry this:
p11381
as(dp11382
g16
V29407
p11383
stp11384
a((dp11385
g2
(lp11386
VTake a look at this article (first result of search string asp
p11387
aVnet captcha)
p11388
as(dp11389
g16
V29407
p11390
stp11391
a((dp11392
g2
(lp11393
VIf you need to set the property from outside  then maybe it would be better to put the setter into the base class
p11394
as(dp11395
g16
V29407
p11396
stp11397
a((dp11398
g2
(lp11399
VYou could use the Frames property:
p11400
as(dp11401
g16
V29407
p11402
stp11403
a((dp11404
g2
(lp11405
VBecause jQuery knows nothing about
p11406
aVIt looks in the HTML structure where you have
p11407
aVSo there's no input with
p11408
aVThere are a few ways to overcome this:
p11409
aVUse a css selector:
p11410
aVwith the following selector:
p11411
aVis not an available class on the  class (and it doesn't have an  collection, so you can't add it manually)
p11412
aVUse  property:
p11413
aVWrap the hidden field in something you can select:
p11414
aV
p11415
as(dp11416
g16
V29407
p11417
stp11418
a((dp11419
g2
(lp11420
VSupposing that you want to invoke the following method:
p11421
aVYou need to construct the correct SOAP envelope:
p11422
aVAnd parse the resulting XML
p11423
as(dp11424
g16
V29407
p11425
stp11426
a((dp11427
g2
(lp11428
VI would recommend you writing a WCF service contract interface and implementation into a separate assembly and used directly by the clients
p11429
aVIf at some later stage you decide that you need interoperability you could always expose the assembly as a WCF service with a slight impact on the client side
p11430
as(dp11431
g16
V29407
p11432
stp11433
a((dp11434
g2
(lp11435
VYou need to return  from the click handler or the page might get redirected:
p11436
aVAlso don't forget to include jQuery in the  section:
p11437
as(dp11438
g16
V29407
p11439
stp11440
a((dp11441
g2
(lp11442
V and  attributes are not W3C
p11443
aVThey are specifically designed for IE to handle ActiveX
p11444
aVYou may take a look at this article
p11445
as(dp11446
g16
V29407
p11447
stp11448
a((dp11449
g2
(lp11450
VTry granting full access permissions to the ASP
p11451
aVNET account (Network Service) for the %TEMP% folder (c:\u005cwindows\u005ctemp)
p11452
as(dp11453
g16
V29407
p11454
stp11455
a((dp11456
g2
(lp11457
VTake a look at the Form plugin:
p11458
as(dp11459
g16
V29407
p11460
stp11461
a((dp11462
g2
(lp11463
VI see that you are using jQuery
p11464
aVYou could bind to the  event of the textbox:
p11465
aVThis event will be raised when the input loses focus
p11466
aVYou could also take a look at  and  events
p11467
as(dp11468
g16
V29407
p11469
stp11470
a((dp11471
g2
(lp11472
VTry this:
p11473
as(dp11474
g16
V29407
p11475
stp11476
a((dp11477
g2
(lp11478
VCan't you just wrap the image with an anchor
p11479
aVA html helper method extension might be useful here to generate previous markup
p11480
as(dp11481
g16
V29407
p11482
stp11483
a((dp11484
g2
(lp11485
VTake a look at this thread: Print ZPL codes to ZEBRA printer using PrintDocument class
p11486
aVSpecifically the OP pick this function from the answers to the thread:
p11487
as(dp11488
g16
V29407
p11489
stp11490
a((dp11491
g2
(lp11492
VYou could use  and  callbacks:
p11493
as(dp11494
g16
V29407
p11495
stp11496
a((dp11497
g2
(lp11498
VYou are setting the content type to  but you are sending HTML contents in the response stream when you call the  method
p11499
aVYou might need a library to generate Excel files
p11500
as(dp11501
g16
V29407
p11502
stp11503
a((dp11504
g2
(lp11505
VRun the application with Ctrl+F5 instead of F5 (Debug mode)
p11506
aVYou will see a difference:
p11507
aVPrints 880 ms on my PC
p11508
as(dp11509
g16
V29407
p11510
stp11511
a((dp11512
g2
(lp11513
VYes, when you need to use the data immediately after being fetched
p11514
as(dp11515
g16
V29407
p11516
stp11517
a((dp11518
g2
(lp11519
VComparing two  instances in
p11520
aVNET always works
p11521
aVThe problem lies when you set , maybe you are parsing it from a string
p11522
as(dp11523
g16
V29407
p11524
stp11525
a((dp11526
g2
(lp11527
s(dp11528
g16
V29407
p11529
stp11530
a((dp11531
g2
(lp11532
VThere are no arguments to the constructor so you should not load arguments on the stack :
p11533
as(dp11534
g16
V29407
p11535
stp11536
a((dp11537
g2
(lp11538
VIs equivalent to:
p11539
as(dp11540
g16
V29407
p11541
stp11542
a((dp11543
g2
(lp11544
VYou could write an action filter attribute and decorate your controller with it:
p11545
aVAnd then decorate the controller with this attribute:
p11546
aVThis will ensure that  will be set on all action belonging to this controller
p11547
as(dp11548
g16
V29407
p11549
stp11550
a((dp11551
g2
(lp11552
VTake a look at this article
p11553
aVIt shows symmetric encryption/decryption methods
p11554
as(dp11555
g16
V29407
p11556
stp11557
a((dp11558
g2
(lp11559
VYou could make your object implement the ICloneable interface using the MemberwiseClone method and then:
p11560
aVUPDATE:
p11561
aVAs pointed out in the comments section it is not recommended to implement the  interface as it does not specify if it will perform a shallow or deep clone
p11562
aVJust add a  method to your class
p11563
as(dp11564
g16
V29407
p11565
stp11566
a((dp11567
g2
(lp11568
VUPDATE:
p11569
aVTo fetch the second argument made on the first call of the  method on :
p11570
as(dp11571
g16
V29407
p11572
stp11573
a((dp11574
g2
(lp11575
VIf you are talking about this DataContractSerializer then the following code will compile fine:
p11576
aVAs the constructor expects a type parameter
p11577
as(dp11578
g16
V29407
p11579
stp11580
a((dp11581
g2
(lp11582
VThere's no configuration necessary
p11583
aVbasicHttpBinding already uses UTF-8 text encoding by default
p11584
as(dp11585
g16
V29407
p11586
stp11587
a((dp11588
g2
(lp11589
VCountry codes
p11590
as(dp11591
g16
V29407
p11592
stp11593
a((dp11594
g2
(lp11595
VInformation such as  is not part of the WSDL, so the client cannot infer it and just takes default values
p11596
as(dp11597
g16
V29407
p11598
stp11599
a((dp11600
g2
(lp11601
VYou could try setting
p11602
as(dp11603
g16
V29407
p11604
stp11605
a((dp11606
g2
(lp11607
VIt is not a limitation of the database but rather  which is just a wrapper for Acrobat Reader which does not support loading pdfs from memory
p11608
as(dp11609
g16
V29407
p11610
stp11611
a((dp11612
g2
(lp11613
VI would definitely replace:
p11614
aVwith:
p11615
as(dp11616
g16
V29407
p11617
stp11618
a((dp11619
g2
(lp11620
VIs not a valid XML response
p11621
as(dp11622
g16
V29407
p11623
stp11624
a((dp11625
g2
(lp11626
VIt is used to indicate if a single instance of the IHttpHandler will be used to process multiple concurrent requests
p11627
aVSo if you set it to  it will improve performance but you must make sure that your code is thread safe because the  method might be invoked from multiple threads at the same time
p11628
as(dp11629
g16
V29407
p11630
stp11631
a((dp11632
g2
(lp11633
s(dp11634
g16
V29407
p11635
stp11636
a((dp11637
g2
(lp11638
VSure:
p11639
as(dp11640
g16
V29407
p11641
stp11642
a((dp11643
g2
(lp11644
VJavascript is not executed from content loaded by ajax an call
p11645
aVIn order to make this work you will need to externalize javascript that needs to be executed into a separate function which you will invoke in the success callback
p11646
aVUPDATE:
p11647
aVTo execute the function on dropdown change you could do the following:
p11648
as(dp11649
g16
V29407
p11650
stp11651
a((dp11652
g2
(lp11653
VYou can't
p11654
aVUse ActionNameAttribute
p11655
as(dp11656
g16
V29407
p11657
stp11658
a((dp11659
g2
(lp11660
VWhy not use a strongly typed dictionary:
p11661
as(dp11662
g16
V29407
p11663
stp11664
a((dp11665
g2
(lp11666
VYou need to first check-out the file, modify it locally and check-in
p11667
as(dp11668
g16
V29407
p11669
stp11670
a((dp11671
g2
(lp11672
VYou should use different  instances for the insert and select methods
p11673
aVIt's best if these sessions are in a  block so that they are properly disposed of and inside a database transaction:
p11674
as(dp11675
g16
V29407
p11676
stp11677
a((dp11678
g2
(lp11679
VAs the value of  is always assigned in the constructor you don't need setting it to
p11680
as(dp11681
g16
V29407
p11682
stp11683
a((dp11684
g2
(lp11685
VVery ugly, anti-MVC, don't do in business layer, etc
p11686
aVbut since you are asking:
p11687
as(dp11688
g16
V29407
p11689
stp11690
a((dp11691
g2
(lp11692
VIf you want to  to be rendered you could
p11693
as(dp11694
g16
V29407
p11695
stp11696
a((dp11697
g2
(lp11698
s(dp11699
g16
V29407
p11700
stp11701
a((dp11702
g2
(lp11703
VIf you want to check if a string is contained in a list of strings you could use the  extension method:
p11704
as(dp11705
g16
V29407
p11706
stp11707
a((dp11708
g2
(lp11709
VYou could take a look at the WebClient class
p11710
aVIt allows you to post data to an arbitrary url:
p11711
aVWill generate the following request:
p11712
as(dp11713
g16
V29407
p11714
stp11715
a((dp11716
g2
(lp11717
VI am not sure if this is achievable with , but inside  you could get the caller and act accordingly:
p11718
as(dp11719
g16
V29407
p11720
stp11721
a((dp11722
g2
(lp11723
VIn FireFox you can extend the  setter:
p11724
as(dp11725
g16
V29407
p11726
stp11727
a((dp11728
g2
(lp11729
VIn WCF, there is the OperationContext object from which you can retrieve the security credentials passed in by the caller/client by using the ServiceSecurityContext property
p11730
as(dp11731
g16
V29407
p11732
stp11733
a((dp11734
g2
(lp11735
VTo return plain text to the view:
p11736
aVOr use JSON alternatively:
p11737
aVUPDATE:
p11738
aVjQuery will automatically detect that the server is sending JSON response and it will pass to the  callback an object that will contain the serialized properties:
p11739
as(dp11740
g16
V29407
p11741
stp11742
a((dp11743
g2
(lp11744
VYou need to specify the split character as second argument to the  function:
p11745
as(dp11746
g16
V29407
p11747
stp11748
a((dp11749
g2
(lp11750
VYou could do this using the Select extension method:
p11751
as(dp11752
g16
V29407
p11753
stp11754
a((dp11755
g2
(lp11756
V is a reserved word and might have special meaning depending on the context
p11757
aVTry naming your variable differently:
p11758
as(dp11759
g16
V29407
p11760
stp11761
a((dp11762
g2
(lp11763
VPosting XML without javascript or browser plugins is impossible
p11764
aVThe two possible formats of posting html forms are  and
p11765
as(dp11766
g16
V29407
p11767
stp11768
a((dp11769
g2
(lp11770
VThere's a difference between an  dictionary and
p11771
aVCalling  on an empty collection won't result in a NullReferenceException
p11772
aVI guess in your case you could test if reportGraphs
p11773
aV= null
p11774
as(dp11775
g16
V29407
p11776
stp11777
a((dp11778
g2
(lp11779
VThere's a GetTable(Type) extension method which does exactly what you are looking for:
p11780
as(dp11781
g16
V29407
p11782
stp11783
a((dp11784
g2
(lp11785
VYou need to specify route values:
p11786
aVWill generate:
p11787
aVYou could also specify a default value when declaring the route:
p11788
as(dp11789
g16
V29407
p11790
stp11791
a((dp11792
g2
(lp11793
VIn the LoggedIn event check the roles of the user and use the DestinationPageUrl property of the Login control to redirect to the proper page
p11794
as(dp11795
g16
V29407
p11796
stp11797
a((dp11798
g2
(lp11799
VIn your php file make sure to set the correct content type:
p11800
aVso that jquery can correctly  the response into a json object
p11801
as(dp11802
g16
V29407
p11803
stp11804
a((dp11805
g2
(lp11806
VPlease don't write spaghetti code
p11807
aVHtml helpers are there for this purpose:
p11808
aVAnd then:
p11809
aVOr maybe you could come up with something even better (if the model contains the options):
p11810
aVYou will also get the bonus of having more unit testable code
p11811
as(dp11812
g16
V29407
p11813
stp11814
a((dp11815
g2
(lp11816
VA client cannot access directly from the  object
p11817
aVThe server will need to send data to the client (the way to do this will depend entirely on your scenario)
p11818
aVThe  is the same as a static dictionary only that it is thread safe
p11819
as(dp11820
g16
V29407
p11821
stp11822
a((dp11823
g2
(lp11824
VBy definition every native function can be p/invoked from managed code
p11825
aVBut in order to be p/invoke friendly a function should have as few parameters as possible which should be of native types (int, char*, float,
p11826
aVAlso if a function allocates memory on some pointer that is returned to managed code, make sure you write its counter part that will free the pointer as managed code cannot free memory allocated from unmanaged code
p11827
as(dp11828
g16
V29407
p11829
stp11830
a((dp11831
g2
(lp11832
VYou need to explicitly set the value
p11833
aVExample for username:
p11834
as(dp11835
g16
V29407
p11836
stp11837
a((dp11838
g2
(lp11839
VIn your  method you have a wrong loop range:
p11840
aVShould become:
p11841
aVCheckout the related wikipedia article which says:
p11842
aVNotice:
p11843
as(dp11844
g16
V29407
p11845
stp11846
a((dp11847
g2
(lp11848
VIf your site is running in a web farm this might be related to having different machine keys
p11849
aVFor example if one server is used to encode the viewstate then another server won't be able to decode it if it does not have the same machine key
p11850
aVCheckout this article
p11851
aVEven if you don't have multiple servers try specifying fixed machine keys
p11852
as(dp11853
g16
V29407
p11854
stp11855
a((dp11856
g2
(lp11857
VIf you want to render a view into a string you might find this article useful
p11858
as(dp11859
g16
V29407
p11860
stp11861
a((dp11862
g2
(lp11863
VYou could use DotFuscator
p11864
as(dp11865
g16
V29407
p11866
stp11867
a((dp11868
g2
(lp11869
VTo get the current address in javascript you could use  and test if it contains a given string:
p11870
as(dp11871
g16
V29407
p11872
stp11873
a((dp11874
g2
(lp11875
VIn order to set the window size you need to use window
p11876
aVopen method
p11877
aVInstead of using  on the anchor you could subscribe to the  event and call
p11878
as(dp11879
g16
V29407
p11880
stp11881
a((dp11882
g2
(lp11883
VYou need to create the table structures before sending any requests
p11884
aVOne way of doing is to use
p11885
aVYou may take a look at this example
p11886
aVAnother way is to do it manually i
p11887
ag3813
aVOf course the advantage of  is that if you modify your mappings it will automatically reflect on the generated database schema
p11888
as(dp11889
g16
V29407
p11890
stp11891
a((dp11892
g2
(lp11893
VFrom MSDN:
p11894
aVApp_WebReferences folder   Contains
p11895
aVfiles used to create a reference to a
p11896
aVWeb service (in the same project or
p11897
aVexternal to the project), including
p11898
aVdisco and
p11899
aVwsdl files
p11900
aVThere's no special folder in ASP
p11901
aVNET called
p11902
aVAs far as dynamic compilation is concerned you may take a look at this article which explains it very good
p11903
as(dp11904
g16
V29407
p11905
stp11906
a((dp11907
g2
(lp11908
VYou start by generating a service reference from the metadata: Right click on the project -> Add Service Reference and point to the WSDL url: https://www
p11909
aVsandbox
p11910
aVpaypal
p11911
aVcom/wsdl/PayPalSvc
p11912
aVwsdl
p11913
aVThis will generate proxy classes to the current project which could be used to send requests:
p11914
as(dp11915
g16
V29407
p11916
stp11917
a((dp11918
g2
(lp11919
VI suppose your PDB files are not in phase and you have differences in what's really executed and what Visual Studio sees as a line number
p11920
aVTry rebuilding
p11921
aVWe all know that it is impossible to have , or the world as we know it may change :-)
p11922
as(dp11923
g16
V29407
p11924
stp11925
a((dp11926
g2
(lp11927
VInstead of doing screen scraping and making your life of programmer hard, you could use the Flickr API
p11928
aVYou might also find this blog post helpful
p11929
as(dp11930
g16
V29407
p11931
stp11932
a((dp11933
g2
(lp11934
VHere's an example for reading data in chunks:
p11935
as(dp11936
g16
V29407
p11937
stp11938
a((dp11939
g2
(lp11940
s(dp11941
g16
V29407
p11942
stp11943
a((dp11944
g2
(lp11945
VThis error indicates that you are trying to insert values in a column in a table greater than the max length of the column
p11946
aVFor example you have specified max length for a column as 20 and the string you are trying to insert is greater than 20 characters
p11947
as(dp11948
g16
V29407
p11949
stp11950
a((dp11951
g2
(lp11952
VBecause enums are stored by default as integers and when the compiler tries to resolve the best method overload it decides that  is a better match
p11953
as(dp11954
g16
V29407
p11955
stp11956
a((dp11957
g2
(lp11958
s(dp11959
g16
V29407
p11960
stp11961
a((dp11962
g2
(lp11963
s(dp11964
g16
V29407
p11965
stp11966
a((dp11967
g2
(lp11968
VThe compiler cannot possibly know that a field is set only in the constructor
p11969
aVImagine for example using reflection in some method where the name of the field is read from a database
p11970
aVYou need to explicitly specify the  keyword if you want the field to be immutable
p11971
as(dp11972
g16
V29407
p11973
stp11974
a((dp11975
g2
(lp11976
VGeneric arguments can be specified either at the class name definition or at a method name definition
p11977
as(dp11978
g16
V29407
p11979
stp11980
a((dp11981
g2
(lp11982
VMake sure you put this route before the default route
p11983
aVYou could also use regular expressions to restrict possible parameter values:
p11984
aVRemark: In your example you are using  while there is no  parameter defined in the route
p11985
as(dp11986
g16
V29407
p11987
stp11988
a((dp11989
g2
(lp11990
VTo really understand the internals of the HTTP protocol you could use TcpClient class:
p11991
aVAnother possibility is to activate tracing by putting the following into your  and just use WebClient to perform an HTTP request:
p11992
aVThen you can perform an HTTP call:
p11993
aVAnd finally analyze the network traffic in the generated  file
p11994
aVwill also follow HTTP redirects
p11995
as(dp11996
g16
V29407
p11997
stp11998
a((dp11999
g2
(lp12000
VYou need to add the  verb to the  extension in IIS:
p12001
as(dp12002
g16
V29407
p12003
stp12004
a((dp12005
g2
(lp12006
VThe second
p12007
aVIf you don't need thread safety today don't do it
p12008
aVExpose the  property so that in future the method could be turned thread-safe
p12009
aVBut make sure to clearly state in the documentation that the method is not thread-safe
p12010
as(dp12011
g16
V29407
p12012
stp12013
a((dp12014
g2
(lp12015
VYou could use ILMerge to merge all assemblies into a single executable
p12016
aVBut you still need the framework runtime installed
p12017
aVTo turn your executable into a native executable you may take a look at this question
p12018
as(dp12019
g16
V29407
p12020
stp12021
a((dp12022
g2
(lp12023
VYou could shorten your code a bit:
p12024
aVAlso the  method accepts a relative or virtual path and converts it to the corresponding physical path on the server
p12025
aVis non of the above
p12026
aVIt probably should be:
p12027
as(dp12028
g16
V29407
p12029
stp12030
a((dp12031
g2
(lp12032
VWhy bothering to read the file as a byte sequence and then converting it to string while it is an xml file
p12033
aVJust leave the framework do the loading for you and cope with the encodings:
p12034
as(dp12035
g16
V29407
p12036
stp12037
a((dp12038
g2
(lp12039
VDynamic controls should be created in the  event
p12040
aVRead about ASP
p12041
aVNET page lifecycle
p12042
as(dp12043
g16
V29407
p12044
stp12045
a((dp12046
g2
(lp12047
VThe only reliable way is to actually invoke the method and retry if it fails
p12048
aVNo matter what preliminary checks you do the service could report that it is running and go offline at the moment you call it
p12049
as(dp12050
g16
V29407
p12051
stp12052
a((dp12053
g2
(lp12054
VWhy it doesn't work in the second
p12055
aVcase
p12056
aVAutoCompleteExtender uses AJAX to fetch data
p12057
aVCross domain AJAX requests are not allowed
p12058
aVYour web service is hosted on  and your web application is hosted on  where  is different than 4227
p12059
aVMore info on Same origin policy
p12060
as(dp12061
g16
V29407
p12062
stp12063
a((dp12064
g2
(lp12065
VYou may take a look at this article
p12066
aVIt's based on the excellent iTextSharp library
p12067
as(dp12068
g16
V29407
p12069
stp12070
a((dp12071
g2
(lp12072
VYes, if the application has lots of javascript functionality you may take benefit of the numerous plugins
p12073
aVNo, jQuery has a compatibility mode
p12074
aVjQuery
p12075
aVready event fires only when you reload the page and the DOM is ready for manipulation
p12076
aVFor asynchronous postbacks of UpdatePanels use:
p12077
as(dp12078
g16
V29407
p12079
stp12080
a((dp12081
g2
(lp12082
VNo, there's no easier way
p12083
aVDon't make a list of dangerous characters
p12084
aVJust use command with parameters
p12085
as(dp12086
g16
V29407
p12087
stp12088
a((dp12089
g2
(lp12090
VCompile-time safety and refactoring (renaming classes, properties) are one of the benefits you get from fluent mappings
p12091
aVUsing one language (C# or VB
p12092
aVNET) to write mappings, program code and data access is another benefit
p12093
as(dp12094
g16
V29407
p12095
stp12096
a((dp12097
g2
(lp12098
VYou could use the grep function to find if there are any elements that satisfy the condition:
p12099
as(dp12100
g16
V29407
p12101
stp12102
a((dp12103
g2
(lp12104
VYou may put all the labels into an array:
p12105
aVAnd then use array indexer:
p12106
as(dp12107
g16
V29407
p12108
stp12109
a((dp12110
g2
(lp12111
s(dp12112
g16
V29407
p12113
stp12114
a((dp12115
g2
(lp12116
VBecause you call the alert before the variable is actually set
p12117
aVRemember that you are performing an asynchronous query when you call
p12118
aVTry this instead:
p12119
as(dp12120
g16
V29407
p12121
stp12122
a((dp12123
g2
(lp12124
VOn IIS 6 you may need to register a mapping in order to associate the ASP
p12125
aVNET ISAPI module with an extension or if you would like to have extensionless URLs you may take a look at this article
p12126
as(dp12127
g16
V29407
p12128
stp12129
a((dp12130
g2
(lp12131
VIn order to set the cookie you use the FormsAuthentication
p12132
aVFormsCookieName property while when you read it you use the  variable
p12133
aVAre you sure that both point to the same cookie
p12134
aVAlso verify with FireBug that the value in the cookie is the same as the one you see when you debug
p12135
as(dp12136
g16
V29407
p12137
stp12138
a((dp12139
g2
(lp12140
VYou may take a look at ClickOnce or Updater Application Block
p12141
as(dp12142
g16
V29407
p12143
stp12144
a((dp12145
g2
(lp12146
VYou will need a couple of other files referenced by the schema:
p12147
aVXmlSchema
p12148
aVdtd and datatypes
p12149
aVdtd
p12150
aVOnce you've downloaded them you can validate:
p12151
as(dp12152
g16
V29407
p12153
stp12154
a((dp12155
g2
(lp12156
VCleaned a bit:
p12157
as(dp12158
g16
V29407
p12159
stp12160
a((dp12161
g2
(lp12162
VUsing the width function:
p12163
aVwill turn:
p12164
aVinto:
p12165
as(dp12166
g16
V29407
p12167
stp12168
a((dp12169
g2
(lp12170
VFile
p12171
aVReadAllLines is intended for text files
p12172
aVWord files are not text files
p12173
aVTo read Word files you might need a library
p12174
as(dp12175
g16
V29407
p12176
stp12177
a((dp12178
g2
(lp12179
VAction is a pointer to a function that takes no argument and returns no value
p12180
aVIf you want your function to return some value you need to use a different delegate
p12181
aVFor example you could use Func(Of Boolean) if you want your function to return a boolean value:
p12182
as(dp12183
g16
V29407
p12184
stp12185
a((dp12186
g2
(lp12187
V$('input:radio:checked')
p12188
aVsiblings('label:first')
p12189
aVhtml()
p12190
aVUPDATE:
p12191
aVAs pointed out by Victor in the comments section the previous selector will always select the first label
p12192
aVThe next function should work:
p12193
as(dp12194
g16
V29407
p12195
stp12196
a((dp12197
g2
(lp12198
VYou call an external webservice in an ASP
p12199
aVNET MVC application the same way you call it in any
p12200
aVNET application
p12201
aVIf it is a SOAP based service you generate a proxy class using svcutil
p12202
aVexe, if the service uses some proprietary XML you may need to resort to HttpWebRequest
p12203
as(dp12204
g16
V29407
p12205
stp12206
a((dp12207
g2
(lp12208
VIn order to implement this functionality you must create a persistent cookie with some expiration date on the users computer
p12209
aVSo if the user checks the Remember me checkbox you issue the following cookie:
p12210
aVAnd then upon showing the login screen you could check if the cookie is present and prefill the username:
p12211
as(dp12212
g16
V29407
p12213
stp12214
a((dp12215
g2
(lp12216
VYou must enable ActiveX:
p12217
aVClick on Tools
p12218
aVSelect Internet Options
p12219
aVSelect Security tab
p12220
aVSelect Internet in Web content zone
p12221
aVThen, click on Custom Level
p12222
aVGo through all the ActiveX setting there, select Prompt or Enable
p12223
as(dp12224
g16
V29407
p12225
stp12226
a((dp12227
g2
(lp12228
VI don't know what you mean by discard but you may redirect the standard output:
p12229
aVWhen a Process writes text to its
p12230
aVstandard stream, that text is
p12231
aVtypically displayed on the console
p12232
aVBy
p12233
aVredirecting the StandardOutput stream,
p12234
aVyou can manipulate or suppress the
p12235
aVoutput of a process
p12236
as(dp12237
g16
V29407
p12238
stp12239
a((dp12240
g2
(lp12241
VYou could use the CreateDelegate method:
p12242
as(dp12243
g16
V29407
p12244
stp12245
a((dp12246
g2
(lp12247
VYou could use json_decode to read the passed  value
p12248
aVTake a look at this post
p12249
as(dp12250
g16
V29407
p12251
stp12252
a((dp12253
g2
(lp12254
VYou could use the FileOutputStream class:
p12255
as(dp12256
g16
V29407
p12257
stp12258
a((dp12259
g2
(lp12260
VYou need to reference the  assembly in your unit test project
p12261
as(dp12262
g16
V29407
p12263
stp12264
a((dp12265
g2
(lp12266
VYou could use a StringReader:
p12267
as(dp12268
g16
V29407
p12269
stp12270
a((dp12271
g2
(lp12272
s(dp12273
g16
V29407
p12274
stp12275
a((dp12276
g2
(lp12277
VYou could put the url in the  section of the  file:
p12278
aVAnd then read the value and in the constructor of the webservice proxy class and assign it to the Url property:
p12279
as(dp12280
g16
V29407
p12281
stp12282
a((dp12283
g2
(lp12284
s(dp12285
g16
V29407
p12286
stp12287
a((dp12288
g2
(lp12289
VIt is a good idea to commit or rollback a transaction
p12290
aVFrom MSDN:
p12291
aVBEGIN TRANSACTION starts a local
p12292
aVtransaction for the connection issuing
p12293
aVthe statement
p12294
aVDepending on the
p12295
aVcurrent transaction isolation level
p12296
aVsettings, many resources acquired to
p12297
aVsupport the Transact-SQL statements
p12298
aVissued by the connection are locked by
p12299
aVthe transaction until it is completed
p12300
aVwith either a COMMIT TRANSACTION or
p12301
aVROLLBACK TRANSACTION statement
p12302
aVTransactions left outstanding for long
p12303
aVperiods of time can prevent other
p12304
aVusers from accessing these locked
p12305
aVresources, and also can prevent log
p12306
aVtruncation
p12307
as(dp12308
g16
V29407
p12309
stp12310
a((dp12311
g2
(lp12312
VI would advice you have your generic handler serve only special/dynamic  files which could be requested like that:  and leave IIS handle normal  files
p12313
aVOnce you associate the ASP
p12314
aVNET runtime with the  extension in IIS, you will have to implement static files serving which might not be as robust as in IIS
p12315
as(dp12316
g16
V29407
p12317
stp12318
a((dp12319
g2
(lp12320
VIf you want to ignore case you could use
p12321
as(dp12322
g16
V29407
p12323
stp12324
a((dp12325
g2
(lp12326
VThe closest in the BCL is BinaryFormatter but it is not interoperable
p12327
as(dp12328
g16
V29407
p12329
stp12330
a((dp12331
g2
(lp12332
VIn C# the reference type will be automatically garbage collected when no longer needed
p12333
as(dp12334
g16
V29407
p12335
stp12336
a((dp12337
g2
(lp12338
VIn order of preference:
p12339
aVCreate another application
p12340
aVWindows service would be a good choice
p12341
aVUse
p12342
aVYour current implementation
p12343
as(dp12344
g16
V29407
p12345
stp12346
a((dp12347
g2
(lp12348
VHere's a working example I wrote for you:
p12349
as(dp12350
g16
V29407
p12351
stp12352
a((dp12353
g2
(lp12354
VIf you use Visual Studio's 2008  GUI it will not generate  and  methods
p12355
aVYou might need to directly call wsdl
p12356
aVexe (from the Visual Studio 2008 Command Prompt):
p12357
aVand include the resulting  file containing the proxy classes and the corresponding  and  methods to your project
p12358
aVNote:  might be located at
p12359
as(dp12360
g16
V29407
p12361
stp12362
a((dp12363
g2
(lp12364
VIf you are talking about pure static resources such as images, javascript, css,
p12365
aVthey are served by IIS and cached
p12366
aVIf you are talking about a static ASPX page then output caching will definitely boost performance
p12367
as(dp12368
g16
V29407
p12369
stp12370
a((dp12371
g2
(lp12372
VYou could use the Split method:
p12373
aVstring email = "test@example
p12374
aVcom";
p12375
aVstring[] tokens = email
p12376
aVSplit('@');
p12377
aVstring enailId = tokens[0];
p12378
aVstring domain = tokens[1];
p12379
aVUPDATE:
p12380
aVAfter your clarification here's how you could parse the email using a regular expression:
p12381
as(dp12382
g16
V29407
p12383
stp12384
a((dp12385
g2
(lp12386
VHere's how you could structure your projects in the solution:
p12387
aV: class library containing controllers and other logic (this could reference other assemblies)
p12388
aV: ASP
p12389
aVNET MVC web application referencing  and containing only views and static resources such as images and javascript
p12390
aV: unit tests
p12391
aVThen in the configuration properties of the solution you may uncheck the  action for the unit tests project
p12392
aVThis will decrease the time between you press Ctrl+F5 and you see your application appearing in the web browser
p12393
as(dp12394
g16
V29407
p12395
stp12396
a((dp12397
g2
(lp12398
VYou could make the  method  and then:
p12399
as(dp12400
g16
V29407
p12401
stp12402
a((dp12403
g2
(lp12404
VHere's an example of embedding a PDF with IFrame
p12405
aVYou may also take a look at this article
p12406
aVIt shows alternative methods
p12407
as(dp12408
g16
V29407
p12409
stp12410
a((dp12411
g2
(lp12412
s(dp12413
g16
V29407
p12414
stp12415
a((dp12416
g2
(lp12417
VYou may start at asp
p12418
aVnet site
p12419
as(dp12420
g16
V29407
p12421
stp12422
a((dp12423
g2
(lp12424
VUsing a StringReader seems more appropriate:
p12425
as(dp12426
g16
V29407
p12427
stp12428
a((dp12429
g2
(lp12430
VYou may take a look at the ServerCertificateValidationCallback property:
p12431
aVIt represents a callback which is called by the runtime when it tries to validate an SSL certificate
p12432
aVBy returning  you basically say that you don't care if the certificate is valid or not -> you always accept it
p12433
aVOf course having self signed certificates in production environment is not a good idea
p12434
as(dp12435
g16
V29407
p12436
stp12437
a((dp12438
g2
(lp12439
VThat's because the  first looks in the posted request values and then in the model that you update in your controller
p12440
aVIn the posted request values it finds the old value
p12441
as(dp12442
g16
V29407
p12443
stp12444
a((dp12445
g2
(lp12446
s(dp12447
g16
V29407
p12448
stp12449
a((dp12450
g2
(lp12451
VYou could use the ajax method:
p12452
as(dp12453
g16
V29407
p12454
stp12455
a((dp12456
g2
(lp12457
VHere's an example
p12458
aVAssuming you have the following action:
p12459
aVAnd the following route registered:
p12460
aVYou could test it like this:
p12461
aVSome tweaking might be necessary to include the second  argument you have
p12462
as(dp12463
g16
V29407
p12464
stp12465
a((dp12466
g2
(lp12467
VThere will always be risks
p12468
aVThe RC version is not officially supported by Microsoft, so if you go that way you will have to rely on the community (which btw is great)
p12469
aVThe other risk is that some features might change in the RTM and if you'd like to upgrade you may need to retest the whole application
p12470
aVOther than that the ASP
p12471
aVNET MVC 2 RC comes with a go-live license so you could use it in a production environment
p12472
as(dp12473
g16
V29407
p12474
stp12475
a((dp12476
g2
(lp12477
VIt is not valid to have more than one element on the page with the same ID
p12478
aVTo set value you could use the html function:
p12479
aVA more semantically correct way to achieve this is to assign the divs a class name and use a class selector:
p12480
as(dp12481
g16
V29407
p12482
stp12483
a((dp12484
g2
(lp12485
Vor:
p12486
as(dp12487
g16
V29407
p12488
stp12489
a((dp12490
g2
(lp12491
VYou could use WMI to identify to which application pool a given  process belongs:
p12492
as(dp12493
g16
V29407
p12494
stp12495
a((dp12496
g2
(lp12497
VAFAIK for security reasons you cannot manipulate the parent DOM from an IFrame hosted on a different domain
p12498
as(dp12499
g16
V29407
p12500
stp12501
a((dp12502
g2
(lp12503
VYou may try with iTextSharp
p12504
aVI've been using it for a long time and I'm satisfied with the resulting PDF size:
p12505
as(dp12506
g16
V29407
p12507
stp12508
a((dp12509
g2
(lp12510
VThis is because the browser redirects before it has any time for the AJAX request to complete
p12511
aVYou could use the provided callback to perform the redirect:
p12512
as(dp12513
g16
V29407
p12514
stp12515
a((dp12516
g2
(lp12517
VI would recommend you against using  method in an MVC application
p12518
aVIt would be better to perform redirects using standard ASP
p12519
aVNET MVC techniques
p12520
aVYou may use SetAuthCookie method:
p12521
as(dp12522
g16
V29407
p12523
stp12524
a((dp12525
g2
(lp12526
VYou can't
p12527
aVThe first letter of the AJAX acronym stands for asynchronous, meaning that AJAX requests are sent and control is returned immediately to the calling function
p12528
aVWhat you need to do is to work with the data in the callback function
p12529
as(dp12530
g16
V29407
p12531
stp12532
a((dp12533
g2
(lp12534
VAn application pool is a worker process spawned by IIS to host one or more applications
p12535
aVThe memory raise behavior you are observing could be due to various reasons such as objects that hold unmanaged resources not being disposed properly, storing large objects in the application state,
p12536
aVYou could use a profiler to find the exact cause
p12537
as(dp12538
g16
V29407
p12539
stp12540
a((dp12541
g2
(lp12542
s(dp12543
g16
V29407
p12544
stp12545
a((dp12546
g2
(lp12547
VHere's a sample function you could use to parse your second file
p12548
aVIt takes a keyword as argument and returns the associated items:
p12549
aVAnd you use it like this:
p12550
as(dp12551
g16
V29407
p12552
stp12553
a((dp12554
g2
(lp12555
VIf you have control over the instantiation of these dictionaries in your unit tests you may pass a comparer to the appropriate constructor
p12556
as(dp12557
g16
V29407
p12558
stp12559
a((dp12560
g2
(lp12561
VYou could use a property to store a reference to the  class in the  class
p12562
aVIn order to instantiate the  class you need to pass a reference to the  form
p12563
as(dp12564
g16
V29407
p12565
stp12566
a((dp12567
g2
(lp12568
s(dp12569
g16
V29407
p12570
stp12571
a((dp12572
g2
(lp12573
VCould you be more specific as to what you mean by file download
p12574
aVOpening an html web page is also a file download
p12575
aVYou could use the Navigating event, inspect the target URL and if you classify it as a file download you could set the  property
p12576
as(dp12577
g16
V29407
p12578
stp12579
a((dp12580
g2
(lp12581
VThe temporary folder:
p12582
aVIf it is an ASP
p12583
aVNET application you could also use the special App_Data folder
p12584
as(dp12585
g16
V29407
p12586
stp12587
a((dp12588
g2
(lp12589
VYou need to extract the url part:
p12590
as(dp12591
g16
V29407
p12592
stp12593
a((dp12594
g2
(lp12595
VThere are numerous ways of creating XML files in
p12596
aVNET
p12597
aVYou could use object serialization
p12598
aV, XmlWriter, XDocument,
p12599
aVHere's an example:
p12600
aVCould generate an XML file that looks like that:
p12601
as(dp12602
g16
V29407
p12603
stp12604
a((dp12605
g2
(lp12606
VWithout logging on the services side you can't have this information
p12607
aVYou may take a look at this article about logging in WCF
p12608
as(dp12609
g16
V29407
p12610
stp12611
a((dp12612
g2
(lp12613
VI don't know if it can be done with MS AJAX but I can tell you what is wrong
p12614
aVOnce you update the partial on the first ajax, this updated partial contains javascript to register ajax for the new form
p12615
aVThis javascript is not executed because there's nothing that is telling it to execute
p12616
aVYou must call a javascript function that registers ajax for the second form on the success callback of the first ajax request
p12617
as(dp12618
g16
V29407
p12619
stp12620
a((dp12621
g2
(lp12622
VHow about:
p12623
aVAnd then:
p12624
aVAnd finally to verify that CanView is set:
p12625
as(dp12626
g16
V29407
p12627
stp12628
a((dp12629
g2
(lp12630
s(dp12631
g16
V29407
p12632
stp12633
a((dp12634
g2
(lp12635
VUsing the Validation plugin you could add rules dynamically
p12636
aVHere's an example:
p12637
as(dp12638
g16
V29407
p12639
stp12640
a((dp12641
g2
(lp12642
VTry specifying the proxy server explicitly:
p12643
aVYou could also set the proxy programatically:
p12644
aVWhen you set  to , the application uses the proxy defined in the  dialog box
p12645
aVWhen you deploy your application in IIS it usually executes under the  account which has very limited privileges, it doesn't even have any GUI session so it cannot infer the proxy server
p12646
as(dp12647
g16
V29407
p12648
stp12649
a((dp12650
g2
(lp12651
VYou may take a look at Script#
p12652
as(dp12653
g16
V29407
p12654
stp12655
a((dp12656
g2
(lp12657
VThis is because there's no  method defined in the BCL and the compiler tries to use an extension method
p12658
aVThere's only String
p12659
aVContains(string) method defined
p12660
as(dp12661
g16
V29407
p12662
stp12663
a((dp12664
g2
(lp12665
VEvery time you add a new element dynamically you need to register it for the keyup event:
p12666
as(dp12667
g16
V29407
p12668
stp12669
a((dp12670
g2
(lp12671
s(dp12672
g16
V29407
p12673
stp12674
a((dp12675
g2
(lp12676
VAs you know in C# you cannot have two methods with the same name and same arguments within the same class
p12677
aVYou could either add some dummy parameter or I would advice you to rename the second action to  which seems more semantically correct and better reflecting what this action actually does
p12678
as(dp12679
g16
V29407
p12680
stp12681
a((dp12682
g2
(lp12683
VAs you tagged this question with  I suppose you are looking for a generic collection
p12684
aVSuch collection does not exist in the
p12685
aVNET framework simply because value types cannot be , so I guess you should have to roll your own by adding a constraint restriction on the generic type it accepts
p12686
as(dp12687
g16
V29407
p12688
stp12689
a((dp12690
g2
(lp12691
VIn ASP
p12692
aVNET you use the MapPath method:
p12693
aVYet another possibility is to use the ApplicationPhysicalPath static property:
p12694
as(dp12695
g16
V29407
p12696
stp12697
a((dp12698
g2
(lp12699
VIn your code you are not actually reading from the database
p12700
aVTry this:
p12701
as(dp12702
g16
V29407
p12703
stp12704
a((dp12705
g2
(lp12706
s(dp12707
g16
V29407
p12708
stp12709
a((dp12710
g2
(lp12711
VNo matter what method you use, the pagination should be done by the SQL server
p12712
aVFirst attach a profiler to SQL server
p12713
aVThen navigate using the pagination
p12714
aVObserve the queries
p12715
aVIf the number of records returned is greater than what is shown on the screen you are doing it the wrong way
p12716
aVThe custom pagination allows you to tweak SQL queries to fetch only records needed to be shown by the
p12717
as(dp12718
g16
V29407
p12719
stp12720
a((dp12721
g2
(lp12722
VI wonder what's the purpose of using a textbox in this case if the user can never write anything inside
p12723
aVJust add a  attribute or  (in case you want to post the value)
p12724
as(dp12725
g16
V29407
p12726
stp12727
a((dp12728
g2
(lp12729
VYou could add the response as parameter to the function:
p12730
aVQuote from the documentation:
p12731
aVsuccess: Callback function to be
p12732
aVinvoked after the form has been
p12733
aVsubmitted
p12734
aVIf a 'success' callback
p12735
aVfunction is provided it is invoked
p12736
aVafter the response has been returned
p12737
aVfrom the server
p12738
aVIt is passed the
p12739
aVresponseText or responseXML value
p12740
aV(depending on the value of the
p12741
aVdataType option)
p12742
as(dp12743
g16
V29407
p12744
stp12745
a((dp12746
g2
(lp12747
s(dp12748
g16
V29407
p12749
stp12750
a((dp12751
g2
(lp12752
VThis article explains it pretty well:
p12753
as(dp12754
g16
V29407
p12755
stp12756
a((dp12757
g2
(lp12758
VWrite a helper method:
p12759
aVAnd use it like this:
p12760
as(dp12761
g16
V29407
p12762
stp12763
a((dp12764
g2
(lp12765
VThere are a couple of ways, involving threads and delegates
p12766
aVHere's one example using the thread pool:
p12767
aVAnd here's one involving delegates:
p12768
as(dp12769
g16
V29407
p12770
stp12771
a((dp12772
g2
(lp12773
VYou may take a look at the System
p12774
aVNullable type
p12775
aVIt has some shortcuts in C#:
p12776
aVWhich allows you to call method like this:
p12777
as(dp12778
g16
V29407
p12779
stp12780
a((dp12781
g2
(lp12782
VSquare brackets are used to create a variable that has the same name as a keyword in VB
p12783
aVNET
p12784
aVSo they are more often used that way:
p12785
as(dp12786
g16
V29407
p12787
stp12788
a((dp12789
g2
(lp12790
VYou could use cookies if the top level domain is the same
p12791
aVThere's an article on CodeProject
p12792
as(dp12793
g16
V29407
p12794
stp12795
a((dp12796
g2
(lp12797
VYou need to declare a variable to hold the result:
p12798
as(dp12799
g16
V29407
p12800
stp12801
a((dp12802
g2
(lp12803
V method invokes the default constructor to create an instance of the type passed as parameter
p12804
aVThis type has to be non-abstract and not interface and have a default constructor in order for this function to succeed
p12805
as(dp12806
g16
V29407
p12807
stp12808
a((dp12809
g2
(lp12810
VWhich you might call:
p12811
as(dp12812
g16
V29407
p12813
stp12814
a((dp12815
g2
(lp12816
s(dp12817
g16
V29407
p12818
stp12819
a((dp12820
g2
(lp12821
VExample: return all the rates for State Farm Earthquake insurance in Oregon:
p12822
aVExample: return all the states in which Travellers offers Life insurance:
p12823
aVOf course this assumes the validity of the XML document against an XSD schema as the name attribute should be present
p12824
as(dp12825
g16
V29407
p12826
stp12827
a((dp12828
g2
(lp12829
VThis is because the Sort method expects an IComparer implementation which cannot be a delegate
p12830
aVFor example:
p12831
aVand then:
p12832
ag8119
ag8120
aVUnless you are still stuck on
p12833
aVNET 1
p12834
aV1 don't use ArrayList
p12835
aVInstead use some strongly typed collections
p12836
as(dp12837
g16
V29407
p12838
stp12839
a((dp12840
g2
(lp12841
VNo, it is not possible to modify this setting dynamically once the application has started
p12842
aVA possible workaround as proposed in this article is to test in the Application_Start if the connection string needs to be set and if yes then modify web
p12843
aVconfig which will cause the application domain to reload
p12844
aVIMHO a better way to manage different connection strings among different environments is to have a step in your build process that does the necessary modifications to  before deploying
p12845
as(dp12846
g16
V29407
p12847
stp12848
a((dp12849
g2
(lp12850
VYou may take a look at the filter function
p12851
as(dp12852
g16
V29407
p12853
stp12854
a((dp12855
g2
(lp12856
VAn RSS feed is generated when someone requests it and not when something is added/modified
p12857
aVIn
p12858
aVNET there are many ways to generate an RSS feed, one of them is to use WCF
p12859
as(dp12860
g16
V29407
p12861
stp12862
a((dp12863
g2
(lp12864
VThere's a commercial ActiveX control that you might try
p12865
aVAlso Silverlight 4 COM features look pretty promising (look at Feature #11 in the link)
p12866
as(dp12867
g16
V29407
p12868
stp12869
a((dp12870
g2
(lp12871
VAOP is possible in
p12872
aVNET
p12873
aVHere's an article about it
p12874
aVAnd here's a list of AOP frameworks for
p12875
aVNET
p12876
as(dp12877
g16
V29407
p12878
stp12879
a((dp12880
g2
(lp12881
VIf I do an iisreset on my web server
p12882
aVand a user continues with their
p12883
aVsession they get bounced to a login
p12884
aVpage
p12885
aVThere's no reason an iisreset to bring the user to the login page
p12886
aVIf you use cookies to track authentication information and have a stateless application, the user should stay authenticated even after a server reboot (of course if a request is made during the reset it will fail)
p12887
as(dp12888
g16
V29407
p12889
stp12890
a((dp12891
g2
(lp12892
VHere's a remark: instead of using  method use , because it is compile-time safer and refactor friendlier
p12893
aVInstead of:
p12894
aVDo:
p12895
aVThe first will still compile if you change the controller constructor arguments and it will blow at runtime, while the second will generate a compile-time error
p12896
as(dp12897
g16
V29407
p12898
stp12899
a((dp12900
g2
(lp12901
VSure:
p12902
as(dp12903
g16
V29407
p12904
stp12905
a((dp12906
g2
(lp12907
VProbably it's an encoding issue
p12908
aVHere's a working C# server I wrote:
p12909
aVAnd the corresponding client hosted on :
p12910
aVThis example only establishes the handshake
p12911
aVYou will need to tweak the server in order to continue accepting data once the handshake has been established
p12912
as(dp12913
g16
V29407
p12914
stp12915
a((dp12916
g2
(lp12917
VYou could use a TcpClient or raw Socket:
p12918
aVRemark: If it is a binary protocol you should directly write/read to the socket without using  and
p12919
as(dp12920
g16
V29407
p12921
stp12922
a((dp12923
g2
(lp12924
VYou may take a look at WinSCP
p12925
as(dp12926
g16
V29407
p12927
stp12928
a((dp12929
g2
(lp12930
VDo you really need to submit the form
p12931
aVYou could redirect:
p12932
aVwhere  is a custom defined function:
p12933
as(dp12934
g16
V29407
p12935
stp12936
a((dp12937
g2
(lp12938
VOne possible way to achieve this is to use cookies
p12939
aVOnce you load  with AJAX set a client cookie and when you refresh the page check for the presence of this cookie and load the appropriate page
p12940
as(dp12941
g16
V29407
p12942
stp12943
a((dp12944
g2
(lp12945
VJust remove the control from the panel:
p12946
aVOnce there are no more references to it, it will be subject to garbage collection and unmanaged resources will be properly disposed
p12947
as(dp12948
g16
V29407
p12949
stp12950
a((dp12951
g2
(lp12952
VThe point of writing the unit test first is that by doing this you are writing the specification of your software which seems very natural to do before writing the software itself
p12953
aVHow will a given function respond to a given input
p12954
aVIf you later decide to change the implementation you won't have to manually retest the whole application
p12955
as(dp12956
g16
V29407
p12957
stp12958
a((dp12959
g2
(lp12960
VPrimary autoincrement keys in database are used to uniquely identify a given row and shouldn't be given any business meaning
p12961
aVSo leave the primary key as is and add another column called for example
p12962
aVThen when you delete a record from the database you may want to send an additional UPDATE statement in order to decrement the  column of all rows that have  greater than the one you are currently deleting
p12963
aVAs a side note you should never modify the value of a primary key in a relational database because there could be other tables that reference it as a foreign key and modifying it might violate referential constraints
p12964
as(dp12965
g16
V29407
p12966
stp12967
a((dp12968
g2
(lp12969
VGoogle Talk uses XMPP
p12970
aVHere's a
p12971
aVNET API for this protocol
p12972
aVAnd there's a list of other libraries
p12973
as(dp12974
g16
V29407
p12975
stp12976
a((dp12977
g2
(lp12978
VThe reason this doesn't work the way you expect it is because when the  helper tries to render the select element it first looks for posted values that match the  which in this case is  and use this value instead of the value in the model
p12979
aVThis is the same with a TextBox for example
p12980
aVIf you use this helper and in the POST controller action you modify the value of the model it will still show the old value
p12981
aVThat's just how helpers work
p12982
aVThey bind from POSTed values
p12983
aVThere are two possible workarounds:
p12984
aVUse javascript to synchronize both dropdowns:
p12985
aVBTW this should be done in an unobtrusive way in a separate javascript file:
p12986
aVWrite your own helper or generate the select manually (less recommended)
p12987
as(dp12988
g16
V29407
p12989
stp12990
a((dp12991
g2
(lp12992
VAccording to the log it seems that the application cannot download the manifest file because it is missing (error 404):
p12993
aVYou should verify that this file is present on the server and that this address is accessible
p12994
aVThere's also a  in this address -
p12995
aVCould this be the problem
p12996
as(dp12997
g16
V29407
p12998
stp12999
a((dp13000
g2
(lp13001
VHere's an interesting article about using Google Reader in C# directly
p13002
aVYou may also take a look at Google Reader
p13003
aVNET API
p13004
as(dp13005
g16
V29407
p13006
stp13007
a((dp13008
g2
(lp13009
s(dp13010
g16
V29407
p13011
stp13012
a((dp13013
g2
(lp13014
VYou could loop through the array:
p13015
aVOr using a comparer function for more complex types:
p13016
as(dp13017
g16
V29407
p13018
stp13019
a((dp13020
g2
(lp13021
VI would suggest you a little more generic way:
p13022
aVAs for the color you could add an attribute to the xml file that will point to the property name of the control that we want to set and use reflection
p13023
aVFor example:
p13024
aVBy the way XAML already provides much of the functionality you are trying to achieve here
p13025
aVOf course it assumes WPF interface which might not be your case
p13026
as(dp13027
g16
V29407
p13028
stp13029
a((dp13030
g2
(lp13031
s(dp13032
g16
V29407
p13033
stp13034
a((dp13035
g2
(lp13036
VIf you really need full control over the generated SQL queries and are looking for best performance this is the way to go
p13037
aVBut sometimes the best performance comes at the cost of less readable and less maintainable code
p13038
aVIf this is the case you might need to make a decision whether this price is worth paying
p13039
as(dp13040
g16
V29407
p13041
stp13042
a((dp13043
g2
(lp13044
VHow about using an anonymous type:
p13045
aVWhich could be called like this:
p13046
aVUPDATE:
p13047
aVAnd here's how to convert the anonymous type into a strongly typed dictionary:
p13048
as(dp13049
g16
V29407
p13050
stp13051
a((dp13052
g2
(lp13053
VYou could use the  property:
p13054
as(dp13055
g16
V29407
p13056
stp13057
a((dp13058
g2
(lp13059
VFrom the snippet you provided it is not very clear what the various methods do
p13060
aVThe way I see it, as long as you are using local variables, it is safe
p13061
as(dp13062
g16
V29407
p13063
stp13064
a((dp13065
g2
(lp13066
VPlugin assemblies are usually loaded through reflection using Assembly
p13067
aVLoadFrom and should not be referenced by your project, otherwise they are hard-coded
p13068
aVThe only common thing between the application and the plugin should be a separate assembly containing interfaces that both reference
p13069
aVThen you could have a configuration file in which you specify plugins to be loaded at runtime
p13070
as(dp13071
g16
V29407
p13072
stp13073
a((dp13074
g2
(lp13075
VThe ReadAllText method expects a filename argument of type string and not FileInfo:
p13076
as(dp13077
g16
V29407
p13078
stp13079
a((dp13080
g2
(lp13081
VYou are trying to manipulate the DOM before it is ready
p13082
aVTry wrapping your code in a document
p13083
aVready statement
p13084
aVAlso in your ifs you are trying to call the  method on a string which is not defined:
p13085
as(dp13086
g16
V29407
p13087
stp13088
a((dp13089
g2
(lp13090
VYou may take a look at the NIST Internet Time Service and the NTP Pool Project
p13091
as(dp13092
g16
V29407
p13093
stp13094
a((dp13095
g2
(lp13096
VTry like this:
p13097
aVor if it is a variable:
p13098
as(dp13099
g16
V29407
p13100
stp13101
a((dp13102
g2
(lp13103
VYou could use iTextSharp
p13104
aVHere's an example
p13105
as(dp13106
g16
V29407
p13107
stp13108
a((dp13109
g2
(lp13110
VYou could use the FromArgb method:
p13111
as(dp13112
g16
V29407
p13113
stp13114
a((dp13115
g2
(lp13116
VIt sounds like you are using  and the child action is throwing an exception
p13117
aVTry executing the child action by itself by putting its URL into your address bar
p13118
as(dp13119
g16
V29407
p13120
stp13121
a((dp13122
g2
(lp13123
VYou need to run the service under an account that has permissions to access the exchange server
p13124
aVIn the properties of the service set the account:
p13125
as(dp13126
g16
V29407
p13127
stp13128
a((dp13129
g2
(lp13130
VAutogenerated machineKeys in  might be the cause
p13131
aVThe passwords might have been hashed with a different machineKey
p13132
aVIf this is the case there's nothing you could do other than resetting all the passwords and explicitly specify a machine key
p13133
as(dp13134
g16
V29407
p13135
stp13136
a((dp13137
g2
(lp13138
VYou need to declare the  method as  in the  class and override it in the  class:
p13139
as(dp13140
g16
V29407
p13141
stp13142
a((dp13143
g2
(lp13144
VPros:
p13145
aVRepository is accessible everywhere
p13146
aVCons:
p13147
aVRepositories don't implement a contract which leads to a strong coupling between consumers of the repository and the implementation
p13148
aVImpossible to unit test
p13149
aVMight run into threading issues
p13150
aVRemark: Instantiating the repository on every request shouldn't be regarded as a performance issue
p13151
as(dp13152
g16
V29407
p13153
stp13154
a((dp13155
g2
(lp13156
VVisual Studio recognizes test projects by a special GUID
p13157
aVIf there's a project with the GUID : , VS will automatically load tests from it
p13158
aVSo make sure that in the
p13159
aVcsproj of your test project you have the correct GUID:
p13160
as(dp13161
g16
V29407
p13162
stp13163
a((dp13164
g2
(lp13165
VTake a look at the PathIsNetworkPath function:
p13166
as(dp13167
g16
V29407
p13168
stp13169
a((dp13170
g2
(lp13171
s(dp13172
g16
V29407
p13173
stp13174
a((dp13175
g2
(lp13176
VBy AJAX enabled WCF service I suppose you mean a WCF service that exposes an endpoint using  which is JSON encoding some data
p13177
aVAs long as your AJAX enabled web service is hosted on the same domain and sub-domain as the application consuming it you should be fine
p13178
as(dp13179
g16
V29407
p13180
stp13181
a((dp13182
g2
(lp13183
VSame Domain Origin Policy
p13184
aVOne workaround is to write a server side script hosted on the same domain and serving it as a proxy to the distant domain
p13185
aVIMHO, using pure JavaScript, it is impossible to achieve
p13186
as(dp13187
g16
V29407
p13188
stp13189
a((dp13190
g2
(lp13191
VArguments shouldn't be passed in the FileName property
p13192
aVYou should use the Arguments property for this:
p13193
aVwhere the  function is could be defined like so:
p13194
as(dp13195
g16
V29407
p13196
stp13197
a((dp13198
g2
(lp13199
VYou could expose two endpoints in your WCF service:
p13200
aVYour PHP client will point to  and other client to
p13201
as(dp13202
g16
V29407
p13203
stp13204
a((dp13205
g2
(lp13206
VHave you tried without the :
p13207
aVThe  character is used only by server side processing scripts indicating the root of the web site
p13208
aVThe reason:
p13209
aVworks is because it is translated to:
p13210
as(dp13211
g16
V29407
p13212
stp13213
a((dp13214
g2
(lp13215
VThere's a link on the same page pointing to the API documentation containing sample usage
p13216
as(dp13217
g16
V29407
p13218
stp13219
a((dp13220
g2
(lp13221
VYes it is a bad practice to add service references to a unit testing project
p13222
aVYou could use the generated service contract interface to mock the real WCF service behavior in the test
p13223
as(dp13224
g16
V29407
p13225
stp13226
a((dp13227
g2
(lp13228
VYou need to create an intermediary class:
p13229
aVand then use this class inside :
p13230
as(dp13231
g16
V29407
p13232
stp13233
a((dp13234
g2
(lp13235
VThis should work fine:
p13236
as(dp13237
g16
V29407
p13238
stp13239
a((dp13240
g2
(lp13241
VYou may try using a regular expression:
p13242
as(dp13243
g16
V29407
p13244
stp13245
a((dp13246
g2
(lp13247
VIf the client cannot set the property you will not be able to transport the message across the wire
p13248
aVRemember that the client needs to serialize the class before passing it to the server and if the serializer cannot write to this property the server will not be able to reconstruct it
p13249
as(dp13250
g16
V29407
p13251
stp13252
a((dp13253
g2
(lp13254
VOnce popup is opened to a given URL you cannot use server side script to redirect the parent
p13255
aVYou need to use javascript inside the popup:
p13256
as(dp13257
g16
V29407
p13258
stp13259
a((dp13260
g2
(lp13261
VYes this is thread safe but I would advice you to avoid using private fields in a web service
p13262
aVJust add the  and  parameters to the  method
p13263
aVThis way you no longer need these fields
p13264
as(dp13265
g16
V29407
p13266
stp13267
a((dp13268
g2
(lp13269
VYou may need to create an additional class
p13270
aVAlso make sure classes and properties are public
p13271
aVHere's an example of how to serialize a  instance to the given XML structure using XmlSerializer:
p13272
aVAnd to deserialize back to a  instance:
p13273
as(dp13274
g16
V29407
p13275
stp13276
a((dp13277
g2
(lp13278
VAssuming WinForms:
p13279
aVOf course you might need to replace  with
p13280
as(dp13281
g16
V29407
p13282
stp13283
a((dp13284
g2
(lp13285
VjQuery and jQuery UI are a good start
p13286
as(dp13287
g16
V29407
p13288
stp13289
a((dp13290
g2
(lp13291
VYou need to capture the requests and headers those buttons are sending and simulate them with HttpWebRequest
p13292
aVYou could also take a look at WatiN if you want to automate user actions on web sites
p13293
as(dp13294
g16
V29407
p13295
stp13296
a((dp13297
g2
(lp13298
V will return
p13299
aVIn your view you could test the type like this:
p13300
aVUPDATE:
p13301
aVAdd the following to the beginning of the view:
p13302
as(dp13303
g16
V29407
p13304
stp13305
a((dp13306
g2
(lp13307
VHere you create a new instance of the form:
p13308
aVAll properties are initialized to their default values (i
p13309
ag3813
aVstrings to null)
p13310
aVNext you try to call the  method on the  property which is  and you get the exception:
p13311
aVYou need to first initialize this property:
p13312
aVUPDATE:
p13313
aVWhen you create the FindAndReplace form you could pass to its constructor the current value of the text:
p13314
as(dp13315
g16
V29407
p13316
stp13317
a((dp13318
g2
(lp13319
VTo expire the cookie try:
p13320
as(dp13321
g16
V29407
p13322
stp13323
a((dp13324
g2
(lp13325
VThe Byte Code Engineering Library (BCEL)
p13326
as(dp13327
g16
V29407
p13328
stp13329
a((dp13330
g2
(lp13331
VDetecting memory leaks is not an easy task and there's no definitive answer to this question
p13332
aVYou could use profiler tools such as the ANTS Memory Profiler or dotTrace
p13333
aVYou could also take a look at the CLR Profiler from Microsoft which is free but is more difficult to use
p13334
as(dp13335
g16
V29407
p13336
stp13337
a((dp13338
g2
(lp13339
VThe best way would be to track who voted for what and when on the server (probably storing it in a database)
p13340
aVIn order to do this you must use an authentication system on your site (probably forms authentication) to identify users
p13341
aVSo every time someone tries to vote you check first in your data storage if he already voted and when and decide whether to validate the vote or not
p13342
aVThis is the most reliable way
p13343
aVIf your site is anonymous (no authentication required to vote) then you could store a persistent cookie on the client computer that will last for 24 hours and indicate that a vote has already been cast from this computer
p13344
aVRemember though that cookies might be disabled, removed and are not a reliable way to identify a given user
p13345
aVI am using ASP
p13346
aVNET MVC, so session
p13347
aVvariables are out of question
p13348
aVAny reason for that
p13349
aVSessions are perfectly fine in ASP
p13350
aVNET MVC applications
p13351
aVIt is in your case that they won't work because if the user closes the browser he will lose the session
p13352
aVObviously, he would not be able to
p13353
aVcast vote, because of my algorithm,
p13354
aVbut the person would still end up
p13355
aVsucceeding in making call to the
p13356
aVserver
p13357
aVSo if he really wanted, he
p13358
aVwould keep refreshing the page and
p13359
aVclicking on the vote and put
p13360
aVunnecessary load on the server
p13361
aVAutomated bots could also put unnecessary load to your server which is much more important than a single user clicking on F5
p13362
as(dp13363
g16
V29407
p13364
stp13365
a((dp13366
g2
(lp13367
VYou may try setting a result transformer:
p13368
aVNote the usage of alias pointing to a property name of a  when adding each projection
p13369
as(dp13370
g16
V29407
p13371
stp13372
a((dp13373
g2
(lp13374
VHere's a slightly modified version using TcpClient instead of raw sockets:
p13375
as(dp13376
g16
V29407
p13377
stp13378
a((dp13379
g2
(lp13380
VYou could create a WCF service on the server side that will send the data to the Silverlight application
p13381
aVOnce you retrieve the information you could cache it in-memory inside the client
p13382
aVHere's an example of calling a WCF service method from Silverlight
p13383
aVAnother possibility is to embed the text file into the Silverlight assembly that is deployed to the client:
p13384
as(dp13385
g16
V29407
p13386
stp13387
a((dp13388
g2
(lp13389
VUnfortunately it is impossible to decompile an
p13390
aVobj file back to source
p13391
aVMore info here
p13392
as(dp13393
g16
V29407
p13394
stp13395
a((dp13396
g2
(lp13397
s(dp13398
g16
V29407
p13399
stp13400
a((dp13401
g2
(lp13402
VTake a look at this article
p13403
as(dp13404
g16
V29407
p13405
stp13406
a((dp13407
g2
(lp13408
VBy using
p13409
as(dp13410
g16
V29407
p13411
stp13412
a((dp13413
g2
(lp13414
VBut if you know the root node name it is pointless to load the XML and remove all elements
p13415
aVIn this case just return the new XML:
p13416
as(dp13417
g16
V29407
p13418
stp13419
a((dp13420
g2
(lp13421
VIt is a very good thing that you did performance measurements
p13422
aVThat's exactly what should be done in such scenarios
p13423
aVIf all appear to run smoothly in practice and you are satisfied with the performance pick the most readable one (second and third look ok)
p13424
as(dp13425
g16
V29407
p13426
stp13427
a((dp13428
g2
(lp13429
Vand
p13430
aVor
p13431
aVBut remember that the fragment is never sent from the client to the web server, so there's no way to read its value in a controller action
p13432
as(dp13433
g16
V29407
p13434
stp13435
a((dp13436
g2
(lp13437
VHere's an example of creating a class at runtime that contains a single integer property  which is virtual:
p13438
aVThe reason you don't find anything related to  in the  is because properties don't have this concept
p13439
aVMethods can be virtual, so when you declare a virtual property you are declaring virtual getter and setter methods
p13440
aVTake a look at MethodAttributes enumeration
p13441
as(dp13442
g16
V29407
p13443
stp13444
a((dp13445
g2
(lp13446
VCatch SoapException and read the Detail property
p13447
as(dp13448
g16
V29407
p13449
stp13450
a((dp13451
g2
(lp13452
VFormCollection uses POST values and not what's in the query string
p13453
aVYour action should look:
p13454
as(dp13455
g16
V29407
p13456
stp13457
a((dp13458
g2
(lp13459
s(dp13460
g16
V29407
p13461
stp13462
a((dp13463
g2
(lp13464
V is run before the action so no model exists yet
p13465
aVYou may try with  which is called once the action returns an
p13466
as(dp13467
g16
V29407
p13468
stp13469
a((dp13470
g2
(lp13471
VRegular expressions shouldn't be used to parse HTML
p13472
aVIf you have XHTML you could use HTML Agility Pack to achieve this
p13473
as(dp13474
g16
V29407
p13475
stp13476
a((dp13477
g2
(lp13478
VIt is impossible with XmlSerializer without implementing IXmlSerializable or creating a public duplicate as  from
p13479
aVDataContractSerializer is capable of doing this but unfortunately it is not available in
p13480
aVNET 2
p13481
ag2721
aVUPDATE:
p13482
aVHere's an example of implementing IXmlSerializable to serialize a :
p13483
aVAs you can see it's basically doing the serialization by hand so there's no much benefit of the  here
p13484
as(dp13485
g16
V29407
p13486
stp13487
a((dp13488
g2
(lp13489
VYes, you could take a look at the LogonUser function
p13490
aVHere's a sample
p13491
as(dp13492
g16
V29407
p13493
stp13494
a((dp13495
g2
(lp13496
VThe  method is absolutely thread safe because it doesn't set any variable
p13497
aVThe  is also thread safe because of the way you are calling it
p13498
aVYou only pass  properties and and you get a different model instance every time
p13499
aVThe only issue might be in the  method if it sets static variables without locking
p13500
as(dp13501
g16
V29407
p13502
stp13503
a((dp13504
g2
(lp13505
VThe reason this doesn't work is because you cannot have two methods with the same name and same argument types (the return type is not taken into account for method overloading)
p13506
aVInstead you could define a single method without the generic constraint which will work for both value and reference types:
p13507
as(dp13508
g16
V29407
p13509
stp13510
a((dp13511
g2
(lp13512
VIf you really want true randomness you should use the RNGCryptoServiceProvider class instead of Random for such tasks
p13513
aVHere's an example of how to create a random password in
p13514
aVNET
p13515
as(dp13516
g16
V29407
p13517
stp13518
a((dp13519
g2
(lp13520
VUnless the thread has started you could use reflection but the usefulness of such thing is very doubtful
p13521
aVWhy not create a different thread instance instead:
p13522
as(dp13523
g16
V29407
p13524
stp13525
a((dp13526
g2
(lp13527
VYou may read about accessibility on w3c site
p13528
aVNo idea what global portal web rules means
p13529
as(dp13530
g16
V29407
p13531
stp13532
a((dp13533
g2
(lp13534
VBecause the HTML helper already defines a bunch of useful methods that you won't have in your custom class and most importantly you have access to the HttpContext
p13535
aVOf course you may say why not pass the HttpContext to my custom class, but then instead of  you will have  which IMHO is uglier
p13536
as(dp13537
g16
V29407
p13538
stp13539
a((dp13540
g2
(lp13541
VTry  instead of :
p13542
as(dp13543
g16
V29407
p13544
stp13545
a((dp13546
g2
(lp13547
VYou could use WebResourceAttribute
p13548
aVThis article might be helpful as well
p13549
as(dp13550
g16
V29407
p13551
stp13552
a((dp13553
g2
(lp13554
VHave you read the comment in the obtained HTML:
p13555
aVPlease set your code to scrape
p13556
aVyour IP from
p13557
aVwww
p13558
aVwhatismyip
p13559
aVcom/automation/n09230945
p13560
aVasp
p13561
aVFor more info, please see our
p13562
aV"Recommended Automation Practices"
p13563
aVthread in the Forum
p13564
aVSo this should get you going:
p13565
as(dp13566
g16
V29407
p13567
stp13568
a((dp13569
g2
(lp13570
s(dp13571
g16
V29407
p13572
stp13573
a((dp13574
g2
(lp13575
VCERAS is a class name which cannot be assigned
p13576
aVAs the class implements IDisposable a typical usage would be:
p13577
as(dp13578
g16
V29407
p13579
stp13580
a((dp13581
g2
(lp13582
VHere's one way to pass a two dimensional string array (array of array of strings) to a controller action:
p13583
aVand to post:
p13584
as(dp13585
g16
V29407
p13586
stp13587
a((dp13588
g2
(lp13589
VIndeed more is needed
p13590
aVI would advice you to separate javascript from HTML:
p13591
aVand then register a click handler to this anchor in javascript:
p13592
as(dp13593
g16
V29407
p13594
stp13595
a((dp13596
g2
(lp13597
VFrom Implementing the Singleton Pattern in C#:
p13598
aVAs far as the release part it is contradictory to the singleton pattern because if you release the instance the next time someone tries to access it it will get a new instance which violates the singleton pattern
p13599
as(dp13600
g16
V29407
p13601
stp13602
a((dp13603
g2
(lp13604
VTry the following address in your browser:  where  is the port number assigned by Visual Studio's web development server
p13605
as(dp13606
g16
V29407
p13607
stp13608
a((dp13609
g2
(lp13610
VHere's an example of adding a new element to the root node:
p13611
as(dp13612
g16
V29407
p13613
stp13614
a((dp13615
g2
(lp13616
s(dp13617
g16
V29407
p13618
stp13619
a((dp13620
g2
(lp13621
VThis works fine for me:
p13622
as(dp13623
g16
V29407
p13624
stp13625
a((dp13626
g2
(lp13627
VIt means an array
p13628
aVdeclares the  variable and initializes it to an empty array
p13629
aVTo put elements into the array you could do the following:
p13630
as(dp13631
g16
V29407
p13632
stp13633
a((dp13634
g2
(lp13635
VTry adding the following line to your hosts file:
p13636
as(dp13637
g16
V29407
p13638
stp13639
a((dp13640
g2
(lp13641
VYou are calling the Join method on the current thread which doesn't make much sense
p13642
aVYou should call it on your worker threads:
p13643
aVUnfortunately this kind of defeats the purpose of using threads because it will block the calling until all other threads are finished
p13644
aVThe RunWorkerCompleted event of a  could be used to notify the completion of a background task and perform updates on the form
p13645
as(dp13646
g16
V29407
p13647
stp13648
a((dp13649
g2
(lp13650
VTry url encoding:
p13651
as(dp13652
g16
V29407
p13653
stp13654
a((dp13655
g2
(lp13656
VI would advice you to avoid creating JSON by hand in your controller
p13657
aVTry this instead:
p13658
aVAnd in the view:
p13659
as(dp13660
g16
V29407
p13661
stp13662
a((dp13663
g2
(lp13664
VHere's an example of counting all  nodes in your xml document without loading it into memory:
p13665
aVOr if you prefer LINQ to XML:
p13666
as(dp13667
g16
V29407
p13668
stp13669
a((dp13670
g2
(lp13671
VThis will depend where you are writing this code
p13672
aVIf you are doing it in the WCF service then objects will be stored in the memory of the process hosting this service (if IIS then w3p
p13673
aVexe)
p13674
aVThe cache will be shared among all clients of the service meaning that if a client removes an item from the cache other clients will see it removed as well
p13675
aVAn important thing to know when using this construct is that the runtime might decide to expire objects from the cache in certain circumstances (for example running on low memory), so always check for the presence of the object in the cache before using it: don't assume that if you put it there you will find it later
p13676
aVYou may read more about caching on MSDN
p13677
as(dp13678
g16
V29407
p13679
stp13680
a((dp13681
g2
(lp13682
VIt is not  that is throwing the exception but this:
p13683
aVYou are calling the  getter on  property which is null
p13684
as(dp13685
g16
V29407
p13686
stp13687
a((dp13688
g2
(lp13689
VYou could use the  method on the session factory
p13690
as(dp13691
g16
V29407
p13692
stp13693
a((dp13694
g2
(lp13695
V =
p13696
as(dp13697
g16
V29407
p13698
stp13699
a((dp13700
g2
(lp13701
VAssuming both arrays have the same size:
p13702
as(dp13703
g16
V29407
p13704
stp13705
a((dp13706
g2
(lp13707
VTake a look at conventions and especially at implementing a custom foreign key convention
p13708
aVUPDATE:
p13709
aVHere's an example
p13710
aVAssuming the following domain:
p13711
aVwhich needs to be mapped to this schema:
p13712
aVyou could use this convention:
p13713
aVand to create the session factory:
p13714
as(dp13715
g16
V29407
p13716
stp13717
a((dp13718
g2
(lp13719
VI rarely use debug mode in ASP
p13720
aVNET MVC project (F5)
p13721
aVI run the project once with CTRL+F5 and always have a browser window open
p13722
aVThen if I make a change to a view (
p13723
aVaspx,
p13724
aVascx), I hit F5 in the browser and changes automatically take effect
p13725
aVIf I have to do changes in the
p13726
aVNET code (controller logic, models, repositories, etc
p13727
aVI no longer use the browser
p13728
aVTo verify that my change is correct I navigate to the corresponding unit test and hit CTRL+R+T
p13729
aVThe result is seen either in green or red
p13730
as(dp13731
g16
V29407
p13732
stp13733
a((dp13734
g2
(lp13735
s(dp13736
g16
V29407
p13737
stp13738
a((dp13739
g2
(lp13740
VWell, this works for me (tested on Chrome 4, FireFox 3
p13741
aV6, IE8):
p13742
as(dp13743
g16
V29407
p13744
stp13745
a((dp13746
g2
(lp13747
VThe following tests should pass:
p13748
aVAnd if you want to return a new guid:
p13749
as(dp13750
g16
V29407
p13751
stp13752
a((dp13753
g2
(lp13754
VTake a look at this example
p13755
aVIn the  callback a  is passed as argument
p13756
aVThis object has a method called
p13757
aVAs its name suggest you may try using it to get the response text
p13758
aVThere's also a  method for the request
p13759
as(dp13760
g16
V29407
p13761
stp13762
a((dp13763
g2
(lp13764
s(dp13765
g16
V29407
p13766
stp13767
a((dp13768
g2
(lp13769
VYes, but you will need to use reflection because if you don't add the assembly as reference it won't be known at compile time
p13770
aVTake a look at LoadFrom method
p13771
as(dp13772
g16
V29407
p13773
stp13774
a((dp13775
g2
(lp13776
VYou may try too looping over the  collection of the page and if you find a textbox add its value to the mail body:
p13777
aVRemark: This will work only if the text boxes are directly placed on the page and not inside some other containers such as panels,
p13778
aVIn order to take this into account you could write a recursive function that visits all the controls
p13779
as(dp13780
g16
V29407
p13781
stp13782
a((dp13783
g2
(lp13784
V will match:
p13785
aVwill match:
p13786
as(dp13787
g16
V29407
p13788
stp13789
a((dp13790
g2
(lp13791
s(dp13792
g16
V29407
p13793
stp13794
a((dp13795
g2
(lp13796
VVisual Studio has web and load testing capabilities
p13797
aVYou may also take a look at JMeter which is free
p13798
as(dp13799
g16
V29407
p13800
stp13801
a((dp13802
g2
(lp13803
VIt refers to the global namespace
p13804
aVIt allows you to compile things like:
p13805
aVNote that the class is called  and without the  keyword this won't compile as it won't find any static property called  in this class
p13806
aVThis being said you should never name your class
p13807
as(dp13808
g16
V29407
p13809
stp13810
a((dp13811
g2
(lp13812
VYou actually don't need to expose your DAO interfaces as service contracts
p13813
aVDefine a single service contract interface which will contain for example a method :
p13814
aVYou may implement a custom IOperationInvoker and plug it into WCF to handle transactions
p13815
as(dp13816
g16
V29407
p13817
stp13818
a((dp13819
g2
(lp13820
VIMHO the best is to rely on the ADO
p13821
aVNET connection pooling mechanism and don't try to handle database connections manually
p13822
aVWrite your data access methods like this:
p13823
aVThen you can call this method from wherever you like, make it static, call it from threads whatever
p13824
aVRemember that calling  on the connection won't actually close it
p13825
aVIt will return it to the connection pool so that it can be reused
p13826
as(dp13827
g16
V29407
p13828
stp13829
a((dp13830
g2
(lp13831
VYou need to call the function by passing it two arguments, because otherwise the  variable will just store a reference to this function but it will not evaluate it:
p13832
aVNote that  used inside the anonymous function are not the same as the one passed as arguments at the end which correspond to the two variables declared in the beginning of the  function
p13833
as(dp13834
g16
V29407
p13835
stp13836
a((dp13837
g2
(lp13838
VThe  variable is a two dimensional array of strings as you declared it and from what I can see the  function expects a number
p13839
aVSo try parsing:
p13840
aVUPDATE:
p13841
aVHere's what's wrong with your code:
p13842
aVOn each iteration you redeclare the  variable and when you calculate the human distance between the current points
p13843
aVYou need to accumulate the sum, so declare the variable outside the loop and add to it inside:
p13844
aVNotice that the loop ends at : ex
p13845
aVfor 7 points you have 6 distances
p13846
as(dp13847
g16
V29407
p13848
stp13849
a((dp13850
g2
(lp13851
VIn the parent page (index
p13852
aVphp) define a javascript function that you could invoke from the child page:
p13853
aVand in the child page (insert
p13854
aVphp) you may invoke this function:
p13855
aVNote that due to cross domain policies this will work only if the two pages are on the same domain
p13856
as(dp13857
g16
V29407
p13858
stp13859
a((dp13860
g2
(lp13861
VYou may take a look at this article which illustrates how to enable HTTPS at the routing level
p13862
as(dp13863
g16
V29407
p13864
stp13865
a((dp13866
g2
(lp13867
VYes, uncaught exceptions result in fatal errors that stop the execution of the script
p13868
aVSo the  function will not be called if an exception is thrown
p13869
aVYou can read more about exceptions in this article
p13870
as(dp13871
g16
V29407
p13872
stp13873
a((dp13874
g2
(lp13875
VRegular Expressions is a good place to learn regexes
p13876
as(dp13877
g16
V29407
p13878
stp13879
a((dp13880
g2
(lp13881
VUsing  the user can only browse the files on his computer
p13882
aVThere's no way for him to see folders on the server unless you give him a list or treeview structure so that he can choose from
p13883
aVHere's an example of building such a treeview
p13884
as(dp13885
g16
V29407
p13886
stp13887
a((dp13888
g2
(lp13889
VYou might find this site useful
p13890
as(dp13891
g16
V29407
p13892
stp13893
a((dp13894
g2
(lp13895
V map function could be used to transform an array of items into another array by using a translation function:
p13896
as(dp13897
g16
V29407
p13898
stp13899
a((dp13900
g2
(lp13901
VOk there are a few things to consider:
p13902
aVMake sure that you expose a web http enabled binding endpoint in your web service:
p13903
aVMake sure that you use the WebScriptServiceHostFactory factory in your  markup:
p13904
aVYou are calling the  function but have you verified that such function exists in the generated javascript proxy ()
p13905
aVFor example:
p13906
aVwill generate the following javascript proxy method:
p13907
as(dp13908
g16
V29407
p13909
stp13910
a((dp13911
g2
(lp13912
VThe static method can be used without the need of instantiating the class
p13913
aVOne common case this is used is when the constructor of a class is private and a static method is provided to return instances, like a factory
p13914
aVFor example the Create method:
p13915
as(dp13916
g16
V29407
p13917
stp13918
a((dp13919
g2
(lp13920
VThis is happening because of the nature of WebForms relying on the PostBack model
p13921
aVEvery time you click on a button the single form you have inside the page is posted to the server along with the viewstate
p13922
aVWhen you press F5 you normally get a warning that the form will be reposted and if you click Yes the same action is executed on the server
p13923
aVOne way to avoid this is to perform a redirect after you save to the database:
p13924
as(dp13925
g16
V29407
p13926
stp13927
a((dp13928
g2
(lp13929
VIt is a hidden field generated by ASP
p13930
aVNET that contains information about all the controls on the page
p13931
aVIdeally the view state should not need to be encrypted, as it should never contain sensitive information
p13932
aVTo indicate that the view state should be encrypted, set the  element's validation attribute in the  file to
p13933
aVThere's a nice article on MSDN describing ViewState
p13934
as(dp13935
g16
V29407
p13936
stp13937
a((dp13938
g2
(lp13939
VFirst off the  is used only in classic ASP and has no meaning in ASP
p13940
aVNET so you should retag your question
p13941
aVSo when you include something it actually takes the contents of this file and puts it at the place where it should be included, so you end up with a single file downloaded to the client
p13942
aVWhen you include a javascript file, the contents of the file are not placed inside the main script but the browser sends a separate request to fetch it
p13943
aVThis is the prefered way of including javascript
p13944
as(dp13945
g16
V29407
p13946
stp13947
a((dp13948
g2
(lp13949
VWhy mixing MS Ajax with jQuery when you can do all this with jQuery only and in an unobtrusive way (not mixing javascript and html):
p13950
aVSo you define your form as usual:
p13951
aVAnd after including the form plugin in your page:
p13952
aVYou indicate that the form should be submitted with ajax:
p13953
aVAnd finally you can submit the form with javascript like this:
p13954
as(dp13955
g16
V29407
p13956
stp13957
a((dp13958
g2
(lp13959
VTo get the system time I would recommend you using the DateTime structure:
p13960
as(dp13961
g16
V29407
p13962
stp13963
a((dp13964
g2
(lp13965
s(dp13966
g16
V29407
p13967
stp13968
a((dp13969
g2
(lp13970
VYou don't need DI container in unit tests because dependencies are provided through mock objects generated with frameworks such as Rhino Mocks or Moq
p13971
aVSo for example when you are testing a class that has a dependency on some interface this dependency is usually provided through constructor injection
p13972
aVIn your application you will use a DI framework to pass some real implementation of  in the constructor which could itself have dependencies on other objects while in a unit test you create a mock object because you only want to test this class in isolation
p13973
aVExample with Rhino Mocks:
p13974
as(dp13975
g16
V29407
p13976
stp13977
a((dp13978
g2
(lp13979
V method is FireFox specific so it is not implemented in the prototypejs library as this library is intended to work cross browser
p13980
as(dp13981
g16
V29407
p13982
stp13983
a((dp13984
g2
(lp13985
VJSONP is one way to do this
p13986
aVYou start by writing a custom ActionResult that will return JSONP instead of JSON which will allow you to work around the cross-domain ajax limitation:
p13987
aVThen you could write a controller action that returns JSONP:
p13988
aVAnd finally people can call this action on their sites using jquery:
p13989
aVIf users don't want to include jQuery on their site you might write a javascript on your site that will include jQuery and perform the previous getJSON call, so that people will only need to include a single js from site as in your example
p13990
aVUPDATE:
p13991
aVAs asked in the comments section here's an example illustrating how to load jQuery dynamically from your script
p13992
aVJust put the following into your js:
p13993
as(dp13994
g16
V29407
p13995
stp13996
a((dp13997
g2
(lp13998
VAttach click handlers to your links unobtrusively:
p13999
aVIf javascript is disabled links will perform standard requests reloading the whole page
p14000
as(dp14001
g16
V29407
p14002
stp14003
a((dp14004
g2
(lp14005
VThere shouldn't be any problems serializing enum properties:
p14006
aVproduces:
p14007
as(dp14008
g16
V29407
p14009
stp14010
a((dp14011
g2
(lp14012
VThere are many articles out there showing how to create and install a self signed certificate in IIS
p14013
aVWhat you need to remember is that this certificate will not be valid as it is not delivered by a certificate authority
p14014
aVOnce you set a certificate on the server side you need to indicate to the client to accept the invalid certificate by using the ServerCertificateValidationCallback property:
p14015
as(dp14016
g16
V29407
p14017
stp14018
a((dp14019
g2
(lp14020
s(dp14021
g16
V29407
p14022
stp14023
a((dp14024
g2
(lp14025
VIt declares the  function as a jQuery plugin allowing you to use it on elements like this
p14026
aVYou could read more about plugin authoring here
p14027
as(dp14028
g16
V29407
p14029
stp14030
a((dp14031
g2
(lp14032
VHere are two interesting links about integrating WF into an ASP
p14033
aVNET MVC application:
p14034
aVhttp://www
p14035
aVrecneps
p14036
aVco
p14037
aVuk/downloads/MVCWorkFlow-Part1
p14038
aVpdf
p14039
aVhttp://www
p14040
aVrecneps
p14041
aVco
p14042
aVuk/downloads/MVCWorkFlow-Part2
p14043
aVpdf
p14044
as(dp14045
g16
V29407
p14046
stp14047
a((dp14048
g2
(lp14049
VYou could take a look at the ThreadStaticAttribute
p14050
aVAnother helpful methods are SetData/GetData which allow you to store data relative to the current thread
p14051
as(dp14052
g16
V29407
p14053
stp14054
a((dp14055
g2
(lp14056
VShould be:
p14057
as(dp14058
g16
V29407
p14059
stp14060
a((dp14061
g2
(lp14062
VYou have two actions defined on the  controller:  and
p14063
aVThe Index action is defined as the default action for the site
p14064
aVFor this reason  resolves to
p14065
aVYou could set a new route to accomplish this:
p14066
as(dp14067
g16
V29407
p14068
stp14069
a((dp14070
g2
(lp14071
VMock  instead of :
p14072
as(dp14073
g16
V29407
p14074
stp14075
a((dp14076
g2
(lp14077
VBecause it is the way structs are represented in
p14078
aVNET
p14079
aVThey are value types and value types don't have a method table pointer allowing inheritance
p14080
as(dp14081
g16
V29407
p14082
stp14083
a((dp14084
g2
(lp14085
VThe correct version of the assembly is 3
p14086
ag244
ag2721
ag2721
aVI guess you are using something compiled against a custom build version of this assembly
p14087
aVYou could use a bindingRedirect to instruct the CLR to load the correct version of the assembly
p14088
as(dp14089
g16
V29407
p14090
stp14091
a((dp14092
g2
(lp14093
V will show it if you double-click on "MANIFEST" and look for "Metadata version"
p14094
aVBy default, it's the version that the image was compiled against
p14095
as(dp14096
g16
V29407
p14097
stp14098
a((dp14099
g2
(lp14100
VWhen you host a WCF service as a Windows Service you no longer rely on IIS
p14101
aVThe only common part I guess is the protocol stack HTTP
p14102
aVSYS
p14103
aVI would suggest you activating logging into the service configuration file which will give you extensive information:
p14104
aVand then use SvcTraceViewer
p14105
aVexe to analyze the resulting log data
p14106
as(dp14107
g16
V29407
p14108
stp14109
a((dp14110
g2
(lp14111
s(dp14112
g16
V29407
p14113
stp14114
a((dp14115
g2
(lp14116
VAs you've discovered you need to use the route name if you want to generate a link to the second route
p14117
aVThe first route will always be evaluated because even if the  parameter doesn't exist in the route definition it is just passed as query string argument
p14118
as(dp14119
g16
V29407
p14120
stp14121
a((dp14122
g2
(lp14123
VTo avoid this sort of problems you should always use the built-in helpers to generate URLs
p14124
aVFor example:
p14125
aVand for links
p14126
as(dp14127
g16
V29407
p14128
stp14129
a((dp14130
g2
(lp14131
VThis may return null if the condition is not satisfied
p14132
aVIf this is not what you want you may provide a default value:
p14133
as(dp14134
g16
V29407
p14135
stp14136
a((dp14137
g2
(lp14138
VYou need to obtain the web service root path and combine it with the filename if the file is in the root folder of your web service (where  file is located):
p14139
as(dp14140
g16
V29407
p14141
stp14142
a((dp14143
g2
(lp14144
VBy providing  and :
p14145
as(dp14146
g16
V29407
p14147
stp14148
a((dp14149
g2
(lp14150
VFrom the documentation:
p14151
aVThe zero-based index of value in the
p14152
aVsorted ArrayList, if value is found;
p14153
aVotherwise, a negative number, which is
p14154
aVthe bitwise complement of the index of
p14155
aVthe next element that is larger than
p14156
aVvalue or, if there is no larger
p14157
aVelement, the bitwise complement of
p14158
aVCount
p14159
aVNotice the sorted word
p14160
as(dp14161
g16
V29407
p14162
stp14163
a((dp14164
g2
(lp14165
VDeclare the variable in the global scope outside of any  functions:
p14166
as(dp14167
g16
V29407
p14168
stp14169
a((dp14170
g2
(lp14171
VHere's a nice performance comparison
p14172
aVAccording to it  is slower than a native  loop
p14173
as(dp14174
g16
V29407
p14175
stp14176
a((dp14177
g2
(lp14178
VCheck out the serializeArray method
p14179
as(dp14180
g16
V29407
p14181
stp14182
a((dp14183
g2
(lp14184
VThe  enumeration needs to be a property of either  or  classes as these are the only types included in the WSDL
p14185
aVThe types that are exposed in the WSDL and thus visible to the client are only those that are used as input or output parameters (and all that are part of their class hierarchy) to the operation contract methods
p14186
aVSo for example you could add the enum to the Request class:
p14187
as(dp14188
g16
V29407
p14189
stp14190
a((dp14191
g2
(lp14192
VIn ASP
p14193
aVNET MVC 2 there's the Html
p14194
aVRenderAction
p14195
aVFor ASP
p14196
aVNET MVC 1
p14197
aV0 if I recall correctly there's the same functionality in MvcContrib
p14198
as(dp14199
g16
V29407
p14200
stp14201
a((dp14202
g2
(lp14203
VYou may take a look at the Request
p14204
aVHttpMethod property
p14205
as(dp14206
g16
V29407
p14207
stp14208
a((dp14209
g2
(lp14210
VYou need to html encode the strings in order to render them correctly:
p14211
aVor if you are using ASP
p14212
aVNET 4 you may take advantage of the new code nugget shortcut:
p14213
as(dp14214
g16
V29407
p14215
stp14216
a((dp14217
g2
(lp14218
VTry redirecting in a more MVCish way:
p14219
as(dp14220
g16
V29407
p14221
stp14222
a((dp14223
g2
(lp14224
VIf these are two different applications then you will not be able to share session data between them
p14225
aVis intended to share session between the same application hosted in a web farm although there are some hacks that might allow you to do this which involve tweaking with the application name
p14226
aVYou will need to implement some custom mechanism to synchronize sessions between those applications
p14227
as(dp14228
g16
V29407
p14229
stp14230
a((dp14231
g2
(lp14232
s(dp14233
g16
V29407
p14234
stp14235
a((dp14236
g2
(lp14237
VThe serializer produces JSON from an array you are supplying as argument
p14238
aVFilter the array before passing it to the serializer
p14239
as(dp14240
g16
V29407
p14241
stp14242
a((dp14243
g2
(lp14244
VThey will be lazily evaluated if these methods return
p14245
as(dp14246
g16
V29407
p14247
stp14248
a((dp14249
g2
(lp14250
s(dp14251
g16
V29407
p14252
stp14253
a((dp14254
g2
(lp14255
VI hardly understand what you are asking but if you are worried about mass assignment you could exclude Property2 from binding:
p14256
aVor even better use  to make a white-list of bindable properties
p14257
as(dp14258
g16
V29407
p14259
stp14260
a((dp14261
g2
(lp14262
VController actions with the same name are possible on the same controller if they are called with different HTTP verbs
p14263
aVExample:
p14264
aVWhen you call  the first action will be invoked and when you call  the second action will be invoked
p14265
as(dp14266
g16
V29407
p14267
stp14268
a((dp14269
g2
(lp14270
VYes ParseExact can take a list of formats to check against
p14271
as(dp14272
g16
V29407
p14273
stp14274
a((dp14275
g2
(lp14276
VSmarterMail is an SMTP mail server, so you could use the SmtpClient class to send mail:
p14277
as(dp14278
g16
V29407
p14279
stp14280
a((dp14281
g2
(lp14282
VThe property is called  and not
p14283
aVTry this:
p14284
as(dp14285
g16
V29407
p14286
stp14287
a((dp14288
g2
(lp14289
VCheckout this article to find out how to customize  templates
p14290
as(dp14291
g16
V29407
p14292
stp14293
a((dp14294
g2
(lp14295
VThere's no such notion as controls in an mvc application as it is in a WebForms application
p14296
aVThere are models, controllers, views, subviews, helpers
p14297
aVSo I guess you could either add them using javascript or create a model containing all the necessary information so that at runtime an html helper or a subview will be capabale of generating the corresponding HTML for these controls from this model
p14298
as(dp14299
g16
V29407
p14300
stp14301
a((dp14302
g2
(lp14303
VFailure to correctly dispose or return database connections to the ADO
p14304
aVNET connection pool in the application might be at the origin of this problem
p14305
aVWhen you upload DLLs to your site (I assume in the bin folder) the application pool restarts and frees all managed and unmanaged resources returning the application to normal
p14306
aVIf incorrect connection handling in your application it might not take longer for this to reproduce
p14307
as(dp14308
g16
V29407
p14309
stp14310
a((dp14311
g2
(lp14312
VYou may begin exploring the asp
p14313
aVnet site
p14314
as(dp14315
g16
V29407
p14316
stp14317
a((dp14318
g2
(lp14319
VAssuming your action looks like this:
p14320
aVAnd the corresponding view is strongly typed to :
p14321
aVyou don't need to use a  statement to generate the dropdown box:
p14322
as(dp14323
g16
V29407
p14324
stp14325
a((dp14326
g2
(lp14327
VMethod overloading (two actions with the same name) resolution is based on the HTTP verb
p14328
aVThis means that if you want to have two actions with the same name you need to differentiate them by the HTTP verb they accept:
p14329
aVThus when you call  the first action will be invoked and when you call  the second one will be invoked
p14330
aVAlso note that you should probably use nullable integer as the  argument because if no parameter is passed in the request, the model binder will fail
p14331
aVA RESTful way to handle this, following conventions that I would suggest you is this:
p14332
aVwhich will allow you to handle both  and  requests
p14333
aVYou probably will have different views as well because the first one will be strongly typed to  while the second one to
p14334
as(dp14335
g16
V29407
p14336
stp14337
a((dp14338
g2
(lp14339
VA list/collection/array/enumerable are all reference types, so they will be passed as reference
p14340
aVNo cloning
p14341
as(dp14342
g16
V29407
p14343
stp14344
a((dp14345
g2
(lp14346
VYou could append the parameter to the  hash by checking that it is not null before:
p14347
aVor just modify the url:
p14348
as(dp14349
g16
V29407
p14350
stp14351
a((dp14352
g2
(lp14353
VRefreshing the page means sending a request to the server
p14354
aVYou can write a Windows Service that sends a request to your page every day at 1:30
p14355
as(dp14356
g16
V29407
p14357
stp14358
a((dp14359
g2
(lp14360
VYou start by writing your generic handler:
p14361
aVWhich you may call like this:
p14362
as(dp14363
g16
V29407
p14364
stp14365
a((dp14366
g2
(lp14367
VMake sure that the anonymous web user account (NETWORK SERVICE or maybe something else) under which your web application executes has read/write/create/delete access to the folder where the sqlite database resides
p14368
as(dp14369
g16
V29407
p14370
stp14371
a((dp14372
g2
(lp14373
VYou need to increase the quota according to the web service
p14374
aVOne side effect I can think of if you use very large values is that memory usage will increase but you can safely increase it to a suitable value without any adverse effects
p14375
as(dp14376
g16
V29407
p14377
stp14378
a((dp14379
g2
(lp14380
VThey are not profoundly different
p14381
aVEverything you learnt so far on 1
p14382
aV0 is applicable in 2
p14383
ag2721
aVYou could start looking at 2
p14384
aV0 new features though
p14385
aVQuote from Scott Gu's blog:
p14386
aVASP
p14387
aVNET MVC 2 is the next significant
p14388
aVupdate of ASP
p14389
aVNET MVC
p14390
aVIt is a
p14391
aVcompatible update to ASP
p14392
aVNET MVC 1 \u2013
p14393
aVso all the knowledge, skills, code,
p14394
aVand extensions you already have with
p14395
aVASP
p14396
aVNET MVC continue to work and apply
p14397
aVgoing forward
p14398
as(dp14399
g16
V29407
p14400
stp14401
a((dp14402
g2
(lp14403
VI would recommend you the iTextSharp library is free and open source
p14404
as(dp14405
g16
V29407
p14406
stp14407
a((dp14408
g2
(lp14409
VHave you tried this article
p14410
as(dp14411
g16
V29407
p14412
stp14413
a((dp14414
g2
(lp14415
Vrun A on C
p14416
aVrun A on D
p14417
aVNo problem here
p14418
aVrun B on C
p14419
aVrun C on D
p14420
aVYou can't run  on  because it references 3
p14421
aV5 assemblies which are not available on
p14422
aVNo problem to run  on
p14423
aVcompile Ax on C
p14424
aVcompile Ax on D
p14425
aVNo problem here
p14426
aVcompile Bx on C
p14427
aVcompile Bx on D
p14428
aVYou can't compile  on  because it doesn't have the 3
p14429
aV5 assemblies installed which it references
p14430
aVNo problem to compile  on
p14431
aVrewrite Ax to use features from the C#
p14432
aV3 language level, and compile it on D,
p14433
aVwhile having it still work on C
p14434
aVYes this is possible
p14435
aVrewrite Bx to use features from the C#
p14436
aV4 language level on another
p14437
aVenvironment E that has
p14438
aVNET 4, while
p14439
aVhaving it still work on D
p14440
aVNo this is not possible because if you target the CLR 4
p14441
aV0 the assembly won't be able to run on a previous CLR version
p14442
aVAs a conclusion:
p14443
aVDouble click on , look at
p14444
aVIf it is  it means that this assembly has been compiled for the CLR 2 version
p14445
aVThen you look at the referenced assemblies
p14446
aVIf in the references you see a referenced assembly called  with version 3
p14447
ag244
ag2721
aV0 it means that
p14448
aVNET 3
p14449
aV5 framework is required
p14450
aVIf not it probably will run fine with only
p14451
aVNET 2
p14452
aV0 installed (of course it shouldn't reference any other assembly that itself depends on
p14453
aVNET 3
p14454
aV5)
p14455
as(dp14456
g16
V29407
p14457
stp14458
a((dp14459
g2
(lp14460
Vis it safe to call that method from
p14461
aVwithin web-pages
p14462
aVOnly if this method is reentrant
p14463
aVExample with sql:
p14464
aVAnd call in your ASPX page:
p14465
aVAnd does HttpContext
p14466
aVCurrent always
p14467
aVreturn the current-users context, so
p14468
aVis it safe to call that from static
p14469
aVmethods to get the current-users
p14470
aVsession
p14471
aVYes, HttpContext
p14472
aVCurrent can be safely used to get the current HTTP context
p14473
aVBut I would suggest you not calling HttpContext
p14474
aVCurrent in your DB access method
p14475
aVJust pass what is needed as argument so that your ASPX page when calling the method will safely read the session and pass the needed parameters
p14476
aVRemark and personal advice: don't use static methods for data access
p14477
aVCalling code using static methods is close to impossible to unit test
p14478
as(dp14479
g16
V29407
p14480
stp14481
a((dp14482
g2
(lp14483
VThere's a nice date handling library called datejs which has a  method
p14484
as(dp14485
g16
V29407
p14486
stp14487
a((dp14488
g2
(lp14489
VChange to nullable DateTime
p14490
as(dp14491
g16
V29407
p14492
stp14493
a((dp14494
g2
(lp14495
VSomething like this
p14496
aVThe example is probably not very good as it doesn't properly dispose objects but you get the idea
p14497
aVHere's a cleaned up version:
p14498
as(dp14499
g16
V29407
p14500
stp14501
a((dp14502
g2
(lp14503
VSomething among the lines might help:
p14504
aVwhich could be called like this:
p14505
as(dp14506
g16
V29407
p14507
stp14508
a((dp14509
g2
(lp14510
VYou could write a custom model binder for MyModel:
p14511
aVwhich is registered in :
p14512
aVUPDATE:
p14513
aVAs requested in the comments section here's how to make the previous binder more generic:
p14514
as(dp14515
g16
V29407
p14516
stp14517
a((dp14518
g2
(lp14519
VHere's how the caching in your scenario works
p14520
aVSuppose you define the following action
p14521
aVIf you don't explicitly set the Location attribute it default to OutputCacheLocation
p14522
aVAny which means:
p14523
aVThe output cache can be located on the
p14524
aVbrowser client (where the request
p14525
aVoriginated), on a proxy server (or any
p14526
aVother server) participating in the
p14527
aVrequest, or on the server where the
p14528
aVrequest was processed
p14529
aVThis value
p14530
aVcorresponds to the
p14531
aVHttpCacheability
p14532
aVPublic enumeration
p14533
aVvalue
p14534
aVmeans that the contents will be cached for 5 seconds
p14535
aVNext you send ajax request:
p14536
aVIf you click on the link twice during 5 seconds interval you will see that the result div will not change neither the server action will be hit but the  callback will always execute
p14537
aVThe server sends the following headers:
p14538
as(dp14539
g16
V29407
p14540
stp14541
a((dp14542
g2
(lp14543
VTry a route link by explicitly giving the name of the route:
p14544
as(dp14545
g16
V29407
p14546
stp14547
a((dp14548
g2
(lp14549
VSuch big parameters should be posted and not sent in the URL
p14550
aVThis will automatically handle parameter encoding
p14551
aVIf you absolutely insist on sending them in the url you may declare a global javascript variable that will hold the url to call:
p14552
as(dp14553
g16
V29407
p14554
stp14555
a((dp14556
g2
(lp14557
s(dp14558
g16
V29407
p14559
stp14560
a((dp14561
g2
(lp14562
VYou may take a look at this article (first hit on google)
p14563
as(dp14564
g16
V29407
p14565
stp14566
a((dp14567
g2
(lp14568
VNo, there aren't out of the box
p14569
aVYou will need to implement it yourself depending on the desired format
p14570
as(dp14571
g16
V29407
p14572
stp14573
a((dp14574
g2
(lp14575
VHave you tried width and height functions:
p14576
as(dp14577
g16
V29407
p14578
stp14579
a((dp14580
g2
(lp14581
VThere's a nice article comparing  XML parsers
p14582
aVSax: very fast and works for huge documents but the API is less intuitive as it is event based
p14583
aVDom: slower and more memory consuming because the whole XML needs to be loaded into memory but the API is very easy to use
p14584
as(dp14585
g16
V29407
p14586
stp14587
a((dp14588
g2
(lp14589
VTry explicitly specifying the format:
p14590
aVAll ,  and  work fine
p14591
aVthrows an exception
p14592
aVThe original image is in the  format as it starts with  bytes
p14593
as(dp14594
g16
V29407
p14595
stp14596
a((dp14597
g2
(lp14598
VI would suggest you adding a new action on your controller that will return the price of a product given the product id
p14599
aVThe product id should represent the value of the dropdown:
p14600
aVThis action will then be invoked when you change the value of the dropdown box:
p14601
as(dp14602
g16
V29407
p14603
stp14604
a((dp14605
g2
(lp14606
s(dp14607
g16
V29407
p14608
stp14609
a((dp14610
g2
(lp14611
VYou could put the pager links inside the same form that contains the search box and replace them with submit or image buttons
p14612
as(dp14613
g16
V29407
p14614
stp14615
a((dp14616
g2
(lp14617
VIf it is a multi purpose delegate such as ,  which is not related to a particular class then you should declare it in the namespace directly
p14618
as(dp14619
g16
V29407
p14620
stp14621
a((dp14622
g2
(lp14623
VOpen the
p14624
aVascx markup file of the user control
p14625
aVIt should read something like this:
p14626
aVModify it to:
p14627
aVNotice CodeFile -> CodeBehind
p14628
as(dp14629
g16
V29407
p14630
stp14631
a((dp14632
g2
(lp14633
VThere's the DisplayAttribute that has been added in
p14634
aVNET 4
p14635
aV0 which allows you to  specify a resource string:
p14636
aVIf you can't use
p14637
aVNET 4
p14638
aV0 yet you may write your own attribute:
p14639
aVwhich you could use like this:
p14640
as(dp14641
g16
V29407
p14642
stp14643
a((dp14644
g2
(lp14645
s(dp14646
g16
V29407
p14647
stp14648
a((dp14649
g2
(lp14650
VYou may take a look at the scrollable plugin
p14651
as(dp14652
g16
V29407
p14653
stp14654
a((dp14655
g2
(lp14656
VTry replacing  by :
p14657
as(dp14658
g16
V29407
p14659
stp14660
a((dp14661
g2
(lp14662
VIf you have the XML stored inside a string variable you could use a StringReader:
p14663
as(dp14664
g16
V29407
p14665
stp14666
a((dp14667
g2
(lp14668
VThe RequiredAttribute allows to use a custom resource manager:
p14669
aVUPDATE:
p14670
aVAnother possibility is to write your custom attribute:
p14671
as(dp14672
g16
V29407
p14673
stp14674
a((dp14675
g2
(lp14676
VYou could use a string constant:
p14677
aVIn fact strings in
p14678
aVNET are special
p14679
aVIf you declare two string variable with the same value they actually point to the same object:
p14680
as(dp14681
g16
V29407
p14682
stp14683
a((dp14684
g2
(lp14685
VYou are putting the try/catch inside the  statement while it's the  method that might throw:
p14686
as(dp14687
g16
V29407
p14688
stp14689
a((dp14690
g2
(lp14691
VTry formatting your code
p14692
aVOther than that:
p14693
aVYou are trying to assign a string to a variable of type
p14694
as(dp14695
g16
V29407
p14696
stp14697
a((dp14698
g2
(lp14699
VOnce you have the resx files added to your project, Visual Studio generates strongly typed classes allowing you to access them
p14700
aVFor example if you add the  to your project a  static class will be created:
p14701
aVwhere  is a string resource you added
p14702
aVA better solution would be to localize the user interface and not the column names of the DataTable
p14703
aVHere's an example:
p14704
aVThere's a  on the page bound to a  with a single column
p14705
aVNotice the  attribute on the BoundField
p14706
aVNow add the special App_LocalResources folder to your web application and inside it a resource file named  assuming the web page is called
p14707
aVInside you could add the following string resource:
p14708
aVThe default value of the  given in the markup will be replaced with the one in the resource file provided it is present
p14709
as(dp14710
g16
V29407
p14711
stp14712
a((dp14713
g2
(lp14714
VI don't understand why you need to reference the infrastructure layer inside your domain layer
p14715
aVNormally you should structure it like this:
p14716
aVDomain containing domain classes and interfaces which define operations on these classes
p14717
aVData access layer referencing the domain layer and implementing the interfaces for a given provider (for example SQL qith NHibernate)
p14718
aVHere you put the fluent nhibernate mapping classes and the configuration allowing you to construct an  used in the implementation of the interfaces
p14719
aVYou only expose the implementation of these interfaces, everything else is private
p14720
aVMain application referencing the previous two layers
p14721
aVHere you might use an object container to select the proper implementation of the domain interfaces
p14722
aVIf later you decide to use some other technology to access your data such as Entity Framework for example you need to write another data access layer with a different implementation of the domain interfaces and plug it in the main application by modifying only the object container (DI) code
p14723
as(dp14724
g16
V29407
p14725
stp14726
a((dp14727
g2
(lp14728
VYou should really avoid such circular references
p14729
aVYour service class should not depend on the controller or anything in the  assembly whatsoever
p14730
aVIt is the role of the controller or some action filter or model binder to manipulate the  according to events happening in the service layer
p14731
as(dp14732
g16
V29407
p14733
stp14734
a((dp14735
g2
(lp14736
VTry overriding  instead of :
p14737
as(dp14738
g16
V29407
p14739
stp14740
a((dp14741
g2
(lp14742
VDownload and include the jquery form plugin
p14743
aVReplace  with
p14744
aVRegister the form:
p14745
aVUse the success callback to update the DOM once the form has submitted
p14746
aVThis step is optional:
p14747
as(dp14748
g16
V29407
p14749
stp14750
a((dp14751
g2
(lp14752
VIf you have an HTML form containing inputs to bind to the object:
p14753
aVOr if you don't have a form and you want to bind the object properties manually:
p14754
as(dp14755
g16
V29407
p14756
stp14757
a((dp14758
g2
(lp14759
VIt is possible to do in javascript only
p14760
aVThere are so many example out there
p14761
aVJust google them
p14762
aVHere's one
p14763
as(dp14764
g16
V29407
p14765
stp14766
a((dp14767
g2
(lp14768
VYes, the protocol is part of the same origin policy
p14769
as(dp14770
g16
V29407
p14771
stp14772
a((dp14773
g2
(lp14774
VPut all the  tags immediately before the closing  tag as per this YSlow recommendation
p14775
as(dp14776
g16
V29407
p14777
stp14778
a((dp14779
g2
(lp14780
VOne way to do it is to create an XML skeleton template containing placeholders for the values
p14781
aVRead the XML and replace the values with those from your object
p14782
aVPost the resulting XML to the web service using HttpWebRequest
p14783
aVEven that this approach might work I would strongly recommend you creating a WCF proxy class and using this instead even if the web service contains hundreds of methods and objects that are not used
p14784
aVAs long as it is a valid WSDL, WCF will handle it
p14785
aVAlso if there are any changes to the web service all you have to do is regenerate the proxy
p14786
aVTo avoid the ugliness of this web service create your own infrastructure that exposes only the useful methods and classes and hides the real call
p14787
as(dp14788
g16
V29407
p14789
stp14790
a((dp14791
g2
(lp14792
VYou could use the Math
p14793
aVsin function where the argument is given in radians
p14794
aVExample:
p14795
as(dp14796
g16
V29407
p14797
stp14798
a((dp14799
g2
(lp14800
VYou could use the conventional  helper to generate a hidden field somewhere on the page (not necessarily inside a form) and include it along the ajax request:
p14801
aVTo verify it on the server side:
p14802
aVIf you have multiple tokens on your page you might need to specify which one to include
p14803
aVAs the existing helper generates the hidden fields with the same names it is difficult to make a good selector so you could place them inside spans:
p14804
aVand then select the corresponding token:
p14805
as(dp14806
g16
V29407
p14807
stp14808
a((dp14809
g2
(lp14810
VI don't want people go fishing for the
p14811
aVpath's when do do a > view HTML source
p14812
aVWhat are you going to do with those image paths in your javascript
p14813
aVIf the final goal is to use them as the source of an  tag then you could do absolutely nothing to hide them as tools such as Firebug will show directly all the HTTP requests that the browser performs, so it's not even necessary to look at the source of the HTML page to obtain the image paths
p14814
aVIf you intend to do something else with these paths (
p14815
aVyou could use a public/private key encryption algorithm
p14816
aVFor example you generate a pair of private/public keys in javascript and you use ajax to send the public key to your server script
p14817
aVThe script uses this public key to encrypt the image paths and returns them as JSON array to the client script which uses it's private key to decrypt them
p14818
aVUPDATE:
p14819
aVHere's one example of sending the list of paths through AJAX:
p14820
aVand you obtain them in javascript:
p14821
as(dp14822
g16
V29407
p14823
stp14824
a((dp14825
g2
(lp14826
VYou need to add columns to this data table first:
p14827
aVAlso I don't know much about the ,  and  variables in your code but I would strongly recommend you to dispose them properly:
p14828
as(dp14829
g16
V29407
p14830
stp14831
a((dp14832
g2
(lp14833
VHave you tried:
p14834
aVThis will send a POST request that might look like this:
p14835
as(dp14836
g16
V29407
p14837
stp14838
a((dp14839
g2
(lp14840
VAssuming you have the following select in the HTML:
p14841
aVThis should allow you to preselect the third value:
p14842
as(dp14843
g16
V29407
p14844
stp14845
a((dp14846
g2
(lp14847
VThe problem is that your model class is named  and inside you have a string property also called  that you try to bind to the textarea
p14848
aVThis doesn't work as the binder is getting confused
p14849
aVEither use a bind prefix or rename the property or the class so that they are different
p14850
as(dp14851
g16
V29407
p14852
stp14853
a((dp14854
g2
(lp14855
VWhen the user clicks on the delete button inside the user control you could invoke an action that will delete the necessary information from the database and return a partial view refreshing the control
p14856
aVSo put a delete link inside the control:
p14857
aVand then inside the main page register the click callback for this link:
p14858
as(dp14859
g16
V29407
p14860
stp14861
a((dp14862
g2
(lp14863
VSystem
p14864
aVWeb
p14865
aVMvc
p14866
aVEmptyResult
p14867
as(dp14868
g16
V29407
p14869
stp14870
a((dp14871
g2
(lp14872
s(dp14873
g16
V29407
p14874
stp14875
a((dp14876
g2
(lp14877
VI suppose the author of this comment didn't want it to be included in the documentation of the assembly
p14878
as(dp14879
g16
V29407
p14880
stp14881
a((dp14882
g2
(lp14883
VRegisterWaitForSingleObject will signal the wait handle when it finishes executing
p14884
as(dp14885
g16
V29407
p14886
stp14887
a((dp14888
g2
(lp14889
VWhen you set the disabled attribute to an input element it's value is NOT posted:
p14890
as(dp14891
g16
V29407
p14892
stp14893
a((dp14894
g2
(lp14895
VI am not familiar with Infragistics controls but if you are comfortable with HTML you could use the WebBrowser control or if you prefer RTF - RichTextBox
p14896
as(dp14897
g16
V29407
p14898
stp14899
a((dp14900
g2
(lp14901
VYou could always use a predefined callback name
p14902
aVClients such as jQuery
p14903
aVajax allow you to specify the name of the callback parameter
p14904
as(dp14905
g16
V29407
p14906
stp14907
a((dp14908
g2
(lp14909
VYou should return an appropriate status code
p14910
aV404 means that the requested resource is not found which is not the case with anti forgery token validation failure
p14911
aVseems like a reasonable status code to return in this case
p14912
aVIt means that the server understood the request but refused to fulfill it
p14913
as(dp14914
g16
V29407
p14915
stp14916
a((dp14917
g2
(lp14918
VTo avoid the dll hell I would recommend you to create a  folder inside your project and put all shared assemblies in this folder
p14919
aVNext you Add References only from this folder
p14920
aVThis way your project is self contained and you know exactly where it is picking the references from
p14921
aVIf you want to update some assembly with a newer version you copy it to the  folder and rebuild your project
p14922
aVAlso make sure you don't the referenced assemblies into the GAC as they might be picked up first
p14923
as(dp14924
g16
V29407
p14925
stp14926
a((dp14927
g2
(lp14928
s(dp14929
g16
V29407
p14930
stp14931
a((dp14932
g2
(lp14933
VThe  class seems a bit strange and especially this part:
p14934
aVThe  private member is never assigned a value and you call the  method on it in the setter which throws the exception
p14935
aVBy the way the compiler should have warned you
p14936
aVYou could try providing a default value or check for null in the setter before calling the  method:
p14937
aVOther than that your extension method to convert an  to  seems nice
p14938
aVAnd finally when you assign the fake albums you need to set the tracks:
p14939
as(dp14940
g16
V29407
p14941
stp14942
a((dp14943
g2
(lp14944
VDepending on what binding your WCF service uses (and as you are calling it from javascript I assume ) it is quite possible that the returned byte array will be returned as a base 64 encoded string
p14945
aVSo you might need to modify the ActiveX component to accept a base 64 encoded string as parameter instead of a byte array
p14946
as(dp14947
g16
V29407
p14948
stp14949
a((dp14950
g2
(lp14951
VI think you are out of luck
p14952
aVHere's the response from Microsoft about this issue:
p14953
aVThank you for submitting this issue
p14954
aVUnfortunately, we have decided that it
p14955
aVwill not be addressed because the risk
p14956
aVof the fix outweighs its benefit
p14957
aVBy
p14958
aVthe time the next opportunity to make
p14959
aVthis change comes about, the hope is
p14960
aVthat the new serialization
p14961
aVtechnologies in a future version of
p14962
aVthe Windows Communication Foundation
p14963
aVwill address your scenario
p14964
aVIf this
p14965
aVissue is causing significant negative
p14966
aVbusiness impact, please contact
p14967
aVMicrosoft Product Support Services
p14968
aVI
p14969
aVregret that we could not provide a
p14970
aVbetter resolution
p14971
aVRest assured that
p14972
aVwe seriously considered this issue - a
p14973
aVWon't Fix decision is never easy to
p14974
aVmake
p14975
aVThis basically says the you should use DataContractSerializer instead of XmlSerializer or change your object structure
p14976
as(dp14977
g16
V29407
p14978
stp14979
a((dp14980
g2
(lp14981
VTry specifying all the WSDLs in one command:
p14982
aVThis should automatically take care of duplicate types
p14983
aVAnother option is to take a look at the  command switch:
p14984
aVThis means that if you already have some types defined in some assembly you may include this assembly and  will exclude types from it to avoid duplicates:
p14985
as(dp14986
g16
V29407
p14987
stp14988
a((dp14989
g2
(lp14990
VWhich would be bound to a  property on your ActiveX class
p14991
as(dp14992
g16
V29407
p14993
stp14994
a((dp14995
g2
(lp14996
VTake a look at this article
p14997
as(dp14998
g16
V29407
p14999
stp15000
a((dp15001
g2
(lp15002
s(dp15003
g16
V29407
p15004
stp15005
a((dp15006
g2
(lp15007
VDon't make the constructor public only for the sake of unit tests
p15008
aVIf from a design point you decided that it should be internal, leave it that way
p15009
aVTest the classes that invoke this constructor
p15010
aVIn
p15011
aVNET there's the InternalsVisibleToAttribute which allows you to expose internal members to unit tests
p15012
as(dp15013
g16
V29407
p15014
stp15015
a((dp15016
g2
(lp15017
VRemember that WCF needs to create an instance of the object from its serialized representation (often XML) and if the property has no setter it cannot assign a value
p15018
aVObjects are not transferred between the client and the server but only serialized representations, so the object needs to be reconstructed at each end
p15019
as(dp15020
g16
V29407
p15021
stp15022
a((dp15023
g2
(lp15024
VTo test if the user is authenticated:
p15025
aVTo get his username if authenticated:
p15026
as(dp15027
g16
V29407
p15028
stp15029
a((dp15030
g2
(lp15031
VIf you need to populate the list when the page is loaded you should use standard binding methods at the server side
p15032
aVIf you need to populate the list when an action is performed later on the page you could use an UpdatePanel which will perform an ajax callback to the server
p15033
aVAnd finally the best option IMHO would be to have a server side action with caching enabled returning a JSON encoded representation of the countries which would be invoked using ajax and bound to a normal  without using any server side
p15034
as(dp15035
g16
V29407
p15036
stp15037
a((dp15038
g2
(lp15039
s(dp15040
g16
V29407
p15041
stp15042
a((dp15043
g2
(lp15044
VYou will need to first obtain a reference to the  property and then the :
p15045
as(dp15046
g16
V29407
p15047
stp15048
a((dp15049
g2
(lp15050
s(dp15051
g16
V29407
p15052
stp15053
a((dp15054
g2
(lp15055
VIf you are going to use C# as a language of choice it is strongly recommended to take lessons in C# and OOP
p15056
aVIf you start directly with ASP
p15057
aVNET you risk to end up with horribly unmaintainable code
p15058
as(dp15059
g16
V29407
p15060
stp15061
a((dp15062
g2
(lp15063
VIt's already a string
p15064
aVYou could also try:
p15065
aVbut it is unnecessary
p15066
as(dp15067
g16
V29407
p15068
stp15069
a((dp15070
g2
(lp15071
VIt looks like there's a javascript error happening in IE which prevents from calling the action asynchronously
p15072
aVVerify the presence of the HTTP header  while debugging
p15073
as(dp15074
g16
V29407
p15075
stp15076
a((dp15077
g2
(lp15078
VDatabases are for storing data
p15079
aVHTML is markup
p15080
aVDon't store HTML inside a database
p15081
aVAs you've mixed data and markup you will now need to extract the data () from the markup and formatting ()
p15082
aVThere are tools allowing you to parse HTML such as  HTML Agility Pack
p15083
aVYou could always try parsing it with a regular expression but as you may see this is not recommended
p15084
aVSo my suggestion is to modify your design and separate markup from real data
p15085
as(dp15086
g16
V29407
p15087
stp15088
a((dp15089
g2
(lp15090
VYou could assert that the  on the  property has been called with a correct argument
p15091
aVAssuming the  property is an array of strings:
p15092
aVThis should also work:
p15093
as(dp15094
g16
V29407
p15095
stp15096
a((dp15097
g2
(lp15098
VThe  sign in URLs (also called the  part of an URL) is only used by browsers to navigate between history and links
p15099
aVEverything following this sign is never sent to the server and there's no way to get it in a server side script
p15100
as(dp15101
g16
V29407
p15102
stp15103
a((dp15104
g2
(lp15105
s(dp15106
g16
V29407
p15107
stp15108
a((dp15109
g2
(lp15110
VLINQPad
p15111
as(dp15112
g16
V29407
p15113
stp15114
a((dp15115
g2
(lp15116
VIf you want to support browser language put this in your web
p15117
aVconfig:
p15118
aVAnd in your view:
p15119
aVACCEPT-LANGUAGE request header will be used to set the culture and format the date accordingly
p15120
as(dp15121
g16
V29407
p15122
stp15123
a((dp15124
g2
(lp15125
VThe problem with  is that you are using the same prefix () as the  class name
p15126
aVTry using a different prefix
p15127
aVFor this you might need to rename the  property of the  class
p15128
as(dp15129
g16
V29407
p15130
stp15131
a((dp15132
g2
(lp15133
VStrongly typed view means knowing the object type at compile time
p15134
aVIn order to know the object at compile time the assembly containing the class needs to be referenced
p15135
aVReferencing assemblies in an ASP
p15136
aVNET application is done by putting them in the  folder
p15137
aVIf you use reflection to load assemblies from some other non-standard location, types will be known only at runtime and you cannot use them as models for strongly typed views
p15138
as(dp15139
g16
V29407
p15140
stp15141
a((dp15142
g2
(lp15143
VServer side scripts () are evaluated only inside  pages
p15144
aVExternal javascript are static files
p15145
aVTo achieve what you are looking for you might need to declare a global js variable inside your aspx file:
p15146
aVand use it in your external js:
p15147
aVAnother option is to use AJAX
p15148
aVSet up a server side script which will return the required session value and call this script from the external js file
p15149
as(dp15150
g16
V29407
p15151
stp15152
a((dp15153
g2
(lp15154
s(dp15155
g16
V29407
p15156
stp15157
a((dp15158
g2
(lp15159
s(dp15160
g16
V29407
p15161
stp15162
a((dp15163
g2
(lp15164
VIt is already installed
p15165
aVCreate a project targeting
p15166
aVNET 3
p15167
aV5 referencing the  assembly and you should be ready to go
p15168
aVIf you want to use Linq to SQL or Linq to XML you might need to reference additional assemblies
p15169
as(dp15170
g16
V29407
p15171
stp15172
a((dp15173
g2
(lp15174
VTesting a controller action returning a JsonResult shouldn't be any different of testing other actions
p15175
aVConsider the following scenario:
p15176
aVAnd the unit test (sorry it's MSTest, I don't have NUnit atm but it should be pretty strait forward):
p15177
as(dp15178
g16
V29407
p15179
stp15180
a((dp15181
g2
(lp15182
VYou may take a look at this blog post, download the sample code and try it
p15183
as(dp15184
g16
V29407
p15185
stp15186
a((dp15187
g2
(lp15188
VUse FireBug to see if an asynchronous request is sent to the server and what does the server respond
p15189
aVAlso change your controller action to:
p15190
aVAlso you forgot to put a  at the and of your  javascript variable declaration
p15191
as(dp15192
g16
V29407
p15193
stp15194
a((dp15195
g2
(lp15196
s(dp15197
g16
V29407
p15198
stp15199
a((dp15200
g2
(lp15201
VYou install the Silverlight SDK (if you don't have it already) and create a new Silverlight project
p15202
aVThis project should contain the Silverlight application and a web project containing sample code on embedding it
p15203
aVYou may also take a look at this site
p15204
as(dp15205
g16
V29407
p15206
stp15207
a((dp15208
g2
(lp15209
VIt depends on what this button is doing
p15210
aVIf it sends an HTTP request you could once again use WebClient to simulate it by sending all the necessary parameters
p15211
as(dp15212
g16
V29407
p15213
stp15214
a((dp15215
g2
(lp15216
VFor more safety use TryParseExact method:
p15217
as(dp15218
g16
V29407
p15219
stp15220
a((dp15221
g2
(lp15222
VAssuming that your CSV file is embedded as a resource you could access it like this:
p15223
as(dp15224
g16
V29407
p15225
stp15226
a((dp15227
g2
(lp15228
Vand by the way the answer is dec:17 instead of dec:4
p15229
as(dp15230
g16
V29407
p15231
stp15232
a((dp15233
g2
(lp15234
VI am not aware of any way to achieve this without resorting to reflection
p15235
aVYou could write a helper method:
p15236
aVwhich you could use like this:
p15237
as(dp15238
g16
V29407
p15239
stp15240
a((dp15241
g2
(lp15242
VCheckout the errorPlacement callback:
p15243
as(dp15244
g16
V29407
p15245
stp15246
a((dp15247
g2
(lp15248
VTake a look at the IndexOf method:
p15249
aVOther overloads of this method allow you to specify a start index and a number of characters to examine
p15250
as(dp15251
g16
V29407
p15252
stp15253
a((dp15254
g2
(lp15255
VThere's a nice description here
p15256
as(dp15257
g16
V29407
p15258
stp15259
a((dp15260
g2
(lp15261
s(dp15262
g16
V29407
p15263
stp15264
a((dp15265
g2
(lp15266
VAttributes are baked into the metadata of the class at compile time and I doubt it is possible changing their values at runtime
p15267
aVBy the way that's one of the reasons why attribute values should always be constant expressions
p15268
as(dp15269
g16
V29407
p15270
stp15271
a((dp15272
g2
(lp15273
VYou need to specify an absolute URL for the REFRESH header
p15274
aVTake a look at this post showing how to obtain an absolute URL from relative (you could use the  shown there):
p15275
aVFor reference:
p15276
as(dp15277
g16
V29407
p15278
stp15279
a((dp15280
g2
(lp15281
VProcess
p15282
aVStart
p15283
as(dp15284
g16
V29407
p15285
stp15286
a((dp15287
g2
(lp15288
VYou could try simulating a click on the actual submit button:
p15289
as(dp15290
g16
V29407
p15291
stp15292
a((dp15293
g2
(lp15294
VIf you want to POST a single file from C# to your PHP script you could use the UploadFile method:
p15295
aVIf along with the file you want to send some other data and/or multiple files you will need to forge a  request manually
p15296
aVHere's a post explaining how to achieve this
p15297
as(dp15298
g16
V29407
p15299
stp15300
a((dp15301
g2
(lp15302
VYes the compiler is smart enough to optimize constant string concatenations
p15303
aVTo prove this let's examine the following method:
p15304
aVCompiled in Release mode this produces the following IL:
p15305
aVNotice the optimization
p15306
aVSo in terms of performance both methods are identical
p15307
aVThe only difference is that in the second case you will get new lines (\u005cr\u005cn) in the string, so they won't produce the exactly same string but SQL Server is also smart enough :-)
p15308
as(dp15309
g16
V29407
p15310
stp15311
a((dp15312
g2
(lp15313
VNesting of forms is not allowed and may result in an undefined behavior between browsers
p15314
as(dp15315
g16
V29407
p15316
stp15317
a((dp15318
g2
(lp15319
VYou could take a look at Reflection Emit
p15320
aVThere are also frameworks such as Castle Dynamic Proxy and Cecil which simplify this task
p15321
aVUPDATE:
p15322
aVNow if I understand you correctly you have some class and you want to make this class derive from another base class at runtime
p15323
aVLet's prove by a counter example that this is not possible:
p15324
aVAssume that there is a method allowing you to do this
p15325
aVConsider the following class:
p15326
aVYou could use this method to say that Foo derives from System
p15327
aVIO
p15328
aVStream which obviously is not the case rendering the initial hypothesis wrong
p15329
aVWhat is possible with reflection emit is to generate a dynamic class at runtime that inherits from a base class or implements an interface
p15330
as(dp15331
g16
V29407
p15332
stp15333
a((dp15334
g2
(lp15335
VFrom the description:
p15336
aVA REST-ful Web service gateway that
p15337
aVsupports XML, Protobuf, and binary
p15338
aVdata encoding options
p15339
aVThere's a protobuf port for
p15340
aVNET and there are many XML manipulation APIs built-in
p15341
as(dp15342
g16
V29407
p15343
stp15344
a((dp15345
g2
(lp15346
VHere's an extensive step by step tutorial explaining how to implement validation with ASP
p15347
aVNET MVC 2 and how to enable client validation
p15348
aVIf you follow it correctly you should not have any problems
p15349
aVYou could use the  option:
p15350
aVwhere the  callback could look like this:
p15351
aVUPDATE:
p15352
aVHere's a working example:
p15353
aVModel:
p15354
aVController:
p15355
aVView:
p15356
as(dp15357
g16
V29407
p15358
stp15359
a((dp15360
g2
(lp15361
VThere are different types of polymorphism:
p15362
aVoverloading polymorphism (also called Ad-hoc polymorphism)
p15363
aVoverriding polymorphism
p15364
aVSo yes it is part of polymorphism
p15365
as(dp15366
g16
V29407
p15367
stp15368
a((dp15369
g2
(lp15370
VThe substring method allows you to specify start and end index:
p15371
as(dp15372
g16
V29407
p15373
stp15374
a((dp15375
g2
(lp15376
VThe ASP
p15377
aVNET page stores a hash code in the "__VIEWSTATE" hidden field that is used to ensure that the view state hasn't been tampered with between postbacks
p15378
as(dp15379
g16
V29407
p15380
stp15381
a((dp15382
g2
(lp15383
s(dp15384
g16
V29407
p15385
stp15386
a((dp15387
g2
(lp15388
VBecause C# is statically typed language and in a statically typed language the return type of a method needs to be known at compile time and anonymous types have no names
p15389
as(dp15390
g16
V29407
p15391
stp15392
a((dp15393
g2
(lp15394
s(dp15395
g16
V29407
p15396
stp15397
a((dp15398
g2
(lp15399
VJSON has a well defined grammar which is used to construct a tree which is then converted to an object
p15400
as(dp15401
g16
V29407
p15402
stp15403
a((dp15404
g2
(lp15405
VThere's no difference at all
p15406
aVThe compiler converts the second syntax to the first one (look with Reflector at the compiled assembly) so it's really up to you to decide which syntax suits you best
p15407
as(dp15408
g16
V29407
p15409
stp15410
a((dp15411
g2
(lp15412
VYou cannot convert SQL statements to LINQ queries without having an object model
p15413
aVLINQ queries objects, while SQL queries relational data, so a mapping is necessary between the two worlds
p15414
as(dp15415
g16
V29407
p15416
stp15417
a((dp15418
g2
(lp15419
VYou may take a look at the serializeArray function:
p15420
as(dp15421
g16
V29407
p15422
stp15423
a((dp15424
g2
(lp15425
VIf you remove all static methods and introduce some abstractions you should be good to go:
p15426
aVand in your ASP page:
p15427
as(dp15428
g16
V29407
p15429
stp15430
a((dp15431
g2
(lp15432
VYou could secure the form GET as well
p15433
aVIf the form is retrieved with HTTPS,  will automatically add  when rendering the form
p15434
as(dp15435
g16
V29407
p15436
stp15437
a((dp15438
g2
(lp15439
VThere aren't any quotes
p15440
aVIt's just VS debugger
p15441
aVTry printing to the console or saving to a file and you'll see
p15442
aVAs a side note: always dispose disposable objects:
p15443
as(dp15444
g16
V29407
p15445
stp15446
a((dp15447
g2
(lp15448
VTry saving the file as UTF-8 encoding with signature on the server
p15449
as(dp15450
g16
V29407
p15451
stp15452
a((dp15453
g2
(lp15454
VThe reason why Request and Response objects are null inside your Application_Error event is because the Application_Start event is not associated with any user, therefore you cannot redirect from it
p15455
aVOnly the Application and Server built-in objects are available
p15456
aVReferencing the Session, Request, or Response objects would cause an error
p15457
aVOne workaround is to use try/catch and in the catch block log the error and set some global variable which indicates that something went wrong during application startup
p15458
aVLater on Application_BeginRequest you could check this variable and redirect accordingly
p15459
as(dp15460
g16
V29407
p15461
stp15462
a((dp15463
g2
(lp15464
s(dp15465
g16
V29407
p15466
stp15467
a((dp15468
g2
(lp15469
VYou should be using the abstract  which is much easier to mock instead of
p15470
aVAnd in your unit test:
p15471
as(dp15472
g16
V29407
p15473
stp15474
a((dp15475
g2
(lp15476
VYou could compare DOM elements
p15477
aVRemember that jQuery selectors return arrays which will never be equal in the sense of reference equality
p15478
aVAssuming:
p15479
aVthis:
p15480
aVreturns true
p15481
as(dp15482
g16
V29407
p15483
stp15484
a((dp15485
g2
(lp15486
VYou may take a look at the Levenshtein distance which is used to compare similarity between sequences and here's a sample implementation in C#
p15487
as(dp15488
g16
V29407
p15489
stp15490
a((dp15491
g2
(lp15492
VYou could use XmlReader to validate a XML file against an XSD schema
p15493
as(dp15494
g16
V29407
p15495
stp15496
a((dp15497
g2
(lp15498
VTo test if the enum contains a given value:
p15499
as(dp15500
g16
V29407
p15501
stp15502
a((dp15503
g2
(lp15504
VIt looks like the  method is called multiple times
p15505
aVThe  static field access is not synchronized in this method which makes it not thread safe:
p15506
aVMake sure to always synchronize access to shared resources in multithreaded applications
p15507
aVThere's a common used pattern in this situation called singleton
p15508
as(dp15509
g16
V29407
p15510
stp15511
a((dp15512
g2
(lp15513
VUse AutoMapper
p15514
aVOnce you've tried it, it's unlikely you will ever see code like this:
p15515
as(dp15516
g16
V29407
p15517
stp15518
a((dp15519
g2
(lp15520
VNo difference
p15521
aVis alias to System
p15522
aVByte, the same way  is alias to System
p15523
aVInt32,  to System
p15524
aVInt64,  to System
p15525
aVString,
p15526
as(dp15527
g16
V29407
p15528
stp15529
a((dp15530
g2
(lp15531
VPut  at the class mapping:
p15532
as(dp15533
g16
V29407
p15534
stp15535
a((dp15536
g2
(lp15537
VYou should only catch exceptions if you can properly handle them
p15538
aVAs you cannot properly handle all possible exceptions you should not catch them :-)
p15539
as(dp15540
g16
V29407
p15541
stp15542
a((dp15543
g2
(lp15544
VMake sure to set the factory to WebScriptServiceHostFactory in your  markup
p15545
aVAlso make sure that the WCF service and the web page respect the same origin policy
p15546
aVHere's a full working example:
p15547
aVWCF Service:
p15548
aVweb
p15549
aVconfig:
p15550
aVservice1
p15551
aVsvc:
p15552
aVindex
p15553
aVhtm:
p15554
as(dp15555
g16
V29407
p15556
stp15557
a((dp15558
g2
(lp15559
VTo perform a deep clone you might consider using a binary serializer:
p15560
as(dp15561
g16
V29407
p15562
stp15563
a((dp15564
g2
(lp15565
V is more MVCish as it is the normal
p15566
aVResolveUrl has been around since the beginning of ASP
p15567
aVNET
p15568
as(dp15569
g16
V29407
p15570
stp15571
a((dp15572
g2
(lp15573
s(dp15574
g16
V29407
p15575
stp15576
a((dp15577
g2
(lp15578
VI suppose you are hitting cross domain restrictions
p15579
aVI wouldn't be surprised if  is considered as cross domain
p15580
as(dp15581
g16
V29407
p15582
stp15583
a((dp15584
g2
(lp15585
VUnfortunately in
p15586
aVNET 3
p15587
aV5 you cannot build an expression which performs a series of arbitrary operations
p15588
aVHere's the list of supported expressions:
p15589
aVArithmetic: Add, AddChecked, Divide, Modulo, Multiply, MultiplyChecked, Negate, NegateChecked, Power, Subtract, SubtractChecked, UnaryPlus
p15590
aVCreation: Bind, ElementInit, ListBind, ListInit, MemberBind, MemberInit, New, NewArrayBounds, NewArrayInit
p15591
aVBitwise: And, ExclusiveOr, LeftShift (<<), Not, Or, RightShift (>>)
p15592
aVLogical: AndAlso (&&), Condition (
p15593
aV:), Equal, GreaterThan, GreaterThanOrEqual, LessThan, * LessThanOrEqual, NotEqual, OrElse (||), TypeIs
p15594
aVMember Access: ArrayIndex, ArrayLength, Call, Field, Property, PropertyOrField
p15595
aVOther: Convert, ConvertChecked, Coalesce (
p15596
aV, Constant, Invoke, Lambda, Parameter, TypeAs, Quote
p15597
aVNET 4 extends this API by adding the following expressions:
p15598
aVMutation: AddAssign, AddAssignChecked, AndAssign, Assign, DivideAssign, ExclusiveOrAssign, LeftShiftAssign, ModuloAssign, MultiplyAssign, MultiplyAssignChecked, OrAssign, PostDecrementAssign, PostIncrementAssign, PowerAssign, PreDecrementAssign, PreIncrementAssign, RightShiftAssign, SubtractAssign, SubtractAssignChecked
p15599
aVArithmetic: Decrement, Default, Increment, OnesComplement
p15600
aVMember Access: ArrayAccess, Dynamic
p15601
aVLogical: ReferenceEqual, ReferenceNotEqual, TypeEqual
p15602
aVFlow: Block, Break, Continue, Empty, Goto, IfThen, IfThenElse, IfFalse, IfTrue, Label, Loop, Return, Switch, SwitchCase, Unbox, Variable
p15603
aVExceptions: Catch, Rethrow, Throw
p15604
aVDebug: ClearDebugInfo, DebugInfo
p15605
aVThe Block expression is particularly interesting
p15606
as(dp15607
g16
V29407
p15608
stp15609
a((dp15610
g2
(lp15611
s(dp15612
g16
V29407
p15613
stp15614
a((dp15615
g2
(lp15616
VI wouldn't bother modifying the query logic
p15617
aVIt is the responsibility of the view to format the output
p15618
aVSo leave the query as is:
p15619
aVand in your view format as necessary:
p15620
aVor even better write a helper:
p15621
aVwhich could be used as:
p15622
as(dp15623
g16
V29407
p15624
stp15625
a((dp15626
g2
(lp15627
VThe accepted design of action methods is to return ActionResult
p15628
aVIn your case you are returning a string
p15629
aVTry this instead:
p15630
as(dp15631
g16
V29407
p15632
stp15633
a((dp15634
g2
(lp15635
VTry this instead:
p15636
aVand:
p15637
as(dp15638
g16
V29407
p15639
stp15640
a((dp15641
g2
(lp15642
VYou are binding a click event handler to a text input field meaning that it will be invoked when you click and not when you type
p15643
aVTry using the keyup event
p15644
as(dp15645
g16
V29407
p15646
stp15647
a((dp15648
g2
(lp15649
VAnd the ajax call:
p15650
as(dp15651
g16
V29407
p15652
stp15653
a((dp15654
g2
(lp15655
VMultiple queries
p15656
as(dp15657
g16
V29407
p15658
stp15659
a((dp15660
g2
(lp15661
VIt is not possible to call an instance method from a static constructor
p15662
aVYou don't know when the CLR will invoke this static constructor
p15663
aVAll you know is that it will be invoked before any instances of this object has been created
p15664
aVAnd you cannot call an instance method without having an instance of the object
p15665
as(dp15666
g16
V29407
p15667
stp15668
a((dp15669
g2
(lp15670
VYou may take a look at  from the ASP
p15671
aVNET MVC Futures assembly
p15672
aVThe helper method is built in ASP
p15673
aVNET MVC 2
p15674
as(dp15675
g16
V29407
p15676
stp15677
a((dp15678
g2
(lp15679
VWell you could always assign a variable:
p15680
as(dp15681
g16
V29407
p15682
stp15683
a((dp15684
g2
(lp15685
VUPDATE:
p15686
aVor using XPATH:
p15687
aVDon't forget to add the using  as XPathSelectElement is an extension method
p15688
as(dp15689
g16
V29407
p15690
stp15691
a((dp15692
g2
(lp15693
VYes, it is called source control repository where your source code is stored
p15694
aVMost of them handle history and allow you to compare differences between commits
p15695
aVIf you don't use source control (maybe it's time to start using one) you could ildasm the assemblies and use your favorite diff tool
p15696
as(dp15697
g16
V29407
p15698
stp15699
a((dp15700
g2
(lp15701
VYou may create a new datetime with the current year:
p15702
aVNow compare dateATemp < dateBTemp < dateCTemp
p15703
aVYou could write an extension method from DateTime that will return you a new DateTime instance with the current year:
p15704
aVand use it like this:
p15705
as(dp15706
g16
V29407
p15707
stp15708
a((dp15709
g2
(lp15710
VUPDATE:
p15711
aVYou could also build tags using XElement:
p15712
as(dp15713
g16
V29407
p15714
stp15715
a((dp15716
g2
(lp15717
VIn the Class Diagram Menu choose Change Members Format and select Display Members and Type:
p15718
aVRight click on the property and choose Show as Association:
p15719
as(dp15720
g16
V29407
p15721
stp15722
a((dp15723
g2
(lp15724
VSupposing you have a controller action that will feed the data for the dropdown:
p15725
aVAnd in your view:
p15726
as(dp15727
g16
V29407
p15728
stp15729
a((dp15730
g2
(lp15731
VI wouldn't bother much about this
p15732
aVOne of the greatest advantages of ASP
p15733
aVNET MVC over traditional WebForms is that it allows you to separate concerns and have unit tests
p15734
aVSo you make a change in the controller and navigate to the corresponding unit test to verify it
p15735
aVRed-Green-Refactor cycle
p15736
as(dp15737
g16
V29407
p15738
stp15739
a((dp15740
g2
(lp15741
VYou could also try to modify the timestamp of web
p15742
aVconfig in the root folder before attempting to copy the files
p15743
aVThis will unload the application and free used files
p15744
as(dp15745
g16
V29407
p15746
stp15747
a((dp15748
g2
(lp15749
VHow about writing a custom attribute:
p15750
aVwhich could be used like this:
p15751
as(dp15752
g16
V29407
p15753
stp15754
a((dp15755
g2
(lp15756
VThis works fine
p15757
aVIt prints
p15758
as(dp15759
g16
V29407
p15760
stp15761
a((dp15762
g2
(lp15763
VI would create a subfolder Extensions in which define helper methods:
p15764
aVIn your view you need to reference the namespace and use the extension method:
p15765
as(dp15766
g16
V29407
p15767
stp15768
a((dp15769
g2
(lp15770
VThis is called mixed authentication mode
p15771
aVBasically you cannot achieve this within a single application because in IIS once you set up Windows authentication for a virtual directory it will no longer accept users from different domains
p15772
aVSo basically you need to have two applications, the first with Windows Authentication and the second (the main application) using Forms authentication
p15773
aVThe first application will consist of a single address which will simply redirect to the main application by issuing an authentication ticket for the domain user
p15774
as(dp15775
g16
V29407
p15776
stp15777
a((dp15778
g2
(lp15779
Vand in your action:
p15780
as(dp15781
g16
V29407
p15782
stp15783
a((dp15784
g2
(lp15785
VWhen you register ASP
p15786
aVNET with IIS (aspnet_regiis
p15787
aVexe) it will add common extensions and associate them with the ASP
p15788
aVNET handler
p15789
aVAs far as the  extension is concerned it is filtered and not served by IIS
p15790
aVIt is absolutely safe to have these files there, but I would recommend you to use an ASP
p15791
aVNET application project (in contrast to ASP
p15792
aVNET website) which is precompiled and you don't need to deploy source code files on your server
p15793
as(dp15794
g16
V29407
p15795
stp15796
a((dp15797
g2
(lp15798
VIt means that when you call the Sort method without argument (without explicitly specifying a comparer) it will use this default implementation
p15799
as(dp15800
g16
V29407
p15801
stp15802
a((dp15803
g2
(lp15804
VIf  is a reference type, then yes, modifying  will modify the element in the list
p15805
as(dp15806
g16
V29407
p15807
stp15808
a((dp15809
g2
(lp15810
s(dp15811
g16
V29407
p15812
stp15813
a((dp15814
g2
(lp15815
VThe advantage of using built-in Tracing in
p15816
aVNET is that you can easily switch between listeners and by simply modifying your config file switch from tracing to a text file into the event log of the machine
p15817
as(dp15818
g16
V29407
p15819
stp15820
a((dp15821
g2
(lp15822
VThe Java Runtime Environment (JRE) interprets byte code to platform specific machine code
p15823
aVJRE is minimal set of programmes which executes the java class files
p15824
aVThe JDK (Java Developmental Toolkit) comes along with java libraries and JRE embedded in it
p15825
aVApart from these it comes along with the utility tools for byte code compilation "javac"
p15826
as(dp15827
g16
V29407
p15828
stp15829
a((dp15830
g2
(lp15831
s(dp15832
g16
V29407
p15833
stp15834
a((dp15835
g2
(lp15836
Vfilter reduces the set of already matched elements, while find gets descendants of the matched element
p15837
as(dp15838
g16
V29407
p15839
stp15840
a((dp15841
g2
(lp15842
VHere's how your final code will look like in the two cases:
p15843
aVUsing const:
p15844
aVWithout const:
p15845
aVSo in the second case you will have an additional local variable declared, but IMHO the difference would be microscopic
p15846
as(dp15847
g16
V29407
p15848
stp15849
a((dp15850
g2
(lp15851
VYes, because if you change the type of some property (for example DateTime -> string) it is not bidirectional (you will need to instruct Automapper how to convert string -> DateTime)
p15852
as(dp15853
g16
V29407
p15854
stp15855
a((dp15856
g2
(lp15857
VI haven't found a clean way to achieve this using Data Annotations
p15858
aVOne way would be to write a custom model binder but this seems like a lot of work to do for such a simple task
p15859
aVAnother way to achieve this is to add an  folder to your ASP
p15860
aVNET application
p15861
aVAdd a resource file called  containing a  string resource
p15862
aVIn your  register the resource class key:
p15863
aVNote that ASP
p15864
aVNET MVC 2 uses the   instead of  resource key
p15865
aVIMO using Data Annotations to perform validation logic is limited (maybe in
p15866
aVNET 4 this will change)
p15867
aVIf you want to have full control over the validation logic I would recommend you using a validation library such as Fluent Validation or xVal
p15868
as(dp15869
g16
V29407
p15870
stp15871
a((dp15872
g2
(lp15873
VA simple extension method might do the job:
p15874
aVAnd in your view:
p15875
as(dp15876
g16
V29407
p15877
stp15878
a((dp15879
g2
(lp15880
VAs your class is a reference type this is the normal behavior
p15881
aVHere's what's happening in memory:
p15882
aVYou instantiate an object and put it in session
p15883
aVAt this stage a new object is created on the heap and  is pointing to this object
p15884
aVYou retrieve the object from session in controller A and modify some property but you do not call :
p15885
aVNow  is pointing to this same object you created earlier on the heap
p15886
aVAs  is only a reference you are actually modifying the original object in memory
p15887
aVYou retrieve the object from session in Controller B:
p15888
aVNow  points to the same memory location which has been modified
p15889
as(dp15890
g16
V29407
p15891
stp15892
a((dp15893
g2
(lp15894
VOne way to do this is to check the parameters
p15895
aVFor example:
p15896
aVAnother possibility is this:
p15897
as(dp15898
g16
V29407
p15899
stp15900
a((dp15901
g2
(lp15902
VEven if it is compiled for
p15903
aVNET 3
p15904
aV5, the assembly should be able to run in
p15905
aVNET 4
p15906
aVHere's a nice picture
p15907
as(dp15908
g16
V29407
p15909
stp15910
a((dp15911
g2
(lp15912
VJust add a property to your model ViewModel:
p15913
aVand use this property:
p15914
as(dp15915
g16
V29407
p15916
stp15917
a((dp15918
g2
(lp15919
VNo there isn't
p15920
aVImagine the security implications of this
p15921
aVA hacker site includes an iframe of your bank site and registers a keyup event handler for the input field where you type your credit card number capturing everything you type there
p15922
as(dp15923
g16
V29407
p15924
stp15925
a((dp15926
g2
(lp15927
VThis will depend on when you call this static method
p15928
aVIf you call it directly from the code behind (for example in  or some button click) you will monopolize the thread serving the request
p15929
aVThreads serving requests are drawn from a thread pool
p15930
aVIf slow operations are called on them (no matter if you call a static or instance method) your application servicing capabilities will suffer
p15931
aVYou could use asynchronous pages to improve performance if the operation is IO bound (database call, web service call, some network call in general)
p15932
as(dp15933
g16
V29407
p15934
stp15935
a((dp15936
g2
(lp15937
VHttpContext is a good place for this
p15938
aVThe Items dictionary could be used to store objects relative to the request
p15939
as(dp15940
g16
V29407
p15941
stp15942
a((dp15943
g2
(lp15944
VThere's a client API for TFS which could be used to build such application
p15945
as(dp15946
g16
V29407
p15947
stp15948
a((dp15949
g2
(lp15950
VIn order to achieve this you will need some way to track users
p15951
aVDepending on how your site is designed there are different ways to achieve this
p15952
aVIf in order to submit the form the user has to be authenticated you could associate some flag with the current user indicating if he already submitted the form
p15953
aVSo before showing the form you check the flag and show the form to the user
p15954
aVOnce he submits it you update the flag so that the next time the user tries to load the form the application will known that he already submitted it
p15955
aVIf it is anonymous site you could use cookies to track users
p15956
aVRemember that cookies could be disabled, deleted, manipulated by the user so this is not a reliable way
p15957
as(dp15958
g16
V29407
p15959
stp15960
a((dp15961
g2
(lp15962
VI wouldn't say that it is a code smell
p15963
aVIn ASP
p15964
aVNET MVC it is quite common
p15965
as(dp15966
g16
V29407
p15967
stp15968
a((dp15969
g2
(lp15970
VDue to security policies cross domain ajax requests are not allowed
p15971
aVIn FireFox use FireBug to see exactly what's sent to the server and what's the response
p15972
as(dp15973
g16
V29407
p15974
stp15975
a((dp15976
g2
(lp15977
VYou could try the  function:
p15978
as(dp15979
g16
V29407
p15980
stp15981
a((dp15982
g2
(lp15983
VI would strongly recommend you reading hginit
p15984
aVIt is a great tutorial for Hg and there's a chance that after reading it you will be sold :-)
p15985
as(dp15986
g16
V29407
p15987
stp15988
a((dp15989
g2
(lp15990
VRedirecting is the easy part:
p15991
aVThe more difficult part would be to set up a single sign on process so that when a user is authenticated on the legacy application he would be automatically authenticated on the new MVC application
p15992
aVHere's a nice article covering how to setup a SSO scenario between two ASP
p15993
aVNET applications
p15994
as(dp15995
g16
V29407
p15996
stp15997
a((dp15998
g2
(lp15999
VSame thing:
p16000
aVAfter all it is an ASP
p16001
aVNET application
p16002
aVFor self hosting services you could configure  just before starting the host
p16003
as(dp16004
g16
V29407
p16005
stp16006
a((dp16007
g2
(lp16008
VIt could be :
p16009
as(dp16010
g16
V29407
p16011
stp16012
a((dp16013
g2
(lp16014
VYou could use :
p16015
aVAnd in your view include the partial:
p16016
aVRemark:  is part of the now released ASP
p16017
aVNET MVC 2 RTM
p16018
aVFor ASP
p16019
aVNET MVC 1 you may take a look at the Futures assembly containing this extension method
p16020
as(dp16021
g16
V29407
p16022
stp16023
a((dp16024
g2
(lp16025
VYes, this is correct
p16026
aVBrowsers only support GET and POST for sending forms
p16027
aVYou could use AJAX though:
p16028
aVAnd if you want to AJAXify a form submission you may take a look at the jquery
p16029
aVform plugin
p16030
as(dp16031
g16
V29407
p16032
stp16033
a((dp16034
g2
(lp16035
s(dp16036
g16
V29407
p16037
stp16038
a((dp16039
g2
(lp16040
VYou could put them in the special  directory
p16041
aVFiles inside this folder are not served
p16042
as(dp16043
g16
V29407
p16044
stp16045
a((dp16046
g2
(lp16047
VI wouldn't say there are any particular reasons
p16048
aVIt is just one way of writing directly to the document
p16049
as(dp16050
g16
V29407
p16051
stp16052
a((dp16053
g2
(lp16054
VYou could also have an id generator class:
p16055
as(dp16056
g16
V29407
p16057
stp16058
a((dp16059
g2
(lp16060
VThere's a  missing in the first line of your javascript file
p16061
as(dp16062
g16
V29407
p16063
stp16064
a((dp16065
g2
(lp16066
VYou could use XPath if your XML is not very large:
p16067
as(dp16068
g16
V29407
p16069
stp16070
a((dp16071
g2
(lp16072
VWell save them the pain of collecting all the assemblies and place them in the lib folder yourself
p16073
aVThen commit them along with the source code in the repository
p16074
aVThis way people checking out the code from the repository will also get everything that is needed to compile the project
p16075
as(dp16076
g16
V29407
p16077
stp16078
a((dp16079
g2
(lp16080
VSOAP 1
p16081
aV1 and 1
p16082
aV2 are supported
p16083
as(dp16084
g16
V29407
p16085
stp16086
a((dp16087
g2
(lp16088
VYou might try something among the lines:
p16089
aVUPDATE:
p16090
aVHere's an improvement of the binder (see  section in previous code):
p16091
aVIn order to handle collections you will need to register the binder in  as you will no longer be able to decorate the list with the :
p16092
aVAnd then your action could look like this:
p16093
aVSummarizing the important part:
p16094
aVA further improvement step of this binder would be to handle validation (AddModelError/SetModelValue)
p16095
as(dp16096
g16
V29407
p16097
stp16098
a((dp16099
g2
(lp16100
VI would recommend you using  instead of calling :
p16101
aVNow if you know how to test  with MVCContrib  you will be able to test the  the same way
p16102
aVThe tricky part is mocking the  to force it to satisfy the if condition
p16103
aVUPDATE:
p16104
aVHere's how a sample test might look like:
p16105
aVUpdate (By Matt Lacey)
p16106
aVHere's how I actually got this working:
p16107
as(dp16108
g16
V29407
p16109
stp16110
a((dp16111
g2
(lp16112
VASP
p16113
aVNET MVC uses a web application project in contrast to a web site
p16114
aVA web application project needs to be compiled
p16115
aVThe  directory makes no sense in such application type
p16116
as(dp16117
g16
V29407
p16118
stp16119
a((dp16120
g2
(lp16121
VUnfortunately this is not possible
p16122
aVand  assemblies are required and they are part of
p16123
aVNET 3
p16124
ag2721
aVAnother important note is that WCF depends on HTTP
p16125
aVSYS (kernel level HTTP stack) which is available on Win2003, WinXP SP2 or higher, while you can still have
p16126
aVNET 2
p16127
aV0 installed on Win2000
p16128
aVOn the client side you could still have
p16129
aVNET 2
p16130
aV0 consuming the WCF service
p16131
aVYou need to expose a basicHttpBinding endpoint for this purpose
p16132
as(dp16133
g16
V29407
p16134
stp16135
a((dp16136
g2
(lp16137
VMVCContrib has a BlockRenderer class which could be helpful for this scenario
p16138
as(dp16139
g16
V29407
p16140
stp16141
a((dp16142
g2
(lp16143
VHere you go
p16144
aVAll that you need is to write a custom VirtualPathProvider and register it within the ASP
p16145
aVNET hosting environment
p16146
aVWorks also with classic WebForms
p16147
as(dp16148
g16
V29407
p16149
stp16150
a((dp16151
g2
(lp16152
VWhat do you want to localize in your controller
p16153
aVNormally only what is shown to the user should be localized
p16154
aVAnd what is shown to the user should be inside a view so back to the helpers
p16155
as(dp16156
g16
V29407
p16157
stp16158
a((dp16159
g2
(lp16160
VThere are tools allowing you to capture a screenshot of a webpage
p16161
aVThese tools are not intended to be used in an ASP
p16162
aVNET environment
p16163
aVYou cannot capture the contents of a page before the page has been rendered or within it (chicken and egg problem)
p16164
aVYou could have an external service which sends requests to the webpage and saves screenshots of it in time
p16165
aVYour webpage could then use these screenshots to display them to the user
p16166
as(dp16167
g16
V29407
p16168
stp16169
a((dp16170
g2
(lp16171
VMake sure you remove all referenced assemblies that are part of
p16172
aVNET 3
p16173
aV5 (such as , , )
p16174
aVLook at the version of each referenced assembly in the Properties Window - if it is 3
p16175
ag244
ag2721
aV0 remove it
p16176
aVAs
p16177
aVNET 3
p16178
aV0 and
p16179
aVNET 3
p16180
aV5 use the same CLR (v2
p16181
ag2721
aV50727) there's nothing else you need to do
p16182
as(dp16183
g16
V29407
p16184
stp16185
a((dp16186
g2
(lp16187
VThe error you are getting is at the  loop
p16188
aVThe variable  is declared of type  while  might be something else (an array of object which are not of the correct type)
p16189
aVLook at the type of the  variable
p16190
as(dp16191
g16
V29407
p16192
stp16193
a((dp16194
g2
(lp16195
VHere's an unpacker
p16196
as(dp16197
g16
V29407
p16198
stp16199
a((dp16200
g2
(lp16201
VInstead of creating a string which you later try to parse to a date try this:
p16202
as(dp16203
g16
V29407
p16204
stp16205
a((dp16206
g2
(lp16207
VYou could use the special  property:
p16208
as(dp16209
g16
V29407
p16210
stp16211
a((dp16212
g2
(lp16213
VYou could use caspol
p16214
aVexe to turn code access security check off
p16215
as(dp16216
g16
V29407
p16217
stp16218
a((dp16219
g2
(lp16220
VTake a look at the trigger function:
p16221
as(dp16222
g16
V29407
p16223
stp16224
a((dp16225
g2
(lp16226
VI've used this class in one of my past projects:
p16227
aVIn order to instantiate the  class you need to provide an absolute path where your templates root is
p16228
aVThen you use relative paths to reference your  files
p16229
as(dp16230
g16
V29407
p16231
stp16232
a((dp16233
g2
(lp16234
VYou could use the GetHostAddresses method:
p16235
as(dp16236
g16
V29407
p16237
stp16238
a((dp16239
g2
(lp16240
VI would suggest you to use the  helper
p16241
aVModel:
p16242
aVViews/Home/Index
p16243
aVaspx:
p16244
aVViews/Shared/EditorTemplates/EditableContent
p16245
aVascx:
p16246
aVAnd finally Controller/HomeController:
p16247
as(dp16248
g16
V29407
p16249
stp16250
a((dp16251
g2
(lp16252
VIn a RESTful application this should go to the  action of the
p16253
aVYou need to pass the company id as well to this action
p16254
as(dp16255
g16
V29407
p16256
stp16257
a((dp16258
g2
(lp16259
VThat's how the RenderPartial method works (I know should have been documented, blogged about, etc
p16260
aV, me too I find this a little strange)
p16261
aVIf you do not specify a model or pass  it will use the model of the parent page
p16262
aVTo avoid this you might use the null coalescing operator:
p16263
aVAnd if you are really curious as to how this is implemented there's an excerpt from the relevant parts of the ASP
p16264
aVNET MVC 2 source code:
p16265
aVNotice how the case of null model is handled
p16266
as(dp16267
g16
V29407
p16268
stp16269
a((dp16270
g2
(lp16271
VFor authenticated users you could use a flag in the database and for anonymous users you could use a cookie
p16272
as(dp16273
g16
V29407
p16274
stp16275
a((dp16276
g2
(lp16277
VDo this:
p16278
aVInstead of:
p16279
aVNotice the closing script tag at the end
p16280
as(dp16281
g16
V29407
p16282
stp16283
a((dp16284
g2
(lp16285
VYou could use the SmtpClient class
p16286
aVExample using GMail's SMTP:
p16287
aVUPDATE:
p16288
aVExample with yahoo:
p16289
as(dp16290
g16
V29407
p16291
stp16292
a((dp16293
g2
(lp16294
VThe memory of a
p16295
aVNET application is managed by the CLR and it is not recommended to interfere with it
p16296
aVI would instead advice you to profile your service and try to understand why it is leaking memory
p16297
aVWhat do you do with the results of the query
p16298
aVDo you store them in memory (some static objects)
p16299
aVMake sure you use  blocks around disposable resources such as  and
p16300
aVThe garbage collector should take care of freeing resources
p16301
as(dp16302
g16
V29407
p16303
stp16304
a((dp16305
g2
(lp16306
VWhat parser are you using
p16307
aVThe sample you showed is definitely a valid XML
p16308
aVFor example in
p16309
aVNET I successfully parsed this XML :
p16310
aVusing the following code:
p16311
as(dp16312
g16
V29407
p16313
stp16314
a((dp16315
g2
(lp16316
VThe documentation doesn't state clearly if the credentials should be passed as HTTP headers
p16317
aVThey talk about parameters, so I would also try passing them as GET parameters:
p16318
as(dp16319
g16
V29407
p16320
stp16321
a((dp16322
g2
(lp16323
s(dp16324
g16
V29407
p16325
stp16326
a((dp16327
g2
(lp16328
s(dp16329
g16
V29407
p16330
stp16331
a((dp16332
g2
(lp16333
VIf it is a really huge XML which cannot fit into memory you should use XmlReader/XmlWriter
p16334
aVIf not LINQ to XML is very easy to use
p16335
aVIf you don't have
p16336
aVNET 3
p16337
aV5 you could use XmlDocument
p16338
aVHere's an example of removing a node:
p16339
as(dp16340
g16
V29407
p16341
stp16342
a((dp16343
g2
(lp16344
VFrom MVC point of view it is not a good design to have your view provide data
p16345
aVUsually this is the responsibility of the controller
p16346
aVDepending on the context and what this data represents you could use an HTML helper or a write an action filter
p16347
aVHere's an example with a custom action filter:
p16348
aVAnd then decorate your action with this filter:
p16349
as(dp16350
g16
V29407
p16351
stp16352
a((dp16353
g2
(lp16354
VInstead of using  you could use editor templates which will handle prefixes
p16355
aVSo in your main view:
p16356
aVAnd then create a folder  (The name of this file is used in the  helper method)
p16357
aVAlso notice that this partial should be strongly typed to the type of the  property:
p16358
aVYou could define a different partial for the login model in
p16359
as(dp16360
g16
V29407
p16361
stp16362
a((dp16363
g2
(lp16364
VYou could use the Timeout property:
p16365
aVUPDATE:
p16366
aVTo answer the question in the comment section about  you could do the following:
p16367
as(dp16368
g16
V29407
p16369
stp16370
a((dp16371
g2
(lp16372
VConcerning this line :
p16373
aVdeclare a variable called  of type array of byte and assign it to the contents of  string converted to an array of byte using ASCII encoding
p16374
as(dp16375
g16
V29407
p16376
stp16377
a((dp16378
g2
(lp16379
V helper is available on ASP
p16380
aVNET MVC 2
p16381
ag2721
aVWhich version are you using
p16382
as(dp16383
g16
V29407
p16384
stp16385
a((dp16386
g2
(lp16387
s(dp16388
g16
V29407
p16389
stp16390
a((dp16391
g2
(lp16392
VThis happens because the  method you are calling at the end executes after the query has run and outside of the database
p16393
aVYou are only counting the elements in the list in memory
p16394
aVTo achieve what you are looking for you could use a projection:
p16395
as(dp16396
g16
V29407
p16397
stp16398
a((dp16399
g2
(lp16400
VI really don't know what your standards for minimal coding are but on Telerik site you provided there's a quite verbose example:
p16401
aVSo all you need to do is implement this  method (which by the way should be placed in some repository and not part of the controller logic) in which you would use your existing NHibernate data access
p16402
as(dp16403
g16
V29407
p16404
stp16405
a((dp16406
g2
(lp16407
VYou could use the  callback to set values:
p16408
as(dp16409
g16
V29407
p16410
stp16411
a((dp16412
g2
(lp16413
VTry using :
p16414
aVand as you already have a reference to the form just submit it:
p16415
as(dp16416
g16
V29407
p16417
stp16418
a((dp16419
g2
(lp16420
VYou could have a custom wrapper to manage connections but this wrapper should not manage commands:
p16421
aVAs the command object is stored within your wrapper it will be reused
p16422
aVThe problem is that the first time you call  this command is disposed and the second time you call it you get the exception
p16423
aVTry creating the commands for each query:
p16424
as(dp16425
g16
V29407
p16426
stp16427
a((dp16428
g2
(lp16429
VYou could use PIVOT
p16430
aVTake a look at this article
p16431
as(dp16432
g16
V29407
p16433
stp16434
a((dp16435
g2
(lp16436
VYou could use the Url property in the controller:
p16437
aVAs far as the model is concerned you should avoid using such methods there
p16438
aVThe model is passed to the view and the view has access to helper methods which can do the job
p16439
as(dp16440
g16
V29407
p16441
stp16442
a((dp16443
g2
(lp16444
VThis seems like a very though task to do if you want to handle all possible cases
p16445
aVHTML is not a regular language
p16446
aVIMHO you should try to solve the problem at the source which is how in the first place you got invalid HTML
p16447
as(dp16448
g16
V29407
p16449
stp16450
a((dp16451
g2
(lp16452
VRight-click your aspx file and select
p16453
as(dp16454
g16
V29407
p16455
stp16456
a((dp16457
g2
(lp16458
VIn order to write a program in a machine independent language there must be something on this machine that will convert this language to a machine specific language (machines can read only machine language)
p16459
aVThe pros of this is that this something could perform optimizations for the specific machine it is running on which you won't be capable of doing in your machine dependent language as it is quite difficult to cover all the different machines your application could possibly run on
p16460
as(dp16461
g16
V29407
p16462
stp16463
a((dp16464
g2
(lp16465
VAyende blogged about this
p16466
as(dp16467
g16
V29407
p16468
stp16469
a((dp16470
g2
(lp16471
VHere's one example:
p16472
aVNow comment the  implementation and run the program again
p16473
as(dp16474
g16
V29407
p16475
stp16476
a((dp16477
g2
(lp16478
VAssuming you already have the persons array you could use the each method to loop through the elements:
p16479
as(dp16480
g16
V29407
p16481
stp16482
a((dp16483
g2
(lp16484
VTry putting this in your app/web
p16485
aVconfig:
p16486
aVIf this doesn't work you may also try setting the  property to false
p16487
as(dp16488
g16
V29407
p16489
stp16490
a((dp16491
g2
(lp16492
VHere's how you could use FindWindow to retrieve the handle to a window given its title:
p16493
as(dp16494
g16
V29407
p16495
stp16496
a((dp16497
g2
(lp16498
VI am not aware of such an interface in the BCL
p16499
as(dp16500
g16
V29407
p16501
stp16502
a((dp16503
g2
(lp16504
VXDocument and XmlReader are both XML parsers that expect a properly formed XML as input
p16505
aVWhat you have shown is not a XML file
p16506
aVSo the first task would be to extract the nested XML and as this is not valid XML you cannot rely on any parser to do this job
p16507
aVYou'll need to resort to string manipulation and or regular expressions
p16508
aVMy suggestion would be to fix the procedure generating this invalid XML in the first place
p16509
aVAnother suggestion is to never generate a XML file manually but use an appropriate tool for this (XmlWriter, XDocument,
p16510
as(dp16511
g16
V29407
p16512
stp16513
a((dp16514
g2
(lp16515
VMake sure that your update method has the right parameters
p16516
aVFor example if in your grid you have the following fields:
p16517
aVyour update method could look like this:
p16518
aVHere's a full example
p16519
as(dp16520
g16
V29407
p16521
stp16522
a((dp16523
g2
(lp16524
VHow about deriving directly from :
p16525
as(dp16526
g16
V29407
p16527
stp16528
a((dp16529
g2
(lp16530
VYou are missing an :
p16531
as(dp16532
g16
V29407
p16533
stp16534
a((dp16535
g2
(lp16536
VThe second argument of the load function represents a hash allowing you to pass additional parameters along with the AJAX request:
p16537
aVAnd in your controller action you could add  in order to retrieve the value passed by the AJAX call:
p16538
as(dp16539
g16
V29407
p16540
stp16541
a((dp16542
g2
(lp16543
VYou could write your own extension method for this (sorry for my VB which is a little rusty):
p16544
aVwhich you could use like so:
p16545
as(dp16546
g16
V29407
p16547
stp16548
a((dp16549
g2
(lp16550
VFireFox + FireBug is very good for this purpose
p16551
aVFor IE there's a developer toolbar which I've never used and intend to use so I cannot provide much feedback
p16552
as(dp16553
g16
V29407
p16554
stp16555
a((dp16556
g2
(lp16557
VUnless you modify your server action to return the appropriate HTML for all the divs that need to be updated (probably using JSON encoded string) you cannot achieve this in a single AJAX request
p16558
aVUPDATE:
p16559
aVThere's another technique I would like to show
p16560
aVYou could have a controller action which returns javascript
p16561
aVLet's take for example the following ASCX partial view ():
p16562
aVWhere the RenderPartialToString is taken from here (Remark: this method probably has some flaws and might not work for every cases but you could try it)
p16563
aVNext you perform an AJAX request to a controller action which simply renders this partial:
p16564
aVYou need to specify  in your ajax request so that the javascript contained in the previous partial is being evaluated:
p16565
aVOne last note is to properly escape the result of the  method as it may contain characters that brake javascript
p16566
aVHere's one method you might use:
p16567
aVSo finally your partial could look like this:
p16568
aVYou can see that you can put whatever javascript you like in this  to make your AJAX request fancy
p16569
aVRemark: The idea is taken from Ruby On Rails Javascript Generators
p16570
as(dp16571
g16
V29407
p16572
stp16573
a((dp16574
g2
(lp16575
VYou need to use a namespace manager
p16576
aVHere's an example using XPath to select the necessary tags and then update their value:
p16577
as(dp16578
g16
V29407
p16579
stp16580
a((dp16581
g2
(lp16582
VFor portability across Windows, Linux or Mac you will need to use Mono
p16583
aVAs far as hosting is concerned it is very easy to write your own host for a WCF service
p16584
aVYou can even host it in a console application
p16585
as(dp16586
g16
V29407
p16587
stp16588
a((dp16589
g2
(lp16590
VDeclare a global variable in your aspx page:
p16591
aVAnd then use this global variable in your javascript file:
p16592
as(dp16593
g16
V29407
p16594
stp16595
a((dp16596
g2
(lp16597
VThere's the idleTimer plugin which could be used for this purpose
p16598
aVAnd here's a nice demo of the plugin in action
p16599
as(dp16600
g16
V29407
p16601
stp16602
a((dp16603
g2
(lp16604
VThe reason this happens is because if you change the  value the browser will perform a redirect to the new location and as you are doing this in the  this happens indefinitely
p16605
aVBefore doing this redirect you might want to check if the current url already contains these parameters
p16606
aVRemark: Using javascript for this purpose seems to me like a bad idea
p16607
aVI would perform this redirect on the server side which would be more reliable
p16608
aVIn your default
p16609
aVaspx page:
p16610
as(dp16611
g16
V29407
p16612
stp16613
a((dp16614
g2
(lp16615
VTry like this:
p16616
aVEdit this code is now out of date (relates to NAudio 1
p16617
aV3)
p16618
aVNot recommended on newer versions of NAudio
p16619
aVPlease see alternative answer
p16620
as(dp16621
g16
V29407
p16622
stp16623
a((dp16624
g2
(lp16625
s(dp16626
g16
V29407
p16627
stp16628
a((dp16629
g2
(lp16630
VTry this:
p16631
as(dp16632
g16
V29407
p16633
stp16634
a((dp16635
g2
(lp16636
VIf it is a data bound control you may try this:
p16637
aVPersonally I would prefer setting this value from the code behind
p16638
aVIt seems a little strange to me that a view (aspx) page manipulates the session:
p16639
as(dp16640
g16
V29407
p16641
stp16642
a((dp16643
g2
(lp16644
VWel it's obvious  does not contain a correct XML which could be deserialized to a  object
p16645
aVThe XML should look like this:
p16646
as(dp16647
g16
V29407
p16648
stp16649
a((dp16650
g2
(lp16651
VYou cannot upload files with AJAX
p16652
aVOne way to achieve this is to use a hidden iframe which will simulate an AJAX call and perform the actual file upload or use Flash
p16653
aVHere's a very nice jQuery Form plugin using a hidden iframe which is capable of transparently ajaxifying a form submission containing file fields
p16654
as(dp16655
g16
V29407
p16656
stp16657
a((dp16658
g2
(lp16659
VThis could be due to some cross domain restrictions
p16660
aVYou can perform AJAX calls only to resources which are hosted on the same domain/port as the HTML page performing the request
p16661
aVIf this is not the case you could also try this call:
p16662
aVor using the get function:
p16663
as(dp16664
g16
V29407
p16665
stp16666
a((dp16667
g2
(lp16668
VAccording to Reflector all that the constructor of WebClient does is this:
p16669
aVSo no you have not much benefit of having a pool
p16670
as(dp16671
g16
V29407
p16672
stp16673
a((dp16674
g2
(lp16675
VThere's an excellent plugin TypeWatch you may take a look at (IIRC StackOverflow uses this for the Users page)
p16676
aVHere's a sample usage:
p16677
as(dp16678
g16
V29407
p16679
stp16680
a((dp16681
g2
(lp16682
VYou don't need to add  directory or install SQL Express on your machine
p16683
aVAll you need is a connection string allowing you to connect to the remote database
p16684
aVOnce you have the connection string you can start querying the database
p16685
aVThe way you do this will depend primary on the technology you would like to use: NHibernate, LINQ to SQL, LINQ To Entities, plain old ADO
p16686
aVNET,
p16687
as(dp16688
g16
V29407
p16689
stp16690
a((dp16691
g2
(lp16692
VHere's a nice post explaining how to configure ASP
p16693
aVNET MVC to run on IIS6 using extensionless routes
p16694
as(dp16695
g16
V29407
p16696
stp16697
a((dp16698
g2
(lp16699
VTry setting the culture in web
p16700
aVconfig:
p16701
as(dp16702
g16
V29407
p16703
stp16704
a((dp16705
g2
(lp16706
VYou didn't explain what format you are trying to handle but isn't File
p16707
aVWriteAllText sufficient
p16708
aVFor binary files you could use File
p16709
aVWriteAllBytes:
p16710
as(dp16711
g16
V29407
p16712
stp16713
a((dp16714
g2
(lp16715
VThe default model binder supports advanced scenarios such as binding to lists and dictionaries
p16716
aVIn order for this to work you need to send the following request:
p16717
aVSo you could either write your own custom binder or format your query parameters in this way
p16718
aVI am not sure that jQuery supports this out of the box
p16719
as(dp16720
g16
V29407
p16721
stp16722
a((dp16723
g2
(lp16724
VYou could use editor templates
p16725
aVPut your ascx control in
p16726
aVThen inside your main View (aspx page) include the template like so (assuming your view is strongly typed to ):
p16727
aVinstead of
p16728
as(dp16729
g16
V29407
p16730
stp16731
a((dp16732
g2
(lp16733
VHere's an example I wrote for you illustrating the usage of DropDownListFor helper method:
p16734
aVModel:
p16735
aVController:
p16736
aVView:
p16737
as(dp16738
g16
V29407
p16739
stp16740
a((dp16741
g2
(lp16742
VCreate a global javascript variable in your view containing the url:
p16743
aVThen you could use this variable in your external javascript file:
p16744
as(dp16745
g16
V29407
p16746
stp16747
a((dp16748
g2
(lp16749
VYou could use the insertAfter function:
p16750
aVThis will insert a div for each emplyee just after the div#ResultDiv
p16751
aVIf you want to insert divs inside the result div you could use the append method:
p16752
as(dp16753
g16
V29407
p16754
stp16755
a((dp16756
g2
(lp16757
VSpring
p16758
aVNET is an object container
p16759
aVIt is not intended to be used as a caching container therefore you should not store your data in the repositories
p16760
aVWhat you need in this case is a distributed caching solution such as memcached
p16761
aVIt has a
p16762
aVNET client library also
p16763
aVSo basically your repositories will first look in the distributed cache if the object exists and if not then hit the real data store in order to get the object and store it into the cache
p16764
aVSpring
p16765
aVNET will handle the lifetime of these repositories and as you are running in a webfarm you will have a repository per server but this won't be an issue because these repositories will use a distributed cache to fetch data so you will get consistent resylts between all the servers in the farm
p16766
as(dp16767
g16
V29407
p16768
stp16769
a((dp16770
g2
(lp16771
VYou could try something among the lines:
p16772
aVI would recommend you using the excellent jQuery library to manipulate the DOM:
p16773
as(dp16774
g16
V29407
p16775
stp16776
a((dp16777
g2
(lp16778
VYou cannot change the type of a variable at runtime
p16779
aVYou need to create a new instance
p16780
as(dp16781
g16
V29407
p16782
stp16783
a((dp16784
g2
(lp16785
VReverse the loop:
p16786
aVRemark: don't use
p16787
aVI would recommend you JSON
p16788
aVparse instead or if this JSON is coming from an ajax call jQuery should automatically parse it to object
p16789
aVUPDATE:
p16790
aVTo add row color to these divs you could try this outside the loop:
p16791
as(dp16792
g16
V29407
p16793
stp16794
a((dp16795
g2
(lp16796
VIt seems that the driver you are using is not supported on 64 bit systems
p16797
aVIn the properties of your project in the Build tab try setting the Platform Target to  instead of
p16798
as(dp16799
g16
V29407
p16800
stp16801
a((dp16802
g2
(lp16803
VModern browsers support inline images
p16804
aVSo you could convert the binary data to a base64 encoded string and then append it to the DOM:
p16805
as(dp16806
g16
V29407
p16807
stp16808
a((dp16809
g2
(lp16810
VYou need to specify the correct prefix in order to bind sub types
p16811
aVFor example if you want to bind to  property of the  property of the Model your textbox must be named:
p16812
aVWhen you use  your textbox is named  and the model binder doesn't work
p16813
aVOne workaround is to explicitly specify the name:
p16814
aVor use editor templates which is a new feature in ASP
p16815
aVNET MVC 2
p16816
ag2721
aVUPDATE:
p16817
aVBased on the additional details provided in the comments section here's a sample that should work:
p16818
aVModel:
p16819
aVController:
p16820
aVView - ~/Views/Home/Index
p16821
aVaspx:
p16822
aVView - ~/Views/Home/SearchTemplate
p16823
aVascx:
p16824
as(dp16825
g16
V29407
p16826
stp16827
a((dp16828
g2
(lp16829
VThere you go:
p16830
as(dp16831
g16
V29407
p16832
stp16833
a((dp16834
g2
(lp16835
VYou can always ping the server or check if a given port is open] but this won't guarantee you that this server won't get offline just before connecting for real
p16836
as(dp16837
g16
V29407
p16838
stp16839
a((dp16840
g2
(lp16841
VYou could use XPathSelectElement extension method:
p16842
aVYou could use XPathSelectElements if you want to select multiple nodes that correspond to this criteria
p16843
as(dp16844
g16
V29407
p16845
stp16846
a((dp16847
g2
(lp16848
VI would suggest you creating an action which will return a JSON representation of all the companies for a selected country:
p16849
aVThen assuming you already have a dropdown bound to the countries:
p16850
aVyou could register for the  event and when this event occurs perform an AJAX call to the  action of the  controller and get the associated companies:
p16851
as(dp16852
g16
V29407
p16853
stp16854
a((dp16855
g2
(lp16856
VYou could use the starts with selector:
p16857
as(dp16858
g16
V29407
p16859
stp16860
a((dp16861
g2
(lp16862
VIsn't overriding the GetWebRequest method working:
p16863
as(dp16864
g16
V29407
p16865
stp16866
a((dp16867
g2
(lp16868
VWhy not writing a managed component that will consume the web service and expose it as COM component which your script might consume
p16869
as(dp16870
g16
V29407
p16871
stp16872
a((dp16873
g2
(lp16874
VHere's one example when you will clearly gain from an async call: imagine that in order to render a page you need to aggregate information coming from different web services (or database calls) where each being independent and resulting in a network call
p16875
aVIn this case the async pattern is very good because you have IO bound operations for which IO Completion Ports will be used and while waiting for the response you won't monopolize worker threads
p16876
aVWhile the operations are running no thread will be consumed on the server side
p16877
aVIf you have many CPU bound operations than async pattern will not bring much benefit because while you free the request worker thread from performing the operation, another thread will be consumed to do calculations
p16878
aVI find this article a very useful reference
p16879
as(dp16880
g16
V29407
p16881
stp16882
a((dp16883
g2
(lp16884
VNo,  is not intended to be used that way
p16885
aVIt is only a temporary shared storage between a controller action and a view
p16886
aVIt allows the controller to pass some model to the view
p16887
aVFrom design perspective  should not be read by the controller action, it should only be written to
p16888
aVYou could use the  object if you want to store objects between multiple requests or  (which internally uses Session) to store data between two requests
p16889
as(dp16890
g16
V29407
p16891
stp16892
a((dp16893
g2
(lp16894
s(dp16895
g16
V29407
p16896
stp16897
a((dp16898
g2
(lp16899
VYou have too many double quotes
p16900
aVTry this:
p16901
as(dp16902
g16
V29407
p16903
stp16904
a((dp16905
g2
(lp16906
VThere's absolutely no way to unload a loaded assembly other than killing the AppDomain which is basically what you are doing when you restart IIS
p16907
as(dp16908
g16
V29407
p16909
stp16910
a((dp16911
g2
(lp16912
VConfirm that a controller exists
p16913
aVHaving unit tests on its actions is a strong suggestion that the controller exists which brings us to:
p16914
aVWhat would the unit test look like to
p16915
aVtest an Action Result off a view
p16916
aVHere's an example:
p16917
aVAnd the corresponding unit test:
p16918
aVMVCContrib has some great features allowing you to mock HttpContext and also test your routes
p16919
as(dp16920
g16
V29407
p16921
stp16922
a((dp16923
g2
(lp16924
VMake sure that the ASP
p16925
aVNET page that is sending the email gets the text correctly and it is not truncated before
p16926
aVThe issue seems surprisingly like if the comment is not URL encoded correctly and the page receives only the first part as a parameter
p16927
as(dp16928
g16
V29407
p16929
stp16930
a((dp16931
g2
(lp16932
VMe too used web site projects and it was a real PITA when I had to convert
p16933
aVWhy I had to convert
p16934
aVBecause ASP
p16935
aVMVC was out :-)
p16936
as(dp16937
g16
V29407
p16938
stp16939
a((dp16940
g2
(lp16941
VYou should use  instead:
p16942
as(dp16943
g16
V29407
p16944
stp16945
a((dp16946
g2
(lp16947
VYou could perform an AJAX call in the onbeforeunload event to some server side script that will kill the session
p16948
as(dp16949
g16
V29407
p16950
stp16951
a((dp16952
g2
(lp16953
VIt seems the type has a default constructor so  should work
p16954
aVIf you want to call some other constructor for example the one that take a string parameter you could do this:
p16955
aVor the one with two string parameters:
p16956
aVUPDATE:
p16957
aVMy mistake there's no parameterless constructor for this type defined
p16958
aVAll constructors need at least one argument which is of type InstanceContext
p16959
aVSo in order to create an instance of this type you will need to pass at least the instance context
p16960
aVFor example if you are in a WCF you could try this:
p16961
as(dp16962
g16
V29407
p16963
stp16964
a((dp16965
g2
(lp16966
VYes the session will be changed as a  is a reference type
p16967
aVAll that this  variable represents is a pointer to the real object and all that  represents is also a pointer to the same object
p16968
aVSo changing  will affect the real object that the session is also pointing to
p16969
aVThe behavior will be different if you store value types in session
p16970
as(dp16971
g16
V29407
p16972
stp16973
a((dp16974
g2
(lp16975
VFew remarks:
p16976
aVRemove this  property from the  class and the mapping
p16977
aVYou already have a  property so it makes no sense in your object model
p16978
aVThose  and  properties in the  class don't have any related columns/tables in your database (at least the one you've shown here) while you have mappings for them
p16979
as(dp16980
g16
V29407
p16981
stp16982
a((dp16983
g2
(lp16984
VYou need to declare less specific routes to the bottom:
p16985
aVBut I don't think that this is the problem here
p16986
aVFrom the exception it seems that the web server executing this application has a wildcard mapping with the  filter meaning that all file will be associated with the ASP
p16987
aVNET runtime even the static files
p16988
as(dp16989
g16
V29407
p16990
stp16991
a((dp16992
g2
(lp16993
VYou could use a dummy submit button:
p16994
as(dp16995
g16
V29407
p16996
stp16997
a((dp16998
g2
(lp16999
VYou could test the request url in the Begin_Request function:
p17000
as(dp17001
g16
V29407
p17002
stp17003
a((dp17004
g2
(lp17005
VThis will depend on the input text but I've just checked that this works:
p17006
as(dp17007
g16
V29407
p17008
stp17009
a((dp17010
g2
(lp17011
s(dp17012
g16
V29407
p17013
stp17014
a((dp17015
g2
(lp17016
VYou could either use AJAX or perform a full page reload after the button is clicked
p17017
aVIn bother cases you could have two forms on your page: the first form will contain the dropdown list allowing the user to select an element and a second form which will contain an input field and add button
p17018
aVBoth forms will post to different actions on your controller
p17019
aVIf you decide not not use AJAX here's how you could proceed
p17020
aVAdd a form containing the job title selection:
p17021
aVAdd another form which will allow the user to add a job title to the list:
p17022
aVThe  action should add the job title to the model and render the same view which will update the jobs dropdown list
p17023
aVIf you decide to refresh the dropdown list using AJAX, the  action should return a partial view containing the first form, meaning that you need to put its code into a separate  control which you will include into the main view
p17024
aVAll that is left is to ajaxify the second form using the jQuery form plugin:
p17025
as(dp17026
g16
V29407
p17027
stp17028
a((dp17029
g2
(lp17030
VYou configure the base address of the service like so:
p17031
aVAnd then your service could be accessible through
p17032
aVYou may take a look at this article for more information
p17033
as(dp17034
g16
V29407
p17035
stp17036
a((dp17037
g2
(lp17038
VWhile the  keyword will definitely bring C# closer to the dynamic world it won't make it a dynamic language and by so it won't have the benefits of dynamic languages such as adding methods to an existing type at runtime,
p17039
as(dp17040
g16
V29407
p17041
stp17042
a((dp17043
g2
(lp17044
VIn my opinion  should only be used in actions that redirect immediately
p17045
aVFor example:
p17046
aVYou should avoid storing something into the TempData and render a view:
p17047
aVUse Session to achieve what you are looking for or add some unique ID that allow you to identify the correct request
p17048
aVAnother common technique you could use instead of  is to serialize the model on the client (a sort of a ViewState if you will)
p17049
as(dp17050
g16
V29407
p17051
stp17052
a((dp17053
g2
(lp17054
VYou could write a custom model binder which will instantiate the correct type:
p17055
aVAnd then:
p17056
as(dp17057
g16
V29407
p17058
stp17059
a((dp17060
g2
(lp17061
VYou could use XPath:
p17062
aVgiven this XML:
p17063
as(dp17064
g16
V29407
p17065
stp17066
a((dp17067
g2
(lp17068
s(dp17069
g16
V29407
p17070
stp17071
a((dp17072
g2
(lp17073
VRemove the  and/or  attributes
p17074
aVor:
p17075
as(dp17076
g16
V29407
p17077
stp17078
a((dp17079
g2
(lp17080
VI like the  statement and consider it a great addition to the C# language
p17081
aVIt is just one less place to worry about when I decide to change the type
p17082
aVI also try to follow the DRY principle, why repeat the type of the variable when it is already in the strongly typed view definition
p17083
aVBut I guess it is a matter of personal preference whether or not to use
p17084
as(dp17085
g16
V29407
p17086
stp17087
a((dp17088
g2
(lp17089
VThe routing engine in ASP
p17090
aVNET MVC allows you to use extensionless routes in your application
p17091
aVYou could configure IIS 6
p17092
aV0 to handle such URLs by making a wildcard mapping which would associate the aspnet_isapi filter with all requests meaning that everything passes through the ASP
p17093
aVNET engine for processing
p17094
aVWhen installed on a server with IIS 6
p17095
aV0 ASP
p17096
aVNET MVC does not do any modifications to the IIS metabase meaning that extensionless routes won't work
p17097
aVMy recommendation would be to use extensionless routing only on IIS 7 and higher and have some extension (like
p17098
aVmvc) for IIS 6
p17099
ag2721
aVThis avoids the wildcard mapping and the possible performance hit for having the ASP
p17100
aVNET engine serving even static files like images, css, javascript,
p17101
as(dp17102
g16
V29407
p17103
stp17104
a((dp17105
g2
(lp17106
VIn most cases the following structure works fine:
p17107
aVMySite
p17108
aVBusinessLogic (Controllers, Models, Repositories,
p17109
aVMySite
p17110
aVBusinessLogic
p17111
aVTests (unit tests for controllers, models, repositories,
p17112
aVMySiteA (Views, Static Content)
p17113
aVMySiteB (Views, Static Content)
p17114
aVMySiteA and MySiteB might be two flavors of the same site reusing functionality from the business logic
p17115
aVFrom performance perspective you should prefer fewer larger assemblies than many small assemblies
p17116
as(dp17117
g16
V29407
p17118
stp17119
a((dp17120
g2
(lp17121
VYou could take a look at the REST Starter Kit on CodePlex
p17122
as(dp17123
g16
V29407
p17124
stp17125
a((dp17126
g2
(lp17127
VSession or persisting model state on the client comes to mind
p17128
as(dp17129
g16
V29407
p17130
stp17131
a((dp17132
g2
(lp17133
VWeb servers support these verbs because they are part of the HTTP specification and because browsers are not the only clients of web servers especially in the Web 2
p17134
aV0 era
p17135
aVThere are more and more RESTful APIs today
p17136
as(dp17137
g16
V29407
p17138
stp17139
a((dp17140
g2
(lp17141
VNo matter the environment XAttribute does not implement IComparable so you've already found the workaround by using
p17142
aVNow if you are curuous as to why this exception occurs here's a test case: in your unit test you have an element with  attribute which is empty:
p17143
as(dp17144
g16
V29407
p17145
stp17146
a((dp17147
g2
(lp17148
VA WCF service needs a host to run
p17149
aVAs IIS is out of the question you have a couple of possibilities left:
p17150
aVWrite a Windows NT service and host it there
p17151
aVWrite a managed application which will host your service (less robust)
p17152
aVAs far as  is concerned I don't see much relevance with WCF
p17153
as(dp17154
g16
V29407
p17155
stp17156
a((dp17157
g2
(lp17158
VI am not sure if ThreadPool exposes such functionality but you can use wait handles and by the way iterating twice seems unnecessary:
p17159
as(dp17160
g16
V29407
p17161
stp17162
a((dp17163
g2
(lp17164
VFirst give your textarea an unique identifier allowing you to easily obtain reference to it:
p17165
aVThen you could test if it contains a new line or it is empty like so:
p17166
as(dp17167
g16
V29407
p17168
stp17169
a((dp17170
g2
(lp17171
VYou don't need to parse JSON manually
p17172
aVYou could use the getJSON function:
p17173
aVThe  method you are trying to call is available in the json2 library
p17174
as(dp17175
g16
V29407
p17176
stp17177
a((dp17178
g2
(lp17179
VUse byte array
p17180
aVOver a SOAP protocol this byte array will automatically be serialized using base64 encoding
p17181
aVYour web service will be also more descriptive if you use a byte array
p17182
aVImagine someone who wants to consume your web service and looking at a method whose signature looks like this:
p17183
aVHe might wonder why does this method returns a string and what am I going to do with this string, while if it returns a byte array it is much more clear
p17184
aVI've seen web service method that look like this:
p17185
aVGuess what the  and the return types were: they were some proprietary XML
p17186
aVThere's absolutely no sense of using SOAP if people reinvent protocols over it
p17187
as(dp17188
g16
V29407
p17189
stp17190
a((dp17191
g2
(lp17192
VYou could disable the PostBack on the checkbox and use javascript (example with jQuery):
p17193
as(dp17194
g16
V29407
p17195
stp17196
a((dp17197
g2
(lp17198
VC# does not have a copy constructor
p17199
aVThere are different ways to tackle this
p17200
aVAt the OOP level you could use inheritance or aggregation
p17201
aVAutoMapper might also be worth a try
p17202
as(dp17203
g16
V29407
p17204
stp17205
a((dp17206
g2
(lp17207
VYou could use reflection:
p17208
aVand LINQ version which looks better to the eye:
p17209
as(dp17210
g16
V29407
p17211
stp17212
a((dp17213
g2
(lp17214
Vgzip might significantly reduce the size of text data and optimize load speeds
p17215
aVIt's also recommended by YSlow
p17216
as(dp17217
g16
V29407
p17218
stp17219
a((dp17220
g2
(lp17221
VRemark: your naming conventions are a little strange: GetStudents using Project
p17222
aVLoad which returns employees
p17223
as(dp17224
g16
V29407
p17225
stp17226
a((dp17227
g2
(lp17228
s(dp17229
g16
V29407
p17230
stp17231
a((dp17232
g2
(lp17233
VYou should be ok with it:
p17234
aVNo exception thrown here
p17235
aVSide note: don't mistake this with  and  where an exception will be thrown
p17236
as(dp17237
g16
V29407
p17238
stp17239
a((dp17240
g2
(lp17241
VI would recommend you to use OperationContext
p17242
aVHere's an example of how you could use it to persist some state
p17243
as(dp17244
g16
V29407
p17245
stp17246
a((dp17247
g2
(lp17248
VOne option is to use a content delivery network (CDN) such as the Google Libraries API to serve common script files like jQuery
p17249
aVUsing a CDN chances are that users will already have the script file cached in their browser and they won't need to download it again
p17250
aVAs for the other static resources you may read YSlow recommendations for optimizing load times of static resources (you could minify, gzip compress and cache static resources)
p17251
as(dp17252
g16
V29407
p17253
stp17254
a((dp17255
g2
(lp17256
VThey use JSONP (JSON with padding)
p17257
aVWhen the page is loaded they reference the following url: http://pad1
p17258
aVwhstatic
p17259
aVcom/Special:RCWidget
p17260
aVfunction=rcwOnLoadData which sends JSON data wrapped in a function
p17261
aVAll that is left is the  to loop through the data using setInterval and show it in a target div
p17262
aVAn important note is that they do not use AJAX, all the data is pushed to the client at page load time
p17263
as(dp17264
g16
V29407
p17265
stp17266
a((dp17267
g2
(lp17268
VThis happens because of the way doubles are stored
p17269
aVYou should use  when working with money to avoid rounding errors
p17270
as(dp17271
g16
V29407
p17272
stp17273
a((dp17274
g2
(lp17275
VI think that in your case lazy loading doesn't bring much benefit as you are going to use 1 property from each table, so sooner or later to render the page you will have to perform all the joins
p17276
aVIn my opinion you could use the same query and convert from a Car model to a CarSummary model
p17277
as(dp17278
g16
V29407
p17279
stp17280
a((dp17281
g2
(lp17282
VYou'll have to be a little more precise as how you are passing this parameter and where does it come from but you could set request and response encoding in your web
p17283
aVconfig file:
p17284
as(dp17285
g16
V29407
p17286
stp17287
a((dp17288
g2
(lp17289
VI have to disagree
p17290
aVA web service should be auto descriptive
p17291
aVWhen someone points to the WSDL it is far better to have an object model than a single string property which will contain some proprietary XML
p17292
aVAlso there will be e big overhead of serialization/deserialization
p17293
aVMy recommendation would be to design an object model which will represent your data and expose this model in the web service
p17294
aVManipulating objects is easier than manipulating XML
p17295
as(dp17296
g16
V29407
p17297
stp17298
a((dp17299
g2
(lp17300
VYou could create a partial view (
p17301
aVascx) which will contain the form allowing you to create a forum post and include this partial in the details view:
p17302
as(dp17303
g16
V29407
p17304
stp17305
a((dp17306
g2
(lp17307
VThe syntax of your SQL query is wrong
p17308
aVA  statement requires you to specify the columns you want to return
p17309
aVFor example:
p17310
as(dp17311
g16
V29407
p17312
stp17313
a((dp17314
g2
(lp17315
VYou could use a recursive function
p17316
aVTake a look at this post
p17317
as(dp17318
g16
V29407
p17319
stp17320
a((dp17321
g2
(lp17322
VI don't see any relation with table 1
p17323
aVHere's an example using an inner join between the two tables and grouping by the uid:
p17324
as(dp17325
g16
V29407
p17326
stp17327
a((dp17328
g2
(lp17329
VYou may take a look at ikvmc
p17330
aVIt takes a  or  file and spits a managed
p17331
aVNET assembly which has reference to a couple of other assemblies
p17332
aVI've used it personally for including functionality from JAVA libraries that didn't have a
p17333
aVNET port
p17334
aVIf you want to migrate the source code than only by doing it manually you will have quality result
p17335
aVAutomated code conversion tools could only translate the syntax but cannot take advantage of some specific features that different frameworks can offer
p17336
as(dp17337
g16
V29407
p17338
stp17339
a((dp17340
g2
(lp17341
VYou could use json_encode on your PHP script
p17342
aVThis will return a JSON encoded data that you can directly use in javascript:
p17343
as(dp17344
g16
V29407
p17345
stp17346
a((dp17347
g2
(lp17348
VIn Java byte range is -128 to 127
p17349
aVYou cannot possibly store the integer 233 in a byte without overflowing
p17350
as(dp17351
g16
V29407
p17352
stp17353
a((dp17354
g2
(lp17355
VDoing authorization logic in config files has one big disadvantage: it cannot be easily unit tested, and something so important as authentication should be unit tested
p17356
aVI would recommend you for this matter to write a custom authorization filter which could be used to decorate a base controller for all admin actions that requires authentication:
p17357
aVAnd your admin controller:
p17358
as(dp17359
g16
V29407
p17360
stp17361
a((dp17362
g2
(lp17363
VThe jquery watermark plugin allows you to achieve the desired effect
p17364
as(dp17365
g16
V29407
p17366
stp17367
a((dp17368
g2
(lp17369
VI usually add a script placeholder in my master page that is overridden by views:
p17370
aVMaster:
p17371
aVView:
p17372
aVNotice how the editor template is included for three different properties of the model but the required scripts are included only once
p17373
as(dp17374
g16
V29407
p17375
stp17376
a((dp17377
g2
(lp17378
s(dp17379
g16
V29407
p17380
stp17381
a((dp17382
g2
(lp17383
VThere's torrentnet and monotorrent
p17384
as(dp17385
g16
V29407
p17386
stp17387
a((dp17388
g2
(lp17389
VMake sure that you've referenced both the  and  scripts in your page
p17390
aVThe reason for getting the partial view contents (white screen, text) could be a script error which prevents the ajax from executing correctly
p17391
aVLook with FireBug if there are some errors during the execution
p17392
aVAs far as hiding the form is concerned you could use the  callback:
p17393
aVThe  javascript function will be executed if the AJAX call succeeds and will hide the desired div
p17394
as(dp17395
g16
V29407
p17396
stp17397
a((dp17398
g2
(lp17399
VThe Build Action of the XML mapping file must be set to  in the  assembly
p17400
aVWhen you use the following instruction in your config file:  it will look for mappings as embedded resources in this assembly
p17401
as(dp17402
g16
V29407
p17403
stp17404
a((dp17405
g2
(lp17406
VTry putting this in your web
p17407
aVconfig:
p17408
aVAlso make sure that all your pages are saved as UTF-8 with signature: open each aspx file individually in your project and click
p17409
aVAlso indicate the encoding in the  section of each page:
p17410
as(dp17411
g16
V29407
p17412
stp17413
a((dp17414
g2
(lp17415
VYou need to register the form submit handler in the success handler of the first ajax request:
p17416
aVAlso I would recommend you using the jQuery form plugin
p17417
aVYour code will look like this:
p17418
aVNo need fetch form url, serialize parameters, etc
p17419
as(dp17420
g16
V29407
p17421
stp17422
a((dp17423
g2
(lp17424
VYou may take a look at this article
p17425
as(dp17426
g16
V29407
p17427
stp17428
a((dp17429
g2
(lp17430
VThere's the Calendar control in ASP
p17431
aVNET which offers some basic functionality that you may take a look at
p17432
aVThere's also a calendar extension in the AJAX Control Toolkit
p17433
as(dp17434
g16
V29407
p17435
stp17436
a((dp17437
g2
(lp17438
VPros of input builders: they can recognize attributes on the model such as  and set the  html attribute
p17439
aVThey also can recognize the presence of the  attribute and put the  class on the element
p17440
aVPros of editor templates: support of incremental sequencing
p17441
as(dp17442
g16
V29407
p17443
stp17444
a((dp17445
g2
(lp17446
VYou need to execute the command and also make sure to properly dispose objects:
p17447
as(dp17448
g16
V29407
p17449
stp17450
a((dp17451
g2
(lp17452
VThe SQLite provider uses P/Invoke to communicate with the underlying engine and therefore cannot run in medium trust
p17453
aVThis makes SQLite inappropriate for the majority of hosting providers
p17454
as(dp17455
g16
V29407
p17456
stp17457
a((dp17458
g2
(lp17459
VYou can use message contracts
p17460
as(dp17461
g16
V29407
p17462
stp17463
a((dp17464
g2
(lp17465
VYou could use the  keyword:
p17466
aVThis will eagerly load the  association
p17467
as(dp17468
g16
V29407
p17469
stp17470
a((dp17471
g2
(lp17472
VHere's one function you might use:
p17473
as(dp17474
g16
V29407
p17475
stp17476
a((dp17477
g2
(lp17478
VThe closest would be an integer property
p17479
as(dp17480
g16
V29407
p17481
stp17482
a((dp17483
g2
(lp17484
s(dp17485
g16
V29407
p17486
stp17487
a((dp17488
g2
(lp17489
VBy deriving from Component instead of Control
p17490
as(dp17491
g16
V29407
p17492
stp17493
a((dp17494
g2
(lp17495
VYou have an error in your post function: opening parenthesis and quotes are missing
p17496
aVAlso try passing an empty data as second argument to see if this works:
p17497
as(dp17498
g16
V29407
p17499
stp17500
a((dp17501
g2
(lp17502
VYou need to have an indexed property
p17503
as(dp17504
g16
V29407
p17505
stp17506
a((dp17507
g2
(lp17508
VThere's a great article explaining the differences you might read
p17509
as(dp17510
g16
V29407
p17511
stp17512
a((dp17513
g2
(lp17514
VYou may take a look at asynchronous controllers
p17515
as(dp17516
g16
V29407
p17517
stp17518
a((dp17519
g2
(lp17520
VIn order to create performance counters you need to have sufficient privileges
p17521
aVTry running this code under the administrator account
p17522
aVAnother important note
p17523
aVHere's a quote from the documentation:
p17524
aVIt is strongly recommended that new
p17525
aVperformance counter categories be
p17526
aVcreated during the installation of the
p17527
aVapplication, not during the execution
p17528
aVof the application
p17529
aVThis allows time
p17530
aVfor the operating system to refresh
p17531
aVits list of registered performance
p17532
aVcounter categories
p17533
aVIf the list has
p17534
aVnot been refreshed, the attempt to use
p17535
aVthe category will fail
p17536
as(dp17537
g16
V29407
p17538
stp17539
a((dp17540
g2
(lp17541
VYou can't
p17542
aVYou could use editor templates instead
p17543
aVBrad Wilson has a series of blog posts describing them
p17544
aVScott Gu also covers them in this post
p17545
as(dp17546
g16
V29407
p17547
stp17548
a((dp17549
g2
(lp17550
VHere's how to register a click event to your button unobtrusively using jQuery (without mixing html markup and script logic):
p17551
as(dp17552
g16
V29407
p17553
stp17554
a((dp17555
g2
(lp17556
VFirst remark about this line, it looks strange (assigning string to bool):
p17557
aVSecond remark, this works fine:
p17558
aVThird remark: it is a convention in C# to name your local variables start with lowercase letter
p17559
as(dp17560
g16
V29407
p17561
stp17562
a((dp17563
g2
(lp17564
Vwhere  is a resx file that you've added to your project
p17565
aVVisual Studio automatically generates strongly typed classes for each resource you add
p17566
as(dp17567
g16
V29407
p17568
stp17569
a((dp17570
g2
(lp17571
VYou may read about Windows Communication Foundation
p17572
as(dp17573
g16
V29407
p17574
stp17575
a((dp17576
g2
(lp17577
VOnce you start the reflection game you have to play it till the end
p17578
aVThe type is not known at compile time, so you cannot cast it
p17579
aVYou'll have to invoke the method by reflection:
p17580
as(dp17581
g16
V29407
p17582
stp17583
a((dp17584
g2
(lp17585
VOne solution would be to write a custom model binder which will be able to convert bind  to a decimal field in your model
p17586
aVAnother solution is to do it on the client side
p17587
aVIn a jQuery  handler you could modify the values of the input fields to be posted
p17588
as(dp17589
g16
V29407
p17590
stp17591
a((dp17592
g2
(lp17593
VIt's a bug in the connector
p17594
aVTry:
p17595
as(dp17596
g16
V29407
p17597
stp17598
a((dp17599
g2
(lp17600
VYou probably need to add :
p17601
as(dp17602
g16
V29407
p17603
stp17604
a((dp17605
g2
(lp17606
VInvalidOperationException
p17607
as(dp17608
g16
V29407
p17609
stp17610
a((dp17611
g2
(lp17612
VTry placing a meta tag indicating the encoding in the head section:
p17613
as(dp17614
g16
V29407
p17615
stp17616
a((dp17617
g2
(lp17618
VYour JSON is not an array
p17619
aVIt should look like this:
p17620
aVor even better:
p17621
aVThen you can loop:
p17622
as(dp17623
g16
V29407
p17624
stp17625
a((dp17626
g2
(lp17627
VHere's one example which shows the concept using ManagmentClass
p17628
aVIt's C# but easily convertible to VB
p17629
aVNET:
p17630
aVUPDATE:
p17631
as(dp17632
g16
V29407
p17633
stp17634
a((dp17635
g2
(lp17636
VWhy is not your editor template strongly typed
p17637
aVWhy not use the DropDownListFor helper:
p17638
aVTo avoid the magic strings you could add a ChoicesList property to your view model:
p17639
aVand bind your helper to it:
p17640
as(dp17641
g16
V29407
p17642
stp17643
a((dp17644
g2
(lp17645
VYou need to use regasm
p17646
aVexe in order to expose the managed assembly as COM component:
p17647
aVOnce registered you could use it as you would any COM object
p17648
as(dp17649
g16
V29407
p17650
stp17651
a((dp17652
g2
(lp17653
VThere's nothing wrong with your approach
p17654
aVYou are using the correct data type for the purpose
p17655
as(dp17656
g16
V29407
p17657
stp17658
a((dp17659
g2
(lp17660
s(dp17661
g16
V29407
p17662
stp17663
a((dp17664
g2
(lp17665
VNo message is sent to the server when that happens
p17666
aVWhen the user presses the stop button, the browser just halts the rendering of the page and ignore any further response= from the server
p17667
aVIf the request has already been sent to the server, the server will usually continue executing it
p17668
aVHowever, depending on the server's implementation, may detect the dropped connection
p17669
aVMeaning you can not rely on the fact that it will continue in every case
p17670
as(dp17671
g16
V29407
p17672
stp17673
a((dp17674
g2
(lp17675
s(dp17676
g16
V29407
p17677
stp17678
a((dp17679
g2
(lp17680
VThe destructor is called during GC
p17681
as(dp17682
g16
V29407
p17683
stp17684
a((dp17685
g2
(lp17686
VThis is not a problem, it is the normal behavior
p17687
aVAll helpers work that way
p17688
aVThey first look at posted values and then the model in order to perform the binding
p17689
aVThat is to say even if you modify the model in your controller action, they will use the initial posted values
p17690
aVRelated questions:
p17691
aVhttp://stackoverflow
p17692
aVcom/questions/2215962/second-dropdown-list-selected-item-does-not-change-in-asp-net-mvc
p17693
aVhttp://stackoverflow
p17694
aVcom/questions/594600/possible-bug-in-asp-net-mvc-with-form-values-being-replaced
p17695
as(dp17696
g16
V29407
p17697
stp17698
a((dp17699
g2
(lp17700
VFirst step would be to create a proxy
p17701
aVUse the Add Service Reference dialog box in Visual Studio and provide the WSDL address:
p17702
aVSecond step is to call the service:
p17703
aVNote that depending on the WSDL some property names might be different than the ones I provided in my sample as I don't know the WSDL but Intellisense should help you
p17704
aVThere's a nice tutorial you might read
p17705
as(dp17706
g16
V29407
p17707
stp17708
a((dp17709
g2
(lp17710
VNo, that's not possible
p17711
aVQuote from the release notes:
p17712
aVBecause Visual Studio 2008 and Visual
p17713
aVStudio 2010 RC share a component of
p17714
aVASP
p17715
aVNET MVC 2, installing the ASP
p17716
aVNET
p17717
aVMVC 2 RTM release on a computer where
p17718
aVVisual Studio 2010 RC is also
p17719
aVinstalled is not supported
p17720
aVI guess you could wait 12 more days and throw away VS 2008 :-)
p17721
as(dp17722
g16
V29407
p17723
stp17724
a((dp17725
g2
(lp17726
VYou need to pass the instance of MyClass:
p17727
aVIf the sender is of type MyClass that would mean:
p17728
as(dp17729
g16
V29407
p17730
stp17731
a((dp17732
g2
(lp17733
VNo, this is not possible
p17734
aVEvery constructor that has arguments in the base class must be redeclared in the derived class
p17735
as(dp17736
g16
V29407
p17737
stp17738
a((dp17739
g2
(lp17740
VThis is called explicit interface implementation
p17741
aVThe only way to call this method is to cast to a  object
p17742
aVOne good example of when this might be useful is when you have a class which implements two interfaces that both have the same method name and you want to provide a different implementation for each of them
p17743
as(dp17744
g16
V29407
p17745
stp17746
a((dp17747
g2
(lp17748
s(dp17749
g16
V29407
p17750
stp17751
a((dp17752
g2
(lp17753
VIf you are concerned about performance then don't be
p17754
aVThe routing engine, despite the fact that uses reflection is very optimized
p17755
aVAlso if you turn routing off how do you expect your controller actions to be invoked
p17756
as(dp17757
g16
V29407
p17758
stp17759
a((dp17760
g2
(lp17761
Vparams:
p17762
as(dp17763
g16
V29407
p17764
stp17765
a((dp17766
g2
(lp17767
VYou need to fill the gap between the SQL table and the
p17768
aVNET application
p17769
aVThe reason that you have an Order table in your SQL database doesn't mean that your
p17770
aVNET application knows anything about it
p17771
aVIf you are using LINQ To SQL you could use the VS designer to build strongly typed classes based on your relational schema
p17772
as(dp17773
g16
V29407
p17774
stp17775
a((dp17776
g2
(lp17777
VDid you put a validation message placeholder
p17778
aVor:
p17779
as(dp17780
g16
V29407
p17781
stp17782
a((dp17783
g2
(lp17784
VThe difference is the base class
p17785
aVIn an ASP
p17786
aVNET MVC application you should use MVC View Master Page which derives from ViewMasterPage and you have access to helpers and it can be strongly typed to a model
p17787
as(dp17788
g16
V29407
p17789
stp17790
a((dp17791
g2
(lp17792
VThe best way to handle this scenario would be to have your web service accept a byte[] parameter which will represent the compressed XML
p17793
aVThe Base64 encoding will be done automatically
p17794
aVTo improve compression ratio you could use MTOM encoding
p17795
aVThis will avoid the Base64 step which consists of converting your byte array to a string in order to send it over the wire and where you loose might in compression ratio
p17796
as(dp17797
g16
V29407
p17798
stp17799
a((dp17800
g2
(lp17801
VWhen you click on a button the OnClick handler function will be called:
p17802
aVWhen you click on the button the BtnTestClick function will be called:
p17803
as(dp17804
g16
V29407
p17805
stp17806
a((dp17807
g2
(lp17808
VHidden fields are a good way of persisting the id during posts
p17809
as(dp17810
g16
V29407
p17811
stp17812
a((dp17813
g2
(lp17814
VThere's absolutely no reliable way
p17815
aVRouting makes things even worse, you can't even say it's ASP
p17816
aVNET other than probably looking at the HTTP headers sent by the web server and look for indication but it's not reliable
p17817
aVBut here's one heuristic you which is a strong indication of ASP
p17818
aVNET MVC:
p17819
aVASP
p17820
aVNET HTTP Header sent by IIS
p17821
aVAbsence of ViewState in pages
p17822
aVExtensionless urls
p17823
aVPretty HTML
p17824
aVPresence of multiple  tags in the same page
p17825
aVTalking about HTTP headers, here are some you may look for:
p17826
as(dp17827
g16
V29407
p17828
stp17829
a((dp17830
g2
(lp17831
s(dp17832
g16
V29407
p17833
stp17834
a((dp17835
g2
(lp17836
VYou could give the  a unique id and then use the  function:
p17837
as(dp17838
g16
V29407
p17839
stp17840
a((dp17841
g2
(lp17842
VIMHO you should not test the DataContext
p17843
aVHopefully Microsoft have already done this, so testing that SubmitChanges will persist data into the DB is pointless for me
p17844
aVYou should do integration or web testing where you would define a specific scenarios and verify the output from the application
p17845
as(dp17846
g16
V29407
p17847
stp17848
a((dp17849
g2
(lp17850
V17
p17851
aV10
p17852
aV4 Default Constructors:
p17853
aVIf a class contains no instance
p17854
aVconstructor declarations, a default
p17855
aVinstance constructor is automatically
p17856
aVprovided
p17857
aV2 That default constructor
p17858
aVsimply invokes the parameterless
p17859
aVconstructor of the direct base class
p17860
aV3 If the direct base class does not
p17861
aVhave an accessible parameterless
p17862
aVinstance constructor, a compile-time
p17863
aVerror occurs
p17864
aV4 If the class is
p17865
aVabstract then the declared
p17866
aVaccessibility for the default
p17867
aVconstructor is protected
p17868
aV5 Otherwise,
p17869
aVthe declared accessibility for the
p17870
aVdefault constructor is public
p17871
as(dp17872
g16
V29407
p17873
stp17874
a((dp17875
g2
(lp17876
VA little cleanup of your code you may like to try (you should dispose IDisposable objects):
p17877
as(dp17878
g16
V29407
p17879
stp17880
a((dp17881
g2
(lp17882
VOne way to handle this that comes to mind is to use a custom HTTP header:
p17883
aVAnd in your LogOn action you set the appropriate header:
p17884
as(dp17885
g16
V29407
p17886
stp17887
a((dp17888
g2
(lp17889
VOrganize your controllers accordingly
p17890
aVHave a base controller for all authenticated resources which you could annotate with the  attribute and another one for public resources
p17891
as(dp17892
g16
V29407
p17893
stp17894
a((dp17895
g2
(lp17896
Vor as variables:
p17897
as(dp17898
g16
V29407
p17899
stp17900
a((dp17901
g2
(lp17902
VThe  controller action doesn't expect parameters to be JSON serialized so you don't have to
p17903
aVTry passing them directly instead:
p17904
as(dp17905
g16
V29407
p17906
stp17907
a((dp17908
g2
(lp17909
VAll aspx pages inside the Views folder cannot be served directly
p17910
aVThere's a web
p17911
aVconfig file at the root of this folder which prevents this
p17912
aVIf you want to serve classic WebForms pages they should be placed outside the Views folder
p17913
as(dp17914
g16
V29407
p17915
stp17916
a((dp17917
g2
(lp17918
VMaybe the problem is somewhere else
p17919
aVThis compiles just fine:
p17920
as(dp17921
g16
V29407
p17922
stp17923
a((dp17924
g2
(lp17925
Vand:
p17926
aVor you could write a custom extension method
p17927
as(dp17928
g16
V29407
p17929
stp17930
a((dp17931
g2
(lp17932
VAs you've suggested the easiest way is to put the whole form into a partial view and perform an ajax request to a controller action which returns this partial
p17933
aVIf you use validation helpers inside this partial, error messages will be shown
p17934
aVAnother alternative is to post to a controller action which puts all error messages inside a JSON array and passes it along to the view
p17935
aVThen using javascript you could loop through the error messages and show them
p17936
as(dp17937
g16
V29407
p17938
stp17939
a((dp17940
g2
(lp17941
VBefore calling the getter of the Value property you must check if the nullable type contains a value or you will get an exception:
p17942
aVHere's the relevant source code of the getter (extracted with Reflector):
p17943
as(dp17944
g16
V29407
p17945
stp17946
a((dp17947
g2
(lp17948
VThe load function provides a third parameter representing a callback which will be executed when the ajax call completes
p17949
aVYou could use it to execute some arbitrary function:
p17950
as(dp17951
g16
V29407
p17952
stp17953
a((dp17954
g2
(lp17955
VHere are few remarks about your code:
p17956
aVThe  array is always empty -
p17957
aVThere's nothing in your code which puts elements inside it so the bind function binds to nothing
p17958
aVshould be called when the DOM is ready or the ,  and  elements might not yet be initialized
p17959
as(dp17960
g16
V29407
p17961
stp17962
a((dp17963
g2
(lp17964
VYou can't
p17965
aVGeneric arguments enforce type security at compile time while the  uses reflection and is not known at compile time
p17966
aVWhat exactly are you trying to achieve
p17967
as(dp17968
g16
V29407
p17969
stp17970
a((dp17971
g2
(lp17972
VYou cannot modify the values in your controller action because the helper will always use the POSTed values when generating the textbox
p17973
aVThis is by design and if you want to workaround it you will have to write your own helper or generate the textbox manually:
p17974
as(dp17975
g16
V29407
p17976
stp17977
a((dp17978
g2
(lp17979
VTry calling it like this:
p17980
aVAlso this line looks suspicious in a web forms application:
p17981
aVMake sure that the generated id of your control is not prefixed with something else
p17982
as(dp17983
g16
V29407
p17984
stp17985
a((dp17986
g2
(lp17987
VYou could use reflection
p17988
aVHere's an example with one level of nesting:
p17989
as(dp17990
g16
V29407
p17991
stp17992
a((dp17993
g2
(lp17994
VIf your types are serializable you could use BinaryFormatter:
p17995
as(dp17996
g16
V29407
p17997
stp17998
a((dp17999
g2
(lp18000
VUse @ for reserved words:
p18001
as(dp18002
g16
V29407
p18003
stp18004
a((dp18005
g2
(lp18006
VBecause keeping state in a webservice is difficult and if you aren't extremely careful and/or experienced sooner or later you might hit some very difficult to find bugs
p18007
as(dp18008
g16
V29407
p18009
stp18010
a((dp18011
g2
(lp18012
VYes, you can specify a virtual path such as  instead of  in the properties of your project:
p18013
as(dp18014
g16
V29407
p18015
stp18016
a((dp18017
g2
(lp18018
s(dp18019
g16
V29407
p18020
stp18021
a((dp18022
g2
(lp18023
s(dp18024
g16
V29407
p18025
stp18026
a((dp18027
g2
(lp18028
VjQuery ajax does not support file uploads and implementing this manually might be cumbersome
p18029
aVI would suggest you looking at the jQuery form plugin
p18030
aVOf course you could always check out the source code of the plugin to see how it is implemented if you don't want to include it (it uses a hidden iFrame as files cannot be uploaded with AJAX) but why doing it if you could use it directly :-)
p18031
aVHere's an example how your code might look like:
p18032
aValso make the upload button a submit button:
p18033
as(dp18034
g16
V29407
p18035
stp18036
a((dp18037
g2
(lp18038
VYou may take a look at this post
p18039
aVThe code might look like this:
p18040
as(dp18041
g16
V29407
p18042
stp18043
a((dp18044
g2
(lp18045
VThe values are stored in rows and not columns
p18046
aVTry this instead:
p18047
as(dp18048
g16
V29407
p18049
stp18050
a((dp18051
g2
(lp18052
VNo they are not included, you need to reference the  assembly in your project
p18053
aVThere's a word document included in the download giving some examples
p18054
as(dp18055
g16
V29407
p18056
stp18057
a((dp18058
g2
(lp18059
VWrite a custom action result:
p18060
aVAnd in your controller action:
p18061
as(dp18062
g16
V29407
p18063
stp18064
a((dp18065
g2
(lp18066
s(dp18067
g16
V29407
p18068
stp18069
a((dp18070
g2
(lp18071
VAutoMapper could be used to convert your models to view-models
p18072
aVHere's a very nice article of how you could use it in your ASP
p18073
aVNET MVC application
p18074
aVBasically your controller action might look like this:
p18075
aVSo you still work with your domain models in the controller and the  action filter will use  to convert the model to a view-model according to a mapping file and pass it to the view
p18076
as(dp18077
g16
V29407
p18078
stp18079
a((dp18080
g2
(lp18081
VIt does not enforce whether the implementer will do a deep or shallow copy
p18082
as(dp18083
g16
V29407
p18084
stp18085
a((dp18086
g2
(lp18087
VNo, they can't
p18088
aVA dictionary is not thread safe:
p18089
aVA Dictionary(TKey, TValue) can support
p18090
aVmultiple readers concurrently, as long
p18091
aVas the collection is not modified
p18092
aVEven so, enumerating through a
p18093
aVcollection is intrinsically not a
p18094
aVthread-safe procedure
p18095
aVIn the rare
p18096
aVcase where an enumeration contends
p18097
aVwith write accesses, the collection
p18098
aVmust be locked during the entire
p18099
aVenumeration
p18100
aVTo allow the collection
p18101
aVto be accessed by multiple threads for
p18102
aVreading and writing, you must
p18103
aVimplement your own synchronization
p18104
as(dp18105
g16
V29407
p18106
stp18107
a((dp18108
g2
(lp18109
VAccording to the comments in these two blog posts this functionality is not implemented yet
p18110
as(dp18111
g16
V29407
p18112
stp18113
a((dp18114
g2
(lp18115
VI can't see anything wrong with your code
p18116
aVMake sure that the address of the included scripts is correct
p18117
aVHere's a working example using jquery and jquery
p18118
aVvalidate from Microsoft CDN:
p18119
as(dp18120
g16
V29407
p18121
stp18122
a((dp18123
g2
(lp18124
VThere are some evidences that NHibernate does not support stored procedures using
p18125
aVUPDATE: It seems that this has been fixed in 2
p18126
ag2925
ag2925
aVGA
p18127
as(dp18128
g16
V29407
p18129
stp18130
a((dp18131
g2
(lp18132
VIn an ASP
p18133
aVNET MVC application it is recommended to use html helpers to generate forms and input tags
p18134
aVFor example:
p18135
aVModel:
p18136
aVController:
p18137
aVView page:
p18138
as(dp18139
g16
V29407
p18140
stp18141
a((dp18142
g2
(lp18143
VIMHO the best thing would be to change the  type from  to  as this would best reflect its semantics (if it can be null) but if you cannot modify this class AND if using DataContractJsonSerializer is not an obligation for you, Json
p18144
aVNET has extension points that allow you to do this (it also happens to be better performing)
p18145
aVFor example you could write a custom type converter:
p18146
aVthat could be registered and used like this:
p18147
as(dp18148
g16
V29407
p18149
stp18150
a((dp18151
g2
(lp18152
VTry the following  functions:
p18153
as(dp18154
g16
V29407
p18155
stp18156
a((dp18157
g2
(lp18158
VYou may take a look at the InvokeRequired/Invoke pattern
p18159
aVBefore trying to update some control you check if invoke is required and use the Invoke method which will take care of marshaling the call to the thread that has created this control:
p18160
aVUPDATE:
p18161
as(dp18162
g16
V29407
p18163
stp18164
a((dp18165
g2
(lp18166
VSerialization never improves performance over directly passing and manipulating objects
p18167
aVIt is just a mechanism to transfer objects in some interoperable format (not always necessary to be interoperable)
p18168
as(dp18169
g16
V29407
p18170
stp18171
a((dp18172
g2
(lp18173
VWhen the assembly is in the GAC you need to make sure that you specify the fully qualified name in your config file
p18174
aVFor example instead of:
p18175
aVyou need to have:
p18176
as(dp18177
g16
V29407
p18178
stp18179
a((dp18180
g2
(lp18181
VYour server responds with  instead of , so jQuery doesn't eval your object
p18182
aVYou could specify the content type:
p18183
aVBut I would recommend you to fix your server side script to send the correct content-type and jquery will automatically recognize the  format and eval the response of the server
p18184
as(dp18185
g16
V29407
p18186
stp18187
a((dp18188
g2
(lp18189
VI would suggest you to use inheritance to handle this scenario
p18190
aVHave a base class without the blob and a derived class containing the byte array
p18191
aVYou would use the derived class only when you need to display the blob on the UI
p18192
as(dp18193
g16
V29407
p18194
stp18195
a((dp18196
g2
(lp18197
s(dp18198
g16
V29407
p18199
stp18200
a((dp18201
g2
(lp18202
VYou could use WMI
p18203
aVHere's an example
p18204
as(dp18205
g16
V29407
p18206
stp18207
a((dp18208
g2
(lp18209
VIf your page relies on ViewState it's probably not a good candidate for an HttpHandler
p18210
aVViewState is used to persist values of controls between postbacks
p18211
aVHandlers should be stateless and not depend on postbacks
p18212
as(dp18213
g16
V29407
p18214
stp18215
a((dp18216
g2
(lp18217
VJson
p18218
aVNET has this functionality
p18219
as(dp18220
g16
V29407
p18221
stp18222
a((dp18223
g2
(lp18224
VYou could use the thread pool:
p18225
aVor create and start the threads manually:
p18226
as(dp18227
g16
V29407
p18228
stp18229
a((dp18230
g2
(lp18231
s(dp18232
g16
V29407
p18233
stp18234
a((dp18235
g2
(lp18236
VPlace the cursor over  in the source code, a red squiggle appears in the right bottom corner of the word, press Shift+Alt+F10 Enter - the using is automatically added
p18237
aVAlso, why can't I do this in C#
p18238
aVImports x = System
p18239
aVMath
p18240
aVYou can:
p18241
as(dp18242
g16
V29407
p18243
stp18244
a((dp18245
g2
(lp18246
VElements should exist in the DOM at the moment you attach the  event
p18247
aVIf later they are recreated (for example in an ajax callback) you don't need to reattach the event handler again
p18248
aVIf elements don't exist at page load you can attach the live event when they are loaded, but if you do this then probably you no longer need the  event as you can directly attach the  event
p18249
as(dp18250
g16
V29407
p18251
stp18252
a((dp18253
g2
(lp18254
VYour code seems fine
p18255
aVOnce you've finished the long running operation you are spawning a new thread and perform the call to the web service in this thread
p18256
aVThis seems a good approach to me
p18257
aVAnother possibility is to use the  and  methods generated by the web service proxy ( option of )
p18258
as(dp18259
g16
V29407
p18260
stp18261
a((dp18262
g2
(lp18263
VThe val function returns strings
p18264
aVYou need to convert it to a number:
p18265
as(dp18266
g16
V29407
p18267
stp18268
a((dp18269
g2
(lp18270
VYou could make the  class generic:
p18271
aVWhich makes the collection also generic:
p18272
as(dp18273
g16
V29407
p18274
stp18275
a((dp18276
g2
(lp18277
VHtml helpers generate XHTML
p18278
aVWhat you are trying to achieve is:
p18279
aVNot XHTML (attributes need to have values, even empty)
p18280
aVNot W3C standard (no  attribute for the input tag)
p18281
aVIf you want to generate such markup you will need to do it manually or write your own helper
p18282
as(dp18283
g16
V29407
p18284
stp18285
a((dp18286
g2
(lp18287
VThe problem here is the way html helpers work (all of them): when trying to bind they will first look in the POST request values and after that the model and viewdata to pull values
p18288
aVThis is by design
p18289
aVIt basically means that even if in your post controller action you try to modify the values the html helper won't use them and pick those that were initially posted by the user
p18290
aVThe  helper detects that there is a posted value for  and will use it instead of the one you supply in your controller
p18291
aVA possible workaround is to write your own helper
p18292
as(dp18293
g16
V29407
p18294
stp18295
a((dp18296
g2
(lp18297
VI can't see anything wrong with your code other than the paths to these script files
p18298
aVIn an ASP
p18299
aVNET MVC View it is a good practice to use html helpers when working with urls:
p18300
as(dp18301
g16
V29407
p18302
stp18303
a((dp18304
g2
(lp18305
VI would recommend you using the membership provider for storing and retrieving user information
p18306
aVThe default ASP
p18307
aVNET MVC template has an example
p18308
aVThis video might also be worth watching
p18309
as(dp18310
g16
V29407
p18311
stp18312
a((dp18313
g2
(lp18314
VI would recommend you looking at AutoMapper
p18315
aVIt will make your code more clear and separate the mapping between those objects which will render them independent and more reusable
p18316
as(dp18317
g16
V29407
p18318
stp18319
a((dp18320
g2
(lp18321
VDatabase servers are pretty good at handling multiple updates
p18322
aVUse netTcpBinding
p18323
as(dp18324
g16
V29407
p18325
stp18326
a((dp18327
g2
(lp18328
VVisual C# 2008 Express Edition
p18329
as(dp18330
g16
V29407
p18331
stp18332
a((dp18333
g2
(lp18334
VThe official System
p18335
aVWeb
p18336
aVMvc is version 2
p18337
ag2721
ag2721
ag2721
aVIt seems that you are using some custom built  version - 2
p18338
ag2721
aV50217
p18339
aV0 that might be missing this method
p18340
aVTry deploying your application without the assembly in the  folder
p18341
as(dp18342
g16
V29407
p18343
stp18344
a((dp18345
g2
(lp18346
VFrom wikipedia:
p18347
aVThe term cloud is used as a metaphor
p18348
aVfor the Internet, based on the cloud
p18349
aVdrawing used in the past to represent
p18350
aVthe telephone network, and later to
p18351
aVdepict the Internet in computer
p18352
aVnetwork diagrams as an abstraction of
p18353
aVthe underlying infrastructure it
p18354
aVrepresents
p18355
as(dp18356
g16
V29407
p18357
stp18358
a((dp18359
g2
(lp18360
VSome DI frameworks use lightweight code generation and don't work in medium trust
p18361
aVNInject is one of them
p18362
aVYou may try setting the  switch to  which will use reflection which might be worth a try if performance is not an issue for you
p18363
as(dp18364
g16
V29407
p18365
stp18366
a((dp18367
g2
(lp18368
VNo, if the user your application is running under doesn't have permissions to write to this folder you cannot write to it
p18369
aVWhen installing your application (probably through an MSI) you could grant the necessary rights
p18370
aVYou could also provide a manifest file with your application
p18371
as(dp18372
g16
V29407
p18373
stp18374
a((dp18375
g2
(lp18376
VHere's one way to achieve this
p18377
aVThere's also a BlockRenderer in MvcContrib
p18378
as(dp18379
g16
V29407
p18380
stp18381
a((dp18382
g2
(lp18383
VIf you don't care about parameters but just the method call:
p18384
as(dp18385
g16
V29407
p18386
stp18387
a((dp18388
g2
(lp18389
VYou could use JSONP
p18390
aVjQuery has a good support for it
p18391
aVDOMAIN A - data
p18392
aVphp:
p18393
aVDOMAIN B - client:
p18394
as(dp18395
g16
V29407
p18396
stp18397
a((dp18398
g2
(lp18399
VNET classes are not compatible with a relational data model
p18400
aVThat's why ORMs such as NHibernate exist
p18401
aVWithout a mapping which describes the conversion of the model to relational tables you cannot create a DB schema
p18402
aVYou could take a look at FluentNhibernate automapping feature
p18403
aVIf you stick to the conventions it can create the database schema from
p18404
aVNET classes
p18405
as(dp18406
g16
V29407
p18407
stp18408
a((dp18409
g2
(lp18410
VFor databinding to work you need to give special names to your text fields
p18411
aVFor example in ChildControl1:
p18412
aVThis will generate the following markup:
p18413
aVAnd when you post to the following action:
p18414
aVIt will update the value of
p18415
aVFor binding collections you may take a look at this article
p18416
as(dp18417
g16
V29407
p18418
stp18419
a((dp18420
g2
(lp18421
VYou could use the writeAttribute method:
p18422
as(dp18423
g16
V29407
p18424
stp18425
a((dp18426
g2
(lp18427
VIt should be possible to attach or restore a SQL 2000 backup into a SQL 2005 server
p18428
as(dp18429
g16
V29407
p18430
stp18431
a((dp18432
g2
(lp18433
VYou may try annotating your controller action with the ValidateInputAttribute:
p18434
aVThis could also be done in the config file for the whole application:
p18435
as(dp18436
g16
V29407
p18437
stp18438
a((dp18439
g2
(lp18440
s(dp18441
g16
V29407
p18442
stp18443
a((dp18444
g2
(lp18445
VOne solution would be to embed the master file into a shared assembly and implement a custom VirtualPathProvider
p18446
as(dp18447
g16
V29407
p18448
stp18449
a((dp18450
g2
(lp18451
VA major disadvantage is that the SoapFormatter class is deprecated
p18452
aVYou may take a look at the DataContractSerializer instead
p18453
as(dp18454
g16
V29407
p18455
stp18456
a((dp18457
g2
(lp18458
VConcurrentDictionary in
p18459
aVNET 4
p18460
aV0 has this nice method
p18461
aVYou could also write an extension method for this
p18462
as(dp18463
g16
V29407
p18464
stp18465
a((dp18466
g2
(lp18467
VThis error code means that you need to provide a valid credentials in order to use this smtp server:
p18468
as(dp18469
g16
V29407
p18470
stp18471
a((dp18472
g2
(lp18473
VYou cannot call php functions directly from jQuery because jQuery knows nothing about php
p18474
aVYou could create a file that based on a given request parameter calls the respective function and returns the result
p18475
as(dp18476
g16
V29407
p18477
stp18478
a((dp18479
g2
(lp18480
VDepending on your case you might also want to filter duplicate cars that will be fetched due to the SQL joins:
p18481
as(dp18482
g16
V29407
p18483
stp18484
a((dp18485
g2
(lp18486
VYou may take a look at this article
p18487
aVIt seems that ASP
p18488
aVNET cannot find the compiled assembly with the code behind containing the page class definition
p18489
as(dp18490
g16
V29407
p18491
stp18492
a((dp18493
g2
(lp18494
VThe method used here is Sort which takes a delegate (a pointer to a method) as argument (in this case Comparison which is a function with two arguments returning an integer)
p18495
aVDo not confuse with Sort which takes an IComparer
p18496
aVContraty to Java, C# does not support inline interface implementation (or whatever this is called)
p18497
as(dp18498
g16
V29407
p18499
stp18500
a((dp18501
g2
(lp18502
VThis will depend whether you compile your deployment and setup projects in Debug or Release modes
p18503
as(dp18504
g16
V29407
p18505
stp18506
a((dp18507
g2
(lp18508
VYou need to have a route setup:
p18509
as(dp18510
g16
V29407
p18511
stp18512
a((dp18513
g2
(lp18514
VTry this:
p18515
as(dp18516
g16
V29407
p18517
stp18518
a((dp18519
g2
(lp18520
VYou may take a look at the ShortDatePattern property:
p18521
as(dp18522
g16
V29407
p18523
stp18524
a((dp18525
g2
(lp18526
VI don't know if MicrosoftMvcValidation exposes such function but using jQuery you might check if any of the form fields contain errors:
p18527
as(dp18528
g16
V29407
p18529
stp18530
a((dp18531
g2
(lp18532
VTry calling ajaxStart on document:
p18533
aVworked before jQuery 1
p18534
aV4 but no more
p18535
as(dp18536
g16
V29407
p18537
stp18538
a((dp18539
g2
(lp18540
VSQLite Database Browser
p18541
as(dp18542
g16
V29407
p18543
stp18544
a((dp18545
g2
(lp18546
VThat's probably because the page has been cached downstream on the client browser and not on the server
p18547
as(dp18548
g16
V29407
p18549
stp18550
a((dp18551
g2
(lp18552
VThe correct way of specifying optional parameters in ASP
p18553
aVNET MVC 2
p18554
aV0 is using the UrlParameter
p18555
aVOptional field:
p18556
aVAssuming the following controller and action:
p18557
aVAll these will work as expected:
p18558
aVRender as:
p18559
aVRemark: Tested on Windows 7 x64, Visual Studio 2010 RTM, ASP
p18560
aVNET MVC 2
p18561
aV0 project
p18562
as(dp18563
g16
V29407
p18564
stp18565
a((dp18566
g2
(lp18567
VYou need to use a version of SQLite that is compatible with
p18568
aVNET 4
p18569
ag2721
aVYou might also try putting this in your app
p18570
aVconfig:
p18571
as(dp18572
g16
V29407
p18573
stp18574
a((dp18575
g2
(lp18576
VThis function gets the query string of the page hosting this script: it relies on
p18577
aVIt seems that  is the address of the script itself and not the page
p18578
aVIn order to do this you will need to first obtain this address by looking at the  tags in your document and then slightly modify the previous function to take an additional parameter representing the url and not relying on
p18579
as(dp18580
g16
V29407
p18581
stp18582
a((dp18583
g2
(lp18584
VUsing the WebClient class you could perform an HTTP request to a given url and retrieve the result:
p18585
as(dp18586
g16
V29407
p18587
stp18588
a((dp18589
g2
(lp18590
VIt is because the server uses cookies to track clients
p18591
aVWhen you call the page from your browser the session cookie is passed along the request
p18592
aVWhen you use  function, no cookie is passed and the server cannot identify the client
p18593
aVHere's a post that might help you
p18594
as(dp18595
g16
V29407
p18596
stp18597
a((dp18598
g2
(lp18599
VThere isn't really a reliable way
p18600
aVOne thing that comes to mind is to look at the assembly the given type is defined:  and compare this against a list of known assemblies
p18601
as(dp18602
g16
V29407
p18603
stp18604
a((dp18605
g2
(lp18606
VIt is a javascript framework
p18607
as(dp18608
g16
V29407
p18609
stp18610
a((dp18611
g2
(lp18612
VHere's a function that does this:
p18613
as(dp18614
g16
V29407
p18615
stp18616
a((dp18617
g2
(lp18618
VNVelocity is a template engine I've used to generate emails
p18619
aVHere's how your code might look
p18620
as(dp18621
g16
V29407
p18622
stp18623
a((dp18624
g2
(lp18625
V means that the method can accept any number of parameters of type
p18626
aVExample of calling it with two instances of ClassName:
p18627
aVor
p18628
as(dp18629
g16
V29407
p18630
stp18631
a((dp18632
g2
(lp18633
V is automatically generated by the ASP
p18634
aVNET MVC Visual Studio template
p18635
aVIt is located in
p18636
aVTry searching for it in the project and delete it
p18637
as(dp18638
g16
V29407
p18639
stp18640
a((dp18641
g2
(lp18642
s(dp18643
g16
V29407
p18644
stp18645
a((dp18646
g2
(lp18647
VHere's a nice article explaining different scenarios
p18648
aVIn the comments section there's a link to MSDN which provides further information
p18649
as(dp18650
g16
V29407
p18651
stp18652
a((dp18653
g2
(lp18654
VHere's a nice benchmark
p18655
aVAs you can see results depend on whether you are doing , ,
p18656
as(dp18657
g16
V29407
p18658
stp18659
a((dp18660
g2
(lp18661
VHere are a couple of ways to handle state in ASP
p18662
aVNET MVC:
p18663
aVRequest parameters
p18664
aVHidden fields
p18665
aVSession
p18666
aVThere's also a nice helper in ASP
p18667
aVNET Futures that allow you to serialize/deserialize models using view state
p18668
as(dp18669
g16
V29407
p18670
stp18671
a((dp18672
g2
(lp18673
VIt is not clear what is your model type but here's an example with a simple model:
p18674
aVThis indicates that the Id property will be used as a value and the Text property as the text of the list
p18675
aVWhen you submit the form you could have the following action method:
p18676
aVIn this action the  array will be filled with the values of the selected strings
p18677
as(dp18678
g16
V29407
p18679
stp18680
a((dp18681
g2
(lp18682
VMake sure you always close the stream in a  block
p18683
aVIn your case if an exception is thrown the stream might not get closed and will leak a file handle
p18684
aVYou could use procexp from SysInternals to see which process holds the handle to the file
p18685
as(dp18686
g16
V29407
p18687
stp18688
a((dp18689
g2
(lp18690
VIt's the JIT compiler that instructs the CLR to load an assembly once it has translated it to machine code which is done on demand and the exact time is not deterministic
p18691
aVAs to the second question, once an assembly is loaded into the AppDomain, the only way to unload it is to destroy this AppDomain, there's no other way to unload an assembly
p18692
as(dp18693
g16
V29407
p18694
stp18695
a((dp18696
g2
(lp18697
VA select box sends a single value, so the  property should not be an array
p18698
aVAlso in your post it is not clear where's the  variable you are using in your lambda expression coming from and this  used in the helper won't compile as  is not defined
p18699
aVModel:
p18700
aVView:
p18701
aVUPDATE:
p18702
aVAccording to the comment it seems that there are multiple drop downs
p18703
aVI suspect that the problem might come from the  variable used as index in a  loop
p18704
aVYou might try this instead:
p18705
aVModel:
p18706
aVView:
p18707
as(dp18708
g16
V29407
p18709
stp18710
a((dp18711
g2
(lp18712
VThe garbage collector will take care of it once it is no longer referenced
p18713
as(dp18714
g16
V29407
p18715
stp18716
a((dp18717
g2
(lp18718
VYou can redirect to a custom error page in the  callback:
p18719
aVYou could also use  and set some special http error code such as 500 if you don't want to redirect
p18720
as(dp18721
g16
V29407
p18722
stp18723
a((dp18724
g2
(lp18725
VI've tried this snippet and it returned exactly the same HTML as returned by a browser
p18726
aVThe only correction I would make is to dispose disposable objects:
p18727
as(dp18728
g16
V29407
p18729
stp18730
a((dp18731
g2
(lp18732
s(dp18733
g16
V29407
p18734
stp18735
a((dp18736
g2
(lp18737
VYou cannot show validation errors if you don't refresh the part of the DOM containing the elements with validation messages which in your case is the form
p18738
aVSo you could put the entire form and the result div in a partial which will be refreshed
p18739
aVYou may take a look at this post as well
p18740
as(dp18741
g16
V29407
p18742
stp18743
a((dp18744
g2
(lp18745
V relies on the  behind the scenes, so if you have it disabled, or cookies disabled it might not work
p18746
aVAs for the , if you set a value in the controller action there's no reason this value wouldn't show up in the view
p18747
as(dp18748
g16
V29407
p18749
stp18750
a((dp18751
g2
(lp18752
VI would probably use a  and validate elements of the resulting array instead of using a regex
p18753
aVAlso you should watch out for the  case (the comma is part of the value)
p18754
as(dp18755
g16
V29407
p18756
stp18757
a((dp18758
g2
(lp18759
VDepending on the application type (windows, web,
p18760
aVdifferent techniques might be used
p18761
aVFor a windows application you could use the BackgroundWorker class
p18762
aVThere are hundreds of examples over the internet, here's one
p18763
as(dp18764
g16
V29407
p18765
stp18766
a((dp18767
g2
(lp18768
VI think the closest you can get is:
p18769
as(dp18770
g16
V29407
p18771
stp18772
a((dp18773
g2
(lp18774
VYou could throw a  from your custom controller instance which could be caught in  in global
p18775
aVasax and redirect to the proper page:
p18776
as(dp18777
g16
V29407
p18778
stp18779
a((dp18780
g2
(lp18781
VThe problem I can see with this approach is that your validation logic is coupled to the controller
p18782
aVActually the validator doesn't need the controller but only an  in order to set errors
p18783
aVI would suggest you looking at the fluent validation library which allows you to completely decouple your validation logic from the controller
p18784
aVIt uses a model binder in which it has access to the controller in order to set errors
p18785
aVSo your action code will look like this:
p18786
aVModel errors are added during the binding
p18787
aVHere's a nice article demonstrating the integration of this library with ASP
p18788
aVNET MVC
p18789
aVUnit testing your validation logic is also very easy and readable
p18790
as(dp18791
g16
V29407
p18792
stp18793
a((dp18794
g2
(lp18795
VIf you are performing an AJAX call, then the only way to redirect the user is to change the  in the complete callback based on the success JSON code
p18796
as(dp18797
g16
V29407
p18798
stp18799
a((dp18800
g2
(lp18801
VMaybe something like this:
p18802
aVRemark: never write or rely on such a code
p18803
as(dp18804
g16
V29407
p18805
stp18806
a((dp18807
g2
(lp18808
VHere's how you would normally add a CSS programatically:
p18809
aVYou might need to put a  in the  tag:
p18810
as(dp18811
g16
V29407
p18812
stp18813
a((dp18814
g2
(lp18815
VDataAnnotations have limits
p18816
aVYou can easily apply simple validation rules on independent model properties and enable client side validation but if you need to handle more advanced scenarios such as dependent properties you will need more robust frameworks such as Fluent Validation or xVal
p18817
as(dp18818
g16
V29407
p18819
stp18820
a((dp18821
g2
(lp18822
VYou could generate a XSD schema from an XML file using the xsd
p18823
aVexe utility
p18824
as(dp18825
g16
V29407
p18826
stp18827
a((dp18828
g2
(lp18829
VThere's AutoMapper which I've used in many projects and would strongly recommend
p18830
as(dp18831
g16
V29407
p18832
stp18833
a((dp18834
g2
(lp18835
VYes, it is a service, returning an XML resource
p18836
aVAlso it seems that it is accessible throught standard HTTP verbs such as GET, so one might assume it is RESTful
p18837
aVThe difference with a standard SOAP XML service is that you don't have a WSDL that describes it, so you might need to provide a good documentation to clients wishing to consume your service
p18838
as(dp18839
g16
V29407
p18840
stp18841
a((dp18842
g2
(lp18843
VHave you tried a Split:
p18844
as(dp18845
g16
V29407
p18846
stp18847
a((dp18848
g2
(lp18849
VFrom wikipedia:
p18850
aVIn computer programming, an integer
p18851
aVoverflow occurs when an arithmetic
p18852
aVoperation attempts to create a numeric
p18853
aVvalue that is larger than can be
p18854
aVrepresented within the available
p18855
aVstorage space
p18856
aVFor instance, adding 1 to the largest value that can be represented
p18857
aVconstitutes an integer overflow
p18858
aVThe
p18859
aVmost common result in these cases is
p18860
aVfor the least significant
p18861
aVrepresentable bits of the result to be
p18862
aVstored (the result is said to wrap)
p18863
aVYou should care about it especially when choosing the appropriate data types for your program or you might get very subtle bugs
p18864
as(dp18865
g16
V29407
p18866
stp18867
a((dp18868
g2
(lp18869
VThe IHttpHandler interface is supported in
p18870
aVNET 4, 3
p18871
aV5, 3
p18872
aV0, 2
p18873
aV0, 1
p18874
aV1, 1
p18875
ag2721
as(dp18876
g16
V29407
p18877
stp18878
a((dp18879
g2
(lp18880
VYou may try writing a custom :
p18881
aVand in your controller:
p18882
as(dp18883
g16
V29407
p18884
stp18885
a((dp18886
g2
(lp18887
VIn the first case you are specifying the controller name while in the second case you are not
p18888
aVYou could setup a default route:
p18889
aVOnce this default route points to the controller and action both urls should work:
p18890
as(dp18891
g16
V29407
p18892
stp18893
a((dp18894
g2
(lp18895
VRemark: based on this don't make the assumption that floating point arithmetic is unreliable in
p18896
aVNET
p18897
as(dp18898
g16
V29407
p18899
stp18900
a((dp18901
g2
(lp18902
VIt is fast enough, it seems that you are doing a premature optimization which you shouldn't unless you've identified this as a bottleneck for your application performance
p18903
as(dp18904
g16
V29407
p18905
stp18906
a((dp18907
g2
(lp18908
VI've tried cleaning your code a little bit:
p18909
as(dp18910
g16
V29407
p18911
stp18912
a((dp18913
g2
(lp18914
VAnd here's a recursive version if you want to visit all controls
p18915
as(dp18916
g16
V29407
p18917
stp18918
a((dp18919
g2
(lp18920
VSure, there's a solution
p18921
aVYou could have  and  models with  and  properties:
p18922
aVAnd an action that would give you all cities in a country:
p18923
aVAnd have a view similar to this:
p18924
aVThen setup javascript:
p18925
as(dp18926
g16
V29407
p18927
stp18928
a((dp18929
g2
(lp18930
VCommon browsers don't support  verb within HTML forms
p18931
aVYou might need to handle this using ajax:
p18932
as(dp18933
g16
V29407
p18934
stp18935
a((dp18936
g2
(lp18937
VA fully stateless (sessionless) application would be more scalable
p18938
aVUsing ASP
p18939
aVNET FormsAuthentication, user id is stored in an encrypted cookie which is available on every request and you can obtain user information from a data store
p18940
aVTo further improve performance you could cache the results of some expensive queries
p18941
aVIdeally this cache would be distributed over a cache servers farm
p18942
aVFor example youy could use memcached which has a provider for ASP
p18943
aVNET
p18944
as(dp18945
g16
V29407
p18946
stp18947
a((dp18948
g2
(lp18949
VTry explicitly setting the  flag to false if this cookie needs to be sent over :
p18950
as(dp18951
g16
V29407
p18952
stp18953
a((dp18954
g2
(lp18955
VASP
p18956
aVNET MVC 2
p18957
aV0 requires
p18958
aVNET 3
p18959
ag244
aVYou cannot run it on
p18960
aVNET 2
p18961
aV0 only
p18962
as(dp18963
g16
V29407
p18964
stp18965
a((dp18966
g2
(lp18967
VYou are running into a cross domain issues
p18968
aVYou cannot perform ajax calls to different domains
p18969
aVYou could use JSONP instead (look at the Flickr example in the documentation, it demonstrates a cross domain ajax request)
p18970
aVYour server needs to send data as JSONP string:
p18971
aVwhere  should be dynamic and passed as request parameter
p18972
aVAn important note is that JSONP works only with  methods and not
p18973
as(dp18974
g16
V29407
p18975
stp18976
a((dp18977
g2
(lp18978
VHere are a couple of libraries allowing you to retrieve messages from a POP3 server:
p18979
aVC#Mail
p18980
aVOpenPop
p18981
aVPop3
p18982
aVNet
p18983
aVCodeProject article
p18984
as(dp18985
g16
V29407
p18986
stp18987
a((dp18988
g2
(lp18989
VThe compiler says it all
p18990
aVThere's no such extension method
p18991
aVYou need to pass the action name as a second parameter:
p18992
aVTo avoid repeating the action name you could use this extension:
p18993
aVUPDATE:
p18994
aVIf you have the default routes setup:
p18995
aVThis will generate a link of the type:
p18996
as(dp18997
g16
V29407
p18998
stp18999
a((dp19000
g2
(lp19001
VInstead of a  try using a :
p19002
as(dp19003
g16
V29407
p19004
stp19005
a((dp19006
g2
(lp19007
VYou need to specify the generator type of the id in your mapping:
p19008
as(dp19009
g16
V29407
p19010
stp19011
a((dp19012
g2
(lp19013
VHow are trying to access this resource
p19014
aVIf you set the copy local to true you could read it as a simple file:
p19015
aVBuild Action:
p19016
aVCopy to Output Directory:  or
p19017
as(dp19018
g16
V29407
p19019
stp19020
a((dp19021
g2
(lp19022
VThere's isn't anything special that you need to do
p19023
aVIf you don't use any assembly from
p19024
aVNET 3
p19025
aV5, then do nothing as both framework versions use the same CLR 2
p19026
aV0 so there should be absolutely no difference at runtime
p19027
aVIf you want to use some 3
p19028
aV5 assemblies (such as ), just reference them in your project and deploy
p19029
aVOne thing that you might want to change is the C# compiler version used for  and  pages in case you are doing some LINQ stuff, anonymous objects, collection initializers,
p19030
aVin these pages (which by the way you should try to avoid because this belongs to code behind but anyway):
p19031
as(dp19032
g16
V29407
p19033
stp19034
a((dp19035
g2
(lp19036
VYou aren't missing anything
p19037
aVThere's a RetryCancel value:
p19038
aVRemark: Do not mistake with WPF's MessageBoxButton enumeration which doesn't have such value
p19039
as(dp19040
g16
V29407
p19041
stp19042
a((dp19043
g2
(lp19044
VHtml helpers could be used to clean the tag soup and also make your code more testable:
p19045
aVAnd use like this:
p19046
aVRemark:  is a very poorly chosen name, pick a more adapted one to your scenario
p19047
as(dp19048
g16
V29407
p19049
stp19050
a((dp19051
g2
(lp19052
VThere's no such functionality out of the box built in the jQuery library allowing you to submit forms containing file fields through ajax
p19053
aVYou could take a look at the jQuery form plugin
p19054
aVHere's an example:
p19055
aVIt will automatically recognize that there's a file field and generate a hidden iframe allowing the upload to work
p19056
as(dp19057
g16
V29407
p19058
stp19059
a((dp19060
g2
(lp19061
VYou could try setting  the  option to :
p19062
aVThis option will force the browser not to cache the request
p19063
aVUPDATE:
p19064
aVBased on the comment you could add a unique timestamp to the url to avoid caching issues:
p19065
as(dp19066
g16
V29407
p19067
stp19068
a((dp19069
g2
(lp19070
VI like to right click in the source code editor ->  ->
p19071
as(dp19072
g16
V29407
p19073
stp19074
a((dp19075
g2
(lp19076
VThere's an article on CodeProject which provides such function
p19077
as(dp19078
g16
V29407
p19079
stp19080
a((dp19081
g2
(lp19082
VYou cannot use the assemblies in the GAC as reference assemblies
p19083
aVIn order to reference an assembly you will need to put it in some folder and specify the full path to it
p19084
aVVisual Studio solves this by keeping a local copy of each referenced assembly
p19085
aVClick on a referenced assembly in your project and you will see the full path to the file used by Visual Studio to when compiling
p19086
aVFor example on my machine  is stored in
p19087
aVSo the command looks like this:
p19088
as(dp19089
g16
V29407
p19090
stp19091
a((dp19092
g2
(lp19093
VUPDATE:
p19094
aVThis method could be further generalized to work with any attribute:
p19095
aVand use like this:
p19096
as(dp19097
g16
V29407
p19098
stp19099
a((dp19100
g2
(lp19101
VYou could invoke the action in a new thread:
p19102
aVThe view could use an AJAX call to an action that would check if the results are available:
p19103
aVAnd the ping:
p19104
as(dp19105
g16
V29407
p19106
stp19107
a((dp19108
g2
(lp19109
VChange the connection string in web
p19110
aVconfig
p19111
aVBy default it uses the SqlMembershipProvider, so the tables must be created with the  utility
p19112
aVIf you want to use a custom database schema you might need to write your own provider
p19113
as(dp19114
g16
V29407
p19115
stp19116
a((dp19117
g2
(lp19118
VI would recommend you simplifying your code and disposing disposable resources such as streams and stream readers
p19119
aVYou could also use WebClient:
p19120
as(dp19121
g16
V29407
p19122
stp19123
a((dp19124
g2
(lp19125
VAs the select is hidden () you might not see it actually replacing the anchor tag
p19126
as(dp19127
g16
V29407
p19128
stp19129
a((dp19130
g2
(lp19131
VYou can compare date instances the same way you would compare numbers as they override the , ,  and  operators:
p19132
as(dp19133
g16
V29407
p19134
stp19135
a((dp19136
g2
(lp19137
VIn your code behind you could define a variable that will contain the message text:
p19138
aVAnd in the markup:
p19139
aVYou should also be aware that when you use , the message won't be encoded and if it contains some special characters such as  it might break the javascript
p19140
aVThis blog post contains a sample function that encodes strings used in javascript
p19141
as(dp19142
g16
V29407
p19143
stp19144
a((dp19145
g2
(lp19146
VHere's a nice post that demonstrates this scenario
p19147
aVIn order to make a cookie accessible through scripting languages such as javascript it must have the  property set to
p19148
aVThis is the last parameter of the setcookie function
p19149
as(dp19150
g16
V29407
p19151
stp19152
a((dp19153
g2
(lp19154
VThere's no single definitive answer to this question
p19155
aVIt would depend on the format of the file and the objects in the list
p19156
aVYou need a serializer
p19157
aVFor example you could use BinaryFormatter which serializes an object instance into a binary file but your objects must be serializable
p19158
aVAnother option is the XmlSerializer which uses XML format
p19159
aVUPDATE:
p19160
aVHere's an example with BinaryFormatter:
p19161
as(dp19162
g16
V29407
p19163
stp19164
a((dp19165
g2
(lp19166
VHere's a function you might use
p19167
as(dp19168
g16
V29407
p19169
stp19170
a((dp19171
g2
(lp19172
VThe Jet OLEDB driver is not supported on Windows x64
p19173
aVInstead you could use the Office Interop library
p19174
aVAdd reference to the  assembly and try the following code:
p19175
aVNote that you will need to have Excel installed
p19176
as(dp19177
g16
V29407
p19178
stp19179
a((dp19180
g2
(lp19181
VOnce you add a resx file to your project, Visual Studio will automatically generate a designer class which allows you to read value (In the properties of the resx file you must have )
p19182
aVFor example if you add  to your project you could directly read values from it:
p19183
as(dp19184
g16
V29407
p19185
stp19186
a((dp19187
g2
(lp19188
VIn
p19189
aVNET the term  is used instead of
p19190
aVAnd what you are trying to do is called generic constraints:
p19191
as(dp19192
g16
V29407
p19193
stp19194
a((dp19195
g2
(lp19196
VYou cannot instantiate abstract classes
p19197
aVYou could instantiate only concrete classes:
p19198
as(dp19199
g16
V29407
p19200
stp19201
a((dp19202
g2
(lp19203
VAnd:
p19204
aVUPDATE:
p19205
aVYou could clean even further the tag soup:
p19206
aVAnd in the view:
p19207
as(dp19208
g16
V29407
p19209
stp19210
a((dp19211
g2
(lp19212
VSingle Sign On is possible using Forms Authentication
p19213
aVHere are the steps:
p19214
aVConfigure both sites for forms authentication and setup same machine keys (this is important for step 4)
p19215
aVUser authenticates on SiteA
p19216
aVcom and a cookie is issued for him on this site
p19217
aVForge a link on SiteA that would POST a form containing the authentication cookie value in a hidden field to a page on SiteB
p19218
aVcom that doesn't require authentication (make sure you post only over HTTPS)
p19219
aVThe page on SiteB
p19220
aVcom reads the value of the posted token, decrypts it and issues an authentication cookie for SiteB
p19221
aVcom using FormsAuthentication
p19222
aVGetAuthCookie
p19223
aVRedirect to the authenticated part of SiteB
p19224
aVcom
p19225
as(dp19226
g16
V29407
p19227
stp19228
a((dp19229
g2
(lp19230
VI would recommend you passing the path to your library from the web application
p19231
aVSo for example in your web app:
p19232
aVYou could also use HostingEnvironment in your class library but I would really advice you against it as it creates a dependency with  which makes your class library tied to a web context and not unit testable friendly:
p19233
as(dp19234
g16
V29407
p19235
stp19236
a((dp19237
g2
(lp19238
V is the part that causes problems
p19239
aVWhen used in  it won't return any value but it will be hardcoded
p19240
aVNow instead of going through all the pain of mixing C# and javascript I would recommend you externalizing this script into a function, it's always better to use the right tools for the right thing:
p19241
aVThis would simplify your server side code to simply calling the previous function and passing it the xml path as argument:
p19242
as(dp19243
g16
V29407
p19244
stp19245
a((dp19246
g2
(lp19247
VIn your View I don't see any text box or a field allowing to send data to the controller, only a label
p19248
aVProperties will not be validated if they are not posted
p19249
aVAdd a textbox, leave it blank and your model won't be valid any more:
p19250
aVUPDATE:
p19251
aVHere's the code I've used:
p19252
aVModel:
p19253
aVController:
p19254
aVView:
p19255
aVWhen you submit this form a validation error is shown
p19256
aVRemark1: I've omitted the  base class in the models as I don't how does it look
p19257
aVRemark2: I've renamed the variable in the Index action to
p19258
aVI remember that there was some problems with this in ASP
p19259
aVNET MVC 1
p19260
aV0 when you had the prefix and the variable named the same but I am not sure whether this applies here and I think it was fixed
p19261
as(dp19262
g16
V29407
p19263
stp19264
a((dp19265
g2
(lp19266
VYou could override the  method:
p19267
aVAs far as ViewData and TempData are concerned:  and  should work inside the  method
p19268
aVAnd finally if you wish to use an  (in this case there's no need because  is better) you could instantiate it:
p19269
as(dp19270
g16
V29407
p19271
stp19272
a((dp19273
g2
(lp19274
VIf you have small volume of input/output data a  would be better and probably faster, but if you need to pass complex objects a web service will be suitable because it will handle the serialization/deserialization of these objects you won't need to parse them in your code
p19275
as(dp19276
g16
V29407
p19277
stp19278
a((dp19279
g2
(lp19280
VThat's because you need to call the  function:
p19281
aVinstead of
p19282
as(dp19283
g16
V29407
p19284
stp19285
a((dp19286
g2
(lp19287
VYou may take a look at jqGrid which is commercial (the column reordering/resizing demo is in the Functionality/Misc menu)
p19288
aVAlternatives:
p19289
aVFlexgrid
p19290
aVDatatables
p19291
aVIngrid
p19292
aVjqGridView
p19293
aVSlickGrid
p19294
as(dp19295
g16
V29407
p19296
stp19297
a((dp19298
g2
(lp19299
VYou've instantiated , but not  and  which you are trying to access in the view ( is null, so  will throw an exception)
p19300
aVYou will need to instantiate these properties:
p19301
aVThis could also be done in the constructor of MyData:
p19302
as(dp19303
g16
V29407
p19304
stp19305
a((dp19306
g2
(lp19307
Vor you could convert these to integers:
p19308
as(dp19309
g16
V29407
p19310
stp19311
a((dp19312
g2
(lp19313
VThese two routes  and  are ambiguous
p19314
aVIt cannot distinguish between  and , it is always the first route in the route definition which will be caught because in the second case it thinks that
p19315
as(dp19316
g16
V29407
p19317
stp19318
a((dp19319
g2
(lp19320
VYou could use XPathSelectElements
p19321
aVAnother thing that comes to mind is to define an XSD schema and validate your XML file against this schema
p19322
aVThis will generate meaningful error messages and if the file is valid you can parse it without problems
p19323
as(dp19324
g16
V29407
p19325
stp19326
a((dp19327
g2
(lp19328
VYes, it is still developing, even though WPF begins to gather pace
p19329
as(dp19330
g16
V29407
p19331
stp19332
a((dp19333
g2
(lp19334
VI would suggest you using the windows task scheduler for this job
p19335
as(dp19336
g16
V29407
p19337
stp19338
a((dp19339
g2
(lp19340
VThe first thing would be to look in the list to see if you have an exact match
p19341
aVIf not you calculate the Levenshtein distance between the word entered by the user and every element in the list
p19342
aVYou suggest the one that has the lowest
p19343
as(dp19344
g16
V29407
p19345
stp19346
a((dp19347
g2
(lp19348
VThis not possible simply because everything that comes after the  sign (fragment identifier) is never sent to the server and there's no way for the server to ever capture this value, so no routing with it
p19349
as(dp19350
g16
V29407
p19351
stp19352
a((dp19353
g2
(lp19354
VYou could use AutoMapper to convert from your domain model to a view model
p19355
aVThere's a great post from Jimmy Bogard explaining how you could integrate this within your controller actions
p19356
as(dp19357
g16
V29407
p19358
stp19359
a((dp19360
g2
(lp19361
s(dp19362
g16
V29407
p19363
stp19364
a((dp19365
g2
(lp19366
VYou could use Process
p19367
aVStart method:
p19368
aVAnd if you want to pass arguments:
p19369
as(dp19370
g16
V29407
p19371
stp19372
a((dp19373
g2
(lp19374
VSimply don't call  on the
p19375
aVThe reason this class is disposable is not because it holds unmanaged resource but to allow the disposal of the stream which itself could hold unmanaged resources
p19376
aVIf the life of the underlying stream is handled elsewhere, no need to dispose the writer
p19377
as(dp19378
g16
V29407
p19379
stp19380
a((dp19381
g2
(lp19382
VIt could be because the size of the message is greater than the default message size
p19383
aVYou might try increasing the this value in the configuration of the endpoint
p19384
aVYou could also take a look at this post
p19385
aVUPDATE:
p19386
aVTo further diagnose the problem I would suggest you activating the trace on the service by putting the following in the config file:
p19387
aVThis will generate the  trace file which you could open with the Service Trace Viewer Tool which will provide you with extensive information about the call and the error message
p19388
as(dp19389
g16
V29407
p19390
stp19391
a((dp19392
g2
(lp19393
VThe cyclomatic complexity is 4
p19394
aV1 for the procedure +1 for the for loop +1 for the while loop +1 for the if condition of the while loop
p19395
as(dp19396
g16
V29407
p19397
stp19398
a((dp19399
g2
(lp19400
VThe value of this cookie represents the encrypted username of the currently authenticated user
p19401
aVMore about Forms Authentication in this article on MSDN
p19402
as(dp19403
g16
V29407
p19404
stp19405
a((dp19406
g2
(lp19407
VYou could do a server install which doesn't require Visual Studio installed:
p19408
aVNow you are probably asking where's this  coming from
p19409
aVActually you download  from here, rename the  to  and inside you'll find what you are looking for (in the  sub-folder)
p19410
as(dp19411
g16
V29407
p19412
stp19413
a((dp19414
g2
(lp19415
VHere's the ideal:
p19416
aVwhich is roughly equivalent to:
p19417
aVthe using being more readable
p19418
aVUPDATE:
p19419
aV@aron, now that I'm thinking
p19420
aVlooks even prettier to the eye than the ideal :-)
p19421
as(dp19422
g16
V29407
p19423
stp19424
a((dp19425
g2
(lp19426
VI would recommend  after making sure that  is present in the  sub-folder relative to the executable of your application
p19427
as(dp19428
g16
V29407
p19429
stp19430
a((dp19431
g2
(lp19432
VYou didn't say what server side technology you are using but if you want a pure client side solution you may take a look at the jQuery Pagination plugin
p19433
aVHere's a demo page
p19434
as(dp19435
g16
V29407
p19436
stp19437
a((dp19438
g2
(lp19439
VFrom what I can see you are using the  string member in the  custom action to identify the last portion of the image url
p19440
aVSo for example if your site is located at  and the image files are located inside this folder like , ,
p19441
aVyou could only pass the image filename to the custom action result constructor which is called in the controller action and passed the  parameter
p19442
aVSo in order to show a thumbnail for  in your view you could do this:
p19443
aVOf course this assumes that you have a default route like this:
p19444
as(dp19445
g16
V29407
p19446
stp19447
a((dp19448
g2
(lp19449
VThe problem is that the  function you are calling undoes do job of
p19450
aVYou may try this:
p19451
as(dp19452
g16
V29407
p19453
stp19454
a((dp19455
g2
(lp19456
VNow if this manipulation is more complicated than incrementing an integer and deserves a separate method, you could call this method inside  but this method needs to be static
p19457
as(dp19458
g16
V29407
p19459
stp19460
a((dp19461
g2
(lp19462
VThe result is always the same because an MD5 hash has always the same length
p19463
aVAlso given a hash you cannot get the original value (well you can always try cracking it), that's the purpose of a hash
p19464
as(dp19465
g16
V29407
p19466
stp19467
a((dp19468
g2
(lp19469
VIf you want to have the Visual Studio 2008 ASP
p19470
aVNET MVC Project Template, then yes you need to install it, otherwise the assemblies are already in the GAC
p19471
aVAlso the project you are trying to open must have been created with VS2008
p19472
as(dp19473
g16
V29407
p19474
stp19475
a((dp19476
g2
(lp19477
s(dp19478
g16
V29407
p19479
stp19480
a((dp19481
g2
(lp19482
VThose are called preprocessor directives
p19483
aVQuote from the docs:
p19484
aV#if' lets you begin a conditional directive,
p19485
aVtesting a symbol or symbols
p19486
aVto see if they evaluate to true
p19487
aVIf
p19488
aVthey do evaluate to true, the compiler
p19489
aVevaluates all the code between the #if
p19490
aVand the next directive
p19491
aVSo basically when you compile your program with /define:symbol switch it will either evaluate the if statement or not
p19492
aVFor example:
p19493
aVallows you to define the DEBUG directive and enter the  branch
p19494
aVRemember that contrary to the if statement those are purely compile time and the body of the else statement won't even be included in your compiled assembly
p19495
as(dp19496
g16
V29407
p19497
stp19498
a((dp19499
g2
(lp19500
VIt depends
p19501
aVIf this normal solution includes a unit testing project for example or a load tests or a modeling project (architecture, UML), then the answer is no
p19502
aVClass libraries, console applications, WinForm, ASP
p19503
aVNET,
p19504
aVshould be ok
p19505
as(dp19506
g16
V29407
p19507
stp19508
a((dp19509
g2
(lp19510
VYou need to remove the  from  class
p19511
aVThis attribute is already defined in the interface and that's the correct way of specifying that this interface will be exposed as WCF service
p19512
as(dp19513
g16
V29407
p19514
stp19515
a((dp19516
g2
(lp19517
VThe file is located on the client computer
p19518
aVFor security reasons you cannot execute files located on the client computer using ASP
p19519
aVNET
p19520
as(dp19521
g16
V29407
p19522
stp19523
a((dp19524
g2
(lp19525
VYou should not modify the  file manually
p19526
aVAn alternative would be to use the constructor of the form to do this initialization or in some load event
p19527
as(dp19528
g16
V29407
p19529
stp19530
a((dp19531
g2
(lp19532
VUsing the standard html input control, there isn't a way
p19533
aVYou could use Flash upload controls which are more customizable
p19534
aVSWFUpload is an example
p19535
aVIn my opinion in all cases you need to perform a server side validation of the uploaded file extension and content
p19536
as(dp19537
g16
V29407
p19538
stp19539
a((dp19540
g2
(lp19541
VAs far as I know this is not possible and that's why sites like stackoverflow use a cookieless domain for static resources which is different than the main domain: http://sstatic
p19542
aVnet
p19543
aVThat's also part of the recommendations of YSlow for optimizing web applications
p19544
as(dp19545
g16
V29407
p19546
stp19547
a((dp19548
g2
(lp19549
VHere's what I can suggest:
p19550
aVController:
p19551
aVView:
p19552
as(dp19553
g16
V29407
p19554
stp19555
a((dp19556
g2
(lp19557
VThis should work
p19558
aVHere are the steps I did:
p19559
aVStart VS2010
p19560
aVCreate a new ASP
p19561
aVNET MVC 2 project using the template
p19562
aVModify Global
p19563
aVasax to look like this:
p19564
aVStart the application and navigate to http://localhost:1505/_vti_bin/Lists
p19565
aVasmx
p19566
aVSystem
p19567
aVNotImplementedException: The method or operation is not implemented
p19568
as(dp19569
g16
V29407
p19570
stp19571
a((dp19572
g2
(lp19573
VIn Debug mode yes, in Release mode view locations are cached, so don't worry about performance unless you are shipping your site in Debug mode
p19574
aVCheck out this post
p19575
as(dp19576
g16
V29407
p19577
stp19578
a((dp19579
g2
(lp19580
VIf  is a string:
p19581
aVBut I would suggest you to use parameters in your query instead of string concatenations
p19582
as(dp19583
g16
V29407
p19584
stp19585
a((dp19586
g2
(lp19587
VYou could try giving the checkboxes a name (ids):
p19588
aVShould work with:
p19589
as(dp19590
g16
V29407
p19591
stp19592
a((dp19593
g2
(lp19594
VYou could use a symmetric encryption algorithm
p19595
aVHere's an example
p19596
aVBoth sides (encrypt/decrypt) must share a common secret key for this to work
p19597
as(dp19598
g16
V29407
p19599
stp19600
a((dp19601
g2
(lp19602
VYou can't do this using GZipStream only
p19603
aVYou will need an implementation of the ZIP standard such as #ziplib
p19604
aVQuote from MSDN:
p19605
aVCompressed GZipStream objects written
p19606
aVto a file with an extension of
p19607
aVgz can
p19608
aVbe decompressed using many common
p19609
aVcompression tools; however, this class
p19610
aVdoes not inherently provide
p19611
aVfunctionality for adding files to or
p19612
aVextracting files from
p19613
aVzip archives
p19614
aVExample with #ziplib:
p19615
as(dp19616
g16
V29407
p19617
stp19618
a((dp19619
g2
(lp19620
VYou may take a look at this post which illustrates a technique that could be used to have a single instance WinForms application
p19621
as(dp19622
g16
V29407
p19623
stp19624
a((dp19625
g2
(lp19626
VYou could try a binding redirect in the config file:
p19627
aVThis might not work if the two assemblies are signed with a different key
p19628
aVAlso the gap between V1 and V6 seems pretty big, the methods you rely upon should not have changed between those versions
p19629
aVActually in your case it probably should be:
p19630
as(dp19631
g16
V29407
p19632
stp19633
a((dp19634
g2
(lp19635
s(dp19636
g16
V29407
p19637
stp19638
a((dp19639
g2
(lp19640
VI would recommend you the excellent MVContrib test helper
p19641
aVYour test might look like this:
p19642
aVYou can also assert on properties of the model
p19643
as(dp19644
g16
V29407
p19645
stp19646
a((dp19647
g2
(lp19648
VIf in the try block there's already a return statement I would probably put the other return at the end of the function:
p19649
aVAnd this in order to avoid multiple returns if multiple exceptions need to be handled
p19650
as(dp19651
g16
V29407
p19652
stp19653
a((dp19654
g2
(lp19655
VIn
p19656
aVNET it is called extension methods
p19657
aVUPDATE:
p19658
aVIn javascript you could do this:
p19659
as(dp19660
g16
V29407
p19661
stp19662
a((dp19663
g2
(lp19664
VController:
p19665
aVView:
p19666
as(dp19667
g16
V29407
p19668
stp19669
a((dp19670
g2
(lp19671
VThis should work:
p19672
aVAnd to invoke it first declare a global javascript variable containing the address of this controller somewhere inside the view:
p19673
aVAnd finally call the method:
p19674
as(dp19675
g16
V29407
p19676
stp19677
a((dp19678
g2
(lp19679
VI would suggest you to avoid hardcoding urls in your javascript
p19680
aVThe problems you are encountering is one of the reasons, the other is if you decide to change your routes
p19681
aVHere's what you could do instead
p19682
aVDefine a global javascript variable inside the view that will hold the address and it will be calculated using html helpers:
p19683
aVAnd then use this variable inside your script:
p19684
as(dp19685
g16
V29407
p19686
stp19687
a((dp19688
g2
(lp19689
VAuthorizeAttribute:
p19690
as(dp19691
g16
V29407
p19692
stp19693
a((dp19694
g2
(lp19695
VYou didn't mention what mocking framework you are using but here's how you would do it with Rhino Mocks:
p19696
aVController:
p19697
aVUnit test:
p19698
aVRemark: Using MVCContrib
p19699
aVTestHelper this test could be greatly simplified especially the context mocking part and the asserts as well:
p19700
as(dp19701
g16
V29407
p19702
stp19703
a((dp19704
g2
(lp19705
VTry using a WebClient:
p19706
as(dp19707
g16
V29407
p19708
stp19709
a((dp19710
g2
(lp19711
VYou could generate the rules and the messages dynamically:
p19712
as(dp19713
g16
V29407
p19714
stp19715
a((dp19716
g2
(lp19717
VCan't you make the field  instead of
p19718
aVA readonly field value will be submitted to the server while still being non-editable by the user
p19719
aVA  tag is an exception though
p19720
as(dp19721
g16
V29407
p19722
stp19723
a((dp19724
g2
(lp19725
VI don't know what you mean by a PHP server but can't you write a script that will add two numbers:
p19726
aVAnd in C#:
p19727
aVAnother and a better option is PHP SOAP
p19728
as(dp19729
g16
V29407
p19730
stp19731
a((dp19732
g2
(lp19733
VAccording to the specification when a server sends a 400 status code it means that:
p19734
aVThe request could not be understood by
p19735
aVthe server due to malformed syntax
p19736
aVThe client SHOULD NOT repeat the
p19737
aVrequest without modifications
p19738
aVSo it looks pretty natural to have an exception in this case
p19739
aVAs far as 300 is concerned it is more debatable
p19740
aVAnyway, if you want some non-standard behavior you can always resort to a TcpClient but that really seems like an extreme and desperate measure
p19741
aVDid you perform performance tests
p19742
aVHave you confirmed that throwing an exception in this exceptional case is a bottleneck to your application
p19743
aVIt seems like a micro optimization in this case
p19744
aVCan't you make this web server happy by forging a valid request and getting 200 at the end
p19745
aVIf not can't you switch to a more standard web server
p19746
as(dp19747
g16
V29407
p19748
stp19749
a((dp19750
g2
(lp19751
VThe action method that you are invoking through AJAX needs to return everything that's needed in the response
p19752
aVSo for example when you put some object inside ViewData, this object will be available inside the View (or probably the partial view) that you are returning from the action and so available to the calling javascript
p19753
aVAnother option is to return JSON object containing the message:
p19754
aVwhich could be invoked like this:
p19755
as(dp19756
g16
V29407
p19757
stp19758
a((dp19759
g2
(lp19760
VPhil Haack has a nice post discussing this scenario and shows the usage of a custom value provider instead of an action filter
p19761
as(dp19762
g16
V29407
p19763
stp19764
a((dp19765
g2
(lp19766
VYou can do action overloading (two actions with same name on the same controller with different arguments) but they should be invocable on different HTTP verbs
p19767
aVThis is a commonly pattern in ASP
p19768
aVNET MVC applications: one action accessible through GET that renders a view containing a form and a second action that this form will POST to:
p19769
aVThere's no need to modify your routes for this, it works with the default ones
p19770
as(dp19771
g16
V29407
p19772
stp19773
a((dp19774
g2
(lp19775
VCreate a new Form, put some controls on it and show it to the user:
p19776
as(dp19777
g16
V29407
p19778
stp19779
a((dp19780
g2
(lp19781
VIf by hide you mean to remove it from the address bar than you could use a POST request instead of GET or a custom HTTP header
p19782
aVAs a third option you could use a GET request but encrypt the data
p19783
aVAlso I suppose you are talking about some custom referrer and not the standard HTTP referrer which might be sent by the user agent
p19784
as(dp19785
g16
V29407
p19786
stp19787
a((dp19788
g2
(lp19789
VYou could take a look at this post which describes a nice and fluent framework for unit testing routes
p19790
as(dp19791
g16
V29407
p19792
stp19793
a((dp19794
g2
(lp19795
VDid you enable client validation and included the proper client scripts ,  and  to your page
p19796
as(dp19797
g16
V29407
p19798
stp19799
a((dp19800
g2
(lp19801
VWhat is the  doing and why are you using
p19802
aVYour  function takes a single string parameter named  which could be passed like this:
p19803
as(dp19804
g16
V29407
p19805
stp19806
a((dp19807
g2
(lp19808
VYou could use the GetManifestResourceStream method to get the embedded image as a stream, read this stream in a buffer and write it to the disc using the WriteAllBytes method:
p19809
aVThis should work for small files, but if you have some very big files embedded inside your assembly it would be better to read them in chunks to avoid consuming lots of memory:
p19810
as(dp19811
g16
V29407
p19812
stp19813
a((dp19814
g2
(lp19815
VThat's just to give the route parameter a name or an exception will be thrown
p19816
aVYou could have called it
p19817
as(dp19818
g16
V29407
p19819
stp19820
a((dp19821
g2
(lp19822
VYou should think twice any time you are using static objects in a multi-threaded application (not only the singleton pattern) because of the shared state
p19823
aVProper locking mechanisms should be applied in order to synchronize the access to the shared state
p19824
aVFailing to do so some very difficult to find bugs could appear
p19825
as(dp19826
g16
V29407
p19827
stp19828
a((dp19829
g2
(lp19830
VInstead of opening  in your browser you could try
p19831
aVIn ASP
p19832
aVNET MVC the standard convention is that the  suffix is used for the class name but removed when resolving the route
p19833
aVWhen you call , the routing engine is trying to find a controller named   which obviously doesn't exist
p19834
as(dp19835
g16
V29407
p19836
stp19837
a((dp19838
g2
(lp19839
VThis is called a , which is obtained from the  and is more adapted to the
p19840
as(dp19841
g16
V29407
p19842
stp19843
a((dp19844
g2
(lp19845
VOne possible solution is to attach a javascript click handler to the pager links that will submit the form by updating a hidden field containing the page number
p19846
aVThis way you will get all the search criteria in the controller action
p19847
aVAnother possibility is to transform those pager links into submit buttons and place them inside the form
p19848
aVA third possibility is to use the  to persist search criteria
p19849
as(dp19850
g16
V29407
p19851
stp19852
a((dp19853
g2
(lp19854
VOn the 4th line there's a  after  that you should remove:
p19855
aVWhich could be simplified to:
p19856
as(dp19857
g16
V29407
p19858
stp19859
a((dp19860
g2
(lp19861
s(dp19862
g16
V29407
p19863
stp19864
a((dp19865
g2
(lp19866
VIt uses DateTimeFormatInfo
p19867
aVCurrentInfo which contains the different formats
p19868
as(dp19869
g16
V29407
p19870
stp19871
a((dp19872
g2
(lp19873
VYou could try writing a custom FilePathResult and override the WriteFileMethod:
p19874
aVand in your controller:
p19875
as(dp19876
g16
V29407
p19877
stp19878
a((dp19879
g2
(lp19880
VSteve Sanderson wrote a nice blog post which should be helpful for your scenario
p19881
as(dp19882
g16
V29407
p19883
stp19884
a((dp19885
g2
(lp19886
VThere's no best way
p19887
aVThere are good and bad ways
p19888
aVHaving everything in the same project is definitely not a good way
p19889
aVBig projects should be separated in layers and each layer usually goes into a different assembly so that it can be reused in other projects
p19890
aVFor example you could have Models, Data Access, Business Logic, Web
p19891
aVJeffrey Palermo has a series of posts about the onion architecture which is worth reading
p19892
aVFrom performance standpoint it is considered a good practice to have less bigger assemblies than many smaller assemblies
p19893
as(dp19894
g16
V29407
p19895
stp19896
a((dp19897
g2
(lp19898
VNTLM authentication is usually configured in IIS so you could switch back to anonymous authentication for those folders
p19899
as(dp19900
g16
V29407
p19901
stp19902
a((dp19903
g2
(lp19904
VUsing reflection you could take a look at the Version property:
p19905
as(dp19906
g16
V29407
p19907
stp19908
a((dp19909
g2
(lp19910
VYou don't need to worry at what the customer enters and is saved into the database
p19911
aVYou need to worry what you are showing in the View
p19912
aVAll you need is to html encode the message before displaying it:
p19913
aVor using the new ASP
p19914
aVNET 4
p19915
aV0 code nugget:
p19916
as(dp19917
g16
V29407
p19918
stp19919
a((dp19920
g2
(lp19921
s(dp19922
g16
V29407
p19923
stp19924
a((dp19925
g2
(lp19926
s(dp19927
g16
V29407
p19928
stp19929
a((dp19930
g2
(lp19931
VHow are you inserting the link
p19932
aVI've just tried the following:
p19933
aVIf you do nothing in the code behind the link is rendered as:
p19934
aVand if in the Page_Load you define the href:
p19935
aVit will render as:
p19936
aVwhich other the  mangling is the expected behavior
p19937
as(dp19938
g16
V29407
p19939
stp19940
a((dp19941
g2
(lp19942
VThe header you are trying to read is :
p19943
aVIf you want to use the  header, then you could read it with  constant
p19944
as(dp19945
g16
V29407
p19946
stp19947
a((dp19948
g2
(lp19949
VIn your sample you are generating an anchor tag that has an onclick handler pointing to the download javascript function
p19950
aVYou cannot call a server side function with this approach
p19951
aVOne way to solve this is to write an http handler that will handle the download given the file id as parameter
p19952
aVThis handler will use the file id to fetch the file contents from the database and write it to the response:
p19953
aVThe next step is to generate the anchors that will point to the generic handler previously created:
p19954
as(dp19955
g16
V29407
p19956
stp19957
a((dp19958
g2
(lp19959
VYour custom implementation of  could use the DI framework to retrieve the instance of
p19960
as(dp19961
g16
V29407
p19962
stp19963
a((dp19964
g2
(lp19965
VYour DAL project references the  assembly but this doesn't mean it will get copied to the output folder of the test project especially if it is loaded using reflection by NHibernate
p19966
aVChances are if you look at the compiled DAL assembly with reflector it doesn't even have it in the referenced assemblies list as it is not used directly by the code
p19967
aVYou've already found the solution by referencing it to the unit test project
p19968
as(dp19969
g16
V29407
p19970
stp19971
a((dp19972
g2
(lp19973
VGiven the type of the service class you could use the GetMethods function to get a list of all the methods through reflection:
p19974
as(dp19975
g16
V29407
p19976
stp19977
a((dp19978
g2
(lp19979
VSorry to disappoint you but handling such a simple case like yours using Data Annotations could be a pain
p19980
aVYou may take a look at this post
p19981
as(dp19982
g16
V29407
p19983
stp19984
a((dp19985
g2
(lp19986
VYou could use the constant:
p19987
as(dp19988
g16
V29407
p19989
stp19990
a((dp19991
g2
(lp19992
VYou could use AJAX to send the form values to a controller action
p19993
aVThe jQuery Form plugin is very good for this purpose
p19994
aVThe plugin reads all the form values and sends them in an AJAX request to a controller action for processing
p19995
as(dp19996
g16
V29407
p19997
stp19998
a((dp19999
g2
(lp20000
VAll that the WebClient class does is to perform an HTTP request and read/parse the response
p20001
aVWhen sending this request you could set headers such as  using the Headers property:
p20002
aVIf you are talking about the encoding, when you use the DownloadString method it will look for the response headers in order to use the proper encoding and if the server sends wrong response header you might have encoding problems
p20003
aVIf this is the case you could use the DownloadData method which will return you the response as a byte array and you could apply the proper encoding when converting this array to string
p20004
as(dp20005
g16
V29407
p20006
stp20007
a((dp20008
g2
(lp20009
VIt's a bitwise operator
p20010
aVExample:
p20011
aVOutputs the ascii values      ( ^  = )
p20012
as(dp20013
g16
V29407
p20014
stp20015
a((dp20016
g2
(lp20017
Vor if you have a number per line:
p20018
as(dp20019
g16
V29407
p20020
stp20021
a((dp20022
g2
(lp20023
VYou could decorate the action handling the form post with the ValidateInputAttribute:
p20024
as(dp20025
g16
V29407
p20026
stp20027
a((dp20028
g2
(lp20029
VYou could decorate your model properties with data annotation attributes allowing you to perform some validation logic
p20030
aVHere's a simplified example:
p20031
aVModel:
p20032
aVController:
p20033
aVView:
p20034
aVIt's up to you to decide whether Data Annotations are sufficient for your case, but bear in mind that if you need to perform more advanced validation scenarios you might take a look at third party frameworks like FluentValidation and xVal
p20035
as(dp20036
g16
V29407
p20037
stp20038
a((dp20039
g2
(lp20040
s(dp20041
g16
V29407
p20042
stp20043
a((dp20044
g2
(lp20045
VYou need to indicate to the serializer and in the WSDL that a  can be a  using the XmlIncludeAttribute:
p20046
aVYou need to indicate what is the possible type that you are returning from the method
p20047
aVAs in the method signature you are returning object, the serializer doesn't know about the actual type you are returning at runtime
p20048
aVAnd in your serialization example:
p20049
as(dp20050
g16
V29407
p20051
stp20052
a((dp20053
g2
(lp20054
VASMX files are usually placed in ASP
p20055
aVNET projects which are not suitable to be referenced by other projects
p20056
aVFor this reason I would recommend you refactoring the functionality into a class library that will be referenced from the web service and from other projects where you directly call the methods:
p20057
aVand in the web service:
p20058
as(dp20059
g16
V29407
p20060
stp20061
a((dp20062
g2
(lp20063
VYou may take a look at ELMAH
p20064
aVHere's an example with ASP
p20065
aVNET MVC
p20066
as(dp20067
g16
V29407
p20068
stp20069
a((dp20070
g2
(lp20071
VInstead of  you could use an array:
p20072
aVAnd then in your view:
p20073
aVAnother possibility is to keep the  but in this case you cannot use the strongly typed helper:
p20074
as(dp20075
g16
V29407
p20076
stp20077
a((dp20078
g2
(lp20079
VYou could use a JSON library such as JSON
p20080
aVNET or the built-in JavaScriptSerializer
p20081
as(dp20082
g16
V29407
p20083
stp20084
a((dp20085
g2
(lp20086
VI would probably write a helper:
p20087
aVWhich could be used like so:
p20088
as(dp20089
g16
V29407
p20090
stp20091
a((dp20092
g2
(lp20093
VYou may take a look at the ConfigurationManager class:
p20094
aVwould read the appSettings section of the  of the currently executing process
p20095
as(dp20096
g16
V29407
p20097
stp20098
a((dp20099
g2
(lp20100
VIn plain old asmx services by catching this exception and rethrowing a  and filling the Detail property
p20101
aVIn WCF by throwing a
p20102
aVAs far as the catching is concerned a good place to do this is a custom IErrorHandler that would provide the appropriate fault to the client
p20103
as(dp20104
g16
V29407
p20105
stp20106
a((dp20107
g2
(lp20108
VYour action method could serialize and return them as a JSON encoded string:
p20109
aVwhich could be invoked like this:
p20110
as(dp20111
g16
V29407
p20112
stp20113
a((dp20114
g2
(lp20115
VIn the  case you could test whether it is an empty element using  property which means that the element is opened and closed in the same iteration
p20116
as(dp20117
g16
V29407
p20118
stp20119
a((dp20120
g2
(lp20121
VType  in the  column, a  will appear allowing you to add values in the array:
p20122
as(dp20123
g16
V29407
p20124
stp20125
a((dp20126
g2
(lp20127
VYou could either rename the parameter in the default root (which probably is not a good idea) or rename it in the action method
p20128
aVAdding another root will not help because it will be the same as the default one and given an url the routing engine cannot distinguish between the two and will always take the first one in the list
p20129
as(dp20130
g16
V29407
p20131
stp20132
a((dp20133
g2
(lp20134
V is not reflection and is very fast
p20135
as(dp20136
g16
V29407
p20137
stp20138
a((dp20139
g2
(lp20140
VTaken from here
p20141
as(dp20142
g16
V29407
p20143
stp20144
a((dp20145
g2
(lp20146
VIf you only want to prevent instantiation you could make  abstract (make it's constructor protected as well - it is a good design) and have  derive from it
p20147
aVIf you want to completely hide the type your approach seems fine
p20148
as(dp20149
g16
V29407
p20150
stp20151
a((dp20152
g2
(lp20153
VThere's no magic
p20154
aVJust try the following HTML:
p20155
aVOpen it in your browser, type some text, click on the link and then the Back button and it will remember the value
p20156
aVTested and working on IE8, FireFox 3
p20157
aV6, Chrome 4
p20158
as(dp20159
g16
V29407
p20160
stp20161
a((dp20162
g2
(lp20163
VIn your controller you are creating a new  from  which is not correct because you've already specified the  and  properties
p20164
aVYou have two options:
p20165
aVor:
p20166
aVThere's also a third and preferred way using strongly typed view:
p20167
aVand in the view:
p20168
as(dp20169
g16
V29407
p20170
stp20171
a((dp20172
g2
(lp20173
VUnfortunately those strongly typed helpers work only with indexer properties for collections
p20174
aVThey would actually look for opening and closing   brackets in the syntax
p20175
aVA possible workaround would be to add another property in your view model class which would be of type  and would be populated from the original property
p20176
aVIn the getter you would simply return a new list from the original property and in the setter you would reconstruct the original set as it does not have the notion of order
p20177
as(dp20178
g16
V29407
p20179
stp20180
a((dp20181
g2
(lp20182
VYou should avoid having an app
p20183
aVconfig for class library projects
p20184
aVYou will need to manually merge the values with those of web
p20185
aVconfig as this would be used by the web project
p20186
as(dp20187
g16
V29407
p20188
stp20189
a((dp20190
g2
(lp20191
VRight click on the setup project in the solution explorer -> View -> Launch Conditions and set the appropriate
p20192
aVNET framework version:
p20193
as(dp20194
g16
V29407
p20195
stp20196
a((dp20197
g2
(lp20198
VAdd a new property to  which will represent the concatenation of the two properties:
p20199
aVand then use this:
p20200
as(dp20201
g16
V29407
p20202
stp20203
a((dp20204
g2
(lp20205
VI would personally recommend you using a real CSV parser instead of trying to do one liners that will break if your values contain a comma for example
p20206
aVYou may read this article about rolling your own CSV parser
p20207
as(dp20208
g16
V29407
p20209
stp20210
a((dp20211
g2
(lp20212
VYou could add  to the form containing the button
p20213
aVThe form will post all the necessary data to the controller action and render the results in a new tab
p20214
as(dp20215
g16
V29407
p20216
stp20217
a((dp20218
g2
(lp20219
VJSON is a serialization format which can include UNICODE characters
p20220
aVThe byte representation of this unicode string is usually sent over the wire, normally through the HTTP protocol which uses HTTP headers to specify the encoding to the client which is UTF-8
p20221
as(dp20222
g16
V29407
p20223
stp20224
a((dp20225
g2
(lp20226
VAnother solution would be to store the user preferences into the session and write some server side logic (like action filter) that would write those preferences as JSON encoded string on each page (in a  tag towards the end of the markup) making them available to client scripts
p20227
as(dp20228
g16
V29407
p20229
stp20230
a((dp20231
g2
(lp20232
s(dp20233
g16
V29407
p20234
stp20235
a((dp20236
g2
(lp20237
VYou need to install VS2010 on your build machine
p20238
as(dp20239
g16
V29407
p20240
stp20241
a((dp20242
g2
(lp20243
Vso am i right to say that the project should have started with unit
p20244
aVtest with proper mocks using something
p20245
aVlike rhino mocks
p20246
aVThe project should have started with a good separation of concerns
p20247
aVOnce you have a good separation and you work with abstractions instead of concrete classes using a mocking framework and writing unit tests is a piece of cake
p20248
aVthen anything else which requires 3rd
p20249
aVparty dll, database data access etc to
p20250
aVbe done via integration testing using
p20251
aVselenium
p20252
aVYes
p20253
aVbecause i have a function which calls
p20254
aVa third party dll, i'm not sure
p20255
aVwhether to write a unit test in nunit
p20256
aVto just instantiate the object and
p20257
aVpass it some dummy data which breaks
p20258
aVthe mocking part to test it or just
p20259
aVcover that part in my selenium
p20260
aVintegration testing when i submit my
p20261
aVforms and call the dll
p20262
aVYou should not have a function that calls a third party DLL
p20263
aVYou should write an abstraction/wrapper around this DLL which you would use and which will be mocked in the unit test where you will verify that your function calls the proper methods without really calling it
p20264
aVYou would then use a DI framework in the application to do the plumbing
p20265
aVand for user acceptance tests, is it
p20266
aVsafe to say we can just use selenium
p20267
aVagain
p20268
aVSelenium or any other Web testing framework would be fine
p20269
aVIn the more advanced ($) versions of Visual Studio you could write web tests
p20270
as(dp20271
g16
V29407
p20272
stp20273
a((dp20274
g2
(lp20275
VNo need to  manually:
p20276
aVAnd the display template:
p20277
as(dp20278
g16
V29407
p20279
stp20280
a((dp20281
g2
(lp20282
VI am not familiar with this library but I suppose that it will finally boil down to a WebRequest for which you could activate the trace in app
p20283
aVconfig
p20284
as(dp20285
g16
V29407
p20286
stp20287
a((dp20288
g2
(lp20289
VYou shouldn't be modifying your domain, I would recommend you using View Models:
p20290
aVDefine View Model classes which will reflect your views and not the Domain Model
p20291
aVThen you could use AutoMapper to convert from those domain objects that your controller manipulates into view models and pass them to the respective views
p20292
aVThis post on Jimmy Bogard's blog is also worth reading
p20293
as(dp20294
g16
V29407
p20295
stp20296
a((dp20297
g2
(lp20298
VYou may take a look at ORMs such as NHibernate and Entity Framework that are designed exactly for such scenarios
p20299
as(dp20300
g16
V29407
p20301
stp20302
a((dp20303
g2
(lp20304
VDepending on how are you performing the SQL queries it may depend
p20305
aVFor example if you have a data reader you could directly read a boolean value:
p20306
as(dp20307
g16
V29407
p20308
stp20309
a((dp20310
g2
(lp20311
VSimply put: you cannot upload files using AJAX
p20312
aVThere are nice plugins such as jquery form that will handle this automatically (by creating a hidden iframe and performing the real file upload)
p20313
aVI think FireFox has a native file upload API but if you want a cross browser solution you will need to take a look at some plugins
p20314
aVUsing a flash upload is another solution
p20315
as(dp20316
g16
V29407
p20317
stp20318
a((dp20319
g2
(lp20320
Vjquery form is such a plugin
p20321
as(dp20322
g16
V29407
p20323
stp20324
a((dp20325
g2
(lp20326
VSeveral days
p20327
aVPlease don't put something like this in an ASP
p20328
aVNET application
p20329
aVUse a Windows NT service, a console application whatever but if you monopolize threads in an ASP
p20330
aVNET application for several days this application won't likely handle many users
p20331
as(dp20332
g16
V29407
p20333
stp20334
a((dp20335
g2
(lp20336
V could represent an
p20337
as(dp20338
g16
V29407
p20339
stp20340
a((dp20341
g2
(lp20342
VContent type for aspx views is already set to
p20343
as(dp20344
g16
V29407
p20345
stp20346
a((dp20347
g2
(lp20348
VYou could use a  to represent the file if its size is not very big and fits into memory
p20349
aVOtherwise a Stream is good but make sure you implement IDisposable to release it properly
p20350
as(dp20351
g16
V29407
p20352
stp20353
a((dp20354
g2
(lp20355
VConnection Pooling is based on the connection string so changing it dynamically for each  you are creating will defeat its purpose
p20356
as(dp20357
g16
V29407
p20358
stp20359
a((dp20360
g2
(lp20361
VThe view model is a class that represents the fields that your view shows/modifies
p20362
aVSo for example if you are going to show a shopping cart and customer's credit card all on the same page these properties should all belong to the view model
p20363
aVYou could even put properties like this in your view model if the view is going to show a drop down list of day names:
p20364
as(dp20365
g16
V29407
p20366
stp20367
a((dp20368
g2
(lp20369
VYou cannot have two extension methods with the same name and the same signature at the same time
p20370
aVYou could put your extension method into a custom namespace and use this namespace instead of the default one (System
p20371
aVWeb
p20372
aVMvc
p20373
aVHtml) in your web
p20374
aVconfig:
p20375
aVbut if you do this you will lose all the other extension methods and you will need to override them in your custom namespace
p20376
as(dp20377
g16
V29407
p20378
stp20379
a((dp20380
g2
(lp20381
VIt's not IOC that allows you to abstract application from concrete implementation with additional layer of interfaces, this is how you should design your application in order to be more modular and reusable
p20382
aVAnother important benefit is that once you've designed your application this way it will be much easier to test the different parts in isolation without depending on concrete database access for example
p20383
as(dp20384
g16
V29407
p20385
stp20386
a((dp20387
g2
(lp20388
VIn your aspx put a label:
p20389
aVand in your code behind assign a value to it:
p20390
aVAdapt the code behind to VB
p20391
aVNET if necessary
p20392
as(dp20393
g16
V29407
p20394
stp20395
a((dp20396
g2
(lp20397
V corresponds to
p20398
aVcorresponds to
p20399
aVHere's the full picture
p20400
as(dp20401
g16
V29407
p20402
stp20403
a((dp20404
g2
(lp20405
VYou should pass a model in your controller action:
p20406
as(dp20407
g16
V29407
p20408
stp20409
a((dp20410
g2
(lp20411
VDue to restrictions you cannot download the contents of a web page using AJAX that is not hosted on the same domain as the domain hosting this script
p20412
aVAlso you have a syntax error in your  function call
p20413
aVIt should look like this:
p20414
as(dp20415
g16
V29407
p20416
stp20417
a((dp20418
g2
(lp20419
VYou may take a look at S#arp Architecture and NerdDinner
p20420
as(dp20421
g16
V29407
p20422
stp20423
a((dp20424
g2
(lp20425
VBy using the default forms authentication mechanism you cannot achieve this
p20426
aVThe cookie will be valid for a given period of time and if a hacker gets hold of this cookie, no matter what you do, during this period of time he will be able to enter the site
p20427
aVThe only way to achieve this is to handle it manually by storing the tokens into the database and expiring them upon  so that they cannot be reused
p20428
aVSo my advice:
p20429
aVAlways use SSL
p20430
aVDefine a fixed expiration period for the cookies, never set slidingExpiration to true
p20431
as(dp20432
g16
V29407
p20433
stp20434
a((dp20435
g2
(lp20436
VThe ViewData dictionary is created by the controller (more precisely the first time you access it) is released after the view finished rendering
p20437
aVExcerpt from the getter:
p20438
aVBasically you may assume that the ViewData will be accessible from the beginning of the request inside you controller through the rendering of the view itself and it will be released after the page has finished rendering
p20439
as(dp20440
g16
V29407
p20441
stp20442
a((dp20443
g2
(lp20444
VThere's a new feature in IIS 7
p20445
aV5 and ASP
p20446
aVNET 4
p20447
aV0 that allows you to auto-start applications
p20448
aVIf you are using IIS 6 you could uncheck the  in the properties of the application pool but the first request when the server restarts will still be slow and AFAIK there's not much you can do about it:
p20449
as(dp20450
g16
V29407
p20451
stp20452
a((dp20453
g2
(lp20454
s(dp20455
g16
V29407
p20456
stp20457
a((dp20458
g2
(lp20459
VThat's because the types of your private variable and the public property are not the same
p20460
aVTry this:
p20461
aVOr even shorter using automatic properties:
p20462
as(dp20463
g16
V29407
p20464
stp20465
a((dp20466
g2
(lp20467
VThe REST for ASP
p20468
aVNET MVC SDK contains a Word file explaining how you could extend it by adding a custom format:
p20469
aVASP
p20470
aVNET MVC provides capability to
p20471
aVreturn HTML
p20472
aVMVC REST adds out of the
p20473
aVbox support to return the two most
p20474
aVpopular formats for programmatic
p20475
aVaccess on the web: XML and JSON
p20476
aVIn
p20477
aVaddition, you can also handle
p20478
aVadditional formats
p20479
aVThis section shows
p20480
aVhow you can add support for a custom
p20481
aVformat such as Atom using the provided
p20482
aVextensibility
p20483
aVThe process involves
p20484
aVcreating a custom Format Handler, and
p20485
aVregistering it to handle requests,
p20486
aVresponses, or both
p20487
aVThe steps specific
p20488
aVto enabling custom formats are
p20489
aVdescribed below:
p20490
aVCreate a custom format handler that may implement either or both of the
p20491
aVinterfaces IRequestFormatHandler and
p20492
aVIResponseFormatHandler
p20493
aVRegister the custom format handler in global
p20494
aVasax in Application_Start
p20495
aVIn the included  sample you will find an implementation for  which you could use as a base for adding the JSONP functionality
p20496
aVI've also written a JsonpResult which you may take a look at
p20497
as(dp20498
g16
V29407
p20499
stp20500
a((dp20501
g2
(lp20502
VBy creating a managed wrapper using tlbimp
p20503
aVexe
p20504
as(dp20505
g16
V29407
p20506
stp20507
a((dp20508
g2
(lp20509
s(dp20510
g16
V29407
p20511
stp20512
a((dp20513
g2
(lp20514
VYou cannot attach to the Application_Start event in an HttpModule
p20515
aVHere's a list of available events
p20516
as(dp20517
g16
V29407
p20518
stp20519
a((dp20520
g2
(lp20521
VThis code is not thread safe because two threads can execute this method on the same instance of , meaning that the  variable will be the same:
p20522
aVThe TrySomething method will be executed concurrently on two different threads using the same  variable, so every access to this  variable has to be synchronized:
p20523
as(dp20524
g16
V29407
p20525
stp20526
a((dp20527
g2
(lp20528
VNo, you cannot modify types at runtime
p20529
aVYou could emit new types, but modifying existing ones is not possible
p20530
as(dp20531
g16
V29407
p20532
stp20533
a((dp20534
g2
(lp20535
VWell, the best practice is to use a View Model which is populated from the Model
p20536
aVIn many cases they could be the same because the view shows all the properties returned by the service, but another view could show only a subset of them
p20537
aVThat's why having a view model is considered a good practice
p20538
aVThis view model can also contain some calculated properties that are specific to the view
p20539
aVTo further simplify the mapping between those objects you could use AutoMapper
p20540
aVThere's also a nice article you may take a look at explaining the concept of view models
p20541
as(dp20542
g16
V29407
p20543
stp20544
a((dp20545
g2
(lp20546
VYou may take a look at the jQuery Form plugin which allows you to ajaxify forms that contain file inputs
p20547
as(dp20548
g16
V29407
p20549
stp20550
a((dp20551
g2
(lp20552
s(dp20553
g16
V29407
p20554
stp20555
a((dp20556
g2
(lp20557
VInteresting - contrary to
p20558
aVNET 3
p20559
aV5, SmtpClient implements IDisposable in
p20560
aVNET 4
p20561
aV0, learning new things every day
p20562
as(dp20563
g16
V29407
p20564
stp20565
a((dp20566
g2
(lp20567
VNow that you've looked at Data Annotations and arrived to the conclusion that they are not adapted to your scenario I would suggest you looking at FluentValidation, its integration with ASP
p20568
aVNET MVC and the way you would unit test your validation logic - you won't be disappointed (I really have nothing against Data annotations, they are great for blog posts and tutorials but once you are confronted to real world applications you quickly realize the limits)
p20569
aVUPDATE:
p20570
aVAs requested in the comments section here's an example of using the FluentValidation framework with one server-side validation function accessing multiple properties (please don't do this as it is ugly and there's a better way):
p20571
aVThe more natural way to do this is the following (it is also immune to property rename as it contains no magic strings):
p20572
as(dp20573
g16
V29407
p20574
stp20575
a((dp20576
g2
(lp20577
VThose are temporary assemblies generated by the ASP
p20578
aVNET runtime after compiling each ASPX page
p20579
aVIt's done at runtime, automatically and shouldn't be subject of any concerns
p20580
as(dp20581
g16
V29407
p20582
stp20583
a((dp20584
g2
(lp20585
VThere's no  tag defined in the HTML specification
p20586
aVI don't know dojo but I suppose this syntax will eventually render as  and you would retrieve its value the same way as the other input tag:
p20587
aVYou may look with FireBug at the actual DOM
p20588
as(dp20589
g16
V29407
p20590
stp20591
a((dp20592
g2
(lp20593
VYou could use the hover function to shorten the syntax:
p20594
as(dp20595
g16
V29407
p20596
stp20597
a((dp20598
g2
(lp20599
VYou could use Environment
p20600
aVCommandLine property to get the command line that has been passed when running the executable and parse it to obtain the parameters
p20601
aVArguments will also be passed in the  method:
p20602
as(dp20603
g16
V29407
p20604
stp20605
a((dp20606
g2
(lp20607
VDon't you read the exception message:
p20608
aVASP
p20609
aVNET is not authorized to access
p20610
aVthe requested resource
p20611
aVConsider
p20612
aVgranting access rights to the resource
p20613
aVto the ASP
p20614
aVNET request identity
p20615
aVASP
p20616
aVNET has a base process identity
p20617
aV(typically {MACHINE}\u005cASPNET on IIS 5
p20618
aVor Network Service on IIS 6) that is
p20619
aVused if the application is not
p20620
aVimpersonating
p20621
aVIf the application is
p20622
aVimpersonating via , the identity will
p20623
aVbe the anonymous user (typically
p20624
aVIUSR_MACHINENAME) or the authenticated
p20625
aVrequest user
p20626
aVTo grant ASP
p20627
aVNET access to a file,
p20628
aVright-click the file in Explorer,
p20629
aVchoose "Properties" and select the
p20630
aVSecurity tab
p20631
aVClick "Add" to add the
p20632
aVappropriate user or group
p20633
aVHighlight
p20634
aVthe ASP
p20635
aVNET account, and check the
p20636
aVboxes for the desired access
p20637
aVSo grant write permissions to the ASPNET account to the  folder
p20638
as(dp20639
g16
V29407
p20640
stp20641
a((dp20642
g2
(lp20643
VBelieve it or not, yesterday I've been banging my head against this exact same problem and here's the solution I've found
p20644
aVAdd the following to the  event:
p20645
aVActually it seems there's a bug in Adobe Acrobat 9
p20646
aVx causing this exception
p20647
as(dp20648
g16
V29407
p20649
stp20650
a((dp20651
g2
(lp20652
VTry specifying a local address:
p20653
aVAnd make sure that the account your application is running under has sufficient privileges to open ports on the computer
p20654
as(dp20655
g16
V29407
p20656
stp20657
a((dp20658
g2
(lp20659
VTry specifying  when setting the cookie
p20660
as(dp20661
g16
V29407
p20662
stp20663
a((dp20664
g2
(lp20665
VUPDATE:
p20666
aVTo figure out the default browser location:
p20667
as(dp20668
g16
V29407
p20669
stp20670
a((dp20671
g2
(lp20672
VThis can't be a plugin because if you have syntax errors in your code, the browser will stop execution and show an error
p20673
aVJSLint is an online service you could use to validate your javascript
p20674
as(dp20675
g16
V29407
p20676
stp20677
a((dp20678
g2
(lp20679
VThere's the Invoke method on  as it derives from
p20680
as(dp20681
g16
V29407
p20682
stp20683
a((dp20684
g2
(lp20685
VInstead of using , can't you use a normal submit button inside your form
p20686
aVYou could even style it as a link if you use
p20687
aVThis way when the user clicks on the button it will submit the whole form together with the search values
p20688
aVThen ajaxify the form with
p20689
aVTo avoid polluting your markup with javascript, I would strongly recommend you using the more unobtrusive jQuery framework instead of Microsoft Ajax
p20690
as(dp20691
g16
V29407
p20692
stp20693
a((dp20694
g2
(lp20695
VThis limit applies only to request URIs
p20696
aVYour JSONP response does not suffer from such limitation
p20697
aVjQuery will simply insert a  tag inside the DOM pointing to the request URL which will return the JSONP encoded content which can be as big as you wish
p20698
as(dp20699
g16
V29407
p20700
stp20701
a((dp20702
g2
(lp20703
VThe  property which you are using in the  must be of type integer
p20704
aVIt will be bound to the selected value in the controller action to which you are submitting this form:
p20705
aVRemark: a more semantically correct name for the  property would be
p20706
as(dp20707
g16
V29407
p20708
stp20709
a((dp20710
g2
(lp20711
VWhere did you put this custom route definition
p20712
aVIt should be before the  one
p20713
as(dp20714
g16
V29407
p20715
stp20716
a((dp20717
g2
(lp20718
VI would advice you against using regex for parsing dates and even strongly against using regex for parsing HTML
p20719
aVFor parsing dates you may take a look at the TryParseExact method and for parsing HTML a DOM parser such as Html Agility Pack:
p20720
as(dp20721
g16
V29407
p20722
stp20723
a((dp20724
g2
(lp20725
VRailsCasts are a good place to start
p20726
as(dp20727
g16
V29407
p20728
stp20729
a((dp20730
g2
(lp20731
VThis works but not using the standard XmlHttpRequest object
p20732
aVFor example in IE8 you should use the XDomainRequest object to send the request
p20733
aVFor these scenarios, JSONP is actually easier to use and works cross-browser as implemented in jQuery
p20734
as(dp20735
g16
V29407
p20736
stp20737
a((dp20738
g2
(lp20739
Vor:
p20740
as(dp20741
g16
V29407
p20742
stp20743
a((dp20744
g2
(lp20745
VThat's a horrible bug/feature (call in whatever) in ASP
p20746
aVNET MVC the helper that you may fix by calling SetModelValue like this:
p20747
aVBy the way is there any reason you would write all this code when you could simply annotate your view model:
p20748
aVand leave the data binder do the heavy lifting
p20749
as(dp20750
g16
V29407
p20751
stp20752
a((dp20753
g2
(lp20754
VDid you change the language in the Page directive:
p20755
as(dp20756
g16
V29407
p20757
stp20758
a((dp20759
g2
(lp20760
VJon Skeet wrote a nice introduction to multithreading in
p20761
aVNET that you might read
p20762
aVIt also covers threading in WinForms
p20763
aVIt may go among the lines:
p20764
as(dp20765
g16
V29407
p20766
stp20767
a((dp20768
g2
(lp20769
VYou cannot apply attributes at runtime, they are metadata and are baked into the assembly at compile-time, that's the reason you cannot write
p20770
aVneeds to be constant and known at compile-time for this to work
p20771
aVCould you describe your scenario in more details, maybe there's another way to achieve your goal
p20772
as(dp20773
g16
V29407
p20774
stp20775
a((dp20776
g2
(lp20777
VNo, this is not possible
p20778
aVUsually you would use reflection to read attributes applied on a given property, so you already know the property
p20779
aVExample:
p20780
as(dp20781
g16
V29407
p20782
stp20783
a((dp20784
g2
(lp20785
VHere's a simplified and working version of your code using a WebClient:
p20786
as(dp20787
g16
V29407
p20788
stp20789
a((dp20790
g2
(lp20791
VYou don't need to  manually
p20792
aVJust put a file called  containing the editor template you've shown inside the  folder and in your view just include it:
p20793
as(dp20794
g16
V29407
p20795
stp20796
a((dp20797
g2
(lp20798
VBecause it would reduce performance and writing lock-free thread safe code is still an area of active research
p20799
as(dp20800
g16
V29407
p20801
stp20802
a((dp20803
g2
(lp20804
VFor a high resolution measurements you could use the QueryPerformanceCounter function:
p20805
as(dp20806
g16
V29407
p20807
stp20808
a((dp20809
g2
(lp20810
VThere's no  method defined in jQuery
p20811
aVYou could use each instead:
p20812
aVor a little shorter:
p20813
as(dp20814
g16
V29407
p20815
stp20816
a((dp20817
g2
(lp20818
VIf you already know how to a encrypt a node, you can encrypt the root node which would be equivalent of encrypting the whole XML
p20819
as(dp20820
g16
V29407
p20821
stp20822
a((dp20823
g2
(lp20824
VThe ID is not posted because it is not inside the form
p20825
aVYou could include it as a hidden field:
p20826
as(dp20827
g16
V29407
p20828
stp20829
a((dp20830
g2
(lp20831
s(dp20832
g16
V29407
p20833
stp20834
a((dp20835
g2
(lp20836
s(dp20837
g16
V29407
p20838
stp20839
a((dp20840
g2
(lp20841
VIf you are returning JSON, you cannot use ModelState
p20842
aVEverything that the view needs should be contained inside the JSON string
p20843
aVSo instead of adding the error to the ModelState you could add it to the model you are serializing:
p20844
as(dp20845
g16
V29407
p20846
stp20847
a((dp20848
g2
(lp20849
VThis is argumentative subjective, but I would say that storing files on the files system is better
p20850
aVThat's what file systems are designed for and SQL Server 2008 has a new file type that allows you to do this automatically and even use transactions
p20851
as(dp20852
g16
V29407
p20853
stp20854
a((dp20855
g2
(lp20856
V removes the authentication cookie, so you need to redirect after it instead of returning a view so that the client is notified:
p20857
aVNow in the  action the user will no longer be authenticated
p20858
as(dp20859
g16
V29407
p20860
stp20861
a((dp20862
g2
(lp20863
VChange your method declaration to:
p20864
aVNotice the generic
p20865
aVAlso the second argument is not necessary as you can retrieve the model from the strongly typed helper:
p20866
as(dp20867
g16
V29407
p20868
stp20869
a((dp20870
g2
(lp20871
s(dp20872
g16
V29407
p20873
stp20874
a((dp20875
g2
(lp20876
VHow about decorating your controller/actions with a custom filter:
p20877
aVand in your controller:
p20878
as(dp20879
g16
V29407
p20880
stp20881
a((dp20882
g2
(lp20883
VA possible cause might be the fact that you are trying to send an AJAX request to a different domain:  than the one hosting your page which of course is not possible and jQuery tries to use  instead which works only with HTTP GET
p20884
as(dp20885
g16
V29407
p20886
stp20887
a((dp20888
g2
(lp20889
s(dp20890
g16
V29407
p20891
stp20892
a((dp20893
g2
(lp20894
s(dp20895
g16
V29407
p20896
stp20897
a((dp20898
g2
(lp20899
VIf you want to populate the Departments list based on the value of the selected School when this value changes you could use javascript and AJAX
p20900
aVSo you setup a controller action which would return the departments for a given school:
p20901
aVOnce you have this controller you could use jQuery to register a change event of the schools drop down:
p20902
as(dp20903
g16
V29407
p20904
stp20905
a((dp20906
g2
(lp20907
VYou can, but you shouldn't as this is considered as bad practice
p20908
aVViews are not supposed to pull data
p20909
aVThey should use data passed from the controller
p20910
aVSo in your controller read the session and then pass the value to the view for rendering
p20911
aVThis rule can be easily broken by using the Session property of the View page:
p20912
as(dp20913
g16
V29407
p20914
stp20915
a((dp20916
g2
(lp20917
VI would use an html helper:
p20918
aVand in the view:
p20919
aVRemark: don't forget to html encode the value of the message if you decide to use your code the way it is
p20920
as(dp20921
g16
V29407
p20922
stp20923
a((dp20924
g2
(lp20925
VI would have the site root path injected into the controller constructor by the DI framework:
p20926
aVAs far as the site root path is concerned it can be expressed with the HostingEnvironment
p20927
aVApplicationPhysicalPath static property
p20928
as(dp20929
g16
V29407
p20930
stp20931
a((dp20932
g2
(lp20933
VThe code that renews the ticket is baked inside the FormsAuthenticationModule class which is sealed and it is not possible to modify this behavior
p20934
aVThis is done by the RenewTicketIfOld method
p20935
aVAnyway enabling slidingExpiration is considered a security vulnerability for your site
p20936
as(dp20937
g16
V29407
p20938
stp20939
a((dp20940
g2
(lp20941
VI don't think that those are related
p20942
aVWhen you add the  attribute to your controller action you also need to add the hidden field inside your form:
p20943
aVIf you are submitting it through AJAX you always need to send this token along the request
p20944
as(dp20945
g16
V29407
p20946
stp20947
a((dp20948
g2
(lp20949
VNo, in this case the target machine needs only the 4
p20950
aV0 framework runtime
p20951
as(dp20952
g16
V29407
p20953
stp20954
a((dp20955
g2
(lp20956
s(dp20957
g16
V29407
p20958
stp20959
a((dp20960
g2
(lp20961
VTry like this:
p20962
aVMake sure that you have a strongly typed  in the same view folder as the controller name
p20963
aVIf this doesn't fix the error try using FireBug in order to see the exact error message which the action returns to the AJAX request
p20964
as(dp20965
g16
V29407
p20966
stp20967
a((dp20968
g2
(lp20969
VUser sends a request to your controller action passing some parameters
p20970
aVThe controller receives the request and renders an HTML view embedding the Silverlight plugin passing parameters to it
p20971
aVThe plugin initializes and renders data
p20972
as(dp20973
g16
V29407
p20974
stp20975
a((dp20976
g2
(lp20977
VThere is nothing that will let you know that a value of a hidden field's value has been changed or not
p20978
aVFor a user to change his password it means that he needs to be authenticated
p20979
aVWhen using forms authentication the ID of the currently authenticated user is stored in an encrypted cookie which cannot be modified
p20980
aVThis is to say that you shouldn't use hidden fields for storing the currently connected user
p20981
aVJust use the built-in FormsAuthentication mechanism in ASP
p20982
aVNET and never store such information in hidden fields
p20983
aVThe way ASP
p20984
aVNET knows that the value of the cookie hasn't been tampered with is that it signs it with the machineKey specified in the configuration
p20985
aVThere's an important rule that you should follow when dealing with security and authentication: always use built-in security mechanisms, never roll your own
p20986
as(dp20987
g16
V29407
p20988
stp20989
a((dp20990
g2
(lp20991
VYou could embed views into assemblies and implement a custom VirtualPathProvider
p20992
as(dp20993
g16
V29407
p20994
stp20995
a((dp20996
g2
(lp20997
VYou can have a method which builds and returns an expression tree:
p20998
aVAlso building expression trees in
p20999
aVNET 4
p21000
aV0 has been greatly enhanced
p21001
as(dp21002
g16
V29407
p21003
stp21004
a((dp21005
g2
(lp21006
VYou need to put the  declaration outside the  declaration as those are two different properties:
p21007
as(dp21008
g16
V29407
p21009
stp21010
a((dp21011
g2
(lp21012
VUsing the SDK you could try using the GetThumbnail method:
p21013
as(dp21014
g16
V29407
p21015
stp21016
a((dp21017
g2
(lp21018
VI don't know how you would call this unit test but I strongly suggest you avoid writing it as there's nothing on earth to make the assert fail
p21019
aVIf the constructor succeeds the CLR guarantees you a fresh instance which won't be null
p21020
aVNow if the constructor of your object throws an exception under some circumstances you could name it like this:
p21021
aVSo two possible cases for the code you are testing:
p21022
aVYou get an instance
p21023
aVYou get an exception
p21024
aVNo need to test the first
p21025
as(dp21026
g16
V29407
p21027
stp21028
a((dp21029
g2
(lp21030
VUPDATE:
p21031
aVUsing editor and/or display templates in ASP
p21032
aVNET MVC 2
p21033
aV0 you can achieve the desired result
p21034
aVPlace a  file in the  folder and include it like this:
p21035
aVor if the guid is a property of the main model:
p21036
aVNow if you put a  inside the partial you can get  but not with
p21037
as(dp21038
g16
V29407
p21039
stp21040
a((dp21041
g2
(lp21042
VThe argument for GetLength method specifies the dimension
p21043
aVThe method returns the number of elements in the specified dimension
p21044
aVExample with a two dimensional array:
p21045
aVprints  and  on the screen
p21046
as(dp21047
g16
V29407
p21048
stp21049
a((dp21050
g2
(lp21051
Vand in javascript:
p21052
aVAnd using jQuery:
p21053
aVUPDATE:
p21054
aVForgot to escape  apostrophe:
p21055
as(dp21056
g16
V29407
p21057
stp21058
a((dp21059
g2
(lp21060
s(dp21061
g16
V29407
p21062
stp21063
a((dp21064
g2
(lp21065
VIn your master page:
p21066
aVAnd in the page (aspx) that uses the partial (ascx):
p21067
as(dp21068
g16
V29407
p21069
stp21070
a((dp21071
g2
(lp21072
VSee this answer on how to get the list of sheet names in order: http://stackoverflow
p21073
aVcom/questions/1164698/using-excel-oledb-to-get-sheet-names-in-sheet-order
p21074
aVAnd here's my version which is a little shorter:
p21075
as(dp21076
g16
V29407
p21077
stp21078
a((dp21079
g2
(lp21080
VIf you are interested in extracting anchor links from HTML document sent by a web server you could use Html Agility Pack to parse this document:
p21081
as(dp21082
g16
V29407
p21083
stp21084
a((dp21085
g2
(lp21086
VYou may take a look at this algorithm
p21087
as(dp21088
g16
V29407
p21089
stp21090
a((dp21091
g2
(lp21092
VThere's an article on CodeProject that you might find useful
p21093
as(dp21094
g16
V29407
p21095
stp21096
a((dp21097
g2
(lp21098
VThere is no such thing in IIS
p21099
aVWhat you can do instead is to perform the work in a background thread and measure the time it takes to complete this background task and simply kill the thread if the wait time is longer than expected
p21100
aVYou may take a look at the WaitHandle
p21101
aVWaitOne method which allows you to specify a timeout for waiting for a particular event to be signaled from a background thread for example
p21102
as(dp21103
g16
V29407
p21104
stp21105
a((dp21106
g2
(lp21107
VIt is a way to persist the page state between postbacks on the client
p21108
aVIt represents a serialized string of the state of a page stored inside a hidden field and posted to the server at each request/postback (ASP
p21109
aVNET uses a single form and every time the user performs an action like clicking on the button this form is submitted to the server)
p21110
aVOnce the serialized state is submitted to the server it is capable of retrieving values that have been stored inside the view state
p21111
aVFurther reading: Understanding ASP
p21112
aVNET View State
p21113
as(dp21114
g16
V29407
p21115
stp21116
a((dp21117
g2
(lp21118
VYou cannot override the name generated by the  method
p21119
aVIt is strongly typed and the name is based on the lambda you are passing as argument
p21120
aVIf you want to override the name of the generated select the way you want you will have to either write your own extension method or use the non-strongly typed  method:
p21121
aVBut why would you want to do this anyway
p21122
aVAren't you binding to the same ViewModel when you submit the form
p21123
as(dp21124
g16
V29407
p21125
stp21126
a((dp21127
g2
(lp21128
VYour view inherits  which of course is wrong as it is an  page
p21129
aVMake it inherit from  and it should work:
p21130
as(dp21131
g16
V29407
p21132
stp21133
a((dp21134
g2
(lp21135
VIt's done by setting the  environment variable:
p21136
aVMost of the scripts also take a  parameter which allows you to specify the environment
p21137
aVFor example when you start the web server:
p21138
as(dp21139
g16
V29407
p21140
stp21141
a((dp21142
g2
(lp21143
VHave you tried the AppendAllText method
p21144
as(dp21145
g16
V29407
p21146
stp21147
a((dp21148
g2
(lp21149
VTry like this:
p21150
as(dp21151
g16
V29407
p21152
stp21153
a((dp21154
g2
(lp21155
VMake the  repository method return a boolean value indicating whether it has updated the database so that the controller action becomes:
p21156
aVand in your view show the message:
p21157
aVIf you are using strongly typed view which is recommended then you may add a boolean property to your view model which will indicate whether the database update took place:
p21158
aVand in the view test the model value:
p21159
as(dp21160
g16
V29407
p21161
stp21162
a((dp21163
g2
(lp21164
VThis method will use a model binder associated to the model to create and bind its properties from the request values
p21165
aVThe method might fail for example if you have an integer property in your model and you try to bind it to some string value which cannot be parsed to an integer
p21166
aVYou might look at the ModelState dictionary to see if the model is valid and if there are some errors associated
p21167
as(dp21168
g16
V29407
p21169
stp21170
a((dp21171
g2
(lp21172
V is an extension method contained in the  assembly
p21173
aVMake sure you have referenced the following namespaces in your web
p21174
aVconfig:
p21175
aVThe method is declared in the  namespace
p21176
aVAlso make sure your project is ASP
p21177
aVNET MVC 2
p21178
aV0 as this method has been added in the 2
p21179
aV0 version
p21180
as(dp21181
g16
V29407
p21182
stp21183
a((dp21184
g2
(lp21185
s(dp21186
g16
V29407
p21187
stp21188
a((dp21189
g2
(lp21190
VIt is equivalent to:
p21191
aVThe & operator for integral types computes the logical bitwise AND of its operands
p21192
as(dp21193
g16
V29407
p21194
stp21195
a((dp21196
g2
(lp21197
VYou could obfuscate the generated assembly
p21198
as(dp21199
g16
V29407
p21200
stp21201
a((dp21202
g2
(lp21203
VHere's the same function translated in C#:
p21204
aVAnd call it like this:
p21205
aVUPDATE:
p21206
aVIf as an alternative you don't want to reflect the modifications made to the  parameter outside the function you could declare it like this:
p21207
aVAnd call like this:
p21208
as(dp21209
g16
V29407
p21210
stp21211
a((dp21212
g2
(lp21213
VThere's no single open source alternative to TFS
p21214
aVTFS does source code management and versionning, build server and continuous integration, workitems, project management, sharepoint portal,
p21215
aVand a good Visual Studio integration
p21216
as(dp21217
g16
V29407
p21218
stp21219
a((dp21220
g2
(lp21221
s(dp21222
g16
V29407
p21223
stp21224
a((dp21225
g2
(lp21226
VIf this is a WinForms application you could use the WebBrowser control to host an instance of Internet Explorer inside your application instead of spawning a new process
p21227
aVThe advantage of this is that you have full control over it and among other you could POST to a given url:
p21228
as(dp21229
g16
V29407
p21230
stp21231
a((dp21232
g2
(lp21233
Vreturn JSON:
p21234
aVand then:
p21235
as(dp21236
g16
V29407
p21237
stp21238
a((dp21239
g2
(lp21240
VIn your master:
p21241
aVAnd in the Views (aspx) that will use the EditorTemplate/plugin:
p21242
as(dp21243
g16
V29407
p21244
stp21245
a((dp21246
g2
(lp21247
VHere's an example function which registers a click event handler for all checkboxes and posts the name and the value of the clicked element to a controller action through AJAX:
p21248
as(dp21249
g16
V29407
p21250
stp21251
a((dp21252
g2
(lp21253
s(dp21254
g16
V29407
p21255
stp21256
a((dp21257
g2
(lp21258
VTry like this:
p21259
as(dp21260
g16
V29407
p21261
stp21262
a((dp21263
g2
(lp21264
VThis:
p21265
aVis not compatible with this:
p21266
aVcontains a string value instead of  and when you try to cast it you get null and the drop down contains no values
p21267
aVYou will need an array in order to populate the drop down list
p21268
aVThe first step is to have a strongly typed array of some object
p21269
aVSuppose that you have the following class defined:
p21270
aVIn your controller action:
p21271
aVand in the view:
p21272
as(dp21273
g16
V29407
p21274
stp21275
a((dp21276
g2
(lp21277
VYou could take a look at the Google AJAX Language API and there's an example of language detection
p21278
as(dp21279
g16
V29407
p21280
stp21281
a((dp21282
g2
(lp21283
VIf the element doesn't exist at the document load it means that it is later added maybe by an AJAX call
p21284
aVIf this is the case just put the  handle registration in the  callback
p21285
as(dp21286
g16
V29407
p21287
stp21288
a((dp21289
g2
(lp21290
VURI
p21291
aVescape
p21292
as(dp21293
g16
V29407
p21294
stp21295
a((dp21296
g2
(lp21297
VCannot help you about styling, just a little clarification about the HTTP verbs
p21298
aVASP
p21299
aVNET MVC supports all the verbs GET, POST, PUT, DELETE - the problem comes from most browsers that only support GET and POST
p21300
aVYou could simulate them using the HttpMethodOverride helper:
p21301
aVand in your controller action:
p21302
as(dp21303
g16
V29407
p21304
stp21305
a((dp21306
g2
(lp21307
VRemove the third parameter from the helper:
p21308
aVAnd in your controller action:
p21309
aVWill check the second radio
p21310
as(dp21311
g16
V29407
p21312
stp21313
a((dp21314
g2
(lp21315
VDataTable has a Compute method that allows you to write this:
p21316
aVNote that this is limited to simple math expressions
p21317
aVOther option consist in using a dynamic language in the DLR such as IronPython and IronRuby
p21318
aVCheck-out this post:
p21319
aVYou may also check the NCalc library on CodePlex
p21320
as(dp21321
g16
V29407
p21322
stp21323
a((dp21324
g2
(lp21325
VYou need the source code in order to generate a PDB
p21326
as(dp21327
g16
V29407
p21328
stp21329
a((dp21330
g2
(lp21331
VIf you are already using a DI framework why re-implement the factory pattern when it is already provided by the framework
p21332
aVAlso you shouldn't be creating a dependency with the DI framework in the business layers of the application
p21333
aVThere you should be abstracting with interfaces and abstract classes
p21334
aVThe DI framework should only be used only at the highest level, for example in the GUI to perform the plumbing of the lower layers and select for instance a suitable data access layer
p21335
as(dp21336
g16
V29407
p21337
stp21338
a((dp21339
g2
(lp21340
s(dp21341
g16
V29407
p21342
stp21343
a((dp21344
g2
(lp21345
VYou could use the server cache:
p21346
as(dp21347
g16
V29407
p21348
stp21349
a((dp21350
g2
(lp21351
VDate pickers are usually written in javascript in order to be more interactive and user friendly
p21352
aVHere's a nice one based on jQuery
p21353
as(dp21354
g16
V29407
p21355
stp21356
a((dp21357
g2
(lp21358
VRight now you are generating a different salt upon registration and login
p21359
aVYou need to use the same salt for hashing or you will get different hashes
p21360
aVThat is to say you need store the salt into the database along with the password and reuse it to hash when the user tries to login later
p21361
aVSteps:
p21362
aVUser registers and provides a plain text password
p21363
aVYou generate a new random salt and use it to hash the plain text
p21364
aVYou store the salt and the hash into the database
p21365
aVLater the user tries to login by providing a new plain text password
p21366
aVYou fetch the hash and the salt from database
p21367
aVYou use the salt to hash the plain text
p21368
aVCompare the two hashes
p21369
as(dp21370
g16
V29407
p21371
stp21372
a((dp21373
g2
(lp21374
VThis will depend on how you are invoking this controller action
p21375
aVAs you are using JSON I suppose that you are calling it in AJAX
p21376
aVIf this is the case you cannot redirect from the controller action
p21377
aVYou will need to do this in the  callback of the AJAX script
p21378
aVOne way to achieve it is the following:
p21379
aVAnd in the success callback:
p21380
aVRemark: Make sure to include  in the JSON in case you don't want to redirect which is the first case in your controller action
p21381
as(dp21382
g16
V29407
p21383
stp21384
a((dp21385
g2
(lp21386
VThis is the normal behavior of all html helpers: they will look at the POSTed values to perform the binding
p21387
aVThis means that you cannot change the value in your controller action and expect it to reflect on the view if you use the standard helpers
p21388
aVIf there's a value  in the POST it will always be this value used and the last parameter of the drop down completely ignored
p21389
aVYou could write your own helper to achieve this or redirect after the POST
p21390
as(dp21391
g16
V29407
p21392
stp21393
a((dp21394
g2
(lp21395
VHow about
p21396
as(dp21397
g16
V29407
p21398
stp21399
a((dp21400
g2
(lp21401
VThere are two main reasons for obfuscating ones code:
p21402
aVThe person who wrote it didn't want to provide the code in readable form to avoid from stealing his intellectual property
p21403
aVVirus, Spyware,
p21404
aVIn the first case I would suggest you asking the author to provide you the source code
p21405
as(dp21406
g16
V29407
p21407
stp21408
a((dp21409
g2
(lp21410
VYou may take a look at the AddMinutes method:
p21411
as(dp21412
g16
V29407
p21413
stp21414
a((dp21415
g2
(lp21416
VInstead of creating user controls ala WebForms way I would suggest you the following:
p21417
aVCreate a strongly typed user control :
p21418
aVAnd then simply include it in your pages:
p21419
aVIn my example the user control is strongly typed to  but you could've used any custom type
p21420
as(dp21421
g16
V29407
p21422
stp21423
a((dp21424
g2
(lp21425
VYou may take a look at a sample ASP
p21426
aVNET MVC 2
p21427
aV0 project structure I wrote
p21428
aVIt presents some concepts that might get you started on unit testing your controller logic and database
p21429
aVAs far as database testing is concerned it is no longer unit tests but integration tests
p21430
aVAs you will see in my sample I am using NHibernate which allows me to easily switch to a sample SQLite database that is re-created for each test fixture
p21431
aVFinally doing unit tests in ASP
p21432
aVNET MVC could be a pain without proper separation of concerns and abstractions and using mocking frameworks and frameworks like MVCContrib
p21433
aVTestHelper could make your life easier
p21434
aVHere's a preview of how your controller unit test might look like
p21435
aVUPDATE:
p21436
aVAs a response to the comments I think that programming is a concrete task and it is difficult to give an ultimate answer as to how do I unit test my complex business application
p21437
aVIn order to be able to test a complex application coupling between the layers should be as weak as possible which could be achieved with interfaces and abstract classes
p21438
aVI agree though that achieving such a weak coupling in a complex application is not a trivial task
p21439
aVI could give you an advice: if the whole TDD concept is difficult to understand and you see no benefits in it then this is OK
p21440
aVNobody can prove that TDD is beneficial in all situations
p21441
aVJust try to design your application in such a way that each class has a single responsibility
p21442
aVIf you find yourself doing validation of input, SQL data access and exception handling in the same class then you are doing it wrong
p21443
aVOnce you achieve this separation you will see that unit testing becomes much easier and you could even come to a stage when unit tests will drive your development :-)
p21444
aVAs far as unit testing a  with  this is a concrete question to which I give a concrete answer:
p21445
aVAnd the test:
p21446
as(dp21447
g16
V29407
p21448
stp21449
a((dp21450
g2
(lp21451
VYou could specify a submitHandler that will perform the form submission once validation succeeds:
p21452
aVSo if you are using the jQuery
p21453
aVform plugin to ajaxify your form:
p21454
as(dp21455
g16
V29407
p21456
stp21457
a((dp21458
g2
(lp21459
VIn order to get all the ,  and  from the table you will need to modify the action signature so that it can accept arrays:
p21460
aVNow that you have this in place you can send the AJAX query:
p21461
aVand the  function used to map:
p21462
as(dp21463
g16
V29407
p21464
stp21465
a((dp21466
g2
(lp21467
VI cannot find any reason to prefer Microsoft AJAX library instead of jQuery
p21468
aVSame for validation
p21469
aVAlso I would recommend you using a CDN network to serve static files such as  and
p21470
aVSo start by removing everything in the  folder and add only scripts you write yourself
p21471
as(dp21472
g16
V29407
p21473
stp21474
a((dp21475
g2
(lp21476
VYou could achieve this using editor templates - no more magic strings:
p21477
aVAnd then you place a  in the  folder:
p21478
as(dp21479
g16
V29407
p21480
stp21481
a((dp21482
g2
(lp21483
VI've used this tool and especially the compiler to convert a JAR file to
p21484
aVNET assembly
p21485
aVIt was for the xhtmlrenderer project which allows to convert an XHTML file to PDF and is based on iText which is not a small code base
p21486
aVThe conversion went fine and I am using it in production without any flaws
p21487
as(dp21488
g16
V29407
p21489
stp21490
a((dp21491
g2
(lp21492
VThe most efficient would be to send the  verb to preserve bandwidth
p21493
as(dp21494
g16
V29407
p21495
stp21496
a((dp21497
g2
(lp21498
VFor informix support you will need to download the latest fluent nhibernate binary (#680 worked for me):
p21499
as(dp21500
g16
V29407
p21501
stp21502
a((dp21503
g2
(lp21504
VThere's no such notion as full path of the file
p21505
aVThe server has no way of knowing where the file is stored on the client computer
p21506
aVAll that you can know in your ASP
p21507
aVNET application is the filename and the contents of the uploaded file
p21508
as(dp21509
g16
V29407
p21510
stp21511
a((dp21512
g2
(lp21513
VRobust but could be a pain to implement
p21514
aVBe careful for multithreading
p21515
aVWhat happens if two users call simultaneously your php script and the file is already open for writing
p21516
aVSame as 2 but the exception will occur in the C++ executable
p21517
aVI would suggest you using a logging framework such as log4php
p21518
as(dp21519
g16
V29407
p21520
stp21521
a((dp21522
g2
(lp21523
VGetSqlBinary will load the whole data into memory while your first approach will read it in chunks which will take less memory especially if you need to only process the binary in parts
p21524
aVBut once again it depends on what you are going to do with the binary and how it will be processed
p21525
as(dp21526
g16
V29407
p21527
stp21528
a((dp21529
g2
(lp21530
VFrom what you've shown it is difficult to determine from where comes the problem
p21531
aVI think you've missed some important detail
p21532
aVAlso why in the title of your question you are talking about redirects
p21533
aVBoth actions render the same view, there's no redirect happening here
p21534
aVIf your code really looks like this then you definitely don't need the two actions as the first completely ignores its arguments and indeed the result should be the same
p21535
aVAlso how are you calling those actions
p21536
aVIs it the same way
p21537
aVWhat's the type returned by the  method
p21538
aVIf it is string then this could be your problem
p21539
as(dp21540
g16
V29407
p21541
stp21542
a((dp21543
g2
(lp21544
VNo they are not correct, it won't produce the same IL:
p21545
aVIL of StringBuilder:
p21546
aVIL of Concat:
p21547
aVAlso you might find this article interesting
p21548
as(dp21549
g16
V29407
p21550
stp21551
a((dp21552
g2
(lp21553
VActually you could do this:
p21554
aVThe problem with this approach is that the whole model will be passed to the partial and not simply the property
p21555
as(dp21556
g16
V29407
p21557
stp21558
a((dp21559
g2
(lp21560
VViewState will cost bandwidth and make your pages heftier while the Session will cost memory on the server or some other server if out-of-proc is used
p21561
as(dp21562
g16
V29407
p21563
stp21564
a((dp21565
g2
(lp21566
VJSON could be used to serialize data into an interoperable format which is particularly well suited for consumption by browser
p21567
aVIn
p21568
aVNET you could write a WCF service which exposes data using JSON
p21569
aVAnother flavor of JSON is JSONP which allows cross domain AJAX calls
p21570
as(dp21571
g16
V29407
p21572
stp21573
a((dp21574
g2
(lp21575
VA little out of topic and not really answering your question but why using a singleton for SqlConnection when ADO
p21576
aVNET already uses a connection pool
p21577
aVYour code could have very well looked like this:
p21578
aVAnd one less thing to worry about in your program: connection lifecycle
p21579
as(dp21580
g16
V29407
p21581
stp21582
a((dp21583
g2
(lp21584
VYou will find this extension methods in MVCContrib and more specifically in the  assembly in the  class
p21585
aVSo download and include this assembly in your project and add the  namespace in the  section of your web
p21586
aVconfig file:
p21587
aVand you will be able to use it in your views
p21588
as(dp21589
g16
V29407
p21590
stp21591
a((dp21592
g2
(lp21593
VThere's a pager helper in MVCContrib
p21594
as(dp21595
g16
V29407
p21596
stp21597
a((dp21598
g2
(lp21599
VYou need to have two service contracts and in the  section you need to have the two services registered:
p21600
aVThen you could have two  files for each of your services
p21601
as(dp21602
g16
V29407
p21603
stp21604
a((dp21605
g2
(lp21606
VYou could write an ActionFilter and in the  event put the user inside :
p21607
aVAnd then decorate your base controller with this attribute:
p21608
as(dp21609
g16
V29407
p21610
stp21611
a((dp21612
g2
(lp21613
V is a convention used to indicate that this variable is a jQuery object and you can call the standard functions on it while  could be a standard DOM element and you cannot call the  function on it for example
p21614
aVFor example:
p21615
aVYou can do  but you cannot do
p21616
as(dp21617
g16
V29407
p21618
stp21619
a((dp21620
g2
(lp21621
VYes, you could use JSONP if the remote server can support it (works only with GET requests and it works with the
p21622
aVajax function as well)
p21623
aVAnother option is to create a bridge server script on the same domain
p21624
aVHere's an article that may help you get started
p21625
aVHere's how it works:
p21626
aVThe server must send the data using the following format:
p21627
aVwhere  must be configurable
p21628
aVSo basically jQuery includes a  tag inside the DOM:
p21629
aVand the  function will be executed and passed the JSON object
p21630
as(dp21631
g16
V29407
p21632
stp21633
a((dp21634
g2
(lp21635
VIt might be more appropriate to check this in the  method instead of the  because the first request might be local but later you could call the application on some other domain and it will no longer be local
p21636
as(dp21637
g16
V29407
p21638
stp21639
a((dp21640
g2
(lp21641
VWhat language are you using to write your code
p21642
aVWhat you've posted doesn't look like any of the valid languages I know for
p21643
aVNET
p21644
aVHere's how the controller action might look in C# (assuming this is the language you are using):
p21645
as(dp21646
g16
V29407
p21647
stp21648
a((dp21649
g2
(lp21650
VIt is not clear what you are testing
p21651
aVIn the Arrange section of your test method you are calling the first Delete action and in the Act section you are calling the second
p21652
aVSo are you testing the controller
p21653
aVIf yes then why are you calling the first Delete method in the Arrange section
p21654
aVAlso what's the  variable
p21655
aVIs it an interface or are you actually deleting records in the database in your unit/integration test
p21656
aVSo I would recommend you writing multiple tests, each one verifying a precise behavior of the subject under test which I assume is the controller
p21657
aVSo you should separate unit tests for the different Delete actions you are testing
p21658
aVAssuming that  is an interface that could be mocked, which is how I would recommend you design your controller, your test could look like this (using Rhino Mocks and MVCContrib
p21659
aVTestHelper):
p21660
as(dp21661
g16
V29407
p21662
stp21663
a((dp21664
g2
(lp21665
VYou may take a look at the following location:
p21666
aVC:\u005cProgram Files\u005cMicrosoft Visual Studio 9
p21667
aV0\u005cCommon7\u005cIDE\u005cItemTemplates\u005cCSharp\u005cWeb\u005cMVC
p21668
aVLink for ASP
p21669
aVNET MVC 2 Project templates, not sure if same for ASP
p21670
aVNET MVC 1
p21671
aV0 though
p21672
as(dp21673
g16
V29407
p21674
stp21675
a((dp21676
g2
(lp21677
VIf you are targeting
p21678
aVNET 3
p21679
aV5 why are you doing a binding redirect to System
p21680
aVXml v4
p21681
ag2721
ag2721
ag2721
aVMake sure that your project references v2
p21682
ag2721
ag2721
aV0 of that assembly and that you have the following in your app
p21683
aVconfig:
p21684
aVAlso make sure that you are targeting  and not
p21685
aVFinally make sure the client has
p21686
aVNET 3
p21687
aV5 installed
p21688
as(dp21689
g16
V29407
p21690
stp21691
a((dp21692
g2
(lp21693
VIt is not a good design to access query parameters in a view
p21694
aVThe view should use the model provided by the controller
p21695
aVSo the controller reads query parameters and passes them to the view
p21696
aVIf you want to ignore this rule you could always do this in your view:
p21697
aVBut I would strongly discourage you from doing so
p21698
as(dp21699
g16
V29407
p21700
stp21701
a((dp21702
g2
(lp21703
VTry this:
p21704
aVAnd your model:
p21705
as(dp21706
g16
V29407
p21707
stp21708
a((dp21709
g2
(lp21710
s(dp21711
g16
V29407
p21712
stp21713
a((dp21714
g2
(lp21715
VYouTube provides an API that you could use to query different services and among other retrieve comments for a given video
p21716
as(dp21717
g16
V29407
p21718
stp21719
a((dp21720
g2
(lp21721
VYes absolutely
p21722
aVYour service contract could look like this:
p21723
aVIf you want to pass an array of some custom type this type needs to be marked with  and its properties with
p21724
as(dp21725
g16
V29407
p21726
stp21727
a((dp21728
g2
(lp21729
VThe key in a dictionary or a sorted list the key should be unique: that's the purpose of hashtables
p21730
aVYou could use  or  instead but of course you won't be able to locate a value by key as you may have duplicates
p21731
as(dp21732
g16
V29407
p21733
stp21734
a((dp21735
g2
(lp21736
VYou could use a Setup And Deployment project in Visual Studio
p21737
as(dp21738
g16
V29407
p21739
stp21740
a((dp21741
g2
(lp21742
VThe reason this works in FireFox is that there's a  function defined on  but it is not standard
p21743
aVChange:
p21744
aVto
p21745
aVReference:
p21746
as(dp21747
g16
V29407
p21748
stp21749
a((dp21750
g2
(lp21751
VThat's because  is not defined on the  type in all browsers
p21752
aVIt is not a  function
p21753
aVYou could define the prototype and it should work:
p21754
as(dp21755
g16
V29407
p21756
stp21757
a((dp21758
g2
(lp21759
VThe way this site does it is to apply an invisible style to all the images at page load and when scrolling it applies  with some effect
p21760
as(dp21761
g16
V29407
p21762
stp21763
a((dp21764
g2
(lp21765
VYou could use  to insert an HTML fragment somewhere in the page
p21766
aVIf you want to insert it in a place not available to the view but only on the master you could place a  placeholder inside the master and in the view simply override it and insert the partial
p21767
aVIf placing such a placeholder is not acceptable you could use AJAX like: , but I would probably go with the previous approach as it will work in case the user has javascript disabled
p21768
as(dp21769
g16
V29407
p21770
stp21771
a((dp21772
g2
(lp21773
VThe error has nothing to do with scopes
p21774
aVYour delegate must return an integer value and take an integer value as parameter:
p21775
aVSo your code might look like this:
p21776
as(dp21777
g16
V29407
p21778
stp21779
a((dp21780
g2
(lp21781
VIf you want to accumulate values for every call of the  function you will need a global variable:
p21782
aVIf on the other hand you want to do it only for single call of the  function you could do this:
p21783
aVAnd then use it like this:
p21784
as(dp21785
g16
V29407
p21786
stp21787
a((dp21788
g2
(lp21789
VYes you have to use a payment gateway
p21790
aVBanks provide such services
p21791
aVAlso Paypal
p21792
as(dp21793
g16
V29407
p21794
stp21795
a((dp21796
g2
(lp21797
VIt is explained very well in this blog post
p21798
as(dp21799
g16
V29407
p21800
stp21801
a((dp21802
g2
(lp21803
VBy using the  property:
p21804
as(dp21805
g16
V29407
p21806
stp21807
a((dp21808
g2
(lp21809
VWhy would you want to use server controls
p21810
aVCan't you give a class to the anchor and define a background image:
p21811
aVAnd in css:
p21812
as(dp21813
g16
V29407
p21814
stp21815
a((dp21816
g2
(lp21817
VYou cannot run projects of type class library
p21818
aVYou need to define a startup project that is either a console application, windows application or a web application which would use the class library
p21819
as(dp21820
g16
V29407
p21821
stp21822
a((dp21823
g2
(lp21824
VAssuming the username and password are contained in a input text fields with respective ids:
p21825
aVyou could send them like this:
p21826
aVFinally make sure you are using HTTPS to avoid sending this information in clear text over the wire
p21827
as(dp21828
g16
V29407
p21829
stp21830
a((dp21831
g2
(lp21832
s(dp21833
g16
V29407
p21834
stp21835
a((dp21836
g2
(lp21837
Vhttp://www
p21838
aVdeveloperfusion
p21839
aVcom/tools/convert/vb-to-csharp/
p21840
aVNote that every automated conversion tools do not take advantage of the language intrinsics so if you want a real conversion doing it manually is the only way to get a quality code result
p21841
as(dp21842
g16
V29407
p21843
stp21844
a((dp21845
g2
(lp21846
VYou need an Image in order to draw your Graphics on, so you probably already have the image:
p21847
as(dp21848
g16
V29407
p21849
stp21850
a((dp21851
g2
(lp21852
VHow about using anonymous objects
p21853
aVSo for example you could have a method in your repository that returns :
p21854
aVThen depending on the stored procedure you are calling you would return a different anonymous type:
p21855
aVand finally in your controller:
p21856
aVNow of course the view consuming this action would need to know what columns are there in the JSON object
p21857
aVI would recommend you using some base type instead of  from which other models would derive and that would contain common properties
p21858
aVI don't really know your requirements but if it is simply a matter of returning some list of values that would vary based on the stored procedure you could simply return an
p21859
as(dp21860
g16
V29407
p21861
stp21862
a((dp21863
g2
(lp21864
VYou may take a look at jni4net which allows interoperability between the two
p21865
aVIKVM
p21866
aVNET is another alternative
p21867
aVYet another option is to expose the functionality you have in the
p21868
aVNET library as a SOAP web service which is interoperable and could be consumed from a JAVA client
p21869
as(dp21870
g16
V29407
p21871
stp21872
a((dp21873
g2
(lp21874
VI probably wouldn't directly access the database from the controller but would rather abstract this access
p21875
aVNot really a performance optimization but design improvement
p21876
aVSo start by defining a model that will hold the result of the stored procedure:
p21877
aVThen define a repository interface that will contain the different operations on this model:
p21878
aVNext implement the repository:
p21879
aVFinally your controller will use the repository:
p21880
as(dp21881
g16
V29407
p21882
stp21883
a((dp21884
g2
(lp21885
VYes this is perfectly valid way to access the element having its id
p21886
as(dp21887
g16
V29407
p21888
stp21889
a((dp21890
g2
(lp21891
VHow about BigInteger in Visual J#
p21892
as(dp21893
g16
V29407
p21894
stp21895
a((dp21896
g2
(lp21897
VYou could first try the synchronous Send method to verify that everything is setup correctly with the SMTP server and that you don't get any exceptions:
p21898
aVRemark: In
p21899
aVNET 4 SmtpClient implements IDisposable so make sure you wrap it in a using statement
p21900
as(dp21901
g16
V29407
p21902
stp21903
a((dp21904
g2
(lp21905
VYou could setup a Visual Studio solution in which you would have a common class library project containing models, controllers and data access and two web applications containing only the views and CSS of the two sites both referencing the same controllers and models
p21906
as(dp21907
g16
V29407
p21908
stp21909
a((dp21910
g2
(lp21911
VWhat you are trying to achieve is impossible
p21912
aVEven if you trigger a click the drop down list won't open like if the user clicked on it
p21913
aVIf you want to change the currently selected value with a new one you could use the val function
p21914
aVI guess the only solution is to simulate the whole UI look and feel of a  element using divs
p21915
as(dp21916
g16
V29407
p21917
stp21918
a((dp21919
g2
(lp21920
VYou could achieve this using WebClient:
p21921
aVIf you don't want to store the file locally but only read the contents you could try this:
p21922
as(dp21923
g16
V29407
p21924
stp21925
a((dp21926
g2
(lp21927
VIs the page you are sending the AJAX request hosted on the same server as your Java application
p21928
aVIf this is not the case is the  parameter taken into account by your Java application
p21929
aVThe reason this works with Twitter is that it sends JSONP, i
p21930
ag3813
aVyour server needs to send the data like this:
p21931
aVIf both are hosted on the same domain you don't need the  parameter
p21932
as(dp21933
g16
V29407
p21934
stp21935
a((dp21936
g2
(lp21937
VIt is an interface with no methods
p21938
aVIt is just used to "mark" Java classes which support a certain functionality like Serializable and Cloneable
p21939
as(dp21940
g16
V29407
p21941
stp21942
a((dp21943
g2
(lp21944
VI am not aware of such a template but if you have an existing ASP
p21945
aVNET MVC 1
p21946
aV0 project you could open it in Visual Studio 2010 and it should work as long as you have the assemblies installed in the GAC
p21947
as(dp21948
g16
V29407
p21949
stp21950
a((dp21951
g2
(lp21952
VI would recommend you returning an empty result:
p21953
aValso no need to specify data type:
p21954
aVIn case the server returns a status code different than 200 the  callback will be called
p21955
as(dp21956
g16
V29407
p21957
stp21958
a((dp21959
g2
(lp21960
VIn case you are interested in a LINQ solution:
p21961
aVWhere you can replace  by any number you would like
p21962
as(dp21963
g16
V29407
p21964
stp21965
a((dp21966
g2
(lp21967
VYou could use the ExpressionHelper
p21968
aVGetExpressionText method
p21969
aVFor example:
p21970
as(dp21971
g16
V29407
p21972
stp21973
a((dp21974
g2
(lp21975
VIt is an aspx page that derives from
p21976
aVIt is said that this view is strongly typed to the type
p21977
aVAs a consequence to this there's a Model property inside this view which is of type  and allows you to directly access properties of the model like this:
p21978
aVwhere as if your aspx page derived from  you would need to pull values from  the view no longer knows about the  type:
p21979
aVor even worse:
p21980
aVand there's no compile time safety in such code
p21981
aVNotice also that there's the  counterpart for strongly typed partials (ASCX)
p21982
as(dp21983
g16
V29407
p21984
stp21985
a((dp21986
g2
(lp21987
VAlso you talk about PDFs
p21988
aVDon't expect that if you have a series of PDF files and concatenate the binaries you will receive a valid PDF file by just adding the bytes
p21989
aVIf this is what you want you may take a look at iTextSharp which allows you to concatenate PDFs
p21990
as(dp21991
g16
V29407
p21992
stp21993
a((dp21994
g2
(lp21995
VHow about instead of using an  try this:
p21996
aVAnd in your unit test:
p21997
aVI know that this is not very elegant but instead of messing with the model binder this could be a solution
p21998
aVIf this doesn't feel like a good solution you could implement a custom model binder and override the CreateModel method where you would inject the dependencies in the constructor of the model
p21999
as(dp22000
g16
V29407
p22001
stp22002
a((dp22003
g2
(lp22004
VAttributes are applied to classes at compile time and baked into the metadata
p22005
aVYou cannot apply attributes to classes with Spring
p22006
aVNET at runtime
p22007
aVAdd the known types to the data contract serializer in your web
p22008
aVconfig:
p22009
as(dp22010
g16
V29407
p22011
stp22012
a((dp22013
g2
(lp22014
VNo we don't use HTML controls in ASP
p22015
aVNET MVC
p22016
aVWe use HTML helpers
p22017
aVThere's a big difference
p22018
as(dp22019
g16
V29407
p22020
stp22021
a((dp22022
g2
(lp22023
VThe same way you would in an ASP
p22024
aVNET application - by deriving from the RoleProvider class
p22025
as(dp22026
g16
V29407
p22027
stp22028
a((dp22029
g2
(lp22030
VThe error says the jQuery doesn't know what elements to select with
p22031
aVJust replace  but  in your selectors
p22032
aVYou could also take a look at the jquery
p22033
aVvalidate plugin which will simplify your validation logic
p22034
aVThere are many demos on the site that should help you get started
p22035
aVUPDATE:
p22036
aVMy mistake
p22037
aVThere's :input selector according to the documentation
p22038
as(dp22039
g16
V29407
p22040
stp22041
a((dp22042
g2
(lp22043
VIf this contextual information is needed by all views then having a base view model seems like a good solution
p22044
aVThe question is where to populate this information to avoid cluttering all your controller actions
p22045
aVA custom action filter seems like a good place
p22046
aVIn the OnActionExecuted method you could get the view model returned by the controller action and populate the contextual part if it derives from the base type
p22047
aVAnother option is to put the contextual information into the  (strongly typed views can also use ViewData) but personally I hate having magic strings and doing casting in my views (this could be overcome by using HTML helpers that will handle this ViewData)
p22048
as(dp22049
g16
V29407
p22050
stp22051
a((dp22052
g2
(lp22053
VYou may take a look at this article
p22054
as(dp22055
g16
V29407
p22056
stp22057
a((dp22058
g2
(lp22059
VThe obsolete attribute will cause a compiler warning when you try to use the class/method that's marked with it
p22060
aVFor example the following causes a warning:
p22061
aVwhile this doesn't:
p22062
as(dp22063
g16
V29407
p22064
stp22065
a((dp22066
g2
(lp22067
VYou can't/shouldn't have multiple checkboxes in this format because the id has to be unique
p22068
as(dp22069
g16
V29407
p22070
stp22071
a((dp22072
g2
(lp22073
VYou could try writing a custom Route:
p22074
aVAnd register it like this:
p22075
as(dp22076
g16
V29407
p22077
stp22078
a((dp22079
g2
(lp22080
VThe  extension is probably not associated with the  filter (C:\u005cWINDOWS\u005cMicrosoft
p22081
aVNET\u005cFramework\u005cv2
p22082
ag2721
aV50727\u005caspnet_isapi
p22083
aVdll):
p22084
as(dp22085
g16
V29407
p22086
stp22087
a((dp22088
g2
(lp22089
VThe client browser already caches included javascript files
p22090
aVFor standard libraries such as jQuery you could use a CDN as chances are it is already cached in the client browser
p22091
as(dp22092
g16
V29407
p22093
stp22094
a((dp22095
g2
(lp22096
VYou shouldn't be trying to do this
p22097
aVIn a SOAP enabled web service all types need to be known when the WSDL is published so that clients would be capable of generating a proxy
p22098
aVGenerics simply don't exist in the SOAP specification
p22099
aVSOAP is intended to be interoperable and generics don't exist in all languages
p22100
as(dp22101
g16
V29407
p22102
stp22103
a((dp22104
g2
(lp22105
VWhat is wrong is that the controller action that is supposed to handle this request and which is marked with the  expects a parameter called  to be POSTed along with the request
p22106
aVThere's no such parameter POSTed as you are using  which converts your form to its JSON representation and so the exception is thrown
p22107
aVSo I can see two possible solutions here:
p22108
aVNumber 1: Use  instead of  for sending your request parameters:
p22109
aVNumber 2: Separate the request into two parameters:
p22110
aVSo in all cases you need to POST the  value
p22111
as(dp22112
g16
V29407
p22113
stp22114
a((dp22115
g2
(lp22116
VYou may take a look at FileHelpers
p22117
as(dp22118
g16
V29407
p22119
stp22120
a((dp22121
g2
(lp22122
VYes this is a vulnerability
p22123
aVBefore redirecting you need to inspect the  string parameter by passing it to a Uri object and make sure that the target domain is the same as the requesting domain
p22124
aVYou should also take into account the case when  is a relative address like
p22125
aVNo problem in this case as the redirect will be to the same application
p22126
as(dp22127
g16
V29407
p22128
stp22129
a((dp22130
g2
(lp22131
V is a reference type, so no matter whether you use ,  or nothing, you will always be able to modify it inside the method
p22132
aVYou never pass the real person object to the method, you are passing the pointer as reference but not the actual
p22133
aVThe  keyword is useful with value types (such as structs, int, float, DateTime,
p22134
aVIt could also be used with reference types but only to indicate behavior but cannot enforce it
p22135
aVIf you use it with reference types it allows you to change the object this reference is pointing to
p22136
as(dp22137
g16
V29407
p22138
stp22139
a((dp22140
g2
(lp22141
VTake a look at this answer
p22142
as(dp22143
g16
V29407
p22144
stp22145
a((dp22146
g2
(lp22147
VWhy are you using an editor template for something that should be read only
p22148
aVDisplay templates and the  method seem more appropriate in this case
p22149
as(dp22150
g16
V29407
p22151
stp22152
a((dp22153
g2
(lp22154
VTry this:
p22155
aVThen just name your views accordingly
p22156
as(dp22157
g16
V29407
p22158
stp22159
a((dp22160
g2
(lp22161
VThe exception is propagated
p22162
as(dp22163
g16
V29407
p22164
stp22165
a((dp22166
g2
(lp22167
VYou didn't declare a constructor
p22168
aVThere's no  keyword in a constructor:
p22169
aVA type cannot contain methods that have the same name as the type
p22170
as(dp22171
g16
V29407
p22172
stp22173
a((dp22174
g2
(lp22175
VYou may take a look at the UpdateTargetId property:
p22176
aVController:
p22177
aVView:
p22178
as(dp22179
g16
V29407
p22180
stp22181
a((dp22182
g2
(lp22183
VYou could use an app_offline
p22184
aVhtm page
p22185
as(dp22186
g16
V29407
p22187
stp22188
a((dp22189
g2
(lp22190
Vor apply a css style:
p22191
aVwhich could look like this:
p22192
as(dp22193
g16
V29407
p22194
stp22195
a((dp22196
g2
(lp22197
VIn your view model you could have a  property:
p22198
aVwhich could be directly bound to a :
p22199
as(dp22200
g16
V29407
p22201
stp22202
a((dp22203
g2
(lp22204
VYes it is by design:
p22205
aVCheckout MVCContrib
p22206
aVTestHelper for better syntax:
p22207
as(dp22208
g16
V29407
p22209
stp22210
a((dp22211
g2
(lp22212
VIt does not guarantee that the cache will be expired at the exact time
p22213
aVThere are conditions such as the system running low on memory that would cause the cache to expire
p22214
aVSo don't assume that what you've put in the cache will be there later - always check first
p22215
as(dp22216
g16
V29407
p22217
stp22218
a((dp22219
g2
(lp22220
VYou could use the redirect-after-post pattern with
p22221
aVExample:
p22222
aVThe Back and Next buttons POST a form to a controller action
p22223
aVThe controller action puts some state into the  and redirects to another controller action which will verify that the data is in  and return the view
p22224
aVThe user presses F5 on the browser, the previous action is called on GET and as the state is no longer into  you know the user pressed F5 and didn't pass through the form submission
p22225
aVAnd to illustrate this:
p22226
as(dp22227
g16
V29407
p22228
stp22229
a((dp22230
g2
(lp22231
VYou can't know this in the constructor of the controller as the controller is currently being instantiated and no action could be called yet
p22232
aVHowever you could override the Initialize method and fetch the action name from the routing engine:
p22233
as(dp22234
g16
V29407
p22235
stp22236
a((dp22237
g2
(lp22238
VYou will need to get an SMS gateway that will allow you to send SMS to mobile phones from your server
p22239
as(dp22240
g16
V29407
p22241
stp22242
a((dp22243
g2
(lp22244
VInstead of making your web service dependent on the hosting environment I would suggest you adding the needed parameter to the operation contract so that it is passed by the consumer which in your case is an ASP
p22245
aVNET application that will fetch it from the session
p22246
as(dp22247
g16
V29407
p22248
stp22249
a((dp22250
g2
(lp22251
VYes could create a new type that will contain multiple properties and then return this type:
p22252
as(dp22253
g16
V29407
p22254
stp22255
a((dp22256
g2
(lp22257
VThe authentication cookie (the one set with ) is a special cookie
p22258
aVIt is encrypted using the machine key on the server and it can only be manipulated by the server
p22259
aVSilverlight executes on the client side which explains why you cannot decrypt the username stored inside this cookie
p22260
aVJust imagine for a moment that you could read and modify the value of this cookie on the client side : this would mean that you could impersonate any user
p22261
as(dp22262
g16
V29407
p22263
stp22264
a((dp22265
g2
(lp22266
VIn ASP
p22267
aVNET MVC 2
p22268
aV0 new helpers have been added that allow you to specify the fragment
p22269
aVExample:
p22270
as(dp22271
g16
V29407
p22272
stp22273
a((dp22274
g2
(lp22275
VPersonally I use  file and never store any environment related setting in app/web
p22276
aVconfig
p22277
aVThis allows me to deploy the exact same application on all environments
p22278
as(dp22279
g16
V29407
p22280
stp22281
a((dp22282
g2
(lp22283
VThe dictionary itself doesn't need to be serializable
p22284
aVIt is what you store inside  that needs to be serializable
p22285
aVSo for example if you have the following class
p22286
aVYou can perfectly fine use SQL server for session persistence and write the following code:
p22287
as(dp22288
g16
V29407
p22289
stp22290
a((dp22291
g2
(lp22292
VThat's because you have a type named  and a namespace that ends with
p22293
aVThis is bad as it generates some problems (for example the one you are encountering)
p22294
aVSo I would recommend you removing the  part of the namespace or you could use the  identifier for a type:
p22295
aVOf course as you can see this might get ugly
p22296
as(dp22297
g16
V29407
p22298
stp22299
a((dp22300
g2
(lp22301
VThe reason this happens is because the  type that  derives from enumerates over the keys of the collection and not over the values
p22302
aVSo when you enumerate over the  collection you are getting the keys:
p22303
aVThis means that the following will work:
p22304
aVI guess you could try the following which might be considered ugly but will work:
p22305
aVUPDATE:
p22306
aVAs pointed out by @Jon Benedicto in the comments section and in his answer using the  property is more optimal as it saves a cast:
p22307
as(dp22308
g16
V29407
p22309
stp22310
a((dp22311
g2
(lp22312
VIn
p22313
aVNET 4
p22314
aV0 there's a nice parallel Task library that allows you to do things like:
p22315
aVAs you can see for each url in the list a different task is started and once all tasks are completed the callback is invoked and passed the result of all tasks
p22316
as(dp22317
g16
V29407
p22318
stp22319
a((dp22320
g2
(lp22321
VIt's absolutely the same problem with
p22322
aVThe following:
p22323
aVwill most probably always invoke the DoAction method on the last element of the list, which could be fixed like this:
p22324
aVBut instead of relying on local variables I would recommend you the following:
p22325
as(dp22326
g16
V29407
p22327
stp22328
a((dp22329
g2
(lp22330
VI would recommend you splitting in two controller actions:
p22331
aVIn this case you definitely no longer need the hidden field inside your form:
p22332
as(dp22333
g16
V29407
p22334
stp22335
a((dp22336
g2
(lp22337
VThe distinction is that a Web Application needs to be compiled while a Web Site is compiled dynamically when executed (even the code behind)
p22338
aVAs ASP
p22339
aVNET MVC uses a web application every time you make a change you need to recompile it and recompiling requires leaving the Debug mode
p22340
aVIndeed you could modify views and partials without the need of recompiling but for controller logic you always need to recompile
p22341
aVTo speed things up I would recommend you the following:
p22342
aVWhen working with views and partials (i
p22343
ag3813
aVdoing some design stuff) run the application with Ctrl+F5 instead of F5 which will simply start the application in normal mode and your changes will be automatically picked up when you refresh the browser
p22344
aVWhen working with code behind you should have a corresponding unit test that will allow you to quickly check the behavior
p22345
aVIn this case running in Debug mode might be more useful as you might require checking values
p22346
as(dp22347
g16
V29407
p22348
stp22349
a((dp22350
g2
(lp22351
VNew strongly typed helpers
p22352
aVEditor and display templates
p22353
as(dp22354
g16
V29407
p22355
stp22356
a((dp22357
g2
(lp22358
VHere's a sample I wrote that you could try:
p22359
aVController:
p22360
aVView:
p22361
aVThe idea is to start an asynchronous operation that will report the progress using  meaning that each task must have an unique id
p22362
aVThen on the client side we start the task and then send multiple AJAX requests (every 5s) to update the progress
p22363
aVYou may tweak the parameters to adjust to your scenario
p22364
aVFurther improvement would be to add exception handling
p22365
as(dp22366
g16
V29407
p22367
stp22368
a((dp22369
g2
(lp22370
VFor a RESTful controller:
p22371
aVAnd in the View:
p22372
as(dp22373
g16
V29407
p22374
stp22375
a((dp22376
g2
(lp22377
VHere's a nice article that might help you
p22378
as(dp22379
g16
V29407
p22380
stp22381
a((dp22382
g2
(lp22383
VIt depends on what those models are doing
p22384
aVIf they posses data access and manipulation methods then they should be abstracted to weaken the coupling between your controller and data access logic and ease the testing in separation
p22385
aVIf they are simply POCO and/or data transfer objects then you don't need to abstract them
p22386
as(dp22387
g16
V29407
p22388
stp22389
a((dp22390
g2
(lp22391
VYou could write regex constraints:
p22392
as(dp22393
g16
V29407
p22394
stp22395
a((dp22396
g2
(lp22397
VThis could be because the  callback function is not run on the GUI thread
p22398
aVRead this post for more details about threading in WinForms
p22399
as(dp22400
g16
V29407
p22401
stp22402
a((dp22403
g2
(lp22404
VDon't use static methods
p22405
aVAbstract them in a repository:
p22406
aVthen implement against some data store:
p22407
aVand finally give your controller an instance of this repository so that it can work with users:
p22408
as(dp22409
g16
V29407
p22410
stp22411
a((dp22412
g2
(lp22413
VYou could define an array of known image types:
p22414
aVand then test whether the posted content type is in this array:
p22415
as(dp22416
g16
V29407
p22417
stp22418
a((dp22419
g2
(lp22420
VYou could use cURL on the command line:
p22421
aVor directly:
p22422
as(dp22423
g16
V29407
p22424
stp22425
a((dp22426
g2
(lp22427
VI don't know how your controller action and model look like but this definitely works:
p22428
aVModel:
p22429
aVController:
p22430
aVView:
p22431
aVOf course if you are using ASP
p22432
aVNET MVC 2
p22433
aV0, the strongly typed  helper is preferable
p22434
as(dp22435
g16
V29407
p22436
stp22437
a((dp22438
g2
(lp22439
VThe same way you are doing it the first time - by invoking the RunWorkerAsync method:
p22440
aVMake sure the invocation is conditioned or this loop may run forever :-)
p22441
as(dp22442
g16
V29407
p22443
stp22444
a((dp22445
g2
(lp22446
VWhen
p22447
aVNET 3
p22448
aV0 was first released, in order to serialize an object using the  all classes and properties had to be marked with those attributes no matter whether you used shared assemblies or generated proxies
p22449
aVSince
p22450
aVNET 3
p22451
aV5 SP1 you no longer need to put those attributes as all public properties will be serialized
p22452
aVThe problem in your case is that by default the  is not serialized as it has no setter and if you put the attributes you enforce the serialization of a property which has no setter and it complains
p22453
aVDespite the fact that you can omit those attributes I would recommend you using them on all of your entities
p22454
aVAs for the  property, if you want this transmitted over the wire add a setter
p22455
as(dp22456
g16
V29407
p22457
stp22458
a((dp22459
g2
(lp22460
VI am not aware of any managed function that allows you to do this
p22461
aVYou could retrieve this information using the HeapWalk function
p22462
aVHere's an example of using it (it creates a new heap but you could retrieve the current process heap with GetProcessHeap)
p22463
as(dp22464
g16
V29407
p22465
stp22466
a((dp22467
g2
(lp22468
VCheck it:
p22469
as(dp22470
g16
V29407
p22471
stp22472
a((dp22473
g2
(lp22474
VClass View: CTRL+W+C
p22475
aVObject Browser: CTRL+W+J
p22476
aVLook in the  menu
p22477
as(dp22478
g16
V29407
p22479
stp22480
a((dp22481
g2
(lp22482
VYou will need to run the scripts in the success callback function of your ajax script
p22483
aVI would recommend you externalizing this into a separate function:
p22484
aVAnd in the success callback of your script call this function:
p22485
as(dp22486
g16
V29407
p22487
stp22488
a((dp22489
g2
(lp22490
VGive your submit buttons a different name:
p22491
aVAnd then in your controller action check the request parameters
p22492
aVYou will see that a parameter with the name of the clicked button will be passed:
p22493
as(dp22494
g16
V29407
p22495
stp22496
a((dp22497
g2
(lp22498
VThe issue is that by default IIS 6
p22499
aV0 does not support extensionless routes
p22500
aVHere's an article that should help you solve the problem
p22501
as(dp22502
g16
V29407
p22503
stp22504
a((dp22505
g2
(lp22506
V is not a valid HTML tag and browsers might interpret it differently
p22507
as(dp22508
g16
V29407
p22509
stp22510
a((dp22511
g2
(lp22512
VIt is an anonymous function that is defined and invoked immediately
p22513
aVIt cannot be invoked from the outside as it has no name
p22514
aVAll the variables inside will be scoped to the anonymous function
p22515
aVThis could be used to do some processing on the global scope without adding new members to it
p22516
as(dp22517
g16
V29407
p22518
stp22519
a((dp22520
g2
(lp22521
VIf you are developing WinForms application and targeting
p22522
aVNET 2
p22523
aV0 the only benefit I can see in upgrading to VS2010 Express is performance improvements (new WPF code editor), maybe few bug fixes and prepare your project for future upgrades to
p22524
aVNET
p22525
as(dp22526
g16
V29407
p22527
stp22528
a((dp22529
g2
(lp22530
VIt will depend on the characteristics of the machine but you could always setup a web farm to handle high loads
p22531
as(dp22532
g16
V29407
p22533
stp22534
a((dp22535
g2
(lp22536
VProbably because  is not in the same folder
p22537
aVVisual Studio by default places the compiled executable in the  folder
p22538
as(dp22539
g16
V29407
p22540
stp22541
a((dp22542
g2
(lp22543
VThere's no easy way to do this
p22544
aVWhat I would recommend you is to redirect the unauthenticated users to the login page not when posting to some URL but when requesting the form that will POST to the authenticated URL
p22545
aVIf you know that the form you are presenting to an unauthenticated user will POST to an authenticated part of the site, well, don't present him the form
p22546
aVWhen this form is requested simply redirect to the login page for authentication and once authenticated redirect to the original form
p22547
aVThis way you will ensure that only authenticated users will POST to the protected resource
p22548
aVAs far as automated POST requests are concerned (bots, web services,
p22549
aVreturning a simple 401 status code to requests that do not provide credentials should be more than sufficient
p22550
as(dp22551
g16
V29407
p22552
stp22553
a((dp22554
g2
(lp22555
s(dp22556
g16
V29407
p22557
stp22558
a((dp22559
g2
(lp22560
VThere's no  attribute defined on the  tag
p22561
aVThis is not standard HTML
p22562
aVA more standard way is to use the  attribute:
p22563
aVwhich allows you to do this:
p22564
as(dp22565
g16
V29407
p22566
stp22567
a((dp22568
g2
(lp22569
VThe problem could be related to the fact that links to static resources such as images and CSS are hard-coded
p22570
aVYou could use relative paths or try specifying the base
p22571
as(dp22572
g16
V29407
p22573
stp22574
a((dp22575
g2
(lp22576
VThis is micro-optimization
p22577
aVPick the one that's more readable :
p22578
as(dp22579
g16
V29407
p22580
stp22581
a((dp22582
g2
(lp22583
VYou could use the css function:
p22584
as(dp22585
g16
V29407
p22586
stp22587
a((dp22588
g2
(lp22589
V17
p22590
ag244
ag2925
aV4 Parameter arrays
p22591
aVA parameter array permits arguments to
p22592
aVbe specified in one of two ways in a
p22593
aVmethod invocation:
p22594
aV\u2022 The argument
p22595
aVgiven for a parameter array can be a
p22596
aVsingle expression of a type that is
p22597
aVimplicitly convertible (13
p22598
aV1) to the
p22599
aVparameter array type
p22600
aVIn this case,
p22601
aVthe parameter array acts precisely
p22602
aVlike a value parameter
p22603
aV\u2022
p22604
aVAlternatively, the invocation can
p22605
aVspecify zero or more arguments for the
p22606
aVparameter array, where each argument
p22607
aVis an expression of a type that is
p22608
aVimplicitly convertible (13
p22609
aV1) to the
p22610
aVelement type of the parameter array
p22611
aVIn this case, the invocation creates
p22612
aVan instance of the parameter array
p22613
aVtype with a length corresponding to
p22614
aVthe number of arguments, initializes
p22615
aVthe elements of the array instance
p22616
aVwith the given argument values, and
p22617
aVuses the newly created array instance
p22618
aVas the actual argument
p22619
aVIn the same section an example is given:
p22620
aVproduces the output
p22621
aVThis example illustrates the expected behavior: empty array
p22622
as(dp22623
g16
V29407
p22624
stp22625
a((dp22626
g2
(lp22627
VTry this:
p22628
as(dp22629
g16
V29407
p22630
stp22631
a((dp22632
g2
(lp22633
VThis is more of an ASP
p22634
aVNET 4
p22635
aV0 default limit rather than ASP
p22636
aVNET MVC 1
p22637
aV0 to 2
p22638
aV0 migration issue
p22639
aVTry increasing this limit in web
p22640
aVconfig:
p22641
as(dp22642
g16
V29407
p22643
stp22644
a((dp22645
g2
(lp22646
VCan't you simply use a  button that will post data to the desired controller action:
p22647
aVYou could also use  if you want the parameters to be passed in the url
p22648
as(dp22649
g16
V29407
p22650
stp22651
a((dp22652
g2
(lp22653
VThat's probably because the script are not found in the indicated location
p22654
aVI would recommend you using helpers for this
p22655
aVFor example instead of writing:
p22656
aValways write:
p22657
aVMake sure with FireBug that all the required scripts are properly loaded and that you don't have any javascript errors
p22658
as(dp22659
g16
V29407
p22660
stp22661
a((dp22662
g2
(lp22663
VYou could attach to the click event of the anchor with an id  and then set the checked attribute of all checkboxes inside the modal:
p22664
as(dp22665
g16
V29407
p22666
stp22667
a((dp22668
g2
(lp22669
VIf you are inside the view you could directly use the helper:
p22670
aVIf you are inside a controller action you could use the Url property:
p22671
aVIf this is in a helper method you already have the url:
p22672
aVIf it is none of the above you are probably doing something wrong and you might need to move this code
p22673
aVIf you are new to ASP
p22674
aVNET MVC I would recommend you reading some tutorials
p22675
as(dp22676
g16
V29407
p22677
stp22678
a((dp22679
g2
(lp22680
VTry setting the
p22681
as(dp22682
g16
V29407
p22683
stp22684
a((dp22685
g2
(lp22686
VMake sure you've included , ,  and  assemblies into your project
p22687
aVAlso to avoid generating an executable and then renaming it you could specify the  switch when compiling
p22688
as(dp22689
g16
V29407
p22690
stp22691
a((dp22692
g2
(lp22693
VYou may follow the directions in this article
p22694
aVIf you don't care about the template, just select  when asked about creating a test project and later add it manually to the solution
p22695
as(dp22696
g16
V29407
p22697
stp22698
a((dp22699
g2
(lp22700
VIf you are using BinaryFormatter to perform the serialization you might add the  attribute to the field you wish to exclude
p22701
aVFor XmlSerializer look at the  attribute
p22702
aVFor DataContractSerializer look at the  attribute
p22703
as(dp22704
g16
V29407
p22705
stp22706
a((dp22707
g2
(lp22708
VYou need to define multiple counters: number of operations, average time per operation and average time per operation base
p22709
aVHere's a nice article that should help you get started
p22710
as(dp22711
g16
V29407
p22712
stp22713
a((dp22714
g2
(lp22715
VBy adding a  control to the form that will point to the ASP
p22716
aVNET web site using these AJAX controls
p22717
aVThis is to say that AJAX is used in web applications and not windows
p22718
as(dp22719
g16
V29407
p22720
stp22721
a((dp22722
g2
(lp22723
VWhy would you want preventing the user from entering tags
p22724
aVLeave him enter whatever he wants
p22725
aVWhy preventing someone from having a password such as  - it looks like a pretty strong password
p22726
aVPersonally I hate web sites limiting my choices for a password
p22727
aVJust make sure that you encode everything you are outputting inside the views:
p22728
aVSo instead of:
p22729
aVAlways use:
p22730
aVor:
p22731
aVif you are working with ASP
p22732
aVNET 4
p22733
ag2721
aVAlso, as pointed out by @Jab in the comments section, in order to accept such input from the user you might need to decorate the controller action that will handle the submission with the  attribute
p22734
as(dp22735
g16
V29407
p22736
stp22737
a((dp22738
g2
(lp22739
VAlways use html helpers when working with urls:
p22740
aVOr even better with MVCContrib:
p22741
as(dp22742
g16
V29407
p22743
stp22744
a((dp22745
g2
(lp22746
VEverything will depend on how the file handle is obtained
p22747
aVIf you open the file with a simple  or any of the standard
p22748
aVNET file manipulation methods then you can be pretty sure that its access will not be transactional
p22749
aVneeds to be used every time you try to open a handle
p22750
as(dp22751
g16
V29407
p22752
stp22753
a((dp22754
g2
(lp22755
VWhere are you writing this javascript
p22756
aVYou need to make sure that the DOM is loaded:
p22757
aVAlso HTML helpers might generate a different ID depending on the context: for example if you are calling the  inside an editor template
p22758
aVHaving said this it is not the solution I would recommend you
p22759
aVTo solve all those problems I usually apply a css class to the textbox:
p22760
aVwhere  class is defined like this:
p22761
aVand then use a popular javascript framework to set the focus when the DOM is ready:
p22762
as(dp22763
g16
V29407
p22764
stp22765
a((dp22766
g2
(lp22767
VThere's no  helper method that takes one parameter
p22768
aVThe standard DropDownListFor method takes at least two parameters: the first is a lambda used to calculate the name of the select and the second is an :
p22769
aVAlso how does the  type looks like
p22770
aVIt must be something like this:
p22771
as(dp22772
g16
V29407
p22773
stp22774
a((dp22775
g2
(lp22776
VTry returning an array instead of list:
p22777
as(dp22778
g16
V29407
p22779
stp22780
a((dp22781
g2
(lp22782
VOverride the templates:
p22783
aVIn  put:
p22784
aVAnd in your :
p22785
as(dp22786
g16
V29407
p22787
stp22788
a((dp22789
g2
(lp22790
VYou could modify the form action you are posting to when the user chooses a subcategory:
p22791
as(dp22792
g16
V29407
p22793
stp22794
a((dp22795
g2
(lp22796
VAutoMapper is used for mapping, not for sorting
p22797
aVYou could sort the list once the mapping being done:
p22798
as(dp22799
g16
V29407
p22800
stp22801
a((dp22802
g2
(lp22803
VYes it is possible:
p22804
aVwhere the  function could look like this:
p22805
as(dp22806
g16
V29407
p22807
stp22808
a((dp22809
g2
(lp22810
VA DLL has no instance, it is loaded in a host process
p22811
aVReference the assembly in both applications and use its classes/methods
p22812
aVIf you want to avoid deploying the same assembly for both applications you could put it in the GAC
p22813
as(dp22814
g16
V29407
p22815
stp22816
a((dp22817
g2
(lp22818
VYou need to cancel the default form submission by returning  inside the button  handler:
p22819
aVThat being said, I would suggest you a better solution
p22820
aVUse the jquery
p22821
aVform plugin which enables you to ajaxify an HTML form
p22822
aVThis way much of the duplication in your code could be simplified:
p22823
aVAnd in javascript:
p22824
aVThis way you no longer need to specify url, method, manually serialize form fields, etc
p22825
aVYou also don't need to pollute your HTML markup with javascript functions
p22826
aVThis is unobtrusive javascript
p22827
aVAnother advantage of this approach is that now you will be able to externalize this javascript into a separate static
p22828
aVjs file as it no longer relies on server side code () and this you will benefit from reducing the bandwidth and caching static resources
p22829
as(dp22830
g16
V29407
p22831
stp22832
a((dp22833
g2
(lp22834
VHere's a workaround (as I wouldn't really call this a solution)
p22835
aVAdd a  file inside the  folder of your web application
p22836
aVAdd the following resource inside:
p22837
aVIn the  method of  add the following:
p22838
as(dp22839
g16
V29407
p22840
stp22841
a((dp22842
g2
(lp22843
VI don't know really understand what you mean when you say that the viewdata is enumerated
p22844
aVThe ViewData contains instances of objects that you put inside your controller action
p22845
aVIf you put an instance of an  you could enumerate
p22846
aVSo let's suppose that you store an  inside your ViewData from the controller action that's rendering the view:
p22847
aVInside the view you could enumerate and generate a table:
p22848
aVThat being said you, I would recommend you to never do this and always use strongly typed views
p22849
aVUsing  requires you to cast and use magic strings inside your views which IMHO is bad
p22850
aVHere's the same using a strongly typed view:
p22851
aVand the view:
p22852
aVand things get even more promising when you start using HTML helpers in MVCContrib such as the Grid:
p22853
as(dp22854
g16
V29407
p22855
stp22856
a((dp22857
g2
(lp22858
VQuote from the doc:
p22859
aVSpecifies the version of the
p22860
aVNET
p22861
aVFramework that the Web site targets
p22862
aVThe default is Null
p22863
aVIf this attribute is omitted, the
p22864
aVtarget version is determined by other
p22865
aVsettings in the Web
p22866
aVconfig file and by
p22867
aVthe IIS application pool that the Web
p22868
aVsite is associated with
p22869
aVFor more
p22870
aVinformation, see
p22871
aVCompilationSection
p22872
aVTargetFramework and
p22873
aVNET Framework Multi-Targeting for
p22874
aVASP
p22875
aVNET Web Projects
p22876
aVSo basically if your application pool in IIS targets ASP
p22877
aVNET 4
p22878
aV0 and you omit this attribute nothing happens => your site still uses
p22879
aVNET 4
p22880
ag2721
as(dp22881
g16
V29407
p22882
stp22883
a((dp22884
g2
(lp22885
VYeah, symmetric encryption algorithms such as AES are pretty standard so as long as you are using the same keys for encryption and decryption there should be absolutely no problem
p22886
as(dp22887
g16
V29407
p22888
stp22889
a((dp22890
g2
(lp22891
VIt will be updated on the next request but not on the next line following it
p22892
aVsets an authentication cookie in the client browser that will be read upon the next client request and you will see the  property updated
p22893
aVUpdating this property in the same HTTP request is meaningless as you already know that the user passed authentication as you called the method
p22894
as(dp22895
g16
V29407
p22896
stp22897
a((dp22898
g2
(lp22899
VThere's no such notion as running a controller
p22900
aVControllers are not run
p22901
aVThey are classes which are instantiated and actions (methods) are invoked on them
p22902
aVYou could decorate your controller action with a custom  attribute in which you could override the OnActionExecuting which will be called before the controller action is invoked
p22903
aVThis technique also allows you a better separation of concerns
p22904
as(dp22905
g16
V29407
p22906
stp22907
a((dp22908
g2
(lp22909
VTry like this:
p22910
aVAnd if you want to remove the namespace from the root node:
p22911
as(dp22912
g16
V29407
p22913
stp22914
a((dp22915
g2
(lp22916
VIt seems that you already have a strongly typed list
p22917
aVWhy converting this to a weakly typed  and then back to a list
p22918
aVIf you want to be able to use this list outside the scope of the method, define a type that will hold the different properties and in your select statement use this type instead of the anonymous type like:
p22919
as(dp22920
g16
V29407
p22921
stp22922
a((dp22923
g2
(lp22924
VInstead of using  which is tied to the crappy Microsoft Ajax library use a normal  with jQuery and the excellent jQuery
p22925
aVform plugin which allows you to ajaxify forms (even forms that contain file upload fields)
p22926
as(dp22927
g16
V29407
p22928
stp22929
a((dp22930
g2
(lp22931
VNo, you can't as this violates the same origin policy
p22932
as(dp22933
g16
V29407
p22934
stp22935
a((dp22936
g2
(lp22937
VIn each view  will give you the instance of the controller that rendered this view
p22938
aVIf you have a base controller for all actions and the property is on this base controller you could cast and access the property
p22939
aVWriting a helper method to do this might be even better:
p22940
aVwith the following helper defined:
p22941
as(dp22942
g16
V29407
p22943
stp22944
a((dp22945
g2
(lp22946
VAs you have found out starting processes on the client computer from a web site is not possible
p22947
aVYou could redirect though to this web page:
p22948
aVAnother option is to use an ActiveX control but this will work only on Internet Explorer
p22949
as(dp22950
g16
V29407
p22951
stp22952
a((dp22953
g2
(lp22954
VI would recommend you to leave the connection handling to the ADO
p22955
aVNET connection pool and don't use any static objects
p22956
aVAlso parametrized queries are not vulnerable to SQL injection attacks:
p22957
as(dp22958
g16
V29407
p22959
stp22960
a((dp22961
g2
(lp22962
VI guess that this will depend on the text you are putting inside the
p22963
aVIn the example you provided the text is hardcoded but I suppose that in your real application this text is dynamic and might contain characters that break javascript such as
p22964
aVTry using FireBug to see if there are some javascript errors when it doesn't work
p22965
as(dp22966
g16
V29407
p22967
stp22968
a((dp22969
g2
(lp22970
VNot necessary but you probably should implement
p22971
as(dp22972
g16
V29407
p22973
stp22974
a((dp22975
g2
(lp22976
VA second function declaration for the same function name overwrites an earlier one, so it will depend on the order your scripts are included
p22977
as(dp22978
g16
V29407
p22979
stp22980
a((dp22981
g2
(lp22982
VIf you are deploying your application through an MSI generated with a Setup and Deployment project you could enforce a
p22983
aVNET Framework Launch Condition
p22984
aVIf it is a simple copy of the executable you could probably probe for the presence of  assembly with reflection as this assembly is specific to
p22985
aVNET 3
p22986
aV5 but if the user has no CLR 2
p22987
aV0 installed this will fail
p22988
as(dp22989
g16
V29407
p22990
stp22991
a((dp22992
g2
(lp22993
VThe user can select only a single language from the drop down list, so you cannot expect it to populate the  property of your model which is a collection
p22994
aVAdd a property to hold the selected language in your model:
p22995
aVand then bind the drop down list to this property:
p22996
as(dp22997
g16
V29407
p22998
stp22999
a((dp23000
g2
(lp23001
VYou could use a Visual Studio Web Test to record and execute a scenario
p23002
aVSelenium is another alternative
p23003
as(dp23004
g16
V29407
p23005
stp23006
a((dp23007
g2
(lp23008
V expects you to specify the controller name when redirecting in the  action:
p23009
aVThen you would be able to use the strongly typed assertion:
p23010
aVAnother alternative is to write your own  extension method:
p23011
aVwhich would allow you to leave the redirect as is:
p23012
aVand test the result like this:
p23013
as(dp23014
g16
V29407
p23015
stp23016
a((dp23017
g2
(lp23018
VThe ReadBytes function returns a byte array which you are passing to the Convert
p23019
aVToByte function which throws an exception at runtime because you cannot convert an array of multiple bytes to a single byte
p23020
aVDepending on what you are trying to accomplish the actions to fix the problem will vary
p23021
as(dp23022
g16
V29407
p23023
stp23024
a((dp23025
g2
(lp23026
Vand then read the id:
p23027
as(dp23028
g16
V29407
p23029
stp23030
a((dp23031
g2
(lp23032
VIf you are using basic authentication this will not be possible
p23033
aVAs you've seen you are able to perform an HttpWebRequest and pass credentials but this is done server side and you cannot continue navigating
p23034
aVThe way it works is that the browser needs to set the credential headers used by basic authentication and this can only be done using the login popup
p23035
aVSome flavors of IE might support the following URL:  to provide credentials but not sure would work with other browsers for obvious reasons
p23036
as(dp23037
g16
V29407
p23038
stp23039
a((dp23040
g2
(lp23041
VYou could use the GetBytes method:
p23042
as(dp23043
g16
V29407
p23044
stp23045
a((dp23046
g2
(lp23047
VYou could store the value into the  and retrieve it from the second page
p23048
as(dp23049
g16
V29407
p23050
stp23051
a((dp23052
g2
(lp23053
VIf your questions are stored in a SQL database you could setup an SQL expiration policy so that when data changes the cache will expire
p23054
as(dp23055
g16
V29407
p23056
stp23057
a((dp23058
g2
(lp23059
s(dp23060
g16
V29407
p23061
stp23062
a((dp23063
g2
(lp23064
VYou coucld use the Replace function:
p23065
aVWhere you need to change  to what's really inside the database
p23066
as(dp23067
g16
V29407
p23068
stp23069
a((dp23070
g2
(lp23071
VGive your input buttons different names:
p23072
aVAnd then in the controller action check if  was clicked by looking at the request parameters (the name of the clicked button will be sent):
p23073
as(dp23074
g16
V29407
p23075
stp23076
a((dp23077
g2
(lp23078
VYou will need to write a custom membership provider
p23079
aVHere's a video and an article about how this could be accomplished
p23080
as(dp23081
g16
V29407
p23082
stp23083
a((dp23084
g2
(lp23085
VIMHO this is a very good approach: based on request parameters (or more specifically HTTP headers in this case) the controller decides which view to render
p23086
as(dp23087
g16
V29407
p23088
stp23089
a((dp23090
g2
(lp23091
VIt would compensate by throwing an exception
p23092
aVYou need
p23093
aVNET framework installed to run
p23094
aVNET applications
p23095
aVFor cross platform you may take a look at Mono
p23096
aVSorry I misunderstood your question
p23097
aVIf you expose an endpoint using basicHttpBinding any client that conforms to the WS-I Basic Profile 1
p23098
aV1 will be able to consume the web service without problems
p23099
aVThis is the most interoperable binding
p23100
as(dp23101
g16
V29407
p23102
stp23103
a((dp23104
g2
(lp23105
VYes, this helper method adds the appropriate javascript to the page in order to enable client validation
p23106
aVYou will need to include the proper js scripts based on the framework you are using
p23107
aVTake a look at this blog post
p23108
as(dp23109
g16
V29407
p23110
stp23111
a((dp23112
g2
(lp23113
VI would recommend you hashing the passwords with salt and store the hashed password and the salt into the database
p23114
aVThere's also another article on this topic
p23115
as(dp23116
g16
V29407
p23117
stp23118
a((dp23119
g2
(lp23120
VIt seems that you are using an assembly that has been generated from a JAR file using the ikvmc compiler
p23121
aVYou will need to reference the  assembly which is part of the IKVM project
p23122
aVRight click on  and then  and pick the  file
p23123
as(dp23124
g16
V29407
p23125
stp23126
a((dp23127
g2
(lp23128
VYou may take a look at ADO
p23129
aVNET Entity framework which allows you to generate model classes from an existing database schema
p23130
as(dp23131
g16
V29407
p23132
stp23133
a((dp23134
g2
(lp23135
VYou could take a look at FluentValidation
p23136
aVIt is a great framework that allows you to separate the validation logic of your model from the model itself, provides easy way to unit test the validation logic and could be used in any type of application and of course seamlessly integrates with ASP
p23137
aVNET MVC
p23138
as(dp23139
g16
V29407
p23140
stp23141
a((dp23142
g2
(lp23143
VTry rewriting your helper in a more ASP
p23144
aVNET MVCish 2
p23145
aV0 style
p23146
aVAlso don't forget to add using  inside your helper namespace so that you have access to the  method:
p23147
aVIf this doesn't work you are definitely having some version problems with the  assembly being used
p23148
as(dp23149
g16
V29407
p23150
stp23151
a((dp23152
g2
(lp23153
VYou only need to defer the execution of the action
p23154
aVHere's an example:
p23155
aVWhich could be used like this:
p23156
as(dp23157
g16
V29407
p23158
stp23159
a((dp23160
g2
(lp23161
VWell, you could always select the concrete class implementing the interface, generate the partial view, and manually remove all the stuff that's not needed
p23162
as(dp23163
g16
V29407
p23164
stp23165
a((dp23166
g2
(lp23167
VIn your thread callback you are doing much more than simply writing or reading:
p23168
aVDoing both reading and writing cannot be guaranteed to be atomic
p23169
aVUse Interlocked
p23170
aVIncrement to ensure atomicity of this operation
p23171
as(dp23172
g16
V29407
p23173
stp23174
a((dp23175
g2
(lp23176
VThere's nothing out of the box in ASP
p23177
aVNET MVC that allows you to build a PDF or Word file from a POCO class
p23178
aVYou have to build it manually or using a third party library
p23179
aVOnce you have done this you could easily write the bytes to the response stream:
p23180
aVThe  method will of course be specific on what library/API you are using to generate the document
p23181
as(dp23182
g16
V29407
p23183
stp23184
a((dp23185
g2
(lp23186
VBecause those are configured in the endpoint in your app/web
p23187
aVconfig or programatically if you prefer
p23188
aVMore on configuring a WCF client here
p23189
as(dp23190
g16
V29407
p23191
stp23192
a((dp23193
g2
(lp23194
VTo match anything other than letter or number you could try this:
p23195
aVAnd to replace:
p23196
as(dp23197
g16
V29407
p23198
stp23199
a((dp23200
g2
(lp23201
VDon't use properties on a base controller to pass data to the view
p23202
aVI would recommend you writing a custom action filter and store data inside  which will be accessible everywhere
p23203
as(dp23204
g16
V29407
p23205
stp23206
a((dp23207
g2
(lp23208
VThis will depend on how this data is going to be exposed from your PC
p23209
aVIf you want to read some files from the file system, the server hosting the web application will need to have access to those files
p23210
aVFor example you could create a network share and read from this share:
p23211
as(dp23212
g16
V29407
p23213
stp23214
a((dp23215
g2
(lp23216
VThe  event is fired once when the application domain is loaded
p23217
aVIf you see it firing more than once then this would mean that the application restarts
p23218
aVThere are multiple reasons an application domain could get unloaded like deleting modifying some of the files like , the  folder,
p23219
aVHere's an article describing common reasons for application restart
p23220
as(dp23221
g16
V29407
p23222
stp23223
a((dp23224
g2
(lp23225
VYou don't need to write a partial class
p23226
aVYou could directly annotate your model properties
p23227
aVCheckout ScottGu's blog post
p23228
as(dp23229
g16
V29407
p23230
stp23231
a((dp23232
g2
(lp23233
VWhy not using a server side hidden control whose values could be modified dynamically from the server side:
p23234
aVAnother possibility is to perform this on the client side using javascript: labels are usually rendered as  tags, so you will need to obtain the proper span by id and then assign it's  value to the hidden element
p23235
aVUsing a javascript framework like jQuery might render this task much easier and guaranteed to work cross browser
p23236
as(dp23237
g16
V29407
p23238
stp23239
a((dp23240
g2
(lp23241
VYou need to register a javascript event for page unload and send an AJAX request to clear the session
p23242
aVThis event will be trigerred when the user closes the browser window or tab
p23243
aVHere's an example page:
p23244
as(dp23245
g16
V29407
p23246
stp23247
a((dp23248
g2
(lp23249
VOnce you are able to parse those strings into a Date object comparing them is easy (Using the  operator)
p23250
aVParsing the dates will depend on the format
p23251
aVYou may take a look at Datejs which might simplify this task
p23252
as(dp23253
g16
V29407
p23254
stp23255
a((dp23256
g2
(lp23257
VHere's an excerpt from a blog post I wrote:
p23258
aVIn this case the corresponding view is strongly typed to
p23259
aVIt uses AutoMapper to define conversion rules between entities and view models
p23260
aVAs for the  attribute, it's a custom action filter which inspects the model passed to the view and applies the proper conversion so that the view has only the view model
p23261
as(dp23262
g16
V29407
p23263
stp23264
a((dp23265
g2
(lp23266
VStart by giving your  tag a valid
p23267
aVA valid name cannot contain spaces
p23268
aVand then fetch the selected value from the form parameters collection:
p23269
aVOr even better: don't use any collections, use an action parameter which has the same name as the name of your select and leave the default model binder populate it:
p23270
as(dp23271
g16
V29407
p23272
stp23273
a((dp23274
g2
(lp23275
VYes it can be done without AJAX
p23276
aVWhen the page is rendered pass all the collections that will be used by the dropdown lists as JSON objects into the HTML:
p23277
aVThen register for the change event of the first drop down and based on the selected value go and fetch the data from the other collections
p23278
aVOf course if you have lots of data this might not be practical as your pages will become very large and in this case AJAX woulld be more appropriate
p23279
as(dp23280
g16
V29407
p23281
stp23282
a((dp23283
g2
(lp23284
VHow are you calling this  action
p23285
aVIf you are calling it with AJAX then forget about it
p23286
aVYou cannot return PDF from an AJAX call or more precisely you can but there's not much you can do with it
p23287
aVSo create a normal html link pointing to this action:
p23288
aVOnce you click on the resulting anchor the browser will be redirected to a page that will open the resulting PDF using the appropriate plugin installed on your system (provided there's any)
p23289
aVIf you don't want opening the PDF in the current browser window you could add the  attribute to the anchor
p23290
aVFinally if you want to open the PDF only inside some portion of the page you could embed it into the markup
p23291
aVSo basically you would have a controller action that will return a partial HTML containing the PDF inclusion:
p23292
aVAnd the partial might look like this:
p23293
aVAnd in you would use this action in your AJAX call
p23294
as(dp23295
g16
V29407
p23296
stp23297
a((dp23298
g2
(lp23299
VYou could use a ReaderWriterLockSlim to synchronize access to a shared resource such as a file
p23300
as(dp23301
g16
V29407
p23302
stp23303
a((dp23304
g2
(lp23305
VI don't know what is your custom installer, but you  could use a Setup and Deployment  Project in Visual Studio where you can define
p23306
aVNET Framework launch condition
p23307
as(dp23308
g16
V29407
p23309
stp23310
a((dp23311
g2
(lp23312
VYou may take a look at this article:
p23313
aVLet's assume that we have the following text input:
p23314
aVIn most cases, we would want to have this feature available to all
p23315
aVtextboxes across our website, so we would create a function to handle
p23316
aVthis, and call it as needed
p23317
aVCalling this function with the expected
p23318
aVargument will make execute the highlighting of the text
p23319
aVAssuming you are developing against DotNetNuke 5, or have jQuery already imported into your website, add the following jQuery to your site for each textbox
p23320
aV(If you have a lot of textboxes, we could do this differently, but that's for a different post
p23321
as(dp23322
g16
V29407
p23323
stp23324
a((dp23325
g2
(lp23326
VYou cannot modify the Load handler from withing the handler itself
p23327
aVIt's too late as it is already executing
p23328
aVWhy not simply calling a function as it doesn't make much sense of having multiple load handlers for the same page:
p23329
as(dp23330
g16
V29407
p23331
stp23332
a((dp23333
g2
(lp23334
VTry like this (you need to set the text and the value for each option - the text will be used for rendering in the dropdown list and the value will be used to bind to the selected item to the  property):
p23335
aVand then:
p23336
as(dp23337
g16
V29407
p23338
stp23339
a((dp23340
g2
(lp23341
VTo prevent from multiple threads calling the same method in parallel you could use a locking mechanism
p23342
as(dp23343
g16
V29407
p23344
stp23345
a((dp23346
g2
(lp23347
VYou could write a function that will convert and format this array as string
p23348
aVEven better: use FireBug for debugging instead of alerts
p23349
as(dp23350
g16
V29407
p23351
stp23352
a((dp23353
g2
(lp23354
VIf your application is hosted using Visual Studio's built in web development server then this server does not allow remote connections
p23355
aVIt is for testing purposes only and accepts connections only from localhost
p23356
aVIn order to access your application from remote clients you might need to deploy it to IIS
p23357
as(dp23358
g16
V29407
p23359
stp23360
a((dp23361
g2
(lp23362
VPut your script inside  before attempting to register any event handlers as the DOM might have not loaded yet:
p23363
aVAlso you don't need to set the , jQuery knows it from the Content-Type response header from the server
p23364
aVAnother remark: the msg object passed to the success handler is already a JSON object: you don't need to parse/deserialize it:
p23365
aVAnd the solution I would recommend you is to use the jquery
p23366
aVform plugin
p23367
aVThanks to it your js code will look as easy as:
p23368
aVVery neat stuff
p23369
aVYou don't need to bother about serializing/deserializing data, preventing default events, it can even handle file uploads
p23370
as(dp23371
g16
V29407
p23372
stp23373
a((dp23374
g2
(lp23375
VTry specifying an absolute address:
p23376
as(dp23377
g16
V29407
p23378
stp23379
a((dp23380
g2
(lp23381
VGridView with ObjectDataSource is not exactly what fits best in the ASP
p23382
aVNET MVC paradigm
p23383
aVIn MVC the View should not be responsible for pulling data, it should only render the data that has been passed from the controller
p23384
aVThis being said, IMHO Session management should be done by the Controller, either directly or indiretcly by delegating to some other class to which the controller would pass the Session dictionary
p23385
aVAs an alternative of using GridView you might look at the MVCContrib Grid which is more adapted to ASP
p23386
aVNET MVC
p23387
as(dp23388
g16
V29407
p23389
stp23390
a((dp23391
g2
(lp23392
VYou may take a look at JMeter which is a free Java based desktop application allowing you to load test any web application
p23393
aVAnother free tool is The Grinder
p23394
as(dp23395
g16
V29407
p23396
stp23397
a((dp23398
g2
(lp23399
VI would recommend you to enable tracing in your service and look at the generated logs with Service Trace Viewer Tool
p23400
aVTrace only errors to keep your logs small
p23401
as(dp23402
g16
V29407
p23403
stp23404
a((dp23405
g2
(lp23406
VC# is used for server side scripts
p23407
aVPopups show on the client side, so client scripting is required
p23408
aVIf you insist on calling this client script from code behind you could always use the RegisterStartupScript function
p23409
aVThere are other alternatives of showing popups instead of using the old school : for example you could use the jqModal plugin based on the popular jQuery framework
p23410
as(dp23411
g16
V29407
p23412
stp23413
a((dp23414
g2
(lp23415
VThis is not a valid id according to W3C:
p23416
aVNaming rules:
p23417
aVMust begin with a letter A-Z or a-z
p23418
aVCan be followed by: letters (A-Za-z),
p23419
aVdigits (0-9), hyphens ("-"),
p23420
aVunderscores ("_"), colons (":"), and
p23421
aVperiods ("
p23422
aVValues are case-sensitive
p23423
aVThis basically says that you should not have  in an id
p23424
aVI would strongly suggest you following the standards
p23425
as(dp23426
g16
V29407
p23427
stp23428
a((dp23429
g2
(lp23430
VYou can't prevent the user from reposting using javascript
p23431
aVThis should be done server side using the redirect after post pattern
p23432
aVUPDATE:
p23433
aVA possible but not robust solution is to simulate the redirect from javascript using
p23434
as(dp23435
g16
V29407
p23436
stp23437
a((dp23438
g2
(lp23439
VInstead of redirecting back to the original controller can't you just
p23440
aVAnother option would be to store the model inside  before redirecting and fetching it back from  in the first controller if available
p23441
as(dp23442
g16
V29407
p23443
stp23444
a((dp23445
g2
(lp23446
VYou might need to create a virtual directory for the ASP
p23447
aVNET MVC application which will be associated to its dedicated application pool
p23448
as(dp23449
g16
V29407
p23450
stp23451
a((dp23452
g2
(lp23453
V usually will try to read the app/web
p23454
aVconfig file of the process executing this code
p23455
aVSo you might need to add an  file containing the connection string inside your unit test project
p23456
as(dp23457
g16
V29407
p23458
stp23459
a((dp23460
g2
(lp23461
VTry this:
p23462
aVIt will generate markup that is close to the following:
p23463
as(dp23464
g16
V29407
p23465
stp23466
a((dp23467
g2
(lp23468
VWhere exactly you are getting this exception
p23469
aVIs it in the controller action or while rendering the view
p23470
aVThe usual paradigm is the following:
p23471
as(dp23472
g16
V29407
p23473
stp23474
a((dp23475
g2
(lp23476
VASP
p23477
aVNET MVC Futures contains nice helper method that allows you to serialize the model into a hidden field that can be fetched in the next controller action that the form is being posted to
p23478
aVThis allows a WebForms ViewState imitation
p23479
as(dp23480
g16
V29407
p23481
stp23482
a((dp23483
g2
(lp23484
VTo fill the test collection property of your model you could have the following inputs:
p23485
aVAs far as the  field is concerned you should use a generic strongly typed collection and use a property with getter and setter instead of field for better encapsulation
p23486
aVI would also encourage you reading this blog post from Scott Hanselman in which he covers advanced binding scenarios
p23487
as(dp23488
g16
V29407
p23489
stp23490
a((dp23491
g2
(lp23492
VIf it is pretty common you could place this code in the master file () so that you don't need to override it in each view
p23493
aVAnd only for the views that don't need this common behavior you could override it
p23494
as(dp23495
g16
V29407
p23496
stp23497
a((dp23498
g2
(lp23499
VYou could use the  function to exclude some element at a given random index:
p23500
as(dp23501
g16
V29407
p23502
stp23503
a((dp23504
g2
(lp23505
VTry using the following Serialize method:
p23506
as(dp23507
g16
V29407
p23508
stp23509
a((dp23510
g2
(lp23511
VTry this:
p23512
aVand leave jQuery do the url encoding for you
p23513
as(dp23514
g16
V29407
p23515
stp23516
a((dp23517
g2
(lp23518
VCopy of data as int is a value type and is stored on the stack
p23519
aVAccording to the documentation the Copy method copies both the structure and data of the DataSet
p23520
aVSo ds will have the same structure as the original but if there are reference values stored inside both will point to the same memory location
p23521
aVOnly the reference is copied as  is a reference type
p23522
as(dp23523
g16
V29407
p23524
stp23525
a((dp23526
g2
(lp23527
s(dp23528
g16
V29407
p23529
stp23530
a((dp23531
g2
(lp23532
VHere's a full working example:
p23533
aVand web
p23534
aVconfig:
p23535
as(dp23536
g16
V29407
p23537
stp23538
a((dp23539
g2
(lp23540
VYou may try the following (not tested under all browsers):
p23541
as(dp23542
g16
V29407
p23543
stp23544
a((dp23545
g2
(lp23546
VYou need to catch the exception inside the callback (as in your example) to avoid propagating into the calling thread
p23547
aVThis is the recommended pattern
p23548
aVIf it is an ASP
p23549
aVNET application you could also handle it in the  method in
p23550
as(dp23551
g16
V29407
p23552
stp23553
a((dp23554
g2
(lp23555
VA partial view (
p23556
aVascx) is included from a view (
p23557
aVaspx)
p23558
aVIf this partial is strongly typed you pass the model from the view so you already have access to it:
p23559
as(dp23560
g16
V29407
p23561
stp23562
a((dp23563
g2
(lp23564
VHere's a nice blog post that you might find helpful
p23565
as(dp23566
g16
V29407
p23567
stp23568
a((dp23569
g2
(lp23570
VArray implements IEnumerable
p23571
aVQuote from the doc:
p23572
aVIn the
p23573
aVNET Framework version 2
p23574
aV0, the
p23575
aVArray class implements the
p23576
aVSystem
p23577
aVCollections
p23578
aVGeneric
p23579
aVIList(T),
p23580
aVSystem
p23581
aVCollections
p23582
aVGeneric
p23583
aVICollection(T),
p23584
aVand
p23585
aVSystem
p23586
aVCollections
p23587
aVGeneric
p23588
aVIEnumerable(T)
p23589
aVgeneric interfaces
p23590
aVThe
p23591
aVimplementations are provided to arrays
p23592
aVat run time, and therefore are not
p23593
aVvisible to the documentation build
p23594
aVtools
p23595
aVAs a result, the generic
p23596
aVinterfaces do not appear in the
p23597
aVdeclaration syntax for the Array
p23598
aVclass, and there are no reference
p23599
aVtopics for interface members that are
p23600
aVaccessible only by casting an array to
p23601
aVthe generic interface type (explicit
p23602
aVinterface implementations)
p23603
aVThe key
p23604
aVthing to be aware of when you cast an
p23605
aVarray to one of these interfaces is
p23606
aVthat members which add, insert, or
p23607
aVremove elements throw
p23608
aVNotSupportedException
p23609
as(dp23610
g16
V29407
p23611
stp23612
a((dp23613
g2
(lp23614
VSQL tables are mapped to classes so in order to retrieve all records from a table you write a query (HQL or Criteria) that fetches all the objects for a given typed mapped to this table:
p23615
aVor using HQL:
p23616
aVor LINQ:
p23617
as(dp23618
g16
V29407
p23619
stp23620
a((dp23621
g2
(lp23622
VThis helper must return string (ASP
p23623
aVNET MVC 1
p23624
aV0) or MvcHtmlString (ASP
p23625
aVNET MVC 2
p23626
aV0) which is written to the response stream (using ):
p23627
aVThis helper returns nothing (void) it simply executes the extension method:
p23628
as(dp23629
g16
V29407
p23630
stp23631
a((dp23632
g2
(lp23633
VNo it is not possible as you might have both  and  in this location
p23634
aVWhich one do you expect to return in this case
p23635
as(dp23636
g16
V29407
p23637
stp23638
a((dp23639
g2
(lp23640
VMake sure you have included the necessary script libraries:
p23641
as(dp23642
g16
V29407
p23643
stp23644
a((dp23645
g2
(lp23646
VIf the index has semantic importance put it into the model:
p23647
as(dp23648
g16
V29407
p23649
stp23650
a((dp23651
g2
(lp23652
VHTML is markup language, to achieve what you are looking for you will need to use javascript
p23653
aVAlso you might try googling
p23654
as(dp23655
g16
V29407
p23656
stp23657
a((dp23658
g2
(lp23659
s(dp23660
g16
V29407
p23661
stp23662
a((dp23663
g2
(lp23664
VBut I would recommend you using objects instead of strings:
p23665
as(dp23666
g16
V29407
p23667
stp23668
a((dp23669
g2
(lp23670
s(dp23671
g16
V29407
p23672
stp23673
a((dp23674
g2
(lp23675
VHere's what I may suggest: have a view model which reflects the fields of strongly typed view:
p23676
aVAnd in your controller action populate this view model:
p23677
aVOf course doing the mapping between the model and the view model manually as shown my example could become quite cumbersome and in this case I would recommend you looking at AutoMapper
p23678
as(dp23679
g16
V29407
p23680
stp23681
a((dp23682
g2
(lp23683
VI wrote a sample ASP
p23684
aVNET MVC application which uses FluentNHibernate among other open source frameworks
p23685
aVThe source code is available on github
p23686
aVAs requested in the comments section I've tried to summarize the important parts of setting FluentNhibernate with ASP
p23687
aVNET MVC:
p23688
aVStart by defining your model:
p23689
aVThen the repository that will allow you to access the model:
p23690
aVThen implement this repository:
p23691
aVSo far no FluentNHibernate specific parts
p23692
aVLet's define the mapping now:
p23693
aVAnd a Spring
p23694
aVNET session factory which uses SQLite but you could adapt as necessary:
p23695
aVNext we define a controller:
p23696
aVOnce we have all this in place we need to plumb the pieces together
p23697
aVAs we are using Spring
p23698
aVNET we need to provide a custom controller factory:
p23699
aVNext comes web
p23700
aVconfig:
p23701
aVAnd finally the springContext
p23702
aVxml:
p23703
as(dp23704
g16
V29407
p23705
stp23706
a((dp23707
g2
(lp23708
V doesn't consist of simply writing the file bytes to the request stream
p23709
aVYou need to respect the RFC 1867
p23710
aVYou may take a look at this post of how this could be done with multiple files
p23711
as(dp23712
g16
V29407
p23713
stp23714
a((dp23715
g2
(lp23716
VTriggering AJAX requests at regular intervals to a controller action that returns a partial view should suffice:
p23717
aVAnd in your javascript:
p23718
aVShould update  tag with  in the markup:
p23719
as(dp23720
g16
V29407
p23721
stp23722
a((dp23723
g2
(lp23724
VYes, by using Html Tidy or even an HTTP Module
p23725
as(dp23726
g16
V29407
p23727
stp23728
a((dp23729
g2
(lp23730
VThis should fix it:
p23731
aVNotice that the same key must be used ()
p23732
as(dp23733
g16
V29407
p23734
stp23735
a((dp23736
g2
(lp23737
VThe
p23738
aVNET framework consists of many components: the language compilers, the BCL, the CLR,
p23739
aVSome are written in unmanaged C++, other parts in managed
p23740
aVNET
p23741
as(dp23742
g16
V29407
p23743
stp23744
a((dp23745
g2
(lp23746
VBy specifying a launch condition in your setup project:
p23747
as(dp23748
g16
V29407
p23749
stp23750
a((dp23751
g2
(lp23752
VHere's a nice article and another one (which is more adapted to ASP
p23753
aVNET applications)
p23754
as(dp23755
g16
V29407
p23756
stp23757
a((dp23758
g2
(lp23759
VIt's a Global Attribute applied at the assembly level
p23760
as(dp23761
g16
V29407
p23762
stp23763
a((dp23764
g2
(lp23765
VThey are not missing only on TFS but on your local disk as well
p23766
aVSolution folders are different than physical folders and TFS tracks only files and physical folders
p23767
aVSo you could create the corresponding physical folder (manually outside Visual Studio) and add the files to this physical folder
p23768
as(dp23769
g16
V29407
p23770
stp23771
a((dp23772
g2
(lp23773
VTry increasing the maximum message size quota
p23774
as(dp23775
g16
V29407
p23776
stp23777
a((dp23778
g2
(lp23779
VYou could use the form's  event:
p23780
aVAlso why  in an ASP
p23781
aVNET MVC application
p23782
aVAlso you might consider specifying an  that this form is posting to and use the  helper as for your first form
p23783
as(dp23784
g16
V29407
p23785
stp23786
a((dp23787
g2
(lp23788
VThe difference is that an encrypted parameter that is sent with GET verb will be visible in the address bar while the one sent with the POST verb will not (of course this doesn't mean that the user cannot see the encrypted value)
p23789
aVAnother difference is in the allowed maximum length: GET requests are limited as urls are limited in browsers
p23790
aVThird difference: GET requests are logged in intermediary web servers they transit (web, proxy,
p23791
aVso if you use GET over the internet your encrypted parameter will definitely be logged on many machines before it arrives to your web server
p23792
as(dp23793
g16
V29407
p23794
stp23795
a((dp23796
g2
(lp23797
Vand to place it on some other part of the page:
p23798
aVyou could set the innerHTML:
p23799
as(dp23800
g16
V29407
p23801
stp23802
a((dp23803
g2
(lp23804
VYou could try the HostingEnvironment
p23805
aVApplicationPhysicalPath static property (assuming this is used in an ASP
p23806
aVNET application):
p23807
aVI different and IMHO better approach is to write a reusable function which takes the filename as parameter and which at the end of the day will be called from some WebForm where you will have access to
p23808
aVThe advantage of this is that this function is no longer dependent on the ASP
p23809
aVNET engine and could be reused in some other application where the filename will be calculated differently
p23810
aVSo basically separate the concerns:
p23811
aVCalculate the filename location
p23812
aVPass a filename to a function that does some parsing on it
p23813
as(dp23814
g16
V29407
p23815
stp23816
a((dp23817
g2
(lp23818
VMake sure you are calling the  method:
p23819
as(dp23820
g16
V29407
p23821
stp23822
a((dp23823
g2
(lp23824
VThe reason this happens is because the TextBox helper uses the value stored inside  because its name is  and completely ignores the second argument you are passing which is supposed to format the date
p23825
aVTry changing the name of the textbox
p23826
aVA better solution is to use editor templates and strongly typed views instead of
p23827
aVHere's an example
p23828
aVModel:
p23829
aVController:
p23830
aVView:
p23831
as(dp23832
g16
V29407
p23833
stp23834
a((dp23835
g2
(lp23836
s(dp23837
g16
V29407
p23838
stp23839
a((dp23840
g2
(lp23841
VStore it in the Application state
p23842
as(dp23843
g16
V29407
p23844
stp23845
a((dp23846
g2
(lp23847
VYou could serialize the instance of the object into either XML or binary file and use this file in your unit test to deserialize it back to the instance
p23848
as(dp23849
g16
V29407
p23850
stp23851
a((dp23852
g2
(lp23853
VThe reason your are getting  is because you never stubbed the  object in your unit test and when you invoke the controller action which uses  it throws
p23854
aVHere's how you could mock the context using :
p23855
aVAnd here's a better alternative (which I would personally recommend you) in order to avoid all the plumbing code
p23856
aVUsing  MVCContrib
p23857
aVTestHelper (which is based on ) your unit test might be simplified to this:
p23858
aVMuch prettier
p23859
aVIt also allows you to write much more expressive asserts on the action results
p23860
aVCheckout the doc or ask if for more info is needed
p23861
as(dp23862
g16
V29407
p23863
stp23864
a((dp23865
g2
(lp23866
VMake sure that both applications are configured to use the same machineKeys so that a forms authentication cookie created by the first could be decrypted by the second application
p23867
as(dp23868
g16
V29407
p23869
stp23870
a((dp23871
g2
(lp23872
VYou could write a custom service host factory where you could programatically configure the service instead of using a configuration file
p23873
aVThen in your
p23874
aVsvc markup file you configure  this custom factory:
p23875
as(dp23876
g16
V29407
p23877
stp23878
a((dp23879
g2
(lp23880
VWhat external connector
p23881
aVAs long as you have licences for Windows (the Server versions are recommended) and SQL Server you could host your site without needing to purchase additional licenses
p23882
aVInstall
p23883
aVNET and IIS on the web server and there shouldn't be any problems
p23884
aVIf by connector you mean database driver then it is already built into the framework (ADO
p23885
aVNET)
p23886
as(dp23887
g16
V29407
p23888
stp23889
a((dp23890
g2
(lp23891
VThis might be the virtual directory
p23892
aVDepending on where you are hosting your application (IIS or running in Visual Studio's built in web server) this is setup differently
p23893
aVIn order to avoid problems referencing static files you could use:
p23894
as(dp23895
g16
V29407
p23896
stp23897
a((dp23898
g2
(lp23899
VYou could annotate controllers that require SSL with the RequireHttps attribute or make them derive from a base controller that's marked with this attribute
p23900
as(dp23901
g16
V29407
p23902
stp23903
a((dp23904
g2
(lp23905
VA WCF service needs to be hosted somewhere
p23906
aVIf you don't want to use IIS you need to write a host application which could be console or a Windows NT service application
p23907
aVIf you choose to host your service in IIS, starting from IIS 7 you could use non HTTP bindings
p23908
as(dp23909
g16
V29407
p23910
stp23911
a((dp23912
g2
(lp23913
VYou could keep your initial implementation and use HttpSessionStateWrapper to handle the  case:
p23914
as(dp23915
g16
V29407
p23916
stp23917
a((dp23918
g2
(lp23919
VHere's how you could proceed:
p23920
aVModel:
p23921
aVController:
p23922
aVView:
p23923
aVPartial:
p23924
aVAnd finally here's a helper method you could use to generate this checkbox:
p23925
aVWhich simplifies the partial:
p23926
as(dp23927
g16
V29407
p23928
stp23929
a((dp23930
g2
(lp23931
VIf you intend to insert the string into the HTML markup then you need to HTML encode it:
p23932
aVor if you are using ASP
p23933
aVNET 4
p23934
aV0:
p23935
aVDoing this will properly encode any characters in the string
p23936
as(dp23937
g16
V29407
p23938
stp23939
a((dp23940
g2
(lp23941
VThe  property is what you need to use to verify if a checkbox is checked:
p23942
as(dp23943
g16
V29407
p23944
stp23945
a((dp23946
g2
(lp23947
VThis is a very broad question
p23948
aVThere are many tutorials out there on how to perform this
p23949
aVFor example as far as validation is concerned you might look at DataAnnotations which allow you to annotate your view models with attributes which will be used to perform server side and client side validation (if you enable it)
p23950
aVFor more advanced scenarios you could also take a look at FluentValidation
p23951
as(dp23952
g16
V29407
p23953
stp23954
a((dp23955
g2
(lp23956
VYou need to attach the  handler only after the form has been appended to the DOM
p23957
aVSo, you need to first make sure the  function is called and only then attach the event because if the form is not present in the DOM the jQuery won't do anything:
p23958
aVor simply attach the  handler inside the  function:
p23959
as(dp23960
g16
V29407
p23961
stp23962
a((dp23963
g2
(lp23964
VIf you don't handle transactions then each statement will be independent and might interfere with other users running the stored procedure at the same time
p23965
as(dp23966
g16
V29407
p23967
stp23968
a((dp23969
g2
(lp23970
VIf the site uses cookies to tracks users you need to use a cookie container in order to store the authentication cookie emitted by the server and reuse this cookie in later requests to access authenticated parts of the site
p23971
as(dp23972
g16
V29407
p23973
stp23974
a((dp23975
g2
(lp23976
VYou could write a custom virtual path provider or checkout Scripting ASP
p23977
aVNET MVC Views Stored In The Database
p23978
as(dp23979
g16
V29407
p23980
stp23981
a((dp23982
g2
(lp23983
VJSON is more compact than XML and will consume less bandwidth
p23984
aVIt is also easier to manipulate with javascript because you are working directly with objects while XML needs to be parsed
p23985
as(dp23986
g16
V29407
p23987
stp23988
a((dp23989
g2
(lp23990
VYou will see a request being made to the script in the  tab but the  tag won't be visible when inspecting the DOM
p23991
aVThis seems like a bug in FireBug
p23992
as(dp23993
g16
V29407
p23994
stp23995
a((dp23996
g2
(lp23997
VYou may try a free online conversion tool
p23998
as(dp23999
g16
V29407
p24000
stp24001
a((dp24002
g2
(lp24003
VRead the blogs, books, tutorials, watch videos, try sample applications and work at home
p24004
aVOnce you've mastered the new features of
p24005
aVNET 4
p24006
aV0 you will have arguments to convince managers to give you the chance to migrate
p24007
as(dp24008
g16
V29407
p24009
stp24010
a((dp24011
g2
(lp24012
VThis also works with relative url:
p24013
as(dp24014
g16
V29407
p24015
stp24016
a((dp24017
g2
(lp24018
VThe argument of the Sleep method is in milliseconds, so if you want to sleep for 10 minutes:
p24019
as(dp24020
g16
V29407
p24021
stp24022
a((dp24023
g2
(lp24024
VWhat comes after the  is the query string so it won't be reflected by the routing engine
p24025
aVSo your route might look like this:
p24026
aVAnd you would have the following controller:
p24027
aVUPDATE:
p24028
aVIf the  parameter is not optional you could provide a regex constraint:
p24029
as(dp24030
g16
V29407
p24031
stp24032
a((dp24033
g2
(lp24034
VThe way data annotation validation works is by applying special css classes to the fields containing errors and error messages are shown by html helpers that generate the corresponding divs
p24035
aVSo indeed the best option would be to return a partial view containing the form allowing you to show the error messages
p24036
aVIf you want to use  or  instead you will have to pass the validation errors manually in the response structure and handle it manually using javascript in the success callback
p24037
aVAs far as client-side validation is concerned, it will work because the form won't be submitted (using ajax or not) if validation fails
p24038
as(dp24039
g16
V29407
p24040
stp24041
a((dp24042
g2
(lp24043
VUse the  attribute on both the action that renders the form and the one you are posting to
p24044
as(dp24045
g16
V29407
p24046
stp24047
a((dp24048
g2
(lp24049
VASP
p24050
aVNET 4
p24051
aV0 installs the  ISAPI filter in order to map incoming request to the new CLR, but this filter is not registered as wildcard mapping but is associated only with known extensions
p24052
aVIt does not intercept every incoming request
p24053
aVIf you want to have extensionless urls you will need to perform the same steps as for ASP
p24054
aVNET 2
p24055
aV0 but use the new ISAPI filter instead
p24056
as(dp24057
g16
V29407
p24058
stp24059
a((dp24060
g2
(lp24061
VHow do I use it with ActionResults
p24062
aVthat are for HTTP POSTs
p24063
aVYou decorate the action that you are posting to with the  attribute:
p24064
aVIf you decide to give the POST action a different name:
p24065
aVYou need to supply this name in your helper methods:
p24066
aVHow do I use it with "URL querystring
p24067
aVparameters"
p24068
aVQuery string parameters are not part of the route definition
p24069
aVYou can always obtain them in a controller action either as action parameter or from
p24070
aVAs far as the  parameter is concerned it is configured in , so if you want it to appear in the query string instead of being part of the route simply remove it from this route definition:
p24071
as(dp24072
g16
V29407
p24073
stp24074
a((dp24075
g2
(lp24076
V doesn't work with child properties
p24077
aVYou will need to implement this interface by the view model you are binding to ()
p24078
aVIt is also considered as bad practice
p24079
aVAs an alternative you might look at DataAnnotations or FluentValidation for more advanced validation scenarios
p24080
as(dp24081
g16
V29407
p24082
stp24083
a((dp24084
g2
(lp24085
VIf you wrote an HTTP handler to compress static resources it's up to you to set up the  header based on the file type:
p24086
aVBtw I would recommend you to minify/compress your static resources in advance and rely on the web server's  compression and client caching
p24087
aVI would avoid writing such handlers if it's not education purposes
p24088
as(dp24089
g16
V29407
p24090
stp24091
a((dp24092
g2
(lp24093
VThe rendering is done on the server side and once the whole page is composed the resulting HTML is returned to the client
p24094
aVSo you cannot execute client scripts in this case
p24095
aVTo invoke some javascript once the page is loaded you could use the  event handler:
p24096
aVor if you use jQuery:
p24097
aVor if you use Prototype:
p24098
as(dp24099
g16
V29407
p24100
stp24101
a((dp24102
g2
(lp24103
VYou could use the
p24104
aVhover() event:
p24105
as(dp24106
g16
V29407
p24107
stp24108
a((dp24109
g2
(lp24110
V returns the file contents as string which is not useful for binary files such as images
p24111
aVTry this:
p24112
as(dp24113
g16
V29407
p24114
stp24115
a((dp24116
g2
(lp24117
VTry specifying the culture:
p24118
aVor set the UI culture globally
p24119
as(dp24120
g16
V29407
p24121
stp24122
a((dp24123
g2
(lp24124
VIf the database file is located in the same folder as the executable you could try this:
p24125
aVIf it is in a subfolder:
p24126
aVIf not use absolute path:
p24127
as(dp24128
g16
V29407
p24129
stp24130
a((dp24131
g2
(lp24132
VProbably it's a conflict between prototype and jquery as both use the $ function
p24133
aVThere's noConflict to handle this situation
p24134
aVAlso instead of mixing markup and javascript define the onchange of the select unobtrusively:
p24135
as(dp24136
g16
V29407
p24137
stp24138
a((dp24139
g2
(lp24140
VWhat you have is not JSON text
p24141
aVIt is already a JSON object
p24142
aVSo you don't need to use  at all
p24143
aVYou can directly access and manipulate its properties:
p24144
as(dp24145
g16
V29407
p24146
stp24147
a((dp24148
g2
(lp24149
VTake a look at this blog post:
p24150
aVTake, for example, a simple math library
p24151
aVIt has a static Sum method, and an instance Product method:
p24152
aVCompile and run in Powershell:
p24153
as(dp24154
g16
V29407
p24155
stp24156
a((dp24157
g2
(lp24158
VOn StackOverflow the  part is completely ignored
p24159
aVIt's the id that is important
p24160
aVThis works: http://stackoverflow
p24161
aVcom/questions/3079363/blabla and links to this question
p24162
aVTo generate links that contain the  in the URL you could define the following route:
p24163
aVAnd then:
p24164
as(dp24165
g16
V29407
p24166
stp24167
a((dp24168
g2
(lp24169
VBecause you need to use a cookie container
p24170
as(dp24171
g16
V29407
p24172
stp24173
a((dp24174
g2
(lp24175
V contains only properties that have been posted either through text fields or hidden fields
p24176
aVSo if you need to use the  property in your controller action you need to include it in your form
p24177
aVDepending on what you are doing in your controller action you might or might not include it
p24178
aVIt is not necessary to include hidden fields for each property
p24179
aVUsually the  is sufficient because it allows you to later retrieve the object from your data store given this id
p24180
as(dp24181
g16
V29407
p24182
stp24183
a((dp24184
g2
(lp24185
VIMHO using an ORM is a good design decision in order to have a database agnostic application
p24186
aVSwitching database might be as easy as changing a config setting and connection string
p24187
as(dp24188
g16
V29407
p24189
stp24190
a((dp24191
g2
(lp24192
VI would strongly recommend you looking at MVCContrib
p24193
aVTestHelper which uses  and provides an elegant way to test your controllers
p24194
aVHere's how your test might look like:
p24195
aVAnd here's an unit test for a controller that is part of a sample ASP
p24196
aVNET MVC application I wrote
p24197
as(dp24198
g16
V29407
p24199
stp24200
a((dp24201
g2
(lp24202
VYou could explicitly specify the view to return:
p24203
aVThis way error information will be preserved and correct view rendered
p24204
as(dp24205
g16
V29407
p24206
stp24207
a((dp24208
g2
(lp24209
VYou could decorate the model property with the  attribute:
p24210
aVModel:
p24211
aVController:
p24212
aVView:
p24213
as(dp24214
g16
V29407
p24215
stp24216
a((dp24217
g2
(lp24218
VIf you are using IIS 7 you could take a look at the Dynamic IP Restrictions Extension
p24219
aVAnother possibility is to implement this as an action filter:
p24220
aVAnd then decorate the action that needs to be limited:
p24221
as(dp24222
g16
V29407
p24223
stp24224
a((dp24225
g2
(lp24226
VI would probably separate the coupling between  and the controller by introducing an abstraction:
p24227
aVNext you pass this into the controller:
p24228
aVAnd in your unit test you would use your favorite mocking framework to stub this mapper
p24229
as(dp24230
g16
V29407
p24231
stp24232
a((dp24233
g2
(lp24234
VI would recommend you looking at the FluentValidation library which integrates nicely with ASP
p24235
aVNET MVC
p24236
as(dp24237
g16
V29407
p24238
stp24239
a((dp24240
g2
(lp24241
VYou could use reflection:
p24242
aVOr if it is a static method:
p24243
as(dp24244
g16
V29407
p24245
stp24246
a((dp24247
g2
(lp24248
VYou could use the null-coalescing operator to ensure that the  variable is never null:
p24249
as(dp24250
g16
V29407
p24251
stp24252
a((dp24253
g2
(lp24254
s(dp24255
g16
V29407
p24256
stp24257
a((dp24258
g2
(lp24259
VYou don't need to dispose the stream
p24260
aVIt will be disposed by the FileStreamResult
p24261
aVWriteFile method
p24262
aVCode excerpt from this class:
p24263
aVNotice the
p24264
aVWhen you call  from your controller this invokes the constructor which stores the stream into a public property which is disposed during the rendering
p24265
aVConclusion: you don't need to worry about disposing the stream obtain with
p24266
as(dp24267
g16
V29407
p24268
stp24269
a((dp24270
g2
(lp24271
VThere's an additional argument which takes a TextWriter:
p24272
aVThe question here is why would you need to instantiate a  yourself instead of using the one that's provided in the views
p24273
as(dp24274
g16
V29407
p24275
stp24276
a((dp24277
g2
(lp24278
VThe bug is that  is  and you are trying to assign it to
p24279
as(dp24280
g16
V29407
p24281
stp24282
a((dp24283
g2
(lp24284
VYou could use the Initialize method
p24285
aVHave a base controller that defines this protected property and in the  method set the value
p24286
aVThen as all your controllers derive from the base controller they will have access to the property
p24287
as(dp24288
g16
V29407
p24289
stp24290
a((dp24291
g2
(lp24292
VIn your code behind:
p24293
as(dp24294
g16
V29407
p24295
stp24296
a((dp24297
g2
(lp24298
VYou could always implement your own authorization attribute:
p24299
as(dp24300
g16
V29407
p24301
stp24302
a((dp24303
g2
(lp24304
VYou could always add a custom HTTP header in your LogOn action which could be intercepted by AJAX calls and act accordingly:
p24305
aVAnd in the success callback check for the presence of this header:
p24306
as(dp24307
g16
V29407
p24308
stp24309
a((dp24310
g2
(lp24311
VDownload Visual Studio 2010 Express Edition, start reading books and tutorials and arm yourself with patience
p24312
as(dp24313
g16
V29407
p24314
stp24315
a((dp24316
g2
(lp24317
VIt is difficult to say what you have to test in your controllers without showing them
p24318
aVYou say they are basic CRUD but then you talk about AutoMapper, so probably it's not as simple as that
p24319
aVHere's an example of unit test I wrote and the controller being tested
p24320
as(dp24321
g16
V29407
p24322
stp24323
a((dp24324
g2
(lp24325
VHere's an example:
p24326
aVBut quite honestly FluentValidation is much more powerful
p24327
as(dp24328
g16
V29407
p24329
stp24330
a((dp24331
g2
(lp24332
VAre you positive that the action you are hitting is not decorated with  attribute
p24333
aVThis exception is thrown only if you have the attribute
p24334
as(dp24335
g16
V29407
p24336
stp24337
a((dp24338
g2
(lp24339
VThe documentation explains it very well
p24340
aVIt also contains examples:
p24341
aVremove()
p24342
aVempty()
p24343
aVbefore:
p24344
aVremove():
p24345
aVafter:
p24346
aVbefore:
p24347
aVempty():
p24348
aVafter:
p24349
aVAs far as memory is concerned, once an element is removed from the DOM and there are no more references to it the garbage collector will reclaim the memory when it runs
p24350
as(dp24351
g16
V29407
p24352
stp24353
a((dp24354
g2
(lp24355
VTry calling the  method at the end:
p24356
aVOr if you prefer put it into the web
p24357
aVconfig:
p24358
aVand then:
p24359
aVAlso make sure that the  assembly is referenced in your web project
p24360
as(dp24361
g16
V29407
p24362
stp24363
a((dp24364
g2
(lp24365
VIf sliding expiration is enabled you could indeed poll the server at regular intervals to ensure that the session doesn't expire
p24366
as(dp24367
g16
V29407
p24368
stp24369
a((dp24370
g2
(lp24371
VTest Driven Development is an Agile practice and ASP
p24372
aVNET MVC makes it easier to do this kind of development in contrast to WebForms for example
p24373
aVBut I wouldn't say that ASP
p24374
aVNET MVC is agile
p24375
aVIt is a pattern for developing applications
p24376
as(dp24377
g16
V29407
p24378
stp24379
a((dp24380
g2
(lp24381
VMost of it is CSS and jQuery so no ASP
p24382
aVNET MVC specific
p24383
aVModel:
p24384
aVController:
p24385
aVView:
p24386
aVOf course this is only a sample where markup, style and scripts are mixed in the same page
p24387
aVIn a real world application, CSS and scripts should be externalized
p24388
as(dp24389
g16
V29407
p24390
stp24391
a((dp24392
g2
(lp24393
VASP
p24394
aVNET MVC is based on ASP
p24395
aVNET so if you know ASP
p24396
aVNET it will be a plus but in my opinion it is not necessary
p24397
aVIf your last experience with the web is with PHP in 2000 you should be aware that many things have changed since
p24398
aVASP
p24399
aVNET MVC is not as mature as WebForms so in terms of components support there's much less
p24400
aVThis doesn't mean that you won't be able to develop rich internet applications it's just that there are less components out of the box
p24401
as(dp24402
g16
V29407
p24403
stp24404
a((dp24405
g2
(lp24406
VThere's an article on CodeProject that should get you started
p24407
as(dp24408
g16
V29407
p24409
stp24410
a((dp24411
g2
(lp24412
VYou could use the  function to get the selected values
p24413
aVFor a multi select it returns an array of the selected values or null if no element has been selected:
p24414
as(dp24415
g16
V29407
p24416
stp24417
a((dp24418
g2
(lp24419
VFrom what you've provided it is impossible to say why it doesn't work as you haven't shown neither the controller, nor the view model
p24420
aVHere's an example that works:
p24421
aVModel:
p24422
aVController:
p24423
aVView:
p24424
as(dp24425
g16
V29407
p24426
stp24427
a((dp24428
g2
(lp24429
VThe code you've shown definitely works:
p24430
as(dp24431
g16
V29407
p24432
stp24433
a((dp24434
g2
(lp24435
VPhil Haack blogged about this
p24436
as(dp24437
g16
V29407
p24438
stp24439
a((dp24440
g2
(lp24441
VHere's an example
p24442
aVLet's suppose that you want to wrap the links into a  tag with some given class so that your resulting html looks like this:
p24443
aVYou could write the following extension method:
p24444
aVwhich could be used like this:
p24445
aVand this will produce the desired markup
p24446
aVAny other overloads of  could be used if necessary
p24447
as(dp24448
g16
V29407
p24449
stp24450
a((dp24451
g2
(lp24452
VDepending on what exactly you are trying to test there might be different approaches
p24453
aVIf you want to test the data access logic then this is no longer unit test but integration test
p24454
aVFor this kind of tests it is a good idea to be able to easily replace the real database with some lighter maybe even in-memory database like SQLite which will be reconstructed before running each test
p24455
aVIf you are using an ORM this task is easy
p24456
aVAll you need to do is to generate SQL scripts (INSERT INTO
p24457
aVfrom your existing database, modify and adapt the dialect to SQLite (if necessary), read and inject into a SQLite file and finally all that's left is to instruct your data access layer to use SQLite dialect and connection string for the unit test
p24458
aVNow if you are not using an ORM and your data access logic is tied to MSSQL things get uglier you will need a live database in order to perform those integration tests
p24459
aVIn this case I would suggest you duplicate your real database which you would use for the tests by modifying only the connection string
p24460
aVOnce again you will need to properly  and  (preferably in a transaction) this test database in order to put it into a known state for the tests
p24461
aVIf you want to test code that depends on those repositories (such as your controllers for example) you don't need to even bother about mocking the data as your controllers depend on abstract repositories and not the real implementations (aren't they), so you could easily mock the methods of the repository in order to test the logic in the controllers
p24462
as(dp24463
g16
V29407
p24464
stp24465
a((dp24466
g2
(lp24467
VFor a designer it's a step backwards in code readability, there are no two opinions here
p24468
aVFrom a developer standpoint it will depend
p24469
aVSome like it others don't
p24470
aVPersonally I like it and prefer it compared to the more standard  technique
p24471
aVWhy
p24472
aVYou start with a simple  and a
p24473
aVThen some user says that you need to handle alternating row styles
p24474
aVYou start by adding
p24475
aVThen another user says that you need to be able to order by given column
p24476
aVYou handle this with yet another
p24477
aVA third user asks you to handle paging => yet another  and  in your view
p24478
aVYou end up with spaghetti
p24479
aVConclusion: use the right gun for the right target
p24480
aVFor simple tables the conventional approach works nicely, but once you start doing more advanced stuff use helpers
p24481
as(dp24482
g16
V29407
p24483
stp24484
a((dp24485
g2
(lp24486
VHere are the steps to get this working:
p24487
aVDownload the XML-RPC for WCF sample
p24488
aVThe solution contains 3 projects: ,  and
p24489
aVAdd a 4th project to the solution of type ASP
p24490
aVNET (I've called it )
p24491
aVIn the new project reference  and
p24492
aVAdd a test
p24493
aVsvc file to this web application which looks like this:
p24494
aVAdd a  class to the new project:
p24495
aVFinally the  part of  should look like this:
p24496
aVFinally modify the console client application to use the address of the web project and test:
p24497
aVTested with Windows Live Writer and the console client application
p24498
aVYou can download my test solution from here
p24499
as(dp24500
g16
V29407
p24501
stp24502
a((dp24503
g2
(lp24504
VQuestion 1:
p24505
aVQuestion 2:
p24506
aVAs you are using class initializer syntax () the  will be null in the constructor of the  class but does it matter
p24507
aVYou shouldn't be using the  property there
p24508
aVIn the  partial it will be initialized
p24509
aVIf you need to use it in the constructor (I don't see why you would need it) you could add it as constructor argument
p24510
as(dp24511
g16
V29407
p24512
stp24513
a((dp24514
g2
(lp24515
VIn order to autoincrement the version of the assembly at each build you could use the following assembly attribute:
p24516
aVand to read the version at runtime of the currently executing assembly you could use the Version property:
p24517
as(dp24518
g16
V29407
p24519
stp24520
a((dp24521
g2
(lp24522
VThe way this helper works is it tries to determine the URL based on the lambda expression which should always be a method call on the controller
p24523
aVThis way it knows the action name and parameters passed
p24524
aVIf the lambda expression is no longer a  it is impossible to determine the URL
p24525
as(dp24526
g16
V29407
p24527
stp24528
a((dp24529
g2
(lp24530
V points to a  and there's no  function for a div, so you cannot replace it
p24531
as(dp24532
g16
V29407
p24533
stp24534
a((dp24535
g2
(lp24536
VYou could use the
p24537
aVheight() function:
p24538
as(dp24539
g16
V29407
p24540
stp24541
a((dp24542
g2
(lp24543
VYou could take a look at the ClearAllPools static method
p24544
as(dp24545
g16
V29407
p24546
stp24547
a((dp24548
g2
(lp24549
s(dp24550
g16
V29407
p24551
stp24552
a((dp24553
g2
(lp24554
VYou could define an indexed property to the  class:
p24555
as(dp24556
g16
V29407
p24557
stp24558
a((dp24559
g2
(lp24560
VMake sure that your  collection in the controller contains an element with
p24561
aVThis being said as you've tagged your question with  checkout this answer for a better way to handle drop down lists using strongly typed views and helpers
p24562
as(dp24563
g16
V29407
p24564
stp24565
a((dp24566
g2
(lp24567
VCLR version is set in IIS per application pool => if you want to have two applications running two different CLR versions (2
p24568
aV0 and 4
p24569
aV0) you need to create two application pools
p24570
aVOnce you create a second application pool you add a virtual directory and assign it to this application pool
p24571
aVAs for the SSO if you are using  all that's necessary is to use the same  section in both applications
p24572
aVIn order for an authentication cookie created by the first application to be decrypted by the second same machine keys need to be used => check out this article
p24573
as(dp24574
g16
V29407
p24575
stp24576
a((dp24577
g2
(lp24578
VYou could use LoadFrom:
p24579
aVNote that this will also load referenced assemblies into the application domain running this code
p24580
aVIf you don't want this behavior you could use the LoadFile method
p24581
aVUPDATE:
p24582
aVYou can check the assembly identity before loading it to make sure that it has not been tampered with:
p24583
as(dp24584
g16
V29407
p24585
stp24586
a((dp24587
g2
(lp24588
VNo need of  loops
p24589
aVAll that you need is:
p24590
aVThis will automatically call your  editor template for each item in the  collection of your model
p24591
aVSo just make sure the controller initializes it to some value
p24592
aVIt will automatically take care of generating correct names for the inputs in the editor template so that the model binding works
p24593
aVis an ASP
p24594
aVNET 4
p24595
aV0 only and is equivalent to  but if you are using
p24596
aVNET 3
p24597
aV5 it won't be available to you
p24598
aVNotice also the absence of  at the end of the  helper when used with
p24599
as(dp24600
g16
V29407
p24601
stp24602
a((dp24603
g2
(lp24604
VYou could use jQuery to modify the form action before submitting:
p24605
as(dp24606
g16
V29407
p24607
stp24608
a((dp24609
g2
(lp24610
s(dp24611
g16
V29407
p24612
stp24613
a((dp24614
g2
(lp24615
VIn order to invoke a SOAP web service you will need to POST a XML request in a SOAP envelope
p24616
aVThat's what the generated classes using  do behind the scenes
p24617
aVUnless you have a compelling reason you should never invoke a SOAP web service using the low level classes such as HttpWebRequest but generate a proxy from the WSDL using
p24618
aVTake a look at this MSDN article
p24619
aVAlso note that classic ASMX web services is now considered a deprecated technology and should be replaced by WCF
p24620
as(dp24621
g16
V29407
p24622
stp24623
a((dp24624
g2
(lp24625
VThis error could happen if you forgot to reference the jQuery library in your page:
p24626
aVIt could also happen if you are using other js libraries such as prototypejs which also use the  function and there could be a conflict
p24627
aVIf this is the case you may take a look at this article on how to resolve the issue
p24628
as(dp24629
g16
V29407
p24630
stp24631
a((dp24632
g2
(lp24633
VIMHO this will depend on your general programming level
p24634
aVIf this is your first encounter with programming I think that a book would be better than MSDN
p24635
aVIf on the other hand you have experience with similar technologies such as Java there's no reason MSDN wouldn't be enough as it contains extensive documentation, many tutorials and samples
p24636
as(dp24637
g16
V29407
p24638
stp24639
a((dp24640
g2
(lp24641
VVB
p24642
aVNET definitely supports LINQ syntax
p24643
aVAs far as web services are concerned I see no relation with LINQ
p24644
as(dp24645
g16
V29407
p24646
stp24647
a((dp24648
g2
(lp24649
VIf you are using an out-of-process storage for the session such as SQL Server or state process you need to decorate the objects that you intend to store in session with the  attribute because they need to be transmitted over the wire and saved as a binary representation
p24650
aVLater when you try to read them from the session ASP
p24651
aVNET will fetch this binary representation over the wire and deserialize them back to the original object
p24652
as(dp24653
g16
V29407
p24654
stp24655
a((dp24656
g2
(lp24657
VUsually the index is part of the parameter name:
p24658
aVAnd if you have a controller action that looks like this:
p24659
aVUPDATE:
p24660
aVLet's suppose that you have multiple parameters with the same name in the query string
p24661
aVThis query string will be parsed by the ASP
p24662
aVNET engine by the native HttpRequest object be convert into a NameValueCollection and more precisely a custom implementation called
p24663
aVThis class is internal to ASP
p24664
aVNET which means that it is not documented and it might change with versions of
p24665
aVNET
p24666
aVLooking at it with Reflector there is the  and the way it is implemented it seems to preserve the order
p24667
aVBut this is something I wouldn't rely on
p24668
as(dp24669
g16
V29407
p24670
stp24671
a((dp24672
g2
(lp24673
VCheckout this answer
p24674
as(dp24675
g16
V29407
p24676
stp24677
a((dp24678
g2
(lp24679
VTake a look at this blog post from Phil Haack which demonstrates how to setup client validation for custom attributes
p24680
aVBasically you will need to write and register a custom
p24681
as(dp24682
g16
V29407
p24683
stp24684
a((dp24685
g2
(lp24686
VIf this is IIS 6 you will need a wildcard mapping
p24687
aVSee this blog post from Phil Haack
p24688
as(dp24689
g16
V29407
p24690
stp24691
a((dp24692
g2
(lp24693
VWhen you submit the form values are sent along the request (in the URL if GET and in the request body if POST) and if the controller action renders the same view without redirecting the HTML helpers that were used to render those textboxes will fetch the values from the request show it
p24694
aVIndeed there's no such concept as viewstate
p24695
as(dp24696
g16
V29407
p24697
stp24698
a((dp24699
g2
(lp24700
VYou may adjust as necessary the min and max length of each part and the set of accepted characters
p24701
as(dp24702
g16
V29407
p24703
stp24704
a((dp24705
g2
(lp24706
VTo avoid this sort of problems never hardcode links like this
p24707
aVUse helper methods instead:
p24708
as(dp24709
g16
V29407
p24710
stp24711
a((dp24712
g2
(lp24713
VYou may take a look at the jquery autocomplete plugin
p24714
as(dp24715
g16
V29407
p24716
stp24717
a((dp24718
g2
(lp24719
VIn C# members are sealed by default meaning that you cannot override them (unless marked with the  or  keywords) and this for performance reasons
p24720
aVThe new modifier is used to explicitly hide an inherited member
p24721
as(dp24722
g16
V29407
p24723
stp24724
a((dp24725
g2
(lp24726
VNo it won't be called
p24727
aVIDisposable is used for deterministic finalization usually used in conjunction with the  statement
p24728
aVYou could call the Dispose method in the  though
p24729
as(dp24730
g16
V29407
p24731
stp24732
a((dp24733
g2
(lp24734
VYou may checkout protobuf-net or simply serialize it yourself which will probably be the fastest you can get
p24735
aVsize of resulting file => 90M bytes (85
p24736
aV8MB)
p24737
as(dp24738
g16
V29407
p24739
stp24740
a((dp24741
g2
(lp24742
VTry this hack:
p24743
aVwhere  is a hidden  button inside your form
p24744
aVAlso the  button doesn't need to be a  button if it is not placed inside a
p24745
as(dp24746
g16
V29407
p24747
stp24748
a((dp24749
g2
(lp24750
VThe reason you are getting this error is because your file has an  extension and not
p24751
aVRead the error message carefully:
p24752
aVErrorCode=-2147467259
p24753
aVWebEventCode=0
p24754
aVFileName=C:\u005cDocuments and
p24755
aVSettings\u005cbquakkelaar\u005cDesktop\u005cdropstuff\u005casp
p24756
aVnet
p24757
aVmvc\u005cgenesis\u005cgenesis\u005cViews\u005cShared\u005cEditorTemplates\u005cArticlePresentation
p24758
aVaspx
p24759
aVNow rename the file to  and everything will work as expected
p24760
aVAlso you could replace this line:
p24761
aVwith this:
p24762
as(dp24763
g16
V29407
p24764
stp24765
a((dp24766
g2
(lp24767
VYou could use an ORM to do this
p24768
aVADO
p24769
aVNET Entity Framework (checkout the video tutorials) and NHibernate are popular choices
p24770
as(dp24771
g16
V29407
p24772
stp24773
a((dp24774
g2
(lp24775
VSelect the code block and press Ctrl+K+F
p24776
as(dp24777
g16
V29407
p24778
stp24779
a((dp24780
g2
(lp24781
VThis will depend on your scenario
p24782
aVIf this instance is tied to a particular user and should not be shared between other users you should use
p24783
aVFor example use  to store products that the user added to his cart in an e-commerce application
p24784
aVIf it is for injecting dependencies such as repositories into your controllers and managing controllers  is fine
p24785
as(dp24786
g16
V29407
p24787
stp24788
a((dp24789
g2
(lp24790
VYou cannot write recursive queries with LINQ
p24791
as(dp24792
g16
V29407
p24793
stp24794
a((dp24795
g2
(lp24796
VYou may take a look at this one
p24797
as(dp24798
g16
V29407
p24799
stp24800
a((dp24801
g2
(lp24802
VYou could use the
p24803
aVhover function:
p24804
aVwhere you have the two divs:
p24805
aVUPDATE:
p24806
aVAs mentioned in the comments section the second div will disappear if the mouse leaves the first
p24807
aVThere are many plugins out there that would allow you to achieve the desired behavior
p24808
aVThis one looks particularly nice
p24809
as(dp24810
g16
V29407
p24811
stp24812
a((dp24813
g2
(lp24814
VExpression can be built at runtime, function not (unless you use reflection emit)
p24815
aVOnce you build the expression tree you can compile it and turn it into a function pointer which can be invoked
p24816
aVFunc is a pointer to some already existing function which can no longer be modified while Expression represents the code of some function that doesn't exist until you compile it
p24817
as(dp24818
g16
V29407
p24819
stp24820
a((dp24821
g2
(lp24822
VDynamic languages like Python, Ruby,
p24823
as(dp24824
g16
V29407
p24825
stp24826
a((dp24827
g2
(lp24828
VHere's an article which demonstrates such queries using the ROW_NUMBER function
p24829
as(dp24830
g16
V29407
p24831
stp24832
a((dp24833
g2
(lp24834
VYou could use the  function:
p24835
aVAnd later when you close the modal dialog:
p24836
as(dp24837
g16
V29407
p24838
stp24839
a((dp24840
g2
(lp24841
VThe problem is with your  handler
p24842
aVIt should be like this:
p24843
aVAlso notice the usage of a hash for the  parameter which allows to properly URL encode values
p24844
as(dp24845
g16
V29407
p24846
stp24847
a((dp24848
g2
(lp24849
VHere's a nice article you may take a look at
p24850
as(dp24851
g16
V29407
p24852
stp24853
a((dp24854
g2
(lp24855
VThe selected ids will be sent as a collection:
p24856
aVIf the form contains other elements that need to be posted you could update your model:
p24857
aVand have your action method look like this:
p24858
as(dp24859
g16
V29407
p24860
stp24861
a((dp24862
g2
(lp24863
VYou need to attach the click handler in the document
p24864
aVready in order to make sure that the DOM has been loaded by the browser and all the elements are available:
p24865
aVAlso you forgot to put parenthesis  next to the anonymous function in the  handler
p24866
as(dp24867
g16
V29407
p24868
stp24869
a((dp24870
g2
(lp24871
VSuppose the user enters  in the text field and submits the form
p24872
aVThe default model binder runs and tries to bind what the user entered to your model
p24873
aVThe  property is of type  and as you know this type contains an hour part
p24874
aVSo now
p24875
aVValidation kicks in next
p24876
aVThe  property is decorated with the  attribute so the  method is called with the string value of  which fails against your pattern
p24877
aVThe corresponding error message is shown to the user
p24878
aVSo the usage of this regular expression attribute is questionable
p24879
aVRegularExpressionAttribute works fine with string properties though
p24880
aVIf the user enters an invalid date the model binder will protest anyway much before the validation happens
p24881
aVIt will also check for invalid days and months which your regular expression doesn't
p24882
as(dp24883
g16
V29407
p24884
stp24885
a((dp24886
g2
(lp24887
VWriting an html helper for those buttons could be one way of doing it
p24888
aVAssuming the standard routing is set:
p24889
aVhere's how the helper might look like:
p24890
aVand finally add to your view:
p24891
aVTo further improve the helper you could add additional parameters that will contain the action and the controller this button will redirect to when clicked
p24892
as(dp24893
g16
V29407
p24894
stp24895
a((dp24896
g2
(lp24897
s(dp24898
g16
V29407
p24899
stp24900
a((dp24901
g2
(lp24902
VUse a dynamic list instead of a fixed length array:
p24903
as(dp24904
g16
V29407
p24905
stp24906
a((dp24907
g2
(lp24908
VWhy do you need a generic event
p24909
aVCan't you just use a normal event:
p24910
aVand then
p24911
aVIn the Success event handler you will know the type of the object being passed:
p24912
as(dp24913
g16
V29407
p24914
stp24915
a((dp24916
g2
(lp24917
VYou don't need to download the source code or remove references from the GAC
p24918
aVJust follow the steps described in this blog post
p24919
aVUncheck: Enable Just My Code (Managed only)
p24920
aVCheck: Enable source server support
p24921
aVAdd symbols server: In VS2010 you only need to check the , no need to enter url, in VS2008 you need to enter the url
p24922
aVCreate a new ASP
p24923
aVNET MVC application, put a breakpoint in your controller action and when the breakpoint gets hit, load the symbols for the  assembly from the call stack and once the symbols are loaded you will be able to step through the source code (after accepting the terms and conditions)
p24924
as(dp24925
g16
V29407
p24926
stp24927
a((dp24928
g2
(lp24929
VThe dot added to the name is used by the default model binder when the form is submitted in order to correctly populate the model
p24930
aVAs far as validation is concerned you could set it like this:
p24931
as(dp24932
g16
V29407
p24933
stp24934
a((dp24935
g2
(lp24936
VNo there isn't more convenient way
p24937
aVOnce the DLL is loaded into memory by IIS it is locked and cannot be modified
p24938
aVYou could write a simple VB script client in order to test the ActiveX without passing by IIS
p24939
as(dp24940
g16
V29407
p24941
stp24942
a((dp24943
g2
(lp24944
VDepends on what functionality you are looking for
p24945
aVWhile javascript has much evolved recently and many frameworks were introduced it cannot be compared to Flash in terms of creating rich web interfaces
p24946
aVI think though that progressively new concepts will be introduced like HTML5, usage of the GPU and HTML + javascript might one day fill the gap
p24947
as(dp24948
g16
V29407
p24949
stp24950
a((dp24951
g2
(lp24952
VYou are probably referring to checked exceptions
p24953
aVThey are used to indicate that a method  could potentially throw one of the listed exceptions so that the callers need to explicitly catch them or be marked with the same exceptions list
p24954
as(dp24955
g16
V29407
p24956
stp24957
a((dp24958
g2
(lp24959
VOf the three only javascript is a programming language
p24960
aVjQuery is a framework that is based on javascript and that simplifies some tedious tasks like manipulating the DOM, adding some effects and animations and most importantly doing it in a cross browser fashion
p24961
aVOne of the tasks that is simplified by jQuery is AJAX which is a concept allowing a browser to send an asynchronous request to a web server allowing for richer web applications
p24962
as(dp24963
g16
V29407
p24964
stp24965
a((dp24966
g2
(lp24967
VContinue to maintain sites for IE6
p24968
as(dp24969
g16
V29407
p24970
stp24971
a((dp24972
g2
(lp24973
VYou could use the TOP clause:
p24974
aVIf your database doesn't support it you may try also  and  but once again this will depend on the database you are using
p24975
as(dp24976
g16
V29407
p24977
stp24978
a((dp24979
g2
(lp24980
VYou could use the JavaScriptSerializer class:
p24981
aVExample usage:
p24982
aVUPDATE:
p24983
aVDidn't notice you wanted a solution using the Json
p24984
aVNET library
p24985
aVHere's one:
p24986
as(dp24987
g16
V29407
p24988
stp24989
a((dp24990
g2
(lp24991
VIf you are using the WebForms view engine with C# here's how your code might look like:
p24992
aVThis assumes that your view is strongly typed to a model class and that the controller action provided to the view an instance of this model
p24993
aVAs you can see this syntax turns quickly into a tag soup as mixing markup with server side code is ugly
p24994
aVTo solve this you could write a custom HTML helper method that will be responsible for properly formatting
p24995
aVLet's take for example this snippet:
p24996
aVHere's how a potential helper method might look like:
p24997
aVwhich could be used like this in the  loop:
p24998
as(dp24999
g16
V29407
p25000
stp25001
a((dp25002
g2
(lp25003
VYou cannot do this as jQuery knows nothing about php functions
p25004
aVAn AJAX call is always performed to some server side script in which processing takes place and returns the result
p25005
aVSo you could call this function in the  script
p25006
as(dp25007
g16
V29407
p25008
stp25009
a((dp25010
g2
(lp25011
VIt is a good practice to serve static resources such as images and css from a cookie-free domain
p25012
as(dp25013
g16
V29407
p25014
stp25015
a((dp25016
g2
(lp25017
VThis will depend on your routes but assuming you are using the default route:
p25018
aVYou can always optional route values to blank:
p25019
as(dp25020
g16
V29407
p25021
stp25022
a((dp25023
g2
(lp25024
VYou may take a look at this blog post which contains useful links
p25025
as(dp25026
g16
V29407
p25027
stp25028
a((dp25029
g2
(lp25030
VI would recommend you having repositories containing atomic operations with the model classes and service layer which depends on those repositories to define business operations
p25031
aVThe concept of AOP could be used to automatically start a SQL transaction at the beginning of each business operation and commit at the end or rollback in case of exception
p25032
aVFinally controllers will use those service classes and convert between the domain models and view models
p25033
as(dp25034
g16
V29407
p25035
stp25036
a((dp25037
g2
(lp25038
VOnce you've downloaded the appropriate driver you reference the assembly in your project you could perform SQL queries against the database:
p25039
aVReading the technical articles accompanying the driver might also be useful
p25040
as(dp25041
g16
V29407
p25042
stp25043
a((dp25044
g2
(lp25045
VCurrently this is not supported
p25046
as(dp25047
g16
V29407
p25048
stp25049
a((dp25050
g2
(lp25051
VTry like this:
p25052
as(dp25053
g16
V29407
p25054
stp25055
a((dp25056
g2
(lp25057
VBecause the  method always returns  if the parsing succeeds and  if not
p25058
aVIn the first case the parsing succeeds so  which is not what you assert
p25059
aVBtw the second test will also fail unless you write
p25060
as(dp25061
g16
V29407
p25062
stp25063
a((dp25064
g2
(lp25065
s(dp25066
g16
V29407
p25067
stp25068
a((dp25069
g2
(lp25070
V generates an anchor tag which always performs GET request
p25071
aVIn order to perform a POST request you could either use AJAX or an HTML form
p25072
aVHere's an example with HTML form:
p25073
as(dp25074
g16
V29407
p25075
stp25076
a((dp25077
g2
(lp25078
VYou are supposed to install ASP
p25079
aVNET MVC separately on the server and this assembly will be deployed in the GAC
p25080
as(dp25081
g16
V29407
p25082
stp25083
a((dp25084
g2
(lp25085
VInstead of using the RedirectFromLoginPage method you could use the SetAuthCookie method and then redirect manually:
p25086
as(dp25087
g16
V29407
p25088
stp25089
a((dp25090
g2
(lp25091
VMake sure that if the cookie you are setting has the Domain property set, the value should correspond to the domain you are hosting your web site under II6
p25092
as(dp25093
g16
V29407
p25094
stp25095
a((dp25096
g2
(lp25097
VWhy do you need to implement a custom caching class
p25098
aVIsn't the default implementation enough
p25099
aVThere's a whole new assembly dedicated to caching in
p25100
aVNET 4
p25101
ag2721
aVExample of caching a value for 10 minutes:
p25102
as(dp25103
g16
V29407
p25104
stp25105
a((dp25106
g2
(lp25107
VYou could use the toFixed() method:
p25108
as(dp25109
g16
V29407
p25110
stp25111
a((dp25112
g2
(lp25113
VCould marking the file for deletion upon next reboot work in your case
p25114
aVThis article might be worth reading as well
p25115
as(dp25116
g16
V29407
p25117
stp25118
a((dp25119
g2
(lp25120
VThis web service is not RESTful
p25121
aVYou can always bend the constraints but you lose the  label :-)
p25122
as(dp25123
g16
V29407
p25124
stp25125
a((dp25126
g2
(lp25127
VTry using the ConfigurationManager class:
p25128
as(dp25129
g16
V29407
p25130
stp25131
a((dp25132
g2
(lp25133
VIf you are storing only the English version of your site in the database you will need some language translation API
p25134
aVGoogle provides such service: it's called the Google AJAX Language API and allows you to translate text between different languages
p25135
aVHere's a sample in C# of how it could be used
p25136
as(dp25137
g16
V29407
p25138
stp25139
a((dp25140
g2
(lp25141
VYou can't apply it in a random plugin
p25142
aVIf the plugin is not written to trigger callback functions when different events occur you cannot use them
p25143
as(dp25144
g16
V29407
p25145
stp25146
a((dp25147
g2
(lp25148
VInstead of:
p25149
aVsimply write:
p25150
aVwhich will generate correct name attributes and make your code shorter
p25151
as(dp25152
g16
V29407
p25153
stp25154
a((dp25155
g2
(lp25156
VYou could return a partial:
p25157
aVWhere you have  partial containing some HTML fragment:
p25158
aVAnd you inject this partial using an AJAX call into the  div:
p25159
as(dp25160
g16
V29407
p25161
stp25162
a((dp25163
g2
(lp25164
VYou could use :
p25165
aVInternally  uses session in order to persist the information but it is automatically purged after the next request, so it will be available only on the next request following the storage
p25166
as(dp25167
g16
V29407
p25168
stp25169
a((dp25170
g2
(lp25171
VMake sure you've made a  to the whole site including all the assemblies that you've modified in the  folder
p25172
as(dp25173
g16
V29407
p25174
stp25175
a((dp25176
g2
(lp25177
VNo,  is returning an instance of :
p25178
aVFor compile-time safety you will need generics
p25179
as(dp25180
g16
V29407
p25181
stp25182
a((dp25183
g2
(lp25184
VUnless you've a compelling reason (I've never found one) you shouldn't mix jQuery and MS Ajax into the same site and unless you've a compelling reason you should prefer jQuery
p25185
aVSo, no need to use  helper methods which tend to pollute the markup with javascript
p25186
aVDo it the jQuery way, unobtrusively
p25187
as(dp25188
g16
V29407
p25189
stp25190
a((dp25191
g2
(lp25192
VYou may take a look at the  function
p25193
as(dp25194
g16
V29407
p25195
stp25196
a((dp25197
g2
(lp25198
VI am not familiar with the  type but you could write a custom model binder that will take care of converting the  route constraint to an instance of
p25199
as(dp25200
g16
V29407
p25201
stp25202
a((dp25203
g2
(lp25204
VNesting anchor tags is also buggy
p25205
as(dp25206
g16
V29407
p25207
stp25208
a((dp25209
g2
(lp25210
VIn addition to @Marc's answer I would like to add that:
p25211
aVin fact doesn't work as it doesn't return a valid JSON object
p25212
aVIt simply returns  to the client
p25213
aVYou need to construct the object:
p25214
as(dp25215
g16
V29407
p25216
stp25217
a((dp25218
g2
(lp25219
VQuote from the doc:
p25220
aVThe Form collection retrieves the
p25221
aVvalues of form elements posted to the
p25222
aVHTTP request body, with a form using
p25223
aVthe POST method
p25224
aVSo instead of using  I would recommend you writing a custom model class that will hold the request data and pass it as action parameter
p25225
aVThe default model binder will automatically populate the properties from the key/values passed in the request stream:
p25226
as(dp25227
g16
V29407
p25228
stp25229
a((dp25230
g2
(lp25231
VAssuming you are using the default routes:
p25232
aVIf you need to specify the controller name try this (don't forget the last parameter - the html attributes which I am passing to null here):
p25233
aVor without specifying the controller (using the current controller):
p25234
as(dp25235
g16
V29407
p25236
stp25237
a((dp25238
g2
(lp25239
VHere's an example:
p25240
as(dp25241
g16
V29407
p25242
stp25243
a((dp25244
g2
(lp25245
VYou could use the proper helper overload:
p25246
as(dp25247
g16
V29407
p25248
stp25249
a((dp25250
g2
(lp25251
Vand then call:
p25252
as(dp25253
g16
V29407
p25254
stp25255
a((dp25256
g2
(lp25257
VC) Perform paging at the database level and a single roundtrip to fetch only the records you need to show
p25258
as(dp25259
g16
V29407
p25260
stp25261
a((dp25262
g2
(lp25263
Vor in the controller action that renders this view:
p25264
as(dp25265
g16
V29407
p25266
stp25267
a((dp25268
g2
(lp25269
VIn contrast to a web site project, ASP
p25270
aVNET MVC uses a web application project meaning that it needs to be compiled for your changes to take effect
p25271
aVWhen you are working on the local machine and you are running the site inside Visual Studio source code is automatically compiled and changes take effect
p25272
aVFor your changes to take effect you need to deploy all the assemblies that are generated in the  folder
p25273
aVNo need to copy any source files to the server (except of course  and  pages)
p25274
as(dp25275
g16
V29407
p25276
stp25277
a((dp25278
g2
(lp25279
VFor extensionless urls in IIS 6 you need a wildcard mapping
p25280
aVRead this blog post for more details on setting this up
p25281
as(dp25282
g16
V29407
p25283
stp25284
a((dp25285
g2
(lp25286
VYou could write a generic handler:
p25287
aVand then specify the address of this handler:
p25288
as(dp25289
g16
V29407
p25290
stp25291
a((dp25292
g2
(lp25293
VXAML is a declarative language and not imperative so I don't see how debugging it could be possible
p25294
as(dp25295
g16
V29407
p25296
stp25297
a((dp25298
g2
(lp25299
VThat's because you are using a different domain name in web
p25300
aVconfig:
p25301
aVand
p25302
aVso no single sign on possible
p25303
aVIn your sign out method you cannot remove a cookie that belongs on  from :
p25304
aVWhat you could do is redirect to a sign out page on  which will do the job
p25305
as(dp25306
g16
V29407
p25307
stp25308
a((dp25309
g2
(lp25310
VAdd  in  and in  in :
p25311
aVThen in the  file you could define the following string:
p25312
aVPropertyValueInvalid: The value {0} is invalid for the property {1}
p25313
aVThe key needs to be called
p25314
as(dp25315
g16
V29407
p25316
stp25317
a((dp25318
g2
(lp25319
VNo you are not doing anything wrong
p25320
aVThat's how objects initializers work
p25321
aVThey call the constructor first in order to obtain a reference to the object and only after set the properties
p25322
aVIt's just syntactic sugar
p25323
as(dp25324
g16
V29407
p25325
stp25326
a((dp25327
g2
(lp25328
VIf you intend to localize messages later it is a good practice to store them in resource files
p25329
aVHere's a nice blog post
p25330
as(dp25331
g16
V29407
p25332
stp25333
a((dp25334
g2
(lp25335
s(dp25336
g16
V29407
p25337
stp25338
a((dp25339
g2
(lp25340
VThe problem is that the callback function is called much later as AJAX is asynchronous
p25341
aVThe  returns immediately and the next line executes when flag is still false
p25342
as(dp25343
g16
V29407
p25344
stp25345
a((dp25346
g2
(lp25347
VIKVM
p25348
aVNET Bytecode Compiler (ikvmc
p25349
aVexe):
p25350
aVThe ikvmc tool converts Java bytecode
p25351
aVto
p25352
aVNET dll's and exe's
p25353
as(dp25354
g16
V29407
p25355
stp25356
a((dp25357
g2
(lp25358
VI have a custom ActionResult for
p25359
aVreturning certain HTTP Errors, like
p25360
aVNotFoundResult and ForbiddenResult,
p25361
aVthey all derive from ViewResult
p25362
aVAllow me to suggest you an alternative error handling:
p25363
aVStart by creating an error controller and the corresponding views:
p25364
aVIn  define the  method:
p25365
aVFinally throw appropriate exceptions:
p25366
as(dp25367
g16
V29407
p25368
stp25369
a((dp25370
g2
(lp25371
VgetElementsByTagName should get you started:
p25372
as(dp25373
g16
V29407
p25374
stp25375
a((dp25376
g2
(lp25377
VThe reason this is happening is that by the moment you are starting your threads the loop has finished and the value of the text local variable is "other", so when you start the threads that's what gets printed
p25378
aVThis could be easily fixed:
p25379
as(dp25380
g16
V29407
p25381
stp25382
a((dp25383
g2
(lp25384
VThe href is probably generated in a javascript function
p25385
aVFor example with jQuery:
p25386
as(dp25387
g16
V29407
p25388
stp25389
a((dp25390
g2
(lp25391
VI guess even Visual Studio's Intellisense is not comfortable with the tag soup :-) Not really answering your question but you could use MVCContrib:
p25392
as(dp25393
g16
V29407
p25394
stp25395
a((dp25396
g2
(lp25397
VDue to same origin policy restrictions this is not possible with pure javascript
p25398
aVIf the third party web site provides an API that supports  then this could work but not in the general case
p25399
as(dp25400
g16
V29407
p25401
stp25402
a((dp25403
g2
(lp25404
VC# is case sensitive actually:
p25405
aVwhich of course could be simplified to:
p25406
aVBut if your  property is a  you need to do string comparison (it doesn't really make sense in this case to be a string but anyway):
p25407
as(dp25408
g16
V29407
p25409
stp25410
a((dp25411
g2
(lp25412
VSend an HTTP Status Code (and the
p25413
aVcorresponding  page)
p25414
aVAlmost:
p25415
aVExecute a different Action Method
p25416
aVwithin the same Controller
p25417
aVYes:
p25418
as(dp25419
g16
V29407
p25420
stp25421
a((dp25422
g2
(lp25423
VC# (typeof operator):
p25424
aVVB
p25425
aVNET (GetType operator):
p25426
aVC#'s  and VB
p25427
aVNET's  return a  object that has properties and methods for retrieving information about a specific
p25428
aVBy default, 's  method will return the fully qualified name of the Type
p25429
aVTo return only the  of the type, call  or  in C# or VB
p25430
aVNET, respectively
p25431
as(dp25432
g16
V29407
p25433
stp25434
a((dp25435
g2
(lp25436
s(dp25437
g16
V29407
p25438
stp25439
a((dp25440
g2
(lp25441
VHere's a full working example:
p25442
as(dp25443
g16
V29407
p25444
stp25445
a((dp25446
g2
(lp25447
s(dp25448
g16
V29407
p25449
stp25450
a((dp25451
g2
(lp25452
VIt depends on what you mean by button
p25453
aVIf it is a link:
p25454
aVFor posting you could use a form:
p25455
aVAnd finally if you have a button:
p25456
as(dp25457
g16
V29407
p25458
stp25459
a((dp25460
g2
(lp25461
VIn ASP
p25462
aVNET MVC scripts are not registered in controller actions
p25463
aVThere's a separation between controllers and views
p25464
aVSo you could directly put the  in the corresponding view:
p25465
aVWhen the view is rendered it will load the script
p25466
aVNow if you are doing AJAX and you want to add a script inside the success callback you could create the  element and append it to the DOM:
p25467
as(dp25468
g16
V29407
p25469
stp25470
a((dp25471
g2
(lp25472
VThe reason this happens is because the value of the email field is captured at page load and it is no longer refreshed
p25473
aVA solution would be to add the remote rule to this field separately:
p25474
as(dp25475
g16
V29407
p25476
stp25477
a((dp25478
g2
(lp25479
VA possible explanation for this error is that the  interface is not  and/or is not placed inside the  namespace in the  assembly
p25480
aVMake sure that the definition looks like this and that it is part of the  project:
p25481
aVThe same stands true for the  class that you've defined
p25482
as(dp25483
g16
V29407
p25484
stp25485
a((dp25486
g2
(lp25487
VHere's an article which demonstrates how to achieve this using SMO
p25488
as(dp25489
g16
V29407
p25490
stp25491
a((dp25492
g2
(lp25493
VNET does not support multiple inheritance
p25494
aVYour form (WinForm or ASP
p25495
aVNET) already derives from a base class which means that you cannot have it derived from your base class
p25496
aVThe actions you could take to fix this problem will largely depend on what you are trying to achieve
p25497
as(dp25498
g16
V29407
p25499
stp25500
a((dp25501
g2
(lp25502
VWhich file of my C# project i should
p25503
aVgive to a user
p25504
aVYou should give none of the files that are part of your C# project
p25505
aVProvide only the compiled assemblies or if you already have a setup project that generates a deployment package such as an MSI, provide the resulting MSI
p25506
as(dp25507
g16
V29407
p25508
stp25509
a((dp25510
g2
(lp25511
VTry this:
p25512
aVThis works by having WPF decode the image immediately with , and then release the reference to the stream when it is done
p25513
aVThis means the stream can be garbage collected when it leaves the function
p25514
aVOtherwise, BitmapImage could hold onto the stream until it is rendered
p25515
aVIn the code posted in the question, the render would fail because:
p25516
aVthe decode is delayed; and
p25517
aVthe stream has been closed at the point where the decode tries to happen
p25518
as(dp25519
g16
V29407
p25520
stp25521
a((dp25522
g2
(lp25523
VAs  is stored in session it will expire along with the session
p25524
aVAlso note that  is not expired when it is retrieved but on the next request no matter whether you access it or no
p25525
as(dp25526
g16
V29407
p25527
stp25528
a((dp25529
g2
(lp25530
VYou may take a look at using jQuery with other libraries and the  function
p25531
as(dp25532
g16
V29407
p25533
stp25534
a((dp25535
g2
(lp25536
VYou could use the  selector:
p25537
as(dp25538
g16
V29407
p25539
stp25540
a((dp25541
g2
(lp25542
VWhen the user presses the Back button on his browser there's no request being performed to the web server but the page is served from the browser cache
p25543
aVThis means that the only way to prevent this is to have all your authenticated pages set a no cache header so that the HTML is not stored in the browser cache:
p25544
as(dp25545
g16
V29407
p25546
stp25547
a((dp25548
g2
(lp25549
VYou may take a look at the jQuery
p25550
aVform which could be used to ajaxify your forms
p25551
aVIt also supports file input fields
p25552
as(dp25553
g16
V29407
p25554
stp25555
a((dp25556
g2
(lp25557
VThere's an infinity of possible reasons as to why you might get this error
p25558
aVYou might try to log the error message in the  method in order to gather more information
p25559
aVThe server's event log might also contain useful information
p25560
as(dp25561
g16
V29407
p25562
stp25563
a((dp25564
g2
(lp25565
VYou could still use the  element in your  to restrict access to certain folders
p25566
as(dp25567
g16
V29407
p25568
stp25569
a((dp25570
g2
(lp25571
VTry changing your page definition:
p25572
as(dp25573
g16
V29407
p25574
stp25575
a((dp25576
g2
(lp25577
VAlways perform at least server side validation
p25578
aVIf you want to improve users experience, client side validation could be nice
p25579
aVIt also allows you to avoid unnecessary requests to the server
p25580
aVOnly client side validation is not sufficient and can be easily bypassed by disabling javascript for example
p25581
aVI would recommend you to always start by adding server side validation and once you've tested it, you could enable client side validation
p25582
as(dp25583
g16
V29407
p25584
stp25585
a((dp25586
g2
(lp25587
VI usually have a  folder that is part of the solution and which contains all third party assemblies used by the projects
p25588
aVAs it is part of the solution it is version controlled by TFS
p25589
aVAlso when you distribute the solution it will contain all the necessary references that are needed to build making it independent
p25590
as(dp25591
g16
V29407
p25592
stp25593
a((dp25594
g2
(lp25595
VAs all your functions have similar AJAX setup options I would recommend you to setup common options globally using the  function:
p25596
aVNext let's first consider the  and  functions
p25597
aVThose look pretty much the same
p25598
aVThe only difference I can see between them is the url you are sending the AJAX request and the html that's being appended to the
p25599
aVSo you could have two separate functions that handle the result:
p25600
aVand
p25601
aVAnd finally the two functions could be merged into a single one:
p25602
aVNow when you want to get the current clients:
p25603
aVand when you want to get the current drivers:
p25604
aVNext let's consider the  and  functions
p25605
aVThey could be simplified to:
p25606
aVThe same pattern could be used for the rest
p25607
as(dp25608
g16
V29407
p25609
stp25610
a((dp25611
g2
(lp25612
VDataRow has multiple Item properties that you could use:
p25613
as(dp25614
g16
V29407
p25615
stp25616
a((dp25617
g2
(lp25618
VThis will depend on the implementation
p25619
aVHere's a nice overview of the different generic collections
p25620
aVAs far as the  implementation is concerned, enumerating will be done in the same order as elements have been added
p25621
as(dp25622
g16
V29407
p25623
stp25624
a((dp25625
g2
(lp25626
VAs AJAX requests are sent asynchronously and in parallel this will entirely depend on the browser and the processing time of the server
p25627
aVYou could add the  option but this will freeze the browser during the requests as they will no longer be asynchronous
p25628
aVI would recommend you adding an order column to your database
p25629
aVAnother option would be to send a single AJAX request containing all the data
p25630
as(dp25631
g16
V29407
p25632
stp25633
a((dp25634
g2
(lp25635
VIt seems that there's no SQL Server running on the remote host or at least not accepting connections
p25636
as(dp25637
g16
V29407
p25638
stp25639
a((dp25640
g2
(lp25641
VYou could use cURL to send requests to the remote site and fetch the results
p25642
as(dp25643
g16
V29407
p25644
stp25645
a((dp25646
g2
(lp25647
VAs always start by defining a model:
p25648
aVThen the controller:
p25649
aVand finally the strongly typed view:
p25650
as(dp25651
g16
V29407
p25652
stp25653
a((dp25654
g2
(lp25655
VOne scenario where method overloading could be useful is if you are building some public API
p25656
aVFor example ASP
p25657
aVNET MVC use it to provide functionality through HTML helpers where you have the same method overloaded multiple times with different arguments
p25658
as(dp25659
g16
V29407
p25660
stp25661
a((dp25662
g2
(lp25663
VString
p25664
aVIsNullOrWhiteSpace has been introduced in
p25665
aVNET 4
p25666
aVIf you are not targeting
p25667
aVNET 4 you could easily write your own:
p25668
aVwhich could be used like this:
p25669
aVor as an extension method if you prefer:
p25670
aVwhich allows you to use it directly:
p25671
aVFor the extension method to work make sure that the namespace in which the  static class has been defined is in scope
p25672
as(dp25673
g16
V29407
p25674
stp25675
a((dp25676
g2
(lp25677
VThe  function expects 3 arguments
p25678
aVHere you are passing only 2:
p25679
aVAlso the second argument needs to be an integer and not another function
p25680
aVAnd as it is a callback it needs to be defined as such:
p25681
aVUPDATE:
p25682
aVThe reason you are always getting the same AJAX request is that you always pass 0 to the  function in the pagination callback
p25683
aVTry this:
p25684
as(dp25685
g16
V29407
p25686
stp25687
a((dp25688
g2
(lp25689
VIf those elements need to be hidden at page load hide them by applying a  css style on the server side
p25690
aVThen later when they need to be shown use javascript
p25691
as(dp25692
g16
V29407
p25693
stp25694
a((dp25695
g2
(lp25696
VUnit Testable: The new view engine
p25697
aVimplementation will support the
p25698
aVability to unit test views (without
p25699
aVrequiring a controller or web-server,
p25700
aVand can be hosted in any unit test
p25701
aVproject \u2013 no special app-domain
p25702
aVrequired)
p25703
aVAt last
p25704
aVCan't believe it took almost 8 years for Microsoft to finally bring a view engine that supports this
p25705
as(dp25706
g16
V29407
p25707
stp25708
a((dp25709
g2
(lp25710
VI don't know what you are doing wrong as you've shown 0 code but this definitely works:
p25711
aVand in your view:
p25712
aVNow if you navigate to  the first item is selected, if you navigate to  the second item item selected
p25713
aVAlso if you are using ASP
p25714
aVNET MVC 2
p25715
aV0 I would recommend you the strongly typed  helper instead of
p25716
as(dp25717
g16
V29407
p25718
stp25719
a((dp25720
g2
(lp25721
VYou need to perform the redirect inside the AJAX success callback:
p25722
aVThe redirect cannot be performed server side as you are calling this action with AJAX
p25723
aVAlso you indicate in your AJAX call that you are expecting JSON from the server side but you are sending a redirect which is not consistent
p25724
aVYou could modify the controller action to simply return the url that the client needs to redirect to using JSON:
p25725
aVand then:
p25726
as(dp25727
g16
V29407
p25728
stp25729
a((dp25730
g2
(lp25731
VTry:
p25732
aVYou may also find this function useful
p25733
as(dp25734
g16
V29407
p25735
stp25736
a((dp25737
g2
(lp25738
VThe reason this doen't work is because there's the virtual directory name appended in IIS
p25739
aVTo avoid this problem make sure you always include your CSS file using proper helpers and do not hardcode the location:
p25740
aVthen in the css file make sure that image paths are relative to the location of this CSS file
p25741
as(dp25742
g16
V29407
p25743
stp25744
a((dp25745
g2
(lp25746
VHelper classes that are not part of the hierarchy of the classes that are part of the operation contracts will never be exposed
p25747
aVAs for child classes you could use the  section in web
p25748
aVconfig to instruct the serializer what are the possible child classes for a given base type:
p25749
aVWCF will look at the types that are part of the operation contracts (the methods marked with ) and it will automatically expose those classes in the metadata (WSDL) so that clients will see them
p25750
aVPossible child classes need to be specified explicitly
p25751
aVAlso you might find this blog post helpful
p25752
as(dp25753
g16
V29407
p25754
stp25755
a((dp25756
g2
(lp25757
VThere's nothing wrong with your code
p25758
aVI've just tested it and it worked fine
p25759
aVThe problem is with the  assembly
p25760
aVYou need to grant specific permissions to the  folder
p25761
aVCheckout this discussion
p25762
aVAlso right click on the  in Windows Explorer and in the properties make sure that it is not locked
p25763
aVWhen you download some DLL from the internet Windows automatically applies restricted permissions to it
p25764
as(dp25765
g16
V29407
p25766
stp25767
a((dp25768
g2
(lp25769
Vor:
p25770
aVThe conversions between the dates and double could be done with DateTime
p25771
aVFromOADate and DateTime
p25772
aVToOADate methods
p25773
as(dp25774
g16
V29407
p25775
stp25776
a((dp25777
g2
(lp25778
VYou can handle zip streams through GZipStream and DeflateStream but for compressing and uncompressing multiple files you may take a look at SharpZipLib
p25779
as(dp25780
g16
V29407
p25781
stp25782
a((dp25783
g2
(lp25784
VYou could try setting the value:
p25785
as(dp25786
g16
V29407
p25787
stp25788
a((dp25789
g2
(lp25790
VKey should be 24 bytes and IV should be 8 bytes
p25791
as(dp25792
g16
V29407
p25793
stp25794
a((dp25795
g2
(lp25796
VNo you might need to trigger it manually after setting the value:
p25797
aVor:
p25798
as(dp25799
g16
V29407
p25800
stp25801
a((dp25802
g2
(lp25803
VShouldn't  be a property of  (it kind of seems more natural but I could be wrong here)
p25804
aVAlso you have a malformed  tag in the nested loop ():
p25805
as(dp25806
g16
V29407
p25807
stp25808
a((dp25809
g2
(lp25810
VHere's a nice discussion
p25811
as(dp25812
g16
V29407
p25813
stp25814
a((dp25815
g2
(lp25816
VCheck this out:
p25817
aVShould make things easier
p25818
as(dp25819
g16
V29407
p25820
stp25821
a((dp25822
g2
(lp25823
VYou could provide an instance of the service yourself by creating a custom IInstanceProvider
p25824
as(dp25825
g16
V29407
p25826
stp25827
a((dp25828
g2
(lp25829
VYou could also try:
p25830
as(dp25831
g16
V29407
p25832
stp25833
a((dp25834
g2
(lp25835
VThat's an issue (or a missing feature if you will) that hasn't been fixed in VS2010
p25836
aVMaybe a patch will come later
p25837
aVI've got used to it
p25838
aVWhen I need Intellisense, I create a  block somewhere outside in order to test (not very convenient but for those who can't without Intellisense it's an option)
p25839
as(dp25840
g16
V29407
p25841
stp25842
a((dp25843
g2
(lp25844
Vor to open with the default browser:
p25845
as(dp25846
g16
V29407
p25847
stp25848
a((dp25849
g2
(lp25850
VFor WCF (which is the recommended way of developing web service on
p25851
aVNET) you may take a look at this article for an example of developing a web service exposing JSON data
p25852
aVFor plain old ASMX services you could use the  attribute
p25853
aVHere's another article which illustrates the concept with an example
p25854
as(dp25855
g16
V29407
p25856
stp25857
a((dp25858
g2
(lp25859
VYou could redirect:
p25860
aVand if the action is on a different controller specify the controller name as well:
p25861
as(dp25862
g16
V29407
p25863
stp25864
a((dp25865
g2
(lp25866
VYou could use a regular expression validator
p25867
as(dp25868
g16
V29407
p25869
stp25870
a((dp25871
g2
(lp25872
VYou could use the  function:
p25873
as(dp25874
g16
V29407
p25875
stp25876
a((dp25877
g2
(lp25878
VIf the path you want to check for existence is on the server you cannot do it using pure javascript
p25879
aVYou could set a controller action which returns JSON data indicating if the path exists on the server
p25880
aVThis action could be invoked using AJAX:
p25881
aVRemark: beware of the security implications by writing such a method
p25882
aVIf the path you want to check for existence is located on the client machine then this cannot be done unless the client installs some specific plugin (ActiveX, Flash, Silverlight,
p25883
as(dp25884
g16
V29407
p25885
stp25886
a((dp25887
g2
(lp25888
VAs always start by defining the view model:
p25889
aVNext the controller:
p25890
aVand finally the View:
p25891
as(dp25892
g16
V29407
p25893
stp25894
a((dp25895
g2
(lp25896
VOnly the last parameter can be optional
p25897
aVIn this example category cannot be optional for obvious reasons
p25898
as(dp25899
g16
V29407
p25900
stp25901
a((dp25902
g2
(lp25903
VI suspect the following
p25904
aVYou click on the delete button for the 9010
p25905
aVThe form is posted and the POST request contains
p25906
aVIn the controller action the same view is rendered
p25907
aVHere's the gotcha
p25908
aVWhen you write this:
p25909
aVThe HTML helper (and not only this one) will first look if there's a request parameter with the same name as the name of the field () and will use this value instead of the one you specified as the second argument (that's the way it is, don't ask my why, it's by design)
p25910
aVSo to fix this the only way is to manually render the hidden field:
p25911
as(dp25912
g16
V29407
p25913
stp25914
a((dp25915
g2
(lp25916
VUsually view models have metadata associated with them which among other allows you to perform validation and integrates with editor/display templates
p25917
aVTuples don't seem appropriate
p25918
aVAnother disadvantage is that they express less clearly the purpose of each property in the view model (, ,
p25919
aV, no-one else than the original developer can make any sense of this, and if he is like me after few days even he won't be able to make sense)
p25920
as(dp25921
g16
V29407
p25922
stp25923
a((dp25924
g2
(lp25925
VThe reason your unit tests are failing is because  requires an ASP
p25926
aVNET context which is close to impossible to recreate in a unit test
p25927
aVFrameworks such as ASP
p25928
aVNET MVC abstract away this using HttpContextBase which can be easily mocked in an unit test
p25929
aVAlso you shouldn't be using  in WCF
p25930
aVIf you self host your WCF service it will blow not only in the unit tests but at execution which is even worse
p25931
aVConclusion:
p25932
aVEvery time you write  in a method by definition this method is not unit testable so don't even try to test it
p25933
aVNever use  in WCF (and if you read the previous point, not only in WCF :-))
p25934
as(dp25935
g16
V29407
p25936
stp25937
a((dp25938
g2
(lp25939
VTry like this:
p25940
as(dp25941
g16
V29407
p25942
stp25943
a((dp25944
g2
(lp25945
VThe existing form helper methods already take into account this:
p25946
as(dp25947
g16
V29407
p25948
stp25949
a((dp25950
g2
(lp25951
VYou could use  on rule to apply a conditional validation:
p25952
as(dp25953
g16
V29407
p25954
stp25955
a((dp25956
g2
(lp25957
VYou could specify it in the service contract definition:
p25958
as(dp25959
g16
V29407
p25960
stp25961
a((dp25962
g2
(lp25963
Vwhen virtual method is called, the
p25964
aVbase method is called as well
p25965
aVThis depends whether you call  in the overridden method or not
p25966
as(dp25967
g16
V29407
p25968
stp25969
a((dp25970
g2
(lp25971
VAFAIK the  syntax works only with resource files in the  special folder
p25972
aVYou could make the auto-generated source file public (instead of internal) and use the key directly by setting the  to
p25973
as(dp25974
g16
V29407
p25975
stp25976
a((dp25977
g2
(lp25978
VHere's an example illustrating the strongly typed version:
p25979
aVModel:
p25980
aVController:
p25981
aVView:
p25982
as(dp25983
g16
V29407
p25984
stp25985
a((dp25986
g2
(lp25987
VYou may take a look at this blog post
p25988
as(dp25989
g16
V29407
p25990
stp25991
a((dp25992
g2
(lp25993
VThe reason this is not working is because the JSON string you are receiving is not a list of objects but a single object with multiple properties
p25994
aVA list is usually represented with  in JSON:
p25995
as(dp25996
g16
V29407
p25997
stp25998
a((dp25999
g2
(lp26000
VYou could use reflection:
p26001
aVYou should be aware that there could be an additional overhead when using reflection because types are evaluated at runtime
p26002
as(dp26003
g16
V29407
p26004
stp26005
a((dp26006
g2
(lp26007
VBitArray has a constructor that takes a byte array that you might try:
p26008
as(dp26009
g16
V29407
p26010
stp26011
a((dp26012
g2
(lp26013
VYou might need to send a User Agent so that the site doesn't think that you are a bot
p26014
aVSome sites don't bother with CSS when requested from bots
p26015
aVAlso the reading of the remote HTML could be simplified using a WebClient:
p26016
as(dp26017
g16
V29407
p26018
stp26019
a((dp26020
g2
(lp26021
VAlmost there:
p26022
as(dp26023
g16
V29407
p26024
stp26025
a((dp26026
g2
(lp26027
Vwhere  indicates the site root
p26028
aVAlso make sure you grant the account your site is running under read permissions to this folder
p26029
as(dp26030
g16
V29407
p26031
stp26032
a((dp26033
g2
(lp26034
VI really have no idea what you are talking about but here's a wild guess: One entry , multiple enries,
p26035
aVSounds familiar
p26036
as(dp26037
g16
V29407
p26038
stp26039
a((dp26040
g2
(lp26041
VHere's a helper class that I use to handle channel factories:
p26042
aVThen I define a service invoker:
p26043
aVand an implementation:
p26044
aVNow every time you need to call a WCF service you could use this:
p26045
aVThis assumes that you've defined a client endpoint for the  service contract in the config file:
p26046
as(dp26047
g16
V29407
p26048
stp26049
a((dp26050
g2
(lp26051
VYou can choose IIS in the properties of the web project:
p26052
as(dp26053
g16
V29407
p26054
stp26055
a((dp26056
g2
(lp26057
VYou could achieve this using AJAX
p26058
aVWhen the company changes send a request to the server passing the new company id in order to fetch the associated contacts
p26059
aVTo do this you will need a controller action returning a partial view containing the contacts drop down list:
p26060
aVModel:
p26061
aVController:
p26062
aVThen your  partial will contain the drop down list:
p26063
aVAnd then you can attach a
p26064
aVchange() event handler to the companies drop down which will call the controller action:
p26065
as(dp26066
g16
V29407
p26067
stp26068
a((dp26069
g2
(lp26070
VRob Conery wrote a series of blog posts about the StoreFront application
p26071
aVEDIT Blog posts have moved, and the beginning post can be found in the archives
p26072
as(dp26073
g16
V29407
p26074
stp26075
a((dp26076
g2
(lp26077
VBefore calling the method you might want to make sure that the MethodInfo you are pulling through reflection is not null:
p26078
aVAfter your update it seems that the exception is thrown inside the method you are calling:
p26079
as(dp26080
g16
V29407
p26081
stp26082
a((dp26083
g2
(lp26084
VYou could use XmlSerializer:
p26085
as(dp26086
g16
V29407
p26087
stp26088
a((dp26089
g2
(lp26090
s(dp26091
g16
V29407
p26092
stp26093
a((dp26094
g2
(lp26095
Vand for opening the PDF inside the browser you will need to set the  header:
p26096
as(dp26097
g16
V29407
p26098
stp26099
a((dp26100
g2
(lp26101
VMake sure that the assembly that contains the code you are trying to debug is compiled in Debug mode and that PDB symbols are included
p26102
aVThen rebuild the solution and try running again
p26103
as(dp26104
g16
V29407
p26105
stp26106
a((dp26107
g2
(lp26108
s(dp26109
g16
V29407
p26110
stp26111
a((dp26112
g2
(lp26113
VDo I need to manually set the target
p26114
aVframeworks from 2
p26115
aV0 to 3
p26116
aV5 for each of
p26117
aVthe projects in the solution
p26118
aVNot necessary, but I would recommend you to do so
p26119
aVVisual Studio actually filters the assemblies you can reference based on the target framework version
p26120
aVAre there any "gotcha's" anyone can
p26121
aVthink of to be concerned with a
p26122
aVweb-application conversion
p26123
aVNot any that I am aware of when migrating from 2
p26124
aV0 to 3
p26125
ag244
aVYou don't even need to modify the CLR version of the host application pool
p26126
aVWhen you need to migrate to 4
p26127
aV0 there might be more issues
p26128
as(dp26129
g16
V29407
p26130
stp26131
a((dp26132
g2
(lp26133
Vmysqladmin should be sufficient for most of the tasks if not all of them
p26134
as(dp26135
g16
V29407
p26136
stp26137
a((dp26138
g2
(lp26139
Vand if it needs to be dynamic:
p26140
as(dp26141
g16
V29407
p26142
stp26143
a((dp26144
g2
(lp26145
VYou could  using a simple form:
p26146
as(dp26147
g16
V29407
p26148
stp26149
a((dp26150
g2
(lp26151
VEditor templates are a great way to achieve this:
p26152
aVModel:
p26153
aVController:
p26154
aVView  (strongly typed to ):
p26155
aVEditor template  (strongly typed to ):
p26156
as(dp26157
g16
V29407
p26158
stp26159
a((dp26160
g2
(lp26161
VYou can call the two functions in the onclick event handler:
p26162
aVTo avoid mixing markup with javascript I would recommend you attaching the  event for this particular link like this:
p26163
aVAnd in the  section:
p26164
as(dp26165
g16
V29407
p26166
stp26167
a((dp26168
g2
(lp26169
VYou cannot access distant domains using AJAX
p26170
aVSee Same Origin Policy
p26171
aVYou are trying to access a script located on , so unless this is page is on hosted on this same domain it won't work
p26172
aVThe only way to make this work is to setup a proxy server script on your server to which you will send the AJAX call and it will delegate the call to
p26173
aVAnother alternative is to use JSONP but the distant script needs to support it
p26174
as(dp26175
g16
V29407
p26176
stp26177
a((dp26178
g2
(lp26179
VSomewhere else there's a javascript function which attaches to the  event
p26180
aVHere's an example with jquery:
p26181
aVSo it is possible to attach javascript actions to DOM elements
p26182
aVThose javascript functions can be located in some other files that are included which are obfuscated, so don't be surprised that you don't find it
p26183
aVA good tool such as FireBug could help you debug through JS code
p26184
as(dp26185
g16
V29407
p26186
stp26187
a((dp26188
g2
(lp26189
VVisual Studio 2010 has the possibility to rename a namespace
p26190
aVPlace the cursor over the namespace name and press F2
p26191
aVOr simply rename it in the code and press Shift+Alt+F10, Enter after seeing the red squiggle appear
p26192
aVReharper can also rename namespaces
p26193
aVQuote:
p26194
aVThe Rename Namespace refactoring
p26195
aVallows users to rename a specific
p26196
aVnamespace and automatically correct
p26197
aVall references to the namespace in the
p26198
aVcode
p26199
aVThe following usages are
p26200
aVrenamed:
p26201
aVNamespace statements
p26202
aVUsing directives
p26203
aVQualified names of types
p26204
as(dp26205
g16
V29407
p26206
stp26207
a((dp26208
g2
(lp26209
VThe problem seems to be coming from the fact that the AreaId property is of type
p26210
aVFor example if you change it to  it works fine
p26211
as(dp26212
g16
V29407
p26213
stp26214
a((dp26215
g2
(lp26216
VYou could trap this error in  and if the request was asynchronous send the proper JSON in the response containing the error message
p26217
as(dp26218
g16
V29407
p26219
stp26220
a((dp26221
g2
(lp26222
VStoring:
p26223
aVRetrieveing:
p26224
aVwhere  could be defined like this:
p26225
as(dp26226
g16
V29407
p26227
stp26228
a((dp26229
g2
(lp26230
VNo there isn't a limit
p26231
aVProbably the file is being cached and that's reason you are not seeing modifications
p26232
aVTry clearing the browser cache or Ctrl+F5
p26233
as(dp26234
g16
V29407
p26235
stp26236
a((dp26237
g2
(lp26238
VI like option 1
p26239
aVAlso you don't need conditions and it works with javascript disabled
p26240
aVJust stick it somewhere in the masterpage and it should be OK:
p26241
aVYou could of course progressively enhance/animate this by using some nice plugin such as jGrowl or Gritter or even look at how StackOverflow does it
p26242
aVAnother solution is to write a helper which is probably the neatest:
p26243
aVAnd then in your master:
p26244
as(dp26245
g16
V29407
p26246
stp26247
a((dp26248
g2
(lp26249
VIf your friends are that lazy you might suggest them using an online converter:
p26250
as(dp26251
g16
V29407
p26252
stp26253
a((dp26254
g2
(lp26255
VYou cannot change method signatures in derived classes
p26256
aVYou could define the generic argument on the interface though instead of doing it on the method:
p26257
aVand a sample explicit implementation might look like this:
p26258
aVand a sample implicit implementation:
p26259
as(dp26260
g16
V29407
p26261
stp26262
a((dp26263
g2
(lp26264
VNo you can't put ASP
p26265
aVNET in a javascript file
p26266
aVJavascript files are static resources which should be directly served by your web server
p26267
aVThey should never contain any server side language
p26268
aVYou could define  as a global variable in the view:
p26269
aVthen use this  variable in your javascript file
p26270
aVNotice tough that depending on what you are doing with this variable there might be much better ways
p26271
aVFor example let's suppose that in your view you have an anchor that you want to ajaxify:
p26272
aVThen in your javascript you could:
p26273
aVSo no need of declaring any variables at all
p26274
aVAnother option is to define a javascript function which takes parameters so that you can pass it whatever you need
p26275
aVConclusion: think of your javascript files as reusable components that tomorrow you might plug into your cool site based on Java Servlets for example and host them on a CDN
p26276
aVYou could even try to convert them to reusable jQuery plugins
p26277
aVDon't try to mix it with server side languages as it leads to a strong coupling, ugly code - tag soup
p26278
as(dp26279
g16
V29407
p26280
stp26281
a((dp26282
g2
(lp26283
Vor if you want exactly this type and not any derived types:
p26284
as(dp26285
g16
V29407
p26286
stp26287
a((dp26288
g2
(lp26289
VThere's not much you can do if the remote server is not responding other than defining a  and catch the exception as you did in order to inform the user that the operation cannot complete because the remote site didn't respond:
p26290
aVIf you don't want to freeze the UI you could use the async version: BeginGetResponse
p26291
as(dp26292
g16
V29407
p26293
stp26294
a((dp26295
g2
(lp26296
VThis will very much depend on the type of application
p26297
aVIn ASP
p26298
aVNET application assuming the file is deployed on the site root you could use this:
p26299
aVIn a console application, assuming you copy the file to the output folder (:  in the properties of the file) at the same place as the executable you could use a relative path:
p26300
aVTo get the location of the currently executing assembly you could use this:
p26301
aVand then construct a path relative to this location:
p26302
aVSo many ways of achieving the same thing, which one to choose depends on your context
p26303
as(dp26304
g16
V29407
p26305
stp26306
a((dp26307
g2
(lp26308
VYou need to first execute the query (by calling  on the criteria) before calling
p26309
aVNotice that this query might return multiple objects:
p26310
aVAnd you could take the first one:
p26311
aVor directly:
p26312
as(dp26313
g16
V29407
p26314
stp26315
a((dp26316
g2
(lp26317
VThe model binder parses request data into objects
p26318
aVWhen you use a  there's no request data, nothing posted to the server
p26319
aVYou could use a form with input fields in order to send request parameters that could be handled by the model binder and converted into object:
p26320
aVOr use an anchor:
p26321
aVAnother option would be to send the request using AJAX:
p26322
as(dp26323
g16
V29407
p26324
stp26325
a((dp26326
g2
(lp26327
Vthey said that this is the web
p26328
aVservice standard
p26329
aVAll that I could recommend you is switching service provider :-)
p26330
aVIf you don't, long and painful string manipulation is awaiting you unless your service provider doesn't provide you with an API capable of parsing this standard
p26331
as(dp26332
g16
V29407
p26333
stp26334
a((dp26335
g2
(lp26336
VIf you are starting a new project and you don't intend to use third party libraries that are not compatible with
p26337
aVNET 4
p26338
aV0 then go for ASP
p26339
aVNET 4
p26340
aV0 (Choose Visual Studio 2010 as 2008 cannot target
p26341
aVNET 4
p26342
aV0)
p26343
aVAs far as SQL Server is concerned, because this is a migration you might need to first analyze what would be the possible impacts on your current infrastructure
p26344
as(dp26345
g16
V29407
p26346
stp26347
a((dp26348
g2
(lp26349
VYou may try to URL encode it:
p26350
as(dp26351
g16
V29407
p26352
stp26353
a((dp26354
g2
(lp26355
VYou can't
p26356
aVThose are two different applications and the Silverlight application knows nothing about the routes you could have set in your ASP
p26357
aVNET MVC application
p26358
as(dp26359
g16
V29407
p26360
stp26361
a((dp26362
g2
(lp26363
VInstead of using  I would recommend you using editor templates which will make your life easier:
p26364
aVIn the main View:
p26365
aVEditor template for the model ():
p26366
aVEditor template for the SubModel ():
p26367
as(dp26368
g16
V29407
p26369
stp26370
a((dp26371
g2
(lp26372
VTwo remarks:
p26373
aVUse public properties and not fields on your models
p26374
aVThe instance you are trying to validate needs to go through the model binder for this to work
p26375
aVI think that the first remark needs not much explanation:
p26376
aVAs for the second, here's when it does not work:
p26377
aVAnd here's when it will work:
p26378
aVOf course in this case your code could be simplified to:
p26379
aVConclusion: you rarely need
p26380
as(dp26381
g16
V29407
p26382
stp26383
a((dp26384
g2
(lp26385
VThis error means that you've placed the user control outside the root folder where the virtual directory points to
p26386
aVFor example if the virtual directory points to  you cannot have a user control in
p26387
as(dp26388
g16
V29407
p26389
stp26390
a((dp26391
g2
(lp26392
VHTML encode  as it may contain characters that break the javascript literal (such as  so make sure you set  to  for this)
p26393
as(dp26394
g16
V29407
p26395
stp26396
a((dp26397
g2
(lp26398
VYou could start by thinking about the classes involved and their properties
p26399
aVA  class with , ,  and  properties should be fine
p26400
aVand  methods will then help you store and retrieve information into a text file
p26401
aVYou will also need an intermediary helper class that will convert the  class into a string so that it could be stored into the text file
p26402
as(dp26403
g16
V29407
p26404
stp26405
a((dp26406
g2
(lp26407
VYou may checkout this blog post which contains a neat example of what you are trying to do
p26408
as(dp26409
g16
V29407
p26410
stp26411
a((dp26412
g2
(lp26413
VImage is a good container for this task:
p26414
as(dp26415
g16
V29407
p26416
stp26417
a((dp26418
g2
(lp26419
VYou will have to implement a custom Membership provider
p26420
aVThere are many articles on this topic
p26421
as(dp26422
g16
V29407
p26423
stp26424
a((dp26425
g2
(lp26426
VYou may take a look at Linq to Entities which integrates nicely with Visual Studio
p26427
as(dp26428
g16
V29407
p26429
stp26430
a((dp26431
g2
(lp26432
VOne of the possible reasons for this is that the  replaces elements in the DOM that had jquery events attached to them which of course nullifies those events
p26433
aVOne possible solution would be to use the  function to register events but it works only with some events
p26434
aVIf you can't use the  function you will need to reattach those events once the  has finished replacing DOM elements:
p26435
as(dp26436
g16
V29407
p26437
stp26438
a((dp26439
g2
(lp26440
VYou will need to write a custom  attribute which doesn't return a
p26441
aVAlso remaining on the same view will be a difficult task as you might need to keep all the context after the request
p26442
as(dp26443
g16
V29407
p26444
stp26445
a((dp26446
g2
(lp26447
VHtml helpers will always URL encode the values to avoid dangerous characters from breaking the routes
p26448
aVSo you could either write a custom helper or hardcode it
p26449
as(dp26450
g16
V29407
p26451
stp26452
a((dp26453
g2
(lp26454
VYou could implement :
p26455
aVNow the Contains method could work like this:
p26456
as(dp26457
g16
V29407
p26458
stp26459
a((dp26460
g2
(lp26461
VI am not familiar with RoR but when you request , the response should look like this:
p26462
aVand not:
p26463
aVAs far as the  parameter is concerned you don't need to modify it, jQuery will pass a random value so that the anonymous callback could be invoked
p26464
as(dp26465
g16
V29407
p26466
stp26467
a((dp26468
g2
(lp26469
VYou probably want to Url encode:
p26470
aVAlthough I would suggest you generating this url with something among the lines:
p26471
aVAnd then:
p26472
as(dp26473
g16
V29407
p26474
stp26475
a((dp26476
g2
(lp26477
VHere's a nice article that compares both patterns
p26478
as(dp26479
g16
V29407
p26480
stp26481
a((dp26482
g2
(lp26483
VTDD means that the tests drive the development of your components
p26484
aVYou start by writing a unit test that specifies the behavior of the component, then you implement the component
p26485
aVSo to answer your question:
p26486
aVshould apply unit tests to every
p26487
aVdeveloped component
p26488
aVNo, because the unit tests should already be written before developing the component
p26489
as(dp26490
g16
V29407
p26491
stp26492
a((dp26493
g2
(lp26494
VIt seems that you have referenced different versions of the  assembly
p26495
aVTry removing all references to this assembly in your projects and adding it from the GAC
p26496
as(dp26497
g16
V29407
p26498
stp26499
a((dp26500
g2
(lp26501
VThis is a very broad question that is difficult to answer
p26502
aVIt will depend on what your service is doing and how it is implemented
p26503
aVBut as a general rule of thumb you should avoid long running operations which could monopolize worker threads
p26504
as(dp26505
g16
V29407
p26506
stp26507
a((dp26508
g2
(lp26509
s(dp26510
g16
V29407
p26511
stp26512
a((dp26513
g2
(lp26514
VYou could register the endRequest event:
p26515
as(dp26516
g16
V29407
p26517
stp26518
a((dp26519
g2
(lp26520
VnopCommerce
p26521
as(dp26522
g16
V29407
p26523
stp26524
a((dp26525
g2
(lp26526
VYou may try like this:
p26527
aVBut do you really need a server side checkbox here
p26528
aVIf not this could be more readable:
p26529
as(dp26530
g16
V29407
p26531
stp26532
a((dp26533
g2
(lp26534
VHere's a nice plugin that allows you to easily scroll to any part of the document
p26535
as(dp26536
g16
V29407
p26537
stp26538
a((dp26539
g2
(lp26540
VYou could use the  event:
p26541
as(dp26542
g16
V29407
p26543
stp26544
a((dp26545
g2
(lp26546
VDepending on the browser, persistent cookies will be stored differently on the client computer
p26547
aVSome browsers might even store cookies in a database
p26548
aVUsing javascript it is not possible to control this and most importantly you don't need to
p26549
as(dp26550
g16
V29407
p26551
stp26552
a((dp26553
g2
(lp26554
VI've performed a few tests and results are a bit confusing
p26555
aVIf you create the file and modify it in the same program it is slow:
p26556
aVBut if the file exists and you only try to modify the last byte it is fast:
p26557
aVHmmm
p26558
aVUPDATE:
p26559
aVPlease ignore my previous observations and unmark this as an answer because it is all wrong
p26560
aVFurther investigating the issue I've noticed the following pattern
p26561
aVSuppose that you allocate a file of given size with zero bytes like this:
p26562
aVThis operation is very fast and it creates a 100MB file filled with zeros
p26563
aVNow if in some other program you try to modify the last byte, closing the stream will be slow:
p26564
aVI have no idea of the internal workings of the file system or how exactly is this file created but I have the feeling that it is not completely initialized until you try to modify it and closing the handle will be slow
p26565
aVTo confirm this I tested in unmanaged code (feel free to fix any aberration as my C is very rusty):
p26566
aVThis behaves the same way as in
p26567
aVNET => it allocates a file of 100MB filled with zeros and it is very fast
p26568
aVNow when I try to modify the last byte of this file:
p26569
aVThe last  is slow
p26570
aVI hope some experts will bring some light here
p26571
aVIt seems though that modifying the last byte of a real file (not sparse) using the previous methods is very fast
p26572
as(dp26573
g16
V29407
p26574
stp26575
a((dp26576
g2
(lp26577
VYou could set the  property in web
p26578
aVconfig:
p26579
as(dp26580
g16
V29407
p26581
stp26582
a((dp26583
g2
(lp26584
VPersonally I avoid using  as it is a collection of magic strings
p26585
aVI would recommend you to always use this signature:
p26586
aVand leave the model binder do the job of parsing the request parameters into a strongly typed object (you don't need to resort to reflection or doing anything)
p26587
as(dp26588
g16
V29407
p26589
stp26590
a((dp26591
g2
(lp26592
VYou could store the results of the query in the cache instead of the query itself by calling  or  extension methods which will execute the query immediately
p26593
aVThen you can enumerate the results from the cache as much as you wish
p26594
as(dp26595
g16
V29407
p26596
stp26597
a((dp26598
g2
(lp26599
VWhy would you want to use Regex when you can simply compile the solution and look for the CS1717 warning:
p26600
aVAssignment made to same variable; did
p26601
aVyou mean to assign something else
p26602
aVAlso note that in C# it is a good convention to have your parameters start with lowercase letter
p26603
as(dp26604
g16
V29407
p26605
stp26606
a((dp26607
g2
(lp26608
VBoth queries will be equivalent
p26609
as(dp26610
g16
V29407
p26611
stp26612
a((dp26613
g2
(lp26614
VIt would add an additional  HTTP header to the request
p26615
as(dp26616
g16
V29407
p26617
stp26618
a((dp26619
g2
(lp26620
VThis depends on how you are performing the query
p26621
aVIf you do:
p26622
aVYou will loose the  because it because it has to be URL encoded ( means space in the URL)
p26623
aVI would recommend you this which will take care of encoding:
p26624
as(dp26625
g16
V29407
p26626
stp26627
a((dp26628
g2
(lp26629
VThere's no reliabale way to distinguish an AJAX request from a normal request
p26630
aVSome libraries such as jQuery will append an additional  HTTP header to the request, but others might not
p26631
aVYou could forge an AJAX request using the low level objects provided by the browser that looks exactly the same as a normal request so don't rely much
p26632
as(dp26633
g16
V29407
p26634
stp26635
a((dp26636
g2
(lp26637
VShort answer: jQuery AJAX
p26638
aVWhy
p26639
aVUnobtrusive, better separation of markup and script, keep the markup clean, preserve bandwidth, infinity of plugins, better documentation,
p26640
aVIf you are concerned about ajaxifying your forms I would recommend you the excellent jQuery
p26641
aVform plugin
p26642
aVAfter realizing their mistake, Microsoft started putting efforts into jQuery and in my opinion a day will come when they will deprecate their library (well not before deprecating classic WebForms as the  depends on it)
p26643
as(dp26644
g16
V29407
p26645
stp26646
a((dp26647
g2
(lp26648
VYes there is a way to generate and serve images dynamically with ASP
p26649
aVNET MVC
p26650
aVHere's an example:
p26651
aVAnd then simply include this image in the view:
p26652
as(dp26653
g16
V29407
p26654
stp26655
a((dp26656
g2
(lp26657
VIn HTML a drop down is represented by the  element which is a collection of
p26658
aVEach  has a value and text
p26659
aVThat's all
p26660
aVSo keep the additional information in your data store and use the value of the selected element to query it when needed
p26661
as(dp26662
g16
V29407
p26663
stp26664
a((dp26665
g2
(lp26666
VTry specifying a virtual path to the user control:
p26667
as(dp26668
g16
V29407
p26669
stp26670
a((dp26671
g2
(lp26672
VYou may take a look at this blog post
p26673
aVThe solution is to register a custom uri parser so that it recognizes the  protocol:
p26674
as(dp26675
g16
V29407
p26676
stp26677
a((dp26678
g2
(lp26679
VThe suffling is easy:
p26680
aVBut as it is random you cannot unshuffle unless you store the previous string or the mapping
p26681
as(dp26682
g16
V29407
p26683
stp26684
a((dp26685
g2
(lp26686
VYou forgot to indicate that this service should return JSON by decorating it with the  attribute:
p26687
as(dp26688
g16
V29407
p26689
stp26690
a((dp26691
g2
(lp26692
VFireBug is a nice tool that might help you debug AJAX requests
p26693
as(dp26694
g16
V29407
p26695
stp26696
a((dp26697
g2
(lp26698
VA possible limitation is that your code can run only in full trust
p26699
as(dp26700
g16
V29407
p26701
stp26702
a((dp26703
g2
(lp26704
s(dp26705
g16
V29407
p26706
stp26707
a((dp26708
g2
(lp26709
VTwo possibilities here (in my example I will be using a strongly typed view instead of  in order to promote good practice)
p26710
aVUse the Action Syntax:
p26711
aVafter adding this in web
p26712
aVconfig to make sure that proper extension methods are in scope:
p26713
aVOr if you want to avoid the tag soup simply use a partial:
p26714
aVAnd in :
p26715
aVI would definitely choose the second option
p26716
as(dp26717
g16
V29407
p26718
stp26719
a((dp26720
g2
(lp26721
VYou could use a :
p26722
as(dp26723
g16
V29407
p26724
stp26725
a((dp26726
g2
(lp26727
VYou could use editor templates
p26728
aVController:
p26729
aVView:
p26730
aVEditor template for address ():
p26731
as(dp26732
g16
V29407
p26733
stp26734
a((dp26735
g2
(lp26736
VDataSets are uncommon for ASP
p26737
aVNET MVC applications
p26738
aVThere are no server side controls that will allow you to display the contents of a  as the GridView control in WebForms
p26739
aVSo if you are looking for a best practice, I would suggest you put in place some server side processing that will convert your DataSet into an hierarchy of
p26740
aVNET objects that you would pass to a strongly typed view
p26741
aVOf course if this is a new application you wouldn't even bother fetching the data in a DataSet form but you would use an ORM that will directly give you
p26742
aVNET objects
p26743
aVSo once you have the objects you could take a look at the MVCContrib Grid helper
p26744
aVOf course as you are using ASP
p26745
aVNET MVC 1
p26746
aV0 you will have to make sure to download the proper version of  which is compiled against it because the current version is compiled against ASP
p26747
aVNET MVC 2
p26748
ag2721
as(dp26749
g16
V29407
p26750
stp26751
a((dp26752
g2
(lp26753
VHere's an example that uses the XPathSelectElements extension method and retrieves all the  values in the document:
p26754
aVYou will notice the usage of a namespace manager that allows to correctly perform the  queries
p26755
aVUPDATE:
p26756
aVIt seems that the usage of the  extension method was not as obvious as I thought initially
p26757
aVThings to make sure:
p26758
aVYour project is targeting
p26759
aVNET 3
p26760
aV5 or higher
p26761
aVYou've referenced the  assembly in your project
p26762
aVYou've added the  in order to bring the extension method into scope
p26763
as(dp26764
g16
V29407
p26765
stp26766
a((dp26767
g2
(lp26768
VWell, you begin by defining an editor template ():
p26769
aVAnd then replace the  call with :
p26770
aVOnce you've tried this you may come back and ask if you have any problems by explaining the symptoms
p26771
as(dp26772
g16
V29407
p26773
stp26774
a((dp26775
g2
(lp26776
VWell, it is null because you never really initialize the  property and it will be null until you initialize it
p26777
aVSo instead of:
p26778
aVinitialize the property:
p26779
aVWhile this might fix the NullReferenceException you are getting you should be aware that  implements IDisposable meaning that you should make sure to call the Dispose method to avoid leaking connections or creating new connections on each request which could be particularly catastrophic in a web application
p26780
as(dp26781
g16
V29407
p26782
stp26783
a((dp26784
g2
(lp26785
VHowever I want to put some C#/ASP
p26786
aVnet
p26787
aVinto the javascript - pulling in some
p26788
aVdata from the server
p26789
aVYou don't need to put any C#/ASP
p26790
aVNET into javascript to pull data from the server
p26791
aVYou can simply use AJAX
p26792
aVExample with jQuery:
p26793
as(dp26794
g16
V29407
p26795
stp26796
a((dp26797
g2
(lp26798
VThis will depend on whether the file type you are working with supports this
p26799
aVFor example this will not be possible with a text file
p26800
as(dp26801
g16
V29407
p26802
stp26803
a((dp26804
g2
(lp26805
VIn the filter:
p26806
aVAnd then use the  parameter in the new action
p26807
as(dp26808
g16
V29407
p26809
stp26810
a((dp26811
g2
(lp26812
VYou may take a look at this article
p26813
as(dp26814
g16
V29407
p26815
stp26816
a((dp26817
g2
(lp26818
VYou could try like this:
p26819
as(dp26820
g16
V29407
p26821
stp26822
a((dp26823
g2
(lp26824
VNo, there isn't any difference
p26825
as(dp26826
g16
V29407
p26827
stp26828
a((dp26829
g2
(lp26830
VMake sure that the controller action accepts the model as parameter:
p26831
aVNow if you invoke:
p26832
aVThe model should not be valid
p26833
as(dp26834
g16
V29407
p26835
stp26836
a((dp26837
g2
(lp26838
VIf you want to use the built-in unit testing framework of Visual Studio you will need the Visual Studio Team System edition (IIRC Microsoft changed their policy and the unit test framework is available in the Professional Edition of VS2008)
p26839
aVIf you don't have it you can simply download NUnit and enjoy unit testing
p26840
as(dp26841
g16
V29407
p26842
stp26843
a((dp26844
g2
(lp26845
VYou could decorate your unit test with the  attribute:
p26846
aVDon't ask though about asserting the exception message :-)
p26847
as(dp26848
g16
V29407
p26849
stp26850
a((dp26851
g2
(lp26852
VIf I could choose the second I would probably separate this into two functions
p26853
as(dp26854
g16
V29407
p26855
stp26856
a((dp26857
g2
(lp26858
VYou could try this but make sure that the Model is initialized or you might get a :
p26859
as(dp26860
g16
V29407
p26861
stp26862
a((dp26863
g2
(lp26864
VYou may take a look at this sample BinaryReader class which is based on the DataInputStream class
p26865
as(dp26866
g16
V29407
p26867
stp26868
a((dp26869
g2
(lp26870
VUsing the  function on a multi-select list will return an array of the selected values:
p26871
aVand in your html:
p26872
as(dp26873
g16
V29407
p26874
stp26875
a((dp26876
g2
(lp26877
VFrom a layering perspective your description looks good
p26878
aVYou can have the same method names in the DAL and Business layers
p26879
aVThe problem is with the tight coupling
p26880
aVAs you are describing it your web layer instantiates the business layer which instantiates the DAL layer
p26881
aVIf this is the case how do you intend to unit test the business layer in isolation
p26882
aVI would suggest you introduce a level of abstraction to the DAL and business layers (by having them implement interfaces)
p26883
aVThen the business layer implementation could take the DAL interface as a constructor argument (constructor injection) instead of having it instantiate the DAL
p26884
aVThis level of abstraction will allow you to substitute the real DAL in the unit test by a mock object and test the business layer in isolation
p26885
aVAll the plumbing (instantiations) will be done at the web tier
p26886
as(dp26887
g16
V29407
p26888
stp26889
a((dp26890
g2
(lp26891
VYou may find this article on MSDN interesting:
p26892
aVTo summarize the results, WCF is
p26893
aV25%\u201450% faster than ASP
p26894
aVNET Web
p26895
aVServices, and approximately 25% faster
p26896
aVthan
p26897
aVNET Remoting
p26898
as(dp26899
g16
V29407
p26900
stp26901
a((dp26902
g2
(lp26903
VYou should reattach the menu to the DOM element that was updated by the UpdatePanel:
p26904
as(dp26905
g16
V29407
p26906
stp26907
a((dp26908
g2
(lp26909
VYou may take a look at the jquery history plugin
p26910
aVIf you are using  to perform the AJAX requests you might find this article helpful as well as this video
p26911
as(dp26912
g16
V29407
p26913
stp26914
a((dp26915
g2
(lp26916
VI might be misunderstanding your question but if you want to to get the current user appdata folder you could use this:
p26917
aVso your code might become:
p26918
aVor even shorter:
p26919
as(dp26920
g16
V29407
p26921
stp26922
a((dp26923
g2
(lp26924
VThe  class generated by  and implementing the service contract should be used to invoke the service
p26925
aVIt's just a client proxy
p26926
aVIf you want to debug the service you should run the service in Debug mode and place a breakpoint there
p26927
as(dp26928
g16
V29407
p26929
stp26930
a((dp26931
g2
(lp26932
VIn C# errors and warnings have numbers
p26933
aVallows you to suppress some warnings that the compiler might emit
p26934
as(dp26935
g16
V29407
p26936
stp26937
a((dp26938
g2
(lp26939
VAlso as there's no controller specified in the url you should make sure that the controller that contains this action is the default controller in the routes
p26940
as(dp26941
g16
V29407
p26942
stp26943
a((dp26944
g2
(lp26945
VPlain old ADO
p26946
aVNET should be fine:
p26947
as(dp26948
g16
V29407
p26949
stp26950
a((dp26951
g2
(lp26952
VRemove this  class as well as the static  method and replace it with a  instance method like so:
p26953
aVAlso you probably want to output to the HttpResponse instead of a console in a web application
p26954
aVAnother remark is about your file path: , NTFS usually doesn't like such patterns
p26955
as(dp26956
g16
V29407
p26957
stp26958
a((dp26959
g2
(lp26960
VThis has nothing to do with accuracy of trigonometric functions but more with the CLS type system
p26961
aVAccording to the documentation a double has 15-16 digits precision (which is exactly what you get) so you can't be more precise with this type
p26962
aVSo if you want more precision you will need to create a new type that is capable of storing it
p26963
aVAlso notice that you should never be writing a code like this:
p26964
aVYou should do instead:
p26965
as(dp26966
g16
V29407
p26967
stp26968
a((dp26969
g2
(lp26970
VAs I understand it your controller uses constructor injection and depends on  and
p26971
aVAs a new controller instance is created on each request this means that your controller will always have access to the private fields where you stored those repositories ( and )
p26972
aVAs a consequence to this you don't need to have the  property of
p26973
aVIn your POST action you could directly use it:
p26974
aVSo remove the  property of the  class as the view doesn't need a repository
p26975
aVIt's the controller that works with the repository
p26976
as(dp26977
g16
V29407
p26978
stp26979
a((dp26980
g2
(lp26981
VHere's a method you could use:
p26982
aVlike this:
p26983
as(dp26984
g16
V29407
p26985
stp26986
a((dp26987
g2
(lp26988
VThere are many jquery plugins that allow you to have this nice animated notification bar such as jGrowl and jBar
p26989
aVJust pick one of them, try it and if you have problems implementing it don't hesitate to ask
p26990
as(dp26991
g16
V29407
p26992
stp26993
a((dp26994
g2
(lp26995
VDoes the poxy create a hidden service
p26996
aVon the client side and send the
p26997
aVClient_abc to the server when a call
p26998
aVis made
p26999
aVother wise how is the
p27000
aVresponse from the server comming to
p27001
aVthe client for a normal method call
p27002
aV(request -response)
p27003
aVThe client doesn't create a hidden service, all it does is serialize the request using the specified binding and send it over the wire using low level classes such as WebRequest for example
p27004
aVAll this internal plumbings of course are hidden so that you don't have to worry about them and it looks as if you were calling a local function
p27005
aVThe server on the other hand does the same serialization and sends the response which the client deserializes back to objects
p27006
aVIf my service is WCF but if the client
p27007
aVis java , the proxy created at the
p27008
aVclient side will be java_Proxy ,now
p27009
aVhow is this call coverted and received
p27010
aVat the server side
p27011
aVThis will depend on what binding the service is using
p27012
aVFor example  is compatible and JAVA clients will have no problems serializing the objects into XML and sending them over the wire to your service
p27013
aVIf you the other hand your service uses for example a , only
p27014
aVNET clients will be able to call it
p27015
aVHere's a comparison between the different bindings
p27016
as(dp27017
g16
V29407
p27018
stp27019
a((dp27020
g2
(lp27021
VWhat you call code behind executes on the server and it cannot access javascript variables
p27022
aVOne way would be to pass the value of this variable in a HTML form so that it is included the next time you submit it or send it via AJAX
p27023
aVDepending on what you are trying to do there might be other possibilities
p27024
as(dp27025
g16
V29407
p27026
stp27027
a((dp27028
g2
(lp27029
VI think that Blend is purely a design tool and it won't in any case improve/simplify your task as a WPF programmer
p27030
aVDespite this developers strong part is not designing GUIs, so if you want your users to love you hire a designer that uses some tool such as Blend to make GUIs of your applications look better
p27031
aVBelieve me you will see the difference
p27032
as(dp27033
g16
V29407
p27034
stp27035
a((dp27036
g2
(lp27037
VYour static  method looks good and I cannot see anything wrong with it
p27038
as(dp27039
g16
V29407
p27040
stp27041
a((dp27042
g2
(lp27043
VJudging from your description you most probably forgot to put your script into a  function:
p27044
aVThen you can place this wherever you want on the page (, , external script,
p27045
as(dp27046
g16
V29407
p27047
stp27048
a((dp27049
g2
(lp27050
VA few things to notice
p27051
aVYou are sending the request as a JSON string ( and ) while on the server you are expecting an object of type
p27052
aVThe default model binder won't do this transformation
p27053
aVYou will need to either write a custom model binder capable of deserializing JSON back to an MHolder instance or send the request as  pairs (do not stringify):
p27054
as(dp27055
g16
V29407
p27056
stp27057
a((dp27058
g2
(lp27059
VYou need to add the GridView to the page or the  instance you are creating will be garbage collected as soon as you leave this method:
p27060
as(dp27061
g16
V29407
p27062
stp27063
a((dp27064
g2
(lp27065
VYes it is safe as the script is added at the end of the page so you may assume that you could manipulate the DOM as it is already loaded and you don't need to wrap your calls in a
p27066
as(dp27067
g16
V29407
p27068
stp27069
a((dp27070
g2
(lp27071
s(dp27072
g16
V29407
p27073
stp27074
a((dp27075
g2
(lp27076
VNo, a constructor cannot be marked as abstract
p27077
aVIn abstract classes constructors are usually marked as  though, at least that's what I would recommend you doing
p27078
as(dp27079
g16
V29407
p27080
stp27081
a((dp27082
g2
(lp27083
VI would suggest you try the following:
p27084
aVAlso to simplify debugging you could activate tracing by putting this in your app
p27085
aVconfig:
p27086
aVThis will create a detailed log file of the network activity which might simplify debugging
p27087
as(dp27088
g16
V29407
p27089
stp27090
a((dp27091
g2
(lp27092
VYou could put the connection string in the machine
p27093
aVconfig of the server
p27094
aVThis way all the application may use it
p27095
aVAnother advantage of this method is that you won't need to change connection strings when switching between environments
p27096
aVJust store it at the machine level
p27097
as(dp27098
g16
V29407
p27099
stp27100
a((dp27101
g2
(lp27102
VYou are using a multi-select list you need to bind to a model property that is a collection
p27103
aVIn your case you are binding to  which can harbor only a single selected item id
p27104
aVAlso you are using  and  in your partial but in your controller action it is not clear how are those properties populated
p27105
as(dp27106
g16
V29407
p27107
stp27108
a((dp27109
g2
(lp27110
VI would recommend you to use a class name that indicates that a menu is selected instead of id:
p27111
aVThen your click function might look like this:
p27112
as(dp27113
g16
V29407
p27114
stp27115
a((dp27116
g2
(lp27117
VThe only way to make this happen is using javascript:
p27118
aVand in javascript:
p27119
aVAlthough I would suggest you using a submit button:
p27120
aVAnd try to style it to look as an anchor
p27121
aVMy suggestion is to always use submit buttons to submit forms
p27122
aVThis is more semantically correct, you will also find that things like pressing the Enter key while editing a text field will submit the form which is kind of native
p27123
aVSo do what's semantically correct and do the styling in CSS
p27124
as(dp27125
g16
V29407
p27126
stp27127
a((dp27128
g2
(lp27129
VI guess you could simply use the PickupDirectoryLocation property
p27130
aVThis way you are not using magic strings in your code and it makes one less thing to worry about if in future versions of the framework this attribute changes name or location in the configuration file
p27131
as(dp27132
g16
V29407
p27133
stp27134
a((dp27135
g2
(lp27136
VRight Click on the XSD file and choose  or F7 (Shift + F7 for designer)
p27137
as(dp27138
g16
V29407
p27139
stp27140
a((dp27141
g2
(lp27142
s(dp27143
g16
V29407
p27144
stp27145
a((dp27146
g2
(lp27147
VYou may try like this:
p27148
aVOr even better in your data source add a third column:
p27149
aVAnd then simply:
p27150
aVor even shorter:
p27151
as(dp27152
g16
V29407
p27153
stp27154
a((dp27155
g2
(lp27156
VLet me try to summarize (correct me if I am wrong)
p27157
aVModel:
p27158
aVController:
p27159
aVView:
p27160
aVNow when you submit the form you will get:
p27161
aVIsn't what you are after
p27162
as(dp27163
g16
V29407
p27164
stp27165
a((dp27166
g2
(lp27167
VTry reading it from the request stream Request
p27168
aVInputStream:
p27169
aVIf you are sending key/value pairs then you could use the UploadValues method and read them simply as request paraneters:
p27170
as(dp27171
g16
V29407
p27172
stp27173
a((dp27174
g2
(lp27175
VYou could use the GetGenericArguments method
p27176
aVSupposing you have an instance of :
p27177
as(dp27178
g16
V29407
p27179
stp27180
a((dp27181
g2
(lp27182
VSo you need to execute this script in the success callback of the AJAX script that is loading the grid
p27183
aVAs you've tagged this with ASP
p27184
aVNET I guess you are using UpdatePanel to trigger AJAX calls
p27185
aVIf this is the case you could use the endRequest event:
p27186
as(dp27187
g16
V29407
p27188
stp27189
a((dp27190
g2
(lp27191
VContrary to classic WebForms in ASP
p27192
aVNET MVC there's no such notion as PostBack
p27193
aVSo to begin with you need a model that is going to represent your data:
p27194
aVThen you are going to need a controller which defines two actions: one for rendering the form and another handling the submission:
p27195
aVAnd finally you might throw a strongly typed view to the model that will contain the markup:
p27196
aVIf nothing of this make any sense to you, I would suggest you reading the getting started tutorials
p27197
as(dp27198
g16
V29407
p27199
stp27200
a((dp27201
g2
(lp27202
VBy URL encoding them (transforming them to  which is the url encoded equivalent of )
p27203
as(dp27204
g16
V29407
p27205
stp27206
a((dp27207
g2
(lp27208
VBy writing interop wrappers around the unmanaged functions
p27209
aVI've also blogged once about it
p27210
aVHere's another example
p27211
as(dp27212
g16
V29407
p27213
stp27214
a((dp27215
g2
(lp27216
VBy using AJAX
p27217
as(dp27218
g16
V29407
p27219
stp27220
a((dp27221
g2
(lp27222
VTry:
p27223
as(dp27224
g16
V29407
p27225
stp27226
a((dp27227
g2
(lp27228
VOne way would be to write a third function:
p27229
as(dp27230
g16
V29407
p27231
stp27232
a((dp27233
g2
(lp27234
VThe reason it doesn't return a value is because when you use the  selector if the radio is not selected it won't be part of the resultset
p27235
aVExample:
p27236
aVNow:
p27237
as(dp27238
g16
V29407
p27239
stp27240
a((dp27241
g2
(lp27242
VHow about writing a helper:
p27243
aVWhich you could use in your page:
p27244
aVAnd if you want to also generate an anchor:
p27245
as(dp27246
g16
V29407
p27247
stp27248
a((dp27249
g2
(lp27250
Vhttp://facebook
p27251
aVcodeplex
p27252
aVcom/
p27253
as(dp27254
g16
V29407
p27255
stp27256
a((dp27257
g2
(lp27258
VThe image needs to be part of the site if you want to use it directly
p27259
aVIf it is situated outside of your site root you could write an action that will fetch the image and serve it:
p27260
aVAnd then use this action:
p27261
as(dp27262
g16
V29407
p27263
stp27264
a((dp27265
g2
(lp27266
VYou may try Indihiang
p27267
as(dp27268
g16
V29407
p27269
stp27270
a((dp27271
g2
(lp27272
VYou could create a custom action attribute:
p27273
aVAnd then decorate the controller action that generates javascript with this attribute:
p27274
aVIn this case you no longer need the random string you are appending
p27275
as(dp27276
g16
V29407
p27277
stp27278
a((dp27279
g2
(lp27280
VYou don't need to register the submit event for the form inside the click handler of the button
p27281
aVAs it is a submit button it will automatically try to submit the form for which you register the corresponding handler:
p27282
as(dp27283
g16
V29407
p27284
stp27285
a((dp27286
g2
(lp27287
VWell some OOP languages do have such modifier
p27288
as(dp27289
g16
V29407
p27290
stp27291
a((dp27292
g2
(lp27293
VIn your example  is the action
p27294
aVEach action needs to return an action result (In your case it returns a view)
p27295
aVSo when a controller action method is invoked it does some processing and decides what view would be best adapted to represent the model
p27296
aVThere are many different action results that you might use
p27297
aVThey all derive from ActionResult:
p27298
aVViewResult - if you want to return a View
p27299
aVFileResult - if you want to download a file
p27300
aVJsonResult - if you want to serialize some model into JSON
p27301
aVContentResult - if you want to return plain text
p27302
aVRedirectResult - if you want to redirect to some other action
p27303
aVHttpUnauthorizedResult - if you want to indicate that the user is not authorized to access this action
p27304
aVFooBarResult - a custom action result that you wrote
p27305
as(dp27306
g16
V29407
p27307
stp27308
a((dp27309
g2
(lp27310
VHere comes the black magic:
p27311
aVNotice that not only you can instantiate an interface but also pass arguments to its constructor :-)
p27312
as(dp27313
g16
V29407
p27314
stp27315
a((dp27316
g2
(lp27317
VIt declares a variable that cannot be modified once initialized
p27318
aVSort of readonly
p27319
as(dp27320
g16
V29407
p27321
stp27322
a((dp27323
g2
(lp27324
VYou may try the  property
p27325
aVNote that depending on the type of application (Console, WinForms, ASP
p27326
aVNET, Windows Service,
p27327
aVand the way it is run this might behave differently
p27328
as(dp27329
g16
V29407
p27330
stp27331
a((dp27332
g2
(lp27333
VWill IIS7 keep my threads alive
p27334
aVindefinitely
p27335
aVNo, if the application pool recycles (if there's a long inactivity or some memory threshold is hit) those threads will be stopped as the application will be unloaded from memory
p27336
aVIf those objects are so much precise I wouldn't recommend you keeping them in memory but rather serialize them to some persistent storage so that they could be processed later in case of failure
p27337
as(dp27338
g16
V29407
p27339
stp27340
a((dp27341
g2
(lp27342
VI would suggest you MTOM encoding in this case
p27343
aVAnd here's another example
p27344
aVStarting from IIS7 you can use  binary bindings but not in IIS6
p27345
as(dp27346
g16
V29407
p27347
stp27348
a((dp27349
g2
(lp27350
VHere's a jquery plugin that allows you to achieve this effect very easily:
p27351
as(dp27352
g16
V29407
p27353
stp27354
a((dp27355
g2
(lp27356
VYou need to use the proper quotes:
p27357
aVI would recommend you not mixing CSS and markup and externalize this rule into a separate CSS:
p27358
aVand then apply it to the div:
p27359
aVThis will make your markup much cleaner, preserve bandwidth and avoid you errors like the one that you made about using the proper quotes
p27360
as(dp27361
g16
V29407
p27362
stp27363
a((dp27364
g2
(lp27365
VThose two instructions consume almost no memory and open a file handle
p27366
aVAllocate and fill with 1MB of data a byte array which is stored in memory
p27367
aVWrite to the output file 4000 times this 1MB of data
p27368
aVConclusion : 1MB of memory is consumed and 4GB of data written to a file
p27369
aVSo unless you have very little memory this cannot throw
p27370
as(dp27371
g16
V29407
p27372
stp27373
a((dp27374
g2
(lp27375
VYes there's a difference as you are allocating a local object that once it leaves the method it needs to be garbage collected
p27376
as(dp27377
g16
V29407
p27378
stp27379
a((dp27380
g2
(lp27381
VTo achieve this you could write a custom action filter:
p27382
aVAnd then specify the partial view to be used:
p27383
aVAnd finally in your view assuming you have the following link:
p27384
aVYou could make the  function to update the proper div:
p27385
as(dp27386
g16
V29407
p27387
stp27388
a((dp27389
g2
(lp27390
VI would recommend you looking at the excellent datejs library which has many useful functions to manipulate dates
p27391
as(dp27392
g16
V29407
p27393
stp27394
a((dp27395
g2
(lp27396
V is called boundary and it is a random string that should never appear in the data you are sending and is used as separator between the values
p27397
aVHere's an example of sending such a request to a given address:
p27398
as(dp27399
g16
V29407
p27400
stp27401
a((dp27402
g2
(lp27403
VDue to the stateless nature of the HTTP protocol, pre-loading webpages could be challenging
p27404
aVOne way to achieve this would be to have a minimal HTML sent to the client initially and then progressively enhance parts of the site using AJAX
p27405
aVDuring the time those AJAX requests are being executed you could have some spinner on the page saying that the site is being loaded, but if you want to have real progress bars (such as the one GMail uses) things become even more challenging
p27406
as(dp27407
g16
V29407
p27408
stp27409
a((dp27410
g2
(lp27411
VThe reason why only the  property is populated is because in your form you are only having input fields and dropdown lists for it
p27412
aVThe model binder populates properties from what's sent in the request
p27413
aVYou are posting a form which contains values only for the
p27414
aVAs far as the  and  properties are concerned you are only displaying them () and they are never sent to the server
p27415
aVAlso the model binder invokes the default constructor of your model which doesn't initialize those properties neither, so they are null at postback
p27416
as(dp27417
g16
V29407
p27418
stp27419
a((dp27420
g2
(lp27421
VYou could check the Transaction
p27422
aVCurrent property:
p27423
as(dp27424
g16
V29407
p27425
stp27426
a((dp27427
g2
(lp27428
VDoes the
p27429
aVNET's Virtual Machine
p27430
aVcompiles the CIL bytecode (and then
p27431
aVexecute the code at the lowest level -
p27432
aVCPU assembler)
p27433
aVYes, it's a component of the CLR called JIT (Just-In-Time compilation) that converts the Intermediary Language code (emitted by the compiler of the programming language) into a machine code
p27434
aVThere's no interpreter as there is in the dynamic languages such as Ruby, PHP, Python
p27435
aVUPDATE:
p27436
aVAs pointed out in the comments by @Nick Craver since the addition of the DLR in
p27437
aVNet 4 brings the possibility of using dynamic language concepts in the CLR
p27438
as(dp27439
g16
V29407
p27440
stp27441
a((dp27442
g2
(lp27443
VStatic files such as
p27444
aVhtml pages that exist on disc will be directly served by the web server
p27445
aVIf you are hosting your application in II7 integrated mode you could try adding the following route:
p27446
aVBy default routing is not applied when a physical file exists which could be turned off by using
p27447
as(dp27448
g16
V29407
p27449
stp27450
a((dp27451
g2
(lp27452
VThere's the JavaScriptSerializer class (although you will need to reference the   assembly the class works perfectly fine in WinForms/WPF applications)
p27453
aVAlso even if the DataContractJsonSerializer class was designed for WCF it works fine in client applications
p27454
as(dp27455
g16
V29407
p27456
stp27457
a((dp27458
g2
(lp27459
VYour code might look as any standard ADO
p27460
aVNET code and you will be using an :
p27461
as(dp27462
g16
V29407
p27463
stp27464
a((dp27465
g2
(lp27466
s(dp27467
g16
V29407
p27468
stp27469
a((dp27470
g2
(lp27471
s(dp27472
g16
V29407
p27473
stp27474
a((dp27475
g2
(lp27476
VWhen the process is terminated the memory is reclaimed back by the OS
p27477
aVOf course this argument shouldn't in any case be used to not perform proper memory management by the program
p27478
as(dp27479
g16
V29407
p27480
stp27481
a((dp27482
g2
(lp27483
VThe common way to locate files that are part of an ASP
p27484
aVNET application (or an ASP
p27485
aVNET MVC for that matter) is to use  which will automatically be converted to an absolute path where  is the root of the web site
p27486
aVNo matter what assemblies you are referencing in an ASP
p27487
aVNET application or from where they will all end up in the  folder
p27488
as(dp27489
g16
V29407
p27490
stp27491
a((dp27492
g2
(lp27493
VYou will need to first load the assembly:
p27494
as(dp27495
g16
V29407
p27496
stp27497
a((dp27498
g2
(lp27499
VMaking a custom PDF browser control could be an extremely challenging task
p27500
aVYou could instead use the real Adobe Reader in your application as it is provided as a COM control which could be hosted in any Windows application
p27501
aVHere are the steps:
p27502
aVStart a new WinForms application
p27503
aVMake the Acrobat control available in the toolbox (Tools -> Add/Remove Toolbox Items: turn on "Adobe Acrobat 7
p27504
aV0 Browser Document" in COM Components tab)
p27505
aVDon't forget to grab a cup of coffee before clicking on the COM tab
p27506
aVDrag the control to the form
p27507
aVManipulate it:
p27508
as(dp27509
g16
V29407
p27510
stp27511
a((dp27512
g2
(lp27513
VI would recommend you using the highest possible object in the hierarchy that does the job
p27514
aVIn your case this would be :
p27515
as(dp27516
g16
V29407
p27517
stp27518
a((dp27519
g2
(lp27520
VYou may take a look at xp_cmdshell:
p27521
as(dp27522
g16
V29407
p27523
stp27524
a((dp27525
g2
(lp27526
VIt has a single argument which represents the text
p27527
aVIn your example the last two arguments will be ignored
p27528
aVI suppose it is a failed attempt to personalize the buttons
p27529
as(dp27530
g16
V29407
p27531
stp27532
a((dp27533
g2
(lp27534
s(dp27535
g16
V29407
p27536
stp27537
a((dp27538
g2
(lp27539
s(dp27540
g16
V29407
p27541
stp27542
a((dp27543
g2
(lp27544
s(dp27545
g16
V29407
p27546
stp27547
a((dp27548
g2
(lp27549
VThe reason this happens is because you never close the underlying stream and reuse the same binary writer to write to the file which will append of course
p27550
aVI would recommend you close the stream once you've finished writing to the file:
p27551
as(dp27552
g16
V29407
p27553
stp27554
a((dp27555
g2
(lp27556
VNo, there is no way because anonymous types are just a compile time artifact, at runtime they are just regular types emitted by the compiler
p27557
aVAs they are compiler generated those types are marked with the CompilerGeneratedAttribute which could be used to determine if this is the case
p27558
aVOf course that will return  also for types that were decorated with this attribute so it's not 100% guarantee that it is an anonymous type
p27559
as(dp27560
g16
V29407
p27561
stp27562
a((dp27563
g2
(lp27564
VMany things are wrong:
p27565
aVYou didn't include jQuery in your page and you try to use functions from it
p27566
aVYou didn't close your  tag
p27567
aVYour div is completely broken
p27568
aVYou don't have a
p27569
aVYour document doesn't have a  :-)
p27570
aVYour script is outside of the html
p27571
aVis a property not a function
p27572
as(dp27573
g16
V29407
p27574
stp27575
a((dp27576
g2
(lp27577
VOnce you compile this you get an executable
p27578
aVNavigate to the directory containing the executable and run it
p27579
as(dp27580
g16
V29407
p27581
stp27582
a((dp27583
g2
(lp27584
VTry this free service but make sure you provide it with valid C# code
p27585
aVUPDATE:
p27586
aVI guess the reason the VB
p27587
aVNET compiler is choking is because of the anonymous function passed to
p27588
aVTry externalizing (deanonymize) this into a separate method:
p27589
aVAnd then use it directly:
p27590
as(dp27591
g16
V29407
p27592
stp27593
a((dp27594
g2
(lp27595
VThe second is for C# 4
p27596
aV0 named arguments
p27597
aVAnd here's a link on MSDN
p27598
as(dp27599
g16
V29407
p27600
stp27601
a((dp27602
g2
(lp27603
VYou could try Red Gate's Reflector with the FileDisassembler plugin
p27604
aVAlso your heritage seems a little strange
p27605
aVWhat did the previous developer do with the source code
p27606
aVDidn't he use source control, performed backups
p27607
aVThe usability of the source code produced by disassembling a
p27608
aVNET assembly will depend on whether the person that wrote the source code obfuscated it when compiling
p27609
as(dp27610
g16
V29407
p27611
stp27612
a((dp27613
g2
(lp27614
VYou need to dedicate a machine that will host the Windows NT service and which must have
p27615
aVNET installed (well you could use one of the web servers as state server but IMHO this would be a very bad idea):
p27616
aVAnd then instruct your application to use this server:
p27617
aVwhere of course you would replace  with the IP address of the server hosting the NT service
p27618
aVNote1: don't forget to decorate the objects you intend to store into session with the  attribute
p27619
aVNote2: this is a good solution in a load balanced environment but if you are looking for a real failover clustering you should use SQL server
p27620
aVYou may read more details about ASP
p27621
aVNET session state on MSDN
p27622
as(dp27623
g16
V29407
p27624
stp27625
a((dp27626
g2
(lp27627
VYou could put the  outside the user control in the calling page
p27628
as(dp27629
g16
V29407
p27630
stp27631
a((dp27632
g2
(lp27633
VThis behavior could be related to the fact that the application pool in IIS is not loaded into memory when the first request arrives
p27634
as(dp27635
g16
V29407
p27636
stp27637
a((dp27638
g2
(lp27639
VYou could use Samba to crate a Windows share on Linux
p27640
as(dp27641
g16
V29407
p27642
stp27643
a((dp27644
g2
(lp27645
VThe only way to answer this question is to perform load tests
p27646
aVApache Bench is a good tool for this
p27647
aVJMeter is another one that provides a GUI
p27648
as(dp27649
g16
V29407
p27650
stp27651
a((dp27652
g2
(lp27653
VYou could use the success callback which will be invoked once the AJAX request succeeds and update the contents of your textarea:
p27654
as(dp27655
g16
V29407
p27656
stp27657
a((dp27658
g2
(lp27659
VPersonally I use it only for stuff that I know that needs to be encoded
p27660
aVNo need to use it for integer types  but that's just a personal preference
p27661
as(dp27662
g16
V29407
p27663
stp27664
a((dp27665
g2
(lp27666
VDon't forget to pass the model to the view:
p27667
as(dp27668
g16
V29407
p27669
stp27670
a((dp27671
g2
(lp27672
VNo, there isn't, unless you use some ActiveX
p27673
as(dp27674
g16
V29407
p27675
stp27676
a((dp27677
g2
(lp27678
VYou will need to add a property in your view model that will hold the selected account type:
p27679
aVAnd then in your view:
p27680
aVThe drop down list is constructed from the  collection of  and  and  should be properties of this
p27681
as(dp27682
g16
V29407
p27683
stp27684
a((dp27685
g2
(lp27686
VPOCO support have been introduced in WCF since
p27687
aVNET 3
p27688
aV5 SP1 and you no longer need to decorate your objects with  and  attributes
p27689
aVPublic properties will be automatically exposed
p27690
aVAlthough I would recommend you explicitly marking them with those attributes
p27691
as(dp27692
g16
V29407
p27693
stp27694
a((dp27695
g2
(lp27696
VYou don't need to store the  variable back to the session
p27697
aVAs both the  and  variable are pointing to the same object modifying it in  will also modify it in Session
p27698
as(dp27699
g16
V29407
p27700
stp27701
a((dp27702
g2
(lp27703
VYou could define a base controller decorated with this attribute that all controllers in the area derive from
p27704
as(dp27705
g16
V29407
p27706
stp27707
a((dp27708
g2
(lp27709
VI've used Spring
p27710
aVNET AOP features with NHibernate to implement automatic SQL transaction commit/rollback
p27711
aVDepending on how those Controller classes are implemented in your ASP
p27712
aVNET application this might or not be a viable option
p27713
aVSometimes a custom IHttpModule is sufficient
p27714
as(dp27715
g16
V29407
p27716
stp27717
a((dp27718
g2
(lp27719
VI have a controller who builds some
p27720
aVobjects and passes them to a view
p27721
aVusing ViewData
p27722
aVWrong: define a view model class and make your view strongly typed to this model instead of using
p27723
aVOnce the view is rendered you will have a form and you should put everything you need to get back in this form: visible input fields that the user will manipulate and hidden fields that will contain any context you would like to get in the action you are posting to
p27724
aVAnother option is to store this information into cookies or session
p27725
as(dp27726
g16
V29407
p27727
stp27728
a((dp27729
g2
(lp27730
s(dp27731
g16
V29407
p27732
stp27733
a((dp27734
g2
(lp27735
VIf I had those functions without absolutely any other help or indication the first try I would do is this (just looking at the signature):
p27736
aVThen I will try to debug this and see what the actual type of  is after calling the function
p27737
aVLooking at the name of the function I would assume , so I would cast:
p27738
aVAs far as a range is concerned those function signatures are far from self-explaining
p27739
aVMaybe the  parameter
p27740
aVAlso note that in C# there's no such thing as
p27741
aVThere's System
p27742
aVUInt32 and uint which is a shortcut
p27743
as(dp27744
g16
V29407
p27745
stp27746
a((dp27747
g2
(lp27748
VMartin Fowler does a great job explaining those patterns
p27749
as(dp27750
g16
V29407
p27751
stp27752
a((dp27753
g2
(lp27754
VBy default session cannot be shared between different applications
p27755
aVFrom what I can see you have two distinct applications  and  which run in separate virtual directories and probably even separate application pools, so don't expect to share session between them
p27756
aVAs always there are workarounds that you may find useful
p27757
aVAs you can see it's using a  hack (reflection) to circumvent ASP
p27758
aVNET team designer's determination to not expose certain classes and properties and make our life as developers difficult
p27759
as(dp27760
g16
V29407
p27761
stp27762
a((dp27763
g2
(lp27764
VBecause your program terminates before it has any time to execute the threads
p27765
aVAdding a simple
p27766
aVat the end of the  method should do just fine
p27767
as(dp27768
g16
V29407
p27769
stp27770
a((dp27771
g2
(lp27772
VYou could try a custom model binder:
p27773
aVAnd then:
p27774
aVor register it globally:
p27775
as(dp27776
g16
V29407
p27777
stp27778
a((dp27779
g2
(lp27780
VWhy do you need a  array
p27781
aVThe default model binder works with HttpPostedFileBase:
p27782
aVAnd the controller action that will handle this:
p27783
aVThis works also with multiple files
p27784
aVYou simply use  in the signature of the action method
p27785
as(dp27786
g16
V29407
p27787
stp27788
a((dp27789
g2
(lp27790
VThe pattern for month is capital :
p27791
aVstands for minutes and you've already used it at the end
p27792
as(dp27793
g16
V29407
p27794
stp27795
a((dp27796
g2
(lp27797
VFramework
p27798
aVSome predefined architecture that a developer has chosen and which dictates how the application will be written
p27799
aVIt usually already includes many concepts which helps the developer to concentrate on the domain of the application instead of the plumbing
p27800
aVThis plumbing is provided by the framework
p27801
aVFor example the
p27802
aVNET framework provides out-of-the-box tools that would allow you to talk to web servers, without even knowing the internals of the TCP/IP protocol (actually it helps knowing the internals but you get the point)
p27803
aVLibrary
p27804
aVA reusable compiled unit that can be redistributed and reused across various projects
p27805
aVWell not necessary compiled in case of dynamic languages
p27806
aVIDE
p27807
aVIt's the development environment where you create the other three parts (usually text editor), it might also include compiler and the possibility to execute, debug and see the output of the program in order to speed up the development process
p27808
aVAPI
p27809
aVApplication Programming Interface
p27810
aVThis could mean many things but usually it is a set of functions given to the disposition of the developer and which perform specific tasks and work only in a specific context
p27811
as(dp27812
g16
V29407
p27813
stp27814
a((dp27815
g2
(lp27816
VYou don't need to create any interface, nor worry about the  method or its implementation
p27817
aVAll you need to do is decorate your controller with the  attribute, like so:
p27818
aVThen go ahead and write some actions inside this controller that might throw an exception and instead of the YSOD (Yellow Screen of Death) you will see a custom error page that you've configured
p27819
aVYou also need to activate custom errors in your web
p27820
aVconfig:
p27821
aVBy default the  view will be rendered in case of exception
p27822
aVYou could define specific error views based on the exception being thrown:
p27823
aVmeans that if an  is thrown, the  view will get rendered
p27824
aVThat's what the framework provides you out-of-the-box
p27825
aVIf this is not enough for your needs and doesn't work in your specific scenario you might start worrying about implementing a custom
p27826
as(dp27827
g16
V29407
p27828
stp27829
a((dp27830
g2
(lp27831
VThere are memcached providers for ASP
p27832
aVNET
p27833
as(dp27834
g16
V29407
p27835
stp27836
a((dp27837
g2
(lp27838
s(dp27839
g16
V29407
p27840
stp27841
a((dp27842
g2
(lp27843
VTo start off don't use
p27844
aVAlways use strongly typed views
p27845
aVThen strongly type the view and iterate over the model:
p27846
aVIf you are lucky you might even get IntelliSense in the view that will offer you properties of the model
p27847
as(dp27848
g16
V29407
p27849
stp27850
a((dp27851
g2
(lp27852
VAssuming you have the following model:
p27853
aVYour controller might look like this:
p27854
aVAnd the view:
p27855
as(dp27856
g16
V29407
p27857
stp27858
a((dp27859
g2
(lp27860
VI would probably go for a custom action result (the actual serialization in my example is done with FileHelpers):
p27861
aVYou could even prettify this return statement (generics are ugly and superfluous in this case) by using an extension method:
p27862
aVand then simply:
p27863
as(dp27864
g16
V29407
p27865
stp27866
a((dp27867
g2
(lp27868
VYou could try do this (don't forget that there are Debug and Release section which will be used depending on what type of build you are targeting):
p27869
as(dp27870
g16
V29407
p27871
stp27872
a((dp27873
g2
(lp27874
VYou could use the  selector for this job:
p27875
as(dp27876
g16
V29407
p27877
stp27878
a((dp27879
g2
(lp27880
VInside the function  means something else
p27881
aVYou could capture it though:
p27882
as(dp27883
g16
V29407
p27884
stp27885
a((dp27886
g2
(lp27887
VStructures are value types, so a simple assignment will do the job:
p27888
as(dp27889
g16
V29407
p27890
stp27891
a((dp27892
g2
(lp27893
VThe best way is to leave it fall out of scope and the GC will take care of the memory
p27894
as(dp27895
g16
V29407
p27896
stp27897
a((dp27898
g2
(lp27899
VThe tool is called Visual Studio
p27900
aVThere's even a free version
p27901
aVAnother tool might be hiring a developer that builds
p27902
aVNET applications rapidly
p27903
as(dp27904
g16
V29407
p27905
stp27906
a((dp27907
g2
(lp27908
VThis article provides a good overview of how performance could be improved in ASP
p27909
aVNET site
p27910
as(dp27911
g16
V29407
p27912
stp27913
a((dp27914
g2
(lp27915
VStart by adding a new project to your solution of type Class Library
p27916
aVThen move those classes to this project
p27917
aVFinally reference the project in the ASP
p27918
aVNET site
p27919
as(dp27920
g16
V29407
p27921
stp27922
a((dp27923
g2
(lp27924
VThe current technology used to develop web services on
p27925
aVNET is WCF
p27926
aVFor interoperability with non
p27927
aVNET clients you should consider using basicHttpBinding endpoint
p27928
aVYou could even expose multiple endpoints with different bindings, for example expose interoperable endpoint for non
p27929
aVNET clients and some fast binding for
p27930
aVNET clients
p27931
aVHere's a nice article on MSDN covering the performance of the different bindings
p27932
aVGiven those keywords you might checkout the tutorials
p27933
as(dp27934
g16
V29407
p27935
stp27936
a((dp27937
g2
(lp27938
VIf you implementing some custom protocol you could send a marker to indicate the current object end so that the client can deserialize it and add it to a resulting list
p27939
aVAnother option is to read the whole stream and deserialize the entire array at one go which could of course consume more memory
p27940
as(dp27941
g16
V29407
p27942
stp27943
a((dp27944
g2
(lp27945
VAs for the validation is concerned you shouldn't use multiple entities in the view
p27946
aVYou should use a single entity which is called ViewModel
p27947
aVThis ViewModel is a class that represents the data on the view
p27948
aVIf you are using DataAnnotations for validation you could decorate this view model properties with attributes that indicate how to be validated
p27949
as(dp27950
g16
V29407
p27951
stp27952
a((dp27953
g2
(lp27954
VYou could use a format:
p27955
as(dp27956
g16
V29407
p27957
stp27958
a((dp27959
g2
(lp27960
V is the native DOM element
p27961
aVis a jQuery object that allows you to call functions such as  on it
p27962
as(dp27963
g16
V29407
p27964
stp27965
a((dp27966
g2
(lp27967
VAs you've discovered ValidationSummary is for displaying error messages
p27968
aVIf you are using AJAX you could have your action return messages in JSON:
p27969
aVAnd then call it:
p27970
as(dp27971
g16
V29407
p27972
stp27973
a((dp27974
g2
(lp27975
VI would write a helper method for this:
p27976
aVAnd then in your master:
p27977
as(dp27978
g16
V29407
p27979
stp27980
a((dp27981
g2
(lp27982
VYou need to create a Silverlight Class Library:
p27983
as(dp27984
g16
V29407
p27985
stp27986
a((dp27987
g2
(lp27988
VYou could use the  function to achieve this effect:
p27989
as(dp27990
g16
V29407
p27991
stp27992
a((dp27993
g2
(lp27994
VThe point of signing a JAR file is to verify that it has not been tampered with
p27995
aVOnce a jar file is signed you can verify that this file hasn't been modified by someone else
p27996
aVThis ensures that the file originates from the person that originally signed it
p27997
aVIf someone has modified the file in-between the signature verification process will fail
p27998
aVYou may check this article for more details on how public key cryptography could be used to perform digital signature
p27999
as(dp28000
g16
V29407
p28001
stp28002
a((dp28003
g2
(lp28004
VYou could try mocking the  variable to return some predefined methods for your unit test
p28005
aVIf  is set by a variable passed to the constructor of the class you are testing (constructor injection) then this might be pretty easy (assuming of course that the  property is overridable and the class is not sealed)
p28006
as(dp28007
g16
V29407
p28008
stp28009
a((dp28010
g2
(lp28011
VI can't see anything wrong with your code and I couldn't reproduce the behavior you are describing
p28012
aVBy default sessions are tracked by cookies so make sure that you've enabled cookies on your browser or it might create a new session on each request
p28013
aVAlso make sure you store a value into the session or the session cookie won't be created
p28014
aVLet's take for example the following controller:
p28015
aVFirst navigate to the  action, then go to  and when you come back to  the session id changes
p28016
aVThat's normal as nothing was stored into the session
p28017
aVIf you simply set some value  it will work as the session cookie will be set by the server
p28018
as(dp28019
g16
V29407
p28020
stp28021
a((dp28022
g2
(lp28023
VTo sum up:
p28024
aVYou've created a  class inside the  namespace
p28025
aVThis class declares a nested class called
p28026
aVInside the helper  located in the  namespace you are trying to access the  class
p28027
aVYou could achieve this by using  but I wouldn't recommend you doing so
p28028
aVNesting classes like this makes no sense
p28029
aVInstead you could place each view model class into a separate  file and put it directly into the  namespace:
p28030
aVThen inside the helper class use could use directly the  class
p28031
as(dp28032
g16
V29407
p28033
stp28034
a((dp28035
g2
(lp28036
VYou could use the setTimeout function:
p28037
as(dp28038
g16
V29407
p28039
stp28040
a((dp28041
g2
(lp28042
VStrings are immutable reference types
p28043
aVThere's the ldstr IL instruction which allows  pushing a new object reference to a string literal
p28044
aVSo when you write:
p28045
aVThe compiler tests if the  literal has already been defined in the metadata and if not declare it
p28046
aVThen it translates this code into the following IL instruction:
p28047
aVWhich basically makes the  local variable point to the string literal defined in the metadata
p28048
aVSo I would say that your answer is not quite right as the compiler doesn't translate this into a call to a constructor
p28049
as(dp28050
g16
V29407
p28051
stp28052
a((dp28053
g2
(lp28054
VOnce you get the current position you could calculate the distance between those two points and test if it is less than 10 meters
p28055
as(dp28056
g16
V29407
p28057
stp28058
a((dp28059
g2
(lp28060
VHere's a nice blog post that covers this topic
p28061
aVBasically you will need to inject a controlled randomness into the object under test
p28062
as(dp28063
g16
V29407
p28064
stp28065
a((dp28066
g2
(lp28067
VThe easiest is probably using LINQs Take and Skip extension methods:
p28068
as(dp28069
g16
V29407
p28070
stp28071
a((dp28072
g2
(lp28073
VThe lifetime of a singleton is equal or lower (if it is lazy loaded) to the lifetime of the application
p28074
aVWhen the application pool recycles, the application stops and the memory that was used to store the singletons is reclaimed by the operating system
p28075
aVThe singleton will be available in all threads of the application but as it is stored in the memory space of the process running this application it won't be available to other processes
p28076
aVAs to answer your question whether it is a good idea to store data using the singleton pattern in WCF this will entirely depend on your scenario and what you want to store and where do you want it to be available
p28077
aVWCF provides many points of extensions that would allow you to avoid static methods
p28078
aVA disadvantage of singletons is that they are difficult to unit test so I usually try to avoid them if possible
p28079
as(dp28080
g16
V29407
p28081
stp28082
a((dp28083
g2
(lp28084
VTo name a few:
p28085
aVCodePlex
p28086
aVSourceForge
p28087
aVGitHub
p28088
aVGoogle Code
p28089
as(dp28090
g16
V29407
p28091
stp28092
a((dp28093
g2
(lp28094
VYou could include  symbol files associated to the assembly which contain metadata information and when an exception is thrown it will contain full information in the stacktrace of where this exception originated
p28095
aVIt will contain line numbers of each method in the stack
p28096
as(dp28097
g16
V29407
p28098
stp28099
a((dp28100
g2
(lp28101
VYou could use a BinaryReader:
p28102
aVAnd then:
p28103
as(dp28104
g16
V29407
p28105
stp28106
a((dp28107
g2
(lp28108
VYou could define an invisible submit button inside the form:
p28109
aVAlso the  action on the  controller  that you are invoking asynchronously needs to return only a partial view or directly some content
p28110
aVNotice that  is no longer used neither in the controller action nor in the resulting div:
p28111
as(dp28112
g16
V29407
p28113
stp28114
a((dp28115
g2
(lp28116
VTry using a stateless session:
p28117
as(dp28118
g16
V29407
p28119
stp28120
a((dp28121
g2
(lp28122
s(dp28123
g16
V29407
p28124
stp28125
a((dp28126
g2
(lp28127
VYou cannot have two actions with the same name and verb that differ only with argument types
p28128
aVIMHO naming your two actions differently would be a good idea assuming that they perform different tasks and take different inputs
p28129
as(dp28130
g16
V29407
p28131
stp28132
a((dp28133
g2
(lp28134
VTry this:
p28135
aVand in your action:
p28136
aVor if you prefer action arguments:
p28137
as(dp28138
g16
V29407
p28139
stp28140
a((dp28141
g2
(lp28142
VThere's no order of fields in the JSON format so defining an order doesn't make sense
p28143
aVis equivalent to  (both represent a strictly equivalent object instance)
p28144
as(dp28145
g16
V29407
p28146
stp28147
a((dp28148
g2
(lp28149
VYou may find this thread useful
p28150
aVAnd here's a google code project exemplifying this (it P/Invokes into )
p28151
as(dp28152
g16
V29407
p28153
stp28154
a((dp28155
g2
(lp28156
VThere's a difference between session and authentication
p28157
aVSession is available throughout the whole application, even if a user is not signed in
p28158
aVIn the default ASP
p28159
aVNET MVC 2
p28160
aV0 project template you can populate the session data just after the call of
p28161
aVThis is where the user credentials have been validated and an authentication cookie will is written to the response
p28162
aVYou can use the provided username to fetch any user information from the database if you need to
p28163
as(dp28164
g16
V29407
p28165
stp28166
a((dp28167
g2
(lp28168
VIn the example there's a description of the properties
p28169
aVQuote:
p28170
aVServiceMethod - The web service method to be called
p28171
aVThe signature of
p28172
aVthis method must match the following:
p28173
aVNote that you can replace
p28174
aV"GetCompletionList" with a name of
p28175
aVyour choice, but the return type and
p28176
aVparameter name and type must exactly
p28177
aVmatch, including case
p28178
aVServicePath - The path to the web service that the extender will
p28179
aVpull the word\u005csentence completions
p28180
aVfrom
p28181
aVIf this is not provided, the
p28182
aVservice method should be a page
p28183
aVmethod
p28184
aVSo you need write a web service which will contain a method returning the list of suggestions based on the user input
p28185
as(dp28186
g16
V29407
p28187
stp28188
a((dp28189
g2
(lp28190
VYou could specify the properties to ignore like this:
p28191
as(dp28192
g16
V29407
p28193
stp28194
a((dp28195
g2
(lp28196
VYou could use ildasm
p28197
aVexe:
p28198
aVThen double click on MANIFEST and look at the version:
p28199
aVMetadata version: v4
p28200
ag2721
aV30319 (CLR 4
p28201
aV0, meaning
p28202
aVNET 4
p28203
aV0)
p28204
aVMetadata version: v2
p28205
ag2721
aV50727 (CLR 2
p28206
aV0, meaning
p28207
aVNET 2
p28208
aV0 to
p28209
aVNET 3
p28210
aV5)
p28211
as(dp28212
g16
V29407
p28213
stp28214
a((dp28215
g2
(lp28216
VThe reason for the download not working is because you are attaching a click handler to the anchor and then send an AJAX request  to the action instead of a normal request which won't work
p28217
aVYou can keep the click handler but don't send AJAX request, simply update the  of the anchor
p28218
as(dp28219
g16
V29407
p28220
stp28221
a((dp28222
g2
(lp28223
VWhenever possible I favor the declarative way of programming instead of imperative
p28224
aVWhen you use a declarative approach the CLR can optimize the code based on the characteristics of the machine
p28225
aVFor example if it has multiple cores it could parallelize the execution while if you use an imperative for loop you are basically locking this possibility
p28226
aVToday maybe there's no big difference but I think that in the future more and more extensions like PLINQ will appear allowing better optimization
p28227
as(dp28228
g16
V29407
p28229
stp28230
a((dp28231
g2
(lp28232
VTwo options:
p28233
aVConvince the customer that pagination is necessary or performance will suffer
p28234
aVShow him how other well established sites are doing it
p28235
aVUse AJAX
p28236
aVLoad only what can be seen on the screen, pick a jQuery scroll plugin and when the user scrolls load the missing part with AJAX
p28237
aVA bit like Google Images
p28238
aVYou could also try some out of the box controls to avoid the heavy lifting
p28239
aVNo matter what option you choose fix the tag soup that the view represents currently by using helpers
p28240
as(dp28241
g16
V29407
p28242
stp28243
a((dp28244
g2
(lp28245
VXmlReader will be fast but you need to verify if it is fast enough in your scenario
p28246
aVSuppose that we are looking for a value located in a node called :
p28247
as(dp28248
g16
V29407
p28249
stp28250
a((dp28251
g2
(lp28252
VRule of thumb: if there's a built-in Python function to achieve this functionality use this function
p28253
aVWhy
p28254
aVIt makes your code portable across different systems, more secure and probably faster as there will be no need to spawn an additional process
p28255
as(dp28256
g16
V29407
p28257
stp28258
a((dp28259
g2
(lp28260
VIn ASP
p28261
aVNET the usual convention is to use server side controls which work better with the Postback model
p28262
aVSo you could use the equivalent:
p28263
aVwhich would allow you to access the  variable in the code behind and retrieve the currently selected value
p28264
aVTo make this work with client scripting libraries such as  add a class and use a class selector instead of id selector because of the name mangling that occurs in ASP
p28265
aVNET server side controls:
p28266
as(dp28267
g16
V29407
p28268
stp28269
a((dp28270
g2
(lp28271
VAs far as best practices is concerned I would say: in neither of them
p28272
aVValidation should be separate
p28273
aVFrameworks such as FluentValidation allow you to completely separate your validation logic from your models
p28274
aVBut to answer your question I would put validation into View Models as those are the classes you are binding your controller actions to
p28275
aVYou could also have multiple View Models that are tied to the same model but with different validation rules
p28276
as(dp28277
g16
V29407
p28278
stp28279
a((dp28280
g2
(lp28281
VAbsolutely no functional difference
p28282
aVBoth are valid, although double quotes are more widely used and are preferred
p28283
as(dp28284
g16
V29407
p28285
stp28286
a((dp28287
g2
(lp28288
VAttribute classes cannot be generic
p28289
as(dp28290
g16
V29407
p28291
stp28292
a((dp28293
g2
(lp28294
VYou can use  or  (in
p28295
aVNET 4
p28296
aV0) instead of  but don't expect to find a name to an anonymous type
p28297
aVIn your case using  is better as it will preserve the strong typing at least until you leave the scope of the current method
p28298
as(dp28299
g16
V29407
p28300
stp28301
a((dp28302
g2
(lp28303
VYou should first make sure that your controller action is setting this variable:
p28304
aVOnce you've done this you should no longer get a  and your code should work
p28305
aVOf course as I've already written it multiple times here you should prefer strongly typed view instead of
p28306
aVAlso you should type your model properties accordingly
p28307
aVIt is not the responsibility of the view to parse strings
p28308
aVSo:
p28309
aVAnd in your view:
p28310
aVBy the way this should also be avoided as I have the feeling that you are declaring variables in your view which means that you have the intent of using them
p28311
aVViews are not for declaring variables and writing C# code
p28312
aVThey are markup
p28313
as(dp28314
g16
V29407
p28315
stp28316
a((dp28317
g2
(lp28318
VThere's no such thing as cross domain cookies
p28319
aVYou could share a cookie between  and  but never between  and  and that's for security reasons
p28320
as(dp28321
g16
V29407
p28322
stp28323
a((dp28324
g2
(lp28325
VYou could encrypt sections of your configuration file that contains sensitive data such as passwords
p28326
as(dp28327
g16
V29407
p28328
stp28329
a((dp28330
g2
(lp28331
s(dp28332
g16
V29407
p28333
stp28334
a((dp28335
g2
(lp28336
VHere's an example:
p28337
aVAnd the controller action:
p28338
as(dp28339
g16
V29407
p28340
stp28341
a((dp28342
g2
(lp28343
VYou should use some form of authentication and authorization
p28344
aVIn SOAP based services there's the WS-Security extension
p28345
aVHere's another article on MSDN that explains how this works
p28346
aVHowever I have no idea what is the support for those standards on the PHP side
p28347
aVIf you are using some custom protocol you could simply require a username/password to be sent along with the request and verified on the server side
p28348
as(dp28349
g16
V29407
p28350
stp28351
a((dp28352
g2
(lp28353
VYou need to call the function :
p28354
as(dp28355
g16
V29407
p28356
stp28357
a((dp28358
g2
(lp28359
VAs always start with a model (actually start with a unit test but no time for this here):
p28360
aVThen a controller:
p28361
aVAnd finally a strongly typed view to the model:
p28362
aVYou will probably define an intermediary type to avoid the anonymous types that I've used for brevity
p28363
aVRemark: If your original question was about using an OPTGROUP then ignore my answer and make your intention clear so that you can get a more adapted answer
p28364
as(dp28365
g16
V29407
p28366
stp28367
a((dp28368
g2
(lp28369
Vor if you prefer unobtrusively:
p28370
aVand then:
p28371
as(dp28372
g16
V29407
p28373
stp28374
a((dp28375
g2
(lp28376
VRule of thumb: store in the cookie only the minimum (usually this is the user id) and use this minimum to fetch the rest from your datastore every time you need it
p28377
aVIf you are happy with the performance you can stop reading
p28378
aVIf you realize that there are too many queries to your datastore you could use session or cache the results of your queries
p28379
as(dp28380
g16
V29407
p28381
stp28382
a((dp28383
g2
(lp28384
VIn your master page provide a content placeholder:
p28385
aVIn the 5% of the pages that don't need the default behavior override this placeholder with an empty string:
p28386
aVThe other 95% of the pages will get the common behavior
p28387
as(dp28388
g16
V29407
p28389
stp28390
a((dp28391
g2
(lp28392
VViews are only used to show data passed from a controller action
p28393
aVSo technically you need to send data to another controller action than the one that rendered the current view
p28394
aVA standard way of sending data to a controller action consist of sending GET/POST requests to this action and passing parameters either in the url or in the POST body
p28395
aVOther commonly used storages are the ,  and
p28396
aVAs to answer the second part of your question you will need to provide much more details on how is this grid rendered, how is an item selected, how are you navigating to another controller action
p28397
aVYou could for example use a  with a hidden field inside that indicates the current item
p28398
as(dp28399
g16
V29407
p28400
stp28401
a((dp28402
g2
(lp28403
VIn an ASP
p28404
aVNET MVC application yes:
p28405
aVand then send the AJAX request:
p28406
aVwill load the Foo
p28407
aVascx partial view inside a div
p28408
aVIn a classic ASP
p28409
aVNET WebForms application you will need to setup a generic handler that renders the contents of the user control into the response
p28410
aVHere's an example of a generic handler that could be used:
p28411
as(dp28412
g16
V29407
p28413
stp28414
a((dp28415
g2
(lp28416
VYou shouldn't return anything in a constructor
p28417
aVA constructor is used to initialize the object
p28418
aVIn case you want to know what happens is that if you return  then  will simply be an empty object and if you return for example , then  will have a property
p28419
as(dp28420
g16
V29407
p28421
stp28422
a((dp28423
g2
(lp28424
VA XmlWriter is forward-only so you cannot insert elements in the beginning of the document
p28425
aVOne possibility is to perform two SQL queries to your database
p28426
aVThe first one will aggregate data and return you the three values which you write in the beginning, then you perform your second query to write the rest
p28427
aVThis way the aggregation (min, max, total) is done at the database level and you don't need to calculate them in your code
p28428
aVIf you can't do this you could use a XDocument which will allow you inserting nodes anywhere but it has the whole document in memory which may not be acceptable if the document is big
p28429
as(dp28430
g16
V29407
p28431
stp28432
a((dp28433
g2
(lp28434
VTry:
p28435
aVinstead of:
p28436
as(dp28437
g16
V29407
p28438
stp28439
a((dp28440
g2
(lp28441
VYou could use the
p28442
aVNET 3
p28443
aV5 :
p28444
aVYou will need to make sure that the assembly containing the type you want to  is targeting
p28445
aVNET 3
p28446
ag244
as(dp28447
g16
V29407
p28448
stp28449
a((dp28450
g2
(lp28451
VYou cold use a  instead of  to disable first level cache:
p28452
as(dp28453
g16
V29407
p28454
stp28455
a((dp28456
g2
(lp28457
VMake sure the classes you want to access are public
p28458
aVSo suppose you have the following class in Project 2:
p28459
aVIn Project 1 after you've referenced Project 2 you can use this class:
p28460
as(dp28461
g16
V29407
p28462
stp28463
a((dp28464
g2
(lp28465
VYou will always get an empty list and never null if there are no rows
p28466
as(dp28467
g16
V29407
p28468
stp28469
a((dp28470
g2
(lp28471
s(dp28472
g16
V29407
p28473
stp28474
a((dp28475
g2
(lp28476
VYou might find this blog post helpful
p28477
aVHMACSHA1 is FIPS compliant
p28478
as(dp28479
g16
V29407
p28480
stp28481
a((dp28482
g2
(lp28483
VDid you decorate your service class with the  attribute
p28484
aVAlso try changing the data parameter to:
p28485
aVWhat does FireBug says about this
p28486
aVIs there a request being sent
p28487
aVIf yes what does the server respond
p28488
aVAlso you have a mistake in your url (web services have the ASMX extension)
p28489
aVYou wrote:
p28490
aVWhile it should be:
p28491
aVHere's a complete working example that you may adapt to your needs:
p28492
aVWeb service:
p28493
aVCalling web page:
p28494
as(dp28495
g16
V29407
p28496
stp28497
a((dp28498
g2
(lp28499
VBecause the configuration file being read is the configuration file of the hosting executable
p28500
aVSo for example if you are running you code from  your config file should be named
p28501
aVThe  is never used
p28502
aVIf you are running this in a web site then you should use
p28503
aVYou could try using the OpenMappedExeConfiguration method:
p28504
as(dp28505
g16
V29407
p28506
stp28507
a((dp28508
g2
(lp28509
VYou could write a custom action filter that will execute before each action
p28510
aVThis filter will read the cookie from the request and set a new cookie with the same name and value but with a new expiration date
p28511
as(dp28512
g16
V29407
p28513
stp28514
a((dp28515
g2
(lp28516
VNo, there's nothing on this platform yet that allows you to run Silverlight applications
p28517
aVThe upcoming Windows Phone 7 platform will allow running Silverlight and XNA applications
p28518
aVMy expectations are from MonoDroid to come first which will bring C# to Android and after maybe Moonlight could be ported
p28519
as(dp28520
g16
V29407
p28521
stp28522
a((dp28523
g2
(lp28524
VView locations are resolved only at runtime so I really don't see how this could be done, unless you write some custom step in MSBuild that will analyze the source code and check the existence of corresponding view files but this will be a challenging task
p28525
as(dp28526
g16
V29407
p28527
stp28528
a((dp28529
g2
(lp28530
VMake sure that you are returning an array and that you allow GET requests (in case your are using ASP
p28531
aVNET MVC 2
p28532
aV0):
p28533
aVAnd then follow the examples:
p28534
aVWorks nicely
p28535
aVRemark: FireBug helps diagnosing problems very quickly as it shows you exactly what AJAX requests are being sent and why they succeed or fail
p28536
as(dp28537
g16
V29407
p28538
stp28539
a((dp28540
g2
(lp28541
VYou shouldn't be calling
p28542
aVUse directly  and leave ASP
p28543
aVNET handle the decoding if necessary
p28544
as(dp28545
g16
V29407
p28546
stp28547
a((dp28548
g2
(lp28549
VThe reason your selected value doesn't work is because you are using Urls as option values but specifying  in the  clause
p28550
aVTry like this:
p28551
aVindicates the property that will be used as option value while  indicates the property that will be used as option label
p28552
aVIf you want to preserve the  you could try:
p28553
aVYou will notice that I've inverted the Name and Id as it seemed more logical to use the model Id as option value
p28554
aVUPDATE:
p28555
aVThe reason this doesn't work is because you are binding to an  (the first argument of the  helper)
p28556
aVIt should be a scalar property while you are using the same  collection:
p28557
aVMy remark about not using Urls as option values stands true
p28558
as(dp28559
g16
V29407
p28560
stp28561
a((dp28562
g2
(lp28563
VGoogle provide a great Geocoding API
p28564
aVIt supports JSON and XML
p28565
aVExample: http://maps
p28566
aVgoogle
p28567
aVcom/maps/api/geocode/xml
p28568
aVaddress=1600+Amphitheatre+Parkway,+Mountain+View,+CA&sensor;=true
p28569
aVThe free version is limited to 2,500 geolocation requests per day
p28570
as(dp28571
g16
V29407
p28572
stp28573
a((dp28574
g2
(lp28575
VNo you don't need to serve the form on HTTPS
p28576
aVYou need to post it on HTTPS though
p28577
aVFor example the not infamous Twitter login box is served on HTTP
p28578
aVWhat matters is to establish a secure connection when sending the username and password to the server
p28579
as(dp28580
g16
V29407
p28581
stp28582
a((dp28583
g2
(lp28584
VBecause  is the url encoded representation of space
p28585
aVIf you want to preseve the plus sign in your value you will need to url encode it:
p28586
aVwhich will produce:
p28587
aVNow when you read  you will get what you expect
p28588
as(dp28589
g16
V29407
p28590
stp28591
a((dp28592
g2
(lp28593
VXmlSerializer is one way to do it
p28594
aVDataContractSerializer is another
p28595
aVExample with :
p28596
aVand to deserialize it back:
p28597
aVAlso for better encapsulation I would recommend you using properties instead of fields in your  class
p28598
as(dp28599
g16
V29407
p28600
stp28601
a((dp28602
g2
(lp28603
VAttributes are always used with reflection
p28604
aVThey are baked into the metadata of the types during compile time and the only way to read them is through reflection
p28605
aVAttributes are used when you want write a type and you want to associate some metadata with it which could be used by consumers of this type
p28606
as(dp28607
g16
V29407
p28608
stp28609
a((dp28610
g2
(lp28611
VIt is not clear what is this  of yours doing behind the scenes but if it is serializing/deserializing you won't get same object references
p28612
aVcompares object references in memory and not values
p28613
as(dp28614
g16
V29407
p28615
stp28616
a((dp28617
g2
(lp28618
VYou could use a class library project
p28619
aVDeclare a type with methods that will be exposed as a COM object
p28620
aVMake sure that the assembly has been made COM-visible:
p28621
aVAnd finally register it using regasm
p28622
aVexe:
p28623
aVNow the assembly is exposed as a COM object and the type you declared can be consumed by any client that supports COM
p28624
as(dp28625
g16
V29407
p28626
stp28627
a((dp28628
g2
(lp28629
VYou can extend javascript objects and add methods to it:
p28630
as(dp28631
g16
V29407
p28632
stp28633
a((dp28634
g2
(lp28635
VYou could try putting this before the default route:
p28636
as(dp28637
g16
V29407
p28638
stp28639
a((dp28640
g2
(lp28641
VNo you can't
p28642
aVMappings in AutoMapper are defined only once per application domain preferably in your application initialization method
p28643
aVQuote from the documentation:
p28644
aVIf you're using the static Mapper
p28645
aVmethod, configuration only needs to
p28646
aVhappen once per AppDomain
p28647
aVThat means
p28648
aVthe best place to put the
p28649
aVconfiguration code is in application
p28650
aVstartup, such as the Global
p28651
aVasax file
p28652
aVfor ASP
p28653
aVNET applications
p28654
aVTypically,
p28655
aVthe configuration bootstrapper class
p28656
aVis in its own class, and this
p28657
aVbootstrapper class is called from the
p28658
aVstartup method
p28659
as(dp28660
g16
V29407
p28661
stp28662
a((dp28663
g2
(lp28664
VIf this is a SOAP enabled web service you need to first generate a client proxy by pointing svcutil
p28665
aVexe (or wsdl
p28666
aVexe if you are using
p28667
aVNET 2
p28668
aV0) to the WSDL that is exposed by the web service
p28669
aVYou could also do this directly in Visual Studio (Add Service Reference
p28670
aVThis will generate the client proxy classes that will enable you to invoke service methods and pass them object instances they accept
p28671
aVIf this is not a SOAP web service you will need to provide more details
p28672
as(dp28673
g16
V29407
p28674
stp28675
a((dp28676
g2
(lp28677
VYou could read schema and metadata information with ADO
p28678
aVNET
p28679
aVHere's an example
p28680
as(dp28681
g16
V29407
p28682
stp28683
a((dp28684
g2
(lp28685
VYou could use the Date object:
p28686
as(dp28687
g16
V29407
p28688
stp28689
a((dp28690
g2
(lp28691
VNope, promise to never ever hardcode url addresses that are route dependent like you did in your javascript file
p28692
aVIt's bad, bad, bad
p28693
aVDid I say it's bad
p28694
aVThat's too much of a javascript in a view (it's a bandwidth waste)
p28695
aVYou could try a global javascript variable declaration your view:
p28696
aVand in your javascript file:
p28697
aVThat's a path I wouldn't personally take
p28698
aVStill a  tag with a global javascript variable declaration in your view
p28699
aVStill a waste
p28700
aVThings become even prettier like this (and it is at that moment that you realize the real power of unobtrusive javascript):
p28701
aVand in your external javascript:
p28702
as(dp28703
g16
V29407
p28704
stp28705
a((dp28706
g2
(lp28707
VAs ASP
p28708
aVNET MVC is based on ASP
p28709
aVNET engine (not surprisingly), properly encoded URLs are automatically properly URL decoded by the engine so you don't ever need to ask questions
p28710
aVSimply:
p28711
as(dp28712
g16
V29407
p28713
stp28714
a((dp28715
g2
(lp28716
VNo the second line won't have any effect
p28717
aVThe collection won't add the same control instance twice
p28718
as(dp28719
g16
V29407
p28720
stp28721
a((dp28722
g2
(lp28723
VNever build urls using strings, string builders, string concatenations
p28724
aVYou could start by defining a custom collection which will take care of properly URL encoding any value being added to it:
p28725
aVAnd then simply:
p28726
as(dp28727
g16
V29407
p28728
stp28729
a((dp28730
g2
(lp28731
VYou could try assigning it to a variable or try enumerating:
p28732
as(dp28733
g16
V29407
p28734
stp28735
a((dp28736
g2
(lp28737
VThe problem is that the validator service does not support gzip encoded content sent by your web server
p28738
aVThis is not quite of a problem
p28739
aVIf your page validates with copy-pasting the source code it means that it is valid
p28740
as(dp28741
g16
V29407
p28742
stp28743
a((dp28744
g2
(lp28745
VYou could assign  directly to the variable (the  property is readonly and it cannot be assigned a value):
p28746
as(dp28747
g16
V29407
p28748
stp28749
a((dp28750
g2
(lp28751
VYou cannot modify the collection while enumerating
p28752
aVInstead of removing select only what you need and leave the Garbage Collector take care of the rest:
p28753
aVOr even better, select only what you need from the repository:
p28754
as(dp28755
g16
V29407
p28756
stp28757
a((dp28758
g2
(lp28759
VIt wouldn't make any difference at all
p28760
aVIt's just that in this situation a static method would probably be more appropriate
p28761
as(dp28762
g16
V29407
p28763
stp28764
a((dp28765
g2
(lp28766
VYou should create a mocked view engine and put it in the collection:
p28767
as(dp28768
g16
V29407
p28769
stp28770
a((dp28771
g2
(lp28772
VYou could use LINQ:
p28773
as(dp28774
g16
V29407
p28775
stp28776
a((dp28777
g2
(lp28778
VYou could nest the  inside a  with fixed size give your  a fixed size
p28779
as(dp28780
g16
V29407
p28781
stp28782
a((dp28783
g2
(lp28784
VYes, it is possible assuming you have the credentials
p28785
aVDepending on the authentication mechanism used by the site different methods exist
p28786
aVWebClient could be used to send HTTP requests to the remote sites
p28787
as(dp28788
g16
V29407
p28789
stp28790
a((dp28791
g2
(lp28792
VAccording to the documentation SQLite is thread safe but there are caveats
p28793
as(dp28794
g16
V29407
p28795
stp28796
a((dp28797
g2
(lp28798
VBoth LINQ queries are equivalent
p28799
aVThe second uses syntactic sugar that the compiler translates to an expression similar to your first query before compiling
p28800
aVAs far as what is preferred, use whatever seems more readable to you and your team
p28801
as(dp28802
g16
V29407
p28803
stp28804
a((dp28805
g2
(lp28806
VThere's a nice jquery watermark plugin
p28807
aVYou may also try one of the others
p28808
as(dp28809
g16
V29407
p28810
stp28811
a((dp28812
g2
(lp28813
VSize of executable and memory usage are two completely separate notions
p28814
aVFor example this simple program:
p28815
aVis only 4KB but it uses all of the available RAM on your computer and crash
p28816
aVThis is to demonstrate you that you could have an extremely simple application but depending on what it is doing it could consume lots of memory
p28817
aVSo what is your application doing
p28818
as(dp28819
g16
V29407
p28820
stp28821
a((dp28822
g2
(lp28823
VYou could use the AppSettings property indexer:
p28824
as(dp28825
g16
V29407
p28826
stp28827
a((dp28828
g2
(lp28829
VYou could read about Using jQuery with Other Libraries
p28830
as(dp28831
g16
V29407
p28832
stp28833
a((dp28834
g2
(lp28835
VYes it will use it
p28836
aVThe JIT is part of the CLR and
p28837
aVNET 2
p28838
aV0 and 3
p28839
aV5 SP1 use the same version of the CLR
p28840
aVNET 3
p28841
aV5 SP1 brought improvements to the CLR compared to
p28842
aVNET 2
p28843
aV0 but it stays compatible
p28844
aVAs far as
p28845
aVNET 4
p28846
aV0 and higher is concerned than it is another CLR version that your program won't use
p28847
as(dp28848
g16
V29407
p28849
stp28850
a((dp28851
g2
(lp28852
VIf you are using a Web Application Project then get rid of the special  folder and put your code in normal folders
p28853
as(dp28854
g16
V29407
p28855
stp28856
a((dp28857
g2
(lp28858
VBecause the consuming code of the  variable won't be tied to a particular implementation of this interface
p28859
as(dp28860
g16
V29407
p28861
stp28862
a((dp28863
g2
(lp28864
VReflection is not inefficient
p28865
aVIt is less efficient than direct calls
p28866
aVSo personnaly I use reflection when there's no equivalent compile time safe method
p28867
aVIMHO the problem with reflection is not so much the efficiency but the fragility of the code as it uses magic strings which are very refactor unfriendly
p28868
as(dp28869
g16
V29407
p28870
stp28871
a((dp28872
g2
(lp28873
VIt is not announced yet
p28874
as(dp28875
g16
V29407
p28876
stp28877
a((dp28878
g2
(lp28879
VExtension methods in
p28880
aVNET should be invoked on an object instance and not on the class itself (even though they are static)
p28881
aVSo instead of:
p28882
aVtry:
p28883
as(dp28884
g16
V29407
p28885
stp28886
a((dp28887
g2
(lp28888
VYou cannot have  as parameter for this to work
p28889
aVMethods could only return it
p28890
aVNow you can:
p28891
as(dp28892
g16
V29407
p28893
stp28894
a((dp28895
g2
(lp28896
VYou partial looks much like an editor template so you could include it as such (assuming of course that your partial is placed in the  subfolder):
p28897
aVOr if this is not the case simply:
p28898
as(dp28899
g16
V29407
p28900
stp28901
a((dp28902
g2
(lp28903
VIn C#:
p28904
aVInterfaces consist of methods,
p28905
aVproperties, events, indexers, or any
p28906
aVcombination of those four member
p28907
aVtypes
p28908
aVAn interface cannot contain
p28909
aVconstants, fields, operators, instance
p28910
aVconstructors, destructors, or types
p28911
aVIt cannot contain static members
p28912
aVInterfaces members are automatically
p28913
aVpublic, and they cannot include any
p28914
aVaccess modifiers
p28915
aVIn Java:
p28916
aVEvery field declaration in the body of
p28917
aVan interface is implicitly public,
p28918
aVstatic, and final
p28919
aVEvery field in the body of an
p28920
aVinterface must have an initialization
p28921
aVexpression, which need not be a
p28922
aVconstant expression
p28923
aVThe variable
p28924
aVinitializer is evaluated and the
p28925
aVassignment performed exactly once,
p28926
aVwhen the interface is initialized
p28927
as(dp28928
g16
V29407
p28929
stp28930
a((dp28931
g2
(lp28932
VIt looks like the page uses the showMessage jQuery plugin
p28933
aVThis plugin simply displays a message at the top, it has no connection with a form
p28934
aVWhen you navigate to the link you provided there is no need to submit a form to see the message
p28935
aVThe way it works is that you fill the form at the Contact page and once you submit it you are redirected to the Confirmation page which simply contains the notification message at the top
p28936
as(dp28937
g16
V29407
p28938
stp28939
a((dp28940
g2
(lp28941
VIf  is guaranteed to be thread safe then  is also thread safe
p28942
aVIn the two methods you are using only local variables so the methods are reentrant
p28943
aVCurrently users cannot add objects to the stack because the  field is not visible outside the class
p28944
aVAlso I don't see from your code how do listeners will subscribe to any events so that they are notified if an object is added
p28945
aVSo you could have a method allowing to add elements to the stack and an event that will be triggered in this case
p28946
as(dp28947
g16
V29407
p28948
stp28949
a((dp28950
g2
(lp28951
VAll that this line does in  is to simply define the timeout of the authentication cookie and the login url
p28952
aVIt is your code that decides which parts of the site are authenticated or no, by for example decorating your controllers and/or actions with the  attribute
p28953
as(dp28954
g16
V29407
p28955
stp28956
a((dp28957
g2
(lp28958
VIf you are using jQuery why are you still manipulating the DOM manually
p28959
aVTry cleaning your code
p28960
aVAlso there are strange things in your success callback
p28961
aVWhat is this  variable
p28962
aVOnce you are using it as element ID and also testing it's value for
p28963
aVBy the way you should avoid using
p28964
aVI would probably replace all this with the  function:
p28965
as(dp28966
g16
V29407
p28967
stp28968
a((dp28969
g2
(lp28970
VMake sure you are unbinding :
p28971
aVAlso I would write this as a plugin form:
p28972
aVso that your friend can simply:
p28973
as(dp28974
g16
V29407
p28975
stp28976
a((dp28977
g2
(lp28978
VYou could send it as JSON string
p28979
aVHere's an example:
p28980
as(dp28981
g16
V29407
p28982
stp28983
a((dp28984
g2
(lp28985
VYou could use an image submit button:
p28986
as(dp28987
g16
V29407
p28988
stp28989
a((dp28990
g2
(lp28991
s(dp28992
g16
V29407
p28993
stp28994
a((dp28995
g2
(lp28996
VYes, it is possible but it is not common practice
p28997
as(dp28998
g16
V29407
p28999
stp29000
a((dp29001
g2
(lp29002
VAs @Mark suggested though pay attention to the 2K problem
p29003
aVI would simply ask the users to enter the year into YYYY format
p29004
as(dp29005
g16
V29407
p29006
stp29007
a((dp29008
g2
(lp29009
VJust use the proper constructor:
p29010
aVAlso you could safely remove the  attribute from your  class
p29011
aVThis is for binary serialization and  ignores
p29012
as(dp29013
g16
V29407
p29014
stp29015
a((dp29016
g2
(lp29017
VControllers should be grouped by functionality
p29018
aVYou could also have a controller per resource (REST)
p29019
aVYou could have an  which handles authentication and  which will handle the posts retrieval and adding a new post
p29020
aVAs far as the views are concerned assuming you will have a single page that will list posts and add new posts you could have a single view but maybe with multiple partial views/editor/display templates
p29021
as(dp29022
g16
V29407
p29023
stp29024
a((dp29025
g2
(lp29026
VHave you tried changing the timer interval for example to 30000 ms (30 s)
p29027
as(dp29028
g16
V29407
p29029
stp29030
a((dp29031
g2
(lp29032
VI've never heard of CQS, but if you are doing ASP
p29033
aVNET MVC (MVC pattern) the action you wrote is perfectly fine (assuming this  there is an abstraction to the real service)
p29034
aVThe controller manipulates the model and decides which view to render and passes this model to the view
p29035
as(dp29036
g16
V29407
p29037
stp29038
a((dp29039
g2
(lp29040
VForget about manually encoding parameters
p29041
aVTry like this:
p29042
as(dp29043
g16
V29407
p29044
stp29045
a((dp29046
g2
(lp29047
VTry putting quotes around viewdata:
p29048
aVOr even better unobtrusively:
p29049
aVAnd then attach to the submit event of the form:
p29050
as(dp29051
g16
V29407
p29052
stp29053
a((dp29054
g2
(lp29055
VIt is difficult to unit test a method which relies on static method calls
p29056
aVIt is not a matter of returning something or
p29057
aVWhat you could do is abstract the printing into an interface and have your class depend on this interface (using constructor injection for example):
p29058
aVIn your unit test you could mock the interface and verify if correct methods have been called on it
p29059
aVThis way you could test the printMenu in independently
p29060
as(dp29061
g16
V29407
p29062
stp29063
a((dp29064
g2
(lp29065
VYour form is incorrect
p29066
aVThe  parameter should be on the  tag:
p29067
as(dp29068
g16
V29407
p29069
stp29070
a((dp29071
g2
(lp29072
VYou could use the WriteAllText method:
p29073
as(dp29074
g16
V29407
p29075
stp29076
a((dp29077
g2
(lp29078
VYou could use a helper method:
p29079
aVAnd then in your master page:
p29080
as(dp29081
g16
V29407
p29082
stp29083
a((dp29084
g2
(lp29085
VLocalization using the file based resx / resource system
p29086
aVNo network latency
p29087
as(dp29088
g16
V29407
p29089
stp29090
a((dp29091
g2
(lp29092
VMaintenance - no, performance - yes
p29093
aVThe more assemblies that need to be loaded the slower your application will start
p29094
aVFor each assembly that needs to be loaded into the AppDomain the loader needs to perform a series of verifications
p29095
as(dp29096
g16
V29407
p29097
stp29098
a((dp29099
g2
(lp29100
VAutoMapper
p29101
aVThere's also ValueInjecter and Emit Mapper
p29102
as(dp29103
g16
V29407
p29104
stp29105
a((dp29106
g2
(lp29107
VYou could use the
p29108
aVajax method:
p29109
as(dp29110
g16
V29407
p29111
stp29112
a((dp29113
g2
(lp29114
VYou need to first append the element to the DOM before trying to measure its size:
p29115
as(dp29116
g16
V29407
p29117
stp29118
a((dp29119
g2
(lp29120
VThe arguments are passed to the  function that is being called:
p29121
aVArguments are in the same order as passed in the command line
p29122
aVIf you want to use named arguments you may take a look at this post which suggests NDesk
p29123
aVOptions and Mono
p29124
aVOptions
p29125
as(dp29126
g16
V29407
p29127
stp29128
a((dp29129
g2
(lp29130
VYou could look at event
p29131
aVwhich:
p29132
as(dp29133
g16
V29407
p29134
stp29135
a((dp29136
g2
(lp29137
VHere's a sample that works fine on Windows:
p29138
as(dp29139
g16
V29407
p29140
stp29141
a((dp29142
g2
(lp29143
VIf you are using SQL Server authentication you could try the username  and blank password but I am not sure whether this is by default
p29144
aVIntegrated Windows authentication should work, so you should be able to connect with your Windows account:
p29145
as(dp29146
g16
V29407
p29147
stp29148
a((dp29149
g2
(lp29150
VHere's an example of a JAVA applet connecting to MySql database
p29151
as(dp29152
g16
V29407
p29153
stp29154
a((dp29155
g2
(lp29156
VThis is the normal behavior
p29157
aVTo avoid this always test if there's an event subscriber before calling it:
p29158
as(dp29159
g16
V29407
p29160
stp29161
a((dp29162
g2
(lp29163
VYou could test if the value is null before calling this method:
p29164
as(dp29165
g16
V29407
p29166
stp29167
a((dp29168
g2
(lp29169
VAs defined the Arguments property is of type string so you could only pass space delimited arguments to the process the same way you would when calling it at the command line
p29170
as(dp29171
g16
V29407
p29172
stp29173
a((dp29174
g2
(lp29175
VTry using the Split method:
p29176
as(dp29177
g16
V29407
p29178
stp29179
a((dp29180
g2
(lp29181
VYour could configure log4net to trace into the event log of each machine and use a hypervisor software such as SCOM to monitor each node
p29182
as(dp29183
g16
V29407
p29184
stp29185
a((dp29186
g2
(lp29187
VIMHO a single multiple-result stored procedure will perform better as only a single network roundtrip to the SQL server will be performed
p29188
as(dp29189
g16
V29407
p29190
stp29191
a((dp29192
g2
(lp29193
s(dp29194
g16
V29407
p29195
stp29196
a((dp29197
g2
(lp29198
VThis is probably due to a browser autocompletion feature
p29199
aVYou could append the non standard  to your input fields:
p29200
as(dp29201
g16
V29407
p29202
stp29203
a((dp29204
g2
(lp29205
VYou could DRY this out by creating a reusable user control which you could place on both forms
p29206
as(dp29207
g16
V29407
p29208
stp29209
a((dp29210
g2
(lp29211
VThere's no way to store anything on a client computer using pure javascript
p29212
aVIt runs in a sandboxed environment that doesn't allow you to perform such tasks
p29213
aVYou could send an AJAX request to a server side script that will perform the necessary steps to persists the data
p29214
aVAnother option of course is to use some service like Google Analytics which will take care of persisting statistics about your site visits by including a simple script at the end of your pages
p29215
as(dp29216
g16
V29407
p29217
stp29218
a((dp29219
g2
(lp29220
VIn the first case the setter is private
p29221
aVThis means that you can set the value of this property everywhere from inside this class not only in the constructor
p29222
aVIn the second example there's no setter won't be able to set the value
p29223
aVUsing readonly field is probably most correct semantically in your case as it will allow you to set its value either in the constructor or directly when declaring the field (if this field shouldn't be visible from outside of this class):
p29224
as(dp29225
g16
V29407
p29226
stp29227
a((dp29228
g2
(lp29229
VYou don't need the  keyword
p29230
aVHere's the correct syntax of the UPDATE statement:
p29231
as(dp29232
g16
V29407
p29233
stp29234
a((dp29235
g2
(lp29236
VYou may take a look at the MVCContrib Grid which is a highly reusable grid control for ASP
p29237
aVNET MVC with many features
p29238
as(dp29239
g16
V29407
p29240
stp29241
a((dp29242
g2
(lp29243
VThere's nothing out-of-the-box allowing you to achieve this
p29244
aVYou could for example write a custom Authorize attribute that will check if the authentication cookie has expired
p29245
as(dp29246
g16
V29407
p29247
stp29248
a((dp29249
g2
(lp29250
VYou are probably running this code behind a proxy server which needs authentication and Internet Explorer is configured to use this proxy while your code isn't
p29251
as(dp29252
g16
V29407
p29253
stp29254
a((dp29255
g2
(lp29256
VModel:
p29257
aVController action:
p29258
aVStrongly typed view to :
p29259
aVEditor Template ():
p29260
as(dp29261
g16
V29407
p29262
stp29263
a((dp29264
g2
(lp29265
VYou could try the UrlEncode method:
p29266
as(dp29267
g16
V29407
p29268
stp29269
a((dp29270
g2
(lp29271
VWhat do you mean by
p29272
aVA SOAP response represents XML encoded data which is sent to the client
p29273
aVBinary structures such as  will be base64 encoded and sent in the response body
p29274
aVSo the following method should do the job:
p29275
aVAlso you should probably consider using WCF because ASP
p29276
aVNET web services are considered now as deprecated technology
p29277
aVThere are also protocols over HTTP such as MTOM that support optimized binary data transmission over the wire
p29278
as(dp29279
g16
V29407
p29280
stp29281
a((dp29282
g2
(lp29283
VNo it won't
p29284
aVIt will consume memory but  and  should be pretty fast as a dictionary is a hashtable and access to the elements by the key is constant and it won't depend on the number of elements
p29285
as(dp29286
g16
V29407
p29287
stp29288
a((dp29289
g2
(lp29290
VHave you tried:
p29291
aVOr simply use another variable name other than  as it is already used
p29292
as(dp29293
g16
V29407
p29294
stp29295
a((dp29296
g2
(lp29297
VThe
p29298
aVload() function expects an URL to which to send the AJAX request, fetch the data from the server and update the given element in the selector
p29299
aVSo you need to pass an URL:
p29300
as(dp29301
g16
V29407
p29302
stp29303
a((dp29304
g2
(lp29305
VThat's how html helpers work
p29306
aVThey will first look if there's ID parameter in the request url and use that value instead of the one specified as second argument in the model
p29307
as(dp29308
g16
V29407
p29309
stp29310
a((dp29311
g2
(lp29312
VThe syntax you are using to initialize the  is wrong
p29313
aVYou need two
p29314
aVTry like this:
p29315
as(dp29316
g16
V29407
p29317
stp29318
a((dp29319
g2
(lp29320
VTry using a memory stream instead of writing to the response:
p29321
aVAlso I've removed the  line as I don't see any relevance to the code snippet you've posted
p29322
as(dp29323
g16
V29407
p29324
stp29325
a((dp29326
g2
(lp29327
VBoth support the same functions
p29328
aVis a compressed version of  (whitespaces and comments stripped out, shorter variable names,
p29329
aVin order to preserve bandwidth
p29330
aVIn terms of functionality they are absolutely the same
p29331
aVIt is recommended to use this compressed version in production environment
p29332
as(dp29333
g16
V29407
p29334
stp29335
a((dp29336
g2
(lp29337
VYes, you can send an AJAX request in the  but it is not guaranteed that  you will get a response before the browser closes so you could only send the request but don't rely on reading a response
p29338
aVIf you need to get a response you could send a synchronous request instead of asynchronous
p29339
as(dp29340
g16
V29407
p29341
stp29342
a((dp29343
g2
(lp29344
VYou shouldn't use  directly in your function as it is close to impossible to unit test, as you've already found out
p29345
aVI would suggest you using HttpContextBase instead, which is passed either in the constructor of your class or as an argument to the method you are testing
p29346
aVThis will allow the consumers of this class to pass a real HttpContextWrapper and in your unit test you can mock the methods you need
p29347
aVFor example here's how you could call the method:
p29348
aVAnd in your unit test (using Rhino Mocks):
p29349
aVOr, if you prefer, use Constructor Injection
p29350
as(dp29351
g16
V29407
p29352
stp29353
a((dp29354
g2
(lp29355
VActually this highlighting is performed by the html helpers that render the textboxes
p29356
aVIt checks if there's an error in the model state with the given key and it adds the necessary CSS classes if necessary
p29357
as(dp29358
g16
V29407
p29359
stp29360
a((dp29361
g2
(lp29362
VLink buttons render as anchor tags () and the  attribute is not defined for this tag
p29363
aVAs far as radio buttons are concerned you could apply the  attribute to them, they will grey out and their value won't be sent when you post the form
p29364
as(dp29365
g16
V29407
p29366
stp29367
a((dp29368
g2
(lp29369
VA solution is a container for projects
p29370
aVA single solution may contain zero or more projects
p29371
aVLoading the solution file will load all the associated projects
p29372
aVIf you are using project references between the projects in the solution (one project depends on another) opening only the project file might not compile as it won't be able to compile the referenced project
p29373
as(dp29374
g16
V29407
p29375
stp29376
a((dp29377
g2
(lp29378
VWhen you embed a view file into a project (mark the  file as embedded resource) it is included into the resulting assembly
p29379
aVTo obtain a list of all embedded resources you could use the GetManifestResourceStream method to obtain the file as is but I don't really see the usefulness of this technique
p29380
aVIf on the other hand you want to have views embedded into an assembly and instruct the runtime to use those views instead of the file system you might need to implement a custom VirtualPathProvider
p29381
as(dp29382
g16
V29407
p29383
stp29384
a((dp29385
g2
(lp29386
VAccording to the documentation:
p29387
aVThe default underlying type of the
p29388
aVenumeration elements is int
p29389
aVBy
p29390
aVdefault, the first enumerator has the
p29391
aVvalue 0, and the value of each
p29392
aVsuccessive enumerator is increased by
p29393
ag2925
aVThe default value of an enum E is the
p29394
aVvalue produced by the expression (E)0
p29395
aVThere is also possibility to modify this default value:
p29396
aVIn this case  will no longer be the default value
p29397
aVThe only possible advantage that I can see of using a nullable enum is that the null value will not be dependent on the definition of the enumeration
p29398
aVIn my opinion you should decide which one to use depending on whether you need the semantics of default value or unassigned value
p29399
as(dp29400
g16
V29407
p29401
stp29402
a((dp29403
g2
(lp29404
VYou could try using the ParseExact method
p29405
aVIf the input format is not guaranteed to be a valid date you could try the TryParseExact method instead
p29406
as(dp29407
g16
V29407
p29408
stp29409
a((dp29410
g2
(lp29411
VThere's no such thing as asp
p29412
aVnet function
p29413
aVIf you mean a
p29414
aVNET method which is defined in the code behind of an ASP
p29415
aVNET page you could take a look at PageMethods
p29416
aVAnd here's an example using jQuery
p29417
aVScott Gu has also blogged about them
p29418
aVNote that the method needs to be static
p29419
as(dp29420
g16
V29407
p29421
stp29422
a((dp29423
g2
(lp29424
VBecause the null-coalescing operator () applies only to nullable reference types while Double is a value type
p29425
aVYou could use a nullable double instead ()
p29426
as(dp29427
g16
V29407
p29428
stp29429
a((dp29430
g2
(lp29431
VNo way to solve this with a
p29432
aVNET 1
p29433
aV1 client
p29434
aVCircular references in XML are not a standard SOAP specification which means that both the client and the server need to use WCF if you want it to work
p29435
aVYou could always write a custom serializer on the client side which will resolve those references but I suspect it will be a lot of work if you need it to work in the general case
p29436
as(dp29437
g16
V29407
p29438
stp29439
a((dp29440
g2
(lp29441
VIf you are able to alert the selected filename you could send an AJAX request to a controller action passing this filename so that the server can take care of deleting the file
p29442
aVAs far as downloading is concerned you could use a regular hyperlink to a controller action that will write the file contents in the response stream
p29443
as(dp29444
g16
V29407
p29445
stp29446
a((dp29447
g2
(lp29448
VYou have mentioned that you are using AutoMapper
p29449
aVIn your model  is a method and not a property
p29450
aVAutoMapper won't map automatically to methods
p29451
aVAccording to the conventions you could prefix your method name with  to make this to work:
p29452
aVThis will be mapped to the  property in the view model
p29453
aVAnother option is to explicitly declare how the mapping is done:
p29454
aVAs far as the department name property is concerned I would recommend you modify your model so that instead of a  property it has directly a property called  containing the id and the name which will allow you to map them easily in your view model
p29455
aVIf you cannot modify your model this way you could have the  property in the view model populated directly by the repository and not by
p29456
as(dp29457
g16
V29407
p29458
stp29459
a((dp29460
g2
(lp29461
VFirstly, you don't need to nest  functions (all the  are redundant as it is equivalent to )
p29462
aVAnd to simplify your code:
p29463
as(dp29464
g16
V29407
p29465
stp29466
a((dp29467
g2
(lp29468
VC# 4
p29469
aV0 allows you to use named and optional arguments:
p29470
aVIn previous versions you could simulate default parameters by using method overloading
p29471
as(dp29472
g16
V29407
p29473
stp29474
a((dp29475
g2
(lp29476
VThere are many ways to integrate Twitter on your website
p29477
aVWidgets are particularly easy to add
p29478
as(dp29479
g16
V29407
p29480
stp29481
a((dp29482
g2
(lp29483
VYou could register this managed assembly as a COM component that could be invoked from the classic asp site using regasm
p29484
aVexe:
p29485
aVYou should also make sure that the assembly is COM visible so that the types it contains could be exposed
p29486
as(dp29487
g16
V29407
p29488
stp29489
a((dp29490
g2
(lp29491
VThe reason you are getting a compile-time error is because the  attribute can only be applied at the class level and not at a property of the class
p29492
aVYou are probably confusing this attribute with
p29493
as(dp29494
g16
V29407
p29495
stp29496
a((dp29497
g2
(lp29498
VMono will support
p29499
aVNET 4
p29500
aV0 in Mono 2
p29501
aV8 whose release date is not known yet as the Roadmap explains it
p29502
as(dp29503
g16
V29407
p29504
stp29505
a((dp29506
g2
(lp29507
VIn  you could set the default page using the  attribute:
p29508
as(dp29509
g16
V29407
p29510
stp29511
a((dp29512
g2
(lp29513
s(dp29514
g16
V29407
p29515
stp29516
a((dp29517
g2
(lp29518
VYou could read the value directly from the  hash:
p29519
aVor using an intermediary class:
p29520
aVAs you will notice  has special meaning for the ASP
p29521
aVNET MVC default model binder
p29522
as(dp29523
g16
V29407
p29524
stp29525
a((dp29526
g2
(lp29527
VIt is relatively easy to write one
p29528
as(dp29529
g16
V29407
p29530
stp29531
a((dp29532
g2
(lp29533
VYou could use the GetAttributes method:
p29534
as(dp29535
g16
V29407
p29536
stp29537
a((dp29538
g2
(lp29539
VYou could use the  method:
p29540
as(dp29541
g16
V29407
p29542
stp29543
a((dp29544
g2
(lp29545
VYou could use the encodeURIComponent function which will properly URL encode the value
p29546
as(dp29547
g16
V29407
p29548
stp29549
a((dp29550
g2
(lp29551
VYou could use the  function:
p29552
aVAs you've tagged your question with ASP
p29553
aVNET:
p29554
as(dp29555
g16
V29407
p29556
stp29557
a((dp29558
g2
(lp29559
VYou will need to use a templating engine like Ruby Templates (ERB)
p29560
aVHere's an example
p29561
aVRails uses ERB so you could easily do this in each of your templates
p29562
as(dp29563
g16
V29407
p29564
stp29565
a((dp29566
g2
(lp29567
VIf you want to append  to each line you could try combining the ReadAllLines and WriteAllLines methods:
p29568
aVNotice that this loads the whole file contents into memory so it wouldn't work well with very large files
p29569
aVIn this case stream readers and writers are more adapted
p29570
as(dp29571
g16
V29407
p29572
stp29573
a((dp29574
g2
(lp29575
VThe problem is that you haven't defined the T1 and T2 generic arguments on the  function
p29576
aVTry like this:
p29577
as(dp29578
g16
V29407
p29579
stp29580
a((dp29581
g2
(lp29582
VWhy would the browser redirect
p29583
aVYou are sending an AJAX request to a controller action which returns a view (this probably is wrong, you might need to return a partial view) which is then used to update some element in the DOM
p29584
aVIf you want to redirect you could use a simple anchor tag (or a  if you need to POST), no need to use javascript
p29585
as(dp29586
g16
V29407
p29587
stp29588
a((dp29589
g2
(lp29590
VThere are some problems with your controller action
p29591
aVIt expects to pass the image as a byte array
p29592
aVIn your helper class you are trying to generate an  tag pointing to this controller action and passing a byte array but this won't work because you cannot pass byte arrays using GET requests
p29593
aVYou need to change this controller action so that instead of accepting a byte array it takes for example some identifier that allows you to fetch the image and write it to the output stream
p29594
aVThen your html helper will pass this identifier when generating the  tag
p29595
aVAnd your helper:
p29596
aVWhich could be used in your view:
p29597
as(dp29598
g16
V29407
p29599
stp29600
a((dp29601
g2
(lp29602
VIn C# you have Socket, StreamReader and StreamWriter classes
p29603
aVBut you also have higher level classes that don't require you to resort to sockets such as TcpListener and TcpClient
p29604
aVHere's an example that connects to a listening socket and opens a stream reader that allows you to read from it:
p29605
as(dp29606
g16
V29407
p29607
stp29608
a((dp29609
g2
(lp29610
VYou cannot save files to the client machine from ASP
p29611
aVNET
p29612
aVYou could generate a link that the client clicks on to download the file and decide where he wants to save it on his machine because you might want to save a Powerpoint presentation but there are sites that might want to save some other things
p29613
as(dp29614
g16
V29407
p29615
stp29616
a((dp29617
g2
(lp29618
V refers to the current instance
p29619
aVWhen in the Main method you create an instance of the Person class you are passing  to the constructor which is then stored in the  field
p29620
aVNext you invoke the method
p29621
aVInside this method you are creating multiple instances of the  class : ,  and
p29622
aVYou need to call the  field on each instance:
p29623
as(dp29624
g16
V29407
p29625
stp29626
a((dp29627
g2
(lp29628
VYou can get syntax highlighting by associating the  extension with the HTML editor in the Visual Studio properties (this will highlight only HTML tags and not Razor syntax)
p29629
aVIntelliSense doesn't work yet
p29630
aVMicrosoft will release an extension to Visual Studio which will support it in a later version
p29631
as(dp29632
g16
V29407
p29633
stp29634
a((dp29635
g2
(lp29636
VYou could attach a  handler to each  element in the
p29637
aVOnce clicked this handler will be invoked and you will be able to get the underlying DOM element
p29638
aVOnce you have the element you can modify its contents
p29639
aVDepending on whether you are using a javascript framework or not the way to achieve this will vary
p29640
aVFor example using jQuery:
p29641
as(dp29642
g16
V29407
p29643
stp29644
a((dp29645
g2
(lp29646
VThere's no  attribute defined for
p29647
aVYou need to implement this using javascript
p29648
as(dp29649
g16
V29407
p29650
stp29651
a((dp29652
g2
(lp29653
VYou could use the exponent notation but I think that it will work for all numbers and not only those greater than 10000
p29654
aVYou might need to have a condition to handle this case
p29655
as(dp29656
g16
V29407
p29657
stp29658
a((dp29659
g2
(lp29660
VYou could use the SmtpClient class:
p29661
aVRemark1: In
p29662
aVNET 4
p29663
aV0, SmtpClient implements IDisposable, so make sure to properly dispose it
p29664
aVRemark2: There's a bug in SmtpClient class prior to
p29665
aVNET 4
p29666
aV0 which doesn't properly send the  command to the SMTP server
p29667
as(dp29668
g16
V29407
p29669
stp29670
a((dp29671
g2
(lp29672
VYou don't need to escape anything
p29673
aVThe Json serializer will take care of it:
p29674
as(dp29675
g16
V29407
p29676
stp29677
a((dp29678
g2
(lp29679
VRight click on the Visual Studio icon and select :
p29680
aVThere's also the runas
p29681
aVexe command you could use to start Visual Studio under a different account
p29682
as(dp29683
g16
V29407
p29684
stp29685
a((dp29686
g2
(lp29687
VYou need to make sure that the id is properly encoded
p29688
aVHere's an example
p29689
aVModel:
p29690
aVController:
p29691
aVAnd the Index view:
p29692
as(dp29693
g16
V29407
p29694
stp29695
a((dp29696
g2
(lp29697
VThe  property has been present in jQuery for a long time so I don't think that your problem is related to it
p29698
aVMaybe you have a syntax error in your code
p29699
aVThis should work:
p29700
as(dp29701
g16
V29407
p29702
stp29703
a((dp29704
g2
(lp29705
VThe difficulty here consist in reading and decoding the private key
p29706
aVYou could use the following openssl helper class
p29707
aVOnce you have referenced it you may try this:
p29708
aVIn this example I have used MD5 but you could use anything that is appropriate to your scenario
p29709
aVI think openssl_sign uses SHA1 by default
p29710
as(dp29711
g16
V29407
p29712
stp29713
a((dp29714
g2
(lp29715
VI think that having different master pages for different site structures (different HTML, different CSS,
p29716
aVis exactly what they are meant for and don't find it strange
p29717
as(dp29718
g16
V29407
p29719
stp29720
a((dp29721
g2
(lp29722
VThe ACE provider is 32-bit and your application should be compiled in 32-bit mode to use it
p29723
aVHere's a thread that might be helpful
p29724
as(dp29725
g16
V29407
p29726
stp29727
a((dp29728
g2
(lp29729
V is a compressed Windows Metafile which you could first decompress and then convert to the desired format (don't forget to dispose all those  instances which is not done in the MSDN example)
p29730
as(dp29731
g16
V29407
p29732
stp29733
a((dp29734
g2
(lp29735
VMake sure you are calling this function when the DOM is loaded so that the event handler is attached the first time:
p29736
aVIf the  is not present when the DOM is loaded but is later added using AJAX you might need to call this function in the  handler of your AJAX request
p29737
aVAlso you might need to use the  function so that when the table is updated the click handler is preserved (if needed):
p29738
as(dp29739
g16
V29407
p29740
stp29741
a((dp29742
g2
(lp29743
VHere's an article that illustrates how this could be done assuming you know the timezone offset
p29744
as(dp29745
g16
V29407
p29746
stp29747
a((dp29748
g2
(lp29749
VHere's a sample implementation:
p29750
as(dp29751
g16
V29407
p29752
stp29753
a((dp29754
g2
(lp29755
VTry like this:
p29756
aVNotice that the first textbox id should be  and not  as in your example (Assuming the Html helper code is correct)
p29757
aVAlso make sure that the  condition evaluates to  so that this code is executed
p29758
as(dp29759
g16
V29407
p29760
stp29761
a((dp29762
g2
(lp29763
VI suspect that the problem is in your XML parsing
p29764
aVYou correctly load the tweets but the  function doesn't return anything and finally your  equals to  which is the reason you are not getting any output in the view
p29765
aVMake sure you are using the correct namespace and proper selectors to parse the XML response
p29766
as(dp29767
g16
V29407
p29768
stp29769
a((dp29770
g2
(lp29771
VIt looks that you already have a database design
p29772
aVThe first thing is to decide how are you going to access this database
p29773
aVYou have many choices here
p29774
aVFor example you could use an ORM such as NHibernate or Linq to Entities
p29775
aVIf you think that using an ORM for such a simple database schema would be an overkill you could also resort to plain ADO
p29776
aVNET and write the SQL queries yourself
p29777
aVEven in this case it is recommended to setup an object model that will reflect your database schema
p29778
aVThe next step is to write the data access layer
p29779
aVUsually this consists of two parts: an abstraction (interface) and implementation (concrete class) for a given data access technology you picked up in the first step
p29780
aVThen you write a controller that will talk to this repository and fill a view model
p29781
aVThis view model is then passed to the view to be displayed
p29782
as(dp29783
g16
V29407
p29784
stp29785
a((dp29786
g2
(lp29787
VFrom what you've shown the  interface is not public meaning that it is not visible from your unit test
p29788
aVI would recommend you making it public as I suspect you have two different interfaces : one defined in the unit test and one in your project which conflict
p29789
aVAlso I would recommend you to avoid relying on Visual Studio generate all the crap reflection code in order to test private and internal members
p29790
as(dp29791
g16
V29407
p29792
stp29793
a((dp29794
g2
(lp29795
VYou need to add reference to the  assembly in your project and the TransactionScope class is located in the  namespace
p29796
as(dp29797
g16
V29407
p29798
stp29799
a((dp29800
g2
(lp29801
VHibernate fills the gap between your object classes and relational database tables in a database agnostic way meaning that you can easily switch databases without significant modifications of your application
p29802
as(dp29803
g16
V29407
p29804
stp29805
a((dp29806
g2
(lp29807
VYou don't need to register anything
p29808
aVAction parameters are automatically mapped to URL values by the default model binder
p29809
aVYou can also map to complex type, list and dictionary parameters
p29810
as(dp29811
g16
V29407
p29812
stp29813
a((dp29814
g2
(lp29815
VYou could use the SmtpClient class
p29816
aVOther than the  and  addresses you will need your company's SMTP server:
p29817
as(dp29818
g16
V29407
p29819
stp29820
a((dp29821
g2
(lp29822
VYou may take a look at this jquery plugin allowing you to customize the look and feel of the default dropdown boxes
p29823
as(dp29824
g16
V29407
p29825
stp29826
a((dp29827
g2
(lp29828
V or  which is the same means externally  (from outside the current assembly) and internally  (from within the same assembly)
p29829
as(dp29830
g16
V29407
p29831
stp29832
a((dp29833
g2
(lp29834
s(dp29835
g16
V29407
p29836
stp29837
a((dp29838
g2
(lp29839
VThe link you've posted doesn't open here but I will try to answer your question
p29840
aVIf the web service has another method that allows you to pass multiple email addresses then you can use this method
p29841
aVIf not, you will need to call the web service for each email you are trying to validate which of course might not be very efficient
p29842
as(dp29843
g16
V29407
p29844
stp29845
a((dp29846
g2
(lp29847
VYou could start by giving the anchor an unique id:
p29848
aVand then register for the  event handler and send an AJAX request:
p29849
as(dp29850
g16
V29407
p29851
stp29852
a((dp29853
g2
(lp29854
VYou could try using reflection (haven't tested):
p29855
aVThe usefulness of such a method is highly doubtful
p29856
aVInstantiating controllers like this for the lifetime of the application can be dangerous
p29857
aVControllers shouldn't be shared
p29858
aVLeave the instantiation of your controllers to the dependency injection framework you are using
p29859
aVTheir lifetime should be very short, preferably limited to the current user request
p29860
as(dp29861
g16
V29407
p29862
stp29863
a((dp29864
g2
(lp29865
VNo it's not possible
p29866
aVTPL requires
p29867
aVNET 3
p29868
aV5 (IIRC there was a separate download but it was a beta version) and is built in
p29869
aVNET 4
p29870
ag2721
as(dp29871
g16
V29407
p29872
stp29873
a((dp29874
g2
(lp29875
VThe  in the href should be html encoded:
p29876
as(dp29877
g16
V29407
p29878
stp29879
a((dp29880
g2
(lp29881
VTry  which should give you the current item being data bound
p29882
as(dp29883
g16
V29407
p29884
stp29885
a((dp29886
g2
(lp29887
VIt means that if the  method called on the  instance returns  it will set an error value to an error label
p29888
as(dp29889
g16
V29407
p29890
stp29891
a((dp29892
g2
(lp29893
VSimply set the  property of your model in the controller action to
p29894
as(dp29895
g16
V29407
p29896
stp29897
a((dp29898
g2
(lp29899
VYou may also try a custom format to avoid culture specific confusions:
p29900
as(dp29901
g16
V29407
p29902
stp29903
a((dp29904
g2
(lp29905
VIf the new cookie is with the same name it will simply overwrite the previous cookie value so you don't need to delete it
p29906
as(dp29907
g16
V29407
p29908
stp29909
a((dp29910
g2
(lp29911
VThe  and  attributes will be consumed by the metadata provider but won't be used
p29912
aVIf you want to get rid of the input with  you'll need a custom template, or
p29913
aVFor custom template :
p29914
aVAlso note that the default model binder won't copy a value into a property with
p29915
aVThis attribute won't influence the UI rendered by the default templates
p29916
as(dp29917
g16
V29407
p29918
stp29919
a((dp29920
g2
(lp29921
VYes, you can create a reusable class library
p29922
aVSimply add a new project of type Class Library to your solution and include the helper classes inside
p29923
aVThen you can reference the compiled assembly in other projects in order to reuse the functionality
p29924
as(dp29925
g16
V29407
p29926
stp29927
a((dp29928
g2
(lp29929
VNo, because the DNS lookup is cached
p29930
as(dp29931
g16
V29407
p29932
stp29933
a((dp29934
g2
(lp29935
VAren't the ones built-in the framework working in your scenario (JavaScriptSerializer and DataContractJsonSerializer)
p29936
aVThose are guaranteed to be working and tested
p29937
as(dp29938
g16
V29407
p29939
stp29940
a((dp29941
g2
(lp29942
VIt seems that the type loader cannot find the  class
p29943
aVMake sure this class is included in one of the assemblies in the  folder
p29944
as(dp29945
g16
V29407
p29946
stp29947
a((dp29948
g2
(lp29949
VDon't do as your coworker
p29950
aVIt is wrong
p29951
aVThere's no  attribute defined on the  tag meaning that you are producing invalid HTML
p29952
aVAlso form attributes are never posted to the server so you cannot obtain them
p29953
aVI would recommend you using a hidden field which is far more natural
p29954
aVSo instead of:
p29955
aVTry:
p29956
aVAnd then  or a simple controller action parameter named  will give you the required value
p29957
as(dp29958
g16
V29407
p29959
stp29960
a((dp29961
g2
(lp29962
VThere's also Proto# and dotnet-protobufs
p29963
as(dp29964
g16
V29407
p29965
stp29966
a((dp29967
g2
(lp29968
VThe  handler is executed if the server side script returns an error code different than 200
p29969
aVYou could use FireBug to inspect what exactly is happening under the covers
p29970
as(dp29971
g16
V29407
p29972
stp29973
a((dp29974
g2
(lp29975
VASP
p29976
aVNET and classic ASP are two completely different technologies
p29977
aVClassic ASP is an interpreted system while
p29978
aVNET is a compiled
p29979
aVSo the only way to mix them is either using some interoperable format (such as SOAP) or maybe  inclusions
p29980
aVThere's also another possibility: you could externalize this function into a class library of its own and expose it as a COM type using the regam
p29981
aVexe utility and consuming the resulting component from classic ASP:
p29982
aVOnce registered you could simply  in vbscript to instantiate the
p29983
aVNET class
p29984
aVAlso make sure that the managed assembly is decorated with the COMVisible attribute so that the types would be visible
p29985
as(dp29986
g16
V29407
p29987
stp29988
a((dp29989
g2
(lp29990
VYes you can but in any case you will end up writing a function that does the conversion from the non strongly typed  to your strongly typed class, so  wouldn't bring much value here
p29991
aVYou could use  or write a custom
p29992
as(dp29993
g16
V29407
p29994
stp29995
a((dp29996
g2
(lp29997
VHow about using a loop:
p29998
as(dp29999
g16
V29407
p30000
stp30001
a((dp30002
g2
(lp30003
VNote that a class name cannot start with a number so make sure the class name starts with a letter and then put the index
p30004
as(dp30005
g16
V29407
p30006
stp30007
a((dp30008
g2
(lp30009
VThere's no such thing as kinda static in
p30010
aVNET
p30011
aVYou have three possibilities: a static class, a normal class with instance methods and an extension method to the string type
p30012
aVFor string extension:
p30013
aVwhich could be used like this:
p30014
aVassuming you've brought the extension method in scope
p30015
as(dp30016
g16
V29407
p30017
stp30018
a((dp30019
g2
(lp30020
VTry  or checkout WCF RIA Services
p30021
as(dp30022
g16
V29407
p30023
stp30024
a((dp30025
g2
(lp30026
VNo, this is not true
p30027
aVIf an object overrides  it means that you can print its values but the process is not necessary reversible
p30028
aVSerialization is a reversible process when an object instance is converted to some format
p30029
aVDeserialization is the inverse process when an object instance is created from some format
p30030
aVIn
p30031
aVNET common formats for serializing objects are XML and binary
p30032
aVFor binary serialization types need to be decorated with the  attribute
p30033
as(dp30034
g16
V29407
p30035
stp30036
a((dp30037
g2
(lp30038
VYou could take a look at WCF
p30039
aVYou can generate a proxy class using svcutil
p30040
aVexe in order to invoke the remote web service
p30041
aVHere's a tutorial you may take a look at about consuming web services in
p30042
aVNET
p30043
as(dp30044
g16
V29407
p30045
stp30046
a((dp30047
g2
(lp30048
VYou will need to try to find out more information about this DLL
p30049
aVFor example if it is a COM object you could generate a strongly typed managed wrapper that will allow you to consume it using tlbimp
p30050
aVexe
p30051
aVIf it is a standard Win32 library you will need to find out whether it exposes some functions, what are their names and arguments in order to  them
p30052
aVYou could use dumpbin
p30053
aVexe to see a list of exported function names
p30054
as(dp30055
g16
V29407
p30056
stp30057
a((dp30058
g2
(lp30059
VTry flushing and disposing or even better simplify your code using a StringReader:
p30060
aVNote: The  method also suggests that you are storing XML in your database that you are deserializing back to an object
p30061
aVDon't
p30062
as(dp30063
g16
V29407
p30064
stp30065
a((dp30066
g2
(lp30067
VYou can't
p30068
aVThe  of an HTML element is never sent to the server when posting a form
p30069
aVAs far as the  attribute is concerned you may loop through the Request
p30070
aVFiles collection
p30071
aVIn ASP
p30072
aVNET MVC it more common to use action parameters
p30073
aVExample:
p30074
aVand your controller action:
p30075
aVIt's as simple as that
p30076
as(dp30077
g16
V29407
p30078
stp30079
a((dp30080
g2
(lp30081
V always encodes the text
p30082
aVYou could use Url
p30083
aVAction:
p30084
aVor write a custom HTML helper if you don't like the tag soup
p30085
as(dp30086
g16
V29407
p30087
stp30088
a((dp30089
g2
(lp30090
VIf you want to generate a random password here's a great example
p30091
aVAnd here's another one which is more naive
p30092
aVSimply forget about the  function
p30093
as(dp30094
g16
V29407
p30095
stp30096
a((dp30097
g2
(lp30098
VI would recommend you the following to validate an email address:
p30099
aVHere's an interesting read
p30100
as(dp30101
g16
V29407
p30102
stp30103
a((dp30104
g2
(lp30105
VYou can't use any of those libraries in classic asp
p30106
aVOne way would be to try to register them as COM components using the regasm
p30107
aVexe utility, although I am not sure whether those assemblies are marked with the COMVisible attribute
p30108
as(dp30109
g16
V29407
p30110
stp30111
a((dp30112
g2
(lp30113
VDepending on what you are trying to save this may or may not be feasible
p30114
aVIf you want to trigger the Save dialog to save the current page you could try  but not sure if it will work cross browser
p30115
aVIf you want to allow the user download a file then create a link that the user clicks and the server sends the file along with the proper HTTP headers:
p30116
as(dp30117
g16
V29407
p30118
stp30119
a((dp30120
g2
(lp30121
VIt can't
p30122
aVThat's the whole purpose of the private access modifier:
p30123
aVThe type or member can be accessed
p30124
aVonly by code in the same class or
p30125
aVstruct
p30126
aVOf course you could always use reflection
p30127
as(dp30128
g16
V29407
p30129
stp30130
a((dp30131
g2
(lp30132
VThat's because the  is asynchronous
p30133
aVIt sends the request and returns immediately
p30134
aVOnce the server responds (which might be a few seconds later) it invokes the  callback and that's why the  is accessible only inside this callback
p30135
aVIf you want to block the caller you could send a synchronous request (note that this might freeze the UI while the request is executing which defeats the whole purpose of AJAX):
p30136
as(dp30137
g16
V29407
p30138
stp30139
a((dp30140
g2
(lp30141
VThe same way you would in every
p30142
aVNET application:
p30143
as(dp30144
g16
V29407
p30145
stp30146
a((dp30147
g2
(lp30148
VThe method doesn't expect an array
p30149
aVTry like this:
p30150
aVAlso make sure that floating point separator is correct according to the culture for the  parameter
p30151
aVMake the distinction between  and  or the web method might not work
p30152
aVTo further analyze any problems you could use FireBug to see exactly what is happening under the covers
p30153
as(dp30154
g16
V29407
p30155
stp30156
a((dp30157
g2
(lp30158
VDebugging might be slow
p30159
aVIf you find out that your application is slow while running in  mode then there might be a problem with your application that you will need to pinpoint
p30160
aVYou could read on how to improve the performance of your ASP
p30161
aVNET application and 10 tips for writing high performance web applications
p30162
aVYou could also use a profiler
p30163
as(dp30164
g16
V29407
p30165
stp30166
a((dp30167
g2
(lp30168
VFirstly you don't do this in your view
p30169
aVYou do it in the controller and return a view model to the view so that the view doesn't need to care about custom HTTP headers but just displaying data on the view model:
p30170
as(dp30171
g16
V29407
p30172
stp30173
a((dp30174
g2
(lp30175
VYou could group and aggregate:
p30176
as(dp30177
g16
V29407
p30178
stp30179
a((dp30180
g2
(lp30181
VThis is not a limitation of ASP
p30182
aVNET or UpdatePanel
p30183
aVIt is a limitation of AJAX which doesn't allow you to upload files
p30184
aVThat's why placing the upload control outside the UpdatePanel works as you are performing a full postback
p30185
aVYou could use some technique such as hidden iframes, jquery plugins, flash, etc
p30186
as(dp30187
g16
V29407
p30188
stp30189
a((dp30190
g2
(lp30191
VYou could a nested loop:
p30192
as(dp30193
g16
V29407
p30194
stp30195
a((dp30196
g2
(lp30197
VAccording to the documentation it will start a new instance of the application and thus new process
p30198
aVIf there were command line arguments supplied when starting the application those same arguments will be supplied to the new process
p30199
as(dp30200
g16
V29407
p30201
stp30202
a((dp30203
g2
(lp30204
VYou could use AJAX to send the value of the currently selected element to a controller action
p30205
aVThis is pretty trivial with jQuery:
p30206
aVAnd to access the selected value in your controller action simply use a parameter:
p30207
as(dp30208
g16
V29407
p30209
stp30210
a((dp30211
g2
(lp30212
V means that the variable is tied to a given managed thread
p30213
aVASP
p30214
aVNET uses a pool of threads to service user requests
p30215
aVThis means that each page might be served from a different thread, so your instance variable is null as each request is serviced from a different thread from the pool but this is random and will depend on many factors
p30216
aVAlso note that a user request is not necessary tied to a worker thread
p30217
aVFor example if you are using asynchronous pages the page could start processing on a given thread and finish on another
p30218
aVThat's one of the reasons why  should be avoided in ASP
p30219
aVNET applications where  should be preferred as it is always tied to a user request and is thread agnostic
p30220
as(dp30221
g16
V29407
p30222
stp30223
a((dp30224
g2
(lp30225
VYou can't do this using javascript
p30226
as(dp30227
g16
V29407
p30228
stp30229
a((dp30230
g2
(lp30231
VI wrote a simple example that should illustrate the idea
p30232
aVStart by writing a generic handler for handling data on the server side ( but this could be a web page, web service, anything server side script capable of returning JSON formated data):
p30233
aVAnd then a WebForm:
p30234
aVThe example is oversimplified but I hope it will illustrate the basics on how to get stared
p30235
as(dp30236
g16
V29407
p30237
stp30238
a((dp30239
g2
(lp30240
VNo, but it is possible to write a third class which has two properties pointing to your classes and save this third object to the treenode tag
p30241
aVYou could also use the Tuple class that has been introduced in
p30242
aVNET 4
p30243
aV0 if you don't want to write a third class yourself but I must admit that it could make your code more readable if you did
p30244
as(dp30245
g16
V29407
p30246
stp30247
a((dp30248
g2
(lp30249
VYou are mixing ASP
p30250
aVNET server side language with javascript which of course is not possible
p30251
aVTry like this:
p30252
aVIf you are not using a server side language you could use the following function to read query string parameters in javascript (taken from here):
p30253
aVAnd use like this:
p30254
as(dp30255
g16
V29407
p30256
stp30257
a((dp30258
g2
(lp30259
VI would recommend you to always use HTML helpers when dealing with urls instead of hardcoding them as you did
p30260
aVThis way no matter how your routes look like or where your site is deployed (virtual directory or not) it will simply work:
p30261
aVAlso why are you using jQuery and still performing DOM manipulation manually using
p30262
aVAnd notice how the  function could simplify your code
p30263
as(dp30264
g16
V29407
p30265
stp30266
a((dp30267
g2
(lp30268
VYou can host the ASP
p30269
aVNET runtime in any type of application including a Windows Service using the CreateApplicationHost method
p30270
aVAlthough note that by doing this you lose the robustness, security, logging, etc
p30271
aVthat a real web server such as IIS provides
p30272
as(dp30273
g16
V29407
p30274
stp30275
a((dp30276
g2
(lp30277
VTake a look at this article:
p30278
aVand then:
p30279
as(dp30280
g16
V29407
p30281
stp30282
a((dp30283
g2
(lp30284
VDefine your function like this:
p30285
aVNow you can return  or
p30286
aVIf you keep  then you need to return an integer value such as  and  but this doesn't express the function intent
p30287
aVYou could also shorten your code a bit:
p30288
as(dp30289
g16
V29407
p30290
stp30291
a((dp30292
g2
(lp30293
VAs far as efficiency is concerned both are interfaces so the efficiency will depend on the actual concrete class you are returning
p30294
aVAs a rule of thumb you should always return the type that's highest in the object hierarchy that works for the consumers of this method
p30295
aVIn your case
p30296
aVIf the consumers of the class need to add elements, access elements by index, remove elements you are better off using an
p30297
aVSo as always in programming: it depends :-)
p30298
as(dp30299
g16
V29407
p30300
stp30301
a((dp30302
g2
(lp30303
VThe  method sleeps the current thread so if you are calling it from multiple threads it will sleep each of those threads
p30304
aVAlso there's the currentThread static method which allows you to get the current executing thread
p30305
as(dp30306
g16
V29407
p30307
stp30308
a((dp30309
g2
(lp30310
VFrom the FAQ:
p30311
aVDoes Visual C++ 2008 Express Edition
p30312
aVinclude MFC and ATL
p30313
aVNo, MFC and ATL are not included with
p30314
aVVisual C++ 2008 Express
p30315
aVMFC and ATL
p30316
aVwill be included in Visual Studio 2008
p30317
aVStandard and above editions
p30318
aVSame for Visual C++ 2010 Express Edition
p30319
as(dp30320
g16
V29407
p30321
stp30322
a((dp30323
g2
(lp30324
VFrom the doc:
p30325
aV/clr:pure Produces a Microsoft
p30326
aVIntermediate Language (MSIL)-only
p30327
aVoutput file that has no native
p30328
aVexecutable code
p30329
aVHowever, it can
p30330
aVcontain native types compiled to MSIL
p30331
aV/clr:safe Produces an MSIL-only (no
p30332
aVnative executable code), verifiable
p30333
aVoutput file
p30334
aV/clr:safe enables
p30335
aVverification diagnostics (PEVerify
p30336
aVTool (Peverify
p30337
aVexe))
p30338
as(dp30339
g16
V29407
p30340
stp30341
a((dp30342
g2
(lp30343
VIn order to call the  method you will first need an instance of your application which is very difficult to have in a unit test
p30344
aVSo externalize everything that you have in this method into a separate static method which you could invoke in your unit test
p30345
as(dp30346
g16
V29407
p30347
stp30348
a((dp30349
g2
(lp30350
V doesn't look at like this:
p30351
aVThis is
p30352
aVHere's an example of how  request looks like
p30353
aVAnd the related RFC 1867
p30354
aVis quite often associated with uploading files
p30355
aVIf this is your case you could take a look at the jquery form plugin which allows you to ajaxify forms and supports file uploads as well
p30356
as(dp30357
g16
V29407
p30358
stp30359
a((dp30360
g2
(lp30361
VI would recommend you using a CSV parser instead of rolling your own
p30362
aVFileHelpers is a nice library for this job
p30363
as(dp30364
g16
V29407
p30365
stp30366
a((dp30367
g2
(lp30368
VYou can't search until you convert it to string using the  method
p30369
as(dp30370
g16
V29407
p30371
stp30372
a((dp30373
g2
(lp30374
VYou may take a look at this project which allows you to embed the chromium web browser in Delphi applications
p30375
as(dp30376
g16
V29407
p30377
stp30378
a((dp30379
g2
(lp30380
VYou could specify the relative location of the view:
p30381
aVBut when a view is shared among multiple areas I would recommend you to use the  folder which serves better this purpose
p30382
as(dp30383
g16
V29407
p30384
stp30385
a((dp30386
g2
(lp30387
VBefore being able to assign properties to a type you need to instantiate it:
p30388
aVAlso wrap your  in a  block in order to properly dispose it
p30389
aVAnother remark is that you don't need to  your connection in the finally block, this will automatically be done by the  method as you've already wrapped the connection in a  block
p30390
as(dp30391
g16
V29407
p30392
stp30393
a((dp30394
g2
(lp30395
VI would recommend you using the jquery form plugin which allows you to do this:
p30396
aVYou can also pass options to the  method:
p30397
aVIf you don't want to use any other plugins make sure you do this (notice that the  is wrapped in  in order to call the  method):
p30398
as(dp30399
g16
V29407
p30400
stp30401
a((dp30402
g2
(lp30403
VYou could capture :
p30404
as(dp30405
g16
V29407
p30406
stp30407
a((dp30408
g2
(lp30409
VYou simply can't reverse it
p30410
aVIt's a checksum which is not reversible
p30411
as(dp30412
g16
V29407
p30413
stp30414
a((dp30415
g2
(lp30416
s(dp30417
g16
V29407
p30418
stp30419
a((dp30420
g2
(lp30421
VYes, you need to validate that a file selected with  exists and is of correct type as these cannot be enforced
p30422
aVAs far as  is concerned I am afraid there's no reliable way to test if it will occur
p30423
aVEven if you try to see available memory and verify that this number is greater than the file size an exception could still occur later when you try to read the file because the garbage collector or some other process might have changed this
p30424
as(dp30425
g16
V29407
p30426
stp30427
a((dp30428
g2
(lp30429
VI don't think there's really a standard way of doing this
p30430
aVYour technique seems fine
p30431
aVNow if you are going to submit this id to the server then probably using a form with a hidden field and a submit button is more adapted as you will no longer need to do any parsing or rely on order of DOM elements nesting to extract this id
p30432
as(dp30433
g16
V29407
p30434
stp30435
a((dp30436
g2
(lp30437
VYou may take a look at this CodeProject article
p30438
aVIt outlines a
p30439
aVNET solution but as you haven't specified what language/program you are using, if this is not your case, you could see the unmanaged Win32 functions used there
p30440
as(dp30441
g16
V29407
p30442
stp30443
a((dp30444
g2
(lp30445
VIt depends
p30446
aVIf you want to allow users to be managed through a web interface on your site, then yes you need to create models, controllers and views
p30447
aVIn this case you are using the built-in Membership provider to create, update and delete users
p30448
aVIf you don't need a web interface you could always remotely connect and administer the SQL database
p30449
as(dp30450
g16
V29407
p30451
stp30452
a((dp30453
g2
(lp30454
VAre you sure that at the moment you are calling this function the  variable is actually defined
p30455
aVTry like this to see if it works
p30456
aVAlso make sure that this variable is also defined in your  when alerting it:
p30457
aVYou could also take a look at the  function
p30458
as(dp30459
g16
V29407
p30460
stp30461
a((dp30462
g2
(lp30463
VYou cannot pass a javascript variable to an HTML helper because this helper is evaluated on the server side
p30464
aVYou will need to use javascript to manipulate the resulting link and append the  variable to the
p30465
as(dp30466
g16
V29407
p30467
stp30468
a((dp30469
g2
(lp30470
V is a local variable so this method is reentrant and thread safe
p30471
aVYou can safely use it from multiple threads
p30472
as(dp30473
g16
V29407
p30474
stp30475
a((dp30476
g2
(lp30477
VYou could use the ToArray method:
p30478
as(dp30479
g16
V29407
p30480
stp30481
a((dp30482
g2
(lp30483
V is just a static class that contains extension methods to the  interface
p30484
aVYou wouldn't use  directly in your code but rather invoke its methods given an  instance
p30485
as(dp30486
g16
V29407
p30487
stp30488
a((dp30489
g2
(lp30490
VThe last one is called unobtrusive javascript and it's the one I would recommend you using as it advocates a clear separation between your markup and javascript
p30491
aVIt also has also the advantage of smaller markup files, while external javascript files would be cached by the client browsers
p30492
aVAs @David Dorward pointed out in the comments section if you are using the last method it is recommended to have the  attribute point to some real url so that the client will be redirected if for example he has javascript disabled
p30493
aVThis technique is called progressive enhancement when you define a minimal markup of your site and based on the client browser capabilities you enrich with functionality that's not available with markup such as AJAX and some other nice UI effects
p30494
aVSo to summarize:
p30495
aVand then in a separate javascript file (example with jQuery but you could use anything you like):
p30496
as(dp30497
g16
V29407
p30498
stp30499
a((dp30500
g2
(lp30501
VThis exception means that the account you are running your application under doesn't have write permissions to the file
p30502
aVYou will need to grant the necessary permissions to the file you are trying to write to
p30503
aVAnother option is to put the file into another folder where you you have the necessary permissions
p30504
as(dp30505
g16
V29407
p30506
stp30507
a((dp30508
g2
(lp30509
VTry defining the following route before the default route:
p30510
as(dp30511
g16
V29407
p30512
stp30513
a((dp30514
g2
(lp30515
VYou use a proxy server when you need to access some resource that is not on the same network as the client and for which the client has no direct access
p30516
aVIs your web service accessing remote resources like for example web pages
p30517
aVIf on the other hand you are having issues calling your service then you need to set the proxy on the client side
p30518
as(dp30519
g16
V29407
p30520
stp30521
a((dp30522
g2
(lp30523
VYou could put a breakpoint in your controller action and analyze your model and view data
p30524
aVThis being said, why are you using a strongly typed view and  at the same time
p30525
aVMake sure that  is not null (in your controller) or even better get rid of it and put it in your model as a strongly typed property
p30526
aVAlso I would recommend you using the strongly typed helper :
p30527
as(dp30528
g16
V29407
p30529
stp30530
a((dp30531
g2
(lp30532
VYou could try compiling your C++ code as managed code using the  option and then use it directly or use  to call the unmanaged functions from managed code
p30533
as(dp30534
g16
V29407
p30535
stp30536
a((dp30537
g2
(lp30538
VThere are no differences if you are using the  method
p30539
aVThe difference is if you are using the  method for large files as you are not loading the whole file into memory but rather allows you to process it in chunks
p30540
aVSo use  instead of  as it makes your code shorter and more readable
p30541
aVIt also takes care of properly disposing resources as you might forget doing with a  (as you did in your snippet)
p30542
as(dp30543
g16
V29407
p30544
stp30545
a((dp30546
g2
(lp30547
VThe difference is in the support of those OOP concepts
p30548
aVC does not support OOP concepts while C# does
p30549
as(dp30550
g16
V29407
p30551
stp30552
a((dp30553
g2
(lp30554
VCheckout the IntPtr
p30555
aVSize property:
p30556
aVThe value of this property is 4 on a
p30557
aV32-bit platform, and 8 on a 64-bit
p30558
aVplatform
p30559
as(dp30560
g16
V29407
p30561
stp30562
a((dp30563
g2
(lp30564
VYou may take a look at the  function
p30565
aVAlso instead of constantly polling can't you be notified by the javascript code that changes the  property for this change
p30566
as(dp30567
g16
V29407
p30568
stp30569
a((dp30570
g2
(lp30571
VWhy do you need to convert a byte[] to base64 string
p30572
aVThis won't allow you showing the image on the page
p30573
aVYou could write a generic handler (
p30574
aVashx) that will query the database, fetch the image bytes and write them to the response stream
p30575
aVThen you simply instruct your image  property to this generic handler
p30576
as(dp30577
g16
V29407
p30578
stp30579
a((dp30580
g2
(lp30581
VYou could always do this:
p30582
aVThis being said, the case of showing edit and delete links doesn't seem like editing so I would recommend you using different action names
p30583
aVIt seems more RESTful to me like this:
p30584
aVIn this case you are having different actions and views for each case:
p30585
as(dp30586
g16
V29407
p30587
stp30588
a((dp30589
g2
(lp30590
VNot sure what the issue might be but try this:
p30591
aVAnd in your view:
p30592
as(dp30593
g16
V29407
p30594
stp30595
a((dp30596
g2
(lp30597
Vfavicons are already cached by client browsers
p30598
aVThat's often an issue when you modify the icon you need to clear your browser cache for changes to take effect
p30599
as(dp30600
g16
V29407
p30601
stp30602
a((dp30603
g2
(lp30604
VIs AJAX an acceptable solution
p30605
aVThis way you always stay on the same page and don't need to redirect
p30606
aVAnother option would be to store the error message in  so that you can fetch it and show it on the redirected page:
p30607
aVAlso for security reasons it is important to verify that  belongs to your domain before redirecting or a hacker could create a link and a  pointing to some spoofing site that looks exactly the same as your and which tricks the user into putting his username and password once again
p30608
aVThe default ASP
p30609
aVNET MVC template in Visual Studio suffers from this same vulnerability
p30610
as(dp30611
g16
V29407
p30612
stp30613
a((dp30614
g2
(lp30615
VYou need to use javascript in order to achieve this or if you prefer jQuery
p30616
as(dp30617
g16
V29407
p30618
stp30619
a((dp30620
g2
(lp30621
VSearch and replace  with the  function
p30622
as(dp30623
g16
V29407
p30624
stp30625
a((dp30626
g2
(lp30627
VYou could use AES
p30628
as(dp30629
g16
V29407
p30630
stp30631
a((dp30632
g2
(lp30633
VBecause an  is readonly
p30634
as(dp30635
g16
V29407
p30636
stp30637
a((dp30638
g2
(lp30639
VUse this method:
p30640
as(dp30641
g16
V29407
p30642
stp30643
a((dp30644
g2
(lp30645
VIf you are completely new to
p30646
aVNET and C# I would recommend you Head First C#
p30647
aVFor ASP
p30648
aVNET MVC there's ASP
p30649
aVNET MVC in Action
p30650
aVMore advanced is Pro ASP
p30651
aVNET MVC Framework
p30652
as(dp30653
g16
V29407
p30654
stp30655
a((dp30656
g2
(lp30657
VIt is non-blocking
p30658
aVYou are simply assigning a variable to a function and the execution of other script continues
p30659
aVOnce the DOM is loaded the assigned callback is invoked
p30660
as(dp30661
g16
V29407
p30662
stp30663
a((dp30664
g2
(lp30665
VTry Ctrl+Shift+D,K as shown here whenever the execution of your program hits a breakpoint in Debug mode
p30666
as(dp30667
g16
V29407
p30668
stp30669
a((dp30670
g2
(lp30671
VIt depends on the type
p30672
aVFor example Int64 assignments are not atomic in x86 mode and atomic in x64 mode
p30673
aVAssigning a  is atomic as it is a reference type and you are assigning a pointer and the size of the pointer is either 4 or 8 bytes depending on whether you are running on x86 or x64 bit mode
p30674
as(dp30675
g16
V29407
p30676
stp30677
a((dp30678
g2
(lp30679
VThe GetFiles method allows you to specify a wildcard pattern but not really a regex
p30680
aVAnother possibility is to simply loop through the files and validate their name against a regex
p30681
as(dp30682
g16
V29407
p30683
stp30684
a((dp30685
g2
(lp30686
VA form could be submitted using either  or
p30687
aVIn both cases you get  pairs which cannot automatically be mapped to an hierarchical structure such as XML without any manual indication
p30688
aVAs far as XML creation is concerned you may take a look at the XDocument class or XmlWriter
p30689
aVAnother alternative is to rely on the default model binder which will instantiate a view model passed as an action parameter that you could serialize to XML
p30690
as(dp30691
g16
V29407
p30692
stp30693
a((dp30694
g2
(lp30695
VYou could try the select event:
p30696
aVAlso notice that the value parameter is sent as the data hash and not concatenated in the url in order to be properly encoded
p30697
as(dp30698
g16
V29407
p30699
stp30700
a((dp30701
g2
(lp30702
VI would recommend you to avoid concatenating parameters as you did
p30703
aVUse the  hash like this so that jQuery take care of properly encoding url values:
p30704
aVAlso make sure that your pages are utf-8 encoded
p30705
as(dp30706
g16
V29407
p30707
stp30708
a((dp30709
g2
(lp30710
VIt's just a default project template
p30711
aVThe C# compiler will automatically remove any unused referenced from the resulting assembly
p30712
aVI guess they are included in the default project template in order to make it easier to access GDI+ and COM+ out of the box
p30713
as(dp30714
g16
V29407
p30715
stp30716
a((dp30717
g2
(lp30718
VThe FormsAuthentication
p30719
aVSignOut method removes the forms-authentication ticket from the browser, so you need to first redirect and then query the  property
p30720
as(dp30721
g16
V29407
p30722
stp30723
a((dp30724
g2
(lp30725
VCheckout this project instead of rolling your own CSV parser
p30726
as(dp30727
g16
V29407
p30728
stp30729
a((dp30730
g2
(lp30731
VMake sure you wrap disposable resources in Using statement to ensure they are properly released:
p30732
as(dp30733
g16
V29407
p30734
stp30735
a((dp30736
g2
(lp30737
VAssign  to a new empty object if it is  (undefined, false) or keep it's existing value if not
p30738
as(dp30739
g16
V29407
p30740
stp30741
a((dp30742
g2
(lp30743
VYou may take a look at the Menu control
p30744
aVAnd here are some samples
p30745
as(dp30746
g16
V29407
p30747
stp30748
a((dp30749
g2
(lp30750
VTry specifying background once:
p30751
as(dp30752
g16
V29407
p30753
stp30754
a((dp30755
g2
(lp30756
VFor security reasons you cannot do this using javascript as you don't have access to the user file system
p30757
as(dp30758
g16
V29407
p30759
stp30760
a((dp30761
g2
(lp30762
VTry spinning a thread manually to see if it makes any difference:
p30763
as(dp30764
g16
V29407
p30765
stp30766
a((dp30767
g2
(lp30768
VYou need to close parentheses
p30769
aVHere's a working example:
p30770
as(dp30771
g16
V29407
p30772
stp30773
a((dp30774
g2
(lp30775
VYou may take a look at XDocument
p30776
aVAnother alternative is to use a XmlWriter or XmlDocument
p30777
as(dp30778
g16
V29407
p30779
stp30780
a((dp30781
g2
(lp30782
VThis will depend on the routing you have setup but if you stick to the conventions  is a controller (a file called AccountController
p30783
aVcs) and  is an action method of this controller:
p30784
aVI would recommend you following some of the tutorials here to get yourself familiarized with the basics of ASP
p30785
aVNET MVC
p30786
as(dp30787
g16
V29407
p30788
stp30789
a((dp30790
g2
(lp30791
VThis is more general than
p30792
aVNET and Windows
p30793
aVManaged is an environment where you have automatic memory management, garbage collection, type safety,
p30794
aVunmanaged is everything else
p30795
aVSo for example
p30796
aVNET is a managed environment and C/C++ is unmanaged
p30797
as(dp30798
g16
V29407
p30799
stp30800
a((dp30801
g2
(lp30802
VYou could use , , ArrayList, IEnumerable,
p30803
aVbut if those types have a common base type it would be better to stick to a strongly typed collection
p30804
as(dp30805
g16
V29407
p30806
stp30807
a((dp30808
g2
(lp30809
VTry using the  method which will take care of properly encoding data instead of concatenating strings:
p30810
as(dp30811
g16
V29407
p30812
stp30813
a((dp30814
g2
(lp30815
VIt could have relation to this bug which seems to be fixed by installing the SP2 for Windows Vista (if this is your case of course)
p30816
aVAnother possible reason I can think of, although less probable, is that you are running a 64 bit OS and the assembly has been compiled for 32 bit
p30817
aVIn this case you might try setting the application pool in IIS to enable 32 bit support:
p30818
aVTo rule out this possibility you could check the processor architecture  assembly has been compiled against: MSIL, x86, x64
p30819
as(dp30820
g16
V29407
p30821
stp30822
a((dp30823
g2
(lp30824
Vor:
p30825
as(dp30826
g16
V29407
p30827
stp30828
a((dp30829
g2
(lp30830
VI would recommend you using the MVP pattern with ASP
p30831
aVNET
p30832
aVThis way you could have a single class library project containing the models and the presenters which would be referenced by multiple ASP
p30833
aVNET applications containing the views and of course static resources such as JS, CSS, images which could be specific to each site
p30834
aVOf course if you want to share static resources between web applications you could put them into a common location so that they are referenced from there (like SO does with sstatic
p30835
aVnet)
p30836
aVSo your solution could look like this:
p30837
as(dp30838
g16
V29407
p30839
stp30840
a((dp30841
g2
(lp30842
s(dp30843
g16
V29407
p30844
stp30845
a((dp30846
g2
(lp30847
VInstead of using an  I would recommend you using a strongly typed collection because an  wouldn't bring much value compared to a non-strongly typed
p30848
aVSo you could start by defining a model that will represent each row:
p30849
aVthen loop over your  and fill the collection:
p30850
aVOr you could use LINQ if you prefer:
p30851
as(dp30852
g16
V29407
p30853
stp30854
a((dp30855
g2
(lp30856
VBecause AJAX is asynchronous
p30857
aVYou need to put  inside the success callback:
p30858
as(dp30859
g16
V29407
p30860
stp30861
a((dp30862
g2
(lp30863
VIf it is a primary key the constraint is enforced by the sql server and you don't need to verify it
p30864
aVSo normally you cannot insert records with duplicate primary keys
p30865
aVThis being said you can temporary deactivate this constraint and perform the insertion but in normal circumstances this cannot happen
p30866
as(dp30867
g16
V29407
p30868
stp30869
a((dp30870
g2
(lp30871
VIt's a child action meaning that it is only a part of the final HTML and cannot be cached
p30872
aVFor caching fragments of your HTML checkout this blog post
p30873
as(dp30874
g16
V29407
p30875
stp30876
a((dp30877
g2
(lp30878
VNo, they make absolutely no sense in ASP
p30879
aVNET MVC views
p30880
aVBy the way they are completely removed in ASP
p30881
aVNET MVC 2
p30882
aV0 views
p30883
aVYou could make aberrations by adding one but you shouldn't
p30884
as(dp30885
g16
V29407
p30886
stp30887
a((dp30888
g2
(lp30889
VReadability: a CSS selector like  is far more readable than the other
p30890
as(dp30891
g16
V29407
p30892
stp30893
a((dp30894
g2
(lp30895
VA multiple select list could be empty (for example if the user makes no selection) meaning that you cannot bind to a value type (like DateTime)
p30896
aVYou could use a nullable  instead:
p30897
aVAlso notice that in a multiple select list the user could perform multiple selections meaning that binding to a single date doesn't look very natural
p30898
aVIMHO it would be more natural to have this:
p30899
as(dp30900
g16
V29407
p30901
stp30902
a((dp30903
g2
(lp30904
VYou could use a PHP SOAP Extension to invoke a SOAP web service
p30905
as(dp30906
g16
V29407
p30907
stp30908
a((dp30909
g2
(lp30910
VIn ASP
p30911
aVNET MVC the master page should derive from  while in classic WebForms from
p30912
aVIf in MVC you use the latter you won't have access to any helpers
p30913
aVAlthough you could use  in classic webforms because it derives from  (once again you won't have access to helpers in the web forms application but who cares)
p30914
aVSo to answer your question, yes, you could have a common master page assuming it derives from
p30915
aVThis being said you probably won't be able to make this work as in an MVC master page you would use HTML helpers to render partial views like  which doesn't make much sense in a classic WebForms application and vice versa in a classic WebForms application you would probably be using some server side controls like  or have a single  tag (again with ) polluted with ViewState, etc
p30916
aVwhich hardly makes any sense in MVC
p30917
aVSo my recommendation would be not to do like this
p30918
as(dp30919
g16
V29407
p30920
stp30921
a((dp30922
g2
(lp30923
VHow about:
p30924
aVwhich generates:
p30925
aVThis is not exactly the URL you were looking for but it will successfully bind to your controller action
p30926
aVIf you want to generate an url without the square brackets you will need to roll your own helper method
p30927
as(dp30928
g16
V29407
p30929
stp30930
a((dp30931
g2
(lp30932
VYou could use a base controller decorated with this attribute that all your controllers in the area derive from
p30933
as(dp30934
g16
V29407
p30935
stp30936
a((dp30937
g2
(lp30938
VHow about:  (or whatever the variable name casing is in your language)
p30939
as(dp30940
g16
V29407
p30941
stp30942
a((dp30943
g2
(lp30944
VYes, don't use  but IDataReader or IDataRecord, then mock whatever you want
p30945
as(dp30946
g16
V29407
p30947
stp30948
a((dp30949
g2
(lp30950
VSimply give it a  class:
p30951
as(dp30952
g16
V29407
p30953
stp30954
a((dp30955
g2
(lp30956
VA submit button usually is for submitting a form
p30957
aVSubmitting a form is sending a request to the server and refreshing the page
p30958
aVSo in your server side script you could read the posted values and show them in the resulting page (you don't need javascript for this)
p30959
aVIf you don't want to redirect you could handle the submit event and cancel the default submission:
p30960
as(dp30961
g16
V29407
p30962
stp30963
a((dp30964
g2
(lp30965
VYes you can, here's an example of how Spring
p30966
aVNET does it
p30967
as(dp30968
g16
V29407
p30969
stp30970
a((dp30971
g2
(lp30972
VBecause I suppose that you have used a value type such as Int32 for the  property
p30973
aVTry using a nullable integer instead:
p30974
as(dp30975
g16
V29407
p30976
stp30977
a((dp30978
g2
(lp30979
VNo, it is not the same thing and that's the reason why they didn't just say ASCII
p30980
aVThere are many encodings out that are neither Unicode nor ASCII like Windows 1251 also known as CP1251 (cyrillic)
p30981
as(dp30982
g16
V29407
p30983
stp30984
a((dp30985
g2
(lp30986
VYou need something to distinguish them if you want them styled separately
p30987
aVIf you cannot modify those tag you could probably use some parent container like:
p30988
aVand then:
p30989
aVAlso notice that an  cannot start with a number as in your case
p30990
aVYou should probably consider switching/modifying this plugin
p30991
as(dp30992
g16
V29407
p30993
stp30994
a((dp30995
g2
(lp30996
VYou may take a look at this implementation
p30997
aVYou may also find other implementations useful
p30998
as(dp30999
g16
V29407
p31000
stp31001
a((dp31002
g2
(lp31003
VI would recommend you to proceed by elimination
p31004
aVStart with a simple action and a working jpeg image:
p31005
aVIf this doesn't work then you might be having some other problem (you might also try clearing the browser cache)
p31006
aVIf it works replace the  by the one you have but before resizing, etc, until you find the problem
p31007
as(dp31008
g16
V29407
p31009
stp31010
a((dp31011
g2
(lp31012
Vpostback: the page performs a POST request to itself
p31013
aVautopostback: a postback is performed automatically, for example when the selected value of a dropdown changes
p31014
aVcallback: a method which is invoked when a certain event occurs such as clicking on a button
p31015
aVIt also could have another meaning that a page performs a request back to the server (such as an AJAX request)
p31016
as(dp31017
g16
V29407
p31018
stp31019
a((dp31020
g2
(lp31021
VI would recommend you using strongly typed helpers everywhere so that you don't have to worry about naming your controls
p31022
aVHere's how to proceed:
p31023
aVModels:
p31024
aVController:
p31025
aVMain View ():
p31026
aVEditor Template ()
p31027
aVNow submit the form and everything should be bound correctly
p31028
aVAn important thing to note is that the editor template is strongly typed to  and not  as in your case
p31029
aVWhen in your main view you write:
p31030
aVthe framework automatically detects that the property is a collection and will call the editor template for each item of this collection so you no longer need to loop through the elements which makes your code more elegant
p31031
aVUPDATE:
p31032
aVUsing dropdown lists is also very easy: checkout this answer
p31033
as(dp31034
g16
V29407
p31035
stp31036
a((dp31037
g2
(lp31038
VTry:
p31039
aVAlso note that the JSON object you've posted is not valid: you are missing a  between the two properties
p31040
as(dp31041
g16
V29407
p31042
stp31043
a((dp31044
g2
(lp31045
V is serialized using binary serialization using ObjectStateFormatter
p31046
aVQuote from the documentation:
p31047
aVThe ObjectStateFormatter class is
p31048
aVoptimized to serialize and format many
p31049
aVcommon
p31050
aVNET Framework reference types,
p31051
aVas well as constants
p31052
aVThe following
p31053
aVtable lists the types that are
p31054
aVoptimized
p31055
aVArray, DateTime, Int16, String, ArrayList,
p31056
aVDouble, Int32, String [], Boolean, Enum,
p31057
aVnull (Nothing), String
p31058
aVEmpty, Byte,
p31059
aVHashtable, Pair, Triplet, Char,
p31060
aVHybridDictionary, Single, Type, Color,
p31061
aVIDictionary,
p31062
aVAdditionally, while
p31063
aVconventional string types and string
p31064
aVarrays are written to and from a
p31065
aVserialized binary writer unaltered,
p31066
aVsome strings are optimized by creating
p31067
aVinternal string tables
p31068
aVStrings are
p31069
aVoptimized using these tables if the
p31070
aVstring has an associated TypeConverter
p31071
aVobject or if the string is actually an
p31072
aVinstance of the IndexedString class
p31073
aVOther types not listed above are
p31074
aVbinary-serialized using a
p31075
aVBinaryFormatter object if they
p31076
aVimplement the ISerializable interface
p31077
aVor are decorated with the
p31078
aVSerializableAttribute attribute
p31079
aVThe
p31080
aVObjectStateFormatter class is not
p31081
aVoptimized for any of these
p31082
aVserializable types
p31083
aVIf the ObjectStateFormatter class
p31084
aVencounters a type that is not
p31085
aVserializable, an ArgumentException
p31086
aVexception is thrown
p31087
aVFor an object to be binary serializable in the  it needs to be decorated with the  attribute
p31088
aVSo you can put in  any object that has this attribute
p31089
aVNote that simple types like string, int, float,
p31090
aVcan also be placed in
p31091
as(dp31092
g16
V29407
p31093
stp31094
a((dp31095
g2
(lp31096
VUsing Html
p31097
aVSerialize helper method to persist view models between pages and of course MVCContrib
p31098
as(dp31099
g16
V29407
p31100
stp31101
a((dp31102
g2
(lp31103
VHow about having the following model:
p31104
aVThen you could loop through the headers and values in your view to display them
p31105
as(dp31106
g16
V29407
p31107
stp31108
a((dp31109
g2
(lp31110
VInstead of concatenating the arguments you are passing to your server side script I would recommend you using the following syntax
p31111
aVAlso if you already use jQuery you no longer need the  function:
p31112
aVor even shorter using the  function:
p31113
as(dp31114
g16
V29407
p31115
stp31116
a((dp31117
g2
(lp31118
VCheckout this blog post (at the end of the post there's a list of third party providers like ,  and )
p31119
as(dp31120
g16
V29407
p31121
stp31122
a((dp31123
g2
(lp31124
VI think you are confusing the notions of session, authentication, and binding values to action parameters
p31125
aVIn your case I suppose you are talking about authentication
p31126
aVA non authenticated user cannot access actions and/or controllers decorated with the  attribute
p31127
aVIf you are using FormsAuthentication the validity of the authentication cookie is defined in web
p31128
aVconfig:
p31129
aVYou could adjust this timeout
p31130
aVIf you want to increase the session timeout take a look at the  tag in web
p31131
aVconfig
p31132
as(dp31133
g16
V29407
p31134
stp31135
a((dp31136
g2
(lp31137
VYou may try the following function:
p31138
aVAnd in your view:
p31139
as(dp31140
g16
V29407
p31141
stp31142
a((dp31143
g2
(lp31144
VNo there isn't otherwise why would obfuscation tools exist in your opinion
p31145
aVWhat you call readable variable names no longer exist in the obfuscated assembly because they have been renamed to non-readable ones and no tool could guess what the original names were
p31146
as(dp31147
g16
V29407
p31148
stp31149
a((dp31150
g2
(lp31151
VYou could add multiple elements to the Attachments collection:
p31152
as(dp31153
g16
V29407
p31154
stp31155
a((dp31156
g2
(lp31157
VThe session is stored on the server side so you cannot add values to it from javascript
p31158
aVAll that you get on the client side is the session cookie which contains an id
p31159
aVOne possibility would be to send an AJAX request to a server side script which would set the session variable
p31160
aVExample with jQuery's  method:
p31161
aVYou should of course be cautious about exposing such script
p31162
as(dp31163
g16
V29407
p31164
stp31165
a((dp31166
g2
(lp31167
VThe  method expects a valid image stream
p31168
aVYou are concatenating multiple images into a single file and if you want to reconstruct them you will also need to save their size in addition to their number
p31169
aVAn easier solution would be to simply binary serialize the image dictionary:
p31170
as(dp31171
g16
V29407
p31172
stp31173
a((dp31174
g2
(lp31175
VIf this DLL is a COM object you may take a look at the relevant section in the documentation
p31176
aVIf it is a Win32 library you could use the w32api_invoke_function but this extension is still experimental
p31177
as(dp31178
g16
V29407
p31179
stp31180
a((dp31181
g2
(lp31182
VThere's the EnumerateFiles method that has been introduced in
p31183
aVNET 4
p31184
ag2721
aVIf not you could use the GetFiles method but be warned that this method returns an array of strings which represent the matched filenames and it could block for a long time
p31185
as(dp31186
g16
V29407
p31187
stp31188
a((dp31189
g2
(lp31190
VNever concatenate strings
p31191
aVYou could pass the arguments as a hash:
p31192
aVThis way jQuery will take care of properly URL encoding parameters
p31193
as(dp31194
g16
V29407
p31195
stp31196
a((dp31197
g2
(lp31198
VTake a look at this thread
p31199
aVThere's no 64-bit Jet driver
p31200
aVYou will need to enable 32-bit applications:
p31201
as(dp31202
g16
V29407
p31203
stp31204
a((dp31205
g2
(lp31206
VYou could take a look at the Math object which contains among others trigonometric functions
p31207
as(dp31208
g16
V29407
p31209
stp31210
a((dp31211
g2
(lp31212
VIf it is for logging purposes you could activate tracing by putting this in your app/web
p31213
aVconfig:
p31214
aVRun your code and look at the generated log file
p31215
as(dp31216
g16
V29407
p31217
stp31218
a((dp31219
g2
(lp31220
s(dp31221
g16
V29407
p31222
stp31223
a((dp31224
g2
(lp31225
VAll these
p31226
as(dp31227
g16
V29407
p31228
stp31229
a((dp31230
g2
(lp31231
VThis happens because at the moment you are assigning this value using javascript (do not confuse with Java) the DOM is not loaded yet and the form doesn't exist
p31232
aVTry this instead:
p31233
aVor better assign an id to your input and use this id:
p31234
aVor even better use a javascript framework such jQuery to manipulate the DOM to ensure cross browser compatibility:
p31235
as(dp31236
g16
V29407
p31237
stp31238
a((dp31239
g2
(lp31240
VYou may take a look at iTextSharp and here's a tutorial on how to get started
p31241
aVThere's also a section in the documentation which illustrates how to create tables in PDF documents
p31242
as(dp31243
g16
V29407
p31244
stp31245
a((dp31246
g2
(lp31247
VjQuery is more than enough
p31248
aVCouple this with ASP
p31249
aVNET MVC and you will never ever need to  look at Microsoft ASP
p31250
aVNET AJAX (or whatever its name is currently)
p31251
aVEven if you work with standard ASP
p31252
aVNET WebForms, jQuery will be sufficient
p31253
aVAlso note that Microsoft have fully embraced jQuery (it is included with ASP
p31254
aVNET MVC) and they are actively supporting its development
p31255
aVI won't be surprised if MS AJAX becomes obsolete soon (for me personally it's been deprecated for years :-))
p31256
aVSo I would recommend you use the time you would have wasted in learning MS AJAX in improving your jQuery skills
p31257
as(dp31258
g16
V29407
p31259
stp31260
a((dp31261
g2
(lp31262
VInstead of using the  function try passing the value to the  function::
p31263
as(dp31264
g16
V29407
p31265
stp31266
a((dp31267
g2
(lp31268
VInitializes a new empty collection which will lock on an internal field
p31269
aVInitializes a new empty collection which will lock on an object you provide
p31270
aVInitializes a new collection containing the elements in the list which will lock on an object you provide
p31271
aVThe documentation does a good job explaining this
p31272
aVIt's worth reading
p31273
as(dp31274
g16
V29407
p31275
stp31276
a((dp31277
g2
(lp31278
VYou need an intermediary class there:
p31279
aVAlso note that you don't need to decorate your classes with the  attribute as it is used only for binary serialization
p31280
aVAnother remark is that you don't need to derive from , simply use it as a property
p31281
as(dp31282
g16
V29407
p31283
stp31284
a((dp31285
g2
(lp31286
VYou could use the endRequest event:
p31287
as(dp31288
g16
V29407
p31289
stp31290
a((dp31291
g2
(lp31292
VNot really
p31293
aVYou could write it like this if you prefer:
p31294
as(dp31295
g16
V29407
p31296
stp31297
a((dp31298
g2
(lp31299
VYou may checkout libcurl
p31300
aVAnd here are some examples
p31301
aVIt could be as easy as (taken from the doc):
p31302
as(dp31303
g16
V29407
p31304
stp31305
a((dp31306
g2
(lp31307
VYou need to install the Google Web Toolkit Developer Plugin:
p31308
aVIn the development mode window you
p31309
aVwill find the URL for the local
p31310
aVserver
p31311
aVPaste this URL into Firefox,
p31312
aVInternet Explorer, Chrome, or Safari
p31313
aVSince this is your first time hitting
p31314
aVthe development mode server, it will
p31315
aVprompt you to install the Google Web
p31316
aVToolkit Developer Plugin
p31317
aVFollow the
p31318
aVinstructions in the browser to install
p31319
aVthe plugin
p31320
aVOnce the Google Web
p31321
aVToolkit Developer Plugin is installed
p31322
aVin your browser, navigate to the URL
p31323
aVagain and the starter application will
p31324
aVload in development mode
p31325
as(dp31326
g16
V29407
p31327
stp31328
a((dp31329
g2
(lp31330
VWebSockets consists of parts: server and client
p31331
aVThe server could be written in any language while the client is intended to be javascript
p31332
aVUsing Ruby/Python on the client side is not possible unless you write a browser plugin capable of running this code (the way Silverlight does it)
p31333
aVSilverlight is
p31334
aVNET meaning that you could use any language capable of compiling into MSIL (C#, VB
p31335
aVNET, IronRuby, IronPython,
p31336
aVwhich will run inside the client browser using a plugin that needs to be installed
p31337
as(dp31338
g16
V29407
p31339
stp31340
a((dp31341
g2
(lp31342
VThe garbage collector runs inside a process
p31343
aVSo if you want to run the garbage collector for this process you could try the GC
p31344
aVCollect method
p31345
aVYou cannot force garbage collection for a given process from the outside
p31346
aVAlso note that forcing garbage collection (using the ) method is considered as bad practice and should be avoided
p31347
aVThere is no Microsoft tool and I have never heard of any 3rd party tool capable of doing this
p31348
aVEach process gets its own GC heaps, and therefore its own GC threads, so forcing a GC Collection on another process, AFAIK, is impossible
p31349
as(dp31350
g16
V29407
p31351
stp31352
a((dp31353
g2
(lp31354
VThis is possible using auto-implemented properties
p31355
aVYou could use the setter of B to assign a value to C:
p31356
as(dp31357
g16
V29407
p31358
stp31359
a((dp31360
g2
(lp31361
VIt means the number of times a page has been viewed
p31362
aVIt is not tied to a user session
p31363
aVIt is more related to the application scope
p31364
as(dp31365
g16
V29407
p31366
stp31367
a((dp31368
g2
(lp31369
VYou could do this in the codebehind:
p31370
aVUPDATE:
p31371
aVNow that @Marko Ivanovski pointed me in the comments that this hyperlink is inside a  which I didn't notice in the beginning the easiest would be to use databinding ( syntax):
p31372
aVIn this case  is a property of the data source
p31373
aVUPDATE 2:
p31374
aVDo you really need a server side control
p31375
aVHow about:
p31376
as(dp31377
g16
V29407
p31378
stp31379
a((dp31380
g2
(lp31381
s(dp31382
g16
V29407
p31383
stp31384
a((dp31385
g2
(lp31386
VThis works fine in a WinForms application:
p31387
aVThe problem seems to come from the  function
p31388
as(dp31389
g16
V29407
p31390
stp31391
a((dp31392
g2
(lp31393
VNAudio uses tons of interop into Win32 functions that would be completely impossible to run in Silverlight
p31394
aVUPDATE:
p31395
aVIf you are looking for an MP3 player for Silverlight you may check out the Silverlight Audio Player
p31396
as(dp31397
g16
V29407
p31398
stp31399
a((dp31400
g2
(lp31401
VThat's because regex applies to strings and not  properties
p31402
aVIf the user enters an invalid string which cannot be parsed to a  instance from the model binder it will add a generic error message before your regex pattern executes
p31403
aVYou have a couple of possibilities:
p31404
aVCustomize the error message in a resource file
p31405
aVWrite a custom model binder
p31406
aVUse a string property (I feel guilty for proposing this :-))
p31407
as(dp31408
g16
V29407
p31409
stp31410
a((dp31411
g2
(lp31412
VThat seems like a nasty bug in Visual Studio debug mode which is fooling you:
p31413
aVNow F10 to step over this line and you get:
p31414
aVOn the console correct values are printed
p31415
aVWTF
p31416
as(dp31417
g16
V29407
p31418
stp31419
a((dp31420
g2
(lp31421
VA browser on your mobile and probably a mobile optimized version of your site to preserve bandwidth as it could cost more money on mobile
p31422
as(dp31423
g16
V29407
p31424
stp31425
a((dp31426
g2
(lp31427
VYour class seems immutable and thread safe
p31428
aVYou don't need to synchronize access to those properties as they can only be read, just make sure that you initialize your singleton only once (the  property) and that you cannot assign it a value a second time
p31429
as(dp31430
g16
V29407
p31431
stp31432
a((dp31433
g2
(lp31434
VYou need to set the  HTTP header to  for this file
p31435
aVDepending on the web server you are using the way to configure this might vary
p31436
aVAnother option is to have a server side script which would stream the pdf and set this header
p31437
as(dp31438
g16
V29407
p31439
stp31440
a((dp31441
g2
(lp31442
VThis compile-time error means that the property you are trying to access is not  and the only way to access it is by either modifying its access modifier or using reflection
p31443
as(dp31444
g16
V29407
p31445
stp31446
a((dp31447
g2
(lp31448
VNo, because  is not an interoperable binding
p31449
aVOnly
p31450
aVNET clients can consume it
p31451
as(dp31452
g16
V29407
p31453
stp31454
a((dp31455
g2
(lp31456
VYou can't redirect to a view
p31457
aVYou could redirect to a controller action which in turn will render a view
p31458
aVYou could do it using javascript:
p31459
aVand once the DOM is loaded attach a click event:
p31460
aVIf you are talking about a submit button then you don't need javascript, simply set the  of the associated :
p31461
aVBut I think that in your situation the most semantically correct is to simply use an anchor tag which you could style with CSS to look as a button
p31462
as(dp31463
g16
V29407
p31464
stp31465
a((dp31466
g2
(lp31467
VSingleton means that a single instance will be created of a given class for the lifetime of the application/process
p31468
aVSo if 100 users access the same bean, all of them will get the same instance
p31469
as(dp31470
g16
V29407
p31471
stp31472
a((dp31473
g2
(lp31474
VIf you want to get the values back into the action you are posting to you need to send them along the request
p31475
aVUsing hidden fields is one way of doing it
p31476
aVAnother way is to only send an identifier which will allow you to fetch those values from a repository in the controller action you are posting to, the same way you are doing it in the controller action which renders the form
p31477
aVIf you are worried about users tampering with hidden fields you could serialize and encrypt entire objects using the Html
p31478
aVSerialize
p31479
aVUPDATE:
p31480
aVHere's an example to expand on my second proposition which was to use an id:
p31481
aVand in your controller action:
p31482
as(dp31483
g16
V29407
p31484
stp31485
a((dp31486
g2
(lp31487
VJust use HTTPS to encrypt the channel
p31488
aVThat way you don't have to worry about sniffers
p31489
as(dp31490
g16
V29407
p31491
stp31492
a((dp31493
g2
(lp31494
VThe question shouldn't be do in-memory objects limited to user/session scope need to be thread-safe but do I have multiple threads reading and writing to the same shared memory instance (no matter where it comes from)
p31495
aVSo if you never manually run some threads to do processing on this  you don't need to synchronize it
p31496
as(dp31497
g16
V29407
p31498
stp31499
a((dp31500
g2
(lp31501
VInstead of using the ViewDataDictionary can't you simply add the required values to the model:
p31502
aVand then simply:
p31503
aVOther than that there's nothing wrong with your syntax
p31504
aVThe error you are getting is from somewhere else:
p31505
aVUPDATE:
p31506
aVNow that you've shown your code, let me suggest you a cleaner approach using editor templates
p31507
aVStart by defining a model:
p31508
aVThen a controller which will fill this model:
p31509
aVThen the view ():
p31510
aVand finally the editor template ():
p31511
aVAs you can see, using editor templates you no longer have to worry about naming the inputs, maintaining and incrementing indexes, writing loops, all those error prone things are handled by the framework automagically
p31512
as(dp31513
g16
V29407
p31514
stp31515
a((dp31516
g2
(lp31517
VIt's the TextBoxFor helper method that's responsible for generating the input field from the lambda expression
p31518
as(dp31519
g16
V29407
p31520
stp31521
a((dp31522
g2
(lp31523
VADO
p31524
aVNET is a component of the
p31525
aVNET framework that allows you to access different data sources
p31526
aVA stored procedure is different: it is a function that allows you to query a relational database and which runs inside the database
p31527
aVSo you could use ADO
p31528
aVNET to call a stored procedure
p31529
aVTake for example the following:
p31530
aVThe classes SqlConnection, SqlCommand that we use to call the stored procedure are part of ADO
p31531
aVNET
p31532
as(dp31533
g16
V29407
p31534
stp31535
a((dp31536
g2
(lp31537
VNo, No and No
p31538
aVThey are including it because its their library, but IMHO they will drop the support in future versions
p31539
as(dp31540
g16
V29407
p31541
stp31542
a((dp31543
g2
(lp31544
VYou may checkout jQuery DatePicker
p31545
aVIt can display multiple months and comes with different CSS themes which you could personalize
p31546
as(dp31547
g16
V29407
p31548
stp31549
a((dp31550
g2
(lp31551
VThe best way to understand is to measure
p31552
aVTry merging those 40 js files into a single one and see if it makes a big difference
p31553
aVAlso compressing them could reduce bandwidth costs
p31554
aVThere will be an overhead of having multiple includes but as you say those pages are cached and the overhead should be only on the first request
p31555
aVI think that if we ignore this initial overhead the performance difference won't be enormous compared to the time spent in those scripts manipulating the DOM, etc
p31556
as(dp31557
g16
V29407
p31558
stp31559
a((dp31560
g2
(lp31561
VjQuery dialog is quite good
p31562
as(dp31563
g16
V29407
p31564
stp31565
a((dp31566
g2
(lp31567
VBy writing a unit test for each which takes the same input and verify against the expected output
p31568
as(dp31569
g16
V29407
p31570
stp31571
a((dp31572
g2
(lp31573
VThere's no best one
p31574
aVThere are different plugins which might fit your needs (which you didn't expose)
p31575
aVTo name a few:
p31576
aVjQuery dialog
p31577
aVjQuery SimpleTip
p31578
aVjQuery qTip
p31579
aVPersonally I have used  for showing AJAX popups when hovering over certain regions
p31580
as(dp31581
g16
V29407
p31582
stp31583
a((dp31584
g2
(lp31585
VYou could try running in Full Trust mode
p31586
as(dp31587
g16
V29407
p31588
stp31589
a((dp31590
g2
(lp31591
VCan't you just use an Android emulator
p31592
as(dp31593
g16
V29407
p31594
stp31595
a((dp31596
g2
(lp31597
VCSV and JSON are different formats
p31598
aVJSON is hierarchical while CSV represents a list of values
p31599
aVSo I guess you will need to first parse the CSV (using a parser of course and not implementing yourself)
p31600
aVThis parser will give you an object which you could then serialize into JSON or probably convert into another object before serializing (once again using a parser) in order to get the desired format
p31601
as(dp31602
g16
V29407
p31603
stp31604
a((dp31605
g2
(lp31606
VYou could use WebClient for that matter:
p31607
as(dp31608
g16
V29407
p31609
stp31610
a((dp31611
g2
(lp31612
VThis article explains that there are situations that the compiler cannot infer and so it provides you with the explicit syntax:
p31613
aVWhat do you infer here  or , both work
p31614
as(dp31615
g16
V29407
p31616
stp31617
a((dp31618
g2
(lp31619
VSkip and Take:
p31620
as(dp31621
g16
V29407
p31622
stp31623
a((dp31624
g2
(lp31625
VLet me suggest you a slight simplification of your code:
p31626
aVAlso if you are doing this for fun and/or education purposes then it's ok, but in a real project you should probably consider WCF in order to transmit objects over the wire
p31627
as(dp31628
g16
V29407
p31629
stp31630
a((dp31631
g2
(lp31632
VYou may go through this tutorial for querying database from VB6
p31633
as(dp31634
g16
V29407
p31635
stp31636
a((dp31637
g2
(lp31638
VBase constructor is called first
p31639
aVThat's easy to verify:
p31640
as(dp31641
g16
V29407
p31642
stp31643
a((dp31644
g2
(lp31645
VYou could use the TryParseExact function:
p31646
as(dp31647
g16
V29407
p31648
stp31649
a((dp31650
g2
(lp31651
VBy using an SMS Gateway
p31652
aVPrices could vary between the different providers and the number of messages you would like to send
p31653
as(dp31654
g16
V29407
p31655
stp31656
a((dp31657
g2
(lp31658
VYou could use the Isolated Storage or ready to use implementations
p31659
as(dp31660
g16
V29407
p31661
stp31662
a((dp31663
g2
(lp31664
VI think you are missing the point of how the  helper is supposed to work
p31665
aVYou pass it an entire object graph which is serialized and stored in a hidden field that you could get back in a controller action using the  attribute
p31666
aVYou cannot have half of your object serialized and the other half not
p31667
aVUPDATE:
p31668
aVAfter seeing your comment here's a workaround:
p31669
aVModel:
p31670
aVController:
p31671
aVView:
p31672
aVNotice the  flag which is used if you want to achieve encryption, otherwise the user can tamper with the values
p31673
as(dp31674
g16
V29407
p31675
stp31676
a((dp31677
g2
(lp31678
VIn ASP
p31679
aVNET MVC it is not common to have user controls and access their properties
p31680
aVYou use the  for this
p31681
aVThere shouldn't even be a
p31682
aVSo make this  a propery of your model
p31683
as(dp31684
g16
V29407
p31685
stp31686
a((dp31687
g2
(lp31688
VYes they exist
p31689
aVYou can write unsafe code
p31690
as(dp31691
g16
V29407
p31692
stp31693
a((dp31694
g2
(lp31695
VTry using :
p31696
aVAnother alternative and probably better is to generate an entire HTML page and specify the UTF8 encoding which IMHO is better:
p31697
as(dp31698
g16
V29407
p31699
stp31700
a((dp31701
g2
(lp31702
VFirstly if I understand your scenario correctly you don't need a hash but you need an encryption of those keys
p31703
aVIf you hash them you will never be able to read the original values back and create the session cookie
p31704
aVYou are trying to implement a cross domain Single-Sign-On (if this is not your case and I misunderstood your scenario you could ignore the rest of my answer)
p31705
aVI would recommend you using the machine keys to encrypt/decrypt:
p31706
aVEncrypt:
p31707
aVNow send the encrypted string over the wire and on the other hand decrypt
p31708
aVIt is important to perform this over an encrypted channel using SSL to avoid a Man-In-The-Middle who can steal the encrypted value and try to brute force it:
p31709
aVFor this to work it is necessary to have the same machine keys on both the encrypting and the decrypting side
p31710
aVUPDATE:
p31711
aVHere are the steps:
p31712
aVThe user is authenticated on System A (Domain 1)
p31713
aVSystem A decides to include in an iframe System B (Domain 2) where the user is not authenticated
p31714
aVSystem A generates an encrypted string containing user information using machine keys
p31715
aVSystem A sends to System B (via the src property of the iframe) this encrypted value
p31716
aVSystem B reads and decrypts the encrypted value containing the user information
p31717
aVSystem B issues an authentication cookie to indicate that the user is now authenticated on Domain 2
p31718
aVSystem B shows the authenticated content to the user
p31719
aVYou have achieved cross domain single sign on
p31720
aVOf course this technique is not limited to iframes
p31721
as(dp31722
g16
V29407
p31723
stp31724
a((dp31725
g2
(lp31726
VIt is the DefaultControllerFactory which is responsible for this
p31727
aVHere's how it works:
p31728
aVASP
p31729
aVNET MVC uses reflection to list all types that inherit from  in all assemblies and caches them
p31730
aVIf you really want to dig further look at the source code or use reflector and checkout this method on the  type:
p31731
aVWhen a request comes it uses the routing table to determine which is the current controller and tries to find it in the list of cached controller types
p31732
aVIf it finds one it calls the  method passing the given type so that the DI framework could provide the controller instance given its type
p31733
as(dp31734
g16
V29407
p31735
stp31736
a((dp31737
g2
(lp31738
VHere's what you could try:
p31739
aVStart by designing each page you would like to have with its input fields
p31740
aVThen you could define the ViewModels, the Controllers and the corresponding Views
p31741
aVIt might look something like this (oversimplified):
p31742
aVViewModels:
p31743
aVThen create a repository which will parse the XML (the implementation is left for brevity):
p31744
aVThen here's how a page controller might look like:
p31745
aVAnd the last part is the corresponding view:
p31746
aVAnd the  Editor Template which will render the navigation links:
p31747
as(dp31748
g16
V29407
p31749
stp31750
a((dp31751
g2
(lp31752
VIf you use a value type parameter you won't be able to change its value inside the method (you can but this won't reflect to the variable used to call the method), while with reference types you could change the value
p31753
as(dp31754
g16
V29407
p31755
stp31756
a((dp31757
g2
(lp31758
VDeclare a function which will be called when a key is pressed:
p31759
aVAnd the corresponding markup:
p31760
as(dp31761
g16
V29407
p31762
stp31763
a((dp31764
g2
(lp31765
VYou could activate tracing at the client side:
p31766
as(dp31767
g16
V29407
p31768
stp31769
a((dp31770
g2
(lp31771
VYou could use the autocomplete jquery plugin
p31772
aVAnd here's a tutorial on how to integrate with ASP
p31773
aVNET MVC
p31774
as(dp31775
g16
V29407
p31776
stp31777
a((dp31778
g2
(lp31779
s(dp31780
g16
V29407
p31781
stp31782
a((dp31783
g2
(lp31784
VIf there's a network error the  callback will be called and not the  even if it doesn't make much sense
p31785
aVCheckout this blog post for details
p31786
aVSo basically what you've done by checking  is correct
p31787
as(dp31788
g16
V29407
p31789
stp31790
a((dp31791
g2
(lp31792
VYou can't because that's how the  method is defined
p31793
aVIn your case you would be better off using the  extension method:
p31794
as(dp31795
g16
V29407
p31796
stp31797
a((dp31798
g2
(lp31799
VYou have one opening and two closing parenthesis on this line
p31800
aVShould be:
p31801
aVAlso to make your HTML a little more standards friendly:
p31802
as(dp31803
g16
V29407
p31804
stp31805
a((dp31806
g2
(lp31807
VReturn false if you want to prevent the default action:
p31808
aVor use preventDefault:
p31809
as(dp31810
g16
V29407
p31811
stp31812
a((dp31813
g2
(lp31814
VYou could try the  function:
p31815
as(dp31816
g16
V29407
p31817
stp31818
a((dp31819
g2
(lp31820
VThe assembly that will consume this class needs to be signed with a public key
p31821
aVAs you are talking about ASPX/ASCX I am afraid that the assembly is autogenerated and not signed especially if you are using a web site vs web application project
p31822
aVBut the question here is why on earth would you need to do something like this
p31823
aVAlso you talk about a controller so I assume ASP
p31824
aVNET MVC and if this is the case a View in ASP
p31825
aVNET MVC works only with a ViewModel which is specific to this view
p31826
aVIt doesn't ever need to access something else and if it needed there are helpers, etc
p31827
aV, you get the point
p31828
as(dp31829
g16
V29407
p31830
stp31831
a((dp31832
g2
(lp31833
VMake sure you have used the proper namespaces and the  assembly is referenced in your project:
p31834
aVFormsAuthentication - defined in  namespace in the  assembly
p31835
aVMembership - defined in  namespace in the  assembly
p31836
as(dp31837
g16
V29407
p31838
stp31839
a((dp31840
g2
(lp31841
VIf you don't insist on using AJAX you could simply set the  property of your dropdown to true and handle the changed event in the code behind
p31842
as(dp31843
g16
V29407
p31844
stp31845
a((dp31846
g2
(lp31847
s(dp31848
g16
V29407
p31849
stp31850
a((dp31851
g2
(lp31852
VHandles are pointers to unmanaged resources like file handles, database connection handles, windows handles, etc
p31853
aVAs they are handles to unmanaged resources in most cases they won't be automatically garbage collected and you need to ensure to properly release them or you might hear about leaking handles
p31854
as(dp31855
g16
V29407
p31856
stp31857
a((dp31858
g2
(lp31859
VYou have two choices:
p31860
aVRecommend your clients install
p31861
aVNET 3
p31862
aV5 SP1 (nobody installs
p31863
aVNET 2
p31864
aV0 anymore)
p31865
aVTarget
p31866
aVNET 4
p31867
aV0 and ask your clients to install
p31868
aVNET 4
p31869
aV0 (this might not be accepted very well especially if your clients are some large corporations where company policy doesn't allow it)
p31870
as(dp31871
g16
V29407
p31872
stp31873
a((dp31874
g2
(lp31875
VIf your web service method returns :
p31876
aVthen the following will throw a NullReferenceException:
p31877
aVbecause the  variable won't be assigned
p31878
aVIn order to avoid this verify if the variable has been assigned before accessing its properties (or in your case public fields):
p31879
as(dp31880
g16
V29407
p31881
stp31882
a((dp31883
g2
(lp31884
VYou could implement outerHTML with jQuery
p31885
as(dp31886
g16
V29407
p31887
stp31888
a((dp31889
g2
(lp31890
VYou could use the MaxValue constant:
p31891
as(dp31892
g16
V29407
p31893
stp31894
a((dp31895
g2
(lp31896
VYou could easily achieve this by writing a custom authorize attribute:
p31897
aVAnd then decorate the controller action with this custom attribute:
p31898
aVAnd somewhere on your Logon View:
p31899
as(dp31900
g16
V29407
p31901
stp31902
a((dp31903
g2
(lp31904
VMake sure that when you call this function the DOM has been loaded:
p31905
aVor:
p31906
as(dp31907
g16
V29407
p31908
stp31909
a((dp31910
g2
(lp31911
VThis doesn't even compile unless you disable checking:
p31912
as(dp31913
g16
V29407
p31914
stp31915
a((dp31916
g2
(lp31917
VYes, you will have to traverse the whole expression tree which if you want to work in the general case might be challenging
p31918
aVCan't you just do this instead:
p31919
aVWhere  is defined like this:
p31920
aVOr without the generic parameter if this will work only with
p31921
as(dp31922
g16
V29407
p31923
stp31924
a((dp31925
g2
(lp31926
VTo achieve this task I've used xhtmlrenderer together with ikvmc (to compile to a
p31927
aVNET assembly)
p31928
aVI've used the following commands to compile the JAR file:
p31929
aVYou will also need to put all the IKVM assemblies that the resulting file will have dependency on into your project
p31930
aVAs an alternative you could take a look at Aspose
p31931
aVPdf which is a good commercial component
p31932
as(dp31933
g16
V29407
p31934
stp31935
a((dp31936
g2
(lp31937
VTry this:
p31938
as(dp31939
g16
V29407
p31940
stp31941
a((dp31942
g2
(lp31943
VMVCContrib's Pager doesn't support this
p31944
aVYou could take a look at this blog post for a sample implementation
p31945
as(dp31946
g16
V29407
p31947
stp31948
a((dp31949
g2
(lp31950
VI would recommend you reading this article containing sample code that you could easily adapt to your scenario and compare with your code to understand the multiple issues with it
p31951
as(dp31952
g16
V29407
p31953
stp31954
a((dp31955
g2
(lp31956
VWhile I have no idea why your code doesn't compile (it looks right) instead of using a  I would strongly recommend you using a view model (probably even the compiler chokes on the ugliness :-)):
p31957
aVHaving:
p31958
aVis far more readable than:
p31959
as(dp31960
g16
V29407
p31961
stp31962
a((dp31963
g2
(lp31964
VValidation attributes that work with multiple properties should be applied to the model and not on individual properties:
p31965
as(dp31966
g16
V29407
p31967
stp31968
a((dp31969
g2
(lp31970
VI would recommend you to keep your repositories separate from the model
p31971
aVThis way all you pass to the view is the model
p31972
aVNeither the View nor the ViewModel should need any repository
p31973
aVThe way it works is the controller uses a repository to fetch the model and pass this model to the view:
p31974
aVAnd the submit action:
p31975
as(dp31976
g16
V29407
p31977
stp31978
a((dp31979
g2
(lp31980
VUnfortunately the built-in  helper doesn't allow you to set the  attribute on the generated  tags
p31981
aVYou will have to roll your own helper to achieve this
p31982
aVAs an alternative you could use jQuery to set the color:
p31983
as(dp31984
g16
V29407
p31985
stp31986
a((dp31987
g2
(lp31988
VWhile autopinging your application is one way of keeping it alive you could also configure the application pool in IIS to not recycle:
p31989
aVJust uncheck the  checkbox
p31990
aVAlso on the  tab you will find other useful options
p31991
as(dp31992
g16
V29407
p31993
stp31994
a((dp31995
g2
(lp31996
VYou could pull this information from the routes:
p31997
aVAs far as the query string is concerned you could pull it from the Request:
p31998
aVUPDATE:
p31999
aVIf the url is coming from a DB:
p32000
as(dp32001
g16
V29407
p32002
stp32003
a((dp32004
g2
(lp32005
VI would suggest you using a strongly typed views (no need of  and magic strings)
p32006
aVAs always start by defining your view model class:
p32007
aVThen your controller:
p32008
aVAnd finally your strongly typed view:
p32009
aVNow when you call  you get no country selected, but when you pass the  to this action like  you get the country with this id selected
p32010
aVRemark: If you are using ASP
p32011
aVNET MVC 1
p32012
aV0 you won't have the strongly typed DropDownListFor helper and you could use this instead:
p32013
as(dp32014
g16
V29407
p32015
stp32016
a((dp32017
g2
(lp32018
VOn the first line of your view make sure it is strongly typed:
p32019
aVinstead of:
p32020
aVSame stands true for strongly typed partials (ascx)
p32021
as(dp32022
g16
V29407
p32023
stp32024
a((dp32025
g2
(lp32026
VYou could use an extension method:
p32027
aVAnd then you could use like this:
p32028
as(dp32029
g16
V29407
p32030
stp32031
a((dp32032
g2
(lp32033
VAs the error message explicitly tells you the  cannot serialize interfaces
p32034
aVYou probably had:
p32035
aVwhich you changed to:
p32036
aVwhich no longer works
p32037
as(dp32038
g16
V29407
p32039
stp32040
a((dp32041
g2
(lp32042
VAs the exception message suggest you, use the proper contract type:
p32043
as(dp32044
g16
V29407
p32045
stp32046
a((dp32047
g2
(lp32048
VThere's no automatic way because a JSON object contains only data while in HTML there's markup semantics (there's no 1:1 mapping between JSON and HTML)
p32049
as(dp32050
g16
V29407
p32051
stp32052
a((dp32053
g2
(lp32054
VIf you want to be able to set the value only in the constructor I would recommend you the readonly keyword:
p32055
as(dp32056
g16
V29407
p32057
stp32058
a((dp32059
g2
(lp32060
VYou could design your application to use plugins
p32061
aVThis way you only have to update a plugin and not the whole application
p32062
as(dp32063
g16
V29407
p32064
stp32065
a((dp32066
g2
(lp32067
VYou could a helper method that will pull the current user culture from wherever you've stored it (presumably the user session, cookie,
p32068
aVAnd use this helper in your view:
p32069
as(dp32070
g16
V29407
p32071
stp32072
a((dp32073
g2
(lp32074
s(dp32075
g16
V29407
p32076
stp32077
a((dp32078
g2
(lp32079
VYes of course there is, simply copy the files at the target folder but bare in mind that this application won't work if you don't install the framework
p32080
as(dp32081
g16
V29407
p32082
stp32083
a((dp32084
g2
(lp32085
VBy redirecting it and reading the stream
p32086
as(dp32087
g16
V29407
p32088
stp32089
a((dp32090
g2
(lp32091
VThe javascript code on this page is obfuscated and that't probably why you can't find it
p32092
aVTo achieve this you could use the  function:
p32093
as(dp32094
g16
V29407
p32095
stp32096
a((dp32097
g2
(lp32098
VYou could try redirecting the output of this process and then printing it on the calling process console:
p32099
aVAlternative approach using the  event and a wait handle:
p32100
as(dp32101
g16
V29407
p32102
stp32103
a((dp32104
g2
(lp32105
s(dp32106
g16
V29407
p32107
stp32108
a((dp32109
g2
(lp32110
VYou are probably not running it from the correct folder
p32111
aVYou have:
p32112
aVfor ASP
p32113
aVNET 2
p32114
aV0 and:
p32115
aVfor ASP
p32116
aVNET 4
p32117
ag2721
as(dp32118
g16
V29407
p32119
stp32120
a((dp32121
g2
(lp32122
VIf the iframe is on a different domain than the hosting site you are out of luck
p32123
aVIf not and you don't have control over it, you are out of luck
p32124
aVElse you could modify the iframe page to listen for the  event and invoke a parent javascript function:
p32125
as(dp32126
g16
V29407
p32127
stp32128
a((dp32129
g2
(lp32130
s(dp32131
g16
V29407
p32132
stp32133
a((dp32134
g2
(lp32135
Vwhere the anchor is defined like so:
p32136
aVYou may see this in action here
p32137
as(dp32138
g16
V29407
p32139
stp32140
a((dp32141
g2
(lp32142
VBecause that's the default content type
p32143
aVYou could specify a different type
p32144
aVAlso make sure you have a valid JSON object (which is not your case, use  instead of  for properties) or the server side script might choke:
p32145
as(dp32146
g16
V29407
p32147
stp32148
a((dp32149
g2
(lp32150
VIt depends on who is calling this method and whether this parameter is supplied in the POST request
p32151
aVFor example if the user tries to access a controller action decorated with the  attribute and he is not authenticated the framework will automatically redirect to the  action (the one that renders the form, not the one with ) and supply the  parameter
p32152
aVThen you could have a hidden field in the logon form to persist its value so that when the user enters his credentials and submits the form to the  action, in case of successful login, he is redirected to the initially requested page
p32153
as(dp32154
g16
V29407
p32155
stp32156
a((dp32157
g2
(lp32158
VObviously you cannot read POST data using javascript because data is POSTed in the body of the HTTP request and only a server side script is capable of reading it
p32159
aVAs far as GET data is concerned you could use this function to parse the query string of the current page:
p32160
aVand use like this:
p32161
as(dp32162
g16
V29407
p32163
stp32164
a((dp32165
g2
(lp32166
VHtml helper will always use the value in the GET or POST request before the value in your model or ViewData
p32167
aVThis means that if you post  to a controller action and inside this action you try to modify its value to 10, when you return the View, the Html
p32168
aVHidden helper will use the POSTed value and not the one in your Model
p32169
aVThe only workaround is a custom HTML helper or simply:
p32170
as(dp32171
g16
V29407
p32172
stp32173
a((dp32174
g2
(lp32175
VYou could use this common property of a GCD:
p32176
aVAssuming you have  already defined it is easy to generalize:
p32177
as(dp32178
g16
V29407
p32179
stp32180
a((dp32181
g2
(lp32182
VLooks like a hexadecimal representation of a RGB
p32183
aVFor example with :
p32184
as(dp32185
g16
V29407
p32186
stp32187
a((dp32188
g2
(lp32189
VYou could spawn a new thread and send the mails in this thread:
p32190
aVIf the user closes the browser this thread will continue running until it completes or the AppDomain shuts down
p32191
aVThe action will return a view immediately and it won't block
p32192
aVAlso it could be a good idea to set some flag into the database that an operation of sending emails is running so that if the administrator clicks twice on the button your users don't get hammered with lots of mails
p32193
aVIf you want more robust solution you could take a look at MSMQ
p32194
aVAnd here's a tutorial that should get you started quickly
p32195
as(dp32196
g16
V29407
p32197
stp32198
a((dp32199
g2
(lp32200
Vor simply give those elements a common class and use a class selector
p32201
as(dp32202
g16
V29407
p32203
stp32204
a((dp32205
g2
(lp32206
VThis might happen because they are strings
p32207
aVTry parsing them:
p32208
aVIf those numbers are decimal you will need the  method instead
p32209
as(dp32210
g16
V29407
p32211
stp32212
a((dp32213
g2
(lp32214
VBasically everything that the serializer used in the binding could handle
p32215
aVAlso note that since
p32216
aVNET 3
p32217
aV5 SP1  and  are no longer necessary, WCF will serialize all public properties, but it is a good practice to put them
p32218
as(dp32219
g16
V29407
p32220
stp32221
a((dp32222
g2
(lp32223
VI would recommend you using ViewModels and passing only view models to the views
p32224
aVThis way you don't have to worry about disposing
p32225
aVAlso abstract and separate your data access into a repository:
p32226
aVNow the disposal of the repository is a concern of its creator which if you follow good practices is a Dependency Injection framework
p32227
aVIn order to instantiate your controller you need an instance of a repository to be passed into the constructor and most good DI frameworks will automatically dispose objects that implement
p32228
as(dp32229
g16
V29407
p32230
stp32231
a((dp32232
g2
(lp32233
VASP
p32234
aVNET doesn't support action overloading with the same HTTP verb
p32235
as(dp32236
g16
V29407
p32237
stp32238
a((dp32239
g2
(lp32240
VYou can't do this at the client side because this redirection is done on the server side, so unless you send an HTTP request to this url you cannot do it:
p32241
as(dp32242
g16
V29407
p32243
stp32244
a((dp32245
g2
(lp32246
VThis could be achieved easily with the jQuery color plugin:
p32247
aVSee it in action here
p32248
as(dp32249
g16
V29407
p32250
stp32251
a((dp32252
g2
(lp32253
VThe curly braces here indicate the construction of a new object
p32254
aVThus your code is equivalent to:
p32255
aVwhich works whereas if you write:
p32256
aVit no longer works
p32257
as(dp32258
g16
V29407
p32259
stp32260
a((dp32261
g2
(lp32262
VAssuming you have this at the beginning:
p32263
aVwhen you call:
p32264
aVyou will get:
p32265
aVwhile:
p32266
aVdoes:
p32267
aVso, yes there's a difference
p32268
as(dp32269
g16
V29407
p32270
stp32271
a((dp32272
g2
(lp32273
VExternal js files are usually loaded with the  tag:
p32274
as(dp32275
g16
V29407
p32276
stp32277
a((dp32278
g2
(lp32279
VIf the Silverlight application is served from a site on a different domain than the one that hosts the WCF service (if the port number changes, this is considered cross domain) you need to place a clientaccesspolicy
p32280
aVxml at the root of the site hosting the WCF service, so that the Silverlight application can access it by:
p32281
aVand then it will invoke the service:
p32282
as(dp32283
g16
V29407
p32284
stp32285
a((dp32286
g2
(lp32287
VIt is done using Flash which assumes that the client browser has Flash installed and enabled
p32288
aVThe standard HTML  allows only a single file
p32289
aVYou may find the SWFUpload flash component useful
p32290
as(dp32291
g16
V29407
p32292
stp32293
a((dp32294
g2
(lp32295
VIcons are stored as an embedded resource in the corresponding
p32296
aVNET assembly hosting the control
p32297
aVSo there's no link that you can use
p32298
aVYou will need to extract it from the assembly
p32299
aVFor example to extract the icon for a button from the System
p32300
aVWindows
p32301
aVForms assembly you could use this:
p32302
as(dp32303
g16
V29407
p32304
stp32305
a((dp32306
g2
(lp32307
VAutomatic creation of databases from code is a feature of the SQL Express Edition
p32308
aVTry modifying your connection string after having manually created the  database:
p32309
as(dp32310
g16
V29407
p32311
stp32312
a((dp32313
g2
(lp32314
VThis is an indexer property
p32315
aVIt's like a normal property but it allows you to use the  syntax on it:
p32316
as(dp32317
g16
V29407
p32318
stp32319
a((dp32320
g2
(lp32321
VWell you are requesting  and there's nothing that would relate this url to the  action
p32322
aVIf you are using the default routes your request should look like this:
p32323
aVOf course this assumes that you have a route capable of handling this URL:
p32324
aVIf you want to have an url like  you will need to set a special route for it:
p32325
aVRemark: As a side note I would recommend you abstracting your data access into a repository instead of directly accessing it in your controllers
p32326
aVThis will make your code much easier to unit test
p32327
as(dp32328
g16
V29407
p32329
stp32330
a((dp32331
g2
(lp32332
VOne simple way would be to use a shared web service (WCF) that will perform the data access so that each application wouldn't bother with it
p32333
as(dp32334
g16
V29407
p32335
stp32336
a((dp32337
g2
(lp32338
VI have a class library that contains a
p32339
aVvalid connectionString inside the
p32340
aVapp
p32341
aVconfig
p32342
aVA class library doesn't have an app
p32343
aVconfig file associated
p32344
aVIt's the application consuming this assembly that does
p32345
aVSo you need to put the connection string inside this config file (if this is an ASP
p32346
aVNET application this would be )
p32347
aVThus adding an  file in a project of type class library in Visual Studio makes no sense
p32348
as(dp32349
g16
V29407
p32350
stp32351
a((dp32352
g2
(lp32353
VUsing HTML Agility Pack is a good way, maybe not the best as this would be subjective but I can tell you the worst and this is using regular expression to parse html (as you've tagged your question with  I feel myself ion the obligation to point this out)
p32354
as(dp32355
g16
V29407
p32356
stp32357
a((dp32358
g2
(lp32359
VFirst you need to separate the route parameters with  or you will get a runtime error:
p32360
aVThen when you are generating the two links you are specifying the same parameters:  and  and as you haven't specified any action part in your routes there's no way to disambiguate between those two
p32361
aVThe routing engine cannot know which action to call and so it simply picks the first route in the route definition (that's why the order is important)
p32362
aVIf you specify different parameters then it will work:
p32363
as(dp32364
g16
V29407
p32365
stp32366
a((dp32367
g2
(lp32368
V is executed on the server side and it will send a 302 status code to the browser which will automatically redirect
p32369
aVYou probably want:
p32370
as(dp32371
g16
V29407
p32372
stp32373
a((dp32374
g2
(lp32375
V will get the text inside the current DOM element and it will use this text to  find the corresponding value in the array (for example )
p32376
as(dp32377
g16
V29407
p32378
stp32379
a((dp32380
g2
(lp32381
s(dp32382
g16
V29407
p32383
stp32384
a((dp32385
g2
(lp32386
s(dp32387
g16
V29407
p32388
stp32389
a((dp32390
g2
(lp32391
VWhile your view can definitely be improved to avoid all this spaghetti code (using editor/display templates and HTML helpers and avoid hard-coding an alphabet in a view :-)), the action method seems fine to me
p32392
aVUsing  to determine whether the action has been requested with AJAX and return a partial view or if not redirect is perfectly fine
p32393
aVWhat could be considered as a hack is the usage of  instead of using a query string because if the user presses F5 on the redirected page he will loose the context, but if this is the behavior you expect then it's ok
p32394
aVWhile I am not familiar with the context I would be interested in the arguments that the guys at your office used to support their reaction of this being a hack
p32395
as(dp32396
g16
V29407
p32397
stp32398
a((dp32399
g2
(lp32400
VMath
p32401
aVpow:
p32402
as(dp32403
g16
V29407
p32404
stp32405
a((dp32406
g2
(lp32407
VOnce you enable compression, session data will be GZip compressed when you use a state server or SQL server but will cost additional CPU cycles on your web server to perform the compression/decompression
p32408
aVThis will result in smaller data being transmitted over the wire which will improve performance
p32409
aVNotice that while this reduces the actual session data it is still considered as bad practice to store big amounts of data into the session
p32410
as(dp32411
g16
V29407
p32412
stp32413
a((dp32414
g2
(lp32415
VTo put this simply there are features of the
p32416
aVNET framework that won't work in Medium Trust such as P/Invoke, no access to the Windows Registry and the Windows Event Log
p32417
aVAnd also you can access files only in the current directory
p32418
aVYou can read more about ASP
p32419
aVNET Code Access Security on MSDN
p32420
aVHere's a nice table from the article:
p32421
as(dp32422
g16
V29407
p32423
stp32424
a((dp32425
g2
(lp32426
VThat's probably because as the documentation clearly states it
p32427
aVThe WebBrowser class can only be used
p32428
aVin threads set to single thread
p32429
aVapartment (STA) mode
p32430
aVTo use this
p32431
aVclass, ensure that your Main method is
p32432
aVmarked with the STAThreadAttribute
p32433
aVattribute
p32434
aVwhile a web service runs in a multi thread apartment mode (MTA)
p32435
aVThis same article shows a hack that could be used to run your web service in an STA mode but the performance of doing so might decrease
p32436
aVClearly a  control is not meant to be used in a web service but in a client application with a GUI
p32437
aVSo usually when you are trying to use something into a scenario that this something is not meant for, there's a price to pay
p32438
as(dp32439
g16
V29407
p32440
stp32441
a((dp32442
g2
(lp32443
VThe only way to achieve this is to use the same assembly containing this class on the client instead of generating a proxy
p32444
aVSo put this class into a separate assembly that you will share between the client and the server
p32445
aVObviously if your client is not
p32446
aVNET this won't be possible
p32447
aVTo reuse types from a given assembly you could use the  switch when generating your proxy class instead of importing them from the WSDL of the web service and thus losing the  (which by the way should start with a capital letter in order to follow good coding practices):
p32448
aVor if you are using the  dialog in Visual Studio:
p32449
as(dp32450
g16
V29407
p32451
stp32452
a((dp32453
g2
(lp32454
VYes, you could take a look at this article or one of those (strangely enough the second on in this list leads to an answer on this very same site :-))
p32455
aVDon't hesitate to ask if you have specific problems implementing one of those solutions
p32456
as(dp32457
g16
V29407
p32458
stp32459
a((dp32460
g2
(lp32461
VYou should modify GUI components like textboxes and labels only from the thread that created them which is the main thread
p32462
aVYou may take a look at BackgroundWorker which simplifies this task in WinForms application
p32463
aVAnd here's another useful article illustrating the usage of the InvokeRequired property and the Invoke method
p32464
as(dp32465
g16
V29407
p32466
stp32467
a((dp32468
g2
(lp32469
VYou have a couple of options here:
p32470
aVUse a class selector
p32471
aVFor the  you could try this:
p32472
aVor simply override the id:
p32473
as(dp32474
g16
V29407
p32475
stp32476
a((dp32477
g2
(lp32478
VThe best way to handle this is to write an HTML helper
p32479
aVYou could use   to get the currently executing action and compare to the menu name and if they match apply a CSS class that will highlight it
p32480
aVAnd then use this helper to render the menu items:
p32481
as(dp32482
g16
V29407
p32483
stp32484
a((dp32485
g2
(lp32486
VAutoStart is a feature of the web server and not the application and works only with IIS 7
p32487
aV5 (Windows 7 and Windows Server 2008 R2)
p32488
aVAnother possibility is to setup a startup script that will send an HTTP request to the application in order to start it
p32489
as(dp32490
g16
V29407
p32491
stp32492
a((dp32493
g2
(lp32494
VYou could achieve this by combining the  and  functions
p32495
aVNotice that the timeout value is calculated on the server
p32496
as(dp32497
g16
V29407
p32498
stp32499
a((dp32500
g2
(lp32501
s(dp32502
g16
V29407
p32503
stp32504
a((dp32505
g2
(lp32506
VLooking at the exception stack trace it seems that the  throws an exception which is not handled and it propagates to the calling thread (this behavior was introduced in
p32507
aVNET 2
p32508
aV0 as before exceptions thrown in child threads weren't propagated)
p32509
aVTry putting a  around it in order to handle this exception
p32510
as(dp32511
g16
V29407
p32512
stp32513
a((dp32514
g2
(lp32515
VYou cannot change a method body at runtime
p32516
aVThere's nothing that allows you to do this
p32517
aVThe best you could do is emit a new method
p32518
as(dp32519
g16
V29407
p32520
stp32521
a((dp32522
g2
(lp32523
VThis will also ensure that in case of exception all disposable objects are disposed and will properly return the  to the connection pool in order to be reused
p32524
aVAnd finally assign the  property of the label:
p32525
as(dp32526
g16
V29407
p32527
stp32528
a((dp32529
g2
(lp32530
s(dp32531
g16
V29407
p32532
stp32533
a((dp32534
g2
(lp32535
VFinalize: undeterministic nondeterministic destructor/finalizer called automatically by the Garbage Collector when there are no more references to this instance
p32536
aVDispose: deterministically called by the developer on an object implementing IDisposable to free resources
p32537
as(dp32538
g16
V29407
p32539
stp32540
a((dp32541
g2
(lp32542
Vwhere you have the following textboxes:
p32543
as(dp32544
g16
V29407
p32545
stp32546
a((dp32547
g2
(lp32548
VTry setting the  parameter starting from jQuery 1
p32549
ag392
aVThis works for me:
p32550
aVWith this action:
p32551
as(dp32552
g16
V29407
p32553
stp32554
a((dp32555
g2
(lp32556
VI think the second approach is better
p32557
aVHaving the blobs stored in a separate table with foreign key relation would perform better
p32558
aVThere's also a third option: store the image on the hard drive and store the path to the image in the user table
p32559
as(dp32560
g16
V29407
p32561
stp32562
a((dp32563
g2
(lp32564
VSimply assign the Click handler:
p32565
as(dp32566
g16
V29407
p32567
stp32568
a((dp32569
g2
(lp32570
VTry encoding  and  as UTF-8 with BOM
p32571
as(dp32572
g16
V29407
p32573
stp32574
a((dp32575
g2
(lp32576
s(dp32577
g16
V29407
p32578
stp32579
a((dp32580
g2
(lp32581
VYou probably could have been a little more specific about the it just blows up part but here's an example that works fine for me:
p32582
aVModel:
p32583
aVController:
p32584
aVView:
p32585
aVReturned JSON:
p32586
as(dp32587
g16
V29407
p32588
stp32589
a((dp32590
g2
(lp32591
VYou could do this to disable the first button for example:
p32592
as(dp32593
g16
V29407
p32594
stp32595
a((dp32596
g2
(lp32597
VDon't call a virtual method in a constructor
p32598
aVSee Eric Lippert's posts about it (part 1 and part 2)
p32599
as(dp32600
g16
V29407
p32601
stp32602
a((dp32603
g2
(lp32604
VFor virtual functions resolution is done at runtime
p32605
aVWhen you have an instance of an object the resolution of which method to call is known only when the program is running because only at runtime you know the exact type of this instance
p32606
aVFor non-virtual functions this resolution can be done at compile time because it is known that only this method can be called and there cannot be child classes overriding it
p32607
aVAlso that's why virtual method calls are a bit slower (absolutely negligibly but slower than non-virtual method calls)
p32608
aVThis article explains the concept in more details
p32609
as(dp32610
g16
V29407
p32611
stp32612
a((dp32613
g2
(lp32614
VThis limitation applies to not only to client templates but simply to all Ajax applications
p32615
aVFor resources that need to be optimized for searching, the information must be available from a simple GET request
p32616
aVCurrently there's no easy way to make Ajax Client Templates SEO friendly
p32617
aVSo if SEO is an important constraint to you, probably you need to look at some other technology
p32618
as(dp32619
g16
V29407
p32620
stp32621
a((dp32622
g2
(lp32623
VYou are talking about  in your question but this is nowhere to be seen in the markup you provided
p32624
aVThere are a couple of issues that I can see with your code:
p32625
aVYour action method doesn't return an
p32626
aVYeah I know, you will say that this is possible, right, but that's against any good practices, conventions and rendering your controllers unit-test friendly
p32627
aVYou are using Microsoft Ajax which will mix markup and javascript which IMHO is bad for multiple reasons: increasing bandwidth which of course leads to decreased performance, incapacity to externalize javascript into separate files in order to cache them by client browsers, having to write things like , , , , etc
p32628
aVwhich is not guaranteed to work cross browser
p32629
aVHere's what I would suggest you to improve this
p32630
aVWhile this doesn't answer your question, take it as an alternative approach
p32631
aVAs always the first thing to deal with is to define a model which in your case might look something like this:
p32632
aVOf course you might wish to add other fields such as , but this is out of scope for the moment
p32633
aVThe next step is to write a controller dealing with this model (in parallel you should be already setting a unit-test for the future controller to prepare the ground):
p32634
aVThe last part is to paint the screen:
p32635
aVAnd the last part is to unobtrusively attach our javascript (using jQuery of course) in the  file:
p32636
as(dp32637
g16
V29407
p32638
stp32639
a((dp32640
g2
(lp32641
VNo it is not safe, casting is never safe and it may blow anytime while your application is running
p32642
aVWhile  derives indeed from  you are not guaranteed that  will return a  as this could be parametrized in the configuration file
p32643
aVAlso why do you need to cast to
p32644
aVIt is always better to work with classes that are higher in the hierarchy to avoid coupling your code with a specific implementation which will make your code impossible to test in isolation
p32645
aVWhile the EnterpriseLibrary does a decently good job in keeping things abstract you are killing everything with this cast
p32646
aVAlso you should make sure that disposable resources are always disposed properly
p32647
aVHow about this instead:
p32648
aVThis way your code is less fragile to database changes in the config file
p32649
aVWell of course you still have this SQL hardcoded and there are ORMs that will take care of this situation
p32650
aVThey will also allow you to focus on the real domain of your application instead of wasting time in writing SQL queries and casting from one database provider to another
p32651
aVBut for a simple application this is OK
p32652
as(dp32653
g16
V29407
p32654
stp32655
a((dp32656
g2
(lp32657
VI believe
p32658
aVnet will search for the
p32659
aVassemblies in the application bin
p32660
aVdirectory like so: \u005cbin\u005cconflict
p32661
aVdll
p32662
aV(6
p32663
aV2) \u005cbin\u005c5
p32664
aV8\u005cconflict
p32665
aVdll (5
p32666
aV8)
p32667
aVNo, this is wrong
p32668
aVI would suggest you reading this article to learn more about what heuristics does the CLR use for probing
p32669
aVThis being said, you cannot have two different versions of the same assembly loaded in the same application domain you can load different versions of the same assembly into the same application domain but it is considered bad practice and should be avoided
p32670
aVIn your case this means that you will have to choose which version of the conflicting assembly you want to use
p32671
aVYou have a couple of choices:
p32672
aVRecompile  to use the latest version of  (I will definetely go with this one if Ihave the source code for )
p32673
aVChoose which version of  you want and apply a  in your config file
p32674
aVFor example if you want to use the latest version:
p32675
aVThis will effectively instruct the CLR to load version 6
p32676
aV2 of  when it tries to resolve references for
p32677
aVNote that if the two versions are strongly signed with different keys this technique won't work
p32678
aVObviously as  has been compiled against version 5
p32679
aV8 if you have any differences (missing methods, different method signatures) you will get a runtime exception when trying to call a conflicting method so do this only if you are absolutely sure what you are doing
p32680
aVConclusion: no matter which path you decide to take, you will have to  in the bin folder a single version of the
p32681
as(dp32682
g16
V29407
p32683
stp32684
a((dp32685
g2
(lp32686
VYou will need to compile it first using :
p32687
aVAnd then run:
p32688
as(dp32689
g16
V29407
p32690
stp32691
a((dp32692
g2
(lp32693
VThis is not dynamic typing
p32694
aVThe var declares a static type known at compile time and it will be absolutely equivalent to declaring the type name
p32695
aVThe compiler will infer the type and replace it in the resulting assembly
p32696
as(dp32697
g16
V29407
p32698
stp32699
a((dp32700
g2
(lp32701
VDoes the server need to be running
p32702
aVwindows
p32703
aVNo
p32704
aVDoes the server need to have the
p32705
aVNet
p32706
aVframework installed on it
p32707
aV(is this
p32708
aVpossible with non-windows servers
p32709
aVNot necessary, you could use Mono
p32710
aVDoes the server need to have IIS
p32711
aVinstalled on it
p32712
aV(is this possible
p32713
aVwith non-windows servers
p32714
aVNo, works with Apache too
p32715
aVSo basically if you want to run a
p32716
aVNET application on non Windows server you will have to use , but as @Oded pointed out in the comments section there are porting caveats - you need to make sure that you are not using windows specific tech (such as WMI and GDI+) and that your code is portable (no hard coded path separators, use of  instead of hard coded line terminators), no P/Invoke and COM interop, the same restrictions apply of course to any third party assemblies you might be using, etc
p32717
as(dp32718
g16
V29407
p32719
stp32720
a((dp32721
g2
(lp32722
VIt looks like the mapping of the  property is incorrect
p32723
aVAre you using a correct table name
p32724
aVFrom the exception it seems that there's no such table
p32725
as(dp32726
g16
V29407
p32727
stp32728
a((dp32729
g2
(lp32730
VThis has worked for me:
p32731
as(dp32732
g16
V29407
p32733
stp32734
a((dp32735
g2
(lp32736
VTo send a value from javascript to the server you have a couple of options:
p32737
aVUse AJAX if you want to stay on the current page
p32738
aVRedirect to a server side script and pass the value in the querystring
p32739
aVLet's consider the first case:
p32740
aVAssuming you have a web method capable of receiving the value on the server:
p32741
as(dp32742
g16
V29407
p32743
stp32744
a((dp32745
g2
(lp32746
VController action:
p32747
aVJavascript:
p32748
as(dp32749
g16
V29407
p32750
stp32751
a((dp32752
g2
(lp32753
VThere are two types of projects: Web Site and Web Application
p32754
aVA web site will be automatically compiled at runtime by the ASP
p32755
aVNET engine, meaning that you can deploy the source code in the  folder and it will compile
p32756
aVOn the other hand a web application needs to be compiled and the resulting assembly containing all the code will should be placed into the  folder
p32757
aVThis is the default model used by ASP
p32758
aVNET MVC
p32759
aVSo the only way to achieve what you are looking for is to convert your web application into a web site which I would strongly recommend you against
p32760
as(dp32761
g16
V29407
p32762
stp32763
a((dp32764
g2
(lp32765
s(dp32766
g16
V29407
p32767
stp32768
a((dp32769
g2
(lp32770
VYou could use Prototype
p32771
aVVersion
p32772
as(dp32773
g16
V29407
p32774
stp32775
a((dp32776
g2
(lp32777
VYour interface declaration should look like this:
p32778
aVAccess modifiers are not valid on interface declarations:
p32779
aVInterfaces consist of methods,
p32780
aVproperties, events, indexers, or any
p32781
aVcombination of those four member
p32782
aVtypes
p32783
aVAn interface cannot contain
p32784
aVconstants, fields, operators, instance
p32785
aVconstructors, destructors, or types
p32786
aVIt cannot contain static members
p32787
aVInterfaces members are automatically
p32788
aVpublic, and they cannot include any
p32789
aVaccess modifiers
p32790
as(dp32791
g16
V29407
p32792
stp32793
a((dp32794
g2
(lp32795
VSession and Cache are different concepts
p32796
aVIf you want to share the object between all users of your site you should use Cache while Session is for storing user specific data
p32797
aVSo your question should not be:
p32798
aVIs there any reason to use
p32799
aVMicrosoft
p32800
aVPractices
p32801
aVEnterpriseLibrary
p32802
aVCaching
p32803
aVover standard ASP
p32804
aVNET Session
p32805
aVbut:
p32806
aVIs there any reason to use
p32807
aVMicrosoft
p32808
aVPractices
p32809
aVEnterpriseLibrary
p32810
aVCaching
p32811
aVover standard ASP
p32812
aVNET Cache
p32813
aVand the answer to this question as always is: it depends on your scenario
p32814
aVThis article provides an overview of where can the Caching Application Block be used and what issues does it try to resolve
p32815
as(dp32816
g16
V29407
p32817
stp32818
a((dp32819
g2
(lp32820
VYou may take a look at the documentation about how you could implement a dialog that contains form fields
p32821
aVAnd when the  button is clicked you could simply send an AJAX request
p32822
aVAnd your controller action:
p32823
as(dp32824
g16
V29407
p32825
stp32826
a((dp32827
g2
(lp32828
VYou probably want to use the  function which will give you the currently selected item value in the drop down list:
p32829
aVAnd to get the text and not the value:
p32830
aVis more commonly used in the context of an event handler like click, change, etc
p32831
as(dp32832
g16
V29407
p32833
stp32834
a((dp32835
g2
(lp32836
VThese constraints prevent it from matching what you want:
p32837
aVAs both parameters are required
p32838
aVModify your regular expression to accept empty values if you want this route to be able to be matched by
p32839
aVAlso remember that only the last parameter can be optional (you cannot have two successive optional parameters as this makes no sense)
p32840
as(dp32841
g16
V29407
p32842
stp32843
a((dp32844
g2
(lp32845
VYes, append works nice:
p32846
as(dp32847
g16
V29407
p32848
stp32849
a((dp32850
g2
(lp32851
VI would recommend you using the  attribute to control which actions/controllers require authentication instead of using
p32852
aVThis way your authorization rules are less vulnerable to errors if you decide to modify your routes
p32853
as(dp32854
g16
V29407
p32855
stp32856
a((dp32857
g2
(lp32858
VA couple of things to check:
p32859
aVIn  you've set UTF-8:
p32860
aVYou've a proper meta tag in your HTML page:
p32861
aVAll your , , , ,
p32862
aVfiles are saved as UTF-8 with BOM on the hard drive
p32863
aVYou are properly URL encoding parameters before sending them (using the encodeURIComponent method):
p32864
as(dp32865
g16
V29407
p32866
stp32867
a((dp32868
g2
(lp32869
VThere's no clear rule of how to create and organize your view models correctly
p32870
aVYour question is too vague to be answered because you provided too little context
p32871
aVI usually group view models according to functional blocks/parts of the screen they represent
p32872
aVSo for example imagine that you have a complex form composed of multiple sections/fieldsets like contact details, delivery address, billing information, etc
p32873
aVAn address could be composed of street, zip, city and country dropdown
p32874
aVI would create an address view model containing those four properties so that it can be reused in multiple views/partial views
p32875
aVThis will also make validation easier as dependent properties will be packed into the same view model like validate for example that the given zip corresponds to the city and that the city belongs to the selected country
p32876
aVFor instance, I have an edit view with
p32877
aVsome text boxes and a dropdownlist
p32878
aVShould I separate the dropdown list
p32879
aVinto a new view model or shoud the
p32880
aVedit view have one viewmodel with a
p32881
aVlist for the dropdownlist
p32882
aVI would say no, if those fields are somehow functionally related
p32883
aVConclusion: you will have to find the right balance between having a view model per field on the screen and having a single view model per application
p32884
as(dp32885
g16
V29407
p32886
stp32887
a((dp32888
g2
(lp32889
VYou may find this blog post useful
p32890
aVAs you will see there are workarounds but use at your own risk
p32891
aVAdd this to your web
p32892
aVconfig if you are using
p32893
aVNET 4
p32894
aV0:
p32895
aVPersonally I would recommend you avoid using special characters in an url like this
p32896
aVYou could either transform them into some other character using a mapping function or use them only in a query string parameter:
p32897
as(dp32898
g16
V29407
p32899
stp32900
a((dp32901
g2
(lp32902
VPlace the cursor over  in Visual Studio
p32903
aVPress the F12 key
p32904
aVHere's where  comes from
p32905
aVIt comes from a developer in Redmond who decided to name it like this :-)
p32906
as(dp32907
g16
V29407
p32908
stp32909
a((dp32910
g2
(lp32911
VYou could use the setInterval function to continuously poll the server for updates
p32912
aVOnce a request fails you could enter a so called safe-mode by sending only  requests (and as suggested by @sje397 also increase the timeout interval) to reduce bandwidth and once it succeeds you enter again normal mode and continue with GET/POST
p32913
aVThere are also more exotic things like COMET and Web Sockets in HTML 5 that allow the server to push updates to the client
p32914
as(dp32915
g16
V29407
p32916
stp32917
a((dp32918
g2
(lp32919
VYou could use HTML directly if you don't like server controls:
p32920
as(dp32921
g16
V29407
p32922
stp32923
a((dp32924
g2
(lp32925
VVery little computers will have enough memory to hold such structure in-memory
p32926
as(dp32927
g16
V29407
p32928
stp32929
a((dp32930
g2
(lp32931
VThere could be different reasons for this happening
p32932
aVMaybe the target server is throttling the response because it believes the request comes from a bot
p32933
aVIn this case you might consider sending proper HTTP headers (if it works in your browser, try sending the same request headers)
p32934
aVAlso there could be a proxy in between that you need to configure and use
p32935
as(dp32936
g16
V29407
p32937
stp32938
a((dp32939
g2
(lp32940
VYou don't need to pass route data to a controller because the controller already has knowledge of it via the  property:
p32941
aVNow if you want to pass some simple arguments like current action that was used to render the view you could do this:
p32942
aVAnd in your controller:
p32943
as(dp32944
g16
V29407
p32945
stp32946
a((dp32947
g2
(lp32948
VYes, use a variable instead of hardcoding it
p32949
aVAlso if it is a list you could directly use the indexer property:
p32950
as(dp32951
g16
V29407
p32952
stp32953
a((dp32954
g2
(lp32955
VThis could be a bug in the Odbc MySql driver
p32956
aVTry using the ADO
p32957
aVNET driver
p32958
aVAlso I would advice you against handling the connections manually inside static properties
p32959
aVLeave this task to ADO
p32960
aVNET which will effectively handle a connection pool:
p32961
as(dp32962
g16
V29407
p32963
stp32964
a((dp32965
g2
(lp32966
VIMHO it makes sense to unit test only custom routes
p32967
aVTesting that query string parameters will be translated to controller action arguments is unnecessary and doesn't really bring any value to your application
p32968
aVThis work is done by the default model binder and is extensively unit tested by Microsoft (I hope)
p32969
aVThis being said  allows you to elegantly test custom routes
p32970
aVSuppose for example that you have implemented paging in your application and defined a custom route to have pretty urls for SEO:
p32971
aVand here's the associated controller:
p32972
aVThis route could be tested like this:
p32973
aVThis will effectively test that the default controller is , the default action is  and that both  and  parameters will be initialized to their respective values from the route
p32974
as(dp32975
g16
V29407
p32976
stp32977
a((dp32978
g2
(lp32979
VYou may checkout this project
p32980
aVSample usage:
p32981
aVThe only requirement is to decorate your object with  attribute
p32982
as(dp32983
g16
V29407
p32984
stp32985
a((dp32986
g2
(lp32987
VVisual Studio will use the configured tool to perform merging
p32988
aVHere's an useful post
p32989
as(dp32990
g16
V29407
p32991
stp32992
a((dp32993
g2
(lp32994
VInstead of relying on automappings:
p32995
aVTry this:
p32996
aVAlso you might need to make the  properties virtual
p32997
aVAnd here's a full working example using SQLite that I've put to illustrate sample configuration:
p32998
as(dp32999
g16
V29407
p33000
stp33001
a((dp33002
g2
(lp33003
VHere are the steps I performed and which allowed me to successfully debug a
p33004
aVNET assembly exposed as COM component:
p33005
aVStart by creating a class library containing a class that will be exposed as COM object:
p33006
aVSign the assembly with a strong key and register as COM object:
p33007
aVOnce the COM object is registered you may create a new console application in a new Visual Studio instance to test the COM object:
p33008
aVPlace a breakpoint on the  line and run the application
p33009
aVOnce the breakpoint is hit open the Modules Window (Ctrl+D M) and make sure that symbols are loaded for the COM assembly:
p33010
aVNow if if you press F11 you can step into the COM class to debug
p33011
aVRemark: You can also directly open the
p33012
aVcs file containing the  class and directly place a breakpoint there
p33013
aVOnce again the important thing is to have the symbols loaded for the assembly or when you place your breakpoint Visual Studio will tell you that this breakpoint won't be hit
p33014
as(dp33015
g16
V29407
p33016
stp33017
a((dp33018
g2
(lp33019
VThe following works fine for me with the Moq 4
p33020
aV0 Beta:
p33021
aVand the unit test:
p33022
aVNow if you change something into the argument of actual method call the test will no longer pass because the mocked method will return the expected result only if the argument is the same:
p33023
aVRemark: mocking methods that take lambda expressions is a new feature that was not available in previous versions where we need to use  and  parameter constraints
p33024
as(dp33025
g16
V29407
p33026
stp33027
a((dp33028
g2
(lp33029
VYou don't need to specify their values in the route if those parameters are passed in the query string:
p33030
aVand your action:
p33031
aVbut you probably don't need a specific route for this as the default route will handle it just fine:
p33032
as(dp33033
g16
V29407
p33034
stp33035
a((dp33036
g2
(lp33037
VYou could use the WinHttp
p33038
aVWinHttpRequest COM object
p33039
aVAnd here's a similar question which provides an example
p33040
as(dp33041
g16
V29407
p33042
stp33043
a((dp33044
g2
(lp33045
VYou could have the pets derive from a common base class:
p33046
aVAnd then have Cat and Dog derive from this base class:
p33047
aVAnd your Person class will have a property of type :
p33048
aVAnd when you have an instance of Person:
p33049
aVYou could also provide some common implementation for the  method in the base class to avoid having to override it in the derived classes:
p33050
aVNotice that  is still an abstract class to prevent it from being instantiated directly
p33051
as(dp33052
g16
V29407
p33053
stp33054
a((dp33055
g2
(lp33056
VThe concept of controls is more appropriate to classic ASP
p33057
aVNET WebForms applications
p33058
aVIn ASP
p33059
aVNET MVC action filters and helpers (using TagBuilder) are more commonly used for creating reusable parts
p33060
aVYou may take a look at MVCContrib for many examples of Paging, List, Grid and other components
p33061
as(dp33062
g16
V29407
p33063
stp33064
a((dp33065
g2
(lp33066
VYou can't
p33067
aVIn Java parameters are always passed by value
p33068
aVIf the parameter is a reference type, the reference is passed by value and you can modify it inside the method while with primitive types this is not possible
p33069
aVYou will need to create a wrapper type
p33070
as(dp33071
g16
V29407
p33072
stp33073
a((dp33074
g2
(lp33075
VBecause in
p33076
aVNET variable names cannot start with a number
p33077
aVNeither an id in HTML by the way
p33078
aVSo when Visual Studio tries to generate a
p33079
aVdesigner file from the aspx page it chokes because this is invalid:
p33080
aVit simply cannot compile
p33081
as(dp33082
g16
V29407
p33083
stp33084
a((dp33085
g2
(lp33086
VFrom with the assembly in which it is declared it is the same
p33087
as(dp33088
g16
V29407
p33089
stp33090
a((dp33091
g2
(lp33092
VYou could provide a link to this CHM file in your JSP page so that the user can download it:
p33093
as(dp33094
g16
V29407
p33095
stp33096
a((dp33097
g2
(lp33098
VInstead of passing ASP
p33099
aVNET server controls to your DAL classes pass only the values they need like for example the text that has been entered in a textbox:
p33100
as(dp33101
g16
V29407
p33102
stp33103
a((dp33104
g2
(lp33105
VIt is bad if the data comes from an user input as your site will be vulnerable to XSS
p33106
as(dp33107
g16
V29407
p33108
stp33109
a((dp33110
g2
(lp33111
VYou could use a nullable integer:
p33112
as(dp33113
g16
V29407
p33114
stp33115
a((dp33116
g2
(lp33117
VMarshalling between managed/unmanaged types has an additional overhead
p33118
aVDoesn't work in medium trust
p33119
aVNot quite intuitive and could lead to subtle bugs like leaking handles, corrupting memory,
p33120
aVIt could take some time before getting it right when looking at an exported C function
p33121
aVProblems when migrating from x86 to x64
p33122
aVWhen something goes wrong you can't simply step into the unmanaged code to debug and understand why you are getting exceptions
p33123
aVYou can't even open it in Reflector :-)
p33124
aVRestricts cross platform interoperability (ie: you can't run under Linux if you rely on a Windows-only library)
p33125
aVConclusion: use only if there's no managed alternative or in performance critical applications where only unmanaged libraries exist to provide the required speed
p33126
as(dp33127
g16
V29407
p33128
stp33129
a((dp33130
g2
(lp33131
VIn Visual Studio 2010 you could target any framework version from
p33132
aVNET 2
p33133
aV0 to
p33134
aVNET 4
p33135
aV0 using the new compiler
p33136
as(dp33137
g16
V29407
p33138
stp33139
a((dp33140
g2
(lp33141
VNo, there isn't as you don't have the Html helper needed to perform this insertion:
p33142
aVAlso your MVC partial is strongly typed (isn't it) and you won't have access to the model
p33143
aVAlso when you are migrating a legacy webforms application to ASP
p33144
aVNET MVC it should be the other way round
p33145
as(dp33146
g16
V29407
p33147
stp33148
a((dp33149
g2
(lp33150
VThis could happen if you replace the original form in the success callback with the partial view
p33151
aVSo when you remove some HTML elements (as in replace existing HTML with partial view from the server) all their events are gone as well
p33152
aVRe-adding the same HTML (from your point of view) is just some new HTML to the browser
p33153
aVIt doesn't make assumptions whether this new HTML is related to old code or not
p33154
aVThat's why you have to re-add all functionality and events if you want the new form to work as it did before
p33155
aVIf this is your case the form will no longer have the  Ajax action attached and therefore the second time it will perform a full post
p33156
aVFor this to work you need to reattach the submit event in the success function:
p33157
as(dp33158
g16
V29407
p33159
stp33160
a((dp33161
g2
(lp33162
VAs always start with a model:
p33163
aVThen a controller:
p33164
aVAnd finally the  view:
p33165
aVAnd the product editor template ():
p33166
as(dp33167
g16
V29407
p33168
stp33169
a((dp33170
g2
(lp33171
s(dp33172
g16
V29407
p33173
stp33174
a((dp33175
g2
(lp33176
VYes it is a good idea and relatively easy to implement
p33177
as(dp33178
g16
V29407
p33179
stp33180
a((dp33181
g2
(lp33182
VIf you are only reading from the session on a given page you could use the  directive:
p33183
aVto indicate the readonly nature and remove the exclusive write lock which will allow concurrent requests to this page from the same session
p33184
aVAs internally a ReaderWriter lock is used a reader lock will block a writer lock but a reader lock won't block reader lock
p33185
aVWriter lock will block all reader and writer lock
p33186
aVIf you need to both read and write from the same page to the session I think that what you've already found as information is more than sufficient
p33187
aVJust a remark about replacing the Session with Cache: while session is reliable, cache is not meaning that if you put something into the cache you are not guaranteed to retrieve it back
p33188
aVThe ASP
p33189
aVNET could decide to evict the cache under some circumstances like low memory pressure so you always need to check if an item exists in the cache before accessing it
p33190
as(dp33191
g16
V29407
p33192
stp33193
a((dp33194
g2
(lp33195
VYou can use memcached also
p33196
aVThere are also other alternatives
p33197
aVYou may also check Scott Gu's post about the new cache extensibility model introduced in ASP
p33198
aVNET 4
p33199
ag2721
as(dp33200
g16
V29407
p33201
stp33202
a((dp33203
g2
(lp33204
VNo, you can never rely that a variable of type double is exactly equal to something
p33205
aVNever write something like this
p33206
aVNever use the  operator to compare two double operands:
p33207
aVInstead you should define a desired precision and always work with this precision:
p33208
as(dp33209
g16
V29407
p33210
stp33211
a((dp33212
g2
(lp33213
VIf you don't want to use any javascript you could create a simple form containing the textbox and a submit image button:
p33214
aVor if your view is not strongly typed as it should be you could use the following helper to generate the textbox:
p33215
as(dp33216
g16
V29407
p33217
stp33218
a((dp33219
g2
(lp33220
VI don't know if it is normal that your database call takes 4-5s but what is not normal is showing a list of 1000 items on a single view without implementing paging
p33221
aVWhen you implement paging not only you will make your page smaller and easier to read from the users but will greatly improve performance as you will be fetching only what's needed
p33222
aVOf course in order for this to be effective the paging must be done on the SQL Server
p33223
as(dp33224
g16
V29407
p33225
stp33226
a((dp33227
g2
(lp33228
VYou could try the  function:
p33229
as(dp33230
g16
V29407
p33231
stp33232
a((dp33233
g2
(lp33234
VYou could customize the columns that are shown using the  method
p33235
aVYou need to have the information about which columns need to be shown in the view model so that you can at runtime select the columns to show:
p33236
as(dp33237
g16
V29407
p33238
stp33239
a((dp33240
g2
(lp33241
VWhy do you need a list
p33242
aVEverything is already stored in the flags:
p33243
aVThen assign roles:
p33244
aVAnd whenever you need to check if a given role has been you don't need to look in a list, but simply look in the roles enumeration:
p33245
as(dp33246
g16
V29407
p33247
stp33248
a((dp33249
g2
(lp33250
VIt is difficult to say where the problem is but I suspect the smoking gun is this axis web service not generating standard message
p33251
aVOne way to workaround this would be to parse the XML yourself:
p33252
as(dp33253
g16
V29407
p33254
stp33255
a((dp33256
g2
(lp33257
VIt doesn't work because an interface defines a contract and when you implement this contract method signatures must match exactly
p33258
aVA possible workaround is to use a generic interface:
p33259
as(dp33260
g16
V29407
p33261
stp33262
a((dp33263
g2
(lp33264
VYou could make  take a query parameter containing the search keywords and if this parameter is assigned a value show the results based on this value
p33265
aVThe results will be a simple include so that it could be reused for both the AJAX query and the normal query
p33266
as(dp33267
g16
V29407
p33268
stp33269
a((dp33270
g2
(lp33271
VYou don't need to post this list as you already have it stored into the database and you even have a repository to fetch it, haven't you
p33272
aVSo the only thing that needs to be posted is the user selection as this is the only thing you don't know
p33273
aVIn the POST action reconstruct the list in your view model using a repository, the same way you did in the GET action that rendered the form
p33274
aVIs there anyway to POST the additional
p33275
aVdata to the controller outside of
p33276
aVmodel's properties
p33277
aVSure, simply include them as input fields so that their values are sent along the POST and in your controller action:
p33278
aVBut I insist once again: you don't need this in your case
p33279
as(dp33280
g16
V29407
p33281
stp33282
a((dp33283
g2
(lp33284
VTry following Scott Gu's excellent blog post about Model Validation and you should get it working
p33285
as(dp33286
g16
V29407
p33287
stp33288
a((dp33289
g2
(lp33290
VYou could  the click event once clicked which will prevent it from executing multiple times:
p33291
aVOnce the animation completes you could rebind it if you need to be able to click again
p33292
as(dp33293
g16
V29407
p33294
stp33295
a((dp33296
g2
(lp33297
VTry using the  method to preserve tags:
p33298
aVAlso note that  will look for a tag called  which probably is not what you are looking for
p33299
aVYou probably need the  selector
p33300
as(dp33301
g16
V29407
p33302
stp33303
a((dp33304
g2
(lp33305
Vhttp://plugins
p33306
aVjquery
p33307
aVcom/project/timers
p33308
aVA download link is provided on its old homepage: http://jquery
p33309
aVoffput
p33310
aVca/timers/
p33311
as(dp33312
g16
V29407
p33313
stp33314
a((dp33315
g2
(lp33316
s(dp33317
g16
V29407
p33318
stp33319
a((dp33320
g2
(lp33321
VI would recommend you to perform the validation in the  action of the form instead of handling key presses in the inputs:
p33322
aVAnd in your  function:
p33323
as(dp33324
g16
V29407
p33325
stp33326
a((dp33327
g2
(lp33328
VI wrote a sample application you might take a look at
p33329
aVAnd an accompanying blog post
p33330
as(dp33331
g16
V29407
p33332
stp33333
a((dp33334
g2
(lp33335
VTry this:
p33336
aVAlso you may kindly explain to the supplier of this form that an  cannot start with a number so that they fix it
p33337
as(dp33338
g16
V29407
p33339
stp33340
a((dp33341
g2
(lp33342
VYou can quite easily select and customize the columns on the grid
p33343
as(dp33344
g16
V29407
p33345
stp33346
a((dp33347
g2
(lp33348
VIf you have a password strength policy, state this clearly on the form when the user chooses a new password and don't accept it if the password is not strong enough (option 1
p33349
as(dp33350
g16
V29407
p33351
stp33352
a((dp33353
g2
(lp33354
VYou could make this more generic by avoiding it casting to Address and using attribute properties and reflection
p33355
as(dp33356
g16
V29407
p33357
stp33358
a((dp33359
g2
(lp33360
VWhat is spring
p33361
aVSpring
p33362
aVNET is an object container and DI framework among others
p33363
aVIt is a port of the popular Java Spring framework to
p33364
aVNET
p33365
aVWhy is it being usd with Hibernate
p33366
aVBecause it brings AOP functionalities that simplify the session management
p33367
aVWhats its utility
p33368
aVIt avoids you writing some common recurring code but of course this will depend on what modules you use
p33369
as(dp33370
g16
V29407
p33371
stp33372
a((dp33373
g2
(lp33374
VI don't know why it doesn't work in your case but here's what works:
p33375
aVController:
p33376
aVURL:  invokes successfully the  action on  and passes  in the culture parameter
p33377
as(dp33378
g16
V29407
p33379
stp33380
a((dp33381
g2
(lp33382
VTry setting the  flag:
p33383
aVworks fine with:
p33384
as(dp33385
g16
V29407
p33386
stp33387
a((dp33388
g2
(lp33389
VSet static machineKeys instead of the auto generated
p33390
aVThis way the  will survive app pool recycling
p33391
as(dp33392
g16
V29407
p33393
stp33394
a((dp33395
g2
(lp33396
VNo, this is not possible using attributes because they are evaluated at compile time
p33397
aVThe only way to achieve this is to make your class implement IXmlSerializable and handle the serialization manually
p33398
as(dp33399
g16
V29407
p33400
stp33401
a((dp33402
g2
(lp33403
VYou probably need to point the qTip plugin to an url that will return an html fragment containing a link to the image and not directly to the image
p33404
aVThe fragment might look like this:
p33405
aVI don't think that qTip supports fetching images directly
p33406
aVThink of it: an AJAX request is sent and if the server returns a binary array representing the image using javascript this binary array cannot be shown (unless you use the data uri scheme which is not very common)
p33407
as(dp33408
g16
V29407
p33409
stp33410
a((dp33411
g2
(lp33412
VActually in
p33413
aVNET there are reference types and value types
p33414
aVValue types are  or  and reference types are
p33415
aVis an alias to System
p33416
aVInt32 which is a struct and so value type, while in your case  is class, so reference type
p33417
as(dp33418
g16
V29407
p33419
stp33420
a((dp33421
g2
(lp33422
VYou could save this choice in the user settings
p33423
as(dp33424
g16
V29407
p33425
stp33426
a((dp33427
g2
(lp33428
VTypemock Isolator for example uses the CLR profiler API to intercept
p33429
aVNET calls and change them during runtime:
p33430
aVQuote:
p33431
aVTypemock Isolator uses an
p33432
aVaspect-oriented programming design
p33433
aVthat creates a mock aspect
p33434
aVInternally, it uses the
p33435
aVNET Framework
p33436
aVprofiler API to monitor an
p33437
aVapplication's execution
p33438
aVWhen a method
p33439
aVis loaded by the CLR, Typemock
p33440
aVIsolator retrieves the IL and replaces
p33441
aVit with instrumented IL code
p33442
aVTypemock
p33443
aVIsolator does not change your original
p33444
aVIL code, it simply inserts new code
p33445
aVthat calls the Typemock Isolator
p33446
aVframework and returns mocked values
p33447
as(dp33448
g16
V29407
p33449
stp33450
a((dp33451
g2
(lp33452
VWell, all that this method does is multiple two double operands
p33453
aVThere's already an operator for this
p33454
aVCan't you simply do this:
p33455
as(dp33456
g16
V29407
p33457
stp33458
a((dp33459
g2
(lp33460
VHere's an article illustrating this
p33461
aVAnd there's another
p33462
aVAnd even more
p33463
as(dp33464
g16
V29407
p33465
stp33466
a((dp33467
g2
(lp33468
VThe default timeout will work for most scenarios
p33469
aVIf it doesn't in yours and you encounter problems you could modify it
p33470
aVLowering this timeout could be good in cases where you want to immediately throw an exception if there are problems connecting to avoid monopolizing worker threads
p33471
as(dp33472
g16
V29407
p33473
stp33474
a((dp33475
g2
(lp33476
VIn this case you could show the loading element immediately when the page is first requested along with the dashboards and hide it later when those dashboards are finished loading
p33477
aVThere's the endRequest event you could subscribe to
p33478
as(dp33479
g16
V29407
p33480
stp33481
a((dp33482
g2
(lp33483
VYou could place your View Models into this directory
p33484
as(dp33485
g16
V29407
p33486
stp33487
a((dp33488
g2
(lp33489
VYou could use the Content method of :
p33490
as(dp33491
g16
V29407
p33492
stp33493
a((dp33494
g2
(lp33495
VYou should use single quotes:
p33496
as(dp33497
g16
V29407
p33498
stp33499
a((dp33500
g2
(lp33501
s(dp33502
g16
V29407
p33503
stp33504
a((dp33505
g2
(lp33506
VThe question is: should I declare the ContentType (application/zip) also
p33507
aVYes
p33508
aVI want to call this HttpHandler from a jQuery ajax call
p33509
aVCalling a server side script that returns binary zip stream using AJAX makes little sense as you won't be able to manipulate the response
p33510
as(dp33511
g16
V29407
p33512
stp33513
a((dp33514
g2
(lp33515
s(dp33516
g16
V29407
p33517
stp33518
a((dp33519
g2
(lp33520
VYes, you may checkout this article illustrating how to render a view to a string
p33521
as(dp33522
g16
V29407
p33523
stp33524
a((dp33525
g2
(lp33526
VTry this:
p33527
as(dp33528
g16
V29407
p33529
stp33530
a((dp33531
g2
(lp33532
VWhen running in Release mode view locations are cached
p33533
as(dp33534
g16
V29407
p33535
stp33536
a((dp33537
g2
(lp33538
VSimply include two iframes:
p33539
aVWhere you replace  with the search string and the domains with your internal search engines
p33540
aVYou shouldn't expect neither  nor  indexing your intranet pages so you need your own indexing engine
p33541
as(dp33542
g16
V29407
p33543
stp33544
a((dp33545
g2
(lp33546
VYou could write a custom validator attribute deriving from ValidationAttribute
p33547
aVAnd decorate your model with this custom attribute:
p33548
as(dp33549
g16
V29407
p33550
stp33551
a((dp33552
g2
(lp33553
VThe distribution is uniform and it's easy to verify:
p33554
as(dp33555
g16
V29407
p33556
stp33557
a((dp33558
g2
(lp33559
VYes, and it's built into the BCL: JavaScriptSerializer
p33560
as(dp33561
g16
V29407
p33562
stp33563
a((dp33564
g2
(lp33565
VThe Presenter could use a Repository which will talk to the web service
p33566
aVWhen instantiating the presenter you would pass a real implementation of the repository which will talk to the web service
p33567
as(dp33568
g16
V29407
p33569
stp33570
a((dp33571
g2
(lp33572
Vwhat is the differnce Serializable objects vs non serialivable objects
p33573
aVA serializable object can be converted into some other representation such as text in order to be easily transmitted across process boundaries while a non-serializable object cannot
p33574
aVAnd what makes an object serialiable
p33575
aVIn
p33576
aVNET depending on the serializer you decide to use, the object needs to correspond to certain requirements
p33577
aVFor example if you use the BinaryFormatter your object needs to be decorated with the  attribute
p33578
aVAnd What does serializable objects have to do with xml
p33579
aVAn object could be serialized into XML
p33580
aVIn
p33581
aVNET this could be achieved for example with the XmlSerializer class but also with the DataContractSerializer
p33582
as(dp33583
g16
V29407
p33584
stp33585
a((dp33586
g2
(lp33587
VYou could use the File
p33588
aVWriteAllLines method:
p33589
aVAnd then call:
p33590
as(dp33591
g16
V29407
p33592
stp33593
a((dp33594
g2
(lp33595
VTry this instead (notice the  in the  attribute):
p33596
as(dp33597
g16
V29407
p33598
stp33599
a((dp33600
g2
(lp33601
VHere's a quick and dirty approach:
p33602
aVAnd in your unit test you could instantiate the action filter and replace the  public field with some mocked object:
p33603
aVOf course this approach is not as clean as the one suggested by @Ryan in the comments section but it could work in some situations
p33604
as(dp33605
g16
V29407
p33606
stp33607
a((dp33608
g2
(lp33609
VHere's an article illustrating how this could be achieved (it is for VS2005 but the same applies for VS2008)
p33610
as(dp33611
g16
V29407
p33612
stp33613
a((dp33614
g2
(lp33615
VYou may take a look at this article
p33616
as(dp33617
g16
V29407
p33618
stp33619
a((dp33620
g2
(lp33621
VYou need to eagerly fetch those objects at the moment you send the SQL query so that they are populated and accessible from the session on the next request
p33622
aVOnce the session that was used to retrieve the parent object is closed you cannot fetch them anymore
p33623
as(dp33624
g16
V29407
p33625
stp33626
a((dp33627
g2
(lp33628
VCouple of remarks about your code:
p33629
aVYou need to start a new thread to perform the lengthy operation and return immediately and not block the worker thread
p33630
aVYou are using the cache to track progress, which is not reliable
p33631
aVASP
p33632
aVNET can evict the cache under different circumstances like for example running low on memory, etc
p33633
aVHere's an example I've put:
p33634
aVAnd the client:
p33635
as(dp33636
g16
V29407
p33637
stp33638
a((dp33639
g2
(lp33640
VStandard ASP
p33641
aVNET WebForms uses server controls that generate the markup for you, so the level of customization is limited to what the controls you are using provide
p33642
aVThere are techniques that allow you to override what is rendered by the controls and thus customize the markup and also write your own controls but it requires some coding
p33643
aVIt is possible to achieve almost complete customization of the markup but it IMHO requires more efforts than a web developer should need to put into something like this
p33644
aVWhile it is definitely possible to have a SEO friendly, unit-testable, maintanable, standards compliant application using classic ASP
p33645
aVNET WebForms, the efforts it requires will be significant compared to ASP
p33646
aVNET MVC
p33647
aVBut if you don't care about those things you will be able to pretty quickly develop web applications
p33648
as(dp33649
g16
V29407
p33650
stp33651
a((dp33652
g2
(lp33653
VXcode 3
p33654
ag2925
aV3 is the latest release compatible with PowerPC
p33655
as(dp33656
g16
V29407
p33657
stp33658
a((dp33659
g2
(lp33660
VRIA Services are not tied to Entity Framework
p33661
aVYou could use just any data access technology you want and expose it as RIA service
p33662
aVAn advantage of RIA services over plain WCF is that it simplifies much of the necessary plumbing
p33663
as(dp33664
g16
V29407
p33665
stp33666
a((dp33667
g2
(lp33668
VAdditional POST data should be placed as another Content-Disposition
p33669
aVExample:
p33670
aVHere two variables are sent: the file to be uploaded and a input with name = "submit-name" and value
p33671
aVYou could have as many Content-Dispositions as variables you would like to POST
p33672
aVOf course much of the plumbing could be simplified if you used a js framework like jQuery
p33673
aVHere's an excellent plugin which should do the job
p33674
as(dp33675
g16
V29407
p33676
stp33677
a((dp33678
g2
(lp33679
VNo, there's isn't unless you have access to the source control repository where those files are stored or poorly configured web server
p33680
aVActually it is good practice to precompile your web applications and never deploy source code files so they shouldn't even exist on the web server
p33681
as(dp33682
g16
V29407
p33683
stp33684
a((dp33685
g2
(lp33686
s(dp33687
g16
V29407
p33688
stp33689
a((dp33690
g2
(lp33691
VActually there aren't so many new features in the language itself as you might think
p33692
aVPersonally I am keeping track of Scott Gu's blog
p33693
as(dp33694
g16
V29407
p33695
stp33696
a((dp33697
g2
(lp33698
VI would recommend you extracting this functionality into some utility class that you could reuse from both PageA and PageB:
p33699
aVAnd then in your page:
p33700
aVNow you could reuse the  class from another page
p33701
aVDepending on your requirements you could even further customize it by passing additional parameters to the function and the return type
p33702
as(dp33703
g16
V29407
p33704
stp33705
a((dp33706
g2
(lp33707
VHere's an example using the  class to create a database and SqlCeConnection to start querying this database
p33708
as(dp33709
g16
V29407
p33710
stp33711
a((dp33712
g2
(lp33713
VThe controller knows the action that is being invoked and by convention if you don't specify a view name it will look in  () for a corresponding view
p33714
aVIf it doesn't find it will show you a list of searched locations
p33715
aVHere are more details about how it works:
p33716
aVA request comes in
p33717
aVThe request is intercepted by the ASP
p33718
aVNET pipeline and the routing engine based on the configuration extracts the tokens
p33719
aVIf default routes are configured it extracts controller="ControllerName" and action="ActionName"
p33720
aVThe routing engine looks in the controller cache to see if a type corresponding to the name  exists
p33721
aVIf it does exist it is instantiated using a controller factory and the method called ActionName is invoked
p33722
aVIf the controller doesn't exist and the default controller factory is used reflection is used to find all types deriving from  in all referenced assemblies and those types are cached
p33723
aVThe action is executed and the view engine will look for a template stored using the conventions described previously
p33724
as(dp33725
g16
V29407
p33726
stp33727
a((dp33728
g2
(lp33729
VSHA1 could be used to calculate the checksum
p33730
aVThe result is a byte array which could be stored either as hex string or blob field in SQL but I think for practical reasons a string would be more convenient
p33731
as(dp33732
g16
V29407
p33733
stp33734
a((dp33735
g2
(lp33736
VI don't know why it doesn't work but if you are saying that static images from the site  hosting the handler work fine here's a slightly modified version you might try:
p33737
aVNo need to clear the response in a generic handler as there's nothing written yet
p33738
aVContent-Type is
p33739
aVNo need of intermediary memory stream, you could write directly to the response
p33740
aVMake sure to properly dispose the bitmap
p33741
as(dp33742
g16
V29407
p33743
stp33744
a((dp33745
g2
(lp33746
VVerify that the path property of the cookie is not set to certain page only:
p33747
aVThe path parameter is potentially the
p33748
aVmost useful of the 4 optional cookie
p33749
aVsettings
p33750
aVIt sets the URL path the
p33751
aVcookie is valid within
p33752
aVPages outside
p33753
aVof that path cannot read or use the
p33754
aVcookie
p33755
aVIf Path is not set explicitly,
p33756
aVthen it defaults to the URL path of the
p33757
aVdocument creating the cookie
p33758
as(dp33759
g16
V29407
p33760
stp33761
a((dp33762
g2
(lp33763
VDownload the source code for ASP
p33764
aVNET MVC 2
p33765
aV0 RTM from here
p33766
aVThen look at the  file
p33767
as(dp33768
g16
V29407
p33769
stp33770
a((dp33771
g2
(lp33772
VSuppose you have the following in the root web
p33773
aVconfig:
p33774
aVAnd in your sub web
p33775
aVconfig:
p33776
aVThere will be no problem to use the class in  pages in the sub-folder even if they derive from a master page in the root folder but you won't be able to use it in the master page
p33777
aVIn the root master page you will need to fully qualify the type:  or
p33778
as(dp33779
g16
V29407
p33780
stp33781
a((dp33782
g2
(lp33783
VI don't see where the problem is:
p33784
aVworks as expected
p33785
aVcontains 3 elements
p33786
as(dp33787
g16
V29407
p33788
stp33789
a((dp33790
g2
(lp33791
VThe whole point of the factory pattern is to return the proper implementation of a contract so that the consumer shouldn't worry about how to instantiate it but simply invoke its methods
p33792
aVYou could always test the actual type, cast to it and invoke the method but that's a very bad design and I wouldn't recommend it
p33793
aVThe consumer shouldn't know anything about the actual type
p33794
aVYou will need to rethink your design
p33795
as(dp33796
g16
V29407
p33797
stp33798
a((dp33799
g2
(lp33800
VProbably the easiest is to use mciSendString function:
p33801
aVAnother option is to use the DirectShowNet library (there's a sample called )
p33802
aVYou might also find this CodeProject article useful
p33803
as(dp33804
g16
V29407
p33805
stp33806
a((dp33807
g2
(lp33808
VYou may take a look at DotNetOpenAuth
p33809
aVIt is what StackOverflow uses to implement the OpenID authentication
p33810
as(dp33811
g16
V29407
p33812
stp33813
a((dp33814
g2
(lp33815
VWhile standard checkbox look could be personalized you might need to implement a custom checkbox to achieve the desired effect
p33816
as(dp33817
g16
V29407
p33818
stp33819
a((dp33820
g2
(lp33821
VPut  on new line or use  to separate the class name and  statement:
p33822
as(dp33823
g16
V29407
p33824
stp33825
a((dp33826
g2
(lp33827
VI would recommend you to never deploy any assemblies into the GAC on your development machine as well as your build server
p33828
aVUse a local copy for third party assemblies or project references while developing
p33829
aVThis way you know exactly what you are building against and another developer who decides to checkout the code from the repository on his machine will be able to get it running very quickly without the need to install things
p33830
aVAssemblies should be placed into the GAC as part of your deployment process only on the target machines
p33831
as(dp33832
g16
V29407
p33833
stp33834
a((dp33835
g2
(lp33836
VYou could use a response filter that you could attach during
p33837
aVAnd here's a nice video
p33838
as(dp33839
g16
V29407
p33840
stp33841
a((dp33842
g2
(lp33843
Vor:
p33844
as(dp33845
g16
V29407
p33846
stp33847
a((dp33848
g2
(lp33849
VI don't think that using Ruby to perform this would be possible
p33850
aVThe hardware manufacturer of the device provides drivers and some API allowing to work with
p33851
aVYou could use the provided API from Ruby
p33852
aVIf you are lucky you can even find a Ruby wrapper for this API if it is a common one
p33853
aVObviously another requirement is to have a Ruby virtual machine for the device
p33854
as(dp33855
g16
V29407
p33856
stp33857
a((dp33858
g2
(lp33859
VYour link appears broken (it's missing the closing tag ):
p33860
aVIt should be:
p33861
aVAlso  didn't work because there's no  attribute defined on the  and this li has no
p33862
aVselects a link which is inside an element with  (which is the  in your case)
p33863
aVshould also work
p33864
aVHere's a working example
p33865
as(dp33866
g16
V29407
p33867
stp33868
a((dp33869
g2
(lp33870
VNote that if there are two or more people with the same birthdate only one will be returned
p33871
as(dp33872
g16
V29407
p33873
stp33874
a((dp33875
g2
(lp33876
VThe behavior you are observing could happen if the server returns invalid XML that cannot be parsed
p33877
aVTry returning something that is guaranteed to be valid XML:
p33878
aVAlso you are setting the  to , while your data parameter is called  assuming XML
p33879
aVBy setting the  parameter to false you are indicating that the data should be posted as is and not automatically converted to  and still you indicate this content type in the request which seems contradictory
p33880
aVAlso if you expect XML from the server you could specify
p33881
aVSo your request might look like this:
p33882
as(dp33883
g16
V29407
p33884
stp33885
a((dp33886
g2
(lp33887
VYour question is extremely unclear
p33888
aVFrom what I understand you have a controller action returning a view that needs to incorporate some information on a part of the screen
p33889
aVThis information is accessible through another controller action returning a partial view
p33890
aVIf this is the case then the Html
p33891
aVRenderAction helper might be exactly what you are looking for
p33892
aVAnd in the Index view of the blog controller include the statistics:
p33893
aVThe same could be achieved including directly a partial view without the need of passing through a controller:
p33894
aVbut the advantage of the RenderAction is that if the statistics requires some specific repository it would be better to pass through a controller
p33895
as(dp33896
g16
V29407
p33897
stp33898
a((dp33899
g2
(lp33900
VThe reason you are getting an empty parameter in your controller action is because this plugin doesn't send a  request to the server
p33901
aVInstead it sends  content type request header and it writes the file contents directly to the request stream, appending a parameter  to the URL containing the file name
p33902
aVSo if you want to retrieve this on the controller you will need to directly read the stream:
p33903
aVIf you select multiple files the plugin simply sends multiple requests to the server so this will work
p33904
aVAlso if you want to handle files bigger than  you will have to read from the request stream in chunks and write directly to an output stream instead of loading the whole file into a memory buffer:
p33905
aVRemark: Remove the  function name from your
p33906
aVIt should be an anonymous function there
p33907
aVYou could even merge it with the  you already have to setup the modal dialog
p33908
as(dp33909
g16
V29407
p33910
stp33911
a((dp33912
g2
(lp33913
VFrom within my Site
p33914
aVmaster, I want to list all of these Action controller dynamically
p33915
aVViews are not supposed to pull data
p33916
aVThey are supposed to show data/model passed by a controller
p33917
aVSo inside your controller you could use reflection to list all the types deriving from Controller and pass them to the view for rendering
p33918
aVAnother possibility is to have an HTML helper that will do the job
p33919
as(dp33920
g16
V29407
p33921
stp33922
a((dp33923
g2
(lp33924
VYou could have a custom method that will fire threads and set culture automatically:
p33925
aVAnd when you need to start a new thread simply use this method:
p33926
as(dp33927
g16
V29407
p33928
stp33929
a((dp33930
g2
(lp33931
VThe way to stop a thread elegantly is to leave it finish by itself
p33932
aVSo inside the worker method you could have a boolean variable which will check whether we want to interrupt
p33933
aVBy default it will be set to  and when you set it to  from the main thread it will simply stop the scanning operation by breaking from the processing loop
p33934
as(dp33935
g16
V29407
p33936
stp33937
a((dp33938
g2
(lp33939
VYou could use a regular expression to filter non ASCII characters:
p33940
as(dp33941
g16
V29407
p33942
stp33943
a((dp33944
g2
(lp33945
VTry this:
p33946
as(dp33947
g16
V29407
p33948
stp33949
a((dp33950
g2
(lp33951
Vwhen does Thread A get destroyed
p33952
aVWhen  finishes
p33953
aVWill doSomeLenghtyOperation() be able to run into completion
p33954
aVYes, even if the main thread exists because it is not a background thread
p33955
aVIf you set the IsBackground property to  before starting the thread whenever the main thread exists, this thread will also be stopped
p33956
as(dp33957
g16
V29407
p33958
stp33959
a((dp33960
g2
(lp33961
VBy periodically pinging it with an HttpRequest
p33962
as(dp33963
g16
V29407
p33964
stp33965
a((dp33966
g2
(lp33967
VIt is possible but you have to remove the  attribute
p33968
aVThe it becomes a normal action that returns a partial view the you could invoke using AJAX:
p33969
as(dp33970
g16
V29407
p33971
stp33972
a((dp33973
g2
(lp33974
VAFAIK you cannot disable address bar and button in IE from when the application starts unless using some ActiveX, Flash,
p33975
aVOnly if your application opens new window popups you could hide them
p33976
as(dp33977
g16
V29407
p33978
stp33979
a((dp33980
g2
(lp33981
s(dp33982
g16
V29407
p33983
stp33984
a((dp33985
g2
(lp33986
VWe are using machine
p33987
aVconfig to avoid having differences in web
p33988
aVconfig between the environments
p33989
as(dp33990
g16
V29407
p33991
stp33992
a((dp33993
g2
(lp33994
VTo send the username/password using AJAX:
p33995
aVTo read them:
p33996
aVIs it secure
p33997
aVOnly if you are using HTTPS
p33998
aVI would recommend you sending sensitive information like this only with POST verb ()
p33999
as(dp34000
g16
V29407
p34001
stp34002
a((dp34003
g2
(lp34004
VI think that the easiest would be to build some bridge that will translate this JSON to something more interoperable
p34005
as(dp34006
g16
V29407
p34007
stp34008
a((dp34009
g2
(lp34010
VYou could use the WaitForExit method:
p34011
as(dp34012
g16
V29407
p34013
stp34014
a((dp34015
g2
(lp34016
VI would recommend you using editor templates instead of rendering partial views:
p34017
aVAnd then place your user control in  (the name and location are important, replace  with the name of your controller):
p34018
aVThis editor template will be automatically rendered for each element of the  collection property on your view model
p34019
aVIt will ensure that unique Ids are generated and the name of the input fields will be suitable for binding in the POST action
p34020
aVIt also makes your code more readable
p34021
as(dp34022
g16
V29407
p34023
stp34024
a((dp34025
g2
(lp34026
VThe call is asynchronous meaning that the  will return immediately and only inside the anonymous callback function you are able to access it
p34027
as(dp34028
g16
V29407
p34029
stp34030
a((dp34031
g2
(lp34032
VFirst of all you shouldn't be iterating in a view
p34033
aVIterating means loops, loops mean C#/VB
p34034
aVNET, C#/VB
p34035
aVNET in a view leads to spaghetti code
p34036
aVI would recommend you using Editor Templates
p34037
aVThis way you don't need to write loops in your views
p34038
aVAdd the following file in :
p34039
aVNotice that the partial is now strongly typed to  instead of
p34040
aVNow all that is left is to include this partial from the main view:
p34041
aVWhere  is a property of type  on your main view model
p34042
aVThis will automatically invoke the partial for each element of the collection so that you don't need to write ugly loops in your views
p34043
aVIt just works by convention: the partial needs to be called  as the type name of the list elements and located in  or  folder
p34044
aVEditor/Display templates will make your views much more elegant
p34045
aVRemark: In
p34046
aVNET the convention is property names to start with capital letter, so I would recommend you renaming the  property to
p34047
aVIt's just feels more natural to write and read:
p34048
as(dp34049
g16
V29407
p34050
stp34051
a((dp34052
g2
(lp34053
VThe HttpContext might not always be accessible in threads
p34054
aVYou will need to pass the required information to the thread:
p34055
aVor if you are using the ThreadPool (only for short running tasks):
p34056
as(dp34057
g16
V29407
p34058
stp34059
a((dp34060
g2
(lp34061
VThis will depend on what CLR is the executable that is loading the assemblies running
p34062
aVIf it runs on CLR 2
p34063
aV0 you won't be able to load a
p34064
aVNET 4
p34065
aV0 assembly
p34066
aVSo make sure that if you try to load a
p34067
aVNET 4
p34068
aV0 assembly you are running the application on CLR 4
p34069
ag2721
aVYou mention the installer application
p34070
aVThere's a possibility to set a launch condition requirement for
p34071
aVNET 4
p34072
aV0:
p34073
aVUPDATE:
p34074
aVYou could also force your executable to be loaded by the CLR 4
p34075
aV0 by putting this in the app
p34076
aVconfig file:
p34077
aVBecause the CLR 4
p34078
aV0 supports loading assemblies compiled against previous versions this will allow you to work around the problem without recompiling the executable against
p34079
aVNET 4
p34080
ag2721
as(dp34081
g16
V29407
p34082
stp34083
a((dp34084
g2
(lp34085
VYou could use the DataGridView control
p34086
as(dp34087
g16
V29407
p34088
stp34089
a((dp34090
g2
(lp34091
VThey are strongly tied to the view
p34092
aVFor example your Model might contain many properties but you only need to manipulate a subset of them on a given view
p34093
aVIn this case you would create a ViewModel to represent the properties you would like to work with on a given view
p34094
aVSo you could have multiple ViewModels for a given Model because this Model might have many  representations
p34095
aVA ViewModel might also contain formatted data which is more suitable to be shown on a view, while the Model contains raw data (for example DateTime formatting, currencies, etc
p34096
aVEverytime you write a single line of C#/VB
p34097
aVNET code in a view it means that this is a good candidate for a view model and/or html helper
p34098
as(dp34099
g16
V29407
p34100
stp34101
a((dp34102
g2
(lp34103
VYou can always cheat the designer with an atrocity similar to this:
p34104
aVbut hey, quite honestly hitting F5 in the browser will give you faster results than waiting for the designer to load (even if your application is hosted on the other end of the world)
p34105
as(dp34106
g16
V29407
p34107
stp34108
a((dp34109
g2
(lp34110
VThis would be an HTML helper:
p34111
aVWhich you call inside the view:
p34112
aVAs far as the implementation is concerned you may take a look at Eric Lippert's blog who recently wrote an article about dumping a recursive tree old school
p34113
aVAll you need is to  replace the ASCII symbols with appropriate html tags (, )
p34114
aVAlso using a TagBuilder would be a good idea instead of hardcoding html tags
p34115
as(dp34116
g16
V29407
p34117
stp34118
a((dp34119
g2
(lp34120
VYou could always pass a handler which does nothing:
p34121
aVBut I can hardly imagine any scenario in which this would be useful
p34122
as(dp34123
g16
V29407
p34124
stp34125
a((dp34126
g2
(lp34127
VThe UploadFile function is a good starting point:
p34128
as(dp34129
g16
V29407
p34130
stp34131
a((dp34132
g2
(lp34133
VWhat I see here is that you are using jQuery alongside with Microsoft AJAX
p34134
aVThose two have no reason to be mixed in the same project and if you already have jQuery the other is completely useless
p34135
aVSo instead of polluting your markup with javascript and wondering how to escape single and double quotes with slashes and get plenty of errors, do it unobtrusively (the jQuery way):
p34136
aVAnd in a separate js file:
p34137
as(dp34138
g16
V29407
p34139
stp34140
a((dp34141
g2
(lp34142
VIt will print
p34143
as(dp34144
g16
V29407
p34145
stp34146
a((dp34147
g2
(lp34148
s(dp34149
g16
V29407
p34150
stp34151
a((dp34152
g2
(lp34153
VWSDL is part of the SOAP specification
p34154
aVAs you don't expose as a SOAP binding there's no WSDL
p34155
aVYou could still use mexHttpBinding though
p34156
aVRead this post for more info
p34157
as(dp34158
g16
V29407
p34159
stp34160
a((dp34161
g2
(lp34162
VHere's the problem which occurs:
p34163
aVContains is an instance method:
p34164
aVor the other way around depending on what you are trying to do:
p34165
as(dp34166
g16
V29407
p34167
stp34168
a((dp34169
g2
(lp34170
VUse a , :
p34171
as(dp34172
g16
V29407
p34173
stp34174
a((dp34175
g2
(lp34176
VYou may try closing the current window and then opening a new:
p34177
aVNot guaranteed to be cross browser
p34178
aVIt appears to be working on IE
p34179
as(dp34180
g16
V29407
p34181
stp34182
a((dp34183
g2
(lp34184
VA finally block will always be executed and this will happen before returning from the method, so you can safely write code like this:
p34185
aVor if you are working with disposable resources:
p34186
as(dp34187
g16
V29407
p34188
stp34189
a((dp34190
g2
(lp34191
VYou could try catching a SQLException:
p34192
as(dp34193
g16
V29407
p34194
stp34195
a((dp34196
g2
(lp34197
VYou could take a look at jQuery Draggable
p34198
as(dp34199
g16
V29407
p34200
stp34201
a((dp34202
g2
(lp34203
VC++ is compiled directly to machine code
p34204
aVThere's no intermediary language as in
p34205
aVNET
p34206
aVThere are some C++ disassemblers you may take a look at
p34207
aVHex-Rays decompiler is particularly good
p34208
as(dp34209
g16
V29407
p34210
stp34211
a((dp34212
g2
(lp34213
VTry this:
p34214
aVAnd here's a demo
p34215
as(dp34216
g16
V29407
p34217
stp34218
a((dp34219
g2
(lp34220
VYou could use the  parameter:
p34221
as(dp34222
g16
V29407
p34223
stp34224
a((dp34225
g2
(lp34226
VIf you are using MSTest right click on the solution and
p34227
aVSelect  type
p34228
aVIn the newly created project reference the project containing the controllers and start adding unit tests
p34229
aVIf you are using some 3rd party unit testing framework such as NUnit you could add a project of type  and then add the unit tests to this class library
p34230
as(dp34231
g16
V29407
p34232
stp34233
a((dp34234
g2
(lp34235
VYou could use a class attribute to achieve this:
p34236
aVAnd you model:
p34237
aVOr even better: use FluentValidation which integrates nicely with ASP
p34238
aVNET MVC
p34239
as(dp34240
g16
V29407
p34241
stp34242
a((dp34243
g2
(lp34244
VOnce you get the user details you could emit an authentication cookie:
p34245
aVThis will append a cookie to the response so now the user will be authenticated and you can safely redirect to a controller action decorated with the  attribute
p34246
as(dp34247
g16
V29407
p34248
stp34249
a((dp34250
g2
(lp34251
VHow about adding it to a collection and binding this collection to the  property of the list control only once:
p34252
aVOf course if fetching 50k items is slow you might consider a BackgroundWorker to avoid freezing the UI (as a user I hate when my UI freezes)
p34253
as(dp34254
g16
V29407
p34255
stp34256
a((dp34257
g2
(lp34258
VThose are not unit tests
p34259
aVUnit test are for testing things in isolation
p34260
aVThings that interact directly with a database cannot be tested in isolation as they depend on this database
p34261
aVIf you want to test things in isolation you need to introduce levels of abstractions to avoid the strong coupling between your components
p34262
aVIn a unit-test a common technique is to replace some component with a mocked object
p34263
aVThis is possible only if you have abstracted your database access layer for example
p34264
aVNow back to the question
p34265
aVHow do you test your database access layer
p34266
aVThose are called integration tests
p34267
aVThere are many techniques for performing integration tests with a database
p34268
aVSome of them consist of having a test database which is recreated in the Setup method and dropped in the TearDown method, so that all the tests assume some valid state to work with
p34269
aVSo you might have some scripts that create and fill the database with test data and those scripts are called before running each test
p34270
aVYou could even wrap everything inside a database transaction which will be rolled back at the end
p34271
as(dp34272
g16
V29407
p34273
stp34274
a((dp34275
g2
(lp34276
VHowever i'd like to use the Url
p34277
aVGenerateUrl helper methods within my implementation of IAccountService
p34278
aVSimply pass this information as parameter
p34279
aVExample:
p34280
aVNow you no longer need UrlHelper inside your service classes
p34281
aVEverything that needs interacting with MVC infrastructure shouldn't be placed in your service classes
p34282
aVThey shouldn't depend on any Request, Response, Session,
p34283
aVIt's the controller's responsibility to work with those objects and glue them together with your service classes
p34284
as(dp34285
g16
V29407
p34286
stp34287
a((dp34288
g2
(lp34289
VThe while file needs to be sent to the server before the action method is invoked
p34290
aVQuote from the documentation:
p34291
aVFiles are uploaded in MIME
p34292
aVmultipart/form-data format
p34293
aVBy
p34294
aVdefault, all requests, including form
p34295
aVfields and uploaded files, larger than
p34296
aV256 KB are buffered to disk, rather
p34297
aVthan held in server memory
p34298
aVYou can specify the maximum allowable
p34299
aVrequest size by accessing the
p34300
aVMaxRequestLength property or by
p34301
aVsetting the maxRequestLength attribute
p34302
aVof the httpRuntime Element (ASP
p34303
aVNET
p34304
aVSettings Schema) element within the
p34305
aVMachine
p34306
aVconfig or Web
p34307
aVconfig file
p34308
aVThe
p34309
aVdefault is 4 MB
p34310
aVThe amount of data that is buffered in
p34311
aVserver memory for a request, which
p34312
aVincludes file uploads, can be
p34313
aVspecified by accessing the
p34314
aVRequestLengthDiskThreshold property or
p34315
aVby setting the
p34316
aVrequestLengthDiskThreshold attribute
p34317
aVof the httpRuntime Element (ASP
p34318
aVNET
p34319
aVSettings Schema) element within the
p34320
aVMachine
p34321
aVconfig or Web
p34322
aVconfig file
p34323
aVServer memory won't be consumed on the server but the file contents will be buffered to disk
p34324
aVOnce the client has sent the whole file the ASP
p34325
aVNET pipeline will invoke your controller action and you could read the request stream in chunks and save it to another file which will be the definitive location of the uploaded file
p34326
aVThe action cannot be invoked before the file has finished uploading as there might be some other fields in the  that come after the file and they won't be assigned in this case
p34327
as(dp34328
g16
V29407
p34329
stp34330
a((dp34331
g2
(lp34332
VI would recommend you externalizing common parts in reusable partials and in the main view depending on the user role enables/disables admin functionality
p34333
aVAlso it's not the view responsibility to test the user roles, this should be done by the controller and include this information into the view model (like a boolean property ) so that the view decides whether or not include partials
p34334
as(dp34335
g16
V29407
p34336
stp34337
a((dp34338
g2
(lp34339
s(dp34340
g16
V29407
p34341
stp34342
a((dp34343
g2
(lp34344
VHow about CSS:
p34345
aVRemark: This will still send the value to the server as typed by the user and not uppercased
p34346
as(dp34347
g16
V29407
p34348
stp34349
a((dp34350
g2
(lp34351
VYou need to make sure that a SQL query is always specified before sending the request to the database:
p34352
aVThe CommandText property must be initialized before executing the query
p34353
as(dp34354
g16
V29407
p34355
stp34356
a((dp34357
g2
(lp34358
VThis LINQ query is the business logic
p34359
aVThe problem is that in this example it is hardcoded in the controller thus making it tied to the database
p34360
aVYou could abstract it into an interface which will perform this query so that your controller is no longer dependent on a
p34361
aVThen you could have an implementation of this interface which will perform the actual data access:
p34362
aVThen the controller could use the business logic (In this case all it needs is to get questions filtered by some condition):
p34363
aVThen you could build a custom controller factory that will inject the proper implementation in the controller
p34364
as(dp34365
g16
V29407
p34366
stp34367
a((dp34368
g2
(lp34369
VYou could try the DownloadString method:
p34370
aVVB
p34371
aVNET equivalent:
p34372
as(dp34373
g16
V29407
p34374
stp34375
a((dp34376
g2
(lp34377
VYou could disable validation when typing but only before submitting the form:
p34378
as(dp34379
g16
V29407
p34380
stp34381
a((dp34382
g2
(lp34383
VExample:
p34384
as(dp34385
g16
V29407
p34386
stp34387
a((dp34388
g2
(lp34389
VTry this:
p34390
as(dp34391
g16
V29407
p34392
stp34393
a((dp34394
g2
(lp34395
VThere's nothing preventing you from having routes like  with HTTP methods GET/PUT/POST/DELETE in ASP
p34396
aVNET MVC
p34397
aVIt's not the default routes setup but you can do it
p34398
aVEDIT (MLaritz - Adding Darin's comment):
p34399
aVASP
p34400
aVNET MVC is a server side technology allowing you to expose RESTful urls
p34401
aVThe way they are consumed doesn't matter
p34402
aVYou asked about why ASP
p34403
aVNET MVC is considered RESTFul technology and the answer is because you can easily expose RESTFul urls for consumption, it's as simple as that
p34404
as(dp34405
g16
V29407
p34406
stp34407
a((dp34408
g2
(lp34409
VFrom within the masterpage:
p34410
aVFrom within the view:
p34411
as(dp34412
g16
V29407
p34413
stp34414
a((dp34415
g2
(lp34416
VOne way would be to call them:
p34417
aVAnd in your controller action:
p34418
aVThis way you don't have to worry about splitting
p34419
aVYou controller action will already receive an array
p34420
as(dp34421
g16
V29407
p34422
stp34423
a((dp34424
g2
(lp34425
VIn terms of performance unmanaged code is supposed to be faster than managed code, at least that's what the theory says (depending on the scenario this might or might not be the case, only profiling could show)
p34426
aVNow if you have many calls between those two worlds marshaling will occur which will slow down your code and probably render it less performant than a 100% managed solution
p34427
aVIf on the other hand you have let's say a single call to an unmanaged function that does the heavy lifting it will probably perform better
p34428
aVSo if you decide to go the interop path make sure you limit the number of calls to a minimum
p34429
as(dp34430
g16
V29407
p34431
stp34432
a((dp34433
g2
(lp34434
V represents the current class instance while  the parent
p34435
aVExample of usage:
p34436
as(dp34437
g16
V29407
p34438
stp34439
a((dp34440
g2
(lp34441
VIt uses a server control called  declared by the  TagPrefix in the @Register directive or in web
p34442
aVconfig
p34443
aVIt also initializes some of its properties
p34444
as(dp34445
g16
V29407
p34446
stp34447
a((dp34448
g2
(lp34449
VIt's an AJAX call
p34450
aVYou cannot write:
p34451
aVand expect to use the  variable immediately because the call is asynchronous (it returns immediately but the result is available only later after the server responds)
p34452
aVYou need to use the callback
p34453
aVHere's a full working example:
p34454
aVAlso notice that you should not use  manually
p34455
aVIt is used internally by
p34456
aVIn your  method you could also return complex objects
p34457
aVIf the method had for example two arguments you would pass them before the success and error callbacks:
p34458
as(dp34459
g16
V29407
p34460
stp34461
a((dp34462
g2
(lp34463
VA helper method looks like a good place:
p34464
aVAnd somewhere in your master page:
p34465
aVOr if you are always going to apply it to the  tag only it might be more appropriate to do this in order to reduce the tag soup:
p34466
aVand in your master page at the place of the  tag:
p34467
as(dp34468
g16
V29407
p34469
stp34470
a((dp34471
g2
(lp34472
VYes, it is OK, jQuery will queue and merge them into a single handler called when the DOM is ready
p34473
as(dp34474
g16
V29407
p34475
stp34476
a((dp34477
g2
(lp34478
VHow about finding if there are any empty elements in the form:
p34479
aVThe jQuery validation plugin is also worth checking out
p34480
as(dp34481
g16
V29407
p34482
stp34483
a((dp34484
g2
(lp34485
VTry this
p34486
aVIn app
p34487
aVconfig file:
p34488
aVAnd in your code:
p34489
as(dp34490
g16
V29407
p34491
stp34492
a((dp34493
g2
(lp34494
VAnd in your model:
p34495
aVThe drawback with EditorFor is that you cannot apply custom html attributes to the generated field
p34496
aVAs an alternative you could use the  helper:
p34497
as(dp34498
g16
V29407
p34499
stp34500
a((dp34501
g2
(lp34502
VIf you need to persist a few objects for the lifetime of an instance of your application I would recommend you using the built-in Cache object or Application
p34503
aVIf those objects need to be specific to each user then use the Session object
p34504
as(dp34505
g16
V29407
p34506
stp34507
a((dp34508
g2
(lp34509
VYou could use polling
p34510
aVFor example each client might be sending continuous AJAX requests to the server say each 30 seconds to see if new posts are available and if yes, show them:
p34511
aVOn the other hand when someone decides to write a new post you send an AJAX (or not AJAX) request to the server to store this post in the database
p34512
aVAnother less commonly used approach is the concept of Comet and the HTML 5 WebSockets implementation which allow the clients to be notified by the server of changes using push
p34513
as(dp34514
g16
V29407
p34515
stp34516
a((dp34517
g2
(lp34518
VThe Background worker draws threads from the thread pool as well as TPL
p34519
aVWhat might happen is that the background worker is started, it draws a thread from the pool and fires TPL threads and returns immediately the thread to the pool
p34520
aVBy the time TPL's first task is executed TPL draws a thread from the pool and it happens that it picks the same thread as the one once used by the background worker
p34521
aVOf course that's just a supposition which cannot be verified because you haven't shown your code
p34522
as(dp34523
g16
V29407
p34524
stp34525
a((dp34526
g2
(lp34527
VA lock is specific to the AppDomain, while Mutex to the Operating System allowing you to perform cross-process locking and synchronization
p34528
as(dp34529
g16
V29407
p34530
stp34531
a((dp34532
g2
(lp34533
V works with metadata, so if you want to add html attributes you could always do it
p34534
aVAnother option is to simply write a custom template and use :
p34535
as(dp34536
g16
V29407
p34537
stp34538
a((dp34539
g2
(lp34540
VYou may take a look at this thread
p34541
as(dp34542
g16
V29407
p34543
stp34544
a((dp34545
g2
(lp34546
VIt depends
p34547
aVIf you don't care about the result of the query forking a process which uses sqlcmd might be OK
p34548
aVIf on the other hand you need to control the results it would be better to use ADO
p34549
aVNET
p34550
aVTo avoid keeping the connection open for a long time make sure you disable ADO
p34551
aVNET connection pooling by adding  to your connection string:
p34552
as(dp34553
g16
V29407
p34554
stp34555
a((dp34556
g2
(lp34557
VCheckout this post
p34558
aVQuote:
p34559
aVThe two accounts are different things
p34560
aVThink of the website identity
p34561
aVrepresenting the user of the site
p34562
aVIf
p34563
aVyou create a new website this account
p34564
aVis the anonymous IIS account
p34565
aVIf you
p34566
aVdisable "Anonymous Authentication",
p34567
aVyour users will have to authenticate
p34568
aVagainst the website (in a
p34569
aVintranet/Windows domain site this
p34570
aVcould be implicite using the network
p34571
aVcredentials
p34572
aVThe application pool identity is the
p34573
aVWindows account needed for running
p34574
aVyour assemblies
p34575
aVNormally it is the
p34576
aV"Network Service" account which is a
p34577
aVleast privileged account with limited
p34578
aVuser rights and permissions
p34579
aVIt does
p34580
aVhave network credentials
p34581
aVThis means
p34582
aVthat you can use it to authenticate
p34583
aVagainst network resources in a domain
p34584
aVYou can also use it to access a SQL
p34585
aVServer database with integrated
p34586
aVsecurity
p34587
aVFor example, if your ASP
p34588
aVNET
p34589
aVapplication has to write to a folder,
p34590
aVyou have to grant the permission to
p34591
aVthe application pool account, not to
p34592
aVthe website account
p34593
aVFor more
p34594
aVinformation on application pool
p34595
aVidentities, read here
p34596
as(dp34597
g16
V29407
p34598
stp34599
a((dp34600
g2
(lp34601
VIf the site uses cookies to tack authenticated users you might try this:
p34602
as(dp34603
g16
V29407
p34604
stp34605
a((dp34606
g2
(lp34607
VYou may take a look at the FileSystemWatcher class which allows you to monitor and be notified of events happening on the file system like file being changed
p34608
as(dp34609
g16
V29407
p34610
stp34611
a((dp34612
g2
(lp34613
VHow to check that uploading file is image
p34614
aVYou could look at the uploaded filename and use the extension but that's not 100% guarantee
p34615
aVAnyone could rename an  to , so no reliable way
p34616
aVRemember that all you get on the server is a filename and a byte array which could be anything
p34617
aVAnother technique consists into looking at the first few bytes of the uploaded file and try to guess its type but once again not guaranteed
p34618
aVWhere is better store images - mssql or just folder
p34619
aVThere is no definite answer
p34620
aVSome prefer files system, others SQL
p34621
aVI prefer storing files on the file system and saving only the path in SQL
p34622
aVAlso SQL Server 2008 has a FileStream datatype which might be worth checking
p34623
aVHow to detect image type
p34624
aVIs MIME trust source
p34625
aVOnce again the file extension could be used but not 100% trustworthy
p34626
aVHow to make image processing
p34627
aVIs System
p34628
aVDrawing good instrument
p34629
aVYes GDI+ is good enough to perform basic image processing like resizing for common image types
p34630
as(dp34631
g16
V29407
p34632
stp34633
a((dp34634
g2
(lp34635
VJust make sure that you have the following web
p34636
aVconfig file at the root of your custom view engine path:
p34637
aVYou could copy-paste the web
p34638
aVconfig file automatically generated by the default template and located in  into
p34639
aVBasically the important part is :
p34640
as(dp34641
g16
V29407
p34642
stp34643
a((dp34644
g2
(lp34645
VRoughly here are a few steps:
p34646
aVCreate a proxy of the service using svcutil
p34647
aVexe and include it in your application
p34648
aVCreate an interface which will abstract all the necessary methods you need to call from the application (IRepository)
p34649
aVImplement this repository and call your WCF service (work with the generated client)
p34650
aVInject the repository into the controller constructor
p34651
aVIn the meantime think about the view models you would set and the mapping between the objects coming from the web service and those view models
p34652
as(dp34653
g16
V29407
p34654
stp34655
a((dp34656
g2
(lp34657
VToo little context provided in your question but I will try to show a full working example:
p34658
aVModel:
p34659
aVController:
p34660
aVView:
p34661
aVNotice that the  is more adapted if you want to generate a multiple select
p34662
aVObviously the  property should be fetched from a repository
p34663
as(dp34664
g16
V29407
p34665
stp34666
a((dp34667
g2
(lp34668
VThe only way to prevent other sites from accessing this action is to use some sort of authentication mechanism
p34669
aVYou could use a cookie which was encrypted with your machineKey to make sure that the request came from the same domain
p34670
aVFor this to work you need to have a login page which will emit the authentication cookie
p34671
as(dp34672
g16
V29407
p34673
stp34674
a((dp34675
g2
(lp34676
VCurrently this controller action is very difficult to unit test as it calls a static method that is relying on
p34677
aVWhile the first approach seems to work in the second you still need to pass the session state somewhere so that the manager could work with it
p34678
aVAlso don't pass , use   instead
p34679
as(dp34680
g16
V29407
p34681
stp34682
a((dp34683
g2
(lp34684
VChecking the id against the  is a good way
p34685
aVThat's what the  method uses to decide whether to emit an  or  statement
p34686
as(dp34687
g16
V29407
p34688
stp34689
a((dp34690
g2
(lp34691
VNow the error comes from the server side script which doesn't accept HTML
p34692
aVThe ASP
p34693
aVNET engine will automatically drop any requests containing HTML
p34694
aVThere are different ways of disabling this behavior at your own risk
p34695
aVOne of it consists of adding the  to the aspx  header
p34696
aVIf it is an ASP
p34697
aVNET MVC application you could decorate the controller action to which you are posting with the  attribute:
p34698
aVIt is also important to note that if you are running
p34699
aVNET 4
p34700
aV0 you will need to add the following to your web
p34701
aVconfig:
p34702
as(dp34703
g16
V29407
p34704
stp34705
a((dp34706
g2
(lp34707
VThis will depend on the protocol you are using
p34708
aVFor example if you use XML over HTTP you could use MTOM to reduce the size of the data and which is optimized for transferring files over HTTP
p34709
as(dp34710
g16
V29407
p34711
stp34712
a((dp34713
g2
(lp34714
VYou could append a hidden field to your form:
p34715
aVAnd then set its value before submitting:
p34716
as(dp34717
g16
V29407
p34718
stp34719
a((dp34720
g2
(lp34721
VDon't know about Visual Studio but there are some FireFox plugins
p34722
as(dp34723
g16
V29407
p34724
stp34725
a((dp34726
g2
(lp34727
VClient side validation will pass because there's no corresponding input element to validate, server side validation will fail because you enforce a field to be required and this field value is not posted to the server
p34728
aVYou could read this blog post to understand how model validation works and the differences between Input Validation vs Model Validation
p34729
as(dp34730
g16
V29407
p34731
stp34732
a((dp34733
g2
(lp34734
VThe problem is that you cannot know when the printing is finished using javascript
p34735
aVThere's no event that will be triggered to notify this
p34736
aVFor security reasons javascript is executed in a sandboxed environment inside the browser limiting its access to any system resources
p34737
as(dp34738
g16
V29407
p34739
stp34740
a((dp34741
g2
(lp34742
Vdoesn't work because it is equivalent to:
p34743
aVand there's no such function defined in the window scope
p34744
aVYou are declaring it in a local variable scope
p34745
as(dp34746
g16
V29407
p34747
stp34748
a((dp34749
g2
(lp34750
Vor
p34751
as(dp34752
g16
V29407
p34753
stp34754
a((dp34755
g2
(lp34756
VUPDATE: Due to many confusions in the comments section here's a full working example
p34757
aVModel:
p34758
aVController:
p34759
aVView:
p34760
aVHope this clears things up
p34761
as(dp34762
g16
V29407
p34763
stp34764
a((dp34765
g2
(lp34766
VYou could use WebClient to download pages:
p34767
aVAlso notice that what you've provided is not the address of the video file
p34768
aVIt is the address of the player
p34769
aVAFAIK the policy forbids downloading the video files from youtube but if you have the address of the video file simply pass it to the DownloadFile method
p34770
as(dp34771
g16
V29407
p34772
stp34773
a((dp34774
g2
(lp34775
VI guess the  is already executed on a different thread from the GUI thread, so spawning yet another thread wouldn't be necessary
p34776
aVTry this:
p34777
as(dp34778
g16
V29407
p34779
stp34780
a((dp34781
g2
(lp34782
V should be referenced from the GAC
p34783
aVThis assembly has nothing to do in your application folders
p34784
as(dp34785
g16
V29407
p34786
stp34787
a((dp34788
g2
(lp34789
Vis equivalent to:
p34790
aVso if the first doesn't work as the second it is because the value of  is not
p34791
as(dp34792
g16
V29407
p34793
stp34794
a((dp34795
g2
(lp34796
VTwo options:
p34797
aVCookies
p34798
aVDatabase
p34799
aVIf this information needs to be stored only for the time the user is logged in and you don't want to persist it when he comes back cookies would work just fine
p34800
aVIf on the other hand you want to persist the user's customized settings then you need to store them in the database or use persistent cookies
p34801
aVSession is also an option but be careful if your site runs in a web farm - in this case you will need an out-of-proc session persistence
p34802
aVAs I understand TempData is a good choice for short-lived temporary data and not suitable for caching data during all the period the user stay logged
p34803
aVYou are absolutely right
p34804
aVshould be used only in the following scenario: a user calls a controller action, this controller action stores something into the TempData and immediately redirects to another controller action (it never renders a view) which fetches the stored data and renders a view (Redirect After POST scenarios)
p34805
as(dp34806
g16
V29407
p34807
stp34808
a((dp34809
g2
(lp34810
VA project is an assembly, so you could use an assembly attribute
p34811
as(dp34812
g16
V29407
p34813
stp34814
a((dp34815
g2
(lp34816
VYou could use HTML 5 Local Storage
p34817
aVIt's what the Stack Exchange network uses for global authentication
p34818
aVIt's supported only by modern browsers but you could always gracefully fallback to cookies if not supported (IE8+, Chrome, Safari, FireFox 3
p34819
aV6+, and Opera 10
p34820
aV61+ are all supported)
p34821
as(dp34822
g16
V29407
p34823
stp34824
a((dp34825
g2
(lp34826
VNo, there's no 64 bit version of Visual Studio yet
p34827
aVThe confusion probably comes from the fact that Visual Studio allows you to generate 64 bit binaries but the application itself is 32 bit
p34828
as(dp34829
g16
V29407
p34830
stp34831
a((dp34832
g2
(lp34833
VYou could use a projection:
p34834
as(dp34835
g16
V29407
p34836
stp34837
a((dp34838
g2
(lp34839
VThe model properties are usually bound from the request values
p34840
aVSo if I need to change a model value inside a controller action I simply call this action with the proper request string so that I don't have to do anything inside the controller
p34841
aVBut to answer your question both approaches will perform well, it doesn't really matter which one you use
p34842
as(dp34843
g16
V29407
p34844
stp34845
a((dp34846
g2
(lp34847
VYou shouldn't give a name to the callback function if you are using an anonymous callback
p34848
aVLeave the naming to jQuery using :
p34849
aVThis way the actual request will look something like this:
p34850
as(dp34851
g16
V29407
p34852
stp34853
a((dp34854
g2
(lp34855
VYou could use a :
p34856
aVOf course this code looks extremely ugly in C#
p34857
aVDepending on what manipulations you are performing on those strings you could take advantage of the LINQ features built into C# to convert it into a one-liner and avoid writing all those imperative loops
p34858
aVThis is to say that when converting source code from one language to another it's not a matter of simply searching for the equivalent data type, etc
p34859
aVYou could also take advantage of what the target language has to offer
p34860
as(dp34861
g16
V29407
p34862
stp34863
a((dp34864
g2
(lp34865
VYou could easily get all the actions using reflection:
p34866
aVAdapt to include the assemblies you are interested in
p34867
as(dp34868
g16
V29407
p34869
stp34870
a((dp34871
g2
(lp34872
VThere's no such command built into the language
p34873
aVSockets need to be used but they are platform dependent
p34874
as(dp34875
g16
V29407
p34876
stp34877
a((dp34878
g2
(lp34879
VMono
p34880
aVMerge:
p34881
as(dp34882
g16
V29407
p34883
stp34884
a((dp34885
g2
(lp34886
VYou could create a base controller that all controllers in this area derive from and decorate it with the  attribute
p34887
as(dp34888
g16
V29407
p34889
stp34890
a((dp34891
g2
(lp34892
VThe data parameter is a name/value pair:
p34893
aVAnd send multiple parameters:
p34894
as(dp34895
g16
V29407
p34896
stp34897
a((dp34898
g2
(lp34899
VYou may take a look at FluentValidation
p34900
aVIt integrates nicely with ASP
p34901
aVNET MVC and allows you to unobtrusively add validation rules without modifying your POCO objects
p34902
as(dp34903
g16
V29407
p34904
stp34905
a((dp34906
g2
(lp34907
VI would recommend you using an interface or an abstract base class along with a factory which will return the proper algorithm implementation based on some input
p34908
aVBy making those classes implement an interface you will also bring weaker coupling between the consumers of those methods and the algorithms and you will also benefit from the possibility of unit testing in isolation the different parts of your application
p34909
aVUPDATE:
p34910
aVHere's an example using an interface:
p34911
aVNow the consumers will always work with the  interface because all they care about is adding two numbers and not the way this adding is implemented
p34912
aVThe factory pattern could ease the creation of a specific implementation of a given algorithm but DI frameworks do this job just fine
p34913
aVNow if you have some ugly legacy code that you don't have control over and which depends on static classes/methods you could invoke it in the specific implementation of a given algorithm
p34914
aVThe advantage is that it is now hidden behind the specific implementation and the consumers of the algorithm don't have to call/rely on it explicitly
p34915
as(dp34916
g16
V29407
p34917
stp34918
a((dp34919
g2
(lp34920
VIn your index
p34921
aVhtml
p34922
aVrb:
p34923
aVAnd in a separate js file:
p34924
as(dp34925
g16
V29407
p34926
stp34927
a((dp34928
g2
(lp34929
VThe  you are using to send the POST request will automatically follow the redirects performed on the server and return the HTML and everything ends in the success callback
p34930
aVIf you want to redirect the user browser to this page you shouldn't use
p34931
aVYou need javascript to submit a
p34932
aVSilverlight allows you to execute javascript, so you could use it to dynamically generate and submit a form, or if the form already exists in the DOM set the values of the input fields and submit it
p34933
aVHere's an example of how you could do this
p34934
aVAdd the following javascript function to the same page hosting the Silverlight application:
p34935
aVAnd then inside your Silverlight application whenever you decide to invoke the POST action:
p34936
aVYou may add other parameters if necessary
p34937
as(dp34938
g16
V29407
p34939
stp34940
a((dp34941
g2
(lp34942
VHow about using AJAX
p34943
aVand then:
p34944
aVOf course putting input fields whose values shouldn't be submitted to the server into a form is doubtful
p34945
aVMaybe you should rethink the way you organize the forms
p34946
as(dp34947
g16
V29407
p34948
stp34949
a((dp34950
g2
(lp34951
VA StreamReader will try to automatically detect the encoding of a file if there's a BOM when trying to read:
p34952
as(dp34953
g16
V29407
p34954
stp34955
a((dp34956
g2
(lp34957
VI usually put this into the view
p34958
aVViewModel:
p34959
aVView:
p34960
aVAnd the controller takes care of setting this property value using a repository
p34961
as(dp34962
g16
V29407
p34963
stp34964
a((dp34965
g2
(lp34966
VI tried to reproduce the problem but was unable to do so (Windows 7 x64)
p34967
aVI've tested the following code under Chrome 6
p34968
aV0, FireFox 3
p34969
aV6
p34970
aV10 and IE 8 and all behaved the same:
p34971
aVOnly a single client handler was invoked: either  or
p34972
as(dp34973
g16
V29407
p34974
stp34975
a((dp34976
g2
(lp34977
VFrom performance standpoint putting custom settings in web
p34978
aVconfig and creating a configuration handler will be OK because the config values are cached and read only once when the application starts
p34979
aVPutting the values in a separate XML file you will need to handle the caching your self if you want to avoid parsing it every time you need to access those values
p34980
as(dp34981
g16
V29407
p34982
stp34983
a((dp34984
g2
(lp34985
VIf this functionality is part of your site (posting special characters to some pages) then you could add the following to your web
p34986
aVconfig:
p34987
aVThis will disable request validation for pages marked with
p34988
aVIn ASP
p34989
aVNET 4
p34990
aV0 you need this attribute or even if you disable page request validation you will get exceptions
p34991
aVIf on the other hand those exceptions are attacks against your site then simply do nothing and leave the ASP
p34992
aVNET framework drop those dangerous requests
p34993
as(dp34994
g16
V29407
p34995
stp34996
a((dp34997
g2
(lp34998
VHidden input fields could be added to a form in order to pass some value when the form is submitted that the user doesn't see and cannot modify using the application interface
p34999
aVThey could be useful when you want to persist some values across multiple requests
p35000
aVIt's true that in a standard ASP
p35001
aVNET WebForms application their value is quite limited as you already have hidden values holding the View State allowing you to persist values across requests
p35002
as(dp35003
g16
V29407
p35004
stp35005
a((dp35006
g2
(lp35007
VYou could take a look at ASP
p35008
aVNET Page Methods
p35009
as(dp35010
g16
V29407
p35011
stp35012
a((dp35013
g2
(lp35014
VTry specifying the :
p35015
as(dp35016
g16
V29407
p35017
stp35018
a((dp35019
g2
(lp35020
VYou could use the proper constructor
p35021
as(dp35022
g16
V29407
p35023
stp35024
a((dp35025
g2
(lp35026
VThe reason for this error is because Rectangle is a value type (struct) in contrast to reference types (classes)
p35027
aVYou cannot modify the  property because when you use the  property getter a new value for the rectangle is returned (the getter is a function)
p35028
aVIf it was a reference type you are manipulating the pointer and this would be possible
p35029
aVThis is an important aspect of value vs reference types to be aware of
p35030
as(dp35031
g16
V29407
p35032
stp35033
a((dp35034
g2
(lp35035
VI wasn't able to reproduce the problem
p35036
aVI've downloaded the latest version of FluentNHibernate 1
p35037
aV1 from here and the following program ran fine:
p35038
aVAnd here's the SQL queries executed:
p35039
aVIn my test I also used  and targeted
p35040
aVNET 4
p35041
aV0 for this console application
p35042
aVRan it on Windows 7 x64
p35043
as(dp35044
g16
V29407
p35045
stp35046
a((dp35047
g2
(lp35048
VI would use anonymous object (remember that JSON is a key/value pairs):
p35049
aVAnd then:
p35050
aVRemark: if the  property is boolean the
p35051
aVNET naming convention would be to call it
p35052
as(dp35053
g16
V29407
p35054
stp35055
a((dp35056
g2
(lp35057
VYou could start by giving your form an unique id:
p35058
aVAnd then use this id to register for the submit event:
p35059
aVThere's also the jquery form plugin which allows you to AJAXify an existing form very easily:
p35060
as(dp35061
g16
V29407
p35062
stp35063
a((dp35064
g2
(lp35065
VI think that the  here is not necessary
p35066
aVIt should be:
p35067
aVWhere  is defined elsewhere
p35068
aVThis will simply assign  to an empty object if it is null or leave as is of not
p35069
aVYou might also leave the  keyword in which case it will  ensure that the object is declared even if it wasn't before this statement
p35070
aVSame for the array: if it is null it will assign it to an empty array
p35071
as(dp35072
g16
V29407
p35073
stp35074
a((dp35075
g2
(lp35076
Vis actually equivalent to:
p35077
aVso you are actually trying to compare a non nullable type to a nullable type which doesn't have value
p35078
aVdoesn't compile because the type on the right hand is  and not
p35079
aVAlso is this question just out of curiosity in attempt to #%=^ the compiler or you are actually writing something like this in a real project
p35080
as(dp35081
g16
V29407
p35082
stp35083
a((dp35084
g2
(lp35085
VIt starts from zero indicating the beginning of the stream
p35086
aVQuote from the documentation:
p35087
aVoffset
p35088
aVThe
p35089
aVzero-based byte offset in buffer at
p35090
aVwhich to begin storing the data read
p35091
aVfrom the current stream
p35092
aVfrom the current stream
p35093
as(dp35094
g16
V29407
p35095
stp35096
a((dp35097
g2
(lp35098
VInput fields marked with  never send their value to the server when the form is posted
p35099
aVYou could use the  attribute in order to still make the field not editable by the user but send the initial value to the server when the form is submitted
p35100
as(dp35101
g16
V29407
p35102
stp35103
a((dp35104
g2
(lp35105
VMake sure that the routes are set properly and that you have default values for a controller and action
p35106
aVFor example if you have the following route:
p35107
aVMake sure that you have a  with an  action
p35108
as(dp35109
g16
V29407
p35110
stp35111
a((dp35112
g2
(lp35113
VLooks like a bug
p35114
as(dp35115
g16
V29407
p35116
stp35117
a((dp35118
g2
(lp35119
VYou could use the  property:
p35120
aVYou may checkout this blog post for an example
p35121
aVUPDATE:
p35122
aVIn :
p35123
aVAnd in the  file you need to add the custom error messages
p35124
aVUse Reflector to look at the  and  assemblies in order to see the key names to use
p35125
as(dp35126
g16
V29407
p35127
stp35128
a((dp35129
g2
(lp35130
VAnd on your view model:
p35131
aVUPDATE:
p35132
aVFull example:
p35133
aVModel:
p35134
aVController:
p35135
aVView:
p35136
as(dp35137
g16
V29407
p35138
stp35139
a((dp35140
g2
(lp35141
VYou may try 7zip
p35142
as(dp35143
g16
V29407
p35144
stp35145
a((dp35146
g2
(lp35147
s(dp35148
g16
V29407
p35149
stp35150
a((dp35151
g2
(lp35152
VYou could append a hidden field to the form before submitting it:
p35153
as(dp35154
g16
V29407
p35155
stp35156
a((dp35157
g2
(lp35158
VI would recommend you writing a custom view engine
p35159
aVThis way your structure might look like this:
p35160
aVViews
p35161
aVHome
p35162
aVIndex
p35163
aVaspx // default version
p35164
aVUA1
p35165
aVIndex
p35166
aVaspx // version for user agent 1
p35167
aVUA2
p35168
aVIndex
p35169
aVaspx // version for user agent 2
p35170
aVShared
p35171
aVAnd then have a custom view engine:
p35172
aVAnd finally register the view engine in :
p35173
aVThis way your controller and actions are strictly the same and based on the  HTTP header the proper view will be used
p35174
aVAll you need to do when you have to handle  is to add the corresponding view in a  folder
p35175
aVNo need to touch the controllers and models
p35176
as(dp35177
g16
V29407
p35178
stp35179
a((dp35180
g2
(lp35181
s(dp35182
g16
V29407
p35183
stp35184
a((dp35185
g2
(lp35186
VWhen an App Pool targets
p35187
aVNET 4
p35188
aV0 this means that your site runs under the CLR 4
p35189
aV0 and the assemblies compiled against
p35190
aVNET 3
p35191
aV5 are loaded in this CLR
p35192
aVVS2008 cannot debug processes running CLR 4
p35193
aV0, only CLR 2
p35194
ag2721
aVSo if you want to debug either change the AppPool CLR to 2
p35195
aV0 or use VS2010 or even better use the Visual Studio's integrated server which you used to develop this site
p35196
as(dp35197
g16
V29407
p35198
stp35199
a((dp35200
g2
(lp35201
VInstall IIS 7
p35202
aVRegister ASP
p35203
aVNET with IIS ()
p35204
aVConfigure the web project to use IIS instead of the built-in server:
p35205
aVRemark: You could also checkout IIS Express
p35206
as(dp35207
g16
V29407
p35208
stp35209
a((dp35210
g2
(lp35211
VWhy do everything needs to be done with jQuery
p35212
aVHow about a regex:
p35213
aVand to modify the text into an existing element jQuery could be useful:
p35214
as(dp35215
g16
V29407
p35216
stp35217
a((dp35218
g2
(lp35219
VPut this into the  section of your page before any other script:
p35220
as(dp35221
g16
V29407
p35222
stp35223
a((dp35224
g2
(lp35225
VOf course you can
p35226
aVThose are two completely different things that can be used together as well
p35227
as(dp35228
g16
V29407
p35229
stp35230
a((dp35231
g2
(lp35232
VHere's how you can proceed:
p35233
aVAdd a file to the root of your unit test project and set
p35234
aVFor example add
p35235
aVBecause the file is part of the project structure it will be added under source control as all the other files
p35236
aVUse the  attribute in your unit test to indicate which file will be used
p35237
aVYou also have the possibility to organize the test files into sub-folders
p35238
as(dp35239
g16
V29407
p35240
stp35241
a((dp35242
g2
(lp35243
VThis is not anonymous type
p35244
aVIt is a collection initializer which creates a list containing 3 elements and then filters the initially created list
p35245
aVAnonymous types would behave and consume the same memory as their non-anonymous type equivalent
p35246
aVwould be the same as if we had a type:
p35247
as(dp35248
g16
V29407
p35249
stp35250
a((dp35251
g2
(lp35252
VTry setting the AutoPostBack property to
p35253
as(dp35254
g16
V29407
p35255
stp35256
a((dp35257
g2
(lp35258
VYou could use a custom attribute:
p35259
as(dp35260
g16
V29407
p35261
stp35262
a((dp35263
g2
(lp35264
VTry returning JSON from your controller action:
p35265
aVAlso don't forget to include the default CSS or you might not see the suggestions div appear
p35266
as(dp35267
g16
V29407
p35268
stp35269
a((dp35270
g2
(lp35271
Vcan or should viewmodels be in the Models namespace
p35272
aVTo separate them from the Models you could place them in the ViewModels namespace
p35273
aVAs far as the Index view is concerned you could use Editor/Display templates
p35274
as(dp35275
g16
V29407
p35276
stp35277
a((dp35278
g2
(lp35279
VIt does not make sense to return a single element when selecting by class name because potentially there could be many elements in the DOM that have this class
p35280
aVSo you could always use the first element of the returned array if you are sure that it will be unique
p35281
as(dp35282
g16
V29407
p35283
stp35284
a((dp35285
g2
(lp35286
VThat's the whole point of async methods
p35287
aVYou fire them and the code returns immediately to avoid blocking the UI until the service responds
p35288
aVYou use the result only in the success callback ()
p35289
aVIn the case of a WPF application if you use async methods you should be aware that the success callback could be invoked on a thread which is different than the main GUI thread and in which you should not update the controls
p35290
aVYou need to use the Dispatcher object
p35291
as(dp35292
g16
V29407
p35293
stp35294
a((dp35295
g2
(lp35296
VUnfortunately there's no yield equivalent in VB
p35297
aVNET
p35298
aVThere's a nice article about emulating it
p35299
as(dp35300
g16
V29407
p35301
stp35302
a((dp35303
g2
(lp35304
VYou could set the UI culture in your web
p35305
aVconfig:
p35306
aVor use the  attribute on a particular property of your view model:
p35307
as(dp35308
g16
V29407
p35309
stp35310
a((dp35311
g2
(lp35312
VIt seems that you are trying to use classes generated by EF in your views
p35313
aVI would recommend you not doing this
p35314
aVThat's what ViewModels are supposed to do
p35315
aVDon't be afraid to create a view model for each view (even if you had to repeat some properties) and avoid passing the Model
p35316
aVAlso having views that are strongly typed to  is as if you had weakly typed views
p35317
aVOnce again: avoid them:
p35318
as(dp35319
g16
V29407
p35320
stp35321
a((dp35322
g2
(lp35323
VReading files and directories is usually done with classes situated in the  namespace
p35324
aVSo the first step would consist into getting all the files that you need to read using the Directory
p35325
aVEnumerateFiles method and then for each file that corresponds to your search criteria read the contents using for example the File
p35326
aVReadAllBytes method
p35327
as(dp35328
g16
V29407
p35329
stp35330
a((dp35331
g2
(lp35332
VPut the external library in a local  folder to your project
p35333
aVThis way each project is self-contained
p35334
as(dp35335
g16
V29407
p35336
stp35337
a((dp35338
g2
(lp35339
VNot really answering your question but I would recommend you this construct:
p35340
aVand let the compiler worry about the ,  and  calls
p35341
as(dp35342
g16
V29407
p35343
stp35344
a((dp35345
g2
(lp35346
VTheoretically it is faster because it makes one less function call
p35347
aVPractically you would never write the second because x is already a jQuery object
p35348
as(dp35349
g16
V29407
p35350
stp35351
a((dp35352
g2
(lp35353
s(dp35354
g16
V29407
p35355
stp35356
a((dp35357
g2
(lp35358
VSince our clients may use different languages we encode everything into ascii to store in the database (saves worrying about collations and such)
p35359
aVIMHO storing html entities into the database is a very bad approach
p35360
aVI would strongly recommend you using UTF-8 encoding everywhere
p35361
aVThis is what will save you from worrying about collations and such
p35362
as(dp35363
g16
V29407
p35364
stp35365
a((dp35366
g2
(lp35367
VCheckout the P/Invoke Interop Assistant:
p35368
aVIn marshalling, there are a bunch of
p35369
aVattributes and rules
p35370
aVUnderstanding
p35371
aVall those attributes and rules seem a
p35372
aVbit daunting
p35373
aVIn order to make
p35374
aVdeveloping work more efficient and
p35375
aVeasier on those attributes and the
p35376
aVrules, P/Invoke Interop Assistant
p35377
aVcomes out
p35378
aVIt is a toolkit that helps
p35379
aVdevelopers to efficiently convert from
p35380
aVC to managed P/Invoke signatures or
p35381
aVverse visa
p35382
aVThis is conceptually
p35383
aVsimilar to TlbImp for COM Interop
p35384
aVwhich generates managed proxy entry
p35385
aVpoints based on some formal
p35386
aVdescription of the unmanaged side but
p35387
aVit works for P/Invoke
p35388
aVThe toolkit was
p35389
aVfirst released on MSDN Magazine
p35390
aVwebsite in Jan, 2008
p35391
aVwebsite in Jan, 2008
p35392
as(dp35393
g16
V29407
p35394
stp35395
a((dp35396
g2
(lp35397
VI would recommend you using the standard HTML helper method () for generating the  field
p35398
aVThen simply set the  property on your view model to any of the possible values (P, B, S) and the helper will take care of the rest
p35399
as(dp35400
g16
V29407
p35401
stp35402
a((dp35403
g2
(lp35404
VIf these DLL's were created for
p35405
aVNET 3
p35406
aV5 (in VS2008), will they continue to run under 3
p35407
ag244
aVThere's no such thing as running under 3
p35408
ag244
aVNET assemblies are compiled against a
p35409
aVNET version and then loaded and executed by the CLR
p35410
aVNET 3
p35411
aV5 uses CLR 2
p35412
aV0 and
p35413
aVNET 4
p35414
aV0 uses CLR 4
p35415
ag2721
aVSo if your application is running under the CLR 4
p35416
aV0 those assemblies will run under the CLR 4
p35417
aV0 which is backwards compatible with assemblies compiled against
p35418
aVNET 3
p35419
ag244
aVThere could be some caveats if those assemblies call unmanaged functions but otherwise they should work just fine
p35420
aVGo ahead and try running them
p35421
as(dp35422
g16
V29407
p35423
stp35424
a((dp35425
g2
(lp35426
VThis is possible in VB
p35427
aVNET 10:
p35428
aVUnfortunately IIRC VS 2008 uses VB
p35429
aVNET 9 compiler which doesn't support this syntax
p35430
aVAnd for those that might be interested here's what happens behind the scenes (C#):
p35431
as(dp35432
g16
V29407
p35433
stp35434
a((dp35435
g2
(lp35436
VWeb Parts are part of classic ASP
p35437
aVNET WebForms
p35438
aVThey are special type of user controls
p35439
aVSharePoint being built with classic WebForms it uses Web Parts extensively to add functionality
p35440
aVWeb Parts are not used in ASP
p35441
aVNET MVC
p35442
aVRemember there's no ViewState nor Postback concepts in ASP
p35443
aVNET MVC
p35444
aVSimilar functionality could be achieved with view models and partial views
p35445
as(dp35446
g16
V29407
p35447
stp35448
a((dp35449
g2
(lp35450
VCouple of remarks about your code:
p35451
aVYou say that you have a view model but what I see looks more like an Entity Framework autogenerated model
p35452
aVProperties of type object,
p35453
aVarghhh
p35454
aVYou include both  and  but those are mutually exclusive
p35455
aVYou have to decide whether you will do client validation using MS Technology or jquery validate plugin
p35456
aVYou didn't show any code of the controller actions nor the exact exception stack trace you are getting
p35457
aVYou are saying that the Post action is not hit but you get an exception
p35458
aVWhere do you get this exception
p35459
as(dp35460
g16
V29407
p35461
stp35462
a((dp35463
g2
(lp35464
VForms authentication works in two steps:
p35465
aVThe user goes to the LogIn page and enters his username and password and sends them to the server
p35466
aVThe server verifies them and if they are correct it emits an authentication cookie which is sent to the client
p35467
aVThe client stores this cookie and sends it along each subsequent requests to the server
p35468
aVSo to achieve this in a WPF application you will need to first obtain an authentication cookie
p35469
aVSo first send a POST request to the LogIn page along with the username and password and read the returned cookie (For this you need to set the CookieContainer property on the HttpWebRequest for it to be able to catch the cookie)
p35470
aVOnce you have the cookie you reuse the cookie container in subsequent calls to authenticated pages
p35471
aVYou may checkout this sample code to assist you (just replace the addresses and parameter names)
p35472
as(dp35473
g16
V29407
p35474
stp35475
a((dp35476
g2
(lp35477
VIt's because XmlDocument knows nothing about what an  means
p35478
aVYou need to include a DTD in your XHTML document
p35479
aVJust put the following in the beginning of your html file:
p35480
aVExample:
p35481
aVNotice that this might be a little slower because the DTD needs to be downloaded
p35482
as(dp35483
g16
V29407
p35484
stp35485
a((dp35486
g2
(lp35487
VNotice that if you click on the second link this will return undefined because there's no adjacent element to it
p35488
as(dp35489
g16
V29407
p35490
stp35491
a((dp35492
g2
(lp35493
VYou could send the message body as HTML which will allow you to have links and such:
p35494
as(dp35495
g16
V29407
p35496
stp35497
a((dp35498
g2
(lp35499
VDon't reinvent a CSV parser, try FileHelpers
p35500
as(dp35501
g16
V29407
p35502
stp35503
a((dp35504
g2
(lp35505
VLazy loading works only inside the scope of a hibernate session
p35506
aVNot a chance doing this over the wire
p35507
aVYou need to eagerly fetch the collection or use OOP inheritance and return from your web method a class which doesn't have this collection at all especially if the consumers won't need it
p35508
as(dp35509
g16
V29407
p35510
stp35511
a((dp35512
g2
(lp35513
VA mocking framework might be useful here as it allows you to verify which methods are actually called
p35514
aVTo name a few:
p35515
aVRhino Mocks
p35516
aVNSubstitute
p35517
aVmoq
p35518
aVAnd here's a nice comparison between those three popular frameworks
p35519
as(dp35520
g16
V29407
p35521
stp35522
a((dp35523
g2
(lp35524
VYou don't need to save the CSV file to disk especially if it is dynamically generated
p35525
aVYou could directly write it to the response stream so that the user can download it:
p35526
aVYou could also write an http handler:
p35527
aVwhich you would call like this:
p35528
as(dp35529
g16
V29407
p35530
stp35531
a((dp35532
g2
(lp35533
VPut them in brackets :
p35534
as(dp35535
g16
V29407
p35536
stp35537
a((dp35538
g2
(lp35539
VHaving an internal or public constructor to an internal type would be equivalent in terms of visibility
p35540
as(dp35541
g16
V29407
p35542
stp35543
a((dp35544
g2
(lp35545
VForms cannot be nested
p35546
aVThat's simply is not allowed in HTML and if you do so you might get undefined behavior which could vary between browsers
p35547
aVSo try removing the inner form and put the  on the outer form
p35548
as(dp35549
g16
V29407
p35550
stp35551
a((dp35552
g2
(lp35553
VYou could use AJAX to send a POST request if you don't want forms
p35554
aVUsing jquery $
p35555
aVpost method it is pretty simple:
p35556
as(dp35557
g16
V29407
p35558
stp35559
a((dp35560
g2
(lp35561
s(dp35562
g16
V29407
p35563
stp35564
a((dp35565
g2
(lp35566
VIs it possible to dynamically enable/disable a
p35567
aVnet attribute
p35568
aVNo
p35569
aVAttributes are baked at the assembly metadata at compile time
p35570
aVYou will need to implement a custom serialization
p35571
aVCan you simply imagine the consequences of being able to add/remove attributes at runtime
p35572
aVYou could provoke disasters by removing for example the Serializable attribute from the String class or setting the ComVisible attribute to  on this same class :-)
p35573
as(dp35574
g16
V29407
p35575
stp35576
a((dp35577
g2
(lp35578
VIf you are running this service in the Visual Studio's built-in web server bear in mind that this server doesn't accept remote connections
p35579
aVSo you will need to host it in IIS
p35580
as(dp35581
g16
V29407
p35582
stp35583
a((dp35584
g2
(lp35585
VYou could use the GetInvocationList method which will give you all the subscribers
p35586
as(dp35587
g16
V29407
p35588
stp35589
a((dp35590
g2
(lp35591
VYou don't need to repeat  once again at the method declaration
p35592
aVIt is already declared at the interface:
p35593
aVAlso notice that you need to explicitly implement the  interface because only the return type of the Get method differs which is not possible
p35594
as(dp35595
g16
V29407
p35596
stp35597
a((dp35598
g2
(lp35599
VCan you verify that you are not falling in this unfortunate scenario
p35600
aVIf this is the case that's a bug that won't be fixed by Microsoft:
p35601
aVYou need some type into an assembly A:
p35602
aVAnd a type to be serialized in another assembly:
p35603
aVNow, try to initialize a XmlSerializer
p35604
as(dp35605
g16
V29407
p35606
stp35607
a((dp35608
g2
(lp35609
VTry not redirecting in case of error
p35610
aVIf the ModelState is invalid simply return the same view
p35611
aVThen in the view you could display the form
p35612
aVIf you want to continue using the Post-Redirect-Pattern you could store the ModelState into TempData as shown in this blog post and a nice implementation here
p35613
as(dp35614
g16
V29407
p35615
stp35616
a((dp35617
g2
(lp35618
VAbsolutely no difference
p35619
aVNot even at the IL level
p35620
aVIn C#  is an alias to the actual
p35621
aVNET type
p35622
aVAs to the possible use, well, use it whenever you want to represent an empty string in your application
p35623
aVThere have been many discussions as to what is the difference between  and  and the general consensus is that you should use the one that suits you best and makes your code more readable which obviously is subjective
p35624
as(dp35625
g16
V29407
p35626
stp35627
a((dp35628
g2
(lp35629
VA combination of WebClient and JavaScriptSerializer classes could help you
p35630
aVAs always start by defining a class that will represent your model:
p35631
aVand then call the service and deserialize the JSON result back to your model:
p35632
as(dp35633
g16
V29407
p35634
stp35635
a((dp35636
g2
(lp35637
VYou could use the  function overload which allows you to modify an existing attribute value:
p35638
as(dp35639
g16
V29407
p35640
stp35641
a((dp35642
g2
(lp35643
VHow about this:
p35644
as(dp35645
g16
V29407
p35646
stp35647
a((dp35648
g2
(lp35649
VBecause the id is known only at the client side you will need to construct the proper url
p35650
aVThis being said never mix C# and javascript
p35651
aVHere's how you might proceed:
p35652
aVStart by declaring a global variable that will hold the delete link without the id part:
p35653
aVand then in a separate javascript file:
p35654
aVNotice that you should use  instead of  because you already have the anchor manually generated
p35655
aVRemark: avoid using GET verbs for deleting
p35656
aVYou might have bad surprises
p35657
aVUse proper verb (or at least POST) when modifying state on the server such as deleting
p35658
as(dp35659
g16
V29407
p35660
stp35661
a((dp35662
g2
(lp35663
VNo you can't
p35664
aVAn assembly compiled against
p35665
aVNET 4
p35666
aV0 can be loaded only by the CLR 4
p35667
ag2721
aVOn the other hand the CLR 4
p35668
aV0 can load assemblies compiled against
p35669
aVNET 3
p35670
ag244
as(dp35671
g16
V29407
p35672
stp35673
a((dp35674
g2
(lp35675
VYou could use the FileSystemWatcher class which can send notifications for different events happening on the file system like file changed
p35676
as(dp35677
g16
V29407
p35678
stp35679
a((dp35680
g2
(lp35681
VYou haven't shown how your model classes look like neither what input elements does your form consists of
p35682
aVTrying to reproduce the problem here's a working example I've created
p35683
aVIt should be pretty close to your scenario:
p35684
aVModel:
p35685
aVController:
p35686
aVView:
p35687
aVScript:
p35688
aVYou could also take a look at the excellent jquery form plugin so that your script simplifies to this:
p35689
as(dp35690
g16
V29407
p35691
stp35692
a((dp35693
g2
(lp35694
VCouple of remarks about your code:
p35695
aVYou are setting  content type but you are sending some arbitrary byte array
p35696
aVWhen you set this content type the server will expect that the request is encoded using it
p35697
aVThe  you are getting in the Debug window are normal
p35698
aVYou simply cannot use the  property on a
p35699
aVLet me try to simplify your code in case you really want to use :
p35700
aVClient:
p35701
aVServer:
p35702
as(dp35703
g16
V29407
p35704
stp35705
a((dp35706
g2
(lp35707
VThere are no risks
p35708
aVJust possible programmer's errors
p35709
aVOne error I can think of is to forget to url encode parameters sent to the server and it gets the wrong values
p35710
aVBut the real security risk is in the server side code, not javascript
p35711
as(dp35712
g16
V29407
p35713
stp35714
a((dp35715
g2
(lp35716
VYes it is taken from the route
p35717
aVIt is dangerous because if you rename this property on the Person class your code might break
p35718
aVAlso if you change the route the same might happen
p35719
aVAnd to answer your second question
p35720
aVAssume the following form:
p35721
aVIn this case the Id will be taken from the POST request and not the route
p35722
as(dp35723
g16
V29407
p35724
stp35725
a((dp35726
g2
(lp35727
VThis works fine for me (you need to use  helper if you want to pass a lambda expression):
p35728
aVModel:
p35729
aVController:
p35730
aVView:
p35731
as(dp35732
g16
V29407
p35733
stp35734
a((dp35735
g2
(lp35736
VLooks like  doesn't work with  in IE
p35737
aVHave you tried using a normal submit instead:
p35738
as(dp35739
g16
V29407
p35740
stp35741
a((dp35742
g2
(lp35743
Vtry:
p35744
aVNotice the lowercase
p35745
as(dp35746
g16
V29407
p35747
stp35748
a((dp35749
g2
(lp35750
VUsing Rhino Mocks you can mock only interfaces, abstract classes (virtual methods in general)
p35751
aVSo abstract your network access code into interfaces and then mock them in order to unit test other classes depending on them in isolation
p35752
aVYou cannot unit test code that needs to connect to an FTP server in isolation
p35753
aVThat's no longer an unit test, it's an integration test and mocking cannot help you here
p35754
as(dp35755
g16
V29407
p35756
stp35757
a((dp35758
g2
(lp35759
VTo create a link using this route try using the  helper method:
p35760
aVwill produce  and navigate to the  action of  and pass  as the  parameter:
p35761
aVThis assumes the routes are registered like the following:
p35762
as(dp35763
g16
V29407
p35764
stp35765
a((dp35766
g2
(lp35767
VTry adding an:
p35768
aVto your form
p35769
as(dp35770
g16
V29407
p35771
stp35772
a((dp35773
g2
(lp35774
VMaybe you are using a third party assembly which relies on
p35775
aVMake sure this assembly is not referenced in your project either explicitly or implicitly
p35776
aVAlso normally the version of this assembly is 3
p35777
ag244
ag2721
ag2721
aVFrom the error message it seems that your project is using version 1
p35778
ag2721
aV61025
p35779
aV0 which is an old version
p35780
aVTry looking at every referenced assembly to see what uses this old version
p35781
aVYou might need to deploy it on the target server
p35782
as(dp35783
g16
V29407
p35784
stp35785
a((dp35786
g2
(lp35787
VYou could take a look at the OSVersion property
p35788
as(dp35789
g16
V29407
p35790
stp35791
a((dp35792
g2
(lp35793
VThat's how HTML helpers work and it's by design
p35794
aVWhen binding they will first look at the value in the GET/POST request to see if the value is present and after that in the model
p35795
aVIf a value is found in the request they will simply ignore the value you set in the model
p35796
aVNormally you are not supposed to modify the data sent in the request inside your controller action
p35797
aVBut if anyhow you decide to do it you will need to either roll your own helper or simply:
p35798
as(dp35799
g16
V29407
p35800
stp35801
a((dp35802
g2
(lp35803
VCode :
p35804
as(dp35805
g16
V29407
p35806
stp35807
a((dp35808
g2
(lp35809
s(dp35810
g16
V29407
p35811
stp35812
a((dp35813
g2
(lp35814
VThe first should work, just fix the function name which is  instead of :
p35815
as(dp35816
g16
V29407
p35817
stp35818
a((dp35819
g2
(lp35820
VProbably the application pool is configured to target CLR 2
p35821
ag2721
aVYou need to change it to target
p35822
aVNET 4
p35823
aV0:
p35824
aVAlso make sure
p35825
aVNET 4
p35826
aV0 is registered by running:
p35827
as(dp35828
g16
V29407
p35829
stp35830
a((dp35831
g2
(lp35832
VI don't think that this would be possible
p35833
aVThe Java VM is started by Internet Explorer when the Applet is loaded and IMHO you cannot modify this from the WebBrowser control
p35834
as(dp35835
g16
V29407
p35836
stp35837
a((dp35838
g2
(lp35839
VThis is not memory leak
p35840
aVIt's attaching  handler to a DOM element and is quite common
p35841
as(dp35842
g16
V29407
p35843
stp35844
a((dp35845
g2
(lp35846
VIt's because  returns object and you cannot compare object to string
p35847
aVYou might need to cast it to string (if  is of type string of course)
p35848
as(dp35849
g16
V29407
p35850
stp35851
a((dp35852
g2
(lp35853
VLooking at the  and  you are sending I have some doubts from ethics standpoint about what you are doing here
p35854
aVThis being said you may try to clean your code using WebClient:
p35855
aVIf this doesn't work then maybe, well, the server throttles multiple registration requests from the same IP
p35856
aVOf course you could always contact the provider and ask him whether this might be the case
p35857
as(dp35858
g16
V29407
p35859
stp35860
a((dp35861
g2
(lp35862
VIt's called iterated logarithm function
p35863
aVIt is a very slowly growing function
p35864
aVFor example:
p35865
aV/note that (2^65536) is much larger than the number of atoms in the observable universe/
p35866
aVOr in the case of Big O it could pretty much be considered as constant time
p35867
as(dp35868
g16
V29407
p35869
stp35870
a((dp35871
g2
(lp35872
VIt uses reflection which might be slower than normal type access
p35873
aVAnother drawback is that from looking at the method signature you see an object and for an eventual consumer of this method it might not always be evident as to what it has to put there because object can literally be anything:
p35874
aVWhen Intellisense shows:
p35875
aVyou really have to guess here unless it is pretty well documented (for example ASP
p35876
aVNET MVC HTML helpers use similar approach to build HTML attributes on DOM elements)
p35877
aVIt's a so much Rubyist approach that I like it :-) (optional arguments and hash tables)
p35878
as(dp35879
g16
V29407
p35880
stp35881
a((dp35882
g2
(lp35883
VYou cannot directly use
p35884
aVNET assemblies from unmanaged C++ code
p35885
aVOne possible solution is to expose the assembly as COM object using the regasm
p35886
aVexe utility and then consume it from C++
p35887
aVNote that
p35888
aVNET types that need to be exposed as COM objects might need to be decorated with the  attribute and would still require the
p35889
aVNET framework installed on the target computer running the C++ code
p35890
as(dp35891
g16
V29407
p35892
stp35893
a((dp35894
g2
(lp35895
VYou could take a look at MVC Futures Html
p35896
aVSerialize helper method which allows you to keep state into a hidden field between the controller actions in a similar way classic WebForms does it
p35897
as(dp35898
g16
V29407
p35899
stp35900
a((dp35901
g2
(lp35902
VThat would be a good candidate for custom HTML helper:
p35903
aVand in your view:
p35904
aVor using DisplayTemplates you don't even need to write a loop:
p35905
as(dp35906
g16
V29407
p35907
stp35908
a((dp35909
g2
(lp35910
VIf this is a WCF web service and a
p35911
aVNET 2
p35912
aV0 client generated with  for each value type in the method signature there will be a boolean parameter added called  which you need to set to
p35913
aVCheck this blog post for more details
p35914
as(dp35915
g16
V29407
p35916
stp35917
a((dp35918
g2
(lp35919
VSessions are specific to a given application
p35920
aVThere are workarounds that allow you to share the same session between multiple applications but IMHO this is not a good design
p35921
aVAnother approach would be to simply share an ID between those applications (either using a cookie or sending it as request parameter) and fetch the data from database
p35922
as(dp35923
g16
V29407
p35924
stp35925
a((dp35926
g2
(lp35927
VIf the view you are returning is strongly typed and uses the model it would be better to pass this model
p35928
aVIf you simply  and in the view you try to access the model you will most probably get a
p35929
aVThe following is a common pattern:
p35930
as(dp35931
g16
V29407
p35932
stp35933
a((dp35934
g2
(lp35935
VThe order in which the requests are sent using AJAX from the client is not necessary the order in which they will be received and you should never rely on that
p35936
aVOne possible solution would be to send the requests synchronously but this might not be a very good idea because it will freeze the UI while processing them and it kind of defeats the purpose of AJAX
p35937
as(dp35938
g16
V29407
p35939
stp35940
a((dp35941
g2
(lp35942
VTry the decodeURIComponent function:
p35943
as(dp35944
g16
V29407
p35945
stp35946
a((dp35947
g2
(lp35948
VFor type casting to work the types need to be compatible:
p35949
aVParsing is conversion between different types:
p35950
as(dp35951
g16
V29407
p35952
stp35953
a((dp35954
g2
(lp35955
VYou are sending the request as JSON but there's nothing in the server that understands or expects this format
p35956
aVYou have a controller action which expects  content type
p35957
aVTry this instead:
p35958
aVThis also has the advantage to take care of properly url encoding the parameters sent to the server which in your version using string concatenations wasn't achieved
p35959
as(dp35960
g16
V29407
p35961
stp35962
a((dp35963
g2
(lp35964
VIf you are using NUnit 2
p35965
aV4 / 2
p35966
aV5 you may checkout the collection constraints
p35967
as(dp35968
g16
V29407
p35969
stp35970
a((dp35971
g2
(lp35972
VI have everything installed on virtual machines (SQL server, app tier and build server) and it works very well
p35973
aVThere's no reason for not using a virtual machine for the app tier
p35974
ag8119
ag8120
aVFor the
p35975
aVchm file right click on its properties and there will be a button that says that this file was downloaded from the internet and you need to unblock it
p35976
as(dp35977
g16
V29407
p35978
stp35979
a((dp35980
g2
(lp35981
VThe documentation could be ambiguous or you are not using the correct method
p35982
aVHere's an example:
p35983
as(dp35984
g16
V29407
p35985
stp35986
a((dp35987
g2
(lp35988
VIf this is an
p35989
aVasmx web service then you will have no problems using
p35990
aVThe only problem is with your unit test
p35991
aVIt's never going to work because  is always
p35992
aVYou could use an abstraction : HttpContextBase which could be mocked in the unit test
p35993
aVIf it is a WCF web service then it is a whole different matter
p35994
as(dp35995
g16
V29407
p35996
stp35997
a((dp35998
g2
(lp35999
VTo set the value:
p36000
aVTo get the value:
p36001
as(dp36002
g16
V29407
p36003
stp36004
a((dp36005
g2
(lp36006
V2-tier architecture
p36007
as(dp36008
g16
V29407
p36009
stp36010
a((dp36011
g2
(lp36012
VIt closes all the connections opened by the calling process only
p36013
aVIt empties all the connection pools which are bound to the process
p36014
aVQuote:
p36015
aVConnection pool and connection string go hand in hand
p36016
aVEvery connection pool is associated with a distinct connection string and that too, it is specific to the application
p36017
aVIn turn, what it means is \u2013 a separate connection pool is maintained for every distinct process, app domain and connection string
p36018
as(dp36019
g16
V29407
p36020
stp36021
a((dp36022
g2
(lp36023
VMaybe you will find this article helpful
p36024
aVYou may try the following expression
p36025
aVand the breakdown:
p36026
aV- contains at least 8 characters
p36027
aV- contains at least one digit
p36028
aV- contains at least one special character
p36029
as(dp36030
g16
V29407
p36031
stp36032
a((dp36033
g2
(lp36034
VYou will also notice that the TotalDays property is of type Double
p36035
as(dp36036
g16
V29407
p36037
stp36038
a((dp36039
g2
(lp36040
VAn immutable type cannot be changed once instantiated
p36041
aVFor example strings are immutable
p36042
aVEvery time you want to change the value of a string a new instance is created
p36043
as(dp36044
g16
V29407
p36045
stp36046
a((dp36047
g2
(lp36048
VYou can directly access the session inside the page method:
p36049
as(dp36050
g16
V29407
p36051
stp36052
a((dp36053
g2
(lp36054
VNo, the  is browser specific implementation
p36055
aVYou will need to roll your own title implementation using divs in order to personalize its aspect
p36056
as(dp36057
g16
V29407
p36058
stp36059
a((dp36060
g2
(lp36061
s(dp36062
g16
V29407
p36063
stp36064
a((dp36065
g2
(lp36066
VYou say that there's no exception with your code
p36067
aVThis means that the file is successfully opened for reading
p36068
aVI suspect that you are not reading anything from this , you are simply instantiating it and probably not releasing
p36069
aVMake sure you dispose this stream or you might leak handles
p36070
aVIf all you need to do is read the file contents you could use the ReadAllText method:
p36071
aVIf the file is not found you will get an exception
p36072
as(dp36073
g16
V29407
p36074
stp36075
a((dp36076
g2
(lp36077
VYou may take a look at the Path
p36078
aVGetFileName method:
p36079
as(dp36080
g16
V29407
p36081
stp36082
a((dp36083
g2
(lp36084
VIn case an exception inside a controller action the  attribute catches this exception and renders the  view
p36085
aVProblem is it sets the StatusCode to 500
p36086
aVWhen jQuery sees this status code it considers the request failed and doesn't even bother to show the contents
p36087
aVOn way to workaround this is to write a custom error handler attribute deriving from the standard one and overriding the OnException method by setting the status code to 200 when rendering the Error view
p36088
as(dp36089
g16
V29407
p36090
stp36091
a((dp36092
g2
(lp36093
VThe thing is that the part that follows the hash (#) is never sent to the server into the HTTP request so the server has absolutely no way of reading it
p36094
aVSo no need to waste time in searching for something that doesn't exist
p36095
aVYou could on the other hand tune your routes to generate links that contain the hash part so that client scripts can read it
p36096
as(dp36097
g16
V29407
p36098
stp36099
a((dp36100
g2
(lp36101
VDue to cross cross domain restrictions pure javascript crawlers are not common and practically feasible
p36102
aVYou might need to setup a server side script which will receive the address entered in the form, fetch the contents of the remote resource and parse the html to obtain the images
p36103
as(dp36104
g16
V29407
p36105
stp36106
a((dp36107
g2
(lp36108
VYou could capture this:
p36109
as(dp36110
g16
V29407
p36111
stp36112
a((dp36113
g2
(lp36114
VYou might need to add reference to the  assembly to your project:
p36115
as(dp36116
g16
V29407
p36117
stp36118
a((dp36119
g2
(lp36120
VWhat is the delirium before
p36121
aVIt looks like code from the end of the 90s
p36122
aVI would recommend you to simply use jQuery and not worry about cross browser issues:
p36123
aVRemark: the hardcoded form action looks ugly
p36124
aVYou should consider using HTML helpers to generate urls
p36125
as(dp36126
g16
V29407
p36127
stp36128
a((dp36129
g2
(lp36130
VOr to make this more elegant and avoid the spaghetti code you could write a custom html helper:
p36131
aVand then:
p36132
as(dp36133
g16
V29407
p36134
stp36135
a((dp36136
g2
(lp36137
VIf it is the legacy application handling the submission simply leave the form as is because the user will be redirected to this page anyways
p36138
aVWhen the time comes to migrate the search logic to ASP
p36139
aVNET MVC you may start worrying about user controls, controllers, etc
p36140
as(dp36141
g16
V29407
p36142
stp36143
a((dp36144
g2
(lp36145
VOf course you can
p36146
aVInclude the required installation package and then Process
p36147
aVStart, or even better: make a setup and deployment project for your application and set a launch condition to
p36148
aVNET 4
p36149
aV0 so that when someone tries to install it it will verify the presence of
p36150
aVNET 4
p36151
aV0 and if not ask to install it:
p36152
aVRemark: in the screenshot set
p36153
aVNET 4
p36154
aV0 as launch condition (step 4)
p36155
as(dp36156
g16
V29407
p36157
stp36158
a((dp36159
g2
(lp36160
VThe MIT license allows you to use it in a commercial project
p36161
aVThis is one of the most permissive type of licenses
p36162
as(dp36163
g16
V29407
p36164
stp36165
a((dp36166
g2
(lp36167
VHere's a sample plugin
p36168
as(dp36169
g16
V29407
p36170
stp36171
a((dp36172
g2
(lp36173
VThe first approach seems more correct because the db access logic shouldn't be mixed with validation
p36174
as(dp36175
g16
V29407
p36176
stp36177
a((dp36178
g2
(lp36179
s(dp36180
g16
V29407
p36181
stp36182
a((dp36183
g2
(lp36184
VStatic images are already cached by the browser
p36185
as(dp36186
g16
V29407
p36187
stp36188
a((dp36189
g2
(lp36190
VThis application requires
p36191
aVNET 3
p36192
aV5 to run as it references  assembly and more specifically the XDocument class in the  method
p36193
as(dp36194
g16
V29407
p36195
stp36196
a((dp36197
g2
(lp36198
VI would recommend you using a strongly typed control:
p36199
aVAnd then include the control in different places with different model:
p36200
aVand another place:
p36201
aVIf you need to modify the text using javascript wrap the user control by a div with specific id and use a class selector
p36202
as(dp36203
g16
V29407
p36204
stp36205
a((dp36206
g2
(lp36207
VIf you use a normal form post only inputs inside the form will be sent to the server
p36208
aVTo achieve what you are looking for you will need to submit the form using AJAX
p36209
aVExample:
p36210
aVAlso don't forget to give a name to the input field which is outside the form
p36211
as(dp36212
g16
V29407
p36213
stp36214
a((dp36215
g2
(lp36216
VThere's nothing built-in javascript
p36217
aVThere's a jQuery plugin that you might take a look at
p36218
as(dp36219
g16
V29407
p36220
stp36221
a((dp36222
g2
(lp36223
s(dp36224
g16
V29407
p36225
stp36226
a((dp36227
g2
(lp36228
VYou don't need to mock it
p36229
aVIf you already have a controller you can add a model state error when initializing your test:
p36230
as(dp36231
g16
V29407
p36232
stp36233
a((dp36234
g2
(lp36235
s(dp36236
g16
V29407
p36237
stp36238
a((dp36239
g2
(lp36240
VThe team foundation server used by a solution is hardcoded in the  file
p36241
aVYou will see a section similar to this:
p36242
aVYou also need to modify the TFS address in Team Explorer in Visual Studio
p36243
as(dp36244
g16
V29407
p36245
stp36246
a((dp36247
g2
(lp36248
VYou could use the  function:
p36249
as(dp36250
g16
V29407
p36251
stp36252
a((dp36253
g2
(lp36254
Vor if you want only the  elements with this class:
p36255
as(dp36256
g16
V29407
p36257
stp36258
a((dp36259
g2
(lp36260
VYes it is possible
p36261
aVEvery area has an independent routing registration file so you can still keep controllers and views as before
p36262
as(dp36263
g16
V29407
p36264
stp36265
a((dp36266
g2
(lp36267
VIn C# I usually prefix with  private fields but never local variables
p36268
aVThe rationale behind this is that when I need a private variable I type  and the Intellisense filters the list and it is easier to find
p36269
aVThis way I am also able to distinguish between private from local variables and I no longer need to type  for class fields but simply
p36270
as(dp36271
g16
V29407
p36272
stp36273
a((dp36274
g2
(lp36275
VIf you are using jquery 1
p36276
aV4 try this:
p36277
aVNotice the  flag
p36278
aVOr if you prefer to continue using :
p36279
as(dp36280
g16
V29407
p36281
stp36282
a((dp36283
g2
(lp36284
VIn both cases you are redirecting to the  action
p36285
aVSo make sure that  actually does something and most importantly in your  action look what value is fetched from the data store
p36286
aVI suspect that either the database is not updated or in your  action you are fetching a wrong value for your model
p36287
aVRemark: Instead of writing the ugly  and  pass your view model as argument to your controller action and let the model binder populate it from the request values
p36288
as(dp36289
g16
V29407
p36290
stp36291
a((dp36292
g2
(lp36293
VThe LINQ to Entities provider uses parametrized queries and is completely safe against SQL injection
p36294
as(dp36295
g16
V29407
p36296
stp36297
a((dp36298
g2
(lp36299
VHere's a sample you may try using AutoMap conventions and SQLite:
p36300
as(dp36301
g16
V29407
p36302
stp36303
a((dp36304
g2
(lp36305
VI would recommend you using the jquery form plugin which allows you to unobtrusively ajaxify your html forms
p36306
aVSo given those forms:
p36307
aVYou could ajaxify them:
p36308
as(dp36309
g16
V29407
p36310
stp36311
a((dp36312
g2
(lp36313
VYou could decorate the action you are posting to with the  attribute in order to accept dangerous characters:
p36314
aVAnd when the moment comes to show them on a page make sure you HTML encode them:
p36315
aVor using the new syntax in ASP
p36316
aVNET 4:
p36317
aVAlso if you are using ASP
p36318
aVNET 4 make sure you put the following in your web
p36319
aVconfig:
p36320
aVor the  attribute might not be taken into account
p36321
as(dp36322
g16
V29407
p36323
stp36324
a((dp36325
g2
(lp36326
VIt seems that you are calling dynamic forms is in fact an effort to convert anchor links into forms so that you can POST instead of GET
p36327
aVIn this case I would recommend you to generate the form directly on the server instead of bothering with emitting a link which you would later turn into a form using all this javascript in the  event:
p36328
aVSo instead of:
p36329
aVyou could directly:
p36330
as(dp36331
g16
V29407
p36332
stp36333
a((dp36334
g2
(lp36335
VIf your site runs in a web farm you might need to set the same machine keys on all servers or if the user switches server it might not be able to decrypt the authentication ticket
p36336
aVThe difference between  and  followed by  is that the first works also if cookies are disabled (in fact it uses a query string parameter to track authenticated users)
p36337
as(dp36338
g16
V29407
p36339
stp36340
a((dp36341
g2
(lp36342
VDon't use
p36343
aVI would recommend you using a view model and strongly type your view to this view model:
p36344
aVand then strongly type your view to  and:
p36345
as(dp36346
g16
V29407
p36347
stp36348
a((dp36349
g2
(lp36350
VShould work
p36351
aVJust make sure you clear the cache and delete any temporary downloaded files in Internet Explorer before running the code as  and IE both use the same cache
p36352
as(dp36353
g16
V29407
p36354
stp36355
a((dp36356
g2
(lp36357
VThread
p36358
aVSleep in the worker method
p36359
aVOf course this would be a waste of thread resources because while it is paused it is not doing any useful work and threads are meant to do useful work :-)
p36360
as(dp36361
g16
V29407
p36362
stp36363
a((dp36364
g2
(lp36365
VYou are writing to the console
p36366
aVMaybe your console is not configured properly to show certain characters
p36367
aVMake sure by debugging and storing the result into an intermediary variable
p36368
aVAlso the site you gave as example is completely messed up
p36369
aVThe web server sends  HTTP header and in the resulting HTML you see  which of course is completely incoherent
p36370
aVYou cannot expect an HTTP client to behave correctly when confronted to non-standard site, what you get is unexpected behavior
p36371
aVTry testing on some web site that respects a minimum of web standards
p36372
aVRemark: WebClient implements IDisposable, so make sure you wrap it in a using statement
p36373
aVUPDATE:
p36374
aVTo make it work with this particular site you may try downloading the response manually and specifying the correct encoding:
p36375
as(dp36376
g16
V29407
p36377
stp36378
a((dp36379
g2
(lp36380
VYou could use the GetFiles method which takes a wildcard mapping pattern and returns the files
p36381
aVIf you are using
p36382
aVNET 4
p36383
aV0 you could also use the EnumerateFiles method which returns an  instead of an array
p36384
aVOnce you get the files you could apply your filtering logic using LINQ extension methods to order the collection by file creation time and get the first element
p36385
as(dp36386
g16
V29407
p36387
stp36388
a((dp36389
g2
(lp36390
VYou can't achieve this using standard input control
p36391
aVCommon techniques include validating this on the server side or use some Flash upload control which allows more customizations
p36392
aVAlso bare in mind that verifying the file extension is a necessary but not a sufficient condition that a file is image
p36393
aVThere's nothing preventing the user from renaming an executable to  for example
p36394
as(dp36395
g16
V29407
p36396
stp36397
a((dp36398
g2
(lp36399
VCLR Profiler
p36400
as(dp36401
g16
V29407
p36402
stp36403
a((dp36404
g2
(lp36405
VYour first example is not valid JSON
p36406
aVThis is what you see in Visual Studio debugger which escapes the strings
p36407
aVWhat is actually sent is the second
p36408
as(dp36409
g16
V29407
p36410
stp36411
a((dp36412
g2
(lp36413
VOne way would be to use an HTML helper:
p36414
aVAnd in your view:
p36415
aVUPDATE:
p36416
aV@jfar's comment about the MVC paradigm is correct
p36417
aVHere's what you could do in practice to implement it
p36418
aVYou could define a base view model class that all your view models derive from:
p36419
aVand then write a custom action filter attribute which will execute after the action and set the property:
p36420
aVAnd the last part is to decorate the BaseController with this attribute:
p36421
aVFinally if your view is strongly typed to a model that derives from  you could directly use the  property:
p36422
aVProbably a bit more code than the HTML helper, but your consciousness about respecting MVC paradigm will be clear
p36423
as(dp36424
g16
V29407
p36425
stp36426
a((dp36427
g2
(lp36428
VActually not a jquery solution but datejs is a great framework for handling dates in javascript
p36429
as(dp36430
g16
V29407
p36431
stp36432
a((dp36433
g2
(lp36434
VThe action parameter should be called  instead of  (the same way it uis called in your route):
p36435
as(dp36436
g16
V29407
p36437
stp36438
a((dp36439
g2
(lp36440
VHow did you perform the benchmark
p36441
aVWas your site deployed on IIS in mode Release
p36442
aVDid you use the  section in your machine
p36443
aVconfig
p36444
aVAlso remember that ASP
p36445
aVNET MVC 3 is still under heavy development so you cannot expect it to be fully optimized yet
p36446
aVAt least wait until it hits RTM
p36447
as(dp36448
g16
V29407
p36449
stp36450
a((dp36451
g2
(lp36452
VIt hides the base method and the compiler will warn you about this
p36453
aVIf you want to override it you need to mark it as  in the base class or use the  keyword in the derived class method to indicate to the compiler that you know what you are doing and the hiding is intentional
p36454
as(dp36455
g16
V29407
p36456
stp36457
a((dp36458
g2
(lp36459
VThat's close to impossible using data annotations or it will require writing ugly code that relies on reflection, etc
p36460
aV(I think you get the point)
p36461
aVI would recommend you looking at the FluentValidation
p36462
aVIt has a good integration with ASP
p36463
aVNET MVC
p36464
aVHere's how your validation logic might look like:
p36465
aVYou will also benefit from having a separate validation layer which also could be unit tested in a very elegant way
p36466
as(dp36467
g16
V29407
p36468
stp36469
a((dp36470
g2
(lp36471
VIn the editor template provide an empty dropdown:
p36472
aVThen setup a controller action that will return the values:
p36473
aVAnd then populate the values using AJAX:
p36474
as(dp36475
g16
V29407
p36476
stp36477
a((dp36478
g2
(lp36479
VThe difference is optimizations that the compiler applies in Release mode
p36480
aVYou can place breakpoints if you have PDB files and by default they are generated even in Release mode
p36481
as(dp36482
g16
V29407
p36483
stp36484
a((dp36485
g2
(lp36486
VThe click event handler is already added to this link because you are using the  helper method
p36487
aVThis click event handler will cancel the default action and send an AJAX request to the address this link is pointing to
p36488
aVYou may try setting the OnBegin option
p36489
aVAnd if you use jquery in your project you could have a normal link (without all the javascript added to your markup by the  helper):
p36490
aVand then in a separate javascript file attach the click event handler:
p36491
aVThis way will achieve a clear separation between your markup and javascript files
p36492
aVAs javascript will be in separate files which will be cached by client browser you will reduce bandwidth
p36493
as(dp36494
g16
V29407
p36495
stp36496
a((dp36497
g2
(lp36498
VYou cannot expect opening the default program associated with PDF file browsing on the server
p36499
aVTry returning the file into the response stream which will effectively open it on the client machine:
p36500
aVAnd now navigate to
p36501
aVIf you want the PDF opening inside the browser instead of showing the download dialog you may try adding the following to the controller action before returning:
p36502
as(dp36503
g16
V29407
p36504
stp36505
a((dp36506
g2
(lp36507
VYes, if a method is not marked virtual or abstract it cannot be overridden
p36508
aVThe only exception is when declaring an interface method you don't need to use it because an interface method is virtual by definition
p36509
aVWhen you implement this interface you need to use virtual or abstract if you want to be able to derive from the class implementing the interface and be able to override the method
p36510
as(dp36511
g16
V29407
p36512
stp36513
a((dp36514
g2
(lp36515
VYou could use the  function:
p36516
aVor to avoid nested loops you could directly select the links and then fetch the parent  if needed:
p36517
as(dp36518
g16
V29407
p36519
stp36520
a((dp36521
g2
(lp36522
VAJAX calls are bound to the same origin policy meaning that you cannot invoke a web service which is situated on a different domain
p36523
aVThe browser will simply drop the request
p36524
aVOne possible solution would be to write a server side script on the same domain which will serve as bridge to the actual web service and then call this script
p36525
as(dp36526
g16
V29407
p36527
stp36528
a((dp36529
g2
(lp36530
VYou could use the jquery cookie plugin which simplifies cookie read/write operations
p36531
as(dp36532
g16
V29407
p36533
stp36534
a((dp36535
g2
(lp36536
VFirst let's start by fixing your action filter as currently the code looks bad and those castings might bring you headaches:
p36537
aVAnd the unit test:
p36538
aVRemark: Your action filter has a strong dependency on  class
p36539
aVThis is not good
p36540
aVA further improvement would be to abstract this functionality into an interface which would be injected into the constructor of the action filter
p36541
aVThis would allow you further separation of concerns between different layers of your application
p36542
as(dp36543
g16
V29407
p36544
stp36545
a((dp36546
g2
(lp36547
VI really don't understand the usefulness of your controller action but if you simply want it to return the same JSON string as it received as input you could use the  method:
p36548
as(dp36549
g16
V29407
p36550
stp36551
a((dp36552
g2
(lp36553
VTo avoid deterring your service code put the known types into web
p36554
aVconfig of the service:
p36555
aVIf you want to do it by code you need to use this attribute on the service interface and not on the operation method but I would prefer the declarative approach:
p36556
aVUPDATE:
p36557
aVI've put up a sample project illustrating the use of web
p36558
aVconfig to configure known types which is my preferred approach
p36559
aVAnd another sample project demonstrating the second approach
p36560
aVUPDATE 2:
p36561
aVAfter looking at your updated code with the Silverlight application client we notice the following definition:
p36562
aVNotice how the  method contains the known type attributes while the  method doesn't
p36563
aVIn fact those attributes should be placed on the service definition so that the class looks like this
p36564
aVAs this is an autogenerated class there could be a bug in the SLsvcUtil
p36565
aVexe and  as it exhibits the same behavior
p36566
aVPutting the known type attributes on their correct place solves the problem
p36567
aVThe problem is that this class is autogenerated by a tool and if you try to regenerate it from the WSDL it will mess up again
p36568
aVSo it seems that if you have the following service definition:
p36569
aVAnd the 3 data contracts used here are shared between the client and the server when importing the definition of the service, the method that returns a collection doesn't get the correct known type attributes in the generated client proxy
p36570
aVMaybe this is by design
p36571
as(dp36572
g16
V29407
p36573
stp36574
a((dp36575
g2
(lp36576
VHere's an example of sending a POST request that properly encodes parameters using   content type:
p36577
as(dp36578
g16
V29407
p36579
stp36580
a((dp36581
g2
(lp36582
VAny reason for not doing it the right way (after all we are in 2010)
p36583
aVDump MS AJAX where it belongs along with all the  helpers which depend on it and write proper code
p36584
aVWhile using MS AJAX in classic webforms could have been justified because of the UpdatePanels, etc
p36585
aVdoing it in a new ASP
p36586
aVNET MVC application today, especially after Microsoft have fully embraced jQuery, seems like a bad idea
p36587
aVSo after the rant here's my recommendation:
p36588
aVand then attach the submit handler unobtrusively using jquery in a separate file:
p36589
aVor using the excellent jquery form plugin:
p36590
aVBenefits of this approach:
p36591
aVUnobtrusive
p36592
aVClear separation between markup and javascript
p36593
aVCaching javascript files and decreasing bandwidth usage
p36594
aVBonus benefit: no headaches
p36595
as(dp36596
g16
V29407
p36597
stp36598
a((dp36599
g2
(lp36600
Vor if you want to generate directly a link:
p36601
aVYou can also specify the controller:
p36602
as(dp36603
g16
V29407
p36604
stp36605
a((dp36606
g2
(lp36607
V sends an AJAX GET HTTP request and returns immediately meaning that you cannot assign the result to a variable simply because the result is only available in the success callback (the anonymous function you are passing as second argument)
p36608
aVIn this callback you could call another functions and pass the data as variable
p36609
aVThat's just how AJAX works
p36610
aVThe  stands for asynchronous
p36611
as(dp36612
g16
V29407
p36613
stp36614
a((dp36615
g2
(lp36616
VHere's how it works: assuming no caching specified on the server side, by default GET requests will be cached by the browser and POST requests not cached unless you specify the  attribute when sending the AJAX requests which allows you to override the client caching strategy
p36617
aVNow on the server side you could decorate your controller action with the
p36618
aVwhich will allow you to define different caching strategies
p36619
aVYou could keep a cache on the server, on downstream proxy servers, or on the client
p36620
aVYou could also manage different expiration policies
p36621
aVSo let's illustrate this by an example:
p36622
aVAnd on the client side:
p36623
aVThe result of this controller action will be cached on the server for 10 seconds
p36624
aVThis means that the server will be hit on each request but the action won't be executed if there's a cached version and will directly served from this cache
p36625
aV10 seconds later from the first request which hit the controller action the cache will expire and the same process repeats
p36626
as(dp36627
g16
V29407
p36628
stp36629
a((dp36630
g2
(lp36631
VI would recommend you using POCO view models instead of those cluttered model classes
p36632
aVThey are not adapted to the view and are difficult to work with
p36633
aVTrying to bind to LINQ specific collections like  is not a good idea
p36634
aVThis being using an editor template might actually work but even if this works bear mind that it should be a temporary solution until you introduce proper view models
p36635
aVIn your main view replace the loop with this:
p36636
aVand then add a strongly typed partial view in :
p36637
aVNormally this should take care of generating correct input names, but to avoid people taking this as a good example: I repeat once again use proper view models
p36638
as(dp36639
g16
V29407
p36640
stp36641
a((dp36642
g2
(lp36643
VYou may take a look at this library
p36644
as(dp36645
g16
V29407
p36646
stp36647
a((dp36648
g2
(lp36649
VThere are many commercial products that might help you in this task
p36650
aVOne example is xheo
p36651
as(dp36652
g16
V29407
p36653
stp36654
a((dp36655
g2
(lp36656
VThis probably because you are targeting the Client Profile
p36657
aVTry changing to the full
p36658
aVNET Framework and you will be able to reference :
p36659
as(dp36660
g16
V29407
p36661
stp36662
a((dp36663
g2
(lp36664
VOne way to handle this is to append a custom HTTP header to indicate in which case we are falling:
p36665
aVAnd on the client side test this header:
p36666
aVThe benefit of this is that the custom HTTP header will always be set in the response no matter what content type you've returned
p36667
aVIt will also work with JSON, XML,
p36668
aVRemark 1: To avoid cluttering you controller action with all those  instructions you could write a custom  allowing you to directly specify the value of this header so that you simply
p36669
aVRemark 2: Remove this  attribute from the request because it makes my eyes hurt (in fact I think you meant )
p36670
as(dp36671
g16
V29407
p36672
stp36673
a((dp36674
g2
(lp36675
VProbably  files are served directly by IIS and never pass through the ASP
p36676
aVNET pipeline to verify authentication
p36677
aVThis is a common problem with IIS 6
p36678
aVYou might need to configure IIS to associate the  extension with the  filter
p36679
as(dp36680
g16
V29407
p36681
stp36682
a((dp36683
g2
(lp36684
VYou could save the stream to a temporary file and use the Image
p36685
aVFromFile method
p36686
aVOr simply don't embed the image, keep it as a file and load it from this file at runtime
p36687
as(dp36688
g16
V29407
p36689
stp36690
a((dp36691
g2
(lp36692
VYou cannot modify a collection on which you are iterating with a foreach
p36693
aVYou are calling the  method inside the  loop and I suspect that this  variable points to the same collection you are iterating over
p36694
aVIf this is not the case you may try locking on a private static field that you declare inside your form:
p36695
aVand then:
p36696
as(dp36697
g16
V29407
p36698
stp36699
a((dp36700
g2
(lp36701
Vi learnt that private members are available in sub class in c#
p36702
aVYou learned wrong
p36703
aVPrivate members are not accessible to subclasses
p36704
aVThey are visible only inside the current class (ignoring reflection of course)
p36705
aVOnly public and protected members are accessible in subclasses
p36706
aVHere's an article on MSDN which covers the different access modifiers
p36707
as(dp36708
g16
V29407
p36709
stp36710
a((dp36711
g2
(lp36712
VThe reason is that there's no Length method
p36713
aVIt's a property so you don't need the parentheses:
p36714
aVBut to make you code shorter:
p36715
as(dp36716
g16
V29407
p36717
stp36718
a((dp36719
g2
(lp36720
VTry decorating the  and  properties with :
p36721
as(dp36722
g16
V29407
p36723
stp36724
a((dp36725
g2
(lp36726
VHow to stop a static constructor from running in
p36727
aVNET
p36728
aVYou can't do this
p36729
aVStatic constructor will be invoked before any instance of the type is created or any static member is referenced
p36730
aVIt's called by the CLR and you have absolutely no control over the exact timing
p36731
aVSo the only way to avoid calling the static constructor is to never reference and using the type that contains this static constructor
p36732
aVWhy would you define a static constructor in the first place if you don't want it to be executed
p36733
aVPutting an  instruction into a static constructor is like taking a gun and shooting yourself into the leg
p36734
as(dp36735
g16
V29407
p36736
stp36737
a((dp36738
g2
(lp36739
VYou could pass the data as a request parameter:
p36740
as(dp36741
g16
V29407
p36742
stp36743
a((dp36744
g2
(lp36745
VYou shouldn't confuse session with authentication
p36746
aVIf you are using Forms Authentication a separate cookie will be used to track authenticated users
p36747
aVHere's a good article explaining how to enable cookieless forms authentication
p36748
aVYou could set the  attribute on the  element
p36749
as(dp36750
g16
V29407
p36751
stp36752
a((dp36753
g2
(lp36754
VMake sure that you generate a complete href attribute:
p36755
aVand then attach a click handler unobtrusively (don't mix markup and javascript):
p36756
as(dp36757
g16
V29407
p36758
stp36759
a((dp36760
g2
(lp36761
s(dp36762
g16
V29407
p36763
stp36764
a((dp36765
g2
(lp36766
VYou could use a class selector
p36767
aVjquery might greatly simplify your life here
p36768
aVSo you could apply a special class to the control:
p36769
aVand in your external javascript file once the DOM is ready you could reference the button using a class selector:
p36770
as(dp36771
g16
V29407
p36772
stp36773
a((dp36774
g2
(lp36775
VIn your editor template you should use strongly typed helpers ( and ) and you could get rid of magic strings and prefixes:
p36776
aVTo handle uploaded files you could add them either as view model properties or as action parameters:
p36777
as(dp36778
g16
V29407
p36779
stp36780
a((dp36781
g2
(lp36782
Vif i don't use virtual to a method, will it be available to derived class
p36783
aVYes the method will be available to any derived classes but you won't be able to override this method in a derived class and change its behavior
p36784
aVIn your example class  posses the  method because it derives from class  but cannot override it as the method is not virtual
p36785
aVAs a matter of fact your example won't even compile because you didn't specify a return type for the  method
p36786
aVAlso by not specifying an access modifier for the method,  will be assumed and you won't even be able to call the base method in derived classes (unless using reflection of course)
p36787
aV(after edit by @dtb the code will now compile)
p36788
as(dp36789
g16
V29407
p36790
stp36791
a((dp36792
g2
(lp36793
VDebugging and writing unit tests are two different things
p36794
aVIn theory your development should be driven by unit tests covering the different scenarios
p36795
aVYou could debug when you realize that something is wrong with your code and try to see the values of different variables in runtime, etc
p36796
aVSo basically you could debug only when something's wrong
p36797
as(dp36798
g16
V29407
p36799
stp36800
a((dp36801
g2
(lp36802
VThe id of a DOM element should be unique
p36803
aVYou are using an id selector  so this will apply to only a single button as there could be only a single element in your document with
p36804
aVYou could use a class selector instead:
p36805
as(dp36806
g16
V29407
p36807
stp36808
a((dp36809
g2
(lp36810
VTry the  function:
p36811
aV\u200b
p36812
aVjsfiddle demo
p36813
aVOnce you've got rid of the  attribute you could attach your own click handler
p36814
as(dp36815
g16
V29407
p36816
stp36817
a((dp36818
g2
(lp36819
VWell, this resembles JSON
p36820
aVYou could use JavaScriptSerializer
p36821
aVYou could also try the YAML format which is pretty human readable and there are some
p36822
aVNET libraries
p36823
as(dp36824
g16
V29407
p36825
stp36826
a((dp36827
g2
(lp36828
VThe problem is that I'd end up with a view model that looked like this
p36829
aVAutoMapper is a must to avoid writing exactly the code you posted
p36830
aVI would also recommend you watching the excellent put your controllers on a diet video from the creator of AutoMapper
p36831
aVAfter watching this video (and a bit of an effort from your side) your controller action will be reduced to a pretty one liner
p36832
as(dp36833
g16
V29407
p36834
stp36835
a((dp36836
g2
(lp36837
VYou can store any object your like even functions
p36838
aVFor an array:
p36839
aVor
p36840
as(dp36841
g16
V29407
p36842
stp36843
a((dp36844
g2
(lp36845
VYou could start by defining the model classes that will handle the response:
p36846
aVOnce you have them you simply call the service:
p36847
as(dp36848
g16
V29407
p36849
stp36850
a((dp36851
g2
(lp36852
VYou don't close the file stream in case of exception which might lead to the lock
p36853
aVMake sure you always dispose disposable resources by wrapping them in  statements:
p36854
aVSame stands true for the response and response streams
p36855
aVThey should be properly disposed
p36856
aVAlso you may consider using the WebClient class which has methods like DownloadFile and DownloadData which could make your life much easier
p36857
as(dp36858
g16
V29407
p36859
stp36860
a((dp36861
g2
(lp36862
VYour function has errors in it
p36863
aVYou have a closing  at the end and a  which is not necessary
p36864
aVIt should be:
p36865
aVNow if you use the Simple mode you won't have any problems
p36866
aVBe careful with the Advanced mode though as it might perform optimizations and remove this function if not used
p36867
as(dp36868
g16
V29407
p36869
stp36870
a((dp36871
g2
(lp36872
VSelect the text in Visual Studio XML editor and then CTRL+K+F to format the code
p36873
as(dp36874
g16
V29407
p36875
stp36876
a((dp36877
g2
(lp36878
VYes it will run fine if you have a higher version of the framework installed
p36879
aVIt is backwards compatible
p36880
aVBut in the end of 2010 there's very little sense in still keeping applications targeting
p36881
aVNET 1
p36882
aV*
p36883
aVYou could at least recompile them to target the
p36884
aVNET 2
p36885
aV0 if not
p36886
aVNET 3
p36887
aV5 or 4
p36888
ag2721
as(dp36889
g16
V29407
p36890
stp36891
a((dp36892
g2
(lp36893
VWhat happens if you move the  class declaration inside
p36894
as(dp36895
g16
V29407
p36896
stp36897
a((dp36898
g2
(lp36899
VRemove the  at the end after :
p36900
aVAlso the  function takes an object and not array as second argument:
p36901
as(dp36902
g16
V29407
p36903
stp36904
a((dp36905
g2
(lp36906
VNo, you absolutely cannot do this as you don't know in advance how much memory the operation will consume
p36907
aVIf anyhow you know exactly how much memory the operation will consume you could query the available system memory and make an approximation but don't rely on it
p36908
aVRemember that Garbage Collection is pretty indeterministic and might kick in at any moment messing up with your approximations
p36909
aVYou could get an OutOfMemoryException anytime
p36910
aVSo focus on writing quality code instead of this
p36911
as(dp36912
g16
V29407
p36913
stp36914
a((dp36915
g2
(lp36916
VYou gain 21 characters less code
p36917
aVAnd less code means less errors
p36918
aVAnd to gain even more you could use implicit variable type inference:
p36919
as(dp36920
g16
V29407
p36921
stp36922
a((dp36923
g2
(lp36924
VYou could JSON serialize it
p36925
aVThis way could could pass even more complex values and not worry about escaping simple quotes, double quotes, etc :
p36926
aVWriting an HTML helper to do this would be even better:
p36927
aVand then in your view:
p36928
as(dp36929
g16
V29407
p36930
stp36931
a((dp36932
g2
(lp36933
Vand then:
p36934
as(dp36935
g16
V29407
p36936
stp36937
a((dp36938
g2
(lp36939
VYou could use json2
p36940
aVjs:
p36941
as(dp36942
g16
V29407
p36943
stp36944
a((dp36945
g2
(lp36946
VWhy are you bothering with this method
p36947
aVUsing a view model passed as action argument is so much easier:
p36948
aVAnd in your action method:
p36949
as(dp36950
g16
V29407
p36951
stp36952
a((dp36953
g2
(lp36954
VIt is absolutely OK to use this static class as long as it is hidden and wrapped behind the repository as it is in your case
p36955
aVThis allows weaker coupling between the controller logic using the repository and the data access
p36956
aVThe static method you've shown seems perfectly reentrant which makes it thread safe
p36957
as(dp36958
g16
V29407
p36959
stp36960
a((dp36961
g2
(lp36962
VYou could use an HTML helper:
p36963
aVAssuming default routes this will generate the following link:
p36964
aVOr if you want to generate only the link you could use the Url helper:
p36965
as(dp36966
g16
V29407
p36967
stp36968
a((dp36969
g2
(lp36970
V is a databinding expression meaning that ASP
p36971
aVNET will look for a  property on the collection you are binding to
p36972
aVObviously such property doesn't exist as this is a local variable
p36973
as(dp36974
g16
V29407
p36975
stp36976
a((dp36977
g2
(lp36978
VI would prefer:
p36979
as(dp36980
g16
V29407
p36981
stp36982
a((dp36983
g2
(lp36984
VThe problem's definitely somewhere else
p36985
aVYou don't even need to initialize the  property to a new dictionary in your unit test
p36986
aVThe following program works fine:
p36987
as(dp36988
g16
V29407
p36989
stp36990
a((dp36991
g2
(lp36992
VYou can add parameters after the hash sign () without reloading the page using the  property
p36993
as(dp36994
g16
V29407
p36995
stp36996
a((dp36997
g2
(lp36998
VYou could call unmanaged functions using interop which modify the amount of available memory
p36999
aVAlso the JIT compiler might kick in at any moment to convert the IL to machine code and probably consume memory
p37000
aVAlso assuming that GC won't kick in is not something which you can actually assume if you use
p37001
aVNET, so any conclusion you draw starting from a wrong assumption will be wrong
p37002
aVSo to answer your question you cannot assume that memory will stay constant
p37003
as(dp37004
g16
V29407
p37005
stp37006
a((dp37007
g2
(lp37008
VYes it is safe to send and receive JSON from/to the server
p37009
aVYou only need to make sure to properly format and encode it
p37010
aVWhether it is good is subjective and will depend on your scenario
p37011
aVAs JSON is a common format for javascript it is used along with AJAX requests
p37012
as(dp37013
g16
V29407
p37014
stp37015
a((dp37016
g2
(lp37017
VNo it is not possible
p37018
aVWhen the assembly is compiled the class needs to be finished
p37019
as(dp37020
g16
V29407
p37021
stp37022
a((dp37023
g2
(lp37024
VIt is important to note that the order in which the properties will be iterated is arbitrary and shouldn't be relied upon
p37025
as(dp37026
g16
V29407
p37027
stp37028
a((dp37029
g2
(lp37030
VI am afraid there's no elegant way of doing this
p37031
aVYou could perform the following horrible hack to cheat the designer:
p37032
aVPersonally I never use the designer and would never do something like this in my code but if you really need to have this design view then it could be a solution
p37033
aVI mean you are working in an ASP
p37034
aVNET MVC project, you should be manipulating html, why care about the design view
p37035
aVLook at the price you should pay just to get the design view working, it's too expensive
p37036
aVIt's faster to hit CTRL+F5 in your favorite browser to see the result of your efforts than switching all the time between code and design view
p37037
as(dp37038
g16
V29407
p37039
stp37040
a((dp37041
g2
(lp37042
VYou could try using a type alias:
p37043
aVAnd then:
p37044
aVAnother possibility is to expand further your LINQ query and select some custom type you create after the grouping:
p37045
aVand Foo:
p37046
aVIf you don't care about lazy evaluation you could put a  at the end of your LINQ query and the return type becomes simply
p37047
as(dp37048
g16
V29407
p37049
stp37050
a((dp37051
g2
(lp37052
s(dp37053
g16
V29407
p37054
stp37055
a((dp37056
g2
(lp37057
VYes there will be an enormous security problem doing this
p37058
aVIf you don't encrypt the cookie anyone could replace the username you've stored with say for example Administrator (usually id=1) and send a request to the web server
p37059
as(dp37060
g16
V29407
p37061
stp37062
a((dp37063
g2
(lp37064
VThat seems like a bug in jquery ui 1
p37065
aV8
p37066
ag2925
aVHere's a simplified test case to reproduce the behavior
p37067
aVThe problem is that  class is not removed
p37068
as(dp37069
g16
V29407
p37070
stp37071
a((dp37072
g2
(lp37073
VYou could append the Content-Disposition header:
p37074
as(dp37075
g16
V29407
p37076
stp37077
a((dp37078
g2
(lp37079
VLooks like a good scenario for a custom model binder:
p37080
aVAnd in :
p37081
aVAlso make sure that the  property on your model is a nullable integer or the binder will crash if you try to bind it to an empty string
p37082
as(dp37083
g16
V29407
p37084
stp37085
a((dp37086
g2
(lp37087
VNo, but you could try both when parsing:
p37088
as(dp37089
g16
V29407
p37090
stp37091
a((dp37092
g2
(lp37093
VI think the function should be  and not  (this sends an AJAX request):
p37094
aVAlso make sure you understand the distinction between  and
p37095
aVThe first will be triggered when the DOM is ready while the second when the DOM and all images are ready
p37096
as(dp37097
g16
V29407
p37098
stp37099
a((dp37100
g2
(lp37101
VWhen you open the project in Visual Studio, remove the reference of  and add a reference to
p37102
aVMake sure in web
p37103
aVconfig you don't have a binding redirect to v2
p37104
aV0 and if you do, remove it
p37105
aVYou should be good to deploy and run against MVC 1
p37106
ag2721
as(dp37107
g16
V29407
p37108
stp37109
a((dp37110
g2
(lp37111
VI would recommend you using the EnumerateFiles method:
p37112
aVor even better use the wildcard pattern to filter instead of filtering in-memory:
p37113
as(dp37114
g16
V29407
p37115
stp37116
a((dp37117
g2
(lp37118
VYou cannot upload an file without posting to the server
p37119
aVYou could also take a look at the jquery form plugin which allows you to AJAXify a form and supports file uploads as well (behind the scenes it uses a hidden iframe because files cannot be uploaded using AJAX)
p37120
as(dp37121
g16
V29407
p37122
stp37123
a((dp37124
g2
(lp37125
VMaybe something among the lines:
p37126
aVand in :
p37127
aVand in the controller:
p37128
aVAs you can see I use a standard form with a submit button to delete
p37129
aVIf you want to use AJAX it is very easy to generate a simple link and attach to the click event with jquery as you did in your example:
p37130
aVand finally progressively enhance the link:
p37131
aVYou can see those concepts in action in this sample project
p37132
as(dp37133
g16
V29407
p37134
stp37135
a((dp37136
g2
(lp37137
VYou could take a look at QUnit
p37138
aVNot sure whether it's or it will be endorsed by Microsoft but it's what's used to unit test the jquery framework itself
p37139
as(dp37140
g16
V29407
p37141
stp37142
a((dp37143
g2
(lp37144
VYou could use AJAX to fetch the array instead of putting it into the HTML, increase the delay and the required  before querying the server in order to reduce the matches
p37145
as(dp37146
g16
V29407
p37147
stp37148
a((dp37149
g2
(lp37150
VFirst step would be to convert your bit array into bytes and once you have an array of bytes you will need to choose a proper encoding and convert to a string which is an array of chars:
p37151
aVObviously you need to know the encoding of those bits in order to be able to convert to characters
p37152
aVIf you don't know the encoding you should reconsider what you are trying to do
p37153
as(dp37154
g16
V29407
p37155
stp37156
a((dp37157
g2
(lp37158
VYou are probably referring to field initializations:
p37159
aVEven this instruction runs inside the context of a method
p37160
aVIn this particular case it is the static constructor
p37161
aVIf the field is not static then it will be the normal constructor
p37162
as(dp37163
g16
V29407
p37164
stp37165
a((dp37166
g2
(lp37167
VAs the documentation states it: this option merges all the output assemblies from the compiler into a single assembly
p37168
aVThis setting is equivalent to the  option of the  command
p37169
aVRemember that web deployment project allows you to pre-compiles a web application
p37170
aVThis is to avoid having multiple temporary assemblies for the different aspx pages which is more common to web sites and not web applications
p37171
aVThis doesn't in any case merge with third party assemblies you are referencing in your site like class libraries
p37172
as(dp37173
g16
V29407
p37174
stp37175
a((dp37176
g2
(lp37177
VLet me suggest you a slight improvement on your code:
p37178
aVAnd when you need to create a list:
p37179
aVYou also need to make sure to properly dispose all disposable resources as in my example
p37180
as(dp37181
g16
V29407
p37182
stp37183
a((dp37184
g2
(lp37185
VYou shouldn't be using server controls like GridView in an ASP
p37186
aVNET MVC application
p37187
aVThose controls rely on ViewState and PostBack models which are a no-no in MVC
p37188
aVThere's no notion of data binding either
p37189
aVYour controller is passing a view model to the view (a list in this case) and the view has to render it
p37190
aVThere is a nice HTML helper in MVCContrib
p37191
aVGrid which you could use to display data in a table
p37192
aVIt also supports paging and sorting
p37193
aVIf you don't want to use third party helper methods you could loop through the model in your view and manually generate the  and  but this could be a tedious task
p37194
aVSo yes, back to the basics, back to the real world wide web
p37195
aVNo longer leaky abstractions such as WebForms
p37196
aVSo to conclude: in an ASP
p37197
aVNET MVC view  are forbidden
p37198
aVSimply remove them from the views
p37199
aVI would also recommend you going through the tutorials here
p37200
as(dp37201
g16
V29407
p37202
stp37203
a((dp37204
g2
(lp37205
VThis could indeed be some assembly version problem but if you are saying that changes to the views are taken into account it means that the application at least runs correctly
p37206
aVWhen you opened the project in VS 2010 it probably migrated it to ASP
p37207
aVNET MVC 2
p37208
aV0 (using )
p37209
aVIf you still want to use v1
p37210
aV0 remove the reference of this new assembly and add the older version
p37211
aVAlso make sure that there are no binding redirects in web
p37212
aVconfig
p37213
aVChanges made into controllers and models should be taken into account after recompiling the web application project
p37214
aVChanges to the views are taken into account immediately and no recompilation is needed
p37215
as(dp37216
g16
V29407
p37217
stp37218
a((dp37219
g2
(lp37220
VYou may checkout the PluralizationService class which is part of the
p37221
aVNET 4
p37222
aV0 framework:
p37223
aVIt is worth noting that only English is supported for the moment
p37224
aVWarning, this don't work on the Net Framework 4
p37225
aV0 Client Profile
p37226
aVYou could also write an extension method:
p37227
aVAnd then:
p37228
as(dp37229
g16
V29407
p37230
stp37231
a((dp37232
g2
(lp37233
VIf this validator class is intended to validate view models, then you should put it in the same project as the one containing your view models
p37234
aVAnother possibility is to externalize your view models into a separate assembly which you reference in  (the first approach seems better though)
p37235
aVYou shouldn't reference  in  in any case
p37236
as(dp37237
g16
V29407
p37238
stp37239
a((dp37240
g2
(lp37241
VYour question is not very clear
p37242
aVA form already contains parameters that will be sent to the controller action
p37243
aVSo as long as you include the id parameter either at the form action or inside the form, it's value will be sent
p37244
aVExample as route parameter:
p37245
aVAnd as input field:
p37246
as(dp37247
g16
V29407
p37248
stp37249
a((dp37250
g2
(lp37251
VYou could add the files to your view model:
p37252
aVAnd then:
p37253
as(dp37254
g16
V29407
p37255
stp37256
a((dp37257
g2
(lp37258
VYou can associate the return type of the stored procedure to some custom type: In
p37259
aVedmx design click on the imported stored procedure and set the function import name to SomeCustomName and select the return Type -> Entities -> SomeEntity
p37260
aVNow having the stored procedure return entity models you could map those models to a view model that is eventually returned to the view
p37261
aVIt is considered good practice to have view models tailored to the views instead of passing directly the SQL transport objects
p37262
as(dp37263
g16
V29407
p37264
stp37265
a((dp37266
g2
(lp37267
VNo, it is not true
p37268
aVASP
p37269
aVNET MVC builds on the top of ASP
p37270
aVNET so you have the same storage options like Application, Session, Cache,
p37271
aVIt is up to the developer to decide whether he wants to use session or not
p37272
aVSo if you use Session inside your ASP
p37273
aVNET MVC application the performance would be the same if you were using Session in a classic WebForms application
p37274
as(dp37275
g16
V29407
p37276
stp37277
a((dp37278
g2
(lp37279
VFirst you need to give an  name which can be used as variable:
p37280
aVAnd in your code behind you could use this variable:
p37281
as(dp37282
g16
V29407
p37283
stp37284
a((dp37285
g2
(lp37286
VASP
p37287
aVNET MVC is based on the Front Controller design pattern
p37288
aVClassic ASP
p37289
aVNET WebForms are based on an effort from Microsoft to bring Windows Forms event model to the web by hiding and abstracting many parts and you could apply the page controller pattern but out-of-the box it is not
p37290
as(dp37291
g16
V29407
p37292
stp37293
a((dp37294
g2
(lp37295
VI would recommend you leaving the connection handling to ADO
p37296
aVNET:
p37297
aVYou no longer need the  statement
p37298
aVYou could add  if you need to log something but make sure to propagate the exception and not consume it
p37299
as(dp37300
g16
V29407
p37301
stp37302
a((dp37303
g2
(lp37304
VI suspect your selector should be  because  is the  of the form
p37305
as(dp37306
g16
V29407
p37307
stp37308
a((dp37309
g2
(lp37310
VYou don't need to store the password
p37311
aVYou only need the username and if you make sure that it is properly encrypted it is OK to save it in a cookie
p37312
aVIt is important for the user to not be able tamper with the value and if he does the server should detect it
p37313
aVSHA1 for HMAC generation and AES for encryption are commonly used algorithms
p37314
as(dp37315
g16
V29407
p37316
stp37317
a((dp37318
g2
(lp37319
VYou could use reflection:
p37320
aVContrary to VB and VB
p37321
aVNET, C# doesn't support dynamic types until C# 4
p37322
ag2721
aVAs this is a COM object another possibility is to generate a strongly typed wrapper which will greatly simplify the usage: in the Add Reference dialog select the component from COM components tab or use the tlbimp
p37323
aVexe utility
p37324
as(dp37325
g16
V29407
p37326
stp37327
a((dp37328
g2
(lp37329
VBoth code snippets are absolutely equivalent and should work/not work the same
p37330
aVI suspect that the value of the  variable is not what you think it is inside your application
p37331
aVTry debugging
p37332
as(dp37333
g16
V29407
p37334
stp37335
a((dp37336
g2
(lp37337
VAFAIK JavaScriptSerializer doesn't require any HttpContext and works perfectly fine in a console application:
p37338
aVYou could also try Json
p37339
aVNET
p37340
as(dp37341
g16
V29407
p37342
stp37343
a((dp37344
g2
(lp37345
VYou may also try the Copy method:
p37346
as(dp37347
g16
V29407
p37348
stp37349
a((dp37350
g2
(lp37351
VYou are already preventing them: a 404 error is sent instead of a the real file
p37352
as(dp37353
g16
V29407
p37354
stp37355
a((dp37356
g2
(lp37357
VThe first thing that you should consider is the same origin policy restriction
p37358
aVIf you are not able to comply with it and your web service is not hosted on the same domain as the consuming AJAX script you may stop reading my answer here and rethink your architecture
p37359
aVIf you are still reading you could start by defining the service contract and implementation as usual:
p37360
aVThen you add a  file which will expose the service in IIS:
p37361
aVThe last line  is extremely important as this is what will allow you to use JSON
p37362
aVThe last part is web
p37363
aVconfig:
p37364
aVAnd finally an HTML page sending AJAX request to consume the service:
p37365
as(dp37366
g16
V29407
p37367
stp37368
a((dp37369
g2
(lp37370
VIf there is a better solution than SOAP
p37371
aVIf you are going to consume the API from javascript JSON is preferred
p37372
aVYou may checkout this example which illustrates how to expose a JSON enabled WCF service for consumption from jquery AJAX
p37373
as(dp37374
g16
V29407
p37375
stp37376
a((dp37377
g2
(lp37378
VYou answer is correct
p37379
aVSorting should be done at the database level
p37380
aVUsing  would mean that all the rows need to be fetched at the client and then sorted which might not be very efficient
p37381
aVOnce the results are fetched sorted from the database you could parse the string into a  to eventually show it formatted in the user interface
p37382
as(dp37383
g16
V29407
p37384
stp37385
a((dp37386
g2
(lp37387
VYou may take a look at Html Agility Pack and/or SgmlReader
p37388
aVHere's an example using  which selects all the nodes in the DOM containing some text:
p37389
as(dp37390
g16
V29407
p37391
stp37392
a((dp37393
g2
(lp37394
VCurrently there's no tooling support in #develop for ASP
p37395
aVNET MVC so don't expect , ,  and stuff like this
p37396
aVYou could work with ASP
p37397
aVNET projects in #develop using this plugin
p37398
aVBecause it uses MSBuild you won't have problems compiling an ASP
p37399
aVNET MVC application
p37400
as(dp37401
g16
V29407
p37402
stp37403
a((dp37404
g2
(lp37405
VTry using the same view model type as parameter that you used to render the view and to which it is strongly typed:
p37406
aVOr using a prefix:
p37407
as(dp37408
g16
V29407
p37409
stp37410
a((dp37411
g2
(lp37412
VObviously in order to avoid the spaghetti code it is always a good idea to write a helper:
p37413
aVAnd then:
p37414
as(dp37415
g16
V29407
p37416
stp37417
a((dp37418
g2
(lp37419
VTry selecting a razor file and in the properties make sure that  is set to
p37420
as(dp37421
g16
V29407
p37422
stp37423
a((dp37424
g2
(lp37425
VThere's no way to read the hash part of an URL (everything that follows the  sign) on the server side because this part is never sent to the server
p37426
aVThe only way to access it is on the client side, so you might need to read it using javascript and then send it to the server again using for example AJAX or setting it as a value of a hidden field that is part of a form that you submit to the server
p37427
as(dp37428
g16
V29407
p37429
stp37430
a((dp37431
g2
(lp37432
VYou could use the deep linking mechanism in Silverlight which is based on the hash part of the URL () to perform navigation without reloading the hosting page
p37433
as(dp37434
g16
V29407
p37435
stp37436
a((dp37437
g2
(lp37438
VOf course you shouldn't expect any type safety here as the resulting list is of type  at compile time
p37439
aVUsing  would be more practical but still limited type safety because the type of  is known only at runtime
p37440
as(dp37441
g16
V29407
p37442
stp37443
a((dp37444
g2
(lp37445
VYou don't need to install  on the server
p37446
aVYou could use it from a remote machine to call the service
p37447
aVIf your service uses an interoperable binding you could also take a look at SoapUI
p37448
as(dp37449
g16
V29407
p37450
stp37451
a((dp37452
g2
(lp37453
VIt depends on what url you are specifying in the  function
p37454
aVIf this url is not hosted on the same domain that executes the page containing this script won't work due to same origin policy restriction
p37455
aVOne possible workaround to make cross domain ajax calls is to use JSON-P if you have control over the server side script which is used in the  function
p37456
aVHere's the idea behind JSON-P:
p37457
aVYou provide a server side script hosted on Domain A which will return JSONP formatted response
p37458
aVDomain A is your domain for which you have full control
p37459
aVThis server side script could be called from Domain B using AJAX
p37460
aVLet's suppose that  returns the following response:
p37461
aVNow inside  you could call this script:
p37462
aVAll that is left is to tell the users include  script and provide a placeholder with  to host the results (you could even generate this placeholder in the success callback)
p37463
aVRemark: When using JSONP you are limited to GET requests only
p37464
aVThis means that there's a limit in the size of the request you can send
p37465
as(dp37466
g16
V29407
p37467
stp37468
a((dp37469
g2
(lp37470
VWhile Microsoft employees are probably the only ones that can answer why such helper method doesn't exist you could try:
p37471
aVModel:
p37472
aVController:
p37473
aVView:
p37474
aVAs you can see  will handle everything that's needed
p37475
as(dp37476
g16
V29407
p37477
stp37478
a((dp37479
g2
(lp37480
VHow about the following:
p37481
aVis an extension method to the  class defined in  (part of ASP
p37482
aVNET MVC futures)
p37483
aVNow it's much easier to unit test
p37484
aVYou don't even need to mock the context:
p37485
aVAnd if you use the excellent MvcContrib
p37486
aVTestHelper which I would strongly recommend you, the assert part of your unit test could look like this:
p37487
as(dp37488
g16
V29407
p37489
stp37490
a((dp37491
g2
(lp37492
VHow about:
p37493
aVAnd then:
p37494
as(dp37495
g16
V29407
p37496
stp37497
a((dp37498
g2
(lp37499
VHere's a html helper method you might try
p37500
aVIt sets the classname based on the current action:
p37501
aVAnd then apply the menu in your views:
p37502
aVNow if you navigate to  the first  will get the class  and if you navigate to  the second  will get this class
p37503
aVAll that is left now is to style those rules:
p37504
as(dp37505
g16
V29407
p37506
stp37507
a((dp37508
g2
(lp37509
VHere's a good article which covers different deployment scenarios
p37510
aVThere are no particular steps required when deploying to IIS 7 in integrated mode
p37511
aVYou don't need a  file and association of  with the  extension in your
p37512
aVHere's how your routes might look like if you want to handle both extensionless routes in IIS 7
p37513
aV0 and the  extension in IIS 6
p37514
ag2721
aVThe  extension is needed only for IIS 6
p37515
aV0:
p37516
as(dp37517
g16
V29407
p37518
stp37519
a((dp37520
g2
(lp37521
s(dp37522
g16
V29407
p37523
stp37524
a((dp37525
g2
(lp37526
VI would recommend you a db
p37527
aVWriting to files in a multi-user/multi-threaded application could be challenging and problems could arise if you don't synchronize the access to those files, not to mention transactional access if you ever needed such
p37528
aVThere are some lightweight NoSQL databases which could be extremely useful and easy to setup
p37529
aVWhatever you choose make sure to create abstractions over the data access layer so that you could easily switch later to another method like a SQL database if you will (after trying a NoSQL database you probably won't will :-))
p37530
as(dp37531
g16
V29407
p37532
stp37533
a((dp37534
g2
(lp37535
VI think you are missing the point of mock objects
p37536
aVReturning a mock from a concrete implementation makes no sense
p37537
aVThe idea is to have the class under test depend on some interface or abstract which you could mock
p37538
as(dp37539
g16
V29407
p37540
stp37541
a((dp37542
g2
(lp37543
VI would start by cleaning the markup and using proper elements to respect the HTML semantics
p37544
aVAnd the last thing is this submit button
p37545
aVIt seems that you are calling a javascript function which could be attached unobtrusively:
p37546
aVOr as this is a submit button you could use directly the submit event of the form this button belongs to
p37547
aVIf it doesn't belong to a form you shouldn't use a submit button
p37548
aVAll this is to say that if you are using ASP
p37549
aVNET MVC and jquery you could make better use of it
p37550
as(dp37551
g16
V29407
p37552
stp37553
a((dp37554
g2
(lp37555
VYou could use OnSuccess:
p37556
aVand then implement the function:
p37557
aVBy the way is there any reason for using the intrusive MS AJAX instead of jquery and normal :
p37558
aVAnd then in a separate js:
p37559
as(dp37560
g16
V29407
p37561
stp37562
a((dp37563
g2
(lp37564
VBecause you cannot upload files using AJAX I would recommend you the excellent jquery form plugin which allows you to ajaxify your forms and supports file uploads
p37565
aVBehind the scenes the plugin generates a hidden iframe to handle the upload and is completely transparent to you:
p37566
aVController:
p37567
aVAnd finally ajaxify the form:
p37568
aVAlso notice the usage of  instead of  in the controller action
p37569
aVBeing an abstract class this will simplify your unit tests
p37570
as(dp37571
g16
V29407
p37572
stp37573
a((dp37574
g2
(lp37575
VWell obviously you are trying to parse a string value to an integer which cannot be parsed to an integer
p37576
aVLook at what's actually sent to the server to understand why the value cannot be parsed as integer
p37577
aVFireBug is a useful tool for this
p37578
aVEspecially look for the  value in the request (is it present, what's the value)
p37579
aVYou could also use the TryParse method to avoid exceptions and handle the error gracefully
p37580
aVA better solution would be to use view models as action arguments and leave the parsing to the default model binder
p37581
aVThis way you could completely get rid of the code you've written as it would be handled by the binder
p37582
as(dp37583
g16
V29407
p37584
stp37585
a((dp37586
g2
(lp37587
VThe Json method already sets the proper content type so you don't need to repeat it:
p37588
aVBut from the behavior you are describing (Save As dialog) I suspect that the form is actually not posted using AJAX but a normal POST
p37589
aVThis could be due to the fact that the DOM was not ready when you applied the  function
p37590
aVMake sure that you are ajaxifying the form inside :
p37591
aVAlso if in your  callback you recreate the form in the DOM the  might no longer apply to it and the second time you try to submit it will perform a normal POST
p37592
as(dp37593
g16
V29407
p37594
stp37595
a((dp37596
g2
(lp37597
VYou cannot post to a SOAP web service method using html form
p37598
aVWhen you submit the form data is encoded using  while a web service expects a SOAP envelope and  content type
p37599
aVIn order to invoke the web service you will need to generate a proxy class from the WSDL and use this proxy class to call the desired method
p37600
as(dp37601
g16
V29407
p37602
stp37603
a((dp37604
g2
(lp37605
VMake sure you cancel the default action by returning  so that the browser doesn't follow the link
p37606
aVAlso instead of going through all this pain in javascript I would recommend you generating proper anchor links:
p37607
aVAnd simply ajaxify them:
p37608
as(dp37609
g16
V29407
p37610
stp37611
a((dp37612
g2
(lp37613
VYou could use SgmlReader to parse the DOM and extract all the anchor links and then  download the corresponding resources:
p37614
as(dp37615
g16
V29407
p37616
stp37617
a((dp37618
g2
(lp37619
s(dp37620
g16
V29407
p37621
stp37622
a((dp37623
g2
(lp37624
VI would recommend you to use a class selector to avoid the ASP
p37625
aVNET id mangling
p37626
aVSimply append a CssClass to your element and then:  or if you are using ASP
p37627
aVNET 4
p37628
aV0 you could adjust the ClientIDMode to
p37629
as(dp37630
g16
V29407
p37631
stp37632
a((dp37633
g2
(lp37634
VWhen you compile an application there might be errors and warnings which will be shown at the errors window
p37635
aVWhen you run the application errors will no longer be shown in Visual Studio but depending on how your application is organized it will either crash or handle them gracefully
p37636
aVAlso notice that if you try to run the application with F5 or Ctrl+F5 Visual Studio will try to compile it first and if there are compile-time errors and warnings they will be shown
p37637
as(dp37638
g16
V29407
p37639
stp37640
a((dp37641
g2
(lp37642
VBecause  class was introduced in
p37643
aVNET 2
p37644
aV0 and the designers of this class decided so
p37645
aVYou could use the  extension method:
p37646
as(dp37647
g16
V29407
p37648
stp37649
a((dp37650
g2
(lp37651
VNuPack Console requires PowerShell 2
p37652
aV0, so make sure that you have it installed
p37653
aVIf you are running this on Windows XP, this might not be the case
p37654
as(dp37655
g16
V29407
p37656
stp37657
a((dp37658
g2
(lp37659
s(dp37660
g16
V29407
p37661
stp37662
a((dp37663
g2
(lp37664
VIt is possible as long as you respect the same origin policy
p37665
aVFor cross domain AJAX you could use JSON/P or if you don't have control over the distant domain and it doesn't expose a  data you might need to setup a server side script on your domain that will act as a bridge between both domains
p37666
as(dp37667
g16
V29407
p37668
stp37669
a((dp37670
g2
(lp37671
VYou are overflowing the 32 bit integer type here by trying to store a value that cannot be represented by this type (2^31 - 1):
p37672
as(dp37673
g16
V29407
p37674
stp37675
a((dp37676
g2
(lp37677
VYou might need two routes for this because optional parameters could be only at the end of the route definition:
p37678
aVAnd to generate those links:
p37679
aVWhich will result in:
p37680
aVand proper action selected
p37681
as(dp37682
g16
V29407
p37683
stp37684
a((dp37685
g2
(lp37686
VMVC is a very good design pattern for developing applications
p37687
aVIt allows you clear separation between the views, the data access and processing logic which will result into more maintainable code
p37688
as(dp37689
g16
V29407
p37690
stp37691
a((dp37692
g2
(lp37693
VYou may start here
p37694
as(dp37695
g16
V29407
p37696
stp37697
a((dp37698
g2
(lp37699
VThe jquery validate plugin works by providing rules for input fields given their names
p37700
aVYou will need to provide both inputs when specifying your rules
p37701
aVAnother possibility is to do the following
p37702
aVInclude validation once:
p37703
aVand then add rules dynamically:
p37704
aVBecause you are including two partials you will end up with two calls to the  function for both input fields
p37705
as(dp37706
g16
V29407
p37707
stp37708
a((dp37709
g2
(lp37710
VWhat if the person name is
p37711
aVI think the best you can do here is to extract :
p37712
as(dp37713
g16
V29407
p37714
stp37715
a((dp37716
g2
(lp37717
VAssuming that you have stored the name, mime type and contents of each document into the database you could have a controller action which will serve a file given it's unique id:
p37718
aVThe Document model might look something like this:
p37719
aVAnd finally you could generate links to this action in your grid:
p37720
aVIf you don't have the content type and name of the document stored into the database you could pass them as action parameters:
p37721
as(dp37722
g16
V29407
p37723
stp37724
a((dp37725
g2
(lp37726
VYou could use the HMACSHA1 class to compute the hash:
p37727
as(dp37728
g16
V29407
p37729
stp37730
a((dp37731
g2
(lp37732
VYou could write a custom MSBuild task
p37733
as(dp37734
g16
V29407
p37735
stp37736
a((dp37737
g2
(lp37738
VYou could use the window
p37739
aVonbeforeunload event:
p37740
aVObviously you shouldn't attach this event systematically because it is very annoying from a user standpoint
p37741
aVYou should attach it only in case for example that the user has some unsaved work in order to warn him as StackOverflow does
p37742
as(dp37743
g16
V29407
p37744
stp37745
a((dp37746
g2
(lp37747
VContrary to PHP, C# is a statically typed language meaning that types need to be known at compile time
p37748
aVAlthough such method has been introduced in C# 4
p37749
ag2721
aVIt's the dynamic keyword
p37750
aVIt allows you to declare a variable of a dynamic type and call whatever method you like on it and the compiler won't protest
p37751
aVThe resolution will be done at runtime:
p37752
aVAnother more classic method is to use reflection but this could quickly turn into a nightmare
p37753
as(dp37754
g16
V29407
p37755
stp37756
a((dp37757
g2
(lp37758
VMake sure that you call the base method in Initialize:
p37759
aVAnd that you don't have an  action in the base controller as you already do in the child controller
p37760
aVI've just tried your sample code and it worked as expected
p37761
as(dp37762
g16
V29407
p37763
stp37764
a((dp37765
g2
(lp37766
VI usually type  in the code editor and then press Tab twice
p37767
aVAnother possibility is to right click on the private field and  or Ctrl+R,E but the first method is more convenient for me
p37768
as(dp37769
g16
V29407
p37770
stp37771
a((dp37772
g2
(lp37773
VI don't see what a database has to do with unit testing
p37774
aVIf you are talking about integration testing that's whole other story but a unit test should never hit a database, so to answer your question: no, database default values do not break the spirit of unit testing
p37775
as(dp37776
g16
V29407
p37777
stp37778
a((dp37779
g2
(lp37780
VYou cannot detect whether a client supports or not those verbs
p37781
aVAlso for browsers that do not support  and  verbs in html forms you could use the HttpMethodOverride helper inside your form which will add a hidden field to the form which will instruct the runtime to invoke the proper controller action despite the fact that under the covers a  request is sent
p37782
aVwhich will call the action decorated with :
p37783
aVThe important thing here is that a controller shouldn't care or depend about what verbs the client supports
p37784
aVIf you design your controllers in a RESTful manner using proper verbs and names there are techniques as the one shown here that allow clients that do not support  and  verbs to still invoke those actions
p37785
as(dp37786
g16
V29407
p37787
stp37788
a((dp37789
g2
(lp37790
VYou could append an additional parameter to the sort action which is  or whatever you use in your pager to track the current page and when generating this link set the parameter value to
p37791
aVAlso make sure that on the server side in the sorting action you are specifying the proper range when paging the data source ()
p37792
as(dp37793
g16
V29407
p37794
stp37795
a((dp37796
g2
(lp37797
VBy default
p37798
aVNET marshals between C++ BOOL (4 bytes) and
p37799
aVNET bool type automatically
p37800
aVFor the C++ bool (single byte) type you need to specify how to marshal:
p37801
as(dp37802
g16
V29407
p37803
stp37804
a((dp37805
g2
(lp37806
VC# native XML parser XmlReader doesn't support SAX and is forward-only
p37807
aVYou may take a look at this article presenting some specific points about it
p37808
aVYou could simulate a SAX parser using XmlReader
p37809
aVIf it doesn't suit your needs you could also use XDocument which is a different API for working with XML files in
p37810
aVNET
p37811
aVSo to conclude there's no push XML parser built into
p37812
aVNET framework so you might need to use a third party library or COM Interop to MSXML to achieve this if you really need an event driven parser
p37813
as(dp37814
g16
V29407
p37815
stp37816
a((dp37817
g2
(lp37818
VThe typeof operator returns a string indicating the type of the operand
p37819
as(dp37820
g16
V29407
p37821
stp37822
a((dp37823
g2
(lp37824
s(dp37825
g16
V29407
p37826
stp37827
a((dp37828
g2
(lp37829
VHere's what you could do
p37830
aVAs always start with a model:
p37831
aVThen in your controller action populate this model:
p37832
aVAnd finally in your view:
p37833
as(dp37834
g16
V29407
p37835
stp37836
a((dp37837
g2
(lp37838
VWhat do you mean by requesting port
p37839
aVIf it is the temporary port assigned by the OS I don't think that you have any control over it with WebRequest
p37840
aVIMHO it would be better to leave this management to the operating system or you could run into some conflicts with other applications
p37841
as(dp37842
g16
V29407
p37843
stp37844
a((dp37845
g2
(lp37846
VYou have a closing parenthesis that you need to remove:
p37847
aVThis being said I would recommend you using the strongly typed DropDownListFor helper method to generate dropdown lists:
p37848
aVAnd then use jquery to attach a change event handler unobtrusively:
p37849
as(dp37850
g16
V29407
p37851
stp37852
a((dp37853
g2
(lp37854
VWhile waiting for the final release which will have full Visual Studio integration and Intellisense with the Razor view engine you may checkout this blog post and especially the section: Changing The Default Build Action For a File-Type
p37855
as(dp37856
g16
V29407
p37857
stp37858
a((dp37859
g2
(lp37860
VHandling such characters in ASP
p37861
aVNET is a real PITA
p37862
aVYou may checkout this or base64 encode it
p37863
as(dp37864
g16
V29407
p37865
stp37866
a((dp37867
g2
(lp37868
VIt doesn't make any sense to set cache headers on 404 pages because if later an image with this id added to the database the user would still be getting 404s
p37869
aVMaybe you should try to understand why does FireFox sends 3 requests to this url
p37870
as(dp37871
g16
V29407
p37872
stp37873
a((dp37874
g2
(lp37875
VYou could set command line arguments in the properties of the project:
p37876
as(dp37877
g16
V29407
p37878
stp37879
a((dp37880
g2
(lp37881
VThe library contains a header indicating that it is managed code
p37882
aVAlso the actual machine code is produced by the JIT compiler dynamically at runtime
p37883
as(dp37884
g16
V29407
p37885
stp37886
a((dp37887
g2
(lp37888
VGiven that this is an intranet site
p37889
aVand the possibility of a deliberate
p37890
aVattack is almost non-existant, is
p37891
aVthere really any risk to not using
p37892
aVHtml
p37893
aVEncode
p37894
aVYes, yes and yes again
p37895
aVThere's always a risk by someone entering special characters in input fields
p37896
aVThe golden rule of web development is never trust user input and always encode anything that might come from an user input
p37897
as(dp37898
g16
V29407
p37899
stp37900
a((dp37901
g2
(lp37902
VYou can't do this using javascript
p37903
aVThe model is instantiated by the controller and passed to the view
p37904
aVIf you want to modify some properties you will need to perform a request to a controller action and send the new values
p37905
aVThis could be done either using a standard form or AJAX request
p37906
as(dp37907
g16
V29407
p37908
stp37909
a((dp37910
g2
(lp37911
VYou may take a look at a sample project structure I've written and an accompanying blog post illustrating those frameworks among others
p37912
as(dp37913
g16
V29407
p37914
stp37915
a((dp37916
g2
(lp37917
VYou could hide the footer using javascript and show it when a button is clicked:
p37918
as(dp37919
g16
V29407
p37920
stp37921
a((dp37922
g2
(lp37923
VController
p37924
aVOnException() doesn't have an easy way to identify what kind of result the client is expecting
p37925
aVYou could use the  request header which standards respectful clients send to indicate what content types they support and expect in return
p37926
aVFor example if you are using  method it will send the following header:
p37927
aVAs you can see  is the preferred format here and you could use this information in your controller
p37928
as(dp37929
g16
V29407
p37930
stp37931
a((dp37932
g2
(lp37933
VThat's a common problem people encounter when they try to use their business models in the views and the reason for this is that business models are closer to the business and the view is closer to the application (it's just a representation of this business model)
p37934
aVToday you have two screens, tomorrow maybe three
p37935
aVFor this reason I would recommend you using view models which reflect a given view
p37936
aVSo in your case you could have two view models for each view and populate them from the same business model
p37937
aVValidation attributes could be placed on view models
p37938
aVTo avoid boilerplate code in converting between your business models and your view models you could use AutoMapper
p37939
as(dp37940
g16
V29407
p37941
stp37942
a((dp37943
g2
(lp37944
VYou could write a method which allows you to provide the instance of the controller:
p37945
aVAnd then in your unit test:
p37946
aVThe requirement is that the controller should be a mock object which in my opinion is not a very clean approach (testing a mocked object)
p37947
aVYou could create it like this:
p37948
aVNotice how dependencies are passed to the constructor
p37949
as(dp37950
g16
V29407
p37951
stp37952
a((dp37953
g2
(lp37954
VAs explained in the breaking changes if you are using ASP
p37955
aVNET 4
p37956
aV0 make sure you add the following to your web
p37957
aVconfig:
p37958
as(dp37959
g16
V29407
p37960
stp37961
a((dp37962
g2
(lp37963
VIf you are using IIS 7
p37964
aV0 integrated mode to host your application  might not be initialized in  so if you are trying to access it there it will crash
p37965
as(dp37966
g16
V29407
p37967
stp37968
a((dp37969
g2
(lp37970
VMaybe a stupid question but was the service running when you attempted to add the service reference (if you are using the Visual Studio's built-in web server, was it started and the ASP
p37971
aVNET MVC project containing the service running)
p37972
aVAlso you may try giving the full address of the WSDL in the Add Service Reference dialog instead of selecting it from a list after verifying that this WSDL is accessible in your browser
p37973
as(dp37974
g16
V29407
p37975
stp37976
a((dp37977
g2
(lp37978
VI would recommend you using reentrant functions when possible which are thread safe by definition instead of using class fields:
p37979
as(dp37980
g16
V29407
p37981
stp37982
a((dp37983
g2
(lp37984
VIndeed the first step in optimizing is getting rid of the DataTables and introducing model objects
p37985
aVOnce this is done you could configure your service endpoint to use netTcpBinding for optimized binary transfer
p37986
aVRemember that this binding is not interoperable with non
p37987
aVNET clients so you could also have a  endpoint exposed in case you need this
p37988
aVAt the end of the day there should be only model objects involved in the exposed service methods (no DataTables and DataSets):
p37989
aVThis being said I would recommend you performing load tests and proving that this is a bottleneck for your application before trying to prematurely optimize it
p37990
as(dp37991
g16
V29407
p37992
stp37993
a((dp37994
g2
(lp37995
VYou shouldn't be using the  element in  to handle authorization in an ASP
p37996
aVNET MVC application as it might clash with your routes
p37997
aVThis is used in standard WebForms applications but it is considered bad practice in MVC
p37998
aVThe recommended way to handle this is to decorate your controllers/actions with the
p37999
aVSo get rid of all  elements in web
p38000
aVconfig and decorate
p38001
as(dp38002
g16
V29407
p38003
stp38004
a((dp38005
g2
(lp38006
VYou could use this method to convert the BiArray into a byte array:
p38007
aVAnd then:
p38008
as(dp38009
g16
V29407
p38010
stp38011
a((dp38012
g2
(lp38013
VThe problem seems to be related to the Code Coverage you activated
p38014
aVDisabling code coverage solves the issue
p38015
aVYou could put the following in your AssemblyInfo
p38016
aVcs:
p38017
aVand reactivate code coverage
p38018
as(dp38019
g16
V29407
p38020
stp38021
a((dp38022
g2
(lp38023
VWorks fine for me:
p38024
aVAs expected it prints:
p38025
as(dp38026
g16
V29407
p38027
stp38028
a((dp38029
g2
(lp38030
VI hope you don't expect VLC appearing on the client machine when you do a  on the server in an ASP
p38031
aVNET application
p38032
as(dp38033
g16
V29407
p38034
stp38035
a((dp38036
g2
(lp38037
VI would recommend you using a form instead of an action link
p38038
aVThis way the value entered in the textbox will be automatically sent to the server and you don't have to worry about javascript:
p38039
as(dp38040
g16
V29407
p38041
stp38042
a((dp38043
g2
(lp38044
VI would recommend you reading Brad Wilson's excellent blog post on this topic
p38045
aVBasically it uses reflection to ensure that proper attributes are applied to your model and rely on the framework to do its job
p38046
as(dp38047
g16
V29407
p38048
stp38049
a((dp38050
g2
(lp38051
VYou need to use javascript for this
p38052
aVHere's an example
p38053
aVSuppose you have the following view model:
p38054
aVwhich you would populate in your controller:
p38055
aVAnd the then the view which is strongly typed to this model:
p38056
aVThe last part is to register for the change event (using jquery in this example):
p38057
as(dp38058
g16
V29407
p38059
stp38060
a((dp38061
g2
(lp38062
VTry this:
p38063
aVThis declares a global javascript variable named  which contains the json object you could use everywhere in your scripts and you don't have to worry about replacing quotes or calling
p38064
aVYou could name this variable using the  parameter for example if you don't want it to be called
p38065
as(dp38066
g16
V29407
p38067
stp38068
a((dp38069
g2
(lp38070
VYou could pass an url address to XmlReader:
p38071
aVAnother possibility is to use XDocument:
p38072
aVAnd yet another possibility is to use a WebClient:
p38073
as(dp38074
g16
V29407
p38075
stp38076
a((dp38077
g2
(lp38078
VThis will replace only the first occurrence
p38079
aVIf you want to replace all occurrences:
p38080
aVExample:
p38081
aVshows:
p38082
as(dp38083
g16
V29407
p38084
stp38085
a((dp38086
g2
(lp38087
VPersonally I prefer to put them into separate assemblies
p38088
aVDuring continuous integration builds it is easier to distinguish between them because tools can be configured to execute all tests in a given assembly and you could for example want to run only unit tests or only integration tests which might take more time
p38089
as(dp38090
g16
V29407
p38091
stp38092
a((dp38093
g2
(lp38094
VWhy writing so much code when it can be simple:
p38095
as(dp38096
g16
V29407
p38097
stp38098
a((dp38099
g2
(lp38100
VYes you can
p38101
aVThe CLR 4
p38102
aV0 is backwards compatible with assemblies compiled against
p38103
aVNET 3
p38104
ag244
as(dp38105
g16
V29407
p38106
stp38107
a((dp38108
g2
(lp38109
VDue to same origin policy you cannot send AJAX requests to different domains than the one hosting your page
p38110
aVSo unless your page is hosted on  you cannot send an AJAX request to this domain
p38111
aVOne possible workaround is to setup a server side script on your domain which will act as bridge between  and the client or use JSONP if the distant domain supports it
p38112
as(dp38113
g16
V29407
p38114
stp38115
a((dp38116
g2
(lp38117
VI believe the reason for not being included in the  is because this assembly is part of the BCL and existed before ASP
p38118
aVNET MVC
p38119
aVBrad Wilson wrote a nice blog post covering model metadata in MVC which you might read
p38120
aVThis being said you could use the  attribute like this:
p38121
aVAnd in :
p38122
aVNow you can use  in your view and it will pick the custom template
p38123
aVOf course using  is preferred as it makes you write less code but in case you don't want to reference  in your project you still have the  workaround
p38124
as(dp38125
g16
V29407
p38126
stp38127
a((dp38128
g2
(lp38129
VYou could process files in parallel by reading each line and passing it to a processing function:
p38130
aVNow simply call :
p38131
aVPros of this approach:
p38132
aVFiles are processed in parallel => taking advantage of multiple CPU cores
p38133
aVFiles are read line by line and only the current line is kept into memory which reduces memory consumption and allows you to work with big files
p38134
as(dp38135
g16
V29407
p38136
stp38137
a((dp38138
g2
(lp38139
VIf you don't want to apply the layout return a  instead of :
p38140
as(dp38141
g16
V29407
p38142
stp38143
a((dp38144
g2
(lp38145
VASP
p38146
aVNET MVC running on the top of ASP
p38147
aVNET  still applies, so updating an ASP
p38148
aVNET MVC site is no different than updating a classic ASP
p38149
aVNET site
p38150
as(dp38151
g16
V29407
p38152
stp38153
a((dp38154
g2
(lp38155
VStart by replacing  with  in your view and give it an unique id so that you could attach handlers to it in javascript:
p38156
aVAnd then attach a click handler in a separate js file:
p38157
aVIf you just want to replace the contents of some div with the result of the AJAX request you could use the  function:
p38158
as(dp38159
g16
V29407
p38160
stp38161
a((dp38162
g2
(lp38163
VHere's one possibility:
p38164
aVand in :
p38165
aVand in the main view:
p38166
aVor yet another one:
p38167
aVand in your main view:
p38168
aVand in your css:
p38169
as(dp38170
g16
V29407
p38171
stp38172
a((dp38173
g2
(lp38174
VStatus no repro
p38175
aVYour problem is elsewhere and unable to determine where from what you've given as information
p38176
aVThe default model binder works perfectly fine with nested classes
p38177
aVI've used it an infinity of times and it has always worked
p38178
aVModel:
p38179
aVController:
p38180
aVView:
p38181
aVPosted values:  is perfectly bound in the POST action
p38182
aVSame works with GET as well
p38183
aVOne possible case when this might not work is the following:
p38184
aVNotice how the action parameter is called , same name as the  property
p38185
aVMake sure this is not your case
p38186
as(dp38187
g16
V29407
p38188
stp38189
a((dp38190
g2
(lp38191
V is a string because the  method returns a string which is the JSON representation of an html form
p38192
aVThe push method applies to arrays only:
p38193
as(dp38194
g16
V29407
p38195
stp38196
a((dp38197
g2
(lp38198
VI think it would be better to perform the task of querying an external web service in a controller action
p38199
aVThis way you would always submit the form to the same controller action which will query the service and based on the results would either render a view or redirect to some other action
p38200
as(dp38201
g16
V29407
p38202
stp38203
a((dp38204
g2
(lp38205
VThe  and  classes doesn't exist in the BCL so there's nothing you could reference
p38206
aVJust copy their definition from the article/blog post you read about them
p38207
as(dp38208
g16
V29407
p38209
stp38210
a((dp38211
g2
(lp38212
VWhen rendering the login page you could append a custom HTTP header to the response:
p38213
aVThen perform your AJAX call and check for the presence of this custom header in the success callback
p38214
aVAct accordingly if present
p38215
as(dp38216
g16
V29407
p38217
stp38218
a((dp38219
g2
(lp38220
VBecause C# programs cannot run in kernel mode (Ring 0)
p38221
as(dp38222
g16
V29407
p38223
stp38224
a((dp38225
g2
(lp38226
VIt's a generic method defined on the  class
p38227
as(dp38228
g16
V29407
p38229
stp38230
a((dp38231
g2
(lp38232
VIf you want to show the stacktrace:
p38233
aVor if you want only the message
p38234
as(dp38235
g16
V29407
p38236
stp38237
a((dp38238
g2
(lp38239
VAbsolutely the same
p38240
aVcalls  internally
p38241
aVFrom Reflector:
p38242
as(dp38243
g16
V29407
p38244
stp38245
a((dp38246
g2
(lp38247
VIf you want to get some values back in your POST action you need to POST them which is achieved using input fields:
p38248
as(dp38249
g16
V29407
p38250
stp38251
a((dp38252
g2
(lp38253
VYou shouldn't be JSON encoding the dates with  because the default model binder doesn't expect JSON
p38254
aVTry this:
p38255
as(dp38256
g16
V29407
p38257
stp38258
a((dp38259
g2
(lp38260
VIf your routes look like this:
p38261
aVthen  will call the  action on  controller and if you navigate to , the  action will be invoked on the same controller
p38262
as(dp38263
g16
V29407
p38264
stp38265
a((dp38266
g2
(lp38267
VHere's a very simple working example:
p38268
aVModel:
p38269
aVController:
p38270
aVView:
p38271
aVThe  is not included in the standard project template as it is part of the MVC Futures project (extract it from the source code)
p38272
aVOnce you've put this example into action and proved it to work you could start adding functionality
p38273
as(dp38274
g16
V29407
p38275
stp38276
a((dp38277
g2
(lp38278
VWhen rendering the action:
p38279
aVand the Formy action:
p38280
as(dp38281
g16
V29407
p38282
stp38283
a((dp38284
g2
(lp38285
VHere are some articles you might read:
p38286
aVASP
p38287
aVNET MVC: Using RESTful Architecture
p38288
aVRESTful Services With ASP
p38289
aVNET MVC
p38290
aVSimply Restful Routing in MVCContrib
p38291
as(dp38292
g16
V29407
p38293
stp38294
a((dp38295
g2
(lp38296
s(dp38297
g16
V29407
p38298
stp38299
a((dp38300
g2
(lp38301
VHere are a couple of suggestions:
p38302
aVImprovement number 1: use view models and strongly typed views instead of ViewData
p38303
aVand then in your view:
p38304
aVStill horrible and completely unreadable tag soup
p38305
aVImprovement number 2: use editor/display templates:
p38306
aVIn :
p38307
aVAnd then in your main view:
p38308
aVImprovement number 3: Avoid coding business rules in a view
p38309
aVSo in your view model add a property:
p38310
aVso that your display template now looks like this:
p38311
aVImprovement number 4: Write a custom HTML helper to render this anchor because writing C# in a view is still ugly and untestable:
p38312
aVand finally your display template:
p38313
as(dp38314
g16
V29407
p38315
stp38316
a((dp38317
g2
(lp38318
VUse  when you want to call the delegate asynchronously (on a thread drawn from the thread pool) and  if you want to call it synchronously
p38319
as(dp38320
g16
V29407
p38321
stp38322
a((dp38323
g2
(lp38324
VIt's an expression evaluation
p38325
as(dp38326
g16
V29407
p38327
stp38328
a((dp38329
g2
(lp38330
VTry specifying the culture and uiCulture in your web
p38331
aVconfig
p38332
aVAlso it would be better to use default model binder and action parameters instead of manually parsing dates:
p38333
as(dp38334
g16
V29407
p38335
stp38336
a((dp38337
g2
(lp38338
VYou could pass the  reference to the other class either in the constructor or the method you are calling
p38339
aVFor example:
p38340
aVor in the constructor:
p38341
as(dp38342
g16
V29407
p38343
stp38344
a((dp38345
g2
(lp38346
VYou could simply return a value from the function:
p38347
as(dp38348
g16
V29407
p38349
stp38350
a((dp38351
g2
(lp38352
VNow you can use the  global variable:
p38353
as(dp38354
g16
V29407
p38355
stp38356
a((dp38357
g2
(lp38358
VGo ahead and add all the necessary references
p38359
aVThey will automatically be removed by the compiler if never used in your code which will be the case thanks to the
p38360
aVAnother possibility is to provide two different  files referencing two different  files pointing to the same source code but different references
p38361
aVThere are many projects doing this:  and
p38362
as(dp38363
g16
V29407
p38364
stp38365
a((dp38366
g2
(lp38367
VIf you are using jquery 1
p38368
aV4 you might need to set the  parameter to  in order to be compatible with the default model binder format in ASP
p38369
aVNET MVC:
p38370
aVor if you prefer the  method:
p38371
as(dp38372
g16
V29407
p38373
stp38374
a((dp38375
g2
(lp38376
VNo, you cannot do this
p38377
aVFunctions cannot be JSON serialized
p38378
aVInstead of converting the object into JSON you could directly pass it to the other function without calling JSON
p38379
aVstringify
p38380
as(dp38381
g16
V29407
p38382
stp38383
a((dp38384
g2
(lp38385
VThe HtmlHelper class is for HTML output and not input, so I don't understand what do you mean by not doing a great job for user input sanitation
p38386
aVThere are different ways of doing input validation like data annotations or using some third party framework like FluentValidation
p38387
aVIf you are using a SQL database you should also make sure to avoid SQL injection by using prepared statements and parametrized queries
p38388
aVAlso when you need to show user input on the page you should always make sure to properly HTML encode it using <%=  or the newer syntax
p38389
as(dp38390
g16
V29407
p38391
stp38392
a((dp38393
g2
(lp38394
VYou could specify the path when including the editor template:
p38395
aVOr use the UIHint attribute on the model property
p38396
as(dp38397
g16
V29407
p38398
stp38399
a((dp38400
g2
(lp38401
VIt is difficult to answer your question without showing the code of the page or at least explaining what it does
p38402
aVFrom the url it seems that the page relies on the  parameter and tries to parse it to a Guid
p38403
aVYou need to test whether the ID parameter is passed and use it only in this case:
p38404
as(dp38405
g16
V29407
p38406
stp38407
a((dp38408
g2
(lp38409
VYou could pass a regular expression to the replace method and indicate that it should replace all occurrences like this:
p38410
as(dp38411
g16
V29407
p38412
stp38413
a((dp38414
g2
(lp38415
VYou could write a custom model binder for the  class which will encrypt the input values and directly provide an instance of the User class with encrypted values to the controller action
p38416
aVThis encryption could also be performed inside the controller action which is handling the submission of the form
p38417
as(dp38418
g16
V29407
p38419
stp38420
a((dp38421
g2
(lp38422
VUnit tests are run with the MSTest
p38423
aVexe utility
p38424
aVYou could execute it from MSBuild
p38425
as(dp38426
g16
V29407
p38427
stp38428
a((dp38429
g2
(lp38430
VThe closest you could get is the window
p38431
aVonbeforeunload event:
p38432
aVIt is important to note that you need to return a string from this function
p38433
as(dp38434
g16
V29407
p38435
stp38436
a((dp38437
g2
(lp38438
VI am not aware of any tool allowing to automatically do this because the Razor view engine is quite new and still in beta
p38439
aVThere's not yet Visual Studio support like Intellisense and syntax highlighting
p38440
as(dp38441
g16
V29407
p38442
stp38443
a((dp38444
g2
(lp38445
VTry setting the  in web
p38446
aVconfig (If you leave it to  the client browser culture will be used):
p38447
aVThis will force  culture format when the default model binder parses request values (adapt as necessary to the needed culture)
p38448
aVAlso having a  property typed to  is not a very good design
p38449
as(dp38450
g16
V29407
p38451
stp38452
a((dp38453
g2
(lp38454
VIf the hosting application domain is restarted all static values stored in memory will be lost
p38455
aVFor example in IIS the application could be unloaded by the web server
p38456
aVThe only solution to this is to save the values into a persistent storage instead of using static fields
p38457
as(dp38458
g16
V29407
p38459
stp38460
a((dp38461
g2
(lp38462
VThe problem is that controller and action parameter names are special because used in your routes and will take precedence when the default model binder tries to set their values
p38463
aVSimply rename them like this:
p38464
aVand render it:
p38465
aVNow you should get the correct parent action name
p38466
aVAlso if this action is intended to be used only as child action you could decorate it with the  attribute
p38467
as(dp38468
g16
V29407
p38469
stp38470
a((dp38471
g2
(lp38472
VIf you want to set the  attribute on the generated html anchor you should inverse the parameters
p38473
aVDon't be confused by  and  parameters
p38474
aVIf you want to pass title as query string parameter then your code is fine
p38475
aVThe reason you are getting an exception is unrelated to the  helper and is somewhere else
p38476
as(dp38477
g16
V29407
p38478
stp38479
a((dp38480
g2
(lp38481
VIf you want to calculate the sum of all the values you will need to first convert them to integer:
p38482
aVReference of useful functions:
p38483
aVparseInt
p38484
aVparseFloat
p38485
aVisNaN
p38486
as(dp38487
g16
V29407
p38488
stp38489
a((dp38490
g2
(lp38491
VA Java applet runs in the client browser and not on the server which explains why you cannot save files to the server
p38492
as(dp38493
g16
V29407
p38494
stp38495
a((dp38496
g2
(lp38497
VIf the iframe is hosted on a domain different than the parent domain you cannot manipulate it with javascript
p38498
aVTo submit the form from within the iframe you could use the submit method:
p38499
as(dp38500
g16
V29407
p38501
stp38502
a((dp38503
g2
(lp38504
VYou could use the Where extension method to filter the array:
p38505
aVor if you want to remove multiple elements you could use the Except extension method:
p38506
as(dp38507
g16
V29407
p38508
stp38509
a((dp38510
g2
(lp38511
VI suspect the problem comes from the fact that you are trying to call a web service using AJAX which is not hosted on the same domain as the calling script and thus you are violating the same origin policy
p38512
aVIf you want to be able to call  using AJAX, the calling script needs to be hosted also on
p38513
aVAs a possible workaround you could use a server side script acting as bridge hosted on the same domain as the client script or use JSONP if you have control over the web service
p38514
as(dp38515
g16
V29407
p38516
stp38517
a((dp38518
g2
(lp38519
VIt depends on what the target site expects as content type
p38520
aVIf it is  then a simple WebClient should do the job:
p38521
as(dp38522
g16
V29407
p38523
stp38524
a((dp38525
g2
(lp38526
VIf you use HTML helpers to generate those input tags then when rendering they will first look at the request parameters (POST and GET) and then the model and ViewData
p38527
aVThe condition for this is to have an action parameter with the same name
p38528
aVThe gotcha is that you cannot modify the value inside your controller action and it will always use the one passed as parameter
p38529
aVSo consider for example the following POST action:
p38530
aVwhich is posted to with
p38531
aVEven if you set the value to  the html helper will use  when rendering
p38532
as(dp38533
g16
V29407
p38534
stp38535
a((dp38536
g2
(lp38537
VIf i have N numbers of classes on each
p38538
aVof them i am declaring for example
p38539
aVproperty which contains some app
p38540
aVsetting values from config file
p38541
aVYou should consider having those N classes derive from a base class which contains this property:
p38542
aVthen if you want to have this property automatically populated by StructureMap you should no longer instantiate them manually but always ask the container for a value
p38543
aVFor example in a ASP
p38544
aVNET MVC application I would use constructor injection to pass the value of  to all the controllers that need it
p38545
as(dp38546
g16
V29407
p38547
stp38548
a((dp38549
g2
(lp38550
VUnfortunately I don't understand the language in the error message but I suspect the problem comes from the fact that the custom extension method you wrote is not brought into scope
p38551
aVThis means that you need to import the namespace into which the static class containing the method in the view (just after the  directive):
p38552
aVis the namespace into which you declared the static extensions class
p38553
aVThe assembly containing it should also be referenced into the web project if different
p38554
aVTo avoid importing this namespace in each view you would like to use the helper you could declare it in web
p38555
aVconfig:
p38556
as(dp38557
g16
V29407
p38558
stp38559
a((dp38560
g2
(lp38561
VYou could try setting the selected value:
p38562
aVAnd if you want to check if the value exists before (the  extension method will throw an exception if the value is not found):
p38563
as(dp38564
g16
V29407
p38565
stp38566
a((dp38567
g2
(lp38568
VHere's one way of doing it
p38569
aVYou could put the form in the editor template and override the id to some custom value so that it is unique:
p38570
aVAnd in your main view include the editor template for each element of the model:
p38571
aVThis will generate the following HTML:
p38572
aVAs you can see different ids are used for each input element but proper names so that the default model binder could get the values in the POST action:
p38573
aVObviously with this approach you might need to add some hidden input field in the editor template containing an unique identifier of the contact so that in your POST controller action you know which contact is being updated
p38574
as(dp38575
g16
V29407
p38576
stp38577
a((dp38578
g2
(lp38579
VThe YUI controls are plain javascript controls and are server agnostic meaning that they can be used with any server side technology as long as you format the results as expected
p38580
aVSo here's an oversimplified example of the data table control in action using AJAX and JSON to populate its data:
p38581
aVController:
p38582
aVand in the view:
p38583
aVThe datatable control is very powerful and contains many customizations like paging, sorting,
p38584
aVThe documentation is pretty extensive and is worth reading to see examples in action
p38585
aVArmed with FireBug you could look at the requests and response parameters being exchanged between the client and the server in order to replicate each example
p38586
as(dp38587
g16
V29407
p38588
stp38589
a((dp38590
g2
(lp38591
VAlso I wouldn't be catching , I would test if the value I am trying to access is not null before actually accessing it or use the null coalescing operator (
p38592
aVto make sure this exception never happens
p38593
aVCatching a general  should be avoided
p38594
aVIMHO you should do this only in some global exception handler because you can rarely handle the case of all possible exceptions every time you call a method
p38595
aVIn this case you should only catch some specific exceptions if any and take proper actions
p38596
as(dp38597
g16
V29407
p38598
stp38599
a((dp38600
g2
(lp38601
VYou are using a static field so chances are once it is loaded it never gets garbage collected, so unless you call the  method on this dictionary it probably won't be subject to garbage collection
p38602
as(dp38603
g16
V29407
p38604
stp38605
a((dp38606
g2
(lp38607
VYou could have a pricing repository which deals with calculations of prices
p38608
aVNow inject this repository into each controller which needs to calculate prices and use it in the actions
p38609
aVThis way you don't need any redirects, in each action which needs to work with prices simply call the appropriate method on your repository
p38610
as(dp38611
g16
V29407
p38612
stp38613
a((dp38614
g2
(lp38615
VAs always you could start by creating a view model:
p38616
aVthen a controller:
p38617
aVand finally a strongly typed view:
p38618
as(dp38619
g16
V29407
p38620
stp38621
a((dp38622
g2
(lp38623
VTry this:
p38624
aVNotice that we need to capture  in the outer foreach because in the inner it no longer points to the  element
p38625
aVFull working example:
p38626
aVModel:
p38627
aVController:
p38628
aVView:
p38629
as(dp38630
g16
V29407
p38631
stp38632
a((dp38633
g2
(lp38634
VI cannot reproduce the error
p38635
aVThe following works fine:
p38636
as(dp38637
g16
V29407
p38638
stp38639
a((dp38640
g2
(lp38641
VTry:
p38642
as(dp38643
g16
V29407
p38644
stp38645
a((dp38646
g2
(lp38647
s(dp38648
g16
V29407
p38649
stp38650
a((dp38651
g2
(lp38652
VIn C# a lambda expression uses  and not :
p38653
aVAlso instead of saying that you get an error, you could have posted the error message
p38654
aVIt would have been much more clear
p38655
as(dp38656
g16
V29407
p38657
stp38658
a((dp38659
g2
(lp38660
VR# and Visual Studio don't have support for custom view locations
p38661
aVImagine views stored in a database for example
p38662
aVYou could still write to the R# team and ask to implement this feature in the next version
p38663
as(dp38664
g16
V29407
p38665
stp38666
a((dp38667
g2
(lp38668
VBy passing an instance of the first form to the constructor of the second form (also make sure the method is public) or by externalizing this function in some other utility class which you would use from both forms
p38669
as(dp38670
g16
V29407
p38671
stp38672
a((dp38673
g2
(lp38674
VYou could use a FileSystemWatcher to get notifications from the file system
p38675
as(dp38676
g16
V29407
p38677
stp38678
a((dp38679
g2
(lp38680
VPut the correct number at  that corresponds to unique constraint violation (I don't know it from the top of my head)
p38681
as(dp38682
g16
V29407
p38683
stp38684
a((dp38685
g2
(lp38686
VThat's just how it is
p38687
aVYou can't do much about it
p38688
aVUsers are now accustomed to this behavior as it is consistent among famous internet sites like gmail, etc
p38689
aVso it shouldn't be much of a problem to them
p38690
as(dp38691
g16
V29407
p38692
stp38693
a((dp38694
g2
(lp38695
VYes you can create an extension method and put it in a class defined in the  namespace and then deploy the assembly in the GAC
p38696
aVOther projects could reference the assembly from the GAC and use the extension method
p38697
aVDo you think it useful
p38698
aVPersonally I hate the GAC and never use it for custom assemblies
p38699
aVI always prefer applications to be self contained but for people who use it, it could be nice
p38700
as(dp38701
g16
V29407
p38702
stp38703
a((dp38704
g2
(lp38705
VYou could use the Microsoft
p38706
aVWeb
p38707
aVAdministration assembly
p38708
aVHere's how you could set the framework version:
p38709
aVAnd here's how to set the managed pipeline mode to integrated:
p38710
as(dp38711
g16
V29407
p38712
stp38713
a((dp38714
g2
(lp38715
VThe only recommendation I could give you is to have view models specific to each view and have only the necessary properties and validation attributes on those view models
p38716
aVDon't worry if you repeat some validation attributes and properties on your view models
p38717
aVThat's what they are meant for: reflect the logic of a given view
p38718
as(dp38719
g16
V29407
p38720
stp38721
a((dp38722
g2
(lp38723
VHere's a blog post from Scott Hanselman that should give you some good directions
p38724
as(dp38725
g16
V29407
p38726
stp38727
a((dp38728
g2
(lp38729
VI created a basic unit test by just right clicking on the action in asp
p38730
aVnet mvc and saying Create unit tests
p38731
aVWhen you do this on an ASP
p38732
aVNET web application project (which is what MVC uses) Visual Studio will generate a ton of crap and will try to start the web server every time you want to run a single unit test
p38733
aVYou don't want this
p38734
aVHere are two possibilities:
p38735
aVWhen you start a new ASP
p38736
aVNET MVC project select that you want a unit test project in the default template (preferred)
p38737
aVYou already have an ASP
p38738
aVNET MVC project and you want to add unit tests to it
p38739
aVIn this case simply right click on the solution and add a new project of type Test Project
p38740
aVNow add reference to the ASP
p38741
aVNET MVC project you are testing and add a new unit test (Add New Item)
p38742
as(dp38743
g16
V29407
p38744
stp38745
a((dp38746
g2
(lp38747
VMake sure that the System
p38748
aVWeb
p38749
aVMvc assembly points to the correct version:
p38750
aVand that System
p38751
aVWeb
p38752
aVHelpers also:
p38753
aVIn Beta 3,  is a separate download so make sure you've installed
p38754
as(dp38755
g16
V29407
p38756
stp38757
a((dp38758
g2
(lp38759
VIIRC the MVCContrib Pager helper automatically appends all query string parameters to the page links in addition to the currentPage parameter
p38760
aVIf for some reason this doesn't happen you could use the Link method to create the link yourself:
p38761
as(dp38762
g16
V29407
p38763
stp38764
a((dp38765
g2
(lp38766
VDownload MVCContrib and here you go
p38767
aVYou can also take a look at Simply Restful Routing
p38768
as(dp38769
g16
V29407
p38770
stp38771
a((dp38772
g2
(lp38773
VSimply Restful Routing and if you want to handle different formats this blog post is worth checking
p38774
as(dp38775
g16
V29407
p38776
stp38777
a((dp38778
g2
(lp38779
VYou could add the following helper to the form:
p38780
aVThis will include a hidden field which will instruct the framework to invoke the proper controller action
p38781
aVNow there are two possibilities:
p38782
aVNormal html form submit: only POST is supported so this is what will be used but thanks to the hidden field the proper controller action will be invoked
p38783
aVAJAX: you could use any verb you want including DELETE to serialize the form input values and send them - no problem here
p38784
as(dp38785
g16
V29407
p38786
stp38787
a((dp38788
g2
(lp38789
VIn order to call a function you need to specify the type this function is declared on
p38790
aVIf all functions you are going to call are declared on a common class you could do the following:
p38791
aVIf the functions you are going to call are static you don't need an instance of the type:
p38792
as(dp38793
g16
V29407
p38794
stp38795
a((dp38796
g2
(lp38797
VWhy would the previous author have signed the assemblies in this way
p38798
aVNo idea, maybe he wanted all his assemblies to be signed with the same key
p38799
aVIs signing assemblies necessary and what would be wrong with not signing it
p38800
aVNo, it is not necessary but it is a mechanism allowing you to ensure the authenticity of an assembly
p38801
aVIt allows you to ensure that an assembly hasn't been tampered with and indeed it origins from this author
p38802
aVIt is also necessary if you want to put them into the GAC
p38803
aVWhat disadvantages are there in signing assemblies - does it cause delays
p38804
aVSigned assemblies can only load other signed assemblies
p38805
aVAlso they are tied to a specific version meaning that you need to use binding redirects or recompile the application if you wanted to use a different version
p38806
aVThere's a little performance overhead as well due to the verification of the signature but it is so little that you shouldn't be concerned about
p38807
as(dp38808
g16
V29407
p38809
stp38810
a((dp38811
g2
(lp38812
s(dp38813
g16
V29407
p38814
stp38815
a((dp38816
g2
(lp38817
VYou could use :
p38818
as(dp38819
g16
V29407
p38820
stp38821
a((dp38822
g2
(lp38823
VJSON is a string representation of an object
p38824
aVIt is an interoperable serialization format
p38825
aVIt is not tied only to javascript
p38826
aVFor example there are JSON serializers for
p38827
aVNET allowing you to serialize/deserialize
p38828
aVNET objects
p38829
aVSo it's just a format allowing you to convert from objects to string and back which is convenient if you want to transfer them over the wire
p38830
aVIt is very close to javascript object representation and if you simply  a JSON string you will get the corresponding object
p38831
as(dp38832
g16
V29407
p38833
stp38834
a((dp38835
g2
(lp38836
VLoad data in background and showing them in realtime
p38837
aVI am not really sure how to do that and I don't know what to do with filtering in this solution
p38838
aVThis is no help
p38839
aVIt will still consume much memory in the background thread
p38840
aVMaybe upgrade somehow streamreader
p38841
aVOr write own method for reading lines from file with binary readers
p38842
aVStill no help, once you read the whole file into memory it will, well, consume memory
p38843
aVI think you get the point
p38844
aVDon't load the whole file into memory
p38845
aVLoad only chunks of it
p38846
aVUse paging
p38847
aVYou cannot show 200MB worth of data on a single screen anyways, so only load the portion you need to show on the screen
p38848
aVSo basically you need to implement the following function:
p38849
aVThe Skip and Take extension methods could be helpful here
p38850
as(dp38851
g16
V29407
p38852
stp38853
a((dp38854
g2
(lp38855
VIf you are using forms authentication try setting the domain to  in the  element
p38856
as(dp38857
g16
V29407
p38858
stp38859
a((dp38860
g2
(lp38861
VSuppose that you have the  file embedded into the assembly
p38862
aVYou could use the GetManifestResourceStream method to obtain a stream pointing towards the contents:
p38863
aVThis way the contents of the file is read into memory
p38864
aVYou can also store it to the harddisk and then access by absolute path but this might not be necessary as you already have the contents of the file
p38865
as(dp38866
g16
V29407
p38867
stp38868
a((dp38869
g2
(lp38870
V must be declared either at the method level:
p38871
aVor at the containing class level:
p38872
aVBut be careful to not declare it at both places:
p38873
as(dp38874
g16
V29407
p38875
stp38876
a((dp38877
g2
(lp38878
s(dp38879
g16
V29407
p38880
stp38881
a((dp38882
g2
(lp38883
VWhen you create a strongly typed view, the controller action rendering this view needs to pass a model:
p38884
aVAnd in :
p38885
as(dp38886
g16
V29407
p38887
stp38888
a((dp38889
g2
(lp38890
VProbably a stupid question but did you include  and  in your site
p38891
aVRemember that with the default ASP
p38892
aVNET MVC 2
p38893
aV0 project template, only  is included in the  folder
p38894
aVAlso I would recommend you downloading the latest versions of jquery and the fullCalendar plugin
p38895
aVAlso here's another gotcha when returning JSON in the  action:
p38896
aVContrary to ASP
p38897
aVNET MVC 1
p38898
aV0, in ASP
p38899
aVNET MVC 2
p38900
aV0 the  is necessary if you want this action to be accessible over GET which is what I think the calendar plugin is doing
p38901
aVOf course you would have seen this error if you used FireBug to analyze the AJAX request/response data
p38902
as(dp38903
g16
V29407
p38904
stp38905
a((dp38906
g2
(lp38907
VIf you have strongly typed the editor template to  in your main view instead of:
p38908
aVyou could try:
p38909
aVand in your editor template:
p38910
as(dp38911
g16
V29407
p38912
stp38913
a((dp38914
g2
(lp38915
VFirst you need to add properties in your view model to hold selected artist and selected genre:
p38916
aVThen in your  view instead of:
p38917
aVYou could simply:
p38918
aVand in your editor template :
p38919
aVand in your editor template :
p38920
as(dp38921
g16
V29407
p38922
stp38923
a((dp38924
g2
(lp38925
VYou could try a regular expression validator:
p38926
as(dp38927
g16
V29407
p38928
stp38929
a((dp38930
g2
(lp38931
VWhat you are talking about is called javascript generators in the RoR world and there's no equivalent in the ASP
p38932
aVNET MVC world
p38933
aVHere's a blog post that illustrates the basics of implementing a Rails-like RJS for ASP
p38934
aVNET MVC (the blog post uses  but could be easily adapted to work with )
p38935
aVHere's another approach using jquery:
p38936
aVand to consume:
p38937
as(dp38938
g16
V29407
p38939
stp38940
a((dp38941
g2
(lp38942
VHow about:
p38943
as(dp38944
g16
V29407
p38945
stp38946
a((dp38947
g2
(lp38948
VThe plugin you are using expects  as response Content Type even if you are passing JSON
p38949
aVSo if you really want to use it you need to do this:
p38950
aVAs you understand that's crap
p38951
aVSo go ahead and download the jquery form plugin
p38952
aVIt's much easier to use
p38953
aVYou don't have to do anything in your HTML, it's totally unobtrusive
p38954
aVJust leave the form as is and in javascript simply:
p38955
aVAlso notice that in case of error you shouldn't return Javascript
p38956
aVYou always need to return Json from your controller action
p38957
aVSo in case of error:
p38958
aVand in case of success:
p38959
aVso now you can check whether there's an error by inspecting the  property on the returned JSON object:
p38960
as(dp38961
g16
V29407
p38962
stp38963
a((dp38964
g2
(lp38965
VMake sure that you HTML encode it and put single quotes around the parameter:
p38966
as(dp38967
g16
V29407
p38968
stp38969
a((dp38970
g2
(lp38971
VI would probably simplify both functions by using ReadAllBytes and WriteAllBytes:
p38972
aVand on the server:
p38973
as(dp38974
g16
V29407
p38975
stp38976
a((dp38977
g2
(lp38978
VMake sure you  from the form submit handler or the ajax call won't have time to execute:
p38979
as(dp38980
g16
V29407
p38981
stp38982
a((dp38983
g2
(lp38984
VFirstly display templates are just for displaying
p38985
aVIf you need to edit with drop down use editor template:
p38986
aVand in your editor template:
p38987
aVwhere MyDDLList is defined like:
p38988
aVand in your controller action you fill the values:
p38989
aVUPDATE:
p38990
aVHere's a complete working example:
p38991
aVModel:
p38992
aVController:
p38993
aVView ():
p38994
aVDisplayTemplate ():
p38995
as(dp38996
g16
V29407
p38997
stp38998
a((dp38999
g2
(lp39000
VYou can't do this,  is of type  and it will always call the  in this class
p39001
aVIt's how inheritance works
p39002
aVYou need an instance of BaseClass:
p39003
as(dp39004
g16
V29407
p39005
stp39006
a((dp39007
g2
(lp39008
VThe html helper always binds data based on the value property and not the text
p39009
aVAlso don't use ViewData and casts
p39010
aVI would recommend you doing this:
p39011
aVwhere the  property is populated in the controller:
p39012
as(dp39013
g16
V29407
p39014
stp39015
a((dp39016
g2
(lp39017
VYou could try setting the CommandTimeout property on your SqlCommand
p39018
aVI hope you are not doing this in an ASP
p39019
aVNET application
p39020
as(dp39021
g16
V29407
p39022
stp39023
a((dp39024
g2
(lp39025
VNo, there isn't anything like this
p39026
aVCSV is simply comma separated and contains only values
p39027
aVAlso it is not hierarchical like XML
p39028
as(dp39029
g16
V29407
p39030
stp39031
a((dp39032
g2
(lp39033
VThe model binder knows nothing about javascript
p39034
aVWhen binding action parameters it looks at the request sent to the server and binds properties using conventions
p39035
aVScot Hanselman blogged about some advanced binding conventions used by the binder
p39036
as(dp39037
g16
V29407
p39038
stp39039
a((dp39040
g2
(lp39041
VThere isn't Team Explorer for Mac
p39042
aVYou could try Team System Web Access
p39043
as(dp39044
g16
V29407
p39045
stp39046
a((dp39047
g2
(lp39048
VYou could use XDocument:
p39049
as(dp39050
g16
V29407
p39051
stp39052
a((dp39053
g2
(lp39054
VYou could use the RegisterStartupScript method:
p39055
aVBut for this kind of things probably it's better to use validation controls (can't say for sure as you haven't specified any context nor explained the logic)
p39056
as(dp39057
g16
V29407
p39058
stp39059
a((dp39060
g2
(lp39061
VYour test should be:
p39062
aVThe url is  and not
p39063
as(dp39064
g16
V29407
p39065
stp39066
a((dp39067
g2
(lp39068
VYou may take a look at GZipStream and/or DeflateStream
p39069
as(dp39070
g16
V29407
p39071
stp39072
a((dp39073
g2
(lp39074
s(dp39075
g16
V29407
p39076
stp39077
a((dp39078
g2
(lp39079
VYou need input fields in the display template:
p39080
aVAnd in your controller action indicate the User prefix so that the model binder is capable of correctly recognizing the request values and binding them to
p39081
aVAlso editor templates seems more appropriate () for generating forms and input fields instead of display templates
p39082
as(dp39083
g16
V29407
p39084
stp39085
a((dp39086
g2
(lp39087
VPlease don't tell me you are using regular expressions to validate urls when there's the Uri
p39088
aVTryCreate method
p39089
as(dp39090
g16
V29407
p39091
stp39092
a((dp39093
g2
(lp39094
VIn your main view instead of:
p39095
aVuse:
p39096
aVIt's equivalent but more readable
p39097
aVAs far as why the editor template is not rendered you used an UIHint attribute on your model
p39098
aVThis means that it will look for
p39099
aVMake sure this file is present at that location and contains the code you've shown in your update
p39100
as(dp39101
g16
V29407
p39102
stp39103
a((dp39104
g2
(lp39105
VLook at the generated HTML
p39106
aVNote down the name attribute of the hidden field
p39107
aVUse this name as action parameter name:
p39108
as(dp39109
g16
V29407
p39110
stp39111
a((dp39112
g2
(lp39113
VThere's the AddMinutes function
p39114
as(dp39115
g16
V29407
p39116
stp39117
a((dp39118
g2
(lp39119
Vis base64 encoded representation of the binary data
p39120
aVis hexadecimal
p39121
aVTo get the data back from the disk use XmlSerializer and deserialize it back to the original object:
p39122
aVBut if you only have the base64 string representation you could use the FromBase64String method:
p39123
aVRemark: make sure you always dispose disposable resources such as streams and text readers and writers
p39124
aVThis doesn't seem to be the case in your  method nor in the getter and setter of the  property
p39125
as(dp39126
g16
V29407
p39127
stp39128
a((dp39129
g2
(lp39130
VYou might also add some regex constraint in the  route token
p39131
as(dp39132
g16
V29407
p39133
stp39134
a((dp39135
g2
(lp39136
VBoth patterns allow you to write loosely coupled code
p39137
aVOut of the box ASP
p39138
aVNET WebForms is not MVP
p39139
aVYou need to make it
p39140
aVThere's even a framework which may simplify this task
p39141
as(dp39142
g16
V29407
p39143
stp39144
a((dp39145
g2
(lp39146
VYour  class is excellent
p39147
aVIt perfectly abstracts the HttpContext and allows unit testing
p39148
aVIt is safe to use
p39149
aVAs an improvement you could make this class non-static and instead of having a static  method you could inject the delegate into the constructor
p39150
aVThen all classes that need to work with the context (normally those should only be limited to your webform pages) could take an instance of
p39151
as(dp39152
g16
V29407
p39153
stp39154
a((dp39155
g2
(lp39156
VI would recommend you to use a view model and include properties needed by the view:
p39157
aVand do all the necessary projections in your controller:
p39158
aVAnd now your view will become much cleaner:
p39159
aVand a small display template for the review ():
p39160
aVFinally take a look at MVCContrib Grid and you won't regret it
p39161
as(dp39162
g16
V29407
p39163
stp39164
a((dp39165
g2
(lp39166
VInput elements with the  attribute never send their value to the server when the form is submitted
p39167
aVYou should use the  attribute instead:
p39168
as(dp39169
g16
V29407
p39170
stp39171
a((dp39172
g2
(lp39173
VIf you put the using inside the namespace they apply only to this namespace and not to other namespaces in the same file
p39174
aVThis allows you to do the following:
p39175
aVNotice how the Foo class is used inside the Foo namespace thanks to the  inside
p39176
as(dp39177
g16
V29407
p39178
stp39179
a((dp39180
g2
(lp39181
VIf you want to pass the value entered by the user into the query string you need to use javascript
p39182
aVRegister for the  event of the form and append it to the url
p39183
aVAnother possibility is to use the GET verb instead of POST which will automatically append it to the query string (but in this case you should use a different action name because you cannot have two actions with the same name and same verb)
p39184
as(dp39185
g16
V29407
p39186
stp39187
a((dp39188
g2
(lp39189
VAt the command prompt:
p39190
as(dp39191
g16
V29407
p39192
stp39193
a((dp39194
g2
(lp39195
VHere's a blog post you might find useful
p39196
as(dp39197
g16
V29407
p39198
stp39199
a((dp39200
g2
(lp39201
VWhat do you mean by another application
p39202
aVThe client can connect to a remote server port and if there's nothing listening to this port  will throw an exception
p39203
aVSo attempt to connect and catch the exception
p39204
aVIf the server application listening on this port doesn't talk the same protocol as the client an exception will be thrown when you try to send and read the data as it won't conform
p39205
aVAll these are exceptional cases
p39206
as(dp39207
g16
V29407
p39208
stp39209
a((dp39210
g2
(lp39211
VWhen you generate the LogOn link you need to pass the  query string parameter:
p39212
as(dp39213
g16
V29407
p39214
stp39215
a((dp39216
g2
(lp39217
VThe problem is that there's not yet an implementation of the Entity Framework for Mono
p39218
aVMaybe some day
p39219
aVCurrently there's no chance you compile this under Mono
p39220
as(dp39221
g16
V29407
p39222
stp39223
a((dp39224
g2
(lp39225
VYou could use the Split function:
p39226
aVor if you want to use a string as separator:
p39227
as(dp39228
g16
V29407
p39229
stp39230
a((dp39231
g2
(lp39232
VAnswer: NO
p39233
aVYou should always dispose disposable resources
p39234
aVIn the case of returning a stream from a method, the disposal should be done by the caller
p39235
as(dp39236
g16
V29407
p39237
stp39238
a((dp39239
g2
(lp39240
VHere's one
p39241
as(dp39242
g16
V29407
p39243
stp39244
a((dp39245
g2
(lp39246
VAlthough doing this doesn't make much sense because web crawlers which use this tag usually don't support javascript
p39247
as(dp39248
g16
V29407
p39249
stp39250
a((dp39251
g2
(lp39252
VAs long as your repositories are abstracted with interfaces you could use a mock object framework to generate a fake repository and inject it into the controller being tested
p39253
aVHere are some popular choices:
p39254
aVRhino Mocks
p39255
aVNSubstitute
p39256
aVMoq
p39257
as(dp39258
g16
V29407
p39259
stp39260
a((dp39261
g2
(lp39262
VSplit the large form into multiple forms
p39263
aVEach form will represent a different step
p39264
aVSplit your large model into multiple view models each corresponding to a given step
p39265
aVProgressively enhance with jquery if you wish to ajaxify the form submission and show/hide steps
p39266
as(dp39267
g16
V29407
p39268
stp39269
a((dp39270
g2
(lp39271
VFirst you need to define a property which will hold the selected country id on your view model:
p39272
aVAnd then:
p39273
as(dp39274
g16
V29407
p39275
stp39276
a((dp39277
g2
(lp39278
s(dp39279
g16
V29407
p39280
stp39281
a((dp39282
g2
(lp39283
VThrowing an exception will lead to status code = 500 which will invoke the error handler, so it should be enough
p39284
as(dp39285
g16
V29407
p39286
stp39287
a((dp39288
g2
(lp39289
VYou need to include the proper ODP
p39290
aVNET provider for your system and then use  and  types to create a connection and execute the stored procedure
p39291
aVODP
p39292
aVNET comes with extensive documentation and many examples
p39293
as(dp39294
g16
V29407
p39295
stp39296
a((dp39297
g2
(lp39298
VMake sure you have installed ASP
p39299
aVNET MVC 2 on your server
p39300
as(dp39301
g16
V29407
p39302
stp39303
a((dp39304
g2
(lp39305
VIt's really easy
p39306
as(dp39307
g16
V29407
p39308
stp39309
a((dp39310
g2
(lp39311
VYour view is a bit of a mess
p39312
aVYou are using editor templates along with partials for the first child
p39313
aVIt is not very clear what fields are included inside the form
p39314
aVI would recommend you using only editor templates:
p39315
aVModel:
p39316
aVController:
p39317
aVView:
p39318
aVEditor template for SimpleChild ():
p39319
aVNow if you want to have different editor templates for the two child properties you could either specify the editor template name when including it:
p39320
aVwhich corresponds to  or use an  attribute at your model:
p39321
aVMy recommendation is not to use  for generating input fields because their names will be hardcoded and won't bind properly depending on your objects hierarchy
p39322
as(dp39323
g16
V29407
p39324
stp39325
a((dp39326
g2
(lp39327
VJust make sure to allow GET requests when returning JSON in the  action because by default they are disabled:
p39328
aVI would recommend you using FireBug which allows you to see AJAX requests and possible error messages
p39329
aVIt's much easier to debug problems like this
p39330
as(dp39331
g16
V29407
p39332
stp39333
a((dp39334
g2
(lp39335
VHere are the registry keys
p39336
aVAlso if your application is targeting the full
p39337
aVNET 4
p39338
aV0 profile and this profile is not installed you will probably not go as far as checking the registry keys because your application won't run at all
p39339
aVSo this check is better to be done when deploying the application on the client machine as part of the setup and deployment project
p39340
aVYou could use a launch condition:
p39341
as(dp39342
g16
V29407
p39343
stp39344
a((dp39345
g2
(lp39346
VYou could use the RegisterStartupScript method from the code behind:
p39347
aVBut mixing javascript and c# code is a very clean approach
p39348
aVIt would be better to simply open the dialog from javascript on the client
p39349
as(dp39350
g16
V29407
p39351
stp39352
a((dp39353
g2
(lp39354
VWhat you are trying to achieve is not possible
p39355
aVYou need to specify both generic arguments or none of the them if inference is possible
p39356
as(dp39357
g16
V29407
p39358
stp39359
a((dp39360
g2
(lp39361
VBecause that's how it works
p39362
aVThis property tries to read cookies from the request but there isn't any because when the request was sent the client wans't yet authenticated
p39363
aVThe cookie is set and on successive client requests send to the server
p39364
aVAfter successfully authenticating an user you could redirect to the authenticated part of the site using
p39365
aVAnother possibility is to use directly the RedirectFromLoginPage method which performs two things: it emits the cookie and redirects to the page specified in the  tag
p39366
as(dp39367
g16
V29407
p39368
stp39369
a((dp39370
g2
(lp39371
VBy synchronizing both the methods which serialize and modify the object state
p39372
as(dp39373
g16
V29407
p39374
stp39375
a((dp39376
g2
(lp39377
VYou could achieve the same thing with the Razor view engine
p39378
aVModel:
p39379
aVController:
p39380
aVViews:
p39381
ag9596
ag9596
ag9596
aVNotice how the  editor template has been customized and the  used as master layout
p39382
as(dp39383
g16
V29407
p39384
stp39385
a((dp39386
g2
(lp39387
VNo, you cannot
p39388
aVYou need Visual Studio 2008 or later to target
p39389
aVNET 3
p39390
ag244
as(dp39391
g16
V29407
p39392
stp39393
a((dp39394
g2
(lp39395
VThis is not a common supported scenario with ASP
p39396
aVNET MVC
p39397
aVSilverlight applications are not intended to be used as views
p39398
aVYou could have normal views embedding a Silverlight application and setting properties based on the passed model, but posting values back to the controller wouldn't be easy
p39399
aVYou will need to use a WebClient in the Silverlight application to talk to the server
p39400
aVNot as easy as a plain html form with input fields and a submit button
p39401
as(dp39402
g16
V29407
p39403
stp39404
a((dp39405
g2
(lp39406
VThe  parameter is included in the  attribute of the form
p39407
aVWhen you are ajaxifying this form you are posting to  and no longer supplying this parameter
p39408
aVYou could do the following to ajaxify it:
p39409
aVAnother possibility is to include the  parameter inside the form as hidden field instead if putting it in the action attribute
p39410
as(dp39411
g16
V29407
p39412
stp39413
a((dp39414
g2
(lp39415
VIt seems that you have three different types all having the LangID property
p39416
aVI would make them derive from a common base class where this property is defined:
p39417
aVand then have a single method:
p39418
aVAn interface containing this property could also be used
p39419
aVIf you want to make it generic you could but you will still need a generic constraint to indicate a common base type if you want to use the  property:
p39420
as(dp39421
g16
V29407
p39422
stp39423
a((dp39424
g2
(lp39425
VThe model binder is not used in the view
p39426
aVIt is only used to bind request values to action parameters
p39427
aVHTML helpers are used in the view to generate input fields
p39428
aVSo it is those html helpers that might need to be customized to show the proper data from your model
p39429
as(dp39430
g16
V29407
p39431
stp39432
a((dp39433
g2
(lp39434
VEverything you need to achieve this is already included with the ASP
p39435
aVNET MVC 3
p39436
aV0 Beta 1 template
p39437
aVModel:
p39438
aVController:
p39439
aVView:
p39440
aVIf you want to do the same thing with ASP
p39441
aVNET MVC 2
p39442
aV0 you will need to download the source code of ASP
p39443
aVNET MVC Futures and extract  from the package to include in your site
p39444
as(dp39445
g16
V29407
p39446
stp39447
a((dp39448
g2
(lp39449
VHave you tried SmtpClient along with MailMessage
p39450
as(dp39451
g16
V29407
p39452
stp39453
a((dp39454
g2
(lp39455
VNo, it is not possible
p39456
aVA web
p39457
aVconfig file need to be placed at the root folder of each web site
p39458
aVYou could have a common web
p39459
aVconfig file copied to the root of each site as a build step of the project so that at runtime ASP
p39460
aVNET can find it
p39461
as(dp39462
g16
V29407
p39463
stp39464
a((dp39465
g2
(lp39466
VAJAX supports the  verb directly so why bothering with  and custom HTTP headers:
p39467
aVAlso make sure you are respecting the same origin policy or jquery might try to use JSONP which works only with  verbs
p39468
as(dp39469
g16
V29407
p39470
stp39471
a((dp39472
g2
(lp39473
s(dp39474
g16
V29407
p39475
stp39476
a((dp39477
g2
(lp39478
VThe problem with your code is that in the server you are calling  method which will set the WaitHandle and immediately close the server before it had any time to send the response
p39479
aVHere's a slight modification of your code
p39480
aVServer:
p39481
aVClient:
p39482
as(dp39483
g16
V29407
p39484
stp39485
a((dp39486
g2
(lp39487
VThere's no license in this case and you cannot claim any intellectual property of the code
p39488
aVIt would be the same if you uploaded the content on your own site without providing any license
p39489
aVAccording to the terms:
p39490
aVWe claim no intellectual property
p39491
aVrights over the material you provide
p39492
aVto the Service
p39493
aVYour profile and
p39494
aVmaterials uploaded remain yours
p39495
aVHowever, by setting your pages to be
p39496
aVviewed publicly, you agree to allow
p39497
aVothers to view your Content
p39498
aVBy
p39499
aVsetting your repositories to be viewed
p39500
aVpublicly, you agree to allow others to
p39501
aVview and fork your repositories
p39502
as(dp39503
g16
V29407
p39504
stp39505
a((dp39506
g2
(lp39507
VJust use the setInterval function:
p39508
aVTo reset automatic calls you could use the clearInterval function on the  returned by the
p39509
as(dp39510
g16
V29407
p39511
stp39512
a((dp39513
g2
(lp39514
VYou could use the concat method:
p39515
as(dp39516
g16
V29407
p39517
stp39518
a((dp39519
g2
(lp39520
VThe order of elements in a dictionary is non-deterministic
p39521
aVThe notion of order simply is not defined for hashtables
p39522
aVSo don't rely on enumerating in the same order as elements were added to the dictionary
p39523
aVThat's not guaranteed
p39524
aVQuote from the doc:
p39525
aVFor purposes of enumeration, each item in the dictionary is treated as a  structure representing a value and its key
p39526
aVThe order in which the items are returned is undefined
p39527
as(dp39528
g16
V29407
p39529
stp39530
a((dp39531
g2
(lp39532
VODP
p39533
aVNET provider supports push notifications
p39534
aVYou could implement it on the server side but the problem will be push notification to the client because of the nature of the HTTP protocol
p39535
aVThere you might need constant AJAX polling, or if you really need push, you might take a look at Comet and WebSocket in HTML 5
p39536
as(dp39537
g16
V29407
p39538
stp39539
a((dp39540
g2
(lp39541
VYou need to set the classpath:
p39542
as(dp39543
g16
V29407
p39544
stp39545
a((dp39546
g2
(lp39547
VYou need a custom helper method for this:
p39548
aVAnd use:
p39549
as(dp39550
g16
V29407
p39551
stp39552
a((dp39553
g2
(lp39554
s(dp39555
g16
V29407
p39556
stp39557
a((dp39558
g2
(lp39559
VTry this:
p39560
aVNotice that the  and  parameters have to be arrays and not strings as in your case
p39561
aVYou were simply copying them from the values of an input field which returns a single string
p39562
aVSo if you want an array you need to construct a javascript array object
p39563
aVAlso notice the  config value which is required to successfully perform the model binding if using jquery 1
p39564
aV4 and higher
p39565
as(dp39566
g16
V29407
p39567
stp39568
a((dp39569
g2
(lp39570
VHow about writing a custom model binder for this abstract class:
p39571
aVThis make sense only if you have a form where input elements are inserted dynamically based on some user action
p39572
aVIn this case you need to pass some additional parameter to indicate which concrete class you need
p39573
aVOtherwise I would stick to concrete view models as action parameters
p39574
as(dp39575
g16
V29407
p39576
stp39577
a((dp39578
g2
(lp39579
VYou need to initialize the the  variable inside the  method before using it:
p39580
aVor pass it as argument:
p39581
aVand to call:
p39582
as(dp39583
g16
V29407
p39584
stp39585
a((dp39586
g2
(lp39587
VWhat you are doing wrong is that you are running this code on the server
p39588
aVIf this is a web application (I guess it is because you are using HttpContext) you need to stream the file to the response instead of using WebClient
p39589
aVThen the user gets a download dialog in his browser and chooses to save the file wherever he wants (you cannot override this)
p39590
aVSo:
p39591
aVOr you could write a desktop application (WPF, WinForms) which you run on the client machine and which uses WebClient to download a file from a remote server location
p39592
as(dp39593
g16
V29407
p39594
stp39595
a((dp39596
g2
(lp39597
s(dp39598
g16
V29407
p39599
stp39600
a((dp39601
g2
(lp39602
VI would pronounce it "GiString"
p39603
as(dp39604
g16
V29407
p39605
stp39606
a((dp39607
g2
(lp39608
VIt means that because TypeList is a generic class, it is known at compile time what is the type used which avoids you the need to cast at runtime to the actual type being used
p39609
as(dp39610
g16
V29407
p39611
stp39612
a((dp39613
g2
(lp39614
VOne benefit is that you could use binary bindings such as
p39615
as(dp39616
g16
V29407
p39617
stp39618
a((dp39619
g2
(lp39620
VMake sure you put this in a  so that the DOM is ready when you attach the  handler:
p39621
as(dp39622
g16
V29407
p39623
stp39624
a((dp39625
g2
(lp39626
VYou could use the Ajax Queue plugin
p39627
as(dp39628
g16
V29407
p39629
stp39630
a((dp39631
g2
(lp39632
VTo access the masterpage:
p39633
aVthen you might need to cast to the actual type of the master page so that you could get the  property or make your master page implement an interface containing this property
p39634
as(dp39635
g16
V29407
p39636
stp39637
a((dp39638
g2
(lp39639
VYou could try  along with :
p39640
as(dp39641
g16
V29407
p39642
stp39643
a((dp39644
g2
(lp39645
VIn ASP
p39646
aVNET MVC model it is more correct to use the attribute on your controller action because URLs are no longer dictated by views (as it is in classic WebForms) but from routing and it is the controller action that first gets the request and decides whether to fetch it from the cache or not
p39647
as(dp39648
g16
V29407
p39649
stp39650
a((dp39651
g2
(lp39652
VYou may take a look at WMD (this is what you are using for typing this question)
p39653
aVYou could also take a look at the many other alternative editors and pick one that suits your needs
p39654
as(dp39655
g16
V29407
p39656
stp39657
a((dp39658
g2
(lp39659
VInstead of having an  attribute on your your image submit button use the  action of the form:
p39660
aVAlso notice how the url is no longer hardcoded in javascript but read from the  attribute of the form
p39661
aVOf course you need to fix your  as well in order to supply the proper controller and action the form has to be sent to
p39662
as(dp39663
g16
V29407
p39664
stp39665
a((dp39666
g2
(lp39667
VYou could use a class selector:
p39668
aVand assign the  class to the DOM element you would like to attach the modal to
p39669
aVAlso maybe I am wrong but wasn't  a deprecated syntax (I remember having read about it somewhere but don't recall exactly at the moment)
p39670
as(dp39671
g16
V29407
p39672
stp39673
a((dp39674
g2
(lp39675
VNo you cannot use AJAX due to same origin policy restrictions, unless the server supports JSONP
p39676
as(dp39677
g16
V29407
p39678
stp39679
a((dp39680
g2
(lp39681
V or use  to request your site
p39682
aVNote that both are bad idea if you care about security
p39683
aVIf you want a secure site leave  and use  to request your site
p39684
aVAlso the SetAuthCookie method already writes the cookie to the response so you don't need the rest:
p39685
aVis enough
p39686
aVYou don't need to worry about  and adding the cookie to the response
p39687
as(dp39688
g16
V29407
p39689
stp39690
a((dp39691
g2
(lp39692
VUserControls with  are a no-no in ASP
p39693
aVNET MVC
p39694
aVThey are dependent on the classic WebForms life-cycle which no longer exists in MVC, not even talking about ViewState and PostBack models
p39695
aVLooking at the name of this control it looks like a pager
p39696
aVThere's a nice collection of HTML helpers for rendering paginated grids in ASP
p39697
aVNET MVC you might take a look at
p39698
as(dp39699
g16
V29407
p39700
stp39701
a((dp39702
g2
(lp39703
VThere are many ways and saying which is the best would be subjective and might not work in your scenario which by the way you forgot to describe in your question
p39704
aVHere's how I do it:
p39705
aVModel:
p39706
aVController:
p39707
aVView ():
p39708
aVEditor template ():
p39709
as(dp39710
g16
V29407
p39711
stp39712
a((dp39713
g2
(lp39714
VA really small improvement but instead of:
p39715
aVtry:
p39716
aVYou already have the type, so no need to search it once again inside the assembly
p39717
as(dp39718
g16
V29407
p39719
stp39720
a((dp39721
g2
(lp39722
VHere's an overview of the process on MSDN you might take a look at
p39723
aVDon't hesitate to ask if you encounter some specific problem implementing the solution
p39724
as(dp39725
g16
V29407
p39726
stp39727
a((dp39728
g2
(lp39729
VYou may take a look at SQLite
p39730
aVIt's portable, don't need to install anything and it is supported by common ORMs
p39731
as(dp39732
g16
V29407
p39733
stp39734
a((dp39735
g2
(lp39736
VCould this be related to the  parameter
p39737
aVIt usually relates to complex types and not a simple id parameter but worth checking if this is not the case:
p39738
as(dp39739
g16
V29407
p39740
stp39741
a((dp39742
g2
(lp39743
VYou code looks fine and should work
p39744
aVMake sure you have included the plugin:
p39745
aVAlso look for possible javascript errors in the FireBug console
p39746
as(dp39747
g16
V29407
p39748
stp39749
a((dp39750
g2
(lp39751
VYou could use AJAX and refresh only the part of the page that needs to be refreshed
p39752
aVAnd in your view AJAXify the links on the image map:
p39753
as(dp39754
g16
V29407
p39755
stp39756
a((dp39757
g2
(lp39758
VYou could use child actions
p39759
aVController:
p39760
aVAnd somewhere in your master page include it:
p39761
as(dp39762
g16
V29407
p39763
stp39764
a((dp39765
g2
(lp39766
VCalling different actions is not possible without javascript
p39767
aVYou could call the same controller action and inside this action determine which button was pressed using the name property:
p39768
aVand in your controller action:
p39769
as(dp39770
g16
V29407
p39771
stp39772
a((dp39773
g2
(lp39774
VIf you clear the timeout the callback won't be executed
p39775
aVSo if the callback is executed it means that 500ms have passed since you've set the timeout
p39776
aVFor example:
p39777
as(dp39778
g16
V29407
p39779
stp39780
a((dp39781
g2
(lp39782
VYes, you could use PageMethods
p39783
as(dp39784
g16
V29407
p39785
stp39786
a((dp39787
g2
(lp39788
s(dp39789
g16
V29407
p39790
stp39791
a((dp39792
g2
(lp39793
VYou have to possibilities to send parameters:
p39794
aVUse GET verb: In this case you need to pass the parameters in the querystring:
p39795
aVUse POST verb: In this case you could use the postData parameter
p39796
aVIn the first case it is actually recommended to use Url helpers to generate the address to make sure values are properly url encoded:
p39797
aVThe same is true for the second case
p39798
aVMake sure to properly encode values
p39799
as(dp39800
g16
V29407
p39801
stp39802
a((dp39803
g2
(lp39804
V writes directly to the response
p39805
aVYou could use  which returns an MvcHtmlString
p39806
as(dp39807
g16
V29407
p39808
stp39809
a((dp39810
g2
(lp39811
VAs the error messages states you could use switch with bool, char, string, integral, enum or corresponding nullable type
p39812
aVIn your case you want to compare types
p39813
aVThis could be achieved with an  statement:
p39814
as(dp39815
g16
V29407
p39816
stp39817
a((dp39818
g2
(lp39819
VYou could use the Convert
p39820
aVToString method:
p39821
as(dp39822
g16
V29407
p39823
stp39824
a((dp39825
g2
(lp39826
VI would recommend you using the built-in caching provider
p39827
aVYou could also extend it to work with other caching providers such as memcached,
p39828
aVif you start running out of memory on your web server and would like to distribute the cache across a web farm (very scalable)
p39829
as(dp39830
g16
V29407
p39831
stp39832
a((dp39833
g2
(lp39834
VYou could restrict access to certain pages by using the  element
p39835
aVSo for example to restrict access to the sub-folder :
p39836
as(dp39837
g16
V29407
p39838
stp39839
a((dp39840
g2
(lp39841
VIt works for me
p39842
aVModel:
p39843
aVController:
p39844
aVView ():
p39845
aVEditor template for MyViewModel ():
p39846
aVEditor template for DateTime ():
p39847
as(dp39848
g16
V29407
p39849
stp39850
a((dp39851
g2
(lp39852
VYou have different possibilities here
p39853
aVThe first possibility is to set the  attribute of the form directly to the external url and add a  hidden input parameter
p39854
aVWhen the form is submitted it will POST data to the external url to process and when it finishes processing the external url will use the  parameter to redirect back to your home page
p39855
aVAnother possibility is to call the external url in your POST action using WebClient to send data for processing and return the same view:
p39856
as(dp39857
g16
V29407
p39858
stp39859
a((dp39860
g2
(lp39861
VTry this:
p39862
as(dp39863
g16
V29407
p39864
stp39865
a((dp39866
g2
(lp39867
VYou cannot have both NTLM and FormsAuthentication in the same ASP
p39868
aVNET application
p39869
aVYou will need two different applications in separate virtual directories
p39870
as(dp39871
g16
V29407
p39872
stp39873
a((dp39874
g2
(lp39875
VIn order to call a web service in C# you need to generate a client proxy from the WSDL
p39876
aVYou need to add a service reference and use the generated proxy to consume the service
p39877
as(dp39878
g16
V29407
p39879
stp39880
a((dp39881
g2
(lp39882
VThere's nothing built into the base class library of
p39883
aVNET that allows you to generate PDF files
p39884
aVYou might need to use a third party library such as iTextSharp
p39885
as(dp39886
g16
V29407
p39887
stp39888
a((dp39889
g2
(lp39890
VDue to same origin policy restrictions in browsers this is not possible using javascript
p39891
aVYou need a server side script that will act as a bridge between your site and the remote sites
p39892
aVThen talk to this local script using AJAX
p39893
as(dp39894
g16
V29407
p39895
stp39896
a((dp39897
g2
(lp39898
VLinq To Entities is a good place to start
p39899
aVhttp://learnentityframework
p39900
aVcom/learnentityframework/
p39901
as(dp39902
g16
V29407
p39903
stp39904
a((dp39905
g2
(lp39906
VUTF-8
p39907
aVAlso if you are using jquery you could always pass parameters in the data hash in order to properly encode them:
p39908
aVAlways do:
p39909
aVinstead of:
p39910
as(dp39911
g16
V29407
p39912
stp39913
a((dp39914
g2
(lp39915
VCreate a view model containing two properties:
p39916
aVAnd in your controller:
p39917
as(dp39918
g16
V29407
p39919
stp39920
a((dp39921
g2
(lp39922
VThe first thing to check is whether the cookie is sent to the second subdomain
p39923
aVYou could use FireBug for this
p39924
aVIf the cookie is sent there could be various reasons for authentication not working:
p39925
aVDifferent versions of the
p39926
aVNET framework (IIRC in
p39927
aVNET 4
p39928
aV0 they changed encryption algorithms)
p39929
aVDifferences in security patches installed
p39930
aVThere are some KB patches for
p39931
aVNET that modify the encryption algorithms
p39932
as(dp39933
g16
V29407
p39934
stp39935
a((dp39936
g2
(lp39937
VYou may take a look at the documentation which explains the differences and provides examples
p39938
as(dp39939
g16
V29407
p39940
stp39941
a((dp39942
g2
(lp39943
VYou could use the same salt:
p39944
aVAnd in your controller:
p39945
aVDo the same with the other token but make sure to pick a different salt
p39946
as(dp39947
g16
V29407
p39948
stp39949
a((dp39950
g2
(lp39951
VNot sure if this is feasible with MVC but if you want source code in your IIS server (why would you
p39952
aVyou need to use a web site in contrast to web application when creating your MVC project
p39953
aVNotice that this is not what the default template uses, meaning that you have to create everything manually from scratch
p39954
aVThis being said, this is not the recommended way of working with ASP
p39955
aVNET MVC
p39956
aVIt is preferred to have a web application which is precompiled
p39957
aVFor compiling you could use either the publishing functionality or take a look at Building a Web Deployment Package or take a look at Web Deployment Projects as well (blog post)
p39958
as(dp39959
g16
V29407
p39960
stp39961
a((dp39962
g2
(lp39963
VOne technique involves continuously pinging the application at regular intervals using AJAX or some dummy image fetching which will renew the session cookie
p39964
as(dp39965
g16
V29407
p39966
stp39967
a((dp39968
g2
(lp39969
VDeclarative helpers in Razor are static methods
p39970
aVYou could pass the Html helper as argument:
p39971
as(dp39972
g16
V29407
p39973
stp39974
a((dp39975
g2
(lp39976
VStart by abstract this logic into an interface containing the necessary method
p39977
aVImplement this interface against the CSV format
p39978
aVPass the interface in the constructor of the controller
p39979
aVUse DI to inject the proper implementation
p39980
aVIn the controller action call the method on the interface
p39981
aVIf you want to return CSV directly from your controller action you could write a custom ActionResult like CsvActionResult which will take the model and serialize it into CSV so that in your controller action you
p39982
as(dp39983
g16
V29407
p39984
stp39985
a((dp39986
g2
(lp39987
VYou need to mock the ControllerContext
p39988
aVPersonally I use MvcContrib
p39989
aVTestHelper which is based on Rhino Mocks to achieve this:
p39990
aVbut any mocking framework could do the job
p39991
aVYou just need to make sure that in your unit test  is not null
p39992
as(dp39993
g16
V29407
p39994
stp39995
a((dp39996
g2
(lp39997
VWhat you are asking doesn't make sense in OOP
p39998
aVThe  variable (or whatever its equivalent is in the OOP language of your choice) should always point to the current instance and should never be changed
p39999
aVThat's whats it is designed for
p40000
as(dp40001
g16
V29407
p40002
stp40003
a((dp40004
g2
(lp40005
VThe AjaxControlToolkit registration in the beginning of your view and the missing action attribute on your form raise some serious suspicions about your design
p40006
aVIt seems that you are trying to use server side controls which is a no-no in ASP
p40007
aVNET MVC because they rely on viewstate and postback model
p40008
aVHere's an example of how you could implement file uploads in MVC:
p40009
aVController:
p40010
aVView:
p40011
as(dp40012
g16
V29407
p40013
stp40014
a((dp40015
g2
(lp40016
VIt's a bit easier when you have a view model (you can forget about  and ):
p40017
aVwhere  converts between the view model and models
p40018
aVAutoMapper is a great choice for this task
p40019
as(dp40020
g16
V29407
p40021
stp40022
a((dp40023
g2
(lp40024
VYou cannot/shouldn't have multiple elements with the same id
p40025
aVYou could use a class selector but I would definitely fix the ids problem first
p40026
as(dp40027
g16
V29407
p40028
stp40029
a((dp40030
g2
(lp40031
VHow about this:
p40032
aVIf you don't want to load the whole response into memory you could pass it to some parsing function which will examine it once and return an object containing all the properties you are interested in so that after you could examine this object as much as you wish
p40033
as(dp40034
g16
V29407
p40035
stp40036
a((dp40037
g2
(lp40038
VEvent handlers should be attached on the server side:
p40039
aVWhen you use the  property you are actually attaching a client side function which doesn't exist
p40040
as(dp40041
g16
V29407
p40042
stp40043
a((dp40044
g2
(lp40045
VWhen I tested the code I got  array in the controller action and not an array with one element
p40046
aVIn jquery 1
p40047
aV4 and later the way parameters are serialized during an AJAX request have changed and is no longer compatible with the default model binder
p40048
aVYou could set the traditional parameter when performing the request:
p40049
aVor
p40050
as(dp40051
g16
V29407
p40052
stp40053
a((dp40054
g2
(lp40055
VYou may take a look at SgmlReader and HTML Agility Pack
p40056
as(dp40057
g16
V29407
p40058
stp40059
a((dp40060
g2
(lp40061
VUsually in order to update something into the database an HTTP request is sent to the server and the controller action performs the update and renders a view meaning that the whole page is reloaded and the model data updated
p40062
aVIf you perform an AJAX request to update the database then you might need to update the second partial view as well so that changes are taken into account
p40063
as(dp40064
g16
V29407
p40065
stp40066
a((dp40067
g2
(lp40068
VIt depends on what you are updating
p40069
aVIf you change only the views, css, javascript, you could  only the modified files but if you change the source code you need to recompile the application and redeploy it
p40070
as(dp40071
g16
V29407
p40072
stp40073
a((dp40074
g2
(lp40075
VHow about simplifying your code a bit:
p40076
as(dp40077
g16
V29407
p40078
stp40079
a((dp40080
g2
(lp40081
VA classic ASMX web service is a class that needs to derive from  and decorated with the  attribute
p40082
aVIf you want to expose multiple services you might need to have multiple ASMX files
p40083
aVAnother possibility is to simply put the two web methods inside the existing service class so that when you generate the proxy class on the client they will be visible
p40084
as(dp40085
g16
V29407
p40086
stp40087
a((dp40088
g2
(lp40089
VIn your database you shouldn't store  but
p40090
aVThen when this value is rendered on the page you need to HTML encode it which happens automatically if you use
p40091
as(dp40092
g16
V29407
p40093
stp40094
a((dp40095
g2
(lp40096
VIf the user is not created you would generally get an exception
p40097
aVSo you could wrap the code creating the user into a try/catch:
p40098
as(dp40099
g16
V29407
p40100
stp40101
a((dp40102
g2
(lp40103
Vand in js:
p40104
as(dp40105
g16
V29407
p40106
stp40107
a((dp40108
g2
(lp40109
VYou could use a content placeholder in the master page which you override in each view:
p40110
aVand in the view:
p40111
as(dp40112
g16
V29407
p40113
stp40114
a((dp40115
g2
(lp40116
VIt's because of the way floating point numbers are represented
p40117
as(dp40118
g16
V29407
p40119
stp40120
a((dp40121
g2
(lp40122
V is only available in the controller
p40123
aVSo you might pass it as argument to your method:
p40124
aVAnd when calling this method from within the controller action:
p40125
aVAlso make sure that the user needs to be authenticated to call this controller action ( attribute) or you might get an exception if an anonymous user tries to call it
p40126
as(dp40127
g16
V29407
p40128
stp40129
a((dp40130
g2
(lp40131
VFluentValidation integrates pretty well with ASP
p40132
aVNET MVC
p40133
aVIt comes with a model binder allowing to automatically apply the validation rules
p40134
aVSo for example:
p40135
aVand then your controller action:
p40136
as(dp40137
g16
V29407
p40138
stp40139
a((dp40140
g2
(lp40141
VIf performance is critical, referencing the service component and calling directly the DB without going through all the WCF layers and serialization processes will be faster but less robust
p40142
aVIf you decide to change the implementation you will need to recompile the client application as well
p40143
aVMy advice would be to measure the performance of the WCF service call and if you are happy with the results leave it that way
p40144
as(dp40145
g16
V29407
p40146
stp40147
a((dp40148
g2
(lp40149
VThis cannot be achieved using  and without modifying the underlying class
p40150
aVThis could be achieved with Json
p40151
aVNet
p40152
as(dp40153
g16
V29407
p40154
stp40155
a((dp40156
g2
(lp40157
VYou could use a ManualResetEvent:
p40158
aVObviously doing this makes absolutely no sense, so the question here is: why do you need to do this
p40159
aVWhy using async call if you are going to block the main thread
p40160
aVWhy not use a direct call instead
p40161
aVGenerally when using async web service calls you shouldn't block the main thread but do all the work of handling the results in the async callback
p40162
aVDepending of the type of application (WinForms, WPF) you shouldn't forget that GUI controls can only be updated on the main thread so if you intend to modify the GUI in the callback you should use the appropriate technique (InvokeRequired,
p40163
as(dp40164
g16
V29407
p40165
stp40166
a((dp40167
g2
(lp40168
VThe code should not be the following structure:
p40169
aVFooService
p40170
aVcs
p40171
aVFooService
p40172
aVsvc
p40173
aVDefault
p40174
aVaspx
p40175
aVBut the following:
p40176
aVApp_Code/FooService
p40177
aVcs
p40178
aVFooService
p40179
aVsvc
p40180
aVDefault
p40181
aVaspx
p40182
aVNotice the special  folder which contains the source code
p40183
aVSo to recap:
p40184
ag9596
ag9596
ag9596
ag9596
aVThis being said I would recommend you using Web Applications instead of Web Sites and precompile everything to avoid those kind of problems
p40185
aVAnother advantage is that you no longer need to deploy the source code on the server
p40186
aVIf you use a percompiled web application your structure will be the following:
p40187
aVbin/MyWebService
p40188
aVdll
p40189
aVFooService
p40190
aVsvc
p40191
aVDefault
p40192
aVaspx
p40193
aVThis is what I would recommend you
p40194
as(dp40195
g16
V29407
p40196
stp40197
a((dp40198
g2
(lp40199
VYou could write a custom configuration section which allows you to store much more than key/value settings in the config file
p40200
aVThis being said the config file is designed for read-only settings
p40201
aVIf you need editing functionalities with admin screens then it would be best to use database
p40202
aVStoring this information in files is also a possibility but as this is a multi-threaded application you will need to properly synchronize access to those files which could quickly become cumbersome
p40203
as(dp40204
g16
V29407
p40205
stp40206
a((dp40207
g2
(lp40208
VIf you are using data annotations for validation you could use reflection to test the presence of validation attributes
p40209
aVIf you using FluentValidation then it is a bit more elegant
p40210
as(dp40211
g16
V29407
p40212
stp40213
a((dp40214
g2
(lp40215
VYou could have the controller action return the partial view:
p40216
aVAnd in your controller action:
p40217
aVThis way the  action will pass the request object to the strongly typed  partial view and include it in the page at the place you called  helper
p40218
as(dp40219
g16
V29407
p40220
stp40221
a((dp40222
g2
(lp40223
V is exactly what you need
p40224
as(dp40225
g16
V29407
p40226
stp40227
a((dp40228
g2
(lp40229
VYou could specify the location of the template:
p40230
as(dp40231
g16
V29407
p40232
stp40233
a((dp40234
g2
(lp40235
VYou could define a new transport type containing only the properties you need and then use AutoMapper to convert between your domain object to this type which will be used for serialization
p40236
as(dp40237
g16
V29407
p40238
stp40239
a((dp40240
g2
(lp40241
VWhen you start typing the list filters itself so that you can find the type more easily
p40242
as(dp40243
g16
V29407
p40244
stp40245
a((dp40246
g2
(lp40247
VYou could use the JavaScriptSerializer  class to turn the model property which is an array into a javascript array:
p40248
as(dp40249
g16
V29407
p40250
stp40251
a((dp40252
g2
(lp40253
VIf it is a site you are developing for learning purposes of ASP
p40254
aVNET MVC, you could provide implementations with both frameworks
p40255
aVThis way you learn both and also verify that you can easily swap the data access layer with a different one without affecting other parts of the site
p40256
aVAlso with FluentNHibernate saying that it will take you more time with NHibernate to setup your DAL layer than with Linq2Sql is simply wrong
p40257
aVMaybe you will have better integration with the IDE
p40258
aVAlso notice that Linq2Sql is deprecated in favor of Linq to Entities
p40259
as(dp40260
g16
V29407
p40261
stp40262
a((dp40263
g2
(lp40264
VYou could use the  property of the model state
p40265
as(dp40266
g16
V29407
p40267
stp40268
a((dp40269
g2
(lp40270
VThe MailMessage class has an Attachments property which could be used to add attachments to the message
p40271
as(dp40272
g16
V29407
p40273
stp40274
a((dp40275
g2
(lp40276
VYou are missing quotes around the url:
p40277
as(dp40278
g16
V29407
p40279
stp40280
a((dp40281
g2
(lp40282
VYou cannot upload files using AJAX nor report the progress with javascript
p40283
aVThere's a jquery upload plugin which supports this functionality and uses Flash behind the scenes to perform the upload and progress report
p40284
as(dp40285
g16
V29407
p40286
stp40287
a((dp40288
g2
(lp40289
VBecause  doesn't return what you think it does in the success callback
p40290
aVYou could use a closure:
p40291
as(dp40292
g16
V29407
p40293
stp40294
a((dp40295
g2
(lp40296
VFrom what you provided as code snippet it is difficult to say what is wrong
p40297
aVTry narrowing down the problem
p40298
aVStart by the evident that should work and progressively enhance it with other code:
p40299
aVNotice how the  and  variables are locally declared
p40300
as(dp40301
g16
V29407
p40302
stp40303
a((dp40304
g2
(lp40305
VEclipse is automatically compiling your code on the fly
p40306
as(dp40307
g16
V29407
p40308
stp40309
a((dp40310
g2
(lp40311
VYes, before accessing the element at index , check whether  is strictly inferior to
p40312
as(dp40313
g16
V29407
p40314
stp40315
a((dp40316
g2
(lp40317
VORMs tackle this problem by introducing a level of abstraction between the database and the domain model
p40318
aVFor example with Hibernate you change the connection string and the dialect and HQL queries and Criteria APIs are automatically translated into the proper SQL for the target database
p40319
aVOf course this assumes you never write a single line of SQL in your application or anything which is specific to the database
p40320
as(dp40321
g16
V29407
p40322
stp40323
a((dp40324
g2
(lp40325
VYou could use the ASP
p40326
aVNET session to store per user values
p40327
as(dp40328
g16
V29407
p40329
stp40330
a((dp40331
g2
(lp40332
VYou may take a look at the Simply Restful Routing for an example of the different restful actions and verbs
p40333
as(dp40334
g16
V29407
p40335
stp40336
a((dp40337
g2
(lp40338
VHow about something among the lines:
p40339
aVand when overriding:
p40340
as(dp40341
g16
V29407
p40342
stp40343
a((dp40344
g2
(lp40345
VYou could use the following selector:
p40346
as(dp40347
g16
V29407
p40348
stp40349
a((dp40350
g2
(lp40351
VDue to same origin policy restrictions you cannot perform AJAX requests to distant domains which explains why  doesn't work
p40352
aVAs far as  is concerned there shouldn't be any problems
p40353
as(dp40354
g16
V29407
p40355
stp40356
a((dp40357
g2
(lp40358
VYou could use the  attribute to set authorization roles on controller actions
p40359
as(dp40360
g16
V29407
p40361
stp40362
a((dp40363
g2
(lp40364
V assembly is used to access SQLite database from
p40365
aVNET
p40366
aVThe assembly contains the unmanaged driver as embedded resource
p40367
aVIt is possible that the assembly is installed in the GAC if not present in the  folder but impossible to connect whitout it
p40368
as(dp40369
g16
V29407
p40370
stp40371
a((dp40372
g2
(lp40373
VYou could use the Stopwatch class to measure time:
p40374
as(dp40375
g16
V29407
p40376
stp40377
a((dp40378
g2
(lp40379
VYou need to run the  command on the target machine to encrypt the configuration file
p40380
aVThe application works on the local machine because you ran the command on this machine
p40381
as(dp40382
g16
V29407
p40383
stp40384
a((dp40385
g2
(lp40386
Vis equivalent to:
p40387
aVso, up to you to draw conclusions
p40388
aVEverything depends on how you define immediate
p40389
aVIn a multithreaded environment other actions could be performed between the  block and the disposal of the resource but as it is wrapped in a  block it is guaranteed that the Dispose method will be called
p40390
as(dp40391
g16
V29407
p40392
stp40393
a((dp40394
g2
(lp40395
V contains some server side object which cannot be used directly by javascript unless some simple type such as integer, string,
p40396
aVYou could JSON serialize it:
p40397
aVAlso I would recommend you using strongly typed views with view models instead of the  hashtable
p40398
as(dp40399
g16
V29407
p40400
stp40401
a((dp40402
g2
(lp40403
VInstead of:
p40404
aVTry:
p40405
aVHere's the reason why
p40406
aVAlso in the markup you posted there's no element with  nor
p40407
as(dp40408
g16
V29407
p40409
stp40410
a((dp40411
g2
(lp40412
VAm I right in wanting to suppress that warning here, or am I overlooking something
p40413
aVNo you are not right
p40414
aVIf there's a condition under witch the variable might not get initialized you will get into trouble
p40415
aVSo it would be better to always initialize variables:
p40416
as(dp40417
g16
V29407
p40418
stp40419
a((dp40420
g2
(lp40421
Vwould print the same thing as:
p40422
aVbut the crucial difference is that in the first case the value of the  variable will be modified (multiplied by 2) while in the second it will stay the same
p40423
as(dp40424
g16
V29407
p40425
stp40426
a((dp40427
g2
(lp40428
VLook at the generated HTML
p40429
aVIn ASP
p40430
aVNET MVC 3 Beta there's new support for unobtrusive jquery based ajax and all the Ajax helpers use jquery now
p40431
aVMaybe there's something left with MS Ajax which causes the double call
p40432
aVMake sure you remove all the inclusions of MSAjax scripts from the page
p40433
aVAlso why using  when you could simply use  with unobtrusive jquery
p40434
as(dp40435
g16
V29407
p40436
stp40437
a((dp40438
g2
(lp40439
VYou could use the  attribute
p40440
aVQuote from the doc:
p40441
aVYou can apply the
p40442
aVCLSCompliantAttribute attribute to the
p40443
aVfollowing program elements: assembly,
p40444
aVmodule, class, struct, enum,
p40445
aVconstructor, method, property, field,
p40446
aVevent, interface, delegate, parameter,
p40447
aVand return value
p40448
aVHowever, the notion
p40449
aVof CLS compliance is only meaningful
p40450
aVfor assemblies, modules, types, and
p40451
aVmembers of types, not parts of a
p40452
aVmember signature
p40453
aVConsequently,
p40454
aVCLSCompliantAttribute is ignored when
p40455
aVapplied to parameter or return value
p40456
aVprogram elements
p40457
aVThere's also possibility to supress compiler warnings
p40458
as(dp40459
g16
V29407
p40460
stp40461
a((dp40462
g2
(lp40463
Vit is possible that the program will crash if 2 or more threads access a variable at the same time
p40464
aVIt is unlikely that the program will crash
p40465
aVIt probably won't behave as you expect it to as it will create a race condition
p40466
aVHow can i block temporarily a variable so that multiple access simultaneously is restricted
p40467
aVUsing a lock statement
p40468
as(dp40469
g16
V29407
p40470
stp40471
a((dp40472
g2
(lp40473
VThe  function should be used to get the value of form elements like , , ,
p40474
as(dp40475
g16
V29407
p40476
stp40477
a((dp40478
g2
(lp40479
V is often used to initialize application wide settings which need to be done once per application domain like registering object containers, reading some config initialization values,
p40480
aVIn  you could place some code which is tied to the specific user who started the session
p40481
as(dp40482
g16
V29407
p40483
stp40484
a((dp40485
g2
(lp40486
VIf you have control over the objects you could decorate them with the  attribute and use BinaryFormatter for serialization/deserialization
p40487
as(dp40488
g16
V29407
p40489
stp40490
a((dp40491
g2
(lp40492
VASP
p40493
aVNET offer better designer experience
p40494
aVCompletely diasagree
p40495
aVThere are few designers that understand what  tranlates into
p40496
aVIn classic webforms with all those user controls there's less control over the generated HTML which is what designers work with
p40497
aVSo from that perspective I think that the Razor view engine is much closer to the raw HTML that designers work with rather than classic WebForms
p40498
aVAs for the developer it is very subjective and I prefer not to answer which one is better
p40499
aVEach technology has its pros and cons for the different types of projects
p40500
aVSo always choose the right technology for your specific needs
p40501
as(dp40502
g16
V29407
p40503
stp40504
a((dp40505
g2
(lp40506
VThis dialog is browser specific and you have no control from a web site
p40507
aVThe only thing that's customizable is the  HTTP header which you allows you to either download the file or open it inline
p40508
as(dp40509
g16
V29407
p40510
stp40511
a((dp40512
g2
(lp40513
VYou could add the following to your routes:
p40514
as(dp40515
g16
V29407
p40516
stp40517
a((dp40518
g2
(lp40519
VYes, you should commit those files as they contain Visual Studio unit testing and code coverage settings for the project
p40520
as(dp40521
g16
V29407
p40522
stp40523
a((dp40524
g2
(lp40525
VLook at the Date Filter drop down at the upper right corner of your screen shot which is currently set for last 7 days
p40526
as(dp40527
g16
V29407
p40528
stp40529
a((dp40530
g2
(lp40531
VHTTP headers are valid only for the current response
p40532
aVWhen you set a redirect the current response contains your custom header but when the browser follows the redirect location those headers are no longer present
p40533
aVFurthermore you are using  in the other page so you need to sent the value as query string:
p40534
as(dp40535
g16
V29407
p40536
stp40537
a((dp40538
g2
(lp40539
VYou pass the list of source files to the compiler:
p40540
aVIf you use Visual Studio when you create a new
p40541
aVNET project you can add as many source files as you like and they will automatically be compiled
p40542
as(dp40543
g16
V29407
p40544
stp40545
a((dp40546
g2
(lp40547
VValidation should be done minimum at the View Model because this is what you receive as action argument and contains the user input
p40548
aVYou could also have validation at the model
p40549
as(dp40550
g16
V29407
p40551
stp40552
a((dp40553
g2
(lp40554
VIt would be better to use unobtrusive javascript:
p40555
aVand in a separate  file:
p40556
aVThere are at least two benefits:
p40557
aVYou are not mixing script and markup
p40558
aVMarkup is reduced and scripts are cached by the browser
p40559
as(dp40560
g16
V29407
p40561
stp40562
a((dp40563
g2
(lp40564
VIn order to be displayed properly in a browser the image has to reside on a web server
p40565
aVSo you could either run a web server on the remote machine and then specify the URL to the image or copy them on the local web server
p40566
as(dp40567
g16
V29407
p40568
stp40569
a((dp40570
g2
(lp40571
VWhy not using query string parameters:
p40572
aVand in PopUp
p40573
aVaspx:  to retrieve the value
p40574
as(dp40575
g16
V29407
p40576
stp40577
a((dp40578
g2
(lp40579
VIn your script the id javascript variable is not defined
p40580
aVAlso I would recommend you using data hash instead of string concatenation as this will ensure proper encoding:
p40581
aVWhere your controller action looks like this:
p40582
aVUPDATE:
p40583
aVIt seems that the problem comes from the fact that you are using jquery from here: http://code
p40584
aVjquery
p40585
aVcom/jquery-latest
p40586
aVmin
p40587
aVjs
p40588
aVWhen you include it from google CDN it works fine:
p40589
aVhttp://ajax
p40590
aVgoogleapis
p40591
aVcom/ajax/libs/jquery/1
p40592
ag392
aV1/jquery
p40593
aVmin
p40594
aVjs
p40595
as(dp40596
g16
V29407
p40597
stp40598
a((dp40599
g2
(lp40600
VYou need a profiler (JetBrains dotTrace and Redgate ANTS are particularly good commercial profilers)
p40601
as(dp40602
g16
V29407
p40603
stp40604
a((dp40605
g2
(lp40606
VIt's in a separate  file using partial class:
p40607
as(dp40608
g16
V29407
p40609
stp40610
a((dp40611
g2
(lp40612
VIf you are using ASP
p40613
aVNET MVC 2 you should always use strongly typed helpers which will correctly handle binding:
p40614
as(dp40615
g16
V29407
p40616
stp40617
a((dp40618
g2
(lp40619
VNow you right click on the controllers folder and press Add Class button and write a class deriving from Controller
p40620
aVAs far as Views are concerned unless you implement a custom view engine they should reside in the web application
p40621
as(dp40622
g16
V29407
p40623
stp40624
a((dp40625
g2
(lp40626
VYou cannot achieve this
p40627
aVThe  extension is already registered with a very different handler than MVC in order to process WCF
p40628
aVIf you try to change it the service will never work
p40629
aVYou might need to call the web service from your controller action which will act as bridge
p40630
as(dp40631
g16
V29407
p40632
stp40633
a((dp40634
g2
(lp40635
VYou have two possibilities:
p40636
aVThe first prompts the user for saving the file and the dialog is browser dependent, you cannot do much about it from a server side script
p40637
aVThe second opens the pdf inside the browser if there's a registered program capable of doing this like Adobe Reader
p40638
as(dp40639
g16
V29407
p40640
stp40641
a((dp40642
g2
(lp40643
VYou could use the setInterval function if you want it to run repeatedly:
p40644
aVAlso you might take a look at the jquery idleTimer plugin which allows you to detect periods of user inactivity and take some actions
p40645
as(dp40646
g16
V29407
p40647
stp40648
a((dp40649
g2
(lp40650
VThe input should have a name:
p40651
aVThen to handle the uploaded file you could add a property to your view model:
p40652
aVand finally in your controller action handle the file upload:
p40653
aVPhil Haack blogged about file uploads in ASP
p40654
aVNET MVC
p40655
as(dp40656
g16
V29407
p40657
stp40658
a((dp40659
g2
(lp40660
VAccording to the release notes:
p40661
aVThere is initial support for ASP
p40662
aVNET debugging
p40663
aVThis is supported only in Linux with the latest version of the Mono debugger or using the Soft Debugger backend
p40664
aVSo I guess debugging ASP
p40665
aVNET applications with MonoDevelop is still under heavy development
p40666
as(dp40667
g16
V29407
p40668
stp40669
a((dp40670
g2
(lp40671
VYou don't set a controller to a view
p40672
aVIt works by convention
p40673
aVThe controller action will first look at the  folder for the view and then in
p40674
aVIf the view is in some non-standard location you could specify its location when returning it:
p40675
as(dp40676
g16
V29407
p40677
stp40678
a((dp40679
g2
(lp40680
VYou may take a look at the Process
p40681
aVStart method
p40682
aVObviously the piece of code you would like to be executed in a separate process should reside in this process
p40683
aVIt cannot reside in the caller process
p40684
aVAnother possibility is to create a new AppDomain instead of process
p40685
as(dp40686
g16
V29407
p40687
stp40688
a((dp40689
g2
(lp40690
VOnce you covert a solution to VS2010 with the conversion wizard you can no longer open it with VS2008 as the format is no longer supported
p40691
as(dp40692
g16
V29407
p40693
stp40694
a((dp40695
g2
(lp40696
VIn the first case  returns  when you are at the start element and in the second case it returns :
p40697
as(dp40698
g16
V29407
p40699
stp40700
a((dp40701
g2
(lp40702
VYou could subscribe to the KeyPress event and clear the text of the sender:
p40703
as(dp40704
g16
V29407
p40705
stp40706
a((dp40707
g2
(lp40708
VThe variable needs to be declared outside:
p40709
aVor make it as property of the current object using the  function:
p40710
as(dp40711
g16
V29407
p40712
stp40713
a((dp40714
g2
(lp40715
VWriting a custom model binder seems like a good idea here:
p40716
aVAnd registering it in :
p40717
aVAnd finally always prefer strongly typed helpers in your view:
p40718
aVAnd the corresponding editor template ():
p40719
aVNow your controller could be as simple as:
p40720
as(dp40721
g16
V29407
p40722
stp40723
a((dp40724
g2
(lp40725
VHere's the gotcha:
p40726
aVThe  variable is already used as you have a  property on your model
p40727
aVNow rename the parameter:
p40728
aVEverything should work as expected
p40729
as(dp40730
g16
V29407
p40731
stp40732
a((dp40733
g2
(lp40734
VI agree that most of the examples/tutorials out there are using entity framework
p40735
aVThis being said the process would be similar:
p40736
aVCreate your model classes
p40737
aVCreate a repository working with those model classes
p40738
aVThis repository should implement an interface which contains all the operations you need with those models like , , etc
p40739
aVIn the implementation you connect to the remote JSON API server to fetch data
p40740
aVYou create a controller which takes the repository interface in the constructor
p40741
aVSetup a custom controller factory so that a DI framework could provide instances of your controllers
p40742
aVDefine views and view model classes
p40743
aVController actions talk to the repository via the provided interface to fetch models, maps those models to view models and returns them to the corresponding view to be shown
p40744
aVUseful tools:
p40745
aVMvcContrib (many useful helpers)
p40746
aVAutoMapper (for mapping between models and view models)
p40747
aVFluentValidation
p40748
aVNET (for validating models)
p40749
as(dp40750
g16
V29407
p40751
stp40752
a((dp40753
g2
(lp40754
VYou need to mock the HttpContext and the response objects
p40755
aVAlso your controller action could be shortened a bit:
p40756
as(dp40757
g16
V29407
p40758
stp40759
a((dp40760
g2
(lp40761
VThis sentence is contradicting and unclear to me as well
p40762
aVMaybe the author meant that you don't need to use this attribute because by default dangerous requests will be denied
p40763
aVPersonally I stopped reading the article at this statement:
p40764
aVEven an example was given of how to do this
p40765
as(dp40766
g16
V29407
p40767
stp40768
a((dp40769
g2
(lp40770
VThe authentication cookie contains only the encrypted username
p40771
aVSo either you really force the user to re-login by signing him out () or you do nothing in which case the old cookie is still valid, still authenticated but his password was changed in the datastore so that next time him tries to login he will need to use this new password
p40772
as(dp40773
g16
V29407
p40774
stp40775
a((dp40776
g2
(lp40777
VYou could use the UrlHelper
p40778
aVAction method:
p40779
as(dp40780
g16
V29407
p40781
stp40782
a((dp40783
g2
(lp40784
VXmlWriter is exactly the tool for creating large XML files and the size limit will be dictated by the underlying stream which in your case is the file system so as long as you have free space on this it should be OK
p40785
aVEvery time you write a start element you should make sure to provide the corresponding end element or an exception will be thrown
p40786
aVYou haven't provided a full example of your code illustrating the problem so cannot say for sure what's wrong
p40787
aVAlso you don't need to use a file stream when you specify a filename in the constructor:
p40788
as(dp40789
g16
V29407
p40790
stp40791
a((dp40792
g2
(lp40793
VYou could subscribe for the  event:
p40794
aVor if you use jquery:
p40795
as(dp40796
g16
V29407
p40797
stp40798
a((dp40799
g2
(lp40800
s(dp40801
g16
V29407
p40802
stp40803
a((dp40804
g2
(lp40805
VSorry to say it but that seems like a very bad design
p40806
aVIn a unit test you are testing some code which shouldn't be conditioned that way
p40807
aVA unit test should consist of three steps: Arrange, Act, Assert where you prepare the input, call the actual method and assert the results
p40808
aVIt's in the arrange step that you should prepare the method under test
p40809
aVAlso I notice that this method is static
p40810
aVStatic methods are difficult to unit test
p40811
aVIt would be better to abstract the logic of this class into an interface or abstract base class which could be easily mocked/stubbed in a unit test to weaken the coupling between the different parts of your code
p40812
as(dp40813
g16
V29407
p40814
stp40815
a((dp40816
g2
(lp40817
VYou are doing integer division
p40818
aVTry this instead:
p40819
as(dp40820
g16
V29407
p40821
stp40822
a((dp40823
g2
(lp40824
VA key can never be null in a dictionary
p40825
aVA dictionary is a hashtable where by definition you need a non-empty key or the hash function cannot map to the corresponding element
p40826
as(dp40827
g16
V29407
p40828
stp40829
a((dp40830
g2
(lp40831
VYou may take a look at Quartz
p40832
aVNET to schedule jobs
p40833
as(dp40834
g16
V29407
p40835
stp40836
a((dp40837
g2
(lp40838
VLINQ is a
p40839
aVNET feature as it is accessible from all the CLS compatible languages
p40840
aVThe yield statement is a C# language feature
p40841
as(dp40842
g16
V29407
p40843
stp40844
a((dp40845
g2
(lp40846
V is a readonly, forward-only access collection
p40847
aVYou cannot remove elements
p40848
aVYou might need to cast it to the underlying type and see if it supports this operation
p40849
as(dp40850
g16
V29407
p40851
stp40852
a((dp40853
g2
(lp40854
s(dp40855
g16
V29407
p40856
stp40857
a((dp40858
g2
(lp40859
VI don't know what do you mean by 3D views but can't you simply have two  tags in your view representing the front and the back image:
p40860
aVWhere  represents a controller action serving an image given its id
p40861
as(dp40862
g16
V29407
p40863
stp40864
a((dp40865
g2
(lp40866
Vor:
p40867
as(dp40868
g16
V29407
p40869
stp40870
a((dp40871
g2
(lp40872
VYou could use XDocument:
p40873
aVIf the file you want to create is very big and cannot fit into memory you might use XmlWriter
p40874
as(dp40875
g16
V29407
p40876
stp40877
a((dp40878
g2
(lp40879
VAnd if you want to remove the namespace from the root node:
p40880
aVAlso I would recommend you using properties instead of fields in your model classes for better encapsulation:
p40881
as(dp40882
g16
V29407
p40883
stp40884
a((dp40885
g2
(lp40886
VYou may take a look at this article
p40887
as(dp40888
g16
V29407
p40889
stp40890
a((dp40891
g2
(lp40892
VInstead of removing the object from the collection you could create a new filtered collection:
p40893
aVand leave the GC take care of the old collection when it falls out of scope
p40894
aVAlso you mentioned ArrayList in your post
p40895
aVUnless you are using
p40896
aVNET 1
p40897
aV1 or older there's absolutely no reason to use
p40898
aVA generic collection would be more appropriate
p40899
as(dp40900
g16
V29407
p40901
stp40902
a((dp40903
g2
(lp40904
VASP
p40905
aVNET textboxes render as standard HTML inputs (with type="text") and the only way to achieve what you are asking is through javascript:
p40906
aVwhere  is the id of the generated input:
p40907
as(dp40908
g16
V29407
p40909
stp40910
a((dp40911
g2
(lp40912
VI would recommend you to get rid of MSAjax and use jquery along with the form plugin:
p40913
aVAnd in a separate js file:
p40914
as(dp40915
g16
V29407
p40916
stp40917
a((dp40918
g2
(lp40919
VFrom CSS you could always use relative paths (in CSS it is relative to the CSS file location):
p40920
aVFrom JS there are different techniques but one consist of defining a global js variable in the view:
p40921
aVand then use this variable in the external javascript file:
p40922
aVAnother technique involves progressive enhancement:
p40923
aVAnd in js progressively enhance this link:
p40924
as(dp40925
g16
V29407
p40926
stp40927
a((dp40928
g2
(lp40929
VYou could set the culture to  in web
p40930
aVconfig:
p40931
aVThis will use the browser settings to set the proper culture and correctly parse input values based on this settings
p40932
as(dp40933
g16
V29407
p40934
stp40935
a((dp40936
g2
(lp40937
VYou may take a look at MvcContrib Grid which has paging functionality built-in
p40938
as(dp40939
g16
V29407
p40940
stp40941
a((dp40942
g2
(lp40943
VYou could pass a  parameter to the controller action which indicates where to redirect to in case of success
p40944
as(dp40945
g16
V29407
p40946
stp40947
a((dp40948
g2
(lp40949
VYou could write a custom action filter attribute:
p40950
aVAnd then you could decorate your base controller with this custom attribute
p40951
aVAnd here's a blog post illustrating a sample implementation of such filter
p40952
as(dp40953
g16
V29407
p40954
stp40955
a((dp40956
g2
(lp40957
VYou could specify the location of the view:
p40958
as(dp40959
g16
V29407
p40960
stp40961
a((dp40962
g2
(lp40963
VI don't think that you should modify your application code for this
p40964
aVModify the way it is tested because in the real world that's how the application will be used
p40965
aVSo for IE8 you could use the -nomerge command line option when launching
p40966
aVAnother possibility is play with the TabProcGrowth setting in the registry
p40967
as(dp40968
g16
V29407
p40969
stp40970
a((dp40971
g2
(lp40972
s(dp40973
g16
V29407
p40974
stp40975
a((dp40976
g2
(lp40977
VYou may take a look at LINQ to Javascript
p40978
aVThere are also many others, just pick one that fits your needs
p40979
as(dp40980
g16
V29407
p40981
stp40982
a((dp40983
g2
(lp40984
s(dp40985
g16
V29407
p40986
stp40987
a((dp40988
g2
(lp40989
VNo, it is not acceptable because you are no longer testing the class in isolation which is one of the most important aspects of a unit test
p40990
aVYou are testing it with its dependency to this utility even if the utility has its own set of tests
p40991
aVTo simplify the creation of mock objects you could use a mock framework
p40992
aVHere are some popular choices:
p40993
aVRhino Mocks
p40994
aVMoq
p40995
aVNSubstitute
p40996
aVOf course if this utility class is private and can only be used within the scope of the class under test then you don't need to mock it
p40997
as(dp40998
g16
V29407
p40999
stp41000
a((dp41001
g2
(lp41002
VJimmy Bogard gave an excellent presentation at MVCConf which is worth checking out
p41003
as(dp41004
g16
V29407
p41005
stp41006
a((dp41007
g2
(lp41008
VYou could use the  method in Global
p41009
aVasax:
p41010
as(dp41011
g16
V29407
p41012
stp41013
a((dp41014
g2
(lp41015
VThis is not something specific to ASP
p41016
aVNET MVC but it is the normal behavior of any ASP
p41017
aVNET application
p41018
aVAll unhanded exceptions are logged which seems normal
p41019
aVSo you need to handle them
p41020
aVFor this type of exception you could indeed use route constraints and have custom 404 and 500 error pages
p41021
aVThere's also the  handler in Global
p41022
aVasax which could be used to handle exceptions
p41023
aVFor controller level exceptions there's the  action filter
p41024
as(dp41025
g16
V29407
p41026
stp41027
a((dp41028
g2
(lp41029
VYou should make sure not to submit to a page which itself constructs a form and submits or the recursion might appear
p41030
aVHere's an example of searching on stackoverflow:
p41031
as(dp41032
g16
V29407
p41033
stp41034
a((dp41035
g2
(lp41036
VAfter your comment about child actions you could test if the current action is a child action and don't execute the code
p41037
aVSo you could have a custom action filter:
p41038
aVand then decorate your base controller with this custom attribute
p41039
aVSimilar test could be performed in the overridden OnActionExecuting method of your base controller if you prefer it instead of action attributes:
p41040
as(dp41041
g16
V29407
p41042
stp41043
a((dp41044
g2
(lp41045
VUnable to reproduce the behavior:
p41046
aVController:
p41047
aVView:
p41048
aVWhen the form is submitted the server returns only
p41049
as(dp41050
g16
V29407
p41051
stp41052
a((dp41053
g2
(lp41054
VTo create a persistent cookie you need to set the Expires property:
p41055
as(dp41056
g16
V29407
p41057
stp41058
a((dp41059
g2
(lp41060
VThis is not code
p41061
aVIt's just a config file containing settings and unless you have some code using them it won't do anything
p41062
aVIt is not establishing any connection to the database, it's just externalizing the connection string so that you don't have to hardcode it in your application when you write the data access layer
p41063
as(dp41064
g16
V29407
p41065
stp41066
a((dp41067
g2
(lp41068
VYou may take a look at ClickOnce deployment as part of the framework
p41069
aVYou may also checkout wyUpdate
p41070
aVThere's also BitsUpdater
p41071
as(dp41072
g16
V29407
p41073
stp41074
a((dp41075
g2
(lp41076
VSo for example if (actual price) = $15, (discount) = 5%
p41077
as(dp41078
g16
V29407
p41079
stp41080
a((dp41081
g2
(lp41082
VYou need to post the fileId associated to this cover to the controller action:
p41083
as(dp41084
g16
V29407
p41085
stp41086
a((dp41087
g2
(lp41088
VWhy wouldn't it work
p41089
aVWhen youtube detects the iPad user agent it uses HTML5 to serve videos instead of Flash
p41090
aVThere's no need to use any special code for iPad as it is capable of rendering normal web pages (except Flash :-))
p41091
as(dp41092
g16
V29407
p41093
stp41094
a((dp41095
g2
(lp41096
VThat's normal
p41097
aVIf the object type is  you cannot cast it to  because they are not of the same type:
p41098
aVYou need to convert it:
p41099
as(dp41100
g16
V29407
p41101
stp41102
a((dp41103
g2
(lp41104
VYou could use the built-in cache
p41105
aVAs far as the application startup is concerned you could use the  method in
p41106
as(dp41107
g16
V29407
p41108
stp41109
a((dp41110
g2
(lp41111
VNot really answering your question about pasting but offering an alternative: you could subscribe for the submit handler of the form and perform the validation there
p41112
aVEven more elegant is to use the jquery validation plugin which will do the job of subscribing for you so that you only need to define the rules and error messages:
p41113
as(dp41114
g16
V29407
p41115
stp41116
a((dp41117
g2
(lp41118
VVB6 dlls are not
p41119
aVNET assemblies and are very different in nature (unmanaged vs managed code) so you cannot use them directly
p41120
aVYou need PInvoke or COM interop
p41121
as(dp41122
g16
V29407
p41123
stp41124
a((dp41125
g2
(lp41126
VTo compress/minify javascript files you could use the YUI compressor which has a
p41127
aVNET port
p41128
aVThe Google Closure Compiler is also worth checking
p41129
aVYou could use it online or compile its JAR package to
p41130
aVNET assembly using ikvmc
p41131
aVTo create a zip file you may take a look at SharpZipLib
p41132
as(dp41133
g16
V29407
p41134
stp41135
a((dp41136
g2
(lp41137
VYou can't do this because the html helpers execute at the server side while the dropdown value can change at the client side
p41138
aVThe only way to achieve it is to use javascript
p41139
aVYou could register for the onchange event of the dropdown and modify the value of the href of the anchor:
p41140
aVThis is probably not the best solution because the routes are configured on the server side and in order to modify the value of the link you need to do some string manipulation on the client side
p41141
aVAs an alternative you could use a form and a submit button instead of an anchor
p41142
aVThis way the selected value of the dropdown will be automatically sent to the server and you don't need any javascript:
p41143
as(dp41144
g16
V29407
p41145
stp41146
a((dp41147
g2
(lp41148
VDid you set AutoGenerateColumns to true
p41149
as(dp41150
g16
V29407
p41151
stp41152
a((dp41153
g2
(lp41154
VDon't use ODBC
p41155
aVODP
p41156
aVNET is a driver provided by Oracle which is based on the same model as SQL Server: simply download the assembly, reference it in your project and use it:
p41157
as(dp41158
g16
V29407
p41159
stp41160
a((dp41161
g2
(lp41162
VHtml helpers execute at the server side and cannot use variables from javascript
p41163
aVYou might need to modify the action attribute of the generated form: give it an id and then subscribe for the onsubmit event and change the values
p41164
as(dp41165
g16
V29407
p41166
stp41167
a((dp41168
g2
(lp41169
VYou could write a custom action filter attribute which will execute after each action and set the property of the base model:
p41170
aVNow all that's left is to decorate your base controller with this action filter
p41171
aVAnother way to handle this is to use child actions and not have a base view model
p41172
as(dp41173
g16
V29407
p41174
stp41175
a((dp41176
g2
(lp41177
VAction filter seems like a good idea:
p41178
aVand then decorate your base controller with this attribute
p41179
as(dp41180
g16
V29407
p41181
stp41182
a((dp41183
g2
(lp41184
VMake sure you install the latest security patches for your operating system and hire a good network administrator
p41185
aVNo kidding
p41186
aVNo matter what you do if a hacker gains control over the server he will get the code under one form or another even if it is precompiled
p41187
aVThis being said it is a good idea to precompile the application and deploy only the assemblies instead of the source code
p41188
aVYou could also consider obfuscating it also but this is something usually done for client applications which you deploy to your users computers and less frequently done in server side applications because you control the server
p41189
as(dp41190
g16
V29407
p41191
stp41192
a((dp41193
g2
(lp41194
VAn application pool in IIS is not tied to a particular version of the framework but to  a version of the CLR
p41195
aVIt can be set to CLR 1
p41196
aV1, CLR 2
p41197
aV0 or 4
p41198
ag2721
aVBecause
p41199
aVNET 2
p41200
aV0 and 3
p41201
aV5 use both the same CLR 2
p41202
aV0 you can use a library compiled against
p41203
aVNET 3
p41204
aV5 without any problems
p41205
as(dp41206
g16
V29407
p41207
stp41208
a((dp41209
g2
(lp41210
VNET cannot be used to write extensions for FireFox
p41211
aVYou could build an extension which runs your
p41212
aVNET application as a separate process
p41213
as(dp41214
g16
V29407
p41215
stp41216
a((dp41217
g2
(lp41218
VADO
p41219
aVNET uses a connection pool which avoids creating connections to the database everytime
p41220
aVA pool of connections is created per application domain and per connection string and connections from this pool are reused
p41221
aVSo when you instantiate your repository no connection is created to the database
p41222
aVFor caching objects you might take a look at the standard techniques
p41223
aVAs far as your example is concerned if  is disposable it is recommended to call the  method on it which could be done in the  method of the controller
p41224
as(dp41225
g16
V29407
p41226
stp41227
a((dp41228
g2
(lp41229
VYou can't access views directly without passing through a controller
p41230
aVAll pages in the  folder cannot be served directly
p41231
aVSo one way to accomplish what you are looking for is to write a custom attribute and set the error page:
p41232
as(dp41233
g16
V29407
p41234
stp41235
a((dp41236
g2
(lp41237
VUse double  for boolean expressions, the simple  is an assignment operator:
p41238
as(dp41239
g16
V29407
p41240
stp41241
a((dp41242
g2
(lp41243
VYou are getting a NullReferenceException because you are trying to access the value of some nodes that don't exist for each  like
p41244
aVYou need to check whether  before calling  on it
p41245
aVAs an alternative you could use XPath:
p41246
as(dp41247
g16
V29407
p41248
stp41249
a((dp41250
g2
(lp41251
VStateful web services are not scalable and I wouldn't recommend them
p41252
aVInstead you could store the results of expensive operations in the cache
p41253
aVThis cache could be distributed through custom providers for better scalability:
p41254
as(dp41255
g16
V29407
p41256
stp41257
a((dp41258
g2
(lp41259
VMake sure that when you use this wizard there are input fields generated in the view for each property of the Calendar object so that when you post the form they will be sent to the controller action
p41260
aVI am not sure this is the case (haven't verified if the wizard does it for complex objects, I've never used this wizard)
p41261
aVIn the resulting HTML you should have:
p41262
aVUPDATE:
p41263
aVThe problem comes from the fact that you have a string variable called  in your action method and an object which has a property called  which is confusing
p41264
aVTry renaming it:
p41265
aVAlso don't forget to rename it in your view
p41266
as(dp41267
g16
V29407
p41268
stp41269
a((dp41270
g2
(lp41271
VNo there isn't such standard cross browser technology
p41272
aVChat roulette uses Flash
p41273
aVA plugin will be required in any case
p41274
as(dp41275
g16
V29407
p41276
stp41277
a((dp41278
g2
(lp41279
VIf you are using ASP
p41280
aVNET 4 you could set static ids in web
p41281
aVconfig:
p41282
aVthis way you know the generated ID
p41283
aVIf you are not using ASP
p41284
aVNET 4
p41285
aV0 an alternative is to declare a global js variable:
p41286
aVwhich could be used later to manipulate the select
p41287
as(dp41288
g16
V29407
p41289
stp41290
a((dp41291
g2
(lp41292
VAs the documentation explains it:
p41293
aVGets role information for an ASP
p41294
aVNET application from Windows group membership
p41295
aVThis means that the user roles will be obtained from Windows groups
p41296
aVSo you can remove it if you don't want to use Windows group roles
p41297
as(dp41298
g16
V29407
p41299
stp41300
a((dp41301
g2
(lp41302
VIf you want such behavior you will need to change platform/language
p41303
aVNET doesn't automatically call the base method
p41304
aVYou need to call it explicitly
p41305
aVAlso your method needs to be virtual or you will be hiding it in the derived class:
p41306
aVNow when you do this:
p41307
aVyou will get the required result
p41308
as(dp41309
g16
V29407
p41310
stp41311
a((dp41312
g2
(lp41313
VI just want to re-use my EF Entity (User) on 2 different views along with its DataAnnotations
p41314
aVHere's the problem
p41315
aVYou shouldn't do this
p41316
aVI would recommend you setting up view models which are classes specifically tailored for a given view and contain the necessary validation attributes for this view only
p41317
aVTo ease the mapping between your EF models and the view models you could use AutoMapper
p41318
as(dp41319
g16
V29407
p41320
stp41321
a((dp41322
g2
(lp41323
VAssuming the following routes setup:
p41324
aVwill resolve to the  action of the  controller but the default model binder will throw an exception because  is not a valid value for a
p41325
aVOn the other hand  should work
p41326
aVwill resolve to the  action on the  controller
p41327
as(dp41328
g16
V29407
p41329
stp41330
a((dp41331
g2
(lp41332
VThe problem is that the  field or property is not declared as static in your class  and you can access only static members from a static constructor
p41333
aVAlso remove the  keyword from the declaration:
p41334
as(dp41335
g16
V29407
p41336
stp41337
a((dp41338
g2
(lp41339
VIf those calculations concern formatting for the given view then it is the exact place
p41340
aVIt seems you are doing exactly this: formatting for the view which is OK (sorry if I've missed something, my VB
p41341
aVNET code reading skills start to elude me :-))
p41342
aVIf on the other hand it is some domain logic it is probably better suited to the model so that it can be reused
p41343
as(dp41344
g16
V29407
p41345
stp41346
a((dp41347
g2
(lp41348
V is not dependent on the  property and setting it won't have any effect
p41349
aVYou could try this instead:
p41350
as(dp41351
g16
V29407
p41352
stp41353
a((dp41354
g2
(lp41355
VWhen you perform an AJAX call you usually want to update only a portion of the page by returning a partial view
p41356
aVSo you only need to set ViewData used by this partial
p41357
aVBy the way don't use ViewData, I would recommend you using view models and strongly typed views
p41358
as(dp41359
g16
V29407
p41360
stp41361
a((dp41362
g2
(lp41363
VYou could use the JavaScriptSerializer class
p41364
aVYou start by defining a model class which will hold the data
p41365
aVSo let's suppose that the remote URL returns the following JSON:
p41366
aVwhich could be represented by this model:
p41367
aVAnd then deserialize the received JSON back to the model:
p41368
aVUPDATE:
p41369
aVIn order to fetch the JSON from remote url you could use WebClient:
p41370
as(dp41371
g16
V29407
p41372
stp41373
a((dp41374
g2
(lp41375
VYou may take a look at this blog post by Steve Sanderson illustrating how to create dynamic lists
p41376
as(dp41377
g16
V29407
p41378
stp41379
a((dp41380
g2
(lp41381
VNo matter what you do if there's a  tag in the page and javascript disabled it can always be submitted
p41382
aVEven if you remove the  attribute it will submit to the same page
p41383
aVSo you could use the  tag to provide an alternative markup to users with javascript disabled
p41384
aVAnother possibility is to hide the submit button with CSS and show it with javascript (so that only users that have JS enabled can see it) but this is not ideal because the form could still be submitted by pressing Enter while typing inside an input
p41385
aVI think a better way would be to leave the form submit a regular request and in your controller action handle this case and react accordingly:
p41386
as(dp41387
g16
V29407
p41388
stp41389
a((dp41390
g2
(lp41391
VJust put it inside the callback:
p41392
as(dp41393
g16
V29407
p41394
stp41395
a((dp41396
g2
(lp41397
VYou don't need to escape or encode
p41398
aVjQuery will take care of properly URL encoding the data:
p41399
as(dp41400
g16
V29407
p41401
stp41402
a((dp41403
g2
(lp41404
VThat's because the  function tries to set the inner HTML which doesn't work for a text field
p41405
aVYou need to set its value instead:
p41406
aVThe  function sends an AJAX request and in the success callback set the value of the text field
p41407
as(dp41408
g16
V29407
p41409
stp41410
a((dp41411
g2
(lp41412
VIf you want to use all HTML 5 features then, yes, you have to learn javascript because some of them rely on javascript like Local Storage and the WebSocket API
p41413
as(dp41414
g16
V29407
p41415
stp41416
a((dp41417
g2
(lp41418
VWhy not directly pass the information you need in the request:
p41419
as(dp41420
g16
V29407
p41421
stp41422
a((dp41423
g2
(lp41424
VHere's an example with a list box allowing multiple items to be selected and a button which retrieves the selected items:
p41425
as(dp41426
g16
V29407
p41427
stp41428
a((dp41429
g2
(lp41430
VOn windows you could use JScript
p41431
as(dp41432
g16
V29407
p41433
stp41434
a((dp41435
g2
(lp41436
VDoesn't byte + byte = byte
p41437
aVNope, because it may overflow (> 255), that's why this operation returns an Int32
p41438
aVYou could cast the result back to byte at your own risk
p41439
as(dp41440
g16
V29407
p41441
stp41442
a((dp41443
g2
(lp41444
VStart by getting rid of
p41445
aVIf you use jquery you don't need those
p41446
as(dp41447
g16
V29407
p41448
stp41449
a((dp41450
g2
(lp41451
VThis has been asked million times here and I've answered it million times - this is by design: HTML helpers always use the POSTed value when binding before looking at the ViewData or model
p41452
aVThis basically means that you cannot change the value in the controller action and this is by design
p41453
aVYou could write your own html helper if you don't like this design or simply:
p41454
aVIf you use html helper:
p41455
aVif there's a POSTed value  it is this value that is going to be used no matter what you put in
p41456
as(dp41457
g16
V29407
p41458
stp41459
a((dp41460
g2
(lp41461
VYou could specify a download filename:
p41462
as(dp41463
g16
V29407
p41464
stp41465
a((dp41466
g2
(lp41467
VWhy don't you use the class automatically generated by Visual Studio when you added the  file (Resource
p41468
aVDesigner
p41469
aVcs)
p41470
aVThis way you don't need to write all the code you wrote
p41471
as(dp41472
g16
V29407
p41473
stp41474
a((dp41475
g2
(lp41476
VBy default anchor tags send GET requests only
p41477
aVIf you want to send all the values inside a form I would recommend you using a submit button instead of an
p41478
aVYou could even make it look like a link using image button if this is your concern
p41479
aVIf you really insist on using ActionLink you could have some javascript to subscribe for the  event, submit the form and cancel the redirect
p41480
aVThe question is why would you want to go through all this pain when you have the first option
p41481
aVAs far as passing values to a controller action are concerned you can pass them in the request (GET, POST, PUT, DELETE) or route => in this case the model binder will automatically bind them to action parameters
p41482
as(dp41483
g16
V29407
p41484
stp41485
a((dp41486
g2
(lp41487
VThis means that the Html helper extensions are depending on the css and markup
p41488
aVThat's exactly what HTML helpers are meant for, so yes this is a very good use of helpers
p41489
as(dp41490
g16
V29407
p41491
stp41492
a((dp41493
g2
(lp41494
VYou could use a custom IIdentity and IPrincipal
p41495
aVHere's a nice article describing how to achieve this (the interesting part is happening in the  method which in an ASP
p41496
aVNE MVC application would be the authenticate controller action, here is emitted the authentication ticket with custom data)
p41497
aVIn this example the idea is that the authentication ticket is manually created and the  property is used to store additional information
p41498
aVThis might not be appropriate for your case if you have lots of data because this is stored in a cookie
p41499
aVBut instead of using the  you could store it somewhere else like Session or Cache
p41500
aVYou could also write a custom  attribute to deal with the custom principal (the part that corresponds to the  method in the article should go in this custom authorization filter in order to reconstruct the user back)
p41501
as(dp41502
g16
V29407
p41503
stp41504
a((dp41505
g2
(lp41506
s(dp41507
g16
V29407
p41508
stp41509
a((dp41510
g2
(lp41511
VI am afraid this is not possible with MSAjax
p41512
aVOn the other hand if you use jQuery there's the  which allows you to achieve exactly this:
p41513
as(dp41514
g16
V29407
p41515
stp41516
a((dp41517
g2
(lp41518
VWhat do you mean when you say that it stops responding
p41519
aVYou could try putting logging statements that would trace the input/output around the call to see where exactly it blocks
p41520
aVAlso make sure you check the server Event Log where unhandled ASP
p41521
aVNET errors are written
p41522
aVAs a last resort you could install Visual Studio remote debugging tools () on the server and step through the code by attaching to the corresponding  process
p41523
aVActually the debugging tools doesn't require installation, a simple copy is enough ()
p41524
as(dp41525
g16
V29407
p41526
stp41527
a((dp41528
g2
(lp41529
VInstead of having those methods write to a file I would recommend you changing the their signature to work with a TextWriter
p41530
aVThis way they are more independent of the underlying storage:
p41531
aVNow your test could become:
p41532
aVAlso notice that you shouldn't use the  method to assert in the unit test of the  method
p41533
aVThose two methods should be separate and have their separate tests
p41534
aVAnd the  method:
p41535
as(dp41536
g16
V29407
p41537
stp41538
a((dp41539
g2
(lp41540
VThere could be only one web
p41541
aVconfig per application
p41542
aVSo if you have a separate web
p41543
aVconfig for your service you might need to setup a web method which returns the desired values and call this web method from your application
p41544
as(dp41545
g16
V29407
p41546
stp41547
a((dp41548
g2
(lp41549
VIt's all or nothing
p41550
aVOf course jquery is open source and you could extract the part you are interested in in your own library (good luck with this)
p41551
aVYou may consider using a CDN which will ensure that most users will already have it cached in their browsers so you shouldn't be concerned about size
p41552
as(dp41553
g16
V29407
p41554
stp41555
a((dp41556
g2
(lp41557
V is NOT a datatype in C#
p41558
aVThat's why you cannot use it as a return parameter
p41559
aVThe compiler infers the type at compile time from the right handside of the assignment and bearing in mind that it is known at compile time you need to use the real type as return value
p41560
aVIn C# 4
p41561
aV0 you could use the dynamic type:
p41562
as(dp41563
g16
V29407
p41564
stp41565
a((dp41566
g2
(lp41567
Vand then when someone adds a product:
p41568
as(dp41569
g16
V29407
p41570
stp41571
a((dp41572
g2
(lp41573
VYou could pass the original  as parameter when calling your AJAX action
p41574
aVThis way the action knows what was the original action and store it in the model (or ViewData as in your case I see that your views are not strongly typed)
p41575
aVNow your markup could become:
p41576
as(dp41577
g16
V29407
p41578
stp41579
a((dp41580
g2
(lp41581
VThis indicates that there's some problem with the application pool
p41582
aVYou may take a look at the server Event Log for further details as to why it has failed
p41583
as(dp41584
g16
V29407
p41585
stp41586
a((dp41587
g2
(lp41588
VThe only cleaner way I can think of is to modify the getter of the  property to never return null, or have the constructor always initialize the
p41589
aVOtherwise you always need to check for null
p41590
as(dp41591
g16
V29407
p41592
stp41593
a((dp41594
g2
(lp41595
VIt looks like this is some CSS problem
p41596
aVHave you tried removing the styles to see if it renders correctly
p41597
as(dp41598
g16
V29407
p41599
stp41600
a((dp41601
g2
(lp41602
VPersonally I always use WebClient
p41603
aVThe API seems more simple
p41604
aVIt uses HttpWebRequest under the covers
p41605
as(dp41606
g16
V29407
p41607
stp41608
a((dp41609
g2
(lp41610
VIt is impossible to save such values in an XML file
p41611
aVYou might need to encode it before hand
p41612
aVYou could use Base 64 for this
p41613
as(dp41614
g16
V29407
p41615
stp41616
a((dp41617
g2
(lp41618
VYou could set the  option when performing your AJAX request to cache the response in the browser
p41619
aVFor more effective caching you could also set the proper cache HTTP headers on the server
p41620
as(dp41621
g16
V29407
p41622
stp41623
a((dp41624
g2
(lp41625
VIMHO this would be a micro optimization
p41626
aVYou will gain performance but it won't be noticeable
p41627
aVOn the other hand you will loose much of the flexibility offered by the server controls
p41628
aVYou could try to reduce the size of the ViewState by disabling it for controls that don't need it
p41629
aVThis will reduce the size of the generated pages and improve performance
p41630
as(dp41631
g16
V29407
p41632
stp41633
a((dp41634
g2
(lp41635
VDon't use  tags in web
p41636
aVconfig to handle authorization in an ASP
p41637
aVNET MVC application as locations have no longer any sense
p41638
aVAll you need in web
p41639
aVconfig is the  tag
p41640
aVIn MVC authorization could be achieved by decorating proper controllers and/or actions with the  attribute
p41641
as(dp41642
g16
V29407
p41643
stp41644
a((dp41645
g2
(lp41646
VMaybe you are using Cassini and recompiling your application every time by hitting F5 which creates the illusion that the  method is called on every request
p41647
as(dp41648
g16
V29407
p41649
stp41650
a((dp41651
g2
(lp41652
VThe reason this happens is simple: it is because you are not using view models which is what I would recommend
p41653
aVLet me elaborate
p41654
aVIn your views you are directly using your data models which are not POCO objects and using Linq to SQL pollutes them even further with those  stuff which are specific to your DAL and just look at the setter of the Links property:
p41655
aVDon't expect from the default model binder to be that intelligent
p41656
aVA view should never work with things like  (this is an implementation specific detail)
p41657
aVSo start by defining a POCO view model which expresses the intent of the view which is editing links:
p41658
aVNow strongly type your view to this view model instead of the model
p41659
aVAlso the POST action takes the view model as argument
p41660
aVYou could use AutoMapper to perform the conversion between your model and view models
p41661
aVIn fact every time I see a question on SO tagged with both  and  (or entity framework) I know that there's something wrong
p41662
aVThose two things should be completely separate and have nothing in common
p41663
aVYou DAL should be abstracted away in a repository so that MVC never knows about the data access technology you are using
p41664
aVThe normal scenario would be this:
p41665
aVThe controller action receives a view model as argument, validates it, maps this view model to some model and invokes some method from the repository passing the model
p41666
aVThe repository returns another model which in turn is converted into a view model and passed to the view to be rendered (of course this is the complete scenario, there are cases where you could skip steps for simple actions)
p41667
as(dp41668
g16
V29407
p41669
stp41670
a((dp41671
g2
(lp41672
VGu commented about this
p41673
aVQuoting:
p41674
aVThe release notes cover this more (you
p41675
aVcan download them from the download
p41676
aVlink above)
p41677
aVSession state is
p41678
aVdesigned so that only one request from
p41679
aVa particular user/session occurs at a
p41680
aVtime
p41681
aVSo if you have a page that has
p41682
aVmultiple AJAX callbacks happening at
p41683
aVonce they will be processed in serial
p41684
aVfashion on the server
p41685
aVGoing
p41686
aVsession-less means that they would
p41687
aVexecute in parallel
p41688
aVThis is a known scenario in ASP
p41689
aVNET in general
p41690
aVThe session object for the same user is not thread safe
p41691
aVThis means that if the same user (same session id cookie) sends multiple requests to a page which uses session those requests will queue and will be processed in series and not in parallel
p41692
as(dp41693
g16
V29407
p41694
stp41695
a((dp41696
g2
(lp41697
VNot exactly the most elegant solution but probably acceptable:
p41698
aVOn a side note:  is a totally invalid attribute in HTML according to standard doctypes so maybe the most elegant solution would be to get rid of it :-)
p41699
as(dp41700
g16
V29407
p41701
stp41702
a((dp41703
g2
(lp41704
VThe problem is not in passing modified model back to the view
p41705
aVThis happens correctly
p41706
aVYour issue is with the way HTML helpers work
p41707
aVThat's their normal behavior is by design
p41708
aVWhen binding the value of the input field they first look at POSTed values and after that in ViewData and view model
p41709
aVThis means that you cannot modify the POSTed values in your controller action
p41710
aVAs a workaround:
p41711
aVI have answered this many times before and continue to answer it hoping that people will finally start noticing it
p41712
as(dp41713
g16
V29407
p41714
stp41715
a((dp41716
g2
(lp41717
VThis is the normal behavior of standard HTML helpers and is by design
p41718
aVWhen rendering the input field they will first look at the request POSTed values and only after in the ViewData and view model
p41719
aVThis basically means that you cannot change POSted values in your controller action
p41720
aVSo if you have a form with an input field:
p41721
aVwhich is posted to the following action
p41722
aVwhen rendering the view back the html helper will use the posted value
p41723
aVYou could either write a custom html helper that does the job for you or handle it manually (absolutely not recommended but for the record):
p41724
as(dp41725
g16
V29407
p41726
stp41727
a((dp41728
g2
(lp41729
VThere won't be much difference in performance between the two methods
p41730
aVObviously using an http handler will be the fastest you could get because the request doesn't go through the MVC lifecycle (routing, instantiating a controller, model binding, invoking the action) but I think this is a micro optimization and I would personally use the first approach as it is more adapted in an MVC scenario
p41731
aVIf you later realize that this is a bottleneck for your application by performing extensive load tests you could always switch to the http handler approach
p41732
aVAs far as your second question is concerned about the helper, the answer is no, you cannot do this easily
p41733
aVThe only possibility is to use the data URI scheme but this is not supported by all browsers
p41734
aVThis way if your model has the byte array of the image you could write a helper which renders the following:
p41735
aVThe image data is base64 encoded directly into the page
p41736
aVAnother drawback is that those images will never be cached and your HTML pages could become very large
p41737
as(dp41738
g16
V29407
p41739
stp41740
a((dp41741
g2
(lp41742
VYou may take a look at AutoMapper
p41743
as(dp41744
g16
V29407
p41745
stp41746
a((dp41747
g2
(lp41748
VYour  doesn't have a  attribute and so when you submit the form the selected value is not sent to the server
p41749
aVYou need to add a name:
p41750
as(dp41751
g16
V29407
p41752
stp41753
a((dp41754
g2
(lp41755
VHaving different fault contracts is the way to go in WCF
p41756
aVAlso centralizing the exception handling code in a custom error handler is a good idea
p41757
aVThis way you no longer need to write all those try/catch and in the catch clause transform the exception into a fault contract in all service operations
p41758
as(dp41759
g16
V29407
p41760
stp41761
a((dp41762
g2
(lp41763
VThere won't be any interoperability issues if the Java web service respects the standards
p41764
as(dp41765
g16
V29407
p41766
stp41767
a((dp41768
g2
(lp41769
VThe MVP pattern is more adapted to WinForms applications
p41770
aVHere's a nice article you may take a look at
p41771
as(dp41772
g16
V29407
p41773
stp41774
a((dp41775
g2
(lp41776
VYou could use the Process
p41777
aVStart method:
p41778
as(dp41779
g16
V29407
p41780
stp41781
a((dp41782
g2
(lp41783
VNot directly answering your question but proposing an alternative: javascript has nothing to do in HTML and both should never be mixed
p41784
aVIt should be in a separate file:
p41785
aVand then in a separate js file (using jquery):
p41786
aVThis way your markup is smaller, static resources such as javascript is cached by the client browser and you don't need to worry about simple, double, triple quotes,
p41787
as(dp41788
g16
V29407
p41789
stp41790
a((dp41791
g2
(lp41792
VSure:
p41793
as(dp41794
g16
V29407
p41795
stp41796
a((dp41797
g2
(lp41798
VThat's not possible
p41799
aVAll you can hope of getting is the IP address of the caller and of course any information contained in the request message and eventual HTTP headers
p41800
as(dp41801
g16
V29407
p41802
stp41803
a((dp41804
g2
(lp41805
VHow about using AutoMapper:
p41806
aVand then:
p41807
aVIt's basically an implementation of your pseudo-code
p41808
as(dp41809
g16
V29407
p41810
stp41811
a((dp41812
g2
(lp41813
VAre you looking for a Semaphore
p41814
as(dp41815
g16
V29407
p41816
stp41817
a((dp41818
g2
(lp41819
VYou are using JSON as request content type and still provide parameters in the query string
p41820
aVWhy not simply use:
p41821
aVAlso notice that I've used  as variable to avoid any confusion with
p41822
as(dp41823
g16
V29407
p41824
stp41825
a((dp41826
g2
(lp41827
VYou could disable the button in the OnBegin callback and reenable it in the OnComplete callback
p41828
as(dp41829
g16
V29407
p41830
stp41831
a((dp41832
g2
(lp41833
VYou could define a repository interface and in the implementation of this repository use WebClient
p41834
aVThen your controller will work with the repository and because it is an interface it is easily mockable
p41835
aVNow you will say that this is simply delegating the problem of unit testing the implementation of the repository which is now using WebClient and which is not mockable
p41836
aVThe answer to this is that that's no longer an unit test and quite frankly testing a method like this:
p41837
aVdoesn't make much sense as you are now testing the WebClient class which I hope has already been done by its authors in Redmond
p41838
as(dp41839
g16
V29407
p41840
stp41841
a((dp41842
g2
(lp41843
VYou can simplify your 4 lines of code to this:
p41844
aVIf Key1 doesn't exist in the dictionary it will be added and if it exists the value will be updated
p41845
aVThat's what the indexer does
p41846
aVAs far as LINQ is concerned I don't see any relation to the question
p41847
as(dp41848
g16
V29407
p41849
stp41850
a((dp41851
g2
(lp41852
VYou could try increasing the maximum request length in web
p41853
aVconfig:
p41854
as(dp41855
g16
V29407
p41856
stp41857
a((dp41858
g2
(lp41859
VThe datastore you are using has nothing to do with the frontend application
p41860
aVYou could perfectly fine use ASP
p41861
aVNET MVC 3 with Razor as frontend and abstract the data access layer in a repository
p41862
aVIn the implementation of this repository you could use ADO
p41863
aVNET with data readers that return strongly typed model objects, Forget about the legacy DataSets
p41864
aVYou could use an ORM such as NHibernate to simplify the conversion between SQL queries and objects
p41865
aVAs far as MVC views are concerned you should use view models which are specific to each view instead of your model objects coming from the repository
p41866
aVTo map between different object types you may take a look at AutoMapper
p41867
as(dp41868
g16
V29407
p41869
stp41870
a((dp41871
g2
(lp41872
VThis will depend on the globalization element in web
p41873
aVconfig:
p41874
aVOr if your site is UTF-8
p41875
aVBut in this case the url needs to look like
p41876
aVYou should always use URL helpers to generate urls so that they are properly encoded
p41877
as(dp41878
g16
V29407
p41879
stp41880
a((dp41881
g2
(lp41882
VAs a side note ids cannot start with numbers
p41883
as(dp41884
g16
V29407
p41885
stp41886
a((dp41887
g2
(lp41888
VYou could split your method into two: the first method simply instantiates, configures and returns an instance of the FileSystemWatcher
p41889
aVYou could then easily test on the returned result object
p41890
aVA second method could take it as argument and simply enable rising events on it
p41891
as(dp41892
g16
V29407
p41893
stp41894
a((dp41895
g2
(lp41896
VWhy not using  in an editor template:
p41897
aVAnd then:
p41898
as(dp41899
g16
V29407
p41900
stp41901
a((dp41902
g2
(lp41903
VYou have two possibilities:
p41904
aVConstant polling (setInterval and AJAX)
p41905
aVPush (Comet and HTML 5 WebSocket API)
p41906
as(dp41907
g16
V29407
p41908
stp41909
a((dp41910
g2
(lp41911
VYou could use the setTimeout javascript function:
p41912
as(dp41913
g16
V29407
p41914
stp41915
a((dp41916
g2
(lp41917
VMs Jet drivers are not supported on x64 bit OS so IMHO you should no longer use it
p41918
aVSQLite is a great choice for an embedded database
p41919
as(dp41920
g16
V29407
p41921
stp41922
a((dp41923
g2
(lp41924
VThe scilexer
p41925
aVdll assembly should reside in the same folder as your executable so that it could be found at runtime
p41926
as(dp41927
g16
V29407
p41928
stp41929
a((dp41930
g2
(lp41931
VFrom PEP 8 - Style Guide for Python Code:
p41932
aVThe preferred way of wrapping long lines is by using Python's implied line
p41933
aVcontinuation inside parentheses, brackets and braces
p41934
aVIf necessary, you
p41935
aVcan add an extra pair of parentheses around an expression, but sometimes
p41936
aVusing a backslash looks better
p41937
aVMake sure to indent the continued line
p41938
aVappropriately
p41939
aVThe preferred place to break around a binary operator is
p41940
aVafter the operator, not before it
p41941
aVExample of implicit line continuation:
p41942
aVExample of explicit line continuation:
p41943
as(dp41944
g16
V29407
p41945
stp41946
a((dp41947
g2
(lp41948
VThis happens because the user you are running your application under doesn't have authorization to read those folders
p41949
aVYou might need to grant read access to those folders to the account you are running your site under
p41950
as(dp41951
g16
V29407
p41952
stp41953
a((dp41954
g2
(lp41955
VYou may checkout the documentation
p41956
aVAccording to it the default value of the cache location is Any which means:
p41957
aVThe output cache can be located on the
p41958
aVbrowser client (where the request
p41959
aVoriginated), on a proxy server (or any
p41960
aVother server) participating in the
p41961
aVrequest, or on the server where the
p41962
aVrequest was processed
p41963
aVThis value
p41964
aVcorresponds to the
p41965
aVHttpCacheability
p41966
aVPublic enumeration
p41967
aVvalue
p41968
aVAs far as caching the master you cannot put an OutputCache directive to a master page
p41969
aVYou could do it programatically by enabling caching in all the content pages
p41970
as(dp41971
g16
V29407
p41972
stp41973
a((dp41974
g2
(lp41975
VYou could set the value of the  tag to some other value:
p41976
aVThis will select the option with
p41977
aVOr using jquery:
p41978
as(dp41979
g16
V29407
p41980
stp41981
a((dp41982
g2
(lp41983
VYou shouldn't blindly replace every single foreach loop in your application with the parallel foreach
p41984
aVMore threads doesn't necessary mean that your application will work faster
p41985
aVYou need to slice the task into smaller tasks which could run in parallel if you want to really benefit from multiple threads
p41986
aVIf your algorithm is not parallelizable you won't get any benefit
p41987
as(dp41988
g16
V29407
p41989
stp41990
a((dp41991
g2
(lp41992
VYou may take a look at this article on MSDN
p41993
aVQuote:
p41994
aVTo prevent your event handler from
p41995
aVbeing invoked when the event is
p41996
aVraised, simply unsubscribe from the
p41997
aVevent
p41998
aVIn order to prevent resource
p41999
aVleaks, it is important to unsubscribe
p42000
aVfrom events before you dispose of a
p42001
aVsubscriber object
p42002
aVUntil you
p42003
aVunsubscribe from an event, the
p42004
aVmulticast delegate that underlies the
p42005
aVevent in the publishing object has a
p42006
aVreference to the delegate that
p42007
aVencapsulates the subscriber's event
p42008
aVhandler
p42009
aVAs long as the publishing
p42010
aVobject holds that reference, your
p42011
aVsubscriber object will not be garbage
p42012
aVcollected
p42013
as(dp42014
g16
V29407
p42015
stp42016
a((dp42017
g2
(lp42018
VYour  condition always evaluates to  () so this method is equivalent to:
p42019
aVAnd that's why you get the compiler warning
p42020
aVThe last line which returns null could never be hit
p42021
aVAs far as ignoring warnings is concerned I would recommend you to never ignore them
p42022
aVThere are cases where a warning could lead in an unexpected behavior during runtime
p42023
aVPersonally I've checked the option in VS which treats warnings as errors to make sure never miss a warning
p42024
as(dp42025
g16
V29407
p42026
stp42027
a((dp42028
g2
(lp42029
VYou have an opening paranthesis in more:
p42030
as(dp42031
g16
V29407
p42032
stp42033
a((dp42034
g2
(lp42035
VYes persistent cookies are one way of tracking unauthenticated users but bear in mind that the user can remove them and vote again so they are not reliable
p42036
aVThere's no reliable way of tracking unauthenticated users but cookies are probably good enough for your requirements
p42037
as(dp42038
g16
V29407
p42039
stp42040
a((dp42041
g2
(lp42042
VShould be  instead of  because  points to the DOM element and not the jquery element which has the  function defined:
p42043
as(dp42044
g16
V29407
p42045
stp42046
a((dp42047
g2
(lp42048
VTry the following routes:
p42049
as(dp42050
g16
V29407
p42051
stp42052
a((dp42053
g2
(lp42054
V automatically HTML encodes
p42055
aVIf you want to avoid HTML encoding (and you want this only if you are absolutely sure what you are doing) you could use  (basically everything that implements IHtmlString won't be encoded)
p42056
aVPhil Haack blogged about the Razor view engine syntax
p42057
as(dp42058
g16
V29407
p42059
stp42060
a((dp42061
g2
(lp42062
VYou could use document
p42063
aVcookie:
p42064
aVOr if you are using jquery you may take a look at the Cookie plugin
p42065
aVHere's an example
p42066
as(dp42067
g16
V29407
p42068
stp42069
a((dp42070
g2
(lp42071
VYou are setting  as request but there's nothing on the controller to understand this
p42072
aVThe default model binder works only with standard query string parameters ()
p42073
aVSo you could try this:
p42074
aVAnd the controller action:
p42075
aVNotice how the contentType is no longer used, the data hash contains the code parameter which will be sent to the controller action and the url is no longer hardcoded but url helper is used to calculate it
p42076
aVAlso the controller action returns JSON using an anonymous object
p42077
as(dp42078
g16
V29407
p42079
stp42080
a((dp42081
g2
(lp42082
VUnable to reproduce
p42083
aVThe following works perfectly fine in MVC 3 RC (Razor and WebForms):
p42084
as(dp42085
g16
V29407
p42086
stp42087
a((dp42088
g2
(lp42089
VHtml helpers usually return an MvcHtmlString instead of writing directly to the response
p42090
aVWriting directly to the response reminds me the of old classic WebForms controls :-)
p42091
aVAs a side note the  class has been moved to the  assembly in MVC 3 RC so make sure this is referenced
p42092
as(dp42093
g16
V29407
p42094
stp42095
a((dp42096
g2
(lp42097
VThere's no way to have a dynamic value as default parameter
p42098
aVIt should be known at compile time
p42099
aVIn fact the it is the same set of values that can be used as default parameter as for attribute arguments because default parameters values are emitted as the DefaultParameterValueAttribute attribute
p42100
aVYou could use a constant:
p42101
as(dp42102
g16
V29407
p42103
stp42104
a((dp42105
g2
(lp42106
VI suppose that you are using an AJAX form because you are talking about disabling and enabling the submit button, In this case I would recommend you disabling the submit button just before sending the AJAX request which will ensure that client validation has passed
p42107
aVIf you are using MS AJAX to AJAXify your form the two events you might try are OnBegin and OnComplete:
p42108
aVIf you are using jquery then you could subscribe for the  and  events and this could be achieved globally with $
p42109
aVajaxSetup
p42110
as(dp42111
g16
V29407
p42112
stp42113
a((dp42114
g2
(lp42115
VI see that you are using the jquery form plugin to ajaxify your form
p42116
aVThere's an example in the documentation illustrating how to achieve this in an elegant way
p42117
aVYou don't need to subscribe for the  event of the form and manually submit it using
p42118
aVYou could simply try this:
p42119
as(dp42120
g16
V29407
p42121
stp42122
a((dp42123
g2
(lp42124
VYou might need to increase the maxItemsInObjectGraph property in the service config:
p42125
as(dp42126
g16
V29407
p42127
stp42128
a((dp42129
g2
(lp42130
VWhen you use the  tag you are allowing only authenticated users to access those resources
p42131
aVI would recommend you using the  attribute on your controllers/actions to define authorization instead of using this tag
p42132
as(dp42133
g16
V29407
p42134
stp42135
a((dp42136
g2
(lp42137
VYou could store connections strings in the configuration file
p42138
aVYou may secure them if necessary
p42139
as(dp42140
g16
V29407
p42141
stp42142
a((dp42143
g2
(lp42144
VYou could use the disco
p42145
aVexe utility which allows you to save the wsdl and xsd files on disk so that those files could be used to generate a client proxy without having access to the WSDL web address
p42146
as(dp42147
g16
V29407
p42148
stp42149
a((dp42150
g2
(lp42151
VConverting a Stopwatch to an Int32 makes absolutely no sense
p42152
aVTo get the ellapsed time you could use the ElapsedMilliseconds property
p42153
aVSo the usual pattern would be:
p42154
as(dp42155
g16
V29407
p42156
stp42157
a((dp42158
g2
(lp42159
VYou should use jquery
p42160
aVThe amount of javascript you will need to write will be significantly less compared to using raw javascript
p42161
aVYou will also benefit from readability and maintenance standpoint
p42162
aVYour code will also work among many browsers
p42163
as(dp42164
g16
V29407
p42165
stp42166
a((dp42167
g2
(lp42168
VYou could use the return_bytes from the documentation:
p42169
as(dp42170
g16
V29407
p42171
stp42172
a((dp42173
g2
(lp42174
VYes, that's the correct way if you intend to return the same view in the POST action:
p42175
aVbind the list in the GET action from database
p42176
aVrender the view
p42177
aVthe user submits the form to the POST action
p42178
aVin the this action you fetch only the selected value so if the model is invalid and you need to redisplay the view you need to get the list back from the database in order to populate your view model
p42179
aVHere's an example of a commonly used pattern in MVC:
p42180
as(dp42181
g16
V29407
p42182
stp42183
a((dp42184
g2
(lp42185
VSure, as always start by defining your view model:
p42186
aVthen the controller:
p42187
aVand finally the strongly typed view:
p42188
as(dp42189
g16
V29407
p42190
stp42191
a((dp42192
g2
(lp42193
VIMHO it is fine to have your repository method return a model with all properties being mapped but then use a view model when time comes to display/edit this model on a view
p42194
aVThen perform a mapping between you model and you view model (which would be a subset of the model) and in your view work with the view model
p42195
aVThere's an exception to this: BLOBs
p42196
aVIf you are storing binary data such as images in the database I would recommend you having two separate methods: one that fetches the images and one that doesn't
p42197
as(dp42198
g16
V29407
p42199
stp42200
a((dp42201
g2
(lp42202
VIn your view model replace:
p42203
aVwith
p42204
aVand in your view bind the dropdown list to this :
p42205
aVNow as long as you provide a valid  value in your controller action:
p42206
aVThe HTML helper that renders the dropdown will correctly preselect the item from the list that has this given id
p42207
aVThe reason for this is that in a dropdown list you can select only a single value (a scalar type) and not an entire Author (all that is sent in the HTTP request when you submit the form is this selected value)
p42208
as(dp42209
g16
V29407
p42210
stp42211
a((dp42212
g2
(lp42213
VStrangely enough the VB
p42214
aVNET team didn't implement such feature in Visual Studio
p42215
as(dp42216
g16
V29407
p42217
stp42218
a((dp42219
g2
(lp42220
VOnly actions decorated with the  attribute verify the token and may raise this exception
p42221
aVcookie has no relation to any session and never times out
p42222
aVThe verification consists of checking the equality of the cookie value with the POSTed value from the hidden field
p42223
as(dp42224
g16
V29407
p42225
stp42226
a((dp42227
g2
(lp42228
VYou cannot use the model in a static CSS file
p42229
aVIf you want to achieve this you will need to generate it dynamically using a controller action
p42230
aVAs an alternative you could directly use an  tag:
p42231
as(dp42232
g16
V29407
p42233
stp42234
a((dp42235
g2
(lp42236
VWhy not simply:
p42237
as(dp42238
g16
V29407
p42239
stp42240
a((dp42241
g2
(lp42242
VBy using the onbeforeunload event:
p42243
as(dp42244
g16
V29407
p42245
stp42246
a((dp42247
g2
(lp42248
VYou could use the AppendAllText method:
p42249
as(dp42250
g16
V29407
p42251
stp42252
a((dp42253
g2
(lp42254
VOnly a single response filter can be applied, so you need to aggregate all the work in this filter
p42255
aVHere's an example how this could be achieved:
p42256
aVThis way you can combine multiple streams
p42257
as(dp42258
g16
V29407
p42259
stp42260
a((dp42261
g2
(lp42262
VHere's is a hack you might use but quite frankly consider jquery:
p42263
as(dp42264
g16
V29407
p42265
stp42266
a((dp42267
g2
(lp42268
VYou could use the  flag in your regular expression
p42269
aVThis indicates that the replace will be performed globally on all occurrences and not only on the first one
p42270
aVOf course you should be aware that this won't replace  nor  but only
p42271
aVSee an example of this working on ideone
p42272
aVUPDATE:
p42273
aVNow that you've provided an example with your input here's a working regex you might use to replace:
p42274
as(dp42275
g16
V29407
p42276
stp42277
a((dp42278
g2
(lp42279
VNormally when you perform an AJAX call to a controller action any redirects are followed until the client gets 200 status code or an error
p42280
aVSo the HTML of the url you are redirecting to will be placed in the  div
p42281
aVOn the other hand in your controller action you could test whether the call was asynchronous using  and return a partial
p42282
as(dp42283
g16
V29407
p42284
stp42285
a((dp42286
g2
(lp42287
VYou could use the  option:
p42288
aVFor the jquery ui autocomplete here's how you could achieve this:
p42289
as(dp42290
g16
V29407
p42291
stp42292
a((dp42293
g2
(lp42294
VHere's an example oh how this could be achieved:
p42295
as(dp42296
g16
V29407
p42297
stp42298
a((dp42299
g2
(lp42300
VImpersonation doesn't leave the ASPNET process
p42301
aVThis means that you cannot delegate the credentials and access a remote resource using them
p42302
aVYou could either swap back to Forms authentication which uses cookies or you will need Kerberos
p42303
as(dp42304
g16
V29407
p42305
stp42306
a((dp42307
g2
(lp42308
VIf you are using jquery ui dialog:
p42309
aVWhere  is the id of the DOM element the dialog has been attached to
p42310
as(dp42311
g16
V29407
p42312
stp42313
a((dp42314
g2
(lp42315
VI don't quite understand what you mean by delay in your scenario but you could use the setTimeout function to schedule the execution of some callback at a later moment:
p42316
as(dp42317
g16
V29407
p42318
stp42319
a((dp42320
g2
(lp42321
VYou may take a look at the GetBytes method:
p42322
aVAlso make sure you have taken endianness into consideration in your definition of first byte
p42323
as(dp42324
g16
V29407
p42325
stp42326
a((dp42327
g2
(lp42328
VWhen you set ValidateRequest to  all kind of dangerous characters are accepted as parameters so you must make sure to properly HTML encode them if you intend to redisplay this user input
p42329
as(dp42330
g16
V29407
p42331
stp42332
a((dp42333
g2
(lp42334
VI don't know what do you mean by refreshing the EF with big tables but the only way to avoid this exception is to make sure you don't load large amount of data into memory or add more memory to your machine
p42335
as(dp42336
g16
V29407
p42337
stp42338
a((dp42339
g2
(lp42340
VIf you are using strongly typed views which you should:
p42341
aVIf you are not using strongly typed views which you shouldn't:
p42342
as(dp42343
g16
V29407
p42344
stp42345
a((dp42346
g2
(lp42347
VYou are not declaring the business logic twice
p42348
aVIt's just that this business logic is abstracted behind an interface and in the implementation of this interface you can do whatever you want : hit the database, read from the filesystem, aggregate information from web addresses,
p42349
aVThis interface allows weaker coupling between the controller and the implementation of the repository and among other simplifies TDD
p42350
aVThink of it as a contract between the controller and the business
p42351
as(dp42352
g16
V29407
p42353
stp42354
a((dp42355
g2
(lp42356
VYou may take a look at the HtmlDecode and HtmlEncode methods:
p42357
as(dp42358
g16
V29407
p42359
stp42360
a((dp42361
g2
(lp42362
VA commonly used library for manipulating PDF files in
p42363
aVNET  is iTextSharp which is a port of the iText library
p42364
aVHere's an example:
p42365
as(dp42366
g16
V29407
p42367
stp42368
a((dp42369
g2
(lp42370
VIt depends
p42371
aVIf you are using extensionless routes then yes there's a special config
p42372
as(dp42373
g16
V29407
p42374
stp42375
a((dp42376
g2
(lp42377
VTry like this:
p42378
aVLet me elaborate about the different changes I've made to your initial code:
p42379
aVin class B needs to be public so that you can access it from class A
p42380
aVThe  method in class A should be static and not necessarily return a value (declare it as void) if you want to call it from the static  method
p42381
aVThe definition of the  delegate should return a string
p42382
as(dp42383
g16
V29407
p42384
stp42385
a((dp42386
g2
(lp42387
VYes, you could achieve the same functionality in
p42388
aVNET using the WebClient class:
p42389
as(dp42390
g16
V29407
p42391
stp42392
a((dp42393
g2
(lp42394
VThe problem that I am experiencing is that when I instatiate the new list, it has a length of one
p42395
aVNo, that's totally impossible
p42396
aVYour problem is somewhere else and unrelated to the number of elements of a newly instantiated list
p42397
aVwill be 0 at this point no matter what you do (assuming of course single threaded sequential access but  is not thread-safe anyways so it's a safe assumption :-))
p42398
as(dp42399
g16
V29407
p42400
stp42401
a((dp42402
g2
(lp42403
VYou are looking for the PreserveWhitespace property:
p42404
as(dp42405
g16
V29407
p42406
stp42407
a((dp42408
g2
(lp42409
VAs far as fetching the JSON from your server using AJAX is concerned you could use the  function
p42410
aVLive demo
p42411
as(dp42412
g16
V29407
p42413
stp42414
a((dp42415
g2
(lp42416
VMake sure the calling convention matches
p42417
aVIf you don't specify a calling convention  is assumed
p42418
aVHowever for C/C++ the standard calling convention is
p42419
aVSo either use  on your C++ function:
p42420
aVor specify  on the :
p42421
aVAs a side note, UInt16 is not CLS a compliant type so you probably want Int16 if you need this compliance
p42422
as(dp42423
g16
V29407
p42424
stp42425
a((dp42426
g2
(lp42427
VNo, please promise me not to create a virtual directory for each country in the world
p42428
aVCheckout routing instead
p42429
aVAnd here are some other examples
p42430
as(dp42431
g16
V29407
p42432
stp42433
a((dp42434
g2
(lp42435
VBy using this overload and providing the accepted formats:
p42436
as(dp42437
g16
V29407
p42438
stp42439
a((dp42440
g2
(lp42441
VI would use the repository to fetch whatever data is needed and don't think it's an ugly solution:
p42442
aVTo further refactor this I would recommend you watching the excellent Putting Your Controllers on a Diet video presentation by Jimmy Bogard
p42443
as(dp42444
g16
V29407
p42445
stp42446
a((dp42447
g2
(lp42448
VThis is a feature of ASP
p42449
aVNET 4
p42450
aV0 and not WCF, so an upgrade is necessary
p42451
aVSorry to disappoint you
p42452
aVOne more argument for the management to speed up the upgrade, because I am sure it's political and not technical
p42453
aVIf it was technical you would already be happily running
p42454
aVNET 4
p42455
ag2721
as(dp42456
g16
V29407
p42457
stp42458
a((dp42459
g2
(lp42460
VThis could happen if you try to save the file in a folder on the server side (like a temp folder in c:\u005cdocuments and settings\u005cblabla
p42461
aV\u005ctemp) and exceed the MAX_PATH limit of 255 characters while on the client the file is located at the root and MAX_PATH is not reached
p42462
as(dp42463
g16
V29407
p42464
stp42465
a((dp42466
g2
(lp42467
VHow about using XPath:
p42468
as(dp42469
g16
V29407
p42470
stp42471
a((dp42472
g2
(lp42473
VNo need to use JSON, ajax, jquery or whatever
p42474
aVSimply:
p42475
aVAnd then construct a link:
p42476
aVBe extremely careful when exposing such action on your server as a hacker could always type the following address in his favorite browser:
p42477
aVand live happily to the rest of his life :-)
p42478
as(dp42479
g16
V29407
p42480
stp42481
a((dp42482
g2
(lp42483
VYou can't use MTA in WinForms as most of the windows controls won't work as they are not compatible with MTA
p42484
aVSo always use MTA unless the code of your application makes calls to STA COM objects
p42485
aVFor example in ASP
p42486
aVNET, MTA is the default model
p42487
as(dp42488
g16
V29407
p42489
stp42490
a((dp42491
g2
(lp42492
VCan't you change the naming convention to:
p42493
aVwhere  would be an incrementing variable from 0 to n
p42494
aVThis way your controller action could look like this:
p42495
aVAnd leave the default model binder do the job
p42496
as(dp42497
g16
V29407
p42498
stp42499
a((dp42500
g2
(lp42501
VIt's a mechanism allowing the serializer to be informed of all types used by this web service so that they are correctly emitted in the WSDL and known by the clients
p42502
aVSo consider it whatever you want: hack, feature,
p42503
aVI consider it as a way to make the clients know all possible types
p42504
as(dp42505
g16
V29407
p42506
stp42507
a((dp42508
g2
(lp42509
VThis should necessarily be done on the client side, probably using jquery as everything that follows the  sign is never sent to the server
p42510
as(dp42511
g16
V29407
p42512
stp42513
a((dp42514
g2
(lp42515
VThere's absolutely no way to achieve this, so no need to waste your time and efforts
p42516
aVAs long as the browser can show an image, the user can also directly fetch it
p42517
as(dp42518
g16
V29407
p42519
stp42520
a((dp42521
g2
(lp42522
VYou could use the static HttpUtility
p42523
aVHtmlEncode method which works just fine and you won't need to mock it
p42524
aVAnother important remark: controllers have nothing to do with HTML encoding
p42525
aVThis is the view's responsibility so you are probably approaching this from the wrong angle
p42526
as(dp42527
g16
V29407
p42528
stp42529
a((dp42530
g2
(lp42531
VNo, this is not part of the standard MVC
p42532
aVPresumably it's a custom defined extension method
p42533
as(dp42534
g16
V29407
p42535
stp42536
a((dp42537
g2
(lp42538
VIf it shows that there's no data available the problem is that  simply returns no elements (empty collection)
p42539
aVAs to why this happens it is impossible to say from the information you provided
p42540
aVIt will largely depend on the implementation of this  and the available data in your data store
p42541
aVThis being said, I would recommend you using strongly typed views:
p42542
aVAnd so your view simply becomes:
p42543
aVNotice how the view is strongly typed to a collection of products
p42544
aVPlain, simple, strongly typed
p42545
aVUPDATE:
p42546
aVAs requested in the comments section here's an example of adding Edit and Delete links to each row:
p42547
aVand in the  partial:
p42548
aVWhich assumes of course the following actions are present in your ProductsController:
p42549
aVI also invite you to checkout a sample MVC application I wrote which illustrates those concepts
p42550
as(dp42551
g16
V29407
p42552
stp42553
a((dp42554
g2
(lp42555
VOpen the corresponding  file using your favorite text editor (Not Visual Studio) and add the following:
p42556
aVNotice the  guid
p42557
aVThis is what indicates that it's an ASP
p42558
aVNET MVC 2 project and you should get Visual Studio menus
p42559
aVIf this is an ASP
p42560
aVNET MVC 3 RC project the guid is
p42561
as(dp42562
g16
V29407
p42563
stp42564
a((dp42565
g2
(lp42566
VYou are overflowing the byte storage of 255 so it starts from 0
p42567
aVSo: a + b is an integer = 376
p42568
aVYour code is equivalent to:
p42569
aVThat's one of the reasons why adding two bytes returns an integer
p42570
aVCasting it back to a byte should be done at your own risk
p42571
aVIf you want to store the integer 376 into bytes you need an array:
p42572
aVAs you can see the resulting array contains 4 bytes now which is what is necessary to store a 32 bit integer
p42573
as(dp42574
g16
V29407
p42575
stp42576
a((dp42577
g2
(lp42578
VQuite convoluted but works:
p42579
aVMaybe there's a better approach though
p42580
aVStill learning the Razor syntax and quite frankly I am a bit disappointed by the WebGrid helper after having used MVCContrib Grid
p42581
as(dp42582
g16
V29407
p42583
stp42584
a((dp42585
g2
(lp42586
VI would recommend WCF with NetNamedPipeBinding for interprocess communication
p42587
aVHere's an example
p42588
aVThere's also Remoting which has been around since
p42589
aVNET 1
p42590
aV0 but becoming obsolete in favor of WCF
p42591
as(dp42592
g16
V29407
p42593
stp42594
a((dp42595
g2
(lp42596
VNo, just start typing and the list will filter until you find the desired class
p42597
as(dp42598
g16
V29407
p42599
stp42600
a((dp42601
g2
(lp42602
s(dp42603
g16
V29407
p42604
stp42605
a((dp42606
g2
(lp42607
VYou could provide the username and password in the connection string:
p42608
as(dp42609
g16
V29407
p42610
stp42611
a((dp42612
g2
(lp42613
VYou need to define a managed signature using the  attribute and then P/Invoke into the unmanaged library
p42614
aVExample from MSDN calling the MessageBox function from :
p42615
as(dp42616
g16
V29407
p42617
stp42618
a((dp42619
g2
(lp42620
VWhat is the best way
p42621
aVIt would be subjective to say what would be the best way
p42622
aVWhat I can say is what would be a bad way: perform the filtering by the application and not the SQL database
p42623
aVSo if by Linq you mean Linq to Entities and your query is translated to SQL statements so that the filtering is performed by the database then it is OK
p42624
aVIf you mean Linq to Objects then you are filtering in-memory and in order to do this it means that you have loaded the whole dataset into memory which is BAD
p42625
aVDon't load something into memory which is never needed/shown on the screen
p42626
as(dp42627
g16
V29407
p42628
stp42629
a((dp42630
g2
(lp42631
VThey are added once by the default model binder when it tries to parse the  action argument and a second time when you call the  method on the same type ()
p42632
aVSo either use action arguments or the  method but never both
p42633
aVPersonally I always use action parameters and never the  method
p42634
aVSo to fix the error in your case:
p42635
as(dp42636
g16
V29407
p42637
stp42638
a((dp42639
g2
(lp42640
VYou can't pass complex objects:
p42641
aVmakes no sense and cannot be sent using GET
p42642
aVYou might need to use a form with an editor template and/or hidden fields to send all the model properties
p42643
aVRemember only scalar values can be sent in the query string (key1=value1&key2;=value2
p42644
aVAnother alternative that comes to mind is to send only the ID:
p42645
aVand in your controller action fetch the model given this id from your data store:
p42646
aVOf course this is only true if the user is not supposed to edit the model properties in a form
p42647
aVDepends on your scenario
p42648
aVAnd for the sake of completeness let me expose another option: use the Html
p42649
aVSerialize helper from MVC Futures to serialize the entire model into a hidden field which could be passed back to the controller action and deserialized there
p42650
as(dp42651
g16
V29407
p42652
stp42653
a((dp42654
g2
(lp42655
VPOST everytime you are modifying some state on the server like database update, delete
p42656
aVGET for readonly fetching like database select
p42657
as(dp42658
g16
V29407
p42659
stp42660
a((dp42661
g2
(lp42662
VYou may take a look at this article on MSDN
p42663
aVThere's a section at the end which illustrates how to use the managed API to achieve configure a WAS enabled service
p42664
aVI am not familiar with Wix but you could probably use and plug this code into some custom deployment step
p42665
as(dp42666
g16
V29407
p42667
stp42668
a((dp42669
g2
(lp42670
VYou could use Markdown
p42671
aVThere are a couple of implementations for
p42672
aVNET
p42673
aVThis very same site uses this markup language for formatting questions and answers and I find it great
p42674
as(dp42675
g16
V29407
p42676
stp42677
a((dp42678
g2
(lp42679
VYou could write a custom action filter attribute which will fetch this data and store it in the view model on each action/controller decorated with this attribute
p42680
aVOf course it would much cleaner to use a base view model and strongly typed views:
p42681
aVNow all that's left is to is to decorate your base controller with this attribute:
p42682
aVThere's another more interesting solution which I personally prefer and which involves child actions
p42683
aVHere you define a controller which handles the retrieval of this information:
p42684
aVAnd now all that's left is to include this wherever needed (probably the master page if global):
p42685
aVor if the id is part of the routes:
p42686
as(dp42687
g16
V29407
p42688
stp42689
a((dp42690
g2
(lp42691
VYou could use the WriteXml method:
p42692
aVOr if you want to save it to a string:
p42693
as(dp42694
g16
V29407
p42695
stp42696
a((dp42697
g2
(lp42698
Vand then:
p42699
aVUPDATE:
p42700
aVIn order to get the selected text:
p42701
aVUPDATE 2:
p42702
aVThe same could be achieved with jquery:
p42703
aVand then:
p42704
as(dp42705
g16
V29407
p42706
stp42707
a((dp42708
g2
(lp42709
VWhen you modify web
p42710
aVconfig it's the AppDomain hosted in the  process which is unloaded
p42711
aVThis doesn't mean that the memory should change
p42712
aVAlso there's the auto start feature in IIS 7
p42713
aV5 and ASP
p42714
aVNET 4
p42715
aV0 which could load it once again to avoid cold starts
p42716
as(dp42717
g16
V29407
p42718
stp42719
a((dp42720
g2
(lp42721
VThe form is passed as argument to the success handler:
p42722
aVAlso I notice that you are using the jquery form plugin and still subscribing to the  event of the form which is not necessary:
p42723
as(dp42724
g16
V29407
p42725
stp42726
a((dp42727
g2
(lp42728
VMake sure to allow GET requests:
p42729
aVAnother tip: Use FireBug to see what's exactly being exchanged between the client and server and any possible error messages
p42730
aVUPDATE:
p42731
aVThe problem comes from the fact that you need to manually parse the JSON by using the  and  functions because the plugin expects the data to be formatted in a special way:
p42732
as(dp42733
g16
V29407
p42734
stp42735
a((dp42736
g2
(lp42737
VYou can't
p42738
aVThe generic parameter type needs to be known at compile time
p42739
aVThat's why we say that when we use generics it is a strongly typed code, because the types are known in advance
p42740
aVWhen the type is known only at runtime you cannot use it as generic parameter
p42741
as(dp42742
g16
V29407
p42743
stp42744
a((dp42745
g2
(lp42746
VActually it should be:
p42747
as(dp42748
g16
V29407
p42749
stp42750
a((dp42751
g2
(lp42752
Vor if you want to use the  event:
p42753
as(dp42754
g16
V29407
p42755
stp42756
a((dp42757
g2
(lp42758
VNo you don't necessary need to upgrade to
p42759
aVNET 4
p42760
aV0 even if it could be nice :-) All you need is to make sure the application pool is set to use CLR 2
p42761
aV0 in IIS and it will run just fine (obviously
p42762
aVNET 3
p42763
aV5 needs to be installed on the server)
p42764
as(dp42765
g16
V29407
p42766
stp42767
a((dp42768
g2
(lp42769
VI suspect that you are trying to modify the POSTed value (which is 1) in your controller action to 2
p42770
aVThis is not possible because that's how all HTML helpers work and it is by design: they will first look at the POSTed value when binding and after that in the model
p42771
aVSo the  helper ignores the Id of your model and uses the one that's posted
p42772
aVAs a workaround you could:
p42773
aVAs suggested by @jfar in the comments section another workaround is to clear the model state in the post action before returning the view:
p42774
as(dp42775
g16
V29407
p42776
stp42777
a((dp42778
g2
(lp42779
VI would recommend you taking a look at WCF which is the de-facto standard of creating web services on the
p42780
aVNET framework
p42781
aVAnd here's are some nice tutorials
p42782
as(dp42783
g16
V29407
p42784
stp42785
a((dp42786
g2
(lp42787
VNotice that you don't need the  attribute
p42788
aVIt is used only for binary serialization and ignored by XmlSerializer which is what I suspect you are using even if this should have been clearly stated in your question
p42789
aVAlso for better encapsulation I would recommend you using properties instead of fields
p42790
aVAnd another remark: the standard naming convention in C# dictates that property names should start with a capital letter
p42791
as(dp42792
g16
V29407
p42793
stp42794
a((dp42795
g2
(lp42796
VBy using the Serialize method:
p42797
aVNotice the last argument ()
p42798
as(dp42799
g16
V29407
p42800
stp42801
a((dp42802
g2
(lp42803
Vor by setting  inside your controller action
p42804
aVRemark: there's no such attribute as  on a
p42805
as(dp42806
g16
V29407
p42807
stp42808
a((dp42809
g2
(lp42810
VYes, by using xsd
p42811
aVexe
p42812
as(dp42813
g16
V29407
p42814
stp42815
a((dp42816
g2
(lp42817
VAs always start by defining the view model that will represent your data:
p42818
aVThen the controller which will manipulate the model:
p42819
aVAnd finally generate a dropdown list in the view:
p42820
aVIf you want to allow multiple selections a
p42821
aVk
p42822
aVa ListBox a few changes are necessary
p42823
aVFirst you need an array of employee ids in your model:
p42824
aVAnd then use the  helper in the view:
p42825
as(dp42826
g16
V29407
p42827
stp42828
a((dp42829
g2
(lp42830
VYou may take a look at the File API which is a draft for HTML 5
p42831
aVHere's a nice article
p42832
aVThat's what Gmail uses if the browser supports it of course
p42833
aVBut there's no way to ensure this will work across all browsers
p42834
as(dp42835
g16
V29407
p42836
stp42837
a((dp42838
g2
(lp42839
VThe de-facto standard for documentation on
p42840
aVNET is using XML comments inside the code
p42841
aVSimply position your cursor just before the method declaration and type
p42842
aVVisual Studio will automatically infer the arguments and generate the necessary section which you could fill
p42843
aVThen simply enable XML documentation:
p42844
aVIf you want to generate some MSDN style documentation from the resulting XML file here are some tools you could use:
p42845
aVSandCastle
p42846
aVNDoc
p42847
as(dp42848
g16
V29407
p42849
stp42850
a((dp42851
g2
(lp42852
VYou need the  tag to indicate that the contents is not evaluated on the server
p42853
aVFor example:
p42854
aVwill output in the resulting page:
p42855
aVAs far as the  warning is concerned, well, Razor Intellisense is still in beta so it's far from perfect
p42856
aVIt's just a warning you can safely ignore
p42857
aVThe important thing is what is that the application works and emits valid HTML
p42858
aVHope this is something that will be fixed in the final product
p42859
aVFrom personal experience the only warnings I trust are the one emitted by the C# compiler
p42860
aVWhen I am working in a view I safely ignore all the crappy warnings that Visual Studio emits because I know that it is wrong
p42861
as(dp42862
g16
V29407
p42863
stp42864
a((dp42865
g2
(lp42866
VYou could use the  callback:
p42867
aVQuote from the doc:
p42868
aVCallback for handling the actual
p42869
aVsubmit when the form is valid
p42870
aVGets
p42871
aVthe form as the only argument
p42872
aVReplaces the default submit
p42873
aVThe right
p42874
aVplace to submit a form via Ajax after
p42875
aVit validated
p42876
aVUse submitHandler to
p42877
aVprocess something and then using the
p42878
aVdefault submit
p42879
aVNote that "form"
p42880
aVrefers to a DOM element, this way the
p42881
aVvalidation isn't triggered again
p42882
as(dp42883
g16
V29407
p42884
stp42885
a((dp42886
g2
(lp42887
VI can't see anything wrong with your code
p42888
aVInstall FireBug and see where's the problem with your setup
p42889
aVHere's a full working example:
p42890
as(dp42891
g16
V29407
p42892
stp42893
a((dp42894
g2
(lp42895
VThe + operator is emitted as string
p42896
aVConcat in the resulting IL
p42897
aVand when looking at the implementation it checks whether arguments are null and returns string
p42898
aVEmpty:
p42899
aVDisassembled with reflector:
p42900
as(dp42901
g16
V29407
p42902
stp42903
a((dp42904
g2
(lp42905
VYeap, it looks like it is related to that
p42906
aVThe request could be blocked by the firewall
p42907
as(dp42908
g16
V29407
p42909
stp42910
a((dp42911
g2
(lp42912
s(dp42913
g16
V29407
p42914
stp42915
a((dp42916
g2
(lp42917
VAbsolutely
p42918
aVI have them both installed and it works without any problem (on VS2008 and VS2010 respectively)
p42919
as(dp42920
g16
V29407
p42921
stp42922
a((dp42923
g2
(lp42924
VWow, so much code
p42925
aVTry this:
p42926
aVIf this doesn't work it's a network and/or server problem
p42927
aVYou could also activate logs on the client by putting the following in your app/web
p42928
aVconfig to know exactly what's happening on the HTTP stack:
p42929
as(dp42930
g16
V29407
p42931
stp42932
a((dp42933
g2
(lp42934
VAnonymous types are not called anonymous types for nothing
p42935
aVSo:
p42936
aVDefine a type with a name (6 additional lines of code):
p42937
aVNow modify your  signature to (0 additional lines of code):
p42938
aVAnd your LINQ query to (3 additional characters, or a couple more if you choose more meaningful name):
p42939
as(dp42940
g16
V29407
p42941
stp42942
a((dp42943
g2
(lp42944
VYou could use the setInterval javascript function which allows you to poll the server for updates at regular intervals using AJAX:
p42945
aVThere's also a push technology in HTML5 called WebSockets which allows the server to notify the client for updates but of course you will need an HTML5 compatible browser which nowadays is not difficult to find and a WebSocket API compliant server
p42946
as(dp42947
g16
V29407
p42948
stp42949
a((dp42950
g2
(lp42951
VNormally Form1 instantiates Form2 and shows it
p42952
aVYou could add a public property getter on Form2 which will contain the necessary information and Form1 could fetch it from the instance of Form2 when needed
p42953
as(dp42954
g16
V29407
p42955
stp42956
a((dp42957
g2
(lp42958
VCheckout this excellent blog post from Steve Sanderson
p42959
aVIt provides a nice overview of how to achieve what you are looking for and could be considered as best practice
p42960
aVDon't forget to read the follow-up which is about validation if you are interested in this aspect as it could be a bit challenging with dynamic forms
p42961
as(dp42962
g16
V29407
p42963
stp42964
a((dp42965
g2
(lp42966
VAs you can see, in the option 1, i dont create local variable to hold the reference of the object
p42967
aVYou might not be creating it explicitly but believe me at the IL level which is what the compiler emits there is an instance of the object created because you cannot call an instance method on an object without an instance
p42968
aVThose are equivalent in terms of garbage collection and probably the compiler will optimize it
p42969
aVAnd because they are equivalent of course the preferred is the one which involves less code and is more readable to you
p42970
aVFor me it's the first but it could subjective, so it's really up to you
p42971
as(dp42972
g16
V29407
p42973
stp42974
a((dp42975
g2
(lp42976
VIf you have  and  for the same controller having both methods might help disambiguate
p42977
aVBut I agree that in general  is more commonly used
p42978
aVAnd  can also be used to load full views, it's just that it's semantically wrong
p42979
as(dp42980
g16
V29407
p42981
stp42982
a((dp42983
g2
(lp42984
VYou didn't provide any information about this
p42985
aVThe proper way to perform this in ASP
p42986
aVNET MVC is to abstract the data access into a repository and use this repository from your controller:
p42987
aVAnd now your controller becomes:
p42988
aVAs you can see the data access is abstracted away from the controller and it doesn't really care about where are those employees coming from
p42989
aVIt is at this moment that this stops to be an ASP
p42990
aVNET MVC related question and becomes a question about how to implement this interface using some data access technology
p42991
aVLet's suppose that you were using Linq to Entities as ORM
p42992
aVYour implementation could look like this:
p42993
aVOK, so as you can see we have introduced the data context class which is automatically generated by Visual Studio when you add a new entity from an existing database
p42994
aVIf you are not familiar with the Entity Framework you could read some getting started tutorials
p42995
aVor if you prefer to use ADO
p42996
aVNET directly:
p42997
aVThe last part that is left is to instruct our controller to use this particular implementation of the repository
p42998
aVThis could be achieved with a DI framework
p42999
aVHere's an article explaining this
p43000
as(dp43001
g16
V29407
p43002
stp43003
a((dp43004
g2
(lp43005
VYou could define a width or a custom CSS class for each column
p43006
aVThis way you can restrict its size:
p43007
aVor a CSS class:
p43008
aVYou could also put the entire grid into a div with fixed width
p43009
as(dp43010
g16
V29407
p43011
stp43012
a((dp43013
g2
(lp43014
VHTML and javascript
p43015
aVIf you want it to be pretty CSS would be helpful
p43016
aVAnd if you want it to be more dynamic a server side language is a must
p43017
aVPersonally I like Dive Into HTML5 very much
p43018
as(dp43019
g16
V29407
p43020
stp43021
a((dp43022
g2
(lp43023
VIf your database supports multiple statements you could separate them with  and execute in one go:
p43024
aVOf course fetching the results could be messy if you mix SELECT, UPDATE, DELETE in the same query
p43025
aVYou may also check this sample
p43026
as(dp43027
g16
V29407
p43028
stp43029
a((dp43030
g2
(lp43031
VNo, the server cannot push data to the client without postback
p43032
aVIt's the client application that needs to fetch it from the server
p43033
aVIn fact there's the WebSocket API draft in HTML5 that allows the server to push data to the client but it still has limited browser support and you will need a server that is capable of handling this protocol
p43034
aVSo currently the only reliable way of doing this is by having the client poll the server for data
p43035
as(dp43036
g16
V29407
p43037
stp43038
a((dp43039
g2
(lp43040
VThe class needs to be public if you want it to be accessible from another assembly:
p43041
aVIf your project cannot afford it you may take a look at  attribute
p43042
as(dp43043
g16
V29407
p43044
stp43045
a((dp43046
g2
(lp43047
VThe problem is that ASP
p43048
aVNET filters dangerous requests (ones that contain characters such as  and )
p43049
aVYou could disable this verification by putting  at your @Page declaration
p43050
aVOf course if you do this you should make sure to fully understand the consequences as now your site is open to hackers
p43051
aVIn this case user input is not sanitized and you should make sure to properly encode it if you decide to write it back on the page
p43052
as(dp43053
g16
V29407
p43054
stp43055
a((dp43056
g2
(lp43057
VThe Membership API is hitting the database because it is the only place this information is stored
p43058
aVis fetching the logged username from a cookie which is sent at every request
p43059
aVYou could implement a custom generic principal and store the necessary information into the  part of the authentication ticket which is encrypted in the cookie
p43060
aVHere's an article which covers this topic
p43061
as(dp43062
g16
V29407
p43063
stp43064
a((dp43065
g2
(lp43066
VA more MVCish way to achieve this is to write a custom AuthorizeAttribute and perform this in an overriden OnAuthorization method instead of using
p43067
aVThis being said I think that your implementation is quite good
p43068
aVAs an alternative of storing the additional information into the cache you could store it in the  part of the authentication ticket if this information is not very large of course
p43069
aVBoth approaches are viable
p43070
aVIf you decide to go with caching I would recommend you offloading it to dedicated cache servers instead of storing it in the memory of the web servers
p43071
as(dp43072
g16
V29407
p43073
stp43074
a((dp43075
g2
(lp43076
VThere's no 64 bit version of the Jet OLEDB drivers, so if you are running this on a 64 bit OS you might need to target  in your
p43077
aVNET application and not :
p43078
as(dp43079
g16
V29407
p43080
stp43081
a((dp43082
g2
(lp43083
VIf you are using jquery UI autocomplete the query string parameter is called  by default
p43084
aVSo:
p43085
aVOf course this could be personalized:
p43086
aVThe question is whether it is worth it
p43087
as(dp43088
g16
V29407
p43089
stp43090
a((dp43091
g2
(lp43092
VWhat you are trying to achieve is no longer unit tests but integration testing because you are no longer testing your application components in isolation and there are great tools that allow you to do this like Selenium or Web Tests in the Ultimate versions of Visual Studio
p43093
aVThe advantage of these tests is that they simulate user requests and cover the entire application behavior
p43094
aVSo for a given user request you can assert that your application responds properly
p43095
aVThe idea is that you write user scenarios, record them and then you could automate the execution of those tests to assert that your application responds as specified
p43096
as(dp43097
g16
V29407
p43098
stp43099
a((dp43100
g2
(lp43101
VAs I wrote here multiple times, that's how HTML helpers work and it is by design: when generating the input they will first look at the POSTed value and only after that use the value from the model
p43102
aVThis basically means that changes made to the model in the controller action will be completely ignored
p43103
aVA possible workaround is to remove the value from the modelstate:
p43104
as(dp43105
g16
V29407
p43106
stp43107
a((dp43108
g2
(lp43109
VMicrosoft Office is not designed to work in a server which could be a highly distributed, multithreaded environment
p43110
aVIt is a client application which by the way is mainly unmanaged code
p43111
aVSo installing it and using it from a web server could hide potential problems: leaking handles, GDI objects, marshaling between managed/unmanaged memory, STA COM objects, etc
p43112
aVI would recommend you using only tools which have been designed to be used in a server environment
p43113
as(dp43114
g16
V29407
p43115
stp43116
a((dp43117
g2
(lp43118
VQuote from the documentation of the CreateTextResponse method:
p43119
aVSupported in: 4
p43120
aVThis basically means that this method has been introduced in
p43121
aVNET 4
p43122
ag2721
aVNo need to look for it if you are targeting
p43123
aVNET 3
p43124
ag244
aVGuess it's time to upgrade :-)
p43125
as(dp43126
g16
V29407
p43127
stp43128
a((dp43129
g2
(lp43130
Vor if you prefer:
p43131
as(dp43132
g16
V29407
p43133
stp43134
a((dp43135
g2
(lp43136
VIn the provided sample application (JSONP) the service method is called  and not
p43137
aVSo to call it:
p43138
aVwhich returned the following response in my browser:
p43139
aVThe reason that Visual Studio Intellisense underlines the  is because this is a custom binding element and not part of the schema and it is not known
p43140
aVYou can safely ignore this warning
p43141
aVThe only problem with this sample is that the files are packaged in a Class Library instead of Web Application
p43142
aVIn order to run the service more easily in the Visual Studio built in server you could create a new Web Application, copy all the files to this new application and run it
p43143
aVYou just need to modify this line in web
p43144
aVconfig:
p43145
aVto include your web application name:
p43146
aVThat's all
p43147
aVNow go ahead and write a client application which consumes this JSONP stream
p43148
aVjquery does a great job with the  method:
p43149
aVI have uploaded my working version here
p43150
as(dp43151
g16
V29407
p43152
stp43153
a((dp43154
g2
(lp43155
s(dp43156
g16
V29407
p43157
stp43158
a((dp43159
g2
(lp43160
VIt's not very common to use static constructors for controllers in ASP
p43161
aVNET MVC
p43162
aVI don't know what exactly are you trying to achieve but global
p43163
aVasax  seems like a better place to perform application initializations
p43164
aVAlso what do you mean by a single storage accessible by the controller
p43165
aVCan't you use the  or the  object which are used for storing application wide things (in contrast to session)
p43166
aVThey also have the advantage to be thread safe so that you don't need to synchronize the access to those storages
p43167
aVAs far as the static controller constructor is concerned it should be called before the default constructor and only once per application and that's guaranteed by the CLR
p43168
aVFor this it needs to have exactly the following signature (private, no return type, same name as the containing type):
p43169
as(dp43170
g16
V29407
p43171
stp43172
a((dp43173
g2
(lp43174
VThat's not an easy task
p43175
aVYou will need a custom grid renderer to achieve this and override the RenderHeaderText method:
p43176
aVAnd then specify that the grid should use this renderer:
p43177
as(dp43178
g16
V29407
p43179
stp43180
a((dp43181
g2
(lp43182
VYou could use jquery to get all the alt values and send them to the server as an AJAX request:
p43183
as(dp43184
g16
V29407
p43185
stp43186
a((dp43187
g2
(lp43188
VThere's no reason for this not working
p43189
aVFrom the default project template:
p43190
aVRight click on the project Add -> Area :
p43191
aVIn   add  containing a default  action
p43192
aVIn  add
p43193
aVRun the application and navigate to  => it shows the newly added page
p43194
as(dp43195
g16
V29407
p43196
stp43197
a((dp43198
g2
(lp43199
VDemo
p43200
as(dp43201
g16
V29407
p43202
stp43203
a((dp43204
g2
(lp43205
VYou are not disposing and flushing the stream
p43206
aVBecause of this if an exception occurs you program will be leaking a file handle
p43207
aVTry this instead:
p43208
aVwhich now kind of defeats the purpose of the  method as it is already built into the BCL
p43209
as(dp43210
g16
V29407
p43211
stp43212
a((dp43213
g2
(lp43214
VYou could achieve this using the Date object in javascript:
p43215
as(dp43216
g16
V29407
p43217
stp43218
a((dp43219
g2
(lp43220
VIn
p43221
aVNET properties are syntactic sugar for the real  and  functions which are emitted behind the scenes (in fact they are more than syntactic sugar because properties are emitted in the resulting IL and could be used with Reflection)
p43222
aVSo in C++ you would need to explicitly write those functions as there's no such notion as property
p43223
as(dp43224
g16
V29407
p43225
stp43226
a((dp43227
g2
(lp43228
VTry using a name selector instead:
p43229
aVor even better apply a CSS class to your input and then:
p43230
as(dp43231
g16
V29407
p43232
stp43233
a((dp43234
g2
(lp43235
VIt's because the Sort method is a static method defined on the Array class so you need to call it like this:
p43236
aVYou don't need an instance of the class to call a static method
p43237
aVYou directly call it on the class name
p43238
aVIn OOP there's no notion of inheritance for static methods
p43239
as(dp43240
g16
V29407
p43241
stp43242
a((dp43243
g2
(lp43244
VYou need an intermediary class here:
p43245
aVand then:
p43246
as(dp43247
g16
V29407
p43248
stp43249
a((dp43250
g2
(lp43251
VWhat I'm mostly interested in is tooling integration (syntax highlighting, code completion etc)
p43252
aVThat has nothing to do with MVC
p43253
aVIt's related to writing Visual Studio plugins that recognize the file extension being opened and add syntax highlighting and Intellisense
p43254
aVSo MVC 3 won't bring anything new in terms of tooling support for third party view engines (other than of course the syntax highlighting and the Intellisense for the Razor view engine built by Microsoft)
p43255
as(dp43256
g16
V29407
p43257
stp43258
a((dp43259
g2
(lp43260
VI would suggest you using a strongly typed Editor Template and abandon ViewData:
p43261
aVand in the EditorTemplate:
p43262
aVUPDATE:
p43263
aVAfter you've posted your exception stack trace I've spotted the problem:
p43264
aVYou need to cast to  your
p43265
aVThis being said those ugly casts should be avoided by using strongly typed helpers as I suggested in my initial answer
p43266
as(dp43267
g16
V29407
p43268
stp43269
a((dp43270
g2
(lp43271
VInstead of:
p43272
aVdo:
p43273
aVThis way jquery will take care of properly URL encoding the values
p43274
aVString concatenations are the root of all evil :-)
p43275
as(dp43276
g16
V29407
p43277
stp43278
a((dp43279
g2
(lp43280
VThis is not intended to do what you think it does
p43281
aVYou cannot specify where the cookie will be stored on the client computer
p43282
aVThat's absolutely browser dependent and you have no control over it
p43283
aVIt is to restrict the access of this cookie to certain parts of your site
p43284
aVSo if you don't want restriction simply set it to
p43285
aVAlso your  action method looks strange
p43286
aVWhy testing whether the user is authenticated when there's the  attribute:
p43287
as(dp43288
g16
V29407
p43289
stp43290
a((dp43291
g2
(lp43292
VLet's suppose that in your main view you are including the partial multiple times:
p43293
aVAnd here's the contents of the partial:
p43294
aVNow all that's left is progressively enhance those anchors:
p43295
as(dp43296
g16
V29407
p43297
stp43298
a((dp43299
g2
(lp43300
VIn terms of emitted IL absolutely no difference
p43301
aVIt's just for readability
p43302
aVWhen you use  you are more explicit
p43303
as(dp43304
g16
V29407
p43305
stp43306
a((dp43307
g2
(lp43308
VThe Remove method works perfectly fine and removes the item from the cache given its key
p43309
aVHere's an example:
p43310
aVIt's probably the way you are using it that is wrong
p43311
aVUnfortunately this hasn't been specified in your question so that's as far as we can help
p43312
as(dp43313
g16
V29407
p43314
stp43315
a((dp43316
g2
(lp43317
VSimply put those strings in your web
p43318
aVconfig:
p43319
aVAnd then pick the one you wish in your code:
p43320
as(dp43321
g16
V29407
p43322
stp43323
a((dp43324
g2
(lp43325
VThis won't even compile:
p43326
aVYou cannot have two methods with the same name and same arguments on the same class
p43327
aVAlso why your actions are
p43328
aVUPDATE:
p43329
aVUnable to repro
p43330
aVThis doesn't seem to be the case:
p43331
aVAnd in  render the edit action calls the correct Edit action (the one with id parameter):
p43332
as(dp43333
g16
V29407
p43334
stp43335
a((dp43336
g2
(lp43337
VPersonally I use NHibernate with Spring
p43338
aVNET which has AOP support so I am basically defining in an external configuration file which are the methods which I would like to be executed under a SQL transaction
p43339
aVThose would normally be my service methods which in term might call multiple data access methods that I would like to run in a single transaction
p43340
aVI consider that transaction management is a crosscutting concern and shouldn't be mixed with the data access code as it pollutes it
p43341
aVSpring
p43342
aVNET takes care of generating runtime proxies and injects the proper transaction handling code
p43343
as(dp43344
g16
V29407
p43345
stp43346
a((dp43347
g2
(lp43348
VThe reason this doesn't work is because your server is always returning a hardcoded method name and your client is using an anonymous  handler
p43349
aVThis cannot work
p43350
aVYou need to configure your server to use the method name passed as argument or it will never invoke the  callback at the client
p43351
aVSo once you configure your server to take into account the  query parameter you could test it like this:
p43352
aVNow the server will receive a request that might look like this:
p43353
aVand it should respond like this:
p43354
aVwith proper  as well obviously ()
p43355
as(dp43356
g16
V29407
p43357
stp43358
a((dp43359
g2
(lp43360
VI think that the easiest would be to put a server script on  which will act as a bridge between the javascript file and ABC
p43361
aVThen the javascript file will simply send an AJAX request to it's own server script which will take care of fetching the information from the remote domain
p43362
aVThe only other viable solution which would work among most browsers and which doesn't require using some client technology like Flash or ActiveX is JSONP but you have ruled this out because you have no control over the remote domain
p43363
as(dp43364
g16
V29407
p43365
stp43366
a((dp43367
g2
(lp43368
VI would recommend you to ask write access and change the code to use constructor injection
p43369
aVEverything else would be hacks which won't bring much value to this code
p43370
aVAs long as a class has strong coupling with some other class it is close to impossible to unit test and even if you find some method this test will be so brittle that it would be a waste of time
p43371
as(dp43372
g16
V29407
p43373
stp43374
a((dp43375
g2
(lp43376
VASP
p43377
aVNET MVC is built on the top of the ASP
p43378
aVNET engine which supports HTTP handlers
p43379
aVSo you can use your handler in an ASP
p43380
aVNET MVC application
p43381
aVThis being said, HTTP handlers are not the common way to provide functionality in an ASP
p43382
aVNET MVC application
p43383
aVController actions should be used but if you have this existing handler you can use it
p43384
as(dp43385
g16
V29407
p43386
stp43387
a((dp43388
g2
(lp43389
VYou should ask GoDaddy about that
p43390
aVThis is not an ASP
p43391
aVNET MVC question
p43392
aVIf they hijack all status code different than 200 to show their own error page you can't do much
p43393
as(dp43394
g16
V29407
p43395
stp43396
a((dp43397
g2
(lp43398
VYou could configure both sites to point to the same SQL database for authentication and authorization
p43399
aVFor this you will need a separate instance of SQL server accessible from both sites
p43400
as(dp43401
g16
V29407
p43402
stp43403
a((dp43404
g2
(lp43405
VTry this:
p43406
aVThe reason that it doesn't worked in your case is because the trim method you were calling was wasn't jquery
p43407
aVtrim method
p43408
aVIt is a method you were calling on a object instance ( returns a string)
p43409
aVSo some browsers have this method built-in while IE doesn't
p43410
as(dp43411
g16
V29407
p43412
stp43413
a((dp43414
g2
(lp43415
VAn outer div is a div that wraps some other HTML elements
p43416
aVLike this:
p43417
as(dp43418
g16
V29407
p43419
stp43420
a((dp43421
g2
(lp43422
VThey use the GPU
p43423
as(dp43424
g16
V29407
p43425
stp43426
a((dp43427
g2
(lp43428
VTry this instead:
p43429
aVand the corresponding controller:
p43430
aVIt's a bit cleaner
p43431
as(dp43432
g16
V29407
p43433
stp43434
a((dp43435
g2
(lp43436
VThis will depend on the framework version your MVC application is targeting
p43437
aVSo if you application is targeting
p43438
aVNET 4
p43439
aV0 the application pool must be set to use CLR 4
p43440
ag2721
aVIf your application is targeting
p43441
aVNET 3
p43442
aV5 the application pool must be set to use CLR 2
p43443
ag2721
aVHere's an article covering the various deployment scenarios
p43444
as(dp43445
g16
V29407
p43446
stp43447
a((dp43448
g2
(lp43449
VHere's a list of files and directories I exclude from version control in the case of directory I exclude recursively everything from this directory):
p43450
as(dp43451
g16
V29407
p43452
stp43453
a((dp43454
g2
(lp43455
VThe idea is that  should not be tightly coupled to a specific implementation of
p43456
aVIf you use this:
p43457
aVit means that the BarClass can work only with this specific FooClass implementation and nothing else
p43458
aVWhereas if you use:
p43459
aVnow the  is no longer tightly coupled to
p43460
aVThis means that the consumer of the  can now pass any implementation of the interface he wants as long as it respects the defined contract (interface)
p43461
aVSo if he wants  he passes an instance of , but if he is not satisfied with  he can write his own implementation and pass it to the constructor and from the point of view of the  this is absolutely transparent (it doesn't need to be modified)
p43462
aVThe weak coupling between your classes is one of the most fundamental aspects of OOP as it allows you to easily replace one component with another without having to rewrite your entire application
p43463
as(dp43464
g16
V29407
p43465
stp43466
a((dp43467
g2
(lp43468
VYou could use the  function:
p43469
as(dp43470
g16
V29407
p43471
stp43472
a((dp43473
g2
(lp43474
VSure:
p43475
aVor:
p43476
aVor:
p43477
aVIn all those examples, there's no view involved
p43478
aVThe controller acts as an HTTP handler
p43479
as(dp43480
g16
V29407
p43481
stp43482
a((dp43483
g2
(lp43484
VIn IIS you can specify the order of default documents:
p43485
aVAlso you might want to exclude those documents from your MVC application routes so that they are directly served by IIS:
p43486
as(dp43487
g16
V29407
p43488
stp43489
a((dp43490
g2
(lp43491
VWhen you send a POST request, the framework will automatically invoke the POST action
p43492
aVSo for example if you have an HTML form:
p43493
aVIt will automatically invoke the POST index action:
p43494
aVor you could use jquery to send an AJAX request and specify that you want to POST:
p43495
aVAs far as other verbs are concerned like PUT and DELETE those are only supported in AJAX calls
p43496
aVYou cannot specify it in an HTML form
p43497
aVAlthough there's a workaround
p43498
aVThe following form:
p43499
aVwill invoke this action:
p43500
aVThe way this works is that the POST verb is used but an additional hidden field is sent along with the request which allows the engine to route to the proper controller action
p43501
aVIf you use AJAX then you can specify directly the verb you want:
p43502
as(dp43503
g16
V29407
p43504
stp43505
a((dp43506
g2
(lp43507
VLike this:
p43508
aVThis allows you to store functions that take a string parameter and return boolean
p43509
aVOr if the function is not anonymous:
p43510
aVwhere Foo is defined like this:
p43511
aVUPDATE:
p43512
aVAfter seeing your update it seems that you don't know in advance the signature of the function you would like to invoke
p43513
aVIn
p43514
aVNET in order to invoke a function you need to pass all the arguments and if you don't know what the arguments are going to be the only way to achieve this is through reflection
p43515
aVAnd here's another alternative:
p43516
aVWith this approach you still need to know the number and type of parameters that need to be passed to each function at the corresponding index of the dictionary or you will get runtime error
p43517
aVAnd if your functions doesn't have return values use  instead of
p43518
as(dp43519
g16
V29407
p43520
stp43521
a((dp43522
g2
(lp43523
VYou would do it using Editor Templates
p43524
aVThis way the framework will take care of everything (from properly naming the input fields to properly binding the values back in the post action)
p43525
aVController:
p43526
aVView ():
p43527
aVAnd finally the Editor Template () which will be automatically invoked for each element of the  collection:
p43528
as(dp43529
g16
V29407
p43530
stp43531
a((dp43532
g2
(lp43533
VTry this:
p43534
aVNotice that the call is wrapped in a $(document)
p43535
aVready and that you don't need to
p43536
aVAlso no need to use the  argument to the anonymous callback
p43537
aVAlso comparing your href address is not the same as the one you are using in the button
p43538
aVIn the href you have:
p43539
aVwhereas in the button you have:
p43540
aVwhich is not the same
p43541
aVSo make sure you use the correct address whatever this address is
p43542
aVFireBug would have helped you in this case
p43543
as(dp43544
g16
V29407
p43545
stp43546
a((dp43547
g2
(lp43548
VYes, existing helpers work perfectly fine with Razor
p43549
aVFor example:
p43550
aVWhat Razor changes is that now you have the possibility to define inline helpers like this:
p43551
aVAnd use like this:
p43552
aVAs far as classic HTML helpers are concerned, Razor changes nothing, it's just a view engine so you continue to write your helpers as you've always did:
p43553
aVAnd use in Razor:
p43554
as(dp43555
g16
V29407
p43556
stp43557
a((dp43558
g2
(lp43559
VThis should be done in a separate thread because if you do it in the main thread you will basically kill the application
p43560
aVSo you would start by declaring a synchronization event:
p43561
aVand then queue a worker thread to do the job:
p43562
aVAnd in the click of the button signal the event:
p43563
aVRemark: the foreach loop is a bit strange
p43564
aVI don't quite understand what you are trying to achieve with it
p43565
as(dp43566
g16
V29407
p43567
stp43568
a((dp43569
g2
(lp43570
VOk so instead of:
p43571
aVdo:
p43572
aVor:
p43573
aVor even better: use display templates and never write a single  in your view:
p43574
aVand in :
p43575
as(dp43576
g16
V29407
p43577
stp43578
a((dp43579
g2
(lp43580
VYou could test whether it has the Directory attribute:
p43581
aVOf course if it has already been deleted this won't work and you won't be able to tell the type
p43582
as(dp43583
g16
V29407
p43584
stp43585
a((dp43586
g2
(lp43587
VNo, it doesn't contain it
p43588
aVYou must be mistaken:
p43589
aVOutput:
p43590
aVRemark: You don't need the  attribute on your class
p43591
aVThat's only for binary serialization
p43592
as(dp43593
g16
V29407
p43594
stp43595
a((dp43596
g2
(lp43597
VYou are passing  when calling the function here:
p43598
aVSo you must guard against this:
p43599
aVor simply never call it with null argument
p43600
aVSo instead of:
p43601
aVYou could simply:
p43602
as(dp43603
g16
V29407
p43604
stp43605
a((dp43606
g2
(lp43607
V is not a valid C# variable name
p43608
aVThe closest you could get is this:
p43609
aVOf course this issue has been addressed in ASP
p43610
aVNET MVC 3 and you no longer need to write spaghetti code
p43611
aVSo:
p43612
aVAnd the underscore will be automatically converted to a hyphen
p43613
as(dp43614
g16
V29407
p43615
stp43616
a((dp43617
g2
(lp43618
VYou cannot detect if an email is fake
p43619
aVAll you can do is to detect whether a string respects the RFC 5322 of a valid email address format
p43620
aVYou can't possibly know whether such an account has been declared at the target SMTP server unless you own this server
p43621
aVYou can probably try to send an email to this address and see what does the remote SMTP server responds
p43622
as(dp43623
g16
V29407
p43624
stp43625
a((dp43626
g2
(lp43627
VNo idea what content folder you are talking about but if we suppose that it is some sub directory:
p43628
aVwhere  indicates the root of your web site
p43629
as(dp43630
g16
V29407
p43631
stp43632
a((dp43633
g2
(lp43634
VParsing dates with regular expressions could be a challenging task
p43635
aVI would recommend you taking a look at datejs instead
p43636
as(dp43637
g16
V29407
p43638
stp43639
a((dp43640
g2
(lp43641
VTry like this:
p43642
as(dp43643
g16
V29407
p43644
stp43645
a((dp43646
g2
(lp43647
VLike this:
p43648
aVOf course hard-coding a password like this is not very secure
p43649
aVYou might ask the user about it
p43650
aVNetworkCredential has another constructor taking a secure string for this purpose
p43651
aVUPDATE:
p43652
aVI didn't notice you wre using the SharePoint object model
p43653
aVInitially I thought you were generating a proxy from the WSDL
p43654
aVHere's an example of how to achieve this
p43655
as(dp43656
g16
V29407
p43657
stp43658
a((dp43659
g2
(lp43660
VThe reason you are getting this error message is because you are trying to update a GUI control from a different thread than the main which is not possible
p43661
aVGUI controls should always be modified on the same thread which was used to create them
p43662
aVYou could use Invoke if InvokeRequired which will marshal the call to the main thread
p43663
aVHere's a nice article
p43664
aVBut probably the easiest solution would be to simply use a BackgroundWorker because this way you no longer need to manual marshal the calls to the GUI thread
p43665
aVThis is done automatically:
p43666
as(dp43667
g16
V29407
p43668
stp43669
a((dp43670
g2
(lp43671
VYes, it is absolutely the same respecting the RFC 2388 ()
p43672
aVThis being said I wouldn't recommend you using ASP
p43673
aVNet upload file control in an ASP
p43674
aVNET MVC application
p43675
as(dp43676
g16
V29407
p43677
stp43678
a((dp43679
g2
(lp43680
VThe problem is that you are trying to use strongly typed helpers like  while your view is not strongly typed to a class
p43681
aVSo you need to indicate the model type in the  definition:
p43682
aVNotice how the view is now strongly typed to the model class
p43683
aVNow you can safely use those helper methods:
p43684
as(dp43685
g16
V29407
p43686
stp43687
a((dp43688
g2
(lp43689
Vjquery is not a program
p43690
aVjquery is a framework based on javascript
p43691
aVSo basically a browser could be used to render an HTML page containing jquery code
p43692
aVOf course this HTML page needs to be hosted somewhere like for example a web server
p43693
as(dp43694
g16
V29407
p43695
stp43696
a((dp43697
g2
(lp43698
VThere's no reliable way of achieving this
p43699
aVBasically inside this file you will need to parse the DOM, search for all the  tags and when you find the one that corresponds to the inclusion of this javascript file parse the  attribute to extract the domain
p43700
as(dp43701
g16
V29407
p43702
stp43703
a((dp43704
g2
(lp43705
VYou can't do this with a
p43706
aVYou will need to manually generate the  request
p43707
aVHere's an example which could be easily adapted
p43708
aVYou will just need to insert the file contents at the parameter you like
p43709
aVIn this example I used a  but if your file is binary you would probably want to directly write to the request stream
p43710
aVThe idea is to achieve RFC 1867
p43711
aVIf you don't want to go this route and those values are not very big you could probably pass the additional parameters at the request string and continue using  method
p43712
aVOf course the target url must be capable of reading those values from the query string
p43713
as(dp43714
g16
V29407
p43715
stp43716
a((dp43717
g2
(lp43718
VMaybe your controller action throws an exception
p43719
aVLet's take the following action:
p43720
aVThings to watch out for:
p43721
aVThe controller action is accessible with GET verb ()
p43722
aVThe controller action returns a JSON array where each item has an id, label and value properties
p43723
aVThe controller action doesn't throw an exception
p43724
aVAnd then:
p43725
aVAnd finally use FireBug to analyze what exactly is sent to your server as an AJAX request and the response from the server
p43726
as(dp43727
g16
V29407
p43728
stp43729
a((dp43730
g2
(lp43731
VA lock statement:
p43732
aVis interpreted by the compiler in the resulting IL to:
p43733
aVSo as you can see if an exception is thrown, the lock is released because of the  statement
p43734
aVSo even if you terminate the thread with Thread
p43735
aVAbort (which causes a ThreadAbortException to be thrown inside the thread) which you should ABSOLUTELY NEVER do, the lock will be released
p43736
as(dp43737
g16
V29407
p43738
stp43739
a((dp43740
g2
(lp43741
V is the same as  except that it pollutes your html code with MS AJAX specific javascript (like )
p43742
aVSo if you are using jquery, I would strongly recommend you to never think about AjaxHelper
p43743
aVBy the way starting from ASP
p43744
aVNET MVC 3, the MS AJAX is replaced by jquery as default framework and the AjaxHelper produce clean markup and handlers are attached unobtrusively
p43745
as(dp43746
g16
V29407
p43747
stp43748
a((dp43749
g2
(lp43750
VOf course
p43751
aVSet your routes and you are good to go:
p43752
aVand in your QueryController:
p43753
as(dp43754
g16
V29407
p43755
stp43756
a((dp43757
g2
(lp43758
VYou could use the IsVirtual property:
p43759
as(dp43760
g16
V29407
p43761
stp43762
a((dp43763
g2
(lp43764
VYou could attach a submit handler with javascript to the form that is performing the deletion
p43765
aVHere's an example with jquery:
p43766
aVAssuming the following delete form:
p43767
aVYou could use jquery to attach a  handler and ask for user confirmation:
p43768
as(dp43769
g16
V29407
p43770
stp43771
a((dp43772
g2
(lp43773
VAs always start by defining your model:
p43774
aVThen your repository:
p43775
aVThen implement this repository:
p43776
aVAnd finally use an instance of this repository in your form to fetch data:
p43777
as(dp43778
g16
V29407
p43779
stp43780
a((dp43781
g2
(lp43782
VDisclaimer: The proposed solution below is a hack
p43783
aVSuppose that you have the following controller:
p43784
aVand a corresponding partial ()
p43785
aVAnd now in a legacy WebForms page you wanted to use this action
p43786
aVHere's how you could proceed:
p43787
as(dp43788
g16
V29407
p43789
stp43790
a((dp43791
g2
(lp43792
VYou will need to roll your own:
p43793
aVOf course in terms of security this could be very dangerous as your site is now vulnerable to XSS attacks
p43794
aVSo the question is why having a separate class that sanitizes all the text when you can simply rely on the HTML helpers to do the job for you
p43795
as(dp43796
g16
V29407
p43797
stp43798
a((dp43799
g2
(lp43800
VI don't know what do you mean by I need to validate every property in Address, but when validating Person i need to validate only the id of Address
p43801
aVCorrect me if I am wrong but here's how I understand your question: you have two different controller actions:
p43802
aVWell personally I would use FluentValidation instead of Data Annotations as it allows you to express your validation logic in a much cleaner way and among others handle cases like this one
p43803
aVSo here's how this could be expressed in an elegant way:
p43804
aVAnd your view model classes become simply:
p43805
aVAnd your controller actions stay untouched except that they now behave as expected
p43806
as(dp43807
g16
V29407
p43808
stp43809
a((dp43810
g2
(lp43811
VIf you are talking about the  tag then no, there isn't
p43812
aVYou will have to roll your own dropdown or use some of the existing
p43813
as(dp43814
g16
V29407
p43815
stp43816
a((dp43817
g2
(lp43818
VBecause you aren't returning anything from this function
p43819
aVTry like this:
p43820
as(dp43821
g16
V29407
p43822
stp43823
a((dp43824
g2
(lp43825
VYou might need to put all scripts contained in this partial into a separate function
p43826
aVThen in the  callback of you AJAX request simply call this function: it should attach validation to the newly modified DOM
p43827
as(dp43828
g16
V29407
p43829
stp43830
a((dp43831
g2
(lp43832
VMaybe I didn't understand your question in which case please correct me but can't you simply:
p43833
as(dp43834
g16
V29407
p43835
stp43836
a((dp43837
g2
(lp43838
VYour controller action is wrong
p43839
aVYou should never use action parameters and  on the same type because it will insert the error messages twice in the model state
p43840
aVYour action should look like this instead:
p43841
aVAs far as the compiler error message you are getting you haven't provided enough information so that I can help you
p43842
aVMake sure that this Item class is not defined in different locations and that it is indeed  in every single  file you encounter it
p43843
aVI suspect that somewhere you have an  class defined which is not partial
p43844
aVWhat you should be aware of as well is that if this Item class is defined in a separate assembly, even if it is marked with partial, once compiled, the notion of partial no longer exists
p43845
aVPartial classes work only within the same assembly
p43846
as(dp43847
g16
V29407
p43848
stp43849
a((dp43850
g2
(lp43851
VI've tried several methods using Javascript but have had difficulties getting it to work in all browsers
p43852
aVHave you tried using jquery
p43853
aVThis should take care of the browser differences
p43854
as(dp43855
g16
V29407
p43856
stp43857
a((dp43858
g2
(lp43859
VI don't know whether it loads faster (I would be surprised) but in this case you no longer need to wrap your code in a  as at that moment the document will be ready to be manipulated:
p43860
as(dp43861
g16
V29407
p43862
stp43863
a((dp43864
g2
(lp43865
VYes, you should register all referenced assemblies in the GAC which are not already present there
p43866
aVRemark:  is a namespace and not an assembly which is part of the BCL and already present in the GAC
p43867
as(dp43868
g16
V29407
p43869
stp43870
a((dp43871
g2
(lp43872
VYou might need to store the shopping cart into the session so that products added there are being persisted between page redirects
p43873
as(dp43874
g16
V29407
p43875
stp43876
a((dp43877
g2
(lp43878
s(dp43879
g16
V29407
p43880
stp43881
a((dp43882
g2
(lp43883
s(dp43884
g16
V29407
p43885
stp43886
a((dp43887
g2
(lp43888
VThe cost of the new operator itself is negligible
p43889
aVWhat might cost is the processing that happens in a custom constructor
p43890
aVSo if you have lots of things going on in this constructor it could be a problem
p43891
as(dp43892
g16
V29407
p43893
stp43894
a((dp43895
g2
(lp43896
VWhat you are trying to achieve is impossible for security reasons
p43897
aVOnly the user can decide where he wants the attachment to be saved
p43898
aVImagine if this was possible: you would then be able to save any kind of viruses into any kind of folders on the user's computer
p43899
aVAs an alternative to showing the Save dialog you could open the PDF inline:
p43900
as(dp43901
g16
V29407
p43902
stp43903
a((dp43904
g2
(lp43905
VDeprecated in favor of Windows Communication Foundation
p43906
aVSo basically you would write and host WCF services in
p43907
aVNET which will directly talk to the SQL database and then consume those services from client applications
p43908
as(dp43909
g16
V29407
p43910
stp43911
a((dp43912
g2
(lp43913
VThat's normal
p43914
aVGenerics are a
p43915
aVNET specific artifact
p43916
aVThere's no such notion in the generated WSDL
p43917
aVImagine a client which doesn't support generics like PHP for example
p43918
aVThat's the reason why your generic collection is exposed as an array
p43919
aVSo there's nothing wrong with your client proxy that requires fixing
p43920
as(dp43921
g16
V29407
p43922
stp43923
a((dp43924
g2
(lp43925
VYou don't need to implement a separate web service project
p43926
aVAll you need is to add a WCF service endpoint (
p43927
aVsvc file) to your current web project
p43928
aVAlso you are saying that you expect SOAP response after a GET request which of course doesn't make much sense because in the SOAP specification requests should be POST
p43929
as(dp43930
g16
V29407
p43931
stp43932
a((dp43933
g2
(lp43934
VTry like this:
p43935
aVAlso I would recommend you using unobtrusive javascript:
p43936
aVAnd then in a separate javascript file:
p43937
aVAlso you should make sure that you respect the same origin policy or your AJAX request might not work
p43938
aVVerify that  is the same domain as the one that hosts the page sending the AJAX request
p43939
aVIf this is not the case you could configure your server to send a JSONP response
p43940
as(dp43941
g16
V29407
p43942
stp43943
a((dp43944
g2
(lp43945
s(dp43946
g16
V29407
p43947
stp43948
a((dp43949
g2
(lp43950
VYou must ensure that a cookie  with the same value as the  field is sent in the request
p43951
aVNormally this cookie is emitted by the  and it must be done on the server because its value is encrypted with the server machine keys
p43952
aVIf the request is performed by a Flash client I don't know whether it sends cookies
p43953
aVIf this is not the case you will need to manually send it
p43954
aVThere's also something else that you should be aware of and which would throw the same exception although I don't think that it is applicable in your case but worth checking
p43955
aVWhen you use the  helper if there's a logged in user his username is part if the emitted cookie
p43956
aVIf you then try to POST to a controller action decorated with the  it will verify that the currently logged in user is the same as the one when the cookie was emitted and if it isn't it will throw this exception
p43957
aVSo what I have seen is people using the  to generate some html forms as an anonymous user and then using AJAX to log-in a user and once logged in the user submits the form - it will fail
p43958
as(dp43959
g16
V29407
p43960
stp43961
a((dp43962
g2
(lp43963
VYou could use the UrlReferrer property of the current request:
p43964
aVThis will read the Referer HTTP header from the request which may or may not be supplied by the client (user agent)
p43965
as(dp43966
g16
V29407
p43967
stp43968
a((dp43969
g2
(lp43970
VYou could restrict the authentication cookie to a given Path:
p43971
aVThis way the authentication cookie will only be sent to the  portion of your site and if you put your web service at the root you can ping it with AJAX without sending the cookie
p43972
aVAnother option is to simply host this webservice into a separate virtual directory
p43973
as(dp43974
g16
V29407
p43975
stp43976
a((dp43977
g2
(lp43978
VA bit hacky but here's an example:
p43979
aVThis will successfully bind to a controller action of the form:
p43980
aVwhere Foo:
p43981
aVRemark: All this is not necessary if you configure your controller action to accept JSON
p43982
aVIn ASP
p43983
aVNET MVC 3 this is automatically included in the framework
p43984
as(dp43985
g16
V29407
p43986
stp43987
a((dp43988
g2
(lp43989
VYour route is not valid
p43990
aVOptional parameters can only appear at the end
p43991
aVIn your case you have the  route parameter which is option and which is in the middle of the url
p43992
aVSo you need to provide a value for this parameter if you want this route to be picked instead of the default one:
p43993
as(dp43994
g16
V29407
p43995
stp43996
a((dp43997
g2
(lp43998
VThis thread might help you
p43999
as(dp44000
g16
V29407
p44001
stp44002
a((dp44003
g2
(lp44004
VI think the error message is more than clear, it even tells you what to do which is rare
p44005
aVYour web site runs under a special account with limited privileges
p44006
aVDepending on the version of IIS you are using this account could vary
p44007
aVSo you should consider granting read access to this account to the remote folder you are trying to access, which according to the exception you are getting is
p44008
aVYou are saying that you've added impersonation, but impersonation works only for local resources
p44009
aVIn your case it seems that you are trying to access a remote server (a remote share)
p44010
aVIn this case you need delegation and not impersonation
p44011
aVSo you could configure your site to run under a domain account which has read access to this remote share
p44012
as(dp44013
g16
V29407
p44014
stp44015
a((dp44016
g2
(lp44017
VYeah, your code is leaking badly
p44018
aVIt should be like this:
p44019
aVEvery class that implements  needs to be wrapped in a using block to ensure that the  method is always called
p44020
aVUPDATE:
p44021
aVElaborating: in
p44022
aVNET there's the IDisposable interface which defines the Dispose method
p44023
aVClasses that implement this interface (like files streams, database connections, readers,
p44024
aVmight contain pointers to unmanaged resources and the only way to ensure that those unmanaged resources/handles are freed is to call the Dispose method
p44025
aVSo in
p44026
aVNET to ensure that some code is called even if an exception is thrown is to use a try/finally statement:
p44027
aVPeople writing C# code have quickly realized that writing this every time you was dealing with a disposable resource was a PITA
p44028
aVSo they've introduced the  statement:
p44029
aVwhich is kinda shorter
p44030
as(dp44031
g16
V29407
p44032
stp44033
a((dp44034
g2
(lp44035
VHow many levels of editor templates are you going to use
p44036
aVI really think the last one is redundant and you could use:
p44037
aVBy the way there's MVCContrib which is great
p44038
aVIt has things like:
p44039
aVand:
p44040
aVwhich is really useful in some scenarios
p44041
aVUPDATE:
p44042
aVAlways use strongly typed editor templates:
p44043
as(dp44044
g16
V29407
p44045
stp44046
a((dp44047
g2
(lp44048
VFor pushing you could take a look at HTML5 WebSocket API
p44049
as(dp44050
g16
V29407
p44051
stp44052
a((dp44053
g2
(lp44054
VTo handle this case you might need to write a custom model binder
p44055
as(dp44056
g16
V29407
p44057
stp44058
a((dp44059
g2
(lp44060
VYou could handle the  event in global
p44061
aVasax which is triggered by the ASP
p44062
aVNET engine every-time an exception is not handled:
p44063
as(dp44064
g16
V29407
p44065
stp44066
a((dp44067
g2
(lp44068
VPersonally I use unobtrusive javascript and avoid mixing markup with javascript
p44069
aVAJAX calls are normally triggered by clicking on some buttons or links:
p44070
aVand then in a separate js file I would attach and handle the onclick event (example with jquery):
p44071
aVAs you can I didn't need to use any hardcoded URL in my javascript file
p44072
aVURLs should always be handled by the routing engine and generated with html helpers
p44073
aVIf it was a  instead of a link I would simply handle the  event (the same way) and use the form's  attribute to get the URL
p44074
aVUPDATE:
p44075
aVAfter pointing out in the comments section that the documentId is known only at client-side you could do this:
p44076
aVAnd then:
p44077
as(dp44078
g16
V29407
p44079
stp44080
a((dp44081
g2
(lp44082
V1) Do you foresee any problems with this approach
p44083
aVNo
p44084
aV2) Are there any more suitable approaches
p44085
aVI would write a helper method for this or use a child action along with the  helper because you will be pulling data from the database
p44086
aV3) what is an appropriate data store to use here - should i pull from the DB (or cache if the data is available), use resource files, config files, etc
p44087
aVThis will depend on what your site is doing, how it is organized, where is the information stored,
p44088
as(dp44089
g16
V29407
p44090
stp44091
a((dp44092
g2
(lp44093
VThere are two cases:
p44094
aVYou trust your users: in this case you shouldn't be worried as they won't break your site
p44095
aVYou don't trust your users (most probable): in this case giving them the possibility to directly modify the templates seems a risky affair
p44096
aVYou will need a pretty solid sanitizing tool that will filter all other helpers that you don't want
p44097
aVIt's just too broad
p44098
aVGiving them the possibility to write markup would be OK with for example some WYSIWYG editor like WMD but giving them access to server code is asking for trouble
p44099
as(dp44100
g16
V29407
p44101
stp44102
a((dp44103
g2
(lp44104
VYes, you could expose your managed assembly as COM object using the regasm
p44105
aVexe utility
p44106
aVIn order for the classes to be visible the assembly or individual classes need to be marked with the  attribute
p44107
aVOnce the assembly exposed as COM object you could consume it from VB6 as you would any standard COM object
p44108
as(dp44109
g16
V29407
p44110
stp44111
a((dp44112
g2
(lp44113
VYou may take a look at Quartz
p44114
aVNET which allows you to schedule jobs which will run on the server
p44115
as(dp44116
g16
V29407
p44117
stp44118
a((dp44119
g2
(lp44120
VController:
p44121
aVand then in the Index
p44122
aVaspx view you could have a link and an empty div which will harbor the result of the AJAX request:
p44123
aVwhich you would then enhance with javascript (jquery in my case):
p44124
aVWhen you click on the link an AJAX request will be sent to  which would render a partial view  and insert its contents into the result div
p44125
as(dp44126
g16
V29407
p44127
stp44128
a((dp44129
g2
(lp44130
s(dp44131
g16
V29407
p44132
stp44133
a((dp44134
g2
(lp44135
VThere's no notion of entry point
p44136
aVThe way it works is that the user sends an HTTP request to an url and this url sends a response to the user
p44137
aVIn the properties of the project you could configure which URL to launch in Visual Studio when you hit F5 because by default it launches the file you are currently editing
p44138
aVAlso the web server has a notion of default document i
p44139
ag3813
aVif you don't specify any page it will load the default documents in the order they are configured:
p44140
as(dp44141
g16
V29407
p44142
stp44143
a((dp44144
g2
(lp44145
VYour javascript seems broken
p44146
aVShouldn't it be:
p44147
aVAre trying to mix server side url helpers with client-side values
p44148
as(dp44149
g16
V29407
p44150
stp44151
a((dp44152
g2
(lp44153
VIt was moved to the  assembly:
p44154
as(dp44155
g16
V29407
p44156
stp44157
a((dp44158
g2
(lp44159
VYour question is not very clear
p44160
aVIf you are trying to get the URL of the ASPX page calling the web service then you can't do this unless you pass it as argument to your web method or some custom HTTP header
p44161
aVHere's an example of a call:
p44162
aVand your web service method now looks like this:
p44163
as(dp44164
g16
V29407
p44165
stp44166
a((dp44167
g2
(lp44168
VNo, it does not require ASP
p44169
aVNET MVC although there's an implementation for it
p44170
aVYou could process NHaml templates even in a console application if you will
p44171
as(dp44172
g16
V29407
p44173
stp44174
a((dp44175
g2
(lp44176
VNo, it's not secure because anyone who knows a valid MAC address in your database could call the web service
p44177
aVOf course knowing a valid MAC address in your database is unlikely possible, it's as if he knew a password
p44178
as(dp44179
g16
V29407
p44180
stp44181
a((dp44182
g2
(lp44183
VNo, you can't use Process Explorer to kill a single thread
p44184
aVYou kill the entire process
p44185
aVYou could use SysInternals procexp
p44186
aVexe to analyze processes and threads and kill only a single thread within a given process
p44187
aVVery nifty tool
p44188
aVBut in general avoid coding never ending loops :-)
p44189
as(dp44190
g16
V29407
p44191
stp44192
a((dp44193
g2
(lp44194
VDateTime is a value type so everytime you assign it to a new variable you are cloning
p44195
as(dp44196
g16
V29407
p44197
stp44198
a((dp44199
g2
(lp44200
VYou could P/Invoke the WinHttpSetDefaultProxyConfiguration function
p44201
aVUPDATE:
p44202
aVIncluding example as requested:
p44203
as(dp44204
g16
V29407
p44205
stp44206
a((dp44207
g2
(lp44208
VYou should make sure that the value is actually present in the POST request
p44209
aVThe fact that your are getting  is a strong indication that this is not the case
p44210
aVYou could use FireBug to see exactly what values are posted to the server
p44211
aVAlso from what I can see your form contains only store name and state text fields so those are the only values you can expect to get back in your POST action:
p44212
aVYou might need to include the others as well
p44213
aVYou could use hidden fields to send the values you need
p44214
aVIn your controller action you are trying to read the  field so include
p44215
aVit in your form:
p44216
as(dp44217
g16
V29407
p44218
stp44219
a((dp44220
g2
(lp44221
VI am not aware of an easy way fix this behavior
p44222
aVThat's one of the reasons why I hate data annotations
p44223
aVDoing the same with FluentValidation would be a peace of cake:
p44224
aVFluentValidation has great support and integration with ASP
p44225
aVNET MVC
p44226
as(dp44227
g16
V29407
p44228
stp44229
a((dp44230
g2
(lp44231
Vis probably what you see in Visual Studio debugger
p44232
aVYou don't need to get rid of anything
p44233
aVAlso you could simplify your code a bit because all those undisposed resources in your sample could leak unmanaged handles:
p44234
as(dp44235
g16
V29407
p44236
stp44237
a((dp44238
g2
(lp44239
VWhy not simply writing a custom model binder and work in the BindModel method
p44240
as(dp44241
g16
V29407
p44242
stp44243
a((dp44244
g2
(lp44245
VYou could use the setInterval function:
p44246
as(dp44247
g16
V29407
p44248
stp44249
a((dp44250
g2
(lp44251
VYou could retrieve the authenticated username by using the  property inside your controller action and then query the memebership provider to retrieve additional user info which is stored in the database:
p44252
as(dp44253
g16
V29407
p44254
stp44255
a((dp44256
g2
(lp44257
VIt is absolutely impossible to hide the path if you are going to call this web service from javascript
p44258
aVNo matter how much you obfuscate it, FireBug will always show the request and you don't even need to view the source code for this
p44259
as(dp44260
g16
V29407
p44261
stp44262
a((dp44263
g2
(lp44264
VYou don't need a route for this
p44265
aVIt is already handled by the default model binder
p44266
aVQuery string parameters will be automatically bound to action arguments:
p44267
aVUPDATE:
p44268
aVIf you don't know the name of the query string parameters that will be passed you could loop through them:
p44269
as(dp44270
g16
V29407
p44271
stp44272
a((dp44273
g2
(lp44274
s(dp44275
g16
V29407
p44276
stp44277
a((dp44278
g2
(lp44279
VThe instantiation of the test class happens deeply in the internal classes of the MSTest framework so injecting dependencies into it would be a challenging task
p44280
as(dp44281
g16
V29407
p44282
stp44283
a((dp44284
g2
(lp44285
VIn terms of best practices definitely and without absolutely any doubt: number 1
p44286
aVThe something that maps is called AutoMapper and the separate class you are talking about is called view model
p44287
as(dp44288
g16
V29407
p44289
stp44290
a((dp44291
g2
(lp44292
VYou could use some other custom class and include only the properties you need instead of  which is not serializable
p44293
aVAutoMapper could ease the conversion
p44294
as(dp44295
g16
V29407
p44296
stp44297
a((dp44298
g2
(lp44299
VIt won't create a bottleneck but a dictionary is not thread safe so you might not get the expected results
p44300
aVIn
p44301
aVNET 4
p44302
aV0 you could use  for this purpose
p44303
aVIf it's a readonly dictionary then it's probably safe to have concurrent readers, just make sure that you fill this dictionary with data in a static constructor to make sure that writing doesn't interfere with reading and it takes place before any thread tries to read
p44304
as(dp44305
g16
V29407
p44306
stp44307
a((dp44308
g2
(lp44309
VYou could use a  type or  in C#
p44310
as(dp44311
g16
V29407
p44312
stp44313
a((dp44314
g2
(lp44315
V already registers a  function on the form which is conflicting with your own
p44316
aVSo instead of calling the  function you may try adding rules
p44317
as(dp44318
g16
V29407
p44319
stp44320
a((dp44321
g2
(lp44322
VHow do we get all of those DataAnnotation attributes off the model object and onto the possibly cut down ViewModel properties without throwing the DRY principle over the cliff
p44323
aVYou can't
p44324
aVIt's the price to pay, but I think it's pretty cheap because in fact in this stripped down version the validation attributes might be different and you might have different validation properties according to the requirements of the view
p44325
aVLet's take an example:  and  view
p44326
aVIn the  view, the  of the entity will be required, while in the  view not required as it will be assigned by the data store (in fact in your new model there might not even be an Id property)
p44327
aVAlso, in general I place the validation attributes only on the view model but this might not be the best approach as if you wanted to reuse your models in different applications, there won't be any validation logic on them
p44328
aVAlso, are we correct in thinking that we shouldn't be using TryUpdateModel against an entity that we pull from the db
p44329
aVPersonally I never use
p44330
aVI prefer passing a view model as a controller action parameter and leave the default model binder do the job
p44331
aVIn this case of course you don't need any inclusion or exclusion properties list because this view model is exactly tailored to the given view
p44332
aVAs far as AutoMapper is concerned it's a must have tool for converting between your model classes (which appear in your repository method signatures) and the view models which are passed to and from the view
p44333
as(dp44334
g16
V29407
p44335
stp44336
a((dp44337
g2
(lp44338
VThis simply isn't the case and here's the proof:
p44339
as(dp44340
g16
V29407
p44341
stp44342
a((dp44343
g2
(lp44344
VAnd then you could use jquery to handle the change event of the header checkbox and check/uncheck all the others:
p44345
as(dp44346
g16
V29407
p44347
stp44348
a((dp44349
g2
(lp44350
VMake sure you have followed all the 9 steps of the migration guide
p44351
as(dp44352
g16
V29407
p44353
stp44354
a((dp44355
g2
(lp44356
VIf those frames are on the same domain here's an example how to call function from one frame to another
p44357
aVSo once the AJAX request completes in the first frame you could call a javascript function on the second frame which will take care of updating the contents
p44358
aVIf the frames are not on the same domain this is not permitted for security reasons
p44359
as(dp44360
g16
V29407
p44361
stp44362
a((dp44363
g2
(lp44364
VYou can do this only if the ID parameter is always present in the URL
p44365
aVFor obvious reasons optional parameter can only be at the end of the url or it is impossible to disambiguate them
p44366
as(dp44367
g16
V29407
p44368
stp44369
a((dp44370
g2
(lp44371
V1) What is "Content" how can i filter it
p44372
aVMaybe a request was made to
p44373
aV2) Is there some same good sample to show how to correctly override CreateController
p44374
aVThere are many examples out there showing how this could be done with different DI frameworks
p44375
aVHere's a sample implementation with StructureMap
p44376
as(dp44377
g16
V29407
p44378
stp44379
a((dp44380
g2
(lp44381
VYou are pretty much in a dead end here as far as unit testing methods that use  are concerned
p44382
aVThe proper way would be to modify this code to use constructor injection:
p44383
aVNow you can mock this HttpContextBase in your unit test
p44384
as(dp44385
g16
V29407
p44386
stp44387
a((dp44388
g2
(lp44389
VThe problem here is the visibility of those protected methods
p44390
aVYou won't be able to call them directly in your unit test
p44391
aVOn the other hand you could write a class C in your unit test which inherits from A and which expose some public methods for the purposes of the test
p44392
aVThose public methods will simply call the protected methods you are trying to test
p44393
as(dp44394
g16
V29407
p44395
stp44396
a((dp44397
g2
(lp44398
VIn
p44399
aVNET 4
p44400
aV0 the way authentication tickets are encrypted has changed
p44401
aVIf you want to be compatible with older versions you could set the  attribute like this:
p44402
as(dp44403
g16
V29407
p44404
stp44405
a((dp44406
g2
(lp44407
VYou cannot achieve this due to same origin policy restrictions
p44408
aVInstead of using AJAX why not directly include those CSS styles using the  tag
p44409
as(dp44410
g16
V29407
p44411
stp44412
a((dp44413
g2
(lp44414
VPersonally I like using XPath:
p44415
as(dp44416
g16
V29407
p44417
stp44418
a((dp44419
g2
(lp44420
VThe two are equivalent and in fact it works
p44421
as(dp44422
g16
V29407
p44423
stp44424
a((dp44425
g2
(lp44426
VThere's nothing wrong with using the session directly from your controllers (that's one of the reasons why it has been exposed as a property of the Controller class)
p44427
aVAnd I don't kind of see the benefit of replacing:
p44428
aVwith a call to an extension method:
p44429
aVWhere it is probably a bit more interesting is your generic getter but still it is not type safe as you are casting inside this method which could have also been done in the controller action
p44430
aVSo to conclude I wouldn't say that it is a bad practice but I don't see any benefit of such a class and it also makes your code less readable by other developers who need to understand that this is an extension method and that behind the scenes it simply uses the session
p44431
as(dp44432
g16
V29407
p44433
stp44434
a((dp44435
g2
(lp44436
VNaive solution:
p44437
as(dp44438
g16
V29407
p44439
stp44440
a((dp44441
g2
(lp44442
VApp
p44443
aVconfig can only be associated to an executable
p44444
aVTalking about an  in a class library makes no sense
p44445
aVSo you could use  in your class library but you will need to store the values in the app/web
p44446
aVconfig of the application that will use this class library
p44447
as(dp44448
g16
V29407
p44449
stp44450
a((dp44451
g2
(lp44452
VThis looks like some poorly written unmanaged interop code which doesn't take into account the CPU type and which blows when run in a x64 bit OS
p44453
aVIn a 64-bit OS pointers are 64-bit integers contrary to 32 bit OS
p44454
aVMaybe you should check the documentation of this  component you are using whether it supports 64-bit systems
p44455
aVQuote from the documentation of the IntPtr
p44456
aVToInt32 method:
p44457
aVOverflowException: On a 64-bit platform, the value of this instance is too large or too small to represent as a 32-bit signed integer
p44458
as(dp44459
g16
V29407
p44460
stp44461
a((dp44462
g2
(lp44463
VYou can try loading the image from stream ( method)
p44464
as(dp44465
g16
V29407
p44466
stp44467
a((dp44468
g2
(lp44469
VYou could use the UrlHelper class inside your controller action
p44470
as(dp44471
g16
V29407
p44472
stp44473
a((dp44474
g2
(lp44475
VI don't know what is your final goal with this but this is something which is not recommended to be done in MVC
p44476
aVThe Request object is not yet initialized in the constructor of the controller
p44477
aVYou could try to use the native  object:
p44478
aVbut that's something extremely bad and I would never recommend you doing this as now your controller is coupled to the static native HttpContext instance without any chance of unit testing it
p44479
aVInstead of using the constructor you could override the  method of your controller where you will have access to the request context and you could read posted data:
p44480
as(dp44481
g16
V29407
p44482
stp44483
a((dp44484
g2
(lp44485
VYou may take a look at the custom data and display sample
p44486
as(dp44487
g16
V29407
p44488
stp44489
a((dp44490
g2
(lp44491
s(dp44492
g16
V29407
p44493
stp44494
a((dp44495
g2
(lp44496
Vand:
p44497
aVis located in the  file of your ASP
p44498
aVNET application and not in some  file you've added to your class library project in Visual Studio, right
p44499
aVYou can't be possibly getting  if this is the case
p44500
aVIf you've added this to an  of you class library project in Visual Studio then getting null is perfectly normal behavior
p44501
as(dp44502
g16
V29407
p44503
stp44504
a((dp44505
g2
(lp44506
VI would probably write a custom helper for this:
p44507
aVand then use it in my view:
p44508
as(dp44509
g16
V29407
p44510
stp44511
a((dp44512
g2
(lp44513
VYou could simplify your code a little:
p44514
aVAs far as the UTF-8 encoding is concerned I am afraid the problem might be in this  method
p44515
aVYou might need to return a stream or byte array which you could directly return as file
p44516
as(dp44517
g16
V29407
p44518
stp44519
a((dp44520
g2
(lp44521
VHow about putting the following:
p44522
aVin your  and in your controller action simply returning a view:
p44523
aVAll razor views use
p44524
aVThis is where the master page is specified
p44525
aVSo by making this change all views automatically will apply the master page only conditionally if the request was not an AJAX request
p44526
aVPretty DRY
p44527
as(dp44528
g16
V29407
p44529
stp44530
a((dp44531
g2
(lp44532
VWould this introduce an orphaned delegate object (a memory leak), at each call
p44533
aVNo it won't, it is OK
p44534
aVBut to avoid creating a delegate each time you could use some of the existing (if your method takes 2 string parameters and has not return):
p44535
as(dp44536
g16
V29407
p44537
stp44538
a((dp44539
g2
(lp44540
VYou could use MTOM which is specifically designed for exchanging binary files because it avoids the overhead of XML serialization
p44541
aVIn the example I've linked to a byte array is returned from a WCF operation but you could use it as input argument as well
p44542
as(dp44543
g16
V29407
p44544
stp44545
a((dp44546
g2
(lp44547
Vwhich particular parts of the framework do you find most useful
p44548
aVThe garbage collector
p44549
aVAnother very important aspect is the consistency of the BCL (for example there's a single String type compared to char *, wchar_t*, _bstr_t, CComBSTR, CString, basic_string,
p44550
aVAlso let's not forget the out-of-the-box built-in support for many industry standards
p44551
aVAnother example is building a pretty looking GPU accelerated GUI in C++ could be a challenging task in contrast to WPF
p44552
as(dp44553
g16
V29407
p44554
stp44555
a((dp44556
g2
(lp44557
VAnd in your code behind:
p44558
as(dp44559
g16
V29407
p44560
stp44561
a((dp44562
g2
(lp44563
VYou should have validation logic for the viewmodel
p44564
aVThis is what the view sends and what should be validated
p44565
aVAs far as populating the viewmodel is concerned here's how to proceed: write a repository which queries the database and returns models
p44566
aVThen map those models to viewmodels (AutoMapper can help you here)
p44567
aVFinally return viewmodels to the view
p44568
aVThis also works the other way around: the users POSTs some data to a controller action as the form of a viewmodel which once validated is mapped back to a model and passed to the repository for update
p44569
aVAs an alternative to Data Annotations you may take a look at FluentValidation for validating your view models
p44570
aVIt integrates nicely with ASP
p44571
aVNET MVC
p44572
as(dp44573
g16
V29407
p44574
stp44575
a((dp44576
g2
(lp44577
VNo it isn't
p44578
aVWhen you apply an action attribute to a controller it applies to all actions
p44579
aVYou might need to move the action you want to exclude to a different controller
p44580
as(dp44581
g16
V29407
p44582
stp44583
a((dp44584
g2
(lp44585
VI would probably write an html helper which will generate those menu links and based on the current controller and action will apply a css class  to the anchor:
p44586
aVAnd then use this helper in my view:
p44587
aVThen all that's left is to define this  class in a CSS file to highlight:
p44588
as(dp44589
g16
V29407
p44590
stp44591
a((dp44592
g2
(lp44593
VYou can't
p44594
aVResources stored in  could be used only by the web application that hosts them and by no other web application
p44595
as(dp44596
g16
V29407
p44597
stp44598
a((dp44599
g2
(lp44600
VThat's totally impossible
p44601
aVAttributes are baked into the metadata of the assembly at compile-time so talking about passing an instance of a class to an attribute doesn't make any sense because instances exist only at runtime
p44602
aVOn the other hand attributes are always consumed by reflection, so I guess that at the moment you are checking for the presence of this custom attribute on the class metadata you could use the the instance
p44603
as(dp44604
g16
V29407
p44605
stp44606
a((dp44607
g2
(lp44608
VI have functionality in BeginRequest event in global
p44609
aVasax which parse request url, check some parts of this and redirect user to another url
p44610
aVA more MVCish way to achieve this would be to use a custom action filter and perform this processing in the OnActionExecuting method which will be called before the controller action is invoked:
p44611
aVAnd now all that's left is to decorate your base controller with this attribute so that it applies to all actions
p44612
as(dp44613
g16
V29407
p44614
stp44615
a((dp44616
g2
(lp44617
VGenerating urls in the model is actually a bad idea
p44618
aVI would recommend you generating the url in the controller and pass it to the model as parameter if necessary or use a HTML helper in the view which will do the job
p44619
as(dp44620
g16
V29407
p44621
stp44622
a((dp44623
g2
(lp44624
VThis article explains string interning pretty well
p44625
aVQuote:
p44626
aVNET has the concept of an "intern
p44627
aVpool"
p44628
aVIt's basically just a set of
p44629
aVstrings, but it makes sure that every
p44630
aVtime you reference the same string
p44631
aVliteral, you get a reference to the
p44632
aVsame string
p44633
aVThis is probably
p44634
aVlanguage-dependent, but it's certainly
p44635
aVtrue in C# and VB
p44636
aVNET, and I'd be very
p44637
aVsurprised to see a language it didn't
p44638
aVhold for, as IL makes it very easy to
p44639
aVdo (probably easier than failing to
p44640
aVintern literals)
p44641
aVAs well as literals
p44642
aVbeing automatically interned, you can
p44643
aVintern strings manually with the
p44644
aVIntern method, and check whether or
p44645
aVnot there is already an interned
p44646
aVstring with the same character
p44647
aVsequence in the pool using the
p44648
aVIsInterned method
p44649
aVThis somewhat
p44650
aVunintuitively returns a string rather
p44651
aVthan a boolean - if an equal string is
p44652
aVin the pool, a reference to that
p44653
aVstring is returned
p44654
aVOtherwise, null is
p44655
aVreturned
p44656
aVLikewise, the Intern method
p44657
aVreturns a reference to an interned
p44658
aVstring - either the string you passed
p44659
aVin if was already in the pool, or a
p44660
aVnewly created interned string, or an
p44661
aVequal string which was already in the
p44662
aVpool
p44663
as(dp44664
g16
V29407
p44665
stp44666
a((dp44667
g2
(lp44668
VI am actually quite happy with what's already built-in ASP
p44669
aVNET:
p44670
as(dp44671
g16
V29407
p44672
stp44673
a((dp44674
g2
(lp44675
VBy setting the cookieless property to  in :
p44676
as(dp44677
g16
V29407
p44678
stp44679
a((dp44680
g2
(lp44681
VIt is safe if you are only going to read
p44682
as(dp44683
g16
V29407
p44684
stp44685
a((dp44686
g2
(lp44687
VTry this:
p44688
aVNotice the
p44689
as(dp44690
g16
V29407
p44691
stp44692
a((dp44693
g2
(lp44694
VTo solve this problem you could write a custom model binder for the base type which based on the value of the string property will return the correct child instance
p44695
as(dp44696
g16
V29407
p44697
stp44698
a((dp44699
g2
(lp44700
VYou could use the  operator:
p44701
aVAnother possibility is to use the  operator:
p44702
as(dp44703
g16
V29407
p44704
stp44705
a((dp44706
g2
(lp44707
VYou should use ODP
p44708
aVNET
p44709
aVSystem
p44710
aVData
p44711
aVOracleClient which is part of the
p44712
aVNET framework is deprecated and should no longer be used because they will be removed in a future version of the
p44713
aVNET Framework
p44714
as(dp44715
g16
V29407
p44716
stp44717
a((dp44718
g2
(lp44719
VNo this is not possible without removing the default route because the routing engine cannot disambiguate between those two urls:
p44720
aVAssuming you want the first to match  and the second
p44721
aVEven if you hardcode the route as in your example  will always match the first route which is
p44722
aVAlso if  and  can be arbitrary strings it would be better if they were passed as query string parameters
p44723
as(dp44724
g16
V29407
p44725
stp44726
a((dp44727
g2
(lp44728
VMono
p44729
aVAlso you are probably not aware but Microsoft has published the source code of the
p44730
aVNET Framework itself so why looking for an alternative
p44731
as(dp44732
g16
V29407
p44733
stp44734
a((dp44735
g2
(lp44736
VASP
p44737
aVNET WebMethods use JavaScriptSerializer, so try serializing with it
p44738
aVYou might need a custom type resolver in order to include this property:
p44739
as(dp44740
g16
V29407
p44741
stp44742
a((dp44743
g2
(lp44744
VIt should be stored in the app
p44745
aVconfig of the Windows Application and not the class library
p44746
aVBasically when you run your executable there should be a file called  (where Foo
p44747
aVexe is the resulting executable of your Windows Application) in the same folder which contains the settings
p44748
aVSo in Visual Studio simply add an app
p44749
aVconfig file to the WinForms application project and store the settings there
p44750
aVIn this case they will be successfully read by your custom library
p44751
aVThere's no need to add an  file to your class library project as it will never be used
p44752
as(dp44753
g16
V29407
p44754
stp44755
a((dp44756
g2
(lp44757
s(dp44758
g16
V29407
p44759
stp44760
a((dp44761
g2
(lp44762
VIt won't change anything other than the indentation and readability
p44763
aVStill the same code, absolutely equivalent :-) I would definitely change it though as it would make it more readable
p44764
aVIndentation usually means nesting whereas here there's no nesting
p44765
as(dp44766
g16
V29407
p44767
stp44768
a((dp44769
g2
(lp44770
s(dp44771
g16
V29407
p44772
stp44773
a((dp44774
g2
(lp44775
s(dp44776
g16
V29407
p44777
stp44778
a((dp44779
g2
(lp44780
VI'm thinking of making it refuse access unless it is from my own site's form
p44781
aVbut how would you go about doing that
p44782
aVIt is impossible to achieve this reliably
p44783
aVYou could use some sort of captcha, throttle requests, configure your firewall to drop multiple successive requests from the same IP which will make the attacker job a bit harder
p44784
as(dp44785
g16
V29407
p44786
stp44787
a((dp44788
g2
(lp44789
VAs long as this web service is exposed over some interoperable protocol such as SOAP you can access it from a Java client without any problems and need of
p44790
as(dp44791
g16
V29407
p44792
stp44793
a((dp44794
g2
(lp44795
VYou should always precede your variable declarations with  to specify their scope or you might observe inconsistent behavior between different browsers
p44796
as(dp44797
g16
V29407
p44798
stp44799
a((dp44800
g2
(lp44801
VYou should issue an HTTP redirect after logging in before being able to use this property
p44802
aVAfter the redirect you will be able to use it on subsequent requests
p44803
aVHere's the usual pattern:
p44804
as(dp44805
g16
V29407
p44806
stp44807
a((dp44808
g2
(lp44809
VYou could put this drop down into a partial ():
p44810
aVAnd then in your main view use this editor template:
p44811
aVAnd you controller action could look like this:
p44812
as(dp44813
g16
V29407
p44814
stp44815
a((dp44816
g2
(lp44817
VThis is called the redirect after post pattern and in ASP
p44818
aVNET MVC it could look like this:
p44819
as(dp44820
g16
V29407
p44821
stp44822
a((dp44823
g2
(lp44824
VWhen you submit your form back to the POST action it is perfectly normal that the problemAreas1,2,3 properties will be null because their contents is never posted
p44825
aVYou will need to repopulate them the same way you did in your GET action
p44826
aVAs far as the itemOne,Two,Three properties are concerned they should be simple string values and not of type
p44827
aVModel:
p44828
aVController:
p44829
as(dp44830
g16
V29407
p44831
stp44832
a((dp44833
g2
(lp44834
VEither use a view model and pass this view model to the post action
p44835
aVWhen you say dynamic it is not clear whether it's the number that is not known but the structure always the same in which case you could use a collection of a view model
p44836
aVor if the fields are totally arbitrary and dynamic you could use the  object inside your controller action to read their values
p44837
aVIt is a key/value collection containing everything that is sent to the controller
p44838
as(dp44839
g16
V29407
p44840
stp44841
a((dp44842
g2
(lp44843
s(dp44844
g16
V29407
p44845
stp44846
a((dp44847
g2
(lp44848
VI would suggest you once you have rasterized the PDF into a JPEG image to use text recognition (OCR) to extract the text within the selected region
p44849
aVHere's an article about an OCR library for
p44850
aVNET
p44851
aVAs far as extracting text from PDF is concerned here's an article illustrating how this be achieved more or less reliably
p44852
aVThe problem will be how to recognize the text within the selected rectangle by the user
p44853
as(dp44854
g16
V29407
p44855
stp44856
a((dp44857
g2
(lp44858
VYou don't need to wrap your call into the DOM ready event as you are not manipulating any DOM elements and the following should work cross browser:
p44859
aVAlso notice the parenthesis  after the anonymous function declaration which you were missing in your initial declaration (the one passed to  and not the one passed to )
p44860
aVAlso it is a good idea to have your controller action always return something and not  (even if this something is an empty result):
p44861
as(dp44862
g16
V29407
p44863
stp44864
a((dp44865
g2
(lp44866
VWhatever we can do by PHP, can be done using Javascript(I think that but I am a noob to this)
p44867
aVNo this is not true
p44868
aVOne thing you cannot do with javascript is to connect to a SQL database on your server which is kind of common task in web development
p44869
as(dp44870
g16
V29407
p44871
stp44872
a((dp44873
g2
(lp44874
VWell you should modify the code that opens the session and closes it right after the action so that it closes it after the  action
p44875
as(dp44876
g16
V29407
p44877
stp44878
a((dp44879
g2
(lp44880
VIf we were in 2003 then yes, ArrayList could have worked fine but now I would recommend you using a generic  which will be type safe and you don't need casting
p44881
aVSo you could have the following collection:
p44882
as(dp44883
g16
V29407
p44884
stp44885
a((dp44886
g2
(lp44887
Vand in your form:
p44888
as(dp44889
g16
V29407
p44890
stp44891
a((dp44892
g2
(lp44893
VYou could use the  method:
p44894
as(dp44895
g16
V29407
p44896
stp44897
a((dp44898
g2
(lp44899
VNot really answering the question, just this specific code snippet:
p44900
aVYou shouldn't use a repository in your ASP
p44901
aVNET MVC custom html helper methods
p44902
aVThis is the controller's responsibility to manipulate the model
p44903
aVHtml helper methods are for generating small HTML snippets
p44904
aVAs far as the more general case is concerned, then well, extension methods are just syntactic sugar for plain static methods so you can't inject dependencies into them
p44905
as(dp44906
g16
V29407
p44907
stp44908
a((dp44909
g2
(lp44910
VYou could also use the HostingEnvironment
p44911
aVApplicationPhysicalPath property
p44912
as(dp44913
g16
V29407
p44914
stp44915
a((dp44916
g2
(lp44917
VIf those are view model or model classes then they could go in the  namespace
p44918
aVYou could use the  namespace to define static classes containing extension methods for the  and  classes
p44919
as(dp44920
g16
V29407
p44921
stp44922
a((dp44923
g2
(lp44924
VConfiguration settings are cached in memory and web
p44925
aVconfig is not parsed every time you call this function
p44926
as(dp44927
g16
V29407
p44928
stp44929
a((dp44930
g2
(lp44931
VIt returns :
p44932
as(dp44933
g16
V29407
p44934
stp44935
a((dp44936
g2
(lp44937
VHere's a blog post which you might find interesting about lifetime of data contexts
p44938
as(dp44939
g16
V29407
p44940
stp44941
a((dp44942
g2
(lp44943
VIDE is the development environment, the editor where you would normally write code
p44944
aVIt also might include a compiler, debugger,
p44945
aVA framework is a set of reusable libraries or classes which you could use in your code
p44946
as(dp44947
g16
V29407
p44948
stp44949
a((dp44950
g2
(lp44951
VBe careful with this because it could open your site to XSS attacks
p44952
as(dp44953
g16
V29407
p44954
stp44955
a((dp44956
g2
(lp44957
VThe first step would be to generate a proxy class from the WSDL
p44958
aVThis could be done directly in Visual Studio by clicking on the  and pointing to the WSDL
p44959
aVOnce you have the proxy you could directly call the method
p44960
aVIt could look something like this:
p44961
as(dp44962
g16
V29407
p44963
stp44964
a((dp44965
g2
(lp44966
V parameters enforce the contract between the caller and the callee (the function being called) by explicitly specifying that the callee will initialize them
p44967
aVOn the other hand when using  parameters all we know is that the callee could modify them but it is the caller's responsibility to initialize them
p44968
as(dp44969
g16
V29407
p44970
stp44971
a((dp44972
g2
(lp44973
VYou don't need to have a Python interpreter installed
p44974
aVAll you need is the DLR and the IronPython assemblies deployed with your site
p44975
aVThen you could host IronPython inside your application and execute Python scripts and even retrieve the results back in C#
p44976
aVAnd here's an example of hosting the DLR in a console application
p44977
as(dp44978
g16
V29407
p44979
stp44980
a((dp44981
g2
(lp44982
VYou can't use those controls in an ASP
p44983
aVNET MVC application because they rely on ViewState and PostBack model, all notions that no longer exist in MVC
p44984
aVAlso those controls use DataSources to bind their data
p44985
aVData Sources are no-no in MVC
p44986
as(dp44987
g16
V29407
p44988
stp44989
a((dp44990
g2
(lp44991
VYes, you could append  to your connection string and specify the value you wish
p44992
aVThe timeout value set in the  property is a time expressed in seconds
p44993
aVIf this property isn't set, the timeout value for the connection is the default value (15 seconds)
p44994
aVMoreover, setting the timeout value to , you are specifying that your attempt to connect waits an infinite time
p44995
aVAs described in the documentation, this is something that you shouldn't set in your connection string:
p44996
aVA value of 0 indicates no limit, and should be avoided in a
p44997
aVConnectionString because an attempt to connect waits indefinitely
p44998
as(dp44999
g16
V29407
p45000
stp45001
a((dp45002
g2
(lp45003
VYou could use JavaScriptSerializer and that's guaranteed to be safe against XSS:
p45004
aVThis approach also allows you to pass complex objects and not just plain strings:
p45005
as(dp45006
g16
V29407
p45007
stp45008
a((dp45009
g2
(lp45010
VWhile waiting for you to clearly specify the problem, here's a full working counter example that what you describe in your question doesn't actually happen:
p45011
aVModel:
p45012
aVController:
p45013
aVView:
p45014
aVYou can submit the form as much as you wish, the formatting will be preserved
p45015
aVUPDATE:
p45016
aVAfter providing additional information here's why the problem occurs
p45017
aVWhen you redirect to the  action with  a query string parameter is applied to the url:
p45018
aVNotice how the hour is included and that's normal
p45019
aVNow when you return the view in the  GET action the HTML helper responsible for generating the editor template will do the following tasks:
p45020
aVCheck to see whether there's a ConfigDate parameter (either GET or POST)
p45021
aVIf none was found check the value of the Model which is passed to the view and use the  property of the model and generate the textbox
p45022
aVAs a ConfigValue is found in the query string the model is not used at all
p45023
aVSo it simply takes the value passed in the redirect which also contains the time and uses it to bind to it
p45024
as(dp45025
g16
V29407
p45026
stp45027
a((dp45028
g2
(lp45029
VYou could use the  method:
p45030
aVor simply:
p45031
aVwhich would be the same
p45032
as(dp45033
g16
V29407
p45034
stp45035
a((dp45036
g2
(lp45037
VSure:
p45038
as(dp45039
g16
V29407
p45040
stp45041
a((dp45042
g2
(lp45043
VYou could use the  function:
p45044
as(dp45045
g16
V29407
p45046
stp45047
a((dp45048
g2
(lp45049
VYou could use an OleDbConnection
p45050
aVHere's an example
p45051
as(dp45052
g16
V29407
p45053
stp45054
a((dp45055
g2
(lp45056
VYou could try writing a custom service host factory which will use the load balancer's url as base address:
p45057
as(dp45058
g16
V29407
p45059
stp45060
a((dp45061
g2
(lp45062
VIf you redirect in an AJAX invoked action it will most probably return an entire HTML page whereas you need to return only an HTML partial
p45063
aVAfter checking for session expiration instead of redirect you could return a partial view containing the login partial:
p45064
as(dp45065
g16
V29407
p45066
stp45067
a((dp45068
g2
(lp45069
VHow about casting the value back to the enum type on the server:
p45070
as(dp45071
g16
V29407
p45072
stp45073
a((dp45074
g2
(lp45075
VWorks pretty well for me (ASP
p45076
aVNET MVC 3 RC):
p45077
aVMake sure you have selected the entire commented text:
p45078
as(dp45079
g16
V29407
p45080
stp45081
a((dp45082
g2
(lp45083
VYou can't directly send an object to this controller from a Silverlight application
p45084
aVYou need to send an HTTP POST request by using a WebClient for example and passing the values in the POST body
p45085
aVHere's an example:
p45086
aVFor more advanced binding scenarios you could take a look at this blog post
p45087
as(dp45088
g16
V29407
p45089
stp45090
a((dp45091
g2
(lp45092
VI don't know what do you mean by converting a stream to a string
p45093
aVAlso what's the other side
p45094
aVIn order to convert a stream to a string you need to use an encoding
p45095
aVHere's an example of how this could be done if we suppose that the stream represents UTF-8 encoded bytes:
p45096
as(dp45097
g16
V29407
p45098
stp45099
a((dp45100
g2
(lp45101
VThere's nothing out of the box that allows you to do this
p45102
aVYou will need to use reflection to read attributes for a given property and based on it's value adapt the mapping
p45103
as(dp45104
g16
V29407
p45105
stp45106
a((dp45107
g2
(lp45108
VYou could use a separate web application for hosting the web services
p45109
aVThis will give you the possibility to host your MVC application and WCF service in separate virtual directories in IIS
p45110
aVOnce you wrote the web service you could generate a client proxy and then in the client application you could use a repository:
p45111
aVand then have a specific implementation of this repository that will fetch the data from your WCF service:
p45112
aVAnd finally inject this repository into the constructor of your controller which might look like this:
p45113
aVAs you can see now the controller is completely decoupled by the way data is fetched
p45114
aVAll it cares is that it respects the given contract (IProductsRepository interface)
p45115
aVUsing your favorite DI framework you could easily switch the implementation
p45116
aVBy the way if your code resembles mine, theonly thing that you should change in your current MVC application is to externalize the models and data access layers into a separate WCF service project which you would add service reference to, implement the  repository and instruct your DI framework to use this implementation instead of the  which would now go to the web service
p45117
as(dp45118
g16
V29407
p45119
stp45120
a((dp45121
g2
(lp45122
VYou could use a XmlDataSource
p45123
aVBecause your XML is not conform to what this control expects you will need to adapt it by using a XSL transformation
p45124
aVSo Step 1:
p45125
aVDefine a XSL transformation ():
p45126
aVStep 2:
p45127
aVUse it:
p45128
aVNotice how the  property on the data source is pointing to the XSL file
p45129
as(dp45130
g16
V29407
p45131
stp45132
a((dp45133
g2
(lp45134
VOpen the  file with your favorite text editor (not Visual Studio) and add the following GUID:
p45135
aVNotice the  GUID
p45136
aVThis is what indicates that it is an ASP
p45137
aVNET MVC project
p45138
aVOnce this GUID added to the  node you will get the context menus
p45139
as(dp45140
g16
V29407
p45141
stp45142
a((dp45143
g2
(lp45144
VNo matter what type of application you choose the way to get notifications about folder changes in
p45145
aVNET is through the FileSystemWatcher class
p45146
aVA good approach would be to create a Windows Service which will run in background and listen for notifications
p45147
as(dp45148
g16
V29407
p45149
stp45150
a((dp45151
g2
(lp45152
VYou need a view model specifically tailored to the needs of this view
p45153
aVWhen defining your view models you shouldn't be thinking in terms of tables
p45154
aVSQL tables have absolutely no meaning in a view
p45155
aVThink in terms of what information you need to show and define your view models accordingly
p45156
aVThen you could use AutoMapper to convert between your real models and the view model you have defined
p45157
aVSo forget about all you said about tables and focus on the following sentence:
p45158
aVIn the view I want to show a list of
p45159
aVretailers and with each retailer I
p45160
aVwant to show the list of categories
p45161
aVapplicable to them
p45162
aVThis sentence is actually very good as it explains exactly what you need
p45163
aVSo once you know what you need go ahead and modelize it:
p45164
aVNow you strongly type your view to
p45165
aVFrom here it is easy-peasy to do what you want in the view:
p45166
aVshowing a list of retailers with each retail having a list of associated categories
p45167
as(dp45168
g16
V29407
p45169
stp45170
a((dp45171
g2
(lp45172
V is a managed object but the object it is pointing to is still not garbage collected
p45173
aVUsing unsafe pointers in C# is really something that you should avoid
p45174
aVCode using unsafe pointers might not account for differences in memory addresses between x86 and x64 systems
p45175
aVIt allows you to directly manipulate memory addresses easily which is not the case with IntPtr as you would need to marshal between the pointer and the actual structure stored at this memory address
p45176
aVWith unsafe pointers you could directly work with the underlying type: here's a blog post I wrote illustrating one possible use of unsafe pointers
p45177
aVAnother common example is manipulating image pixels directly
p45178
as(dp45179
g16
V29407
p45180
stp45181
a((dp45182
g2
(lp45183
VI would recommend you reading the following blog post which explains in details how to achieve what you are looking for
p45184
as(dp45185
g16
V29407
p45186
stp45187
a((dp45188
g2
(lp45189
s(dp45190
g16
V29407
p45191
stp45192
a((dp45193
g2
(lp45194
VYou could use IIS Express which is a lightweight free version of IIS
p45195
as(dp45196
g16
V29407
p45197
stp45198
a((dp45199
g2
(lp45200
VIf the type implements ICollection it will have the Count property
p45201
aVLength on the other hand is not standard and is defined as a property of the Array class so all fixed size arrays will have it as well
p45202
as(dp45203
g16
V29407
p45204
stp45205
a((dp45206
g2
(lp45207
VThere's nothing built-in Elmah that will allow you to achieve this but here's what you might do: disable  on your public site and configure it to write errors to some data source (a file, SQLite database or even SQL server)
p45208
aVThen configure an intranet site which will have  enabled and will point to the same data source used by your public internet site
p45209
aVThis way you could use the intranet site to see the errors
p45210
aVIf you have a web server farm and multiple applications you could use a centralized SQL Server database which will store the application name as an additional column so that when you navigate to the intranet elmah
p45211
aVaxd you will have a complete overview of the errors occurring on your public production servers
p45212
as(dp45213
g16
V29407
p45214
stp45215
a((dp45216
g2
(lp45217
VYou could use the built-in cache:
p45218
as(dp45219
g16
V29407
p45220
stp45221
a((dp45222
g2
(lp45223
VI would recommend you Pro ASP
p45224
aVNET MVC Framework which is an excellent book about ASP
p45225
aVNET MVC in general
p45226
aVIt doesn't specifically treat WCF but once you understand the concept of abstracting your data access layer into a repository inside your ASP
p45227
aVNET MVC application it doesn't really matter where does the data comes from
p45228
aVIt could be a SQL database, a XML file, a WCF service,
p45229
aVThe next part would be to write the WCF service
p45230
aVThis step could be done independently from the client application
p45231
aVOnce the service is exposed you would generate a client proxy from the WSDL by using the  dialog in Visual Studio and you would be ready to call it
p45232
aVThere's nothing specific in ASP
p45233
aVNET MVC for consuming a web service, it would be the same as any other type of application: console, windows, web,
p45234
as(dp45235
g16
V29407
p45236
stp45237
a((dp45238
g2
(lp45239
VThe answer to this question would very much depend on what do you mean by reload some info in ASP
p45240
aVNET MVC project
p45241
aVThis is not a clearly stated problem and as such, more than obviously, it cannot have a clearly stated answer
p45242
aVSo if we assume that by this you want to periodically poll some controller action and update information on a view you could use the setInterval javascript function to periodically poll the server by sending an AJAX request and update the UI:
p45243
aVIf on the other hand you mean executing some task on the server at regular periods you could use the  RegisterWaitForSingleObject method like this:
p45244
aVIf you mean something else, don't hesitate to provide more details to your question
p45245
as(dp45246
g16
V29407
p45247
stp45248
a((dp45249
g2
(lp45250
VValidation should be put at least on the view model because this is what you receive as user input
p45251
aVAs far as validation on the model is concerned you could add it as well but as long as you are passing a view model to your POST action (which is exactly what you should do) the validation on the model will be ignored
p45252
aVOf course that's not a problem here because a model is something that might be reused on other applications as well which don't use view models and this way your model is guaranteed to be valid
p45253
aVAs far as ASP
p45254
aVNET MVC is concerned this step is not necessary
p45255
as(dp45256
g16
V29407
p45257
stp45258
a((dp45259
g2
(lp45260
VYou can't inject javascript variable to a script that is evaluated at the server simply because at the moment this script executes and generates the output this variable hasn't yet come to existence
p45261
aVThe only way to achieve this is to manipulate the resulting string:
p45262
aVThe drawback is that this assumes manipulating the routes in javascript and if you decide to change them on the server the code might break
p45263
as(dp45264
g16
V29407
p45265
stp45266
a((dp45267
g2
(lp45268
VSet the  option to  for this file
p45269
as(dp45270
g16
V29407
p45271
stp45272
a((dp45273
g2
(lp45274
VThat's because the  function is executed asynchronously because it is an AJAX call
p45275
aVSo it makes no sense to return a value in an AJAX callback because it could execute much after the containing function has returned
p45276
aVIn order to fix this you will need to manipulate the result inside the success function because they will be available only there:
p45277
as(dp45278
g16
V29407
p45279
stp45280
a((dp45281
g2
(lp45282
VIn an ASP
p45283
aVNET MVC application
p45284
aVAre you serious
p45285
aVIn an ASP
p45286
aVNET MVC application you use controller action which return ActionResults
p45287
aVSo you could return JSON:
p45288
aVThen you could consume this controller action using AJAX for example
p45289
aVAnother possibility is to have this array as a property of your view model:
p45290
aVand then serialize this property in the view using JavaScriptSerializer:
p45291
as(dp45292
g16
V29407
p45293
stp45294
a((dp45295
g2
(lp45296
VThat's probably because you are using a Web Site project in contrast to Web Application project and all classes stored in your  folder will automatically be compiled into temporary assemblies
p45297
as(dp45298
g16
V29407
p45299
stp45300
a((dp45301
g2
(lp45302
VThe following works fine for me:
p45303
aVMaybe you have some other code which is interfering
p45304
as(dp45305
g16
V29407
p45306
stp45307
a((dp45308
g2
(lp45309
VYou could try the following format:
p45310
as(dp45311
g16
V29407
p45312
stp45313
a((dp45314
g2
(lp45315
VHere's how tou could fake the identity:
p45316
aVNow when you use  property it will point to the fake principal which was provided
p45317
as(dp45318
g16
V29407
p45319
stp45320
a((dp45321
g2
(lp45322
VHere's how the  method looks like in the default template of an ASP
p45323
aVNET MVC 3 RC application:
p45324
aVDoes yours look the same
p45325
aVObviously the second parameter (a ) has been removed from the  method
p45326
as(dp45327
g16
V29407
p45328
stp45329
a((dp45330
g2
(lp45331
VYou could expose the  as singleton:
p45332
aVNow you could use  in your code:
p45333
as(dp45334
g16
V29407
p45335
stp45336
a((dp45337
g2
(lp45338
VThere's an example illustrating how to implement paging with the Telerik Grid component for ASP
p45339
aVNET MVC
p45340
as(dp45341
g16
V29407
p45342
stp45343
a((dp45344
g2
(lp45345
VOf course you can, but  must be known:
p45346
aVAs an alternative you could use a generic method if you don't want to make the containing class generic:
p45347
aVBut still someone at compile time will need to know this
p45348
as(dp45349
g16
V29407
p45350
stp45351
a((dp45352
g2
(lp45353
VWhen sending a request you should properly URL encode parameteres:
p45354
aVor:
p45355
aVNow you can safely read the  variable in your PHP script:
p45356
aVI suppose that right now your code looks something like this:
p45357
aVI would recommend you to never use string concatenations and always use the  hash
p45358
as(dp45359
g16
V29407
p45360
stp45361
a((dp45362
g2
(lp45363
VA view is supposed to manipulate the model which is passed by the controller
p45364
aVThe query string parameters are already present when the request was made to the corresponding action
p45365
aVSo to pass a view model:
p45366
aVAnd now in your view you could use this model
p45367
aVIf on the other hand you don't want to return a view but redirect to some other controller action you could:
p45368
as(dp45369
g16
V29407
p45370
stp45371
a((dp45372
g2
(lp45373
VASMX is considered deprecated technology and replaced by WCF
p45374
aVSo if you are going to start new development which requires exposing reusable services, WCF is the way to go
p45375
as(dp45376
g16
V29407
p45377
stp45378
a((dp45379
g2
(lp45380
VIt should be:
p45381
aVAlso make sure that your view is strongly typed to this  class (the  directive at the top):
p45382
aVAlso the controller action that rendered this view needs to pass the correct model:
p45383
aVAlso the convention in C# is to have class name and property names start with a Capital letter
p45384
as(dp45385
g16
V29407
p45386
stp45387
a((dp45388
g2
(lp45389
VI don't understand what  you are talking about
p45390
aVIn the sample code you provided the controller action is passing an  collection to your view so that you could loop through it:
p45391
aVor even better use a display template for this site ():
p45392
aVAnd in your main view simply:
p45393
as(dp45394
g16
V29407
p45395
stp45396
a((dp45397
g2
(lp45398
VIf the user is not supposed to modify the values of this model inside the view then you could use hidden fields or simply pass some unique identifier which will allow the controller action to retrieve back the model from the repository
p45399
as(dp45400
g16
V29407
p45401
stp45402
a((dp45403
g2
(lp45404
VThe  method exists
p45405
aVMake sure you've spelled and cased it correctly
p45406
aVIn the error message text it starts with a lowercase letter and I suspect you have a typo in your code
p45407
as(dp45408
g16
V29407
p45409
stp45410
a((dp45411
g2
(lp45412
VTo redirect in javascript you need to use the  property:
p45413
as(dp45414
g16
V29407
p45415
stp45416
a((dp45417
g2
(lp45418
VTry targeting x86 instead of Any CPU in the properties of your
p45419
aVNET project
p45420
aVIIRC Windows Media Encoder is a native 32 bit component
p45421
as(dp45422
g16
V29407
p45423
stp45424
a((dp45425
g2
(lp45426
VIf most of the time it is short running threads you could use the thread pool or a BackgroundWorker which draws threads from the pool
p45427
as(dp45428
g16
V29407
p45429
stp45430
a((dp45431
g2
(lp45432
VHow about  or  or a static array of strings ()
p45433
as(dp45434
g16
V29407
p45435
stp45436
a((dp45437
g2
(lp45438
VThe default template uses SQL Express edition
p45439
aVAn  file will be stored in the  directory
p45440
aVLook at the connection string in web
p45441
aVconfig:
p45442
as(dp45443
g16
V29407
p45444
stp45445
a((dp45446
g2
(lp45447
VFirst remark about your action filter: change
p45448
aVto:
p45449
aVSecond remark is about the way you are calling your ajax actions
p45450
aVYou should always use the url helpers to generate proper routes and never hardcode them in your scripts
p45451
aVExample:
p45452
aVInstead of:
p45453
aVDo:
p45454
as(dp45455
g16
V29407
p45456
stp45457
a((dp45458
g2
(lp45459
VYou could try using the MembershipProvider
p45460
aVGetAllUsers to get more extensive information about each user
p45461
aVThis will give you a collection of MembershipUser
p45462
as(dp45463
g16
V29407
p45464
stp45465
a((dp45466
g2
(lp45467
VYou could specify the name of the route using the  helper:
p45468
as(dp45469
g16
V29407
p45470
stp45471
a((dp45472
g2
(lp45473
VYou don't need to specify anything about those fields
p45474
aVJust:
p45475
aVIf the  and  properties don't exist on your view model when mapping between DM and VM they will be simply ignored
p45476
as(dp45477
g16
V29407
p45478
stp45479
a((dp45480
g2
(lp45481
VYou cannot mock the repository that is hardcoded like this in your action
p45482
aVYou are instantiating it inside the action, you will never be able to unit test this and mock the repository
p45483
aVThe repository needs to be injected as a dependency
p45484
aVYou could use an interface and pass this interface to the constructor of your controller:
p45485
aVNow in your unit test you could pass the mocked instance of your repository to the controller constructor and define expectations
p45486
aVAlso notice that MVCContrib
p45487
aVTestHelper is designed to work with Rhino Mocks
p45488
aVI am not quite sure whether it works fine with Moq
p45489
as(dp45490
g16
V29407
p45491
stp45492
a((dp45493
g2
(lp45494
VYou could take a look at the DateTimeFormat property which contains the culture specific formats
p45495
as(dp45496
g16
V29407
p45497
stp45498
a((dp45499
g2
(lp45500
VPersonally I've used xhtmlrenderer compiled with ikvmc to
p45501
aVNET with great success
p45502
as(dp45503
g16
V29407
p45504
stp45505
a((dp45506
g2
(lp45507
VYou could set the encoding to UTF-8 in the globalization element of your web
p45508
aVconfig:
p45509
aVAlso you could set the meta tag in the  section:
p45510
as(dp45511
g16
V29407
p45512
stp45513
a((dp45514
g2
(lp45515
VThis might depend on the actionsyou would like to take when this exception occurs but a good place is to use the global error handler  (in global
p45516
aVasax) which is called every time an unhandled exception is thrown and where you log the error and redirect the user to some page
p45517
as(dp45518
g16
V29407
p45519
stp45520
a((dp45521
g2
(lp45522
VIt depends on where you are storing this file
p45523
aVIf you are storing it in a directory which is outside of the virtual directory root you won't be able to access it
p45524
aVIf the file is inside a folder which is accessible over HTTP you could simply use the Content method:
p45525
as(dp45526
g16
V29407
p45527
stp45528
a((dp45529
g2
(lp45530
VYou need to have a collection of dates in order to be able to use
p45531
aVYou are saying that the list is indeed a  and inside you have courses which is a collection but  is a single  property
p45532
aVHow about declaring it as a collection (the same way you've done it for the  collection):
p45533
as(dp45534
g16
V29407
p45535
stp45536
a((dp45537
g2
(lp45538
VYou need a containing class because of the  property:
p45539
aVAnd then:
p45540
as(dp45541
g16
V29407
p45542
stp45543
a((dp45544
g2
(lp45545
VI would change everything to  or if you need to access the error messages by index use
p45546
as(dp45547
g16
V29407
p45548
stp45549
a((dp45550
g2
(lp45551
VYou have a  after your  that needs to be removed:
p45552
aVAlso it's always a good idea to check if the string entered inside the input is a number:
p45553
as(dp45554
g16
V29407
p45555
stp45556
a((dp45557
g2
(lp45558
VYou  tag is strangely nested inside the  tag
p45559
aVAlso make sure that the DOM is loaded before trying to attach handlers to elements
p45560
aVHere's a demo
p45561
aVRemark: The  is not necessary if this script is located after the  declaration
p45562
as(dp45563
g16
V29407
p45564
stp45565
a((dp45566
g2
(lp45567
VYou could have multiple databases but it would make it difficult to perform queries
p45568
aVA single database could have many tables and it is the recommended approach
p45569
as(dp45570
g16
V29407
p45571
stp45572
a((dp45573
g2
(lp45574
VScott Gu blogged about this
p45575
as(dp45576
g16
V29407
p45577
stp45578
a((dp45579
g2
(lp45580
VYou could take a look at WCF RIA services where you can reuse metadata for validation
p45581
as(dp45582
g16
V29407
p45583
stp45584
a((dp45585
g2
(lp45586
VA known type is needed when only the base type is visible in the operation contract signature but some derived type could be returned
p45587
aVExample:
p45588
aVand in the implementation:
p45589
aVwhere  derives from
p45590
aVSo you need to specify this explicitly either at the  declaration:
p45591
aVor using the  at the service contract declaration:
p45592
aVor using the config file:
p45593
aVUPDATE:
p45594
aVAs the documentation states it you don't need this for primitive types:
p45595
aVThe following types built into the
p45596
aVNET Framework can all be serialized
p45597
aVand are considered to be primitive
p45598
aVtypes: Byte, SByte, Int16, Int32,
p45599
aVInt64, UInt16, UInt32, UInt64, Single,
p45600
aVDouble, Boolean, Char, Decimal,
p45601
aVObject, and String
p45602
as(dp45603
g16
V29407
p45604
stp45605
a((dp45606
g2
(lp45607
VI would look at the generator  tag for known blog editors
p45608
aVFor example here's how it looks for Wordpress:
p45609
as(dp45610
g16
V29407
p45611
stp45612
a((dp45613
g2
(lp45614
VI don't know if such method exists in MVCContrib but it would be trivial to write one:
p45615
as(dp45616
g16
V29407
p45617
stp45618
a((dp45619
g2
(lp45620
VASMX web services doesn't support this
p45621
aVYou could write a generic handler :
p45622
aVNow you could call your handler from javascript:
p45623
aVAnother option is to use WCF
p45624
as(dp45625
g16
V29407
p45626
stp45627
a((dp45628
g2
(lp45629
VIf one of the required assemblies are missing your application might not even be loaded by the CLR
p45630
aVSo you could write a loader application which will do the job of checking the existence of the required assemblies and if they exist  the main application
p45631
as(dp45632
g16
V29407
p45633
stp45634
a((dp45635
g2
(lp45636
VUse transactions
p45637
aVThis should make things faster
p45638
aVAlso I would recommend you the following pattern:
p45639
as(dp45640
g16
V29407
p45641
stp45642
a((dp45643
g2
(lp45644
VI don't know what implementation of  you are using but  will not contain the bytes representing the number
p45645
aVYou are simply converting a string to bytes here
p45646
aVYou could have used string  which would have given you another result
p45647
aVYou probably want to use the Parse method instead:
p45648
as(dp45649
g16
V29407
p45650
stp45651
a((dp45652
g2
(lp45653
VI would recommend you reading this blog post about how your input fields should be named so that you can bind to a dictionary
p45654
aVSo you will need an additional hidden field for the key:
p45655
aVwhich could be generated with something along the lines:
p45656
aVThis being said, personally I would recommend you NOT using dictionaries in your views
p45657
aVThey are ugly and in order to generate proper names for the model binder you need to write ugly code
p45658
aVI would use view models
p45659
aVHere's an example:
p45660
aVModel:
p45661
aVController:
p45662
aVView ():
p45663
aVEditor Template ():
p45664
as(dp45665
g16
V29407
p45666
stp45667
a((dp45668
g2
(lp45669
VYou need to make the distinction between unit tests, integration tests and web tests
p45670
aVUnit tests are for testing different components of your code such as controller actions in isolation
p45671
aVIntegration tests are for testing the integration between your code and external components such as a repository which reads and writes data from a database and a web test is for testing an entire user scenario of your application such as the user typing some address in the address bar of his browser, clicking on some button,
p45672
aVMVCContrib
p45673
aVTestHelper and Rhino Mocks are intended to simplify your unit tests
p45674
aVSo in your scenario you should test your  controller action
p45675
aVWithout showing the code this controller action contains it is difficult to say what exactly do you need to test
p45676
aVIn general what you could unit test in a controller action is that it validates the input, calls the proper methods on the repository and according to the results it returns the proper view
p45677
aVSo let's suppose that you have the following Index action you are willing to test:
p45678
aVAnd the corresponding unit test:
p45679
aVAs far as your views are concerned you will need to write web tests to verify that they behave as expected
p45680
aVThere are different tools that might help you here such as Selenium or directly use Web Tests if you have the Ultimate version of Visual Studio
p45681
aVSteven Sanderson also proposed an interesting approach for testing views you might take a look at
p45682
as(dp45683
g16
V29407
p45684
stp45685
a((dp45686
g2
(lp45687
VMore and more chat web sites :-)
p45688
aVNow seriously, being part of the HTML5 specification, the WebSocket API allows servers to push data to the client
p45689
aVA big advantage for this is that clients will no longer need to continuously poll the server for updates, when updates are available servers will push data to the client and notify him for those updates, which would preserve bandwidth and allow more efficient applications
p45690
aVModern browsers already support it
p45691
aVOn the other hand an additional server is needed for handling the protocol
p45692
as(dp45693
g16
V29407
p45694
stp45695
a((dp45696
g2
(lp45697
VI totally agree with you
p45698
aVThis is not consistent behavior but it is how it has been implemented
p45699
aVThere are comments at the end of the documentation about this behavior which is not very intuitive
p45700
aVAll stream writers just take ownership of the underlying stream and dispose it
p45701
aVPersonally I always nest my  statement like this:
p45702
aVso that a code like the one you put in the Assert shouldn't be written
p45703
as(dp45704
g16
V29407
p45705
stp45706
a((dp45707
g2
(lp45708
VI am getting only filename but wants the full path of the image
p45709
aVFor security reasons it is impossible to get the full path to the image on the client computer
p45710
aVThis information is never sent to the server
p45711
aVAs far as the second part of your question is concerned about storing the uploaded image on the server, there are many articles out there illustrating this
p45712
as(dp45713
g16
V29407
p45714
stp45715
a((dp45716
g2
(lp45717
VThe best place to start is here
p45718
aVThis will at least verify that you don't have syntax errors in your CSS files and that they conform to some level (CSS 1, CSS 2, CSS 2
p45719
aV1, CSS 3,
p45720
aVAs far as the different behavior between browsers is concerned, there's no magic, otherwise web design would have been an easy job :-)
p45721
as(dp45722
g16
V29407
p45723
stp45724
a((dp45725
g2
(lp45726
VI know
p45727
aVnet is just a bunch of libraries and can be used for web programming
p45728
aVNET is much more than this
p45729
aVIt is not restricted to web programming
p45730
aVThere are possibilities for doing Windows Applications (WPF), Web Applications (ASP
p45731
aVNET), Network Communication (WCF), Database Access (ADO
p45732
aVNET),
p45733
aV, you name it
p45734
aVSo just pick a language you would like to learn like C# and go ahead and visit MSDN
p45735
as(dp45736
g16
V29407
p45737
stp45738
a((dp45739
g2
(lp45740
VYou can safely read values without the need of Invoke, but I would recommend not to
p45741
aVJust centralize all your GUI read/writes into the main thread
p45742
aVPass all the necessary values to the background thread so that it can perform the task
p45743
aVThis background thread shouldn't know anything about the GUI, it should get some input, process it and produce a result which would be passed using the  method so that it can be interpreted by the GUI
p45744
aVThis is for the sake of reusability
p45745
aVImagine tomorrow switching to some other GUI like a console application or WPF, if your background thread code is mixed with GUI access you won't be able to easily reuse it
p45746
aVAlso you might take a look at BackgroundWorker which provides convenient events so that you don't need to manually marshal calls to the main thread with
p45747
as(dp45748
g16
V29407
p45749
stp45750
a((dp45751
g2
(lp45752
VThat's normal
p45753
aVYour POST controller action takes  as parameter and not the view model
p45754
aVThe validation is performed by the model binder, so when the model binder tries to bind the Customer object from request parameters it will invoke the validation
p45755
aVYour POST action needs to take the view model as parameter if you want the validation to be performed on this view model
p45756
aVCurrently all you do with this view model inside the post action is to call the constructor and calling the constructor doesn't trigger any validation at all
p45757
aVSo your POST action should become:
p45758
aVNotice how you don't need to pass the password as second action argument as it is already part of your view model
p45759
as(dp45760
g16
V29407
p45761
stp45762
a((dp45763
g2
(lp45764
VHow about using an integer property:
p45765
aVThis will ensure that only numbers can be stored
p45766
as(dp45767
g16
V29407
p45768
stp45769
a((dp45770
g2
(lp45771
VPersonally I use machine
p45772
aVconfig to manage environment specific settings
p45773
aVThis file contains machine specific settings
p45774
aVIf you don't have dedicated machines for each environment but instead you are using different web sites in IIS you could have a root web
p45775
aVconfig file located at the root of each web site containing environment specific settings
p45776
aVBasically inside this global configuration file I store key/value pairs containing the names of my SQL Server, Web services server,
p45777
aVwhich vary across environments and then in my application I use those keys to construct the final connections strings, http web addresses,
p45778
aVOnce those global configuration settings are in place you can deploy the exact same application files with web
p45779
aVconfig among all environments
p45780
as(dp45781
g16
V29407
p45782
stp45783
a((dp45784
g2
(lp45785
VHere's a full working example I wrote for you:
p45786
aVAs you will see in this example files are uploaded to the same page called
p45787
aVNotice that parameters such as  and  are POSTed so you shouldn't use  to read them but  directly as this will look at the POST body as well
p45788
aVYou should also make sure that the  folder exists on the server at the root
p45789
aVIn this example the same page default
p45790
aVaspx is used for showing the upload form and handling the uploads
p45791
aVIn a real world application this is not something I would do
p45792
aVI would recommend you using a separate script which will handle the file uploads such as a generic http handler (upload
p45793
aVashx)
p45794
aVFinally you will notice that I have used some default settings that you might wish to modify and reconfigure the plugin to fit your needs
p45795
aVI just took the settings from the documentation
p45796
aVUPDATE:
p45797
aVAnd since I recommended using a separate generic http handler for handling the file uploads here's how it might look :
p45798
aVNow all that's left is to reconfigure the plugin to point to this generic handler:
p45799
as(dp45800
g16
V29407
p45801
stp45802
a((dp45803
g2
(lp45804
VThe following line seems to be checking for the file extension:
p45805
aVYou could modify it so that it accepts the other file types as well:
p45806
aVAnother slight modifications would consist into not hardcoding the  extension but simply using the extension of the uploaded file:
p45807
as(dp45808
g16
V29407
p45809
stp45810
a((dp45811
g2
(lp45812
VNormally your controller action should take a strongly typed view model:
p45813
aVSo you would test this controller action as any other controller actions
p45814
aVThere's nothing special and related to JSON about this controller action:
p45815
aVAs you can see we never should mention any JSON about it
p45816
aVIt's just the built-in JsonValueProviderFactory that allows interpreting binding JSON request to a
p45817
aVNET type but you don't need to test this
p45818
aVIt is already built-in
p45819
as(dp45820
g16
V29407
p45821
stp45822
a((dp45823
g2
(lp45824
VI think you are confusing ASP
p45825
aVNET and ASP
p45826
aVNET MVC
p45827
aVYou should use HTML helpers and never ever put a  tag in an ASP
p45828
aVNET MVC view
p45829
aVSo your form could look like this:
p45830
aVThis will take care of generating the proper form tag
p45831
as(dp45832
g16
V29407
p45833
stp45834
a((dp45835
g2
(lp45836
VYou need to mock the controller context in your unit test if the controller action your are trying to test relies on it
p45837
aVI would strongly recommend you looking at the MVCContrib
p45838
aVTestHelper which would simplify the task of mocking this context and making your unit tests more elegant
p45839
as(dp45840
g16
V29407
p45841
stp45842
a((dp45843
g2
(lp45844
VMake sure that you are passing the model in the controller action rendering this view and that the  property of this model is not null:
p45845
aVI don't know what do you mean when saying that the model is not null on the previous page but the controller action should always pass a model to the view
p45846
as(dp45847
g16
V29407
p45848
stp45849
a((dp45850
g2
(lp45851
VYou could use the GetHostEntry method to test DNS:
p45852
aVAs far as the second part of your question is concerned about command line arguments you would pass them at the command prompt:
p45853
aVand you could fetch them as a string array in your Main method:
p45854
as(dp45855
g16
V29407
p45856
stp45857
a((dp45858
g2
(lp45859
VIf you don't want the parameter to be shown in the address bar you will need to persist it somewhere on the server between the redirects
p45860
aVA good place to achieve this is
p45861
aVHere's an example:
p45862
aVAnd now on the Profile action you are redirecting to fetch it from :
p45863
aVUnder the covers  uses  for storage but it will be automatically evicted after the redirect, so the value could be used only once which is what you need: store, redirect, fetch
p45864
as(dp45865
g16
V29407
p45866
stp45867
a((dp45868
g2
(lp45869
VYour question is not very clear but as far as I understand it you have an ASP
p45870
aVNET MVC site that is consumed by an Android client and you want this site to send JSON formatted data
p45871
aVIf this is the case you could return a JsonResult from your controller action:
p45872
as(dp45873
g16
V29407
p45874
stp45875
a((dp45876
g2
(lp45877
VAn ArrayList could contain any object instance
p45878
aVSo converting it to a string doesn't make much sense
p45879
aVIt would be much more meaningful if you were using a generic  because in this case you know that it is a collection of strings
p45880
aVThen you could join those strings by some separator
p45881
aVExample:
p45882
as(dp45883
g16
V29407
p45884
stp45885
a((dp45886
g2
(lp45887
VYou need to override the Equals method because by default, for reference types it compares their references:
p45888
aVAlso when overriding the Equals method it is good practice to override the GetHashCode method as well:
p45889
as(dp45890
g16
V29407
p45891
stp45892
a((dp45893
g2
(lp45894
VOnce you add a web service reference, Visual Studio will generate a strongly typed client proxy class which you could instantiate and invoke the web method:
p45895
as(dp45896
g16
V29407
p45897
stp45898
a((dp45899
g2
(lp45900
VDon't forget the controller:
p45901
aVor use a named route link:
p45902
as(dp45903
g16
V29407
p45904
stp45905
a((dp45906
g2
(lp45907
VYou could still use  inside your anonymous method:
p45908
aVAs an alternative you could modify this  method and catch the exception just before invoking the delegate:
p45909
as(dp45910
g16
V29407
p45911
stp45912
a((dp45913
g2
(lp45914
VIn ASP
p45915
aVNET MVC you don't usually write http modules to handle file uploads
p45916
aVYou write controllers and inside those controllers you write actions
p45917
aVPhil Haack blogged about uploading files ni ASP
p45918
aVNET MVC:
p45919
aVYou have a view containing a form:
p45920
aVAnd a controller action to handle the upload:
p45921
as(dp45922
g16
V29407
p45923
stp45924
a((dp45925
g2
(lp45926
VI would write a separate unit test for each case
p45927
aVBasically every time you write an  or a  inside the method you are testing it implies different unit tests to handle each case
p45928
aVThe reason for this is that the arrange part of your unit test will be different based on which route you would like your code to take (different mock expectations, property setups,
p45929
aVAlso I would recommend you to organize your unit test in the following three parts:
p45930
as(dp45931
g16
V29407
p45932
stp45933
a((dp45934
g2
(lp45935
VTo read the last 1024 bytes:
p45936
as(dp45937
g16
V29407
p45938
stp45939
a((dp45940
g2
(lp45941
VYeah, you need to url encode it:
p45942
aVin a url means white space
p45943
aVNotice also that you need to url encode  to  because it also has special meaning
p45944
aVConclusion: always url encode your urls
p45945
aVAlways use Url helpers to generate urls
p45946
aVNever hardcode urls
p45947
aVUPDATE:
p45948
aVTry:
p45949
as(dp45950
g16
V29407
p45951
stp45952
a((dp45953
g2
(lp45954
VIf a function is not marked as virtual or part of an interface that your class implements there's exactly 0 chance you would be able to override it
p45955
aVNo plugin, no reflection, no nothing, simply forget about it or use some other dynamic language but not C#
p45956
as(dp45957
g16
V29407
p45958
stp45959
a((dp45960
g2
(lp45961
VThere's no magic here
p45962
aVIf you are performing some custom validation on your server you need to translate it to the client validation framework you are using
p45963
aVWhat if you are querying some distant server to perform business validation
p45964
aVHow on earth do you expect the client to know about this
p45965
aVAnd no, ASP
p45966
aVNET MVC 3 doesn't bring anything new in this area
p45967
aVWhat ASP
p45968
aVNET MVC 3 brings is unobtrusive validation for simple rules and making jquery validate the default client side validation plugin
p45969
aVHere's another nice article about it
p45970
aVBy the way I would recommend you looking at FluentValidation
p45971
aVIt has a great integration with ASP
p45972
aVNET MVC
p45973
as(dp45974
g16
V29407
p45975
stp45976
a((dp45977
g2
(lp45978
VThere you go:
p45979
aVRemark: static methods such as  are very bad in terms of unit testing your components in isolation
p45980
as(dp45981
g16
V29407
p45982
stp45983
a((dp45984
g2
(lp45985
VDepending on where your cache is persisted (server or client) you could use the RemoveOutputCacheItem method:
p45986
as(dp45987
g16
V29407
p45988
stp45989
a((dp45990
g2
(lp45991
VYou may take a look at areas or write a custom view engine
p45992
aVScott Hanselmann blogged about a mobile view engine but you could adapt it to your needs and folder structure
p45993
as(dp45994
g16
V29407
p45995
stp45996
a((dp45997
g2
(lp45998
VWell there's the Mono Project but if you want the Microsoft
p45999
aVNET implementation you need Windows
p46000
as(dp46001
g16
V29407
p46002
stp46003
a((dp46004
g2
(lp46005
VYou need to stop the event propagation:
p46006
as(dp46007
g16
V29407
p46008
stp46009
a((dp46010
g2
(lp46011
VYou are looking for the GetBytes method:
p46012
as(dp46013
g16
V29407
p46014
stp46015
a((dp46016
g2
(lp46017
VTry using  instead of :
p46018
aVAlso notice the slight simplification and the usage of
p46019
aVAnother possibility which is what I would recommend you is to explicitly append the preamble so that Excel can recognize the UTF-8 encoding:
p46020
as(dp46021
g16
V29407
p46022
stp46023
a((dp46024
g2
(lp46025
VYou should definitely create a view model which is tailored to the needs of the given view which is posting to this controller action
p46026
aVAnd once you've checked that the model state is valid you could use AutoMapper to convert between this view model and the actual model class that your web service is expecting
p46027
as(dp46028
g16
V29407
p46029
stp46030
a((dp46031
g2
(lp46032
VIf you want to access the variable outside the loop you need to declare it outside:
p46033
as(dp46034
g16
V29407
p46035
stp46036
a((dp46037
g2
(lp46038
VIf you already have
p46039
aVNET 4
p46040
aV0 installed on the server and your application is targeting
p46041
aVNET 4
p46042
aV0 you don't need to install anything
p46043
aVASP
p46044
aVNET MVC 2 is included in
p46045
aVNET 4
p46046
ag2721
aVJust make sure that your web application is targeting
p46047
aVNET 4
p46048
aV0 and using the assemblies already present in the GAC
p46049
aVIf you are targeting
p46050
aVNET 3
p46051
aV5 (CLR 2
p46052
aV0 application pool) you will need to install the ASP
p46053
aVNET MVC 2
p46054
aV0 by downloading it from MSDN
p46055
aVUPDATE:
p46056
aVASP
p46057
aVNET MVC 2 is included in the VS2010 install and not part of
p46058
aVNET 4
p46059
ag2721
aVSo you need to download and install it from MSDN
p46060
as(dp46061
g16
V29407
p46062
stp46063
a((dp46064
g2
(lp46065
VYour editor template should be:  where  is the name of the controller
p46066
aVIf it is a global editor template you could also put it in
p46067
aVNotice the name of the editor template: it should be the same as your type name ()
p46068
aVAlso instead of:
p46069
aVyou could:
p46070
aVFinally if you want to name your editor template with some custom name like  you could specify this custom name:
p46071
as(dp46072
g16
V29407
p46073
stp46074
a((dp46075
g2
(lp46076
VOne advice: generate valid HTML according to whatever DOCTYPE you are using and have fun with jquery
p46077
aVAlso avoid mixing markup and javascript: keep them separate and progressively enhance your markup with javascript features
p46078
as(dp46079
g16
V29407
p46080
stp46081
a((dp46082
g2
(lp46083
VFirst you don't need:
p46084
aVbecause AJAX requests are asynchronous by default (that's what the  stands for: asynchronous)
p46085
aVNext you could  from the  handler to prevent the default action (which is to follow the href) and in the AJAX  handler perform the actual redirect:
p46086
as(dp46087
g16
V29407
p46088
stp46089
a((dp46090
g2
(lp46091
VIs there any particular reason you would like to write sooooo much code when you could simply:
p46092
aVThis will also take care of properly url encoding your request parameters so that you don't have to do it manually
p46093
aVWhen I run this I got 401 Unauthorized but I guess that's because the username and password used for basic authentication are dummy
p46094
as(dp46095
g16
V29407
p46096
stp46097
a((dp46098
g2
(lp46099
VThe best way is to use the URL helper Action method:
p46100
aVThis obviously implies that you have the correct route set (taking , , ,  and  tokens):
p46101
aVRemark: never use string concatenations and/or string
p46102
aVFormat when dealing with urls if you don't want to have problems with url encodings, etc
p46103
aVRemark 2: An instance of the UrlHelper is available in each controller action as Url property of the controller, in each view, and in each helper
p46104
as(dp46105
g16
V29407
p46106
stp46107
a((dp46108
g2
(lp46109
VIn TFS you have what's called check-in policies
p46110
aVWith those in place you could forbid cheking-in something without all unit tests passing
p46111
aVYou could even enforce FxCop rules, etc
p46112
aVbut that would be cruel to your developers
p46113
as(dp46114
g16
V29407
p46115
stp46116
a((dp46117
g2
(lp46118
VHere you go
p46119
aVHappy geeking :-)
p46120
as(dp46121
g16
V29407
p46122
stp46123
a((dp46124
g2
(lp46125
VYou may find the following article on CodeProject useful
p46126
aVIt explains how to generate a thumbnail screenshot of a website
p46127
aVUPDATE:
p46128
aVHere's a sample implementation
p46129
aVStart by writing a controller action:
p46130
aVNow all that's left is to do the plumbing:
p46131
as(dp46132
g16
V29407
p46133
stp46134
a((dp46135
g2
(lp46136
VNo, standard HTML helpers doesn't support this
p46137
aVYou could write a custom HTML helper and build the markup yourself
p46138
as(dp46139
g16
V29407
p46140
stp46141
a((dp46142
g2
(lp46143
VSQLite uses the same provider model as ADO
p46144
aVNET
p46145
aVSo pick any tutorial you like about SQL Server and replace  with
p46146
aVI wrote a sample application using FluentNHibernate with SQLite you may take a look at
p46147
aVOr if you don't use an ORM, simply declare a method in your repository and you are good to go:
p46148
as(dp46149
g16
V29407
p46150
stp46151
a((dp46152
g2
(lp46153
VYou need to use javascript to achieve this
p46154
aVHere's an example with jquery:
p46155
as(dp46156
g16
V29407
p46157
stp46158
a((dp46159
g2
(lp46160
VDue to the same origin policy restriction this is not possible
p46161
aVYou cannot perform cross domain AJAX calls
p46162
aVOne possible workaround is to use JSONP but you will need to have a web service which supports it
p46163
as(dp46164
g16
V29407
p46165
stp46166
a((dp46167
g2
(lp46168
VIf you are talking about javascript running in a web browser then the answer is no, you cannot access files on the client computer unless you use some proprietary technology like Silverlight, ActiveX, Flash,
p46169
aVIf you want to access files stored on the server then you could use AJAX to query a server side script which would return the contents of the file
p46170
as(dp46171
g16
V29407
p46172
stp46173
a((dp46174
g2
(lp46175
VYou make take a look at the ChangeType method:
p46176
aVAnd yet another one:
p46177
aVTo handle culture specific conversions like decimal separator, datetime format there's an overload of this method that you need to use in order to pass a format provider:
p46178
as(dp46179
g16
V29407
p46180
stp46181
a((dp46182
g2
(lp46183
VHere's how to improve your code:
p46184
aVThis way you don't need to worry about closing, disposing,
p46185
as(dp46186
g16
V29407
p46187
stp46188
a((dp46189
g2
(lp46190
VPersonally I would create a WCF web service to expose the data
p46191
aVIt will be more flexible and you could expose multiple endpoints handling different data formats JSON, XML,
p46192
aVThis way you could consume the service from different clients (web, windows, mobile,
p46193
as(dp46194
g16
V29407
p46195
stp46196
a((dp46197
g2
(lp46198
VYou need to parse the value first:
p46199
as(dp46200
g16
V29407
p46201
stp46202
a((dp46203
g2
(lp46204
VThat's normal, AJAX is asynchronous meaning that the order you would receive responses from the server is not guaranteed to be the same as you send the requests
p46205
aVYou might need to queue the requests
p46206
aVThere are some good jquery plugins that allow you to achieve this
p46207
aVBut with MS Ajax I doubt
p46208
as(dp46209
g16
V29407
p46210
stp46211
a((dp46212
g2
(lp46213
VYou should mock the repository and then construct a dummy plan in your unit test containing both Open and Closed tasks
p46214
aVThen call the actual method passing this plan and at the end verify that the  method was called with correct arguments (tasks with only status = Open)
p46215
aVThis way you would ensure that only open tasks associated to this plan have been deleted by your method
p46216
aVAlso don't forget (probably in a separate unit test) to verify that the plan itself has been deleted by asserting that the  method has been called on the object your are passing
p46217
as(dp46218
g16
V29407
p46219
stp46220
a((dp46221
g2
(lp46222
VIt is used to perform an HTTP redirect to a given url
p46223
aVBasically it will send the 302 status code along with the Location header in the response so that the client now issues a new HTTP request to this new location
p46224
aVUsually you would use it like this instead of explicitly calling the constructor:
p46225
aVAs far as the difference between your two code snippets is concerned, well, it's more C# question than MVC related
p46226
aVIn fact RedirectResult derives from ActionResult so both are valid syntaxes
p46227
aVPersonally I prefer the first one as you could for example decide to change this redirect to return a view:
p46228
aVand if you have explicitly specified that the return type is  instead of  you would now have to modify it to  (probably not a big deal but it's an additional step you have to do)
p46229
as(dp46230
g16
V29407
p46231
stp46232
a((dp46233
g2
(lp46234
VHere's an implementation (by @Jon Skeet) you might find useful
p46235
as(dp46236
g16
V29407
p46237
stp46238
a((dp46239
g2
(lp46240
VYes, once you enable  it's the contents of the  file that you are seeing
p46241
aVYou can customize it
p46242
aVIt is strongly typed to a  model and you can extract the exception inside:
p46243
aVYou also have access to the controller and action that raised the exception inside the model:
p46244
as(dp46245
g16
V29407
p46246
stp46247
a((dp46248
g2
(lp46249
VIIRC cache works with GET requests
p46250
aVFor POST requests you need to have your server side script send proper HTTP cache headers
p46251
as(dp46252
g16
V29407
p46253
stp46254
a((dp46255
g2
(lp46256
VI am afraid they didn't yet implement this feature yet, at least not in the RC build
p46257
as(dp46258
g16
V29407
p46259
stp46260
a((dp46261
g2
(lp46262
VIs there a difference between a
p46263
aVDLL compliled for
p46264
aVNet 4 and
p46265
aVNet 3
p46266
ag2721
aVYes, there is a difference
p46267
aVWhen you compile a library for
p46268
aVNET 4
p46269
aV0 it will link against  and if there's no
p46270
aVNET 4
p46271
aV0 installed on the target machine it won't work
p46272
aVOn the other hand if you compile against
p46273
aVNET 3
p46274
aV5 it will link against  and it will work on machines that have
p46275
aVNET 3
p46276
aV5 or later installed (assuming of course this library doesn't have some other special dependencies)
p46277
as(dp46278
g16
V29407
p46279
stp46280
a((dp46281
g2
(lp46282
VYou can use the following overload:
p46283
aVis the route name as defined in ,  is the protocol (could be  if you wish, or simply use  to get the containing page protocol and avoid ugly hardcodings), then an anonymous object containing the route values and that's pretty much all -> you will get an absolute url
p46284
aVBy the way all url generating helpers have overloads which take the protocol and hostname: use those for absolute urls
p46285
as(dp46286
g16
V29407
p46287
stp46288
a((dp46289
g2
(lp46290
VHere's an article explaining how to create an AppDomain and execute code in a sandbox
p46291
aVJust create the AppDomain and handcuff the code that runs inside it
p46292
as(dp46293
g16
V29407
p46294
stp46295
a((dp46296
g2
(lp46297
Vdoes that mean we have to choose language and platform according to GUI we want to build
p46298
aVYes, the language and the platform you are targeting are the first things you have to choose
p46299
aVUnfortunately there's no universal language that will give you great looking GUIs among all platforms
p46300
aVProbably that's one of the reasons why internet web sites developed so much
p46301
aVBecause as long as you have a capable browser running on your device the site will work
p46302
as(dp46303
g16
V29407
p46304
stp46305
a((dp46306
g2
(lp46307
VYou could use jquery to attach a  event handler to this anchor tag:
p46308
as(dp46309
g16
V29407
p46310
stp46311
a((dp46312
g2
(lp46313
VThe SqlCeException has a NativeError property, so once you catch this exception look at the value of this property:
p46314
as(dp46315
g16
V29407
p46316
stp46317
a((dp46318
g2
(lp46319
VIf using jquery in your application is possible you may take a look at the jquery direction plugin
p46320
aVYou may see it in action here
p46321
as(dp46322
g16
V29407
p46323
stp46324
a((dp46325
g2
(lp46326
VHow to check read and write permission on a folder
p46327
aVHow to create an html file on runtime in project root
p46328
as(dp46329
g16
V29407
p46330
stp46331
a((dp46332
g2
(lp46333
VIt seems that the component you are using is a native 32 bit application so you need to explicitly target x86 to make it work
p46334
aVIf there's a 64 bit version of Azman you can try installing it
p46335
as(dp46336
g16
V29407
p46337
stp46338
a((dp46339
g2
(lp46340
VTry like this:
p46341
aVYou could also write a custom HTML helper that will do the job:
p46342
aVAnd then:
p46343
as(dp46344
g16
V29407
p46345
stp46346
a((dp46347
g2
(lp46348
VThere's no semantic difference
p46349
aVIt just a framework design detail that we should deal with
p46350
as(dp46351
g16
V29407
p46352
stp46353
a((dp46354
g2
(lp46355
VYou could use the  method:
p46356
aVIf you want to repeat the execution of the function on every 30 seconds you could use the  method
p46357
aVAs far as jquery is concerned you don't need to to use it for such a simple task as it is already built into javascript
p46358
as(dp46359
g16
V29407
p46360
stp46361
a((dp46362
g2
(lp46363
VUrl helpers always generate correct routes and take into consideration the virtual directory your application runs in
p46364
aVSo if you have a virtual directory called  in IIS under the site root and you deploy your application inside the physical folder this directory is pointing to when you write:
p46365
aVThis will generate*:
p46366
aV* assuming default routes obviously
p46367
as(dp46368
g16
V29407
p46369
stp46370
a((dp46371
g2
(lp46372
VJust set the  parameter to :
p46373
aVSince jquery 1
p46374
aV4 this parameter exists because the mechanism to serialize objects into query parameters has changed
p46375
as(dp46376
g16
V29407
p46377
stp46378
a((dp46379
g2
(lp46380
VThis method is recursive because it calls itself on line 9
p46381
aVIt also uses iterations ( loops)
p46382
aVIt's also lazy as it yields results, so unless the caller loops through the enumerator nothing will execute
p46383
as(dp46384
g16
V29407
p46385
stp46386
a((dp46387
g2
(lp46388
VYou could write an action filter:
p46389
aVAnd then decorate your base controller (that all your controllers derive from) with this attribute:
p46390
aVThis way your current code stays untouched
p46391
aV--
p46392
aVUPDATE:
p46393
aVIn ASP
p46394
aVNET MVC 3 you could register your action filter globally without even decorating your base controller with it
p46395
aVSimply add the following to your  in :
p46396
as(dp46397
g16
V29407
p46398
stp46399
a((dp46400
g2
(lp46401
VAssuming the following action:
p46402
aVyou could:
p46403
as(dp46404
g16
V29407
p46405
stp46406
a((dp46407
g2
(lp46408
VRecently I discovered, to my surprise, that javascript has no builtin support for unicode regex
p46409
aVThis comes to a surprise to me as well because
p46410
aVprints true
p46411
as(dp46412
g16
V29407
p46413
stp46414
a((dp46415
g2
(lp46416
VYou can't modify text in an existing PDF with iTextSharp
p46417
aVYou could fill form fields, stamp it, merge two pages into one but you cannot modify text
p46418
as(dp46419
g16
V29407
p46420
stp46421
a((dp46422
g2
(lp46423
VAnd you can see a live demo
p46424
as(dp46425
g16
V29407
p46426
stp46427
a((dp46428
g2
(lp46429
VIf those functions are controller actions you can get the action that is going to be called from the routes:
p46430
aVbut you cannot override it because the request has already been made to the first action
p46431
aVAlso why calling this controller action in the first place when you know that you need another action
p46432
as(dp46433
g16
V29407
p46434
stp46435
a((dp46436
g2
(lp46437
VGo for jquery and jquery UI which contains a nice autocomplete plugin
p46438
aVIt's a javascript framework which gathered lots of pace, there's an enormous community and it is very likely you will find a plugin for every needs
p46439
aVIt is guaranteed to work cross browser and you get a great documentation
p46440
as(dp46441
g16
V29407
p46442
stp46443
a((dp46444
g2
(lp46445
VIf you want to set the value of a property at runtime and the name of the property is only known at runtime you need to use Reflection
p46446
aVHere's an example:
p46447
as(dp46448
g16
V29407
p46449
stp46450
a((dp46451
g2
(lp46452
VInside your controller action which emits the authentication cookie just check if the mail matches the password and use the email as username for the authentication cookie:
p46453
as(dp46454
g16
V29407
p46455
stp46456
a((dp46457
g2
(lp46458
VSimply:
p46459
aVAlso make sure that your method actually returns something as currently the return type is defined as :
p46460
as(dp46461
g16
V29407
p46462
stp46463
a((dp46464
g2
(lp46465
VYes, absolutely, add a service reference to your WCF service, define a repository interface that will represent the operations you could perform with your model classes and in the implementation of this interface simply call the service by using the autogenerated proxy client
p46466
aVNow all that's left is to have view models that will fill the gap between the views and the models that come from your WCF service
p46467
aVIn fact in a properly designed ASP
p46468
aVNET MVC application a controller should never know where the data comes from: it could be a SQL Database, some ORM Framework, a remote service,
p46469
aVAll that the controller should work with this contract you have defined (repository) and map between the view models and the actual models
p46470
aVThe actual data manipulation should be performed by the specific implementation of your repository
p46471
as(dp46472
g16
V29407
p46473
stp46474
a((dp46475
g2
(lp46476
VIf you know the names of the radio buttons you could use action parameters
p46477
aVIf the names are arbitrary you could fetch the values from a FormCollection parameter passed to your POST action (it is a  so you could loop through the key and get the corresponding values)
p46478
aVPersonally I would recommend you using deterministic names:
p46479
aVAnd in your controller action you could use a collection:
p46480
as(dp46481
g16
V29407
p46482
stp46483
a((dp46484
g2
(lp46485
VI am afraid this is a scenario which is not supported
p46486
aVYou could remove the  keyword and use the argument as return type after having modified its value inside the method
p46487
as(dp46488
g16
V29407
p46489
stp46490
a((dp46491
g2
(lp46492
VInside the main page define a javascript function:
p46493
aVAnd in the popup window call this function whenever you want to reload the left panel on the opener page:
p46494
as(dp46495
g16
V29407
p46496
stp46497
a((dp46498
g2
(lp46499
VHere's the easiest way
p46500
aVA plain html form with  and a controller action taking a HttpPostedFileBase as argument
p46501
aVLater if you want to get funky you could enhance it with some flash upload controls and jquery stuff and even support drag and drop from your desktop through HTML5
p46502
aVBut the basic bare bone is a plain HTML  with  elements
p46503
aVRemember that no matter what technique you decide always make sure to provide a fallback scenario with the basic stuff (the same way gmail does it) so that for example users sitting behind corporate firewalls or with Flash disabled would still be able to use your site
p46504
aVThat's the only method that's guaranteed to work
p46505
as(dp46506
g16
V29407
p46507
stp46508
a((dp46509
g2
(lp46510
VjsTree is a nice plugin which could be used and supports AJAX with JSON
p46511
as(dp46512
g16
V29407
p46513
stp46514
a((dp46515
g2
(lp46516
VTry like this:
p46517
aVThe reason is that the UTF8Encoding constructor that takes a boolean parameter doesn't do what you would expect:
p46518
aVThe resulting array would contain a single byte with the value of 97
p46519
aVThere's no BOM because UTF8 doesn't require a BOM
p46520
as(dp46521
g16
V29407
p46522
stp46523
a((dp46524
g2
(lp46525
VUsing ASP
p46526
aVNET MVC web forms you can can put output cache on the view level but this wouldn't have effect
p46527
aVIt's there because it's an heritage from classic ASP
p46528
aVNET
p46529
aVIn ASP
p46530
aVNET MVC the output cache should always be placed on the controller action
p46531
aVBecause putting cache values in the view makes no sense in the newly introduced Razor view engine there's not such possibility
p46532
aVYou should always put this attribute on the controller action
p46533
as(dp46534
g16
V29407
p46535
stp46536
a((dp46537
g2
(lp46538
VYou may try with a route constraint:
p46539
aVAnd then:
p46540
as(dp46541
g16
V29407
p46542
stp46543
a((dp46544
g2
(lp46545
VBasically there are the two popular technologies:
p46546
aVClassic ASP
p46547
aVNET WebForms using Microsoft AJAX with UpdatePanels and the Ajax Control Toolkit
p46548
aVASP
p46549
aVNET MVC with jquery
p46550
aVBoth can make AJAX requests fast
p46551
aVIt is impossible to say which is better
p46552
aVIt will very much depend on your needs
p46553
aVThere are sites which use those technologies with success
p46554
aVYou should be aware that with both you can make fast and responsive web sites if you use them correctly
p46555
aVWith ASP
p46556
aVNET MVC and jQuery you have full control over the HTML and the contents of the AJAX requests/responses, it is a bit closer to the metal than UpdatePanels as there's a ViewState to persist
p46557
aVOne important aspect of making responsive web sites is sending querying and sending only the data that needs to be shown on the client
p46558
aVFor example if you have some paginated grid on your page you should perform pagination at the database level and send only the records that are currently being displayed on the client
p46559
as(dp46560
g16
V29407
p46561
stp46562
a((dp46563
g2
(lp46564
VThe typical scenario for securing elmah
p46565
aVaxd is allowing only some authenticated user to be able to access it
p46566
aVBut if your site doesn't use any authentication at all this might not be applicable
p46567
aVHere's what I would recommend you:
p46568
aVDisable completely the  handler on your main site
p46569
aVConfigure  to write the logs to some shared data source (like a shared file, SQLite database or even SQL Server)
p46570
aVConfigure a second site in IIS, probably on another network or server, which has only elmah installed and which points to this same shared data source
p46571
aVNow you would always use the second site to read the logs
p46572
aVObviously the second site would only be accessible to you
p46573
aVIf you decide to use SQL Server you could even read the logs of multiple applications running on multiple web servers in a farm from within a single internal application accessible only to you
p46574
as(dp46575
g16
V29407
p46576
stp46577
a((dp46578
g2
(lp46579
VThis is better:
p46580
aVand in an external CSS style:
p46581
as(dp46582
g16
V29407
p46583
stp46584
a((dp46585
g2
(lp46586
VErrors in your code could provoke exceptions to be thrown at runtime or even prevent your code from compiling if you have syntax errors
p46587
aVSo basically the first is the cause for the second or the second is a consequence of the first
p46588
as(dp46589
g16
V29407
p46590
stp46591
a((dp46592
g2
(lp46593
VYou can't do this
p46594
aVYou always get the system datetime
p46595
aVYou will need to be connected to the internet or some other server which might give you the exact time
p46596
as(dp46597
g16
V29407
p46598
stp46599
a((dp46600
g2
(lp46601
VIt's because when you are inside a statement with  and  only HTML tags are considered as literals, everything else is server side script
p46602
aVSo you need to either use standard HTML tags such as , ,
p46603
aVor if you want to use a literal use the special  tag which is not outputted to the response
p46604
as(dp46605
g16
V29407
p46606
stp46607
a((dp46608
g2
(lp46609
VAccording to the documentation:
p46610
aVTo retrieve cookies, it checks for
p46611
aVboth session cookies and persistent
p46612
aVcookies
p46613
aVSession cookies, which do not
p46614
aVhave an expiration date, are stored in
p46615
aVmemory and are available only to the
p46616
aVprocess in which they were created
p46617
as(dp46618
g16
V29407
p46619
stp46620
a((dp46621
g2
(lp46622
VUsually I create a  subfolder to the root and place all third-party assemblies there
p46623
aVThen all the projects reference the assemblies from this location
p46624
aVThat way the project is self-contained and the third-party assemblies are versioned along with the source code
p46625
as(dp46626
g16
V29407
p46627
stp46628
a((dp46629
g2
(lp46630
VFrom a comment in the ASP
p46631
aVNET MVC source code:
p46632
aVFor example if the user doesn't check the value there's nothing sent to the server so if you are binding to some view model in your post action there won't be any value
p46633
aVThe hidden field sends the value of
p46634
as(dp46635
g16
V29407
p46636
stp46637
a((dp46638
g2
(lp46639
VYour problem is somewhere else, I was unable to reproduce
p46640
aVThe following works fine for me:
p46641
aVModel:
p46642
aVController:
p46643
aVView:
p46644
aVIt successfully binds values back in the POST action
p46645
aVUPDATE:
p46646
aVI confirm that this is a bug in ASP
p46647
aVNET MVC 3 RC2 which will be fixed in the RTM
p46648
aVAs a workaround you could put the following in your :
p46649
as(dp46650
g16
V29407
p46651
stp46652
a((dp46653
g2
(lp46654
VIMHO it's the model that should implement the business methods used by the controller
p46655
aVFor me the model is a set of business objects and service methods which represent the operations with those objects
p46656
aVMVC is just a pattern
p46657
aVFor example if tomorrow you decide to change the pattern and use something else, go ahead, no problem, but you shouldn't change your business models, they are at the hearth of everything
p46658
as(dp46659
g16
V29407
p46660
stp46661
a((dp46662
g2
(lp46663
VThis will depend on what framework you are using for validation on your server side
p46664
aVData Annotations work by decorating your view model classes with validation attributes
p46665
aVIf you don't use view models (which would be very bad design) you could always perform the validation manually (which would be very bad design):
p46666
as(dp46667
g16
V29407
p46668
stp46669
a((dp46670
g2
(lp46671
VI was expecting this test to pass without any problems
p46672
aVWhy would you be expecting such a thing
p46673
aVThe problem might come from the fact that you are calling the  method twice
p46674
aVThe first time inside the controller action and the second time inside your unit test which could different instances
p46675
aVAlso the  type doesn't override the Equals method so what you are experiencing is normal behavior
p46676
as(dp46677
g16
V29407
p46678
stp46679
a((dp46680
g2
(lp46681
VYou could use the  and  events in  to log information before and after the action is executed
p46682
aVThose events will fire even for controller actions decorated with the  attribute
p46683
as(dp46684
g16
V29407
p46685
stp46686
a((dp46687
g2
(lp46688
VWhy are you using your models inside your views where you should have view models
p46689
aVIn view models you don't have many tables and fields
p46690
aVYou only have what's needed for the given view
p46691
aVAs far as validation is concerned, personally I use FluentValidation
p46692
aVNET to define validation rules separately from my view models
p46693
as(dp46694
g16
V29407
p46695
stp46696
a((dp46697
g2
(lp46698
VPersonally I use Spring
p46699
aVNET
p46700
aVThis framework has much other features than a simple object container that can be used for DI
p46701
as(dp46702
g16
V29407
p46703
stp46704
a((dp46705
g2
(lp46706
VNo, it is not possible
p46707
aVThis information is never passed to the Convert method
p46708
aVAlso a value converter works by specifying a source and destination type
p46709
aVIf you need to access the parent object define the source type one level higher in the object hierarchy
p46710
as(dp46711
g16
V29407
p46712
stp46713
a((dp46714
g2
(lp46715
VYou could use the Registry class:
p46716
as(dp46717
g16
V29407
p46718
stp46719
a((dp46720
g2
(lp46721
VDon't mention this private folder in
p46722
aVThen simply disallow the access to it with :
p46723
aVAlso if there are no links to this  folder in the other pages robots should never know if its existence but disallowing the access is a good thing to do if this folder should never be directly accessed from clients
p46724
as(dp46725
g16
V29407
p46726
stp46727
a((dp46728
g2
(lp46729
VTry like this:
p46730
as(dp46731
g16
V29407
p46732
stp46733
a((dp46734
g2
(lp46735
VYou could leave the generic parameter open:
p46736
aVshould work
p46737
aVExample:
p46738
aVAlso notice the usage of IsSubClassOf method which should simplify your  method and kind of defeat its purpose
p46739
aVThere's also the IsAssignableFrom method you may take a look at
p46740
as(dp46741
g16
V29407
p46742
stp46743
a((dp46744
g2
(lp46745
VAnd then you could call this function from everywhere:
p46746
as(dp46747
g16
V29407
p46748
stp46749
a((dp46750
g2
(lp46751
VA HTML page doesn't have any notion of ArrayLists
p46752
aVHTML is a markup language which consists of tags
p46753
aVIf you want to send information from the client to the server you could use a  tag with text fields or AJAX
p46754
as(dp46755
g16
V29407
p46756
stp46757
a((dp46758
g2
(lp46759
VYou may find this blog post interesting
p46760
as(dp46761
g16
V29407
p46762
stp46763
a((dp46764
g2
(lp46765
VNo idea how google does it but with Awesomium it's pretty easy
p46766
as(dp46767
g16
V29407
p46768
stp46769
a((dp46770
g2
(lp46771
VTaken from here
p46772
as(dp46773
g16
V29407
p46774
stp46775
a((dp46776
g2
(lp46777
VTo override a section:
p46778
as(dp46779
g16
V29407
p46780
stp46781
a((dp46782
g2
(lp46783
VTo preload an image:
p46784
aVor:
p46785
aVYou could try this for each image before injecting the HTML you received from the AJAX call into the DOM
p46786
as(dp46787
g16
V29407
p46788
stp46789
a((dp46790
g2
(lp46791
VThis question is difficult to answer because you haven't provided any details about the expected frequency of calls
p46792
aVYou might expect a performance penalty from using Reflection to query attributes but is this penalty going to be bottleneck to your application
p46793
aVThe only way to know is to perform load tests
p46794
aVI am afraid that at this stage you are doing what is called premature optimization
p46795
as(dp46796
g16
V29407
p46797
stp46798
a((dp46799
g2
(lp46800
VUsing child actions is a far better solution
p46801
aVSo you would start by defining a controller:
p46802
aVAnd then have a strongly typed partial which will render them () and finally include this in your main view:
p46803
aVThis way you don't need to decorate all your controller actions with attributes
p46804
aVJust include the action you need using the  helper
p46805
as(dp46806
g16
V29407
p46807
stp46808
a((dp46809
g2
(lp46810
VYou could use the  tag:
p46811
aVYou may also take a look at this article about unobtrusive javascript
p46812
as(dp46813
g16
V29407
p46814
stp46815
a((dp46816
g2
(lp46817
VAs always you start by creating a view model:
p46818
aVThen in your controller you fill the view model:
p46819
aVAnd finally your strongly typed view could use a display template
p46820
aVObviously the view will be strongly typed to IEnumerable
p46821
aVAnd your display template (~/Views/Home/DisplayTemplates/CategoryViewModel
p46822
aVcshtml):
p46823
aVAs you can see with strongly typed views and display templates you don't even need to write loops in your views
p46824
aVAs an alternative to display templates you could use  or  helers
p46825
aVPhil Haack wrote a nice blog post about them
p46826
aVI suspect that you were forced to use the ugly untyped ViewBag because this code is situated in your master template and you don't have a view model
p46827
aVNo problem, with  you could have a specific controller that will do this:
p46828
aVAnd then have a corresponding partial view which will take care of rendering the categories ():
p46829
aVAnd finally use the same display template
p46830
aVNow in your master page you could simply include this child action:
p46831
as(dp46832
g16
V29407
p46833
stp46834
a((dp46835
g2
(lp46836
VTo display image in a view you could use the  tag:
p46837
as(dp46838
g16
V29407
p46839
stp46840
a((dp46841
g2
(lp46842
VYou might need to use some third party upload control
p46843
aVPlupload is a nice one you may take a look at
p46844
as(dp46845
g16
V29407
p46846
stp46847
a((dp46848
g2
(lp46849
VI would probably change my view model so that I don't need to pass this additional information
p46850
aVYou could make for example an album has a collection of artists
p46851
aVNow all tha you will have to do is:
p46852
aVAnd in your editor template:
p46853
as(dp46854
g16
V29407
p46855
stp46856
a((dp46857
g2
(lp46858
VWebClient is a class that allows you to send HTTP requests to a remote address from a
p46859
aVNET application
p46860
aVHere's an example in a console application:
p46861
as(dp46862
g16
V29407
p46863
stp46864
a((dp46865
g2
(lp46866
VThe implementation of this object is browser dependent
p46867
aVUsually it will look at the system time
p46868
as(dp46869
g16
V29407
p46870
stp46871
a((dp46872
g2
(lp46873
VI was trying to reproduce this but was unable
p46874
aVHere's my test:
p46875
aVAnd the call:
p46876
aVAnd the results:
p46877
aVAnd the FireBug console:
p46878
aVAs you can see the AJAX action is hit in parallel
p46879
aVUPDATE:
p46880
aVIt seems that in my initial tests the requests are indeed queued in FireFox 3
p46881
ag34970
aV12 and Chrome 8
p46882
ag2721
aV552
p46883
aV215 when using
p46884
aVIt works fine in IE8
p46885
aVMy tests were performed with a ASP
p46886
aVNET MVC 2 project, VS2010, Cassini web server, Windows 7 x64 bit
p46887
aVNow if I replace  with  it works fine under all browsers
p46888
aVThat leads me to believe that there is something with this  which might cause the requests to queue
p46889
aVMaybe someone more familiar with the internals of the jQuery framework would be able to shed more light on this matter
p46890
aVUPDATE 2:
p46891
aVTry setting :
p46892
as(dp46893
g16
V29407
p46894
stp46895
a((dp46896
g2
(lp46897
VNo, you cannot specify the  property in the config file
p46898
aVYou will need to set it programatically
p46899
as(dp46900
g16
V29407
p46901
stp46902
a((dp46903
g2
(lp46904
VYou could use a hidden field inside the form:
p46905
aVor pass it in the action of the form:
p46906
as(dp46907
g16
V29407
p46908
stp46909
a((dp46910
g2
(lp46911
VYou need to persist this value somewhere
p46912
aVDepending on the type of application you are developing (WinForms, ASP
p46913
aVNET,
p46914
aVthis somewhere might vary
p46915
aVFor example if this is a Windows application you could use the Application Settings
p46916
as(dp46917
g16
V29407
p46918
stp46919
a((dp46920
g2
(lp46921
VHow do I best convert data from the view object to the model object
p46922
aVAutoMapper
p46923
aVWhen converting a viewobject to a
p46924
aVmodelobject it can happen that some of
p46925
aVthe properties is not set so the value
p46926
aVwill be null or string
p46927
aVempty
p46928
aVThe
p46929
aVproblem with this is that when running
p46930
aVrefresh(in entityframework) this
p46931
aVempty(not set) properties will be
p46932
aVoverwriting the real data
p46933
aVHow should
p46934
aVI handle this
p46935
aVIf your data access layer (no matter what technology it is using, Entity Framework, NHibernate,
p46936
aVis not capable of handling this scenario you might need to have specially tailored update methods that work for those cases
p46937
as(dp46938
g16
V29407
p46939
stp46940
a((dp46941
g2
(lp46942
VYou don't put this into the textbox, it's a binary character
p46943
aVYou will add this to the value of the textbox before sending to the wire:
p46944
as(dp46945
g16
V29407
p46946
stp46947
a((dp46948
g2
(lp46949
VYou could write a custom action filter attribute and apply this attribute to a base controller or all actions that need to have this information injected:
p46950
aVAnd then decorate your base controller with this attribute:
p46951
aVIn ASP
p46952
aVNET MVC 3 there's a notion of global action filters so that you don't even need to have a base controller or decorate all your actions with this filter
p46953
aVThere's a workaround allowing you to achieve the same in ASP
p46954
aVNET MVC 2
p46955
aVNow all your views get this additional property in the view data
p46956
aVThis being said, the previous is an ugly workaround and not something I would recommend (ViewData is ugly)
p46957
aVYou may take a look at Html
p46958
aVAction and Html
p46959
aVRenderAction helpers
p46960
aVHere's how this might look:
p46961
aVThen have some strongly typed partial which will contain the required HTML () and finally include this in your master page:
p46962
as(dp46963
g16
V29407
p46964
stp46965
a((dp46966
g2
(lp46967
s(dp46968
g16
V29407
p46969
stp46970
a((dp46971
g2
(lp46972
VHave you looked at ODP
p46973
aVNET and especially the 64-bit driver
p46974
as(dp46975
g16
V29407
p46976
stp46977
a((dp46978
g2
(lp46979
VYou may checkout Sysinternals Process Explorer which is an excellent tool allowing you to debug which process is holding a lock to the file handle
p46980
aVIn the main menu click on  and then type the name of the file
p46981
aVIt will show you the process which is holding the lock
p46982
aVAs far as your Java program is concerned make sure that you are always closing the files handle even if an exception is thrown (ideally in a  statement)
p46983
as(dp46984
g16
V29407
p46985
stp46986
a((dp46987
g2
(lp46988
VIn a route an optional parameter can appear only at the end
p46989
aVThis means that in your route definition the  parameter cannot be optional
p46990
aVYou need to explicitly set it to a value
p46991
aVAnd when you generate a link you must always provide a value for the id parameter if you want this route to match:
p46992
aVAs an alternative you might give a default value to the id parameter:
p46993
aVNow you no longer need to specify it in your links
p46994
as(dp46995
g16
V29407
p46996
stp46997
a((dp46998
g2
(lp46999
VThere's nothing that resembles LINQ for Java
p47000
aVSorry
p47001
aVBy googling I found this project but of course you cannot expect the same integration into the language or a syntactic sugar you might get in C#
p47002
as(dp47003
g16
V29407
p47004
stp47005
a((dp47006
g2
(lp47007
VIf you are going to edit the object you don't need to refetch it from the database in your POST action
p47008
aVThe first thing would of course be to abstract my data access code from the controller:
p47009
aVYou will notice that I have renamed some of the actions and accept verbs to make this controller a bit more RESTFul
p47010
aVThe associated view might look like this:
p47011
aVAs far as the implementation of this  interface is concerned, that's totally up to you: Entity Framework, NHibernate, XML File, Remote Web Service call,
p47012
aV, that's an implementation detail that has nothing to do with ASP
p47013
aVNET MVC
p47014
as(dp47015
g16
V29407
p47016
stp47017
a((dp47018
g2
(lp47019
VI would really avoid regex and use what's already built-in
p47020
aVNET (TryParseExact method and date formats):
p47021
as(dp47022
g16
V29407
p47023
stp47024
a((dp47025
g2
(lp47026
VDon't forget to make this method return JSON for GET requests as well:
p47027
aVAlso setting a datasource doesn't mean that it will invoke the method
p47028
aVMaybe there's some other part of your code that's problematic
p47029
aVInstall FireBug and see if an AJAX request is sent
p47030
aVUPDATE:
p47031
aVNow that the question has been clarified and you are talking about YUI datatable, here's a full working example:
p47032
aVController:
p47033
aVView ():
p47034
as(dp47035
g16
V29407
p47036
stp47037
a((dp47038
g2
(lp47039
VYour second form contains no input fields (other than a submit button) so when the form is submitted nothing is sent to the server and the controller action has nothing to bind from
p47040
aVSo you will need to include text fields or hidden fields as you did in your first form
p47041
aVUPDATE:
p47042
aVYou cold include route parameters in the generated action:
p47043
as(dp47044
g16
V29407
p47045
stp47046
a((dp47047
g2
(lp47048
Vwill give you the action that was used to render this view
p47049
aVAs far as good practices are concerned I would recommend you writing an HTML helper that will do the job instead of polluting your views with C#
p47050
as(dp47051
g16
V29407
p47052
stp47053
a((dp47054
g2
(lp47055
VNormally you should use view models which are classes specifically adapted to your views
p47056
aVThose classes may contain such UI properties
p47057
aVIt's up to the controller to populate them from the domain model classes, so you could would test them as any other class
p47058
aVPersonally I use AutoMapper to convert between my domain model classes and my views models, so it I unit test my mapper classes which are responsible for this conversion
p47059
as(dp47060
g16
V29407
p47061
stp47062
a((dp47063
g2
(lp47064
VExecuteCore is invoked just after the controller has been initialized while OnActionExecuting happens at a later stage of the execution pipeline and is called immediately before the controller action is invoked
p47065
aVIn the second method you can directly manipulate the actionresult and short-circuit the execution of the action by redirecting for example to some other action:
p47066
as(dp47067
g16
V29407
p47068
stp47069
a((dp47070
g2
(lp47071
VYou may checkout this article
p47072
aVAccording to the documentation the specific implementation used in
p47073
aVNET is based on Donald E
p47074
aVKnuth's subtractive random number generator algorithm
p47075
aVFor more information, see D
p47076
aVE
p47077
aVKnuth
p47078
aV"The Art of Computer Programming, volume 2: Seminumerical Algorithms"
p47079
aVAddison-Wesley, Reading, MA, second edition, 1981
p47080
as(dp47081
g16
V29407
p47082
stp47083
a((dp47084
g2
(lp47085
VHere you go:
p47086
aVThis method will be called multiple times for each chunk and for each file being uploaded
p47087
aVIt will pass as parameter the chunk size and the filename
p47088
aVI am not sure as to whether you could use a  as action parameter because the name is not deterministic
p47089
as(dp47090
g16
V29407
p47091
stp47092
a((dp47093
g2
(lp47094
VRedirectToAction
p47095
aVUsed inside a controller action to return a special type of result which would issue an HTTP redirect (302 status code) to some other controller action or url
p47096
aVHtml
p47097
aVActionLink
p47098
aVHtml helper method used in a view allowing you to generate anchor elements with respect to the currently defined routes
p47099
aVAjax
p47100
aVActionLink
p47101
aVSame as above but it would add some javascript to the anchor in order to AJAXify it
p47102
aVDepending on the version of ASP
p47103
aVNET MVC you are using this javascript would be based either MS Ajax or jQuery
p47104
aVURL
p47105
aVActionLink
p47106
aVNever heard of something like this
p47107
as(dp47108
g16
V29407
p47109
stp47110
a((dp47111
g2
(lp47112
VIn HTML you can have as much forms as you like, you just have to make sure that they are never nested as this would result in an undefined behavior among browsers
p47113
aVIn your particular case you generate a form for each element in your model but this form doesn't contain any input field (hidden, text, dropdownlist, checkbox, radio button,
p47114
aVSo if you submit an empty form no data will be sent to the controller action and you won't be able to identify which one was submitted
p47115
aVSo you might want to include some information as input field such as an unique ID field which would allow you to fetch the corresponding model and perform some operations on it
p47116
as(dp47117
g16
V29407
p47118
stp47119
a((dp47120
g2
(lp47121
VYou cannot have optional parameters in the middle of route
p47122
aVFor obvious reasons only the last parameter can be optional or the routing engine cannot disambiguate between the different possible cases
p47123
as(dp47124
g16
V29407
p47125
stp47126
a((dp47127
g2
(lp47128
VI would recommend you checking out the following blog post from Steve Sanderson which illustrates a nice technique which could be used for editing a variable length list in ASP
p47129
aVNET MVC 2
p47130
as(dp47131
g16
V29407
p47132
stp47133
a((dp47134
g2
(lp47135
VThe client browser sends an asynchronous HTTP request to the server and the server would process this request as any other normal HTTP request
p47136
aVThe only difference to the client is that during the processing of this request the browser doesn't freeze and the user doesn't need to wait for the request to finish and could perform some other tasks due to the asynchronous nature of AJAX
p47137
aVFrom the perspective of the server there's absolutely no difference: incoming HTTP request, processing, returning a response
p47138
as(dp47139
g16
V29407
p47140
stp47141
a((dp47142
g2
(lp47143
VAn important design aspect is to have weak coupling between the different layers of your application
p47144
aVThis weak coupling could be achieved by introducing interfaces and abstract classes
p47145
aVThis way the different layers of the application are not strongly coupled
p47146
aVThe weaker coupling allows for easier mocking of those dependencies in your unit test so that you never depend on a database call for example
p47147
aVSo let's take as an example the following interface:
p47148
aVNow you could have a service layer which would depend on this repository:
p47149
aVAs you can see the service class is now weakly coupled to the repository
p47150
aVYou could then very easily unit test it in isolation
p47151
aVJust pick a mocking framework such as Rhino Mocks and in your unit test generate a mocked repository implementation to be feeded to the service constructor and be able to test the business operation in isolation of any database
p47152
as(dp47153
g16
V29407
p47154
stp47155
a((dp47156
g2
(lp47157
VI would recommend you going through the following guide
p47158
as(dp47159
g16
V29407
p47160
stp47161
a((dp47162
g2
(lp47163
VYes there's HttpServerUtility
p47164
aVHtmlEncode
p47165
as(dp47166
g16
V29407
p47167
stp47168
a((dp47169
g2
(lp47170
VIs there something wrong with the TextBox control and setting its PasswordChar property to
p47171
aVOr using PasswordBox if it is a WPF application that you are working on
p47172
as(dp47173
g16
V29407
p47174
stp47175
a((dp47176
g2
(lp47177
VYou could use reflection
p47178
aVHere's an example:
p47179
as(dp47180
g16
V29407
p47181
stp47182
a((dp47183
g2
(lp47184
VI didn't manage to make this working out of the box
p47185
aVI had to tweak it a little
p47186
aVSo inside the  method instead of:
p47187
aVI modified it to:
p47188
aVWith this modification in place I wrote the following exmaple:
p47189
aVYou can see how the  class doesn't have a default constructor
p47190
aVSo now we can have this test:
p47191
aVAnd in order to indicate to  how to instantiate  simply add the following class to your test assembly (the same assembly that contains the previous unit test):
p47192
as(dp47193
g16
V29407
p47194
stp47195
a((dp47196
g2
(lp47197
VYou may take a look at the ThreadPool
p47198
aVQueueUserWorkItem method which allows you to run some some method on a thread drawn from the thread pool
p47199
aVAs an alternative you could use the Thread class to spawn a new thread manually if it is a long running task to avoid jeopardizing a thread from the pool which contains a limited number of threads and which are also used to service requests in ASP
p47200
aVNET applications
p47201
as(dp47202
g16
V29407
p47203
stp47204
a((dp47205
g2
(lp47206
VYou could store them in static properties which will be accessible from your web methods
p47207
aVMake sure to synchronize the access to such shared resources though
p47208
aVAs an alternative you could use the global Application object to store values that should be shared among all requests
p47209
as(dp47210
g16
V29407
p47211
stp47212
a((dp47213
g2
(lp47214
VYou could use child actions
p47215
aVPhil Haack does a great job explaining them in this blog post
p47216
aVThis way you would have a specific controller for fetching the data from the repository and passing it to its own partial view
p47217
aVThen in your master page you would simply include the action:
p47218
aVThis way other controllers don't need to pass the data to the view
p47219
aVIt has a completely separate lifecycle
p47220
as(dp47221
g16
V29407
p47222
stp47223
a((dp47224
g2
(lp47225
VEven if you were able to receive the file in javascript what would you do with it
p47226
aVSave it to the client computer
p47227
aVYou can't
p47228
aVIt doesn't really make sense requesting controller actions which return files using AJAX
p47229
aVJust create a standard link and leave the user decide what to do with the downloaded file
p47230
aVAll you need is to set the proper HTTP headers:
p47231
aVAnd then generate your download link:
p47232
as(dp47233
g16
V29407
p47234
stp47235
a((dp47236
g2
(lp47237
VValidation should at least be performed at the view model because this is what you receive from the view
p47238
aVAlso the validation is always performed in the context of a given view
p47239
aVSo you could have two different view models corresponding to two different views but mapped to a single model class and because the validation could be different depending on the view, this validation should be performed on the view model
p47240
aVIf you performed the validation on the model then you would have hard time to distinguish between the two cases, because you could have a situation where a property is required in the first view, but not required on the second view
p47241
aVSo if you are using data annotations to perform validation then you should decorate your view model with them
p47242
as(dp47243
g16
V29407
p47244
stp47245
a((dp47246
g2
(lp47247
VHere's what I would recommend you: use view models, and drop those interfaces, don't clutter your controllers with so much code
p47248
aVSo you don't need the salary to be bound in this specific action: great, use a specifically tailored view model to this view:
p47249
aVAnd your controller action:
p47250
aVIf in another action you needed the salary then write another view model specific to this view
p47251
aVDon't worry if you repeat some of the properties between your view models
p47252
aVThat's exactly what they are meant for
p47253
aVObviously your repository will work with a model and not view model
p47254
aVSo you will need to map between those two types
p47255
aVI would recommend you using AutoMapper for this purpose
p47256
aVThat's my point of view: always write view models specifically tailored to the needs of a given view
p47257
aVTry to avoid those Include, Exclude or one day it will bite you, someone is going to add some sensitive property and will forget to add it to the Exclude list
p47258
aVAnd even if you used Include it is still ugly
p47259
as(dp47260
g16
V29407
p47261
stp47262
a((dp47263
g2
(lp47264
VYou could write a custom authorize attribute and in the AuthorizeCore method if the user is not authenticated return a HttpUnauthorizedResult and if he is authenticated but not in roles perform some other action you would like
p47265
aVNote that if you return 401 status code the FormsAuthentication framework will eventually redirect with 302 to the login page
p47266
as(dp47267
g16
V29407
p47268
stp47269
a((dp47270
g2
(lp47271
VYou could modify the server name in the connection string
p47272
aVNormally this should be located in your App
p47273
aVconfig
p47274
as(dp47275
g16
V29407
p47276
stp47277
a((dp47278
g2
(lp47279
VYou have a typo in your connection string:
p47280
aVShould be:
p47281
aVAlso I would recommend you a slight improvement of your code which consist in properly disposing disposable resources:
p47282
as(dp47283
g16
V29407
p47284
stp47285
a((dp47286
g2
(lp47287
VThis question is too broad to be answered here
p47288
aVI would recommend you start with some tutorials and also there's the excellent Pro ASP
p47289
aVNET MVC Framework book from Steven Sanderson you might take a look at
p47290
aVAlso here's an excellent guide you should definitely checkout
p47291
aVIt is based on a couple of golden rules that should be respected if you want to follow good practices
p47292
as(dp47293
g16
V29407
p47294
stp47295
a((dp47296
g2
(lp47297
VYou could define a javascript function in the calling window:
p47298
aVand in the popup window when the user clicks on the button:
p47299
as(dp47300
g16
V29407
p47301
stp47302
a((dp47303
g2
(lp47304
VIs Interop between VB6 and
p47305
aVNET a viable development strategy
p47306
aVOnly in cases where you have some existent unmanaged code that you cannot migrate
p47307
aVBut writing new code on VB6 is not viable
p47308
as(dp47309
g16
V29407
p47310
stp47311
a((dp47312
g2
(lp47313
VLet's illustrate with an example
p47314
aVAs always start with a model:
p47315
aVNext a controller:
p47316
aVAnd finally a view:
p47317
aVAs an improvement the javascript code could be shortened by writing a jquery plugin to avoid duplicating some parts
p47318
aVUPDATE:
p47319
aVAnd talking about a plugin you could have something among the lines:
p47320
aVAnd then simply wire it up:
p47321
as(dp47322
g16
V29407
p47323
stp47324
a((dp47325
g2
(lp47326
VSimply return the appropriate action result and don't bother manually serializing:
p47327
aVAs far as the references are concerned the problem stems from the fact that you are returning domain objects to the view instead of using view models
p47328
aVNot using view models specifically tailored to a given view is one of the most fundamental mistakes I see when people use ASP
p47329
aVNET MVC
p47330
aVSo start by defining POCO objects that will represent only the portion of your domain models that is needed by the given view and then you could use AutoMapper to convert between your models and view models
p47331
as(dp47332
g16
V29407
p47333
stp47334
a((dp47335
g2
(lp47336
VYou may checkout this article on CodeProject
p47337
as(dp47338
g16
V29407
p47339
stp47340
a((dp47341
g2
(lp47342
VIt's because you are trying to use the  variable inside the  method and this variable is defined in the outside scope
p47343
as(dp47344
g16
V29407
p47345
stp47346
a((dp47347
g2
(lp47348
VA  is just an attribute which is used to decorate the classes you will be using as parameters to your service methods
p47349
aVStarting from
p47350
aVNET 3
p47351
aV5 SP1 you no longer need to decorate your objects with DataContract/DataMember attributes, all public properties will be automatically serialized
p47352
as(dp47353
g16
V29407
p47354
stp47355
a((dp47356
g2
(lp47357
s(dp47358
g16
V29407
p47359
stp47360
a((dp47361
g2
(lp47362
VYou could do this but the  generic parameter needs to be declared at the containing class:
p47363
as(dp47364
g16
V29407
p47365
stp47366
a((dp47367
g2
(lp47368
VProbably not exactly answering your question about testing if the section will render some content but you could test whether a section is defined and render it or provide a default content if this section is not defined:
p47369
as(dp47370
g16
V29407
p47371
stp47372
a((dp47373
g2
(lp47374
VThings to check:
p47375
aVInside your web
p47376
aVconfig you are using utf-8:
p47377
aVInside the  section of your site you have a  tag:
p47378
aVYour view files are utf-8 encoded with BOM on the disk
p47379
as(dp47380
g16
V29407
p47381
stp47382
a((dp47383
g2
(lp47384
VAsync controllers or not if your application gets a DDOS attack you are pretty screwed
p47385
as(dp47386
g16
V29407
p47387
stp47388
a((dp47389
g2
(lp47390
VThe problem is that inside your  at the end you are redirecting to the  action of the  controller and I suppose that this action renders a strongly typed view
p47391
aVThe problem is that the model you passed to the view was null
p47392
aVSo your controller action might look something like this:
p47393
aVAnd inside your view you are trying to enumerate over the model which is null:
p47394
aVand you are getting the exception
p47395
aVSo make sure that the model you are passing to the  view is not null
p47396
as(dp47397
g16
V29407
p47398
stp47399
a((dp47400
g2
(lp47401
VIf your controller action needs to return the HTML result of the execution of this display template you could simply indicate the path to this template and pass the required model:
p47402
aVAs far as rendering a view to a HTML string is concerned there are some possibilities but
p47403
aVI wouldn't recommend you doing it
p47404
aVAnd here's a post illustrating how to achieve this with Razor templates
p47405
as(dp47406
g16
V29407
p47407
stp47408
a((dp47409
g2
(lp47410
VYou could try this:
p47411
as(dp47412
g16
V29407
p47413
stp47414
a((dp47415
g2
(lp47416
VIn order to send an email you need an SMTP server, so make sure you have specified an SMTP server in the config file
p47417
as(dp47418
g16
V29407
p47419
stp47420
a((dp47421
g2
(lp47422
V and  functions are part of the MS AJAX framework and have nothing to do with jquery
p47423
aVSo the question is which one of the two frameworks you would like to use MS AJAX or jquery
p47424
aVSo if you want to use those functions make sure you have included the proper files: ,
p47425
as(dp47426
g16
V29407
p47427
stp47428
a((dp47429
g2
(lp47430
VYou may checkout the following blog post and especially the second part in which validation is discussed
p47431
as(dp47432
g16
V29407
p47433
stp47434
a((dp47435
g2
(lp47436
VYou may checkout AutoFixture
p47437
as(dp47438
g16
V29407
p47439
stp47440
a((dp47441
g2
(lp47442
VWCF supports many different bindings which allow you to decide what format to be used when calling the service
p47443
aVIf you are using the standard  then your service will use a SOAP endpoint which implies XML
p47444
aVBut any case when calling a web service you need to serialize/deserialize data before sending them on the wire
p47445
as(dp47446
g16
V29407
p47447
stp47448
a((dp47449
g2
(lp47450
VAssuming you have a strongly typed view to some model class you could use the following:
p47451
aVor:
p47452
as(dp47453
g16
V29407
p47454
stp47455
a((dp47456
g2
(lp47457
VSimply:
p47458
aVwill work in ASP
p47459
aVNET MVC 3 RC2
p47460
aVRazor is intelligent
p47461
as(dp47462
g16
V29407
p47463
stp47464
a((dp47465
g2
(lp47466
VYou need to encode it and use quotes:
p47467
aVNotice the single quotes around the second parameter as well as encoding it because if the value contains special characters it might break your code
p47468
as(dp47469
g16
V29407
p47470
stp47471
a((dp47472
g2
(lp47473
VThe question is, is it possible that requests for the same session are executed from multiple threads
p47474
aVIf you use HTTP Session inside your page, then requests for the same session will be queued by the ASP
p47475
aVNET engine
p47476
aVThey will never run in parallel
p47477
aVSo for example if you send multiple AJAX requests to some ASP
p47478
aVNET page which uses session those requests will execute sequentially
p47479
aVIf you don't use Session then multiple concurrent requests will run in parallel
p47480
as(dp47481
g16
V29407
p47482
stp47483
a((dp47484
g2
(lp47485
VIf you are using the default ASP
p47486
aVNET MVC project template this file should be located in :
p47487
as(dp47488
g16
V29407
p47489
stp47490
a((dp47491
g2
(lp47492
V is used to send an AJAX request
p47493
aVDue to the same origin policy you cannot send an AJAX request to a different domain
p47494
aVSo unless your site is hosted on ,  will always fail
p47495
aVAlso if you was using jquery your code would probably more look like:
p47496
as(dp47497
g16
V29407
p47498
stp47499
a((dp47500
g2
(lp47501
VI would recommend you using editor templates
p47502
aVThis way you don't need to write ugly loops in your views and the helpers will take care of generating proper names for the input fields
p47503
aVSo in your main view instead of writing all the code you've shown simply:
p47504
aVAnd then create an editor template for an address ()
p47505
aVNotice the name and location of the editor template
p47506
aVThe location should be in the  folder (it could also be in ) and the name should be the same as the name of the class ()
p47507
aVASP
p47508
aVNET MVC will take care of rendering the template for each element of the  collection of your model
p47509
as(dp47510
g16
V29407
p47511
stp47512
a((dp47513
g2
(lp47514
VYou may try something like this:
p47515
as(dp47516
g16
V29407
p47517
stp47518
a((dp47519
g2
(lp47520
VComplex business logic usually goes into a service layer
p47521
aVA service may depend on one or more repositories to perform CRUD operations on your models
p47522
aVThus a single service operation representing a business operation may depend on multiple simple operations
p47523
aVThen you could reuse this service layer in your controllers and other applications
p47524
aVObviously your service shouldn't depend on specific repository implementations
p47525
aVIn order to provide a weaker coupling between the service layer and the repositories you could use interfaces
p47526
aVHere's an example:
p47527
aVNow all that's left is configure your DI framework to inject this specific service into your controller
p47528
aVYou can see how interfaces allow us to provide weak coupling between the layers
p47529
aVAll the plumbing is performed by the DI framework and everything is transparent and easily unit testable
p47530
as(dp47531
g16
V29407
p47532
stp47533
a((dp47534
g2
(lp47535
VNo you cannot append elements
p47536
aVIn
p47537
aVNET arrays are static
p47538
aVIf you want dynamic collections you could use a generic  to which you could add elements dynamically
p47539
as(dp47540
g16
V29407
p47541
stp47542
a((dp47543
g2
(lp47544
VPersonally I use the jquery form plugin
p47545
aVIt will make your code shorter
p47546
aVAlso assign the action parameter to your form to avoid hardcoding it in your scripts
p47547
aVAnd then attach the plugin to this form to AJAXify it:
p47548
aVThe plugin will automatically send an AJAX request to the action, using the verb specified in the method parameter and serializing the values of all input fields in the request
p47549
as(dp47550
g16
V29407
p47551
stp47552
a((dp47553
g2
(lp47554
VI would recommend you using the Cache object instead of the Session
p47555
aVRemember that the session is tied to a particular user
p47556
aVSo if another user comes to your site he will hit the database as well
p47557
aVThe Cache object is common for all users
p47558
aVSo your controller action might look something like this:
p47559
as(dp47560
g16
V29407
p47561
stp47562
a((dp47563
g2
(lp47564
VIn REST you have:
p47565
aVSo the PUT verb is used to update an existing resource on the server
p47566
aVDepending on the client there are various ways of sending a PUT request
p47567
aVFor example with jquery AJAX:
p47568
as(dp47569
g16
V29407
p47570
stp47571
a((dp47572
g2
(lp47573
Vshould give you the events that are bound to this element
p47574
as(dp47575
g16
V29407
p47576
stp47577
a((dp47578
g2
(lp47579
VThe line could be translated like this:
p47580
aVand then:
p47581
aVI would also benefit from this migration to improve this code
p47582
aVCurrently you are using loops in your views which are ugly and could be replaced with display templates
p47583
aVSo, in your main view:
p47584
aVand in :
p47585
as(dp47586
g16
V29407
p47587
stp47588
a((dp47589
g2
(lp47590
VImages are loaded by the client browser and cached for subsequent requests
p47591
aVSo you could prefetch them using javascript
p47592
aVThere's not much you could do on the server side other than of course reduce the number of those images, but I don't think that this is an option :-)
p47593
aVYou could also take a look at a technique called CSS Sprites
p47594
as(dp47595
g16
V29407
p47596
stp47597
a((dp47598
g2
(lp47599
VYou could add a wrapper class:
p47600
aVNow you could deserialize the JSON back to this wrapper class and use the two properties to access the values
p47601
as(dp47602
g16
V29407
p47603
stp47604
a((dp47605
g2
(lp47606
VSystem environment variables are global to all users, while users environment variables are specific only to the currently logged in user
p47607
as(dp47608
g16
V29407
p47609
stp47610
a((dp47611
g2
(lp47612
VIf there's no activity (no requests) to this web service IIS might decide to unload the application domain which of course will result in killing all threads
p47613
aVThe default value is 20 minutes and could be configured in the properties of the application pool in IIS
p47614
aVThere are also other factors that might cause the app pool to be recycled such as system running on low memory
p47615
aVSo hosting such thing in IIS might not be reliable
p47616
aVYou might consider hosting long running tasks in Windows Services
p47617
as(dp47618
g16
V29407
p47619
stp47620
a((dp47621
g2
(lp47622
VMany things happen: routes are parsed, controller is located and instantiated, action method is called
p47623
aVMake sure that you are running in Release mode:
p47624
aVso that your measurement results are more realistic
p47625
aVIn reality the time between receiving the request and invoking the controller action is never a bottleneck
p47626
aVIt is the time spent inside the controller action that you should focus on reducing
p47627
aVThis is where your application might gain a real performance boost
p47628
aVThere are different techniques for improving performance and a popular one is to use caching
p47629
aVAccording to Gu:
p47630
aVToday\u2019s ASP
p47631
aVNET MVC 3 RC2 build
p47632
aVcontains many bug fixes and
p47633
aVperformance optimizations
p47634
aVOur latest
p47635
aVperformance tests indicate that
p47636
aVASP
p47637
aVNET MVC 3 is now faster than
p47638
aVASP
p47639
aVNET MVC 2, and that existing
p47640
aVASP
p47641
aVNET MVC applications will
p47642
aVexperience a slight performance
p47643
aVincrease when updated to run using
p47644
aVASP
p47645
aVNET MVC 3
p47646
as(dp47647
g16
V29407
p47648
stp47649
a((dp47650
g2
(lp47651
VThere's nothing in jquery that allows you to do this because there's the native javascript window
p47652
aVsetInterval function:
p47653
aVIf you want to invoke it only once:
p47654
as(dp47655
g16
V29407
p47656
stp47657
a((dp47658
g2
(lp47659
VModels should be placed in your business layer
p47660
aVView models should be placed in your web layer because they are tied to a view
p47661
aVYou should have a mapping between your models and view models (to facilitate this task you may use a tool like AutoMapper)
p47662
aVViews receive view models from controllers
p47663
aVValidation is performed on those view models
p47664
aVSo:
p47665
aVWeb
p47666
aVControllers
p47667
aVViews
p47668
aVModels (here you may place your view models)
p47669
aVCSS
p47670
aVScripts
p47671
as(dp47672
g16
V29407
p47673
stp47674
a((dp47675
g2
(lp47676
VIt works for me
p47677
aVI created a new project using the ASP
p47678
aVNET MVC 3 RC2, default template, added a MembersController, decorated it with the  attribute, run the application, requested , was redirected to , logged in, was redirected to
p47679
aVThere must be something else wrong with your code
p47680
aVHere's how it works:
p47681
aVThe  attribute checks if the user is authenticated and if it is not it returns 401 status code
p47682
aVThe FormsAuthenticationModule which is part of ASP
p47683
aVNET and handles forms authentication intercepts the 401 status code and redirects to the login page by appending the ReturnUrl parameter to the request which points to the initial request
p47684
aVThe  module is not specific to ASP
p47685
aVNET MVC, this is standard ASP
p47686
aVNET stuff
p47687
as(dp47688
g16
V29407
p47689
stp47690
a((dp47691
g2
(lp47692
VA cookie is an unique information that the user sends to the web server with each request in order to identify him
p47693
aVThis unique id could be used to store information about this specific user on the server (session)
p47694
as(dp47695
g16
V29407
p47696
stp47697
a((dp47698
g2
(lp47699
VThis depends very much on the web site
p47700
aVWhat protocol does it uses, does it require users to be authenticated in order to post articles, does the site provides a functionality to post articles at all
p47701
aVWith C# you can easily use a WebClient to post whatever you information want to any web site
p47702
as(dp47703
g16
V29407
p47704
stp47705
a((dp47706
g2
(lp47707
VDetect duplicate files
p47708
aVMost programming languages will have a function called something similar to  taking a filename and returning a boolean indicating whether a file with the given name exists on the file system
p47709
aVHandle files which have identical names but different content
p47710
aVCalculate a SHA1 checksum for both files and compare those hashes
p47711
aVOnce again most languages will have a sha1 function taking an array of bytes representing the contents of the files and returning an array of bytes representing the SHA1 hash
p47712
as(dp47713
g16
V29407
p47714
stp47715
a((dp47716
g2
(lp47717
VIt's because your namespace is already called  which clashes with an existing class name
p47718
aVSo you could either:
p47719
aVor find a better naming convention for you own namespaces which is what I would recommend you doing:
p47720
as(dp47721
g16
V29407
p47722
stp47723
a((dp47724
g2
(lp47725
VYou could have specified which TreeView helper are you using because there's no such thing built-in ASP
p47726
aVNET MVC but try like this:
p47727
as(dp47728
g16
V29407
p47729
stp47730
a((dp47731
g2
(lp47732
VYes, you got it right
p47733
aVA view model is a class that reflects all the specific properties of a given view
p47734
aVThis view model could be composed of multiple model classes or be a subset of a single model class
p47735
aVThis will depend on your model classes and the requirements of your views
p47736
as(dp47737
g16
V29407
p47738
stp47739
a((dp47740
g2
(lp47741
VIt should be:
p47742
aVThe syntax is like this:
p47743
aVwhere  is the name of the resource file and  is the key inside this file
p47744
as(dp47745
g16
V29407
p47746
stp47747
a((dp47748
g2
(lp47749
VI would recommend you taking a different, better approach as right now I see that you are mixing C#, javascript and HTML into the same page which results in what is called horrible tag soup
p47750
aVSo improvement number 1: use editor templates instead of those foreach loops
p47751
aVIn your main view instead of writing what you've posted in your question simply:
p47752
aVand then define an editor template which will be called automatically for each element in your model collection ():
p47753
aVNotice that the name of the partial is the same as the type name to which it is strongly typed ()
p47754
aVAlso notice the location:  where  of course is the name of the current controller
p47755
aVIt could also be placed in  if you wanted to reuse it between multiple controllers
p47756
aVAnd because the editor template is strongly typed to a view model you can use strongly typed helpers such as  so that you don't have to manually hardcode names and values of the textboxes and wonder why does the model binder doesn't work correctly
p47757
aVImprovement number 2: progressively enhance your markup with jquery in a separate javascript file:
p47758
as(dp47759
g16
V29407
p47760
stp47761
a((dp47762
g2
(lp47763
V is the letter in the alphabet after , and B was the programming language upon which  was based
p47764
as(dp47765
g16
V29407
p47766
stp47767
a((dp47768
g2
(lp47769
VYou could use a do/while loop:
p47770
as(dp47771
g16
V29407
p47772
stp47773
a((dp47774
g2
(lp47775
VYou can test if the action has been called with AJAX then return JSON data and if not return a normal view:
p47776
aVOf course this  makes your controller action ugly
p47777
aVIt would be far better to use action filters to avoid repeating this logic in multiple actions:
p47778
aVAnd then decorate your controller with this attribute:
p47779
as(dp47780
g16
V29407
p47781
stp47782
a((dp47783
g2
(lp47784
VYou put a link wherever you want:
p47785
aVAnd then in a separate javascript file:
p47786
aVRemark: if the div you are updating contains also the link then you might need to use the  function or the click event handler will not work the second time because the DOM will be modified:
p47787
as(dp47788
g16
V29407
p47789
stp47790
a((dp47791
g2
(lp47792
VASP
p47793
aVNET does not ignore the  request header
p47794
aVConsider the following controller action as an example which simply echoes back the  parameter:
p47795
aVNow let's make a valid POST request to it:
p47796
aVAs expected this prints the response HTTP headers (which are not important) and in the body we have
p47797
aVNow try reducing the  header of the request:
p47798
aVWhich returns a single  in the response body
p47799
aVSo as you can see an invalid HTTP request could lead to incorrect parsing of the parameters
p47800
as(dp47801
g16
V29407
p47802
stp47803
a((dp47804
g2
(lp47805
VIn Java there's no constraint which allows you to express that the type must have a no-arg constructor
p47806
aVContrary to
p47807
aVNET in Java  is erased at runtime
p47808
as(dp47809
g16
V29407
p47810
stp47811
a((dp47812
g2
(lp47813
Vor simply use the null coalescing operator:
p47814
as(dp47815
g16
V29407
p47816
stp47817
a((dp47818
g2
(lp47819
VNo, there isn't
p47820
aVThe browser doesn't provide such information
p47821
aVYou may look at the request HTTP headers
p47822
aVSome versions of IE might send this information in the  header but this is not something you may rely on
p47823
as(dp47824
g16
V29407
p47825
stp47826
a((dp47827
g2
(lp47828
VBecause there's a difference between Visual Basic 6
p47829
aV0 and Visual Basic
p47830
aVNET which is what Visual Studio 2010 includes
p47831
as(dp47832
g16
V29407
p47833
stp47834
a((dp47835
g2
(lp47836
VYou could use the Concat extension method:
p47837
as(dp47838
g16
V29407
p47839
stp47840
a((dp47841
g2
(lp47842
VAn ASP
p47843
aVNET MVC View relies on HTML helpers which are not available in a normal ASP
p47844
aVNET application
p47845
aVIdeally an ASP
p47846
aVNET MVC view should be served by a controller
p47847
aVOn the other hand an ASP
p47848
aVNET webform contains usercontrols and relies on postpack and viewdata which are not available in ASP
p47849
aVNET MVC
p47850
aVYou may take a look at this article about mixing ASP
p47851
aVNET MVC and classic ASP
p47852
aVNET
p47853
as(dp47854
g16
V29407
p47855
stp47856
a((dp47857
g2
(lp47858
VYou could use a BackgroundWorker to load the data in a separate thread to avoid blocking the main thread
p47859
as(dp47860
g16
V29407
p47861
stp47862
a((dp47863
g2
(lp47864
VThe
p47865
aVNET Framework is:
p47866
aVCommon Language Runtime \u2013 provides an abstraction layer over the operating system
p47867
aVBase Class Libraries \u2013 pre-built code for common low-level programming tasks
p47868
aVDevelopment frameworks and technologies \u2013 reusable, customizable solutions for larger programming tasks
p47869
as(dp47870
g16
V29407
p47871
stp47872
a((dp47873
g2
(lp47874
VIn ASP
p47875
aVNET MVC data is set by the controller
p47876
aVA view is there only to display the data passed by a controller
p47877
aVAlso I would recommend you using strongly typed views and view models instead of ViewData
p47878
aVAnd in the view simply:
p47879
as(dp47880
g16
V29407
p47881
stp47882
a((dp47883
g2
(lp47884
VIt looks like this is an instance method
p47885
aVSo the first thing is to obtain an instance of the class containing this method
p47886
aVOnce you have an instance you can invoke the method on it:
p47887
aVIf the method is declared static you no longer need an instance:
p47888
aVand you could invoke it like this:
p47889
as(dp47890
g16
V29407
p47891
stp47892
a((dp47893
g2
(lp47894
VThere's a nice jquery slider plugin you may take a look at
p47895
aVAnd here's another one
p47896
as(dp47897
g16
V29407
p47898
stp47899
a((dp47900
g2
(lp47901
VI tried to use overriden OnActionExecuting method, but I can't return a View from that method
p47902
aVAs a matter of fact you can:
p47903
as(dp47904
g16
V29407
p47905
stp47906
a((dp47907
g2
(lp47908
VTry setting the EnableSsl property to true:
p47909
aVAFAIK this property can only be set in code and cannot be specified in the config file
p47910
as(dp47911
g16
V29407
p47912
stp47913
a((dp47914
g2
(lp47915
VUse LoadFrom instead of LoadFile because it will also resolve and load dependent assemblies
p47916
aVQuoting the documentation:
p47917
aVUse the LoadFile method to load and
p47918
aVexamine assemblies that have the same
p47919
aVidentity, but are located in different
p47920
aVpaths
p47921
aVLoadFile does not load files
p47922
aVinto the LoadFrom context, and does
p47923
aVnot resolve dependencies using the
p47924
aVload path, as the LoadFrom method
p47925
aVdoes
p47926
aVLoadFile is useful in this
p47927
aVlimited scenario because LoadFrom
p47928
aVcannot be used to load assemblies that
p47929
aVhave the same identities but different
p47930
aVpaths; it will load only the first
p47931
aVsuch assembly
p47932
as(dp47933
g16
V29407
p47934
stp47935
a((dp47936
g2
(lp47937
VI'd love to be able to run my CSS through Razor
p47938
aVWhat stops you
p47939
aVand in :
p47940
aVNow all that's left is to include it:
p47941
aVYou can also make the template strongly typed to a view model, write loops, ifs, inclusions,
p47942
as(dp47943
g16
V29407
p47944
stp47945
a((dp47946
g2
(lp47947
VIf you are going to redirect in the success action why are you using AJAX
p47948
aVThe purpose of AJAX is to refresh only parts of a site without reloading the whole page
p47949
aVIf in the success action you are going to redirect that totally defeats all the purpose and benefits you get from AJAX
p47950
aVBut because you asked here's what you could do:
p47951
aVAnd then:
p47952
as(dp47953
g16
V29407
p47954
stp47955
a((dp47956
g2
(lp47957
VShould the data entities + edmx file (generated by EF4) go in a separate class library
p47958
aVIMHO all data access logic which is specific to some data access technology (in your case Entity Framework) should go into a separate assembly
p47959
aVThere should be no MVC specific assemblies referenced there
p47960
aVIn your ASP
p47961
aVNET MVC application you would then reference this assembly and write view models
p47962
aVIt is those view models that will contain any MVC specific attributes
p47963
aVThen you could map between your model classes and those view models which would be passed to the view
p47964
aVAutoMapper could be used to facilitate this task
p47965
as(dp47966
g16
V29407
p47967
stp47968
a((dp47969
g2
(lp47970
Vasp
p47971
aVnet/mvc is a great place for beginners to start
p47972
aVIt contains many tutorials and videos
p47973
as(dp47974
g16
V29407
p47975
stp47976
a((dp47977
g2
(lp47978
VIt should be:
p47979
aVUse  instead of  and remove the semicolon at the end
p47980
as(dp47981
g16
V29407
p47982
stp47983
a((dp47984
g2
(lp47985
VYou could make sure you don't store those files to a folder which is publicly accessible and executable by the web server
p47986
aVAlso you could use heuristics by checking the first few bytes of the file for known file formats
p47987
aVFor example common image formats have standard beginning headers so you might check for the presence of those headers
p47988
as(dp47989
g16
V29407
p47990
stp47991
a((dp47992
g2
(lp47993
VThis will depend on what code you are talking about
p47994
aVFor example if you are talking about validation, this should go into the model, if you are talking about data access this should also go into a repository or the model (personally I prefer repository), if you are talking about a business logic this should go into a service, so that all that's left into the controller is to call this thing and pass the result to the view
p47995
aVI would recommend you watching this video presentation about how to put your controllers on a diet from Jimmy Bogard
p47996
as(dp47997
g16
V29407
p47998
stp47999
a((dp48000
g2
(lp48001
VWhen you call the  method you need to pass a concrete instance of a  class
p48002
aVSo it is the responsibility of the caller to provide the concrete implementation
p48003
as(dp48004
g16
V29407
p48005
stp48006
a((dp48007
g2
(lp48008
VBefore redirecting put something into
p48009
aVThen in the  action verify if this something is present in the
p48010
aVYou should be aware that there is a price to pay with this
p48011
aVIf the user presses F5 while browsing the  action he will get 404
p48012
aVSo basically what you are trying to do is bad design and I would recommend you avoiding it
p48013
as(dp48014
g16
V29407
p48015
stp48016
a((dp48017
g2
(lp48018
VFind:
p48019
aVReplace with:
p48020
aVYou may also take a look at this article
p48021
aVThere are some nice examples at the end
p48022
as(dp48023
g16
V29407
p48024
stp48025
a((dp48026
g2
(lp48027
VJ# is no longer supported so I would recommend you to stay away from it
p48028
aVAlso why would a
p48029
aVNET application ever need JDBC functionailty when there's ADO
p48030
aVNET
p48031
as(dp48032
g16
V29407
p48033
stp48034
a((dp48035
g2
(lp48036
VYou cannot append parameters to the current query string
p48037
aVThe querystring is readonly
p48038
aVNow if you want to manipulate querystrings in your application you could use the Url helpers to generate and manipulate urls
p48039
aVYou could also checkout the ParseQueryString method but this is rarely useful in an ASP
p48040
aVNET MVC application where you have routes and url helpers
p48041
aVSample usage:
p48042
as(dp48043
g16
V29407
p48044
stp48045
a((dp48046
g2
(lp48047
VTry like this:
p48048
aVNotice the  parameter
p48049
aVOr if you insist on the  function:
p48050
as(dp48051
g16
V29407
p48052
stp48053
a((dp48054
g2
(lp48055
s(dp48056
g16
V29407
p48057
stp48058
a((dp48059
g2
(lp48060
VYou shouldn't use Entity Framework classes inside your views
p48061
aVYou should define and use view models
p48062
aVView models are classes which are specifically designed for the needs of a given view
p48063
aVThus you might have multiple view models from the same model (view models are a subset of the model) or a single view model which is mapped to multiple model classes (in this case the view model is a superset of multiple models)
p48064
aVSo basically you would have a repository which will take care of fetching the model from somewhere (database, file, remote service,
p48065
aVand then convert this model to a view model and pass this view model to the controller
p48066
aVSo in your repository you could eagerly load child entities to avoid getting this sort of exceptions
p48067
aVYou would then decorate your view model classes with the necessary display attributes which would be specific to the given view
p48068
aVYou could use AutoMapper to convert between your models and view models
p48069
as(dp48070
g16
V29407
p48071
stp48072
a((dp48073
g2
(lp48074
VI would recommend you going through the following blog post
p48075
as(dp48076
g16
V29407
p48077
stp48078
a((dp48079
g2
(lp48080
VI wouldn't use unsafe code and pointers
p48081
aVWhy not simply define the structure and let the CLR do the mapping:
p48082
aVand then:
p48083
as(dp48084
g16
V29407
p48085
stp48086
a((dp48087
g2
(lp48088
VA  is not a thread-safe class but if you lock everytime you read/write to it there won't be any issues
p48089
aVAccording to the documentation:
p48090
aVPublic static (Shared in Visual Basic)
p48091
aVmembers of this type are thread safe
p48092
aVAny instance members are not
p48093
aVguaranteed to be thread safe
p48094
aVA  can support multiple readers
p48095
aVconcurrently, as long as the
p48096
aVcollection is not modified
p48097
aVEnumerating through a collection is
p48098
aVintrinsically not a thread-safe
p48099
aVprocedure
p48100
aVIn the rare case where an
p48101
aVenumeration contends with one or more
p48102
aVwrite accesses, the only way to ensure
p48103
aVthread safety is to lock the
p48104
aVcollection during the entire
p48105
aVenumeration
p48106
aVTo allow the collection
p48107
aVto be accessed by multiple threads for
p48108
aVreading and writing, you must
p48109
aVimplement your own synchronization
p48110
as(dp48111
g16
V29407
p48112
stp48113
a((dp48114
g2
(lp48115
VTry escaping the
p48116
as(dp48117
g16
V29407
p48118
stp48119
a((dp48120
g2
(lp48121
VYou could take a look at WebSocket API available in HTML5
p48122
aVIt allows the server to push notifications to the client
p48123
aVAnd here's the corresponding Wikipedia article
p48124
aVYou may also checkout this related sample
p48125
as(dp48126
g16
V29407
p48127
stp48128
a((dp48129
g2
(lp48130
s(dp48131
g16
V29407
p48132
stp48133
a((dp48134
g2
(lp48135
VBetter fail than return some unexpected result
p48136
aVand  are not integers
p48137
aVIf you know that you will be dealing with floating point numbers use the corresponding data type:
p48138
aVAlso don't forget to take the culture into account when dealing with floating point numbers as the decimal separator might not always be
p48139
as(dp48140
g16
V29407
p48141
stp48142
a((dp48143
g2
(lp48144
VYou could use the  function:
p48145
as(dp48146
g16
V29407
p48147
stp48148
a((dp48149
g2
(lp48150
VIf you want to create SOAP web services in Java you could use Axis
p48151
aVJSP are simply a templating engine and cannot be used to create web services
p48152
as(dp48153
g16
V29407
p48154
stp48155
a((dp48156
g2
(lp48157
VInformation such as client screen resolution is never sent to the server in the HTTP request so you may forget about it
p48158
aVThe only way is to use javascript and then pass this information to the server (AJAX, form post, link,
p48159
aVYou could also use some proprietary browser plugin like Flash, Silverlight, Java Applet, ActiveX,
p48160
as(dp48161
g16
V29407
p48162
stp48163
a((dp48164
g2
(lp48165
ViPhone is simply a piece of hardware so, no it doesn't support cookies
p48166
aVIt's the built-in Safari web browser which supports cookies
p48167
as(dp48168
g16
V29407
p48169
stp48170
a((dp48171
g2
(lp48172
VYour method returns
p48173
aVThis is MVC specific and you cannot use it in a webforms application
p48174
aVIf you want to call methods in the code behind in a classic WebForms application you could use PageMethods:
p48175
aVAnd then to call the method:
p48176
aVAnd here's a full working example I wrote for you:
p48177
aVPageMethods are not limited to simple argument types
p48178
aVYou could use any type as input and output, it will be automatically JSON serialized
p48179
as(dp48180
g16
V29407
p48181
stp48182
a((dp48183
g2
(lp48184
VYou are getting it right
p48185
aVStatic methods can access only static members
p48186
aVNon-static members need an instance of the class in order to access them
p48187
aVSo you could do this:
p48188
aVThis way you are calling the instance method  on a given class instance and you can keep the  field non-static
p48189
as(dp48190
g16
V29407
p48191
stp48192
a((dp48193
g2
(lp48194
VWhy using reflection when you could directly:
p48195
aVThat's the whole point of the  keyword
p48196
aVYou no longer need reflection
p48197
aVAnd if you want to use reflection then don't use dynamic:
p48198
aVHere's a full working example:
p48199
as(dp48200
g16
V29407
p48201
stp48202
a((dp48203
g2
(lp48204
VYou need to explain what do you mean by calling but you could definetely use a web client to send an HTTP request to a remote url and fetch the result:
p48205
as(dp48206
g16
V29407
p48207
stp48208
a((dp48209
g2
(lp48210
VInstall
p48211
aVNET 4
p48212
ag2721
aVRegister:
p48213
aVEnable:
p48214
aVHave fun *
p48215
aV* This step is not required to make
p48216
aVNET 4
p48217
aV0 run on Windows Server 2003 but it is strongly recommended
p48218
as(dp48219
g16
V29407
p48220
stp48221
a((dp48222
g2
(lp48223
VYou no longer need the default constructor:
p48224
aVAnd then make sure you've properly configured your Unity container:
p48225
aVAnd that you are using the Unity controller factory in :
p48226
as(dp48227
g16
V29407
p48228
stp48229
a((dp48230
g2
(lp48231
VIt's because the interface is the data contract of the web service and it doesn't make sense for a data contract to implement
p48232
aVA data contract contains operation contracts, there's nothing to dispose
p48233
aVIt's the channel which needs to be disposed and that's why the auto-generated proxy class (WcfClient) implements
p48234
aVYou could try this if you insist on using your data contract:
p48235
aVbut I really don't see what's wrong with:
p48236
as(dp48237
g16
V29407
p48238
stp48239
a((dp48240
g2
(lp48241
VHere's something simple you may try
p48242
aVDownload SysInternals Process Explorer, run your application and then go to the Performance tab in the properties of the process
p48243
aVThere you will see real-time statistics about the different handles: GDI Handles, User Handles,
p48244
aVNow observe over time whether those handles grow
p48245
as(dp48246
g16
V29407
p48247
stp48248
a((dp48249
g2
(lp48250
VThere are many things going on with your code and I will try to cover most of them
p48251
aVThe fact that you are getting a redirect means that you have an error somewhere in your javascript
p48252
aVI would start by the following simplification of your code
p48253
aVPersonally I prefer subscribing to the  event of the form instead of the  event of a submit button:
p48254
aVAlso notice that you probably want:
p48255
aVinstead of:
p48256
aVAnother thing I've noticed is that you probably want:
p48257
aVinstead of:
p48258
aVbecause  is a plain string returned by your controller, it doesn't represent any DOM element which is what the  function expects
p48259
aVThere might also be other errors
p48260
aVMy eyes are tired
p48261
aVUse FireBug, it will tell you all the errors you've got in your scripts and once you've fixed them all it's gonna work
p48262
aVUPDATE:
p48263
aVI forgot to mention that because what you have is a common scenario (AJAXifying a form) people have written a jquery plugin for it so that you don't have to go through all the pain over and over again and so that you simply could have:
p48264
aVNow that's much better, isn't it
p48265
aVAlso your controller action looks messy with all those magic strings
p48266
aVHow about using a view model:
p48267
aVand then simply:
p48268
aVNow we've got something much cleaner
p48269
aVAnd all that's left is to clean your view by taking advantage of the view model and strongly typed helpers:
p48270
as(dp48271
g16
V29407
p48272
stp48273
a((dp48274
g2
(lp48275
VThere's OpenID and you may checkout the DotNetOpenAuth project which is an implementation for
p48276
aVNET
p48277
as(dp48278
g16
V29407
p48279
stp48280
a((dp48281
g2
(lp48282
VStart by cleaning your service method
p48283
aVYou really don't need this constructor and all those properties
p48284
aVYou already have an  type, so use it:
p48285
aVAnd then clean your javascript:
p48286
as(dp48287
g16
V29407
p48288
stp48289
a((dp48290
g2
(lp48291
s(dp48292
g16
V29407
p48293
stp48294
a((dp48295
g2
(lp48296
VYou can check it on JSLint
p48297
as(dp48298
g16
V29407
p48299
stp48300
a((dp48301
g2
(lp48302
VWhat are the possible ways of representing data in memory in
p48303
aVNet (or in general)
p48304
aVIn
p48305
aVNET you have two types: value types and reference types which could be stored differently in memory
p48306
aVAlso it's the responsibility of the CLR to decide how to represent data in memory so that the developer shouldn't worry about it
p48307
aVIt would be great if data could be sorted and looked up by key (or multiple keys)
p48308
aVYou may take a look at the  class
p48309
aVYou also have static arrays, dynamic lists,
p48310
aV(this list is enormous)
p48311
as(dp48312
g16
V29407
p48313
stp48314
a((dp48315
g2
(lp48316
VThis cannot be easily achieved
p48317
aVFor example TypeMock uses the
p48318
aVNET framework profiler API to monitor an application's execution
p48319
aVIt allows you to register for different events and be notified when a method is called, an exception occurs,
p48320
aVbut this is not going to be an easy task
p48321
aVOn the other hand you could use AOP but it requires you to modify your code so that the caller uses some generated proxy instead of the real class
p48322
aVSpring
p48323
aVNET has some nice features about it
p48324
aVSo basically without using the
p48325
aVNET framework Profiler API or without writing some custom code that reads those attributes from a given class using reflection you cannot achieve this
p48326
aVAttributes are just class metadata and without something that would make sense of them they do nothing
p48327
as(dp48328
g16
V29407
p48329
stp48330
a((dp48331
g2
(lp48332
VDoesn't areas fit your needs
p48333
as(dp48334
g16
V29407
p48335
stp48336
a((dp48337
g2
(lp48338
VI've never heard of such bug in jquery
p48339
aVAre you sure you are not using window
p48340
aVload
p48341
as(dp48342
g16
V29407
p48343
stp48344
a((dp48345
g2
(lp48346
VThis should do the job:
p48347
aVMake sure your attribute derives from ActionFilterAttribute
p48348
as(dp48349
g16
V29407
p48350
stp48351
a((dp48352
g2
(lp48353
s(dp48354
g16
V29407
p48355
stp48356
a((dp48357
g2
(lp48358
VBecause XmlReader/XmlWriter are abstract classes and it doesn't make much sense to have a public constructor in an abstract class
p48359
aVThis is a common factory pattern
p48360
aVYou use the static  method which will return a proper implementation based on the argument types in a way that is completely transparent to the developer
p48361
as(dp48362
g16
V29407
p48363
stp48364
a((dp48365
g2
(lp48366
VYeah it's a bug
p48367
aVAlso you could download ASP
p48368
aVNET MVC RC1 from here
p48369
as(dp48370
g16
V29407
p48371
stp48372
a((dp48373
g2
(lp48374
VNo there are no limitations
p48375
aVFeel free to use the VS2010 Express version for ASP
p48376
aVNET MVC development
p48377
aVThe only thing is that you cannot use the MS Test framework for unit tests and you have to go for something like NUnit which is not necessary a bad thing :-) It's just that you would probably get a little less integration into the IDE with things like Unit Tests, Code Coverage,
p48378
aVyou will have to use third party tools
p48379
aVThere's just one thing to consider and which is of utmost importance before starting a big project: is the time your developers spend on configuring third party tools cheaper than the paid versions of VS2010
p48380
aVIn other words how much is your developers time worth
p48381
aVSee point 9 of Joel's test
p48382
as(dp48383
g16
V29407
p48384
stp48385
a((dp48386
g2
(lp48387
VUsing AJAX you could fetch the remote resource but the file will be represented by a byte array you won't be capable of doing much with it in javascript
p48388
aVYou can't save it to the user's computer
p48389
aVThink of it this way: if this was possible you would be able to store EXEcutables on the user computer without him realizing which is kinda bad idea, don't you think so
p48390
aVThat's why it is more common to provide normal links to download files so that the user gets a Save As
p48391
aVdialog and decides where does he wants to store the file on his computer
p48392
aVJust make sure to set the proper  header on your server:
p48393
aVor
p48394
aVThe difference is that with the first the user gets the Save As
p48395
aVdialog and with the second the browser will try to display the file inside the navigator if there's an appropriate plugin installed (example Adobe Reader for PDF files)
p48396
as(dp48397
g16
V29407
p48398
stp48399
a((dp48400
g2
(lp48401
VNo it is not possible without using some proprietary plugin inside the browser
p48402
as(dp48403
g16
V29407
p48404
stp48405
a((dp48406
g2
(lp48407
VThe folder must exist before copying files to it
p48408
aVSo when you do:
p48409
aVmust exist
p48410
aVIf it does exist there are two possibilities:
p48411
aVIt already contains  file inside -> in this case you will get an exception unless you use this overload
p48412
aVIt doesn't contain a  file inside -> Now there are two subcases:
p48413
aV2
p48414
ag2925
aVThe user you are running your program under has sufficient privileges to write to this folder -> in this case the operation succeeds
p48415
ag48414
ag48414
aVThe user you are running your program under doesn't have sufficient privileges to write to this folder -> you get an exception (actually you could also get some other exceptions if for example there isn't sufficient disk space,
p48416
aVUPDATE:
p48417
aVNow that you have shown your code the problem is here:
p48418
aVYou need to specify a filename in the destination:
p48419
aVAlso for the sake of completeness you probably want:
p48420
aVLike this you don't need to hardcode the Desktop path
p48421
as(dp48422
g16
V29407
p48423
stp48424
a((dp48425
g2
(lp48426
Vbut if you only want to check the presence you could also:
p48427
as(dp48428
g16
V29407
p48429
stp48430
a((dp48431
g2
(lp48432
VThe reason Im doing it like this is
p48433
aVbecause Im going to store username in
p48434
aVthe userdata field of a new
p48435
aVFormsAuthenticationTicket when the
p48436
aVuser logs in
p48437
aVThe username of the currently logged in user is already stored in the authentication cookie
p48438
aVYou don't need to store it once again in the UserData
p48439
aVAnd in order to retrieve it in your Razor template you could simply:
p48440
aVObviously it is recommended to decorate the controller action rendering this view with the  attribute to ensure that a user is authenticated before accessing it or you might get a  with this code
p48441
aVAs an alternative you could write a helper:
p48442
aVwhich you could use like this:
p48443
as(dp48444
g16
V29407
p48445
stp48446
a((dp48447
g2
(lp48448
VThe difference is that if you don't use  and an exception other than  is thrown your application will be leaking a file handle because the  line will never be reached
p48449
aVPersonally I always use using blocks when dealing with disposable resources such as streams:
p48450
aVThis way I don't have to worry about properly disposing them
p48451
aVThe try/finally stuff is handled by the compiler and I can focus on the logic
p48452
as(dp48453
g16
V29407
p48454
stp48455
a((dp48456
g2
(lp48457
s(dp48458
g16
V29407
p48459
stp48460
a((dp48461
g2
(lp48462
VIt can read, write or manipulate cookies
p48463
aVThat's the crucial part
p48464
aVYou can steal cookies like this: simply write a script which reads the cookie, and send it to some evil domain using AJAX (with JSONP to overcome the cross domain issues, I think you don't even need to bother with ajax, a simple  would suffice) and email yourself the authentication cookie of the poor guy
p48465
as(dp48466
g16
V29407
p48467
stp48468
a((dp48469
g2
(lp48470
V places the script just before the closing  tag while  places it in the beginning, just after the viewstate hidden fields
p48471
as(dp48472
g16
V29407
p48473
stp48474
a((dp48475
g2
(lp48476
VYes, there's a difference when you mix it with HTML like you do: the first snippet will throw an exception because you need to escape the double quotes while the second will work (that's one of the reasons why you should avoid mixing markup with javascript)
p48477
aVIn pure javascript (a separate file) there's no difference
p48478
as(dp48479
g16
V29407
p48480
stp48481
a((dp48482
g2
(lp48483
VYou need to have a controller action which returns a FileStreamResult and then use an  tag pointing to this controller action
p48484
aVAnd then inside your view:
p48485
as(dp48486
g16
V29407
p48487
stp48488
a((dp48489
g2
(lp48490
VAccessing a database in ASP
p48491
aVNET is no different than accessing a database in any
p48492
aVNET application simply because ASP
p48493
aVNET is a
p48494
aVNET application
p48495
aVAnd the way to access a relational database in
p48496
aVNET is to use ADO
p48497
aVNET
p48498
aVAs long as you are using parametrized queries you are safe against SQL injection
p48499
aVLet's take an example with SQL Server:
p48500
aVNow compare with the following (bad code):
p48501
aVThis second example is bad and vulnerable to SQL injection
p48502
aVSo basically everytime you use the  operator when building your query string you are doing it wrong
p48503
aVAnd once you get tired of writing all those SQL queries you may consider using an ORM
p48504
aVThe one that's shipped with
p48505
aVNET is called ADO
p48506
aVNET Entity Framework
p48507
as(dp48508
g16
V29407
p48509
stp48510
a((dp48511
g2
(lp48512
VYou could take a look at Json
p48513
aVNET and its LINQ support to create and query JSON
p48514
aVBy crafting a nice LINQ query you will get only the stuff you need (you can select, group by, count, min, max, whatever you like)
p48515
as(dp48516
g16
V29407
p48517
stp48518
a((dp48519
g2
(lp48520
VIf the  function is triggered this strongly indicates that your controller action returns a status code different than 200, probably 500 which is a strong indication that your controller action throws an exception before ever reaching the last line and be able to return a view
p48521
aVSo here are the steps to do:
p48522
aVUse FireBug
p48523
aVLook at what your server sends as response to the AJAX request
p48524
aVAnalyze the response status code and the response contents
p48525
aVAlternative approach:
p48526
aVPut a breakpoint in your controller action
p48527
aVHit F5
p48528
aVWhen the controller action is hit step through your code
p48529
aVObserve exactly what happens
p48530
aVRemark: I would very strongly recommend you properly encoding your AJAX input
p48531
aVSo instead of:
p48532
aVyou definitely should:
p48533
aVNote that everytime you use the ,  and  signs when dealing with querystring parameters (no matter what language you are using) you are doing it wrong
p48534
as(dp48535
g16
V29407
p48536
stp48537
a((dp48538
g2
(lp48539
VPersonally I would recommend you MVCContrib TestHelper
p48540
aVIt will make your controller unit tests very elegant and you shouldn't worry about mocking the context
p48541
as(dp48542
g16
V29407
p48543
stp48544
a((dp48545
g2
(lp48546
VHow about using an AJAX submit
p48547
aVThis way you could refresh only the results part of the page and make your site more dynamic:
p48548
as(dp48549
g16
V29407
p48550
stp48551
a((dp48552
g2
(lp48553
VHere's how you could implement this: start by defining some class which will hold the state of the long running operation -> you will need properties such as the id, progress, result,
p48554
aVThen you will need two controller actions: one which will start the task and another one which will return the progress
p48555
aVThe Start action will spawn a new thread to execute the long running operation and return immediately
p48556
aVOnce a task is started you could store the state of this operation into some common storage such as the Application given the task id
p48557
aVThe second controller action would be passed the task id and it will query the Application to fetch the progress of the given task
p48558
aVDuring that time the background thread will execute and every time it progresses it will update the progress of the task in the Application
p48559
aVThe last part is the client: you could poll the progress controller action at regular intervals using AJAX and update the progress
p48560
as(dp48561
g16
V29407
p48562
stp48563
a((dp48564
g2
(lp48565
VYou could look at the Request
p48566
aVCookies property which represents a collection of all cookies sent by the client browser
p48567
aVYou may loop through the cookies and look for the one you are interested in by using the Name property
p48568
aVOnce you find it you may modify it's Value property
p48569
aVAs an alternative you could manipulate the Values property
p48570
as(dp48571
g16
V29407
p48572
stp48573
a((dp48574
g2
(lp48575
VAs always you start with defining a view model which will represent your data for this given view:
p48576
aVNext you have a controller action which will use a repository to query the database and fill the view model which will be passed to a strongly typed view:
p48577
aVand finally you use an HTML helper in the view to generate the dropdown":
p48578
as(dp48579
g16
V29407
p48580
stp48581
a((dp48582
g2
(lp48583
VThe amount of data you can store into a cookie is limited and depends on browsers
p48584
aVGenerally it's about 4K
p48585
aVSo the first thing you need is to serialize this list
p48586
aVThere are different possibilities here depending on the data you are serializing: you could use XML, JSON, binary with base 64 encoding,
p48587
aVOnce the list is serialized you you could use the AppendCookie method to emit the cookie:
p48588
as(dp48589
g16
V29407
p48590
stp48591
a((dp48592
g2
(lp48593
VAs a recommended alternative to  you could use DOM manipulation to directly query and add node elements to the DOM
p48594
as(dp48595
g16
V29407
p48596
stp48597
a((dp48598
g2
(lp48599
VIs it possible to extend or modify the code of a C# class at run-time
p48600
aVNo it is not possible to do this in
p48601
aVNET
p48602
aVYou could write derived classes and override methods (if they are virtual) but you cannot modify an existing class
p48603
aVJust imagine if what you were asking was possible: you could modify the behavior of some existing system classes like System
p48604
aVString
p48605
aVYou may also take a look at Extension methods to add functionality to an existing class
p48606
as(dp48607
g16
V29407
p48608
stp48609
a((dp48610
g2
(lp48611
VIn addition to complex or fancy applications you could use jquery in applications performing cross browser DOM manipulations and AJAX and which could benefit from the hundreds of available plugins
p48612
as(dp48613
g16
V29407
p48614
stp48615
a((dp48616
g2
(lp48617
VThere are not native methods in VBScript that allow you to spawn new threads
p48618
aVOn the other hand you could call COM components written in some other language such as C++ which are multithreaded
p48619
as(dp48620
g16
V29407
p48621
stp48622
a((dp48623
g2
(lp48624
VYou may take a look at Apache Axis which allows you to consume SOAP web services no matter what language they have been written in
p48625
as(dp48626
g16
V29407
p48627
stp48628
a((dp48629
g2
(lp48630
VYou could use JSONP
p48631
as(dp48632
g16
V29407
p48633
stp48634
a((dp48635
g2
(lp48636
VAFAIK in ASP
p48637
aVNET MVC 3 RC MS AJAX has been deprecated in favor of jQuery which is used by all  helper methods
p48638
aVJavascript has become unobtrusive as well
p48639
aVThis means that you no longer have to call  but simply:
p48640
as(dp48641
g16
V29407
p48642
stp48643
a((dp48644
g2
(lp48645
VTry like this:
p48646
as(dp48647
g16
V29407
p48648
stp48649
a((dp48650
g2
(lp48651
VYour controller action returns JSON which makes me to believe that you are invoking it using AJAX
p48652
aVIn order to update the value of the textbox you need to include it in the JSON result instead of using
p48653
aVFor example:
p48654
aVNow all that's left is to use this value in your AJAX success handler
p48655
aVSupposing you are using jquery it might look like this:
p48656
aVand the textbox definition simply:
p48657
as(dp48658
g16
V29407
p48659
stp48660
a((dp48661
g2
(lp48662
VThe  property needs to be an  for this to work
p48663
as(dp48664
g16
V29407
p48665
stp48666
a((dp48667
g2
(lp48668
VCheck that the image size is smaller than the available memory before attempting to load it
p48669
aVSo the most efficient way to handle OutOfMemoryException is to architecture your application in such a way that it never attempts to load lots of data into memory in order to avoid the exception
p48670
as(dp48671
g16
V29407
p48672
stp48673
a((dp48674
g2
(lp48675
VUnfortunately such syntax is not possible because the compiler cannot infer the type of the anonymous expression
p48676
aVIt could be Action but it also could be some other custom defined delegate
p48677
aVYou will need to cast it to
p48678
as(dp48679
g16
V29407
p48680
stp48681
a((dp48682
g2
(lp48683
VUsing VS2005 you can check-in old projects into TFS 2008 but if you open them with VS2008 it will ask you to convert the project to the newer format
p48684
as(dp48685
g16
V29407
p48686
stp48687
a((dp48688
g2
(lp48689
VI would recommend you using the following structure for serialization/deserialization:
p48690
aVand
p48691
aVIf your original XML doesn't conform to some fixed structure like this you could use XSLT to transform it
p48692
as(dp48693
g16
V29407
p48694
stp48695
a((dp48696
g2
(lp48697
VA file cannot be uploaded using AJAX because you cannot access the contents of a file stored on the client computer and send it in the request using javascript
p48698
aVOne of the techniques to achieve this is to use hidden iframes
p48699
aVThere's a nice jquery form plugin which allows you to AJAXify your forms and it supports file uploads as well
p48700
aVSo using this plugin your code will simply look like this:
p48701
aVThe plugin automatically takes care of subscribing to the  event of the form, canceling the default submission, serializing the values, using the proper method and handle file upload fields,
p48702
as(dp48703
g16
V29407
p48704
stp48705
a((dp48706
g2
(lp48707
VYes, the CLR is backwards compatible
p48708
aVFor example the CLR 4
p48709
aV0 is capable of loading assemblies compiled against CLR 2
p48710
ag2721
as(dp48711
g16
V29407
p48712
stp48713
a((dp48714
g2
(lp48715
VYou usually don't call controller actions returning files using AJAX because you won't be able to do much with this file in the success callback (you cannot store the file to the client computer)
p48716
aVSo there are two possibilities: either the user is prompted with a dialog box to choose the location he wants to save the file or the contents of the file is opened inline with the default associated program (if there is any)
p48717
aVIt is the  header which is used to control this behavior:
p48718
aVwill show a Save As dialog box to the user and it will stay on the same page
p48719
aVThere won't be any redirect happening
p48720
aVwill try to open the contents of the file inside the browser if there is an associated program and it will replace the current page
p48721
aVIf you want to open the contents of the file in a new browser window you could use :
p48722
aVObviously this is only necessary if you are opening the file
p48723
aVFor files that should be saved to the user computer you should simply provide the link and leave the user decide what to do with the file
p48724
aVNo AJAX
p48725
as(dp48726
g16
V29407
p48727
stp48728
a((dp48729
g2
(lp48730
VYour question is very broad
p48731
aVYou might use the  function to send an AJAX request to a controller action which would update the vote count into the database given a question id:
p48732
aVObviously the controller action should check if the currently logged in user hasn't already upvoted this question
p48733
as(dp48734
g16
V29407
p48735
stp48736
a((dp48737
g2
(lp48738
VCasting always adds an overhead but it is difficult to say whether it will be bottleneck to your application
p48739
aVThis will depend on your scenario
p48740
aVYou could avoid multiple casts by performing it outside of the loop:
p48741
as(dp48742
g16
V29407
p48743
stp48744
a((dp48745
g2
(lp48746
Vjquery AJAX automatically follows redirect meaning that in the success callback you will get the result of the  action you have redirected to
p48747
aVIn this callback you will get the partial HTML returned by the controller action
p48748
aVSo if you want to update some part of the DOM you need to explicitly instruct it so:
p48749
aVor simply use the  method:
p48750
as(dp48751
g16
V29407
p48752
stp48753
a((dp48754
g2
(lp48755
VYou could minify/obfuscate it but the function would still be visible to the user
p48756
as(dp48757
g16
V29407
p48758
stp48759
a((dp48760
g2
(lp48761
VYou could use a XDocument to manipulate XML files:
p48762
as(dp48763
g16
V29407
p48764
stp48765
a((dp48766
g2
(lp48767
VThe  method looks in the  object when populating the model and it completely ignores this  you are passing
p48768
aVSo you will need to mock the request and add the values to this object
p48769
aVBut thats lots of work that isn't worth the efforts and I would recommend you a better way: instead of using  as action parameter and then calling  inside your action use a strongly typed action parameter:
p48770
aVand in the unit test simply pass the desired model when invoking the controller action
p48771
as(dp48772
g16
V29407
p48773
stp48774
a((dp48775
g2
(lp48776
VYou need to configure a custom controller factory in order to wire up your DI framework inside  method in global
p48777
aVasax
p48778
aVSo for example if you are using Unity as DI framework you could:
p48779
aVCheck out this blog post for more information
p48780
as(dp48781
g16
V29407
p48782
stp48783
a((dp48784
g2
(lp48785
VGenerally sending lots of parameters in a GET request is not a good practice as it leads to long urls and you may hit the limit of url length which could vary across different browsers
p48786
aVIn cases like this you should prefer sending those parameters as a POST request to the controller action which would persist/update the model in your datastore and would redirect to another controller action passing only the unique identifier of this model in the datastore
p48787
aVThe action you are redirecting to would use the id passed in the url to fetch the model back from the datastore
p48788
as(dp48789
g16
V29407
p48790
stp48791
a((dp48792
g2
(lp48793
VappendTo changes the DOM, it's just that when viewing the source those changes are not visible
p48794
aVYou need to use a developer toolbar to explore the DOM in order to see the changes
p48795
as(dp48796
g16
V29407
p48797
stp48798
a((dp48799
g2
(lp48800
VYou have two  before
p48801
aVIt should be:
p48802
aVThis being said I would recommend you to use parametrized queries
p48803
aVRemember that everytime you use the  operator when constructing a SQL query you are doing it wrong:
p48804
aVNow you are safe against SQL injections
p48805
aVConclusion: never use  with SQL queries
p48806
as(dp48807
g16
V29407
p48808
stp48809
a((dp48810
g2
(lp48811
VYes, throwing and catching exceptions could be an expensive operation
p48812
aVExceptions should be thrown only in exceptional cases (cases which happen rarely)
p48813
aVFor example avoid throwing exceptions when validating some user input when you could return true/false
p48814
as(dp48815
g16
V29407
p48816
stp48817
a((dp48818
g2
(lp48819
VYou can't avoid route values being displayed in the url
p48820
aVThey are part of the url
p48821
aVThis is their nature
p48822
aVDepending on your scenario and on what you are trying to do there are other ways to avoid sending sensitive information in the url
p48823
aVIf it is just a matter of not displaying them in the url you could use an HTML form with a POST request and a hidden field containing the value
p48824
aVThis way it won't be part of the url but the user can still see it and tamper with it (a little more difficult because he needs to use some tools but still feasible)
p48825
as(dp48826
g16
V29407
p48827
stp48828
a((dp48829
g2
(lp48830
VYou won't get the Save As dialog when using AJAX
p48831
aVIf you want to get this dialog simply provide a normal link to the download file:
p48832
aVor if you need a POST request:
p48833
aVWhen you use AJAX to download a file the contents of this file is retrieved at the success callback but there's not much you can do with it: you cannot save it to the client computer and you cannot get Save As dialog
p48834
as(dp48835
g16
V29407
p48836
stp48837
a((dp48838
g2
(lp48839
VAre you sure that all those  conditions are met
p48840
aVTry with a simple example:
p48841
aVCall the  action first to store a value in the session and then call the  action
p48842
aVUnless you have disabled session for this ASP
p48843
aVNET application or cookies in your browser you should get correct value
p48844
as(dp48845
g16
V29407
p48846
stp48847
a((dp48848
g2
(lp48849
VThe target platform is defined in the properties of the project:
p48850
aVHere's a blog post you might find useful
p48851
as(dp48852
g16
V29407
p48853
stp48854
a((dp48855
g2
(lp48856
s(dp48857
g16
V29407
p48858
stp48859
a((dp48860
g2
(lp48861
VTry like this:
p48862
aVOr even better use an Editor Template which is much cleaner as you no longer need to write any loops in your view:
p48863
aVand then define the Editor Template ()
p48864
as(dp48865
g16
V29407
p48866
stp48867
a((dp48868
g2
(lp48869
VThe AsyncResult class is defined in the  namespace
p48870
aVMake sure you have included it
p48871
aVYou may also checkout the following article on MSDN
p48872
as(dp48873
g16
V29407
p48874
stp48875
a((dp48876
g2
(lp48877
VYou may checkout the following article which illustrates how to generate high quality resized images using GDI+
p48878
aVAnd here's another more comprehensive method
p48879
as(dp48880
g16
V29407
p48881
stp48882
a((dp48883
g2
(lp48884
VYou could use an editor template ():
p48885
aVAnd then inside the main view you could include this editor template:
p48886
aVThis will invoke the editor template for each item in the  collection
p48887
aVSo you could fill this collection in your GET action with some users and you will be able to edit their information inside the form
p48888
as(dp48889
g16
V29407
p48890
stp48891
a((dp48892
g2
(lp48893
VCouple of remarks about your code:
p48894
aVhelpers in ASP
p48895
aVNET MVC 3 RC2 no longer use MS AJAX which has been deprecated in favor of jQuery, so your script inclusions are wrong
p48896
aVYou need to include jquery
p48897
aVYou have an ajax form without a submit button and an ajax link inside this form
p48898
aVThis makes no sense
p48899
aVEither use an ajax form or an ajax link
p48900
aVSo your code might look something among the lines:
p48901
as(dp48902
g16
V29407
p48903
stp48904
a((dp48905
g2
(lp48906
VNormally controller actions return ActionResult and not strings
p48907
aVAlso you should make sure that the BaseController you are deriving from doesn't have the  attribute, in fact looking at your code you don't even need to derive from it
p48908
aVIt could be simply:
p48909
aVAlso notice that I defined the controller a  class which was not your case
p48910
aVFinally remove the  section from your web
p48911
aVconfig
p48912
aVThis is no longer used in ASP
p48913
aVNET MVC
p48914
aVAlso try rendering the action like this:
p48915
aVAs a final remark I would probably remove the try/catch from the controller action
p48916
aVWhy return a wrong version in case of exception
p48917
as(dp48918
g16
V29407
p48919
stp48920
a((dp48921
g2
(lp48922
VThe  tag is properly defined
p48923
aVYou are using the  method with a relative path from the site root which will correctly take into account the virtual directory which could be added when hosting under IIS
p48924
aVI would recommend you looking at FireBug to see why the path is not found and what response does the server send when the CSS is fetched
p48925
aVIs the file missing
p48926
aVOr is there some other status code returned
p48927
as(dp48928
g16
V29407
p48929
stp48930
a((dp48931
g2
(lp48932
VYou could define a section in the head part of the master page:
p48933
aVand in the view define this section:
p48934
aVYou also have the possibility to test if a section is defined:
p48935
as(dp48936
g16
V29407
p48937
stp48938
a((dp48939
g2
(lp48940
VYou could use a regular expression
p48941
aVPick one from here which validates email and apply it to the user input to test whether it matches
p48942
aVIn PHP you could use the preg_match function
p48943
as(dp48944
g16
V29407
p48945
stp48946
a((dp48947
g2
(lp48948
VTry like this:
p48949
aVor:
p48950
aVor:
p48951
aVor if  is numeric:
p48952
as(dp48953
g16
V29407
p48954
stp48955
a((dp48956
g2
(lp48957
VYou could use reflection:
p48958
as(dp48959
g16
V29407
p48960
stp48961
a((dp48962
g2
(lp48963
VYou could distinguish between normal requests and ajax requests () and child actions ( - rendered with )
p48964
aVAs an alternative the controller action returning the partial view could set some model property indicating that the partial was rendered via this action instead of being directly included in a view with  for example
p48965
as(dp48966
g16
V29407
p48967
stp48968
a((dp48969
g2
(lp48970
VYou could add a hidden field to your form containing the value you would like to send:
p48971
aVand then:
p48972
as(dp48973
g16
V29407
p48974
stp48975
a((dp48976
g2
(lp48977
VYou could initialize it in the constructor of your class:
p48978
as(dp48979
g16
V29407
p48980
stp48981
a((dp48982
g2
(lp48983
VMake sure you cancel the default form submission by returning false from the submit callback
p48984
aVAlso you seem to be missing a closing :
p48985
aVAlso you might need to modify your controller action like this because what is actually sent to the server is :
p48986
as(dp48987
g16
V29407
p48988
stp48989
a((dp48990
g2
(lp48991
VI would recommend you taking a look at Quartz
p48992
aVNET
p48993
aVAlso an important thing you should be aware is that the web server could unload the ASP
p48994
aVNET application from memory if it is not used meaning that all threads that have been spawned would simply die
p48995
aVThat's one of the reasons why such tasks shouldn't be performed in ASP
p48996
aVNET applications but rather offloaded in Windows Services
p48997
as(dp48998
g16
V29407
p48999
stp49000
a((dp49001
g2
(lp49002
VPlease use parametrized queries
p49003
aVMy eyes hurt when I see string concatenations used to construct SQL queries:
p49004
aVAs far as the  column is concerned I would simply remove it from the INSERT and add it a default value directly in the SQL database
p49005
aVNotice how you are directly passing  instances and you leave ADO
p49006
aVNET handle the formats
p49007
aVAs a bonus your code is safe against SQL injections
p49008
as(dp49009
g16
V29407
p49010
stp49011
a((dp49012
g2
(lp49013
VYes it is possible
p49014
aVLet's take as an example the following form where you want to post only the second DIV:
p49015
aVand you could send an AJAX request like this:
p49016
as(dp49017
g16
V29407
p49018
stp49019
a((dp49020
g2
(lp49021
VAs long as you properly encode data displayed in the resulting HTML page you are pretty safe
p49022
as(dp49023
g16
V29407
p49024
stp49025
a((dp49026
g2
(lp49027
VAre you talking about the annotate feature
p49028
as(dp49029
g16
V29407
p49030
stp49031
a((dp49032
g2
(lp49033
VYou could implement OpenID
p49034
aVDotNetOpenAuth is implementation for
p49035
aVNET
p49036
as(dp49037
g16
V29407
p49038
stp49039
a((dp49040
g2
(lp49041
VYou could append a hash to the  attribute of the first form:
p49042
aVand then test for the presence of this hash in the url:
p49043
as(dp49044
g16
V29407
p49045
stp49046
a((dp49047
g2
(lp49048
VTry passing a DateTime instance directly as parameter:
p49049
as(dp49050
g16
V29407
p49051
stp49052
a((dp49053
g2
(lp49054
VTry like this:
p49055
as(dp49056
g16
V29407
p49057
stp49058
a((dp49059
g2
(lp49060
VDid you download the Windows Executable version
p49061
as(dp49062
g16
V29407
p49063
stp49064
a((dp49065
g2
(lp49066
Vfetches all products from database
p49067
aVis a common pattern in RoR
p49068
aVBased on the request the controller renders a different view
p49069
aVFor example if you request  it will pass the products to the  view which is just an html template
p49070
aVIf the request is  it will serialize the products to a XML file and send this file as response
p49071
as(dp49072
g16
V29407
p49073
stp49074
a((dp49075
g2
(lp49076
VI am not aware of such tool in Visual Studio but you could use FireBug to inspect CSS rules applied to a web page
p49077
as(dp49078
g16
V29407
p49079
stp49080
a((dp49081
g2
(lp49082
VLook at Network Monitoring in FireBug
p49083
as(dp49084
g16
V29407
p49085
stp49086
a((dp49087
g2
(lp49088
VThe KeyAttribute is
p49089
aVNET 4 only and it is located in the  assembly so make sure you have referenced it
p49090
as(dp49091
g16
V29407
p49092
stp49093
a((dp49094
g2
(lp49095
VYou could use FireBug and the Network Monitoring feature
p49096
aVAnd as suggested by @Artem K
p49097
aVin the comments section you could also take a look at YSlow
p49098
as(dp49099
g16
V29407
p49100
stp49101
a((dp49102
g2
(lp49103
VIt is part of a namespace
p49104
aVIn your example the  is used to indicate that the  tag belongs to this namespace
p49105
aVYou may take a look at the following article on MSDN which explains the  in XAML
p49106
as(dp49107
g16
V29407
p49108
stp49109
a((dp49110
g2
(lp49111
VYour  statement always evaluates to true
p49112
aVYou are testing whether  equals  which is always true:
p49113
aVAlso you are missing an  statement
p49114
aVIt should be like this:
p49115
aVObviously you need to replace  and  with the proper values
p49116
aVPersonally I would write an HTML helper for this task to avoid the tag soup in the views:
p49117
aVAnd then in your view simply:
p49118
as(dp49119
g16
V29407
p49120
stp49121
a((dp49122
g2
(lp49123
VWhy don't you directly hardcode the values in the view
p49124
aVAnother possibility is to use the real model class but use a dummy repository inside the controller which will fill the model with temporary data
p49125
aVOnce the final repository is ready all you have to do is instruct your DI framework to pass the real repository to the controller
p49126
aVIMHO creating temporary classes inside the views wouldn't bring much value nor you will gain time
p49127
as(dp49128
g16
V29407
p49129
stp49130
a((dp49131
g2
(lp49132
VYour BLL layer could return validation errors under some standard form like for example a  or some other custom built type
p49133
aVThe controller receives a view model from the view so validation on this view model is invoked by the default model binder
p49134
aVIf this validation passes next come the business rules
p49135
aVThe view model is mapped to a model and passed to the service layer
p49136
aVIf there are business errors the service would return a collection of errors which could be inserted into the  from the controller using an extension method on the controller
p49137
as(dp49138
g16
V29407
p49139
stp49140
a((dp49141
g2
(lp49142
VPersonally I perform validation at view models
p49143
aVThis is what a controller receives from a view and it is the class which contains the user input
p49144
aVI distinguish between two type of validation rules: surface validation and business validation
p49145
aVRules such as required fields, proper formats should be enforced at the view models whereas business rules like a user with a given name already exists in the database should be validated on the model
p49146
aVAlso you could have different view models mapped to the same model but based on the view validation rules could vary
p49147
aVBecause of this you won't have exactly the same validation rules on the view models
p49148
as(dp49149
g16
V29407
p49150
stp49151
a((dp49152
g2
(lp49153
VYour architecture is correct
p49154
aVI always thought that the repository was always the last method called to get data
p49155
aVYes, in your case the data comes from a WCF service but it could be anything: SQL database, XML file,
p49156
as(dp49157
g16
V29407
p49158
stp49159
a((dp49160
g2
(lp49161
VYou could write a custom HandleError attribute where you would log the exception in the overriden OnException method
p49162
as(dp49163
g16
V29407
p49164
stp49165
a((dp49166
g2
(lp49167
VAdding a class to an editor template doesn't make sense as inside this template you could have many different tags
p49168
aVSo you need to assign the class inside the editor template:
p49169
aVand in the custom template:
p49170
as(dp49171
g16
V29407
p49172
stp49173
a((dp49174
g2
(lp49175
VHow about this:
p49176
aVand the controller action:
p49177
aVRemark: I would include the information into the view model and avoid using
p49178
aVIt is not strongly typed and it forces you to use magic quotes
p49179
as(dp49180
g16
V29407
p49181
stp49182
a((dp49183
g2
(lp49184
VNo, this is not possible from a static context because many different controllers could be executing at some given point of time for multiple concurrent requests
p49185
as(dp49186
g16
V29407
p49187
stp49188
a((dp49189
g2
(lp49190
s(dp49191
g16
V29407
p49192
stp49193
a((dp49194
g2
(lp49195
s(dp49196
g16
V29407
p49197
stp49198
a((dp49199
g2
(lp49200
VUser
p49201
aVIdentity
p49202
aVIsAuthenticated, etc
p49203
aVwill not be available from my handler
p49204
aVThe ProcessRequest method gives you the current HTTP context from which you could determine if the user is authenticated:
p49205
as(dp49206
g16
V29407
p49207
stp49208
a((dp49209
g2
(lp49210
VMaybe you are installing the program in a folder which the user doesn't have write permissions so cannot modify the database file
p49211
as(dp49212
g16
V29407
p49213
stp49214
a((dp49215
g2
(lp49216
VI know it is not possible to put a form into an other
p49217
aVNesting HTML forms is not valid HTML and results into undefined behavior which could vary between browsers
p49218
aVHere's a similar post
p49219
as(dp49220
g16
V29407
p49221
stp49222
a((dp49223
g2
(lp49224
VYou cannot have  and  as variable names in C# (a variable cannot contain ) so I guess your actual code is not what you have shown so far:
p49225
aVAlso you should make sure that there are no javascript errors and the plugin is successfully applied
p49226
as(dp49227
g16
V29407
p49228
stp49229
a((dp49230
g2
(lp49231
VThe exception will propagate and if it is not caught somewhere like for example a global exception handler it will simply kill the application domain
p49232
as(dp49233
g16
V29407
p49234
stp49235
a((dp49236
g2
(lp49237
VYou may take a look at Apache bench which allows you to simulate user load of a given web site
p49238
as(dp49239
g16
V29407
p49240
stp49241
a((dp49242
g2
(lp49243
VYou could use a XmlReader
p49244
aVAnd here's an example
p49245
as(dp49246
g16
V29407
p49247
stp49248
a((dp49249
g2
(lp49250
VYou may take a look at this article
p49251
aVThis information is available in the navigator
p49252
aVuserAgent property
p49253
as(dp49254
g16
V29407
p49255
stp49256
a((dp49257
g2
(lp49258
VNo, you can never instantiate an abstract class
p49259
aVThat's the purpose of an abstract class
p49260
aVThe  method you are referring to returns a specific implementation of the abstract class
p49261
aVThis is the abstract factory pattern
p49262
as(dp49263
g16
V29407
p49264
stp49265
a((dp49266
g2
(lp49267
VYour controller action looks very strange, one would say classic WebForms code, not ASP
p49268
aVNET MVC
p49269
aVNormally controller actions return :
p49270
aVAs far as embedding the player inline inside the browser you may take a look at the  tag and point the url to this controller action (don't use )
p49271
aVAnd here's another example of using the  tag
p49272
aVAs far as preventing direct access is concerned this is not possible, the music file is played on the client and if you prevent access to it you won't be able to play it
p49273
aVIt is the same as trying to hide the HTML of your site
p49274
aVThis simply is something that shouldn't be done
p49275
aVOn the other hand you could allow only authenticated users to access this controller action by decorating it with the  attribute
p49276
as(dp49277
g16
V29407
p49278
stp49279
a((dp49280
g2
(lp49281
VIf you are talking about the jquery form plugin your code should simply look like this:
p49282
aVIf not, then make sure you properly encode the request:
p49283
aVor if you want to send the contents of the form:
p49284
aVFinally, make sure you have installed FireBug to better analyze what's happening under the covers
p49285
as(dp49286
g16
V29407
p49287
stp49288
a((dp49289
g2
(lp49290
VHere you are not properly using the helper method
p49291
aVThe first argument must be a property on your view model which will contain the currently selected value
p49292
aVIt should be a scalar property, not a collection
p49293
aVSo in your view model you need to add such property:
p49294
aVAnd in your controller action:
p49295
aVAnd in your view simply:
p49296
as(dp49297
g16
V29407
p49298
stp49299
a((dp49300
g2
(lp49301
VDon't do this
p49302
aVSimply pass the controller name as parameter from within the controller to whatever class needs it
p49303
aVCurrent controller is a notion that doesn't make sense from outside of a controller
p49304
as(dp49305
g16
V29407
p49306
stp49307
a((dp49308
g2
(lp49309
VI would stick with the  approach
p49310
aVTo avoid coding important logic in the view define properties in your view model and let the controller set the value so that inside the view you only have:
p49311
aVOr if you are working with display/editor templates you could simply:
p49312
as(dp49313
g16
V29407
p49314
stp49315
a((dp49316
g2
(lp49317
VI would put the progress bars into an array:
p49318
aVand the  method:
p49319
aVThis being said, using a BackgroundWorker is far more adapted to your scenario
p49320
as(dp49321
g16
V29407
p49322
stp49323
a((dp49324
g2
(lp49325
VYou could use properties files which are manipulated with the java
p49326
aVutil
p49327
aVProperties class
p49328
as(dp49329
g16
V29407
p49330
stp49331
a((dp49332
g2
(lp49333
VHave you tried like this:
p49334
aVwhere  is
p49335
aVAlso notice that you cannot pass  if the  method takes  instead of  as last parameter
p49336
as(dp49337
g16
V29407
p49338
stp49339
a((dp49340
g2
(lp49341
VA XmlWriter is forward only and cannot be reused
p49342
aVYou shouldn't call  multiple times on the same instance of this class
p49343
aVBecause it is an argument of your method it is the caller that must take care of handling the life-cycle of the writer
p49344
aVIf you need to reuse the  function multiple times then you might want to externalize the call of the  method:
p49345
as(dp49346
g16
V29407
p49347
stp49348
a((dp49349
g2
(lp49350
VThe reason it doesn't work is because HTML helpers inside the partial doesn't generate proper names for the input tags
p49351
aVIf you look at the generated source code you will see:
p49352
aVwhereas it should be:
p49353
aVin order for the default model binder to properly map the objects in the POST action
p49354
aVOne way to solve this is to use editor templates:
p49355
aVand then inside ():
p49356
aVNote that the name of the partial should be the same as the type of the property:  and located inside the  folder
p49357
as(dp49358
g16
V29407
p49359
stp49360
a((dp49361
g2
(lp49362
VHow are you calling this action
p49363
aVHave you tried:
p49364
as(dp49365
g16
V29407
p49366
stp49367
a((dp49368
g2
(lp49369
VIf you are talking about
p49370
aVNET XML serialization with XmlSerializer then this type can serialize only public classes
p49371
aVYou could use DataContractSerializer instead
p49372
as(dp49373
g16
V29407
p49374
stp49375
a((dp49376
g2
(lp49377
VYou may take a look at Perforce Visual Merge and Diff Tools
p49378
as(dp49379
g16
V29407
p49380
stp49381
a((dp49382
g2
(lp49383
VThis is a close to impossible task unless you are ready to implement a PDF parser in javascript which is not something I would dive into
p49384
aVYou should avoid using AJAX to download files
p49385
aVDefine proper  and  HTTP headers on the server and leave the client display it by providing a normal link to the file
p49386
as(dp49387
g16
V29407
p49388
stp49389
a((dp49390
g2
(lp49391
VViews/ASPX pages shouldn't access database
p49392
aVThey should only work with the view model which is passed by the controller
p49393
aVNeither the controller should know anything about a database
p49394
aVIt uses a service layer which fetches data from somewhere (in your case multiple databases) and returns a model object
p49395
aVIn the specific implementation of the service you could perform multiple queries from different databases
p49396
as(dp49397
g16
V29407
p49398
stp49399
a((dp49400
g2
(lp49401
VASP
p49402
aVNET MVC is built on top of ASP
p49403
aVNET so everything you could do in ASP
p49404
aVNET could be done with ASP
p49405
aVNET MVC
p49406
aVIn addition to this it allows clearer separation of concerns, more easily unit testable code, better control of the generated HTML
p49407
as(dp49408
g16
V29407
p49409
stp49410
a((dp49411
g2
(lp49412
VThis cannot be done
p49413
aVThe title is browser dependent and you have no control over it
p49414
aVOn the other hand you could implement your own alert box using divs and customize it as you like
p49415
aVHere's an example using the jquery dialog plugin
p49416
as(dp49417
g16
V29407
p49418
stp49419
a((dp49420
g2
(lp49421
VIn ASP
p49422
aVNET MVC custom server controls should be avoided
p49423
aVMost of them rely on ViewState and PostBack which are notions that no longer exist in MVC
p49424
aVYou should prefer using templates, HTML helpers to implement some reusable functionality
p49425
aVAnother problem with controls is most of them encapsulate some business logic which fetches data from somewhere and renders it which is an anti-MVC pattern
p49426
aVIn MVC it is the controller responsibility to manipulate the model and fetch data and pass a view model to the view which simply should display it
p49427
as(dp49428
g16
V29407
p49429
stp49430
a((dp49431
g2
(lp49432
VNo, there isn't but you could use a Post Build step to copy the generated assembly to another folder:
p49433
as(dp49434
g16
V29407
p49435
stp49436
a((dp49437
g2
(lp49438
VHave you tried setting the content type and calling :
p49439
as(dp49440
g16
V29407
p49441
stp49442
a((dp49443
g2
(lp49444
VYou could make those submit buttons and inside the servlet your are submitting the form to you could test the name of the button which was pressed and render the corresponding jsp page
p49445
aVInside the  servlet if  is not empty then the first button was clicked and you could render the corresponding jsp
p49446
as(dp49447
g16
V29407
p49448
stp49449
a((dp49450
g2
(lp49451
VThe Thread class has an Abort method which allows you to terminate the thread
p49452
aVThis being said the proper way to terminate a thread is to use some a shared resource which indicates whether the thread should continue or stop
p49453
aVFor example inside the thread you could implement a mechanism which tests the value of this static variable in a loop and break out of the loop
p49454
aVOn the main thread when you decide to terminate the background thread simply set the value of the static variable and the thread will simply stop by itself
p49455
aVHere's an example:
p49456
aVand inside the thread:
p49457
aVand when you decide to stop the thread from another thread:
p49458
as(dp49459
g16
V29407
p49460
stp49461
a((dp49462
g2
(lp49463
V is the name of the generic argument used in the  type definition
p49464
aVA bit less readable indeed than  but guaranteed to never collide with another name
p49465
as(dp49466
g16
V29407
p49467
stp49468
a((dp49469
g2
(lp49470
VYou could use an App_Offline
p49471
aVhtm file
p49472
aVSimply upload an html file with this name to the route of your ASP
p49473
aVNET application and all requests will route to it
p49474
aVWhen you are ready to put your site back online simply delete the file
p49475
aVThere's a small gotcha you should be aware of when using  file with an ASP
p49476
aVNET MVC application
p49477
as(dp49478
g16
V29407
p49479
stp49480
a((dp49481
g2
(lp49482
VYou could use Awesomium and its managed wrapper WPF Chromium which contains a small utility allowing you to achieve this very easily
p49483
as(dp49484
g16
V29407
p49485
stp49486
a((dp49487
g2
(lp49488
VYou could use AJAX
p49489
aVjQuery has different functions allowing you to fetch pages asynchronously and update the DOM: , , ,
p49490
as(dp49491
g16
V29407
p49492
stp49493
a((dp49494
g2
(lp49495
VIt's because the / operator is performing an integer division if both operands are integers
p49496
aVYou could do this:
p49497
as(dp49498
g16
V29407
p49499
stp49500
a((dp49501
g2
(lp49502
VUnfortunately this scenario is not going to work
p49503
aVYour choices are either host the server on
p49504
aVNET 4
p49505
aV0 or backport with
p49506
aVNET 3
p49507
aV5, SL3 and Beta2 of RIA Services
p49508
as(dp49509
g16
V29407
p49510
stp49511
a((dp49512
g2
(lp49513
VYou may take a look at the following blog post which provides an overview of what first chance exceptions represent
p49514
as(dp49515
g16
V29407
p49516
stp49517
a((dp49518
g2
(lp49519
VIn the first scenario they live nowhere
p49520
aVYou are manually creating a new thread
p49521
aVIn the second example a thread is drawn from the thread pool if there is one available
p49522
aVYou should avoid using threads from the thread pool in heavily multi-threaded applications like ASP
p49523
aVNET for long running operations because you might be jeopardizing threads which are also used to service requests
p49524
aVThe basic rule of thumb is to manually create threads for long running operations but few of them (because creating a thread is time-consuming) and use threads from the pool for multiple short lived operations
p49525
as(dp49526
g16
V29407
p49527
stp49528
a((dp49529
g2
(lp49530
VC++ doesn't have a lock keyword
p49531
aVYou could use a mutex
p49532
as(dp49533
g16
V29407
p49534
stp49535
a((dp49536
g2
(lp49537
VThe order of routes is important because they are evaluated in the same order they are defined
p49538
aVSo oimply invert the order:
p49539
aVNow when you request  it will invoke the  action on the  controller and pass  as the  parameter
p49540
as(dp49541
g16
V29407
p49542
stp49543
a((dp49544
g2
(lp49545
VMake sure you are using the latest version of Moq
p49546
as(dp49547
g16
V29407
p49548
stp49549
a((dp49550
g2
(lp49551
VThe documentation contains many examples
p49552
as(dp49553
g16
V29407
p49554
stp49555
a((dp49556
g2
(lp49557
VYou may take a look at this excellent blog post from Steve Sanderson
p49558
as(dp49559
g16
V29407
p49560
stp49561
a((dp49562
g2
(lp49563
VFrom Wikipedia:
p49564
aVJavaBeans are reusable software
p49565
aVcomponents for Java that can be
p49566
aVmanipulated visually in a builder
p49567
aVtool
p49568
aVPractically, they are classes
p49569
aVwritten in the Java programming
p49570
aVlanguage conforming to a particular
p49571
aVconvention
p49572
aVThey are used to
p49573
aVencapsulate many objects into a single
p49574
aVobject (the bean), so that they can be
p49575
aVpassed around as a single bean object
p49576
aVinstead of as multiple individual
p49577
aVobjects
p49578
aVA JavaBean is a Java Object
p49579
aVthat is serializable, has a nullary
p49580
aVconstructor, and allows access to
p49581
aVproperties using getter and setter
p49582
aVmethods
p49583
as(dp49584
g16
V29407
p49585
stp49586
a((dp49587
g2
(lp49588
VI would recommend you to use the built-in Cache instead of reinventing the wheel
p49589
aVIt automatically takes care of situations like this: it will expire items based on their priority if memory starts to run low
p49590
aVIt is also very extensible and you can easily make it distributed with popular providers such as memcached
p49591
aVNote that  is only available in
p49592
aVNET 4
p49593
aV0 only
p49594
aVOther caches are available in earlier versions, such as Enterprise library, System
p49595
aVWeb
p49596
aVCaching, Velocity,
p49597
as(dp49598
g16
V29407
p49599
stp49600
a((dp49601
g2
(lp49602
VYou could use TestFixtureSetUp to prepare the fake data for each unit test:
p49603
aV[TestFixture]
p49604
as(dp49605
g16
V29407
p49606
stp49607
a((dp49608
g2
(lp49609
VXDocument has a Declaration, Root while XElement is a single node
p49610
as(dp49611
g16
V29407
p49612
stp49613
a((dp49614
g2
(lp49615
VYour question is pretty general and vague but here's a sample code and a followup you may start playing with
p49616
aVIf you encounter some specific problems implementing it don't hesitate to ask
p49617
as(dp49618
g16
V29407
p49619
stp49620
a((dp49621
g2
(lp49622
VIt is important to name the input fields properly inside the form
p49623
aVYou may take a look at the following blog post about how the default model binder expects request parameters to be named in the view
p49624
aVAnd here's another one
p49625
as(dp49626
g16
V29407
p49627
stp49628
a((dp49629
g2
(lp49630
VHere's an article explaining how this could be done using classes from the System
p49631
aVDirectoryServices namespace as well as the Microsoft
p49632
aVWeb
p49633
aVAdministration namespace which was introduced with IIS 7
p49634
as(dp49635
g16
V29407
p49636
stp49637
a((dp49638
g2
(lp49639
VYou don't need to use an asynchronous call for this
p49640
aVA simple controller action returning the image:
p49641
aVand then inject an  tag pointing to this controller action into the DOM:
p49642
aVwhich will perform an async request and show the image
p49643
as(dp49644
g16
V29407
p49645
stp49646
a((dp49647
g2
(lp49648
VYou need to make this image part of the web site in order to display it properly
p49649
aVYou need to use a relative URL:
p49650
aVThe image file cannot be located anywhere, when it is part of the web site a separate request is made to the server to fetch the image which is served by IIS
p49651
aVIf you want to use image files located in a folder outside of your site root you will need to write a generic handler which will read the image contents, stream it to the response with correct content-type and then point the  to this handler
p49652
as(dp49653
g16
V29407
p49654
stp49655
a((dp49656
g2
(lp49657
VYou could use the FileExists method on the IsolatedStorageFile class
p49658
as(dp49659
g16
V29407
p49660
stp49661
a((dp49662
g2
(lp49663
VYou could use the proper overload:
p49664
as(dp49665
g16
V29407
p49666
stp49667
a((dp49668
g2
(lp49669
VIs it possible/advisable to try and mock the date
p49670
aVYes, not only that it is advisable but it is the only way to reliably unit test your code in isolation
p49671
aVSuppose that you wanted to test the following (meaningless) method:
p49672
aVIt's more than obvious that you can't test it because it relies on a static method (the static Now property to be more precise)
p49673
aVIt's clear that components which are tightly coupled like this cannot be unit tested in isolation
p49674
aVNow consider this improvement (separation of concerns with constructor DI):
p49675
aVNow that's much better and easier to unit test
p49676
aVno longer depends on a non-deterministic date
p49677
aVIn the real application you would obviously instantiate  like this:
p49678
aVand in your unit test you will mock it so that you can verify both cases:
p49679
as(dp49680
g16
V29407
p49681
stp49682
a((dp49683
g2
(lp49684
VIf it is exactly the same project then obviously don't need to duplicate the  class, just use it as is in the view
p49685
aVBut in real life often views have specific requirements and it it a good practice to define view model classes in your MVC application
p49686
aVThe controller will then map between the model class and the view model to be passed to the view
p49687
as(dp49688
g16
V29407
p49689
stp49690
a((dp49691
g2
(lp49692
VYour input fields must have names:
p49693
aVAnd here's a working demo
p49694
as(dp49695
g16
V29407
p49696
stp49697
a((dp49698
g2
(lp49699
VThe correct signature of the BeginForm helper is this:
p49700
aVWhen you write  you are basically invoking this signature where the  parameter has nothing to do with  and which uses POST as default verb
p49701
as(dp49702
g16
V29407
p49703
stp49704
a((dp49705
g2
(lp49706
VYou could have a service layer between the controller and the repositories
p49707
aVThe repository performs simple CRUD operations with your model
p49708
aVA service method could make use of multiple simple repository calls to compose a business operation
p49709
aVThis business operation will be exposed to the controller
p49710
as(dp49711
g16
V29407
p49712
stp49713
a((dp49714
g2
(lp49715
VHere's an example:
p49716
aVModel:
p49717
aVController:
p49718
aVView:
p49719
as(dp49720
g16
V29407
p49721
stp49722
a((dp49723
g2
(lp49724
VAutoMapper
p49725
aVYou don't need to
p49726
aVThe mapper
p49727
aVExample:
p49728
as(dp49729
g16
V29407
p49730
stp49731
a((dp49732
g2
(lp49733
VIn order to show this data to the grid you must have fetched it from somewhere
p49734
aVSo why posting it
p49735
aVSimply send some  and re-fetch it from the same datasource
p49736
aVOn the other hand if your grid allows the user to modify the data, you would normally use an HTML  with input fields
p49737
aVAs far as binding is concerned here's a blog post which explains how the request parameters should be named in order to be able to successfully reconstruct the view model in the post action
p49738
as(dp49739
g16
V29407
p49740
stp49741
a((dp49742
g2
(lp49743
VTry encoding:
p49744
as(dp49745
g16
V29407
p49746
stp49747
a((dp49748
g2
(lp49749
VHere's an article that should put you on the right track
p49750
as(dp49751
g16
V29407
p49752
stp49753
a((dp49754
g2
(lp49755
VYou should perform step 2 on each request or store the user details into the UserData part of the authentication cookie
p49756
as(dp49757
g16
V29407
p49758
stp49759
a((dp49760
g2
(lp49761
VIf you have administrative privileges you can reset the password
p49762
as(dp49763
g16
V29407
p49764
stp49765
a((dp49766
g2
(lp49767
VYou will need to use a distributed cache
p49768
aVYou can find implementations for different caching providers such as memcached or Velocity
p49769
as(dp49770
g16
V29407
p49771
stp49772
a((dp49773
g2
(lp49774
VYou could use the async method BeginConnect in conjunction with EndConnect to avoid blocking the main thread
p49775
aVAs far as the timeout is concerned you may try to decrease its value
p49776
as(dp49777
g16
V29407
p49778
stp49779
a((dp49780
g2
(lp49781
VWhen does foo get it's value
p49782
aVWhen you first access the containing class and guaranteed to be executed only once and it will remain the same for the entire life of the AppDomain
p49783
aVYou may check the following article on MSDN about static field initialization:
p49784
aVThe static field variable initializers
p49785
aVof a class correspond to a sequence of
p49786
aVassignments that are executed in the
p49787
aVtextual order in which they appear in
p49788
aVthe class declaration
p49789
aVIf a static
p49790
aVconstructor (Section 10
p49791
aV11) exists in
p49792
aVthe class, execution of the static
p49793
aVfield initializers occurs immediately
p49794
aVprior to executing that static
p49795
aVconstructor
p49796
aVOtherwise, the static
p49797
aVfield initializers are executed at an
p49798
aVimplementation-dependent time prior to
p49799
aVthe first use of a static field of
p49800
aVthat class
p49801
as(dp49802
g16
V29407
p49803
stp49804
a((dp49805
g2
(lp49806
VModify the signature of the  method to this:
p49807
aVNotice the difference between this and this
p49808
aVIn your case (the one that doesn't work) you are calling the second overload taking objects but in your case you are not passing anonymous objects but a RouteValueDictionary which is treated as if it was an anonymous object and its public properties (Count, Keys, Values) are serialized as attributes
p49809
aVRemark: Your helper methods are not correct
p49810
aVThey return strings
p49811
aVThis is not how it is supposed to be
p49812
aVHelper methods should return MvcHtmlString
p49813
aVSo instead of
p49814
aVit should be:
p49815
as(dp49816
g16
V29407
p49817
stp49818
a((dp49819
g2
(lp49820
VPartial classes work only within the same assembly
p49821
aVSo you have two possibilities: define validation rules in the same assembly as your model classes or don't use DataAnnotations
p49822
aVAs an alternative you may take a look at FluentValidation allowing you to define validation rules in a separate assembly and which has a great integration with ASP
p49823
aVNET MVC as well
p49824
aVAs far as the views in your MVC project are concerned they should never work with your model classes
p49825
aVYou should define view model classes which are specifically tailored to the needs of each view
p49826
aVThe controller will then perform the mapping between the models and the view models
p49827
aVAutoMapper could be used to ease this task
p49828
aVSo basically all user input like required fields and datetime formats should be validated at the view model and business rules at the service layer
p49829
as(dp49830
g16
V29407
p49831
stp49832
a((dp49833
g2
(lp49834
VIf you downloaded the assembly from untrusted source Windows might have blocked it
p49835
aVTry unblocking NHibernate
p49836
aVdll:
p49837
as(dp49838
g16
V29407
p49839
stp49840
a((dp49841
g2
(lp49842
VIn fact I think there's a bug in the documentation
p49843
aVYou don't need to add it to the  section but to the  section as illustrated here:
p49844
as(dp49845
g16
V29407
p49846
stp49847
a((dp49848
g2
(lp49849
VYou could use an action filter:
p49850
aVAnd then decorate your controller with this attribute:
p49851
as(dp49852
g16
V29407
p49853
stp49854
a((dp49855
g2
(lp49856
VThere is a simple controller that a querystring is read in constructor of it
p49857
aVYou shouldn't be doing this and such controller shouldn't exist
p49858
aVThe controller context is not yet initialized in the constructor and it will fail not only for the unit test but in real
p49859
aVYou should use the Initialize method where you have access to the request context
p49860
as(dp49861
g16
V29407
p49862
stp49863
a((dp49864
g2
(lp49865
VYou didn't show how is the string encrypted, whether you are using the same keys and IV, etc
p49866
aVHere's a full working example you could adapt to your scenario:
p49867
as(dp49868
g16
V29407
p49869
stp49870
a((dp49871
g2
(lp49872
Vabstract means that a derived class is forced to implement it while with virtual this is not the case (it can but it is not required)
p49873
aVThis stems from the fact that an abstract method has no associated body while a virtual method does
p49874
as(dp49875
g16
V29407
p49876
stp49877
a((dp49878
g2
(lp49879
VAdd Item:
p49880
as(dp49881
g16
V29407
p49882
stp49883
a((dp49884
g2
(lp49885
VRandom is a pseudo-random number generator and there's nothing preventing it from returning same result for multiple calls
p49886
aVAfter all there's a probability for this happening
p49887
aVNot to mention that according to the documentation:
p49888
aVAny instance members are not guaranteed to be thread safe
p49889
aVSo you shouldn't be calling the Next method at all from multiple threads
p49890
as(dp49891
g16
V29407
p49892
stp49893
a((dp49894
g2
(lp49895
VYou can always do something like:
p49896
aVbut don't
p49897
aVNormally a view shouldn't try to fetch such information
p49898
aVIt is there to display whatever information is passed by the controller
p49899
aVIt should be strongly typed to a model class which is passed by a controller action
p49900
aVSo in the controller action rendering this view:
p49901
aVNow inside the view feel free to use this information:
p49902
as(dp49903
g16
V29407
p49904
stp49905
a((dp49906
g2
(lp49907
VYou don't really need dynamic
p49908
aVHere's an example
p49909
aVSuppose you had the following action which you would like to unit test:
p49910
aVand the corresponding test:
p49911
aVAlso you might find the following blog post useful
p49912
as(dp49913
g16
V29407
p49914
stp49915
a((dp49916
g2
(lp49917
VIf you want to send some data to a server side script your could use AJAX
p49918
aVjQuery has great support through , , , :
p49919
as(dp49920
g16
V29407
p49921
stp49922
a((dp49923
g2
(lp49924
VYou could store it in the ViewState
p49925
aVYou will then need to send the value of the ViewState hidden field along with your AJAX request
p49926
as(dp49927
g16
V29407
p49928
stp49929
a((dp49930
g2
(lp49931
VYou could use the setInterval javascript function which allows you to execute some code at regular intervals
p49932
aVThen you could send an AJAX request to the server to see if there are updates and refresh some portion of the page
p49933
aVHere's an example of how you could poll a server action for updates:
p49934
as(dp49935
g16
V29407
p49936
stp49937
a((dp49938
g2
(lp49939
VI think the problem here is that you are trying to submit two different forms to the same action
p49940
aVNormally when you have two forms you have two different associated view models containing the fields
p49941
aVSo I would recommend you having two different controller actions
p49942
as(dp49943
g16
V29407
p49944
stp49945
a((dp49946
g2
(lp49947
VYou could use
p49948
aVThe IsAjaxRequest is an extension method of the HttpRequestBase class
p49949
as(dp49950
g16
V29407
p49951
stp49952
a((dp49953
g2
(lp49954
VThere are two possibilities:
p49955
aVUse javascript
p49956
aVReload the page with additional query string containing the new value
p49957
aVExample with jquery:
p49958
aVand the script
p49959
as(dp49960
g16
V29407
p49961
stp49962
a((dp49963
g2
(lp49964
Vas i know, at this time visual studio must not make a new output file again
p49965
aVVisual Studio rebuilds the file even if there are no code changes
p49966
as(dp49967
g16
V29407
p49968
stp49969
a((dp49970
g2
(lp49971
VHow can I achieve the same in ASP
p49972
aVNET MVC 3
p49973
aVThe notion of databinding is not common for the MVC pattern
p49974
aVTo implement the navigation you could use Html
p49975
aVAction and Html
p49976
aVRenderAction
p49977
aVExample:
p49978
aVand then inside the layout:
p49979
aVThe index
p49980
aVcshtml could be a partial which implements the navigation
p49981
as(dp49982
g16
V29407
p49983
stp49984
a((dp49985
g2
(lp49986
VYou may take a look at AutoMapper
p49987
as(dp49988
g16
V29407
p49989
stp49990
a((dp49991
g2
(lp49992
VI don't see any  rule in your definition
p49993
aVTry:
p49994
aVAlso make sure that your server side script returns JSON content type with  or  value
p49995
aVFinally make sure that the username input has  as specified in the messages
p49996
as(dp49997
g16
V29407
p49998
stp49999
a((dp50000
g2
(lp50001
VYes it is possible
p50002
aVEverything you could do in WebForms could be done with MVC
p50003
aVAfter all ASP
p50004
aVNET MVC is based on the ASP
p50005
aVNET engine
p50006
as(dp50007
g16
V29407
p50008
stp50009
a((dp50010
g2
(lp50011
VPersonally I always put javascript in separate files
p50012
aVGlobal variables which depend on routing or some server side information inside the view
p50013
aVExactly as you do
p50014
aVAs an alternative to storing global variables you could use anchor or form elements which already contain the url and then ajaxify them
p50015
aVAs far as model values are concerned they could be stored also in DOM elements such as hidden fields, CSS classes, HTML5 data-* attributes,
p50016
aVbut this might not be applicable to all situations
p50017
as(dp50018
g16
V29407
p50019
stp50020
a((dp50021
g2
(lp50022
VTry like this:
p50023
aVAlso make sure that there's no some javascript that could interfere with the form submission sending an AJAX request and forgetting to include the values
p50024
aVAnd finally make sure that  is not empty
p50025
aVUse FireBug to see exactly what is the request being sent to the server
p50026
aVUPDATE:
p50027
aVAccording to the specification:
p50028
aVIf the method is "get" and the action
p50029
aVis an HTTP URI, the user agent takes
p50030
aVthe value of action, appends a `
p50031
aVto
p50032
aVit, then appends the form data set,
p50033
aVencoded using the
p50034
aV"application/x-www-form-urlencoded"
p50035
aVcontent type
p50036
aVThis means that you should not use query string parameter in the form action with GET method
p50037
aVYou need to use hidden fields inside the form to pass those values to the server
p50038
as(dp50039
g16
V29407
p50040
stp50041
a((dp50042
g2
(lp50043
VYou could test the current controller and action
p50044
aVAnd to avoid this ugliness write a helper:
p50045
aVand then:
p50046
as(dp50047
g16
V29407
p50048
stp50049
a((dp50050
g2
(lp50051
VYou are doing nothing in the catch block, just swallowing the exception which is very bad
p50052
aVThe code continues to execute and you try to use the doc variable but because the
p50053
aVOCR call has failed it is more than possible that another exception is thrown later
p50054
aVFor example  will probably crash if the OCR has failed
p50055
aVSo either terminate the execution of the method by returning something or put the entire method in a try/catch block
p50056
as(dp50057
g16
V29407
p50058
stp50059
a((dp50060
g2
(lp50061
VWithout any hesitation FireBug is the best tool for web developers
p50062
as(dp50063
g16
V29407
p50064
stp50065
a((dp50066
g2
(lp50067
V represents the current request absolute path, so if  equals  which represents the site root and the current request is  then  will return
p50068
as(dp50069
g16
V29407
p50070
stp50071
a((dp50072
g2
(lp50073
VNo, there isn't
p50074
aVAttributes are baked into the metadata of the resulting assembly and all values should be known at compile time
p50075
aVYou can pass only constant values as attribute properties
p50076
aVAnd that's
p50077
aVNET limitation, not MVC
p50078
as(dp50079
g16
V29407
p50080
stp50081
a((dp50082
g2
(lp50083
VHow about using plain HTML:
p50084
as(dp50085
g16
V29407
p50086
stp50087
a((dp50088
g2
(lp50089
VYou may take a look at the following blog post which illustrates how you could implement a legacy route handler which will perform 301 permanent redirects
p50090
as(dp50091
g16
V29407
p50092
stp50093
a((dp50094
g2
(lp50095
VYou could use the  class which is part of MVCContrib like this:
p50096
aVand inside your view:
p50097
as(dp50098
g16
V29407
p50099
stp50100
a((dp50101
g2
(lp50102
VI put scripts and styles which are used on every page in the master and then leave a content placeholder so that every page has the possibility to include required scripts and styles
p50103
aVExactly as you do
p50104
as(dp50105
g16
V29407
p50106
stp50107
a((dp50108
g2
(lp50109
VYou could use forms authentication
p50110
aVThis way when the user authenticates an encrypted cookie will be emitted which will contain his username which cannot be tampered with
p50111
aVThen you could verify whether the currently connected user has authorizations to edit this article
p50112
as(dp50113
g16
V29407
p50114
stp50115
a((dp50116
g2
(lp50117
VAn action which returns JSON needs to be invoked using AJAX
p50118
aVIf you simply put a link in your page pointing to this action because the server returns JSON the browser doesn't know what to do with it
p50119
aVSo for example if you are using jquery you could use the  method to call this action:
p50120
aVThere are two other cases I can think of when the scenario you are describing could occur:
p50121
aVYou have AJAXified a link pointing to this controller action but you have a javascript error and the browser simply follows the link sending a GET request
p50122
aVYou have AJAXified a link pointing to this controller action but you forgot to cancel the default action by returning false from your  callback and the browser simply follows the link sending a GET request
p50123
as(dp50124
g16
V29407
p50125
stp50126
a((dp50127
g2
(lp50128
VSteve Sanderson blogged about validation in this case
p50129
as(dp50130
g16
V29407
p50131
stp50132
a((dp50133
g2
(lp50134
VYes there is: it's called view models
p50135
aVView models are classes which are specifically tailored to the specific needs of a given view
p50136
aVSo instead of:
p50137
aVuse:
p50138
aVwhere the view model contains only the properties which need to be bound
p50139
aVThen you could map between the view model and the model
p50140
aVThis mapping could be simplified with AutoMapper
p50141
aVAs best practice I would recommend you to always use view models to and from a view
p50142
as(dp50143
g16
V29407
p50144
stp50145
a((dp50146
g2
(lp50147
VOne way to achieve this is to put the dropdownlist inside an AJAX form and replace the AJAX link with submit button
p50148
aVWhen the button is clicked it will submit the formed to the desired action using AJAX
p50149
as(dp50150
g16
V29407
p50151
stp50152
a((dp50153
g2
(lp50154
VNameValueCollection could take null key
p50155
as(dp50156
g16
V29407
p50157
stp50158
a((dp50159
g2
(lp50160
VYou don't need to use IntPtr as argument
p50161
aVYou could directly use integer values when defining the method signature:
p50162
aVAnd then directly invoke the function:
p50163
as(dp50164
g16
V29407
p50165
stp50166
a((dp50167
g2
(lp50168
VOf course that you can write COM+ objects with C++
p50169
aVHere's a tutorial
p50170
as(dp50171
g16
V29407
p50172
stp50173
a((dp50174
g2
(lp50175
VHere's a  using the  function:
p50176
as(dp50177
g16
V29407
p50178
stp50179
a((dp50180
g2
(lp50181
VYou could use AJAX:
p50182
as(dp50183
g16
V29407
p50184
stp50185
a((dp50186
g2
(lp50187
VTry providing a default value for  if it is null:
p50188
as(dp50189
g16
V29407
p50190
stp50191
a((dp50192
g2
(lp50193
VSimply put: you can't using the plain html and javascript
p50194
aVThe closest you can get is to test the file extension using javascript before submitting the form and show some error message to the user if it is other than
p50195
aVYou might need to use some client side solution such as Flash upload controls if you want to achieve this
p50196
as(dp50197
g16
V29407
p50198
stp50199
a((dp50200
g2
(lp50201
VTry like this:
p50202
as(dp50203
g16
V29407
p50204
stp50205
a((dp50206
g2
(lp50207
VWhy is the TinyBlogEngine engine needed
p50208
aVsimply contains the WCF web service code which you could replace with any implementation you like (blog or whatever)
p50209
aVThis could be an existing web service you already have
p50210
aVis what enables a XML RPC binding to an existing WCF service
p50211
aVYou just need to have this  I've shown in the post if you want to be able to configure the RPC binding via web
p50212
aVconfig
p50213
as(dp50214
g16
V29407
p50215
stp50216
a((dp50217
g2
(lp50218
VYou have a typo in your contentType parameter which might prevent it from properly setting
p50219
aVIt should be  and not
p50220
as(dp50221
g16
V29407
p50222
stp50223
a((dp50224
g2
(lp50225
VThis will depend on how is the session handled on the server side
p50226
aVIf it uses sliding expiration you could include some javascript on each page which will send a dummy AJAX request to the server at regular intervals to keep the session alive
p50227
aVIf you want to keep the session even if the browser is closed then you need to use persistent cookies which are stored on the user computer rather than HTTP only cookies
p50228
as(dp50229
g16
V29407
p50230
stp50231
a((dp50232
g2
(lp50233
VHere's a tutorial you might find useful
p50234
as(dp50235
g16
V29407
p50236
stp50237
a((dp50238
g2
(lp50239
VConnection and network problems could result in such problems
p50240
aVTo avoid blocking scraping of other urls you could parallelize the work into separate threads
p50241
as(dp50242
g16
V29407
p50243
stp50244
a((dp50245
g2
(lp50246
VIt is an algorithm implementation detail related to choosing a good hashing function and which provides uniform distribution
p50247
aVA non-uniform distribution increases the number of collisions, and the cost of resolving them
p50248
as(dp50249
g16
V29407
p50250
stp50251
a((dp50252
g2
(lp50253
VYou can store whatever objects you like under a session key, not only scalar values
p50254
aVSo simply define a custom type containing all the values you would like to store, create an instance of this type and put it into the session
p50255
as(dp50256
g16
V29407
p50257
stp50258
a((dp50259
g2
(lp50260
VI would recommend you writing a separate function for retrieving values from the database
p50261
aVAlso you should use parametrized queries to avoid SQL injection:
p50262
aVand then call the function like this:
p50263
as(dp50264
g16
V29407
p50265
stp50266
a((dp50267
g2
(lp50268
VYou could try using the  attribute to specify the name:
p50269
as(dp50270
g16
V29407
p50271
stp50272
a((dp50273
g2
(lp50274
VThe following works fine for me:
p50275
aVModel:
p50276
aVController:
p50277
aVView:
p50278
as(dp50279
g16
V29407
p50280
stp50281
a((dp50282
g2
(lp50283
VIf the assemblies are implicitly referenced (required by assemblies you have referenced) they should be automatically copied to the output path
p50284
aVIf there are assemblies which you are dynamically loading with reflection like form example some plugins you will need to copy them manually to the  folder
p50285
aVA post-buid event seems like a good approach
p50286
as(dp50287
g16
V29407
p50288
stp50289
a((dp50290
g2
(lp50291
VAll delegates inherit from the System
p50292
aVDelegate type which hold a Target and Method
p50293
aVMore precisely they inherit from System
p50294
aVMultiCastDelegate which inherits from
p50295
as(dp50296
g16
V29407
p50297
stp50298
a((dp50299
g2
(lp50300
VBrowsers automatically cache static resources such as javascript files
p50301
aVSo if you have a reference to jquery on your home page and then reference it all over the other pages the browser won't fetch it from the server for child pages
p50302
aVIt will fetch it from the cache
p50303
aVAlso if the static resource is in the cache it might not even fetch it for the home page
p50304
aVThat's one of the reasons why people use Content Delivery Networks for common files such as jquery
p50305
aVSo basically you shouldn't worry too much about this: simply include jquery on all pages that require it and let the client browser handle the caching
p50306
as(dp50307
g16
V29407
p50308
stp50309
a((dp50310
g2
(lp50311
VPersonally I use MVC Futures helpers to avoid magic strings in views hoping that some day Microsoft will find some time to incorporate them into the framework
p50312
as(dp50313
g16
V29407
p50314
stp50315
a((dp50316
g2
(lp50317
VThe problem of different ids generated by editor templates based on the context could be solved by using CSS class selectors instead of id selectors
p50318
as(dp50319
g16
V29407
p50320
stp50321
a((dp50322
g2
(lp50323
VOptions 1 and 2 are identical in terms of performance because the Last extension method checks whether the underlying enmerable has an indexer and if it does it simply returns the last element
p50324
aVAs far as option 3 is concerned you will need to measure it with the other two but I suspect there will be a negligible difference
p50325
as(dp50326
g16
V29407
p50327
stp50328
a((dp50329
g2
(lp50330
VYou could use child actions along with the Html
p50331
aVAction and Html
p50332
aVRenderAction helpers
p50333
aVSo you could have a controller action which returns a view model indicating the currently logged in user info:
p50334
aVand have a corresponding strongly typed partial view which will render or not the menus
p50335
aVAnd finally inside the master page include the menus:
p50336
aVThis way you could have a completely separate view model, repository and controller for the menu
p50337
aVYou could still use constructor injection for this controller and everything stays strongly typed
p50338
aVOf course there will be a completely different view model for the main controller based on the current page
p50339
aVYou don't need to have base controllers or some base view model that all your action should return
p50340
as(dp50341
g16
V29407
p50342
stp50343
a((dp50344
g2
(lp50345
VWhen you write  no HTML is generated which is a bit strange but this is how this helper is implemented
p50346
aVthe following HTML will be generated:
p50347
aVNotice that there is no id
p50348
aVSo you cannot reference the label with
p50349
aVYou need to use the following:
p50350
as(dp50351
g16
V29407
p50352
stp50353
a((dp50354
g2
(lp50355
VRoute data is automatically preserved
p50356
aVSuppose that you have the following route:
p50357
aVNow you request  and inside the view you write a link to :
p50358
aVThe following url will be generated:
p50359
aVRoute values are preserved
p50360
as(dp50361
g16
V29407
p50362
stp50363
a((dp50364
g2
(lp50365
VThere are two possibilities:
p50366
aVWhen the button is clicked send an AJAX to call a controller action which will return a partial view containing a new  which upon success will be injected into the DOM
p50367
aVDirectly inject into the DOM a new  when the button is clicked
p50368
aVHere's an example
p50369
aVSuppose that you have the following markup:
p50370
aVand then using jquery:
p50371
as(dp50372
g16
V29407
p50373
stp50374
a((dp50375
g2
(lp50376
VThe code looks fine and when I tested it locally it worked
p50377
aVMake sure that  points to a directory where the current user has write permissions
p50378
aVAs a side note it would be better to use Path
p50379
aVCombine
p50380
as(dp50381
g16
V29407
p50382
stp50383
a((dp50384
g2
(lp50385
VYou may take a look at Quartz
p50386
aVNET
p50387
as(dp50388
g16
V29407
p50389
stp50390
a((dp50391
g2
(lp50392
VThe  methods built into the framework are typical examples
p50393
aVThey use  instead of  but it is the same semantics, it's just that the caller doesn't need to initialize the value
p50394
aVExample:
p50395
aVAs you can see the function returns a boolean indicating whether the operation succeeds but the actual result is returned as  parameter
p50396
as(dp50397
g16
V29407
p50398
stp50399
a((dp50400
g2
(lp50401
VIn RESTful applications I tend to create as many controllers as I have identified resources in my application
p50402
aVSo for example if you are developing a blog you could have a UsersController, PostsController, CommentsController each corresponding to the Users, Posts and Comments resources with their respective actions
p50403
aVEven if you have a single action inside the controller it is a good practice to have separate controller if it is representing a separate resource
p50404
aVSo try to group your controllers and actions functionally and don't just dump everything into a single huge and unmaintainable controller just because you didn't want to create a separate one which is a matter of right clicking on the Controllers folder and choose Add Controller
p50405
as(dp50406
g16
V29407
p50407
stp50408
a((dp50409
g2
(lp50410
VIn IIS Manager you could connect a remote server and manage it locally
p50411
as(dp50412
g16
V29407
p50413
stp50414
a((dp50415
g2
(lp50416
VNo pros, only cons for all those approaches
p50417
aVThe best approach is a combination of 4 and 5
p50418
aVIt is called view models
p50419
aVSo create a view model for each view which contains only the fields this view needs and map between your model and the view model
p50420
aVThis mapping could be facilitated with a tool like AutoMapper
p50421
as(dp50422
g16
V29407
p50423
stp50424
a((dp50425
g2
(lp50426
VI would recommend you rewriting your method like this:
p50427
as(dp50428
g16
V29407
p50429
stp50430
a((dp50431
g2
(lp50432
VInstead of passing employees you could POST a list of selected employee ids to the details controller and then fetch the corresponding details from your repository
p50433
as(dp50434
g16
V29407
p50435
stp50436
a((dp50437
g2
(lp50438
VYou could do it like this:
p50439
aVAnd then:
p50440
as(dp50441
g16
V29407
p50442
stp50443
a((dp50444
g2
(lp50445
VYou could place the  inside the AJAX success callback after updating the DOM with the new HTML or use the  method:
p50446
as(dp50447
g16
V29407
p50448
stp50449
a((dp50450
g2
(lp50451
VYour code is fine except that you should clear the timeout before setting it to null or it might leak:
p50452
aVAs an alternative you could use mousemove/mousestop in conjunction with window
p50453
aVsetInterval
p50454
as(dp50455
g16
V29407
p50456
stp50457
a((dp50458
g2
(lp50459
VBecause you can rebuild them from the source
p50460
aVOn the hand if you are talking about third-party JAR files which are required by your project then it is a good idea to commit them into the repository so that the project is self-contained
p50461
as(dp50462
g16
V29407
p50463
stp50464
a((dp50465
g2
(lp50466
VI would start by designing a view model for this scenario:
p50467
aVThen a roles controller:
p50468
aVthen the Edit view ():
p50469
aVand finally the corresponding editor template ():
p50470
as(dp50471
g16
V29407
p50472
stp50473
a((dp50474
g2
(lp50475
VDon't use  nor  nor  when dealing with urls
p50476
aVSimply leave all encoding to jquery:
p50477
aVRemark: using AJAX with  makes very little sense and should be avoided
p50478
as(dp50479
g16
V29407
p50480
stp50481
a((dp50482
g2
(lp50483
VA good place to start is download and install FireBug and see what gets posted from the client to the server
p50484
aVThen you will see what's missing, incorrect,
p50485
aVBlog posts such as Model Binding to a List are good reads as well to get acquainted with the proper syntax that the default model binder uses
p50486
as(dp50487
g16
V29407
p50488
stp50489
a((dp50490
g2
(lp50491
VI would apply the following simplification to your code:
p50492
as(dp50493
g16
V29407
p50494
stp50495
a((dp50496
g2
(lp50497
VActually as it is complicated to mix C# and C++ on unix, I am trying to convert C# to C++
p50498
aVHave you considered Mono
p50499
aVIt is something that's definitely worth checking before starting to learn C++ in order convert and run an existing
p50500
aVNET application on Unix
p50501
aVIt's also binary compatible meaning that you don't even need to recompile your existing assembly
p50502
as(dp50503
g16
V29407
p50504
stp50505
a((dp50506
g2
(lp50507
VYou could use the ActionName attribuite:
p50508
aVor a more classic pattern:
p50509
as(dp50510
g16
V29407
p50511
stp50512
a((dp50513
g2
(lp50514
VIt's because in C# it is forbidden to have two methods with the same name and parameter types
p50515
aVThis has nothing to do with ASP
p50516
aVNET MVC
p50517
aVYou should rename one of the two  actions that could be invoked by GET
p50518
aVYou cannot have two action names with the same name which can be invoked with the same verb (in your case GET)
p50519
aVYou need to either rename one of them or use another HTTP verb as you did with your POST action
p50520
aVUPDATE:
p50521
aVYou could try introducing the HTTP verb in the custom action selector attribute:
p50522
aVbut quite frankly I wouldn't use a custom action selector to validate whether are request parameter is present or not
p50523
aVRoute constraints or data annotations seem far more appropriate for this task
p50524
as(dp50525
g16
V29407
p50526
stp50527
a((dp50528
g2
(lp50529
VYou could pass the URL as parameter from the server to the client
p50530
as(dp50531
g16
V29407
p50532
stp50533
a((dp50534
g2
(lp50535
VIt depends on where you are placing your scripts
p50536
aVIf you add a script tag just before the closing  you don't need to use it because the DOM will already be loaded
p50537
aVOn the other hand if you place your script tag inside the  section and access the DOM you absolutely need to use it or your script won't work because at the moment your script executes the browser hasn't yet read and parsed the DOM
p50538
as(dp50539
g16
V29407
p50540
stp50541
a((dp50542
g2
(lp50543
VI would start by introducing a proper view model for the scenario:
p50544
aVThen the controller:
p50545
aVand the corresponding view ():
p50546
aVand finally the editor template ()
p50547
aVNow the view code is cleaned as it should
p50548
aVNo ifs, no loops, no LINQ, no reflection, this is the responsibility of the controller/mapper layer
p50549
aVSo every time you find yourself writing some advanced C# logic in your view I would recommend you rethinking your view models and adapt them as necessary
p50550
aVThat's what view models are intended for: to be as close as possible to the view logic
p50551
as(dp50552
g16
V29407
p50553
stp50554
a((dp50555
g2
(lp50556
VYou need to specify the prefix:
p50557
as(dp50558
g16
V29407
p50559
stp50560
a((dp50561
g2
(lp50562
VThere's no reliable way to do this over the public WWW
p50563
aVIf you have control over the clients using your application you could write a WinForms application using the WebBrowser control to host it and then you can control which keys are enabled
p50564
as(dp50565
g16
V29407
p50566
stp50567
a((dp50568
g2
(lp50569
VThis could happen if you violate the same origin policy restriction
p50570
aVThe  request header makes me think this is the case
p50571
aVI see that you specify a full address  in your post request
p50572
aVMake sure that the page hosting this script is originating from  as well
p50573
aVThe best would be to use a relative address:
p50574
as(dp50575
g16
V29407
p50576
stp50577
a((dp50578
g2
(lp50579
VYou can't have two actions with the same name and the same HTTP verb and routes cannot help you here
p50580
aVYou need to specify a different verb:
p50581
as(dp50582
g16
V29407
p50583
stp50584
a((dp50585
g2
(lp50586
VThe parameter name should be , not :
p50587
aVwhich will successfully call the following controller action and the action parameter will be properly bound:
p50588
aVwith the model below:
p50589
as(dp50590
g16
V29407
p50591
stp50592
a((dp50593
g2
(lp50594
VYou could use  to execute some other server side page without changing the address on the client and without an additional redirect which is what  does
p50595
as(dp50596
g16
V29407
p50597
stp50598
a((dp50599
g2
(lp50600
VOf course:
p50601
aVor if you prefer to use CSS:
p50602
aVand then in a separate CSS file define the background images
p50603
aVUPDATE:
p50604
aVFor background images to be applied your span elements need to have some content
p50605
aVSo try adding a space:
p50606
as(dp50607
g16
V29407
p50608
stp50609
a((dp50610
g2
(lp50611
VWell you have different possibilities: Windows Scheduler with an executable is a good one
p50612
aVAnother possibility is to write a Windows Service which will execute the task in the background
p50613
aVQuartz
p50614
aVNET is a good framework for this but the Windows Scheduler might be sufficient for your scenario
p50615
aVOne thing is for sure: it is be better to perform these tasks outside of your ASP
p50616
aVNET application
p50617
as(dp50618
g16
V29407
p50619
stp50620
a((dp50621
g2
(lp50622
s(dp50623
g16
V29407
p50624
stp50625
a((dp50626
g2
(lp50627
VInstead of hardcoding urls I would recommend you using HTML helpers:
p50628
aVThis will generate proper relative URLs no matter whether you are running on development or production server inside virtual directories, etc
p50629
as(dp50630
g16
V29407
p50631
stp50632
a((dp50633
g2
(lp50634
VThe proper way to do this is to use view models instead of your models to and from the views
p50635
aVView models are classes which are specifically tailored to the needs of a given view: they contain only the properties required for the view and the validation attributes in the context of the given view
p50636
aVThus you might have multiple view models for the same model
p50637
aVTo map between the model and the view models you could use AutoMapper
p50638
as(dp50639
g16
V29407
p50640
stp50641
a((dp50642
g2
(lp50643
VYou might need to recompile the project because views are embedded into the resulting assembly at compile time
p50644
aVIf you simply change the ASCX file without recompiling changes won't take effect if you simply refresh your browser
p50645
as(dp50646
g16
V29407
p50647
stp50648
a((dp50649
g2
(lp50650
VYou could have a method in your separate class which returns the cookie so that the only thing the controller has to do is add the cookie to the response
p50651
aVIMO cookie management (adding/deleting) is the responsibility of the controller:
p50652
as(dp50653
g16
V29407
p50654
stp50655
a((dp50656
g2
(lp50657
VYou might want to validate that the user has selected the checkbox
p50658
aVFor example that he has accepted the terms and conditions
p50659
as(dp50660
g16
V29407
p50661
stp50662
a((dp50663
g2
(lp50664
VYou may take a look at AutoMapper
p50665
as(dp50666
g16
V29407
p50667
stp50668
a((dp50669
g2
(lp50670
VIf you are running on ASP
p50671
aVNET 4
p50672
aV0 you could use static or predictable ids
p50673
aVIf not you could append a CSS class to your control and use CSS class selector in jQuery instead of id selector
p50674
as(dp50675
g16
V29407
p50676
stp50677
a((dp50678
g2
(lp50679
Vor:
p50680
as(dp50681
g16
V29407
p50682
stp50683
a((dp50684
g2
(lp50685
VWhat you are trying to do is impossible
p50686
aVEverything that follows the # (hash) sign in the URL is completely ignored when the browser sends a request to the server, so your ASP
p50687
aVNET MVC application could never get this value
p50688
aVOnly client side javascript could read this value (using ) and could pass it to the server using AJAX request and a normal URL (for example: )
p50689
as(dp50690
g16
V29407
p50691
stp50692
a((dp50693
g2
(lp50694
VYou could override the IsValid method and ensure that the collection contains at least  items with  equal to  (I suppose that this  class of yours has an  property):
p50695
as(dp50696
g16
V29407
p50697
stp50698
a((dp50699
g2
(lp50700
VNo, you cannot test views like this
p50701
aVThe closest you might get is to render the view into a stream writer and then test the generated HTML
p50702
aVIt is not something that is commonly done in unit tests
p50703
aVI would recommend you performing web tests in order to verify that the views are correct
p50704
aVYou could create web tests with Visual Studio or there's also the free Selenium framework
p50705
as(dp50706
g16
V29407
p50707
stp50708
a((dp50709
g2
(lp50710
VYou could use Fiddler
p50711
as(dp50712
g16
V29407
p50713
stp50714
a((dp50715
g2
(lp50716
VThe  tag should be used in the master page
p50717
aVIn the content pages you need to use
p50718
aVBut with  you cannot use them, it simply inserts a partial ASCX page at the indicated location
p50719
aVSo here are three common ways to compose layouts:  with  tags,  and Html
p50720
aVRenderAction/Html
p50721
aVAction helpers
p50722
as(dp50723
g16
V29407
p50724
stp50725
a((dp50726
g2
(lp50727
VIOC is a design pattern introduced by Martin Fowler which allows for weaker coupling between different parts of your code
p50728
aVSo for example in an ASP
p50729
aVNET MVC application you could use IOC to decouple your controllers logic from the data access logic
p50730
aVThe idea behind is that the controller doesn't work with a specific implementation of a repository but uses an interface
p50731
aVIt is the responsibility of the code that instantiates the controller to provide a specific implementation: thus the term inversion of control - it is not the component that controls its dependencies, it is the consumer of the control
p50732
aVSo imagine you have defined the following contract:
p50733
aVAnd then you could have a controller which depends on this contract:
p50734
aVAs you can see the  is completely decoupled from the way users are fetched
p50735
aVIt uses a contract and it is the responsibility of the code instantiating this controller to provide a specific implementation of the repository
p50736
aVIn the case of ASP
p50737
aVNET MVC this code is the controller factory
p50738
aVThe default controller factory built into ASP
p50739
aVNET MVC uses reflection to call the default constructor of the matching controller
p50740
aVIn this case there is no default constructor
p50741
aVSo you need a custom controller factory
p50742
aVThis is where Castle Windsor comes into action
p50743
aVNow that your controller is decoupled from a specific implementation of the repository you get another very important benefit: you can unit test it in isolation, without depending on anything
p50744
aVYou could simply mock/substitute this repository and unit test only the controller logic
p50745
as(dp50746
g16
V29407
p50747
stp50748
a((dp50749
g2
(lp50750
VYour file input is called  so the same should be your action argument:
p50751
aVAlso you are using a wrong overload of the BeginForm method
p50752
aVIt should be this one:
p50753
aVNotice how the arguments are inverted
p50754
aVYou might also checkout this blog post from Phil Haack
p50755
as(dp50756
g16
V29407
p50757
stp50758
a((dp50759
g2
(lp50760
VYou could use AJAX to send a request to the server with javascript
p50761
aVjQuery has great methods for doing so such as , ,
p50762
aVExample:
p50763
as(dp50764
g16
V29407
p50765
stp50766
a((dp50767
g2
(lp50768
VWhile I cannot say why this attribute is considered invalid as a workaround you could add this attribute with javascript if you want your site to validate as XHTML Strict
p50769
as(dp50770
g16
V29407
p50771
stp50772
a((dp50773
g2
(lp50774
VYou could try passing it as command argument:
p50775
aVand in the code behind:
p50776
as(dp50777
g16
V29407
p50778
stp50779
a((dp50780
g2
(lp50781
VThose are two completely different technologies and could be used together: with AJAX the request is initiated by the client, while with WebSockets the request is initiated by the server in order to push some data to the client
p50782
as(dp50783
g16
V29407
p50784
stp50785
a((dp50786
g2
(lp50787
VYou could try this regex:
p50788
as(dp50789
g16
V29407
p50790
stp50791
a((dp50792
g2
(lp50793
VYou may take a look at those plugins if you are using jquery
p50794
aVjQuery UI Dialog is very good
p50795
as(dp50796
g16
V29407
p50797
stp50798
a((dp50799
g2
(lp50800
VDue to same origin policy restriction you cannot send AJAX requests cross domain
p50801
aVHere you are trying to send an AJAX request to  and unless your site is hosted on  this won't work
p50802
aVTo try to workaround this restriction you could write a server script on your server which will serve as a bridge between your domain and google
p50803
aVcom
p50804
aVThen you could send the AJAX request to your script which will delegate
p50805
as(dp50806
g16
V29407
p50807
stp50808
a((dp50809
g2
(lp50810
VRazor is still in beta so I would be surprised if there are any plugins available yet
p50811
as(dp50812
g16
V29407
p50813
stp50814
a((dp50815
g2
(lp50816
s(dp50817
g16
V29407
p50818
stp50819
a((dp50820
g2
(lp50821
VAnd then:
p50822
as(dp50823
g16
V29407
p50824
stp50825
a((dp50826
g2
(lp50827
VYou can't
p50828
aVIn
p50829
aVNET attributes can use only constant values
p50830
aVOn the other hand you could write a custom authorize attribute deriving from the standard one and in the AuthorizeCore method implement this logic
p50831
as(dp50832
g16
V29407
p50833
stp50834
a((dp50835
g2
(lp50836
VGiven the following route definition:
p50837
aVif you call  in the absence of a  you will get a 404 exception
p50838
as(dp50839
g16
V29407
p50840
stp50841
a((dp50842
g2
(lp50843
VHow about this:
p50844
aVAnd then:
p50845
aVAnd in your POST action
p50846
aVAnd now you no longer need to manually add the  item
p50847
aVJust use the proper DropDownListFor overload
p50848
as(dp50849
g16
V29407
p50850
stp50851
a((dp50852
g2
(lp50853
VAs usual you start with a model:
p50854
aVThen a repository which will define the operations on this model:
p50855
aVNext you could implement it:
p50856
aVObviously depending on the data access technology and database type you are using this implementation will vary
p50857
aVIn my example I am using an in-memory database
p50858
aVThen a controller:
p50859
aVAnd finally we could define the corresponding views:
p50860
aVFirst we should include jquery into the  section of the layout:
p50861
aVThen the index view () could contain a button which will load the  action using an AJAX call and a content placeholder where the results will be shown:
p50862
aVand the last part will be the List view ():
p50863
aVand the corresponding display template which will be rendered for each person into the collection ():
p50864
as(dp50865
g16
V29407
p50866
stp50867
a((dp50868
g2
(lp50869
VTwo possibilities:
p50870
aVplace the textbox inside a  with
p50871
aVuse javascript to read the value and pass it to the server (with AJAX or  to perform a redirect)
p50872
aVExample with a :
p50873
aVExample with javascript:
p50874
aVand then in a separate js file:
p50875
as(dp50876
g16
V29407
p50877
stp50878
a((dp50879
g2
(lp50880
VAs usual you could start by defining a view model:
p50881
aVThen a controller:
p50882
aVand a corresponding view for the index action:
p50883
aVAnd finally inside your  you could use this controller:
p50884
aVand attach a corresponding script which would send an AJAX request when the value changes:
p50885
as(dp50886
g16
V29407
p50887
stp50888
a((dp50889
g2
(lp50890
VIn ASP
p50891
aVNET MVC 3 RC2:
p50892
aVGET: Response: hello, id: 7
p50893
aVPOST: Response: hello, id: 3
p50894
aVAnd here's the test view:
p50895
aVSo here is the evaluation precedence order:
p50896
aVPOST body parameter
p50897
aVRoute
p50898
aVQuery string parameter
p50899
aVAnd by the way the exact same result is obtained with ASP
p50900
aVNET MVC 2
p50901
ag2721
as(dp50902
g16
V29407
p50903
stp50904
a((dp50905
g2
(lp50906
VThis kind of validation should be performed by the business layer
p50907
aVFor example:
p50908
as(dp50909
g16
V29407
p50910
stp50911
a((dp50912
g2
(lp50913
VHave you tried:
p50914
as(dp50915
g16
V29407
p50916
stp50917
a((dp50918
g2
(lp50919
VYou could write a helper:
p50920
aVand then:
p50921
as(dp50922
g16
V29407
p50923
stp50924
a((dp50925
g2
(lp50926
VYou could use the  function to customize how errors are shown:
p50927
aVYou can see it in action here
p50928
as(dp50929
g16
V29407
p50930
stp50931
a((dp50932
g2
(lp50933
VYou should make sure that the application pool in the web server is configured to use the CLR 4
p50934
aV0:
p50935
as(dp50936
g16
V29407
p50937
stp50938
a((dp50939
g2
(lp50940
VYou could try using an editor template inside the main view which will be rendered for each item of the model (assuming your model is a collection)
p50941
aVEditor templates are more suitable for your scenario than display templates because you are rendering text boxes which allow for editing
p50942
aVSo it would be semantically more correct to use  rather than :
p50943
aVand then define an editor template for the view model ():
p50944
as(dp50945
g16
V29407
p50946
stp50947
a((dp50948
g2
(lp50949
VThere is no property that will allow you to determine whether the pageis accessed for the first time or not
p50950
aVOne way to handle this is to use a Session variable where you could store whether the user has already visited the first page
p50951
as(dp50952
g16
V29407
p50953
stp50954
a((dp50955
g2
(lp50956
VYou could use the Process
p50957
aVStart method which allows you to specify the user under which the process will run
p50958
as(dp50959
g16
V29407
p50960
stp50961
a((dp50962
g2
(lp50963
VYou could simply return the View in case of error
p50964
aVThis will preserve the context
p50965
aVAlso I would recommend you to use strongly typed views along with the strongly typed helpers
p50966
aVNotice how I used a  object directly as action parameter
p50967
aVThis is equivalent to the code you have written in which you were manually extracting and building this object
p50968
aVThe model binder does this job automatically for you
p50969
as(dp50970
g16
V29407
p50971
stp50972
a((dp50973
g2
(lp50974
VOne way to achieve this would be to authenticate the users on the distant domain which is supposed to send the request
p50975
aVSo for example the server on the distant domain could emit some encrypted value to authenticated users
p50976
aVThen when sending the JSONP request you would send this token to the web service which would decrypt it
p50977
aVThe idea is that both servers should share some common secret to encrypt/decrypt this token
p50978
aVThis way you can ensure that the request came from the other server
p50979
as(dp50980
g16
V29407
p50981
stp50982
a((dp50983
g2
(lp50984
VSession values are stored on the server and it is impossible to read them with client side javascript
p50985
aVOne way to achieve this would be to expose some server side script or generic handler which would return the corresponding session value given a key and then use jQuery to send an AJAX request to this handler and read the value
p50986
aVYou should be aware that by doing this the user can read all his session values
p50987
aVBe warned that exposing the same script for writing session values could be catastrophic from security standpoint
p50988
aVHere's an example:
p50989
aVand then query it:
p50990
as(dp50991
g16
V29407
p50992
stp50993
a((dp50994
g2
(lp50995
VYou could specify the location of a view:
p50996
aVAs an alternative you could write a custom view engine in order to modify the default view location conventions
p50997
aVScott Hanselman wrote an excellent blog post about how this could be achieved
p50998
as(dp50999
g16
V29407
p51000
stp51001
a((dp51002
g2
(lp51003
VTry:
p51004
aVor you could use the  attribute on your view model:
p51005
aVand in your view simply:
p51006
as(dp51007
g16
V29407
p51008
stp51009
a((dp51010
g2
(lp51011
VWhy not simply returning objects and leaving the JSON serialization to the underlying infrastructure:
p51012
aVand in your web method:
p51013
as(dp51014
g16
V29407
p51015
stp51016
a((dp51017
g2
(lp51018
s(dp51019
g16
V29407
p51020
stp51021
a((dp51022
g2
(lp51023
VIf you want an immutable list you could use
p51024
as(dp51025
g16
V29407
p51026
stp51027
a((dp51028
g2
(lp51029
VThis definitely should work
p51030
aVHere's a demo
p51031
aVMake sure you have placed your code into a :
p51032
as(dp51033
g16
V29407
p51034
stp51035
a((dp51036
g2
(lp51037
VYou are not allowed to nest  elements
p51038
aVThis is invalid HTML and results in undefined behavior
p51039
aVYou should place the second form outside the first one
p51040
as(dp51041
g16
V29407
p51042
stp51043
a((dp51044
g2
(lp51045
VThat should work:
p51046
aVView Model:
p51047
aVController:
p51048
aVView:
p51049
aVOne thing that you could checkout and which could explain the behavior you are observing is inconsistency between client side culture and server side culture
p51050
aVSo for example if you have enabled client-side validation but the client culture uses  as decimal separator then  will fail client-side validation and if the server culture uses  as decimal separator then  would fail server side validation
p51051
aVSo both  and  are failing to validate but on different layers
p51052
aVIn order for the server to use the same culture as the client you could set the following the culture to  in your web
p51053
aVconfig:
p51054
as(dp51055
g16
V29407
p51056
stp51057
a((dp51058
g2
(lp51059
VYou could use a view model:
p51060
aVand then:
p51061
aVUPDATE:
p51062
aVAfter the hundreds of comments on my answer I feel in the necessity to provide a full working example:
p51063
aVAs usual start with a view model:
p51064
aVThen a controller:
p51065
aVand finally the view:
p51066
as(dp51067
g16
V29407
p51068
stp51069
a((dp51070
g2
(lp51071
VYou could write a custom helper:
p51072
aVand then:
p51073
aVUPDATE:
p51074
aVHere's how you could modify the HTML helper so that it renders a readonly checkbox instead of an empty string if the user has no permissions:
p51075
as(dp51076
g16
V29407
p51077
stp51078
a((dp51079
g2
(lp51080
VYou can't do this
p51081
aVGenerics ensure compile-time safety
p51082
aVYou cannot have compile time safety because you know the actual type only at runtime
p51083
as(dp51084
g16
V29407
p51085
stp51086
a((dp51087
g2
(lp51088
VYou use HTML helpers to encapsulate some small HTML fragments which are repeated all over your pages
p51089
aVAnd to avoid writing those HTML snippets all over again you use helpers
p51090
aVThey are very useful, especially when dealing with things like URLs because instead of hardcoding your links helpers take advantage of routing the definition on your server and by simply changing those routes the whole site URLs' change without ever touching any single HTML page
p51091
aVAnother scenario where HTML helpers are useful is for generating form input fields
p51092
aVIn this case they automatically could handle values when posting back and show associated validation messages
p51093
aVCan you imagine the spaghetti code you would have to write in your views if there weren't HTML helpers
p51094
as(dp51095
g16
V29407
p51096
stp51097
a((dp51098
g2
(lp51099
VI think you are mixing some notions here
p51100
aVASP
p51101
aVNET and ASP
p51102
aVNET MVC is not the same thing
p51103
aVFrom your code snippet I assume this is an ASP
p51104
aVNET MVC application (your view inherits from )
p51105
aVIn ASP
p51106
aVNET MVC application  and  and  are no longer used, you can forget about those and there are no page methods, there are controllers and actions
p51107
aVSo you could do the following in your view:
p51108
as(dp51109
g16
V29407
p51110
stp51111
a((dp51112
g2
(lp51113
VDon't confuse  with
p51114
aVYou probably want this overload:
p51115
as(dp51116
g16
V29407
p51117
stp51118
a((dp51119
g2
(lp51120
VYes you could use  on your form and this way all values will be sent along the POST body and not in the query string
p51121
aVExample:
p51122
aVAnd in your controller action you could either use a strongly typed view model to fetch those values back thanks to the default model binder (recommended):
p51123
aVor fetch them from the request:
p51124
as(dp51125
g16
V29407
p51126
stp51127
a((dp51128
g2
(lp51129
VI would recommend you filtering those character or you will have many headaches
p51130
aVHere's a function you might find interesting
p51131
as(dp51132
g16
V29407
p51133
stp51134
a((dp51135
g2
(lp51136
VHere's an example of a custom authorize attribute you could use:
p51137
aVand then decorate your controller action with this attribute:
p51138
aVThere's one caveat with this approach you should be aware of
p51139
aVIf the user is not authorized the server sends 200 status code which is not very SEO friendly
p51140
aVIt would be better to send 401 status code
p51141
aVThe problem is that if you are using Forms Authentication there's a custom module that gets appended to the ASP
p51142
aVNET execution pipeline and whenever the server sends 401 status code it is intercepted and automatically redirected to the login page
p51143
aVThis functionality is by design and is not bug in ASP
p51144
aVNET MVC
p51145
aVIt has always been like this
p51146
aVAnd as a matter of fact there is a way to workaround this unpleasant situation:
p51147
aVYou could modify the custom authorization filter like so:
p51148
aVand in Global
p51149
aVasax:
p51150
aVNow that's better
p51151
aVYou get 401 status code with a custom error page
p51152
aVNice
p51153
as(dp51154
g16
V29407
p51155
stp51156
a((dp51157
g2
(lp51158
VYou need to use a custom validate attribute and decorate your model with it, not individual properties:
p51159
aVand then decorate your model with it:
p51160
aVAs an alternative to data annotations to perform validation I would more than strongly recommend you FluentValidation
p51161
aVNET
p51162
aVIt also has great integration with ASP
p51163
aVNET MVC
p51164
as(dp51165
g16
V29407
p51166
stp51167
a((dp51168
g2
(lp51169
VTry ignoring them:
p51170
as(dp51171
g16
V29407
p51172
stp51173
a((dp51174
g2
(lp51175
VHow are Threads created and managed by the HttpApplication in ASP
p51176
aVNET
p51177
aVThey are drawn from a thread pool
p51178
aVThey are not created at each request
p51179
aVWhat determines if an HttpContext opens a new thread or uses an existing thread
p51180
aVNew threads are never created
p51181
aVThey are drawn from the pool and returned to it once the request has been serviced
p51182
aVHow can this be controlled
p51183
aVThis is something that ASP
p51184
aVNET does very well and not something you want to control but you if you really insist on here's an article which explains how you could use STA threads instead of MTA threads in ASP
p51185
aVNET
p51186
as(dp51187
g16
V29407
p51188
stp51189
a((dp51190
g2
(lp51191
VOne way would be to use TempData:
p51192
aVand inside the  action you could fetch this message from TempData and make use of it
p51193
aVFor example you could pass it as a property of your view model which will be passed to the view so that it can show it:
p51194
aVUPDATE:
p51195
aVExample:
p51196
aVand then:
p51197
aVand inside the strongly typed view:
p51198
as(dp51199
g16
V29407
p51200
stp51201
a((dp51202
g2
(lp51203
VYou could use client-side upload controls that support progress
p51204
aVHere's one
p51205
as(dp51206
g16
V29407
p51207
stp51208
a((dp51209
g2
(lp51210
VYes, it is
p51211
aVScott Gu blogged about it:
p51212
aVIn addition to supporting full page
p51213
aVoutput caching, ASP
p51214
aVNET MVC 3 also
p51215
aVsupports partial-page caching \u2013 which
p51216
aVallows you to cache a region of output
p51217
aVand re-use it across multiple requests
p51218
aVor controllers
p51219
aVThe [OutputCache]
p51220
aVbehavior for partial-page caching was
p51221
aVupdated with RC2 so that sub-content
p51222
aVcached entries are varied based on
p51223
aVinput parameters as opposed to the URL
p51224
aVstructure of the top-level request \u2013
p51225
aVwhich makes caching scenarios both
p51226
aVeasier and more powerful than the
p51227
aVbehavior in the previous RC
p51228
aVUPDATE:
p51229
aVOut of the box only donut hole caching is supported in ASP
p51230
aVNET MVC 3
p51231
aVThis allows you to cache a small portion of the page by using the  attribute on a child action
p51232
aVDonut caching which allows for excluding portions of a page that has been cached is not supported
p51233
aVdoesn't work since ASP
p51234
aVNET MVC 2
p51235
aVHere is a good article which explains the different caching options available in ASP
p51236
aVNET MVC 3
p51237
aVUPDATE 2:
p51238
aVHere's a great article which illustrates how donut caching could be enabled in ASP
p51239
aVNET MVC 3
p51240
as(dp51241
g16
V29407
p51242
stp51243
a((dp51244
g2
(lp51245
VYou could fetch the current controller and action from the route data:
p51246
as(dp51247
g16
V29407
p51248
stp51249
a((dp51250
g2
(lp51251
VI think that you need to put quotes around the second parameter if it is a string:
p51252
aVThis being said your parameters need to be properly encoded and I wouldn't pass them likse this
p51253
aVI would serialize them as JSON object to ensure that everything is OK
p51254
aVLike this:
p51255
aVand then the SelectBenefit function might look like this:
p51256
as(dp51257
g16
V29407
p51258
stp51259
a((dp51260
g2
(lp51261
VI would recommend you to use view models instead of ViewData
p51262
aVThis way your views will be strongly typed
p51263
aVFor example you could have the following view model:
p51264
aVand then in your controller:
p51265
aVand finally the strongly typed view:
p51266
as(dp51267
g16
V29407
p51268
stp51269
a((dp51270
g2
(lp51271
VTry enabling custom errors in your web
p51272
aVconfig:
p51273
aVThis will render the standard error view  and your custom header will be appended to the response
p51274
aVAlso you could use  instead of
p51275
aVIt points to the same object, it's just that it makes a little more sense
p51276
as(dp51277
g16
V29407
p51278
stp51279
a((dp51280
g2
(lp51281
VYou should never hardcode urls like this
p51282
aVAlways use URL helpers when dealing with urls:
p51283
as(dp51284
g16
V29407
p51285
stp51286
a((dp51287
g2
(lp51288
VXmlSerializer
p51289
as(dp51290
g16
V29407
p51291
stp51292
a((dp51293
g2
(lp51294
VDo I need to validate a Customer object in the CustomerService as well to check FirstName and LastName
p51295
aVThere might be different opinions on this matter and mine is that if you are creating a reusable service then it would be more correct to validate the Customer object at the service level
p51296
aVWould it be better to create a new validator class to validate the Customer class
p51297
aVOr should I share it
p51298
aVYou should create a new validator
p51299
aVRemember that  and  are two different classes
p51300
aVThe view model is specific to a given view and might contain a subset or a superset of properties of the model class
p51301
aVThe validation at the service layer should validate only business rules
p51302
aVIf you are using SQL server this validation could even be performed at the database level (by setting the length of the columns) and an exception will be thrown if some of those business rules is violated
p51303
as(dp51304
g16
V29407
p51305
stp51306
a((dp51307
g2
(lp51308
VHttpListener is a good place to start
p51309
as(dp51310
g16
V29407
p51311
stp51312
a((dp51313
g2
(lp51314
VWhy don't you send those requests from the server just before signing out
p51315
aVThere you have all the necessary context information from the client (like authentication cookies, etc
p51316
aVwhich could be delegated to the remote sites when performing the request
p51317
aVIf you don't care about the response you could fire those requests in separate threads to avoid blocking the client
p51318
as(dp51319
g16
V29407
p51320
stp51321
a((dp51322
g2
(lp51323
VI suspect that when you publish the site there is a virtual directory involved
p51324
aVSo  is no longer a correct url
p51325
aVTo avoid this you should never hardcode your urls like this
p51326
aVI would recommend you using HTML helpers
p51327
aVSo:
p51328
as(dp51329
g16
V29407
p51330
stp51331
a((dp51332
g2
(lp51333
VSending emails from an ASP
p51334
aVNET application is not a good idea as it might monopolize valuable server resources
p51335
aVA better solution would be to setup a Windows Service to perform this task or even write a Console application which could be scheduled to run with Windows Scheduler
p51336
aVQuartz
p51337
aVNET is a good solution you might take a look at allowing you to schedule jobs
p51338
aVIf you want those email sending to be triggered from within a particular controller action you could also have a separate WCF service which could be invoked asynchronously
p51339
as(dp51340
g16
V29407
p51341
stp51342
a((dp51343
g2
(lp51344
VScott Gu has a good series of blog posts about how Razor layouts work
p51345
as(dp51346
g16
V29407
p51347
stp51348
a((dp51349
g2
(lp51350
VYou could set the default value in the constructor of your model:
p51351
as(dp51352
g16
V29407
p51353
stp51354
a((dp51355
g2
(lp51356
Vand then:
p51357
aVand if you want to have the format you could use untyped helpers:
p51358
aVand call like this:
p51359
as(dp51360
g16
V29407
p51361
stp51362
a((dp51363
g2
(lp51364
VASP
p51365
aVNET MVC uses T4 templates
p51366
aVHere's an overview
p51367
aVHere are the steps:
p51368
aVIn the Package Manager Console type:
p51369
aVAccept all the warnings
p51370
aVThe  folder will be added to your project containing the templates
p51371
aVFrom here you could either modify the existing templates or add new one
p51372
aVOr if you want to modify those globally you could to this in the  folder
p51373
as(dp51374
g16
V29407
p51375
stp51376
a((dp51377
g2
(lp51378
VAs usual you start by creating a view model representing the data:
p51379
aVthen a controller which will fetch the data from somewhere:
p51380
aVthen a corresponding view () to represent the data:
p51381
aVand finally inside your  include this data somewhere:
p51382
as(dp51383
g16
V29407
p51384
stp51385
a((dp51386
g2
(lp51387
VThings to try:
p51388
aVYour controller action should return ActionResult, not string
p51389
aVInstall Fiddler and see what happens under the covers (you will see the HTTP request/response frames and a possible error)
p51390
aVThen compare the results between the different browsers to see if something changes
p51391
as(dp51392
g16
V29407
p51393
stp51394
a((dp51395
g2
(lp51396
VThere's nothing wrong with your code
p51397
aVIf the  returns  the  function will never get executed
p51398
aVAnd here's the proof
p51399
aVSo I guess that  always returns  which wouldn't be surprising if the element with  has some text, or if this is an input box you need to use the  function instead of
p51400
as(dp51401
g16
V29407
p51402
stp51403
a((dp51404
g2
(lp51405
VColon is a reserved and invalid character in an URI according to the RFC 3986
p51406
aVSo don't do something that violates the specification
p51407
aVYou need to either URL encode it or use another character
p51408
aVAnd here's a nice blog post you might take a look at
p51409
as(dp51410
g16
V29407
p51411
stp51412
a((dp51413
g2
(lp51414
VVisual Studio 2008 doesn't support this
p51415
aVYou could do it with Visual Studio 2010
p51416
as(dp51417
g16
V29407
p51418
stp51419
a((dp51420
g2
(lp51421
VAccording to RFC 3986 the  sign is a reserved character used to delimit parameters and parameter values and you shouldn't use it at this part of the URI
p51422
aVThe closest you might get is
p51423
aVAs a matter of fact you could use a route like this as an incoming URL and ASP
p51424
aVNET MVC will correctly parse it and dispatch to the correct controller action
p51425
aVThe problem is with the  tag
p51426
aVThere are two possible verbs: GET and POST
p51427
aVIf you use POST parameters entered in the form will be sent in the request body and not shown in the URL
p51428
aVIf you use GET according to the specification, user agents will send a request by appending key/value pairs of input fields to the action of the form after appending
p51429
aVSo you cannot achieve the desired effect unless you use some javascript which would handle the  event of the form, cancel the default submission and change the  to the desired format
p51430
aVThe question is: do you really need to go that far
p51431
as(dp51432
g16
V29407
p51433
stp51434
a((dp51435
g2
(lp51436
VYou could give your forms different ids and adapt your CSS
p51437
aVExample:
p51438
aVand then have different CSS rules:
p51439
as(dp51440
g16
V29407
p51441
stp51442
a((dp51443
g2
(lp51444
VI've tested this with ASP
p51445
aVNET MVC 3 RTM and it worked fine for me:
p51446
aVModel:
p51447
aVController:
p51448
aVView:
p51449
aVIn this configuration client side validation works perfectly fine for all attributes including the
p51450
as(dp51451
g16
V29407
p51452
stp51453
a((dp51454
g2
(lp51455
VHere's an article illustrating how to write a custom legacy route which could be used to handle such scenario
p51456
as(dp51457
g16
V29407
p51458
stp51459
a((dp51460
g2
(lp51461
VYou should use view models
p51462
aVView models are classes which are specifically tailored to the needs of a view and contain only the properties needed by this given view
p51463
aVSo your controller action should look like this:
p51464
aVinstead of:
p51465
aVInside the controller action you could map between the view model and the model
p51466
aVAutoMapper is a great tool that could simplify this task
p51467
aVYou should really be very careful and never expose your models like this
p51468
aVAlways use view models to and from a view
p51469
aVJust imagine if there was an  boolean property on your model
p51470
as(dp51471
g16
V29407
p51472
stp51473
a((dp51474
g2
(lp51475
VThe problem is that there are no  and  types in
p51476
aVNET
p51477
aVThose are C# type aliases to the actual System
p51478
aVUInt32 and System
p51479
aVString types
p51480
aVSo you should call your function like this:
p51481
as(dp51482
g16
V29407
p51483
stp51484
a((dp51485
g2
(lp51486
VYou could also try reading from
p51487
as(dp51488
g16
V29407
p51489
stp51490
a((dp51491
g2
(lp51492
VA probable cause is that an exception is being thrown while processing those urls which is cought and consumed by your code, so the processing is failing but the application continues running
p51493
aVUnfortunately you have shown only comments, not any real code, so this is only a hypothesis
p51494
as(dp51495
g16
V29407
p51496
stp51497
a((dp51498
g2
(lp51499
VUnfortunately this is something that lacks support in WinForms
p51500
aVThere are third party controls allowing you to achieve this but nothing out of the box
p51501
aVThis concept has been introduced in WPF which is intended to replace WinForms
p51502
as(dp51503
g16
V29407
p51504
stp51505
a((dp51506
g2
(lp51507
VYou could follow the example used in jquery plugins
p51508
aVThey define default values for the parameters in a specific format which could be overloaded by the user
p51509
aVSo in my opinion it is OK to allow the user the possibility to define some variables in a documented format which would be used by the external script
p51510
as(dp51511
g16
V29407
p51512
stp51513
a((dp51514
g2
(lp51515
VThe client IP address YES: using the Request
p51516
aVUserHostAddress property, the client computer name: NO
p51517
as(dp51518
g16
V29407
p51519
stp51520
a((dp51521
g2
(lp51522
Vand here's an article explaining how to achieve the same using SQL Server Management Studio
p51523
as(dp51524
g16
V29407
p51525
stp51526
a((dp51527
g2
(lp51528
VHere's how you could proceed: the elements of each step of the wizard could go into a separate div
p51529
aVThe Next and Previous buttons will show/hide the corresponding div
p51530
aVOn the last step there will be a submit button which would send the entire form to the server
p51531
aVYou might also take a look at the jquery form wizard plugin
p51532
as(dp51533
g16
V29407
p51534
stp51535
a((dp51536
g2
(lp51537
VIt is a GUID column
p51538
aVThis means that every time you insert a row into this table SQL Server will generate a new GUID and put it into this column
p51539
aVThis ensures that the value is unique and not only on this computer but over all the computers on the world
p51540
aVUPDATE:
p51541
aVAs pointed out by @tdammers in the comments section new GUIDs are not automatically generated when inserting rows but this effect could be achieved by defining  as default value for the column
p51542
as(dp51543
g16
V29407
p51544
stp51545
a((dp51546
g2
(lp51547
VThe much advertised feature that Visual Studio 2010 allows you to debug crash dump files and step through the managed source code comes with a gotcha: it works only for
p51548
aVNET 4
p51549
aV0 assemblies
p51550
aVHere are the steps:
p51551
aVCreate a crash dump file on another computer using the Task Manager
p51552
aVOpen the solution in VS2010
p51553
aVOpen the
p51554
aVDMP file (File->Open
p51555
aVClick on  (This will be visible only for
p51556
aVNET 4
p51557
aV0)
p51558
aVSource code will open and you will be able to inspect the exact cause and location of the exception
p51559
aVAs far as debugging with native only is concerned Visual Studio is no more useful than WinDbg
p51560
as(dp51561
g16
V29407
p51562
stp51563
a((dp51564
g2
(lp51565
VYou could use the Join function instead of looping:
p51566
as(dp51567
g16
V29407
p51568
stp51569
a((dp51570
g2
(lp51571
VRazor is a templating engine
p51572
aVIt has nothing to do with URLs
p51573
aVThey are handled by the ASP
p51574
aVNET routing engine
p51575
aVExtensionless URLs are supported starting from IIS 7
p51576
ag2721
aVIn IIS 6
p51577
aV0 you need to associate the aspnet_isapi extension with all incoming requests if you want to support extensionless urls
p51578
as(dp51579
g16
V29407
p51580
stp51581
a((dp51582
g2
(lp51583
VIt indicates that  is an extension method to the  class
p51584
as(dp51585
g16
V29407
p51586
stp51587
a((dp51588
g2
(lp51589
VUploadify uses Flash
p51590
aVFlash doesn't send cookies
p51591
aVIn ASP
p51592
aVNET sessions are tracked by cookies
p51593
aVSo, no session with uploadify, sorry
p51594
as(dp51595
g16
V29407
p51596
stp51597
a((dp51598
g2
(lp51599
VThe problem is that the value of the hidden field is empty
p51600
aVThis shouldn't happen if you use integer type
p51601
aVI suppose that the TagId property is defined as a nullable type in the  class
p51602
aVSo either assign it a value before rendering the view or use an integer type:
p51603
aVso that the generated hidden field looks like this:
p51604
aVAlso normally client side validation shouldn't be triggered for this hidden field
p51605
as(dp51606
g16
V29407
p51607
stp51608
a((dp51609
g2
(lp51610
VAll exceptions are appearing in Debug mode, even those that are handled
p51611
aVWhen an exception is thrown in Debug model Visual Studio stops the execution and alerts you for this exception even if it is properly handled by your code
p51612
aVIf a first chance exception is properly handled you can safely ignore it
p51613
aVYou can disable first chance exceptions in Visual Studio
p51614
as(dp51615
g16
V29407
p51616
stp51617
a((dp51618
g2
(lp51619
VThe exact same source code as you have written it no
p51620
aVBut he could use tools like Reflector to disassemble it
p51621
aVIn order to make the disassembled code difficult to read you could obfuscate it
p51622
as(dp51623
g16
V29407
p51624
stp51625
a((dp51626
g2
(lp51627
VYou don't need to convert it
p51628
aVimplements the  interface so it is already an enumerable
p51629
aVThis means that you can perfectly fine have the following:
p51630
aVas well as:
p51631
aVwhich could be invoked:
p51632
as(dp51633
g16
V29407
p51634
stp51635
a((dp51636
g2
(lp51637
VYou could specify the full location of the view when rendering it:
p51638
aVUPDATE:
p51639
aVAnd in order to call a partial from the  folder:
p51640
as(dp51641
g16
V29407
p51642
stp51643
a((dp51644
g2
(lp51645
VThe main difference between MVC and WebForms is that in WebForms it is the view that receives the request (), while in MVC it is the controller () which will manipulate the model and choose the appropriate view to render
p51646
aVAnother important difference is that all the HTTP Context stack (Request, Response, Session,
p51647
aVhas been abstracted behind abstract classes and interfaces in ASP
p51648
aVNET MVC which allows for better separation of concerns and unit testability in isolation
p51649
aVYou also have far more control over the generated markup in ASP
p51650
aVNET MVC in contrast to WebForms where the markup is essentially generated by server side controls
p51651
as(dp51652
g16
V29407
p51653
stp51654
a((dp51655
g2
(lp51656
VIt is better to have fewer calls to the web service methods that return larger data sets than having multiple calls to web methods returning only small amounts of data
p51657
aVThe rule of thumb is to avoid as much as you can to traverse process and network boundaries
p51658
as(dp51659
g16
V29407
p51660
stp51661
a((dp51662
g2
(lp51663
VYou could activate custom errors:
p51664
as(dp51665
g16
V29407
p51666
stp51667
a((dp51668
g2
(lp51669
VVB
p51670
aVNET can't  to automatically implement an iterator:
p51671
aVVB
p51672
aVNET can't :
p51673
as(dp51674
g16
V29407
p51675
stp51676
a((dp51677
g2
(lp51678
VHow about this:
p51679
as(dp51680
g16
V29407
p51681
stp51682
a((dp51683
g2
(lp51684
VHere's a blog post explaining how you could install it
p51685
aVYou can also only take a subset of it
p51686
aVYou can also download the library it from here
p51687
as(dp51688
g16
V29407
p51689
stp51690
a((dp51691
g2
(lp51692
VNo, there isn't an easy way to control the json serialization process especially with things like adding function calls around some properties which could result into an invalid JSON
p51693
aVBut if you are trying to return JSONP you could write a custom JsonpResult
p51694
as(dp51695
g16
V29407
p51696
stp51697
a((dp51698
g2
(lp51699
VThey both allow for interprocess communication
p51700
aVXML-RPC is a kind of RPC that is even closer to web services as it allows for interoperable communication between disparate environments over the HTTP protocol
p51701
as(dp51702
g16
V29407
p51703
stp51704
a((dp51705
g2
(lp51706
VI don't know how are the Telerik controls implemented but there have been changes in the Razor view engine
p51707
aVConsider the following helpers:
p51708
aVuses  while  uses
p51709
aVAnd here's a sample usage:
p51710
aVwill work perfectly fine while  will mess up with the order and that would happen only in Razor
p51711
aVNotice that both helpers would work fine with the ASPX view engine:
p51712
aVSo I suspect that Telerik controls might somehow be writing to the  instead of using the
p51713
aVMaybe Telerik guys will be able to tell you if this is the case but it looks like a bug
p51714
as(dp51715
g16
V29407
p51716
stp51717
a((dp51718
g2
(lp51719
VYou could use IronPython with ASP
p51720
aVNET or even with ASP
p51721
aVNET MVC :-) There is an example on codeplex
p51722
aVUnfortunately IronPython is not mature enough yet and the road could be bumpy
p51723
as(dp51724
g16
V29407
p51725
stp51726
a((dp51727
g2
(lp51728
VYou may take a look at the following plugin which allows you to queue requests
p51729
as(dp51730
g16
V29407
p51731
stp51732
a((dp51733
g2
(lp51734
VYou have two possibilities:
p51735
aVRedirect to the  action (sending a 302 status code to the client):
p51736
aVRender the  view (the client keeps the original URL in the address bar, no redirect here):
p51737
aVIf this  action is located on another controller you have the possibility to specify this controller name:
p51738
aVand:
p51739
aVRemark: In your example the  argument is declared as , so talking about it being or not being  just makes absolutely no sense as this is a value type which can never be  and your  condition code won't even compile as you have it currently written
p51740
as(dp51741
g16
V29407
p51742
stp51743
a((dp51744
g2
(lp51745
VYou cannot use Ajax to download files from the server
p51746
aVThe reason for this is that even if you succeed to make the async request to the server in the  callback you will get the file contents as sent from the server and you cannot do much with this file on the client side
p51747
aVRemember that javascript cannot access the file system so you won't be able to save it
p51748
aVThe way to achieve this is to have a normal HTML  which will point to the  action
p51749
aVWhen this form is submitted the user will be asked to choose where he wants to save the file and the download will proceed
p51750
aVAlso you don't need an AsyncController for this
p51751
aVHere's an example:
p51752
aVand inside your view:
p51753
aVAnd in order to make the download button look nice, you could create a nice  image which will be used as form submit button
p51754
as(dp51755
g16
V29407
p51756
stp51757
a((dp51758
g2
(lp51759
VI would love to see better server side validation support
p51760
aVData Annotations doesn't really cut the mustard
p51761
aVAlso I need a way to properly personalize the validation error message when an invalid format of a nullable property (such as int
p51762
aV, float
p51763
aV, DateTime
p51764
aV,
p51765
aVhas been entered by the user and the model binder tries to set the value
p51766
aVI am sick of  backing properties and manually parsing nullable types
p51767
aVAlso donut caching is a feature that every respected web framework must have built-in support for
p51768
as(dp51769
g16
V29407
p51770
stp51771
a((dp51772
g2
(lp51773
VOnce you download the source code from GitHub you need to build it
p51774
as(dp51775
g16
V29407
p51776
stp51777
a((dp51778
g2
(lp51779
VThere has been a breaking change/bug in ASP
p51780
aVNET MVC 3 in the  method which explains the exception you are getting:
p51781
aVASP
p51782
aVNET MVC 2
p51783
aV0:
p51784
aVASP
p51785
aVNET MVC 3
p51786
ag2721
aVNotice how the  variable is assigned a different value
p51787
aVSo in your case in ASP
p51788
aVNET MVC 2
p51789
aV0 it was assigned the value of  which is the correct declaring type of the  property whereas in ASP
p51790
aVNET MVC 3
p51791
aV0 it is assigned to  and later when the framework tries to find the property it crashes
p51792
aVThat's the cause
p51793
aVAs far as the resolution is concerned I would wait for some official statement from Microsoft
p51794
aVI can't find any relevant information about this in the Release Notes document
p51795
aVIs it a bug or some feature which needs to be workarounded here
p51796
aVFor now you could either use the non-strongly typed  helper or specify  as type for your control (I know both suck)
p51797
as(dp51798
g16
V29407
p51799
stp51800
a((dp51801
g2
(lp51802
VHere's how your routes might look:
p51803
aVNow  will be handled by the  action of the  controller and  will be handled by the  action of the  controller
p51804
as(dp51805
g16
V29407
p51806
stp51807
a((dp51808
g2
(lp51809
VYou could download the source code of MVCContrib and inside the  folder you will find the  assembly which is compiled against ASP
p51810
aVNET MVC 3
p51811
ag2721
as(dp51812
g16
V29407
p51813
stp51814
a((dp51815
g2
(lp51816
VYou could use the  CSS rule
p51817
aVExample:
p51818
aVor with an external rule:
p51819
aVand in your separate CSS file:
p51820
aVAnd here's a live demo
p51821
as(dp51822
g16
V29407
p51823
stp51824
a((dp51825
g2
(lp51826
VYou may take a look at the version of the referenced  assembly
p51827
aVFor Silverlight 4
p51828
aV0 it will be 2
p51829
ag2721
ag244
ag2721
aVAlso when you go to the properties of the class library project you will see that it is Silverlight
p51830
aVAlso Visual Studio uses different icons to represent them:
p51831
aVAlso if you open the corresponding  you will notice that a Silverlight project library has the following GUIDs which are used by Visual Studio to make the distinction:
p51832
as(dp51833
g16
V29407
p51834
stp51835
a((dp51836
g2
(lp51837
VRead it is  first:
p51838
aVand then  it:
p51839
aVand if you want you can format it (example with currency format):
p51840
as(dp51841
g16
V29407
p51842
stp51843
a((dp51844
g2
(lp51845
V returns a string containing the cookies
p51846
aVEverything else you ask about is pretty standard javascript string manipulation
p51847
aVchecks if the string is not empty
p51848
aVfinds the index of the first occurrence of the  substring in the string
p51849
aVpositions the index after the cookie name in the string
p51850
aVtries to find the first occurrence of the  character starting from the  position and if this character is not found it positions to the end of the string
p51851
as(dp51852
g16
V29407
p51853
stp51854
a((dp51855
g2
(lp51856
VIt uses the C# 4
p51857
aV0 dynamic feature
p51858
aVIt achieves the same goal as viewdata and should be avoided in favor of using strongly typed view models (the same way as viewdata should be avoided)
p51859
aVSo basically it replaces magic strings:
p51860
aVwith magic properties:
p51861
aVfor which you have no compile time safety
p51862
aVI continue to blame Microsoft for ever introducing this concept in MVC
p51863
aVThe name of the properties are case sensitive
p51864
as(dp51865
g16
V29407
p51866
stp51867
a((dp51868
g2
(lp51869
VThe official API documentation is here: http://msdn
p51870
aVmicrosoft
p51871
aVcom/en-us/library/gg416515(v=VS
p51872
aV98)
p51873
aVaspx
p51874
aVTutorials here: http://www
p51875
aVasp
p51876
aVnet/mvc
p51877
aVBlogs here: http://www
p51878
aVgoogle
p51879
aVcom
p51880
aVRecommended book here: http://www
p51881
aVamazon
p51882
aVcom/Pro-ASP-NET-MVC-3-Framework/dp/1430234040
p51883
as(dp51884
g16
V29407
p51885
stp51886
a((dp51887
g2
(lp51888
V should do the job or in your case:
p51889
as(dp51890
g16
V29407
p51891
stp51892
a((dp51893
g2
(lp51894
VIf you don't like to use big libraries like DotnetOpenAuth you will have to manually implement the OpenID protocol
p51895
aVHere are the specifications you will need to conform to
p51896
aVThis being said, I would recommend you using an existing library
p51897
aVis the reference library for
p51898
aVNET
p51899
aVAlso a small remark: OpenId and OAuth are different standards and are designed to achieve different things:  is for authentication while  is for authorization
p51900
aVAs far as identifying the same user which could log from different OpenID providers is concerned you will need something to identify them
p51901
aVFor example with DotnetOpenAuth when creating an authentication request to the OpenID provider you could require the FullName and the Email:
p51902
aVand use this information to identify the user within your internal database
p51903
aVSo here's the idea:
p51904
aVYou create an internal database table which will contain your site users
p51905
aVAt the beginning this table is empty
p51906
aVA user comes to your site and wishes to use it
p51907
aVHe is not yet authenticated so you ask him for his credentials
p51908
aVYou provide him the ability to choose his OpenId provider and prepare an authentication request and redirect him to his provider for authentication
p51909
aVThe user authenticates with his provider and is redirected back to your site
p51910
aVAt this moment you know his claimed identity and you add the user to your users table
p51911
aVNow the user can always come back to your site and login
p51912
aVYou could provide the possibility to your authenticated users to add another OpenId provider (just like StackOverflow does)
p51913
aVThe important idea is that the user needs to already be authenticated to your site in order to do this
p51914
aVSo he could enter his alternative OpenId provider and get redirected to this provider for authentication
p51915
aVOnce he authenticates he is redirected back to your site and because he was already authenticated to your site you could add to the users table his alternative OpenId provider
p51916
aVThe controller action which will handle the redirect from the OpenId provider should check whether the user is already authenticated to your site and if not authenticate him using  and passing the claimed identity
p51917
aVIf the claimed identity doesn't exist in your internal users table you need to add it
p51918
aVIf the user is already authenticated to your site it means that he is adding an alternative OpenId provider to his profile, so you would update your users table and add the new provider to it
p51919
as(dp51920
g16
V29407
p51921
stp51922
a((dp51923
g2
(lp51924
VIn ASP
p51925
aVNET MVC 3 the jquery validation plugin is the default for performing client-side validation
p51926
aVSo you could remove all  scripts from your project
p51927
aVYou only need the following:
p51928
aVand remove the  call
p51929
aVClient validation is enabled in web
p51930
aVconfig:
p51931
as(dp51932
g16
V29407
p51933
stp51934
a((dp51935
g2
(lp51936
VWhat do you mean by the first page
p51937
aVCan't you simply redirect to it:
p51938
aVafter setting the authentication cookie with
p51939
as(dp51940
g16
V29407
p51941
stp51942
a((dp51943
g2
(lp51944
VYou should use the Invoke to delegate the execution to the GUI thread:
p51945
aVAlso it is not very clear what you are trying to achieve here
p51946
aVIt doesn't make any sense to use a background thread to create a file browser dialog
p51947
aVThis task could and should very well be performed on the main thread
p51948
aVBackground threads are used for performing non-UI related potentially long running tasks in order to avoid blocking the main thread
p51949
as(dp51950
g16
V29407
p51951
stp51952
a((dp51953
g2
(lp51954
Vor using the config file:
p51955
as(dp51956
g16
V29407
p51957
stp51958
a((dp51959
g2
(lp51960
VYes, that's a very good way to achieve this
p51961
aVIt uses  to serialize your model into a JSON object and ensure proper escaping
p51962
aVAs an alternative if you are using AJAX you could directly have a controller action returning JSON:
p51963
aVand then using jquery consume this action:
p51964
as(dp51965
g16
V29407
p51966
stp51967
a((dp51968
g2
(lp51969
VIf the server sends some status code different than 200, the error callback is executed:
p51970
aVand to register a global error handler you could use the  method:
p51971
aVAnother way is to use JSON
p51972
aVSo you could write a custom action filter on the server which catches exception and transforms them into JSON response:
p51973
aVand then decorate your controller action with this attribute:
p51974
aVand finally invoke it:
p51975
as(dp51976
g16
V29407
p51977
stp51978
a((dp51979
g2
(lp51980
VInstead of reinventing the wheel there is already a built-in SQL provider which you could use out of the box and which will store session data into SQL Server allowing for you application to better scale in web farm environments:
p51981
as(dp51982
g16
V29407
p51983
stp51984
a((dp51985
g2
(lp51986
VThe equivalent of RoR's Flash object in ASP
p51987
aVNET MVC is called
p51988
aVor use it directly in the  view:
p51989
aVInternally  uses the Session object to store data but it is automatically invalidated after one redirect
p51990
aVSo what you are trying to implement already exists
p51991
as(dp51992
g16
V29407
p51993
stp51994
a((dp51995
g2
(lp51996
VYou could return an :
p51997
aVand then in your controller:
p51998
as(dp51999
g16
V29407
p52000
stp52001
a((dp52002
g2
(lp52003
VWhy are you craeting an instance () in order to invoke a static method
p52004
aVIt should be:
p52005
aVAlso this method as defined doesn't return any value so no need to assign it a return variable
p52006
aVAnd in order to clear all misunderstandings I've created a full working demo here: http://www
p52007
aVmediafire
p52008
aVcom/
p52009
aVn7h9b8ghomfv17d
p52010
as(dp52011
g16
V29407
p52012
stp52013
a((dp52014
g2
(lp52015
VIf you are using
p52016
aVNET 4
p52017
aV0 you need to reference the  assembly
p52018
aVAs always the documentation of the MembershipUser contains all the necessary information:
p52019
aVIn previous versions of the framework the MembershipUser class was located in the  assembly
p52020
as(dp52021
g16
V29407
p52022
stp52023
a((dp52024
g2
(lp52025
VThat's normal and it is how HTML helpers work
p52026
aVThey first use the value of the POST request and after that the value in the model
p52027
aVThis means that even if you modify the value of the model in your controller action if there is the same variable in the POST request your modification will be ignored and the POSTed value will be used
p52028
aVOne possible workaround is to remove this value from the model state in the controller action which is trying to modify the value:
p52029
aVAnother possibility is to write a custom HTML helper which will always use the value of the model and ignore POST values
p52030
aVAnd yet another possibility:
p52031
as(dp52032
g16
V29407
p52033
stp52034
a((dp52035
g2
(lp52036
VDue to the way JsonValueProviderFactory is implemented binding dictionaries is not supported
p52037
as(dp52038
g16
V29407
p52039
stp52040
a((dp52041
g2
(lp52042
VYou could use the Assembly
p52043
aVLoadFrom method to dynamically load an assembly at runtime
p52044
as(dp52045
g16
V29407
p52046
stp52047
a((dp52048
g2
(lp52049
VThat's because you are using the same variable
p52050
aVTry recreating a new watcher on each iteration:
p52051
as(dp52052
g16
V29407
p52053
stp52054
a((dp52055
g2
(lp52056
VYou could use AutoMapper
p52057
as(dp52058
g16
V29407
p52059
stp52060
a((dp52061
g2
(lp52062
VYes, you may take a look at MVCContrib Portable Areas
p52063
aVIt uses embedded views
p52064
as(dp52065
g16
V29407
p52066
stp52067
a((dp52068
g2
(lp52069
VWhat you are trying is possible and there are different techniques to achieve it
p52070
aVThe best approach would depend on how you are invoking your controller actions
p52071
aVWhether you are using normal hyperlinks, submitting standard  or using AJAX
p52072
aVSo if you are using standard action links you could add some javascript which binds to the onclick event of each link and adds the selected value of the group
p52073
aVExample:
p52074
aVand in your controller action you could have this additional parameter:
p52075
aVAnother example is if you use AJAX you could setup a default data in the master page which will ensure that the value of the dropdown will be sent along each AJAX request you are performing:
p52076
aVNow whenever you send an AJAX request to your server:
p52077
aVthe following request will be sent:  so you will be able to fetch the value of the selected group back in the controller action
p52078
as(dp52079
g16
V29407
p52080
stp52081
a((dp52082
g2
(lp52083
VWorks fine for me
p52084
aVHere are the steps:
p52085
aVCreate a new ASP
p52086
aVNET MVC 3 RTM project using the default Visual Studio Template
p52087
aVDownload the latest FluentValidation
p52088
aVNET
p52089
aVReference the  and  assemblies (be careful there are two folders inside the
p52090
aVzip: MVC2 and MVC3 so make sure to pick the proper assembly)
p52091
aVAdd a model:
p52092
aVand a corresponding validator:
p52093
aVAdd to :
p52094
aVAdd a controller:
p52095
aVand the corresponding view:
p52096
aVNow try to submit the form leaving the Title input empty => client side validation kicks in and the Title is required message is shown
p52097
aVNow start typing some text => the error message disappears
p52098
aVOnce you type more than 5 characters in the input box the Title must be less than or equal to 5 characters validation message appears
p52099
aVSo everything seems to work as expected
p52100
as(dp52101
g16
V29407
p52102
stp52103
a((dp52104
g2
(lp52105
VYou could pass it to the  method:
p52106
aVFor additional options you may take a look at the following blog post
p52107
as(dp52108
g16
V29407
p52109
stp52110
a((dp52111
g2
(lp52112
VThe  test could indeed have been handled by the validation logic of the model and shouldn't be placed in the controller
p52113
aVPersonally I would rewrite this controller action like so:
p52114
as(dp52115
g16
V29407
p52116
stp52117
a((dp52118
g2
(lp52119
VYou need to add it in the  because Razor uses a different config section:
p52120
as(dp52121
g16
V29407
p52122
stp52123
a((dp52124
g2
(lp52125
VAccording to the documentation:
p52126
aVYou can use the
p52127
aVAdditionalMetadataAttribute class to
p52128
aVpopulate the
p52129
aVModelMetadata
p52130
aVAdditionalValues
p52131
aVdictionary for a model property
p52132
aVThis metadata is made available to any
p52133
aVdisplay or editor template when a
p52134
aVproduct view model is rendered
p52135
aVIt is
p52136
aVup to you as application developer to
p52137
aVinterpret the metadata information
p52138
aVSo let's make use of it in the view:
p52139
as(dp52140
g16
V29407
p52141
stp52142
a((dp52143
g2
(lp52144
VIn the  method you don't need to perform any redirects
p52145
aVYou simply need to use the Http Context to return true or false depending on whether the user is authenticated and authorized
p52146
aVIn order to redirect him to an error page you need to override the  method where an  is passed as argument and you can handle the case
p52147
aVThis method will be invoked when  returns  so that you can act accordingly
p52148
as(dp52149
g16
V29407
p52150
stp52151
a((dp52152
g2
(lp52153
VI don't know how it is done in NerdDinner but here's a step by step tutorial I wrote to illustrate how you could achieve this using jQuery and ASP
p52154
aVNET MVC 3 (Razor view engine):
p52155
aVCreate a new ASP
p52156
aVNET MVC 3 Project using the Empty template
p52157
aVUsing NuGet Add Library Package Reference to the  module (this will reference the proper assembly from the internet and add necessary configuration sections to your web
p52158
aVconfig)
p52159
aVAdd a HomeController:
p52160
aVand the corresponding  view:
p52161
aVNext comes the important part the  which will handle the authentication:
p52162
aVAnd the corresponding  partial view:
p52163
aVThe example could be easily adapted to web forms view engine if this is what you are using
p52164
aVI've also intentionally left the fancy animations and CSS stuff in order to show the basics
p52165
as(dp52166
g16
V29407
p52167
stp52168
a((dp52169
g2
(lp52170
VI don't know what  you are talking about and where does it come from but it is better to work with strong types
p52171
aVSo define a custom type that will model your data:
p52172
aVand then have the web method take a dictionary:
p52173
aVand then simply call this method (see  for proper data):
p52174
aVUPDATE:
p52175
aVActually the request should be formatted like this:
p52176
as(dp52177
g16
V29407
p52178
stp52179
a((dp52180
g2
(lp52181
VI would recommend you using the TypeWatch jquery plugin which will allow you to achieve this very easily
p52182
aVYour code might simply look like this:
p52183
as(dp52184
g16
V29407
p52185
stp52186
a((dp52187
g2
(lp52188
s(dp52189
g16
V29407
p52190
stp52191
a((dp52192
g2
(lp52193
VDon't use any of your model classes inside the views
p52194
aVUse plain view models:
p52195
aVAs you can see we put only the properties relevant to changing a password view (or whatever view you are implementing)
p52196
aVThis way you can have a fine grained validation control in the context of the given view
p52197
aVAutoMapper could help you to get back your model from the view model
p52198
as(dp52199
g16
V29407
p52200
stp52201
a((dp52202
g2
(lp52203
VThere is no way an html helper to know what happens in other parts of your view such as inspecting other form fields unless you pass it as argument
p52204
aVAlso it is not very clear what you mean by look for bind-able properties that have not already been bound on the form
p52205
aVFor persisting state in a wizard you might take a look at the Html
p52206
aVSerialize helper currently situated in the MVC Futures assembly
p52207
aVThe idea behind this helper is that it allows you to serialize some model object (marked as ) as hidden field inside a form and get its value back in a controller action using the  attribute
p52208
aVBehind the scenes it uses WebForms ViewState
p52209
aVYou can also encrypt it
p52210
aVIt is a good way of persisting state on the client between multiple pages
p52211
as(dp52212
g16
V29407
p52213
stp52214
a((dp52215
g2
(lp52216
VThe web site drops requests that doesn't specify a user agent
p52217
aVSo you need to specify it
p52218
aVAlso I would recommend you using WebClient instead of , , ,  and company:
p52219
aVit's kinda shorter and works
p52220
as(dp52221
g16
V29407
p52222
stp52223
a((dp52224
g2
(lp52225
VThe problem is that in your  method you are always passing  as view model, no matter in which context this method has been invoked (scenario, person or address):
p52226
aVwhile your  partial expects  as view model
p52227
aVSo you need to pass the person to the view in case you are trying to update the person partial
p52228
as(dp52229
g16
V29407
p52230
stp52231
a((dp52232
g2
(lp52233
VThe following works perfectly fine for me:
p52234
aVModel:
p52235
aVController:
p52236
aVView ():
p52237
aVEditor template ():
p52238
aVAlso note that radio buttons are usually bound to boolean values instead of strings
p52239
as(dp52240
g16
V29407
p52241
stp52242
a((dp52243
g2
(lp52244
VYes, it works as long as your server sends proper content-type (application/json) and properly formated JSON data
p52245
aVAlso just for safety you could specify the response data type:
p52246
as(dp52247
g16
V29407
p52248
stp52249
a((dp52250
g2
(lp52251
VEverything stems down to the order of view engines in the  collection
p52252
aVHere's how the  static constructor looks like (as seen with Reflector in ASP
p52253
aVNET MVC 3 RTM):
p52254
aVwhich explains why WebForms is the preferred view engine
p52255
aVSo you could perform the following grotesque hack in  to inverse the preference towards Razor :-)
p52256
as(dp52257
g16
V29407
p52258
stp52259
a((dp52260
g2
(lp52261
VTwo possibilities:
p52262
aVReflection
p52263
aVEmit
p52264
aVSystem
p52265
aVCodeDom
p52266
aVCompiler
p52267
aVUPDATE:
p52268
aVAs request in the comments section here's a full example illustrating the usage of Reflection
p52269
aVEmit to dynamically build a class and add a static method to it:
p52270
aVYou could put breakpoints inside your not  methods and see how they get invoked
p52271
aVUPDATE 2:
p52272
aVHere's an example with CodeDom compiler:
p52273
as(dp52274
g16
V29407
p52275
stp52276
a((dp52277
g2
(lp52278
VAn input field marked with the  attribute NEVER sends its value to the server
p52279
aVIf you want to achieve this you could use the  attribute which still prevents the user from modifying the value but sends the existing value when the form is submitted
p52280
as(dp52281
g16
V29407
p52282
stp52283
a((dp52284
g2
(lp52285
V contains extensions for classic web forms applications and is not intended to be used in ASP
p52286
aVNET MVC
p52287
aVSo you can safely remove this reference from your ASP
p52288
aVNET MVC application and use jQuery UI
p52289
as(dp52290
g16
V29407
p52291
stp52292
a((dp52293
g2
(lp52294
VThere's MVCContrib and inside there are extension methods allowing you to write:
p52295
aVAnother possibility is T4 templates
p52296
as(dp52297
g16
V29407
p52298
stp52299
a((dp52300
g2
(lp52301
VUnfortunately there is not much you could do about this
p52302
aVBrowsers share cookies between tabs
p52303
aVAnd forms authentication uses cookies to track users
p52304
aVThat's the same behavior you will get with other sites as well such as gmail for example
p52305
as(dp52306
g16
V29407
p52307
stp52308
a((dp52309
g2
(lp52310
VYou don't need to do this
p52311
aVJust throw an exception:
p52312
aVand the  statement of your  filter will be hit and rollback the transaction
p52313
as(dp52314
g16
V29407
p52315
stp52316
a((dp52317
g2
(lp52318
VWith ASP
p52319
aVNET MVC 3 and native IoC support, I still need to worry about it
p52320
aVYes, you still need to worry about it if you are using a third party object container framework such as Unity which manages the lifetime of your objects
p52321
aVBut to be 100% sure put a breakpoint in your Dispose method and see if it gets called at the end of the request
p52322
as(dp52323
g16
V29407
p52324
stp52325
a((dp52326
g2
(lp52327
VYou may checkout the following blog post which illustrates how file uploads are handled in ASP
p52328
aVNET MVC
p52329
as(dp52330
g16
V29407
p52331
stp52332
a((dp52333
g2
(lp52334
V will give you the list, so you could:
p52335
aVAlso make sure that you have specified a proper content type on your server:  or jquery won't parse the result to a JSON object
p52336
aVIf you don't have control over the server you could specify the  parameter on the client:
p52337
as(dp52338
g16
V29407
p52339
stp52340
a((dp52341
g2
(lp52342
VThe rest of these pages will just be text - do these then warrant their own controller
p52343
aVWithout really knowing your exact scenario it is difficult to answer but static HTML files for static pages works just fine
p52344
as(dp52345
g16
V29407
p52346
stp52347
a((dp52348
g2
(lp52349
VUse  when you need to work with static arrays: you don't need to add and remove elements -> only access elements by index
p52350
aVIf you need to modify the collection use
p52351
aVAnd if you intend to only loop through the contents and never access by index use
p52352
as(dp52353
g16
V29407
p52354
stp52355
a((dp52356
g2
(lp52357
VYou could have the following controller action which will fetch the information from the database and write it to the Response stream allowing the client to download it:
p52358
aVand in your view provide a link to this action:
p52359
as(dp52360
g16
V29407
p52361
stp52362
a((dp52363
g2
(lp52364
VYes, it is secure
p52365
aVSSL encrypts everything
p52366
aVExcerpt from POST request:
p52367
aVExcerpt from GET request:
p52368
aVIn both cases whatever is sent on the socket is encrypted
p52369
aVThe fact that the client sees parameters in his browser during a GET request doesn't mean that a man in the middle would see the same
p52370
as(dp52371
g16
V29407
p52372
stp52373
a((dp52374
g2
(lp52375
VI would recommend using  instead of
p52376
aVinstead of:
p52377
aVThis way not only that the view takes advantage of your view model but it behaves as expected in this case
p52378
aVExample with ASP
p52379
aVNET MVC 3
p52380
aV0 RTM (Razor):
p52381
aVModel:
p52382
aVController:
p52383
aVView:
p52384
aVSo no matter how much we try to abuse here the editor template uses the correct model title (which is not the case if we used )
p52385
as(dp52386
g16
V29407
p52387
stp52388
a((dp52389
g2
(lp52390
VStoring HTML in server side code looks like a bad idea to me
p52391
aVPersonally I would write a controller:
p52392
aVand a partial () containing the markup:
p52393
aVThen if I need to use it in a strongly typed view I would simply use an editor template:
p52394
aVand in javascript:
p52395
aVAnd to simplify a little bit this javascript call you could write a helper:
p52396
aVand then:
p52397
as(dp52398
g16
V29407
p52399
stp52400
a((dp52401
g2
(lp52402
VClient-Side validation is enabled by default in ASP
p52403
aVNET MVC 3
p52404
aVIt uses unobtrusive javascript implementation based on the jquery
p52405
aVvalidate plugin which is also included by default
p52406
aVUnobtrusiveness is achieved thanks to the new HTML5 data-* attributes which are automatically emitted by the standard HTML Helpers based on the model metadata
p52407
aVClient-side validation works out of the box for all standard attributes in the System
p52408
aVComponentModel
p52409
aVDataAnnotations namespace including the  attribute (see example here)
p52410
aVIt will not work out-of-the-box with custom defined attributes deriving from ValidationAttribute or with IValidatableObject interface
p52411
aVThe following section in web
p52412
aVconfig controls client side validation:
p52413
as(dp52414
g16
V29407
p52415
stp52416
a((dp52417
g2
(lp52418
VHere's an example that I've put to illustrate some concepts:
p52419
aVModel:
p52420
aVController:
p52421
aVView:
p52422
aVEditor template: ():
p52423
as(dp52424
g16
V29407
p52425
stp52426
a((dp52427
g2
(lp52428
VThe proper way to handle this is to use view models
p52429
aVSo here you have two different actions each having a specific validation requirements and specific properties that needs to be bound from the view => write two view models:
p52430
aVand then:
p52431
aVAutoMapper could then help you with the mapping between your view models and the actual models you would be passing to your repository
p52432
as(dp52433
g16
V29407
p52434
stp52435
a((dp52436
g2
(lp52437
VI was unable to reproduce the behavior you are describing
p52438
aVHere are the steps I did:
p52439
aVCreate a new ASP
p52440
aVNET MVC 2 project using the default template
p52441
aVAdd a new area called  using the Visual Studio Wizard
p52442
aVAdd a FooController inside :
p52443
aVCopy-Paste the master page from  to
p52444
aVAdd a new  view corresponding to the  action of the  using the master page
p52445
aVLeave it as default
p52446
aVSomewhere inside the master page of the area add the following (or inside the Index view of the FooController, it doesn't really matter):
p52447
aVRun the site and navigate to
p52448
aVThe correct url is generated:
p52449
aVIf you remove the  part of the helper the following url is generated:
p52450
aVSo
p52451
as(dp52452
g16
V29407
p52453
stp52454
a((dp52455
g2
(lp52456
VWhile I have no clue why your code doesn't work on IE I have some suggestions about improving it
p52457
aVSo as usual we start by defining a view model which will represent the data we are dealing with on the view:
p52458
aVModel:
p52459
aVController:
p52460
aVView:
p52461
aVNow you can safely dump all the  scripts as well as all  helpers
p52462
aVDo it the proper way: unobtrusively, the jquery way
p52463
as(dp52464
g16
V29407
p52465
stp52466
a((dp52467
g2
(lp52468
VA custom HTML helper usually does the job fine:
p52469
aVand in your master page:
p52470
aVNow all that's left is define the
p52471
aVcurrent CSS class
p52472
as(dp52473
g16
V29407
p52474
stp52475
a((dp52476
g2
(lp52477
VI just can't believe that there are people still using ViewData/ViewBag in ASP
p52478
aVNET MVC 3 instead of having strongly typed views and view models:
p52479
aVand in your controller:
p52480
aVand then in your strongly typed view:
p52481
aVAlso if you want client side validation don't forget to reference the necessary scripts:
p52482
as(dp52483
g16
V29407
p52484
stp52485
a((dp52486
g2
(lp52487
VOne possible reason for this happening is that you have this  interface defined in two different assemblies which in fact doesn't represent the same type
p52488
aVI see that you are playing with dynamic assembly loading
p52489
aVSo the interface you are statically casting to is not the interface implemented by the  class even if it has the same name
p52490
as(dp52491
g16
V29407
p52492
stp52493
a((dp52494
g2
(lp52495
VFirst of all a  parameter cannot be null
p52496
aVThis is a value type
p52497
aVSecond of all you are writing too much code for such a simple task:
p52498
aVAlso notice that the parameter is called  in your controller action so you must send exactly this parameter name
p52499
as(dp52500
g16
V29407
p52501
stp52502
a((dp52503
g2
(lp52504
VAn easy way to achieve this is to have a div inside your page containing a partial with the validation summary
p52505
aVWhen you invoke the controller action using AJAX it would return this partial and you will be able to update the summary
p52506
aVExample:
p52507
aVwhere the action would return a view:
p52508
aVand the corresponding view:
p52509
aVThis way the controller action directly sends the partial HTML that needs to be updated/substituted inside your page
p52510
aVIf your controller action returns JSON you will need to accommodate in your existing JSON structure an additional parameter containing the list of error messages so that in the AJAX success callback you could update the corresponding DOM sections
p52511
aVA bit more work here but with things like jQuery Templates this might even be fun :-)
p52512
as(dp52513
g16
V29407
p52514
stp52515
a((dp52516
g2
(lp52517
VI would recommend you using Editor Templates and stop writing loops in your views
p52518
aVThey will take care of generating the proper names so that binding works
p52519
aVExample:
p52520
aVIn your main view:
p52521
aVand then inside an editor template strongly typed to a Category ()
p52522
aVAlso if you want to get the corresponding Name back in your controller action you need to include it (probably as hidden field)
p52523
aVAnother technique involves adding only the id and then fetching back the relevant information from the database in your controller action:
p52524
aVNow the naming convention is important here
p52525
aVIf the DefaultCategories property on your view model is an , then the editor template needs to be called Category
p52526
aVascx and placed in  or if it will be reused between multiple controllers in
p52527
aVAlso your controller action you are submitting to should use a view model as parameter:
p52528
as(dp52529
g16
V29407
p52530
stp52531
a((dp52532
g2
(lp52533
VUrls should be managed in a single place: the  static method in
p52534
aVIn absolutely every other part of your application you should use Html helpers when dealing/generating urls
p52535
aVThis way you will never have problems because helpers take into account your routing system
p52536
aVSo instead of writing:
p52537
aVyou use an HTML helper to generate this foo:
p52538
aVand then:
p52539
aVNever hardcode a single url in your application except of course in global
p52540
aVasax which is the only centralized place urls should be defined
p52541
aVSo basically every time you find yourself writing something of the form  in some other part than global
p52542
aVasax you are doing it wrong
p52543
as(dp52544
g16
V29407
p52545
stp52546
a((dp52547
g2
(lp52548
VAccording to the documentation the  callback javascript function will be executed when the file upload completes
p52549
aVSo you could register for this event and refresh the current page using
p52550
as(dp52551
g16
V29407
p52552
stp52553
a((dp52554
g2
(lp52555
VI would fire a new thread (not from the thread pool) to perform this task and return immediately especially if you don't care about the results
p52556
aVAsynchronous controllers are useful in situations where most of the time is spent waiting for some other system to complete the task and you once this system completes the task your application is signaled to process the result
p52557
aVDuring the execution of the task no threads are consumed from your application
p52558
aVSo in your scenario this task could be performed by SQL Server using the async versions of the BeginRead methods in ADO
p52559
aVNET
p52560
aVYou could use this if you need the results back
p52561
aVIf you don't firing a new thread would work just fine as before
p52562
as(dp52563
g16
V29407
p52564
stp52565
a((dp52566
g2
(lp52567
VIn your master:
p52568
aVor replace  with some other selector to a placeholder you've put somewhere in your master page if you want this hidden field to be inserted in some specific position
p52569
aVYou could also insert it into existing  by giving them some id or class (if you have more of them on the same page and you wanted to insert this hidden field in each form)
p52570
as(dp52571
g16
V29407
p52572
stp52573
a((dp52574
g2
(lp52575
VThis error might occur if you are using a Web Application type project (in contrast to Web Site) and you have put code in the  special folder
p52576
aVThis folder should be used only with WebSite project types
p52577
aVA Web Application is compiled meaning that all source code is precompiled into an assembly and placed into the  folder
p52578
aVOn the other hand  is a special folder
p52579
aVASP
p52580
aVNET automatically compiles dynamically everything in this folder when the first request arrives so you find yourself with two assemblies that contain the same class
p52581
aVVisual Studio uses different icons to represent web site and web application which might help you find out which type you are using:
p52582
as(dp52583
g16
V29407
p52584
stp52585
a((dp52586
g2
(lp52587
VDon't confuse session cookies and forms authentication cookies
p52588
aVASP
p52589
aVNET Session cannot be shared between applications
p52590
aVAs far as the forms authentication cookie is concerned, well it is just a simple cookie and the way cookies work is by setting the  property
p52591
aVOne way I can think of to achieve this is to define special machineKeys in  for the two applications
p52592
aVThis way users that authenticated on  will be emitted a cookie which will be encrypted with the machinekeys of  and because only   has the same keys will be able to decrypt the cookie
p52593
aVThe cookie will still be sent to  but it won't be able to decrypt it and users won't be authenticated there
p52594
as(dp52595
g16
V29407
p52596
stp52597
a((dp52598
g2
(lp52599
VThis doesn't seem to be the case
p52600
aVThe following works perfectly fine with an  and an anonymous type:
p52601
aVand to invoke:
p52602
aVAlso notice the slight subtility in the  function
p52603
aVIn your case you have:
p52604
aVIn my case I have:
p52605
aVThe first parameter of the callback is the index, not the value
p52606
as(dp52607
g16
V29407
p52608
stp52609
a((dp52610
g2
(lp52611
VYou don't need to  but simply  or you could:
p52612
aVor even get rid of this function and:
p52613
as(dp52614
g16
V29407
p52615
stp52616
a((dp52617
g2
(lp52618
VDataGrid has been around since
p52619
aVNET 1
p52620
aV1 while GridView was introduced in
p52621
aVNET 2
p52622
ag2721
aVSo basically  is the successor of
p52623
aVHere's a nice article on MSDN comparing both
p52624
aVBoth the DataGrid and GridView controls are derived from the
p52625
aVWebControl class
p52626
aVAlthough it has a similar object model to that of
p52627
aVthe DataGrid control, the GridView control also has a number of new
p52628
aVfeatures and advantages over the DataGrid control, which include:
p52629
aVRicher design-time capabilities
p52630
aVImproved data source binding
p52631
aVcapabilities
p52632
aVAutomatic handling of sorting, paging, updates, and
p52633
aVdeletes
p52634
aVAdditional column types and design-time column operations
p52635
aVA
p52636
aVCustomized pager user interface (UI) with the PagerTemplate property
p52637
aVDifferences between the GridView control and the DataGrid control
p52638
aVinclude: Different custom-paging support
p52639
aVDifferent event models
p52640
as(dp52641
g16
V29407
p52642
stp52643
a((dp52644
g2
(lp52645
V will give you the name of the currently executing method
p52646
aVCaveat: anonymous methods will give you garbage as name
p52647
as(dp52648
g16
V29407
p52649
stp52650
a((dp52651
g2
(lp52652
VDue to same origin policy restriction you are pretty limited to sending AJAX requests to your own domain only
p52653
aVJSONP is a common workaround but the remote site needs to support it
p52654
aVAnother workaround consists in crating a server side script on your domain which will serve as a bridge between your domain and the remote domain and it will simply delegate the AJAX request sent to it from javascript
p52655
as(dp52656
g16
V29407
p52657
stp52658
a((dp52659
g2
(lp52660
VYou could use constants:
p52661
aVand then:
p52662
aVAlso the compiler doesn't care much about spelling or grammar mistakes, as long as the strings match he is OK :-)
p52663
as(dp52664
g16
V29407
p52665
stp52666
a((dp52667
g2
(lp52668
VWhy not just create to methods called Create
p52669
aVIt's more a convention than anything else
p52670
aVPeople working with RESTful systems are used to it
p52671
aVSo someone/something not familiar with your application and willing to create a new item will  because that's the convention
p52672
aVIf you used  he will need to contact you, read your documentation,
p52673
aVin order to discover this because you have not used standard convention in your application
p52674
as(dp52675
g16
V29407
p52676
stp52677
a((dp52678
g2
(lp52679
VHow about using a  role:
p52680
as(dp52681
g16
V29407
p52682
stp52683
a((dp52684
g2
(lp52685
VNo, this is not possible
p52686
aVSQL tables are stored in SQL databases
p52687
aVAnd you could perfectly fine have two tables with the same name in two different databases on the same server
p52688
aVSo with only the table name and the server name you won't know which one of two tables to read
p52689
as(dp52690
g16
V29407
p52691
stp52692
a((dp52693
g2
(lp52694
VIt is used to have reserved words as parameters
p52695
aVExample:
p52696
aVor:
p52697
aVis not a reserved word so using  is not necessary
p52698
aVThis being said, using reserved words to name your parameters is not a good idea
p52699
aVThere are cases though where this is useful
p52700
aVFor example in ASP
p52701
aVNET MVC some HTML extension methods take an anonymous object as parameter to emit html attributes
p52702
aVSo you have syntax like this:
p52703
aVwhich generates:
p52704
as(dp52705
g16
V29407
p52706
stp52707
a((dp52708
g2
(lp52709
VYou may take a look at HtmlTextBox for WinForms or RichText Editor for WPF
p52710
as(dp52711
g16
V29407
p52712
stp52713
a((dp52714
g2
(lp52715
VWhy are you using loops and non-strongly typed helpers in a strongly typed view
p52716
aVThings could be so simple with editor templates:
p52717
aVand the corresponding view ():
p52718
aVand the corresponding editor template ():
p52719
aVNow you no longer need to worry about values not properly binding, writing loops in your views,
p52720
aVyou can finally concentrate on the real business logic of the application
p52721
as(dp52722
g16
V29407
p52723
stp52724
a((dp52725
g2
(lp52726
VPersonally I Use MVCContrib TestHelper to unit test my controller actions
p52727
aVIt makes things very fun and easy
p52728
aVSo in your case assuming the following controller (disclaimer: absolutely never write something like this in a real application, it's just an example here, in a real world application controller actions should never fetch stuff from , they should use strongly typed action parameters and leave the default model binder do the parsing, etc
p52729
ag9596
aVyou could test it like this:
p52730
as(dp52731
g16
V29407
p52732
stp52733
a((dp52734
g2
(lp52735
VSpark has not been developed by Microsoft and I wouldn't say that they have/intend to put much energy on it
p52736
aVOn the other hand Razor is Microsoft child and if you want an MS supported view engine go for it
p52737
as(dp52738
g16
V29407
p52739
stp52740
a((dp52741
g2
(lp52742
VA custom model binder is a great place to do this:
p52743
aVand then in your  register this model binder:
p52744
aVNow your controller action becomes less littered:
p52745
as(dp52746
g16
V29407
p52747
stp52748
a((dp52749
g2
(lp52750
VI will answer your question with the following disclaimer:
p52751
aVUse submit buttons to submit forms, not links
p52752
aVThis being said, make sure to cancel the default link action by returning false or you will get redirected before the form even had time to submit:
p52753
as(dp52754
g16
V29407
p52755
stp52756
a((dp52757
g2
(lp52758
VYou could use the Selected property:
p52759
as(dp52760
g16
V29407
p52761
stp52762
a((dp52763
g2
(lp52764
VThis has been asked hundreds of times here and I have answered it hundreds of times (so this makes you the hundredth and first person to ask this :-)): put user validation logic on your view models (things like required fields, datetime formats,
p52765
aVand  put business validation logic on your entities (things like the username has already been taken, the user can no longer purchase products on your site because he has reached the maximum quota,
p52766
as(dp52767
g16
V29407
p52768
stp52769
a((dp52770
g2
(lp52771
VYes, I have brought this to the attention of Microsoft by opening a ticket
p52772
aVAlso see this related question
p52773
as(dp52774
g16
V29407
p52775
stp52776
a((dp52777
g2
(lp52778
VYou definitely need to cancel the default action result by returning false from your click callback or your AJAX request might not even have the time to execute before you get redirected
p52779
aVAs far as sending the entire object (which contains only a single  integer propertry) is concerned you could do this:
p52780
aVand then generate your anchor so that it includes this parameter:
p52781
aVNow you can safely have:
p52782
aVRemark:  in your anchor is not valid identifier name
p52783
as(dp52784
g16
V29407
p52785
stp52786
a((dp52787
g2
(lp52788
VYou may take a look at the following blog post from Scott Hanselman about using special characters in urls
p52789
as(dp52790
g16
V29407
p52791
stp52792
a((dp52793
g2
(lp52794
VCode analysis is usually performed on server side logic code
p52795
aVSuch code should never be written in a view thus no need to perform code analysis there
p52796
aVFor views spitting HTML the W3C validator is a good tool to analyze the code
p52797
aVThe  and  are just calls to helper methods whose logic is implemented on the server so they should be analyzed in the server code
p52798
aVAs far as the  is concerned if I were to write a code analysis tool for views I would put as rule inside it that  is not present in a view because this assumes the developer wrote a server side code in a view which as I stated shouldn't be done
p52799
as(dp52800
g16
V29407
p52801
stp52802
a((dp52803
g2
(lp52804
VI've a DLL (Player
p52805
aVdll) written in C++ that internally uses win32 API
p52806
aVYou can simply forget about PInvoking into something like this from Silverlight
p52807
aVSilverlight was intended to run cross browser/platform
p52808
aVSo imagine your code under MacOS
p52809
aVSo concentrate your energy into searching a managed equivalent of this code that could run from Silverlight or you are simply wasting your time
p52810
as(dp52811
g16
V29407
p52812
stp52813
a((dp52814
g2
(lp52815
VYes you should care because the same class instance method could be passed as callback to multiple threads
p52816
aVExample:
p52817
aVThe instance method now needs to be synchronized because in this case the shared state is the instance itself
p52818
as(dp52819
g16
V29407
p52820
stp52821
a((dp52822
g2
(lp52823
VOne possible case where this could happen is if you try to call the event from within the constructor of the  class
p52824
aVThere where you put those
p52825
aVAlso it is a good practice to check if the event handler has been initialized before calling it
p52826
as(dp52827
g16
V29407
p52828
stp52829
a((dp52830
g2
(lp52831
V is the namespace,  is the type name and  (the one after the ) is the assembly name where this type is hosted
p52832
aVYou can take a look at the following article on MSDN about the grammar of fully qualified type names
p52833
as(dp52834
g16
V29407
p52835
stp52836
a((dp52837
g2
(lp52838
VOK so you have some existing data access logic which relies on data sets
p52839
aVThat's perfectly fine (think of it that it could have been much worse like VB6 :-))
p52840
aVWe all have to deal with legacy code
p52841
aVThat's normal
p52842
aVLegacy code exists everywhere
p52843
aVAlthough this is not a reason to pollute your shinning new MVC application with it
p52844
aVSo here is what I would suggest you
p52845
aVEncapsulate this legacy code into some external repository which works with strong types only
p52846
aVExample:
p52847
aVand then implement:
p52848
aVNow your controller should never have to hear about datasets and crap like this:
p52849
aVYou see
p52850
aVNow everything is clean and simple
p52851
aVYour view works with a strongly typed product object and shouldn't ever deal with datasets and datatables and exceptions like the one you are describing should never happen :-)
p52852
as(dp52853
g16
V29407
p52854
stp52855
a((dp52856
g2
(lp52857
VYes, absolutely the same
p52858
aVwere introduced in ASP
p52859
aVNET MVC 2 to reduce the keystrokes we have to type :-)  could still be used and behave the same although if you are writing new code I would recommend the first
p52860
as(dp52861
g16
V29407
p52862
stp52863
a((dp52864
g2
(lp52865
VAs a dynamic language Python is fundamentally different than statically typed languages, so everything is reflection in it :-) Also never use reflection in production code (for static languages) seems a bit extreme to me
p52866
as(dp52867
g16
V29407
p52868
stp52869
a((dp52870
g2
(lp52871
VYou could expose this
p52872
aVNET assembly as COM object using the regasm
p52873
aVexe tool:
p52874
aVFor this to work your assembly (or the type you are willing to expose as COM object) needs to be marked with the  attribute
p52875
aVThen you could consume it as you would consume a normal COM object from Delphi: by importing the type library
p52876
as(dp52877
g16
V29407
p52878
stp52879
a((dp52880
g2
(lp52881
VHere's how to proceed:
p52882
aVStart by defining the custom validation attribute:
p52883
aVNotice how it implements IClientValidatable
p52884
aVNext we write our model:
p52885
aVThen a controller:
p52886
aVand finally a view:
p52887
aVThe last part for the magic to happen is to define the custom adapter:
p52888
as(dp52889
g16
V29407
p52890
stp52891
a((dp52892
g2
(lp52893
VIf you want readonly collection use , not :
p52894
as(dp52895
g16
V29407
p52896
stp52897
a((dp52898
g2
(lp52899
VIn prerelease versions  was called
p52900
aVIn the RTM it is
p52901
aVViewBag is equivalent to  with the only difference that it relies on
p52902
aVNET 4
p52903
aV0 dynamic properties meaning that instead of  you could write
p52904
aVThis being said you should use none of those but have strongly typed views
p52905
aVIt is obsolete and it won't compile in ASP
p52906
aVNET MVC 3 RTM
p52907
aVThis will depend whether you put it after or before the  call  execution walks up the folder structure of whatever is the main view being rendered
p52908
aVIf the view gets found in the Home folder Home\u005c_ViewStart will be executed
p52909
aVIf the view gets found in the Shared folder Shared\u005c_ViewStart will be executed
p52910
aVNoYes, but it will only get executed if the view being executed is located in the Shared folder
p52911
aVYes
p52912
aVis the same as  allowing you to include a partial view
p52913
aVIt's a matter of personal preference
p52914
aVIt comes from WebPages whereas Html
p52915
aVPartial is an extension method that has been around since the early versions of MVC
p52916
aVClarification: In MVC you should only use  because it goes through all the MVC steps of resolving views etc
p52917
aVWhen a section is optional you don't need to define it in the content page
p52918
aVSame as putting empty contents in aspx view engine
p52919
aVIs there a 3rd party library has have more html helpers
p52920
aVYes, MVCContrib, WebHelpers,
p52921
aVMust read: ASP
p52922
aVNET MVC 3: Layouts and Sections with Razor
p52923
as(dp52924
g16
V29407
p52925
stp52926
a((dp52927
g2
(lp52928
VThis cannot be done
p52929
aVYou need to use the  helper to render a child action decorated with the  attribute and which will render the partial
p52930
aVand then include the partial:
p52931
as(dp52932
g16
V29407
p52933
stp52934
a((dp52935
g2
(lp52936
VI like this approach because it makes the code in my View simple -- basically I have a @foreach for the responses nested inside a @foreach for the questions
p52937
aVPersonally I wouldn't be satisfied with this
p52938
aVWhy writing loops in your view when you can use Display Temapltes
p52939
aVAs far as your question about including the # of votes today, # of votes this week and # of votes overall is concerned the answer, as always, is to use a view model which is specifically tailored to the needs of the view:
p52940
aVthen you would pass an  to your view and it will look like this:
p52941
aVand in
p52942
aVand in :
p52943
aVNow, that's a clean view
p52944
aVLet's move to the controller now:
p52945
aVHere we have abstracted the data access away into a repository so that the controller should never know anything about EF or whatever data access technology you are using
p52946
aVA controller should only know about your model, your view model and abstraction of how to manipulate the model (in this case the repository interface)
p52947
aVAs far as the conversion between the your model and the view model is concerned you could use AutoMapper (the  part in my example)
p52948
aVAs far as the repository is concerned, that's an implementation detail: whether you perform one or three queries to your database it's up to you
p52949
aVAll that's needed is that you are capable of aggregating the required information
p52950
as(dp52951
g16
V29407
p52952
stp52953
a((dp52954
g2
(lp52955
VYou will need to write a custom logging module for this
p52956
aVBy default it's all or nothing
p52957
as(dp52958
g16
V29407
p52959
stp52960
a((dp52961
g2
(lp52962
VStrange
p52963
aVIt works for me:
p52964
aVModel:
p52965
aVController:
p52966
aVView:
p52967
aVIIRC there was some bug in ASP
p52968
aVNET MVC 3 RC2 with this remote validation that was fixed in the RTM
p52969
as(dp52970
g16
V29407
p52971
stp52972
a((dp52973
g2
(lp52974
VWhat and where is the best way to put the membership user information into the IPrincipal User object that is accessible in every controller
p52975
aVIn a custom  filter implementation
p52976
aVYou could override the AuthorizeCore method and call the base method and if it returns true query your membership provider and inject the custom magic identity into the context
p52977
aVExample:
p52978
aVNow all that's left is decorate your base controller with the  attribute
p52979
as(dp52980
g16
V29407
p52981
stp52982
a((dp52983
g2
(lp52984
VIf your route looks like this:
p52985
aVin order to generate an action link matching this route you need this:
p52986
aVThings to note:
p52987
aVYour route definition doesn't contain an  placeholder meaning that you need to specify the action exactly as the default value in your route
p52988
aVThe  parameter should be specified
p52989
aVIt cannot be optional because it is not at the end of the route
p52990
as(dp52991
g16
V29407
p52992
stp52993
a((dp52994
g2
(lp52995
VYou should always use url helpers when dealing with urls:
p52996
as(dp52997
g16
V29407
p52998
stp52999
a((dp53000
g2
(lp53001
VThe WebBrowser control has an overload method of the Navigate method which allows you to pass additional HTTP headers to the request
p53002
aVIn the last argument you could pass the cookie header like this:
p53003
aVwhere obviously you need to replace  with the name of the authentication cookie your web site expects and  with the value taken from the request cookie
p53004
as(dp53005
g16
V29407
p53006
stp53007
a((dp53008
g2
(lp53009
VYou may checkout the following article
p53010
as(dp53011
g16
V29407
p53012
stp53013
a((dp53014
g2
(lp53015
VYou could cascade with AJAX:
p53016
aVModel:
p53017
aVController:
p53018
aVView:
p53019
as(dp53020
g16
V29407
p53021
stp53022
a((dp53023
g2
(lp53024
VSo you cannot store this number into an integer
p53025
aVYou could use Int64 type which has a maximum value of
p53026
as(dp53027
g16
V29407
p53028
stp53029
a((dp53030
g2
(lp53031
VA BackgroundWorker is a ready to use class in WinForms allowing you to execute tasks on background threads which avoids freezing the UI and in addition to this allows you to easily marshal the execution of the success callback on the main thread which gives you the possibility to update the user interface with the results
p53032
aVIt also gives the possibility to track progress and cancel the task
p53033
aVIt uses threads from the thread pool
p53034
aVOn the other hand a Thread is a class allowing you to simply execute some task on a new thread
p53035
aVIt's a much more basic concept
p53036
as(dp53037
g16
V29407
p53038
stp53039
a((dp53040
g2
(lp53041
VYou could use a WebClient
p53042
aVUploadValues method to send an HTTP POST request to a remote server from your code behind
p53043
aVJust fill up the name/value collection with the values coming from the hidden fields
p53044
as(dp53045
g16
V29407
p53046
stp53047
a((dp53048
g2
(lp53049
VYou could use a WebClient:
p53050
as(dp53051
g16
V29407
p53052
stp53053
a((dp53054
g2
(lp53055
VJust NuGet the  package
p53056
aVIt will setup everything you need in your config file:
p53057
aVRight click on the  of your web project in the solution explorer
p53058
aVClick on the  tab
p53059
aVIn the search box type
p53060
aVClick
p53061
aVEverything will be automatically setup and the correct assemblies will be downloaded from the internet and added as reference
p53062
aVHere's how the  file looks like after performing this:
p53063
aVUPDATE:
p53064
aVYou could implement a custom resource retrieval provider:
p53065
aVand then register it in :
p53066
aVBut I would recommend you using the openid-selector library for generating login forms
p53067
as(dp53068
g16
V29407
p53069
stp53070
a((dp53071
g2
(lp53072
VHow about doing it  l'ancienne:
p53073
as(dp53074
g16
V29407
p53075
stp53076
a((dp53077
g2
(lp53078
VNo need to use a COM object to reproduce this
p53079
aVConsider the following:
p53080
aVRun it in Release mode and it will exhibit the same behavior
p53081
aVThe  object falls out of scope and is garbage collected because there is nothing to keep it alive during the execution of the loop
p53082
as(dp53083
g16
V29407
p53084
stp53085
a((dp53086
g2
(lp53087
VAnti forgery tokens are useless in public parts of the site where users are not yet authenticated such as login and register forms
p53088
aVThe way CSRF attack works is the following:
p53089
aVA malicious user sets a HTML form on his site which resembles your site
p53090
aVThis form could contain hidden fields as well
p53091
aVHe tricks one of your site users to visit his malicious url
p53092
aVThe user thinks that he is on your site, fills the form and submits it to your site
p53093
aVIf the user was already authenticated on your site the form submission succeeds and the unsuspecting user have deleted his account (or whatever you can imagine)
p53094
aVSo you could use anti forgery tokens on authenticated parts of your site containing actions that could modify somehow the user state
p53095
aVRemark: checking the Referer header for identifying that a request came from your site is not secure
p53096
aVAnyone can forge a request and spoof this header
p53097
as(dp53098
g16
V29407
p53099
stp53100
a((dp53101
g2
(lp53102
VLinks cannot send POST requests
p53103
aVOnly HTML forms or AJAX can
p53104
aVSo either AJAXify your links or use forms with submit buttons (for this you will need to write a custom pager because the one used in MVCContrib uses links)
p53105
aVAs far as AJAXifying the links is concerned:
p53106
as(dp53107
g16
V29407
p53108
stp53109
a((dp53110
g2
(lp53111
VYou should use:
p53112
aVinstead of:
p53113
aVor you are starting your XPath expression from the root of the HTML document
p53114
as(dp53115
g16
V29407
p53116
stp53117
a((dp53118
g2
(lp53119
VThe first test looks as if the controller action is using  instead of view models
p53120
aVFor me this is bad
p53121
aVIt uses magic strings and it is extremely brittle
p53122
aVSo no longer need to comment on it
p53123
aVThe second test doesn't do anything useful other than verifying that the controller action returned a view
p53124
aVBut a more real world controller action will pass a view model to this view
p53125
aVSo you need to test this
p53126
aVPersonally I prefer MVCContrib TestHelper as it makes my unit tests very fluent and readable:
p53127
aVHere we assert that the controller action rendered a view and that the view model which was passed to it wasn't null and it was of the expected type because the corresponding view will be strongly typed to this view model
p53128
as(dp53129
g16
V29407
p53130
stp53131
a((dp53132
g2
(lp53133
VI see that you are using forms with  and  web controls
p53134
aVThose are notions should never be used in ASP
p53135
aVNET MVC
p53136
aVThere is no more ViewState and PostBacks that those server controls rely on
p53137
aVSo in ASP
p53138
aVNET MVC you would start by defining a view model representing the data:
p53139
aVthen you would define a controller with two actions (one that renders the view and another that handles the form submission):
p53140
aVand finally you would write the corresponding strongly typed  view:
p53141
aVThis being said you could also hardcode this select inside your view (although this is something I wouldn't recommend):
p53142
aVand have the following controller:
p53143
as(dp53144
g16
V29407
p53145
stp53146
a((dp53147
g2
(lp53148
VASP
p53149
aVNET has built-in request validation that automatically helps protect against XSS and HTML injection attacks
p53150
aVIf you want to explicitly disable this validation you could decorate the action you are posting to with the  attribute:
p53151
aVAlso if you are running this on ASP
p53152
aVNET 4
p53153
aV0 for this attribute to take effect you need to add the following to your web
p53154
aVconfig:
p53155
aVAnd if you are using ASP
p53156
aVNET MVC 3
p53157
aV0 you could decorate only the property on your model that requires HTML with the  attribute:
p53158
aVAlso in your javascript function you probably want  instead of :
p53159
as(dp53160
g16
V29407
p53161
stp53162
a((dp53163
g2
(lp53164
VYou could use the  property:
p53165
as(dp53166
g16
V29407
p53167
stp53168
a((dp53169
g2
(lp53170
VSimply pass  as second parameter when emitting the authentication cookie:
p53171
aVThis will create a persistent authentication cookie on the client whose expiration is handled by the timeout property in your web
p53172
aVconfig:
p53173
as(dp53174
g16
V29407
p53175
stp53176
a((dp53177
g2
(lp53178
VYou could register for the click event:
p53179
as(dp53180
g16
V29407
p53181
stp53182
a((dp53183
g2
(lp53184
VInstead of passing a DateTime you could pass a formatted string:
p53185
as(dp53186
g16
V29407
p53187
stp53188
a((dp53189
g2
(lp53190
s(dp53191
g16
V29407
p53192
stp53193
a((dp53194
g2
(lp53195
VThat's normal
p53196
aVIn the first example you are using a model as action parameter
p53197
aVWhen the default model binder tries to bind this model from the request it will automatically invoke validation and when you enter the action the  is already assigned
p53198
aVIn the second example your action takes no model, only a key/value collection and without a model validation makes no sense
p53199
aVValidation is triggered by the  method which in your example is invoked after the  call
p53200
aVSo you could try this:
p53201
as(dp53202
g16
V29407
p53203
stp53204
a((dp53205
g2
(lp53206
VYou should write a proper HTML helper
p53207
aVContrary to web forms, MVC gives you full control over the generated HTML and is totally inexcusable to use javascript to fix broken HTML
p53208
aVSo:
p53209
aVand then:
p53210
as(dp53211
g16
V29407
p53212
stp53213
a((dp53214
g2
(lp53215
VYou might need to increase the timeout in web
p53216
aVconfig:
p53217
aVNow this is overridable in sub web
p53218
aVconfig files meaning that if you want to increase the timeout only for the uploading script you could write a generic HTTP handler that will handle the uploads and put it in its own subfolder with its own web
p53219
aVconfig
p53220
as(dp53221
g16
V29407
p53222
stp53223
a((dp53224
g2
(lp53225
VNo, this is not possible
p53226
aVYou could write a normal HTML helper instead
p53227
aVand then:
p53228
aVor if you are targeting the model as first generic argument:
p53229
aVwhich will allow you to invoke it like this (assuming of course that your view is strongly typed, but that's a safe assumption because all views should be strongly typed anyways :-)):
p53230
as(dp53231
g16
V29407
p53232
stp53233
a((dp53234
g2
(lp53235
VIt's better to have separate unit tests for each input/output sets covering the full spectrum of possible values for the method you are trying to test (or at least for those input/output sets that you want to unit test)
p53236
as(dp53237
g16
V29407
p53238
stp53239
a((dp53240
g2
(lp53241
VYou could use the special  folder to store your settings file
p53242
aVDirect access to this folder is denied by ASP
p53243
aVNET
p53244
aVAs far as the format of this file is concerned XML seems a good format
p53245
aVBut whatever format you choose make sure you provide a strongly typed API that will allow you to access those settings so that you don't find yourself parsing XML in the middle of a controller action
p53246
aVIn  you could parse it and store the values in some structure which will be accessible through the entire application
p53247
aVAnd because it is in Application_Start that you are doing this you could use it along with your favourite DI framework to pass those values to all classes that might need them such as controllers and repositories
p53248
as(dp53249
g16
V29407
p53250
stp53251
a((dp53252
g2
(lp53253
VNo, the events accumulate
p53254
as(dp53255
g16
V29407
p53256
stp53257
a((dp53258
g2
(lp53259
V should give you the required count
p53260
as(dp53261
g16
V29407
p53262
stp53263
a((dp53264
g2
(lp53265
VWhy on earth would you use Process
p53266
aVStart to copy files when there's File
p53267
aVCopy
p53268
aVAs far as the access denied message is concerned you will need to ensure that the account you are executing your program under has write permissions to this UNC share which might not be the case with ASP
p53269
aVNET applications or Windows NT services which run under limited privileges accounts
p53270
as(dp53271
g16
V29407
p53272
stp53273
a((dp53274
g2
(lp53275
Vor simply:
p53276
as(dp53277
g16
V29407
p53278
stp53279
a((dp53280
g2
(lp53281
VYou will need to first save the file on the disk and then try to run it:
p53282
as(dp53283
g16
V29407
p53284
stp53285
a((dp53286
g2
(lp53287
VAt various times while programming in
p53288
aVC# I've found myself in situations
p53289
aVwhere I'd like to define a lambda (or
p53290
aVanonymous delegate) and call it in the
p53291
aVsame line
p53292
aVThose are strange situations
p53293
aVAvoid them
p53294
aVThis is not possible because the compiler cannot infer the type
p53295
aVThis could work when you pass the anonymous delegate to some method from which the compiler can infer the types
p53296
aVAnd in any cases:
p53297
aVis far more readable than*:
p53298
aV* assuming such syntax was possible
p53299
as(dp53300
g16
V29407
p53301
stp53302
a((dp53303
g2
(lp53304
VYou have declared a local variable inside an anonymous function which will be accessible only inside this function
p53305
aVYou need to declare it outside:
p53306
as(dp53307
g16
V29407
p53308
stp53309
a((dp53310
g2
(lp53311
VYou could use simple hyper links instead of forms on each row
p53312
aVLike this:
p53313
aVwhich assuming default routes should generate the following link:
p53314
aVand when you click on it the  action will be invoked with correct parameters
p53315
aVIf you want to do this with POST you will need multiple forms, one for each row:
p53316
as(dp53317
g16
V29407
p53318
stp53319
a((dp53320
g2
(lp53321
VIt should be like this:
p53322
aVAnd that's because the  extension method doesn't return anything
p53323
aVIt writes directly to the output
p53324
aVIn aspx you use it like this:
p53325
aVinstead of:
p53326
aVSo the same rules apply for razor
p53327
as(dp53328
g16
V29407
p53329
stp53330
a((dp53331
g2
(lp53332
VYou could use MVCContrib for this task
p53333
aVOr try to roll some ugly code:
p53334
aVand then:
p53335
as(dp53336
g16
V29407
p53337
stp53338
a((dp53339
g2
(lp53340
VThis is more related to how ASP
p53341
aVNET works rather than ASP
p53342
aVNET MVC
p53343
aVWhen you had  folder in your root and you requested  the web server always prefers serving physical folders before the routing engine
p53344
aVSo it looked for a file called  (or any default document you've setup) in your  folder, it couldn't find one and it blew with 404
p53345
aVIn ASP
p53346
aVNET 4
p53347
aV0 you can relax it :-)
p53348
as(dp53349
g16
V29407
p53350
stp53351
a((dp53352
g2
(lp53353
VYou may checkout the following blog post from Steve Sanderson which exposes a nice approach to achieve what you are looking for
p53354
aVAlso instead of writing the code you've shown in your question I would recommend you using Editor Templates and then simply replace it with:
p53355
as(dp53356
g16
V29407
p53357
stp53358
a((dp53359
g2
(lp53360
VYou could use XmlSerializer
p53361
aVSlight modification is required to your Employee class for this to work:
p53362
aVIt needs to be public
p53363
aVIt needs to have default constructor
p53364
aVThe properties need to have setters
p53365
as(dp53366
g16
V29407
p53367
stp53368
a((dp53369
g2
(lp53370
VIMHO  deployed Lucene
p53371
aVNET is the way to go
p53372
aVYou just might need to modify it so that it stores the index in a folder you have write access
p53373
as(dp53374
g16
V29407
p53375
stp53376
a((dp53377
g2
(lp53378
VWPF runs on the client
p53379
aVIt is what replaces WinForms
p53380
aVSilverlight was intended for the web
p53381
aVIt is a subset of WPF and it allows you to embed into a web page just like Flash
p53382
aVFor web development I would recommend you ASP
p53383
aVNET MVC
p53384
as(dp53385
g16
V29407
p53386
stp53387
a((dp53388
g2
(lp53389
VYou may take a look at Reflection:
p53390
as(dp53391
g16
V29407
p53392
stp53393
a((dp53394
g2
(lp53395
VVersion B looks more correct as it doesn't raise the event if the property hasn't actually changed value
p53396
aVThere won't be any problems with Version A, it's just an unnecessary call which won't update any of the UI
p53397
aVAnd as the documentation states:
p53398
aVNotifies clients that a property value
p53399
aVhas changed
p53400
as(dp53401
g16
V29407
p53402
stp53403
a((dp53404
g2
(lp53405
VI confirm that OutputCacheAttribute caches pages when running in Debug mode
p53406
as(dp53407
g16
V29407
p53408
stp53409
a((dp53410
g2
(lp53411
VYou need to set  as well in ASP
p53412
aVNET 4
p53413
ag2721
aVThe same as in ASP
p53414
aVNET MVC 2 (
p53415
aVNET 4
p53416
aV0) but in addition you have more fine grained control with the  attribute which could be placed on a single property of your view model instead of disabling validation for the entire request:
p53417
aVand have a controller action like this:
p53418
as(dp53419
g16
V29407
p53420
stp53421
a((dp53422
g2
(lp53423
V is called Fluent because it provides a fluent interface for chaining methods:
p53424
aVRemark: the usage of  and  rules seem reduntant to me in this case
p53425
aVshould be enough
p53426
as(dp53427
g16
V29407
p53428
stp53429
a((dp53430
g2
(lp53431
VDon't forget to set the request content type:
p53432
aVNow on the server side you might need a new view model which will aggregate those two objects:
p53433
aVand have:
p53434
aVAlso on the server side unless you are using ASP
p53435
aVNET 3
p53436
aV0 which supports JSON by default you need to write a custom handler capable of parsing it
p53437
aVUPDATE:
p53438
aVYou could use the following to serialize the form as JSON:
p53439
aVand then:
p53440
as(dp53441
g16
V29407
p53442
stp53443
a((dp53444
g2
(lp53445
VSomebody allready installed MVC 3
p53446
aVYes
p53447
aVTry downloading the installer and running it locally
p53448
aVMake sure you have removed any previous RC versions you might have installed
p53449
aVThe new project template shows when creating a new Web Application (not Web Site)
p53450
as(dp53451
g16
V29407
p53452
stp53453
a((dp53454
g2
(lp53455
VYou could first download the file from the remote location on your server using WebClient
p53456
aVDownloadFile:
p53457
aVor if you don't want to save the file temporary to the disk you could use the DownloadData method and then stream the buffer into the response
p53458
aVUPDATE:
p53459
aVExample with the second method:
p53460
as(dp53461
g16
V29407
p53462
stp53463
a((dp53464
g2
(lp53465
VThat's normal
p53466
aVYou won't see in this combobox
p53467
aVDepending on the project type you are creating (windows, web,
p53468
aVVisual Studio will choose it
p53469
aVOnce the project created you can go to the project properties and modify it there:
p53470
as(dp53471
g16
V29407
p53472
stp53473
a((dp53474
g2
(lp53475
VThere was a bug with this event which was fixed in
p53476
aVNET 4
p53477
ag2721
aVAnd here's a related post
p53478
as(dp53479
g16
V29407
p53480
stp53481
a((dp53482
g2
(lp53483
VYou can't abort the execution of a method
p53484
aVWhat you could do is to run this method on a separate thread and abort the thread if it takes too long
p53485
as(dp53486
g16
V29407
p53487
stp53488
a((dp53489
g2
(lp53490
VYou could use the Stopwatch class:
p53491
as(dp53492
g16
V29407
p53493
stp53494
a((dp53495
g2
(lp53496
VHere's a good article you could use
p53497
aVIt's based on the RNGCryptoServiceProvider which is what needs to be used for ensuring real randomness
p53498
aVIf you don't want special characters just remove the  array used in the code
p53499
aVExample:
p53500
as(dp53501
g16
V29407
p53502
stp53503
a((dp53504
g2
(lp53505
VIt seems that they are not
p53506
aVProposed workaround is to redefine the function:
p53507
aVwhich could be used like this:
p53508
as(dp53509
g16
V29407
p53510
stp53511
a((dp53512
g2
(lp53513
VNo idea how you would do this with YUI 2 but here's how you could do it with plain javascript:
p53514
as(dp53515
g16
V29407
p53516
stp53517
a((dp53518
g2
(lp53519
VThere is nothing wrong with this particular code you have posted
p53520
aVWhat might be wrong is the model you are expecting in the controller action which is being posted to
p53521
aVFor example if this model is not the same as the model used to render this view:
p53522
aVinstead of:
p53523
aVThe name of the dropdownlist generated will be the following:  and if your controller action doesn't take a model having a property called  with a property called  and this  property is marked with  you will get the behavior you are describing
p53524
aVOther possible reasons is that you have additional properties which are required and which you haven't included in your request
p53525
aVThe way to find this out is to analyze the model you are getting back in your controller action and see what's missing
p53526
aVAlso looking at the  property itself in debug mode will tell you which properties have validation errors
p53527
aVUPDATE:
p53528
aVHere's a full working example that could be used as base:
p53529
aVModel:
p53530
aVController:
p53531
aVView:
p53532
as(dp53533
g16
V29407
p53534
stp53535
a((dp53536
g2
(lp53537
VPosting my comment as answer:
p53538
aVDo you really expect learning one language and use it your entire life
p53539
aVDude you are in the computer business so get used to it
p53540
aVToday Java => learn Java, tomorrow something else => learn something else or you lose
p53541
as(dp53542
g16
V29407
p53543
stp53544
a((dp53545
g2
(lp53546
VI am afraid there is no clean way to achieve this
p53547
aVThere are a couple of possibilities:
p53548
aVUse an editor template for the Product property:
p53549
aVand inside this editor template:
p53550
aVWrite a custom helper that will append the class
p53551
aVWrap those textboxes in a :
p53552
aVand then modify your CSS rule:
p53553
as(dp53554
g16
V29407
p53555
stp53556
a((dp53557
g2
(lp53558
VYou could simply use the username instead of hitting the database for something like this:
p53559
as(dp53560
g16
V29407
p53561
stp53562
a((dp53563
g2
(lp53564
s(dp53565
g16
V29407
p53566
stp53567
a((dp53568
g2
(lp53569
VThis is not something you can download separately
p53570
aVIt is part of the ASP
p53571
aVNET MVC 3
p53572
aV0 package
p53573
aVIf you have downloaded it and installed it and it is still not working it is probably because it has conflicts with some other plugins you might be using such as Resharper
p53574
aVYou may try uninstalling all third party plugins and then reinstall MVC 3
p53575
aV0 to see if the issue is fixed
p53576
aVAlso you may try to reset Visual Studio environment with
p53577
aVAnd IIRC there were issues with Intellisense and the C# 5
p53578
aV0 async CTP so if youhave this installed try removing it as well
p53579
as(dp53580
g16
V29407
p53581
stp53582
a((dp53583
g2
(lp53584
VPersonally I would go with the default ASP
p53585
aVNET routing engine which is built and supported by Microsoft
p53586
aVThis will ensure that you won't find yourself one day into the position of having to migrate some code which has become obsolete because the authors simply decided to abandon the project
p53587
aVOf course if there is something specific that you want to implement which isn't supported out of the box you could search for alternatives
p53588
aVBut as far as exposing a RESTful API is concerned the routing engine should work just fine
p53589
as(dp53590
g16
V29407
p53591
stp53592
a((dp53593
g2
(lp53594
VYou may checkout the following article
p53595
as(dp53596
g16
V29407
p53597
stp53598
a((dp53599
g2
(lp53600
VIt is strange what brackets you are talking about
p53601
aVAssuming the default routes both:
p53602
aVand:
p53603
aVare equivalent and should generate the following markup:
p53604
aVAs far as your question about the button is concerned you could use a form:
p53605
as(dp53606
g16
V29407
p53607
stp53608
a((dp53609
g2
(lp53610
VYou didn't made any changes to the context in order to expect something to get saved
p53611
aVEntity Framework (assuming this is what you are using) works with objects
p53612
aVSo you need a model and persist this model into the database
p53613
aVSo your controller action could look like this:
p53614
aVwhere the  variable is some interface which defines the operations on your models
p53615
aVUsing an interface here allows you to separate your data access logic from your controller logic
p53616
aVIn the implementation of this repository you could be using any data access technology you like such as EF or NHibernate, it's just that your controller shouldn't know about it
p53617
as(dp53618
g16
V29407
p53619
stp53620
a((dp53621
g2
(lp53622
VIn my projects I use view models and the controller to manipulate the model:
p53623
aVModel:
p53624
aVController:
p53625
aVThe  attribute used there is an action filter which will execute after the controller action and it will use AutoMapper to replace the model passed to the view (Contact) with the corresponding view model ()
p53626
aVYou may see it in action in a sample project structure I wrote
p53627
aVNow obviously if you are going to show this contacts drop down list all over your project it deserves a separate controller and a child action which will be reused across your view with the Html
p53628
aVAction helper
p53629
as(dp53630
g16
V29407
p53631
stp53632
a((dp53633
g2
(lp53634
VFor obvious reasons the server cannot be notified that the client has closed his browser
p53635
aVOr that he went to the toilet :-) What you could do is have the client continuously poll the server with AJAX requests at regular interval () and if the server detects that it is no longer polled it means the client is no longer there
p53636
as(dp53637
g16
V29407
p53638
stp53639
a((dp53640
g2
(lp53641
VYou could use a service layer which will aggregate those five repositories into a single business operation
p53642
aVExample:
p53643
aVand the implementation of this service will use as much repositories as required
p53644
aVNow your controller simply becomes:
p53645
aVAnd in the view:
p53646
aVwhich uses the item display template ():
p53647
as(dp53648
g16
V29407
p53649
stp53650
a((dp53651
g2
(lp53652
VYou could do this:
p53653
aVYou should measure the performance of your application and decide whether introducing an async controller brings any value to the performance
p53654
as(dp53655
g16
V29407
p53656
stp53657
a((dp53658
g2
(lp53659
VYou shouldn't put any globalization or formatting attributes on your models
p53660
aVYou should use View Models inside your web tier
p53661
aVThose view models are classes which are specifically tailored to the needs of a given view
p53662
aVIt is those view models that will contain attributes about the formatting and globalization required by this specific view
p53663
aVSo here's the usual controller action workflow:
p53664
aVThe action queries a repository to fetch a model
p53665
aVThe action maps this model to a view model
p53666
aVThe action returns passes this view model to the view
p53667
aVTo ease the mapping between your models and view models you could use AutoMapper
p53668
as(dp53669
g16
V29407
p53670
stp53671
a((dp53672
g2
(lp53673
VViewState is stored in a hidden field and it contains information about the entire page
p53674
aVIt can also be encrypted
p53675
aVBecause the view state is always sent to the codebehind when performing Postbacks it is very practical as you always get the values
p53676
aVThe drawback is that it can get really large if you start putting much information inside it and performance could start to suffer
p53677
aVFor example in some AJAX requests you want to only send some small information to the server and if you used UpdatePanels the entire ViewState will be sent and it will contain information that is not necessary
p53678
as(dp53679
g16
V29407
p53680
stp53681
a((dp53682
g2
(lp53683
VThis process is called obfuscation, not encryption which is not the same
p53684
aVIt means that it makes it hard to read the code but not impossible
p53685
aVThere are many tools allowing you to achieve this such as:
p53686
aVYUI Compressor
p53687
aVGoogle Closure Compiler
p53688
as(dp53689
g16
V29407
p53690
stp53691
a((dp53692
g2
(lp53693
VYou could setup a form:
p53694
aVand when time comes to download simply submit this form:
p53695
aVAnother possibility is to build this form entirely dynamically and inject it into the DOM before submission
p53696
as(dp53697
g16
V29407
p53698
stp53699
a((dp53700
g2
(lp53701
Vor:
p53702
as(dp53703
g16
V29407
p53704
stp53705
a((dp53706
g2
(lp53707
VHere's a an article on MSDN you could read
p53708
as(dp53709
g16
V29407
p53710
stp53711
a((dp53712
g2
(lp53713
VI haven't seen yet some official document where you will find all the keywords
p53714
aVThis one is very detailed
p53715
aVAlso the blog posts from Scott Gu about Razor layout should be more than sufficient
p53716
as(dp53717
g16
V29407
p53718
stp53719
a((dp53720
g2
(lp53721
VYou may take a look at Quartz
p53722
aVNET which allows you to schedule and execute various tasks
p53723
as(dp53724
g16
V29407
p53725
stp53726
a((dp53727
g2
(lp53728
VThose are called preprocessor directives and exist since
p53729
aVNET 1
p53730
ag2721
aVThey allow you to define different compilation directives such as  and the compiler will evaluate or not the block if this variable has been defined
p53731
aVThe documentation of the #if directive provides a more in-depth overview
p53732
aVIn order to define a variable you could use the /define compiler option or use the Conditional compilation symbols in the Build tab of the properties of the project in Visual Studio:
p53733
as(dp53734
g16
V29407
p53735
stp53736
a((dp53737
g2
(lp53738
VYour database access code should be in a repository
p53739
aVExample:
p53740
aVand the controller would use this repository:
p53741
aVSo the basic idea is the following:
p53742
aVThe controller queries a repository to fetch a model
p53743
aVThe controller maps this model to a view model (AutoMapper is great for this job)
p53744
aVThe controller passes the view model to the view
p53745
aVThe view is strongly typed to the view model and uses it to edit/display
p53746
aVAs far as the implementation of this repository is concerned feel free to use any data access technology you like (EF, NHibernate, Linq to XML, WCF calls to remote resources over the internet,
p53747
aVThere are the following advantages:
p53748
aVThe controller logic is completely decoupled from the data access logic
p53749
aVYour controllers can be unit tested in isolation
p53750
aVYour models are not littered with properties that should belong to the UI layer (such as ) and thus are reusable across other types of application than ASP
p53751
aVNET MVC
p53752
aVThe view model is a class which is specifically tailored to the needs of the view meaning that it will contain specific formatted properties and the view code will be extremely readable
p53753
aVYour views are strongly typed => no more ViewData and ugly magic strings
p53754
as(dp53755
g16
V29407
p53756
stp53757
a((dp53758
g2
(lp53759
VYou can setup an expectation on the  method of the mocked repository so that it is called with a specific argument
p53760
aVThis specific argument will be the product which is constructed inside the controller action
p53761
aVThen you can assert that the  property of this object is the same as the one you passed as argument in the  action in the form collection
p53762
as(dp53763
g16
V29407
p53764
stp53765
a((dp53766
g2
(lp53767
s(dp53768
g16
V29407
p53769
stp53770
a((dp53771
g2
(lp53772
VProperties are injected after the constructor is called meaning that you need to use either constructor injection or access them after the object has been instantiated
p53773
aVYou could make your controller implement :
p53774
as(dp53775
g16
V29407
p53776
stp53777
a((dp53778
g2
(lp53779
VNo, AFAIK this is not possible
p53780
as(dp53781
g16
V29407
p53782
stp53783
a((dp53784
g2
(lp53785
VThe asp
p53786
aVnet/mvc site contains numerous examples, videos and tutorials about MVC that are worth reading
p53787
aVHere's an example of how the scenario you are asking about could be implemented:
p53788
aVModel:
p53789
aVController:
p53790
aVView:
p53791
aVNow you might be wondering about the TODO part
p53792
aVUsually I create a repository to decouple my data access logic from my controller:
p53793
aVand then use constructor injection of this repository into my controller:
p53794
aVObviously now the last part that's left is the implementation of this repository
p53795
aVThis will depend on how/where your data is stored and the particular data access technology you would be using
p53796
aVSo are you using a relational database, flat text file, XML file, object database, some database stored on the cloud,
p53797
aVhow are you going to access it: EF, NHibernate, Linq-to-XML, some REST API,
p53798
aVOnce you make your choice you simply implement the interface and instruct your DI framework to pass the proper implementation to the controller constructor
p53799
as(dp53800
g16
V29407
p53801
stp53802
a((dp53803
g2
(lp53804
VYou may checkout the following sitemap project on CodePlex
p53805
as(dp53806
g16
V29407
p53807
stp53808
a((dp53809
g2
(lp53810
VSo you are using jQuery and still have those  helpers that work with the obsolete  framework
p53811
aVI wouldn't
p53812
aVYou might take a look at the excellent jquery UI tabs which will make your code so much simpler:
p53813
aVand then:
p53814
aVand in your controller you would have controller actions corresponding to each tab which would return the partial HTML which will be injected into the  div using AJAX
p53815
as(dp53816
g16
V29407
p53817
stp53818
a((dp53819
g2
(lp53820
VIt seems strange that you are using a custom profile class as action input instead of a view model:
p53821
aVand then in your controller you could use AutoMapper to convert between the view model and the model class which will update the profile:
p53822
as(dp53823
g16
V29407
p53824
stp53825
a((dp53826
g2
(lp53827
VFor string parameters, we have to sanitize them in the action method as follows:
p53828
aVpublic ActionResult Browse(string genre) {
p53829
ag4921
aVYou shouldn't be doing anything like this in a controller action
p53830
aVIf you intend to store this string into a database, go ahead and store it as is
p53831
aVA database doesn't care much about unencoded HTML
p53832
aVOf course when the time comes to output this to your view you will need to ensure that it is properly encoded:
p53833
as(dp53834
g16
V29407
p53835
stp53836
a((dp53837
g2
(lp53838
VThere are about 10^6 reasons why your code is not working
p53839
aVAnd because you haven't shown your code we can only be guessing
p53840
aVSo my guess is that you have hardcoded the url somewhere instead of using url helpers
p53841
aVFor example you wrote:
p53842
aVinstead of:
p53843
aVor you had some javascript:
p53844
aVinstead of:
p53845
aVand this list goes on until we exhaust the 10^6 possibilities of why your code is working locally and not when deployed
p53846
as(dp53847
g16
V29407
p53848
stp53849
a((dp53850
g2
(lp53851
VYou cannot use the Windows MessageBox in an ASP
p53852
aVNET application
p53853
aVIt just doesn't make sense
p53854
aVAn ASP
p53855
aVNET spits HTML/javascript/CSS so that's what you should be using to inform the user that something went wrong
p53856
aVSo for example in an ASP
p53857
aVNET application you could use the  method to inject javascript into the page which will execute when the page is loaded and use the  function:
p53858
aVOther more conventional techniques to perform validation in an ASP
p53859
aVNET application involve using the validation controls
p53860
as(dp53861
g16
V29407
p53862
stp53863
a((dp53864
g2
(lp53865
VYou could use the BackgroundWorker class which allows you to execute tasks on background threads and report progress at the same time
p53866
as(dp53867
g16
V29407
p53868
stp53869
a((dp53870
g2
(lp53871
VYou will need to write a custom before install step where you would manually check if the required assemblies have been installed
p53872
aVYou may also check the following article on MSDN
p53873
as(dp53874
g16
V29407
p53875
stp53876
a((dp53877
g2
(lp53878
VThe WSDL contains only the definitions of the service contracts and data contracts
p53879
aVDon't expect to reconstruct the implementation of the original service from a WSDL file
p53880
aVIn order to generate a client proxy which will allow you to call the service given this WSDL you could use the svcutil
p53881
aVexe utility
p53882
as(dp53883
g16
V29407
p53884
stp53885
a((dp53886
g2
(lp53887
VYes only value types are boxed
p53888
aVBoxing a value type packages it inside an instance of the Object reference type
p53889
aVWhat this statement says is that it is System
p53890
aVObject which is used to box/unbox value types to and from
p53891
as(dp53892
g16
V29407
p53893
stp53894
a((dp53895
g2
(lp53896
s(dp53897
g16
V29407
p53898
stp53899
a((dp53900
g2
(lp53901
VNo, there isn't a workaround
p53902
aVSuch syntax cannot possibly exist in C# because of the
p53903
aVAlso the first seems shorter to me, I wonder why you need the second
p53904
aVThis being said I would recommend you using a strongly typed  instead of a
p53905
aVThe closest you could get is this:
p53906
as(dp53907
g16
V29407
p53908
stp53909
a((dp53910
g2
(lp53911
VThat's how it is
p53912
aVI hate it too
p53913
aVThe best you could do is configure Visual Studio to ask every time before it checks out a file so that the developer is being warned of what is happening behind the scenes:
p53914
as(dp53915
g16
V29407
p53916
stp53917
a((dp53918
g2
(lp53919
VThere is no default login
p53920
aVThere is not even a database created when you start a new project
p53921
aVYou need to register a new user by clicking on the  link on the login page
p53922
aVWhen you register a new user you will be prompted to specify the username and password and a database file will be created in the  folder
p53923
aVNow you can go ahead and login with the account you have just created
p53924
aVAnd by the way the same stands true for ASP
p53925
aVNET MVC 1
p53926
aV0 and 2
p53927
aV0 project templates
p53928
as(dp53929
g16
V29407
p53930
stp53931
a((dp53932
g2
(lp53933
VVisual Studio Intellisense and syntax highlighting is not one of the best but in this case it warns you that if the condition is not satisfied you might get invalid markup: and you shouldn't blame it for this
p53934
aVThe important thing is that your project runs fine but you might consider externalizing this logic into HTML helpers because if what you are saying is true that this is a simplified version of what you have in the views I don't even want to imagine how does your actual code look like
p53935
aVIMHO having so much conditional logic into a view is an abuse
p53936
aVYou definitely should consider using HTML helpers or controls such as MVCContrib Grid
p53937
aVUPDATE:
p53938
aVYou may try the following hack:
p53939
as(dp53940
g16
V29407
p53941
stp53942
a((dp53943
g2
(lp53944
VAFAIK this is not possible
p53945
aVYou can only invalidate specific actions that might have been cached by decorating them with the  attribute
p53946
as(dp53947
g16
V29407
p53948
stp53949
a((dp53950
g2
(lp53951
VMake sure you are not an old version of the Telerik controls which might not be compiled against ASP
p53952
aVNET MVC 3
p53953
aV0 (System
p53954
aVWeb
p53955
aVMvc 3
p53956
aV0 assembly)
p53957
aVAlso make sure you have followed the instructions described in the documentation for the prerequisite steps
p53958
as(dp53959
g16
V29407
p53960
stp53961
a((dp53962
g2
(lp53963
VYou can't
p53964
aVTasks use background threads from the thread pool
p53965
aVAlso canceling threads using the Abort method is not recommended
p53966
aVYou may take a look at the following blog post which explains a proper way of canceling tasks using cancellation tokens
p53967
aVHere's an example:
p53968
as(dp53969
g16
V29407
p53970
stp53971
a((dp53972
g2
(lp53973
VYour form doesn't contain any input tag other than the file so in your controller action you cannot expect to get anything else than the uploaded file (that's all that's being sent to the server)
p53974
aVOne way to achieve this would be to include a hidden tag containing the id of the model which will allow you to retrieve it from your datastore inside the controller action you are posting to (use this if the user is not supposed to modify the model but simply attach a file):
p53975
aVand then in your controller action:
p53976
aVOn the other hand if you wanted to allow the user to modify this model then you will need to include the proper input fields for each field of your model that you want to be sent to the server:
p53977
aVand then you will have the default model binder reconstruct this model from the request:
p53978
as(dp53979
g16
V29407
p53980
stp53981
a((dp53982
g2
(lp53983
VYou could use the following plugin to serialize the form into a JSON object and add another parameters:
p53984
aVlike this:
p53985
as(dp53986
g16
V29407
p53987
stp53988
a((dp53989
g2
(lp53990
VFor example they could fire off AJAX requests to fetch JSON data from the server while the rest of the document continues to load
p53991
as(dp53992
g16
V29407
p53993
stp53994
a((dp53995
g2
(lp53996
VLet me answer this directly so that you don't waste neither your time nor your friends: No there isn't other way other than properly installing
p53997
aVNET (or rewriting your application with unmanaged C++ code which is unlikely something you are willing to do)
p53998
aVNot to mention that most Windows PC should already have at least
p53999
aVNET 3
p54000
aV5 installed through Windows Update
p54001
aVThe
p54002
aVNET 4
p54003
aV0 Client Profile is 41MB and that's the minimum you get away with
p54004
as(dp54005
g16
V29407
p54006
stp54007
a((dp54008
g2
(lp54009
VYou could use the  property to add custom parameters to the rule:
p54010
aVwhich could be used in the adapter:
p54011
aVUPDATE:
p54012
aVAs requested in the comments section here's how you could pass those parameters to the custom validator rule function:
p54013
as(dp54014
g16
V29407
p54015
stp54016
a((dp54017
g2
(lp54018
VNo, this is not possible because javascript has no access to the server other than using AJAX or simply hardcoding the required values into the DOM
p54019
aVSo for example if you needed to access the  value from your  section you could:
p54020
as(dp54021
g16
V29407
p54022
stp54023
a((dp54024
g2
(lp54025
VIt depends on what you mean by always running
p54026
aVAn ASP
p54027
aVNET web application deployed in IIS could very well be unloaded by the web server if there aren't any requests for certain amount of time killing all background threads
p54028
aVSo if you want an ever running background thread it would be better suited to use a Windows Service
p54029
aVAs far as the web admin is concerned, well, here you don't have much choice: ASP
p54030
aVNET in IIS
p54031
aVIn order to do something useful those two applications should be able to find a common language to talk
p54032
aVSo you could use a database to store the results into which could be used by both applications
p54033
as(dp54034
g16
V29407
p54035
stp54036
a((dp54037
g2
(lp54038
VYou basically have very few concurrent writes and no contention ( doesn't necessarily mean many threads)
p54039
aVTry parallelizing the writes and you will observe different results:
p54040
as(dp54041
g16
V29407
p54042
stp54043
a((dp54044
g2
(lp54045
VOnly the last parameter in your route definition can be optional
p54046
as(dp54047
g16
V29407
p54048
stp54049
a((dp54050
g2
(lp54051
VIf I make my whole service layer as wcf methods, would the calls from my web app be slowed down because I'm converting to and from xml for no reason
p54052
aVCompared to calling the service methods directly, the WCF methods will be slower because of the network latency and serialization
p54053
aVDepending on your requirements there are different techniques
p54054
aVIn all cases you should encapsulate your service layer into a separate reusable library
p54055
aVThen start by using this library in your MVC application
p54056
aVIf you are happy with the results we are finished
p54057
aVNow if you later need interoperability and exposure of your service layer to third parties you could easily expose this library to a WCF service
p54058
as(dp54059
g16
V29407
p54060
stp54061
a((dp54062
g2
(lp54063
VThis will depend on what  is
p54064
aVThe first invokes the ToString method that each object could override on the indexer of the
p54065
aVThe second casts the  variable to a string
p54066
aVIf we use our telepathic skills and suppose that  is a SqlDataReader then the two expression do pretty much the same thing except that the cast might throw an exception at runtime if the  column is not a string
p54067
as(dp54068
g16
V29407
p54069
stp54070
a((dp54071
g2
(lp54072
VSomething among the lines should do the job:
p54073
aVand register in :
p54074
as(dp54075
g16
V29407
p54076
stp54077
a((dp54078
g2
(lp54079
VThe  helpers never really worked nicely
p54080
aVTry using you using normal Html helpers with jquery:
p54081
aVand then in a separate javascript file:
p54082
as(dp54083
g16
V29407
p54084
stp54085
a((dp54086
g2
(lp54087
VThat's normal
p54088
aVYou can have only one optional parameter and this parameter should be the last one in your route definition
p54089
aVSo ,  and  cannot be optional
p54090
aVYou need to supply their values:
p54091
aVIn ASP
p54092
aVNET MVC 3 this rule was enforced
p54093
aVConsider the following urls:
p54094
aVOnly the last two urls are possible because it's the only case where the route parameters could be mapped to their corresponding values without ambiguity
p54095
as(dp54096
g16
V29407
p54097
stp54098
a((dp54099
g2
(lp54100
VI think that this conversion could be performed in the mapping layer which converts your business objects into view models that are passed to the view
p54101
aVSo the controller would query the business layer to retrieve a model then will query the user preference which was stored into a cookie and would pass those two entities to the mapping layer which will perform the necessary conversions and formatting based on the user locale and return a view model ready to be transmitted to the strongly typed view which would simply output the information
p54102
aVAnother possibility is to use custom HTML helpers inside your view which would take the model value and based on the user preferences stored into the cookie output perform the conversion and output the formatted string
p54103
as(dp54104
g16
V29407
p54105
stp54106
a((dp54107
g2
(lp54108
VThat's strange
p54109
aVI am unable to reproduce your behavior
p54110
aVHere's my setup (ASP
p54111
aVNET MVC 3 RTM):
p54112
aVModel:
p54113
aVController:
p54114
aVView:
p54115
aVRunning this alerts  and inside the  action everything is correctly initialized
p54116
aVAnd just for the record what doesn't work are Dictionaries
p54117
aVI've opened a ticket about the issue
p54118
as(dp54119
g16
V29407
p54120
stp54121
a((dp54122
g2
(lp54123
VYou could go to the project's properties and in the Build Events tab enter the following into the "Post-build event command line":
p54124
aVand then have a custom HTML helper:
p54125
aVand then in your view:
p54126
as(dp54127
g16
V29407
p54128
stp54129
a((dp54130
g2
(lp54131
VYou could use the following:
p54132
as(dp54133
g16
V29407
p54134
stp54135
a((dp54136
g2
(lp54137
VPhil Haack also blogged about this and if you are using ASP
p54138
aVNET 4
p54139
aV0 make sure to read his updated post
p54140
aVFollow the step by step tutorial and you should be able to get this working
p54141
as(dp54142
g16
V29407
p54143
stp54144
a((dp54145
g2
(lp54146
VMaybe something among the lines should do the job:
p54147
as(dp54148
g16
V29407
p54149
stp54150
a((dp54151
g2
(lp54152
VAdd the following using at the top of your  file:
p54153
aVNow the  line should compile just fine
p54154
as(dp54155
g16
V29407
p54156
stp54157
a((dp54158
g2
(lp54159
VOne possibility is to use the javascript  function
p54160
as(dp54161
g16
V29407
p54162
stp54163
a((dp54164
g2
(lp54165
VHosting the database yourself is one possibility, another is to use some service on the cloud
p54166
aVHere's one such service
p54167
as(dp54168
g16
V29407
p54169
stp54170
a((dp54171
g2
(lp54172
VHere's a blog post which provides the basic steps
p54173
as(dp54174
g16
V29407
p54175
stp54176
a((dp54177
g2
(lp54178
VThis could be achieved in ASP
p54179
aVNET 4
p54180
aV0 where you can write a custom cache provider
p54181
aVQuote from this very same blog post:
p54182
aVOne limitation of output caching with
p54183
aVASP
p54184
aVNET V1->V3
p54185
aV5, though, is that the
p54186
aVcache store itself is not extensible \u2013
p54187
aVand the cached content always has to
p54188
aVbe stored in-memory
p54189
aVTime to upgrade :-)
p54190
as(dp54191
g16
V29407
p54192
stp54193
a((dp54194
g2
(lp54195
VPerforming redirects inside the controller constructor is not a good practice because the context might not be initialized
p54196
aVThe standard practice is to write a custom action attribute and override the OnActionExecuting method and perform the redirect inside
p54197
aVExample:
p54198
aVand then decorate the controller which you would like to redirect with this attribute
p54199
aVBe extremely careful not to decorate the controller you are redirecting to with this attribute or you are going to run into an endless loop
p54200
aVSo you could:
p54201
as(dp54202
g16
V29407
p54203
stp54204
a((dp54205
g2
(lp54206
s(dp54207
g16
V29407
p54208
stp54209
a((dp54210
g2
(lp54211
s(dp54212
g16
V29407
p54213
stp54214
a((dp54215
g2
(lp54216
VHere's a good resource you might take a look at
p54217
as(dp54218
g16
V29407
p54219
stp54220
a((dp54221
g2
(lp54222
V line-liners could be achieved with LINQ extension methods
p54223
aVFor example:
p54224
aVinstead of:
p54225
aVyou could:
p54226
as(dp54227
g16
V29407
p54228
stp54229
a((dp54230
g2
(lp54231
VBy writing a view model:
p54232
aVController:
p54233
aVView:
p54234
as(dp54235
g16
V29407
p54236
stp54237
a((dp54238
g2
(lp54239
VYou could use the following helper:
p54240
aVand then:
p54241
as(dp54242
g16
V29407
p54243
stp54244
a((dp54245
g2
(lp54246
VAs far as receiving a JSON string and binding it to a model is concerned the  does this job out of the box in ASP
p54247
aVNET MVC 3
p54248
aVBut there is nothing built-in for outputting JSONP
p54249
aVYou could write a custom :
p54250
aVAnd then in your controller action:
p54251
aVwhich could be consumed from another domain with :
p54252
as(dp54253
g16
V29407
p54254
stp54255
a((dp54256
g2
(lp54257
VYou could use
p54258
aVExample:
p54259
aVModel:
p54260
aVAction filter:
p54261
aVController:
p54262
aVRequest:
p54263
as(dp54264
g16
V29407
p54265
stp54266
a((dp54267
g2
(lp54268
VYou could use the  extension method:
p54269
as(dp54270
g16
V29407
p54271
stp54272
a((dp54273
g2
(lp54274
VShould I implement "drafts" of content in my application
p54275
aVOnly you can answer your question depending on your customer's requirements
p54276
aVWhat holds the data while it is being edited and how to manage user logins/logouts/session timeouts/navigating from the content being edited
p54277
aVI would recommend sending AJAX requests at regular intervals to a server side script which would associate the draft to the currently logged in user and the post being edited and save it in the datastore
p54278
aVWhile the data is being edited it is hold inside the client browser (usually inside an HTML  element with input fields)
p54279
aVWhen the user submits the data it is no longer considered as draft and you could delete the corresponding entry in the drafts table and persist the final revision
p54280
aVWhen the user navigates to a page which has the draft functionality implemented you could check into the database whether a draft exists for the content being edited and automatically prefill the form values
p54281
aVOne of the drawbacks of this approach is that if the user session expires you will no longer be able to save drafts at regular intervals because you won't be able to associate it to a user
p54282
aVThen again you could use sessions with sliding expirations and because of the AJAX requests sent at regular intervals (smaller than the session timeout) the session won't expire until the user is editing the page
p54283
aVAnother approach consists in storing the draft on the client
p54284
aVHere you could consider using either persistent cookies or if the browser supports it HTML5 client storage
p54285
as(dp54286
g16
V29407
p54287
stp54288
a((dp54289
g2
(lp54290
VTry replacing:
p54291
aVwith:
p54292
aVIn C#, brackets are used to access indexed properties, otherwise it looks like a method call and the compiler is complaining that there is no method called
p54293
aVOn the page which checks the session you need to cast to boolean because  returns an object which is not comparable to the boolean value :
p54294
as(dp54295
g16
V29407
p54296
stp54297
a((dp54298
g2
(lp54299
VNo, this code is not thread safe because calling the instance method  on a shared dictionary (returned by ) is not thread safe
p54300
aVMultiple threads could potentially invoke this instance method on the same dictionary instance at the same time
p54301
as(dp54302
g16
V29407
p54303
stp54304
a((dp54305
g2
(lp54306
VI would externalize this menu into a separate controller and use Html
p54307
aVAction helper method
p54308
aVSo for example you could have a model:
p54309
aVthen a controller:
p54310
aVand a corresponding partial view:
p54311
aVand finally in your master page:
p54312
as(dp54313
g16
V29407
p54314
stp54315
a((dp54316
g2
(lp54317
VSure:
p54318
aVthen expose the service, generate a client proxy from the WSDL, invoke, standard stuff
p54319
aV--
p54320
aVUPDATE:
p54321
aVI see your update now about handling large files
p54322
aVThe MTOM protocol with streaming which is built into WCF is optimized for handling such scenarios
p54323
as(dp54324
g16
V29407
p54325
stp54326
a((dp54327
g2
(lp54328
VYou have provided too little information in order for us to be able to pinpoint the problem
p54329
aVYou might have forgot to include the proper unobtrusive validation scripts inside your view but who knows
p54330
aVYou haven't shown your view
p54331
aVHere's a full working example:
p54332
aVModel:
p54333
aVController:
p54334
aVView:
p54335
aVNotice how we are providing a default value in the  helper as last parameter
p54336
aVThat will insert an option in the beginning with empty value and custom text and if the user doesn't pick some state the required validator should kick in
p54337
as(dp54338
g16
V29407
p54339
stp54340
a((dp54341
g2
(lp54342
VI would recommend you to use jquery and get rid of all  helpers and  scripts
p54343
aVSo:
p54344
aVand then in a separate javascript file:
p54345
aVNow we have successfully separated HTML markup from javascript
p54346
aVIt is unobtrusive javascript
p54347
as(dp54348
g16
V29407
p54349
stp54350
a((dp54351
g2
(lp54352
VYou could use a custom value provider with a catchall route:
p54353
aVand the value provider:
p54354
aVwhich you register in :
p54355
aVand now all that's left is a model:
p54356
aVand a controller:
p54357
aVand then navigate to:
p54358
aVThe  is hit and the model is bound
p54359
aVRemark: Notice the  on the controller action
p54360
aVThat's probably gonna be needed because ASP
p54361
aVNET won't allow you to use special characters such as  as part of a URI
p54362
aVYou might also need to tweak your web
p54363
aVconfig a little:
p54364
aVFor more information about those tweaks make sure you have read Scott Hansleman's blog post
p54365
as(dp54366
g16
V29407
p54367
stp54368
a((dp54369
g2
(lp54370
VTry something like this:
p54371
aVWe used the open function which is triggered when the dialog is opened and inside we send an AJAX request to a controller action which would return the partial:
p54372
as(dp54373
g16
V29407
p54374
stp54375
a((dp54376
g2
(lp54377
VNot sure if this could be easily achieved
p54378
aVI've been using Spring
p54379
aVNET Expressions in the past
p54380
as(dp54381
g16
V29407
p54382
stp54383
a((dp54384
g2
(lp54385
Vor if you prefer:
p54386
as(dp54387
g16
V29407
p54388
stp54389
a((dp54390
g2
(lp54391
VBy adding a reference to  in your project:
p54392
as(dp54393
g16
V29407
p54394
stp54395
a((dp54396
g2
(lp54397
VYou could send AJAX requests at regular intervals using the  function to the server checking if there are updates:
p54398
aVAnother possibility is to use the HTLM5 WebSocket API which allows the server to push updates to the client instead of the client polling for updates
p54399
as(dp54400
g16
V29407
p54401
stp54402
a((dp54403
g2
(lp54404
VAnd here's a demo
p54405
as(dp54406
g16
V29407
p54407
stp54408
a((dp54409
g2
(lp54410
Vare the only required scripts for client validation to work
p54411
aVAnd as always here's a full working demo:
p54412
aVModel:
p54413
aVController:
p54414
aVView:
p54415
aVRemark: I haven't included  in my view because it is already referenced in the layout
p54416
as(dp54417
g16
V29407
p54418
stp54419
a((dp54420
g2
(lp54421
VAn ASP
p54422
aVNET MVC 3 application is nothing more than an ASP
p54423
aVNET application so the following blog post stands true
p54424
as(dp54425
g16
V29407
p54426
stp54427
a((dp54428
g2
(lp54429
VAssuming you have a list of checkboxes in your markup:
p54430
aVand a controller action which will take the values:
p54431
aVyou could invoke it like this:
p54432
aVNow let's suppose that you wanted to send the name of the checkbox as well
p54433
aVSo that you could have the following action:
p54434
aVwhere  looks like this:
p54435
aVIn this case you could send the request as JSON string
p54436
aVThis will work out of the box in ASP
p54437
aVNET MVC 3 because there is a  built-in capable of parsing JSON requests and binding them to strongly typed models but if you are working in older versions you could still define this custom provider manually:
p54438
as(dp54439
g16
V29407
p54440
stp54441
a((dp54442
g2
(lp54443
VHTML5 is backwards compatible so feel more than free to use this default output with any browser
p54444
aVObsolete browsers such as IE6 would still render correctly and even unobtrusive validation is going to work
p54445
aVSo my advice is to leave the output as is
p54446
as(dp54447
g16
V29407
p54448
stp54449
a((dp54450
g2
(lp54451
VFor  to work as expected you need to explicitly specify the  attribute on your  mapping
p54452
aVSo for example you would have:
p54453
aVand then issue a  call on a model which has the Id property assigned to a value different than  and it is going to  instead of
p54454
aVSo to answer your question, no, you don't need to manually issue a  before
p54455
aVshould do this behind the scenes
p54456
as(dp54457
g16
V29407
p54458
stp54459
a((dp54460
g2
(lp54461
VWell in the case of formatting the DisplayFormat attribute could be a nice solution:
p54462
aVand then simply:
p54463
aVAs far as truncating string is concerned a custom HTML helper is a good solution
p54464
aVUPDATE:
p54465
aVConcerning your EDIT, a custom HTML helper might work in this situation but there's also an alternative approach which I like very much: view models
p54466
aVSo if in this particular view you are always going to show the concatenation of the names then you could define a view model:
p54467
aVNow the controller is going to query the repository to fetch the model and then map this model to a view model which will be passed to the view so that the view could simply
p54468
aVThe mapping between models and view models could be simplified with frameworks like AutoMapper
p54469
as(dp54470
g16
V29407
p54471
stp54472
a((dp54473
g2
(lp54474
VThere are no longer PostBacks in ASP
p54475
aVNET MVC
p54476
aVThere's a nice jquery scrollsaver plugin which is worth checking out
p54477
as(dp54478
g16
V29407
p54479
stp54480
a((dp54481
g2
(lp54482
VEverything I have read said I should be injecting my ISession into my repositories
p54483
aVThat's correct
p54484
aVYou need to inject the session into the repository constructor because this is where the data access is made
p54485
aVThis means I could not be injecting ISession into my services, so then how do I do Database access from my Services
p54486
aVYou don't do database access in your services
p54487
aVThe service relies on one or more repositories injected into its constructor and uses their respective methods
p54488
aVThe service never directly queries the database
p54489
aVSo to recap:
p54490
aVThe repository contains the simple CRUD operations on your model
p54491
aVThis is where the data access is performed
p54492
aVThis data access doesn't necessary mean database
p54493
aVIt will depend on the underlying storage you are using
p54494
aVFor example you could be calling some remote services on the cloud to perform the data access
p54495
aVThe service relies on one or more repositories to implement a business operation
p54496
aVThis business operation might depend on one or more CRUD operations on the repositories
p54497
aVA service shouldn't even know about the existence of a database
p54498
aVThe controller uses the service to invoke the business operation
p54499
aVIn order to decrease the coupling between the different layers, interfaces are used to abstract the operations
p54500
as(dp54501
g16
V29407
p54502
stp54503
a((dp54504
g2
(lp54505
VHere's an example of how this works
p54506
aVYou start by defining a model which will contain the properties decorated with attributes indicating the different validation rules:
p54507
aVthen a controller:
p54508
aVand finally a view:
p54509
aVThe Html helpers used to generate the corresponding form fields in the view will use HTML5  attributes to translate the validation rules on your model
p54510
aVThen by simply including the  and  scripts into your page those rules will be enforced when you try to submit the form
p54511
as(dp54512
g16
V29407
p54513
stp54514
a((dp54515
g2
(lp54516
VThis won't work because the default model binder doesn't expect the data to be formatted like this
p54517
aVSimply use  instead of
p54518
aVExample:
p54519
aVor simplify your life by using the excellent jquery form plugin which allows you to AJAXify existing HTML forms in an elegant manner:
p54520
aVUPDATE:
p54521
aVAfter the explanation in your comment here's how you could proceed:
p54522
aVYou could use the plugin from this answer which transforms the form elements into an object understandable by the default model binder and could be aggregated with some other information:
p54523
aVand then simply:
p54524
as(dp54525
g16
V29407
p54526
stp54527
a((dp54528
g2
(lp54529
VI'm passing my Linq-To-Sql entity to the view page
p54530
aVYou should really be use view models
p54531
aVSo define a view model class which is specifically tailored to the needs of the given view and containing only the necessary properties
p54532
aVThen the controller could map your model to the view model and pass the view model to the view
p54533
aVThis mapping could be simplified with framework such as AutoMapper
p54534
as(dp54535
g16
V29407
p54536
stp54537
a((dp54538
g2
(lp54539
VYou could use the following overload:
p54540
aVwhere  should be an
p54541
as(dp54542
g16
V29407
p54543
stp54544
a((dp54545
g2
(lp54546
VTry like this:
p54547
as(dp54548
g16
V29407
p54549
stp54550
a((dp54551
g2
(lp54552
VYou may take a look at the following blog post which illustrates how you could use the Razor view engine to render a template to a string
p54553
as(dp54554
g16
V29407
p54555
stp54556
a((dp54557
g2
(lp54558
VPersonally I would try both, measure the performance, compare and choose the one that's faster
p54559
aVFrom your application logic perspective this shouldn't really matter as it will be manipulating objects (not XML, nor JSON)
p54560
aVThe conversion of the XML/JSON to objects should be abstracted away into a repository which you could, within a blink of an eye, substitute with another implementation if you feel that the one you have chosen initially is slow or it doesn't work for you
p54561
as(dp54562
g16
V29407
p54563
stp54564
a((dp54565
g2
(lp54566
VWell static resources such as images are normally cached by the browser so that's probably the first level of cache you could be using
p54567
aVBecause you are generating dynamic thumbnails you could still set proper caching headers so that those thumbnails are cached by the user
p54568
aVIf you want a shared cache for all your users then you will need to store it on the server
p54569
aVIf you don't want to save the thumbnails on disk you could always use the built-in Cache object but that's going into memory and you might quickly start running out of memory
p54570
aVAnd when this happens you could off-load your cache using providers like  or simply save them on disk
p54571
as(dp54572
g16
V29407
p54573
stp54574
a((dp54575
g2
(lp54576
VThe  helper generates an  and text inside this type of inputs doesn't wrap
p54577
aVYou should consider using a
p54578
aVYou could use the  helper (not  because you already have a model, so make profit from it):
p54579
as(dp54580
g16
V29407
p54581
stp54582
a((dp54583
g2
(lp54584
VI was specking to see a value of 1/19/2011 12:00:00 AM which is the value of ViewBag
p54585
aVBeginDate
p54586
aVYou cannot expect such thing by passing  as first parameter to the  helper
p54587
aVThe second parameter doesn't do what you think it does
p54588
aVIt simply sends some additional view data to the editor template but the original value you are binding to is called  so that's what you should assign a value to
p54589
aVLike this:
p54590
aVand then:
p54591
aVObviously every time I see someone using ViewBag/ViewData and not strongly typed helpers I feel in the obligation to recommend view models and strongly typed helpers
p54592
aVExample:
p54593
aVModel:
p54594
aVController:
p54595
aVand the corresponding strongly typed view:
p54596
as(dp54597
g16
V29407
p54598
stp54599
a((dp54600
g2
(lp54601
VI confirm this theory
p54602
aVBut this being said there have been some very nice additions like the routing engine allowing you to have SEO friendly URLS and the full control over the generated ids (in ASP
p54603
aVNET 4
p54604
aV0)
p54605
as(dp54606
g16
V29407
p54607
stp54608
a((dp54609
g2
(lp54610
VHere's a nice blog post you might find useful
p54611
as(dp54612
g16
V29407
p54613
stp54614
a((dp54615
g2
(lp54616
VTry like this:
p54617
as(dp54618
g16
V29407
p54619
stp54620
a((dp54621
g2
(lp54622
VIt seems that the problem comes from your custom  constraint
p54623
aVUsing the default one works perfectly fine:
p54624
aVand then:
p54625
aVgenerates:
p54626
as(dp54627
g16
V29407
p54628
stp54629
a((dp54630
g2
(lp54631
s(dp54632
g16
V29407
p54633
stp54634
a((dp54635
g2
(lp54636
VThere are no user controls in MVC so you shouldn't bother about logic of a control
p54637
aVThere are no PostBacks in MVC
p54638
aVThere is no ViewState in MVC
p54639
aVThere are no events in MVC
p54640
aVThere are models:
p54641
aVControllers manipulating the model:
p54642
aVand Views rendering the data contained in the model:
p54643
aVWhen views need to call something into the controller they no longer use any PostBacks or events: they use standard HTML artifacts such as anchor links for sending GET requests and forms for sending POST requests
p54644
aVExample:
p54645
aVwould generate an anchor link to the Foo controller action passing  as query string parameter:
p54646
aVand the following:
p54647
aVwould generate an HTML form allowing you to POST to the Foo controller action some information:
p54648
aVUseful resources with many tutorials and videos for learning ASP
p54649
aVNET MVC:
p54650
aVasp
p54651
aVnet/mvc
p54652
aVPro ASP
p54653
aVNET MVC 2 Framework
p54654
as(dp54655
g16
V29407
p54656
stp54657
a((dp54658
g2
(lp54659
VTwo possibilities:
p54660
aVDon't use  but a simple download link
p54661
aVUse :
p54662
as(dp54663
g16
V29407
p54664
stp54665
a((dp54666
g2
(lp54667
VYou may take a look at Orchard CMS which is built on top of ASP
p54668
aVNET MVC
p54669
aVThere are also N2Cms and Kooboo to name a few
p54670
as(dp54671
g16
V29407
p54672
stp54673
a((dp54674
g2
(lp54675
VThose kind of things are nicely achieved with editor templates
p54676
aVThey also avoid you from writing spaghetti code in your views
p54677
aVExample:
p54678
aVModel:
p54679
aVController:
p54680
aVView ():
p54681
aVEditor template ():
p54682
aVNow that's what I call clean stuff
p54683
as(dp54684
g16
V29407
p54685
stp54686
a((dp54687
g2
(lp54688
VYou could try this:
p54689
aVand then another editor template for a single contact:
p54690
as(dp54691
g16
V29407
p54692
stp54693
a((dp54694
g2
(lp54695
VYou could use AutoMapper
p54696
aVIt's a great tool allowing you to convert from one type to another and in your case from the model to the view model
p54697
aVor you could even define a custom action attribute (like the one I used in my sample MVC project) allowing you to simply write:
p54698
as(dp54699
g16
V29407
p54700
stp54701
a((dp54702
g2
(lp54703
s(dp54704
g16
V29407
p54705
stp54706
a((dp54707
g2
(lp54708
VYour CSV  variable doesn't represent a dictionary
p54709
aVIt represents an  model:
p54710
aVand then:
p54711
as(dp54712
g16
V29407
p54713
stp54714
a((dp54715
g2
(lp54716
VDon't set the Expires property or you will get a persistent cookie surviving browser restarts
p54717
as(dp54718
g16
V29407
p54719
stp54720
a((dp54721
g2
(lp54722
VI am afraid there is no easy way to get the index
p54723
aVIt's buried inside the internal  method and not exposed
p54724
aVWhat you could use is the field prefix:
p54725
aVAnother possibility is replace  with:
p54726
aVand then inside the template  should give you the current index but I must admit it's kinda ugly
p54727
as(dp54728
g16
V29407
p54729
stp54730
a((dp54731
g2
(lp54732
VI would write a custom action result:
p54733
aVand then in my controller:
p54734
aVAnd if this  feels ugly to your eyes, you could have an extension method:
p54735
aVand then:
p54736
as(dp54737
g16
V29407
p54738
stp54739
a((dp54740
g2
(lp54741
VThe service layer should contain business operations and it should be decoupled from the data access layer (repositories)
p54742
aVThe service layer exposes business operations which could be composed of multiple CRUD operations
p54743
aVThose CRUD operations are performed by the repositories
p54744
aVSo for example you could have a business operation which would transfer some amount of money from one account to another and in order to perform this business operation you will need first to ensure that the sender account has sufficient provisions, debit the sender account and credit the receiver account
p54745
aVThe service operations could also represent the boundaries of SQL transactions meaning that all the elementary CRUD operations performed inside the business operation should be inside a transaction and either all of them should succeed or rollback in case of error
p54746
aVIn order to decouple the service layer from the underlying data access layer you could use interfaces:
p54747
as(dp54748
g16
V29407
p54749
stp54750
a((dp54751
g2
(lp54752
VYou could use a partial which could be included using the  helper at any place:
p54753
aVwhich would render the  partial view which could contain any markup you like
p54754
aVIf you want to handle some more complex scenarios where this partial will contain dynamic data coming from some data store you could use the Html
p54755
aVAction helper
p54756
aVYou would start by defining a model:
p54757
aVthen a controller:
p54758
aVand have a corresponding view:
p54759
aVand finally you would include it like this:
p54760
aVYou could include it in your layout thus allowing you to include dynamic widgets completely decoupled from your main controller logic and each of them following their natural workflow
p54761
as(dp54762
g16
V29407
p54763
stp54764
a((dp54765
g2
(lp54766
VJust use the corresponding UTF-8 character and the HTML helper will take care of the encoding it:
p54767
as(dp54768
g16
V29407
p54769
stp54770
a((dp54771
g2
(lp54772
VThe  object itself is thread safe meaning that storing and reading from it are thread safe but obviously objects that you store inside might not be thread safe
p54773
aVIn your case you are storing a  which is not thread safe object meaning that this instance could potentially be shared between multiple threads and there could be concurrent read and writes to the hashtable and this could lead to problems
p54774
as(dp54775
g16
V29407
p54776
stp54777
a((dp54778
g2
(lp54779
VYou can have as many background workers as you like and running simultaneously
p54780
aVExample:
p54781
as(dp54782
g16
V29407
p54783
stp54784
a((dp54785
g2
(lp54786
s(dp54787
g16
V29407
p54788
stp54789
a((dp54790
g2
(lp54791
VI cannot think of any scenario why someone developing an ASP
p54792
aVNET MVC application would ever need to provide a common base type for the master page
p54793
aVThis would mean that you are writing something like a codebehind and that kinda sticks in MVC
p54794
aVThe fact that you could do this in the WebForms view engine is because this is an heritage from classic WebForms but that doesn't mean that it is something that should be done
p54795
aVThere are so many ways to include common functionality in ASP
p54796
aVNET MVC varying from ViewModels, usage of custom HTML helpers, usage of partials, usage of Html
p54797
aVAction, usage of razor sections, etc
p54798
as(dp54799
g16
V29407
p54800
stp54801
a((dp54802
g2
(lp54803
VWhen you generate your action link:
p54804
aVyou should make sure that the  parameter is assigned a value so that the generated HTML looks like this:
p54805
aVIf the request doesn't contain the  parameter you will be getting this exception
p54806
aVSo it should be either:
p54807
aVor:
p54808
as(dp54809
g16
V29407
p54810
stp54811
a((dp54812
g2
(lp54813
VThat's how ASP
p54814
aVNET MVC 3 unobtrusive client side validation has been implemented
p54815
aVIf you want to change this behavior you could always write your custom validation rules and options with the  plugin:
p54816
as(dp54817
g16
V29407
p54818
stp54819
a((dp54820
g2
(lp54821
VIMHO mixing  with  is a bad thing
p54822
aVFor complex forms with many custom validation rules I would recommend using only jquery validate and on the server a more powerful validation framework than DataAnnotations such as FluentValidation
p54823
aVNET which works nicely with ASP
p54824
aVNET MVC
p54825
as(dp54826
g16
V29407
p54827
stp54828
a((dp54829
g2
(lp54830
VWhen using ASP
p54831
aVNET MVC 3 unobtrusive client side validation you shouldn't write custom rules as you did
p54832
aVAlso it seems that you have included the  script twice and the  script is not necessary for client side validation
p54833
aVYou should use DataAnnotations on your model to indicate validation rules and for more complex scenarios when you need custom rules you have the possibility to implement the  interface and attach custom adapters to the jquery validate plugin
p54834
aVYou may take a look at the following answers which illustrate this concept: answer 1 and the followup answer 2
p54835
as(dp54836
g16
V29407
p54837
stp54838
a((dp54839
g2
(lp54840
VI don't think that this is something you have control over
p54841
aVAs far as your code is concerned I would improve it like this:
p54842
as(dp54843
g16
V29407
p54844
stp54845
a((dp54846
g2
(lp54847
VAssuming you have a collection of customers in your view model
p54848
aVyou could use the following in your view:
p54849
aVand then in the editor/display template ( or ):
p54850
aVThe Customer partial will be then rendered for each element of the customers collection of your main model
p54851
aVThe important thing is the naming convention: the partial should be situated in a DisplayTemplates subfolder and called the same as the collection type ()
p54852
as(dp54853
g16
V29407
p54854
stp54855
a((dp54856
g2
(lp54857
VI would use strongly typed helpers and jquery
p54858
aVLike this:
p54859
aVthen a controller:
p54860
aVand finally the view:
p54861
aVand some script to attach to the change event and submit the form:
p54862
as(dp54863
g16
V29407
p54864
stp54865
a((dp54866
g2
(lp54867
VUsing  is not essential in this case but it is something that enforces the semantics of the code by indicating the nature of the field
p54868
aVPersonally I always use the  keyword for all field declarations whose value is going to be initialized only once
p54869
aVIt also might help the compiler perform some optimizations under certain circumstances
p54870
as(dp54871
g16
V29407
p54872
stp54873
a((dp54874
g2
(lp54875
VThe advantages of  is that your code is not tied to an
p54876
aVSo if you decide to change something to the aspect of how your textboxes are rendered like wrapping them in a  you could simply write a custom editor template () and all your textboxes in your application will automatically benefit from this change whereas if you have hardcoded  you will have to modify it everywhere
p54877
aVYou could also use Data Annotations to control the way this is rendered
p54878
as(dp54879
g16
V29407
p54880
stp54881
a((dp54882
g2
(lp54883
VYou can't do this in a strongly typed manner unless you modify your view model and have the controller pass the necessary information
p54884
aVSo
p54885
aVand then:
p54886
aVThe other possibility is to pass it as additional viewdata but it won't be strongly typed:
p54887
aVand then inside your editor template:
p54888
as(dp54889
g16
V29407
p54890
stp54891
a((dp54892
g2
(lp54893
VInside the Display template you need to check for null (after making it strongly typed to ):
p54894
aVor if you wanted to simply provide a custom date format you could remove the  display template and decorate your view model property with the  attribute:
p54895
aVand then simply:
p54896
as(dp54897
g16
V29407
p54898
stp54899
a((dp54900
g2
(lp54901
VLet's suppose that
p54902
aVNow in your  select list you need to have an item with the value = "5" and it will automatically be selected
p54903
aVFor example:
p54904
aVand then  will automatically preselect the second item
p54905
as(dp54906
g16
V29407
p54907
stp54908
a((dp54909
g2
(lp54910
VThis is not gonna be easy
p54911
aVThe default message is stored as an embedded resource into the  assembly and the method that is fetching is a private static method of an internal sealed inner class ()
p54912
aVIt's as if the guy at Microsoft coding this was hiding a top secret :-)
p54913
aVYou may take a look at the following blog post which describes a possible solution
p54914
aVYou basically need to replace the existing ClientDataTypeModelValidatorProvider with a custom one
p54915
aVIf you don't like the hardcore coding that you will need to do you could also replace this integer value inside your view model with a string and have a custom validation attribute on it which would do the parsing and provide a custom error message (which could even be localized)
p54916
as(dp54917
g16
V29407
p54918
stp54919
a((dp54920
g2
(lp54921
VYou should pass query string parameters in the  not with the action name, like this:
p54922
as(dp54923
g16
V29407
p54924
stp54925
a((dp54926
g2
(lp54927
VYou can always  inside your custom validation attribute (damn I already feel guilty for saying this)
p54928
aVAnd if you don't like this approach there's the ModelValidator class in which you have the current HTTP context
p54929
aVHere's a blog post illustrating the concept
p54930
as(dp54931
g16
V29407
p54932
stp54933
a((dp54934
g2
(lp54935
VI agree that having the following:
p54936
aVin your view might be ugly
p54937
aVThat's why I editor/display templates
p54938
aVSo the code looks like this:
p54939
aVand in the corresponding display template:
p54940
aVAs far as your second question is concerned about using jQuery to gather JSON data from various webservices and build the UI, it is an approach that might work for simpler scenarios but IMHO for complex business applications you might want to consider ASP
p54941
aVNET MVC or even Silverlight
p54942
as(dp54943
g16
V29407
p54944
stp54945
a((dp54946
g2
(lp54947
VHere's how you could proceed
p54948
aVFirst you need to write a custom validator attribute in order to ensure that the validation is enforced on the server side
p54949
aVYou could use the one described in this blog post:
p54950
aVNotice that I've modified it to make it implement the  interface and added the  method which simply uses the same error message for client validation as the server side and provides an unique name for this validator that will be used by the jquery unobtrusive adapter
p54951
aVNow all that's left is to decorate your model property with this attribute:
p54952
aVand in your view:
p54953
as(dp54954
g16
V29407
p54955
stp54956
a((dp54957
g2
(lp54958
VYou have a view model to which your view is strongly typed => use strongly typed helpers:
p54959
aVAlso notice that I use a  for the second argument
p54960
aVAnd in your controller action you were returning the view model passed as argument and not the one you constructed inside the action which had the Accounts property correctly setup so this could be problematic
p54961
aVI've cleaned it a bit:
p54962
as(dp54963
g16
V29407
p54964
stp54965
a((dp54966
g2
(lp54967
VYou could specify a prefix to the default model binder:
p54968
aVor use your  model:
p54969
aVNow  parameter will be correctly bound assuming the following request:
p54970
as(dp54971
g16
V29407
p54972
stp54973
a((dp54974
g2
(lp54975
VIf you want to get the value of the corresponding property that the expression is pointing to you could use the FromLambdaExpression method:
p54976
as(dp54977
g16
V29407
p54978
stp54979
a((dp54980
g2
(lp54981
VI'm not sure but it seems to me that "Controller" is the "heavy coding" part to me
p54982
aVYou should avoid having fat controllers
p54983
aVIn fact the controller might depend on a service layer which contains the business logic of you application
p54984
aVThis service layer could itself depend on repositories performing the data access (simple CRUD operations) on the models
p54985
aVSo the controller would simply invoke a business operation call on the service layer to fetch/update the model and then pass a view model to the view in order to display it
p54986
as(dp54987
g16
V29407
p54988
stp54989
a((dp54990
g2
(lp54991
VYou could set the culture to match that of the client:
p54992
as(dp54993
g16
V29407
p54994
stp54995
a((dp54996
g2
(lp54997
VIt is very difficult to say why your model is null in the POST action from the information you provided
p54998
aVI just wonder why doesn't your code look like this instead:
p54999
aVAs far as debugging your problem is concerned you probably want to put some logging inside your controller action which would trace the request parameters being sent and see what's missing
p55000
as(dp55001
g16
V29407
p55002
stp55003
a((dp55004
g2
(lp55005
VYou could take a look at XStream
p55006
as(dp55007
g16
V29407
p55008
stp55009
a((dp55010
g2
(lp55011
VThere is probably no variable called ON
p55012
aVYou could use a boolean value:
p55013
aVor a string value:
p55014
aVObviously setting a local variable to a hardocoded value followed immediately by an if statement testing the value is not very useful
p55015
aVYou could use a global variable which will be set to different values:
p55016
aVthen you could set  on some other part of your code
p55017
as(dp55018
g16
V29407
p55019
stp55020
a((dp55021
g2
(lp55022
VYou could use a BackgroundWorker to offload lengthy operations on a background thread to avoid blocking the main UI thread
p55023
as(dp55024
g16
V29407
p55025
stp55026
a((dp55027
g2
(lp55028
VYou shouldn't use regular expressions to parse HTML for the various reasons outlined in this answer
p55029
aVYou should use an HTML parser
p55030
as(dp55031
g16
V29407
p55032
stp55033
a((dp55034
g2
(lp55035
VThat's a scenario you cannot have
p55036
aVYou can have only a single optional parameter in your route definition and this parameter should always be the LAST parameter in your route
p55037
aVOtherwise the routing engine cannot disambiguate between the routes and this rule has been enforced in ASP
p55038
aVNET MVC 3
p55039
aVThis means that ,  and  cannot be optional
p55040
aVYou need to always provide a value for those parameters
p55041
aVConsider the following urls:
p55042
aVIt's impossible to say without ambiguity to which of your route parameters to bind  and
p55043
as(dp55044
g16
V29407
p55045
stp55046
a((dp55047
g2
(lp55048
VWhat you are doing wrong is that you are trying to modify the value of a POSTed variable in your controller action
p55049
aVSo I suppose you are trying to do this:
p55050
aVand html helpers such as HiddenFor will always first use the POSTed value and after that the value in the model
p55051
aVSo you have a couple of possibilities:
p55052
aVRemove the value from the modelstate:
p55053
aVManually generate the hidden field
p55054
aVWrite a custom helper which will use the value of your model and not the one that's being POSTed
p55055
as(dp55056
g16
V29407
p55057
stp55058
a((dp55059
g2
(lp55060
VThe  method queries the role provider to determine if the currently logged in user has the role
p55061
aVWhen you create a new ASP
p55062
aVNET MVC application using the default template it uses a SQL role provider meaning that it stores the roles in the database
p55063
aVSo when you create a new user you can assign him roles and when you use  it will query the database
p55064
aVHere's a blog post which describes in more details
p55065
as(dp55066
g16
V29407
p55067
stp55068
a((dp55069
g2
(lp55070
VYou could use the following to gather all the values:
p55071
aVand then set the value of your hidden field:
p55072
aVAnd you can see it in action here
p55073
as(dp55074
g16
V29407
p55075
stp55076
a((dp55077
g2
(lp55078
Vshould work fine
p55079
as(dp55080
g16
V29407
p55081
stp55082
a((dp55083
g2
(lp55084
V file is used to register some application global events like: application starts, request begins, an unhandled exception propagates,
p55085
aVUser-specific stuff should be stored into the
p55086
as(dp55087
g16
V29407
p55088
stp55089
a((dp55090
g2
(lp55091
VThe  is a client script
p55092
aVYou cannot mix server side script with client script
p55093
aVI am afraid that you are trying to submit HTML forms with action links instead of using submit buttons which is very bad
p55094
aVI see that you fetch the value of an input field with  and then try to assign it to some action link and send to the server whereas if you used a simple submit button you wouldn't even need javascript
p55095
aVYour code would simply be:
p55096
aVAlso it is clear that if you are using a hidden field it's because the user cannot change the value so an even simpler solution would be to directly generate the link you need:
p55097
as(dp55098
g16
V29407
p55099
stp55100
a((dp55101
g2
(lp55102
VYou have some very broken and messed up simple and double quotes in your code, not to mention that you are trying to modify the  variable over which you are looping which is not a good thing
p55103
aVTry like this:
p55104
aVor if you prefer (but be careful with the simple and double quotes):
p55105
aVAnd demo here
p55106
as(dp55107
g16
V29407
p55108
stp55109
a((dp55110
g2
(lp55111
VThe problem is the following line in your controller action:
p55112
aVHere you are tying your controller to a particular implementation of the repository making it very difficult to unit test in isolation
p55113
aVIn order to achieve weaker coupling between your controller and data access layer I would recommend you using constructor injection:
p55114
aVNow your controller is completely decoupled from a particular implementation of a repository which might depend on a database, etc
p55115
aVNow you could use a mocking framework such as Rhino Mocks or Moq to provide a dummy implementation of this repository for the unit test
p55116
aVPersonally I like very much MVCContrib TestHelper which works with Rhino Mocks and allows for very elegant unit tests of controller actions
p55117
aVSo once you've decoupled your controller from a specific implementation of the repository as I showed you could have the following unit test:
p55118
as(dp55119
g16
V29407
p55120
stp55121
a((dp55122
g2
(lp55123
VEverything that follows the  (hash, pund) sign of the url is NEVER sent to the server
p55124
aVThe server only sees the part before it
p55125
aVOnly client side javascript could use and make sense of it using
p55126
aVSo if you want to use something like this in your application you should leave the default route as is and then have some javascript parse the part following the  sign and perform a redirect to the corresponding url
p55127
aVSo you could have something like this in your page:
p55128
as(dp55129
g16
V29407
p55130
stp55131
a((dp55132
g2
(lp55133
VAs seen in this live demonstration the CSS and the supposed HTML markup work fine
p55134
aVSo you have either:
p55135
aVHTML that doesn't match the CSS rules
p55136
aVThe CSS file is not found/included in your application because you specified a wrong path to it
p55137
aVIn any cases FireBug could be very useful in diagnosing this types of problems
p55138
as(dp55139
g16
V29407
p55140
stp55141
a((dp55142
g2
(lp55143
VThere's also WMD and its C# port markdownsharp
p55144
as(dp55145
g16
V29407
p55146
stp55147
a((dp55148
g2
(lp55149
VYou need to define a new model containing the two properties you are interested in:
p55150
aVand then strongly type your partial view to this model and pass an instance of it:
p55151
as(dp55152
g16
V29407
p55153
stp55154
a((dp55155
g2
(lp55156
VYou may take a look at the following blog post which uses an HTML helper
p55157
aVAnd here's another one
p55158
as(dp55159
g16
V29407
p55160
stp55161
a((dp55162
g2
(lp55163
VMaybe there's a problem with the datatime format
p55164
aVTry using ISO8601:
p55165
as(dp55166
g16
V29407
p55167
stp55168
a((dp55169
g2
(lp55170
VTry adding the  attribute to the method:
p55171
as(dp55172
g16
V29407
p55173
stp55174
a((dp55175
g2
(lp55176
VSelecting an option from the dropdown doesn't modify the  attribute in the DOM
p55177
aVBut if you query the current value using  it would return the value of the currently selected option
p55178
as(dp55179
g16
V29407
p55180
stp55181
a((dp55182
g2
(lp55183
VAssuming the server sends the data in the following format:
p55184
aVyou could:
p55185
as(dp55186
g16
V29407
p55187
stp55188
a((dp55189
g2
(lp55190
VYour controller action is very strange
p55191
aVYou are returning a JSON object but which contains HTML
p55192
aVThat's not necessary
p55193
aVIf you intend to return HTML then return a partial view
p55194
aVJSON brings no value in your situation:
p55195
aVIf you want to use JSON then work with objects:
p55196
aVand then:
p55197
as(dp55198
g16
V29407
p55199
stp55200
a((dp55201
g2
(lp55202
VThe  selector will give you want you need:
p55203
as(dp55204
g16
V29407
p55205
stp55206
a((dp55207
g2
(lp55208
VYou could use the  tag:
p55209
as(dp55210
g16
V29407
p55211
stp55212
a((dp55213
g2
(lp55214
V should work - here's a demo, and the full code:
p55215
as(dp55216
g16
V29407
p55217
stp55218
a((dp55219
g2
(lp55220
VI think you are aware of the same origin policy restriction which prevents you from sending AJAX requests cross domain
p55221
aVJSONP is one possible workaround but from what I can see the url you are trying to fetch doesn't return JSONP formatted data
p55222
aVYou might want to check the documentation of your provider to see if it supports JSONP
p55223
aVAnother possible workaround is to use a server side script on your domain which will act as a bridge between your domain and the distant domain and then you would send the AJAX request to this script
p55224
as(dp55225
g16
V29407
p55226
stp55227
a((dp55228
g2
(lp55229
VHere are the steps I've used and which worked for me:
p55230
aVCreate a new ASP
p55231
aVNET MVC 3 project using the Empty template
p55232
aVAdd a new controller called HomeController with the following contents (you don't need any view => we are throwing an exception anyway):
p55233
aVTurn on custom errors on web
p55234
aVconfig by adding the following section:
p55235
aVRun the site and the  view which was generated by the template will be shown
p55236
as(dp55237
g16
V29407
p55238
stp55239
a((dp55240
g2
(lp55241
VQuite honestly view models is the way to go here
p55242
aVBut because you asked I will try to answer
p55243
aVIIRC EF models are partial classes, meaning that you could add properties to them, like this:
p55244
aVAnother way to achieve this is to write a custom model binder, like this:
p55245
aVand then  should bind correctly to the list
p55246
as(dp55247
g16
V29407
p55248
stp55249
a((dp55250
g2
(lp55251
VHow about this:
p55252
as(dp55253
g16
V29407
p55254
stp55255
a((dp55256
g2
(lp55257
VTry like this:
p55258
as(dp55259
g16
V29407
p55260
stp55261
a((dp55262
g2
(lp55263
VYou could have a container div which will harbor the new file input fields and a button to add new inputs:
p55264
as(dp55265
g16
V29407
p55266
stp55267
a((dp55268
g2
(lp55269
VThe whole idea of the image framework is that it generates the CSS files dynamically
p55270
aVSo let's suppose that you have placed your images inside the  folder: img1
p55271
aVpng, img2
p55272
aVpng, img3
p55273
aVpng
p55274
aVNow you simply register the HTTP module in your web
p55275
aVconfig:
p55276
aVand then inside the head section of your page you include the dynamically generated CSS:
p55277
aVwhich will render the following:
p55278
aVNow all that is left is to use the rules contained inside this CSS:
p55279
aVOr if you wanted to directly include the image inside your markup:
p55280
aVSo the idea is that you use directly the dynamic CSS generated by the framework, you cannot use those rules in your CSS files
p55281
aVAlso make sure you read the documentation for the different modes and the  file which allows you to customize those modes
p55282
as(dp55283
g16
V29407
p55284
stp55285
a((dp55286
g2
(lp55287
VYou could use underscore () and the helper is intelligent enough to do the rest:
p55288
aVAnd for those who want to achieve the same in pre ASP
p55289
aVNET MVC 3 versions they could:
p55290
as(dp55291
g16
V29407
p55292
stp55293
a((dp55294
g2
(lp55295
VSimply enable custom errors in web
p55296
aVconfig:
p55297
aVand the  view will be rendered on unhandled error (assuming your controller is decorated with the  attribute)
p55298
aVThen you can have more fine grained control and different views for different exceptions:
p55299
as(dp55300
g16
V29407
p55301
stp55302
a((dp55303
g2
(lp55304
VHere:
p55305
aVThat's what makes the authentication cookie persistent and the browser stores it on the client computer so that when you restart the browser the cookie is still there
p55306
aVIf you don't want persistent cookies you could try this:
p55307
as(dp55308
g16
V29407
p55309
stp55310
a((dp55311
g2
(lp55312
VYou could try this:
p55313
aVand to reduce the ugliness you could write a custom HTML helper:
p55314
aVand then simply:
p55315
as(dp55316
g16
V29407
p55317
stp55318
a((dp55319
g2
(lp55320
VThis code works fine in both views and
p55321
aVAnd as far as helpers are concerned here's the syntax:
p55322
aVThis being said declaring local variables and writing C# code in views should be avoided
p55323
as(dp55324
g16
V29407
p55325
stp55326
a((dp55327
g2
(lp55328
VWhat you have there is a field, not a property
p55329
aVAnd to set its value you could do this:
p55330
as(dp55331
g16
V29407
p55332
stp55333
a((dp55334
g2
(lp55335
VWhy would you want to return a list of domain objects in your view model
p55336
aVThat's not what view models are supposed to be
p55337
aVView models should reference only other view models
p55338
aVSo you have a nice  which represents a user
p55339
aVNow you need to work with multiple users in your view, so either you pass an  or if you need some other properties you design a view model for this:
p55340
aVand now your controller action might look like this:
p55341
aVNow inside your view you could simply use a display template for this  property () to show a list of them
p55342
aVUPDATE:
p55343
aVAfter seeing your update here's how to proceed in terms of good practices:
p55344
aVI've also used an AutoMap attribute in a sample project which could simplify your code to this:
p55345
aVThis attribute will automatically run after the controller action and before the view is rendered and would use AutoMapper to replace the model with the corresponding view model
p55346
as(dp55347
g16
V29407
p55348
stp55349
a((dp55350
g2
(lp55351
VFirst of all your controller action shouldn't look as it currently does
p55352
aVAll controller actions should return an ActionResult and you shouldn't be HTML encoding parameters inside
p55353
aVThat's the responsibility of the view:
p55354
aVand then in your view display and HTML encode like this:
p55355
aVNow back to your question about handling urls like this
p55356
aVYou could simply define the following route in your :
p55357
aVand then  will invoke the  action on the  controller passing  as  parameter
p55358
as(dp55359
g16
V29407
p55360
stp55361
a((dp55362
g2
(lp55363
VI am afraid that the only way is to use a partial:
p55364
as(dp55365
g16
V29407
p55366
stp55367
a((dp55368
g2
(lp55369
VOnly the last parameter of a route definition can be optional and this rule has been enforced in ASP
p55370
aVNET MVC 3
p55371
aVIn your example you have both  and  optional which is not possible
p55372
aVConsider the following URL:
p55373
aVGiven this URL the routing engine cannot say whether  or
p55374
aVSo why generating an URL which can never be parsed back to it's constituent tokens
p55375
aVNow maybe that's a bug or a feature or call it whatever but in all cases you should avoid having such routes
p55376
aVIMHO the bug here is that the framework doesn't throw an exception telling you that only the last parameter in a route definition can be optional, but of course that's just my opinion
p55377
as(dp55378
g16
V29407
p55379
stp55380
a((dp55381
g2
(lp55382
VThat's normal behavior
p55383
aVYour  action blocks until it completes
p55384
aVIt doesn't return any response until the  method has finished executing
p55385
aVI suppose that's why you are calling it with AJAX
p55386
aVThe problem is that while this method runs and writes to the session and all other requests from the same session will be queued by the ASP
p55387
aVNET engine
p55388
aVYou cannot write and read from the session at the same time
p55389
aVYou will have to find another thread-safe storage for the progress data other than the session
p55390
as(dp55391
g16
V29407
p55392
stp55393
a((dp55394
g2
(lp55395
VWe still need async controllers
p55396
aVYes
p55397
aVAsync controllers are useful in situations where you have lengthy operations such as network calls and you don't want to monopolize worker threads for them
p55398
aVThe fact that there are 5000 worker threads by default doesn't mean that you have to waste them
p55399
aVIs it because you are a millionaire that you are giving away your money
p55400
aVNo
p55401
aVObviously if you don't use async controllers correctly they will do more harm than good
p55402
as(dp55403
g16
V29407
p55404
stp55405
a((dp55406
g2
(lp55407
VYou could use the starts with selector:
p55408
as(dp55409
g16
V29407
p55410
stp55411
a((dp55412
g2
(lp55413
VWorks fine for me
p55414
aVI am using the latest FluentValidation version (2
p55415
ag2721
ag2721
aV0) and ASP
p55416
aVNET MVC 3 RTM
p55417
aVModel and validator:
p55418
aVController:
p55419
aVView:
p55420
aVin :
p55421
aVTwo cases:
p55422
aVLeave the textbox empty:  validation error message is shown
p55423
aVType an invalid email:  validation error message is shown
p55424
aVAnd finally here's the generated HTML for the textbox:
p55425
as(dp55426
g16
V29407
p55427
stp55428
a((dp55429
g2
(lp55430
VHere's a discussion about the technologies used in SmarterMail:
p55431
aVWe use components from Telerik for the
p55432
aVSplitters, treeviews, editor, menus,
p55433
aVdate/time pickers, panelbars,
p55434
aVtabstrips, and popup windows
p55435
aVWith our
p55436
aVown custom skins and a lot of hacks
p55437
aVfor efficiency
p55438
aVThough I think someone
p55439
aVat telerik spies on us because every
p55440
aVtime we hack in an optimization, they
p55441
aVfollow suit in their next version
p55442
aVThe grid is our own control
p55443
aVOther
p55444
aVthan that we use asp
p55445
aVnet ajax and
p55446
aVjquery and thats it
p55447
aVAnd because your question was tagged with , you could use the same controls in your application
p55448
aVTelerik provide controls specifically designed for ASP
p55449
aVNET MVC
p55450
aVAnd jquery and jquery UI are totally server technology agnostic
p55451
as(dp55452
g16
V29407
p55453
stp55454
a((dp55455
g2
(lp55456
VYou could return an anonymous object:
p55457
aVOr if you want to use the result outside of the scope of the current method you could define a custom type:
p55458
as(dp55459
g16
V29407
p55460
stp55461
a((dp55462
g2
(lp55463
VAnd here's a live demo
p55464
as(dp55465
g16
V29407
p55466
stp55467
a((dp55468
g2
(lp55469
VIn Razor the  test should be like this:
p55470
aVand the  like this:
p55471
aVor you could also use the  method which is equivalent and a little shorter:
p55472
as(dp55473
g16
V29407
p55474
stp55475
a((dp55476
g2
(lp55477
VIt's up to you to generate those  instances and return them
p55478
aVIn the example they have hardcoded a  and a  but in a real application you would fetch this information from your database and generate multiple   dynamically
p55479
aVFor example:
p55480
aVNow the subscribers of your syndication feed  will always get the latest information directly from your data store
p55481
as(dp55482
g16
V29407
p55483
stp55484
a((dp55485
g2
(lp55486
VAm I missing something
p55487
aVYes, you are missing View Models
p55488
aVController actions take/pass view models from/to views and not models
p55489
aVView models are classes which are specifically tailored to the needs of a given view
p55490
aVThey contain the only the required properties and the proper formatting for the given view
p55491
aVA view model could be a subset of a model or an aggregation of multiple models (it depends on the requirements of the view)
p55492
aVView models are always defined in the web project because they are very tightly coupled to views
p55493
aVSo it is view models that you should localize/globalize with resources
p55494
aVExample of workflow:
p55495
aVThe controller action is invoked and it queries the repository to fetch a model
p55496
aVThe controller maps the model to the corresponding view model (AutoMapper could you here)
p55497
aVThe controller passes the view model to the view and the view displays it with the proper formating/localization
p55498
aVConclusion: models should not be formatted/localized or they become more difficult to reuse
p55499
as(dp55500
g16
V29407
p55501
stp55502
a((dp55503
g2
(lp55504
VThat's how the method has been implemented
p55505
aVFor some known characters it uses the corresponding entity and for everything else it uses the corresponding hex value and there is not much you could do to modify this behavior
p55506
aVExcerpt from the implementation of  (as seen with reflector):
p55507
aVThis being said you shouldn't care as this method will always produce valid, safe and correctly encoded HTML
p55508
as(dp55509
g16
V29407
p55510
stp55511
a((dp55512
g2
(lp55513
VOf course, you can define types in the global namespace:
p55514
as(dp55515
g16
V29407
p55516
stp55517
a((dp55518
g2
(lp55519
VWell you could use an HTML  containing the dropdown and a submit button
p55520
aVWhen the submit button is pressed the form will POST the selected value of the dropdown to the controller action which in turn could return a model containing some collection required to display your grid
p55521
aVSo inside the view you would test whether this collection has been initialized (which it wouldn't when initially loading the view) and conditionally include the required display template containing the Grid logic
p55522
as(dp55523
g16
V29407
p55524
stp55525
a((dp55526
g2
(lp55527
VIn your design I can't see many common things between the  and  classes
p55528
aVWhy does  derive from  when you reimplement everything
p55529
aVBoth classes have an integer property with public getter and private setter and both classes have default constructors and a constructor allowing to initialize the integer property
p55530
aVSo why do those two classes exist anyways
p55531
as(dp55532
g16
V29407
p55533
stp55534
a((dp55535
g2
(lp55536
VMaybe they are trying to upload files larger than the maximum allowed file size or the request timeouts which could be controlled by the following section in your web
p55537
aVconfig:
p55538
aVAlso the server's EventLog probably contains some errors which could give you more clues
p55539
aVAnother useful thing is to subscribe for the  event in your  and try to trace all unhandled exceptions which might occur:
p55540
as(dp55541
g16
V29407
p55542
stp55543
a((dp55544
g2
(lp55545
V supports only SQL Server
p55546
aVEntity Framework supports other databases as well
p55547
as(dp55548
g16
V29407
p55549
stp55550
a((dp55551
g2
(lp55552
VIs it not possible to have a list as hiddenfield
p55553
aVOf course that it is not possible
p55554
aVA hidden field takes only a single string value:
p55555
aVSo if you need a list you need multiple hidden fields, for each item of the list
p55556
aVAnd if those items are complex objects you need a hidden field for each property of each item of the list
p55557
aVOr a much simpler solution is for this hidden field to represent some unique identifier:
p55558
aVand in your controller action you would use this unique identifier to refetch your collection from wherever you initially got it
p55559
aVYet another possibility is to persist your model into the  (just mentioning the Session for the completeness of my answer sake, but it's not something that I would actually recommend using)
p55560
as(dp55561
g16
V29407
p55562
stp55563
a((dp55564
g2
(lp55565
VA RESTFul way to handle this is to throw a 404 Not Found (because the user tried to delete a record that no longer exists):
p55566
aVAnother way is to add an error into the model state and redisplay the view:
p55567
aVand inside the view you would have a validation summary or a validation message for  to display the message
p55568
ag8119
ag8120
aV: Nice TODO comment over there :-)
p55569
as(dp55570
g16
V29407
p55571
stp55572
a((dp55573
g2
(lp55574
VEven if the quotes are being encoded your javascript should work
p55575
aVFor example the following snippet alerts the correct text:
p55576
aVAnother way to achieve this is to use unobtrusive javascript and not mix markup with script:
p55577
aVand then in a separate javascript file using jquery:
p55578
as(dp55579
g16
V29407
p55580
stp55581
a((dp55582
g2
(lp55583
VYou use javascript to configure it
p55584
aVYou may also checkout the Google Chart API start page
p55585
as(dp55586
g16
V29407
p55587
stp55588
a((dp55589
g2
(lp55590
VThis should work
p55591
aVI have used DotNetOpenAuth with ASP
p55592
aVNET MVC 3 without any issues
p55593
aVYou might want to check that your session doesn't expire during the user is on the remote site for authentication
p55594
aVThe fact that you are getting the same SessionId doesn't mean that the session hasn't expired
p55595
aVThis could also happen if the server restarts the AppDomain
p55596
as(dp55597
g16
V29407
p55598
stp55599
a((dp55600
g2
(lp55601
VAssuming a  controller with an  action here are the default search order locations:
p55602
aVASP
p55603
aVNET MVC 2:
p55604
aVASP
p55605
aVNET MVC 3:
p55606
as(dp55607
g16
V29407
p55608
stp55609
a((dp55610
g2
(lp55611
VThe problem comes from the fact that the model you are passing to the view is  and inside the POST action you expect
p55612
aVSo make sure you use the correct prefix:
p55613
aVI suppose that you editor template generates fields like this:
p55614
aVSo you need to indicate the model binder that there's such prefix
p55615
as(dp55616
g16
V29407
p55617
stp55618
a((dp55619
g2
(lp55620
VTry adding an ignore route:
p55621
as(dp55622
g16
V29407
p55623
stp55624
a((dp55625
g2
(lp55626
VYou may checkout the flattening sample in the documentation
p55627
aVAnd here's an example:
p55628
aVNotice how for the flattening to work out of the box the target property is called
p55629
as(dp55630
g16
V29407
p55631
stp55632
a((dp55633
g2
(lp55634
VYes, this code seems perfectly fine
p55635
as(dp55636
g16
V29407
p55637
stp55638
a((dp55639
g2
(lp55640
VYou need to run this application under an account that has administrative privileges to the server you are creating virtual directories
p55641
as(dp55642
g16
V29407
p55643
stp55644
a((dp55645
g2
(lp55646
VYou could set this in the properties of the solution:
p55647
as(dp55648
g16
V29407
p55649
stp55650
a((dp55651
g2
(lp55652
VHTML  elements cannot be nested
p55653
aVNesting them results in unexpected behavior which could vary between different browsers
p55654
aVQuote from the specification:
p55655
aVEvery form must be enclosed within a
p55656
aVFORM element
p55657
aVThere can be several
p55658
aVforms in a single document, but the
p55659
aVFORM element can't be nested
p55660
aVSo you might need to remove the outer form or find another way of organizing your markup
p55661
as(dp55662
g16
V29407
p55663
stp55664
a((dp55665
g2
(lp55666
VYou have two possibilities
p55667
aVEither start two separate instances of Visual Studio, load both sites and run them in debug mode or combine the two projects into a Visual Studio single solution (then you have the possibility to specify multiple start projects in the properties of the solution so that when you hit F5 both web sites will be run in debug mode)
p55668
as(dp55669
g16
V29407
p55670
stp55671
a((dp55672
g2
(lp55673
VYou can modify the target framework in the properties of the project:
p55674
as(dp55675
g16
V29407
p55676
stp55677
a((dp55678
g2
(lp55679
VThe XmlSerializer will automatically XML encode those symbols
p55680
aVExample:
p55681
aVproduces:
p55682
as(dp55683
g16
V29407
p55684
stp55685
a((dp55686
g2
(lp55687
VHave you tried:
p55688
as(dp55689
g16
V29407
p55690
stp55691
a((dp55692
g2
(lp55693
VActually you don't really need a helper:
p55694
aVor if you want to avoid hardcoding:
p55695
aVand then:
p55696
aVor another possibility is to use MVCContrib which allows you to write the following (personally that's what I like and use):
p55697
aVor yet another possibility is to use T4 templates
p55698
aVSo it's up to you to choose and play
p55699
aVUPDATE:
p55700
aVand then:
p55701
aVUPDATE 2:
p55702
aVExample of unit test for the  extension method:
p55703
as(dp55704
g16
V29407
p55705
stp55706
a((dp55707
g2
(lp55708
VYou need two properties on your view model: one that will contain the selected group ids and one that will contain the list:
p55709
aVand then you would use the  helper to allow for multiple choices:
p55710
aVNow assuming the following view model is passed to the view:
p55711
aVThen on the view the last two elements will be automatically preselected
p55712
as(dp55713
g16
V29407
p55714
stp55715
a((dp55716
g2
(lp55717
VYou have invalid JSON:
p55718
aVI would recommend you calling it like this as it will take care of properly encoding your parameters:
p55719
as(dp55720
g16
V29407
p55721
stp55722
a((dp55723
g2
(lp55724
VThe syntax would simply be:
p55725
aVBut you must ensure that your external library appears in the  section of your web
p55726
aVconfig
p55727
aVAnd it could even look like this:
p55728
aVif the  namespace is added to the  section of your web
p55729
aVconfig
p55730
as(dp55731
g16
V29407
p55732
stp55733
a((dp55734
g2
(lp55735
V will give you the current url (as shown in the browser address)
p55736
aVAfter parsing it and retrieving the relevant part you would compare it with each link href and assign the  class to the corresponding link
p55737
as(dp55738
g16
V29407
p55739
stp55740
a((dp55741
g2
(lp55742
VIf we suppose that you have a model:
p55743
aVyou could then have a mapping between  and :
p55744
aVand then when you've got your  you would simply convert it to an :
p55745
aVA more realistic example would be to have the following view model:
p55746
aVSo now your controller action could look like this:
p55747
aVand inside your strongly typed view:
p55748
as(dp55749
g16
V29407
p55750
stp55751
a((dp55752
g2
(lp55753
Vand if you want one liners:
p55754
aVbut personally I find the first far more readable
p55755
as(dp55756
g16
V29407
p55757
stp55758
a((dp55759
g2
(lp55760
VLet's take a moment and see what do we need here
p55761
aVWe need to show a form which will contain multiple checkboxes (one for each value of the enum) and an associated label (this label should come from the Description attribute use on the enum)
p55762
aVWhen this form is submitted we want to fetch all the values that the use has checked
p55763
aVSo as always once we have clear definition of what we are trying to do we introduce our view model:
p55764
aVThen we write a controller:
p55765
aVAnd finally a strongly typed view corresponding to the  action of our controller (~/Views/Home/Index
p55766
aVaspx):
p55767
aVand the last part is the corresponding editor template ():
p55768
aVNow when this form is submitted inside the POST index action you would get a list of all enums with a corresponding boolean value indicating whether the user checked it or not
p55769
as(dp55770
g16
V29407
p55771
stp55772
a((dp55773
g2
(lp55774
VYou would
p55775
aVObviously you would have a corresponding page in the  section of your web
p55776
aVconfig to indicate the 404 to the user
p55777
as(dp55778
g16
V29407
p55779
stp55780
a((dp55781
g2
(lp55782
VThis conflict is difficult to resolve simply because:
p55783
aVare the same and it will always be the first route that will pick the request
p55784
aVYou might need to put some constraints (like for example saying that the catch-all value will always contain dashes which would disambiguate it from the other route because an action name cannot contain dashes or fix the controller for the catch-all route)
p55785
as(dp55786
g16
V29407
p55787
stp55788
a((dp55789
g2
(lp55790
VI would recommend you working with view models and avoid using any
p55791
aVSo you start by defining a view model:
p55792
aVand then inside your controller action you would populate this view model:
p55793
aVand finally in your editor template ():
p55794
as(dp55795
g16
V29407
p55796
stp55797
a((dp55798
g2
(lp55799
VPersonally unit test my routes and a in order to ensure that changes to my routes table doesn't cause conflicts I run my unit tests and look for the Red color
p55800
as(dp55801
g16
V29407
p55802
stp55803
a((dp55804
g2
(lp55805
VThere is a new Auto-Start feature in IIS 7
p55806
aV5 and ASP
p55807
aVNET 4
p55808
aV0 which allows you to load all application sin memory when the server starts thus avoiding the delay
p55809
aVFor all previous versions you could schedule an automated request when the server starts in order to load the application in memory so that subsequent requests be faster
p55810
as(dp55811
g16
V29407
p55812
stp55813
a((dp55814
g2
(lp55815
VMaybe something like jquery UI accordion could help
p55816
as(dp55817
g16
V29407
p55818
stp55819
a((dp55820
g2
(lp55821
VYes, it is possible
p55822
aVYou might take a look at the following blog post about the convention used by the default model binder
p55823
as(dp55824
g16
V29407
p55825
stp55826
a((dp55827
g2
(lp55828
VYou could have a view model:
p55829
aVA controller:
p55830
aVA View ():
p55831
aVand the corresponding Editor template ():
p55832
aVNow when you submit the form you would get a list of values and for each value whether it is checked or not
p55833
as(dp55834
g16
V29407
p55835
stp55836
a((dp55837
g2
(lp55838
VThe  helpers use jquery by default in ASP
p55839
aVNET MVC 3
p55840
aVThis means that in the success callback you no longer get a context as first argument but you get the value returned by the server
p55841
aVYou no longer have any  functions on it
p55842
aVIt's a string value and represents your server response
p55843
aVSo try like this:
p55844
aVor even better use normal links:
p55845
aVwhich you would easily AJAXify in a separate file:
p55846
as(dp55847
g16
V29407
p55848
stp55849
a((dp55850
g2
(lp55851
VYou could use the  attribute on your model:
p55852
aVand then to display:
p55853
aVand to edit:
p55854
as(dp55855
g16
V29407
p55856
stp55857
a((dp55858
g2
(lp55859
VYou could serialize your list to a JSON object and then loop through it:
p55860
aVAnother possibility is to fetch this list in an AJAX request:
p55861
as(dp55862
g16
V29407
p55863
stp55864
a((dp55865
g2
(lp55866
VYou could either remove your custom event handler or have a condition on it so that you don't prevent the default action once you no longer need it
p55867
as(dp55868
g16
V29407
p55869
stp55870
a((dp55871
g2
(lp55872
VThe double quotes are not necessary:
p55873
aVYou should make sure that you have specified a valid image url
p55874
aVHere's a demo
p55875
as(dp55876
g16
V29407
p55877
stp55878
a((dp55879
g2
(lp55880
VYou are missing some double quotes here:
p55881
aVhere:
p55882
aVand here:
p55883
as(dp55884
g16
V29407
p55885
stp55886
a((dp55887
g2
(lp55888
VYou could use the Fuslogvw
p55889
aVexe utility which will provide you more information on the calling assembly
p55890
aVScott Hansleman also blogged about it
p55891
as(dp55892
g16
V29407
p55893
stp55894
a((dp55895
g2
(lp55896
VNormally you don't need this route
p55897
aVThe default route should work fine as it specifies a default controller and action which you could modify to match your requirements
p55898
aVThus if the user requests  this default controller and action should be executed
p55899
aVThis would work out of the box on IIS7 but on II6 it won't work because you cannot have extensionless urls by default
p55900
aVYou might take a look at the following blog post if you are running on IIS6
p55901
as(dp55902
g16
V29407
p55903
stp55904
a((dp55905
g2
(lp55906
VIt should be like this:
p55907
aVwhere you have:
p55908
aVHere's an alternative solution I would recommend you:
p55909
aVand then in a separate javascript file AJAXify the link:
p55910
as(dp55911
g16
V29407
p55912
stp55913
a((dp55914
g2
(lp55915
VYou don't need any data annotation for boolean properties
p55916
aVIf the value is not  or  the default model binder will handle the case when trying to parse it and add a model error
p55917
aVSo basically just by the fact of having such model property it would only accept  or
p55918
aVEvery other value would be considered as error
p55919
aVIf you were using a nullable boolean you could enforce it to have a value with the  attribute:
p55920
aVTo ensure that the user checked the checkbox you could write a custom validation attribute:
p55921
aVand then:
p55922
as(dp55923
g16
V29407
p55924
stp55925
a((dp55926
g2
(lp55927
VWhy are you using child actions and overriding controllers to handle this
p55928
aVWhy not display templates:
p55929
aVwhere  would be the name of the corresponding display template
p55930
aVExample:
p55931
aVModel:
p55932
aVController:
p55933
aVView ():
p55934
aVDisplay Template ():
p55935
aVOf course you could also have a display template for the base class ():
p55936
aVand this template would have been rendered if your controller action had returned the base class as model
p55937
as(dp55938
g16
V29407
p55939
stp55940
a((dp55941
g2
(lp55942
VWhere do I put my validation code
p55943
aVOn the view models you should validate everything that's specific to the application like for example the date should be in en-US format culture,
p55944
aVI need to add code to map between business objects and view models
p55945
aVThat's why there are tools such as AutoMapper
p55946
aVDifferent problems arise when you use directly your domain models in the views:
p55947
aVThe views have specific requirements for displaying the data (localization/globalization) so you either end up with spaghetti code in your views or you put this code on your models so that they become less reusable in other applications because you have polluted them with specific presentation stuff
p55948
aVYou have different validation requirements based on the view
p55949
aVLet's take for example the case of Add and Update views
p55950
aVIn the Add view the Id property won't be needed and it won't be required because you will be inserting a new item
p55951
aVIn the Update view the Id property would be required because you would be updating an existing item
p55952
aVIt would be difficult to handle those specific validation rules without view models
p55953
aVThe models might contain properties such as  and then I am leaving to your imagination the implication of a controller action with the following signature:
p55954
aVassuming that you have hidden this property from the underlying form by not including it
p55955
aVThe business models don't change often whereas the UI could change more often
p55956
aVWhat if your customer asks you to split your screen in two
p55957
aVThe way you present the information changes and the way it is formatted also change
p55958
aVIf you use your models directly into the views the spaghetiness of your views becomes worse and worse with every change
p55959
aVAbout 60% of the question I am answering on StackOverflow in the asp
p55960
aVnet-mvc tag wouldn't have been asked if the OP have used a view model
p55961
as(dp55962
g16
V29407
p55963
stp55964
a((dp55965
g2
(lp55966
VWhat is this for and why would I use @":\u005c" instead of ":\u005c"
p55967
aVBecause when you have a long sting with many  you don't need to escape them all
p55968
as(dp55969
g16
V29407
p55970
stp55971
a((dp55972
g2
(lp55973
VYour  script didn't set the  HTTP header
p55974
as(dp55975
g16
V29407
p55976
stp55977
a((dp55978
g2
(lp55979
VYou could do this in the Initialize method of a base controller
p55980
aVAnother possibility is to register a global filter:
p55981
aVand in the  event of your :
p55982
as(dp55983
g16
V29407
p55984
stp55985
a((dp55986
g2
(lp55987
VAny client (no matter what technology it is using) respecting the HTTP protocol is capable of calling ASP
p55988
aVNET MVC controller actions
p55989
aVThey are just normal server side scripts that expect properly formatted HTTP request and send a properly formatted HTTP response
p55990
as(dp55991
g16
V29407
p55992
stp55993
a((dp55994
g2
(lp55995
VYou start by writing a class that derives from Attribute:
p55996
aVThen you could decorate anything (class, method, property,
p55997
aVwith this attribute:
p55998
aVand finally you would use reflection to fetch it:
p55999
aVYou could limit the target types to which this custom attribute could be applied using the AttributeUsage attribute:
p56000
aVImportant things to know about attributes:
p56001
aVAttributes are metadata
p56002
aVThey are baked into the assembly at compile-time which has very serious implications of how you could set their properties
p56003
aVOnly constant (known at compile time) values are accepted
p56004
aVThe only way to make any sense and usage of custom attributes is to use Reflection
p56005
aVSo if you don't use reflection at runtime to fetch them and decorate something with a custom attribute don't expect much to happen
p56006
aVThe time of creation of the attributes is non-deterministic
p56007
aVThey are instantiated by the CLR and you have absolutely no control over it
p56008
as(dp56009
g16
V29407
p56010
stp56011
a((dp56012
g2
(lp56013
VIt's exactly as you have it, you need to specify the  and  generic arguments in a class which requires a generic constraint on :
p56014
aVor you could have them fixed:
p56015
as(dp56016
g16
V29407
p56017
stp56018
a((dp56019
g2
(lp56020
VYou could subscribe for the endRequest event on the
p56021
as(dp56022
g16
V29407
p56023
stp56024
a((dp56025
g2
(lp56026
VYou could use the window
p56027
aVsetInterval method:
p56028
as(dp56029
g16
V29407
p56030
stp56031
a((dp56032
g2
(lp56033
VStart by installing VS2010 (the edition you would choose would obviously depend on your budget)
p56034
aVAs far as the other components are concerned the order in which they are being installed is not really important
p56035
as(dp56036
g16
V29407
p56037
stp56038
a((dp56039
g2
(lp56040
VPersonally, I don't see any advantage of using generics in this particular case
p56041
as(dp56042
g16
V29407
p56043
stp56044
a((dp56045
g2
(lp56046
s(dp56047
g16
V29407
p56048
stp56049
a((dp56050
g2
(lp56051
VBy default the  partial as created by the template is not strongly typed and doesn't require any model
p56052
aVIf you modified it so that it requires a model you will need to pass this model when calling it:
p56053
as(dp56054
g16
V29407
p56055
stp56056
a((dp56057
g2
(lp56058
VYour code is correct
p56059
aVYou should get the most recent blog entry again if there was a validation error so that you can correctly redisplay the view
p56060
as(dp56061
g16
V29407
p56062
stp56063
a((dp56064
g2
(lp56065
VHere's an article you might find useful
p56066
as(dp56067
g16
V29407
p56068
stp56069
a((dp56070
g2
(lp56071
VHere:
p56072
aVyou are not passing any argument to the  function which expects an  argument
p56073
aVAlso because you are using jquery I don't really understand why you are mixing markup and javascript
p56074
aVWouldn't it be better like this:
p56075
aVand then:
p56076
aVwhich could also be written like this:
p56077
aVAll this being said, you could also take a look at the jquery watermark plugin which provides similar functionality to what I suspect you are trying to implement
p56078
as(dp56079
g16
V29407
p56080
stp56081
a((dp56082
g2
(lp56083
VHere:
p56084
aVyou need to inject the server time:
p56085
aVwhere obviously those are server side variables representing the server time and you should adapt the syntax based on the server side language you are using
p56086
aVHere are the different overloads of the  constructor you could use to assign it to some given date
p56087
as(dp56088
g16
V29407
p56089
stp56090
a((dp56091
g2
(lp56092
VThis will depend on what does the web service is doing
p56093
aVThere are features that you cannot use in Medium trust
p56094
aVFor example you cannot use Reflection and have unsafe code in Medium trust
p56095
as(dp56096
g16
V29407
p56097
stp56098
a((dp56099
g2
(lp56100
VYou cannot use
p56101
aVNET 4
p56102
aV0 specific features in an application targeting
p56103
aVNET 2
p56104
ag2721
aVYou will need to migrate to
p56105
aVNET 4
p56106
ag2721
as(dp56107
g16
V29407
p56108
stp56109
a((dp56110
g2
(lp56111
VThe ASP
p56112
aVNET Session cannot be shared between different applications that are hosted in different application pools in IIS
p56113
aVThere are hacks that could allow you to do it but it is not recommended
p56114
aVThe WCF service shouldn't depend on any session or it will be less reusable
p56115
aVThe ASP
p56116
aVNET application which is consuming this service could pass all the necessary information when invoking a method
p56117
as(dp56118
g16
V29407
p56119
stp56120
a((dp56121
g2
(lp56122
VThis component is sending an  instead of  which is what the default model binder can work with
p56123
aVSo you cannot expect  to have any value with such a request
p56124
aVYou will need to manually read the request stream:
p56125
as(dp56126
g16
V29407
p56127
stp56128
a((dp56129
g2
(lp56130
VYou will need to pass the value of the textbox along with the request
p56131
aVYou could use the  property of the  control
p56132
aVInside the upload handler you would then simply read the request value:
p56133
as(dp56134
g16
V29407
p56135
stp56136
a((dp56137
g2
(lp56138
VHint for
p56139
aVNET 4
p56140
aV0:
p56141
as(dp56142
g16
V29407
p56143
stp56144
a((dp56145
g2
(lp56146
VYou could start with a model:
p56147
aVthen a controller:
p56148
aVa View ():
p56149
aVAnd finally a corresponding editor template:
p56150
aVNow when you submit the form in the POST action you will get the list of selected values along with their id
p56151
as(dp56152
g16
V29407
p56153
stp56154
a((dp56155
g2
(lp56156
VI am afraid that this is not possible
p56157
aVUnfortunately the WebGrid it doesn't support the same syntax as standard HTML helper such as  where you could:
p56158
aVand the underscore would be automatically converted to dash
p56159
as(dp56160
g16
V29407
p56161
stp56162
a((dp56163
g2
(lp56164
VYou can't fool the default model binder
p56165
aVIt simply tries to parse the request string value into a decimal using the culture specified in your web
p56166
aVconfig
p56167
aVSo because you are also using client validation there might be a culture difference between the client and the server
p56168
aVFor example the browser could be configured to use en-US and the server pt-BR and then you might have a problem
p56169
aVYou could try this:
p56170
aVThis means that the culture used by the server will be dictated by the client
p56171
aVIf this doesn't work you have a couple of other possibilities:
p56172
aVWrite a custom model binder
p56173
aVUse string instead of decimal and then do the parsing manually
p56174
as(dp56175
g16
V29407
p56176
stp56177
a((dp56178
g2
(lp56179
VYou should use view models instead of your domain models
p56180
aVSoy you could split your domain model into multiple view models for each step of the wizard
p56181
aVHere's another answer you might find useful
p56182
as(dp56183
g16
V29407
p56184
stp56185
a((dp56186
g2
(lp56187
VI would use a display template for the results:
p56188
aVand then you could define the corresponding template () which will be rendered for each element of the ServiceEntries collection
p56189
aVSo you would have a controller with two actions: one to render the form and one that will accept the POST from the form and handle the search
p56190
aVIn the first action you would simply return your view model by leaving the  property empty so that no results are shown and in the second action you would populate this property
p56191
aVI would also use  as type
p56192
as(dp56193
g16
V29407
p56194
stp56195
a((dp56196
g2
(lp56197
VThe  helper method is used to generate urls
p56198
aVUrls need to be URL encoded for them to be valid urls
p56199
aVSo what you are observing is perfectly normal behavior
p56200
aVThe helper generates a valid url by encoding all parameters
p56201
as(dp56202
g16
V29407
p56203
stp56204
a((dp56205
g2
(lp56206
VASP
p56207
aVNET MVC 3 uses jquery instead of MSAjax
p56208
aVSo you might need to include the jquery unobtrusive ajax script for this to work
p56209
aVYou also might checkout this blog post
p56210
as(dp56211
g16
V29407
p56212
stp56213
a((dp56214
g2
(lp56215
VShould be like this:
p56216
aVAnd if you want some format for this date:
p56217
aVand then:
p56218
aVof if you really want to use this  method you need to use a non-strongly typed helper (obviously that's something I would recommend against):
p56219
as(dp56220
g16
V29407
p56221
stp56222
a((dp56223
g2
(lp56224
VMake sure you have removed any previous Beta and RC versions before installing the ASP
p56225
aVNET MVC 3 RTM
p56226
aVAlso try installing it by downloading the full installer
p56227
aVOnce installed you should see the new templates when creating a new web application in Visual Studio
p56228
aVThe templates appear when creating a new web application and not new web site
p56229
as(dp56230
g16
V29407
p56231
stp56232
a((dp56233
g2
(lp56234
VI don't think you will find a reference for this but if you are not going to use Data Annotations I would simply recommend you hooking up the jquery validate plugin manually
p56235
as(dp56236
g16
V29407
p56237
stp56238
a((dp56239
g2
(lp56240
VThis might be because the names of your input controls don't have correct names for the model binder to be able to fetch the values correctly
p56241
aVAlso I see that the  is not a property but a field in your model which won't be bound correctly
p56242
aVSo here's how I would suggest you to improve your code:
p56243
aVStart with the model:
p56244
aVthen a controller:
p56245
aVand then the corresponding view:
p56246
aVand then have a corresponding editor template ():
p56247
as(dp56248
g16
V29407
p56249
stp56250
a((dp56251
g2
(lp56252
VYou could define a view model where you won't have any circular references:
p56253
aVand then you would map between your model and view model (you could use AutoMapper for this) and finally return the view model to the view
p56254
aVFor example:
p56255
aVNow you no longer would have circular references and you will be able to successfully serialize the view model to JSON and you would only pass the information that is required to the view
p56256
as(dp56257
g16
V29407
p56258
stp56259
a((dp56260
g2
(lp56261
VThat's how HTML helpers work and it is by design
p56262
aVThey will first look in the POSTed data and after that in the model
p56263
aVSo for example if you have:
p56264
aVwhich you are posting to the following action:
p56265
aVwhen the view is redisplayed the old value will be used
p56266
aVOne possible workaround is to remove the value from the ModelState:
p56267
as(dp56268
g16
V29407
p56269
stp56270
a((dp56271
g2
(lp56272
VYou are on the right track
p56273
aVI would recommend you using the jquery form plugin which would allow you to AJAXify the  and handle the success case
p56274
aVExample:
p56275
aVModel:
p56276
aVController:
p56277
aVView:
p56278
aVand the UploadedFile partial:
p56279
as(dp56280
g16
V29407
p56281
stp56282
a((dp56283
g2
(lp56284
VYou cannot instantiate this class like this (it's an abstract class)
p56285
aVThe reason for this is that information such as ContentType was available only with the Upload request
p56286
aVSo you could store the ContentType at the moment the file is uploaded and associate it with the file in your data store
p56287
aVSo you would have an Id (unique identitifer of of the uploaded file), FilePath (where the file is physically stored) and a ContentType (the content type of the file)
p56288
aVThis way you would be able to later retrieve the content type
p56289
as(dp56290
g16
V29407
p56291
stp56292
a((dp56293
g2
(lp56294
VHere's how you could proceed:
p56295
aVand the test:
p56296
as(dp56297
g16
V29407
p56298
stp56299
a((dp56300
g2
(lp56301
VIn your unit test it seems that you are deploying an xml file:  which you are passing to the
p56302
aVSo the file exists and you cannot expect a  to be thrown
p56303
aVSo maybe like this:
p56304
as(dp56305
g16
V29407
p56306
stp56307
a((dp56308
g2
(lp56309
VThis exception could happen if the user tries to send some value which cannot be bound to the corresponding model property
p56310
aVFor example the user enters  in a textbox which should be bound to an integer property
p56311
aVYou could use the TryUpdateModel instead:
p56312
aVor a bit easier:
p56313
as(dp56314
g16
V29407
p56315
stp56316
a((dp56317
g2
(lp56318
VThat's because a radio button could have any value and when the helper decides whether it should be checked or not it looks for a corresponding value in the model state
p56319
aVFor example:
p56320
aVand inside the controller you could pass integer value:
p56321
aVand the helper will automatically select the radio button
p56322
aVIf you have a complex object it would use the  method
p56323
as(dp56324
g16
V29407
p56325
stp56326
a((dp56327
g2
(lp56328
VYou could send this value using AJAX
p56329
aVFor example jQuery provides the  function:
p56330
aVand inside your controller action:
p56331
aVNow obviously because this is a RichText editor the value might contain dangerous characters and ASP
p56332
aVNET will reject them by throwing an exception
p56333
aVTo avoid this you could decorate your controller action with the  attribute:
p56334
aVand if you are using ASP
p56335
aVNET 4
p56336
aV0 you should also add the following to your web
p56337
aVconfig:
p56338
as(dp56339
g16
V29407
p56340
stp56341
a((dp56342
g2
(lp56343
VHow to specify MaxLength for a textbox , Like MaxLenth="18"
p56344
aVYou could pass additional html attributes to the  method:
p56345
aVHow to Set the TextBox Format String as FormatString="$###,###,###,##0
p56346
aV00" in model so even if i enter 100 it should automatically become $100
p56347
aV00
p56348
aVYou could use the  attribute:
p56349
aVand then:
p56350
as(dp56351
g16
V29407
p56352
stp56353
a((dp56354
g2
(lp56355
VYou don't really need a controller action to do this
p56356
aVYou could simply:
p56357
aVOf course if you want to hide this address from the user you could use a WebClient to fetch it on the server:
p56358
aVAnd in your view:
p56359
as(dp56360
g16
V29407
p56361
stp56362
a((dp56363
g2
(lp56364
VYou only need
p56365
aVYou could reference this assembly in your SharedLibs folder and it should be enough
p56366
aVThe  is unmanaged code containing the databae engine itself and it is embedded as resource inside the managed  assembly
p56367
aVAlso because of this unmanaged code there are actually two versions of the  assembly: one for x86 and one for x64, so make sure you reference the correct one for your system
p56368
aVYou could download this assembly from here: http://sqlite
p56369
aVphxsoftware
p56370
aVcom/
p56371
as(dp56372
g16
V29407
p56373
stp56374
a((dp56375
g2
(lp56376
s(dp56377
g16
V29407
p56378
stp56379
a((dp56380
g2
(lp56381
VThe RouteLink extension method is defined in a class belonging to the  namespace
p56382
aVSo you need to add  at the top of your file
p56383
as(dp56384
g16
V29407
p56385
stp56386
a((dp56387
g2
(lp56388
VShould I use a viewmodel here
p56389
aVIs this a rhetorical question
p56390
aVYour view model would look exactly as you propose and it is perfectly adapted to what you are trying to display here:
p56391
aVand then your controller would return an
p56392
aVThen in your view you could simply use a display template:
p56393
aVand the corresponding display template ():
p56394
aVNow let's look at the mapping layer
p56395
aVSuppose that we have the following domain:
p56396
aVand we have an instance of
p56397
aVThe mapping definition could look like this:
p56398
aVand finally the controller action would simply be:
p56399
as(dp56400
g16
V29407
p56401
stp56402
a((dp56403
g2
(lp56404
VYou are sending a POST request whereas your controller action expects a DELETE verb
p56405
aVSo:
p56406
as(dp56407
g16
V29407
p56408
stp56409
a((dp56410
g2
(lp56411
s(dp56412
g16
V29407
p56413
stp56414
a((dp56415
g2
(lp56416
VThis will depend how you are calling the  action
p56417
aVJudging from your previous question and the answer you accepted I suppose that you are doing the following:
p56418
aVwhich obviously is insufficient as you are sending the AJAX request to delete but you aren't handling the  event to update the DOM
p56419
aVSo you might need to do this:
p56420
aVNow obviously stuffing all this javascript inside the HTML as you were using your custom helper is ugly
p56421
aVPersonally I would use unobtrusive javascript
p56422
aVI would have my helper generate a normal anchor with a class and then in a completely separate javascript file I would AJAXify this link:
p56423
as(dp56424
g16
V29407
p56425
stp56426
a((dp56427
g2
(lp56428
VHave you considered using view models
p56429
aVThey include only the properties your view requires and the validation for this particular view
p56430
aVSo if your view doesn't require an email you write a view model without an email and the validation passes great
p56431
aVThen inside your controller action you map this view model to the corresponding domain model
p56432
aVAutoMapper is a great tool for this job
p56433
as(dp56434
g16
V29407
p56435
stp56436
a((dp56437
g2
(lp56438
VIs it a good idea to use an extension method on the Object class
p56439
aVYes, there are cases where it is a great idea in fact
p56440
aVTthere is no performance penalty whatsoever by using an extension method on the Object class
p56441
aVAs long as you don't call this method the performance of your application won't be affected at all
p56442
aVFor example consider the following extension method which lists all properties of a given object and converts it to a dictionary:
p56443
as(dp56444
g16
V29407
p56445
stp56446
a((dp56447
g2
(lp56448
s(dp56449
g16
V29407
p56450
stp56451
a((dp56452
g2
(lp56453
VBoth should be pretty close in terms of performance but  seems more readable and semantically correct to me
p56454
as(dp56455
g16
V29407
p56456
stp56457
a((dp56458
g2
(lp56459
VYour action parameter on the  action is called  so make sure you generate correct links:
p56460
aVAlso notice how controller and actions are specified instead of using some relative urls as you do ()
p56461
as(dp56462
g16
V29407
p56463
stp56464
a((dp56465
g2
(lp56466
VIt is difficult to help without seeing the entire exception stacktrace
p56467
aVHere are a few tips:
p56468
aVMake sure that your partial  and not
p56469
aVYou are using an ASCX partial and inheriting from  which is wrong
p56470
aVMake sure that your partial view is called exactly the same as the controller action:  (I see a typo here)
p56471
aVMake sure that the  class contains a property called  as that's what you are using when rendering the dropdown
p56472
aVMake sure there is no exception being thrown inside the  controller action while you are fetching the data
p56473
aVHere's a working example:
p56474
aVModel:
p56475
aVController:
p56476
aVView ():
p56477
aVPartial: ():
p56478
as(dp56479
g16
V29407
p56480
stp56481
a((dp56482
g2
(lp56483
VYour controller class should be called , not
p56484
aVOn the screenshot you've shown I see that you've called it
p56485
aVBy convention all controller classes in ASP
p56486
aVNET MVC must have the  suffix
p56487
aVIn  you should have a default routing rule which states:
p56488
aVwhich means that when you run the site and you request  it will look for the  action on the
p56489
as(dp56490
g16
V29407
p56491
stp56492
a((dp56493
g2
(lp56494
VYou should always HTML encode values that come from the user like querystring parameters before outputting them
p56495
aVYou could use the htmlentities function
p56496
aVInstead of:
p56497
aVuse:
p56498
as(dp56499
g16
V29407
p56500
stp56501
a((dp56502
g2
(lp56503
VTry increasing this value on both the server and the client:
p56504
as(dp56505
g16
V29407
p56506
stp56507
a((dp56508
g2
(lp56509
VIf it is an  column you could store directly the corresponding unicode value:
p56510
aVWhy would you ever store it as
p56511
as(dp56512
g16
V29407
p56513
stp56514
a((dp56515
g2
(lp56516
s(dp56517
g16
V29407
p56518
stp56519
a((dp56520
g2
(lp56521
VNo, there isn't
p56522
aVYou cannot have a private class unless it is nested
p56523
as(dp56524
g16
V29407
p56525
stp56526
a((dp56527
g2
(lp56528
VYou could use the  property:
p56529
as(dp56530
g16
V29407
p56531
stp56532
a((dp56533
g2
(lp56534
Vor:
p56535
aVUPDATE:
p56536
aVExample of resource localized display attribute:
p56537
as(dp56538
g16
V29407
p56539
stp56540
a((dp56541
g2
(lp56542
V are used in asynchronous programming to invoke a delegate on another thread
p56543
aVis used to call unmanaged code
p56544
as(dp56545
g16
V29407
p56546
stp56547
a((dp56548
g2
(lp56549
VMake sure you have specified a connection string to your database in web
p56550
aVconfig
p56551
aVAlso make sure you initialize the  variable before using it:
p56552
as(dp56553
g16
V29407
p56554
stp56555
a((dp56556
g2
(lp56557
VIt seems that this site requires an  HTTP request header:
p56558
aVOne of the problems you will encounter with what you are currently doing is that you are totally dependent on how the site you are trying to scrape works
p56559
aVNot to mention the fragility of your HTML parsing code
p56560
aVWhat is worse is that this could change anytime and you have no control unless you own the site
p56561
aVTomorrow the site might start requiring some other HTTP header and your code will stop working once again
p56562
aVJust saying this so that you are prepared
p56563
aVMaybe you could contact the site owners and see if they are offering an official API to consume their content
p56564
as(dp56565
g16
V29407
p56566
stp56567
a((dp56568
g2
(lp56569
VI have upload code that will upload files (pdfs, images, etc) but i wanted to see where i should be storing them
p56570
aVshould i store them outside the website directory structure
p56571
aVNot necessary
p56572
aVYou could use the  special folder and store the path to the file in the database along with an unique identifier so that you could retrieve it later
p56573
aVFiles inside this folder are not served by the web server and are not directly accessible
p56574
aVAnother approach is to store the files into the database
p56575
aVSQL Server 2008's new FILESTREAM type is very useful
p56576
aVIs there any file types that i should be concerned with storing
p56577
aVI would basically have a file picker on the front end
p56578
aVNot really
p56579
aVExecutables could be dangerous as might contain viruses but as long as you are only storing them and never executing you should be safe
p56580
as(dp56581
g16
V29407
p56582
stp56583
a((dp56584
g2
(lp56585
VYou could escape the  using the  because the Razor parser considers it as part of the server side code and if you want to output the comma as is in the HTML it needs to be escaped:
p56586
as(dp56587
g16
V29407
p56588
stp56589
a((dp56590
g2
(lp56591
VPersonally I would prefer to have a controller action taking the  parameter
p56592
aVMakes the code more readable and easier to unit test
p56593
aVJust by looking at the action signature you know exactly on what parameters it depends
p56594
as(dp56595
g16
V29407
p56596
stp56597
a((dp56598
g2
(lp56599
VYou might need a custom model binder if you want to change this default behavior:
p56600
aVand then:
p56601
aVor register it globally in :
p56602
as(dp56603
g16
V29407
p56604
stp56605
a((dp56606
g2
(lp56607
Vand then when you want to execute a given function in the array:
p56608
as(dp56609
g16
V29407
p56610
stp56611
a((dp56612
g2
(lp56613
VBy default if you don't specify a visibility modifier on a top-level class/struct it is considered
p56614
aVNested class/struct default to private
p56615
aVmeans internal i
p56616
ag3813
aVvisible only inside the assembly in which it is declared
p56617
aVmeans public i
p56618
ag3813
aVaccessible from other assemblies as well
p56619
aVNote that this is not the same with the struct fields ( and )
p56620
aVIf you don't specify a visibility modifier for them they are
p56621
as(dp56622
g16
V29407
p56623
stp56624
a((dp56625
g2
(lp56626
VNormally rebuilding the project should be enough to show your custom class
p56627
aVBut unfortunately this is far from perfect
p56628
aVHappens to me also
p56629
aVWhat I do is that I create my view model (not entity framework model because you should be passing only view models to your views), copy the name into the clipboard and paste it in the Add View dialog
p56630
aVI find this faster than scrolling through a dropdown of 1000 classes and finding the correct one
p56631
as(dp56632
g16
V29407
p56633
stp56634
a((dp56635
g2
(lp56636
VIf you are using an editor template you shouldn't worry about this because all naming convention will be handled correctly by the framework
p56637
aVYou also shouldn't need to do any looping
p56638
aVSo suppose that you have a controller action that returns an  and you want to generate a list of dropdowns:
p56639
aVThen in your view you would simply:
p56640
aVand the corresponding editor template ():
p56641
aVBecause you sent 2 elements in the view model there will be 2 dropdowns generated each with a correct name so that when you post back you would get the corresponding selected values:
p56642
as(dp56643
g16
V29407
p56644
stp56645
a((dp56646
g2
(lp56647
VHere are a few tips I can give you
p56648
aVFirst of all you should not use  for resolving controller actions because you are still hardcoding and not taking advantage of the routes
p56649
aVWhat if tomorrow you decide to change your route definitions in global
p56650
aVasax
p56651
aVYou should use Url helpers like this:
p56652
aVand for static resources:
p56653
aVNow when you need to define image paths in CSS files you should know that they could be relative to the location of the CSS file
p56654
aVSo for example if you include your CSS like this:
p56655
aVinside  you could use relative image paths:
p56656
aVand the last part are javascript files
p56657
aVInside them you cannot use helpers to define urls
p56658
aVSo different techniques exist
p56659
aVPersonally I like unobtrusive javascript with progressive enhancement meaning that the url I need is already in the HTML
p56660
aVThink for example AJAXifying a link or a form
p56661
aVInside your view you would have:
p56662
aVand inside a separate javascript we could AJAXify it:
p56663
aVThere are case though where you do not have the url in the DOM
p56664
aVSo you could use a global variable inside the view:
p56665
aVand inside your external javascript use this  global variable
p56666
as(dp56667
g16
V29407
p56668
stp56669
a((dp56670
g2
(lp56671
VHere's one technique you could use
p56672
aVDefine an  which will serve the error pages:
p56673
aVand then in  you could subscribe for the  event where you could log the exception and execute the corresponding action of the :
p56674
aVAnd now all that's left is to start throwing proper exceptions:
p56675
as(dp56676
g16
V29407
p56677
stp56678
a((dp56679
g2
(lp56680
VYou cannot use nested rule definition like this:
p56681
aVYou need to have another validator for the Content type:
p56682
aVThis being said you should not use EF models inside your views
p56683
aVYou should use View Models and define validation rules on your view model:
p56684
as(dp56685
g16
V29407
p56686
stp56687
a((dp56688
g2
(lp56689
VYou will need to write a custom model binder for the  type for this to work
p56690
aVASP
p56691
aVNET MVC uses the default model binder when it invokes a controller action in order to instantiate the action parameters from the request values
p56692
aVand then in  register this binder:
p56693
as(dp56694
g16
V29407
p56695
stp56696
a((dp56697
g2
(lp56698
VHere's an article which illustrates different methods
p56699
as(dp56700
g16
V29407
p56701
stp56702
a((dp56703
g2
(lp56704
VHere's a blog post which explains the difference:
p56705
aVIn the  template in an
p56706
aVupdate panel, there are the options of
p56707
aVan AsyncPostBackTrigger or a
p56708
aVPostBackTrigger
p56709
aVBy default, controls outside of an
p56710
aVupdate panel will trigger a normal
p56711
aVsynchronous post back
p56712
aVThe
p56713
aVAsyncPostBackTrigger \u201cwires\u201d up these
p56714
aVcontrols to trigger an asynchronous
p56715
aVpost back
p56716
aVConversely, controls
p56717
aVdeclared inside an update panel will
p56718
aVtrigger an asynchronous call by
p56719
aVdefault
p56720
aVThe PostBackTrigger short
p56721
aVcircuits this, and forces the control
p56722
aVto do a synchronous post back
p56723
as(dp56724
g16
V29407
p56725
stp56726
a((dp56727
g2
(lp56728
VYou could use the window
p56729
aVsetTimeout function to delay the execution of some code:
p56730
aVBut your javascript will continue to execute
p56731
aVIt won't stop
p56732
as(dp56733
g16
V29407
p56734
stp56735
a((dp56736
g2
(lp56737
VDue to same origin policy restrictions this is not allowed
p56738
as(dp56739
g16
V29407
p56740
stp56741
a((dp56742
g2
(lp56743
VI would suggest you not to waste your time with things like this
p56744
aVIf the image is ever to be shown in the browser it is a peace of cake to retrieve it with tools such as FireBug no matter how hard you try
p56745
aVNow if you only wanted authenticated users to see the image you would simply serve it from a server side script which requires authentication:
p56746
aVand you configure authentication for the  script so that an unauthorized user cannot directly call it
p56747
as(dp56748
g16
V29407
p56749
stp56750
a((dp56751
g2
(lp56752
VThe difference is quite big
p56753
aVA web site is not compiled
p56754
aVCode is placed in the  folder and dynamically compiled by ASP
p56755
aVNET at runtime
p56756
aVA web application is precompiled meaning that you can place code wherever you want and it will produce an assembly at compile-time
p56757
aVYou also get a project file
p56758
aVcsproj associated with it
p56759
aVHere's an overview on MSDN
p56760
as(dp56761
g16
V29407
p56762
stp56763
a((dp56764
g2
(lp56765
VYou are not using parametrized queries and thus making your code vulnerable to SQL injection
p56766
aVHere's how to improve it:
p56767
as(dp56768
g16
V29407
p56769
stp56770
a((dp56771
g2
(lp56772
VLet's try to improve this code a little:
p56773
aVNow this code is perfectly reentrant and thread safe
p56774
aVYou don't need any locking
p56775
as(dp56776
g16
V29407
p56777
stp56778
a((dp56779
g2
(lp56780
VBecause your view is strongly typed to the view model your form fields will look like this:
p56781
aVand if you want to bind correctly you need to specify the prefix:
p56782
as(dp56783
g16
V29407
p56784
stp56785
a((dp56786
g2
(lp56787
VAJAX is a technology commonly applied in web applications where javascript is being executed by the client
p56788
aVSuch notions are very difficult to apply in desktop applications
p56789
aVYou could use background threads to perform expensive tasks to avoid freezing the application and then update the UI with the results of this background tasks
p56790
as(dp56791
g16
V29407
p56792
stp56793
a((dp56794
g2
(lp56795
VHave you tried subscribing for the Navigated event
p56796
aVThis event will be triggered everytime the browser changes url
p56797
as(dp56798
g16
V29407
p56799
stp56800
a((dp56801
g2
(lp56802
VTry enabling 32-bit mode in IIS:
p56803
as(dp56804
g16
V29407
p56805
stp56806
a((dp56807
g2
(lp56808
VNo idea what the problem is
p56809
aVAs you can see in the following live demonstration this code works perfectly fine
p56810
as(dp56811
g16
V29407
p56812
stp56813
a((dp56814
g2
(lp56815
VIn order to invoke a web service in
p56816
aVNET you usually generate a client proxy
p56817
aVYou could use the svcutil
p56818
aVexe utility or Add Service Reference
p56819
aVdialog in Visual Studio
p56820
aVOnce you have the strongly typed client proxy you simply invoke the service without using any WebClients, MemoryStreams, DataContractJsonSerializers,
p56821
aVThe WCF infrastructure takes care of the rest
p56822
as(dp56823
g16
V29407
p56824
stp56825
a((dp56826
g2
(lp56827
VYou could create plugins
p56828
as(dp56829
g16
V29407
p56830
stp56831
a((dp56832
g2
(lp56833
VWhere would you put these conversion function
p56834
aVService layer or Repository layer
p56835
aVIn neither of those layers
p56836
aVI would put it in the view model
p56837
aVIf the view requires showing dates in local timezone and your dates are stored in UTC in the model then the view model is the perfect place to format data that is being shown on the view
p56838
as(dp56839
g16
V29407
p56840
stp56841
a((dp56842
g2
(lp56843
VAn action attribute seems like a good way to achieve this
p56844
aVHere's an example (disclaimer: I am writing this from the top of my head: I've consumed a certain quantity of beer when writing this so make sure you test it extensively :-)):
p56845
aVAnd then your controller action could look like this:
p56846
aVAnd as far as your problem with referencing the  assembly in the service layer is concerned, that's no longer a problem in
p56847
aVNET 4
p56848
ag2721
aVThere's a completely new assembly which provides extensible caching features : System
p56849
aVRuntime
p56850
aVCaching, so you could use this to implement caching in your service layer directly
p56851
aVOr even better if you are using an ORM at your service layer probably this ORM provides caching capabilities
p56852
aVI hope it does
p56853
aVFor example NHibernate provides a second level cache
p56854
as(dp56855
g16
V29407
p56856
stp56857
a((dp56858
g2
(lp56859
VThe service layer shouldn't have knowledge of how urls are constructed in your web application, especially because those rules can easily change
p56860
aVAlso this makes your service layer tightly coupled to the web layer and less reusable
p56861
aVWhat if tomorrow you wanted to reuse this service layer in a desktop application
p56862
aVIMHO that's an information that should be passed from the controller to the service layer
p56863
as(dp56864
g16
V29407
p56865
stp56866
a((dp56867
g2
(lp56868
VExtending  seems more appropriate and natural when dealing with urls:
p56869
aVAnd in your view:
p56870
as(dp56871
g16
V29407
p56872
stp56873
a((dp56874
g2
(lp56875
VYou could use the ninject
p56876
aVweb
p56877
aVmvc extension
p56878
aVIt contains a sample application which illustrates how you could register the container in
p56879
as(dp56880
g16
V29407
p56881
stp56882
a((dp56883
g2
(lp56884
VOr did I start my foray into MVC on the wrong foot
p56885
aVI am afraid that this might be the case and the following sentence confirms it:
p56886
aVI have a website that has the views generated directly from objects created by Entity Framework
p56887
aVYou shouldn't use your EF models in the views directly
p56888
aVIt is considered good practice to have view models
p56889
aVThose are classes that are specifically designed to the needs of a given view and could contain formatting and validation
p56890
aVA typical scenario might be the following:
p56891
aVA controller action is requested
p56892
aVThe controller queries the repository to fetch a model (EF model if you will)
p56893
aVThe controller converts this model into a view model using a mapping layer (this could be easily achieved with AutoMapper)
p56894
aVThe controller passes the view model to the view
p56895
aVThis scenario works also when a controller action receives a view model from the view, checks whether the modelstate is valid, maps it back to a model and passes the model to a repository
p56896
as(dp56897
g16
V29407
p56898
stp56899
a((dp56900
g2
(lp56901
VNo idea why it didn't work but quite honestly having all this code in a view looks wrong to me
p56902
aVMaybe it's just like me, Visual Studio doesn't like writing C# code in a view :-)
p56903
aVThis should be a property on your view model:
p56904
aVand inside your controller:
p56905
aVand finally inside your view:
p56906
aVNow you no longer need any usings, castings,
p56907
aVin the view
p56908
as(dp56909
g16
V29407
p56910
stp56911
a((dp56912
g2
(lp56913
VI am afraid that you will have to do this manually
p56914
aVAll HTML helpers simply HTML encode the content
p56915
as(dp56916
g16
V29407
p56917
stp56918
a((dp56919
g2
(lp56920
VHmm, that's weird
p56921
aVUnable to repro
p56922
aVModel:
p56923
aVController:
p56924
aVView:
p56925
aVClient and server validation work fine
p56926
as(dp56927
g16
V29407
p56928
stp56929
a((dp56930
g2
(lp56931
VYour question is a bit unclear
p56932
aVDataSets/DataTables were used in classic WebForms and are considered bad practice in ASP
p56933
aVNET MVC (in WebForms also IMHO but that's another topic)
p56934
aVIn ASP
p56935
aVNET MVC you would be working with strongly typed models
p56936
aVSo for example if you have a controller action which fetches a collection of some given model from a repository you could serialize it as JSON and use AJAX to fetch it from javascript:
p56937
aVand then using jquery you could invoke this action:
p56938
aVAnother possibility is to have a controller action which returns a view and passes it a view model:
p56939
aVThen inside the corresponding view you could have a script which immediately consumes the model by serializing it directly to a JSON object inside the view using JavaScriptSerializer:
p56940
as(dp56941
g16
V29407
p56942
stp56943
a((dp56944
g2
(lp56945
VYou could point the iframe source to your ASP
p56946
aVNET MVC application:
p56947
as(dp56948
g16
V29407
p56949
stp56950
a((dp56951
g2
(lp56952
VIt is not the same
p56953
aVinitializes an object
p56954
aVIf you want an array:
p56955
as(dp56956
g16
V29407
p56957
stp56958
a((dp56959
g2
(lp56960
VThe following mapping should do the job of flattening your model:
p56961
aVand if you modified your view model like this:
p56962
aVThe flattening will be performed automatically by AutoMapper using standard conventions so all you need is:
p56963
aVThere will just be a slight problem with the  property as it clashes with AutoMapper's default naming convention so you might need to rename it
p56964
aVOnce you have the mapping defined you could map:
p56965
as(dp56966
g16
V29407
p56967
stp56968
a((dp56969
g2
(lp56970
VThe problem is that if you are not inside a form context, the HTML helpers such as TextBoxFor do not output any client validation data-* attributes
p56971
aVThe first time when the page loads you invoke your  inside an  but later when you use AJAX to append form elements there is no longer this form context and there won't be any  client validation attributes generated
p56972
aVOne possible solution would be to put the form inside the partial and then update the entire form during the AJAX call and in the success callback re-parse the client validation rules using
p56973
aVBut if you want to keep only a single element inside the partial you are pretty much on your own :-) Here's a blog post which covers your scenario that you might take a look at
p56974
aVSo what can I say: unobtrusive client validation is great on paper and Scott Gu's blog posts but at some stage of the development of real world applications people start to realize its limitations
p56975
aVThat's one of the reasons why I directly use the  plugin and no MS jquery
p56976
aVunobtrusive
p56977
aVAnd, yes I know that I repeat my server validation logic in the javascript and yes I don't care because I have total control
p56978
aVOh, and on the server I use FluentValidation
p56979
aVNET instead of data annotations for pretty much the same reasons as the client side part :-)
p56980
aVSo maybe some day in MVC 4 Microsoft will finally make validation right (imperative vs declarative) but until this day comes, we just need to be searching for workarounds
p56981
as(dp56982
g16
V29407
p56983
stp56984
a((dp56985
g2
(lp56986
VYou can't know this unless you try to deploy a sample MVC 3 application and test it for yourself (it will either crash or work and you will be fixed once and for all) or just ask the site administrator
p56987
aVOtherwise it would be pretty fun : we could know whether there's ASP
p56988
aVNET MVC 3 installed on google
p56989
aVcom for example :-)
p56990
as(dp56991
g16
V29407
p56992
stp56993
a((dp56994
g2
(lp56995
VSQL Server has some built-in encryption capabilities you might take a look at
p56996
as(dp56997
g16
V29407
p56998
stp56999
a((dp57000
g2
(lp57001
VLike this:
p57002
as(dp57003
g16
V29407
p57004
stp57005
a((dp57006
g2
(lp57007
VThe best solution would be to use a view model
p57008
aVA view model is a class which is specially tailored to the needs of the view
p57009
aVSo here's a typical workflow for a controller action:
p57010
aVQuery the repository to fetch some domain objects
p57011
aVMap those domain objects to a corresponding view model (AutoMapper could help you here)
p57012
aVPass the view model to the view
p57013
aVSo in this scenario the view has no knowledge of any of your domain models
p57014
aVThat's in general
p57015
aVNow for your particular case of generating different links based on the value of the enum I think that writing ifs and switches in a view makes in ugly
p57016
aVDon't you find
p57017
aVSo writing a custom HTML helper that will generate the proper link based on the view model would be great especially when your view looks like this:
p57018
as(dp57019
g16
V29407
p57020
stp57021
a((dp57022
g2
(lp57023
VIs it possible specify which constructor the WCF serialization engine uses when deserializing a data member
p57024
aVNo it isn't, unless you use implement your custom serialization
p57025
as(dp57026
g16
V29407
p57027
stp57028
a((dp57029
g2
(lp57030
VVirtual directories are just containers for web applications
p57031
aVSo a virtual directory corresponds to an ASP
p57032
aVNET (MVC) application
p57033
aVThey are mapped to a physical location of the application and belong to a particular web site
p57034
aVWhen you say  you have already mapped this domain to some web site in IIS, so you could only have sub virtual directories: , ,
p57035
aVBut if you have a site which is mapped to the  domain then you could have virtual directories which correspond to , ,
p57036
aVAnd of course inside each app you could have routing which corresponds to
p57037
as(dp57038
g16
V29407
p57039
stp57040
a((dp57041
g2
(lp57042
VWhen you redirect you can only have query string parameters
p57043
aVSo:
p57044
aVand :
p57045
aVThis being said, using  in an ASP
p57046
aVNET MVC application and hardcoding an url just seems very wrong
p57047
aVUnfortunately you haven't provided any context on what you are trying to do so I am not sure I can offer you any better suggestion than: don't use  in an ASP
p57048
aVNET MVC application
p57049
aVUse URL helpers and action results like:
p57050
aVIf you are trying to implement some Global error handler than you are probably using the Application_Error event (you should have mentioned this in your question by the way) then you could have something among the lines:
p57051
aVetc, etc, etc
p57052
as(dp57053
g16
V29407
p57054
stp57055
a((dp57056
g2
(lp57057
VYou could use the  attribute on your view model like this:
p57058
aVand then you could have a controller:
p57059
aVand a view which does what you want:
p57060
as(dp57061
g16
V29407
p57062
stp57063
a((dp57064
g2
(lp57065
VIf you redirect you can't send complex objects
p57066
aVI mean you could use  and  (which uses Session behind the scenes) but it's ugly and something I would recommend against
p57067
aVIf you want complex objects don't redirect
p57068
aVSet proper status code and transfer which is much more RESTful and SEO friendly:
p57069
aVwhere ErrorController looks like this:
p57070
aVIf you redirect you can't send complex objects
p57071
as(dp57072
g16
V29407
p57073
stp57074
a((dp57075
g2
(lp57076
VQuestion title says it all: Can you install ASP
p57077
aVNET MVC3 and MVC2 side by side
p57078
aVYou can perfectly fine have ASP
p57079
aVNET MVC 2 and 3 running side by side on the same machine
p57080
aVIn VS2010 you have the possibility of choosing which version you want when creating new projects and on the production server you can have MVC 2 and 3 applications running side by side without any problems
p57081
aVJust don't forget that MVC 3 implies
p57082
aVNET 4
p57083
aV0 whereas MVC can run on both
p57084
aVNET 3
p57085
aV5 and
p57086
aVNET 4
p57087
aV0 application pools
p57088
as(dp57089
g16
V29407
p57090
stp57091
a((dp57092
g2
(lp57093
VNot working is a problem description that's more adapted to people that don't know/care about how computer works and not software developers
p57094
aVSoftware developers usually describe precisely the problem they are having
p57095
aVThey post the exact error message/exception stack trace they are having
p57096
aVThis being said you are asking for alternative solutions, here's mine: don't use any , use jquery directly and unobtrusively, like this
p57097
aVNotice how the  paragraph has been externalized from the form
p57098
as(dp57099
g16
V29407
p57100
stp57101
a((dp57102
g2
(lp57103
VLike this:
p57104
aVor if you insist on  like this:
p57105
aVPersonally I prefer the first, makes fewer keystrokes
p57106
as(dp57107
g16
V29407
p57108
stp57109
a((dp57110
g2
(lp57111
VAll that information is contained in the  property
p57112
aVAnd once you are sick of parsing all this crap manually and repeating this code all over again among all your applications you might consider using ELMAH
p57113
aVhostName error came from
p57114
aVNot sure what you mean here
p57115
aVIsn't that the IP of the client
p57116
as(dp57117
g16
V29407
p57118
stp57119
a((dp57120
g2
(lp57121
VYou need to return:
p57122
as(dp57123
g16
V29407
p57124
stp57125
a((dp57126
g2
(lp57127
VYou could have a custom validation attribute and apply it on the model and not on individual properties
p57128
aVHere's an example you might take a look at
p57129
as(dp57130
g16
V29407
p57131
stp57132
a((dp57133
g2
(lp57134
VI cannot tell you whether you should use or not the WebGrid helper because that would be subjective and especially as you just talked about pain points in your question without any specific details
p57135
aVWhat I could do is offer you some good alternatives:
p57136
aVMVCContrib
p57137
aVTelerik Extensions for MVC
p57138
as(dp57139
g16
V29407
p57140
stp57141
a((dp57142
g2
(lp57143
VIf you want to handle the empty case you need a nullable integer on your model because otherwise it is the default model binder that will automatically add a validation error when it tries to parse the empty string to a non-nullable integer:
p57144
aVand then you could have the following validation rules on this property:
p57145
aVUPDATE:
p57146
aVThe following works fine with the latest version of FluentValidation:
p57147
as(dp57148
g16
V29407
p57149
stp57150
a((dp57151
g2
(lp57152
VYou should also search in the references of your project references and so on until you find a DLL which depends on a signed version of the  assembly
p57153
aVNote that this assembly could be dynamically loaded and might not even appear in the list of referenced assemblies
p57154
aVYou could also disable strong name checking temporary but make sure you realize the possible consequences of this
p57155
as(dp57156
g16
V29407
p57157
stp57158
a((dp57159
g2
(lp57160
VI would recommend you measuring the performance but I would expect that the cookie approach will be faster than doing roundtrips to the database
p57161
aVYou could also simplify the serialization and make it as fast as possible by using a comma delimited or some special character delimited string
p57162
aVHere is how I would rank different operations in terms of performance:
p57163
aVin-process communication
p57164
aVinter-process communication
p57165
aVinter-network communication
p57166
as(dp57167
g16
V29407
p57168
stp57169
a((dp57170
g2
(lp57171
VYou could use the same salt value for all tokens
p57172
aVand then you could try apply this same salt on the two controller actions you are posting to:
p57173
as(dp57174
g16
V29407
p57175
stp57176
a((dp57177
g2
(lp57178
VYou could use AJAX
p57179
aVSo you could use jquery to unobtrusively AJAXify those links by subscribing for their click event and sending an AJAX request to the corresponding controller action which would return the partial view and update the DOM
p57180
as(dp57181
g16
V29407
p57182
stp57183
a((dp57184
g2
(lp57185
VThe whole idea of using a view model is to decouple it from your domain model and to have something which is adapted to the needs of the view
p57186
aVThe view model should be declared in the web project and contain all the necessary properties and formatting attributes that this particular view might require
p57187
aVThe domain model shouldn't be polluted with any view specific data annotations
p57188
aVSo if your model looks like this:
p57189
aVYou could have the following view model:
p57190
aVand then have the controller fetch the model from some repository, map it to the view model (AutoMapper can help you here) and pass the view model to the view
p57191
as(dp57192
g16
V29407
p57193
stp57194
a((dp57195
g2
(lp57196
VA view can either be strongly typed to a model in which case you will get strongly typed helpers and the Model property will be bound to this model or the view can be weakly typed in which case you rely on magic strings and no Intellisense at all
p57197
aVIf the view wasn't strongly typed when you created it you could modify it and make it strongly typed:
p57198
aVor with the Razor view engine:
p57199
as(dp57200
g16
V29407
p57201
stp57202
a((dp57203
g2
(lp57204
VThe  method and the  interface could be used to know if two objects are equal but they won't allow you to know the differences between the objects
p57205
aVYou could use reflection by comparing comparing each property values
p57206
aVYet another approach might consist into serializing those instances into some text format and compare the differences inside the resulting strings (XML, JSON,
p57207
as(dp57208
g16
V29407
p57209
stp57210
a((dp57211
g2
(lp57212
VHere's how you could use HTML helpers inside a grid:
p57213
as(dp57214
g16
V29407
p57215
stp57216
a((dp57217
g2
(lp57218
VYou could use resources to localize your application
p57219
aVAnd here's another example
p57220
as(dp57221
g16
V29407
p57222
stp57223
a((dp57224
g2
(lp57225
VThe reason this doesn't work is because your  is accessible only with the POST HTTP verb
p57226
aVThe way you are calling it in javascript is with either  or  which I suppose both send a GET request (I am sure for the )
p57227
aVSo you need to configure your  function to send a POST request
p57228
aVHere's an example of how you could post an HTML  using AJAX:
p57229
as(dp57230
g16
V29407
p57231
stp57232
a((dp57233
g2
(lp57234
VTry declaring the  property as a nullable integer:
p57235
as(dp57236
g16
V29407
p57237
stp57238
a((dp57239
g2
(lp57240
VASP
p57241
aVNET MVC uses ASP
p57242
aVNET application instead of ASP
p57243
aVNET website so what you are asking is not possible
p57244
aVThe application needs to be precompiled before deployment
p57245
aVNow this being said you could in fact you a web site as model for ASP
p57246
aVNET MVC application but be prepared to do everything manually
p57247
aVCreate a new ASP
p57248
aVNET website
p57249
aVIn the special  folder add a controller
p57250
aVAdd the Views folder containing the corresponding web
p57251
aVconfig, layout and views
p57252
aVConfigure your routes in
p57253
aVSo you need to put all your code behind (controllers, models,
p57254
aVin the special  folder
p57255
as(dp57256
g16
V29407
p57257
stp57258
a((dp57259
g2
(lp57260
VYou are not using the  helper properly
p57261
aVThe first argument represents a property that will hold the selected value and must be of a scalar type
p57262
aVIn your case you are passing a collection, the same one used as second argument
p57263
aVSo It should be like this:
p57264
aVAlso what you are calling a  is not a good naming convention because this is not a view model
p57265
aVCreating a class and stuffing all your models inside as public properties is a false idea of a view model
p57266
aVHere's how your view model might really look:
p57267
as(dp57268
g16
V29407
p57269
stp57270
a((dp57271
g2
(lp57272
VMake sure that your master page is an MVC master page i
p57273
ag3813
aVit inherits from System
p57274
aVWeb
p57275
aVMvc
p57276
aVViewMasterPage and not from System
p57277
aVWeb
p57278
aVUI
p57279
aVMasterPage:
p57280
aVThen you will have the Url property inside and its respective Action method
p57281
as(dp57282
g16
V29407
p57283
stp57284
a((dp57285
g2
(lp57286
V helpers in ASP
p57287
aVNET MVC 3 use unobtrusive jquery so make sure that you have referenced the  script in your view
p57288
aVAlso you could use FireBug to see what's happening under the scenes and why the form doesn't send an AJAX request
p57289
aVAlso the  seems suspicious especially when your form has the  id:
p57290
aVIs there some other element inside your DOM with
p57291
aVMaybe you meant
p57292
as(dp57293
g16
V29407
p57294
stp57295
a((dp57296
g2
(lp57297
VIf you are using default routes the correct url should be
p57298
aVAs far as deploying an ASP
p57299
aVNET MVC application on II 7 is concerned you probably want to go through the following blog post
p57300
as(dp57301
g16
V29407
p57302
stp57303
a((dp57304
g2
(lp57305
VYour question is confusing as you are not providing much details
p57306
aVObviously events like  and  can only be handled through client side javascript
p57307
aVYou mention jquery and POST so I suppose that you are talking about AJAX
p57308
aVSo you could send a value like this:
p57309
aVand on the server you would have the following controller action:
p57310
as(dp57311
g16
V29407
p57312
stp57313
a((dp57314
g2
(lp57315
V casts the instance to string and it might throw an exception at runtime if the object you are trying to cast is not a string
p57316
aVThe  operator also tries to cast but it doesn't throw an exception if the instance is not a string but returns null
p57317
aVAnd the  method of course comes from System
p57318
aVObject so it will depend on whether tyhe underlying type has overridden it
p57319
as(dp57320
g16
V29407
p57321
stp57322
a((dp57323
g2
(lp57324
VThe  keyword won't be highlighted in yellow in the Visual Studio designer
p57325
aVIt needs to point to a valid class so that if you put the cursor over it and press F12 you should navigate to the corresponding class definition
p57326
aVIf this doesn't happen you might need to specify the full type name including the namespace
p57327
aVAlso the controller action that is rendering this particular view needs to pass an instance of the model:
p57328
as(dp57329
g16
V29407
p57330
stp57331
a((dp57332
g2
(lp57333
VYou could try setting the  attribute In web
p57334
aVconfig:
p57335
as(dp57336
g16
V29407
p57337
stp57338
a((dp57339
g2
(lp57340
VYou probably might want to explore the Google Search API which allows you to use Google search results in your programs
p57341
as(dp57342
g16
V29407
p57343
stp57344
a((dp57345
g2
(lp57346
VGET requests could be automatically cached by the browser so you could use the  function which contrary to the  function allows you to disabled caching:
p57347
aVAnother possibility is to use POST:
p57348
as(dp57349
g16
V29407
p57350
stp57351
a((dp57352
g2
(lp57353
VYou might take a look at the MVC Design Gallery
p57354
as(dp57355
g16
V29407
p57356
stp57357
a((dp57358
g2
(lp57359
VYou haven't specified how does your Product model look like but we can assume that the  property is integer so you might need to convert it to a string:
p57360
as(dp57361
g16
V29407
p57362
stp57363
a((dp57364
g2
(lp57365
VThe problem is that the default model binder doesn't understand a request as the one you have shown
p57366
aVYour request values should look like this:
p57367
aVor if you are using ASP
p57368
aVNET MVC 3 JSON request factory provider you could send a JSON request like this:
p57369
aVwhich should send the following request:
p57370
as(dp57371
g16
V29407
p57372
stp57373
a((dp57374
g2
(lp57375
VBy default editor/display templates descent only one level in the object hierarchy
p57376
aVHere's an excellent blog post from Brad Wilson which describes how you could have an editor template which descends more than 1 level
p57377
as(dp57378
g16
V29407
p57379
stp57380
a((dp57381
g2
(lp57382
VYou haven't shown none of your controller, repository, models
p57383
aVIt's a question that is close to impossible to answer without this information
p57384
aVSo lets start guessing
p57385
aVYou have a model and a view model:
p57386
aVI am leaving them without any properties for the purpose of this post
p57387
aVThen you probably have a service which is responsible for retrieving and saving your model (the view model should never appear as in/out argument of your service layer)
p57388
aVThe service should never know about the view model:
p57389
aVThen you probably have a mapper:
p57390
aVAnd finally I suppose that you have a controller that you are trying to test:
p57391
aVOK, up until here it is you that should have provided this information
p57392
aVAnd now I can start answering your question about the unit test which might look like this:
p57393
as(dp57394
g16
V29407
p57395
stp57396
a((dp57397
g2
(lp57398
VYes, you are using it correctly
p57399
aVYou don't need to dispose explicitly the Bitmap as it wil be disposed by the  statement
p57400
aVYou could simplify even further by declaring the image variable inside:
p57401
aVwhich is roughly equivalent to:
p57402
as(dp57403
g16
V29407
p57404
stp57405
a((dp57406
g2
(lp57407
VHere's a good article on MSDN which covers the scenarios of credential impersonation (SQL server on the same machine as the web server) and delegation (SQL server on a different machine than the web server)
p57408
aVDelegation could be PITA to setup so using SQL authentication is probably the easiest way to go
p57409
as(dp57410
g16
V29407
p57411
stp57412
a((dp57413
g2
(lp57414
VThe first prerequisite is to have a browser which supports the  tag (IE 9
p57415
aV0+, FireFox 3
p57416
aV5+, Safari 3
p57417
aV0+, Chrome 3
p57418
aV0+, Opera 10
p57419
aV5+, iPhone 1
p57420
aV0+, Android 2
p57421
aV0+,
p57422
aVThen you could use it like this:
p57423
aVOr if you have a controller action which is streaming the video you could also point the  attribute to it
p57424
as(dp57425
g16
V29407
p57426
stp57427
a((dp57428
g2
(lp57429
VTry like this:
p57430
aVor if you want to use unobtrusive javascript with jquery:
p57431
aVPersonally I prefer the second approach as you are not mixing javascript and markup which reduces the size of your html pages and you could put the javascript into a separate static file which could be cached by the client browser
p57432
as(dp57433
g16
V29407
p57434
stp57435
a((dp57436
g2
(lp57437
VHere's an example of how you could proceed:
p57438
as(dp57439
g16
V29407
p57440
stp57441
a((dp57442
g2
(lp57443
VYou could try like this:
p57444
aVor with the Razor view engine:
p57445
as(dp57446
g16
V29407
p57447
stp57448
a((dp57449
g2
(lp57450
VYou may take a look at the tutorials available on the asp
p57451
aVnet site
p57452
as(dp57453
g16
V29407
p57454
stp57455
a((dp57456
g2
(lp57457
VBy default ASP
p57458
aVNET MVC 3 uses unobtrusive jquery with all the  helpers
p57459
aVSo start by getting rid off all MicrosoftAjax scripts (this useless c**p) and put the following instead:
p57460
aVand then simply activate unobtrusive AJAX in your web
p57461
aVconfig (if not already done):
p57462
aVNow jquery is going to unobtrusively AJAXify all the links containing those HTML 5  attributes
p57463
aVOr even better IMHO:
p57464
aVIn your view simply:
p57465
aVand in a separate javascript file AJAXify this anchor:
p57466
as(dp57467
g16
V29407
p57468
stp57469
a((dp57470
g2
(lp57471
VDisclaimer: The following works only with ASP
p57472
aVNET MVC 3 (see the update at the bottom if you are using previous versions)
p57473
aVAssuming the following model:
p57474
aVAnd the following view:
p57475
aVInside your custom helper you could fetch this information from the metadata:
p57476
aVRemark: Having  and  on the same model property is redundant and the name used in the  attribute has precedence in
p57477
aVUPDATE:
p57478
aVMy previous answer won't work with ASP
p57479
aVNET MVC 2
p57480
ag2721
aVThere are a couples of properties that it is not possible to fill by default with  in
p57481
aVNET 3
p57482
aV5, and  is one of them
p57483
aVTo achieve this in ASP
p57484
aVNET MVC 2
p57485
aV0 you could use a custom model metadata provider:
p57486
aVwhich you would register in :
p57487
aVand then the helper should work as expected:
p57488
as(dp57489
g16
V29407
p57490
stp57491
a((dp57492
g2
(lp57493
VIn this other view (assuming it is partial and on the same page) you could use javascript and jquery:
p57494
aVIf the HTML is not on the same page you cannot obtain it from another view
p57495
aVIt simply doesn't exist anywhere
p57496
aVYou will need to refetch it from the server
p57497
aVThis being said if you want to avoid hitting the database or perform some lengthy tasks you could always cache the results or store them into the session
p57498
as(dp57499
g16
V29407
p57500
stp57501
a((dp57502
g2
(lp57503
VYou could try disabling request validation for this particular handler in web
p57504
aVconfig:
p57505
as(dp57506
g16
V29407
p57507
stp57508
a((dp57509
g2
(lp57510
VYou could throw an HttpException and set the corresponding status code:
p57511
aVIt will also work with other status codes
p57512
aVJust a remark about the 401: as you probably know when ASP
p57513
aVNET MVC detects this code it automatically redirects you to the login page and getting a custom error page for the 401 status code could be a real PITA to implement
p57514
as(dp57515
g16
V29407
p57516
stp57517
a((dp57518
g2
(lp57519
VSo you have a controller action which returns a view but you are not passing any model to this view:
p57520
aVAnd yet your are trying to use  in your view
p57521
aVThat's not allowed
p57522
aVSo the first thing is to have your controller action return a model to the view:
p57523
aVThe second thing is to use a strongly typed helper in your view () which uses as first argument a scalar type property that will harbor the selected value of the dropdown (assuming here that  is a simple property type like ):
p57524
aVAnd now you can get rid of the  value in your  dictionary as we can specify it directly in the view
p57525
as(dp57526
g16
V29407
p57527
stp57528
a((dp57529
g2
(lp57530
VI would use an action filter that will inject the store settings on each request
p57531
aVThe view model could look like this:
p57532
aVAnd the action filter:
p57533
aVNow we need to apply this attribute on the base controller so that it is executed for each action:
p57534
aVIf you are using ASP
p57535
aVNET MVC 3 you could have a global action filter
p57536
aVAnd finally inside the master page you would have access to the store settings:
p57537
as(dp57538
g16
V29407
p57539
stp57540
a((dp57541
g2
(lp57542
VHere are a few tips:
p57543
aVMake sure your controller action is not throwing an exception (especially the part where you say )
p57544
aVThis could be verified by stepping through it and debugging
p57545
aVMake sure to always URL encode your request parameters and never use string concatenation:
p57546
aVNever hardocde urls in your javascript file
p57547
aVAlways use Url helpers when dealing with urls (if this is a separate javascript then you could use a global js variable set in your view):
p57548
aVUse FireBug to see what is being sent to and received from the server
p57549
as(dp57550
g16
V29407
p57551
stp57552
a((dp57553
g2
(lp57554
VTry using an identity column  instead of the  property:
p57555
aVand then:
p57556
aVUPDATE:
p57557
aVHere's a full working example (using SQLite and a console application to simplify but similar techniques could be applied in your web application):
p57558
as(dp57559
g16
V29407
p57560
stp57561
a((dp57562
g2
(lp57563
VThis error usually means that ASP
p57564
aVNET is not picking the request at all
p57565
aVTry setting Integrated Mode for your application (in contrast to Classic Mode)
p57566
as(dp57567
g16
V29407
p57568
stp57569
a((dp57570
g2
(lp57571
VAFAIK there is no a way to change this dialog box
p57572
aVIt might differ among browsers as well
p57573
aVYou could use Forms Authentication if you want to customize the login screen
p57574
as(dp57575
g16
V29407
p57576
stp57577
a((dp57578
g2
(lp57579
VYou might check the following blog post
p57580
aVUPDATE:
p57581
aVThe problem seems to be related to the installation of
p57582
aVNET 4
p57583
ag2721
aVReinstalling it fixes the issue
p57584
as(dp57585
g16
V29407
p57586
stp57587
a((dp57588
g2
(lp57589
VI would use an editor template and data annotations on the view model to specify formatting which makes the views much cleaner:
p57590
aVand then inside your view:
p57591
aVand then adapt the selector because the textbox will no longer have the  class:
p57592
as(dp57593
g16
V29407
p57594
stp57595
a((dp57596
g2
(lp57597
VYou will need to use javascript for this
p57598
aVThere is no server side event occurring when the user changes the selection of a radio button
p57599
aVSo if you are using jquery you could subscribe for the  event and submit the form:
p57600
aVand then in a separate javascript file:
p57601
as(dp57602
g16
V29407
p57603
stp57604
a((dp57605
g2
(lp57606
VIf the site doesn't provide some API to access its contents and you don't want to use iframes your only solution is to use site scraping: have a server side script that will send an HTTP request to the remote site, fetch the HTML, parse the HTML and pass it to your views
p57607
aVObviously this could raise some copyright concerns so you should make sure that you have read the remote site policy about this
p57608
aVIt is also extremely fragile and it might break at the moment the remote site changes its structure because you will be relying on HTML parsing
p57609
as(dp57610
g16
V29407
p57611
stp57612
a((dp57613
g2
(lp57614
VYou could use ASP
p57615
aVNET Themes which could be changed dynamically at runtime
p57616
as(dp57617
g16
V29407
p57618
stp57619
a((dp57620
g2
(lp57621
Vjavascript is not adapted for desktop applications
p57622
aVYou could use a WebBrowser to embed some web page widget which will execute the javascript
p57623
as(dp57624
g16
V29407
p57625
stp57626
a((dp57627
g2
(lp57628
Vand then unobtrusively AJAXify this link in a separate javascript file:
p57629
aVwhere your controller action could look like this:
p57630
as(dp57631
g16
V29407
p57632
stp57633
a((dp57634
g2
(lp57635
VYou could use a Timer and a TimerTask
p57636
as(dp57637
g16
V29407
p57638
stp57639
a((dp57640
g2
(lp57641
VThe WebGrid helper doesn't use DataAnnotations
p57642
aVYou could customize the columns and use Editor/Display templates inside them if you want those attributes to have some effect
p57643
aVYou could also have something among the lines:
p57644
as(dp57645
g16
V29407
p57646
stp57647
a((dp57648
g2
(lp57649
VYou could do this:
p57650
aVand then in a separate javascript file AJAXify this link:
p57651
aVAnd if you want to avoid the tag soup in your views you could write a custom helper:
p57652
aVand then in your view simply:
p57653
aVand of course the process of AJAXifying it stays the same
p57654
as(dp57655
g16
V29407
p57656
stp57657
a((dp57658
g2
(lp57659
VIf you lose the connection in the middle of a transaction you can no longer reenter this transaction from a different connection
p57660
aVIf the connection is dropped, SQL Server will rollback any uncommitted transactions automatically
p57661
aVSo if this happens, simply reconnect and you will find your database at the same state it was before starting the transaction (assuming of course there aren't other users that might have changed it in between
p57662
as(dp57663
g16
V29407
p57664
stp57665
a((dp57666
g2
(lp57667
VNo there are still some unsupported features
p57668
aVIt's not a full LINQ implementation
p57669
as(dp57670
g16
V29407
p57671
stp57672
a((dp57673
g2
(lp57674
VTry here: http://www
p57675
aVdeveloperfusion
p57676
aVcom/tools/convert/csharp-to-vb/
p57677
aVOf course this site assumes that you have valid C# code which is not your case
p57678
aVThere is not such operator  in C#
p57679
aVAlso the DictionaryEntry class is not generic
p57680
aVHere's the automatic translation:
p57681
as(dp57682
g16
V29407
p57683
stp57684
a((dp57685
g2
(lp57686
VHere's one for WPF
p57687
aVAnd another one
p57688
aVAnd yet another one
p57689
aVAnd here's one for WinForms
p57690
aVSo just pick any
p57691
as(dp57692
g16
V29407
p57693
stp57694
a((dp57695
g2
(lp57696
VPrincipal Component Analysis is at the base of pattern recognition systems such as facial recognition
p57697
as(dp57698
g16
V29407
p57699
stp57700
a((dp57701
g2
(lp57702
VStructureMap supports setter/property injection
p57703
aVSo you could do the following:
p57704
aVand then:
p57705
aVor if you don't like the idea of cluttering your controllers with StructureMap specific attributes you could configure it like this:
p57706
aVAlso note that property injection is suitable in scenarios where the presence of this property is not compulsory for the correct functioning of the controller
p57707
aVFor example think of a logger
p57708
aVIf the consumer of the controller doesn't inject any specific implementation of a logger into the property the controller still works it's just that it doesn't log
p57709
aVIn your case you are using a service and I would use constructor injection if your controller actions depend on this service
p57710
aVSo the question you should ask yourself is: will my controller crash when I call some its action if this property is
p57711
aVIf the answer to this question is yes then I would recommend constructor injection
p57712
aVAlso when you use a constructor injection you force the consumer of this controller to specify an implementation because he cannot obtain an instance of the controller without passing a proper service in the constructor
p57713
as(dp57714
g16
V29407
p57715
stp57716
a((dp57717
g2
(lp57718
VIs this the indented behavior of the framework or am I doing something wrong
p57719
aVYou are not doing anything wrong
p57720
aVIt's just how the  script works
p57721
aVSo you may call this a missing feature, discrepancy, PITA, whatever but that's how they did it out of the box
p57722
aVThis being said the jquery validate plugin is extensible and we can tweak it as we like:
p57723
as(dp57724
g16
V29407
p57725
stp57726
a((dp57727
g2
(lp57728
VI would recommend you starting with the jquery documentation which contains many useful tutorials and examples
p57729
aVIf you are saying that you are comfortable with ASP
p57730
aVNET MVC then you already know the markup that is being generated by the different helpers and so applying jquery to them unobtrusively in a separate javascript file is really simple and the same as if you were using some other server side framework
p57731
aVJust try to make an abstraction of the server side framework when working with jquery
p57732
aVThink of it in terms of static HTML markup that you are applying some dynamic actions to
p57733
aVThe following two topics are really important to learn as you will probably be using them most during application development:
p57734
aVDOM manipulation
p57735
aVAJAX
p57736
aVThere have been some efforts from the part of Microsoft to abstract javascript into some HTML helpers (known as the MicrosoftAjax framework) so that the developer shouldn't need to know javascript or jquery in order to use them and IMHO this is a disaster
p57737
aVIt is leading to mixing markup and javascript and the developer loosing track of what is happening with his application and not knowing why it doesn't work, simply because he learned some leaky abstractions without understanding the fundamental concepts
p57738
aVSo if I had an advice to give you is to download FireBug and start practicing jquery with some simple HTML markup
p57739
aVBy the way jsfiddle
p57740
aVnet is a great site allowing you to very quickly start creating mockups with jquery, HTML and CSS
p57741
as(dp57742
g16
V29407
p57743
stp57744
a((dp57745
g2
(lp57746
VWhen you return you are inside the  function so you are not actually returning anything from the  method
p57747
aVI would recommend you avoid mixing markup with javascript and do this unobtrusively:
p57748
aVand then:
p57749
as(dp57750
g16
V29407
p57751
stp57752
a((dp57753
g2
(lp57754
VTry specifying a prefix to help the model binder correctly bind the  and  request values to their corresponding action parameters:
p57755
as(dp57756
g16
V29407
p57757
stp57758
a((dp57759
g2
(lp57760
VYou have attached the  plugin to an input field with id  :  whereas your password field has the  id
p57761
aVSo here's a full working example:
p57762
aVModel:
p57763
aVController:
p57764
aVView:
p57765
as(dp57766
g16
V29407
p57767
stp57768
a((dp57769
g2
(lp57770
VAttribute properties could be only constant values and must be known at compile time:
p57771
aVso inside the action you already know those values as you have hardcoded them just above the action method signature
p57772
aVTo avoid hardcoding magic strings in two different places of you program you could use constants:
p57773
aVand then:
p57774
aVOf course you could always use reflection:
p57775
aVbut IMHO that would be a great waste so don't do it :-)
p57776
as(dp57777
g16
V29407
p57778
stp57779
a((dp57780
g2
(lp57781
VHere's the problem:
p57782
aVis a client side function and you are passing as argument a list that's stored in the ViewData so I suppose that it ends up calling the  and you have
p57783
aVin your final HTML which obviously doesn't make much sense
p57784
aVAlso don't forget that in order to pass parameters to the server using the $
p57785
aVpost function the second parameter needs to be a javascript object which is not what JSON
p57786
aVstringify does (it generates a string)
p57787
aVSo you need to end up with HTML like this:
p57788
aVSo to make this work you will first need to serialize this ViewData into JSON
p57789
aVYou could use the JavaScriptSerializer class for this:
p57790
aVAnd please don't use this
p57791
aVMake your views strongly typed and use view models
p57792
as(dp57793
g16
V29407
p57794
stp57795
a((dp57796
g2
(lp57797
VNormally you should not be passing data from one view model to another
p57798
aVYou should create your view model classes in such a way that they contain all the required information for the view to display
p57799
aVIt is the controller's responsibility to fill this information
p57800
aVConcerning you second question about the list, well you simply add a property which is of type  to this view model which will be filled by the controller and the view can show what products have been added
p57801
aVSo think of what information your views require and add it to the view models as properties
p57802
as(dp57803
g16
V29407
p57804
stp57805
a((dp57806
g2
(lp57807
VMEF chokes because it is scanning all assemblies in the  folder which contain interfaces and classes and the  class which implements  happens to be sealed
p57808
aVSo the only solution I see here is to exclude the  assembly from this scanning process
p57809
aVI am not familiar with MEF but in StructureMap which has the same problem you could exclude types
p57810
as(dp57811
g16
V29407
p57812
stp57813
a((dp57814
g2
(lp57815
VAsyncController is useful (compared to a normal controller) in the following situation:
p57816
aVYou have a long running task and this task is normally achieved by some other tier (web service, database,
p57817
aVby using I/O Completion Ports
p57818
aVSo the request starts on a worker thread, then you call the BeginXXX method which will open an IOCP (if it supports it, if not it is useless as it will simply draw another worker thread) and the worker thread will be immediately returned to the thread pool
p57819
aVDuring the execution of the long operation no worker threads are being consumed on the server
p57820
aVOnce it completes it signals the IOCP, the async controller draws another thread from the pool to simply terminate the request and return the results to the view
p57821
aVThere are a few things to note here: the fact that you used an async controller instead of a normal controller makes absolutely no difference to the client: he will still need to wait the same amount of time for the request to finish, don't get the false impression that an async controller will make your slow operation run faster
p57822
aVSimply the worker threads will be monopolized for less time and so potentially making other requests run faster
p57823
aVTo sum up: for fast running requests async controllers won't bring you any benefit compared to normal controllers
p57824
aVFor slow requests they could but it will depend on the nature of the long running operation and whether it is CPU or I/O bound
p57825
aVFor CPU bound tasks async controllers are not more useful either
p57826
aVBut in all cases you should perform extensive load testing on your application
p57827
aVHere's a very good article on MSDN which explains async requests in ASP
p57828
aVNET
p57829
aVAnd here's a blog post which illustrates how an async controller could be used to implement long-polling
p57830
as(dp57831
g16
V29407
p57832
stp57833
a((dp57834
g2
(lp57835
VYou could use the  property:
p57836
aVand in your controller action you could add this parameter:
p57837
as(dp57838
g16
V29407
p57839
stp57840
a((dp57841
g2
(lp57842
VYou could put the  method call in  and not after modifying the :
p57843
as(dp57844
g16
V29407
p57845
stp57846
a((dp57847
g2
(lp57848
VYou could use a jquery password strength plugin directly
p57849
as(dp57850
g16
V29407
p57851
stp57852
a((dp57853
g2
(lp57854
VYou could use AJAX to send a request to your server side script which will query the MySQL database
p57855
aVJavascript has no way of accessing a SQL database directly because it runs on the client
p57856
aVImagine if this was possible: it would mean that anyone from his client computer would be able to send any SQL query he likes to your MySQL server which hopefully is not possible
p57857
as(dp57858
g16
V29407
p57859
stp57860
a((dp57861
g2
(lp57862
s(dp57863
g16
V29407
p57864
stp57865
a((dp57866
g2
(lp57867
VYou may take a look at the following article which uses jquery
p57868
as(dp57869
g16
V29407
p57870
stp57871
a((dp57872
g2
(lp57873
VIt seems logical that I would declare a class level connection and initialise it in the web service constructor
p57874
aVNo, this doesn't seem logical at all
p57875
aVADO
p57876
aVNET uses a connection pooling so that you don't need to do this
p57877
aVThis connection pool is per connection string per application domain
p57878
aVSo you could simply draw a new connection from the pool in each web method and return it to the pool at the end (the  statements will take care of this):
p57879
aVSo here's an advice: don't try to manage connections manually by using some class fields, static fields,
p57880
aVLeave this management to ADO
p57881
aVNET as it does it better
p57882
aVRemark: The code I've shown usually resides in a data access layer which is called by the web method
p57883
as(dp57884
g16
V29407
p57885
stp57886
a((dp57887
g2
(lp57888
VThe logic seems correct, I would just remove the try/catch in the Data Access Layer as you are not doing anything useful in the catch part other than rethrowing the exception and clearing the stack trace which could be bad
p57889
aVAs far as the business layer is concerned it seems fine: that's exactly the place where transactions should be handled (started and committed or rolled back)
p57890
as(dp57891
g16
V29407
p57892
stp57893
a((dp57894
g2
(lp57895
VYou could perform the XSLT transformation of the XML file on the server and spit HTML to the client
p57896
aVHere's an article which illustrates the concept using PHP
p57897
as(dp57898
g16
V29407
p57899
stp57900
a((dp57901
g2
(lp57902
VYou could use static variables in WCF but you must properly synchronize the access to them because they can potentially be accessed from multiple threads concurrently
p57903
aVThe values stored in static variables are accessible from everywhere in the AppDomain and remain in memory until the server is restarted
p57904
as(dp57905
g16
V29407
p57906
stp57907
a((dp57908
g2
(lp57909
VInstead of:
p57910
aVtry:
p57911
aVAlso instead of writing foreach loops in your views you could use a display template
p57912
aVSo in your view:
p57913
aVand inside
p57914
as(dp57915
g16
V29407
p57916
stp57917
a((dp57918
g2
(lp57919
VYou could write a custom model binder deriving from the default model binder and override the CreateModel method to supply your custom instance
p57920
as(dp57921
g16
V29407
p57922
stp57923
a((dp57924
g2
(lp57925
V doesn't render a view
p57926
aVIt simply sets the status code to 404 and returns an empty result which is useful for things like AJAX but if you want a custom 404 error page you could  which will automatically render the configured view in web
p57927
aVconfig:
p57928
as(dp57929
g16
V29407
p57930
stp57931
a((dp57932
g2
(lp57933
VYes, you will need an intermediary server which supports the WebSocket protocol
p57934
aVThis server could be written in any language including
p57935
aVNET
p57936
aVHere's one for
p57937
aVNET but it really could be any language
p57938
aVAs far as your site is concerned it could be ASP
p57939
aVNET and the client part in javascript which will talk to the WebSocket server
p57940
as(dp57941
g16
V29407
p57942
stp57943
a((dp57944
g2
(lp57945
VNo, you don't need to implement everything if you never use this functionality
p57946
aVThrowing a NotImplementedException is always a good way to indicate this
p57947
as(dp57948
g16
V29407
p57949
stp57950
a((dp57951
g2
(lp57952
VYou could decorate the  property on your view model with the  attribute:
p57953
aVand in your view use the  helper instead of :
p57954
aVAnother possibility is to leave the model as is without adding any attributes to it and in your view use the  helper:
p57955
aVPersonally I prefer the first approach
p57956
as(dp57957
g16
V29407
p57958
stp57959
a((dp57960
g2
(lp57961
VThose two designs can't and shouldn't be combined
p57962
aVYour view models are tied to the views so personally I redefine all the necessary attributes on my view models and believe it or not I don't care about DRY in this case
p57963
aVI do this because the requirements of my views change quite often (yeah customers are capricious) whereas I reuse always the same domain models
p57964
aVFor me a view should never know about the existence of a domain model
p57965
aVA view should be dummy and all that it should know about is the view model which is passed to it by the controller
p57966
aVI know that there are people who might think different and I respect their opinion
p57967
aVSo by saying this I am only exposing my personal point of view and my way of working with ASP
p57968
aVNET MVC
p57969
aVAnd to be quite honest with you my models are POCO objects without any DataAnnotations so I don't encounter such problems
p57970
aVI use DataAnnotations on my view models only for formatting purposes (stuff like ,  and ) and no validation attributes
p57971
aVI use FluentValidation
p57972
aVNET for this purpose
p57973
as(dp57974
g16
V29407
p57975
stp57976
a((dp57977
g2
(lp57978
VOK, let's put this into action
p57979
aVAs always start by defining a view model:
p57980
aVthen a controller:
p57981
aVand finally a view:
p57982
aVNow fire up your HTML 5 compliant browser and have fun
p57983
as(dp57984
g16
V29407
p57985
stp57986
a((dp57987
g2
(lp57988
VDon't use , it's evil
p57989
aVAlso make sure your server sends proper content type (application/json):
p57990
aVAlso you probably don't need  with a POST request
p57991
aVThose are probably reflexes that you got from IE and GET requests :-)
p57992
as(dp57993
g16
V29407
p57994
stp57995
a((dp57996
g2
(lp57997
VThat should be better:
p57998
aVand here's the live demo
p57999
as(dp58000
g16
V29407
p58001
stp58002
a((dp58003
g2
(lp58004
VYou could customize the editor template:
p58005
aVand inside the corresponding editor template ():
p58006
as(dp58007
g16
V29407
p58008
stp58009
a((dp58010
g2
(lp58011
VYou could use the InputStream property of the posted file to read the contents as a byte array and send it to your service layer along with other information such as ContentType and FileName that your service layer might need:
p58012
as(dp58013
g16
V29407
p58014
stp58015
a((dp58016
g2
(lp58017
VIf you don't views having to worry about which action to call why not writing a reusable HTML helper:
p58018
aVand inside your view:
p58019
aVand in the corresponding controller:
p58020
as(dp58021
g16
V29407
p58022
stp58023
a((dp58024
g2
(lp58025
VActually it's  with lowercase :
p58026
aVinstead of:
p58027
as(dp58028
g16
V29407
p58029
stp58030
a((dp58031
g2
(lp58032
VBelieve it or not that's how it is
p58033
aVNot a single unit test :-)
p58034
as(dp58035
g16
V29407
p58036
stp58037
a((dp58038
g2
(lp58039
VAjax
p58040
aVBeginForm() is this then MvcAjax or Jquery
p58041
aVBy default it is jquery
p58042
aVYou need to reference the  script for this to work
p58043
aVOr would I use Html
p58044
aVBeginForm() and register something like $
p58045
aVpost on the click event of the Form
p58046
aVThat's an alternative
p58047
aVPersonally that's what I do
p58048
aVI assume that it is correct, that I am posting to the create action of the commentscontroller and I would use the JsonModelBinder to transform it to a model
p58049
aVAfter that I would return Json and would append it to my comments list
p58050
aVThe JsonModelBinder has been introduced in ASP
p58051
aVNET MVC 3 and it allows you to send a JSON string to a controller action which will be mapped back to a view model
p58052
aVFor example if you have the following view model:
p58053
aVand the following action:
p58054
aVthe traditional way to invoke it in AJAX is:
p58055
aVand in ASP
p58056
aVNET MVC 3 you could send a JSON as request parameter which will be bound to the  action parameter:
p58057
as(dp58058
g16
V29407
p58059
stp58060
a((dp58061
g2
(lp58062
VNormally NuGet is installed with ASP
p58063
aVNET MVC 3 so it should appear automatically
p58064
aVTry removing the NuGet package that you have installed and reinstall ASP
p58065
aVNET MVC 3
p58066
as(dp58067
g16
V29407
p58068
stp58069
a((dp58070
g2
(lp58071
VInstead of writing those ugly  loops and trying to find suitable names for your inputs in your view you could consider using an editor template as it will make your view much more simpler:
p58072
aVand then inside the corresponding editor template ():
p58073
aVNow you will find out that everything auto-magically comes to its place: correct naming convention so that when you postback the default model binder will be able to reconstruct the view model, client and server side validation working, clean views, happy users :-)
p58074
as(dp58075
g16
V29407
p58076
stp58077
a((dp58078
g2
(lp58079
VYou could use reflection to loop through all the properties:
p58080
as(dp58081
g16
V29407
p58082
stp58083
a((dp58084
g2
(lp58085
VYou need to remove the value from the model state if you intend to modify it in the controller or when you render the view the HTML helper that you have used to render this value will first look in the POSTed values and after that in the model
p58086
aVThat's the expected behavior
p58087
as(dp58088
g16
V29407
p58089
stp58090
a((dp58091
g2
(lp58092
VThis is user specific so I would store it in a persistent cookie
p58093
aVSo when a user authenticates you could query the database to fetch the required information and issue a persistent cookie which will expire in 24h
p58094
aVThen in the partial you would check whether the cookie exists and fetch the necessary data from this cookie and if the cookie doesn't exist query the database and reemit the cookie
p58095
aVWhen the user logs out you could remove the cookie although that's not strictly necessary because when he logs back in (with the same or other username) you would query the database once again and reemit the cookie
p58096
aVAnd because we live in 2011 and HTML5 is knocking on our doors instead of cookies I would probably use the HTML5 Local Storage and if the browser doesn't support it fallback to cookies
p58097
as(dp58098
g16
V29407
p58099
stp58100
a((dp58101
g2
(lp58102
VOleDbConnection is the standard class to query an Access database
p58103
aVHere's an example
p58104
as(dp58105
g16
V29407
p58106
stp58107
a((dp58108
g2
(lp58109
VUnfortunately the web resources are quite tied to the webforms infrastructure and it is difficult to reuse them without it
p58110
aVSo a bit hacky but you could write a helper:
p58111
aVand in your razor view:
p58112
aVAnother possibility is to write a custom HTTP handler/controller which will read the embedded resource from the assembly and stream it to the response by setting the proper content type
p58113
as(dp58114
g16
V29407
p58115
stp58116
a((dp58117
g2
(lp58118
VYou could serialize the model into a JSON object using JavaScriptSerializer:
p58119
as(dp58120
g16
V29407
p58121
stp58122
a((dp58123
g2
(lp58124
VYou have too many
p58125
aVIt should be:
p58126
aVOf course writing something like this makes absolutely no sense whatsoever
p58127
aVYou probably need:
p58128
aVWhich of course leads to another problem which is the usage of
p58129
aVI would recommend you using a strongly typed view and model so that finally you have:
p58130
as(dp58131
g16
V29407
p58132
stp58133
a((dp58134
g2
(lp58135
VYou need to escape the double quotes:
p58136
aVThis being said if you really want to generate valid HTML with valid urls I would recommend you the following:
p58137
as(dp58138
g16
V29407
p58139
stp58140
a((dp58141
g2
(lp58142
VYou could apply a grotesque hack inside your view:
p58143
as(dp58144
g16
V29407
p58145
stp58146
a((dp58147
g2
(lp58148
VIf you need to do this it means that you are doing something wrong
p58149
aVNormally the controller which rendered the view containing this dropdown populated  (it should have populated a view model instead of ViewData but that's another discussion)
p58150
aVSo the controller already knows the mapping between the value and the text
p58151
aVSo when you postback the value you should be capable of determining the text by the same technique you used before
p58152
as(dp58153
g16
V29407
p58154
stp58155
a((dp58156
g2
(lp58157
VThis declares an array of 3 objects
p58158
aVThe first object of this array contains one string property
p58159
aVThe second object in the array contains two properties  and
p58160
aVAnd the last object contains two numeric properties  and
p58161
aVSo this represents a javascript object and you don't need to declare any scripts to use it:
p58162
as(dp58163
g16
V29407
p58164
stp58165
a((dp58166
g2
(lp58167
VAdding my comment as answer:
p58168
aVHmm, that's weird
p58169
aVBy reading your question I am ready to bet 5 bucks that you have caching enabled somehow
p58170
aVTry renaming the action, controller
p58171
aVMake sure that the action you are calling is not decorated with the  attribute
p58172
aVTry doing this in a new project that you start from scratch
p58173
aVI am sure you will be able to narrow it down
p58174
as(dp58175
g16
V29407
p58176
stp58177
a((dp58178
g2
(lp58179
VThe same origin policy forbids you from using AJAX to access different domains
p58180
aVHere you are trying to use AJAX to access content stored on  and unless your script is hosted on this domain it's never gonna work
p58181
aVYou can access only scripts that are hosted on the same domain as the page that served this javascript
p58182
aVFor example:
p58183
aVwhere  is a script that you have written and hosted on your own server
p58184
as(dp58185
g16
V29407
p58186
stp58187
a((dp58188
g2
(lp58189
VYou don't need to compile your views
p58190
aVThat's the job of ASP
p58191
aVNET
p58192
aVYou could simply go through this blog post and everything should work just fine
p58193
as(dp58194
g16
V29407
p58195
stp58196
a((dp58197
g2
(lp58198
VMaybe something like this might work:
p58199
as(dp58200
g16
V29407
p58201
stp58202
a((dp58203
g2
(lp58204
VI've implemented a SSO solution between multiple ASP
p58205
aVNET MVC applications hosted on the same parent domain (app1
p58206
aVdomain
p58207
aVcom, app2
p58208
aVdomain
p58209
aVcom,
p58210
aVby using Forms Authentication and setting the domain property of the cookie in web
p58211
aVconfig of all applications:
p58212
aVWhen you set the domain property of the cookie, this cookie will automatically be sent by the client browser to all applications hosted on this domain and will be able to authenticated the user automatically
p58213
aVIf you want to implement a cross domain SSO using Forms Authentication here's what you could do:
p58214
aVThe user navigates to  and signs in
p58215
aVThe application hosted on  uses standard Forms Authentication, nothing fancy
p58216
aVThe user decides to go to  and clicks on a link that you created
p58217
aVThis link could contain a token parameter which will contain the encrypted username
p58218
aVThis encryption could be done using the machine keys and look something like this:
p58219
aVThe application hosted on  receives the request and because it uses the same machine keys as the other application it is capable of decrypting the token and fetching the username
p58220
aVThen it simply signs in the user by emitting an authentication cookie locally and the user is automatically signed in
p58221
as(dp58222
g16
V29407
p58223
stp58224
a((dp58225
g2
(lp58226
VIf by standard view engine you  mean WebForms then you could take a look at this blog post
p58227
aVIf by standard view engine you mean Razor you may take a look at the following blog post
p58228
aVYou may also take a look at MvcContrib way of doing it
p58229
aVAnd also DotLiquid
p58230
as(dp58231
g16
V29407
p58232
stp58233
a((dp58234
g2
(lp58235
VYou could write a custom model binder which will fill the view model from cookies:
p58236
aVthen register it in :
p58237
aVand finally you could have:
p58238
aVwhere the model will be populated from the cookie
p58239
as(dp58240
g16
V29407
p58241
stp58242
a((dp58243
g2
(lp58244
VI've been forced to create "Data transfer objects" to strip out the relations and data that doesn't need to be transferred
p58245
aVAnd you think that this is something bad
p58246
aVAt the contrary that's exactly how a properly designed ASP
p58247
aVNET MVC application should work: it should use view models
p58248
aVAnd not only for actions returning JSON but for ALL actions
p58249
aVYou should avoid passing your EF models to the views
p58250
aVViews should never know of the existence of EF
p58251
aVView models are classes that are specifically designed to meet the requirements of a view
p58252
aVSo the controller queries a repository to fetch a model (EF), maps it to a view model and passes it to the view to be shown
p58253
aVTo simplify this mapping between your models and view models you could use AutoMapper
p58254
as(dp58255
g16
V29407
p58256
stp58257
a((dp58258
g2
(lp58259
VYou could set it in your controller action:
p58260
aVor in the getter of your view model:
p58261
as(dp58262
g16
V29407
p58263
stp58264
a((dp58265
g2
(lp58266
VIf you already have some object model you could use a XmlSerializer to directly serialize it to XML or XDocument if you want to generate the XML manually
p58267
as(dp58268
g16
V29407
p58269
stp58270
a((dp58271
g2
(lp58272
VThey could look like this:
p58273
aVAnd here's a blog post you may take a look at
p58274
aVAnd a similar one
p58275
as(dp58276
g16
V29407
p58277
stp58278
a((dp58279
g2
(lp58280
VI did this migration some time ago and it went smoothly
p58281
aVMonoRail is very close to ASP
p58282
aVNET MVC in terms of naming conventions
p58283
aVThe most work was needed to migrate the Brail views to Razor
p58284
aVAlso the concept of strongly typed views in MVC is nice and should be taken into account
p58285
aVBut don't expect a step by step tutorial on how to do this because it will very much depend on the application
p58286
as(dp58287
g16
V29407
p58288
stp58289
a((dp58290
g2
(lp58291
VI would write an HTML helper:
p58292
aVand then in your view simply:
p58293
as(dp58294
g16
V29407
p58295
stp58296
a((dp58297
g2
(lp58298
VYou may take a look at the following blog post which explains how you could write a custom DataAnnotationsModelMetadataProvider to achieve this
p58299
as(dp58300
g16
V29407
p58301
stp58302
a((dp58303
g2
(lp58304
VYou could use the Split method:
p58305
as(dp58306
g16
V29407
p58307
stp58308
a((dp58309
g2
(lp58310
VNormally  should be enough and remove all values that have been stored in the session
p58311
aVends the current session
p58312
aVIt might also fire Session_End and the next request will fire Session_Start
p58313
as(dp58314
g16
V29407
p58315
stp58316
a((dp58317
g2
(lp58318
VYou might take a look at the following blog post
p58319
as(dp58320
g16
V29407
p58321
stp58322
a((dp58323
g2
(lp58324
VA partial class is a class whose definition could be split among different files inside the same project/assembly
p58325
aVFor example Visual Studio Forms Designer uses this functionality extensively in order to split the design time controls that you have placed on the form from the actual code, and once the project is compiled the two source files are merged to emit the resulting class
p58326
as(dp58327
g16
V29407
p58328
stp58329
a((dp58330
g2
(lp58331
VYou are missing a return type in your method definition:
p58332
aVWithout a return type this is considered to be a constructor of the  type
p58333
aVSo if you intended this to be a constructor it has to be put in a class called
p58334
as(dp58335
g16
V29407
p58336
stp58337
a((dp58338
g2
(lp58339
VYou may take a look at MVCContrib's simply RESTful routing
p58340
as(dp58341
g16
V29407
p58342
stp58343
a((dp58344
g2
(lp58345
VThat would be StructureMap-2
p58346
ag2721
aVThe next release which is StructureMap
p58347
ag48414
ag392
aV9 already depends on the  assembly which is
p58348
aVNET 3
p58349
ag244
as(dp58350
g16
V29407
p58351
stp58352
a((dp58353
g2
(lp58354
VYou could implement message level security over HTTP
p58355
as(dp58356
g16
V29407
p58357
stp58358
a((dp58359
g2
(lp58360
VOnce you parse the CSV file into a model you could store this model into the Session so that if the user chooses "Yes" you would fetch the model from the session and persist it to the database
p58361
aVIf you don't want to store large quantities of data into the session you could always save the model into some temporary file on disk and store only the path to this temporary file into the Session so that you could retrieve it later
p58362
as(dp58363
g16
V29407
p58364
stp58365
a((dp58366
g2
(lp58367
VYou could try setting the prefix in your editor template:
p58368
aVwhich if I am not mistaken should generate:
p58369
aVObviously you realize that by doing this you end up with invalid HTML (you will have multiple elements with the same )
p58370
aVA possible workaround would be to set the id manually:
p58371
aVAnother possibility would be to write a custom model binder for the Account type which would simply ignore the prefix when binding
p58372
as(dp58373
g16
V29407
p58374
stp58375
a((dp58376
g2
(lp58377
VYour parameter is called  and not , so:
p58378
as(dp58379
g16
V29407
p58380
stp58381
a((dp58382
g2
(lp58383
VYour controller action should look like this:
p58384
aVPersonally I would use the HTTP DELETE verb which seems more approapriate for deleting resources on the server and is more RESTful:
p58385
aVand then:
p58386
as(dp58387
g16
V29407
p58388
stp58389
a((dp58390
g2
(lp58391
VTry overriding OnActionExecuted instead of OnResultExecuting in the  filter:
p58392
as(dp58393
g16
V29407
p58394
stp58395
a((dp58396
g2
(lp58397
VThe jquery cookie plugin could simplify cookie management
p58398
aVAs far as showing/hiding HTML is concerned you may take a look at the  and  methods
p58399
as(dp58400
g16
V29407
p58401
stp58402
a((dp58403
g2
(lp58404
VNo, you don't  in a view, you simply don't include such partial in the main view:
p58405
aVor if you use :
p58406
as(dp58407
g16
V29407
p58408
stp58409
a((dp58410
g2
(lp58411
VIt's not the title parameter being optional that is problematic
p58412
aVIn your case it is the id parameter being optional
p58413
aVOnly the last parameter of a route definition can be optional and this rule has been enforced in ASP
p58414
aVNET MVC 3
p58415
aVHere's a similar question on this topic
p58416
aVSo if you want to have such route make sure that you always specify a value for the id parameter when generating those links:
p58417
as(dp58418
g16
V29407
p58419
stp58420
a((dp58421
g2
(lp58422
VIf the items are some custom object instead of strings you might need to override the Equals method
p58423
as(dp58424
g16
V29407
p58425
stp58426
a((dp58427
g2
(lp58428
VYou may take a look at the following blog post about writing custom object templates
p58429
aVAlso don't use EF models in your views
p58430
aVDesign view models that are classes specifically tailored to the needs of a given view and have your controller map between the EF models and the view models that should be passed to the view
p58431
aVAutoMapper is a good tool that could simplify this mapping
p58432
as(dp58433
g16
V29407
p58434
stp58435
a((dp58436
g2
(lp58437
V could have two possible explanations:
p58438
aVNo value was sent in the POST body
p58439
aVYou used some special content type such as for example  instead of  (could happen if you play with AJAX)
p58440
aVI would recommend you using FireBug to see exactly what's contained in the POST request and if there are any values
p58441
aVYou haven't shown the form definition neither how you are submitting it
p58442
aVIf you are POSTing with AJAX maybe there's where the problem lies
p58443
aVHere's an example of how a valid request might look like in FireBug:
p58444
as(dp58445
g16
V29407
p58446
stp58447
a((dp58448
g2
(lp58449
VThat's not query string that you have
p58450
aVIt's part of the uri and ASP
p58451
aVNET won't probably allow it
p58452
aVYou may try the following:
p58453
aVwhere the corresponding server side script will read the  query string parameter
p58454
aVAlso I hope you are aware of the implications in terms of security of having a server side script which accepts what seems to be a SQL query and executes it against a relational database
p58455
aVAnd last but not least don't forget about the same origin policy restriction and make sure that this script is hosted on  if you intend to send AJAX requests to it
p58456
as(dp58457
g16
V29407
p58458
stp58459
a((dp58460
g2
(lp58461
VTry removing the following two lines:
p58462
as(dp58463
g16
V29407
p58464
stp58465
a((dp58466
g2
(lp58467
VThe first thing would be to make sure that you have ASP
p58468
aVNET MVC 2 installed on the server
p58469
aVIf not you could do a bin-deployment
p58470
aVAlso you might find the following article useful
p58471
as(dp58472
g16
V29407
p58473
stp58474
a((dp58475
g2
(lp58476
VTo retrieve the profile:
p58477
aVAnd here's the MSDN documentation
p58478
aVAnd a nice blog post about custom profiles
p58479
as(dp58480
g16
V29407
p58481
stp58482
a((dp58483
g2
(lp58484
VA checkbox can have two states: ckecked/uncheked, true/false, 1/0
p58485
aVSo trying to bind a checkbox to a property that could potentially have three states doesn't really fit the picture
p58486
aVI would recommend you adapting your view model so that it uses a non nullable boolean property
p58487
aVIf in your domain model you have a nullable boolean which you cannot change you could do this in the mapping layer between your domain model and view model
p58488
as(dp58489
g16
V29407
p58490
stp58491
a((dp58492
g2
(lp58493
VI use property injection only for dependencies that are not required for the proper working of the class but could add some functionality if the user sets them
p58494
aVExample of such functionality is logging
p58495
aVSo you could have a property which represents a logger where the user can supply his own implementation and if he doesn't the class continues to work normally but it simply doesn't log
p58496
aVFor everything else I use constructor injection
p58497
aVThis way you indicate to the consumer that this class has a required dependency on some other service
p58498
aVSo to answer your question about the property injection I would simply have:
p58499
aVand if your class cannot function properly without the user service:
p58500
aVSo in both cases no reference to any DI specifics
p58501
aVThat's what Inversion of Control is all about
p58502
as(dp58503
g16
V29407
p58504
stp58505
a((dp58506
g2
(lp58507
VWCF RIA Services work great with Silverlight
p58508
aVSo you just need to host your SL application somewhere, a static HTML page could work just great
p58509
aVYou don't really need ASP
p58510
aVNET MVC
p58511
as(dp58512
g16
V29407
p58513
stp58514
a((dp58515
g2
(lp58516
VYou may take a look at SgmlReader or Html Agility Pack which are HTML parsing libraries for
p58517
aVNET
p58518
as(dp58519
g16
V29407
p58520
stp58521
a((dp58522
g2
(lp58523
VPersonally I would use an editor template for this:
p58524
aVand then have a corresponding editor template ():
p58525
aVNow not only that your view are much more readable but editor templates will take care of generating proper names for your hidden fields so that you can bind your model back:
p58526
aVwhere SomeViewModel looks like this:
p58527
aVand:
p58528
as(dp58529
g16
V29407
p58530
stp58531
a((dp58532
g2
(lp58533
VMake sure you have referenced the  assembly in your project
p58534
aVNot only in the web
p58535
aVconfig  section but also those assemblies being referenced
p58536
aVAlso make sure that the System
p58537
aVData
p58538
aVEntity, V4
p58539
ag2721
ag2721
aV0 is present in the GAC on the server you are running this application
p58540
as(dp58541
g16
V29407
p58542
stp58543
a((dp58544
g2
(lp58545
VFor CSS that are reused among the entire site I define them in the  section of the :
p58546
aVand if I need some view specific styles I define the  section in each view:
p58547
aVEdit: It's useful to know that the second parameter in @RenderSection, false, means that the section is not required on a view that uses this master page, and the view engine will blissfully ignore the fact that there is no "Styles" section defined in your view
p58548
aVIf true, the view won't render and an error will be thrown unless the "Styles" section has been defined
p58549
as(dp58550
g16
V29407
p58551
stp58552
a((dp58553
g2
(lp58554
VYou can't have those two methods on the same controller because your code simply wont't compile
p58555
aVIt is forbidden to have two methods with the same name and same parameters on the same class
p58556
aVYou probably have:
p58557
aVSo depending on the HTTP verb being used in the request the action invoker will choose the first or the second method
p58558
aVGET request dispatches to the first, POST request will be dispatched to the second
p58559
aVI am not aware with the  extension method (it is not standard ASP
p58560
aVNET MVC) but if the second action is invoked it means that it uses POST (either through javascript AJAX or through HTML  element)
p58561
aVYou could use FireBug to see exactly what's requests are being sent between the client and the server
p58562
as(dp58563
g16
V29407
p58564
stp58565
a((dp58566
g2
(lp58567
VA multiline textbox in html is :
p58568
aVor:
p58569
aVor even better:
p58570
aVAnd yet another possibility is to decorate your view model property with the  attribute:
p58571
aVand in your view:
p58572
aVand set the width and height through CSS
p58573
as(dp58574
g16
V29407
p58575
stp58576
a((dp58577
g2
(lp58578
VThat shouldn't be any problem, as both representations are equivalent:
p58579
aValerts
p58580
as(dp58581
g16
V29407
p58582
stp58583
a((dp58584
g2
(lp58585
VYou can't use  with
p58586
aVYou could use the  attribute but obviously this disabled validation for all values:
p58587
aVThis being said I would use the following:
p58588
as(dp58589
g16
V29407
p58590
stp58591
a((dp58592
g2
(lp58593
VAssuming:
p58594
aVand:
p58595
aVthe following should most definitely work:
p58596
aVOnce you make sure that this works (and it should) you could start componentizing this code
p58597
as(dp58598
g16
V29407
p58599
stp58600
a((dp58601
g2
(lp58602
VInheritance seems like a standard way of adding functionality in this case
p58603
aVHow about having your  derive from the :
p58604
aVand:
p58605
as(dp58606
g16
V29407
p58607
stp58608
a((dp58609
g2
(lp58610
VFor posted form values:
p58611
aVor:
p58612
aVor for any request value (including form posted):
p58613
as(dp58614
g16
V29407
p58615
stp58616
a((dp58617
g2
(lp58618
VWhen no user defined exception handler exists in Asp
p58619
aVNet MVC, does the worker process restarts for the first of the subsequent requests
p58620
aVNo, the worker process doesn't restart in case of unhandled exception
p58621
aVOf course there some kind of special exceptions such as OutOfMemoryException, StackOverflowException, ExecutionEngineException,
p58622
aVwhich might bring the process down, but try throwing a normal  in your controller action without a global exception handler and the worker process will stay alive
p58623
as(dp58624
g16
V29407
p58625
stp58626
a((dp58627
g2
(lp58628
VI'm assuming that I have to search for carriage returns and replace them with break tags
p58629
aVYes, your assumption is correct
p58630
aVYou could use a custom HTML helper:
p58631
aVand then:
p58632
aVUPDATE:
p58633
aVAnd here's an example of how this method could be unit tested:
p58634
as(dp58635
g16
V29407
p58636
stp58637
a((dp58638
g2
(lp58639
VHave you considered SharePoint
p58640
as(dp58641
g16
V29407
p58642
stp58643
a((dp58644
g2
(lp58645
VNo, that's not possible in a browser
p58646
aVJavascript runs in a sandboxed environment and doesn't have access to the file system
p58647
aVYou might need to special plugins to be installed on the client browser in order to access his file system
p58648
as(dp58649
g16
V29407
p58650
stp58651
a((dp58652
g2
(lp58653
VNo, that's not possible
p58654
aVCustom templates are defined in a separate file, but I agree that such functionality would be handy
p58655
as(dp58656
g16
V29407
p58657
stp58658
a((dp58659
g2
(lp58660
VYou could decorate your view model property with the  attribute:
p58661
aVand then your view simply becomes:
p58662
aVSo now it is reduced to a single and elegant line
p58663
as(dp58664
g16
V29407
p58665
stp58666
a((dp58667
g2
(lp58668
VVariable names should be known at compile time
p58669
aVIf you intend to populate those names dynamically at runtime you could use a
p58670
as(dp58671
g16
V29407
p58672
stp58673
a((dp58674
g2
(lp58675
VYou could define a model that will represent this JSON data:
p58676
aVand then use Json
p58677
aVNET to deserialize this string to the model
p58678
as(dp58679
g16
V29407
p58680
stp58681
a((dp58682
g2
(lp58683
VDue to same origin policy restrictions you are not allowed to perform cross domain AJAX calls
p58684
aVSo unless the page you are running this script from is hosted on  this won't work
p58685
aVAs a possible workaround you could use JSONP if the remote domain supports it or supply a server side script on your domain that will serve as bridge between your domain and the remote domain and then perform the AJAX call to this script
p58686
as(dp58687
g16
V29407
p58688
stp58689
a((dp58690
g2
(lp58691
VI would use a view model: a class which is specifically tailored to meet the requirements of the view (or in your case the JSON structure)
p58692
aVThen have the controller action map between the model which is fetched from the database and the view model
p58693
aVNow you have full control
p58694
as(dp58695
g16
V29407
p58696
stp58697
a((dp58698
g2
(lp58699
VTry like this:
p58700
as(dp58701
g16
V29407
p58702
stp58703
a((dp58704
g2
(lp58705
VIt would be easier to sort the array before adding the options to the dropdown
p58706
aVMoving DOM elements around once they are added would be less efficient
p58707
aVFor example:
p58708
as(dp58709
g16
V29407
p58710
stp58711
a((dp58712
g2
(lp58713
VYou cannot generate those values
p58714
aVThey are generated by ASP
p58715
aVNET, encrypted with the server machine keys and have a certain validity
p58716
aVThe only way to make this work is to first send a GET request to the main page, scrape the HTML, get the values of those hidden fields and after that send the POST request using the values you have read
p58717
as(dp58718
g16
V29407
p58719
stp58720
a((dp58721
g2
(lp58722
VYou could use a custom formatter:
p58723
aVand your controller would return the corresponding Google Chart URLs:
p58724
aVwhich gives:
p58725
as(dp58726
g16
V29407
p58727
stp58728
a((dp58729
g2
(lp58730
VAssuming you have a file upload control on your page:
p58731
aVthe following should work:
p58732
as(dp58733
g16
V29407
p58734
stp58735
a((dp58736
g2
(lp58737
VCurrently this is not possible unless you use CSS (provide the column header a style and set a background image in your CSS) or javascript
p58738
aVExample with CSS3:
p58739
aVand then in order to set some background image in the second column header using CSS3:
p58740
as(dp58741
g16
V29407
p58742
stp58743
a((dp58744
g2
(lp58745
VIf you don't use any
p58746
aVNET 4
p58747
aV0 specific features then probably you would be better of compiling against an older version of the framework
p58748
aVIf the user has only
p58749
aVNET 4
p58750
aV0 installed your program would still run whereas if you compile against
p58751
aVNET 4
p58752
aV0 and the user doesn't have it installed it won't run
p58753
as(dp58754
g16
V29407
p58755
stp58756
a((dp58757
g2
(lp58758
VSuch tools, even if they existed, wouldn't be reliable
p58759
aVThe best would be to perform a code review by a good developer or architect
p58760
as(dp58761
g16
V29407
p58762
stp58763
a((dp58764
g2
(lp58765
VThe following two methods are wrong:
p58766
aVYou can't have  as method argument
p58767
aVOnly as return type if you want it to be covariant () in your generic definition
p58768
aVOr if you want contravariance then you could use the generic parameter only as method argument and not return type:
p58769
as(dp58770
g16
V29407
p58771
stp58772
a((dp58773
g2
(lp58774
VThe ASP
p58775
aVNET MVC Internet Web Application adds the Admin controller allowing you to register users which may authenticate on the site using the membership provider
p58776
aVIt also contains the corresponding views
p58777
aVThe empty project generates no controllers and views
p58778
aVAlso I guess that you are talking about ASP
p58779
aVNET MVC 3, as the default project template in ASP
p58780
aVNET MVC 2 doesn't have this distinction => it systematically creates the Admin controller
p58781
as(dp58782
g16
V29407
p58783
stp58784
a((dp58785
g2
(lp58786
VYou can't pass dynamic values to an attribute like this
p58787
aVAll values passed to an attribute in
p58788
aVNET need to be known at compile time
p58789
aVOne possible workaround is to fetch this value in your custom implementation of the attribute as you have access to the HTTP context
p58790
aVSomething like:
p58791
aVand then:
p58792
as(dp58793
g16
V29407
p58794
stp58795
a((dp58796
g2
(lp58797
VIf you want a WSDL then use WCF as it already has this functionality built-in and don't reinvent wheels
p58798
aVIf you go the ASP
p58799
aVNET MVC way of generating JSON and XML you are pretty much on your own
p58800
aVAnd don't forget that WSDL is a SOAP artifact and not JSON or XML
p58801
aVIf you decide to go the REST route, make sure you follow the well established conventions
p58802
aVand write a good documentation for your service consumers
p58803
as(dp58804
g16
V29407
p58805
stp58806
a((dp58807
g2
(lp58808
VNever hardcode urls like this because when you deploy your application there could be a virtual directory prepended to your urls:
p58809
aVAlways use Url helpers when dealing with urls:
p58810
aVSo here's how I would refactor your code:
p58811
aVor if this  function is called when some link is clicked, I would have the link generated with an HTML helper:
p58812
aVand then simply AJAXify it:
p58813
aVAnd finally I would strongly recommend you using FireBug which is an excellent tool allowing you to debug this kind of problems as it shows all AJAX requests and what's happening between the client and the server
p58814
as(dp58815
g16
V29407
p58816
stp58817
a((dp58818
g2
(lp58819
VYou could use Dynamic LINQ
p58820
aVThe  method expects an expression and not string which is what you are trying to pass
p58821
aVYou may take a look at the following blog post which illustrates an  extension method method which can take a string parameter
p58822
as(dp58823
g16
V29407
p58824
stp58825
a((dp58826
g2
(lp58827
VYou could use some existing API allowing you to fetch the time given a city name
p58828
aVAnother possibility is download World Time Zones database locally and integrate in your application
p58829
as(dp58830
g16
V29407
p58831
stp58832
a((dp58833
g2
(lp58834
VHere's one example of how you could structure your application:
p58835
aVDomain Models (Primary POCO objects)
p58836
aVRepositories (Implementation of some data access technology depending on the project requirements : EF, NHibernate, LINQ to XML, Remote web service calls,
p58837
aVService (business operations aggregating multiple CRUD operations into a business operation that will be exposed with the domain objects)
p58838
aVASP
p58839
aVNET MVC application (Controllers, Views, View Models, Mappers between the Domain objects and the view models)
p58840
aVThis layers could represent a physical separation (assemblies) or logical separation into the same assembly
p58841
as(dp58842
g16
V29407
p58843
stp58844
a((dp58845
g2
(lp58846
VIf your hosting provider supports ASP
p58847
aVNET MVC then your deployment process shouldn't be any different than the one for a normal ASP
p58848
aVNET application
p58849
aVIf it doesn't you could attempt a bin-deployment
p58850
aVAnd here's another article on MSDN
p58851
as(dp58852
g16
V29407
p58853
stp58854
a((dp58855
g2
(lp58856
VEverything seems very nice and good design up until this point (which is not surprising as it is that point that is causing you headaches :-)):
p58857
aVMost model classes have a shared editor template that can be used in multiple views
p58858
aVIt's view models that should have editor templates and not EF models
p58859
aVAnd because view models are specific to the requirements of the view you are free to put whatever information you need into them, like in this case the
p58860
aVSo don't simply define a root view model that has your EF models as properties (that's not a view model)
p58861
aVDefine a view model that is designed to meet the requirements of the particular view
p58862
aVDon't put a single EF class in your view model hierarchy and you will see how much simpler your life will be :-)
p58863
aVAnd don't worry if you have duplicate properties in your view models
p58864
aVThat's what those classes are designed for
p58865
aVAlso AutoMapper could greatly simplify the mapping between your models and view models
p58866
as(dp58867
g16
V29407
p58868
stp58869
a((dp58870
g2
(lp58871
VIf you are using Forms Authentication unless you track your users with some Session it would be impossible to log users out
p58872
aVAuthenticated users are tracked by cookies and even if you restart the application domain using the  method client browsers still have the authentication cookies and users will be automatically logged in on subsequent requests
p58873
aVBut if you store some user specific information in the session when you restart the application domain this information would be deleted and you would know that the user should no longer be authenticated as it has no associated session data
p58874
as(dp58875
g16
V29407
p58876
stp58877
a((dp58878
g2
(lp58879
VA view works with view models, so start by defining one:
p58880
aVand then:
p58881
aVand finally have your view being strongly typed to:
p58882
aVnow you can loop use a display template with this view model to present the information to the user:
p58883
aVand inside the corresponding display template ():
p58884
as(dp58885
g16
V29407
p58886
stp58887
a((dp58888
g2
(lp58889
VTry like this:
p58890
as(dp58891
g16
V29407
p58892
stp58893
a((dp58894
g2
(lp58895
VYou can't redirect in an AJAX action from the server
p58896
aVIf you want your browser to redirect in an AJAX action you need to do it from javascript
p58897
aVObviously using AJAX to redirect is absolutely useless
p58898
aVIf you intend to redirect use a normal Html
p58899
aVBegin form and don't bother with AJAX
p58900
as(dp58901
g16
V29407
p58902
stp58903
a((dp58904
g2
(lp58905
VThis should work, can't see anything wrong with your code
p58906
aVLive demo
p58907
as(dp58908
g16
V29407
p58909
stp58910
a((dp58911
g2
(lp58912
VThe toolbox is a habit that you might have learned from WebForms development but which no longer applies in ASP
p58913
aVNET MVC
p58914
aVIn ASP
p58915
aVNET MVC you write code
p58916
aVAnd to generate a textbox () you could use the TextBoxFor HTML helper:
p58917
aVor if you don't have a strongly typed view (although you should if you want a properly designed MVC application)
p58918
aVSo say goodbye to server controls and toolboxes and say hello to ASP
p58919
aVNET MVC
p58920
as(dp58921
g16
V29407
p58922
stp58923
a((dp58924
g2
(lp58925
VThis should be done only once per App Domain, perfectly in the  method in
p58926
aVWhat you do here is that you redefine your mapping rules everytime a controller is initialized which is not correct
p58927
aVA great place to do this is to use a custom resolver
p58928
as(dp58929
g16
V29407
p58930
stp58931
a((dp58932
g2
(lp58933
VTry with a WebClient, it makes the code easier and it takes care of properly flushing and disposing all the streams:
p58934
as(dp58935
g16
V29407
p58936
stp58937
a((dp58938
g2
(lp58939
VYour model seems quite strange
p58940
aVIt contains properties such as  and  which seem redundant
p58941
aVIt also contains a  collection property called
p58942
aVSo, is this a model or a view model
p58943
aVIt looks quite messed up
p58944
aVLet's assume it's a model
p58945
aVIn this case it would more likely look something like this:
p58946
aVNow that the model is clear we could define a view model which will be passed to the view
p58947
aVA view model is a class which is specifically designed for the view
p58948
aVSo depending on what you intend to put in this view you define it in this view model
p58949
aVSo far you have talked only about a drop down, so let's do it:
p58950
aVand then we have a controller:
p58951
aVSo the controller uses a repository to fetch the model, maps it to a view model (in this example I use AutoMapper) and passes the view model to the view which will take care of showing it:
p58952
as(dp58953
g16
V29407
p58954
stp58955
a((dp58956
g2
(lp58957
VIf you are using forms authentication you could impersonate any user:
p58958
aVYou might also want to store some information into the session which would indicate that the user is in fact an administrator but acting as a global administrator (if you need such functionality)
p58959
as(dp58960
g16
V29407
p58961
stp58962
a((dp58963
g2
(lp58964
VYou could use the Html
p58965
aVAction or Html
p58966
aVRenderAction helpers
p58967
aVFor example you could put the following somewhere on your master page:
p58968
aVThis will execute the controller action, render the view and insert the generated HTML at the specified location in the master page
p58969
aVYou could also restrict this action for being used only as child action by decorating it with the  attribute:
p58970
aVAnd finally if inside the controller action you wanted to test whether it was called as a normal action or as a child action you could do this:
p58971
as(dp58972
g16
V29407
p58973
stp58974
a((dp58975
g2
(lp58976
VYou could try the following:
p58977
aVAnd if you are using
p58978
aVNET versions prior to 4
p58979
aV0, SmtpClient doesn't implement IDisposable so you might need to remove the using statement around it
p58980
as(dp58981
g16
V29407
p58982
stp58983
a((dp58984
g2
(lp58985
VNo, you are not missing anything
p58986
aVIf you return JSON you need to handle it on the client manually in order to update your GUI
p58987
aVAn easier solution could be to return a partial view containing the form html containing all the validation errors
p58988
as(dp58989
g16
V29407
p58990
stp58991
a((dp58992
g2
(lp58993
VYour editor template should be either:
p58994
aVor:
p58995
aVThe name of the ascx is always the type name of the collection item ( and not ) and it should be situated at  or
p58996
aVOr if you want to use a custom editor template name:
p58997
aVOr use  on your model
p58998
as(dp58999
g16
V29407
p59000
stp59001
a((dp59002
g2
(lp59003
VA better way would be to use an error handler by implementing the IErrorHandler interface
p59004
as(dp59005
g16
V29407
p59006
stp59007
a((dp59008
g2
(lp59009
VSo, you could define a type:
p59010
aVhave your web method take this object as parameter:
p59011
aVand then invoke:
p59012
as(dp59013
g16
V29407
p59014
stp59015
a((dp59016
g2
(lp59017
VIf you need to access the value of a sibling member it means that you assume that the view model has this sibling member
p59018
aVThis means that your html helper no longer needs to be generic
p59019
aVYou could do this:
p59020
aVOr if your view models implement some common base interface that contains the sibling member in question you could specify a generic constraint:
p59021
as(dp59022
g16
V29407
p59023
stp59024
a((dp59025
g2
(lp59026
VYou usually have two actions on the controller: one for rendering the form and one for processing the posted form values
p59027
aVTypically it looks like this:
p59028
aVthen your view looks as you have shown, it contains a form and input fields allowing the user to fill each property of the model
p59029
aVWhen it submits the form, the second action will be invoked and the default model binder will automatically fill the action parameter with the values entered by the user in the form
p59030
as(dp59031
g16
V29407
p59032
stp59033
a((dp59034
g2
(lp59035
VYou could use the following:
p59036
aVand in your view:
p59037
as(dp59038
g16
V29407
p59039
stp59040
a((dp59041
g2
(lp59042
VYou could use a regex:
p59043
as(dp59044
g16
V29407
p59045
stp59046
a((dp59047
g2
(lp59048
VIt is the scientific notation of the number
p59049
aVYou may take a look at this article about numeric data types in Oracle
p59050
as(dp59051
g16
V29407
p59052
stp59053
a((dp59054
g2
(lp59055
VI wouldn't use TempData for passing complex objects between the views
p59056
aVI would also get rid of ViewData
p59057
aVThen I would rather have the controller action rendering the view fetch whatever information it needs:
p59058
aVhave the corresponding view which allows for entering the url ():
p59059
aVand in the other action you are redirecting to:
p59060
as(dp59061
g16
V29407
p59062
stp59063
a((dp59064
g2
(lp59065
VIf you are using jquery validate unobtrusive validation you could:
p59066
as(dp59067
g16
V29407
p59068
stp59069
a((dp59070
g2
(lp59071
VPlease don't use this ViewBag/ViewData as they transform your views into spaghetti
p59072
aV@Microsoft why did you ever introduced this notion
p59073
aVPlease remove/forbid/throw a  in ASP
p59074
aVNET MVC v4 when when a developer tries to use it
p59075
aVView models are so much better/safer/strongly typed/avoiding magic strings/refactor friendlier/just working/
p59076
ag9596
as(dp59077
g16
V29407
p59078
stp59079
a((dp59080
g2
(lp59081
VYou have more control over cookies
p59082
aVYou can encrypt them so that they are secure even without HTTPS
p59083
aVBasic auth is always unsecure over HTTP
p59084
aVAlso cookies don't contain the password on each request
p59085
aVAnd, yes, what can I say, users like AJAX login forms and nice animated effects when logging in which unfortunately cannot be achieved with basic auth
p59086
as(dp59087
g16
V29407
p59088
stp59089
a((dp59090
g2
(lp59091
VWPF is a good place to start
p59092
aVAlso you may checkout this blog post which illustrates how to create an Office like Ribbon in WPF
p59093
as(dp59094
g16
V29407
p59095
stp59096
a((dp59097
g2
(lp59098
VHere's one blog post you may take a look at
p59099
aVIt illustrates how to use the new IDependencyResolver with Ninject
p59100
aVAnd here's another one using the more standard
p59101
aVAs far as unit testing is concerned, this doesn't really has any relation to the DI framework you are using
p59102
aVAs far as your repositories are properly abstracted with interfaces, testing your controllers is a matter of picking a mocking framework
p59103
aVHere's an example with Rhino Mocks
p59104
aVMvcContrib TestHelper is also worth looking at as it would simplify your unit tests b y mocking all the HTTP context such as Request, Response, Session,
p59105
as(dp59106
g16
V29407
p59107
stp59108
a((dp59109
g2
(lp59110
VThere could be multiple reasons why some script works on one browser but not on another
p59111
aVFor example you could have errors in your script and FireFox might be more permissive to errors than IE
p59112
aVAlso you might have used some specific features not implemented by IE and which work fine in FireFox
p59113
as(dp59114
g16
V29407
p59115
stp59116
a((dp59117
g2
(lp59118
VYou never pass a view model to a service
p59119
aVA service doesn't even know about the existence of a view model that you might have defined in your GUI (ASP
p59120
aVNET MVC) tier
p59121
aVA service works with domain models
p59122
aVPersonally I use AutoMapper to map between view models and models and vice versa, so this logic goes into the mapping layer
p59123
as(dp59124
g16
V29407
p59125
stp59126
a((dp59127
g2
(lp59128
VYou could use reflection
p59129
aVFor example if  is a public property on  and you have an instance of this class you could:
p59130
aVIf it's a public field:
p59131
aVOf course you should be aware that reflection doesn't come free of cost
p59132
aVThere could be a performance penalty compared to direct property/field access
p59133
as(dp59134
g16
V29407
p59135
stp59136
a((dp59137
g2
(lp59138
VHere's one project on CodePlex you might take a look at
p59139
as(dp59140
g16
V29407
p59141
stp59142
a((dp59143
g2
(lp59144
VYou seem to be mixing those double quotes
p59145
aVAnd those two statements seem to be redundant as the second overwrites the work of the first
p59146
aVTry this instead:
p59147
aVor even better:
p59148
aVAnd by the way a  tag doesn't have an  attribute so you might need to adapt this if you want valid markup
p59149
as(dp59150
g16
V29407
p59151
stp59152
a((dp59153
g2
(lp59154
VThere are indeed two use cases
p59155
aVYou care about the result of the lengthy operation
p59156
aVYou don't care about the result (fire and forget)
p59157
aVLet's start with the first case:
p59158
aVNow you could invoke it like this:
p59159
aVNow because you have mentioned a web service call, this means when you generated the client proxy of your web service you had the chance to emit async methods (XXXCompleted and XXXAsync):
p59160
aVThis is the best possible usage of an async controller as it relies on I/O Completion Ports and doesn't monopolize any threads on the server during the execution of the lengthy operation
p59161
aVThe second case is easier (don't really need an async controller):
p59162
aVHere's a nice article on MSDN on Async controllers
p59163
as(dp59164
g16
V29407
p59165
stp59166
a((dp59167
g2
(lp59168
VTo make a dropdown list you need two properties: one that represents the selected value and is bound to it and a list of
p59169
aVIn your case you have only a list
p59170
aVSo you need an intermediary view model:
p59171
aVand then on your view model have:
p59172
aVand your editor template:
p59173
aVand finally in your main view:
p59174
aVNow you could use the  property to set/get the value
p59175
as(dp59176
g16
V29407
p59177
stp59178
a((dp59179
g2
(lp59180
VYou could use a Timer
p59181
aVAnd the corresponding documentation on MSDN:
p59182
aVIn Windows Forms you could also use the System
p59183
aVWindows
p59184
aVForms
p59185
aVTimer class
p59186
as(dp59187
g16
V29407
p59188
stp59189
a((dp59190
g2
(lp59191
VThe reason for this error is because your model is null
p59192
aVMake sure your view is strongly typed to this model and that you pass a model in your controller action:
p59193
aVNow in your view you can loop use a editor/display template:
p59194
aVand in the corresponding display template ():
p59195
as(dp59196
g16
V29407
p59197
stp59198
a((dp59199
g2
(lp59200
VYou could write a custom model binder:
p59201
aVand then have your controller:
p59202
aVThe custom model binder could also be registered in :
p59203
aVwhich would simplify your controller action:
p59204
aVAnother advantage of this approach is that you could inject dependencies into the constructor of your custom model binder
p59205
aVIt might require those dependencies when tries to communicate with the AD and the database
p59206
as(dp59207
g16
V29407
p59208
stp59209
a((dp59210
g2
(lp59211
VTry specifying a culture when parsing:
p59212
aVAnd to handle the error case for gracefully instead of throwing exceptions around you could use the TryParse method:
p59213
as(dp59214
g16
V29407
p59215
stp59216
a((dp59217
g2
(lp59218
VThis looks like some misconfiguration of the application in IIS
p59219
aVTry setting the application pool to run in Integrated Mode (vs Classic Mode)
p59220
aVAlso try bin deploying in case your hosting provider doesn't have MVC 3 installed on the server
p59221
aVRemark: you absolutely don't need the  tags in your web
p59222
aVconfig
p59223
aVThat's no longer used in MVC
p59224
aVAuthorization in ASP
p59225
aVNET MVC is handled by decorating your controllers/actions with the  attribute
p59226
as(dp59227
g16
V29407
p59228
stp59229
a((dp59230
g2
(lp59231
VTry like this:
p59232
aVor:
p59233
as(dp59234
g16
V29407
p59235
stp59236
a((dp59237
g2
(lp59238
VYou could use a WebClient to POST values to your controller action:
p59239
aVand inside the action you will get:
p59240
as(dp59241
g16
V29407
p59242
stp59243
a((dp59244
g2
(lp59245
VYou could write a custom virtual path provider
p59246
aVHere are the default values that you might be interested in overriding:
p59247
aVSo here's how this might look in your case:
p59248
aVand then register this custom engine in :
p59249
aVNow you could place the area files in
p59250
aVRemark/Advice: stick to the ASP
p59251
aVNET MVC conventions as much as possible and override them only if strictly necessary
p59252
as(dp59253
g16
V29407
p59254
stp59255
a((dp59256
g2
(lp59257
VThe Express Edition of Visual Studio do not support add-ins
p59258
aVAs far as refactoring is concerned, Visual Studio has some built-in refactoring functionalities which could come handy
p59259
as(dp59260
g16
V29407
p59261
stp59262
a((dp59263
g2
(lp59264
VI would use the  of the anchor directly:
p59265
aVAnd then AJAXify it:
p59266
as(dp59267
g16
V29407
p59268
stp59269
a((dp59270
g2
(lp59271
VYou could group the cards by rank:
p59272
as(dp59273
g16
V29407
p59274
stp59275
a((dp59276
g2
(lp59277
VYou may checkout the following blog post in which Scott Hanselman explains how you could enable special characters in urls
p59278
aVDon't get too fancy though, it's still pretty limited
p59279
aVYou might also checkout the following post to see how this is implemented on SO (the post is pretty old and things might have changed since but still good source for information)
p59280
as(dp59281
g16
V29407
p59282
stp59283
a((dp59284
g2
(lp59285
VYour approach seems fine
p59286
aVJust make sure you are not using threads from the thread pool for executing the lengthy operation
p59287
aVSpawning a new thread manually could work just fine
p59288
as(dp59289
g16
V29407
p59290
stp59291
a((dp59292
g2
(lp59293
VFor example, I have an object Consultant, that has a collection of "WorkExperiences"
p59294
aVAll this is in an Entity Framework model
p59295
aVThat's the first thing you should improve: introduce view models and don't use your domain models into the view
p59296
aVThis being said let's move on to the templates
p59297
aVSo you can completely eliminate the need to write loops in your views
p59298
aVSo here's how your view might look like:
p59299
aVSo as you can we are using a display template and an editor template
p59300
aVLet's define them now
p59301
aVDisplay template ():
p59302
aVEditor template ():
p59303
aVWhat is important here is the naming convention
p59304
aVThe name of the template should be the name of the type of the item in the collection
p59305
aVSo for example if in your view model you have a property
p59306
aVthe corresponding template should be called  and should be located in  or  depending on its role
p59307
aVSo as you can see we have gotten rid of the nasty loops
p59308
aVNow not only that the views look clean, but you get correct names for the input fields so that you can bind the values back in the post action
p59309
as(dp59310
g16
V29407
p59311
stp59312
a((dp59313
g2
(lp59314
VAll your input fields will be prefixed with  except the dropdownlist where you have hardcoded it
p59315
aVSo you might need to specify this prefix if you want the model binder to be able to properly assign the values:
p59316
aVor use the top level model (the one that contains the ):
p59317
aVAlso I feel obligated to point out that using your EF models into the views is BAD practice
p59318
aVI would recommend you design view models which are classes specifically tailored to the needs of the view and contain only the properties necessary for this view
p59319
aVTo facilitate the mapping between the models and the view models you could use AutoMapper
p59320
aVSo here are two scenarios:
p59321
aVThe controller queries a repository and fetches a model
p59322
aVThe controller maps this model into a view model and passes the view model to the view
p59323
aVThe controller receives a view model (as argument) from the view
p59324
aVThe controller maps the view model to the corresponding model
p59325
aVThe controller calls a repository method to update something passing it the model
p59326
as(dp59327
g16
V29407
p59328
stp59329
a((dp59330
g2
(lp59331
s(dp59332
g16
V29407
p59333
stp59334
a((dp59335
g2
(lp59336
VTry like this:
p59337
as(dp59338
g16
V29407
p59339
stp59340
a((dp59341
g2
(lp59342
VThe separation of your project is very good and contains exactly the layers it should
p59343
aVThe problem is that you have a strong coupling between your layers making your code impossible to unit test
p59344
aVExamples:
p59345
aVYour view model is strongly coupled to a specific implementation of the service:
p59346
aVYour service is strongly coupled to a specific implementation of the repository:
p59347
aVTo improve this code and weaken the coupling you should consider using constructor injection and a DI framework
p59348
aVSo for example have your service constructor would take a  argument and assign the private field to it instead of hardcoding a new instance manually
p59349
aVAlso have your service implement an interface and do the same constructor injection in your  constructor so that it has access to the service
p59350
as(dp59351
g16
V29407
p59352
stp59353
a((dp59354
g2
(lp59355
VThe best is to have the controller action pass whatever values a view might need in the view model
p59356
aVAnother possibility is to use a custom HTML helper which would format the values
p59357
aVOr include a partial: , or render an action:
p59358
aVYet another possibility is to include a
p59359
aVSo as you can see there are many ways, which one is best would depend on your exact scenario
p59360
aVI can though say which is the worst: write C# code in your views
p59361
aVThe view shouldn't set anything
p59362
aVIt should be as dumb as possible and simply render whatever information it is thrown to it by a controller
p59363
as(dp59364
g16
V29407
p59365
stp59366
a((dp59367
g2
(lp59368
V, , ,
p59369
aVin an ASP
p59370
aVNET MVC application
p59371
aVNo
p59372
aVIn an ASP
p59373
aVNET MVC applications you don't use server side controls (no )
p59374
aVYou don't PostBack
p59375
aVThere is no ViewState
p59376
aVThere is no code behind
p59377
aVThere are no events
p59378
aVThere are no script managers
p59379
aVThere are no object data sources
p59380
aVAll this is specific to WebForms and is no longer used in MVC
p59381
aVIn an ASP
p59382
aVNET MVC application you have a Controller, a Model and a View
p59383
aVThe view contains standard HTML markup which could be generated with the aid of HTML helpers
p59384
aVTo call the controller you could use a normal link:
p59385
aVThe controller contains actions which manipulate the model and choose the view to be rendered by passing it all the information it needs to show
p59386
aVI would strongly recommend you start reading the tutorials here: http://asp
p59387
aVnet/mvc about how MVC works and familiarize yourself with the very basics of this framework
p59388
as(dp59389
g16
V29407
p59390
stp59391
a((dp59392
g2
(lp59393
VThe  controller action will be called for each file
p59394
aVSo it should look like this:
p59395
aVAnd if you want to handle multiple upload files in the same request you may take a look at the respective section of the documentation
p59396
as(dp59397
g16
V29407
p59398
stp59399
a((dp59400
g2
(lp59401
VYou cannot use an HTML helper which is run on the server to use a Javascript variable which is known on the client
p59402
aVSo you need to generate your URL with the information you dispose on the server
p59403
aVSo all you can do on the server is this:
p59404
aVThen I suppose that on the client you are doing some javascript (ideally with jquery) and a moment comes when you want to query the server using this url and the userID you've calculated on the client
p59405
aVSo for example you could modify the link action dynamically by appending some id:
p59406
aVor if you wanted to AJAXify this link:
p59407
as(dp59408
g16
V29407
p59409
stp59410
a((dp59411
g2
(lp59412
VCheckout if KB 2023146 applies to your scenario
p59413
aVAlso try requesting directly a controller action:
p59414
as(dp59415
g16
V29407
p59416
stp59417
a((dp59418
g2
(lp59419
s(dp59420
g16
V29407
p59421
stp59422
a((dp59423
g2
(lp59424
VA Silverlight application runs in the client browser and is tied to this specific user
p59425
aVSo you can keep this information wherever you like: static fields, helper classes, singletons,
p59426
aVwithout risking to mix with other users
p59427
as(dp59428
g16
V29407
p59429
stp59430
a((dp59431
g2
(lp59432
VThere are no server side buttons and events in ASP
p59433
aVNET MVC
p59434
aVThere are Models, Controllers and Views
p59435
aVViews usually contain standard HTML markup such as links and anchors and HTML forms that could post back to a controller and the lifecycle repeats: a controller receives a request, it queries a repository to fetch a model, maps this model to a view model and passes the view model to the view
p59436
aVThe following web site is a good place to start with ASP
p59437
aVNET MVC: http://www
p59438
aVasp
p59439
aVnet/mvc
p59440
as(dp59441
g16
V29407
p59442
stp59443
a((dp59444
g2
(lp59445
VTo use the custom helper method in your Razor views you will need to bring it into scope
p59446
aVThere are two possible ways to do this:
p59447
aVAdd a  in the top of your view with the namespace where the static class containing the helper is defined
p59448
aVIn , add:
p59449
aVOnce the custom helper is brought into scope in the view, Intellisense should be able to pick it and you could use it:
p59450
aVNow you helper method needs to do something useful
p59451
aVYou could either call existing helpers:
p59452
aVor return some custom data:
p59453
aVIf you have a strongly typed view and you wanted to use an expression:
p59454
aVand then:
p59455
as(dp59456
g16
V29407
p59457
stp59458
a((dp59459
g2
(lp59460
VPersonally I am using the following Java library where I compiled the
p59461
aVjar into a
p59462
aVNET assembly using the IKVM
p59463
aVNET Bytecode Compiler
p59464
as(dp59465
g16
V29407
p59466
stp59467
a((dp59468
g2
(lp59469
VIf this is unmanaged code then you could use P/Invoke
p59470
aVAnother possibility is to use the C++/CLI extensions to compile the code into a managed assembly that you could directly use
p59471
as(dp59472
g16
V29407
p59473
stp59474
a((dp59475
g2
(lp59476
VYou could loop through the contents only once the AJAX call completes (remember that AJAX is asynchronous meaning that when you call the
p59477
aVload() the method simply sends a request to the server but the response could come much later)
p59478
aVThat's why this function provides a callback which will be invoked once the AJAX call completes and where you could manipulate the result from the server:
p59479
as(dp59480
g16
V29407
p59481
stp59482
a((dp59483
g2
(lp59484
VYou may try the following in your generic HTTP handler:
p59485
aVObviously this would only work if the Generic HTTP handler is part of the ASP
p59486
aVNET MVC application
p59487
aVIf it is not the same application an HTTP redirect is your only bet
p59488
as(dp59489
g16
V29407
p59490
stp59491
a((dp59492
g2
(lp59493
VDefinitely a job for an editor template
p59494
aVSo in your view you put this single line:
p59495
aVand inside the corresponding editor template ()
p59496
aVAnd that's about all
p59497
aVNow the following actions will work out of the box:
p59498
aVNote that the name of the editor template is important
p59499
aVIf the property in your view model is:
p59500
aVthe editor template should be called
p59501
aVIt will automatically be invoked for each element of the  collection and it will take care of properly generating ids and names of your inputs so that when you POST back everything works automatically
p59502
aVConclusion: everytime you write a loop ( or ) inside an ASP
p59503
aVNET MVC view you should know that you are doing it wrong and that there is a better way
p59504
as(dp59505
g16
V29407
p59506
stp59507
a((dp59508
g2
(lp59509
VTo handle errors personally I prefer the  event in Global
p59510
aVasax:
p59511
aVand then have an ErrorsController:
p59512
as(dp59513
g16
V29407
p59514
stp59515
a((dp59516
g2
(lp59517
VYour view is strongly typed to a collection of products so I suppose that you need a drop down for each product
p59518
aVIf this is the case an editor template would work:
p59519
aVAnd then inside
p59520
as(dp59521
g16
V29407
p59522
stp59523
a((dp59524
g2
(lp59525
VYou can't exclude from Global filters
p59526
aVIf you want controllers to be excluded use standard filters
p59527
as(dp59528
g16
V29407
p59529
stp59530
a((dp59531
g2
(lp59532
VIn your view you could test the model and act accordingly:
p59533
as(dp59534
g16
V29407
p59535
stp59536
a((dp59537
g2
(lp59538
VThe following should work:
p59539
aVAssuming:
p59540
aVBoth:  and  work fine
p59541
as(dp59542
g16
V29407
p59543
stp59544
a((dp59545
g2
(lp59546
VA correctly named list box (in terms of what the default ASP
p59547
aVNET MVC model binder can cope with) would be:
p59548
aVand not:
p59549
aVat least if you expect to bind this back to  with the default model binder
p59550
aVAnd that's what the  helper generates
p59551
aVExample:
p59552
aVemits:
p59553
aVand the model binder is happy
p59554
aVUPDATE:
p59555
aVYou could also have a custom model binder capable of parsing this:
p59556
aVand then register this binder in :
p59557
as(dp59558
g16
V29407
p59559
stp59560
a((dp59561
g2
(lp59562
VTry decorating your view model property with the  attribute:
p59563
aVand in your view use the  helper:
p59564
aVor if you insist on using textbox helper (don't know why would you but anyway here's how):
p59565
as(dp59566
g16
V29407
p59567
stp59568
a((dp59569
g2
(lp59570
VAFAIK you cannot modify the location of those views
p59571
aVThey should be in
p59572
aVYou could specify the name though per exception type:
p59573
aVwhere the  view is located in
p59574
as(dp59575
g16
V29407
p59576
stp59577
a((dp59578
g2
(lp59579
VYou probably might want to improve this ajax call like this:
p59580
aVand have your controller action accept GET requests:
p59581
aVOK, now that we have fixed the error let me elaborate
p59582
aVIn your code you were using an  content type to format your request string
p59583
aVUnfortunately in ASP
p59584
aVNET MVC 2 there is nothing out of the box that is capable of making sense of JSON requests (unless you wrote a custom json value provider factory)
p59585
aVThen using string concatenation to append the  parameter to the URL without ever URL encoding it meaning that your code would break at the very moment the user enters some special character such as  in the  textbox
p59586
as(dp59587
g16
V29407
p59588
stp59589
a((dp59590
g2
(lp59591
VPersonally I put business validation logic (things like username is already taken, cannot wire money because of insufficient funds,
p59592
aVin the Service Layer and things like the username fields is required on the view model
p59593
as(dp59594
g16
V29407
p59595
stp59596
a((dp59597
g2
(lp59598
VYou may take a look at how the slugs are generated on StackOverflow
p59599
as(dp59600
g16
V29407
p59601
stp59602
a((dp59603
g2
(lp59604
VThat's normal behavior
p59605
aVExcerpt from the documentation:
p59606
aVSince it is not possible to upload
p59607
aVfiles using the browser's
p59608
aVXMLHttpRequest object, the Form Plugin
p59609
aVuses a hidden iframe element to help
p59610
aVwith the task
p59611
aVThis is a common
p59612
aVtechnique, but it has inherent
p59613
aVlimitations
p59614
aVThe iframe element is
p59615
aVused as the target of the form's
p59616
aVsubmit operation which means that the
p59617
aVserver response is written to the
p59618
aViframe
p59619
aVThis is fine if the response
p59620
aVtype is HTML or XML, but doesn't work
p59621
aVas well if the response type is script
p59622
aVor JSON, both of which often contain
p59623
aVcharacters that need to be repesented
p59624
aVusing entity references when found in
p59625
aVHTML markup
p59626
aVTo account for the challenges of
p59627
aVscript and JSON responses, the Form
p59628
aVPlugin allows these responses to be
p59629
aVembedded in a textarea element and it
p59630
aVis recommended that you do so for
p59631
aVthese response types when used in
p59632
aVconjuction with file uploads
p59633
aVPlease
p59634
aVnote, however, that if there is no
p59635
aVfile input in the form then the
p59636
aVrequest uses normal XHR to submit the
p59637
aVform (not an iframe)
p59638
aVThis puts the
p59639
aVburden on your server code to know
p59640
aVwhen to use a textarea and when not
p59641
aVto
p59642
aVIf you like, you can use the
p59643
aViframe option of the plugin to force
p59644
aVit to always use an iframe mode and
p59645
aVthen your server can always embed the
p59646
aVresponse in a textarea
p59647
aVThe following
p59648
aVresponse shows how a script should be
p59649
aVreturned from the server:
p59650
aVThis means that if you want to return JSON you need to wrap it in a  tags on your server
p59651
aVTo achieve this you could write a custom action result deriving from JsonResult and wrapping the generated JSON inside those tags
p59652
as(dp59653
g16
V29407
p59654
stp59655
a((dp59656
g2
(lp59657
VProbably unrelated but try like this:
p59658
aVand:
p59659
aVAlso make sure that the controller action sends some values over there
p59660
aVMaybe start by hardcoding them first to ensure that the AJAX call works:
p59661
as(dp59662
g16
V29407
p59663
stp59664
a((dp59665
g2
(lp59666
VTry writing a simple controller factory using Unity which is capable of resolving the controller instances:
p59667
aVand then hook it up in the  event in :
p59668
as(dp59669
g16
V29407
p59670
stp59671
a((dp59672
g2
(lp59673
VSure, just use the Visual Studio designers to drag and drop database tables
p59674
aVYou might also consider abstracting the operations with your entities behind interfaces in order to weaken the coupling between the consumers of those repositories and the specific implementation
p59675
as(dp59676
g16
V29407
p59677
stp59678
a((dp59679
g2
(lp59680
VDoes AreEqual only check equality of the reference, not the contents
p59681
aVYeap
p59682
aVTo test the contents you could:
p59683
as(dp59684
g16
V29407
p59685
stp59686
a((dp59687
g2
(lp59688
VI wouldn't assign  to null in the else condition
p59689
aVIf  is null I would simply leave the Id property to its default value
p59690
as(dp59691
g16
V29407
p59692
stp59693
a((dp59694
g2
(lp59695
VYou are sending JSON message with status code 200 which is considered as success
p59696
aVThe fact that this JSON message contains some custom structure with an error message is not something that extjs is capable of knowing
p59697
aVYou could either send a 500 HTTP status code from your server or simply use an if condition in your success handler like this:
p59698
aVAlso readapt the content type to what you are actually sending:
p59699
as(dp59700
g16
V29407
p59701
stp59702
a((dp59703
g2
(lp59704
VProbably the class that you are trying to use is located in the DLL and not the EXE, so you need to reference the DLL
p59705
aVYou could also reference EXE (assemblies) but in this case make sure that the class that is shown in the error message is actually present in this EXE
p59706
aVSo you could have the following solution structure:
p59707
aVSomeProjectLib (Class library containing the YYYYY
p59708
aVXXXX class)
p59709
aVSomeProjectWin (An exe which references the class library and uses the class from it)
p59710
aVSomeProjectWeb (An ASP
p59711
aVNET MVC project which references the class library and uses the class from it)
p59712
as(dp59713
g16
V29407
p59714
stp59715
a((dp59716
g2
(lp59717
VI want my option label ("Please select
p59718
aVto have a value of -1
p59719
aVYou cannot do this out of the box with the DropDownListFor helper
p59720
aVIt will always use blank for this value
p59721
aVYou have two possibilities:
p59722
aVWrite a custom helper
p59723
aVAdd it manually to the collection
p59724
aVActually you have a third possibility which IMHO is the best and what I would recommend you:
p59725
aVDon't use blank as values
p59726
aVThis should be reserved for the Please Select default value
p59727
aVIt doesn't seem logical to use blank as the value of something that the user can actually select
p59728
aVYou might also have problems with the validation
p59729
as(dp59730
g16
V29407
p59731
stp59732
a((dp59733
g2
(lp59734
VYou could have a javascript global variable which will track this value
p59735
aVSo when the change event is trigerred you would have the new value and the old one
p59736
aVThen you would update the global variable with the new value
p59737
aVHere's an example pseudo code:
p59738
as(dp59739
g16
V29407
p59740
stp59741
a((dp59742
g2
(lp59743
VYes, a custom Authorize action filter is a good place to do this
p59744
aVHere's how you could proceed:
p59745
as(dp59746
g16
V29407
p59747
stp59748
a((dp59749
g2
(lp59750
VYou have two possibilities:
p59751
aVor:
p59752
aVContrast this with their equivalents using the WebForms view engine:
p59753
as(dp59754
g16
V29407
p59755
stp59756
a((dp59757
g2
(lp59758
s(dp59759
g16
V29407
p59760
stp59761
a((dp59762
g2
(lp59763
VIs this really how MVC is supposed to be done, or did I miss some aspect of it
p59764
aVThat's absolutely how it MVC is supposed to be done and you aren't missing any aspect of it
p59765
aVA View Model per View
p59766
aVYou could still have base view model classes and use inheritance of your view models but be careful especially with the validation rules which might be different between the different views
p59767
aVSo for example if on one view a property was required it might no longer be required on another view so if you have used a base view model class and data annotations you would be pretty much toasted
p59768
aVDo not for one second hesitate to create view models even if you repeat some properties
p59769
aVThat's what view models are meant for => respond to the specific needs of a view and bear in mind that those needs could change quite often, so having separate view models might look difficult at the beginning but at the long term it is the best solution both in terms of maintenance and good practices IMHO
p59770
as(dp59771
g16
V29407
p59772
stp59773
a((dp59774
g2
(lp59775
VHere's how you could proceed:
p59776
aVand then you could have your custom authorize attribute:
p59777
aVand a controller action decorated with it:
p59778
aVand the dependencies should be injected
p59779
as(dp59780
g16
V29407
p59781
stp59782
a((dp59783
g2
(lp59784
Vshould contain the current controller and action which you could use
p59785
aVyou could also extract other route parameters like:
p59786
aVSo this information could be posted to the controller action that is going to send the email:
p59787
aVAnd the action that will send the email:
p59788
as(dp59789
g16
V29407
p59790
stp59791
a((dp59792
g2
(lp59793
VThe model binder runs much before the view executes so that you don't have a  yet which allows you to obtain an
p59794
aVYou could probably fake this context but that is not something I would recommend you doing
p59795
aVYou could have an  though
p59796
as(dp59797
g16
V29407
p59798
stp59799
a((dp59800
g2
(lp59801
VYou can download it from here
p59802
as(dp59803
g16
V29407
p59804
stp59805
a((dp59806
g2
(lp59807
Vand in your view:
p59808
aVand that's all
p59809
aVYou will probably want to apply a custom CSS class
p59810
aVYou could do this:
p59811
aVand then have in your css:
p59812
aVor write a custom DataAnnotationsModelMetadataProvider which will allow you to:
p59813
aVand then in your view:
p59814
as(dp59815
g16
V29407
p59816
stp59817
a((dp59818
g2
(lp59819
VNever hardcode urls
p59820
aVAlways use Url helpers when dealing with urls:
p59821
aVAnother possibility is to have a link somewhere on your page:
p59822
aVwhich you would AJAXify:
p59823
as(dp59824
g16
V29407
p59825
stp59826
a((dp59827
g2
(lp59828
VYou could use http redirect at the IIS level
p59829
as(dp59830
g16
V29407
p59831
stp59832
a((dp59833
g2
(lp59834
VYou could use child actions along with the Html
p59835
aVAction and Html
p59836
aVRenderAction helpers
p59837
aVSo let's elaborate with an example
p59838
aVAs always you start with a view model that will represent the information you want to show on this particular view (or in this case partial view):
p59839
aVthen a controller:
p59840
aVthen a corresponding view ():
p59841
aVand finally embed this in your master page so that it is available on all views:
p59842
as(dp59843
g16
V29407
p59844
stp59845
a((dp59846
g2
(lp59847
V should work fine assuming the path parameter you are passing is unique and that you don't have concurrent requests one writing and other trying to read at the same time
p59848
aVTo ensure this you could use a ReaderWriterLockSlim to synchronize the access if this situation could potentially occur
p59849
aVAlso make sure that there are no other parts of the code that might leak the file handle
p59850
aVTake a look at SysInternals Process Explorer which could allow you to know exactly where this file handle is leaked
p59851
as(dp59852
g16
V29407
p59853
stp59854
a((dp59855
g2
(lp59856
VTry using an editor template:
p59857
aVand inside :
p59858
aVNow this should be correctly bound to:
p59859
aVBecause the editor template will be rendered for each element of the collection you might want to add some items to this collection you are passing in the GET action ()
p59860
as(dp59861
g16
V29407
p59862
stp59863
a((dp59864
g2
(lp59865
VWhen you render this partial make sure you are passing a model:
p59866
aVAnd of course don't forget to strongly type your partial to the model:
p59867
aVAlso from the comment you posted it looks like you aren't passing any model to your views
p59868
aVSo change this and ensure a model is passed or you cannot use the Model property:
p59869
as(dp59870
g16
V29407
p59871
stp59872
a((dp59873
g2
(lp59874
VYou could do joins:
p59875
as(dp59876
g16
V29407
p59877
stp59878
a((dp59879
g2
(lp59880
VYou are trying to send a collection as  whereas that's not a collection property
p59881
aVSo try like this (remove the square brackets  around the  property definition):
p59882
aVAlso never hardcode urls as you did in your javascript
p59883
aVAlways use Url helpers when dealing with urls or you might get bad surprises when you deploy your application:
p59884
aVAlso notice that the parameter is called  instead of  which is important with a case sensitive language such as javascript
p59885
as(dp59886
g16
V29407
p59887
stp59888
a((dp59889
g2
(lp59890
VNo, there isn't
p59891
aVOlder views need to be update manually if you want to add this new section
p59892
as(dp59893
g16
V29407
p59894
stp59895
a((dp59896
g2
(lp59897
s(dp59898
g16
V29407
p59899
stp59900
a((dp59901
g2
(lp59902
VProbably some bug with the Intellisense
p59903
aVTry recompiling the project
p59904
aVUnfortunately the Razor Intellisense is far from perfect
p59905
aVI hope it will be improved in future releases of Razor
p59906
as(dp59907
g16
V29407
p59908
stp59909
a((dp59910
g2
(lp59911
VWhen you talk about GridView I hope you are not referring to GridView because that's not something you should be using in an MVC application
p59912
aVIf you are running MVC 3 you could use the WebGrid helper (which has some limitations) or MVCContrib Grid
p59913
aVThere is also the Telerik Grid which is nice and worth looking at
p59914
aVYou also have the possibility of a full client side javascript driven grid such as the jqGrid jquery Grid plugin
p59915
as(dp59916
g16
V29407
p59917
stp59918
a((dp59919
g2
(lp59920
VYou might need two route definitions for this (untested):
p59921
aVand your controller action:
p59922
as(dp59923
g16
V29407
p59924
stp59925
a((dp59926
g2
(lp59927
VThis seems like a good scenario to roll a custom HTML helper
p59928
aVSo let's roll it:
p59929
aVand inside your view:
p59930
aVand depending on where you are the helper will generate the proper anchor
p59931
as(dp59932
g16
V29407
p59933
stp59934
a((dp59935
g2
(lp59936
VYou could use the  function:
p59937
as(dp59938
g16
V29407
p59939
stp59940
a((dp59941
g2
(lp59942
VSeems like an excellent scenario for a custom html helper:
p59943
aVand in your view simply:
p59944
aVwhich would generate (I know, what an ugly formatting but perfectly valid HTML, I am too lazy to fix it at the moment):
p59945
as(dp59946
g16
V29407
p59947
stp59948
a((dp59949
g2
(lp59950
VI loop through the collection to create a list of the objects
p59951
aVWhy do you loop
p59952
aVLooping in a view is ugly
p59953
aVYou could use editor templates:
p59954
aVand inside the corresponding editor template which will be invoked for each item of the model collection ():
p59955
as(dp59956
g16
V29407
p59957
stp59958
a((dp59959
g2
(lp59960
VIf your action takes a model:
p59961
aVyou could directly this parameter value because the JsonValueProviderFactory would have parsed it already:
p59962
aVIf there is no model (why wouldn't there be
p59963
aVyou could read the JSON from the request stream:
p59964
as(dp59965
g16
V29407
p59966
stp59967
a((dp59968
g2
(lp59969
VHere's how I would proceed:
p59970
aVthen have a controller:
p59971
aVand then the view ():
p59972
aVand the corresponding task editor template ():
p59973
as(dp59974
g16
V29407
p59975
stp59976
a((dp59977
g2
(lp59978
VYou could modify the corresponding T4 templates
p59979
aVFor example on my machine they are located in the following folder:
p59980
aVModifying them would be global for the machine
p59981
aVYou can also modify/add new them per project
p59982
aVSo in your project you could create the following folder:
p59983
as(dp59984
g16
V29407
p59985
stp59986
a((dp59987
g2
(lp59988
VTry:
p59989
as(dp59990
g16
V29407
p59991
stp59992
a((dp59993
g2
(lp59994
VYou could use the XDocument class:
p59995
as(dp59996
g16
V29407
p59997
stp59998
a((dp59999
g2
(lp60000
VYou could have your controller action take an object which would reflect the form input names and the default model binder will automatically create this object for you:
p60001
aVAnother (obviously uglier) way is:
p60002
as(dp60003
g16
V29407
p60004
stp60005
a((dp60006
g2
(lp60007
VIf you want metadata such as the  attribute to be used you need the EditorFor/DisplayFor helpers in your views:
p60008
aVor:
p60009
aVinstead of:
p60010
as(dp60011
g16
V29407
p60012
stp60013
a((dp60014
g2
(lp60015
VYou could try the following to access the parent metadata:
p60016
as(dp60017
g16
V29407
p60018
stp60019
a((dp60020
g2
(lp60021
VYou could use the  attribute which check if the user is authenticated and if not redirect to the login page
p60022
aVYou could also write a custom authorization attribute if you don't like the default behavior
p60023
as(dp60024
g16
V29407
p60025
stp60026
a((dp60027
g2
(lp60028
VIf this is ASP
p60029
aVNET MVC 3:
p60030
aVand the underscore will be automatically converted into a dash by the helper
p60031
aVIn previous versions of MVC an ugly hack could be appiled:
p60032
as(dp60033
g16
V29407
p60034
stp60035
a((dp60036
g2
(lp60037
VAnd if you want to check roles in the view:
p60038
as(dp60039
g16
V29407
p60040
stp60041
a((dp60042
g2
(lp60043
VYou may take a look at MVContrib Grid
p60044
as(dp60045
g16
V29407
p60046
stp60047
a((dp60048
g2
(lp60049
VFor a variable length list with jquery you may take a look at the following blog post
p60050
aVIn your main view:
p60051
aVand inside the editor template ():
p60052
aVThe naming convention is important: the editor template should be called XXX
p60053
aVcshtml and located in ~/Views/Shared/EditorTemplates folder where XXX is the type of the collection:
p60054
as(dp60055
g16
V29407
p60056
stp60057
a((dp60058
g2
(lp60059
VAssuming your model is a  and it is not null or empty, the following should work:
p60060
aVThen try adding options incrementally to see what's the problem
p60061
as(dp60062
g16
V29407
p60063
stp60064
a((dp60065
g2
(lp60066
VAssuming you have a view model
p60067
aVand a controller:
p60068
aVa corresponding partial view:
p60069
aVand finally in your main view you could have a link:
p60070
aVwhich could be AJAXified:
p60071
aVNow of course if the id parameter is known only with javascript you could do this:
p60072
aVand then:
p60073
aVUPDATE:
p60074
aVAnd for the second link:
p60075
aVand then:
p60076
as(dp60077
g16
V29407
p60078
stp60079
a((dp60080
g2
(lp60081
VYou cannot run a library
p60082
aVYou could only run an executable or a web site
p60083
aVSo right click on the corresponding project and Set as StartUp Project
p60084
aVThen you can run it:
p60085
as(dp60086
g16
V29407
p60087
stp60088
a((dp60089
g2
(lp60090
VTry:
p60091
as(dp60092
g16
V29407
p60093
stp60094
a((dp60095
g2
(lp60096
VTry like this:
p60097
aVand in your view:
p60098
aVOr you could have a custom editor template for Money ():
p60099
aVand then in your view:
p60100
as(dp60101
g16
V29407
p60102
stp60103
a((dp60104
g2
(lp60105
VSystem
p60106
aVWindows is WPF and it requires at least
p60107
aVNET 3
p60108
aV0 to be targeted by the project
p60109
as(dp60110
g16
V29407
p60111
stp60112
a((dp60113
g2
(lp60114
VYou could have a view model:
p60115
aVand then in your controller:
p60116
aVand in the view:
p60117
as(dp60118
g16
V29407
p60119
stp60120
a((dp60121
g2
(lp60122
VAs with all action results you would return them from an action:
p60123
aVIn this example the  partial is strongly typed to a view model and contains the data
p60124
as(dp60125
g16
V29407
p60126
stp60127
a((dp60128
g2
(lp60129
VIf this is
p60130
aVNET 4
p60131
aV0 you could read about generic covariance and contravariance
p60132
as(dp60133
g16
V29407
p60134
stp60135
a((dp60136
g2
(lp60137
VYou could use HTML5  attributes:
p60138
aVand then in a separate js file:
p60139
aVAlso I would use editor/display templates instead of writing  loops in the views:
p60140
aVand in the corresponding display template you would put the image:
p60141
as(dp60142
g16
V29407
p60143
stp60144
a((dp60145
g2
(lp60146
VI don't know about which session object you are talking about but if you talk about the ASP
p60147
aVNET Session it might not be available
p60148
aVAlso it is bad practice to access the ASP
p60149
aVNET Session from background threads
p60150
aVI would recommend you passing an object containing all the necessary information to this background tread instead of having it pull stuff from a session => makes it less reusable
p60151
aVNormally if the caller of this thread waits for it to complete the session should be available all along but honestly it's bad design and I would simply avoid it
p60152
as(dp60153
g16
V29407
p60154
stp60155
a((dp60156
g2
(lp60157
VYou could use the SmtpClient class to send an email in a
p60158
aVNET application
p60159
as(dp60160
g16
V29407
p60161
stp60162
a((dp60163
g2
(lp60164
VYou cannot retrieve the client machine name on the server as this information is never sent to the server
p60165
aVYou could retrieve the client IP though using the  property
p60166
aVThe current time on the client could be retrieved using the javascript  object
p60167
aVTo retrieve the time on the server you could use  property
p60168
aVAnd by the way, your web server is logging all this information already, so you are probably doing some redundant work
p60169
as(dp60170
g16
V29407
p60171
stp60172
a((dp60173
g2
(lp60174
VRe-target your web project for
p60175
aVNET 4
p60176
aV0 before being able to see  in the references list
p60177
as(dp60178
g16
V29407
p60179
stp60180
a((dp60181
g2
(lp60182
VTry adding an  directive on the top of the view to see if it makes any difference:
p60183
aVAlso you could add this namespace to the  section of web
p60184
aVconfig
p60185
as(dp60186
g16
V29407
p60187
stp60188
a((dp60189
g2
(lp60190
VThey might have used a custom generator tool:
p60191
aVAnd here's another blog post on this topic
p60192
aVOr they might have simply grouped it like this in the corresponding  file:
p60193
as(dp60194
g16
V29407
p60195
stp60196
a((dp60197
g2
(lp60198
VI want a user to be able to select a rule from the dropdownlist, and depending upon which rule was selected, I would like a label on the page to show the rule name (without posting)
p60199
aVYou will need javascript here
p60200
aVjQuery would be perfect for the job
p60201
aVI would start by providing a deterministic id for the dropdown because if you run this view inside a template there could be prefixes added to the id which would ruin our javascript id selectors (see below):
p60202
aVthen provide some container which will receive the selected value:
p60203
aVand finally in a separate javascript file subscribe for the change event of the dropdown list and update the container with the selected value/text:
p60204
aVI also need to be able to send the selected rule onto the next page
p60205
aVYou could put your dropdown inside a form
p60206
aVand the NextPage controller action will receive the selected value
p60207
as(dp60208
g16
V29407
p60209
stp60210
a((dp60211
g2
(lp60212
VThat's normal
p60213
aVYou cannot pass complex objects in urls when redirecting and that's the reason why the  object is not received
p60214
aVOnly scalar properties which will be translated into -separated key/value pairs in the url
p60215
aVOne possibility would be to pass all the simple properties of this object so that the default model binder can reconstruct it at the target location:
p60216
aVYou could also pass only a message id:
p60217
aVand have the message object being reconstructed in the details action using this id:
p60218
aVand this job could be greatly done by a custom model binder for the  type
p60219
aVAnother possibility would be to use  or :
p60220
aVand then inside the Details action:
p60221
as(dp60222
g16
V29407
p60223
stp60224
a((dp60225
g2
(lp60226
VThat's normal
p60227
aVIt looks like the Employee object doesn't have a parameterless constructor and yet you are using it as action parameter in your POST action:
p60228
aVThe default model binder which is invoked to bind the Employee object from the POSTed request values cannot possibly know how to instantiate it
p60229
aVYou could either provide a parameterless constructor to this object or write a custom model binder
p60230
as(dp60231
g16
V29407
p60232
stp60233
a((dp60234
g2
(lp60235
VYou might need to provide the arguments when redirecting:
p60236
aVand the url you will be redirecting to will now look something like this:
p60237
as(dp60238
g16
V29407
p60239
stp60240
a((dp60241
g2
(lp60242
VI would probably use a partial view or a display template that I would include instead of HTML helper because stuffing so much HTML in a C# code looks ugly
p60243
aVSo for example I would have a view model:
p60244
aVand a partial:
p60245
aVand then:
p60246
aVThis of course doesn't mean that your HTML helper wouldn't work
p60247
aVIt's just that normally HTML helpers should be used to generate small fragments of HTML and in this particular example this doesn't seem to be the case
p60248
aVAlso you get HTML intellisense if used in a view which might aid you identify unclosed tags, not properly formatted HTML,
p60249
aVwhereas inside C# everything is one big magic string
p60250
aVAnd one final remark about your HTML helper if you decide to use it: Make sure you HTML encode this  string before putting it inside the string builder or you might get bad XSS surprises
p60251
as(dp60252
g16
V29407
p60253
stp60254
a((dp60255
g2
(lp60256
VAFAIK this is not supported at the moment by the WebGrid helper
p60257
aVThe pager only supports FirstLast, NextPrevious, Numeric and any combination of those
p60258
aVA dropdown is not supported
p60259
as(dp60260
g16
V29407
p60261
stp60262
a((dp60263
g2
(lp60264
VYou could use the machine
p60265
aVconfig file to define settings shared between all applications on this computer
p60266
aVFor ASP
p60267
aVNET applications you could have a web
p60268
aVconfig file at the root of the file which overrides those machine
p60269
aVconfig values and have yet another level inside the virtual directory
p60270
as(dp60271
g16
V29407
p60272
stp60273
a((dp60274
g2
(lp60275
V is WebForms
p60276
aVis Razor, meaning that if you want to write  you need a Razor template: :
p60277
aVAnd if you want WebForms user control :
p60278
as(dp60279
g16
V29407
p60280
stp60281
a((dp60282
g2
(lp60283
VIf you want to use the  helper here's the correct syntax:
p60284
aVOr if you prefer a one-liner:
p60285
aVor if you want to use the the  helper this is the syntax:
p60286
aVContrast those two with their C# equivalents:
p60287
aVAs a VB
p60288
aVNET guy you might find the following article useful
p60289
as(dp60290
g16
V29407
p60291
stp60292
a((dp60293
g2
(lp60294
VWorks for me:
p60295
aVAnd the result is what we would expect:
p60296
as(dp60297
g16
V29407
p60298
stp60299
a((dp60300
g2
(lp60301
VWill this same approach work for a ASP
p60302
aVNET MVC application where the end point is a controller/action instead
p60303
aVMaybe yes, maybe no
p60304
aVIt's a considered bad practice to use this tag in an MVC application
p60305
aVI would recommend implementing a custom  filter
p60306
aVOf course you could still externalize and read the list of authorized/unauthorized IP addresses from  to ease the administration and avoid you recompiling the application if they were to change
p60307
as(dp60308
g16
V29407
p60309
stp60310
a((dp60311
g2
(lp60312
VWhen instantiating the autogenerated proxy class in your code you could set the Url property:
p60313
aVand then you could store the url in your main configuration file
p60314
as(dp60315
g16
V29407
p60316
stp60317
a((dp60318
g2
(lp60319
VYou need to create an instance of the object before being able to call instance methods:
p60320
as(dp60321
g16
V29407
p60322
stp60323
a((dp60324
g2
(lp60325
VFor the first scenario you could define those missing properties in your mapping:
p60326
aVFor the second scenario you need two separate mappings because AutoMapper doesn't automatically define bi-directional mappings:
p60327
as(dp60328
g16
V29407
p60329
stp60330
a((dp60331
g2
(lp60332
VTry clearing the model state in your controller action if you intend to modify any of the POSTed variables and render the same view:
p60333
aVHtml helpers are first looking in the model state dictionary values before ViewData and Model
p60334
as(dp60335
g16
V29407
p60336
stp60337
a((dp60338
g2
(lp60339
VYou could try specifying the same prefix when binding back:
p60340
as(dp60341
g16
V29407
p60342
stp60343
a((dp60344
g2
(lp60345
VHere's an article on MSDN and you may also checkout the following article and this blog post also
p60346
aVThis allows you to step through the framework source code while debugging your applications
p60347
aVReflector is also a good tool for browsing through the compiled assemblies
p60348
as(dp60349
g16
V29407
p60350
stp60351
a((dp60352
g2
(lp60353
VNo, there isn't simply because there is no metadata with RESTful protocols such as you get the WSDL from SOAP
p60354
as(dp60355
g16
V29407
p60356
stp60357
a((dp60358
g2
(lp60359
VYou need to POST if you want the proper action to be invoked
p60360
aVIn your case you are simply redirecting (window
p60361
aVlocation
p60362
aVhref) which sends a GET request
p60363
aVSo you could place the dropdown inside a form and use javascript to submit the form when the selection changes:
p60364
aVand then subscribe for the change event in javascript (example with jquery):
p60365
aVThis will POST the form to the  action where you could read the selected value:
p60366
aVAnother possibility would be to send an AJAX query in the change event
p60367
aVIn this case you don't need a form as you could send POST request with AJAX
p60368
as(dp60369
g16
V29407
p60370
stp60371
a((dp60372
g2
(lp60373
VFor me backend is the domain and the service layer which comes in a separate assembly
p60374
aVFrontend is Controllers, ViewModels and Views
p60375
aVSo backend developers start by defining the model objects and service interfaces and provide the frontend developers with this assembly
p60376
aVThey could also provide a dummy implementation of the service interface which simply returns hardcoded values
p60377
aVSo the frontend developers could now start designing the controllers which would consume the services, map the domain models to their corresponding view models and pass them to the views
p60378
aVOnce the backend developers have finished implementing the service interfaces they provide the frontend developers with the new version of the assembly and the frontend developers simply switch their DI framework to point to the new implementation instead of the dummy one
p60379
aVYou could also have some frontend developers working on a reusable framework of HTML helpers, extension methods,
p60380
aVwhich will be used all along the project
p60381
as(dp60382
g16
V29407
p60383
stp60384
a((dp60385
g2
(lp60386
VNever hardcode urls
p60387
aVAlways use url helpers when dealing with urls
p60388
aVAlso don't provide absolute urls as jQuery thinks it is JSONP (notice the  parameter in your request) while the response is only JSON:
p60389
aVAlso notice that your function arguments are called  and  whereas inyour code you were using  and
p60390
as(dp60391
g16
V29407
p60392
stp60393
a((dp60394
g2
(lp60395
V(5) create an htmlhelper that takes in the path and internally reads the appsetting and concatenates
p60396
aVI would go with this one
p60397
aVYour custom HTML helper could look something like this:
p60398
aVand could emit the following HTML:
p60399
as(dp60400
g16
V29407
p60401
stp60402
a((dp60403
g2
(lp60404
VThis will depend on when you want your code to execute: before or after the base method
p60405
as(dp60406
g16
V29407
p60407
stp60408
a((dp60409
g2
(lp60410
VI would do this with CSS:
p60411
aVand then in your CSS file define the width and height to the desired values:
p60412
as(dp60413
g16
V29407
p60414
stp60415
a((dp60416
g2
(lp60417
V is not strongly typed and it doesn't require a strongly typed view meaning that you can hardcode whatever name you want as first argument and provide it a value:
p60418
aVYou can set some value in the  dictionary inside the controller action and the helper will use this value when rendering the textbox ()
p60419
aVis requires a strongly typed view and uses the view model:
p60420
aVThe helper will use the lambda expression to infer the name and the value of the view model passed to the view
p60421
aVAnd because it is a good practice to use strongly typed views and view models you should always use the  helper
p60422
as(dp60423
g16
V29407
p60424
stp60425
a((dp60426
g2
(lp60427
VYou could provide a link to this file in your view which would allow the user to download the file once it is saved:
p60428
aVAnd if you want it to open in a new window:
p60429
as(dp60430
g16
V29407
p60431
stp60432
a((dp60433
g2
(lp60434
VHere's a sample folders structure:
p60435
aVControllers
p60436
aVModels
p60437
aVViewModels
p60438
aVMappers
p60439
aVViews
p60440
aVRepositories
p60441
aVServices
p60442
aVValidators
p60443
aVObviously those layers could be split between different assemblies
p60444
aVYou may also take a look at a sample MVC project structure I wrote
p60445
as(dp60446
g16
V29407
p60447
stp60448
a((dp60449
g2
(lp60450
VTry like this:
p60451
as(dp60452
g16
V29407
p60453
stp60454
a((dp60455
g2
(lp60456
VThis being said it is not a code that I would recommend
p60457
aVEverytime I see someone using ViewData my temperature raises
p60458
aVI would use view models:
p60459
aVand then in your controller:
p60460
aVand in your strongly typed view:
p60461
as(dp60462
g16
V29407
p60463
stp60464
a((dp60465
g2
(lp60466
VThe following works fine for me:
p60467
aVController:
p60468
aVView:
p60469
aVYou may also find the following blog post useful
p60470
as(dp60471
g16
V29407
p60472
stp60473
a((dp60474
g2
(lp60475
VIf a view needs an information to display you modify your view model to include this information and then simply:
p60476
aVwhere the controller has the responsibility to populate this view model property so that the view shouldn't wonder where to fetch this information from because that's not its responsibility
p60477
as(dp60478
g16
V29407
p60479
stp60480
a((dp60481
g2
(lp60482
VNever hardcode urls
p60483
aVAlways use url helpers when dealing with urls:
p60484
as(dp60485
g16
V29407
p60486
stp60487
a((dp60488
g2
(lp60489
VMy first question is, should a public method in an aspx every be accessible to a script elsewhere on a website
p60490
aVIn order to invoke a public instance method, an instance of this class is required
p60491
aVI suspect that your issue is not related to other scripts calling this method directly
p60492
aVIt's more probable that there is an HTTP request being sent to the corresponding ASPX page which in turns invokes the method
p60493
aVThis request could be done by the client (some link on a page,
p60494
aVor directly by the server (using HttpWebRequest)
p60495
aVTo further debug the problem try looking at the web server log files to see all the requests being made to this page
p60496
aVAnd my second question is, should we be using private or protected methods on aspx pages (I always figured the code in a stand-alone page was self contained, so sloppy access modifiers shouldn't make a difference)
p60497
aVIf those method are not intended to be used by other parts of the code it is a good practice to make them private or protected and that's not only related to ASP
p60498
aVNET
p60499
as(dp60500
g16
V29407
p60501
stp60502
a((dp60503
g2
(lp60504
VIn order for your custom editor template to be called you need to use:
p60505
aVand not:
p60506
aVBy using Html
p60507
aVTextBoxFor you are explicitly hardcoding this value and that you want an  and you cannot override or replace it
p60508
aVThat's the reason why it is good practice to use  as it allows you to modify the way this is rendered by defining a custom template in the  folder
p60509
aVNow if you editor template is called:  you could invoke it like this:
p60510
aVor by decorating your view model property with the  attribute:
p60511
aVand then simply:
p60512
as(dp60513
g16
V29407
p60514
stp60515
a((dp60516
g2
(lp60517
VAddObject is a method on the  class defined in the  assembly
p60518
as(dp60519
g16
V29407
p60520
stp60521
a((dp60522
g2
(lp60523
VTry like this:
p60524
aVand then in your strongly typed view:
p60525
as(dp60526
g16
V29407
p60527
stp60528
a((dp60529
g2
(lp60530
VThere is nothing built-in ASP
p60531
aVNET MVC 3 allowing you to embed views into class libraries (controllers, yes, but not views)
p60532
aVIt is necessary to write a custom VirtualPathProvider
p60533
aVHere's a blog post which might put you on the right track
p60534
aVAnd you could also take a look at MVCContrib portable areas which allows you to do this
p60535
as(dp60536
g16
V29407
p60537
stp60538
a((dp60539
g2
(lp60540
VYou cannot easily unit test this because the instantiation is hardcoded
p60541
aVYou could use constructor injection where you could mock it:
p60542
aVNow in your unit test you could supply any instance of this class you like
p60543
aVThat's the principle of Inversion of Control
p60544
aVClasses are no longer responsible for instantiating its dependencies, its the the consumer of those classes that passes the dependencies
p60545
as(dp60546
g16
V29407
p60547
stp60548
a((dp60549
g2
(lp60550
VYou have configured your YUI grid to use an AJAX request to fetch the remote data:
p60551
aVGET AJAX requests could be cached by the browser which explains why your controller action is hit only once (the first time you load the page)
p60552
aVIn order to avoid this caching you could either configure YUI to use a POST request or append a random number to the URL each time the page is loaded
p60553
aVHow is data loaded into the grid
p60554
aVIf I have 100 records in the table and I have set my rowsPerPage to 20 then I will have 5 pages
p60555
aVNo matter what you set on the client side the following:
p60556
aVis a clear indication that the server fetches all records from the database and sends all records back to the client and it is the client that retrieves only the necessary records to show which is inefficient
p60557
aVIdeally the pagination should be done on the server
p60558
aVHere's an example from the documentation
p60559
aVThe client sends the  and  parameters to the server so that it could paginate the data set on the server and return only the necessary rows that will be shown on the screen
p60560
as(dp60561
g16
V29407
p60562
stp60563
a((dp60564
g2
(lp60565
VIf this is a standard ASPX page you could use a WebClient:
p60566
as(dp60567
g16
V29407
p60568
stp60569
a((dp60570
g2
(lp60571
VThe  class needs to have a default constructor if you want it to be serializable
p60572
aVExample:
p60573
aVAlso not that you don't need the  attribute for XML serialization and it is completely ignored by the XmlSerializer class
p60574
as(dp60575
g16
V29407
p60576
stp60577
a((dp60578
g2
(lp60579
VYou could have a custom class which aggregates the two properties, override the GetHashCode method on it and then have a
p60580
as(dp60581
g16
V29407
p60582
stp60583
a((dp60584
g2
(lp60585
VYou cannot Add as Link static files in an ASP
p60586
aVNET web application
p60587
aVAll files need to be included inside this application or when you deploy it in IIS simply won't be able to find any of them
p60588
aVA common technique of sharing static files between multiple web applications is using CDN (Content Delivery Network) where you would host all your static resources (images, CSS, js,
p60589
aVFor example Google already provides popular frameworks on their CDN
p60590
aVSo for all your custom images you could setup a domain on your web server which will host them all and your web applications will point to this common location
p60591
aVAnother advantage of this technique is that clients visiting those applications will already have all static resources in cache
p60592
as(dp60593
g16
V29407
p60594
stp60595
a((dp60596
g2
(lp60597
VOnce you have the extension method it's a simple matter of using it (don't forget to bring the static class you have defined the  method into scope by adding a using directive to the namespace containing it or you won't be able to see the  extension method):
p60598
aVThings to note:
p60599
aVWe are using "addresses" as a cache key, so the result will be stored under this key
p60600
aVWe are calling  on the  in order to eagerly fetch the addresses and store the results into the cache and not the query
p60601
as(dp60602
g16
V29407
p60603
stp60604
a((dp60605
g2
(lp60606
VSomething like this:
p60607
as(dp60608
g16
V29407
p60609
stp60610
a((dp60611
g2
(lp60612
VAre view models DTO's
p60613
aVCould be considered a sort of data transfer objects between the controller and the view
p60614
aVShould they contain just simple properties like Name, AddressLine1, Address City, etc, or should they contain complex properties, multiple objects, etc
p60615
aVIdeally simple properties but could also aggregate other view models but no models there (ex: like EF models)
p60616
aVIs the validation in the view model
p60617
aVThere are two type of validation logic: business validation (ex
p60618
aVusername already exists) which goes into the service layer and UI validation (ex: username is required) which goes into the view model
p60619
aVCan the view models just contain the POCO classes returned from EF, or should I be using the AutoMapper
p60620
aVNo EF in view models
p60621
aVView models are POCO classes with simple properties and other complex properties pointing to other view models
p60622
aVThey could also contain methods in order to properly format the data that will be presented on the particular view those models were intended for
p60623
aVIf using AutoMapper and DTO, are DTO's clones of the POCO classes
p60624
aVNot sure I understand this question
p60625
aVWould you map in the controller, view model, or in the service layer below
p60626
aVThe controller
p60627
aVTo me, the service(s) are objects that contact the repository(s) to get POCO objects back from the EF
p60628
aVThis is where all of my business logic is
p60629
aVOnce the service hands an object back to a repository to be persisted to the EF, they are considered valid objects
p60630
aVIs this correct
p60631
aVYes
p60632
aVIs the domain model the EF model
p60633
aVIf you are using EF Code first approach then yes, otherwise no (if EF pollutes the domain with EF specific attributes and classes)
p60634
aVThere is no business logic in them, they are just used to transport objects between the service(s) and the EF
p60635
aVIs this correct
p60636
aVYes
p60637
aVI am implementing Interfaces here with generic repository
p60638
aVThen you could extend the generic repository for special needs
p60639
aVYes, but don't get too fancy
p60640
aVNormally Repositories are for CRUD operations
p60641
aVIt's services that should contain the business logic
p60642
aVIs a business object equal to a domain object
p60643
aVYes
p60644
aVHow much logic should a domain object contain
p60645
aVThis will depend on the amount of domain logic you have for the particular project you are working and on any existing domain logic you could reuse from older projects you or someone else have worked on
p60646
aVDependency Injection - Should I be using this
p60647
aVYes, absolutely
p60648
aVI understand how it works, just don't get the real benefit
p60649
aVIt provides weaker coupling between the different layers of your application which in turns makes them easier to unit test and reuse in other projects
p60650
aVI think the community would benefit from some sort of wiki that contained all the best practices with code samples
p60651
aVI agree
p60652
aVIs there something like that out there
p60653
aVI doubt it
p60654
aVBTW - I think StackOverflow needs a little, "Buy Me A Beer" button next to the "Accept Answer" checkbox
p60655
aVCan't agree more
p60656
as(dp60657
g16
V29407
p60658
stp60659
a((dp60660
g2
(lp60661
VThere are different possibilities:
p60662
aVServer side grids:
p60663
aVThe built-in WebGrid helper
p60664
aVMvcContrib Grid
p60665
aVTelerik Grid
p60666
aVClient-Side grids:
p60667
aVjqGrid
p60668
aVYUI DataTable
p60669
aVand many others
p60670
as(dp60671
g16
V29407
p60672
stp60673
a((dp60674
g2
(lp60675
VThere has been any official release dates announced yet but it is quite possible it will be part of the next version of the framework
p60676
aVNET 5
p60677
aV0 vNext and Visual Studio
p60678
as(dp60679
g16
V29407
p60680
stp60681
a((dp60682
g2
(lp60683
VYou may also checkout the UI
p60684
aVLayout jQuery plugin
p60685
aVHere's a demo
p60686
as(dp60687
g16
V29407
p60688
stp60689
a((dp60690
g2
(lp60691
VYou could use wait handles:
p60692
as(dp60693
g16
V29407
p60694
stp60695
a((dp60696
g2
(lp60697
VTry using underscores which should be automatically converted into dashes by the standard HTML helpers:
p60698
as(dp60699
g16
V29407
p60700
stp60701
a((dp60702
g2
(lp60703
VYou have two possibilities:
p60704
aVUse a normal controller and because the AJAX call is already async you probably wouldn't need more:
p60705
aVUse an async controller and IOCP (I/O Completion Ports):
p60706
aVIn both cases you would consume those actions the same way:
p60707
aVThe difference between those two approaches is that the async version would use I/O Completion Ports and wouldn't block any worker threads during the retrieval of the remote resource
p60708
as(dp60709
g16
V29407
p60710
stp60711
a((dp60712
g2
(lp60713
VThis will depend on the framework you are using for validating your models
p60714
aVSo what you are asking is not possible without taking this into account
p60715
aVASP
p60716
aVNET MVC by default uses a data annotations model provider which invokes the validation rules for data annotations and if you want to test this you will need to do a  in your unit tests or verify that your model is decorated with the proper attributes
p60717
aVPersonally I use FluentValidation
p60718
aVNET which provides an elegant way for unit testing my validators so it is not much of a hassle
p60719
as(dp60720
g16
V29407
p60721
stp60722
a((dp60723
g2
(lp60724
VBecause you need to assign the selected value to your model
p60725
aVSo I would recommend you the following approach
p60726
aVLet's start with the view model:
p60727
aVyou could populate this view model inside the controller:
p60728
aVand in your view simply:
p60729
as(dp60730
g16
V29407
p60731
stp60732
a((dp60733
g2
(lp60734
VAs the error message states you need to specify a VaryByParam attribute for the cache you are using:
p60735
aVAlso controller actions normally should return ActionResults and not strings:
p60736
as(dp60737
g16
V29407
p60738
stp60739
a((dp60740
g2
(lp60741
VIf you want unobtrusive client side validation in web config try setting both  and  to true
p60742
aVThen make sure you have removed all traces of  client script libraries and have included jquery and jquery
p60743
aVvalidate as that's what MVC 3 uses:
p60744
as(dp60745
g16
V29407
p60746
stp60747
a((dp60748
g2
(lp60749
VYou could try configuring your web application to use the locale of the client web browser:
p60750
aVThis will use the browser culture for server side validation
p60751
aVAs far as the client side validation is concerned it already uses the browser culture
p60752
aVSo this ensures that both match
p60753
as(dp60754
g16
V29407
p60755
stp60756
a((dp60757
g2
(lp60758
VWhy are you using RenderPage
p60759
aVseems more native:
p60760
aVand also your partial (no need of those server side bocks  when you have static HTML):
p60761
as(dp60762
g16
V29407
p60763
stp60764
a((dp60765
g2
(lp60766
VI would recommend you the following series of blog posts which illustrates how you could unit test against non-determinism
p60767
as(dp60768
g16
V29407
p60769
stp60770
a((dp60771
g2
(lp60772
VIf you are using Data Annotations to perform validation you might need a custom attribute:
p60773
aVand then:
p60774
aVor to make it more generic:
p60775
aVand then:
p60776
aVPersonally I use FluentValidation
p60777
aVNET instead of Data Annotations to perform validation because I prefer the imperative validation logic instead of the declarative
p60778
aVI think it is more powerful
p60779
aVSo my validation rule would simply look like this:
p60780
as(dp60781
g16
V29407
p60782
stp60783
a((dp60784
g2
(lp60785
VThat's because when binding HTML helpers first use values in ModelState and after that in the model
p60786
aVSo if you intend to modify a value inside the POST controller action that was posted you need to remove it from the model state
p60787
aVExample:
p60788
aVNow your  will render the new value
p60789
aVAnd for the completeness of my answer if you are using ViewData (but I really hope you aren't):
p60790
aVand in your view  should render the new value
p60791
as(dp60792
g16
V29407
p60793
stp60794
a((dp60795
g2
(lp60796
Vrestrict users' access to certain pages / views whatever based on their Active Directory group membership
p60797
aVDecorating the controller action with the  attribute
p60798
aVgenerate markup for a menu which is aware of the users' authorisation to certain pages / views
p60799
aVDepending on your exact requirements you could build a custom HTML helper
p60800
aVYou may also take a look at MVCContrib MenuBuilder
p60801
as(dp60802
g16
V29407
p60803
stp60804
a((dp60805
g2
(lp60806
VIf you want only:
p60807
aVthen:
p60808
aVIf you want only:
p60809
aVthen:
p60810
aVand if you want only:
p60811
aVthen:
p60812
as(dp60813
g16
V29407
p60814
stp60815
a((dp60816
g2
(lp60817
VYou could use the equalTo method:
p60818
as(dp60819
g16
V29407
p60820
stp60821
a((dp60822
g2
(lp60823
VPut an @ before the :
p60824
aVI would recommend you the following article
p60825
as(dp60826
g16
V29407
p60827
stp60828
a((dp60829
g2
(lp60830
VThe ReportViewer component is not intended to be used with ASP
p60831
aVNET MVC and is unsupported
p60832
aVYou may checkout this example
p60833
aVYou could have a standard WebForms page (not MVC) generate the report and then include it either with iframe inside your MVC application or have it generate the report as PDF which then could be embedded
p60834
as(dp60835
g16
V29407
p60836
stp60837
a((dp60838
g2
(lp60839
VTotally subjective question, don't even know why I am answering it but here's what looks more readable to me:
p60840
aVor if you prefer the query syntax:
p60841
as(dp60842
g16
V29407
p60843
stp60844
a((dp60845
g2
(lp60846
VFrom what I can see in your sample code you have two  inside the form
p60847
aVThe first one takes  as argument meaning that it excludes all property errors
p60848
aVThe second one takes  and works for both client side and server side validation errors
p60849
aVExample:
p60850
aVModel:
p60851
aVController:
p60852
aVView:
p60853
as(dp60854
g16
V29407
p60855
stp60856
a((dp60857
g2
(lp60858
VThat's how Forms authentication works by default and has nothing to do with ASP
p60859
aVNET MVC
p60860
aVWhen you create an authentication cookie () to indicate that the user successfully signed this cookie will be used by the forms authentication module (the IPrincipal is set inside the  method) to populate the User property on subsequent requests
p60861
aVYou have the possibility to write a custom  attribute and set the User property to whatever you like
p60862
aVThis technique is often used to create custom principals
p60863
as(dp60864
g16
V29407
p60865
stp60866
a((dp60867
g2
(lp60868
VBy making sure that each textbox you are dynamically adding has an unique id and name attributes and assigning the datepicker to its unique id
p60869
as(dp60870
g16
V29407
p60871
stp60872
a((dp60873
g2
(lp60874
VBecause this produces a better hash function and reduces the number of possible collisions
p60875
aVThis is explained in Choosing a good hashing function:
p60876
aVA basic requirement is that the
p60877
aVfunction should provide a uniform
p60878
aVdistribution of hash values
p60879
ag52636
aVnon-uniform distribution increases the
p60880
aVnumber of collisions, and the cost of
p60881
aVresolving them
p60882
aVThe distribution needs to be uniform
p60883
aVonly for table sizes s that occur in
p60884
aVthe application
p60885
aVIn particular, if one
p60886
aVuses dynamic resizing with exact
p60887
aVdoubling and halving of s, the hash
p60888
aVfunction needs to be uniform only when
p60889
aVs is a power of two
p60890
aVOn the other
p60891
aVhand, some hashing algorithms provide
p60892
aVuniform hashes only when s is a prime
p60893
aVnumber
p60894
as(dp60895
g16
V29407
p60896
stp60897
a((dp60898
g2
(lp60899
VHere's how you could proceed:
p60900
aVand inside the EditorTemplate ():
p60901
aVNotice the simplification of the editor template
p60902
aVIt no longer takes a  as model but simply a
p60903
aVIt will automatically be invoked for each element of the Roles collection so that you don't need to write any loops
p60904
aVJust follow the conventions
p60905
aVI would also simplify your view model like this:
p60906
aVand your controller:
p60907
as(dp60908
g16
V29407
p60909
stp60910
a((dp60911
g2
(lp60912
VOnce you download the MySQL ADO
p60913
aVNET Connector it's a simple matter of referencing the assembly in your project and writing the queries, the same way you would do in any other application, nothing specific MVC:
p60914
as(dp60915
g16
V29407
p60916
stp60917
a((dp60918
g2
(lp60919
VMVCContrib Portable Areas offers this functionality
p60920
aVOut of the box there is nothing built-in
p60921
aVYou will need to roll your custom VirtualPathProvider if you wanted to embed views into a separate assembly
p60922
aVYou may also find the following blog post useful
p60923
as(dp60924
g16
V29407
p60925
stp60926
a((dp60927
g2
(lp60928
VYou can't reference the selected value from the dropdown using server side code (which what HTML helpers represent) because the selection is done by the user on the client side
p60929
aVYour problem stems from the fact that you are trying to generate an anchor which should send a value which is known only by the client
p60930
aVYou can do this only using javascript
p60931
aVOr another possibility is to simply use a form with an image submit button:
p60932
aVand of course after you move the ugly code where it belongs (the mapping layer or the view model) your code would become:
p60933
as(dp60934
g16
V29407
p60935
stp60936
a((dp60937
g2
(lp60938
VSQL query and DataRows inside a controller action
p60939
aVOh no
p60940
aVThis code reminds me the good 'ol days of WebForms :-) You should really be putting your controllers on a diet
p60941
as(dp60942
g16
V29407
p60943
stp60944
a((dp60945
g2
(lp60946
VYou should make sure that the view you are returning corresponds to a razor view
p60947
aVHere's a simplified working example:
p60948
aVwhich would be registered in :
p60949
aVand finally a sample controller:
p60950
aVAnd a final very important remark if you are implementing a custom VirtualPathProvider:
p60951
aVThis doesn't work if your web application is precompiled
p60952
aVSo if you are using precompilation (things like Publish
p60953
aVor Web Deployment Projects) your custom virtual path provider will never be used
p60954
as(dp60955
g16
V29407
p60956
stp60957
a((dp60958
g2
(lp60959
VYou may take a look at Quartz
p60960
aVNET
p60961
aVThere is a blog post about how you could make it running in medium trust
p60962
as(dp60963
g16
V29407
p60964
stp60965
a((dp60966
g2
(lp60967
VI would write a custom HTML helper which would include the necessary scripts for Google Analytics:
p60968
aVThis helper could then use compilation directives and  is set it would simply emit an empty string
p60969
aVAnd by the way there is already such helper available in the microsoft web helpers package and see how it is implemented:
p60970
as(dp60971
g16
V29407
p60972
stp60973
a((dp60974
g2
(lp60975
VA good 'ol split should work:
p60976
as(dp60977
g16
V29407
p60978
stp60979
a((dp60980
g2
(lp60981
VTry like this:
p60982
aVNotice the  statement
p60983
as(dp60984
g16
V29407
p60985
stp60986
a((dp60987
g2
(lp60988
VTry like this:
p60989
aVAnd the end result should look something like this:
p60990
aVwill run before the code in the view and would set the value in the session
p60991
as(dp60992
g16
V29407
p60993
stp60994
a((dp60995
g2
(lp60996
VYou could write a helper method which would generate the columns dynamically based on user roles:
p60997
aVand then in your view:
p60998
as(dp60999
g16
V29407
p61000
stp61001
a((dp61002
g2
(lp61003
VThe JavaScriptSerializer is commonly used class for serializing objects into JSON strings:
p61004
aVJson
p61005
aVNET is another third party alternative
p61006
as(dp61007
g16
V29407
p61008
stp61009
a((dp61010
g2
(lp61011
VYou might notice that after installing the  NuGet there is an  subfolder created inside your project containing an  file
p61012
aVDelete this folder and try again
p61013
aVSo here are the steps I followed:
p61014
aVCreate a new ASP
p61015
aVNET MVC 3 project using the default template
p61016
aVBring up the Package Manager Console window (View -> Other Windows -> Package Manager Console)
p61017
aVType  on the command line
p61018
aVReplace the default code in  with the code in your question
p61019
aVDelete the  subfolder created during the installation of the package
p61020
aVRun the application
p61021
aVEnjoy the beauty of the  default page opened in your Google Chrome web browser :-)
p61022
as(dp61023
g16
V29407
p61024
stp61025
a((dp61026
g2
(lp61027
VMake the  helper return  instead of
p61028
aVLike this:
p61029
as(dp61030
g16
V29407
p61031
stp61032
a((dp61033
g2
(lp61034
VYou could put a  file inside the  folder which would override the default one in the  folder and specify the desired layout:
p61035
aVBy analogy you could put another  file inside the  folder with:
p61036
aVYou could also specify which layout should be used when returning a view inside a controller action but that's per action:
p61037
aVYet another possibility is a custom action filter which would override the layout
p61038
aVAs you can see many possibilities to achieve this
p61039
aVUp to you to choose which one fits best in your scenario
p61040
aVUPDATE:
p61041
aVAs requested in the comments section here's an example of an action filter which would choose a master page:
p61042
aVand then decorate a controller or an action with this custom attribute specifying the layout you want:
p61043
as(dp61044
g16
V29407
p61045
stp61046
a((dp61047
g2
(lp61048
VForms authentication uses cookies to track users
p61049
aVCookies can only be shared between the same domain
p61050
aVSo for example if you had  and  simply configure those two applications to share the same domain cookie
p61051
aVFor example both web
p61052
aVconfig should share the same forms authentication configuration:
p61053
aVYou also must ensure that both application share the same machine keys because an authentication cookie emitted by  needs to be decrypted by  with the same keys
p61054
as(dp61055
g16
V29407
p61056
stp61057
a((dp61058
g2
(lp61059
VIf you are using
p61060
aVNET 4
p61061
aV0 you may take a look at the following blog post
p61062
aVIf not what can I say other than, well, Data Annotation have limits
p61063
aVAnd it's exactly because of limitations like this (of course that's just an example but there are many others) that I use FluentValidation
p61064
aVNET
p61065
as(dp61066
g16
V29407
p61067
stp61068
a((dp61069
g2
(lp61070
VThat's normal
p61071
aVWhen you create a new Test Project in Visual Studio by default it uses Microsoft Test Framework, meaning that the only support you could open it is Visual Studio which has the necessary assemblies installed
p61072
aVTo make this work on Mono you will need to use some other testing framework such as NUnit for example
p61073
as(dp61074
g16
V29407
p61075
stp61076
a((dp61077
g2
(lp61078
VThere are different ways to achieve this
p61079
aVYou could store it in Session or Cookies
p61080
aVSo for example on the first page create a form containing the DropDown with a submit button
p61081
aVWhen the user clicks on the submit button the form will post the selected value back to the server and the server could either store it in Session or client side cookie
p61082
aVThen the controller action could redirect to some other action which will be able to retrieve the value
p61083
aVAnd from now on this value will be available on all subsequent requests
p61084
as(dp61085
g16
V29407
p61086
stp61087
a((dp61088
g2
(lp61089
VThat's OK, just make sure you to pick proper naming for it like
p61090
aVYou should also remove the EF context from the  interface as it would be tightly coupled to the data access technology
p61091
aVYou could instead have the context only inside the specific  class
p61092
as(dp61093
g16
V29407
p61094
stp61095
a((dp61096
g2
(lp61097
VYou could use AJAX to achieve this
p61098
aVSo for example let's suppose that you have multiple controller actions that return partial views
p61099
aVYou could then create links on your page to those actions:
p61100
aVand 3 corresponding placeholders where the pages would be loaded:
p61101
aVyou could now AJAXify those links in a separate javascript file
p61102
aVExample with jquery:
p61103
aVI would also strongly recommend you going through the tutorials on the ASP
p61104
aVNET MVC site
p61105
as(dp61106
g16
V29407
p61107
stp61108
a((dp61109
g2
(lp61110
VThat's because by default ASP
p61111
aVNET MVC 3 uses jQuery and unobtrusive AJAX instead of the MicrosoftAjax* library
p61112
aVThis means that when you write  you will need to include the proper scripts inside your page:
p61113
aVand in your web
p61114
aVconfig make sure that you have unobtrusive javascript enabled:
p61115
aVNow you can safely throw away all  script references on your page if you had any, they are no longer used
p61116
aVThis being said personally I never used any of the  helpers
p61117
aVI always prefer to have control
p61118
aVSo I would write:
p61119
aVand then AJAXify this form using the jquery form plugin:
p61120
as(dp61121
g16
V29407
p61122
stp61123
a((dp61124
g2
(lp61125
VYou could write a custom model binder for the  type and manually parse the value
p61126
aVHere's how you could proceed:
p61127
aVModel:
p61128
aVController:
p61129
aVView:
p61130
aVModel Binder (here's where the magic will happen):
p61131
aVRegistration of the model binder in :
p61132
as(dp61133
g16
V29407
p61134
stp61135
a((dp61136
g2
(lp61137
VYou could do this in the  event
p61138
aVHere's an example:
p61139
as(dp61140
g16
V29407
p61141
stp61142
a((dp61143
g2
(lp61144
VThat's a common issue with dates
p61145
aVThe JavaScriptSerializer expects dates in the following format in order to parse them successfully:
p61146
aVwhere  represents the number of milliseconds since January 1, 1970 in Universal Coordinated Time (UTC)
p61147
aVQuote from the documentation:
p61148
aVDate object, represented in JSON as
p61149
aV"\u005c/Date(number of ticks)\u005c/"
p61150
aVThe
p61151
aVnumber of ticks is a positive or
p61152
aVnegative long value that indicates the
p61153
aVnumber of ticks (milliseconds) that
p61154
aVhave elapsed since midnight 01
p61155
aVJanuary, 1970 UTC
p61156
aVThe maximum supported date value is
p61157
aVMaxValue (12/31/9999 11:59:59 PM) and
p61158
aVthe minimum supported date value is
p61159
aVMinValue (1/1/0001 12:00:00 AM)
p61160
as(dp61161
g16
V29407
p61162
stp61163
a((dp61164
g2
(lp61165
VYour HTML should look like this:
p61166
aVbecause you cannot the value  to a complex object such as
p61167
aVSo the helper should look like this:
p61168
as(dp61169
g16
V29407
p61170
stp61171
a((dp61172
g2
(lp61173
VNo matter what you do the client will always see them
p61174
aVYou could use POST but they will still be visible
p61175
aVI would recommend you sending them over HTTPS which will protect you from Man-In-The-Middle attacks
p61176
aVIf you want to hide them from the client you will need to create a bridge server side script between your domain and the distant resource and then send an AJAX request to this bridge script
p61177
aVSo the username and password would be stored on the server and never visible to the client
p61178
aVExample:
p61179
aVand it will be  that will take care of delegating the request and passing any sensitive data to the remote resource
p61180
as(dp61181
g16
V29407
p61182
stp61183
a((dp61184
g2
(lp61185
V: That's horrible recursion:  which renders  which renders ,
p61186
aV,  until you run out of stack and your web server blows :-)
p61187
aVWhen you render a child action like this ensure it has no master or the master's gonna rerender it again and again and again,
p61188
aVSo modify this view () like this:
p61189
aVLet me explain:
p61190
aVThe example you saw in the book was using the WebForms view engine
p61191
aVIn this view engine you have  (views) and  (partials)
p61192
aVI suppose that in the book they were using  which by default has no master because it is a partial
p61193
aVIn Razor there is no longer such distinction
p61194
aVYou simply have views:
p61195
aVcshtml pages
p61196
aVIt is up to you to control whether they have a master or not
p61197
aVThere are different ways
p61198
aVOne is what I showed previously, another is to  inside the child action
p61199
as(dp61200
g16
V29407
p61201
stp61202
a((dp61203
g2
(lp61204
VAFAIK there is no way
p61205
aVRoutes are resolved at runtime
p61206
aVOf course that's why it is a good practice to unit test your route definitions
p61207
aVPersonally I use the MVCContrib TestHelper which I find quite elegant
p61208
as(dp61209
g16
V29407
p61210
stp61211
a((dp61212
g2
(lp61213
VBecause you are manually creating the authentication cookie, the timeout value in your web
p61214
aVconfig is completely ignored
p61215
aVSo I would recommend you having the same value:
p61216
as(dp61217
g16
V29407
p61218
stp61219
a((dp61220
g2
(lp61221
VDon't handle validation by throwing exceptions
p61222
aVIf you are sending a JSON response include all that's needed to the client in the JSON response:
p61223
aVand if you are returning a view add a model state error and the HTML helpers on your form will do the rest:
p61224
as(dp61225
g16
V29407
p61226
stp61227
a((dp61228
g2
(lp61229
VYou should remove any  attribute you might have placed on the  action or the controller containing it
p61230
aVFrom your description it looks like that authentication is required to invoke the action (because of the  attribute) and if the user is not authenticated it will simply be redirected to the logon action without ever executing any code in the  action
p61231
as(dp61232
g16
V29407
p61233
stp61234
a((dp61235
g2
(lp61236
VYou may take a look at the new WebGrid helper
p61237
as(dp61238
g16
V29407
p61239
stp61240
a((dp61241
g2
(lp61242
VFeel free to download the ASP
p61243
aVNET MVC source code and inspect the implementation
p61244
aVHere's how it looks in ASP
p61245
aVNET MVC 3 RTM:
p61246
as(dp61247
g16
V29407
p61248
stp61249
a((dp61250
g2
(lp61251
VASP
p61252
aVNET MVC 3 uses the JavaScriptSerializer to deserialize values back
p61253
aVQuoting from the documentation of this class:
p61254
aVDate object, represented in JSON as
p61255
aV"\u005c/Date(number of ticks)\u005c/"
p61256
aVThe
p61257
aVnumber of ticks is a positive or
p61258
aVnegative long value that indicates the
p61259
aVnumber of ticks (milliseconds) that
p61260
aVhave elapsed since midnight 01
p61261
aVJanuary, 1970 UTC
p61262
aVThe maximum supported date value is
p61263
aVMaxValue (12/31/9999 11:59:59 PM) and
p61264
aVthe minimum supported date value is
p61265
aVMinValue (1/1/0001 12:00:00 AM)
p61266
aVThis basically means that your request object has to look something like this:
p61267
aVSo here's how you could proceed:
p61268
aVOf course because we are now working with UTC don't forget to compensate to local time on your server if you ever need to work with local time (UTC is preferred):
p61269
aVAlso don't hardcode urls like this:
p61270
aVAlways use URL helpers when dealing with urls or you might get bad surprises when you ship:
p61271
aVUPDATE:
p61272
aVTry encoding the date like this:
p61273
as(dp61274
g16
V29407
p61275
stp61276
a((dp61277
g2
(lp61278
VYou might find the following blog post useful
p61279
aVTaken from it:
p61280
aVAnd the usage:
p61281
aVAnd that's pretty much all
p61282
aVBecause this custom attribute implements IClientValidatable the client validation will work as well
p61283
aVAnd of course if the regular expression used in this example doesn't suits you don't hesitate to improve it
p61284
as(dp61285
g16
V29407
p61286
stp61287
a((dp61288
g2
(lp61289
VI have a question
p61290
aVIs it possible to work with AJAX Control Toolkit in razor views
p61291
aVNot recommended
p61292
aVThe AJAX Control Toolkit consists of server side controls which depend on ViewState and PostBack which are notions that no longer exist in ASP
p61293
aVNET MVC
p61294
aVSo referencing the AjaxControlToolkit assembly inside an ASP
p61295
aVNET MVC application is like attaching a caravan on a Lamborghini
p61296
aVAs an alternative you might take a look at jQuery UI which has many useful widgets such as Tabs
p61297
as(dp61298
g16
V29407
p61299
stp61300
a((dp61301
g2
(lp61302
VThat's usually done in the app
p61303
aVconfig/web
p61304
aVconfig:
p61305
aVor you could also do it programatically if you prefer
p61306
aVNormally when you generate the client side proxy using the svcutil
p61307
aVexe it will also create a sample  file containing all you need to setup the configuration
p61308
aVUPDATE:
p61309
aVYou could also provide names to your endpoints:
p61310
aVand then:
p61311
as(dp61312
g16
V29407
p61313
stp61314
a((dp61315
g2
(lp61316
VThis would be the correct syntax:
p61317
aVBut I suspect that in your case the following structure would be more adapted:
p61318
aVbecause it would allow you to switch on the key:
p61319
as(dp61320
g16
V29407
p61321
stp61322
a((dp61323
g2
(lp61324
VThis will depend on your configuration
p61325
aVBy default  and  use the DataContractSerializer class
p61326
aVAs far as the SOAP envelopes are concerned I don't know what classes are used and I am not sure if they would be public (I might be wrong on this)
p61327
as(dp61328
g16
V29407
p61329
stp61330
a((dp61331
g2
(lp61332
VIs this the correct way to send the data
p61333
aVNo, the following would be better:
p61334
aVAlso, what data type do I need in the SomeFunction parameter to accept and parse the JSON data
p61335
aVIt would map to:
p61336
aVwhere  is defined like this:
p61337
aVIn my example I've used  as I assume you would be only enumerating over the values but if you need indexer you could also define them as arrays
p61338
as(dp61339
g16
V29407
p61340
stp61341
a((dp61342
g2
(lp61343
VIn ASP
p61344
aVNET MVC 3 you could decorate the property of you model that needs to accept this input with the  attribute
p61345
aVThis way you are not forced to disable input validation for the entire controller action which was previously done by decorating it with the  attribute
p61346
aVSo on your model
p61347
aVand then have your controller action:
p61348
aVAnd inside your view you could have a textbox named  in which the user could type those characters and you won't get exception
p61349
aVAlso don't forget to set the following in your web
p61350
aVconfig or this attribute won't have effect in
p61351
aVNET 4
p61352
aV0 (which is what ASP
p61353
aVNET MVC 3 uses):
p61354
as(dp61355
g16
V29407
p61356
stp61357
a((dp61358
g2
(lp61359
VBut because of some problem i cant use ajax begin form
p61360
aVA problem
p61361
aVI wouldn't call this exactly a problem
p61362
aVI would call it good design
p61363
aVYou are a happy man if you cannot use  helpers
p61364
aVPersonally I hate those helpers as they turn your markup into a pollution and that's especially true for MVC 1 and 2
p61365
aVSo in jQuery you have the  function which allows you to set the html of a given element:
p61366
aVor even easier with the  function:
p61367
aVAlso notice the usage of an url helper instead of hardcoding the url
p61368
aVYou should always be using url helpers when dealing with urls because there are hundredths of questions on StackOverflow going like My application stops working when deployed in IIS and I just don't want one more :-)
p61369
as(dp61370
g16
V29407
p61371
stp61372
a((dp61373
g2
(lp61374
VWhen declaring a variable, this variable needs to be assigned:
p61375
aVand then:
p61376
aVThis being said doing something like this in a view is a very bad design
p61377
aVI mean things like declaring and assigning variables based on some condition is not a logic that should be placed in a view
p61378
aVThe view is there to display data
p61379
aVThis logic should go to your controller or view model
p61380
as(dp61381
g16
V29407
p61382
stp61383
a((dp61384
g2
(lp61385
VYou could use the  function which allows you to register global properties for all ajax requests (issued by jQuery)
p61386
aVFor example:
p61387
as(dp61388
g16
V29407
p61389
stp61390
a((dp61391
g2
(lp61392
VWhy are you hardcoding urls like this:
p61393
aVAlways use url helpers when dealing with urls:
p61394
aVAlso how many times are you specifying this url
p61395
aVWouldn't it be more straightforward:
p61396
aVwhich would be called like this:
p61397
aV(I would probably add the  suffix to make this extension method a little more meaningful to what it actually does => generate a delete link)
p61398
aVand then:
p61399
aVAlso notice the return statement here:
p61400
aVIf you don't put it your AJAX call will never have the time to execute and you will simply be redirected to the Delete action which of course will throw a 404 exception because this action is not accessible through a GET request
p61401
as(dp61402
g16
V29407
p61403
stp61404
a((dp61405
g2
(lp61406
VYou cannot set server side values with javascript
p61407
aVYou could bind those values to input fields (textboxes, hidden fields, textareas, dropdowns,
p61408
aVusing HTML helpers and then using javascript you could modify the values of those input fields
p61409
aVSo for example if you have a hidden field:
p61410
aVyou could modify its value like this:
p61411
aVThen when the containing form is submitted to the server the new value will be bound to your view model
p61412
as(dp61413
g16
V29407
p61414
stp61415
a((dp61416
g2
(lp61417
VNo idea why this doesn't work but this code screams for refactoring:
p61418
as(dp61419
g16
V29407
p61420
stp61421
a((dp61422
g2
(lp61423
VThat's normal
p61424
aVIf you view the source code of your generated page you will see this:
p61425
aVwhich obviously is very far from something that could be considered as valid javascript
p61426
aVYou could use the JavaScriptStringEncode method like this:
p61427
aVwhich will take care of properly encoding the HTML string and you will end up with valid javascript:
p61428
aVwhich produces the desired result
p61429
as(dp61430
g16
V29407
p61431
stp61432
a((dp61433
g2
(lp61434
VThis message is baked into  assembly under the key
p61435
aVYou could write a custom validation attribute:
p61436
aVand then inside your  file define the  string:
p61437
aVand finally decorate your view model property with this custom attribute:
p61438
as(dp61439
g16
V29407
p61440
stp61441
a((dp61442
g2
(lp61443
VIn your POST action you need to fill the  the same way you did in your GET action because you are returning the same view and this view depends on it:
p61444
aVObviously this answer comes with the usual disclaimer I always make when I see someone using ViewData instead of view models and strongly typed views: don't use ViewData, use view models and strongly typed views
p61445
as(dp61446
g16
V29407
p61447
stp61448
a((dp61449
g2
(lp61450
VYou could use a normal link with  attribute:
p61451
aVor if you want a button you could use javascript:
p61452
aVand then in a separate javascript file you could use jQuery and subscribe for the click event of this button and open a new window:
p61453
as(dp61454
g16
V29407
p61455
stp61456
a((dp61457
g2
(lp61458
VThere are so many wrong things going on here that I really don't know where to start
p61459
aVYour  definition is wrong: you are confusing  with
p61460
aVSee below for solution
p61461
aVYour button doesn't have an id so your javascript selector will most probably fail
p61462
aVAll those efforts are not necessary because a simple  button does it out of the box
p61463
aVNow lets suppose that somehow you are a fan of javascript and you want to write it (I don't know why would you want to write code but anyway)
p61464
aVSo start by fixing your form definition:
p61465
aVand then you could do this:
p61466
aVobviously you must ensure that the client scripts are properly included on your page:
p61467
aVand of course the real solution I would recommend you is to use a submit button for submitting forms:
p61468
aVNow you don't need any javascript (obviously you still need the two script inclusions for the unobtrusive validation)
p61469
as(dp61470
g16
V29407
p61471
stp61472
a((dp61473
g2
(lp61474
VIf you are using MSAjax for client side validation you could do this:
p61475
aVNotice the  attribute on the button
p61476
aVObviously that's invalid HTML Transitional and you could cheat by appending this attribute using javascript:
p61477
aVStill stinky but at least the validator will be happy
p61478
aVPersonally I consider MSAjax library a crap
p61479
aVWith the jquery
p61480
aVvalidate plugin (which by the way is the default client side validation mechanism in ASP
p61481
aVNET MVC 3) you simlpy apply the  class to the button:
p61482
as(dp61483
g16
V29407
p61484
stp61485
a((dp61486
g2
(lp61487
VAs always you start by defining a model:
p61488
aVController:
p61489
aVStrongly typed view:
p61490
as(dp61491
g16
V29407
p61492
stp61493
a((dp61494
g2
(lp61495
VInput should be lowercased:
p61496
aVAnd don't forget to include the unobtrusive client side validation scripts to your page:
p61497
aVand ensure that client side validation is enabled in web
p61498
aVconfig:
p61499
as(dp61500
g16
V29407
p61501
stp61502
a((dp61503
g2
(lp61504
VMake sure you are using the proper overload:
p61505
as(dp61506
g16
V29407
p61507
stp61508
a((dp61509
g2
(lp61510
VYou need to add the ValidationMessageFor helper to enable client side validation:
p61511
as(dp61512
g16
V29407
p61513
stp61514
a((dp61515
g2
(lp61516
VMost probably the mdf file is locked by some other process, not allowing the application to read it
p61517
aVIf you mounted the database on SQL Server you need to use a connection string with the machine name instead of specifying the mdf file directly
p61518
as(dp61519
g16
V29407
p61520
stp61521
a((dp61522
g2
(lp61523
VAssuming you have a hidden spinner somewhere on your page:
p61524
aVyou could use the $
p61525
aVajaxSetup function to set global options
p61526
aVSo for example you could do this:
p61527
aVNow whenever you issue an AJAX request with one of the methods jQuery offers for this purpose like the spinner will shown before the request and hidden once the request completes (with success or error)
p61528
as(dp61529
g16
V29407
p61530
stp61531
a((dp61532
g2
(lp61533
VWhat is
p61534
aVIt seems that this is the type of your partial
p61535
aVTry with editor templates
p61536
aVIt's cleaner:
p61537
aVand inside :
p61538
aVNow everything should bind correctly
p61539
as(dp61540
g16
V29407
p61541
stp61542
a((dp61543
g2
(lp61544
Vand then:
p61545
as(dp61546
g16
V29407
p61547
stp61548
a((dp61549
g2
(lp61550
VDid you try
p61551
as(dp61552
g16
V29407
p61553
stp61554
a((dp61555
g2
(lp61556
VUnable to repro
p61557
aVIf the hidden field is decorated with the Remote attribute you won't be able to submit the form no matter how many times you click on the submit button if the remote function sends
p61558
aVFor example:
p61559
aVModel:
p61560
aVController:
p61561
aVView:
p61562
aVBecause the remote function will always return false this form cannot be submitted
p61563
aVIf the remote function returns true a single click would be enough to submit it assuming of course that the other validation passed
p61564
as(dp61565
g16
V29407
p61566
stp61567
a((dp61568
g2
(lp61569
VAn action name cannot contain a question mark
p61570
aVThe question mark is a reserved character in a URL indicating the beginning of the query string
p61571
as(dp61572
g16
V29407
p61573
stp61574
a((dp61575
g2
(lp61576
VYou could use the  attribute:
p61577
as(dp61578
g16
V29407
p61579
stp61580
a((dp61581
g2
(lp61582
VYes, if the session is disabled or readonly for a given controller action this controller action could be invoked in parallel from the same session
p61583
aVYou may checkout the following blog post
p61584
as(dp61585
g16
V29407
p61586
stp61587
a((dp61588
g2
(lp61589
VForms authentication works by using cookies
p61590
aVSo as long as you provide different authentication cookie names for both sites they will be independent
p61591
aVBut the problem AFAIK is that the  tag cannot be redefined in sub web
p61592
aVconfig files
p61593
as(dp61594
g16
V29407
p61595
stp61596
a((dp61597
g2
(lp61598
VYou need a custom VirtualPathProvider to achieve this but nothing out of the box
p61599
aVHere's a blog post you may take a look at
p61600
aVDisclaimer: Custom VirtualPathProviders don't work with precompiled web applications
p61601
aVSo if you intend to precompile your web application before shipping don't use virtual path providers
p61602
aVBecause of this limitation personally I use custom NuGet packages that allow the developers to pull all the necessary templates to their corresponding locations
p61603
as(dp61604
g16
V29407
p61605
stp61606
a((dp61607
g2
(lp61608
VIf you have this code in the constructor of your base controller then it is normal
p61609
aVYou need to put it in the Initialize method
p61610
aVAlso what you are doing shouldn't be done in a controller
p61611
aVLooking at your code you seem to be populating the HttpContext
p61612
aVUser property: this should be done in a custom Authorize action filter
p61613
aVFor example:
p61614
aVand then decorate your base controller with this attribute:
p61615
aVNotice that this attribute requires the user to be authenticated in order to give access to the corresponding action so use it only on controllers/actions that require authentication
p61616
as(dp61617
g16
V29407
p61618
stp61619
a((dp61620
g2
(lp61621
VIf by dataset you mean DataSet then this is something that should never be passed to and from a web service
p61622
aVI would recommend you using POCO classes when communicating with the service
p61623
aVA DataSet already does XML serialization/deserialization internally and when you send it to a web service this serialization/deserialization will occur twice
p61624
aVAnother tip is not to resend the entire dataset back to the web service but only what has changed in between the calls to reduce the network traffic
p61625
as(dp61626
g16
V29407
p61627
stp61628
a((dp61629
g2
(lp61630
VYou could get the request message like this:
p61631
aVWhat I do usually is to log the entire request XML
p61632
as(dp61633
g16
V29407
p61634
stp61635
a((dp61636
g2
(lp61637
VThere are two approaches:
p61638
aVRewrite from scratch
p61639
aVAbstract the ugliness behind interfaces and abstract classes and use factories or DI
p61640
aVFor example when Microsoft designed the ASP
p61641
aVNET MVC framework they chose the second approach: they introduced abstractions like HttpContextBase, HttpRequestBase,
p61642
aVSo if you don't have time to rewrite everything from scratch you could start by thinking how your service layer might look and start designing POCOs and interfaces which would define the operations with those POCOs
p61643
aVThen the UI layer would only know about the service layer
p61644
aVIn the implementation of this service layer you could use repositories which represent the CRUD operations with your entities and in the implementation of those repositories you would have the data access code you are currently having
p61645
as(dp61646
g16
V29407
p61647
stp61648
a((dp61649
g2
(lp61650
VYou will need to write a custom membership provider which works with SQLite
p61651
aVHere's an example with MySQL
p61652
aVAlso notice that SQLite is not intended to be used in a multithreaded environment such as ASP
p61653
aVNET
p61654
as(dp61655
g16
V29407
p61656
stp61657
a((dp61658
g2
(lp61659
VI would use a service layer which would return me a POCO object that I would map to a view model
p61660
aVSo my controller action would look like this:
p61661
aVI also like using action filters to avoid the mapping code all over again so:
p61662
aVThis way only the service talks with the CRUD repositories and the controller talks to the service and the mapping layer
p61663
as(dp61664
g16
V29407
p61665
stp61666
a((dp61667
g2
(lp61668
VNo, it is not possible and thanks God it isn't
p61669
aVOtherwise I leave you to the imagination of what kind of files could be stored on your computer when you visit a web site without you knowing it
p61670
aVAs @Paul D
p61671
aVWhite pointed out in the comments section if you want to open the file inline (inside the browser) with the default program associated with it you could have the server send the Content-Disposition HTTP header
p61672
aVFor example:
p61673
as(dp61674
g16
V29407
p61675
stp61676
a((dp61677
g2
(lp61678
VYou could add the  and   properties to your  view model
p61679
aVAnd then:
p61680
as(dp61681
g16
V29407
p61682
stp61683
a((dp61684
g2
(lp61685
V1800 lines
p61686
aVHoly mother of God
p61687
aVI would recommend you watching the following video about putting your controllers on a diet
p61688
as(dp61689
g16
V29407
p61690
stp61691
a((dp61692
g2
(lp61693
VHere you are sending an AJAX request but you are doing nothing in the success callback so nothing will update
p61694
aVThere is not even a success callback
p61695
aVSo you need to define a success callback:
p61696
aVAlso your  definition is wrong
p61697
aVYou are using the same model variable as first and second argument (Model
p61698
aVTimers)
p61699
aVThe first first argument of this helper should be a scalar property to which you are binding and not a list
p61700
aVIt should be:
p61701
aVwhere  would be a property on your view model that will hold the selected value
p61702
aVAlso why you are using  instead of  for the first drop down
p61703
aVThe whole idea of a view model is that it will contain all the necessary information so that the view would simply display it
p61704
as(dp61705
g16
V29407
p61706
stp61707
a((dp61708
g2
(lp61709
VThat's because you are using a Web Site in contrast to Web Application
p61710
aVWeb Sites are compiled dynamically at runtime by the ASP
p61711
aVNET runtime
p61712
aVIn this model all code goes into the  special folder
p61713
aVWhen deploying you need to upload your source code as well
p61714
aVOn the other hand a Web Application is compiled
p61715
aVYou can place the code wherever you like and for things like
p61716
aVASPX,
p61717
aVASCX,
p61718
aVASMX,
p61719
aVASHX,
p61720
aVVisual Studio nests the code file next to the markup
p61721
as(dp61722
g16
V29407
p61723
stp61724
a((dp61725
g2
(lp61726
VI use View Models to solve this problem
p61727
aVValidation and UI presentation attributes go to the view model
p61728
aVIn this pattern the controller uses a repository to fetch an EF model, maps this EF model to a view model (I use AutoMapper for this) and passes the view model to the view
p61729
aVBecause the view model contains all the UI presentation attributes the view behaves as expected
p61730
aVEach view must have its own view model
p61731
aVThis means that you could have multiple view models associated to the same EF model but contain a different subset of properties and display formatting attributes based on the specific requirements of the view
p61732
aVThe process works the other way around as well: the controller receives a view model from the view as argument
p61733
aVIt maps the view model back to a model and passes the EF model to the repository
p61734
aVUI validation attributes are handled on the view model because you could have different validation requirements in different views: think for example Insert/Update views
p61735
aVIn the insert view you will be creating a new entity thus the Id property won't be required
p61736
aVYou won't even have an Id property on your view model in this case
p61737
aVIn the update view on the contrary the Id property will be required
p61738
as(dp61739
g16
V29407
p61740
stp61741
a((dp61742
g2
(lp61743
VYou don't use a file input control
p61744
aVServer side controls are not used in ASP
p61745
aVNET MVC
p61746
aVCheckout the following blog post which illustrates how to achieve this in ASP
p61747
aVNET MVC
p61748
aVSo you would start by creating an HTML form which would contain a file input:
p61749
aVand then you would have a controller to handle the upload:
p61750
as(dp61751
g16
V29407
p61752
stp61753
a((dp61754
g2
(lp61755
V returns 401 status code
p61756
aVYou didn't send any credentials in the request
p61757
as(dp61758
g16
V29407
p61759
stp61760
a((dp61761
g2
(lp61762
VTry giving a  to your password input:
p61763
as(dp61764
g16
V29407
p61765
stp61766
a((dp61767
g2
(lp61768
VYou may take a look at Datejs:
p61769
as(dp61770
g16
V29407
p61771
stp61772
a((dp61773
g2
(lp61774
VIn the case of lists you could continue programming against interfaces and use LINQ to filter your objects
p61775
aVYou could even work with  which is even higher in the object hierarchy
p61776
aVBut more generally if the consumer of your API needs to call a specific method you probably haven't chosen the proper interface to expose
p61777
as(dp61778
g16
V29407
p61779
stp61780
a((dp61781
g2
(lp61782
VIt is possible by setting the ASPCompatibityMode but you should never do this (access ASP
p61783
aVNET session inside a WCF service)
p61784
aVI would recommend you having the ASP
p61785
aVNET application consuming this service to simply construct a POCO object containing all the necessary information and send it to the service so that the service is not strongly coupled to this session
p61786
aVAccessing an ASP
p61787
aVNET session inside a WCF service makes this service completely non-reusable
p61788
aVWhat if you wanted to call your service from a desktop application
p61789
as(dp61790
g16
V29407
p61791
stp61792
a((dp61793
g2
(lp61794
V is a method that you would call on a number, not on a string
p61795
aVYou need to parse the string to a number:
p61796
aVLive demo here: http://jsfiddle
p61797
aVnet/QrW5C/
p61798
as(dp61799
g16
V29407
p61800
stp61801
a((dp61802
g2
(lp61803
VYou could use RenderAction instead
p61804
aVExample:
p61805
aVand inside the  and  views you could include the child action:
p61806
aVand it you will get the cached version of it in both pages
p61807
as(dp61808
g16
V29407
p61809
stp61810
a((dp61811
g2
(lp61812
VYou could use  inside the layout:
p61813
aVand then define this variable inside the view:
p61814
aVUPDATE:
p61815
aVFollowing on the comments question about default values you could use sections
p61816
aVand then inside your view you could redefine the section if you will:
p61817
as(dp61818
g16
V29407
p61819
stp61820
a((dp61821
g2
(lp61822
VThat's normal
p61823
aVThere is no HTTP Context in a WCF web service
p61824
aVA WCF service might not even be hosted inside a web server
p61825
aVYou could host in inside a console application
p61826
aVThere's a trick that allows you to set the ASP
p61827
aVNET Compatibility Mode:
p61828
aVbut it is not something that I would recommend you doing
p61829
aVI would do this instead:
p61830
aVAnd because I have a 7th sense about where you are going with this code (sending it as an HTTP request to a remote web server) let's get straight to the point:
p61831
as(dp61832
g16
V29407
p61833
stp61834
a((dp61835
g2
(lp61836
Vwhat am I missing
p61837
aVA custom model binder:
p61838
aVand then you would register this model binder in :
p61839
aVand finally
p61840
aVConclusion: We've put this controller on a diet which is the way controllers should be :-)
p61841
as(dp61842
g16
V29407
p61843
stp61844
a((dp61845
g2
(lp61846
VWhy testing on the client side when you could do this on the server side and include the javascript to act accordingly if the test succeeds:
p61847
as(dp61848
g16
V29407
p61849
stp61850
a((dp61851
g2
(lp61852
VYes, absolutely, you could write a custom session state store provider by implementing SessionStateStoreProviderBase class and then set the session state mode to this custom implementation in web
p61853
aVconfig:
p61854
as(dp61855
g16
V29407
p61856
stp61857
a((dp61858
g2
(lp61859
VDoes ASP
p61860
aVNET MVC's JsonResult use reflection to work out what Json to return
p61861
aVIt uses the JavaScriptSerializer class which in turns uses reflection to cycle through the properties of model
p61862
aVExcerpt from it's ExecuteResult method:
p61863
as(dp61864
g16
V29407
p61865
stp61866
a((dp61867
g2
(lp61868
VYou could put this in a partial:
p61869
aVand finally include this partial somewhere:
p61870
as(dp61871
g16
V29407
p61872
stp61873
a((dp61874
g2
(lp61875
V1- Use a cookie
p61876
aVCan't see any relevance
p61877
aV2- Save them into variables
p61878
aVCan't see any relevance
p61879
aV3- Ask stackoverflow
p61880
aVYou may take a look at the jquery watermark plugin
p61881
as(dp61882
g16
V29407
p61883
stp61884
a((dp61885
g2
(lp61886
VTry renaming:
p61887
aV=>
p61888
as(dp61889
g16
V29407
p61890
stp61891
a((dp61892
g2
(lp61893
VYou may take a look at the following blog post about how you could mix classic WebForms with ASP
p61894
aVNET MVC within the same application
p61895
as(dp61896
g16
V29407
p61897
stp61898
a((dp61899
g2
(lp61900
VInstead of:
p61901
aVI would recommend you using Editor templates:
p61902
aVand then put the simple partial inside  or inside  where  is the name of your controller:
p61903
aVOf course if you prefer to have the partial in some special location and not follow the conventions (why would you
p61904
aVyou could specify the location:
p61905
aVthen everything will come into place as expected
p61906
as(dp61907
g16
V29407
p61908
stp61909
a((dp61910
g2
(lp61911
VYou could use the String
p61912
aVReplace method:
p61913
aVor use a Regex if you want to remove also tabs and new lines:
p61914
as(dp61915
g16
V29407
p61916
stp61917
a((dp61918
g2
(lp61919
VYou could try the jQuery Globalization plugin from Microsoft:
p61920
aVPlugin was renamed and moved, you should use Globalize (Mar 2012)
p61921
aVmore about this on Scott Hanselman blog post
p61922
as(dp61923
g16
V29407
p61924
stp61925
a((dp61926
g2
(lp61927
VInside the controller you could instantiate the class and invoke some method on it by passing the value you retrieved from the database as parameter:
p61928
as(dp61929
g16
V29407
p61930
stp61931
a((dp61932
g2
(lp61933
VFor ASP
p61934
aVNET MVC 1 and 2:
p61935
aVFor ASP
p61936
aVNET MVC 3:
p61937
aVFor Autofac ASP
p61938
aVNET MVC3 integration you may take a look at the documentation (updated link)
p61939
aVFor ASP
p61940
aVNET MVC 5:
p61941
as(dp61942
g16
V29407
p61943
stp61944
a((dp61945
g2
(lp61946
VYou may checkout this answer
p61947
aVThe  jquery plugin seems very nice
p61948
as(dp61949
g16
V29407
p61950
stp61951
a((dp61952
g2
(lp61953
VYou could use the  and  functions:
p61954
aVIf you want to match against a userId variable you don't need the filter function
p61955
aVYou could do this:
p61956
as(dp61957
g16
V29407
p61958
stp61959
a((dp61960
g2
(lp61961
Vor:
p61962
as(dp61963
g16
V29407
p61964
stp61965
a((dp61966
g2
(lp61967
VYou could use divs with
p61968
aVLive demo
p61969
as(dp61970
g16
V29407
p61971
stp61972
a((dp61973
g2
(lp61974
VI don't know exactly what you are trying to do but TempDataDictionary implements  so you could have your business objects take it as parameter or use constructor injection
p61975
aVThen you could have your controller pass the TempData as parameter to the business object
p61976
aVBy using the dictionary interface your business objects no longer depend on ASP
p61977
aVNET MVC
p61978
as(dp61979
g16
V29407
p61980
stp61981
a((dp61982
g2
(lp61983
VPersonally I like and use SgmlReader to parse HTML:
p61984
as(dp61985
g16
V29407
p61986
stp61987
a((dp61988
g2
(lp61989
VYou have a problem with your post action as it has the thingId parameter twice: once as a property of the  object and once as a separate parameter meaning that the following line is useless as the default model binder will already assign the property:
p61990
aVNow as far as your view is concerned you didn't show it but you could include this id parameter either as part of the form or as a hidden field
p61991
aVFor example:
p61992
aVAnd if you wanted to include it as readonly textbox:
p61993
aVFinally your post action would become:
p61994
as(dp61995
g16
V29407
p61996
stp61997
a((dp61998
g2
(lp61999
VEnsure that in your web
p62000
aVconfig the proper version is loaded:
p62001
aVand that you have a proper redirect:
p62002
as(dp62003
g16
V29407
p62004
stp62005
a((dp62006
g2
(lp62007
V is a pointer to a function which takes  as parameter and returns boolean
p62008
aVFor example if you had the following function:
p62009
aVyou could pass it as argument to the Where method if you had a list of :
p62010
aVYou could also use an anonymous function which avoids you the need to declare another function explicitly:
p62011
aVUPDATE:
p62012
aVI seem to have misunderstood the question
p62013
aVThe type after the name of the function  indicates a generic function definition
p62014
aVIt indicates that this function has a generic argument which can be of any type
p62015
aVSo for example when you write:
p62016
aVequals  and the compiler is capable of automatically inferring it from the delegate
p62017
aVYou could specify it explicitly but it's too much of a writing:
p62018
as(dp62019
g16
V29407
p62020
stp62021
a((dp62022
g2
(lp62023
VIf this is a WCF client there is no Proxy property
p62024
aVYou could try this instead:
p62025
aVand then do the call:
p62026
as(dp62027
g16
V29407
p62028
stp62029
a((dp62030
g2
(lp62031
s(dp62032
g16
V29407
p62033
stp62034
a((dp62035
g2
(lp62036
Vand then:
p62037
aVor check this one:
p62038
aVand then:
p62039
as(dp62040
g16
V29407
p62041
stp62042
a((dp62043
g2
(lp62044
VYou need to reload the  property on your view model from your repository before redisplaying the view in case of error
p62045
aVThis property is never posted so it would be always be null inside your POST action and when the view is rendered the helper would throw an exception:
p62046
as(dp62047
g16
V29407
p62048
stp62049
a((dp62050
g2
(lp62051
VIn your view you are trying to access a  property but such property doesn't exist
p62052
aVThe property is called
p62053
aVThis being said I would strongly recommend you to use view models and strongly typed views instead of
p62054
aVThis way you will also get Intellisense in your view which would have helped you pick the correct names
p62055
aVSo you could start by defining a view model that will hold all the information your view would need:
p62056
aVand then inside your controller action populate this view model and pass to the view:
p62057
aVand finally inside your strongly typed view use the view model:
p62058
as(dp62059
g16
V29407
p62060
stp62061
a((dp62062
g2
(lp62063
VIn
p62064
aVNET it is rare to implement  or derive from
p62065
aVIf you need a dynamic length collection with indexer you could use  directly and if you need a fixed length collection you could use an array
p62066
aVThe  namespace contains most of the generic collection classes
p62067
as(dp62068
g16
V29407
p62069
stp62070
a((dp62071
g2
(lp62072
VIt looks like the controller factory you are using to build your controllers passes null at the constructor of HomeController
p62073
aVIn ASP
p62074
aVNET MVC controllers are built by a controller factory which by default is the  class which simply invokes the default constructor
p62075
aVThe fact that you are getting a  instead of the class HomeController doesn't have a default constructor indicates that you have setup a custom controller factory in your  which is supposed to provide instances of your controllers but this custom controller factory doesn't passes null to the HomeController constructor, so when later you try to access this service  you get the exception
p62076
aVYou are probably using some dependency injection framework and in your  you have something like this:
p62077
aVSo if you are using a DI framework you need to setup this framework to pass a specific implementation of the  interface to the constructor
p62078
aVHow this is done would totally depend on the framework you are using
p62079
as(dp62080
g16
V29407
p62081
stp62082
a((dp62083
g2
(lp62084
VIn ASP
p62085
aVNET MVC 3 there are 2 things: client side validation and unobtrusive javascript which are controlled by their corresponding values in web
p62086
aVconfig:
p62087
aVClient side validation is based on the  plugin alongside with the  script from Microsoft
p62088
aVWhen you include those to scripts inside a view which contains a HTML form client side validation will be performed based on the data annotation rules you have defined on your model
p62089
aVWhen you look at the generated HTML source code of the view you will notice that input fields have HTML5  attributes which contain the validation rules
p62090
aVThe Microsoft unobtrusive validation script would then read those rules and configure the jquery validate plugin
p62091
aVThe unobtrusive javascript is different
p62092
aVIt is based on jquery
p62093
aVWhen you use one of the  HTML helpers such as , in ASP
p62094
aVNET MVC 3, those helpers also emit HTML5  attributes on the corresponding anchor
p62095
aVThose attributes are then interpreted by the Microsoft  script which you need to include in your page and AJAXify those links
p62096
aVSo for example when you write:
p62097
aVthis would generate the following HTML:
p62098
aVAs you can see now all the information about how to perform the AJAX request is contained in the DOM
p62099
aVSo you could have a separate javascript file where you would subscribe for the  event of this link, send an AJAX request to the url contained in the  attribute and then based on the value of the  attribute replace the html of some container with id contained in the  attribute selector
p62100
aVAnd that's exactly what the  does
p62101
aVIt's just that it is in a separate file and your markup and javascript are independent which wasn't the case in previous versions
p62102
aVSo contrary to ASP
p62103
aVNET MVC 1 and 2, in ASP
p62104
aVNET MVC 3 jQuery is the default javascript framework and HTML helpers are based on it
p62105
aVAll  scripts are no longer used
p62106
as(dp62107
g16
V29407
p62108
stp62109
a((dp62110
g2
(lp62111
VInstead of:
p62112
aVTry:
p62113
aVwhich is equivalent to the first except the  call which you could do at your mapping definition
p62114
aVIt might also be faster
p62115
aVIf you have a mapping defined between  AutoMapper automatically provides one for  so that you don't need to loop
p62116
aVAlso you have mentioned NHibernate in your question
p62117
aVMake sure that your source object along with its collections is eagerly loaded from the database before passing it to the mapping layer or you cannot blame AutoMapper for being slow because when it tries to map one of the collections of your source object it hits the database because NHibernate didn't fetch this collection
p62118
as(dp62119
g16
V29407
p62120
stp62121
a((dp62122
g2
(lp62123
VYou need to pass it as argument:
p62124
aVand when invoking the helper from the view provide a valid instance:
p62125
aVAlso if you are only going to HTML encode you probably don't need a helper as the  Razor operator already does this:
p62126
as(dp62127
g16
V29407
p62128
stp62129
a((dp62130
g2
(lp62131
VYou may checkout the  property
p62132
aVSo once you load the image from the stream you could test:
p62133
as(dp62134
g16
V29407
p62135
stp62136
a((dp62137
g2
(lp62138
VIt's neither of those
p62139
aVThey use prototype and scriptaculous javascript frameworks
p62140
aVThe site loads the RSS stream with the news using AJAX and then uses prototype to parse it and show on the screen
p62141
aVAnd the continuous news switching is a simple old window
p62142
aVsetInterval call
p62143
aVAnd here's the script itself
p62144
as(dp62145
g16
V29407
p62146
stp62147
a((dp62148
g2
(lp62149
VShouldn't be tough to verify:
p62150
aVAnd the answer is
p62151
aV\u01ddn\u0279\u0287
p62152
as(dp62153
g16
V29407
p62154
stp62155
a((dp62156
g2
(lp62157
VWhen a file is uploaded you can extract its name:
p62158
aVYou could store the file on disk under some unique name (a GUID is a good option) and then associate this unique name with the actual filename and the user so that later when he wants to download the file you would have the mapping
p62159
as(dp62160
g16
V29407
p62161
stp62162
a((dp62163
g2
(lp62164
VAssuming:
p62165
aVThe following should be sufficient:
p62166
aVand in Global
p62167
aVasax:
p62168
as(dp62169
g16
V29407
p62170
stp62171
a((dp62172
g2
(lp62173
VYour controller action requires a DateTime parameter that you need to supply when invoking the AJAX request:
p62174
as(dp62175
g16
V29407
p62176
stp62177
a((dp62178
g2
(lp62179
VSteps:
p62180
aVCreate a new ASP
p62181
aVNET MVC 2 project using the default template
p62182
aVinside the Index action of the
p62183
aVAdd in web
p62184
aVconfig:
p62185
aVHit Ctrl+F5 to run the project
p62186
aVThe  page is shown
p62187
as(dp62188
g16
V29407
p62189
stp62190
a((dp62191
g2
(lp62192
VAn AJAX request is asynchronous meaning that the assignment of the  might be executed much later than your alerts
p62193
aVHere's how it goes:
p62194
aV$
p62195
aVpost starts an asynchronous AJAX request and immediately moves long to the next line which is the alert
p62196
aVThe alert executes and prints null because the server didn't respond yet
p62197
aVThe server responds and the callback function is invoked and the value of the colorInfo is assigned to the results of the AJAX call
p62198
aVThe next alert is called and the correct value is printed
p62199
aVOf course all this is pretty random
p62200
aVIf the server is pretty fast to respond you might get even the first alert show the proper value and on the other side if the server is slow the two alerts might show the wrong value
p62201
aVSo the correct way is to put the alerts inside the success callback as it is only inside this anonymous function that you are guaranteed to have the data assigned:
p62202
as(dp62203
g16
V29407
p62204
stp62205
a((dp62206
g2
(lp62207
VYou could use persistent cookies
p62208
aVIn ASP
p62209
aVNET when you emit a cookie you could set the  property to some date into the future
p62210
aVThis will create a persistent cookie on the client browser and you will be able to fetch the value back even if the user closes/reopens the browser again
p62211
aVAnd because we live in 2011 and HTML5 is knocking on our doors (it has even entered inside some homes) it is worth looking into the HTML5 local storage
p62212
as(dp62213
g16
V29407
p62214
stp62215
a((dp62216
g2
(lp62217
VAssuming you have access to the HttpContext (and I suppose you do since you are asking) you could:
p62218
aVPersonally I use this approach for handling errors inside my application
p62219
aVI put this in  and execute an error controller for custom error pages staying in the context of the initial HTTP request
p62220
aVYou could also place complex objects inside the  hash and you will get those complex objects back as action parameters
p62221
aVI use this to pass the actual exception that occurred to the error controller action
p62222
aVUPDATE:
p62223
aVIn order to parse an URL to its route data tokens taking into account current routes you could:
p62224
as(dp62225
g16
V29407
p62226
stp62227
a((dp62228
g2
(lp62229
VI would recommend a refactoring of your javascript as it would help you identify the errors more easily
p62230
aVAlso checkout with FireBug the actual JSON request being sent to the controller:
p62231
as(dp62232
g16
V29407
p62233
stp62234
a((dp62235
g2
(lp62236
VAre you trying to write a custom HTML helper that would generate this HTML
p62237
aVI would recommend you using a custom editor template because what you have is primary markup
p62238
aVSo you could have the following partial ():
p62239
aVand then whenever you have a strongly typed view to SomeViewModel simply:
p62240
aVor if you have a property of type SomeViewModel:
p62241
aVwhich would render the custom editor template
p62242
aVAs far as the helper is concerned the proper signature would be:
p62243
as(dp62244
g16
V29407
p62245
stp62246
a((dp62247
g2
(lp62248
VYou could write a custom install action
p62249
aVTake a look at the following article
p62250
as(dp62251
g16
V29407
p62252
stp62253
a((dp62254
g2
(lp62255
VYes you need javascript to achieve this
p62256
aVYou could subscribe for the  event and when this event is triggered set the text to empty and then unsubscribe from the onclick event to avoid clearing the text every time a user clicks:
p62257
aVLive demo
p62258
aVAnd if you are using jquery there is a really nice watermark plugin which allows you to do this
p62259
as(dp62260
g16
V29407
p62261
stp62262
a((dp62263
g2
(lp62264
VYou could try using the special  node to indicate to the Razor parser to treat the content literally:
p62265
as(dp62266
g16
V29407
p62267
stp62268
a((dp62269
g2
(lp62270
VIf you intend to modify a property which is already in the model state you will need to remove it or the HTML helpers that are bound to this value would always use the value in the model state and not the one that you modified:
p62271
aVAnd if you want to clear all properties it would be better to redirect or clear the entire model state collection:
p62272
as(dp62273
g16
V29407
p62274
stp62275
a((dp62276
g2
(lp62277
VYou could specify constructor parameters:
p62278
aVAnd instead of hardcoding the connection string in your  you could read it from your web
p62279
aVconfig using:
p62280
aVand now your DAL class could take the connection string as parameter:
p62281
as(dp62282
g16
V29407
p62283
stp62284
a((dp62285
g2
(lp62286
VHere are the steps I took and it worked for me:
p62287
aVCreate a new ASP
p62288
aVNET MVC 3 project using the default template and the Razor view engine
p62289
aVInstall the  NuGet package
p62290
aVChange the  action of  to look like this:
p62291
aVRename  to  and make it look like this:
p62292
aVRun the project
p62293
aVThe generated HTML is:
p62294
aVRemark: Everytime I see someone using ViewBag instead of strongly typed views with view models I feel in the obligation to point this as a bad practice
p62295
as(dp62296
g16
V29407
p62297
stp62298
a((dp62299
g2
(lp62300
VJust by referencing an assembly that references System
p62301
aVData
p62302
aVEntity, you are not tying your MVC application to EF
p62303
aVYes, you are tying it but that shouldn't bother you
p62304
aVThe MVC application is the Host application, it is where all layers and assemblies need to be aggregated into a final product that is deployed on a web server and just works
p62305
aVJeffrey Palermo has a nice blog post about onion architecture you might take a look at
p62306
aVIn this pattern outer layers of the onion  know about the inner layers but not the opposite (inner layers shouldn't know about the outer layers)
p62307
aVThe ASP
p62308
aVNET MVC application is the outermost layer
p62309
aVThen you could simply change the outer layer with some other Host application (for example WPF) and reuse the inner layers
p62310
as(dp62311
g16
V29407
p62312
stp62313
a((dp62314
g2
(lp62315
VIf you are using forms authentication all you need to do is to emit an authentication cookie with the username of the user you are trying to impersonate:
p62316
aVand on the next request you will be
p62317
aVYou could also store some value in the session to indicate that this is an administrator acting on behalf of John Doe if you ever needed this information
p62318
aVIf you are using Windows NTLM authentication I don't think this is possible (please correct me if I am wrong)
p62319
as(dp62320
g16
V29407
p62321
stp62322
a((dp62323
g2
(lp62324
VYou no longer need this attribute as ASP
p62325
aVNET MVC 3 has this functionality built-in
p62326
as(dp62327
g16
V29407
p62328
stp62329
a((dp62330
g2
(lp62331
Vor if you want to privilege GET and POST parameters in favor of route data:
p62332
as(dp62333
g16
V29407
p62334
stp62335
a((dp62336
g2
(lp62337
VTry like this:
p62338
aVmight require some modifications to achieve the desired result (in terms of property names), which brings me to the usual remark I make about  when I see someone using it: using  is bad practice and I would recommend you using a strongly typed view with a view model
p62339
as(dp62340
g16
V29407
p62341
stp62342
a((dp62343
g2
(lp62344
VHave you looked at jQuery UI Droppable
p62345
as(dp62346
g16
V29407
p62347
stp62348
a((dp62349
g2
(lp62350
VTry this:
p62351
aVAnd a live demo
p62352
as(dp62353
g16
V29407
p62354
stp62355
a((dp62356
g2
(lp62357
VYou have a trailing  before closing the alert
p62358
aVTry:
p62359
aVLive demo
p62360
as(dp62361
g16
V29407
p62362
stp62363
a((dp62364
g2
(lp62365
VIt is a good practice to enforce validation on the server side because relying only on client side validation is not enough
p62366
aVSo writing another custom validation attribute is necessary
p62367
as(dp62368
g16
V29407
p62369
stp62370
a((dp62371
g2
(lp62372
VI would recommend you using standard HTTP protocol stuff
p62373
aVFor example a POST verb with content type of  works just great, or you could even use :
p62374
aVOn the ASP
p62375
aVNET MVC side you would have a controller action accepting a view model:
p62376
aVAnd finally you would write a custom model binder which would read the XML from the request and deserialize it back to your view model
p62377
aVI would recommend you avoiding custom stuff, wheel and protocol reinvention as much as possible (such as base64 encoding of parameters)
p62378
aVAs far as the client side is concerned, my last Java experience is dating back to 2003 so I cannot exactly tell you how to create an HTTP Java client but I am more than persuaded that it should be an easy task
p62379
as(dp62380
g16
V29407
p62381
stp62382
a((dp62383
g2
(lp62384
VYou realize that due to same origin policy restrictions sending an AJAX request to  () wouldn't work unless your site is hosted on
p62385
aVSo to achieve this you would need to setup a server side script on your domain which would act as bridge between your domain and the remote domain and you would then send an AJAX request to your script
p62386
aVAlso because you are using jquery it would seem more natural to use it in the success callback as well:
p62387
aVIf the remote domain supports JSONP you could directly send the request to it but it is only limited to GET requests
p62388
as(dp62389
g16
V29407
p62390
stp62391
a((dp62392
g2
(lp62393
VHere's an example of how I handle custom errors
p62394
aVI define an  with actions handling different HTTP errors:
p62395
aVand then I subscribe for the  in  and invoke this controller:
p62396
as(dp62397
g16
V29407
p62398
stp62399
a((dp62400
g2
(lp62401
VI can't figure out how to turn 1,2,3 into new List(){1, 2, 3} and so on
p62402
aVTo avoid polluting each controller action that needs to receive this parameter I would recommend a custom model binder:
p62403
aVand then register the model binder in :
p62404
aVand finally your controller action might look like this (and from what I can see in your question it already does look like this :-)):
p62405
aVand the custom model binder will take care for parsing the  route token to the corresponding  value
p62406
aVYou could do the same with the  where you would simply remove the  clause in the corresponding model binder
p62407
as(dp62408
g16
V29407
p62409
stp62410
a((dp62411
g2
(lp62412
VIn your controller action:
p62413
aVand in your view:
p62414
aVor include the error message as part of your view model and in your view:
p62415
as(dp62416
g16
V29407
p62417
stp62418
a((dp62419
g2
(lp62420
s(dp62421
g16
V29407
p62422
stp62423
a((dp62424
g2
(lp62425
VYou may take a look at the upgrading an ASP
p62426
aVNET MVC 2 Project to ASP
p62427
aVNET MVC 3 guide
p62428
aVIf you have a classic WebForms application (not MVC) then there is no migration => there is a rewrite
p62429
as(dp62430
g16
V29407
p62431
stp62432
a((dp62433
g2
(lp62434
VHere's how you could structure your application:
p62435
aVModels (contains POCO objects that represent your business entities)
p62436
aVRepositories (contains CRUD operations with the models, this is the data access layer using a specific data access technology)
p62437
aVServices (contains business operations with the models which are achieved through the repositories)
p62438
aVMVC application which contains view models, controllers and views
p62439
aVSo the MVC application uses the service layer to fetch a model from the database, maps this model to a view model and passes the view model to the view
p62440
aVThe mapping between the models and the view models could be simplified with AutoMapper
p62441
as(dp62442
g16
V29407
p62443
stp62444
a((dp62445
g2
(lp62446
VYou have too much  there
p62447
aVOne is sufficient
p62448
aVAlso I would recommend you URL encoding your parameters:
p62449
aVAlso because $
p62450
aVgetJSON is sending a GET request you must ensure that your controller action authorizes it:
p62451
as(dp62452
g16
V29407
p62453
stp62454
a((dp62455
g2
(lp62456
VUsing CSS:
p62457
aVand in your CSS file:
p62458
aVYou could also implement a custom DataAnnotationsModelMetadataProvider which would allow you to attach any attributes you like to the generated input field such as , , ,
p62459
as(dp62460
g16
V29407
p62461
stp62462
a((dp62463
g2
(lp62464
VThere is an overload which allows you to pass html attributes such as a CSS class:
p62465
aVUPDATE:
p62466
aVYou could also write a custom ActionLink helper which would do the job:
p62467
aVand then in your view:
p62468
as(dp62469
g16
V29407
p62470
stp62471
a((dp62472
g2
(lp62473
VIf you are talking about ASP
p62474
aVNET Forms Authentication this will be a two step process:
p62475
aVSend an HTTP request to the login page sending the username and password and capturing the authentication cookie  sent by the server
p62476
aVSend an HTTP request to the script returning the XML file sending the authentication cookie along with the request
p62477
aVHere's an example using a custom WebClient:
p62478
aVOf course in the real life things might be more complex because depending on the site you might need to send along ViewState and other ASP
p62479
aVNET specific crap along with the request
p62480
as(dp62481
g16
V29407
p62482
stp62483
a((dp62484
g2
(lp62485
VTry making your model property a nullable DateTime:
p62486
aVThen the  attribute should be enough to validate against an empty string
p62487
as(dp62488
g16
V29407
p62489
stp62490
a((dp62491
g2
(lp62492
VIs the page containing this script hosted on the same domain (http://c192531
p62493
aVr31
p62494
aVcf1
p62495
aVrackcdn
p62496
aVcom)
p62497
aVIf not you are probably hitting the same origin policy restriction which prevents you from sending cross domain AJAX requests
p62498
aVA possible workaround would be to use JSONP but you will need to make the remote URL return a JSONP string or if you cannot modify it setup a server side script which would act as a bridge between your domain and the remote domain and then send the AJAX request to this bridge script
p62499
as(dp62500
g16
V29407
p62501
stp62502
a((dp62503
g2
(lp62504
VRemove  from your  :-)
p62505
aVSo instead of:
p62506
aVsimply use:
p62507
as(dp62508
g16
V29407
p62509
stp62510
a((dp62511
g2
(lp62512
VYes, it can work
p62513
aVBut if your application already has SQL queries inside the
p62514
aVASPX pages some major refactoring would be necessary
p62515
aVFor example you could configure your DI framework to inject repositories into the pages and in the code behind call methods on those repositories that would return strongly typed objects that would be bound to server side controls such as a GridView inside the markup
p62516
aVActually before ASP
p62517
aVNET MVC comes out that's exactly what I was doing
p62518
as(dp62519
g16
V29407
p62520
stp62521
a((dp62522
g2
(lp62523
VWhy would someone choose to use a Website Project over a Web Application Project
p62524
aVNo idea
p62525
aVMaybe because he was tricked by this being the default model in VS 2005 and now he has to maintain it
p62526
aVI find the website project to be quite limiting
p62527
aVMe too
p62528
aVIs there some advantage to using it
p62529
aVNo
p62530
as(dp62531
g16
V29407
p62532
stp62533
a((dp62534
g2
(lp62535
VYou are loading the  assembly in this very same line:  because you are statically referencing a type contained withing this assembly
p62536
aVIf you compile this in Release Mode the compiler would probably optimize this code and completely remove this  from the resulting IL
p62537
aVIf the body of the  statement is part of the resulting IL at runtime when the moment for the method containing this code to be executed comes, the JIT will need to translate it into machine code and because you have statically referenced a type within this assembly it would need to load the corresponding assembly
p62538
as(dp62539
g16
V29407
p62540
stp62541
a((dp62542
g2
(lp62543
VThe Developer Highway Code is an excellent checklist which I would recommend you reading
p62544
as(dp62545
g16
V29407
p62546
stp62547
a((dp62548
g2
(lp62549
VWhen you use the PostBackUrl property of a LinkButton there is a POST verb being used
p62550
aVQuote from the documentation:
p62551
aVThe PostBackUrl property allows you to
p62552
aVperform a cross-page post using the
p62553
aVLinkButton control
p62554
aVSet the
p62555
aVPostBackUrl property to the URL of the
p62556
aVWeb page to post to when the
p62557
aVLinkButton control is clicked
p62558
aVFor
p62559
aVexample, specifying Page2
p62560
aVaspx causes
p62561
aVthe page that contains the LinkButton
p62562
aVcontrol to post to Page2
p62563
aVaspx
p62564
aVIf you
p62565
aVdo not specify a value for the
p62566
aVPostBackUrl property, the page posts
p62567
aVback to itself
p62568
aVSo I would recommend you using a normal hyperlink:
p62569
as(dp62570
g16
V29407
p62571
stp62572
a((dp62573
g2
(lp62574
VYou may take a look at the jquery globalization plugin
p62575
as(dp62576
g16
V29407
p62577
stp62578
a((dp62579
g2
(lp62580
VThe LabelFor helper simply generates a  tag whose value is never sent to the server when you submit the form
p62581
aVYou could use a hidden field in order to include the value when the form is submitted:
p62582
aVAlso sending the username in a GET/POST request seems like a security risk
p62583
aVIf your site is using authentication I would recommend you fetching the username of the authenticated user from the authentication cookie
p62584
as(dp62585
g16
V29407
p62586
stp62587
a((dp62588
g2
(lp62589
VThe following works just great for me (I have no SMTP server installed locally):
p62590
aVCreate a new ASP
p62591
aVNET MVC 2 project using the default template
p62592
aVIn web
p62593
aVconfig put:
p62594
aVIn the  action of  put:
p62595
aVRun the application
p62596
aVThe eml file is generated at c:\u005cemail
p62597
as(dp62598
g16
V29407
p62599
stp62600
a((dp62601
g2
(lp62602
VYou could write a custom  attribute which would return JSON instead of throwing a 401 exception in case of unauthorized access which would allow client scripts to handle the scenario gracefully:
p62603
aVthen decorate your controller/actions with it and on the client:
p62604
as(dp62605
g16
V29407
p62606
stp62607
a((dp62608
g2
(lp62609
VIt's a class library that can run on various platforms
p62610
as(dp62611
g16
V29407
p62612
stp62613
a((dp62614
g2
(lp62615
VExtremely ugly but it might work:
p62616
aVand if you want to ensure proper encoding:
p62617
aVA better solution:
p62618
as(dp62619
g16
V29407
p62620
stp62621
a((dp62622
g2
(lp62623
VIf you want to achieve such syntax in your view you could always:
p62624
aVObviously because you are not extending an  you no longer have access to the HttpContext which limits the usefulness of such thing
p62625
aVAnother possibility is to modify the base class all your razor views are deriving from by extending  and adding a custom property to which you could write extension methods later
p62626
aVThe question you have to ask yourself is: is it worth it
p62627
aVPersonally I find nothing wrong/ugly/incorrect about:
p62628
aVor:
p62629
aVThose are the de-facto standards in ASP
p62630
aVNET MVC and every developer should be familiar with
p62631
aVIt's also easier with Intellisense and discoverability of your custom helpers
p62632
as(dp62633
g16
V29407
p62634
stp62635
a((dp62636
g2
(lp62637
VIn your view:
p62638
aVand in your external javascript file:
p62639
aVor even better: if you are AJAXifying an existing link or form:
p62640
aVand in your javascript:
p62641
as(dp62642
g16
V29407
p62643
stp62644
a((dp62645
g2
(lp62646
VThere is nothing buit-in the framework that allows you to do this
p62647
aVYou may take a look at MVCContrib portable areas which allows you to embed and reuse views between multiple ASP
p62648
aVNET MVC applications
p62649
aVYou may also find the following blog post useful
p62650
aVDisclaimer: both those approaches rely on writing a custom VirtualPathProvider which doesn't work with precompiled ASP
p62651
aVNET applications
p62652
aVSo if you intend to precompile your application before shipping don't use those
p62653
aVPersonally I am in this situation and what I ended up doing is writing a custom NuGet package which contains all the necessary views and assemblies containing their respective view models and all that a developer has to do is to install the NuGet package from a centralized location withing the intranet/internet
p62654
as(dp62655
g16
V29407
p62656
stp62657
a((dp62658
g2
(lp62659
VTry using Editor Templates in your view:
p62660
aVand inside :
p62661
as(dp62662
g16
V29407
p62663
stp62664
a((dp62665
g2
(lp62666
VIf you are using Windows Authentication and the application you are trying to run is located on a remote server you need delegation and not impersonation:
p62667
aVTo access a network resource, you
p62668
aVneed to delegate-level token
p62669
aVTo get
p62670
aVthis token type, your server needs to
p62671
aVbe configured as trusted for
p62672
aVdelegation in Active Directory
p62673
aVYou may also checkout the following KB
p62674
aVAnd yet another article on MSDN
p62675
aVAnother possibility is to have some generic account that will be always used for running the console application
p62676
as(dp62677
g16
V29407
p62678
stp62679
a((dp62680
g2
(lp62681
VRight click on your web project and select Add -> Area
p62682
aVThen type the name of the area and Visual Studio will take care of the rest which is to generate all the necessary classes
p62683
aVFor example the area registration might look like this:
p62684
aVand in  of your  all you need is:
p62685
as(dp62686
g16
V29407
p62687
stp62688
a((dp62689
g2
(lp62690
VInside the controller action you could use the Url property:
p62691
aVAlso notice the usage of  instead of  when dealing with relative urls
p62692
as(dp62693
g16
V29407
p62694
stp62695
a((dp62696
g2
(lp62697
V sets the  in the model metadata
p62698
aVFor example:
p62699
aVand if you use in your view the following:
p62700
aVit would generate:
p62701
aVdoes the same, but also allows you to set other metadata properties such as Name, Description,
p62702
aVBrad Wilson has a nice blog post covering those attributes
p62703
as(dp62704
g16
V29407
p62705
stp62706
a((dp62707
g2
(lp62708
VYour controller action is decorated with the  attribute meaning that it will try to validate the token
p62709
aVSo you need to include this token inside the form using the  helper:
p62710
as(dp62711
g16
V29407
p62712
stp62713
a((dp62714
g2
(lp62715
VI would recommend the usage of view models instead of ViewData
p62716
aVSo:
p62717
aVand in your controller:
p62718
aVand in your view:
p62719
as(dp62720
g16
V29407
p62721
stp62722
a((dp62723
g2
(lp62724
VIn your view:
p62725
aVwhere  is a property of your view model which will receive the selected site id when the form is submitted
p62726
aVand then you could populate this dropdown using AJAX:
p62727
aVand the controller action that would return the JSON data:
p62728
as(dp62729
g16
V29407
p62730
stp62731
a((dp62732
g2
(lp62733
VIf your class is called  and your namespace is called  I suspect that there is a naming collision
p62734
as(dp62735
g16
V29407
p62736
stp62737
a((dp62738
g2
(lp62739
VStrange, it was the first hit on Google
p62740
as(dp62741
g16
V29407
p62742
stp62743
a((dp62744
g2
(lp62745
VTry like this:
p62746
aVor if you prefer:
p62747
as(dp62748
g16
V29407
p62749
stp62750
a((dp62751
g2
(lp62752
VYou have specified an absolute path which doesn't exist on the client computer
p62753
aVTry like this:
p62754
aVor if your model variable contains "~/uploads/FileUpload12011_03_02_11_49_22
p62755
aVjpg" you could:
p62756
as(dp62757
g16
V29407
p62758
stp62759
a((dp62760
g2
(lp62761
VYou could loop through the  and cast them back to the corresponding  type and verify the  property
p62762
as(dp62763
g16
V29407
p62764
stp62765
a((dp62766
g2
(lp62767
VYou could try
p62768
aVSo for example if the request url is  this will return
p62769
as(dp62770
g16
V29407
p62771
stp62772
a((dp62773
g2
(lp62774
VDo you have any advice for where to draw the line between domain objects and mere ViewModels
p62775
aVPersonally I always use View Models
p62776
aVAll UI validation logic is done on the view models (required fields,
p62777
aVand business logic on the domain models (username already exists,
p62778
aVI also use AutoMapper in order to not get tired of mapping between the domain models and the view models that are passed to the view
p62779
as(dp62780
g16
V29407
p62781
stp62782
a((dp62783
g2
(lp62784
VI agree that this logic shouldn't be part of the controller
p62785
aVI avoid private methods in my controllers
p62786
aVIf we take the example of "how" to create a view model to a domain model this logic normally should reside in the mapping layer
p62787
as(dp62788
g16
V29407
p62789
stp62790
a((dp62791
g2
(lp62792
VHere are a few hints you might try:
p62793
aVMake your razor view strongly typed to a model:
p62794
aVWhen rendering it pass a  model:
p62795
aVIf you are trying to send emails from your Views make sure you checkout Postal before reinventing something
p62796
as(dp62797
g16
V29407
p62798
stp62799
a((dp62800
g2
(lp62801
VFor example if a file is named *
p62802
aVcs it will not be served
p62803
aVYou may take a look at the  section of your  file
p62804
aVMine looks like this:
p62805
aVSo you can see all those forbidden extensions
p62806
aVThey correspond to source code files and for security reasons are not served directly
p62807
aVOtherwise people would be able to look at your source code file
p62808
aVIf you wanted to serve them you could write a controller action which would serve those files
p62809
as(dp62810
g16
V29407
p62811
stp62812
a((dp62813
g2
(lp62814
VYou may try this:
p62815
as(dp62816
g16
V29407
p62817
stp62818
a((dp62819
g2
(lp62820
VYou may try grouping:
p62821
aVwhich would generate:
p62822
ag9596
ag9596
as(dp62823
g16
V29407
p62824
stp62825
a((dp62826
g2
(lp62827
VUgly as hell but it could work:
p62828
aVThe problem is that the WebGrid helper is entirely based on dynamic data, absolutely no strong typing and that's one of the reasons why I hate it
p62829
aVThe WebMatrix team at Microsoft must be real fans of the C# 4
p62830
aV0 dynamic feature as their entire API takes only weakly typed objects :-)
p62831
aVMvcContrib Grid is much better
p62832
as(dp62833
g16
V29407
p62834
stp62835
a((dp62836
g2
(lp62837
VCan't really say that there is some advantage of using one over the other
p62838
aVexists in older versions of the framework while  can be used only in ASP
p62839
aVNET MVC 3 as it was introduced in
p62840
aVNET 4
p62841
ag2721
as(dp62842
g16
V29407
p62843
stp62844
a((dp62845
g2
(lp62846
VIf you want the data annotations attributes such as  to have any effect you should use:
p62847
aVCheckout the following blog post from Brad Wilson which explains how model metadata works in ASP
p62848
aVNET MVC
p62849
aVThe drawback is that now you cannot specify the class anymore
p62850
aVOne possible solution would be to do this:
p62851
aVand then style:
p62852
aVor you could also write a custom DataAnnotationsModelMetadataProvider which would allow you to specify attributes such as class, size, maxlength,
p62853
aVusing data annotations
p62854
as(dp62855
g16
V29407
p62856
stp62857
a((dp62858
g2
(lp62859
VIn ASP
p62860
aVNET MVC server side controls such as  should never be used because they rely on ViewState and PostBack which are notions that no longer exist in ASP
p62861
aVNET MVC
p62862
aVSo you could use HTML helpers to generate input fields
p62863
aVFor example:
p62864
aVand have a controller action which would receive the post:
p62865
as(dp62866
g16
V29407
p62867
stp62868
a((dp62869
g2
(lp62870
VYou will need to do this in code
p62871
aVIf you use a DI injection framework that would be a great place to setup and automatically do the replace before injecting the final string into some constructor for example
p62872
as(dp62873
g16
V29407
p62874
stp62875
a((dp62876
g2
(lp62877
VIf the function is not static you will need to first obtain an instance of the class containing the function and then invoke the function on this instance
p62878
aVFor example:
p62879
aVObviously it would be better to do this in the code behind file instead of polluting your markup
p62880
as(dp62881
g16
V29407
p62882
stp62883
a((dp62884
g2
(lp62885
VIt might not work because on the server you are trying to run this site the security level could be set to low which would restrict reflection code to run
p62886
aVSuch things might happen on shared hosts
p62887
as(dp62888
g16
V29407
p62889
stp62890
a((dp62891
g2
(lp62892
VYou may also checkout Postal
p62893
as(dp62894
g16
V29407
p62895
stp62896
a((dp62897
g2
(lp62898
VModel:
p62899
aVController:
p62900
aVView :
p62901
aVEditor template :
p62902
as(dp62903
g16
V29407
p62904
stp62905
a((dp62906
g2
(lp62907
VQuote from the release notes of ASP
p62908
aVNET MVC 3:
p62909
aVIn previous versions of ASP
p62910
aVNET MVC,
p62911
aVaction filters were created per
p62912
aVrequest except in a few cases
p62913
aVThis
p62914
aVbehavior was never a guaranteed
p62915
aVbehavior but merely an implementation
p62916
aVdetail and the contract for filters
p62917
aVwas to consider them stateless
p62918
aVIn
p62919
aVASP
p62920
aVNET MVC 3, filters are cached more
p62921
aVaggressively
p62922
aVTherefore, any custom
p62923
aVaction filters which improperly store
p62924
aVinstance state might be broken
p62925
aVThis basically means that the  instance you have in your action filter might not be what you think it is
p62926
aVSo be careful how/when is this property injected => it is not clear from the code you have shown
p62927
as(dp62928
g16
V29407
p62929
stp62930
a((dp62931
g2
(lp62932
VWhy you are trying to bind the person from the request using the following:
p62933
aVwhen you explicitly know that there is no such thing in the request
p62934
aVThis line invokes the model binder and tries to read it from the request values
p62935
aVBut in your form you only have a single hidden field
p62936
aVSo your action should look like this:
p62937
aVAlso your scenario looks strange
p62938
aVYou have a view which seems to be strongly typed to this  object in which you are using  meaning that you are offering the user possibility to edit those values
p62939
aVIf you serialize the model you will get old values in your controller action
p62940
aVThis attribute is only useful when you want to persist some model between multiple requests but there is no corresponding input fields in the form so that the default model binder can reconstruct the instance in the POST actions
p62941
as(dp62942
g16
V29407
p62943
stp62944
a((dp62945
g2
(lp62946
VYou could select a default startup project for the solution in the menu if you right click on it
p62947
aVThis could also be done if you right click on the solution and go to the properties window where you could select a single or multiple startup projects
p62948
as(dp62949
g16
V29407
p62950
stp62951
a((dp62952
g2
(lp62953
VYou need to set the WorkerSupportsCancellation property to  if you want to be able to send a cancellation request to the worker
p62954
as(dp62955
g16
V29407
p62956
stp62957
a((dp62958
g2
(lp62959
VIf you want the second result ensure that this  helper is inside a form:
p62960
aVAlso passing  as second argument is unlikely something that will work
p62961
aVYou probably meant:
p62962
aVand what I would strongly recommend you is the following:
p62963
aVModel:
p62964
aVController:
p62965
aVView:
p62966
as(dp62967
g16
V29407
p62968
stp62969
a((dp62970
g2
(lp62971
VController actions cannot call javascript functions
p62972
aVThey return action results
p62973
aVJavascript code should be contained on the client side
p62974
aVSo if you want to call a javascript function that should execute under certain circumstances you could subscribe for the corresponding event and when this event is triggered call the function
p62975
aVFor example if you wanted to call a javascript function when a button is clicked using jQuery you could do the following:
p62976
as(dp62977
g16
V29407
p62978
stp62979
a((dp62980
g2
(lp62981
VYou seem to have hardcoded urls which might break when deploying your site under a virtual directory
p62982
aVI would recommend you always using URL helpers when dealing with urls:
p62983
aVUPDATE:
p62984
aVAlso your controller actions normally return ActionResults not strings:
p62985
aVYou will also notice that I have removed the Session call from your controller action
p62986
aVThe reason for this is the the Uploadify plugin uses Flash and Flash doesn't have access to cookies, so when the request is performed there won't be any Session associated with it
p62987
as(dp62988
g16
V29407
p62989
stp62990
a((dp62991
g2
(lp62992
VI don't think that there is any official best practices
p62993
aVPersonally I like to follow RESTful conventions when organizing cotrollers and actions no matter how those actions are consumed (AJAX or not)
p62994
as(dp62995
g16
V29407
p62996
stp62997
a((dp62998
g2
(lp62999
VYour view model could contain a property which would be set by the controller action and which should indicate whether this checkbox should be shown or not:
p63000
as(dp63001
g16
V29407
p63002
stp63003
a((dp63004
g2
(lp63005
VHonestly if you have only a basic knowledge of ASP
p63006
aVNET, learning ASP
p63007
aVNET MVC in two weeks and developing an application according to those requirements could be a challenging task
p63008
aVOf course that's only my personal point of view and it is subjective
p63009
as(dp63010
g16
V29407
p63011
stp63012
a((dp63013
g2
(lp63014
VDon't use global variables for this
p63015
aVUse URL helpers:
p63016
aVInside the  helper you could use some variable to specify user specific paths for the CSS
p63017
aVAlso make sure that the  tag doesn't have a  attribute or you might get some bad surprises
p63018
as(dp63019
g16
V29407
p63020
stp63021
a((dp63022
g2
(lp63023
VYou may take a look at the tutorials here which illustrate how you could use Entity Framework within your application to map those models to SQL tables and perform queries
p63024
as(dp63025
g16
V29407
p63026
stp63027
a((dp63028
g2
(lp63029
VYou could add the error to the modelstate
p63030
aVand assuming that in your view you have a corresponding textbox and an error placeholder:
p63031
aVthe error message will be shown
p63032
as(dp63033
g16
V29407
p63034
stp63035
a((dp63036
g2
(lp63037
VPersonally I like using MVCContrib TestHelper:
p63038
as(dp63039
g16
V29407
p63040
stp63041
a((dp63042
g2
(lp63043
VYou need to allow GET requests which are disabled by default for action returning JSON starting from ASP
p63044
aVNET MVC 2:
p63045
as(dp63046
g16
V29407
p63047
stp63048
a((dp63049
g2
(lp63050
VI am afraid that this is not possible without implementing some custom serialization mechanism (like IXmlSerializable) because imagine that you had this XML and you wanted to deserialize it back to a model
p63051
aVThe serializer cannot possibly know that those properties belong to the complex object
p63052
aVAnother strategy that you could adapt is to simply create a view model class which will be adapted to the desired XML result and then use AutoMapper to map and flatten your model to this view model
p63053
aVYet another possibility is to write your custom serialization mechanism using directly XDocument
p63054
as(dp63055
g16
V29407
p63056
stp63057
a((dp63058
g2
(lp63059
VIt is wrong to believe that you are providing interfaces only for testing
p63060
aVInterfaces are there to provide abstractions and weaken the coupling between the different layers of your code making them more reusable in different contexts
p63061
aVThis being said the answer will depend on the mocking framework you are using
p63062
aVFor example with Rhino Mocks you could have:
p63063
aVand then:
p63064
as(dp63065
g16
V29407
p63066
stp63067
a((dp63068
g2
(lp63069
VYou may also checkout the following blog post
p63070
aVUPDATE:
p63071
aVYou may also do this:
p63072
aVor:
p63073
aVand to invoke:
p63074
as(dp63075
g16
V29407
p63076
stp63077
a((dp63078
g2
(lp63079
VEnsure that the server script you are calling sends proper HTML and it doesn't throw any errors
p63080
aVAlso you may try like this:
p63081
aVLive demo (working under IE8)
p63082
as(dp63083
g16
V29407
p63084
stp63085
a((dp63086
g2
(lp63087
Vand then ensure your view is strongly typed to int:
p63088
as(dp63089
g16
V29407
p63090
stp63091
a((dp63092
g2
(lp63093
VYou probably want an  as view model
p63094
aVIn fact hard to say what you want from your question, but let me try to guess:
p63095
aVModel:
p63096
aVController:
p63097
aVView ():
p63098
aVOr if you use Display Templates (recommended):
p63099
aVand then inside :
p63100
as(dp63101
g16
V29407
p63102
stp63103
a((dp63104
g2
(lp63105
VYou may checkout Postal for using views for sending emails
p63106
as(dp63107
g16
V29407
p63108
stp63109
a((dp63110
g2
(lp63111
VExtension methods should be declared in a static class:
p63112
aVand then in your view make sure you have referenced the namespace containing the static class with the extension method:
p63113
aVor if you want the helper to be available in all Razor views without the need of adding a using directive you could add the corresponding namespace to the namespaces section of  file:
p63114
as(dp63115
g16
V29407
p63116
stp63117
a((dp63118
g2
(lp63119
VYou might try the following connection string:
p63120
aVAlso make sure that Windows Authentication is enabled for the SQL server
p63121
as(dp63122
g16
V29407
p63123
stp63124
a((dp63125
g2
(lp63126
VYou could use  as action argument
p63127
aVassuming that in your form you have:
p63128
as(dp63129
g16
V29407
p63130
stp63131
a((dp63132
g2
(lp63133
VYou may take a look at the tutorials
p63134
as(dp63135
g16
V29407
p63136
stp63137
a((dp63138
g2
(lp63139
VYou could use the Html
p63140
aVSerialize helper from MVC Futures
p63141
as(dp63142
g16
V29407
p63143
stp63144
a((dp63145
g2
(lp63146
VIf the controller is in a different area you may try specifying this area name:
p63147
aVand if you are already inside the area and you want to render an action located on a controller in the root you could try this:
p63148
as(dp63149
g16
V29407
p63150
stp63151
a((dp63152
g2
(lp63153
VBy returning false you are canceling the default link action which is to send a request to your controller action
p63154
aVSo if you do this you will need to manually send a request (AJAX
p63155
aVand use the results from this request to modify the DOM
p63156
aVFor example:
p63157
aVOr you could do this without any javascript
p63158
aVSo for example you could write a custom HTML helper that will generate this menu:
p63159
aVand then simply:
p63160
as(dp63161
g16
V29407
p63162
stp63163
a((dp63164
g2
(lp63165
Vdo i need to generate an xsd file in this case to import this xmlfile into the winform app
p63166
aVNot necessarily
p63167
aVYou can recreate the same class in your WinForms application and deserialize the XML back to it
p63168
aVYou just need to share the instance of the model between the MVC and the WinForms application
p63169
aVAutogenerated EF models are probably not the best solution in this case
p63170
aVI would probably use some other POCO model and have both applications share this model class
p63171
aVIf you don't want to share assemblies between the two applications, given an XML instance you could generate its corresponding class using the xsd
p63172
aVexe utility
p63173
aVdo i need xslt to import it into the winform app
p63174
aVNo
p63175
as(dp63176
g16
V29407
p63177
stp63178
a((dp63179
g2
(lp63180
VI don't really understand what you mean by adding checkboxes to the view without adding them to the viewmodel but let me try to illustrate with some example:
p63181
aVSuppose that you have the following form:
p63182
aVand a controller which would receive the form POST:
p63183
as(dp63184
g16
V29407
p63185
stp63186
a((dp63187
g2
(lp63188
VYou may try like this:
p63189
as(dp63190
g16
V29407
p63191
stp63192
a((dp63193
g2
(lp63194
VFew remarks:
p63195
aVThe function has no return type as you are just showing a message box
p63196
aVIf you want to use it as  and  don't declare it as an extension method, remove  from the parameters
p63197
as(dp63198
g16
V29407
p63199
stp63200
a((dp63201
g2
(lp63202
VYou may take a look at the following blog post
p63203
as(dp63204
g16
V29407
p63205
stp63206
a((dp63207
g2
(lp63208
VYou don't need the intermediary  template nor  if you follow the conventions:
p63209
aVView ():
p63210
aVDisplay template ():
p63211
aVand the  template will automatically be rendered for each element of the  collection
p63212
as(dp63213
g16
V29407
p63214
stp63215
a((dp63216
g2
(lp63217
VYou could write an HttpModule which could be registered in web
p63218
aVconfig:
p63219
aVand in web
p63220
aVconfig:
p63221
aVAnother, more MVCish way would be to write a global action filter:
p63222
aVwhich could be registered in the  method of :
p63223
as(dp63224
g16
V29407
p63225
stp63226
a((dp63227
g2
(lp63228
Vhow can i get it right
p63229
aVIn order to be able to send an email you need an SMTP server
p63230
aVIf you don't have an SMTP server setup you could for debugging purposes put the following in your web
p63231
aVconfig:
p63232
aVNow all emails will be stored in the  folder instead of being sent so that you can check if your code works properly
p63233
aVAs far as configuring a real SMTP server this is a question you might ask on Serverfault because it is off-topic for StackOverflow
p63234
as(dp63235
g16
V29407
p63236
stp63237
a((dp63238
g2
(lp63239
VYour  method already returns a , so in your view you don't need to create yet another one
p63240
aVSo you could modify this method and specify the properties there:
p63241
aVand then in your view:
p63242
as(dp63243
g16
V29407
p63244
stp63245
a((dp63246
g2
(lp63247
VTry clearing the modelstate:
p63248
as(dp63249
g16
V29407
p63250
stp63251
a((dp63252
g2
(lp63253
VYou may find the UriBuilder class useful:
p63254
aVor to make it a little more generic:
p63255
aVand then:
p63256
as(dp63257
g16
V29407
p63258
stp63259
a((dp63260
g2
(lp63261
VIt's strange that your company has 0 tolerance to errors and still lets you write C# code in your views which turn them into spaghetti
p63262
aVAlso you are hardcoding urls instead of using URL helpers which is very bad
p63263
aVSo you could start by slightly improving the code:
p63264
as(dp63265
g16
V29407
p63266
stp63267
a((dp63268
g2
(lp63269
VYour code is vulnerable to XSS attacks as it doesn't HTML encode the text
p63270
aVI would recommend you the following:
p63271
aVand then in your view you can safely:
p63272
as(dp63273
g16
V29407
p63274
stp63275
a((dp63276
g2
(lp63277
VHere's an example
p63278
aVDecorate the web service with the  attribute and then invoke it:
p63279
aVYou could do the same with an ASPX page with PageMethods
p63280
aVThe only requirement is that the client is hosted on the same domain and it doesn't violate the same origin policy
p63281
aVSo for example if the
p63282
aVNET page is hosted on HTTPS and your client page on HTTP you cannot send AJAX requests (that's considered as a violation of the same origin policy)
p63283
as(dp63284
g16
V29407
p63285
stp63286
a((dp63287
g2
(lp63288
VAssuming you have IIS installed locally you could go to the properties of the project and:
p63289
aVYou may also find the following blog post useful
p63290
as(dp63291
g16
V29407
p63292
stp63293
a((dp63294
g2
(lp63295
VThe list values are never POSTed
p63296
aVOnly the selected value
p63297
aVSo in the corresponding action to which you are submitting this form you could use this value to fetch back the list from the database if you ever needed to redisplay the same view
p63298
as(dp63299
g16
V29407
p63300
stp63301
a((dp63302
g2
(lp63303
VThere is no such thing as legacy query string parameters
p63304
aVThere are query string parameters and they are part of the HTTP specification
p63305
aVAnd assuming that the  url is called you don't need any route to make it map to the following action (the default route will do just fine):
p63306
aVThe default model will take care of binding those values
p63307
as(dp63308
g16
V29407
p63309
stp63310
a((dp63311
g2
(lp63312
VTo create a disabled drop down list you could try this:
p63313
as(dp63314
g16
V29407
p63315
stp63316
a((dp63317
g2
(lp63318
VThe following should work:
p63319
as(dp63320
g16
V29407
p63321
stp63322
a((dp63323
g2
(lp63324
VTry like this:
p63325
aVAnd a live demo
p63326
as(dp63327
g16
V29407
p63328
stp63329
a((dp63330
g2
(lp63331
VYou may check the following guide about deploying ASP
p63332
aVNET MVC applications on IIS
p63333
aVAlso if you are using extensionless URLs make sure you have a wildcard mapping for the
p63334
as(dp63335
g16
V29407
p63336
stp63337
a((dp63338
g2
(lp63339
VIt's because you are using Google Chrome or Safari browser :-) Try with IE or FireFox
p63340
aVThe  tag is special and the way it is rendered is browser dependent
p63341
aVHere's an article which illustrates how this tag could be styled so that it looks the same among all browsers
p63342
as(dp63343
g16
V29407
p63344
stp63345
a((dp63346
g2
(lp63347
VYou could use the window
p63348
aVsetInterval function which allows you to execute some custom javascript method at regular intervals
p63349
aVThis method could send an AJAX request and refresh the corresponding DOM element
p63350
as(dp63351
g16
V29407
p63352
stp63353
a((dp63354
g2
(lp63355
VYou could try subscribing for the  event in Global
p63356
aVasax:
p63357
aVYou should note that this event is only triggered if you are using a  session
p63358
aVWith  and  modes this event is never called simply because in the implementation of their corresponding session state providers the SetItemExpireCallback method simply return
p63359
aVQuoting:
p63360
aVHow do the built-in session state
p63361
aVproviders handle expiration callbacks
p63362
aVThe in-process session state provider,
p63363
aVInProcSessionStateStore, stores
p63364
aVsession content in the ASP
p63365
aVNET
p63366
aVapplication cache and takes advantage
p63367
aVof the cache's sliding-expiration
p63368
aVfeature to expire sessions when they
p63369
aVgo for a specified period of time
p63370
aVwithout being accessed
p63371
aVWhen the
p63372
aVprovider is notified via a cache
p63373
aVremoval callback that a session
p63374
aVexpired from the cache, it notifies
p63375
aVSessionStateModule, and
p63376
aVSessionStateModule fires a Session_End
p63377
aVevent
p63378
aVThe other two built-in
p63379
aVproviders\u2014OutOfProcSessionStateStore
p63380
aVand SqlSessionStateStore\u2014don't support
p63381
aVexpiration callbacks
p63382
aVBoth return
p63383
aVfalse from SetItemExpireCallback
p63384
aVOutOfProcSessionStateStore uses the
p63385
aVapplication cache to store sessions,
p63386
aVbut since session data is stored in a
p63387
aVremote process (the "state server"
p63388
aVprocess), the provider doesn't attempt
p63389
aVto notify SessionStateModule when a
p63390
aVsession expires
p63391
aVSqlSessionStateStore
p63392
aVrelies on a SQL Server agent to
p63393
aV"scavenge" the session state database
p63394
aVand clean up expired sessions
p63395
aVHaving
p63396
aVthe agent notify the provider about
p63397
aVexpired sessions so the provider
p63398
aVcould, in turn, notify
p63399
aVSessionStateModule would be a tricky
p63400
aVendeavor indeed-especially in a Web
p63401
aVfarm
p63402
as(dp63403
g16
V29407
p63404
stp63405
a((dp63406
g2
(lp63407
V will be 4 bytes, the overhead is for the parent  object
p63408
as(dp63409
g16
V29407
p63410
stp63411
a((dp63412
g2
(lp63413
VYou could draw Shapes and Graphics with iTextSharp
p63414
as(dp63415
g16
V29407
p63416
stp63417
a((dp63418
g2
(lp63419
VPersonally I like and use FireBug
p63420
as(dp63421
g16
V29407
p63422
stp63423
a((dp63424
g2
(lp63425
VYou could use jsfiddle
p63426
aVnet
p63427
aVPersonally I use it to write and test quick javascript prototypes because all I need is a web browser
p63428
aVIt also allows you to test AJAX requests
p63429
aVHere's one demo I wrote for you that you could enhance
p63430
as(dp63431
g16
V29407
p63432
stp63433
a((dp63434
g2
(lp63435
VNo idea how much time it will take, you should measure it
p63436
aVAll I can say is that showing 5000 records in a grid on a single page is bad from ergonomic perspective
p63437
aVI would recommend you implementing a paging
p63438
as(dp63439
g16
V29407
p63440
stp63441
a((dp63442
g2
(lp63443
VI am not sure you mean by navigate to a view
p63444
aVIn ASP
p63445
aVNET MVC you cannot navigate to a view
p63446
aVYou navigate to controller actions which render the corresponding view
p63447
aVIf you try to drectly access a view in the  folder the access will be denied
p63448
aVTo avoid having Visual Studio always run the current file in the browser you could set a specific page to run in the properties of the project:
p63449
as(dp63450
g16
V29407
p63451
stp63452
a((dp63453
g2
(lp63454
VThe best way is to simply pass this information to the controller action
p63455
aVSo for example you could include the request url as a hidden field:
p63456
aVand inside the corresponding controller action :
p63457
aVYou could also use the controller and action from route data:
p63458
aVand both  and  will be sent in the POST request
p63459
as(dp63460
g16
V29407
p63461
stp63462
a((dp63463
g2
(lp63464
VYou could write a custom attribute deriving from RequiredAttribute and setting those properties:
p63465
as(dp63466
g16
V29407
p63467
stp63468
a((dp63469
g2
(lp63470
VThat's a known limitation of those helpers
p63471
aVOne possibility is to pass it as parameter:
p63472
aVAnother possibility is to write the helper as an extension method:
p63473
aVand then:
p63474
as(dp63475
g16
V29407
p63476
stp63477
a((dp63478
g2
(lp63479
Vor:
p63480
aVAnd here's a live demo
p63481
as(dp63482
g16
V29407
p63483
stp63484
a((dp63485
g2
(lp63486
VI would try to improve your code like this:
p63487
as(dp63488
g16
V29407
p63489
stp63490
a((dp63491
g2
(lp63492
VYou may try the  function:
p63493
aVAnd here's a live demo
p63494
as(dp63495
g16
V29407
p63496
stp63497
a((dp63498
g2
(lp63499
VIn the case of a Guid you can do this
p63500
as(dp63501
g16
V29407
p63502
stp63503
a((dp63504
g2
(lp63505
VYou could use page breaks in your print CSS
p63506
as(dp63507
g16
V29407
p63508
stp63509
a((dp63510
g2
(lp63511
VTry like this:
p63512
aVAlso make sure you have enabled SQL authentication
p63513
as(dp63514
g16
V29407
p63515
stp63516
a((dp63517
g2
(lp63518
VIt seems that  is a variable which you have declared of type  so you cannot call  method on it unless it is a custom extension method in which case make sure that you have included the proper namespace in which this extension method was declared
p63519
aVSo there are three possibilities to make this work:
p63520
aVis a static method on the  class
p63521
aVis an instance method on some class and  is an instance of this class
p63522
aVis an extension method on whatever the type of the  variable is
p63523
as(dp63524
g16
V29407
p63525
stp63526
a((dp63527
g2
(lp63528
VObviously that's ugly and I don't recommend it
p63529
aVDon't even know why I am posting it
p63530
aVProbably to say that it should never be used
p63531
aVHere's the correct way to do it (by using strongly typed view):
p63532
aVand in your view:
p63533
as(dp63534
g16
V29407
p63535
stp63536
a((dp63537
g2
(lp63538
VAssuming you have a DateTime instance which will hold the user selection:
p63539
aVor as suggested by @Paulo Santos in the comments section you could also:
p63540
as(dp63541
g16
V29407
p63542
stp63543
a((dp63544
g2
(lp63545
VYou could use the conditional operator ():
p63546
as(dp63547
g16
V29407
p63548
stp63549
a((dp63550
g2
(lp63551
VLet's modify your model a little:
p63552
aVthen you could have a controller:
p63553
aVthen you would have a corresponding view () which would contain the form allowing the user to check/uncheck values:
p63554
aVand finally the editor template ():
p63555
as(dp63556
g16
V29407
p63557
stp63558
a((dp63559
g2
(lp63560
VYour question is difficult to understand but if you want to get the size of the uploaded file in a controller action you could use the ContentLength property:
p63561
aVIf on the other hand your controller action is transferring some file to the client:
p63562
as(dp63563
g16
V29407
p63564
stp63565
a((dp63566
g2
(lp63567
VTo set an item in local storage:
p63568
aVTo read an item from local storage:
p63569
aVTo apply yellow background color to the DOM element using jquery:
p63570
as(dp63571
g16
V29407
p63572
stp63573
a((dp63574
g2
(lp63575
VIt's to avoid any potential problems if you concatenate/compress/minify your javascript files into a single one
p63576
as(dp63577
g16
V29407
p63578
stp63579
a((dp63580
g2
(lp63581
VThis will depend on what this code represents
p63582
aVCould be a string, integer, GUID,
p63583
as(dp63584
g16
V29407
p63585
stp63586
a((dp63587
g2
(lp63588
VTry like this:
p63589
as(dp63590
g16
V29407
p63591
stp63592
a((dp63593
g2
(lp63594
V =>
p63595
aValso the  tag is not self closing
p63596
aVYou always need to provide a closing  tag
p63597
aVLive demo here
p63598
as(dp63599
g16
V29407
p63600
stp63601
a((dp63602
g2
(lp63603
VIn the original example that I provided I was calling the extension method directly on Html:
p63604
aVYou could also call the method directly as you are trying but you need to provide the html helper as first argument:
p63605
aVwhich obviously is extremely ugly and it is not how extension methods, which is what HTML helpers are, were supposed to work
p63606
aVThe reason you might be getting an error if you was using the first syntax is because you didn't bring the extension method in scope by putting  on the top of your view or adding this namespace to the  section of
p63607
as(dp63608
g16
V29407
p63609
stp63610
a((dp63611
g2
(lp63612
VSearch for any  tag in all your pages (master, views, controls,
p63613
aVand remove it (especially things like )
p63614
aVThose attributes should no longer be present in an ASP
p63615
aVNET MVC application
p63616
as(dp63617
g16
V29407
p63618
stp63619
a((dp63620
g2
(lp63621
VNo, it is not possible to have views with generic type if this generic type is not known
p63622
aVYou cannot define a model like this:
p63623
aVhas to be known:
p63624
aVThis being said I would recommend you instead of trying to reuse some models you had in your old system to think of what view models you might put in place and which will be passed to the views
p63625
as(dp63626
g16
V29407
p63627
stp63628
a((dp63629
g2
(lp63630
VYou could use the XmlSerializer class
p63631
aVThere is also the DataContractSerializer which was introduced with WCF
p63632
aVFor example if you wanted to serialize an existing object to XML using the  class:
p63633
aVand to deserialize back a XML to an existing model:
p63634
as(dp63635
g16
V29407
p63636
stp63637
a((dp63638
g2
(lp63639
VThat's a typical scenario which perfectly illustrates the limitations of declarative validation (a
p63640
ag42822
aVa Data Annotations)
p63641
aVIn order to handle it you could write a custom validation attribute which will be applied to the  instead of individual properties and will allow you to perform the validation logic based on which radio button the user choose (btw you will need a property on your view model which will represent the radio button selection)
p63642
aVThe problem with model validators is that you might have some hard time handling the error highlighting
p63643
aVThat's one of the reasons why I use FluentValidation
p63644
aVNET instead of Data Annotations
p63645
aVThis allows me to have the validation logic away from the model and done in an imperative way
p63646
aVIt also allows me to have conditional validators which apply based on the values of some properties on the view model (in this case this would be the radio button selection)
p63647
as(dp63648
g16
V29407
p63649
stp63650
a((dp63651
g2
(lp63652
VThe  file is used only when you build a deployment package
p63653
aVIf you run your site locally in Cassini for example it is completely ignored
p63654
aVSo you may try disabling cache in your :
p63655
aVand in your  enable the cache
p63656
aVNote though that if you don't use the web deployment package feature those files are completely ignored
p63657
as(dp63658
g16
V29407
p63659
stp63660
a((dp63661
g2
(lp63662
VSet the proper content type on your server in order to have jQuery automatically parse the XML:
p63663
aVAdditionally you could set  but that's not necessary if your server is properly configured to send the correct content type
p63664
aVHere's a live demo
p63665
as(dp63666
g16
V29407
p63667
stp63668
a((dp63669
g2
(lp63670
VThere is a problem with your view model because the  property should be a collection if you want a drop down list
p63671
aVAlso your Material class is missing an ID property
p63672
aVSo:
p63673
aVand then in your strongly typed view:
p63674
as(dp63675
g16
V29407
p63676
stp63677
a((dp63678
g2
(lp63679
VYou would use  when the DOM elements to which you are attaching the events could be modified/replaced
p63680
aVIt has an additional overhead as it will listen for DOM modifications
p63681
aVSo use it only if you know that the DOM elements will be modified in order to avoid the need of reattaching them
p63682
aVFor example if you use AJAX to replace portions of your page with some new content and this portions contained DOM elements to which you was attaching events you need to use
p63683
aVOtherwise use standard
p63684
as(dp63685
g16
V29407
p63686
stp63687
a((dp63688
g2
(lp63689
VWCF doesn't create new threads
p63690
aVIt uses threads from a thread pool to service requests
p63691
aVSo when a request begins it draws a thread from this pool to execute the request and after it finishes it returns the thread to the pool
p63692
aVThe way that WCF uses threads underneath is an implementation detail that you should not rely on
p63693
aVYou should never use Thread Static in ASP
p63694
aVNET/WCF to store state
p63695
aVIn ASP
p63696
aVNET you should use   and in WCF  to store some state that would be available through the entire request
p63697
aVHere's a good blog post you may take a look at which illustrates a nice way to abstract this
p63698
as(dp63699
g16
V29407
p63700
stp63701
a((dp63702
g2
(lp63703
VYou need a separate script inclusion for jquery:
p63704
as(dp63705
g16
V29407
p63706
stp63707
a((dp63708
g2
(lp63709
VYou haven't shown how does your view model look like but you could group them by some property
p63710
aVSo let's take an example:
p63711
aVController:
p63712
aVView:
p63713
aVNow if you want to preselect some radio simply set the property of the view model to the corresponding value of the radio instead of writing some ugly C# code in your views:
p63714
aVObviously this technique works with any simple property type (not only strings) and with any number of radio buttons that could be associated to this property
p63715
as(dp63716
g16
V29407
p63717
stp63718
a((dp63719
g2
(lp63720
VYou cannot pass complex object parameters when redirecting
p63721
aVYou could pass it's constituent properties and leave the default model binder do the job of reconstructing it
p63722
aVSo assuming you have the following model:
p63723
aVyou could redirect like this:
p63724
aVAlso for handling authorization I would recommend you writing a custom  instead of a custom
p63725
aVIt's semantically more correct
p63726
as(dp63727
g16
V29407
p63728
stp63729
a((dp63730
g2
(lp63731
VUnfortunately that's how this attribute is implemented
p63732
aVHere's an excerpt from the constructor of this attribute:
p63733
aVNotice the  test against the  at the end that's killing everything
p63734
aVYou could fix it by writing a custom remote attribute:
p63735
aVand then:
p63736
aVNow the proper  will be generated
p63737
as(dp63738
g16
V29407
p63739
stp63740
a((dp63741
g2
(lp63742
VThis is happening because you probably have a virtual directory in production server and not on localhost
p63743
aVSo always use URL helpers when dealing with urls and never hardcode them as you did in your example:
p63744
aVYou could use relative paths only inside CSS files (for background images for example)
p63745
aVInside CSS files paths are relative to the location of the CSS, but the inclusion of the CSS itself should be done using helpers of course:
p63746
as(dp63747
g16
V29407
p63748
stp63749
a((dp63750
g2
(lp63751
VYou shouldn't use any server side controls () in an ASP
p63752
aVNET MVC application because that they rely on ViewState and PostBack which are notions that no longer exist in ASP
p63753
aVNET MVC
p63754
aVThe only exception makes  panels used by the webforms view engine to implement master pages
p63755
aVAlso there is no notion of binding
p63756
aVIn ASP
p63757
aVNET MVC you have a model, a controller and a view
p63758
aVThe controller populates some model and passes it to the view to be shown
p63759
aVThe view itself could use HTML helpers to generate simple markup or include other partial views for more complex scenarios
p63760
aVSo you start with defining a model:
p63761
aVthen you have a controller which will manipulate this view model:
p63762
aVand finally you would have a strongly typed view to this model where you would show the markup:
p63763
as(dp63764
g16
V29407
p63765
stp63766
a((dp63767
g2
(lp63768
VThere is absolutely no difference in terms of emitted IL
p63769
aVBut in the second case you are writing more code which IMHO is not necessary especially when you want to declare multiple  instances in the same class
p63770
aVIt's simply useless to be that much explicit when declaring a variable type
p63771
aVActually an even shorter way would be:
p63772
aVIt's even easier with Shift+Alt+F10+Enter because in this case you only write:
p63773
aVand Visual Studio automatically adds the proper  after putting the cursor over
p63774
as(dp63775
g16
V29407
p63776
stp63777
a((dp63778
g2
(lp63779
VNo, there isn't, and this is a good thing as it would be extremely annoying for the user
p63780
aVWhether a user wants to upload some file is in is control only, personally I would hate a site automatically sticking an Open Dialog into my nose when I visit it
p63781
as(dp63782
g16
V29407
p63783
stp63784
a((dp63785
g2
(lp63786
Vand if you wanted to get its index in the collection:
p63787
aVReference:  and  functions
p63788
as(dp63789
g16
V29407
p63790
stp63791
a((dp63792
g2
(lp63793
VI doubt there is a library that could work against all the possible sites you can list
p63794
aVYou could use DotNetOpenAuth for OpenID
p63795
as(dp63796
g16
V29407
p63797
stp63798
a((dp63799
g2
(lp63800
VYou are trying to access the  which might not be assigned due to the asynchronous nature of AJAX calls
p63801
aVThe only safe place to access it is inside the success callback
p63802
aVAlso you could use the  function to get the contents of the body tag:
p63803
aVAlso note that if the  only echoes  without a  tag it won't work
p63804
as(dp63805
g16
V29407
p63806
stp63807
a((dp63808
g2
(lp63809
VYou could decorate your view model properties with the  validation attribute to ensure that two propery values are matching
p63810
as(dp63811
g16
V29407
p63812
stp63813
a((dp63814
g2
(lp63815
VYou should narrow down your search wildcard to avoid hitting system or locked files or you will always get this exception
p63816
aVIn
p63817
aVNET 4
p63818
aV0 you could use the EnumerateFiles method which will perform the search lazily and you could catch the exception
p63819
as(dp63820
g16
V29407
p63821
stp63822
a((dp63823
g2
(lp63824
VFirst thing you cannot have the same action name on the same controller that is accessible on the same verb
p63825
aVYou need to either change the action name or use a different HTTP verb:
p63826
aVand in order to pass data between actions, well, if you are using GET, you could pass them as query string parameters when redirecting
p63827
aVOr IMHO a better way would be not to redirect in this case but simply return the corresponding view by passing it the proper view model:
p63828
as(dp63829
g16
V29407
p63830
stp63831
a((dp63832
g2
(lp63833
VA repeater has no notion of columns
p63834
aVYou can consider it as a simple  loop in your view
p63835
aVWhen you query  this returns the number of rows you have in the dataset that this repeater is bound to
p63836
as(dp63837
g16
V29407
p63838
stp63839
a((dp63840
g2
(lp63841
VYou can store the image wherever you want on your server as long as you provide write permissions to that folder
p63842
aVObviously if you want to access it from another ASP
p63843
aVNET application you can no longer use relative paths
p63844
aVSo if the  site root is physically mapped to you could save the file as absolute path at  folder
p63845
aVThe MVC application that is saving the file has no way of knowing how is this other site configured so you could externalize the other site root path at your
p63846
as(dp63847
g16
V29407
p63848
stp63849
a((dp63850
g2
(lp63851
VWhy are you using  instead of view models and strongly typed views
p63852
aVIt's ugly/bad/weakly typed/crap/(put any bad word/curse you can think of here)
p63853
aVAnd if, despite my rant you decide to use , here's the correct syntax:
p63854
aVOr the correct way using view models of course:
p63855
aVand then:
p63856
as(dp63857
g16
V29407
p63858
stp63859
a((dp63860
g2
(lp63861
VYou could use some jQuery plugin which would allow you to create nice dropdown lists with images
p63862
as(dp63863
g16
V29407
p63864
stp63865
a((dp63866
g2
(lp63867
VIf you are using jquery
p63868
aVvalidate:
p63869
aVAnother possibility is to hook at the plugin options:
p63870
aVIf you are using MSAjax then good luck with this
p63871
as(dp63872
g16
V29407
p63873
stp63874
a((dp63875
g2
(lp63876
VThe correct way to render a readonly checkbox is this:
p63877
aVNotice the usage of the strongly typed  helper instead of  as you already have a strongly typed view
p63878
aVAnd obviously for this to work the  property on your model must be of type boolean as that's the only possible type that would make sense for a checkbox
p63879
as(dp63880
g16
V29407
p63881
stp63882
a((dp63883
g2
(lp63884
VOne way to achieve this would be to write a custom editor template :
p63885
aVand then on your model:
p63886
aVand finally on your view:
p63887
aVor if you wanted all doubles in your application to behave like this use the  without any
p63888
as(dp63889
g16
V29407
p63890
stp63891
a((dp63892
g2
(lp63893
VDo I need a crossdomain
p63894
aVxml file for my MVC2 site
p63895
aVOnly if you want it to be accessible cross domain from client Flash scripts
p63896
aVAlso to avoid this error you could exclude it from your routes:
p63897
as(dp63898
g16
V29407
p63899
stp63900
a((dp63901
g2
(lp63902
VYou can name the editor template  where  is the type of the list:
p63903
aVThen simply:
p63904
aVand if  is an  your editor template will be automatically rendered for each element of this list
p63905
aVSo if you already have editor templates for the basic data types such as String, Decimal, DateTime,
p63906
aVwhen you do  your editor templates will be picked up
p63907
as(dp63908
g16
V29407
p63909
stp63910
a((dp63911
g2
(lp63912
VIs it possible to host a silverlight application in an ASP
p63913
aVNET MVC 2 View
p63914
aVYes, simply use the VS2010 Silverlight 4
p63915
aV0 application creation wizard and select ASP
p63916
aVNET MVC site to host it instead of classic ASP
p63917
aVNET site:
p63918
aVAlso, are there any good frameworks out there for creating online wizard applications like the one I need to create
p63919
aVHard to say from I need to write a little wizard application into which a user inputs some information
p63920
as(dp63921
g16
V29407
p63922
stp63923
a((dp63924
g2
(lp63925
VWhile I cannot answer your question about why there isn't a plethora of plugins using portable areas because this is a subjective question I can tell you why I don't use them: because they rely on custom VirtualPathProvider which don't work if your site is precompiled and I precompile my web applications before shipping
p63926
aVI use NuGet instead of portable areas and there begin to be a plethora of packages distributed using this technology
p63927
as(dp63928
g16
V29407
p63929
stp63930
a((dp63931
g2
(lp63932
VThe second  assignment is erasing the first
p63933
aVSo if you have two  assignments on the same page pointing to two different handlers the second will win
p63934
aVYou will need to merge them into a single one:
p63935
as(dp63936
g16
V29407
p63937
stp63938
a((dp63939
g2
(lp63940
VYou could use the , ,  or
p63941
as(dp63942
g16
V29407
p63943
stp63944
a((dp63945
g2
(lp63946
VAn AJAX call doesn't return DOM elements
p63947
aVIt sends an asynchronous HTTP request to a server side script which returns a result which could be of any type HTML, XML, JSON,
p63948
aVThis result is then passed to the  callback for processing:
p63949
aVSo for example if your server side script returned some HTML content and you wanted to extract a particular element you could do this:
p63950
as(dp63951
g16
V29407
p63952
stp63953
a((dp63954
g2
(lp63955
VI think that you are missing some very basic concepts about ASP
p63956
aVNET MVC here
p63957
aVIn ASP
p63958
aVNET MVC there is no such thing as , nor any callbacks
p63959
aVThere is no ViewState nor PostBacks
p63960
aVEven if it is based on ASP
p63961
aVNET, ASP
p63962
aVNET MVC is a fundamentally different framework
p63963
aVIn ASP
p63964
aVNET MVC you have Models, Controllers and Views
p63965
aVSo if you want to send values from one view to another controller action you could use a form with HTML helpers:
p63966
aVI would recommend you going through the tutorials here: http://asp
p63967
aVnet/mvc to familiarize yourself with the basic notions of MVC
p63968
as(dp63969
g16
V29407
p63970
stp63971
a((dp63972
g2
(lp63973
VMake sure you put this code in a document
p63974
aVready:
p63975
aVLive demo
p63976
as(dp63977
g16
V29407
p63978
stp63979
a((dp63980
g2
(lp63981
VData Annotations/attributes are baked at compile time and you cannot add them dynamically
p63982
aVI would recommend you to avoid passing/getting your EF models to/from the views
p63983
aVYou should be using view models which are classes specifically tailored to the needs of a given view
p63984
aVIt is those view models that will handle the would handle view specific validations such required, format,
p63985
aVYou could then use AutoMapper to have your controller map between your view models and the EF models
p63986
as(dp63987
g16
V29407
p63988
stp63989
a((dp63990
g2
(lp63991
VNo, you should not clutter your views with , that's not a view's responsibility to check roles, that's a controller/authorize filter job to populate your view model so that in view you only have:
p63992
aVAlso note that if you decorate a controller action with the standard  attribute and a user has no sufficient roles this action might never be executed and the view never hit
p63993
aVPersonally I find the Developer Highway Code as an extremely useful security checklist even if it is not restricted to MVC
p63994
as(dp63995
g16
V29407
p63996
stp63997
a((dp63998
g2
(lp63999
VYour question is extremely unclear but I suspect that you are trying to modify some value in a POST action and you are still seeing the old value when the view is rendered
p64000
aVIf this is the case you need to remove it from the modelstate or html helpers will always bind the old value:
p64001
aVAlso note that there is absolutely no caching involved with editor/display templates
p64002
as(dp64003
g16
V29407
p64004
stp64005
a((dp64006
g2
(lp64007
VHere's my toolchain:
p64008
aVASP
p64009
aVNET MVC 3 with Razor for the UI part
p64010
aVNHibernate with FluentNHibernate for data access
p64011
aVFluentValidation
p64012
aVNET for validation rules
p64013
aVAutoMapper for mapping between the business models and the view models
p64014
aVMVContrib
p64015
aVI also built a sample project structure using those frameworks
p64016
as(dp64017
g16
V29407
p64018
stp64019
a((dp64020
g2
(lp64021
VYour connection string is configured to use Integrated Windows Authentication ()
p64022
aVFor this to work make sure you have enabled NTLM in IIS
p64023
aVAlso if the SQL Server is on a different physical machine than the web server you might need to configure delegation
p64024
aVAs an alternative you could use SQL authentication with a fixed account:
p64025
as(dp64026
g16
V29407
p64027
stp64028
a((dp64029
g2
(lp64030
VThis code cannot work because your LINQ query is returning an anonymous object so you cannot strongly type your view
p64031
aVSo the first step would be to define a view model which will represent the information you are willing to display on your view:
p64032
aVthen in your controller action you would return a collection of this view model:
p64033
aVand finally in your strongly typed view:
p64034
aVand in the corresponding display template () which will be rendered for each item of the collection:
p64035
as(dp64036
g16
V29407
p64037
stp64038
a((dp64039
g2
(lp64040
s(dp64041
g16
V29407
p64042
stp64043
a((dp64044
g2
(lp64045
VYou cannot disable the back button
p64046
aVYou could try cheating by putting the following script in the view of step 1:
p64047
as(dp64048
g16
V29407
p64049
stp64050
a((dp64051
g2
(lp64052
VYou need to specify the language as it is not an optional parameter in your route:
p64053
as(dp64054
g16
V29407
p64055
stp64056
a((dp64057
g2
(lp64058
VSo is there any way for using same Applicant Class For different view and also validate only those Properties which i have used in view not those which have not used in view
p64059
aVI would recommend you creating view models for each view and having validation properties adapted to the needs of each view
p64060
as(dp64061
g16
V29407
p64062
stp64063
a((dp64064
g2
(lp64065
VIf you don't use cookies and don't want to pass anything in the URL (or hidden fields in a POST request) your server simply cannot distinguish the users
p64066
aVDon't forget that HTTP is a stateless protocol
p64067
aVYou could implement some sort of custom HTTP headers that would be sent along each request and allow you to track users but when you think about it: that's exactly what cookies do, so instead of reinventing the wheel, use cookies :-)
p64068
as(dp64069
g16
V29407
p64070
stp64071
a((dp64072
g2
(lp64073
VDon't pass your EF models to the view
p64074
aVDefine view models which are classes specifically tailored to the needs of a given view
p64075
aVYou don't need many-to-many recursive relations in the view
p64076
aVSo in the case where you want to generate a checkbox you would have a corresponding boolean property on your view model
p64077
aVIt's the controller that would query the repository, fetch the EF models, map them to the view model (this task could be simplified with frameworks such as AutoMapper) and finally pass the view model to the view so that in your view you simply:
p64078
aVAnd if you wanted to have a list of checkboxes then your view model would contain a collection property of some type that will hold the boolean property
p64079
as(dp64080
g16
V29407
p64081
stp64082
a((dp64083
g2
(lp64084
VThat's normal and it is how HTML helpers work : they look first in the model state and then in the model when binding a value
p64085
aVSo if you intend to modify some property in the POST action you need to remove it from the model state first or you will always get the old value:
p64086
as(dp64087
g16
V29407
p64088
stp64089
a((dp64090
g2
(lp64091
VIs what I'm trying to do even possible
p64092
aVYes but it would be extremely ugly and it involves using a code behind (in an ASP
p64093
aVNET MVC view
p64094
ag9596
aVand in the corresponding code behind  (beurk
p64095
aV, I will vomit):
p64096
aVwhich could be improved like this to avoid the code behind nonsense:
p64097
aVI wouldn't recommend you doing something like this if you intend to migrate to ASP
p64098
aVNET MVC 3 and the Razor view engine one day
p64099
as(dp64100
g16
V29407
p64101
stp64102
a((dp64103
g2
(lp64104
VYou don't need to call  in MVC
p64105
aVYou could use the  attribute
p64106
aVCheckout the following blog post
p64107
as(dp64108
g16
V29407
p64109
stp64110
a((dp64111
g2
(lp64112
VYou may try this:
p64113
as(dp64114
g16
V29407
p64115
stp64116
a((dp64117
g2
(lp64118
VI would recommend you use a custom authorize attribute instead of :
p64119
aVand then:
p64120
aVAlso a very important thing is to ensure that when you login an authentication cookie is emitted because you return an XML file
p64121
aVUse FireBug to inspect whether the authentication cookie is properly sent when you try to access the url
p64122
as(dp64123
g16
V29407
p64124
stp64125
a((dp64126
g2
(lp64127
VSteps:
p64128
aVCreate a new ASP
p64129
aVNET MVC 3 project
p64130
aVInstall the NuGet package from the Package Console:
p64131
aVIn HomeController:
p64132
aVIn :
p64133
as(dp64134
g16
V29407
p64135
stp64136
a((dp64137
g2
(lp64138
VYou should do this in the main  file, not the one in :
p64139
aVAlso ensure that  is present as this will be the rendered view in case of an exception
p64140
aVAnd you no longer need to decorate your controller with the  attribute as ASP
p64141
aVNET MVC 3 uses a global filter for this
p64142
as(dp64143
g16
V29407
p64144
stp64145
a((dp64146
g2
(lp64147
VNo, that's not supported by the MVCContrib pager out of the box
p64148
aVYou will need to build a custom pager to support this
p64149
as(dp64150
g16
V29407
p64151
stp64152
a((dp64153
g2
(lp64154
VIt depends
p64155
aVIf you use unobtrusive javascript and progressive enhancement meaning that in your page you have links:
p64156
aVwhich would be AJAXified in some external js file, web crawlers will follow those links as all normal links and if the server returns content this content will be indexed just as all other content of your site
p64157
aVBut if the url is built with javascript, then, no, it won't be indexed as crawlers normally do not execute javascript
p64158
aVI would also recommend you providing a sitemap as well
p64159
as(dp64160
g16
V29407
p64161
stp64162
a((dp64163
g2
(lp64164
VYou could write a custom  for this purpose:
p64165
aVand then decorate the controllers/actions which would normally require authentication with this attribute:
p64166
as(dp64167
g16
V29407
p64168
stp64169
a((dp64170
g2
(lp64171
VIn :
p64172
aVand in the controller:
p64173
as(dp64174
g16
V29407
p64175
stp64176
a((dp64177
g2
(lp64178
VI implement mapping logic between models and view models in the ASP
p64179
aVNET MVC tier which is the frontend tier referencing both the business objects tier and the view models which are part of it
p64180
aVI use AutoMapper for this mapping logic
p64181
as(dp64182
g16
V29407
p64183
stp64184
a((dp64185
g2
(lp64186
VYou could write a custom helper to personalize this:
p64187
aVand then:
p64188
as(dp64189
g16
V29407
p64190
stp64191
a((dp64192
g2
(lp64193
VThis article could help you build one:
p64194
as(dp64195
g16
V29407
p64196
stp64197
a((dp64198
g2
(lp64199
VYou need to increase the maximum allowed upload file size
p64200
as(dp64201
g16
V29407
p64202
stp64203
a((dp64204
g2
(lp64205
VIf you need to display multiple dropdown lists then you might need to adapt your view model
p64206
aVSo let's take an example:
p64207
aVthen have a controller action which will populate this view model:
p64208
aVand then have a corresponding strongly typed view:
p64209
aVand in the corresponding editor template ():
p64210
as(dp64211
g16
V29407
p64212
stp64213
a((dp64214
g2
(lp64215
V1: How do I make sure the validation is not run until after the user presses submit
p64216
aVThis should already be the case
p64217
aVIf you have a GET action rendering this form and supplying a view model there won't be any validation errors
p64218
aVIt's the POST action that would show the validation messages and if you have client validation enabled it could also happen
p64219
aV2: How do I display the validation summary
p64220
aVYou already did:
p64221
aV3: How do I make the "username" field choosen by default and ready to accept input
p64222
aVYou could use javascript:
p64223
as(dp64224
g16
V29407
p64225
stp64226
a((dp64227
g2
(lp64228
VThen 'd' turns out as 22
p64229
aVAnd you expect to turn into what
p64230
aVThe zeros are still there:
p64231
as(dp64232
g16
V29407
p64233
stp64234
a((dp64235
g2
(lp64236
VWill surrounding the Parallel
p64237
aVForEach statement with try
p64238
aVcatch work if the threads throw any errors or will they just die out
p64239
aVNo, you need to put try/catch inside the sub threads
p64240
as(dp64241
g16
V29407
p64242
stp64243
a((dp64244
g2
(lp64245
VIf you have a  its associated views need to be located at
p64246
aVFor example:
p64247
aVand then you would have the corresponding view in :
p64248
aVand finally you generate a link to the  action of the  like this:
p64249
as(dp64250
g16
V29407
p64251
stp64252
a((dp64253
g2
(lp64254
VThe cache for child actions is stored in the OutputCacheAttribute
p64255
aVChildActionCache property
p64256
aVThe problem is that the API generating ids for child actions and storing them in this object is not public (WHY Microsoft
p64257
aVSo if you try to loop through the objects in this collection you will discover that it will also contain the cached value for your child action but you won't be able to identify it unless you reverse engineer the algorithm being used to generate keys which looks something like this (as seen with Reflector):
p64258
aVSo you could perform the following madness:
p64259
aVwhich obviously will invalidate all cached child actions which might not be what you are looking for but I am afraid is the only way other than of course reverse engineering the key generation :-)
p64260
aV@Microsoft, please, I am begging you for ASP
p64261
aVNET MVC 4
p64262
aV0:
p64263
aVintroduce the possibility to do donut caching in addition to donut hole caching
p64264
aVintroduce the possibility to easily expire the result of a cached controller action (something more MVCish than )
p64265
aVintroduce the possibility to easily expire the result of a cached child action
p64266
aVif you do 1
p64267
aVthen obviously introduce the possibility to expire the cached donut portion
p64268
as(dp64269
g16
V29407
p64270
stp64271
a((dp64272
g2
(lp64273
VNot out of the box
p64274
aVYou may take a look at MVCContrib Portable Areas which use a custom VirtualPathProvider allowing you to embed areas as resources into separate assemblies
p64275
aVIf you are using ASP
p64276
aVNET MVC 3 you could also take a look at the following blog post
p64277
aVBe careful though as this might not work if you precompile your web application
p64278
as(dp64279
g16
V29407
p64280
stp64281
a((dp64282
g2
(lp64283
VYou need to add a space between the url and the selector:
p64284
as(dp64285
g16
V29407
p64286
stp64287
a((dp64288
g2
(lp64289
VIMHO logic like this is fine for a view:
p64290
as(dp64291
g16
V29407
p64292
stp64293
a((dp64294
g2
(lp64295
V is a server control that relies on ViewState and PostBack which are notions that no longer exist in ASP
p64296
aVNET MVC so you shouldn't be using any server controls
p64297
aVBecause there are no postbacks and view callbacks your function won't be triggered
p64298
aVAlso make sure you remove the  tag from your form and use HTML helpers to generate forms
p64299
aVTo implement a calendar in ASP
p64300
aVNET MVC you may checkout the jQuery UI datepicker
p64301
aVSo here's how you might proceed:
p64302
aVAs always you start with the M(odel) in MVC which will represent the information you are willing to show (in your case a date):
p64303
aVThen you get to the C(ontroller) in MVC:
p64304
aVThen the V(iew) in MVC:
p64305
aVand then you could have a separate javascript file in which you would attach the datepicker after having included jquery and jquery UI scripts to your page:
p64306
aVand if you wanted the form to automatically submit when the user picks a value:
p64307
aVA good place to start with MVC is here: http://asp
p64308
aVnet/mvc
p64309
as(dp64310
g16
V29407
p64311
stp64312
a((dp64313
g2
(lp64314
VDid you dispose the stream the last time you opened it:
p64315
aVBut in this case I suspect it's really a permissions issue
p64316
aVYou could procmon from SysInternals to see exactly what process is trying to open the file and under which account this process executes
p64317
as(dp64318
g16
V29407
p64319
stp64320
a((dp64321
g2
(lp64322
VWell:
p64323
aVAs far as the take input part is concerned because it is the user entering this value you will probably get a string that you will need to parse back to a number:
p64324
aVAnd if you wanted to handle errors gracefully you could use the TryParse method
p64325
as(dp64326
g16
V29407
p64327
stp64328
a((dp64329
g2
(lp64330
VWorks for me
p64331
aVSteps:
p64332
aVIn  add
p64333
aVDecorate your model:
p64334
aVIn the view leave the corresponding field empty:
p64335
aVIf you submit the form leaving empty the following messages is displayed:
p64336
as(dp64337
g16
V29407
p64338
stp64339
a((dp64340
g2
(lp64341
VSo then I went with a $
p64342
aVpost from a click handler
p64343
aVThe problem I'm having is that I'm not sure what to do in my success: function() to return the file stream result to the user
p64344
aVOr even if I can
p64345
aVExactly
p64346
aVYou can't do much with a received byte in javascritpt: obviously you cannot save it on the client computer nor pass it to some external program on the client
p64347
aVSo don't call actions that are supposed to return files using AJAX
p64348
aVFor those actions you should use normal links:
p64349
aVand let the user decide what to do with the file
p64350
aVYou could play with the  header and set it to either  or  depending on whether you want the file to be opened with the default associated program inside the browser or prompt the user with a Save File dialog
p64351
aVUPDATE:
p64352
aVIt seems that I have misunderstood the question
p64353
aVIf you want to append parameters to an existing link you could subscribe for the click event in javascript and modify the href by appending the necessary parameters to the query string:
p64354
as(dp64355
g16
V29407
p64356
stp64357
a((dp64358
g2
(lp64359
VYou may take a look at the following blog post for properly configuring Unity with ASP
p64360
aVNET MVC 3
p64361
as(dp64362
g16
V29407
p64363
stp64364
a((dp64365
g2
(lp64366
VThat's probably because the client doesn't know what implementations exist for this interface as they are not part of the exposed metadata
p64367
aVYou could use known types to include those possible implementation in the WSDL
p64368
as(dp64369
g16
V29407
p64370
stp64371
a((dp64372
g2
(lp64373
VCheckboxes usually go along with HTML forms, not action links
p64374
aVSo put them inside a form and use a submit button which will automatically send the checked values to the corresponding controller action
p64375
aVIf you want to use links you will need to write javascript code that will subscribe for the click event of the link, extract the values of checkboxes, modify the URL this link is pointing to in order to append those values to the query string which IMHO is too much of a work for something so simple
p64376
aVOf course you can have multiple submit buttons with different names inside a single HTML  and in the corresponding controller action you will be able to get the name of the button that was clicked so that you could perform different action
p64377
aVAlso I would strongly recommend you using the HTTP POST or PUT verb for something that is modifying state on the server
p64378
aVUPDATE:
p64379
aVAs requested in the comments section I include an example
p64380
aVAs always you start with a model:
p64381
aVthen you move on the controller:
p64382
aVthen you would have a strongly typed view in which you will use editor templates:
p64383
aVand the last part would be the corresponding editor template which will be rendered for each item in the Jobs collection ():
p64384
as(dp64385
g16
V29407
p64386
stp64387
a((dp64388
g2
(lp64389
VYou cannot bind an empty string to a value type () so the default model binder marks your model as invalid
p64390
aVIf you want to allow empty values you should use a nullable byte:
p64391
aVUPDATE:
p64392
aVAnother possibility is to use a collection of a custom type containing two properties each representing respectively the key and the value
p64393
aVThen use strongly typed helpers and editor templates in your view so that you don't have to worry about the wire format and finally you will need to ensure that the keys are unique so you will need a custom validator
p64394
aVPersonally I use FluentValidation
p64395
aVNET for this part but if you are using data annotations you will need a custom attribute which will be used to decorate the collection property in the view model
p64396
as(dp64397
g16
V29407
p64398
stp64399
a((dp64400
g2
(lp64401
VYou are initializing your unit of work in the constructor of the action filter which means that it will be injected when the action filter is instantiated
p64402
aVQuote from the ASP
p64403
aVNET MVC 3 release notes:
p64404
aVIn previous versions of ASP
p64405
aVNET MVC,
p64406
aVaction filters were created per
p64407
aVrequest except in a few cases
p64408
aVThis
p64409
aVbehavior was never a guaranteed
p64410
aVbehavior but merely an implementation
p64411
aVdetail and the contract for filters
p64412
aVwas to consider them stateless
p64413
aVIn
p64414
aVASP
p64415
aVNET MVC 3, filters are cached more
p64416
aVaggressively
p64417
aVTherefore, any custom
p64418
aVaction filters which improperly store
p64419
aVinstance state might be broken
p64420
as(dp64421
g16
V29407
p64422
stp64423
a((dp64424
g2
(lp64425
VTry this:
p64426
aVAlso you have wrongly nested  tags
p64427
aVAnd by the way if you are doing some form validation you might want to check the jquery
p64428
aVvalidate plugin instead of going through this manual work
p64429
as(dp64430
g16
V29407
p64431
stp64432
a((dp64433
g2
(lp64434
VYou are probably using  somewhere in your code which is not part of jquery
p64435
aVIt is natively built in modern browsers but this might not be your case
p64436
aVSo make sure you include json2
p64437
aVjs in your page as well
p64438
as(dp64439
g16
V29407
p64440
stp64441
a((dp64442
g2
(lp64443
Vis javascript + ajax the way I should be approaching this
p64444
aVThat would be only part of the solution
p64445
aVYou will also need to write a server side script which will return the list of files and then you could query this script using AJAX by passing it the script name yuo would like to get info about
p64446
aVThe reason why you might need a server side script is because javascript has no direct access of server files and information like date modified
p64447
as(dp64448
g16
V29407
p64449
stp64450
a((dp64451
g2
(lp64452
VYou could fetch the metadata for each property like this:
p64453
as(dp64454
g16
V29407
p64455
stp64456
a((dp64457
g2
(lp64458
VYou may take a look at the following article and this one as well which illustrate one way of taking a screenshot of a webpage and saving it as image
p64459
aVThe WPFChromium component also allows you to achieve this without depending on Internet Explorer
p64460
as(dp64461
g16
V29407
p64462
stp64463
a((dp64464
g2
(lp64465
VThat's because the  variable might not be initialized if the If condition is not satisfied
p64466
aVYou could initialize it to  by default:
p64467
aVObviously the caller of this method need to handle this case
p64468
aVAlso as a C# immigrant you are probably surprised why you are not getting a compile time error but only a warning
p64469
as(dp64470
g16
V29407
p64471
stp64472
a((dp64473
g2
(lp64474
VA proper JSON request should look like this if you have a single cat:
p64475
aVand for multiple cats:
p64476
as(dp64477
g16
V29407
p64478
stp64479
a((dp64480
g2
(lp64481
VWhile you could do this in the _ViewStart I think that a better way would be to write a custom view engine in which based on the user agent or the domain include a different layout
p64482
aVThen you would have common controllers and views, only the layout will differ
p64483
as(dp64484
g16
V29407
p64485
stp64486
a((dp64487
g2
(lp64488
Vand if you want to replace all occurrences of facebook within the string:
p64489
as(dp64490
g16
V29407
p64491
stp64492
a((dp64493
g2
(lp64494
VNo, there is no way
p64495
aVAttributes are baked in the metadata of the assembly at compile time and existing classes cannot be modified at runtime
p64496
aVAs far as partial classes are concerned they only work within the same assembly
p64497
aVAlso if the authors of this assembly don't want to introduce a dependency in their library with  they probably have reasons for this
p64498
aVObviously, you, as an MVC developer should use view models which are classes specifically tailored to the needs of your views and then map between the domain models (stuff that comes from different libraries,
p64499
aVand view models
p64500
aVThen you would pass those view models to the view and not the domain models
p64501
aVOf course your view models will have all the necessary metadata and formatting such as DisplayName, Hidden,
p64502
aVTo ease the mapping between those two classes you could use AutoMapper
p64503
as(dp64504
g16
V29407
p64505
stp64506
a((dp64507
g2
(lp64508
VYour route parameter is called , so:
p64509
aVor change it to  if you want:
p64510
as(dp64511
g16
V29407
p64512
stp64513
a((dp64514
g2
(lp64515
VThe Countries collection is not part of the form so they are never posted to the server
p64516
aVOnly the selected id is sent
p64517
aVSo if the model is not valid and you need to render the view simply refetch this collection from the data store:
p64518
as(dp64519
g16
V29407
p64520
stp64521
a((dp64522
g2
(lp64523
VYou could use Json
p64524
aVNET and have full control over property names:
p64525
aVObviously this code is screaming to be improved by introducing a custom action result:
p64526
aVand then:
p64527
as(dp64528
g16
V29407
p64529
stp64530
a((dp64531
g2
(lp64532
VYou may try returning the partial HTML representing the newly posted comment:
p64533
aVand on the client side append this comment to the comments container:
p64534
as(dp64535
g16
V29407
p64536
stp64537
a((dp64538
g2
(lp64539
VYou might find the following blog post useful
p64540
as(dp64541
g16
V29407
p64542
stp64543
a((dp64544
g2
(lp64545
VI would hyper strongly recommend you MvcMailer (note the Send Email Asynchronously section)
p64546
aVYou may also checkout Scott Hanslemann's blog post about it
p64547
as(dp64548
g16
V29407
p64549
stp64550
a((dp64551
g2
(lp64552
VThe  extension method writes directly to the output stream and has no return type ()
p64553
aVSo here's the correct syntax to call it:
p64554
aVor if you prefer you could use the  extension method:
p64555
aVContrast those with their equivalents in the WebForms view engine:
p64556
as(dp64557
g16
V29407
p64558
stp64559
a((dp64560
g2
(lp64561
VYou need to map the relative path back to a physical path:
p64562
as(dp64563
g16
V29407
p64564
stp64565
a((dp64566
g2
(lp64567
s(dp64568
g16
V29407
p64569
stp64570
a((dp64571
g2
(lp64572
VIs there a way to do a JSONP request using POST/PUT/DELETE
p64573
aVNo there isn't
p64574
as(dp64575
g16
V29407
p64576
stp64577
a((dp64578
g2
(lp64579
VSo you could store your object as a binary or XML file and deserialize it back but a resource file seems uncommon place to store such things
p64580
as(dp64581
g16
V29407
p64582
stp64583
a((dp64584
g2
(lp64585
VI don't think that this would be possible to do directly from managed code
p64586
aVYou could still call unmanaged code which does those calculations but whether the cost of interop marshaling is worth it is difficult to say
p64587
aVYou will have to minimize it as much as possible and do all the calculations in unmanaged code and do only a single call to minimize overhead
p64588
as(dp64589
g16
V29407
p64590
stp64591
a((dp64592
g2
(lp64593
VThat's because it's a COM visible interface and that's a convention in COM:
p64594
as(dp64595
g16
V29407
p64596
stp64597
a((dp64598
g2
(lp64599
VUnable to reproduce
p64600
aVWorks perfectly fine for me
p64601
aVThere must be some other problem with your setup
p64602
aVDid you verify if cookies were enabled
p64603
as(dp64604
g16
V29407
p64605
stp64606
a((dp64607
g2
(lp64608
VContrary to WebForms, Razor doesn't use the  section in
p64609
aVIt uses the  in :
p64610
aVand then:
p64611
aVor you could also add the proper namespace to your view if you prefer:
p64612
as(dp64613
g16
V29407
p64614
stp64615
a((dp64616
g2
(lp64617
VIn the LogOn method you could redirect to the corresponding view based on the username:
p64618
as(dp64619
g16
V29407
p64620
stp64621
a((dp64622
g2
(lp64623
VThe reason an error message is displayed on initial page load is because your controller action takes  model as argument
p64624
aVWhen you first access this action with  you are passing no arguments and when the default model binder tries to bind to a  instance it triggers validation errors
p64625
aVIt is a bad practice to use the same action for both rendering and handling the form submission but if you really want to do it you could try like this:
p64626
aVIn this case you no longer need the  property on your model nor the constructor which sets it to true
p64627
aVThis being said, here's the recommended way:
p64628
as(dp64629
g16
V29407
p64630
stp64631
a((dp64632
g2
(lp64633
VA custom model binder seems like a good solution for this
p64634
as(dp64635
g16
V29407
p64636
stp64637
a((dp64638
g2
(lp64639
VI would recommend you to avoid passing your model objects to the view
p64640
aVYou should instead define a view model which is specifically tailored to the needs of the view and which would contain only the necessary properties
p64641
aVThen in the controller you could map between the model and the view model
p64642
aVFor example:
p64643
aVThis way you no longer have to worry about circular references as you have total control of your view models and also you would be exposing only what is needed by the view
p64644
as(dp64645
g16
V29407
p64646
stp64647
a((dp64648
g2
(lp64649
VYou cannot upload files using an AJAX Form
p64650
aVIn order to upload files you need to use a normal
p64651
aVThis is because when an AJAX request is sent the  is no longer respected
p64652
aVAlso using javascript you cannot access the file contents in order to send it to the server
p64653
aVThere are some plugins which allow you to achieve this
p64654
aVFor example the jquery form plugin supports AJAX uploads by generating a hidden iframe
p64655
aVUploadify is another popular plugin which uses Flash
p64656
as(dp64657
g16
V29407
p64658
stp64659
a((dp64660
g2
(lp64661
VTry like this:
p64662
aVor escape the
p64663
as(dp64664
g16
V29407
p64665
stp64666
a((dp64667
g2
(lp64668
VThis seems like a good solution
p64669
aVThe comma cannot be part of a base64 index table so it is a safe separator
p64670
as(dp64671
g16
V29407
p64672
stp64673
a((dp64674
g2
(lp64675
VYour input file field is called :
p64676
aVwhereas the controller action parameter handling the form submission is called  (the one with  type) => this parameter will always be  in your  controller action and nothing will be saved in the database
p64677
aVAlso the attribute is called  and not  in the  helper
p64678
aVAlso inside the  action ensure that  represents a correct image byte array and that it's content type matches with
p64679
aVSo for example to further debug this issue you could try to save it to some temporary file to see if it is a valid image just before returning
p64680
aVAlso make sure that the  instance you have fetched from the database is not null:
p64681
aVThen ensure that  open successfully with an image viewer
p64682
as(dp64683
g16
V29407
p64684
stp64685
a((dp64686
g2
(lp64687
VThe possible values of the mode attribute are ,  and  so I suspect that if you set it to  your application wouldn't even load
p64688
aVOn the other hand if you set  in case of an exception there is a global error filter in ASP
p64689
aVNET MVC 3 (see the  method in your ) which kicks in and automatically renders the  view => in this case the  method won't be called because the exception is handled
p64690
as(dp64691
g16
V29407
p64692
stp64693
a((dp64694
g2
(lp64695
VNo, but the following steps don't seem like too much work to me
p64696
aVNot to mention that you could write a custom editor template which will render a file input for a given property
p64697
as(dp64698
g16
V29407
p64699
stp64700
a((dp64701
g2
(lp64702
VNever hardocde urls like this:
p64703
aVAlways use URL helpers when dealing with URLs:
p64704
aVUrl helpers will always generate correct urls no matter where your application is deployed
p64705
aVAnd if this is a separate javascript file in which you cannot use server side code you could always use HTML5  attributes on your input field:
p64706
aVand then in your separate javascript file:
p64707
as(dp64708
g16
V29407
p64709
stp64710
a((dp64711
g2
(lp64712
VNo, I don't consider this as a good practice
p64713
aVA custom AuthorizeAttribute seems far more adapted to handle authorization rather than a controller factory
p64714
as(dp64715
g16
V29407
p64716
stp64717
a((dp64718
g2
(lp64719
VThat's happens because when you are using HTML helpers such as HiddenFor they first look at route data and model state and after that in the model
p64720
aVSo they find in your route data a parameter id=2 and use this value instead of the id=0 in the model you are passing
p64721
as(dp64722
g16
V29407
p64723
stp64724
a((dp64725
g2
(lp64726
VYes, using caching static files such as Content and Scripts folders is a good practice
p64727
aVAlso, if i release a new version of the static files, I assume IIS and the browser is smart enough to load the newer file
p64728
aVNo, you are not correct in assuming this
p64729
aVYou could use version numbers
p64730
aVFor example here's how the CSS for this site looks:
p64731
aVSo whenever you release a new version you change the number
p64732
as(dp64733
g16
V29407
p64734
stp64735
a((dp64736
g2
(lp64737
VIf you set  and have the same action filter on both the controller and the action the one on the controller is never executed
p64738
aVIf you set  it is the filter on the controller that gets executed first assuming same order
p64739
aVThe thing that changed in ASP
p64740
aVNET MVC 3 is the following:
p64741
aVIn previous versions of ASP
p64742
aVNET MVC,
p64743
aVaction filters are create per request
p64744
aVexcept in a few cases
p64745
aVThis behavior
p64746
aVwas never a guaranteed behavior but
p64747
aVmerely an implementation detail and
p64748
aVthe contract for filters was to
p64749
aVconsider them stateless
p64750
aVIn ASP
p64751
aVNET
p64752
aVMVC 3, filters are cached more
p64753
aVaggressively
p64754
aVTherefore, any custom
p64755
aVaction filters which improperly store
p64756
aVinstance state might be broken
p64757
aVSo to ensure that you are properly testing this:
p64758
as(dp64759
g16
V29407
p64760
stp64761
a((dp64762
g2
(lp64763
VYou could use a Guid as ids
p64764
aVAnd to generate an unique id:
p64765
aVAnother possibility is to use an automatically incremented primary column in the database so that it is the database that generates the unique identifiers
p64766
as(dp64767
g16
V29407
p64768
stp64769
a((dp64770
g2
(lp64771
VYou need to set the Build Action as  for those files:
p64772
as(dp64773
g16
V29407
p64774
stp64775
a((dp64776
g2
(lp64777
VI am afraid this is not possible due to the nature of attributes in C#
p64778
aVAttributes represent metadata that is baked into the resulting assembly at compile time meaning that they can only take expressions known at compile time
p64779
aVOne possible workaround that I would recommend you is to use view models
p64780
aVSo for example you would have the following view model in which you would include only the properties that really should be bound:
p64781
aVwhich also might look like this if the base view model would be reused:
p64782
aVand then you could have the following controller action:
p64783
aVand finally map between the view model and the actual Elephant model
p64784
aVTo ease the mapping between those two types you could use AutoMapper
p64785
as(dp64786
g16
V29407
p64787
stp64788
a((dp64789
g2
(lp64790
VOn easy way would be to use a custom view result:
p64791
aVand then a simple controller action:
p64792
aVand in the corresponding  view:
p64793
aVand then:
p64794
as(dp64795
g16
V29407
p64796
stp64797
a((dp64798
g2
(lp64799
VYou could use LINQ:
p64800
as(dp64801
g16
V29407
p64802
stp64803
a((dp64804
g2
(lp64805
VIn the AJAX  function you are casting the result to a DOM element
p64806
aVTry simply to do this:
p64807
as(dp64808
g16
V29407
p64809
stp64810
a((dp64811
g2
(lp64812
VYou could instantiate it:
p64813
aVor if you are writing an extension method on AjaxHelper:
p64814
aVAnd don't forget the proper usings if you want to bring other extension methods into scope:
p64815
as(dp64816
g16
V29407
p64817
stp64818
a((dp64819
g2
(lp64820
VThe reason this happens is because when the page first loaded the button was disabled and this is the state at which the page was stored at the browser history
p64821
aVThen you made some changes to the DOM using javascript when a radio button is clicked and enabled the  button but those changes are not saved to the browser history
p64822
aVWhen the user clicks the back button the page is loaded from the history at the state it was saved i
p64823
ag3813
aVwith the button disabled
p64824
as(dp64825
g16
V29407
p64826
stp64827
a((dp64828
g2
(lp64829
VYou may take a look at the following blog post
p64830
as(dp64831
g16
V29407
p64832
stp64833
a((dp64834
g2
(lp64835
VDue to same origin policy restrictions you cannot send AJAX requests to distant domains, so this cannot work unless the page containing this javascript is hosted on
p64836
aVI suspect that you are trying to fetch an XML document which is hosted on a different domain which is impossible
p64837
aVIf you want to do this you might need to use a server side script on your domain which will do the remote call to fetch the XML and then return this XML so that your AJAX call invokes this server script:
p64838
as(dp64839
g16
V29407
p64840
stp64841
a((dp64842
g2
(lp64843
VAll the languages you have listed allow you to create web applications
p64844
aVHere are some popular frameworks which could be used to create web sites using those languages:
p64845
aVC#, VB
p64846
aVNET - ASP
p64847
aVNET
p64848
aVJava - Java Servlets
p64849
aVPython - Django
p64850
aVPerl - Gantry
p64851
aVRuby - Ruby on Rails
p64852
as(dp64853
g16
V29407
p64854
stp64855
a((dp64856
g2
(lp64857
VThis problem can be easily solved by using view models
p64858
aVView models are classes that are specifically tailored to the needs of a given view
p64859
aVSo for example in your case you could have the following view models:
p64860
aVwhich will be used in their corresponding controller actions:
p64861
as(dp64862
g16
V29407
p64863
stp64864
a((dp64865
g2
(lp64866
VASP
p64867
aVNET WebServcies use the SOAP protocol
p64868
aVThis means that whatever information you return from your WebMethods it will automatically be placed into a SOAP envelope and XML encoded
p64869
aVYou cannot modify the way your response is formatted as you will be violating the SOAP protocol
p64870
aVYou shouldn't worry about what is displayed in the browser
p64871
aVThe important thing is that this is a properly formatted XML that will be received by the client (as a string result) and could be converted to XML
p64872
aVThis being said what you are doing (returning string from your WebMethods representing XML) is a very bad practice as there will be a double encoding
p64873
aVI would recommend you defining some custom type that will represent this XML structure and return this custom type
p64874
aVIt will make your web service easier to discover and make sense of as right now any consumer looking at the WSDL would see a method returning a string value but wouldn't know that this string represents an XML structure with some special format
p64875
aVHere's what I mean:
p64876
aVand then:
p64877
as(dp64878
g16
V29407
p64879
stp64880
a((dp64881
g2
(lp64882
VTry adding the following ignore routes to your route definitions:
p64883
as(dp64884
g16
V29407
p64885
stp64886
a((dp64887
g2
(lp64888
VThat's probably because the server side script you are calling with AJAX returns  (the one you have specified in the  property)
p64889
as(dp64890
g16
V29407
p64891
stp64892
a((dp64893
g2
(lp64894
VYou could use the double
p64895
aVParse method to convert a string to double:
p64896
aVand if you are a LINQ and functional programming fan like me you could save a useless loop and directly convert your  to an :
p64897
aVand if you needed a static array an additional  call might be necessary:
p64898
aVIf you want a safe conversion you could use the double
p64899
aVTryParse method but if your regular expression is good enough and you have ensured that the string is in a proper format you should be OK
p64900
as(dp64901
g16
V29407
p64902
stp64903
a((dp64904
g2
(lp64905
VYou don't have an interface as type of a class
p64906
aVThe real (runtime) type of the  variable is  which is not an interface
p64907
aVAt runtime you can never instantiate an interface, only actual types
p64908
aVBut because you have typed the  variable as  at compile time only this interface will be known and you will be able to call only methods on this interface:
p64909
as(dp64910
g16
V29407
p64911
stp64912
a((dp64913
g2
(lp64914
VHere are the changes you need to make this work:
p64915
aVand your controller action
p64916
aVWhich could be improved by introducing a view model:
p64917
aVand then:
p64918
aVThings to note:
p64919
aVthe  hash property of a jquery AJAX call needs to be as my example or you would be sending a JSON encoded string and the default model binder of ASP
p64920
aVNET MVC doesn't know how to parse back as action arguments
p64921
aVIn ASP
p64922
aVNET MVC 3 this has changed as there is a JsonValueProviderFactory allowing you to send JSON requests
p64923
aVSo if you were using ASP
p64924
aVNET MVC 3 you could send your AJAX request like this and the action parameters will be correctly bound:
p64925
aVAll controller actions in ASP
p64926
aVNET MVC must return ActionResults
p64927
aVSo if you want Json then return a JsonResult
p64928
aVThe action passes an anonymous type to the Json method containing a  property which is used in the  callback and the response from the server would look like this:
p64929
aVNever hardcode urls like this in your javascript files or your application might break when you deploy it
p64930
aVAlways use Url helpers when dealing with urls:
p64931
aVor if this was an external javascript file you could either use some global js variable that was initialized in your view pointing to the correct url or make this url as part of your DOM (for example as anchor href property or HTML5  attributes) and then use jQuery to fetch the value
p64932
as(dp64933
g16
V29407
p64934
stp64935
a((dp64936
g2
(lp64937
VIn order to preselect a value in a dropdown list set the corresponding property to this value in your controller action:
p64938
aVAs far as the dropdown list generation is concerned the two string arguments you are passing to the SelectList constructor represent the property names of the model corresponding respectively to the Value and Text
p64939
aVSo I guess it should be more like this:
p64940
aVIn this example we are using the  property as Values in the dropdown list and  property as Text
p64941
aVSo in this case you must ensure that you are setting the  property to some  that exists in the list and the dropdown will automatically preselect this item
p64942
aVAnother possibility use the following SelectList constructor which allows you to specify a selected value as 4th parameter:
p64943
as(dp64944
g16
V29407
p64945
stp64946
a((dp64947
g2
(lp64948
VYour first task is to define what a button means
p64949
aVIs it a submit buttons that you want to disable
p64950
aVIf yes then you could use the  selector if those are submit buttons:
p64951
aVIf they are not all submit buttons then you could try a selector by a tag type:
p64952
aVAnd if you also can have a mix of tags that can be used as AJAX calls and normal calls you need to use a class selector to disambiguate them
p64953
as(dp64954
g16
V29407
p64955
stp64956
a((dp64957
g2
(lp64958
VOnce you have gone through the tutorials in the http://asp
p64959
aVnet/mvc site, as free resources I could recommend you downloading and playing around with the source code of existing applications such as NerdDinner
p64960
aVAnd if you encounter some specific problems/questions don't hesitate for a moment to ask a question here
p64961
aVYou will probably get an answer quickly (depending on the quality of your question, information you provided,
p64962
aVAlso there might be some video tutorials but they will be specialized in some particular domain such as how to put your controllers on a diet
p64963
as(dp64964
g16
V29407
p64965
stp64966
a((dp64967
g2
(lp64968
VYou could use the index of the array to calculate the interval dynamically:
p64969
as(dp64970
g16
V29407
p64971
stp64972
a((dp64973
g2
(lp64974
VIt is not quite clear from your question what DOM elements this modal dialog contains that allow you to add items to the select list but you could subscribe for the close event of the dialog and then append the newly added item to the original select list
p64975
aVSomething among the lines:
p64976
as(dp64977
g16
V29407
p64978
stp64979
a((dp64980
g2
(lp64981
VYou could use an editor template for this view model which will ensure correct  and  attributes
p64982
aVSo assuming your main view model is a collection of CourseTableViewModel or has a property that is a collection of CourseTableViewModel you could do the following in your main view:
p64983
aVand in the corresponding editor template ():
p64984
aVThe editor template will be executed for each item in the view model collection and avoids you the need of writing any loops in your views
p64985
aVYou just need to follow the naming conventions of those templates (it must be  because that's the type name used in the main view model collection)
p64986
aVUPDATE:
p64987
aVIn the example I provided no id is being generated at all for the checkboxes
p64988
aVYou could do the following to generate an unique id for each checkbox:
p64989
as(dp64990
g16
V29407
p64991
stp64992
a((dp64993
g2
(lp64994
VAFAIK this is impossible with javascript
p64995
aVFlash also forbids from accessing the client file paths
p64996
aVActiveX could be used but it will work only in IE and must be installed on the client computer
p64997
as(dp64998
g16
V29407
p64999
stp65000
a((dp65001
g2
(lp65002
VYou could write a custom Authroize attribute:
p65003
aVand then decorate your controller/actions with this attribute
p65004
as(dp65005
g16
V29407
p65006
stp65007
a((dp65008
g2
(lp65009
VYou could use some of the derived classes such as MemoryStream:
p65010
as(dp65011
g16
V29407
p65012
stp65013
a((dp65014
g2
(lp65015
VGET requests could be cached by the browser and IE is extremely aggressive about them
p65016
aVSo there are different possibilities: either append some random number to the url or use POST requests
p65017
as(dp65018
g16
V29407
p65019
stp65020
a((dp65021
g2
(lp65022
VYou could use the JavaScriptSerializer class which will generate a JSON representation of you model array:
p65023
aVAlso note the way I have used the  helper in the script inclusions to avoid hardcoding urls which might not work when your application is deployed
p65024
as(dp65025
g16
V29407
p65026
stp65027
a((dp65028
g2
(lp65029
VYou have subscribed to the  event of a form
p65030
aVIn the first case you are returning  meaning that you are leaving the default action to run which is to submit the form to the server and redirect the browser to
p65031
aVBecause the browser redirects immediately your AJAX call might never have the time to finish
p65032
aVIn the second case you are returning  meaning that you are canceling the default form submission and you are sending an AJAX request instead which has enough time to execute
p65033
as(dp65034
g16
V29407
p65035
stp65036
a((dp65037
g2
(lp65038
VYou could do this:
p65039
aVBut I would recommend you to avoid ViewBag/ViewData and profit from your view model:
p65040
aVand in the view:
p65041
as(dp65042
g16
V29407
p65043
stp65044
a((dp65045
g2
(lp65046
V is something that you should absolutely never use if you ever expect your code to be unit tested
p65047
aVIt is a static method which simply returns null if there is no web context which is the case of a unit test and cannot be mocked
p65048
aVSo one way to refactor your code would be the following:
p65049
aVYou see, now this method no longer depends on any web context and can be tested in isolation
p65050
aVIt will be the responsibility of the caller to pass the correct path
p65051
as(dp65052
g16
V29407
p65053
stp65054
a((dp65055
g2
(lp65056
VIf you make the  required:
p65057
aVand then you have a form in which you have multiple textboxes for this property corresponding to each item in the  collection then the key that will be used for error messages will be  where  represents the index of the element in the array which contains an empty value
p65058
as(dp65059
g16
V29407
p65060
stp65061
a((dp65062
g2
(lp65063
VI see that your master inherits from  which is a custom class
p65064
aVMake sure that this custom class derives from System
p65065
aVWeb
p65066
aVMvc
p65067
aVViewMasterPage so that the Html property is defined
p65068
as(dp65069
g16
V29407
p65070
stp65071
a((dp65072
g2
(lp65073
VIt could be a problem related to the assembly versions you are using
p65074
aVHere are the steps that work for me with the latest version of FluentValidation
p65075
aVNET and ASP
p65076
aVNET MVC 3:
p65077
aVCreate a new ASP
p65078
aVNET MVC 3 project using the default Visual Studio template
p65079
aVInstall the  NuGet package
p65080
aVAdd the view model and its corresponding validator (notice that in your case you have the validator for type Project -  whereas your view model is called  which is inconsistent
p65081
aVThe validator must be associated to the view model):
p65082
aVIn  register the validator:
p65083
aVDefine a controller:
p65084
aVAnd a view:
p65085
as(dp65086
g16
V29407
p65087
stp65088
a((dp65089
g2
(lp65090
VYou could set the view model property to the required value
p65091
aVExample:
p65092
aVand in the view:
p65093
aVwhich will select the  button
p65094
as(dp65095
g16
V29407
p65096
stp65097
a((dp65098
g2
(lp65099
VThe different between  and  is that live allows you to attach a handler to the event now and in the future meaning that if this #div is updated in the DOM the event handler will stay
p65100
aVFor example imagine a situation where you have a div which is replaced with an AJAX call
p65101
aVIf you used
p65102
aVlive to register a click event handler for this div the event handler will still work even after the div has been refreshed in the DOM
p65103
aVIf you use  then if the element is recreated you will need to reattach the handler
p65104
as(dp65105
g16
V29407
p65106
stp65107
a((dp65108
g2
(lp65109
VObviously if you want real randomness instead of pseudo-random number generator you could use RNGCryptoServiceProvider instead of Random
p65110
as(dp65111
g16
V29407
p65112
stp65113
a((dp65114
g2
(lp65115
VRemarks:
p65116
aVController actions should always return ActionResults
p65117
aVUse JsonResult instead of manually serializing with JavaScriptSerializer
p65118
aVYou don't need to manually parse with any  on the client => if you followed my previous remark the proper content type  will be sent and jQuery will automatically parse the object passed to the success callback
p65119
aVNever hardocode urls in your javascript => always use url helpers when dealing with urls or your code might break when you deploy due to virtual directory added
p65120
aVThis being said let's try to improve your code starting with the controller action:
p65121
aVand then the javascript:
p65122
as(dp65123
g16
V29407
p65124
stp65125
a((dp65126
g2
(lp65127
VThere is nothing weird
p65128
aVIn JSON you have normal objects which are denoted with  and lists of normal objects which are denoted with  and
p65129
aVSo if your second object is not a list you cannot expect it to be serialized as such
p65130
aVIf you wanted your second object to be enclosed with  you could create a list containing one element which is the second object and then serialize this list
p65131
as(dp65132
g16
V29407
p65133
stp65134
a((dp65135
g2
(lp65136
VYou could try setting the  property of the  tag in web
p65137
aVconfig for both applications:
p65138
aVThis will effectively set the authentication cookie validity for both  and , meaning that a user who authenticated on the first domain will automatically be authenticated on the second
p65139
as(dp65140
g16
V29407
p65141
stp65142
a((dp65143
g2
(lp65144
VYou haven't shown how does your  helper look like but because I have some souvenirs of having written something like this you seem to be missing a  statement:
p65145
as(dp65146
g16
V29407
p65147
stp65148
a((dp65149
g2
(lp65150
VExample:
p65151
aVand in a separate javascript file you could ajaxify this link:
p65152
aVand the corresponding controller action which will receive the call and return JSON:
p65153
aVEDIT: Removed the "new" keyword when assigning the value for
p65154
as(dp65155
g16
V29407
p65156
stp65157
a((dp65158
g2
(lp65159
VThe uploadify plugin doesn't send cookies so the server cannot identify the session
p65160
aVOne possible way to achieve this is to use the  parameter to include the sessionId as request parameter:
p65161
aVThis will add the ASPSESSID parameter to the request along with the file
p65162
aVNext we need to reconstruct the session on the server
p65163
aVThis could be done in the  method in :
p65164
aVand finally the controller action that will receive the upload could use the session:
p65165
as(dp65166
g16
V29407
p65167
stp65168
a((dp65169
g2
(lp65170
VEnable gzip compression, minify HTML,
p65171
aVfollow YSlow recommendadtions
p65172
aVYou could also send a light version of the page immediately and then load some parts using AJAX
p65173
as(dp65174
g16
V29407
p65175
stp65176
a((dp65177
g2
(lp65178
VYou need a root in order to have valid XML
p65179
aVHere's an example of how your model might look like:
p65180
aVand then simply create an instance of this model and serialize it to a stream:
p65181
as(dp65182
g16
V29407
p65183
stp65184
a((dp65185
g2
(lp65186
VTry like this:
p65187
as(dp65188
g16
V29407
p65189
stp65190
a((dp65191
g2
(lp65192
VNo, AFAIK it is not possible to use regions in a view
p65193
aVYou could use partials to group regions of the view into reusable partial views
p65194
aVSee the newer answer; it works and accomplishes the desired effect
p65195
as(dp65196
g16
V29407
p65197
stp65198
a((dp65199
g2
(lp65200
V should work but not in a separate javascript file where server side scripts do not execute
p65201
aVAnother possibility is to use a class selector:
p65202
aVand then:
p65203
as(dp65204
g16
V29407
p65205
stp65206
a((dp65207
g2
(lp65208
VI don't quite understand what you are asking but if it is how to call this helper here's how it might look like:
p65209
as(dp65210
g16
V29407
p65211
stp65212
a((dp65213
g2
(lp65214
VCheck this out which illustrates how to catch a  and look at the  property:
p65215
as(dp65216
g16
V29407
p65217
stp65218
a((dp65219
g2
(lp65220
VYou could have all those controllers derive from a base controller and then decorate this base controller with the attribute which will make it apply to all controllers and actions
p65221
aVIn ASP
p65222
aVNET MVC 3 you also have the possibility to use global action filters and custom filter providers
p65223
as(dp65224
g16
V29407
p65225
stp65226
a((dp65227
g2
(lp65228
VYou may try this:
p65229
as(dp65230
g16
V29407
p65231
stp65232
a((dp65233
g2
(lp65234
VYou could try specifying the domain and path when generating the antiforgery token which will allow the cookie to be automatically sent to the child application:
p65235
aVAlso try inspecting with FireBug the request being sent and see if the cookie is being sent to the child application and if it has the same value as the hidden field
p65236
as(dp65237
g16
V29407
p65238
stp65239
a((dp65240
g2
(lp65241
VThis is due to the ugliness of WebGrid and all this dynamic crap
p65242
aVYou need a cast:
p65243
aVThis being said don't hesitate to checkout MvcContrib Grid or the Telerik Grid which are far better
p65244
as(dp65245
g16
V29407
p65246
stp65247
a((dp65248
g2
(lp65249
VIt is a best practice to always the  statement because if an exception is thrown during the reading the stream might never be disposed and your application will leak a file handle
p65250
aVIf this is a desktop application the process will probably die and release the handle but in a web application not releasing unmanaged resources such as file handles could be catastrophic
p65251
aVAlso you don't need to call  on your stream if you are calling
p65252
aVRemark: if you want to read the contents of a text file into a string you could directly do this instead of going through the pain of instantiating a StreamReader, reading it to the end and disposing it:
p65253
as(dp65254
g16
V29407
p65255
stp65256
a((dp65257
g2
(lp65258
V doesn't call a controller action
p65259
aVIt is a simple include of a partial view at the place you called it
p65260
aVIf you want to call the controller action you need to use the Html
p65261
aVAction or Html
p65262
aVRenderAction helper like this:
p65263
aVor:
p65264
aVAnd obviously in this case you are not passing any model as your controller action doesn't expect any model as argument and it is its responsibility to fetch a model and pass it to the partial view that will be rendered and included at the place where you called this helper
p65265
as(dp65266
g16
V29407
p65267
stp65268
a((dp65269
g2
(lp65270
VYour controller action returns a list of employees so adapt your model respectively in the view:
p65271
aVOr if you wanted to use a single employee make sure you pass a single employee to the view:
p65272
aVand then you can have:
p65273
as(dp65274
g16
V29407
p65275
stp65276
a((dp65277
g2
(lp65278
VYou could write a custom HTML helper that will generate those sub tabs based on the current controller and action
p65279
aVHere's an example to get you started:
p65280
aVand then in your view:
p65281
aVObviously in my example everything is hardcoded
p65282
aVYou might want to keep some centralized hashtable of sub tabs corresponding to given controller and action
p65283
aVOnce you get the proper markup simply apply the CSS from the site you are referred to in your question and you are good to go
p65284
as(dp65285
g16
V29407
p65286
stp65287
a((dp65288
g2
(lp65289
VYou could use an HTML
p65290
aVExample:
p65291
aVand then AJAXify this form:
p65292
aVand then have a controller action which will handle the submission:
p65293
aVAlso if you want to use a normal link instead of a  with submit button don't forget to review your previous question
p65294
as(dp65295
g16
V29407
p65296
stp65297
a((dp65298
g2
(lp65299
VYou can look at the content type:
p65300
aVor if you want to restrict only to static HTML pages you could also look at the request:
p65301
aVUPDATE:
p65302
aVAlright, I've just noticed that your question was tagged with
p65303
aVAt first when I saw an HttpModule I thought you were doing a normal ASP
p65304
aVNET application (I couldn't even imagine an HttpModule in an MVC application)
p65305
aVNow that this has been clear you obviously could use a global action filter in which you can override the  and  methods which will be invoked respectively before and after a controller action is executed
p65306
aVAs far as your question about the redirect action in the OnActionExecuted method you could look at the  and see if it is a  type:
p65307
as(dp65308
g16
V29407
p65309
stp65310
a((dp65311
g2
(lp65312
VYou could have a function which returns the master name based on the user role and then write a custom action filter which will execute after the action and set the corresponding master page based on the currently connected user role:
p65313
aVand then simply decorate your base controller with this action filter or if this is an ASP
p65314
aVNET MVC 3 application simply declare it as global filter
p65315
as(dp65316
g16
V29407
p65317
stp65318
a((dp65319
g2
(lp65320
VAs always the answer to everything in ASP
p65321
aVNET MVC is : view models
p65322
aVSo you fetch everything in your repository and return a domain Employee model containing all properties and then you would map this Employee model to an
p65323
aVIt is then this view model that will be passed to the view
p65324
aVAnd when the controller maps between the model and the view model depending on the user it might include or not some properties
p65325
as(dp65326
g16
V29407
p65327
stp65328
a((dp65329
g2
(lp65330
VYou could do the same in MVC:
p65331
aVor using a meta tag:
p65332
aVor in your controller action:
p65333
as(dp65334
g16
V29407
p65335
stp65336
a((dp65337
g2
(lp65338
VIt probably won't increase performance but it might offload some worker threads especially while waiting for the upload on the Amazon S3 servers which is a IO bound task and you could benefit from I/O completion ports
p65339
aVAs far as the resizing is concerned that's CPU bound task so there's not much you could do about it other than improving the algorithm
p65340
as(dp65341
g16
V29407
p65342
stp65343
a((dp65344
g2
(lp65345
VYou need to use HTML helpers to generate the  if you want client validation to work:
p65346
aVThis will emit the proper HTML5  attributes on the textarea that will allow for client validation to work using the  plugin
p65347
as(dp65348
g16
V29407
p65349
stp65350
a((dp65351
g2
(lp65352
VInstead of:
p65353
aVYou could write:
p65354
aVand then you could decorate the corresponding view model property with the  attribute:
p65355
as(dp65356
g16
V29407
p65357
stp65358
a((dp65359
g2
(lp65360
VInternally  relies on an  which is not available in unit tests
p65361
aVHere's a blog post that talks about this issue
p65362
aVIn short:
p65363
aVavoid App_GlobalResources and
p65364
aVApp_LocalResources (which has its own
p65365
aVset of problems) in MVC
p65366
aVThe proposed solution is to move the resource files outside of special resource directories
p65367
as(dp65368
g16
V29407
p65369
stp65370
a((dp65371
g2
(lp65372
VWhat you call garbage is actually but the HTML encoded value of the corresponding character and is there to prevent you from XSS
p65373
aVThe encoding happens because you are using  which automatically HTML encodes the string but this shouldn't be a problem for your javascript
p65374
aVExample:
p65375
aVworks just fine and displays  in the corresponding DOM element
p65376
as(dp65377
g16
V29407
p65378
stp65379
a((dp65380
g2
(lp65381
VThe following should work assuming that the user enters a valid integer in the textbox:
p65382
aVAnother possible way to handle this is to use the TryParse method:
p65383
as(dp65384
g16
V29407
p65385
stp65386
a((dp65387
g2
(lp65388
VYou can bin-deploy SQL CE 4
p65389
aVJust make sure you are using the RTM version because there was a problem with bin-deployment in betas
p65390
aVAlso see Scott Gu's blog post about it
p65391
aVASP
p65392
aVNET MVC 3 can also be bin-deployed if your hosting provider doesn't have the assemblies installed in the GAC
p65393
aVAll that's need is
p65394
aVNET 4
p65395
ag2721
aVThis being said SQL CE is an embedded database and not designed to work in a heavy multithreaded environments such as ASP
p65396
aVNET
p65397
aVIt is good for development and light-usage scenarios
p65398
aVFor high-volume sites and applications you'll probably want to migrate it to use SQL Server Express or SQL Server
p65399
as(dp65400
g16
V29407
p65401
stp65402
a((dp65403
g2
(lp65404
VHere's a blog post which illustrates how to perform paging using AJAX
p65405
aVAnd here's a nice plugin for the grid allowing you to perform AJAX paging and sorting
p65406
as(dp65407
g16
V29407
p65408
stp65409
a((dp65410
g2
(lp65411
VYou could write a custom validator attribute and decorate your model with it:
p65412
aVand then in your main Model:
p65413
as(dp65414
g16
V29407
p65415
stp65416
a((dp65417
g2
(lp65418
VYou cannot call a method in a controller from a model because you don't have the instance of the controller
p65419
aVThe only way would be to pass the instance of the controller to the model so that it can call the method but that would be bad practice
p65420
aVSo if a model needs to call a method on the controller you are doing something wrong
p65421
as(dp65422
g16
V29407
p65423
stp65424
a((dp65425
g2
(lp65426
Vis it ok for me to use this same function like this one in the view, so that I do not need to use the viewdata object
p65427
aVNo, this is not good practice and violation of the MVC pattern for various reasons
p65428
aVViews shouldn't pull information
p65429
aVThey should only use the information that it is being passed in the view model
p65430
aVIt is the controller's responsibility to invoke various methods to fetch data and then construct a view model containing all the necessary information needed for the view and then pass this view model to the view
p65431
aVSo here's the suggested way:
p65432
aVor with the ugly/weakly typed/avoid to use/requiring magic strings :
p65433
aVand it is the responsibility of the control to populate either the view model properties or the ugly ViewData
p65434
aVAs far as your second question is concerned you will need to show your code in order to see what is wrong with it
p65435
aVFrom your description what I can say is that you cannot have two elements with the same id in the DOM or you get invalid markup
p65436
as(dp65437
g16
V29407
p65438
stp65439
a((dp65440
g2
(lp65441
VThe default model binder automatically populates action arguments if values are present in the request
p65442
aVSo for example if your form contains the following fields:
p65443
aVand your Dinner object contains those properties:
p65444
aVthen when you submit the form to the following action:
p65445
aVFor more advanced binding scenarios such as lists and dictionaries you may checkout the following blog post for the correct wire format
p65446
as(dp65447
g16
V29407
p65448
stp65449
a((dp65450
g2
(lp65451
VHere:
p65452
aVyou are calling your custom helper once again which calls:
p65453
aVwhich is calling your custom helper once again which calls:
p65454
aVand so on until you run out of stack and the exception is thrown
p65455
aVSo you probably want to call the default helper instead of calling yourself:
p65456
as(dp65457
g16
V29407
p65458
stp65459
a((dp65460
g2
(lp65461
VWhen you change language you need to change the current UI culture
p65462
aVYou also need to track the user language preferences somewhere (route, cookie, session,
p65463
aVHere's a nice guide that I would recommend you reading
p65464
as(dp65465
g16
V29407
p65466
stp65467
a((dp65468
g2
(lp65469
VYou could validate the username and password entered by the user in the code behind using the Authenticate event to verify user credentials
p65470
as(dp65471
g16
V29407
p65472
stp65473
a((dp65474
g2
(lp65475
VAFAIK you need to use nullable enums in order to achieve this
p65476
aVIt would also make sense because when a value is not selected () the enum must be null
p65477
aVHere's a nice blog post about useful extension methods
p65478
as(dp65479
g16
V29407
p65480
stp65481
a((dp65482
g2
(lp65483
VIt depends on which overload of the Save method you are using
p65484
aVIf you pass directly a filename as string there shouldn't be issues
p65485
aVIf you pass a stream or xmlwriter you need to ensure that it is properly disposed:
p65486
as(dp65487
g16
V29407
p65488
stp65489
a((dp65490
g2
(lp65491
VYou could write a custom global action filter which will inject this information on all views
p65492
aVFor example:
p65493
aVand then register this filter in the  method of your :
p65494
aVAnd then in your views:
p65495
as(dp65496
g16
V29407
p65497
stp65498
a((dp65499
g2
(lp65500
VYes, this seems a valid approach
p65501
as(dp65502
g16
V29407
p65503
stp65504
a((dp65505
g2
(lp65506
VThe documentation seems pretty clear
p65507
aVUse  if you want threads to be scheduled after threads with any other priority
p65508
aVUse  if you want threads to be scheduled after threads with  priority and before those with  priority
p65509
as(dp65510
g16
V29407
p65511
stp65512
a((dp65513
g2
(lp65514
V is not a standard helper included in ASP
p65515
aVNET MVC
p65516
aVSo the answer to this question will depend on where did you get this helper from and how it is implemented
p65517
aVSo a shot in the dark: you could try setting the corresponding model property in your controller action to the value of the button you want preselected:
p65518
as(dp65519
g16
V29407
p65520
stp65521
a((dp65522
g2
(lp65523
VThe idea of DI is that you configure your container in the  and you wire all the necessary dependencies into your objects so that you never need to access the container in other parts of your code
p65524
aVSo to answer your question: simply have the parts of your application that need to access the DocumentStore take it as constructor argument and then configure AutoFac to inject it
p65525
aVHaving other parts of your code depending on the container is a bad practice as they become tightly coupled to it
p65526
as(dp65527
g16
V29407
p65528
stp65529
a((dp65530
g2
(lp65531
VTry like this:
p65532
aVand in the view:
p65533
as(dp65534
g16
V29407
p65535
stp65536
a((dp65537
g2
(lp65538
VYou may take look at the following blog post about Templated Razor Delegates
p65539
as(dp65540
g16
V29407
p65541
stp65542
a((dp65543
g2
(lp65544
VThis url is used by ASP
p65545
aVNET when the browser doesn't support cookies or they have been turned off
p65546
aVIt is nothing specific to ASP
p65547
aVNET MVC
p65548
aVBecause there are no cookies the authentication token is sent in the url in order to keep track of logged in users
p65549
as(dp65550
g16
V29407
p65551
stp65552
a((dp65553
g2
(lp65554
VYou could try including a hidden field inside your form that will hold the id:
p65555
aVand then:
p65556
aVwhich could be simplified to:
p65557
as(dp65558
g16
V29407
p65559
stp65560
a((dp65561
g2
(lp65562
VYou could have a single solution containing both web projects for the REST service application (WCF
p65563
aVand the ASP
p65564
aVNET MVC application and then run them simultaneously using the Visual Studio development server by configuring multiple startup projects:
p65565
aVThis will allow you to test/debug them simultaneously
p65566
aVAnother possibility is to use the newly released IIS Express to host both applications (you need to install VS 2010 SP1) which is the solution I would recommend you
p65567
as(dp65568
g16
V29407
p65569
stp65570
a((dp65571
g2
(lp65572
VHere's one way (not recommended because of , you directly may skip to the second suggestion):
p65573
aVAssuming you have the following controller action:
p65574
aVand in the view:
p65575
aVAnd now the recommended way:
p65576
aVModel:
p65577
aVController:
p65578
aVand in the view:
p65579
as(dp65580
g16
V29407
p65581
stp65582
a((dp65583
g2
(lp65584
VAFAIK you need either a custom attribute or specify the ErrorMessageResourceName and ErrorMessageResourceType properties
p65585
aVThere is another possibility detailed here:
p65586
aVCreate a global resource class in
p65587
aVApp_GlobalResources, and set
p65588
aVDefaultModelBinder
p65589
aVResourceClassKey to
p65590
aVthe name of this class (for example,
p65591
aVif you made "Messages
p65592
aVresx", then set
p65593
aVResourceClassKey to "Messages")
p65594
aVThere are two strings you can override
p65595
aVin MVC 2:
p65596
aVThe string value for
p65597
aV"PropertyValueInvalid" is used when
p65598
aVthe data the user entered isn't
p65599
aVcompatible with the data type (for
p65600
aVexample, typing in "abc" for an
p65601
aVinteger field)
p65602
aVThe default message
p65603
aVfor this is: "The value '{0}' is not
p65604
aVvalid for {1}
p65605
aVThe string value for
p65606
aV"PropertyValueRequired" is used when
p65607
aVthe user did not enter any data for a
p65608
aVfield which is not nullable (for
p65609
aVexample, an integer field)
p65610
aVThe
p65611
aVdefault message for this is: "A value
p65612
aVis required
p65613
aVIt's important to note
p65614
aVin the second case that, if you have
p65615
aVthe
p65616
aVDataAnnotationsModelValidatorProvider
p65617
aVin your validator providers list
p65618
aV(which it is by default), then you
p65619
aVwill never see this second message
p65620
aVThis provider sees non-optional fields
p65621
aVand adds an implied [Required]
p65622
aVattribute to them so that their
p65623
aVmessages will be consistent with other
p65624
aVfields with explicit [Required]
p65625
aVattributes and to ensure that you get
p65626
aVclient-side validation for required
p65627
aVfields
p65628
as(dp65629
g16
V29407
p65630
stp65631
a((dp65632
g2
(lp65633
Vand here's a full example:
p65634
as(dp65635
g16
V29407
p65636
stp65637
a((dp65638
g2
(lp65639
VThe problem with your approach is that you have included the image data as part of your view model but the  tag expects an URL in the  attribute
p65640
aVSome browsers support base64 embedded images to be put inside the HTML but I would recommend you to avoid this approach as the volume of your markup might grow
p65641
aVSo you will need a controller action which serves the image:
p65642
aVand then point the  attribute of the  tag to this controller action:
p65643
as(dp65644
g16
V29407
p65645
stp65646
a((dp65647
g2
(lp65648
VYou can download the source code of ASP
p65649
aVNET MVC 3 and inside you have the source of WebGrid
p65650
aVOnce you unzip you will find it inside the  file
p65651
aVGood luck with modifying it :-) (1104 lines in a single source code file)
p65652
as(dp65653
g16
V29407
p65654
stp65655
a((dp65656
g2
(lp65657
VOne possibility would be to pass the simple properties in the query string:
p65658
aVAnother possibility is to store it in TempData (for the lifetime of the redirect) or Session (for the lifetime of the ASP
p65659
aVNET session):
p65660
aVand then retrieve it from TempData:
p65661
aVYet another possibility (and the one I would recommend you) is to persist this object in the POST method in your datastore:
p65662
aVand then fetch it from the data store after you redirect:
p65663
as(dp65664
g16
V29407
p65665
stp65666
a((dp65667
g2
(lp65668
VExample:
p65669
aVModel:
p65670
aVController:
p65671
aVView:
p65672
aVand here's a better (in my perspective example):
p65673
aVView:
p65674
ag9596
aVwhich can be further enhanced with the jQuery form plugin
p65675
as(dp65676
g16
V29407
p65677
stp65678
a((dp65679
g2
(lp65680
VHere's how you could proceed:
p65681
aVUPDATE:
p65682
aVIf you have client side validation enabled you will also need to plug into the jquery validate plugin and manually indicate how to highlight/unhighlight error fields as you have customized the markup
p65683
aVThis can be done by simply overriding the default values of the plugin:
p65684
as(dp65685
g16
V29407
p65686
stp65687
a((dp65688
g2
(lp65689
VThe null values are ignored:
p65690
aVprints
p65691
as(dp65692
g16
V29407
p65693
stp65694
a((dp65695
g2
(lp65696
VIf you want to localize your application you may take a look at the following article
p65697
aVAs far as allowing users to enter information in different languages is concerned, well, a textbox is a textbox, a user can enter whatever he wants and a database is a database, it can store everything you throw it, it doesn't really care whether it's English, French or Klingon
p65698
aVSo based on the  you will know what language is being used and organize your models respectively
p65699
aVAs far as storing the current user language preference is concerned you have multiple choices: cookies, route parameters, session,
p65700
as(dp65701
g16
V29407
p65702
stp65703
a((dp65704
g2
(lp65705
VYou may find the following blog post useful
p65706
aVThe proposed algorithm is:
p65707
as(dp65708
g16
V29407
p65709
stp65710
a((dp65711
g2
(lp65712
VYou may download it from here
p65713
aVAnd here's the accompanying blog post
p65714
as(dp65715
g16
V29407
p65716
stp65717
a((dp65718
g2
(lp65719
VYou may get rid of MicrosoftAjax and try like this:
p65720
aVand then:
p65721
as(dp65722
g16
V29407
p65723
stp65724
a((dp65725
g2
(lp65726
VAn action method returns an instance that embodies a command that the framework needs to perform next
p65727
aVThis provides a means for delaying the execution of framework/pipeline code until after the action method is complete, rather than from within the action method
p65728
aVThis command represented by the ActionResult abstract class and posses the ExecuteResult method which is implemented by concrete commands such as  and :
p65729
as(dp65730
g16
V29407
p65731
stp65732
a((dp65733
g2
(lp65734
s(dp65735
g16
V29407
p65736
stp65737
a((dp65738
g2
(lp65739
VThe controller runs on the server, jquery on the client
p65740
aVSo executing javascript from the controller is out of the question
p65741
aVOn the other hand you could use the  callback of your AJAX call to close the dialog:
p65742
as(dp65743
g16
V29407
p65744
stp65745
a((dp65746
g2
(lp65747
VI am unable to reproduce this
p65748
aVYou might need to provide more context (controllers, views,
p65749
aVAlso shouldn't your textbox be named like this:
p65750
aVand also why not using the strongly typed version directly:
p65751
as(dp65752
g16
V29407
p65753
stp65754
a((dp65755
g2
(lp65756
VI have a View with a foreach loop for a list property of the mode
p65757
aVI would recommend you to avoid writing loops in your views in favor of editor templates
p65758
aVSo:
p65759
aVand in the corresponding editor template ():
p65760
aVSo the editor template will be rendered for each element in your model (which is a collection of some type)
p65761
aVThe important part is that the editor template must be located in  and named  where  is the type name used in your main view model collection
p65762
as(dp65763
g16
V29407
p65764
stp65765
a((dp65766
g2
(lp65767
VNo, it isn't worth it
p65768
aVIt is the controller that has access to the Http Context including the session
p65769
aVNot to mention that you already are working with an abstraction of the session: HttpSessionStateBase which can be easily mocked in a unit test
p65770
aVThere might be situations where you could have your business methods take ICollection as input parameter which is an interface implemented by  and then have the controller pass the  object to them
p65771
as(dp65772
g16
V29407
p65773
stp65774
a((dp65775
g2
(lp65776
VYou could use a status property in the view model and in the view:
p65777
aVand if you wanted to render HTML literals in Razor without encoding them:
p65778
aVBut the example you have shown seems like a validation error message which could also be stored in a resources file
p65779
as(dp65780
g16
V29407
p65781
stp65782
a((dp65783
g2
(lp65784
VYou could use the  function:
p65785
aVAlso you could simplify your code like this using the  method which obviously is a far better solution:
p65786
as(dp65787
g16
V29407
p65788
stp65789
a((dp65790
g2
(lp65791
VIn order to capture the response you could use a response filter:
p65792
aVthen you could have a custom action attribute:
p65793
as(dp65794
g16
V29407
p65795
stp65796
a((dp65797
g2
(lp65798
VTry like this:
p65799
as(dp65800
g16
V29407
p65801
stp65802
a((dp65803
g2
(lp65804
VThat's how the default Decimal editor template is defined:
p65805
aVNotice the  format
p65806
aVSo you have two possibilities:
p65807
aVUse  instead of  as type in your model
p65808
aVModify the default editor template by creating a custom  which might simply look like this:
p65809
aVYou probably might want to modify the display template as well
p65810
as(dp65811
g16
V29407
p65812
stp65813
a((dp65814
g2
(lp65815
VI would use a custom action result:
p65816
aVand then you could define a view model which will represent your data:
p65817
aVand return this view model from the controller action:
p65818
as(dp65819
g16
V29407
p65820
stp65821
a((dp65822
g2
(lp65823
VIf the  is part of your route data:
p65824
as(dp65825
g16
V29407
p65826
stp65827
a((dp65828
g2
(lp65829
VSession seems to be the option but i
p65830
aVhave attached webforms for showing
p65831
aVcrystal reports and the Session object
p65832
aVused by webforms and MVC is different:
p65833
aVMvc uses HttpSessionStateBase and
p65834
aVwebforms use HttpSessionState
p65835
aVis an abstract class and it's implementation is simply a wrapper of the original  object
p65836
aVSo as long as you stay within the same application the session is exactly the same between MVC and WebForms and you would be able to share data using it
p65837
aVSo in your scenario session seems a correct approach for persisting data
p65838
as(dp65839
g16
V29407
p65840
stp65841
a((dp65842
g2
(lp65843
VAspose
p65844
aVWords for
p65845
aVNET is a commercial component allowing you to achieve this
p65846
as(dp65847
g16
V29407
p65848
stp65849
a((dp65850
g2
(lp65851
VIn HTML5 the possibility to use self closing tags on void elements (like , , , , etc) was added to ease migration to and from XML but it is not necessary
p65852
as(dp65853
g16
V29407
p65854
stp65855
a((dp65856
g2
(lp65857
VYou could use the following overload allowing you to pass a model to the partial:
p65858
aVor directly the model if it is of the correct type as expected by the partial:
p65859
as(dp65860
g16
V29407
p65861
stp65862
a((dp65863
g2
(lp65864
VStrange indeed
p65865
aVSteps that worked perfectly fine for me:
p65866
aVCreate a new ASP
p65867
aVNET MVC 3 application using the default Visual Studio template
p65868
aVAdd an area called  using Visual Studio designer by right clicking on the project
p65869
aVAdd new Controller in :
p65870
aVAdd a corresponding view
p65871
aVIn the layout () add links:
p65872
aVRun the application
p65873
aVRendered HTML for the anchors:
p65874
aVAs expected the first link works whereas the second doesn't
p65875
aVSo what's the difference with your setup
p65876
as(dp65877
g16
V29407
p65878
stp65879
a((dp65880
g2
(lp65881
VWell, the problem is not really related to NuGet
p65882
aVYou cannot reference unsigned assembly from a signed assembly
p65883
aVAnd because the  as contained in the NuGet package is not strongly signed you won't be able to use it if your application is strongly signed
p65884
aVSo you basically have two possibilities to choose from:
p65885
aVDownload the source code of RouteDebug and compile it yourself by signing it with a strong key
p65886
aVRemove the strong key signature from your hosting application
p65887
as(dp65888
g16
V29407
p65889
stp65890
a((dp65891
g2
(lp65892
VYou could proceed with a conjunction of two helpers:
p65893
aVand then in your :
p65894
aVand somewhere in some template:
p65895
as(dp65896
g16
V29407
p65897
stp65898
a((dp65899
g2
(lp65900
Vis there a method like Url
p65901
aVContent();
p65902
aVWhy like when there is
p65903
aVwhich will take care of the virtual directory name and if your side is deployed at the root  it will return  and if you have a virtual directory  it will return
p65904
aVSo everytime you need to link a static resource you should always use
p65905
aVFor example:
p65906
aVwill always correctly resolve the image url no matter where your site is deployed to
p65907
as(dp65908
g16
V29407
p65909
stp65910
a((dp65911
g2
(lp65912
VThat would be a perfect candidate for a custom html helper:
p65913
aVModel:
p65914
aVController:
p65915
aVand a view:
p65916
as(dp65917
g16
V29407
p65918
stp65919
a((dp65920
g2
(lp65921
V cannot be optional if  is optional
p65922
aVOnly the last parameter of a route definition can be optional
p65923
aVSo :
p65924
aVand then:  will successfully map to
p65925
as(dp65926
g16
V29407
p65927
stp65928
a((dp65929
g2
(lp65930
VUsing this technique you cannot format the contents
p65931
aVYou will need to generate a real Excel binary file using some third party control for this purpose
p65932
aVHere's one worth checking out
p65933
aVYou may also take a look at this article
p65934
as(dp65935
g16
V29407
p65936
stp65937
a((dp65938
g2
(lp65939
VYou haven't really specified your target application type, so:
p65940
aVFor a Console application:
p65941
aVFor a WinForms/desktop application:
p65942
aVFor a web application:
p65943
aVor you could also implement custom dialogs with javascript and jquery
p65944
as(dp65945
g16
V29407
p65946
stp65947
a((dp65948
g2
(lp65949
VYou may checkout the following blog post
p65950
aVAnd the followup about validation
p65951
as(dp65952
g16
V29407
p65953
stp65954
a((dp65955
g2
(lp65956
VI bet you are missing a  inclusion:
p65957
aVThis will unobtrusively AJAXify the  generated result and perform a POST request instead of the default GET one
p65958
aVYou are getting 404 because you haven't included this script and so a GET request is sent and there is no Save action on Video controller capable of receiving a GET request
p65959
aVIf you have used FireBug you would immediately have seen this: that the browser is simply redirecting and sending a GET request instead of the expected Ajax POST request
p65960
as(dp65961
g16
V29407
p65962
stp65963
a((dp65964
g2
(lp65965
VDon't do it the hard way, checkout MvcMailer or Postal
p65966
aVIt will make your life much easier
p65967
aVAnd not only that but you will have more time to focusing on solving some real business problems rather than plumbing stuff like this which have already been addressed
p65968
as(dp65969
g16
V29407
p65970
stp65971
a((dp65972
g2
(lp65973
VThe correct way is to always define view models
p65974
aVView models are classes which are specifically tailored to the needs of a given view and would be defined in the MVC application tier
p65975
aVThose classes would contain only the properties that would be needed to be displayed by the view
p65976
aVThen you need to map between your domain models (EF autogenerated classes
p65977
aVand the view models
p65978
aVSo a controller action would query a repository in order to fetch a domain model, map it to a view model and pass this view model to the view
p65979
aVTop facilitate this mapping you could use AutoMapper
p65980
aVA view shouldn't be tied to a domain model and always work with a view model
p65981
aVThis works also the other way around: a controller action receives a view model from the view as action argument, maps it to a domain model and passes this domain model to the repository in order to perform some action with it (CRUD)
p65982
aVSo a view model could be a class that is mapped from multiple domain models or multiple view models could be mapped to a single domain model
p65983
aVIt all depends on how your domain looks like and how do you want to represent the information to the user
p65984
aVAs far as validation is concerned, I distinguish two types: UI validation and business validation
p65985
aVAs an example of UI validation is: a field is required, or a field must be entered in a given format
p65986
aVA business validation is : the username is already taken or insufficient funds to perform wire transfer
p65987
aVUI validation should be done on the view models and business validation on the domain models
p65988
as(dp65989
g16
V29407
p65990
stp65991
a((dp65992
g2
(lp65993
VPersonally I use AutoMapper to map back and forth between my domain models (used by the service tier) and my view models (used by the UI tier)
p65994
aVIt's a tool that I have been using in large scale production application without ever having any issues
p65995
as(dp65996
g16
V29407
p65997
stp65998
a((dp65999
g2
(lp66000
Vwhen is it handy to have a business layer in your mvc web application
p66001
aVThis could come handy if you have some existing or complex business logic you would like to reuse
p66002
aVObviously this doesn't mean that you should always have a business layer in each application
p66003
aVIt would depend on the specific requirements of the application and answering this question without more details about your scenario would be subjective
p66004
aVSo if you want an objective answer please provide an objective scenario, otherwise we are just chattering here without being constructive
p66005
aVwhy do calls from the controller straight to the dataaccess layer
p66006
aVNo idea, it would be bad practice IMHO as it would make your controllers tightly coupled to your database and as a consequence difficult to unit test
p66007
aVWhat if tomorrow you decide to switch to the could
p66008
aVWould you like to modify your controllers
p66009
aVI would recommend you to make the different layers of your application as weakly coupled as possible by always working with abstractions (abstract classes/interfaces)
p66010
as(dp66011
g16
V29407
p66012
stp66013
a((dp66014
g2
(lp66015
VIf you are using SQL authentication your connection string should look like this:
p66016
aVand if you are using Windows Authentication:
p66017
aVAlso make sure a firewall is not blocking connections
p66018
aVFor more info checkout the following site
p66019
aVAnd if you still have troubles configuring your SQL Server don't hesitate to ask your question on http://serverfault
p66020
aVcom/
p66021
as(dp66022
g16
V29407
p66023
stp66024
a((dp66025
g2
(lp66026
VIf you use  on your form the HTML specification states that the user agent should send a GET request to the url used in the  attribute and append values as query string arguments
p66027
aVIf you use  on your form the HTML specification states that the user agent should send a POST request to the  attribute and write the values of form fields in the POST request body
p66028
aVConclusion: what you are trying to achieve is impossible with plain HTML
p66029
aVOne way to achieve this would be to use javascript and subscribe for the  event of the form, build the request url and manually redirect to it after canceling the default behavior
p66030
aVExample with jQuery:
p66031
aVBut personally I would stick with a POST verb
p66032
as(dp66033
g16
V29407
p66034
stp66035
a((dp66036
g2
(lp66037
VYou might find the following blog post useful
p66038
aVSo in your  method simply:
p66039
aVand to bring the  extension method into scope don't forget to add a proper  directive:
p66040
as(dp66041
g16
V29407
p66042
stp66043
a((dp66044
g2
(lp66045
VIn the controller:
p66046
aVor if you prefer:
p66047
aVand in the view:
p66048
as(dp66049
g16
V29407
p66050
stp66051
a((dp66052
g2
(lp66053
VYou should remove the circular dependency from your view model or you want be able to serialize it as JSON
p66054
aVAlso don't call  in your controller
p66055
aVThis method should be called only once ideally in
p66056
as(dp66057
g16
V29407
p66058
stp66059
a((dp66060
g2
(lp66061
VI would recommend you using a view model:
p66062
aVand then in your controller action you would send a list of those models to the view:
p66063
aVand the view you could use hidden fields for the id and a textbox for the value:
p66064
aVand the corresponding editor template ():
p66065
as(dp66066
g16
V29407
p66067
stp66068
a((dp66069
g2
(lp66070
VI prefer to pass the whole model to the service instead of individual properties to avoid cluttering the methods
p66071
aVAs far as the validation logic is concerned you are saying that it has to deal with two concerns: business logic validation and actual saving
p66072
aVI think that those two concerns belong to the service
p66073
aVA consumer of this service shouldn't be able to call only the save without validating first and perform those two things in the service ensures that this wouldn't happen
p66074
aVAlso the actual saving could be delegated by the service method to one or multiple CRUD repository calls
p66075
aVSo in a controller:
p66076
aVIn the article you have linked the following approach is used to initialize the service and pass it the model state so that it writes the errors directly:
p66077
aVso that later you could directly:
p66078
aVThis is also a valid and good approach
p66079
aVThe only problem is the following line  inside a controller which is very bad as it is tightly coupling the controller with a particular implementation of a service
p66080
aVThe service should be injected by a DI framework but the problem is passing the ModelState as it would create circular dependency
p66081
aVThere are some threads here addressing this issue
p66082
as(dp66083
g16
V29407
p66084
stp66085
a((dp66086
g2
(lp66087
VThere is a ticket about this issue
p66088
as(dp66089
g16
V29407
p66090
stp66091
a((dp66092
g2
(lp66093
VThere are two cases:
p66094
aVYou are using view models as action arguments in which case the default model binder automatically assigns the properties and sets possible errors to the model state:
p66095
aVYou are using some weak typing with either  or  in which case the default model binder doesn't kick in and doesn't perform any validation at all as it is not capable of infering your real model type
p66096
aVIn this case you need to manually call  and indicate your model type:
p66097
aVConclusion: using  as action argument in a controller action makes very little sense
p66098
as(dp66099
g16
V29407
p66100
stp66101
a((dp66102
g2
(lp66103
VA dataset can contain multiple tables and a valid XML file must contain a single root node that's why it is wrapped in this node
p66104
aVYou could specify the name of the root node when creating the DataSet:
p66105
aVbut if you want to remove it you could first load the DataSet into a XDocument or XmlDocument and then extract the node you need and save it into a file
p66106
as(dp66107
g16
V29407
p66108
stp66109
a((dp66110
g2
(lp66111
VThis happens because your  tag has a  attribute (a nasty heritage from WebForms)
p66112
aVRemove it and no rewrites will happen
p66113
aVAlso instead of:
p66114
aVyou should always use Url helpers when dealing with urls:
p66115
aVYou should not leave automatic rewrites to happen, always use  for linking static resources
p66116
as(dp66117
g16
V29407
p66118
stp66119
a((dp66120
g2
(lp66121
s(dp66122
g16
V29407
p66123
stp66124
a((dp66125
g2
(lp66126
VThat's because your  tag is not closed
p66127
aVYou have wrong nesting of elements: the tag is opened inside a  and closed outside
p66128
aVBesides I would recommend you the following:
p66129
as(dp66130
g16
V29407
p66131
stp66132
a((dp66133
g2
(lp66134
Vpage" I'm currently viewing
p66135
aVThe CalculateId could simply associate the current controller and action to the corresponding id in the database or directly add those columns in your database and then query:
p66136
as(dp66137
g16
V29407
p66138
stp66139
a((dp66140
g2
(lp66141
VWhatever you store in the session will be available only to the current user
p66142
aVEach user of your site gets a different session id and this id is sent with a cookie so that the server can identify the user
p66143
aVAs noted by @Brad Christie at the comments section if cookies are disabled you could configure the session to use hidden fields or send the id as part of the url
p66144
as(dp66145
g16
V29407
p66146
stp66147
a((dp66148
g2
(lp66149
VBut because you are putting this test directly inside document ready probably the first option will be preselected unless you explicitly modify your markup to preselect a specific option:
p66150
as(dp66151
g16
V29407
p66152
stp66153
a((dp66154
g2
(lp66155
VHere's a sample implementation
p66156
aVLet's assume that you have defined the following attribute:
p66157
aVNext you could write a custom metadata provider which will use this attribute:
p66158
aVwhich will be registered in :
p66159
aVand the last part is to write a custom editor template for the String type ():
p66160
aVand lastly to use the attribute:
p66161
aVand in the view:
p66162
aVObviously this covers only the string editor template but the example could be easily extended to the other default templates including display templates as well
p66163
as(dp66164
g16
V29407
p66165
stp66166
a((dp66167
g2
(lp66168
VIf you leave the divs in the master page you won't need to repeat their definition in each view that uses this page
p66169
aVSo it seems better to leave them as you currently have and only override the actual contents in the child pages
p66170
as(dp66171
g16
V29407
p66172
stp66173
a((dp66174
g2
(lp66175
VYou could use a manual reset event:
p66176
as(dp66177
g16
V29407
p66178
stp66179
a((dp66180
g2
(lp66181
VThe following code:
p66182
aVtriggers the submit event immediately and POSTs to the server
p66183
aVThe following code:
p66184
aVsimply redefines the  handler but doesn't submit immediately
p66185
aVYou need to click on the submit button and then the anonymous function will be invoked (which is empty and would eventually perform a normal submit but you need to click on the submit button)
p66186
aVSo if you wanted to use AJAX:
p66187
as(dp66188
g16
V29407
p66189
stp66190
a((dp66191
g2
(lp66192
VIn your  javascript function you are calling the  handler so you shouldn't expect the  action to ever be hit during the AJAX call
p66193
aVIt will be hit only during the initial page load
p66194
aVMaster layout:
p66195
aVController:
p66196
aVCorresponding partial ()
p66197
aVNotice the removal of  blocks as they are not necessary as well as using an Url helper to build the url to the server script to avoid hardcoding it which might break if your application is hosted in a virtual directory inside IIS:
p66198
as(dp66199
g16
V29407
p66200
stp66201
a((dp66202
g2
(lp66203
VIf you wanted to execute a javascript function at regular intervals you cold use the window
p66204
aVsetInterval function:
p66205
aVSo you could write a function that will send an AJAX request to your PHP script:
p66206
aVOr if you want to reload the entire page (without using AJAX) you could use
p66207
as(dp66208
g16
V29407
p66209
stp66210
a((dp66211
g2
(lp66212
VYou may checkout the WPF NotifyIcon control
p66213
as(dp66214
g16
V29407
p66215
stp66216
a((dp66217
g2
(lp66218
VEnum values can only be integral types (byte, sbyte, short, ushort, int, uint, long, or ulong)
p66219
aVEnum names can only be valid
p66220
aVNET identifiers => no  possible
p66221
aVSo the solution to whatever you are trying to do (which you haven't explained in your question) would be not to use enums
p66222
aVOne possible alternative is to use a
p66223
aVBut once again without knowing your exact scenario and what you are trying to achieve it is difficult to propose a precise answer
p66224
as(dp66225
g16
V29407
p66226
stp66227
a((dp66228
g2
(lp66229
VTry like this:
p66230
aVRemark: never hardcode urls in your javascript files as you did in the url property of your AJAX call
p66231
aVAlways Url helpers
p66232
aVSo instead of:
p66233
aVuse:
p66234
as(dp66235
g16
V29407
p66236
stp66237
a((dp66238
g2
(lp66239
VYou can't/shouldn't access  from
p66240
aVYou need a controller instance
p66241
aVUnfortunately because you haven't explained your scenario and why do you need to do this I cannot provide you with a better alternative
p66242
as(dp66243
g16
V29407
p66244
stp66245
a((dp66246
g2
(lp66247
VOne commonly used technique to achieve this is to use AJAX
p66248
aVObviously the dynamic content must come from a dynamic server side script
p66249
as(dp66250
g16
V29407
p66251
stp66252
a((dp66253
g2
(lp66254
V1)Theoretically, can my InfoStrings object be garbage collected
p66255
aVNo, it's a static field which once assigned won't be garbage collected
p66256
aV2)Am I doing proper locking there
p66257
aVI would recommend you locking on a private static object:
p66258
aVYou might also find the following article useful when implementing the singleton pattern in C#
p66259
aVExample:
p66260
aVand then you don't need to lock in order to obtain the instance:
p66261
as(dp66262
g16
V29407
p66263
stp66264
a((dp66265
g2
(lp66266
VA better way to achieve what you are trying to do:
p66267
as(dp66268
g16
V29407
p66269
stp66270
a((dp66271
g2
(lp66272
VI am afraid there isn't any reliable automated tool to achieve such thing
p66273
aVThe differences between Delphi and
p66274
aVNET are huge
p66275
aVI did similar conversion at 2002 and I did it manually, by rewriting the whole project from scratch and it was hardcore stuff
p66276
aVObviously if you think that porting it to
p66277
aVNET would be too much of a work you could always reuse functionality by exposing it as COM objects
p66278
as(dp66279
g16
V29407
p66280
stp66281
a((dp66282
g2
(lp66283
VUPDATE:
p66284
aVHere's a lazy approach which doesn't require you to load all the file names in memory at once which could be used for example in conjunction with the Directory
p66285
aVEnumerateFiles method:
p66286
as(dp66287
g16
V29407
p66288
stp66289
a((dp66290
g2
(lp66291
VYou could use a ManualResetEvent:
p66292
aVNote that blocking the main thread is a bad practice because it will freeze the UI
p66293
aVA better way would be to simply handle the results in the download completed event handler
p66294
aVAnd because this handler is executed on a thread different than the UI thread don't forget to marshal any calls that update the UI to the main thread
p66295
aVRecommended example:
p66296
aVThis way you are no longer blocking the main thread and the UI remains fluid
p66297
aVOnce the asynchronous operation completes you update the UI with the result by marshalling the call to the UI thread using the Dispatcher
p66298
aVBeginInvoke method
p66299
as(dp66300
g16
V29407
p66301
stp66302
a((dp66303
g2
(lp66304
VIf you are using SQL Express the database file is usually stored in the special  folder in the web application and the connection string configured in web
p66305
aVconfig
p66306
as(dp66307
g16
V29407
p66308
stp66309
a((dp66310
g2
(lp66311
VHere's a sample pattern:
p66312
aVand inside the view:
p66313
as(dp66314
g16
V29407
p66315
stp66316
a((dp66317
g2
(lp66318
VIn ASP
p66319
aVNET MVC abstractions over the classic HttpContext objects Request, Response, Session were introduced
p66320
aVThey represent abstract classes and are exposed all over the MVC framework to hide the underlying context and simplify the unit testing because abstract classes can be mocked
p66321
aVFor example for the session object you have  and its implementation
p66322
aVHere's an example of how to convert between the classic ASP
p66323
aVNET session and the abstraction:
p66324
aVSo the  which you are referring to is the underlying session object which existed ever since classic ASP
p66325
aVNET 1
p66326
ag2721
aVIn MVC this object is wrapped into a
p66327
aVBut since ASP
p66328
aVNET MVC is an ASP
p66329
aVNET application you still get the Global
p66330
aVasax in which you have the bare session
p66331
as(dp66332
g16
V29407
p66333
stp66334
a((dp66335
g2
(lp66336
VYou could use TempData which is preserved between a single redirect:
p66337
aVand in the view display the message:
p66338
aVIf there is no message in  it will simply display an empty
p66339
aVYou could further check if  in the view if you didn't want the empty div
p66340
as(dp66341
g16
V29407
p66342
stp66343
a((dp66344
g2
(lp66345
VDon't use string concatenations when constructing request parameters or they won't be properly url encoded and if the parameter contains some special characters it won't be properly received
p66346
aVHere's the correct way:
p66347
as(dp66348
g16
V29407
p66349
stp66350
a((dp66351
g2
(lp66352
VWhy not simply:
p66353
as(dp66354
g16
V29407
p66355
stp66356
a((dp66357
g2
(lp66358
VThis should work
p66359
aVJust don't forget to cancel the default form submit by returning false:
p66360
aVAlso you have specified  so make sure that your controller actions returns JSON:
p66361
as(dp66362
g16
V29407
p66363
stp66364
a((dp66365
g2
(lp66366
VThe  character has a special meaning in a url => it means whitespace
p66367
aVIf you want to use the  sign you need to URL encode it:
p66368
aVHere's an example of how you could properly generate urls in
p66369
aVNET:
p66370
as(dp66371
g16
V29407
p66372
stp66373
a((dp66374
g2
(lp66375
VWhat is this mess
p66376
aVWhat are you asking
p66377
aVIn your question you didn't show how your code look like so we can only be guessing here
p66378
aVNormally when you ask a question you should show precisely how your code looks
p66379
aVSo here's a guess I can make to improve your code with a working example:
p66380
aVView:
p66381
as(dp66382
g16
V29407
p66383
stp66384
a((dp66385
g2
(lp66386
VYou could use the  function:
p66387
aVor:
p66388
as(dp66389
g16
V29407
p66390
stp66391
a((dp66392
g2
(lp66393
VYou may checkout the following article:
p66394
as(dp66395
g16
V29407
p66396
stp66397
a((dp66398
g2
(lp66399
VFor
p66400
aVNET you may checkout DotNetOpenAuth, that's what SO uses to implement OpenId authentication
p66401
aVSo add the NuGet and get started
p66402
aVAnd for the nice icons checkout openid-selector
p66403
aVFor PHP you may checkout this project
p66404
as(dp66405
g16
V29407
p66406
stp66407
a((dp66408
g2
(lp66409
VASP
p66410
aVNET MVC has no built-in support for such things
p66411
aVIt has support for Models, Views, Controllers and a couple of HTML helpers
p66412
aVFrom there you can implement everything you want
p66413
aVYou may checkout the MvcContrib Grid or Telerik Grid for creating nice looking grid components allowing you to CRUD data
p66414
aVThere's also the WebGrid helper which is part of WebMatrix but this is something that I personally don't like and wouldn't recommend but some people find it useful so worth checking out as well
p66415
as(dp66416
g16
V29407
p66417
stp66418
a((dp66419
g2
(lp66420
VThe reason this happens is because you are passing a StringBuilder to the XmlWriter constructor
p66421
aVStrings in
p66422
aVNET are unicode so XmlWriter assumes utf-16 and you cannot modify this
p66423
aVSo you could use a stream instead of string builder, then you can control the encoding with the settings:
p66424
aVAll this being said a far better, more MVCish and a one the I would recommend you solution is to write a :
p66425
aVand in your controller action simply return this result so that you don't clutter your controller actions with plumbing code:
p66426
as(dp66427
g16
V29407
p66428
stp66429
a((dp66430
g2
(lp66431
VYou need to allow write access to the  directory to the account your application is configured to run under IIS
p66432
aVWhen you try to register a user for the first time the application need to create the  database file
p66433
aVAlso if you are not using SQL Express and  have a SQL Server installed don't forget to modify the connection string in your web
p66434
aVconfig to match the properties of your real server
p66435
as(dp66436
g16
V29407
p66437
stp66438
a((dp66439
g2
(lp66440
VYou could still return the corresponding view:
p66441
aVYou may also take a look at the following article for an alternative about how to perform validation at the service layer
p66442
as(dp66443
g16
V29407
p66444
stp66445
a((dp66446
g2
(lp66447
VYou might take a look at the following article
p66448
as(dp66449
g16
V29407
p66450
stp66451
a((dp66452
g2
(lp66453
s(dp66454
g16
V29407
p66455
stp66456
a((dp66457
g2
(lp66458
VName of the field
p66459
aVValue of the field
p66460
as(dp66461
g16
V29407
p66462
stp66463
a((dp66464
g2
(lp66465
VWhen redirecting you can only pass simple scalar values and not complex objects
p66466
aVExample:
p66467
aVAnother possibility is to persist the object to your datastore and pass only the corresponding id:
p66468
as(dp66469
g16
V29407
p66470
stp66471
a((dp66472
g2
(lp66473
VIs Session domain aware
p66474
aVBy default Session is tracked by cookies and because cookies are restricted to the same domain the session is not only domain aware but also application-aware meaning that if you have two applications on the same domain they won't share session
p66475
aVCan I set multiple domains on an authentication cookie
p66476
aVNo
p66477
aVCookies cannot be shared between domains
p66478
aVBut contrary to sessions you can share them among multiple applications on the same domain (by setting the  attribute to the top level domain in the  tag in web
p66479
aVconfig)
p66480
aVThis is what allows to achieve single sign on between applications on the same domain
p66481
aVIf you wanted to achieve single sign on between applications on different domains you will need different approach
p66482
as(dp66483
g16
V29407
p66484
stp66485
a((dp66486
g2
(lp66487
VNo, you cannot redirect to actions that require POST verb
p66488
aVRedirects are performed by the client browser using GET verb after the server sent a 301 status code to the new location
p66489
as(dp66490
g16
V29407
p66491
stp66492
a((dp66493
g2
(lp66494
VWorks great (newly created ASP
p66495
aVNET MVC 3 application using the default Visual Studio template):
p66496
aVController ():
p66497
aVView ():
p66498
aVResulting HTML (as seen in browser view source):
p66499
as(dp66500
g16
V29407
p66501
stp66502
a((dp66503
g2
(lp66504
VWhy are you using this Plague of ViewData
p66505
aVI consider  as a virus started at Microsoft open space laboratories and spread through internet blog posts and articles
p66506
aVView models are the way to go in ASP
p66507
aVNET MVC:
p66508
aVModel:
p66509
aVController:
p66510
aVView:
p66511
as(dp66512
g16
V29407
p66513
stp66514
a((dp66515
g2
(lp66516
VWhen you call the WCF service programatically the cookie it sets is stored in the HttpClient instance
p66517
aVThe client browser never sees it so it is never set inside it
p66518
aVSo you will need to set it manually:
p66519
as(dp66520
g16
V29407
p66521
stp66522
a((dp66523
g2
(lp66524
VPersonally I use a repository
p66525
aVSo the controller queries a repository and gets a model, then maps the model to a view model and passes the view model to the view
p66526
aVExample:
p66527
aVAnd because this is repetitive logic I use custom action filters:
p66528
aVin this case the custom action filter intercepts the result of the action and replaces it using the corresponding mapping layer
p66529
aVThe way this repository is implemented is not the responsibility of the controller (whether it is an ORM, direct SQL queries, or even distant web service calls)
p66530
aVAs long as it is injected some proper implementation it will work which allows for weaker coupling between the different parts of the application and easier unit testing in isolation
p66531
aVSo in this example it is the implementation of the repository that is responsible for fetching data
p66532
as(dp66533
g16
V29407
p66534
stp66535
a((dp66536
g2
(lp66537
VTry like this:
p66538
aVThen make sure that the generated link is correct:
p66539
aVAlso note that using a plain GET verb for an action that modifies the state on the server is not recommended
p66540
aVHere's what I would recommend you:
p66541
aVand in the view:
p66542
aVand in a separate javascript file:
p66543
aVYou might also consider adding an anti forgery token to protect this action against CSRF attacks
p66544
as(dp66545
g16
V29407
p66546
stp66547
a((dp66548
g2
(lp66549
VYou could use the SmtpClient class to send emails in
p66550
aVNET
p66551
as(dp66552
g16
V29407
p66553
stp66554
a((dp66555
g2
(lp66556
VTry looking at the full exception stack trace
p66557
aVIt will show you which method is trying to load this library
p66558
aVThen remove the referenced assembly containing the offending method from your project
p66559
as(dp66560
g16
V29407
p66561
stp66562
a((dp66563
g2
(lp66564
VYou may take a look at PostSharp
p66565
as(dp66566
g16
V29407
p66567
stp66568
a((dp66569
g2
(lp66570
VMy MVC Controllers are set up to accept an HttpContextBase argument in the constructor
p66571
aVYou gotta be doing something extremely wrong here, so stop before it's too late and damage has been caused (material, moral and human casualties :-))
p66572
aVYou already have the HttpContext inside the controller
p66573
aVDon't register any HttpContexts in your DI framework
p66574
aVThe HttpContext handling is the job of ASP
p66575
aVNET
p66576
as(dp66577
g16
V29407
p66578
stp66579
a((dp66580
g2
(lp66581
VYou start with launching Visual Studio 2010 and creating a new ASP
p66582
aVNET MVC 3 project using the default template
p66583
aVIn advance you have thought about how you would organize your view models, controllers, views and data access layer
p66584
aVYou have drawn diagrams that will help you facilitate through the development process
p66585
aVYou have analyzed if there are any reusable parts of those 250,000 lines of code or is it all garbage
p66586
aVThen you can define expectations, write unit tests,
p66587
aVclassic development lifecycle
p66588
aVAlso setup your Git repository as early as possible in your development process, at best after creating the project template, and put this template under source control immediately
p66589
aVAlso don't forget to setup your continuous integration build server as early as possible so that you are notified of build failures in the trunk
p66590
as(dp66591
g16
V29407
p66592
stp66593
a((dp66594
g2
(lp66595
VIt's normal, that's how AJAX works
p66596
aVIt's asynchronous, meaning that the  function returns immediately and in this case  hasn't yet been assigned a value and once the server responds (which can be for example 10 seconds later), the success callback is invoked and the variable is assigned a value
p66597
aVSo always consume the results of your AJAX requests inside the  callback function
p66598
aVYou also have the possibility to pass the  option to your  call which will perform a synchronous request to the server and block until the result is retrieved
p66599
aVObviously this will lead to your browser freezing during the execution of the request
p66600
aVSo it would no longer be AJAX (Asynchronous Javascript And Xml) but SJAX (Synchronous Javascript and Xml)
p66601
as(dp66602
g16
V29407
p66603
stp66604
a((dp66605
g2
(lp66606
VThe reason this happens is because you are now serving the razor views from unknown locations the standard  no longer applies
p66607
aVSo you could put a  inside your custom views but it could be quite a hassle
p66608
aVYou may checkout the following article
p66609
as(dp66610
g16
V29407
p66611
stp66612
a((dp66613
g2
(lp66614
VThe  argument that you are passing to the  method must be a relative url within the same site starting with
p66615
aVExample:
p66616
aVIf the url is not part of your site you will need to download the file first
p66617
aVExample:
p66618
as(dp66619
g16
V29407
p66620
stp66621
a((dp66622
g2
(lp66623
VIn one word: Scalability
p66624
aVIf you don't use session at all it means that your application is stateless which is great
p66625
aVIn a web farm scenario you just throw another server and you are ready to tackle a new load of your site
p66626
aVYou could also use out of process sessions (like SQLServer or StateServer) and the session will be shared between all nodes of the farm but then this state server becomes a sensible single point of failure of the entire site
p66627
aVThere is also another issue with sessions: because session is not thread safe if there are two parallel requests for the same session (think AJAX calls) to a controller action which writes to the session those two requests will simply queue and execute sequentially
p66628
as(dp66629
g16
V29407
p66630
stp66631
a((dp66632
g2
(lp66633
VThe attribute should look like this:
p66634
aVIf you use the constructor with 3 string arguments they correspond to action, controller and area
p66635
aVModel:
p66636
aVController:
p66637
aVView:
p66638
aVAlso notice the name of the action argument passed to  action: it should match the name of the model property
p66639
as(dp66640
g16
V29407
p66641
stp66642
a((dp66643
g2
(lp66644
VYour question is very unclear so I can only be guessing
p66645
aVPersonally I pass  as parameter to actions that need to redirect:
p66646
aVand then I build HTML forms to invoke the action and pass the return url:
p66647
as(dp66648
g16
V29407
p66649
stp66650
a((dp66651
g2
(lp66652
VHere's how you could start at least for server side validation
p66653
aVHere's a very nice article that illustrates multiple concepts
p66654
aVValidation attribute:
p66655
aVModel:
p66656
aVController:
p66657
aVView (~/Views/Home/Index
p66658
aVcshtml):
p66659
aVEditor template ():
p66660
as(dp66661
g16
V29407
p66662
stp66663
a((dp66664
g2
(lp66665
VMake sure ASP
p66666
aVNET 4
p66667
aV0 is registered with IIS
p66668
aVIf it isn't you could register it with the following command:
p66669
aVand then try again
p66670
as(dp66671
g16
V29407
p66672
stp66673
a((dp66674
g2
(lp66675
VYou could try decorating the controller action you are posting to with the  attribute:
p66676
aVAlso if your application is compiled against
p66677
aVNET 4
p66678
aV0 you might need to add the following in your web
p66679
aVconfig:
p66680
as(dp66681
g16
V29407
p66682
stp66683
a((dp66684
g2
(lp66685
VYou may check the following article
p66686
as(dp66687
g16
V29407
p66688
stp66689
a((dp66690
g2
(lp66691
VRazor requires
p66692
aVNET 4
p66693
aV0 and works only with ASP
p66694
aVNET MVC 3, which is not supported in Visual Studio 2008
p66695
aVSo the answer is no
p66696
as(dp66697
g16
V29407
p66698
stp66699
a((dp66700
g2
(lp66701
VHow many time are you going to call this repository method (I've counted 3 so far)
p66702
aVI would recommend you to use a view model:
p66703
aVthen in your controller:
p66704
aVand your view:
p66705
aVand in the corresponding display template ():
p66706
aVA further improvement of this code would be to replace the   property in the view model by a specific  and use AutoMapper to externalize the mapping between the model and the view model
p66707
as(dp66708
g16
V29407
p66709
stp66710
a((dp66711
g2
(lp66712
VWhy not simply:
p66713
aVAs far as the values stored in the  string are concerned they are destined to go to the server where you can simply work with boolean properties
p66714
as(dp66715
g16
V29407
p66716
stp66717
a((dp66718
g2
(lp66719
VI would store this information in the user data part of the authentication cookie
p66720
aVSo when a user logs in:
p66721
aVThen I would write a custom authroize attribute which will take care of reading and parsing the authentication ticket and store a generic user in the HttpContext
p66722
aVUser property with its corresponding roles:
p66723
aVNext you could decorate your controllers/actions with this attribute to handle authorization:
p66724
aVIn order to check whether a user is in a given role simply:
p66725
aVArmed with this information you can now start thinking of how to organize your view models
p66726
aVIn those view models I would include boolean properties such as , ,
p66727
aVwhich will be populated by the controller
p66728
aVNow if you need this mapping in each action and views things might get repetitive and boring
p66729
aVThis is where global custom action filters come into play (they don't really exist in ASP
p66730
aVNET MVC 2, only in ASP
p66731
aVNET MVC 3 so you might need a base controller decorated with this action filter which simulates more or less the same functionality)
p66732
aVYou simply define such global action filter which executes after each action and injects some common view model to the ViewData (holy
p66733
aV, can't believe I am pronouncing those words) and thus make it available to all views in a transverse of the other actions manner
p66734
aVAnd finally in the view you would check those boolean value properties in order to include or not different areas of the site
p66735
aVAs far as the javascript code is concerned if it is unobtrusively AJAXifying areas of the site then if those areas are not present in the DOM then this code won't run
p66736
aVAnd if you needed more fine grained control you could always use HTML5  attributes on your DOM elements to give hints to your external javascript functions on the authorizations of the user
p66737
as(dp66738
g16
V29407
p66739
stp66740
a((dp66741
g2
(lp66742
VIf your site is precompiled and you already have the binaries (containing the ) in the  folder you don't need to specify a  attribute:
p66743
aVIf on the other hand your site is not precompiled and you have shipped the source code as well this source code need to be in the special  folder
p66744
as(dp66745
g16
V29407
p66746
stp66747
a((dp66748
g2
(lp66749
Vhow, exactly, do you organize your unit tests
p66750
aVI organize my unit tests to reflect my project structure
p66751
aVSo fir example if in my ASP
p66752
aVNET MVC project I have
p66753
aVControllers
p66754
aVModels
p66755
aVMappers
p66756
aVValidators
p66757
aVI have those same folders in my unit test project
p66758
aVThen for each file in the MVC project I have a corresponding unit test
p66759
aVHere's an example of a sample project structure I wrote
p66760
as(dp66761
g16
V29407
p66762
stp66763
a((dp66764
g2
(lp66765
VIt's a difficult thing to achieve
p66766
aVThat's why you should have a staging environment where everything should be validated before shipping into production
p66767
aVThen during the deployment process (if it takes long, but it shouldn't) you could use an  file
p66768
aVThis staging environment should be as close as possible to your production environment (in terms of software, patches and configurations installed, not in terms of hardware power of course)
p66769
as(dp66770
g16
V29407
p66771
stp66772
a((dp66773
g2
(lp66774
VThere is a single session cookie which represents a GUID
p66775
aVThe session values itself are stored on the server
p66776
aVSo when you write:
p66777
aVan HTTP cookie that might look like this is sent to the client
p66778
aVThis cookie contains only an id, not the actual values
p66779
aVThe actual values could be stored either in the server memory, a separate process, or even SQL Server depending on the  in web
p66780
aVconfig
p66781
aVThen when later the client sends another request it will send this cookie id to the server and given id the server will fetch the actual values
p66782
aVThe client browser stores those cookies in memory, meaning that if you close it, the session will be lost because session cookies are not persistent
p66783
as(dp66784
g16
V29407
p66785
stp66786
a((dp66787
g2
(lp66788
VI think that the Body property in the  model is redundant with the  property
p66789
aVSo your view is working with responses where each response has a body
p66790
aVSo:
p66791
aVSo far so good
p66792
aVNext you said that you have a list of responses to show and a new response to add, so:
p66793
aVFor the moment, given your description that's all I see necessary in the view model
p66794
aVAt least model reflects your scenario description
p66795
as(dp66796
g16
V29407
p66797
stp66798
a((dp66799
g2
(lp66800
VYou need to use javascript for this
p66801
aVIf you are using jquery you could:
p66802
aVAnd if you want to do this with plain javascript:
p66803
aVUPDATE:
p66804
aVIf you want the text to disappear when the user starts typing you may try the following:
p66805
aVLive demo
p66806
as(dp66807
g16
V29407
p66808
stp66809
a((dp66810
g2
(lp66811
VMake sure you return false from your click handler to cancel the default submit:
p66812
aVAlso cleanup your AJAX call in order to properly encode parameters, like this:
p66813
as(dp66814
g16
V29407
p66815
stp66816
a((dp66817
g2
(lp66818
VYou don't need to use the  attribute
p66819
aVThat's for calling unmanaged C/C++ libraries
p66820
aVFor
p66821
aVNET you simply add the generated DLL to the project references and use it directly:
p66822
aVSo for example if you have two projects in your Visual Studio solution called Proj1 (class library) and Proj2 (console application) you right click on the References of Proj2 and select Proj1 from the Project References Tab
p66823
aVThen you simply use the class directly:
p66824
aVafter having added the proper using to the namespace:
p66825
as(dp66826
g16
V29407
p66827
stp66828
a((dp66829
g2
(lp66830
VThey return the same value indeed, the ServerVariables is there only for backward compatibility with legacy code
p66831
aVNormally you should user
p66832
as(dp66833
g16
V29407
p66834
stp66835
a((dp66836
g2
(lp66837
VPersonally I wouldn't use neither
p66838
aVI would use a separate javascript file in which I would AJAXify the link:
p66839
aVwhere resultdiv will be a div which will be update with the partial result returned from the controller action:
p66840
aVYou just need to put the  class:
p66841
aVYou could also use  if you wanted to:
p66842
aVJust don't forget to include the jquery unobtrusive ajax script in this case:
p66843
as(dp66844
g16
V29407
p66845
stp66846
a((dp66847
g2
(lp66848
VView model:
p66849
aVController:
p66850
aVView (Razor):
p66851
aVView (WebForms):
p66852
as(dp66853
g16
V29407
p66854
stp66855
a((dp66856
g2
(lp66857
Vor:
p66858
as(dp66859
g16
V29407
p66860
stp66861
a((dp66862
g2
(lp66863
VYour code looks fine
p66864
aVIt's just that the  section is only read and interpreted by IIS 7
p66865
aV0 and higher
p66866
aVIt won't work with Cassini nor IIS 6
p66867
ag2721
as(dp66868
g16
V29407
p66869
stp66870
a((dp66871
g2
(lp66872
VThe default model binder relies on data annotations in order to perform validation
p66873
aVSo if your model properties don't have any attributes to indicate how validation is performed it will always be considered as valid (except for example in cases where you are trying to bind invalid formats to a  or  fields when the default model binder will automatically mark the model state as invalid)
p66874
as(dp66875
g16
V29407
p66876
stp66877
a((dp66878
g2
(lp66879
VIn order to get the list of menu items in the POST action you need their corresponding values must be included in the html  and because this is a collection follow the standard naming convention so that the default model binder can parse them
p66880
as(dp66881
g16
V29407
p66882
stp66883
a((dp66884
g2
(lp66885
VYou are using a wrong overload of the  helper
p66886
aVIt should be like this:
p66887
aVNotice the additional null value I am passing as the  parameter
p66888
aVAlso in the example you uploaded you forgot to include the  view
p66889
aVThis being said in order to fix the problem you have two possibilities:
p66890
aVEither return a partial view:
p66891
aVor disable the layout in the  view:
p66892
as(dp66893
g16
V29407
p66894
stp66895
a((dp66896
g2
(lp66897
VYou may checkout the following blog post for exporting to Excel
p66898
as(dp66899
g16
V29407
p66900
stp66901
a((dp66902
g2
(lp66903
VWhy are you using such helper when you can simply:
p66904
aVwhich will generate the proper anchor tag:
p66905
as(dp66906
g16
V29407
p66907
stp66908
a((dp66909
g2
(lp66910
VYou don't need
p66911
aVJust indicate the proper :
p66912
aVor even better do it asynchronously:
p66913
as(dp66914
g16
V29407
p66915
stp66916
a((dp66917
g2
(lp66918
VRouteData is supposed to be readonly
p66919
aVIf you want to change the culture you could create a new request
p66920
aVSo for example if you had the following route:
p66921
aVyou could send a new request:  which will modify the corresponding route parameter
p66922
aVHere's a nice article about localization that I would recommend you reading
p66923
as(dp66924
g16
V29407
p66925
stp66926
a((dp66927
g2
(lp66928
VIf you have a web farm you need to ensure that all servers in the farm share the same machineKey because if you have autogenerated and different machine keys the authentication ticket might not be properly decrypted
p66929
as(dp66930
g16
V29407
p66931
stp66932
a((dp66933
g2
(lp66934
VJSON
p66935
aVNET supports this type of structures
p66936
aVSo you could do this:
p66937
aVand then:
p66938
as(dp66939
g16
V29407
p66940
stp66941
a((dp66942
g2
(lp66943
VI would recommend you using editor templates:
p66944
aVand inside :
p66945
aVA further improvement to this code would be to get rid of all  and use strongly typed view models
p66946
as(dp66947
g16
V29407
p66948
stp66949
a((dp66950
g2
(lp66951
VI would write an extension method:
p66952
aVand then:
p66953
as(dp66954
g16
V29407
p66955
stp66956
a((dp66957
g2
(lp66958
VThe equivalent in Razor would be:
p66959
aVObviously having views to pull data from static methods is one of the ugliest and anti-MVC practice
p66960
aVViews shouldn't pull any data
p66961
aVThey should only use data that was provided to them by the controller
p66962
aVSo here's the correct way to do this:
p66963
aVand in the corresponding view ():
p66964
aVand to call this from your  simply:
p66965
as(dp66966
g16
V29407
p66967
stp66968
a((dp66969
g2
(lp66970
VYou need to initialize this  variable before using it:
p66971
aVor if you are using dependency injection:
p66972
aVand then you need to configure your dependency injection to pass the proper implementation of the  service contract interface in the controller constructor
p66973
as(dp66974
g16
V29407
p66975
stp66976
a((dp66977
g2
(lp66978
VPersonally I stick to RESTful conventions
p66979
aVSo once you have identified the resources it is easy
p66980
as(dp66981
g16
V29407
p66982
stp66983
a((dp66984
g2
(lp66985
V is not an action filter, so you cannot add it as a global action filter
p66986
aVIt's a special attribute which allows you to decorate your controllers with and have a more fine grained control over the session mode per controller
p66987
aVTo disable the session globally for the entire application put the following in your web
p66988
aVconfig:
p66989
as(dp66990
g16
V29407
p66991
stp66992
a((dp66993
g2
(lp66994
VYou may take a look at the MSDN Magazine article Determining
p66995
aVNET Assembly and Method References
p66996
as(dp66997
g16
V29407
p66998
stp66999
a((dp67000
g2
(lp67001
VYou could use the lock statement or decorate a method with the  attribute to allow access to this block/method only from a single thread at a time
p67002
as(dp67003
g16
V29407
p67004
stp67005
a((dp67006
g2
(lp67007
VI would suggest you to use normal form that will be AJAXified later:
p67008
aVand then in a separate file  AJAXify it:
p67009
aVAnother improvement I that I would suggest you is to use view models and get rid of  and use strongly typed helpers
p67010
as(dp67011
g16
V29407
p67012
stp67013
a((dp67014
g2
(lp67015
VYou don't have any JSON, so don't use JSON
p67016
aVparse
p67017
aVOnce you split you already have an array whose elements could be used directly:
p67018
aVand if you want to convert this array to a JSON string you could do this:
p67019
as(dp67020
g16
V29407
p67021
stp67022
a((dp67023
g2
(lp67024
VPlupload is a popular plugin
p67025
aVYou may also checkout an example
p67026
as(dp67027
g16
V29407
p67028
stp67029
a((dp67030
g2
(lp67031
VYou need to capture the scope into an anonymous function or setTimeout will run in the window scope:
p67032
as(dp67033
g16
V29407
p67034
stp67035
a((dp67036
g2
(lp67037
VAs always you start with a model:
p67038
aVthen a controller:
p67039
aVand finally a view:
p67040
aVObviously you will notice that in my example I have hardcoded all the values
p67041
aVYou should improve this logic by using notions like current year, current month, probably even fetch those values from a repository, etc
p67042
aVbut for the purpose of the demonstration this should be enough to put you on the right track
p67043
as(dp67044
g16
V29407
p67045
stp67046
a((dp67047
g2
(lp67048
VYou need to add some content to the pdf
p67049
aVSo try this:
p67050
as(dp67051
g16
V29407
p67052
stp67053
a((dp67054
g2
(lp67055
VYou cannot have multiple elements with the same id
p67056
aVSo start by fixing your markup:
p67057
aVand then assuming you have some link to trigger the action:
p67058
aVyou could simply AJAXify it:
p67059
as(dp67060
g16
V29407
p67061
stp67062
a((dp67063
g2
(lp67064
VThat's a good candidate for a custom HTML helper:
p67065
aVand then:
p67066
as(dp67067
g16
V29407
p67068
stp67069
a((dp67070
g2
(lp67071
VQuote:
p67072
aVExt
p67073
aVNET is an open source ASP
p67074
aVNET
p67075
aV(WebForm + MVC) component framework
p67076
aVintegrating the cross-browser Sencha
p67077
aVExt JS JavaScript Library
p67078
aVSo it is a collection of server side controls for ASP
p67079
aVNET and ASP
p67080
aVNET MVC which generate HTML markup and javascript based on the Extjs library
p67081
aVSo to answer your question, yes, it is usable by server side code but without at least basic knowledge of the client side part I am afraid that you won't get very far
p67082
as(dp67083
g16
V29407
p67084
stp67085
a((dp67086
g2
(lp67087
VYou cannot send complex objects like this:
p67088
aVOnly simple scalar properties:
p67089
aVSo a good practice in this case is to only send an id:
p67090
aVand then have your controller action fetch the corresponding model from wherever it is stored give this id:
p67091
as(dp67092
g16
V29407
p67093
stp67094
a((dp67095
g2
(lp67096
VHere's a blog post you might find helpful
p67097
as(dp67098
g16
V29407
p67099
stp67100
a((dp67101
g2
(lp67102
VTry the  method:
p67103
as(dp67104
g16
V29407
p67105
stp67106
a((dp67107
g2
(lp67108
VSo, how is the best way to deal with that
p67109
aVBy using a view model:
p67110
aVStrongly typing a login partial to a User model hardly makes sense
p67111
as(dp67112
g16
V29407
p67113
stp67114
a((dp67115
g2
(lp67116
VI can hardly make any sense out of your question but here's a commonly used pattern in ASP
p67117
aVNET MVC which you might be helpful:
p67118
as(dp67119
g16
V29407
p67120
stp67121
a((dp67122
g2
(lp67123
VHave you tried:
p67124
as(dp67125
g16
V29407
p67126
stp67127
a((dp67128
g2
(lp67129
VThere is a naming convention
p67130
aVSo for example if you have the following model:
p67131
aVand the following action:
p67132
aVyou could send the following request:
p67133
aVin order to set the Baz value
p67134
aVOf course this will automatically instantiate the Foo model and its Bar property
p67135
aVAnd obviously this convention also extends for lists and dictionaries
p67136
aVWhether the values are sent in the query string (GET request), as form values (POST request) or as route values it doesn't really matter for the default model binder
p67137
aVIt will look at all those places
p67138
aVAnd you should never forget that if this default naming convention doesn't suit your particular requirements you should feel free to write a custom model binder
p67139
aVRemark: there is also the case for uploading files
p67140
as(dp67141
g16
V29407
p67142
stp67143
a((dp67144
g2
(lp67145
VAutoMapper doesn't excel in mapping between non strongly typed dataset rows and view models
p67146
aVHere's what I would suggest you: use an ORM to map between your SQL tables and a model and then AutoMapper to map between the model and the view model
p67147
aVAnother advantage is that you would get rid of the datasets as well
p67148
as(dp67149
g16
V29407
p67150
stp67151
a((dp67152
g2
(lp67153
VThe  setter must be  if you want the model binder to be able to successfully bind it:
p67154
aVPersonally I would recommend you using view models instead of passing those models to and from the views
p67155
as(dp67156
g16
V29407
p67157
stp67158
a((dp67159
g2
(lp67160
VMaybe some other javascript framework that you are using hijacks the  function
p67161
aVYou may take a look at  for tips about using jQuery with other frameworks
p67162
as(dp67163
g16
V29407
p67164
stp67165
a((dp67166
g2
(lp67167
VUser controls are a good way to centralize reusable parts of the pages
p67168
aVSo if you have similarities externalize them into user control and then when you need to modify it you will modify only the user control without going through all the pages that are using it
p67169
as(dp67170
g16
V29407
p67171
stp67172
a((dp67173
g2
(lp67174
VTo get a list of errors in the model state:
p67175
aVThen put a break point on this line and inspect the  variable
p67176
aVIt will give you a list of properties on your model with their respective errors
p67177
as(dp67178
g16
V29407
p67179
stp67180
a((dp67181
g2
(lp67182
VThe problem is the following line:
p67183
aVYou cannot pass complex objects like this when you perform a redirect
p67184
aVOnly simple scalar properties:
p67185
aVand then inside the action you are redirecting to fetch the corresponding menu item model given the id:
p67186
as(dp67187
g16
V29407
p67188
stp67189
a((dp67190
g2
(lp67191
VThose are simple HTML attributes, so you could use any attribute available in the DOCTYPE you are using
p67192
aVASP
p67193
aVNET MVC helpers simply take those attributes and emit them in the resulting HTML page
p67194
aVSo if you need a documentation take a look at the HTML specification
p67195
aVThere is just a little remark about HTML5  attributes which contain dashes
p67196
aVBecause dashes cannot be used as variable names in
p67197
aVNET you could use underscore which will be converted to a dash
p67198
aVExample:
p67199
aVwhich will be rendered as:
p67200
as(dp67201
g16
V29407
p67202
stp67203
a((dp67204
g2
(lp67205
VYou could use a Timer control:
p67206
as(dp67207
g16
V29407
p67208
stp67209
a((dp67210
g2
(lp67211
VYou could use a custom column to add an image to an MVCContrib Grid:
p67212
as(dp67213
g16
V29407
p67214
stp67215
a((dp67216
g2
(lp67217
ViTextSharp is used to generate PDF files, not modifying the PDF viewer
p67218
aVIf you need to modify toolbars and stuff like this in Adobe Reader this definitely is not something that you could achieve with iTextSharp
p67219
as(dp67220
g16
V29407
p67221
stp67222
a((dp67223
g2
(lp67224
VYou may take a look at the following article
p67225
as(dp67226
g16
V29407
p67227
stp67228
a((dp67229
g2
(lp67230
VWhat would be the most dry way to do this
p67231
aVWrite a custom authorize attribute:
p67232
aVand then decorate your action with this custom attribute
p67233
as(dp67234
g16
V29407
p67235
stp67236
a((dp67237
g2
(lp67238
VYou could use the application state to store some object that will be shared among all users of the application:
p67239
aVand inside your controller you can access this property:
p67240
as(dp67241
g16
V29407
p67242
stp67243
a((dp67244
g2
(lp67245
VEverything is perfect until step 3 where you mention foreach loops in a view
p67246
aVThat's where I would stop and use editor templates instead
p67247
aVSo replace the loop in your view by:
p67248
aVand inside the corresponding editor template which will be rendered for each element of the model collection ():
p67249
aVthen simply:
p67250
aVNo need of any model binders
p67251
aVThe editor template will take care of generating proper names for the input fields so that they are correctly bound
p67252
as(dp67253
g16
V29407
p67254
stp67255
a((dp67256
g2
(lp67257
VYou could use Fiddler to inspect the raw HTTP traffic
p67258
as(dp67259
g16
V29407
p67260
stp67261
a((dp67262
g2
(lp67263
VHow about:
p67264
as(dp67265
g16
V29407
p67266
stp67267
a((dp67268
g2
(lp67269
VYou may checkout the jquery form plugin which supports file uploads as well
p67270
as(dp67271
g16
V29407
p67272
stp67273
a((dp67274
g2
(lp67275
VAssuming you have multiple resource files:
p67276
aVall containing some string value you could retrieve the value for a specific culture:
p67277
aVand this will be independently of the value of the current thread culture
p67278
as(dp67279
g16
V29407
p67280
stp67281
a((dp67282
g2
(lp67283
VMy problem is that in my AdminController I set _authService
p67284
aVSession
p67285
aVYes this is a problem indeed as this is the responsibility of your DI framework, not your controller code
p67286
aVSo unless  is directly used by the controller it should be removed from it
p67287
aVThe controller shouldn't do any plumbing between the service and any dependencies of this service
p67288
aVSo here's an example:
p67289
aVNotice that the admin controller shouldn't rely on any session
p67290
aVIt already relies on the
p67291
aVThe way this service is implemented is not important
p67292
aVAnd in this case a proper unit test would be:
p67293
aVUPDATE:
p67294
aVNow that you have shown your code I confirm:
p67295
aVRemove the ISession dependency from your controller as it is not needed and leave this job to the DI framework
p67296
aVNow I can see that your AuthenticationService has a strong dependency on ISession, so constructor injection would be more adapted instead property injection
p67297
aVUse property injection only for optional dependencies:
p67298
aVand the last part that is left is the plumbing
p67299
aVThis is done in the ASP
p67300
aVNET MVC application which has references to all other layers
p67301
aVAnd because you have mentioned Ninject you could install the Ninject
p67302
aVMVC3 NuGet and in the generated  simply configure the kernel:
p67303
as(dp67304
g16
V29407
p67305
stp67306
a((dp67307
g2
(lp67308
VTry like this:
p67309
as(dp67310
g16
V29407
p67311
stp67312
a((dp67313
g2
(lp67314
VThat's how it is implemented in the  method
p67315
aVThe  and  methods will always be called before and after each action so make sure that they do not throw an exception
p67316
aVIn order to disable the session effectively I would recommend you putting the following in your web
p67317
aVconfig:
p67318
as(dp67319
g16
V29407
p67320
stp67321
a((dp67322
g2
(lp67323
VThere is something bizarre about your server code
p67324
aVYou have shown HTML in the response and yet you return Json on the server
p67325
aVThis makes no sense
p67326
aVIf you have some string on the server which is HTML then return raw HTML like this:
p67327
aVand to fetch it from the client:
p67328
aVIf  is some object that you want to serialize to JSON then return Json from the server as you did but in the success callback you cannot append objects to the DOM, only HTML
p67329
aVSo in this case:
p67330
as(dp67331
g16
V29407
p67332
stp67333
a((dp67334
g2
(lp67335
VI see that you have a  added in your
p67336
aVMaybe there is something in the implementation of this factory that prevents the model binder from being hit
p67337
aVAlso the url you have shown  has no relation to the route definition that you have
p67338
as(dp67339
g16
V29407
p67340
stp67341
a((dp67342
g2
(lp67343
VNormally this should work
p67344
aVHere's a complete example (the repository call has been replaced by hardcoded values to simplify and further isolate any problems):
p67345
aVModel:
p67346
aVController:
p67347
aVView ():
p67348
aVNote that in my example I have used a beta version of the jquery templates hosted on Microsoft CDN which has some issues with date formats
p67349
as(dp67350
g16
V29407
p67351
stp67352
a((dp67353
g2
(lp67354
VYou could JSON serialize the model in the view:
p67355
aVor use XML format if you prefer
p67356
as(dp67357
g16
V29407
p67358
stp67359
a((dp67360
g2
(lp67361
VDifficult to answer your question as you have shown only parts of your code
p67362
aVHere's a full working example:
p67363
aVModel:
p67364
aVController:
p67365
aVView ():
p67366
aVmethod in :
p67367
aVThe  class was taken from the Microsoft
p67368
aVWeb
p67369
aVMvc assembly
p67370
as(dp67371
g16
V29407
p67372
stp67373
a((dp67374
g2
(lp67375
VThe first example is not thread safe
p67376
aVYou may take a look at the following article
p67377
as(dp67378
g16
V29407
p67379
stp67380
a((dp67381
g2
(lp67382
VI would recommend you to perform load tests and measure the performance of the site under stress
p67383
aVIf you are performing complex queries on each request you may consider caching some results
p67384
as(dp67385
g16
V29407
p67386
stp67387
a((dp67388
g2
(lp67389
VIs it possible for javascript to access a database directly
p67390
aVNo
p67391
aVSetup a server side script which will talk the database and then call this script with AJAX
p67392
as(dp67393
g16
V29407
p67394
stp67395
a((dp67396
g2
(lp67397
VAre there still any situations in competent programming where it's not possible to accomplish something with generics and still need to use casting to Object
p67398
aVOf course there are
p67399
aVFor example situations in which you don't know the type at compile time and you need to use reflection
p67400
aVBut if you know the type at compile time strong typing with generics is preferable
p67401
as(dp67402
g16
V29407
p67403
stp67404
a((dp67405
g2
(lp67406
VYou may find the following article useful and especially the  class
p67407
aVSample excerpt:
p67408
as(dp67409
g16
V29407
p67410
stp67411
a((dp67412
g2
(lp67413
VHere's SgmlReader
p67414
aVAnd the archived one
p67415
aVXmlCsvReader is still available on MSDN
p67416
aVYou may also take a look at FileHelpers
p67417
as(dp67418
g16
V29407
p67419
stp67420
a((dp67421
g2
(lp67422
VThis is not supported by the WebClient class
p67423
aVYou may take a look at a blog post I wrote on this topic
p67424
aVYou could also upload multiple files with the presented solution
p67425
as(dp67426
g16
V29407
p67427
stp67428
a((dp67429
g2
(lp67430
VTry putting quotes around the href selector:
p67431
aVAccording to the documentation:
p67432
aVattribute An attribute name
p67433
aVvalue An attribute value
p67434
aVQuotes are mandatory
p67435
as(dp67436
g16
V29407
p67437
stp67438
a((dp67439
g2
(lp67440
VYou could use the MapPath method:
p67441
aVand if you are inside a view you don't need the physical path but a relative path taking into account the virtual directory so you should be using Url helpers:
p67442
aVAnd if you are inside some other layer of the application which doesn't have direct access to the HttpContext you shouldn't be getting any physical path to a file, this path should be injected/passed to the corresponding layer
p67443
as(dp67444
g16
V29407
p67445
stp67446
a((dp67447
g2
(lp67448
VTry specifying which UserId column you are using in your query:
p67449
aVAlso I would recommend you using the MySQL ADO
p67450
aVNET driver/connector instead of ODBC
p67451
aVAnd finally use parametrized queries as currently your code is vulnerable to SQL injection with this string concatenation of the  parameter
p67452
aVSo here's how your improved code might look like:
p67453
as(dp67454
g16
V29407
p67455
stp67456
a((dp67457
g2
(lp67458
VYou could set the PostBackUrl property of the button/link:
p67459
aVAnd in the  page fetch the value from the Request
p67460
aVFor example if the textbox is in the master page and is called :
p67461
as(dp67462
g16
V29407
p67463
stp67464
a((dp67465
g2
(lp67466
VYou cannot have a SOAP web service which returns JSON
p67467
aVSOAP is XML
p67468
aVSo you have to decide which protocol you use for the service
p67469
aVTo call the normally you would add a service reference which will generate a strongly typed client proxy allowing you to directly invoke some service method and get an array of strings representing the ids
p67470
aVThen you don't need javascript, you could build the HTML at the server side based on the ids you have fetched from the remote service
p67471
as(dp67472
g16
V29407
p67473
stp67474
a((dp67475
g2
(lp67476
VNo idea why this exception occurs without seeing your model and view code but try simplifying your action like this:
p67477
as(dp67478
g16
V29407
p67479
stp67480
a((dp67481
g2
(lp67482
VThe following format should work:
p67483
as(dp67484
g16
V29407
p67485
stp67486
a((dp67487
g2
(lp67488
VPersonally I have my service layer referencing only generic and abstract repositories for CRUD operations
p67489
aVFor example a service layer constructor might look like this:
p67490
aVand the controller will simply take an  into his constructor and use the business operation
p67491
aVThen everything will be wired by the dependency injection framework of your choice
p67492
as(dp67493
g16
V29407
p67494
stp67495
a((dp67496
g2
(lp67497
VThere is nothing built-in
p67498
aVYou could create a dynamic form populating it with hidden fields, add it to the DOM and trigger a submit
p67499
aVHere's an example:
p67500
as(dp67501
g16
V29407
p67502
stp67503
a((dp67504
g2
(lp67505
VI don't think this would be possible unless you explicitly pass it as parameter to the plugin because if you have a list of DOM elements (which is what you have inside the plugin) you don't know which selector was used to fetch those elements, there might be different ways and selectors for getting the same set of DOM elements
p67506
as(dp67507
g16
V29407
p67508
stp67509
a((dp67510
g2
(lp67511
VUnfortunately this stack trace doesn't help pinpoint the problem
p67512
aVI would recommend you logging the request url and parameters that were used to cause the exception
p67513
aVIf you are using ELMAH you already have this information and if not you could perform this easily in the  handler in
p67514
aVThis way you will be able to identify the exact cause and reproduce the issue
p67515
as(dp67516
g16
V29407
p67517
stp67518
a((dp67519
g2
(lp67520
VIf you want to post the selected category when the selection changes you could indeed use AJAX
p67521
aVI would just add some class and url attributes to the dropdown so that it can be unobtrusively AJAXified in a separate js file:
p67522
aVand then in a separate js file:
p67523
as(dp67524
g16
V29407
p67525
stp67526
a((dp67527
g2
(lp67528
VBy adding a web setup project to your solution:
p67529
as(dp67530
g16
V29407
p67531
stp67532
a((dp67533
g2
(lp67534
VQuite honestly I would prefer writing the following:
p67535
aVinstead of having this  method which is deprived of any natural sense for existence
p67536
aVI must admit that I have seen many things during code reviews but this one is a winner
p67537
as(dp67538
g16
V29407
p67539
stp67540
a((dp67541
g2
(lp67542
VYou just forgot to add a  method to this class:
p67543
aVso that in your view:
p67544
aVViews should be as dumb as possible
p67545
aVThey are so dumb that are not even capable of adding numbers
p67546
aVDo not code such logic into them
p67547
aVThey should only show information that is passed to them, not try to calculate and fetch data
p67548
aVThat's not their responsibility
p67549
as(dp67550
g16
V29407
p67551
stp67552
a((dp67553
g2
(lp67554
VYou should have an  file in the  folder
p67555
aVThis view is rendered if you enabled custom errors in web
p67556
aVconfig:
p67557
aVand if an exception is thrown
p67558
aVSo here's a possible explanation: you don't have this view (although it is automatically added by the default MVC 3 project template) and when you deployed your project on the hosting server some exception occurs which doesn't occur locally and when the framework tries to render the Error view it doesn't find it thus the error you are getting
p67559
aVSo you could try to disable custom errors temporarily in order to see the real exception you are getting or if you have a logging framework setup (which you should by the way, elmah's cool) look at the logs
p67560
as(dp67561
g16
V29407
p67562
stp67563
a((dp67564
g2
(lp67565
VYou may take a look at the following blog post
p67566
aVHopefully it will clarify things up
p67567
aVBasically there are two cases: ASP
p67568
aVNET MVC 3 where you can send JSON requests to controller action out of the box and previous ASP
p67569
aVNET MVC versions where you need to use a custom
p67570
as(dp67571
g16
V29407
p67572
stp67573
a((dp67574
g2
(lp67575
VYou could use a custom column, like this:
p67576
as(dp67577
g16
V29407
p67578
stp67579
a((dp67580
g2
(lp67581
VYou need , not :
p67582
aVAlso note the argument passed to the of the  function:
p67583
as(dp67584
g16
V29407
p67585
stp67586
a((dp67587
g2
(lp67588
VYou could use the SmtpClient class which allows you to send emails in
p67589
aVNET
p67590
aVThere is an example in the documentation
p67591
as(dp67592
g16
V29407
p67593
stp67594
a((dp67595
g2
(lp67596
VYou can't
p67597
aVAny self-respecting database would never store the passwords in clear text
p67598
aVIt would only store a hash of the password and compare the hash of the password you enter to this hash
p67599
aVIf you have administrative privileges, you can reset this password to some new value though
p67600
as(dp67601
g16
V29407
p67602
stp67603
a((dp67604
g2
(lp67605
VIn a web application you should use  if you want new line
p67606
aVUnfortunately you cannot use a label in this case as it will automatically HTML encode the text
p67607
aVYou could use a repeater at the place of this label:
p67608
aVand in your code behind:
p67609
aVAnother possible template is to use divs:
p67610
as(dp67611
g16
V29407
p67612
stp67613
a((dp67614
g2
(lp67615
VOne problem I can see is that you have a trailing comma and some browsers don't like this:
p67616
as(dp67617
g16
V29407
p67618
stp67619
a((dp67620
g2
(lp67621
VYou could use a panel:
p67622
aVand then:
p67623
aVor a div:
p67624
aVand then:
p67625
as(dp67626
g16
V29407
p67627
stp67628
a((dp67629
g2
(lp67630
VYou need to encode it using for example the JavaScriptSerializer class:
p67631
aVor use simple quotes but be careful as this might break if the message contains quote so I wouldn't recommend you this:
p67632
as(dp67633
g16
V29407
p67634
stp67635
a((dp67636
g2
(lp67637
VIf you change the url of the browser this will automatically perform a redirect and refresh the entire page
p67638
aVYou could use the hash sign () which doesn't trigger a refresh
p67639
aVFor example if you change  to  the page won't refresh but you could send an AJAX request behind the scenes to update some placeholder
p67640
as(dp67641
g16
V29407
p67642
stp67643
a((dp67644
g2
(lp67645
VThat might happen because your server is configured to auto detect the culture of the browser and if the browser preferred  culture is en-GB that's what the server will use when binding DateTime parameters:
p67646
aVYou could specify it to a fixed culture:
p67647
as(dp67648
g16
V29407
p67649
stp67650
a((dp67651
g2
(lp67652
VIf this is SQL Server you could use the  function to return the current date and compare against it:
p67653
as(dp67654
g16
V29407
p67655
stp67656
a((dp67657
g2
(lp67658
VIn the layout you could define a section:
p67659
aVand in view:
p67660
aVor in the layout:
p67661
aVand in the view:
p67662
as(dp67663
g16
V29407
p67664
stp67665
a((dp67666
g2
(lp67667
VTry like this:
p67668
aVand then inside :
p67669
aVNotice the name and location of the display template
p67670
aVIt is important to respect this convention if you want this to work
p67671
as(dp67672
g16
V29407
p67673
stp67674
a((dp67675
g2
(lp67676
VAs always you start with the model:
p67677
aVthen a controller:
p67678
aVand corresponding views
p67679
ag9596
ag9596
ag9596
as(dp67680
g16
V29407
p67681
stp67682
a((dp67683
g2
(lp67684
VThis will depend on how you are performing validation
p67685
aVIf you are using data annotations you need to remove any attributes on the calculated properties
p67686
aVYou also need to check which property is failing validation
p67687
aVYou may execute the following command after TryUpdateModel:
p67688
aVThis will give you the list of errors and their corresponding properties and might help you understand what is happening and why validation is failing
p67689
as(dp67690
g16
V29407
p67691
stp67692
a((dp67693
g2
(lp67694
VYou need to select a single record:
p67695
aVand then you can test if price is null
p67696
aVThis being said I must say that what you are doing is wrong
p67697
aVIt is not the view's responsibility to fetch data
p67698
aVThis should be done by the controller
p67699
aVThe controller should populate a view model and pass this model to the view
p67700
aVThis view model contain all the necessary properties required by the view so that inside the view you only have to show them
p67701
aVCode like this doesn't belong to a view
p67702
aVSo I would more than strongly recommend you deporting this logic into the controller as right now you are violating the MVC pattern
p67703
as(dp67704
g16
V29407
p67705
stp67706
a((dp67707
g2
(lp67708
VYou may checkout the following KB article
p67709
as(dp67710
g16
V29407
p67711
stp67712
a((dp67713
g2
(lp67714
VNever hardcode urls like this:
p67715
aVAlways use Url helpers when dealing with urls:
p67716
aVAlso make sure that your controller action doesn't throw an exception and because of the JSON part ensure it allows GET requests:
p67717
aVFinally ensure that the model returned from this action is a collection and that each element of this collection possesses  and  properties (case sensitive)
p67718
aVAlso what are you trying to do with the  method call at the end of your script
p67719
aVIf you want to populate this dropdown when the page is loaded I would more than strongly recommend you doing this on the server side (in the corresponding controller action rendering this view)
p67720
as(dp67721
g16
V29407
p67722
stp67723
a((dp67724
g2
(lp67725
VPersonally I try to avoid static variables as much as possible
p67726
aVThey make the code difficult to unit test and also could introduce subtle bugs due to concurrent access and race conditions
p67727
aVAs far as your requirement is concerned you could use store the variable as a property of the control in the ViewState
p67728
aVIf it is user specific data that you are trying to store then you could use the Session state
p67729
as(dp67730
g16
V29407
p67731
stp67732
a((dp67733
g2
(lp67734
VWell, the first step would be to create a client proxy and invoke the service and the second step would be to point the DataSource property of the GridView to the collection you want to bind to
p67735
aVThe final step is to call the DataBind method
p67736
aVExample:
p67737
as(dp67738
g16
V29407
p67739
stp67740
a((dp67741
g2
(lp67742
VI see that you have written a custom  class
p67743
aVYou can delete the file once you have written it to the response stream in the ExecuteResult method
p67744
aVObviously a much better approach would be to never generate a file, but serve the CSV directly from memory and write it to the response stream
p67745
as(dp67746
g16
V29407
p67747
stp67748
a((dp67749
g2
(lp67750
VYou can't do this with global filters
p67751
aVAs their name indicates => they are global
p67752
aVOne way is to have all controllers that require authorization derive from a common base controller decorated with the  attribute
p67753
aVControllers that doesn't require authorization will not derive from this base controller
p67754
aVAnother possibility in ASP
p67755
aVNET MVC 3 is to write a custom IFilterProvider which based on the context will apply or not the given filters
p67756
aVI would recommend you reading the following blog post
p67757
as(dp67758
g16
V29407
p67759
stp67760
a((dp67761
g2
(lp67762
Vand inside the corresponding editor template you could fetch the value from ViewData:
p67763
aVor ViewBag if you prefer:
p67764
aVFull example:
p67765
aVModel:
p67766
aVController:
p67767
aVView:
p67768
aVand inside the editor template that's being called ():
p67769
aVPersonally I would recommend you using the strongly typed helper  taking a lambda expression instead of
p67770
as(dp67771
g16
V29407
p67772
stp67773
a((dp67774
g2
(lp67775
VLook at the  method
p67776
aVHere's how the field is initialized:
p67777
aVSo yes it is read from the config file
p67778
as(dp67779
g16
V29407
p67780
stp67781
a((dp67782
g2
(lp67783
VI am not aware of anything in MVCContrib TestHelper allowing to achieve this
p67784
aVYou could always use reflection to test the presence of this attribute on the corresponding controller action
p67785
as(dp67786
g16
V29407
p67787
stp67788
a((dp67789
g2
(lp67790
VThe Telerik Grid is a nice component worth checking out
p67791
aVThere's also MVCContrib Grid which is a little less elaborate in terms of functionality and might require some more code but it is very extensible
p67792
as(dp67793
g16
V29407
p67794
stp67795
a((dp67796
g2
(lp67797
Vand in a separate javascript file AJAXify:
p67798
aVAnd for completeness of my answer (not that this is something I would recommend) you could use the Ajax helpers:
p67799
aVJust make sure you have included the proper unobtrusive script to your page in this case:
p67800
as(dp67801
g16
V29407
p67802
stp67803
a((dp67804
g2
(lp67805
VDefine a model that regroups those two models:
p67806
aVthen have your service layer return this model
p67807
aVAnother possibility if there is a 1-to-1 mapping between User and UserProfile is to define the following model:
p67808
aVThen define a view model containing only what is needed by the given view:
p67809
aVnext define a mapping between your model and your view model:
p67810
aVand finally in your controller use the service layer to fetch the model, map it to a view model and pass this view model to the view for rendering, pretty standard stuff
p67811
as(dp67812
g16
V29407
p67813
stp67814
a((dp67815
g2
(lp67816
VYou could write a custom validation attribute and decorate your model with it:
p67817
aVand then:
p67818
aVFor more advanced validation scenarios you may take a look at FluentValidation
p67819
aVNET or Foolproof
p67820
as(dp67821
g16
V29407
p67822
stp67823
a((dp67824
g2
(lp67825
VTake a look here
p67826
aVTaken from this blog:
p67827
aVBut if you are trying to do what I think that you are trying (render views into string in order to send them as emails) don't do what I showed, simply use MvcMailer or Postal
p67828
aVYou may also find the following blog post useful
p67829
as(dp67830
g16
V29407
p67831
stp67832
a((dp67833
g2
(lp67834
VIs there an easy way to leverage my view code to be re-used in new projects
p67835
aVI don't know what you mean by easy way nor I know your exact use case scenario but you can encapsulate view logic into reusable WinForms controls into a separate assembly
p67836
aVThose controls might contain different properties allowing to personalize them for each project
p67837
aVThat's exactly what companies like Telerik and DevExpress do except that you can get a step further and even incorporate some business logic that could be reused
p67838
as(dp67839
g16
V29407
p67840
stp67841
a((dp67842
g2
(lp67843
VYou cannot pass cookies cross domain
p67844
aVOne way to achieve SSO cross domain is to have SiteA and SiteB share common secret allowing to encrypt/decrypt values
p67845
aVAES is a good algorithm for this
p67846
aVSo if a user is authenticated on SiteA then you could provide a link to SiteB by passing an encrypted token containing the username in the request
p67847
aVAnd because SiteB shares the same key as SiteA it will be capable of decrypting it and fetch the username
p67848
aVOnce it has the username it can emit its aiuthentication cookie for this user on the second domain
p67849
aVI am afraid that doing this purely with javascript might be very challenging as you will need to pass the secret used to encrypt the token to javascript which obviously would be catastrophic in terms of security
p67850
aVSo IMHO you will need a server side support to achieve this
p67851
as(dp67852
g16
V29407
p67853
stp67854
a((dp67855
g2
(lp67856
VWhy are you still using the buggy ODBC to connect to MySql when there is an ADO
p67857
aVNET connector
p67858
aVAlso what is this horrible string concatenation when forming your query
p67859
ag9596
aVHaven't you heard of SQL injection and parametrized queries which allow to avoid it
p67860
aVAll I can say is that if you use the  sign when writing a SQL query it's like taking a gun and shooting right at your foot (or head depending on the scenario, but in all cases you are shooting at yourself, basically a suicidal behavior)
p67861
aVSo, here's the proper way to do things:
p67862
aVAlso please name those textboxes appropriately
p67863
aVThe poor guy that's gonna maintain this code might emit screams of despair
p67864
as(dp67865
g16
V29407
p67866
stp67867
a((dp67868
g2
(lp67869
VReflector is your friend, or ildasm
p67870
aVexe if you know how to read MSIL
p67871
aVAnd next time use a VCS to put this code under source control to avoid uncomfortable situations like this
p67872
as(dp67873
g16
V29407
p67874
stp67875
a((dp67876
g2
(lp67877
VYou could use the  function
p67878
aVor the  function if you prefer which is equivalent:
p67879
as(dp67880
g16
V29407
p67881
stp67882
a((dp67883
g2
(lp67884
VHere's an article describing how you could integrate an existing XAP file into an ASP
p67885
aVNET MVC view
p67886
as(dp67887
g16
V29407
p67888
stp67889
a((dp67890
g2
(lp67891
VI would recommend you using editor templates:
p67892
aVController:
p67893
aVand in the view:
p67894
aVand finally simply move the partial in  (name and location are important):
p67895
as(dp67896
g16
V29407
p67897
stp67898
a((dp67899
g2
(lp67900
VYou could perform this in global
p67901
aVasax:
p67902
aVand then use the  variable which will contain a list of all session ids
p67903
as(dp67904
g16
V29407
p67905
stp67906
a((dp67907
g2
(lp67908
VIf the id is passed as request parameter (GET or POST) or as a route data parameter:
p67909
as(dp67910
g16
V29407
p67911
stp67912
a((dp67913
g2
(lp67914
VTry like this:
p67915
aVand inside the  partial:
p67916
as(dp67917
g16
V29407
p67918
stp67919
a((dp67920
g2
(lp67921
VYou can pass two parameters to the  action like this:
p67922
as(dp67923
g16
V29407
p67924
stp67925
a((dp67926
g2
(lp67927
VYou could use a jquery plugin for this
p67928
aVThere are many out there
p67929
aVHere's one you could use
p67930
aVIt has callbacks like for example  which is triggered when the timer reaches zero so that you could submit the form
p67931
as(dp67932
g16
V29407
p67933
stp67934
a((dp67935
g2
(lp67936
VYou could use a Regex validator:
p67937
as(dp67938
g16
V29407
p67939
stp67940
a((dp67941
g2
(lp67942
VYou are better of using a partial view even if it contains static text only and include it with the  helper
p67943
aVBut if you insist:
p67944
as(dp67945
g16
V29407
p67946
stp67947
a((dp67948
g2
(lp67949
VYou could include the number of attempts as a property of your view model:
p67950
aVand include the number of attempts as a hidden field in the form:
p67951
as(dp67952
g16
V29407
p67953
stp67954
a((dp67955
g2
(lp67956
VTry the following:
p67957
aVModel:
p67958
aVController:
p67959
aVView:
p67960
as(dp67961
g16
V29407
p67962
stp67963
a((dp67964
g2
(lp67965
VIt looks like the  class is defined in both assemblies in the  namespace
p67966
aVTry opening them with Reflector to confirm this by searching for this class name
p67967
aVThen remove the duplicate class by leaving it only in your ASP
p67968
aVNET MVC application assembly
p67969
aVThe other project must be a class library, not a web application
p67970
as(dp67971
g16
V29407
p67972
stp67973
a((dp67974
g2
(lp67975
VNo, it's no longer necessary
p67976
aVASP
p67977
aVNET MVC 3 uses jquery by default
p67978
aVSo you need  which ajaxifies the HTML5 data-* attributes generated by the  helpers
p67979
aVSo no more
p67980
as(dp67981
g16
V29407
p67982
stp67983
a((dp67984
g2
(lp67985
VWhat do you mean by class level authorize filters
p67986
aVIf you place it on the controller it will work and apply to all action on this particular controller:
p67987
aVNow if you try to navigate to  and the user is not logged in he will be redirected to the LogOn action
p67988
as(dp67989
g16
V29407
p67990
stp67991
a((dp67992
g2
(lp67993
VIt would be better to use a form and making the search button submit:
p67994
aVAs far as your second question is concerned, you could AJAXify this search form:
p67995
aVwhere  could be some div that will harbor the search results returned from the controller action
p67996
as(dp67997
g16
V29407
p67998
stp67999
a((dp68000
g2
(lp68001
VCan't see any  property in your
p68002
aVSo your HTML is not valid
p68003
aVIt should be:
p68004
aVAnd to achieve this markup you I would recommend you using strongly typed helpers:
p68005
aVAnd please replace this  which is making me vomit with a strongly typed model property:
p68006
as(dp68007
g16
V29407
p68008
stp68009
a((dp68010
g2
(lp68011
VYou may find the following article useful
p68012
as(dp68013
g16
V29407
p68014
stp68015
a((dp68016
g2
(lp68017
VYou could store the entire array into session:
p68018
aVand on the other page:
p68019
as(dp68020
g16
V29407
p68021
stp68022
a((dp68023
g2
(lp68024
VOne possibility is to use a meta refresh tag:
p68025
aVAnother possibility is to use the window
p68026
aVsetInterval method to send periodic AJAX requests to a controller action and update the DOM:
p68027
aVAnd to implement the idle functionality you could use the jquery idle plugin
p68028
as(dp68029
g16
V29407
p68030
stp68031
a((dp68032
g2
(lp68033
VThat's because the child action first looks at the original request query string when binding for values and after that the one passed as argument to the  helper
p68034
aVYou could use a different name for this parameter to avoid this ambiguity
p68035
aVUPDATE:
p68036
aVUnable to reproduce the behavior you are describing
p68037
aVController:
p68038
aVView ():
p68039
aVWhen querying  the correct value 1 is shown and the  parameter in the child action is 1
p68040
aVObviously if inside your child action you are fetching this value manually from the request it won't work but that's not something you should be doing anyways:
p68041
as(dp68042
g16
V29407
p68043
stp68044
a((dp68045
g2
(lp68046
VYou may find the following article useful and especially the  class
p68047
as(dp68048
g16
V29407
p68049
stp68050
a((dp68051
g2
(lp68052
s(dp68053
g16
V29407
p68054
stp68055
a((dp68056
g2
(lp68057
VYou could use the Environment
p68058
aVGetFolderPath method which will return you the path to the corresponding special folder passed as enum argument
p68059
aVExample:
p68060
as(dp68061
g16
V29407
p68062
stp68063
a((dp68064
g2
(lp68065
VOh yeah, that's a hell of an ugly request string
p68066
aVA custom model binder is the way to parse this beast until you find a real solution to this problem which of course is fixing the system sending this crap to conform to the default model binder syntax
p68067
aVAnd here's an example of some scratch code that might put you on the right track:
p68068
aVwhich will be registered in :
p68069
as(dp68070
g16
V29407
p68071
stp68072
a((dp68073
g2
(lp68074
VHtml helpers such as  always first look into modelstate when binding their value and because there is already a value coming from the request string it ignores the second argument you are passing to it
p68075
aVSo to achieve what you are looking for you might need to first remove the value from model state:
p68076
as(dp68077
g16
V29407
p68078
stp68079
a((dp68080
g2
(lp68081
VYou may checkout DotLiquid
p68082
as(dp68083
g16
V29407
p68084
stp68085
a((dp68086
g2
(lp68087
VYou cannot fetch the value after the  symbol on the server simply because this value is never sent to the server
p68088
aVOnly client side javascript has access to this so defining routes with hash doesn't make much sense
p68089
as(dp68090
g16
V29407
p68091
stp68092
a((dp68093
g2
(lp68094
VTry passing the  like this:
p68095
as(dp68096
g16
V29407
p68097
stp68098
a((dp68099
g2
(lp68100
VCannot say for sure as I never use dynamic but I suspect that this is a situation which is not supported by the razor view engine
p68101
aVAlthough you can have a dynamic model and directly invoke properties on it
p68102
aVFor example the following works:
p68103
aVbut if we move this into some static method somewhere else:
p68104
aVit no longer works as I suspect razor converts automatically to object
p68105
aVInstead of using dynamic I would recommend you defining a couple of types and work with strong types
p68106
as(dp68107
g16
V29407
p68108
stp68109
a((dp68110
g2
(lp68111
VAFAIK this is not supported
p68112
aVHope they will fix it in future releases
p68113
as(dp68114
g16
V29407
p68115
stp68116
a((dp68117
g2
(lp68118
VIn the controller rendering this view you need to set  if you want to preselect an option with
p68119
aVOf course using  is not something that I would recommend you
p68120
aVYou should use a view model instead:
p68121
aVand then:
p68122
aVUPDATE:
p68123
aVProviding a full example for @Robert Koritnik who expressed some doubts about this solution in the comments section:
p68124
aVModel:
p68125
aVController:
p68126
aVView:
p68127
aVAs expected the second item is preselected
p68128
aVRemark: The Items property could be an IEnumerable of any custom type, it's just necessary to specify the corresponding Value and Text properties when building the SelectList in the view
p68129
as(dp68130
g16
V29407
p68131
stp68132
a((dp68133
g2
(lp68134
VThere is nothing in your description that supposes a problem
p68135
aVI've created a new ASP
p68136
aVNET MVC 3 application using the default template, added the model:
p68137
aVupdated the :
p68138
aVand the  view:
p68139
aVValidation fires fine and correct error messages are shown (tested with Chrome 10
p68140
aV0, IE9 and FireFox 4
p68141
aV0)
p68142
aVSo the question now is how does your scenario differs than this one
p68143
as(dp68144
g16
V29407
p68145
stp68146
a((dp68147
g2
(lp68148
VYou could externalize the functionality you are willing to reuse into a service layer, action filter, authorization filter, model binder,
p68149
aVit will depend on the functionality you are willing to reuse so that you could easily switch the base controller to an async controller and still preserve the functionality
p68150
aVIf you want to use async controllers you will need to derive from AsyncController
p68151
as(dp68152
g16
V29407
p68153
stp68154
a((dp68155
g2
(lp68156
VRight click on the project in the solution explorer, Add New Item, WCF service
p68157
aV, basically a couple of clicks
p68158
as(dp68159
g16
V29407
p68160
stp68161
a((dp68162
g2
(lp68163
VYou could use a normal  and AJAXify it with jquery
p68164
aVYou will have much more control compared to an  helper:
p68165
aVand then in a separate javascript file simply:
p68166
as(dp68167
g16
V29407
p68168
stp68169
a((dp68170
g2
(lp68171
VIf you have a JObject I would recommend you writing a custom ActionResult which directly serializes this JObject using JSON
p68172
aVNET into the response stream
p68173
aVIt is more in the spirit of the MVC pattern:
p68174
aVwhere:
p68175
aVIt seems like an overkill to have a JObject which you would serialize into JSON using the
p68176
aVNET JavaScriptSerializer which is more commonly used in conjunction with some model classes
p68177
as(dp68178
g16
V29407
p68179
stp68180
a((dp68181
g2
(lp68182
ViTextSharp is a great library you could use, very simple and intuitive:
p68183
as(dp68184
g16
V29407
p68185
stp68186
a((dp68187
g2
(lp68188
VIs it possible through jQuery (or plain javascript) to test if a webpage on another domain is available
p68189
aVDue to same origin policy restriction you need a proxy/bridge on your server unless the remote server implements JSONP which obviously we cannot assume for the general case
p68190
as(dp68191
g16
V29407
p68192
stp68193
a((dp68194
g2
(lp68195
VThat may be a good candidate for an async controller
p68196
aVThe important thing about async controllers is that if you want to have a net performance gain in this case you need to modify your repository layer and provide asynchronous versions of the two methods which ideally use I/O Completion ports when communicating with remote systems such as a database
p68197
as(dp68198
g16
V29407
p68199
stp68200
a((dp68201
g2
(lp68202
VMake sure you have included the following script to your page if you want to use the  helpers:
p68203
aVIf you don't include it there is nothing out there to make sense of the HTML5 data-* attributes emitted by the Ajax
p68204
aV* helper and AJAXify this form => the form performs a normal submit and renders the results
p68205
as(dp68206
g16
V29407
p68207
stp68208
a((dp68209
g2
(lp68210
VYou have an editor template for the  class () but not for the  which is your main model
p68211
aVSo you need to either write an editor template for the  class and use  or specify the property  like this:
p68212
as(dp68213
g16
V29407
p68214
stp68215
a((dp68216
g2
(lp68217
VYou need to have ASP
p68218
aVNET MVC 2 installed on the server (System
p68219
aVWeb
p68220
aVMvc, V2
p68221
ag2721
ag2721
aV0 assembly)
p68222
aVYou can also bin-deploy ASP
p68223
aVNET MVC
p68224
as(dp68225
g16
V29407
p68226
stp68227
a((dp68228
g2
(lp68229
VYou need to grant write permissions to the NETWORK SERVICE account to the folder you are trying to write
p68230
aVAlso the MapPath method takes a relative url to the root of the virtual directory:
p68231
as(dp68232
g16
V29407
p68233
stp68234
a((dp68235
g2
(lp68236
s(dp68237
g16
V29407
p68238
stp68239
a((dp68240
g2
(lp68241
VA XSD file is already an XML file
p68242
as(dp68243
g16
V29407
p68244
stp68245
a((dp68246
g2
(lp68247
VThere is no relation between  and
p68248
aVSo your return type must be  which may be considered as a common parent to those types
p68249
aVAlso  needs to be an interface where the generic argument is defined with  for this to work:
p68250
aVCouldn't make it work with the ternary operator ()
p68251
aVThe compiler simply doesn't like it
p68252
aVUPDATE:
p68253
aVAfter @Eric Lippert's excellent remark in the comments section you could use the ternary operator by casting to :
p68254
as(dp68255
g16
V29407
p68256
stp68257
a((dp68258
g2
(lp68259
VPersonally I externalize specific templates as a NuGet package and everytime I start a new ASP
p68260
aVNET MVC project I simply import this NuGet package and it deploys the templates at their respective locations () in order to override the default ones
p68261
as(dp68262
g16
V29407
p68263
stp68264
a((dp68265
g2
(lp68266
VYou could have your view models different complex properties which themselves represent other view models which will be bound to the respective sections
p68267
aVYou also might include boolean properties indicating whether the sections need to be visible or not
p68268
aVExample:
p68269
aVor:
p68270
as(dp68271
g16
V29407
p68272
stp68273
a((dp68274
g2
(lp68275
VYou could write a custom metadata provider and set the  metadata property
p68276
aVSo start with a custom attribute:
p68277
aVthen a custom model metadata provider:
p68278
aVthen register this provider in :
p68279
aVand finally decorate:
p68280
aVNow if in your view you have:
p68281
aVthe  property won't be included in the editor template
p68282
aVRemark: you could do the same with the  metadata property
p68283
as(dp68284
g16
V29407
p68285
stp68286
a((dp68287
g2
(lp68288
V includes directly the view at the place where you called the helper
p68289
aVIt is like a file include
p68290
aVinvokes a controller action first which could render a view and it is the result of this action that is included
p68291
aVAnd because a controller action is invoked a controller needs to be instantiated, so the whole MVC pipeline gets executed as a child request
p68292
aVYou may take a look at the following blog post
p68293
as(dp68294
g16
V29407
p68295
stp68296
a((dp68297
g2
(lp68298
Vand to stop blinking
p68299
as(dp68300
g16
V29407
p68301
stp68302
a((dp68303
g2
(lp68304
VYes, the scope of this method is limited to the containing assembly
p68305
aVIn order to call a static method you need to use the containing class and because this class is internal will only be visible inside the assembly it is declared in (unless you use reflection of course)
p68306
as(dp68307
g16
V29407
p68308
stp68309
a((dp68310
g2
(lp68311
VIf you use jQuery you could use the  method:
p68312
aVand with plain javascript you could use the getElementsByTagName method to fetch all anchors and then subscribe for the onclick event and inside send the ajax request:
p68313
as(dp68314
g16
V29407
p68315
stp68316
a((dp68317
g2
(lp68318
VYou could override the  method where you would register your modules:
p68319
aVThis will not automatically inject the  field though
p68320
aVYou could instantiate it like this:
p68321
as(dp68322
g16
V29407
p68323
stp68324
a((dp68325
g2
(lp68326
VYou could use the VaryByCustom
p68327
aVIn Global
p68328
aVasax override the  method:
p68329
aVand then use the OutputCache attribute:
p68330
aVand in web
p68331
aVconfig:
p68332
as(dp68333
g16
V29407
p68334
stp68335
a((dp68336
g2
(lp68337
VDon't create maps between lists and array, only between the types:
p68338
aVand then:
p68339
aVAutoMapper handles lists and arrays automatically
p68340
as(dp68341
g16
V29407
p68342
stp68343
a((dp68344
g2
(lp68345
VOn this line:
p68346
aVthe function  is not called
p68347
aVYou only assign the function pointer to the  event
p68348
aVWhen the DOM is loaded the browser automatically calls this event and it it is only at that moment that the function it is pointing to is invoked (which might happen much later but leave you with the impression that the function is called immediately)
p68349
as(dp68350
g16
V29407
p68351
stp68352
a((dp68353
g2
(lp68354
VYou could use LINQ:
p68355
as(dp68356
g16
V29407
p68357
stp68358
a((dp68359
g2
(lp68360
VThe  attribute implementation is flawed and doesn't take into account caching
p68361
aVHere's a fix:
p68362
aVand then:
p68363
as(dp68364
g16
V29407
p68365
stp68366
a((dp68367
g2
(lp68368
VYou may find the following blog post useful
p68369
as(dp68370
g16
V29407
p68371
stp68372
a((dp68373
g2
(lp68374
VYou may checkout the BackgroundWorker class
p68375
aVAnd here's an example:
p68376
as(dp68377
g16
V29407
p68378
stp68379
a((dp68380
g2
(lp68381
s(dp68382
g16
V29407
p68383
stp68384
a((dp68385
g2
(lp68386
VYour method must return  as declared in the interface and not
p68387
aVIf you want to return details you will need to modify the interface you are implementing to reflect this change
p68388
as(dp68389
g16
V29407
p68390
stp68391
a((dp68392
g2
(lp68393
VTry following the upgrade steps
p68394
aVAlso there's a project upgrade tool you may checkout
p68395
as(dp68396
g16
V29407
p68397
stp68398
a((dp68399
g2
(lp68400
VYou may checkout the following blog post
p68401
as(dp68402
g16
V29407
p68403
stp68404
a((dp68405
g2
(lp68406
VIf you are using Razor view engine you need to reference it in  and not in :
p68407
aVThen recompile, close and reopen the Razor view and if it is your lucky day you might even get Intellisense
p68408
aVIf not you may curse at Microsoft
p68409
as(dp68410
g16
V29407
p68411
stp68412
a((dp68413
g2
(lp68414
VYour partial is wrongly named
p68415
aVIt should be  and not
p68416
aVAnd then:
p68417
as(dp68418
g16
V29407
p68419
stp68420
a((dp68421
g2
(lp68422
VHint: never throw exceptions in a destructor/finalizer or you will kill the thread on which the GC runs and without GC things might get ugly
p68423
aVWhile there was some tolerance in
p68424
aVNET 1
p68425
aV1 towards exceptions thrown in background threads which were consumed and wouldn't bring the hosting process down that's no longer the case starting from CLR 2
p68426
ag2721
aVQuote from the doc:
p68427
aVIf Finalize or an override of Finalize
p68428
aVthrows an exception, and the runtime
p68429
aVis not hosted by an application that
p68430
aVoverrides the default policy, the
p68431
aVruntime terminates the process and no
p68432
aVactive try-finally blocks or
p68433
aVfinalizers are executed
p68434
aVThis behavior
p68435
aVensures process integrity if the
p68436
aVfinalizer cannot free or destroy
p68437
aVresources
p68438
aVThrowing an exception in a finalizer is fatal
p68439
as(dp68440
g16
V29407
p68441
stp68442
a((dp68443
g2
(lp68444
VInstead of:
p68445
aVdo:
p68446
aVAlso jQuery's  function might conflict with MsAjax so make sure you read about  if you are planning on using jQuery
p68447
aVOr even better, because you plan to use jQuery throw away MsAjax and script managers
p68448
aVYou don't need them
p68449
as(dp68450
g16
V29407
p68451
stp68452
a((dp68453
g2
(lp68454
VTry like this:
p68455
as(dp68456
g16
V29407
p68457
stp68458
a((dp68459
g2
(lp68460
VIn ASP
p68461
aVNET application you could use the  special folder to store files
p68462
aVAnd when you want to get the full path to this file you use the  method:
p68463
as(dp68464
g16
V29407
p68465
stp68466
a((dp68467
g2
(lp68468
VThere's an issue with the way dates are handled
p68469
aVThe JavaScriptSerializer uses the following format when dealing with dates:  which unfortunately makes little sense to jQuery when parsing the GET JSON response so you don't get a real date on the client side but string
p68470
aVSo you need a shameless hack in order to convert this string to a real date:
p68471
aVAnd here's the full story of the hack:
p68472
aVModel:
p68473
aVController:
p68474
aVView:
p68475
aVLeaving the  case as an exercise to the reader as it will require another shameless hack and I am tired of hacks :-)
p68476
as(dp68477
g16
V29407
p68478
stp68479
a((dp68480
g2
(lp68481
VIn the web form code behind:
p68482
aVor if you decide to use the Application state:
p68483
aVand in the webform itself:
p68484
aVor:
p68485
as(dp68486
g16
V29407
p68487
stp68488
a((dp68489
g2
(lp68490
VHere's a blog post which could be helpful
p68491
aVAnd in ASP
p68492
aVNET MVC 3 there is a better and more native support
p68493
as(dp68494
g16
V29407
p68495
stp68496
a((dp68497
g2
(lp68498
VYou could use FormsAuthentication and the  attribute
p68499
aVSo you might have a  with a LogOn action which will be accessible only through HTTPS
p68500
aVThis controller will allow clients to authenticate and get an authentication cookie which will be reused for accessing the API:
p68501
aVthen all that's left is to decorate your other controller actions that you want to secure with the  attribute:
p68502
aVSo now a client will need to first call the LogOn action and fetch the corresponding authentication cookie in the response which will be sent along subsequent calls to your API
p68503
as(dp68504
g16
V29407
p68505
stp68506
a((dp68507
g2
(lp68508
VAssuming you have a dropdown:
p68509
aVyou could subscribe for the  event of this dropdown and send an AJAX request to a controller action which will return a partial and inject the result into the DOM:
p68510
aVAnd place a DIV tag where you want the partial view to render in your host view:
p68511
aVand inside the Foo action you could return a partial view:
p68512
as(dp68513
g16
V29407
p68514
stp68515
a((dp68516
g2
(lp68517
VYou may checkout Quartz
p68518
aVNET
p68519
as(dp68520
g16
V29407
p68521
stp68522
a((dp68523
g2
(lp68524
VHow can I force the usage of Factory GetObject method to create objects of type A and B and prevent something like new A()
p68525
aVYou can't force the usage of , this is something that you should write in the documentation of the API you are providing after marking A and B constructors internal
p68526
aVThis way those constructors will not be accessible from other assemblies
p68527
aVAlso don't forget about Reflection which will allow for direct instantiation of those classes no matter how hard you try to hide them
p68528
as(dp68529
g16
V29407
p68530
stp68531
a((dp68532
g2
(lp68533
Vand then:
p68534
as(dp68535
g16
V29407
p68536
stp68537
a((dp68538
g2
(lp68539
s(dp68540
g16
V29407
p68541
stp68542
a((dp68543
g2
(lp68544
Vand in your CSS file:
p68545
as(dp68546
g16
V29407
p68547
stp68548
a((dp68549
g2
(lp68550
VYou may take a look at the jquery validate plugin
p68551
aVAnd here's a tutorial that will get you started quickly
p68552
as(dp68553
g16
V29407
p68554
stp68555
a((dp68556
g2
(lp68557
VIndeed you have pretty repeating code
p68558
aVThere are many ways to refactor this code, one of which consists of writing a custom model binder for the  model:
p68559
aVOnce you have registered this model binder with the  model in  your controller simply becomes:
p68560
aVWe successfully put it on a diet
p68561
as(dp68562
g16
V29407
p68563
stp68564
a((dp68565
g2
(lp68566
VYou could activate and use Windows (NTLM) authentication and then write a custom  attribute where you could fetch the currently connected AD user and perform the additional check of whether he is authorized or not to use the application against your data store
p68567
aVThen you would decorate controllers/actions that require authorization with this custom attribute
p68568
aVUPDATE:
p68569
aVHere's an example of how such custom attribute might look like:
p68570
aVand then:
p68571
as(dp68572
g16
V29407
p68573
stp68574
a((dp68575
g2
(lp68576
VI would recommend you working with strong types
p68577
aVSo define a class that will contain all the necessary properties:
p68578
aVand then have your web method take this object:
p68579
aVThe name of the properties must match the input field names you are serializing in the AJAX request
p68580
as(dp68581
g16
V29407
p68582
stp68583
a((dp68584
g2
(lp68585
VRemember that Html helpers such as  first use the model state when binding their values and after that the model
p68586
aVLet's consider a very simple example in order to illustrate what this means:
p68587
aVand the view:
p68588
aVNow when you submit the form you will expect that the value in the textbox changes to  as that's what you've put in your POST action but the value doesn't change
p68589
aVThat's because there is already a value with the key  in the model state which contains what the user entered
p68590
aVSo if you want this to work you need to remove the original value from the model state:
p68591
aVThe same thing happens in your scenario as well
p68592
aVSo you might need to remove the values you are modifying from the model state in your POST action
p68593
as(dp68594
g16
V29407
p68595
stp68596
a((dp68597
g2
(lp68598
VYou may checkout the following article
p68599
as(dp68600
g16
V29407
p68601
stp68602
a((dp68603
g2
(lp68604
VYou could use a DTO object and then map between the model and this object
p68605
aVAutoMapper is a great framework for this:
p68606
aVFeel free to include whatever properties you need in this object
p68607
as(dp68608
g16
V29407
p68609
stp68610
a((dp68611
g2
(lp68612
VNothing wrong, the code works just great
p68613
aVMake sure you wrap it in a :
p68614
as(dp68615
g16
V29407
p68616
stp68617
a((dp68618
g2
(lp68619
VYou could put those images somewhere on the server where users don't have access (like for example the  folder) in order to prevent direct access to them and then use a controller action to serve them
p68620
aVThis action will be decorated with an Authorize attribute to allow only authenticated users to call it:
p68621
aVand then:
p68622
aVInside the view you could also test whether the user is authenticated before displaying the image
p68623
as(dp68624
g16
V29407
p68625
stp68626
a((dp68627
g2
(lp68628
VThere's no problem, you are probably looking the result in Visual Studio Debugger which does this
p68629
aVThe actual string you are getting doesn't have any
p68630
aVTry saving it to a file and you will see:
p68631
aVSo no worries, unless the web page you are downloading is crap and is using  instead of  in the response
p68632
as(dp68633
g16
V29407
p68634
stp68635
a((dp68636
g2
(lp68637
VYou may find the following blog post useful
p68638
as(dp68639
g16
V29407
p68640
stp68641
a((dp68642
g2
(lp68643
VYou may try excluding the URL used to access this modul from the routing engine:
p68644
as(dp68645
g16
V29407
p68646
stp68647
a((dp68648
g2
(lp68649
VYou could do this by overriding the HandleUnauthorizedRequest method:
p68650
as(dp68651
g16
V29407
p68652
stp68653
a((dp68654
g2
(lp68655
s(dp68656
g16
V29407
p68657
stp68658
a((dp68659
g2
(lp68660
VThe  doesn't support this
p68661
aVYou will need to write a custom helper or do it with javascript
p68662
aVThis being said setting a value for the default choice wouldn't make sense as it will also break validation logic for required properties
p68663
as(dp68664
g16
V29407
p68665
stp68666
a((dp68667
g2
(lp68668
VYou could ignore child actions:
p68669
as(dp68670
g16
V29407
p68671
stp68672
a((dp68673
g2
(lp68674
VYou could use an AJAXify this form so that it updates only the  div when it is submitted
p68675
aVThe jquery form plugin is very good for this purpose:
p68676
aVwhere the  function might look like this:
p68677
as(dp68678
g16
V29407
p68679
stp68680
a((dp68681
g2
(lp68682
VA service layer shouldn't return view models, it should work with models
p68683
aVSo have your service layer return those titles:
p68684
aVand then leave the responsibility of instantiating the view model to the controller:
p68685
as(dp68686
g16
V29407
p68687
stp68688
a((dp68689
g2
(lp68690
VYou could decorate it with the  attribute:
p68691
aVThis way only one thread can execute the method and others will wait
p68692
aVIt is equivalent to putting a  to the entire method body
p68693
as(dp68694
g16
V29407
p68695
stp68696
a((dp68697
g2
(lp68698
VYou could use the RegisterStartupScript method:
p68699
aVThis will call the  javascript function once the page is rendered on the client
p68700
as(dp68701
g16
V29407
p68702
stp68703
a((dp68704
g2
(lp68705
VThe onSelect callback takes two arguments, the first one containing the selected date:
p68706
as(dp68707
g16
V29407
p68708
stp68709
a((dp68710
g2
(lp68711
VYou could use the IndexOf method:
p68712
as(dp68713
g16
V29407
p68714
stp68715
a((dp68716
g2
(lp68717
VIf the div is part of the AJAX response:
p68718
as(dp68719
g16
V29407
p68720
stp68721
a((dp68722
g2
(lp68723
VYes, the recommended way is to never store actual passwords but only their hashes
p68724
aVFor increased security you could hash them with a salt and store the salt as well
p68725
aVHere's an article you may find useful
p68726
as(dp68727
g16
V29407
p68728
stp68729
a((dp68730
g2
(lp68731
VShould they be hidden fields on the form
p68732
aVYes, that's definitely one good way of passing them
p68733
aVNote that this is not secure because the user can fake a POST request and modify them but that could be OK in your scenario
p68734
aVSo if you need security another way is to re-fetch them from the data store as the user cannot modify them in this form so they haven't changed
p68735
as(dp68736
g16
V29407
p68737
stp68738
a((dp68739
g2
(lp68740
VYou could use the File
p68741
aVExists method to check whether a given file exists:
p68742
as(dp68743
g16
V29407
p68744
stp68745
a((dp68746
g2
(lp68747
VYou could assign both textboxes the same chenge event handler:
p68748
aVand then:
p68749
as(dp68750
g16
V29407
p68751
stp68752
a((dp68753
g2
(lp68754
VProbably it's a version number
p68755
aVStatic resources such as CSS are cached by client browsers
p68756
aVSo by simply modifying the version browsers will refetch the new CSS there are updates
p68757
aVStackOverflow uses similar:
p68758
as(dp68759
g16
V29407
p68760
stp68761
a((dp68762
g2
(lp68763
VOf course if the types you are willing to add don't have a common base parent you cannot use a generic list
p68764
aVYou might use an ArrayList which allows for storing any types
p68765
aVUPDATE:
p68766
aVIf  and  both derive from  you can always do
p68767
aVAnd in
p68768
aVNET 4
p68769
aV0 thanks to generic covariance you can also do:
p68770
aVbut not in previous versions of the framework
p68771
as(dp68772
g16
V29407
p68773
stp68774
a((dp68775
g2
(lp68776
VWhy are you bothering and wasting your time with things like this
p68777
aVMake sure you license your code, probably obfuscate it, and sell it to a customer
p68778
aVIf he violates the license agreement and gives it to someone else that's his problem
p68779
aVSue their asses and that's it, end of the story
p68780
aVBut remember that no matter what you do they will find a way :-)
p68781
aVSo focus on delivering a good product and customers will come by themselves to you asking you to buy it
p68782
as(dp68783
g16
V29407
p68784
stp68785
a((dp68786
g2
(lp68787
VDon't put  before those variables in the  method or you are redeclaring new local variables and your fields stay null and unassigned:
p68788
aVAnd for better encapsulation use properties:
p68789
as(dp68790
g16
V29407
p68791
stp68792
a((dp68793
g2
(lp68794
VWith:
p68795
aVthe form DOM element is automatically closed by the browser so everything else is added as new DOM elements but not inside the form
p68796
aVHere's an alternative method which I like for working with the DOM tree:
p68797
as(dp68798
g16
V29407
p68799
stp68800
a((dp68801
g2
(lp68802
VFireBug is very good for this purpose
p68803
aVIt has a logging console where you can inspect/debug javascript
p68804
aVSo:
p68805
aVand then enjoy the results in the console
p68806
aVIt will contain answers to your questions
p68807
as(dp68808
g16
V29407
p68809
stp68810
a((dp68811
g2
(lp68812
VYou are invoking the function by putting  at the end
p68813
aVTry this instead:
p68814
aVand here's a working demo
p68815
as(dp68816
g16
V29407
p68817
stp68818
a((dp68819
g2
(lp68820
VTry like this, it's better, safer, uses lazy loading, less code, working,
p68821
ag9596
aVand then:
p68822
as(dp68823
g16
V29407
p68824
stp68825
a((dp68826
g2
(lp68827
VAs the documentation explains it the
p68828
aVserialize() method is passed a form DOM element and it converts it into a URL encoded string of key/value pairs that you could pass to the server
p68829
aVBut if you want to work with strongly typed objects in ASP
p68830
aVNET you could take a look at Page Methods
p68831
aVFor example suppose that you have defined the following type:
p68832
aVyou could then have a page method:
p68833
aVand to invoke this method using jQuery and JSON request:
p68834
as(dp68835
g16
V29407
p68836
stp68837
a((dp68838
g2
(lp68839
VYou shouldn't in any case be placing the  call in the  view or it will recursively call itself until you run out of stack
p68840
aVIf the call is placed in the  of the site ensure that you are returning a partial view in the  action so that this layout is not included:
p68841
aVor if you don't want to modify your  controller action you could do the following in the  partial:
p68842
as(dp68843
g16
V29407
p68844
stp68845
a((dp68846
g2
(lp68847
VIf you are finding yourself repeating this logic then a custom model binder for the User type might help:
p68848
aVand once you register the binder your controller action might look like this:
p68849
as(dp68850
g16
V29407
p68851
stp68852
a((dp68853
g2
(lp68854
VIn the  function you could set a cookie which indicates that the user closed the div and in  function verify if the cookie is present before showing the div
p68855
as(dp68856
g16
V29407
p68857
stp68858
a((dp68859
g2
(lp68860
VYou can't
p68861
aVA page refresh is like navigating away and unloading the DOM so the  event will always be called
p68862
as(dp68863
g16
V29407
p68864
stp68865
a((dp68866
g2
(lp68867
VThose are best handled directly by SQL Server to ensure true data integrity
p68868
aVAs far as consistency is concerned, the server time will be used so there shouldn't be problems
p68869
aVYou could use UTC time in SQL Server as @gbn suggests in the comments
p68870
as(dp68871
g16
V29407
p68872
stp68873
a((dp68874
g2
(lp68875
VDo you read exception messages
p68876
aVNow look at the code of  you've posted
p68877
aVDo you see a Register action on it
p68878
aVI don't
p68879
aVSo add one:
p68880
aVIn your  you have an action called Register but action is only accessible through POST verbs as it is decorated with the  attribute:
p68881
aVso you cannot invoke it with a GET verb on
p68882
as(dp68883
g16
V29407
p68884
stp68885
a((dp68886
g2
(lp68887
VYou need to specify the enum name:
p68888
as(dp68889
g16
V29407
p68890
stp68891
a((dp68892
g2
(lp68893
VAre you trying to modify this in a POST action
p68894
aVIf you are then note that HTML helpers such as  will first read data from model state and after this from the model
p68895
aVSo if your post action looks like this:
p68896
aVyou need to remove it from model state or you will always get old value:
p68897
aVIf you are doing this in the GET action there shouldn't be absolutely any problems displaying the value:
p68898
aVand then in the view:
p68899
aVshould display the proper value
p68900
as(dp68901
g16
V29407
p68902
stp68903
a((dp68904
g2
(lp68905
VWhy are you binding data readers to a repeater
p68906
aVI would recommend you using strongly typed objects
p68907
aVSo start by defining a model that will represent your data:
p68908
aVthen a method to fetch those students:
p68909
aVand then bind the repeater:
p68910
aVand in the view:
p68911
aVAlso note that the name of the repeater is  so that's what you should use in your code behind
p68912
as(dp68913
g16
V29407
p68914
stp68915
a((dp68916
g2
(lp68917
VYou may take a look at the following blog post
p68918
as(dp68919
g16
V29407
p68920
stp68921
a((dp68922
g2
(lp68923
VIs there a way to validate that I'm using I/O completion ports instead of ASP
p68924
aVNET Thread Pool
p68925
aVNot without seeing your code as it will depend on the APIs you are using
p68926
aVFor example HttpWebRequest
p68927
aVBeginGetResponse uses I/O Completion Ports
p68928
aVOn the other hand if you have some CPU intensive task that you are running on a separate thread that you've created manually then you are not using I/O Completion Ports
p68929
aVIs there a property in Thread
p68930
aVCurrentThread or someplace else that I can check to identify where the thread is running
p68931
aVA Completion Port means that there is no thread because if there was a thread its as if you were running on a thread
p68932
aVBasically the way I/O Completion Ports work is that you start some I/O operation and a CP is registered with it, then you free all threads and return
p68933
aVDuring the execution of the operation there are no threads in your application associated to it
p68934
aVOnce the operation completes the port is signaled and a thread is cretad/drawn from the pool to end the request
p68935
as(dp68936
g16
V29407
p68937
stp68938
a((dp68939
g2
(lp68940
VYou could write a helper method:
p68941
aVand then:
p68942
as(dp68943
g16
V29407
p68944
stp68945
a((dp68946
g2
(lp68947
VIf the file is not very large and can fit in memory:
p68948
aVIf not write an iterator:
p68949
aVand then consume it:
p68950
as(dp68951
g16
V29407
p68952
stp68953
a((dp68954
g2
(lp68955
VYou don't need to use a  method or a  property on your model
p68956
aVIn order to use it in the view you could simply use the JavaScriptSerializer class which will convert the server side model object into a javascript object:
p68957
aVThis will successfully send the model to the following controller action:
p68958
aVwhere the  class contains all the necessary information:
p68959
aVand the controller:
p68960
as(dp68961
g16
V29407
p68962
stp68963
a((dp68964
g2
(lp68965
VThe problem is on this line:
p68966
aVYou are trying to use a  as data source to the grid view which is not possible
p68967
aVYou could use a data reader or a data set:
p68968
aVAlso make sure you dispose those connections and commands properly by wrapping them in using statements
p68969
as(dp68970
g16
V29407
p68971
stp68972
a((dp68973
g2
(lp68974
VAs you stated in the comments section that AJAX is an option for you here's how you could proceed by AJAXifying the login form
p68975
aVThe jquery form plugin is excellent for this job and I would strongly recommend it
p68976
aVSo you could provide an id to the login form in the login view:
p68977
aVand then include a javascript which will AJAxify this form:
p68978
aVNow all that's left is to return a partial view from the  controller action in case there is an error:
p68979
aVWe need to handle the success case as well
p68980
aVThis could be done by returning a JSON string:
p68981
aVand then adapt the client script:
p68982
as(dp68983
g16
V29407
p68984
stp68985
a((dp68986
g2
(lp68987
VYou could also enforce a generic constraint to an enum type for this helper method
p68988
aVand then:
p68989
aVModel:
p68990
aVController:
p68991
aVView:
p68992
as(dp68993
g16
V29407
p68994
stp68995
a((dp68996
g2
(lp68997
VYou may find the following blog post helpful
p68998
as(dp68999
g16
V29407
p69000
stp69001
a((dp69002
g2
(lp69003
VI guess that most people that use Visual Studio had my same reaction when they created their first ASP
p69004
aVNET MVC project: where did the Design View end up
p69005
aVNot at all
p69006
aVPersonally I never used the design view in classic web forms and when I migrated to MVC it didn't really make any difference
p69007
aVAnd not only this, it doesn't make any sense to use it anymore
p69008
aVI am very happy that there is no designer messing with my code anymore
p69009
aVI have enough headaches with Intellisense, if you use a designer which touches the code behind the scenes things will get messy
p69010
aVAll I need is working Intellisense which completes the tags and ideally understands HTML5
p69011
aVAs far as designing web pages is concerned you may take a look at the Expression tools
p69012
as(dp69013
g16
V29407
p69014
stp69015
a((dp69016
g2
(lp69017
VYou could always perform the following ugliness:
p69018
aVBut the correct way to do this is to use a view model
p69019
aVBy the way the correct way to do EVERYTHING in MVC is to use a view model:
p69020
aVInclude properties that are needed by the view in this view model and then you map your model to this view model in the controller so that you simply:
p69021
as(dp69022
g16
V29407
p69023
stp69024
a((dp69025
g2
(lp69026
VYou could use XDocument and XPath to filter:
p69027
as(dp69028
g16
V29407
p69029
stp69030
a((dp69031
g2
(lp69032
VThat code is tragic and screaming for refactoring
p69033
aVJust looking at it my eyes hurt
p69034
aVYou are not encoding strings thus making this code vulnerable to XSS attacks
p69035
aVSo as always in ASP
p69036
aVNET MVC you start with a view model:
p69037
aVthen you will have a controller action which will fetch the model from the repository and map it to the view model
p69038
aVYou could use AutoMapper to simplify this mapping
p69039
aVIt's in the mapping layer that you will transform everything to be ready to be directly used by the view so that this views doesn't resemble to a horrible tag soup:
p69040
aVnext we get to the strongly typed view where we will be using Display Templates:
p69041
aVand in the corresponding display template ():
p69042
aVand finally you could use jquery to attach to the click of this button and fetch the name:
p69043
as(dp69044
g16
V29407
p69045
stp69046
a((dp69047
g2
(lp69048
VRemove the  attribute from your  tag
p69049
aVIt's legacy left from the good ol' days of WebForms which has no any viable meaning in MVC that someone forgot to remove from the default template
p69050
aVAlso if the  variable is not available in the masterpage you could use a content placeholder which will be redefined in each view if this variable is part of a view model which is only available in views
p69051
as(dp69052
g16
V29407
p69053
stp69054
a((dp69055
g2
(lp69056
VTry like this:
p69057
aVor if you want to send all form values you could use the  function:
p69058
as(dp69059
g16
V29407
p69060
stp69061
a((dp69062
g2
(lp69063
VThe notion of current view doesn't make sense
p69064
aVYou haven't yet rendered the body () and expect to get a view name
p69065
aVYou could get the current action and controller though from the :
p69066
aVThe main question remains though: why do you need this and what are you trying to achieve with it
p69067
as(dp69068
g16
V29407
p69069
stp69070
a((dp69071
g2
(lp69072
VIf you are using
p69073
aVNET 4
p69074
aV0 why not taking benefit of TPL:
p69075
aVAlso if this is ASP
p69076
aVNET you are better off using asynchronous pages
p69077
as(dp69078
g16
V29407
p69079
stp69080
a((dp69081
g2
(lp69082
VThe following should work:
p69083
aVHere's a live demo
p69084
aVJust make sure you are not violating the same origin policy
p69085
aVThat's why it's always better to use relative urls when performing AJAX requests ()
p69086
as(dp69087
g16
V29407
p69088
stp69089
a((dp69090
g2
(lp69091
VStart by reading this blog post
p69092
aVThen apply it to your scenario:
p69093
aVwhich translated in WebForms language gives:
p69094
aVand then:
p69095
aVIf you have many files then use  as illustrated by Haacked
p69096
aVRemarks:
p69097
aVAbsolutely never use  in an ASP
p69098
aVNET MVC application
p69099
aVAbsolutely never never never use  in an ASP
p69100
aVNET MVC application
p69101
as(dp69102
g16
V29407
p69103
stp69104
a((dp69105
g2
(lp69106
VTFS is a PITA in general (personal and biased opinion)
p69107
aVHere's an article on how to proceed to revert changes back (warning: more than a few clicks away)
p69108
as(dp69109
g16
V29407
p69110
stp69111
a((dp69112
g2
(lp69113
VYou start by generating a strongly typed proxy using the svcutil
p69114
aVexe or Add Service reference dialog in Visual Studio by pointing to the web service WSDL
p69115
aVThis will generate a strongly typed client allowing you to consume the service
p69116
aVAnd then consume:
p69117
as(dp69118
g16
V29407
p69119
stp69120
a((dp69121
g2
(lp69122
VIn ASP
p69123
aVNET MVC there is no notion of Page
p69124
aVThere are controllers, actions and views
p69125
aVSo probably what you are talking about is how to have a view send information to a controller action
p69126
aVWell there are couple of ways
p69127
aVOne consist in generating an HTML  in this view, filling it with input elements and pointing this form action attribute to the target action:
p69128
aVIf you want to select a particular row in the grid then you could generate a form on each row in this grid and use the item id as hidden field
p69129
as(dp69130
g16
V29407
p69131
stp69132
a((dp69133
g2
(lp69134
Vand then try specifying DataValueField and DataTextField properties:
p69135
as(dp69136
g16
V29407
p69137
stp69138
a((dp69139
g2
(lp69140
VMaybe you need to pass a model to this partial:
p69141
aVAnd by the way WTF are you using  to pass a model instead of using a model and a strongly typed view:
p69142
aVand then:
p69143
aVThis obviously assumes that your partial is strongly typed to
p69144
aVIf it is typed to a single  you might also consider using Editor/Display Templates
p69145
aVSo in your main view:
p69146
aVand in the corresponding display template ():
p69147
aVand now the display template will be rendered for each item of the model collection
p69148
as(dp69149
g16
V29407
p69150
stp69151
a((dp69152
g2
(lp69153
VYou may find the following blog post useful
p69154
as(dp69155
g16
V29407
p69156
stp69157
a((dp69158
g2
(lp69159
VYou could specify the path to the partial:
p69160
as(dp69161
g16
V29407
p69162
stp69163
a((dp69164
g2
(lp69165
VIf you use the  attribute to specify an external javascript file to be included you cannot have contents to this  tag
p69166
aVThe second case is the correct way
p69167
aVQuote from the specification:
p69168
aVThe script may be defined within the
p69169
aVcontents of the SCRIPT element or in
p69170
aVan external file
p69171
aVIf the src attribute
p69172
aVis not set, user agents must interpret
p69173
aVthe contents of the element as the
p69174
aVscript
p69175
aVIf the src has a URI value,
p69176
aVuser agents must ignore the element's
p69177
aVcontents and retrieve the script via
p69178
aVthe URI
p69179
as(dp69180
g16
V29407
p69181
stp69182
a((dp69183
g2
(lp69184
VThere are some blog posts illustrating how to mix ASP
p69185
aVNET MVC with classic WebForms
p69186
as(dp69187
g16
V29407
p69188
stp69189
a((dp69190
g2
(lp69191
VDon't use  in ASP
p69192
aVNET MVC
p69193
aVUse the  attribute to decorate controllers/action that need to be protected
p69194
aVSo for example if you wanted to protect all controllers you could have a base controller which will be decorated with this attribute:
p69195
aVand then have other controllers derive from it
p69196
aVObviously the  shouldn't derive from this base controller as it need to show the login form without requiring authentication
p69197
as(dp69198
g16
V29407
p69199
stp69200
a((dp69201
g2
(lp69202
VThe && operator has precedence over || meaning that your first expression is equivalent to:
p69203
aVwhich gives:
p69204
aVwhich gives:
p69205
aVIn the second case you are explicitly grouping the operands:
p69206
aVwhich gives:
p69207
aVwhich gives:
p69208
as(dp69209
g16
V29407
p69210
stp69211
a((dp69212
g2
(lp69213
VYou can't use routing for this
p69214
aVThe value that follows the # sign in an URL is NEVER sent to the server by the client browser
p69215
aVSo for example if you request  the server can never fetch the value  simply because the browser never sends it
p69216
aVThe only way is to use javascript () and maybe send an AJAX request to the server by rewriting the url :
p69217
as(dp69218
g16
V29407
p69219
stp69220
a((dp69221
g2
(lp69222
VYou may take a look at SandCastle
p69223
as(dp69224
g16
V29407
p69225
stp69226
a((dp69227
g2
(lp69228
VYou can store the authentication token in the userData part of the forms authentication cookie
p69229
aVThis way it will be available on each request
p69230
aVSo for example once you verify the credentials of a user you could query the web service to obtain the token and manually create and emit the forms authentication cookie:
p69231
aVThen you could write a custom authorize attribute which will read this information and set a custom generic identity:
p69232
aVFinally decorate your controllers/actions that require authentication with this attribute:
p69233
as(dp69234
g16
V29407
p69235
stp69236
a((dp69237
g2
(lp69238
VCheck this blog post for lowercasing and adapt to your requirements
p69239
as(dp69240
g16
V29407
p69241
stp69242
a((dp69243
g2
(lp69244
VThe question is, what is the best way to pass the values of DateFrom and DateTo (the two inputs) to the controller and retrieve the result using Ajax
p69245
aVYou could subscribe to the change event of those textboxes and send an AJAX request:
p69246
aVand the controller action could look like this:
p69247
as(dp69248
g16
V29407
p69249
stp69250
a((dp69251
g2
(lp69252
V along with a custom error handler works fine for me
p69253
as(dp69254
g16
V29407
p69255
stp69256
a((dp69257
g2
(lp69258
VAction filters should be registered using the following syntax:
p69259
aVYou can also apply the filter conditionally
p69260
aVRemark: can't see any relation with the  class you are showing in your question
p69261
aVThat's already built into ninject
p69262
aVmvc3 and you shouldn't be writing it manually
p69263
as(dp69264
g16
V29407
p69265
stp69266
a((dp69267
g2
(lp69268
VThe ambiguity comes from the fact that you are using  as model type
p69269
aVThis ambiguity could be resolved like this:
p69270
aVor:
p69271
aVor:
p69272
aVNotice the cast to object to pick the proper method overload as there is already a  method which takes a string argument which represents the view name so you cannot throw whatever you want to it => if it's a string it must be the name of the view and this view must exist
p69273
as(dp69274
g16
V29407
p69275
stp69276
a((dp69277
g2
(lp69278
VYou can set the root folder of the website to whatever location you want
p69279
aVAnd if you create a virtual directory and host this MVC application inside the directory it could even be outside of the root of the web site:
p69280
as(dp69281
g16
V29407
p69282
stp69283
a((dp69284
g2
(lp69285
VYou could pass  as query string parameter to the  action which could itself store it as a hidden field in the form which will be reposted back and allowing to redirect back to the original page once the feedback is submitted
p69286
aVExample:
p69287
as(dp69288
g16
V29407
p69289
stp69290
a((dp69291
g2
(lp69292
VIf you are using Razor you might need to add the reference to the  section in the  and  and not the main  file
p69293
aVAlso make sure you recompile the project, open close the view, maybe even restart Visual Studio for changes to take effect (in terms of Intellisense, it will work if you run the project)
p69294
as(dp69295
g16
V29407
p69296
stp69297
a((dp69298
g2
(lp69299
VThe de-facto standard today of creating web services in
p69300
aVNET is WCF
p69301
as(dp69302
g16
V29407
p69303
stp69304
a((dp69305
g2
(lp69306
VA good place to start is the Twitter API
p69307
as(dp69308
g16
V29407
p69309
stp69310
a((dp69311
g2
(lp69312
VSorry, you can't do this
p69313
aVThe best you could do is mailto link which unfortunately doesn't allow to set attachments
p69314
as(dp69315
g16
V29407
p69316
stp69317
a((dp69318
g2
(lp69319
VYou could have your ASP page send a custom HTTP Header in the response like:
p69320
aVwith:
p69321
aVand then fetch this header in the  callback:
p69322
as(dp69323
g16
V29407
p69324
stp69325
a((dp69326
g2
(lp69327
VJavaScriptSerializer is a good start
p69328
aVAnd if you want more power you may checkout Json
p69329
aVNET
p69330
aVBoth allow you to serialize CLR objects to JSON strings
p69331
aVIf you are working with ASP
p69332
aVNET (not MVC) you could still use PageMethods or script enabled services
p69333
aVAlso worth mentioning that WCF also supports JSON
p69334
aVSo, up to you to choose, play and ask if you encounter some problems implementing a specific solution
p69335
as(dp69336
g16
V29407
p69337
stp69338
a((dp69339
g2
(lp69340
VYou could try writing a custom virtual path provider
p69341
as(dp69342
g16
V29407
p69343
stp69344
a((dp69345
g2
(lp69346
VYou write use a custom model binder which will take the  query string parameter and return some strongly typed model:
p69347
as(dp69348
g16
V29407
p69349
stp69350
a((dp69351
g2
(lp69352
VSimple answer: no you cannot do this
p69353
as(dp69354
g16
V29407
p69355
stp69356
a((dp69357
g2
(lp69358
VUnable to reproduce
p69359
aVHere's what I tried:
p69360
aVResult:
p69361
aVController:
p69362
aVView:
p69363
aVThe AJAX call resulted in the correct request content type to be fetched
p69364
as(dp69365
g16
V29407
p69366
stp69367
a((dp69368
g2
(lp69369
VIt is the actual type of a variable at runtime
p69370
aVFor example:
p69371
aVThe compile time type of the  variable is  and the runtime is
p69372
aVThe runtime type can be obtained using the GetType method:
p69373
as(dp69374
g16
V29407
p69375
stp69376
a((dp69377
g2
(lp69378
VShould a controller be able to get entities through the repository pattern, or must it retrieve data from the services layer
p69379
aVIdeally the controller should use only the service layer which itself depends on one or more repositories in order to aggregate one or more simple CRUD operations into a business operation
p69380
aVThere are cases though in simple applications where you might not need a service layer and have the controller directly use a repository
p69381
as(dp69382
g16
V29407
p69383
stp69384
a((dp69385
g2
(lp69386
VMaybe the name of the field containing validation error in the metadata doesn't match the name of the field generated by the  helper
p69387
aVHow about using editor templates
p69388
aVThis way you don't need to bother with prefixes, setting template infos, problems with validation,
p69389
aVSo you could define ():
p69390
aVand in the main view simply:
p69391
aVThis even works with collections if you don't want to bother creating 5 properties on your model
p69392
aVYou could have a simple property:
p69393
aVand then:
p69394
aVwhich will render the editor template for each item in the collection and of course take care of generating proper ids, names,
p69395
as(dp69396
g16
V29407
p69397
stp69398
a((dp69399
g2
(lp69400
VYou could remove replace the  with empty string before trying to parse it:
p69401
as(dp69402
g16
V29407
p69403
stp69404
a((dp69405
g2
(lp69406
VTry setting the  parameter to your AJAX requests as browsers might cache GET requests:
p69407
as(dp69408
g16
V29407
p69409
stp69410
a((dp69411
g2
(lp69412
VYou could try this:
p69413
aVBut obviously a better solution is to never write any loops but use editor templates as in this case your code will become:
p69414
as(dp69415
g16
V29407
p69416
stp69417
a((dp69418
g2
(lp69419
VTry registering ASP
p69420
aVNET with IIS:
p69421
aVThen make sure it is enabled:
p69422
aVIf you are using ASP
p69423
aVNET 4
p69424
aV0 make sure you adapt those steps to the corresponding version
p69425
as(dp69426
g16
V29407
p69427
stp69428
a((dp69429
g2
(lp69430
VThe following should work:
p69431
aVModel:
p69432
aVController:
p69433
aVView:
p69434
aVYou only need to add the  to your web
p69435
aVconfig if you are running ASP
p69436
aVNET 4
p69437
ag2721
aVAlso you don't need to add
p69438
aVIf this doesn't work you probably haven't decorated the correct controller action with the  attribute
p69439
aVThis should be the action you are POSTing the form to
p69440
as(dp69441
g16
V29407
p69442
stp69443
a((dp69444
g2
(lp69445
VHere's a blog post illustrating that the situation could be better even in MVC 2 :-) And the situation could be even further improved by using editor templates (which also exist in MVC 2) and never write a single  loop in a view
p69446
as(dp69447
g16
V29407
p69448
stp69449
a((dp69450
g2
(lp69451
VYou don't need to manually JSON serialize the response
p69452
aVThis is automatically handled by script enabled services
p69453
aVSimply return a strongly typed object from your web method
p69454
aVSame for the input
p69455
aVAlso you must ensure to properly URL encode the request parameters
p69456
aVSo start by defining models:
p69457
aVand then:
p69458
aVand on the client side:
p69459
as(dp69460
g16
V29407
p69461
stp69462
a((dp69463
g2
(lp69464
VThat's normal
p69465
aVYou have set the variable  to  so in the if statement you are always entering the  part
p69466
aVAfter you set the variable to true but there is no longer any if statement executed
p69467
as(dp69468
g16
V29407
p69469
stp69470
a((dp69471
g2
(lp69472
VIt is stored in the memory of the server and the value is available for the entire lifetime of the request
p69473
as(dp69474
g16
V29407
p69475
stp69476
a((dp69477
g2
(lp69478
VIf you want to refresh some part of the DOM you need to define a success callback to your AJAX request
p69479
aVLike this:
p69480
aVwhere you have some div that will host the partial view results:
p69481
aValso some browsers like IE might cache GET requests
p69482
aVIn order to avoid this you could use the following:
p69483
as(dp69484
g16
V29407
p69485
stp69486
a((dp69487
g2
(lp69488
VThis cannot be done
p69489
aVViewBag is dynamic and the problem is that the anonymous type is generated as internal
p69490
aVI would recommend you using a view model:
p69491
aVand then:
p69492
aVand in the view:
p69493
as(dp69494
g16
V29407
p69495
stp69496
a((dp69497
g2
(lp69498
VHow about injecting the proxy helper to the constructor (notice the introduction of an abstraction):
p69499
aVand the controller:
p69500
aVThis way in your unit test when instantiating the controller you could inject a mocked instance of the  interface
p69501
aVYou will then need to configure your DI framework to insert the proper implementation into the controller constructor which will wrap the actual
p69502
as(dp69503
g16
V29407
p69504
stp69505
a((dp69506
g2
(lp69507
VIn order for the object to be correctly bound by the default model binder it must have a default parameterless constructor:
p69508
aVif you want to use models as the one you showed you will need to write a custom model binder to handle the conversion:
p69509
aVwhich will be registered in :
p69510
aVand used like this:
p69511
aVNow when you query  the action parameter should be properly bound
p69512
aVNow the question is: do you really want to write all this code when you can have a view model as the one I showed initially
p69513
as(dp69514
g16
V29407
p69515
stp69516
a((dp69517
g2
(lp69518
VInstead of having a view that take an  and that all it does is loop through the collection and call the proper display template simply:
p69519
aVwhere the Comments property is an  which will automatically do the looping and render the  display template for each item of this collection
p69520
aVOr if you really need such a view (don't know why) you could simply:
p69521
aVAs far as the  clause you are using in there you should simply remove it and delegate this task to the controller
p69522
aVIt's the controller's responsibility to prepare the view model, not the view performing such tasks
p69523
as(dp69524
g16
V29407
p69525
stp69526
a((dp69527
g2
(lp69528
VThat's because the sum of two Int16s is an Int32 so you might need a cast:
p69529
as(dp69530
g16
V29407
p69531
stp69532
a((dp69533
g2
(lp69534
VYou may find the usage of Html
p69535
aVAction and Html
p69536
aVRenderAction helpers useful
p69537
aVThey allow you to have completely separate child MVC life-cycle integrated into the main MVC pipeline
p69538
as(dp69539
g16
V29407
p69540
stp69541
a((dp69542
g2
(lp69543
VTake a look at the following blog post
p69544
aVYou should use  instead of
p69545
aVYes, you need to store the MIME type unless you perform some conversion when those images are uploaded to the same image type or you will not be able to serve them later
p69546
as(dp69547
g16
V29407
p69548
stp69549
a((dp69550
g2
(lp69551
VThe action you are submitting the form to must look like this:
p69552
aVOr if you are trying to bind directly to the two addresses you need to set the correct prefix:
p69553
as(dp69554
g16
V29407
p69555
stp69556
a((dp69557
g2
(lp69558
VYou have placed a Required attributes on the  property but this is never sent to the server so your model is not valid (only the  is POSTed)
p69559
aVSo you should place it on the  property:
p69560
aVAlso you should make this  property  as you have defined an empty value for your dropdown and if the user doesn't select any value it will crash
p69561
aVSo your model should look like this:
p69562
aVAlso you could remove the Required attribute from the Role property in the User class
p69563
aVIt's not needed
p69564
aVFinal advice and probably the most important one: replace this  ugliness with a property on your view model so that the helper looks like this:
p69565
as(dp69566
g16
V29407
p69567
stp69568
a((dp69569
g2
(lp69570
s(dp69571
g16
V29407
p69572
stp69573
a((dp69574
g2
(lp69575
VI would recommend you jQuery
p69576
aVMicrosoft AJAX is like stone age and totally deprecated in ASP
p69577
aVNET MVC
p69578
aVI mean if you was working on some legacy ASP
p69579
aVNET WebForms application you would have had an excuse but in ASP
p69580
aVNET MVC there is no excuse
p69581
aVSo:
p69582
aVAlso if you need to send special characters such as , ,
p69583
aVyou must ensure that the corresponding controller action is decorated with the  attribute:
p69584
aVand if you are using ASP
p69585
aVNET 4
p69586
aV0 you might also need to set the following in your web
p69587
aVconfig for this to work:
p69588
as(dp69589
g16
V29407
p69590
stp69591
a((dp69592
g2
(lp69593
VWhy plugin when there is a native window
p69594
aVsetInterval javascript function
p69595
aVOf course you could use a plugin to do sexier notifications rather than a boring alert
p69596
as(dp69597
g16
V29407
p69598
stp69599
a((dp69600
g2
(lp69601
VYou could use a XmlReader if the XML is large to avoid loading it in memory before parsing
p69602
aVIf the XML is not very big XDocument is very good and could be used to read and extract information from a XML file
p69603
as(dp69604
g16
V29407
p69605
stp69606
a((dp69607
g2
(lp69608
VCheck this answer, it might help
p69609
as(dp69610
g16
V29407
p69611
stp69612
a((dp69613
g2
(lp69614
VA resource file generates static class behind the scenes to access those resources so you end up basically with the same thing
p69615
aVIt's just that if you use a resource file and one day you decide to localize you are good to go
p69616
aVOf course there is no definite answer to this question
p69617
aVLooks subjective to me as both solutions are perfectly viable
p69618
as(dp69619
g16
V29407
p69620
stp69621
a((dp69622
g2
(lp69623
VWell, you could start by giving this link an unique id so that you could reference it from client scripts:
p69624
aVand then you could unobtrusively AJAXify it in a separate file javascript file:
p69625
aVOf course if the result of this action is a partial view HTML that you would like to inject on some placeholder in the DOM you could use the  method:
p69626
aVYAnd if you want to pass some additional values with the AJAX request:
p69627
as(dp69628
g16
V29407
p69629
stp69630
a((dp69631
g2
(lp69632
VShould a model contain all of the data required to build the view
p69633
aVAbsolutely and definitely YES
p69634
aVThe question is, should this be put in the ViewData
p69635
aVAbsolutely and definitely NO
p69636
aVYou also have the possibility of using Html
p69637
aVAction and Html
p69638
aVRenderAction if this navigation widget could be considered as fully independent part of your site
p69639
as(dp69640
g16
V29407
p69641
stp69642
a((dp69643
g2
(lp69644
VThe Opacity property is of double type:
p69645
aVor simply:
p69646
aVor:
p69647
aVNotice that I am using  (or ) to force a double division because  is an integer and it would perform an integer division and the result would be an integer
p69648
as(dp69649
g16
V29407
p69650
stp69651
a((dp69652
g2
(lp69653
VASP
p69654
aVNET MVC inferring the action and controller to invoke from URL
p69655
aVRouting in general
p69656
as(dp69657
g16
V29407
p69658
stp69659
a((dp69660
g2
(lp69661
VWhen loading your model you could explicitly set the columns you want to select and skip large columns:
p69662
as(dp69663
g16
V29407
p69664
stp69665
a((dp69666
g2
(lp69667
VI've personally switched to Windows Server 2008 R2 Standard as a development machine and I find it much faster than Windows 7 Ultimate x64
p69668
aVTry it and you will see the difference
p69669
aVIt can be tweaked to be extremely lightweight and is blazingly fast
p69670
aVBut because the question was about Windows 7, I've used the RTM Ultimate x64 as a development machine since August and didn't find much of a difference compared to Vista Ultimate x32 I've used before
p69671
aVSurely it looks more polished but as I'm primarily looking for speed it didn't made much of a difference
p69672
as(dp69673
g16
V29407
p69674
stp69675
a((dp69676
g2
(lp69677
VYou could use the ServerCertificateValidationCallback callback to ignore certificate validation errors:
p69678
aVThis is a static property which could be set before performing the HTTP request
p69679
as(dp69680
g16
V29407
p69681
stp69682
a((dp69683
g2
(lp69684
VIMHO automatic tools won't be of any help here
p69685
aVJust translating variable and function names is not enough and will make the code worse because they cannot infer the original programmer intent when he choose a variable name
p69686
aVDepending on what programming language this code is written to there are modern IDEs that might ease the refactoring but if you want to have good results manual code review is a must
p69687
as(dp69688
g16
V29407
p69689
stp69690
a((dp69691
g2
(lp69692
VThere's a nice one on MSDN
p69693
as(dp69694
g16
V29407
p69695
stp69696
a((dp69697
g2
(lp69698
VYou may take a look at this post to see how dictionaries should be binded
p69699
aVI am afraid that using strongly typed  helpers you won't be able to achieve this and you will have to generate the fields manually
p69700
as(dp69701
g16
V29407
p69702
stp69703
a((dp69704
g2
(lp69705
VScott Gu blogged about it
p69706
as(dp69707
g16
V29407
p69708
stp69709
a((dp69710
g2
(lp69711
VYou could use LINQ to replace the initial list by a new list by filtering out items:
p69712
aVThis way you don't have to worry about loops
p69713
as(dp69714
g16
V29407
p69715
stp69716
a((dp69717
g2
(lp69718
VIt's not only in array, it's in an object initializer in general:
p69719
aVAlso in enums:
p69720
as(dp69721
g16
V29407
p69722
stp69723
a.