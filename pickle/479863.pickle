(lp0
((dp1
S'text'
p2
(lp3
VFrom the jemalloc  script:
p4
aVI'd guess that it is intended to provide a prefix for all of the jemalloc functions
p5
aVYou'll also see things like this in :
p6
aVSo, by default, jemalloc takes over the  name but if you need to still use plain  then you could
p7
aVand get  and plain  at the same time
p8
as(dp9
S'author'
p10
V479863
p11
stp12
a((dp13
g2
(lp14
VHave a look at the netpbm toolkit, the toolkit is just a bunch of small single purpose command line programs that you wire together using pipes
p15
aVYou might be able to find what you need in there
p16
as(dp17
g10
V479863
p18
stp19
a((dp20
g2
(lp21
VYour "decode HTML entities on INSERT and encode them on output" is your best bet, that'll take care of things like  as well
p22
aVYou'd probably want to strip out HTML tags too along the way to keep MySQL from finding things in attribute values
p23
aVIf speed and formatting is an issue then you could stuff the text/plain version in a separate column and put your full text index on that and let everything else use the text/html version
p24
aVOf course, you'd have to maintain both columns at the same time and your storage requirement would go up; OTOH, this approach would let you add tags, author names, and other extra bits of interesting data to the index without messing up your displayed text
p25
aVIn the mean time, did you rebuild your full text index after you added the  to your config file
p26
aVAFAIK, the stopwords are applied on the way into the index rather than while the index is consulted
p27
as(dp28
g10
V479863
p29
stp30
a((dp31
g2
(lp32
VFor an array a, something like this should work:
p33
aVFor example:
p34
as(dp35
g10
V479863
p36
stp37
a((dp38
g2
(lp39
VIf XML::RSS::Parser works for you then use it
p40
aVI've used XML::Parser to deal with RSS but I had narrow requirements and XML::Parser was already installed
p41
aVJust because something has been updated in a few years doesn't mean that it doesn't work anymore; I don't think the various RSS/Atom specs have changed recently so there's no need for the parser to change
p42
as(dp43
g10
V479863
p44
stp45
a((dp46
g2
(lp47
VText::MultiMarkdown passes some HTML straight through so you can use  tags:
p48
aVProduces a table body like this:
p49
aVWhich seems to be what you're looking for
p50
as(dp51
g10
V479863
p52
stp53
a((dp54
g2
(lp55
VYou could use a lock file for this
p56
aVWhen the task runs, try to grab the lock and run the rake task if you get the lock
p57
aVIf you don't get the lock, then don't run rake; you might want to log an error or warning somewhere too or you can end up with your rake task not doing anything for weeks or months before you know about it
p58
aVWhen rake exits, unlock the lock file
p59
aVSomething like RAA might help but I haven't used it so maybe not
p60
aVYou could also use a PID file
p61
aVYou'd have a file somewhere that holds the rake processes process ID
p62
aVBefore starting rake, you read the PID from that file and see if the process is running; if it isn't then start up rake and write its PID to the PID file
p63
aVWhen rake exists, delete the PID file
p64
aVYou'd want to combine this with locking on the PID file if you want to be really strict but this depends on your particular situation
p65
as(dp66
g10
V479863
p67
stp68
a((dp69
g2
(lp70
VPerl Monks says that Test::Deep, Data::Compare, and Data::Match are your friends
p71
aVThose packages don't seem to be geared towards producing detailed diffs but you might be able to hack in a callback to keep track of the precise differences
p72
as(dp73
g10
V479863
p74
stp75
a((dp76
g2
(lp77
VIf you meant "embed" rather than "extend" and you just want people to drop a little box on a page and that's it, then an iframe should be fine
p78
aVHowever, if you want two-way communication or mashupability \u2014 rather than "opaque blob of HTML and hope for the best" communication \u2014 then a JavaScript or REST API might be a better call
p79
aVMore specifics would make for an easier answer
p80
aVIf the functionality you need is on the level of an embedded ad or stackoverlflow flair then an iframe would work, if the functionality is more along the lines of a Google Map then an API of some sort would work better
p81
as(dp82
g10
V479863
p83
stp84
a((dp85
g2
(lp86
VDo you need to have the log file open all the time
p87
aVYou could do an open/write/close when you want to log something and hide that logic inside a MyLogger method
p88
aVThere is some overhead to opening and closing a file all the time but that overhead is probably inconsequential unless you're logging every iteration in a loop
p89
aVIf the outside world is directly accessing log_file then you have bigger problems on your hands than manually closing it
p90
aVIf there is already a large code base that is messing with log_file directly then you could replace it with an little object that does the necessary open/write/close sequence when some writes to it
p91
as(dp92
g10
V479863
p93
stp94
a((dp95
g2
(lp96
VAfter you fix codeaddict's string versus number issue and note tchrist's umask issue you should call chmod on the new directory after creating it if you need specific permissions
p97
aVI usually call mkdir without the mask and then chmod the directory to the permissions I want
p98
aVCheck these from the shell:
p99
aVYou can also set the umask to zero before calling mkdir, you'd need to do it this way if you need to create the directory with the correct permissions atomically
p100
aVSomething like this is probably what you're looking for:
p101
as(dp102
g10
V479863
p103
stp104
a((dp105
g2
(lp106
VAre these questions and their answers of any use
p107
aVCan anyone recommend a Ruby source code analyzer (something like pylint)
p108
aVIs there a static analysis tool for Python, Ruby, Sql, Cobol, Perl, and PL/SQL
p109
as(dp110
g10
V479863
p111
stp112
a((dp113
g2
(lp114
VYour first loop is this:
p115
aVwhich is equivalent to this:
p116
aVSo, GetAssociations() is called before the first iteration of the
p117
aVloop
p118
aVThere is no "don't delete while iterating pitfall" here, that
p119
aVpitfall generally comes up inside based loops and C-style
p120
aVloops
p121
aVThe problem is probably something inside the
p122
aVmethod
p123
aVAnother possibility is that the  objects returned from
p124
aVaren't fully copied when they're passed back: the
p125
aVobjects could still be internal data from
p126
aVThis could be a hidden "don't delete while iterating" pitfall, hard to say without knowing the implementation of  or even what its interface is
p127
aVAlso, you're missing a sigil on  in your second loop but
p128
aVthat's probably just a typo
p129
as(dp130
g10
V479863
p131
stp132
a((dp133
g2
(lp134
VTry to grab an extra row and see how many rows you really got
p135
aVSomething like this:
p136
aVAnd BTW, please use placeholders in all of your SQL, interpolation is fraught with danger
p137
as(dp138
g10
V479863
p139
stp140
a((dp141
g2
(lp142
VIf you can turn your program into a library you could use Inline::C to hook it straight into your perl code
p143
aVThis would let you replace your  call with a normal perl function call
p144
aVYou might have to sort out some data marshalling issues but Inline::C is a lot easier to work with than XS
p145
as(dp146
g10
V479863
p147
stp148
a((dp149
g2
(lp150
VAll of the variables inside the double quotes will get interpolated, the  that you're using in the bash for loop in particular
p151
aVWe don't have enough context to know where the other variables ( and ) come from or what they contain so they might be having the same problems
p152
aVThe double quotes are also eating your backslashes in the sed part
p153
aVAndy White is right, you'd have less of a mess if the bash commands were in a separate script
p154
as(dp155
g10
V479863
p156
stp157
a((dp158
g2
(lp159
VUse  to grab a whole 1024 byte (or 512 or whatever works for you) buffer and then scan that buffer byte by byte looking for something with the eighth bit set
p160
aVThat's probably pretty close to what file(1) does except file(1) has more complex patterns to consider and it probably doesn't bother with such a large buffer
p161
aVYou could also grab the source for  and learn how it operates
p162
as(dp163
g10
V479863
p164
stp165
a((dp166
g2
(lp167
VIs there a typo in this line or do you really want a double quote and "
p168
aV>" in
p169
aVAlso, you really should declare all your variables
p170
aVI think you want something like this:
p171
aVMaybe the stray double quote is confusing IE when the HTML is injected
p172
aVIt isn't like the IE error messages are all that helpful
p173
aVI'd also suggest that you replace  with just  to cut down on the noise
p174
aVOther than that, I'd suggest you look carefully at the blob of HTML that you're prepending
p175
aVYou could also inline the JSON data and see what happens
p176
as(dp177
g10
V479863
p178
stp179
a((dp180
g2
(lp181
VConvert the  to  using , then convert the  to plain text (preferably ISO 8601 format) using
p182
aVThe result will be portable, human readable, and machine readable
p183
aVTo get back to the , you just parse the string back into a  and use
p184
aVFor reference:
p185
aVgmtime
p186
aVstrftime
p187
aVmktime
p188
as(dp189
g10
V479863
p190
stp191
a((dp192
g2
(lp193
VI prefer to use made up tags for this sort of thing, that way I can include notes on context and meaning and such things are of great use to translators
p194
aVFor example:
p195
aVSimilarly, you can use made up attributes for  and  text
p196
aVYou need to be careful about the different contexts (HTML, , , PHP, various template languages,
p197
aVthough
p198
aVYou also need to be careful about word order and gender issues but those are standard L10N problems
p199
aVThen, you can preprocess all the translated files into separate directories (one per language) and avoid the overhead of producing translations on the fly
p200
as(dp201
g10
V479863
p202
stp203
a((dp204
g2
(lp205
VTry using the hoverIntent plugin instead of attempting to simulate "delayed hovering" with  and
p206
aVI almost always use hoverIntent instead of plain hover
p207
as(dp208
g10
V479863
p209
stp210
a((dp211
g2
(lp212
VThere's also:
p213
aVbut that might be a bit much for a beginner
p214
aVis a general purpose directory walker/lister,  means "look for plain files rather than directories and named pipes and what have you",  means "print them on the standard output using null characters as delimiters"
p215
aVThe output from  is sent to  and that grabs its standard input in chunks (to avoid command line length limitations) using null characters as a record separator (rather than the standard newline) and the applies  to each set of files
p216
aVOn the ,  means "list the files that match" and  means "case insensitive"; you can usually combine single character options so you'll see  more often than
p217
aVIf you don't use  and  then you'll run into problems with file names that contain spaces so using them is a good habit
p218
as(dp219
g10
V479863
p220
stp221
a((dp222
g2
(lp223
VAre you possibly mixing the apreq DLLs between the Strawberry and ActivePerl versions
p224
aVOr mixing apreq-1 and apreq-2 DLLs somehow
p225
aVThe area around the offending  call is just this:
p226
aVThe  method does come from  and  is type checked before  is called
p227
as(dp228
g10
V479863
p229
stp230
a((dp231
g2
(lp232
V doesn't return formatted text, it renders it
p233
aVSo, when
p234
aVyou call  while building your data for , "Cell 2"
p235
aVis rendered before the table and the cell at row 1 and column 2 is
p236
aVempty
p237
aVI think you want to put at Prawn::Table::Cell::Text object
p238
aVwhere you have your  call
p239
aVIf
p240
aVdoesn't support everything you need then you'll probably have to make your
p241
aVsubclass of  and do it all by hand
p242
as(dp243
g10
V479863
p244
stp245
a((dp246
g2
(lp247
VYou have this in your CSS:
p248
aVSo when a child, such as your menu, needs to render itself outside product-boxes it gets clipped
p249
aVYou have an  problem, not a  problem
p250
aVI don't see any need for  on that page, you should only use that when you need to clip the contained content
p251
as(dp252
g10
V479863
p253
stp254
a((dp255
g2
(lp256
VStarting from this question and modifying the answer:
p257
aVGives a reasonable approximation of what you're probably trying to achieve
p258
aVThis seems to work pretty much the same in Firefox and IE7, I didn't check Opera/Chrome/Safari/IE8 though
p259
aVYou should put this sort of dirty kludge into an IE7-specific stylesheet and load it with an IE7-specific conditional comment so that you don't litter your CSS with IE7 kludges
p260
as(dp261
g10
V479863
p262
stp263
a((dp264
g2
(lp265
VNot quite as perlish or compact as swestrup's but maybe easier to follow:
p266
as(dp267
g10
V479863
p268
stp269
a((dp270
g2
(lp271
VIf you only have a few tables then you can restore one table at a time,  accepts  when you specify
p272
aVOf course, you'll have to set up the schema before restoring the tables and then sort out the indexes and constraints when you're done restoring the tables
p273
aVAlternatively, set up another server on a different port, restore using the new PostgreSQL server, rename the schema, dump it, and restore into your original database
p274
aVThis is a bit of a kludge of course but it will get the job done
p275
aVIf you're adventurous you might be able to change the database name in the dump file using a hex editor
p276
aVI think it is only mentioned in one place in the dump and as long as the new and old database names are the same it should work
p277
aVYMMV, don't do anything like this in a production environment, don't blame me if this blows up and levels your home town, and all the rest of the usual disclaimers
p278
as(dp279
g10
V479863
p280
stp281
a((dp282
g2
(lp283
VIf you're really concerned with the executable size after linking a static library then you should also put only one function in each source file (and hence object file)
p284
aVLinkers usually pull entire object files out of a static library during linking
p285
as(dp286
g10
V479863
p287
stp288
a((dp289
g2
(lp290
VThe biggerLink plugin for jQuery does pretty much what Álvaro G
p291
aVVicario suggested and it has a few extra niceties such as  attribute handling and  handling
p292
as(dp293
g10
V479863
p294
stp295
a((dp296
g2
(lp297
VSome sort of abomination like this might work but it is very fragile, the various widths and heights were determined using the "fiddle with it until it works" technique:
p298
aVThis works on jsfiddle
p299
aVnet in Safari, YMMV anywhere else
p300
aVI feel dirty now
p301
as(dp302
g10
V479863
p303
stp304
a((dp305
g2
(lp306
VCheck the web server configuration to see where the  directory really is
p307
aVIf you're using apache then you want to look for something like this:
p308
aVin the  and related files
p309
aVThe actual  directory is often located somewhere outside the DocumentRoot directory
p310
as(dp311
g10
V479863
p312
stp313
a((dp314
g2
(lp315
VThat's a pretty old perl, I'm guessing that that version doesn't support lexical file handles so "open my $fh" won't work as ancient perl will see that as, essentially,  and hence the error message
p316
aVPossible solutions:
p317
aVUpgrade your perl out of the bronze age
p318
aVUse the old school  syntax instead
p319
aVUse  to generate a symbol that you can use as a file handle
p320
aVUse one of the  classes of plain
p321
as(dp322
g10
V479863
p323
stp324
a((dp325
g2
(lp326
VNetpbm can handle all those formats and doesn't get nearly as much attention as it deserves
p327
as(dp328
g10
V479863
p329
stp330
a((dp331
g2
(lp332
VAFAIK,  for montage is the size of each tile
p333
aVSo, you can try not specifying the geometry at all
p334
aVIf that doesn't work, you can can make some extra blank 50x50 images, composite the 25x25, 32x32, and 40x40 images on top of the blanks and then montage those; essentially you'd just make everything the same size (without scaling) and be done with it
p335
aVImageMagick: great tool, somewhat odd API though
p336
as(dp337
g10
V479863
p338
stp339
a((dp340
g2
(lp341
VYou can try using  instead of , that will give you something like this:
p342
aVwhereas  would yield:
p343
aVand the unicode escapes might be confusing someone
p344
as(dp345
g10
V479863
p346
stp347
a((dp348
g2
(lp349
VI've done it to hide the referer from the target site
p350
aVSo, if you're on:
p351
aVThen sending some through a simple redirector will hide that URL and the final target will only see something generic like
p352
aVas the referer
p353
aVRedirector pages can also be used for click tracking
p354
as(dp355
g10
V479863
p356
stp357
a((dp358
g2
(lp359
VMake only checks if the target timestamp is younger than the source timestamp
p360
aVThat's the only way it can know what needs to be updated
p361
aVSo, if you loop iterations take less than a second then make won't know that anything has changed
p362
aVYou can either clean up at the top of each iteration or add a delay as Ignacio Vazquez-Abrams has noted
p363
as(dp364
g10
V479863
p365
stp366
a((dp367
g2
(lp368
VI built a really simple jQuery plugin for this sort thing, it isn't that difficult
p369
aVThis uses the  attribute for the placeholder text but that is pretty easy to change
p370
aVYou're welcome to use this if it does what you need
p371
aVI don't know if it works in IE6 but it does work in the latest Firefox, Safari, Opera, Chrome, IE7, and IE8
p372
as(dp373
g10
V479863
p374
stp375
a((dp376
g2
(lp377
V is parsing it all but it doesn't handle mixed content that well, from the fine manual:
p378
aVMixed content (elements which contain both text content and nested elements) will be not
p379
aVbe represented in a useful way - element order and significant whitespace will be lost
p380
aVIf you need to work with mixed content, then XML::Simple is not the right tool for your
p381
aVjob - check out the next section
p382
aVFor example, this:
p383
aVYields:
p384
aVSo the emdash is there but the mixed content is rather mixed up
p385
as(dp386
g10
V479863
p387
stp388
a((dp389
g2
(lp390
VIn the click handlers for the thumbnails in the background image selector you do things like this:
p391
aVIf you replace that with a function:
p392
aVand then
p393
aVAnd then, in an  handler, do something like this:
p394
aVYou might want to do more sanity checking on the cookie value though, you have a list of available backgrounds kicking around so you could just check that  is defined and that it is in the list
p395
aVAlso, you might want to use absolute URLs for your images rather than relative ones, that makes it easier to move things around
p396
as(dp397
g10
V479863
p398
stp399
a((dp400
g2
(lp401
VAre you familiar with pack
p402
aVThat's probably what you'll need to build your packets
p403
as(dp404
g10
V479863
p405
stp406
a((dp407
g2
(lp408
VYou can use Cinderalla to the whole ruby/rvm/mysql/redis/git/
p409
aVstack set up properly
p410
aVCinderella installs everything in  and fixes up your  as well
p411
aVI had some issues with a corrupt  mirror last time I used Cinderalla though so YMMV
p412
as(dp413
g10
V479863
p414
stp415
a((dp416
g2
(lp417
VThere is a URI class that should help
p418
aVYou might have to replace the  scheme with  by hand first though, I don't think  understands the  scheme out of the box
p419
as(dp420
g10
V479863
p421
stp422
a((dp423
g2
(lp424
VFrom the fine manual for :
p425
aVA multi-valued field will be returned as separate values in list context and will be
p426
aVconcatenated with "," as separator in scalar context
p427
aVand this is list context:
p428
aVSo,  is returning both  headers as a list and the result is, essentially:
p429
aVYou can either use kork's  approach or grab all the  headers in an array and use the first one as the length:
p430
aVIf you end up getting multiple  headers and they're different then someone is very confused
p431
as(dp432
g10
V479863
p433
stp434
a((dp435
g2
(lp436
VThe pink  is a child of  and  has
p437
aVThe result is that it gets clipped
p438
aVYour pink  needs to be outside  or you need to allow overflows (and possibly clear floats explicitly if you're using  as a clearfix)
p439
as(dp440
g10
V479863
p441
stp442
a((dp443
g2
(lp444
VYou can't do this in CSS but you can use the source
p445
aVYou could subclass  and provide your own implementation of , something similar to this might work:
p446
aVThis is a bit kludgey as  isn't part of the public interface
p447
aVYou'd also need to use the OO interface rather than just the  function
p448
aVYou could also contact the  author and see if he'll add a flag for this sort of thing
p449
aVMaybe you could provide a patch to get things started
p450
aVYou can also use  and friends to parse the HTML that comes out of  and add the  attributes yourself
p451
as(dp452
g10
V479863
p453
stp454
a((dp455
g2
(lp456
VOr a simple modification of Ken Redler's original that uses  to keep track of things:
p457
aVhttp://www
p458
aVjsfiddle
p459
aVnet/ambiguous/FhET2/1/
p460
as(dp461
g10
V479863
p462
stp463
a((dp464
g2
(lp465
VYou can try reversing the order of the "Hi" and the :
p466
aVThis looks the the same in Chrome, Safari, Firefox, IE7, IE8, and Opera
p467
aVChrome, Safari, and Firefox render both versions the same; IE7 and Opera render the original version with the same problem
p468
aVI changed the  to  so I could see what was going on, shouldn't have any effect on the rendering but IE7 is rather clever at making a mess of things so maybe not
p469
as(dp470
g10
V479863
p471
stp472
a((dp473
g2
(lp474
VIE7 has some odd issues with change events and radio buttons, the change event doesn't fire until there's a blur as well
p475
aVI ran into similar issues once and, after much gnashing off teeth, found this:
p476
aVhttp://norman
p477
aVwalsh
p478
aVname/2009/03/24/jQueryIE
p479
aVYou can use Chinmayee's  approach (but check and double check that everything works properly when you use the keyboard rather than the mouse) or you can add a click handler to all your radio buttons that blurs and refocuses:
p480
aVYou only want this disgusting kludge for IE7 so you'd probably want to wrap it in a conditional comment (a kludge within a kludge)
p481
aVI'm pretty sure IE8's radio buttons have the same problem
p482
as(dp483
g10
V479863
p484
stp485
a((dp486
g2
(lp487
VTry this for the selected problem:
p488
aVThe HTML has the  class on the  so the CSS should match that
p489
aVI can't help you with IE6 though, it destroys a lot of things and my nerves are one of those things
p490
as(dp491
g10
V479863
p492
stp493
a((dp494
g2
(lp495
V can  from a filehandle as well as a file name:
p496
aVIf the problem is on your side then the  should fail and you should get an error message of some kind that will, hopefully, tell you what is wrong; if the problem is on the remote side then the  should fail and you'll see the same thing you'r seeing now
p497
aVThat  only has the success message from the  indicates that everything is fine on the remote side and the  isn't even reaching the remote server
p498
as(dp499
g10
V479863
p500
stp501
a((dp502
g2
(lp503
VFirstly, there is no "array" class so I'm surprised that you even getting passed that; you want:
p504
aVor
p505
aVAlso, you don't need to keep computing  over and over again, you should just say:
p506
aVabove the  loop and reference  instead of  in the rest
p507
aVYou're also incrementing  twice when I think you only want to do it once, this will leave empty/null entries in your  and that might confuse things later on
p508
aVI can't eye-ball any other glaring errors but that  one should be a show stopper
p509
aVHard to say without a fully functioning example
p510
aVDoes  get called
p511
aVDoes it send anything back
p512
aVFor debugging and trying things out:
p513
aVFirebug
p514
aVjsfiddle
p515
as(dp516
g10
V479863
p517
stp518
a((dp519
g2
(lp520
VYou don't have to worry about quoting/escaping if you're using placeholders
p521
aVSo this:
p522
aVis fine as-is
p523
aVIf you're trying to build SQL by pasting a bunch of strings together then you're going to have problems so don't do that
p524
aVHowever, there are cases where you'll need to paste strings together to get your SQL but there are safe ways around that; something like this tends to be a common case where you can use both placeholders and string concatenation:
p525
as(dp526
g10
V479863
p527
stp528
a((dp529
g2
(lp530
VSome like this http://jsfiddle
p531
aVnet/ambiguous/ENpsH/3/ should work; I stripped all the extraneous stuff out of your sample and started putting necessary bits back in
p532
aVThe basic idea is to position your sliding  way below the container then tuck it right up to the edge when you know how tall the container is; then, you can simply animate the  up and down on hover actions
p533
as(dp534
g10
V479863
p535
stp536
a((dp537
g2
(lp538
VYou can try CSS3PIE, it adds a bunch of CSS3-isms to IE
p539
aVCSS3PIE usually works but not always and there is a bit of a performance hit
p540
aVYou might have to deal with "haslayout" hacks but a bit of googling should help with those
p541
aVThere are a few similar things kicking around but I've only used CSS3PIE
p542
as(dp543
g10
V479863
p544
stp545
a((dp546
g2
(lp547
VUnicode defines several arrow characters and a lot of people will have a reasonably complete unicode support in their fonts
p548
aVUsing unicode will probably work better than trying to mix character sets and specific fonts
p549
as(dp550
g10
V479863
p551
stp552
a((dp553
g2
(lp554
VAre you looking for something like this
p555
aVIf  and  can be NULL or empty then you'll want to use COALESCE:
p556
aVThese should work the same in SQLite and PostgreSQL
p557
as(dp558
g10
V479863
p559
stp560
a((dp561
g2
(lp562
VThe plugin does this inside it:
p563
aVwhen it uses the placeholder text
p564
aVSo, you should be able to just put something like this in your CSS:
p565
aVChanging the font size like that might cause odd visual effects but you might be able to avoid those by using an explicit height
p566
aVYou're probably better off just changing the color and leaving the font size constant IMHO
p567
aVYou can also try my take on the same thing, this uses the  attribute instead of  and also clears the placeholder text when the containing form is submitted
p568
as(dp569
g10
V479863
p570
stp571
a((dp572
g2
(lp573
VTry something like this:
p574
aVIf you need to support IE7 then you'll probably have to replace the  with  in an IE7-specific stylesheet
p575
as(dp576
g10
V479863
p577
stp578
a((dp579
g2
(lp580
V@gov is right, using one of the slide* methods would probably make more sense for what you're trying to do
p581
aVHowever, if you want to  it yourself then you'll want to animate everything that takes up space including the :
p582
aVThe callback is there just to clean things up at the end
p583
aVFor example: http://jsfiddle
p584
aVnet/ambiguous/w5gVU/1/
p585
as(dp586
g10
V479863
p587
stp588
a((dp589
g2
(lp590
VThe example you're using appears to assume that the named pipe called "pipe" already exists in the current directory
p591
aVThe "pipe" in here:
p592
aVis not a command name, it is a file name that happens to be a named pipe
p593
aVDo some reading on "mkfifo" and "named pipes" for more information
p594
as(dp595
g10
V479863
p596
stp597
a((dp598
g2
(lp599
VString interpolation is an implicit  call
p600
aVSo, something like this:
p601
aVis more or less equivalent to this:
p602
aVAs karim79 said, a symbol is not a string but symbols do have  methods so your interpolation works; your attempt at using  for concatenation doesn't work because there is no implementation of  available that understand a string on the left side and a symbol on the right
p603
as(dp604
g10
V479863
p605
stp606
a((dp607
g2
(lp608
VThe "object expected" error usually means that you have a stray comma somewhere but I don't see how that could be your problem here
p609
aVThe only possibility I can see in your code is this:
p610
aVIf this chain
p611
aVdoesn't find anything then you'll end up with  having an  value and IE may be upset that you are trying to  on an undefined value
p612
aVThis is my best guess without a functional example
p613
as(dp614
g10
V479863
p615
stp616
a((dp617
g2
(lp618
Vtvanfosson suggested something like this in his answer to the question you noted:
p619
aVhttp://jsfiddle
p620
aVnet/ambiguous/SH5Q9/
p621
aVThe basic idea is to wrap a  around the the large image and then apply the  and  effects to that
p622
aVAlso, you would do well to set yourself up on http://jsfiddle
p623
aVnet, it is a great tool for playing around with things and makes it easy to show people on SO what you've tried already
p624
as(dp625
g10
V479863
p626
stp627
a((dp628
g2
(lp629
VYour first step is to read the following_siblings documentation:
p630
aVFind sibling elements which follow the current one
p631
aVLike the other \u201csibling\u201d methods, this weeds out text and comment nodes
p632
aVThen you should use the Hpricot source to generalize how  works to get something that works like  but doesn't filter out non-container nodes:
p633
aVThat's pretty much  with  instead of
p634
aVHaving access to the source code of the libraries you use is pretty handy and studying it is to be encouraged
p635
as(dp636
g10
V479863
p637
stp638
a((dp639
g2
(lp640
VThe rules:
p641
aVare just an object literal and as such, cannot have multiple values for a single field
p642
aVThe JavaScript parser will only use one of the  values when building the literal, which one it will use is probably implementation defined but maybe not
p643
aVWhat happens with this rule set
p644
aVAll I did was combine the two  values into one
p645
aVThat should work
p646
as(dp647
g10
V479863
p648
stp649
a((dp650
g2
(lp651
VDon't expect the process size to decrease
p652
aVMemory isn't released back to the OS until the process terminates
p653
aVThat said, might you have reference loops in data structures somewhere
p654
aVAFAIK, the perl garbage collector can't sort out reference loops
p655
aVAre you using any XS modules anywhere
p656
aVThere could be leaks hidden inside those
p657
as(dp658
g10
V479863
p659
stp660
a((dp661
g2
(lp662
VHow about zero bytes because that won't even compile without the non-standard
p663
aVIf you can't compile it, you can't run it and if you can't run it, it can't allocate any memory at all
p664
as(dp665
g10
V479863
p666
stp667
a((dp668
g2
(lp669
VWhat would constitute a string
p670
aVAre you expecting simple ASCII
p671
aVUTF-8
p672
aVOr text encoded some other way
p673
aVIf you know you're going to get ASCII text or a blob then you can just spin through the first  bytes and see if anything has the eight bit set, that would tell you that you have binary
p674
aVOTOH, not finding anything wouldn't guarantee that you had text
p675
aVIf you're going to get UTF-8 Unicode then you'd do the same thing but look for invalid UTF-8 sequences
p676
aVOf course, the same caveats apply
p677
aVYou could scan the first  bytes for anything between 0x00 and 0x20
p678
aVIf you find any bytes that low then you probably have a binary blob of some sort
p679
aVBut maybe not
p680
aVAs Tyler Eaves said: bytes are bytes
p681
aVYou're starting with a bunch of bytes and trying to find an interpretation of them that makes sense
p682
aVYour best bet is to make the caller supply the expected interpretation or take Greg's advice and use a magic number library
p683
as(dp684
g10
V479863
p685
stp686
a((dp687
g2
(lp688
VReverse the order of your loop and you can use :
p689
as(dp690
g10
V479863
p691
stp692
a((dp693
g2
(lp694
VYes it is possible, use pack
p695
as(dp696
g10
V479863
p697
stp698
a((dp699
g2
(lp700
VYou can use the  event on the tabs to bind the drag'n'drop stuff, http://jsfiddle
p701
aVnet/kMZPR/1/:
p702
aVNote that this unbinds the event as soon as it has done its work, there's no need to keep calling this over and over again; this is also why the  event handler is in a separate named function BTW
p703
aVAlso, it looks like the jQuery-UI tabs don't call the  event handlers for the initially selected tab
p704
aVIf you want the "Three" tab selected initially then it looks like you're better off doing it by hand rather than through the options:
p705
aVYou're not doing anything like this in your example, just something that you should be aware off
p706
aVThis is a fairly common technique when you're dealing with things that need to be fully realized/visible/positioned before they can have extra functionality added
p707
as(dp708
g10
V479863
p709
stp710
a((dp711
g2
(lp712
VYou don't need javascript for this, just use  in the widget's CSS and set the appropriate , , , and  values on the widgets
p713
aVThat will position the widgets in a fixed location with respect to the browser window rather than other elements in the HTML
p714
as(dp715
g10
V479863
p716
stp717
a((dp718
g2
(lp719
VYou could POST the javascript to your server and then your server can send back some HTML that has the javascript inlined
p720
aVSounds like you're trying to set up something is, more or less, a homebrew version of http://jsfiddle
p721
aVnet/; AFAIK, jsfiddle just does a "POST javascript/CSS/HTML and return HTML"
p722
as(dp723
g10
V479863
p724
stp725
a((dp726
g2
(lp727
VI'd just use a  for such a simple thing; I'd also slap a  constraint on it (if available) to give some measure of sanity checking
p728
aVAdding an extra table for something with only two values is a bit pointless even if it is pendantically correct
p729
aVAlso, an  or  in the column will help you when you're debugging or mucking around in the database by hand, a  or  will be pretty much meaningless
p730
aVOf course, if you have values and can't come up with sensible mnemonic characters to represent them, then the "int and an FK" approach makes more sense
p731
aVYou can change from  to "int and an FK" quite easily if it ever becomes necessary
p732
as(dp733
g10
V479863
p734
stp735
a((dp736
g2
(lp737
V really isn't what you want to show the hidden lists,  (the default for lists) is what you want
p738
aVI suspect that will help with the show/hide but it is hard to say without an editable example
p739
aVYou'll have to mess around with the padding and margins on the arrows to get them in the right place in IE7; set up an IE7-specific stylesheet and load it using an IE7 conditional comment, that will keep the IE7 nonsense from polluting everything else
p740
aVThen start adjusting the margins and padding on the list, list items, and the arrows until IE7 behaves itself
p741
aVI'd like to be able to offer better advice but getting IE7 to render things sensible is generally a simple process of fiddling with the margins and padding (and sometimes ) until it works (and then the drinking (or your equivalent) starts)
p742
aVMatt Ball is right, jQuery would make a lot of this cleaner
p743
aVOTOH, you'd still have to beat IE7 into submission so jQuery won't make all the pain go away
p744
as(dp745
g10
V479863
p746
stp747
a((dp748
g2
(lp749
VWrap the number in a , float it to the left, and give it a negative top margin to push it up into the corner: http://jsfiddle
p750
aVnet/ambiguous/chp8y/
p751
aVYou'll have to fiddle with the pixel values on the  margins to get something that works for you
p752
as(dp753
g10
V479863
p754
stp755
a((dp756
g2
(lp757
VTry this:
p758
aVThe subtraction will clear the alpha channel on  then you just add the desired  to the alpha channel
p759
aVColors have the full suite of operators and they work component by component when operating on two colors; colors are stored as RGBA components internally so this should work
p760
aVAlso, the alpha channel is normalized to be in the interval  so subtracting 1
p761
aV0 from the alpha channel should clear it without causing any problems
p762
aVI don't have CSS LESS set up right now so I can't check but this is worth a shot
p763
as(dp764
g10
V479863
p765
stp766
a((dp767
g2
(lp768
VYou can supply your own Template::Provider that subclasses the standard one
p769
aVFrom the fine manual:
p770
aVThe Template::Provider is used to load, parse, compile and cache template documents
p771
aVThis
p772
aVobject may be sub-classed to provide more specific facilities for loading, or otherwise
p773
aVproviding access to templates
p774
aVSo, it should be pretty easy but easy, of course, greatly depends on your skill
p775
as(dp776
g10
V479863
p777
stp778
a((dp779
g2
(lp780
VTry a regex something like this:
p781
aVMy PHP is a bit rusty so YMMV
p782
aVYour expression for matching a floating point number is far more convoluted that it needs to be, just a simple "optional sign followed by some digits followed by a decimal point followed by some more digits" is sufficient:
p783
aVAnd don't forget to skip  and , those will contain the inner capture groups (i
p784
aVe
p785
aV"
p786
aV20093137
p787
aVand "
p788
aV6318891
p789
aVin your example)
p790
aVAnd don't bother with  for things like this, you're just looking for things, you're not trying to change anything
p791
aVYou could use  but then you'd have to parse the post-replacement value again to get the two pieces out
p792
as(dp793
g10
V479863
p794
stp795
a((dp796
g2
(lp797
VP/E is being sorted alphabetically rather than numerically, the presence of "N/A" values is probably making tablesorter think that the column contains strings rather than numbers
p798
aVYou want to use  to add a custom parser for that column and then something like this to bind the parser to that column:
p799
aVWhere  is the parser you set up with
p800
aVYour custom parser will need to convert "N/A" to something numeric for the comparison
p801
aVThe tablesorter documentation has examples of custom parsers
p802
as(dp803
g10
V479863
p804
stp805
a((dp806
g2
(lp807
VDrop the  on  and it will work
p808
aVThe problem is that during the drag you're moving a child of  outside of the  element, you've told the browser to hide any overflow while you're forcing an overflow during the drag and the browser is doing what you told it to do
p809
aVGeneral advice: leave  alone unless you know what it does and why you need to use it
p810
as(dp811
g10
V479863
p812
stp813
a((dp814
g2
(lp815
VThe space between the images isn't coming from padding, it is coming from
p816
aVIf you set  in the block that contains the images then they'll fit together without any space between them
p817
aVUsing  to stack images like that probably isn't the best approach anyway
p818
aVYou might have better luck with explicit positioning or sized  elements with background images
p819
aVWhat will work best really depends on your specific situation though
p820
as(dp821
g10
V479863
p822
stp823
a((dp824
g2
(lp825
VThere's a content type negotiation between the source and target during the copy/paste operation
p826
aVIt happens sort of like this:
p827
aVYou copy something into the copy and paste buffer
p828
aVThe copied data is tagged with, more or less, a MIME type and who put it there
p829
aVWhen you paste, the paste target tells the copy-and-paste system that it understands a specific list of MIME types
p830
aVThe copy-and-paste system matches the available formats to the desired formats and finds  in both lists
p831
aVSomeone (probably the original source of the data) then converts the paste buffer to  and drops it in the editor
p832
aVThat's pretty much how things worked back when I was doing X11/Motif development (hey
p833
aVget off my lawn you rotten kids
p834
aVso I'd guess that everyone does it pretty much the same way
p835
as(dp836
g10
V479863
p837
stp838
a((dp839
g2
(lp840
VOf the top of my head, I think something like the following should get things moving
p841
aVYou could use some sort of API key to identify the remote sites,
p842
aVyou could also use the HTTP referer but that's not completely
p843
aVreliable
p844
aVThen, copy what Google Analytics does and get the clients
p845
aVto embed a little bit of JavaScript like this:
p846
aVThat should satisfy your first two points
p847
aVOn the server side you extract the API key from the incoming path,
p848
aVthat key tells you what site you're talking to so you can send back
p849
aVwhatever JavaScript is appropriate
p850
aVYou can use the HTTP caching
p851
aVheaders to attempt to control caching
p852
aVThat should take care of
p853
aVpoints two and three
p854
aVThe last requirement is a bit more interesting but nothing impossible
p855
aVThe script you send back can always support multiple renderings or
p856
aVbehaviors, the script can also choose which behavior based on
p857
aVwhatever conditions you can think of
p858
aVThe script can also load more
p859
aVscripts from your server by creating more  tags as above
p860
as(dp861
g10
V479863
p862
stp863
a((dp864
g2
(lp865
VI don't know of a shortcut but you can just pack one and ask how long it is:
p866
aVBy the way, a ruby array combined with the pack method appears to be functionally equivalent to python's struct module
p867
aVRuby pretty much copied perl's  and put them as methods on the  class
p868
as(dp869
g10
V479863
p870
stp871
a((dp872
g2
(lp873
VBoth  and  have widths of 180px so the buttons consume 360px on their own
p874
aVThe containing  is 400px wide so you have 40px left over
p875
aVYou also have three non-breaking spaces
p876
aVEverything renders fine if you take the non-breaking spaces out so I'm guessing that IE is allocating more than 40px for the non-breaking spaces
p877
aVYou can either make  wider to accommodate how all the various browsers will render the non-breaking spaces or you can ditch the  kludge and let the explicit widths on , , and  take care of keeping the buttons separated
p878
aVAnd yes, you should use  here instead of  as GlennG noted but that's not causing the problem here
p879
as(dp880
g10
V479863
p881
stp882
a((dp883
g2
(lp884
VThe draggable stuff is interfering with your positioning
p885
aVDraggable will assign specific  and  CSS via a  attribute as you drag the the  around,  attributes override the values that come from the  attribute
p886
aVYou can get around this by using :
p887
aVOf course, the  will cease to be draggable once the  class is added as the  positions will override what the draggable is trying to do
p888
aVI'd recommend that you get yourself a WebKit browser (such as Chrome or Safari) for testing and debugging, WebKit's "inspect element" is awesome and better than anything else I've come across for sorting out HTML/CSS issues
p889
as(dp890
g10
V479863
p891
stp892
a((dp893
g2
(lp894
VThe cycle plugin supports a pager option for building your pager (i
p895
ag785
aVthe dots between the arrows)
p896
aVThere's a simple example in the second section of this:
p897
aVhttp://jquery
p898
aVmalsup
p899
aVcom/cycle/int2
p900
aVhtml
p901
aVI think you'd be using the  option to provide a callback for building the individual pager elements so you could use your dots
p902
aVThere are several other pager options so you should be able to wire this up without messing around with adding or removing classes yourself
p903
aVThere doesn't appear to be a command for "go to slide N" so you'll have to go through cycle's built in pager support
p904
aVThere are various other pager examples here:
p905
aVhttp://jquery
p906
aVmalsup
p907
aVcom/cycle/more
p908
aVhtml
p909
aVv2
p910
aV23
p911
as(dp912
g10
V479863
p913
stp914
a((dp915
g2
(lp916
VYou can use  to get the mouse position
p917
aVThen get a window list using
p918
aVreturns the window list in proper z-order so you can just loop through all the windows until you find one whose bounding box is under the pointer,  will give you everything you need to figure out the bounding box
p919
aVI'm not sure what you would do with shaped windows though
p920
aVI haven't work with X11 for a few years so this might be a rather clunky approach but it should work
p921
aVI also don't have my O'Reilly X11 books anymore, you'll want to get your hands on book one of that series if you're going to work with low level X11 stuff; I think the whole series is available for free online these days
p922
as(dp923
g10
V479863
p924
stp925
a((dp926
g2
(lp927
VI think your problem is the  in the first  of the second  function:
p928
aVI think your blob will, essentially, have  once that animation completes so further manipulations of its width or position will have no visible effect
p929
aVIf you say  it should work okay: http://jsfiddle
p930
aVnet/ambiguous/YaVzd/
p931
aVYou can also try adding an explicit  before the hover-in animation but that produces some odd effects: http://jsfiddle
p932
aVnet/ambiguous/uH9yJ/1/
p933
as(dp934
g10
V479863
p935
stp936
a((dp937
g2
(lp938
VYou can always store a bunch of HTML snippets inside a non-displayed  and copy the chunks as needed with something like this:
p939
aVYou'd assemble it all on the server side using whatever technology is available (possibly server side includes) and then copy the HTML pieces around on the client as needed
p940
aVYou'd have to be careful with  attributes inside the pieces of course as  attributes should be unique and duplicating pieces of HTML could violate uniqueness
p941
aVThis is sort of an "AJAX inside a single page without talking to the server" approach
p942
aVThis isn't a great approach if the HTML chunks are large but maybe it will work for what you need to do; hard to say without more context
p943
aVHere's an example to make things clear: http://jsfiddle
p944
aVnet/ambiguous/rQ22T/
p945
as(dp946
g10
V479863
p947
stp948
a((dp949
g2
(lp950
VYou can add your own selectors, in your case you could add a regular expression selector for attributes:
p951
aVhttp://james
p952
aVpadolsey
p953
aVcom/javascript/regex-selector-for-jquery/
p954
aVThen you could do something like this:
p955
aVhttp://jsfiddle
p956
aVnet/ambiguous/ArtRS/1/
p957
aVI came across that article somewhere on SO but I can't remember where
p958
as(dp959
g10
V479863
p960
stp961
a((dp962
g2
(lp963
VThe calendar works but non-IE browsers aren't picking up the CSS for any of the jQuery-UI stuff
p964
aVIf you look at  you'll see that it just does  to pull in some more stylesheets (and those do the same)
p965
aVYou could be having absolute versus relative path issues, try adding full paths:
p966
aVAnd similarly inside all the imported stylesheets
p967
aVDifferent browsers often interpret relative paths differently so absolute paths are generally best
p968
aVYou should be able to get a single jQuery-UI stylesheet out of the theme roller, just one stylesheet should serve you better anyway
p969
as(dp970
g10
V479863
p971
stp972
a((dp973
g2
(lp974
VThey don't, add borders and force  to be very tall (to get around the ) and you'll see that  and  have the same height but  is shorter:
p975
aVhttp://jsfiddle
p976
aVnet/ambiguous/q27pf/
p977
aVThe  and  divs come out the same height because they both have one line of text with the same styling and the same
p978
aVWithout an explicit height on ,  becomes tall enough to accommodate , the floating  and  are not considered when computing the height of  because they're floating
p979
as(dp980
g10
V479863
p981
stp982
a((dp983
g2
(lp984
VLooks like you're trying to curry  but Perl doesn't directly support that
p985
aVInstead, you can use an anonymous sub to build the proper argument list for :
p986
as(dp987
g10
V479863
p988
stp989
a((dp990
g2
(lp991
VA simple typo in your CSS perhaps
p992
aVdoesn't take two arguments
p993
as(dp994
g10
V479863
p995
stp996
a((dp997
g2
(lp998
VYou could use an update trigger on  but it sounds like the  table is not actually being updated, it is being replaced; if this is the case then there is no update to trigger the trigger so you'll have to do it the hard way by caching the price in  (as user247245 notes) and scanning  for price changes
p999
aVIf  is being updated rather than replaced wholesale, then an update trigger could be used to note when a price changes and arrange to have the interested parties notified
p1000
aVThe trigger would probably queue up the notifications by inserting them into a separate table (to avoid locking up the  update) called, say ; then, when the  update is done, a separate task can compare  to , notify the interested users, and finish off by deleting everything in
p1001
aVNote that recent versions of PostgreSQL you can restrict an update trigger to only fire when a column changes rather than firing on every row change
p1002
as(dp1003
g10
V479863
p1004
stp1005
a((dp1006
g2
(lp1007
VYou just need to keep track of when you're inside a  so that  knows when it should pay attention
p1008
aVSomething like this (untested code) perhaps:
p1009
as(dp1010
g10
V479863
p1011
stp1012
a((dp1013
g2
(lp1014
VThe "save password" part comes from the browser's password manager whenever it sees an  that looks like it really is asking for a password
p1015
aVYou can use the autocomplete attribute to suppress this in most browsers:
p1016
aVThis won't validate but that usually doesn't matter
p1017
aVThe "remember me" part is completely separate from the browser's password manager
p1018
aVThe "remember me" flag is the server's business and all it does is fiddle with the expiry date on the cookie that it sends back
p1019
aVThe server will always send a cookie back (unless they're not using cookies for tracking sessions but that's rare and wouldn't need a "remember me" anyway) with something inside it to identify the client user
p1020
aVIf you check "remember me" then you're telling the server that you want a persistent session
p1021
aVTo achieve this, the server will include an expiry date with the cookie and that expiry date will be some time in the future
p1022
aVWhen the date arrives, the browser will expire and delete the cookie; without the cookie, the server won't know who you are anymore and you'll have to login again
p1023
aVIf you don't check "remember me" then you'll get a session cookie
p1024
aVSession cookies don't have expiry dates on them so automatically expire when the browser exits
p1025
aVSession cookies are useful for shared machines
p1026
aVExecutive summary:
p1027
aVSave password" is from the browser's password manager
p1028
aVRemember me" is about the login cookie's expiry time
p1029
aVSorry to be so long winded but there seems to be some confusion and a lack of clarity in the other answers
p1030
as(dp1031
g10
V479863
p1032
stp1033
a((dp1034
g2
(lp1035
VYou should allow anything through for names
p1036
aVConsider "O'Malley" or "Hudson-Walker"
p1037
aVSome languages (such as Salish) include numbers so you can have "Sqwxwu7mish"
p1038
aVThen there are accented characters, Hebrew, Cyrillic, Greek, Chinese, Korean, and even the musician formerly known as Prince
p1039
aVMessage text should be similarly unconstrained
p1040
aVIf messages can contain HTML then you'll have to parse the HTML (with a real HTML parser) and apply tag and attribute whitelists to only allow things through that you are expecting
p1041
aVPhone numbers should be pretty close to free form too
p1042
aVNorth American formats are different than European ones, some people like to say "(555) 555-5555" while others like "555-555-5555", some phone numbers have extensions and some don't
p1043
aVThe only encoding that you should worry about on input is that everything is in UTF-8 (including your database)
p1044
aVAnd, when talking to your database, don't try to encode anything yourself, use the database driver's quoting mechanism and placeholders
p1045
aVLengths should generally be a lot bigger than you think they should so double (at least) your first guess at a reasonable maximum
p1046
aVThe storage difference between 20 characters for a name and 100 isn't going to be important for most applications so be generous
p1047
aVYou shouldn't worry about HTML encoding until output and then you should use whatever HTML and URL encoding tools your environment supports, do not try to build your own
p1048
aVDon't over-constrain your inputs, be as loose and forgiving as possible
p1049
aVBe very strict with your outputs though
p1050
as(dp1051
g10
V479863
p1052
stp1053
a((dp1054
g2
(lp1055
VThe  element doesn't exist until you use the template to insert some content into the page
p1056
aVSo, when you try to bind the datepicker when the DOM is ready,  returns an empty list (i
p1057
ag785
aV) and nothing useful happens
p1058
aVThe solution is to bind the datepicker after the template is filled in and inserted into the page
p1059
aVSomething like this:
p1060
as(dp1061
g10
V479863
p1062
stp1063
a((dp1064
g2
(lp1065
VYou may have the necessary permissions but the PostgreSQL server probably isn't running as you
p1066
aVYour plperlu code will be running in the server's context with the server's permissions
p1067
aVA quick and easy way to check would be to change the file path to something in  and see if it works; if it does then you just need to write your file somewhere that the PostgreSQL server has write access to
p1068
as(dp1069
g10
V479863
p1070
stp1071
a((dp1072
g2
(lp1073
VThe error message:
p1074
aVResource interpreted as image but transferred with MIME type text/html
p1075
aVShould be a dead give away
p1076
aVYour  is sending back, presumably, a blog of data that should have an  MIME type but, and this is a big but, the server is saying
p1077
aVin the headers
p1078
aVSo, the browser thinks you're trying to put  data in an  and it rightly refuses
p1079
aVThe solution is to ensure that your PHP script sets the  header to  when it is sending back the  image
p1080
as(dp1081
g10
V479863
p1082
stp1083
a((dp1084
g2
(lp1085
VYou have two too many closing braces in that javascript, I think you want something more like this:
p1086
aVIE's javascript interpreter tends to be pickier than most when it comes to syntax, the infamous "extra trailing comma" problem for example
p1087
as(dp1088
g10
V479863
p1089
stp1090
a((dp1091
g2
(lp1092
VYou can do it but that doesn't mean it's a good idea
p1093
aVThe PHP library functions deal with PHP's internal data types, memory allocation and management schemes, etc
p1094
aVYou'd probably end up wasting a lot of time and effort on marshalling data between PHP and C
p1095
aVMost of the functionality is probably available in C libraries or easily implemented in C (with C style interfaces) anyway
p1096
aVAlso, I suspect that you'd end up linking the entirety of PHP into your program just by accessing a couple of PHP's functions
p1097
aVCertainly possible but probably more trouble than it's worth
p1098
aVIf you're writing in C then write in C, some unnatural bastardized mix of C and PHP would just get you a lot of funny looks
p1099
as(dp1100
g10
V479863
p1101
stp1102
a((dp1103
g2
(lp1104
VI see various issues in here
p1105
aVI don't understand why you're using
p1106
aVThe things that you're eval-ing could be just called as plain old JavaScript
p1107
aVThe first  can be dropped and replaced by a simple  call on the element as soon as it is added to the DOM
p1108
aVWhat do you expect this to do
p1109
aVThat creates a  tag in the HTML but that's not a valid tag
p1110
aVAre you trying to do something like this
p1111
aVYou're setting a  attribute so I'm guessing that you're trying to produce
p1112
aVYou are initializing  but you never increment it
p1113
aVYou'll end up with duplicate IDs that way and that leads to the gnashing of teeth and sundry sorts of confusion
p1114
aVYou create a :
p1115
aVand then throw it away as you neglect to add it to the DOM
p1116
aVYou also create an  attribute right after the  but you didn't add it to anything
p1117
aVI stripped your code down a bit and added some things you were missing, seems to work just fine: http://jsfiddle
p1118
aVnet/ambiguous/3v6R3/
p1119
as(dp1120
g10
V479863
p1121
stp1122
a((dp1123
g2
(lp1124
VIEEE 754 recommends the "round half to even" approach: if the fractional part of  is 0
p1125
aV5 then round to the nearest even integer
p1126
aVThe problem is that rounding a fractional part of 0
p1127
aV5 the same direction introduces bias in the results; so, you have to round a fractional 0
p1128
aV5 up half the time and down half the time, hence the "round to the nearest even integer" bit, rounding to the nearest odd would also work as would flipping a fair coin to determine which way to go
p1129
aVI think something more like this would be IEEE-correct:
p1130
aVAnd this one should be C99-ish (which appears to specify that numbers with fractional parts of 0
p1131
aV5 should be rounded away from zero):
p1132
aVAnd a more compact version of my first , this one handles crossing the 56bit mantissa boundary better by not relying on  or  being sensible things to do:
p1133
aVThis will have problems if  but rounding a double with a large exponent is pointless
p1134
aVI'm sure there are NaN in all three as well but my masochism has limits and numerical programming really isn't my thing
p1135
aVFloating point computation has ample room for subtle errors so concise may not be the best requirement
p1136
aVAn even better solution would be to beat your compiler vendor roughly about the face and neck until they provide a proper math library
p1137
as(dp1138
g10
V479863
p1139
stp1140
a((dp1141
g2
(lp1142
VWhen they first come in to, say, , show them the ads page and include a refreshing  tag like this:
p1143
aVThat should send them to  after five seconds
p1144
aVYou can use a simple  CGI parameter to tell the server not show the ads or you can do similar things with a flag in a cookie
p1145
aVWhen  gets hit without the cookie or without  then show them the ads, if the cookie is set or  is there then show them the real stuff
p1146
aVYou can also do it in JavaScript by setting a timer and redirecting by assigning to
p1147
aVThis sort of thing can be defeated pretty easily but it should be sufficient for the casual browser
p1148
as(dp1149
g10
V479863
p1150
stp1151
a((dp1152
g2
(lp1153
V9000's comment is correct
p1154
aVThe trick is having access to a  that you know will be rendered on a single line
p1155
aVYou can do that by wrapping the first word of your block in a span with a specific , you could also use the last word or some other single word; there are cases where a single word will cross lines but the first word should be safe
p1156
aVOnce you have something that is only on one line you can compare its height to the height of the  that will get the tooltip
p1157
aVIf the  that is getting the tooltip is taller than the single-line  then it has wrapped to multiple lines
p1158
aVTry this jsfiddle:
p1159
aVhttp://jsfiddle
p1160
aVnet/ambiguous/JbMhZ/1/
p1161
aVAdjust the size of the right panes until the red text wraps but the green text doesn't
p1162
aVThen hit Run in the toolbar at the top and it should say this at the bottom of the Result pane:
p1163
aVI'm not exactly proud of this hack but it should work
p1164
aVI'm left wondering if a better positioning algorithm for your tooltip would be a better idea
p1165
aVMaybe pull the mouse coordinates out of the hover event and use that to position the tooltip rather than positioning it based on the
p1166
as(dp1167
g10
V479863
p1168
stp1169
a((dp1170
g2
(lp1171
VFirstly,  is just a typo that should be , right
p1172
aVSecondly, system() in vimscript returns the standard output of the command not the command's return value
p1173
aVYour  is equivalent to one of these in perl:
p1174
aVIf you want the return value rather than the command's standard output, look at the v:shell_error variable
p1175
as(dp1176
g10
V479863
p1177
stp1178
a((dp1179
g2
(lp1180
VYou could use a  with a background image for the banner instead of an :
p1181
aVThe  will take care of the clipping, overflow, and sizing issues for you and you won't need a bunch of  hacks
p1182
as(dp1183
g10
V479863
p1184
stp1185
a((dp1186
g2
(lp1187
VThe problem could be that you're binding the datepicker to something that is not visible, that would explain the odd positioning (trying to offset from something that doesn't exist will degenerate to offsetting from (0,0))
p1188
aVThe datepicker  should have at least a table inside it so maybe the datepicker is getting confused and throwing an exception before it finishes initializing itself
p1189
aVWhen you click on one of the bound inputs, it is probably initializing itself again (or at least properly finishing the initialization) and everything works fine after that
p1190
aVTry binding the datepicker when the date input becomes visible:
p1191
aVRemove the
p1192
aVAdd an  to
p1193
aVCall  when the "reserve event room" button is pressed
p1194
aVIf that works then you'd have to add similar hacks for other datepickers
p1195
aVIf it doesn't work then I'm probably wrong
p1196
aVIf my guess turns out to be right then you might want to report a bug to the jQuery-UI people
p1197
aVBTW, in Safari I can only see the first two tabs, I had to switch to Firefox to see the "catering" tab
p1198
aVOddly enough it works just fine in Chrome
p1199
aVThis is probably unrelated but I thought I'd let you know anyway
p1200
as(dp1201
g10
V479863
p1202
stp1203
a((dp1204
g2
(lp1205
VI suspect that your problem is with your :
p1206
aVThe second parameter should be , passing just  will, effectively, unroll the structure and the computer will see something like this:
p1207
aVSince  only looks at three arguments, it will be using one of the  members as the size of the buffer to write and that member is probably zero
p1208
aVThe actual byte-level argument stack depends on the compiler and architecture so you can tease that our yourself, the important thing is that you're not feeding  what you want to
p1209
aVYour compiler should have caught this, if it didn't then you need to crank up the warning options as high as they will go
p1210
aVYou'll probably want to build the data you send to the X server byte by byte anyway, that way you can make sure you get the byte order and offsets right
p1211
aVSending  will get you into trouble with the usual suspects (packing, alignment, and byte order)
p1212
as(dp1213
g10
V479863
p1214
stp1215
a((dp1216
g2
(lp1217
VI'm not sure exactly what you're looking for but you can always reverse the string and match forward:
p1218
aVI'm not sure if this has crossed the line between clever and stupid but it works on your examples
p1219
as(dp1220
g10
V479863
p1221
stp1222
a((dp1223
g2
(lp1224
VWhich version of jQuery UI are you using
p1225
aVThe defaults were moved from  to  in version 1
p1226
aV8:
p1227
aVhttp://docs
p1228
aVjquery
p1229
aVcom/UI/Upgrade_Guide_18#Properties_moved_from_
p1230
aV24
p1231
aVui
p1232
aVfoo_to_
p1233
aV24
p1234
aVui
p1235
aVfoo
p1236
aVprototype
p1237
aVThe best way (and probably the only sane way) to fix things is to go through all your code and change all your  references to  where X is the jQuery-UI widget in question
p1238
aVA review of the Upgrade Guide for other possible issues would be a good idea too
p1239
as(dp1240
g10
V479863
p1241
stp1242
a((dp1243
g2
(lp1244
VYou could get a custom jQuery-ui build that that doesn't include the tabs but that might cause some confusion later on
p1245
aVA better approach, IMHO, would be to edit the jQuery-tools  and change this line:
p1246
aVto something like this:
p1247
aVI used "fpTabs" for "flowplayer
p1248
aVorg tabs", you can use whatever name works for you
p1249
aVThat should clear up your conflicts without causing problems anywhere else
p1250
aVOf course, you'd have to remember that you changed  if you ever upgrade but that should be less troublesome than messing around with a tab-less  file
p1251
as(dp1252
g10
V479863
p1253
stp1254
a((dp1255
g2
(lp1256
VIf you know that you need to go to the second slide when your page loads then you could do something like this:
p1257
aVYou'd just have to arrange for  to be an empty object literal except when you needed to set
p1258
aVIf  is being somewhere outside your page, then you could reserve a variable for page-specific options and  that where  is called
p1259
aVFor example, in your page, you could do something like this:
p1260
aVand then way off in the JavaScript file that is binding the cycle stuff:
p1261
aVI'm using  as a placeholder for whatever global namespace your application is already using to avoid name conflicts
p1262
aVIf you had to deal with multiple cycle instances on a single page then you'd want to index  by element ID, for example:
p1263
aVand then way off elsewhere:
p1264
aVThe basic idea is to consider the global configuration options as a set of defaults and then allow page-specific overrides through a well defined and documented mechanism
p1265
aVA long winded answer to a long winded question
p1266
aVHope its clear and not confusing
p1267
as(dp1268
g10
V479863
p1269
stp1270
a((dp1271
g2
(lp1272
VThe fine manual says to create an  function and use  to create the index; for example:
p1273
as(dp1274
g10
V479863
p1275
stp1276
a((dp1277
g2
(lp1278
VSounds like IE is computing the  and  attributes for  when it is created and then not updating them when the  is changed
p1279
aVThe other browsers are probably noting that they had to compute the image dimensions themselves so they recompute them when the  is changed
p1280
aVBoth approaches are reasonable enough
p1281
aVDo you know the proper size of the image inside
p1282
aVIf you do, then set the  and  attributes explicitly when you change the :
p1283
aVIf you don't know the new dimensions then change  to delete  and create a new one:
p1284
as(dp1285
g10
V479863
p1286
stp1287
a((dp1288
g2
(lp1289
VThis isn't exactly impossible, just a little bit awkward
p1290
aVYou can proxy all the AJAX through your own server like this:
p1291
aVYour JavaScript contacts your server via AJAX
p1292
aVYour server sets up the request to  with the appropriate basic auth headers (or whatever authentication you need to use)
p1293
aVYour server sends the response back to your script exactly as  sent it to your server
p1294
aVThis way the password stays invisible and under your control on the server and the client code gets the same API as it would from
p1295
aVThere might be a little bit of lag introduced with this approach but that should be manageable
p1296
aVOf course, you still have to consider the authorization process between the browser and your server but you should be able to use whatever authorization you already have for that (probably cookies and plain old logins)
p1297
aVYou'll also want to check this technique against the API terms of service to make sure you're playing nice
p1298
as(dp1299
g10
V479863
p1300
stp1301
a((dp1302
g2
(lp1303
VPostgreSQL is saying that there is no sequence called "table_seq"
p1304
aVAre you sure that that is the right name
p1305
aVThe name you would use would depend on what is in  as each  or  gets its own sequence, you can also define sequences and wire them up by hand
p1306
aVIn any case,  is a closer match to MySQL's ,  returns the most recently returned value from any sequence in the current session:
p1307
aVlastval
p1308
aVReturn the value most recently returned by nextval in the current session
p1309
aVThis
p1310
aVfunction is identical to currval, except that instead of taking the sequence name
p1311
aVas an argument it fetches the value of the last sequence used by nextval in the
p1312
aVcurrent session
p1313
aVIt is an error to call lastval if nextval has not yet been called
p1314
aVin the current session
p1315
aVUsing  also means that you don't have to worry about what's in , unless of course it doesn't use a sequence at all
p1316
as(dp1317
g10
V479863
p1318
stp1319
a((dp1320
g2
(lp1321
VJava and C++ have pre- and post- increment and decrement operators because C has them
p1322
aVC has them because C was written, mostly, for the PDP-11 and the PDP-11 had  and  instructions
p1323
aVBack in the day, optimizing compilers didn't exist so if you wanted to use a single cycle increment operator, either you wrote assembler for it or your language needed an explicit operator for it; C, being a portable assembling language, has explicit increment and decrement operators
p1324
aVAlso, the performance difference between  and  rarely matters now but it did matter in 1972
p1325
aVKeep in mind that C is almost 40 years old
p1326
as(dp1327
g10
V479863
p1328
stp1329
a((dp1330
g2
(lp1331
VYou can specify separate horizontal and vertical overflow behaviors:
p1332
aVYour CSS reference material should have told you that
p1333
aVThis will of course make a complete mess of any submenus that try to pop out along the x-axis
p1334
aVScrollbars in a menu will also make your users hate you and possibly win you a place in the User Interface Hall of Shame or a post on http://thedailywtf
p1335
aVcom/
p1336
aVIf you're thinking about doing something like this in the real world, don't do it
p1337
aVThink of a less irritating way to organize your navigation
p1338
as(dp1339
g10
V479863
p1340
stp1341
a((dp1342
g2
(lp1343
VYour problem is that you have  on the
p1344
aVYou're telling the browser to clip any child element that tries to render outside the
p1345
aVThe solution is to drop the
p1346
aVIf you're using  as a clear-fix then you'll have to clear your floats explicitly
p1347
aVIf you can't clear your floats by hand and thus need to keep the , then you could make try making the popup menu a child of  and then position it by hand on the appropriate hover event; you wouldn't be able to use the standard sucker-fish techniques in this case, you'd have to emulate sucker-fish in JavaScript
p1348
as(dp1349
g10
V479863
p1350
stp1351
a((dp1352
g2
(lp1353
VIE6 has issues with placing things over native controls such as
p1354
aVIf you're using jQuery then you can try the bgiframe plugin, if you're not using jQuery then you can study the bgiframe source (it is quite small) and apply its techniques to your problem
p1355
aVIt would be nice to be able to tell people not to use IE6 but there are still a fair number of large businesses that are using it for various good and bad reasons: it came stock with XP and that's what the "enterprise" has standardized on, there are a lot of internal applications that only work in IE6 and no one wants to pay to rebuild them, etc
p1356
aVLife is hard and we have to support crufty old garbage like IE6 sometimes, too bad, who ever is paying the bills gets to call the shots so sometimes you just have to deal with it
p1357
as(dp1358
g10
V479863
p1359
stp1360
a((dp1361
g2
(lp1362
VYou could try to pick a single cell to chew up all the space and set that to 100% height and width:
p1363
aVand some CSS:
p1364
aVAnd a live example
p1365
aVYou need to be careful to avoid unpleasant line wrapping when  does its thing, hence the
p1366
aVIf you put the  in the last row then you can avoid pushing the interesting parts down
p1367
as(dp1368
g10
V479863
p1369
stp1370
a((dp1371
g2
(lp1372
VAre you talking about the data: URL scheme
p1373
aVThe data scheme allows you to embed the image data right in the URL:
p1374
aVPresumably you could store the data URL in a  attribute and then copy it to  using jQuery when you need it:
p1375
aVand then elsewhere:
p1376
aVOf course you could add the  tag in the jQuery stuff too but I'm trying to keep it simple for illustrative purposes
p1377
aVAFAIK, browser support is okay for simple uses as long as you stay away from IE versions less than 8
p1378
as(dp1379
g10
V479863
p1380
stp1381
a((dp1382
g2
(lp1383
VMy Python isn't that good and my Lisp is rather rusty but I'll take a guess about what's going on: you can't get away from pointers even in languages that claim not to have them
p1384
aVThe  that you're talking about won't make a copy of the , it will just make a copy of the reference and you'll end up with two references (AKA variables) that refer to (i
p1385
ag785
aVpoint at) the same underlying object
p1386
aVWhat happens is basically a variant of this:
p1387
aVHis  class allows the environment to be modified inside the  without modifying the outer environment while the  method allows you to access the outer environment without needing to know about; also, modifications will end up inside the inner environment and those changes will mask the corresponding values in the outer environment; get operations will access the local environment and the outer environment, set operations will only modify the inner environment
p1388
aVI guess you could call  an object level (rather than class level) facade
p1389
aVI'm not sure what's wrong with your ruby implementation, looks like you're making a modified copy of the environment hash
p1390
aVCan you clarify "Something's not working though"
p1391
aVClarification:  is a symbol table
p1392
aVThe wrapping/redirection stuff in  allows you to access the outer symbol table while protecting it from new symbols being added, new symbols will only be added to the inner symbol table
p1393
aVessentially manages the closure
p1394
as(dp1395
g10
V479863
p1396
stp1397
a((dp1398
g2
(lp1399
VYou can call  on the objects and use that to figure out how many tags there are:
p1400
aVThe  yields the intersection of the tags you're looking for and the tags found, then we negate the size of the intersection to tell  (which sorts in ascending order) to put larger intersections at the front, negating the result is an easy way to reverse the usual sort order
p1401
as(dp1402
g10
V479863
p1403
stp1404
a((dp1405
g2
(lp1406
VHave you considered generating your decision tree on the server rather than writing it by hand
p1407
aVUse whatever representation is clean, easy to work with, and modify and then compile that to ugly yet efficient javascript for the client side
p1408
aVA decision tree is fairly easy to represent as data and it is easy to understand and work with as a traditional tree data structure
p1409
aVYou can store said tree in whatever form makes sense for you
p1410
aVValidating and modifying it as data should also be straight forward
p1411
aVThen, when you need to use the decision tree, just compile/serialize it to JavaScript as a big if-the-else, switch, or hash mess
p1412
aVThis should also be fairly straight forward and probably a lot easier than trying to maintain a  with a couple hundred elements
p1413
as(dp1414
g10
V479863
p1415
stp1416
a((dp1417
g2
(lp1418
VThe uiTableFilter plugin doesn't support what you're trying to do
p1419
aVA quick look at the source reveals this:
p1420
aVand that expands to (essentially) this:
p1421
aVSo all it does is spin through all the rows,  those that match, and  those that don't; uiTableSorter doesn't pay attention to the current shown/hidden state of the rows and there's no way to tell it to filter on multiple columns
p1422
aVIf you really need your desired functionality then you can modify the plugin's behavior (the code is pretty small and simple) or just write your own
p1423
aVHere's a stripped down and simplified version that supports multiple filters and is a more conventional jQuery plugin than uiTableFilter:
p1424
aVI'll leave error handling and performance as an exercise for the reader, this is just an illustrative example and I wouldn't want to get in the way of your learning
p1425
aVYou could wire it up something like this:
p1426
aVAnd here's a live example (which assumes that you're going to enter something in "type" before "color"): http://jsfiddle
p1427
aVnet/ambiguous/hdFDt/1/
p1428
as(dp1429
g10
V479863
p1430
stp1431
a((dp1432
g2
(lp1433
VYou could also use step:
p1434
as(dp1435
g10
V479863
p1436
stp1437
a((dp1438
g2
(lp1439
VThere are lots of different ways to get your output
p1440
aVWhich one you
p1441
aVwant depends on your specific objections to your  statements
p1442
aVI've added a bunch of extra formatting to make the output easier
p1443
aVto read
p1444
aVIf you don't like the logical ORs and how they separate the results
p1445
aVfrom the output, you can use a lookup table:
p1446
aVOr, if you want all the "work" in the lookup table:
p1447
aVIf your problem is that symbols aren't ordinals, then you can
p1448
aVordinalize them by converting them to strings:
p1449
aVOr you could monkey patch a comparison operator into the Symbol
p1450
aVclass (not recommended):
p1451
aVOr you could use a lookup table to supply your ordinal values:
p1452
aVThose are the obvious ones off the top of my head
p1453
aVIt is hard to say what would be best without more specifics on what your problem with your  approach is; your second example indicates that what you really want is a way to make symbols into ordinals
p1454
as(dp1455
g10
V479863
p1456
stp1457
a((dp1458
g2
(lp1459
VAFAIK, the canonical work on rendering trees is "Drawing Dynamic Trees" by Sven Moen
p1460
aVYou should be able to find the paper or an implementation of his polyline algorithm with a bit of googling
p1461
aVYou could also have a look at Graphviz as that can handle trees as well as arbitrary graphs
p1462
as(dp1463
g10
V479863
p1464
stp1465
a((dp1466
g2
(lp1467
V`I'd guess that you're getting events faster than your callback can deal with them, that might be causing multiple calls to your callback to be running at once and maybe they're fighting each other
p1468
aVTry a simple guard like this:
p1469
aVand see what happens
p1470
aVIf that fixes it then at least you'll know what the problem was
p1471
aVThis guard hack isn't a solution of course, it is just a quick and easy debugging aid to help you see what the problem is
p1472
aVA real solution would probably be to manage the event queue yourself with  and
p1473
aVYou could also create all your jQuery objects outside the callback, queue up a bunch of CSS and class changes inside the callback, and then apply all the changes in one block at the end
p1474
aVThat wouldn't solve your problem but it would reduce the amount of conflict and contention
p1475
aVBTW, this piece of code doesn't do anything useful at all:
p1476
aVYou're defining new  and  variables inside the branches and then throwing them away
p1477
as(dp1478
g10
V479863
p1479
stp1480
a((dp1481
g2
(lp1482
VTry running  like this:
p1483
aVAFAIK, the  format is plain text so you won't have to filter out the ANSI escape sequences
p1484
aVYou can probably get "real" plain text by making a shell script like this:
p1485
aVWhere  is a raw Ctrl-H (or whatever backspace is for you), then call that shell script instead of
p1486
as(dp1487
g10
V479863
p1488
stp1489
a((dp1490
g2
(lp1491
VAFAIK, it is either all AJAX or none
p1492
aVHowever, you can easily AJAX a single pane yourself
p1493
aVAll you need to do is add a click handler (preferably using  so that it removes itself after it is run for the first time) to the tab; this click handler can then load the pane's content with  or whatever other AJAX means you want
p1494
aVFor example, the HTML would be something like this:
p1495
aVand the JavaScript would be something like this:
p1496
aVAnd here's a simple live example: http://jsfiddle
p1497
aVnet/ambiguous/stxha/
p1498
as(dp1499
g10
V479863
p1500
stp1501
a((dp1502
g2
(lp1503
VThe translation is in the wrong place; the translated version of the message is strictly a user interface issue so the translation should occur at the user interface level
p1504
aVThe FlashHash should only contain error condition identifiers of some sort, the user interface code should deal with converting that to something a human can understand:
p1505
aVAnd then, later in some ERB or whatever:
p1506
aVThis approach also makes it easy to push error IDs all the way to a REST client or JavaScript front end without forcing them to deal with parsing ever-changing error messages:
p1507
aVI can't be the only person whose error handling code broke after an upgrade because someone changed an error message and didn't offer any error mechanism that was meant to be consumed by software rather than humans
p1508
as(dp1509
g10
V479863
p1510
stp1511
a((dp1512
g2
(lp1513
VThere are various ways to fix your problem
p1514
aVYou have two styles on :
p1515
aVThese are being used for the inner  as ID rules bind tighter than class rules
p1516
aVYou can also insert a  in the the HTML and then use these for the striping:
p1517
aVSome browsers will insert the  for you so you'll need to have it in the selectors and the HTML to, hopefully, cover all the cases
p1518
aVExample: http://jsfiddle
p1519
aVnet/ambiguous/b6zEy/
p1520
aVDepending on your specific needs you could replace your inner  rule with this:
p1521
aVto apply the style directly to the
p1522
aVThe effect isn't quite the same but it might, depending on your specific situation, work better; some browsers make a mess of borders on  elements, some are fine with it
p1523
aVExample: http://jsfiddle
p1524
aVnet/ambiguous/a4LEg/
p1525
as(dp1526
g10
V479863
p1527
stp1528
a((dp1529
g2
(lp1530
VThe notation is probably meant to evoke XPath using an overloaded  operator:
p1531
aV/ selects the document root (which is always the parent of the document element)
p1532
aVThe operator needs two arguments and the LHS supplies the overloading context so you have to say
p1533
aVrather than just
p1534
as(dp1535
g10
V479863
p1536
stp1537
a((dp1538
g2
(lp1539
VYou don't have commas in the right places in your , I think you want it to be like this:
p1540
aVNote that there are commas after the  parts but not the  parts
p1541
aVAlso, I don't think  is the appropriate escaping/encoding mechanism here and  already URI encodes
p1542
aVAll you need to do is make sure the string doesn't contain an unescaped single quote so something more like this would probably work (assuming that this JavaScript is going through ERB):
p1543
aVThe appropriate encoding should be handled by the plugin and it is almost certainly doing a POST anyway so URL encoding doesn't even apply
p1544
aVAlso, you don't need to escape slashes in JavaScript strings, they're not special so you can just say  where you say
p1545
aVI don't know anything about jQuery-File-Upload but fixing your commas should at least get you past your immediate problem (and on to new and more interesting problems
p1546
as(dp1547
g10
V479863
p1548
stp1549
a((dp1550
g2
(lp1551
VIt looks like your PHP is inserting those double slashes
p1552
aVI'm guessing that  ends up being  and  ends up being  so when you say
p1553
aVyou're adding slashes that are already there
p1554
aVYour first step would be to inspect the values of , , and  inside your PHP
p1555
aVIn your example, all the images are in one directory and you know what that that directory is  as far as the web server is concerned
p1556
aVSo, you could save yourself some trouble and simply say:
p1557
aVrather than doing a bunch of path manipulating and pasting
p1558
as(dp1559
g10
V479863
p1560
stp1561
a((dp1562
g2
(lp1563
VThere is a  function in IO::Compress::Gzip that should do what you need
p1564
aVSomething like this:
p1565
aVwould be more or less equivalent to your PHP
p1566
aVNote the use of references to scalars if you want to do everything in memory buffers, if you use plain scalars then  will think they're filenames
p1567
as(dp1568
g10
V479863
p1569
stp1570
a((dp1571
g2
(lp1572
VI've used arrays in PostgreSQL when dealing with tree structures such as comment threads
p1573
aVYou can store the path from the root to your node as an array of branch numbers
p1574
aVThen, pulling out the whole tree in the correct display order is a simple matter of:
p1575
aVPostgreSQL compares arrays in the only sensibly way
p1576
aVUsing an array for the path from the root also gives you an easy way to compute the depth of a node
p1577
aVYou could use a string (with say 3 base-96 digits per branch number) and ASCII-betical sorting for the same purpose but an array is a lot clearer
p1578
aVYes, there are other ways of dealing with trees that are more pedantically correct but using an array offered a crystal clear implementation
p1579
aVIf I was doing a lot of tree manipulation then maintaining the path arrays would involve a lot of busy work so I'd probably go with a different representation
p1580
aVNot exactly Java-specific but there are cases where arrays are a natural and useful representation (even in SQL) of the data at hand
p1581
as(dp1582
g10
V479863
p1583
stp1584
a((dp1585
g2
(lp1586
VWhen you bind colorbox in  with this:
p1587
aVjQuery will go search through the page, grab everything that matches , bind colorbox to those items, and then forget all about
p1588
aVjQuery won't remember that you're interested in  so the new ones won't be colorbox'd
p1589
aVThe usual solution to this sort of thing is to use  or  but those won't work here as there isn't a "colorbox" event
p1590
aVHowever, you can bind colorbox by hand easily enough
p1591
aVTry change  to something more like this:
p1592
aVYou just turn the  HTML into a jQuery object, find all the  things inside it, bind colorbox to those, and then insert the new HTML into the DOM as usual
p1593
as(dp1594
g10
V479863
p1595
stp1596
a((dp1597
g2
(lp1598
VThe standard technique in plugin form would look something like this:
p1599
aVThen you could just say  to scroll to
p1600
aVOptions handling and configurability is left as an exercise for the reader
p1601
as(dp1602
g10
V479863
p1603
stp1604
a((dp1605
g2
(lp1606
VUse a  with a background image instead of an
p1607
aVIf the image in question is 100px by 50px (for example), then something like this should do the trick:
p1608
aVIf you need to support IE7 then you'll probably have to change  to  using an IE7-specific stylesheet (preferably loaded using a conditional comment)
p1609
aVThe problem with the above is that you need to know the image dimensions before replacing the  tags with  tags with backgrounds
p1610
aVYou can do the replacement on the client side using jQuery to get around that problem but some care is needed to ensure that the images are loaded before they're replaced:
p1611
aVshouldn't fire until everything is loaded so all the image sizes should be known when it does
p1612
aVIf IE7 is an issue then you can put the  bit in a class and override it using an IE7-specific stylesheet in the usual way
p1613
as(dp1614
g10
V479863
p1615
stp1616
a((dp1617
g2
(lp1618
VFrom the fine manual:
p1619
aVThere's no need to specify the type when you're just changing the nullability
p1620
as(dp1621
g10
V479863
p1622
stp1623
a((dp1624
g2
(lp1625
VWild guess: When your JavaScript in  is loaded and runs, the HTML in  doesn't exist so the JavaScript can't do anything with it
p1626
aVYou might be able to use  or  to wire things up, otherwise you have to execute the JavaScript on the HTML that you  by hand using the callback:
p1627
aVIf what you're doing isn't just adding an event handler then  and  probably won't work and you'll have to use the callback on  as above
p1628
aVFurther reading:
p1629
as(dp1630
g10
V479863
p1631
stp1632
a((dp1633
g2
(lp1634
VI think you have an overflow problem:
p1635
aVThe height of  will be the height of the inner  plus a little bit for whatever padding/margins/
p1636
aVare going on inside
p1637
aVWhen you hover over one of the menu items to activate the Superfish/Suckerfish stuff the child will appear and be clipped by the  setting on
p1638
aVDrop the  and your clipping problem should go away
p1639
aVIf you're using  as a clear-fix then you'll have to clear your floats by hand with a  (or similar) in an appropriate place
p1640
as(dp1641
g10
V479863
p1642
stp1643
a((dp1644
g2
(lp1645
VThe easiest thing to do would be to use the "standard" form plugin and call  or :
p1646
aVOr, if you don't want or need all the extra form plugin machinery, just grab the source and figure out how  and  work
p1647
aVis actually quite simple:
p1648
as(dp1649
g10
V479863
p1650
stp1651
a((dp1652
g2
(lp1653
VYou could use HTTP basic authentication as an easy way:
p1654
aVIs there a way to set up simple http authentication for an app on heroku
p1655
aVNot exactly bullet proof but maybe sufficient
p1656
aVYou could also try checking  and refusing access if it isn't set:
p1657
aVhttp://blog
p1658
aVheroku
p1659
aVcom/archives/2008/1/14/heroku_user/
p1660
aVI can't find much documentation on  so I don't know if it is still supported
p1661
as(dp1662
g10
V479863
p1663
stp1664
a((dp1665
g2
(lp1666
VDo you really have  in your  attributes
p1667
aVYour sample HTML say this:
p1668
aVbut I think you want to say this:
p1669
aVThere are other cases like this too
p1670
aVThere is some special URL fragment mangling inside the jQuery-UI tabs to work around various browser bugs and oddities; that mangling could be hiding the problem when you're just clicking around but not when you get there through a URL
p1671
as(dp1672
g10
V479863
p1673
stp1674
a((dp1675
g2
(lp1676
VThe same syntax you'd use in C works in ruby, just drop the typecasts:
p1677
aVIf you need the values to be in chunks of exactly 32 bits (i
p1678
ag785
aVyou need to speak binary to some external data file or program), then you'll want to use Array#pack and String#unpack to get the right bits
p1679
as(dp1680
g10
V479863
p1681
stp1682
a((dp1683
g2
(lp1684
VI'd track  events and watch the height of , for example:
p1685
aVHere's an updated version of your jsfiddle: http://jsfiddle
p1686
aVnet/ambiguous/ULUJX/10/
p1687
aVIf you want it to shrink as well then simply change the  and take care with the initial sizes of things
p1688
as(dp1689
g10
V479863
p1690
stp1691
a((dp1692
g2
(lp1693
VThe easiest way to ensure a case-insensitive LIKE is to use something like one of these:
p1694
aVOr you can up-case/down-case the  outside the SQL and just use:
p1695
aVI tend to use  out of habit as lower case is easier to read and hence easier to debug
p1696
as(dp1697
g10
V479863
p1698
stp1699
a((dp1700
g2
(lp1701
VI think you have two options:
p1702
aVMake the end users obtain their own Netflix key
p1703
aVProxy all the traffic through your own server and keep your secret key on your server
p1704
aVYou could keep casual users away from your secret key while still distributing it with some obfuscation but you won't keep it a secret from anyone with a modicum of skill
p1705
aVProxying all the traffic would pretty much mean setting up your own web service that mimics the parts of the Netflix API that you're using
p1706
aVIf you're only using a small slice of the Netflix API then this could be pretty easy
p1707
aVHowever, you'd have to carefully check the Netflix terms of use to make sure you're playing by the rules
p1708
aVI think you'd be better off making people get their own keys and then setting up your tool to read the keys from a configuration file of some sort
p1709
as(dp1710
g10
V479863
p1711
stp1712
a((dp1713
g2
(lp1714
VI'd guess that you're getting UTF-8 encoded text but your database is configured for ISO-8859-1 (AKA Latin-1)
p1715
aVThe page you reference says:
p1716
aVso it is claiming to be encoded as UTF-8
p1717
aVA form on a UTF-8 page will be sent back to the server in UTF-8
p1718
aVThen you send that UTF-8 data into your database where it is stored as Latin-1 encoded text
p1719
aVIf you're not handling the UTF-8 to Latin-1 change yourself then you'll get "funny" characters when you send the data back to a browser
p1720
aVAs long as the text only uses standard ASCII characters then everything will be okay as UTF-8 and Latin-1 overlap on the ASCII characters
p1721
aVThe solution is to pick a character encoding and use it everywhere
p1722
aVI'd recommend UTF-8 everywhere
p1723
aVHowever, if your database is already in Latin-1 then you'll have to go with Latin-1 or change the encoding in the database and re-encode all the data
p1724
aVBut, if all the text in your database is simple ASCII then no re-encoding will be needed
p1725
aVHard to say what's going without examples but a character encoding mismatch is the usual problem when funny (funny peculiar, not funny ha-ha) characters appear only when text is sent back to the browser
p1726
as(dp1727
g10
V479863
p1728
stp1729
a((dp1730
g2
(lp1731
VI don't think your problem is with superfish or the underlying suckerfish
p1732
aVA quick look indicates that  is floated to the left but the floats aren't cleared between that and
p1733
aVThe  table and hence the  are positioned right beside  in Firefox so the table doesn't get enough width for the floats to layout horizontally
p1734
aVAs a quick hack you can stuff a  right before :
p1735
aVand you should see the Firefox problem go away
p1736
aVHowever, you should explicitly clear your floats somewhere sensible after  and before
p1737
aVClearing between  and  seems appropriate:
p1738
aVYou might be able to use an  clear fix for this too but I tend to prefer explicit clearing even if it does pollute my HTML with styling information
p1739
aVAnd as far as how to debug this sort of thing goes, the DOM inspector in WebKit browsers (such as Chrome and Safari) is freakin' awesome
p1740
aVFirebug's DOM inspector is also pretty good
p1741
aVIn a case like this, you'll want to use them both concurrently
p1742
aVDOM inspectors, guess work, experience, and lots of swearing are my tools for figuring out things like this
p1743
as(dp1744
g10
V479863
p1745
stp1746
a((dp1747
g2
(lp1748
VFrom the fine manual:
p1749
aVUse +polaroid to rotate the image at a random angle between -15 and +15 degrees
p1750
aVI think you want  instead of
p1751
as(dp1752
g10
V479863
p1753
stp1754
a((dp1755
g2
(lp1756
VHave a look at the Superfish jQuery plugin, it just adds some fancy animation and hoverIntent support to a standard suckerfish CSS menu system
p1757
aVYou can either just drop it in and move on to other things or study the source to find out how it works
p1758
as(dp1759
g10
V479863
p1760
stp1761
a((dp1762
g2
(lp1763
VYou're missing a dollar sign in your success handler, this:
p1764
aVshould be this:
p1765
aVNote that addition of  before
p1766
aVWhen you say , you're trying to access the  property of the string literal  and then you're trying to call that property as a function; the string literal has no  property so you're trying to execute an undefined value as a function and hence your error
p1767
as(dp1768
g10
V479863
p1769
stp1770
a((dp1771
g2
(lp1772
VThe default value for  is  and  means that the browser figures out the position on its own using various rules that you probably shouldn't care about unless you're writing a CSS engine
p1773
aVThere's enough wiggle room that different browsers will come up with different results even without bugs or misinterpretations
p1774
aVThe position offsets are with respect to the nearest non-static ancestor (which is your ) but that doesn't mean that the offsets are zero, the  is still a computed value if you don't specify it and it can be a negative value
p1775
aVBasically: say what you mean
p1776
aVYou mean  so you should say that
p1777
as(dp1778
g10
V479863
p1779
stp1780
a((dp1781
g2
(lp1782
VFrom the fine manual:
p1783
aVIf the column name list of the new table contains a column name that is also inherited, the > data type must likewise match the inherited column(s), and the column definitions are merged > into one
p1784
aVSo you cannot override  to be of type
p1785
aVAnd as far as "how does overriding in DB inheritance work
p1786
aVgoes, it doesn't, you can't alter the interface (i
p1787
ag785
aVcolumns) through inheritance like that, you can only add new things or tighten constraints
p1788
aVAre you familiar with Liskov substitution principle
p1789
aVChanging the column type would make the tables's common properties (AKA interfaces) incompatible
p1790
as(dp1791
g10
V479863
p1792
stp1793
a((dp1794
g2
(lp1795
VYour  will be true because it is defined and it would be a true value in Perl
p1796
aVThe usual approach is to check that it is true and non-empty:
p1797
aVSay what you really mean, asking the computer to pretend to be smarter than it is leads to odd surprises
p1798
aVYou could probably change TT's notion of truthiness but I don't think you'd enjoy it or the various unpleasant side effects you'd probably come across
p1799
aVTemplate Toolkit isn't HTML Template Pro, when in Rome do as the Romans do and all that
p1800
aVYour best bet is to fix your templates and consider the extra work as just part of the porting process
p1801
aVYou could probably build a plugin to do the "true and non-empty" stuff for you though
p1802
as(dp1803
g10
V479863
p1804
stp1805
a((dp1806
g2
(lp1807
VDo you really need the path components in a variable or do you just need to offer them to  split
p1808
aVIf the latter, then you can get it done with just  and  (or just )
p1809
aVFor example, saying  with this:
p1810
aVproduces:
p1811
aVSo maybe try this:
p1812
aVIf you're dead set on doing it in Perl then you can convert the  and  to Perl pretty easily
p1813
as(dp1814
g10
V479863
p1815
stp1816
a((dp1817
g2
(lp1818
VI see your problem in Chrome 9 and the latest Safari on OSX
p1819
aVYou can try specifying the margins in s to get them to scale with the , this produce reasonable results for me:
p1820
aVbut YMMV of course
p1821
aVYour best bet is to use a class on the  to keep the  and  together, then you can tweak them together to get reasonable results in the various browsers
p1822
aVThis isn't a perfect solution but going for pixel-identical results in multiple browsers and on multiple operating systems is not only frustrating and often impossible but also a bit pointless (IMHO)
p1823
as(dp1824
g10
V479863
p1825
stp1826
a((dp1827
g2
(lp1828
VYou want to adjust the  settings:
p1829
aVAFAIK, you always get paragraphs
p1830
aVHave a look at these examples for more, there are various examples listed in the right sidebar
p1831
as(dp1832
g10
V479863
p1833
stp1834
a((dp1835
g2
(lp1836
VThere is no callback in the async treeview but it should be easy enough to add one of your own
p1837
aVThe AJAX stuff is here:
p1838
aVhttps://github
p1839
aVcom/jzaefferer/jquery-treeview/blob/master/jquery
p1840
aVtreeview
p1841
aVasync
p1842
aVjs#L42
p1843
aVYou can add a callback by adding  and changing the above snippet to something like this:
p1844
aVI just added two lines beneath
p1845
aVThen you'd set up the treeview like this:
p1846
aVI haven't tried this but it should work and if not, it will be a good starting point for getting it going
p1847
aVYou have access to the source code, there's no good reason not to use it
p1848
aVAnd, there's no good reason not to add the callback support yourself and send Jörn Zaefferer a patch to get this functionality added to the main repository
p1849
as(dp1850
g10
V479863
p1851
stp1852
a((dp1853
g2
(lp1854
VYou don't need to use string interpolation, just convert the strings to symbols using :
p1855
aVOr use symbols in  to  in the delete:
p1856
as(dp1857
g10
V479863
p1858
stp1859
a((dp1860
g2
(lp1861
VI think your problem is that your selectors are too general
p1862
aVTry this instead:
p1863
aVThe basic idea is that you only want to animate the excerpt and link for the current slide
p1864
aVYou can get that by adding the hover to the  elements and then searching from there for the  and  or, as in the  handler, by looking for  and  under
p1865
aVI'm assuming that you're using the default  option, if you're using something else then change  appropriately
p1866
as(dp1867
g10
V479863
p1868
stp1869
a((dp1870
g2
(lp1871
VYour problem is that you're telling  to be 50px tall and then putting something inside it that needs 100px (38+31+31) of height, the result is that the content overflows its parent's box
p1872
aVYou need to make the parent, , tall enough to fully contain its child
p1873
aVHowever, if you set  to have  then you'll have to reposition the "about", "testimonials",
p1874
aVlinks to be another 50px down and you'll have to add another 50px to the height of
p1875
aVYou'll probably have to adjust a few other  and  values as well
p1876
aVYou could also rework the HTML and CSS so that you don't need to absolutely position everything
p1877
aVSimply stacking three s on top of each other would give you the same layout  while being less brittle; then some wrapper s and margin settings to get it horizontally centered and offset from the top of the page
p1878
as(dp1879
g10
V479863
p1880
stp1881
a((dp1882
g2
(lp1883
V3) A renderer
p1884
aVNo idea
p1885
aVGenerally a renderer takes your data/model and converts it into something that the client wants
p1886
aVIf the client is just a browser then the renderer will usually mash your data through a template to produce HTML
p1887
aVIf the client is some JavaScript code or a non-browser application (a desktop application, another server that is consuming your data,
p1888
aVthen the renderer would usually produce JSON (or possibly XML)
p1889
aVYou can think of this as a serialization or marshalling system
p1890
aV4) JS libraries:
p1891
aVThese are what you use to program the user interface
p1892
aVThe user interface may just be some pretty effects slapped on top of HTML but it could be a lot more
p1893
aVGoogle Docs, for example, is JavaScript and a bit more than pretty effects; Cloud9 IDE would be another example full application built with JavaScript (thanks to Raynos for another example)
p1894
aV5) Form templating libraries
p1895
aVYou can think of these as (more or less) macro systems for the template engine
p1896
aVIf you have a data schema then you can use these things to generate template chunks and to automatically handle the server side processing of the corresponding return data
p1897
aVAny other important components that I'm missing
p1898
aVYou can think of the modern web stack as a traditional client server system; this will probably anger some people but there's nothing radically new here except possibly the scale
p1899
aVThe client is built with HTML and CSS for the layout and JavaScript (possibly with a toolkit) for the functionality and eye candy
p1900
aVThe server is a web server of some sort
p1901
aVCommunication between client and server is usually done in a combination of JSON and HTML over HTTP
p1902
aVYou can think of web-1
p1903
aV0 (may deity forgive my marketing-talk terminology) as old school dumb terminals where web-2
p1904
aV0 is more like an X-terminal with some brains on the client
p1905
as(dp1906
g10
V479863
p1907
stp1908
a((dp1909
g2
(lp1910
VYou don't want  on the slide-out, you want that on the wrapper
p1911
aVYou don't want to animate the  or , you want to animate the wrapper's width
p1912
aVThere's no need to absolutely position your slide-out either
p1913
aVAlso, you can simplify things by handling the show and hide actions in separate handlers:
p1914
aVI tweaked the HTML and CSS a bit too: I added  attributes to the show and hide links and dropped all the positioning for : http://jsfiddle
p1915
aVnet/ambiguous/mp7aR/
p1916
as(dp1917
g10
V479863
p1918
stp1919
a((dp1920
g2
(lp1921
VPostgreSQL also supports full POSIX regular expressions:
p1922
aVThe  is for a case insensitive match,  is case sensitive
p1923
aVAnother option is to use ANY:
p1924
aVYou can use ANY with any operator that yields a boolean
p1925
aVI suspect that the regex options would be quicker but ANY is a useful tool to have in your toolbox
p1926
as(dp1927
g10
V479863
p1928
stp1929
a((dp1930
g2
(lp1931
VYou're not missing anything, you found a bug in the oembed plugin
p1932
aVNice find, maybe you have a future career in quality assurance :)
p1933
aVLooks like both oembed and jQuery want to use  but jQuery is ending up with oembed's string  where it wants its own function
p1934
aVThe oembed plugin works fine with jQuery-1
p1935
aV3
p1936
aV2 but breaks as of jQuery-1
p1937
aV4
p1938
ag1936
aVYou can pull a functional version of the oembed plugin from this jsfiddle: http://jsfiddle
p1939
aVnet/ambiguous/ZVhUn/1/
p1940
aVThis problem has been reported several times but the oembed author doesn't seem to be listening
p1941
aVHere's a fixed version of the plugin if you want it:
p1942
aVThe only change is that I replaced  with  in  at the bottom of the file
p1943
as(dp1944
g10
V479863
p1945
stp1946
a((dp1947
g2
(lp1948
VDon't worry about making the first column unsortable, just rewrite the values every time the table is sorted:
p1949
aVThe index numbers in the first column aren't real data anywhere, they're generated so generating them every time not only solves your problem but makes sense too
p1950
as(dp1951
g10
V479863
p1952
stp1953
a((dp1954
g2
(lp1955
VSounds like you can use  to bind your keyup handler:
p1956
aVThe  function acts just like  except that it unbinds itself after it executes once
p1957
as(dp1958
g10
V479863
p1959
stp1960
a((dp1961
g2
(lp1962
VDo you have any s with both  and
p1963
aVIf you do then you'll be binding Fancybox to those elements twice and Fancybox might not like that
p1964
aVTry taking out this one:
p1965
aVAnd see what happens with just the second one in place
p1966
aVUPDATE: Strange
p1967
aVThe demo (http://chadly
p1968
aVnet/demos/video-lightbox
p1969
aVhtml) is producing different HTML than your page, the demo builds an  but yours builds a  thing
p1970
aVYou're saying:
p1971
aVin your Fancybox binding, that's where the  stuff comes from
p1972
aVHowever, the  points at a plain old YouTube video viewing HTML page and that  ends up as the  attribute for the
p1973
aVThe URL for embedding a YouTube video isn't the same as the video's HTML page and that's probably the source of your problem
p1974
aVTry replacing the  that looks like this:
p1975
aVwith one like this:
p1976
aVThe first is the plain HTML page for YouTube, the second is the embeddable SWF
p1977
aVUPDATE 2: The example you're working from is for Fancybox 1
p1978
aV0
p1979
aV0 but you're using 1
p1980
ag1936
aV4, 1
p1981
ag1979
aV0 has some special checks for YouTube that aren't present in later versions:
p1982
aVThat's from 1
p1983
ag1979
aV0 and the code after that  rewrites the HTML page URL (e
p1984
aVg
p1985
aV) to the older embeddable SWF URL (e
p1986
ag1985
aV)
p1987
aVThis version problem also explains why the demo was producing different HTML than your's
p1988
aVSo, you have some version problems on top of everything else
p1989
as(dp1990
g10
V479863
p1991
stp1992
a((dp1993
g2
(lp1994
VIf you have GNU grep you can use the  (AKA ) switch:
p1995
aV-C NUM, --context=NUM
p1996
aVPrint NUM lines of output context
p1997
aVPlaces a line containing -- between
p1998
aVcontiguous groups of matches
p1999
aVI'm not sure if  is part of POSIX grep but it is worth a shot
p2000
as(dp2001
g10
V479863
p2002
stp2003
a((dp2004
g2
(lp2005
VAs far as your question in the comment goes (i
p2006
ag785
aV"why my radio button is not being given a default width (the size of its text) and why the radio button is on the right of the text instead of the left
p2007
aV, radio buttons (or any  elements for that matter) don't have content
p2008
aVSo, where your  gets rendered depends on the browser's mood (more or less)
p2009
aVThe usual structure looks like this:
p2010
aVI've left out all the attributes that weren't necessary to illustrate the structure
p2011
aVSo, what you want to do is create your radio button without the  bit but with an  attribute; then, create a label element with an appropriate  attribute and  and drop the label after the radio button but before your line break
p2012
aVMaybe something more like this would work:
p2013
as(dp2014
g10
V479863
p2015
stp2016
a((dp2017
g2
(lp2018
VI think you're missing some quotes around , try this instead:
p2019
aVI just added single quotes around "DocWrite
p2020
aVjs"
p2021
aVWithout the quotes, the JavaScript interpreter will think that  is an object and that you're trying to access the  property on that object
p2022
as(dp2023
g10
V479863
p2024
stp2025
a((dp2026
g2
(lp2027
VOr there's always the array version:
p2028
aVThe basic idea is to build a list of  spaces () and then stick them all together at once at the end ()
p2029
aVAFAIK, string concatenation (e
p2030
ag1985
aV) is slow in some IE versions and the array approach is faster
p2031
aVOTOH, that really shouldn't make much difference in this case so you should go with whatever approach is clearer
p2032
as(dp2033
g10
V479863
p2034
stp2035
a((dp2036
g2
(lp2037
VIf you have a link or a form for telling the server to build the KML then just generate the KML normally and send it back to the browser with some extra HTTP headers
p2038
aVThe headers you want are:
p2039
aVset to  where "whatever
p2040
aVkml" is what you want the file to be called
p2041
aVset to
p2042
aVThe  should tell the browser to download the KML instead of trying to handle it
p2043
aVSo the Perl script will be prompting the browser to prompt the download
p2044
as(dp2045
g10
V479863
p2046
stp2047
a((dp2048
g2
(lp2049
VThe click binding is probably happening before the  is finished
p2050
aVTry replacing your  with a  version:
p2051
as(dp2052
g10
V479863
p2053
stp2054
a((dp2055
g2
(lp2056
VWhile Jens's pile of toothpicks does have a certain perverse beauty to it I think you might be better off with the block version of :
p2057
aVGo with whatever works for you though
p2058
as(dp2059
g10
V479863
p2060
stp2061
a((dp2062
g2
(lp2063
VFrom  in Busybox-1
p2064
aV18
p2065
aV3:
p2066
aVAnd from the GCC documentation:
p2067
aVThis attribute, attached to a variable, means that the variable is meant to be possibly
p2068
aVunused
p2069
aVGCC will not produce a warning for this variable
p2070
aVSo, it is just a way to tell both the human programmers and the compiler that the variable is not necessarily used
p2071
aVOtherwise, the compiler may warn you about an unused variable
p2072
aVPresumably,  requires the  parameter to be compatible with a function pointer type or other API constraints but  doesn't actually use the parameter
p2073
as(dp2074
g10
V479863
p2075
stp2076
a((dp2077
g2
(lp2078
VThat table doesn't produce any s when formatted using the redcloth
p2079
aVorg "try it" box on their homepage
p2080
aVHowever, something like this:
p2081
aVproduces:
p2082
aVSo I would guess that you have a paragraph right before the tables without a blank link separating them
p2083
aVAdding an empty line:
p2084
aVProduces what is probably the desired result:
p2085
as(dp2086
g10
V479863
p2087
stp2088
a((dp2089
g2
(lp2090
VWhen I do this in Firefox:
p2091
aVIt looks the same as this:
p2092
aVBut your comments and notes indicate that you're trying to place the  over the page without altering the appearance of the underlying content
p2093
aVWhat you really want is this structure:
p2094
aVThen you set  on the ; give it the usual  and ; and then set , , and the margins to center it
p2095
aVYou might need to play around with  values on the  too but that depends on the page's content
p2096
aVAdding an absolutely positioned element at the bottom of  is the usual of way of achieving what you're trying to do and it will work pretty much the same in any browser that can handle an
p2097
aVHere's a simple example: http://jsfiddle
p2098
aVnet/ambiguous/KrjBv/
p2099
aVYou already know how to do the JavaScript and I'm just trying to illustrate the CSS positioning so I used jQuery to cut down on the noise
p2100
as(dp2101
g10
V479863
p2102
stp2103
a((dp2104
g2
(lp2105
VYou can try adding  and  attributes to the slideshow's  tags
p2106
aVIE might be losing track of how big the images are
p2107
aVEven if it isn't the problem specifying the dimensions in  tags is a good habit so it can't hurt
p2108
as(dp2109
g10
V479863
p2110
stp2111
a((dp2112
g2
(lp2113
VHard to say without a live example but maybe you have a timing issue with the asynchronous AJAX call
p2114
aVTry building the dialog in a callback:
p2115
aVThis way the whole content will be available before you hand things off to jQuery-UI
p2116
as(dp2117
g10
V479863
p2118
stp2119
a((dp2120
g2
(lp2121
VI think the easiest way to convert transparent regions to white is to paste the image on top of a white background before resizing it:
p2122
aVI tested this with Graphics::Magick (a faster fork of ImageMagick) but it should work the same with Image::Magick
p2123
aVI have tried to do similar image mangling in the past and the above was the best I could come up with
p2124
as(dp2125
g10
V479863
p2126
stp2127
a((dp2128
g2
(lp2129
VThe  function returns an array of matching DOM elements so you can just assign to the  property of the second element:
p2130
as(dp2131
g10
V479863
p2132
stp2133
a((dp2134
g2
(lp2135
VYou can try defining :
p2136
aVHopefully  won't suppress anything that you need
p2137
aVYou can often get around these sorts of problems with some combination of , , , ,
p2138
aVSometimes they fight each other though so you're left with source partitioning schemes as Jonathan Leffler suggests
p2139
as(dp2140
g10
V479863
p2141
stp2142
a((dp2143
g2
(lp2144
VThe usual approach is to keep the languages separate (one HTML file per language for example) and send the content back in the language they want
p2145
aVYou could try to parse the Accept-Language header and send back the closest match; you'd probably want to include a language selection widget of some sort as well
p2146
aVIf you really want to do this on the client with JavaScript then you should:
p2147
aVSet the  attribute on each piece of content (or wrapper `s)
p2148
aVGrab the language from  or  (check them both, the latter is for IE, the first is, AFAIK, everyone else) and have a suitable default in hand just in case
p2149
aVThen show everything whose  matches the language and hide everything whose  doesn't match
p2150
aVFor example, if you have this HTML:
p2151
aVAnd then some JavaScript (I'll use jQuery as that's my weapon choice):
p2152
aVHere's a live example: http://jsfiddle
p2153
aVnet/ambiguous/hDM3T/2/
p2154
aVIf you keep the show/hide logic in a separate function that takes a language argument then it would be pretty easy to provide a language selection widget of some sort too
p2155
aVYou could also use a class for the language if that's easier to work with using your JavaScript tools but leaving the  attribute around would be a good idea
p2156
as(dp2157
g10
V479863
p2158
stp2159
a((dp2160
g2
(lp2161
VYou could try placing the button inside the last  in the row and then float it to the right and provide a large enough negative right margin to get it outside the table; you'll also need a positive right margin on the table to make sure there is space for the button
p2162
aVFor example:
p2163
aVAnd a bit of CSS (with coloring to make it clear where everything is):
p2164
aVAnd the jsfiddle: http://jsfiddle
p2165
aVnet/ambiguous/RE8rK/
p2166
aVI picked the margins out of the air to illustrate the effect, I'll leave computing the proper values up to you
p2167
as(dp2168
g10
V479863
p2169
stp2170
a((dp2171
g2
(lp2172
VYou could use the htmlentities gem
p2173
aVThere is also the hex notation to consider (e
p2174
ag1985
aVis the same as  or "\u30a4")
p2175
aVThere's no good reason to do this by hand (and probably miss various edge cases and notations that you might not be aware of) when there is a complete and tested library that will do it for you
p2176
as(dp2177
g10
V479863
p2178
stp2179
a((dp2180
g2
(lp2181
VYou could try duplicating all the  settings as  settings and then just pull them out of  in the CGI scripts
p2182
aVYes, this would be an ugly hack but an ugly hack that works is better than no solution at all (just be sure to have a shower after you do it)
p2183
as(dp2184
g10
V479863
p2185
stp2186
a((dp2187
g2
(lp2188
VYou're using  and  correctly, you're just using them on the wrong thing
p2189
aVIn your  loop in , you're calling  on  over and over again without changing :
p2190
aVShouldn't you be appending a slash and  to  to get the full path to the file that you want to
p2191
aVMethinks that similar changes to your other  calls are also needed
p2192
as(dp2193
g10
V479863
p2194
stp2195
a((dp2196
g2
(lp2197
VDo you really need two table cells in the bottom row or just two blocks that are half the width of the entire row
p2198
aVIf the latter, then you can make a  for the final row, put two s in it, float one to the left and the other to the right, and give them :
p2199
aVAnd some CSS:
p2200
aVAnd the usual jsfiddle: http://jsfiddle
p2201
aVnet/ambiguous/mmZEa/
p2202
aVIf you do need them to be table cells then you could double the number of horizontal cells, make all the existing ones , and then use  for the two cells in the bottom row: http://jsfiddle
p2203
aVnet/ambiguous/JzrLK/
p2204
as(dp2205
g10
V479863
p2206
stp2207
a((dp2208
g2
(lp2209
VI think you need to get the  configuration value down to SQLite, there was a similar question about UTF-8 and SQLite, setting  did the trick there
p2210
aVI don't think Rose::DB::SQLite supports this configuration parameter though
p2211
aVBased on this possibly similar issue with MySQL you might be able to patch Rose::DB::SQLite to add support for  by adding this to the driver:
p2212
aVI'll leave a comment on John's answer so he can sanity check this
p2213
aVIf that works then you might want to send a patch to John Siracusa (who is not only already on this question but also the Rose::DB maintainer)
p2214
as(dp2215
g10
V479863
p2216
stp2217
a((dp2218
g2
(lp2219
VWhat if you connect with this:
p2220
aVMaybe  is looking for the options hash-ref as argument four without realizing that SQLite doesn't need the username and password arguments
p2221
as(dp2222
g10
V479863
p2223
stp2224
a((dp2225
g2
(lp2226
VAre you calling binmode on your output file handles
p2227
aVIf you don't set the output streams to binary mode then plain newlines ( or more accurately ) will be converted to Windows-style CR-LF (), that conversion would explain the size increase and the corruption
p2228
as(dp2229
g10
V479863
p2230
stp2231
a((dp2232
g2
(lp2233
VFirst, show the loader image
p2234
aVThen use  to to start a timer
p2235
aVWhen the timer is finished, check if the AJAX has finished, if it has then kill the loader image but if it hasn't then do nothing to the loader image and set a flag
p2236
aVWhen the AJAX success handler is called, check the flag; if the flag is set then the timer has finished and the success handler can delete the loader image; if the flag is not set, then the success handler can let the timer kill the loader image
p2237
aVEssentially, you have two asynchronous tasks running (the timeout and the AJAX)
p2238
aVThe last one to finish kills the loader image
p2239
as(dp2240
g10
V479863
p2241
stp2242
a((dp2243
g2
(lp2244
VJust use :
p2245
aVThe argument to the block is a reference to the original elements so you can change them as desired
p2246
aVNote that this changes  in-place which I think is what you're after
p2247
as(dp2248
g10
V479863
p2249
stp2250
a((dp2251
g2
(lp2252
VJust  the open ones closed before opening the new one, something like this:
p2253
aVYou could animate closing the open ones by replacing  with something else
p2254
aVOr, you could use an accordion control that someone else has already built and debugged as Steve Wellens suggests
p2255
as(dp2256
g10
V479863
p2257
stp2258
a((dp2259
g2
(lp2260
VAny inline element will pay attention to :
p2261
aVOn a block container element whose content is composed of inline-level elements, 'line-height' specifies the minimal height of line boxes within the element
p2262
aVIn your case, you have  elements (which are inline elements by default) inside your  elements (which are block containers)
p2263
aVChanging the  implicitly alters the pixel value of , the default is  and that means:
p2264
aVTells user agents to set the used value to a "reasonable" value based on the font of the element
p2265
aVSo, altering either the  or  will change the vertical space that your inline elements occupy
p2266
as(dp2267
g10
V479863
p2268
stp2269
a((dp2270
g2
(lp2271
VIf you're dead set on using  then you can just negate the numbers:
p2272
aVThis trick only works because you're sorting by numeric values
p2273
aVIf you were sorting on strings then you'd have to use something like this:
p2274
aVbut that would involve an extra copy of the array and the extra work that  would do
p2275
aVIn such cases you should use a full  with reversed comparison logic
p2276
aVIf you're were  trying to use  to avoid computing something expensive for each comparison and you were sorting on something non-numeric, then you could always use  with an explicit Schwartzian Transform to compute the expensive things only once
p2277
as(dp2278
g10
V479863
p2279
stp2280
a((dp2281
g2
(lp2282
VThe  attribute is for screenreaders (i
p2283
ag785
aVfor the visually impaired), non-graphical devices, and sometimes as a placeholder for an image that fails to load (this depends on the browser)
p2284
aVFor a tooltip effect, you want to set the  attribute instead
p2285
aVFor an example, hover your mouse over your reputation number in your flair below your question
p2286
aVThen, using a WebKit browser such as Chrome, do an "inspect element" and you'll see the  attribute in the HTML
p2287
as(dp2288
g10
V479863
p2289
stp2290
a((dp2291
g2
(lp2292
VYou could unpack the bits by hand into a human-readable string representation (1323462487238743e3010 for example) and then feed that to BigDecimal to get something that behaves like any other number in Ruby:
p2293
aVConverting the bits into a string is the tricky part but IEEE 754-2008 specifies the bit layout so it shouldn't be that difficult if you know the byte order
p2294
aVYou'd have to use BigNum to handle the mantissa but the exponent is small enough that you could use a normal integer
p2295
as(dp2296
g10
V479863
p2297
stp2298
a((dp2299
g2
(lp2300
VXHTML says this about :
p2301
aVSo  is explicitly excluded from XHTML as well
p2302
aVThe allowable elements inside  appear to be pretty much the same in XHTML-1
p2303
aV0 as in HTML-4
p2304
ag1979
as(dp2305
g10
V479863
p2306
stp2307
a((dp2308
g2
(lp2309
VFunction arguments in 8
p2310
aV4 are implicitly  unless they're  parameters
p2311
aVI can't find where this is specified in the 8
p2312
aV4 documentation but I did find some relevant discussion about going from Informix to PostgreSQL:
p2313
aVhttp://archives
p2314
aVpostgresql
p2315
aVorg/pgsql-interfaces/2007-08/msg00020
p2316
aVphp
p2317
aVhttp://archives
p2318
aVpostgresql
p2319
aVorg/pgsql-interfaces/2007-08/msg00023
p2320
aVphp
p2321
aVLooks like you can simulate a mutable function argument simply by declaring a local variable with the same name:
p2322
aVA bit kludgy perhaps and possibly confusing when you look at it in the future but maybe that is preferable than the alternatives
p2323
as(dp2324
g10
V479863
p2325
stp2326
a((dp2327
g2
(lp2328
VYour problem doesn't appear to be a built in maximum for  but the lack of a limit (and sanity checking inside geokit)
p2329
aVIt looks like a  query ends up going through  to produce a bounding box
p2330
aVwill do a bit of trigonometry (see  in ) and the result will be an  instance
p2331
aVI suspect that things are going wrong for you in the trigonometry; trig functions are periodic so your 100 000 radius will end up wrapping around to something between 0 and ~40 000 km (the Earth's circumference, ~25 000 miles) and the bounding box will not bound 100 000 miles
p2332
aVIf you play with your 100 000 a bit you could probably get geokit to produce a bounding box that is only a couple centimeters per side (or a zero radius if you can sort out the usual floating point issues)
p2333
aVExecutive summary: if you want them all, don't use  at all; if you want to use , then give it a sensible distance (i
p2334
ag785
aVsmall enough to fit on the planet's surface without wrap around)
p2335
as(dp2336
g10
V479863
p2337
stp2338
a((dp2339
g2
(lp2340
V just sets up the directory structure and such that is needed to create new databases
p2341
aVTo create a database, use :
p2342
aVSYNOPSIS
p2343
aVcreatedb [ option
p2344
aV]  [ dbname ]  [ description ]
p2345
aVDESCRIPTION
p2346
aVcreatedb creates a new PostgreSQL database
p2347
aVNormally,  the  database  user  who executes this command becomes the owner
p2348
aVof the new database
p2349
aVHowever a different owner can be specified via the -O option,
p2350
aVif the executing user has appropriate privileges
p2351
aVcreatedb is a wrapper around the SQL command CREATE DATABASE [create_database(7)]
p2352
aVThere is no effective difference between creating databases via this  utility  and
p2353
aVvia other methods for accessing the server
p2354
aVis sort of like creating a new file system on a hard disk: first you create the file system (), then you create a files and directories ()
p2355
aVThe actual database files will be under  after you create the database
p2356
aVSo, just create a database and then see what's new or changed under
p2357
aVThere isn't a single "dbname
p2358
aVdb" file or anything like that, each database is a collection of files with names that are only meaningful to the database server
p2359
as(dp2360
g10
V479863
p2361
stp2362
a((dp2363
g2
(lp2364
VMySQL uses  for such things:
p2365
aVSIGNAL is the way to \u201creturn\u201d an error
p2366
aVSIGNAL provides error information to a handler, to an outer portion of the application, or to the client
p2367
aVAlso, it provides control over the error's characteristics (error number, SQLSTATE value, message)
p2368
aVWithout SIGNAL, it is necessary to resort to workarounds such as deliberately referring to a nonexistent table to cause a routine to return an error
p2369
aVAny error conditional in a BEFORE trigger (including, AFAIK, an appropriate  value) will abort the trigger and the statement that triggered the trigger
p2370
aVIf your version of MySQL doesn't support  (i
p2371
ag785
aVyour version is less than 5
p2372
aV5) then you'll have to trigger an error in another way such as the old "select from a table that does not exist" hack or the "violate a PK by a double INSERT" hack
p2373
aVI only have 5
p2374
aV1 handy so I can't verify the  stuff
p2375
aVThe relevant section of "19
p2376
ag1936
aV1
p2377
aVTrigger Syntax" is the same for 5
p2378
aV1, 5
p2379
aV2, and 5
p2380
aV5 though so one of the "trigger an error" kludges should work if you need to resort to such things
p2381
as(dp2382
g10
V479863
p2383
stp2384
a((dp2385
g2
(lp2386
VYour problem is that  is only understood by the bash built-in  command; when you say  (or any of your other variations on it), the command is fed to  which will act like a POSIX shell even if it really is
p2387
aVThe solution is to explicitly feed your shell commands to bash:
p2388
aVYou will, of course, need to be careful with your quoting on whatever  really is
p2389
aVThe  switch essentially tells  that you're giving it an inlined script:
p2390
aV-c string
p2391
aVIf the -c option is present, then commands are read from string
p2392
aVIf there are arguments after the string, they are assigned to the positional
p2393
aVparameters, starting with $0
p2394
as(dp2395
g10
V479863
p2396
stp2397
a((dp2398
g2
(lp2399
VYou should use Text::CSV to build your output, that will save you the hassle of trying to handle embedded quotes and separators by hand
p2400
aVSo, create an instance of  with your desired options and replace this:
p2401
aVwith
p2402
aVWhere  is your  instance
p2403
aVAlso, your  function is a bit broken, it should look like this:
p2404
aVThe missing  might be just a typo when you pasted your code in but maybe not
p2405
aVAnd don't use prototypes, they don't do what you probably think they do
p2406
aVWhere you say:
p2407
aVjust say
p2408
aVAnd don't call functions with the leading sigil (i
p2409
ag785
aVdon't , just  will do) unless you know what its side effects are
p2410
as(dp2411
g10
V479863
p2412
stp2413
a((dp2414
g2
(lp2415
VjQuery's  has a callback that is called when the animate is finished so you can use that to change the images at the appropriate time:
p2416
aVThe above assumes that you only have one  element of course
p2417
aVUsing a class for the arrow and a sprite sheet for the images would be better but that would only require changing the  parts to  calls as Rob suggests
p2418
as(dp2419
g10
V479863
p2420
stp2421
a((dp2422
g2
(lp2423
VI've found that a simple drop down list with two character ISO-639 codes and the language name in the language (i
p2424
ag785
aVFrançais for French) works well enough
p2425
aVYou could try using the proposed language icon to help mark the menu but that doesn't seem to have gotten a lot of traction
p2426
aVIf you put the language selector in the upper right corner then people will probably see it
p2427
aVYou can try to use the Accept-Language HTTP header or the  and  properties in JavaScript to choose an initial language
p2428
aVDon't use flag icons
p2429
aVPeople in Brazil speak Portuguese but probably don't know what Portugal's flag is, Switzerland has three official languages, people in Québec Canada speak French, Americans won't want to click a UK flag to select English, etc
p2430
aVMake sure you use UTF-8 front to back and sideways from the start if you're going to be facing any L10N or I18N issues; actually, use UTF-8 everywhere even if you're not expecting to localize your application
p2431
as(dp2432
g10
V479863
p2433
stp2434
a((dp2435
g2
(lp2436
VDrop the floating on , you don't need it and it is causing your wrapping
p2437
aVThen add  to  to ensure that there is room for the  and give the illusion of a full height column for the  without having to muck about the heights
p2438
aVTo sort out the navbar, drop the floating from  and kill off your clearing s
p2439
aVIf you want the navbar to take up a whole column then add a  to
p2440
aVFor example:
p2441
aVhttp://jsfiddle
p2442
aVnet/ambiguous/tGQeJ/1/ (without 220px right margin)
p2443
aVhttp://jsfiddle
p2444
aVnet/ambiguous/tGQeJ/2/ (with has the 220px right margin)
p2445
as(dp2446
g10
V479863
p2447
stp2448
a((dp2449
g2
(lp2450
VYou're having a closure problem with
p2451
aVWhen you say this:
p2452
aVYou're binding a reference to  to the function but this does not evaluate
p2453
aVThe  variable is evaluated when the click handler is triggered and the value of  will be what it had when the loop finished; all the click handlers will have the same  value because, well, they all share the exact same variable
p2454
aVThe usual solution to this is to force  to be evaluated when building the click handler:
p2455
aVYou could use an immediately executing inlined function in place of  but the above is probably clearer if you're having trouble with closures
p2456
aVYour second one does not work because  doesn't mean anything in HTML
p2457
aVPerhaps you meant
p2458
aVYou'll probably run into quoting problems with  with this approach
p2459
as(dp2460
g10
V479863
p2461
stp2462
a((dp2463
g2
(lp2464
VChanging the fragment is intended to move from section to section within a specific page
p2465
aVWhen you click one of your links it just changes the fragment, the page itself is left untouched
p2466
aVSince the page doesn't change, there is no page load event and thus the  handler is not called
p2467
aVYou need an  handler instead of an  handler
p2468
aVBeware though that not all browsers support  so you'll have to muck about with a hand rolled version for some browsers
p2469
aVIf you're doing a lot of this sort of thing then you might want to look at Sammy or a similar library to take care of the details for you
p2470
as(dp2471
g10
V479863
p2472
stp2473
a((dp2474
g2
(lp2475
VAFAIK, you have to handle the child objects by hand:
p2476
aVThe  flag tells the builder to leave out the usual  XML preamble on the inner blob of XML
p2477
aVThe XML serializer won't call  recursively, it just assumes that everything from  is simple scalar data that should be slopped into the XML raw
p2478
as(dp2479
g10
V479863
p2480
stp2481
a((dp2482
g2
(lp2483
VYou can say things like this:
p2484
aVAnd then, inside your task,  will be
p2485
aVso you could use OptionParser (or some other option parser) to unpack  just like in any old CLI script; the funny looking  is necessary to keep rake from trying to parse  as a rake switch
p2486
aVYou're probably better off with the standard environment variable approach, it isn't as ugly as all the  stuff and it is the usual way of passing arguments to rake tasks
p2487
as(dp2488
g10
V479863
p2489
stp2490
a((dp2491
g2
(lp2492
VRead the error message again:
p2493
aVSQL error: ERROR: could not create unique index "service_import_checksum_key"
p2494
aVDETAIL: Key (checksum)=() is duplicated
p2495
aVLooks like it is telling you that there are duplicate values in the  column and you're trying to enforce uniqueness on that column with your constraint
p2496
aVThe constraint isn't duplicated, the data has duplicates
p2497
aVFurthermore, the "()" part indicates that you have multiple empty strings in the  column
p2498
aVUnique constraints allow multiple  values (since  is false) but empty strings are not
p2499
aVAn example to clarify what's going on:
p2500
aVIn particular, note what the ERROR and DETAIL are saying and compare that to the INSERTs
p2501
as(dp2502
g10
V479863
p2503
stp2504
a((dp2505
g2
(lp2506
VWhen you create your Marker, set the  and  properties of the MarkerOptions to the images of your choice
p2507
aVThere are lots of examples, this one might get you started
p2508
as(dp2509
g10
V479863
p2510
stp2511
a((dp2512
g2
(lp2513
VFix your duplicate  attributes first
p2514
aVEach  attribute should be unique within a page, duplicate  attributes can cause all sorts of strange and confusing behavior
p2515
aVIn your case, you have two  elements but your second gallery is looking for :
p2516
aVYour second gallery is trying to bind itself to something that does not exist while your first gallery:
p2517
aVis trying to bind itself to two different s that have the same
p2518
as(dp2519
g10
V479863
p2520
stp2521
a((dp2522
g2
(lp2523
VYou have a precedence problem, the logical conjunction () has a higher precedence than the method call so your example is executed like this:
p2524
aVnot like this:
p2525
aVwhich is what you're assuming
p2526
as(dp2527
g10
V479863
p2528
stp2529
a((dp2530
g2
(lp2531
VTry specifying the encoding for the attachment:
p2532
as(dp2533
g10
V479863
p2534
stp2535
a((dp2536
g2
(lp2537
VBased on your comment to macarthy, I think you want  (or ), that's what you use for URL encoding
p2538
aVYou can also use  (or ) but you'll get tired of having to pass the  regex all the time to get it to do what you want
p2539
aVAlso, on the JavaScript side, you should be using  or  as  is deprecated because it has problems with non-ASCII characters
p2540
as(dp2541
g10
V479863
p2542
stp2543
a((dp2544
g2
(lp2545
VYour best bet is to use images for the borders as well as the corners
p2546
aVThe images for the borders should have the same color and format as your corners
p2547
aVOr you could drop the old-school approach and use CSS3 border radius properties along with an IE CSS3 hack such as CSS3PIE
p2548
as(dp2549
g10
V479863
p2550
stp2551
a((dp2552
g2
(lp2553
VYou should specify both the top and left positions and add  to the immediate parent:
p2554
aVAnd a live example: http://jsfiddle
p2555
aVnet/ambiguous/vRJMd/
p2556
aVThe default  is  and that more or less means that the browser can do whatever it thinks is sensible
p2557
aVAlso, absolutely positioned elements are positioned with respect to the nearest ancestor with a position that is not  (which is probably  in your case)
p2558
as(dp2559
g10
V479863
p2560
stp2561
a((dp2562
g2
(lp2563
VYou can't use UNION like that
p2564
aVThe result sets from both queries would have to be the same (i
p2565
ag785
aVsame number of columns and same types) for a UNION to work:
p2566
aVSelected columns listed in corresponding positions of each SELECT statement should have the  same data type
p2567
aV(For example, the first column selected by the first statement should have  the same type as the first column selected by the other statements
p2568
aVYou'll have to do separate queries
p2569
as(dp2570
g10
V479863
p2571
stp2572
a((dp2573
g2
(lp2574
VYou can't mix s into a  like that, use additional  elements instead
p2575
aVIn your callback,  is the  element which has no siblings so  does nothing useful; you want to go back up until you get to something that is at the same depth as the  you're interested in and then call  from there
p2576
aVYour HTML should look more like this:
p2577
aVAnd your click handler like this:
p2578
aVThe  call goes back up your ancestors until it finds a  and then you call  on that
p2579
aVUpdated jsfiddle: http://jsfiddle
p2580
aVnet/ambiguous/Udxyb/4/
p2581
as(dp2582
g10
V479863
p2583
stp2584
a((dp2585
g2
(lp2586
VThe live updating in the second one is done by adding a timer to the  event inside the
p2587
aVSo, when the chart has finished loading,  is called and that calls the provided function every 1000 milliseconds (i
p2588
ag785
aVevery second); the callback for  simply adds a new point via
p2589
aVAll you need to do is add a  event handler that sets up an appropriate  call to add your new points
p2590
aVIn a more realistic case you'd use  to launch an AJAX call to get more data, then in the AJAX's success callback, you'd add the new points and call  again to arrange for another AJAX call to be made after another second (or whatever time interval works in your application)
p2591
aVThe Highcharts documentation looks fairly comprehensive and each example (of which there are many) has a convenient "view options" button for seeing the code so setting things up should be fairly straight forward with a bit of study
p2592
as(dp2593
g10
V479863
p2594
stp2595
a((dp2596
g2
(lp2597
VThe class is called , not
p2598
aVPerl is case sensitive so you want to say:
p2599
aVNote the "Bio" rather than "BIO"
p2600
as(dp2601
g10
V479863
p2602
stp2603
a((dp2604
g2
(lp2605
VUse classes instead of manipulating the background color directly, then you can add  to the clicked background color
p2606
aVFor example, HTML:
p2607
aVCSS:
p2608
aVAnd the jQuery:
p2609
aVAnd the Ob-fiddle: http://jsfiddle
p2610
aVnet/ambiguous/LLR6b/1/
p2611
aVThe idea is to toggle the hovering class on and off during hover events but add a class that always overrides everything else when clicked
p2612
as(dp2613
g10
V479863
p2614
stp2615
a((dp2616
g2
(lp2617
VFrom the fine manual:
p2618
aVNoAttr => true | false (in + out) (handy)
p2619
aVWhen used with xml_out, the generated XML will contain no attributes
p2620
aVAll hash key/values will be represented as nested elements instead
p2621
aVWhen used with xml_in, any attributes in the XML will be ignored
p2622
aVI think you want:
p2623
aVThat should give you something closer to what  does but you won't get the  attributes
p2624
as(dp2625
g10
V479863
p2626
stp2627
a((dp2628
g2
(lp2629
VIf you dig through the source you'll eventually come to  and the  method:
p2630
aVThe various  calls are forcing non-ASCII UTF-8 to the  notation that you're seeing
p2631
aVHex encoded UTF-8 should be acceptable to anything that processes JSON but you could always post-process the JSON (or monkey patch in a modified JSON escaper) to convert the  notation to raw UTF-8 if necessary
p2632
aVI'd agree that forcing JSON to be 7bit-clean is a bit bogus but there you go
p2633
aVShort answer: no
p2634
as(dp2635
g10
V479863
p2636
stp2637
a((dp2638
g2
(lp2639
VJust do a quick "view source" on http://lesscss
p2640
aVorg/ and you'll see this:
p2641
aVThey're binding to the  event for the window, this event is triggered when the window scrolls
p2642
aVThe  flag is set to true when the menu is "locked" to the top of the page, the menu is set to  at the same time that that flag is set to
p2643
aVThe rest is just some simple "are we about to scroll the menu off the page" and "are we about back where we started" position checking logic
p2644
aVYou have to be careful with  events though, they can fire a lot in rapid succession so your handler needs to be pretty quick and should precompute as much as possible
p2645
aVIn jQuery, it would look pretty much the same:
p2646
aVYou see this sort of thing quite often with the "floating almost fixed position vertical toolbar" things such as those on cracked
p2647
aVcom
p2648
as(dp2649
g10
V479863
p2650
stp2651
a((dp2652
g2
(lp2653
VFrom the fine manual:
p2654
aV:monitor: Monitor the programs and restart crashed instances
p2655
aVLooks like it sets up a PID file (i
p2656
ag785
aVa file holding the daemon's process ID) to track the daemon; if the daemon crashes for some reason, the monitor will restart it
p2657
aVYou'll have to ask the authors why their documentation is so sparse; the source code looks clear enough to the gist of what's going on though
p2658
aVI'd think that anyone that has built a daemon or two would be familiar with the concept of monitoring and restarting them
p2659
as(dp2660
g10
V479863
p2661
stp2662
a((dp2663
g2
(lp2664
VAre you looking for geokit perhaps
p2665
aVIf you want to do things in the database and your database is PostgreSQL, then you might be able to use PostGIS
p2666
as(dp2667
g10
V479863
p2668
stp2669
a((dp2670
g2
(lp2671
VAdd  and  attributes to the images
p2672
aVI'm guessing that the JavaScript activates before the image is loaded, it then does a couple quick computations to get the dimensions it needs, and locks them in place; all of this happens before the image is loaded and since there are no  or  attributes, the dimensions come out way off
p2673
aVOn the reload, the image comes out of the browser cache so the dimensions are known when the JavaScript runs
p2674
aVYour JavaScript runs when the DOM is ready, not when every single thing has been fully resolved and loaded
p2675
aVYou could also try binding your slideshow to the load event rather than
p2676
aVYou see this in Chrome more than other browsers because Chrome is really fast and that magnifies the timing issue
p2677
as(dp2678
g10
V479863
p2679
stp2680
a((dp2681
g2
(lp2682
VSounds like a permissions problem
p2683
aVPresumably your web server is running as one user but your code is owned by another
p2684
aVSo, check the permissions on every directory from the root all the way down to  and make sure the directories are readable by the web server user, then check that  can be read by the web server user
p2685
as(dp2686
g10
V479863
p2687
stp2688
a((dp2689
g2
(lp2690
VWorks fine if you use just  rather than :
p2691
aVhttp://jsfiddle
p2692
aVnet/ambiguous/xdH82/3/
p2693
aVOr if you use the standard  rather than the extended one from jQuery-UI:
p2694
aVhttp://jsfiddle
p2695
aVnet/ambiguous/xdH82/4/
p2696
aVI don't know why there's a difference but a tour of the jQuery internals would probably be revealing
p2697
aVIf you play around with single and double clicking in here:
p2698
aVhttp://jsfiddle
p2699
aVnet/ambiguous/Nudkh/
p2700
aVThen you'll see that the  list excludes the currently animating element but I don't know why
p2701
aVIn any case,  exactly matches your intent so I'd just go with that and move on
p2702
aVOTOH, this difference between  and  is probably going to be bugging me for days, hopefully someone will offer an explanation to ease my mind
p2703
aVUPDATE: If you watch the animation with a DOM inspector (such as WebKit's "inspect element") you'll see that jQuery-UI's extended  is wrapping the animated element in an extra  during the animation
p2704
aVSo, if you say  it won't find the  that you want as it won't be a sibling anymore: it will be the child of a temporary sibling
p2705
aVThe  will conveniently fail to find anything as the temporary wrapper will block the direct path "this ->
p2706
aVclear ->
p2707
aVexpand_me" and the click handler won't do anything on the second click of the double click
p2708
aVI probably should have gone straight into the jQuery-UI source to figure out the odd  behavior
p2709
aVOh well, at least I know what's going on now
p2710
aVUPDATE 2: A better approach than all this  business would be to explicitly tie the link to the toggling panel:
p2711
aVAnd:
p2712
aVIf you have an older jQuery then you might have to use  instead of
p2713
aVExample: http://jsfiddle
p2714
aVnet/ambiguous/pmQR7/1/
p2715
as(dp2716
g10
V479863
p2717
stp2718
a((dp2719
g2
(lp2720
VYou're using  incorrectly, you want :
p2721
aVYou're handing  a single  and asking it filter out everything that isn't , the result is an empty list
p2722
aVIf you do the same with  then you will be giving   and you're asking it to extract all the  elements that it contains (and this is what you want to happen)
p2723
as(dp2724
g10
V479863
p2725
stp2726
a((dp2727
g2
(lp2728
VThat border you're seeing is actually the outline (or the CSS2 version) so set  in your CSS
p2729
aVFor example: http://jsfiddle
p2730
aVnet/ambiguous/zLaq5/
p2731
aVHowever, as Stofke notes, you should probably just leave it alone as it is an accessibility feature
p2732
as(dp2733
g10
V479863
p2734
stp2735
a((dp2736
g2
(lp2737
VYou could try checking the Accept-Language HTTP header on the server and send the content back in that language (if you can), then include a simple language selector in a prominent place such as the upper left corner
p2738
aVYou might want to have a look over here too: What is a good interface to allow display in multiple languages
p2739
as(dp2740
g10
V479863
p2741
stp2742
a((dp2743
g2
(lp2744
VYou might be able to use ProtectedSource to get what you want:
p2745
aVThe editor offers a way to "protect" part of the source to remain untouched while editing or changing views
p2746
aVJust use the "FCKConfig
p2747
aVProtectedSource
p2748
aVAdd" function in the configuration file
p2749
aVBut:
p2750
aVNote that there currently isn't any way to "lock" displayed content in the editor
p2751
aVThe content protected with ProtectedSource will actually be invisible during editing
p2752
aVIt may be used instead, for example, to protect custom non standard tags or server side scripts
p2753
aVBy default, FCKeditor uses it to protect 
p2754
as(dp2755
g10
V479863
p2756
stp2757
a((dp2758
g2
(lp2759
VAn alternative to creating a new type would be a simple CHECK constraint on a  column:
p2760
aVThat might play better with the client side, or not
p2761
aVI think  (as suggested by a_horse_with_no_name) would be a better call for this specific case: saying exactly what you mean usually works out better than the alternatives
p2762
as(dp2763
g10
V479863
p2764
stp2765
a((dp2766
g2
(lp2767
VYou can put a regex in a :
p2768
aVThe  means "anything but a space" and  means "anything but a space followed by one or more characters that are not a space", anchoring the regex at both ends ensures that there won't be any spaces at all
p2769
as(dp2770
g10
V479863
p2771
stp2772
a((dp2773
g2
(lp2774
VYou want this:
p2775
aVreturns a  object and the string version of that is the entire match, the captured groups are available starting at index 1 when you treat the  as an array
p2776
aVI'd probably go with something more like this though:
p2777
as(dp2778
g10
V479863
p2779
stp2780
a((dp2781
g2
(lp2782
VThe  are, as noted by Richard Pianka, causing the extra vertical spaces, that's what  does
p2783
aVIf you don't want to drop them completely because you're worried about clearing your floats, then use a tag that has no inherent visual representation:
p2784
as(dp2785
g10
V479863
p2786
stp2787
a((dp2788
g2
(lp2789
VThe anchor tag gets  and  but there is also the containing  and  to consider
p2790
aVThe structure is something like this (with only relevant details included):
p2791
aVSo you can do something like this in your CSS:
p2792
aVto only adjust the corners on the first or last active item in an autocomplete list
p2793
as(dp2794
g10
V479863
p2795
stp2796
a((dp2797
g2
(lp2798
VSlurp the whole thing into a string, , and do something like this:
p2799
aVThe lines between the  and  hostname lines will be in  after that
p2800
as(dp2801
g10
V479863
p2802
stp2803
a((dp2804
g2
(lp2805
VSomething like this will get you part of the way there:
p2806
aVYou'll still have all the  stuff at the top and constraints, sequences, and indexes at the end
p2807
aVYou might be able to massage the output of
p2808
aVinto what you want with a little bit of scripting
p2809
aVYou could also root around in the system tables to get what you want but that would probably be more work than manually chopping out the middle of what  has to say
p2810
as(dp2811
g10
V479863
p2812
stp2813
a((dp2814
g2
(lp2815
VI don't think you can ask an RMagick image for its average color directly but computing such a thing isn't that difficult
p2816
aVI think the easiest way would be to extract the color histogram and then use that to compute your average
p2817
aVYou'd probably want to quantize the image first though, computing the histogram for an image with a lot of colors is not cheap and probably pointless busy work if you're just interested in an average:
p2818
aVThat'll give you the average color in
p2819
aVBut, the color will be in ImageMagick's internal format (i
p2820
ag785
aVthe components will range from zero to ) so you'll have to scale them down to 0-255:
p2821
aVAnd finally you have the RGB components in  as integers between zero and 255 and getting the average color in hex format should be trivial
p2822
aVYou could easily merge this into the averaging step if desired
p2823
aVI could probably be cleverer with the iterators but  is nice and clear and clarity is more important than cleverness
p2824
aVYou can also try with and without the quantization step and use whichever one works best for the images that you're working with
p2825
as(dp2826
g10
V479863
p2827
stp2828
a((dp2829
g2
(lp2830
VYou could just wrap the repeated stuff in a lambda, that would make the differences instantly obvious and you'd avoid repeating yourself:
p2831
aVThen one more simple step to do away with the  parameter:
p2832
aVYou could also make this a full blown method but then you'd have to properly track and reset the value of  and you'd end up with dragging a mostly useless instance variable () around; a simple closure probably makes more sense for a case like this
p2833
as(dp2834
g10
V479863
p2835
stp2836
a((dp2837
g2
(lp2838
VYou could try using the :
p2839
aVThe  is:
p2840
aVThe physical location of the row version within its table
p2841
aVNote that although the  can be used to locate the row version very quickly, a row's  will change if it is updated or moved by
p2842
aVTherefore  is useless as a long-term row identifier
p2843
aVThere's also  but that only exists if you specifically ask for it when you create the table
p2844
as(dp2845
g10
V479863
p2846
stp2847
a((dp2848
g2
(lp2849
VThe  function operates on characters, not octets (AKA bytes)
p2850
aVThe definition of a character depends on the encoding
p2851
aVChinese characters are still single characters (if the encoding is correctly set
p2852
aVbut they take up more than one octet of space
p2853
aVSo, the length of a string in Perl is dependent on the character encoding that Perl thinks the string is in; the only string length that is independent of the character encoding is the simple byte length
p2854
aVMake sure that the string in question is flagged as UTF-8 and encoded in UTF-8
p2855
aVFor example, this yields 3:
p2856
aVwhereas this yields 1:
p2857
aVas does:
p2858
aVIf you're getting your Chinese characters from a file, make sure that you  the file before reading or writing it; if you're getting your data from a database, make sure the database is returning strings in UTF-8 format (or use  to do it for you)
p2859
aVI don't think you have to have everything in UTF-8, you really only need to ensure that the string is flagged as having the correct encoding
p2860
aVI'd go with UTF-8 front to back (and even sideways) though as that's the lingua franca for Unicode and it will make things easier if you use it everywhere
p2861
aVYou might want to spend some time reading the perlunicode man page if you're going to be dealing with non-ASCII data
p2862
as(dp2863
g10
V479863
p2864
stp2865
a((dp2866
g2
(lp2867
VI don't know how to make  understand timezones but this would be pretty straight forward with :
p2868
aVYou might be able to replace your  uses with one or more of the DateTime modules too,  is the standard date manipulation library for Perl so using it for all your date-time needs makes sense; OTOH, use what works for you and there's probably no harm in using both  and  if that gets the job done
p2869
as(dp2870
g10
V479863
p2871
stp2872
a((dp2873
g2
(lp2874
VYou could add your own collation to MySQL
p2875
aVThen you could ignore whatever characters you don't care about, strip accents as needed, and generally sort things in any consistent way you desire
p2876
aVDoing the mangled-collation on the client side (i
p2877
ag785
aVin PHP rather than in the database) won't be as quick as doing it in the database
p2878
aVThis approach will also fail miserably as soon as you have to add  and  clauses to your query
p2879
aVI'm not sure if custom collations do The Right Thing for  similar functions but doing the mangled-collation in PHP certainly won't unless you want to pull over the whole table, sort it, and then grab just one entry
p2880
aVSo, I would consider doing the collation outside the database as a last resort
p2881
aVAnother option, if you don't want to build your own collation, is to build an artificial column in your table that does sort properly
p2882
aVYou could use a  function in PHP-land (something like Jacob's would be reasonable starting point) and keep the result in the database as a column called, say, ; then  would do the trick
p2883
aVYou'd want a  PHP function that produced a list like this (no punctuation, all lower case, accents stripped,
p2884
aV:
p2885
aV123 pasitos
p2886
aVafrica
p2887
aValhambra
p2888
aVarroz
p2889
aVdecirevilla
p2890
aVdecir
p2891
aVSo that a simple ASCII-betical sort will do The Right Thing
p2892
aVOf course, you would have to initialize  when doing INSERTs and regenerate it during UPDATEs but that should be fairly straight forward if your code is properly encapsulated
p2893
aVQuestion 4: I think I'm going to disagree with Jacob and say that you're not going in the right direction by moving the collation out of the database
p2894
aVI'm not saying that you're completely off track but you're better off letting MySQL handle the sorting even though you might end up giving it some help with something like the  hack outlined above
p2895
as(dp2896
g10
V479863
p2897
stp2898
a((dp2899
g2
(lp2900
VThere isn't anything in the API to change  but you could add such a thing yourself without that much effort
p2901
aVIf you look at the source, you'll see a bunch of  functions defined in an object literal:
p2902
aVSo just add this one to the list:
p2903
aVThen, further down, you'll see where , , etc
p2904
aVare defined in another object literal so just add your  definition  to that list:
p2905
aVThen, you should be able to do this as needed to change the  option:
p2906
aVDon't be afraid to study and modify the source code of the tools you use, that's the point of open source software after all
p2907
aVYou could even send the author a patch which adds your desired functionality and thus help other people as they helped you (which is another point of open source software)
p2908
as(dp2909
g10
V479863
p2910
stp2911
a((dp2912
g2
(lp2913
VWhat happens if you say:
p2914
aVinstead
p2915
aVWithout the  you're still allowing  in  so there's no reason for PostgreSQL to make them 0
p2916
aVAlso, I don't think  is a valid option for ; since the options are just a simple  and  only looks for options it knows about, your stray  option is silently ignored
p2917
as(dp2918
g10
V479863
p2919
stp2920
a((dp2921
g2
(lp2922
VLazy evaluation might work for you; just convert your  variables to lambdas so that the values are computed on use:
p2923
aVIf you're using the  values more than once then you can add memoization to the lambdas so that the values are computed on first access and then cached so that subsequent accesses would just use the value that was already computed
p2924
as(dp2925
g10
V479863
p2926
stp2927
a((dp2928
g2
(lp2929
VYou can typedef a struct before defining it:
p2930
aVThis will work fine as long as you don't try to reference the internal structure of  before  is fully defined
p2931
aVAll the compiler needs to know for your  definition is that  is a pointer to something so  is fine as long as the compiler knows that  exists
p2932
aVThis sort of construct is the standard approach for defining opaque types in C, you'd just be un-opaquing your type rather than leaving it opaque
p2933
as(dp2934
g10
V479863
p2935
stp2936
a((dp2937
g2
(lp2938
VYou expect wrong
p2939
aVFrom the fine manual:
p2940
aVEach time period is considered to represent the half-open interval start <= time < end, unless start and end are equal in which case it represents that single time instant
p2941
aVThis means for instance that two time periods with only an endpoint in common do not overlap
p2942
aVSo, if you want the closed interval, start <= time <= end, then you can either do end-point checks explicitly as Catcall suggests or you can add a single day to the upper bound:
p2943
aVBut be careful to put the end-points in the correct order as:
p2944
aVWhen a pair of values is provided, either the start or the end can be written first; OVERLAPS automatically takes the earlier value of the pair as the start
p2945
as(dp2946
g10
V479863
p2947
stp2948
a((dp2949
g2
(lp2950
VYou can change the options (such as  and ) using the  method:
p2951
aVSo, in your AJAX success handler, just pull the new dates out of  and  and send them to the appropriate datepickers as above
p2952
as(dp2953
g10
V479863
p2954
stp2955
a((dp2956
g2
(lp2957
VLooks like RFuzz isn't compatible with Ruby 1
p2958
aV9
p2959
aV2
p2960
aVThe  definition for 1
p2961
ag2959
aV2 is as you listed but for 1
p2962
aV8
p2963
aV7 it looks like this:
p2964
aVwhich matches what the RFuzz source seems to be looking for
p2965
aVSo you can either drop down to 1
p2966
aV8 for using RFuzz or you can try to port RFuzz to work with newer versions of Ruby
p2967
aVThe RFuzz website doesn't appear to have been updated since 2006 so it might not be maintained at all anymore
p2968
as(dp2969
g10
V479863
p2970
stp2971
a((dp2972
g2
(lp2973
VSounds like a job for  to me
p2974
aVWith tables like this:
p2975
aVYou could do something like this:
p2976
aVto get:
p2977
aVThen just unpack the arrays as needed
p2978
aVIf for some reason you really want a comma delimited string instead of an array, then  is your friend:
p2979
aVand you'll get something like this:
p2980
aVI'd go with the array approach so that you wouldn't have to worry about reserving a character for the delimiter or having to escape (and then unescape) the delimiter while aggregating
p2981
as(dp2982
g10
V479863
p2983
stp2984
a((dp2985
g2
(lp2986
VYou say that you're stripping the strings before checking things
p2987
aVBut, I'm guessing that you're still getting leading whitespace
p2988
aVSo, are you calling  or
p2989
aVThe plain  method returns the stripped string but does not change the string, the  version changes the string in place; if you're just using  then you might be unknowingly throwing away the stripped string and then getting confused by the leading or trailing whitespace that is still there
p2990
aVSimilar issues may apply to your use of  when you want
p2991
aVFurthermore, there's no need to use both  and , just  (or ) is sufficient as  is, more or less, just a restricted version of  which in turn is, essentially, just a  applied to only the end of the string
p2992
as(dp2993
g10
V479863
p2994
stp2995
a((dp2996
g2
(lp2997
VIf you're using Rails (or don't mind pulling in ActiveSupport), then you can use  (AKA ):
p2998
aVhandles arrays a little differently than your version though, it'll put out  rather than just
p2999
as(dp3000
g10
V479863
p3001
stp3002
a((dp3003
g2
(lp3004
VYou want the three argument form of :
p3005
aVAlways use the three argument version of  to avoid issues like this
p3006
as(dp3007
g10
V479863
p3008
stp3009
a((dp3010
g2
(lp3011
VYou have this odd construct in your CSS:
p3012
aVThe margin setting is fine and sensible but the width is rather, um, strange
p3013
aVThe  element is, essentially, the entire page so it is naturally as wide as the browser window, then the 223% is applied and the page itself becomes more than twice as wide as the browser window
p3014
aVThen, all the block elements that are immediate children of  will be over twice as wide as the window unless you specify or imply a width in some other way
p3015
aVIn particular, the  element will be too wide and the menu inside  will float to the right all the way out of the window and you'll have to scroll horizontally to see it
p3016
aVSimilar positioning strangeness happens with
p3017
aVStart by getting rid of the  on
p3018
aVThe page looks fine in Safari and Chrome if I turn off just that single piece of CSS
p3019
aVUPDATE: You might want to add another  inside , then add , , and  to that to keep the main content centered and reasonably sized
p3020
aVEverything that is currently inside  would go inside this new
p3021
aVIf you go with this approach then you probably won't need any CSS at all on , it would just need to be around to help center the "real" page
p3022
as(dp3023
g10
V479863
p3024
stp3025
a((dp3026
g2
(lp3027
VNot with PostgreSQL, from the manual:
p3028
aVVery long values are also stored in background tables so that they do not interfere with rapid access to shorter column values
p3029
aVSo a large character column (such as  or  without a specified size limit) is stored away from the main table data
p3030
aVSo, PostgreSQL has your "put it in a separate table" optimization built in
p3031
aVIf you're using PostgreSQL, arrange your table sensibly and leave the data layout to PostgreSQL
p3032
aVI don't know how MySQL or other RDBMs arrange their data
p3033
aVThe reason behind this optimization is that the database will usually keep the data for each row in contiguous blocks on disk to cut down on seeking when the row needs to be read or updated
p3034
aVIf you have a TEXT (or other variable length type) column in a row then the size of the row is variable so more work is needed to go from row to row
p3035
aVAn analogy would be the difference between accessing something in a linked list versus accessing an array; with a linked list, you have to read three elements one at a time to get to the fourth one, with an array you just offset  bytes from the beginning and you're there in one step
p3036
as(dp3037
g10
V479863
p3038
stp3039
a((dp3040
g2
(lp3041
VRules by default add things to the current action:
p3042
aVRoughly speaking, a rule causes additional commands to be executed when a given command on a given table is executed
p3043
aVBut an INSTEAD rule allows you to replace the action:
p3044
aVAlternatively, an INSTEAD rule can replace a given command by another, or cause a command not to be executed at all
p3045
aVSo, I think you want to specify INSTEAD:
p3046
aVWithout the INSTEAD, your rule is essentially saying "do the INSERT and then do nothing" when you want to say "instead of the INSERT, do nothing" and, AFAIK, the  will do that
p3047
aVI'm not an expert on PostgreSQL rules but I think adding the "INSTEAD" should work
p3048
aVUPDATE: Thanks to araqnid we know that:
p3049
aVCOPY FROM will invoke any triggers and check constraints on the destination table
p3050
aVHowever, it will not invoke rules
p3051
aVSo a rule isn't going to work in this situation
p3052
aVHowever, triggers are fired during COPY FROM so you could write a BEFORE INSERT trigger that would return NULL when it detected duplicate rows:
p3053
aVIt can return NULL to skip the operation for the current row
p3054
aVThis instructs the executor to not perform the row-level operation that invoked the trigger (the insertion or modification of a particular table row)
p3055
aVThat said, I think you'd be better off with araqnid's "load it all into a temporary table, clean it up, and copy it to the final destination" would be a more sensible solution for a bulk loading operation like you have
p3056
as(dp3057
g10
V479863
p3058
stp3059
a((dp3060
g2
(lp3061
VYour  is an integer so you don't need  or , you do, however, want  to force things into floating point mode:
p3062
aVAnd if you want a percentage, then you'll have to multiply by 100:
p3063
aVYou should also properly indent your code for readability and break things up with line breaks to make it easier to read and easier for the parser to figure out:
p3064
as(dp3065
g10
V479863
p3066
stp3067
a((dp3068
g2
(lp3069
VFrom the fine manual:
p3070
aVWhen GetOptions() encounters the option, it will call the subroutine with two or three arguments
p3071
aVThe first argument is the name of the option
p3072
aV(Actually, it is an object that stringifies to the name of the option
p3073
aVFor a scalar or array destination, the second argument is the value to be stored
p3074
aVFor a hash destination, the second arguments is the key to the hash, and the third argument the value to be stored
p3075
aVSo, the behavior that you're seeing is documented and you should be safe with it
p3076
as(dp3077
g10
V479863
p3078
stp3079
a((dp3080
g2
(lp3081
VTry adding this to the end of your :
p3082
aVIf that doesn't work, then ask Spotlight to find a file named "heroku" and add the appropriate directory to your
p3083
aVIf you have some time and feel like being an old-school unix dude for a bit:
p3084
aVYou could also use Cinderella to set up your Ruby/PostgreSQL/MySQL/MongoDB/
p3085
aVenvironment
p3086
aVThat will give you the latest versions of everything and set up your paths sensibly
p3087
aVI had some issues getting Cinderella going but it has been a lifesaver and it is very nice how it puts everything in  rather than scattering everything all over the place
p3088
as(dp3089
g10
V479863
p3090
stp3091
a((dp3092
g2
(lp3093
VYou can also hijack CSS's  and  for this purpose
p3094
aVThe HTML would be like this:
p3095
aVAnd the CSS:
p3096
aVIf you want horizontal centering as well, then add this:
p3097
aVSome would call this an abuse of CSS but:
p3098
aVIt will work exactly the same pretty much everywhere
p3099
aVRequires minimal markup and styling
p3100
aVAnd CSS's vertical alignment deserves a bit of abuse; vertical alignment shouldn't require the hacking, contortions, and absolute sizing that it does
p3101
aVReferences:
p3102
aVFlexible height vertical centering with CSS, beyond IE7
p3103
aVWolf in Sheep\u2019s Clothing
p3104
as(dp3105
g10
V479863
p3106
stp3107
a((dp3108
g2
(lp3109
V"TsÃ gÃ¶" is "Tsígö" interpreted as an ISO-8859-1 (AKA Latin-1) encoded string
p3110
aVSo, is the server actually UTF-8 aware or is it blindly treating everything as Latin-1 despite the specified encoding
p3111
as(dp3112
g10
V479863
p3113
stp3114
a((dp3115
g2
(lp3116
VYes, you are missing a gross inefficiency
p3117
aVTry this in irb to see what you're doing:
p3118
aVThe range operator is going from January 1 to now in increments of one second and that's a huge list
p3119
aVUnfortunately, Ruby isn't clever enough to combine the range generation and the one-week chunking into a single operation so it has to build the entire ~6million entry list
p3120
aVBTW, "straight forward" and "gross inefficiency" are not mutually exclusive, in fact they're often concurrent conditions
p3121
aVUPDATE: If you do this:
p3122
aVThen the output is produced almost instantaneously
p3123
aVSo, it appears that the problem is that Range doesn't know how to optimize the chunking when faced with a range of Time objects but it can figure things out quite nicely with Fixnum ranges
p3124
as(dp3125
g10
V479863
p3126
stp3127
a((dp3128
g2
(lp3129
VYou need to do a couple small things to make this work
p3130
aVFirst, get rid of the  and  on , then add the positioning that GolezTrol suggests:
p3131
aVNow you'll see that  is to the upper-left of the
p3132
aVWhy is this
p3133
aVWell, your   contains only absolutely positioned elements so it has a width and height of zero; the obvious solution is to tell the  how big it should be:
p3134
aVLive example (with broken images of course): http://jsfiddle
p3135
aVnet/ambiguous/MBGVX/
p3136
as(dp3137
g10
V479863
p3138
stp3139
a((dp3140
g2
(lp3141
VRails (ActiveRecord to be more precise) is adding an  column to your table and making this column the primary key
p3142
aVFor PostgreSQL, this column will have type
p3143
aVA  column is essentially a four byte integer combined with a sequence to automatically provide auto-incrementing values
p3144
aVThe first notice:
p3145
aVNOTICE:  CREATE TABLE will create implicit sequence "notification_settings_id_seq" for serial column "notification_settings
p3146
aVid"
p3147
aVis just telling you that PostgreSQL is creating a sequence behind the scenes to make the  column function
p3148
aVThe second notice:
p3149
aVNOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "notification_settings_pkey" for table "notification_settings"
p3150
aVis just telling you that PostgreSQL is creating an index to help implement the primary key even though you didn't explicitly ask it to
p3151
aVYou can just ignore these notices, they're just informational
p3152
aVIf you want to suppress them, you can add  to the appropriate section of your
p3153
as(dp3154
g10
V479863
p3155
stp3156
a((dp3157
g2
(lp3158
VThis is related to this question about TEXT in PostgreSQL, or at least the answer is similar
p3159
aVPostgreSQL stores large columns away from the main table storage:
p3160
aVVery long values are also stored in background tables so that they do not interfere with rapid access to shorter column values
p3161
aVSo you can expect a  (or  or large ) column to always be stored away from the main table and something like  will take two seeks to pull both columns off the disk (and more seeks to resolve their locations)
p3162
aVIf your UPDATEs really are causing your SELECTs to slow down then perhaps you need to review your vacuuming strategy
p3163
as(dp3164
g10
V479863
p3165
stp3166
a((dp3167
g2
(lp3168
VYour problem is that Rails (or ActiveRecord) doesn't understand foreign keys inside the database, nor does it understand CHECK constraints or anything else fancier than a unique index
p3169
aVRails is generally nice to work with but sometimes there is more attitude than good sense in Rails
p3170
aVThere is Foreigner for adding FK support to ActiveRecord but that doesn't know about Oracle
p3171
aVYou might be able to adapt the PostgreSQL support to Oracle but I don't know my way around Oracle so that might not be a good idea
p3172
aVForeigner also doesn't support CHECK constraints (yet)
p3173
aVThe quick solution would be to dump the FKs and CHECKs as raw SQL and pump that SQL into your test and production databases
p3174
aVThen wrap a quick script around that that does a  followed by the raw SQL FK and CHECK copying
p3175
aVSorry that there's no easy way to do this but once you get outside the bounds of what a framework wants to do things get ugly (and the more comprehensive the framework, the uglier things get)
p3176
aVA little bit of SQL wrangling wrapped around the usual rake command isn't that nasty though
p3177
as(dp3178
g10
V479863
p3179
stp3180
a((dp3181
g2
(lp3182
VI think you're looking for
p3183
aVThe  array function just expands an array into its elements
p3184
aVOr a more concrete example:
p3185
as(dp3186
g10
V479863
p3187
stp3188
a((dp3189
g2
(lp3190
VI'd go with two tables: one for comment threads and another for the comments
p3191
aVThe comment threads would look something like this:
p3192
aVand comments:
p3193
aVThen attach the thread to the page by adding a  column to the page table
p3194
aVHaving a separate distinct comment thread gives you a convenient place to attach access control or similar extensions in the future, it also allows you to attach comment threads to things
p3195
aVAttaching the comment threads to the page rather than the other way around makes it easy to add comment threads to other objects in your system later on
p3196
as(dp3197
g10
V479863
p3198
stp3199
a((dp3200
g2
(lp3201
VDon't use a filter for that, write a custom plugin instead:
p3202
aVOr add a custom vmethod:
p3203
aVFilters are meant for text mangling such as HTML encoding and the like
p3204
as(dp3205
g10
V479863
p3206
stp3207
a((dp3208
g2
(lp3209
VDo you really need unique sequential IDs
p3210
aVYou can use UUIDs for uniqueness and timestamps to check for new messages
p3211
aVIf you keep the clocks on all your servers properly synchronized then timestamps with a one second resolution should work just fine
p3212
aVIf you really do need unique sequential IDs then you'll probably have to set up a Flickr style ticket server to properly manage the central list of IDs
p3213
aVThis would, essentially, move your  into a database with proper transaction handling
p3214
as(dp3215
g10
V479863
p3216
stp3217
a((dp3218
g2
(lp3219
VYou could probably use  for the border effect you want, there's no need for nested block trickery or anything like that
p3220
aVYour  element won't auto-center with a simple  because it is a block element and hence its default width is the width of its parent, this causes the  left and right margins to come out as zero
p3221
aVThe  will work if you wrap the insides in a block and give it an explicit width (for example: http://jsfiddle
p3222
aVnet/ambiguous/aMemg/)
p3223
as(dp3224
g10
V479863
p3225
stp3226
a((dp3227
g2
(lp3228
Vhoha has it right but I'll try to expand and clarify a bit
p3229
aVThe interpreter will create the  symbol when it parses
p3230
aVThen, when you run it,  is called to get a list of all known symbols and  is in the list
p3231
aVAlso note that the double quotes on  are a syntax issue rather than an internal representation issue so  and  are the same thing
p3232
aVIf you comment out this one:
p3233
aVthen the  symbol will not be seen by the parser and so it won't be in the  array
p3234
aVThe  method call on the following line is executed when  is executed; so, the  symbol is created after you get your  and this will fail:
p3235
aVIf you execute  again in the same interpreter instance (with the second  still commented out) then both uncommented  calls will pass as the first run through  will create the  and the second  will include it in the returned array
p3236
aVRunning your code in  without wrapping it in a  might help you see what's going on
p3237
as(dp3238
g10
V479863
p3239
stp3240
a((dp3241
g2
(lp3242
VDave Thomas's plus:
p3243
aVCSS:
p3244
aVCSS Tricks
p3245
aVJavaScript:
p3246
aVJavaScript, JavaScript (not a busy but excellent content)
p3247
as(dp3248
g10
V479863
p3249
stp3250
a((dp3251
g2
(lp3252
VYou can do this with cookies but you have to delete the cookie properly
p3253
aVSetting an expiry date in the past works with some browsers but not others as you've found, the proper way to delete a cookie with the jQuery cookie plugin is to send in a ; from the fine manual:
p3254
aV@example $
p3255
aVcookie('the_cookie', null);
p3256
aV@desc Delete a cookie by passing null as value
p3257
aVKeep in mind that you have to use the same path and domain used when the cookie was set
p3258
aVSo delete it with this:
p3259
aVand the cookie approach should work fine
p3260
as(dp3261
g10
V479863
p3262
stp3263
a((dp3264
g2
(lp3265
VSounds like you're getting an SQL dump rather than a binary dump from
p3266
aVThat would give you a big pile of SQL with the schema (including FKs) at the top followed by a bunch of INSERTs to reload the data
p3267
aVA binary dump from  would serve you better, it looks like you need a bit of extra configuration to tell PhpPgAdmin where  is
p3268
aVThen you'd feed that binary dump into  and  would rebuild everything in the proper order to avoid referential integrity issues (or, more accurately,  would restore all the data then add the constraints)
p3269
aVPhpPgAdmin seems to want to work with plain SQL dumps rather than
p3270
aVI find this hard to believe but I can't find anything in the documentation about invoking
p3271
aVIf this is true then you'll probably have to hand-edit the SQL dump and move all the FKs to the end
p3272
aVYou could also try adding  at the top of your SQL dump, that should delay constraint checking until the end of the transaction, you'll also want to make sure that the entire block of INSERTs is contained within a transaction
p3273
aVIf PhpPgAdmin really can't invoke  then you're better off using using  and  by hand so that you have the necessary control over your backup procedures
p3274
aVSorry but any database admin tool that can't handle backing up a database with FKs is worse than useless
p3275
aVHopefully someone that knows their way around PhpPgAdmin will show up and let us know how to use  with PhpPgAdmin
p3276
as(dp3277
g10
V479863
p3278
stp3279
a((dp3280
g2
(lp3281
VA bit of simple sed(1) is all you need for that:
p3282
aVOr you can use Perl if you really want to:
p3283
aVOr you can even do it with cut(1), xargs(1), and printf(1):
p3284
aVWe could probably be here all night coming with clever combinations of shell tools to perform the desired transformation, I'd probably just go with the perl one and move on to more productive things
p3285
aVThe  approach can probably be done better but my sed is rusty
p3286
as(dp3287
g10
V479863
p3288
stp3289
a((dp3290
g2
(lp3291
VYou can call  with your new parameters and then use  normally
p3292
as(dp3293
g10
V479863
p3294
stp3295
a((dp3296
g2
(lp3297
VIf your table is called , then you can put this in your migration's  class method:
p3298
aVMySQL should be able to convert from  to  automatically
p3299
aVIn an SQL SET clause, the columns are specific to a single row and the SET applies to all matched rows; without a WHERE clause the UPDATE applies to all rows in the table
p3300
aVRemember that SQL is set-based so everything operates on sets of rows and loops don't really fit the model
p3301
aVI'm assuming that you're using ActiveRecord as you have a timestamp called
p3302
aVIf you're not using ActiveRecord then you'll have to find another way to send the SQL UPDATE to the database
p3303
as(dp3304
g10
V479863
p3305
stp3306
a((dp3307
g2
(lp3308
VSomeone else had almost the same problem and fixed it by rebuilding their Ruby iconv library:
p3309
aVI'm not a FreeBSD guru so this may or may not work for you
p3310
as(dp3311
g10
V479863
p3312
stp3313
a((dp3314
g2
(lp3315
VYou can use POSIX regular expressions with PostgreSQL's :
p3316
aVOr with a very liberal interpretation of what a word is:
p3317
aVNote the  (non-whitespace) instead of  ("word" character, essentially alphanumeric plus underscore)
p3318
aVDon't forget all the extra quoting nonsense though:
p3319
aVThe  to tell PostgreSQL that you're using extending escaping
p3320
aVAnd then double backslashes to get single backslashes past the string parser and in to the regular expression parser
p3321
aVIf you really want to use , then you can but the above quoting issues apply and I think you'd want to slice off just the first two elements of the array:
p3322
aVI'd guess that the escaping was causing some confusion; I usually end up adding backslashes until it works and then I pick it apart until I understand why I needed the number of backslashes that I ended up using
p3323
aVOr maybe the extra parentheses and array slicing syntax was an issue (it was for me but a bit of experimentation sorted it out)
p3324
as(dp3325
g10
V479863
p3326
stp3327
a((dp3328
g2
(lp3329
VYou can do it the slow way:
p3330
aVor the fast way:
p3331
aVThe fast way simply does a  inside the database, the slow way pulls the whole result set out of the database, turns it into objects, and then counts them
p3332
aVThere's also the modern Rails3+ way:
p3333
aVThat does a  inside the database
p3334
aVDon't use this one though:
p3335
aVThat will do a  and that's nothing at all like what you want
p3336
as(dp3337
g10
V479863
p3338
stp3339
a((dp3340
g2
(lp3341
VThe Enumerable methods only iterate if you provide a block, otherwise they return an iterator that is similar to the C++ ones
p3342
aVFor example, in :
p3343
aVThe tricky thing is that  is pretty much like  in C++ as it returns the current value and increments the iterator
p3344
aVThere is a  method but that resets the iterator to the beginning rather than going back just one step
p3345
aVI don't know of a convenient way to detect the end of an iterator (except catching the  exception) or determining how large the iterator is
p3346
aVPresumably, you're supposed to grab the iterator, pass it to some method, and the method does a  of some sort
p3347
aVSo, there are iterators but you can't really transliterate your C++ straight into Ruby
p3348
aVOTOH, you shouldn't transliterate your C++ into Ruby, you should write Ruby in Ruby and C++ in C++
p3349
as(dp3350
g10
V479863
p3351
stp3352
a((dp3353
g2
(lp3354
VYour locale data is for English (en) but your strings are, I think, Norwegian (no)
p3355
aVWhat locale is your application running as
p3356
aVWhat language is your browser asking for
p3357
aVWhat happens if you add an  section for the Norwegian
p3358
aVAs a wild guess I'd think that you application ends up trying to use the Norwegian locale but it can't find any configuration for Norwegian so it uses the hard-coded en_US stuff as a fallback
p3359
aVI'd also guess that everything works out on your machine because the default fall-back locale is no_NO; what happens on your local machine if you change the short date format in your  locale section
p3360
aVMore guesses that answers here but this was a little too big and involved for a comment
p3361
as(dp3362
g10
V479863
p3363
stp3364
a((dp3365
g2
(lp3366
VYou can do this with a little bit of CSS, all you need to do is reduce the font size:
p3367
aVYou can also drop the padding:
p3368
aVThese adjustments are specific to your dialog (hence the  in the CSS selector) to avoid messing up any other jQuery-UI buttons you're using
p3369
aVIf you want to make all the buttons smaller, then apply the changes to your jQuery-UI theme CSS
p3370
aVThe easiest way to figure out which classes to adjust is to use a DOM inspector (Firebug has one, WebKit has a better (IMHO) one)
p3371
as(dp3372
g10
V479863
p3373
stp3374
a((dp3375
g2
(lp3376
VPut the  on the  and absolutely position the legend:
p3377
aVUpdated fiddle: http://jsfiddle
p3378
aVnet/ambiguous/YHhPP/
p3379
aVThis renders the same way in Gecko and WebKit for me, the original fiddle has the gap in WebKit but the legend is ignoring the  in Gecko
p3380
aVYou can also try floating the legend: http://jsfiddle
p3381
aVnet/ambiguous/Gwv4M/1/
p3382
aVBut IE7 and IE8 seem to butcher that one too
p3383
as(dp3384
g10
V479863
p3385
stp3386
a((dp3387
g2
(lp3388
VMight be easies to just tweak your CSS a bit
p3389
aVPresumably you have something like this in your stylesheet:
p3390
aVSo just change the selector to adjust how the header and body cells are styled:
p3391
aVIf you don't want any styling applied to the header cells then include the  bit in your stylesheet and leave the  out; there's nothing wrong with having a CSS class attached to an element that doesn't match anything in your stylesheets
p3392
as(dp3393
g10
V479863
p3394
stp3395
a((dp3396
g2
(lp3397
VYou can control serialization and deserialization with Storable's hooks
p3398
aVI haven't used the hooks myself but they should do the trick
p3399
aVYou might be able to copy your object's data to a simple hash (without the logging bits), call  on that hash, and return that as the serialized form; then, in the thawing hook you'd just reverse that process and wire up your logging stuff
p3400
aVA bit of experimentation might yield a prettier solution but this "freeze a hash-ified version of the object" approach should work and it will give you a starting point
p3401
aVYou can also detect cloning in the hooks and do whatever needs to be done with the logging
p3402
as(dp3403
g10
V479863
p3404
stp3405
a((dp3406
g2
(lp3407
VYou can't really pass a value by reference in JavaScript but you can pass something that is already a reference
p3408
aVFor example, you could use an object literal to simulate a pointer:
p3409
as(dp3410
g10
V479863
p3411
stp3412
a((dp3413
g2
(lp3414
VIf you look at the "raw" output from , you'll see this:
p3415
aVGranted that that's not the  but it should give you a hint
p3416
aVTry this instead:
p3417
aVIf that works then you just have a format issue
p3418
aVKeep in mind that SQLite stores everything as a string internally, it accepts the usual data types in column definitions but everything is a string internally; so, somewhere along the line, the SQLite driver is going to say:
p3419
aVand get
p3420
aVThen it will look for that string in the  column but it won't find it because  contains dates in ISO-8601 format
p3421
as(dp3422
g10
V479863
p3423
stp3424
a((dp3425
g2
(lp3426
VFrom the fine manual:
p3427
aVholds a Date object for the current day
p3428
aVEmphasis mine
p3429
aVI'd guess that the IETF format you're seeing is just the default stringification of the  object
p3430
aVThe Date class has , , and  methods so you can easily produce an ISO-8601 date string if you're careful with the zero-padding of course
p3431
as(dp3432
g10
V479863
p3433
stp3434
a((dp3435
g2
(lp3436
VFor column , ActiveRecord creates , , and  methods
p3437
aVSo, update your fix to this:
p3438
as(dp3439
g10
V479863
p3440
stp3441
a((dp3442
g2
(lp3443
VIf you look at the assignment to , you'll see this:
p3444
aVThe  at the end will put a  into  if the  file isn't there or it can't be read or what ever
p3445
aVThen the script will call the  method on  but the  object has no such method and the script falls over and dies
p3446
aVYou can suppress the problem by changing  to  or by changing  to  but that might not be the real problem
p3447
aVDo you have a  environment variable set
p3448
aVIs there a  command in your
p3449
aVLooks like your Tidy install isn't right (or possible not there at all)
p3450
aVMy OSX has  and apparently that's standard
p3451
aVTry running that big  command by hand in a terminal and see what happens
p3452
as(dp3453
g10
V479863
p3454
stp3455
a((dp3456
g2
(lp3457
VLook at the error message closely:
p3458
aVexecvp failed, errno = 2 (No such file or directory) gm convert: "gs" "-q"
p3459
aVgm convert: Postscript delegate failed (example
p3460
aVpdf)
p3461
aVThe message is telling you that the PostScript builder failed because it couldn't find GhostScript ()
p3462
aVSo, you need to install GhostScript, probably from MacPorts
p3463
as(dp3464
g10
V479863
p3465
stp3466
a((dp3467
g2
(lp3468
VI think you want , that has  and  (inherited from ) methods
p3469
aVYou might have to do the horizontal alignment by hand but you could make your own subclass of  or  to hide the ugly details
p3470
as(dp3471
g10
V479863
p3472
stp3473
a((dp3474
g2
(lp3475
VYou could use  as well:
p3476
aVis SQL's version of set subtraction
p3477
aVWhich of the various approaches (, ,
p3478
aVyou should use depends, as usual, on your specific circumstances, what your database supports, and which one works best for you
p3479
aVAnd eugene y has already mentioned the SQL injection issue with your code so I'll just consider that covered
p3480
aVI linked to the PostgreSQL documentation even though this isn't a PostgreSQL question because the PostgreSQL documentation is quite good
p3481
aVSQLite does support :
p3482
aVThe EXCEPT operator returns the subset of rows returned by the left SELECT that are not also returned by the right-hand SELECT
p3483
aVDuplicate rows are removed from the results of INTERSECT and EXCEPT operators before the result set is returned
p3484
as(dp3485
g10
V479863
p3486
stp3487
a((dp3488
g2
(lp3489
VSomewhere in your controllers you have something that looks like this:
p3490
aVAll you need to do is update the  too:
p3491
aVThey're signed in once  is set
p3492
as(dp3493
g10
V479863
p3494
stp3495
a((dp3496
g2
(lp3497
VI don't see anything in the documentation that guarantees an order for  so I don't think you can depend on it
p3498
aVOdds are that the  order will match the  order but I don't see any guarantees about what order the  will be inserted in either; the  are almost certainly going to be insert in order from left to right but again, there is no documented guarantee
p3499
aVAlso, the relational model is set based so ordering is something applied by the user rather than an inherent property of a relation
p3500
aVIn general, if there is no way to explicitly specify an ordering, there is no implied ordering
p3501
aVExecute summary: the ordering you're seeing is probably what will always happen but it is not guaranteed so don't depend on it
p3502
as(dp3503
g10
V479863
p3504
stp3505
a((dp3506
g2
(lp3507
VYour problem is that  only passes one argument to the block; hence  is always ,   always fails, and  is never called
p3508
aVI think you want something more like this:
p3509
aVThe  essentially replaces your faulty  check and converts the first component of the line to an integer
p3510
aVIf  looks like this:
p3511
aVThen  ends up looking like this:
p3512
aVand that seems to be what you're after
p3513
as(dp3514
g10
V479863
p3515
stp3516
a((dp3517
g2
(lp3518
VThere's also  from the standard library:
p3519
as(dp3520
g10
V479863
p3521
stp3522
a((dp3523
g2
(lp3524
VThe problem is probably in your , I'd guess that it looks something like this:
p3525
aVbut you want it to look more like this:
p3526
aVYou'll probably want to apply the same change to the  and  sections as well; Heroku won't pay attention to the adapter but consistency is a good idea
p3527
aVAs far as the second question goes, I think you're better off developing and deploying on identical platforms
p3528
aVYou can usually get away with developing on OSX or Windows but deploying on Linux if you're careful but you should have the same gem versions, same Ruby version, same Rails version, same database (including the version
p3529
aV, etc
p3530
aVAnything else is going to cause you a lot of pain and suffering sooner or later
p3531
aVSo, kudos for developing on PostgreSQL when you're deploying on Heroku, good call
p3532
as(dp3533
g10
V479863
p3534
stp3535
a((dp3536
g2
(lp3537
VWouldn't it make more sense to have full_name on User
p3538
aVThen each Profile will have a User and the Profile can just delegate the full_name accessor to its User; or the view could just use  instead of
p3539
as(dp3540
g10
V479863
p3541
stp3542
a((dp3543
g2
(lp3544
VWhen you say  you're getting an iterator back and  calls  on its content to produce a string
p3545
aVSo, something like this:
p3546
aVis pretty much like this:
p3547
aVAnd so you get a pile of memory addresses and nonsense
p3548
aVSee dmarkow's answer for a better idea of what you should be doing but if you're using Rails 2 then you'll want
p3549
aVas, AFAIK,  was added in Rails 3
p3550
as(dp3551
g10
V479863
p3552
stp3553
a((dp3554
g2
(lp3555
VYou're trying to execute a directory and the shells are saying no; bash says no by saying "/db_backups: is a directory" whereas  says "/db_backups: Permission denied"
p3556
aVIf you just execute the backedticked part:
p3557
aVYou'll almost certainly see no output at all and the reason is probably that your regular expression is too tight, something like this:
p3558
aVWould serve you better; the character classes contain a space and a tab
p3559
aVNow that you're looking for the right things we can move on to why it still won't work
p3560
aVThe  quoter tries to execute its argument using the shell
p3561
aVWhen you feed the backticked grep stuff:
p3562
aVto the shell, you should get a directory name that ends with  but you can't execute a directory
p3563
aVI think you want this to produce the directory name:
p3564
aVNote the leading  and the  call on the returned string
p3565
aVThe  is necessary to remove the newline from what  produces
p3566
aVI think you're going through a lot of trouble for something that could easily be done with just a couple lines of Ruby:
p3567
aVYou could probably tighten that up a bit if you wanted but I think that that's at least less confusing than putting shell backticks inside Ruby backticks
p3568
as(dp3569
g10
V479863
p3570
stp3571
a((dp3572
g2
(lp3573
VNo, you can't get the ID before saving
p3574
aVThe ID number comes from the database but the database won't assign the ID until you call
p3575
aVAll this is assuming that you're using ActiveRecord of course
p3576
as(dp3577
g10
V479863
p3578
stp3579
a((dp3580
g2
(lp3581
VYou can always turn your mega-method into a little interpreter:
p3582
aVBut I think egarcia's approach makes the most sense; there's really
p3583
aVno need to mash all this stuff into one method
p3584
aVThe commonalities
p3585
aVreally are quite minimal so four methods in one controller makes
p3586
aVmore sense: one action, one method
p3587
aVDRY is just a guideline, it isn't
p3588
aVdogma to be followed at all costs
p3589
as(dp3590
g10
V479863
p3591
stp3592
a((dp3593
g2
(lp3594
VAt first glance at a gallery page, it looks like the entire page content is initially hidden
p3595
aVWhen the browser is loading the page, it will start looking for the element identified in the URL fragment; that element will be hidden or not visible and hence it won't have any useful position to scroll to and nothing happens to the scroll position
p3596
aVI think the easiest thing to do would be to handle the scrolling yourself in the  callback:
p3597
aVGrab the fragment out of
p3598
aVFind out where it is on the page with something like:
p3599
aVThen scroll the page to that position:
p3600
aVYou could even animate the  change if you wanted to get fancy
p3601
aVHere's an example to get you started:
p3602
aVIf you wanted to animate the scrolling then you'd change the  part to something like this:
p3603
as(dp3604
g10
V479863
p3605
stp3606
a((dp3607
g2
(lp3608
VLooks like a table to me so why not use a table
p3609
aVYou could probably create some dl/ul/
p3610
aVmonstrosity to poorly simulate a table but you'd have to manually size everything and lose your sanity getting the floating and sizes to work properly in more than one browser
p3611
aVHTML has a full suite of table elements
p3612
aVYou have tabular data
p3613
aVPutting tabular data into a table sounds like semantic mark up to me
p3614
as(dp3615
g10
V479863
p3616
stp3617
a((dp3618
g2
(lp3619
VThe SQL standard specifies that  is false for all  (even if  is itself ) and SQL Server is just following the standard
p3620
aVIf you want to check if something is or is not , then you have to use  or
p3621
as(dp3622
g10
V479863
p3623
stp3624
a((dp3625
g2
(lp3626
VHow about:
p3627
as(dp3628
g10
V479863
p3629
stp3630
a((dp3631
g2
(lp3632
VFloat  to the left:
p3633
aVThen float  to the left and give it a  to match :
p3634
aVThen add a clearing  immediately after  to clean up the floats:
p3635
aVhttp://jsfiddle
p3636
aVnet/ambiguous/CdqJk/1/
p3637
aV(Original backwards version below)
p3638
aVFirst, move  above  in the HTML
p3639
aVThen:
p3640
aVThe  on  is to make enough room for the , the real margin value will depend on how big the logo image really is
p3641
aVhttp://jsfiddle
p3642
aVnet/ambiguous/CdqJk/
p3643
as(dp3644
g10
V479863
p3645
stp3646
a((dp3647
g2
(lp3648
VFrom the fine manual:
p3649
aVDate and time input is accepted in almost any reasonable format, including ISO 8601, SQL-compatible, traditional POSTGRES, and others
p3650
aVFor some formats, ordering of day, month, and year in date input is ambiguous and there is support for specifying the expected ordering of these fields
p3651
aVSet the DateStyle parameter to MDY to select month-day-year interpretation, DMY to select day-month-year interpretation, or YMD to select year-month-day interpretation
p3652
aVPostgreSQL is more flexible in handling date/time input than the SQL standard requires
p3653
aVSee Appendix B for the exact parsing rules of date/time input and for the recognized text fields including months, days of the week, and time zones
p3654
aVSo PostgreSQL should be able to deal with just about any date format you throw at it
p3655
aVYour "dd/mm/yy" format is, however, ambiguous
p3656
aVBut, there is the  configuration parameter to help with such ambiguity
p3657
aVFor example:
p3658
aVThat said, I'd recommend moving everything to ISO 8601 (YYYY-MM-DD) internally and handle the conversions at the edges of the application
p3659
aVOTOH, there is reality to contend with so you should do whatever you have to do to make it go
p3660
as(dp3661
g10
V479863
p3662
stp3663
a((dp3664
g2
(lp3665
VDo you really need to delete items from the original array or are
p3666
aVyou really just trying to split it into two pieces based on some
p3667
aVcondition
p3668
aVIf the latter, then:
p3669
aVor
p3670
aVAnd then a simple method wrapper to make it easy to supply a block:
p3671
aVOr you could just use  to split the array into two pieces
p3672
aVIf you really need to modify the array in-place then this version of Wes's should do the trick:
p3673
as(dp3674
g10
V479863
p3675
stp3676
a((dp3677
g2
(lp3678
VA GUID/UUID is a 16 byte integer so  is probably what you want
p3679
aVHowever, you should compare the results with what C# is getting to make sure you get the byte order right
p3680
aVI'd guess that C# is treating the UUID as a simple list of 16 bytes rather than a big integer so byte order probably isn't an issue; OTOH, best to check and be sure
p3681
aVDepending on what you need to do with the GUID you might not have to unpack it at all, just treating it as an opaque sequence of 16 bytes may be sufficient
p3682
as(dp3683
g10
V479863
p3684
stp3685
a((dp3686
g2
(lp3687
VThe declaration  tells the compiler that there exists a function  which takes a  and returns an
p3688
aVThe definition  tells the compiler what  actually is and also provides the declaration as well
p3689
aVThe difference between a declaration and definition is the difference between saying that a size 6 blue hat exists and and handing some a size 6 blue hat: the declaration says that there is such a thing, the definition says that this thing right here is the thing in question
p3690
as(dp3691
g10
V479863
p3692
stp3693
a((dp3694
g2
(lp3695
VThe  construct is used for arithmetic; , for example, returns 2
p3696
aVYou can also say  or
p3697
aVThe  command version is old-school and should work in any shell, the  and  versions work in bash but I'm not sure if they're covered by POSIX
p3698
aVUpdate: The  form is a bash extension, the  form is specified for the POSIX shell
p3699
as(dp3700
g10
V479863
p3701
stp3702
a((dp3703
g2
(lp3704
VAFAIK the reasoning is that  is constant so calling  on a symbol is a simple property lookup and quite fast; symbols are optimized for this particular use
p3705
aVThe hash value for a string needs to be computed so calling  on a string involves real work and strings don't appear to cache their hash values
p3706
aVThe  value for a Fixnum appears to be computed with some simple bit mangling on the Fixnum's internal object ID (a constant) so it should also be quick
p3707
aVDon't take any of this as authoritative, I just did a quick review of the 1
p3708
ag2959
aV2 source but I'm hardly an expert on the Ruby internals
p3709
aVThat said, I'd use Fixnums as hash keys
p3710
aVThat gives you a natural representation for a sparse array that is also efficient in terms of memory
p3711
aVAny speed differences will probably be irrelevant noise
p3712
aVSo, go with the clearest approach and worry about optimization when there is a real speed problem
p3713
as(dp3714
g10
V479863
p3715
stp3716
a((dp3717
g2
(lp3718
VIt\u2019s doing integer division
p3719
aVYou can use  to force things into floating-point mode:
p3720
aVThis also works if your values are variables instead of literals
p3721
aVConverting one value to a float is sufficient to coerce the whole expression to floating point arithmetic
p3722
as(dp3723
g10
V479863
p3724
stp3725
a((dp3726
g2
(lp3727
VMySQL is a lot looser in its interpretation of standard SQL than PostgreSQL is
p3728
aVThere are two issues with your query:
p3729
aVBacktick quoting is a MySQL thing
p3730
aVYour  is invalid
p3731
aVThe first one can be fixed by simply removing the offending quotes
p3732
aVThe second one requires more work; from the fine manual:
p3733
aVWhen  is present, it is not valid for the  list expressions to refer to ungrouped columns except within aggregate functions, since there would be more than one possible value to return for an ungrouped column
p3734
aVThis means that every column mentioned in your  either has to appear in an aggregate function or in the  clause
p3735
aVSo, you have to expand your  and make sure that all those columns are in the , you should end up with something like this but with real columns in place of :
p3736
aVThis is a pretty common problem when moving from MySQL to anything else
p3737
as(dp3738
g10
V479863
p3739
stp3740
a((dp3741
g2
(lp3742
VI'd guess that your  method is at fault
p3743
aVwill return a single  instance, then you assign that to  and  is probably expecting an  (or some other ); then later, the update process will try to loop through  using  and you get your error
p3744
aVYou mention, in a comment, that you tried something like this:
p3745
aVBut that won't work because  returns the original array and so the above is equivalent to this:
p3746
aVand all the  instances that you found/created are simply thrown away
p3747
aVSo, you might have better luck using  like this:
p3748
as(dp3749
g10
V479863
p3750
stp3751
a((dp3752
g2
(lp3753
VIf your comment div has an ID of , then you can do this:
p3754
aVYou can adjust the speed as easing as needed, just check the  documentation for details
p3755
as(dp3756
g10
V479863
p3757
stp3758
a((dp3759
g2
(lp3760
VYou could do it with  but why would you want to
p3761
aVHow would you know what your new variable is called outside the
p3762
aVA better way to do this sort of thing is to use an object as a runtime namespace of sorts:
p3763
aVUsing an object as a namespace will probably let you do whatever it is you're trying to do without all the attendant risks of
p3764
as(dp3765
g10
V479863
p3766
stp3767
a((dp3768
g2
(lp3769
VThat's the background image from
p3770
aVThe image in question is  and that's a 500x100 PNG that's light on top and dark on the bottom
p3771
aVThe horizontal scroll bar only uses the top bit of it so it ends up being a solid color, the vertical one ends up using a thin vertical slice so you get the odd coloring that you're seeing
p3772
as(dp3773
g10
V479863
p3774
stp3775
a((dp3776
g2
(lp3777
VYour problem is a bit of confusion about what  is in the click handler in here:
p3778
aVYou're calling  on the  that you're using to hide the  rather than on the  itself
p3779
aVThe simplest solution is, as other people have noted, to use :
p3780
aVNo one else noticed what the real root of your problem was so I thought I'd mention it
p3781
as(dp3782
g10
V479863
p3783
stp3784
a((dp3785
g2
(lp3786
VJosiah has it right but a better solution is to change the nature of the clear-fix technique
p3787
aVThe  does this:
p3788
aVAnd the problem is the
p3789
aVYou can get the desired clearing without losing the full-width block display with this:
p3790
aVThat replaces the  clear-fix with an  clear-fix
p3791
aVhttp://jsfiddle
p3792
aVnet/ambiguous/BkWWW/
p3793
as(dp3794
g10
V479863
p3795
stp3796
a((dp3797
g2
(lp3798
V is the name of your program so your  is probably failing
p3799
aVI'd guess that you want to open  instead
p3800
aVAnd, of course, check that the  succeeds before trying to use its return value
p3801
as(dp3802
g10
V479863
p3803
stp3804
a((dp3805
g2
(lp3806
VI'd recommend putting the text inside a  tag so that you could click on it (and so that screen readers and such could make sense of your form):
p3807
aVThen, the whole thing becomes easy:
p3808
aVI'd prefer the first option, , as it is less fragile than the second
p3809
as(dp3810
g10
V479863
p3811
stp3812
a((dp3813
g2
(lp3814
VYou'll have to parse the cookie jar yourself but it isn't that hard:
p3815
as(dp3816
g10
V479863
p3817
stp3818
a((dp3819
g2
(lp3820
VUse  and add a "not" to the beginning:
p3821
aVIf all elements are non-nil then the array does not include
p3822
aVUsing  means that you have to scan the entire array,  should stop as soon as it finds a match and there's no overhead of calling a block; so,  should be quicker but the performance differences will probably be pretty irrelevant unless you have a massive array
p3823
aVI'd go with whichever one reads best for you
p3824
as(dp3825
g10
V479863
p3826
stp3827
a((dp3828
g2
(lp3829
VFirst of all, your second  is wrong;  is a pointer so this:
p3830
aVshould be this:
p3831
aVThen in your loop you can say things like this:
p3832
aVYou'll also want to have this near the top of your file:
p3833
as(dp3834
g10
V479863
p3835
stp3836
a((dp3837
g2
(lp3838
VI'd go with a slight variant of the first option:
p3839
aVA database table dedicated for voting, which has the userid and their vote
p3840
aVstore their vote as a boolean, then calculate the "sum" of the votes in MySQL
p3841
aVReplace the boolean with an integer: +1 for an up-vote and -1 for a down-vote
p3842
aVThen, instead of computing the sum over and over again, keep a running total somewhere; every time there is an up-vote, add one to the total and subtract one every time there is a down-vote
p3843
aVYou could do this with an insert-trigger in the database or you could send an extra  to the database when adding new votes
p3844
aVYou'd probably want a unique constraint on the thing/userid pair in the vote tracking table too
p3845
aVKeeping track of individual votes makes it easy to keep people from voting twice
p3846
aVKeeping a running total makes displaying the total quick and easy (and presumably this will be the most common operation)
p3847
aVAdding a simple sanity checker that you can run to ensure that the totals match the votes would be a nice addition as well
p3848
aVserialized array: Please don't do that, such things make it very difficult to root around the database by hand to check and fix things, serialized data structures also make it very difficult (impossible in some cases) to properly constrain your data with foreign keys, check constraints, unique constraints, and what have you
p3849
aVStoring serialized data structures in the database is usually a bad idea unless the database doesn't need to know anything about the data other than how to give it back to you
p3850
aVPacking an array into a text column is a recipe for broken and inconsistent data in your database: broken code is easy to fix, broken data is often forever
p3851
as(dp3852
g10
V479863
p3853
stp3854
a((dp3855
g2
(lp3856
VThis declaration in your class:
p3857
aVWill be handled when the file is read
p3858
aVOn Heroku, this happens when you push your update and the slug is compiled
p3859
aVThe result is that the default value is fixed at whatever the time happens to be when the slug is compiled
p3860
aVTry this instead:
p3861
aVEverything probably works fine in your development environment because the file keeps getting reloaded all the time
p3862
as(dp3863
g10
V479863
p3864
stp3865
a((dp3866
g2
(lp3867
VIf the current user is, say, 42 then  and  would display the same information but  would display a stripped down public version of 23's data
p3868
aVSo, the handler for  will have to know about the special case of  being the current user; the handler for  will also have to know about this special case as that's all it does
p3869
aVIf you use two routes then you'll either be duplicating code, wrapping the real code in an extra layer, or some other bit of busy work
p3870
aVI'd just send them both to the same controller method and that could start with something like this:
p3871
aVAnd then later on you handle the special case of the requested user being the current user in just one place with something simple:
p3872
aVYou could, of course, slice it up into a bunch of little methods, such as  and , inside the controller
p3873
aVThe handler for  could just be a call to ; the  handler could call  or  depending on what  is
p3874
aVThis approach smells like pointless layering to me
p3875
as(dp3876
g10
V479863
p3877
stp3878
a((dp3879
g2
(lp3880
VI see a buffer overflow:
p3881
aVYour format string will yield 9 characters but  will include the nul terminator
p3882
aVTry making  ten characters
p3883
aVAnd pay attention to what Joey Adams said or  before you try to put anything in it
p3884
as(dp3885
g10
V479863
p3886
stp3887
a((dp3888
g2
(lp3889
VFrom the fine manual (regarding the  option):
p3890
aVWhen a String is used, the Autocomplete plugin expects that string to point to a URL resource that will return JSON data
p3891
aV[
p3892
aVThe data itself can be in the same format as the local data described above
p3893
aVAnd for local data:
p3894
aVThe local data can be a simple Array of Strings, or it contains Objects for each item in the array, with either a label or value property or both
p3895
aVThe label property is displayed in the suggestion menu
p3896
aVThe value will be inserted into the input element after the user selected something from the menu
p3897
aVSo, your JSON return should either be a simple array of strings or an array of objects like this:
p3898
as(dp3899
g10
V479863
p3900
stp3901
a((dp3902
g2
(lp3903
VFirst of all, you should also have a Graph class to manage the nodes and edges
p3904
aVThen something like this should get you started:
p3905
aVThe graph, , tracks the nodes it has so  can return the node if it already exists or create it and cache it if not
p3906
aVThe  method would connect  and  with an edge of weight
p3907
aVYour shortest path algorithm would, presumably, be a method call on the graph objects
p3908
as(dp3909
g10
V479863
p3910
stp3911
a((dp3912
g2
(lp3913
VWould you rather have your data silently truncated (possibly leading to broken data) or would you at least like to know that you have a problem
p3914
aVI'd recommend leaving strict mode enabled and bounds checking your data in your PHP
p3915
aVYour PHP application knows, or at least should know, what to do with a string that's too long
p3916
aVIf you turn off strict mode and leave that decision to MySQL then MySQL will silently truncate your strings and you will end up with a database full of garbage
p3917
aVChanging and fixing code is easy, fixing broken data is often impossible
p3918
aVIf you disable strict mode, you'll end up with strange problems like this:
p3919
aVVARCHAR(4) storing more characters than four
p3920
as(dp3921
g10
V479863
p3922
stp3923
a((dp3924
g2
(lp3925
VYour  method traps  exceptions so your rake task will never see them
p3926
aVI'd drop the  from  and let the caller deal with all the exception handling
p3927
aVThen, you'd have  in your controller's exception handler and the rake task would remain as-is
p3928
aVThe basic approach is to push the error handling up the call stack all the way to someone that can do something about it;  can't really do anything useful with the exception so it shouldn't try to handle it
p3929
as(dp3930
g10
V479863
p3931
stp3932
a((dp3933
g2
(lp3934
VIf I access  as:
p3935
aVthen my browser correctly guesses that it is encoded as Latin-1 (AKA ISO-8859-1) but it looks like it is interpreted as UTF-8 when you  it
p3936
aVIf you load  and play around with the "text encoding" menu (probably under "view" somewhere) in your browser you should see how it appears when interpreted as different encodings
p3937
aVHave a look at the headers that come back when you load :
p3938
aVAnd  does not specify any particular encoding so it is up to the browser to make a guess
p3939
aVYou want your  to look like this:
p3940
aVso that the browser knows what encoding it is dealing with
p3941
aVI'd convert everything to UTF-8 and arrange to have the character specified in the HTML files and in the  header
p3942
as(dp3943
g10
V479863
p3944
stp3945
a((dp3946
g2
(lp3947
VYour updated error is telling you that you're referencing  and  somewhere but they are not defined
p3948
aVThose functions are actually defined in  but they're declared  in both the source file and header file
p3949
aVRemove the  linkage modifiers from the functions in  and declare them as  in
p3950
aVLooks like you're making the same mistake in  and everything in the  subdirectory
p3951
aVAnything declared as  has file scope and is not visible outside the file itself
p3952
aVYour original error:
p3953
aVoccurs because all the functions in  (and  in particular) are  and  functions do not result in any symbols for the linker to find
p3954
aVOnly entities with external linkage result in symbols in the object files
p3955
as(dp3956
g10
V479863
p3957
stp3958
a((dp3959
g2
(lp3960
VI think the hash is your problem
p3961
aVThe hash symbol, , has a specific meaning in a URL and that meaning is a client-side issue only; since it is a client/browser issue, the hash and whatever comes after it won't be sent to the server
p3962
aVWhen you insert "ABC6252756/ A#1829533" into the URL, the browser will remove "#1829533" and everything that comes after it before sending the URL to the server
p3963
aVThe solution is to properly URL-encode each part of your query string
p3964
aVYou'd use  in JavaScript or, I think,  in PHP
p3965
as(dp3966
g10
V479863
p3967
stp3968
a((dp3969
g2
(lp3970
VRead the error message carefully (emphasis mine):
p3971
aVld: warning: in /Developer/SDKs/MacOSX10
p3972
aV6
p3973
aVsdk/usr/lib/gcc/powerpc-apple-darwin10/4
p3974
ag2960
aV1/libgcc
p3975
aVa, file was built for unsupported file format which is not the architecture being linked (x86_64)
p3976
aVLooks like you're mixing PowerPC and Intel libraries somehow
p3977
aVYou're compiling for x86_64 but you're picking up a  for PowerPC
p3978
aVThose symbols with all the leading underscores are probably supposed to come from  but you're not linking the x86_64 version of  so they're missing in action and chaos ensues
p3979
aVSounds like something in your xcode configuration is confused
p3980
as(dp3981
g10
V479863
p3982
stp3983
a((dp3984
g2
(lp3985
VI think the animation is triggered but it doesn't know how big the half megabyte image is when it starts
p3986
aVEverything works fine on refresh because the image is in the browser's cache by that time
p3987
aVIn your HTML, you have this:
p3988
aVNotice that you don't have  or  attributes
p3989
aVWhen you do this on the first load:
p3990
aVThe image data won't be loaded so the width and height will be zero and so  and  will also be zero
p3991
aVI'd put  and  attributes on  and ; then, change the initial  call to this:
p3992
aVThe  and  attributes should give you useful  and  values even when the image data hasn't loaded
p3993
aVStarting with  should avoid an initial shrink from full size to your scaled down starting size; you can also try starting with  and  in the  call if messing with  doesn't work
p3994
as(dp3995
g10
V479863
p3996
stp3997
a((dp3998
g2
(lp3999
VYou could just build a Hash subclass with an extra variadic method for digging all the way down with appropriate checks along the way
p4000
aVSomething like this (with a better name of course):
p4001
aVThen just use s instead of hashes:
p4002
as(dp4003
g10
V479863
p4004
stp4005
a((dp4006
g2
(lp4007
VUsing  is the right way to go (emphasis mine):
p4008
aVReturn the value most recently obtained by  for this sequence in the current session
p4009
aV(An error is reported if  has never been called for this sequence in this session
p4010
aVBecause this is returning a session-local value, it gives a predictable answer whether or not other sessions have executed  since the current session did
p4011
aVAnd wrapping it up in an  function is a perfectly reasonable porting technique
p4012
aVYou could also use  on your  statements (again, emphasis mine):
p4013
aVThe optional  clause causes  to compute and return value(s) based on each row actually inserted
p4014
aVThis is primarily useful for obtaining values that were supplied by defaults, such as a serial sequence number
p4015
aVThat might be a bit quicker and cleaner but you'd still have some portability issues
p4016
aVOTOH, I think you're going to have portability issues no matter what you do
p4017
as(dp4018
g10
V479863
p4019
stp4020
a((dp4021
g2
(lp4022
VYou should be using the standard  function:
p4023
aVBoth PostgresSQL and MySQL support it
p4024
as(dp4025
g10
V479863
p4026
stp4027
a((dp4028
g2
(lp4029
VAre you sure you didn't mean to use :
p4030
as(dp4031
g10
V479863
p4032
stp4033
a((dp4034
g2
(lp4035
VYou can send arguments in like this:
p4036
aVThen pull the named parameters out of  inside your rake task:
p4037
aVYou can also supply more traditional command line switches like this:
p4038
aVAnd then use OptionParser (or some other option parser) to unpack
p4039
aVDon't forget the extra  if you want to use switches, that will tell  to stop parsing the command line as switches
p4040
as(dp4041
g10
V479863
p4042
stp4043
a((dp4044
g2
(lp4045
VMight be easiest to just use  and do it by hand:
p4046
aVI usually end up pushing the ORMs out of the way for any instantiation more complicated than , I already know SQL so I don't need to learn yet another API that tries to implement SQL and usually does so rather poorly
p4047
as(dp4048
g10
V479863
p4049
stp4050
a((dp4051
g2
(lp4052
VIf you have Rails kicking around you can use the JSON encoder for this:
p4053
aVThe usual non-Rails JSON encoder doesn't "\u005cu"-ify Unicode
p4054
as(dp4055
g10
V479863
p4056
stp4057
a((dp4058
g2
(lp4059
VI think the  and  callbacks should get there
p4060
aVSomething like this:
p4061
aVThe  callback is called right before the form is submitted and hides  in preparation for the fadeIn
p4062
aVThen  should put the response in  and call the  callback; the success callback does the
p4063
aVI don't have a handy  setup so I can't test this but I'm pretty sure that the above will work
p4064
as(dp4065
g10
V479863
p4066
stp4067
a((dp4068
g2
(lp4069
VHow about setting them all at once:
p4070
aVThat should change the minimum, starting, and current values all to 10000 and thus make everything consistent
p4071
as(dp4072
g10
V479863
p4073
stp4074
a((dp4075
g2
(lp4076
VJust a bit of Find
p4077
aVfind is all you need:
p4078
as(dp4079
g10
V479863
p4080
stp4081
a((dp4082
g2
(lp4083
VAs long as the  elements immediately follow their  elements, then you can do something like this:
p4084
aVA better solution would be to set proper  attributes on your label elements (i
p4085
ag785
aVmake sure they match up with the  attributes on their checkboxes) and then:
p4086
as(dp4087
g10
V479863
p4088
stp4089
a((dp4090
g2
(lp4091
VLine 21 is this:
p4092
aVAnd that will fail for several different reasons:
p4093
aVis not declared so your  should cause an error: 'Global symbol "$self" requires explicit package name at x
p4094
aVpm line 21
p4095
aVdue to your  (but leave that  there
p4096
aVis not defined, hence the error that you're reporting
p4097
aVYou'll have to instantiate a Device before you can call methods on it
p4098
aVis not a method on Device, it is an attribute
p4099
aVYou'd want to say  to access the attribute value or, better, write an accessor method for it
p4100
aVSame goes for
p4101
as(dp4102
g10
V479863
p4103
stp4104
a((dp4105
g2
(lp4106
VConvert the JSON to a hash using your favorite JSON parser, that will give you something that looks like this:
p4107
aVThen simply rearrange it into a list of little hashes with known keys:
p4108
aVThere are probably cleverer ways to do that above
p4109
aVNow you'll have something simple and regular like this in :
p4110
aVThen you can handle that data structure just like any other array of hashes in Mustache:
p4111
as(dp4112
g10
V479863
p4113
stp4114
a((dp4115
g2
(lp4116
VThe Schwartzian Transform would be an example:
p4117
aVYou could do that with a pile of  loops but you'd have to pick them apart to figure out what was going on; once you've seen the Schwartzian Transform you recognize the idiom immediately
p4118
aVIn general I think  and  are good in that they allow you to clearly and compactly represent your intent without layers of syntax
p4119
aVIf you see a  then you know that some sort of simple data structure transformation is going on; if you see a  then you know that some filtering/selection is going on
p4120
aVYou could do it all with  but the intent of your code isn't as clear as it would be with  or ; you could even do it all with  and  if you wanted to but then your intent would be buried under even more syntax and state tracking
p4121
as(dp4122
g10
V479863
p4123
stp4124
a((dp4125
g2
(lp4126
VIf you look at the Darkfish templates, the only CSS references you'll see are things like this:
p4127
aVSome of them have the  and some don't
p4128
aVThere's nothing in any of the templates for including other stylesheets
p4129
aVPresumably, you should just apply your coloring changes to  or hand-edit the templates to include another stylesheet with your modifications
p4130
aVA better approach would be to patch  support into Darkfish and send the author a patch
p4131
aVLooks like you'd just need to add a small bit of extra erb to the templates, some switch parsing logic, and a new variable around calls to  in
p4132
aVSounds like this would be a useful addition to Darkfish, the author might even be pleased that someone wants to make his software better
p4133
as(dp4134
g10
V479863
p4135
stp4136
a((dp4137
g2
(lp4138
VMost sensible SQL shells do The Right Thing when fed commands on the standard input so you should be able to just  your SQL into :
p4139
as(dp4140
g10
V479863
p4141
stp4142
a((dp4143
g2
(lp4144
VIf you must have the coloring then you're going to have to do something ugly:
p4145
aVThat  is actually a raw escape character (Ctrl+V ESC in bash, ASCII 27)
p4146
aVYou can use  to figure out the necessary escape sequences:
p4147
aVThis sort of thing will work fine with the GNU versions of , ,
p4148
aVYMMV with non-GNU versions
p4149
aVAn easier way would be to turn of the coloring:
p4150
aVBut you can trade pretty output for slightly ugly regular expressions
p4151
as(dp4152
g10
V479863
p4153
stp4154
a((dp4155
g2
(lp4156
VThe  switch to gcc tells it to output assembler so this:
p4157
aVIs putting assembler into  but you want, presumably, to compile  into object code:
p4158
aVWhen the linker gets your  it is confused because  is assembler when the linker is expecting object code, hence your error
p4159
aVSo get rid of the  switches for  and
p4160
as(dp4161
g10
V479863
p4162
stp4163
a((dp4164
g2
(lp4165
VYou could do it the way the old X11 Xt widget library did it:
p4166
aVAs long as you're careful with your allocations, alignment, and padding issues, then this will work:
p4167
aVAnd you can nest the structs as deep as needed to get a single inheritance hierarchy
p4168
aVThis sort of thing is not for the feint of heart: you have to be very careful with you allocations, structure nesting, etc
p4169
aVHave a look at an old school Xt widget and you'll get the idea; Xt widgets were usually implemented in three files: a C source file, a public header with the function interface, and a private header to define the structure layout (this one would be needed for subclassing)
p4170
aVFor example, the Ghostscript widget that I used to use in mgv looked like this:
p4171
aVThe  was the standard Xt widget definition and the  was the actual widget itself
p4172
as(dp4173
g10
V479863
p4174
stp4175
a((dp4176
g2
(lp4177
VUm, try the obvious:
p4178
aVThe nul bytes, , don't have any visual representation so you don't see them when you  but you'll probably see them if you pipe your script's output through :
p4179
aVThe  is how  represents a zero byte
p4180
aVUPDATE: If you want to remove the zero bytes then use  or :
p4181
aVI'm not sure about the format of a  file so you should figure that out and figure out the string encoding in particular
p4182
aVIt looks like it might be UTF-16 but maybe not; if it is a standard non-ASCII encoding then you'll want to use  to properly sort out the encoding
p4183
as(dp4184
g10
V479863
p4185
stp4186
a((dp4187
g2
(lp4188
VThe hash symbol, , has a special meaning in URLs, not in JSON
p4189
aVYour URL is probably getting truncated at the hash before the remove server even sees it:
p4190
aVAnd that means that the remote server gets mangled JSON in
p4191
aVThe solution is to URL encode your parameters before pasting them together to form your URL; eugene y tells you how to do this
p4192
as(dp4193
g10
V479863
p4194
stp4195
a((dp4196
g2
(lp4197
VYou have an extra closing brace at line 26, this:
p4198
aVshould be just
p4199
aVAnd then you'll want to indent the  chunk one more step to make things consistent
p4200
as(dp4201
g10
V479863
p4202
stp4203
a((dp4204
g2
(lp4205
VThe  element does not have a  attribute so that is ignored
p4206
aVSo, you have a single selection  and none of its  elements have the  attribute, that means that the first  is taken as the default selection
p4207
as(dp4208
g10
V479863
p4209
stp4210
a((dp4211
g2
(lp4212
VYour declaration of  is confused:
p4213
aVis equivalent to:
p4214
aVso you're just giving the compiler a prototype for  without declaring a variable; the error occurs because a function is not a valid lvalue; however, a pointer to a function is a valid lvalue so you want this:
p4215
aVAnd then your  should be this:
p4216
aVYou'll also need to cast the return from  to be strictly conforming to standard C:
p4217
aVA  pointer can be silently upgraded to any other pointer type except a pointer to a function; , for example, will warn that "ISO C forbids assignment between function pointer and \u2018void *\u2019" without the cast
p4218
aVI don't have a copy of the standard handy (but someone around here certainly does) so I can't quote chapter and verse but caf is correct on this point (thanks caf)
p4219
aVAnd you also want to bookmark cdecl
p4220
aVorg
p4221
as(dp4222
g10
V479863
p4223
stp4224
a((dp4225
g2
(lp4226
VYour callback function to  gets the  value but doesn't do anything with it; so, when you do ,  is still undefined because it was never assigned a value
p4227
aVAlso, the  call is asynchronous so you can't just do this:
p4228
aVbecause the  will not have been executed (unless you get very lucky with the timing) when you try to access
p4229
aVYou can replace the  call with a synchronous  call and assign the JSON blob to  in the  callback or keep doing things the first way
p4230
aVYou can always put your "goes on for 300+ statements" in a separate named function, say,  and refer to that by name:
p4231
aVif you don't want to inline a big pile of code
p4232
as(dp4233
g10
V479863
p4234
stp4235
a((dp4236
g2
(lp4237
VYou could clone it into another  and then call  on that:
p4238
aVFor example: http://jsfiddle
p4239
aVnet/ambiguous/59zwr/1/
p4240
as(dp4241
g10
V479863
p4242
stp4243
a((dp4244
g2
(lp4245
VProbably the easiest thing to do would be to wrap your script or program in a tiny bit of AppleScript:
p4246
aVThen save it as an application and it will behave like any other OSX application
p4247
aVThe shell shouldn't be printing the commands as they're run unless you're supplying the  switch so I'm not sure what you want  for
p4248
as(dp4249
g10
V479863
p4250
stp4251
a((dp4252
g2
(lp4253
VTry setting the width on the table itself:
p4254
aVYou'll have to adjust the 650 by a couple pixels to account for whatever padding, margins, and borders you have
p4255
aVYou'll probably still have some issues though
p4256
aVI don't see enough horizontal space for all those columns without mangling the headers, reducing the font sizes, or some other bit of ugliness
p4257
as(dp4258
g10
V479863
p4259
stp4260
a((dp4261
g2
(lp4262
VYour  call is a bit off:
p4263
aVThe first argument should be the function to execute:
p4264
aVAlso, I'm not sure what "world" is so I merged it into the new  path to fix a stray double quote
p4265
as(dp4266
g10
V479863
p4267
stp4268
a((dp4269
g2
(lp4270
VWhy not say what you really mean and call the callback after the loop
p4271
as(dp4272
g10
V479863
p4273
stp4274
a((dp4275
g2
(lp4276
VI don't know much Python or SQLAlchemy but could you use COALESCE to coerce the NULLs into something easier to deal with
p4277
aVSay  where you currently have
p4278
aVUsing COALESCE would be a bit of a hack but not a terribly ugly one
p4279
as(dp4280
g10
V479863
p4281
stp4282
a((dp4283
g2
(lp4284
VIf using an array is cleaner and makes more logical sense then you should use an array
p4285
aVYou only have nine entries so any space savings will be irrelevant unless you're dealing with millions and millions of entries
p4286
aVSpeed differences with only nine entries are also going to be pretty much irrelevant
p4287
aVAs far as optimization (for memory or time) is concerned, feelings aren't worth anything
p4288
aVYou have to profile the system (several times) to see who is really chewing up memory (or if there really is noticeable memory waste at all) or wasting time
p4289
aVThe results of profiling will usually surprise you and gurus alike, hence the admonition: Premature optimization is the root of all evil
p4290
aVAlways start with the most natural representation so that you can get clean, sensible, and working code: optimizing a clean and working piece of software is a lot easier than debugging a big pile of complexity that is trying to solve problems that don't exist
p4291
as(dp4292
g10
V479863
p4293
stp4294
a((dp4295
g2
(lp4296
VThe documentation says this about the "s" format specifier to :
p4297
aV(string or Unicode) [const char *]
p4298
aVConvert a Python string or Unicode object to a C pointer to a character string
p4299
aVYou must not provide storage for the string itself; a pointer to an existing string is stored into the character pointer variable whose address you pass
p4300
aVThat means that the pointer is pointing to memory that Python itself is managing
p4301
aVIf you dig into the Python source (I'm using version 3
p4302
aV2) you'll find  in
p4303
aVIf you trace the execution (a mark-I eyeball should be sufficient if you already know C) you'll get to  which handles some simple data type format strings (such as "s")
p4304
aVThen have a look at the  branch of the switch and you'll see this:
p4305
aVAnd a little grepping will yield the definition of :
p4306
aVSo all this is really doing is handing you a pointer to a field, , inside the Python object; Python is managing the memory for its internal objects
p4307
aVSo, you shouldn't free your  string because it ends up pointing into some of Python's internal data and Python itself is responsible for that memory
p4308
aVHence the "hands off" warning in the documentation
p4309
as(dp4310
g10
V479863
p4311
stp4312
a((dp4313
g2
(lp4314
VI think you're a little confused about how backticks work
p4315
aVSomething like this:
p4316
aVWill run the  command and put whatever it prints on its standard output into
p4317
aVBackticks also interpolate like double quote strings
p4318
aVYou'll also have to escape backslashes
p4319
aVSo, you don't want multiple sets of backticks in command and you don't need to paste things together like that
p4320
aVSomething like this:
p4321
aVshould be okay
p4322
aVOf course you'll still have issues if the  values have spaces or quotes or other funny things
p4323
aVYou'd probably want to use  or  for more safety
p4324
as(dp4325
g10
V479863
p4326
stp4327
a((dp4328
g2
(lp4329
VYour  loop should look like this:
p4330
aVYou should be using semicolons \u2014 not commas \u2014 to separate the three components of a  loop
p4331
aVYour  problem is probably because you have the semicolon statement terminator on the wrong side of the closing bracket and your message sending syntax is wrong; this:
p4332
aVshould probably be:
p4333
aVas you are sending the  message to the  class
p4334
as(dp4335
g10
V479863
p4336
stp4337
a((dp4338
g2
(lp4339
VGo look at one of the larger tables in the nearest relational database
p4340
aVThat table is an array that just happens to be indexed by column name rather than explicit numbers; the columns are clearly a finite set so they can be put into one-to-one correspondence with the non-negative integers and this mapping gives you your more familiar array dimensions
p4341
as(dp4342
g10
V479863
p4343
stp4344
a((dp4345
g2
(lp4346
VGive your input as an array of arrays of arrays:
p4347
aVYou can do a one liner:
p4348
as(dp4349
g10
V479863
p4350
stp4351
a((dp4352
g2
(lp4353
VYou're looking for something like this:
p4354
aVThe text you want will be in  (or  if you have  build for other uses) when the first callback is called
p4355
as(dp4356
g10
V479863
p4357
stp4358
a((dp4359
g2
(lp4360
VThe relationship between the hovered thing and that animated thing
p4361
aVlooks a bit random so you'll probably have to use a simple mapping
p4362
aVtable for that
p4363
aVYou could also put the  on the source elements using data
p4364
aVattributes
p4365
aVThe HTML would look something like this:
p4366
aVAnd the jQuery:
p4367
aVIf you attach a class to the , ,
p4368
aVelements then you can simplify the selector:
p4369
aVBTW, using all numeric  attributes is a bad idea, they should begin with a letter
p4370
as(dp4371
g10
V479863
p4372
stp4373
a((dp4374
g2
(lp4375
VHere's a quick and dirty way:
p4376
aVThe  bit slices out the middle of the match (i
p4377
ag785
aVstrips off the leading and trailing two characters)
p4378
as(dp4379
g10
V479863
p4380
stp4381
a((dp4382
g2
(lp4383
VI'm guessing that your problem is that  is executed before  is populated
p4384
aVThe  table won't have anything in it until someone presses  and the  finishes; the  table may exist when  is called but the datatable won't know about the data you load into the table from your JSON blob
p4385
aVThe solution would be to bind the datatable after the table is filled in:
p4386
as(dp4387
g10
V479863
p4388
stp4389
a((dp4390
g2
(lp4391
VThere's an  that should let you do what you want:
p4392
aVThis function allows you to 'post process' each row after it have been generated for each table draw, but before it is rendered on screen
p4393
aVAnd the callback's fourth parameter is
p4394
aVThe index of the data in the full list of rows (after filtering)
p4395
aVSo you should be able to use the fourth parameter to the callback to add the row number to the row (which is the callback's first parameter)
p4396
as(dp4397
g10
V479863
p4398
stp4399
a((dp4400
g2
(lp4401
VDepending on what you're doing you might be able to turn the problem inside out and use  to tell you when your file descriptor has something to read
p4402
as(dp4403
g10
V479863
p4404
stp4405
a((dp4406
g2
(lp4407
VOne simple way is to put some padding on  to simulate a margin on your  and then make your  100% height:
p4408
aVBlock elements are full width by default so you don't have to worry about that part
p4409
aVThe background color is just for illustrative purposes
p4410
aVYou can use  if you want to limit the height and get a scrollbar when necessary
p4411
as(dp4412
g10
V479863
p4413
stp4414
a((dp4415
g2
(lp4416
VI think part of your problem is that you're accessing something from the file system that is meant to be loaded from a web server
p4417
aVFor example, I see this error in Chome on your chapter 2 example:
p4418
aVThings seem to be behaving reasonably well in Chrome other than that sort of thing
p4419
aVI usually target IE[789], Chrome, Firefox, Safari, and Opera and I haven't seen many browser issues that are specific to jQuery or jQuery-UI
p4420
aVThe problems are mostly CSS issues and certain JavaScript problems (in IE for both) that aren't jQuery problems
p4421
as(dp4422
g10
V479863
p4423
stp4424
a((dp4425
g2
(lp4426
VOne downside of trying to use ERB for general string interpolation is that ERB is really aimed at generating HTML
p4427
aVThe result will be lots of encoding issues when you forget to raw-ify everything and get confused about why your ampersands, greater-than, less-than, etc
p4428
aVsymbols are getting mangled
p4429
aVI think there'll be more computational overhead for ERB as well but this might not matter
p4430
aVFurthermore, if you put inlined ERB inside Ruby will end up with Ruby inside ERB inside Ruby (and quite possibly more levels as you call methods from within ERB) and that will be a bit of a confusing mess
p4431
aVThink of the poor souls that will have to maintain your code, said poor soul might even be you
p4432
aVUPDATE: You could use  for simple HTML templates (see Mustache for something like that) but it would be difficult and rather ugly to produce a repeated section; repeated sections are quite common in HTML templates so that should be easy and natural for an HTML template system
p4433
aVWith ERB, you can just:
p4434
aVbut that would be a mess in  interpolation
p4435
aVYou'd also end up doing  all the time and most people would forget
p4436
aVAlso, "#" has a special meaning in URLs and a different special meaning in CSS (where braces also have a special meaning); fragment URLs and chunks of CSS are fairly common in HTML templates so you'd be constantly worrying about mixing up things up
p4437
aVThis particular bit of nastiness would probably only be an issue when using  to produce a CSS selector or a fragment in a URL but that's enough to make it cumbersome
p4438
as(dp4439
g10
V479863
p4440
stp4441
a((dp4442
g2
(lp4443
VYou're missing the column type in your , it should be more like this:
p4444
aVThe giveaway is this:
p4445
aVThe  method wants three arguments and then a hash of optional arguments
p4446
aVYour  is getting mashed together as the column type because you didn't specify  as the third argument
p4447
as(dp4448
g10
V479863
p4449
stp4450
a((dp4451
g2
(lp4452
VYou want :
p4453
aVJust checking  will get fooled by a "there but nil" and "there but false" value and you're asking about existence
p4454
aVYou might need to differentiate:
p4455
aVNot there at all
p4456
aVThere but
p4457
aVThere but
p4458
aVThere but an empty string
p4459
aVas well
p4460
aVHard to say without more details of your precise situation
p4461
as(dp4462
g10
V479863
p4463
stp4464
a((dp4465
g2
(lp4466
VThis version of your integer :
p4467
aVis closer to your array one
p4468
aVBut, even this one won't change  because  instances are immutable; if  instances weren't immutable you'd have people changing the value of 1 and that would just create a big mess
p4469
aVThis version of your array :
p4470
aVis closer to your integer one
p4471
aVThis array-bla will leave  unmodified
p4472
aVYour array-bla changes  because  is the same as  and the  method modifies the array
p4473
aVThe  that your array-bla see is a reference that points to the same object that  does
p4474
as(dp4475
g10
V479863
p4476
stp4477
a((dp4478
g2
(lp4479
VYour real problem is this:
p4480
aVAnd in particular, the
p4481
aVTry changing the clearfix technique:
p4482
aVThis question is starting to look at lot like this one: CSS Layout: 2 column fixed-fluid (again)
p4483
as(dp4484
g10
V479863
p4485
stp4486
a((dp4487
g2
(lp4488
VYou might be confused about how  is formatting the output
p4489
aVTry this:
p4490
aVto make sure that you're getting what you're supposed to be getting
p4491
as(dp4492
g10
V479863
p4493
stp4494
a((dp4495
g2
(lp4496
VDo you have an EOL (AKA end-of-line) problem
p4497
aVTry this:
p4498
aVThe  call will strip off any , , or  line endings, then  will append the native EOL
p4499
as(dp4500
g10
V479863
p4501
stp4502
a((dp4503
g2
(lp4504
VYou could do it by hand with  and  handlers
p4505
aVThese aren't necessarily the best way but you shouldn't be afraid to roll up your sleeves and get the job done by hand when necessary
p4506
aVAnd, because you're sensible (AKA paranoid), you could put a real foreign key constraint inside your database; an FK inside your database will also protect against corruption caused by deleting things that are referenced by other things
p4507
aVThe downside is that ActiveRecord doesn't really support FKs in the database so you'd have to add and maintain them by hand with RAW SQL
p4508
as(dp4509
g10
V479863
p4510
stp4511
a((dp4512
g2
(lp4513
VI'd recommend using an  and  instead
p4514
aVThis should be more more reliable and quicker; anything that supports JavaScript should support
p4515
aVA bit of googling suggests that IE and  really don't get along that well
p4516
aVI generally use ID attributes to refer to specific elements and rarely work in raw JavaScript for DOM wrangling so I can't say what specifically is wrong
p4517
as(dp4518
g10
V479863
p4519
stp4520
a((dp4521
g2
(lp4522
VSplit your date into year, month, and day components then use Date:
p4523
aVDate will take care of fixing the year
p4524
as(dp4525
g10
V479863
p4526
stp4527
a((dp4528
g2
(lp4529
VSounds like your foreign key is backwards
p4530
aVI'd add a other table for comment threads (), FK  to , then FK  and  to :
p4531
aVThis way you get sensible referential integrity across all your tables at the cost of an extra join; relational databases are good at joins though so there's nothing to worry about
p4532
aVThis approach also makes it trivially easy to add comments to another table if you need such a thing in the future
p4533
as(dp4534
g10
V479863
p4535
stp4536
a((dp4537
g2
(lp4538
VI'd just go with a simple text field with an auto-completer
p4539
aVYou can get a list of cities but you'll have to keep it up to date and you'll have to worry about nonsense like the difference between "Saint John", "St John", and "St
p4540
aVJohn"
p4541
aVSending an entire list of cities to the client will just be a user interface nightmare, a selection list would have thousands and thousands of entries and you'd have to send a lot of data to the client; there's no reason to hate your visitors that much
p4542
aVThe auto-completer can use the currently chosen cities to provide suggestions for new cities
p4543
aVIf you have city names in several places, then just keep a master city list somewhere for the auto-completer and updated it with new entries every day
p4544
aVYou will end up with a list of cities but the list will build itself
p4545
aVA simple text input will work the same everywhere and just about everyone can type out the name of their city pretty easily
p4546
as(dp4547
g10
V479863
p4548
stp4549
a((dp4550
g2
(lp4551
VYou could gain some measure of type safety by using a :
p4552
aVThen all your functions could be of type  but take different arguments through  or
p4553
aVI'd tend to call all that a bunch of pointless busy-work though
p4554
aVA simple  would work just as well
p4555
aVYou could also include a magic number at the front of your structures and then the functions could check type safety by looking at the magic number and seeing if it was the right one:
p4556
aVAnd then:
p4557
aVI did the magic number trick all the time back in my Motif programming days, you pass around a lot of  pointers in Motif/Xt/X11 development
p4558
as(dp4559
g10
V479863
p4560
stp4561
a((dp4562
g2
(lp4563
VThere are various problems here but the array/pointer issue with  isn't one of them
p4564
aVFirst, you want:
p4565
aVSo that you have enough room for the null terminator
p4566
aVYour  is allocated on the stack so returning it will only cause grief and confusion; you'll want to:
p4567
aVinstead so that the memory is still valid when the function returns
p4568
aVAs far as your real question goes, an array in C is the address of the first element so your  is fine (subject to the stack versus heap issue noted above)
p4569
aVC arrays decay to pointers at the drop of a hat so you don't need to worry about returning an array when the function is declared to return a pointer
p4570
as(dp4571
g10
V479863
p4572
stp4573
a((dp4574
g2
(lp4575
VYour problem is right here in :
p4576
aVYou're allocting  on the stack so when your  function is finished and returns, the value of  (the  version of it) will no longer be valid and  in  will be pointing at a chunk of the stack that is being used for something else
p4577
aVYou have two easy options:
p4578
aVPass an array of eight  into  so that the caller is responsible for allocating that memory
p4579
aVAllocate  on the heap (i
p4580
ag785
aV) inside  and return it as you are now
p4581
aVThe caller would, of course, have to  the  return value when it was finished with it (and this fact should be documented as part of the  interface)
p4582
aVI'd recommend the second option and I'd recommend building a separate  function to properly free a single cell
p4583
aVThe  function is a good idea because your  has a pointer in it and that pointer will need to be freed
p4584
aVThis is, of course, complicated further if you ever need to use an array that doesn't have exactly eight elements; if that happens then you'll have to return the array size as well by adding an extra pointer argument to
p4585
aVIf things get to that point then you'll want to add a separate struct:
p4586
aVand a set of functions to allocate and free these new structs
p4587
aVI'm guessing that you have similar stack versus heap issues with  as well
p4588
aVAnd, you don't need to do this:
p4589
aVThe  array will decay to a pointer without your intervention, just this is fine:
p4590
aVFurthermore, since I'm already writing a book here, you don't need to cast the return from  (or  or  or anything else that returns ) in C and doing so can cover up problems
p4591
aVSo, where you say this:
p4592
aVyou should just say:
p4593
aVAnd another thing, you have a memory leak right here:
p4594
aVThe memory that  allocates for the new  is leaked
p4595
aVYou'd be better off with something more like this:
p4596
aVAnd  would just copy the individual members and, of course, allocate the data for  as that's a pointer (i
p4597
ag785
aVplus an allocation of )
p4598
as(dp4599
g10
V479863
p4600
stp4601
a((dp4602
g2
(lp4603
VError number -1728 seems to be a generic "not found" error in AppleScript
p4604
aVI don't see a Windows menu in SeaMonkey, but I do see a Window menu
p4605
aVTry dropping the "s" from Windows
p4606
aVAlso, I think you might need to enable "access for assistive devices" for the "click" to work, you'll get an error message to that effect if you need to
p4607
as(dp4608
g10
V479863
p4609
stp4610
a((dp4611
g2
(lp4612
VAll the tabs are initially visible because the tabs don't activate until the document is ready and all your tab divs start off with
p4613
aVWhen the jQuery tabs activate, the all the tab divs except the first will be hidden with
p4614
aVProbably the easiest thing to do would be to add  to all the tab divs except the first one
p4615
aVThat will show the first panel while the page is loading and keep the others hidden; then, when the page has finished loading and the tabs are activated, the other panels will be available by clicking on their tabs at the top of the page
p4616
as(dp4617
g10
V479863
p4618
stp4619
a((dp4620
g2
(lp4621
VThe height of a block element defaults to the height of the block's content
p4622
aVSo, given something like this:
p4623
aVwill grow to be tall enough to contain the paragraph and  will grow to be tall enough to contain
p4624
aVWhen you specify the height or width as a percentage, that's a percentage with respect to the element's parent
p4625
aVIn the case of width, all block elements are, unless specified otherwise, as wide as their parent all the way back up to ; so, the width of a block element is independent of its content and saying  yields a well defined number of pixels
p4626
aVHowever, the height of a block element depends on its content unless you specify a specific height
p4627
aVSo there is feedback between the parent and child where height is concerned and saying  doesn't yield a well defined value unless you break the feedback loop by giving the parent element a specific height
p4628
as(dp4629
g10
V479863
p4630
stp4631
a((dp4632
g2
(lp4633
VI think you should be able to just set one of the  elements as selected in the usual way:
p4634
aVYou need to do this before binding the combobox to the
p4635
aVIf you look at the source for the combobox, you'll see this:
p4636
aVIt looks for the selected children and sets the text input's value to what it finds with an empty string as a fallback
p4637
aVThe default "select the first item" that a  element uses is not used here though, you have to explicitly mark an  as selected or the  selector will not, um, select it
p4638
as(dp4639
g10
V479863
p4640
stp4641
a((dp4642
g2
(lp4643
VYou can float the inner divs and add  to the outer:
p4644
aVhttp://jsfiddle
p4645
aVnet/ambiguous/3yQ6L/1/
p4646
as(dp4647
g10
V479863
p4648
stp4649
a((dp4650
g2
(lp4651
VThe usual approach is to use conditional comments and a separate patch stylesheet for each version of it:
p4652
aVThat way you can use standard CSS in your main stylesheet and then layer on whatever kludges and nonsense you need to make each version of IE behave itself
p4653
aVEach version of IE usually needs different kludges so I put them in different stylesheets
p4654
as(dp4655
g10
V479863
p4656
stp4657
a((dp4658
g2
(lp4659
VI suspect that you're having tag case issues
p4660
aVCan you arrange to have the XML come back with lower case tags
p4661
aVAnd then you'd do this in :
p4662
aVIf you can't change the XML, then try changing just
p4663
aVTags in HTML are supposed to be case insensitive but in XML they're case sensitive
p4664
aVI generally side step the whole case problem by putting all tags in lower case so that I don't have to deal with browser, parser, or context confusion
p4665
as(dp4666
g10
V479863
p4667
stp4668
a((dp4669
g2
(lp4670
VYou don't need parentheses on the SELECT:
p4671
aVAnd you don't need to quote the 14556068 unless it really is a string:
p4672
aVEverything is a string in SQLite so it won't care but good habits are good habits
p4673
as(dp4674
g10
V479863
p4675
stp4676
a((dp4677
g2
(lp4678
VThe problem is that your  model doesn't know what  is and you're instantiating a bunch of  instances based on an SQL query
p4679
aVWhen your instances are created, they see  in the data they're handed but they ignore it as they have no  property
p4680
aVIf you want to run arbitrary SQL and get back simple data, you should be using  or similar low level methods
p4681
as(dp4682
g10
V479863
p4683
stp4684
a((dp4685
g2
(lp4686
VI think you have a stray set of brackets
p4687
aVThis:
p4688
aVIs assigning an array that contains one object literal to  but I think you just want to assign an object to :
p4689
as(dp4690
g10
V479863
p4691
stp4692
a((dp4693
g2
(lp4694
VDon't use two arrays for the result, use an object:
p4695
aVThen  will look like:
p4696
as(dp4697
g10
V479863
p4698
stp4699
a((dp4700
g2
(lp4701
VThe easiest way is to use :
p4702
aVThe  pattern for  (AKA ) matches directories recursively so  will give you all the PHP files under the current directory
p4703
as(dp4704
g10
V479863
p4705
stp4706
a((dp4707
g2
(lp4708
VCompile your own Ruby and MongoDB, PostgreSQL, MySQL, redis, and whatever other supporting tools you rely on
p4709
aVThis way get full control over the versions used everywhere and you can apply any necessary security or bug fix upgrades at will without having to wait for your OS vendor to supply system updates and patches
p4710
aVCompiling your own also makes it easier to ensure that your development, staging, and production environments are all using the same versions of everything you need
p4711
aVIf using RVM makes it easier for you to build your own toolchain then use RVM
p4712
aVIn any case, using the system supplied tools often leaves you a few versions behind and leaves you hanging when you need to apply critical patches
p4713
as(dp4714
g10
V479863
p4715
stp4716
a((dp4717
g2
(lp4718
VYou're going to have to wrap the "content" in a  (or some other block element):
p4719
aVAnd don't use  for these sorts of links,  is a better choice that causes fewer problems; the  approach also means that you don't need  in your click handler to keep the browser from trying to interpret an empty fragment
p4720
aVBack to our regularly scheduled program
p4721
aVThen, your  becomes quite simple:
p4722
aVA better way is to use jQuery to bind the click handler:
p4723
aVAnd then:
p4724
as(dp4725
g10
V479863
p4726
stp4727
a((dp4728
g2
(lp4729
VOne thing to consider is how adding a large text column to a table will affect the layout of the rows
p4730
aVSome databases will store the large columns inlined with the other fixed size columns; this will make the rows variable sized and that means more work for the database when it needs to pull a row off the disk
p4731
aVOther databases (such as PostgreSQL) store large text columns away from the fixed size columns; this leads to fixed sized rows with quick access during table scans and the like but an extra bit of work is needed to pull out the text columns
p4732
aV1000 users isn't that much in database terms so there's probably nothing to worry about one way or the other
p4733
aVOTOH, little one-off side projects have a nasty habit of turning into real mission critical projects when you're not looking so doing it right from the beginning is a good idea
p4734
aVI think Justin Cave has covered the index issue well enough
p4735
aVAs long as you structure your data access properly (i
p4736
ag785
aVall access to your user table goes through one isolated pile of code) then changing your data schema for users won't be much work anyway
p4737
as(dp4738
g10
V479863
p4739
stp4740
a((dp4741
g2
(lp4742
VYour problem is that the page isn't as tall as you want it to be
p4743
aVIf you try to go to  and  is at the bottom of , then you'll scroll to the bottom of the page and  will be at the bottom of the window when you want it at the top
p4744
aVI think your only choice is to force the  to be taller
p4745
aVSomething like this:
p4746
aVSomething like that will append a (visually) empty  to the bottom of your content, this extra  will have the same height as the browser's viewport and this extra height will let you always scroll your elements right to the top of the viewport
p4747
as(dp4748
g10
V479863
p4749
stp4750
a((dp4751
g2
(lp4752
VA  is a block element so it has  by default; this means that it is as wide as its parent unless you assign it a specific width
p4753
aVI think what you want to do is use  with :
p4754
aVSetting  won't do anything for you as you haven't specified a
p4755
aVIf the images are 17x11 then you should say so:
p4756
aVAnd if you want a bit of overlap, then set a negative top margin to push them up a bit and set  on the images
p4757
aVhttp://jsfiddle
p4758
aVnet/ambiguous/949ey/
p4759
as(dp4760
g10
V479863
p4761
stp4762
a((dp4763
g2
(lp4764
VYou're not joining the  table in your FROM clause, you only have
p4765
as(dp4766
g10
V479863
p4767
stp4768
a((dp4769
g2
(lp4770
VRuby doesn't have C-style increment () or decrement () operators
p4771
aVYou want this:
p4772
as(dp4773
g10
V479863
p4774
stp4775
a((dp4776
g2
(lp4777
V yields a collection, not a single element so you need to iterate over it
p4778
aVYou're also missing a space when building you images
p4779
as(dp4780
g10
V479863
p4781
stp4782
a((dp4783
g2
(lp4784
VI think you're out of luck here
p4785
aVSounds like you want to change the form's target based on the value of one of the form's elements; the value in question won't be known until after  is bound to the form so Justin's trick won't work
p4786
aVYou could use the  or  hooks to change the  URL but there's nothing in the API that lets you change the URL once  has been bound
p4787
aVSo, the hooks are of no use to you
p4788
aVYou could try adding a submit handler to the form; this handler would check the value of  and then bind the appropriate  to  and call  after the you've bound
p4789
aVThis might work or it might not and quite frankly, this is a bit of a hack
p4790
aVI think you'd be better off moving the  logic onto the server, either in  or whatever is generating the  in the first place
p4791
as(dp4792
g10
V479863
p4793
stp4794
a((dp4795
g2
(lp4796
VCrontab files generally only allow two types of things (plus comments and blank lines if you want to be pedantic):
p4797
aVEnvironment variable setting
p4798
aVCommand specifications
p4799
aVAnd some crontabs don't even support setting environment variables (although I doubt you'll come across such a thing practice)
p4800
aVIf you need to do more than set some environment variables then you're going to need to put your  either in the cron specs as you have in your question or you'll need to wrap your cron jobs in a cron runner something like this:
p4801
aVAnd then in the crontab:
p4802
aVSix of one, half a dozen of the other
p4803
as(dp4804
g10
V479863
p4805
stp4806
a((dp4807
g2
(lp4808
VYour  parameter gets the same scheme and hostname as the current page as you don't specify the scheme or hostname in its value, you just supply the path component of the URL
p4809
aVYou need to load the page with that  call through HTTP but you're loading it directly from the filesystem
p4810
as(dp4811
g10
V479863
p4812
stp4813
a((dp4814
g2
(lp4815
VYou could attach multiple change handlers:
p4816
aVBut that looks worse than using just one handler with a conditional to me
p4817
aVYou could also whip up your own little plugin to add something like your :
p4818
aVAnd then:
p4819
aVI'd go with Ron's ternary approach if I was just doing this in one place though
p4820
as(dp4821
g10
V479863
p4822
stp4823
a((dp4824
g2
(lp4825
VYou'll want to use , for example:
p4826
as(dp4827
g10
V479863
p4828
stp4829
a((dp4830
g2
(lp4831
VYou should be able to do what you need using the  callback:
p4832
aVHere's a stripped down example: http://jsfiddle
p4833
aVnet/ambiguous/Seuek/
p4834
aVThere's no CSS in the above so the dialog looks rather ugly but it is sufficient to demonstrate the effect
p4835
as(dp4836
g10
V479863
p4837
stp4838
a((dp4839
g2
(lp4840
VThis is a comment in ERB:
p4841
aVwhereas this is an error:
p4842
aVYou cannot combine a comment and the  syntax
p4843
aVIn the documentation you linked to, you might notice the optional -- see ERB
p4844
aVnew note in here:
p4845
aVAnd then,  has this to say:
p4846
aVIf *trim_mode* is passed a String containing one or more of the following modifiers, ERB will adjust its code generation as listed:
p4847
aVSo you probably don't have a *trim_mode* in your  options
p4848
as(dp4849
g10
V479863
p4850
stp4851
a((dp4852
g2
(lp4853
VYour first task is to choose a patch format
p4854
aVThe hardest format for humans to read (IMHO) turns out to be the easiest format for software to apply: the ed(1) script
p4855
aVYou can start off with a simple  to generate the patches; diff(1) will produce line-oriented patches but that should be fine to start with
p4856
aVThe ed format looks like this:
p4857
aVThe numbers are line numbers, line number ranges are separated with commas
p4858
aVThen there are three single letter commands:
p4859
aVa: add the next block of text at this position
p4860
aVc: change the text at this position to the following block
p4861
aVThis is equivalent to a d followed by an a command
p4862
aVd: delete these lines
p4863
aVYou'll also notice that the line numbers in the patch go from the bottom up so you don't have to worry about changes messing up the lines numbers in subsequent chunks of the patch
p4864
aVThe actual chunks of text to be added or changed follow the commands as a sequence of lines terminated by a line with a single period (i
p4865
ag785
aVor  depending on your preference)
p4866
aVIn summary, the format looks like this:
p4867
aVSo, to apply an ed patch, all you need to do is load the target file into an array (one element per line), parse the patch using a simple state machine, call Array#insert to add new lines and Array#delete_at to remove them
p4868
aVShouldn't take more than a couple dozen lines of Ruby to write the patcher and no library is needed
p4869
aVIf you can arrange your XML to come out like this:
p4870
aVrather than:
p4871
aVthen the above simple line-oriented approach will work fine; the extra EOLs aren't going to cost much space so go for easy implementation to start
p4872
aVThere are Ruby libraries for producing diffs between two arrays (google "ruby algorithm::diff" to start)
p4873
aVCombining a diff library with an XML parser will let you produce patches that are tag-based rather than line-based and this might suit you better
p4874
aVThe important thing is the choice of patch formats, once you choose the ed format (and realize the wisdom of the patch working from the bottom to the top) then everything else pretty much falls into place with little effort
p4875
as(dp4876
g10
V479863
p4877
stp4878
a((dp4879
g2
(lp4880
VNo, these two are not the same:
p4881
aVcan return  (which you should be using rather than -1) for multiple reasons:
p4882
aVIf the input ends before the first matching failure or conversion, EOF shall be returned
p4883
aVIf any error occurs, EOF shall be returned, and errno shall be set to indicate the error
p4884
aVBut :
p4885
aVThe feof() function shall return non-zero if and only if the end-of-file indicator is set for stream
p4886
as(dp4887
g10
V479863
p4888
stp4889
a((dp4890
g2
(lp4891
VYou're probably better of splitting the list into components and then checking each component:
p4892
aVThat may not be a one-liner but it will probably be a lot easier to understand six months down the road (unless, of course, your regex-fu gets stronger)
p4893
as(dp4894
g10
V479863
p4895
stp4896
a((dp4897
g2
(lp4898
VYou could try this:
p4899
aVMove the  inside the
p4900
aVDrop the  from
p4901
aVAdd  to  and drop the  to 27px
p4902
aVhttp://jsfiddle
p4903
aVnet/ambiguous/ekZEw/
p4904
aVYou might have to fiddle with the CSS a little bit more to get the precise visual appearance that you want
p4905
aVI think moving the span inside the element you want it attached to (the anchor) will yield more reliable results than anything else
p4906
as(dp4907
g10
V479863
p4908
stp4909
a((dp4910
g2
(lp4911
VYour problem is that you have two  elements with the same  attribute, this:
p4912
aVappears twice in your HTML
p4913
aVYour  attributes have to be unique within each page
p4914
aVThe solution is to change on of them to (for example):
p4915
aVAnd this to your jQuery:
p4916
aVYou could also replace your  binding to this to bind them both at once:
p4917
aVCould also be just a copy and paste error
p4918
aVI notice that you have several "mcs*_container" s mentioned in your jQuery
p4919
as(dp4920
g10
V479863
p4921
stp4922
a((dp4923
g2
(lp4924
VYour  has  but you want it to have
p4925
aVAn absolute position is relative to the parent so an absolutely positioned element will move and scroll with its parent; a fixed position is relative to the browser viewport so it won't move
p4926
as(dp4927
g10
V479863
p4928
stp4929
a((dp4930
g2
(lp4931
VYour problem is that you're appending the image to the  when you want it inside the  that will be inside that
p4932
aVChanging your list item builder from this:
p4933
aVto something like this:
p4934
aVshould do the trick
p4935
aVThe changes build the  inside the  and then put the image at the front (i
p4936
ag785
aVprepends) of the
p4937
aVYou'll probably have to adjust the CSS a little bit to get the layout you want, probably something like:
p4938
aVwith the appropriate CSS selectors to localize them
p4939
as(dp4940
g10
V479863
p4941
stp4942
a((dp4943
g2
(lp4944
VIf you want to do it right (i
p4945
ag785
aVback button support) then you'll want to trap the hashchange event and act on that, this event is fired by modern browsers when the URL fragment changes
p4946
aVHowever, not all browsers support hashchange so you'd have to work around that
p4947
aVYou're better off using a pre-built solution such as:
p4948
aVBen Alman's hashchange plugin
p4949
aVSammy
p4950
aVjs
p4951
aVjQuery BBQ
p4952
aVThe basic hashchange plugin is probably your best bet unless you're building a JavaScript application with complicated routing and argument handling
p4953
aVYou could look at  all the time too
p4954
aVBut, then you'd have to find the corresponding link and simulate a click on it to get the browser to behave
p4955
aVOnce you start doing that sort of thing you're probably better off with one of the above plugins/frameworks and some sort of formal routing system
p4956
as(dp4957
g10
V479863
p4958
stp4959
a((dp4960
g2
(lp4961
VYou have a classic closure problem in these two places:
p4962
aVThe problem is that the  inside those two functions refers to the  in the outside scope so when the click handlers are called, they'll end up using whatever value  had when the outer scope was finished
p4963
aVYou need to force that  to be evaluated when you generate your click handler functions
p4964
aVThe usual approach is to use a function to generate your callback functions:
p4965
aVThat extra layer of function evaluation forces  to be evaluated (as ) when you assign to  rather than when  gets called
p4966
aVYou can't get away from dealing with pointers even in languages that claim not to have them
p4967
aVUPDATE: Here's a clarification of how the funky self-executing functions work
p4968
aVThis:
p4969
aVis functionally equivalent to this:
p4970
aVWhen  is called, it is given  and  is a reference to a certain object
p4971
aVThen, inside ,  refers to the same object that  refers to
p4972
aVOutside of ,  can change to refer to a different object but the  still refers to the old one
p4973
aVThe function call \u2014 either through  or the idiomatic self-executing function \u2014 is just a way to divorce the variable name, , from the object it refers to: the goal is to grab a hold of what  refers to so that  can change without undesirable side effects
p4974
aVThis is tricky stuff and takes some getting used to
p4975
aVClosures trip everyone up, don't feel bad about being a bit confused
p4976
as(dp4977
g10
V479863
p4978
stp4979
a((dp4980
g2
(lp4981
VYou could use JavaScript to add a specific hidden input to the form:
p4982
aVAnd then, on the server you can check if there is a  parameter coming in
p4983
aVIf there isn't then you're probably dealing with someone or something that doesn't have JavaScript support
p4984
aVYou could do the same thing inside your  function by adding something else to :
p4985
as(dp4986
g10
V479863
p4987
stp4988
a((dp4989
g2
(lp4990
VI think jqGrid uses the jQuery-UI style method calls
p4991
aVBased on these examples, you need to call  like this:
p4992
as(dp4993
g10
V479863
p4994
stp4995
a((dp4996
g2
(lp4997
VDon't call  yourself, delete this line:
p4998
aVYour  call only has one second resolution and each run through the loop takes much much less than one second, the result is that you're seeding the random number generator with the same value every time and that yields the same set of random numbers
p4999
aVModern  implementations take care of seeding the random number generator themselves
p5000
aVMost random number generators are actually deterministic functions of their seed, your  looks like it is one of these
p5001
aVThe standard refers to what  generates as pseudo-random integers for a good reason
p5002
as(dp5003
g10
V479863
p5004
stp5005
a((dp5006
g2
(lp5007
VYou're checking the wrong thing, this:
p5008
aVshould be this:
p5009
aVA selector like  looks for  tags with the specified  attribute but you want a  element; since your  has an  attribute, you can just use an ID selector
p5010
as(dp5011
g10
V479863
p5012
stp5013
a((dp5014
g2
(lp5015
VYour immediate problem is in your  function
p5016
aVThis conditional will always be false:
p5017
aVbecause you're not passing  into the function; the above is logically equivalent to this:
p5018
aVJust as a style note, you could write it as:
p5019
aVThere is no special  value or keyword in JavaScript
p5020
aVWhen you say  you're actually implicitly creating a variable called  that is not initialized, hence the  instead of your
p5021
aVThere are other problems
p5022
aVFor one, you're skipping over  elements
p5023
aVFor another, you're not checking the  of  elements so you'll include the values of checkboxes and radio buttons that are in the form but not selected
p5024
aVFurthermore, you're using the wrong thing in your , you want  rather than  so this:
p5025
aVshould be this:
p5026
aVI didn't fix the , radio button, or checkbox issues but this version is at least producing a query string: http://jsfiddle
p5027
aVnet/ambiguous/8QYWH/
p5028
as(dp5029
g10
V479863
p5030
stp5031
a((dp5032
g2
(lp5033
VYou want to use  for outputting arbitrary binary data:
p5034
aVThe  function writes a C string and C strings are terminated by  (AKA 0x00)
p5035
aVUPDATE: In comments elsewhere you say that you want "ASCII characters to be read by "
p5036
aVFirst of all, don't ever use , never, don't even mention its name
p5037
aVSecondly, if you just want ASCII characters then why go to all the trouble of stuffing the raw bytes into a  buffer when you could just do this:
p5038
aVor something similarly straight forward
p5039
as(dp5040
g10
V479863
p5041
stp5042
a((dp5043
g2
(lp5044
VYour problem is that this:
p5045
aVreplaces the contents of  and thus you lose the buttons their bindings
p5046
aVYou can either use the callback for  to bind click handlers to the new buttons or you can use  for the buttons:
p5047
aVor  for the buttons:
p5048
aVThere are some caveats with  and , review the documentation to make sure they won't apply to your specific case before you use them
p5049
as(dp5050
g10
V479863
p5051
stp5052
a((dp5053
g2
(lp5054
VYou'll want to use an object literal to track your results and an "attribute starts with" selector to find the text inputs:
p5055
aVDon't forget the second argument to  so that you don't get tripped up by values with leading zeros (which look like octal without a specified radix)
p5056
aVFor example: http://jsfiddle
p5057
aVnet/ambiguous/QAqsQ/ (you'll need to run this in a browser with an open JavaScript console to see the resulting )
p5058
as(dp5059
g10
V479863
p5060
stp5061
a((dp5062
g2
(lp5063
VFirst of all, you should turn on your compiler's warning flags (all of them)
p5064
aVThen you should pass a pointer to your  and use something other than  as a variable name:
p5065
aVThen, in :
p5066
aVYou can't convert non-pointer types to and from  like you're trying to, converting pointer types to and from  is, on the other hand, valid
p5067
as(dp5068
g10
V479863
p5069
stp5070
a((dp5071
g2
(lp5072
VI think you mean to say:
p5073
aVwhere you're saying:
p5074
aVAlso check to make sure you don't have multiple checkboxes with the same  attribute
p5075
as(dp5076
g10
V479863
p5077
stp5078
a((dp5079
g2
(lp5080
VI think you're confused about what  returns, it returns  not the thing that was appended
p5081
aVSo, when you say this:
p5082
aVYou are adding a click handler to  and you do that once every time you go through the loop so you end up with four identical click handlers
p5083
aVI think you want something more like this:
p5084
aVThat will put the click handler on the appended image rather than on
p5085
as(dp5086
g10
V479863
p5087
stp5088
a((dp5089
g2
(lp5090
VI think  would probably be the closest standard cursor value for what you're doing:
p5091
aVmove
p5092
aVIndicates something is to be moved
p5093
as(dp5094
g10
V479863
p5095
stp5096
a((dp5097
g2
(lp5098
VTry the  aggregate function, sounds like exactly what you're looking for:
p5099
as(dp5100
g10
V479863
p5101
stp5102
a((dp5103
g2
(lp5104
VNot hard:
p5105
as(dp5106
g10
V479863
p5107
stp5108
a((dp5109
g2
(lp5110
VYou're loading two different versions of jQuery:
p5111
aVOne of them ends up as  and doesn't have validate installed, the other ends up as  and does have validate installed; in particular,  ends up as jQuery 1
p5112
aV5
p5113
aV2 and  ends up as 1
p5114
ag1938
ag1938
aVOpen up a JavaScript console on your site and look at these:
p5115
aVThe solution is to just include one jQuery library
p5116
as(dp5117
g10
V479863
p5118
stp5119
a((dp5120
g2
(lp5121
VIf I understand correctly, you're worried about "%" appearing inside  and rightly so; you should also be worried about embedded underscores ("_") too, they're the LIKE version of "
p5122
aVin a regex
p5123
aVI don't think there is any Rails-specific way of doing this so you're left with :
p5124
aVThere's no need for string interpolation here either
p5125
aVYou need to double the backslashes to escape their meaning from the database's string parser so that the LIKE parser will see simple "\u005c%" and know to ignore the escaped percent sign
p5126
aVYou should check your logs to make sure the two backslashes get through
p5127
aVI'm getting confusing results from checking things in , using five (
p5128
aVgets the right output but I don't see the sense in it; if anyone does see the sense in five of them, an explanatory comment would be appreciated
p5129
aVUPDATE: Jason King has kindly offered a simplification for the nightmare of escaped escape characters
p5130
aVThis lets you specify a temporary escape character so you can do things like this:
p5131
aVI've also switched to the block form of  to make it a bit less nasty
p5132
aVThis is standard SQL92 syntax, so will work in any DB that supports that, including PostgreSQL, MySQL and SQLite
p5133
aVEmbedding one language inside another is always a bit of a nightmarish kludge and there's not that much you can do about it
p5134
aVThere will always be ugly little bits that you just have to grin and bear
p5135
as(dp5136
g10
V479863
p5137
stp5138
a((dp5139
g2
(lp5140
VYou have an off-by-one error when forcing the null terminator in , this:
p5141
aVruns past the end of , it should be:
p5142
aVWhen you declare an array in C as , the  is the number of elements in the array and since C arrays are indexed starting from zero, the last element is
p5143
aVThis off-by-one could be changing the value of  between the  and the  check
p5144
as(dp5145
g10
V479863
p5146
stp5147
a((dp5148
g2
(lp5149
VI see various problems here
p5150
aVFirst of all, this:
p5151
aVdoesn't allocate the right amount of memory (and you don't need the cast)
p5152
aVYou want this:
p5153
aVThen, you say this:
p5154
aVand that's assigning an  to an ; that's not a good idea and valgrind rightly complains about it
p5155
aVIf your  is properly declared, then you want this:
p5156
aVI suspect (as you say that everything works) that you really mean to declare your  like this:
p5157
aVbut there isn't enough information to be certain
p5158
aVThen you probably still have similar issues with
p5159
as(dp5160
g10
V479863
p5161
stp5162
a((dp5163
g2
(lp5164
VYou don't need the  signs to refer to variables in PLPGSQL, that syntax is from (AFAIK) T-SQL
p5165
aVThe  sign is used for absolute value in PostgreSQL and PostgreSQL is saying that it doesn't know how to take the absolute value of a timestamp
p5166
aVThe  works fine with the other parameters because they're numeric
p5167
aVDrop the  signs and it should work
p5168
as(dp5169
g10
V479863
p5170
stp5171
a((dp5172
g2
(lp5173
VFirefox is giving you a pink border because you're telling it to with this:
p5174
aVThe usual way to add IE-specific styles is to use a conditional comment and a separate stylesheet just for IE
p5175
aVFirst remove the  from your main CSS:
p5176
aVThen add an  stylesheet with this:
p5177
aVAnd finally, pull in the IE6 stylesheet with something like this in your HTML:
p5178
as(dp5179
g10
V479863
p5180
stp5181
a((dp5182
g2
(lp5183
VThis problem is tailor made for awk(1)
p5184
aVFor example, you can do this:
p5185
aVto print out lines where column two matches
p5186
aVSo, given a column number in  and a regular expression in , you should be able to do this:
p5187
aVYou will, as usual, need to be careful with your quoting
p5188
as(dp5189
g10
V479863
p5190
stp5191
a((dp5192
g2
(lp5193
VI doubt there would be much of a performance difference between your two approaches; but, as with all performance and optimization questions, feelings and guesses don't matter, only profiled results matter
p5194
aVWhich one will be more efficient depends on your data, your database, your access patterns, and what "efficient" means (space
p5195
aVtime
p5196
aVdeveloper effort
p5197
aVfinal monetary cost
p5198
aVin your context
p5199
aVThat said, using two tables is a better structure as it allows you to have foreign keys from your group-permission table back to your group table and your user-permission table back to your user table
p5200
aVEven if it was faster in one table I'd still go with two: data integrity is more important than wasting a couple µs of processor time, I don't see much point in quickly accessing unreliable or broken data
p5201
as(dp5202
g10
V479863
p5203
stp5204
a((dp5205
g2
(lp5206
VYour problem is that you're using a background image to simulate the  for
p5207
aVThe background image goes inside the border area whereas the  immediately below it has a real border of 1px; the browser is making the  and the  the same inner width to line up the columns but the  appears 1px wider because it has a real  of 1px
p5208
aVYour  is hiding the width issue in the other cells
p5209
aVThe solution is to use your background image as a background image and a border for the border
p5210
aVOr, use the background image trick to put right and left borders on the  elements
p5211
as(dp5212
g10
V479863
p5213
stp5214
a((dp5215
g2
(lp5216
VYou want to use , this should work:
p5217
aVNote that  is no longer in the  as it is now being aggregated
p5218
as(dp5219
g10
V479863
p5220
stp5221
a((dp5222
g2
(lp5223
VLooks like you have to poll the  by hand:
p5224
as(dp5225
g10
V479863
p5226
stp5227
a((dp5228
g2
(lp5229
VUse a CASE:
p5230
aVThe  clause might be over doing it a bit but you didn't specify that  could only have those two values and I'm not sure what you want to do for an "else" clause in the
p5231
as(dp5232
g10
V479863
p5233
stp5234
a((dp5235
g2
(lp5236
VThe commands in makefile rules are simply fed to the shell so quoting absolutely does matter
p5237
aVThis rule will work:
p5238
aVbut this one won't:
p5239
aVThe second won't work because you probably don't have a single command called, say,  even though you do have an  command that knows what to do with the  argument list
p5240
aVYour second example:
p5241
aVis a bit different because the quotes are around the argument to the shell built-in  so these two rules:
p5242
aVwould usually produce the same output (unless, of course, you had some bizarre C++ compiler command that had, for example, a ">" in its name and, in this case, the desired output would be a smack upside the head to whoever named your C++ compiler and that's beyond the abilities of even GNU make)
p5243
aVOn the other hand, these two rules would produce slightly different output due to the interaction of the quotes and the whitespace:
p5244
aVrule3 would do the same thing as rule1 but rule4 would print a string with a bunch of whitespace in the middle
p5245
as(dp5246
g10
V479863
p5247
stp5248
a((dp5249
g2
(lp5250
VYou probably need your library at the end of the command:
p5251
aVThe linker usually searches for symbols from the left to the right and the SQLite symbols are being referenced in  but defined in
p5252
as(dp5253
g10
V479863
p5254
stp5255
a((dp5256
g2
(lp5257
VYou can float the container around the inputs and your paragraph:
p5258
aVAnd then drop the  on  as it doesn't do anything (or leave it in)
p5259
aVhttp://jsfiddle
p5260
aVnet/ambiguous/QdY44/
p5261
as(dp5262
g10
V479863
p5263
stp5264
a((dp5265
g2
(lp5266
VI think the main problem with your original AR query is that it isn't doing any joins at all; you pull a bunch of objects out of the database via  and then throw most of that work away to get just the IDs
p5267
aVA first step would be to replace the  with a  but you'd still be pulling a bunch of stuff out of the database, instantiating a bunch of objects, and then throwing it all away with the  to get just ID numbers
p5268
aVYou know SQL already so I'd probably go straight to SQL via a convenience method on your List model (or whatever  is), something like this:
p5269
aVAnd then, in your controller:
p5270
aVIf that isn't fast enough then review your indexes on the  table
p5271
aVThere's no good reason not go straight to SQL when you know exactly what data you need and you need it fast; just keep the SQL isolated inside your models and you shouldn't have any problems
p5272
as(dp5273
g10
V479863
p5274
stp5275
a((dp5276
g2
(lp5277
VThe  method wants an Image object, not a string
p5278
aVSo, you just need to instantiate your URLs as Image objects:
p5279
aVThe "Type Error" part of your error message is clear enough once you know what  wants
p5280
aVThe rest of the error message is a bit of a mess because the exception originates inside a function that is being called by jQuery's AJAX success callback, this means that you end up with several layers of obscurity between you and and your bug
p5281
as(dp5282
g10
V479863
p5283
stp5284
a((dp5285
g2
(lp5286
VYou do realize that your  calls are asynchronous, right
p5287
aVThis :
p5288
aVWill add an , launch an asynchronous  call, and then repeat for the next entry in
p5289
aVThe AJAX calls will almost certainly take longer to finish than the  so it will produce the company name s and then the AJAX calls will finish up and add the s
p5290
aVThere is no guarantee that the s will even be added in the right order
p5291
aVIf you need things to happen in a specific order then you're going to have to add  to your  calls
p5292
aVUPDATE: I need a bit more space than a comment provides
p5293
aVNo, this is not my last theorem
p5294
aVYou could push the  stuff down into the inner success handler but this would still leave you open to ordering issues (i
p5295
ag785
aVthe second AJAX call could complete before the first)
p5296
aVI think the easiest thing to do would be to add wrapper s with ID attributes around your  and  elements, this would give you an easy target for a  call; something sort of like this:
p5297
aVThe idea is to append content to something attached just to the right  rather than appending to ; then, everything will appear in the right order because you have embedded the correct order in your the HTML element nesting
p5298
aVYou'll need  as a separate function to properly localize  and  to just the desired context and thus avoid the usual closure problems
p5299
as(dp5300
g10
V479863
p5301
stp5302
a((dp5303
g2
(lp5304
VBlock elements take the width of their parent by default, not the width of their content; height on the other hand, works the other way around: block elements take the height of their content by default rather than the height of their parent
p5305
aVThings work this way because HTML/CSS is built around the usual top-to-bottom layout of English text
p5306
aVSo, your  takes the width of  and then the  inside  overflows outside
p5307
aVIf you put  on  you'll clip the ,  on  will add a scrollbar
p5308
aVUPDATE: As far as floating elements are concerned, the CSS3 spec has this to say:
p5309
aVThe used value of \u2018width\u2019 is the computed value, unless that is \u2018auto\u2019, when used value is the shrink-to-fit width
p5310
aVThe default width will be auto so shrink-to-fit it is:
p5311
aVCalculation of the shrink-to-fit width is similar to calculating the width of a table cell using the automatic table layout algorithm
p5312
aVRoughly: calculate the preferred width by formatting the content without breaking lines other than where explicit line breaks occur, and also calculate the preferred minimum width, e
p5313
ag1985
aV, by trying all possible line breaks
p5314
aVThere are no possible line breaks in your  so the floated  will take on the entire width of its  child
p5315
as(dp5316
g10
V479863
p5317
stp5318
a((dp5319
g2
(lp5320
VSounds like you're looking for  from
p5321
as(dp5322
g10
V479863
p5323
stp5324
a((dp5325
g2
(lp5326
VYour database is storing your timestamps in UTC (as it should)
p5327
aVActiveRecord is making timezone adjustments when it knows that it has a timestamp; so, when you say this:
p5328
aVAR knows that  is a timestamp so it instantiates the timestamp as an  instance and that class applies the timezone adjustment
p5329
aVBut, when you say this:
p5330
aVAR isn't going to parse the SQL to figure out that  will return a timestamp, AR doesn't even know what  means
p5331
aVAR will just see a string coming out of the database and it will hand it to you without interpretation
p5332
aVYou are free to feed that string to  (or your favorite time handling class) yourself: there's nothing wrong with telling AR things that it does not and cannot know on its own
p5333
aVRails is clever but it isn't magic
p5334
as(dp5335
g10
V479863
p5336
stp5337
a((dp5338
g2
(lp5339
VCould you turn it around a bit
p5340
aVSomething like this (with sensible variable names and a "real" API) would simplify things:
p5341
aVDisplay a loading message
p5342
aVInstantiate an application initializer,
p5343
aVCrank up the AJAX requests:
p5344
aVSuccess handlers call
p5345
aVError handlers call
p5346
aVRegister with the initializer, , in case a "you're taking too long" check is desired
p5347
aVOnce all the AJAX requests have called , initialize the application etc
p5348
aVIf any of the AJAX tasks called , then display an error message and start cleaning things up
p5349
aVThis way you wouldn't need to  and the individual AJAX tasks will tell you when they have finished or fallen over
p5350
aVYou might still want the interval to deal with tasks that are taking too long but most of the logic would be notification based rather than polling based
p5351
as(dp5352
g10
V479863
p5353
stp5354
a((dp5355
g2
(lp5356
VYou could use :
p5357
aVThat will filter out any undefined values in the argument list
p5358
as(dp5359
g10
V479863
p5360
stp5361
a((dp5362
g2
(lp5363
VI think you have a choice between solutions that require you to remember something, the question is how often do you want to remember
p5364
aVIf you rename one of them then you have to remember to patch any upgrades
p5365
aVI don't think this is such a big deal, it happens all the time in software development
p5366
aVAn alternative is to pull in one of the plugins and then immediately load a namespace patcher that simply does, for example,  and then the expose plugin can be loaded after that
p5367
aVThis approach will work as long as the renamed plugin doesn't reference its own name anywhere
p5368
aVAnd, you'd have to remember the specific loading order for your plugins
p5369
aVThis sort of thing also occurs all the time in software development
p5370
as(dp5371
g10
V479863
p5372
stp5373
a((dp5374
g2
(lp5375
VYou want to feed your SQL DDL commands to SQLite through the standard input:
p5376
as(dp5377
g10
V479863
p5378
stp5379
a((dp5380
g2
(lp5381
VjQuery-UI is built on top of jQuery
p5382
aVBoth jQuery and prototype use  as the name of their main function
p5383
aVSounds like jQuery and prototype are fighting over
p5384
aVYou could use jQuery instead of prototype or call  to tell jQuery to let go of  for other things to use
p5385
as(dp5386
g10
V479863
p5387
stp5388
a((dp5389
g2
(lp5390
VYou could use  if you really want to be paranoid:
p5391
aVThe  operator will properly handle subclasses of String too:
p5392
aVworks by checking if  is in the prototype chain of
p5393
aVI don't think I've ever actually used the String class in JavaScript but there's nothing wrong with being paranoid and aiming for correctness
p5394
as(dp5395
g10
V479863
p5396
stp5397
a((dp5398
g2
(lp5399
VYour problem isn't with the header files, your problem is with the libraries; complaints about "undefined references" generally come from the linker
p5400
aVYou need to put the library configuration options after the source file:
p5401
aVThe  option will produce a series of  flags for the compiler, the compiler will pass those to the linker
p5402
aVThe linker will resolve symbols from left to right starting with the object file (or, close enough in this case, the C source file) so all the library  switches need to follow your source file
p5403
as(dp5404
g10
V479863
p5405
stp5406
a((dp5407
g2
(lp5408
VFrom the fine manual for :
p5409
aVUpon successful completion, fork() shall return 0 to the child process and shall return the process ID of the child process to the parent process
p5410
aVThe first branch of the  is an error condition and will be executed in the parent process if there was an error
p5411
aVThe second branch () is executed in the child process, the child does a bit of signal housekeeping and does the
p5412
aVThe third branch is in the parent when there was no error
p5413
aVIn the parent,  will be non-zero but in the new child process,  will be zero
p5414
as(dp5415
g10
V479863
p5416
stp5417
a((dp5418
g2
(lp5419
VThis:
p5420
aVWill end up looking like this when the SQL interpreter sees it:
p5421
aVAnd that will match any SongName that contains a literal "=
p5422
aVand I don't think that's anything like what you want
p5423
aVA  matches any sequence of characters in an SQL LIKE, it is essentially the same as  in a regular expression; so, if you want to match at the beginning then you don't want a leading
p5424
aVAlso, your  placeholder needs to be outside the single quotes or it will be interpreted as a literal question mark rather than a placeholder
p5425
aVYou want something more like this:
p5426
aVIf you wanted to be really strict you'd also have to escape  and  symbols inside  as well but that's left as an exercise for the reader
p5427
as(dp5428
g10
V479863
p5429
stp5430
a((dp5431
g2
(lp5432
VThe cache is using standard marshalling to cache your objects
p5433
aVOne of the objects that you're trying to serialize has a Mutex in it but you can't serialize something that is little more than a bit of runtime state:
p5434
aVSome objects cannot be dumped: if the objects to be dumped include bindings, procedure or method objects, instances of class IO, or singleton objects, a TypeError will be raised
p5435
aVThe problem is that some things only exist as runtime information and they cannot be recreated automatically
p5436
aVYou have a thread mutex somewhere in your Player and Marshal has no way of automatically serializing a mutex
p5437
aVYou're going to have to implement your own serialization; there are two methods of doing this outlined in the Marshal documentation:
p5438
aVImplement  and  methods
p5439
aVImplement  and  methods
p5440
aVYou'll probably want to go with  and  as they're the easiest
p5441
as(dp5442
g10
V479863
p5443
stp5444
a((dp5445
g2
(lp5446
VI've used them to make working with trees (such as comment threads) easier
p5447
aVYou can store the path from the tree's root to a single node in an array, each number in the array is the branch number for that node
p5448
aVThen, you can do things like this:
p5449
aVPostgreSQL will compare arrays element by element in the natural fashion so  will dump the tree in a sensible linear display order; then, you check the length of  to figure out a node's depth and that gives you the indentation to get the rendering right
p5450
aVThe above approach gets you from the database to the rendered page with one pass through the data
p5451
aVPostgreSQL also has geometric types, simple key/value types, and supports the construction of various other composite types
p5452
aVUsually it is better to use traditional association tables but there's nothing wrong with having more tools in your toolbox
p5453
as(dp5454
g10
V479863
p5455
stp5456
a((dp5457
g2
(lp5458
VIf you're doing this sort of thing a lot then a little helper function is useful:
p5459
aVThe trick is to realize that this:
p5460
aVcan also be written as:
p5461
aVAnd that can be easily represented as a string:
p5462
aVthat is easy to understand and parse
p5463
aVYou could also represent the path as an array (as CD Sanchez does) but then you'd have to do something with the default value,
p5464
aVYou could also allow the  argument to be an array:
p5465
aVThen you'd have some flexibility as to which argument format was easiest to work with and it wouldn't even cost that much
p5466
aVThanks to a small discussion with CD Sanchez for this idea
p5467
as(dp5468
g10
V479863
p5469
stp5470
a((dp5471
g2
(lp5472
VThe documentation is pretty clear that CHANGE COLUMN requires the full column definition:
p5473
aVCHANGE [COLUMN] old_col_name new_col_name column_definition
p5474
aVAnything optional would be in brackets
p5475
aVYour best bet is probably to write a little one-off script to produce your ALTER TABLE commands based on the table's current schema
p5476
aVYou should be able to extract the column definitions from whatever data access layer you're using
p5477
as(dp5478
g10
V479863
p5479
stp5480
a((dp5481
g2
(lp5482
VYou use the  parameter in the options hash:
p5483
aVData to be sent to the server
p5484
aVIt is converted to a query string, if not already a string
p5485
aVIt's appended to the url for GET-requests
p5486
aVSee processData option to prevent this automatic processing
p5487
aVObject must be Key/Value pairs
p5488
aVIf value is an Array, jQuery serializes multiple values with same key based on the value of the traditional setting (described below)
p5489
aVFor example:
p5490
as(dp5491
g10
V479863
p5492
stp5493
a((dp5494
g2
(lp5495
VYou could use  to load them as needed:
p5496
aVsets the HTML contents of the matched element to the returned data
p5497
aVThis means that most uses of the method can be quite simple:
p5498
aVSo, when you first want to toggle one of them open, you could use  to pull over the data
p5499
aVYou could bind the AJAX loading using  so that it would only be called once
p5500
as(dp5501
g10
V479863
p5502
stp5503
a((dp5504
g2
(lp5505
VI think you want this:
p5506
aVThe backticks are used to capture the output of a command in shell variable, for example:
p5507
aVwill put the output of  into the variable
p5508
as(dp5509
g10
V479863
p5510
stp5511
a((dp5512
g2
(lp5513
VThe line number doesn't make much sense to me but I think your problem is right here (reformatted for illustrative purposes):
p5514
aVYou're calling the  function inside the  macro
p5515
aVThe  function returns  (i
p5516
ag785
aVno return value) but it is being called in a context that needs a value and hence the "void value not ignored" error
p5517
aVI think you mean to say something more like this:
p5518
as(dp5519
g10
V479863
p5520
stp5521
a((dp5522
g2
(lp5523
VLet us start at the top
p5524
aVThis doesn't make any sense:
p5525
aVYou're going through the array twice and setting  to a new two element array each time; that's reasonable enough but each time through the array you're setting  to the same thing each time through
p5526
aVOn the first iteration,  won't have anything useful in it but you're treating it as an array so everything stops right there because you can't treat an undefined value as an array
p5527
aVYour code won't even get through one iteration of this loop before the JavaScript engine shuts it down
p5528
aVAnd regular expressions and strings are different things so you don't want to wrap your regular expressions in string-like single quotes
p5529
aVI think you want something simpler like this:
p5530
aVAlso notice the  in front of , that will keep your variable nice and localized rather than making it global
p5531
aVThen we come to this and it doesn't make any sense either:
p5532
aVRemember that  is a two dimensional array, not a three dimensional one; so,  won't do anything useful
p5533
aVI think you want this:
p5534
aVNow,  is a method on  and it requires an ID as an argument,  also returns a single element (not an array) so you want this:
p5535
aVYour  statements require parentheses
p5536
aVAnd, if your form elements have  attributes, use them rather than trying to go through :
p5537
aVThat should get you something that will at least run
p5538
aVFurther debugging is left as an exercise for the reader
p5539
as(dp5540
g10
V479863
p5541
stp5542
a((dp5543
g2
(lp5544
VYou are not overflowing,  is overflowing
p5545
aVThe  function is supposed to take a :
p5546
aVConverts a size in bytes into a human-readable format with size units
p5547
aVAnd  so  is a perfectly valid  and  should do The Right Thing with it
p5548
aVYou should report a bug to the PostgreSQL people and win kudos
p5549
aVUPDATE: Examining the PostgreSQL source code (thanks to Jeremiah Peschka for providing the link) shows us where the bug is:
p5550
aVIf  is close to the limit of , then adding  to it will overflow before the following division by  can bring it back into range
p5551
as(dp5552
g10
V479863
p5553
stp5554
a((dp5555
g2
(lp5556
VI don't think you can use those two libraries together without some major surgery
p5557
aVincludes some OpenGL headers by itself:
p5558
aVAnd GLEW has this to say:
p5559
aVYou also need to replace  and  with  in your code and set the appropriate include flag () to tell the compiler where to look for it
p5560
aVeven has this wonderful bit of hackery in it:
p5561
aVSo, not only does GLEW complain if you include , it actively tries to keep the compiler from ever seeing  by faking the guards
p5562
aVSo, GLEW wants you to use its header but GLFW uses the usual OpenGL headers whether you ask for them or not
p5563
aVI think you're out of luck
p5564
as(dp5565
g10
V479863
p5566
stp5567
a((dp5568
g2
(lp5569
VYour problem is that Rails is trying to interpret "
p5570
aVvilla@gmailcom" as a format specification (such as "
p5571
aVhtml" or "
p5572
aVjson")
p5573
aVAFAIK, the standard work around (or at least the one I use) is to add this to your route:
p5574
aVThis tricks Rails into not trying to be clever about what  contains
p5575
aVI'm not surprised that you couldn't find anything, googling for "@" or "
p5576
aVdoesn't do anything useful
p5577
as(dp5578
g10
V479863
p5579
stp5580
a((dp5581
g2
(lp5582
VYou seem to be confused about what  returns, from the fine manual:
p5583
aVAn  is returned if an error occurs
p5584
aVA successful execute always returns true regardless of the number of rows affected, even if it's zero (see below)
p5585
ag3892
aVThe execute method does not return the number of rows that will be returned by the query (because most databases can't tell in advance), it simply returns a true value
p5586
aVSo you want to do something like this instead:
p5587
aVI threw in the placeholders (to protect against SQL injection attacks) and corrected the syntax of your WHERE clause for free
p5588
aVEven better would be to put a unique index on (name,area,level) inside the database
p5589
aVThen you could just do the INSERT and trap and ignore the "unique constraint violated" exception
p5590
aVThis approach protects against a race condition in your approach: you check for an existing row but don't find one, another process adds the row, you add the row but end up with a duplicate because someone else inserted it between your check and your insert
p5591
aVPushing data integrity issues down into the database is always your best bet, databases are good at things like that
p5592
as(dp5593
g10
V479863
p5594
stp5595
a((dp5596
g2
(lp5597
VSQLite uses C-style boolean values:
p5598
aVSQLite does not have a separate Boolean storage class
p5599
aVInstead, Boolean values are stored as integers 0 (false) and 1 (true)
p5600
aVSo, when you say this:
p5601
aVSQLite doesn't know what  is so it assumes you're trying to reference another column name
p5602
aVThe proper way to deal with this is to let AR convert your Ruby boolean to an SQLite boolean (as in Tam's and fl00r's answers)
p5603
aVI think it is useful to know what you're doing wrong though
p5604
aVUPDATE: If you want to check for non-true  and include NULL then you'll want this:
p5605
aVOr better, don't allow NULLs in  at all
p5606
aVYou shouldn't allow NULL is any column unless you absolutely have to (ActiveRecord's default for nullability is exactly the opposite of what it should be)
p5607
aVThe SQL NULL is an odd beast and you always have to treat it specially, best not to allow it unless you need a "not there" or "unspecified" value for a column
p5608
as(dp5609
g10
V479863
p5610
stp5611
a((dp5612
g2
(lp5613
VIf you don't need them to be sequential then you could probably get away with adding a PK of type  (or ) to the table
p5614
aVThe numbers would still be unique per-username but it would be dead simple to implement and you wouldn't have the ugliness of UUIDs
p5615
aVYou could create one sequence per username through manual CREATE SEQUENCE calls
p5616
aVThen, you could add a BEFORE INSERT trigger to set the  by figuring out which sequence to use and then calling  on it
p5617
aVIf your usernames are limited to the usual  pattern, then you could build the sequence names as something like "seq_objid_username" and the trigger would be able to figure out which sequence to use quite easily; the per-username sequences could be created by an INSERT trigger on your user table
p5618
aVThis approach will work and it will be safe because it relies on PostgreSQL's existing transaction-safe sequence system
p5619
as(dp5620
g10
V479863
p5621
stp5622
a((dp5623
g2
(lp5624
VYou'd probably use an  to store those bits in C
p5625
aVIf you're using GCC then you can use  to count the one bits:
p5626
aVBuilt-in Function:
p5627
aVReturns the number of 1-bits in x
p5628
aVThis should resolve to a single instruction on CPUs that support it too
p5629
as(dp5630
g10
V479863
p5631
stp5632
a((dp5633
g2
(lp5634
VYou could use :
p5635
aVThe  method built by  would still be available though
p5636
aVYou could use  to get rid of the  method if you really wanted to (but make sure you get everything in the right order):
p5637
aVIf you really wanted to, you could monkey patch an  method into Module:
p5638
aVA better  would take a hash (e
p5639
ag1985
aV) but I'll leave that as an exercise for the reader
p5640
as(dp5641
g10
V479863
p5642
stp5643
a((dp5644
g2
(lp5645
VWhen you say , that is equivalent to saying:
p5646
aVSo all  sees is bunch of bytes that it compresses,  and  don't have a conversation about how  should order the files for  to optimially compress the entire stream
p5647
aVAnd  doesn't know the  data format so it cannot rearrange things for better compression
p5648
as(dp5649
g10
V479863
p5650
stp5651
a((dp5652
g2
(lp5653
VThe  method goes up the DOM tree to find an ancestor, you probably want to use
p5654
aVhttp://jsfiddle
p5655
aVnet/ambiguous/pWDth/
p5656
aVOr  and :
p5657
aVhttp://jsfiddle
p5658
aVnet/ambiguous/pWDth/1/
p5659
aVOr perhaps :
p5660
aVhttp://jsfiddle
p5661
aVnet/ambiguous/pWDth/2/
p5662
aVI'd probably use  as that's the least sensitive to how the HTML is arranged
p5663
as(dp5664
g10
V479863
p5665
stp5666
a((dp5667
g2
(lp5668
VYour SQL is a bit wrong, I think you want this:
p5669
aVNote the second mention of the  column name and the parentheses
p5670
as(dp5671
g10
V479863
p5672
stp5673
a((dp5674
g2
(lp5675
VYou could use a range:
p5676
aVRanges give you full control over the starting and ending indexes (as long as you want to go from a lower value to a higher value)
p5677
as(dp5678
g10
V479863
p5679
stp5680
a((dp5681
g2
(lp5682
VProbably your best bet is to look for information on binary network protocols rather than file formats
p5683
aVThe main issues (byte order, structure packing, serializing and unserializing pointers,
p5684
aVare the same but networking people tend to be more aware of the issues and more explicit in how they are handled
p5685
aVReading and writing a blob of binary to or from a wire really isn't much different than dealing with binary blobs on disk
p5686
aVYou could also find a lot of existing examples in open source graphics packages (such as netpbm or The Gimp)
p5687
aVAn open source office package (such as LibreOffice) would also give you lots of example code that deals with complex and convoluted binary formats
p5688
aVThere might even be something of use for you in Google's Protocol Buffers or old-school ONC RPC and XDR
p5689
aVI don't know any books or manuals on such things but maybe a bunch of real life working examples will be more useful to you than a HOWTO guide
p5690
as(dp5691
g10
V479863
p5692
stp5693
a((dp5694
g2
(lp5695
VI'm not sure why but WebKit (i
p5696
ag785
aVSafari and Chrome) doesn't like your  from
p5697
aVSometimes I see the odd wrapping in Chrome/Safari and sometimes I don't, maybe there is some timing based feedback somewhere in the layout engine
p5698
aVUsing  in  should work consistently (and make your menu items all the same size)
p5699
aVYou'll have to make change your spritesheet to be vertical rather than horizontal or it will bleed out the right side of your links a bit
p5700
aVBTW, I'm also seeing a JavaScript error:
p5701
aVTypeError: Result of expression 'E
p5702
aVcreate' [undefined] is not a function
p5703
aV/Design2011/js/mootools-for-dropdown
p5704
aVjs:173
p5705
as(dp5706
g10
V479863
p5707
stp5708
a((dp5709
g2
(lp5710
VWhat you're really interested in is this part here:
p5711
aVThe  function just converts four bytes from
p5712
aVto an unsigned four byte integer with possible byte order
p5713
aVadjustments
p5714
aVThe  in the second call to
p5715
aVmoves the address passed to  up by four bytes:
p5716
aVSo, the first two lines just pull two unsigned integers out of the
p5717
aVfirst eight bytes of  (with possibly byte order fixes)
p5718
aVThen we have this expression:
p5719
aVThe  is just the XOR operator and  is
p5720
aV0x3c81b7f5 so this test is just XORing  and 0x3c81b7f5 and
p5721
aVseeing if it is equal to ; if this comparison is true then you
p5722
aVhave the right type of file
p5723
as(dp5724
g10
V479863
p5725
stp5726
a((dp5727
g2
(lp5728
VMaybe you could set the CSS directly rather than trying to build CSS classes at runtime:
p5729
as(dp5730
g10
V479863
p5731
stp5732
a((dp5733
g2
(lp5734
VMy PHP-Fu isn't that strong but I suspect that the  is being interpreted as the character range from  to  (and note that numbers immediately follow the slash in ASCII) so maybe you want this:
p5735
aVI just added a backslash to escape the (sometimes) special meaning of "-" in a regular expression character class
p5736
as(dp5737
g10
V479863
p5738
stp5739
a((dp5740
g2
(lp5741
VLooks like you're trying to do two things at once with one query:
p5742
aVGet all the countries from
p5743
aVGet  for
p5744
aVYou'll have better luck if you grab the information for  first and then do this to get the country list:
p5745
aVThe GROUP BY will collapse duplicates
p5746
aVThen you'll need to update your  look to use the country for  rather than  to figure out the selected option
p5747
as(dp5748
g10
V479863
p5749
stp5750
a((dp5751
g2
(lp5752
VYou probably want to use :
p5753
aVYou'll need to escape your escape character to get a literal backslash (hence the doubled backslash) and use the "E" prefix on the replacement string to get the right escape syntax
p5754
aVUPDATE: And thanks to a_horse_with_no_name's usual strictness (a good thing BTW), we have a solution that doesn't need the extra backslash or non-standard "E" prefix:
p5755
aVThe  option tells PostgreSQL to use standard syntax for SQL strings:
p5756
aVThis controls whether ordinary string literals ('
p5757
aVtreat backslashes literally, as specified in the SQL standard
p5758
aVThis would also impact your  escape:
p5759
aVIf the configuration parameter standard_conforming_strings is off, then PostgreSQL recognizes backslash escapes in both regular and escape string constants
p5760
aVThis is for backward compatibility with the historical behavior, where backslash escapes were always recognized
p5761
as(dp5762
g10
V479863
p5763
stp5764
a((dp5765
g2
(lp5766
VThat's just a shortcut for declaring two variables in one statement, it is equivalent to this:
p5767
aVThe comma is actually an operator in JavaScript:
p5768
aVThe comma operator evaluates both of its operands (from left to right) and returns the value of the second operand
p5769
aVA  statement is made up of one or more expressions of the form:
p5770
aVwhere the square brackets indicate an optional component
p5771
aVThe general  statement looks like this:
p5772
aVvar varname1 [= value1 [, varname2 [, varname3
p5773
aV[, varnameN]]]];
p5774
aVYou'll usually only see the comma operator used in  statements and  loops:
p5775
aVbut it can be used in other places
p5776
as(dp5777
g10
V479863
p5778
stp5779
a((dp5780
g2
(lp5781
VI think the easiest approach would be to break the string into the "function" part and the "argument" part and then deal with the two parts separately
p5782
aVIf you want to keep the parentheses on the argument part, then:
p5783
aVAnd then:
p5784
aVYou might be able to cram more of that into a single regex (and possibly all of it depending on what non-regular features your target regex engine supports) but there's not much point and clarity is a better goal for your code than "short"
p5785
aVAnyone looking at the above should be able to figure out what it is doing if they have a decent JavaScript regex reference in hand
p5786
aVIf you end up dealing with more complicated expressions with quoting and escaping and such, then you could try modifying a CSV parser to do what you need
p5787
as(dp5788
g10
V479863
p5789
stp5790
a((dp5791
g2
(lp5792
VWhy not just use a normal array so no one has to visually parse all the escaping to figure out what's going on
p5793
aVThis is pretty clear:
p5794
aVand the people maintaining your code won't hate you for using  when it isn't appropriate or when they mess things up because they didn't see your escaped whitespace
p5795
as(dp5796
g10
V479863
p5797
stp5798
a((dp5799
g2
(lp5800
VYou could scrape Wikipedia (or just run a bunch of it through )
p5801
aVThat would also give you a vast source of non-English text as well
p5802
aVProject Gutenberg would be another good source of large amounts of plain text
p5803
as(dp5804
g10
V479863
p5805
stp5806
a((dp5807
g2
(lp5808
VYou should wrap your text in  elements:
p5809
aVNow your text is explicitly associated with the corresponding radio button and users will even be able to click on the text, visually impaired users will also be quite thankful for the improved usability
p5810
aVThen you can just do:
p5811
as(dp5812
g10
V479863
p5813
stp5814
a((dp5815
g2
(lp5816
V does this:
p5817
aVWrites a string of text followed by a newline character to a document
p5818
aVBut whitespace is collapsed and converted to a single space when rendering HTML so your newline does nothing inside the HTML
p5819
as(dp5820
g10
V479863
p5821
stp5822
a((dp5823
g2
(lp5824
VThe return value from  is:
p5825
aVUpon successful completion, these functions shall return the number of bytes actually written to the file associated with fildes
p5826
aVYou asked it to write 18 bytes and it did so it returns 18
p5827
aVYour error won't be printed because, well,  is false
p5828
aVMaybe you're confused because  is actually a single byte on Unixy systems
p5829
as(dp5830
g10
V479863
p5831
stp5832
a((dp5833
g2
(lp5834
VFirst of all,  is a method on the Array class:
p5835
aVMutates an array by appending the given elements and returning the new length of the array
p5836
aVSo  just appends  to  and sets  to the new number of elements in
p5837
aVThe  bit is tricky
p5838
aVThe  will be a function and it will be called by using the  method on that function (note: functions are objects in JavaScript)
p5839
aVYou'll also see  in there, that's a special variable that is:
p5840
aVAn array-like object corresponding to the arguments passed to a function
p5841
aVSo, if you want to unpack the argument list yourself (like using  in Perl, or variable argument lists in C or C++) or if you're just planning on passing the full argument list to someone else that wants an array, then you can use
p5842
aVNormally you'd say:
p5843
aVTo explicitly convert the  to a real array
p5844
aVHowever, in this case  is happy to take a raw  pseudo-array so there's no need for the "slice cast"
p5845
as(dp5846
g10
V479863
p5847
stp5848
a((dp5849
g2
(lp5850
VGiven:
p5851
aVYou can do this:
p5852
aVFor your education:
p5853
aV(and always include the radix argument)
p5854
as(dp5855
g10
V479863
p5856
stp5857
a((dp5858
g2
(lp5859
VI think that switch is to help debug gcc, not your program
p5860
aVThe page you link to starts like this:
p5861
ag1936
aV9 Options for Debugging Your Program or GCC
p5862
aVGCC has various special options that are used for debugging either your program or GCC:
p5863
aVEmphasis mine
p5864
aVThe  program is an internal part of GCC, it is probably somewhere under  or
p5865
as(dp5866
g10
V479863
p5867
stp5868
a((dp5869
g2
(lp5870
VFirst of all,  does not take any arguments
p5871
aVSecondly, from the fine manual:
p5872
aVLike rand(), random() shall produce by default a sequence of numbers that can be duplicated by calling srandom() with 1 as the seed
p5873
aVSo, unless you explicitly specify a seed by calling ,  will produce the same sequence of values every time
p5874
aVThirdly,  returns a  so you should be using  in your  call
p5875
aVFourthly, learn about your compiler's warning flags, turn them all on, and pay attention to their output
p5876
aVYou can turn off some of the warning flags once you understand why it is safe to do so
p5877
as(dp5878
g10
V479863
p5879
stp5880
a((dp5881
g2
(lp5882
VI'd guess that they're Uniform Resource Names with an "x-" prefix on the scheme to indicate that they're extensions (i
p5883
ag785
aVnot on the registered list)
p5884
aVYou'll see "x-" prefix notation for extensions in email headers, HTTP headers, and even MIME types
p5885
aVSorry, I don't have a list of authoritative references to back up my guess but maybe it will help anyway
p5886
as(dp5887
g10
V479863
p5888
stp5889
a((dp5890
g2
(lp5891
VIf you look at your loop:
p5892
aVYou'll see that every element in  involves a multiplication by  so the your  will be all zero
p5893
aVIf you assign  and force the computation into floating point mode by defining  to  (or by adding explicit casts), you'll see something more interesting from your  loop
p5894
aVAnd, while I'm here, please don't cast the return value from , it is not necessary and it often hides mistakes
p5895
aVYou're also not allocating  properly, you should be doing ; lucky for you,  is almost always at least as big as a pointer
p5896
aVThis modified version of your program:
p5897
aVProduce the following (which is more interesting and instructive than a bunch of zeros):
p5898
as(dp5899
g10
V479863
p5900
stp5901
a((dp5902
g2
(lp5903
VThe  function doesn't pause, it just arranges to execute the function (its first argument) after the specified delay and then immediately returns
p5904
aVSo, launching a whole bunch of timeouts isn't that useful
p5905
aVYou want the  callback to call  to start another timer
p5906
aVAnd you can use a function rather than a string as the first argument to
p5907
as(dp5908
g10
V479863
p5909
stp5910
a((dp5911
g2
(lp5912
VYou need to select the "no wrap (head)" option in the sidebar
p5913
aVOtherwise, your  function gets wrapped up in some  stuff and is not visible to be set in an  attribute:
p5914
aVhttp://jsfiddle
p5915
aVnet/ambiguous/a6rQX/
p5916
as(dp5917
g10
V479863
p5918
stp5919
a((dp5920
g2
(lp5921
VYou can find out what sort of data structure would produce that JSON yourself easily enough:
p5922
aVAnd then a quick reformatting of the output gives you this:
p5923
aVThere are probably easier ways but the above will do for a quick one-shot hack
p5924
as(dp5925
g10
V479863
p5926
stp5927
a((dp5928
g2
(lp5929
VYou could try using
p5930
aVYou pass it a  function to be called when the process terminates
p5931
aVI'm not sure how well that works under Windows though
p5932
aVA more Tcl/Tk-ish approach would be to use  to register an exit handler:
p5933
aVTcl_CreateExitHandler arranges for proc to be invoked by Tcl_Exit before it terminates the application
p5934
aVThis provides a hook for cleanup operations such as flushing buffers and freeing global memory
p5935
as(dp5936
g10
V479863
p5937
stp5938
a((dp5939
g2
(lp5940
VAccording to the XML Schema specification:
p5941
aVThe ·value space· of integer is the infinite set {
p5942
aV,-2,-1,0,1,2,
p5943
aV}
p5944
aVSo there are no specified limits on the size
p5945
aVHowever, for the base type decimal:
p5946
aVAll ·minimally conforming· processors ·must· support decimal numbers with a minimum of 18 decimal digits (i
p5947
ag785
aV, with a ·totalDigits· of 18)
p5948
aVHowever, ·minimally conforming· processors ·may· set an application-defined limit on the maximum number of decimal digits they are prepared to support, in which case that application-defined maximum number ·must· be clearly documented
p5949
aVSo implementation defined limits are allowed as long as they're specified and support at least 18 digits
p5950
aVTo be safe, I'd probably stick with 32bit integers and test anything larger than that
p5951
as(dp5952
g10
V479863
p5953
stp5954
a((dp5955
g2
(lp5956
VYou can specify what featured you want on your popup windows using the third argument to :
p5957
aVstrWindowFeatures
p5958
aVOptional parameter
p5959
aVThis parameter is the string which lists the requested window features (window functionalities and toolbars) of the new browser window
p5960
aVThis string parameter must not contain any blank space
p5961
aVEach requested window feature must be separated by a comma inside the character string
p5962
aVThe page I linked to even has a diagram to help you sort out which features are which
p5963
as(dp5964
g10
V479863
p5965
stp5966
a((dp5967
g2
(lp5968
VI don't think  is really meant to work with a filter file of that size so some sort of database backed solution might be your best bet
p5969
aVYou could load both files line-by-line into an SQLite database and then do a simple bit of SQL something like this:
p5970
aVand dump them back out
p5971
aVYou could do all of that straight from the command line with SQLite
p5972
as(dp5973
g10
V479863
p5974
stp5975
a((dp5976
g2
(lp5977
VThe standard jQuery function, , does return all matching elements
p5978
aVYour problem is right here:
p5979
aVYou seem to have multiple elements with the same  attribute and that is not allowed;  attributes should be unique within each page or you will get undefined behavior
p5980
aVIn your case, the browser is only returning the first element that has the  you're looking for
p5981
aVSo you need to fix your HTML and then fix your selector to match your corrected HTML
p5982
as(dp5983
g10
V479863
p5984
stp5985
a((dp5986
g2
(lp5987
VI think you have to do it yourself with a timer, something like this should do it:
p5988
aVYou could also use  but then you'd run the risk of your timed events overrunning each other
p5989
aVReferences:
p5990
aVjQuery Tools API
p5991
aVScrollable API
p5992
as(dp5993
g10
V479863
p5994
stp5995
a((dp5996
g2
(lp5997
VI'd guess that you didn't open your text file in binary mode
p5998
aVSome bytes will be changed when you write data in text mode (most notably the end-of-line byte sequence) and those changes will be ignored by Notepad because it thinks everything is text
p5999
aVTry using  (I think that's the right command) to compare your files rather than Notepad
p6000
as(dp6001
g10
V479863
p6002
stp6003
a((dp6004
g2
(lp6005
VIf you have jQuery kicking around then you can do this safely without regular expressions:
p6006
aVThis will also insulate against the differences between , , , , etc
p6007
as(dp6008
g10
V479863
p6009
stp6010
a((dp6011
g2
(lp6012
VYou can use :
p6013
aVPostgreSQL will automatically upgrade the division to floating point when  is floating point:
p6014
aVAnd:
p6015
as(dp6016
g10
V479863
p6017
stp6018
a((dp6019
g2
(lp6020
VRails has connection pooling built in:
p6021
aVSimply use ActiveRecord::Base
p6022
aVconnection as with Active Record 2
p6023
aV1 and earlier (pre-connection-pooling)
p6024
aVEventually, when you\u2019re done with the connection(s) and wish it to be returned to the pool, you call ActiveRecord::Base
p6025
aVclear_active_connections
p6026
aVThis will be the default behavior for Active Record when used in conjunction with Action Pack\u2019s request handling cycle
p6027
aVManually check out a connection from the pool with ActiveRecord::Base
p6028
aVconnection_pool
p6029
aVcheckout
p6030
aVYou are responsible for returning this connection to the pool when finished by calling ActiveRecord::Base
p6031
aVconnection_pool
p6032
aVcheckin(connection)
p6033
aVUse ActiveRecord::Base
p6034
aVconnection_pool
p6035
aVwith_connection(&block;), which obtains a connection, yields it as the sole argument to the block, and returns it to the pool after the block completes
p6036
aVThis has been available since version 2
p6037
ag2960
aVYou'll see a  parameter in your  for controlling it:
p6038
aV: number indicating size of connection pool (default 5)
p6039
aVI don't think there would be much point in layering another pooling system underneath it and it could even confuse AR's pooling if you tried it
p6040
as(dp6041
g10
V479863
p6042
stp6043
a((dp6044
g2
(lp6045
VWhat happens when the browser can't find the image depends on the browser
p6046
aVJust have a look at this in a few browsers and see what happens:
p6047
aVhttp://jsfiddle
p6048
aVnet/nhHyC/
p6049
aVSafari uses the specified dimensions but displays the "broken image" icon in that space
p6050
aVFirefox 4 uses the  text but ignores the dimensions
p6051
aVOpera and Chrome use the specified dimensions and display the  text in that space
p6052
aVI didn't bother checking IE because those machines are hidden in the closet of my testing labs :)
p6053
aVIf you need specific behavior then you'll have to do it yourself with a wrapper  with  and the desired dimensions
p6054
aVArranging the appropriate content will be trickier if you want to cover all the browsers
p6055
aVThe  attribute is meant for user agents that cannot display images (such as screen readers and text only devices):
p6056
aVFor user agents that cannot display images, forms, or applets, this attribute specifies alternate text
p6057
as(dp6058
g10
V479863
p6059
stp6060
a((dp6061
g2
(lp6062
VThe function is called , the structure is called
p6063
aVFunctions and structures exist in different namespaces in C
p6064
aVIt is similar to the way you can do this:
p6065
aVAnd the compiler can sort out which  is which by the various namespaces
p6066
aVBut this example is rather excessive and would get you some dirty looks if you did something like this in real life
p6067
as(dp6068
g10
V479863
p6069
stp6070
a((dp6071
g2
(lp6072
VYou  and then  just below that
p6073
aVSo,  will be initialized to zero as it has file scope (someone correct me on this if I'm wrong please, I checked a few examples but that's no guarantee and I don't have a copy of the standard handy)
p6074
aVThen you have this in main:
p6075
aVAnd then a little bit later you finally assign a value to  and then proceed to use that
p6076
aVBut, your  was created using the initial value of
p6077
aVThe result is that everything is assuming that  is bigger than it really is and that's how you smash your stack
p6078
as(dp6079
g10
V479863
p6080
stp6081
a((dp6082
g2
(lp6083
VMultiple NULL values in a unique index are okay because  is false for all  and, in particular, when  is itself NULL
p6084
aVYou'll also run into this behavior in WHERE clauses where you have to say  and  rather than  and
p6085
as(dp6086
g10
V479863
p6087
stp6088
a((dp6089
g2
(lp6090
VYou are doing a  in :
p6091
aVBut I don't think  is a nul-terminated C string
p6092
aVYou'll find this inside :
p6093
aVSo, you're probably running off the end of the buffer and getting lucky by hitting a  before doing any damage
p6094
aVI think you're supposed to call  before copying  as a C string; or you could look at , use  and  to copy it, and take care of the nul-terminator by hand (but make sure you allocation  bytes for your copied string)
p6095
aVAnd if you want to get rid of the newline (i
p6096
ag785
aVthe trailing ), then you'll probably have to do some whitespace stripping by hand somewhere
p6097
as(dp6098
g10
V479863
p6099
stp6100
a((dp6101
g2
(lp6102
VThe  function returns a string (as ):
p6103
aVSearch and get the value of an attribute associated to a node This does the entity substitution
p6104
aVThis function looks in DTD attribute declaration for #FIXED or default declaration values unless DTD use has been turned off
p6105
ag3892
aVReturns: the attribute value or NULL if not found
p6106
aVIt's up to the caller to free the memory with xmlFree()
p6107
aVThe caller is responsible for parsing that string into whatever form (floating point, integer, boolean,
p6108
aVis needed
p6109
aVAlso note that the caller is responsible for freeing the returned  string too
p6110
aVTo fix your problem, you need to convert the string to what you need in the usual manner
p6111
aVAnd don't forget to  the returned strings
p6112
as(dp6113
g10
V479863
p6114
stp6115
a((dp6116
g2
(lp6117
VYou could start by reading about the  attribute:
p6118
aVThis attribute assigns an access key to an element
p6119
aVAn access key is a single character from the document character set
p6120
aVNote
p6121
aVAuthors should consider the input method of the expected reader when specifying an accesskey
p6122
ag3892
aVThe invocation of access keys depends on the underlying system
p6123
aVFor instance, on machines running MS Windows, one generally has to press the "alt" key in addition to the access key
p6124
aVOn Apple systems, one generally has to press the "cmd" key in addition to the access key
p6125
aVYou can also put the  attribute on  elements, an example of this usage can be found on the "Random Article" sidebar link on Wikipedia
p6126
as(dp6127
g10
V479863
p6128
stp6129
a((dp6130
g2
(lp6131
VYou have a closure problem with
p6132
aVWhen your function is called,  will reference the last value that  had in the for loop
p6133
aVSo,  will be  which is larger than the size of
p6134
aVThe solution is to force  to be evaluated when generating the callback function:
p6135
aVand then, in your loop:
p6136
aVWrapping the callback generation in a separate function will give you the value of  at the instant when you call  rather than the value when the callback is called
p6137
aVis a reference to a value, the value that it points at depends on when you ask  what its value is
p6138
aVWhen you bind a function like this:
p6139
aVThe anonymous function doesn't ask  what its value is until the function is called, the function simply remembers that it is going to use
p6140
aVWhen the callback function is executing, it will ask  for its current value and use that
p6141
aVThis means two things:
p6142
aVAll the callbacks that you bound in that loop will use the same value of
p6143
aVwill be  as that's the last value that  was assigned during the loop
p6144
aVBy using the  function to build the callbacks, we're asking  for its value at the time that we're binding the callback
p6145
aVThis is just a standard trick to force  to be evaluated when it has the value we want
p6146
as(dp6147
g10
V479863
p6148
stp6149
a((dp6150
g2
(lp6151
VYou could add a click listener (using ) to your marker and then build your own popup when the marker is clicked:
p6152
aVIf you're thinking about the little tooltip-ish popup from your example, then you'd want to bind a listener to the  to popup your tip and  to get rid of it
p6153
as(dp6154
g10
V479863
p6155
stp6156
a((dp6157
g2
(lp6158
VYou could set things up with your usual SuckerFish as a baseline and then add Superfish on top of that to provide the fancy animations and what not
p6159
aVSuperfish is built with jQuery so it should drop in fairly easily
p6160
as(dp6161
g10
V479863
p6162
stp6163
a((dp6164
g2
(lp6165
VI think you're looking for something like this:
p6166
aVWhere  is the table that contains your sample results
p6167
aVThe above will run into problems if your  also contains this row:
p6168
aVYou didn't offer a way to choose which row from amongst those whose  has the maximum length so both of these will be returned:
p6169
aVUPDATE: If  is the extra criteria from trimming down the above duplicates, then you can wrap another layer on:
p6170
as(dp6171
g10
V479863
p6172
stp6173
a((dp6174
g2
(lp6175
VSuppose you start with this (from the timeago homepage):
p6176
aVNow, the timeago plugin will change the title as it rewrites things
p6177
aVAll you need to do is keep track of the timestamp elsewhere, put it back in the  attribute, and rerun the plugin
p6178
aVSomething like this:
p6179
aVWill become this:
p6180
aVAnd when you want to update it, just put  back in  and rerun the plugin:
p6181
aVIf you're using an older jQuery, you might need to use  in place of
p6182
as(dp6183
g10
V479863
p6184
stp6185
a((dp6186
g2
(lp6187
VIf you're really trying to pass three arguments to a function but you only know the types of two of them at compile time then you can do it using a variable argument list
p6188
aVSuppose you want the third argument to be an  or  but you have to check  or  first to know which it should be:
p6189
aVThis sort of hack won't protect you against someone saying , , or similar shenanigans but this is C and C assumes that you're grown up and responsible for your own actions
p6190
as(dp6191
g10
V479863
p6192
stp6193
a((dp6194
g2
(lp6195
VI think you're on the right track with this thought:
p6196
aVIs it a case of, although the trigger is "AFTER INSERT" the insert hasn't actually happened so it can't update the row it's just inserted
p6197
aVFrom the FAQ:
p6198
aVB
p6199
ag5113
aV9: Can triggers access tables
p6200
aVA trigger can access both old and new data in its own table
p6201
aVA trigger can also affect other tables, but it is not permitted to modify a table that is already being used (for reading or writing) by the statement that invoked the function or trigger
p6202
aVThe documentation isn't clear that what you're doing won't work
p6203
aVOTOH, the documentation isn't clear that what you're trying to do will work either
p6204
aVI think you'd be better off using a  trigger and setting  in there
p6205
aVThen, the new row would have the right  value when it is actually inserted into the table rather than patching it after
p6206
aVAlso, you'd be able to simplify your existence check to just this:
p6207
aVas  wouldn't have a useful value and the new row wouldn't be in the table anyway; the  and  are also unnecessary as you're just checking if something exists so I took them out
p6208
aVA  trigger seems to match your intent better anyway and that will give you correct data as soon as it is inserted into your table
p6209
as(dp6210
g10
V479863
p6211
stp6212
a((dp6213
g2
(lp6214
VI don't think tabs are your problem, wc doesn't count a tab as eight characters
p6215
aVI think your problem is that you're stripping EOLs but wc counts them
p6216
aVAlso, you're not accumulating the lengths, you were just tracking the length of the last line
p6217
aVThis:
p6218
aVShould be more like this:
p6219
as(dp6220
g10
V479863
p6221
stp6222
a((dp6223
g2
(lp6224
VIf you look at the generated HTML in a decent DOM inspector, you'll see that the buttons along the bottom are just absolutely positioned  elements
p6225
aVThe button-ish ones have three CSS classes:
p6226
aVwhere X is the item in question
p6227
aVThe  class is used to set the positioning so you could add an  class with appropriate  and  values and then just append a  to the viewer with these classes:
p6228
aVand bind a click handler to it
p6229
as(dp6230
g10
V479863
p6231
stp6232
a((dp6233
g2
(lp6234
VYou could just leave the icons in the buckets and then ask the buckets what's in them when you need to talk to the server
p6235
aVAs long as the icons have some unique attribute (such as ) to identify them then you could build your model on the fly as needed
p6236
aVSomething like this could be used to serialize your buckets:
p6237
aVhttp://jsfiddle
p6238
aVnet/ambiguous/3ufhn/
p6239
aVThat will work nicely as long as things stay simple
p6240
aVIf things get more complicated then an explicit MVC setup would make things easier and John K's  approach would come in handy; you could also use a  with hidden inputs to track your state
p6241
as(dp6242
g10
V479863
p6243
stp6244
a((dp6245
g2
(lp6246
VI'm going to guess that you haven't initialized  when you try to treat it like an array
p6247
aVIf you haven't initialized  to be an array when you say , then it will be undefined (or something else that isn't an array or object) and that doesn't know what  means, hence your "cannot convert to an object" error
p6248
aVYou need something more like this:
p6249
as(dp6250
g10
V479863
p6251
stp6252
a((dp6253
g2
(lp6254
VPasting the  call into my JavaScript console and then hitting the "connect" button got me the usual Facebook Connect window so you're probably having timing issues
p6255
aVTry changing your  call to this:
p6256
aVThat way it won't be called until everything is all set up
p6257
aVAlso, you don't need all three of these:
p6258
aVYou only need one of them, probably the  version
p6259
as(dp6260
g10
V479863
p6261
stp6262
a((dp6263
g2
(lp6264
VI think you have the second and third arguments to  reversed, I think you want this (with ugly comments for clarity):
p6265
aVThe result of reversing the second and third arguments would be  reading less data than you want and hence your small values
p6266
as(dp6267
g10
V479863
p6268
stp6269
a((dp6270
g2
(lp6271
VYou could have  set up a chunk of shared memory and then  could store its state data in that shared memory
p6272
aVOf course  would have to depend on  to manage its state but that shouldn't be a problem if  exists only to be called by
p6273
aVAlternatively, you could store all the state data in a single  and use  and  to store and retrieve the state
p6274
aVOr you could use  to make this approach easier
p6275
aVYou'd have to be careful if some of your state involved a pointer though
p6276
aVYou don't have to use a single struct for this approach but it would be easier
p6277
as(dp6278
g10
V479863
p6279
stp6280
a((dp6281
g2
(lp6282
VIf your database supports intersections then you can do this:
p6283
aVThat will give you all the s that have extra1/value1, extra2/value2, and extra3/value3
p6284
aVIf you don't have  (such as, AFAIK, MySQL), you can try :
p6285
as(dp6286
g10
V479863
p6287
stp6288
a((dp6289
g2
(lp6290
VYou could use a regex but you'd be better off using the libraries to ensure that you're properly handling all the various idiosyncrasies of URLs:
p6291
aVAs a bonus, this will give you some familiarity with the standard libraries
p6292
as(dp6293
g10
V479863
p6294
stp6295
a((dp6296
g2
(lp6297
VI'm guessing that they're floated to the left already or they wouldn't be beside each other
p6298
aVA simple  on C will do the trick:
p6299
aVI've added some margins, paddings, and backgrounds for clarity
p6300
aVExample: http://jsfiddle
p6301
aVnet/ambiguous/uCBYV/
p6302
as(dp6303
g10
V479863
p6304
stp6305
a((dp6306
g2
(lp6307
VThe "A" in AJAX stands for "asynchronous"
p6308
aVWhen you make an  call, the function returns before the server has responded, hence "asynchronous"
p6309
aVThe  function has a success callback that receives the server's response, that callback has to do all the work of processing the server's response and updating your page:
p6310
aVSo, put all your page updating logic inside the  callback function
p6311
as(dp6312
g10
V479863
p6313
stp6314
a((dp6315
g2
(lp6316
VYou could try using a UNION:
p6317
aVYou might need to fix up the ordering outside the unions but the above will give you the window around  that you're looking for and it will cleanly deal with gaps in the  values
p6318
as(dp6319
g10
V479863
p6320
stp6321
a((dp6322
g2
(lp6323
VThe documentation says:
p6324
aVTo use the code on your own server, simply change the $aColumns array to list the columns you wish to include from your database, set $sIndexColumn to a column which is indexed (for speed), $sTable to the table name, and finally fill in your database connection parameters to $gaSql
p6325
aVEmphasis mine
p6326
aVSo,  should be a column name, not a quoted string
p6327
aVTry this:
p6328
aVSingle quotes are used for strings in PostgreSQL (and most other flavors of SQL)
p6329
aVI'm guessing that you made the same quoting problem with your , i
p6330
ag785
aVyou did something like this:
p6331
aVwhen you should have done something like this:
p6332
aVYou're getting three columns out but there's nothing in those columns and those column values come from here:
p6333
aVSo if  is wrong then you'll get the s that you're seeing
p6334
as(dp6335
g10
V479863
p6336
stp6337
a((dp6338
g2
(lp6339
VDepending on the version of JavaScript you have available, you can use :
p6340
aVReturns the first index at which a given element can be found in the array, or -1 if it is not present
p6341
aVOr :
p6342
aVTests whether some element in the array passes the test implemented by the provided function
p6343
aVBut, if you're doing this sort of existence check a lot you'd be better of using an Object to store your strings (or perhaps an object as well as the Array depending on what you're doing with your data)
p6344
as(dp6345
g10
V479863
p6346
stp6347
a((dp6348
g2
(lp6349
VDoes your  have a  switch
p6350
aV-A
p6351
aVNormally, if sudo requires a password, it will read it from the current terminal
p6352
aVIf the  (askpass) option is specified, a helper program is executed to read the user's password and output the password to the standard output
p6353
aVIf the  environment variable is set, it specifies the path to the helper program
p6354
aVOtherwise, the value specified by the  option in sudoers(5) is used
p6355
aVI wouldn't recommend having the password available in any way to your web server processes though so you'd want to use the sudoers file
p6356
as(dp6357
g10
V479863
p6358
stp6359
a((dp6360
g2
(lp6361
VSomething in Ruby is making the timezone adjustment:
p6362
aVYou can check this by doing a raw SQL query of a timestamp from within Ruby and seeing what string you get back
p6363
as(dp6364
g10
V479863
p6365
stp6366
a((dp6367
g2
(lp6368
VI think you want to cast your  to a  and fix the format of your date literal:
p6369
aVOr the standard version:
p6370
aVThe  function doesn't understand "date" and it returns a number
p6371
as(dp6372
g10
V479863
p6373
stp6374
a((dp6375
g2
(lp6376
VYou can use  with multiple values:
p6377
aVSo you want something more like this:
p6378
aVAnd then you'll have to gather the returned  values from each statement in your transaction
p6379
aVYou could try to grab the sequence's current value at the beginning and end of the transaction  and use those to figure out which sequence values were used but that is not reliable:
p6380
aVFurthermore, although multiple sessions are guaranteed to allocate
p6381
aVdistinct sequence values, the values might be generated out of
p6382
aVsequence when all the sessions are considered
p6383
aVFor example, with a
p6384
aVcache setting of 10, session A might reserve values 1
p6385
aV10 and return
p6386
aV, then session B might reserve values 11
p6387
aV20 and return
p6388
aVbefore session A has generated nextval=2
p6389
aVThus, with a
p6390
aVcache setting of one it is safe to assume that  values are
p6391
aVgenerated sequentially; with a cache setting greater than one you
p6392
aVshould only assume that the  values are all distinct, not
p6393
aVthat they are generated purely sequentially
p6394
aVAlso,  will
p6395
aVreflect the latest value reserved by any session, whether or not
p6396
aVit has yet been returned by
p6397
aVSo, even if your sequences have cache values of one you can still have non-contiguous sequence values in your transaction
p6398
aVHowever, you might be safe if the sequence's cache value matches the number of INSERTs in your transaction but I'd guess that that's going to be too large to make sense
p6399
aVUPDATE: I just noticed (thanks to the questioner's comments) that there are two tables involved, got a bit lost in the wall of text
p6400
aVIn that case, you should be able to use the current INSERTS:
p6401
aVAnd grab the  values one at a time from the INSERTs on
p6402
aVSome sort of script might be needed to handle the RETURNING values
p6403
aVYou could also wrap the  and related  INSERTs in a function, then use  to grab the  value and return it from the function:
p6404
as(dp6405
g10
V479863
p6406
stp6407
a((dp6408
g2
(lp6409
VI think your problem is that you're giving the browser conflicting dimensions
p6410
aVYou say that the  elements are set at 800px wide but your three columns only add up to 640px
p6411
aVYou're going to need to add another 160px somewhere
p6412
aVWith other column sets you'll have to make sure the column widths sum to 800px
p6413
aVYou can try using  on your
p6414
aVThat should force the issue and stop any feedback you might be getting between the table and its cells
p6415
as(dp6416
g10
V479863
p6417
stp6418
a((dp6419
g2
(lp6420
VSQL set operators are your friend:
p6421
aVOr you can use :
p6422
aVThese assume that your tables have one column called  and that the columns are the same type
p6423
aVYou should be able to adapt them to your real tables easily enough though
p6424
as(dp6425
g10
V479863
p6426
stp6427
a((dp6428
g2
(lp6429
VAre you looking for something like this
p6430
aVWhere  and  are the product and session IDs
p6431
aVThe  part takes care of the case where (product_id,session_id) hasn't been recorded yet and the second part takes care of the case where (product_id,session_id) is there but it was longer than 30 minutes ago
p6432
aVAnd, of course, the  in case (product_id,session_id) is there and older than 30 minutes ago and appears multiple times
p6433
as(dp6434
g10
V479863
p6435
stp6436
a((dp6437
g2
(lp6438
VThe easiest way is to wrap them in s to get columns:
p6439
aVAnd some CSS:
p6440
aVAnd a live example: http://jsfiddle
p6441
aVnet/ambiguous/aNVam/
p6442
aVIf you have specific sizes on your s (or at least on the red one), you can do it without the wrappers using a  and  on the blue one:
p6443
aVAnd the CSS for this one:
p6444
aVAnd a live example of this version: http://jsfiddle
p6445
aVnet/ambiguous/t8mMt/1/
p6446
aVAt least I think that's the layout you're after
p6447
as(dp6448
g10
V479863
p6449
stp6450
a((dp6451
g2
(lp6452
VSounds like you want the  method on CGI:
p6453
as(dp6454
g10
V479863
p6455
stp6456
a((dp6457
g2
(lp6458
VThe easiest way is to construct your Hash with a block argument:
p6459
aVThis form for  creates a new empty Hash as the default value
p6460
aVYou don't want this:
p6461
aVas that will use the exact same hash for all default entries
p6462
aVAlso, as Phrogz notes, you can make the auto-vivified hashes auto-vivify using :
p6463
aVUPDATE: I think I should clarify my warning against
p6464
aVWhen you say this:
p6465
aVThat's pretty much like saying this:
p6466
aVAnd then, when you access  to assign something as , it behaves as though you did this:
p6467
aVAnd then, if you , you'll end up assigning
p6468
aVNote that  still says that  is false
p6469
aVHowever, when you say this:
p6470
aVEverything will work out okay because you will never modified  in place here, you'll only read a value from  (which will use the default if necessary) or assign a new value to
p6471
as(dp6472
g10
V479863
p6473
stp6474
a((dp6475
g2
(lp6476
VIf you're building a zip file and immediately sending it back to the client then you have lots of options
p6477
aVYou could use  combined with  to write the zip file data straight to a string and send that back
p6478
aVThis approach avoids the whole file issue completely
p6479
aVYou could also use  combined with  to write to a temporary file and then stream that file back
p6480
aVThe  option for  will help you automatically clean up the temp file as well
p6481
as(dp6482
g10
V479863
p6483
stp6484
a((dp6485
g2
(lp6486
VI don't think you can hide those elements but you can remove them:
p6487
as(dp6488
g10
V479863
p6489
stp6490
a((dp6491
g2
(lp6492
VIf any old hash function will do then PostgreSQL has an  function built in
p6493
aVMD5 should be sufficient for checking if a record has changed
p6494
aVThere's also a binary version if you need to deal with non-textual data
p6495
as(dp6496
g10
V479863
p6497
stp6498
a((dp6499
g2
(lp6500
VYou can compose  calls:
p6501
aVI think that's the best you can do in MySQL without compiling in extra user-defined functions
p6502
aVPostgreSQL and (AFAIK) Oracle have full regex support but MySQL only supports regex matching
p6503
aVIf you have to do a lot of this sort of thing then you might want to do it outside the database to get a reasonable solution that doesn't involve insane levels of nested  functions
p6504
as(dp6505
g10
V479863
p6506
stp6507
a((dp6508
g2
(lp6509
VIf you're using gcc/g++ there is a way:
p6510
aVFrom the fine manual:
p6511
ag3892
aVif the variable arguments are omitted or empty, the `##' operator causes the preprocessor to remove the comma before it
p6512
aVSo gcc has an extension/hack specifically for the problem you are facing
p6513
as(dp6514
g10
V479863
p6515
stp6516
a((dp6517
g2
(lp6518
VThat's the , you can turn it off with this in your stylesheet:
p6519
aVI'd recommend that you use a more specific selector though, you probably want to leave the  on some things (such as form controls) to enhance usability
p6520
as(dp6521
g10
V479863
p6522
stp6523
a((dp6524
g2
(lp6525
VThere is only one placeholder in your SQL but you are trying to assign a value for the second
p6526
aVYour problem is that you have quoted the second placeholder, your SQL should look more like this:
p6527
aVNote the lack of quotes in
p6528
aVThis is a placeholder:
p6529
aVThis is an SQL question mark string literal:
p6530
as(dp6531
g10
V479863
p6532
stp6533
a((dp6534
g2
(lp6535
VYour initializers shouldn't look like this:
p6536
aVA JavaScript Array is indexed by numbers, not strings
p6537
aVYou want simple object literals:
p6538
aVThen, your POST callback is confused:
p6539
aVisn't what you think it is when that function is called
p6540
aVYou want something more like this:
p6541
as(dp6542
g10
V479863
p6543
stp6544
a((dp6545
g2
(lp6546
VYou probably have a bunch of leading and trailing whitespace coming back from
p6547
aVYou should strip off the whitespace before inserting your  tags:
p6548
aVOr a live example: http://jsfiddle
p6549
aVnet/ambiguous/LAH99/
p6550
as(dp6551
g10
V479863
p6552
stp6553
a((dp6554
g2
(lp6555
VDo you really need to do this with regular expressions
p6556
aVRegexes are cool and useful but they're not the only tool in your toolbox and sometimes it is best to do something straight forward and move on to real problems
p6557
aVI'd just bust it into lines and parse it line-by-line with an accumulator for the things that need to be pre-ified:
p6558
aVThat may not be as clever as an incomprehensible regex but at least you'll be able to understand what it is doing six months down the road
p6559
aVhttp://jsfiddle
p6560
aVnet/ambiguous/tFNyv/
p6561
as(dp6562
g10
V479863
p6563
stp6564
a((dp6565
g2
(lp6566
VThe  syntax is an array initialization, not an assignment
p6567
aVI don't have a copy of the standard handy so I can't quote chapter and verse but you want to say this:
p6568
aVI also took the liberty of changing  to  as you weren't returning anything
p6569
aVAnd your  also needs a return value and you forgot to
p6570
as(dp6571
g10
V479863
p6572
stp6573
a((dp6574
g2
(lp6575
VThe  program probably makes its own connection to the terminal rather than reading from its standard input, this is common behavior where passwords are concerned
p6576
aVYou'll probably have better luck using the SQL  rather than :
p6577
aVWhere "databasename" is the name of your database
p6578
aVFrom the fine manual:
p6579
aVcreateuser is a wrapper around the SQL command CREATE ROLE
p6580
aVThere is no effective difference between creating users via this utility and via other methods for accessing the server
p6581
as(dp6582
g10
V479863
p6583
stp6584
a((dp6585
g2
(lp6586
VThat's an odd bug
p6587
aVI'd guess that Firefox is considering the span's scrollbar to be part of the span
p6588
aVSince the span-with-scrollbar is inside the , the click on the scrollbar is interpreted as a click on the , you should notice the usual anchor coloring change as soon as you click on the scrollbar's thumb
p6589
aVHowever, it works okay in Firefox if you put the  inside the :
p6590
aVAnd:
p6591
aVhttp://jsfiddle
p6592
aVnet/ambiguous/6rg4m/
p6593
aVUPDATE: Based on http://jsfiddle
p6594
aVnet/ambiguous/wPyms/, your CSS is a bit odd:
p6595
aVThis one is floated to the left and absolutely positioned (without specifying the position at that) and that doesn't make much sense to me
p6596
aVAlso, it looks like you are trying to position the image as a background for the text so why not just size the container to match the image and make the image the container's background
p6597
aVThis lets you simplify your markup and your CSS and won't confuse Firefox (I doubt it would confuse any browser)
p6598
aVI think the following will give you the appearance and behavior you're after
p6599
aVThe image in your jsfiddle doesn't go anywhere so I changed it to a kitten
p6600
aVHTML:
p6601
aVCSS:
p6602
aVLive: http://jsfiddle
p6603
aVnet/ambiguous/EgUwH/2/
p6604
aVThis is pretty much the same as my original suggestion
p6605
as(dp6606
g10
V479863
p6607
stp6608
a((dp6609
g2
(lp6610
VBoth of your s are modifying  because you're using
p6611
aVFor example, this:
p6612
aVis the same as this:
p6613
aVI think you'd be better off using  as you are not filtering anything with your s, you're just using  as an iterator:
p6614
aVThat should do the same thing and keep critic quiet
p6615
aVYou might want to have a look at  if you want some nicer list operators than plain
p6616
as(dp6617
g10
V479863
p6618
stp6619
a((dp6620
g2
(lp6621
VYou could build the array at the outset and then wrap it in a function to peel off one element at a time
p6622
aVSomething sort of like this perhaps:
p6623
as(dp6624
g10
V479863
p6625
stp6626
a((dp6627
g2
(lp6628
VWhy not use the  column
p6629
aVSounds like it is for filtering out things that are not supposed to be shown
p6630
aVSo, you could do a query like this:
p6631
aVIf you don't want to use , then you could just add 3012 to your list of things to ignore:
p6632
aVOr, since your exclusion list is getting longer, use :
p6633
as(dp6634
g10
V479863
p6635
stp6636
a((dp6637
g2
(lp6638
VIf you want the output of the  stuff in your  variable, you need to capture it:
p6639
aVJust that should do it but it has been a long time since I've used
p6640
aVYou don't need to access your  variable in , you just need to access it in a string in your script
p6641
as(dp6642
g10
V479863
p6643
stp6644
a((dp6645
g2
(lp6646
VA couple of experiments indicate that this:
p6647
aVIs turned into (effectively) something like this pseudo-perl:
p6648
aVSo the "stuff" needs to be an expression so that it returns something to put into the template
p6649
aVYour "stuff" is a  loop which doesn't have a value so your template doesn't do anything interesting
p6650
aVIf you look at the tests for  (always go to the test suite for examples, the test suites for CPAN packages are invaluable for learning how things work), you'll see things like this:
p6651
aVNote the way  is being used
p6652
aVThat indicates that you want something more like this for your template:
p6653
aVThere's also the  special variable which can take the place of  above
p6654
aVThe documentation for CPAN packages is generally pretty good and well worth reading, you'll miss it when you work in other languages
p6655
as(dp6656
g10
V479863
p6657
stp6658
a((dp6659
g2
(lp6660
VYou should start by opening the file in append mode rather than write mode:
p6661
aVThat will position the write position of  at the end of file rather than the beginning
p6662
aVWhen you open with , you truncate the file and start writing from position 0:
p6663
aVw or wb
p6664
aVTruncate to zero length or create file for writing
p6665
aVThen you might want to think about file locking to keep the two processes from writing to the file at the same time
p6666
aVAlso, your child process writes out the nul terminator:
p6667
aVbut your parent process doesn't:
p6668
aVThat may or may not be your intention but it does look odd
p6669
as(dp6670
g10
V479863
p6671
stp6672
a((dp6673
g2
(lp6674
VIf your timezone is always going to be an offset then use a  (don't forget about places like Newfoundland Canada that are at UTC\u22123
p6675
aV5)
p6676
aVGenerally, timezones come in many different forms:
p6677
aVSo your safest bet would be a
p6678
aVThe Olson Database is a good place to get an idea of the various timezone formats you'll come across
p6679
as(dp6680
g10
V479863
p6681
stp6682
a((dp6683
g2
(lp6684
VYou could put the arrow at the top
p6685
aVThen, adjust the  height down by 2em and add a -2em top margin on the  for the hover; this will effectively hide the arrow on hover
p6686
aVThe list would look like this:
p6687
aVAnd the updated CSS would be:
p6688
aVhttp://jsfiddle
p6689
aVnet/ambiguous/6srun/
p6690
as(dp6691
g10
V479863
p6692
stp6693
a((dp6694
g2
(lp6695
VI think your problem is right here:
p6696
aVDisabled form elements are not sent to the server with the rest of the form:
p6697
aVTherefore, it cannot receive user input nor will its value be submitted with the form
p6698
aVAnd so the value you set for  never even gets to the model on your server
p6699
aVPerhaps you should try using the  attribute instead of
p6700
aVYou could also use a  callback in your model to manually copy the box2 value to box1 before the validations are run
p6701
aVHowever, if you do this then it will always be copied even when your checkbox isn't set so you'd have to add in more logic to check the checkbox value inside your model
p6702
as(dp6703
g10
V479863
p6704
stp6705
a((dp6706
g2
(lp6707
VYes, this is possible
p6708
aVYou can use the  class to get the contents of a directory (emphasis mine):
p6709
aVObjects of class  are directory streams representing directories in the underlying file system
p6710
aVThey provide a variety of ways to list directories and their contents
p6711
aVSee also
p6712
aVand then the usual Rails mechanisms to display that data to the user
p6713
as(dp6714
g10
V479863
p6715
stp6716
a((dp6717
g2
(lp6718
VWhy not lookup the username for the  before you try to delete anything, just a simple bit of SQL like this:
p6719
aVThen, if  is "admin", show your alert; if there  is not "admin", do your deletion
p6720
aVYou seem to be trying to do too many different things at the same time when you should be doing things one at a time, there's nothing wrong with doing two queries when you need to do two different things
p6721
aVAnd I hope your sanitizing and quoting  somewhere to prevent SQL injection issues
p6722
as(dp6723
g10
V479863
p6724
stp6725
a((dp6726
g2
(lp6727
VYes, the Grease Monkey part might make a difference
p6728
aVGrease Monkey almost certainly wraps your JavaScript in a function to keep your JavaScript from conflicting with the page's JavaScript
p6729
aVYou're using the string form of  and there's no guarantee about what context the string will be executed in although it is probably in the global scope
p6730
aVJust because your function is visible where you execute  doesn't mean that your function will be visible when the string is ed
p6731
aVSo, don't use the string form of  (ever), use Ander
p6732
aVby's approach or Walter Rumsby's anonymous function approach
p6733
as(dp6734
g10
V479863
p6735
stp6736
a((dp6737
g2
(lp6738
VI think the tabs are just to make the generated HTML a bit prettier
p6739
aVIt looks like the resultant HTML is properly nested to produce a tree-ish structure, you just need some CSS
p6740
aVFirst of all, you probably want a class on the comment wrapper s so change this:
p6741
aVto this:
p6742
aVAnd then, in some CSS somewhere, try this:
p6743
aVThat should indent the nested s to give you a start at a tree structure
p6744
aVLooks like you're using HAML and my HAML isn't that great but hopefully the above is close enough to correct to get you something useful
p6745
as(dp6746
g10
V479863
p6747
stp6748
a((dp6749
g2
(lp6750
VI think your problem is that your nested query doesn't produce a column name , it just has  and MySQL isn't stripped the  prefix off
p6751
aVTry changing
p6752
aVto
p6753
as(dp6754
g10
V479863
p6755
stp6756
a((dp6757
g2
(lp6758
VI think your problem is that these:
p6759
aVAre being evaluated when you call  rather than when the qTip is activated
p6760
aVSo,  won't be the  and  won't find the single elements that you expect it to
p6761
aVThe easiest solution would be to wrap your qTip binding in an :
p6762
aVThen  will be the  that you want it to be when you evaluate  and
p6763
aVYou might be able to use the callbacks to build the tooltip dynamically but I'm not familiar enough with qTip to know how well that would work
p6764
as(dp6765
g10
V479863
p6766
stp6767
a((dp6768
g2
(lp6769
VThe  method is for form elements, you want to use  to extract the raw text from your table cells
p6770
aVThen you have to turn it into something that the number parsers will understand by removing the non-numeric prefix stuff:
p6771
aVAlso note that you want  rather than  as you're dealing with non-integer values
p6772
aVAnd you want to subtract, not add, to get the savings
p6773
aVYou'll also need an  on the cell that you're targeting, the selector you're using is looking for an  element and there is no such thing:
p6774
aVAnd you'll want to select the  inside that:
p6775
aVSo, your final JavaScript should look something like this:
p6776
aVFormatting the  and converting it to a percentage is left as an exercise for the reader
p6777
aVAnd a live example: http://jsfiddle
p6778
aVnet/ambiguous/bn7Wg/
p6779
as(dp6780
g10
V479863
p6781
stp6782
a((dp6783
g2
(lp6784
VYour problem is that you need to reference  twice: once for the plain  and again to look up what  is pointing at
p6785
aVYou can join one table in multiple times if you give them aliases:
p6786
as(dp6787
g10
V479863
p6788
stp6789
a((dp6790
g2
(lp6791
VFrom the fine manual:
p6792
aVINIT FILE
p6793
aVsqlite3 reads an initialization file to set the configuration of the interactive environment
p6794
ag3892
aVIf the file  exists, it is processed first
p6795
aVcan be found in the user's home directory, it is read and processed
p6796
aVIt should generally only contain meta-commands
p6797
aVSo just put a file called  in your home directory and put this in it:
p6798
as(dp6799
g10
V479863
p6800
stp6801
a((dp6802
g2
(lp6803
VLooks like phpDocumentor which is, more or less, JavaDoc for PHP
p6804
as(dp6805
g10
V479863
p6806
stp6807
a((dp6808
g2
(lp6809
VYou could use a  hook to convert empty strings to  and then use the  option to :
p6810
as(dp6811
g10
V479863
p6812
stp6813
a((dp6814
g2
(lp6815
VYou can use a timer that relaunches itself it there is anything left to do:
p6816
aVAnd an updated example: http://jsfiddle
p6817
aVnet/ambiguous/2PpyJ/
p6818
aVNote that I added  to your HTML to make it easier to reference the
p6819
as(dp6820
g10
V479863
p6821
stp6822
a((dp6823
g2
(lp6824
VYou could modify your INSERT to be something like this:
p6825
aVWhere  is the tag (properly quoted or as a placeholder of course) that you want to add if it isn't already there
p6826
aVThis approach won't even trigger an INSERT (and the subsequent autoincrement wastage) if the tag is already there
p6827
aVYou could probably come up with nicer SQL than that but the above should do the trick
p6828
aVIf your table is properly indexed then the extra SELECT for the existence check will be fast and the database is going to have to perform that check anyway
p6829
aVThis approach won't work for the first tag though
p6830
aVYou could seed your tag table with a tag that you think will always end up being used or you could do a separate check for an empty table
p6831
as(dp6832
g10
V479863
p6833
stp6834
a((dp6835
g2
(lp6836
VThis:
p6837
aVleaves out the nul terminator on
p6838
aVI think you want this:
p6839
aVor better:
p6840
aVSo, you will run off the end of the buffer the second time you try to get a token out of
p6841
aVYou're just getting lucky that  doesn't segfault every time you run it
p6842
aVAnd you should almost always make a copy of a string before using  on it (to avoid the problem that Jonathan Leffler pointed out)
p6843
as(dp6844
g10
V479863
p6845
stp6846
a((dp6847
g2
(lp6848
VYou can put  on the label:
p6849
aVExample: http://jsfiddle
p6850
aVnet/ambiguous/b5UrP/
p6851
aVOr you could float both the label and input to the left and put  on the input:
p6852
aVExample: http://jsfiddle
p6853
aVnet/ambiguous/hxhCx/
p6854
as(dp6855
g10
V479863
p6856
stp6857
a((dp6858
g2
(lp6859
VJust cast it to a date in your order by clause:
p6860
as(dp6861
g10
V479863
p6862
stp6863
a((dp6864
g2
(lp6865
VYou're using gcc, right
p6866
aVgcc implements some functions as built-ins in the compiler and it seems that  is one of those
p6867
aVTry compiling your file with the  switch
p6868
aVHeader files just tell the compiler that certain symbols, macros, and types exist
p6869
aVIncluding or not including a header file won't have any effect on where functions come from, that's the linker's job
p6870
aVIf gcc was pulling  out of libc then you probably would see a warning
p6871
as(dp6872
g10
V479863
p6873
stp6874
a((dp6875
g2
(lp6876
VUse :
p6877
aVThe fscanf() function shall read from the named input stream
p6878
ag3892
aVEach function reads bytes, interprets them according to a format, and stores the results in its arguments
p6879
aVEach expects, as arguments, a control string format described below, and a set of pointer arguments indicating where the converted input should be stored
p6880
as(dp6881
g10
V479863
p6882
stp6883
a((dp6884
g2
(lp6885
VI think you're looking for the  class:
p6886
aVA service for converting between an address and a LatLng
p6887
as(dp6888
g10
V479863
p6889
stp6890
a((dp6891
g2
(lp6892
VNo character is being substituted, it is just inserting  tabs at the beginning so you could say that it is substituting the zero width "beginning of line" marker
p6893
aVWhoever wrote that would have been better off with something more like this:
p6894
aVA regular expression really isn't the right tool for simple string concatenation
p6895
aVClarification: If you're expecting your string to contain multiple lines then using:
p6896
aVto prefix all the lines with tabs is a reasonably thing to do and less noisy than splitting, prefixing, and re-joining
p6897
aVIf you're only expecting to deal with a single line in your string then simple string concatenation would be the better choice
p6898
as(dp6899
g10
V479863
p6900
stp6901
a((dp6902
g2
(lp6903
VYou haven't quoted any of the values in your INSERT, you should be saying something more like this:
p6904
aVYou should also be using  on all those variables to make sure that any embedded quotes and such are properly encoded
p6905
aVA better version would be something like this:
p6906
aVYou should also listen to BoltClock and use PDO and placeholders so you don't have to worry about your quotes and escaping so much
p6907
aVPDO will also make it easier to switch databases
p6908
as(dp6909
g10
V479863
p6910
stp6911
a((dp6912
g2
(lp6913
VYou should be able to define your  route before your state/city routes:
p6914
aVRoute priority
p6915
aVNot all routes are created equally
p6916
aVRoutes have priority defined by the order of appearance of the routes in the config/routes
p6917
aVrb file
p6918
aVThe priority goes from top to bottom
p6919
aVSo this order should do the right thing:
p6920
aVYou might want to avoid the problem altogether by putting your state/city routes into their own namespace:
p6921
aVThat leaves the top level clear for other future uses
p6922
as(dp6923
g10
V479863
p6924
stp6925
a((dp6926
g2
(lp6927
VI don't exactly know my way around C# but the Npgsql Manual has an example sort of like this of writing a  column to a file:
p6928
aVSo you just read it out of the database pretty much like any other column and write it to a local file
p6929
aVThe example is about half way down the page I linked to, just search for "bytea" and you'll find it
p6930
aVUPDATE: For large objects, the process appears to be similar but less SQL-ish
p6931
aVThe manual (as linked to above) includes a few large object examples:
p6932
aVSearch the manual for "large object" and you'll find it
p6933
as(dp6934
g10
V479863
p6935
stp6936
a((dp6937
g2
(lp6938
VThe easiest way is to put your "something" in the  callbacks but have the two callbacks check that the other one has finished
p6939
aVSomething along these lines:
p6940
aVThis nicely extends to more than two lists with a couple small modifications:
p6941
aVuse  instead of
p6942
aVDo a  instead of  and move it to the top of
p6943
aVReplace the  with  where  is how many AJAX tasks you have
p6944
aVThe general version would look sort of like this:
p6945
aVAn even better version would wrap up the state in a closure:
p6946
as(dp6947
g10
V479863
p6948
stp6949
a((dp6950
g2
(lp6951
VYou would need to set up a controller on the server side to call your  method and then you could use  or  in your jQuery to make the request
p6952
as(dp6953
g10
V479863
p6954
stp6955
a((dp6956
g2
(lp6957
VThe pager plugin probably needs to know where the table is and how big the table is before it can properly position itself
p6958
aVWhen your tab is hidden, the table inside it doesn't have a useful position so the pager probably ends up with zeros for the position it needs and the result is the pager at the top of the page
p6959
aVThe easiest solution would be to bind  when the tab is clicked:
p6960
aVYou only need to bind it once so use :
p6961
aVThis method is identical to , except that the handler is unbound after its first invocation
p6962
as(dp6963
g10
V479863
p6964
stp6965
a((dp6966
g2
(lp6967
VYou could put your  calls in a document-ready handler and use its callback to track when something has finished loading:
p6968
aVThe  function would wait until both files have loaded and then remove the loading image; see this answer for notes on how to build a
p6969
as(dp6970
g10
V479863
p6971
stp6972
a((dp6973
g2
(lp6974
VYour  should be NULL until there is a reply and the creation time for a reply should always be more recent than the  value
p6975
aVThis allows you to use  like this:
p6976
aVAnd presumably every row has a non-NULL
p6977
aVI don't see any problem with caching the  value in your post table
p6978
aVIf you're going to be using it a lot then it doesn't make much sense to keep computing it over and over again
p6979
as(dp6980
g10
V479863
p6981
stp6982
a((dp6983
g2
(lp6984
VI think you might have a corrupted database, that is not supposed to happen
p6985
aVFrom  in the PostgreSQL source:
p6986
aVThat error message shows up in two other places in the source but the triggering condition, , is the same and the same "can't happen" comments appears in all three places
p6987
aVSo either your database is corrupt or you have found a bug in PostgreSQL
p6988
as(dp6989
g10
V479863
p6990
stp6991
a((dp6992
g2
(lp6993
VYour problem is that both bash and php use the dollar sign for variables
p6994
aVWhen you say this in your heredoc:
p6995
aVbash tried to replace  with the value of the shell variable  and that's probably empty; the result is that PHP sees something like this:
p6996
aVHence the "unexpected '='" error
p6997
aVTry escaping the dollar signs in your PHP:
p6998
aVA bash heredoc evaluates variables just like a double quoted string
p6999
as(dp7000
g10
V479863
p7001
stp7002
a((dp7003
g2
(lp7004
VJust use normal string interpolation:
p7005
aVNote that I switched your  quoting to  to get the interpolation to work
p7006
as(dp7007
g10
V479863
p7008
stp7009
a((dp7010
g2
(lp7011
VLawnchair works fine:
p7012
aVhttp://jsfiddle
p7013
aVnet/ambiguous/D4u57
p7014
aVI think you might be checking the wrong things (i
p7015
ag785
aVarray length rather than contents), or putting one object in two Lawnchair databases, or perhaps you're not including all of the Lawnchair JavaScript files (there are several in my jsfiddle and I had to pull that list out of one of the Lawnchair examples)
p7016
as(dp7017
g10
V479863
p7018
stp7019
a((dp7020
g2
(lp7021
VThe  method for  is defined in the  class and methods defined in a class take precedence over those defined in an included module
p7022
aVSo, when you do this:
p7023
aVYou're pulling in your version of  but the  defined in  still takes precedence
p7024
aVYou'll have to put your  right in :
p7025
aVFrom the the Programming Ruby chapter on Classes and Objects:
p7026
aVWhen a class includes a module, that module's instance methods become available as instance methods of the class
p7027
aVIt's almost as if the module becomes a superclass of the class that uses it
p7028
aVNot surprisingly, that's about how it works
p7029
aVWhen you include a module, Ruby creates an anonymous proxy class that references that module, and inserts that proxy as the direct superclass of the class that did the including
p7030
as(dp7031
g10
V479863
p7032
stp7033
a((dp7034
g2
(lp7035
VIn , you say this:
p7036
aVSo  is the index of the last element, not the number of elements
p7037
aVThen, in , you do this:
p7038
aVThe first time through, you  zero bytes for , run through the  loop zero times, and then assign  to
p7039
aVAnd you now have a corrupted heap from a buffer overflow
p7040
aVYou should be saying this:
p7041
aVYou should also be freeing your memory and maybe you should learn about  and
p7042
as(dp7043
g10
V479863
p7044
stp7045
a((dp7046
g2
(lp7047
VYou can't do anything useful with the  element until it has been populated by your AJAX call
p7048
aVYou have to move this bit of JavaScript:
p7049
aVinto your AJAX callback:
p7050
aVOr something along those lines
p7051
aVYour comment to nnnnnn is talking about a country list but your updated question is talking about a province list so I'm not sure which one is your problem; however, I'm pretty sure that the underlying problem is that you are setting the value of a  before you have populated that  with an AJAX call and the solution is to set the value in the AJAX callback after updating the DOM with the HTML from your AJAX call
p7052
as(dp7053
g10
V479863
p7054
stp7055
a((dp7056
g2
(lp7057
VUse the  operator:
p7058
aVAlternatively, you could pull out the first item like this:
p7059
aVNote the extra parentheses and that the array is indexed starting at 1
p7060
as(dp7061
g10
V479863
p7062
stp7063
a((dp7064
g2
(lp7065
VThe category, command, and description are pretty straight forward  columns for some sort of "command" table:
p7066
aVAnd the options should have their own table:
p7067
aVSo, your  options would look like this in :
p7068
aVAnd  sort of like this:
p7069
aVAnd :
p7070
aVI'm not sure what the difference between "category" and "command" is or how much the database needs to know about the options but hopefully the above will get you started
p7071
as(dp7072
g10
V479863
p7073
stp7074
a((dp7075
g2
(lp7076
VYou could avoid the constraint violation (and hence the exception and transaction problem) by changing your
p7077
aVAnd then the extra placeholder:
p7078
aVYou could also replace your raw INSERT with a stored procedure that would check that the new URL isn't already there before trying to do the INSERT
p7079
aVUPDATE: A better version of the above SQL would be this:
p7080
aVThe end result should be the same but this version doesn't need the  hack
p7081
aVThe idea behind this is to use the inner SELECT to produce one row if  is not present (hence the extra nested NOT EXISTS business) and no rows if  is present; then, we use the number of rows from the inner SELECT as a counter for how many rows should be inserted in
p7082
aVAn  check on an indexed column should be quite fast as well
p7083
as(dp7084
g10
V479863
p7085
stp7086
a((dp7087
g2
(lp7088
VTry setting your  to  in the CSS and dropping the  attribute:
p7089
aVhttp://jsfiddle
p7090
aVnet/ambiguous/dyxw7/
p7091
aVThe above example includes a red border on the table so that you can see where it is, I also changed the image to a kitten to make sure it would show up
p7092
as(dp7093
g10
V479863
p7094
stp7095
a((dp7096
g2
(lp7097
VIf your log files are text files, then you should use the  datatype to store them
p7098
aVIf the log files are binary (or, perhaps, compressed text files), then you'd want to use
p7099
aVIn either case, you can INSERT and SELECT them just like any other column type when using DBI
p7100
aVIf they're really large then you might want to play with the  DBI parameter and read the DBI manual section on BLOBs
p7101
as(dp7102
g10
V479863
p7103
stp7104
a((dp7105
g2
(lp7106
VYou can use  and :
p7107
aVWhere  is the column with the "name-" values
p7108
aVThe  removes everything up before the sixth character (i
p7109
ag785
aVthe "name-" prefix) and then the  converts the left over to a real integer
p7110
aVUPDATE: Given the changing circumstances in the comments (i
p7111
ag785
aVthe prefix can be anything), you'll have to throw a  in the mix:
p7112
aVThis of course assumes that the non-numeric prefix doesn't have any hyphens in it but the relevant comment says that:
p7113
aVcan be any sequence of letters
p7114
aVso that should be a safe assumption
p7115
as(dp7116
g10
V479863
p7117
stp7118
a((dp7119
g2
(lp7120
VYou're not modifying the array that the  variable references, you're just assigning a new array to the local variable :
p7121
aVThe above creates a new array whose contents are , this new array is then assigned to the local variable
p7122
aVThe array that  originally referenced is left unchanged
p7123
aVIf you want to change the array, then you'd need something like this:
p7124
aVor you'd lose the connection between the local variable  and the non-local array that it references
p7125
as(dp7126
g10
V479863
p7127
stp7128
a((dp7129
g2
(lp7130
VUse the  attribute:
p7131
as(dp7132
g10
V479863
p7133
stp7134
a((dp7135
g2
(lp7136
VYou don't need to float the , just add a left margin wide enough to accommodate the image and drop the :
p7137
aVLive example: http://jsfiddle
p7138
aVnet/ambiguous/8m3LS/
p7139
as(dp7140
g10
V479863
p7141
stp7142
a((dp7143
g2
(lp7144
VThat is using  which positions an element with respect to the browser view port
p7145
as(dp7146
g10
V479863
p7147
stp7148
a((dp7149
g2
(lp7150
VI need more space than a comment to expand on mario's findings so I'll add an answer instead
p7151
aVThe size of a C  will be the size of its largest member (possibly with extra bytes to satisfy alignment constraints)
p7152
aVFor , that would be the  which has the size of three pointers (not including the memory required for what those pointers point to):
p7153
aVOn a 32bit system, a  will take 24 bytes while on a 64bit system it will take 48 bytes
p7154
aVSo, every  will take at least 24 or 48 bytes regardless of what data you store in it
p7155
aVThere's also the name of the variable which consumes more memory; compiled languages generally discard the names once the compiler is done and treat values as simple sequences of bytes (so a  takes eight bytes, a  takes one byte, etc
p7156
aVWith regards to your recent questions about PHP booleans, a simple boolean value will consume 24 or 48 bytes for the value, plus a few more bytes for the name, plus four or eight for the , plus four (or eight) for the two s in this:
p7157
aVThe  members will chew up four (or eight) bytes due to alignment constraints, almost every CPU wants to access memory on natural address boundaries and that means that a single byte sized member of a  will take up four bytes or eight bytes of memory (depending on the CPUs natural word size and alignment constraints)
p7158
aVSo, a boolean will take somewhere between 36 and 72 bytes of memory
p7159
as(dp7160
g10
V479863
p7161
stp7162
a((dp7163
g2
(lp7164
VYou don't have a  element anywhere so  won't work
p7165
aVIf you want to start at  and find the contained , then you want to use  like this:
p7166
aVAlternatively, you could use the  argument to :
p7167
as(dp7168
g10
V479863
p7169
stp7170
a((dp7171
g2
(lp7172
VIf you can programatically convert "29
p7173
aV99" to "&*()_"  then I'd put the price in the product table and leave the translation of it the display layer
p7174
aVIf you store it twice then you will have two obvious problems:
p7175
aVYou will end up with consistency problems because you're storing the same thing in two different places in two different formats
p7176
aVYou will be storing numeric data in text format
p7177
aVThe first issue will cause you a lot of head aches when you need to update your prices and your accountants will hate you for making a mess of the books
p7178
aVThe second issue will make your database hate you whenever you need to do any computations or comparisons inside the database
p7179
aVCalling  over and over again will have a cost
p7180
aVYou could keep the price in numeric form in the product table (for computation, sorting, etc
p7181
aVand then have the localized translation in the your translation table as a string
p7182
aVThis approach just magnifies the two issues above though
p7183
aVHowever, if you need to have humans translating your numbers then this approach might be necessary
p7184
aVIf you're stuck with this then you can mitigate your consistency problems by running a sanity checker of some sort after each update, you might even be able to wrap the sanity checker in a trigger of some sort
p7185
as(dp7186
g10
V479863
p7187
stp7188
a((dp7189
g2
(lp7190
VI think you're using the  right:
p7191
aV$n or $nn
p7192
aVWhere n or nn are decimal digits, inserts the nth parenthesized submatch string, provided the first argument was a RegExp object
p7193
aVSo your  will be replaced with what matched  and  will be replaced with what matched
p7194
aVHowever, I think you want a bit more in your first group so that you can properly match strings like , a  would serve you better:
p7195
aVYou might want to read up on JavaScript regular expressions
p7196
aVAnd, thanks to Kobi, you could use a simpler regular expression but you'll have to change change your replacements a little bit:
p7197
aVAnd you don't need to escape the hyphen when it can't be mistaken for a range indicator
p7198
as(dp7199
g10
V479863
p7200
stp7201
a((dp7202
g2
(lp7203
VI suspect that your  usage is, as you note in your comments, the source of your trouble
p7204
aVIt looks like you're binding new graphs over and over again when you only want to update the data, using a moving window for the data would also help
p7205
aVTry reworking your updater to work like this pseudo-JavaScript:
p7206
aVThe basic idea is to use window on your data with a reasonable maximum width so that the data doesn't grow to chew up all your memory
p7207
aVAs you add a new data point at the end of your data cache, you drop old ones off the other end once you hit your maximum comfortable size
p7208
aVYou can find some techniques for waiting for several asynchronous AJAX calls to finish over here: How to confirm when more than one AJAX call has completed
p7209
aV(disclosure: yes, that's one of my other answers)
p7210
as(dp7211
g10
V479863
p7212
stp7213
a((dp7214
g2
(lp7215
VYour  doesn't work as you expect because capture groups are included in the returned array:
p7216
aVIf pattern contains groups, the respective matches will be returned in the array as well
p7217
aVAn easy solution would be to split on  and the throw away the empties:
p7218
as(dp7219
g10
V479863
p7220
stp7221
a((dp7222
g2
(lp7223
VYou could use  to bring them together,  to flatten out the extra arrays that  adds, and  to get a simple string:
p7224
aVAnd if you didn't have the convenient spaces in your arrays:
p7225
aVThen you could tweak the :
p7226
aVAnd if you weren't sure if the spaces were there or not, you could put them in with  (just to be sure) and then  out any duplicates:
p7227
as(dp7228
g10
V479863
p7229
stp7230
a((dp7231
g2
(lp7232
VI think you want to use the array constructor syntax:
p7233
as(dp7234
g10
V479863
p7235
stp7236
a((dp7237
g2
(lp7238
VYes, this sort of foolishness is very common but that doesn't make it a good idea
p7239
aVYou should write each field individually in a specified byte order, that will avoid alignment and byte order problems at the cost of a little tiny bit of extra effort
p7240
aVReading and writing field by field will also make your life easier when you upgrade your software and have to read your old data format or if the underlying hardware architecture changes
p7241
as(dp7242
g10
V479863
p7243
stp7244
a((dp7245
g2
(lp7246
VI'm no Python guy but you do need the PostgreSQL libraries installed as the Python interface to PostgreSQL (psycopg) is just a Python layer on top of the PostgreSQL C libraries
p7247
aVSo, no PostgreSQL development libraries means there's nothing to wrap in Python and no way to talk to PostgreSQL from Python
p7248
as(dp7249
g10
V479863
p7250
stp7251
a((dp7252
g2
(lp7253
VYou remove the original image here:
p7254
aVAnd all that's left behind is
p7255
aVThen you reset link references the image using :
p7256
aVBut your  doesn't have an  attribute let alone an  of
p7257
aVTo fix this, you need to remove  and then set the  attribute of  to :
p7258
aVAnd then you'll get the shiny black rocket back again: http://jsfiddle
p7259
aVnet/ambiguous/W2K9D/
p7260
aVUPDATE: A better approach (as noted by mellamokb) would be to hide the original image and then show it again when you hit the reset button
p7261
aVFirst, change the reset action to something like this:
p7262
aVAnd in the  function, grab the images original size:
p7263
aVAnd finally, the callback for finishing the morphing animation becomes this:
p7264
aVNew and improved: http://jsfiddle
p7265
aVnet/ambiguous/W2K9D/1/
p7266
aVThe leaking of  outside the plugin isn't the best thing ever but it isn't a big deal as long as it is documented
p7267
as(dp7268
g10
V479863
p7269
stp7270
a((dp7271
g2
(lp7272
VYou're declaring your  parameter as a :
p7273
aVbut using it as a :
p7274
aVYou're getting an implicit cast so  will actually execute this SQL:
p7275
aVand, after the  is implicitly cast back to a , it will effectively be this:
p7276
aVTry changing your function declaration to use a :
p7277
as(dp7278
g10
V479863
p7279
stp7280
a((dp7281
g2
(lp7282
VWhen you include the header file, the compiler knows that  is a structure of unknown size and that  wants one as its first argument
p7283
aVBut the compiler cannot arrange a call to  as it doesn't know how many bytes to push on the stack for the  parameter, the size of  is only known inside the file where  is defined
p7284
aVThe best solution would be to change  to take a  as its first argument so your header file would say this:
p7285
aVThen you get an opaque pointer for your  data type and, since all pointers are the same size (in the modern world at least), the compiler will know how to build the stack when calling
p7286
as(dp7287
g10
V479863
p7288
stp7289
a((dp7290
g2
(lp7291
VThere are base-64 functions (such as ) but nothing for base-36
p7292
aVBut you could write one of your own or use this one (note that this link is dead, I'll leave it in as it is the only attribution I have):
p7293
aVI think you should ask yourself if the database is the right place for dealing with this sort of data formatting though, presentational issues like this might be better handled closer to final viewing level of your stack
p7294
as(dp7295
g10
V479863
p7296
stp7297
a((dp7298
g2
(lp7299
VYou don't need a Perl one-liner for this, you could use  instead:
p7300
aVThe expand utility shall write files or the standard input to the standard output with  characters replaced with one or more  characters needed to pad to the next tab stop
p7301
aVThe  utility will even take care of managing tab stops for you and that seems to be part of your "with no effect on the visible spacing" requirement, a Perl one-liner probably would't (but I bet someone here could provide a one-liner that would)
p7302
as(dp7303
g10
V479863
p7304
stp7305
a((dp7306
g2
(lp7307
VThey're mostly used with Twitter (which has a very short message size) and historically for plain text email where mail readers would line-wrap long URLs in the middle
p7308
as(dp7309
g10
V479863
p7310
stp7311
a((dp7312
g2
(lp7313
VThis just removes the  class from everything that has the  class:
p7314
aVI think you want this:
p7315
aVThe  selector will choose everything that is a child of something with the  class and has the  class
p7316
as(dp7317
g10
V479863
p7318
stp7319
a((dp7320
g2
(lp7321
VThe usual way of dealing with this problem is a PID file
p7322
aVWrite the cron job's process ID to a file in a known location when the job starts and delete the file when the job ends
p7323
aVIf you need to kill the process before it ends, just read the PID out of the file and kill the process
p7324
aVYou'll want to include some signal handling in the cron jobs so that they properly clean up their PID files though, you wouldn't want to send a SIGTERM to the wrong process just because someone left a stale PID file around
p7325
as(dp7326
g10
V479863
p7327
stp7328
a((dp7329
g2
(lp7330
VThe standard way would be to use  or :
p7331
aVThe data types serial and bigserial are not true types, but merely a notational convenience for creating unique identifier columns (similar to the AUTO_INCREMENT property supported by some other databases)
p7332
ag3892
aVThus, we have created an integer column and arranged for its default values to be assigned from a sequence generator
p7333
aVSo you'd create the table with something like this:
p7334
aVThe  and  types do create a sequences behind the scenes but you never have to work with the sequence directly
p7335
as(dp7336
g10
V479863
p7337
stp7338
a((dp7339
g2
(lp7340
VI'd try to convert the argument and raise a  if no conversion was possible:
p7341
aVRaised when encountering an object that is not of the expected type
p7342
aVraises the exception:
p7343
aVThe Ruby core and standard libraries do it so there's no reason you can't do it too
p7344
aVThe Ruby core will raise exceptions when you do something you're not supposed to (calling an unsupported method, calling a method with the wrong number of arguments,
p7345
aVso throwing a  would make sense
p7346
aVAnd, if  isn't quite appropriate, there's always
p7347
aVIn your specific case, try to convert the argument to an  by calling  and then instantiating an  using that string if they don't give you an
p7348
aVI don't know my way around MacRuby or the corresponding Mac APIs so I'm sort of guessing on the sensible behavior in this specific case but I think the "convert or raise an exception" idea is sound and sensible
p7349
aVOf course, you should document the behavior you're going to use in your API documentation too
p7350
as(dp7351
g10
V479863
p7352
stp7353
a((dp7354
g2
(lp7355
VThe  argument array doesn't behave the way you think it does
p7356
aVThe values in  in a subroutine are actually aliases for the real arguments:
p7357
aVThe array @_ is a local array, but its elements are aliases for the actual scalar parameters
p7358
aVWhen you say this:
p7359
aVThe  in the first argument to  is immediately evaluated by the string interpolation but the second argument is not evaluated, it is just noted that the second value in the sub's version of  is  (the actual variable , not its value)
p7360
aVThen, inside , the value of  is changed by your regular expression
p7361
aVAnd now, your  has an alias for the string  followed by an alias for , these aliases are resolved by the  in your loop
p7362
aVIf you change the function to this:
p7363
aVor even this:
p7364
aVThen you'll get the two lines of "ok" that you're expecting
p7365
aVThe funny (funny peculiar, not funny ha-ha) is that those two versions of  produce your expected result for different reasons
p7366
aVThe  version extracts the current values of the aliases in  before the regular expression gets its hands on ; the  version localizes the  variable to the sub leaving the alias in  referencing the version of  from outside the sub:
p7367
aVA local modifies the listed variables to be local to the enclosing block, file, or eval
p7368
aVOddities like this are why you should always copy the values of the numbered regex capture variables to variables of your as soon as possible and why you want to unpack  right at the beginning of your functions (unless you know why you don't want to do that)
p7369
aVHopefully I haven't butchered the terminology too much, this is one of those weird corners of Perl that I've always stayed away from because I don't like juggling razor blades
p7370
as(dp7371
g10
V479863
p7372
stp7373
a((dp7374
g2
(lp7375
VI'm not sure if this is what you're asking for but I think you want this:
p7376
aVThat will tell you how many rows in  have a state of Texas and at least one of , , , and  is not NULL
p7377
aVUPDATE: Based on your question update I think you're looking for something like this:
p7378
aVYou'll have to do two queries \u2014 one for the column values and one for the counts \u2014 as you're trying to get two distinct things
p7379
as(dp7380
g10
V479863
p7381
stp7382
a((dp7383
g2
(lp7384
VIf you have a table like this:
p7385
aVThen you'd want something like this:
p7386
aVThe aggregate function  will then count the number of entries in each group and each group will be identified by
p7387
as(dp7388
g10
V479863
p7389
stp7390
a((dp7391
g2
(lp7392
VTry this:
p7393
aVYeah, old school join conditions
p7394
as(dp7395
g10
V479863
p7396
stp7397
a((dp7398
g2
(lp7399
VThat's just how  works:
p7400
aVWriting to a document that has already loaded without calling  will automatically perform a  call
p7401
aVAnd :
p7402
aVIf a document exists in the target, this method clears it
p7403
aVAnd their example just above that note:
p7404
aVThe easiest thing to do is to have an element already on the page and then update that element's content
p7405
aVSo, you'd have a bit of HTML:
p7406
aVAnd then in the callback:
p7407
aVSo, yeah, your trivial beginner's error is using  on a document that has already loaded
p7408
as(dp7409
g10
V479863
p7410
stp7411
a((dp7412
g2
(lp7413
VI think you want this:
p7414
aVThis is a bit sensitive to the precise  attribute but somewhat forgiving on how the the  is formatting inside the paragraphs
p7415
aVI think something a bit looser might serve you better:
p7416
aVhttp://jsfiddle
p7417
aVnet/ambiguous/nMKnR/
p7418
as(dp7419
g10
V479863
p7420
stp7421
a((dp7422
g2
(lp7423
VI'd guess that EnterpriseDB 8
p7424
aV3 is the EnterpriseDB version of PostgreSQL 8
p7425
ag1936
aVConditional triggers (i
p7426
ag785
aVthe  option) are a new feature in PostgreSQL 9
p7427
ag1979
aVCompare the CREATE TRIGGER documentation for 8
p7428
aV3 and 9
p7429
ag1979
as(dp7430
g10
V479863
p7431
stp7432
a((dp7433
g2
(lp7434
VIf you have a saved preference somewhere, then that would be the first choice
p7435
aVThe cookie value is, presumably, what they chose last time they were around so that would be the first thing to check
p7436
aVThe  parameter is something that Google has figured out and they probably know what they're doing so that seems like a sensible third choice
p7437
aVThen we have the HTTP headers or a final default so check the accept language header next
p7438
aVAnd finally, have a default language in place just in case all else fails
p7439
aVSo, in order:
p7440
aVSaved preference
p7441
aVCookie
p7442
aVparameter
p7443
aVHTTP accept language header
p7444
aVBuilt in default
p7445
aVIdeally you'd backtrack up the list once you get a language from somewhere so that you'd have less work to do on the next request
p7446
aVFor example, if you ended up getting the language from the accept language header, you'd want to: set  (possibly redirecting), store it in the cookie, and save the preference in their user settings (if you have such a permanent store and a signed in person)
p7447
as(dp7448
g10
V479863
p7449
stp7450
a((dp7451
g2
(lp7452
VThe "A" in AJAX stands for "asynchronous"
p7453
aVIn the  branch of , you're launching an asynchronous request to
p7454
aVwill return before your PHP file responds; then your  script does respond, jQuery will call your  callback but no one will pay attention to what it returns
p7455
aVThe result as far as form validation is concerned, is that your  looks like this:
p7456
aVYou could try the  option for  or rework all your logic to be able to wait for the asynchronous request to return
p7457
aVFurthermore, the second branch of  does not return , it doesn't return anything at all but that's still not a true value
p7458
as(dp7459
g10
V479863
p7460
stp7461
a((dp7462
g2
(lp7463
VYou're missing a few  for string interpolation in the first argument to
p7464
aVI think you mean to say this:
p7465
aVYour call was just passing this literal string to :
p7466
aVand, without the values from  substituted in,  didn't know what you were talking, got upset, and raised an  exception to indicate an "invalid date"
p7467
aVAnd you don't need the  calls inside  as  does that for you and the values in  will be strings anyway (unless, of course, you're doing some extra processing of  beyond what Rails normally does)
p7468
as(dp7469
g10
V479863
p7470
stp7471
a((dp7472
g2
(lp7473
VYou could try using  from the standard core:
p7474
aVSets the resource limit of the process
p7475
aVThis looks like it is just a wrapper around the  from the C library so it may only be available on Unix-ish platforms
p7476
aVdoesn't support CPU percentage limits but it does support limiting CPU time in seconds
p7477
aVIf you're just trying to keep your Ruby process from hogging the whole CPU then you could try adjusting its priority with  which is just a wrapper around libc's  and offers some control over your process's scheduling priority
p7478
aVAgain, availability will probably be limited by your platform but it should work on Linux, OSX, or any other Unix-ish system
p7479
as(dp7480
g10
V479863
p7481
stp7482
a((dp7483
g2
(lp7484
VHave you tried  on  inside the relevant table cells
p7485
aVshould work the same in every browser
p7486
aVhttp://jsfiddle
p7487
aVnet/ambiguous/NYYwd/
p7488
as(dp7489
g10
V479863
p7490
stp7491
a((dp7492
g2
(lp7493
VSQLite uses 1 for true and 0 for false:
p7494
aVSQLite does not have a separate Boolean storage class
p7495
aVInstead, Boolean values are stored as integers 0 (false) and 1 (true)
p7496
aVBut SQLite also has a loose type system and automatically casts things so your  is probably being interpreted as having a truthiness of "true" simply because it isn't zero
p7497
aVA bit of digging indicates that you have found a bug in the Rails 3
p7498
ag1979
aV7 SQLiteAdapter
p7499
aVIn , we find these:
p7500
aVSo, by default, ActiveRecord assumes that the database understands  and  for boolean columns
p7501
aVThe MySQL adaptor overrides these to work with its  implementation of boolean columns:
p7502
aVBut the SQLite adapter does not provide its own implementations of  or  so it gets the defaults which don't work with SQLite's booleans
p7503
aVThe  and  booleans work in PostgreSQL so maybe everyone is using PostgreSQL with Rails 3 or they're just not noticing that their queries aren't working properly
p7504
aVI'm a little surprised by this and hopefully someone can point out where I've gone wrong, you can't be the first person to use a boolean column in SQLite with Rails 3
p7505
aVTry monkey patching  and  into  (or temporarily hand-edit them into ) and see if you get sensible SQL
p7506
as(dp7507
g10
V479863
p7508
stp7509
a((dp7510
g2
(lp7511
VThe C99  defines these:
p7512
aVAnd, if the architecture supports them:
p7513
aVThere are various other integer typedefs in  as well
p7514
aVIf you're stuck without a C99 environment then you should probably supply your own typedefs and use the C99 ones anyway
p7515
aVThe  and  (i
p7516
ag785
aVwithout the  suffix) are probably application specific
p7517
as(dp7518
g10
V479863
p7519
stp7520
a((dp7521
g2
(lp7522
VAre you sure that works on some sites
p7523
aVI think you're just getting lucky and picking up the site's already loaded jQuery
p7524
aVAnyway, if you want to add two JavaScript files then you'll have to append two script tags:
p7525
aVAlso note that the  is only on the second one since you presumably need both JavaScript files loaded before  will work
p7526
aVIf you're loading jQuery, you might want to check if the page has loaded it already:
p7527
aVAdding a  call might be a good idea too, the page might be using  for something else so forcing it to be jQuery could break the page
p7528
as(dp7529
g10
V479863
p7530
stp7531
a((dp7532
g2
(lp7533
VYou can pass a function as the  option:
p7534
aVThen,  would get what they've currently entered in the  parameter and use that to query your database to find possible matches
p7535
aVTo get the possible matches back to the autocompleter, you'd just have to return the possible matches as a list of strings \u2014 one match per line \u2014 with a content type of
p7536
aVYou don't need to use the "one per line" plain text format but that's probably the easiest, you only need to ensure that the success callback can parse the  return data into an array to hand to
p7537
as(dp7538
g10
V479863
p7539
stp7540
a((dp7541
g2
(lp7542
VThat's a pretty standard way of doing it, my version used a  though:
p7543
aVThis isn't technically 100% safe though as Mike Samuel notes but it is probably pretty safe in practice
p7544
aVThe current Prototype
p7545
aVjs does this:
p7546
aVBut it used to use the "put text in a div and extract the HTML" trick
p7547
aVThere's also  in Underscore, that does it like this:
p7548
aVThat's pretty much the same approach as Prototype's
p7549
aVMost of the JavaScript I do lately has Underscore available so I tend to use  these days
p7550
as(dp7551
g10
V479863
p7552
stp7553
a((dp7554
g2
(lp7555
VThe  and  binaries supports  and  switches for getting the version number:
p7556
aV-vnum or -version
p7557
aVPrint the version number of the compiler in short form (e
p7558
ag1985
ag1936
aV11
p7559
aV0), then exit
p7560
aVThis switch is supported in 3
p7561
aV12
p7562
aV0 and the example text in the documentation suggests that 3
p7563
aV11
p7564
aV0 also supports it
p7565
aVI don't have 3
p7566
aV10
p7567
aV0 handy but nlucaroni (whose OCaml Fu looks stronger than mine) indicates in the comments that 3
p7568
aV10
p7569
aV0 does have
p7570
aVSo you could add something like this to your Makefile:
p7571
aVAnd then pass those to your compiler using , ,
p7572
as(dp7573
g10
V479863
p7574
stp7575
a((dp7576
g2
(lp7577
VYou're getting all that extra nonsense because a  element supports the  MIME type
p7578
aVWhen you paste something from the clipboard, there is often a content negotiation phase:
p7579
aVThe paste target says "I support these content types:
p7580
aVThe clipboard manager then discusses that list with the data source to get the pasted data in a suitable format for the paste target
p7581
aVAnd finally, the data gets dumped in your  element as  with all that extra noise
p7582
aVThe process may not be exactly like the above but it will be similar
p7583
aVYour best bet would probably to add a handler for the  event and use that handler to convert the pasted data to
p7584
as(dp7585
g10
V479863
p7586
stp7587
a((dp7588
g2
(lp7589
VYou have a comma after the last element of :
p7590
aVIE6 and IE7 don't like that
p7591
aVThis usually shows up as a  at the end of the array and you end up with a  where you don't expect one
p7592
as(dp7593
g10
V479863
p7594
stp7595
a((dp7596
g2
(lp7597
VThe "A" in AJAX stands for "asynchronous"
p7598
as(dp7599
g10
V479863
p7600
stp7601
a((dp7602
g2
(lp7603
VYou should have a  database so you could try:
p7604
aVAnd then execute your  from there
p7605
aVAlso, the first argument to  is supposed to be:
p7606
aVWhere  is the database driver (case sensitive) and  is usually the database name
p7607
as(dp7608
g10
V479863
p7609
stp7610
a((dp7611
g2
(lp7612
VWhen you say this:
p7613
aVTo bind the tooltips to some elements, that executes immediately and only pays attention to the elements that are currently on the page
p7614
aVIf you load some new elements through an AJAX call, you'll have to bind  to everything in the new HTML
p7615
aVWhatever AJAX calls you're using should have a success callback, you can supply a callback that will re-do the  call on the new HTML as you insert it into the page
p7616
as(dp7617
g10
V479863
p7618
stp7619
a((dp7620
g2
(lp7621
VIf you add  attributes to your headers:
p7622
aVThen you can pull the  out in your handler and use  to track the open panel in a cookie:
p7623
aVYou'd need to play with the storage format for  a bit if you want to have multiple panels open at one time but a simple CSV list would probably suffice; I'll leave that part as an exercise for the reader
p7624
aVYou'd also want to check the cookie when the page loads and open the appropriate panels
p7625
aVYou could also keep track of the cookie's value on the server if you wanted to keep the setting around as part of the user's account preferences
p7626
as(dp7627
g10
V479863
p7628
stp7629
a((dp7630
g2
(lp7631
VYour problem is that you have an embedded single quote here:
p7632
aVSo you end up with unbalanced single quotes and invalid SQL
p7633
aVYou need to properly escape your text before trying to turn it into SQL
p7634
as(dp7635
g10
V479863
p7636
stp7637
a((dp7638
g2
(lp7639
VHave you examined  directly without any debugger
p7640
aVThe debugger could be getting confused or just displaying confusing results
p7641
as(dp7642
g10
V479863
p7643
stp7644
a((dp7645
g2
(lp7646
VHave you tried requiring your fallback library in the rescue handler
p7647
as(dp7648
g10
V479863
p7649
stp7650
a((dp7651
g2
(lp7652
VA literal number is not a :
p7653
aVSo there is no prototype to modify for numeric literals
p7654
aVHowever, when you try to set a property on a numeric literal, it looks like the literal is wrapped in a Number object first
p7655
aVThen, the setter is called on that object and  will be an object inside the setter function
p7656
aVAnd then, the literal is unwrapped when the setter returns and this unwrapping leaves the property (which was set on the object wrapper) behind
p7657
aVhttp://jsfiddle
p7658
aVnet/ambiguous/H77qk/2/
p7659
aVI get four alerts out of the above in several browsers
p7660
aVSorry but I don't have an authoritative reference for this behavior, just empirical evidence
p7661
as(dp7662
g10
V479863
p7663
stp7664
a((dp7665
g2
(lp7666
VThe default behavior of the cycle plugin is to loop forever so your  callback will never get called
p7667
aVYou want to specify  or
p7668
aVFrom the fine manual:
p7669
aVSo try adding  or  to your  options, that should get your  callback called
p7670
as(dp7671
g10
V479863
p7672
stp7673
a((dp7674
g2
(lp7675
VYou need to move the  binding up into the  or it will run before there is anything in the DOM that matches your  selector:
p7676
as(dp7677
g10
V479863
p7678
stp7679
a((dp7680
g2
(lp7681
VThe easiest way would be to put your ordering in a separate table (called  in this example):
p7682
aVThe above would mean "put an  of 1 at position 11, 2 at position 42, 3 at position 23,
p7683
aVThen you can join that ordering table in:
p7684
aVWhere  is the table (as above) that defines your strange ordering
p7685
aVThis approach simply represents your ordering function as a table (any function with a finite domain is, essentially, just a table after all)
p7686
aVThis "ordering table" approach should work fine as long as the ordering table is complete
p7687
aVIf you only need this strange ordering in one place then you could merge the  column into your main table and add  and  constraints on that column to make sure you cover everything and have a consistent ordering
p7688
aVFurther commenting indicates that you want different orderings for different users and categories and that the ordering will change on a daily basis
p7689
aVYou could make separate tables for each condition (which would lead to a combinatorial explosion) or, as Mikael Eriksson and ypercube suggest, add a couple more columns to the ordering table to hold the user and category:
p7690
aVThe , , and  would be foreign keys to their respective tables and you'd probably want to index all the columns in  but a couple minutes of looking at the query plans would be worthwhile to see if the indexes get used would be worthwhile
p7691
aVYou could also make all four columns the primary key to avoid duplicates
p7692
aVThen, the lookup query would be something like this:
p7693
aVWhere  and  are the user and category IDs (respectively)
p7694
aVNote the change to a LEFT JOIN and the addition of COALESCE to allow for missing rows in , these changes will push anything that doesn't have a specified position in the order to the bottom of the list rather than removing them from the results completely
p7695
as(dp7696
g10
V479863
p7697
stp7698
a((dp7699
g2
(lp7700
VFirst of all,  is a function call so you should say  if you're going to be using  a lot
p7701
aVAlso, your  loops are redundant as the jQuery objects apply their changes to all the matched elements anyway so looping is not needed (i
p7702
ag785
aVthe jQuery methods are set based)
p7703
aVYou're probably better off removing the  attribute rather than setting it to  too
p7704
aVSomething like this would probably be better:
p7705
as(dp7706
g10
V479863
p7707
stp7708
a((dp7709
g2
(lp7710
VThere is Shellwords if you're using 1
p7711
ag2959
aVIf you're not using 1
p7712
aV9 but do have Rails then you'll get Shellwords from Rails
p7713
aVIn either case, you can use  to parse a string like a POSIX shell does:
p7714
aVIf you don't have Rails or 1
p7715
aV9 then you could probably just grab the  from Rails and use it
p7716
aVUpdate: It looks like Shellwords is available in Ruby 1
p7717
aV8 (thank you Michael Khol)
p7718
aVI was getting ambiguous results about which specific versions had it
p7719
as(dp7720
g10
V479863
p7721
stp7722
a((dp7723
g2
(lp7724
VFrom the fine manual:
p7725
ag1938
ag2963
ag2377
aVIdentifier Generation Strategies
p7726
aV(default): Tells Doctrine to pick the strategy that is preferred by the used database platform
p7727
aVThe preferred strategies are IDENTITY for MySQL, SQLite and MsSQL and SEQUENCE for Oracle and PostgreSQL
p7728
aVThis strategy provides full portability
p7729
aV: Tells Doctrine to use special identity columns in the database that generate a value on insertion of a row
p7730
aVThis strategy does currently not provide full portability and is supported by the following platforms: MySQL/SQLite (AUTO_INCREMENT), MSSQL (IDENTITY) and PostgreSQL (SERIAL)
p7731
aVThey suggest  for maximum portability:
p7732
aVThat should create and wire up a sequence for you
p7733
aVAn alternative would be to ask for a  column using the  strategy:
p7734
aVThis one should create your  column as type  and PostgreSQL will create the sequence and set up the default value for you
p7735
aVThe documentation indicates that what you're doing should work but the documentation usually only provides a simplified version of reality
p7736
aVTry using
p7737
aVIf that doesn't work, try
p7738
as(dp7739
g10
V479863
p7740
stp7741
a((dp7742
g2
(lp7743
VThe  call in your first example is binding a function to the submit event on the form
p7744
aVFrom the fine manual:
p7745
aVhandler(eventObject) A function to execute each time the event is triggered
p7746
aVYou need to bind your submit handler:
p7747
aVsomewhere else and call  as in your second example
p7748
as(dp7749
g10
V479863
p7750
stp7751
a((dp7752
g2
(lp7753
VFrom the fine manual:
p7754
aVReturn the index of an SQL parameter given its name
p7755
aVAnd for parameters:
p7756
aVA question mark that is not followed by a number creates a parameter with a number one greater than the largest parameter number already assigned
p7757
aV:AAAA
p7758
aVA colon followed by an identifier name holds a spot for a named parameter with the name :AAAA
p7759
aVEmphasis mine in the second section
p7760
aVYour SQL doesn't have any named parameters at all, you just have plain old placeholders
p7761
aVThe parameter name is the name of the placeholder (), not the name of the column in question; remember that you can use placeholders in places where no name could be automatically derived so you have to name them yourself
p7762
aVIf you want to use  as a named parameter, then your SQL should look like this:
p7763
aVAnd you'd probably want to replace the other placeholders () with named parameters for consistency
p7764
as(dp7765
g10
V479863
p7766
stp7767
a((dp7768
g2
(lp7769
VYou forgot to allocate space for ,  will not allocate memory for you, you have to do that yourself
p7770
aVFurthermore,  points at non-writeable memory and it doesn't have enough room to append  to it anyway so your  would overflow even if you had
p7771
aVHere's an annotated version of something that's closer to what you really want:
p7772
aVSomeone please let me know if I've made any off-by-one errors
p7773
aVYou can find reference material for the functions in the above over here
p7774
as(dp7775
g10
V479863
p7776
stp7777
a((dp7778
g2
(lp7779
VWhat about using the  method
p7780
aVPrepends objects to the front of self, moving other elements upwards
p7781
aVAnd in use:
p7782
as(dp7783
g10
V479863
p7784
stp7785
a((dp7786
g2
(lp7787
VYou want to use :
p7788
aVI'm assuming that you have a single space after the "]" and that you're on a Unix-ish system
p7789
as(dp7790
g10
V479863
p7791
stp7792
a((dp7793
g2
(lp7794
VGive your  value a name and you can pull it out of  just like any other POST parameter:
p7795
aVAnd then, in the controller:
p7796
as(dp7797
g10
V479863
p7798
stp7799
a((dp7800
g2
(lp7801
VIs it this line in
p7802
aVIf that's what you really have then Ruby will try to pass whatever  returns to  as an argument, the above is equivalent to this:
p7803
aVHowever, the  method doesn't take any arguments so you get a "wrong number of arguments (1 for 0) in OrdersController#create" error message
p7804
aVI'd guess that you mean:
p7805
as(dp7806
g10
V479863
p7807
stp7808
a((dp7809
g2
(lp7810
VThe callback function for  gets the index as its first parameter:
p7811
as(dp7812
g10
V479863
p7813
stp7814
a((dp7815
g2
(lp7816
VYour problem is that you're executing two commands but not as you expect
p7817
aVThe two commands are:
p7818
aVWith the second only executing if the first succeeded
p7819
aVI think you just need some quotes:
p7820
aVThose single quotes will feed your  pair to  as a single command and that should change the current working directory to what you want when  is executed
p7821
as(dp7822
g10
V479863
p7823
stp7824
a((dp7825
g2
(lp7826
VThe answer depends on what "empty" means
p7827
aVIf the empty paragraphs are  then fireeyedboy's  selector is the way to go
p7828
aVIf there could be spaces or newlines or other such things then you'll probably want something like this:
p7829
aVExample: http://jsfiddle
p7830
aVnet/ambiguous/7L4WZ/
p7831
aVFCKEditor (not sure about CKEditor or TinyMCE) likes to add  to the HTML so you might need the above somewhat ugly approach
p7832
as(dp7833
g10
V479863
p7834
stp7835
a((dp7836
g2
(lp7837
VThe quick and dirty solution would be a big ugly CASE statement:
p7838
aVI don't know if that's any better than a big ugly pile of IFs though
p7839
aVYou could use a temporary table but then you'd have to store the big ugly pile of data somewhere and you'd have to check if the temp table is already there and populate it if it isn't
p7840
aVYou say that you don't have  installed by you could fake it with a PostgreSQL array and a WHILE loop:
p7841
aVI guess it is a question of which flavor of ugly hack you want
p7842
as(dp7843
g10
V479863
p7844
stp7845
a((dp7846
g2
(lp7847
VThe problem is that your array might contain a value that matches the name of a local variable or method and that's when the pain and confusion starts
p7848
aVProbably best to build a hash of arrays instead:
p7849
aVOr, if you don't have :
p7850
aVNote the argument order switch in the block with  and that you have to return  from the block
p7851
aVThis way you have your arrays but you also protect your namespace by, essentially, using a hash as little portable namespace
p7852
aVYou can create variables on the fly as Jacob Relkin demonstrates but you're asking for trouble by doing it that way
p7853
aVYou can also run into trouble if the elements of  end up being non-alphanumeric
p7854
as(dp7855
g10
V479863
p7856
stp7857
a((dp7858
g2
(lp7859
VSQL supports C-style comments:
p7860
aVso it looks like  is being interpreted as the beginning of a comment and that comment is wrecking the syntax of the rest of the SQL
p7861
as(dp7862
g10
V479863
p7863
stp7864
a((dp7865
g2
(lp7866
VYou should be looking at
p7867
aVjQuery's  is an alias for  and that's where all the plugin names go
p7868
aVThe top-level  namespace is reserved for jQuery's utility functions such as  and
p7869
as(dp7870
g10
V479863
p7871
stp7872
a((dp7873
g2
(lp7874
VYou need to use an SQL  statement:
p7875
aVThe  clause, of course, depends on what you want to delete from
p7876
as(dp7877
g10
V479863
p7878
stp7879
a((dp7880
g2
(lp7881
VYou just call the appropriate accessor method on :
p7882
as(dp7883
g10
V479863
p7884
stp7885
a((dp7886
g2
(lp7887
VIf you're worried that a person could leave the conversation (through a separate process or request) between your two queries then a transaction isn't what you want
p7888
aVWhat you want to do is add a join to the "conversations" table to filter out people that are no longer in the conversation, something sort of like this:
p7889
aVWhere  is the user in question
p7890
aVThen, if  is no longer in the conversation, no rows will come out of the join and nothing will be selected
p7891
as(dp7892
g10
V479863
p7893
stp7894
a((dp7895
g2
(lp7896
VThe  file looks like an Ant file to me so try using Ant
p7897
aVAlso, in , we see this:
p7898
aVSo it using Ant
p7899
as(dp7900
g10
V479863
p7901
stp7902
a((dp7903
g2
(lp7904
VYou're binding the datepicker in the popup window:
p7905
aVbefore the popup (and hence  and ) exist
p7906
aVThe popup window doesn't exist until you click the "popup inquiry" link and binding to something that doesn't exist doesn't do anything useful
p7907
aVYou should bind the datepickers in the popup after the popup has been created
p7908
as(dp7909
g10
V479863
p7910
stp7911
a((dp7912
g2
(lp7913
VYou want to set the  pragma, send this in:
p7914
aVlike any other bit of SQL
p7915
aVThen, to unlock it, either close the connection or set the locking mode to :
p7916
aVand then do a read or write to the database:
p7917
aVDatabase locks obtained by a connection in EXCLUSIVE mode may be released either by closing the database connection, or by setting the locking-mode back to NORMAL using this pragma and then accessing the database file (for read or write)
p7918
aVSimply setting the locking-mode to NORMAL is not enough - locks are not be released until the next time the database file is accessed
p7919
aVYou probably want to do some reading on SQLite3 locking as well
p7920
as(dp7921
g10
V479863
p7922
stp7923
a((dp7924
g2
(lp7925
VSo the PostgreSQL socket is in  but your  (the C library that  wraps) is looking for the socket in , right
p7926
aVTry changing the  setting to point at the proper socket location:
p7927
aVOr this:
p7928
aVAnd you might want to change the the PostgreSQL password too
p7929
as(dp7930
g10
V479863
p7931
stp7932
a((dp7933
g2
(lp7934
VYou could try something like this:
p7935
aVThis isn't that much different than manually looping through the table but at least it lets the database do the looping inside "database space" rather than having to jump back and forth between your function and the database internals
p7936
aVAlso, pushing it all into a single query lets the query engine know what you're trying to do and then it can try to do it in a sensible way
p7937
as(dp7938
g10
V479863
p7939
stp7940
a((dp7941
g2
(lp7942
VYou could attach the class to use to the hovered item
p7943
aVSo, if your HTML looks like this:
p7944
aVThen you could so this in your JavaScript:
p7945
aVIf you're using an older jQuery then you might need to use  instead of
p7946
as(dp7947
g10
V479863
p7948
stp7949
a((dp7950
g2
(lp7951
VYou could use an array instead of an explicit list of variables and then pick things out of the array by index:
p7952
aVEither that or rework your regular expression to only capture what you need
p7953
aVYou can use the same variable multiple times in the list so just renaming the things you're not using to  would probably be the simplest choice:
p7954
aVAt least this way it is (or should be) obvious that you're not using the fifth and seventh captures
p7955
aVHowever, this doesn't work in 1
p7956
aV9 so you'd have to use  and  in 1
p7957
ag2959
aVAn ideal balance would be to use 1
p7958
aV9's named capture groups but  doesn't give you access to them
p7959
as(dp7960
g10
V479863
p7961
stp7962
a((dp7963
g2
(lp7964
VYou can eliminate the second  by saying what you really mean in the first one:
p7965
aVWhat you really mean is "replace all sequences of one or more non-alphanumeric characters with a single hyphen" and that's what  does
p7966
aVAlso, you don't need to include the upper and lower case letters when you specify a case insensitive regex so I took that out
p7967
as(dp7968
g10
V479863
p7969
stp7970
a((dp7971
g2
(lp7972
VThe  property is a string (a DOMString in the specification but that is just a  in JavaScript) so you can't call  on it; you want to look at
p7973
aVAlso,  searches beneath the element it is called on:
p7974
aVThe subtree underneath the specified element is searched, excluding the element itself
p7975
aVSo you'll have to access the contents directly rather than inside a loop:
p7976
aVIf you want to return multiple  elements (and hence, use your  loop) then you'll have to wrap the return value from your PHP in one more element:
p7977
as(dp7978
g10
V479863
p7979
stp7980
a((dp7981
g2
(lp7982
VYou're missing a  for the outer loop and you're better off using  instead of backticks (easier to read, easier to nest, and it should be understood by any modern )
p7983
aVAlso, you don't need to call  to get a list of files in the current directory, you can just use :
p7984
aVThe above will miss files like  but you can use  if you need those too:
p7985
aVAnd if you have to deal with files that contain spaces in their names then you're better off using something other than the shell such as Perl, Ruby, or Python
p7986
as(dp7987
g10
V479863
p7988
stp7989
a((dp7990
g2
(lp7991
VYour problem is that you're formatting your time into a string before you're done treating it as a time
p7992
aVThis would make more sense:
p7993
aVYou shouldn't format your data until right before you're ready to display it
p7994
aVIf you must have  as the formatted time then you're going to have to parse it before computing :
p7995
as(dp7996
g10
V479863
p7997
stp7998
a((dp7999
g2
(lp8000
VThe debugger is probably using  to represent Ctrl-M which is also known as a carriage return (and sometimes  or )
p8001
aVText files from Windows use a CR-LF (carriage return, line feed) pair to represent the end of a line
p8002
aVIf you read such a file on a Unix system, your  will strip off the Unix EOL (a single line feed) but leave the CR as is and you end up with stray CRs in your file
p8003
aVFor a file like you have you can just strip out all the trailing whitespace instead of using :
p8004
as(dp8005
g10
V479863
p8006
stp8007
a((dp8008
g2
(lp8009
VTry using  in your CSS:
p8010
aVWith this (fast) algorithm, the horizontal layout of the table does not depend on the contents of the cells; it only depends on the table's width, the width of the columns, and borders or cell spacing
p8011
aVThat should speed up the initial rendering but you'll have to manage the column sizes by hand
p8012
aVTable column sizing usually requires a full scan of the table and then some negotiation if there isn't enough room to accommodate the natural widths of all the columns; using a fixed layout avoids the scan and the negotiation by statically setting the widths right away and then making all the cells comply whether they like it or not
p8013
as(dp8014
g10
V479863
p8015
stp8016
a((dp8017
g2
(lp8018
VIf you only have the one form then you could do something like this:
p8019
aVJust compute the  once and use it as needed
p8020
aVI doubt that  is really going to be all that expensive though
p8021
aVOTOH, good habits are good habits and not computing the same thing over and over again is usually a good habit
p8022
as(dp8023
g10
V479863
p8024
stp8025
a((dp8026
g2
(lp8027
VI'd push it all down into the database:
p8028
aVDoing it in the database through JOINs will be a lot faster than filtering things in your PHP
p8029
aVDoing it in the database will let you paginate things properly without having to jump through hoops like fetching more data than you need (and then fetching even more if you end up throwing too much out)
p8030
aVI can think of two broad strategies you could employ for managing the ACLs
p8031
aVYou could set up explicit ACLs in the database with a single table sort of like this:
p8032
aV: The id of the thing (book, picture,
p8033
aVin question
p8034
aV: The type or table that id comes from
p8035
aV: The user that can look at the thing
p8036
aVThe (, ) pair give you a pseudo-FK that you can use for sanity checking your database and the  can be used to select a class to provide the necessary glue to interact the the type-specific parts of the ACLs and add SQL snippets to queries to properly join the ACL table
p8037
aVAlternatively, you could use a naming convention to attach an ACL sidecar table to each table than needs an ACL
p8038
aVFor table , you could have a table  with columns like:
p8039
aV: The id of the thing in  (with a real foreign key for integrity)
p8040
aV: The user the can look at the thing
p8041
aVThen, you could have a single ACL class that could adjust your SQL given the base table name
p8042
aVThe main advantage of the first approach is that you have a single ACL store for everything so it is easy to answer questions like "what can user X look at
p8043
aVThe main advantage of the second approach is that you can have real referential integrity and less code (through naming conventions) for gluing it all together
p8044
aVHopefully the above will help your thinking
p8045
as(dp8046
g10
V479863
p8047
stp8048
a((dp8049
g2
(lp8050
VYou just need to make the last chunk optional:
p8051
aVAnd if you also need to allow "9112345678 put" then add more optional groups:
p8052
aVIf you want to maintain nice sequential references to your capture groups and if your PCRE engine really is PC, then you can use clustering groups in place of some of the capturing groups:
p8053
aVThanks go to Kobi for kindly suggesting this variant
p8054
aVWith this version, matching against:
p8055
aVwill yield:
p8056
aVin
p8057
aVin
p8058
aVin
p8059
aVin
p8060
aVAnd that's probably easier to deal with than accounting for all the extra nesting
p8061
as(dp8062
g10
V479863
p8063
stp8064
a((dp8065
g2
(lp8066
VYour best bet is to use absolute paths everywhere all the time, relative paths just cause trouble and introduce unnecessary coupling and brittleness
p8067
aVI don't know your exact structure but I think you probably want this:
p8068
aVOr possibly this:
p8069
aVThe same advice applies to referencing your CSS and JavaScript files
p8070
as(dp8071
g10
V479863
p8072
stp8073
a((dp8074
g2
(lp8075
VYou're a little confused about the arguments to
p8076
aVFrom the fine manual:
p8077
aVFilename
p8078
aVOptional
p8079
aVThe name of the attachment
p8080
aVYou can use this to supply a recommended filename for the end-user who is saving the attachment to disk
p8081
aVYou only need this if the filename at the end of the "Path" is inadequate, or if you're using "Data" instead of "Path"
p8082
aVYou should not put path information in here (e
p8083
ag1985
aV, no "/" or "\u005c" or ":" characters should be used)
p8084
ag3892
aVPath
p8085
aVAlternative to "Data" or "FH"
p8086
aVPath to a file containing the data
p8087
aVactually, it can be any open()able expression
p8088
aVIf it looks like a path, the last element will automatically be treated as the filename
p8089
aVSee "ReadNow" also
p8090
aVThe  is the full path to the file that you want to attach, the  is the name that you want to receiver to see for that file
p8091
aVI think you want this:
p8092
as(dp8093
g10
V479863
p8094
stp8095
a((dp8096
g2
(lp8097
VThe  function replaces all occurrences of the string so you have to make sure the string to replace is unique or use something else
p8098
aVHowever,  only replaces the first occurrence by default so you can use that; your question is a little unclear about what the expected output is but maybe this is is what you're looking for:
p8099
aVOr this one:
p8100
aVOr maybe even this:
p8101
as(dp8102
g10
V479863
p8103
stp8104
a((dp8105
g2
(lp8106
VThat layout looks like a table to me so I'd use a table for it:
p8107
aVBut, if you don't want to use a table and don't mind manually sizing things, you can do it with a definition list:
p8108
aVAnd then some CSS:
p8109
aVAnd an example of both approaches: http://jsfiddle
p8110
aVnet/ambiguous/RftDM/
p8111
as(dp8112
g10
V479863
p8113
stp8114
a((dp8115
g2
(lp8116
VYou could use a separate absolutely positioned  for the border so that you can place the border above your absolutely positioned image
p8117
aVFor example:
p8118
aVAnd some CSS (WebKit border radius properties only, the rest are left as an exercise for the reader):
p8119
aVAnd the usual example: http://jsfiddle
p8120
aVnet/ambiguous/6e622/
p8121
aVThe  is certainly a hack (and I feel a bit dirty for coming up with it) but maybe it will work for you
p8122
as(dp8123
g10
V479863
p8124
stp8125
a((dp8126
g2
(lp8127
VYou don't need  to close the , just :
p8128
aVA better choice in your case would be a  call:
p8129
as(dp8130
g10
V479863
p8131
stp8132
a((dp8133
g2
(lp8134
VYou don't need anything that complicated, you can probably get away with this:
p8135
aVAnd then pull the parts out of , , and
p8136
aVYou might have to tighten up the  parts a bit depending on how variable your real input is
p8137
aVFor example, this bit of Perl:
p8138
aVOutputs:
p8139
as(dp8140
g10
V479863
p8141
stp8142
a((dp8143
g2
(lp8144
VI need to continue in an answer due to a lack of space/formatting in a comment
p8145
aVFirst of all, you do have 90 entries but you can let the compiler figure out how many entries the  array needs:
p8146
aVAnd, more importantly, you don't need to put them in a string and pull them back out when you already have them on hand:
p8147
aVThis will neatly side step whatever buffer overflow you were causing with your
p8148
aVYour  is only a  and you're going through your loop 90 times and incrementing your offset into  each time; so, you'll run off the end of  before long and then you'll tell  to scribble all over unallocated memory
p8149
aVHence your segfault
p8150
as(dp8151
g10
V479863
p8152
stp8153
a((dp8154
g2
(lp8155
VI think you just need to tweak your logic and your template a little bit
p8156
aVFirst, you want to drive the whole thing from the products that are available on the ordering page rather than the products that come back; this:
p8157
aVShould look more like this:
p8158
aVOf course, if the products list is massive then you'll be stuck pulling the products list out of the page (and validating each product) as you're doing now
p8159
aVHowever, if the products list is small then it is easier to start with a known and valid list
p8160
aVThe meat of the issue is your database interaction and how  works
p8161
aVYour  gets a list of products to look at in
p8162
aVAll you need to do is this:
p8163
aVCreate an array of data to be inserted
p8164
aVGo through , if the product is checked and it has a quantity, add it and its quantity to the list
p8165
aVCheck if there is anything in the order list after the above loop is finished:
p8166
aVIf there is something in the order list,  can add it all to the database
p8167
aVIf there isn't anything in the order list,  can return an error code (such as an order ID of zero) and the caller can complain to the user that ordering nothing at all makes no sense
p8168
aVThe basic strategy is to collect your data and then act on it rather trying to act on your data while you collect it
p8169
aVNow the problem becomes: how do we associate a quantity with a specific problem
p8170
aVThis is easy to solve as we have product IDs; your  elements should be:
p8171
aVThen, when you're looking for the quantity of a specific product, you can pull it straight out of  as a scalar as
p8172
aVI know I could have solved the root of your problem just by telling you to rename your  elements but I figured I'd sort out some of your other possible issues along the way
p8173
as(dp8174
g10
V479863
p8175
stp8176
a((dp8177
g2
(lp8178
VFirst of all, just do one  rather than appending every time through the loop:
p8179
aVAlso note that I corrected your existence test,  returns an empty object when  doesn't match anything, not
p8180
aVNot only is this a lot more efficient but you'll only have one scroll position change to deal with
p8181
aVSolving your scrolling issue is fairly simple: find out what element is scrolling, store its  before your append, and reset its  after the append:
p8182
aVThere might be a slight visible flicker but hopefully that will be lost in the noise of altering the table
p8183
aVYou could also try setting the  CSS property of the  to
p8184
aVThat will keep the table from trying to resize its width or the width of its columns and that might stop the scrolling behavior that you're seeing
p8185
aVThe downside is that you'll have to handle the column sizing yourself
p8186
aVBut, you could try setting  immediately before your  operation to minimize the hassle
p8187
as(dp8188
g10
V479863
p8189
stp8190
a((dp8191
g2
(lp8192
VYou can't do what you want with a trigger
p8193
aVYour incoming empty string will be parsed and converted to a  (or at least the parsing will be attempted) before the trigger is executed
p8194
aVHowever, you could write a simple function to convert empty strings to NULL and use that in your INSERT:
p8195
aVAnd then:
p8196
aVI'd recommend that your client application properly convert empty MAC address strings to NULLs itself though
p8197
as(dp8198
g10
V479863
p8199
stp8200
a((dp8201
g2
(lp8202
VYou have to do it the hard way: one query to get the count and another to get your desired slice of the row set:
p8203
as(dp8204
g10
V479863
p8205
stp8206
a((dp8207
g2
(lp8208
VMongoDB doesn't do joins so your first three steps are:
p8209
aVGrab  from MongoDB and put it in
p8210
aVGrab  from MongoDB and put it in
p8211
aVGrab  from MongoDB and put it in
p8212
aVThen, you can use  in place of :
p8213
aVIf you're really doing a three way cross product, then you'll have to wrap the above in a triple nested loop something like this:
p8214
aVYou have to do a lot of traditional RDBMS things by hand with MongoDB
p8215
as(dp8216
g10
V479863
p8217
stp8218
a((dp8219
g2
(lp8220
VYes it is possible but not with the plugin you're using
p8221
aVAll you need to do is bind a keyup handler to both textareas and then check the sum of the lengths of the values of both textareas:
p8222
aVIf the total length exceeds what you want then truncate the text area that currently has focus
p8223
as(dp8224
g10
V479863
p8225
stp8226
a((dp8227
g2
(lp8228
VUsing  when you don't have to is a waste
p8229
aVThere's no need to use ERBisms to generate static HTML so don't do it
p8230
aVIf some other piece of code determines what tag to use, then you'd use  to construct that tag
p8231
as(dp8232
g10
V479863
p8233
stp8234
a((dp8235
g2
(lp8236
VFrom the fine manual:
p8237
aVThis method outputs without escaping a string
p8238
ag3892
aVThis is not recommended if the data is coming from the user\u2019s input
p8239
aVSo, yes, using  can be bit of a security issue (for your users) unless you properly sanitize the HTML that comes in
p8240
aVYou shouldn't trust the client
p8241
aVEven if you've set up TinyMCE with a limited set of tags, you have no guarantee that the HTML that your server receives actually came from TinyMCE or that someone hasn't worked around TinyMCE in some way
p8242
aVIf you're accepting HTML from users, then you need to whitelist both the tags and attributes before you store it
p8243
aVYou can use Nokogiri to parse the incoming HTML tag by tag, if a tag is on your whitelist then let it through, if you aren't explicitly allowing that tag (i
p8244
ag785
aVit isn't on your whitelist) then throw it away
p8245
aVAnd, you'll want to check the attributes on the tags you let through so that only attributes and attribute values that you want get through
p8246
aVAny tags, attributes, or attribute values that aren't on your whitelists get thrown away
p8247
aVOnce you've scrubbed the incoming HTML, you can store it and safely present it to your user's using the  helper
p8248
aVThis added complexity is one reason that a lot of sites use Markdown, BB-Code, or some other markup language that generates HTML
p8249
as(dp8250
g10
V479863
p8251
stp8252
a((dp8253
g2
(lp8254
VAnother common use is to simplify things that are structured as interpreters
p8255
aVSuppose you have a calculator of some sort, you could do it like this (which separates the association between the operator and its definition):
p8256
aVOr you could use lambdas to make it a lot cleaner and tighter (i
p8257
ag785
aVpull the operator and its definition together to make it obvious what is going on):
p8258
aVThe latter approach also makes special cases stand out more (IMHO)
p8259
aVA surprising number of things can be structured as interpreters of custom data structures once you're used to this sort of approach
p8260
as(dp8261
g10
V479863
p8262
stp8263
a((dp8264
g2
(lp8265
VAll you need to do is wrap up the parts of your object in another object (before you delete it) and then call  on that:
p8266
aVWrap something like that in a  callback on the thing you're destroying
p8267
aVThe  class just pulls the relevant bits of information out of the object, stores those bits in instance variables, and then  builds and sends the email based on the information it extracted
p8268
aVDoing things this way breaks the connection between the email and the (soon to be) dead object and should avoid the
p8269
as(dp8270
g10
V479863
p8271
stp8272
a((dp8273
g2
(lp8274
VA PHP wait won't help you as PHP executes on the server before anything gets sent to the client (where the JavaScript executes)
p8275
aVIf you want to animate a few, wait a bit, then animate some more, until you're done then you can use :
p8276
as(dp8277
g10
V479863
p8278
stp8279
a((dp8280
g2
(lp8281
VThe code inside the braces is a block that  uses to replace the match:
p8282
aVIn the block form [
p8283
aVThe value returned by the block will be substituted for the match on each call
p8284
aVThe block receives the match as an argument but the usual regex variables (, ,
p8285
aVare also available
p8286
aVIn this specific case, the  inside the block is  and the array notation extracts the first character of  (which is  in this case)
p8287
aVSo, the block returns  and  replaces the  in the original string with just
p8288
as(dp8289
g10
V479863
p8290
stp8291
a((dp8292
g2
(lp8293
VYou need to bind handlers to the  and  events to change the image's border color:
p8294
aVFor example: http://jsfiddle
p8295
aVnet/bNk4Y/
p8296
as(dp8297
g10
V479863
p8298
stp8299
a((dp8300
g2
(lp8301
VYou need to indent your  so that it is part of your Critter class:
p8302
as(dp8303
g10
V479863
p8304
stp8305
a((dp8306
g2
(lp8307
VI see the namespaces for rake tasks as serving the same purpose as directories in a file system: they're about organization rather than encapsulation
p8308
aVThat's why database tasks are in , Rails tasks in , etc
p8309
aVRake namespaces are not classes so you need to ask yourself what class you're adding  to when you define it within a Rake namespace
p8310
aVThe answer is Object
p8311
aVSo, when you hit your second task, Object already has a  method that takes one parameter and Ruby rightly complains
p8312
aVThe best solution is to make your Rake tasks very thin (just like controllers) and put any supporting methods (such as ) off in some library file somewhere sensible
p8313
aVA Rake task should usually just do a bit of set up and then call a library method to do the real work (i
p8314
ag785
aVthe same general layout as a controller)
p8315
aVExecutive summary: put all the real work and heavy lifting somewhere in your library files and make your Rake tasks thin wrappers for your libraries
p8316
aVThis should make your problem go away through proper code organization
p8317
as(dp8318
g10
V479863
p8319
stp8320
a((dp8321
g2
(lp8322
VCould be related to your broken  loops, this:
p8323
aVshould be this:
p8324
aVNote that I removed the "" between "" and ""
p8325
aVYour  loop suffers from the same problem
p8326
aVThat would explain the parser complaining about a stray  keyword (i
p8327
ag785
aV"unexpected keyword_end")
p8328
as(dp8329
g10
V479863
p8330
stp8331
a((dp8332
g2
(lp8333
VNo, you have to add them one at a time
p8334
aVSee the syntax diagram at the top of SQLite's ALTER TABLE documentation:
p8335
aVThere's no loop in the  branch so no repetition is allowed
p8336
as(dp8337
g10
V479863
p8338
stp8339
a((dp8340
g2
(lp8341
VI've used Template::Toolkit for XML
p8342
aVI've also used the more programatic XML::Writer style approach
p8343
aVIf you have a fixed XML structure that you're simply filling in with data and you have Template::Toolkit already around, then using a TT template for your XML makes a lot of sense; using a template in this case probably makes it a lot easier to properly match the desired schema
p8344
aVBut, of course, be careful with properly escaping and encoding everything for XML rather than HTML
p8345
aVIf you're programatically converting arbitrary structured data to XML then XML::Writer is probably a better choice: if you don't have a fixed schema then there's nothing to template
p8346
aVXML is often used as a portable data serialization format
p8347
aVThe archetypal example is starting with some nested HoHoA data structure and converting that to XML through a general serialization interface
p8348
aVThe serialization system just has a data structure to walk through so there is no structure to template
p8349
aVAlso, people tend to use the first technique they learn even when there are better ways
p8350
aVI'd guess that most people come across XML for data serialization (rather than structure document storage) first so they keep using serialization techniques even when a template approach would be cleaner
p8351
aVAll of this (even the first paragraph) applies to JSON (and even HTML) equally well
p8352
as(dp8353
g10
V479863
p8354
stp8355
a((dp8356
g2
(lp8357
VProbably the easiest way is to put your exporting SQL in a separate file and then feed that into
p8358
aVThe SQL file, , would look like this:
p8359
aVAnd then run it with:
p8360
aVPutting the SQL in a separate file avoids the usual escaping and quoting problems of trying to send quotes into something from the shell
p8361
as(dp8362
g10
V479863
p8363
stp8364
a((dp8365
g2
(lp8366
VYour migration has access to a database connection in  and the connection has an  method so you can just ask it what sort of connection it is:
p8367
aVI'm not sure if I have the MySQL adapter name right but the technique is sound and you can easily check the MySQL adapter name yourself
p8368
as(dp8369
g10
V479863
p8370
stp8371
a((dp8372
g2
(lp8373
VThe  script you link to contains this:
p8374
aVNotice that there is no full path on
p8375
aVCron jobs generally run with a very limited  in their environment and I'd guess that  isn't in that limited
p8376
aVYou can try setting your own  in your crontab:
p8377
aVOr in your Ruby script:
p8378
aVOr specify the full path to  (and any other external executables) in your backup script
p8379
aVI'd go with one of the latter two options (i
p8380
ag785
aVspecify  in your script or use full paths to executables) as that will reduce your dependence on external factors and these will also help avoid issues with people having their own versions of commands that you need in their
p8381
aVA bit of error checking and handling on the  call might also be of use
p8382
aVIf any of the necessary Ruby libraries weren't accessible (either due to permissions or path  issues) then you'd probably get complaints from the script
p8383
as(dp8384
g10
V479863
p8385
stp8386
a((dp8387
g2
(lp8388
VI think this might be a font issue with Mobile Safari
p8389
aVThe numbers on Mobile Safari come out looking Times-ish whereas on normal Safari they look Helvetica-ish and the spacing is a little different in the numbers
p8390
aVA bit of experimentation yields a somewhat odd workaround, wrapping the numbers in a  moves them to the right side (but moves the extra space to the right of the colon):
p8391
aVAnd an example: http://jsfiddle
p8392
aVnet/ambiguous/AydWp/4/embedded/result/
p8393
aVNot really a solution but possibly an improvement
p8394
as(dp8395
g10
V479863
p8396
stp8397
a((dp8398
g2
(lp8399
VYou could try this:
p8400
aVThis should work as long as the file with the  part is being processed by PHP/WordPress
p8401
aVIf necessary, you could put that in a  in your template's  section so that it will be visible everywhere
p8402
as(dp8403
g10
V479863
p8404
stp8405
a((dp8406
g2
(lp8407
VYou can do this fairly easily if you don't mind using  and doing the loading parts by hand, something like this:
p8408
aVThis grabs the full chunk of HTML from  using  and then, in the success callback, we find the  element inside the whole pile of HTML, extract its content with  and then copy thing into  with the mutator form of
p8409
aVIf you know that  will only contain  children, then you could try this:
p8410
aVI'm not certain that this will work and I don't have a decent test case set up but the  documentation indicates that it should work
p8411
aVIf  doesn't contain only s then you'll have to come up with something else to use with the child selector ()
p8412
aVOf course, if  contains text that isn't wrapped in an element, then I think you're stuck with the  approach above
p8413
as(dp8414
g10
V479863
p8415
stp8416
a((dp8417
g2
(lp8418
VThe  option is what you need:
p8419
aVactiveType: Boolean or Integer
p8420
aVDefault: 0
p8421
aVWhich panel is currently open
p8422
aVMultiple types supported:
p8423
aVBoolean: Setting  to  will collapse all panels
p8424
aVThis requires the  to be true
p8425
aVInteger: The zero-based index of the panel that is active (open)
p8426
aVA negative value selects panels going backward from the last panel
p8427
aVIf you want the second panel open (for example), then set  when creating the accordion:
p8428
aVOr you can use the  method to change the open panel after the accordion is created:
p8429
aVOr you can use the  method:
p8430
aVJust remember two things when using the  option or the  method:
p8431
aVThey want panel indexes, not  attributes
p8432
aVThe indexes are zero-based (just like JavaScript arrays) so the second panel has an index of 1 rather than the 2 that you were trying to use
p8433
as(dp8434
g10
V479863
p8435
stp8436
a((dp8437
g2
(lp8438
VAre you looking for this perhaps
p8439
aVUsing  should apply the fading effects to the current element only, using  applies the effects to all elements with a class of
p8440
as(dp8441
g10
V479863
p8442
stp8443
a((dp8444
g2
(lp8445
VSince you're using jQuery already, have a look at jQuery BBQ, that will do the heavy lifting of dealing with the URL fragment for you
p8446
aVYou might want to have a look at Sammy
p8447
aVjs too
p8448
aVBoth libraries have lots of examples available and both will deal with the cross-browser issues
p8449
as(dp8450
g10
V479863
p8451
stp8452
a((dp8453
g2
(lp8454
VJust declare your  variable outside the callback and assign it a value inside the callback:
p8455
aVBe careful though, the callback is asynchronous so you won't have anything useful in  until the callback has been triggered
p8456
as(dp8457
g10
V479863
p8458
stp8459
a((dp8460
g2
(lp8461
VI'd guess that you have different  environment variables inside the VM than you do outside the VM
p8462
as(dp8463
g10
V479863
p8464
stp8465
a((dp8466
g2
(lp8467
VYou could modify it in-place with a simple :
p8468
aVOr, if you want to make a copy, you can use a cleaner  thusly:
p8469
aVOr, if you have  available (i
p8470
ag785
aVRails or Ruby 1
p8471
aV9):
p8472
as(dp8473
g10
V479863
p8474
stp8475
a((dp8476
g2
(lp8477
VDon't put two things (i
p8478
ag785
aV'Park,Attraction') in one column, that is almost always a mistake
p8479
aVThe usual way to deal with this situation is to add another table with two columns:
p8480
aVYou'd usually make a two column primary key to avoid duplicates as well, hence the  constraint at the bottom
p8481
aVA foreign key on  would be a good idea too, referential integrity saves a lot of pain, suffering, and confusion
p8482
aVAnd then, if you want to work with the categories for a place, just join to :
p8483
aVWith this approach, your  table would look something like this:
p8484
aVand the data would look something like this:
p8485
as(dp8486
g10
V479863
p8487
stp8488
a((dp8489
g2
(lp8490
VYou should be able to adapt the MySQL solution by using  in place of :
p8491
aVI don't have SQL Server handy so I'm not sure if it will be happy with a boolean in the ORDER BY clause though
p8492
aVIf it doesn't like the boolean ORDER BY, then a CASE should do the trick:
p8493
as(dp8494
g10
V479863
p8495
stp8496
a((dp8497
g2
(lp8498
VLooks like you've commented out the  element that should be bring in jQuery, this:
p8499
aVshould be this:
p8500
aVYou need jQuery loaded before  or it won't work
p8501
aVYour second example includes  but not  so try adding this to the second one:
p8502
aVYou'll have to adjust the  path to point to your  of course
p8503
as(dp8504
g10
V479863
p8505
stp8506
a((dp8507
g2
(lp8508
VThe  method converts your string to a date but dates don't have hours, minutes, or seconds
p8509
aVYou want to use :
p8510
as(dp8511
g10
V479863
p8512
stp8513
a((dp8514
g2
(lp8515
VTimers are usually a gross hack but I can't think of anything better in this case
p8516
aVMaybe something like this will work for you:
p8517
aVThe basic strategy is to use a timer delay the "they've stopped scrolling" action until a few clock ticks after the last scroll event, the rest is just bookkeeping
p8518
aVYou'll want to play around with the  value to get something that feels right
p8519
aVUseful references:
p8520
as(dp8521
g10
V479863
p8522
stp8523
a((dp8524
g2
(lp8525
VI'd probably store both the original Markdown and the HTML versions of the content
p8526
aVIn fact, I have done similar things (with stripped down minimal HTML instead of Markdown) where I stored both the raw and formatted versions
p8527
aVIf you want to edit the content after it is created, then you'll want the original Markdown as it will probably be easier to work with than some ugly Markdown that came out of a Markdown-to-HTML converter
p8528
aVKeeping the Markdown around will also make it easier to track your revision history or adjust your HTML format in the future
p8529
aVDisplaying the content will probably be more common than creating or editing it
p8530
aVSo, you'll probably want to have the HTML handy to avoid doing the same Markdown to HTML conversion over and over and over again
p8531
aVIf you only have the Markdown, then you pay extra for every display
p8532
aVIf you only have the HTML, then you'll end up with ugly and unreadable/uneditable Markdown
p8533
aVIf you have both, you pay for a little bit of disk space but gain the ability to easily regenerate your HTML with a different internal structure, easy revision history tracking, easy editing, and you get cheap displays as a happy side effect
p8534
aVFurthermore, storing both makes it easy to store snippets for bulk listings (such as the  listings on SO) and those listings will be cheap because you're dumping data straight from storage to the page with minimal processing
p8535
as(dp8536
g10
V479863
p8537
stp8538
a((dp8539
g2
(lp8540
VThe syntax is your  is a bit off:
p8541
aVYou could also use  in place of :
p8542
aVAnd an example:
p8543
aVUPDATE: Looks like PostgreSQL version 8 is a little stricter on the format for , the fine manual says that you should use  where  is the number of things and  is the time unit
p8544
aVVersion 9 allows you to say  without complaint but version 8 converts your interval to 0 if you don't use the documented format
p8545
aVSo, you should use this for both version 8 and version 9:
p8546
as(dp8547
g10
V479863
p8548
stp8549
a((dp8550
g2
(lp8551
VThe JavaScript looks fine to me but perhaps MongoDB is adding extra restrictions which lead to the strange error message
p8552
aVI can think of two things you can try: use  to see if  and  are there:
p8553
aVor use the bracket notation for accessing the properties of :
p8554
aVNote that I've tightened up the logic in this one to see if  and  are there rather than just checking their truthiness
p8555
as(dp8556
g10
V479863
p8557
stp8558
a((dp8559
g2
(lp8560
VYou should normalize your table a little bit
p8561
aVThe , pair should be in a separate table that defines your groups and then the table you're working with should only have
p8562
aVThen you could add a foreign key from your table to the group table to ensure that your  values reference real groups
p8563
aVIf you can't normalize your tables then you'll probably have to use a before insert and before update trigger to ensure that  and  always come together as required
p8564
as(dp8565
g10
V479863
p8566
stp8567
a((dp8568
g2
(lp8569
VYou can check if the checkbox is checked and respond appropriately:
p8570
as(dp8571
g10
V479863
p8572
stp8573
a((dp8574
g2
(lp8575
VI think you're problem is that  uses :
p8576
aVAnd  uses a timer to perform the animation
p8577
aVThe result is that  will return before the scrolling has completed and you'll rebind your scroll handler while the  is still scrolling
p8578
aVHence the events when you're not expecting them
p8579
aVAn easy solution would be to use a flag to tell  that  is scrolling and use a  callback to clear the flag when it is done, something like this:
p8580
aVAnd here's a live version that seems to work: http://jsfiddle
p8581
aVnet/ambiguous/ZEx6M/1/
p8582
as(dp8583
g10
V479863
p8584
stp8585
a((dp8586
g2
(lp8587
VI think you want to use  to extract the column you want and then do the  and  stuff:
p8588
aVThis assumes that the columns are separated by a single space
p8589
aVNote that you'll want  switch on  so that the sorting will be case insensitive, otherwise rows that differ only in case won't be beside each other and  probably won't do what you want it to do
p8590
as(dp8591
g10
V479863
p8592
stp8593
a((dp8594
g2
(lp8595
VThe solution depends on what you want in your string when  is true
p8596
aVForcibly converting things to Float would be a reasonable starting point:
p8597
aVThat will handle the expected numeric  values as well as , , and  (with the latter three producing )
p8598
aVIf you want to more thorough, then you can ask your  if it understands :
p8599
aVBut you're still left to decide what should happen if  cannot be sensibly converted to a Float
p8600
aVYou can go one step further and make the "what about things that aren't Float-ish" configurable:
p8601
aVFurther configurability is left as an exercise for the reader
p8602
as(dp8603
g10
V479863
p8604
stp8605
a((dp8606
g2
(lp8607
VUsing  would probably be a lot easier for this than
p8608
aVSomething like this:
p8609
aVIf your  doesn't understand  then:
p8610
aVIn any case,  returns a true value to the shell if it finds a match and the  construct executes the  command if  returns a true value
p8611
aVUPDATE: The above solution assumes (as noted by Johnsyweb) that you want to remove any lines that contain "foo"
p8612
aVIf you just want to remove "foo" without removing whole lines, then  is your friend:
p8613
aVOr:
p8614
as(dp8615
g10
V479863
p8616
stp8617
a((dp8618
g2
(lp8619
VYou're looking for the spreadsheet gem:
p8620
aVhttp://spreadsheet
p8621
aVrubyforge
p8622
aVorg/
p8623
aVThat can read Excel files
p8624
aVAlternatively, you could convert your spreadsheets to CSV and then use the standard CSV libraries
p8625
as(dp8626
g10
V479863
p8627
stp8628
a((dp8629
g2
(lp8630
VIf you need  in multiple controllers then you should put it in your base application controller as a protected method
p8631
aVThat will give you access to it where you need it while keeping it out of the public interface
p8632
aVAlternatively, you could put  in a module and include it as needed
p8633
aVWhich approach you take depends on your specific circumstances
p8634
as(dp8635
g10
V479863
p8636
stp8637
a((dp8638
g2
(lp8639
VIf all the keys are strings and all of them have the underscore prefix, then you can patch up the hash in place with this:
p8640
aVThe  bit grabs all of  except the first character
p8641
aVIf you want a copy, then:
p8642
aVOr
p8643
aVYou could also use  if you don't like the  notation for extracting a substring:
p8644
aVAnd, if only some of the keys have the underscore prefix:
p8645
aVSimilar modifications can be done to all the other variants above but these two:
p8646
aVshould be okay with keys that don't have underscore prefixes without extra modifications
p8647
as(dp8648
g10
V479863
p8649
stp8650
a((dp8651
g2
(lp8652
VThis one:
p8653
aVWill return an empty row set in pretty much any datebase because in SQL, the expression  is false for all  (even an  of NULL)
p8654
aVTry this instead:
p8655
aVSimilar NULL issues will apply to this one:
p8656
aVso try:
p8657
aVinstead
p8658
aVThis isn't anything specific to SQLite or Android, this is just normal SQL behavior
p8659
aVIf you don't absolutely need to allow NULL values in your columns, create them with  (and possibly a default value) to avoid some confusion and frustration
p8660
as(dp8661
g10
V479863
p8662
stp8663
a((dp8664
g2
(lp8665
VYour best bet is to pass a callback to  and let the callback do whatever needs to be done, something like this:
p8666
aVThis sort of chicanery is pretty standard with asynchronous calls (AJAX in particular)
p8667
aVYou could wire up some fragile mess of timers in an attempt for force synchronically but fighting the natural style of an API is a losing battle
p8668
as(dp8669
g10
V479863
p8670
stp8671
a((dp8672
g2
(lp8673
VI think you'd have to use a  trigger for that:
p8674
aVhttp://dev
p8675
aVmysql
p8676
aVcom/doc/refman/5
p8677
aV6/en/create-trigger
p8678
aVhtml
p8679
aVSomething like this (untested off the top of my header code):
p8680
as(dp8681
g10
V479863
p8682
stp8683
a((dp8684
g2
(lp8685
VSome variant of this:
p8686
aVshould get you there
p8687
aVYou'll want to adjust the stuff before and after  to be tighter or looser depending on all the data you end having to process
p8688
as(dp8689
g10
V479863
p8690
stp8691
a((dp8692
g2
(lp8693
VThe  section is executed when leaving the  statement (by any means) but when you , you're just moving around inside the statement so the ensure section will not be executed
p8694
aVTry this version of your example to get a better idea of what's going on:
p8695
as(dp8696
g10
V479863
p8697
stp8698
a((dp8699
g2
(lp8700
VStandardized
p8701
aVPortability across databases
p8702
aVHa
p8703
aVYou made a funny
p8704
aVI've only come across arrays with PostgreSQL but Steven indicates that they're in SQL99; I don't know which syntax is standard (I'd guess PostgreSQL as they're usually pretty good with these things) but an IN query should work the same pretty much anywhere:
p8705
aVYou'd use a comma separated list of  values in the placeholder and you'll have to keep an eye on the size of the list of s (and that size will, of course, be database specific)
p8706
as(dp8707
g10
V479863
p8708
stp8709
a((dp8710
g2
(lp8711
VFrom the fine manual:
p8712
aVprince doc
p8713
aVhtml -o out
p8714
aVpdf
p8715
aVConvert doc
p8716
aVhtml to out
p8717
aVpdf
p8718
aVI think your  call should look like this:
p8719
aVAlso note the switch to double quotes so that  interpolation will work
p8720
aVWithout the double quotes, the shell will see this command:
p8721
aVand then it will ignore everything after  as a comment
p8722
aVI'm not sure why you end up with an empty , I'd expect a PDF in  based on my reading of the documentation
p8723
as(dp8724
g10
V479863
p8725
stp8726
a((dp8727
g2
(lp8728
VIf you don't mind MySQL-specific things then you could use :
p8729
aVOr MySQL booleans (which are 1 for true and 0 for false):
p8730
aVIf you want to stick to standard SQL, then  is your friend:
p8731
as(dp8732
g10
V479863
p8733
stp8734
a((dp8735
g2
(lp8736
VI'd recommend learning standard SQL before SQLite's version of SQL
p8737
aVSQLite allows a lot of things (such as automatic type conversions and incomplete GROUP BY clauses) that a lot of databases don't allow
p8738
aVAlso, everything in SQLite is stored as a string but that's not the case for other versions of SQL
p8739
aVMost of your SQL usage will be the same in SQLite and standard SQL but it is worth knowing about the traps
p8740
aVSQLite lets you get away with all sorts of things that standard SQL does not
p8741
aVIf you start with SQLite, then you'll have a lot of trouble when you move to another database
p8742
aVHowever, if you start with a more standard SQL implementation (such as PostgreSQL or SQL Server) then dropping down to SQLite will be easy
p8743
aVYou might want to study some of the SQLite documentation before/after/while learning standard SQL so that you are aware of the differences:
p8744
aVSQL As Understood By SQLite
p8745
aVSQL Features That SQLite Does Not Implement
p8746
aVDistinctive Features Of SQLite
p8747
aVAnd, since you're going to be using SQLite from C++:
p8748
aVAn Introduction To The SQLite C/C++ Interface
p8749
aVI'm not criticizing SQLite here
p8750
aVSQLite is a fantastic embedded database and serves its purpose very well
p8751
aVThe problem is that going from a loose environment (such as SQLite or even MySQL) to a stricter one (PostgreSQL, SQL Server, Oracle,
p8752
aVcan be difficult and frustrating
p8753
aVStarting with the standard (or "right") way will probably save some pain and suffering
p8754
as(dp8755
g10
V479863
p8756
stp8757
a((dp8758
g2
(lp8759
VYour problem is that  is the text node immediately after your checkbox, not the next checkbox; text nodes don't have  attributes
p8760
aVFor example, try this:
p8761
aVOr, for your convenience:
p8762
aVhttp://jsfiddle
p8763
aVnet/ambiguous/sUzBL/1/
p8764
as(dp8765
g10
V479863
p8766
stp8767
a((dp8768
g2
(lp8769
VYour problem is that jsfiddle
p8770
aVnet automatically includes a reset stylesheet () that includes this:
p8771
aVYou'll see a "Normalized CSS" checkbox in the sidebar, uncheck that and  won't be pulled in; for example:
p8772
aVhttp://jsfiddle
p8773
aVnet/ambiguous/HQJhe/10/
p8774
aVThat fiddle is just yours with the checkbox unchecked
p8775
as(dp8776
g10
V479863
p8777
stp8778
a((dp8779
g2
(lp8780
VYou can give the placeholders whatever names you want so something like this for your SQL:
p8781
aVAnd then:
p8782
aVOr, of course, build the appropriate array for
p8783
aVIn this case, non-named placeholders might be easier to work with though:
p8784
aVAnd then you can loop through your values and call  with the appropriate array:
p8785
as(dp8786
g10
V479863
p8787
stp8788
a((dp8789
g2
(lp8790
VYou could do it like this:
p8791
aVif you don't mind making a copy
p8792
aVYou could also apply Sawa's Improvement (wish I was still a mathematician, that would be a great name for a theorem) by adjusting the whitespace detection:
p8793
aVIf you have to deal with an  that is greater than the number of words in  then you could use this variant:
p8794
as(dp8795
g10
V479863
p8796
stp8797
a((dp8798
g2
(lp8799
VDensity is about resolution (i
p8800
ag785
aVdots per inch), not the rendered size
p8801
aVFrom the fine manual:
p8802
aVThe vertical and horizontal resolution in pixels of the image
p8803
aVThe default is "72x72"
p8804
aVI think you're looking for  or :
p8805
aVChanges the size of the receiver to the specified dimensions
p8806
aVYou can specify the new size in two ways
p8807
aVEither specify the new width and height explicitly, or specify a scale factor, a number that represents the percentage change
p8808
aVSo this will work:
p8809
aVOr this:
p8810
aVI don't know why  behaves differently than the library, there could be other default settings in play that have different defaults in the library or maybe  does more than set the density
p8811
aVIf  isn't doing the trick for you (and, based on your comments, it is happening too late to be of use), you can try setting the  parameter in the block:
p8812
aVOf course, you have to know how big the SVG is before hand
p8813
aVYou're supposed to be able to specify things like  for the geometry but  always ignores the flag on the  when I try it
p8814
as(dp8815
g10
V479863
p8816
stp8817
a((dp8818
g2
(lp8819
VFrom the fine manual:
p8820
aVCalled when the read is completed, whether successful or not
p8821
aVThis is called after either  or
p8822
aVI suspect that you have an error condition
p8823
aVAdd an  callback and have a look at what  has to say
p8824
aVYou might want to use separate , , and  callbacks instead of :
p8825
aVCalled when the read operation is aborted
p8826
aVCalled when an error occurs
p8827
aVCalled when the read operation is successfully completed
p8828
aVThat might make it easier to handle the individual events
p8829
aVIn your comment you say that you're getting an "error 2", from the other fine manual:
p8830
aVConstant:
p8831
aVValue: 2
p8832
aVDescription: The file could not be accessed for security reasons
p8833
aVSo it looks like you getting a "permission denied" error
p8834
as(dp8835
g10
V479863
p8836
stp8837
a((dp8838
g2
(lp8839
VIf you  variable is an instance of  then you can use :
p8840
aVReturn a new Date object that is n months later than the current one
p8841
aVSo you could do this:
p8842
aVThe same approach applies to DateTime
p8843
aVIf all you have is a string, then you can use the  method:
p8844
aVIMHO you're better off using the date libraries (Date and DateTime) as much as possible but you can use the Rails extensions (such as ) if you know that Rails will always be around or you don't mind manually pulling in active_support as needed
p8845
as(dp8846
g10
V479863
p8847
stp8848
a((dp8849
g2
(lp8850
VTry going back to the top and coming down again along the right DOM branch:
p8851
aVThe  method goes up the DOM tree through your ancestors:
p8852
aVGet the first ancestor element that matches the selector, beginning at the current element and progressing up through the DOM tree
p8853
aVSo it won't cross over to any of the sibling branches
p8854
aVThen, once you're at the appropriate ancestor, you use  to come back down,  is just like  but uses the specified element rather than  as the root:
p8855
aVGet the descendants of each element in the current set of matched elements, filtered by a selector, jQuery object, or element
p8856
as(dp8857
g10
V479863
p8858
stp8859
a((dp8860
g2
(lp8861
VYou edit your documents/objects the same way you'd edit an ActiveRecord object: assign some values to attributes and then call
p8862
aVYour example only has one key so here's one with multiple keys:
p8863
aVAnd then:
p8864
aVAnd later:
p8865
aVOr there's :
p8866
aVMaybe I'm not sure what you're asking
p8867
as(dp8868
g10
V479863
p8869
stp8870
a((dp8871
g2
(lp8872
VEither move the  function outside your  function or bind  to your  element inside the loading function
p8873
aVYou can't get inside your  callback from the outside
p8874
aVFrom your comments it looks like you need  to stay inside your  anonymous function as it needs to access other things in that scope
p8875
aVYou can work around this by moving a reference to  outside the anonymous function
p8876
aVThis variant of jm-'s approach:
p8877
aVThis leaves a reference to  in the  object and since  is the default scope, you should be able to access it in your  element
p8878
as(dp8879
g10
V479863
p8880
stp8881
a((dp8882
g2
(lp8883
VDon't try guess how big things will be on the server, that'll just lead to frustration and bugs
p8884
aVAn easy client side solution is to do this:
p8885
aVPut a left border on the right box and a right border on the left box
p8886
aVMake the borders the same width and color
p8887
aVAdd a negative left margin on the right box that has the same width as the border
p8888
aVUse padding inside boxes to simulate spacing between them
p8889
aVDemo HTML:
p8890
aVAnd some CSS (the border colors are just for illustration):
p8891
aVAnd a live example: http://jsfiddle
p8892
aVnet/ambiguous/X8J5p/
p8893
as(dp8894
g10
V479863
p8895
stp8896
a((dp8897
g2
(lp8898
VFor PostgreSQL (and SQLite under Rails), you'd want  for true, not just
p8899
aVOf course, for MySQL, you'd want
p8900
aVTry changing your  to this:
p8901
aVOr:
p8902
aVThat should get you the appropriate true value for whatever database you're using
p8903
as(dp8904
g10
V479863
p8905
stp8906
a((dp8907
g2
(lp8908
VAre you looking for this
p8909
aVNote the plus sign after the
p8910
aVThat will change any sequence of one or more newlines to a single
p8911
as(dp8912
g10
V479863
p8913
stp8914
a((dp8915
g2
(lp8916
VI'm not sure what your first hash-like string is all about so we'll look at the  output value:
p8917
aVI took the liberty of reformatting it into something readable
p8918
aVThe square brackets on the outside indicate that it is an Array, the braces come in at the next level so the Array contains a Hash
p8919
aVBoth Array and Hash use  to access their elements so, if the whole data structure is in  and we remember that an Array is indexed starting at 0, we start with this:
p8920
aVAnd that gives us this inner hash:
p8921
aVAnd taking it one step further:
p8922
as(dp8923
g10
V479863
p8924
stp8925
a((dp8926
g2
(lp8927
VOne way would be to use :
p8928
aVThat should get the job done as long as the  attributes have exactly one substring that looks like a number (or at least the first match is the one you want) and there aren't any gaps in your  attributes (or you'll get some undefined entries in your  array)
p8929
aVAnd a simple demo: http://jsfiddle
p8930
aVnet/ambiguous/hHS2K/
p8931
as(dp8932
g10
V479863
p8933
stp8934
a((dp8935
g2
(lp8936
VIf  is a callback function, then putting it last seems more common and leads to (IMHO) easier to read code like this:
p8937
aVThe "callback at the end" is pretty common jQuery, see  and  for examples
p8938
aVOf course,  puts the arguments in the other order so the time value can get lost:
p8939
aVOTOH, if you use a named function rather than an anonymous one, it looks okay:
p8940
aVSo I think the real answer is "it depends"
p8941
aVIf you're expecting anonymous functions more often than named ones, then putting the callback at the end will make for (IMHO) easier to read code
p8942
as(dp8943
g10
V479863
p8944
stp8945
a((dp8946
g2
(lp8947
VLooks like you're using code from the blog post but using a newer version of the JavaScript and the newer one has a different API
p8948
aVFrom the github page:
p8949
aVBut the older version wanted what you're doing:
p8950
aVSo I think you need to match your API usage to the library version
p8951
as(dp8952
g10
V479863
p8953
stp8954
a((dp8955
g2
(lp8956
VGetopts::Long alters  while it works, that's how it can leave non-switch values behind in  when it is done processing the switches
p8957
aVSo, when you make your second call, there's nothing left in  to parse and nothing useful happens
p8958
aVHowever, there is :
p8959
aVBy default, GetOptions parses the options that are present in the global array
p8960
aVA special entry GetOptionsFromArray can be used to parse options from an arbitrary array
p8961
aVSo you could use  on a copy of  (or some other array) if you need to parse the list multiple times
p8962
as(dp8963
g10
V479863
p8964
stp8965
a((dp8966
g2
(lp8967
VFirst of all, the  is a scalar, not an array; secondly,  (which I think you're trying to access) is not encoded as an array, that's just an object:
p8968
aVSo here you want:
p8969
aVThen, your  will fail because, again,  is a scalar; for this one, you want:
p8970
as(dp8971
g10
V479863
p8972
stp8973
a((dp8974
g2
(lp8975
VYou are pushing memory that is allocated on the stack onto the end of your queue:
p8976
aVAnd then trying to pull that out of the queue way off somewhere else
p8977
aVBy the time you pull things out of the queue, the space on the stack for your three element  array is almost certainly being used for something else
p8978
aVI think you'll have to change  to a  and allocate it on the heap:
p8979
aVThis will keep the  memory valid (barring other bugs of course) outside the function that declares it
p8980
aVYou'll also have to free your  value (and its elements) when you've pulled it out of the queue and are done with it; when freeing, be sure to take into account the odd offsets on the  elements
p8981
as(dp8982
g10
V479863
p8983
stp8984
a((dp8985
g2
(lp8986
VDepending on your needs (and environment) you could get it running, find the interpreter's process ID and do:
p8987
aVI just tried this on OSX with bash and it worked on an ed(1) (the one true text editor) process
p8988
aVYou could also run Ruby in a debugger and manually set a pointer or two to zero
p8989
aVOne of the pointers inside a variable would do nicely
p8990
aVOf course, you'd probably need to have an interpreter built with debug symbols and you'd need to know a thing or two about the interpreter's internals
p8991
as(dp8992
g10
V479863
p8993
stp8994
a((dp8995
g2
(lp8996
VThe easiest thing is probably to use  in your block:
p8997
aVFrom the fine manual:
p8998
aVIn the block form, the current match string is passed in as a parameter, and variables such as $1, $2, $`, $&, and $\u2019 will be set appropriately
p8999
aVThe value returned by the block will be substituted for the match on each call
p9000
as(dp9001
g10
V479863
p9002
stp9003
a((dp9004
g2
(lp9005
VBind your handler in the usual jQuery manner:
p9006
aVAnd:
p9007
aVThen, change your  to this:
p9008
aVThat should solve your cross-browser problems and it is the standard jQuery approach
p9009
as(dp9010
g10
V479863
p9011
stp9012
a((dp9013
g2
(lp9014
VI'm not certain that this is what you're after but BioPerl has an approximate-grep tool called :
p9015
aVBio::Grep::Backend::Agrep searches for a query with agrep
p9016
aVAnd  is "approximate grep"
p9017
aVAFAIK, this builds a database and then uses that database to make your searches faster so this sounds like what you're after
p9018
aVLooks like you're working with DNA sequences so you probably have BioPerl already installed
p9019
aVYou could also try using  directly:
p9020
aVPerl extension for approximate matching (fuzzy matching)
p9021
aVI suspect that  will be faster and a better match for your task though
p9022
as(dp9023
g10
V479863
p9024
stp9025
a((dp9026
g2
(lp9027
VI don't blame you for being a little confused, the official docs are, shall we say, a little thin on what  is supposed to do
p9028
aVis probably just a thin wrapper around the  system call so we'll have a look at that (which is quite well documented)
p9029
aVFrom the Linux man pages:
p9030
aVThose listed in readfds will be watched to see if characters become available
p9031
aVfor reading (more precisely, to see if a read will not block; in particular, a
p9032
aVfile descriptor is also ready on end-of-file)
p9033
aVEmphasis mine
p9034
aVSo,  is more about "will it block" than it is about "are there bytes waiting for me" and an EOF is a non-blocking state so  considers a file descriptor that is in an end-of-file condition to be ready for reading
p9035
as(dp9036
g10
V479863
p9037
stp9038
a((dp9039
g2
(lp9040
VFrom the autocomplete documentation:
p9041
aVThe label property is displayed in the suggestion menu
p9042
aVThe value will be inserted into the input element when a user selects an item
p9043
aVAnd for the  callback:
p9044
aVTriggered when an item is selected from the menu
p9045
aVThe default action is to replace the text field's value with the value of the selected item
p9046
aVCanceling [sic] this event prevents the value from being updated, but does not prevent the menu from closing
p9047
aVEmphasis mine (spelling mistake theirs)
p9048
aVIn the jQuery-UI autocomplete source code, we find this:
p9049
aVSo the widget will set the text input's value to  after your  event handler returns
p9050
aVUnless of course (as noted in the documentation above) your event handler returns
p9051
aVTry adjusting your  handler to be like this:
p9052
aVThis is documented behavior so it should be safe
p9053
as(dp9054
g10
V479863
p9055
stp9056
a((dp9057
g2
(lp9058
VSounds like you need to use the  helper, if your code looks like this:
p9059
aVThen your view ERB should look like this:
p9060
aVAnd, now that you've included a sample of your ERB:
p9061
aVUsing  assumes that you have properly encoded and cleansed any HTML that you're going to output so you'll need to exercise due caution
p9062
as(dp9063
g10
V479863
p9064
stp9065
a((dp9066
g2
(lp9067
VI think this would be better on the code review site but I started something in the comments so I guess I should finish it
p9068
aVFirst of all, if you're going to keep saying this:
p9069
aVover and over again, you should do it just once in your  function:
p9070
aVThen you can just refer to  when you need it
p9071
aVYou can do similar things with :
p9072
aVBut keep in mind that caching jQuery objects like this can cause odd results if you're adding and remove elements that you've wrapped in
p9073
aVYou only need to do this:
p9074
aVwhen you want to refer to the outer  inside a callback
p9075
aVThis simple variable is pretty cheap so I wouldn't worry about it but you should know why the idiom exists and when you need it
p9076
as(dp9077
g10
V479863
p9078
stp9079
a((dp9080
g2
(lp9081
VTry using a negative top margin on the image instead of the :
p9082
aVFor example: http://jsfiddle
p9083
aVnet/ambiguous/k2Rq7/1/
p9084
aVSetting  on a relatively positioned element doesn't move the element's box, it just adjusts where the element is displayed with respect to that box:
p9085
aVFor relatively positioned boxes, the offset is with respect to the top edges of the box itself (i
p9086
ag785
aV, the box is given a position in the normal flow, then offset from that position according to these properties)
p9087
aVSo the element's box takes up its usual space (specifically the height in your case) and the outer  doesn't shrink to match the image's displayed position
p9088
aVUsing a negative  actually moves the image and that effectively reduces its height and the height of the containing
p9089
as(dp9090
g10
V479863
p9091
stp9092
a((dp9093
g2
(lp9094
VSome browsers support an  event and a  event handler:
p9095
aVThe hashchange event fires when a window's hash changes (see location
p9096
aVhash)
p9097
aVbut some don't, the timer hack is used for browsers that don't have a  event
p9098
aVYour best bet is to grab an existing plugin or library and figure out how it works, that should help you get past the various browser hacks and special cases:
p9099
aVSammy
p9100
aVjs
p9101
aVjQuery BBQ
p9102
as(dp9103
g10
V479863
p9104
stp9105
a((dp9106
g2
(lp9107
VCron has been used for decades and is quite reliable and solid; if your cron isn't reliable then I'd suggest that a stern discussion with your OS vendor is in order
p9108
aVAlso, the MongoDB documentation talks about cron jobs (google "site:mongodb
p9109
aVorg cron" for examples) so, presumably, cron jobs are to be expected with MongoDB
p9110
aVThat said, if you already have a bunch of infrastructure set up for another scheduling system then there's probably no reason to use cron for MongoDB and something else for other tasks
p9111
aVIn any case, you'll probably want to layer on a simple PID file locking system if your cron jobs might take long enough to overlap and you only want one running at a time:
p9112
aVThe cron job looks for a PID file when it starts
p9113
aVIf it finds the file, then it reads the old job's PID out of the file and checks if it is still running
p9114
aVIf the old one is running then the new one would complain and exit
p9115
aVIf the old one isn't running, then the new one would continue on
p9116
aVWhen the new job decides that it is okay to start, it writes its PID to the PID file
p9117
aVWhen the new job is finished, it deletes the PID file immediately before exiting (or using an  handler or whatever similar feature your environment supports)
p9118
as(dp9119
g10
V479863
p9120
stp9121
a((dp9122
g2
(lp9123
VI think your problem is the  on the
p9124
aVA bit of fiddling around tells me that you want it to be:
p9125
aVYou might need to use  for your  to get things to work consistently in various browsers
p9126
as(dp9127
g10
V479863
p9128
stp9129
a((dp9130
g2
(lp9131
VSome people like to set the  property to get keyword substitution in their source files
p9132
aVThis:
p9133
aVfor example, will replace  in your source files with things like:
p9134
aVand  with:
p9135
aVSome people like these, some not
p9136
aVThere's also the  property as discussed over here
p9137
aVThis one can be quite useful for marking binary files that should not have their end-of-line markers adjusted to match the local convention
p9138
as(dp9139
g10
V479863
p9140
stp9141
a((dp9142
g2
(lp9143
VYou don't need to use  to get a string, you can get away with just
p9144
aVThen subscript the string to throw away the first two characters:
p9145
aVThis can run into a problem if you need 16 characters but  gives you something that fits in less
p9146
aVIf you need to worry about that, go back to  but keep the subscripting:
p9147
aVFor example:
p9148
as(dp9149
g10
V479863
p9150
stp9151
a((dp9152
g2
(lp9153
VYour problem is that you are creating multiple  elements with the same  attribute
p9154
aVWhen you do this:
p9155
aVjQuery will only find the first one and so you only get one barcode
p9156
aVYou're also mixing up your elements by inserting a  as a child of a
p9157
aVFirst, fix your HTML structure (including the duplicate  attributes):
p9158
aVThis puts your  inside the  (so that your element nesting is correct) and replaces the  attribute with a
p9159
aVThen, fix the barcodes by referencing the next structure
p9160
aVThe  call goes up the tree to find the closest ancestor that matches the selector
p9161
aVYou can just use  on the table cells that you find as the s you just added will still be empty when you call
p9162
aVLive example: http://jsfiddle
p9163
aVnet/ambiguous/eaYTZ/
p9164
aVYou'll probably want to play with the styling a bit of course
p9165
as(dp9166
g10
V479863
p9167
stp9168
a((dp9169
g2
(lp9170
VUsing  won't do anything useful, that will just put the literal two characters  in your string when you want a nul byte
p9171
aVHowever, strings in C are terminated by  so you can't use  to construct a nul delimited string without a bit of pointer arithmetic
p9172
aVSo, given these:
p9173
aVYou'll need to do something like this:
p9174
aVA better approach would be to allocate your  with  so that you don't have to worry about buffer overflows:
p9175
as(dp9176
g10
V479863
p9177
stp9178
a((dp9179
g2
(lp9180
VYou could try to replace all the  elements with  elements that have the same size and use the image as a background:
p9181
aVI'm using jQuery because DOM manipulation like this is a bit of a nightmare in raw JavaScript (and because this isn't a free code writing service)
p9182
aVThis won't stop anyone but it will keep them from dragging the images off your page or doing a "Save As
p9183
aVfrom the context menu
p9184
aVThis sort of thing also won't do anything if your users disable JavaScript
p9185
aVExample: http://jsfiddle
p9186
aVnet/ambiguous/4Hca3/
p9187
aVI'll leave translating this to whatever JavaScript libraries (if any) you're using as an exercise for the reader
p9188
aVYou can try disabling the context menu but not all browsers (such as Firefox) will pay attention to that sort of chicanery
p9189
as(dp9190
g10
V479863
p9191
stp9192
a((dp9193
g2
(lp9194
VThat's happening because your  selector matches all  elements in  elements
p9195
aVI think you want to use  to limit what you show:
p9196
aVBe careful with this approach though, it is highly sensitive to the structure of your HTML
p9197
aVA better way would be to go back up to the  and then come down to the  using  and :
p9198
aVThis is still sensitive to your HTML structure but less so
p9199
aVAnd an example of the second approach (with HTML errors fixed): http://jsfiddle
p9200
aVnet/ambiguous/CBLtt/
p9201
aVIf you want to have only one paragraph open at a time, then a simple modification to the click handler is all that is needed:
p9202
aVExample: http://jsfiddle
p9203
aVnet/ambiguous/CBLtt/1/
p9204
as(dp9205
g10
V479863
p9206
stp9207
a((dp9208
g2
(lp9209
VDuplicating  attributes will cause problems
p9210
aVWhen you say , you'll probably get the first one on the page and that's usually not the one you want
p9211
aVThat's easy to solve:
p9212
aVDrop the  attributes in favor of  attributes
p9213
aVYou could also use attribute selectors
p9214
aVAdjust your jQuery selectors to go up to an ancestor and come back down to the thing you want
p9215
aVFirst the HTML:
p9216
aVThen your jQuery:
p9217
aVAlso, since you are doing a POST request, you should just hand jQuery an object and let it worry about serializing it:
p9218
aVThat should take care of your client-side issues
p9219
as(dp9220
g10
V479863
p9221
stp9222
a((dp9223
g2
(lp9224
VYour  callback isn't doing what you think it is
p9225
aVThe current contents of the autocompleter are in , not in
p9226
aVYou're sending an empty value for  back to your PHP and then your SQL looks like:
p9227
aVwhich of courses matches everything in your  table
p9228
aVYour  callback should look like this:
p9229
aVThe jQuery-UI widget probably manipulates the DOM a fair bit so the  input element may not have anything useful in it until the autocompleter has a final value for it
p9230
aVFor reference, here's what the fine manual has to say:
p9231
aVThe third variation, the callback, provides the most flexibility, and can be used to connect any data source to Autocomplete
p9232
aVThe callback gets two arguments:
p9233
aVA  object, with a single property called , which refers to the value currently in the text input
p9234
aVFor example, when the user entered "new yo" in a city field, the Autocomplete term will equal "new yo"
p9235
as(dp9236
g10
V479863
p9237
stp9238
a((dp9239
g2
(lp9240
VI think your problem is that there is already a Data class in the Ruby standard library (both 1
p9241
aV9 and 1
p9242
ag2963
aV7)
p9243
aVThe Data class is only defined in one of the C source files but it is still publicly visible
p9244
aVI'm not sure what the Data class is for (and the documentation is rather sparse) but the name is already in use so Rails won't let you use it
p9245
aVYou can make the controller easily enough because the controller will be DataController and that name isn't taken
p9246
as(dp9247
g10
V479863
p9248
stp9249
a((dp9250
g2
(lp9251
VAssuming that the first three values should be 1 (as noted by Asaph), then you just need to use all that logarithm stuff you learned in school:
p9252
aVSo, how does this work
p9253
aVThe base-10 logarithm of a number  is the  such that  (where  stands for exponentiation)
p9254
aVThis gives us the following:
p9255
aVSo the  of a number between 1 and 10 will be between 0 and 1, the  of a number between 10 and 100 will be between 1 and 2, etc
p9256
aVThe  function will give you the integer part of the logarithm (we're only dealing with non-negative values here so there's no need to worry about which direction  goes with negative values) so  will be 0 for for anything between 1 and 10, 1 for anything between 10 and 100, etc
p9257
aVNow we have how many factors of ten we need so a simple  gives us the final result
p9258
aVReferences:
p9259
aVlog10
p9260
aVfloor
p9261
aVpow
p9262
as(dp9263
g10
V479863
p9264
stp9265
a((dp9266
g2
(lp9267
VYou're missing a single quote right after , you want this:
p9268
aVNote the added single quote
p9269
aVYouTube ends up seeing a bad URL ( where  is the real code) and hands you the homepage instead of what you think you were asking for
p9270
as(dp9271
g10
V479863
p9272
stp9273
a((dp9274
g2
(lp9275
VAdd  to the CSS for the paragraph that contains the floating image
p9276
aVThat will make the paragraph grow to fully contain the floated image
p9277
aVFor example:
p9278
aVAnd:
p9279
aVAnd a live version: http://jsfiddle
p9280
aVnet/ambiguous/S2yZG/
p9281
aVAlternatively, you could stick a  right at the bottom of the paragraph but you should only use this in cases where you need the  to be something other than
p9282
aVFor example:
p9283
aVAnd:
p9284
aVAnd a live version of this approach: http://jsfiddle
p9285
aVnet/ambiguous/3yGxA/
p9286
aVWhy does  work
p9287
aVFrom the CSS3 specification:
p9288
aVThe border box of a table, a block-level replaced element, or an element in the normal flow that is a flow root (such as an element with \u2018overflow\u2019 other than \u2018visible\u2019) must not overlap any floats in the same flow as the element itself
p9289
aVIf necessary, implementations should clear the said element by placing it below any preceding floats [
p9290
aVYour  satisfies the third condition so its bounding box is extended below the bottom of the floating image so that there is no overlap
p9291
as(dp9292
g10
V479863
p9293
stp9294
a((dp9295
g2
(lp9296
VThere is a third option:
p9297
aVPut addresses in a table of their own (probably with an  column linking back to your user/account table)
p9298
aVUse a  column that points to the address table with a foreign key
p9299
aVPros:
p9300
aVEach person can have as many addresses as they need (home, office, cottage, friends,
p9301
aVNicely normalized
p9302
aVThe only con I can think of is that you'll have to do more joins but joins aren't really a bad thing
p9303
aVYou may need a bit more sanity checking to make sure all the ownerships line up nicely but that's not a big deal either
p9304
as(dp9305
g10
V479863
p9306
stp9307
a((dp9308
g2
(lp9309
VI think your  output is getting read before your  output, then the Android JSON parser sees this:
p9310
aVwhere it is expecting JSON, hence the error:
p9311
aVValue yes of type java
p9312
aVlang
p9313
aVString cannot be converted to JSONArray
p9314
aVDrop the  debugging statements from your PHP and leave your  loop as just this:
p9315
aVThat should get you some valid JSON output at least
p9316
as(dp9317
g10
V479863
p9318
stp9319
a((dp9320
g2
(lp9321
VI think that's just a bug in
p9322
aVThese work for me in my local  shell:
p9323
aVAnd the documentation says this:
p9324
aVYou may use regexes in database query expressions:
p9325
ag3892
aVSo both string and RegExp literal versions are supported
p9326
as(dp9327
g10
V479863
p9328
stp9329
a((dp9330
g2
(lp9331
VTry quoting your symbols:
p9332
aVYou could also try using strings instead of symbols
p9333
aVbut I don't know if builder will be happy with that but the documentation includes things like this:
p9334
aVso strings for the attribute names should work
p9335
aVA bit of time in  might be help clarify things:
p9336
as(dp9337
g10
V479863
p9338
stp9339
a((dp9340
g2
(lp9341
VFrom the specification for :
p9342
aVContexts in which this element can be used:
p9343
aVAs a child of a colgroup element that doesn't have a span attribute
p9344
ag3892
aVContent attributes:
p9345
aVGlobal attributes
p9346
aVspan
p9347
aVI read that as saying that just  on its own is invalid but this:
p9348
aVis valid and the same as:
p9349
aVHowever, if the  has a  attribute, then it should not have  children:
p9350
aVIf the colgroup element contains no col elements, then the element may have a span content attribute specified
p9351
aVMy interpretation (based on the HTML4 specification more than the thinner HTML5 one) is that you would usually use  unless you needed to style one of the columns in the group differently as in this (modified) example from the HTML4 specification:
p9352
aVso the first 39 columns would use whatever the  specifies but the 40th could be tweaked
p9353
aVOTOH, I'm having trouble getting browsers to pay much attention to any of this (despite what the specs say) on jsfiddle
p9354
aVnet so YMMV
p9355
as(dp9356
g10
V479863
p9357
stp9358
a((dp9359
g2
(lp9360
VThere's always this:
p9361
as(dp9362
g10
V479863
p9363
stp9364
a((dp9365
g2
(lp9366
VHard to say but I'd guess that your "jQuery plugin that send data from a form without refreshing the page" is calling  with :
p9367
aVNote that synchronous requests may temporarily lock the browser, disabling any actions while the request is active
p9368
aVThe plugin is using AJAX and the above excerpt from the  documentation sounds exactly like what you're seeing
p9369
as(dp9370
g10
V479863
p9371
stp9372
a((dp9373
g2
(lp9374
VEvery update or delete on the referenced column requires the database to check all the referencing columns for integrity violations
p9375
aVEach of those checks requires checking the referencing columns to see if they're using the value that is about to be changed or deleted
p9376
aVSo validating the integrity of the FK requires a lot of queries on the columns that reference it
p9377
aVAdding indexes to those columns makes the integrity checking much quicker
p9378
aVIf there weren't indexes on the referencing columns, then changing the referenced column (or deleting a row that has FKs pointing to it) would require doing table scans on every table that that references it
p9379
aVTable scans are not your friend but FKs certainly are
p9380
as(dp9381
g10
V479863
p9382
stp9383
a((dp9384
g2
(lp9385
VBoth CSS3 and CSS2 have this to say:
p9386
aVNote: It is possible for style sheet authors to abuse the :link and :visited pseudo-classes to determine which sites a user has visited without the user's consent
p9387
aVUAs may therefore treat all links as unvisited links, or implement other measures to preserve the user's privacy while rendering visited and unvisited links differently
p9388
aVSo, according the standards, you can't really depend on styling  at all
p9389
aVMy experience is that all the browsers will pay attention to the coloring properties (as noted by Soufiane Hassou for Gecko browsers) but little else
p9390
as(dp9391
g10
V479863
p9392
stp9393
a((dp9394
g2
(lp9395
VI'm guessing that you don't know what  does
p9396
aVThere's no description string for it so don't ask  what it does, you have to look at the source:
p9397
aVSo  destroys your database (including any data you had in it), recreates it, and then applies the migrations to bring everything up to date again
p9398
aVBut, all your original data is still gone
p9399
aVThe  part of  probably explains why you're getting  all over the place
p9400
aVHowever, you should be getting an empty array from  if all your data was gone so perhaps you've added something after your reset
p9401
as(dp9402
g10
V479863
p9403
stp9404
a((dp9405
g2
(lp9406
VYou're calling  with a block but you're not passing that block down to
p9407
aVTry this instead:
p9408
as(dp9409
g10
V479863
p9410
stp9411
a((dp9412
g2
(lp9413
VYou could skip the  calls by using :
p9414
aVAs you note in a comment, saying  doesn't do anything useful
p9415
aVAnd here's a little sandbox for experimenting with how  behaves:
p9416
aVhttp://jsfiddle
p9417
aVnet/ambiguous/zgbnB/1/
p9418
as(dp9419
g10
V479863
p9420
stp9421
a((dp9422
g2
(lp9423
VYou can use  from the command line:
p9424
aVAnd then look at the "Data Size" value
p9425
as(dp9426
g10
V479863
p9427
stp9428
a((dp9429
g2
(lp9430
VYou have stray trailing commas all over the place, for example:
p9431
aVRemove those so that it looks like this:
p9432
aVIE7 gets upset by those trailing commas but most other browsers let it slide and DWIM (Do What I Mean) instead of complaining
p9433
as(dp9434
g10
V479863
p9435
stp9436
a((dp9437
g2
(lp9438
VYour "current strategy" sounds like the standard approach to me: delete from the database and if that succeeds (and that is a big "if"), delete the corresponding image file
p9439
aVYou'd probably want a sanity checker to make sure you're not accumulating cruft though, just a simple comparison of the database and the file system to make sure they agree with each other
p9440
aVYou don't need to store the images in the database, the file system is quite good at handling files and it will probably be a lot more convenient to have them in the file system
p9441
aVAnd, as noted by David Ryder below, the file system will almost certainly be notably faster for dealing with large image files than the database: file systems are pretty good at dealing with files, that's what they do
p9442
aVUPDATE: If you need this to be really quick then you could try doing the file deletions with a cron job
p9443
aVOnce every couple hours (or day or whatever works), a cron job could compare the database with the file system and delete any stray images
p9444
aVThis would make mass deletes from the database easier: you'd be able to do a  to kill off multiple entries and then your janitor would come along later to clean up the leftover images
p9445
as(dp9446
g10
V479863
p9447
stp9448
a((dp9449
g2
(lp9450
VThat changes the statement delimiter to  to keep MySQL from trying to interpret any semicolons inside the stored procedure as a delimiter
p9451
aVWithout the , you wouldn't be able to define a stored procedure that contained  to delimit statements inside it
p9452
aVYou can think of it as a way to globally escape the semicolon for the duration of the procedure's definition
p9453
aVFrom the fine manual:
p9454
aVTo redefine the mysql delimiter, use the  command
p9455
aVThe following example shows how to do this for the  procedure just shown
p9456
aVThe delimiter is changed to  to enable the entire definition to be passed to the server as a single statement, and then restored to  before invoking the procedure
p9457
aVThis enables the  delimiter used in the procedure body to be passed through to the server rather than being interpreted by mysql itself
p9458
aVI don't know if my explanation is any clearer than the manual's but maybe one of them (or both combined) will result in some understanding
p9459
as(dp9460
g10
V479863
p9461
stp9462
a((dp9463
g2
(lp9464
VYou'll probably have better luck with Rails if Gift looks like this:
p9465
aVAnd then, add a  to Gift:
p9466
as(dp9467
g10
V479863
p9468
stp9469
a((dp9470
g2
(lp9471
VI'm guessing that the relevant portion of the error message is right here:
p9472
aVYou're missing a space after :
p9473
as(dp9474
g10
V479863
p9475
stp9476
a((dp9477
g2
(lp9478
VA variant of sawa's and SirDarius's that allows  to be greater than, less than, or equal to zero rather than just -1, 0, or 1:
p9479
aVNote that Fixnum's  operator is specified to return -1, 0, or 1 (or  of course):
p9480
aVReturns -1, 0, +1 or nil depending on whether fix is less than, equal to, or greater than numeric
p9481
aVSo using  is a safe way to implement the signum function for Fixnum
p9482
as(dp9483
g10
V479863
p9484
stp9485
a((dp9486
g2
(lp9487
VWarning: This is a little long a rambling
p9488
aVA bit of a tour through the Ruby source code seems necessary as the documentation is a bit thin
p9489
aVFeel free to skip to the end if you don't care about how sausage is made
p9490
aVThe 1
p9491
ag2959
aV2  is implemented in  like this:
p9492
aVI don't know the Ruby internals that well but I read the  loop like this: extract from the  linked list all the nodes that are associated with a class-like thing but didn't come from
p9493
aVThe  bit is only set in here:
p9494
aVA bit more grepping and reading reveals that  does end up going through
p9495
aVI'll leave checking , , and  as exercises for the reader
p9496
aVIn any case, it looks like  is explicitly excluded from the  list; this is, however, more of a distraction than anything else, it just means that you won't see something the evals mentioned
p9497
aVSo now the question is "what are  and  all about
p9498
aVIf you look in  you'll see a bunch of NODE constants for the various Ruby keywords and language structures:
p9499
aVso I'd guess that  is a node in the instruction tree
p9500
aVThis lines up nicely with my
p9501
aVseems to be more about talking to the parser
p9502
aVconjecture in the comment
p9503
aVBut we'll keep going anyway
p9504
aVThe  function is just a wrapper for  which is a wrapper for
p9505
aVWhat is  all about
p9506
aVIt is all about this:
p9507
aVAll three arguments to the function come straight out of this control frame:
p9508
aVThe  appears to be an instruction sequence and the  and  are frame pointers:
p9509
aVThe definition of  is relevant:
p9510
aVSo it looks like you're getting some sort of call or nesting stack out of
p9511
aVNow back to the specifics at hand
p9512
aVWhen you do this:
p9513
aVYou'll have  in the  linked list (which is filtered to produce the  result array) as you haven't hit the  yet
p9514
aVWhen you say these:
p9515
aVYou won't have  in  anymore because you've already hit the  popped  off the stack
p9516
aVHowever, if you do this:
p9517
aVYou'll see this output:
p9518
aVbecause the  hasn't been closed (and popped off ) yet
p9519
aVTo finish off, the  documentation says this:
p9520
aVReturns the list of Modules nested at the point of call
p9521
aVI think this statement combined with the review of the internals indicates that  does in fact depend on the specific literal context in which it is called
p9522
aVIf anyone with more experience in the Ruby internals has anything to add I can hand this over to the SO community as a community wiki
p9523
aVUPDATE: All of this applies to  as well as it does to  and it also applies to 1
p9524
ag2959
aV3 as well as it does to 1
p9525
ag2959
ag2960
as(dp9526
g10
V479863
p9527
stp9528
a((dp9529
g2
(lp9530
VI'll expand on my comment a little bit
p9531
aVYou can use  to go back to the :
p9532
aVThat will keep trying (and logging errors) until it works or you manually kill it
p9533
aVThat's probably not what you want though as one little mistake will send you into an infinite loop
p9534
aVAn easy way around that is to let it try for, say, 10 times and then give up:
p9535
aVSomething like this will try a few times and then give up
p9536
aVYou could also put a  call before the  if you want to wait a bit before the next attempt or investigate the exception (possibly with multiple  blocks) to choose if you should give up immediately, wait and retry, or retry immediately
p9537
as(dp9538
g10
V479863
p9539
stp9540
a((dp9541
g2
(lp9542
VI think you're trying to put your validation in the wrong place and your schema could use a bit of adjustment
p9543
aVIf someone is inputing QR4, do you really care that they've input QR1 through QR3 already or do you really only care that the last one they input was QR3
p9544
aVAt the moment that the new code is being entered, what really matters is that it follows immediately after the last one; and, to make things consistent, you could have a virtual QR0 to represent the "none have been entered yet" state
p9545
aVIn your user model, you'd have a method like this:
p9546
aVYou could track the last and current codes in your user model and use a validation hook to make sure they're okay:
p9547
aVYour  method would do set  and  while it was doing its other work
p9548
aVThen, over in your controller:
p9549
aVTracking the (user,QR-Code) pairs makes sense for auditing purposes but it would make more sense to me to have a separate model (as an association table) for that:
p9550
aVAnd then link that association up with your User and QrCode models in the usual manner
p9551
aVAlso note that this structure would only need a couple of simple modifications to allow for multiple "paper chases" to be running at the same time
p9552
aVYou'd just need to move a couple things from your user model to a  model and add a  parameter to
p9553
aVThere's no rule that says that your user interface has to be a simple editor for your data model properties and tightly binding the two like that is often a mistake (an incredibly common mistake but a mistake nonetheless)
p9554
as(dp9555
g10
V479863
p9556
stp9557
a((dp9558
g2
(lp9559
VThere is a set class in the standard library and using sets nicely matches your intent:
p9560
aVThat will leave the matching element element of  in
p9561
aVIf you're only interested in existence then you can simply check the truthiness of ; or use  (thanks for the reminder Michael Kohl, I often forget about some of the things in Enumerable):
p9562
aVNo tricks, no magic, and using Set makes it clear that you are, in fact, comparing the arrays as sets
p9563
aVBTW, your attempted solution:
p9564
aVdoesn't work because arrays compare element-by-element in order so two arrays are equal if and only if they have equal elements in the same order
p9565
aVThe documentation for  could be clearer:
p9566
aVReturns true if self and other are the same object, or are both arrays with the same content
p9567
aVBut the  documentation is nice and clear:
p9568
aVTwo arrays are equal if they contain the same number of elements and if each element is equal to (according to Object
p9569
aV==) the corresponding element in the other array
p9570
aVWe can look to Object#eql
p9571
aVfor some clarification though:
p9572
aVThe eql
p9573
aVmethod returns true if obj and anObject have the same value
p9574
aVUsed by Hash to test members for equality
p9575
aVFor objects of class Object, eql
p9576
aVis synonymous with ==
p9577
aVSubclasses normally continue this tradition, but there are exceptions
p9578
aVSo  and  should behave the same way unless there is a good reason for them to be different
p9579
as(dp9580
g10
V479863
p9581
stp9582
a((dp9583
g2
(lp9584
VNothing pays any attention to a before-filter's return value
p9585
aVIf you want to stop processing, you have to render something from your filter or redirect to somewhere else, from the fine guide:
p9586
aVIf a before filter renders or redirects, the action will not run
p9587
aVIf there are additional filters scheduled to run after that filter they are also cancelled
p9588
aVThe same text appears in the 2
p9589
ag1936
aV8 guide
p9590
aVThis behavior does make sense, if the filter chain doesn't complete (i
p9591
ag785
aVstops filtering part way through) then you'd end up calling controller methods with things not set up the way they were expecting them to be and that would just cause pain, suffering, and confusion and that wouldn't be at all friendly or fun
p9592
as(dp9593
g10
V479863
p9594
stp9595
a((dp9596
g2
(lp9597
VUse :
p9598
aVReturns the name of the current method as a Symbol
p9599
aVIf called outside of a method, it returns nil
p9600
aVFor example:
p9601
aVYou can leave off the  if you're happy with a symbol instead of a string
p9602
as(dp9603
g10
V479863
p9604
stp9605
a((dp9606
g2
(lp9607
VI think you're looking for the non-block form of :
p9608
ag3892
aVIf the command is the string  or , the signal will be ignored
p9609
aVIf the command is  or , the Ruby\u2018s default handler will be invoked
p9610
aVSo you should be able to say this:
p9611
aVUPDATE: From the comments, it looks like you only want to temporarily ignore the signal
p9612
aVThe easiest way to do that with what you already have is to add a flag that your signal handler can see, then remember the signal when it comes in and we're currently ignoring the signal, and when we're not ignoring things anymore you just empty the signal queue by sending them to yourself
p9613
aVIf wrap this logic up in a class, you'll have something fairly friendly:
p9614
aVThe real functional code was the easiest way to explain the technique (and I had to write it anyway to make sure the technique would work) so there you go
p9615
aVAnd thanks for the review of signal handling in Ruby :) Then you could so things like this:
p9616
as(dp9617
g10
V479863
p9618
stp9619
a((dp9620
g2
(lp9621
VC does have a  type (actually a macro) but it is a C99 feature and you have to include  to get ; you only have  if you don't include
p9622
aVVS2010 doesn't support C99, it only supports C89 (AFAIK) so the  will work fine with that
p9623
aVI'd guess that something somewhere is pulling in  and that is messing up your  as it will look like this:
p9624
aVwhen the compiler sees it and the compiler won't like that at all
p9625
as(dp9626
g10
V479863
p9627
stp9628
a((dp9629
g2
(lp9630
VThe  syntax identifies  as an instance variable so the real question is this:
p9631
aVWhat is  inside a class method
p9632
aVAnd the answer is " is the class object"
p9633
aVSo,  is an instance variable of the  class object
p9634
aVIf you add another class method:
p9635
aVAnd then do this:
p9636
aVYou'll see  on the standard output
p9637
as(dp9638
g10
V479863
p9639
stp9640
a((dp9641
g2
(lp9642
VSubclassing Array like that doesn't work very well
p9643
aVThe reason is that a lot of Array is implemented inside the Ruby interpreter in C; the Array implementation makes certain assumptions about how Array behaves in order to avoid the cost of an extra round trip from the C implementation, into Ruby-land, and back down to C
p9644
aVIn particular, the implementation of  looks like this:
p9645
aVThe part that is giving you grief is this:
p9646
aVRuby is directly accessing the internal C array without going through your version of the  operator
p9647
aVSo you should listen to Mr
p9648
aVGrimm:
p9649
aVInclude Enumerable
p9650
aVAdd any extra methods and operators that you need to quack like an Array
p9651
as(dp9652
g10
V479863
p9653
stp9654
a((dp9655
g2
(lp9656
VIf you have a clean local database (i
p9657
ag785
aVjust the good stuff, no silly testing data), then you could try :
p9658
aV# push a local database into the app's remote database
p9659
aVAnd please remember to develop on PostgreSQL if you're going to use the Heroku shared or dedicated databases, using the same database and version (version 8
p9660
aV3 for shared, 9
p9661
aV0 for dedicated) in both your development and production environments will save you much pain, suffering, and confusion
p9662
aVReferences:
p9663
aVHow can I import my existing data to Heroku
p9664
aVImport: Push to Heroku
p9665
as(dp9666
g10
V479863
p9667
stp9668
a((dp9669
g2
(lp9670
VjScrollPane doesn't fire a function for that condition, it fires an event
p9671
aVYou can bind to the event the same way you'd bind to any other jQuery event:
p9672
as(dp9673
g10
V479863
p9674
stp9675
a((dp9676
g2
(lp9677
VThat's probably the
p9678
aVTry setting it to zero
p9679
aVSample HTML:
p9680
aVAnd CSS:
p9681
aVLive example: http://jsfiddle
p9682
aVnet/ambiguous/4VMTV/
p9683
aVTry the above with and without the  and you should see the difference
p9684
as(dp9685
g10
V479863
p9686
stp9687
a((dp9688
g2
(lp9689
VYou can supply defaults for any of the  options by calling
p9690
aVBased on your other questions you probably want something like this:
p9691
aVOr even:
p9692
aVBut keep in mind that this is called after your success or error callbacks
p9693
as(dp9694
g10
V479863
p9695
stp9696
a((dp9697
g2
(lp9698
VThis isn't my best answer ever but you could replace your two queries with one that does a JOIN:
p9699
aVThat should make the problem go away and let you get on with your work
p9700
aVAs Linus said:
p9701
aVNo problem is too big it can't be run away from
p9702
aVI still think there is some sort of timing issue with when the inner "row is ready" event is fired and the outer "query is finished" event is fired
p9703
aVI would expect the outer "end" event to be fired before the inner "row is ready" event (but, admittedly, I'm not familiar with the node
p9704
aVjs database interface)
p9705
aVYou could also push the "deal with " logic into the "row is ready" callback:
p9706
aVThat would introduce more steps in the callback chain but this sort of thing is par for the course when dealing with asynchronous APIs
p9707
as(dp9708
g10
V479863
p9709
stp9710
a((dp9711
g2
(lp9712
VThis might be a little verbose but I had to spend some time with the Rails source code to learn how the caching internals work
p9713
aVWriting things down aids my understanding and I figure that sharing some notes on how things work can't hurt
p9714
aVSkip to the end if you're in a hurry
p9715
aVWhy It Happens
p9716
aVThis is the offending method inside ActiveSupport:
p9717
aVNote the assignment to
p9718
aVIf you poke around inside , you'll see that it uses Marshal to serialize objects to byte strings before they go into the cache and then Marshal again to deserialize objects
p9719
aVThe compression issue isn't important here, the important thing is the use of Marshal
p9720
aVThe problem is that:
p9721
aVSome objects cannot be dumped: if the objects to be dumped include bindings, procedure or method objects, instances of class IO, or singleton objects, a TypeError will be raised
p9722
aVSome things have state (such as OS file descriptors or blocks) that can't be serialized by Marshal
p9723
aVThe error you're noting is this:
p9724
aVcan't dump hash with default proc
p9725
aVSo someone in your model has an instance variable that is a Hash and that Hash uses a block to supply default values
p9726
aVThe  method uses such a Hash and even caches the Hash inside ;  will be called (indirectly) by public methods such as  and
p9727
aVOne of  or  will probably get called on every AR model instance sooner or later and calling either method makes your object unserializable
p9728
aVSo, AR model instances are essentially unserializable in Rails 3
p9729
aVInterestingly enough, the  and  implementations in 2
p9730
ag1936
aV8 are also backed by a Hash that uses a block for default values
p9731
aVThe 2
p9732
ag1936
aV8 cache is "[
p9733
aVis meant for caching strings
p9734
aVso you were getting lucky with a backend that could handle whole objects or it used Marshal before your objects had hash-with-procs in them; or perhaps you were using the  cache backend and that's little more than a big Hash
p9735
aVUsing multiple scope-with-lambdas might end up storing Procs in your AR objects; I'd expect the lambdas to be stored with the class (or singleton class) rather than the objects but I didn't bother with an analysis as the problem with  and  makes the  issue irrelevant
p9736
aVWhat You Can Do About It
p9737
aVI think you've been storing the wrong things in your cache and getting lucky
p9738
aVYou can either start using the Rails cache properly (i
p9739
ag785
aVstore simple generated data rather than whole models) or you can implement the / or / methods as outlined in Marshal
p9740
aVAlternatively, you can use one of the MemoryStore backends and limit yourself to one distinct cache per server process
p9741
aVExecutive Summary
p9742
aVYou can't depend on storing ActiveRecord model objects in the Rails cache unless you're prepared to handle the marshalling yourself or you want to limit yourself to the MemoryStore cache backends
p9743
as(dp9744
g10
V479863
p9745
stp9746
a((dp9747
g2
(lp9748
VA variant of option 2 will work
p9749
aVIf you have something like this:
p9750
aVAnd you  it into your  file
p9751
aVThen  goes through ERB first and that output goes through the LESS processor and whatever comes out of that goes into your CSS
p9752
aVPutting ERB inside your SCSS might feel a little odd but, hey, it'll work and get the job done without too much weirdness
p9753
aVSo you should be able to get at the necessary methods to produce your cache-busting image paths through your ERB
p9754
aVI only tried this with a Less file but it should work with  as well
p9755
aVAs an aside, you can also add your own functions to SASS:
p9756
aVMethods in this module are accessible from the SassScript context
p9757
aVFor example, you can write
p9758
aVand it will call
p9759
aVThere are even some instructions on writing your own functions a little further down in the manual
p9760
aVHowever, I'm not sure how to get Sprockets to load your  patches so I can't call this a practical solution; someone with stronger Sprocket Fu than me might be able to make this approach work though and I'd call this more elegant than ERBified SCSS
p9761
as(dp9762
g10
V479863
p9763
stp9764
a((dp9765
g2
(lp9766
VThe fonts in the font menu are configured using :
p9767
aVThe list of fonts names to be displayed in the Font combo in the toolbar
p9768
ag3892
aVSo all you need to do is set  in your configuration to the font names you want, for example:
p9769
aVWill give you these font names in the menu:
p9770
aVArial
p9771
aVTimes New Roman
p9772
aVVerdana
p9773
as(dp9774
g10
V479863
p9775
stp9776
a((dp9777
g2
(lp9778
VYou know how big (in pixels) your section of the plane is, either you specify a region of a specific size or you ask it how big it is after it is on the page
p9779
aVYou will also have coordinates (in pixels) for all your dots
p9780
aVSo, when you talk to your server to persist the dots, tell it how big the container is and where all the dots are with respect to the container's coordinate system; all of those values can be easily computed in the client-side JavaScript
p9781
aVYour server code can either track all of the above and map them to new coordinate systems as needed or it can normalize everything to standard coordinate system and store things in the standard coordinates; you can say that the region is always X server units wide and do a bit of math to scale the incoming coordinates to match your standard
p9782
aVUsing one standard coordinate system on the server will probably make things much easier on you
p9783
aVAs far as "how would I display the list of the items in the order highest to lowest
p9784
aVgoes, the answer depends on how you want to define "highest"
p9785
aVIf "height" measures the Y coordinate then you just order by the y-coordinate (and possibly by the x-coordinate to break ties)
p9786
aVIf "highest" is a measure of magnitude, then you just use the Euclidean norm:
p9787
aVAnd sort by that
p9788
aVIf you're just using the magnitude solely for sorting, then you can save yourself a couple CPU cycles by ditching the square root and simply sorting by  (the square root won't change the ordering) or even a Manhattan norm ()
p9789
aVYou'll probably run into ties in your ordering sooner or later so you deal with right away
p9790
aVDo you want Y to take precedence over X or vice versa
p9791
aVDo you have a string label that could be used as a secondary sort key
p9792
aVWhat you choose probably depends on how you plan to list the points:
p9793
aVIf you're listing the points as (x,y) coordinates, then use X as a secondary key as that will look more natural to humans
p9794
aVIf you're listing the points as (label,(x,y)) pairs, then use the label as a secondary key
p9795
aVThe goal is twofold:
p9796
aVProduce output that makes sense to humans
p9797
aVConsistent sorting when faced with ties
p9798
aVSo just pick a sensible secondary sort key and be consistent
p9799
as(dp9800
g10
V479863
p9801
stp9802
a((dp9803
g2
(lp9804
VThis won't work:
p9805
aVThat's just using a literal "regex" string as your regular expression, not what's in your  variable
p9806
aVYou can either put the big ugly regex right into your  or create a Regexp instance:
p9807
aVAnd you should probably use a CSV library (one comes with Ruby: 1
p9808
ag2963
aV7 or 1
p9809
aV9) for parsing CSV files, then apply a regular expression to each column from the CSV
p9810
aVYou'll run into fewer quoting and escaping issues that way
p9811
as(dp9812
g10
V479863
p9813
stp9814
a((dp9815
g2
(lp9816
VI don't see anything like this:
p9817
aVin your HTML so you're probably not pulling in the form validator at all
p9818
aVWithout that, jQuery won't have a  method so you'll get your "no method validate" error
p9819
aVYou will, of course, have to use the right path to  for your site
p9820
as(dp9821
g10
V479863
p9822
stp9823
a((dp9824
g2
(lp9825
VI'm guessing that you're using  in your SQL to get your random ordering
p9826
aVIf you are, then you can provide a seed for the random number generator:
p9827
ag3892
aVIf a constant integer argument N is specified, it is used as the seed value, which produces a repeatable sequence of column values
p9828
aVSo you just need to pick a seed (possibly even by using  or something similar in your Ruby code) and track that seed in the session
p9829
aVThen, for the next page, pull the seed out of the session and feed it to MySQL's  function
p9830
aVKeep in mind that  (with or without a seed) isn't the cheapest operation on the planet
p9831
aVIf your searchable table is small, you could generate a table with a bunch of columns, fill it with random numbers (probably generated by ), and join that table in to provide your random sequence to order by
p9832
aVYou would provide different sequences to different viewers by choosing different columns from the random number table: for one user you sort by column 11 of the random number table/matrix but another user will use column 23
p9833
aVKeep in mind that tables (with a primary key) really are just functions on a finite domain (and vice versa) so which you choose is often just an implementation detail
p9834
aVImplementing  using a table will usually be pretty cumbersome but I thought I'd mention the option anyway
p9835
as(dp9836
g10
V479863
p9837
stp9838
a((dp9839
g2
(lp9840
VYou could use  to run a function every two seconds:
p9841
aVCalls a function repeatedly, with a fixed time delay between each call to that function
p9842
aVAnd then have the called function call the button's click handler
p9843
aVIdeally you'd be able to call the click handler directly without have to say
p9844
aVUsing  might be a better idea:
p9845
aVExecutes a code snippet or a function after specified delay
p9846
aVThen the callback function would call the click handler and, when that finishes, it would call  again to trigger itself
p9847
aVThis approach will keep your timed events from overrunning each other
p9848
aVSince all the code is yours, you can restructure it so that the  success and error callbacks (or perhaps the  callback) could restart the timer
p9849
as(dp9850
g10
V479863
p9851
stp9852
a((dp9853
g2
(lp9854
VYou could add a callback for the draggable's  event to change the  attribute of your cart image and then a  callback to change it back
p9855
aVLive example: http://jsfiddle
p9856
aVnet/ambiguous/yM9s5/6/
p9857
aVAnother approach is this:
p9858
aVReplace your  drop target with a
p9859
aVSize the  through CSS to match the
p9860
aVAdd a background image to the  to match the visual effect of the
p9861
aVAdd a  to your  class and set that image to your animated GIF
p9862
aVFor example: http://jsfiddle
p9863
aVnet/ambiguous/yM9s5/5/
p9864
aVThat should work with an animated GIF but I don't have one handy to check
p9865
as(dp9866
g10
V479863
p9867
stp9868
a((dp9869
g2
(lp9870
VIf you're trying to format an entire date or date and time (rather than just the month), you might want to use :
p9871
aVThat will give you easy access to all the usual date and time formats
p9872
as(dp9873
g10
V479863
p9874
stp9875
a((dp9876
g2
(lp9877
VIf you're using an AJAX call to load your new content, then you'll have to use  to set up your event bindings or set things up manually in the AJAX success callback; if you need to do something that is more complicated than binding a simple click handler (such as binding a jQuery-UI button or a form validator), then you'll have to do it by hand
p9878
aVFor example, if you're using the  convenience function to pull in new content:
p9879
as(dp9880
g10
V479863
p9881
stp9882
a((dp9883
g2
(lp9884
VYou have to build your  value the hard way, you'll also need to build the data in the loop and set it afterwards:
p9885
aVYou have to use the  form of object access to get  evaluated
p9886
aVYou also need to build the data first to avoid overwriting the  every time through the loop
p9887
aVAlso, if you're only using contiguous integers starting at zero inside  and , then simple arrays might be a better choice than objects:
p9888
as(dp9889
g10
V479863
p9890
stp9891
a((dp9892
g2
(lp9893
VIf you play around with a DOM inspector for a bit, you'll find that  is coming out with a height of 52px or so
p9894
aVThe extra 4px appears to be coming from the
p9895
aVSetting  to 0:
p9896
aVFixes the layout: http://jsfiddle
p9897
aVnet/ambiguous/8KzdD/
p9898
aVOr, you can float the image to the left as well:
p9899
aVThat will remove the image from the local flow and make the  irrelevant: http://jsfiddle
p9900
aVnet/ambiguous/8KzdD/1/
p9901
aVYet another option is to ditch the clearing  and use  on the outer :
p9902
aVThis will leave the  with their 52px height but the effect won't be visually noticeable: http://jsfiddle
p9903
aVnet/ambiguous/8KzdD/2/
p9904
as(dp9905
g10
V479863
p9906
stp9907
a((dp9908
g2
(lp9909
VIf your variable is a number and you're really trying to extract just the integer part, then you'll want to use  or :
p9910
as(dp9911
g10
V479863
p9912
stp9913
a((dp9914
g2
(lp9915
VWhen I do this in my Rails 3
p9916
aV1 console:
p9917
aVI get an "ArgumentError: invalid date" exception
p9918
aVHowever, it works fine with an ISO-8601 date:
p9919
aVSo perhaps you're having a locale problem
p9920
aVYour script could be using your standard locale setting (which is probably some US locale judging by the date format) but your server is probably using something else
p9921
aVTry changing the jQuery datepicker date format to something standard and unambiguous by adding this:
p9922
aVto the datepicker's options
p9923
aVThe datepicker's default is  and Ruby's Date class doesn't like seem to like it without a special locale setting
p9924
as(dp9925
g10
V479863
p9926
stp9927
a((dp9928
g2
(lp9929
VThe first column is being sized to fit "Energy Sector"
p9930
aVSet a  on the header cells to allow the headers to span the full table width
p9931
as(dp9932
g10
V479863
p9933
stp9934
a((dp9935
g2
(lp9936
VWhen you create your application with , there should be a  directory and in there will be a script named , this is the  that understands  and
p9937
aVSo, do this:
p9938
aVTo create and start up your application
p9939
aVThe naming is a little confusing
p9940
as(dp9941
g10
V479863
p9942
stp9943
a((dp9944
g2
(lp9945
VSomething like this perhaps
p9946
aVThe interesting part is the use of  inside the  to split the counting into three chunks
p9947
as(dp9948
g10
V479863
p9949
stp9950
a((dp9951
g2
(lp9952
VYou almost have it but you want to use the block form of  rather than the two argument form and I think you have your subtraction on the wrong side of :
p9953
aVRuby 1
p9954
aV8 doesn't need the  with the block form of  but 1
p9955
aV9 does
p9956
aVThe global , ,
p9957
aVaren't what you think they are except in block form of :
p9958
aVIf replacement is a String it will be substituted for the matched text
p9959
ag3892
aVHowever, within  the special match variables, such as , will not refer to the current match
p9960
aVIn the block form, the current match string is passed in as a parameter, and variables such as $1, $2, $`, $&, and $\u2019 will be set appropriately
p9961
aVJonas Elfström is right in the comments about subtracting 2 from the seconds in "00:04:00" making a mess
p9962
aVSo you might want to use one of the time classes to handle your subtraction
p9963
aVSomething like this:
p9964
aVin place of your  should do the trick
p9965
aVwants to work with a full date-time rather than just a time so using the Unix epoch (1970-01-01) is a bit of a hack to get around that
p9966
aVOf course, if you try to subtract 2s from 00:00:00 you'll run into some problems
p9967
as(dp9968
g10
V479863
p9969
stp9970
a((dp9971
g2
(lp9972
VIn your  click handler, you do this:
p9973
aVThat will set the  attribute of all the images to
p9974
aVSo nothing is getting stuck, it just looks that way because all the images in the gallery will be the same after you click on one of the thumbnails
p9975
aVInstead, you need to use the  attribute to find the correct image in the gallery and then call  or  enough times to get it into view
p9976
aVOr, you could add a third function that does the same thing as multiple  or  calls without the intermediate steps
p9977
aVHere are some hints
p9978
aVGet rid of the  stuff, that just ends up binding a new set of click handlers every time the mouse moves over the a thumbnail
p9979
aVMove click handler binding inside there to the outside before you delete it though
p9980
aVAdd  attributes the slide  elements to make them easier to find
p9981
aVReplace the  attributes with  attributes, the values should match the  attributes` above
p9982
aVThis makes it easy to link the thumbnails directly to their slides
p9983
aVNow the click handler on the thumbnails can get the slide with  (or  in older versions of jQuery)
p9984
aVNow that you have the right , you should be able to figure out which direction and how far you need to animate the  value of
p9985
as(dp9986
g10
V479863
p9987
stp9988
a((dp9989
g2
(lp9990
VUsing an exception for your first case is probably fine and a lot less messy than trying to figure out if  would fail before calling it
p9991
aVIf all you're doing is trying to load something optional (or, similarly, you need to support several different libraries that do the same thing), then trying to load it and handling the exception is fine, good, and morally upstanding behavior
p9992
aVIn your second case, it might make more sense to check  or sys-uname before trying to do platform specific things like OLE
p9993
aVSometimes the yak does need shaving
p9994
aVIn this, if you're on Windows then you really do want to have the require fail whereas if you're on Linux, you don't want to require at all; you're using side effects of the exception rather than the exception itself
p9995
aVSometimes people try to use exceptions as a trappable goto of sorts
p9996
aVExceptions are intended for non-recoverable error conditions, not as a general event notification system
p9997
aVUsing exceptions as a goto (i
p9998
ag785
aVflow control) is an abuse of the exception handling system and people that build systems that use exceptions for flow control usually end up in the hospital (for "falling", into a box of hammers, ten times in a row)
p9999
as(dp10000
g10
V479863
p10001
stp10002
a((dp10003
g2
(lp10004
VYou will get two  values (i
p10005
ag785
aVboth John and Jean) sent to the server, then it is up to the server to figure out what to do about it
p10006
aVYou can have as many elements in a form with the same name as you want; the  notation is just notation that some frameworks use to pass the form's structure to the server so that the server can unpack it without extra instructions and without the programmer having to differentiate between a list with one value and a single value
p10007
aVYou'll also get separate  and  parameters and again, it will be up to the server code to figure out how it wants to handle that
p10008
aVFrom the HTML4 standard:
p10009
aVEvery successful control has its control name paired with its current value as part of the submitted form data set
p10010
aVA successful control must be defined within a FORM element and must have a control name
p10011
aVThere's nothing in there about selecting only one text input from several with the same  attribute
p10012
as(dp10013
g10
V479863
p10014
stp10015
a((dp10016
g2
(lp10017
VBind a keypress handler to the input using jQuery
p10018
aVIn the callback, start a timer using  to submit the form after one second and keep a hold of the timer ID that  returns to you
p10019
aVIf you have a non-null timer ID when your keypress callback is triggered, stop the timer with  and set the timer ID to null; if they also have two characters at this point, then start the timer (again) and store the timer ID (again)
p10020
aVSo, you have a process in the keypress handler like this:
p10021
aVDo I have a timer running
p10022
aVIf yes, , null the timer ID, and continue
p10023
aVIf no, then continue on
p10024
aVDo I have at least two characters
p10025
aVIf yes, start the timer with  and store the timer ID, the function attached to the timer would submit the form
p10026
aVIf no, then continue on
p10027
aVProfit
p10028
as(dp10029
g10
V479863
p10030
stp10031
a((dp10032
g2
(lp10033
VWith recent versions of WebKit (Safari, Chrome) or Firefox, you can define getter and setter functions:
p10034
aVThen you would do this:
p10035
aVAnd get the result that you want
p10036
aVI don't know if IE or Opera support this or which versions
p10037
aVIf you need to support anything other than recent Safari, Chrome, or Firefox browsers then you're better off using a function to access the name instead of leaving it as a property:
p10038
aVAnd then:
p10039
as(dp10040
g10
V479863
p10041
stp10042
a((dp10043
g2
(lp10044
VThe easiest way is to assign something to  in your JavaScript (but be sure to do that after opening your new window):
p10045
aVYou don't need to use a separate function though, I just did that to make it easier to read
p10046
as(dp10047
g10
V479863
p10048
stp10049
a((dp10050
g2
(lp10051
VCreate a table in an SQL database like this:
p10052
aVThen parse your files with some simple regular expressions or even just :
p10053
aVdump the parsed data into your table, and do a bit of SQL to find the properties that are common to all files:
p10054
aVWhere  is replaced by the number of input files
p10055
aVNow you have a list of all the common properties and their values so write those to your new file, remove them from your  table, and then spin through all the rows that are left in  and write them to the appropriate files (i
p10056
ag785
aVthe file named by the  column)
p10057
aVYou say that the files are "huge" so you probably don't want to slurp all of them into memory at the same time
p10058
aVYou could do multiple passes and use a hash-on-disk library for keeping track of what has been seen and where but that would be a waste of time if you have an SQL database around and everyone should have, at least, SQLite kicking around
p10059
aVManaging large amounts of structured data is what SQL and databases are for
p10060
as(dp10061
g10
V479863
p10062
stp10063
a((dp10064
g2
(lp10065
VUse  and  (which everyone should have installed if they have to deal with dates or times in any way):
p10066
as(dp10067
g10
V479863
p10068
stp10069
a((dp10070
g2
(lp10071
VCan't you just a create directory within  called, say,
p10072
aVCopy (or symlink) what you need into:
p10073
aVThen
p10074
aVAnd then you have:
p10075
aVWith a nice pretty internal structure that doesn't include your PID
p10076
as(dp10077
g10
V479863
p10078
stp10079
a((dp10080
g2
(lp10081
VYou can use a callback function for the autocomplete's  option
p10082
aVSo, all you need to do is set up a callback function that does an AJAX call itself to get the possible matches:
p10083
aVThe current search term is inside  inside the callback
p10084
aVOnce you have the expanded list of possible matches, call the  function to hand it back to the autocomplete widget
p10085
aVFor illustrative purposes I'm assuming that your server returns the matches as a list of newline separated matches, you might have to do something a little different with your real data
p10086
as(dp10087
g10
V479863
p10088
stp10089
a((dp10090
g2
(lp10091
VThe shebang line in a Unix script is supposed to specify a full path, so this:
p10092
aVis valid but this is not:
p10093
aVThe problem with the first form is that, well, you need to use a full path but the actual path won't be the same on all systems
p10094
aVThe  utility is often used to allow a script to search the  environment variable for the appropriate interpreter,  should always be in  so you can safely use that as a full path and then let  search the  for the named interpreter
p10095
aVFrom the fine manual:
p10096
aVThe env utility shall obtain the current environment, modify it according to its arguments, then invoke the utility named by the utility operand with the modified environment
p10097
aVThat isn't terribly helpful in your case but I figured I should include it anyway
p10098
aVThe shebang use of  is a bit of a hack that doesn't use the intended behavior of
p10099
as(dp10100
g10
V479863
p10101
stp10102
a((dp10103
g2
(lp10104
VYour problem is that you have an array of objects:
p10105
aVAnd you want to search based on a property of these objects
p10106
aVThe  method:
p10107
aVcompares [
p10108
aVusing strict equality (the same method used by the ===, or triple-equals, operator)
p10109
aVSo you won't find what you're looking for unless you have the specific object in hand, just searching based on the property value or an object with the same structure won't work
p10110
aVjQuery's  utility function is (AFAIK) just a portability wrapper for JavaScript implementations that don't have an  method in their Array
p10111
aVYou'll need a search function of your own, something like this:
p10112
aVYou could also use  if you want to be stricter but that's up to you and what you need the function to do
p10113
as(dp10114
g10
V479863
p10115
stp10116
a((dp10117
g2
(lp10118
VYou need a callback on your  call, right now you're just sending off the POST and not paying any attention to the what the server sends back so no dialog will appear
p10119
aVI think you want something more like this (with real code where the big comment is):
p10120
as(dp10121
g10
V479863
p10122
stp10123
a((dp10124
g2
(lp10125
VTry using colons instead of equals signs:
p10126
aVFrom the fine manual:
p10127
aVThe most straightforward way to use SassScript is to use variables
p10128
aVVariables begin with dollar signs, and are set like CSS properties:
p10129
ag3892
aVVariables also used to be defined with = rather than :; this still works, but it\u2019s deprecated and prints a warning
p10130
aV: is the recommended syntax
p10131
aVThe equals sign is supposed to work but they are deprecated and the warning could be confusing something
p10132
as(dp10133
g10
V479863
p10134
stp10135
a((dp10136
g2
(lp10137
VFrom the fine manual:
p10138
aVclipRect (object)
p10139
aVThis property defines the rectangular area of the web page to be rasterized when render() is invoked
p10140
aVIf no clipping rectangle is set, render() will process the entire web page
p10141
aVExample:
p10142
aVSo try setting  right before you call :
p10143
aVYou'd have to figure out where the upper left corner ( and ) is and how big ( and ) you want the clipping rectangle to be
p10144
aVYou can probably set the  any time before  is called but start with that and see what happens
p10145
as(dp10146
g10
V479863
p10147
stp10148
a((dp10149
g2
(lp10150
VI think your problem is right here:
p10151
aVYour  values range between zero to the last index in  (inclusive) and, presumably, your  starts off as a clone of  (or at least another array with the same length)
p10152
aVBut, as you spin through the , you're shrinking  so  will be  and the swap operation above will put  into  (which is supposed to be a useful entry of )
p10153
aVSimilar issues apply to  and
p10154
aVI'd recommend using one array with three element objects (first name, last name, email) instead of your three parallel arrays
p10155
aVThere's also a  method on Array that might be of use to you:
p10156
aVStart with an array of people
p10157
aVMake copy of that array
p10158
aVShuffle the copy until it is different at every index from that original array
p10159
aVThen  the together to get your final list of giver/receiver pairs
p10160
as(dp10161
g10
V479863
p10162
stp10163
a((dp10164
g2
(lp10165
VYour problem is that this:
p10166
aVis an SQL string literal that just happens to contain eight question marks
p10167
aVSince that is an SQL string literal, none of the question marks inside it are considered to be placeholders
p10168
aVThat leaves you with two placeholders: the one at the very beginning of the  list and the one at the very end
p10169
aVYou'll have to build your polygon some other way
p10170
aVThere might be a better way than  but, alas, I don't know what it is and I don't have PostGIS set up anywhere
p10171
aVIf necessary, you can build the POLYGON string by hand with standard string wrangling and then use a placeholder for it:
p10172
aVThe placeholder inside  will be seen as a placeholder as it isn't inside a string literal and you could user  to give it a value
p10173
as(dp10174
g10
V479863
p10175
stp10176
a((dp10177
g2
(lp10178
VThere's always the straight forward way (i
p10179
ag785
aVuse a subquery to extract the timestamp range and then proceed as usual):
p10180
as(dp10181
g10
V479863
p10182
stp10183
a((dp10184
g2
(lp10185
VIf the non-numeric prefix is always three characters then you can do it without a regular expression:
p10186
aVOr, if you want a little more flexibility on the prefix size, you can use  combined with the above:
p10187
aVI like the bracket-assignment notation for this as it matches up nicely with your intent
p10188
as(dp10189
g10
V479863
p10190
stp10191
a((dp10192
g2
(lp10193
VI get the impression that you're running your script multiple times and each time it is run, you append new results to your CSV file
p10194
aVIf that's the case, then all you have to do is check the file size right after your :
p10195
as(dp10196
g10
V479863
p10197
stp10198
a((dp10199
g2
(lp10200
VIn my experience, the best practice is to compile your entire stack (Perl, Apache, ImageMagick,
p10201
aVfrom source yourself
p10202
aVThat gives you complete control over which versions of everything are used and when everything gets upgraded
p10203
aVReplacing  with one you compiled is a crap shoot
p10204
aVThe OS might be using  as part of its maintenance or  scripts so changing it could brick your server or cause strange failures
p10205
aVSo ignore the system Perl, build your own, and fix your scripts to refer to your version of Perl
p10206
as(dp10207
g10
V479863
p10208
stp10209
a((dp10210
g2
(lp10211
VMaintaining the schema across multiple databases won't be much of a problem
p10212
aVYour problem will be in other areas:
p10213
aVMySQL and SQLite are pretty loose with their type conversions, PostgreSQL is strict
p10214
aVMySQL will often silently truncate strings whereas PostgreSQL will complain
p10215
aVMySQL and SQLite will allow you to have things in your SELECT that aren't in a GROUP BY but PostgreSQL will complain
p10216
aVBooleans are treated differently in all three:
p10217
aVPostgreSQL uses literal  and  (and a few others) for booleans
p10218
aVMySQL uses 1 and 0
p10219
aVSQLite uses 1 and 0 but ActiveRecord uses  and  anyway, but this works because SQLite treats everything as a string
p10220
aVThose are some of the issues off the top of my head but there are certainly others
p10221
aVNo ORM can protect you from database differences and quirks
p10222
aVSpend some time searching for things like "it worked fine until I deployed to Heroku" or even just the tags "[heroku] [postgresql]" and you'll find lots of examples of people that got into trouble by developing on top of MySQL or SQLite but deploying on PostgreSQL
p10223
aVShort answer: don't do it, develop on top of PostgreSQL if you're planning to deploy on PostgreSQL
p10224
aVAnd use the same version too
p10225
as(dp10226
g10
V479863
p10227
stp10228
a((dp10229
g2
(lp10230
VFrom the fine manual:
p10231
aVUpon successful completion, strrchr() shall return a pointer to the byte or a null pointer if c does not occur in the string
p10232
aVSince there is no  in  when you call , you get a NULL pointer back and then you try dereference it in your  call
p10233
aVHence your segfault
p10234
as(dp10235
g10
V479863
p10236
stp10237
a((dp10238
g2
(lp10239
VThe production Apache server will be using multiple processes and each process will have its own version of your application
p10240
aVSetting your global variable in one process won't affect the variable's value in any of the other processes
p10241
aVIf you need to share some information across instances, you'll have to store it in a database or similar common data store that is shared by all your server processes
p10242
as(dp10243
g10
V479863
p10244
stp10245
a((dp10246
g2
(lp10247
VDon't do the parsing by hand, please
p10248
aVGrab the URI from the Rails request:
p10249
aVThe return value from  seems to depend on your server stack,  is supposed to fix that but doesn't seem to exist in Rails 3
p10250
ag2377
aVThe third "build it all yourself" approach should produce consistent results everywhere
p10251
aVSigh
p10252
aVThen, once you have the URI, use  and  to parse it:
p10253
as(dp10254
g10
V479863
p10255
stp10256
a((dp10257
g2
(lp10258
VI don't think an interval is really what you want for that
p10259
aVAn interval represents a timespan without any specific end points; for example, you add an interval to an existing time to get another time
p10260
aVYou would be better off with two distinct times:
p10261
aVThen, if for some reason you need to know how many hours they're open for delivery, you can construct an interval by subtracting  from
p10262
aVIf you really must use an interval, then you'll need to construct a value something like this:
p10263
aVNote how this illustrates that an interval is not a specific time range from A to B, it is just a time range of some certain length (with no specified end points)
p10264
as(dp10265
g10
V479863
p10266
stp10267
a((dp10268
g2
(lp10269
VYour  call is asynchronous so your validator returns before the AJAX call is complete; the  statement inside your success handler isn't returning a value from your validator, it is only return a value from the success handler and no one cares what your success handler returns
p10270
aVYour validator callback function doesn't return any value at all and that lack of a value is interpreted as "false" by the validator engine
p10271
aVYou could make the  synchronous:
p10272
aVBut that will lock up the browser until the  call completes
p10273
aVThat's probably okay for a simple "username is available" validation though
p10274
as(dp10275
g10
V479863
p10276
stp10277
a((dp10278
g2
(lp10279
VI'm pretty sure you need to use the  macro on  to get at the underlying array; for example, the internal implementation of Array#push (for 1
p10280
ag2959
aV2) looks like this:
p10281
aVThe  just sorts out any necessary resizing, then there's  for accessing a single slot in the array
p10282
aVI don't have any official references to back this up but hopefully this will be of some use
p10283
as(dp10284
g10
V479863
p10285
stp10286
a((dp10287
g2
(lp10288
VI usually use this query against :
p10289
aVYou might want to adjust the  to suit your needs though
p10290
aVThis query should (AFAIK) work in any database that follows the standard
p10291
as(dp10292
g10
V479863
p10293
stp10294
a((dp10295
g2
(lp10296
VHere's a real answer, or at least a better one
p10297
aVYour , , ,  sequence looks correct but I think you're giving  the wrong arguments
p10298
aVThe arguments for  are supposed to be:
p10299
aVThe statement handle
p10300
aVThe the index of the SQL parameter to be set where indexes start at one
p10301
aVThe value to bind
p10302
aVSo I think your bind should look like this:
p10303
aVAnd there's no reason to apologize for occasionally using low level interfaces either, it is useful to know what's going on underneath all the usual pleasantries sometimes
p10304
aVJust don't make a habit of trying to write everything in assembler so to speak :)
p10305
as(dp10306
g10
V479863
p10307
stp10308
a((dp10309
g2
(lp10310
VGive some HTML inside , you'd do something like this:
p10311
aVThen you'll have the numbers in the  array
p10312
aVYou'll have to adjust the XPath and regular expression to match your real data of course but the basic technique should be clear
p10313
aVA bit of time with the Nokogiri documentation and tutorials might be fruitful
p10314
as(dp10315
g10
V479863
p10316
stp10317
a((dp10318
g2
(lp10319
VYou could iterate over the properties of :
p10320
as(dp10321
g10
V479863
p10322
stp10323
a((dp10324
g2
(lp10325
VThe inner shadow appears to be a  (for WebKit at least) that comes from
p10326
aVThe outer "shadow" is almost certainly the  property; the  generally comes from the browser's default stylesheet
p10327
aVSetting both of those to :
p10328
aVGets rid of both effects for me
p10329
aVYou'll need to port the  to the other browsers you care about but you can look at  to see what you need to negate
p10330
as(dp10331
g10
V479863
p10332
stp10333
a((dp10334
g2
(lp10335
VYes, it is about scope
p10336
aVWhen the callback gets called, it will be using the last value of  rather than the value of  when you add the listener
p10337
aVThe anonymous function that you're building is a closure that captures the  variable without evaluating it,  won't be evaluated until the callback is called and by that time,  will be 3
p10338
aVThe usual closure busting solution should work:
p10339
aVYou could also use a self-executing function instead of a separate  but that might be too noisy
p10340
as(dp10341
g10
V479863
p10342
stp10343
a((dp10344
g2
(lp10345
VAFAIK, the SQL standard specifies ISO 8601 format for timestamps so try this:
p10346
aVwhere you want to use "04:17:29
p10347
aV463114 on June 16 2011" as your timestamp
p10348
aVAt the database level, you should only be using ISO 8601 date and time formats unless there is a very good reason for anything else (this part is just me being a bit opinionated though :)
p10349
as(dp10350
g10
V479863
p10351
stp10352
a((dp10353
g2
(lp10354
VWell the standard  file for Rails 2 has this at the end of the comment block at the top of the file:
p10355
aVThe Rails 3  that I have kicking around says the same thing
p10356
aVI think the comment says it all
p10357
aVUpdate in response to comments:
p10358
aVYes, mistakes can be made and you can get conflicting changes and bugs mangling your  but that's why you want it under revision control, revision control allows you to keep track of everything and backup when needed
p10359
aVThere is only one thing in your entire source tree that specifies your database schema and that is
p10360
aVYour database schema absolutely is a critical artifact and anything that important needs to be tracked in revision control
p10361
aVAny update/merge problems with  should be sorted out just by sorting out your conflicting migrations so  will get fixed as a side effect of fixing the real problem
p10362
aVYes,  is a generated file but it is only generated in the sense that your text editor generates your  model file or an unedited scaffold file is generated
p10363
aVYes, you could rebuild your  file by building a new database and then running all of your migrations
p10364
aVBut, you should clear out your old migrations now and then to avoid having to check hundreds of migration files every time you  so "rebuild and run all the migrations" often isn't an option in a highly active project
p10365
as(dp10366
g10
V479863
p10367
stp10368
a((dp10369
g2
(lp10370
VFirst of all, you want to pull in  not  so change your  to this:
p10371
aVThen, from the fine manual:
p10372
aVCreates a new , which is a toplevel window that can contain other widgets
p10373
aVSo you don't actually need to specify the  when you want a toplevel window but if you want to specify the , then you want to use the  constant not :
p10374
aVThat pretty much exhausts my (current) knowledge of the Ruby Gtk bindings but hopefully it will get you moving the right direction
p10375
as(dp10376
g10
V479863
p10377
stp10378
a((dp10379
g2
(lp10380
VFor the first one you just need a "starts with selector"
p10381
aVAnd the second is just a standard class selector:
p10382
aVThe  function call returns an array of matching elements so once you have it, you just need to look at the  property to find out how many matches there are
p10383
as(dp10384
g10
V479863
p10385
stp10386
a((dp10387
g2
(lp10388
VOnly the InnoDB engine supports foreign keys:
p10389
aVInnoDB supports foreign key constraints
p10390
as(dp10391
g10
V479863
p10392
stp10393
a((dp10394
g2
(lp10395
VYou have a  problem by the look of it:
p10396
aVYou need to fix your  environment variable
p10397
as(dp10398
g10
V479863
p10399
stp10400
a((dp10401
g2
(lp10402
VYour problem seems to be that you have a tablename in a variable but you need to turn the value of that variable into an identifier so that you can do normal SQL things with it
p10403
aVYou could so something somewhat ugly like this:
p10404
aVOr you could use a prepared statement (which is, more or less, a form of ):
p10405
aVI'm pretty sure that the  will work in that context but if not, you can build the SQL as a variable and  that:
p10406
aVThe rest of your procedure seems pretty straight forward once you get over the problem of converting a variable's value to an SQL identifier
p10407
as(dp10408
g10
V479863
p10409
stp10410
a((dp10411
g2
(lp10412
VThe documentation is incorrect
p10413
aVIf you look at the  file from 1
p10414
ag2959
aV1, you'll see this:
p10415
aVSo the three methods are there but they are explicitly set as private
p10416
aVA bit of quick experimentation indicates that a lot of the methods in the documentation are, in fact, private
p10417
aVThere is a big block of documentation at the top of the man page that lists what are, apparently, supposed to be the available methods; that list doesn't match the list that rdoc has generated so there is some confusion
p10418
aVI get the impression that instances of Matrix are meant to be immutable just like Fixnum and Number
p10419
as(dp10420
g10
V479863
p10421
stp10422
a((dp10423
g2
(lp10424
VYou have a negative look ahead:
p10425
aVThat matches the "O" in "ON" and since it is a negative look ahead, the whole pattern fails
p10426
aVAnd, as an aside, I think you want to replace this:
p10427
aVWith this:
p10428
aVA pipe () is a literal character inside a character class, not an alternation, and you can use ranges to help hilight the characters that you're leaving out
p10429
aVA single regex might not be the best way to parse that string
p10430
aVOr perhaps you just need a looser regex
p10431
as(dp10432
g10
V479863
p10433
stp10434
a((dp10435
g2
(lp10436
VThat's normal URL encoding, the plus sign is a shorthand for a space:
p10437
aVWithin the query string, the plus sign is reserved as shorthand notation for a space
p10438
aVTherefore, real plus signs must be encoded
p10439
aVThis method was used to make query URIs easier to pass in systems which did not allow spaces
p10440
aVAnd from the HTML5 standard:
p10441
aVThe character is a U+0020 SPACE character
p10442
aVReplace the character with a single U+002B PLUS SIGN character (+)
p10443
as(dp10444
g10
V479863
p10445
stp10446
a((dp10447
g2
(lp10448
VURI doesn't like the double quotes or braces in that URL
p10449
aVYou can fix the URI by hand with something like this:
p10450
aVFrom RFC 1738: Uniform Resource Locators (URL):
p10451
aVThus, only alphanumerics, the special characters "", and
p10452
aVreserved characters used for their reserved purposes may be used
p10453
aVunencoded within a URL
p10454
aVSo I'd say that reegle
p10455
aVinfo should be URL-encoding more things than they are
p10456
aVOTOH, Ruby's URI class could be a little more forgiving (Perl's URI class, for example, will accept that URI as input but it converts the double quote and braces to their percent-encoded form on output)
p10457
as(dp10458
g10
V479863
p10459
stp10460
a((dp10461
g2
(lp10462
VYou could use the block form of  to provide an empty Hash as a default value:
p10463
aVAnd then this happens:
p10464
aVThe funny looking  stuff in the block shares the main hash's default value generating block with the sub-hashes so that they auto-vivify too
p10465
aVAlso, make sure you don't do this:
p10466
aVto supply a hash as a default value, there is some explanation of why not over in this answer
p10467
as(dp10468
g10
V479863
p10469
stp10470
a((dp10471
g2
(lp10472
VOne way is to use a couple of derived tables to compute your counts separately and then join them to produce your final summary:
p10473
aVThere are probably other ways but that should work and it is the first thing that came to mind
p10474
aVYou're getting your "multiplicative" effect pretty much for the reasons you suspect
p10475
aVIf you have this:
p10476
aVThen joining them on  will give you this:
p10477
aVUsually you could use a GROUP BY to sort out the duplicates but you can't do that because it would mess up your per-table counts
p10478
as(dp10479
g10
V479863
p10480
stp10481
a((dp10482
g2
(lp10483
VI don't know if there is any named principle governing this sort of thing but I would pass an argument
p10484
aVNot only will the argument make your helper easier to test and your application's data flow easier to follow but it will also let you use one helper for a single instance as well as a list; if you pass an argument then both:
p10485
aVand:
p10486
aVwill work as expected without introducing a special  that handles a list in  rather than a single
p10487
as(dp10488
g10
V479863
p10489
stp10490
a((dp10491
g2
(lp10492
VThe jQuery function, , returns an object; hence your  message
p10493
aVIf you want the underlying DOM object, say:
p10494
aVor
p10495
as(dp10496
g10
V479863
p10497
stp10498
a((dp10499
g2
(lp10500
VSounds like you're looking for a capped collection:
p10501
aVCapped collections are fixed sized collections
p10502
ag3892
aVOnce the space is fully utilized, newly added objects will replace the oldest objects in the collection
p10503
as(dp10504
g10
V479863
p10505
stp10506
a((dp10507
g2
(lp10508
VSomething like this perhaps
p10509
aVThat should work okay as long as there are no spaces in the commands in
p10510
as(dp10511
g10
V479863
p10512
stp10513
a((dp10514
g2
(lp10515
VYou're not giving  a regular expression argument, you're giving it a plain string and the string  probably doesn't appear anywhere in your  so  doesn't do anything useful
p10516
aVYou want to use the Regexp class to create and store your regular expression:
p10517
aVOr (thankyou Kudo) you could use one of the regex literal forms:
p10518
aVAnd then pass that instance of  to :
p10519
as(dp10520
g10
V479863
p10521
stp10522
a((dp10523
g2
(lp10524
VI think you're creating your session incorrectly
p10525
aVI'm no Authlogic guru but I think you're supposed to do it like this:
p10526
aVOr, you could use :
p10527
aVAll the Authlogic constructors appear to take named arguments in a Hash (using the usual Ruby auto-hashification), that's probably why RubyMine is complaining about your  call having incorrect arguments
p10528
as(dp10529
g10
V479863
p10530
stp10531
a((dp10532
g2
(lp10533
VYou're using jQuery so you can use that to give you easy access to your XML's DOM
p10534
aVJust instantiate a jQuery wrapper for your XML in the usual manner:
p10535
aVThen, find all the  children and summarize their content in an object:
p10536
aVThen you have your summary data in
p10537
aVLive example: http://jsfiddle
p10538
aVnet/ambiguous/gKgyr/
p10539
aVUPDATE: Based on this question about XML parsing in IE, I think using  will help with IE:
p10540
aVI can't check right now though but here's a live version of this one: http://jsfiddle
p10541
aVnet/ambiguous/gKgyr/12/
p10542
as(dp10543
g10
V479863
p10544
stp10545
a((dp10546
g2
(lp10547
VYou need to use an "attribute contains" selector:
p10548
aVDescription: Selects elements that have the specified attribute with a value containing the a given substring
p10549
aVThat will give you the children of  that have the string  in their  attribute
p10550
aVExample: http://jsfiddle
p10551
aVnet/ambiguous/vpdGa/1/
p10552
aVIf you need to worry about  and similar CSS properties, then you could add your regular expression selector:
p10553
aVAnd then search thusly:
p10554
aVDon't forget the extra backslash to get past the string literal's backslash interpretation
p10555
aVAnd an example of this approach: http://jsfiddle
p10556
aVnet/ambiguous/vpdGa/4/
p10557
as(dp10558
g10
V479863
p10559
stp10560
a((dp10561
g2
(lp10562
VI'll use jQuery for this example but the overall technique should work pretty much the same with any other AJAX framework
p10563
aVIn your JavaScript, you'll want to use  to grab a new quote from your server and  to get periodic updates; something like this:
p10564
aVIf you start out with an empty quote box then you can simply call  to give it an initial value through your AJAX call
p10565
aVYou could also use  to call your quote replacer
p10566
aVThen you wouldn't need to manually restart the timer with the  call but you would run the risk our updates fighting each other if an AJAX call takes longer than
p10567
aVIf you still want to provide a link for updating the quote then bind the link to a JavaScript function something like this:
p10568
aVCalling  will, effectively, reset the timer when they change the quote themselves
p10569
aVThen, in your Rails app, you'd add a route for  and the controller would simply grab a random quote from your database and then use  to send back just the HTML snippet for the quote without all the usual layout wrapping
p10570
aVHandling AJAX requests in Rails (or any other framework) is pretty much the same as handling any other request, the only difference is that you won't send back a full page, you just send back a little piece of HTML or a blob of JSON (or XML) for the client to process and render
p10571
aVHence the size difference between the client-side and server-side outlines above
p10572
as(dp10573
g10
V479863
p10574
stp10575
a((dp10576
g2
(lp10577
VThe  method has a return value:
p10578
aVReturns whether or not the given entry point  can be found within
p10579
aVSo you should be able to do this:
p10580
aVAnd then set up your C to use libuuid if  is not defined and call into the Ruby UUID library if it is defined
p10581
aVOddly enough, the  and  methods in  add macros for you:
p10582
aVbut  makes you do it yourself
p10583
as(dp10584
g10
V479863
p10585
stp10586
a((dp10587
g2
(lp10588
VBoth arguments for  are supposed to be of type  but you're pushing an  (probably):
p10589
aVTry this:
p10590
aVI think it is worth noting that  will usually be defined like this:
p10591
aVSo the usual warning flags for int-to-pointer conversions won't catch this sort of error
p10592
as(dp10593
g10
V479863
p10594
stp10595
a((dp10596
g2
(lp10597
VHard to say without knowing what  is going to be or what type  and  are but maybe you're looking for this:
p10598
aVThat is pretty much the same as:
p10599
aVbut less noisy
p10600
as(dp10601
g10
V479863
p10602
stp10603
a((dp10604
g2
(lp10605
VComparing them one element at a time is probably the best you're going to be able to do but you can do it nicer than your "ugh" solution:
p10606
aVThe tricky part is differentiating between just one stream running out and both running out
p10607
aVPushing the  exception into a separate function and using the absence of a key in a hash is a fairly convenient way of doing that
p10608
aVJust checking  will cause problems if your stream contains  or  but checking for the presence of a key solves that problem
p10609
as(dp10610
g10
V479863
p10611
stp10612
a((dp10613
g2
(lp10614
VHeroku only supports a read-only file system (or at least only supports read-only operations for any files that you want to be persistent)
p10615
aVHence, you can't use SQLite on Heroku
p10616
aVHeroku only supports PostgreSQL as a database so you need to configure DataMapper to use PostgreSQL (see Yet Another Geek's answer)
p10617
aVI'd recommend installing PostgreSQL in your development environment if you're planning to deploy to Heroku
p10618
aVEvery database is a little different and no ORM will protect you from the differences
p10619
aVA bit of searching for questions tagged heroku and postgresql should show some of the problems you'll have if you develop on top of one database but deploy on another
p10620
as(dp10621
g10
V479863
p10622
stp10623
a((dp10624
g2
(lp10625
VYou could include a timestamp in your SQLite table and set the default value to the time when the record was inserted ( should do the trick)
p10626
aVThen, you'd need a table in your MySQL database (or your SQLite database, whichever works better for you) that contains a single timestamp, this will be your "last imported time"
p10627
aVWhen it is time to do your data transfer:
p10628
aVGrab the last-imported-time
p10629
aVStore the current timestamp in t
p10630
aVGrab everything from your SQLite database that is newer than t and copy it to your MySQL database
p10631
aVUpdate the last-imported-time in your database to t from above
p10632
aVStoring the timestamp that you're using in t helps you avoid missing anything
p10633
aVIf you're also updating things in your SQLite database rather than just inserting things, then you could add another timestamp for the "last modified time"
p10634
aVThen apply the same logic as above with "copy" replaced with "update" or "delete and re-insert"
p10635
as(dp10636
g10
V479863
p10637
stp10638
a((dp10639
g2
(lp10640
VDon't try to store the major lists as blobs in a single column, use separate association tables for that:
p10641
aVYou might want to index each column in primary keys individually as well but indexing depends (as usual) on what sort of queries you're likely to be using
p10642
aVThen you can use standard SQL queries to check that the majors match up
p10643
aVFor example, to find all students with a  of 1:
p10644
aVor to find all students that can be in organization 11:
p10645
as(dp10646
g10
V479863
p10647
stp10648
a((dp10649
g2
(lp10650
VI'll be using 1
p10651
ag2959
aV2-p0 as that's what I have on hand
p10652
aVThe  function looks like this:
p10653
aVAnd  looks like this:
p10654
aVNote the  call
p10655
aVThis looks a lot like C version of  and  just happens to look like this:
p10656
aVSo, yes, the first loop is looking for anything in  that is not an array and setting the  flag if it finds such a thing
p10657
aVIn , we see this:
p10658
aVSo  is an internal reference for the Ruby  iterator method
p10659
aVAnd in , we have this:
p10660
aVSo this:
p10661
aVIs calling  (with, essentially, the default argument) on whatever is in
p10662
aVSo, the end result of the first  and  blocks is that  is either full of arrays or full of enumerators rather than possibly being a mix of the two
p10663
aVBut note how the logic works: if something is found that isn't an array, then everything becomes an enumerator
p10664
aVThe first part of the  function will wrap arrays in enumerators (which is essentially free or at least cheap enough not to worry about) but won't expand enumerators into arrays (which could be quite expensive)
p10665
aVEarlier versions might have gone the other way (prefer arrays over enumerators), I'll leave that as an exercise for the reader or historians
p10666
aVThe next part:
p10667
aVCreates a new empty array and leaves it in  if  is being called without a block
p10668
aVAnd here we should note what  returns:
p10669
aVIf there is a block, then there is nothing to return and  can stay as ; if there isn't a block, then we need an array in  so that an array can be returned
p10670
aVFrom , we see that  is a double-dot range but it looks like they're just using the new node as a simple three element struct;  just allocates an object, sets some bits, and assigns three values in a struct:
p10671
aVis just a bit fiddling macro
p10672
aVNow we have  as just a three element struct
p10673
aVThis use of  appears to be a convenient kludge
p10674
aVThe  function appears to be the core internal iterator
p10675
aVAnd we see our friend  again so we'll be doing an  iteration
p10676
aVThen we see a choice between  and ; this is where the inner arrays are created and pushed onto
p10677
aVThe only difference between  and  appears to be the StopIteration exception handling in
p10678
aVAt this point we've done the zipping and we either have the array of arrays in  (if there was no block) or we have  in  (if there was a block)
p10679
aVExecutive Summary: The first loop explicitly avoids expanding enumerators into arrays
p10680
aVThe  and  calls will only work with non-temporary arrays if they have to build an array of arrays as a return value
p10681
aVSo, if you call  with at least one non-array enumerator and use the block form, then it is enumerators all the way down and the  "problem with zip is that it creates arrays internally" does not happen
p10682
aVReviewing 1
p10683
aV8 or other Ruby implementations is left as an exercise for the reader
p10684
as(dp10685
g10
V479863
p10686
stp10687
a((dp10688
g2
(lp10689
VDon't use  at all for this sort of thing,  is best for running an external command that you don't need to talk to
p10690
aVUse  or  to open up some pipes to your external process then write to the  pipe just like writing to any other IO channel; if there is any output to deal with, then you can read it straight from the  pipe just like reading from any other input IO channel
p10691
as(dp10692
g10
V479863
p10693
stp10694
a((dp10695
g2
(lp10696
VIf the input follows exactly that format then you can get away with a pretty loose regex
p10697
aVYou just need to ignore everything except the parts you want to extract and then employ non-greedy expressions to eat up all the garbage between them:
p10698
aVYou can use a non-greedy  to eat up all the extra markup because nothing in there will match your next  pattern
p10699
aVYou don't really need the  bit on the end, that's mostly for symmetry and a bit of extra paranoia
p10700
aVSomething like this is probably one of the few cases where using regular expressions to rip apart HTML makes sense
p10701
aVYou could do this sort of thing with an HTML parser but then you'd be a nightmare of twisty XPath expressions (all of which look alike), DOM manipulations, or SAX events
p10702
aVAnd you might even get eaten by a grue
p10703
as(dp10704
g10
V479863
p10705
stp10706
a((dp10707
g2
(lp10708
VAre you looking for something like this
p10709
aVExample: http://jsfiddle
p10710
aVnet/ambiguous/AQdY8/
p10711
aVNote that jQuery's  selector matches the CSS version:
p10712
aVThe  pseudo-class notation represents an element that has  siblings before it in the document tree, for any positive integer or zero value of , and has a parent element
p10713
aVA side effect of this is that it indexes from 1 rather than 0 as the other jQuery selectors:
p10714
aVBecause jQuery's implementation of  is strictly derived from the CSS specification, the value of  is "1-indexed", meaning that the counting starts at 1
p10715
as(dp10716
g10
V479863
p10717
stp10718
a((dp10719
g2
(lp10720
VSounds like you have a caching problem
p10721
aVThe first image is fetched from the server but when the images without the path changing, the browser will pull the image out of its cache and you'll see the old one even though the server has the new one
p10722
aVThe simplest and most reliable way I've found for cache-busting is to append a random number in a CGI parameter to the image's URL:
p10723
aVYou might need to adjust your server configuration to ignore the  but it should do that on its own
p10724
aVYou could also try playing with the  HTTP header on your server for the images in question
p10725
aVSetting:
p10726
aVshould do it but the cache-busting URL kludge is more fool proof
p10727
aVIncluding the  header for temporary images is still a good idea though
p10728
as(dp10729
g10
V479863
p10730
stp10731
a((dp10732
g2
(lp10733
VYou should use the  function:
p10734
aVMySQL should automatically convert  to a string type for you
p10735
aVMySQL is trying to convert your strings to numbers (and silently failing) when you use :
p10736
as(dp10737
g10
V479863
p10738
stp10739
a((dp10740
g2
(lp10741
VYou should be able to use the  trick:
p10742
aVThe  utility just runs its arguments as a normal command, it is usually used to perform  searches for things in the shebang
p10743
as(dp10744
g10
V479863
p10745
stp10746
a((dp10747
g2
(lp10748
VThe  implementation in 1
p10749
ag2963
aV7 looks like this (see ):
p10750
aVWhereas the 1
p10751
ag2959
aV2 implementation (see ) looks like this:
p10752
aVIf you strip away all the busy work of initializing , then you're left with (more or less) this:
p10753
aVSo the real difference is the 1
p10754
ag2959
aV2's  caches the generated Procs while 1
p10755
ag2963
aV7 generates a brand new one every single time you call
p10756
aVThe performance difference between these two will be magnified by any benchmarking you do unless each iteration is done in a separate process; however, one iteration per-process would mask what you're trying to benchmark with the start-up cost
p10757
aVThe guts of  look pretty much the same (see  for 1
p10758
ag2963
aV7 or  for 1
p10759
ag2959
aV2) but 1
p10760
ag2959
aV2 might benefit slightly from any performance improvements in
p10761
aVThe caching is probably the big performance difference
p10762
aVIt is worth noting that the symbol-to-hash cache is a fixed size (67 entries but I'm not sure where 67 comes from, probably related to the number of operators and such that are commonly used for symbol-to-proc conversions):
p10763
aVIf you use more than 67 symbols as procs or if your symbol IDs overlap (mod 67) then you won't get the full benefit of the caching
p10764
aVThe Rails and 1
p10765
aV9 programming style involves a lot of shorthands like:
p10766
aVrather than the longer explicit block forms:
p10767
aVGiven that (popular) programming style, it makes sense to trade memory for speed by caching the lookup
p10768
aVYou're not likely to get a faster implementation from a gem as the gem would have to replace a chunk of the core Ruby functionality
p10769
aVYou could patch the 1
p10770
ag2959
aV2 caching into your 1
p10771
ag2963
aV7 source though
p10772
as(dp10773
g10
V479863
p10774
stp10775
a((dp10776
g2
(lp10777
VIf all you want is to make sure that you get an instance of DateTime (or a subclass), then the other "is " answers are what you want
p10778
aVHowever, you should consider being a little more forgiving of your inputs
p10779
aVWhat if someone hands you a string like "2011-06-28 23:31:11"
p10780
aVTo most people, that's a DateTime even though Ruby thinks it is an instance of String
p10781
aVIf you want to be friendlier, you could try  this:
p10782
aVOr, if you're in Rails:
p10783
aVThese approaches give you a lot of flexibility without losing anything in the process
p10784
aVBe forgiving of your input but strict in your output
p10785
aVFor reference, in Rails 3, the following have  methods:
p10786
aVDate
p10787
aVDateTime
p10788
aVTime
p10789
aVString
p10790
as(dp10791
g10
V479863
p10792
stp10793
a((dp10794
g2
(lp10795
VI think you'll need to do it like this:
p10796
aVHTML encode the string
p10797
aVPerform your substitution
p10798
aVMark the final result as HTML safe
p10799
aVAdd a helper something like this:
p10800
aVAnd then in your ERB:
p10801
aVERB uses  to encode HTML so using it yourself makes sense if you're targeting ERB
p10802
aVCalling  on a string returns you something that ERB will leave alone when it is HTML encoding things
p10803
aVNote that there is no usable  on strings and  returns an ActiveSupport::SafeBuffer rather than a String so you'll have to use a helper rather than monkey patching a new method into String
p10804
aVActiveSupport does patch an  method into String but all it does is raise an exception saying "don't do that":
p10805
as(dp10806
g10
V479863
p10807
stp10808
a((dp10809
g2
(lp10810
VYour inner function:
p10811
aVis actually a closure on  so when it is executed,  will evaluate to its last value in the loop (i
p10812
ag785
ag1987
aVLooks like you just need a bit of closure busting:
p10813
aVAnd then:
p10814
aVKeep in mind that CoffeeScript is just JavaScript with different makeup so it suffers from a lot of the same problems (as does any language with closures) and those problems have the same solutions
p10815
as(dp10816
g10
V479863
p10817
stp10818
a((dp10819
g2
(lp10820
VIf  contains ActiveRecord objects (or any other objects that have accessor methods that match up with your column names), then you could use :
p10821
aVOr equivalently:
p10822
aVOr, if that's too noisy:
p10823
as(dp10824
g10
V479863
p10825
stp10826
a((dp10827
g2
(lp10828
VProbably the safest thing to do is to do it manually in the ERB:
p10829
aVOr in Rails 2:
p10830
aVThis way you don't have to worry about possible HTML issues the  entries
p10831
as(dp10832
g10
V479863
p10833
stp10834
a((dp10835
g2
(lp10836
VLooks like your scaling is off for your preview
p10837
aVBoth your editing area and your preview appear to be the same size (~100px) but your JavaScript is set up for an editing area that is 300px square and a preview area that is 100px square; this means that your preview comes out 3 times wider than it should be and you end up with a too-large preview that is also clipped
p10838
as(dp10839
g10
V479863
p10840
stp10841
a((dp10842
g2
(lp10843
VThe standard  method is your friend, if  contains DateTime keys and events as values, then:
p10844
aVAnd you'll end up with 24 entries in , each entry will be an array, and the non-empty ones will contain the events
p10845
aVYou'll want to use the block form of  so that you get distinct arrays as the default values
p10846
aVAnd if you want to group the hours into two hour spans:
p10847
aVAnd then you can convert the indices of  to time ranges on output with little effort
p10848
aVFurther generalizations are left as an exercise for the reader
p10849
aVIf you're stuck with 1
p10850
aV8 and you're not in a Rails environment, then you can get the same results with :
p10851
aVBut the argument order for the block is different and the block has to return the array
p10852
as(dp10853
g10
V479863
p10854
stp10855
a((dp10856
g2
(lp10857
VYou could put the  on the outer  and then use that to effect the rollovers on the inner s
p10858
aVFor example:
p10859
aVAnd some CSS:
p10860
aVAnd an example: http://jsfiddle
p10861
aVnet/ambiguous/3bXhA/
p10862
as(dp10863
g10
V479863
p10864
stp10865
a((dp10866
g2
(lp10867
VHave you tried
p10868
aVThat should work the same everywhere but I can't check IE right now, :
p10869
aVThis value causes an element to not appear in the formatting structure (i
p10870
ag785
aV, in visual media the element generates no boxes and has no effect on layout)
p10871
aVDescendant elements do not generate any boxes either; the element and its content are removed from the formatting structure entirely
p10872
aVThis behavior cannot be overridden by setting the 'display' property on the descendants
p10873
aVPlease note that a display of 'none' does not create an invisible box; it creates no box at all
p10874
ag3892
aVEmphasis mine
p10875
aVHere's a quick example if you want to check for yourself: http://jsfiddle
p10876
aVnet/ambiguous/ZrzWz/
p10877
as(dp10878
g10
V479863
p10879
stp10880
a((dp10881
g2
(lp10882
VSounds like you're looking for :
p10883
aVThe  method is the same as , except that  keeps all jQuery data associated with the removed elements
p10884
aVThis method is useful when removed elements are to be reinserted into the DOM at a later time
p10885
aVYou'd do something like this:
p10886
aVThis will remove the elements from their original parent document though
p10887
as(dp10888
g10
V479863
p10889
stp10890
a((dp10891
g2
(lp10892
VFrom the fine manual:
p10893
aV$ua->get( $url )
p10894
aV$ua->get( $url , $field_name => $value,
p10895
ag1987
aVThis method will dispatch a GET request on the given $url
p10896
aVFurther arguments can be given to initialize the headers of the request
p10897
aVEmphasis mine
p10898
aVYou're misreading the documentation, the extra parameters for  are HTTP header fields, not CGI parameters
p10899
aVIf you want to include some CGI parameters then you'll have to add them to the URI yourself (preferably with URI)
p10900
as(dp10901
g10
V479863
p10902
stp10903
a((dp10904
g2
(lp10905
VYou have a few problems in your  handler:
p10906
aVFirst of all, there is no  function visible where you're trying to use it
p10907
aVSecond,  is a DOM object that doesn't have a  method
p10908
aVIf you want to change the background color when someone clicks on the button itself, then you can use  right in the change handler:
p10909
aVFor example: http://jsfiddle
p10910
aVnet/ambiguous/V8c3e/
p10911
aVIf you want the background to change if they click anywhere in the table cell, then bind a click handler right to the table cell:
p10912
aVFor example: http://jsfiddle
p10913
aVnet/ambiguous/V8c3e/1/
p10914
as(dp10915
g10
V479863
p10916
stp10917
a((dp10918
g2
(lp10919
VWhat happens when  is -1
p10920
aVWell, when  is -1, you're left with:
p10921
aVHow does  end up being -1
p10922
aVWell, any time that  doesn't contain a colon or period:
p10923
aVIn particular,  will be  when  is 1352
p10924
aVYou need an  branch on your final  to handle the case when there is no colon or period
p10925
as(dp10926
g10
V479863
p10927
stp10928
a((dp10929
g2
(lp10930
VYour problem is that when you say this:
p10931
aVYou're not altering the  inside the function, you're just changing the value of the  property in
p10932
aVThen, when you say this:
p10933
aVThe inner  function will be using the (uninitialized)  inside the outer function
p10934
aVYou'll need to add a  function:
p10935
aVAnd make sure you don't leave that trailing comma in your return object, most (all
p10936
aVversions of IE get upset about that
p10937
aVAnd then, elsewhere:
p10938
aVDepending on your target browsers and versions, you could define getter and setter functions for the properties on your returned object:
p10939
aVexample
p10940
aVexample
p10941
aVBut using an explicit mutator function will work everywhere
p10942
as(dp10943
g10
V479863
p10944
stp10945
a((dp10946
g2
(lp10947
VAre you really interested in a click event or have you just been using the click event where you're really looking for the change event:
p10948
aVThe change event is sent to an element when its value changes
p10949
aVThis event is limited to  elements,  boxes and  elements
p10950
as(dp10951
g10
V479863
p10952
stp10953
a((dp10954
g2
(lp10955
V is not a class method, it is a simple function
p10956
aVYou want to call it like this:
p10957
aVWhen you call it with the , your  will end up with three values: your two for the hash and the class name at the beginning
p10958
aVThe result of calling it as a class method will be something like this:
p10959
aVAnd that's where your "odd number of elements in hash assignment" error comes from
p10960
as(dp10961
g10
V479863
p10962
stp10963
a((dp10964
g2
(lp10965
VGo backwards from  to look for  as an ancestor using :
p10966
aVDepending on your HTML structure, this will be faster than searching all the children of  to find
p10967
aVThe speed difference probably won't matter that much though but you should be aware of the option of going backwards and the possible benefits of doing so
p10968
aVChecking for the ancestor might be a better match for your intent as well: you have  in hand and what you really want to know is "is it inside
p10969
aVUsing  to go back up the DOM tree exactly matches the question you're asking
p10970
aVIf for some reason you're dead set on starting at  and looking at its descendants, then you can use :
p10971
aVBut this approach will only work if you're using at least jQuery 1
p10972
ag3973
as(dp10973
g10
V479863
p10974
stp10975
a((dp10976
g2
(lp10977
VI think your problem is right here:
p10978
aVThe  switch probably wants to know where the  script is rather than were  is
p10979
aVYou should have a  script somewhere under  (probably), it should produce a big pile of stuff like this:
p10980
aVwhen you run it
p10981
aVThe  script tells you (or whoever is asking) where the various header files and libraries are and which compiler flags are needed
p10982
aVThe "Exec format error" error message is the give away
p10983
aVThat sounds like you're trying to execute something that the OS doesn't know how to execute and I wouldn't expect OSX to know how to execute some arbitrary configuration file
p10984
as(dp10985
g10
V479863
p10986
stp10987
a((dp10988
g2
(lp10989
VYou should avoid writing whole structures to disk and reading them back in again
p10990
aVYou'll run into problems with different architectures and, as you've noticed, pointers and variable length data structures
p10991
aVInstead, marshal the data by hand on output and put it back together when you read it
p10992
aVIn your specific case, instead of writing a , you want to write three things:
p10993
aVThe  (choose your size and byte order and stick to it)
p10994
aVThe length of  (in the same format as above)
p10995
aVThe actual bytes of
p10996
aVThen, when you're reading the data back in, read in the  and rearrange its bytes to match the local byte order
p10997
aVThen read the length (in the same way as )
p10998
aVNow you know how big the  is so you can allocate your memory and slurp it off the disk with a single call to
p10999
aVOh and don't cast the return value of , there's no need for it and it can hide problems
p11000
aVInstead, just say this:
p11001
as(dp11002
g10
V479863
p11003
stp11004
a((dp11005
g2
(lp11006
VWhy not bind to the form's submit event instead of the hover
p11007
aVIf you do something like this:
p11008
aVThen you'll clear out the default example values right before the form is submitted
p11009
aVYou will, of course, have to supply a real selector in place of
p11010
as(dp11011
g10
V479863
p11012
stp11013
a((dp11014
g2
(lp11015
VThere is the global  callback:
p11016
aVWhenever an Ajax request completes successfully, jQuery triggers the  event
p11017
aVAny and all handlers that have been registered with the  method are executed at this time
p11018
aVThat will let you call your own function on every successful AJAX call without interfering with the usual success callbacks
p11019
aVThere are various other global AJAX event handlers that you might want to look at too
p11020
aVIf those callbacks don't have the right timing or capabilities for you, then you could write your own wrapper for  and use that:
p11021
aVYou can do whatever you need to the usual success callback parameters before calling the original success callback
p11022
aVYou'd call  in exactly the same way as
p11023
aVYou could use the same technique to hook into the other callbacks as well
p11024
as(dp11025
g10
V479863
p11026
stp11027
a((dp11028
g2
(lp11029
VI think your problem is that a single option object can only be in one  at a time
p11030
aVYour first trip through the loop fills the first select, then your second trip through the loop moves the options from the first  to the second
p11031
aVRinse and repeat until your final  ends up with all the options
p11032
aVThe solution is to create the options when you're about to add them to the
p11033
aVYour first loop should just build an array to hold the values and labels, then expand that simple data to option DOM elements and hand them over to the
p11034
aVThis will create a unique set of option objects for each
p11035
aVHere's a simple example that you can play with to see what's going on:
p11036
aVhttp://jsfiddle
p11037
aVnet/ambiguous/9WuQC/
p11038
aVI'll include the fiddle inline for future reference; the HTML:
p11039
aVAnd JavaScript:
p11040
as(dp11041
g10
V479863
p11042
stp11043
a((dp11044
g2
(lp11045
VThe example that you're linking to says this:
p11046
aVNote the  in there that you're not using
p11047
aVI suspect that  is trying to parse the  as an option to  rather than an option to the gem itself
p11048
aVJust a plain  in an option list means "stop parsing options here" so try one of these:
p11049
aVOne of those should keep  from trying to interpret  as a  option and get it down to the pg gem itself
p11050
as(dp11051
g10
V479863
p11052
stp11053
a((dp11054
g2
(lp11055
VThis:
p11056
aVdoesn't do what you think it does
p11057
aVFrom the fine manual:
p11058
aVChanges permission bits on the named file(s) to the bit pattern represented by
p11059
aVEmphasis mine
p11060
aVFile modes are generally specified in octal as that nicely separates the bits into the three Unix permission groups (owner, group, other):
p11061
aVSo you're not actually setting the file to full access, you're setting the permission bits to 01411 which comes out like this:
p11062
aVrather than the
p11063
aVthat you're expecting
p11064
aVNotice that your (decimal) 777 permission bitmap has removed write permission
p11065
aVAlso, deleting a file requires write access to the directory that the file is in (on Unixish systems at least) so check the permissions on the directory
p11066
aVAnd finally, you might want to check the return value from :
p11067
ag3892
aVReturns the number of files processed
p11068
aVJust because you call doesn't mean that it will succeed
p11069
as(dp11070
g10
V479863
p11071
stp11072
a((dp11073
g2
(lp11074
VLooks like you're not properly encoding your image names in the  attribute
p11075
aVI'd guess that you have a file with a name like this:
p11076
aVBut when you have this:
p11077
aVThe filename looks like this:
p11078
aVbecause everything after the first  is considered to be part of the query string
p11079
aVReplacing the slashes with hyphens is not good enough, you're still leaving all sorts of holes for confusion and nefarious intent
p11080
aVInstead, you should generate the image file names completely, something like  where  is the image's ID in your database
p11081
aVThen, store the original filename in your database and only show that filename (properly encoded
p11082
aVto people, don't use it in your local file system
p11083
aVA quick fix would be to properly URL encode your  attributes
p11084
aVBut you really should fix up how you handle the images or you will leave yourself open to all sorts of trouble
p11085
as(dp11086
g10
V479863
p11087
stp11088
a((dp11089
g2
(lp11090
VDo you really need to have two arrays
p11091
aVYou could get by with just one:
p11092
aVAnd then end of that, your  calls will have left  empty but that may not be a problem
p11093
aVAs far as your:
p11094
aVapproach goes, the problem is that you're calling  on the  array when you interpolate it as  and that just mashes all the individual strings in  together as one big pile of "not what you want"
p11095
aVSimilarly for
p11096
aVAnd  isn't what you want as you're not doing anything with the  return values
p11097
aVHowever, you could do this:
p11098
aVOr use :
p11099
aVThat one would leave  intact
p11100
as(dp11101
g10
V479863
p11102
stp11103
a((dp11104
g2
(lp11105
VIf you only have two, then just repeat them and maybe format your code to make the repeat obvious:
p11106
aVAnything else will just be a bunch of extra noise that serves no useful purpose
p11107
aVAnyone that looks at the above will immediately know what's going on with barely a thought and that's an indicator of good clean code
p11108
aVYou could probably come up with something clever using the  constructor or possibly a Hash with a default value but that would be a waste of cleverness
p11109
aVCleverness is in limited supply so you should save it for special occasions when it is really needed
p11110
as(dp11111
g10
V479863
p11112
stp11113
a((dp11114
g2
(lp11115
VMySQL treats blobs the same as strings (more or less):
p11116
aVvalues are treated as binary strings (byte strings)
p11117
aVThey have no character set, and sorting and comparison are based on the numeric values of the bytes in column values
p11118
aVSo all the usual string functions work on blobs
p11119
aVIn particular, you can use  to grab just part of of a blob
p11120
aVThat said, storing a multi-gigabyte data file in a relational database as a BLOB isn't the best thing to do
p11121
aVYou'd be better off storing the file's metadata in the database and leaving the file itself in the file system; file systems are pretty good at managing files, relational databases are good at handling structured data
p11122
as(dp11123
g10
V479863
p11124
stp11125
a((dp11126
g2
(lp11127
VThere's nothing particularly wrong about calling a class method from an instance method
p11128
aVDepending on your intent and how you want people to subclass your Monster, you might want to use this:
p11129
aVSo that subclasses can provide their  class method
p11130
as(dp11131
g10
V479863
p11132
stp11133
a((dp11134
g2
(lp11135
VHere's a (possibly) better mini-tutorial on how to get directly into the guts of your MongoDB
p11136
aVThis might not solve your specific problem but it should get you as far as the MongoDB version of
p11137
aVFirst of all, you'll want a  object
p11138
aVIf
p11139
aVyou're using MongoMapper then you can call the
p11140
aVclass method on any of your MongoMapper models to get a connection
p11141
aVor ask MongoMapper for it directly:
p11142
aVOtherwise I guess you'd use the  constructor to build
p11143
aVyour own connection
p11144
aVThen you need to get your hands on a database, you can do this
p11145
aVusing the array access notation, the  method, or get
p11146
aVthe current one straight from MongoMapper:
p11147
aVNow you have a nice shiny  instance in your hands
p11148
aVBut, you probably want a  to do anything interesting
p11149
aVand you can get that using either array access notation or the
p11150
aVmethod:
p11151
aVNow you have something that behaves sort of like an SQL table so
p11152
aVyou can  how many things it has or query it using :
p11153
aVAnd now you have what you're really after: a hot out of the oven
p11154
aVthat points at the data you're interested in
p11155
aVis
p11156
aVan  so you have access to all your usual iterating
p11157
aVfriends such as , , , and one of my personal
p11158
aVfavorites, :
p11159
aVThere are also  and  methods on  that might do what you want
p11160
as(dp11161
g10
V479863
p11162
stp11163
a((dp11164
g2
(lp11165
VIncluding function definitions (as opposed to declarations) in header files is generally a bad idea and now you know why
p11166
aVYou want two separate files, the header would look like this:
p11167
aVAnd then a  file (or possibly a  file if you want to use Objective-C rather than plain C) like this:
p11168
aVThe header file will let the compiler know what  is, what it returns, and what arguments it should take; that's enough information for the compiler to arrange a call to ; that's actually more information than the compiler needs but some of us like our compilers to do some error checking
p11169
aVThe C source file will (after being compiled into a object file) let the linker know what code the  symbol resolves to
p11170
aVRight now you're ending up with multiple globally visible instances of the  symbol, one for every file that has included your
p11171
as(dp11172
g10
V479863
p11173
stp11174
a((dp11175
g2
(lp11176
VHave a look at your XML:
p11177
aVSo  contains a list of  elements
p11178
aVThat would naturally be represented as an array, not a hash
p11179
aVThen, you do this:
p11180
aVAnd that is equivalent to this:
p11181
aVSo  ends up with the contents of
p11182
aVAs noted above,  is just a container for a list of  elements and your XML mangler is probably converting that list to the most natural representation of a list, that would give you an instance of Array rather than a Hash
p11183
aVYou don't want to iterate over  as a Hash, iterate over it as an Array instead
p11184
aVYou'll probably face the same situation with the inner  elements
p11185
as(dp11186
g10
V479863
p11187
stp11188
a((dp11189
g2
(lp11190
VSounds like you are looking for gdbm:
p11191
aVThe gdbm module provides an interface to the GNU DBM library
p11192
aVgdbm objects behave like mappings (dictionaries), except that keys and values are always strings
p11193
aVThat's basically a dictionary on disk
p11194
aVYou might have to do a bit of serialization depending on your use
p11195
as(dp11196
g10
V479863
p11197
stp11198
a((dp11199
g2
(lp11200
VYou can't add arguments to the callback function like that
p11201
aVHowever, you can generate a wrapper function
p11202
aVThe JSONP callback function just was to be a function in the default namespace, that means that you just need to add a generated function with a known name to the global  object
p11203
aVStep one is to make up a name:
p11204
aVIn the real world you'd want to wrap that in a loop and check that  isn't already taken; you could use  to check
p11205
aVOnce you have a name, you can build a function:
p11206
aVYou'd want to that up a little bit more though:
p11207
aVOnce you have something like that wired up, you could just call:
p11208
aVAnd then use the value of  as the  value in the YouTube URL
p11209
aVYou could build more functions like this to handle longer arguments lists too
p11210
aVOr you could build a general purpose one with  and
p11211
as(dp11212
g10
V479863
p11213
stp11214
a((dp11215
g2
(lp11216
VThat isn't a Ruby Hash, that's a fragment of a JSON string
p11217
aVFirst you need to decode into a Ruby data structure:
p11218
aVNow you'll have a Hash in  so you can access it like any other Hash:
p11219
as(dp11220
g10
V479863
p11221
stp11222
a((dp11223
g2
(lp11224
VThis:
p11225
aVis a string literal, not a column name
p11226
aVSo this:
p11227
aVwon't match anything unless , , or  happen to be the string
p11228
aVTry dropping the quotes on the column name:
p11229
as(dp11230
g10
V479863
p11231
stp11232
a((dp11233
g2
(lp11234
VI think you'll have to use a trigger to enforce your cross-column uniqueness constraint
p11235
aVIf you add unique indexes on each column and then a trigger something like this (untested off the top of my head code):
p11236
aVYou'd want something like that as a BEFORE INSERT and BEFORE UPDATE trigger
p11237
aVThat trigger would take care of catching cross-column duplicates and the unique indexes would take care of in-column duplicates
p11238
aVSome useful references:
p11239
aVTrigger Procedures
p11240
aVYou'll want the individual indexes for your queries anyway and using the uniqueness half of the indexes simplifies your trigger by leaving it to only deal with the cross-column part; if you try to do it all in the trigger, then you'll have to watch out for updating a row without really changing the  or  columns
p11241
aVFor the querying half, you could create a view that used a  to combine the two columns
p11242
aVYou could also create a function to merge the user's email addresses into one list
p11243
aVHard to say which would be best without know more details of these other queries but I suspect that fixing all the other queries to know about  and  would be the best approach; you'll have to update all the other queries to use the view or function anyway so why build a view or function at all
p11244
as(dp11245
g10
V479863
p11246
stp11247
a((dp11248
g2
(lp11249
VThe easiest thing would be to do a set intersection and see what you get from that:
p11250
aVThat would, of course, fail if  had duplicates as the intersection will automatically compress those
p11251
aVBut we have  to take care of that:
p11252
aVIf you're expecting duplicates in your arrays then you'd be better off working with instances of Set rather than arrays:
p11253
aVOr use  to better match your intentions:
p11254
aVUsing sets will take care of your duplicate issues with less noise than having to use  all the time
p11255
aVThere would, of course, be a bit of extra overhead but you should optimize for clarity before performance (make it work then make it fast only if it is too slow)
p11256
as(dp11257
g10
V479863
p11258
stp11259
a((dp11260
g2
(lp11261
VYou're trying to print the addresses of your floats as floats, you just want to say this:
p11262
aVNote the lack of an address () operator on
p11263
aVYou want to apply similar changes to your other  calls
p11264
as(dp11265
g10
V479863
p11266
stp11267
a((dp11268
g2
(lp11269
VYou can use the  function:
p11270
aVReturn value most recently obtained with  for any sequence
p11271
aVSo something like this:
p11272
aVThis will work fine as long as no one calls  on any other sequence (in the current session) between your INSERTs
p11273
aVAs Denis noted below and I warned about above, using  can get you into trouble if another sequence is accessed using  between your INSERTs
p11274
aVThis could happen if there was an INSERT trigger on  that manually called  on a sequence or, more likely, did an INSERT on a table with a  or  primary key
p11275
aVIf you want to be really paranoid (a good thing, they really are you to get you after all), then you could use  but you'd need to know the name of the relevant sequence:
p11276
aVThe automatically generated sequence is usually named  where  is the table name and  is the column name but you can always find out by going into  and saying:
p11277
aVand then looking at the default value for the column in question, for example:
p11278
aVFYI:  is, more or less, the PostgreSQL version of MySQL's
p11279
aVI only mention this because a lot of people are more familiar with MySQL than PostgreSQL so linking  to something familiar might clarify things
p11280
as(dp11281
g10
V479863
p11282
stp11283
a((dp11284
g2
(lp11285
VYou're trying to take the address of one of the  arguments and that doesn't do what you think it does;  is just the address of a local variable, it won't let you modify the  in
p11286
aVInstead, pass a  into  like this:
p11287
aVAlso,  is deprecated:
p11288
aVThis is a legacy interface that is preserved for backwards compatibility
p11289
aVUse of this interface is not recommended
p11290
aVSo you might want to start using  instead
p11291
as(dp11292
g10
V479863
p11293
stp11294
a((dp11295
g2
(lp11296
VYou don't need to join to  for this, you just need a GROUP BY and a LIMIT:
p11297
aVThe GROUP BY tells the COUNT which groups it should count; in this case, it should collect up the blogs for each  and count those as a single group
p11298
as(dp11299
g10
V479863
p11300
stp11301
a((dp11302
g2
(lp11303
VYou could try adjusting the randomness using a CASE:
p11304
aVWhere  and  are weighting factors
p11305
aVThen you'd add a LIMIT clause to chop off the results at your desired size
p11306
aVThat won't guarantee your desired proportions but it might be good enough for your purposes
p11307
aVYou'd want to play with the weighting factors ( and  above) a bit to get the results you want
p11308
aVThe weighting factors would depend on frequencies of  and  in your database so 0
p11309
aV2 and 0
p11310
aV8, for example, might work better
p11311
aVAs Chris notes in the comments, 0
p11312
aV4 and 0
p11313
aV6 would only work if you have a 50/50 split between BMW and Audi
p11314
aVPutting the weights in a separate table would make this approach easier to maintain and the SQL would be prettier
p11315
as(dp11316
g10
V479863
p11317
stp11318
a((dp11319
g2
(lp11320
VYou have a couple problems in that code
p11321
aVFirst of all, you need a comma after your format string:
p11322
aVNow that we have some syntactically valid source code, we can move on to your real problem
p11323
aVThe  format string for  expects to be given an integer but you're giving it a non-numeric string
p11324
aVWhen the string value of  is converted to an integer, you'll get zero
p11325
aVThe fix for this is easy, you just need to properly initialize :
p11326
aVThe "0x" prefix tells Perl that you're writing the number as hex; similarly, a zero prefix (e
p11327
ag1985
aV) indicates octal
p11328
aVNow you have a hexadecimal string representation of your 0xDEADBEEF integer
p11329
aVIf you just want to copy four bytes from one resource fork to another, then you're better off using  to read four raw bytes and then use  to write those bytes to the other resource fork
p11330
aVYou might want to have a look at  if you're slinging bags'o'bytes around
p11331
aVAFAIK, the resource fork wants four bytes rather than an eight byte human readable hexadecimal representation of a four byte integer
p11332
as(dp11333
g10
V479863
p11334
stp11335
a((dp11336
g2
(lp11337
VI don't see the dm-sqlite-adapter gem in that list
p11338
aVTry installing it
p11339
as(dp11340
g10
V479863
p11341
stp11342
a((dp11343
g2
(lp11344
VThe problem is that the  elements inside your menu are floated to the left and your logo is inside a
p11345
aVA  is an inline element rather than a block so the  elements float right past it on their way to the left side
p11346
aVIf you wrap your logo in a  or set  on the , you'll get your pieces in the right places
p11347
aVExample: http://jsfiddle
p11348
aVnet/ambiguous/Ekra4/1/
p11349
as(dp11350
g10
V479863
p11351
stp11352
a((dp11353
g2
(lp11354
VIn C or C++ you'd use  to get rid of some of your loops
p11355
aVInstead of this:
p11356
aVDo this:
p11357
aVDon't use the normal modulus operator () as that's for integers and won't do the right thing with floating point values
p11358
aVYou're first loop:
p11359
aVCan be replaced with just this:
p11360
aVBut I think you should rethink that part of your algorithm, there's no point in comparing the angles before you normalize them to the [0,360) interval
p11361
as(dp11362
g10
V479863
p11363
stp11364
a((dp11365
g2
(lp11366
VSwitch to PDO and use prepared statements with placeholders for everything
p11367
as(dp11368
g10
V479863
p11369
stp11370
a((dp11371
g2
(lp11372
VI'm going to guess that you're using 1
p11373
ag2963
aVIn 1
p11374
aV8,  says this:
p11375
aVAnd that matches what you're seeing
p11376
aVBut, if you add yet another backslash, you get what you're after:
p11377
aVThe quadruple backslash approach produces the same singly-escaped ampersand for me in both 1
p11378
ag2959
aV2 and 1
p11379
ag2963
aV7 so turn it up to four (not eleven, just four will do)
p11380
as(dp11381
g10
V479863
p11382
stp11383
a((dp11384
g2
(lp11385
VThis:
p11386
aVIs automatically encoding  for use in HTML, that's why your double quotes are being converted to
p11387
aVTry using  instead:
p11388
aVAlso,  returns a data structure that is ready for conversion to JSON,  returns the actual JSON string so you might want to fix that up while you're at it; for example:
p11389
as(dp11390
g10
V479863
p11391
stp11392
a((dp11393
g2
(lp11394
VThe  function is used to:
p11395
aVMerge the contents of two or more objects together into the first object
p11396
aVSo this:
p11397
aVIs just merging the contents of the object literal into
p11398
aVUsing  like this just really just another way of doing the normal/standard assignment:
p11399
as(dp11400
g10
V479863
p11401
stp11402
a((dp11403
g2
(lp11404
VIf you put  first then it will work (as noted by cellcortex)
p11405
aVYou can also use  if you can neatly separate your  from ; for example, if your  values are numeric, then something like this should work:
p11406
aVIn a simple case like yours, putting things in the right order will work fine
p11407
aVHowever, if your routing is more complicated, then the  approach might work better and avoid a some confusion and chaos
p11408
as(dp11409
g10
V479863
p11410
stp11411
a((dp11412
g2
(lp11413
VYour problem is that you're not using the block form of  so  and similar globals are not set as you think they are
p11414
aVFrom the fine manual:
p11415
aVIf replacement is a String it will be substituted for the matched text
p11416
aVIt may contain back-references to the pattern\u2018s capture groups of the form , where d is a group number, or , where n is a group name
p11417
aVIf it is a double-quoted string, both back-references must be preceded by an additional backslash
p11418
aVHowever, within replacement the special match variables, such as &$, will not refer to the current match
p11419
aVAnd:
p11420
aVIn the block form, the current match string is passed in as a parameter, and variables such as , , , and  will be set appropriately
p11421
aVThe value returned by the block will be substituted for the match on each call
p11422
aVBolding mine
p11423
aVAlso, I left out the backtick global:
p11424
aVTo avoid problems with the Markdown (if anyone knows how to get a backtick in an inlined code block I'd appreciate a pointer)
p11425
aVIf you do this instead:
p11426
aVI think you'll get the results that you're looking for
p11427
as(dp11428
g10
V479863
p11429
stp11430
a((dp11431
g2
(lp11432
VThe jqGrid plugin might be able to do what you need and it even has its own tag on SO
p11433
aVHave a look at the "Row Editing | Using Events" demo to see some inline editing
p11434
as(dp11435
g10
V479863
p11436
stp11437
a((dp11438
g2
(lp11439
VThis:
p11440
aVIs trying to set  to the literal string  not the value of the  function (AKA )
p11441
aVTry dropping the single quotes to get at the current timestamp (rather than a string):
p11442
aVMySQL tends to silently ignore errors so it is probably trying to interpret  as a date and silently failing
p11443
aVAnd I hope you're properly escaping  and friends to avoid SQL injection attacks and similar unpleasantness
p11444
as(dp11445
g10
V479863
p11446
stp11447
a((dp11448
g2
(lp11449
VYes, it is possible
p11450
aVYou could throw a bunch of elements on the page and then absolutely position them anywhere you wanted
p11451
aVYou'd have to pay attention to z-index issues to make sure your moles are on top and whackable
p11452
aVYou'd want to give each mole hole a (unique)  attribute to make them easy to reference
p11453
aVThen, you'd just need to set them to  and add  and  CSS properties to put them where you want them
p11454
aVBTW, margins on absolutely positioned elements don't do anything useful because:
p11455
aVIt is removed from the normal flow entirely (it has no impact on later siblings)
p11456
aVAn absolutely positioned box establishes a new containing block for normal flow children and absolutely (but not fixed) positioned descendants
p11457
aVHowever, the contents of an absolutely positioned element do not flow around any other boxes
p11458
aVSo get rid of the margins and use  and  to put your  elements where you want them
p11459
aVYou'd probably want to use JavaScript to position your holes, that would make it easier to account for varying page sizes
p11460
as(dp11461
g10
V479863
p11462
stp11463
a((dp11464
g2
(lp11465
VI read you question like this: you want to select the  values that are like  or  and you want to know which of the two patterns was matched
p11466
aVIf I'm right, then you want a CASE statement to generate your "which one matched" flag value, something like this:
p11467
aVThen you look at  to see which one matched, if  matched then  will be , otherwise it will be  and  matched
p11468
as(dp11469
g10
V479863
p11470
stp11471
a((dp11472
g2
(lp11473
VSee geekosaur for an explanation of your problem
p11474
aVIn a simple case like this,  might be a better call than a regular expression:
p11475
aVRegular expressions are a great tool but they shouldn't be the only thing in your toolbox
p11476
as(dp11477
g10
V479863
p11478
stp11479
a((dp11480
g2
(lp11481
VI suppose you could clean it up a bit with one variable, one lambda, and one "return as soon as possible":
p11482
aVI don't know how much better that is than your original but the logic and control flow is a lot clearer to me due to the nicer chunking
p11483
as(dp11484
g10
V479863
p11485
stp11486
a((dp11487
g2
(lp11488
VHave you considered setting up a separate table for these searches
p11489
aVMySQL's full text search only works with MyISAM tables so you probably don't want to mix that the full text search with important data (unless, of course, you have some strange distaste for foreign keys and referential integrity)
p11490
aVThe approach I've used in the past is basically this:
p11491
aVSet up a separate table with a simple (id, search_text) structure
p11492
aVThe  matches the  of the thing you're searching
p11493
aVThe  is everything (body text, title, author name,
p11494
aVthat you want to search mashed into one blob of text
p11495
aVAdd full text indexing on the search table
p11496
aVUpdate your database update process to construct the appropriate  string as plain text; this is where you would strip out the HTML and possibly apply some other mappings (such as expanding things like "A+" to something that the full text search will find)
p11497
aVWhen searching, you apply the same mappings as you apply to the searchable data and then go look in your search table for matches
p11498
aVThis solves your HTML problem, lets you search more than the HTML content easily, and allows you to tune the search results by weighting different components of the search text through repetition (e
p11499
ag1985
aVif you want tags to be more important than the body text, just add the tags two or three times when building the )
p11500
aVYou'll have to process your text to remove or ignore the HTML
p11501
aVThis approach lets you do it just once rather than doing it on every search
p11502
as(dp11503
g10
V479863
p11504
stp11505
a((dp11506
g2
(lp11507
VWhat makes you think that rubygems
p11508
aVorg supports JSONP at all
p11509
aVI don't see any mention of JSONP in the documentation and when I do this:
p11510
aVI get the same plain old JSON as I do from
p11511
aVThe only difference between the two is the  and  change but that's to be expected
p11512
aVWhen you use  in the query string, jQuery will set up a callback function and assume that the remote URL will send back JavaScript (not JSON
p11513
aVthat will call the specified function
p11514
aVSo, if the remote service sends back JSON when you're expecting JavaScript, the browser will end up trying to interpret the JSON as JavaScript and get upset because
p11515
aVis not a valid JavaScript statement
p11516
aVThis sounds exactly like the error you're seeing
p11517
aVI think you're going to have to proxy the JSON through your own server
p11518
aVYou'll need a controller on your server that makes that makes the call to get the JSON and then simply echoes it back to your JavaScript, this will get your around both the lack of JSONP support and your cross domain problem in your client
p11519
as(dp11520
g10
V479863
p11521
stp11522
a((dp11523
g2
(lp11524
VYes,  will log the right value
p11525
aVWhen you say this:
p11526
aVYou are capturing the current value of  in the local variable  and then  is captured by the callback closure
p11527
aVHowever, if you accidentally did this:
p11528
aVThen you'd be capturing the  value in the global  and each of your callbacks would share the same  and you'd have the usual closure problem
p11529
aVEach of your
p11530
aVanonymous functions are separate and distinct entities with their own separate and distinct  variables (given that you say  rather than  of course)
p11531
aVBTW, if you do end up with a billion requests per second the heat from your overworked CPUs will melt the walls between this world and the next thus releasing the elder gods from R'lyeh
p11532
aVAnd if that happens,  won't matter at all
p11533
as(dp11534
g10
V479863
p11535
stp11536
a((dp11537
g2
(lp11538
VSince this is homework, I'll just give you some pointers on how to approach your problem
p11539
aVI'll be as vague as I can so as to not interfere with your learning
p11540
aVFirst of all, don't use  if you're writing a hex dumper, use  instead
p11541
aVThe  family of functions are meant for text and hex dumpers are usually used with binary data
p11542
aVIf you use  and read just enough bytes at a time to fill one line of output, then you can produce your desired output with two  loops (one for hex, one for characters) followed by a single newline
p11543
aVAs far as your zero padding problem goes, read the  man page, your  format string needs a little bit more
p11544
as(dp11545
g10
V479863
p11546
stp11547
a((dp11548
g2
(lp11549
VThe  function simply reads from  so all you have to do is open a new  or  for reading and then assign it to
p11550
aVFor example, if you have a file called  and you do this:
p11551
aVThen you'll see the first line of  on the standard output
p11552
as(dp11553
g10
V479863
p11554
stp11555
a((dp11556
g2
(lp11557
VYou should probably accept at least a Symbol or a String as they are, in practice, used nearly interchangeably (hence ActiveSupport::HashWithIndifferentAccess)
p11558
aVDepending on your specific situation, it might make sense to call  on your  and let anything in that can be converted to a String that way
p11559
aVHowever, if it only makes sense to accept a String or Symbol then raising a TypeError is a perfectly sensible thing to do
p11560
aVBeing as flexible as possible with your inputs but strict with your outputs is usually a good idea and makes for friendly libraries
p11561
aVIf people don't read warnings then it is their own fault when things go wrong and you're well within your rights to smirk and say "I told you so"
p11562
as(dp11563
g10
V479863
p11564
stp11565
a((dp11566
g2
(lp11567
VThe  is a closure and it seems to be capturing the  and block from its outer scope
p11568
aVThis behavior does make sense as the block is, more or less, an implied argument to the outer method; you can even capture the block in a named argument if desired:
p11569
aVSo the block is part of the argument list even when it isn't named
p11570
aVConsider this simple piece of code:
p11571
aVThis produces the following for me with 1
p11572
ag2959
aV2:
p11573
aVFurthermore,  (AKA ) doesn't take a block:
p11574
aVprc === obj \u2192 result_of_proc
p11575
aVInvokes the block, with obj as the block\u2018s parameter
p11576
aVIt is to allow a proc object to be a target of when clause in the case statement
p11577
aVCompare the first line with the documentation for  (for example):
p11578
aVenum
p11579
aVchunk {|elt|
p11580
aV} \u2192 an_enumerator
p11581
aVThe  indicates that  is documented to take a block, the lack of such notation for  indicates that  does not take a block
p11582
aVThis isn't exactly an authoritative answer but maybe it clears things up a little bit
p11583
as(dp11584
g10
V479863
p11585
stp11586
a((dp11587
g2
(lp11588
VThere is the PL/Java add-on:
p11589
aVPL/Java is a free add-on module that brings Java\u2122 Stored Procedures, Triggers, and Functions to the PostgreSQL\u2122 backend via the standard JDBC interface
p11590
aVI haven't used it so I can't comment on how good it is
p11591
as(dp11592
g10
V479863
p11593
stp11594
a((dp11595
g2
(lp11596
VYou say that you're using XLib
p11597
aVI can only find two places in my  where  is used as a structure member:  and
p11598
aVIn both cases, the offending member is wrapped like this:
p11599
aVSimilar hackery appears in  to take care of the  member
p11600
aVSo you should be fine unless your C++ compiler isn't defining any of the necessary macros; but that would also break the usual  wrappers as well so the problem is most likely elsewhere
p11601
aVIf you're using a struct that isn't part of the standard XLib then you should apply the above hack by hand and have a stern discussion with the library's author (and if that's you then angrily talk to yourself for a bit and we'll pretend not to listen)
p11602
aVIf you are having trouble with the XLib structs, then try using the C++ version of the member names:
p11603
as(dp11604
g10
V479863
p11605
stp11606
a((dp11607
g2
(lp11608
VThe easiest way (IMHO of course) would be to use XPath to extract the  element:
p11609
aVNow you have just the  element (and its children) in
p11610
aVThen, to get the HTML:
p11611
aVThe trick is to extract what you want rather than trying to throw away what you don't want
p11612
aVThe end result is the same but finding one thing that you want it easier than finding a bunch of things you don't want when you have a query language at your disposal
p11613
as(dp11614
g10
V479863
p11615
stp11616
a((dp11617
g2
(lp11618
VWhich alignment technique you use depends on your circumstances but the basic one is :
p11619
aVYou'll probably want to clear your floats though but that can be done with  on the parent container or an explicit  at the bottom of the container
p11620
aVFor example: http://jsfiddle
p11621
aVnet/ambiguous/8UvVg/
p11622
as(dp11623
g10
V479863
p11624
stp11625
a((dp11626
g2
(lp11627
VThe arrow, , is a shorthand for a dot combined with a pointer dereference, these two are the same for some pointer :
p11628
aVThe arrow notation is inherited from C and C has it because the structure member accessing operator () binds looser than than the pointer dereferencing operator () and no one wants to write  all the time nor do they want to change the operator precedence to make people write  to dereference a pointer inside a structure
p11629
aVSo, the arrow was added so that you could do both  and  sensibly without the ugliness of the parentheses
p11630
as(dp11631
g10
V479863
p11632
stp11633
a((dp11634
g2
(lp11635
VDon't do it line by line, just slurp the whole thing into a string and rip it apart:
p11636
aVAnd now everything between your markers is in
p11637
aVDon't forget the  modifier on the regex
p11638
aVWhile you're mangling your input you can strip out the stray leading and trailing whitespace too:
p11639
aVAs Tudor notes below, you might want to use a non-greedy  for the group if you think there is any chance of multiple  markers; doesn't hurt to be a little paranoid when they really are you to get you
p11640
aVReferences:
p11641
aV(actually )
p11642
aVUPDATE: the  method on a string returns a MatchData object
p11643
aVThe array access operator:
p11644
aVis equivalent to the special variable , and returns the entire matched string
p11645
aV, , and so on return the values of the matched backreferences (portions of the pattern between parentheses)
p11646
aVIs used to access the matching parts
p11647
aVThere's only one group in the regex so  gets you the contents of that group without the surrounding HTML comment delimiters
p11648
as(dp11649
g10
V479863
p11650
stp11651
a((dp11652
g2
(lp11653
VYou could use  to break open the array and then some simple  and  stuff:
p11654
aVThe  and  business is just a convenient way to collapse result set to a single boolean (I'm sure there are other ways)
p11655
as(dp11656
g10
V479863
p11657
stp11658
a((dp11659
g2
(lp11660
VCould you be having a timezone problem
p11661
aVI'd guess that Heroku instances run in UTC by default because that's really the only sensible default
p11662
aVYou could try to change your Heroku timezone:
p11663
aVAlso have a look at your  setting
p11664
aVYou should also switch your development environment to PostgreSQL to match your deployment environment
p11665
as(dp11666
g10
V479863
p11667
stp11668
a((dp11669
g2
(lp11670
VOne approach is to float the fixed width column over to the left and then use a margin to simulate your other column
p11671
aVSomething like this:
p11672
aVAnd some CSS:
p11673
aVA  with its default  will naturally take up all the available width
p11674
aVThe 300px left margin leaves an open space for the fixed width column
p11675
aVExample: http://jsfiddle
p11676
aVnet/ambiguous/wdsbu/
p11677
as(dp11678
g10
V479863
p11679
stp11680
a((dp11681
g2
(lp11682
VThe  command doesn't understand  so you'll have to expand it by hand:
p11683
aVOr tell  that you want to use extended regexes:
p11684
aVWhich switch,  or , depends on your  and it might not even support extended regexes so the portable solution is to use  in place of
p11685
aVBut, since you're on Linux, you should have GNU  so  should do the trick
p11686
as(dp11687
g10
V479863
p11688
stp11689
a((dp11690
g2
(lp11691
VMy R-Fu is weak to the point of being non-existent but I think I know what's up
p11692
aVThe string handling part of the R processor has to peek inside the strings to convert  and related escape sequences into their character equivalents
p11693
aVR doesn't know what  means so it complains
p11694
aVYou want to get the escaped dot down into the regex engine so you need to get a single  past the string mangler
p11695
aVThe usual way of doing that sort of thing is to escape the escape:
p11696
aVEmbedding one language (regular expressions) inside another language (R) is usually a bit messy and more so when both languages use the same escaping syntax
p11697
as(dp11698
g10
V479863
p11699
stp11700
a((dp11701
g2
(lp11702
VThe  class method from  defines accessor and mutator methods for the named attribute:
p11703
aVSo when you say , you get these methods for free:
p11704
aVYou could use  to call the mutator method like this:
p11705
aVIf you really want to say  then you could add something like the following to your  class:
p11706
aVAnd you'd probably want the accessor version as well to maintain symmetry:
p11707
as(dp11708
g10
V479863
p11709
stp11710
a((dp11711
g2
(lp11712
VMaybe I'm missing something obvious but what's wrong with using a route like:
p11713
aVin your
p11714
as(dp11715
g10
V479863
p11716
stp11717
a((dp11718
g2
(lp11719
VFirst of all, an empty  branch in an if/else usually (but not always
p11720
aVsmells bad so don't do that, it just makes your code harder to read and understand
p11721
aVAlso, you're computing  and  twice just to get your  output
p11722
aVDon't do that either
p11723
aVAnd you might want to push most of that logic into your controller (or maybe a helper depending on where and how often it is used) to cut down on the ERB-noise
p11724
aVMaybe something like this would serve you (and whoever gets to maintain your code) better; a bit of controller stuff first:
p11725
aVAnd then in your ERB:
p11726
aVIf you're doing a lot of this sort of thing then you could add a  convenience class method in your model
p11727
aVThen your controller would just need:
p11728
aVBut I wouldn't worry about it until you start repeating yourself
p11729
aVI'm not familiar with formtastic so I can't help you with that
p11730
as(dp11731
g10
V479863
p11732
stp11733
a((dp11734
g2
(lp11735
VMixing standard DOM methods with jQuery is a bit odd and unnecessary
p11736
aVYou could just do something like this instead:
p11737
aVThis just copies the link's content to a new  and then replaces the  with the new
p11738
aVReferences:
p11739
as(dp11740
g10
V479863
p11741
stp11742
a((dp11743
g2
(lp11744
VYou're not allocating enough memory, this:
p11745
aVonly allocates  bytes (probably 4) and that's probably a lot less than you need
p11746
aVThen the  right after that will copy  bytes of data into somewhere that only has space for  bytes and you have now scribbled all over your memory and corrupted your heap
p11747
aVI'd guess that you really want to say this:
p11748
aVAnd don't cast the return value from , you don't need it and it can hide problems
p11749
as(dp11750
g10
V479863
p11751
stp11752
a((dp11753
g2
(lp11754
VI'll go out on a limb and say "no, there is no such option"
p11755
aVAFAIK, the JSON encoding is actually handled by ActiveSupport rather than ActiveRecord
p11756
aVIf you look at  for your ActiveSupport gem, you'll see a lot of monkey patching going on to add  and  methods to some core classes; the  methods are just used to flatten things like Time, Regexp, etc
p11757
aVto simpler types such as String
p11758
aVThe interesting monkey patches are the  ones, those methods are doing the real work of producing JSON and there's nothing in them for controlling the final output format; the Hash version, for example, is just this:
p11759
aVThe  just handles things like Unicode and quote escaping
p11760
aVAs you can see, the  is just mashing it all together in one compact string with no options for enabling prettiness
p11761
aVAll the complex classes appear to boil down to Hash or Array during JSONification so you could, in theory, add your own monkey patches to Hash and Array to make them produce something pretty
p11762
aVHowever, you might have some trouble keeping track of how deep in the structure you are so producing this:
p11763
aVWould be pretty straight forward but this:
p11764
aVwould be harder and, presumably, you'd want the latter and especially so with deeply nested JSON where eyeballing the structure is difficult
p11765
aVYou might be able to hang a bit of state  on the  that gets passed around but that would be getting a little ugly and brittle
p11766
aVA more feasible option would be an output filter to parse and reformat the JSON before sending it off to the browser
p11767
aVYou'd have to borrow or build the pretty printer but that shouldn't be that difficult
p11768
aVYou should be able to conditionally attach said filter only for your development environment without too much ugliness as well
p11769
aVIf you're just looking to debug your JSON based interactions then maybe the JSONovich extension for Firefox would be less hassle
p11770
aVJSONovich has a few nice features (such as expanding and collapsing nested structures) that go beyond simple pretty printing too
p11771
aVBTW, I reviewed Rails 3
p11772
aV0 and 3
p11773
aV1 for this, you can check Rails 2 if you're interested
p11774
as(dp11775
g10
V479863
p11776
stp11777
a((dp11778
g2
(lp11779
VJust for fun, a non-split variant (which is also two lines):
p11780
aVThe interesting parts would be the named capture groups () in the regex and the general hash-ification technique using
p11781
aVThe named capture groups require 1
p11782
aV9 though
p11783
aVIf one were daring, one could monkey patch the  bit right into  as, say, :
p11784
aVAnd then you could have your one-liner:
p11785
aVI don't really recommend this, I only bring it up as a point of interest
p11786
aVI'm a little disappointed that  doesn't have a  or  method already, it would make a sensible complement to its  method
p11787
as(dp11788
g10
V479863
p11789
stp11790
a((dp11791
g2
(lp11792
VFrom the fine manual:
p11793
ag3892
aVThe compar argument is a pointer to the comparison function, which is called with two arguments that point to the elements being compared
p11794
aVSo your comparison function will receive two  arguments disguised as  and your  just needs to cast them appropriately:
p11795
aVIf you want a secondary sort key, then check if  and compare the secondary key if that's true; similarly for the tertiary key if needed
p11796
aVYour current code is working by accident
p11797
aVThis:
p11798
aVis actually comparing the first elements of the  arguments and it works because (a) there's no padding at the beginning of your structure and (b)  is at the beginning and it actually is an
p11799
as(dp11800
g10
V479863
p11801
stp11802
a((dp11803
g2
(lp11804
VDon't do this:
p11805
aVMy other idea would be to just create one string column in the database that holds all of the event dates, using attr_accesors and a model method to create the string after_create
p11806
aVThat sort of thing will just cause problems like making per-day queries a horrific ugly mess; how would you, for example, count how many events are available on Monday if you stored your days mashed into a single column
p11807
aVInstead, keep your seven booleans and add a simple convenience method to your model that returns the days in some more convenient format
p11808
aVSomething like this perhaps:
p11809
aVand then you can simply iterate over  in your view and map the day numbers to names:
p11810
aVThe specific details of the  method and how you deal with it in your ERB will, of course, depend on your specific circumstances
p11811
as(dp11812
g10
V479863
p11813
stp11814
a((dp11815
g2
(lp11816
VYou may be able to use the  directory:
p11817
aVAspen & Bamboo
p11818
ag3892
aVThere are two directories that are writeable:  and  (under your application root)
p11819
ag3892
aVCedar
p11820
aVCedar offers an ephemeral writeable filesystem
p11821
aVYou can write out to disk anywhere you would like
p11822
aVYour changes will be lost on dyno restart and spin-up
p11823
aVYou can't depend on anything surviving across requests of course, there's no guarantee that you'll even be working with the same dyno
p11824
aVAs long as you stay within the same process or request,  should be usable
p11825
aVIf you need the temporary data to survive across requests or processes then you're better off using something else (such as MongoDB or PostgreSQL) as a collecting ground for your data on its way to S3
p11826
as(dp11827
g10
V479863
p11828
stp11829
a((dp11830
g2
(lp11831
VAll you need to do is change your directory before running
p11832
aVSomething like this:
p11833
aVThis will leave you with relative paths, starting with , in your tar file
p11834
aVUseful references:
p11835
as(dp11836
g10
V479863
p11837
stp11838
a((dp11839
g2
(lp11840
VYou could attach stderr (2) to stdout (1) and then redirect stdout in append-mode:
p11841
aVThe  bit attaches stderr to stdout and then you redirect stdout to append to  in the usual manner
p11842
as(dp11843
g10
V479863
p11844
stp11845
a((dp11846
g2
(lp11847
VIf you're HTML fragment is in , then you could do something like this:
p11848
aVYou could also do it with XPath but I find CSS selectors a bit simpler for simple cases like this
p11849
as(dp11850
g10
V479863
p11851
stp11852
a((dp11853
g2
(lp11854
VYou can get there with :
p11855
aVError checking and "no such entry" checking is left as an exercise
p11856
as(dp11857
g10
V479863
p11858
stp11859
a((dp11860
g2
(lp11861
VI think you might be looking for a HAVING clause to force the query to match exactly once:
p11862
aVThat should make multiple matches behave the same as no matches
p11863
aVThe HAVING clause is applied almost at the very end of the query process; if there are no matches from the WHERE or more than one match, then  will fail and the inner query will return nothing but if there is exactly one row then  will succeed and the inner query will return that single match
p11864
as(dp11865
g10
V479863
p11866
stp11867
a((dp11868
g2
(lp11869
VThe  isn't your problem, that is going through fine
p11870
aVYour problem is this:
p11871
aVSo  is actually an array but you're treating it like an ID
p11872
aVThen, someone inside Rails is converting that array to 1
p11873
aVWhen you say this:
p11874
aVEverything works because you're assigning a Fixnum to  and that's what  expects
p11875
aVYou need to figure out why you're getting an array  and then fix that
p11876
aVOr, figure out what you should do with an array, maybe  makes sense, maybe not
p11877
as(dp11878
g10
V479863
p11879
stp11880
a((dp11881
g2
(lp11882
VYou don't need a regular expression to look for a fixed substring, just  will do:
p11883
as(dp11884
g10
V479863
p11885
stp11886
a((dp11887
g2
(lp11888
VYou could have a look at the event object
p11889
aVIf the event was triggered by a real click, you'll have things like , , , , etc
p11890
aVinside  and they will be numbers; these numbers are related to the mouse position when the click is triggered but they will probably be present even if the click was initiated through the keyboard
p11891
aVIf the event was triggered by  then you won't have the usual position values in
p11892
aVYou could also look at the  property, that shouldn't be there if the event came from
p11893
aVMaybe something like this:
p11894
aVAnd here's a little sandbox to play with: http://jsfiddle
p11895
aVnet/UtzND/
p11896
as(dp11897
g10
V479863
p11898
stp11899
a((dp11900
g2
(lp11901
VYou could use the callback form of  and handle all the interaction with the server yourself
p11902
aVSomething like this:
p11903
as(dp11904
g10
V479863
p11905
stp11906
a((dp11907
g2
(lp11908
VEach element in the stream comes through as two events: one to open the element and one to close it
p11909
aVThe opening event will have
p11910
aVand the closing event will have
p11911
aVThe empty strings you're seeing are just the element closing events
p11912
aVRemember that with SAX parsing, you're basically walking through a tree so you need the second event to tell you when you're going back up and closing an element
p11913
aVYou probably want something more like this:
p11914
aVOr perhaps:
p11915
aVOr some other variation on that
p11916
as(dp11917
g10
V479863
p11918
stp11919
a((dp11920
g2
(lp11921
VThe standard output and standard error streams are generally accessible in two ways each:
p11922
aVand
p11923
aVand
p11924
aVA sufficiently clever person could also open their own copies using  with a file descriptor argument:
p11925
aVAnd now you have writable access to the standard error stream through  without having anything to do with  or
p11926
aVReassigning  and  should work fine unless something in your code, your gems, or Ruby itself is using the constants (, ) or is accessing the streams directly through C's stdio, unix's low level / with numeric file descriptors or is opening their own access to the streams using
p11927
aVI haven't dug into the source but I doubt assigning to  will do anything to  in C-land or file descriptor 1 in Unix-land
p11928
aVIf you really need to trap the standard output and error streams then you're probably better off writing a wrapper shell script to redirect the streams for you
p11929
aVUPDATE: If you're mostly (only
p11930
aVconcerned about changing  and  inside your  bleeding into the rest of your Rails app then you don't have to worry about that
p11931
aVEach process \u2014 your  process and however many server processes your main application has running \u2014 gets its own set of globals so you can change them all you want in your script without making a mess of your main application
p11932
aVOf course, you still have to worry about gems using  instead of  or using  to get their own private standard out
p11933
as(dp11934
g10
V479863
p11935
stp11936
a((dp11937
g2
(lp11938
VYou should be able to put  on the  and let the browser deal with the clipping
p11939
aVSomething like this:
p11940
aVLive example: http://jsfiddle
p11941
aVnet/ambiguous/M3FzZ/
p11942
aVIf you need to do this in jQuery, then:
p11943
aVWhere "div-selector" is whatever selector you need to get your s
p11944
as(dp11945
g10
V479863
p11946
stp11947
a((dp11948
g2
(lp11949
VThe standard output is generally buffered to avoid a system call for every write
p11950
aVSo, when you say this:
p11951
aVYou're actually just stuffing that string into the buffer
p11952
aVThen you say this:
p11953
aVand your  string is still in the buffer so it isn't in  when  sends the file's content to you
p11954
aVFlushing  forces everything in the buffer to be written to disk; from the fine manual:
p11955
aVFlushes any buffered data within ios to the underlying operating system (note that this is Ruby internal buffering only; the OS may buffer the data as well)
p11956
aVproduces:
p11957
aVThe standard error is often unbuffered so that error messages (which are supposed to be rare) are visible immediately
p11958
as(dp11959
g10
V479863
p11960
stp11961
a((dp11962
g2
(lp11963
VYes, adding a UNIQUE constraint will create an index:
p11964
aVAdding a unique constraint will automatically create a unique btree index on the column or group of columns used in the constraint
p11965
aVThis won't speed up your INSERTs though, it will actually slow them down:
p11966
aVEvery insert will have to be checked (using the index) to ensure that uniqueness is maintained
p11967
aVInserts will also update the index and this doesn't come for free
p11968
as(dp11969
g10
V479863
p11970
stp11971
a((dp11972
g2
(lp11973
VIf you have to deal with arbitrarily nested subsections then you could do something like this:
p11974
aVThat implementation isn't exactly quick due to the repeated  and  but you could roll your own Schwartzian Transform if it was too slow:
p11975
aVNote that  does an internal Schwartzian Transform for you:
p11976
aVThe current implementation of sort_by generates an array of tuples containing the original collection element and the mapped value
p11977
aVSo you could also let  take care of some of the ugliness:
p11978
aVand get something that is pretty easy to understand at a glance
p11979
as(dp11980
g10
V479863
p11981
stp11982
a((dp11983
g2
(lp11984
VThe general rule of thumb is to use  if the thing you're working with is changing while you're using it:
p11985
aVbut  or  otherwise:
p11986
aVIn the case of a file, using  makes sense because you (probably) don't want to slurp the whole thing into memory (except, of course, when you do want to)
p11987
aVBut, if you already have your data in memory, then / would be a more natural choice to iterate over it
p11988
as(dp11989
g10
V479863
p11990
stp11991
a((dp11992
g2
(lp11993
VIf you just want to know if it is checked or not, then you could do this:
p11994
aVOr:
p11995
aVThe  function returns an array of matched elements so you can check its  property to see how many things (if any) were matched
p11996
aVReferences:
p11997
aVselector
p11998
aVAttribute equals selector
p11999
as(dp12000
g10
V479863
p12001
stp12002
a((dp12003
g2
(lp12004
VMost RMagick methods return the new image rather than modifying it in-place; some methods have  versions for modifying things in place (such as  and ) but some don't (such as )
p12005
aVIn particular,  returns the new image:
p12006
ag3892
aVReturns
p12007
aVA new image
p12008
aVSo just saying  creates a new image with the desired transparency and then throws it away because you are ignoring the return value
p12009
aVAlso, the usual way to drop something down to a smaller palette is to use
p12010
aVI think you want something like this:
p12011
aVWorks for me at least
p12012
as(dp12013
g10
V479863
p12014
stp12015
a((dp12016
g2
(lp12017
VYou could simplify things a bit by using  to deal parsing the URL,  in the regex, and  to pull out the GUIDs:
p12018
aVIf you need any of the non-path components of the URL the you can easily pull them out of
p12019
aVYou might need to tighten things up a bit depending on your data or it might be sufficient to check that  has two elements
p12020
as(dp12021
g10
V479863
p12022
stp12023
a((dp12024
g2
(lp12025
VThere is nothing wrong with using HTML as long as you:
p12026
aVUse a proper HTML parser to process the input
p12027
aVWhitelist the tags so that only things you want get through
p12028
aVWhitelist the attributes on the tags
p12029
aVThis includes parsing and whitelist things inside  attributes if you want to allow  (and, of course, use a real CSS parser for the  attributes)
p12030
aVRewrite the HTML while you parse it
p12031
aVThe last point is mostly about getting consistent and correct HTML output
p12032
aVYour parser should take care of figuring out the usual confusion (such as incorrectly nested tags) that you find in hand written HTML
p12033
as(dp12034
g10
V479863
p12035
stp12036
a((dp12037
g2
(lp12038
VYou could do it this way:
p12039
as(dp12040
g10
V479863
p12041
stp12042
a((dp12043
g2
(lp12044
VYou could use cinderella to get the whole PostgreSQL, MongoDB, Ruby,
p12045
aVstack in one go
p12046
aVThe initial install takes awhile but it puts everything in  so it is easy to keep track of and easy to clean up
p12047
as(dp12048
g10
V479863
p12049
stp12050
a((dp12051
g2
(lp12052
VTurn your logic around and look for bad things:
p12053
aVIf either of the above are non-nil, then you have a bad string
p12054
aVIf you just want to test and don't care about where it matches then:
p12055
aVFor example:
p12056
as(dp12057
g10
V479863
p12058
stp12059
a((dp12060
g2
(lp12061
VI think you want the  selector:
p12062
aVHere's a quick demo that just does a color change to show you how it works:
p12063
aVhttp://jsfiddle
p12064
aVnet/ambiguous/YDvGw/
p12065
aVYou could do a  if you just wanted to change the margin without messing around with another class
p12066
as(dp12067
g10
V479863
p12068
stp12069
a((dp12070
g2
(lp12071
VSetting  for  seems to get the layout that I think you want
p12072
aVThe HTML:
p12073
aVAnd the CSS:
p12074
aVAnd, finally, the obligatory fiddle: http://jsfiddle
p12075
aVnet/ambiguous/cJPRz/
p12076
as(dp12077
g10
V479863
p12078
stp12079
a((dp12080
g2
(lp12081
VAlmost the same thing works with , just use a real tab instead of :
p12082
aVIf you're doing this from the bash command line then you'll need to do a Ctrl-VTab pair to get a tab
p12083
as(dp12084
g10
V479863
p12085
stp12086
a((dp12087
g2
(lp12088
VYou can pull it right out of :
p12089
aVThe  in a jQuery click callback is just a DOM object that exposes its attributes as object properties
p12090
as(dp12091
g10
V479863
p12092
stp12093
a((dp12094
g2
(lp12095
VHere's your problem:
p12096
aVYou're declaring a default value for the  parameter to  but you don't provide a default for
p12097
aVParameters with defaults must appear at the end of the argument list and they can't be followed by parameters without defaults
p12098
aVThis error message:
p12099
aVtells us that Ruby was expecting to see an equals sign for the  default value when it hit the closing parenthesis for the argument list
p12100
as(dp12101
g10
V479863
p12102
stp12103
a((dp12104
g2
(lp12105
VYou could use  to walk back up the DOM tree:
p12106
aVAnd change the HTML to this:
p12107
aVOr do it in a more traditional jQuery fashion:
p12108
aVAnd drop the  attribute on the  link
p12109
as(dp12110
g10
V479863
p12111
stp12112
a((dp12113
g2
(lp12114
VThis should do it:
p12115
aVFor example, the result of this:
p12116
aVis this array:
p12117
aVAnd this:
p12118
aVResults in:
p12119
aVAnd this:
p12120
aVResults in
p12121
aVAnd your component is in  and that comes from
p12122
aVThe  will take care of the hostname (and the userinfo if it happens to be present), the  part will take care of any trailing CGI arguments
p12123
aVDepending on your URLs, you could replace  with
p12124
as(dp12125
g10
V479863
p12126
stp12127
a((dp12128
g2
(lp12129
VYou're getting a zero because the standard JOIN doesn't produce anything when there is no match
p12130
aVYou need to get a LEFT OUTER JOIN past ActiveRecord; something like this:
p12131
aVAFAIK, you have to drop down to SQL to get a LEFT OUTER JOIN
p12132
as(dp12133
g10
V479863
p12134
stp12135
a((dp12136
g2
(lp12137
VYou're missing a
p12138
aVYou should be able to set the  in your Makefile:
p12139
aVThis assumes that the Boost libraries are in  of course
p12140
aVIf you're not using the usual  and  variables in your Makefile, then add the  directly in your final rule:
p12141
aVThe  only tells the compiler where header files are, the linker needs libraries and you use  for that
p12142
as(dp12143
g10
V479863
p12144
stp12145
a((dp12146
g2
(lp12147
VIf your  values are sequential, then you could use  in place of an external table:
p12148
aVThis yields:
p12149
aVThis:
p12150
aVessentially generates an inlined table with a single column called  and four rows: 0, 1, 2, 3
p12151
aVAnd you need to have the  in the join condition (rather than the WHERE) because you want the  values to be in the pre-grouped result set; if  is in the WHERE clause then the  rows won't be counted regardless of what the join condition is
p12152
aVIf your  do not nicely fit with  (i
p12153
ag785
aVnot sequential or step-sequential) and you only have a small number of them, you could join to a VALUES expression:
p12154
aVYou need to make sure you get all the parentheses in the right places of course
p12155
aVIf you do have the  in a separate table then do a LEFT OUTER JOIN to that table instead of using the
p12156
aVIf your  are not sequential and you have too many to sensibly put in a VALUES expression, then build a table to hold the valid  values and LEFT OUTER JOIN to that
p12157
as(dp12158
g10
V479863
p12159
stp12160
a((dp12161
g2
(lp12162
VYou say that you're duplicating  attributes
p12163
aVDon't do that, use classes instead:
p12164
aVYour  attributes must be unique within each page or you have invalid HTML and things won't work very well
p12165
aVOnce you've fixed your HTML, things will go much easier:
p12166
aVThe  function goes up the DOM tree until it finds a match for the supplied selector, then  comes back down to get the  element
p12167
as(dp12168
g10
V479863
p12169
stp12170
a((dp12171
g2
(lp12172
VI went rooting around the Rails 3
p12173
aV1 source to sort this out, I figured that would be easier than searching anywhere else
p12174
aVEarlier versions of Rails should be similar
p12175
aVJump to the end if tl;dr
p12176
aVWhen you call , you end going through this:
p12177
aVAnd since  is neither a String nor Object, you go through the  branch and into
p12178
aVInside  we see this:
p12179
aVPay attention to that chunk of code, it contains both the source of your problem and the solution
p12180
aVThe  method calls  which looks like this:
p12181
aVAnd there's your call to
p12182
aVThe  method is defined by  and since you're not using ActiveRecord, you don't have a  method
p12183
aVIf you have something in your model that behaves like a primary key then you could define your own  and leave it at that
p12184
aVBut, if we go back to  we'll see another solution:
p12185
aVSo you could supply the  option to  to generate a DOM ID for your form by hand:
p12186
aVYou'd have to make sure that the  value was unique within the page though
p12187
aVExecutive Summary:
p12188
aVIf your model has an attribute that behaves like a primary key, then define your own  method that returns it
p12189
aVOr, supply an appropriate  option to
p12190
as(dp12191
g10
V479863
p12192
stp12193
a((dp12194
g2
(lp12195
VYour table has this:
p12196
aVAnd your PHP has this:
p12197
aVBut then we see this:
p12198
aVSo the rental_faculty_id needs to be a string when it gets to the database but someone is converting it to an integer because  looks like an integer; that someone is most likely the  condition in this:
p12199
aVIf you try to bind a number for something that expects a string, you'll get odd behavior
p12200
aVYou should be using the database schema \u2014 not the incoming data \u2014 to determine if you should bind with  or
p12201
aVThe  function should be returning false for  so maybe something is trying to be "clever" between the  call and the above  statement
p12202
as(dp12203
g10
V479863
p12204
stp12205
a((dp12206
g2
(lp12207
VI don't see anything like that in any of the Rails documentation I've seen:
p12208
aVhttp://api
p12209
aVrubyonrails
p12210
aVorg/
p12211
aVhttp://apidock
p12212
aVcom/
p12213
aVhttp://rubydoc
p12214
aVinfo/
p12215
aVAnd with monkey patching, there probably isn't any way to know until Rails is all cranked up and you have an actual ActiveRecord::Base in your hands; for example, the PostgreSQL, MySQL, and SQLite adapters re-open ActiveRecord::Base and they might include extra modules along the way; other gems you're using and even your own code may do similar things
p12216
aVIf you just want to know the standard set of mixins, use the source (Luke
p12217
aVor do as maniek suggests and ask ActiveRecord::Base in the Rails console
p12218
aVIn general, the Rails API documentation isn't that useful unless you already know what you're looking for and even then, digging into the source is often necessary
p12219
aVYour best bet is to check the guides for what you need and read the source if that doesn't work
p12220
aVShort Answer: You can't get your list from the documentation because the modules cannot be known until run time
p12221
aVRead the guides and the source if you need to know something
p12222
as(dp12223
g10
V479863
p12224
stp12225
a((dp12226
g2
(lp12227
VA  isn't the right place to be reporting errors
p12228
aVYour  should try to set the value and then a validator should check if it is there, if the validator doesn't find the value then you'll get your error message and such
p12229
aVSo, if your attribute is called , then you'd have something like this:
p12230
aVYou could, of course, use a different validator than , that's just there for illustrative purposes
p12231
aVAnd you'll want a  hook to get things to happen in the right order, the  will only run the hook when you're creating a new model
p12232
as(dp12233
g10
V479863
p12234
stp12235
a((dp12236
g2
(lp12237
VIf the focus comes from a  call, then the event won't have an  property because there was no event from the browser so:
p12238
aVTo differentiate between keyboard and mouse based focus events, you could try binding a  handler to everything else to detect a Tab or Shift-Tab but that would be a gross hack and probably not reliable; for example, on an iPad, you don't hit Tab to move to the next field, you hit Next or Previous in the popup keyboard to move around and those may not register as key presses at all
p12239
aVThere's a similar question about  events that might be of interest as well:
p12240
aVIn Jquery, how can I tell between a programatic and user click
p12241
aVAs you note in the comments, you could trap  events to detect a mouse-based focus change and set a flag somewhere to remember it
p12242
aVThen you'd have this:
p12243
aVIf there is no  in the jQuery event then the focus change was triggered manually (i
p12244
ag785
aVor similar)
p12245
aVIf the click handler flag is set then the focus change came from a mouse action
p12246
aVOtherwise the focus change came from a keyboard event
p12247
aVYou'd have to be careful that your click and focus events came in the right order and you'd need to make sure the flag was cleared when you're done with it
p12248
aVThis might not be bullet proof but maybe it doesn't need to be
p12249
as(dp12250
g10
V479863
p12251
stp12252
a((dp12253
g2
(lp12254
VThe  helper actually generates a whole form:
p12255
aVGenerates a form containing a single button that submits to the URL created by the set of
p12256
aVSo that's definitely not what you want
p12257
aVI think you just want to generate a simple  element in your HTML
p12258
aVHowever, there is no  in  but there is a  that you can hand a  option to and that will:
p12259
aVAny other key creates standard HTML options for the tag
p12260
aVSo try this:
p12261
aVwhere "Pancakes" would be your real label
p12262
as(dp12263
g10
V479863
p12264
stp12265
a((dp12266
g2
(lp12267
VThis sounds like a job for an application helper
p12268
aVYou could add something like:
p12269
aVto your  and then you could use
p12270
aVin your views (or the HAML equivalent) or
p12271
aVelsewhere in your code
p12272
as(dp12273
g10
V479863
p12274
stp12275
a((dp12276
g2
(lp12277
VYour  call does the equivalent of this:
p12278
aVAnd that will refresh the page
p12279
aVThe  function essentially copies all the properties (using simple assignments) from the second through last arguments to the first argument and returns the (updated) first argument
p12280
aVIn your second argument, , there will be  property and when you assign something to , you change the page and if the new and old  values are the same, you'll refresh the current page
p12281
aVIf you want to add all the properties in  to , just do this:
p12282
aVAs far as "And is there any way to use variables without object(namespace) name
p12283
aVgoes, just add your variables as properties of  and you'll be able to access them without a prefix:
p12284
aVFor example: http://jsfiddle
p12285
aVnet/ambiguous/T7cNx/
p12286
as(dp12287
g10
V479863
p12288
stp12289
a((dp12290
g2
(lp12291
VIf you're dealing with just a CD then why not go one little step further and just assign your JSON-ish data structure to a JavaScript variable and skip the JSON altogether
p12292
aVYou could just do this:
p12293
aVThen you don't have to parse anything, the browser's JavaScript engine will do the parsing for you
p12294
as(dp12295
g10
V479863
p12296
stp12297
a((dp12298
g2
(lp12299
VThe  function in jQuery requires an argument to tell jQuery which event type you want to trigger
p12300
aVI'd guess that you have a button of some sort with an  attribute of  and you want to click it, if so, then you want:
p12301
aVYou could also use  if you really want to use
p12302
as(dp12303
g10
V479863
p12304
stp12305
a((dp12306
g2
(lp12307
VAre you looking for
p12308
aVFrom the fine manual:
p12309
aVPacks the contents of arr into a binary sequence according to the directives in aTemplateString
p12310
aVThe  template is for unsigned eight bit integers (i
p12311
ag785
aVsingle bytes) and the  just means "use the preceding template for the rest of the elements in the array"
p12312
as(dp12313
g10
V479863
p12314
stp12315
a((dp12316
g2
(lp12317
V(1) Is probably because Paperclip is decoding a JPEG and then writing/encoding a new JPEG
p12318
aVJPEG is a lossy format so each encoding degrades the image
p12319
aVYou could use the  to adjust the JPEG quality but you'll probably have to accept some degradation in your JPEGs
p12320
aV(2) is because Paperclip is doing as it's told
p12321
aVPaperclip uses ImageMagick to do the heavy lifting and the style dimensions are just ImageMagick geometry strings with one modification:
p12322
aVPaperclip also adds the \u201c#\u201d option (e
p12323
ag1985
aV\u201c50x50#\u201d), which will resize the image to fit maximally inside the dimensions and then crop the rest off (weighted at the center)
p12324
aVYour  style uses "#" so you're telling Paperclip that you want a 80x80 image even if the image has to be scaled and cropped to get there
p12325
aVYou can drop the "#" from the dimensions string and, if desired or appropriate, add one of the the other modifiers
p12326
as(dp12327
g10
V479863
p12328
stp12329
a((dp12330
g2
(lp12331
VYou need to add the  option for GIF files:
p12332
aVThe problem is that GIFs can contain multiple images (of different sizes) when they're animated so cropping just affects one of the images while leaving the overall GIF canvas size untouched
p12333
aVUsing  for the canvas size is an easy shortcut to make ImageMagick figure out how big the image should be:
p12334
aVA given a canvas size of zero such as '0x0' forces it to recalculate the canvas size so the image (at its current offset) will appear completely on that canvas
p12335
as(dp12336
g10
V479863
p12337
stp12338
a((dp12339
g2
(lp12340
VFor PostgreSQL,  is implemented as a simple  and that does preserve the indexes
p12341
aVThe MySQL versions (both of them) do an  and that also preserves the indexes
p12342
aVThe SQLite version appears to copy the entire table (with indexes), drop the old one, and then copy the copy back to the original table name
p12343
aVThe copying does appear to handle the column rename while copying the indexes:
p12344
aVand inside :
p12345
aVSo, the standard drivers will preserve your indexes when you do a  and the SQLite driver goes to some effort to do so
p12346
aVThe API documentation doesn't specify any particular behavior though so other drivers may do other things
p12347
aVThe closest the documentation comes to saying anything about indexes is this in :
p12348
aV: Renames a column but keeps the type and content
p12349
aVI think any driver would preserve the indexes but there's no guarantee; a driver writer would certainly be foolish not to preserve the indexes
p12350
aVThis isn't a definitive or authoritative answer but your indexes should be preserved if you use the standard PostgreSQL, MySQL (either one of them), or SQLite drivers
p12351
aVNote that even though the index itself survives the column renaming there's no guarantee that the index name will be changed
p12352
aVThis shouldn't be a problem unless you're doing something (such as manually dropping it) that cares about the index name rather than what columns are involved
p12353
aVThe above behavior changed in Rails 4:
p12354
aVIn Rails 4
p12355
aV0 when a column or a table is renamed the related indexes are also renamed
p12356
aVIf you have migrations which rename the indexes, they are no longer needed
p12357
aVSo ActiveRecord will automatically rename indexes to match the new table or column names when you rename the table or column
p12358
aVThanks to sequielo for the heads-up on this
p12359
as(dp12360
g10
V479863
p12361
stp12362
a((dp12363
g2
(lp12364
VYou should be properly encoding your URI with  or , doing so will get you proper URLs like this:
p12365
as(dp12366
g10
V479863
p12367
stp12368
a((dp12369
g2
(lp12370
VYou should use  to break it into pieces and then change only the path component:
p12371
aVJust a simple  on the whole URL would probably work fine but a little extra paranoia might save you some confusion and suffering down the road
p12372
aVAlso, if you're just replacing a literal string rather than a regular expression, you can use a String as the first argument to  and avoid some escaping issues:
p12373
aVThe pattern is typically a Regexp; if given as a String, any regular expression metacharacters it contains will be interpreted literally, e
p12374
ag1985
aVwill match a backlash followed by , instead of a digit
p12375
as(dp12376
g10
V479863
p12377
stp12378
a((dp12379
g2
(lp12380
VAs usual with performance questions, the answer is "it depends"
p12381
aVI'd probably start by calculating the results on the fly and go with precomputing them when it starts to be a problem
p12382
aVIf you have precomputed/summarized copies of your main data, you'll have to set up an updating process to make sure your summaries are correct
p12383
aVThis can be quite tricky and can add a lot of complexity to your application so I wouldn't do it unless I had to
p12384
aVYou'll also want to have a set of sanity check tools to make sure your summaries are, in fact, correct
p12385
aVAnd a set of "kill it all and rebuild the generated summaries" tools will also come in handy
p12386
aVIf these calculations are a problem (and by that I mean that you have measured the performance and know that your the queries in question are a bottleneck and you have the numbers to prove it) then it might be worth the extra coding and maintenance effort
p12387
as(dp12388
g10
V479863
p12389
stp12390
a((dp12391
g2
(lp12392
VThe most elegant way would be to parse HTML with an HTML parser:
p12393
aVIf you try to do this with a regular expression, you will probably fail
p12394
aVFor example, if you have an  in your  what's to prevent you from having something like this:
p12395
aVTrying to handle something like that with a single regex is going to be ugly but  handles that as easily as it handles  or
p12396
aVRegular expressions are great tools but they shouldn't be the only tool in your toolbox
p12397
as(dp12398
g10
V479863
p12399
stp12400
a((dp12401
g2
(lp12402
VStraight SQL in your migration is probably your best bet:
p12403
aVReplace  with the appropriate bitmap that just has the bit for permission C set and  with the bitmap that just has the bits for permissions A and B set (both of them)
p12404
aVThe bit operators for PostgreSQL are pretty much the same (except bitwise XOR) as they are in C
p12405
aVSimilar things will work if you're using bitstrings instead of integers for your bitmaps
p12406
as(dp12407
g10
V479863
p12408
stp12409
a((dp12410
g2
(lp12411
VUse  and then set the  to an empty string and the  to :
p12412
aVNow you have your cleaned up version in
p12413
aVTaking out what you don't want is sometimes easier than only grabbing what you need
p12414
aVIf you only do  you'll end up with  which probably isn't what you want
p12415
as(dp12416
g10
V479863
p12417
stp12418
a((dp12419
g2
(lp12420
VYou can join one table multiple times if you give each instance a different alias:
p12421
as(dp12422
g10
V479863
p12423
stp12424
a((dp12425
g2
(lp12426
VYou need an instance variable in your view that stores the timer ID, then you can stop it and restart it as needed:
p12427
aVSo, if the timer is already running, you call  to stop it, start a new timer, and store the timer ID in  (AKA )
p12428
aVYou'll also want to reset the stored timer ID in the timer's callback function or your  won't do anything after its timer has fired once
p12429
aVAnd all the  business is just to capture  for use in the timer's callback function
p12430
as(dp12431
g10
V479863
p12432
stp12433
a((dp12434
g2
(lp12435
V elements don't work that way
p12436
aVThe  of a  element is the current value but you can't set a  to a value that it doesn't contain, you have to make sure that the  has an  child that matches the value you want to set; just calling  doesn't add an  to the
p12437
aVWhat you need to do is move the contained  element from the first  to the second and vice versa
p12438
aVSomething more like this:
p12439
aVAnd an updated fiddle: http://jsfiddle
p12440
aVnet/ambiguous/VrUmQ/1/
p12441
as(dp12442
g10
V479863
p12443
stp12444
a((dp12445
g2
(lp12446
VHow about:
p12447
as(dp12448
g10
V479863
p12449
stp12450
a((dp12451
g2
(lp12452
VOne way is to combine a child selector with a first child filter and then use an  call to see what you get, something like this:
p12453
aVAnd a live example: http://jsfiddle
p12454
aVnet/ambiguous/kSmXQ/
p12455
aVOr, if you want to play with some CSS:
p12456
aVAnd the jQuery to go with that:
p12457
aVAnd a live version of this one: http://jsfiddle
p12458
aVnet/ambiguous/LPga3/1/
p12459
aVThanks to Ghostoy for the idea behind this one
p12460
aVAnd if you want the background color or border change on the  rather than the  or  child:
p12461
aVLive example of this one: http://jsfiddle
p12462
aVnet/ambiguous/ufLaW/
p12463
as(dp12464
g10
V479863
p12465
stp12466
a((dp12467
g2
(lp12468
VAs cnicutar notes, valgrind may have an effect on anything timing related and signal handlers would certainly qualify
p12469
aVI don't think  is safe to use in a signal handler so it might be working in the non-valgrind case solely by accident and then valgrind comes in, changes the timing, and you get the flaming death that you were risking without valigrind
p12470
aVI found a list of functions that are safe in signal handlers (according to POSIX
p12471
aV1-2003 ) here:
p12472
aVhttp://linux
p12473
aVdie
p12474
aVnet/man/2/signal
p12475
aVYes, the  man pages are a bit out of date but the list here (thanks to RedX for finding this one):
p12476
aVhttps://www
p12477
aVsecurecoding
p12478
aVcert
p12479
aVorg/confluence/display/seccode/SIG30-C
p12480
aV+Call+only+asynchronous-safe+functions+within+signal+handlers
p12481
aVdoesn't mention  either except in the context of OpenBSD where it say:
p12482
aVasynchronous-safe in OpenBSD but "probably not on other systems," including snprintf(),
p12483
aVso the implication is that  is not, in general, safe in a signal handler
p12484
aVAnd, thanks to Nemo, we have an authoritative list of functions that are safe for use in signal handlers:
p12485
aVhttp://pubs
p12486
aVopengroup
p12487
aVorg/onlinepubs/9699919799/functions/V2_chap02
p12488
aVhtml#tag_15_04_03
p12489
aVStart at that link and search down for  and you'll see the list; then you'll see that  is not on the list
p12490
aVAlso, I remember using  in a signal handler because  wasn't safe for a signal handler but that was a long time ago
p12491
aVI don't have a copy of the relevant standard so I can't back this up with anything really authoritative but I thought I'd mention it anyway
p12492
as(dp12493
g10
V479863
p12494
stp12495
a((dp12496
g2
(lp12497
VYou're using the wrong operator, you want this:
p12498
aVThe  operator for an Array:
p12499
aVPushes the given object on to the end of this array
p12500
aVwhereas the  operator:
p12501
aVReturns a new array built by concatenating the two arrays together to produce a third array
p12502
aVYou could also use  if you were really attached to  for some reason:
p12503
aVbut that would be a bit pointless
p12504
aVAs noted by powerMicha, you need to start the  chain off with  (or some temporary array) if you don't want to modify any of the , , or  arrays
p12505
aVAs far as sorting them goes, you could use :
p12506
aVThat assumes that you have the usual  method on the objects
p12507
as(dp12508
g10
V479863
p12509
stp12510
a((dp12511
g2
(lp12512
VI think your problem is actually on line 13, not 31, and I'll even tell why I think that
p12513
aVNot only does your script not have 31 lines but, from the fine manual:
p12514
aVform_with(criteria)
p12515
aVFind a single form matching criteria
p12516
aVThere are several forms on that page that have
p12517
aVApparently Mechanize returns  when it can't exactly match the  criteria including the single part mentioned in the documentation; so, if your  matches more than one thing,  returns  instead of choosing one of the options and you end up trying to do this:
p12518
aVBut  doesn't have a  method so you get your
p12519
aVIf you use this:
p12520
aVyou'll get past the first part as there is exactly one form with  on that page
p12521
aVThen you'll have trouble with this:
p12522
aVas Mechanize doesn't know what to do with JavaScript (at least mine doesn't)
p12523
aVBut if you use just this:
p12524
aVyou'll get a  and then you can continue building and debugging your script
p12525
as(dp12526
g10
V479863
p12527
stp12528
a((dp12529
g2
(lp12530
VYou're missing a colon, this:
p12531
aVshould be this:
p12532
aVNote that the  changed to
p12533
aVJust  is a variable but  is a symbol and that's what you usually want for building hashes
p12534
as(dp12535
g10
V479863
p12536
stp12537
a((dp12538
g2
(lp12539
VOne way would be to go up to the closest , then up again to the closest , and then back down to the :
p12540
aVThis approach is fairly flexible and not overly dependent on your DOM structure, you'd be able to add things before or after the  you want without breaking your code (unless of course you started adding s or s)
p12541
aVThere are certainly other ways to do this but the above is pretty simple and straight forward and that should be your second concern (your first being that it works)
p12542
aVReferenences:
p12543
as(dp12544
g10
V479863
p12545
stp12546
a((dp12547
g2
(lp12548
VYou could just go ahead and try to insert the MD5 and catch the error, if you get a "unique constraint violation" error then ignore it and keep going, if you get some other error then bail out
p12549
aVThat way you push the duplicate checking right down to the database and your race condition goes away
p12550
aVSomething like this:
p12551
aVAttempt to insert the MD5 value
p12552
aVIf you get a unique violation error, then ignore it and continue on
p12553
aVIf you get some other error, bail out and complain
p12554
aVIf you don't get an error, then continue on
p12555
aVDo your  to extract the
p12556
aVThere might be a bit of a performance hit but "correct and a little slow" is better than "fast but broken"
p12557
aVEventually you might end up with more exceptions that successful inserts
p12558
aVThen you could try to insert in the table the references (through a foreign key) your  and trap the FK violation there
p12559
aVIf you had an FK violation, then do the old "insert and ignore unique violations" on  and then retry the insert that gave you the FK violation
p12560
aVThis is the same basic idea, it just a matter of choosing which one will probably throw the least exceptions and go with that
p12561
as(dp12562
g10
V479863
p12563
stp12564
a((dp12565
g2
(lp12566
VIf you want
p12567
aVin your database, use single quotes or escape the  with a backslash to keep Ruby from interpolating the  stuff right away:
p12568
aVThen, later when when you want to do the interpolation you could, if you were daring or trusted yourself, use :
p12569
aVNote that you'll have to turn  into a double quoted string in order for the  to work
p12570
aVThis will work but it isn't the nicest approach and leaves you open to all sorts of strange and confusing errors but it should be okay as long as you (or other trusted people) are writing the strings; I think you'd be better off with a simple micro-templating system, even something as simple as this:
p12571
aVYou could use whatever delimiters you wanted of course, I went with  because I've been using Mustache
p12572
aVjs and Handlebars
p12573
aVjs lately
p12574
aVThis naive implementation has issues (no in-template formatting options, no delimiter escaping,
p12575
aVbut it might be enough; if your templates get more complicated then you might want to just store bits of  in the database and use the ERB processor in the standard library deal with it
p12576
as(dp12577
g10
V479863
p12578
stp12579
a((dp12580
g2
(lp12581
VFrom the fine manual:
p12582
aVThe  function returns a , not a
p12583
aVYou're lucky that your program isn't falling over and catching on fire
p12584
aVPlease turn on more warning flags for your compiler, you should have seen something like this:
p12585
aVwarning: initialization makes integer from pointer without a cast
p12586
aVabout line 9
p12587
as(dp12588
g10
V479863
p12589
stp12590
a((dp12591
g2
(lp12592
VFirst of all, you really should be including the position on absolutely positioned elements or you will come across odd and confusing behavior; you probably want to add  to the CSS for both of your absolutely positioned elements
p12593
aVYou'll also want to have  on  if you want the absolutely positioned elements to be positioned with respect to their parent rather than the document's body:
p12594
aVIf the element has 'position: absolute', the containing block is established by the nearest ancestor with a 'position' of 'absolute', 'relative' or 'fixed'
p12595
aVYour problem is that  removes elements from the normal flow:
p12596
aVIt is removed from the normal flow entirely (it has no impact on later siblings)
p12597
aVAn absolutely positioned box establishes a new containing block for normal flow children and absolutely (but not fixed) positioned descendants
p12598
aVHowever, the contents of an absolutely positioned element do not flow around any other boxes
p12599
aVThis means that absolutely positioned elements have no effect whatsoever on their parent element's size and your first  will have a height of zero
p12600
aVSo you can't do what you're trying to do with absolutely positioned elements unless you know how tall they're going to be (or, equivalently, you can specify their height)
p12601
aVIf you can specify the heights then you can put the same heights on the  and everything will line up; you could also put a  on the second  to leave room for the absolutely positioned elements
p12602
aVFor example:
p12603
aVhttp://jsfiddle
p12604
aVnet/ambiguous/zVBDc/
p12605
as(dp12606
g10
V479863
p12607
stp12608
a((dp12609
g2
(lp12610
VYou're looking for this:
p12611
aVRails adds several such methods to the standard Ruby Numeric class, a full list is available from the Rails API documentation:
p12612
aVhttp://api
p12613
aVrubyonrails
p12614
aVorg/classes/Numeric
p12615
aVhtml
p12616
as(dp12617
g10
V479863
p12618
stp12619
a((dp12620
g2
(lp12621
VWrap the images in s with
p12622
aVThen you can absolutely position your little badge images
p12623
aVFor example:
p12624
aVAnd:
p12625
aVAnd a live version: http://jsfiddle
p12626
aVnet/ambiguous/sEH6L/
p12627
aVThe  and  will tightly wrap the  around the main image so that it will have the same size as the image, the  is needed for the  on the badges; then you absolutely position the badge in the lower right corner of the  and you're done
p12628
as(dp12629
g10
V479863
p12630
stp12631
a((dp12632
g2
(lp12633
VA unique constraint in PostgreSQL doesn't have a WHERE clause so you're getting a syntax error at "where"
p12634
aVIn any case,  is not necessary with a unique constraint:
p12635
aVIn general, a unique constraint is violated when there is more than one row in the table where the values of all of the columns included in the constraint are equal
p12636
aVHowever, two null values are not considered equal in this comparison
p12637
aVThat means even in the presence of a unique constraint it is possible to store duplicate rows that contain a null value in at least one of the constrained columns
p12638
aVThis behavior conforms to the SQL standard,
p12639
aVSo all you need is this:
p12640
aVAnd your unique constraint will be added, you can have multiple rows with , and you'll get your index as a side effect of the unique constraint
p12641
aVHowever, if you want to create the index directly you can create a partial index with a predicate:
p12642
aVWhen the WHERE clause is present, a partial index is created
p12643
aVA partial index is an index that contains entries for only a portion of a table, usually a portion that is more useful for indexing than the rest of the table
p12644
ag3892
aVAnother possible application is to use WHERE with UNIQUE to enforce uniqueness over a subset of a table
p12645
aVBut in the case of NULLs, a partial index for  won't do anything for the uniqueness because PostgreSQL unique constraints already allow multiple NULL values (probably because of the standard and because  is false for all )
p12646
aVSo if your intent is too limit the uniqueness to non-NULL values then you don't need your partial index; but, if you just want to avoid indexing NULL values then you could do it through CREATE INDEX (but not ALTER TABLE)
p12647
aVI don't know if leaving NULLs out of your index would have any noticeable effect though
p12648
aVI think part of the confusion (yours and mine) is that UNIQUE is both a constraint and an index
p12649
aVYou can include a WHERE when you create it as an index but not when you create it as a constraint
p12650
aVThis is certainly inconsistent
p12651
as(dp12652
g10
V479863
p12653
stp12654
a((dp12655
g2
(lp12656
VI don't think you're losing output because there is too much, I'd guess that some of your output is going to the standard output stream (which you are saving in ) and some is going to the standard error (which you are not saving anywhere)
p12657
aVYou could try this:
p12658
aVTo put the output in  and the errors in  or one of these:
p12659
aVto put them both in
p12660
aVAlso, doing  appends the standard output to  without overwriting what is already there,  will overwrite  with the new output
p12661
aVAll of this assumes that you're using something unixish (such as Linux or OSX) and that you system shell is Bourne-ish (such as bash)
p12662
aVYou could also switch to Open3 if you want to handle all the I/O yourself rather than relying on  and temporary files
p12663
aVUsing Open3 is more work but it may be worth it or maybe it isn't
p12664
as(dp12665
g10
V479863
p12666
stp12667
a((dp12668
g2
(lp12669
VYou could try absolute positioning the  elements in the upper left corner:
p12670
aVThat would put all the links in one place so there wouldn't be any jumping around during the transitions
p12671
aVDuring the transition, the new element would be fading in while the old one was fading out and they'd be overlapping during the fading
p12672
aVFor example: http://jsfiddle
p12673
aVnet/ambiguous/tv9NA/
p12674
aVYou have some cities with multiple links and just doing the above leaves them all stacked on top of each
p12675
aVThat's probably not going to make anyone very happy but maybe if you wrap a  around your links, move the positioning to the , and the / the
p12676
aVOr put each block of  elements in their own absolutely positioned  and fade the whole lists in and out as needed
p12677
as(dp12678
g10
V479863
p12679
stp12680
a((dp12681
g2
(lp12682
VAs per your comment, the standard PostgreSQL version of that query would be:
p12683
aVYou don't need  in the ORDER BY because you have , you want  in the ORDER BY to put the most recent  at the top; then you  to slice off just the first row in the result set
p12684
aVGROUP BY can be used to enforce uniqueness or if you need to group things for an aggregate function but you don't need it for either one of those here as you can get uniqueness through ORDER BY and LIMIT and you can hide your aggregation inside the ORDER BY (i
p12685
ag785
aVyou don't need MAX because ORDER BY does that for you)
p12686
aVSince you have  in your WHERE, you don't need  in the SELECT but you can leave it in if that makes it easier for you in Ruby-land
p12687
aVIt is possible that you could have multiple entries with the same  so I added an  to the ORDER BY to force PostgreSQL to choose the one with the highest
p12688
aVThere's nothing wrong with being paranoid when they really are out to get you and bugs definitely are out to get you
p12689
aVAlso, you want  in your ORDER BY to get the highest values at the top,  puts the lowest values at the top
p12690
aVThe more recent timestamps will be the higher ones
p12691
aVIn general, the GROUP BY and SELECT have to match up because:
p12692
aVWhen GROUP BY is present, it is not valid for the SELECT list expressions to refer to ungrouped columns except within aggregate functions, since there would be more than one possible value to return for an ungrouped column
p12693
aVBut that doesn't matter here because you don't need a GROUP BY at all
p12694
aVI linked to the 8
p12695
aV3 version of the documentation to match the PostgreSQL version you're using
p12696
aVThere are probably various other ways to do this but this one as probably as straight forward and clear as you're going to get
p12697
as(dp12698
g10
V479863
p12699
stp12700
a((dp12701
g2
(lp12702
VFrom the fine manual:
p12703
aVReturn the value most recently obtained by nextval for this sequence in the current session
p12704
aV(An error is reported if nextval has never been called for this sequence in this session
p12705
aVBecause this is returning a session-local value, it gives a predictable answer whether or not other sessions have executed nextval since the current session did
p12706
aVYou use  to get the last value that was pulled out of the sequence in the current session
p12707
aVThe usual pattern is to do an INSERT that uses a sequence and then you call  to figure out what value the INSERT used
p12708
aVIf you haven't called  with the sequence in question in the current session then there is nothing for  to return
p12709
aVMaybe you're actually looking for  and :
p12710
aVOr maybe you need to wrap your  and  inserts in a stored procedure that takes care of inserting in all three tables at once
p12711
as(dp12712
g10
V479863
p12713
stp12714
a((dp12715
g2
(lp12716
VIf all the strings really are like that then just do some substring mangling:
p12717
aVThis will also work if your timestamps include things like , , or
p12718
aVIf you wanted to be friendlier to the future, then you could do this:
p12719
aVso no one would have to guess what the  and  were all about
p12720
as(dp12721
g10
V479863
p12722
stp12723
a((dp12724
g2
(lp12725
VYou'd want to use  and :
p12726
aVYou need to include the  to ensure consistent results, otherwise the entries won't necessarily come out in the same order that will mess up your chunking
p12727
as(dp12728
g10
V479863
p12729
stp12730
a((dp12731
g2
(lp12732
VThere are a couple things going on here
p12733
aVYou have this:
p12734
aVThat will push the content of the cells to the bottom
p12735
aVAlso, an absolutely positioned element is removed from the normal flow so it won't contribute to its parent's height:
p12736
aVIt is removed from the normal flow entirely (it has no impact on later siblings)
p12737
aVAn absolutely positioned box establishes a new containing block for normal flow children and absolutely (but not fixed) positioned descendants
p12738
aVIn particular, this means that your  elements have a height of zero but they will still have an upper left corner so your absolute positioning offsets are anchored somewhere
p12739
aVThen you have  and the  removes the  from the layout so you effectively have just this:
p12740
aVThat combined with the  means that your second  will be positioned 5px from the top of the  and that is 25px from the bottom of the table cell
p12741
aVThe first cell works fine because the two visible  elements push the  right to the top of the cell, then the  is positioned 5px from the top of the  and that is 5px from the top of the table cell
p12742
aVUnfortunately, adding  to a  is a bit dodgy as far as browsers go so you'll need some hackery to get your positioning right while keeping
p12743
aVYou could re-structure the s like this:
p12744
aVAnd the CSS like this:
p12745
aVLive example: http://jsfiddle
p12746
aVnet/ambiguous/aV4nT/
p12747
aVOr you could use :
p12748
aVhidden
p12749
aVThe generated box is invisible (fully transparent, nothing is drawn), but still affects layout
p12750
aVFurthermore, descendants of the element will be visible if they have 'visibility: visible'
p12751
aVinstead of  for your  class:
p12752
aVThis will leave both  elements taking up space and affecting the layout but only the second one will be seen
p12753
aVLive example: http://jsfiddle
p12754
aVnet/ambiguous/RcdNh/
p12755
as(dp12756
g10
V479863
p12757
stp12758
a((dp12759
g2
(lp12760
VYou could whip something up with :
p12761
aVYou should be able to wrap that in a utility function or plugin quite easily
p12762
aVYou'd probably want this:
p12763
aVto stack them on top of each other
p12764
aVFor example (using just images): http://jsfiddle
p12765
aVnet/ambiguous/tquxa/
p12766
as(dp12767
g10
V479863
p12768
stp12769
a((dp12770
g2
(lp12771
VA simple way to extract the second column would be something like this:
p12772
aVThis will leave the second column values in the Array
p12773
aVAll this does is breaks the  into lines, breaks each line into whitespace delimited columns, and then extracts the second column
p12774
aVThere's probably no need to try to be too clever for something like this, a simple and straight forward solution should be sufficient
p12775
aVReferences:
p12776
as(dp12777
g10
V479863
p12778
stp12779
a((dp12780
g2
(lp12781
VYou can almost do what you want by storing the size of  as a separate entry:
p12782
aVAnd then:
p12783
aVThen you'd just have to make sure your  initialization was right
p12784
aVYou could toss a macro in the mix to avoid repeating yourself though:
p12785
as(dp12786
g10
V479863
p12787
stp12788
a((dp12789
g2
(lp12790
VRuby's  is just a wrapper around the native libc
p12791
aVFrom  (Ruby 1
p12792
ag2959
aV2-p180):
p12793
aVAnd inside , we find this:
p12794
aVSo you should get the same results on a single platform but not necessarily the same results on different platforms (even after taking the usual floating point issues into account)
p12795
aVRuby's  doesn't offer any way to control the specific formatting of the exponent so you are at the mercy of the OS's libc (i
p12796
ag785
aVyou of luck, libc has no mercy)
p12797
aVIf necessary, you could use  and then normalize the format with some greasy regex mangling
p12798
aVNot exactly a pleasant solution but you do what you have to do
p12799
as(dp12800
g10
V479863
p12801
stp12802
a((dp12803
g2
(lp12804
VHere's an alternative approach that gets you the same result but doesn't use a switch
p12805
aVIf you put your regular expressions in an array, you could do something like this:
p12806
aVDeclaring  outside the block allows it to still be available after  is done with the block and  will stop as soon as the block returns a true value so you get the same shortcutting behavior that a switch gives you
p12807
aVThis gives you the full  if you need it (perhaps you want to use named capture groups in your regexes) and nicely separates your regexes from your search logic (which may or may not yield clearer code), you could even load your regexes from a config file or choose which set of them you wanted at run time
p12808
as(dp12809
g10
V479863
p12810
stp12811
a((dp12812
g2
(lp12813
VThis is a perfectly valid URL:
p12814
aVI suspect that you're just running into the Rails  stuff (i
p12815
ag785
aVat the end of the URL sets the format to HTML,  for JSON,
p12816
aVso you just need to fix your route to keep the format auto-detection from getting in the way:
p12817
aVor
p12818
aVor whatever routing syntax you're using
p12819
aVIf you don't tell rails that the  should match  (i
p12820
ag785
aVanything at all), it will try to interpret the periods in the route as format specifiers, that will fail and Rails will 404 because it can't figure out how to route the URL
p12821
as(dp12822
g10
V479863
p12823
stp12824
a((dp12825
g2
(lp12826
VNo, in here:
p12827
aVin the callback function refers only to the single element that was clicked
p12828
aVClick on the button and see for yourself: http://jsfiddle
p12829
aVnet/ambiguous/GyEck/
p12830
as(dp12831
g10
V479863
p12832
stp12833
a((dp12834
g2
(lp12835
VI'd guess that your focus listener is getting called when everything is starting up
p12836
aVYou could try checking if you have a  before starting the timers:
p12837
aVAnd since we're all properly paranoid here, put that check before both  calls
p12838
aVThen you'd want to nullifying  when you stop the timer:
p12839
aVYou'd want the above around all  calls of course
p12840
aVAlso, while I have your attention (
p12841
aV, I notice that you have two different  calls:
p12842
aVYou might want to make them the same to avoid confusion and bugs
p12843
as(dp12844
g10
V479863
p12845
stp12846
a((dp12847
g2
(lp12848
VMaybe you have some funny Unicode in your data, just because it looks like a hyphen doesn't mean that it is a hyphen
p12849
aVYou could try finding the entry you're looking for with  and then running the data through a hex dumper to see if it really is a plain ASCII hyphen or some Unicode thing that looks like a hyphen
p12850
aVIf this is the case, then loosen up your search pattern to something like  and tweak it until it finds exactly what you're looking for
p12851
aVBTW, you're not the first person to come across tricky Unicode:
p12852
aVString is not equal to itself
p12853
as(dp12854
g10
V479863
p12855
stp12856
a((dp12857
g2
(lp12858
VYou could use uses curses to handle your output but that would probably be overkill for something simple like this
p12859
aVThe usual way is to print out a bunch of backspaces to reposition the output cursor at the beginning of your last string; be aware that  doesn't necessarily overwrite anything so you'll have to overwrite the end with spaces to be safe
p12860
aVSomething like this:
p12861
aVYou'll want to use  to avoid buffering and the usual  that  appends
p12862
aVThis sort of thing should work in any terminal that you're likely to come across
p12863
aVYou could also use a carriage return () instead of a bunch of backspaces:
p12864
aVBut you'll still need all the  fiddling to make sure you overwrite all of the last line
p12865
as(dp12866
g10
V479863
p12867
stp12868
a((dp12869
g2
(lp12870
VThis:
p12871
aVIs creating/modifying the class , not
p12872
aVTry doing
p12873
aVAnd you'll see
p12874
aVYou could do something like this instead:
p12875
aVSome useful references:
p12876
as(dp12877
g10
V479863
p12878
stp12879
a((dp12880
g2
(lp12881
VStart by making the  a child of your :
p12882
aVFiddle: http://jsfiddle
p12883
aVnet/ambiguous/WFf9X/1/
p12884
aVThat way, you'll still be hovering over the  when the mouse is inside the
p12885
aVThe problem with this is that it makes the whole  part of the link but you can clean that up by using something else instead of the  and moving the  inside that "something else":
p12886
aVFiddle: http://jsfiddle
p12887
aVnet/ambiguous/WFf9X/2/
p12888
as(dp12889
g10
V479863
p12890
stp12891
a((dp12892
g2
(lp12893
VYour script erases the page because you're using :
p12894
aVWriting to a document that has already loaded without calling  will automatically perform a  call
p12895
aVAnd :
p12896
aVIf a document exists in the target, this method clears it
p12897
aVSo if you call  any time except when the document is being initially loaded, you'll replace the entire document with what you write
p12898
aVDon't use  to do your updates, just use a bit of AJAX to reload some new data from your server and then replace just the parts you need to replace using what ever DOM manipulation or jQuery techniques work best
p12899
aVOnce you have that working, use  or  to arrange calls to your server for fresh data
p12900
as(dp12901
g10
V479863
p12902
stp12903
a((dp12904
g2
(lp12905
VYou have these in the table definition:
p12906
aVSo you already have  or  in your table and trying to insert them again is violating the unique constraints on those columns
p12907
as(dp12908
g10
V479863
p12909
stp12910
a((dp12911
g2
(lp12912
VYour database is probably using UTC timestamps (at least it should be) but  is in your local timezone
p12913
aVThen you call  and lose the timezone information
p12914
aVTry this:
p12915
aVSo you call  to get back to 00:00:00 and then convert to UTC with  to get your timestamps into UTC to match the database
p12916
aVYou want to keep the time-of-day around all through this so that you don't lose track of what's going during the timezone transitions
p12917
as(dp12918
g10
V479863
p12919
stp12920
a((dp12921
g2
(lp12922
VSaying  doesn't mean anything useful in that context, you want to reference the newly created row using :
p12923
aVFrom the fine manual:
p12924
aVYou can refer to columns in the subject table (the table associated with the trigger) by using the aliases  and
p12925
ag3892
aVrefers to the column of a new row to be inserted or an existing row after it is updated
p12926
as(dp12927
g10
V479863
p12928
stp12929
a((dp12930
g2
(lp12931
VYour  is floating to the right but it is floating to the right within its parent , have a look at this borderized version and you'll see:
p12932
aVhttp://jsfiddle
p12933
aVnet/ambiguous/YHs36/
p12934
aVThe easiest solution is to float the  to the right and then adjust the  a bit to get it positioned properly
p12935
aVYou can change the CSS to this:
p12936
aVand then HTML like this:
p12937
aVLive example: http://jsfiddle
p12938
aVnet/ambiguous/qww58/
p12939
aVI replaced the login image with a kitten so that I could see where it was
p12940
aVAnd because I like kittens
p12941
aVFeel free to change it to http://placedog
p12942
aVcom/ if you prefer dogs, dogs are cool too
p12943
as(dp12944
g10
V479863
p12945
stp12946
a((dp12947
g2
(lp12948
VYes, you can add comments to columns in MySQL:
p12949
aVAnd then you can view them with :
p12950
aVThe FULL keyword causes the output to include the column collation and comments, as well as the privileges you have for each column
p12951
aVComments are fairly spacious now, they used to be pretty small:
p12952
aVA comment for a column can be specified with the COMMENT option, up to 1024 characters long
p12953
as(dp12954
g10
V479863
p12955
stp12956
a((dp12957
g2
(lp12958
VYou should be dropping your old table right before creating the new version:
p12959
aVAnd since you can't really reverse that , you might want to raise an exception in the rollback:
p12960
aVOr maybe you just want to keep your current
p12961
as(dp12962
g10
V479863
p12963
stp12964
a((dp12965
g2
(lp12966
VFrom the fine manual:
p12967
aVNote that the value portion of the cookie will automatically be urlencoded when you send the cookie, and when it is received, it is automatically decoded and assigned to a variable by the same name as the cookie name
p12968
aVIf you don't want this, you can use  instead if you are using PHP 5
p12969
aVBut I think you still want the cookie URL encoded, you just want  for spaces instead of
p12970
aVHowever, :
p12971
ag3892
aVfor historical reasons, spaces are encoded as plus (+) signs
p12972
aVYou could try using  to encode it yourself:
p12973
aVReturns a string in which all non-alphanumeric characters except  have been replaced with a percent (%) sign followed by two hex digits
p12974
aVThis is the encoding described in RFC 3986 [
p12975
aVAnd then  to set the cookie
p12976
aVUnfortunately, none of , , or even the deprecated  JavaScript functions will convert a  back to a space; so, you're probably stuck forcing everyone to make sense the hard way
p12977
as(dp12978
g10
V479863
p12979
stp12980
a((dp12981
g2
(lp12982
VYou could try manually attaching a  to your  inside your controller:
p12983
aVNote that the  is "inherited" () by the newly created hashes so that you get new hashes all the way down
p12984
aVThen, you could do this:
p12985
aVAnd it would work
p12986
aVThe downside is that you'd always get an empty hash when you asked for something that wasn't there so you might have to call  in places where you would normally call
p12987
aVSo you'd have something like this:
p12988
aVDepending on your specific circumstances, you might be able to trim  down to something a bit nicer; for example, if  should be numbers all the way down then  would be sufficient
p12989
aVThis  approach might be too clever for your specific needs but the general technique is worth mentioning
p12990
as(dp12991
g10
V479863
p12992
stp12993
a((dp12994
g2
(lp12995
VWhen you say this:
p12996
aVYou're assuming that  is a variable but it isn't a variable, it is just a DOM  attribute
p12997
aVYou could say this:
p12998
aVto turn it into an object inside the function call or you could send an ID to  and let it turn the ID into an object:
p12999
aVand then adjust :
p13000
as(dp13001
g10
V479863
p13002
stp13003
a((dp13004
g2
(lp13005
VDo you really need to base the code on the ID
p13006
aVFour digits only gives you ten thousand possible values so you could generate them all with a script and toss them in a database table
p13007
aVThen just pull a random one out of the database when you need it and put it back in when you're done with it
p13008
aVYour code table would look like this:
p13009
aV: The code
p13010
aV: A UUID, a NULL value here indicates that this code is free
p13011
aVThen, to grab a code, first generate a UUID, , and do this:
p13012
aV(where  would be your ) to reserve the code in a safe manner and then this:
p13013
aV(where  is again your ) to pull the code out of the database
p13014
aVLater on, someone will use the code for something and then you just:
p13015
aV(where  is the code) to release the code back into the pool
p13016
aVYou only have ten thousand possible codes, that's pretty small for a database even if you are using
p13017
aVA nice advantage of this approach is that you can easily see how many codes are free; this lets you automatically check the code pool every day/week/month/
p13018
aVand complain if the number of free codes fall below, say, 20% of the entire code space
p13019
aVYou have to track the in-use codes anyway if you want to avoid duplicates so why not manage it all in one place
p13020
as(dp13021
g10
V479863
p13022
stp13023
a((dp13024
g2
(lp13025
VYou have  on a few elements but you haven't set any of , , , or  to tell the browser where they should be positioned
p13026
aVThe browser will be left to guess (within limits) what you mean if you don't specify the position and different browsers will guess different things
p13027
aVThe solution is to add  and  properties to all your  elements
p13028
as(dp13029
g10
V479863
p13030
stp13031
a((dp13032
g2
(lp13033
VYou don't need to keep your migrations around forever, you are free to delete them as soon as you're sure you don't need them anymore
p13034
aVJust go into your  directory and delete the migrations that are older than, say, a couple months
p13035
aVAs long as all the migrations that you want to delete have been applied everywhere (i
p13036
ag785
aVdevelopment and production) then you don't need them anymore (unless you want to go backwards)
p13037
aVReally, migrations aren't meant to be permanent files, they're just around to get you from A to B and then they're just baggage
p13038
as(dp13039
g10
V479863
p13040
stp13041
a((dp13042
g2
(lp13043
VIf you update , you're doing an UPDATE and all of the UPDATE triggers will fire
p13044
aVAll you need to do is compare the new and old values of  and only apply your MD5 if they are different
p13045
aVLucky for you, MySQL supplies  and  row aliases:
p13046
aVYou can refer to columns in the subject table (the table associated with the trigger) by using the aliases  and
p13047
aVrefers to a column of an existing row before it is updated or deleted
p13048
aVrefers to the column of a new row to be inserted or an existing row after it is updated
p13049
aVTry using :
p13050
aVThis shouldn't change  unless  (the new password) and  (the hashed password that is already in the database) are different
p13051
aVOf course, this might fail if someone manages to enter the MD5 of their old password as their new password but that's pretty unlikely
p13052
as(dp13053
g10
V479863
p13054
stp13055
a((dp13056
g2
(lp13057
VYou want :
p13058
aVReturns a one-level deep copy of a portion of an array
p13059
aVSo if you
p13060
aVThen  will still be  and  will be
p13061
aVTake care with the second argument to  though, it is one more than the last index that you want to slice out:
p13062
aVZero-based index at which to end extraction
p13063
aVextracts up to but not including
p13064
as(dp13065
g10
V479863
p13066
stp13067
a((dp13068
g2
(lp13069
VI think your jQuery selector is wrong, change this:
p13070
aVto this:
p13071
aVThe jQuery function, , takes a CSS-ish selector, not a raw ID
p13072
aVAlso,  returns a boolean, not a string, so you want just
p13073
as(dp13074
g10
V479863
p13075
stp13076
a((dp13077
g2
(lp13078
VYou seem to be a bit confused about the difference between server-side and client-side code
p13079
aVThe ERB is executed on the server, the JavaScript on the client
p13080
aVWhen your ERB is being executed, Ruby pretty much sees this:
p13081
aVSimplifying a little bit more, the ERB boils down to something like this:
p13082
aVWhen you unwrap the ERB, it becomes pretty obvious why  is being executed
p13083
aVIn ERB land, all your JavaScript is just a bunch of uninterpreted strings: your JavaScript is just a bunch of meaningless text until it gets to the client browser
p13084
aVThen, the browser will see something like this:
p13085
aVYour ERB is nowhere to be seen because it was handled on the server
p13086
aVBut, your  is seen and it will be interpreted by the client
p13087
aVHowever, your ERB has already run so the  cannot affect your  Ruby call
p13088
as(dp13089
g10
V479863
p13090
stp13091
a((dp13092
g2
(lp13093
VYou can do this yourself like this:
p13094
aVUse  to set up a function to be run periodically
p13095
aVThe function would call  on the Google map object to "rotate" it a bit
p13096
aVThat should give you a simple animation that does what you want
p13097
aVYou'd want to adjust the time interval that you give to  to get something that feels smooth of course
p13098
aVYou should have something like this:
p13099
aVChoosing appropriate  and  values is up to you
p13100
as(dp13101
g10
V479863
p13102
stp13103
a((dp13104
g2
(lp13105
VPull the ERB chunks out into separate JavaScript variables, format the ERB any way you want, and then paste it all together in JavaScript land
p13106
aVPerhaps something like this:
p13107
aVThat should get you started
p13108
aVI'd go a bit further and move the  attributes into your style sheet; that would cut down on the noise and give you a cleaner separation of concerns
p13109
as(dp13110
g10
V479863
p13111
stp13112
a((dp13113
g2
(lp13114
VYou could do it all with  if you didn't mind added an extra byte yourself:
p13115
aVI don't know if that qualifies as better, that's pretty subjective
p13116
as(dp13117
g10
V479863
p13118
stp13119
a((dp13120
g2
(lp13121
VFrom the fine manual:
p13122
aVIf the conditions hash does not give you enough control over defining abilities, you can use a block along with any Ruby code you want
p13123
aVIf the block returns true then the user has that :update ability for that project, otherwise he will be denied access
p13124
aVThe downside to using a block is that it cannot be used to generate conditions for database queries
p13125
aVYour first block:
p13126
aVWill always return a true value because  returns  ( is just a wrapper for  and you have to read the source to see what  returns as it isn't very well documented)
p13127
aVWithout the  call, the block returns just:
p13128
aVand that must be false for you
p13129
as(dp13130
g10
V479863
p13131
stp13132
a((dp13133
g2
(lp13134
VYou have a buffer overflow right here in your  function:
p13135
aVYour  only has room for seven bytes and it is already full before you try to append  to it
p13136
aVYou're getting lucky with this:
p13137
aVas you still don't have enough space allocated to append  to it; you're also missing the trailing space on this version of  but that's not relevant to your segfault
p13138
aVYour  should be copying  directly to  and then appending  to
p13139
aVThis would also avoid altering the  and  arguments and that would be more polite; you also don't pass the sizes of the  and  arrays so there's no way to know if there is room to append anything to them
p13140
as(dp13141
g10
V479863
p13142
stp13143
a((dp13144
g2
(lp13145
VFrom the fine manual:
p13146
aVThe REGEXP operator is a special syntax for the regexp() user function
p13147
aVNo regexp() user function is defined by default and so use of the REGEXP operator will normally result in an error message
p13148
aVIf a application-defined SQL function named "regexp" is added at run-time, that function will be called in order to implement the REGEXP operator
p13149
aVSo the grammar supports REGEXP but the default SQLite library does not provide an implementation for it
p13150
aVYou'll have to hook up your own implementation through some C wrangling if you want or need such a thing
p13151
aVPresumably the rationale is that the SQLite people want to keep SQLite as small and tight as possible but including a whole regular expression library would add weight that most people don't want
p13152
aVAlso, they would have to choose a regular expression library and include it with the SQLite source or they'd have to put up with the vagaries of everyone's regular expression support in libc
p13153
aVI'm not one of the SQLite developers so this is pure speculation
p13154
aVI'm guessing that you'll probably have to make do with LIKE and GLOB
p13155
aVUsing LIKE will provide a more portable solution
p13156
as(dp13157
g10
V479863
p13158
stp13159
a((dp13160
g2
(lp13161
VYou'd want a before-insert or after-insert trigger on :
p13162
aVThen the  function would look something like this:
p13163
aVThe funny looking  is, more or less, the SQL version of a heredoc
p13164
aVThat wraps the "is it on the blacklist" check and the  insertion in one simple bit of SQL
p13165
aVThe  variable in a trigger is a reference to the new row that you're working with
p13166
aVIf  doesn't match anything in , then the SELECT won't produce anything and the INSERT will not be executed
p13167
aVPresumably you'd have an index on  (which looks like a PK anyway) so the above should be quick enough
p13168
aVThe PostgreSQL documentation is pretty good and has a whole section on stored procedures and triggers if you need a reference
p13169
as(dp13170
g10
V479863
p13171
stp13172
a((dp13173
g2
(lp13174
VYou can just add  (a single space followed by ) to match zero or more spaces:
p13175
aVIf you're on OSX, you could allow for more whitespace than just spaces using this:
p13176
aVand the same will work with GNU sed(1) if you use  in place of :
p13177
aVGNU sed(1) also understands  for whitespace:
p13178
as(dp13179
g10
V479863
p13180
stp13181
a((dp13182
g2
(lp13183
VYou can't do a simple  because that produces a  in your SQL when you'll be selecting ungrouped and unaggregated columns, that leaves ambiguity as to which row to pick and PostgreSQL (rightly IMHO) complains:
p13184
aVWhen GROUP BY is present, it is not valid for the SELECT list expressions to refer to ungrouped columns except within aggregate functions, since there would be more than one possible value to return for an ungrouped column
p13185
aVIf you start adding more columns to your grouping with something like this:
p13186
aVthen you'll be grouping by things you don't want to and you'll end up pulling out the whole table and that's not what you want
p13187
aVIf you try aggregating to avoid the grouping problem, you'll end up mixing different rows (i
p13188
ag785
aVone column will come from one row while another column will come from some other row) and that's not what you want either
p13189
aVActiveRecord really isn't built for this sort of thing but you can bend it to your will with some effort
p13190
aVYou're using AR so you presumably have an  column
p13191
aVIf you have PostgreSQL 8
p13192
aV4 or higher, then you could use window functions as a sort of localized GROUP BY; you'll need to window twice: once to figure out the / pairs and again to pick just one  (just in case you have multiple rows with the same  and  which match the earliest ) and hence get a unique row:
p13193
aVThen wrap that in a  and you have your objects
p13194
aVIf you're using Heroku with a shared database (or some other environment without 8
p13195
aV4 or higher), then you're stuck with PostgreSQL 8
p13196
aV3 and you won't have window functions
p13197
aVIn that case, you'd probably want to filter out the duplicates in Ruby-land:
p13198
aVIf you're pretty sure that there won't be duplicate / pairs then the 8
p13199
aV3-compatible solution might be your best bet; but, if there will be a lot of duplicates, then you want the database to do as much work as possible to avoid creating thousands of AR objects that you're just going to throw away
p13200
aVMaybe someone else with stronger PostgreSQL-Fu than me will come along and offer something nicer
p13201
as(dp13202
g10
V479863
p13203
stp13204
a((dp13205
g2
(lp13206
VYour first task is to replace that  with a , you can also skip the  by sorting things in the desired order in the first place:
p13207
aVThe  method will have to do many comparisons while sorting and each comparison requires two  calls, the  method does a Schwartzian Transform internally so your expensive  will only be called once per entry
p13208
aVThe negation inside the block is just an easy way to reverse the sort order (I'm assuming that your scores are numeric)
p13209
aVFix up the obvious performance problem and then move on to benchmarking various solutions (but be sure to benchmark  versus  just to be sure that "obvious" matches reality)
p13210
as(dp13211
g10
V479863
p13212
stp13213
a((dp13214
g2
(lp13215
VI'm not exactly proud of this but:
p13216
aVYes, there are subqueries galore but maybe you can make it work or simplify it into something that will work
p13217
as(dp13218
g10
V479863
p13219
stp13220
a((dp13221
g2
(lp13222
V is a property of a DOM object, not a function:
p13223
aVHeight of the scroll view of an element; it includes the element padding but not its margin
p13224
aVGiven this:
p13225
aVThis yields 200:
p13226
aVFor example: http://jsfiddle
p13227
aVnet/ambiguous/u69kQ/2/ (run with the JavaScript console open)
p13228
as(dp13229
g10
V479863
p13230
stp13231
a((dp13232
g2
(lp13233
VTry this:
p13234
aVYou have a precedence problem
p13235
aVThe  block binds tighter than a  block and tighter than a function call; the result is that Ruby thinks you're trying to supply a block as an argument to a symbol and says no
p13236
aVYou can see a clearer (
p13237
aVor possibly more familar example by comparing the following:
p13238
as(dp13239
g10
V479863
p13240
stp13241
a((dp13242
g2
(lp13243
VThere are a lot of ways of doing this but here's one:
p13244
aVYou could use more sed(1) () instead of the  to remove the leading space but cut(1) doesn't get as much love as it deserves
p13245
aVAnd the backslashes are just there for formatting, you can remove them to get a one liner or leave them in and make sure that they're immediately followed by a newline
p13246
aVThe basic strategy is to slowly pull the HTML apart piece by piece rather than trying to do it all at once with a single incomprehensible pile of regex syntax
p13247
aVParsing HTML with a shell pipeline isn't the best idea ever but you can do it if the HTML is known to come in a very specific format
p13248
aVIf there will be variation then you'd be better with with a real HTML parser in Perl, Ruby, Python, or even C
p13249
as(dp13250
g10
V479863
p13251
stp13252
a((dp13253
g2
(lp13254
VYour problem is probably right here:
p13255
aVPresumably,  looks something like this:
p13256
aVBut  is an asynchronous function call:
p13257
aVThe  method takes one, two or three arguments
p13258
aVWhen called, it must immediately return and then asynchronously attempt to obtain the current location of the device
p13259
aVIf the attempt is successful, the  must be invoked [
p13260
aVEmphasis mine
p13261
aVSo, your  callback will be called by  when it has the position, not when you call
p13262
aVSo, when you get to here:
p13263
aVYour  won't necessarily contain anything useful and you probably get an error telling you that  is undefined or not an object or something similar
p13264
aVYou need to move your  and  stuff to inside the  callback where you'll have a useful  value
p13265
as(dp13266
g10
V479863
p13267
stp13268
a((dp13269
g2
(lp13270
VI think your problem is the language you're using
p13271
aVEXECUTE in the SQL language:
p13272
aVis used to execute a previously prepared statement
p13273
aVSince prepared statements only exist for the duration of a session, the prepared statement must have been created by a  statement executed earlier in the current session
p13274
aVisn't the same as EXECUTE in PL/pgSQL:
p13275
aVOftentimes you will want to generate dynamic commands inside your PL/pgSQL functions, that is, commands that will involve different tables or different data types each time they are executed
p13276
aVPL/pgSQL's normal attempts to cache plans for commands (as discussed in Section 39
p13277
aV10
p13278
aV2) will not work in such scenarios
p13279
aVTo handle this sort of problem, the  statement is provided:
p13280
aVYou're using the SQL EXECUTE (which executes a prepared statement) when you want to be using the PL/pgSQL EXECUTE (which executes a string as SQL)
p13281
aVTry this:
p13282
aVOr, another example that seems closer to what you seem to be trying to do:
p13283
aVThat will insert  into the table that you pass in the  argument to the function
p13284
as(dp13285
g10
V479863
p13286
stp13287
a((dp13288
g2
(lp13289
VJust the usual array access syntax followed by the usual composite type access syntax
p13290
aVSo a bit of setup for demonstration purposes:
p13291
aVAnd then:
p13292
aVYou can also access the composite type inside a WHERE clause:
p13293
as(dp13294
g10
V479863
p13295
stp13296
a((dp13297
g2
(lp13298
VI'm guessing that  is actually a date in the database, not a datetime or timestamp
p13299
aVSo, you need to convert your Ruby Datetimes to just Date instances:
p13300
aVIf you don't convert them to Dates by hand, AR won't know that it is supposed to convert them to dates for the database; then, depending on the underlying database, you could get empty results or possibly errors
p13301
as(dp13302
g10
V479863
p13303
stp13304
a((dp13305
g2
(lp13306
VIn your HTML, you have this:
p13307
aVAnd in your external script, you have this:
p13308
aVSo your external script will vaporize your inlined JavaScript in your HTML when it replaces the content of  with the  call
p13309
aVTry moving your inlined JavaScript outside the
p13310
aVAlso, from the comments, you're not running any of this through a server
p13311
aVAJAX calls, such as , generally don't work with the local file system to due security issues
p13312
aVSo, if you need to test AJAX, set up a web server
p13313
aVAnd, finally, the most likely source of your problem (which I really should have spotted right away):
p13314
aVThe  function wants a function as the callback but you're executing the  function and leaving its return value as the callback
p13315
aVYour  should look like this:
p13316
aVI dropped the empty string  argument too, you don't need it
p13317
as(dp13318
g10
V479863
p13319
stp13320
a((dp13321
g2
(lp13322
VYou just need a route with a parameter in it:
p13323
aVMake sure that's after your other routes or it will get called for almost everything (such as  which you're already handling)
p13324
aVYou can, of course, put other parameters in the routes:
p13325
aVYou just need to make sure you get the order right or the routes can fight each other
p13326
aVRoutes are matched in the same order that they're added in so the more general catch-all routes usually go at the bottom
p13327
as(dp13328
g10
V479863
p13329
stp13330
a((dp13331
g2
(lp13332
VIf the XML is in  then:
p13333
aVThe CSS style  is probably the easiest approach for something like this
p13334
aVYou could also use XPath if you prefer:
p13335
as(dp13336
g10
V479863
p13337
stp13338
a((dp13339
g2
(lp13340
VPerl regexes (or anything that understands non-greedy  expressions) are easier than sed for this:
p13341
aVThat will handle things like "11
p13342
aV23" as well
p13343
as(dp13344
g10
V479863
p13345
stp13346
a((dp13347
g2
(lp13348
VNot with vanilla CSS but you can do that sort of thing with less or sass
p13349
as(dp13350
g10
V479863
p13351
stp13352
a((dp13353
g2
(lp13354
VThe  function:
p13355
aVgets the attribute value for only the first element in the matched set
p13356
aVSo this:
p13357
aVworks because  is the  element so there is only one element
p13358
aVThe  one:
p13359
aVJust grabs the  attribute of the first
p13360
aVIf you want all the  elements, use :
p13361
aVYou don't need to use  to get an ID if you have a DOM object ( inside the ), you can just access the attribute directly
p13362
aVIf you only want the  that's in the same row as the  (as noted in the comments), then you can use  to walk up the DOM a bit and then  to come back down:
p13363
aVAnd there are multiple  elements in the table row and you want them all, then combine both approaches:
p13364
as(dp13365
g10
V479863
p13366
stp13367
a((dp13368
g2
(lp13369
VThere's no need to mess around with the classes on the buttons and it probably isn't a good idea anyway
p13370
aVThe buttons in a jQuery-UI dialog are jQuery-UI buttons and they support  and  methods in the usual jQuery-UI style:
p13371
aVFirst of all, replace this:
p13372
aVWith this:
p13373
aVThen, in your edit handler, do this:
p13374
aVTo enable the button
p13375
aVAs far as the selectors go, the main dialog  has a  class so we start off with
p13376
aVThen, we want the buttons inside the dialog so we're looking for  elements; this gives us
p13377
aVThe buttons in the dialog are listed from left to right in the same order as in the  option to the dialog
p13378
aVThere are various ways to get the first button:
p13379
aVI went with  which is a CSS3 selector:
p13380
aVThe  pseudo-class notation represents an element that has  siblings before it in the document tree, for any positive integer or zero value of , and has a parent element
p13381
aVSo  is the first button
p13382
aVI figured that if you were doing things to one button, you'd probably end up doing things to other buttons so, for example, you could do  to get the "Edit" button and that would line up nicely with the selector used for the "Issue" button
p13383
as(dp13384
g10
V479863
p13385
stp13386
a((dp13387
g2
(lp13388
VThe first chunk is for Rails 3
p13389
aV1 (older versions will be pretty much the same); the second chunk is for the standard non-Rails JSON
p13390
aVSkip to the end if tl;dr
p13391
aVYour problem is that Rails does this:
p13392
aVin
p13393
aVIn particular, that changes Hash's  method into just an  call
p13394
aVThen, looking at , we see this:
p13395
aVSo all the Rails JSON encoding goes through
p13396
aVBut, you're not defining your own  for Set, you're just setting up  and getting confused when Rails ignores something that it doesn't use
p13397
aVIf you set up your own :
p13398
aVthen you'll get what you're after in the Rails console and Rails in general:
p13399
aVKeep in mind that  is used to prepare an object for JSON serialization and then  produces the actual JSON string
p13400
aVThe  methods generally return simple serializable data structures, such as Hash and Array, and have direct analogues in JSON; then, once you have something that is structured like JSON,  is used to serialize it into a linear JSON string
p13401
aVWhen we look at the standard non-Rails JSON library, we see things like this:
p13402
aVmonkey patched into the basic classes (Symbol, Time, Date,
p13403
aVSo once again,  is generally implemented in terms of
p13404
aVIn this environment, we need to include the standard  as well as the above  for Set:
p13405
aVAnd we include your  class method for the decoder
p13406
aVOnce that's all properly set up, we get things like this in :
p13407
aVExecutive Summary: If you're in Rails, don't worry about doing anything with ,  is what you want to play with
p13408
aVIf you're not in Rails, implement most of your logic in  (despite what the documentation says) and add the standard  implementation () as well
p13409
as(dp13410
g10
V479863
p13411
stp13412
a((dp13413
g2
(lp13414
VFirst of all, you're missing a closing parenthesis here:
p13415
aVand you should always supply the  argument to :
p13416
aVThen you have a scope issue with
p13417
aVYou're declaring  in the first function argument to  but trying to use it in both the first and second functions; the result is that the  in the mouseout function does nothing because  isn't defined in there
p13418
aVIf you put your  outside the hover functions:
p13419
aVYou'll get better results
p13420
as(dp13421
g10
V479863
p13422
stp13423
a((dp13424
g2
(lp13425
VYou could just use  with :
p13426
aVThe  and  values are populated with the capture groups
p13427
aVIf you really need a space, you could try something like :
p13428
aVBut then you'd have to check for  instead of checking for
p13429
aVYou could start adding more groups and alternations to take care of the single  problem but I don't see how that would be any better than:
p13430
as(dp13431
g10
V479863
p13432
stp13433
a((dp13434
g2
(lp13435
VMaybe, depends on the plugin
p13436
aVIf it looks like this:
p13437
aVThen you're out of luck
p13438
aVHowever, quite a few plugins publish their defaults as:
p13439
aVWhere  is the plugin name
p13440
aVIf the defaults are publicly accessible like that (or if you want to hack the plugin to make them public), then you can change the defaults whenever you want
p13441
aVOf course, the new defaults won't apply to existing instances
p13442
aVIf this your own plugin then I think your architecture is a bit off
p13443
aVThe "full screen" versus "specified width and height" configuration should be an option for the plugin and leave the default as something sensible (where "sensible" is, as always, context dependent)
p13444
aVThen you'd just say this:
p13445
aVYou could also use the  trick to allow the sensible defaults to be changed as needed
p13446
as(dp13447
g10
V479863
p13448
stp13449
a((dp13450
g2
(lp13451
VFor MySQL:
p13452
aVYou want to sort the rows from highest to lowest , hence the
p13453
aVThen you just want the first one so :
p13454
aVThe LIMIT clause can be used to constrain the number of rows returned by the SELECT statement
p13455
ag3892
aVWith one argument, the value specifies the number of rows to return from the beginning of the result set
p13456
as(dp13457
g10
V479863
p13458
stp13459
a((dp13460
g2
(lp13461
VFrom the fine manual:
p13462
aVEncapsulates the pattern of wanting to validate the acceptance of a terms of service check box (or similar agreement)
p13463
aVThe idea is that they have to check the  checkbox and that should result in a true value; but  being a non-true value will fail the validation and the validator will tell you that "Public must be accepted"
p13464
aVMaybe you're looking for:
p13465
aVThe documentation also says:
p13466
aVThis check is performed only if  is not
p13467
aVAnd the  refers to their example
p13468
aVSo you could also do this:
p13469
aVif you wanted to get an entry in MongoDB that looked like someone slipped past your validations
p13470
as(dp13471
g10
V479863
p13472
stp13473
a((dp13474
g2
(lp13475
VYou're reading the data, updating it, and then neglecting to write it back to the file
p13476
aVYou need something like:
p13477
aVimmediately before or after this:
p13478
aVAs DMG notes below, just overwriting the file isn't properly paranoid as you could be interrupted in the middle of the write and lose data
p13479
aVIf you want to be paranoid (which all of us should be because they really are out to get us), then you want to write to a temporary file and then do an atomic rename to replace the original file the new one
p13480
aVA rename generally only works when you stay within a single file system as there is no guarantee that the OS's temp directory (which  uses by default) will be on the same file system as  so  might not even be an option with a  unless precautions are taken
p13481
aVBut the  constructor takes a  parameter so we're saved:
p13482
aVYou might want to stick that in a separate method ( perhaps) to avoid further cluttering your block
p13483
as(dp13484
g10
V479863
p13485
stp13486
a((dp13487
g2
(lp13488
VFirst of all, storing persistent data in a controller's class variable isn't going to work the way you want it to
p13489
aVThere's no guarantee that  will be the same array on your next  call; for example, your next  call could be handled by a different process
p13490
aVAlso, what happens if two different clients call
p13491
aVDo you really want to mix their data together in one pile
p13492
aVProbably not
p13493
aVYour first task is to replace  with a real per-user persistent store
p13494
aVIf you want to return nothing at all from your controller, just do this at the end of your controller method:
p13495
aVThat will tell Rails that something has already been rendered so it doesn't need to try the default rendering action (which is to render the  view) and returns nothing more than a 200 status code to the client
p13496
aVOnce that's in place, you'll probably want to AJAXify your button with :
p13497
aV- If set to true, will allow the Unobtrusive JavaScript drivers to control the submit behaviour
p13498
aVBy default this behaviour is an ajax submit
p13499
aVSo this:
p13500
aVNote that  looks like this:
p13501
aVand that  is for  but  is for  so you have to explicitly set up the hashes with ; you could just wrap the  in braces:
p13502
aVbut I prefer the consistency of wrapping them both by hand
p13503
as(dp13504
g10
V479863
p13505
stp13506
a((dp13507
g2
(lp13508
VThe error you're getting is "Not Found"
p13509
aVThat means that you have no handler for  set up on your server
p13510
aVYou need to configure your server software to know what to do with a URL like , you should also consider using an absolute path for the  option so that you don't have to care where you are when the JavaScript is run, something like  would serve you better
p13511
aVFurthermore, the  option to  can be a simple object:
p13512
aVThere is no need to JSON encode it yourself, let jQuery deal with that
p13513
as(dp13514
g10
V479863
p13515
stp13516
a((dp13517
g2
(lp13518
VTo get your  elements in the upper right corner, you want to use  but that would require  on the ; the problem is that not all browsers will allow  on a table cell so so you have to wrap the table cell's content in a :
p13519
aVAnd then this (with borders and background colors for illustrative purposes only) will put everything in the right place:
p13520
aVThe same sort of  trickery will work for your overlay:
p13521
aVAnd style it with something like this:
p13522
aVThen you just need to append the overlay to  when the hover starts and remove it when the hover ends; this example uses jQuery to avoid the noise of a raw JavaScript solution:
p13523
aVA live demo of the technique: http://jsfiddle
p13524
aVnet/ambiguous/ah5s3/1/
p13525
as(dp13526
g10
V479863
p13527
stp13528
a((dp13529
g2
(lp13530
VYou need a bit of reorganization to get the logic you're after:
p13531
aVThat should match both "John Doe" and "Doe John" but not "Jane Doe" when you call:
p13532
aVYou don't actually need the parentheses because AND has a higher precedence than OR in Boolean Algebra (and SQL's logic is based on Boolean Algebra) but there's no good reason not to include them
p13533
as(dp13534
g10
V479863
p13535
stp13536
a((dp13537
g2
(lp13538
VIf you have both  and  set, then you'll be doing this:
p13539
aVAnd that's saying
p13540
aVEach time you call , you're appending another condition with a conjunction (i
p13541
ag785
aVAND)
p13542
aVI think you're after this:
p13543
aVThat will turn into SQL sort of like this:
p13544
aVand that seems to be what you're after
p13545
aVThe  will extract the  values with for the specified state keys and then the  will filter out the blank ones (i
p13546
ag785
aV, , empty, or all whitespace)
p13547
as(dp13548
g10
V479863
p13549
stp13550
a((dp13551
g2
(lp13552
VI get the same problem in Safari and for the same reason: you're not clearing your floats in  and  isn't quite tall enough to contain all of its floated children
p13553
aVIf you increase the height of the header to 31px, you should (but maybe not) get the desired layout
p13554
aVA better approach is you add  as a clear fix, that will make all of the children of  fully contained with  and that will stop them from interfering with the layout of the next piece:
p13555
aVLive example: http://jsfiddle
p13556
aVnet/ambiguous/EUmyN/
p13557
aVA rule of thumb with floated elements is to always make sure they're cleared either with  on their container or, if necessary, with an explicit  at the bottom of the container
p13558
aVAlso, while we're here, you rarely need  on a block element such as a
p13559
aVIf you're positioning it or floating then maybe you'll need something like that but not for a plain ; block elements are full width by default
p13560
as(dp13561
g10
V479863
p13562
stp13563
a((dp13564
g2
(lp13565
VInside your outer callback,  will be the DOM element you care about, but inside the  callback,  will be
p13566
aVKeep in mind that  is a keyword, not a variable, and that it is highly context sensitive
p13567
aVThe usual approach is to capture the value of  in a variable and then use that variable instead of :
p13568
aVSimilar issues apply to all callbacks in JavaScript, always make sure you know what  is and grab its value and build a closure over that value when it won't be what you want
p13569
as(dp13570
g10
V479863
p13571
stp13572
a((dp13573
g2
(lp13574
VSomething like:
p13575
aVShould do the trick
p13576
aVLive example: http://jsfiddle
p13577
aVnet/ambiguous/ZrxRb/
p13578
aVWarning, I'm using images for the frame content and http://placedog
p13579
aVcom/ seems a bit slow tonight
p13580
as(dp13581
g10
V479863
p13582
stp13583
a((dp13584
g2
(lp13585
VThe input's handlers should be triggered first and then the event should bubble up the DOM hierarchy if it bubbles
p13586
aVFrom the DOM Events specification:
p13587
aVThe event is dispatched to its target EventTarget and any event listeners found there are triggered
p13588
aVBubbling events will then trigger any additional event listeners found by following the EventTarget's parent chain upward
p13589
ag3892
aVAny event handler may choose to prevent further event propagation by calling the  method of the  interface
p13590
aVIf any  calls this method, all additional  on the current  will be triggered but bubbling will cease at that level
p13591
aVOnly one call to  is required to prevent further bubbling
p13592
aVThe second paragraph applies to  and says that if the listener on the  calls , then the event should not get up to the
p13593
aVHowever, any remaining listeners on the  will see the change event,  just keeps the event from bubbling up the tree any further than the level at which  is called
p13594
aVFurthermore, the change event does bubble:
p13595
aVchange
p13596
aVThe change event occurs when a control loses the input focus and its value has been modified since gaining focus
p13597
aVThis event is valid for INPUT, SELECT, and TEXTAREA
p13598
aVelement
p13599
aVBubbles: Yes
p13600
as(dp13601
g10
V479863
p13602
stp13603
a((dp13604
g2
(lp13605
VLooking them up one at a time is needlessly wasteful
p13606
aVYou might not notice the waste with the small numbers that you're dealing with but bad habits are bad habits and, well, good habits are better
p13607
aVYou should load all the entries you need with a single database hit
p13608
aVIf you need them as objects then a Set of objects (or a hash which maps their IDs to the object) would make sense; if you only need to know if they exist, then add a method to the model something like this:
p13609
aVThen you could do things like this:
p13610
aVYou could use a Hash if you don't like Set, there's little difference for something like this
p13611
aVAs usual, the specific implementation depends on your requirements
p13612
aVBut don't be afraid to add methods to your models that collect and massage specific collections of data
p13613
as(dp13614
g10
V479863
p13615
stp13616
a((dp13617
g2
(lp13618
VAbsolutely position the boxes on the left and right sides, then set left and right margins on the middle area that match the widths of the side boxes
p13619
aVFor example:
p13620
aVAnd the CSS:
p13621
aVAnd a live version: http://jsfiddle
p13622
aVnet/ambiguous/TNzn9/
p13623
aVAlso, please stay away from w3schools, they will lead you astray
p13624
as(dp13625
g10
V479863
p13626
stp13627
a((dp13628
g2
(lp13629
VIf you want all questions with  of 1, then you want this:
p13630
aVI've switch to the ANSI join syntax rather than implied join conditions in the WHERE clause because the explicit version helps to avoid certain types of errors; in particular, ANSI joins help avoid accidental cross products and that's what your "MySQL format" query has because you neglected to include a join condition for
p13631
aVThat accidental cross product is almost certainly the source of your "returns each item 3 times" problem
p13632
as(dp13633
g10
V479863
p13634
stp13635
a((dp13636
g2
(lp13637
VI'd guess that your real problem is quote misuse
p13638
aVSingle quotes in SQL are for quoting string literals, double quotes are for quoting column and table names that need to be case sensitive or contain odd characters
p13639
aVSQLite is fairly forgiving of odd syntax so it is probably making a guess about what  means and guessing incorrectly
p13640
aVTry this:
p13641
as(dp13642
g10
V479863
p13643
stp13644
a((dp13645
g2
(lp13646
VThe serialization of objects in Rails has two steps:
p13647
aVFirst,  is called to convert the object to a simplified Hash
p13648
aVThen,  is called on the  return value to get the final JSON string
p13649
aVYou generally want to leave  alone so all you need to do is add your own  implementation sort of like this:
p13650
aVYou could also do it like this:
p13651
aVif you wanted to use different names for the method-backed values
p13652
aVIf you care about XML and JSON, have a look at
p13653
as(dp13654
g10
V479863
p13655
stp13656
a((dp13657
g2
(lp13658
VFirst use  to extract the part you want to delete:
p13659
aVThat leaves  in  and  in
p13660
aVThen a simple  to insert the new values:
p13661
aVThe result is  in  and  in
p13662
aVGeneralizing:
p13663
aVYou could also use  if you want variadic behavior:
p13664
aVMonkey patching and figuring out what you want to do about out of bounds issues with  and  is left as an exercise
p13665
as(dp13666
g10
V479863
p13667
stp13668
a((dp13669
g2
(lp13670
VYou could filter the  and then use  to build your hash slice:
p13671
aVis usually a better choice than  if you're iterating rather than reducing
p13672
aVGiven:
p13673
aVThe above yeilds:
p13674
aVThe / also has the added advantage of being explicitly driven by  (i
p13675
ag785
aVthe keys you want) and that may (or may not) matter to you and the people maintaining your code
p13676
as(dp13677
g10
V479863
p13678
stp13679
a((dp13680
g2
(lp13681
VProper markup is pretty important
p13682
aVJust because some invalid markup works in all of the current versions of the browsers you care about doesn't mean that it will keep working in future versions
p13683
aVAs long as there is some competition in the browser market, the browsers tend to get closer to the standard and non-standard HTML has a higher chance of failing in interesting ways
p13684
aVSticking to the standards helps you future proof your work and it helps you build good habits
p13685
aVConsider how many large organizations are still stuck using IE6 (yes, 6)
p13686
aVWhy are they stuck with it
p13687
aVThey are stuck with it because they had a suite of critical applications built that only work on IE6 due to non-standard HTML, CSS, JavaScript, ActiveX, etc
p13688
aVThese poor people are stuck with a pile of creaky ancient applications that can't be updated without paying for a complete rewrite
p13689
aVIf they built to standards in the first place (with hacks and kludges to account for the ever present non-standard behavior), it would be easier to move forward a little bit at a time
p13690
aVEverything you build that is non-standard anchors you in the present and leaves you stuck in the past next month
p13691
aVThere's no good reason to wear concrete boots when surfing and even less reason for your clients to wear them
p13692
as(dp13693
g10
V479863
p13694
stp13695
a((dp13696
g2
(lp13697
VYou're looking for DOM Level-2:
p13698
aVof type , readonly
p13699
aVThe name of the element
p13700
ag3892
aVNote that this is case-preserving in XML, as are all of the operations of the DOM
p13701
aVThe HTML DOM returns the  of an HTML element in the canonical uppercase form, regardless of the case in the source HTML document
p13702
aVSo  should always be upper case for HTML but the case will match the source document for XML
p13703
as(dp13704
g10
V479863
p13705
stp13706
a((dp13707
g2
(lp13708
VYou'd probably want something like this:
p13709
aVor perhaps this way:
p13710
aVThere are various ways to build the final string, the meat of it is that you're building a method that takes a block and iterates over an enumerable and applies the block to each element along the way
p13711
as(dp13712
g10
V479863
p13713
stp13714
a((dp13715
g2
(lp13716
VI think you want to keep the line that matches  but this loop:
p13717
aVthrows it away
p13718
aVYou could rearrange things a bit:
p13719
aVI haven't tested this but it should work baring typos and the like
p13720
as(dp13721
g10
V479863
p13722
stp13723
a((dp13724
g2
(lp13725
VIf you just want to list the category names, then you could use  sort of like this:
p13726
aVYou'd need a proper WHERE clause of course
p13727
aVThat will give you the usual stuff from  and the category names as a comma delimited list in
p13728
aVIf you need the category IDs as well, then two queries might be better: one to get the  information and a second to collect the categories:
p13729
aVwhere  is a comma delimited list of  ID values
p13730
aVThen you'd patch things up on the client side
p13731
as(dp13732
g10
V479863
p13733
stp13734
a((dp13735
g2
(lp13736
VYou could replace your floats with absolutely positioned sidebars:
p13737
aVAnd
p13738
aVLive: http://jsfiddle
p13739
aVnet/ambiguous/puPbu/
p13740
aVThe colors and sizes are just to clarify where everything is
p13741
aVIf you're going to put a wrapper  around the whole thing then you'll want to have  on it to get the absolutely positioned sidebars in the right place
p13742
as(dp13743
g10
V479863
p13744
stp13745
a((dp13746
g2
(lp13747
VYou can do it with  and :
p13748
aVYou could also use  instead of :
p13749
aVThe advantage of  is that you can specify the format rather than leaving it to  to guess
p13750
as(dp13751
g10
V479863
p13752
stp13753
a((dp13754
g2
(lp13755
VJust supply literal values in the SELECT:
p13756
aVA select list can contain any value expression:
p13757
aVBut the expressions in the select list do not have to reference any columns in the table expression of the FROM clause; they can be constant arithmetic expressions, for instance
p13758
aVAnd a string literal is certainly a value expression
p13759
as(dp13760
g10
V479863
p13761
stp13762
a((dp13763
g2
(lp13764
VIf you just want raw data then you can use  inside one of your model classes (i
p13765
ag785
aVanything that inherits from ActiveRecord::Base):
p13766
aVThere are other low level raw SQL methods listed in the doc I linked to above
p13767
aVYou'll also want to know about the quoting methods if you're doing stuff like this as there is no support for placeholders at this level
p13768
as(dp13769
g10
V479863
p13770
stp13771
a((dp13772
g2
(lp13773
VJust add another attribute selector:
p13774
aVThe order of the attribute selectors doesn't matter so you could also do this:
p13775
as(dp13776
g10
V479863
p13777
stp13778
a((dp13779
g2
(lp13780
VYes, it is possible
p13781
aVWrap it all in a  with , absolutely position the sidebar, and give the other two s a left margin that matches the sidebar's width
p13782
aVFor example:
p13783
aVCSS:
p13784
aVLive example: http://jsfiddle
p13785
aVnet/ambiguous/kRs54/1/
p13786
aVI'm using background colors to differentiate the blocks and smaller sizes to fit nicely in the jsfiddle results area
p13787
aVBlock elements, such as , consume all the available width less their margins unless you specify otherwise so you just give your  and  elements a large enough left margin to accomadata
p13788
aVThe left margin also keeps the right-side blocks in the right place when they're taller than the sidebar
p13789
as(dp13790
g10
V479863
p13791
stp13792
a((dp13793
g2
(lp13794
VTry adding a  file to your  directory that looks like this:
p13795
aVThat should automatically convert your  to plain CSS and include it in what  returns
p13796
as(dp13797
g10
V479863
p13798
stp13799
a((dp13800
g2
(lp13801
VThe  function has a callback so you can use that to rebind your handlers:
p13802
aVOr you might be able to use  or  instead of putting handlers on elements within
p13803
as(dp13804
g10
V479863
p13805
stp13806
a((dp13807
g2
(lp13808
VThe  call is asynchronous
p13809
aVSo, if you do this:
p13810
aVThe  will be executed before the  call finishes
p13811
aVYou have to put everything inside the  callback because that piece of code will be executed at some time in the future; the callback is free to pass any data it receives to other functions (as in Kishnore's answer) but code that is executed after  (where after means after in the source code) can't depend on the  call doing anything
p13812
aVYou could do something like this:
p13813
aVif you wanted to separate the  from what needs to be done with that JSON
p13814
aVIn this particular case, breaking it apart like the above is more busy work than real work but that sort of pattern (callbacks within callbacks, callbacks all the way down) is pretty common when dealing with AJAX
p13815
as(dp13816
g10
V479863
p13817
stp13818
a((dp13819
g2
(lp13820
VYou can use , , and  to do most of the work:
p13821
as(dp13822
g10
V479863
p13823
stp13824
a((dp13825
g2
(lp13826
VIt goes like this:
p13827
aVSeek to one byte before the end of the file using
p13828
aVThere's no guarantee that the last line will have an EOL so the last byte doesn't really matter
p13829
aVRead one byte using
p13830
aVIf that byte is an EOL then the last line is a single empty line and you have it
p13831
aVUse  again to go backwards two bytes and check that byte with
p13832
aVRepeat the above until you find an EOL
p13833
aVWhen you have an EOL, the file pointer will be at the beginning of the next (from the end) line
p13834
aVProfit
p13835
aVBasically you have keep doing (4) and (5) while keeping track of where you were when you found the beginning of a line so that you can seek back there before starting your scan for the beginning of the next line
p13836
aVAs long as you open your file in text mode you shouldn't have have to worry about multibyte EOLs on Windows (thanks for the reminder Mr
p13837
aVLutz)
p13838
aVIf you happen to be given a non-seekable input (such as a pipe), then you're out of luck unless you want to dump your input to a temporary file first
p13839
aVSo you can do it but it is rather ugly
p13840
aVYou could do pretty much the same thing using  and an pointer if you have  available
p13841
aVThe technique would be pretty much the same: start at the end and go backwards to find the end of the previous line
p13842
aVRe: "I am the one creating this file
p13843
aVSo, can I create in a way its in the reverse order
p13844
aVIs that possible
p13845
aVYou'll run into the same sorts of problems but they'll be worse
p13846
aVFiles in C are inherently sequential lists of bytes that start at the beginning and go to the end; you're trying to work against this fundamental property and going against the fundamentals is never fun
p13847
aVDo you really need your data in a plain text file
p13848
aVMaybe you need text/plain as the final output but all the way through
p13849
aVYou could store the data in an indexed binary file (possibly even an SQLite database) and then you'd only have to worry about keeping (or windowing) the index in memory and that's unlikely to be a problem (and if it is, use a "real" database); then, when you have all your lines, just reverse the index and away you go
p13850
as(dp13851
g10
V479863
p13852
stp13853
a((dp13854
g2
(lp13855
VYou could build something yourself pretty easily, just use a simple object that wraps two hashes (one for the forward direction, one for the reverse)
p13856
aVFor example:
p13857
aVLook ups will behave just like normal hash lookups (because they are normal hash lookups)
p13858
aVAdd some operators and maybe decent  and  implementations and you're good
p13859
aVSuch a thing works like this:
p13860
aVThere's nothing wrong with building your tools when you need them
p13861
as(dp13862
g10
V479863
p13863
stp13864
a((dp13865
g2
(lp13866
VYou could also save yourself some trouble by using :
p13867
aVYou could also use another version of :
p13868
aVto avoid the extra noise of the "block that just calls a method"
p13869
aVBut this is probably a Ruby blocks learning exercise for you so using existing parts of the standard libraries doesn't count
p13870
aVOTOH, it is good to know what's in the standard libraries so punting to  or  would also count as a learning exercise
p13871
as(dp13872
g10
V479863
p13873
stp13874
a((dp13875
g2
(lp13876
VYou have fighting quotes
p13877
aVYou're using single quotes for the shell command:
p13878
aVAnd also for quoting strings inside the SQL:
p13879
aVTry using double quotes for the shell part:
p13880
aVOr put the SQL in a separate text file and feed that to  via the standard input
p13881
as(dp13882
g10
V479863
p13883
stp13884
a((dp13885
g2
(lp13886
VYou could combine the separate arrays into a hash without too much effort:
p13887
aVJust make sure you use  and not  or you'll end up with two hash entries pointing at the same array and that will just make a mess of things
p13888
aVReferences:
p13889
aVHash with a default proc
p13890
as(dp13891
g10
V479863
p13892
stp13893
a((dp13894
g2
(lp13895
VI see the problem in Safari in your jsfiddle
p13896
aVnet example
p13897
aVTry adding  to the
p13898
aVblock
p13899
aVThat makes that  and the  underneath line up for me
p13900
aVBut the pair don't line up with the header
p13901
aVBut, if you remove the  class from both the  and the , everything starts to line up properly
p13902
aVI suspect that you had a combination of a float problem (hence the  trick) and some fighting margins (which killing  fixed)
p13903
aVI still see a small width problem with the  but the above should get you started
p13904
as(dp13905
g10
V479863
p13906
stp13907
a((dp13908
g2
(lp13909
VSymbols and strings are different things (except when you're using HashWithIndifferentAccess), you should be using a string as a key:
p13910
aVThis is a hash with an  key:
p13911
aVThis is a hash with an  key:
p13912
as(dp13913
g10
V479863
p13914
stp13915
a((dp13916
g2
(lp13917
VShouldn't this:
p13918
aVBe more like this:
p13919
aVThe first one is just pulling some data out of the database, trying to append  onto it, and then throwing it all away
p13920
aVThat's probably not what you want to do
p13921
as(dp13922
g10
V479863
p13923
stp13924
a((dp13925
g2
(lp13926
VYou can use  to see the package's content:
p13927
aVOr the  switch to see where the package is:
p13928
aVYou can also find all the source at CPAN
p13929
aVJust looking at a single file in isolation generally isn't that fruitful, you'll want to look at all the files in the distribution as a coherent whole
p13930
aVYou'll probably want to familiarize yourself with the other things that  can do:
p13931
aVhttp://perldoc
p13932
aVperl
p13933
aVorg/perldoc
p13934
aVhtml
p13935
as(dp13936
g10
V479863
p13937
stp13938
a((dp13939
g2
(lp13940
VIn , we see this:
p13941
aVSo the plugin is binding to three events
p13942
aVThe one you care about is
p13943
aVThe thing is, when you say , the  event is not triggered
p13944
aVPlay around with this:
p13945
aVhttp://jsfiddle
p13946
aVnet/ambiguous/FPB4q/1/
p13947
aVand you'll see
p13948
aVOr, from the fine manual:
p13949
aVchange
p13950
aVThe change event occurs when a control loses the input focus and its value has been modified since gaining focus
p13951
aVThis event is valid for INPUT, SELECT, and TEXTAREA
p13952
aVelement
p13953
aVWhen you simply call , there is no focus change happening so no  event is triggered
p13954
aVAll you need to do is trigger the event yourself:
p13955
aVand then it should work fine
p13956
aVAlso note that the plugin requires that the  have both  and  attributes or it won't work
p13957
aVHere's a demo of it working:
p13958
aVhttp://jsfiddle
p13959
aVnet/ambiguous/Sr5gm/
p13960
as(dp13961
g10
V479863
p13962
stp13963
a((dp13964
g2
(lp13965
VYour  directory should look like this:
p13966
aVThere is a guide to the new asset pipeline
p13967
aVYou might have to fix some paths as well
p13968
as(dp13969
g10
V479863
p13970
stp13971
a((dp13972
g2
(lp13973
VYou probably don't want to be calling  in there, that strips off the directory:
p13974
aVReturns the last component of the filename given in *file_name*, which must be formed using forward slashes ("/") regardless of the separator used on the local file system
p13975
aVSo, if  is , then you're saying:
p13976
aVBut  probably isn't in the script's current directory
p13977
aVTry without the  calls:
p13978
as(dp13979
g10
V479863
p13980
stp13981
a((dp13982
g2
(lp13983
VYou can absolutely position a link over the  and then apply a  to the  to make room for the image
p13984
aVFor example:
p13985
aVAnd:
p13986
aVLive demo: http://jsfiddle
p13987
aVnet/ambiguous/TgaFf/
p13988
aVThe outer  is just there to give me something to apply  to; absolutely positioned elements are positioned with respect to the nearest ancestor whose  is anything other than
p13989
aVThe  on the  starts the input cursor 16px from the left side of the  and thus leaves space for the image
p13990
aVIn the real world you would, of course, adjust the , , margins, paddings,
p13991
aVto make everything line up properly and look pretty
p13992
as(dp13993
g10
V479863
p13994
stp13995
a((dp13996
g2
(lp13997
g2377
ag2963
aV7 isn't complaining about the block getting two parameters, it is complaining about your attempt to provide a default value for the second parameter
p13998
aVThis:
p13999
aVparses fine in 1
p14000
ag2963
aV7 but, of course, it falls over at run time because  is
p14001
ag2377
aV9 does allow default values for block arguments (see below)
p14002
aVSo no, the documentation isn't wrong, you're just using  in a strange way that works in 1
p14003
ag2959
aV2 because it allows default values for block arguments
p14004
aVAnyway, your using of  is a bit convoluted and might not be doing quite what you think it is doing, you should listen to Casper and just do a simple :
p14005
aVBut, if you have a thing for  and want to use it no matter what, you could use  in both 1
p14006
ag2963
aV7 and 1
p14007
ag2959
aV2:
p14008
aVThat is pointless complexity though
p14009
aVYou piqued my curiosity so I went to the Ruby parser files for an authoritative reference
p14010
aVPointless busy work perhaps but "pointless" and "bad" are different things
p14011
aVThe 1
p14012
ag2959
aV2-p180  has these things:
p14013
aVIf you trace through it a bit, you'll see that the  rule is used for things like this:
p14014
aVand the / form as well
p14015
aVThen trace from  down to  and you'll see where default values are explicitly allowed by the grammar
p14016
aVOTOH, The 1
p14017
ag2963
aV7-p248  has this:
p14018
aVThere is nothing in  that allows default values for block arguments
p14019
aVThe  is just there to allow both of these forms:
p14020
as(dp14021
g10
V479863
p14022
stp14023
a((dp14024
g2
(lp14025
VThis:
p14026
aVappears to be trying to left-join  and  using a column in  and that doesn't make that much sense
p14027
aVTry rewriting the whole FROM like this:
p14028
aVAlso note that I've moved the join condition for  and  into the FROM clause so you won't need it in the WHERE clause anymore
p14029
as(dp14030
g10
V479863
p14031
stp14032
a((dp14033
g2
(lp14034
VIf you want it to be case insensitive and allow  to be 1 or 3, you could do it like this:
p14035
aVOr, if you like shouting (and who doesn't like a bit of shouting now and then
p14036
ag2885
aVThe individual  calls are combined with AND and the most reliable way to get consistent case behavior is to do it yourself
p14037
as(dp14038
g10
V479863
p14039
stp14040
a((dp14041
g2
(lp14042
VWhen you say this:
p14043
aVYou're declaring  as a local variable but it will be  until the right side of the assignment is evaluated
p14044
aVIn particular,  will be  when you call  on it and the conjunction will be false making  false
p14045
aVWhen you do this:
p14046
aVwill have the value  when you call  on it so you get a true return from
p14047
as(dp14048
g10
V479863
p14049
stp14050
a((dp14051
g2
(lp14052
VThe usual approach is something like this: bind to handler to the window's scroll event;
p14053
aVcheck  in the handler and, when it reaches a certain limit, switch the statically positioned element to
p14054
aVThen do the reverse when the user is scrolling back up the page
p14055
as(dp14056
g10
V479863
p14057
stp14058
a((dp14059
g2
(lp14060
VYou could decode the raw bytes using one of the various ImageMagick libraries and then ask ImageMagick for the format
p14061
aVFor example, with RMagick:
p14062
aVThat will give you , , etc
p14063
aVin
p14064
aVImageMagick checks the bytes for magic numbers and other identifying information so it doesn't need a filename to know what sort of image you're giving it
p14065
aVAs far as the filename goes, you're out of luck unless someone explicitly tells you what it is
p14066
aVThe filename rarely matters anyway and you should never use a filename you didn't generate for saving anything; a user supplied filename should only be used to display the name to people, make up your own filename (that you know is safe) if you need one
p14067
as(dp14068
g10
V479863
p14069
stp14070
a((dp14071
g2
(lp14072
VComparing with  isn't the right way to go
p14073
aVThe  call will return  if it doesn't find anything so:
p14074
aVis one way as  is false in a boolean context but a  won't be
p14075
aVI also switched to CSS notation as I find that clearer than XPath for simple things like this but you're free to use  or feed XPath or a CSS selector to  if you like that better
p14076
aVAlso, the three  methods return the first matching element or  so they're good choices if you just want to check existence
p14077
as(dp14078
g10
V479863
p14079
stp14080
a((dp14081
g2
(lp14082
VYou can't do that
p14083
aVA single array column could have, for example,
p14084
aVone array with three elements and another with five elements
p14085
aVIf
p14086
aVyou tried to expand those arrays into individual columns, you'd end
p14087
aVup with two rows in a result set that have different numbers of
p14088
aVcolumns and that is not allowed
p14089
aVThe closest thing available is :
p14090
aVexpand an array to a set of rows
p14091
aVbut that gives you rows rather the columns you want
p14092
as(dp14093
g10
V479863
p14094
stp14095
a((dp14096
g2
(lp14097
VSo your problem is that sometimes a Piece has a thumbnail and sometimes it doesn't, right
p14098
aVI'd agree that your ERB solution smells bad
p14099
aVYou could add a  method to Piece:
p14100
aVAnd then:
p14101
aVYou could also wrap the above in a helper:
p14102
aVand then:
p14103
as(dp14104
g10
V479863
p14105
stp14106
a((dp14107
g2
(lp14108
VYou could wrap the usual  idiom in a PL/pgSQL function sort of like this:
p14109
aVTriggers have two extra variables,  and :
p14110
aVNEW
p14111
aVData type RECORD; variable holding the new database row for INSERT/UPDATE operations in row-level triggers
p14112
aVThis variable is NULL in statement-level triggers and for DELETE operations
p14113
aVOLD
p14114
aVData type RECORD; variable holding the old database row for UPDATE/DELETE operations in row-level triggers
p14115
aVThis variable is NULL in statement-level triggers and for INSERT operations
p14116
aVSo you can use  to access the new  value that's going in
p14117
aVYou (currently) can't use the plain SQL language for triggers:
p14118
aVIt is not currently possible to write a trigger function in the plain SQL function language
p14119
aVbut PL/pgSQL is pretty close
p14120
aVThis would make sense as an AFTER INSERT trigger:
p14121
aVDeletes could be handled with a foreign key on  and a cascading delete
p14122
aVYou could use your trigger for UPDATEs as well:
p14123
aVbut you'd probably want to clear out the old entries before inserting the new ones with something like:
p14124
aVbefore the  statement
p14125
as(dp14126
g10
V479863
p14127
stp14128
a((dp14129
g2
(lp14130
VYou're saying this:
p14131
aVThat means that  is now an Array because :
p14132
aVA convenience wrapper for
p14133
aVAnd :
p14134
aVFind all - This will return all the records matched by the options used
p14135
aVIf no records are found, an empty array is returned
p14136
aVUse  or its shortcut
p14137
aVThen you have this:
p14138
aVAnd that produces this error:
p14139
aVBecause  is an Array and Arrays don't know what  means
p14140
aVSomething like this might work better:
p14141
aVBut you probably want to do something with the  too
p14142
as(dp14143
g10
V479863
p14144
stp14145
a((dp14146
g2
(lp14147
VYou forgot to :
p14148
aVMark each name to be passed to child processes in the environment
p14149
aVSo  is not automatically available to child processes
p14150
as(dp14151
g10
V479863
p14152
stp14153
a((dp14154
g2
(lp14155
VYour problem is right here:
p14156
aVWhen you say this:
p14157
aVYou're binding a callback function to the element with an  of  at the time when  is called; when you change the , you're not changing the callbacks that are already bound
p14158
aVYou could switch to using  or  for binding your  event or (better IMHO) use two separate buttons and hide/show them as needed:
p14159
as(dp14160
g10
V479863
p14161
stp14162
a((dp14163
g2
(lp14164
VJust create a migration like this:
p14165
aVand then do a  the next time you push your changes
p14166
aVYou might want to recreate the table in SQLite so that you can run this migration locally as well
p14167
as(dp14168
g10
V479863
p14169
stp14170
a((dp14171
g2
(lp14172
VFrom the 1
p14173
ag2959
aV1 NEWS file:
p14174
aVSo you can't use a colon with a  anymore
p14175
aVYou can use :
p14176
aVor newlines:
p14177
as(dp14178
g10
V479863
p14179
stp14180
a((dp14181
g2
(lp14182
VWhy are you using hidden text fields for this
p14183
aVI think radio buttons would serve you better
p14184
aVJust create one radio button per avatar (with the current selection checked by default), make sure they all have the same , and then wrap the  elements in s so that people can click on something
p14185
aVThe values for the radio buttons would be the same  that you're using for the text fields
p14186
aVOnce that's in place, you can submit away and it's all good as the form will only return one of the avatars
p14187
as(dp14188
g10
V479863
p14189
stp14190
a((dp14191
g2
(lp14192
VYour jQuery says this:
p14193
aVBut your ERB says this:
p14194
aVYour  should produce HTML something like this:
p14195
aVAssuming that  is a Comment object with id 11
p14196
aVThen  on the same comment would produce  and that's all good
p14197
aVHowever, you're using  (an instance variable) to generate the DOM ID for the jQuery  call but the local variable  for the HTML
p14198
aVI'd guess that  is the right one and you're feeding a  to , the result is that the IDs don't match and your jQuery does nothing useful
p14199
as(dp14200
g10
V479863
p14201
stp14202
a((dp14203
g2
(lp14204
VYou could do something like this:
p14205
aVSo, in an ERB view:
p14206
aVIf you were doing this sort of thing a lot then you might want to build a helper for it
p14207
aVYou could also use  since you're in Rails:
p14208
aVThe  approach also scales up to more than two elements better
p14209
aVSo, if you also had , then you'd get:
p14210
as(dp14211
g10
V479863
p14212
stp14213
a((dp14214
g2
(lp14215
VThis is what I think you should be doing (pseudo-JavaScript):
p14216
aVIf there is anything in the inner computation that is computed over and over again, precompute it at the  level and let the closure close over it
p14217
aVYou would want to play with it a bit to figure out what  should be
p14218
aVJust do the animation by hand so that you're not fighting with jQuery's  function and stop the animation when you know it is done
p14219
aVThis also allows you to include a direction and strength for the wind (so that your animated object could go backwards) pretty much for free
p14220
aVYou might want to get the  back to the outside world so that you could stop the whole thing from the outside
p14221
aVIn that case, you'd want to fake a pointer with a one element object:
p14222
aVYou'd probably want a "it is gone" callback on  if you had a lot of animated objects, that would let you keep your external list of timers clean and cruft free
p14223
aVThe problem with trying to do this with  is that  computes the number of steps at the beginning and then you can change that
p14224
aVYou need a variable number of steps but  doesn't care (it cares even less than a honey badger)
p14225
as(dp14226
g10
V479863
p14227
stp14228
a((dp14229
g2
(lp14230
VYou have several problems:
p14231
aVYou can't put classes in a  attribute
p14232
aVYou are, apparently, trying to absolutely position your images but their parent has  (the default) so they would be positioned with respect to (probably) the body rather than the table cell
p14233
aVAbsolutely positioned elements are positioned with respect to their closest ancestor whose position is anything other than static
p14234
aVSetting a  on a  may or may not work depending on the browser, CSS2 actually says that setting  on table elements results in undefined behavior
p14235
aVYou'll need to put a  inside your  and relatively position that
p14236
aVThen put the images inside the  and, since you're dealing with email, inline their styles
p14237
aVThe result will be something like this:
p14238
aVI've added borders, kittens, and an explicit size on the  for demo purposes
p14239
aVThere's a live version over here: http://jsfiddle
p14240
aVnet/ambiguous/TkF24/
p14241
aVEmail clients will filter CSS and what gets through depends on the client
p14242
aVYou might have to paste the images together by hand and then reference just one image to make it work reliably
p14243
as(dp14244
g10
V479863
p14245
stp14246
a((dp14247
g2
(lp14248
VYou could loosen it right up and use "any sequence of anything that isn't a %" for the replaceable tokens:
p14249
as(dp14250
g10
V479863
p14251
stp14252
a((dp14253
g2
(lp14254
VYour  implementation is wrong, it should be this:
p14255
aVActiveRecord attributes are not the same as instance variables and accessing  inside the object is not the same as accessing  inside the object,  is an instance variable but  is a call to a method that ActiveRecord creates for you
p14256
aVAlso, instance variables auto-create as  on first use so your original  was just doing this:
p14257
aVand that isn't the result you're looking for
p14258
as(dp14259
g10
V479863
p14260
stp14261
a((dp14262
g2
(lp14263
VYour problem is that your  callback is being called multiple times
p14264
aVFirst it is called when your mouse goes over the small image, then you create an element above your thumbnail (i
p14265
ag785
aVbetween the mouse and your thumbnail)
p14266
aVThen that element moves and you get another hover
p14267
aVRinse and repeat until the first animation finishes and makes the thumbnail go away
p14268
aVSwitching to  should sort you out:
p14269
aVFor example: http://jsfiddle
p14270
aVnet/ambiguous/tsKnz/
p14271
aVIf all you want to do is call  (and  doesn't take any arguments), you could just do this:
p14272
aVAnd an example of this version: http://jsfiddle
p14273
aVnet/ambiguous/tsKnz/1/
p14274
as(dp14275
g10
V479863
p14276
stp14277
a((dp14278
g2
(lp14279
VYou can't do that with a UNIQUE constraint in PostgreSQL:
p14280
aVHowever, two null values are not considered equal in this comparison
p14281
aVThat means even in the presence of a unique constraint it is possible to store duplicate rows that contain a null value in at least one of the constrained columns
p14282
aVThis behavior conforms to the SQL standard, but we have heard that other SQL databases might not follow this rule
p14283
aVThe underlying problem is that  is false for all  in standard SQL
p14284
aVYou could enforce it for NULL  values with a BEFORE INSERT and BEFORE UPDATE trigger but ActiveRecord doesn't know what triggers are so you'd have to maintain the trigger by hand
p14285
aVAlternatively, you could do it all in custom validations and hope that nothing touches your database without going through your model first
p14286
as(dp14287
g10
V479863
p14288
stp14289
a((dp14290
g2
(lp14291
VSuppose you have a string of HTML like this:
p14292
aVThen you could do this to wrap the  elements and append it to :
p14293
aVIf your HTML isn't conveniently wrapped in a  then you can add one and unwrap it with :
p14294
aVOr use  to unwrap the extra :
p14295
aVUseful references:
p14296
as(dp14297
g10
V479863
p14298
stp14299
a((dp14300
g2
(lp14301
VPostgreSQL does have a  function:
p14302
aVdegrees to radians
p14303
aVbut  wants a floating point argument and you are trying to give it a string of some sort:
p14304
aVUndefined function: 7 ERROR: function radians(text)
p14305
ag3892
aVHINT: No function matches the given name and argument types
p14306
aVYou might need to add explicit type casts
p14307
aVEmphasis mine
p14308
aVApparently your  and  columns are , , or  columns
p14309
aVYou should fix the column types for  and  to be , , or some other floating point type; in the mean time, you can cast your strings by hand and hope that you don't have any broken data:
p14310
aVMySQL does a lot of implicit type conversions, PostgreSQL is rather more strict and requires you to say exactly what you mean
p14311
aVUpdate for the second problem: The  clause is evaluated before the  clause so column aliases in the  are not generally available anywhere else in the query
p14312
aVYou have a couple options, you can repeat your big ugly Haversine:
p14313
aVOr use a derived table to avoid repeating yourself:
p14314
as(dp14315
g10
V479863
p14316
stp14317
a((dp14318
g2
(lp14319
VWhere you get the event object depends on the browser
p14320
aVSome (all
p14321
aVIE versions put it in  but everyone else passes it as an argument
p14322
aVSo, you end up having to do a silly little dance like this:
p14323
aVAnd then set up the  like this:
p14324
aVI also switch to  so you don't have the usual " interpreted as an in-page fragment" problems
p14325
as(dp14326
g10
V479863
p14327
stp14328
a((dp14329
g2
(lp14330
VPerhaps your server isn't returning JSON data
p14331
aVUsually you can leave it up to  to figure out what sort of data the server is responding with by checking the Content-Type header and possibly other means
p14332
aVTry dropping the
p14333
aVAlso, using:
p14334
aVGets you your  because that will be executed while the  call's options object is being built and there won't be a success callback at all
p14335
as(dp14336
g10
V479863
p14337
stp14338
a((dp14339
g2
(lp14340
VJust add a COALESCE:
p14341
aVThe COALESCE function returns the first non-NULL value you give it so this:
p14342
aVWill be  if that's not NULL and  if  is NULL
p14343
aVIf  can also be zero and you want to ignore that as well as NULL, then you could use this instead of the COALESCE above:
p14344
aVThe  returns the second argument if the first is true and the third if the first argument is false so the above use converts zero to NULL
p14345
aVOr, you could go all the way to a CASE statement:
p14346
as(dp14347
g10
V479863
p14348
stp14349
a((dp14350
g2
(lp14351
VYour problem is right here:
p14352
aVThe  ends out outside the string so PHP is interpreting it as a modulus operation and the strings on both sides of the modulus will be zeros in a numeric context, the result is that you're trying to  and you get your "division by zero" error
p14353
aVTry escaping the inner single quotes:
p14354
aVOr, create a  in your PHP that includes the percent signs in the string and then do this:
p14355
aVYou are using  too, right
p14356
as(dp14357
g10
V479863
p14358
stp14359
a((dp14360
g2
(lp14361
VYour  variable is assigned a value inside the success handler:
p14362
aVThat handler will be called asynchronously and, in particular, it hasn't been called when you do this:
p14363
aVso you end up with the initial value of  that you get from
p14364
aVSo, you can access  outside the callback but it won't necessarily have a useful value when you want it to
p14365
aVThe usual approach is to put calls to things that need  inside the success handler
p14366
aVIf you need to use  elsewhere, you'll have to check that is is defined before you use it and wait if it isn't
p14367
aVIf you need to wait for  to be ready before continuing with your application then something like this should work:
p14368
aVThe  will trigger every 0
p14369
aV1s and check if there is a  yet; if it isn't then it does nothing until the next time the interval is triggered; if there is a , then it shuts down the timer and starts the main application
p14370
as(dp14371
g10
V479863
p14372
stp14373
a((dp14374
g2
(lp14375
VYou have this:
p14376
aVin your
p14377
aVThat gives  a top and bottom margin of 2em
p14378
aVYou probably want this:
p14379
aVThat's the same as  but with a zero top margin
p14380
as(dp14381
g10
V479863
p14382
stp14383
a((dp14384
g2
(lp14385
VThis is a pretty standard problem with closures
p14386
aVWhen you do this:
p14387
aVYou're binding a reference to  but not to the value of
p14388
aVSo, by the time your callback gets called, the loop will have finished and  will be 16 in all of the callbacks that you bound
p14389
aVThe usual solution is to force evaluation of  through a function call:
p14390
aVYou can also inline the function with a self-executing function if you want to keep it all together:
p14391
aVThe function call gives you the value of  when the function is called and that's the value of  that you want
p14392
as(dp14393
g10
V479863
p14394
stp14395
a((dp14396
g2
(lp14397
VYou left out one very important consideration in your pro and con lists: referential integrity
p14398
aVA fast database that lets you do easy queries is useless if it is full of broken data, that just lets you make mistakes faster and making mistakes is the last thing that humans need help with
p14399
aVThe only option that allows foreign keys (i
p14400
ag785
aVreferential integrity) is option (3)
p14401
aVA linking table is also the standard way to deal with this sort of thing and databases are usually designed to handle the standard use cases quite well
p14402
aVAs far as (1) goes, doing a  is going to do a table scan almost every time and a table scan is the last thing you ever want
p14403
aVYou'd also have to make sure you have the  delimiter at the beginning and end of the strings or you'll need three LIKEs (or a regular expression) instead of just one
p14404
aVSome databases can use indexes for  but that doesn't apply to your case
p14405
aVApproach (2) uses too many columns, your queries will be a mess and your tables will be too wide
p14406
aVYou'd also have to worry about make sure each row in one table has a corresponding column in another table
p14407
as(dp14408
g10
V479863
p14409
stp14410
a((dp14411
g2
(lp14412
VI'm guessing that the syntax error isn't coming from SQLite but from your compiler, you're missing a :
p14413
aVYour compiler sees something like this:
p14414
aVand doesn't know what to do about it, the double quotes in the error message:
p14415
aVare the give away
p14416
aVAlso, that PRIMARY KEY syntax is allowed in SQLite
p14417
as(dp14418
g10
V479863
p14419
stp14420
a((dp14421
g2
(lp14422
VDoing things like this:
p14423
aVGives you the underlying DOM objects and they don't know what  means
p14424
aVAn easy approach is to use  to access the  you want:
p14425
aVYou could also use  and the  selector:
p14426
as(dp14427
g10
V479863
p14428
stp14429
a((dp14430
g2
(lp14431
VYou could try a negative  on the :
p14432
aVFor example: http://jsfiddle
p14433
aVnet/ambiguous/QgNxw/
p14434
aVBrowser support might be a bit dodgy (e
p14435
ag1985
aVOpera and WebKit don't render that fiddle the same way)
p14436
aVYou could also try using the  pseudo-element to add your own bullet:
p14437
aVFor example: http://jsfiddle
p14438
aVnet/ambiguous/eXxzH/
p14439
aVBut then you'll have trouble with browsers that don't understand ; but everyone but IE7 and older understand  so that might not be an issue
p14440
aVIf CSS3 is okay, you might be able to do something with the  pseudo-element
p14441
aVThere isn't that much fine grained control over how the bullets for a list item are rendered
p14442
as(dp14443
g10
V479863
p14444
stp14445
a((dp14446
g2
(lp14447
VI'm going to guess that you're using Ruby 1
p14448
ag2963
aVThe String class also has an  method:
p14449
aVstr
p14450
aVinclude
p14451
aVother_str => true or false
p14452
aVstr
p14453
aVinclude
p14454
aVfixnum => true or false
p14455
aVReturns true if str contains the given string or character
p14456
aVSo you can do  and 1
p14457
ag2963
aV7 will let it by
p14458
aVIn 1
p14459
aV9, String's  only understands a string argument:
p14460
aVstr
p14461
aVinclude
p14462
aVother_str \u2192 true or false
p14463
aVReturns true if str contains the given string or character
p14464
aVSo, when you do this:
p14465
aVYou're getting the serialized form as a string and then looking for a Fixnum in that string
p14466
aVYour  is probably out of range of the characters in your serialized data so the  fails
p14467
aVYou probably want to unserialize your serialized array in a  override
p14468
aVOr better, store your array data in a separate table when you're dealing with an SQL database underneath
p14469
as(dp14470
g10
V479863
p14471
stp14472
a((dp14473
g2
(lp14474
VYou could combine them with an alternation operator ():
p14475
aVYou might want to add little more whitespace cleanup
p14476
aVAnd you might want to switch to one of:
p14477
aVdepending on what your data really looks like and how you need to handle newlines
p14478
as(dp14479
g10
V479863
p14480
stp14481
a((dp14482
g2
(lp14483
VI'd guess that your tutorial uses Prototype as  is for Prototype, you should be using  with jQuery
p14484
aVAnd switching to a jQuery based tutorial might be a good idea too
p14485
aVYou say that you're using  but that's Prototype-specific:
p14486
aVUsage
p14487
aVTo be able to use these helpers, you must first include the Prototype JavaScript framework in your pages
p14488
aVPrototype used to be the default JavaScript library for Rails so I suspect that PrototypeHelper is a leftover
p14489
aVYou probably want to look at things like the  option on  and similar for new code
p14490
as(dp14491
g10
V479863
p14492
stp14493
a((dp14494
g2
(lp14495
VYour first loop:
p14496
aVIterates over  and puts the current element of the  array in  on each pass through the loop
p14497
aVThe result is that you get the elements of  printed in order
p14498
aVYour second loop:
p14499
aVDoes the same iteration with the same values in
p14500
aVBut, and this is a big but, you're printing  and  is a string each time and that string is zero in a numeric context so you're effectively doing this:
p14501
aVfour times in a row
p14502
aVHence your four  strings
p14503
aVAnd your second chunk of sample output left out the newlines between the  strings
p14504
as(dp14505
g10
V479863
p14506
stp14507
a((dp14508
g2
(lp14509
VThis:
p14510
aVis not a method call, you want:
p14511
aVAll your original does is assigns the  method from  to , hence your:
p14512
aVoutput in your
p14513
aVDoing a  won't have any effect on  so these two:
p14514
aVjust give you two more reference's to  without changing  at all
p14515
as(dp14516
g10
V479863
p14517
stp14518
a((dp14519
g2
(lp14520
V is a view helper so it is generally only available within views
p14521
aVYou could do this:
p14522
aVinside a class if you need to use it somewhere else
p14523
aVThink twice about your design though, using a view helper while messing around in the console is fine but you usually want to push your formatting out to the edges (i
p14524
ag785
aVviews)
p14525
as(dp14526
g10
V479863
p14527
stp14528
a((dp14529
g2
(lp14530
VYour error message indicates that  is coming up empty so the first line of your YAML is just a single colon and that's not very useful
p14531
aVI'd guess that you're using Rails 3 and  is no longer available (note: I know it isn't around in 3
p14532
aV1 but I'm not certain about 3
p14533
aV0)
p14534
aVTry using this:
p14535
aVinstead,  should be available in any Rails versions that you're likely to be using
p14536
aVAnd if that doesn't work, you can try going straight to:
p14537
aVsince that will probably be your Heroku environment anyway
p14538
as(dp14539
g10
V479863
p14540
stp14541
a((dp14542
g2
(lp14543
VI think you're mixing up two different  methods
p14544
aVYou're calling the  using the  arguments
p14545
aVMaybe you want this:
p14546
aVOr perhaps this:
p14547
aVYou end up trying to put  in the  argument but that's supposed to be a Hash, that's where the complaint about "no  method" comes from
p14548
as(dp14549
g10
V479863
p14550
stp14551
a((dp14552
g2
(lp14553
VYour regex, , has some problems
p14554
aVFirst of all,  doesn't work the way you think it does, in 1
p14555
aV9 you'll get an error and in 1
p14556
aV8 it will just match a single  rather than the  pair that you're looking for; you should use  to find the literal  that you want
p14557
aVSecondly, your  group is much too permissive, that will allow any four characters through and that's not what you want
p14558
aVIn 1
p14559
aV9, you want  (four hexadecimal digits) but in 1
p14560
aV8 you'd need  as  is a new thing
p14561
aVSo if you want your regex to work in both 1
p14562
aV8 and 1
p14563
aV9, you should use
p14564
aVThis gives you the following in 1
p14565
aV8 and 1
p14566
aV9:
p14567
aVUsing  and  to mangle the hex number into a Unicode character is probably good enough but there may be better ways
p14568
as(dp14569
g10
V479863
p14570
stp14571
a((dp14572
g2
(lp14573
VFrom the fine manual:
p14574
aVNote that neither keys nor values are copied when inserted into the GHashTable, so they must exist for the lifetime of the GHashTable
p14575
aVThat means that this:
p14576
aVDoesn't copy  or , the hash table just stores the pointers
p14577
aVHowever,  and  are allocated on the stack:
p14578
aVSo your  and  pointers are only valid for the duration of the function
p14579
aVOnce you get out of your recursion, you have a hash table full of invalid pointers and that gives you a bunch of garbage and undefined behavior
p14580
aVYou should be using  with freeing functions for both keys and values and then duplicating your keys and values when you call ; you could use  to duplicate the keys and values and  as the  and  arguments to
p14581
as(dp14582
g10
V479863
p14583
stp14584
a((dp14585
g2
(lp14586
VThe closest thing to an array intersection that I can think of is this:
p14587
aVThis assumes that  and  are single dimension arrays with the same type of elements
p14588
aVYou could wrap that up in a function something like this:
p14589
aVThen you could do things like this:
p14590
aVNote that this doesn't guarantee any particular order in the returned array but you can fix that if you care about it
p14591
aVThen you could create your own aggregate function:
p14592
aVAnd now we see why  does funny and somewhat kludgey things with NULLs
p14593
aVWe need an initial value for the aggregation that behaves like the universal set and we can use NULL for that (yes, this smells a bit off but I can't think of anything better off the top of my head)
p14594
aVOnce all this is in place, you can do things like this:
p14595
aVNot exactly simple or efficient but maybe a reasonable starting point and better than nothing at all
p14596
aVUseful references:
p14597
aVcreate aggregate
p14598
aVcreate function
p14599
aVPL/pgSQL
p14600
as(dp14601
g10
V479863
p14602
stp14603
a((dp14604
g2
(lp14605
VWhy not just do this
p14606
aVFor example: http://jsfiddle
p14607
aVnet/ambiguous/CQDe8/1/
p14608
as(dp14609
g10
V479863
p14610
stp14611
a((dp14612
g2
(lp14613
VYou can't reliably change the  of a table cell, some browsers (older Safari versions at least, the latest one seems to have fixed this problem) will force table cells (and rows) to  no matter what you say
p14614
aVIf you need to absolutely position something inside a table cell, you'll need to put a relatively positioned  (or other block element) inside the cell and then put everything else inside that:
p14615
aVAnd then tweak the CSS:
p14616
aVAnd the obligatory live example: http://jsfiddle
p14617
aVnet/ambiguous/KUshG/
p14618
aVI suspect that takes care of the problem you're seeing and does away with some problems that you haven't seen yet
p14619
as(dp14620
g10
V479863
p14621
stp14622
a((dp14623
g2
(lp14624
VYou could use :
p14625
aVcut - cut out selected fields of each line of a file
p14626
aVA single quote is natural delimiter here so something like this:
p14627
aVThis, of course, assumes that you don't have to deal with nested or escaped single quotes
p14628
as(dp14629
g10
V479863
p14630
stp14631
a((dp14632
g2
(lp14633
VJust add the extra characters to your character class while escaping any that have a special meaning inside a regular expression character class (just  and  in your case):
p14634
aVAlso make sure you put the  at the end of the character class or escape it () so that the regex parser won't think it is indicating a range
p14635
aVIf you also want to throw in Unicode "word" characters, then replace the  with :
p14636
aVAssuming you're using 1
p14637
aV9 of course
p14638
aVAnd if you're not using 1
p14639
aV9 then you should upgrade to get better Unicode support
p14640
aVThe  syntax for Oniguruma (the 1
p14641
aV9 regex engine for Ruby) is for a named property and it sounds like you're looking for the "word" property so  is your replacement for
p14642
aVYou might want to replace  with  while you're at it:
p14643
aVFurther details on the Oniguruma syntax are available here:
p14644
aVhttp://www
p14645
aVgeocities
p14646
aVjp/kosako3/oniguruma/doc/RE
p14647
aVtxt
p14648
as(dp14649
g10
V479863
p14650
stp14651
a((dp14652
g2
(lp14653
VYou could animate them all at once and use the "complete" callback:
p14654
as(dp14655
g10
V479863
p14656
stp14657
a((dp14658
g2
(lp14659
VNice and simple (for 1
p14660
aV9):
p14661
aVFor example:
p14662
as(dp14663
g10
V479863
p14664
stp14665
a((dp14666
g2
(lp14667
VA combination of  and  should get you there:
p14668
aVFor example:
p14669
aVThe  summarizes the / pairs in the little hashes while collapsing the booleans to  if any of them are true (for a given ) and then the  unpacks the summary hash into hashes of the original form
p14670
as(dp14671
g10
V479863
p14672
stp14673
a((dp14674
g2
(lp14675
VWhat you're looking for is some SQL like this:
p14676
aVNote that  is not necessarily case insensitive so pushing everything to lower case (or upper case) is generally a good idea
p14677
aVThat's simple enough but saying  connects the conditions with  when you want
p14678
aVOne way is to build the first argument to  as a string by pasting together the right number of  strings to match the number of elements in :
p14679
as(dp14680
g10
V479863
p14681
stp14682
a((dp14683
g2
(lp14684
VThe  member of  is the basename of the item in question
p14685
aVSo, if you're going through a directory like this:
p14686
aVOnce you're in , you'll try to  but that won't work because you need to
p14687
aVYou need to combine that with the name of the directory that you're looking before you have something that you can pass to the next  call
p14688
aVYou'll want to replace things like this:
p14689
aVwith things like this:
p14690
aVAlternatively, you could  into the directories as you enter them and then  back up when you're done
p14691
as(dp14692
g10
V479863
p14693
stp14694
a((dp14695
g2
(lp14696
VThe tilde is a bad call for two reasons:
p14697
aVan E element whose "foo" attribute value is a list of whitespace-separated values, one of which is exactly equal to "bar"
p14698
aVan F element preceded by an E element
p14699
aVYou can't guarantee that anything else won't be used because of  and  pseudo-elements:
p14700
aVYou can run into similar issues with
p14701
aVYou might be able to get away with  (but not ) but you'd still have the  problem with  and
p14702
aVYou're probably better off setting everything up to use gzip compression for your stylesheets and possibly offloading it to a CDN
p14703
as(dp14704
g10
V479863
p14705
stp14706
a((dp14707
g2
(lp14708
VAs soon as you do this:
p14709
aVThe  bits in the values are interpolated using whatever happens to be in  at the time
p14710
aVThe values will most likely be  and  and those aren't very useful
p14711
aVAnd  is already a regular expression object so  should be just
p14712
aVSimilar things apply to the keys of , they're already regular expression objects so you don't need to
p14713
aVI'd change the whole structure, you're overcomplicating things
p14714
aVJust something simple like this would be fine for only two replacements:
p14715
aVIf you try to do it all at once you'll have problems with nesting in something like this:
p14716
aVYou'd end up having to use a recursive  and possibly some lambdas if you wanted to properly handle things like that with a single expression
p14717
aVThere are better things to spend your time on than trying to be clever on something like this
p14718
aVResponse to comments: If you have more bb-tags and some smilies to worry about and several messages per page then you should HTMLify each message when you create it
p14719
aVYou could store only the HTML version or both HTML and BB-Code versions if you want the BB-Code stuff around for some reason
p14720
aVThis way you'd only pay for the HTMLification once per message and producing your big lists would be nearly free
p14721
as(dp14722
g10
V479863
p14723
stp14724
a((dp14725
g2
(lp14726
VIt looks like the browser sees something like this:
p14727
aVThe  attribute is being interpreted as JavaScript and  in JavaScript is trying to be a regular expression literal followed by a property access
p14728
aVThe regex will be  with modifiers , , , , and
p14729
aVThe  means case insensitive matching so that gets through; then you an error because there is no  modifier for a JavaScript regular expression
p14730
aVI think you're trying to make the button act like a link so you need to add some quotes and an assignment to :
p14731
aVThat should get you closer to where you're trying to go or at least get you past the mysterious "invalid regular expression flag n" error
p14732
as(dp14733
g10
V479863
p14734
stp14735
a((dp14736
g2
(lp14737
VIn your specific case, you'd use a splat to collect up everything but the first value:
p14738
aVThe  notation just collects everything that's left into an Array called
p14739
aVIn general, there's not much point to creating an arbitrary number of local variables () because you wouldn't be able to do anything with them; you could probably whip up a sick mess of evals but we already have a fine and functional Array class so why bother
p14740
as(dp14741
g10
V479863
p14742
stp14743
a((dp14744
g2
(lp14745
VHave you tried inserting multiple rows in one statement
p14746
aVSomething like this:
p14747
aVYou could also try wrapping your inserts in a single transaction
p14748
aVPutting all your work in one transaction should avoid the per-insert locking overhead
p14749
as(dp14750
g10
V479863
p14751
stp14752
a((dp14753
g2
(lp14754
VThat method isn't terribly complex
p14755
aVThe most complicated part is the access checking and even that isn't too bad
p14756
aVOne of the reasons for helpers is to keep stuff like that out of your views so you're not doing anything wrong
p14757
aVThe repetition between the two  variants might need some attention
p14758
aVYou could restructure it a little but:
p14759
aVThis approach highlights the differences between the two possible  calls
p14760
aVIf  is more common then maybe you'd want to reverse the logic to start  and  with the "Hide Admin Menu" settings and then adjust them to the  case as needed
p14761
as(dp14762
g10
V479863
p14763
stp14764
a((dp14765
g2
(lp14766
VYour  should be  because that's what  returns, using a  will mean that you'll never find your EOF condition:
p14767
aVThe  value is an  that is not a valid , that's how you can detect the end of a file while reading it one byte at a time and from the fine manual:
p14768
aVIf the integer value returned by fgetc() is stored into a variable of type char and then compared against the integer constant EOF, the comparison may never succeed, because sign-extension of a variable of type char on widening to integer is implementation-defined
p14769
aVOthers have pointed out your memory errors so I'll leave those alone
p14770
as(dp14771
g10
V479863
p14772
stp14773
a((dp14774
g2
(lp14775
VYou're changing  somewhere between your  call and your
p14776
aVThis works for me with a simple black and white :
p14777
aVAnd you "can't convert Magick::Pixel into Integer (TypeError)" error is easily reproduced using an Array:
p14778
aVA Hash will never produce that TypeError from a simple access
p14779
as(dp14780
g10
V479863
p14781
stp14782
a((dp14783
g2
(lp14784
Vdeceze is right, that is ISO8859-1 (AKA Latin-1) encoded text
p14785
aVTry this:
p14786
aVAnd if that doesn't work, you can use  to fix up the individual strings with something like this:
p14787
aVIf  is , then  will be
p14788
aVAlso,  can unmangle whole arrays at a time:
p14789
aVWith newer Rubies, you can do things like this:
p14790
aVwhere  thinks it is in ASCII-8BIT but is really in ISO-8859-1
p14791
as(dp14792
g10
V479863
p14793
stp14794
a((dp14795
g2
(lp14796
VAn easy way is to switch your floated left column to an absolutely positioned one and then give it :
p14797
aVLive version: http://jsfiddle
p14798
aVnet/ambiguous/XyBzC/
p14799
aVYou can also drop the  with this approach as that's only there to clear the float left column (which no longer floats)
p14800
aVA version without the : http://jsfiddle
p14801
aVnet/ambiguous/XyBzC/1/
p14802
aVAnd Joseph is right in the comments, you can add  to get rid of the scrollbars in the fiddle:
p14803
aVFor example: http://jsfiddle
p14804
aVnet/ambiguous/XyBzC/2/
p14805
as(dp14806
g10
V479863
p14807
stp14808
a((dp14809
g2
(lp14810
VSo given a string like this:
p14811
aVYou want to extract just , right
p14812
aVIf so, then:
p14813
aVThe  will eat up any leading whitespace so half of your  is not needed
p14814
aVIf you don't want any whitespace inside the extracted value at all then:
p14815
aVIf you just want to strip off the trailing whitespace, then add an :
p14816
aVThis one will throw an exception if  doesn't your regular expression though
p14817
aVSee  for further details
p14818
aVI've also changed your  to  to avoid matching nothing at all
p14819
aVAlso, you don't have to escape most metacharacters inside a character class (see Tim's comment) so just  is fine inside a character class
p14820
as(dp14821
g10
V479863
p14822
stp14823
a((dp14824
g2
(lp14825
VThe JavaScript is fine, your problem is that the  and  CSS classes are fighting each other for control of
p14826
aVIf you force the issue with :
p14827
aVThen it works fine: http://jsfiddle
p14828
aVnet/ambiguous/LQqgb/
p14829
as(dp14830
g10
V479863
p14831
stp14832
a((dp14833
g2
(lp14834
VYou're asking for the object named  but there is nothing like that in your  file
p14835
aVThere's only one window in that XML:
p14836
aVSo try replacing this:
p14837
aVwith this:
p14838
aVAnd maybe a NULL check on  would be a good idea too
p14839
as(dp14840
g10
V479863
p14841
stp14842
a((dp14843
g2
(lp14844
VThere's nothing magical in 1
p14845
ag2959
aV2 for initializing instance variables that you set up with
p14846
aVBut there is the  callback:
p14847
aVThe  callback will be called whenever an Active Record object is instantiated, either by directly using new or when a record is loaded from the database
p14848
aVIt can be useful to avoid the need to directly override your Active Record  method
p14849
aVSo:
p14850
aVThis is safer than something like this:
p14851
aVbecause  or  might be perfectly valid values after initialization and assuming that they're not can cause some interesting bugs
p14852
as(dp14853
g10
V479863
p14854
stp14855
a((dp14856
g2
(lp14857
VI think your problem is that you're trying to split the something with three parts into two parts
p14858
aVIf you drop the third argument to , you'll get an array with three elements
p14859
aVThe first piece of this (when delimited by ):
p14860
aVIs empty, the second is the YAML, and third is the content
p14861
aVTry this:
p14862
aVAnd a live test case: http://ideone
p14863
aVcom/LYLxZ
p14864
aVIf you want to match what Phrozn seems to be doing then your input would look like this:
p14865
aVAnd your PHP would be this:
p14866
aVAnd a live test case for this version: http://ideone
p14867
aVcom/a9a6C
p14868
as(dp14869
g10
V479863
p14870
stp14871
a((dp14872
g2
(lp14873
VThe  selector will help:
p14874
aVFor example, select a few things and hit Clear: http://jsfiddle
p14875
aVnet/ambiguous/QVzB8/
p14876
as(dp14877
g10
V479863
p14878
stp14879
a((dp14880
g2
(lp14881
VI think you're overcomplicating things (and undercomplicating them at the same time)
p14882
aVYour over-complication is that you're looking for three specific things and treating them individually when you could just grab everything that fits a certain pattern and treat them as a group
p14883
aVYour under-complication is that you're not considering failure conditions from  and the odd (until you're used to it) behavior of NaN
p14884
aVI think you'd be better off going up the DOM to find the containing  and the iterating through all the  elements in that row, then you can use one small chunk of code to convert the string values to sensible numbers the same way:
p14885
aVThe  call will go up the DOM to find the containing , then the  will get all the  elements in that row that have a class of , then loop over those with , extract each value straight from the  DOM element with , and add them to a running total in  if  finds a number (and  is the what you want to check if  handed you a NaN)
p14886
aVSomething like this: http://jsfiddle
p14887
aVnet/ambiguous/DBQL3/
p14888
as(dp14889
g10
V479863
p14890
stp14891
a((dp14892
g2
(lp14893
VYou can use the  form, something like this (with real column names and values of course):
p14894
aVI don't know where you're getting the , , , or  column values for  but you can include them as literal values in the :
p14895
aVThis sort of thing will insert multiple values if  is not unique
p14896
as(dp14897
g10
V479863
p14898
stp14899
a((dp14900
g2
(lp14901
VYou could just add a  handler and check the if the 's value has transitioned from none to some or some to none and then apply a  or  to the button
p14902
aVSomething like this:
p14903
aVLive version: http://jsfiddle
p14904
aVnet/ambiguous/MDnac/3/
p14905
as(dp14906
g10
V479863
p14907
stp14908
a((dp14909
g2
(lp14910
VYou could use the  option to :
p14911
aV: A function to be called after each step of the animation
p14912
aVSomething like this:
p14913
aVThat will get you your  as soon as your position test is true
p14914
aVThe animation may keep going after the  is off the screen of course
p14915
as(dp14916
g10
V479863
p14917
stp14918
a((dp14919
g2
(lp14920
VYou can most of the way with a whole bunch of nasty casting:
p14921
aVThat will give you a result as a  value
p14922
aVThen mix in a  to get the desired precision:
p14923
aVYou should change your  column from  to
p14924
aVYou can get away with just this:
p14925
aVIf you want to avoid the extra casting; however, leaving the outer casting in might make things easier to debug later as just  produces things like  for 23:42:11
p14926
aVOnce your columns have been converted to sensible  columns, then you can do away with all the casting:
p14927
aVor to sum the all regardless of :
p14928
as(dp14929
g10
V479863
p14930
stp14931
a((dp14932
g2
(lp14933
VFrom the fine manual:
p14934
aVFor other storage engines, MySQL Server parses and ignores foreign key specifications
p14935
aVSo if you need ON DELETE CASCADE behavior and MyISAM tables at the same time then you'll have to do the CASCADE part by hand with a DELETE trigger or something similar outside the database
p14936
aVAdding a trigger like this should work:
p14937
aVThat's just off the top of my head and the table and column names are, of course, just for demonstration purposes
p14938
as(dp14939
g10
V479863
p14940
stp14941
a((dp14942
g2
(lp14943
VI'm guessing that your regular expression is a string like this:
p14944
aVand that won't work as a regular expression
p14945
aVTry removing the leading and trailing slashes before you insert it into your JavaScript
p14946
aVOpen up your JavaScript console and see what this does to see the difference some slashes can make:
p14947
aVOr go here: http://jsfiddle
p14948
aVnet/ambiguous/7FPux/
p14949
as(dp14950
g10
V479863
p14951
stp14952
a((dp14953
g2
(lp14954
VFrom the fine manual:
p14955
aVchange
p14956
aVThe change event occurs when a control loses the input focus and its value has been modified since gaining focus
p14957
aVThis event is valid for INPUT, SELECT, and TEXTAREA
p14958
aVelement
p14959
aVWhen you modify the text input's value through code, the change event will not be fired because there is no focus change
p14960
aVYou can trigger the event yourself though with  and , for example:
p14961
aVAnd a live version: http://jsfiddle
p14962
aVnet/ambiguous/nH8CH/
p14963
as(dp14964
g10
V479863
p14965
stp14966
a((dp14967
g2
(lp14968
VYou might want to use  to be paranoid:
p14969
aVChanging the price on its own doesn't make much sense so, since they really are out to get you, it is best to do away with a whole class of possible bugs with that small change
p14970
aVThen you'd want to alter your accessor to directly work with the instance variable that  creates:
p14971
aVPresumably neither  nor  are valid prices so you don't have to worry about computing the  over and over again if  fails; the computation should only occur once as instance variables are automatically initialized to  on first access
p14972
aVLooks sensible enough to me other than the minor nit mentioned above
p14973
as(dp14974
g10
V479863
p14975
stp14976
a((dp14977
g2
(lp14978
VIf your data really is that regular and you don't need the attributes from the  elements, then you could parse the text form of each table cell without having to worry about the  elements at all
p14979
aVGiven some HTML like this in :
p14980
aVYou could do this:
p14981
aVand have this:
p14982
aVin
p14983
aVThen you could convert that to whatever hash form you needed
p14984
as(dp14985
g10
V479863
p14986
stp14987
a((dp14988
g2
(lp14989
VYou could try LEFT JOINing  to itself and then use COALESCE to ignore the NULLs that the LEFT JOIN will produce if there are no native language rows
p14990
aVSomething like this (untested and possibly not working) query:
p14991
aVThe  would, of course, be replaced with your known values and you'd use real dynamic values in place of  and  of course
p14992
as(dp14993
g10
V479863
p14994
stp14995
a((dp14996
g2
(lp14997
VjQuery's  produces a query string:
p14998
aVThe  method creates a text string in standard URL-encoded notation
p14999
ag3892
aVSo you just need to append another component:
p15000
aVDepending on your routes, you might want to  in the URL:
p15001
aVThis version should be more typical for Rails and RESTful routing but I don't know what your routes look like
p15002
as(dp15003
g10
V479863
p15004
stp15005
a((dp15006
g2
(lp15007
VThe attribute for the  tag is , not
p15008
aVThis:
p15009
aVShould be:
p15010
aVAnd get rid of the  call,  will:
p15011
aVWriting to a document that has already loaded without calling  will automatically perform a  call
p15012
aVAnd :
p15013
aVIf a document exists in the target, this method clears it
p15014
aVSo calling  anywhere except inside an inline  will erase everything before inserting your new stuff; about the only time you should use  is in things like this:
p15015
aVYou'd usually use  or  for quick debug messages (assuming that you're using a browser with a console and you have the console open)
p15016
aVOnce you take care of those issues, you should have something that does more interesting things than throw errors (or nothing at all): http://jsfiddle
p15017
aVnet/ambiguous/5kHVy/
p15018
aVYou might want to read up the newer event handling interfaces (such as )
p15019
as(dp15020
g10
V479863
p15021
stp15022
a((dp15023
g2
(lp15024
V is a keyword in C++, you can't use it as a method name
p15025
aVYou need to use a different name here:
p15026
as(dp15027
g10
V479863
p15028
stp15029
a((dp15030
g2
(lp15031
VYou could use real MySQL tables
p15032
aVIf you know the column names when you get the data you could make up a suitable table name (make sure you make these up yourself), create the table with the necessary number of  columns and populate it
p15033
aVYou'd want to quote the column names all the time of course, that way you wouldn't have to worry too much about what the columns are called
p15034
aVYou would also want to pay attention to the sizes of the incoming columns
p15035
aVYou could always ask the database for the table's schema if you needed it, just talk to the information schema tables or from  queries
p15036
aVYou might want to set aside a database (or one database per client) for these user defined tables
p15037
as(dp15038
g10
V479863
p15039
stp15040
a((dp15041
g2
(lp15042
VFrom the fine manual:
p15043
aVForm data must be represented as a Hash of String to String
p15044
aVYou're passing in a Hash of Symbol to Hash
p15045
aVIf you dig into the source, you'll see that it ends up going through this:
p15046
aVIf the  is a Hash (as in your case), you won't get anything useful coming through
p15047
aVFor example, apply all that to  you'll get this:
p15048
aVAnd that's not terribly useful
p15049
aVSo, if you want to use , then you'll have to flatten your data into a simple one level Hash yourself
p15050
as(dp15051
g10
V479863
p15052
stp15053
a((dp15054
g2
(lp15055
VSanitize is built on top of Nokogiri:
p15056
aVBecause it\u2019s based on Nokogiri, a full-fledged HTML parser, rather than a bunch of fragile regular expressions, Sanitize has no trouble dealing with malformed or maliciously-formed HTML, and will always output valid HTML or XHTML
p15057
aVEmphasis mine
p15058
aVSo the answer is "no", you have to fix your broken HTML
p15059
aVNokogiri has to fix the HTML so that it can be properly interpreted and a DOM can be built, then Sanitize will modify the DOM that Nokogiri builds, and finally that modified DOM will be serialized to get the HTML that you get to store
p15060
aVIf you scan through the Sanitize source, you'll see that everything ends up going through  and that will use Nokogiri's  or  methods:
p15061
aVSo you get Nokogiri's version of the HTML, not simply your HTML with the bad parts removed
p15062
as(dp15063
g10
V479863
p15064
stp15065
a((dp15066
g2
(lp15067
VYou could do it like this:
p15068
aVAnd then send  back as JSON
p15069
aVThen the client would get one JSON object with the  and  objects inside it
p15070
as(dp15071
g10
V479863
p15072
stp15073
a((dp15074
g2
(lp15075
VI think the trailing comma:
p15076
aVis the source of your trouble
p15077
aVAs an aside, you don't need to quote those column or table names, this:
p15078
aVshould be okay
p15079
as(dp15080
g10
V479863
p15081
stp15082
a((dp15083
g2
(lp15084
VWhen you do  on a Hash, you get a list of key/value pairs, then you try to index those pairs with a string and that gives you your error
p15085
aVThere's not much you can do to change what  does but you can work around it
p15086
aVYou could patch the Hash in your controller:
p15087
aVIf you don't have what you're expecting, you'd just make it an array with one element; which test you choose depends on what sorts of things you're expecting to get from  but I'd lean towards the "not array" check since that exactly matches what you're trying to do
p15088
aVOr you could try sorting it out in your view:
p15089
aVThat basically wraps whatever you have in an array and then flattens it one level, the  call is needed in case you already have an array
p15090
aVIf you start off with an array then the  is a no-op (the  call will undo what  does) that won't have any noticeable effect other than a bit of wasted CPU time; if you start with a hash, then  will turn it into an array and  won't do anything (but waste a bit of CPU)
p15091
as(dp15092
g10
V479863
p15093
stp15094
a((dp15095
g2
(lp15096
VI'm not sure where you're getting your HTML but, assuming you already have it in a string, you could create a document of your own, stuff your HTML into it, and then use the standard  to pull out the piece you want
p15097
aVFor example:
p15098
aVLive version: http://jsfiddle
p15099
aVnet/ambiguous/ZZq2z/1/
p15100
aVThis would, of course, be a lot easier with jQuery
p15101
as(dp15102
g10
V479863
p15103
stp15104
a((dp15105
g2
(lp15106
VThe thing that calls  controls  not only when the the function is called but also when it returns (and hence before your callback gets called)
p15107
aVThe calling sequence could look like this:
p15108
aVI don't know the exact circumstances of your situation but the above summarizes what can happen
p15109
aVWhen you produce a closure over  you're grabbing onto  but that doesn't mean that you've locked what's inside
p15110
aVNow that we know where  is coming from and why it was broken in the first place, we can consider why it works when  is correct and left alone
p15111
aVWhen you create your anonymous callback function:
p15112
aVyou're creating a closure that holds onto a reference to  (or, more accurately, what  points to) and  won't be killed off until no one is referencing it
p15113
aVThe lifetime of a variable depends on its scope; your  variable has lives within your  function
p15114
aVBut the variable only references (or points to) an object in memory and that object will, more or less, stick around until no one references it anymore
p15115
aVThe variable name and the object that is named are separate entities with separate lifetimes
p15116
aVTo quote Bruce Lee:
p15117
aVDon't concentrate on the finger, or you will miss all the heavenly glory
p15118
aVYou can't get away from pointers in programming even when they're not called pointers
p15119
as(dp15120
g10
V479863
p15121
stp15122
a((dp15123
g2
(lp15124
VI think your problem is that you have a column named "primary" and that's a reserved word
p15125
aVTry quoting it:
p15126
aVThis exception:
p15127
aVSQLLite3::SQLException: near "primary":
p15128
aVis coming from SQLite, not from ActiveRecord or Rails
p15129
as(dp15130
g10
V479863
p15131
stp15132
a((dp15133
g2
(lp15134
VWhen you do this:
p15135
aVYou're going from index  to
p15136
aVWhen you say this:
p15137
aVYou're starting at index  and then getting  characters, not going to index
p15138
aVFrom the fine manual:
p15139
aVIf passed a single , returns a substring of one character at that position
p15140
aVIf passed two  objects, returns a substring starting at the offset given by the first, and a length given by the second
p15141
as(dp15142
g10
V479863
p15143
stp15144
a((dp15145
g2
(lp15146
VMobile Safari doesn't show scrollbars (except the temporary one when you're scroll the entire page)
p15147
aVOlder versions of iOS require a two-finger drag to scroll interior elements, newer versions use a normal one-finger drag
p15148
aVIf you really need (or want) a scrollbar for the iPad, I've had reasonable success with TouchScroll but I don't know if you can add that to a
p15149
as(dp15150
g10
V479863
p15151
stp15152
a((dp15153
g2
(lp15154
VI think you're almost there but you need some parentheses (to group things) and some backslashes to keep CoffeeScript from misinterpreting the newlines
p15155
aVTry this:
p15156
aVYou could also mash it all into one line but you might regret it in a few months:
p15157
aVAnd BTW, go to the GitHub page and hit "TRY COFFEESCRIPT", that's an easy way to sort small bits of CoffeeScript out; start with the  version to cut down on the noise in the JavaScript and then switch to  when you get the right JavaScript
p15158
aVI'm not sure if you want to  forms in this case, the  form form:
p15159
aVwould give you the the JavaScript that you started with:
p15160
aVAnd if you don't like backslashes, you could do this:
p15161
as(dp15162
g10
V479863
p15163
stp15164
a((dp15165
g2
(lp15166
VFirst you'd want a jQuery object:
p15167
aVThen you could use  and the  selector to find the particular  you wanted and then  to go back up to the :
p15168
aVFor example (run with the console open): http://jsfiddle
p15169
aVnet/ambiguous/3Yqqu/
p15170
aVYou have to be careful with the  selector though as:
p15171
aVThe matching text can appear directly within the selected element, in any of that element's descendants, or a combination thereof
p15172
aVHence the  (a narrow search) followed by  to go back up
p15173
aVYou might want to add an extra filtering step if you're looking for strict equality rather than something LIKEish:
p15174
aVAnd an example of this (console open again please): http://jsfiddle
p15175
aVnet/ambiguous/fYNXx/
p15176
aVThe thinking is similar to SQL in that you're working with sets most of the time
p15177
aVHowever, you often chain things together more in the sense of shell pipeline than nested queries, sub-selects, and derived tables
p15178
as(dp15179
g10
V479863
p15180
stp15181
a((dp15182
g2
(lp15183
VYou're getting tripped up by the specialness of  inside a regular expression replacement string:
p15184
aV`
p15185
aVSubstitutes the value matched by the nth grouped subexpression, or by the entire match, pre- or postmatch, or the highest group
p15186
aVSo when you say , the double  becomes just a single backslash and the result is  but that means "The string to the right of the last successful match
p15187
aVIf you want to replace single quotes with escaped single quotes, you need to escape more to get past the specialness of :
p15188
aVOr avoid the toothpicks and use the block form:
p15189
aVYou would run into similar issues if you were trying to escape backticks, a plus sign, or even a single digit
p15190
aVThe overall lesson here is to prefer the block form of  for anything but the most trivial of substitutions
p15191
as(dp15192
g10
V479863
p15193
stp15194
a((dp15195
g2
(lp15196
VI think it would make more sense to add a date filtering method to , maybe even something as simple as
p15197
aVThen your template would look like:
p15198
aVTrying to put that logic in the template would cause a lot of unnecessary work, you'd be grabbing all the posts and then throwing them away if they didn't meet your search criteria
p15199
aVAnd as time passes, the number of posts that you're not interested in would grow larger and you'd be wasting more time and CPU cycles pulling things out of your database that you don't want
p15200
as(dp15201
g10
V479863
p15202
stp15203
a((dp15204
g2
(lp15205
VThere are three main differences;  only works on one method at a time, allows currying, and returns the bound function (this also means that you can use  on an anonymous function):
p15206
aVBind a function to an object, meaning that whenever the function is called, the value of this will be the object
p15207
aVOptionally, bind arguments to the function to pre-fill them, also known as currying
p15208
aVwhereas  binds many named methods at once, doesn't allow currying, and binds the them in-place:
p15209
aVBinds a number of methods on the object, specified by methodNames, to be run in the context of that object whenever they are invoked
p15210
aVSo these two chunks of code are roughly equivalent:
p15211
aVBut there is no  equivalent to this:
p15212
aVThat makes  the same as  (this is currying)
p15213
aVSo, when you say this:
p15214
aVYou're binding the method  to have a  that matches the current  and then you're binding  to the change event on
p15215
aVWhen you say this:
p15216
aVYou're doing the same thing
p15217
aVAnd this:
p15218
aVdoesn't work because you're throwing away the return value of  (i
p15219
ag785
aVyou throw away the bound function)
p15220
as(dp15221
g10
V479863
p15222
stp15223
a((dp15224
g2
(lp15225
VYou have a stray comma:
p15226
aVThe Ruby parser is looking for another argument for  but it sees a block and gets upset, hence the "unexpected kDO_BLOCK" error
p15227
aVThe second error:
p15228
aVis probably a side effect of the first one but, since there isn't a line 16 in your posted ERB, I can't be sure
p15229
as(dp15230
g10
V479863
p15231
stp15232
a((dp15233
g2
(lp15234
VThat works fine for :
p15235
aVhttp://jsfiddle
p15236
aVnet/ambiguous/wAU5w/
p15237
aVDid you use  (note the space) my mistake
p15238
aVThe  selector matches the  element, the  matches anything with and  that is a child of a
p15239
as(dp15240
g10
V479863
p15241
stp15242
a((dp15243
g2
(lp15244
VA general solution that should work with most SQL databases (include MySQL and PostgreSQL):
p15245
aVSQLite doesn't understand  though so you'd have to use:
p15246
as(dp15247
g10
V479863
p15248
stp15249
a((dp15250
g2
(lp15251
VYou can create routes by hand in pretty much whatever format you need
p15252
aVSomething like this in your :
p15253
aVThen you'll have  and  in your  when  is called
p15254
aVThis will also give you  and  helpers
p15255
aVThe , , , and  are, of course, just placeholders for demonstration purposes
p15256
aVThe routing guide has further details
p15257
as(dp15258
g10
V479863
p15259
stp15260
a((dp15261
g2
(lp15262
VYou could try computing the positions of the list items with respect to the scrolling  and then scan the positions to see which ones match up with the  of the
p15263
aVSomething like this perhaps:
p15264
aVLive version (open your console please): http://jsfiddle
p15265
aVnet/ambiguous/yHH7C/
p15266
aVYou'd probably want to play with the fuzziness of the  to get something that works sensibly (1px visible hardly makes an element the top one) but the basic idea should be clear enough
p15267
aVMixing in the height of  will let you see which  is at the bottom
p15268
aVIf you have a lot of list items, then a linear search might not be what you want but you should be able to solve that without too much effort
p15269
as(dp15270
g10
V479863
p15271
stp15272
a((dp15273
g2
(lp15274
VThe  method gives you  instances and those get most of their behavior from their  parent class
p15275
aVTo get an attribute out of a Node, use :
p15276
aVYou could also use  if that makes more sense to you
p15277
aVHowever,  attributes can have multiple values so you might want to split them into pieces on whitespace:
p15278
aVThe intersection is just an easy way to see if the two arrays have any elements in common (i
p15279
ag785
aVcontains anything that you want to exclude)
p15280
as(dp15281
g10
V479863
p15282
stp15283
a((dp15284
g2
(lp15285
VFrom the fine manual:
p15286
aVcontext
p15287
aVThis object will be made the context of all Ajax-related callbacks
p15288
aVBy default, the context is an object that represents the ajax settings used in the call ( merged with the settings passed to )
p15289
aVSo your  in the success callback is, essentially, just the AJAX options
p15290
aVSo either specify the right  option to get the  you're expecting or use an explicit selector:
p15291
aVYou probably want to add an  callback to restart your timer if there was an error
p15292
aVOr use the  callback for that:
p15293
aVEven with all that you still have a problem with  matching multiple things in your callbacks so you'll need to adjust your whole approach (i
p15294
ag785
aVattributes on the  elements and an id-to-timestamp mapping in the returned data)
p15295
aVOr just ditch the AJAX and listen to naveen
p15296
as(dp15297
g10
V479863
p15298
stp15299
a((dp15300
g2
(lp15301
VThere is no guarantee that the IDs will match the insertion order but you'll usually be safe
p15302
aVFor example: if you have a really large database that has accumulated a lot of holes due to deleted items, you might compact it and reset the underlying sequences (or whatever your database uses to generate the IDs) to recover some unused values
p15303
aVRails just uses the database's implementation but your DBA (or you with your DBA hat on) is not so constrained
p15304
aVThe IDs should be monotonically increasing over the short term unless you end up using some sort of hateful database that wants you to suffer
p15305
as(dp15306
g10
V479863
p15307
stp15308
a((dp15309
g2
(lp15310
VIsn't your pseudo-Ruby:
p15311
aVThe same thing as using 1
p15312
aV9's
p15313
aVFor example:
p15314
aVYou still have to name the block argument of course
p15315
as(dp15316
g10
V479863
p15317
stp15318
a((dp15319
g2
(lp15320
VThe first time you do this:
p15321
aVYour  turns into this:
p15322
aVAnd your template is gone
p15323
aVMove your template:
p15324
aVto somewhere outside
p15325
as(dp15326
g10
V479863
p15327
stp15328
a((dp15329
g2
(lp15330
VYes, you could use an instance variable for this as long as everything is happening in a single request
p15331
aVSo something like this:
p15332
aVwill work as expected
p15333
aVHowever, this sort of thing:
p15334
aVwon't work if  and  are called in difference requests
p15335
aVRemember that the lifetime of a controller instance is a single request
p15336
as(dp15337
g10
V479863
p15338
stp15339
a((dp15340
g2
(lp15341
VA trigger wouldn't really work for this
p15342
aVPresumably you'd need some way to determine which table (visited, broken, filtered, visiting) the link should be moved to when you delete it but there's no way to tell the trigger where the link should go
p15343
aVYou could use a couple non-trigger functions to encapsulate a process like this:
p15344
aVLink goes into the link table
p15345
aVMove the link to the "visiting" table
p15346
aVDepending on the result of trying the link, move it it from "visiting" to the "visited", "broken", or "filtered" tables
p15347
aVYou could use a stored procedure to take care of each of the transitions but I don't know if you'd gain anything over manual  and  statements
p15348
aVHowever, if you really have a thing for triggers (and hey, who doesn't like triggers
p15349
aVthen you could use your original six column table, add a last-accessed timestamp, and periodically do some sort of clean-up:
p15350
aVThen you could use a DELETE trigger to move the link to one of your archive tables based on the boolean columns
p15351
as(dp15352
g10
V479863
p15353
stp15354
a((dp15355
g2
(lp15356
VThe easiest thing I can think of would be to use  to build an element path back to the root (i
p15357
ag785
aVback to ) and  at each node to figure out the numeric index of that node amongst its siblings
p15358
aVSince there will be exactly one  and  (Nokogiri will add these for you behind your back if necessary) you can stop walking up the parents once you hit the  node
p15359
aVThe algorithm looks like this:
p15360
aVInitialization: ,  is the node you already have
p15361
aVSet  and call  until  and count how many iterations you made, this will give you the position of  amongst its siblings
p15362
aVPut the position in
p15363
aVKeep in mind that XPath positions are one-based
p15364
aVStore the new path component:
p15365
aVSet , if  is not the  then  and go back to step 2
p15366
aVAdd the final components that we know are there:
p15367
aVBuild the XPath expression:
p15368
aVSo given some HTML like this:
p15369
aVand a start node of , you'd end up with an XPath like this:
p15370
aVNot exactly pretty but at least the process is fairly simple and the resultant XPath will be unique
p15371
aVIf you need paths to most of the nodes in the DOM then you could start at the root and number all the nodes on the way down
p15372
aVThat way you could avoid walking the siblings over and over again
p15373
as(dp15374
g10
V479863
p15375
stp15376
a((dp15377
g2
(lp15378
VYou'd have to modify the source
p15379
aVOn the upside, modifying the source looks pretty straight forward
p15380
aVYou want to rename the  option to something like  to reflect its new purpose
p15381
aVThen you'd add a  option that takes an array value
p15382
aVChange this:
p15383
aVto
p15384
aVAnd add another branch to this:
p15385
aVwith something like this:
p15386
aVAnd make sure you change  to  everywhere
p15387
aVThere are a couple other  checks that you'd want to change to  too but not many
p15388
aVYou'd probably want to send a patch to the author as well, that would be polite
p15389
as(dp15390
g10
V479863
p15391
stp15392
a((dp15393
g2
(lp15394
VI'm not sure about XMLSimple but you could use Nokogiri
p15395
aVSomething like this should do the trick:
p15396
aVIf you're XML already has the  wrapper then you don't need to add them
p15397
aVThe  call will give you an iterator with all the  elements
p15398
aVThen you iterate with  to build the hash
p15399
aVThe  method gives you the node's content and  gives you the node that immediately follows the  you have in hand
p15400
aVYou might have to tweak  a little to account for all the possible value types but that's pretty straight forward
p15401
aVThis approach will overwrite previous s with new ones but it is pretty easy to change it produce an array of little single key hashes if you want to do something with the duplicates
p15402
as(dp15403
g10
V479863
p15404
stp15405
a((dp15406
g2
(lp15407
VYour queries are not functionally equivalent so any comparison of their query plans is meaningless
p15408
aVYour first query is, in set theory terms, this:
p15409
aVbut your second is this:
p15410
aVAnd  is not the same as  for arbitrary sets  and
p15411
aVFix your queries to be semantically equivalent and try again
p15412
as(dp15413
g10
V479863
p15414
stp15415
a((dp15416
g2
(lp15417
VI'd guess that  is  for some
p15418
aVNothing else in your  would produce that error
p15419
aVYou could try this:
p15420
aVCalling  gives you a zero whereas calling  for any Fixnum  gives you just
p15421
aVYou should also figure out why  is giving you a  when it probably shouldn't
p15422
aVAlso, you could use  instead of :
p15423
aVbut that doesn't solve your  problem, just thought I'd mention it
p15424
as(dp15425
g10
V479863
p15426
stp15427
a((dp15428
g2
(lp15429
VYou probably shouldn't be using a  for that,  would serve you better
p15430
aVAnd  probably isn't what you want either, :
p15431
aVhidden
p15432
aVThe generated box is invisible (fully transparent, nothing is drawn), but still affects layout
p15433
aVFurthermore, descendants of the element will be visible if they have 'visibility: visible'
p15434
aVAnd you should close your  before the login form
p15435
aVYou probably want to use  and
p15436
aVSo something like this:
p15437
aVAnd:
p15438
aVLive example: http://jsfiddle
p15439
aVnet/ambiguous/6ngnU/1/
p15440
as(dp15441
g10
V479863
p15442
stp15443
a((dp15444
g2
(lp15445
VSplit your terms on whitespace and then, for each term, build a little bit of SQL like this:
p15446
aVThen join all of those with  to get your WHERE clause
p15447
aVSo for "Shelby Ford", you'd end up with SQL like this:
p15448
aVIf you need anything more complicated then investigate MySQL's full-text search capabilities
p15449
as(dp15450
g10
V479863
p15451
stp15452
a((dp15453
g2
(lp15454
VYou can restrict the routes when you say :
p15455
as(dp15456
g10
V479863
p15457
stp15458
a((dp15459
g2
(lp15460
VWrap them in a block with
p15461
aVThat will adapts its width to the largest width of its children and the child  elements will be as wide as their parent
p15462
aVFor example:
p15463
aVAnd:
p15464
aVAnd a live demo: http://jsfiddle
p15465
aVnet/ambiguous/gXP7Q/
p15466
as(dp15467
g10
V479863
p15468
stp15469
a((dp15470
g2
(lp15471
VYou should be using  instead of  with Rails 3 and up
p15472
aVTry using:
p15473
aVOr this if you get scope issues with just :
p15474
as(dp15475
g10
V479863
p15476
stp15477
a((dp15478
g2
(lp15479
VYou have a typo, the method is , not :
p15480
aVFor example (without the AJAX stuff): http://jsfiddle
p15481
aVnet/ambiguous/u3c9G/
p15482
as(dp15483
g10
V479863
p15484
stp15485
a((dp15486
g2
(lp15487
VYou can override the STI column name using :
p15488
aVSo pick some column name that you won't use for anything and feed that to
p15489
as(dp15490
g10
V479863
p15491
stp15492
a((dp15493
g2
(lp15494
VThere's always :
p15495
aVThe realpath() function shall derive, from the pathname pointed to by *file_name*, an absolute pathname that resolves to the same directory entry, whose resolution does not involve '
p15496
aV, '
p15497
aV, or symbolic links
p15498
aVThen compare what  gives you with your desired root directory and see if they match up
p15499
aVYou could also clean up the filename by hand by expanding the double-dots before you prepend the
p15500
aVSplit the incoming path on slashes and walk through it piece by piece
p15501
aVIf you get a  then remove it and move on; if you get a , then remove it and the previous component (taking care not go past the first entry in your list); if you get anything else, just move on to the next component
p15502
aVThen paste what's left back together with slashes between the components and prepend your
p15503
aVSo if someone gives you , you'll end up with  and  will end up as
p15504
aVThat way you can't get outside  (except through symbolic links of course) and an incoming  will be the same as  (just like in a normal file system)
p15505
aVBut you'd still want to use  if you're worried about symbolic under
p15506
aVWorking with the path name component by component would also allow you to break the connection between the layout you present to the outside world and the actual file system layout; there's no need for  to map to an actual  file anywhere, the path could just be a key in some sort of database or some sort of namespace path to a function call
p15507
as(dp15508
g10
V479863
p15509
stp15510
a((dp15511
g2
(lp15512
VYou don't want to use  as that waits for the process to complete
p15513
aVYou could use  instead and then wait for the processes (to avoid zombies)
p15514
aVThen, when you want to exit, send a SIGTERM to your spawned processes
p15515
aVYou could also use  to launch your child processes but  is probably easier if you're using external programs
p15516
aVYou could also use process groups instead of tracking all the process IDs, then a single  call would take care of things
p15517
aVYour child processes should end up in the same process group but there is  if you need it
p15518
aVHere's an example that uses  (easier to get it all wrapped in one package that way)
p15519
aVIf you run that in one terminal and then kill it from another (using the shell's  command)you'll see that the children are also killed
p15520
aVIf you remove the "forward this signal to the whole process group"  stuff, then a simple SIGTERM will leave the children still running
p15521
aVAll of this assumes that you're working on some sort of Unixy system (such as Linux or OSX), YMMV anywhere else
p15522
as(dp15523
g10
V479863
p15524
stp15525
a((dp15526
g2
(lp15527
VUse  and see if you get a scheme and host
p15528
aVFor example, this:
p15529
aVProduces:
p15530
aVLive example: http://ideone
p15531
aVcom/S9WR2
p15532
aVThis also allows you to check the scheme to see if it is something you want (e
p15533
ag1985
aVyou'd often want to ignore  URLs)
p15534
as(dp15535
g10
V479863
p15536
stp15537
a((dp15538
g2
(lp15539
VProbably because SQLite's LIKE is (partially) case insensitive but PostgreSQL's LIKE is case sensitive
p15540
aVTry this:
p15541
aVPostgreSQL also has ILIKE as a case insensitive version of LIKE but SQLite (nor standard SQL) doesn't so you shouldn't use ILIKE unless you are specifically targeting PostgreSQL
p15542
aVAnd switch your development environment to PostgreSQL if you're publishing to Heroku, you will save yourself a fair bit of grief and confusion
p15543
aVAnother possibility is that you don't have any data (or any matching data) in your Heroku database
p15544
as(dp15545
g10
V479863
p15546
stp15547
a((dp15548
g2
(lp15549
VTo get the minutes from a Time object, you want  not
p15550
aVYou can't have a Time instance that's just a "time of day" (i
p15551
ag785
aVno year, month,
p15552
aVbut you can use  to get a string version that will compare properly:
p15553
aVOr you could compare the individual , , and  components:
p15554
aVWhich approach you take depends, as usual, on your specific situation and what else is going in in that vicinity
p15555
as(dp15556
g10
V479863
p15557
stp15558
a((dp15559
g2
(lp15560
VYou could use the jQuery-UI method calling style:
p15561
aVAnd then in your plugin:
p15562
aVYou might want to use the  pseudo-array instead of the extra  parameter
p15563
aVYou can store extra things in  inside your PLUGINNAME function if you need to attach internal data to your individual objects
p15564
as(dp15565
g10
V479863
p15566
stp15567
a((dp15568
g2
(lp15569
VYou could use the  event:
p15570
aVThis event is triggered when sorting has stopped
p15571
aVYou'd have something like this:
p15572
aVLive demo: http://jsfiddle
p15573
aVnet/ambiguous/Cb5BQ/
p15574
aVYou'd want to keep track of the the current state (small or large) in a class so that you can switch between the "small widget" version and the "detail view" version as appropriate
p15575
as(dp15576
g10
V479863
p15577
stp15578
a((dp15579
g2
(lp15580
VYou can use :
p15581
aVYou might want to pay proper attention to any incoming  and  settings in your  though
p15582
aVSo you might want to use the block form of :
p15583
as(dp15584
g10
V479863
p15585
stp15586
a((dp15587
g2
(lp15588
VYou'll end up with multiple timers running but it looks okay other than
p15589
aVFor the timer problem, you could store the timer ID using  on the  and then call  to stop it before starting a new one
p15590
aVSomething like this:
p15591
aVAnd a live demo of the technique (shorter time interval, no AJAX): http://jsfiddle
p15592
aVnet/ambiguous/MagL4/
p15593
as(dp15594
g10
V479863
p15595
stp15596
a((dp15597
g2
(lp15598
VDon't float the right column at all, just give it a large enough margin to accommodate the left column
p15599
aVFloated elements are removed from the normal document flow and contribute nothing to the height of their parent; so, if you float both the right and left columns, your red  element ends up with no height and you don't see it; if you stop floating the right column, then it really will determine the height of
p15600
aVIf you don't float  at all then it will expand to use all of the available width in
p15601
aVSomething like this:
p15602
aVCSS:
p15603
aVUpdated fiddle: http://jsfiddle
p15604
aVnet/ambiguous/eDTdQ/
p15605
aVAlternatively, you could add a  to  and let it keep floating, then add  to  so that  expands to contain its floated children:
p15606
aVLive version of this approach: http://jsfiddle
p15607
aVnet/ambiguous/eDTdQ/2/
p15608
aVIf you want the right column to auto-stretch and you want both columns to be full-height, then you can absolutely position the left column instead of floating it:
p15609
aVLive: http://jsfiddle
p15610
aVnet/ambiguous/3Cxe3/
p15611
as(dp15612
g10
V479863
p15613
stp15614
a((dp15615
g2
(lp15616
VYes, Rails always adds the  and  to
p15617
aVThe parameters come from ActionDispatch::Http::Parameters:
p15618
aVAnd :
p15619
aVReturns a hash with the parameters used to form the path of the request
p15620
aVReturned hash keys are strings:
p15621
aVSo you shouldn't be doing
p15622
aVYou could go the  route:
p15623
aVBut this assumes that you have what you need in a sub-hash of  and it won't call your validators
p15624
aVBackbone won't namespace your attributes by default but you could override  and do it yourself
p15625
aVStill, you probably want your validations so  should generally be avoided
p15626
aVYour best bet is to pull exactly the attributes out of  that you're expecting to be there
p15627
aVThis is even the Backbone recommended practise:
p15628
aV*(In real code, never use update_attributes blindly, and always whitelist the attributes you allow to be changed
p15629
aV*
p15630
as(dp15631
g10
V479863
p15632
stp15633
a((dp15634
g2
(lp15635
VMonkey patching is often a kludge but I think it is reasonable here:
p15636
aVTimeouts don't have much meaning in the fake world so ignoring them seems like a reasonable thing to do
p15637
aVYou might even consider sending a pull request to the author
p15638
as(dp15639
g10
V479863
p15640
stp15641
a((dp15642
g2
(lp15643
VYour  callback be just this:
p15644
aVThat way, when you successfully get your HTML (in ) back from the server, you will show the gallery, hide the loader animation, and stuff the  HTML into the gallery
p15645
aVThe  function registers an "AJAX is done" handler:
p15646
aVWhenever an Ajax request completes, jQuery triggers the  event
p15647
aVAny and all handlers that have been registered with the  method are executed at this time
p15648
aVBut you're not doing any AJAX on , you are doing things to it but it doesn't know that those things originate from AJAX actions
p15649
aVThe result is that your success handler does nothing that the user can see
p15650
aVAn  handler might be a good addition as well, then you could move the "hide loader animation" to a  handler:
p15651
aVThe  handler is:
p15652
aVA function to be called when the request finishes (after success and error callbacks are executed)
p15653
aVSo that's a good place to put any cleanup that you always want to happen
p15654
as(dp15655
g10
V479863
p15656
stp15657
a((dp15658
g2
(lp15659
VEvery time you call  (for any ), you get a brand new object
p15660
aVSo these two statements:
p15661
aVproduce two completely difference objects
p15662
aVSo if you do this:
p15663
aVAnd then later do this:
p15664
aVThen  won't have a  property even if both  and  resolve to the same set of DOM objects
p15665
aVAlso,  doesn't behave the way you think it does
p15666
aVCalling  merges the objects into the first object
p15667
aVSo saying:
p15668
aVsimply returns  without changing anything whereas:
p15669
aVAdds a  property to  and returns the modified
p15670
aVThat's why you usually see  used like this:
p15671
as(dp15672
g10
V479863
p15673
stp15674
a((dp15675
g2
(lp15676
VRight here:
p15677
aVYou're replacing the entire content for
p15678
aVThat includes all the elements that you've bound callbacks to so all those callbacks are lost
p15679
aVThat probably leaves with just  as the action for  so your form is dead
p15680
aVYou can bind your callbacks with  or  or rebind all your handlers when you replace
p15681
as(dp15682
g10
V479863
p15683
stp15684
a((dp15685
g2
(lp15686
VYour  is a local variable within the  function
p15687
aVThat means that each time you call , you get a new  variable
p15688
aVYour  callback will update the  that it is a closure for but the  called by  will get its own
p15689
aVIf you want to use the same  for every execution of  you will have to make it global or make its value persistent with  or a cookie
p15690
aVHave a look at this, it might clarify that's going on:
p15691
aVLive version (with HTML): http://jsfiddle
p15692
aVnet/ambiguous/PRaLH/
p15693
aVAnd compare it to how this behaves:
p15694
aVLive version: http://jsfiddle
p15695
aVnet/ambiguous/Ntqjh/
p15696
as(dp15697
g10
V479863
p15698
stp15699
a((dp15700
g2
(lp15701
VYes, the low-level interface supports things like this:
p15702
aVAnd that's like this SQL:
p15703
aVYou'll want to last parameter (multi) to be  or you won't update all the matching entries
p15704
aVThis might be of use:
p15705
aVhttp://www
p15706
aVmongodb
p15707
aVorg/display/DOCS/SQL+to+Mongo+Mapping+Chart
p15708
as(dp15709
g10
V479863
p15710
stp15711
a((dp15712
g2
(lp15713
Vgcc has a list of built-in functions and  is one of them
p15714
aVOn my version of OSX, gcc uses the built-in  in both of your cases so  is not necessary
p15715
aVApparently your Gentoo compiler behaves differently and only uses the built-in  in some cases
p15716
aVIf you try compiling with  then you'll have to use  for both of your compilations
p15717
as(dp15718
g10
V479863
p15719
stp15720
a((dp15721
g2
(lp15722
VI think you can just use a "starts with" selector
p15723
aVI'm not sure how your HTML is structured but if the things you're searching for are all inside a , then:
p15724
aVLive example: http://jsfiddle
p15725
aVnet/ambiguous/MwqyS/
p15726
aVIf you're just looking for  elements then this should work:
p15727
aVLive example: http://jsfiddle
p15728
aVnet/ambiguous/tDTjh/
p15729
as(dp15730
g10
V479863
p15731
stp15732
a((dp15733
g2
(lp15734
VThat's the index of the last item and since arrays start at zero (unless you're messing around with things that are better left alone),  is one less than the length of the array
p15735
as(dp15736
g10
V479863
p15737
stp15738
a((dp15739
g2
(lp15740
VYou could use an object to collect up your properties while replacing duplicates and then expand/flatten that object back to an array
p15741
aVSomething like this:
p15742
aVI don't know if this is the fastest way but it works for any number of input arrays; for example, this:
p15743
aVGives you the same thing in  that was in  with "German" replaced by "Pancakes"
p15744
aVThis approach does assume that your objects all have the same  form of course
p15745
aVYou can see it working here (open your console please): http://jsfiddle
p15746
aVnet/ambiguous/UtBbB/
p15747
as(dp15748
g10
V479863
p15749
stp15750
a((dp15751
g2
(lp15752
VSet up PostgreSQL locally, use PG backups to copy the data from Heroku to your local machine, then  to import it into your new local PostgreSQL
p15753
aVThen you can copy it from PostgreSQL to MySQL or SQLite locally without having to worry about timeouts
p15754
aVOr, since you'd have a functional PostgreSQL installation after that, just start developing on top of PostgreSQL so that your development stack better matches your deployment stack; developing and deploying on the same database is a good idea
p15755
aVYou're probably getting binary dumps (i
p15756
ag785
aV) from Heroku, that would explain why the dump looks like some sort of UTF-16 nonsense
p15757
aVYou can use the pgbackups addon to export the database dump
p15758
as(dp15759
g10
V479863
p15760
stp15761
a((dp15762
g2
(lp15763
VAFAIK, MiniMagick just wraps the command line tools so that's probably not the best choice for working with individual pixels
p15764
aVRMagick wraps the C libraries so pixel-level work should be a lot easier and faster
p15765
aVThere is  in RMagick:
p15766
aVGets the pixels from the specified rectangle within the image
p15767
aVThat returns an array of Pixel objects and from there you can get the raw RGBA data and scale the numbers to whatever ranges works for you
p15768
as(dp15769
g10
V479863
p15770
stp15771
a((dp15772
g2
(lp15773
VYou could use  from within :
p15774
aVYou can also root around in the  if you're not inside
p15775
as(dp15776
g10
V479863
p15777
stp15778
a((dp15779
g2
(lp15780
VLooks like  is itself an array:
p15781
aVI'm not sure where the parentheses come from, they're probably just a copy'n'paste thing so I'll ignore them
p15782
aVTry this:
p15783
as(dp15784
g10
V479863
p15785
stp15786
a((dp15787
g2
(lp15788
VYou could validate the attribute by hand and use , that skips validation
p15789
aVIf you add this to your :
p15790
aVAnd then update the attribute thusly:
p15791
aVYou should get your single attribute updated while only (manually) validating that attribute
p15792
aVIf you look at how Milan Novota's  works, you'll see that it performs the validations and then checks to see if the specific  had issues; it doesn't matter if any of the other validations failed as  only looks at the validation failures for the attribute that you're interested in
p15793
aVIf you're going to be doing a lot of this stuff then you could add a method to User:
p15794
aVand use that to update your single attribute
p15795
as(dp15796
g10
V479863
p15797
stp15798
a((dp15799
g2
(lp15800
VSomething like this perhaps:
p15801
aVAssuming that  returns a String
p15802
aVThe  method invokes a method by name:
p15803
aVInvokes the method identified by symbol, passing it any arguments specified
p15804
aVSo you just need to build the appropriate method name as a string and then convert it a symbol with
p15805
as(dp15806
g10
V479863
p15807
stp15808
a((dp15809
g2
(lp15810
VReplace  with  (to get an Enumerable) and :
p15811
aVThe  call will return  if it doesn't find anything; that means that the  will give you the first row that has  and you can pull out the column at index 2 from the result
p15812
aVIf you're not certain that  will have what you're looking for then a bit of error checking would be advisable:
p15813
aVOr, if you want to silently ignore the lack of  and use an empty string instead, you could do something like this:
p15814
aVI'd probably go with the "complain if it isn't found" version though
p15815
as(dp15816
g10
V479863
p15817
stp15818
a((dp15819
g2
(lp15820
VDo the sorting on the client side like this:
p15821
aVThis only uses one query and  only computes the block once for each item so that part shouldn't be that expensive
p15822
aVIf you have a lot of items to deal with then you could easily build a Hash that maps the id to its index and use that in the  block
p15823
aVThe basic idea is to sort one array using the structure of another, for example:
p15824
as(dp15825
g10
V479863
p15826
stp15827
a((dp15828
g2
(lp15829
VThe problem is that  basically hands a string to the shell to be parsed so you'd have to escape everything that the shell could possibly interpret
p15830
aVSo  is pretty much out the window if you need to deal with anything that you haven't built yourself (and event then it is suspect)
p15831
aVOne solution is to use Open3
p15832
aVcapture3:
p15833
aVand then deal with the standard output () and standard error () returns as needed
p15834
aVThere are a few other things in Open3 that might serve your needs better
p15835
as(dp15836
g10
V479863
p15837
stp15838
a((dp15839
g2
(lp15840
VSimilar to Tron's but (IMHO) a bit simpler and doesn't require the number-to-letter map to be symmetric:
p15841
aVYou start with a dirty  and get  as the fixed up version
p15842
aVFor example, this will convert  to
p15843
aVYou could wrap it up in a function if desired:
p15844
aVYou could also use this (or various other similar constructions):
p15845
aVIf you don't like the / version
p15846
as(dp15847
g10
V479863
p15848
stp15849
a((dp15850
g2
(lp15851
VThe I18N string tools support interpolation:
p15852
aVAnd then in the :
p15853
aVJust don't try to use  or  as variables in your strings,  uses those for other things:
p15854
aVIf a translation uses  or  as an interpolation variable, an  exception is raised
p15855
aVThis doesn't apply to YAML in general but your question seems to be specifically about the translation files
p15856
as(dp15857
g10
V479863
p15858
stp15859
a((dp15860
g2
(lp15861
VThe cells in a jQuery-UI datepicker usually look like one of these:
p15862
aVThe stylesheet contains something like this (with possible theme-specific variations in the numbers):
p15863
aVSo the  and  are set to  inside the table cells and given a bit of padding ( in this case)
p15864
aVThat padding is where your extra width is coming from; also, the  will make them wide enough to fill their parent so all the cells in a column will line up properly
p15865
aVSo adjust your theme or override the  and  CSS to use less padding
p15866
aVYou might want to have a look at the padding on  as well but that's usually quite small
p15867
as(dp15868
g10
V479863
p15869
stp15870
a((dp15871
g2
(lp15872
VYou're using a  hook that's assuming that  is set:
p15873
aVAnd your error says:
p15874
aVSo  is  during your  call
p15875
aVPerhaps you want an  hook so that you'll have some instance data to work with
p15876
aVEven then you'd want to check for  (just in case) and use a validation to make sure you get one:
p15877
aVOr maybe an  hook would serve you better
p15878
as(dp15879
g10
V479863
p15880
stp15881
a((dp15882
g2
(lp15883
V is the executable itself
p15884
aVYour  probably has built-in rules for compiling a  file to  file (using ) and for linking a single  file (using ) to an executable
p15885
aVSo all you have to do is supply the  and give  at least one target and that target is conventionally called
p15886
aVIf you explicitly write out the rules that  can infer, you'd have something like this:
p15887
aVThe GNU Make manual has a section on its implicit rules:
p15888
aVhttp://www
p15889
aVgnu
p15890
aVorg/s/hello/manual/make/Implicit-Rules
p15891
aVhtml
p15892
as(dp15893
g10
V479863
p15894
stp15895
a((dp15896
g2
(lp15897
VYou could try trapping the EXIT signal:
p15898
aVThe special signal name "EXIT" or signal number zero will be invoked just prior to program termination
p15899
aVSomething like this should guarantee that your script always returns zero to the operating system:
p15900
aVFor example, this script:
p15901
aVactually returns zero to the OS despite triggering script's termination with
p15902
as(dp15903
g10
V479863
p15904
stp15905
a((dp15906
g2
(lp15907
VThis SQLite:
p15908
aVIs, AFAIK, subtracting the day-in-the-week number days (i
p15909
ag785
aV0 for Sunday, 1 for Monday,
p15910
aVfrom  and then converting the result back to a ; see the date function reference for details
p15911
aVI think the equivalent for PostgreSQL would be:
p15912
aVwhere  is your date; subtracting an integer from a date subtracts that number of days
p15913
aVIf  is a timestamp, then you might need to add some casting
p15914
aVThere is  as well but that starts numbering the days from Monday so you'd be off by one with that
p15915
aVHere's a quick breakdown of the SQLite with the  variable replaced by  to avoid confusion with the  function:
p15916
aVFirst of all,  is the standard SQL string concatenation operator
p15917
aVThe  function is a general purpose date and time formatter that comes from POSIX; the  format specifier means "day of the week as a number with Sunday being day zero"; so the  call gives you 0 for Sunday, 1 for Monday, and so on up to 6 for Saturday
p15918
aVIf  is a Tuesday, then the  call will yield 2 and the whole thing ends up as:
p15919
aVThe modifiers for the SQLite  function have various forms but  means just what you'd think: subtract two days from
p15920
aVThe overall result is that you get  truncated to the week (where Sunday is considered to be the first day of the week)
p15921
aVOn the PostgreSQL side:
p15922
aVwe can start with ;  is used to extract specific parts of a date or time and  means "day of the week as a number with Sunday being day zero"
p15923
aVSound familiar
p15924
aVThen the  casts the DOW number to an integer and is needed because the DOW actually comes out as a double precision value and there is no operator defined for subtracting a double from a date in PostgreSQL; the cast can also be written in the standard form as
p15925
aVWhen you subtract an integer from a date in PostgreSQL, you subtract that many days; you can be more explicit by saying things like  but that would just add more noise in this case so I opted for simplicity
p15926
aVIf it is Tuesday, then our PostgreSQL version looks like:
p15927
aVand that's the same as:
p15928
aVAnd after the subtraction we'd be back on Sunday
p15929
aVThere's also  in PostgreSQL but that would truncate to Monday not Sunday
p15930
as(dp15931
g10
V479863
p15932
stp15933
a((dp15934
g2
(lp15935
VYou could use  from inside a model method:
p15936
as(dp15937
g10
V479863
p15938
stp15939
a((dp15940
g2
(lp15941
VYou'd use the  and  methods thusly:
p15942
aVIf you started with  in , your  would end up as
p15943
aVIf your string is actually , then:
p15944
aVBoth  and  are Rails-specific but I see the "ruby-on-rails" tag so we're in Rails-land
p15945
as(dp15946
g10
V479863
p15947
stp15948
a((dp15949
g2
(lp15950
V can take a block argument:
p15951
aVFor example:
p15952
aVYou'll probably get the first match (rather than the last as in your "could be" output) but I don't think there is any guarantee as to which one will be chosen
p15953
aVNote that this only works in 1
p15954
aV9, 1
p15955
aV8 doesn't like it so you'll have to work harder in 1
p15956
aV8 but not that much harder:
p15957
aVThe / version works the same in 1
p15958
aV8 and 1
p15959
ag2959
aVAlso, this one picks the last of the duplicated values
p15960
as(dp15961
g10
V479863
p15962
stp15963
a((dp15964
g2
(lp15965
VThere is the  environment variable:
p15966
aVbehaves the same as the password connection parameter
p15967
aVUse of this environment variable is not recommended for security reasons, as some operating systems allow non-root users to see process environment variables via ps; instead consider using the  file
p15968
aVAs mentioned, there is also the password file but the environment variable would probably be fine for an installer
p15969
aVIn either case you'd drop the  switch
p15970
aVYou could also build a special purpose tool to talk to PostgreSQL directly rather than go through
p15971
as(dp15972
g10
V479863
p15973
stp15974
a((dp15975
g2
(lp15976
VThis bit:
p15977
aVis the same as this (with some renaming to make it easier to track the scope):
p15978
aVThe  change just comes from the  right above your  loop
p15979
aVThe interesting part is this:
p15980
aVIf  is 1 you will have added a property named  to  whose value is  itself, hence the
p15981
aVI would hazard a guess that  is 2 and that your function is acting as a closure over  and ending up with using the last value that  had and that's why you get the  rather than a  property
p15982
aVI see three main Things that could be causing you trouble:
p15983
aVThe classic closure problem with
p15984
aVToo many things were called  so it was easy to lose track of which one you were working with
p15985
aVThe circular reference:
p15986
aVAnother possible source of confusion is that  and  are the same object but that might be okay
p15987
as(dp15988
g10
V479863
p15989
stp15990
a((dp15991
g2
(lp15992
VThe  business was taken care of elsewhere so we only have to sort out the  stuff here and compensate for  being a timestamp
p15993
aVAnd I'll switch to an explicit join condition (rather than the implicit one in the WHERE clause) while I'm here
p15994
aVPostgreSQL can compare timestamps with ISO8601 date strings on its own so you don't need any casting or reformatting for the comparisons
p15995
aVThe two  still look a bit funny to me but I don't know the context that the query is used in so the duplicates might make sense
p15996
as(dp15997
g10
V479863
p15998
stp15999
a((dp16000
g2
(lp16001
VYour  is an array of arrays or has at least one array in it
p16002
aVFor example:
p16003
as(dp16004
g10
V479863
p16005
stp16006
a((dp16007
g2
(lp16008
VI don't know which specific version of XPath Nokogiri supports
p16009
aVBut, you can do this:
p16010
aVI want to get all  elements that have a  attribute start with the character
p16011
aVusing XPath's :
p16012
aVYou could also use a CSS3 "begins with" selector:
p16013
as(dp16014
g10
V479863
p16015
stp16016
a((dp16017
g2
(lp16018
VThe  flag for  might be of interest
p16019
aVSomething like this should work:
p16020
as(dp16021
g10
V479863
p16022
stp16023
a((dp16024
g2
(lp16025
VThis is pretty easy with 1
p16026
ag2959
aV2 as regular expressions are character-based in 1
p16027
ag2959
aV2 and 1
p16028
ag2959
aV2 knows the difference between bytes and characters top to bottom
p16029
aVYou're in Rails so you should get everything in UTF-8
p16030
aVHappily, UTF-8 and ASCII overlap for the entire ASCII range so you can just remove everything that isn't between  and  when you have UTF-8 encoded text:
p16031
aVThere's really no reason to go to all this trouble though
p16032
aVRuby 1
p16033
aV9 works great with Unicode as does Rails and pretty much everything else
p16034
aVDealing with non-ASCII text was a nightmare 15 years ago, now it is common and fairly straight forward
p16035
aVIf you do manage to get text data that isn't UTF-8 then you have some options
p16036
aVIf the encoding is  or  then you can probably get away with
p16037
aVIf you end up with something other than  and  then you can use Iconv to re-encode it
p16038
aVReferences:
p16039
aVEncoding
p16040
aVIconv
p16041
aVString#force_encoding
p16042
as(dp16043
g10
V479863
p16044
stp16045
a((dp16046
g2
(lp16047
VCalling  will clear the errors before running the validations so your validations inside  are ignored
p16048
aVIf we look at ActiveRecords's , we see this:
p16049
aVAnd the super should send you into ActiveModel's  which starts like this:
p16050
aVand the  call nukes the errors you added in
p16051
aVIf you want to validate something, use the validators
p16052
aVIf you want to prevent an invalid assignment, raise an ArgumentError (or other more appropriate exception)
p16053
aVHaving the validation system reset itself (i
p16054
ag785
aV) before running the validations does make sense
p16055
aVIf it didn't reset, you'd have to throw away and reload an invalid object (or manually reset it) just to correct a validation error
p16056
aVJust because "update, validate, save or destroy" is the general workflow for a web-app doesn't mean that it is the only possible workflow for a database-backed application
p16057
as(dp16058
g10
V479863
p16059
stp16060
a((dp16061
g2
(lp16062
VYou could add an "image chosen" callback easily enough
p16063
aVFirst you need to change the format of  to include the image names:
p16064
aVThen you update this stuff:
p16065
aVto pay attention to the new  format:
p16066
aVNow you have a title and adding the callback can be done by adding this:
p16067
aVright after the  stuff
p16068
aVOnce that's in place, you send in the callback function when you call the plugin:
p16069
as(dp16070
g10
V479863
p16071
stp16072
a((dp16073
g2
(lp16074
VThis is what you want to do to get your UTF-8 Korean text:
p16075
aVAnd this is how it works:
p16076
aVThe input string is nice and regular so we can use  to pull out the individual number
p16077
aVThen a  with  to convert the octal values (as noted by Henning Makholm) to integers
p16078
aVNow we need to convert our list of integers to bytes so we  to get a byte string
p16079
aVThis string will have the  encoding (AKA )
p16080
aVWe happen to know that the bytes really do represent UTF-8 so we can force the issue with
p16081
aVThe main thing that you were missing was your  format;  means "UTF-8 character" and would expect an array of Unicode codepoints each represented by a single integer,  expects an array of bytes and that's what we had
p16082
as(dp16083
g10
V479863
p16084
stp16085
a((dp16086
g2
(lp16087
VOnly the chosen image (the one in ) should get loaded
p16088
aVYou only have simple uninterpreted strings until you call , then one of your strings gets interpreted as HTML and the browser will discover that there is an image to load
p16089
aVYou could clear your browser cache and watch your web server's access logs to verify my claims
p16090
as(dp16091
g10
V479863
p16092
stp16093
a((dp16094
g2
(lp16095
VThere is :
p16096
aVThe variable  determines Ruby's level of paranoia
p16097
aVThe various "safety levels" are noted at the link, there's also some examples (which still work) of using a thread, , and  to wrap untrusted code
p16098
aV$SAFE on ruby might be worth a look as well
p16099
as(dp16100
g10
V479863
p16101
stp16102
a((dp16103
g2
(lp16104
VThe score is just a floating point number so you can use ; for example, if you want two decimal places:
p16105
aVand if you want none:
p16106
aVThere's also  and  if you're looking for integers on either side of the score or  if you want to truncate the floating point value rather than round it
p16107
as(dp16108
g10
V479863
p16109
stp16110
a((dp16111
g2
(lp16112
VYour date isn't quoted so SQLite will interpret  as a mathematical expression and replace it with  (the integer value of 27 divided by 8 divided by 2011)
p16113
aVYou could quote it yourself:
p16114
aVOr better, use a placeholder:
p16115
aVSwitching to an ISO 8601 date format would also be a good idea to avoid possible locale-based ambiguity in the date:
p16116
as(dp16117
g10
V479863
p16118
stp16119
a((dp16120
g2
(lp16121
VDoing  will give you a syntax error so presumably you really mean this:
p16122
aVYes, that's fine but will leave the people maintaining your code scratching their heads and wondering why didn't just do this:
p16123
aVYou usually only use  when you don't know the method name until run time:
p16124
as(dp16125
g10
V479863
p16126
stp16127
a((dp16128
g2
(lp16129
VYou could use  instead of :
p16130
aVAnd then use  again on just the  for the row you edited when you're done editing
p16131
aVOr you could use a flag:
p16132
aVAnd then do a , for the appropriate , when you're done editing
p16133
as(dp16134
g10
V479863
p16135
stp16136
a((dp16137
g2
(lp16138
VYou could use
p16139
aVFor example, this:
p16140
aVwill split  into 500 KB pieces called:
p16141
aVThen you could loop through them with something like:
p16142
as(dp16143
g10
V479863
p16144
stp16145
a((dp16146
g2
(lp16147
VYou could use a simple alternation in your regular expression for split:
p16148
aVFor example:
p16149
aVIf you also have to deal with the Oxford Comma (i
p16150
ag785
aV"this, that, and the other thing"), then you could use
p16151
aVFor example:
p16152
aVThanks to stackoverflowuser2010 for noting this case
p16153
aVYou'll want the  at the beginning to keep the other branches of the alternation from splitting on the comma or "and" first, this order appears to be guaranteed as well:
p16154
aVAlternatives are tried from left to right, so the first alternative found for which the entire expression matches, is the one that is chosen
p16155
as(dp16156
g10
V479863
p16157
stp16158
a((dp16159
g2
(lp16160
VThere's a list on MDN:
p16161
aVhttps://developer
p16162
aVmozilla
p16163
aVorg/en/Gecko_DOM_Reference#section_14
p16164
aVLooks like it maps the DOM objects to the corresponding HTML elements:
p16165
aVHTMLElement, directly implemented by: , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,
p16166
aVHTMLAnchorElement, implemented by:
p16167
aVHTMLAppletElement, implemented by:
p16168
as(dp16169
g10
V479863
p16170
stp16171
a((dp16172
g2
(lp16173
VOne alternative would be to have a  column in your question table and have that be a reply
p16174
aVThen set up a  relationship and you're good
p16175
aVYou'd be able to get the resolution straight out of the question and easily see if a question has been resolved, you'd also have at most one resolution per question
p16176
as(dp16177
g10
V479863
p16178
stp16179
a((dp16180
g2
(lp16181
VYou could absolutely position the  instead of floating it
p16182
aVSomething like this:
p16183
aVLive example: http://jsfiddle
p16184
aVnet/ambiguous/cZ3rh/
p16185
aVAbsolutely positioning the  can cause trouble if the  ends up being taller than the  as absolutely positioned elements do not contribute to their parent's height:
p16186
aVhttp://jsfiddle
p16187
aVnet/ambiguous/NQB4n/
p16188
aVI can't think of a decent solution for this case right now though
p16189
as(dp16190
g10
V479863
p16191
stp16192
a((dp16193
g2
(lp16194
VDon't use regular expressions for this, use a real parser such as Nokogiri:
p16195
aVAssuming of course that you have monkey patched  into String somewhere
p16196
aVAs far as your regex goes,  is greedy and will happily consume , you have similar problems with
p16197
aVIf you must use a regex (and it seems that you have choice), then you should tighten up your regex and switch to the block form of gsub to get sensible  and :
p16198
aVUsing  and  keeps you within the tags you want and the  back-reference is an easy to way match the opening and closing tags
p16199
aVFor example, using  in place of  does this:
p16200
as(dp16201
g10
V479863
p16202
stp16203
a((dp16204
g2
(lp16205
VMy first guess is that you have the arguments for  backwards:
p16206
aVTry using:
p16207
aVI'd also suggest that you switch from
p16208
aVto
p16209
aVso that the  doesn't get visually lost at the right side but this is just a stylistic issue and subject to personal preference (unlike the argument order of external APIs)
p16210
as(dp16211
g10
V479863
p16212
stp16213
a((dp16214
g2
(lp16215
VFirst of all, your  is JavaScript/JSON so I'll assume that you really have this:
p16216
aVThen you just need to  the numeric suffix of the  values:
p16217
aVIf the "some-server-" prefixes aren't always "some-server-" then you could try something like this:
p16218
aVThat would split the  values into numeric and non-numeric pieces, convert the numeric pieces to integers, and then compare the mixed string/integers arrays using the Array  operator (which compares component-wise); this will work as long as the numeric and non-numeric components always match up
p16219
aVThis approach would handle this:
p16220
aVbut not this:
p16221
aVIf you need to handle this last case then you'd need to compare the arrays entry-by-entry by hand and adjust the comparison based on what you have
p16222
aVYou could still get some of the advantages of the  Schwartzian Transform with something like this (not very well tested code):
p16223
aVThe basic idea here is to push the comparison noise off to another class to keep the  from degenerating into an incomprehensible mess
p16224
aVThen we use the same scanning as before to break the strings into pieces and implement the array  comparator by hand
p16225
aVIf we have two things of the same class then we let that class's  deal with it otherwise we force both components to String and compare them as such
p16226
aVAnd we only care about the first non-0 result
p16227
as(dp16228
g10
V479863
p16229
stp16230
a((dp16231
g2
(lp16232
VThis:
p16233
aVwill always be true
p16234
aVYou're checking if  has a  property and it always will because all jQuery objects have a  method
p16235
aVYou probably want to bind a mousedown event handler:
p16236
as(dp16237
g10
V479863
p16238
stp16239
a((dp16240
g2
(lp16241
VHere's a guess:  is using  which isn't behaving like  (or your usual shell)
p16242
aVThis pattern:
p16243
aVis expanded by your shell just like all the other file globbing patterns
p16244
aVWhen you run your command from within , Ruby is probably using  to execute the command and on your system,  behaves like a plain POSIX shell which doesn't understand the  globbing syntax
p16245
aVTry invoking  directly:
p16246
as(dp16247
g10
V479863
p16248
stp16249
a((dp16250
g2
(lp16251
VThe ActiveRecord::Relation doesn't bother talking to the database until you ask it for some data
p16252
aVFor example:
p16253
aVIf you have a look at ActiveRecord::Relation, you'll see that it includes ActiveRecord::QueryMethods and most of the stuff in there looks like this:
p16254
aVSo the Relation just builds a query piece by piece until you do something that requires the query to be executed; then it will build the appropriate SQL, ship it off to the database, and do something useful (in theory) with what the database sends back
p16255
aVAlso note that each of the QueryMethods methods return a cloned and modified relation so you can do things like this:
p16256
aVand then use  to grab all the matches or  to just grab three of them
p16257
as(dp16258
g10
V479863
p16259
stp16260
a((dp16261
g2
(lp16262
VYes, Ruby classes are objects:
p16263
as(dp16264
g10
V479863
p16265
stp16266
a((dp16267
g2
(lp16268
VYou can add "localhost" to the acceptable hostnames by changing it to this:
p16269
aVThis part matches the  prefix:
p16270
aVAnd this part matches the hostname:
p16271
aVSo you can just change the hostname checker to a non-capturing alternation group that explicitly includes "localhost":
p16272
aVwhere  is the existing hostname matching sub-expression
p16273
aVThe  bit starts a non-capturing group, using a non-capturing group ensures that any group number references won't get messed up
p16274
aVAnd some live examples: http://ideone
p16275
aVcom/M0qqh
p16276
aVI think a simple regex might serve you better though, that one doesn't deal with CGI parameters very well
p16277
aVYou could try this:
p16278
aVand see if it works for your data
p16279
aVThat one is pretty loose but probably good enough for a one-shot conversion
p16280
aVThat should properly match the URLs in these:
p16281
aVYou could also try Joseph's from the comment
p16282
as(dp16283
g10
V479863
p16284
stp16285
a((dp16286
g2
(lp16287
VTo get at the :
p16288
aVAnd to get inside that:
p16289
aVYou could also use array notation:
p16290
as(dp16291
g10
V479863
p16292
stp16293
a((dp16294
g2
(lp16295
VAn easy way to make sure you get the right  is to do it explicitly:
p16296
as(dp16297
g10
V479863
p16298
stp16299
a((dp16300
g2
(lp16301
VThe difference is right here in the second line of the EXPLAIN output:
p16302
aVNotice that the "actual time" is pretty much the entire time of the query
p16303
aVSorting requires not only a bunch of comparisons (i
p16304
ag785
aVthe cost of sorting anything) but also extra data management, the server needs to copy some data (rows or pointers to rows) to a temporary location so that it can be sorted without disturbing anything else
p16305
aVAny query will take longer with sorting unless you get lucky and your sorting matches the order on disk and optimizer can notice that they match up
p16306
as(dp16307
g10
V479863
p16308
stp16309
a((dp16310
g2
(lp16311
VThis error:
p16312
aVCouldn't find Submission without an ID
p16313
aVis probably caused by
p16314
aVand  is what a Hash will give when you ask it for a key it doesn't have (unless someone has supplied a different default of course but  and its contained Hashes should give you )
p16315
aVSo you don't have a  inside
p16316
aVBased on your comments, I would guess that you do have  so try this:
p16317
aVand if that doesn't work, do a  and look at your logs to see where  is (if anywhere at all)
p16318
as(dp16319
g10
V479863
p16320
stp16321
a((dp16322
g2
(lp16323
VOne approach to this sort of thing is:
p16324
aVINSERT into the first table, use  to get the "value most recently obtained with  for any sequence" (in the current session), and then use that value to build your next INSERT
p16325
aVThere's also :
p16326
aVThe optional RETURNING clause causes INSERT to compute and return value(s) based on each row actually inserted
p16327
aVThis is primarily useful for obtaining values that were supplied by defaults, such as a serial sequence number
p16328
aVUsing  basically combines the first two steps above into one so you'd do:
p16329
aVwhere the second INSERT would use the  returned from the first INSERT
p16330
as(dp16331
g10
V479863
p16332
stp16333
a((dp16334
g2
(lp16335
VYou could split twice, once on  and again on ; if your big string is in , then:
p16336
aVThen  has what you're after
p16337
aVThis would probably be easier than trying to come up with one regex to split with
p16338
aVDemo: http://ideone
p16339
aVcom/pxvay
p16340
aVSince shesek hasn't come back I'll include their suggested approach
p16341
aVYou can also use  twice since you're working with simple delimiters:
p16342
aVand again  has what you're looking for
p16343
aVAnd a demo of this approach: http://ideone
p16344
aVcom/SwGEH
p16345
as(dp16346
g10
V479863
p16347
stp16348
a((dp16349
g2
(lp16350
VJust add a  method that returns the number of children and then use the  option for :
p16351
aVYou might want to be a bit more careful with that  though, if there is a  already in  you'll overwrite it; something like this might serve you better than a straight merge:
p16352
aVFor XML, you do pretty much the same thing with  instead of
p16353
as(dp16354
g10
V479863
p16355
stp16356
a((dp16357
g2
(lp16358
VThe Custom Data and Display demo shows you how:
p16359
aVHit the "view source" link on the Custom Data demo page for a full example
p16360
as(dp16361
g10
V479863
p16362
stp16363
a((dp16364
g2
(lp16365
VMy first guess is that  isn't what you think it is right here:
p16366
aVFrom the fine manual:
p16367
aVcontext
p16368
aVThis object will be made the context of all Ajax-related callbacks
p16369
aVBy default, the  is an object that represents the ajax settings used in the call ( merged with the settings passed to )
p16370
aVSo inside your  callback,  is pretty much a simple object rather than something in the DOM
p16371
aVThere are two standard solutions
p16372
aVYou could save a reference to  and use that:
p16373
aVor use the  option to :
p16374
aVAnd, of course, fix up the  stuff as discussed in the comments
p16375
as(dp16376
g10
V479863
p16377
stp16378
a((dp16379
g2
(lp16380
VYes, you can have such a route
p16381
aVHowever, if your  will contain periods then you'll want to include
p16382
aVin the route options to keep Rails from trying to interpret the  part of the  as a format specifier
p16383
aVThen, you'll get  in your controller and you can turn that into an object however you want
p16384
aVYou'd probably want to do what mischa said in the comments:
p16385
aVAlso, if you really want to use  as your route, you'll want to make sure that none of your userids match any of your present or future top-level routes
p16386
as(dp16387
g10
V479863
p16388
stp16389
a((dp16390
g2
(lp16391
VYou are somehow getting a Latin-1 (AKA ISO-8859-1)  rather than a UTF-8
p16392
aVIn Latin-1 the  is 361 in octal (hence your single byte )
p16393
aVIn UTF-8 that lower case tilde-n should be  (i
p16394
ag785
aVbytes 0303 and 0261 in octal or 0xc3 and 0xb1 in hex)
p16395
aVYou might have to start playing with Iconv in the Ruby side to make sure you get everything in UTF-8
p16396
as(dp16397
g10
V479863
p16398
stp16399
a((dp16400
g2
(lp16401
VIn 1
p16402
aV8, the  method returned a Fixnum which was the byte at the specified index
p16403
aVIn 1
p16404
aV9,  returns a String because strings are made of characters and the character-to-byte mapping depends on the encoding
p16405
aVLooks like you're using a String as a byte buffer so you should be working in Array instead of String:
p16406
aVAnd then to use it:
p16407
aVThen if you really want a String (which will contain a bunch of unprintable control characters and zero bytes and such things), then:
p16408
aVAnd then to unpack:
p16409
aVAll of this should maintain UTF-8 all the way through and that's what you want
p16410
aVYou could probably patch your  into Enumerable and skip the  business if desired
p16411
aVYou could probably also adapt this to patch for String as well
p16412
aVYou shouldn't be using String for byte buffers anymore, you're better off using arrays of Fixnum for that with explicit encoding handling
p16413
as(dp16414
g10
V479863
p16415
stp16416
a((dp16417
g2
(lp16418
VHere are a couple wild guesses that might help
p16419
aVLooks like you have a transaction aborting, being caught, and ignored somewhere; that can mess up the entire transaction the  runs in and that would explain your error message and the behavior you're seeing
p16420
aVThe  call usually goes after the database change and only if the schema has changed and you need to use the new schema for the rest of the migration; neither of these apply to you so you can drop  completely
p16421
aVYou should also have an  method available in your migrations so there's no need to talk to the Closet at all
p16422
aVAlso, you don't need semicolons at the end of your SQL statements; they probably won't hurt but if we strip this right down to the bare essentials we might make the problem go away
p16423
aVTry this and see what happens:
p16424
aVThis gives us the bare minimum that we need to get your database updated
p16425
aVHopefully the stray transaction problem went away with all the other stuff you didn't need
p16426
as(dp16427
g10
V479863
p16428
stp16429
a((dp16430
g2
(lp16431
VFirst of all, I'd recommend using  rather than zero to indicate a root node, that would allow  to have a foreign key on  which references ; referential integrity is useful
p16432
aVThen you could include a materialized path from the root node to the current node in each row
p16433
aVThe materialized path would be a string column that represents the path from a root node to the current node; for your purposes you'd want to use a fixed-width format for each node in the path, then you could ASCIIbetically sort on the paths to pull records out in tree-order (as in this answer)
p16434
aVSuppose you thought 99999 would be enough to cover all your nodes
p16435
aVThen you might have a string path like this:
p16436
aVThat would represent the ID sequence  so the node's parent would be 42, the grandparent 23, and so on up to the root of 1
p16437
aVTo get the whole branch from a node to the root: grab the path, split it into pieces to get the IDs, and pull out all the nodes at once while sorting on the materialized path to get them out in the right order
p16438
aVThis approach also makes it easy to extract whole subtrees at once: just build the path prefix that matches your desired subtree and do a  to pull out the whole subtree with one pass
p16439
aVAlso, most databases will use an index for a LIKE expression that is rooted at the beginning (i
p16440
ag785
aVfor some ) so these sorts of queries can be pretty quick
p16441
aVYou can also compute the depth of a node with a simple string length and division computation
p16442
aVYou need to do a little bit of extra work to build the materialized paths but not much and they make a lot of tree operations nice and simple while maintaining the advantages of a natural representation of a tree
p16443
as(dp16444
g10
V479863
p16445
stp16446
a((dp16447
g2
(lp16448
VFor Rails 3 you could add this to your route:
p16449
aVfor Rails 2 (AFAIK):
p16450
aVRails will try to interpret the  as a format specifier without one of those
p16451
as(dp16452
g10
V479863
p16453
stp16454
a((dp16455
g2
(lp16456
VERB is part of the standard library so you could do things like this:
p16457
aVThe ERB documentation contains some good examples of how to use it
p16458
aVYou don't need a hand rolled  construction, you can use standard existing libraries and your existing knowledge
p16459
as(dp16460
g10
V479863
p16461
stp16462
a((dp16463
g2
(lp16464
VThe easiest would be to use the block form of :
p16465
aVAnd note the capture group inside the regex
p16466
aVInside the block, the global  is what the first capture group matched
p16467
aVYou could also do it like this if you don't like globals:
p16468
aVOr even a named capture group:
p16469
aVFor example:
p16470
as(dp16471
g10
V479863
p16472
stp16473
a((dp16474
g2
(lp16475
VMySQL is trying to apply the ORDER BY to the UNION but the UNION only has the  columns (without the  prefix at that), there is no  in the UNION
p16476
aVBut you can add one:
p16477
aVYou need to give it an alias as the UNION will strip off the table name or alias prefix
p16478
aVIf there is an  column in  then use something else as the alias for
p16479
as(dp16480
g10
V479863
p16481
stp16482
a((dp16483
g2
(lp16484
VI think you're calling  incorrectly
p16485
aVFrom the fine manual:
p16486
aVIf no options hash is passed or  specified, the default is to render a partial and use the second parameter as the locals hash
p16487
aVSo you end up going down this branch in the source:
p16488
aVand that makes your call the same as this:
p16489
aVNote the extra level of nesting for
p16490
aVTry this:
p16491
aVI'm looking at (and using) 3
p16492
aV1 so your version might be a little different
p16493
as(dp16494
g10
V479863
p16495
stp16496
a((dp16497
g2
(lp16498
VThe scheduler doesn't need to care about timezones, it is better off thinking in UTC
p16499
aVWhat you want to do is run your task every hour and look for only those accounts where it is currently midnight
p16500
aVSo your code would look more like this:
p16501
as(dp16502
g10
V479863
p16503
stp16504
a((dp16505
g2
(lp16506
VYou can use  with several arguments:
p16507
aVExecutes command in a subshell
p16508
aVcommand is one of following forms
p16509
ag3892
aV: command name and one or more arguments (no shell)
p16510
aVThat would skip the shell completely and bypass the whole escaping issue
p16511
aVTry this:
p16512
aVI'm not sure how  works with Windows but that should work if it is a separate executable
p16513
as(dp16514
g10
V479863
p16515
stp16516
a((dp16517
g2
(lp16518
VYou can do that because  does this (or something similar depending on your version of Rails):
p16519
aVSo  already includes  and your class picks up the callbacks by inheriting from
p16520
as(dp16521
g10
V479863
p16522
stp16523
a((dp16524
g2
(lp16525
VYou should be able to feed that dump file straight into :
p16526
aVIf you want the  column to "auto increment" then change its type from "int" to "serial" in the table creation line
p16527
aVPostgreSQL will then attach a sequence to that column so that INSERTs with NULL ids will be automatically assigned the next available value
p16528
aVYou'll also want to check for  columns in the SQLite schema and change them to  for PostgreSQL (thanks to Clay for pointing this out)
p16529
aVIf you have booleans in your SQLite then you could convert  and  and  and  (respectively) or you could change the boolean column to an integer in the schema section of the dump and then fix them up by hand inside PostgreSQL after the import
p16530
aVIf you have BLOBs in your SQLite then you'll want to adjust the schema to use
p16531
aVYou'll probably need to mix in some  calls as well
p16532
aVWriting a quick'n'dirty copier in your favorite language might be easier than mangling the SQL if you a lot of BLOBs to deal with though
p16533
aVAs usual, if you have foreign keys then you'll probably want to look into  to avoid insert ordering problems, placing the command inside the BEGIN/COMMIT pair
p16534
aVThanks to Nicolas Riley for the boolean, blob, and constraints notes
p16535
aVThe syntax in the SQLite dump file appears to be mostly compatible with PostgreSQL so you can patch a few things and feed it to
p16536
aVImporting a big pile of data through SQL INSERTs might take awhile but it'll work
p16537
as(dp16538
g10
V479863
p16539
stp16540
a((dp16541
g2
(lp16542
VLooks like that header is part of the  package (at least in the following Ubuntu versions: Natty, Lucid, Oneiric, Precise Pangolin and Trusty Tahr):
p16543
aVSo try installing :
p16544
aVfor Ubuntu systems:
p16545
aVon RHEL systems:
p16546
aVfor Mac:
p16547
as(dp16548
g10
V479863
p16549
stp16550
a((dp16551
g2
(lp16552
VI'd guess that "doesn't work" means "infinite redirection loops for English speakers"
p16553
aVAll you need is a way to not redirect at all when the chosen language is English
p16554
aVAdd an associative array which maps the supported languages to the redirect location then do this:
p16555
aVGrab  from
p16556
aVIf  is not a supported language (or not even set) then
p16557
aVIf  is not , then redirect, otherwise display the English homepage without redirecting at all
p16558
aVYou can use the associative array for (2) and (3)
p16559
aVThe basic strategy is simple: don't redirect at all if the language ends up being English
p16560
aVYou'd probably want to set your language cookie once you have a valid language too
p16561
as(dp16562
g10
V479863
p16563
stp16564
a((dp16565
g2
(lp16566
VSince Michael Kohl has been reminding of  lately:
p16567
aVWorks the same in 1
p16568
ag2959
aV2 and 1
p16569
ag2963
aV7
p16570
as(dp16571
g10
V479863
p16572
stp16573
a((dp16574
g2
(lp16575
VYou're seeing the classic "IE doesn't like trailing commas" problem:
p16576
aVRemove that last comma and things should work better
p16577
aVIE interprets the trailing comma as an extra empty object in your options and that causes some trouble
p16578
as(dp16579
g10
V479863
p16580
stp16581
a((dp16582
g2
(lp16583
VYour closing parenthesis is in the wrong place, this:
p16584
aVshould be:
p16585
aVor just:
p16586
aVThe  helper wants the object as the first argument and the options hash as the second; why say , you're giving  its first argument and then following that method call with a comma and a symbol and that's invalid syntax
p16587
as(dp16588
g10
V479863
p16589
stp16590
a((dp16591
g2
(lp16592
VI'd have a separate table which tracks events and their corresponding XP adjustments per-user:
p16593
aVxp_events
p16594
aVevent: The event as a string or foreign keyed ID or whatever
p16595
aVuser: The user in question
p16596
aVdelta: The corresponding XP change
p16597
aVThen store both the total XP and the current level with your users
p16598
aVAdd triggers to  to update the total XP and current level in the user table whenever xp-events are added
p16599
aVI'd recommend against ever altering or removing entries in , an audit trail is quite useful and you can always undo one event by adding another event
p16600
aVThis approach gives you your summary information pretty much for free so you don't have to do a bunch of extra aggregation to compute a listing page of your users
p16601
aVYou also get a nice history in  for auditing or just in case people want to see their progress
p16602
aVAs an added bonus, you get an audit trail in  that you can use to regenerate each user's total XP and current level when you have bugs in your triggers
p16603
aVYou'd also want to have the xp-to-level information in the database, your triggers will need it and it can't hurt to have all your data in the database anyway
p16604
aVSomething like this:
p16605
aVThen you can get the level for  XP with:
p16606
as(dp16607
g10
V479863
p16608
stp16609
a((dp16610
g2
(lp16611
V is a method from Module, Module is the superclass of Class and so  is a method on Class and that makes it a class method in your IncludeTester
p16612
aVWhen you do this:
p16613
aVyou're trying to call a class method inside an instance method and Ruby says
p16614
aV`initialize': undefined method `include'
p16615
aVbecause there is no instance method called
p16616
aVIf you want to call a class method inside an instance method (such as ), you'd do this:
p16617
aVBut that won't work because  is a private method; you can get around that with  though:
p16618
aVYou would be doing  every single time you instantiated an , aside from not making much sense, it could cause problems if  had an  method
p16619
as(dp16620
g10
V479863
p16621
stp16622
a((dp16623
g2
(lp16624
VThis is not UTF:
p16625
aVThat's an ASCII representation of a JSON-encoded Unicode string
p16626
aVIf it was UTF-8, it would look like:
p16627
aVYou're not properly decoding your JSON inputs somewhere or your client-side code is sending your server JSON when your server is expecting plain text
p16628
aVFirst you need to figure out why you're getting JSON encoded strings when you're not expecting them or figure out why you're not properly decoding your JSON
p16629
aVThen you can see if the database is mangling your UTF-8
p16630
as(dp16631
g10
V479863
p16632
stp16633
a((dp16634
g2
(lp16635
VI'd use  for this sort of thing:
p16636
aVYou'd have to decide what you want to do if there aren't two numbers though
p16637
aVFor example:
p16638
aVReferences:
p16639
as(dp16640
g10
V479863
p16641
stp16642
a((dp16643
g2
(lp16644
VUse a trigger, something like this:
p16645
aVThen you can send in your usual SQL  statements and the trigger will, effectively, add  to the  clause
p16646
as(dp16647
g10
V479863
p16648
stp16649
a((dp16650
g2
(lp16651
VYour HTML structure is wrong, the inner  elements are supposed to be inside the , not after
p16652
aVDemo: http://jsfiddle
p16653
aVnet/ambiguous/bGuEc/
p16654
as(dp16655
g10
V479863
p16656
stp16657
a((dp16658
g2
(lp16659
VWrap them in a CDATA section:
p16660
as(dp16661
g10
V479863
p16662
stp16663
a((dp16664
g2
(lp16665
VYou should be able to use :
p16666
aVAssuming that your text input is  of course, then  will be that text input inside the blur handler
p16667
as(dp16668
g10
V479863
p16669
stp16670
a((dp16671
g2
(lp16672
VYou'd use LibXML::XML::Parser to get a LibXML::XML::Document:
p16673
aVThen use  and a bit of XPath to find your nodes:
p16674
aVThat gives you a  in  so you can call  to get what you want:
p16675
aVSimilar things apply to synchronization but you'd use  to access the attribute values:
p16676
aVSame deal again for the  nodes but you'd iterate through them with  instead of using
p16677
as(dp16678
g10
V479863
p16679
stp16680
a((dp16681
g2
(lp16682
VAdd an extra method to your User, something like this:
p16683
aVThen in your controller:
p16684
aVIf your database doesn't know how to optimize that  then you could replace it with a  combined with
p16685
as(dp16686
g10
V479863
p16687
stp16688
a((dp16689
g2
(lp16690
VFirst you have to decide if you want the trailing  on your materialized paths, I'll assume that you do want them because it will make life easier
p16691
aVSomething like this will get you the nodes below:
p16692
aVWhere  is the node you're interested in
p16693
aVYour tree looks like this:
p16694
aVAnd applying the above query with a few values matches the diagram:
p16695
aVGetting the nodes above a given node is easier in the client: just grab the , chop off the trailing , and then split what's left on
p16696
aVSQLite's string processing support is rather limited, I can't think of a way to split the materialized path without trying to add a user-defined  function (and I'm not sure that the appropriate  could be added)
p16697
aVSo two queries and a little bit of string wrangling outside the database will get you what you want
p16698
as(dp16699
g10
V479863
p16700
stp16701
a((dp16702
g2
(lp16703
VYour problem is that you're using a synchronous AJAX call and that pretty much locks up the browser until it completes
p16704
aVIn particular, the browser won't be able to show your "loading" message before you hit the  lockup; for example, watch what this does:
p16705
aVhttp://jsfiddle
p16706
aVnet/ambiguous/xAdk5/
p16707
aVNotice that the button doesn't even change back to the unclicked visual state while the AJAX is running
p16708
aVThe solution is to show your loading message, hand control back to the browser, and then lock everything up with your synchronous remote call
p16709
aVOne way to do this is to use  with a delay of zero:
p16710
aVFor example: http://jsfiddle
p16711
aVnet/ambiguous/zLnED/
p16712
aVSome care will be needed of course as  won't be the same inside the  callback as it was outside but that's easy to take care of
p16713
aVUsing  isn't a very nice thing to be doing to your users though, you should try to avoid it unless it is absolutely necessary (and it rarely is)
p16714
as(dp16715
g10
V479863
p16716
stp16717
a((dp16718
g2
(lp16719
VYou're not calling  correctly, your  is supposed to be just the function:
p16720
aVwill look for a function in its argument list but won't find one; since there is no callback function passed, no callback will be called and your  won't be hidden
p16721
aVCompare these two:
p16722
aVPass a function and it works
p16723
aVPass  and it doesn't work
p16724
as(dp16725
g10
V479863
p16726
stp16727
a((dp16728
g2
(lp16729
VReplace these:
p16730
aVwith LIKE:
p16731
aVOr better, use placeholders:
p16732
aVSQLite understands REGEXP but it is not implemented by default, you have to implement it yourself
p16733
aVYou could add your implementation but there's no point when LIKE will probably do the job
p16734
as(dp16735
g10
V479863
p16736
stp16737
a((dp16738
g2
(lp16739
VThe default tabbing behavior is to just go to the next (in source order) form element so you could just iterate through all the elements you care about, find the one that has focus, and move the focus to the next one
p16740
aVWe have the  selector for finding the form elements so something like this:
p16741
aVDemo: http://jsfiddle
p16742
aVnet/ambiguous/Avugy/1/
p16743
aVOr you could set  attributes and increment them with wrap-around:
p16744
aVDemo: http://jsfiddle
p16745
aVnet/ambiguous/k9VpV/
p16746
aVDealing with gaps in the  attribute values is left as an exercise
p16747
as(dp16748
g10
V479863
p16749
stp16750
a((dp16751
g2
(lp16752
VGiven your hash in  and the substring you're looking for in :
p16753
aVwill give you the first key in  whose value contains  (case insensitive)
p16754
aVThe  call is just a simple way to convert a possible  return to an empty array without requiring an extra check
p16755
aVIf you wanted them all, then:
p16756
aVYou might want to downcase  before the iteration but it won't matter much for only 32 values
p16757
aVReferences:
p16758
aV(AKA )
p16759
aV(AKA )
p16760
aVUpdates to match the updated question: Since you actually have an array instead of a hash:
p16761
aVYou'd still use  (or  if you like that name better), just adjust the block argument to match what  on an Array gives you
p16762
as(dp16763
g10
V479863
p16764
stp16765
a((dp16766
g2
(lp16767
VYou could setup your user information in a global JavaScript variable:
p16768
aVand then off in :
p16769
aVAnd your page should say "hello" twice
p16770
aVAlso, wouldn't  normally already be a User instance
p16771
aVIf so then  should be sufficient and if not, then set then you'd want to set  in your controller and then use  in your view
p16772
aVI hope I got the HAML right, I don't use it so I'm sort of guessing on the syntax
p16773
as(dp16774
g10
V479863
p16775
stp16776
a((dp16777
g2
(lp16778
VLooks like you're using a shared rather than dedicated database so you have to do it the hard way
p16779
aVIf you had a dedicated database then you could  and then  and assorted other  commands to get what you're looking for
p16780
aVThere's always the hard way though and that involves the internal catalog tables
p16781
aVThere are few chunks of SQL that you'll need, you can wrap them in  calls and access the results from your Rails console
p16782
aVYou can get a list of your tables and their indexes with this:
p16783
aVThen you can use the  to get a description of the index in question with this:
p16784
aVOr you could use the  to get a list of indexes for that table with this:
p16785
aVYou'd probably want to wrap all this stuff in a utility class for easy access:
p16786
aVI haven't tried these with a shared database at Heroku (sorry, I only have a dedicated database to play with)
p16787
aVThere might be easier ways but these should get the job done and they'll be easy to use if you wrap them up in a PGInfo class
p16788
aVAll that gives you the index information you need, then you can use normal migrations to add, remove, or modify your indexes
p16789
as(dp16790
g10
V479863
p16791
stp16792
a((dp16793
g2
(lp16794
VYou should be able to wrap COALESCE around the offending MINs, for example:
p16795
aVI'm not certain how happy SQL Server would be with that but that's pretty standard SQL
p16796
aVApply the NULL adjustment after the MIN is probably a better call than trying to choose a safe value to put inside the MIN
p16797
as(dp16798
g10
V479863
p16799
stp16800
a((dp16801
g2
(lp16802
VYou just need to wrap your method call to get the right :
p16803
aVWhen you use just  as the callback, you're just handing over a reference to the  function and that function will be called with the DOM element as
p16804
aVYou could also try :
p16805
as(dp16806
g10
V479863
p16807
stp16808
a((dp16809
g2
(lp16810
VThere are two sets of messages to consider:
p16811
aVThose where  is the current user
p16812
aVThose where  is the current user
p16813
aVI'd go with a  and let the database do all the work:
p16814
aVAn SQL UNION simply does a set-wise union of the two result sets so the above will grab all the users that  has sent messages to and combine that with the users that have sent messages to ; the result will be all the users that are involved in conversations with  as an array of User instances
p16815
aVSince there is an  on the UNION you can use UNION ALL to avoid a little bit of extra work in the UNION
p16816
aVYou'd probably want to wrap that in a class method on Message:
p16817
aVAnd then you could just say things like:
p16818
aVin your controller
p16819
aVYou'll want to add indexes to  and  in your database too
p16820
as(dp16821
g10
V479863
p16822
stp16823
a((dp16824
g2
(lp16825
VYou'd just need something like this:
p16826
aVYou would, of course, replace  with the data key that you're interested in
p16827
aVDemo: http://jsfiddle
p16828
aVnet/ambiguous/Jx2AG/
p16829
as(dp16830
g10
V479863
p16831
stp16832
a((dp16833
g2
(lp16834
VI've had the same problem
p16835
aVMy solution was to add an  handler that build the appropriate  object and then called  to attach it
p16836
aVSomething like this should work in your case:
p16837
aVA bit of a kludge but it got it working for me
p16838
as(dp16839
g10
V479863
p16840
stp16841
a((dp16842
g2
(lp16843
VThe right way to deal with that string is to use an HTML parser, for example:
p16844
aVAnd if you have several such strings, paste them together and use :
p16845
aVBut if you must use a regex, then:
p16846
aVKeep in mind that  actually returns a MatchData object and :
p16847
aVReturns the entire matched string
p16848
aVBut you can access the captured groups using
p16849
aVAnd if you don't like counting, you could use a named capture group as well:
p16850
as(dp16851
g10
V479863
p16852
stp16853
a((dp16854
g2
(lp16855
VThe only storage size difference is the number of bytes allocated for the "how many bytes is this field" number
p16856
aVFrom the fine manual:
p16857
aVSo a  will use one more byte than  to store the same text
p16858
aVThere is a bit more information in the Data Type Storage Requirements section of the manual and some more in the The BLOB and TEXT Types section
p16859
aVThere's no practical difference between the four TEXT types
p16860
as(dp16861
g10
V479863
p16862
stp16863
a((dp16864
g2
(lp16865
VIf you don't mind getting your hands dirty with a bit of SQL you can use a window function to get the job done
p16866
aVYou can get the post IDs with this SQL:
p16867
aVIf you want more columns add them to both SELECT clauses
p16868
aVThe  is, of course, the recipient that you're interested in
p16869
aVThe interesting part is the window function:
p16870
aVThis will partition the table into groups based on  (sort of a localized GROUP BY), order them by the timestamp (most-recent first), and then  yields 1 for the first entry in each group, 2 for the second, etc
p16871
aVGiven a table that looks like this:
p16872
aVThe inner query gives you this:
p16873
aVAnd then we wrap the outer query around that to peel off just the top ranking matches:
p16874
aVSo add the extra columns you want and wrap it all up in a  and you're done
p16875
as(dp16876
g10
V479863
p16877
stp16878
a((dp16879
g2
(lp16880
VThe only method that removes anything is  and the removes everything so I think you have to:
p16881
aVPull all the error messages out (probably using )
p16882
aVClear all the errors with
p16883
aVPut all the error messages back in the right/desired places using
p16884
as(dp16885
g10
V479863
p16886
stp16887
a((dp16888
g2
(lp16889
VCan you cache what you need in the  callbacks during your dialog's initialization
p16890
aVYou can pass the  functions an object and they could put what they need in there
p16891
aVSo you'd pass an object into your setup stuff:
p16892
aVAnd then in your :
p16893
aVThen at least you'd have access to all the real DOM id attributes and you could  as needed
p16894
as(dp16895
g10
V479863
p16896
stp16897
a((dp16898
g2
(lp16899
VYou could use delayed_job with a self-restarting job with a
p16900
aVSomething sort of like this:
p16901
aVAnd then somewhere during your application's initialization:
p16902
as(dp16903
g10
V479863
p16904
stp16905
a((dp16906
g2
(lp16907
VIf you have a URL in a string then use URI and CGI to pull it apart:
p16908
aVPlease use the standard libraries for this stuff, don't try and do it yourself with regular expressions
p16909
aVReferences:
p16910
as(dp16911
g10
V479863
p16912
stp16913
a((dp16914
g2
(lp16915
VYou could select the third  in each  and the jump up a level to get the parent:
p16916
aVUsing  in this case is safe because your s should only have  children
p16917
aVFor example:
p16918
aVAnd a demo provided by Felix Kling (now that jsfiddle
p16919
aVnet is back in action): http://jsfiddle
p16920
aVnet/6kMTE
p16921
as(dp16922
g10
V479863
p16923
stp16924
a((dp16925
g2
(lp16926
VThis answer is out of date but I can't delete it because it was accepted
p16927
aVSo I'm turning it into a community wiki so that people can fix it up
p16928
aVHeroku should be gzipping everything automatically (as long as the client supports it of course)
p16929
aVFrom an old blog post:
p16930
aVAll apps deployed to Heroku automatically compress pages they serve, by virtue of passing through Nginx\u2019s gzip filter on the way out
p16931
aVAnd from the current documentation:
p16932
aVOn the heroku
p16933
aVcom HTTP stack, requests enter the platform through Nginx, which handles SSL and Gzip
p16934
as(dp16935
g10
V479863
p16936
stp16937
a((dp16938
g2
(lp16939
VI'd go with a DDL script
p16940
aVThen, during application start up, you can always check if the database is there and create it if needed
p16941
aVThat way your application can re-initialize itself if the user deletes part of their configuration (i
p16942
ag785
aVdeletes your SQLite database)
p16943
as(dp16944
g10
V479863
p16945
stp16946
a((dp16947
g2
(lp16948
VAnemone has a  method:
p16949
aVskip_links_like(*patterns)
p16950
aVAdd one ore more Regex patterns for URLs which should not be followed
p16951
aVSo adding something like
p16952
aVshould take care of it:
p16953
as(dp16954
g10
V479863
p16955
stp16956
a((dp16957
g2
(lp16958
VThe underscore is also the same as in most other SQL databases and matches any single character (i
p16959
ag785
aVit is the same as  in a regular expression)
p16960
aVFrom the fine manual:
p16961
aVAn underscore ("_") in the LIKE pattern matches any single character in the string
p16962
aVFor example:
p16963
aVAnd just to make sure the results make sense: SQLite uses zero and one for booleans
p16964
as(dp16965
g10
V479863
p16966
stp16967
a((dp16968
g2
(lp16969
VAs you iterate using , you're adding a  on each iteration:
p16970
aVAnd then right below that:
p16971
aVOn the first iteration,  will be one, on the second it will be two, etc
p16972
aVThe final iteration will end up calling  on all three  elements that you've added
p16973
aVI think you want to just bind the  to the thing you just created:
p16974
aVAlso, you only need one  call so move this:
p16975
aVoutside the
p16976
aVSo something like this should work better:
p16977
as(dp16978
g10
V479863
p16979
stp16980
a((dp16981
g2
(lp16982
VThe values are just data so you could have an extra variable that holds the rule and then refer to that variable when building your rule set
p16983
aVFor example:
p16984
aVIn theory, you could build up a whole library of rules and then use that library everywhere:
p16985
aVThen you wouldn't have to repeat yourself and you'd have a central library for both re-use and testing purposes
p16986
aVI think you can also do this:
p16987
aVif that's what you're after
p16988
aVFrom the fine manual:
p16989
as(dp16990
g10
V479863
p16991
stp16992
a((dp16993
g2
(lp16994
VAnother ugly hack around the lack of look-behinds:
p16995
aVDemo: http://jsfiddle
p16996
aVnet/ambiguous/QbBfw/1/
p16997
aVI don't think I'd do this in real life but it works even if it does make me feel dirty
p16998
aVConsider this a curiosity rather than something you should really use
p16999
as(dp17000
g10
V479863
p17001
stp17002
a((dp17003
g2
(lp17004
VThis:
p17005
aVwon't work because it is looking for text nodes that are exactly  and you're looking for text nodes that match
p17006
aVYou could probably find your  with a pile of nasty XPath or you could find the paragraphs and do the searching in Ruby:
p17007
as(dp17008
g10
V479863
p17009
stp17010
a((dp17011
g2
(lp17012
VYes, that's the right way to do it
p17013
aVIf you know that  will have all the right values then you could use inner joins instead of outer joins:
p17014
aVYou might want to have a look at foreign keys for the  columns to ensure that you do have everything you need in
p17015
aVThe performance should be fine, that's a pretty standard query
p17016
as(dp17017
g10
V479863
p17018
stp17019
a((dp17020
g2
(lp17021
VTry the multi-argument form of , that will remove one layer of escaping by bypassing the shell
p17022
aVSomething like this:
p17023
aVWindows generally accepts forward or backward slashes so I cleaned up your  switch a bit, go back to  if it doesn't like that path
p17024
aVUsing the single argument  is almost always just a bug waiting to happen, I wouldn't use it unless there was no other way (and I can't think of when there wouldn't be a better way ATM)
p17025
as(dp17026
g10
V479863
p17027
stp17028
a((dp17029
g2
(lp17030
VI suspect that your original regex is a typo, looks like a missing Shift when you hit the ]
p17031
aVTry this:
p17032
aVThen the  part will (greedily) eat up any sequence of characters that aren't ; your original one would consume any sequence of character that didn't include a  and the result is that you'd grab everything between the first  and the last  rather than just grabbing the text between pairs of braces
p17033
as(dp17034
g10
V479863
p17035
stp17036
a((dp17037
g2
(lp17038
VI'll assume that your second simplified expression is supposed to be:
p17039
aVand that  is four; nothing else would make sense to me here so I'll live dangerously and assume that things are supposed to make sense
p17040
aVGiven that, almost anything with tabs will produce different results
p17041
aVFor example:
p17042
aVProduces these results:
p17043
aVLive version: http://ideone
p17044
aVcom/LbnNx
p17045
aVThe only time they'll both produce the same result is when your non-tab components are all 4*n characters long, for example:
p17046
aVLive version: http://ideone
p17047
aVcom/Kvp3l
p17048
as(dp17049
g10
V479863
p17050
stp17051
a((dp17052
g2
(lp17053
VDelayed Job would probably be the easiest thing:
p17054
aVThen the actual  call will be dealt with later
p17055
aVThere is a daemon of sorts involved (just a constantly running rake task) but you don't have to deal with the details yourself, you just stick a  in the right places and Delayed Job takes care of the heavy lifting
p17056
as(dp17057
g10
V479863
p17058
stp17059
a((dp17060
g2
(lp17061
VUse an XML parser such as Nokogiri:
p17062
aVTrying to parse XML with regular expressions is not recommended
p17063
as(dp17064
g10
V479863
p17065
stp17066
a((dp17067
g2
(lp17068
VHandlebars wants an object for the context as it uses the context as a simple lookup table for template values
p17069
aVSo you need to pass an object () to , not an array ()
p17070
aVSomeone is give you a one element array that contains the context object you need
p17071
aVEither fix the PHP that is producing the JSON to send a JSONified object (associative array in PHP terms) without the array wrapper or strip off the array in the client code with something like this:
p17072
aVIf you have this literal code:
p17073
aVin your JavaScript file then you have to what is generating that code and fix it
p17074
aVIf you do have literal data like that embedded in your Backbone view then you're probably not using Backbone correctly, the data for your template should probably be coming from a Backbone model
p17075
aVIf you're getting that JSON from a Backbone model then I'd guess that you're calling  on a collection (which returns an array) rather than a single model where  should give you a JavaScript object
p17076
as(dp17077
g10
V479863
p17078
stp17079
a((dp17080
g2
(lp17081
VYou want to add something to the URL before you load it, correct
p17082
aVYou can use  for that
p17083
aVThe  method intended to filter the URL list:
p17084
aVSpecify a block which will select which links to follow on each page
p17085
aVThe block should return an Array of URI objects
p17086
aVbut you can use it as a general purpose URL filter as well
p17087
aVFor example, if you wanted to add  to all the links then your  would look something like this:
p17088
aVIf you're  or  contain non-URL safe characters then URI-encode them
p17089
as(dp17090
g10
V479863
p17091
stp17092
a((dp17093
g2
(lp17094
VThe right way to deal with this is to use :
p17095
aVAnd now you have to figure out what you want to do with
p17096
aVYou could start at the last component and work your way backwards until you get a domain name that resolves to something using Net::DNS:
p17097
aVYou have to check that the domain names resolve to something useful or you won't know if you have a valid one
p17098
aVYou could try to track down all the various naming rules all over the world instead but there's no point
p17099
aVThis still won't guarantee you that you have a useful URL, you'd have to check to see if the name you end up with responds to an HTTP request to be sure
p17100
aVTo answer your original question:
p17101
aVshould I use a regex
p17102
aVAbsolutely not
p17103
aVURLs are a lot more complicated than most people think so you should use a real URL parser such as
p17104
aVFurthermore, domain names are also more complicated than most people think so you have to resort to DNS lookups to get anything sensible
p17105
as(dp17106
g10
V479863
p17107
stp17108
a((dp17109
g2
(lp17110
VAre you sure you have your delimiters right
p17111
aVI'd expect to see:
p17112
aVin an  file
p17113
as(dp17114
g10
V479863
p17115
stp17116
a((dp17117
g2
(lp17118
VIf your file isn't that big then you could slurp it into memory while cleaning it up and then write it out again:
p17119
aVIf you somehow have an incredibly massive CSV file that won't fit in memory all at once:
p17120
aVEither should turn this:
p17121
aVinto
p17122
as(dp17123
g10
V479863
p17124
stp17125
a((dp17126
g2
(lp17127
VThere is no function named  in there
p17128
aVThere is, however, a  function so your  should look like this:
p17129
aVAlso, calling  (or ) with a string as the first argument is generally considered bad form, you're better off passing a function as the first argument
p17130
as(dp17131
g10
V479863
p17132
stp17133
a((dp17134
g2
(lp17135
VYou're using two digits for the day of the month:
p17136
aVI don't know what format your dates are in but if the eighth is represented as  then you're in trouble
p17137
aVThe  function has a second argument that specifies the base of the number; if you don't specify the radix then  will have to guess and if you give it a number that begins with a zero, it will guess octal
p17138
aVThe result is that  will result in zero because  is not a valid octal digit
p17139
aVYou should always specify the radix when using
p17140
aVToday is conveniently the 8th so let us look what happens
p17141
aVAnd so we lose some time while attempting to set the date to the 8th and everything goes sideways after that
p17142
aVI'm not sure if this is your specific problem but it is a nasty problem that needs to be fixed
p17143
as(dp17144
g10
V479863
p17145
stp17146
a((dp17147
g2
(lp17148
VIf you're deleting all but one entries, why not use  to choose the one thing you care about
p17149
aVSomething like this:
p17150
aVIf you're in ActiveRecord land, then you can use  as derp says or  to get a plain array that you can use  on:
p17151
as(dp17152
g10
V479863
p17153
stp17154
a((dp17155
g2
(lp17156
VSince you're in PHP, just use  and :
p17157
aVDemo: http://ideone
p17158
aVcom/f3viH
p17159
as(dp17160
g10
V479863
p17161
stp17162
a((dp17163
g2
(lp17164
VConvert your MM/DD/YYYY string to ISO 8601 format, YYYY-MM-DD, and then pretty much any database (including MySQL) will interpret your date properly
p17165
as(dp17166
g10
V479863
p17167
stp17168
a((dp17169
g2
(lp17170
VFrom the fine manual:
p17171
aVPDO::exec \u2014 Execute an SQL statement and return the number of affected rows
p17172
aVBut you're trying to execute multiple statements at once so perhaps it is only executing the last statement
p17173
aVTrying using  as intended and executing your statements one at a time:
p17174
aVAnd then again with your next multi-statement  and your
p17175
aVAs far as a better way goes, it looks like all you want to do is drop the  constraint but SQLite's ALTER TABLE is a bit limited so your "add column, copy column, drop column via table copying" approach is the best you can do; from the SQLite FAQ:
p17176
aVFor example, suppose you have a table named "t1" with columns names "a", "b", and "c" and that you want to delete column "c" from this table
p17177
aVThe following steps illustrate how this could be done:
p17178
as(dp17179
g10
V479863
p17180
stp17181
a((dp17182
g2
(lp17183
VThe Rails PostgreSQL driver understands that PostgreSQL booleans come out as  and  and usually translates them properly
p17184
aVYour CAST:
p17185
aVshould also be fine:
p17186
aVSo I'd guess that Rails just doesn't know the column type of your CAST
p17187
aVFor example:
p17188
aVYou can convert the  and  to booleans yourself using the Set constants in :
p17189
aVor you can use :
p17190
aVBut you'll still have to know what types all your columns are and sort things out by hand if you're going to use the low level SQL interface
p17191
aVSimilar issues apply to integers, dates, and any other non-string types that you get back
p17192
as(dp17193
g10
V479863
p17194
stp17195
a((dp17196
g2
(lp17197
VI think the sign handling in your  is backwards
p17198
aVIf you do this:
p17199
aVThen this Ruby:
p17200
aVProduces this (alignment manually adjusted for readability):
p17201
aVThis C program (where  is 4):
p17202
aVProduces this output (alignment manually adjusted again):
p17203
aVI'm pretty sure the C should match what Java is doing
p17204
as(dp17205
g10
V479863
p17206
stp17207
a((dp17208
g2
(lp17209
VI don't see any ERB in the code you posted but there is a missing closing brace, your code should look more like this:
p17210
aVNote the closing brace I added above your
p17211
as(dp17212
g10
V479863
p17213
stp17214
a((dp17215
g2
(lp17216
VUse :
p17217
aVIn your case you'd do something like this:
p17218
aVand then send  off to be displayed
p17219
aVAnd if you want them in order you could just sort them again:
p17220
as(dp17221
g10
V479863
p17222
stp17223
a((dp17224
g2
(lp17225
VYou should delete the  attribute:
p17226
aVYou can see the effect of  versus  here:
p17227
aVhttp://jsfiddle
p17228
aVnet/ambiguous/JMvKr/
p17229
as(dp17230
g10
V479863
p17231
stp17232
a((dp17233
g2
(lp17234
VYou just need to force your  into a numeric context, from the fine manual:
p17235
aVIf you retrieve an  value in a numeric context, the column value's index is returned
p17236
aVFor example, you can retrieve numeric values from an  column like this:
p17237
aVSo you want this sort of thing:
p17238
aVBTW, you can insert an  using either the string or integer representation
p17239
as(dp17240
g10
V479863
p17241
stp17242
a((dp17243
g2
(lp17244
VYour problem is that there is no  when this runs:
p17245
aVSo  is an empty list
p17246
aVYou have similar problems with your other selectors: selectors match elements in the DOM as the DOM is when you use the selector
p17247
aVSo when you say  you're binding a change handler to whatever elements currently match , if the elements that match change in the future then your change handler will not be bound to them (but see below for the standard solution to this sort of problem); similarly, if you remove the  class from your checkbox and then put it back later (i
p17248
ag785
aV) then your original change handler will still be bound to your checkbox: changes to the element's classes do not affect which handlers are or are not bound to it
p17249
aVIf we get rid of your cached selectors and switch your change handlers to use  then things will work:
p17250
aVLive version: http://jsfiddle
p17251
aVnet/ambiguous/FaZkR/
p17252
aVThe  and  functions act as proxies, they capture and redirect events based on the current state of the DOM rather than the state of the DOM when you are initially called
p17253
as(dp17254
g10
V479863
p17255
stp17256
a((dp17257
g2
(lp17258
VYou could do something like this with :
p17259
aVIf you want at most one instead of exactly one, then:
p17260
aVFor example:
p17261
as(dp17262
g10
V479863
p17263
stp17264
a((dp17265
g2
(lp17266
VYou should order by the  with  as a secondary sort key:
p17267
aVYou want the most recent order so you should sort to express that intent
p17268
aVYou also have to deal with duplicate  values so you can throw  in as a secondary sort key to, hopefully, get the most recent one on the most recent
p17269
aVThis assumes that  is a  or  column
p17270
aVYou're probably safe using  as long as the  is not allowed to change after the record is created
p17271
aVHowever, if you  then it will be immediately obvious what your intent is, the people maintaining your code (possibly you) might appreciate it when you saying exactly what you mean
p17272
as(dp17273
g10
V479863
p17274
stp17275
a((dp17276
g2
(lp17277
VYour  call doesn't read lines, it reads up to 256 bytes from
p17278
aValso doesn't know anything about null terminators so there is no guarantee that  will hold a string (i
p17279
ag785
aVhave a null terminator) and hence no guarantee that  will stop copying at a sensible place
p17280
aVYou're almost certainly scribbling all over your stack and once you do that, all bets are off and you can't expect anything sensible to happen
p17281
aVIf you want to read lines then you might want to switch to  or keep using  and figure out where the EOLs are yourself
p17282
as(dp17283
g10
V479863
p17284
stp17285
a((dp17286
g2
(lp17287
VThe  function takes two arguments:
p17288
aVDescription: Attach a handler to the event for all elements which match the current selector, now and in the future
p17289
aVYou're not supplying the  so you'll be triggering an error inside jQuery as it tries to work with a function as a string and an  value as a function
p17290
as(dp17291
g10
V479863
p17292
stp17293
a((dp17294
g2
(lp17295
VYou can do this sort of thing in straight SQL if you have an extra table that holds all the integers that you need
p17296
aVSuppose your  and  range between one and ten and you have a table like this:
p17297
aVThis table simply contains all the possible integers that you need (i
p17298
ag785
aVone through ten)
p17299
aVThen if you also have this:
p17300
aVYou can do your INSERTs into  with a join:
p17301
aVThe result is this:
p17302
aVOf course your real  would have more rows so you'd want a WHERE clause to limit which row of  you look at
p17303
aVSimilar things are often done with dates (look up "calendar tables")
p17304
aVSo if your ranges are small (for some definition of small) then generate your  table once, add an index to it, and use the above technique to do all the INSERTs right inside the database
p17305
aVOther databases have their own ways (such as PostgreSQL's ) to do this sort of thing without need an explicit  table but SQLite is (intentionally) limited
p17306
aVSQL is generally set-based so loops aren't natural
p17307
aVWhat is natural is building the appropriate sets by describing what you need
p17308
aVOTOH, sometimes unnatural acts are necessary and sensible
p17309
aVI don't know if this makes sense for your application, I just thought I'd demonstrate how it can be done
p17310
aVIf this approach doesn't make sense in your case then you can generate a bunch of INSERT statements outside the database
p17311
as(dp17312
g10
V479863
p17313
stp17314
a.