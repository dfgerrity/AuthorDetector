(lp0
((dp1
S'text'
p2
(lp3
VFollow these links for the MSDN descriptions of:
p4
aV, which rounds down towards negative infinity
p5
aV, which rounds up towards positive infinity
p6
aV, which rounds up or down towards zero
p7
aV, which rounds to the nearest integer or specified number of decimal places
p8
aVYou can specify the behavior if it's exactly equidistant between two possibilities, such as rounding so that the final digit is even ("" becoming 2) or so that it's further away from zero ("" becoming 3)
p9
aVThe following diagram and table may help:
p10
aVNote that  is a lot more powerful than it seems, simply because it can round to a specific number of decimal places
p11
aVAll the others round to zero decimals always
p12
aVFor example:
p13
aVWith the other functions, you have to use multiply/divide trickery to achieve the same effect:
p14
as(dp15
S'author'
p16
V14860
p17
stp18
a((dp19
g2
(lp20
VYou can solve this with a program exactly the same way you solve it by hand (with multiplication and subtraction, then feeding results back into the equations)
p21
aVThis is pretty standard secondary-school-level mathematics
p22
aVSo you end up with:
p23
aVIf you plug these values back into A, B and C, you'll find they're correct
p24
aVThe trick is to use a simple 4x3 matrix which reduces in turn to a 3x2 matrix, then a 2x1 which is "a = n", n being an actual number
p25
aVOnce you have that, you feed it into the next matrix up to get another value, then those two values into the next matrix up until you've solved all variables
p26
aVProvided you have N distinct equations, you can always solve for N variables
p27
aVI say distinct because these two are not:
p28
aVThey are the same equation multiplied by two so you cannot get a solution from them - multiplying the first by two then subtracting leaves you with the true but useless statement:
p29
aVBy way of example, here's some C code that works out the simultaneous equations that you're placed in your question
p30
aVFirst some necessary types, variables, a support function for printing out an equation, and the start of :
p31
aVNext, the reduction of the three equations with three unknowns to two equations with two unknowns:
p32
aVNext, the reduction of the two equations with two unknowns to one equation with one unknown:
p33
aVNow that we have a formula of the type , we can simply work out the unknown value with
p34
aVThen, once you've figured that value out, substitute it into one of the equations with two unknowns and work out the second value
p35
aVThen substitute both those (now-known) unknowns into one of the original equations and you now have the values for all three unknowns:
p36
aVThe output of that code matches the earlier calculations in this answer:
p37
as(dp38
g16
V14860
p39
stp40
a((dp41
g2
(lp42
VShort answer, no
p43
aVLong answer, yes if you're running on the mainframe, but you're not, so you have to use other trickery
p44
aVDB2 (as of DB2/LUW v8) now has generated columns so you can:
p45
aVand then create an index on ulname
p46
aVI'm not sure you're going to get it simpler than that
p47
aVBefore that, you used to have to use a combination of insert and update triggers to ensure the ulname column was kept in sync, and this was a nightmare to maintain
p48
aVAlso, now that this functionality is part of the core DBMS, it's been highly optimized (it's much faster than the trigger-based solution) and doesn't get in the way of real user triggers, so no extra DB objects to maintain
p49
aVSee here for details
p50
as(dp51
g16
V14860
p52
stp53
a((dp54
g2
(lp55
VYou will not be able to connect to the mainframe with any redistributable JDBC driver
p56
aVThe driver pack consists of the actual type 4 driver (db2jcc
p57
aVjar) and any number of license files of the form:
p58
aVwhere the  bit is variable, indicating the platforms that you're allowed to run on (iSeries, pSeries, System z, LUW and so on)
p59
aVYou're only likely to get  with any freely distributable pack
p60
aVYou need the  to access DB2 on the mainframe and that's jealously guarded so you'll need to purchase a specific edition of DB2 Connect to get it
p61
aVI think both PE and EE, the personal and enterprise editions, have this licence file
p62
aVWithout that license file, the type 4 driver won't even try to talk to the server, you'll get an exception
p63
as(dp64
g16
V14860
p65
stp66
a((dp67
g2
(lp68
VI would create a cron job to run at the required resolution (say 10 minutes) by entering the following [on one single line - I've just separated it for formatting purposes] in your crontab (cron -l to list, cron -e to edit)
p69
aVThis appends the date, time and uptime to the uptime
p70
aVhist file every ten minutes while the machine is running
p71
aVYou can then examine this file manually to figure out the information or write a script to process it as you see fit
p72
aVWhenever the uptime reduces, there's been a reboot since the previous record
p73
aVWhen there are large gaps between lines (i
p74
aVe
p75
aV, more than the expected ten minutes), the machine's been down during that time
p76
as(dp77
g16
V14860
p78
stp79
a((dp80
g2
(lp81
VI wouldn't use floating point at all on a CPU without special hardware for handling it
p82
aVMy advice is to treat ALL numbers as integers scaled to a specific factor
p83
aVFor example, all monetary values are in cents as integers rather than dollars as floats
p84
aVFor example, 0
p85
aV72 is represented as the integer 72
p86
aVAddition and subtraction are then a very simple integer operation such as (0
p87
aV72 + 1 becomes 72 + 100 becomes 172 becomes 1
p88
aV72)
p89
aVMultiplication is slightly more complex as it needs an integer multiply followed by a scale back such as (0
p90
aV72 * 2 becomes 72 * 200 becomes 14400 becomes 144 (scaleback) becomes 1
p91
aV44)
p92
aVThat may require special functions for performing more complex math (sine, cosine, etc) but even those can be sped up by using lookup tables
p93
aVExample: since you're using fixed-2 representation, there's only 100 values in the range (0
p94
aV0,1] (0-99) and sin/cos repeat outside this range so you only need a 100-integer lookup table
p95
aVCheers,
p96
aVPax
p97
as(dp98
g16
V14860
p99
stp100
a((dp101
g2
(lp102
VSOAP allows any XML elements to be sent through, XML-RPC is limited to a predefined number of parameters and is limited in what types they can be
p103
as(dp104
g16
V14860
p105
stp106
a((dp107
g2
(lp108
VNo idea if it's still used but it was meant to change the balance used by the COM algorithms
p109
aVIf you had tons of memory and wanted speed at all costs, you would set that flag
p110
aVIn low-memory environments, leaving that flag off would favor reduced memory usage
p111
aVAs it turns out, the marvellous Raymond Chen (of "The Old New Thing" fame) has now weighed in on the subject and, despite what that flag was meant to do, it apparently does nothing at all
p112
aVSee What does the COINIT_SPEED_OVER_MEMORY flag to CoInitializeEx do
p113
aVfor more details:
p114
aVWhen should you enable this mode
p115
aVIt doesn't matter, because as far as I can tell, there is no code anywhere in COM that changes its behavior based on whether the process has been placed into this mode
p116
aVIt looks like the flag was added when DCOM was introduced, but it never got hooked up to anything
p117
aV(Or whatever code that had been hooked up to it never shipped
p118
aVAlso  http://archives
p119
aVneohapsis
p120
aVcom/archives/microsoft/various/dcom/2001-q1/0160
p121
aVhtml from Steve Swartz, one of the original COM+ architects:
p122
aVCOINIT_SPEED_OVER_MEMORY is ignored by COM
p123
as(dp124
g16
V14860
p125
stp126
a((dp127
g2
(lp128
VHow about a business-oriented application (concert tickets, bug-reporting, online email reader, etc) using a library like jQuery
p129
aVThis makes the site looks very impressive with minimal work and you can concentrate on the business logic rather than prettying up the site
p130
as(dp131
g16
V14860
p132
stp133
a((dp134
g2
(lp135
VI use vim for editting source code
p136
aVIts best feature in my opinion is the regex search and replace stuff
p137
as(dp138
g16
V14860
p139
stp140
a((dp141
g2
(lp142
VWell, that could be more of a marketing question than a technical one
p143
aVReal-time, in terms of embedded hardware, involves a known fixed maximum time for handling incoming information (interrupts and the like)
p144
aVYou can certainly claim 30 seconds delay as real-time especially if the delivery of said information is longer than that
p145
aVFor example, if your "alert" is an email that could spend 10 minutes in a mail server or a red cross on a monitor that the users only check every half hour, 30 seconds is more than adequate for real-time
p146
as(dp147
g16
V14860
p148
stp149
a((dp150
g2
(lp151
VVB/VBA strings are based from one rather than zero so you need to use:
p152
aVI've also left off the  since that's the default
p153
as(dp154
g16
V14860
p155
stp156
a((dp157
g2
(lp158
VI'd be looking at the Google Web Toolkit which turns Java code into Javascript
p159
aVIt doesn't rely on proprietary stuff and hence your code runs anywhere
p160
as(dp161
g16
V14860
p162
stp163
a((dp164
g2
(lp165
VUndoDB sounds interesting in that it allows reverse stepping
p166
aVHowever, it's expensive and I'm well adapted to gdb so I'm unlikely to change
p167
aVOthers I've seen don't have the extra features required to entice me away from my known environment
p168
as(dp169
g16
V14860
p170
stp171
a((dp172
g2
(lp173
VI've always thought scanf() was dangerous as it can leave your input streams in an indeterminate state
p174
aVI prefer to use other (safer) commands to bring in a string (fgets and such) then use sscanf to process it
p175
aVThen you can always back up to the start of the string and restart
p176
as(dp177
g16
V14860
p178
stp179
a((dp180
g2
(lp181
VIn UNIX, I always make these scripts setuid and store the user and password info in a file that's heavily protected (the entire directory tree is non-readable/searchable by regular users and the file itself is readable only by the owner of the script)
p182
as(dp183
g16
V14860
p184
stp185
a((dp186
g2
(lp187
VFrom the root level of the source tree and do the following (\u005ct is the tab character):
p188
aVLine 1 get all the include lines
p189
aVLine 2 strips off everything before the actual filename
p190
aVLine 3 strips off the end of the line, leaving only the filename
p191
aVLine 4 and 5 counts each unique line
p192
aVLine 6 sorts by line count in reverse order
p193
as(dp194
g16
V14860
p195
stp196
a((dp197
g2
(lp198
VESC\u005c works fine on AIX4
p199
aV2 at least
p200
aVOne thing I noticed is that it only autocompletes to the unique part of the file name
p201
aVSo if you have the files x
p202
aVtxt, x171go and x171stop, the following will happen:
p203
as(dp204
g16
V14860
p205
stp206
a((dp207
g2
(lp208
VI haven't tried this on a Windows box (I will be tonight, thanks) but the similar thing on Linux (noatime option when mounting the drive) sped things up considerably
p209
aVI can't think of any uses where the last access time would be useful other than for auditing purposes and, even then, does Windows store the user that accessed it
p210
aVI know Linux doesn't
p211
as(dp212
g16
V14860
p213
stp214
a((dp215
g2
(lp216
VThe "kernel" (it's actually not the kernel running your code, it's the CPU) doesn't know how your code is referencing the memory it's not supposed to be touching
p217
aVIt only knows that you tried to do it
p218
aVThe code:
p219
aVcan't really be evaluated by the CPU as you trying to access beyond the bounds of x
p220
aVYou may hit the exact same address with:
p221
aVBTW, I would discourage the use of alloca since stack tends to be much more limited than heap (use malloc instead)
p222
as(dp223
g16
V14860
p224
stp225
a((dp226
g2
(lp227
VThe mainframe is in no danger of disappearing anytime soon
p228
aVThere is still a large amount of work being done at the various IBM labs around the world and the 64-bit OS (z/OS, was MVS, was OS/390, was
p229
aVhas come a long way
p230
aVIt's still used in the big corporations as it's the only thing that can be trusted with their transactions - the z in System z means zero downtime and that's not just marketing hype
p231
aVCPUs come in "books" with up to 54 CPUs on each with many acting as hot backups for the others
p232
aVThe CPUs aren't fast but ALL the non-CPU activity is offloaded to specialist processors
p233
aVThey even have special processors for database (zIIP) and Java (zAAP) workloads
p234
aVThe disk storage subsystems are truly enormous
p235
aVz/OS has a UNIX subsystem and z/VM (IBM invented virtualization) can run multiple copies of z/OS, other z/VMs and even zLinux - I've seen a single z800 box running thousands of instances of RHEL concurrently
p236
aVIt runs the Webspheres and Javas quite well in the Unix space while still allowing all the legacy (heritage
p237
aVstuff to run as well
p238
aVIt's not the box you'd be buying for your little consulting company but it does the job it's meant to do better than any other option
p239
aVIf you're interested, there's a System z emulator called Hercules which I've seen running at 23 MIPS on a Windows box (barely enough grunt to start ISPF for your mainframers out there) but it runs the last legally-usable MVS 3
p240
aV8j fast enough to get a feel
p241
aVEDIT:
p242
aVTo provide a shameless plug for a book one of my friends at work has just written, check out What On Earth is a Mainframe
p243
aVby David Stephens (ISBN-13 = 978-1409225355)
p244
as(dp245
g16
V14860
p246
stp247
a((dp248
g2
(lp249
VAfter each command, the exit code can be found in the  variable so you would have something like:
p250
aVYou need to be careful of piped commands since the  only gives you the return code of the last element in the pipe so, in the code:
p251
aVwill not return an error code if the file doesn't exist (since the  part of the pipeline actually works, returning 0)
p252
as(dp253
g16
V14860
p254
stp255
a((dp256
g2
(lp257
VI don't believe there will be a collision
p258
aVUsing static at the file level (outside functions) marks the variable as local to the current compilation unit (file)
p259
aVIt's never visible outside the current file so never has to have a name
p260
aVUsing static inside a function is different - the variable is only visible to the function, it's just its value is preserved across calls to that function
p261
aVIn effect, static does two different things depending on where it is
p262
aVIn oth cases however, it limits the visibility of the variable to prevent namespace clashes,
p263
aVHaving said that, I believe it would be stored in DATA which tends to have initialized variable
p264
aVThe BSS originally stood for byte-set- which held variables which weren't initialized
p265
as(dp266
g16
V14860
p267
stp268
a((dp269
g2
(lp270
VWhat's wrong with the following, which doesn't rely on obscure language behaviour
p271
as(dp272
g16
V14860
p273
stp274
a((dp275
g2
(lp276
VWebsphere MQ 7 for Windows supports x86 and x64, but not Itanium 64-bit
p277
aVIt only officially supports Visual C++ 2005 for development at the moment but IBM usually issues PTFs for toleration on a regular basis so it shouldn't be too long before C++ 2008 support is there
p278
aVThe statements of support and requirements are hosted on IBM web pages at http://www-01
p279
aVibm
p280
aVcom/support/docview
p281
aVwss
p282
aVrs=171&uid;=swg27011920 if you're interested in further details
p283
as(dp284
g16
V14860
p285
stp286
a((dp287
g2
(lp288
VYou could, as you already seem to be doing, accept() the connection anyway then use getInetAddress() to ensure the address is an authorized one
p289
aVIf not, simply close() the socket straight away
p290
aVis not an address that can be spoofed
p291
aVAlternatively,  you could install your own security manager which will have its checkAccept() method called with the address and port of the remote site
p292
aVThet's a little harder - I've never tried since the first solution has always been adequate for me
p293
as(dp294
g16
V14860
p295
stp296
a((dp297
g2
(lp298
VTell them to leave it alone
p299
aVIt works, what is the benefit of changing it other than prettying it up (and the potential cost is high) so you just need to explain the cost/benefit analysis
p300
aVI would hope your developers would be smart enough to understand this and, if not, you can use your source code control system logs, rolled up tightly, to beat them to death:-)
p301
as(dp302
g16
V14860
p303
stp304
a((dp305
g2
(lp306
VPerformance of what exactly
p307
aVI'm going to assume you meant performance of an application in terms of user experience
p308
aVWhat Ajax appears to be best at is causing network traffic only when it's needed
p309
aVRather than downloading a honkin' great web page in one hit, it downloads only what's needed in as quick a manner as possible
p310
aVThen, if you do something that needs more info, it goes and gets it from the network then
p311
aVThis means unused stuff is never downloaded (if you design it right, of course - bad code can be written in Ajax as much as any other environment)
p312
aVI prefer to mix Ajax methods for data transfer and a client-side library like jQuery for pretty interface
p313
as(dp314
g16
V14860
p315
stp316
a((dp317
g2
(lp318
VIn Java, I use (in the following order):
p319
aV1/ Design-by-contract (ensuring preconditions are met before trying anything that might fail)
p320
aVThis catches most things and I return an error code for this
p321
aV2/ Returning error codes whilst processing work (and performing rollback if needed)
p322
aV3/ Exceptions, but these are used only for unexpected things
p323
as(dp324
g16
V14860
p325
stp326
a((dp327
g2
(lp328
VIt may be that it's the Korn shell in which case try k
p329
aVbash at least will allow you to switch modes with "set -o vi" or "set -o emacs"
p330
as(dp331
g16
V14860
p332
stp333
a((dp334
g2
(lp335
VYou could start a project on SourceForge to contain useful snippets of code like this (or google for snippets to find one)
p336
as(dp337
g16
V14860
p338
stp339
a((dp340
g2
(lp341
VYes, that's actually very annoying
p342
aVWe use an external tool called Beyond Compare (we have a corporate licence) which can swap the two sides easily
p343
aVWhat you should probably do is raise an enhancement request on the relevant Eclipse team with Bugzilla
p344
aVIf there's enough demand, it'll either make it into the next release or someone will write a new (or modify the existing) plug-in to allow swaps
p345
as(dp346
g16
V14860
p347
stp348
a((dp349
g2
(lp350
VA few possibilities
p351
aV1/ See if you can find the names of the people that worked for the company
p352
aVThey may be helpful
p353
aV2/ Open the DAT file in a text editor
p354
aVThe data may be decodable from that
p355
aVIf the basic format can be discerned, quick'n'dirty code can be written to extract it
p356
aV3/ Open up the executable in an editor, there may be strings in there that indicate which compiler was used, then you can search for info on its file formats
p357
aVIf it's a DOS application, there's a good chance it was either Microsoft or Fujitsu COBOL
p358
aV4/ Consider placing job requests on work sites like elance or rentacoder; I don't think there's a cost if the work can't be done successfully
p359
aV5/ Hire someone to examine it and advise on the likelihood of recovery
p360
aV6/ Get a screen dump of the record contents for every active record and re-construct it from that
p361
aVSome of these are pretty hard so your mileage may vary
p362
aVGood luck
p363
as(dp364
g16
V14860
p365
stp366
a((dp367
g2
(lp368
VI use frhed and vim (with its convert to hex mode but that can be slow for big files)
p369
as(dp370
g16
V14860
p371
stp372
a((dp373
g2
(lp374
VAR AY DUBL I
p375
as(dp376
g16
V14860
p377
stp378
a((dp379
g2
(lp380
VI believe these things are generally more trouble than they're worth
p381
aVYou spend a lot of effort writing code to protect your binary
p382
aVThe bad guys spend less effort cracking it (they're generally more experienced than you) and then release the crack so everyone can bypass your protection
p383
aVThe only people you'll annoy are those honest ones who are inconvenienced by your protection
p384
aVJust view piracy as a cost of business - the incremental cost of pirated software is zero if you ensure all support is done only for paying customers
p385
as(dp386
g16
V14860
p387
stp388
a((dp389
g2
(lp390
VYou can use full  variables with , and by providing a dummy date then using  to just get the time value
p391
aVFor example:
p392
aVresults in the two values, three seconds apart:
p393
aVYou could also opt for the more readable
p394
aVif you're so inclined
p395
aVIf you're after a function that can do this, you can look into using  below:
p396
aVThis outputs:
p397
as(dp398
g16
V14860
p399
stp400
a((dp401
g2
(lp402
VI always understood a nybble to be 4 bits
p403
aVSpelling intentional as a nybble was half a byte
p404
as(dp405
g16
V14860
p406
stp407
a((dp408
g2
(lp409
VI follow the open-source mantra (paraphrased) - commit early, commit often
p410
aVBasically whenever I think I've added useful functionality (however small) without introducing problems for other team members
p411
aVThat last proviso is an important one
p412
aVBreaking the build (in our shop, at least) is an offence punishable by ridicule, mocking of your IT skills and intense questioning of your parentage :-)
p413
as(dp414
g16
V14860
p415
stp416
a((dp417
g2
(lp418
VNot sure why you're doing that level of analysis in your lexer
p419
aVLexical analysis should probably be used to separate the input stream into lexical tokens (number, line-change, keyword and so on)
p420
aVIt's the parsing phase that should be doing that level of analysis, including table lookups for typedefs and such
p421
aVThat's the way I've always separated the duties between lexx and yacc, my tools of choice
p422
as(dp423
g16
V14860
p424
stp425
a((dp426
g2
(lp427
VIn my opinion, the "best" solution is the one that can be read by another programmer (or the original programmer two years later) without copious comments
p428
aVYou may well want the fastest or cleverest solution which some have already provided but I prefer readability over cleverness any time
p429
aVIf you want more speed (and assuming you document it well to help out your successors), you could use a table lookup:
p430
aVAlthough these rely on specific data type sizes so they're not that portable
p431
aVBut, since many performance optimisations aren't portable anyway, that may not be an issue
p432
aVIf you want portability, I'd stick to the readable solution
p433
as(dp434
g16
V14860
p435
stp436
a((dp437
g2
(lp438
VMy approach is always "minimum effort for maximum effect" (or best bang per buck)
p439
aVIf it can be done with cron, why not use cron
p440
aVI'd consider it wasted effort to re-implement cron just for the fun of it so, unless you really need features that cron doesn't have, stick with it
p441
as(dp442
g16
V14860
p443
stp444
a((dp445
g2
(lp446
VI've found the book "Programmer's Guide to nCurses" (Dan Gookin, published by Wiley) invaluable as it includes both tutorial and an impressive reference to the API
p447
aVThere's also the O'Reilly Nutshell guide "Programming with Curses" which isn't too bad
p448
as(dp449
g16
V14860
p450
stp451
a((dp452
g2
(lp453
VThe sieve of Atkin is an optimized version of the sieve of Eratosthenes which gives all prime numbers up to a given integer
p454
aVYou should be able to google this for more detail
p455
aVOnce you have that list, it's a simple matter to divide your number by each prime to see if it's an exact divisor (i
p456
ag75
aV, remainder is zero)
p457
aVThe basic steps calculating the divisors for a number (n) are [this is pseudocode converted from real code so I hope I haven't introduced errors]:
p458
as(dp459
g16
V14860
p460
stp461
a((dp462
g2
(lp463
VIn your first while loop, the
p464
aVline should read
p465
aVIn your second loop, you're incrementing idx before the test - it should end with
p466
aVI also tend to parenthesize all internal conditions just to be absolutely certain that the precedence is correct (hence the extra brackets above)
p467
as(dp468
g16
V14860
p469
stp470
a((dp471
g2
(lp472
VQuicksort can be made stable reasonably easy simply by having an sequence field added to each record, initializing it to the index before sorting and using it as the least significant part of the sort key
p473
aVThis has a slightly adverse effect on the time taken but it doesn't affect the time complexity of the algorithm
p474
aVIt also has a minimal storage cost overhead for each record, but that rarely matters until you get very large numbers of records (and is mimimized with larger record sizes)
p475
aVI've used this method with 's  function to avoid writing my own
p476
aVEach record has a 32-bit integer added and populated with the starting sequence number before calling
p477
aVThen the comparison function checked the keys and the sequence (this guarantees there are no duplicate keys), turning the quicksort into a stable one
p478
aVI recall that it still outperformed the inherently stable mergesort for the data sets I was using
p479
aVYour mileage may vary, so always remember: Measure, don't guess
p480
as(dp481
g16
V14860
p482
stp483
a((dp484
g2
(lp485
VWhy don't you contact CA and ask them to tell them what they're searching for, for that virus
p486
aVOr, you could copy the file and change each individual byte until the warning disappeared (may take a while depending on the size)
p487
aVIt's possible the virus detection may be a lot more complicated than simply looking for a fixed string
p488
as(dp489
g16
V14860
p490
stp491
a((dp492
g2
(lp493
VIf you're connecting to a data source that allows JDBC access, I highly recommend BIRT as a reporting solution
p494
aVWe use it for generating HTML and PDF reports (it can do more) for our web reporting solution
p495
aVReport designs are done in Eclipse (standard drag-and-drop sort of stuff) and deployed to a web server for running
p496
aVAs of Eclipse Ganymede, BIRT is now one of the 20-or-so core projects in Eclipse
p497
aVAnd, it's free
p498
as(dp499
g16
V14860
p500
stp501
a((dp502
g2
(lp503
VTry this:
p504
as(dp505
g16
V14860
p506
stp507
a((dp508
g2
(lp509
VDLLs (dynamic link libraries) and SLs (shared libraries, equivalent under UNIX) are just libraries of executable code which can be dynamically linked into an executable at load time
p510
aVStatic libraries are inserted into an executable at compile time and are fixed from that point
p511
aVThey increase the size of the executable and cannot be shared
p512
aVDynamic libraries have the following advantages:
p513
aV1/ They are loaded at run time rather than compile time so they can be updated independently of the executable (all those fancy windows and dialog boxes you see in Windows come from DLLs so the look-and-feel of your application can change without you having to rewrite it)
p514
aV2/ Because they're independent, the code can be shared across multiple executables - this saves memory since, if you're running 100 apps with a single DLL, there may only be one copy of the DLL in memory
p515
aVTheir main disadvantage is advantage #1 - having DLLs change independent your application may cause your application to stop working or start behaving in a bizarre manner
p516
aVDLL versioning tend not to be managed very well under Windows and this leads to the quaintly-named "DLL Hell"
p517
as(dp518
g16
V14860
p519
stp520
a((dp521
g2
(lp522
VIf you have access to the names of the fields, why don't you make it a standard that fields you don't want to include always start with "local" or "nochk" or something like that
p523
aVThen you blacklist all fields that begin with this (code is not so ugly then)
p524
aVI don't doubt it's a little slower
p525
aVYou need to decide whether you want to swap ease-of-updates against execution speed
p526
as(dp527
g16
V14860
p528
stp529
a((dp530
g2
(lp531
VIs there a possibility that you could detect empty arrays withing sqlf and change the SQL to not have the IN clause
p532
aVAlteratively, you could postprocess the SQL before passing it to the "real" SQL executor so that "IN ()" sections are removed although you'd have to do all sorts of trickery to see what other elements had to be removed so that:
p533
aVwould become:
p534
aVThat could get tricky depending on the complexity of your SQL - you'd basically need a full SQL language interpreter
p535
as(dp536
g16
V14860
p537
stp538
a((dp539
g2
(lp540
VMy latest project failed because all the developers spent their time asking and answering questions on Stack Overflow, trying to build up Karma points :-)
p541
as(dp542
g16
V14860
p543
stp544
a((dp545
g2
(lp546
VI use two methods for passing information:
p547
aV1/ The use of command line arguments, which are made easier to handle with specific libraries such as getargs
p548
aV2/ As environment variables, using getenv
p549
as(dp550
g16
V14860
p551
stp552
a((dp553
g2
(lp554
VI highly recommend BIRT as a reporting solution
p555
aVWe use it for generating HTML and PDF reports (it can do more) for our web reporting solution
p556
aVReport designs are done in Eclipse (standard drag-and-drop sort of stuff) and deployed to a web server for running
p557
aVAs of Eclipse Ganymede, BIRT is now one of the 20-or-so core projects in Eclipse
p558
aVAnd, it's free
p559
as(dp560
g16
V14860
p561
stp562
a((dp563
g2
(lp564
VI think you need to read the docs that come with the Thinkpad
p565
aVOn mine at least, they said NOT to use the fingerprint reader as the sole security measure but to use it in conjunction with passwords
p566
aVIBM (or Lenovo now) provide other security measures such as a BIOS password that's near impossible to get at once the machine has booted (the EEPROM holding the info is switched out of the address space) and hard disk passwords built into the actual hard disk so you can't just plug it into another machine
p567
aVDepending on how paranoid you are, you can use all these features
p568
as(dp569
g16
V14860
p570
stp571
a((dp572
g2
(lp573
VDirective starting with "#" are handled by the pre-processor which usually does text substitution before passing the code to the 'real' compiler
p574
aVAs such, there is no variable called count, it's as if all "count" strings in your code are magically replaced with the "1" string
p575
aVSo, no, no way to find that "variable"
p576
as(dp577
g16
V14860
p578
stp579
a((dp580
g2
(lp581
VGet involved with the community:  http://www
p582
aVpython
p583
aVorg/dev/
p584
as(dp585
g16
V14860
p586
stp587
a((dp588
g2
(lp589
VYour code looks like it should be using fscanf, not scanf
p590
aVI would strongly suggest using fgets and sscanf rather than directly calling fscanf
p591
aVThe fscanf can fail in ways that leave in doubt where your file pointer is
p592
aVUsing fgets to get whole lines and sscanf to scan the strings means you always know the state of the file pointer and it's very easy to back up to the start of the line (the string is still in memory)
p593
as(dp594
g16
V14860
p595
stp596
a((dp597
g2
(lp598
VI tend to use i, j, k for very localized loops (only exist for a short period in terms of number of source lines)
p599
aVFor variables that exist over a larger source area, I tend to use more detailed names so I can see what they're for without searching back in the code
p600
aVBy the way, I think that the naming convention for these came from the early Fortran language where I was the first integer variable (A - H were floats)
p601
as(dp602
g16
V14860
p603
stp604
a((dp605
g2
(lp606
VI've found, when using BIRT and other reporting systems that the best improvements tend to come by offloading most of the work to the database at the back end
p607
aVIn other words, don't send lots of data across the wire and sort or group it locally
p608
aVThe database is almost certainly going to outperform you with its SQL orderby and groupby clauses and optimizing indexes (among other things)
p609
aVThat way, you get faster extraction of the data you want AND less network traffic
p610
as(dp611
g16
V14860
p612
stp613
a((dp614
g2
(lp615
VIf it's a worker thread that has units of work given to it externally, it should definitely be using signalling objects as that will ensure it doesn't use CPU needlessly
p616
aVIf it has any of its own work to do as well, that's another matter
p617
aVI wouldn't suspend the thread from another thread (what happens if there's two threads delivering work to it
p618
aV- my basic rule is that threads should control their own lifetime with suggestions from other threads
p619
aVThis localizes all control in the thread itself
p620
as(dp621
g16
V14860
p622
stp623
a((dp624
g2
(lp625
VThe gradient of the ellipse is identical to the gradient of the intersects with the bounding rectangle along one side of the ellipse
p626
aVIn your case, that's the line from (-2
p627
aV5,6) to (5,-3), the top side of your ellipse
p628
aVThat line has a vertical drop of 9 and a horizontal run of 7
p629
aV5
p630
aVSo we end up with the following right-angled triangle
p631
aVThe angle we're looking for is x which is the same in both locations
p632
aVWe can calculate it as:
p633
aVwhich gives us an angle of -50
p634
aV19 degrees
p635
as(dp636
g16
V14860
p637
stp638
a((dp639
g2
(lp640
VI liked the variable sized structures you could make:
p641
aVAlso the offsetof macro which is now in ANSI C but was a piece of wizardry the first time I saw it
p642
aVIt basically uses the address-of operator (&) for a null pointer recast as a structure variable
p643
as(dp644
g16
V14860
p645
stp646
a((dp647
g2
(lp648
VThat exact question is asked and answered at http://forums
p649
aVmicrosoft
p650
aVcom/MSDN/ShowPost
p651
aVaspx
p652
aVPostID=1512436&SiteID;=1
p653
aVTry re-installing
p654
aVIt appears to be an install of the wrong service pack
p655
as(dp656
g16
V14860
p657
stp658
a((dp659
g2
(lp660
VI don't know about Lua specifically but you can generally run a command as:
p661
aVto capture the output and error to the file comd
p662
aVtxt, then use the languages file I/O functions to read it in
p663
aVThat's how I'd do it if the language itself didn't provide for capturing stanard output and error
p664
as(dp665
g16
V14860
p666
stp667
a((dp668
g2
(lp669
VAny automatic translation is going to suffer for not using the power of Python
p670
aVC-type procedural code would run very slowly if translated directly into Python, you would need to profile and replace whole sections with more Python-optimized code
p671
as(dp672
g16
V14860
p673
stp674
a((dp675
g2
(lp676
VThe only reason I can think of is that you wouldn't need a Java runtime on the target device
p677
aVPalm, for instance, allows you to code in C and talk directly to the OS routines in ROM
p678
aVThe C code compiles directly to the machine language without needing a runtime
p679
as(dp680
g16
V14860
p681
stp682
a((dp683
g2
(lp684
VAssuming they won't interfere with each other by writing to the same files,etc:
p685
aVtest1
p686
aVcmd
p687
aVThis will start three concurrent processes each which echoes it's sequence number then wait 30 seconds
p688
aVAll with one cmd file and (eventually) one output file
p689
as(dp690
g16
V14860
p691
stp692
a((dp693
g2
(lp694
VNot fiction but very good:
p695
aVThe soul of a new machine
p696
as(dp697
g16
V14860
p698
stp699
a((dp700
g2
(lp701
VJust use  followed by Enter - that basically says to edit the last (most recent) file
p702
as(dp703
g16
V14860
p704
stp705
a((dp706
g2
(lp707
VIf your global vars are truly used only in one function, you're losing nothing by making them into static locals since the fact that they were global anyway made the function that used them non-re-entrant
p708
aVYou gain a little by limiting the scope of the variable
p709
aVYou should make that change to all globals that are used in only one function, then examine each static local variable to see if it can be made non-static (automatic)
p710
aVThe rule is:  if the variable is used in the function before being set, then leave it static
p711
aVAn example of a variable that can be made automatic local (you would put "" inside the function (you don't need to set it to zero since it's set before use and this should issue a warning if you actually use it before setting it, a useful check):
p712
aVThe  var is set before being used
p713
aVThe following is an example that should be left static by putting "" inside the function:
p714
aVNote that it can get tricky, "" is not setting, it's using and setting since it's equivalent to ""
p715
aVOne other thing to watch out for: in an RTOS environment, stack space may be more limited than global memory so be careful moving big globals such as "" into the functions
p716
as(dp717
g16
V14860
p718
stp719
a((dp720
g2
(lp721
VI always start with pencil and paper but it usually takes 4 or 5 binned pages before I'm happy
p722
aVThen I'll mock it up in an MsWord drawing but I'm thinking of switching to a more decent drawing package
p723
as(dp724
g16
V14860
p725
stp726
a((dp727
g2
(lp728
V statements are handled by the pre-processor before the compiler gets to see the code so it's basically a text substitution (it's actually a little more intelligent with the use of parameters and such)
p729
aVEnumerations are part of the C language itself and have the following advantages
p730
aV1/ They may have type and the compiler can type-check them
p731
aV2/ Since they are available to the compiler, symbol information on them can be passed through to the debugger, making debugging easier
p732
as(dp733
g16
V14860
p734
stp735
a((dp736
g2
(lp737
VMy experience is with mainly DB2 and a smattering of Oracle in the early days
p738
aVIf your DBMS is any good, it will have the ability to collect stats on specific queries and explain the plan it used for extracting the data
p739
aVFor example, if you have a table (x) with two columns (date and diskusage) and only have an index on date, the query:
p740
aVwill be very efficient since it can use the index
p741
aVOn the other hand, the query
p742
aVwould not be so efficient
p743
aVIn the former case, the "explain plan" would tell you that it could use the index
p744
aVIn the latter, it would have said that it had to do a table scan to get the rows (that's basically looking at every row to see if it matches)
p745
aVReally intelligent DBMS' may also explain what you should do to improve the performance (add an index on diskusage in this case)
p746
aVAs to how to see what queries are being run, you can either collect that from the DBMS (if it allows it) or force everyone to do their queries through stored procedures so that the DBA control what the queries are - that's their job, keeping the DB running efficiently
p747
as(dp748
g16
V14860
p749
stp750
a((dp751
g2
(lp752
VBy using a rolling total, you can both
p753
aVmaintain an equal distribution; and
p754
aVnot have to sacrifice any element in the random sequence
p755
aVBoth these problems are an issue with the simplistic -type solutions
p756
aVThe following Python code shows how to implement it (most of this is proving the distribution)
p757
aVAnd this output shows the results:
p758
aVA simplistic , ignoring those cases where this returns more than 6 has a typical variation of 18%, 100 times that of the method shown above:
p759
aVAnd, on the advice of Nixuz, I've cleaned the script up so you can just extract and use the  stuff:
p760
as(dp761
g16
V14860
p762
stp763
a((dp764
g2
(lp765
VThis works, although it's not blindingly fast:
p766
as(dp767
g16
V14860
p768
stp769
a((dp770
g2
(lp771
VI've been using jQuery and have had no troubles with it
p772
aVI am about to get involved with the Google Web Toolkit (GWT) just to see if it's as good - I'll probably continue to use both if it is
p773
as(dp774
g16
V14860
p775
stp776
a((dp777
g2
(lp778
VThere are no hard rules - hard rules lead to dogma and people generally follow dogma when they're not smart enough to think for themselves
p779
aVThe guidelines I follow:
p780
aV1/ Comments tell what is being done, code tells how it's being done - don't duplicate your effort
p781
aV2/ Comments should refer to blocks of code, not each line
p782
aVThat includes comments that explain whole files, whole functions or just a complicated snippet of code
p783
aV3/ If I think I'd come back in a year and not understand the code/comment combination then my comments aren't good enough yet
p784
as(dp785
g16
V14860
p786
stp787
a((dp788
g2
(lp789
VCrikey, that's a blast from the past
p790
aVI think it entered the monitor ROM (I was torn between this and Integer BASIC but I'm pretty certain it was the monitor)
p791
aVYou could download an Apple II emulator and find out
p792
as(dp793
g16
V14860
p794
stp795
a((dp796
g2
(lp797
VActually, this is exactly the sort of thing you shouldn't be doing
p798
aVThere's too many programs around that assume they control the computer they're installed on
p799
aVIt is the user of your application that should be in control
p800
aVThat's why later versions of Windows disallowed stealing of focus instead insisting on just blinking the entry in the task list bar
p801
aVYou may well find a way to do it (though I doubt it), but I urge you to rethink it
p802
aVI'd be interested in knowing why you thought it was necessary
p803
as(dp804
g16
V14860
p805
stp806
a((dp807
g2
(lp808
VI would suggest you get your application to write its "usage information" somewhere and then, with the users permission, transmit it electronically every so often
p809
aVNote the emphasis above
p810
aVDepending on your jurisdiction, you could get into serious trouble transmitting any sort of data from someone else's computer without permission
p811
aVYou're more likely to get permission if:
p812
aV1/ You make it clear, on install or update, that your program will collect information and transmit it only with permission
p813
aV2/ You explain clearly what the information is and that it only holds "usage information", nothing that can be traced back to the user of the software (NO serial numbers, etc)
p814
aV3/ You request permission to transmit infrequently
p815
aVIf I had an obnoxious program that asked me daily, I'd soon stop using it altogether
p816
as(dp817
g16
V14860
p818
stp819
a((dp820
g2
(lp821
VEmacs has a couple of variables which inhibit these actions
p822
aVIf you edit your emacs control file (
p823
aVemacs) and insert the following:
p824
aVthat should solve your problem
p825
aVThey basically set the inhibit parameters to true to prevent the behavior you want to get rid of
p826
as(dp827
g16
V14860
p828
stp829
a((dp830
g2
(lp831
VSince you're opening the file in text mode, it will convert end-of-line markers, such as LF, into CR/LF
p832
aVThis is likely if you're running on Windows (and you probably are, given that your file name starts with )
p833
aVIf you open the file in  mode, I suspect you'll find the numbers are identical:
p834
aVThe C99 standard has this to say in :
p835
aVThe argument mode points to a string
p836
aVIf the string is one of the following, the file is
p837
aVopen in the indicated mode
p838
aVOtherwise, the behaviour is undefined
p839
aVopen text file for reading
p840
aVtruncate to zero length or create text file for writing
p841
aVappend; open or create text file for writing at end-of-file
p842
aVopen binary file for reading
p843
aVtruncate to zero length or create binary file for writing
p844
aVappend; open or create binary file for writing at end-of-file
p845
aVopen text file for update (reading and writing)
p846
aVtruncate to zero length or create text file for update
p847
aVappend; open or create text file for update, writing at end-of-file
p848
aVor  open binary file for update (reading and writing)
p849
aVor  truncate to zero length or create binary file for update
p850
aVor  append; open or create binary file for update, writing at end-of-file
p851
aVYou can see they distinguish between  and
p852
aVI don't believe an implementation is required to treat the two differently but it's usually safer to use binary mode for binary data
p853
as(dp854
g16
V14860
p855
stp856
a((dp857
g2
(lp858
VThe virtual machine languages are unlikely to outperform compiled languages but they can get close enough that it doesn't matter, for (at least) the following reasons (I'm speaking for Java here since I've never done C#)
p859
aV1/ The Java Runtime Environment is usually able to detect pieces of code that are run frequently and perform just-in-time (JIT) compilation of those sections so that, in future, they run at the full compiled speed
p860
aV2/ Vast portions of the Java libraries are compiled so that, when you call a library function, you're executing compiled code, not interpreted
p861
aVYou can see the code (in C) by downloading the OpenJDK
p862
aV3/ Unless you're doing massive calculations, much of the time your program is running, it's waiting for input from a very slow (relatively speaking) human
p863
aV4/ Since a lot of the validation of Java bytecode is done at the time of loading the class, the normal overhead of runtime checks is greatly reduced
p864
aV5/ At the worst case, performance-intensive code can be extracted to a compiled module and called from Java (see JNI) so that it runs at full speed
p865
aVIn summary, the Java bytecode will never outperform native machine language, but there are ways to mitigate this
p866
aVThe big advantage of Java (as I see it) is the HUGE standard library and the cross-platform nature
p867
as(dp868
g16
V14860
p869
stp870
a((dp871
g2
(lp872
VIt seems simple enough - you just need to find out the ratios
p873
aVFor each script, count the number of script characters and English words in your glossary and work out the ratio
p874
aVThis can be augmented with the Japanese source documents assuming you can both detect which script a Japanese word is in and what the English equivalent phrase is in the translation
p875
aVOtherwise you'll have to guesstimate the ratios or ignore this as source data,
p876
aVThen, as you say, count the number of words in each script of your source text, do the multiplies, and you should have a rough estimate
p877
as(dp878
g16
V14860
p879
stp880
a((dp881
g2
(lp882
VI would suggest you use a thread pool in C# for the same reasons as any other language
p883
aVWhen you want to limit the number of threads running or don't want the overhead of creating and destroying them, use a thread pool
p884
aVBy small tasks, the book you read means tasks with a short lifetime
p885
aVIf it takes ten seconds to create a thread which only runs for one second, that's one place where you should be using pools (ignore my actual figures, it's the ratio that counts)
p886
aVOtherwise you spend the bulk of your time creating and destroying threads rather than simply doing the work they're intended to do
p887
as(dp888
g16
V14860
p889
stp890
a((dp891
g2
(lp892
VYou're willing to spend all this time and effort asking about and evaluating other editors which will almost certainly not have all the features you want, yet you can't shell out $35 for another licence
p893
aVWhen I'm making decisions like this, I always value my time at $100/hour so if this were going to take me more than 20 minutes, I'd just buy another licence
p894
aVTime is the one commodity you can't recover; you can always make more money
p895
as(dp896
g16
V14860
p897
stp898
a((dp899
g2
(lp900
VThink in terms of function levels as per the following pseudo-code:
p901
aVThe commands are basically "run until an event occurs"
p902
aVThe event causes the debugger to break (stop execution and await your command)
p903
aVThe "" command runs until it goes up to the next highest stack level
p904
aVIf you're on lines 8, 9, 10 or 11, you'll end up at 4 or 7 depending on which "" has called that code
p905
aVIf you're on lines 12, 13 or 14, you'll break at 11
p906
aVThink of this as running until you've moved up the stack
p907
aVNote that if you first go down, you'll have to come up twice
p908
aVThe "" command runs until the next call so, if you're on line 1, it will break at line 3
p909
aVThis is sort of opposite to "" since it halts when you're trying to go down a stack level
p910
as(dp911
g16
V14860
p912
stp913
a((dp914
g2
(lp915
VInlining is a suggestion to the compiler which it is free to ignore
p916
aVIt's ideal for small bits of code
p917
aVIf your function is inlined, it's basically inserted in the code where the function call is made to it, rather than actually calling a separate function
p918
aVThis can assist with speed as you don't have to do the actual call
p919
aVIt also assists CPUs with pipelining as they don't have to reload the pipeline with new instructions caused by a call
p920
aVThe only disadvantage is possible increased binary size but, as long as the functions are small, this won't matter too much
p921
aVI tend to leave these sorts of decisions to the compilers nowadays (well, the smart ones anyway)
p922
aVThe people who wrote them tend to have far more detailed knowledge of the underlying architectures
p923
as(dp924
g16
V14860
p925
stp926
a((dp927
g2
(lp928
VI find myself using associative array quite a lot, basically arrays with a string as the index
p929
as(dp930
g16
V14860
p931
stp932
a((dp933
g2
(lp934
VYou're talking about a many-to-many relationship
p935
aVIn normalized form that's best handled with a third table:
p936
aVEach row in itemsections has an item id and a section id
p937
aVFor normal one-to-many relationships, that's not needed but it's standard practice for what you're looking at
p938
as(dp939
g16
V14860
p940
stp941
a((dp942
g2
(lp943
VC or C++ does not provide this functionality, although I've needed it often
p944
aVThe following code works, although it's best suited for non-sparse enums
p945
aVBy non-sparse, I mean not of the form
p946
aVsince that has huge gaps in it
p947
aVThe advantage of this method is that it put the definitions of the enums and strings near each other; having a switch statement in a function spearates them
p948
aVThis means you're less likely to change one without the other
p949
as(dp950
g16
V14860
p951
stp952
a((dp953
g2
(lp954
VOracle, along with other databases, analyzes a given query to create an execution plan
p955
aVThis plan is the most efficient way of retrieving the data
p956
aVOracle provides the '' statement which analyzes the query but doesn't run it, instead populating a special table that you can query (the plan table)
p957
aVThe syntax (simple version, there are other options such as to mark the rows in the plan table with a special ID, or use a different plan table) is:
p958
aVThe analysis of that data is left for another question, or your further research
p959
as(dp960
g16
V14860
p961
stp962
a((dp963
g2
(lp964
VThe following HTML file shows how you can do this:
p965
aVWhen you click on the link, the desired radio button is selected
p966
aVThe important line is the one setting the  attribute
p967
as(dp968
g16
V14860
p969
stp970
a((dp971
g2
(lp972
VOkay, try:
p973
aVI think that should work (it does in DB2 which is the DBMS I use most) - you'll need to adjust the spaces in the second select to match the subgroup
p974
aVsubgroupname size
p975
as(dp976
g16
V14860
p977
stp978
a((dp979
g2
(lp980
VThe following function works for C:
p981
aVAs requested, it only works for the numbers 1 through 31 inclusive
p982
aVIf you want (possibly, but not necessarily) raw speed, you could try:
p983
aVJust keep in mind that, with the compilers of today, naive assumptions about what is faster in a high-level language may not be correct: measure, don't guess
p984
as(dp985
g16
V14860
p986
stp987
a((dp988
g2
(lp989
VIf you just want simple encryption (i
p990
ag75
aV, possible for a determined cracker to break, but locking out most casual users), just pick two passphrases of equal length, say:
p991
aVand xor your data with both of them (looping the passphrases if necessary)
p992
aVFor example:
p993
aVSomeone searching your binary may well think the DNA string is a key, but they're unlikely to think the C code is anything other than uninitialized memory saved with your binary
p994
as(dp995
g16
V14860
p996
stp997
a((dp998
g2
(lp999
VYou can use ping:
p1000
aVwill wait 10 seconds
p1001
aVThe reason you have to use 11 is because the first ping goes out immediately, not after one second
p1002
aVThe number should always be one more than the number of seconds you want to wait
p1003
aVKeep in mind that the purpose of the  is not to wait one second, it's to ensure that you wait no more than one second in the event that there are network problems
p1004
aVon it's own will send one ICMP packet per second
p1005
aVIt's probably not required for localhost but old habits die hard
p1006
as(dp1007
g16
V14860
p1008
stp1009
a((dp1010
g2
(lp1011
VThis works fine in :
p1012
as(dp1013
g16
V14860
p1014
stp1015
a((dp1016
g2
(lp1017
VThe open source stuff appears to be at:
p1018
aVI don't know if everything is available there yet, there may be issues with third-party stuff
p1019
as(dp1020
g16
V14860
p1021
stp1022
a((dp1023
g2
(lp1024
VThe following snippet reads in the first three lines, prints only the third then exits to ensure that no unnecessary processing takes place
p1025
aVWithout the exit, the script would continue to process the input file despite you knowing that you have no use for it
p1026
aVAs perlvar points out,  is the current line number for the last file handle accessed
p1027
as(dp1028
g16
V14860
p1029
stp1030
a((dp1031
g2
(lp1032
VIf you're using a shell that does simple substitution and the  variable does not exist (or is blank), then you need to watch out for the edge cases
p1033
aVThe following translations will happen:
p1034
aVThe first of these will generate an error since the fist argument to  has gone missing
p1035
aVThe second does not have that problem
p1036
aVYour case translates as follows:
p1037
aVIt may seem a bit redundant since it has both the quotes and the "x" but it will also handle a variable with spaces in it, without giving that as two arguments to the  command
p1038
aVThe other reason (other than empty variables) has to do with option processing
p1039
aVIf you write:
p1040
aVand  has the value  or  or any other valid options to the  command, the syntax is ambiguous
p1041
aVThe  at the front prevents a leading dash from being picked up as an option to
p1042
aVKeep in mind that this depends on the shell
p1043
aVSome shells ( for one, I think) will complain bitterly if the environment variable doesn't exist rather than just returning an empty string)
p1044
as(dp1045
g16
V14860
p1046
stp1047
a((dp1048
g2
(lp1049
VThere's a union clause in SQL that does what you want:
p1050
aVor, if you want all fields (spaces for table2):
p1051
aVThe spaces in the second query may need to be expanded to fit the field sizes for c and d
p1052
as(dp1053
g16
V14860
p1054
stp1055
a((dp1056
g2
(lp1057
VIf you're making a public site, then it's very difficult
p1058
aVThere are methods that involve server-side scripting to generate content or the use of non-text (Flash, etc) to minimize the likelihood of ripping
p1059
aVBut to be honest, if you consider your content to be so good, just password-protect it and remove it from the public arena
p1060
aVMy opinion is that the whole point of the web is to propagate useful content to as many people as possible
p1061
as(dp1062
g16
V14860
p1063
stp1064
a((dp1065
g2
(lp1066
VI think answers should go in the "answer" section rather than as an addendum to the question since that marks the question as having an answer on the various question-list pages
p1067
aVI'll do that for you but, if you also get around to doing it, leave a comment on my answer so I can delete it
p1068
aVQuoting "answer in question":
p1069
aVVerifying everything in this question, I eventually solved the problem
p1070
aVThe 'No such file or directory' are caused by some __db
p1071
aVXXX files missing
p1072
aVUsing
p1073
aVafter db4
p1074
aV4_recover, these files got created and everything is now working
p1075
aVStill, it was a bit of an obscure problem, and initially hard to figure out
p1076
aVBut thanks to the question Examining Berkeley DB files from the CLI, I got the tools I needed
p1077
aVI'll just post it here if someone ends up with the same problem in the future and end up at stackoverflow
p1078
aVcom
p1079
as(dp1080
g16
V14860
p1081
stp1082
a((dp1083
g2
(lp1084
VWe had a similar requirement some ten years ago - I'll see if I can recall how we managed it
p1085
aVIf I remember, we wrote a socket proxy program which was controlled by inetd on a UNIX box
p1086
aVThis socket would accept connections from a client and open equivalent sessions through to the server
p1087
aVIt would then loop, passing messages in both directions
p1088
aVThe way we achieved WAN characteristics was to introduce random delays (with upper and lower limits) in both the connection establishment and the passing of data once the link was up
p1089
aVIt also had the feature to drop the link occasionally as WAN links were less reliable for us than local traffic
p1090
aVI recall we had to make it threaded to stop the delays from affecting reverse traffic on the link
p1091
as(dp1092
g16
V14860
p1093
stp1094
a((dp1095
g2
(lp1096
VActively avoid doing any Swing work at all except on the event dispatching thread
p1097
aVSwing was written to be easy to extend and Sun decided a single-threaded model was better for this
p1098
aVI have had no issues whilst following my advice above
p1099
aVThere are some circumstances where you can 'swing' from other threads but I've never found the need
p1100
as(dp1101
g16
V14860
p1102
stp1103
a((dp1104
g2
(lp1105
VBugs should be caught as soon as possible in the development cycle - having bugs move from design to code, or code to test, or (hopefully not) test to production increases the cost and time required to fix it
p1106
aVOur shop enforces unit testing for that reason alone (I'm sure there are other reasons but that's enough for us)
p1107
as(dp1108
g16
V14860
p1109
stp1110
a((dp1111
g2
(lp1112
VWord has change tracking for documents (although it only works up until you accept the changes) and you can also grep them (the text isn't encrypted)
p1113
aVSo I'm not sure either of your arguments will hold up under scrutiny
p1114
aVI'd love to give you the ammo to change this but I've become jaded and cynical with age
p1115
aVWe use MS Word for our docs (which is a huge improvement over the earlier choice (Lotus WordPro - ugh
p1116
as(dp1117
g16
V14860
p1118
stp1119
a((dp1120
g2
(lp1121
VI've developed a couple of platform games in Java for Windows using the book "Developing Games in Java" by David Brackeen
p1122
aVIt does cover 3D stuff but I haven't got that far yet
p1123
as(dp1124
g16
V14860
p1125
stp1126
a((dp1127
g2
(lp1128
VIf you're being hired as a DBA, it will take a while to switch between databases as the management of them differs (I base this on my experience with Oracle and DB2 only)
p1129
aVI DON'T know SQL Server but I can imagine a Microsoft program with its nice GUI management would be vastly different to managing DB2/z, for example (although you can use the fancy DB2 LUW (Linux/UNIX/Window) tools if you're that way inclined)
p1130
aVIf you're just cutting code to use the database, the SQL differences are minor (relatively)
p1131
aVThat shouldn't take much time at all, assuming you're already proficient with SQL
p1132
as(dp1133
g16
V14860
p1134
stp1135
a((dp1136
g2
(lp1137
VIf your DBAs won't add an index to make this faster, ask them what they suggest you do (that's what they're paid for, after all)
p1138
aVPresumably you have a business case why you need this information in which case your immediate management should be on your side
p1139
aVPerhaps you could ask your DBAs to duplicate the data into a database where you could add an index
p1140
as(dp1141
g16
V14860
p1142
stp1143
a((dp1144
g2
(lp1145
VI'm of the opinion that design reviews are even more important than code reviews
p1146
aVWith code reviews, you should be checking the code to ensure it matches the design but this can also be achieved with a design-to-functionality tracking matrix (making sure every aspect of the design is tested in the code)
p1147
aVFor designs, there's no other type of testing (you can't run the design) - you have to have a matrix that maps design items back to individual requirements and, if this matrix has holes in it, it doesn't matter how elegant and clever your design is, it's not what the customer wanted
p1148
aVLet me know how that works out if you give it a try :-)
p1149
as(dp1150
g16
V14860
p1151
stp1152
a((dp1153
g2
(lp1154
VI run four virtual desktops
p1155
aVThe first holds my administrivia programs
p1156
aVMail, messaging, calculator, Word, Acrobat, etc) - everything needed for work but not my primary job role
p1157
aVThe second holds stuff I need to do my job - multiple instances of Eclipse and RAD, putty to connect to all my systems for dev/test, bug tracking and so on
p1158
aVThe third holds VMWare Workstation and all its minion virtual machines (although I can only run about 6 at a time given memory constraints)
p1159
aVThe fourth is dedicated to important stuff (mostly Firefox) for looking at StackOverflow, Slashdot and other such important information
p1160
aVBut I don't look at that desktop very often :-)
p1161
as(dp1162
g16
V14860
p1163
stp1164
a((dp1165
g2
(lp1166
VYou should be able to do this by extracting a slice of the array thus
p1167
aVIt's the line
p1168
aVthat you're interested in
p1169
aVIt will affect the 2nd, 3rd and 4th elements
p1170
as(dp1171
g16
V14860
p1172
stp1173
a((dp1174
g2
(lp1175
VIf you're going to be using  in the queries, it's worthwhile adding an index to it
p1176
aVThat would be the only optimization I would suggest based on your information
p1177
aV100,000 insertions per month equates to about 2
p1178
aV3 per minute so another index won't be too onerous and it will speed up your queries
p1179
aVI'm assuming that's 100,000 insertions across all 30 sensors, not 100,000 for each sensor but, even if I'm mistaken, 70 insertions per minute should still be okay
p1180
aVIf performance does become an issue, you have the option to offload older data to a historical table (say, ) and only do your queries on the non-historical table ()
p1181
aVThen you at least have all the data available without affecting the normal queries
p1182
aVIf you really want to get at the older data, you can do so but you'll be aware that the queries for that may take a while longer
p1183
as(dp1184
g16
V14860
p1185
stp1186
a((dp1187
g2
(lp1188
VI can't see that
p1189
aVwould work since I thought the "too many files" was a shell limitation, hence it would fail for the for loop as well
p1190
aVHaving said that, I always let xargs do the grunt-work of splitting the argument list into manageable bits thus:
p1191
aVIt won't start a process per file but per group of files
p1192
as(dp1193
g16
V14860
p1194
stp1195
a((dp1196
g2
(lp1197
VIf you go to Windows, Preferences then select General, Editors, Text editors, you can set colors on that property page (and there's a link for setting MORE colors - General, Appearance, Colors and fonts)
p1198
aVThat's with an Eclipse 3
p1199
aV3 build anyway
p1200
as(dp1201
g16
V14860
p1202
stp1203
a((dp1204
g2
(lp1205
VBoth Amazon and eBay currently have copies for sale (although they seem a tad expensive but this would be a pass-through cost to your customer so it's up to them whether they pay this)
p1206
aVYou may want to check out the licence for VB
p1207
aVnet; it may allow you to run previous versions of the software
p1208
aVThe MSDN "Visual Studio 2008 Professional with MSDN Professional" has previous version of Visual Studio tools but it comes in at USD1200 so, if you just want VB6, eBay is the better option
p1209
aVKeep in mind that MSDN pack has all the Visual Studio languages and VS6 through to VS2008 so it's probably got everything you need
p1210
aVThe other option I thought of is not legal so I won't suggest it
p1211
as(dp1212
g16
V14860
p1213
stp1214
a((dp1215
g2
(lp1216
VSince we use Rational Software Architect, we use its data discovery features to document our databases and then annotate them from there
p1217
as(dp1218
g16
V14860
p1219
stp1220
a((dp1221
g2
(lp1222
VI tend to target INFO towards the user to give them messages that aren't even warnings
p1223
aVDEBUG tends to be for developer use where I output messages to help trace the flow through the code (with values of variables as well)
p1224
aVI also like another level of DEBUG (DEBUG2
p1225
aVwhich gives absolute bucketloads of debug information such as hex dumps of all buffers and so on
p1226
as(dp1227
g16
V14860
p1228
stp1229
a((dp1230
g2
(lp1231
VThe location you specify states:
p1232
aVThat particular piece of jquery is:
p1233
aVwhich is itself a closure created for the call to
p1234
aVSo I would like to ask, if you do a "View source" or its IE equivalent, are there any other occurrences of the string "nodeName" that could be interfering with the jQuery one
p1235
aVCan you also test the following by creating an xx
p1236
aVhtml file and opeing it in IE7/8
p1237
aVIt works fine under Firefox 3 in Ubuntu, with or without the spaces following the commas in the selector
p1238
as(dp1239
g16
V14860
p1240
stp1241
a((dp1242
g2
(lp1243
VHere's a complete code sample that shows the use of adding a structure to a linked list:
p1244
as(dp1245
g16
V14860
p1246
stp1247
a((dp1248
g2
(lp1249
VI don't know about PHP specifically but you could walk up the process tree until you found either init or cron
p1250
aVAssuming PHP can get it's own process ID and run external commands, it should be a matter of executing  where pid is your own process ID and extract the parent process ID (PPID) from it
p1251
aVThen do the same to that PPID until you either reach cron as a parent or init as a parent
p1252
aVFor example, this is my process tree and you can see the ownership chain, 1 -> 6386 -> 6390 -> 6408
p1253
aVThe same processes run under cron would look like:
p1254
aVThis "walking up the process tree" solution means you don't have to worry about introducing an artificial parameter to indicate whether you're running under cron or not - you may forget to do it in your interactive session and stuff things up
p1255
as(dp1256
g16
V14860
p1257
stp1258
a((dp1259
g2
(lp1260
VYou can create any n-dimensional arrays using exactly the format you suggest as in the following sample:
p1261
aVThe alert boxes return, in sequence:
p1262
as(dp1263
g16
V14860
p1264
stp1265
a((dp1266
g2
(lp1267
VI tend to avoid putting Javascript within the HTML pages themselves unless it's absolutely certain it can never be used by another page
p1268
aVAlmost all of my Javascript is therefore stored in JS files which are referenced in the HTML thus:
p1269
aVIt also makes the separation of code/markup cleaner for me
p1270
as(dp1271
g16
V14860
p1272
stp1273
a((dp1274
g2
(lp1275
VWhy not make the stack size a configurable item, either stored with the program or specified when a process creates another process
p1276
aVThere are any number of ways you can make this configurable
p1277
aVThere's a guideline that states "0, 1 or n", meaning you should allow zero, one or any number (limited by other constraints such as memory) of an object - this applies to sizes of objects as well
p1278
as(dp1279
g16
V14860
p1280
stp1281
a((dp1282
g2
(lp1283
VActually, a workmate has pointed me to a solution
p1284
aVYou can apparently do:
p1285
aVwhich clears out the hash before closing the database
p1286
as(dp1287
g16
V14860
p1288
stp1289
a((dp1290
g2
(lp1291
VTo slice arrays, it's a simple matter of using
p1292
aVwhich sets b[0] to a[5] and b[1] to a[6]
p1293
aVBut remember that this is a reference to the elements in a, not another copy of them
p1294
aVIf you change b[0], this also affects a[5]
p1295
aVIf you want to copy, you have to do:
p1296
aVThis is because b is a static array; in the first code block, it was dynamic (effectively a pointer to somewhere within another array)
p1297
as(dp1298
g16
V14860
p1299
stp1300
a((dp1301
g2
(lp1302
VIs it advisable in a general sense
p1303
aVWho cares
p1304
aVYou're only getting one shot at this life so you need to do whatever makes you happy
p1305
aVIf that's programming, then it certainly is advisable in your case
p1306
aVAs to the path you follow, it depends on who you work for
p1307
aVLarge companies (and some small ones) should allow you to train up at their expense - I would opt for that as a first attempt
p1308
aVIf they're not willing or able, then you can look around at either self-training or going to another company which will allow you to do it
p1309
aVIf you've done perl and bash stuff to make your sysadmin life easier, then you've already learnt programming
p1310
aVEverything else will just be different sytles or languages - the concepts mostly remain the same, unless you're using very esoteric languages
p1311
as(dp1312
g16
V14860
p1313
stp1314
a((dp1315
g2
(lp1316
VHere's some self-contained HTML/JS that does the trick:
p1317
as(dp1318
g16
V14860
p1319
stp1320
a((dp1321
g2
(lp1322
VTesseract OCR was developed by HP and open sourced, I believe
p1323
aVI'm not sure how good the quality is
p1324
as(dp1325
g16
V14860
p1326
stp1327
a((dp1328
g2
(lp1329
VFor ltrim, replace spaces anchored at the start of the string with nothing:
p1330
aVFor rtrim, replace spaces anchored at the end of the string with nothing:
p1331
aVFor trim:
p1332
aVThese all use regex'es to do the actual work
p1333
as(dp1334
g16
V14860
p1335
stp1336
a((dp1337
g2
(lp1338
VLet's use 16 bits for our example
p1339
aVIn that case, ~0 is equal to
p1340
aVWhen we left-shift this  bits (3 in your case), we get:
p1341
aVbecause the s at the left are discarded and s are fed in at the right
p1342
aVThen re-complementing it gives:
p1343
aVso it's just a clever way to get  1-bits in the least significant part of the number
p1344
aVThe "x bit" you describe has shifted the given number (f994) right far enough so that the least significant 3 bits are the ones you want
p1345
aVIn this example, the bits you're requesting are surrounded by '
p1346
aVcharacters
p1347
aVAnd there you have your bits
p1348
aVTa da
p1349
as(dp1350
g16
V14860
p1351
stp1352
a((dp1353
g2
(lp1354
VOne solution would be to create a class around the 64-bit int which overrode the arithmetic operators to check before performing the operation
p1355
aVI can't remember the operatorX syntax off the top of my head (I switched from C++ to Java a long time ago) but a sample would be:
p1356
aVSimilar for any other arithmetic operation, although this could get very complicated for non-basic functions such as powers, factorials and such
p1357
aVHowever, if you build those from the basic arithmetic building blocks, they'll work
p1358
as(dp1359
g16
V14860
p1360
stp1361
a((dp1362
g2
(lp1363
VI use an OpenOffice
p1364
aVorg spreadsheet to manage my little investment company
p1365
aVI had originally used Quickbooks when I ran Windows and attempted to use GnuCash when I switched to Ubuntu but, to be honest, I didn't need that level of power
p1366
aVSince I'm really only entering data from statements into a double-entry system, I wrote macros to import the data from the bank files and also to create a balance sheet, P&L; and detailed transaction reports more than adequate for the accountant at the end of the year
p1367
aVIt does everything I need to do except track the state of individual investments but that's not required for accounting purposes - I track that for my own purposes in another spreadsheet
p1368
aVBoth my banks allow me to download QIF files for my transactions and I have macros to import that
p1369
aVI'm pretty well done with specialized software for accounting, I'd rather have the control than wait around for the features I need to be added to GnuCash
p1370
aVDon't get me wrong, it's a good app, but my wife (I'm sure she's right because (1) she's a CA and most importantly (2) she's my wife :-) says it has some annoying limitations
p1371
as(dp1372
g16
V14860
p1373
stp1374
a((dp1375
g2
(lp1376
VIt's a way of specifying an untyped variable so that you can basically assign any type to it
p1377
aVThe code
p1378
aVcreates the variable x then assigns the  variable to it
p1379
aVYou can assign an entirely different type to it as well as follows:
p1380
aVHowever, you still can't arbitrarily set or access properties; they have to exist in the underlying type (of either  or )
p1381
aVBoth types may have identically named properties which means you can access or set that property in  without having to concern yourself with the underlying type
p1382
as(dp1383
g16
V14860
p1384
stp1385
a((dp1386
g2
(lp1387
VKomodo 5 beta 1 was released in October 2008 and has initial support for Python 3 but I don't think I'd be using it for production code yet
p1388
aVGiven that Python 3 is still a very early release candidate, you may have some trouble finding mature support in IDEs
p1389
as(dp1390
g16
V14860
p1391
stp1392
a((dp1393
g2
(lp1394
VI don't think there's a way to guarantee it but this solution may provide an acceptable alternative
p1395
aVMight I suggest not setting a flag but instead modifying a value
p1396
aVHere's how it could work
p1397
aV1/ Start a value at zero
p1398
aV2/ Every 10ms interrupt, increase this value by 10 in the ISR (interrupt service routine)
p1399
aV3/ In the main loop, if the value is >= 500, subtract 500 from the value and do your 500ms activities
p1400
aVYou will have to be careful to watch for race conditions between the timer and main program in modifying the value
p1401
aVThis has the advantage that the function runs as close as possible to the 500ms boundaries regardless of latency or duration
p1402
aVIf, for some reason, your function starts 20ms late in one iteration, the value will already be 520 so your function will then set it to 20, meaning it will only wait 480ms before the next iteration
p1403
aVThat seems to me to be the best way to achieve what you want
p1404
aVI haven't touched the 8051 for many years (assuming that's what C51 is targeting which seems a safe bet given your description) but it may have an instruction which will subtract 50 without an interrupt being possible
p1405
aVHowever, I seem to remember the architecture was pretty simple so you may have to disable or delay interrupts while it does the load/modify/store operation
p1406
as(dp1407
g16
V14860
p1408
stp1409
a((dp1410
g2
(lp1411
VI would say all of them trace their roots back to BCPL
p1412
aVWe used BCPL to do operating systems programming for the 6809 processor two decades ago and it had a  function which took arguments such as  (equivalent to C's )
p1413
aVC was based on a cut-down version of BCPL and inherited a similar mechanism for formatting output and I'm pretty certain all other instances picked it up from C after that
p1414
aVI could be wrong, it won't be the first or last time, but I'm pretty confident that's right, given what I know about the BCPL language and its origins
p1415
as(dp1416
g16
V14860
p1417
stp1418
a((dp1419
g2
(lp1420
VShort of changing and recompiling the source code (which is possible with open source), changing the base language is not really possible
p1421
aVEven if you do recompile the source, it wouldn't be python, just your hacked-up changed version which you need to be very careful not to introduce bugs into
p1422
aVHowever, I'm not sure why you'd want to
p1423
aVPython's object-oriented features makes it quite simple to achieve similar results with the language as it stands
p1424
as(dp1425
g16
V14860
p1426
stp1427
a((dp1428
g2
(lp1429
VDeadlocks can be avoided if you follow a simple rule: have all threads claim and release their locks in the same order
p1430
aVIn this way, you never get into a situation where a deadlock can occur
p1431
aVEven the dining philosophers problem can be seen as a violation of this rule as it uses relative concepts of left and right spoon which result in different threads using different allocation orders of the spoons
p1432
aVIn my opinion, prevention is better than cure
p1433
aVThis is one of the two guidelines I like to follow to ensure threads work properly
p1434
aVThe other is ensuring each thread is solely responsible for its own execution as it's the only one fully aware of what it's doing at any point in time
p1435
aVSo that means no  calls, use a global flag (or message queue or something like that) to tell another thread you want action taken
p1436
aVThen let that thread do the actual work
p1437
as(dp1438
g16
V14860
p1439
stp1440
a((dp1441
g2
(lp1442
VIt is typical for indexes to sacrifice insert speed for access speed
p1443
aVYou can find that out from a database table (and I've seen these in the wild) that indexes every single column
p1444
aVThere's nothing inherently wrong with that if the number of updates is small compared to the number of queries
p1445
aVHowever, given that:
p1446
aV1/ You seem to be concerned that your writes slow down to 5/ms (that's still 5000/second),
p1447
aV2/ You're only writing a few integers per record; and
p1448
aV3/ You're queries are only based on time queries,
p1449
aVyou may want to consider bypassing a regular database and rolling your own sort-of-database (my thoughts are that you're collecting real-time data such as device readings)
p1450
aVIf you're only ever writing sequentially-timed data, you can just use a flat file and periodically write the 'index' information separately (say at the start of every minute)
p1451
aVThis will greatly speed up your writes but still allow a relatively efficient read process - worst case is you'll have to find the start of the relevant period and do a scan from there
p1452
aVThis of course depends on my assumption of your storage being correct:
p1453
aV1/ You're writing records sequentially based on time
p1454
aV2/ You only need to query on time ranges
p1455
as(dp1456
g16
V14860
p1457
stp1458
a((dp1459
g2
(lp1460
VThirty fields is not too many - you just have to make sure your data is properly normalized (for which there are plenty of guides on the web)
p1461
aVBased on your edit where you specify that many columns will be option-type fields which may be added or deleted over time, I would suggest the following is a better idea
p1462
aVThen you can tie all your options to the base record
p1463
aVThis will mean you won't have to be adding and deleting columns to tables all the time ly normalized way to achieve what you want
p1464
as(dp1465
g16
V14860
p1466
stp1467
a((dp1468
g2
(lp1469
VBack when I was at high school (many moons ago), I wrote code to intercept the Apple II CTRL-D DOS handler, the one that you used with the likes of:
p1470
aVto do your DOS wizardry
p1471
aVWe added all sorts of commands such as text output to the graphics screens, fast graphics manipulation, sprite manipulation, music playback in the background and so on
p1472
aVThen Beagle Bros Software (I think that was their name from memory) came out with a similar product several months later and my dream was over
p1473
aVWho knows, I could have been the next Woz (if only I'd had an equivalent Jobs to do the marketing)
p1474
aVOh well, c'est la vie
p1475
aVWas it worth it
p1476
aVYes, the Apple II first piqued my interest in computers and caused me to choose a career path that's kept me gainfully employed (and happy) for more than 25 years
p1477
as(dp1478
g16
V14860
p1479
stp1480
a((dp1481
g2
(lp1482
VIt's because you're returning zero when you reach a leaf node
p1483
aVYou should be returning the size stored in that leaf node
p1484
aVIn addition, if your non-leaf nodes also have a size, you'll need to process them as well thus:
p1485
aVIf your non-leaf nodes don't have size, use:
p1486
aVA more elegant version of the first one is:
p1487
as(dp1488
g16
V14860
p1489
stp1490
a((dp1491
g2
(lp1492
VThis will do the trick:
p1493
aVor, in function form (and stripping off the trailing "L"):
p1494
aVor, a variant that always returns fixed size (there may well be a better way to do this):
p1495
aVOr, avoiding the hex() altogether, thanks to Ignacio and bobince:
p1496
as(dp1497
g16
V14860
p1498
stp1499
a((dp1500
g2
(lp1501
VFree (beer-free, not necessarily speech-free) C compilers for Windows include (from memory so there may be others):
p1502
aVMinGW (Minimalist GNU for Windows)
p1503
aVMSYS
p1504
aVCygwin
p1505
aVEclipse CDT (which uses GNU under the covers I think)
p1506
aVBorland C++ (from their BDN museum site)
p1507
aVVisual C++ Express
p1508
as(dp1509
g16
V14860
p1510
stp1511
a((dp1512
g2
(lp1513
VIf you want it to randomly run, others have already provided that solution
p1514
aVIf you want a more deterministic behavior (it must run exactly every second time), you will need to store state between executions
p1515
aVYou can save the state in either the registry or on the file system by (for example) attempting to read an integer from a file (set it to zero if the file's not there), add 1 and write it back to the same file
p1516
aVIf the number written back was even, run your function otherwise exit
p1517
aVThat way, you'll alternate between execute and don't-execute
p1518
as(dp1519
g16
V14860
p1520
stp1521
a((dp1522
g2
(lp1523
VIf you're using a make program, you should be able to munge the filename beforehand and pass it as a macro to gcc to be used in your program
p1524
aVIn your makefile, change the line:
p1525
aVto:
p1526
aVThis will allow you to use  in your code instead of
p1527
aVThe use of basename of the source file ($<) means you can use it in generalized rules such as "
p1528
aVc
p1529
aVo"
p1530
aVThe following code illustrates how it works
p1531
aVFile makefile:
p1532
aVFile src/main
p1533
aVc:
p1534
aVRun from the shell:
p1535
aVNote the "file =" line which contains only the basename of the file, not the dirname
p1536
as(dp1537
g16
V14860
p1538
stp1539
a((dp1540
g2
(lp1541
VInside C strings (and quite a few other languages that use the same escaping rules),  should be  since it's the escape character
p1542
aVIt allows you to enter, in normal text, non-printable characters such as:
p1543
aVthe tab character
p1544
aVthe carriage-return character
p1545
aVthe newline character
p1546
aVothers which I won't cover in detail
p1547
aVSince  is used as the escape character, we need a way to put an actual  into a string
p1548
aVThis is done with the sequence
p1549
aVYour line should therefore be:
p1550
aVThis can sometimes lead to obscure errors with commands like:
p1551
aVwhere the  is actually the  character and the file that you're trying to open is:
p1552
aVc:TABext
p1553
aVdat
p1554
as(dp1555
g16
V14860
p1556
stp1557
a((dp1558
g2
(lp1559
VLDAP is the Lightweight Directory Access Protocol
p1560
aVBasically, it's a protocol used to access data from a database (or other source) and it's mostly suited for large numbers of queries and minimal updates (the sort of thing you would use for login information for example)
p1561
aVLDAP doesn't itself provide a database, just a means to query data in the database
p1562
as(dp1563
g16
V14860
p1564
stp1565
a((dp1566
g2
(lp1567
VTry the following, it's vendor-neutral:
p1568
aVAfter having our local DB2 guru look at this, he concurs: none of the solutions presented to date (including this one) can avoid a full table scan (of the table if timestamp is not indexed, or of the indexotherwise)
p1569
aVThey all scan every record in the table exactly once
p1570
aVAll the CASE/IF/NVL2() solutions do a null-to-string conversion for each row, introducing unnecessary load on the DBMS
p1571
aVThis solution does not have that problem
p1572
as(dp1573
g16
V14860
p1574
stp1575
a((dp1576
g2
(lp1577
VActually, if you read the question, it states booked hotel rooms
p1578
aVThis is quite easy to do as follows:
p1579
aVThat way, you can enforce a booked room having at least one guest while the OtherGuests is a 0-or-more relationship
p1580
aVYou can't create a booked room without a guest and you can't add other guests without the booked room
p1581
aVIt's the same sort of logic you follow if you want an n-to-n relationship, which should be normalized to a separate table containing a 1-to-n and an n-to-1 with the two tables
p1582
as(dp1583
g16
V14860
p1584
stp1585
a((dp1586
g2
(lp1587
VI see profiling as performance measurement, and you don't have to profile every piece of code running, it's sometimes better to target specific areas
p1588
aVLogging is storing information for later use, information which may relate to profiling but not necessarily
p1589
aVIt may just be to log what happened
p1590
aVAll the profiling stuff I've ever used basically allows you to store a start time and end time for a 'transaction' and later manipulate the data to see what's taking the most time
p1591
as(dp1592
g16
V14860
p1593
stp1594
a((dp1595
g2
(lp1596
VCopied from a duplicate for completeness (Buzzer):
p1597
aVClass and method attributes in
p1598
aVNET are a form of aspect-oriented programming
p1599
aVYou decorate your classes/methods with attributes
p1600
aVBehind the scenes this adds code to your class/method that performs the particular functions of the attribute
p1601
aVFor example, marking a class serializable allows it to be serialized automatically for storage or transmission to another system
p1602
aVOther attributes might mark certain properties as non-serializable and these would be automatically omitted from the serialized object
p1603
aVSerialization is an aspect, implemented by other code in the system, and applied to your class by the application of a "configuration" attribute (decoration)
p1604
as(dp1605
g16
V14860
p1606
stp1607
a((dp1608
g2
(lp1609
VTotal control over output with spacing and escape characters
p1610
aV:
p1611
as(dp1612
g16
V14860
p1613
stp1614
a((dp1615
g2
(lp1616
VMany SQL parsers (expecially DB2/z, which I use) are smarter than some of the regular parsers which sometimes separate lexical and semantic analysis totally (this separation is mostly a good thing)
p1617
aVThe SQL parsers can figure out based on context whether a keyword is valid or should be treated as an identifier
p1618
aVHence you can get columns called ORDER or GROUP or DATE (that's a particularly common one)
p1619
aVIt does annoy me with some of the syntax coloring editors when they brand an identifier with the keyword color
p1620
aVTheir parsers aren't as 'smart' as the ones in DB2
p1621
as(dp1622
g16
V14860
p1623
stp1624
a((dp1625
g2
(lp1626
VOne possibility comes immediately to mind
p1627
aVYou could write all the commands to a script then run it with:
p1628
aVor, now that I've noticed you're running on Fedora:
p1629
as(dp1630
g16
V14860
p1631
stp1632
a((dp1633
g2
(lp1634
VWe recently did a time management course, which was mostly a waste of our time :-) but one of the ideas they presented was to pair undesirable tasks with desirable ones
p1635
aVThat means, make the desirable task a reward for completing the undesirable one
p1636
aVOf course, if undesirable tasks are all you have, you may want to think of something else, like changing jobs
p1637
as(dp1638
g16
V14860
p1639
stp1640
a((dp1641
g2
(lp1642
V is valid but, based on your error message, you probably have to explicitly cast the argument as follows:
p1643
aVThat's because the  function is expecting the  type
p1644
aVWhile  can be implicitly cast to any other pointer, that is not so for the double pointer - you need to explicitly cast it
p1645
as(dp1646
g16
V14860
p1647
stp1648
a((dp1649
g2
(lp1650
VThe encoder (as opposed to the decoder) will know the length of the input data and be able to figure out whether to output nothing, "=" or "==" at the end
p1651
aVYour question assumes there is no connect between the two stages you mention but that is not true in the implementations I've seen
p1652
aVThe implementation I had to write didn't do the first stage at all since it had routines to extract 6-bit groups from the input stream one at a time, incrementing byteCount each time
p1653
aVThen at the end, the expression "" was used to decide which string to append to the output stream
p1654
as(dp1655
g16
V14860
p1656
stp1657
a((dp1658
g2
(lp1659
VIt looks okay up to a point but I wonder about a couple of things:
p1660
aV1/ Why do you output 0x20 twice to set the CGRAM address in the 4-bit section
p1661
aVSurely this is needed only once
p1662
aV2/ The other two writes (0x00 and 0xf0), I don't understand from the docs
p1663
aVCan you fix up the comments to indicate what they're meant to be doing
p1664
aV3/ Once you switch to 4-bit mode, do you need to redo the other instructions (the increment and return home)
p1665
aVIt may be that switching modes resets all the data
p1666
aV4/ One thing I did notice is that the busy flag indicates the system cannot yet receive another instruction
p1667
aVIt may be that you're passing them in too fast
p1668
aVWhat happens when you increase the delays from 10 to 100
p1669
aVJust some things to try - let us know the outcomes
p1670
aV=====
p1671
aVRESPONSE:
p1672
aVThanks for the reply
p1673
aV1 and 2) I am writing these values based on page 29 of the datasheet (www
p1674
aVcloverlcd
p1675
aVcom/pdf/S6A0069
p1676
aVpdf)
p1677
aV3) You are right, I do need to do the other instructions as well but for now, I am just trying to get the cursor to blink in 4 bit mode (so the first two instructions are sufficient)
p1678
aV4) I just tried the 100 delays, it didn't work
p1679
aVSorry for the bad comments, I'll try to post better code next time
p1680
aVThanks
p1681
aV=====
p1682
aVEDIT:
p1683
aVI see how it works now
p1684
aVIn 4-bit mode, it only uses d7,d6,d5,d4 but every instruction is 2 writes (to make a 8-bit instruction)
p1685
aVSo it uses a trick to write the instruction 20 (in 8-bit mode) or 22 (2020 in 4-bit mode) both of which set the mode to 4-bit
p1686
aVVery clever, Samsung, I'm impressed
p1687
aVTry to go through the entire init sequence
p1688
aVIt may be that the display doesn't fully start until initialization is complete
p1689
aVSo you need to output (hex) 20,20,80,00,f0,00,10,00,60,00,20
p1690
aVThe bold ones are the ones you need to add
p1691
aVAlso, I need to ask two more questions (please reply as a comment to this answer rather than posting another answer)
p1692
aV1/ Does COMPortC() actually check the busy signal before outputting data
p1693
aV2/ The delay of 10, what unit is it in, millisecs, microsecs, etc
p1694
as(dp1695
g16
V14860
p1696
stp1697
a((dp1698
g2
(lp1699
VThat page seems fairly straightforward
p1700
aVThey tell you how to make the Thrift compiler but state, in no uncertain terms, that the metacode from it won't compile under Windows
p1701
aVSo, short of getting someone to figure out how to compile it under Windows, you are out of luck
p1702
aVTo be honest, I can't see how that would be that big a deal, especially since Cygwin pretty well provides everything you need for compiling UNIX sources under Windows
p1703
aVI can only suggest they must be using some fairly esoteric UNIX functionality
p1704
aVThere are a number of approaches to take from here:
p1705
aV1/ Since it's entered the Apache Incubator, there may be plans to support Windows (although I can't find any)
p1706
aVIf it's truly open source and a need is identified, it's likely someone will start porting the runtimes to Windows
p1707
aVYou may not be able to wait
p1708
aV2/ Why the world needed another RPC mechanism is beyond me
p1709
aVBut you could use one of the already-existing RPC mechanisms (SUN/ONC) or your own RPC protocol to communicate from you Windows box to a UNIX box, that then forwards the RPC via Thrift
p1710
aVBut this is a kludge and I wouldn't do it out of principal
p1711
aVOther than that, not much else I can suggest, sorry
p1712
aVBest of luck
p1713
as(dp1714
g16
V14860
p1715
stp1716
a((dp1717
g2
(lp1718
VFirst things first:
p1719
aVExamine the file both before and after the open() call
p1720
aVIf on Linux, you can use the code:
p1721
aVThen, after you call shmat(), check the return values and size thus:
p1722
aVThat should be enough to work out the problem
p1723
as(dp1724
g16
V14860
p1725
stp1726
a((dp1727
g2
(lp1728
VI wouldn't personally follow rigid rules
p1729
aVCertainly during the development stages, you want to be able to quickly change your queries so I would inline them
p1730
aVLater on, I would move to stored procedures because they offer the following two advantages
p1731
aVI'm sure there are more but these two win me over
p1732
aV1/ Stored procedures group the data and the code for manipulating/extracting that data at one point
p1733
aVThis makes the life of your DBA a lot easier (assuming your app is sizable enough to warrant a DBA) since they can optimize based on known factors
p1734
aVOne of the big bugbears of a DBA is ad-hoc queries (especially by clowns who don't know what a full table scan is)
p1735
aVDBAs prefer to have nice consistent queries that they can tune the database to
p1736
aV2/ Stored procedures can contain logic which is best left in the database
p1737
aVI've seen stored procs in DB2/z with many dozens of lines but all the client has to code is a single line like "give me that list"
p1738
aVBecause the logic for "that list" is stored in the database, the DBAs can modify how it's stored and extracted at will without compromising or changing the client code
p1739
aVThis is similar to encapsulation that made object-orientd languages 'cleaner' than what came before
p1740
as(dp1741
g16
V14860
p1742
stp1743
a((dp1744
g2
(lp1745
VHere's an example of a union from my own codebase (from memory and paraphrased so it may not be exact)
p1746
aVIt was used to store language elements in an interpreter I built
p1747
aVFor example, the following code:
p1748
aVconsists of the following language elements:
p1749
aVsymbol[set]
p1750
aVvariable[a]
p1751
aVsymbol[to]
p1752
aVvariable[b]
p1753
aVsymbol[times]
p1754
aVconstant[7]
p1755
aVsymbol[
p1756
aVLanguage elements were defines as '' values thus:
p1757
aVand the following structure was used to store each element:
p1758
aVthen the size of each element was the size of the maximum union (4 bytes for the type and 4 bytes for the union, though those are typical values, the actual sizes cepend on the implementation)
p1759
aVIn order to create a "set" element, you would use:
p1760
aVIn order to create a "variable[b]" element, you would use:
p1761
aVIn order to create a "constant[7]" element, you would use:
p1762
aVand you could easily expand it to include floats () or rationals () and other types
p1763
aVThe basic premise is that the  and  are not contiguous in memory, they actually overlap, so it's a way of getting a different view on the same block of memory, illustrated here, where the structure is based at memory location  and integers and pointers are both 4 bytes:
p1764
aVIf it were just in a structure, it would look like this:
p1765
as(dp1766
g16
V14860
p1767
stp1768
a((dp1769
g2
(lp1770
VYou seem to be missing the whole point of C++ (C with classes) :-)
p1771
aVThis is the sort of use that's crying out for a class to implement it
p1772
aVYou could just use STL or other 3rd party class library which I'm sure would have the data structure you're looking for but, if you need to roll your own, just create a class with the following properties
p1773
aVconstructor which, given n, will just create a new n*n array of char (e
p1774
aVg
p1775
aV, charray)
p1776
aVmember functions which get and set values based on x
p1777
aVy which simply refer to charray[x*n+y];
p1778
aVdestructor which delete[]'s the array
p1779
as(dp1780
g16
V14860
p1781
stp1782
a((dp1783
g2
(lp1784
VThis not only applies to Java but to threaded programming in general
p1785
aVI find myself avoiding most of the concurrency and latency problems just by following these guidelines:
p1786
aV1/ Let each thread run its own lifetime (i
p1787
ag75
aV, decide when to die)
p1788
aVIt can be prompted from outside (say a flag variable) but it in entirely responsible
p1789
aV2/ Have all threads allocate and free their resources in the same order - this guarantees that deadlock will not happen
p1790
aV3/ Lock resources for the shortest time possible
p1791
aV4/ Pass responsibility for data with the data itself - once you notify a thread that the data is its to process, leave it alone until the responsibility is given back to you
p1792
as(dp1793
g16
V14860
p1794
stp1795
a((dp1796
g2
(lp1797
VOne approach: if you can guarantee unrelated applications won't use the files in a conflicting manner, just create a pool of files of varying sizes in a specific directory, then create links to them when needed
p1798
aVFor example, have a pool of files called:
p1799
aV/home/bigfiles/512M-A
p1800
aV/home/bigfiles/512M-B
p1801
aV/home/bigfiles/1024M-A
p1802
aV/home/bigfiles/1024M-B
p1803
aVThen, if you have an application that needs a 1G file called /home/oracle/logfile, execute a ""
p1804
aVIf it's on a separate filesystem, you will have to use a symbolic link
p1805
aVThe A/B/etc files can be used to ensure there's no conflicting use between unrelated applications
p1806
aVThe link operation is about as fast as you can get
p1807
as(dp1808
g16
V14860
p1809
stp1810
a((dp1811
g2
(lp1812
VIf you can, change the order of the parameters passed to your shell script as follows:
p1813
aVThat would make your life a lot easier since the variable part moves to the end of the line
p1814
aVThen, the following script will do what you want:
p1815
as(dp1816
g16
V14860
p1817
stp1818
a((dp1819
g2
(lp1820
VAs part of our continuous integration, we run our nightly 'build' of the database queries
p1821
aVThis involves a suite of DB calls which are updated regularly from the real calls in the code as well as any expected ad-hoc queries
p1822
aVThese calls are timed to ensure that:
p1823
aV1/ They don't take too long
p1824
aV2/ They don't differ wildly (in a bad way) from the previous night
p1825
aVIn this way, we catch errant queries or DB changes quickly
p1826
as(dp1827
g16
V14860
p1828
stp1829
a((dp1830
g2
(lp1831
VDPRTY is a very old JCL keyword that harks back to the days of MVS/ESA
p1832
aVIt was the dispatch priority which dictated to JES what priority individual steps should be given in a job
p1833
aVOn all versions of z/OS I have access to (all the supported ones), it has no effect
p1834
aVThis is because the WLM (workload manager) goal mode is the only mode used in z/OS 1
p1835
aV3 and beyond
p1836
aVI believe this keyword was deprecated in MVS/ESA V5R1M0 (see INFO APAR II09592)
p1837
aVYou can safely ignore it, since JES itself ignores it - all your job steps will be executed in a top-down manner in your JCL job card, with the dispatch priority given by the IEAIPSxx PARMLIB member
p1838
as(dp1839
g16
V14860
p1840
stp1841
a((dp1842
g2
(lp1843
VMost SQL databases have a 'table' for this purpose
p1844
aVIn DB2, it's:
p1845
aVwhile Oracle has, from memory,
p1846
aVIt'll depend on the database at the back end
p1847
as(dp1848
g16
V14860
p1849
stp1850
a((dp1851
g2
(lp1852
VYou should be looking at regular expressions as high-end power tools (and I mean power tools in the construction industry sense)
p1853
aVIf you're building a little work table for your shed, you don't pull out the nail gun, chainsaw and industrial router
p1854
aVYou use a saw, some nails and a hammer
p1855
aVSimilarly, you don't build a 30-floor building without a crane in there somewhere
p1856
aVThe idea is to use the right tool for the job AND the right tool for your skill level
p1857
aVIf you have to cut down a tree, make sure you know all about kickback before you start up the chainsaw
p1858
aVIf you don't, then use a hand saw instead and save yourself a trip to the hospital to re-attach your severed limb
p1859
aVI use regular expressions the way I use my chainsaw - very carefully
p1860
aVIf you're uncomfortable with the tool, don't use it
p1861
aVOnce you learn how to use it properly, you'll find it a lot easier to get things done faster
p1862
as(dp1863
g16
V14860
p1864
stp1865
a((dp1866
g2
(lp1867
VIf you're using for-loops, you'd better know what they compile to and how long those instructions take at your given clock speed, and ensure the CPU runs your instructions and nothing else (this can be done in embedded systems but it's tricky since it disallows interrupts)
p1868
aVOtherwise, you won't be able to tell how long it's really going to take
p1869
aVEarly PC games had this problem - they were built for a 4
p1870
aV7MHz PC and, when the faster computers came along, they were unplayable
p1871
aVThe best way a 'sleep' can work is for the CPU to know what time it is at any given point
p1872
aVNot necessarily the actual time (7:15 am) but at least the relative time (8612 seconds since some point in time)
p1873
aVThat way it can apply a delta to the current time and wait in a loop until the current+delta is reached
p1874
aVAnything that relies on number CPU cycles is inherently unreliable as the CPU may go off to another task and leave your loop hanging
p1875
aVLet's say you have a memory-mapped 16-bit I/O port which the CPU increments once a second
p1876
aVLet's also assume it's at memory location 0x33 in your embedded system, where ints are also 16 bits
p1877
aVA function called sleep then becomes something like:
p1878
aVYou'll have to ensure that peek() returns the memory contents every time (so optimizing compilers don't muck up the logic) and that your while statement runs more than once per second so you don't miss the target, but these are operational issues that don't affect the concept I'm presenting
p1879
as(dp1880
g16
V14860
p1881
stp1882
a((dp1883
g2
(lp1884
VTry:
p1885
aVBreaking it down:
p1886
aVThis specifies the thousands section and basically restrains it to between  and
p1887
aVIt's a relatively simple:
p1888
aVSlightly more complex, this is for the hundreds section and covers all the possibilities:
p1889
aVSame rules as previous section but for the tens place:
p1890
aVThis is the units section, handling  through  and also similar to the previous two sections (Roman numerals, despite their seeming weirdness, follow some logical rules once you figure out what they are):
p1891
as(dp1892
g16
V14860
p1893
stp1894
a((dp1895
g2
(lp1896
VTwo possibilities
p1897
aVGet yourself a free copy of VMWare player and install Windows and MS Office within it
p1898
aVThen load up the document and let the macros run
p1899
aVThe other possibility
p1900
aVI think you can load the doc into MS Word and automatically disable macros, but the macro is still there so you can view it with Word itself
p1901
as(dp1902
g16
V14860
p1903
stp1904
a((dp1905
g2
(lp1906
VI would suggest that, in almost any client/server set-up, it's a bad idea to leave connections open when they're not needed
p1907
aVI'm thinking specifically about DB2/z connections but it applies equally to all servers (database and otherwise)
p1908
aVThese connections consume resources at the server that could be best utilized elsewhere
p1909
aVIf you were to hold connections open in a corporate environment where tens of thousand of clients connect to the database, you would probably even bring a mainframe to its knees
p1910
aVI'm all for the idea of connection pooling but not so much for the idea of trying to hold individual sessions open for ever
p1911
aVMy advice would be as follows:
p1912
aV1/ Have three sorts of connections in your connection pool:
p1913
aVclosed (so not actually in your pool)
p1914
aVready, meaning open but not in use by a client
p1915
aVactive, meaning in use by a client
p1916
aV2/ Have your connection pooling maintain a small number of ready connections, minimum of N and maximum of M
p1917
aVN can be adjusted depending on the peak speed at which your clients request connections
p1918
aVIf the number of ready connections ever drops to zero, you need a bigger N
p1919
aV3/ When a client wants a connection, give them one of the ready ones (making it active), then immediately open a new one if there's now less than N ready (but don't make the client wait for this to complete, or you'll lose the advantage of pooling)
p1920
aVThis ensures there will always be at least N ready connections
p1921
aVIf none are ready when the client wants one, they will have to wait around while you create a new one
p1922
aV4/ When the client finishes with an active connection, return it to the ready state if there's less than M ready connections
p1923
aVOtherwise close it
p1924
aVThis prevents you from having more than M ready connections
p1925
aV5/ Periodically recycle the ready connections to prevent stale connections
p1926
aVIf there's more than N ready connections, just close the oldest connection
p1927
aVOtherwise close it and re-open another
p1928
aVThis has the advantage of having enough ready AND youthful connections available in your connection pool without overloading the server
p1929
as(dp1930
g16
V14860
p1931
stp1932
a((dp1933
g2
(lp1934
VHere is the rationale I used for a recent implementation
p1935
aVHave two sorts of connections in your connection pool
p1936
aVThe first is ready, meaning open but not in use by a client
p1937
aVThe second is active, meaning in use by a client
p1938
aVHave your connection pooling maintain a small number of ready connections, minimum of N and maximum of M
p1939
aVN can be adjusted depending on the peak speed at which your clients request connections
p1940
aVIf the number of ready connections ever drops to zero, you need a bigger N
p1941
aVIf the number is consistently high (say above 10), you need a lower N
p1942
aVWhen a client wants a connection, give them one of the ready ones (making it active), then immediately open a new one if there's now less than N ready (but don't make the client wait for this to complete, or you'll lose the advantage of pooling)
p1943
aVThis ensures there will always be at least N ready connections
p1944
aVIf none are ready when the client wants one, they will have to wait around while you create a new one
p1945
aVWhen the client finishes with an active connection, return it to the ready state if there's less than M ready connections
p1946
aVOtherwise close it
p1947
aVThis prevents you from having more than M ready connections
p1948
aVPeriodically recycle the ready connections to prevent stale connections
p1949
aVIf there's more than N ready connections, just close the oldest connection
p1950
aVOtherwise close it and re-open another
p1951
aVThis has the advantage of having enough ready and youthful connections available in your connection pool without overloading the server
p1952
as(dp1953
g16
V14860
p1954
stp1955
a((dp1956
g2
(lp1957
VSince you don't specify what regex engine you're using, I'll assume a baseline, in which case "" would be sufficient
p1958
aVIf you also want to catch the string at the start and end of the line, you'll also have to use "" and ""
p1959
as(dp1960
g16
V14860
p1961
stp1962
a((dp1963
g2
(lp1964
V"Zlib shrinks it by a factor of about 4x
p1965
aVmeans that a file of 100K now takes up negative 300K; that's pretty impressive by any definition :-)
p1966
aVI assume you mean it shrinks it by 75%, i
p1967
ag75
aV, to 1/4 its original size
p1968
aVOne possibility for an optimized compression is as follows (it assumes a 32-bit integer and at most 3 bits changing from element to element)
p1969
aVOutput the first integer (32 bits)
p1970
aVOutput the number of bit changes (n=0-3, 2 bits)
p1971
aVOutput n bit specifiers (0-31, 5 bits each)
p1972
aVWorst case for this compression is 3 bit changes in every integer (2+5+5+5 bits) which will tend towards 17/32 of original size (46
p1973
aV875% compression)
p1974
aVI say "tends towards" since the first integer is always 32 bits but, for any decent sized array, that first integer would be negligable
p1975
aVBest case is a file of identical integers (no bit changes for every integer, just the 2 zero bits) - this will tend towards 2/32 of original size (93
p1976
aV75% compression)
p1977
aVWhere you average 2 bits different per consecutive integer (as you say is your common case), you'll get 2+5+5 bits per integer which will tend towards 12/32 or 62
p1978
aV5% compression
p1979
aVYour break-even point (if zlib gives 75% compression) is 8 bits per integer which would be
p1980
aVsingle-bit changes (2+5 = 7 bits) : 80% of the transitions
p1981
aVdouble-bit changes (2+5+5 = 12 bits) : 20% of the transitions
p1982
aVThis means your average would have to be 1
p1983
aV2 bit changes per integer to make this worthwhile
p1984
aVOne thing I would suggest looking at is 7zip - this has a very liberal licence and you can link it with your code (I think the source is available as well)
p1985
aVI notice (for my stuff anyway) it performs much better than WinZip on a Windows platform so it may also outperform zlib
p1986
as(dp1987
g16
V14860
p1988
stp1989
a((dp1990
g2
(lp1991
VYou just have to remember that the scale is 00 (no color effect) through FF (full color effect) and the three parts of the triplet are red, green and blue
p1992
aV000000 is black (i
p1993
ag75
aV, no color)  and FFFFFF is white (mixing all three primary colors)
p1994
aVThe hard bit is remembering the mixtures, which I use the following mnemonics for:
p1995
aVReally good yams: Red + Green = Yellow (potatoes are my favorite food)
p1996
aVReally bad prunes: Red + Blue = Purple (I really hate prunes)
p1997
aVGood/bad apples: Green + Blue = Aqua (I'm indifferent about apples)
p1998
aVObviously, you may have to come up with your own mnemonics if you food tastes differ from mine :-)
p1999
aVBut I find that's the easiest way for me
p2000
aVThen it's just a matter of varying the quantities to add a little more red or little less blue and so on
p2001
aVI generally only use values of 00, 40, 80, C0 and FF since that gives you a 125-color palette to choose from and I don't want an abundance of choices to slow me down
p2002
as(dp2003
g16
V14860
p2004
stp2005
a((dp2006
g2
(lp2007
VFor text processing of the sort you describe, either perl or python are ideal
p2008
aVYou can use associative arrays (arrays with a string index in this case) to store the email addresses in a list
p2009
aVUse the lowercased, un-whitespaced email address as a key and the real email address as the value
p2010
aVThen it's a matter of reading in and storing the first file, reading in and storing the second (which will overwrite email addresses with the same key), then reading in the third file and deleting entries from the list with that key
p2011
aVWhat you're then left with is the list you desire (A + B - C)
p2012
aVPseudo-code here:
p2013
as(dp2014
g16
V14860
p2015
stp2016
a((dp2017
g2
(lp2018
VThis can't be done with the normal printf format specifiers
p2019
aVThe closest you could get would be:
p2020
aVbut the "
p2021
aV6" is the total numeric width so
p2022
aVbreaks it
p2023
aVWhat you probably need to do is to  the number to a string buffer then manipulate the string to only have N characters past the decimal point
p2024
aVAssuming your number is in the variable num, the following function will remove all but the first  decimals, then strip off the trailing zeros (and decimal point if they were all zeros)
p2025
as(dp2026
g16
V14860
p2027
stp2028
a((dp2029
g2
(lp2030
VUse of indexes is not a part of the SQL standard, but rather an implementation detail of the particular DBMS
p2031
aVIdeally, it shouldn't affect it, since it doesn't affect the actual rows that are returned
p2032
aVBut I've seen queries on an unnamed DBMS that does change index use based on the SQL query order
p2033
as(dp2034
g16
V14860
p2035
stp2036
a((dp2037
g2
(lp2038
VIt should work in any compiler as the  is encountered first in the input stream
p2039
aVI tend to use  for this sort of stuff and change it to  to uncomment, shown here:
p2040
aVThen I don't have to worry about comment markers at all
p2041
as(dp2042
g16
V14860
p2043
stp2044
a((dp2045
g2
(lp2046
VIf you need to be able to selectively enable and disable the warnings at run-time, the compiler will not be able to optimize out the call
p2047
aVWhat you need is to rename your function to  and add a macro something like:
p2048
aVThis will prevent the evaluation of s at run-time unless you have warnings enabled
p2049
aVThe do-while stuff is a trick that allows it to be used anywhere in the code (naked statement, statement within a braced if-block, statement within an unbraced if-block, braced and unbraced while statements and so on)
p2050
as(dp2051
g16
V14860
p2052
stp2053
a((dp2054
g2
(lp2055
VIn boolean logic (v is OR, ' following the predicate is NOT):
p2056
aVWith permutations, there's a great many subexpressions you need to write
p2057
aVOf course, if this is a programming question, you could just convert the booleans to 0 or 1, add them all up and ensure the result is 2
p2058
as(dp2059
g16
V14860
p2060
stp2061
a((dp2062
g2
(lp2063
VMy first thought was that you're including it twice on the linker command but it appears to be complaining about having the same function in  and
p2064
aVSo it looks like you're including the  file into the  and  which is a bad idea at the best of times
p2065
aVYou should have a header file (e
p2066
ag1775
aV, ) that specifies everything contained in  and include that header file into the other two
p2067
as(dp2068
g16
V14860
p2069
stp2070
a((dp2071
g2
(lp2072
VThere are those that say there are no good editors for anything, other than emacs
p2073
aVI'm sure you'll find a few of them here (although I'm a vim fan)
p2074
aVThe vim macro language is a powerful one which can let you run external programs (including the one in the current edit buffer)
p2075
aVBut, if you're used to Notepad++, you'll probably find it as hard to move to vim as you would to emacs, so maybe your proposed solution is the best one
p2076
as(dp2077
g16
V14860
p2078
stp2079
a((dp2080
g2
(lp2081
VI would think it would generally be O(n) where n is the number of available memory blocks (since you have to scan the available memory blocks to find a suitable one)
p2082
aVHaving said that, I've seen optimizations that can make it faster, specifically maintaining multiple lists of available blocks depending on their size ranges (so blocks less than 1k are in one list, blocks from 1k to 10k are in another list and so on)
p2083
aVThis is still O(n) however, just with a smaller n
p2084
aVI'd be interested in seeing your source that there's a heap allocation that's unbounded (if, by that, you mean it could take forever)
p2085
as(dp2086
g16
V14860
p2087
stp2088
a((dp2089
g2
(lp2090
VNo, because it's allocated on the stack along with the local variables
p2091
aVIf you want memory that you can explicitly free, use one of the dynamic memory allocation functions
p2092
aVThere's no hybrid that allows you to explicitly free AND have it automatically free on function exit as well, at least not in the standard
p2093
as(dp2094
g16
V14860
p2095
stp2096
a((dp2097
g2
(lp2098
VKeep in mind that it may still be coming across the network as the MQ architecture may have many middle-ware queues
p2099
aVSimilarly, there's no requirement for a message to immediately get transmitted across a channel - the sender may batch up the messages and send them with a trigger
p2100
aVThe best way to ensure you log everything that arrives is to do this is with an interceptor queue
p2101
aVThis is the queue (let's call it A) that the channel writes to and, until this change, your application read from
p2102
aVYou then have a transfer process the reads from A, logs the message then writes it to the second queue (B)
p2103
aVThis second queue is what your application now reads from
p2104
as(dp2105
g16
V14860
p2106
stp2107
a((dp2108
g2
(lp2109
VBy judicious use of another tool freely available on Windows, the following two scripts do the job you want
p2110
aVFirst, GetPwd
p2111
aVcmd:
p2112
aVThen, GetPwd
p2113
aVvbs:
p2114
aVExplanation:
p2115
aVGetPwd
p2116
aVvbs simply uses the password object to input the password from the user and then print it to standard output (next paragraph will explain why that doesn't show up in the terminal)
p2117
aVGetPwd
p2118
aVcmd is a bit trickier (but command scripts usually are)
p2119
aVThe  command simply outputs the prompt with no trailing CR/LF - it's a sneaky way to emulate bash's
p2120
aVIt sets  to an empty string as a side effect and doesn't wait for input since it's taking its input from the nul: device
p2121
aVThe  statement is the trickiest bit
p2122
aVIt runs the vbscript with no Microsoft advertising (), so that the only line output is the password (from the vbscript
p2123
aVSetting the delimiters to nothing is required to capture input lines with spaces, otherwise you just get the first word
p2124
aVThe  sets  to be the actual password output from the vbscript
p2125
aVThen we echo a blank line (actually terminate the  line) and echo the password so you can verify it works:
p2126
aVThe scriptpw
p2127
aVdll is available with XP and 2K3 but not necessarily later versions
p2128
aVInstructions for Vista and presumably Win7 are below, give them a try:
p2129
aVTo mask the password, the script takes advantage of the ScriptPW COM object
p2130
aVScriptPW is loaded by default on Windows XP and Windows 2003
p2131
aVIf you\u2019re running Windows 2000 or Windows Vista, you will need to copy the  file from the  folder of an XP system, or Windows 2003 system to the  or  folder on your Windows 2000 or Vista system
p2132
aVOnce the DLL has been copied, you will need to register it by running the command:
p2133
aVTo successfully register the DLL on a Vista machine, you will need to open the command prompt as administrator
p2134
aVTo do this, click Start | All Programs | Accessories
p2135
aVThen right-click on the Command Prompt shortcut and select \u201cRun as administrator
p2136
aV\u201d Once at the command prompt as administrator, you\u2019ll be able to successfully run the  command to register the DLL
p2137
as(dp2138
g16
V14860
p2139
stp2140
a((dp2141
g2
(lp2142
VThe practice depends on the 'resolution' of what you're trying to select
p2143
aVI use classes when I want to change a whole swag of elements
p2144
aVIDs give me a much more fine-grained control which is sometimes necessary
p2145
as(dp2146
g16
V14860
p2147
stp2148
a((dp2149
g2
(lp2150
VIn a BST, all values descending on the left side of a node are less than (or equal to, see later) the node itself
p2151
aVSimilarly, all values descending on the right side of a node are greater than (or equal to) the nodes value
p2152
aVSome BSTs may choose to allow duplicate values, hence the "or equal to" qualifiers above
p2153
aVThe following example may clarify:
p2154
aVThis shows a BST that allows duplicates - you can see that to find a value, you start at the root node and go down the left or right subtree depending on whether your search value is less than or greater than the node value
p2155
aVThis can be done recursively with something like:
p2156
aVand calling it with:
p2157
aVDuplicates add a little complexity since you may need to keep searching once you've found your value for other nodes of the same value
p2158
as(dp2159
g16
V14860
p2160
stp2161
a((dp2162
g2
(lp2163
VSecure shell (ssh) will most likely ask for the username and password in the client software before ever attempting to contact the host, so it's using local conventions
p2164
aVTelnet will generally communicate with the telnetd daemon on the host (remote end) and the host will be handling I/O
p2165
aVThere's a good chance that your terminal program is configured correctly to talk to telnetd but, after logging in, a variety of scripts are run which can affect terminal settings (something like )
p2166
aVDepending on the UNIX system you're connecting to and the shell you're using, this may be a combination of /etc/profile, ~/
p2167
aVprofile, ~/
p2168
aVbashrc, ~/
p2169
aVkshrc and so on)
p2170
aVYour best bet is to find the last in the chain of profile-type files (probably ~/
p2171
aVprofile) and put a  in there, where X is the actual desired keystroke for your terminal program
p2172
aVAs an aside, the profile-type ones are run for a login shell only whilst the others tend to be run for any sub-shell created
p2173
as(dp2174
g16
V14860
p2175
stp2176
a((dp2177
g2
(lp2178
VWhile later versions of Windows have a  command, you can also do this with Windows XP by using the environment variable modifiers, as follows:
p2179
aVYou don't need any extra tools and it's not limited to  since you can substitute any environment variable (in the path format, of course) that you wish to use
p2180
aVAnd, if you want one that can handle all the extensions in PATHEXT (as Windows itself does), this one does the trick:
p2181
aVIt actually returns all possibilities but you can tweak it quite easily for specific search rules
p2182
as(dp2183
g16
V14860
p2184
stp2185
a((dp2186
g2
(lp2187
VIt was changed between 3
p2188
aV1 and 3
p2189
aV2:
p2190
aVThis is a terse description of the new features added to bash-3
p2191
aV2 since the release of bash-3
p2192
aV1
p2193
aVQuoting the string argument to the [[ command's  =~ operator now forces string matching, as with the other pattern-matching operators
p2194
aVSo use it without the quotes thus:
p2195
as(dp2196
g16
V14860
p2197
stp2198
a((dp2199
g2
(lp2200
VOne possible reason is because you are declaring a virtual function without defining it
p2201
aVWhen you declare it without defining it in the same compilation unit, you're indicating that it's defined somewhere else - this means the linker phase will try to find it in one of the other compilation units (or libraries)
p2202
aVAn example of defining the virtual function is:
p2203
aVIn this case, you are attaching a definition to the declaration, which means the linker doesn't need to resolve it later
p2204
aVThe line
p2205
aVdeclares  without defining it and will cause the error message you asked about
p2206
aVIt's very similar to the code:
p2207
aVwhich states that the integer  is declared in another compilation unit which must be resolved at link time (otherwise  can't be set to it's address)
p2208
as(dp2209
g16
V14860
p2210
stp2211
a((dp2212
g2
(lp2213
VIt looks like your link phase is trying to create an executable from just crp
p2214
aVobj, NOT crp
p2215
aVobj and c
p2216
aVobj
p2217
aVHow are you compling it
p2218
aVIt should be something like (in the case of Borland, as mentioned in edit):
p2219
aVYou also don't need the include line within c
p2220
aVh, the only thing stopping an infinite include loop there is the include guard
p2221
as(dp2222
g16
V14860
p2223
stp2224
a((dp2225
g2
(lp2226
VIf you mean atomic across both operations, I don't believe so
p2227
aVThe closest would be:
p2228
aVbut that would still have a small window where alpha didn't exist
p2229
aVTo minimize the likelihood of anything trying to use alpha while it's not there you could (if you have the authority):
p2230
aVwhich will crank up your process priority substantially while the  operations are happening
p2231
aVIf, as you say in your addendum, there's only one place that checks alpha and it errors if it's not there, you could change that code to not error immediately, but try again in a short time (easily sub-second for two  operations) - these retries should alleviate any problem unless you're replacing alpha very frequently
p2232
as(dp2233
g16
V14860
p2234
stp2235
a((dp2236
g2
(lp2237
VTry this
p2238
aVIt achieves what you appear to be trying to do:
p2239
aVThe reason you're having troubles is because you're trying to modify string literals which, in C, is undefined behaviur
p2240
as(dp2241
g16
V14860
p2242
stp2243
a((dp2244
g2
(lp2245
VThe C++ standard states:
p2246
aVAn implementation shall not predefine the main function
p2247
aVThis function shall not be overloaded
p2248
aVIt shall have a return type of type , but otherwise its type is implementation-defined
p2249
aVAll implementations shall allow both of the following definitions of main:
p2250
aVIf control reaches the end of main without encountering a  statement, the effect is that of executing
p2251
as(dp2252
g16
V14860
p2253
stp2254
a((dp2255
g2
(lp2256
VFor my invoices, they always consist of the last digit of the year followed by a 4-digit invoice number starting at 4096, so you would get a value like 85021
p2257
aVThis was to easily handle billing my (up to) 15 clients twice a month
p2258
aVIt's irrelevant now since I raise only about 6 invoices a year (I went permanent and now only do small bits of work, mostly leaving the company for investment purposes) but this scheme always worked for me
p2259
aVIt stopped the clients from feeling that they were getting work done by a small company (no invoice number 1 or even 80001)
p2260
aVIn terms of the sequential nature, the invoices were simply stored in files with the invoice number in the file name, so it was easy to create the next one
p2261
aVNo database was required - it really depends on how big your shop is
p2262
as(dp2263
g16
V14860
p2264
stp2265
a((dp2266
g2
(lp2267
VAssuming they're both integer matrices to begin with,  may not be
p2268
aVTry:
p2269
aVand let us know if it still occurs
p2270
aVYou may need to turn  back into an integer type afterwards, depending on your needs
p2271
as(dp2272
g16
V14860
p2273
stp2274
a((dp2275
g2
(lp2276
VThere are (in most cases, discounting interpreted code) two stages in getting from source code (what you write) to executable code (what you run)
p2277
aVThe first is compilation which turns source code into object modules
p2278
aVThe second, linking, is what combines object modules together to form an executable
p2279
aVThe distinction is made for, among other things, allowing third party libraries to be included in your executable without you seeing their source code (such as libraries for database access, network communications and graphical user interfaces), or for compiling code in different languages (C and assembly code for example) and then linking them all together
p2280
aVWhen you statically link a file into an executable, the contents of that file are included at link time
p2281
aVIn other words, the contents of the file are physically inserted into the executable that you will run
p2282
aVWhen you link dynamically, a pointer to the file being linked in (the file name of the file, for example) is included in the executable and the contents of said file are not included at link time
p2283
aVIt's only when you later run the executable that these dynamically linked files are bought in and they're only bought into the in-memory copy of the executable, not the one on disk
p2284
aVIt's basically a method of deferred linking
p2285
aVThere's an even more deferred method (called late binding on some systems) that won't bring in the dynamically linked file until you actually try to call a function within it
p2286
aVStatically-linked files are 'locked' to the executable at link time so they never change
p2287
aVA dynamically linked file referenced by an executable can change just by replacing the file on the disk
p2288
aVThis allows updates to functionality without having to re-link the code; the loader re-links every time you run it
p2289
aVThis is both good and bad - on one hand, it allows easier updates and bug fixes, on the other it can lead to programs ceasing to work if the updates are incompatible - this is sometimes responsible for the dreaded "DLL hell" that some people mention in that applications can be broken if you replace a dynamically linked library with one that's not compatible (developers who do this should expect to be hunted down and punished severely, by the way)
p2290
aVAs an example, let's look at the case of a user compiling their  file for static and dynamic linking
p2291
aVYou can see in the static case that the main program and C runtime library are linked together at link time (by the developers)
p2292
aVSince the user typically cannot re-link the executable, they're stuck with the behaviour of the library
p2293
aVIn the dynamic case, the main program is linked with the C runtime import library (something which declares what's in the dynamic library but doesn't actually define it)
p2294
aVThis allows the linker to link even though the actual code is missing
p2295
aVThen, at runtime, the operating system loader does a late linking of the main program with the C runtime DLL (dynamic link library or shared library or other nomenclature)
p2296
aVThe owner of the C runtime can drop in a new DLL at any time to provide updates or bug fixes
p2297
aVAs stated earlier, this has both advantages and disadvantages
p2298
as(dp2299
g16
V14860
p2300
stp2301
a((dp2302
g2
(lp2303
VHere's what we did in one project I worked on
p2304
aVIt's not the bible of logging levels, just one possibility
p2305
aVLogging should be fitted to your situation
p2306
aVLOG_SEVERE, severe errors that require program exit (e
p2307
ag1775
aV, in an application, you ran out of disk space)
p2308
aVLOG_ERROR, error messages that can't be recovered from but the program can continue to run (e
p2309
ag1775
aV, in a server application, client sent through bad data but other clients can continue to run)
p2310
aVLOG_WARNING, recoverable problem that you should be notified about (e
p2311
ag1775
aV, invalid value in a configuration file, so you fell back to the default)
p2312
aVLOG_INFO, informational messages
p2313
aVLOG_ENTRY, log entry and exit to all functions
p2314
aVLOG_PARM, log entry and exit to all functions with parameters passed and values returned (including global effects if any)
p2315
aVLOG_DEBUG, general debugging messages, basically useful information that can be output on a single line
p2316
aVLOG_HIDEBUG, far more detailed debugging messages such as hex dumps of buffers
p2317
aVEach level also logged messages in 'lower' levels
p2318
aVThere was sometimes a question as to whether a debug message should be LOG_DEBUG or LOG_HIDEBUG but we mostly based it on the number of lines it would push out to the log file
p2319
as(dp2320
g16
V14860
p2321
stp2322
a((dp2323
g2
(lp2324
VIf you mean the default (as opposed to specific for a given packet), the registry entry is:
p2325
aVand can be set to 1 through 255
p2326
aVAnd, I'm reliably informed by Vinko Vrsalovic (thanks), you can also set it for each interface by modifying the DefaultTTL key in:
p2327
aVFollowing edit of question:
p2328
aVFor incoming packets, the TTL is attached to a packet header when it's created at the source and decremented by the TCP/IP stack for each hop
p2329
aVYou could write a program that will absorb the packet and create a new one but it requires low-level access to the TCP/IP stack (absorbing the packet regardless of the destination IP address and creating a new packet with a specific TTL and spoofed source address)
p2330
aVIBM does something like this with their Edge Server load balancer, but it isn't easy
p2331
aVThey also only have to absorb a couple of IP addresses, not an arbitrary quantity
p2332
aVYou also have the problem that not all packets between a source and destination will be coming through your node - that's the nature of the net and what gives it its redundancy
p2333
aVThis may or may not be a problem for you
p2334
as(dp2335
g16
V14860
p2336
stp2337
a((dp2338
g2
(lp2339
VI consider fatal errors to be when your application can't do any more useful work
p2340
aVNon-fatal errors are when there's a problem but your application can still continue to function, even at a reduced level of functionality or performance
p2341
aVExamples of fatal errors include:
p2342
aVRunning out of disk space on the logging device and you're required to keep logging
p2343
aVTotal loss of network connectivity in a client application
p2344
aVMissing configuration information if no default can be used
p2345
aVNon-fatal errors would include:
p2346
aVA server where a single session fails for some reason but you can still service other clients
p2347
aVAn intermittent error, such as lost session, if a new session can be established
p2348
aVMissing configuration information if a default value can be used
p2349
as(dp2350
g16
V14860
p2351
stp2352
a((dp2353
g2
(lp2354
VSince modulo always works better on 0-based ranges, you can turn it into one of these using
p2355
aVThen, with modulo 4, adding 3 is the same as subtracting 1 but has the advantage of never going negative (some modulo operators may not like negatives)
p2356
aVThen you once again add 1 to get back to a 1-based number
p2357
aVThis gives:
p2358
aVor, simplified:
p2359
as(dp2360
g16
V14860
p2361
stp2362
a((dp2363
g2
(lp2364
VDocumentation should be an integral part of your plan and not just a bit tacked on the end
p2365
aVWe have a requirement that documentation for parts of the system are a deliverable for those parts, so that it's done interspersed with the actual product development
p2366
aVLike unit testing results, the parts aren't considered complete until they've had some reviewed and approved input to the documentation process
p2367
aVBut, as to the tools, OpenOffice
p2368
aVorg with our own customized templates, along with Hypersnap for screen capturing, is all we use
p2369
as(dp2370
g16
V14860
p2371
stp2372
a((dp2373
g2
(lp2374
VYou can create a (relatively) small function in each file that you want to include other files into, as follows:
p2375
aVand then use it to include specific files - these are executed as if they were inline
p2376
aVIt basically opens the file, reads the entire contents into a string, then executes that string
p2377
aVThere's no error handling on the I/O calls since this sort of stuff is usually done once on program start, and you want to fail if there's a problem including it
p2378
aVNote that the  function can be compressed to:
p2379
aVOr even to (if you're not adverse to long lines):
p2380
as(dp2381
g16
V14860
p2382
stp2383
a((dp2384
g2
(lp2385
VStandard SQL query for this is (assuming you want both ID and name for the venue):
p2386
as(dp2387
g16
V14860
p2388
stp2389
a((dp2390
g2
(lp2391
VI know for a fact that DB2 Express and DB2 (at least up to v8) does not support the  clause
p2392
aVIf you want a portable solution, you may have to opt for something like:
p2393
aVI think the result of the union (at least in DB2, you'll need to check the others) is guaranteed to be ordered correctly
p2394
aVThe coalesce will have performance implications since you're running a function for every row returned
p2395
aVHowever, it depends on the number of rows in the database
p2396
aVYou may well have to resort to doing two queries in code into two different record sets, then processing them in order
p2397
aVEDIT: I've just checked the SQL standard and it's not guaranteed that the queries joined with a  are sequenced; they might be inter-mixed
p2398
aVSo it looks like you may have to resort to code running two different queries as mentioned above
p2399
as(dp2400
g16
V14860
p2401
stp2402
a((dp2403
g2
(lp2404
VI think the best approach to this is to keep your own record of the mouse button state, as follows:
p2405
aVand then, later in your code:
p2406
as(dp2407
g16
V14860
p2408
stp2409
a((dp2410
g2
(lp2411
VWe don't worry about it
p2412
aVInstead, we use a third party tool like jQuery (well, EXACTLY like jQuery in our company) to ensure cross-platform idiosyncrasies are handled
p2413
as(dp2414
g16
V14860
p2415
stp2416
a((dp2417
g2
(lp2418
VWhat you're missing is a reason why you need the postal code to be handled specially
p2419
aVIf you don't really need to WORK with a postal code, I would suggest not worrying about it
p2420
aVBy work, I mean do special processing for rather than just use to print address labels and so on
p2421
aVSimply create three or four address fields of VARCHAR2(50) [for example] and let the user input whatever they want
p2422
aVDo you really need to group your orders or transactions by postcode
p2423
aVI think not, since different countries have vastly different schemes for this field
p2424
as(dp2425
g16
V14860
p2426
stp2427
a((dp2428
g2
(lp2429
VRob, there are a lot of places still doing COBOL although not necessarily for
p2430
aVNET; we still do quite a bit of mainframe development and the vast majority of financial applications are still written in COBOL interfacing with CICS
p2431
aVIn addition, you can still get COBOL compilers (e
p2432
ag1775
aV, Fujitsu) for the Windows platforms
p2433
as(dp2434
g16
V14860
p2435
stp2436
a((dp2437
g2
(lp2438
VAll the solutions that check a multitude of conditions based on where the ranges are in relation to one another can be greatly simplified by just ensuring that a specific range starts earlier
p2439
aVYou ensure that the first range starts earlier (or at the same time) by swapping the ranges if necessary up front
p2440
aVThen, you can detect overlap if the other range start is less than or equal to the first range end (if ranges are inclusive, containing both the start and end times) or less than (if ranges are inclusive of start and exclusive of end)
p2441
aVAssuming inclusive at both ends, there's only four possibilities of which one is a non-overlap:
p2442
aVThe endpoint of the range 2 doesn't enter into it
p2443
aVSo, in pseudo-code:
p2444
aVThis could be simplified even more into:
p2445
aVIf the ranges are inclusive at the start and exclusive at the end, you just have to replace  with  in the second  statement (for the first code segment: in the second code segment, you'd use  rather than ):
p2446
aVYou greatly limit the number of checks you have to make because you remove half of the problem space early by ensuring range 1 never starts after range 2
p2447
as(dp2448
g16
V14860
p2449
stp2450
a((dp2451
g2
(lp2452
VI'm told by a reliable (but currently inebriated, so take it with a grain of salt) source that it's a zero instruction which is illegal and causes some sort of system trap
p2453
aVEDIT: Made into community wiki in case my friend is so drunk that he's talking absolute rubbish :-)
p2454
as(dp2455
g16
V14860
p2456
stp2457
a((dp2458
g2
(lp2459
VHere's a little command script which does what you want (print out every 10 lines of the file lines32
p2460
aVtxt exactly)
p2461
aVThat file (for my tests) held the number 1 through 32 inclusive, one per line, and the output was 10, 20, 30
p2462
aVThe Windows command language has come quite a way since the bad old DOS days
p2463
aVI still don't thonk it's a match for ksh or bash but it does a decent job
p2464
as(dp2465
g16
V14860
p2466
stp2467
a((dp2468
g2
(lp2469
VYour database doesn't appear to be normalized correctly
p2470
aVYour  table should have a single  and a single  in each of its rows
p2471
aVIf that were the case, your -version should work (although I would use  myself)
p2472
aVIgnore the preceding  paragraph
p2473
aVFrom your edit, you really wanted to know all the 's that have all of a subset of 's in the many-to-many table - see below for the query
p2474
aVPlease tell us the actual schema details, it's a little hard to figure out what you want without that
p2475
aVI'd expect to see something like:
p2476
aVBased on your description, the only thing I can think of is that you want a list of all the 's that have all of a set of 's in the  table
p2477
aVIn which case, you're looking at something like (to get the list of 's that have 's of 1, 3 and 4):
p2478
aVThis works in DB2 but I'm not sure how much of SQL your chosen server implements
p2479
as(dp2480
g16
V14860
p2481
stp2482
a((dp2483
g2
(lp2484
VSince you have no view of the internals of CFile (or shouldn't, if it's encapsulated properly), you need to rely on the 'contract' of the API
p2485
aVIn other words, unless the documentation tells you specifically what happens in certain cases, you can't rely on it
p2486
aVEven if you had the source code and could figure it out, the API specification is the contract and anything not specified there can change at any time
p2487
aVThis is one reason why some software developers are wary of publishing internals as it then can be seen to lock them in to supporting that forever
p2488
aVIf you really want to ensure that your file will be in a known state after the exception, you will need to code around the behavior
p2489
aVThis can be something like:
p2490
aVbacking up the file at program start-up (simple) ; or
p2491
aVbacking it up before each save operation (still relatively simple); or
p2492
aVbacking it up before any write operation (complex and slow)
p2493
as(dp2494
g16
V14860
p2495
stp2496
a((dp2497
g2
(lp2498
VWithin math mode, you can use:
p2499
aVto do this, as shown from the online LaTeX renderer here
p2500
as(dp2501
g16
V14860
p2502
stp2503
a((dp2504
g2
(lp2505
VIf you're clustering on geographic location, and I can't imagine it being anything else :-), you could store the "cluster ID" in the database along with the lat/long co-ordinates
p2506
aVWhat I mean by that is to divide the world map into (for example) a 100x100 matrix (10,000 clusters) and each co-ordinate gets assigned to one of those clusters
p2507
aVThen, you can detect very close coordinates by selecting those in the same square and moderately close ones by selecting those in adjacent squares
p2508
aVThe size of your squares (and therefore the number of them) will be decided by how accurate you need the clustering to be
p2509
aVObviously, if you only have a 2x2 matrix, you could get some clustering of co-ordinates that are a long way apart
p2510
aVYo will always have the edge cases such as two points close together but in different clusters (one northernmost in its cluster, the other southernmost in its) but you could adjust the cluster size OR post-process the results on the client side
p2511
as(dp2512
g16
V14860
p2513
stp2514
a((dp2515
g2
(lp2516
VThe difference is exactly what you would expect
p2517
aVThe  tag adds a single item to the HTML list while  adds multiple items
p2518
aVFrom JSF Core Tag Reference:
p2519
aVSelectItem:
p2520
aVThe  tag adds a child  component to the component associated with the enclosing tag
p2521
aVIn the HTML renderkit, this creates a single element
p2522
aVIt can be used with any of the select tags in the JSF HTML tag library
p2523
aVThe body content of this tag must be empty
p2524
aVExample:
p2525
aVHTML Output:
p2526
aVSelectItems:
p2527
aVThe  tag adds a child  component to the component associated with enclosing tag
p2528
aVYou can use this tag to set a list of objects in your domain model as the options for a select component
p2529
aVThe body content of this tag must be empty
p2530
aVExample:
p2531
aVHTML Output:
p2532
as(dp2533
g16
V14860
p2534
stp2535
a((dp2536
g2
(lp2537
VFor a start, this is a very bad idea with standard SQL since not all DBMSs sort with NULLs last
p2538
aVThere are all sorts of tricky ways you could do this and most would be interminably slow
p2539
aVI'd suggest you (sort-of) normalize the database some more so that each of the columns is in a separate table which would make a select easier but that's probably not what you want
p2540
aVAfter edit of question: if refactoring table design is not an option, your given solution is probably the best, especially if you have indexes on all the 70 columns
p2541
aVAlthough that's likely to slow down inserts quite a bit, you may want to use a non-indexed table for maximum insert speed and transfer the data periodically (overnight
p2542
aVto an indexed table which would run your selects at best speed (by avoiding a full table scan)
p2543
as(dp2544
g16
V14860
p2545
stp2546
a((dp2547
g2
(lp2548
VCertainly you can compare infinities
p2549
aVUnless you get into transfinite numbering systems where there are varying degrees of infinity, infinity means just what it says, a number without limit
p2550
aVThe maximum/sum/product/average of two numbers without limit is one number without limit
p2551
as(dp2552
g16
V14860
p2553
stp2554
a((dp2555
g2
(lp2556
VI don't know if this has a name or even if it's some special idiom but, since memory is relatively plentiful nowadays, my linked lists (where the language libraries don't make them available) are a special variant which simplifies the code greatly
p2557
aVFor a start, they're always doubly-linked since this makes traversal in both directions easier, for both processing and insert/delete operations
p2558
aVAn 'empty' list actually consists of two nodes, the head and the tail
p2559
aVBy doing this, inserts and deletes do not need to worry about whether the node they're deleting is the head or tail, they can just assume it's a middle node
p2560
aVInsertion of a new node y before node x then become a simple:
p2561
aVDeletion of node x is a simple:
p2562
aVTraversal is adjusted to ignore the extraneous head and tail:
p2563
aVThis all serves to make the code a lot easier to understand without all the special handling of the edge cases, at the cost of a couple of nodes of memory
p2564
as(dp2565
g16
V14860
p2566
stp2567
a((dp2568
g2
(lp2569
VYou should be able to control monitor power by sending system command messages as follows
p2570
aVNote that this is tested on XP, Vista may have changed things somewhat so you'll need to test it and let us know
p2571
aVThis code is in VB but you can see the Win32 API call that it uses
p2572
aVYou need to pass a window handle to the function so your code will need a window created to process the message (just pass it through to the default window processing function)
p2573
as(dp2574
g16
V14860
p2575
stp2576
a((dp2577
g2
(lp2578
VI don't know about new projects using it but I'm involved in seven different maintenance jobs that use lex and yacc for processing configuration files
p2579
aVNo XML for me, no-sir-ee :-)
p2580
aVSolutions using lex/yacc are a step up from the old configuration files of "" lines since they allow better hierarchical structures like:
p2581
aVAnd, yes, I know you can do that with XML, but these are primarily legacy applications written in C and, to be honest, I'd use lex/yacc for new (non-Java) jobs as well
p2582
aVThat's because I prefer delivering software on time and budget rather than delivering the greatest new whizz-bang technology - my clients won't pay for my education, they want results first and foremost and I'm already expert at lex/yacc and have all the template code for doing it quickly
p2583
as(dp2584
g16
V14860
p2585
stp2586
a((dp2587
g2
(lp2588
VI can't see any potential pitfalls
p2589
aVI do have a couple of points however
p2590
aV1/ You probably want to make sure your service only accepts incoming connection from the local machine (127
p2591
aV0
p2592
ag2592
aV1)
p2593
aVOtherwise, anyone could look at your JavaScript and figure out that it's talking to [your-ip]:8080
p2594
aVThey could then try that themselves from a remote site (security hole)
p2595
aV2/ I wouldn't use port 8080 as it's commonly used for other things (alternate HTTP servers, etc
p2596
aVMake it configurable and choose a nice high random-type value
p2597
aV3/ I'm not sure what you're trying to do with point 3 but I think you're trying to send the status back to the user
p2598
aVIn which case, why wouldn't the JavaScript on your home page just get the status in a single session and output/update the HTML to be presented to the user
p2599
aVYour "another js request back to my web server" doesn't make sense to me
p2600
as(dp2601
g16
V14860
p2602
stp2603
a((dp2604
g2
(lp2605
VFlat file databases are possible but consider the following
p2606
aVDatabases need to attain all the ACID elements (atomicity, consistency, isolation, durability) and, if you're going to ensure that's all done in a flat file (especially with concurrent access), you've basically written a full-blown DBMS
p2607
aVSo why not use a full-blown DBMS in the first place
p2608
aVYou'll save yourself the time and money involved with writing (and re-writing many times, I'll guarantee) if you just go with one of the free options (SQLite, MySQL, PostgresSQL, and so on)
p2609
as(dp2610
g16
V14860
p2611
stp2612
a((dp2613
g2
(lp2614
VExamining the stack dump:
p2615
aVInitTerm is simply a function that walks a list of other functions and executes each in step - this is used for, amongst other things, global constructors (on startup), global destructors (on shutdown) and atexit lists (also on shutdown)
p2616
aVYou are linking with CGAL, since that  in your stack dump is due to the fact that CGAL defines a global variable called  of the  type
p2617
aVThat's why your error is happening before main, the  is being constructed
p2618
aVFrom the CGAL source, all it does it call the standard C  followed by the local  which, in turn, calls the standard C  to get a random number
p2619
aVHowever, you're not getting to the second stage since your stack dump is still within
p2620
aVIt looks like it's converting your thread into a fiber lazily, i
p2621
ag75
aV, this is the first time you've tried to do something in the thread and it has to set up fiber-local storage before continuing
p2622
aVSo, a couple of things to try and investigate
p2623
aV1/ Are you running this code on pre-XP
p2624
aVI believe fiber-local storage () was introduced in XP
p2625
aVThis is a long shot but we need to clear it up anyway
p2626
aV2/ Do you need to link with CGAL
p2627
aVI'm assuming your application needs something in the CGAL libraries, otherwise don't link with it
p2628
aVIt may be a hangover from another project file
p2629
aV3/ If you do use CGAL, make sure you're using the latest version
p2630
aVAs of 3
p2631
aV3, it supports a dynamic linking which should prevent the possibility of mixing different library versions (both static/dynamic and debug/nondebug)
p2632
aV4/ Can you try to compile with VC8
p2633
aVThe CGAL supported platforms do NOT yet include VC9 (VS2008)
p2634
aVYou may need to follow this up with the CGAL team itself to see if they're working on that support
p2635
aV5/ And, finally, do you have Boost installed
p2636
aVThat's another long shot but worth a look anyway
p2637
aVIf none of those suggestions help, you'll have to wait for someone more knowledgable than I to come along, I'm afraid
p2638
aVBest of luck
p2639
as(dp2640
g16
V14860
p2641
stp2642
a((dp2643
g2
(lp2644
VThere's a school of thought known as the "0, 1 or N" school which believes that you should have either:
p2645
aVnone of something;
p2646
aVone of something; or
p2647
aVany number of something, as resources permit
p2648
aVIn other words, don't set arbitrary limits if you don't have to
p2649
aVArbitrary limits have given us such monstrosities as:
p2650
aVthe 640K limit in early PCs
p2651
aVbuffer overflow vulnerabilities
p2652
aVthe hideous LBA disk addressing scheme
p2653
aVKeep in mind that even two billion 64-bit integers only takes up
p2654
aVThat's less than 1 thousand-millionth, or 10^-9, or you could have many millions of these massive arrays before running out of address space
p2655
aVThat's forward thinking :-)
p2656
as(dp2657
g16
V14860
p2658
stp2659
a((dp2660
g2
(lp2661
VCan we assume you mean you're calling C**ODBC**Recordset::Open(), yes
p2662
aVOr more precisely, something like:
p2663
aVEDIT after response:
p2664
aVThere are some known bugs with various ODBC drivers that appear to be caused by retrieving invalid field lengths
p2665
aVSee these links:
p2666
aVhttp://forums
p2667
aVmicrosoft
p2668
aVcom/msdn/showpost
p2669
aVaspx
p2670
aVpostid=2700779&siteid;=1
p2671
aVhttps://connect
p2672
aVmicrosoft
p2673
aVcom/VisualStudio/feedback/ViewFeedback
p2674
aVaspx
p2675
aVFeedbackID=296391
p2676
aVThis particular one seems to have been because CRecordset will allocate a buffer big enough to hold the field
p2677
aVAs the column returns a length of zero, it's interpreted as the max 32-bit size (~2G) instead of the max 8-bit size (255 bytes)
p2678
aVNeedless to say, it can't allocate enough memory for the field
p2679
aVMicrosoft has acknowledged this as a problem, have a look at these for solutions:
p2680
aVhttp://support
p2681
aVmicrosoft
p2682
aVcom/kb/q272951/
p2683
aVhttp://support
p2684
aVmicrosoft
p2685
aVcom/kb/940895/
p2686
aVEDIT after question addenda:
p2687
aVSo, given that your MySQL field is a LONGTEXT, it appears CRecordSet is trying to allocate the max possible size for it (2G)
p2688
aVDo you really need 2 gig for a comments field
p2689
aVTyping at 80 wpm, 6cpw would take a typist a little over 7 years to fill that field, working 24 h/day with no rest :-)
p2690
aVIt may be a useful exercise to have a look at all the columns in your database to see if they have appropriate data types
p2691
aVI'm not saying that you can't have a 2G column, just that you should be certain that it's necessary, especially in light of the fact that the current ODBC classes won't work with a field that big
p2692
as(dp2693
g16
V14860
p2694
stp2695
a((dp2696
g2
(lp2697
VDepending on your compiler, you can place a breakpoint at the constructor initialization code
p2698
aVIn Visual C++, this is the  function which is given a start and end pointer which is a list of the function to call
p2699
aVThen step into each function to get the file and function name (assuming you're compiled with debugging info on)
p2700
aVOnce you have the names, step out of the function (back up to ) and continue until  exits
p2701
aVThat gives you ALL he static initializers, not just the ones in your code - it's the easiest way to get an exhaustive list
p2702
aVYou can filter out the ones you have no control over (such as those in third-party libraries)
p2703
aVThe theory holds for other compilers but the name of the function and the capability of the debugger may change
p2704
as(dp2705
g16
V14860
p2706
stp2707
a((dp2708
g2
(lp2709
VThe funny characters are markers indicating things like record start, record end, field separator and so on
p2710
aVWithout knowing the actual protocol, it's a little hard to tell
p2711
aVThe data is a lot easier
p2712
aVBetween the 000f and 0002 markers you have a date/time field, 2nd of December 2008, 12:55:00
p2713
aVBetween 0002 and 0003 marker, it looks like a simple float which could be a dollar value or anytrhing really, it depends on what's at the other end of the link
p2714
aVTo separate it, I'm assuming you've read it into a variable character array of some sort
p2715
aVJust look for the markers and extract the fields in between them
p2716
aVThe date/time is fixed size and the value probably is as well (since it has a leading 0), so you could probably just use memcpy's to pull out the information you need from the buffer, null terminate them, convert the value to a float, and voila
p2717
aVIf it is fixed format, you can use something like:
p2718
aVand call it with:
p2719
aVIf not fixed format, you just have to write code to detect the positions of the field separators and extract what's between them
p2720
as(dp2721
g16
V14860
p2722
stp2723
a((dp2724
g2
(lp2725
VI doubt you'll get a more efficient way than the one you've selected
p2726
aVGiven that the grep executable will already be mapped into memory when the second copy runs, and that you have no backtracking in your regex (unlike an  obvious solution), I think what you have is a fast as you're going to get
p2727
aVHere's some sample timings to illustrate the point:
p2728
aVFrom this admittedly small sample, the pipeline version takes less system and user CPU time, hence is more efficient
p2729
aVThe input file consists of 1000 copies of:
p2730
aVso you can run your own tests
p2731
aVHer's the same test with 100,000 lines of input - you can see the questioners method is more efficient:
p2732
as(dp2733
g16
V14860
p2734
stp2735
a((dp2736
g2
(lp2737
VOne example I always try to do is replace heavily nested if's like this (actually this one's not too bad but I've seen them up to 8 or 9 levels deep in the wild):
p2738
aVwith this:
p2739
aVI also try to keep the actions as small as possible (function calls are best for this) to keep the switch statement compressed (so you don't have to go four pages ahead to see the end of it)
p2740
aVDecision tables, I believe, are simply setting flags indicating what actions have to be taken later on
p2741
aVThe "later on" section is simple sequencing of actions based on those flags
p2742
aVI could be wrong (it won't be the first or last time :-)
p2743
aVAn example would be (the flag-setting phase can be complicated if's since its actions are very simple):
p2744
as(dp2745
g16
V14860
p2746
stp2747
a((dp2748
g2
(lp2749
VA TCP connection is specified by the tuple (source IP, source port, destination IP, destination port)
p2750
aVThe reason why there is a TIME_WAIT state following session shutdown is because there may still be live packets out in the network on their way to you (or from you which may solicit a response of some sort)
p2751
aVIf you were to re-create that same tuple and one of those packets showed up, it would be treated as a valid packet for your connection (and probably cause an error due to sequencing)
p2752
aVSo the TIME_WAIT time is generally set to double the packets maximum age
p2753
aVThis value is the maximum age your packets will be allowed to get to before the network discards them
p2754
aVThat guarantees that, before you're allowed to create a connection with the same tuple, all the packets belonging to previous incarnations of that tuple will be dead
p2755
aVThat generally dictates the minimum value you should use
p2756
aVThe maximum packet age is dictated by network properties, an example being that satellite lifetimes are higher than LAN lifetimes since the packets have much further to go
p2757
as(dp2758
g16
V14860
p2759
stp2760
a((dp2761
g2
(lp2762
VThis seems a little bizarre
p2763
aVIf you're using the term "prior art" in its most common form, you're discussing a potentially patentable idea
p2764
aVIf that is the case, you have:
p2765
aV1/ Published the idea, starting the clock running on patent filing - I'm assuming, perhaps incorrectly, that you're based in the U
p2766
aVS
p2767
aVOther jurisdictions may have other rules
p2768
aV2/ Told the entire planet your idea, which means it's pretty much useless to try and patent it, unless you act very fast
p2769
aVIf you're not thinking about patenting this and were just using the term "prior art" in a laypersons sense, I apologize
p2770
aVI work for a company that takes patents very seriously and it's drilled into us, in great detail, what we're allowed to do with information before filing
p2771
aVHaving said that, patentable ideas must be novel, useful and non-obvious
p2772
aVI would think that your idea would not pass on the third of these since you're describing a language translator which would have the prior art of the many pascal-to-c and fortran-to-c converters out there
p2773
aVThe one glimmer of hope would be the ability of your idea to generate one of multiple output languages (which p2c and f2c don't do) but I think even that would be covered by the likes of cross compilers (such as gcc) which turn source into one of many different object languages
p2774
aVIBM has a product called Visual Age Generator in which you code in one (proprietary) language and it's converted into COBOL/C/Java/others to run on different target platforms from PCs to the big honkin' System z mainframes, so there's your first problem (thinking about patenting an idea that IBM, the biggest patenter in the world, is already using)
p2775
as(dp2776
g16
V14860
p2777
stp2778
a((dp2779
g2
(lp2780
VAll the answers given solve your problem, but the correct answer is to normalize your data base better
p2781
aVIf you need the year as a separate item, it should be stored in a separate column
p2782
aVAnything else is just removing hairs from a wart, as my dear old grandma used to say (she never actually said that, I just thought of it and it sounded kind of cool - must be why I don't get out much :-)
p2783
as(dp2784
g16
V14860
p2785
stp2786
a((dp2787
g2
(lp2788
VIt makes little sense to use three true/false variables for conditions that are mutually exclusive
p2789
aVWhat happens, for example, if both DEVELOPMENT and PRODUCTION are set at the same time
p2790
aVInstead, have a single variable which indicates which environment you're in, setting  to one of the set (,,) or something similar
p2791
aVThen you can just compare  to one of the three for each action you want to perform
p2792
as(dp2793
g16
V14860
p2794
stp2795
a((dp2796
g2
(lp2797
VI always save immediately before running my macros (during testing at least) then, if everything goes pear-shaped, I can just exit without saving and re-open it
p2798
aVBaking it into the actual macro, you'll have to basically record the old state of everything that changes (cell contents, formulae, formatting and so on) in a list then have an undo macro which plays back that list in reverse order
p2799
aVFor example if your macro changes a cell C22 contents from "3" to "7" and formatting from "general" to "number, 2 decimals), your list would be:
p2800
aVPlaying this back in reverse order (with another macro) would revert the changes
p2801
aVYou could have a whole extra sheet to hold the macro undo information such as:
p2802
aVIt wouldn't integrate very well with the 'real' undo unfortunately, but I don't think there's any way around that
p2803
as(dp2804
g16
V14860
p2805
stp2806
a((dp2807
g2
(lp2808
VI would go for your second option simply because you should NOT be extracting data from the database that you don't need (either rows or columns) - it puts unnecessary strain of the DBMS and transmits useless data across the wire, wasting network bandwidth
p2809
as(dp2810
g16
V14860
p2811
stp2812
a((dp2813
g2
(lp2814
VNo, that's about as efficient as you're going to get
p2815
aVYou could write a C program which could do the job a little faster (less startup time and processing arguments) but it will probably tend towards the same speed as sed as files get large (and I assume they're large if it's taking a minute)
p2816
aVBut your question suffers from the same problem as so many others in that it pre-supposes the solution
p2817
aVIf you were to tell us in detail what you're trying to do rather then how, we may be able to suggest a better option
p2818
aVFor example, if this is a file A that some other program B processes, one solution would be to not strip off the first line, but modify program B to process it differently
p2819
aVLet's say all your programs append to this file A and program B currently reads and processes the first line before deleting it
p2820
aVYou could re-engineer program B so that it didn't try to delete the first line but maintains a persistent (probably file-based) offset into the file A so that, next time it runs, it could seek to that offset, process the line there, and update the offset
p2821
aVThen, at a quiet time (midnight
p2822
aV, it could do special processing of file A to delete all lines currently processed and set the offset back to 0
p2823
aVIt will certainly be faster for a program to open and seek a file rather than open and rewrite
p2824
aVThis discussion assumes you have control over program B, of course
p2825
aVI don't know if that's the case but there may be other possible solutions if you provide further information
p2826
as(dp2827
g16
V14860
p2828
stp2829
a((dp2830
g2
(lp2831
VTwo questions
p2832
aV1/ Does that file exist anywhere in your install tree
p2833
aV2/ Check it again please, most codes are only 7 characters
p2834
aVThe closest I've found is C57I1ML but that's part of Websphere Studio Site Developer 5
p2835
ag2193
aV2
p2836
aVAnd, on top of that, WSAD 5
p2837
ag2193
aV2 seems to have the C80 prefix
p2838
aVBTW, there's no C571ILML anywhere on the IBM intranet that I can see
p2839
aVEDIT:
p2840
aVThe standard Websphere Studio Application Developer 5
p2841
ag2193
aV2 for Windows has five disk images located on IBM's Xtreme Leverage site, those being C802XML, C802YML, C802ZML, C8030ML and C804UML
p2842
aVI suspect your missing file is due to the fact that you only have the contents of four of those disk images
p2843
aVYou'll need to go back to your source and get the other disk image (or contents)
p2844
aVAlternatively, you may have the Integration Edition, in which case I'll need to look again - please clarify which one you have
p2845
as(dp2846
g16
V14860
p2847
stp2848
a((dp2849
g2
(lp2850
VThe following formulas allow you to track averages just from stored average and count, as you requested
p2851
aVThis relies on the fact that your average is currently your sum divided by the count
p2852
aVSo you simply multiply count by average to get the sum, add your new value and divide by (count+1), then increase count
p2853
aVSo, let's say you have the data  and the only thing you're keeping is the average and count
p2854
aVAs each number is added, you get:
p2855
as(dp2856
g16
V14860
p2857
stp2858
a((dp2859
g2
(lp2860
VAnswering your (original) questions one by one:
p2861
aV1/ Will anyone tell me what Win32 is
p2862
aVWin32 is the application programming interface (API) for Windows
p2863
aVSpecifically, it's for 32-bit Windows and beyond since the old API was for the primarily 16-bit versions of Windows, Windows ME and before
p2864
aVAside: I'm pretty certain Microsoft may want to forget ME ever existed and just rewrite the history books to say that they went straight from Win98 to Win2k; something they'll probably also want to do with another of their products: "Vista, what Vista
p2865
aVAll we know about is Windows XP and Windows 7"
p2866
aV:-)
p2867
aVThe first Windows version to fully support Win32 was Windows NT
p2868
aVThe API is the set of calls you are permitted to make
p2869
aVFor Windows, it includes such things as window creation and manipulation, multi-threading, graphics drawing, text rendering and so on
p2870
aVBasically it's how your program interfaces to the Windows operating system to get things done
p2871
aVCompanies publish their APIs so that clients can do useful things with them
p2872
aVThere are other ways to get the products to do things but these are generally known as undocumented features and, while a good company will go out of its way to ensure later versions of the API don't break your code, the use of undocumented features is not their problem
p2873
aVUse them at your own peril
p2874
aV2/ How to I compile and execute c++ program in win32
p2875
aVTo do that, you'll need a compiler
p2876
aVPopular choices are Microsoft Visual C++ (you can get the Visual Express edition for free from Microsoft), CygWin or MinGW (the minimalist GNU for Windows)
p2877
aVSearch Google for "free c++ compilers for windows"
p2878
aVA compiler takes C++ source code and turns it into executable code, able to be run on the target system (Windows in this case)
p2879
aVOnce you have an executable, you run it as you would any other program
p2880
aVIf you create the executable  in your path, just type  from a command line
p2881
aVThe compilers don't restrict you to just command line tools, they also allow you to create full-blown graphical applications so you can just double-click on the executable in File Manager, or make an associated file type to run the executable automatically for specific file types
p2882
aV3/ How do I debug in win32 with c++ program
p2883
aVThe Visual C++ integrated development environment (IDE) has the compiler and a debugger included in it
p2884
aVDebugging is relatively painless as you can simply step through each line of the program and examine its behaviour
p2885
aVOther environment such as MinGW and CygWin have command-line debuggers which are not as closely aligned to Windows as Visual C++
p2886
aVBut I have to admit, I sometimes still find myself debugging by inserting  statements in my code and recompiling
p2887
aVOld habits die hard
p2888
aV4/ What other things do I have to know while I am writing c++ program in win32
p2889
aVI hardly know where to begin
p2890
aVYou have a long (but hopefully enjoyable) journey in front of you
p2891
aVIt might be wise to check back here with other specific questions once you have organised to install a compiler and have tried to get your first program compiled and running
p2892
aVBest of luck
p2893
as(dp2894
g16
V14860
p2895
stp2896
a((dp2897
g2
(lp2898
VI'm not bypassing
p2899
aVNET to do Win32 programming
p2900
aVI am bypassing both of them to do Java programming since I want my applications to run on as many platforms as possible
p2901
aVWindows may control a majority of the market but I don't see any reason to cut out even small possibilities for profit, especially since I can write Java code much faster than C++ or C# (that's based on my ability, not a reflection of the languages themselves)
p2902
aVNeither
p2903
aVNET not Win32 give me that cross-platform ability at the moment
p2904
aVThey may eventually, with Mono, but I still consider that less-than-production-ready and there's still a question over its future in my mind
p2905
as(dp2906
g16
V14860
p2907
stp2908
a((dp2909
g2
(lp2910
VPrestige is irrelevant, in my opinion
p2911
aVI suggest you do a cost benefit analysis of doing the work you enjoy against earning more money
p2912
aVIt may be you don't mind QA that much is which case go for the extra money
p2913
aVIf you think it would be horrible, don't do it (unless there's absolute bucket-loads of money changing hands)
p2914
aVI took a role as a PM for about 18 months for extra pay and hated it after about 6 months
p2915
aVI'm now back in a tech role and enjoying it a lot
p2916
aVI wouldn't do PM work now unless they doubled my salary (and even then, I'd think twice about it)
p2917
aVMy advice is to do what you enjoy first and foremost
p2918
aVYou only get one shot at life and, even if you make a fortune, you'll still be dead in 100 years
p2919
aVOne of my favorite quotes is: "the trouble with the rat race is, even if you win, you're still a rat"
p2920
as(dp2921
g16
V14860
p2922
stp2923
a((dp2924
g2
(lp2925
VI don't believe you can get it if you're using the standard recv or read function calls
p2926
aVThe recvfrom call as follows:
p2927
aVincludes a structure (the second to last field above) which will receive the source address which you can examine for whatever purposes you desire
p2928
as(dp2929
g16
V14860
p2930
stp2931
a((dp2932
g2
(lp2933
VProcess accounting is the way to go, despite it sucking up lots of disk space
p2934
aVIt's not something I'd leave running unless you have a very grunty box but it's very useful for problem solving since it basically tracks every process, a claim the simpler "snapshot of ps" tools can't match
p2935
aVYou basically turn it on with  and the kernel then writes details of every process that exits, including:
p2936
aVprocess name (not args, unfortunately)
p2937
aVstart time
p2938
aVelapsed time
p2939
aVuser and system CPU times
p2940
aVexit code
p2941
aVmemory, I/O, fault and swap statistics
p2942
aVprocess ID
p2943
aVparent process ID
p2944
aVand a few other things
p2945
aVYou shut it down with a naked  so all you people who laughed at Windows for using a  button to shut down, HAH
p2946
aV:-)
p2947
aVThere are two variants of records that can be logged, v1 and v3 - make sure you're using the latest process accounting software and v3 records as they hold more useful information
p2948
aVThe /usr/include/linux/acct
p2949
aVh file shows what you can get from there
p2950
aVThe records are all fixed size (regardless of version) and easy to process
p2951
aVWe've just recently finished a Linux agent for our performance monitoring software - I thought I'd jot this down while it's still fresh in my memory
p2952
aVOne thing to watch out for are the comp_t fields - these are actually a weird exponent/mantissa type for holding a large range of values in 16 bits - the algorithm is pretty simple for turning it into a long:
p2953
aVAnother thing is that some values are in clock ticks, not seconds, so you have to divide by the value returned by
p2954
as(dp2955
g16
V14860
p2956
stp2957
a((dp2958
g2
(lp2959
VHuffman encoding basically uses variable-length bit strings to represent tokens (generally characters with a couple of exceptions)
p2960
aVThe more common a token is, the shorter it's bit-length is and this is (usually) dynamic as the stream is processed
p2961
aVThere are usually two special tokens, ESCAPE and END-STREAM
p2962
aVEncoding maintains a dictionary which is basically a lookup of the bit sequences to get a token
p2963
aVInitially it contains only the two special tokens
p2964
aVThe initial bit sequences for ESCAPE and END_STREAM could be 0 and 1 (which is which doesn't really matter at the start)
p2965
aVWhen the encoder receives a character not in the dictionary, it outputs ESCAPE and the full length token, then it adds it and assigns new bit sequences, based on frequency of all the tokens
p2966
aVSo your 'N' may result in the output stream:
p2967
aVand the new dictionary:
p2968
aVThen your 'E' may result in the output stream:
p2969
aVand the new dictionary:
p2970
aVYour next E will not result in a ESCAPE output since it's already in the dictionary so you just output its code (11)
p2971
aVIt will change the dictionary since E now has a higher count
p2972
aVThis won't matter in our situation since all characters are two binary digits but, in a more complicated example, the bit length of the 'E' token would shorten
p2973
aVWhen the D arrives, the output stream becomes:
p2974
aVand the new dictionary:
p2975
aVSo you can see that, as more characters come in, the bit length of the common ones reduce and that of the uncommon one increase, giving you your compression
p2976
aVN (or D) in this case gets a 3-digit code, while E sticks with a 2-digit code because there's more of them
p2977
aVThe beauty is that you don't need to store the dictionary with the file since the ESCAPE sections build it dynamically for de-compression as well
p2978
aVIn addition, because there's NEVER an END-STREAM token until the end, it's bit length keeps getting bigger
p2979
aVSimilar for ESCAPE, while there's still lots of new character coming in, its bit length stays short but, when no new characters are arriving, it suffers the same fate as END-STREAM
p2980
aVThe best case for an (8-bit ASCII) input stream is a file containing nothing but millions of the same character
p2981
aVThis costs 9 bits for the first character, then 1 bit for each additional character then 2 bits for the end of stream
p2982
aVThat fast approaches a 1-for-8 compression ratio (97
p2983
aV5%)
p2984
aVThe worst case is exactly one of each character which costs 9 bits per character plus the end of stream - this actually expands the stream by 12
p2985
aV5%
p2986
as(dp2987
g16
V14860
p2988
stp2989
a((dp2990
g2
(lp2991
VWhy could you not just make a file structure on the Windows file system and populate it with your desired names, then use a screen grabber like HyperSnap (or the ubiquitous Alt-PrtScr) to capture a section of the Explorer window
p2992
aVI did this when 'demoing' an internet application which would have collapsible sections, I just had to create files that looked like my desired entries
p2993
aVHyperSnap gives JPGs at least (probably others but I've never bothered to investigate)
p2994
aVOr you could screen capture the icons +/- from Explorer and use them within MS Word Draw itself to do your picture, but I've never been able to get MS Word Draw to behave itself properly
p2995
as(dp2996
g16
V14860
p2997
stp2998
a((dp2999
g2
(lp3000
VFor the same reasons you use static in any code
p3001
aVYou should only 'publish' your API calls, anything else opens you up to abuse, such as being able to call internal functions from outside the driver, something that would almost certainly be catastrophic
p3002
aVIt's good programming practice to only make visible to the outside world what's necessary
p3003
aVThat's what encapsulation is all about
p3004
as(dp3005
g16
V14860
p3006
stp3007
a((dp3008
g2
(lp3009
VWhere it's created is an implementation decision by the compiler writer, really
p3010
aVMost likely, string literals will be stored in read-only segments of memory since they never change
p3011
aVIn the old compiler days, you used to have static data like these literals and global but changeable data
p3012
aVThese were stored in the TEXT (code) segment and DATA (initialised data) segment
p3013
aVEven when you have code like , the  string itself is stored in read-only memory while the variable  is on the stack (or elsewhere in writeable memory if it's a global)
p3014
aVjust gets set to the address of the  string
p3015
aVThis allows all sorts of tricky things like string folding, so that "invalid option" (0x1000) and "valid option" (0x1002) can use the same memory block as follows:
p3016
aVKeep in mind I don't mean read-only memory in terms of ROM, just memory that's dedicated to storing unchangeable stuff (which may be marked really read-only by the OS)
p3017
aVThey're also never destroyed until  exits
p3018
as(dp3019
g16
V14860
p3020
stp3021
a((dp3022
g2
(lp3023
VEclipse is not one of those applications that need to be "installed" since it can just be copied into a directory structure and have shortcuts set up for running it (a la the BIRT all-in-one distributions)
p3024
aVI would suggest installing it on one machine, getting all the plug-ins installed, then just zip up the directory and use that to distribute to other machines
p3025
aVAnd running your own update site isn't that difficult, you just need a server into which you install only the versions of the plug-ins you need and ensure your distribution points to that server before making the zip file
p3026
aVThere's nothing stopping your developers from connecting to another site as well
p3027
as(dp3028
g16
V14860
p3029
stp3030
a((dp3031
g2
(lp3032
VPrav,
p3033
aVIf by no code, you mean absolutely nothing, I don't think you can
p3034
aVIf, however, you mean using facilities in the standard Windows, you can use a command file to do it
p3035
aVCreate calcif1
p3036
aVcmd in the same directory as your 1
p3037
aVhtm file is supposed to be created, and put the following into it
p3038
aVThen, schedule that command file to run periodically
p3039
aVWhen it finds the 1
p3040
aVhtm file, it will kick up a copy of calc
p3041
aVThe scheduler itself will not start another instance of calcif1
p3042
aVcmd while the current one is running so you won't get two running concurrently
p3043
as(dp3044
g16
V14860
p3045
stp3046
a((dp3047
g2
(lp3048
VWhen you combine your two strings, you get the following
p3049
aVSince each "" will wipe out the preceding section, you end u[p with the following sequence:
p3050
aVThat's because "" is not bothered by whether any segments of your path are files or directories
p3051
aVIt's just a relatively dumb way of matching special navigation characters ("" and "") against real navigation segments to form a path without those special navigation characters
p3052
aVIt's just assuming that "" is a directory name in your case
p3053
aVStrip that off (or add another "" at the start of your relative path, a trick to avoid extraneous code for stripping of the filename section) and it should work okay
p3054
as(dp3055
g16
V14860
p3056
stp3057
a((dp3058
g2
(lp3059
VWe had a need to use conversion sites for international share transactions (only for estimates of course, the user got the exchange rate that was active when the trade went through, written into the contract to cover us legally)
p3060
aVOANDA was the provider, we used the FXConverter tools if I remember rightly
p3061
aVThey had both real-time and historical information for absolute bucketloads of currencies
p3062
as(dp3063
g16
V14860
p3064
stp3065
a((dp3066
g2
(lp3067
VFragmentation is not always invisible to all upper layers
p3068
aVSome early (and probably even current) micro-controller TCP/IP stacks did not implement the full capabilities such as fragmentation handling
p3069
aVUse of the flag in that situation would ensure that the packet arrived in its original form instead of a lot of fragments which the other end couldn't handle
p3070
aVIn addition, when using UDP, it's not necessary for all the fragments to arrive at the destination so, preventing fragmentation means the message either arrives or doesn't arrive - there is no possibility that only a bit of the UDP datagram will reach the destination
p3071
aVI can't recall how long the TCP/IP stack held on to unassembled IP packets waiting for missing fragments, but use of the DF flag meant there were no unnecessary resources tied up during that time
p3072
aVFinally, you can use it for testing behavior of network infrastructure, such as what happens when you get a packet that's bigger than the maximum transmission unit (DF will prevent that packet from being fragmented to 'squeeze through' the hole)
p3073
as(dp3074
g16
V14860
p3075
stp3076
a((dp3077
g2
(lp3078
VSince D has 80-bit reals built in (as far as I can tell), why would you not just use the standard approach of comparing with an epsilon value
p3079
aVThis can be a fixed value if you know the rough range in advance, such as US currency:
p3080
aVor an acceptable relative error, such as 1 part per million of the average:
p3081
aVKeep in mind I don't know D, the code above is for demonstrative purposes only
p3082
as(dp3083
g16
V14860
p3084
stp3085
a((dp3086
g2
(lp3087
VYour supplied regex doesn't have the hostname section
p3088
aVTry:
p3089
aVor
p3090
aVsince I don't trust alnum without double brackets
p3091
aVAlso, :alnum: may not give you the required range for your sections
p3092
aVYou can have "
p3093
aVcharacters in your host name and may also need to allow for "_" characters
p3094
aVAnd it's rare I've seen usernames or hostnames start with a non-alphabetic
p3095
aVJust as a side note, I try to avoid the enhanced regexes since they don't run on all regex engines (I've been using UNIX for a long time)
p3096
aVUnfortunately that makes my regexes ungainly (see above) and not overly internationalizable
p3097
aVApologies for that
p3098
as(dp3099
g16
V14860
p3100
stp3101
a((dp3102
g2
(lp3103
VKeeping auxillary memory usage to a minimum, your best bet would be to do an efficient sort to get them in order, then do a single pass of the array with a FROM and TO index
p3104
aVYou advance the FROM index every time through the loop
p3105
aVYou only copy the element from FROM to TO (and increment TO) when the key is different from the last
p3106
aVWith Quicksort, that'll average to O(n-log-n) and O(n) for the final pass
p3107
as(dp3108
g16
V14860
p3109
stp3110
a((dp3111
g2
(lp3112
VWhat I've tended to do in config files is ensure that there's no possibility that the separator character can get into either the key or value
p3113
aVSometimes that's easy if you can just say "no '=' characters allowed" but I've had to resort to encoding those characters in some places
p3114
aVI generally hex them up so that if you wanted a '=' character, you would have to put in %3d (and %25 for the '%' character so you don't think it's a hex-starter character)
p3115
aVYou can also use %xx for any character but it's only required for those two
p3116
aVThat way you can check the line to ensure it has one and only one '=' character then post-process the key and value to turn the hex'ed characters back into real ones
p3117
as(dp3118
g16
V14860
p3119
stp3120
a((dp3121
g2
(lp3122
VOne structure I saw for minimizing space in a spelling dictionary was to encode each word as:
p3123
aVthe number of characters (a byte) in common with the last; and
p3124
aVthe new ending
p3125
aVSo the word list
p3126
aVYou're saving 7 bytes straight up there (19%), I suspect the saving would be similar for a 20,000 word dictionary just due to the minimum distances between (common prefixes of) adjacent words
p3127
aVTo speed lookup, there was a 26-entry table in memory which held the starting offsets for words beginning with a, b, c,
p3128
aV, z
p3129
aVThe words at these offsets always had 0 as the first byte as they had no letters in common with the previous word
p3130
aVThis seems to be sort of a trie but without the pointers, which would surely get space-expensive if every character in the tree had a 4-byte pointer associated with it
p3131
aVMind you, this was from my CP/M days where memory was much scarcer than it is now
p3132
as(dp3133
g16
V14860
p3134
stp3135
a((dp3136
g2
(lp3137
VJudging (scientifically :-) by the huge quantity of questions on SO about C++ which have top-rated answers along the lines of "Use Boost::SomethingOrOther", I would say it's very important
p3138
aVThe thing that drew me from C to Java instead of C++, was the huge quantity of supplied classes in Java
p3139
aVBoost almost manages to convince me to go back, except for the fact that I'm now heavily mired in web services where Java is the lingua franca
p3140
as(dp3141
g16
V14860
p3142
stp3143
a((dp3144
g2
(lp3145
VI have an Ubuntu Linux box at home which has three VMs, all totally self-contained
p3146
aVThe first is for my wife's business, she needs access to all the MS Office stuff and MYOB
p3147
aVThe second is for work, they're too tight to buy me a laptop and I'm not going to let them install their hideous security and auto-update products on my real box
p3148
aVThe third is my Visual Studio development VM
p3149
aVIt runs like a dream (although only ever tested one VM at a time)
p3150
aVAnd I just backup all the VM files from Ubuntu (along with my Linux work as well) which basically gives me images of the VM hard drives
p3151
as(dp3152
g16
V14860
p3153
stp3154
a((dp3155
g2
(lp3156
VThe rule I follow:
p3157
aVIf I can fix an exception, or nullify the problem that caused it (sometimes this means just ignoring it altogether), I'll handle it
p3158
aVOtherwise it gets passed up to the next level
p3159
aVAnd I always try to fix exceptions as low in the tree as possible (i
p3160
ag75
aVas soon as possible after they occur) - this localizes exception handling and avoids big honkin' exception handlers in your upper levels
p3161
as(dp3162
g16
V14860
p3163
stp3164
a((dp3165
g2
(lp3166
VX is a hideous layer to program for and, despite your intent to avoid Java, QT or any of the excellent UI abstraction layers, you'll be doing yourself a disservice by coding to that level
p3167
aVI've done it (a long time ago when Motif was in its infancy on the platform we were using) and I would not do it again if there was an easier way
p3168
aVYour use of the phrase "native programming" confuses me a little
p3169
aVIf you want to learn native programming, it's to the APIs that you choose to call
p3170
aVUsing similar reasoning, you shouldn't be coding in C either, instead opting for assembler (or direct machine code) since C provides an abstraction to the hardware
p3171
aVIf you want to learn X programming, that's fine
p3172
aVYou'll end up with a lot more control over your interface but almost everyone else will be out-performing you in terms of delivery of software
p3173
aVMyself, I'd prefer to code to a higher-level API that I can use on many platforms - it gives me both faster delivery times and more market potential
p3174
aVYou don't build a house out of atoms, you build it out of bricks
p3175
aVMy suggestion is to use the tools, that's what they're there for
p3176
as(dp3177
g16
V14860
p3178
stp3179
a((dp3180
g2
(lp3181
VWith all the possibilities for firewalls blocking ICMP packets or specific ports, the only way to guarantee that a service is running is to do something that uses that service
p3182
aVFor instance, if it were a JDBC server, you could execute a non-destructive SQL query, such as  for DB2
p3183
aVIf it's a HTTP server, you could create a GET packet for index
p3184
aVhtm
p3185
aVIf you actually have control over the service, it's a simple matter to create a special sub-service to handle these requests (such as you send through a CHECK packet and get back an OKAY response)
p3186
aVThat way, you avoid all the possible firewall issues and the test is a true end-to-end one
p3187
aVPINGs and traceroutes will be able to tell if you can get to the machine (firewalls permitting) but they won't tell you if your service is functioning
p3188
aVTake this from someone who's had to battle the network gods in a corporate environment where machines are locked up as tight as the proverbial fishes
p3189
as(dp3190
g16
V14860
p3191
stp3192
a((dp3193
g2
(lp3194
VYour implementation is not naive, it's actually the logical one, except that it's wrong - it returns a negative for numbers greater that 1/2 the maximum integer size
p3195
aVAssuming you can restrict numbers to the range 0 through 2^30 (for 32-bit ints), it'll work just fine, and a lot faster than any mathematical functions involving logarithms
p3196
aVUnsigned ints would work better but you'd end up with an infinite loop (for numbers greater than 2^31) since you can never reach 2^32 with the << operator
p3197
as(dp3198
g16
V14860
p3199
stp3200
a((dp3201
g2
(lp3202
VIf you're asking why C++ classes have destructors, some classes have requirements other than just freeing memory
p3203
aVYou may have an object that's allocated a socket connection that needs to be shut down cleanly, for example
p3204
aVAlso, 'unscoping' a pointer does not free the memory that it points to since other pointers may be referencing it
p3205
aVIf you have a pointer on the stack, exiting the function will free the memory used by the pointer but not that memory pointed to by the pointer
p3206
aVThere's a subtle but very important distinction
p3207
as(dp3208
g16
V14860
p3209
stp3210
a((dp3211
g2
(lp3212
VWith one single field, being the primary key, only ever adding records, this is not really suited to a regular database
p3213
aVFor a start, you're storing twice as much info as you need to, with every field going into the data table and index
p3214
aVAs an aside, relational database are so called since, for one,  they store related data into a single row; it's hard to see how your data qualifies :-) If you were storing other stuff as well, a database would be worth it
p3215
aVYou don't mention whether the data will be accessed by multiple processes at once - if not, then you don't need all the advantages conferred by database ACID principles
p3216
aVEven if you do want ACID, that can still be achieved without a full blown database
p3217
aVMy first though would be to construct your own B-tree or B+-tree data file to store the twitter IDs to avoid the data duplication
p3218
aVThe only queries I can see you doing (based on the question) are:
p3219
aVselect min(id) from tbl; and
p3220
aVselect id from tbl where id =
p3221
aVThe first can be made O(1) by simply storing the lowest in another file outside of the B-tree structure (and replacing it when you get a lower one)
p3222
aVI'm not sure of the business case for this one unless it's to quickly find out a certain twitter ID isn't in the table (so you'd probably want max as well in that case)
p3223
aVThe second is standard tree searching techniques which is what a database generally uses under the covers anyway
p3224
as(dp3225
g16
V14860
p3226
stp3227
a((dp3228
g2
(lp3229
VThis is a standard floating point problem
p3230
aVBinary floating point numbers do not represent the full range of decimal numbers with perfect accuracy, you need to do something along the lines of
p3231
aVor, better yet, turn it into a string and strip off everything past the first fractional digit (since the result of round may also not be easily representable in binary)
p3232
aValthough I don't know ActionScript
p3233
aVStill it's a very well known issue and not limited to AS3
p3234
aVSee for example http://stackoverflow
p3235
aVcom/questions/177506/why-do-i-see-a-double-variable-initialized-to-some-value-like-214-as-2139999961 or http://stackoverflow
p3236
aVcom/questions/327544/strange-floating-point-behaviour-in-a-java-program or http://stackoverflow
p3237
aVcom/questions/249467/what-is-a-simple-example-of-floating-pointrounding-error
p3238
as(dp3239
g16
V14860
p3240
stp3241
a((dp3242
g2
(lp3243
VShellExecute is the function you're looking for
p3244
aVIt can handle both executable types and registered file types, and perform all sorts of actions (verbs) on the file, depending on what it supports
p3245
aVThe syntax is:
p3246
aVConsult your friendly neighborhood MSDN documentation for more details
p3247
as(dp3248
g16
V14860
p3249
stp3250
a((dp3251
g2
(lp3252
VIt's just RGB in a more tightly controlled order, independent of endianness
p3253
aVConverting between them is simple once you know the endianness of your environment
p3254
aVThe BGR is a 24-bit representation where the lower-addressed 8 bits are blue, the next-addressed 8 are green and higher-addressed 8 are red
p3255
aVRGB values tend to be written as RGB(r,g,b) where the r/g/b values are between 0 and 255 inclusive or as #rrggbb, where rr/gg/bb are 8-bit hex values
p3256
aVAll the BGR values I've seen tend to be simple integers between  and  ()
p3257
as(dp3258
g16
V14860
p3259
stp3260
a((dp3261
g2
(lp3262
VIf you want to do it yourself, you could capture the output of the subst command and process it, since it outputs all current substituted drives
p3263
aVIn order to do this, you need a function to return the subst'ed output, as follows:
p3264
aVThis outputs:
p3265
aVon my system which has only the one subst'ed drive
p3266
as(dp3267
g16
V14860
p3268
stp3269
a((dp3270
g2
(lp3271
VYour immediate problem is that you're setting the variable  to the value < "Two"> which you can see here:
p3272
aVwhich produces:
p3273
aVThe reason your "set test" is outputting the  variable is the same reason why "set t" would - if there's no variable of the specific name, it outputs all variables starting with that name
p3274
aVThe set command is also a finicky little beast and does not like spaces surrounding the '=' characters; it incorporates them (and the quotes by the way) into the environment variable name and the value assigned to it
p3275
aVInstead, use:
p3276
aVAlso, where you're using delayed expansion, it doesn't matter since %test% and
p3277
aVtest
p3278
aVwould expand the same
p3279
aVIt's useful in statements like:
p3280
aVThe inner echo will output TwoAndABit whereas %test%, which is expanded when the whole if-statement is encountered, would cause it to output Two
p3281
aVStill, I always use delayed expansion everywhere just for consistency
p3282
as(dp3283
g16
V14860
p3284
stp3285
a((dp3286
g2
(lp3287
VIf you're using the ANSI screen drivers, you can simply output "\u005cr", your new line, then 'ESC', '[', 'K' which will clear to the end of the line
p3288
aVBut one thing to watch out for, you should limit your output length to the expected screen width so the lines don't wrap, such as
p3289
aVIn which case, you can probably just pad everything to 79 characters any way and it'll work with just the "\u005cr" character, independent of ANSI driver
p3290
as(dp3291
g16
V14860
p3292
stp3293
a((dp3294
g2
(lp3295
VIt depends entirely on the implementation
p3296
aVDo you mean REXX for OS/2, REXX for z/VM, REXX for z/OS, OOREXX for Windows, REXX/400  or Regina
p3297
aVNothing in the REXX language specs out of IBM dictate how the function is implemented under the covers, it could be O(N) if you scan the string or O(1) if the length is stored with the string somewhere
p3298
aVIf it's really important, best to test with benchmarking code to see if the length makes a difference
p3299
as(dp3300
g16
V14860
p3301
stp3302
a((dp3303
g2
(lp3304
VThis can actually be done quite easily with pure native commands, you just have to know how to use the more tricky of them
p3305
aVNo use of external tools like VBScript or nasty side effects like clearing the screen are necessary
p3306
aVWhat you're looking for is the equivalent of the bash "" command which outputs a line without the newline
p3307
aVIn XP batch, this is achieved by using "" (ask user for response with a prompt) with empty input as follows:
p3308
aVwill output the string "Hello again
p3309
aVwith no intervening newline
p3310
aVThat trick (and the use of CTRL-H, the backspace character can be seen in the following test script which starts (one after the other) a 10-second sub-task with a 20-second timeout and a 15-second sub-task with a 10-second timeout
p3311
aVThe payload script is created by the actual running script and its only requirement is that it do the work it has to do then delete a flag file when finished, so that the monitor function will be able to detect it
p3312
aVKeep in mind that the ^H strings in this script are actually CTRL-H characters, the ^| is two separate characters used to escape the pipe symbol
p3313
as(dp3314
g16
V14860
p3315
stp3316
a((dp3317
g2
(lp3318
VThe best way is to not do it - it's unfortunate that people insist on storing their data in a way that requires SQL "gymnastics" to extract meaningful information
p3319
aVThere are far easier ways to acheive ends like this if you just normalise your schema correctly
p3320
aVThe right way to do this, in my opinion, is to have the following table:
p3321
aVwith ID/Col as the primary key and possibly Col as a secondary key, depending on your needs
p3322
aVThen your query becomes a simple
p3323
aVand you can still treat the individual 'old columns' separately by using
p3324
aVin your other queries
p3325
aVThis also allows for easy expansion should the number of 'old columns' grow
p3326
aVThis makes your queries so much easier
p3327
aVThe guideline I tend to use is, if you ever have something that looks like an array in a database row, you're probably doing something wrong
p3328
aVHowever, if you can't change the database schema from its current form, I'd suggest using insert and update triggers and add another column which these triggers set to the minimum on Col1/2/3
p3329
aVThis will move the 'cost' of the operation away from the select to the update/insert where it belongs
p3330
aVIn short, since the minimum for a row only changes when one of the other columns change, that's when you should be calculating it, not every time you select (which is wasted if the data isn't changing)
p3331
aVYou would then end up with a table like:
p3332
aVAlthough that's also changing the schema, so I'd have to then ask: why not do it properly and adopt my first suggestion
p3333
aVAny other option that has to make decisions on select is a bad idea performance-wise, since the data only changes on insert/update - the addition of another column takes up more space in the DB and will be slightly slower for the inserts and updates but will be faster for selects - the preferred approach should depend on your priorities there but, in my experience, most tables are read far more often than they're written
p3334
as(dp3335
g16
V14860
p3336
stp3337
a((dp3338
g2
(lp3339
VThese functional modes are basically just ways to do your planned upgrades
p3340
aVBoth DB2/z v8 and v9 (and probably all the ones to come) have three modes:
p3341
aVcompatibility (CM)
p3342
aVenable new function (ENFM)
p3343
aVnew function (NFM)
p3344
aVIt's used to ensure there's a smooth transition between versions
p3345
aVFor example, all DBMS' in a group must be upgraded to v8 CM before any of them can be switched to v8 ENFM
p3346
aVCompatibility mode for  means you're using  but with none of the new function (in other words, equivalent to
p3347
aVIf you're running v7 at the moment, you're unsupported - you should really be running v8 in CM (if you care about support and, believe me, if you're paying IBM those huge license fees, you should care :-)
p3348
aVEnable new function mode is when the database system tables have been updated to use new function but not user tables
p3349
aVNew function mode means that new functionality has been enabled for both system and user tables
p3350
aVThe actual content of the new function depends on the version
p3351
aVSee here for the v8 What's New information
p3352
aVBasically chapter 2 lists all the new functionality:
p3353
aVMore SQL goodies
p3354
aVMore security
p3355
aVBetter compatibility with DB2/z's smaller siblings (LUW), including Unicode
p3356
aVScalability/Performance
p3357
aVAvailability (very important in the mainframe world)
p3358
aVBy the way, IBM makes all its documentation available on the web for perusal, the top level of the public libraries being found here
p3359
as(dp3360
g16
V14860
p3361
stp3362
a((dp3363
g2
(lp3364
VIt's to easily see that memory has changed from its initial starting value, generally during debugging but sometimes for release code as well, since you can attach debuggers to the process while it's running
p3365
aVIt's not just memory either, many debuggers will set register contents to a sentinel value when the process starts (AIX sets its registers to 0xdeadbeef which is mildly humorous)
p3366
as(dp3367
g16
V14860
p3368
stp3369
a((dp3370
g2
(lp3371
VOn SourceForge, if you apply the filter "Require", "Programming language", "D", you get 113 hits, so it would seem so
p3372
aVI've always been a bit worried about developing in D since I know little about this Digital Mars mob
p3373
aVDoes D have a future outside of just piquing the interest of some nerds (using that term in a non-disparaging way)
p3374
as(dp3375
g16
V14860
p3376
stp3377
a((dp3378
g2
(lp3379
VWe had a similar problem with some performance monitoring software but, being in a DB2/z mainframe shop, we're dead set against having to do SQL gymnastics to get those sort of results
p3380
aVSQL queries that perform 'functions' on every row they retrieve are notoriously unscalable and the DBAs would have a field day laughing at us if we tried to use them
p3381
aVInstead, we found it easier to refactor the database schema to include a count of events in each row (apparently our DBAs don't mind using more disk space, just more CPU grunt)
p3382
aVIn your case, that would be adding a column called  which you would set to 1 for every row that you insert (i
p3383
ag75
aV, each event)
p3384
aVThen the fifth field of your query changes from  to  which will achieve the same result
p3385
aVIn addition to that you can insert a special record (once an hour, or 24 of them at the start of each day, or populate the entire years worth on January 1 if you wish) where the  field is set to zero
p3386
aVBeing zero, these records will have no effect on the  but you will get your desired behaviour, a row returned for every hour of the day which will have zero as  where no events occurred in that hour
p3387
aVThe rest of your query will not need to change
p3388
as(dp3389
g16
V14860
p3390
stp3391
a((dp3392
g2
(lp3393
VI've done this before in VMWare Workstation and Player - the VMX file has a MAC address which you can just change and VMWare will complain that the VM has moved (between physical machines only, I think) but you just tell it to create a new one when it starts and all will be fine
p3394
aVOf course, you may have applications that don't like you doing that (license compliance managers or anything that stores the MAC or IP address between program runs and checks to ensure it hasn't changed)
p3395
aVIn addition, I store all my VMs in their own directories so there's no conflict
p3396
aVOtherwise you'll have to rename files and change references to those files within the VMX and other configs
p3397
aVI think you'll just have to suck it and see
p3398
as(dp3399
g16
V14860
p3400
stp3401
a((dp3402
g2
(lp3403
VThe strategy I would use is exactly what you've done
p3404
aVRemove as much code as possible until the problem disappears then add that last bit back in and debug it
p3405
aVHowever, it may not be your code that's at fault
p3406
aVOne thing to watch out for - we found this problem on AIX and, even though you're running Windows, it may be similar
p3407
aVWe had a third party library which dynamically loaded another shared library which, in its initialization routine, set up an atexit function to be called when the process exits
p3408
aVHowever, as our application loads and unloads these shared libraries, by the time the process exited, the shared library's atexit function was no longer in memory and we dumped core
p3409
aVThis shows up as an access violation after returning from main() so, if that's what's happening to you, it's almost certainly the same sort of thing
p3410
aVThe C RTL startup code will walk the atexit list and call each of its functions, no matter what you've done with them
p3411
aVOf course, if it's crashing before main() exits, then this is a moot point
p3412
aVOne thing you could consider (and we've actually done this on one occasion after a cost/benefit analysis of tracking down and fixing a particularly thorny bug): send out the debug release as your product
p3413
aVIf it's not crashing, that may be a quick fix to get the product out there while you work on a more acceptable solution at your leisure
p3414
as(dp3415
g16
V14860
p3416
stp3417
a((dp3418
g2
(lp3419
VTo be honest, if they have admin rights, stored procedures are just one of the many ways they could screw up your software
p3420
aVWhy don't you just make it clear to the client that they're not supported if they stuff around with the stored procedures
p3421
aVIf they raise a problem, have them run a script of yours which dumps your stored procedures to a file and get them to send it to you
p3422
aVAny changes means you'll fix it but on their dime, not yours, since they caused the problem
p3423
aVIn terms of checking, the only thing I could think of is to run the stored proc with known data and ensure it returns what you think it should
p3424
aVBut that may be hard to achieve on their database
p3425
as(dp3426
g16
V14860
p3427
stp3428
a((dp3429
g2
(lp3430
VIn C++ (unlike Java), you can create objects either on the stack or the heap
p3431
aVAn example of creating it on the stack is, as you have done:
p3432
aVThis object goes out of scope when the stack frame disappears (normally when you return from the function that created the object
p3433
aVCreating objects on the heap allows them to outlive the function that created them and you do that by performing:
p3434
aVYou can then pass the  pointer back to the caller of the function (or store it globally, whatever you want)
p3435
aVIn order to get rid of the object on the heap, you explicitly delete it:
p3436
aVsomewhere in your code
p3437
aVDeleting an object on the heap ends the scope of that object, the same way returning from a function ends the scope of variables created on the stack
p3438
as(dp3439
g16
V14860
p3440
stp3441
a((dp3442
g2
(lp3443
VWell, up until two years ago (don't worry, it's still being developed, I'm just on a different team), we still worked on the development and maintenance of ISPF, the user interface of z/OS (OS/390, MVS)
p3444
aVThere's still plenty of code in there from the mid-sixties
p3445
aVIn fact, the last of the 24-bit code was finally replaced only about 3 years ago
p3446
aVThat won't mean much to you young whippersnappers, but all the mainframers will understand
p3447
as(dp3448
g16
V14860
p3449
stp3450
a((dp3451
g2
(lp3452
VThis article talks about Commodore (Delphi) coming in Winter 2008 with 64-bit support
p3453
aVIt mentions Delphi Tiburon (due 2009) which has extra features which is followed by C++ with those same features (and hopefully 64-bit support)
p3454
aVHowever the 'Borland' article that it links to has disappeared so I guess all bets are off
p3455
aVSeriously, I don't believe there's any room in the IDE space for two costed products
p3456
aVI think Visual Studio will always be the costed product of choice with everyone else choosing a free solution such as Eclipse CDT or bare-bones GCC
p3457
aVI think the Borland products were wonderful for their time (exceeded only by the TopSpeed/JPI compilers and putting Microsoft's early efforts to shame) but they've done their dash and are now relegated to the museum (my opinion only, I've been wrong before, and other various disclaimers)
p3458
as(dp3459
g16
V14860
p3460
stp3461
a((dp3462
g2
(lp3463
VIBM guard (or, more precisely, allows their customers to guard) their mainframe DB2 access very closely
p3464
aVI suspect this has something to do with ensuring only enterprise-blessed applications even try to connect (JDBC clients that don't have the right license file don't even get their requests appearing at the mainframe TCP ports, they're blocked on the client side) - the mainframe is usually business-critical in a way most desktop/server apps only dream of becoming :-)
p3465
aVWith the JDBC drivers, a single type-4 driver is used to access all DB2 platforms (LUW, iSeries, System z, etc) but you actually have to have a license file installed in your CLASSPATH for the specific platforms or you'll get an exception
p3466
aVThis license file is of the form "" where the cisuz specifies which platforms are allowed to be accessed (cu is the most common but that doesn't give access to iSeries or System z)
p3467
aVYou generally have to buy DB2 Connect from IBM to get these files and I suspect it would be a similar situation for the
p3468
aVNET framework
p3469
aVYou may find that DB2 Connect products have
p3470
aVNET client drivers as well as JDBC (I haven't looked)
p3471
aVLook for the "Enterprise" edition of that product since the standard ones would be unlikely to have the System z license
p3472
aVAnd just a minor niggle, it's not OS/390 any more (unless you're one of the rare Japanese customers paying specially to have that dinosaur supported)
p3473
aVIt's z/OS
p3474
as(dp3475
g16
V14860
p3476
stp3477
a((dp3478
g2
(lp3479
VI vaguely remember from my UNIX (AIX and HPUX, I'll admit I've never used shared memory in Linux) days that deletion simply marks the block as no longer attachable by new clients
p3480
aVIt will only be physically deleted at some point after there are no more processes attached to it
p3481
aVThis is the same as with regular files that are deleted, their directory information is removed but the contents of the file only disappear after the last process closes it
p3482
aVThis sometimes leads to log files that take up more and more space on the file system even after they're deleted as processes are still writing to them, a consequence of the "detachment" between a file pointer (the zero or more directory entries pointing to an inode) and the file content (the inode itself)
p3483
aVYou can see from your  output that 3 of the 4 still have attached processes so they won't be going anywhere until those processes detach from the shared memory blocks
p3484
aVThe other's probably waiting for some 'sweep' function to clean it up but that would, of course, depend on the shared memory implementation
p3485
aVA well-written client of shared memory (or log files for that matter) should periodically re-attach (or roll over) to ensure this situation is transient and doesn't affect the operation of the software
p3486
as(dp3487
g16
V14860
p3488
stp3489
a((dp3490
g2
(lp3491
VYou need to remove the constraint before you're allowed to delete the table referenced by it
p3492
aVSQL Server uses the following syntax:
p3493
aVKeep in mind that the constraint exists on the table that references the one you want to delete so that's the table you should be altering
p3494
as(dp3495
g16
V14860
p3496
stp3497
a((dp3498
g2
(lp3499
VI thought I'd answered your previous question on the subject quite well - did you not read it
p3500
aVI'll paraphrase it for you but summarize first:
p3501
aVYou will not be able to access z/OS DB2 remote entry points with any lite version
p3502
aVWith the JDBC drivers, you need the enterprise version to connect to z/OS and this is almost certainly the same as with C# - this is to keep the mainframe protected from all-and-sundry clients that don't have the blessing of the 'enterprise gods'
p3503
aVIf you don't have a valid license, the client won't even attempt to connect to the mainframe
p3504
aVThe error code and state you're receiving match exactly the situation I describe
p3505
aVAnd by "HIS libraries", I assume you mean IHS, the IBM HTTP server, which is basically Apache with a lot of IBM extras (including, probably, the enterprise DB2 Connect licenses, although that's only a best guess)
p3506
aVRepeating what I stated in your previous question on the subject (http://stackoverflow
p3507
aVcom/questions/396589/ibm-data-db2):
p3508
aVIBM guard (or, more precisely, allows their customers to guard) their mainframe DB2 access very closely
p3509
aVI suspect this has something to do with ensuring only enterprise-blessed applications even try to connect (JDBC clients that don't have the right license file don't even get their requests appearing at the mainframe TCP ports, they're blocked on the client side) - the mainframe is usually business-critical in a way most desktop/server applications only dream of becoming :-)
p3510
aVWith the JDBC drivers, a single type-4 driver is used to access all DB2 platforms (LUW, iSeries, System z, etc) but you actually have to have a license file installed in your CLASSPATH for the specific platforms or you'll get an exception
p3511
aVThis license file is of the form "db2jcc_cisuz
p3512
aVjar" where the cisuz specifies which platforms are allowed to be accessed (cu is the most common but that doesn't give access to iSeries or System z)
p3513
aVYou generally have to buy DB2 Connect from IBM to get these files and I suspect it would be a similar situation for the
p3514
aVNET framework
p3515
aVYou may find that DB2 Connect products have
p3516
aVNET client drivers as well as JDBC (I haven't looked)
p3517
aVLook for the "Enterprise" edition of that product since the standard ones would be unlikely to have the System z license
p3518
as(dp3519
g16
V14860
p3520
stp3521
a((dp3522
g2
(lp3523
VI prefer explicit tests unless the result inside the parentheses is a explicit boolean
p3524
aVThe phrase "if (1)", while syntactically and semantically correct in terms of the language, is not logical
p3525
aVIt should be true or false, not cast automatically
p3526
aVI prefer readable logical code to less typing any day
p3527
aVI also despise vehemently code of the form:
p3528
aVIf the boolean value is properly named (and it should be), the right way to do that is:
p3529
aVThat's because (using reductio ad absurdum)  is simply another boolean value, so where do you stop
p3530
aVAnd so on, ad infinitum
p3531
as(dp3532
g16
V14860
p3533
stp3534
a((dp3535
g2
(lp3536
VWCHAN is the address within the kernel where the process is sleeping (if it is indeed sleeping)
p3537
aVHaving it set to stext usually means that your kernel predates 2
p3538
aV6 and you haven't initialized System
p3539
aVmap (namelist file) or your kernel and namelist file don't match
p3540
aVIf you do a "man ps" and search for wchan, it will tell you the search path for the namelist file
p3541
aVIt's likely the first one it's finding doesn't match the kernel you've got since stext is the start of the kernel TEXT segment and you're unlikely to be sleeping there
p3542
aVI believe if the address is outside the TEXT segment, you'll get stext by default (hence my thoughts that your namelist file and kernel don't match)
p3543
as(dp3544
g16
V14860
p3545
stp3546
a((dp3547
g2
(lp3548
VIt sounds like your current solution is actually quite good
p3549
aVWe implemented one where the server code which delivered the view content also updated a database table which stored the URL (actually a special ID code for the URL since the URL could change over time) and the view count
p3550
aVThis was actually for a system with user-written posts that others could comment on but it applies equally to the situation where you're the only user creating the posts (if I understand your description correctly)
p3551
aVWe had to do the following to minimise (not eliminate, unfortunately) skew
p3552
aVFor logged-in users, each user could only add one view point to a post
p3553
aVEVER
p3554
aVNO exceptions
p3555
aVFor anonymous users, each IP address could only add one view point to a post each month
p3556
aVThis was slightly less reliable as IP addresses could be 'shared' (NAT and so on) from our point of view
p3557
aVThe reason we relaxed the "EVER" requirement above was for this sharing reason
p3558
aVThe posts themselves were limited to having one view point added per time period (the period started low (say, 10 seconds) and gradually increased (to, say, 5 minutes) so new posts were allowed to accrue views faster, due to their novelty)
p3559
aVThis took care of most spam-bots, since we found that they tend to attack long after the post has been created
p3560
aVRemoval of a spam comment on a post, or a failed attempt to bypass CAPTCHA (see below), automatically added that IP to the blacklist and reduced the view count for that post
p3561
aVIf a blacklisted IP hadn't tried to leave a comment in N days (configurable), it was removed from the blacklist
p3562
aVThis rule, and the previous rule, minimised the manual intervention in maintaining the blacklist, we only had to monitor responses for spam content
p3563
aVCAPTCHA
p3564
aVThis solved a lot of our spam problems, especially since we didn't just rely on OCR-type things (like "what's this word -> 'optionally'); we actually asked questions (like "what's 2 multiplied by half of 8
p3565
aVthat break the dumb character recognition bots
p3566
aVIt won't beat the hordes of cheap labour CAPTCHA breakers (unless their maths is really bad :-) but the improvements from no-CAPTCHA were impressive
p3567
aVLogged-in users weren't subject to CAPTCHA but spam got the account immediately deleted, IP blacklisted and their view subtracted from the post
p3568
aVI'm ashamed to admit we didn't actually discount the web crawlers (I hope the client isn't reading this :-)
p3569
aVTo be honest, they're probably only adding a minimal number of view points each month due to our IP address rule (unless they're swarming us with multiple IP addresses)
p3570
aVSo basically, I'm suggested the following as possible improvements
p3571
aVYou should, of course, always monitor how they go to see if they're working or not
p3572
aVCAPTCHA
p3573
aVAutomatic blacklist updates based on user behaviour
p3574
aVLimiting view count increases from identical IP addresses
p3575
aVLimiting view count increases to a certain rate
p3576
aVNo scheme you choose will be perfect (e
p3577
ag1775
aV, our one month rule) but, as long as all posts are following the same rule set, you still get a good comparative value
p3578
aVAs you said, accuracy need only be an approximation
p3579
as(dp3580
g16
V14860
p3581
stp3582
a((dp3583
g2
(lp3584
VWhat's wrong with the idea of:
p3585
aVsetting a flag of some sort whenever a users files change (add, delete or change file)
p3586
aVrunning your nightly compress on each user whose files have changed, then resetting that flag
p3587
aVif the user requests an export when the flag is set, you'll have to do the compress again before export completes (there's no way around that)
p3588
aVTo further speed up the user experience, you could also decouple the export request from the export operation
p3589
aVFor example, when a user (whose flag is set) requests an export, notify them that it will be done when the compress happens, and set a different flag
p3590
aVThen modify the second step above to also export the newly created package if this second flag is set
p3591
aVThis gives the user immediate feedback that something will happen but moves the grunt work to the future
p3592
aVAlternatively, you don't have to tie the export to the compress
p3593
aVYou could compress every night but allow extra compress/export jobs during the day as needed
p3594
aVIt's still good to decouple the request from the event however
p3595
aVAnswering your specific questions
p3596
aV1/ I do not consider this premature or bad optimization
p3597
aVThe 'code' is functionally complete since it does all you ask of it so it is the right time for optimizing
p3598
aVIn addition, you have identified the bottleneck and are optimizing the right area
p3599
aV2/ See my text above
p3600
aVYou should optimize it by doing exactly what you've done - identify the bottleneck and concentrate on improving that
p3601
aVGiven that you're unlikely to get much better compression performance, the decoupling 'trick' I've suggested is a good one
p3602
aVLike progress bars and splash screens, it's usually more to do with the users perception of speed rather than speed itself
p3603
aV3/ Books
p3604
aVDon't bother, there's thousands of resources on the net
p3605
aVKeep asking on SO and print out all the responses
p3606
aVEventually your brain will be as full as mine and every new snippet of code will cause you to temporarily forget your wife's name :-)
p3607
as(dp3608
g16
V14860
p3609
stp3610
a((dp3611
g2
(lp3612
VNone of those things make code untestable
p3613
aVThey may make it harder to find edge case bugs but, provided you have fully specified the success criteria for testing (and test-driven development eases this), all you have to do is pass the criteria
p3614
aVTDD can apply to the behaviour of specific parts as well as the project as a whole, so you can easily test very small components
p3615
aVBut, it's meant to test the results, not the means by which those results were obtained
p3616
aVProvided the tests are passed, you have met the requirements
p3617
aVIf there are bugs following that, this is an issue with the tests, not the code being tested (in which case the tests should be modified to catch the previously unforeseen problem)
p3618
aVYou should not care (in terms of delivery of functionality) whether there's a while statement in one of your constructors
p3619
aVYou should ask yourself what business requirement mandates that
p3620
aVI strongly doubt your client will deliver a list of requirements including "inheritance limited to 4 levels"
p3621
aVThey may well list "bug-free" as a requirement but you'll have to negotiate them down on that one :-)
p3622
as(dp3623
g16
V14860
p3624
stp3625
a((dp3626
g2
(lp3627
VYou don't have to use bit-shifting (although that is probably the most efficient way of doing it)
p3628
aVFor your 12-digit BCD number, provided there won't be any overflow, assume that b[5] through b[0] holds your bytes from most significant to least significant, and that mod is the modulus (remainder) operation and div is integer division, the following pseudo-code would multiply by 10:
p3629
aVTo be honest, that's probably uglier than your bit-shifting solution but, as long as you encapsulate either of them in a function, it shouldn't really matter
p3630
aVI would suggest having a function along the lines of:
p3631
aVwhich would return a modified array by applying that power of 10
p3632
aVAny even power of ten is a simple copy of bytes (since two nybbles is a byte) whilst only the odd powers of ten would need the tricky bit-shifting or remainder/division code
p3633
as(dp3634
g16
V14860
p3635
stp3636
a((dp3637
g2
(lp3638
VCheck out the source code for beep available with Ubuntu (and probably other distros) or have a look at http://www
p3639
aVjohnath
p3640
aVcom/beep/beep
p3641
aVc for another source (it's the same code, I believe)
p3642
aVIt allows you to control frequency, length and repetitions (among other things) with ease
p3643
as(dp3644
g16
V14860
p3645
stp3646
a((dp3647
g2
(lp3648
VJava for real desktop applications (in Eclipse) and Python for quick-and-dirty things
p3649
aVAnd that's on Ubuntu Heron
p3650
aVI prefer to use the Sun Java runtimes (Eclipse comes with its own compiler)
p3651
as(dp3652
g16
V14860
p3653
stp3654
a((dp3655
g2
(lp3656
VI answered a question from another user a while ago (here) that referenced the following doc: www
p3657
aVcloverlcd
p3658
aVcom/pdf/S6A0069
p3659
aVpdf
p3660
aVYou can get an idea as to how it may work from that link (at least for that example)
p3661
aVMany of these embedded devices typically have a two-cycle approach to delivering data to the chips
p3662
aVI've seen one example where you output two f-nybbles in a row to synchronize (since ff is invalid 7-bit) then you start the process of outputting the nybbles
p3663
aVAs long as there's no way to generate two consecutive f-nybbles except for synchronization, it's easy to achieve
p3664
aVThere's also typically other lines attached to the device from the bus that allow the device to detect a new write of data
p3665
aVThis means it will detect two identical writes as different values
p3666
aVIn other words, it uses other signals to control the receipt of the data
p3667
aVMost of the simpler devices also have strict timing requirements (e
p3668
ag1775
aV, you must delay at least N microseconds after each write)
p3669
aVIn addition, what you tend to send are commands, not just the ASCII codes
p3670
aVThe nybble output for display Hello at offset 3 on an LCD may be:
p3671
aVSince only data lines d3 through d0 are attached to the device, ther upper nybble is irrelevant
p3672
as(dp3673
g16
V14860
p3674
stp3675
a((dp3676
g2
(lp3677
VMy preferred way would be to have a large set of input data to the RE then process that data N times (e
p3678
ag1775
aV, 100,000) to see how long it takes
p3679
aVThen tweak the RE and try again (keep all the old REs as comments in case you need to benchmark them again in future, who knows what wondrous optimizations may appear in Perl 7
p3680
aVThere may well be tools which can analyze REs to give you execution paths for specific inputs (like the analysis tools in DBMS') but, since Perl is the language of the lazy (a commandment handed down by Larry himself), I couldn't be bothered going to find it :-)
p3681
as(dp3682
g16
V14860
p3683
stp3684
a((dp3685
g2
(lp3686
VI would compile the RE when it has to be used more than two or three times and the cost of compiling is more than offset by the improvements in execution time of the result
p3687
aVI never compile one-off REs and I always compile those that are executed more than five times (give or take a couple) but I've never found a need for parameterized REs (that need may exist, it's just I've never found it) so that doesn't come into it
p3688
aVEDIT: That article you refer to states that up-front compiling is an order of magnitude slower than interpretation (ten times) yest only saves 30%
p3689
aVAnd, in addition, interpreted REs are cached anyway
p3690
aVSo I would say it's definitely arguing against the casual use of compiling
p3691
aVA 30% saving means it would take 100/3 (about 33) executions of the compiled RE to recover the initial cost of compilation
p3692
aVThat's according to th MSDN doco on
p3693
aVNET - I've always assumed in my REs (Python/Perl/Java) it wouldn't be that bad but I guess I should check
p3694
as(dp3695
g16
V14860
p3696
stp3697
a((dp3698
g2
(lp3699
VWow, do I feel old now
p3700
aVEveryone else appears to have coded their first games in fairly modern environments but my first was "Hunt the Wumpus" on the TRS-80 Model 1 and Apple II
p3701
aVFor those younger than 40, it was a text-based locater game where you picked a co-ordinate and the computer told you in which direction the (statically-located) Wumpus was - hence an easy binary chop could defeat the game quite quickly
p3702
aVThe first graphical game I did was Connect-4 (or Four-in-a-row if that's more legally acceptable) on the COMX-35 [don't ask, this computer was heralded as using the same RCA1802A CPU as used by NASA but I think NASA used it to monitor the temperature in the toilet near the Apollo spacecraft simulators - it was pretty basic]
p3703
aVThe funniest thing about the COMX-35 game was that I inserted totally random output occasionally such as "Oh no, I'm in trouble" and "Ha, I've got you now" and it freaked my mother out as she tried to figure out the computer's strategy and why it felt that way
p3704
aVI didn't have the heart to tell her the truth
p3705
aVIt did make me a better programmer since it was enjoyable and cemented my desire to do it for a living
p3706
aVThe code itself was no doubt rubbish by my current standards (at least I hope so :-) but that's irrelevant to making me want to cut code forever
p3707
as(dp3708
g16
V14860
p3709
stp3710
a((dp3711
g2
(lp3712
VIt can be done in bash itself if you have control of the configuration file format
p3713
aVYou just need to source ("
p3714
aVthe configuratiopn file rather than subshell it
p3715
aVThat ensures the variables are created in the context of the current shell (and continue to exist) rather than the subshell (where the variable disappear when the subshell exits)
p3716
aVIf your config file cannot be a shell script, you can just 'compile' it before executing thus (the compilation depends on your input format)
p3717
aVIn your specific case, you could use something like:
p3718
aVThen pipe the output of go
p3719
aVbash into mysql and voila, hopefully you won't destroy your database :-)
p3720
as(dp3721
g16
V14860
p3722
stp3723
a((dp3724
g2
(lp3725
VI have no experience with Maven, but we've managed to get Ant to do everything we've wanted on multiple platforms, just by virtue of the fact that you can extend it with any Java program to do special tasks not included with the Ant application itself
p3726
aVAnd then Java can, if necessary, call any external program you want to by using Runtime
p3727
aVexec()
p3728
aVLoses a bit of the portability but it was required for some command-line tools under both Linux and Windows
p3729
as(dp3730
g16
V14860
p3731
stp3732
a((dp3733
g2
(lp3734
VIndex what seems the most logical (that should hopefully be obvious, for example, a customer ID column in the CUSTOMERS table)
p3735
aVThen run your application and collect statistics periodically to see how the database is performing
p3736
aVRUNSTATS on DB2 (my DBMS of choice) is one example, I would hope MySQL has a similar tool
p3737
aVWhen you find some oft-run queries doing full table scans (or taking too long for other reasons), then, and only then, should you add more indexes
p3738
aVIt does little good to optimise a once-a-month-run-at-midnight query so it can finish at 12:05 instead of 12:07
p3739
aVHowever, it's a huge improvement to reduce a customer-facing query from 5 seconds down to 2 seconds (that's still too slow, customer-facing queries should be sub-second if possible)
p3740
aVMore indexes tend to slow down inserts and speed up queries
p3741
aVSo it's always a balancing act
p3742
aVThat's why you only add indexes in specific response to a problem
p3743
aVAnything else is premature optimization and should be avoided
p3744
aVIn addition, revisit the indexes you already have periodically to see if they're still needed
p3745
aVIt may be that the queries that caused you to add those indexes are no longer run often enough to warrant it
p3746
aVTo be honest, I don't believe indexing three columns on a table will cause you to suffer unless you plan on storing really huge numbers of rows :-) - indexing is pretty efficient
p3747
aVAfter your edit which states:
p3748
aVI am indexing a point_value, the user_id, and an event_id, all required for client-facing purposes
p3749
aVFor an instance such as scoring baseball runs by player id and game id
p3750
aVWhat would be the cost of inserting about 200 new records a day, after the table holds records for two seasons, say 72,000 runs, and after 5 seasons, maybe a quarter million records
p3751
aVOnly for illustration, but I'm expecting to insert between 25 and 200 records a  day
p3752
aVMy response is that 200 records a day is an extremely small value for a database, you definitely won't have anything to worry about with those three indexes
p3753
aVJust this week, I imported a days worth of transactions into one of our database tables at work and it contained 2
p3754
aV1 million records (we get at least one transaction per second across the entire day from 25 separate machines)
p3755
aVAnd it has four separate composite keys which is somewhat more intensive than your three individual keys
p3756
aVNow granted, that's on a DB2 database but I can't imagine IBM are so much better than the MySQL people that MySQL can only handle less than 0
p3757
aV01% of the DB2 load
p3758
as(dp3759
g16
V14860
p3760
stp3761
a((dp3762
g2
(lp3763
VUse the following:
p3764
aVThis has the advantage of using standard tools in the Windows OS, rather than having to find and install sed/awk/perl and such
p3765
aVSee the following transcript for it in operation:
p3766
aVC:\u005c>type file
p3767
aVtxt
p3768
aVGood Line of data
p3769
aVbad line of C:\u005cDirectory\u005cERROR\u005cmyFile
p3770
aVdll
p3771
aVAnother good line of data
p3772
aVbad line: REFERENCE
p3773
aVGood line
p3774
aVC:\u005c>type file
p3775
aVtxt | findstr /v ERROR | findstr /v REFERENCE
p3776
aVGood Line of data
p3777
aVAnother good line of data
p3778
aVGood line
p3779
as(dp3780
g16
V14860
p3781
stp3782
a((dp3783
g2
(lp3784
VI won't cut the code for you but I will make you aware that:
p3785
aVSo you can just pass the positive exponent then divide 1 by that number (and choose a non-integer type like  - the  type is integral so cannot represent real numbers like )
p3786
as(dp3787
g16
V14860
p3788
stp3789
a((dp3790
g2
(lp3791
VIt's "&apos;", without the quotes of course
p3792
aVAs noted by msanders, this is actually XML and XHTML but not defined in HTML4, so I guess use the ' in that case
p3793
aVI stand corrected
p3794
as(dp3795
g16
V14860
p3796
stp3797
a((dp3798
g2
(lp3799
VWe do it every day
p3800
aVYou can connect to the OMVS/USS (UNIX system services) subsystem using standard telnet or ssh (if the mainframe has had that set up) but, to access the z/OS interface (TSO/E or ISPF), you'll need a 3270 emulator such as x3270 (we use IBM's Personal Communicator product because it's incredibly powerful)
p3801
aVThe mainframe is in no danger of disappearing anytime soon
p3802
aVThere is still a large amount of work being done at the various IBM labs around the world and the 64-bit z/OS (nee MVS, nee OS/390,
p3803
aVhas come a long way
p3804
aVIt's still used in the big corporations as it's the only thing that can be trusted with their transactions - the z in System z means zero downtime and that's not just marketing hype
p3805
aVThe power of the mainframe lies not in it's CPU grunt (the individual processors aren't that powerful but they come in books of 54 CPUs with hot backups, and you can run many books in a single System z box) but in the fact that all the CPU does is process instructions
p3806
aVEverything else is offloaded to specialist processors, zIIPs for DB2, zAAPs for Java workloads, other devices for I/O (and I/O is where the mainframe kills every other system, using fibre optics and very large disk arrays)
p3807
aVI wouldn't use it for protein folding but it's ideal for where it's targeted, massively insane levels of transaction processing
p3808
aVz/OS has a UNIX subsystem and z/VM can run multiple copies of z/OS, other z/VMs and even zLinux (RHEL & SLES) - I've seen a single z800 box running thousands of instances of RHEL concurrently
p3809
aVThis puts all the PC manufacturers 'green' claims to shame and communications between the instances is blindingly fast with HyperSockets (TCP/IP but using shared memory rather than across slow network cables (yes, even Gigabit Ethernet crawls compared to HyperSockets (and sorry for the nested parentheses :-)))
p3810
aVIt runs Websphere Application Server and Java quite well in the Unix space while still allowing all the heritage stuff to run as well
p3811
aVIn fact, mainframe shops need not buy PC-based servers at all, they just plonk down a few zLinux VMs and run everything on the one box
p3812
aVAnd recently, there's talk about that IBM may be providing xSeries (i
p3813
ag75
aV, PCs)  plugin devices for their mainframes as well
p3814
aVWhile most mainframers would consider that a wart on the side of their beautiful box, it does open up a lot of possibilities for third-party vendors
p3815
aVI'm not sure they'll ever be able to run thousands of Windows instances but that's the sort of thing they seem to be aiming for (one ring to rule them all
p3816
aV:-)
p3817
aVIf you're interested, there's a System z emulator called Hercules which I've seen running at 23 MIPS on a Windows box (barely enough grunt to start ISPF for your mainframers out there) but it runs the last legally-usable MVS 3
p3818
aV8j fast enough to get a feel
p3819
aVTo provide a shameless plug for a book one of my friends at work has just written, check out What On Earth is a Mainframe
p3820
aVby David Stephens (ISBN-13 = 978-1409225355)
p3821
aVI found this invaluable since I came from a PC/UNIX background, and it is quite a paradigm shift
p3822
as(dp3823
g16
V14860
p3824
stp3825
a((dp3826
g2
(lp3827
VI find it hard to believe that a redim preserve would be slower than your loop unless it were itself inside the loop
p3828
aVIn which case, for raw speed, don't count the number of 1's in arIn just to set the size of ar
p3829
aVSince ar can never be bigger than arIn, just set it to the same size and redim-preserve at the end (won't be slower since it's outside the loop and will always be trimming, not expanding - VB hopefully can do this in-place rather than allocating more memory)
p3830
aVIn addition, cache size of arIn in case VB calculates it each time through the loop (likely if ReDim's are allowed)
p3831
aVAlternatively, you could remove the redim altogether if you tweak slightly what's returned
p3832
aVMake the return array one bigger than the input array and use the first element to control which parts of the array you'll select randomly
p3833
aVFor your sample, the returned array would be:
p3834
aVThat code would be:
p3835
aVThen, in your code which selects a random value from ar, instead of:
p3836
aVuse:
p3837
as(dp3838
g16
V14860
p3839
stp3840
a((dp3841
g2
(lp3842
VNo
p3843
aVYou would have to symbolically link all the individual files
p3844
aVWhat you could do is to create a job to run periodically which basically removed all of the existing symbolic links in , then re-create the links for all files from the three other directories, but it's a bit of a kludge, something like this:
p3845
aVNote that, while this job is running, it may appear to other processes that the files have temporarily disappeared
p3846
aVYou will also need to watch out for the case where a single file name exists in two or more of the directories
p3847
aVHaving come back to this question after a while, it also occurs to me that you can minimise the time during which the files are not available
p3848
aVIf you link them to a different directory then do relatively fast  operations that would minimise the time
p3849
aVSomething like:
p3850
aVI haven't tested that so anyone implementing it will have to confirm the suitability or otherwise
p3851
as(dp3852
g16
V14860
p3853
stp3854
a((dp3855
g2
(lp3856
VThere may well be a faster way to calculate the values but I don't believe it's necessary
p3857
aVCalculate them once and, in your program, output the results as the fibdata line below:
p3858
aVThen, that's the code you ship to your clients
p3859
aVThat's an O(1) solution for you
p3860
aVPeople often overlook the 'caching' solution
p3861
aVI once had to write trigonometry routines for an embedded system and, rather than using infinite series to calculate them on the fly, I just had a few lookup tables, 360 entries in each for each of the degrees of input
p3862
aVNeedless to say, it screamed along, at the cost of only about 1K of RAM
p3863
aVThe values were stored as 1-byte entries, [actual value (0-1) * 16] so we could just do a lookup, multiply and bit shift to get the desired value
p3864
as(dp3865
g16
V14860
p3866
stp3867
a((dp3868
g2
(lp3869
VThe #ifdef directive is used to check if a preprocessor symbol is defined
p3870
aVThe standard () mandates that identifiers must not start with a digit
p3871
aVThe correct form for using the pre-processor to block out code is:
p3872
aVor
p3873
as(dp3874
g16
V14860
p3875
stp3876
a((dp3877
g2
(lp3878
VUse split to pull the line apart then output the ones you want (say every second column), create the following xx
p3879
aVpl file:
p3880
aVthen execute:
p3881
as(dp3882
g16
V14860
p3883
stp3884
a((dp3885
g2
(lp3886
VAs a bit of history, the term 'slug' comes from the world of newspaper editing
p3887
aVIt's the informal name given to a story during the production process
p3888
aVAs the story winds its torturous path from beat reporter through to editor through to the "printing presses", this is the name it is referenced by, e
p3889
ag1775
aV, "Have you fixed those errors in the 'russia-cuts-europe-gas' story
p3890
aVDjango uses it as part of the URL to locate the story, an example being
p3891
as(dp3892
g16
V14860
p3893
stp3894
a((dp3895
g2
(lp3896
VDon't put definitions in header files, just declarations
p3897
aVDeclarations specify that something exists while definitions actually define them (by allocating space)
p3898
aVFor example ,  and function prototypes are all declarations, while things like ,  and function bodies are definitions
p3899
aVWhat's happening is that you're most likely including stdafx
p3900
aVh in multiple compilation units (C++ source files) and each of the resulting object files is getting its own copy of
p3901
aVThen when you link the objects together, there's two (or more) things called , hence the link error
p3902
aVYou would be better off declaring the variable:
p3903
aVin your header file and defining it somewhere in a C++ source file (such as a ):
p3904
aVThat way, every compilation unit that includes  will know about the external variable, but it's only defined in one compilation unit
p3905
aVBased on your further information:
p3906
aVI was trying to follow http://www
p3907
aVflipcode
p3908
aVcom/archives/How_To_Find_Memory_Leaks
p3909
aVshtml, I assume that all those code are meant to be placed in the stdafx
p3910
aVh
p3911
aVAny other alternatives, pax
p3912
aVMy response is as follows
p3913
aVI wouldn't put them in  myself since I think that uses some MS magic for pre-compiled headers
p3914
aVMake a separate header file  and put your function prototypes in it, for example (note that this has no body):
p3915
aVAlso in that header, put the other prototypes for , , etc
p3916
aV, and the ,  and  statements:
p3917
aVThen, in a new file  (which also contains ), put the actual definition of  along with all the real functions (not just the prototypes) and add that file to your project
p3918
aVThen,  in every source file in which you need to track memory (probably all of them)
p3919
aVBecause there are no definitions in the header file, you won't get duplicates during the link and because the declarations are there, you won't get undefined references either
p3920
aVKeep in mind that this won't track memory leaks in code that you don't compile (e
p3921
ag1775
aV, third-party libraries) but it should let you know about your own problems
p3922
as(dp3923
g16
V14860
p3924
stp3925
a((dp3926
g2
(lp3927
VFor a data range of 0 through 50000 with 2 decimal digits, I would use the built-in types with an epsilon
p3928
aVIt really depends on what you're doing with the numbers
p3929
aVIf you're just adding or subtracting, you would have to process a large number of numbers to have the floating point errors accumulate to 0
p3930
aV01 for your data range
p3931
aVLet me explain: let's say your float has 17 significant digits
p3932
aVThat means your error for numbers up to 49999
p3933
aV99 may be about 0
p3934
aV000000000001
p3935
aVYou would have to add some 10 billion numbers for that cumulative error to reach one cent
p3936
aVMultiplication and division would accumulate that error faster but it would still take quite a while
p3937
aVIf you don't understand how that works (and performance is not the be-all and end-all in your application), use BigDecimal for safety
p3938
aVBuilt-in types should be a lot faster
p3939
as(dp3940
g16
V14860
p3941
stp3942
a((dp3943
g2
(lp3944
VThere is a CICS TxSeries and COBOL for
p3945
aVNET for the 'lesser' platforms, there's even a DB2 but I'm not sure how easy it's going to be to port IDEAL or DataCom to SQL - I don't even think that they're relational
p3946
aVI would consider doing it in stages (i
p3947
ag75
aV, front end first, and DB last) since that's probably the safest migration path
p3948
aVYour front end should be able to be ported to
p3949
aVNET and hopefuly still communicate with the mainframe DB
p3950
aVThen, modify it so that it can use both DataCom or SQL Server
p3951
aVThen drop support for DataCom and get rid of your mainframe
p3952
aVThat's what I'd do if I wanted to migrate (which I don't :-)
p3953
aVMy question to you is: why
p3954
aVz/OS provides far more reliability and throughput than you'll ever get out of a Windows box
p3955
aVIs it the cost of maintenance
p3956
aVThe fact that you're hardware is going out of service
p3957
aVWithout more info, there's not a lot than can be done
p3958
aVThe people with the expertise on those products (IBM and CA) are not going to give you tools to migrate away from them
p3959
as(dp3960
g16
V14860
p3961
stp3962
a((dp3963
g2
(lp3964
VThis is almost certainly a bad idea, according to a recent-ish post by the infamous Raymond Chen
p3965
aVSee here for details
p3966
aVBottom line, I think it can be done, but it's a lot of hard work and there's almost certainly an easier way
p3967
aVMicrosoft built the WOW emulation layer to make your life easier
p3968
aVDon't waste all their time and effort by fighting it :-)
p3969
aVPerhaps if you told us why you need the non-WOW Program Files directory, we could assist further
p3970
as(dp3971
g16
V14860
p3972
stp3973
a((dp3974
g2
(lp3975
VNo, relational algebra is the "assembler code" of database
p3976
aVSQL is the "C code", readable and close enough to the "hardware" to be able to outperform all those other high level languages, provided you know what you're doing :-)
p3977
as(dp3978
g16
V14860
p3979
stp3980
a((dp3981
g2
(lp3982
VIf you're using 'degraded' versions of grep (I quote the term because most UNIX'es I work on still use the original REs, not those fancy ones with "" or "" :-), you can just revert to the lowest form of RE
p3983
aVFor example, if  is defined as spaces and tabs, just use:
p3984
aVThat  is an actual tab character, not the two characters  and
p3985
aVThis is assuming  is defined as tabs and spaces, otherwise adjust the choices within the  characters
p3986
aVThe advantage of using degraded REs is that they should work on all platforms (at least for ASCII; Unicode or non-English languages may have different rules but I rarely find a need)
p3987
as(dp3988
g16
V14860
p3989
stp3990
a((dp3991
g2
(lp3992
VActually, I was looking for a test for a young trainee and this seemed ideal
p3993
aVHere's what he came up with:
p3994
aVIt gives the order of magnitude for the size in a horribly inefficient way
p3995
aVI'll make this community wiki since we're both interested how you rate his code, but I don't want my rep suffering
p3996
aVFeel free to leave comments (be gentle, he's a newbie, though you wouldn't guess it by his shell scripting :-)
p3997
as(dp3998
g16
V14860
p3999
stp4000
a((dp4001
g2
(lp4002
VWhat you're probably going to have to do is have a separate pre-processor program that takes your input file () and a code section in your special source file () like:
p4003
aVThe pre-pre-processor you'll have to write yourself but it'll basically replace the  lines with the equivalent  lines based on the file content, producing a file  which you can then feed into the real compiler
p4004
aVThis is quite easy to achieve under UNIXes if you're using a make variant
p4005
aVMay not be so easy using an IDE
p4006
as(dp4007
g16
V14860
p4008
stp4009
a((dp4010
g2
(lp4011
VIn situations like this where I'm relying on third-party products (SQL Server Express), I tend to use command-line driven installs (either directly in a cmd file or called from a 'proper' install tool)
p4012
aVThis site shows you how to install Express from the command line, then you can use the SQL Express utility for object creation
p4013
aVThis method is 'blessed' by Microsoft
p4014
aVSometimes the simplest solution is the best, even if that means getting the user of my product to install SQL Express separately before running my install
p4015
aVWell, best for me, anyway :-)
p4016
as(dp4017
g16
V14860
p4018
stp4019
a((dp4020
g2
(lp4021
VIf you're only asking about the syntax (not implementation) of macros within Python, then I believe the answer is obvious
p4022
aVThe syntax should closely match what Python already has (i
p4023
ag75
aV, the "" keyword)
p4024
aVWhether you implement this as one of the following is up to you:
p4025
aVbut I believe it should be exactly the same as a normal function with respect to the rest so that:
p4026
aVand
p4027
aVare functionally equivalent
p4028
aVThe way I would implement this is with a pre-processor (a la C) which would:
p4029
aVreplace all defmac's with defs in the input file
p4030
aVpass it through Python to check syntax (sneaky bit, this)
p4031
aVput the defmac's back in
p4032
aVfind all uses of each macro and "inline" them, using your own reserved variables, such as converting local var  with
p4033
aVreturn value should be a special variable as well (macro_second_retval)
p4034
aVglobal variables would keep their real names
p4035
aVparameter can be given _macro_second_param_XXX names
p4036
aVonce all inlining is done, remove the defmac 'functions' entirely
p4037
aVpass the resultant file through Python
p4038
aVNo doubt there'll be some nigglies to take care of (like tuples or multiple return points) but Python is sufficiently robust to handle that in my opinion
p4039
aVSo:
p4040
aVbecomes:
p4041
as(dp4042
g16
V14860
p4043
stp4044
a((dp4045
g2
(lp4046
VBad idea, I believe
p4047
aVThe whole point in separating content from layout was to enable your web page to be displayed on any sort of browser
p4048
aVPutting in artificial limitations such as a minimum screen size will limit your market
p4049
aVHaving said that, I believe every desktop should be able to display 1024x768
p4050
aVBut what about the browsers running on iPhones or other screen-challenged devices, or even those that don't use their entire desktop for the browser
p4051
aVIn answer to your specific question, no, I don't believe there is any standard for a minimum or common display area in browsers
p4052
as(dp4053
g16
V14860
p4054
stp4055
a((dp4056
g2
(lp4057
VIf that's your real code, you've got the brackets in the wrong place in the bind call
p4058
aVOne of the two at the end should be moved to immediately after the "sizeof(sin)"
p4059
aVIn other words, change it from:
p4060
aVto:
p4061
aVThis is a subtle C error unrelated to socket programming but illustrates how you need to be careful when using a language that makes it easy to have have syntactically-correct statements that are semantically incorrect
p4062
aVThe way you have it, it's calculates "" (which is always false (zero) since sizeof(something) is always one or more and SOCKET_ERROR is always -1, at least for WinSock)
p4063
aVIt then passes this zero as the third argument to bind() which naturally complains that you haven't given a big-enough size for the address structure
p4064
aVAnd, because of that, bind() is returning a non-zero error code, which is why your if-block is executing
p4065
aVA very subtle one
p4066
aVMy respect for the C language remains high, even though I've been using it for 20-odd years - respect in the sense of "I respect lions when I'm in the Serengeti" rather than "I respect my wife's opinions" :-)
p4067
as(dp4068
g16
V14860
p4069
stp4070
a((dp4071
g2
(lp4072
VI use vgrep for that sort of stuff
p4073
aVIt's a little known tool called visual-grep which relies on advanced technology like the sapient ocular device and visual cortex for very quickly determining the sameness of pages side-by-side, and it's remarkably accurate and efficient (it ought to be since it's been under development for quite a long time)
p4074
aVMarking community wiki in case the humor police are out today :-)
p4075
as(dp4076
g16
V14860
p4077
stp4078
a((dp4079
g2
(lp4080
VIf it's really a bug, you should visit the jQuery bug tracker site and report it (see http://dev
p4081
aVjquery
p4082
aVcom/)
p4083
aVThis is especially true as 1
p4084
aV3 has only just been released
p4085
aVHowever, given the amount of testing it's gone through, I'd strongly suggest you try a very simple web page to see if it's really a problem with jQuery or, as you suggest, a possible interaction with your other tools (i
p4086
ag75
aV, Mootools)
p4087
aVA bare bones page with just a couple of check boxes, the 1
p4088
aV3 jQuery and the code you've given in your question would be ideal
p4089
aVOnly if it's still an issue then would I raise a bug on jQuery, otherwise I'd start with the various discussion groups to see if they can help
p4090
aVFor example, this piece of code does actually work so it's unlikely to be a bug with jQuery
p4091
as(dp4092
g16
V14860
p4093
stp4094
a((dp4095
g2
(lp4096
VYour "cleanness" appears to be an artificial construct at best
p4097
aVIf you're telling the user to create a shortcut in the start-up folder, you're already leaving a footprint (and, to be honest, there's little difference between "myprog
p4098
aVexe" and "myprog
p4099
aVexe -m")
p4100
aVIn that case, there are some easier approaches than automagically trying to detect where you're running from
p4101
aVI would simply provide a menu option in your program ("Install") which would then install the software to a fixed-disk location (as opposed to the flash drive), including the requisite Programs entry (Start, All Programs, CintaNotes)
p4102
aVAs part of that process (or even after install), you can let them specify "Start with Windows" and then you create the start-up folder shortcut for the user with a command line option so your program can tell if it's running that way
p4103
aVThere's no point in allowing "Start with Windows" unless the program's available (i
p4104
ag75
aV, on the fixed disk, not the flash drive)
p4105
aVYour user need never have to worry about creating shortcuts at all, let alone ones with parameters
p4106
aVAnd this gives your program the control over how it's run - two modes, "installed" (and start minimized) or "running without installing first" (and start normal)
p4107
aVSomething like finding the directory of the executable won't work simply because the start-up folder item that starts your program is likely to be a shortcut to it, so you won't have that path
p4108
aVI think this is a classic case of asking the wrong question
p4109
aVIn answer to your specific question, I say: no, there is no way to tell that you've been launched from a start up folder entry without some command-line parameters
p4110
aVBut, I've been wrong before, just ask my wife :-)
p4111
aVSome-one else may well know a way
p4112
aVAdding this an an edit since comments don't allow enough space:
p4113
aVYou ask:
p4114
aVWhat do you think of just disabling the "Start when Windows starts" option when program detects it is being run from the flash drive
p4115
aVI guess there's a way to detect this
p4116
aVThat's a good idea since it doesn't make sense to allow automatic running until it's installed (since the flash drive may not be there)
p4117
aVOne possibility:
p4118
aV1/ Running from flash, you start with "myprog
p4119
aVexe" since you just double-clicked the executable and you run in a normal window
p4120
aVThis presents the option to "Install to fixed disk" but not "Start with Windows"
p4121
aVAs part of the install process, you may allow them to set up the installed copy to "Start with Windows" but not the current running copy
p4122
aV2/ Your installed program can be set up to run as "myprog
p4123
aVexe -i", since you create the item in Start/AllPrograms
p4124
aVThis would disable "Install to fixed disk" but allow you to toggle "Start with Windows"
p4125
aVYou can choose whether you want explicit running (by the user) to start normal or minimized (see (3))
p4126
aV3/ The shortcut in StartUp can be "myprog
p4127
aVexe -s" (again, you control this because you created it)
p4128
aVThis is identical to (2) but starts minimized (if (2) started minimized anyway, there's no distinction between (2) and (3) and no reason for different command-line options)
p4129
aVThat way, each option can have different behavior as you see fit
p4130
as(dp4131
g16
V14860
p4132
stp4133
a((dp4134
g2
(lp4135
VCode I've written simply creates an email with the required information using the users default email application with information in plain text
p4136
aVI always get the permission of the user to send it, explaining clearly why I think the information is necessary
p4137
aVNothing is sent without their express permission
p4138
aVI also prefer to use plain text (not alway possible with memory dumps and such) so they can check what's being sent and no personal or identifying information
p4139
aVI'm very careful with that stuff since there are possible legal implications with doing it, at least in the jurisdiction where I operate
p4140
aVIn any case, it should always be done with the users permission as a matter of courtesy
p4141
as(dp4142
g16
V14860
p4143
stp4144
a((dp4145
g2
(lp4146
VCalling functions in a select on a per-record basis is almost always a bad idea in terms of performance - disk space is usually much 'cheaper' than CPU capacity (I enclose that in quotes since I'm not talking about dollar costs)
p4147
aVMost databases tend to be "more read than write" as my DBA mentor once told me; the ideal solution in that situation is to have a trigger when inserting or updating the row to calculate the number of words in that column and store them in another column
p4148
aVThe reason it's ideal is that the number of words only changes when you update the field, so it's better to perform the time-intensive calculation at that point rather than (unnecessarily) every time you read the record
p4149
aVThe added required space will be minimal since you're adding an (short) integer to a long (string) but you'll find your queries scream along by just using the integer field (make sure you index on it)
p4150
as(dp4151
g16
V14860
p4152
stp4153
a((dp4154
g2
(lp4155
VYou only need separate columns if your queries are going to process them separately
p4156
aVThat's why last names are usually in separate columns so you can sort and search on them
p4157
aVIn fact, if you could guarantee all names were entered as "Doe, John T", you could get away with just one column for the whole name
p4158
aVI can think of no situation in which you'd want to search on the middle initial alone, and the first/initial column will always be entered as "John T", never as "T, John" so I don't believe you gain anything (search-wise) by separating them
p4159
aVHowever, one possibility springs to mind: personalized letters
p4160
aVYou may want to send a letter to a person in the database starting with "Dear John"
p4161
aVIn that case, it would be advantageous to separate them
p4162
as(dp4163
g16
V14860
p4164
stp4165
a((dp4166
g2
(lp4167
VWhen you don't have the source code for the tool you wish to emulate (as is the case here), there are a number of ways to go about it
p4168
aV1/ From your C code, simply call the tool with a  function call
p4169
aVThis works well as long as there's no visible effect (such as opening a graphical window)
p4170
aVYou could use , for example
p4171
aV2/ Reverse-engineer the code to see how it's actually doing it
p4172
aVThis is somewhat trickier since it will require knowledge of the assembler language, system calls and many other things
p4173
aV3/ Contact the developers to obtain tips on how it was done
p4174
aVThis doesn't have to be a "send me the code so I can rip it off and make money" question
p4175
aVYou could phrase it as "I have an interest in using purge for development but I'm unsure exactly what is does" or "I have security issues with running the code, the powers that be won't let me run it unless we know exactly what it does"
p4176
aVThen you code yours to do the same
p4177
aVMe, I would just use option 1 if possible (I'm inherently lazy :-)
p4178
aVIf you're going to write a tool to compete with purge (and this'll be hard given it's free), option 2 is probably the best bet
p4179
as(dp4180
g16
V14860
p4181
stp4182
a((dp4183
g2
(lp4184
VNo, they're actually a good idea
p4185
aVIf there's a problem with your specific triggers, then you're not doing them right, but that usually means there's a problem with your implementation, not the concept of triggers themselves :-)
p4186
aVWe use triggers a great deal because it places the DBMS-specific activity under the control of the database where it belongs
p4187
aVUsers of a DBMS should not have to worry about that sort of stuff
p4188
aVThe integrity of data lies with the database itself, not the applications or users that use it
p4189
aVWithout constraints and triggers and other features in the database, it's left to the applications to enforce the rules and it only takes one rogue or buggy application/user to destroy the data
p4190
aVFor example, without triggers, such wondrous things as auto-generated columns wouldn't exist and you'd have to process a function on each row when selecting them
p4191
aVThat's likely to kill DBMS performance, far better to create the auto-generated column at insert/update time since that's the only time it changes
p4192
aVAlso, lack of triggers would prevent data rules from being enforced at the DBMS such as pre-triggers to ensure columns have a specific format
p4193
aVNote that this is different from data integrity rules which are generally just foreign key look ups
p4194
as(dp4195
g16
V14860
p4196
stp4197
a((dp4198
g2
(lp4199
VDon't you think he'd rather minimize your window and do some other work
p4200
aVOr go and get a coffee
p4201
aVOr chat with his buddies
p4202
aVWhy don't you just let him know it'll take some time and let him decide
p4203
aVIt seems all you'll be doing is making more work for yourself and the user's precious CPU :-)
p4204
as(dp4205
g16
V14860
p4206
stp4207
a((dp4208
g2
(lp4209
VYou should not be passing the address of the socket structure length to  - it requires the actual length (i
p4210
ag75
aV, , not )
p4211
aVThe reason you pass the address of the length to  is that it is changed by that function if the real address happens to be shorter
p4212
aVIn other words, replace:
p4213
aVwith:
p4214
as(dp4215
g16
V14860
p4216
stp4217
a((dp4218
g2
(lp4219
VARP tables tend to be fairly local and short-lived
p4220
aVIf you examine the protocol, the real MAC addresses are generally only provided when the given IP address is in the local subnet
p4221
aVOtherwise, the packet is forwarded to the local router, which is then responsible for forwarding it
p4222
aVIf you do "" on Windows or "" on UNIX, you'll see the table, but I don't think it will do you any good, due to the reasons mentioned above
p4223
aVThat command and
p4224
aVThat's really what DNS is for but, as you say, it may not be an option for you
p4225
aVYou may well have to write your own 'ARP' database at your application level
p4226
as(dp4227
g16
V14860
p4228
stp4229
a((dp4230
g2
(lp4231
VHave a look at:
p4232
aVand
p4233
aVThe first must be called on the String class (literally ) and will return "@" (for 64)
p4234
aVThe second should be run on a String instance (e
p4235
ag1775
aV, ) and returns the Unicode code of the first character (the '0' is a position within the string, you can get the codes for other characters in the string by changing that to another number)
p4236
aVThe script snippet:
p4237
aVgives:
p4238
aVUnicode for char2580 is: 2580
p4239
aVChar2580 is \u0a14
p4240
as(dp4241
g16
V14860
p4242
stp4243
a((dp4244
g2
(lp4245
VI would also push the numbers 101 through 100+n then pop them all off to ensure they come off in reverse order (will catch sequencing problems such as "sometimes pop will get the second element rather than the first")
p4246
aVThe following sequence should test all but your multithreaded requirement thoroughly:
p4247
aVempty gives true
p4248
aVfull gives false
p4249
aVpop gives error
p4250
aVtop gives error (I assume this is a peek operation)
p4251
aVfor n = 101 to 100+sz-1:
p4252
aVpush n works
p4253
aVtop gives n
p4254
aVempty gives false
p4255
aVfull gives false
p4256
aVpush 100+sz works
p4257
aVtop gives 100+sz
p4258
aVempty gives false
p4259
aVfull gives true
p4260
aVpush 99 gives error
p4261
aVtop gives 100+sz
p4262
aVempty gives false
p4263
aVfull gives true
p4264
aVfor n = 100+sz down to 102:
p4265
aVpop gives n
p4266
aVtop gives n - 1
p4267
aVempty gives false
p4268
aVfull gives false
p4269
aVpop gives 101
p4270
aVtop gives error
p4271
aVempty gives true
p4272
aVfull gives false
p4273
aVpop gives error
p4274
as(dp4275
g16
V14860
p4276
stp4277
a((dp4278
g2
(lp4279
VYes, if you want to restrict what goes in the database
p4280
aVThe layers should be distinct from each other as much as possible and your database shouldn't rely on another layer ensuring that it follows the rules
p4281
aVThere's no guarantee that a buggy (or malicious) "business logic" layer will not insert toxic data into your tables
p4282
aVOf course, if you can trust the other layers, you probably won't need it
p4283
aVBut I work in a mainframe shop where the DBAs are always having to fix problems caused by the young Java whippersnappers rolling out their buggy code to production without adequate (any
p4284
aVtesting :-)
p4285
aVDatabase tables that are shared between different development areas (and that's all of them for us) should always protect themselves from errant data
p4286
aVWhen App A puts dodgy data into the table used by App B, it's not the App A developers that take the heat, it's the DBAs
p4287
as(dp4288
g16
V14860
p4289
stp4290
a((dp4291
g2
(lp4292
VYes
p4293
aVOf course all the tests you performed during TDD of your release will have been added to a regression test suite
p4294
aVBut, in the case of a bug, that regression suite obviously wasn't detailed enough
p4295
aVThe first step in fixing a bug is replicating it and this is TDD
p4296
aVOnce you find a test case that replicates the bug, you can expand on it if you wish (to catch other obvious problems of the same class), but I don't tend to do a lot of expansion since we have specific turnaround times for fixing a single bug
p4297
aVOnce you have a fix for that bug, add the test case to the regression suite
p4298
aVThe idea is to keep adding test cases to the regression suite for both releases and bug fixes to give it very good coverage
p4299
as(dp4300
g16
V14860
p4301
stp4302
a((dp4303
g2
(lp4304
VI do this all the time
p4305
aVI actually keep each of my VMs in a separate directory and duplicate the entire directory to make a copy
p4306
aVAll references within the VMX file (configuration) are relative to the current directory
p4307
aVOne thing you need to watch out for
p4308
aVThe VMX file has a line with the MAC address of the virtual network card:
p4309
aVYou'll need to change that if you want to run both VMs at the same time - I usually just bump the final digit up by 1 (to c8)
p4310
aVI also change the displayName in that file so I can tell the difference between them when they're running
p4311
as(dp4312
g16
V14860
p4313
stp4314
a((dp4315
g2
(lp4316
VA hook is functionality provided by software for users of that software to have their own code called under certain circumstances
p4317
aVThat code can augment or replace the current code
p4318
aVIn the olden days when computers were truly personal and viruses were less prevalent (I'm talking the '80's), it was as simple as patching the operating system software itself to call your code
p4319
aVI remember writing an extension to the Applesoft BASIC language on the Apple II which simply hooked my code into the BASIC interpreter by injecting a call to my code before any of the line was processed
p4320
aVSome computers had pre-designed hooks, one example being the I/O stream on the Apple II
p4321
aVIt used such a hook to inject the whole disk sub-system (Apple II ROMs were originally built in the days where cassettes were the primary storage medium for PCs)
p4322
aVYou controlled the disks by printing the ASCII code 4 () followed by the command you wanted to execute then a , and it was intercepted by the disk sub-system, which had hooked itself into the Apple ROM print routines
p4323
aVSo for example, the lines:
p4324
aVwould list the disk contents then re-initialize the machine
p4325
aVThis allowed such tricks as protecting your BASIC programs by setting the first line as:
p4326
aVthen using  to insert the  character in where the  was
p4327
aVThen, anyone trying to list your source would send the re-initialize sequence through the output routines where the disk sub-system would detect it
p4328
aVThat's often the sort of trickery we had to resort to, to get the behavior we wanted
p4329
aVNowadays, with the operating system more secure, it provides facilities for hooks itself, since you're no longer supposed to modify the operating system "in-flight" or on the disk
p4330
aVThey've been around for a long time
p4331
aVMainframes had them (called exits) and a great deal of mainframe software uses those facilities even now
p4332
aVFor example, the free source code control system that comes with z/OS (called SCLM) allows you to entirely replace the security subsystem by simply placing your own code in the exit
p4333
as(dp4334
g16
V14860
p4335
stp4336
a((dp4337
g2
(lp4338
VNo, if you want to draw on the screen, you'll need to get the OS to do it for you
p4339
aVIf you're worried about the performance or bloat of Swing, check out SWT
p4340
aVIt's lighter weight and matches the native look-and-feel more closely (since it's more or less a wrapper around the OS GUI stuff)
p4341
as(dp4342
g16
V14860
p4343
stp4344
a((dp4345
g2
(lp4346
VI can't say for VPC, but I would suggest getting the freely available VMWare Player - it runs both those versions of Ubuntu (and 8
p4347
aV1) fine
p4348
aVYou'll need to download a small VMX (see EasyVMX) from the web but that's fairly painless
p4349
aVThe only reason I keep VPC around is because it's the only one I know of that still runs OS/2 :-)
p4350
as(dp4351
g16
V14860
p4352
stp4353
a((dp4354
g2
(lp4355
VI'm under the impression that, as long as you set yourself up for notifications, your code will be called for all changes to the DOM whether done on page load or dynamically by Javascript following the page load
p4356
aVI would initially set up an object (X) implementing the DocumentNotificationListener interface and log a message for every method called
p4357
aVThen set that up as a listener with Y
p4358
aVaddDocumentNotificationListener(X) [where Y is your HTMLDocumentImpl object] and load up your page to see which methods are actually called
p4359
aVWorst case is that you'll have to re-render your HTML page on every method call, but you should be able to optimize most of them
p4360
aVFor example, changing colors of a node (DOM object), which results in the X
p4361
aVlookInvalidated(
p4362
aVbeing called, wouldn't require re-rendering of the whole page as the node size doesn't change
p4363
as(dp4364
g16
V14860
p4365
stp4366
a((dp4367
g2
(lp4368
VIt appears to work fine for me, try this little ditty and see what you get
p4369
aVI get (as expected):
p4370
aVSo I'm not sure why yours isn't working, although the output of that script should be a good starting point
p4371
aVThe other thing you can do is temporarily modify your script as follows:
p4372
aVThis will output the actual command you're trying
p4373
aVAlso check file permissions on the directory and individual files
p4374
aVWhat does "ls -l" (mtime) and "ls -lc" (ctime) give you on the actual suspect mail file
p4375
aVIt may be that your script is working fine vut the users email client is not using the mtime/ctime
p4376
aVAfter edit:
p4377
aVQuoting "however clients that rely on mtimes will not display this message regardless of what the script sets the date to", my response is that the client is not relying on mtimes
p4378
aVParaphrasing Sherlock himself, once you have eliminated all the other possibilities, whatever's left, however unlikely, must be the case
p4379
aVAnd one thing I noticed: did you just state that the message isn't being displayed at all (or that it's got the wrong date as I've thought we were talking about)
p4380
aVIf the latter, you need to look into the mail client to see where it's actually getting its date from
p4381
aVJust out of interest, what date does the client think it is (and does it match any date within the header
p4382
aVIf the former, that's a different problem we can discuss
p4383
aVI think that's (the client) where you need to go from here and, since my expertise is more in scripting than email clients, I may not be able to help further
p4384
aVStill, I'm interested to see how it turns out, so I'll favorite this question
p4385
as(dp4386
g16
V14860
p4387
stp4388
a((dp4389
g2
(lp4390
VHold down the shift key and bang on Z twice
p4391
aVis (mostly) equivalent to
p4392
aVIf you really want a single-keystroke solution, FreeBSD comes with the source so, in a pinch, you could modify that and re-compile
p4393
aVIt's a bit of an overkill but it'll solve your problem
p4394
as(dp4395
g16
V14860
p4396
stp4397
a((dp4398
g2
(lp4399
VThis macro will take your data from column A and "extract" it to column B
p4400
aVThe results are (cower at my graphical presentation skills :-):
p4401
aVI've left it as non-destructive for testing purposes, and since it's relatively easy to create a new column, populate it and delete the old column in VBA
p4402
aVAn exercise for the reader
p4403
aVHere is the macro:
p4404
as(dp4405
g16
V14860
p4406
stp4407
a((dp4408
g2
(lp4409
VNot sure about VS2008 but earlier version ran the program with a current directory of debug (or release, I guess) underneath your project directory
p4410
aVYou may have to make sure you use that as the root of your path
p4411
aVAlternatively, prepend your relative path with "
p4412
aV\u005c"
p4413
aVTemporarily put a  inside your code to find out where it's actually running from or use  as suggested by Nick
p4414
as(dp4415
g16
V14860
p4416
stp4417
a((dp4418
g2
(lp4419
VAllocating memory to fit the file is actually quite a bad way of doing it, especially the way it's done here
p4420
aVIf the malloc() fails, no data is written to the output file (and it fails silently)
p4421
aVIn other words, you can't copy files greater than a few gigabytes on a 32-bit platform due to the address space limitations
p4422
aVIt's actually far better to use a smaller memory chunk (allocated or on the stack) and read/write the file in chunks
p4423
aVThe reads and writes will be buffered anyway and, as long as you make the chunks relatively large, the overhead of function calls to the C runtime libraries is minimal
p4424
aVYou should always copy files in binary mode as well, it's faster since there's no chance of translation
p4425
aVSomething like:
p4426
aVThis is from memory but provides the general idea of how to do it
p4427
aVAnd you should always have copiuos error checking
p4428
as(dp4429
g16
V14860
p4430
stp4431
a((dp4432
g2
(lp4433
VWe had a similar problem many years ago with a code base we inherited, many thousands of warnings that we wanted to get rid of
p4434
aVWe drew a line in the sand with some scripts
p4435
aVWe basically stored all the warnings in a file (an exclude list) so that, when we compiled the file, those warnings were stripped from the output (since we didn't care about them)
p4436
aVWhenever a file was changed (new functionality rather than minor bug fixes), the rules were:
p4437
aVno new warnings could be added to the exclude list
p4438
aVThe first 5% of warnings were removed from the exclude list
p4439
aVThe file had to compile warning free (apart from those still on the exclude list
p4440
aVThe script was a tricky one since it had to handle warnings changing lines but, since we were adding none and removing a consecutive chunk, the warnings were still in the same order (so we just ignored line numbers)
p4441
aVThat way, you had a gradual process of removing the warnings and the third rule prevented any new warnings from being added, even after the exclude list had gotten down to zero
p4442
aVNeedless to say, it took quite a few iterations but we identified many instances of warnings (in the 100's) that were caused by a single line of code
p4443
aVWe also had a bonus system (a day off with pay, not drawn from holiday leave) for those that managed to remove all warnings from a file so it was advantageous to remove the last three rather than leave it for the next guy
p4444
as(dp4445
g16
V14860
p4446
stp4447
a((dp4448
g2
(lp4449
VI wouldn't imagine they'd be doing this often enough to be a real concern but, if you're worried, use the trick we pioneered with our BASIC code from days of yore
p4450
aVBack when BASIC had line numbers, we'd simply number them 10, 20, 30 and so on, so that if we needed to insert one between 10 and 20, we'd call it 15
p4451
aVOr if 20 should have come before 10, we'd renumber it to 5
p4452
aVWith a 32 bit integer column you could have 200,000 friends with a spacing of 100, more than enough to move things around, especially if you're clever
p4453
aVYou may want to run a sweep job occasionally to renumber the friends to 100, 200, and so on (sort of a disk defragmenter for your social network)
p4454
aVDon't try to detect this by the looking at the friend numbers, use another field, setting it to true when a user re-arranges their friends and clearing it when you defragment
p4455
aVThis will be more efficient
p4456
as(dp4457
g16
V14860
p4458
stp4459
a((dp4460
g2
(lp4461
VYou need to run your own counter thus:
p4462
as(dp4463
g16
V14860
p4464
stp4465
a((dp4466
g2
(lp4467
VWe came across a (slightly) similar problem which may assist you
p4468
aVOur problem was with BIRT, the Eclipse report generation tool
p4469
aVIt's a fine product but required the use of the BIRT Eclipse Designer (GUI) to generate the report definitions (tedious at best, buggy in early version, specifically with copying and modifying report designs, which was the only way to quickly make a lot of similar report designs)
p4470
aVSince we wanted a batch approach to be able to generate hundreds on report designs at a time (and to be able to change small stylistic things and re-generate the whole lot again), we opted to create our own Java-based tool which would take our simple report specification (50-odd lines) and turn it directly into a BIRT XML report design file (thousands of lines)
p4471
aVWe already had the simple report specification files since our reporting subsystem already existed - we were just adding web reporting as an option to it
p4472
aVIt worked because all of our reports follow the same basic format - we didn't need very complicated stuff in them
p4473
aVWhat it entailed was to use the GUI to create a couple of reports then reverse engineer them to figure out how to generate the BIRT XML from our specification files
p4474
aVThis was the hardest bit
p4475
aVIt seems like you could follow a similar approach with your slideshows
p4476
aVUse the GUI tool to generate the sort of XML files you need then reverse engineer them
p4477
aVSo, I would create a totally empty slideshow with no content, then create one slide with text, another with animation, another with an embedded OGG and so on, then compare the steps to see how the XML changes for each added element
p4478
aVThen you can create a tool which takes your simple commands (e
p4479
ag1775
aV, , , , ) and spews forth the relevant XML
p4480
aVWe didn't use XML as the source (since I can't stand the verbosity) but, if you do use it, it may just be a matter of XML transformations to get what you need
p4481
as(dp4482
g16
V14860
p4483
stp4484
a((dp4485
g2
(lp4486
VOkay, biting the bullet, let's see how this munges my rep :-)
p4487
aVThis is not the answer you want but STOP
p4488
aVBack up
p4489
aVDownload a JS library (such as jQuery), then restart
p4490
aVYour life will be easier, you'll have more time to spend with family and friends, and you'll be less grumpy whenever you have to ask more questions here (and believe me, that will be less often :-)
p4491
aVThe very fact that you have to ask the advice of a JS expert should indicate to you that you're going about it the wrong way
p4492
aVTrust me, all the JS experts are already using a JS library because they've already faced all the nigglies like cross-browser compatibility and other such painful issues
p4493
as(dp4494
g16
V14860
p4495
stp4496
a((dp4497
g2
(lp4498
VTanenbaum's Structured Computer Organization was my intro into the 'levels' of computers
p4499
aVIt's quite logical, approaching each level built on the previous
p4500
aVI've often thought of doing a similar one, stretching from quantum physics through classical physics, electronics, integrated circuits, microcode, machine code, compilers, interpreters, VMs and so on, but I fear that would be about as possible as Knuth's 12-volume series
p4501
aVI hope he has a child to carry on the work :-)
p4502
as(dp4503
g16
V14860
p4504
stp4505
a((dp4506
g2
(lp4507
VSome people would say that two threads is too many - I'm not quite in that camp :-)
p4508
aVHere's my advice: measure, don't guess
p4509
aVOne suggestion is to make it configurable and initially set it to 100, then release your software to the wild and monitor what happens
p4510
aVIf your thread usage peaks at 3, then 100 is too much
p4511
aVIf it remains at 100 for most of the day, bump it up to 200 and see what happens
p4512
aVYou could actually have your code itself monitor usage and adjust the configuration for the next time it starts but that's probably overkill
p4513
aVFor clarification and elaboration:
p4514
aVI'm not advocating rolling your own thread pooling subsystem, by all means use the one you have
p4515
aVBut, since you were asking about a good cut-off point for threads, I assume your thread pool implementation has the ability to limit the maximum number of threads created (which is a good thing)
p4516
aVI've written thread and database connection pooling code and they have the following features (which I believe are essential for performance):
p4517
aVa minimum number of active threads
p4518
aVa maximum number of threads
p4519
aVshutting down threads that haven't been used for a while
p4520
aVThe first sets a baseline for minimum performance in terms of the thread pool client (this number of threads is always available for use)
p4521
aVThe second sets a restriction on resource usage by active threads
p4522
aVThe third returns you to the baseline in quiet times so as to minimise resource use
p4523
aVYou need to balance the resource usage of having unused threads (A) against the resource usage of not having enough threads to do the work (B)
p4524
aV(A) is generally memory usage (stacks and so on) since a thread doing no work will not be using much of the CPU
p4525
aV(B) will generally be a delay in the processing of requests as they arrive as you need to wait for a thread to become available
p4526
aVThat's why you measure
p4527
aVAs you state, the vast majority of your threads will be waiting for a response from the database so they won't be running
p4528
aVThere are two factors that affect how many threads you should allow for
p4529
aVThe first is the number of DB connections available
p4530
aVThis may be a hard limit unless you can increase it at the DBMS - I'm going to assume your DBMS can take an unlimited number of connections in this case (although you should ideally be measuring that as well)
p4531
aVThen, the number of threads you should have depend on your historical use
p4532
aVThe minimum you should have running is the minimum number that you've ever had running + A%, with an absolute minimum of (for example, and make it configurable just like A) 5
p4533
aVThe maximum number of threads should be your historical maximum + B%
p4534
aVYou should also be monitoring for behaviour changes
p4535
aVIf, for some reason, your usage goes to 100% of available for a significant time (so that it would affect the performance of clients), you should bump up the maximum allowed until it's once again B% higher
p4536
aVIn response to the "what exactly should I measure
p4537
aVquestion:
p4538
aVWhat you should measure specifically is the maximum amount of threads in concurrent use (e
p4539
ag1775
aV, waiting on a return from the DB call) under load
p4540
aVThen add a safety factor of 10% for example (emphasised, since other posters seem to take my examples as fixed recommendations)
p4541
aVIn addition, this should be done in the production environment for tuning
p4542
aVIt's okay to get an estimate beforehand but you never know what production will throw your way (which is why all these things should be configurable at runtime)
p4543
aVThis is to catch a situation such as unexpected doubling of the client calls coming in
p4544
as(dp4545
g16
V14860
p4546
stp4547
a((dp4548
g2
(lp4549
VI don't think it's a bad thing, provided you understand (and document :-) it
p4550
aVI don't doubt there may be a more pythonic way or clever solution (with lambdas or whatnot) but I've always favored readability over cleverness
p4551
aVSince you have to generate all possibilities of 1-, 2-, 3- and 4-character "words", this method is as good as any
p4552
aVI'm not sure how long it would take since you're effectively generating (very roughly) 14 million lines of output (but probably every solution would have that problem)
p4553
aVPre-calculating the common prefixes may provide a speed boost but you'd be better off measuring it to check (always check, never assume):
p4554
aVEDIT: I actually did some benchmarks (with Windows-Python 2
p4555
aV6
p4556
aV1) - this version takes about 2
p4557
aV25 time units compared to the original 2
p4558
aV84 so it's 26% faster
p4559
aVI think that might warrant its use (again, as long as it's documented clearly what it's trying to achieve)
p4560
as(dp4561
g16
V14860
p4562
stp4563
a((dp4564
g2
(lp4565
VFor a start, you're printing the pointer, not what it points to
p4566
aVTo print the actual contents, you need to pass  to , not
p4567
aVIf you really want to do this, one solution is:
p4568
as(dp4569
g16
V14860
p4570
stp4571
a((dp4572
g2
(lp4573
VThe following complete program will do what you desire
p4574
aVI've converted your array into a char pointer (string) and interspersed the leap year values
p4575
aVI've also removed the dummy entries and adjusted the loop
p4576
aVThe test program lacks serious error checking so don't expect it to work with dodgy arguments
p4577
as(dp4578
g16
V14860
p4579
stp4580
a((dp4581
g2
(lp4582
VFor me, I would tell the user of the FPGA that they must have one of the bits set to 1 on entry
p4583
aVHowever, if that's not your preferred solution, what's wrong with the idea of pre-feeding all the Current inputs initially into a big NOR gate (so that the output is true only when all inputs are false)
p4584
aVAll Current lines also continue through to their AND gates with the exception that Current[1] is OR'ed with the output of our NOR gate before entering it's AND gate
p4585
aVThat way, Current[1] would be true entering the AND gate, if all Currents are false
p4586
aVKeep in mind that I understand boolean algebra but I've never worked on raw hardware - I'm guessing you'll need to buffer all the input signals into the AND gates to ensure correct timing but i suspect you'll know that better than I
p4587
aVThe following diagram is left in in case SO fixes its code/pre blocks - the latest SO update seems to have stuffed them up (leaving them proportional, not fixed-width, font)
p4588
aVAnyway, eJames' graphical diagram is better
p4589
aVHere's my diagram, slightly less elegant than yours :-):
p4590
as(dp4591
g16
V14860
p4592
stp4593
a((dp4594
g2
(lp4595
VThe better way is to do this with code
p4596
aVPeople keep insisting on using SQL, which is a relational algebra, for doing procedural duties
p4597
aVTrying to shoehorn procedural-ness onto SQL is always a bad idea, in terms of both complexity and performance
p4598
aVTake this advice from a professional DBA
p4599
aVRun two queries from your code
p4600
aVOutput the larger set first then the total line in whatever format you desire
p4601
aVYour queries will be smaller and simpler, your performance will improve and you'll get the output you desire
p4602
aVSome other advice - disk space is cheap and most database tables are read far more often than they're written
p4603
aVSet up an insert/update trigger (if possible in MySQL) to populate a separate column with calculated fields like "" and use that for queries
p4604
aVPer-row functions are not scalable and will kill your DBMS performance as it gets bigger
p4605
as(dp4606
g16
V14860
p4607
stp4608
a((dp4609
g2
(lp4610
VMy approach would be to use the JavaScript  to check if there is some Java version available
p4611
aVThen you can use  from within a Java applet itself
p4612
aVThat should be enough to get you the version information, such as
p4613
as(dp4614
g16
V14860
p4615
stp4616
a((dp4617
g2
(lp4618
VMaybe it's the id of the class system (as in Freud's id/ego/superego) - that would make a bit of sense given the id is the basal nature of an organism
p4619
aVNot that I believe any of that Freud rubbish anyway :-)
p4620
aVOr, maybe the developers of Obj-C came from the UNIX school of namers (with "ls" or "cd") rather than the VAX school (with its "show directory" and "set directory")
p4621
aVOr, it could stand for instance data, which is probably more likely
p4622
as(dp4623
g16
V14860
p4624
stp4625
a((dp4626
g2
(lp4627
VIt sounds like it's just an alias (define or typedef) for void*
p4628
aVI have no idea why people think that would be better but I know some APIs like to use that in case the implementation of a type changes in future
p4629
aVI know that early versions of windows used things like STDCALL as a prefix to many functions and the definition of STDCALL could change based on which version of Windows you compiled for
p4630
aVThis is from memory (which is affected by alcohol after many years :-), so don't rely on this as gospel
p4631
aVIt's basically correct but the details might be a little different
p4632
as(dp4633
g16
V14860
p4634
stp4635
a((dp4636
g2
(lp4637
VIt's 10^27 as shown by this bit of python code:
p4638
aV1,000,000,000,000,000,000,000,000,000
p4639
aVThe problems with your code as posted are:
p4640
aVin your 10^7 solution, you're always multiplying by 10, not temp (which is increased to the final value of p after the j loop)
p4641
aVYou're setting temp to arr[i], not p, in your PHP code (which I'll include here so my answer still makes sense after you edited it out of your question :-)
p4642
as(dp4643
g16
V14860
p4644
stp4645
a((dp4646
g2
(lp4647
VWow, are you really creating so many files that this matters
p4648
aVMaybe you should re-examine your file creation strategies :-)
p4649
aVSeriously, I can't think of that many situations where I'd end up with even a thousand files in my sub-directories
p4650
aVCertainly not executable or configuration types
p4651
aVMaybe log-type files could get to those sort of numbers but, even if you were creating a log file every minute (and why would you
p4652
aV, that's still only 1400-odd a day
p4653
aVThen just have one sub-directory for each day and it would take several years to reach a thousand sub-directories
p4654
as(dp4655
g16
V14860
p4656
stp4657
a((dp4658
g2
(lp4659
VNot that I'm aware of
p4660
aVClosest thing we've done (with malloc/free for debugging) is to
p4661
aVcreate a new library file with just the functions desired (same name as original)
p4662
aVplace it in a different directory to the original
p4663
aVmake a dependency from our library file to the original
p4664
aVchange the LD_LIBRARY_PATH (or SHLIB_PATH
p4665
aVto put our library first in the search chain
p4666
aVThat way, our functions got picked up first by the loader, any we didn't supply were provided by the original
p4667
aVThis was a while ago
p4668
aVAIX 5L is supposed to be much more like Linux (hence the L) so it may be able to do exactly what you require
p4669
aVAlternatively, if you have the source, munge the calls to time() with mytime() and provide your function
p4670
aVYou're not testing exactly the same software but the differences for that sort of minimal change shouldn't matter
p4671
as(dp4672
g16
V14860
p4673
stp4674
a((dp4675
g2
(lp4676
VA cursory search of Google for 'hibernate custom id generator tutorial' turned up the following possibilities
p4677
aVI've excluded those that don't look useful and summarized the content of each
p4678
aVhttp://www
p4679
aVdevx
p4680
aVcom/Java/Article/30396 - covers the issues of generating an ID before the data is persisted (and hence does not yet have a business key)
p4681
aVhttp://docs
p4682
aVjboss
p4683
aVorg/hibernate/core/3
p4684
aV6/reference/en-US/html_single/#mapping-declaration - the whole document is very useful but not so much a tutorial as reference
p4685
aVIdeal when looking at the other tutorials
p4686
aVhttp://www
p4687
aVjavaworld
p4688
aVcom/javaworld/jw-08-2008/jw-08-hibernate-annotations
p4689
aVhtml shows how to use annotations to set up your schema (including auto-generated values)
p4690
aVHope that helps
p4691
as(dp4692
g16
V14860
p4693
stp4694
a((dp4695
g2
(lp4696
VThe best way to do this is with varargs
p4697
aVCreate a function with the same prototype as printf() and use the varargs functions to pass data to sprintf to populate the desired buffer, the also pass that buffer to printf("%s") before returning
p4698
aVA lot of the early implementations had a 4K limit on the lowest level printf() call but I would opt for more than that
p4699
aVYou probably need to just set an upper limit and stick to it
p4700
aVOne trick we used in a logging system was to write the data using printf() to a /dev/null handle
p4701
aVSince printf() returns the number of characters written, we then used that to allocate a buffer
p4702
aVBut that wasn't very efficient since it involved calling a printf()-type function twice
p4703
as(dp4704
g16
V14860
p4705
stp4706
a((dp4707
g2
(lp4708
VThere are a number of ways you could approach this
p4709
aV1/ See if the product has a silent install mode (e
p4710
ag1775
aV, using a configuration file to install)
p4711
aVThen you just incorporate that into your own install
p4712
aV2/ There are programs that can emulate a user, such as Rational Robot (I wouldn't suggest that one since it's commercial, but there's likely to be free ones around)
p4713
aVWe mostly use these for automated testing of graphical applications but they can just as easily use it to run an installer
p4714
aV3/ Contact the developer to see what the actual install process entails, then copy that
p4715
aV4/ Microsoft has a number of system tools (here) that can track changes to the filesystem, registry and so on
p4716
aVYou could use these to reverse-engineer the install process and do those same things in your own install
p4717
aVPersonally, I'd go with number 3 first
p4718
aVThe developer would be happy to know their product is being used and may provide the information readily
p4719
aVThey may even write a silent installer for you as this would be an extra selling point for their product in a corporate environment (suggest this to them)
p4720
as(dp4721
g16
V14860
p4722
stp4723
a((dp4724
g2
(lp4725
VYou'll probably find you're setting the date to Feb 31, 2009 (if today is Jan 31) and Javascript automagically rolls that into the early part of March
p4726
aVCheck the day of the month, I'd expect it to be 1, 2 or 3
p4727
aVIf it's not the same as before you added a month, roll back by one day until the month changes again
p4728
aVThat way, the day "last day of Jan" becomes "last day of Feb"
p4729
aVEDIT:
p4730
aVRonald, based on your comments to other answers, you might want to steer clear of edge-case behavior such as "what happens when I try to make Feb 30" or "what happens when I try to make 2009/13/07 (yyyy/mm/dd)" (that last one might still be a problem even for my solution, so you should test it)
p4731
aVInstead, I would explicitly code for the possibilities
p4732
aVSince you don't care about the day of the month (you just want the year and month to be correct for next month), something like this should suffice:
p4733
aVThat gives you Jan 1 the following year for any day in December and the first day of the following month for any other day
p4734
aVMore code, I know, but I've long since grown tired of coding tricks for efficiency, preferring readability unless there's a clear requirement to do otherwise
p4735
as(dp4736
g16
V14860
p4737
stp4738
a((dp4739
g2
(lp4740
VPeople mostly use allocation routines to allocate space for a set number of items, so  allows that to be specified nicely
p4741
aVSo, for example, if you want space for 100 integers or 20 of your own structure:
p4742
aVThis code actually looks slightly "nicer" than the equivalent  calls:
p4743
aValthough, to seasoned C coders, there's no real distinction (other than the zero initialization of course)
p4744
aVI have to say I have never used calloc in the wild, since I'm almost always creating a  where zero's don't make sense
p4745
aVI prefer to initialize all the fields manually to ensure I get the values I want
p4746
as(dp4747
g16
V14860
p4748
stp4749
a((dp4750
g2
(lp4751
VI would think that whatever language you were using would specify how floats were stored
p4752
aVI know Java does this by use of a specific IEEE standard (754, I think)
p4753
aVIf it's not specified, I would think you could just do your own check by adding 0
p4754
aV5 to 1 to see if the actual number changes
p4755
aVIf it does, then add 0
p4756
aV25 to 1, the 0
p4757
aV125 to 1, and so on until the number doesn't change, something like:
p4758
aVIf you only had 3 mantissa bits, then 1 + 1/16 would be equal to 1
p4759
aVThen you've exhausted your mantissa bits
p4760
aVYou might actually need the base number to be 2 rather than 1, since IEEE754 uses an implied '1+' at the start
p4761
aVEDIT:
p4762
aVIt appears the method described above may have some issues as it gives 63 bits for a system that clearly has 4-byte floats
p4763
aVWhether that's to do with intermediate results (I doubt it since the same code with explicit casts [] has similar problems) or (more likely, I believe) the possibility that the unit value  can be represented with bits closer to the fractional  by adjusting the exponent, I don't yet know
p4764
aVFor now, it's best to rely on the language information I mentioned above such as use of IEEE754  (if that information is available)
p4765
aVI'll leave the problematic code in as a trap for wary players
p4766
aVMaybe someone with more floating point knowledge then I can leave a note explaining why it acts strangely (no conjecture, please :-)
p4767
aVEDIT 2:
p4768
aVThis piece of code fixes it by ensuring intermediates are stored in floats
p4769
aVTurns out Jonathan Leffler was right - it was intermediate results
p4770
aV}
p4771
aVThis code outputs (24,24) to show that the calculated value matches the one in the header file
p4772
aVWhilst written in C, it should be applicable to any language (specifically one where the information isn't available in a header or by virtue that it's specified in the language documentation)
p4773
aVI only tested in C because Eclipse takes so long to start on my Ubuntu box :-)
p4774
as(dp4775
g16
V14860
p4776
stp4777
a((dp4778
g2
(lp4779
VDoes anyone else else think it's a waste to convert these strings to date/time objects for what is, in the end, a simple text transformation
p4780
aVIf you're certain the incoming dates will be valid, you can just use:
p4781
aVThis will almost certainly be faster than the conversion to and from a date
p4782
as(dp4783
g16
V14860
p4784
stp4785
a((dp4786
g2
(lp4787
VSimply put, no
p4788
aVNot guaranteed on all architectures
p4789
aVMy question is: why
p4790
aVIf you want to allocate a type big enough to store a , the best thing to allocate is (surprisingly enough :-) a
p4791
aVWhy is there a need to fit it within an
p4792
aVEDIT: Based on your comments to your duplicate question, you want to store special values of the pointer (1,2,3) to indicate extra information
p4793
aVNO
p4794
aVDon't do this
p4795
aVThere is no guarantee that 1, 2 and 3 aren't perfectly valid pointers
p4796
aVThat may be the case in systems where you're required to align pointers on 4-byte boundaries but, since you asked about all architectures, I'm assuming you have portability as a high value
p4797
aVFind another way to do it that's correct
p4798
aVFor example, use the union (syntax from memory, may be wrong):
p4799
aVThen you can use the isPointer 'boolean' to decide if you should treat the union as an integer or pointer
p4800
aVEDIT:
p4801
aVIf execution speed is of prime importance, then the typedef solution is the way to go
p4802
aVBasically, you'll have to define the integer you want for each platform you want to run on
p4803
aVYou can do this with conditional compilation
p4804
aVI would also add in a runtime check to ensure you've compiled for each platform correctly thus (I'm defining it in the source but you would pass that as a compiler flag, like ""):
p4805
aVOn my system (Ubuntu 8
p4806
aV04, 32-bit), I get:
p4807
aVIn that case, I'd know I needed to compile with PTRINT_INT (or long)
p4808
aVThere may be a way of catching this at compile time with #if, but I couldn't be bothered researching it at the moment
p4809
aVIf you strike a platform where there's no integer type sufficient for holding a pointer, you're out of luck
p4810
aVKeep in mind that using special pointer values (1,2,3) to represent integers may also not work on all platforms - this may actually be valid memory addresses for pointers
p4811
aVStill ,if you're going to ignore my advice, there's not much I can do to stop you
p4812
aVIt's your code after all :-)
p4813
aVOne possibility is to check all your return values from malloc and, if you get 1, 2 or 3, just malloc again (i
p4814
ag75
aV, have a mymalloc() which does this automatically)
p4815
aVThis'll be a minor memory leak but it'll guarantee no clashes between your special pointers and real pointers
p4816
as(dp4817
g16
V14860
p4818
stp4819
a((dp4820
g2
(lp4821
VFirst thing, the 5 is not considered part of the list, it's the count for the list
p4822
aVHence it shouldn't be included in the calculations
p4823
aVSince this is homework, here's the pseudo-code
p4824
aVYour job is to understand the pseudo-code first (run it through your head with sample inputs) then turn this into C code and try to get it compiling and running successfully (with those same sample inputs)
p4825
aVI would suggest the sample input of "2 7 3" (two items, those being 7 and 3) as a good start point since it's small and the sum will be 10, smallest 3
p4826
aVIf you've tried to do that for more than a day, then post your code into this question as an edit and we'll see what we can do to help you out
p4827
aVStack Overflow seems to be divided into three camps, those that will just give you the code, those that will tell you to push off and do your own homework and those, like me, who would rather see you educated - by the time you hit the workforce, I hope to be retired so you won't be competing with me :-)
p4828
aVAnd before anyone picks holes in my algorithm, this is for education
p4829
aVI've left at least one gotcha in it to help train the guy - there may be others and I will claim I put them there intentionally to test him :-)
p4830
aVUpdate:
p4831
aVRobert, after your (very good) attempt which I've already commented on, this is how I'd modify your code to do the task (hand yours in of course, not mine)
p4832
aVYou can hopefully see how my comments modify the code to reach this solution:
p4833
aVAnd here is the output from your sample data:
p4834
aVBy the way, make sure you always add comments to your code
p4835
aVEducators love that sort of stuff
p4836
aVSo do developers that have to try to understand your code 10 years into the future
p4837
as(dp4838
g16
V14860
p4839
stp4840
a((dp4841
g2
(lp4842
VI usually use the find/substitute/next/repeat command :-)
p4843
aVThat's , , , , and so on
p4844
aVIt's a pain for massive substitutions but it lets you selectively ignore some occurrences of old (by just pressing  again to find the next one instead of  to repeat a substitution)
p4845
as(dp4846
g16
V14860
p4847
stp4848
a((dp4849
g2
(lp4850
VBuy
p4851
aVWhat is this buy of which you speak, stranger
p4852
aVSeriously, I haven't had to buy a piece of software for my own projects for a long long time
p4853
aVAll my development tools are free, all my third-party libraries are free (not GPL)
p4854
aVEven my OS is free
p4855
aVI have to pay for Windows for testing purposes but the majority of work uses tools that are cross-platform
p4856
aVAnything that requires code not immediately available from free tools or libraries, I either write from scratch (all the algorithms are available for free on the web) or use my (huge since I'm so old) snippet library which I've been adding source code to for many years
p4857
aVIt's almost always quicker to buy ("obtain") than build unless the bought stuff is so crappy that integration is a nightmare
p4858
aVThis can be mitigated by avoiding the latest whizz-bang stuff from suppliers that have little track record
p4859
as(dp4860
g16
V14860
p4861
stp4862
a((dp4863
g2
(lp4864
VIt sounds like statistical sampling
p4865
aVWhen you buy a product, there's a good chance that not every single product coming off the "assembly line" has been checked for quality
p4866
aVStatistical sampling calls for checking a certain percentage of products to almost ensure they're all problem-free
p4867
aVIt minimizes the effort at the risk of some problems sneaking through and is absolutely necessary where the testing process is a destructive one - if you carry out destructive testing on 100% of your production line, that's not going to leave much for distribution :-)
p4868
aVTo be honest, unless you're checking every single execution path and every single possible input value, you're already doing this in your testing
p4869
aVThe amount of effort required to test everything for any but the most simplistic systems is not worth it
p4870
aVThe extra cost would make your product a non-compete item
p4871
aVNote that statistical sampling doesn't just involve testing every 100th unit
p4872
aVThere are ways to target the sampling to improve the chance of catching problems
p4873
aVFor example, if historical data suggests most errors are introduced at a specific phase, target that phase
p4874
aVIf one of your developers is more problematic than others, check his stuff more closely
p4875
aVFrom what I can see from a cursory glance at some research papers, statistical debugging is just that - targeting areas based on past history of problems
p4876
aVI know we already do this for our software
p4877
aVSince any bugs that get fixed have to pass unit and system tests that replicate the problem (and our TDD says these tests should be written before trying to fix the bug), those tests are automatically added to the regression test suite so that those areas that cause more problems naturally are tested more often in the future
p4878
as(dp4879
g16
V14860
p4880
stp4881
a((dp4882
g2
(lp4883
VProbably not what you want to hear but we found all sorts of problems in relying on behavior in different  localizations of Windows
p4884
aVWe had a cmd file which worked fine in US English but when we sent it for localization, they found all sorts of issues, and we have to support about 23 different versions
p4885
aVIn the end, it was easier to write (actual C) code to get the information via Win32 and output it in the format we wanted
p4886
aVThis removed reliance on specific localization formats and configuration issues (some commands output differently not just based on locale but also on user configuration)
p4887
aVMy advice: find a different way of doing this
p4888
as(dp4889
g16
V14860
p4890
stp4891
a((dp4892
g2
(lp4893
VWe had a similar problem with BIRT reports in that we wanted to report on those days that had no data
p4894
aVSince there were no entries for those dates, the easiest solution for us was to create a simple table that stored all dates and use that to get ranges or join to get zero values for that date
p4895
aVWe have a job that runs every month to ensure that the table is populated 5 years out into the future
p4896
aVThe table is created thus:
p4897
aVNo doubt there are magical tricky ways to do this with different DBMS' but we always opt for the simplest solution
p4898
aVThe storage requirements for the table are minimal and it makes the queries so much simpler and portable
p4899
aVThis sort of solution is almost always better from a performance point-of-view since it doesn't require per-row calculations on the data
p4900
aVThe other option (and we've used this before) is to ensure there's an entry in the table for every date
p4901
aVWe swept the table periodically and added zero entries for dates and/or times that didn't exist
p4902
aVThis may not be an option in your case, it depends on the data stored
p4903
aVIf you really think it's a hassle to keep the  table populated, a stored procedure is the way to go which will return a dataset containing those dates
p4904
aVThis will almost certainly be slower since you have to calculate the range every time it's called rather than just pulling pre-calculated data from a table
p4905
aVBut, to be honest, you could populate the table out for 1000 years without any serious data storage problems - 365,000 16-byte (for example) dates plus an index duplicating the date plus 20% overhead for safety, I'd roughly estimate at about 14M [365,000 * 16 * 2 * 1
p4906
aV2 = 14,016,000 bytes]), a minuscule table in the scheme of things
p4907
as(dp4908
g16
V14860
p4909
stp4910
a((dp4911
g2
(lp4912
VFrom source to executable is generally a two stage process for C and associated languages, although the IDE probably presents this as a single process
p4913
aV1/ You code up your source and run it through the compiler
p4914
aVThe compiler at this stage needs your source and the header files of the other stuff that you're going to link with (see below)
p4915
aVCompilation consists of turning your source files into object files
p4916
aVObject files have your compiled code and enough information to know what other stuff they need, but not where to find that other stuff (e
p4917
ag1775
aV, the LUA libraries)
p4918
aV2/ Linking, the next stage, is combining all your object files with libraries to create an executable
p4919
aVI won't cover dynamic linking here since that will complicate the explanation with little benefit
p4920
aVNot only do you need to specify the directories where the linker can find the other code, you need to specify the actual library containing that code
p4921
aVThe fact that you're getting  unresolved externals indicates that you haven't done this
p4922
aVAs an example, consider the following simplified C code () and command
p4923
aVThis compiles the  file to
p4924
aVThe  contains the prototype for  so that compilation will succeed
p4925
aVThe  instructs the compiler to generate an object file rather than an executable and the  sets the output file name
p4926
aVBut the actual code for  is not in the header file but in , so to link, you need something like:
p4927
aVThis creates  from , using libraries (searched for in the given paths) of the form  (the lib and
p4928
aVso are added by the linker usually)
p4929
aVIn this example,  sets the search path for libraries
p4930
aVThe  specifies a library to find for inclusion in the executable if necessary
p4931
aVThe linker usually takes the "bob" and finds the first relevant library file in the search path specified by
p4932
aVA library file is really a collection of object files (sort of how a zip file contains multiple other files, but not necessarily compressed) - when the first relevant occurrence of an undefined external is found, the object file is copied from the library and added to the executable just like your  file
p4933
aVThis generally continues until there are no more unresolved externals
p4934
aVThe 'relevant' library is a modification of the "bob" text, it may look for , , , , ,  and so on
p4935
aVThe relevance is decided by the linker itself and should be documented
p4936
aVHow it works depends on the linker but this is basically it
p4937
aV1/ All of your object files contain a list of unresolved externals that they need to have resolved
p4938
aVThe linker puts together all these objects and fixes up the links between them (resolves as many externals as possible)
p4939
aV2/ Then, for every external still unresolved, the linker combs the library files looking for an object file that can satisfy the link
p4940
aVIf it finds it, it pulls it in - this may result in further unresolved externals as the object pulled in may have its own list of externals that need to be satisfied
p4941
aV3/ Repeat step 2 until there are no more unresolved externals or no possibility of resolving them from the library list (this is where your development was at, since you hadn't included the LUA library file)
p4942
aVThe complication I mentioned earlier is dynamic linking
p4943
aVThat's where you link with a stub of a routine (sort of a marker) rather than the actual routine, which is later resolved at load time (when you run the executable)
p4944
aVThings such as the Windows common controls are in these DLLs so that they can change without having to relink the objects into a new executable
p4945
as(dp4946
g16
V14860
p4947
stp4948
a((dp4949
g2
(lp4950
VThis is a no-brainer
p4951
aVFor a commercial product, MIT is preferred since it's the more permissive license
p4952
aVIt still allows you to submit your code changes back to the community but the GPL would require you to
p4953
aVBut, if all you're changing is the jQuery JS file(s), I don't think that matters
p4954
aVUnder the GPL, you would have to license those changes under the GPL but probably not your whole application (these are my thoughts, they may be wrong - I've been known to be wrong before, just ask my wife)
p4955
aVStill, I'd go for MIT just to protect myself
p4956
as(dp4957
g16
V14860
p4958
stp4959
a((dp4960
g2
(lp4961
VWhen you installed Cygwin, did you install the full package set
p4962
aVThe default is to only install a baseline of packages which may not include X
p4963
aVRun setup
p4964
aVexe again and ensure the X11 packages are installed
p4965
aVI just click on the little double arrows next to "All" until it says "Install"
p4966
aVIt may be you chose "Default" instead
p4967
aVIt's better to have a full install since I remember having problems with Cygwin dependencies in the past and now, when I run 'Start', 'All Programs', 'CygWin-X', 'XWin Server', it runs fine, opening up one shell, then 'xterm &' opens another shell
p4968
aVSo I really think you need to install the lot
p4969
aVYou could try, at a bare minimum, the whole X11 group (not just xinit) but you may as well do the lot, especially given the powerful commands you get
p4970
as(dp4971
g16
V14860
p4972
stp4973
a((dp4974
g2
(lp4975
VThe magic number comes from UNIX-type systems where the first few bytes of a file held a marker indicating the file type
p4976
aVPython puts a similar marker into its  files when it creates them
p4977
aVThen the python interpreter makes sure this number is correct when loading it
p4978
aVAnything that damages this magic number will cause your problem
p4979
aVThis includes editing the  file or trying to run a  from a different version of python (usually later) than your interpreter
p4980
aVIf they are your  files, just delete them and let the interpreter re-compile the  files
p4981
aVOn UNIX type systems, that could be something as simple as:
p4982
aVor:
p4983
aVIf they are not yours, you'll have to either get the  files for re-compilation, or an interpreter that can run the  files with that particular magic value
p4984
aVOne thing that might be causing the intermittent nature
p4985
aVThe  that's causing the problem may only be imported under certain conditions
p4986
aVIt's highly unlikely it would import sometimes
p4987
aVYou should check the actual full stack trace when the import fails
p4988
aVAs an aside, the first word of all my   files is ,  is
p4989
aVThe list of all magic numbers can be found in , reproduced here for completeness:
p4990
as(dp4991
g16
V14860
p4992
stp4993
a((dp4994
g2
(lp4995
VIt may well be that the ribbon is part of the Win32 common controls in Vista (hence not available under XP)
p4996
aVIn other words, though you have statically linked MFC, it may not be MFC that holds the resource you're looking for
p4997
aVMaking community wiki, since I really have no idea if this is right :-)
p4998
as(dp4999
g16
V14860
p5000
stp5001
a((dp5002
g2
(lp5003
VShort answer, no
p5004
aVLong answer, not in a portable foolproof manner
p5005
as(dp5006
g16
V14860
p5007
stp5008
a((dp5009
g2
(lp5010
VI think what you're after is:
p5011
aVThis will put the lesser used names at the top of the list and, if there's multiples with the same (lowest) used_count, they'll sort randomly
p5012
as(dp5013
g16
V14860
p5014
stp5015
a((dp5016
g2
(lp5017
VThis depends totally on the compiler, machine instruction set and, probably, phase of the moon
p5018
aVThere is no specific correct answer because of this
p5019
aVIf you really want to know, check the assembly output from the compiler
p5020
aVFrom a simplistic point of view, I would say that the second is slower since it involves all the calculations of the first plus a multiply
p5021
aVBut the compiler may well be smart enough to optimize that away
p5022
aVSo the correct answer is: it depends
p5023
as(dp5024
g16
V14860
p5025
stp5026
a((dp5027
g2
(lp5028
VIt's the game of Life
p5029
aVI don't believe there was a specific name for the algorithm (unless it's the algorithm of Life which sounds like something you'd buy from those late-night shonky infomercials)
p5030
as(dp5031
g16
V14860
p5032
stp5033
a((dp5034
g2
(lp5035
VI would use a two-stage approach
p5036
aVGenerally, a large percentage of output strings will be under a certain threshold and only a few will be larger
p5037
aVStage 1, use a reasonable sized static buffer such as 4K
p5038
aVSince  can restrict how many characters are written, you won't get a buffer overflow
p5039
aVWhat you will get returned from  is the number of characters it would have written if your buffer had been big enough
p5040
aVIf your call to  returns less than 4K, then use the buffer and exit
p5041
aVAs stated, the vast majority of calls should just do that
p5042
aVSome will not and that's when you enter stage 2
p5043
aVIf the call to  won't fit in the 4K buffer, you at least now know how big a buffer you need
p5044
aVAllocate, with , a buffer big enough to hold it then  it again to that new buffer
p5045
aVWhen you're done with the buffer, free it
p5046
aVWe worked on a system in the days before  and we acheived the same result by having a file handle connected to  and using  with that
p5047
aV/dev/null was always guaranteed to take as much data as you give it so we would actually get the size from that, then allocate a buffer if necessary
p5048
aVKeep in kind that not all systems have  (for example, I understand it's  in Microsoft C) so you may have to find the function that does the same job, or revert to the  solution
p5049
aVAlso be careful if the data can be changed between the size-checking  and the actual  to the buffer (i
p5050
ag75
aV, wathch out for threads)
p5051
aVIf the sizes increase, you'll get buffer overflow corruption
p5052
aVIf you follow the rule that data, once handed to a function, belongs to that function exclusively until handed back, this won't be a problem
p5053
as(dp5054
g16
V14860
p5055
stp5056
a((dp5057
g2
(lp5058
VActually this is something I would do with a program
p5059
aVCreate a macro to:
p5060
aVinsert column C
p5061
aVset range("cN")
p5062
aVvalue to "=bN-aN" for all N where range("aN")
p5063
aVvalue <> ""
p5064
aVdo your countif calculation and shove it into a cell (not column C)
p5065
aVdelete column C
p5066
aVThere may be an easier non-programming way but I don't know it (and then your question would be closed anyhow)
p5067
as(dp5068
g16
V14860
p5069
stp5070
a((dp5071
g2
(lp5072
VYou can do triggers, this is not an unreasonable use of them at all
p5073
aVA pre-insert and pre-update trigger should work fine
p5074
aVIn addition, you can do a one-shot fix, something like:
p5075
aVThe syntax may not be perfect, but you should get the idea
p5076
aVBut I'm not sure I understand your "off by a few pennies" remark
p5077
aVYou would have to sum a rather large number of floats for the errors to accumulate to 0
p5078
aV01
p5079
aVWhat is the column definition you're using
p5080
aVOf course, one of the money-type decimal column definitions would be better for perfect accuracy but you may lose portability between DBMS'
p5081
as(dp5082
g16
V14860
p5083
stp5084
a((dp5085
g2
(lp5086
VNot the whole list technically, but you could use a bit mask to decide if a number has already been selected
p5087
aVThis has a lot less storage than the number list itself
p5088
aVSet all N bits to 0, then for each desired number:
p5089
aVuse one of the normal linear congruent methods to select a number from 1 to N
p5090
aVif that number has already been used, find the next highest unused (0 bit), with wrap
p5091
aVset that numbers bit to 1 and return it
p5092
aVThat way you're guaranteed only one use per number and relatively random results
p5093
as(dp5094
g16
V14860
p5095
stp5096
a((dp5097
g2
(lp5098
VSince you have the dollar values entered as negatives in the table already, you can use the simple formula:
p5099
aVI don't believe you should be subtracting the credit items as they're already negative
p5100
aVIf you really do want want the net count of transactions:
p5101
aVor, if there are only two charge codes, substitute:
p5102
aVfor the last column
p5103
as(dp5104
g16
V14860
p5105
stp5106
a((dp5107
g2
(lp5108
VWrite code, lots of it
p5109
aVAnd not those fluffy little HelloWorld-type programs
p5110
aVFind either a real project that interests you or something you've already written that can be converted to C# and do that
p5111
aVOnly by doing (and, unfortunately, making copious mistakes) do we learn
p5112
as(dp5113
g16
V14860
p5114
stp5115
a((dp5116
g2
(lp5117
VI would store them in one large ArrayList and worry about (possibly unnecessary) optimisations later on
p5118
aVBeing inherently lazy, I don't think it's a good idea to optimise unless there's a demonstrated need
p5119
aVOtherwise, you're just wasting effort that could be better spent elsewhere
p5120
aVIn fact, if you can set an upper bound to your word count and you don't need any of the fancy List operations, I'd opt for a normal (native) array of string objects with an integer holding the actual number
p5121
aVThis is likely to be faster than a class-based approach
p5122
aVThis gives you the greatest speed in accessing the individual elements whilst still retaining the ability to do all that wonderful string manipulation
p5123
aVNote I haven't benchmarked native arrays against ArrayLists
p5124
aVThey may be just as fast as native arrays, so you should check this yourself if you have less blind faith in my abilities than I do :-)
p5125
aVIf they do turn out to be just as fast (or even close), the added benefits (expandability, for one) may be enough to justify their use
p5126
as(dp5127
g16
V14860
p5128
stp5129
a((dp5130
g2
(lp5131
VI think you should be able to just subclass a handler and then override the methods to allow output to go to multiple files depending on the level of the message
p5132
aVThis would be done by overriding the publish() method
p5133
aVAlternatively, if you have to use the system-provided FileHandler, you could do a setFilter() on it to inject your own filter into the mix and, in that filter code, send ALL messages to your other file and return true if the LogRecord level if INFO or higher, causing the FileHandler
p5134
aVpublish() to write it to the real file
p5135
aVI'm not sure this is the way you should be using filters but I can't see why it won't work
p5136
as(dp5137
g16
V14860
p5138
stp5139
a((dp5140
g2
(lp5141
VI think because the shell probably attaches itself to /dev/tty but I may be wrong
p5142
aVWhy wouldn't you just set execute permissions on the script and use:
p5143
aVIf you want to capture stderr and stdout to a, just use:
p5144
aVTo check file is executable first:
p5145
aVand you'll notice I'm switching to the $() method instead of backticks
p5146
aVI prefer $() since you can nest them (e
p5147
ag1775
aV, "")
p5148
as(dp5149
g16
V14860
p5150
stp5151
a((dp5152
g2
(lp5153
VThis works on every Windows box I've got access to (XP+)
p5154
aVThe great thing is, you don't have to use the actual , you can substitute your own search path by using a different environment variable
p5155
as(dp5156
g16
V14860
p5157
stp5158
a((dp5159
g2
(lp5160
VISO 7813 specifies the layouts for track 1 and 2
p5161
aVTrack 3 is covered by ISO 4909
p5162
aVTrack 2 is the one commonly used for banking
p5163
aVSee ISO7813 and ISO4909 for details
p5164
aVSorry, no wikipedia for 4909, you'll have to buy the docs from ISO or your country's standards body
p5165
as(dp5166
g16
V14860
p5167
stp5168
a((dp5169
g2
(lp5170
VThe SQL standard doesn't accept this; you've found a DBMS that doesn't enforce referential integrity
p5171
aVUninstall it now if you're smart
p5172
aVAt a bare minimum, don't use it for production purposes
p5173
aVEarlier SQL standards (SQL86) had no referential integrity and SQL89 level 2 fixed that
p5174
as(dp5175
g16
V14860
p5176
stp5177
a((dp5178
g2
(lp5179
VNo, you can't run IIS on UNIX
p5180
aVWhat you can do is run it on Windows where it belongs
p5181
aVIf this is a personal project then, by all means, trust it to Mono if you wish
p5182
aVI'm unconvinced that Mono is ready for prime-time and far too many Microsoft "partners" have found themselves stranded once they became good enough to compete with the Microsoft core products
p5183
aVI'm of the personal opinion (and it's only opinion so don't bother arguing with me) that Mono will either remain a less-than-adequately-supported backwater or be destroyed altogether if it starts to become too successful
p5184
aVBut if it's anything of importance, you need to run it in a supported configuration
p5185
aVThat means no Mono, no UNIX
p5186
aVOtherwise, when you call Microsoft for help, they get to laugh at you mercilessly :-)
p5187
as(dp5188
g16
V14860
p5189
stp5190
a((dp5191
g2
(lp5192
VI'd just fix it now
p5193
aVYou should never have been writing your stuff to that directory anyway, it violates the guidelines
p5194
aVYour product won't work when there's multiple users logged on to the server at the same time, even pre-VISTA
p5195
aVVista 64-bit will detect that you're a 32-bit app and will automagically redirect your attempts at modifying "Program Files" to "Program Files x86"
p5196
aVIn fact, it totally makes you believe you're running on a 32-bit system (see here)
p5197
aVI suspect there's extra protection in this emulation layer from programs trying to change things under Program Files
p5198
aVOr maybe the ACLs are set better under Vista 64-bit (or the emulation layer which is more likely)
p5199
aVBottom line: don't do what you're doing, Microsoft has been telling us not to do that for a long time now
p5200
as(dp5201
g16
V14860
p5202
stp5203
a((dp5204
g2
(lp5205
VFrom the early days of C:
p5206
aVYes, I know they meant the constant, but I wonder what sort of extreme universe-altering behavior would have to occur for the actual value of PI to change
p5207
as(dp5208
g16
V14860
p5209
stp5210
a((dp5211
g2
(lp5212
VFor the first, you don't use $ for variables inside awk, try this instead:
p5213
aVFor the second, your condition NF means NF
p5214
aV=0 so it will only print for non empty lines:
p5215
aVI've never seen your syntax for the third one, ARGV is a single dimensional array, so you can use:
p5216
aVNote I'm using a BEGIN block for the third, otherwise it'll try to open and process 1, 2, 3,
p5217
aVas files
p5218
as(dp5219
g16
V14860
p5220
stp5221
a((dp5222
g2
(lp5223
VSome possibilities to look at or things to try:
p5224
aVIt may be that the pHDVideo->VideoData[iFrame] or pHDVideo->VideoData is being freed somewhere
p5225
aVI doubt this is the case but I'd check all the places this can happen anyway
p5226
aVOutput a debug statement each time you free on of those AND just before your crash statement
p5227
aVSomething might be overwriting the pHDVideo->VideoData[iFrame] values
p5228
aVPrint them out when allocated and just before your crash statement to see if they've changed
p5229
aVIf 0x0110f000 isn't within the range of one of them, that's almost certainly the case
p5230
aVSomething might be overwriting the pHDVideo value
p5231
aVPrint it out when allocated and just before your crash statement to see if it's changed
p5232
aVThis depends on what else is within your pHDVideo structure
p5233
aVPlease show us the code that crashes, with a decent amount of context so we can check that out as well
p5234
aVIn answer to your specific questions:
p5235
aV1/ It's implementation- or platform-specific, and it doesn't matter in this case
p5236
aVIf your new's were failing you'd get an exception or null return, not a dodgy pointer
p5237
aV2/ It's not the case: see (1)
p5238
aV3/ See above for some possibilities and things to try
p5239
aVFollowing addition of your screenshot:
p5240
aVYou do realize that the error message says "Access violation reading
p5241
aVThat means it's not complaining about writing to  but reading from
p5242
aViPixelIndex is set to 25458, so can you confirm that  exists
p5243
aVI can't see from your screenshot how this->VideoData is allocated and populated
p5244
as(dp5245
g16
V14860
p5246
stp5247
a((dp5248
g2
(lp5249
VSure, although you'll need more complicated examples to truly understand how REs work
p5250
aVConsider the following RE:
p5251
aVwhich is a typical identifier (must start with alpha and can have any number of alphanumeric and undescore characters following, including none)
p5252
aVThe following pseudo-code shows how this can be done with a finite state machine:
p5253
aVNow, as I said, this is a very simple example
p5254
aVIt doesn't show how to do greedy/nongreedy matches, backtracking, matching within a line (instead of the whole line) and other more esoteric features of state machines that are easily handled by the RE syntax
p5255
aVThat's why REs are so powerful
p5256
aVThe actual finite state machine code required to do what a one-liner RE can do is usually very long and complex
p5257
aVThe best thing you could do is grab a copy of some lex/yacc (or equivalent) code for a specific simple language and see the code it generates
p5258
aVIt's not pretty (it doesn't have to be since it's not supposed to be read by humans, they're supposed to be looking at the lex/yacc code) but it may give you a better idea as to how they work
p5259
as(dp5260
g16
V14860
p5261
stp5262
a((dp5263
g2
(lp5264
VNo, not duplicate the stack, duplicate the "top" entry
p5265
aVSo if your stack is:
p5266
aVyou get:
p5267
aVThe subject "it", in this case, refers to "the top element of the stack", not "the stack"
p5268
aVI gather "elements" was a typo
p5269
as(dp5270
g16
V14860
p5271
stp5272
a((dp5273
g2
(lp5274
VI don't think you can drop all tables in one hit but you can do the following to get the commands:
p5275
aVThe output of this is a script that will drop the tables for you
p5276
aVFor indexes, just replace table with index
p5277
aVYou can use other clauses in the  section to limit which tables or indexes are selected (such as "" for those starting with "pax_")
p5278
aVYou could combine the creation of this script with the running of it in a simple bash (or cmd
p5279
aVexe) script so there's only one command to run
p5280
aVIf you don't care about any of the information in the DB, I think you can just delete the file it's stored in off the hard disk - that's probably faster
p5281
aVI've never tested this but I can't see why it wouldn't work
p5282
as(dp5283
g16
V14860
p5284
stp5285
a((dp5286
g2
(lp5287
VTwo that I am aware of personally: Whilst working at a telco, we installed a middleware product, basically a message router, that was written is Scheme, and used "schemelets" to identify and translate messages
p5288
aVThat was my first exposure to it
p5289
aVThe second was a certain suite of compilers and IDEs (I can't mention the company or product for various reasons but they came from before the age of visual tools :-)
p5290
as(dp5291
g16
V14860
p5292
stp5293
a((dp5294
g2
(lp5295
VFor a non-self-balancing tree (possible but unusual for a search tree), worst case is O(n), which is for the degenerate binary tree (a linked list)
p5296
aVIn this case, you have to search, on average, half the list before finding your desired element
p5297
aVBest case is O(log2 n) for a perfectly balanced tree, since you cut the search space in half for every tree level
p5298
aVAverage case is somewhere in between those two and depends entirely on the data :-)
p5299
aVSince you rarely get to control the sequence in which data is inserted into a tree, self-balancing trees are usually preferable since, while they add a small amount of time to each insertion or deletion, they greatly speed up searching
p5300
aVTheir worst case is so much better than unbalanced trees
p5301
aVIn this perfectly balanced tree, you can see that you get 2n-1 nodes for every  levels
p5302
aVThat means for 15 nodes, you never have to search more than four nodes to find it (e
p5303
ag1775
aV, to find , you search , ,  and )
p5304
aVThat's where the log2n figure comes from
p5305
aVA degenerate unbalanced tree, as already stated, is a linked list
p5306
aVIf your data arrived in sequence and you inserted it into an unbalanced binary tree, you'd get:
p5307
aVTo find  in that case, you'd need to search , , , , , , , , , , ,  and , hence O(n)
p5308
as(dp5309
g16
V14860
p5310
stp5311
a((dp5312
g2
(lp5313
VThe following script shows how to do this using background tasks
p5314
aVThe first section kills a 60-second process after the 10-second limit
p5315
aVThe second attempts to kill a process that's already exited
p5316
aVKeep in mind that, if you set your timeout really high, the process IDs may roll over and you'll kill the wrong process but this is more of a theoretical issue - the timeout would have to be very large and you would have to be starting a lot of processes
p5317
aVHere's the output on my Cygwin box:
p5318
aVIf you want to only wait until the process has finished, you need to enter a loop and check
p5319
aVThis is slightly less accurate since  and the other commands will actually take more than one second (but not much more)
p5320
aVUse this script to replace the second section above (the "" and "" commands are for debugging, I wouldn't expect to have them in the final solution)
p5321
aVIt basically loops, checking if the process is still running every second
p5322
aVIf not, it exits the loop with a special value to not try and kill the child
p5323
aVOtherwise it times out and does kill the child
p5324
aVHere's the output for a :
p5325
aVand a :
p5326
as(dp5327
g16
V14860
p5328
stp5329
a((dp5330
g2
(lp5331
VI think you should be using , not
p5332
aVAnd, secondly, you can't define functions withing functions in C++
p5333
aVMove the other function definition outside of your class : specifically you need to move the second last brace before your  to immediately before
p5334
as(dp5335
g16
V14860
p5336
stp5337
a((dp5338
g2
(lp5339
VSince you asked specifically about awk (there are tools better suited to the job), the following is a first-cut solution:
p5340
aVA more complicated and configurable solution, where you could change the number of columns used for output, would be:
p5341
aVOther possibilities, if you're not restricted to awk, are:
p5342
aVBased on your edit and comments, I suggest cut is the best tool for the job
p5343
aVUse "", "" or "" for more details (this depends on your platform)
p5344
as(dp5345
g16
V14860
p5346
stp5347
a((dp5348
g2
(lp5349
VWith two 's surely that should be indication enough that you're not allowed to change it :-)
p5350
aVBut, seriously, one of those states that the pointer shouldn't change, the other states that the data pointed to by the pointer shouldn't change
p5351
aVThat's why you're getting the access violation
p5352
aVWhat you'll need to do is to copy, not just cast, the data to another buffer which is somewhat less const
p5353
aVHint: Buffer
p5354
aVBlockCopy is the way to go
p5355
as(dp5356
g16
V14860
p5357
stp5358
a((dp5359
g2
(lp5360
VI'd think twice about using split since those are obviously fixed width fields
p5361
aVI've seen them before on another question here (several in fact so I'm guessing this may be homework (or a popular data collection device :-)) and it's plain that the protocol is:
p5362
aVSTX (0x01)
p5363
aV0x0f
p5364
aVdate (YYMMDD or DDMMYY)
p5365
aVtime (HHMMSS)
p5366
aV0x02
p5367
aVvalue (XXXXXX
p5368
aVX)
p5369
aV0x03
p5370
aV0x04
p5371
aVAnd, given that they're fixed width, you should probably just use substrings to get the information out
p5372
as(dp5373
g16
V14860
p5374
stp5375
a((dp5376
g2
(lp5377
VThis is something that should be built in to the application itself in order to avoid possible contention between threads
p5378
aVIn my opinion, a thread should never control the execution of another (e
p5379
ag1775
aV, suspend/resume), except for starting it
p5380
aVThey should merely suggest that the other thread control itself (with mutexes and events, for example)
p5381
aVThat greatly simplifies thread management and reduces the possibility of race conditions
p5382
aVIf you really want thread B to know what thread A is currently doing, thread A should be communicating that to thread B (or any other thread such as the main thread below) using, as an example, a mutex-protected string with the function name in it
p5383
aVSomething along the lines of (pseudo-code):
p5384
aV
p5385
aVThis method can be used in any language or environment that supports threading, not just
p5386
aVNet or C#
p5387
aVEach function in thread A has prolog and epilog code to save, set and restore the values used in other threads
p5388
as(dp5389
g16
V14860
p5390
stp5391
a((dp5392
g2
(lp5393
VI'm thinking you may just need to change:
p5394
aVto:
p5395
aVand get rid of the "" to see what happens
p5396
aVI think you'll be pleasantly surprised :-)
p5397
as(dp5398
g16
V14860
p5399
stp5400
a((dp5401
g2
(lp5402
VThe first step is to see where the output is going
p5403
aVThe first thing I would do is choose a slightly smaller file so that you're not waiting around for seven minutes for each test
p5404
aVStep 1/ See where things are being written in the shell
p5405
aVExecute the command  then look at those two files
p5406
aVIdeally, everything will be written to stdout but that may not be the case
p5407
aVThis gives you the baseline behavior of the script
p5408
aVStep 2/ Do the same thing when run from PHP by using
p5409
aVYour PHP script probably won't get anything returned in this case but the files should still be populated
p5410
aVThis will catch any changed behavior when running in a non-terminal environment
p5411
aVIf some of the output goes to stderr, then the solution should be as simple as
p5412
aVAdditionally, the doco for PHP states (my bolding):
p5413
aVSo I'm not sure you should even be using , although it's shown in one of the examples
p5414
aVStill, I think line-based input maps more to what you're trying to achieve
p5415
aVIrrespective of all this, you should read the output in a loop to ensure you can get the output when it's more than 4K, something like:
p5416
aVAnother thing to look out for, if you're output is going to a browser and it takes too long, the browser itself may time out since it thinks the server-side connection has disappeared
p5417
aVIf you find a small file working and your 10M/1minute file not working, this may be the case
p5418
aVYou can try  but not all browsers will honor this
p5419
as(dp5420
g16
V14860
p5421
stp5422
a((dp5423
g2
(lp5424
VWhy is the team choosing the name
p5425
aVDon't you have a manager
p5426
aVThat's how organizations are supposed to work: if one level can't achieve the goal in a timely manner, escalate it up to the next level
p5427
aVWhat a colossal waste of time
p5428
as(dp5429
g16
V14860
p5430
stp5431
a((dp5432
g2
(lp5433
VThis will do the trick:
p5434
aVThe most common IO manipulators that control padding are:
p5435
aVsets the width of the field
p5436
aVsets the fill character
p5437
aVsets the alignment, where align is ios::left or ios::right
p5438
as(dp5439
g16
V14860
p5440
stp5441
a((dp5442
g2
(lp5443
VIn a procedural program, the code is king and the data is subordinate
p5444
aVIn other words, you have programs which act on data and they're not usually tightly bound
p5445
aVIn the OO world, objects are the primary thing of interest
p5446
aVAn object consists of data and the code that is allowed to act on that data, and they are very tightly bound
p5447
aVIt is the concept of encapsulation, the hiding of information
p5448
aVAn example, let's say you have a number and you want to double it
p5449
aVA procedural way of doing this is:
p5450
aVThe code here quite explicitly multiplies n by 2 and stores the result back into n
p5451
aVThe OO way of doing this is to send a "message" to the number object telling it to double itself:
p5452
aVThe advantage of this is called polymorphism
p5453
aVWhat happens when you decide you want to be able to double a string like "bob"
p5454
aVIn the procedural world, you'd have to provide more code to do the doubling but you'd also have to call that code differently
p5455
aVWith OO, you create a string object which can also take the 'double' message
p5456
aVThe code to double a string belongs to the string object so it knows it has to act differently to the number object
p5457
aVIf it decided that "bob" * 2 was "bobbob", the code would look something like:
p5458
aVThen you could call x
p5459
aVdouble() no matter what actual type x was (number or string) and it would know which code to run - this greatly simplifies your code
p5460
aVYou can double integer, strings, matrices, complex numbers, reals, window sizes on your monitor and all sorts of different things
p5461
aVAnd you're right, a C library can be made to look a little bit like objects
p5462
aVThe classic example is  - you don't ever care what a  actually points to, just the fact that it will behave in a certain way
p5463
aVThe , ,  and other functions are an class of sorts representing the I/O capabilities of C
p5464
as(dp5465
g16
V14860
p5466
stp5467
a((dp5468
g2
(lp5469
VIt worked fine for me
p5470
aVOne thing I noticed is that there was a security check dialog box (trust content from Sun
p5471
aVand a Sun advert saying how great JavaFX was :-)
p5472
aVMake sure these aren't starting up behind your browser window - it won't continue to run until you trust the content, and I've seen that behavior before
p5473
aVOtherwise, I suspect it's a security (or other) setting in your browser
p5474
aVFWIW, I'm using Firefox 3
p5475
ag2592
aV5 and the recently downloaded Sun JRE 1
p5476
ag4556
aV_03 (I think)
p5477
aVIt's also not very smart yet, even on difficulty level 2
p5478
aVPlayer to top-left, Computer to center, Player to bottom right, "Computer to a corner" will always result in a player win (unless they're TicTacToe-deficient somehow)
p5479
aVThe right move for the computer in the quotes above is one of the edges
p5480
aVBut I'm pretty certain you didn't want me to critique your AI :-)
p5481
as(dp5482
g16
V14860
p5483
stp5484
a((dp5485
g2
(lp5486
s(dp5487
g16
V14860
p5488
stp5489
a((dp5490
g2
(lp5491
VGo see your lecturer and/or tutor and ask for advice
p5492
aVThat's what they're there for
p5493
aVYou haven't given us anywhere near enough info to help you out
p5494
aVHere's what I think your ABCD program should look like
p5495
aVI suggest you use it as a baseline to try to make a 0 2 4
p5496
aVversion
p5497
aVWhen you've at least had a go at converting this, post the code and we'll critique what you've done
p5498
aVIf you're taught something, it never lasts but, if you learn something, it lasts forever (alcohol-addled braincells notwithstanding :-)
p5499
aVis the DOS interrupt which allows assembler programs to use various DOS functions
p5500
aVIt's conceptually a huge switch statement based on the  register which is why you'll see things like , which means execute  followed by
p5501
aVwill take the contents of  and output that to the screen
p5502
aVSo the sequence:
p5503
aVwill output the 'A' character (0x41)
p5504
aVSimilarly,  will exit the current running process
p5505
as(dp5506
g16
V14860
p5507
stp5508
a((dp5509
g2
(lp5510
VIdeally, I think you would have two separate search terms, one for description (s1) and one for color (s2)
p5511
aVThen your query becomes:
p5512
aVSubstituting in the values for s1 and s2 of course
p5513
aVA blank s2 would result in %% which should match everything (I think)
p5514
aVTo be able to search on multiple terms in either field, you need something like
p5515
aVThis will have to be constructed on the fly, based on the number of words in your search pattern (so "black dress" will have s1 and s2, black will just have s1)
p5516
aVThe "description + colour" bit is concatenated fields; my SQL is a bit rusty so I don't know how you'd do that exactly but the concept is sound
p5517
as(dp5518
g16
V14860
p5519
stp5520
a((dp5521
g2
(lp5522
VDid my predecessor know something I didn't, or am I right to be saying "WTF
p5523
aVwhen I look at this schema
p5524
aVNo, your predecessor didn't
p5525
aVYes, you are right
p5526
aVSee note at the end, however
p5527
aVIt seems like it's insanely inefficient and difficult to maintain like this, and it makes running reports extra difficult because the data I need could be contained in text fields OR it might be in one of a dozen tables that have similar information and are used in different parts of the application
p5528
aVIt is insanely inefficient
p5529
aVSee note at the end, however
p5530
aVA column should always be an indivisible attribute of the row
p5531
aVI see two copies of three (maybe four) attributes in this column you've shown:
p5532
aVquanity (2x/4x)
p5533
aVcode (#ABC-12345/#ABC-12344)
p5534
aVdescription (Widget, Black:/Widget, Blue:) [may be description and color attributes]
p5535
aVprice ($24
p5536
aV99/$23
p5537
aV50)
p5538
aVThis would have been better designed as:
p5539
aVNOTE:
p5540
aVIt's possible that this was done to preserve historical information in the face of changing values elsewhere in the database
p5541
aVFor example, if the description of a stock item changes or the item is deleted
p5542
aVHowever, that's still not the right way to handle it
p5543
aVIn that case, foreign key constraints would have stopped the item code from being deleted and processes should have been in place to prevent the description from being updated (such as versioning the stock item codes)
p5544
aVOf course, if you're never going to search on any of the items within that column, this is perfectly valid, though unwise in terms of possible future functionality to search on them
p5545
aVMaybe the only thing ever searched on in this table is the customer code - then a free-format text field is adequate
p5546
aVI still wouldn't do it that way but a YAGNI argument can be made that it would be better to change the DB schema in the future, if and when that search functionality needs to be added
p5547
as(dp5548
g16
V14860
p5549
stp5550
a((dp5551
g2
(lp5552
VThis confusion usually comes about because the  keyword serves two purposes
p5553
aVWhen used at file level, it controls the visibility of its object outside the compilation unit, not the duration of the object (visibility and duration are layman's terms I use during educational sessions, the ISO standard uses different terms which you may want to learn eventually, but I've found they confuse most beginning students)
p5554
aVObjects created at file level already have their duration decided by virtue of the fact that they're at file level
p5555
aVThe  keyword then just makes them invisible to the linker
p5556
aVWhen used inside functions, it controls duration, not visibility
p5557
aVVisibility is already decided since it's inside the function - it can't be seen outside the function
p5558
aVThe  keyword in this case, causes the object to be created at the same time as file level objects
p5559
aVNote that, technically, a function level static may not necessarily come into existence until the function is first called (and that may make sense for C++ with its constructors) but every C implementation I've ever used creates its function level statics at the same time as file level objects
p5560
aVAlso, whilst I'm using the word "object", I don't mean it in the sense of C++ objects (since this is a C question)
p5561
aVIt's just because  can apply to variables or functions at file level and I need an all-encompassing word to describe that
p5562
aVFunction level statics are still used quite a bit - they can cause trouble in multi-threaded programs if that's not catered for but, provided you know what you're doing (or you're not threading), they're the best way to preserve state across multiple function calls while still providing for encapsulation
p5563
aVEven with threading, there are tricks you can do in the function (such as allocation of thread specific data within the function) to make it workable without exposing the function internals unnecessarily
p5564
aVThe only other choices I can think of are global variables and passing a "state variable" to the function each time
p5565
aVIn both these cases, you expose the inner workings of the function to its clients and make the function dependent on the good behavior of the client (always a risky assumption)
p5566
as(dp5567
g16
V14860
p5568
stp5569
a((dp5570
g2
(lp5571
VYou need to specify the "" (or "") flag to take advantage of this behavior
p5572
as(dp5573
g16
V14860
p5574
stp5575
a((dp5576
g2
(lp5577
VThere are plenty of shells around for Windows, bash under Cygwin is the one I use the most, and it's certainly free
p5578
aVI have to be honest here, cmd
p5579
aVexe has come a long way since the batch file processor of MSDOS
p5580
aVIt's actually quite powerful, but still not a pimple on the rear end of bash :-)
p5581
aVYou should try to write a command line shell, it will be an education for you
p5582
aVIt's not that hard to do the basics if all you want is a program launcher
p5583
aVBut, if you want all the power of a real shell, including a full blown programming language, job control, piping, output redirection and (seriously) too many other things to list, we probably won't be hearing from you for a while
p5584
aVExcept when you pop up your head to ask us esoteric questions about how shells should do this or that
p5585
as(dp5586
g16
V14860
p5587
stp5588
a((dp5589
g2
(lp5590
VIf it doesn't need to be done in the same program, it seems to me it would be easier to find a common format that both VB and COBOL can understand
p5591
aVThat would be text
p5592
aVIn other words, the simplest solution may be to write the number out to a file as text "3
p5593
aV14159" and have the COBOL code read it in in that format and  it to the  field
p5594
aVIf that's not possible, the  is a fairly simple BCD type
p5595
aVI would convert the number to a string anyway then take it two characters at a time into a byte array
p5596
aVThe S9(15)V99 requires 18 nybbles (a nybble being 4 bits, or half an octet) to store:
p5597
aVthe integer bit (fifteen nybbles)
p5598
aVthe fractional bit (two nybbles)
p5599
aVthe sign (one nybble)
p5600
aVNo space is needed for the decimal point since a  is an implied decimal, not a real one
p5601
aVSo the number  would be represented as the bytes:
p5602
aVThe only tricky bit is that final sign nybble ( for positive and  for negative)
p5603
aVHere's a bit of code I whipped up in Excel VBA (I don't have VB installed on this machine unfortunately) that shows you how to do it
p5604
aVThe makeComp3() function should be easily transferred into a real VB program
p5605
aVThe macro test program outputs the values ,  and  which are hex ,  and  respectively ( is )
p5606
aVThe first step (after all the declarations) is to make the double an implied decimal by multiplying it by the relevant power of ten then turning it into an integer:
p5607
aVNext, we make it into a string of the correct size, to make processing easier:
p5608
aVThen we process that string two digits at a time and each pair is combined into an output nybble
p5609
aVThe final step is to process the last digit along with the sign:
p5610
aVAnd this is just the test harness, though it could probably do with a few more test cases :-)
p5611
as(dp5612
g16
V14860
p5613
stp5614
a((dp5615
g2
(lp5616
VInternal errors should always be submitted to Sun
p5617
aVThey shouldn't happen no matter how bad your code is
p5618
aVSun's web page for submission is here or here
p5619
aVJust make sure it's not already reported and that you can reproduce it easily
p5620
as(dp5621
g16
V14860
p5622
stp5623
a((dp5624
g2
(lp5625
VYes, from your backups which, of course, you do regularly and frequently, right
p5626
aVOn second thoughts, you probably don't, so you're fresh out of luck
p5627
aVI'd look on this as an opportunity to change your backup practices :-)
p5628
as(dp5629
g16
V14860
p5630
stp5631
a((dp5632
g2
(lp5633
VI have a vague recollection of the author of TestDriven getting into all sorts of bother with Microsoft threatening to revoke his MVP status unless he modified it to only work with the non-free versions of VS
p5634
aVSee here for all the gory details
p5635
aVThe front page states that it "supports all versions of Microsoft Visual Studio" but the release notes indicate otherwise:
p5636
aVOfficially extensible version don't include the free ones, unfortunately
p5637
as(dp5638
g16
V14860
p5639
stp5640
a((dp5641
g2
(lp5642
VI call them "nigglies"
p5643
aVBut, to be honest, I don't care about the linked list one any more
p5644
aVBecause memory is cheap, I always implement lists so that an empty list contains two special nodes, first and last
p5645
aVWhen searching, I iterate from first->next to last->prev inclusively (so I'm not looking at the sentinel first/last nodes)
p5646
aVWhen I insert, I use this same limit to find the insertion point - that guarantees that I'm never inserting before first or after last, so I only ever have to use the "insert-in-the-middle" case
p5647
aVWhen I delete, it's similar
p5648
aVBecause you can't delete the first or last node, the deletion code only has to use the "insert-in-the-middle" case as well
p5649
aVGranted, that's just me being lazy
p5650
aVIn addition, I don't do a lot of C work any more anyway, and I have a huge code library to draw on, so my days of implementing new linked lists are long gone
p5651
as(dp5652
g16
V14860
p5653
stp5654
a((dp5655
g2
(lp5656
VThe bit that maximizes the window in Windows, "" in my _vimrc file
p5657
as(dp5658
g16
V14860
p5659
stp5660
a((dp5661
g2
(lp5662
VUsing shell commands to generate a single K-free number which Perl can use:
p5663
aVChange into the directory where you want to untar (if not already there) and execute:
p5664
aVOr replace "
p5665
aVwith the actual mount point
p5666
aVThe grep gets rid of the header and the awk prints out the kilobytes available for both split and no-split lines
p5667
aVThis is based on the following sort of output, you may have to adjust if your UNIX outputs something different:
p5668
aVFilesystem    1K-blocks      Used  Available  Use%  Mounted on
p5669
aV/dev/sda4     206434224  56965356  139065176   30%  /
p5670
aVvarrun          1037296       132    1037164    1%  /var/run
p5671
aVvarlock         1037296         0    1037296    0%  /var/lock
p5672
aVudev            1037296        68    1037228    1%  /dev
p5673
aVdevshm          1037296        12    1037284    1%  /dev/shm
p5674
aV/dev/sda2         93327     43535      44973   50%  /boot
p5675
aV/dev/sdc1     155056484  29417456  117824612   20%  /media/extra160
p5676
aVgvfs-fuse-daemon
p5677
aV206434224  56965356  139065176   30%  /home/pax/
p5678
aVgvfs
p5679
as(dp5680
g16
V14860
p5681
stp5682
a((dp5683
g2
(lp5684
VWhy are you worried about your users' ability to put arbitrary SQL in their reporting queries
p5685
aVIf they have the rights to change data in your database, surely they can just connect to it with any ODBC client and execute the SQL directly
p5686
aVI'm not sure it's 3P that's the issue here, it sounds more like you need to restrict your users but haven't
p5687
aVIf you have a class of users who shouldn't be allowed to change your data, then set their accounts up that way
p5688
aVRelying on the fact that they'll only use a reporting tool that doesn't let them change data is a security hole I could drive a truck through
p5689
aVIf they are allowed to change the data, restricting sessions from 3P won't help secure your system
p5690
aVUnless I've misunderstood your set-up
p5691
aVI've been wrong before, just ask my wife
p5692
aVIn which case, feel free to educate me
p5693
as(dp5694
g16
V14860
p5695
stp5696
a((dp5697
g2
(lp5698
VMy estimates are usually very accurate (comes from 20 years of experience) but I still usually inflate mine a little; it's always better to under-promise and over-deliver when it comes to bonus time :-)
p5699
aVStill, it should make very little difference what you do with your estimates if your project manager is worth anything (some aren't worth the oxygen they consume but I believe they're in a minority)
p5700
aVThey will be tracking your estimates against your actuals and using that information to adjust your next set of estimates before entering that into the project plan
p5701
aVThat will let them build up an accurate picture of how well you estimate certain tasks (I always base them on type such as UI, DBMS, middleware, etc and size/complexity)
p5702
aVThen, if they see that you continuously underestimate UI tasks, they'll know to bump them up in the next iteration
p5703
aVIf they can see that you're feather-bedding some tasks, they'll know to reduce your estimate
p5704
aVThis has the advantage of automatically adjusting over time
p5705
aVSeriously, some people think PMs sit around on their ars*s (or ass*s in the good ol' USofA) all day doing nothing, but there is at least a modicum of engineering and science behind the job
p5706
aVI know, I used to be one before I returned to my passion of code-cutting
p5707
as(dp5708
g16
V14860
p5709
stp5710
a((dp5711
g2
(lp5712
VI'm not entirely sure about VirtualBox but I've set up a lot of VMWare installations
p5713
aVDisk space is the only real problem there since it's a pain to expand
p5714
aVHowever, if you set up 80G, it doesn't use all of that straight away; it expands as needed
p5715
aVHopefully VirtualBox is similar, in which case allocate as much as you need
p5716
aV80G is what I usually go for,
p5717
aVFor memory, 1G is usually sufficient although you should check the minimum requirements for your development apps
p5718
aVVMWare grabs ALL of that from the host regardless of needs so you need to balance the host needs against your (possibly multiple) VMs
p5719
aVOne other hint, get rid of superfluous hardware in the VM
p5720
aVI always ditch the floppy, sound cards and everything not absolutely necessary to the purpose
p5721
aVFor your development, you'll need network, CD/DVD
p5722
aVRAM and a disk, and probably not much else
p5723
as(dp5724
g16
V14860
p5725
stp5726
a((dp5727
g2
(lp5728
VI've implemented binary searches in BTree implementations
p5729
aVThe BTree search algorithms were used for finding the next node block to read but, within the 4K block itself (which contained a number of keys based on the key size), binary search was used for find either the record number (for a leaf node) or the next block (for a non-leaf node)
p5730
aVBlindingly fast compared to sequential search since, like balanced binary trees, you remove half the remaining search space with every check
p5731
as(dp5732
g16
V14860
p5733
stp5734
a((dp5735
g2
(lp5736
VMultiply by 2 is a left-shift and divide by 2 is a right shift (at least for unsigned numbers)
p5737
aVIf you want to left shift by 2 bits, that's a multiply by 4
p5738
aVSo, for example, if you have the binary value:
p5739
aVand you wanted to extract b3 and b2, you would AND the whole lot with 0xc0 and divide by 4
p5740
aVSince this sounds suspiciously like homework (and I haven't coded for SPARC for a long time), I won't attempt to give you a finished solution - that should be enough to get you going
p5741
as(dp5742
g16
V14860
p5743
stp5744
a((dp5745
g2
(lp5746
VWhy don't you segment the binary data and store it in 4K chunks
p5747
aVYou could either have four different columns for these chunks (and a length column for rebuilding them into your big structure) or the more normalized way of another table with the chunks in it tied back to the original table record
p5748
aVThis would provide for expansion should you need it in future
p5749
aVFor example:
p5750
aVOf course, you may find that your DBMS does exactly that sort of behavior under the covers for BLOBs and it may be more efficient to let Oracle handle it, relieving you of the need to manually reconstruct your data from individual chunks
p5751
aVI'd measure the performance of each to figure out the best approach
p5752
as(dp5753
g16
V14860
p5754
stp5755
a((dp5756
g2
(lp5757
VIf it's a large number of small files, you don't want to be messing around with a huge number of arguments
p5758
aVSince most UNIX shells expand wildcards alphabetically, you should use:
p5759
aVThat's assuming there are between 100 and 999 files inclusive, adjust the arguments to handle more or less (e
p5760
ag1775
aV, add 1
p5761
aVtgz
p5762
aVif there's between 1,000 and 9,9999 inclusive)
p5763
aVYou're not going to get better performance since your bottle neck is the disk speed which is always going to be slower than the code running on the CPU
p5764
aVThe only other possibilities I can think of are:
p5765
aVcreate 1
p5766
aVtgz on a separate physical disk
p5767
aVThis may give you the advantage of interleaving disk accesses
p5768
aVrun as root and use  to bump up your priority (see  for details)
p5769
aVThis will improve your power to get more CPU but again, if you're bound by disk I/O, that won't help much
p5770
as(dp5771
g16
V14860
p5772
stp5773
a((dp5774
g2
(lp5775
VFor a start, I think Remove() would remove one string from another which is not really what you want
p5776
aVYou want to be able to extract a string that starts with one string and ends with another
p5777
aVIn which case, why not write your own
p5778
aVSomething like:
p5779
as(dp5780
g16
V14860
p5781
stp5782
a((dp5783
g2
(lp5784
VNot really, binary searches are really only possible when you can identify the record beginnings
p5785
aVYou appear to have variable length records so, unless you create an array of line start offsets, it's not going to work
p5786
aVAs Nikhil rightly points out in a comment, one method would be to binary divide the file based on file size and then find the closest line beginning from there
p5787
aVThat would still be relatively efficient (i
p5788
ag75
aV, much better than a sequential search)
p5789
as(dp5790
g16
V14860
p5791
stp5792
a((dp5793
g2
(lp5794
VUse:
p5795
aVwith all the other possible variations to limit what gets deleted
p5796
as(dp5797
g16
V14860
p5798
stp5799
a((dp5800
g2
(lp5801
VThis is something that should have been nutted out before starting to pay them, unless this disk access is a new requirement
p5802
aVI can see it from their point of view
p5803
aVEvery extra bit of power your apps have gives you more ability to shoot yourself (and more importantly, them) in the foot
p5804
aVBut I don't know why they'd allow it for an earlier
p5805
aVNET version, that seems bizarre
p5806
aVI would make it clear that this is a deal-breaker
p5807
aVThey might recapitulate, or you may have to move elsewhere
p5808
aVEither way, your problem will be solved
p5809
as(dp5810
g16
V14860
p5811
stp5812
a((dp5813
g2
(lp5814
VI suppose it's not as simple as:
p5815
aVor something similar
p5816
aVNo, life is never that easy :-)
p5817
aVYou would normally use  or  to remove such permissions but be aware that guest is not considered a regular user
p5818
aVFor some reason,  is not subject to  on the master or tempdb databases
p5819
aVSee here for that little statement of fact but not much explanation as to why
p5820
aVOn further investigation, some people seem to suggest that it's required on the master DB because that's where the user (login) information is stored
p5821
aVSo, during login, everyone accesses that DB with the guest account since their 'real' account and permissions are  not yet known
p5822
aVBecause the guest account is used for all users without validated credentials (and that's everyone up until the point where their login succeeds), that makes sense to me
p5823
as(dp5824
g16
V14860
p5825
stp5826
a((dp5827
g2
(lp5828
VI think you'll find that they assumed you would know what you were doing, and display some modicum of intelligence :-)
p5829
aVI know, let's play "Reductio Ad Absurdum":
p5830
aVYou should not be able to  in C++ without an ALL keyword
p5831
aVWhat if you just wanted to delete one element of the array
p5832
aVAll those iterators that people seem to love are dangerous without forcing their users to specify ALL
p5833
aVWhat if they just wanted a subset
p5834
aVMon Dieu
p5835
aVWhat if people were to leave a WHERE clause off their SELECT
p5836
aVThe potential for harm is truly stupendous, it could take hours to retrieve all that data, tying up a valuable DBMS connection for the duration
p5837
aVPlease don't be offended, I'd prefer you to take this in the spirit it's intended (light humor)
p5838
aVI think, as professionals, we should know what we're doing
p5839
aVGranted, I've made some beautiful mistakes such as appending to the passwd file with:
p5840
aVinstead of using "" which is why I test all my potentially destructive stuff pretty thoroughly nowadays
p5841
as(dp5842
g16
V14860
p5843
stp5844
a((dp5845
g2
(lp5846
VThis is basically what happens
p5847
aVThe full reality is hard to describe without getting tied up in unnecessary detail
p5848
aVTCP manages connections which are defined as a 4-tuple (source-ip, source-port, dest-ip, dest-port)
p5849
aVWhen the server closes the connection, the connection is placed into a TIME_WAIT2 state where it cannot be re-used for a certain time
p5850
aVThat time is double the maximum time-to-live value of the packets
p5851
aVAny packets that arrive during that time are discarded by TCP itself
p5852
aVSo, when the connection becomes available for re-use, all packets have been destroyed (anywhere on the network) either by:
p5853
aVbeing received at the destination and thrown away due to TIME_WAIT2 state; or
p5854
aVbeing destroyed by packet forwarders on the net due to expired lifetime
p5855
as(dp5856
g16
V14860
p5857
stp5858
a((dp5859
g2
(lp5860
VYes, both those should work fine
p5861
aVWhat's the actual problem you're seeing
p5862
aVIf, as you say, only one record is being returned, try:
p5863
aVand check the full output to ensure you have entries for 001, 012, 103 and 500
p5864
aVIf both those queries only return one row, I would suspect not
p5865
aVIf they all do exist, check the table definitions, it may be that the column is CHAR(4) and contains spaces for the others
p5866
aVYou may have genuinely found a bug in MySQL but I doubt it
p5867
aVAfter EDIT:
p5868
aVThis is a perl/mysql problem, not an SQL one:  returns only one row of the dataset at a time and advances a pointer to the next
p5869
aVYou need to do something like:
p5870
as(dp5871
g16
V14860
p5872
stp5873
a((dp5874
g2
(lp5875
VWith jQuery, you use  to execute something when the DOM is loaded and  to execute something when all other things are loaded as well, such as the images
p5876
aVThe difference can be seen in the following complete HTML file, provided you have a  JPEG files (or other suitable ones):
p5877
aVWith that, the alert box appears before the images are loaded, because the DOM is ready at that point
p5878
aVIf you then change:
p5879
aVinto:
p5880
aVthen the alert box doesn't appear until after the images are loaded
p5881
aVHence, to wait until the entire page is ready, you can use something like:
p5882
as(dp5883
g16
V14860
p5884
stp5885
a((dp5886
g2
(lp5887
VWe can do that, see Java for an example
p5888
aVWhether Microsoft will do it is another question
p5889
aVThey maintain a competitive advantage for Windows by not doing it
p5890
aVOther examples are Perl and Python to name just two
p5891
aVIt's not enough to just have a language, you need to have libraries to make the programmers life easier
p5892
aVJava, Python and Perl seem to have achieved this relatively well and I'm sure Microsoft has the brainpower to do the same for
p5893
aVNET
p5894
aVBut the question remains: why would they
p5895
aVStepping away from bytecode-type VMs, you also have things like VMWare, Virtual PC and so on which can run code on a hardware-level virtual processor
p5896
aVSome of these need the same processor under the covers, others (like VirtualBox and Bochs, I believe) run a virtual processor on top of a different processor
p5897
aVWhat I haven't really seen is seamless integration between the host and virtual environments
p5898
aVVMWare's drag-n-drop between the two is okay but it would be so much better to be able to host an SPARC environment on top of x86 and basically have the SPARC apps look exactly like the x86 ones (similar to how Cygwin's X-windows-based apps just look like regular Windows windows
p5899
as(dp5900
g16
V14860
p5901
stp5902
a((dp5903
g2
(lp5904
VWhat does your altair32
p5905
aVini file contain
p5906
aVThe one that ships with the package has:
p5907
aVbut my understanding is that the disk boot ROM should go in the last 256 bytes of RAM
p5908
aVI can't test it since I'm not running Windows, but I would change that last line to:
p5909
aVand give it another shot
p5910
as(dp5911
g16
V14860
p5912
stp5913
a((dp5914
g2
(lp5915
VI don't understand what you mean by "doesn't work on the mount points"
p5916
aVChange into the directory where you want to untar (if not already there) and execute:
p5917
aVThe grep gets rid of the header and the awk prints out the kilobytes available for both split and no-split lines
p5918
aVThis is based on the following sort of output, you may have to adjust if your UNIX outputs something different:
p5919
as(dp5920
g16
V14860
p5921
stp5922
a((dp5923
g2
(lp5924
VCheck this:
p5925
aVYou need to make sure that all processes are opening the file with FileShare
p5926
aVReadWrite and FileShare
p5927
aVDelete
p5928
aVEven if the creator opens with share-readwrite, if a second program tries to open with share-read, the second program is basically saying no-one else can write
p5929
aVBut the first program already has that power so the second open fails
p5930
as(dp5931
g16
V14860
p5932
stp5933
a((dp5934
g2
(lp5935
VI don't believe that you need those sort of performance hacks in Java
p5936
aVI would concentrate first of writing readable code and using decent algorithms - these will deliver more performance benefits than what you're discussing
p5937
aVIn most standalone applications, the vast majority of time is spent sitting around waiting for the user to do something
p5938
aVIn most web applications, the amount of time running bytecode in the JVM should be swamped by network time, database time or business logic
p5939
aVIf you're really worried about the performance of part of your Java app, you can move it into JNI code and bypass the Java interpreter altogether
p5940
as(dp5941
g16
V14860
p5942
stp5943
a((dp5944
g2
(lp5945
VAll that metadata is held in the DB2 catalog tables in the  'schema'
p5946
aVIt varies for the DB2/z mainframe product and the DB2/LUW distributed product but they're coming closer and closer with each release
p5947
aVIBM conveniently place all their manuals up on the  site for the world to access
p5948
aVMy area of expertise, DB2/z, has the pages you want here
p5949
aVThere are a number of tables there that you'll need to reference:
p5950
aVThe list of all information centers is here which should point you to the DB2/LUW version if that's your area of interest
p5951
as(dp5952
g16
V14860
p5953
stp5954
a((dp5955
g2
(lp5956
VThe following code shows how to do exactly what you want, checking that argv[1] exists before passing it to functions as C char-pointers or C++ strings and using the value within that function
p5957
aVThe output is, as expected:
p5958
aVAs for your edit, you cannot access argc/argv without storing them in a global or passing them to a function
p5959
aVThat's because they're passed to the  function as arguments so inherently local to that function
p5960
as(dp5961
g16
V14860
p5962
stp5963
a((dp5964
g2
(lp5965
VThe second, since it reads properly
p5966
as(dp5967
g16
V14860
p5968
stp5969
a((dp5970
g2
(lp5971
VIt depends entirely on whether you're going to be able to use Boost in all your work
p5972
aVI don't doubt that there'll be workplaces that will forbid its use (however silly that may seem)
p5973
aVBut, if you think you'll be able to use it anywhere, then by all means concentrate mostly on it
p5974
aVIf there's functionality provided by the STL but not Boost, concentrate on learning those bits of the STL
p5975
as(dp5976
g16
V14860
p5977
stp5978
a((dp5979
g2
(lp5980
VYour reasoning is correct
p5981
aVThese calls are for thread-specific data
p5982
aVThey're a way of giving each thread a "global" area where it can store what it needs, but only if it needs it
p5983
aVThe key is shared among all threads, since it's created with  the first time it's needed, but the value given to that key is different for each thread (unless it remains set to NULL)
p5984
aVBy having the value a  to a memory block, a thread that needs thread-specific data can allocate it and save the address for later use
p5985
aVAnd threads that don't call a routine that needs thread-specific data never waste memory since it's never allocated for them
p5986
aVThe one area where I have used them is to make a standard C library thread-safe
p5987
aVThe  function (as opposed to a thread-safe  which was considered an abomination when we were doing this) in an implementation I was involved in used almost this exact same code the first time it was called, to allocate some memory which would be used by  for storing information for subsequent calls
p5988
aVThese subsequent calls would retrieve the thread-specific data to continue tokenizing the string without interfering with other threads doing the exact same thing
p5989
aVIt meant users of the library didn't have to worry about cross-talk between threads - they still had to ensure a single thread didn't call the function until the last one had finished but that's the same as with single-threaded code
p5990
aVIt allowed us to give a 'proper' C environment to each thread running in our system without the usual "you have to call these special non-standard re-entrant routines" limitations that other vendors imposed on their users
p5991
aVAs for implementation, from what I remember of DCE user-mode threads (which I think were the precursor to the current pthreads), each thread had a single structure which stored things like instruction pointers, stack pointers, register contents and so on
p5992
aVIt was a very simple matter to add one pointer to this structure to achieve very powerful functionality with minimal cost
p5993
aVThe pointer pointed to a array (linked list in some implementations) of key/pointer pairs so each thread could have multiple keys (e
p5994
ag1775
aV, one for , one for )
p5995
as(dp5996
g16
V14860
p5997
stp5998
a((dp5999
g2
(lp6000
VHost-only networking is a way to restrict a VM's networking capability to talk to the outside world
p6001
aVIt means the VM can only communicate with the host
p6002
aVI've rarely found a need for it, since I almost always want the guest to be able to access the entire internet, not just the host machine
p6003
aVHowever, the question being asked is: do you want to allow host-only networking
p6004
aVYou still won't be forced to use it for all your VMs, so I would say yes
p6005
aVYou will still be able to configure your VMs for full access
p6006
as(dp6007
g16
V14860
p6008
stp6009
a((dp6010
g2
(lp6011
VYou need to show us the code, we can't offer any really specific advice without knowing more detail on what you're doing
p6012
aVYou touched upon one of the differences between MS Visual C++ and Dev C++ (and its cousins also using GCC under the covers)
p6013
aVSee final two paragraphs for my suggestions
p6014
aVHowever, standard C++ programs should compile and run in either so, if you're having troubles, it's likely because you're using some Microsoft-provided stuff that's not in Dev C++
p6015
aVI don't know what this is since I've never used Dev C++ but my first thoughts would be MFC or Win32 API calls
p6016
aVDev C++ should be able to link to the Microsoft libraries but you may need to configure that
p6017
aVVisual C++ will almost certainly make that an easily-configured option (or the default) but you'll probably have to work harder to achieve it in a non-MS product
p6018
aVIf you really want to develop programs easily and you're less concerned with free-as-in-speech as opposed to free-as-in-beer software, get your hands on a copy of Visual C++ Express
p6019
aVIt's basically the Microsoft IDE for learning purposes at zero cost and you'll find it a more polished product than the others - this is my opinion, others will argue otherwise and they may be right, that's why it's an opinion :-)
p6020
aVI tend to use the VS2010 Professional package nowadays simply because MS goes out of their way to make it a polished product and I don't mind paying for it since I, in turn, get paid well for my work :-)
p6021
aVIf you're more concerned with free-as-in-speech, then Dev C++, Code::Blocks, Eclipse CDT and others, are probably all excellent environments
p6022
aVIf you're a beginner, you may need help setting them up for nice debugging or accessing Microsoft libraries but it's well worth it in my opinion
p6023
aVEclipse was my favorite simply because I used to do a lot of Java at work and I'm familiar with it but everyone seems to rave about Code::Blocks for C++ work
p6024
aVHaving had a play, it's very easy to get used to
p6025
aVAnd re-iterating my advice for the "it didn't work" part of your question, you should show us the code or the errors that you're getting - it may be blindingly obvious to us once we've seen them
p6026
as(dp6027
g16
V14860
p6028
stp6029
a((dp6030
g2
(lp6031
VThe following sequence will do what you want, adding the line "" to the  file
p6032
aVNote the structure of the echo
p6033
aV"" allows you to put spaces at the beginning of the line if necessary and abutting the "" redirection character ensures there's no trailing spaces (unless you want them, of course)
p6034
as(dp6035
g16
V14860
p6036
stp6037
a((dp6038
g2
(lp6039
VSince you're looking for a regular expression within a string, it's more correct to say that you've found the regular expression since that's a one-way relationship
p6040
aVBut as to which matches which, that's a two way relationship and it doesn't really matter (in English, anyway - I can't vouch for other languages ), so either would be correct
p6041
aVMy preference would be to say that the string matches the regular expression, since the RE is the invariant part and the string changes
p6042
aVBut that's a personal preference and is unlikely to have any bearing on reality :-)
p6043
as(dp6044
g16
V14860
p6045
stp6046
a((dp6047
g2
(lp6048
VI use VMWare Player for this sort of stuff
p6049
aVI've not tested it with the sort of access you discuss (since I mostly do apps rather than driver-level stuff) but the advantages are many, specifically being able to copy the VM when it's shut down for later restore to a specific point (sort of a poor man's snapshot) and being able to have lots of configurations without blowing the hardware budget
p6050
aVIt certainly provides USB virtualization and I would say it's the best bet for providing the full device access
p6051
aVI would suggest testing it since, if it provides the hardware support you need, it's a very good solution for the other reasons given
p6052
aVThe only other (non-VM) suggestion I can think of which would match it would be hard disk image backups which can be restored at will
p6053
as(dp6054
g16
V14860
p6055
stp6056
a((dp6057
g2
(lp6058
VThe language-based files are stored in , one  file per language, so that's where you need to go to change things
p6059
aVFor example, my C file is stored in  and, if you add the following line near the end, before the , you'll get the exact effect you require:
p6060
aVFor text-based VIM, the ctermfg and ctermbg options need to be used instead, something like:
p6061
aVI haven't tested these since I only use gvim nowadays
p6062
as(dp6063
g16
V14860
p6064
stp6065
a((dp6066
g2
(lp6067
VYou could copy it to the known data structure which makes life easier later on:
p6068
aVor you could just refer to it as a cast value:
p6069
aVI believe a  is the best way to read it in, since the size of a char is guaranteed to be 1 unit (not necessarily a byte, but all other data types are defined in terms of that unit, so that, if sizeof(double) == 27, you know that it will fit into a char[27])
p6070
aVSo, if you have a known size, that's the easiest way to do it
p6071
as(dp6072
g16
V14860
p6073
stp6074
a((dp6075
g2
(lp6076
VQuoting here:
p6077
aVJSON2
p6078
aVjs - Late last year Crockford quietly released a new version of his JSON API that replaced his existing API
p6079
aVThe important difference was that it used a single base object
p6080
as(dp6081
g16
V14860
p6082
stp6083
a((dp6084
g2
(lp6085
V should already have been exported long before you get to your  file, at least for a login shell
p6086
aVIn that case, setting  should simply overwrite the value (not its export status)
p6087
aVOne thing to keep in mind is that bash itself does not run your  file for a login shell
p6088
aVThe actual sequence of execution is:
p6089
aV, if there
p6090
aVfirst of ,  or
p6091
aVI'm fairly certain that, if you want  to run for a login shell, it has to be sourced from one of those above
p6092
aVFor example,  may call  or all the scripts in the  directory
p6093
aVSimilarly, my  calls the following, if they exist:
p6094
aV/etc/bash
p6095
aVbashrc
p6096
aV~/
p6097
aVbashrc
p6098
aVwith the following snippet:
p6099
aVWhen I change  and echo "" in my , but comment out the sourcing of it in , the prompt doesn't get changed (nor the string printed) when I log in
p6100
aVWhen I uncomment the sourcing, I get both the string printed and the prompt changed when I log in
p6101
aVTo make sure that your  is called for your login shells, put that  statement just after setting , then log in to check
p6102
aVIf it is being called when you log in, you can execute "" from your shell to get a list of all the exported variables - make sure PS1 has a "" in front of it
p6103
aVIf not, just change your  to export it as well:
p6104
aVIf it's already exported, then something is changing it after your  statement
p6105
aVIn that case, you'll need to actually look at the login execution path to see what's getting called before it gives you control
p6106
as(dp6107
g16
V14860
p6108
stp6109
a((dp6110
g2
(lp6111
VI don't know C# but I do know UNIX sockets
p6112
aVMy first thought was that you hadn't called accept() on the socket before selecting for read but (and this is proof I know less about sockets than I thought) you can select in the listen state to see which sockets can be accepted
p6113
aVOh well, we live and learn, even at my advanced age :-)
p6114
aVAnyhow, referring to the MSDN docs here, found through Google with ("c#" socket bind listen select), it states:
p6115
aVThese error codes appear to be documented here, found with a Google search on (Windows Socket Version 2 API error code documentation in MSDN)
p6116
aVI'm mentioning the Google search terms in case MSDN move their pages around
p6117
aVI'd output the error code from the exception caught, then look it up in the list on that second link to get the actual reason for failure
p6118
aVOnce we know that, we may be able to help you further (or it might become blindingly obvious to the point you don't need to ask us again :-)
p6119
aVOne thing that seems incongruous: the prototype for the call has a fourth argument, number of microseconds to wait if no activity
p6120
aVYour code in the question doesn't have that
p6121
aVNow, as I said, I know little about C# so it may default to something (or maybe you've just left it off the question by accident)
p6122
aVBut I would watch for a known bug if you're using -1 (or it defaults to -1): see here for details but it basically means -1 returns immediately rather than waiting forever
p6123
aVWorkaround is to use -2 to give you an hour or so but you'll still have to cater for the fact it may return even though there's been no activity
p6124
aVIf it's not throwing an exception, but simply setting the error indication in , that's a hairier problem
p6125
aVI can see nothing is the docs that show how to easily figure it out but I'd look at these possibilities
p6126
aVYou may be able to call the WSA functions (e
p6127
ag1775
aV, ) to figure it out
p6128
aVI'm not sure how easy this is from C#
p6129
aVYou could try to  the errant socket and see if that gives you an exception detailing why it's a problem
p6130
aVThe  class has a  member which is the operating system handle for the socket
p6131
aVIt may be possible to extract error information by following that
p6132
aVHave you thought about using threads for connection processing and bypassing the use of  altogether (i
p6133
ag75
aV, using only  but from multiple threads)
p6134
aVAnother thing I found has to do with socket debugging
p6135
aVThis page has a section at the bottom which shows how to do network tracing
p6136
aVNET 2 apparently didn't support this for  but that may have changed in the latest version
p6137
as(dp6138
g16
V14860
p6139
stp6140
a((dp6141
g2
(lp6142
VYou need to catch the exception and then examine its exception_code to see what the root cause is
p6143
as(dp6144
g16
V14860
p6145
stp6146
a((dp6147
g2
(lp6148
VThey're few and far between for free, I would suggest trying to get a hold of (cheap, second-hand) Richard Paul's book called "SPARC Architecture Assembly Language Programming and C", ISBN 0138768897
p6149
aVIt's well worth the money and available on Amazon, for one
p6150
aVThe only online stuff I've seen is through www
p6151
aVsparc
p6152
aVcom but I seem to recall that they require paid membership before you can access their documents (at least they did when we used them, but that was some time ago)
p6153
aVThe University of New Mexico has this which seems quite good
p6154
aVI'm not sure how easy it is to get your hands on ISEM (the emulator)
p6155
aVI haven't been able to ftp-connect to the university but there's an email address you could try
p6156
aVOr, if you have an actual SPARC box, you won't need to worry about it
p6157
aVThere are other SPARC emulators around such as Virtutech Simics, although cost may be a concern here - I'm not sure if you'd qualify for the academic license
p6158
as(dp6159
g16
V14860
p6160
stp6161
a((dp6162
g2
(lp6163
VTry this, it accumulates the columns into rowval by converting the colval string into an numeric value
p6164
aVYou could just as easily use double/CDbl() if they're floating point
p6165
aVThis is assuming that, by "count the two columns", you mean sum them up and output the sum
p6166
aVIf you mean literally count, then keep it as an  and change the line
p6167
aVto
p6168
aVHere it is:
p6169
aVAs per your original sample, I haven't output anything (
p6170
aVbut I've put a comment where you should do it
p6171
as(dp6172
g16
V14860
p6173
stp6174
a((dp6175
g2
(lp6176
VYou can do this to a certain depth with standard SQL (and probably any depth with various SQL enhancements) but the SQL statements will be hideous abominations from the depths of Satan's own hellpit
p6177
aVSQL is a relational algebra, not something to be bent to a procedural model
p6178
aVSeriously, use code for that (even if it's a stored procedure or PL/SQL), it will make your SQL prettier, your DBAs and future maintainers happier and your life longer and more prosperous
p6179
as(dp6180
g16
V14860
p6181
stp6182
a((dp6183
g2
(lp6184
VDefault values suffer from two major drawbacks
p6185
aVif the insert statement specifies a value for the column, the default isn't used
p6186
aVthe column can be updated any time
p6187
aVThese mean that you can't be certain that the values haven't been modified outside of your control
p6188
aVIf you want true data integrity (so that you're sure the date in the row is the creation date), you need to use triggers
p6189
aVAn insert trigger to set the column to the current date and an update trigger to prevent changes to that column (or, more precisely, set it to its current value) are the way to implement a DateCreated column
p6190
aVAn insert and update trigger to set the column to the current date is the way to implement a DateModified column
p6191
aV(edit from user Gabriel - here's my attempt to implement this as described - i'm not 100% sure it's correct but I'm hoping the OP reviews it
p6192
ag1611
as(dp6193
g16
V14860
p6194
stp6195
a((dp6196
g2
(lp6197
VWell, for a start, 2000 is not several
p6198
aVIf it's taking most of the time because you're sending lots of small files, then you come up with a solution that packages them at the source into a single file and unpackages them at the destination
p6199
aVThis will require some code running at the source - you'll have to design your solution to allow that since I assume at the moment you're just copying from a network share
p6200
aVIf it's the network speed (unlikely), you compress them as well
p6201
aVMy own beliefs are that it will be the number of files, basically all the repeated startup costs of a copy
p6202
aVThat's because 2000 30K files is only 60MB, and on a 10Mb link, theoretical minimum time would be about a minute
p6203
aVIf your times are substantially above that, then I'd say I'm right
p6204
aVA solution that uses 7zip or similar to compress them all to a single  file, transmit them, then unzip them at the other end sounds like what you're looking for
p6205
aVBut measure, don't guess
p6206
aVTest it out to see if it improves performance
p6207
aVThen make a decision
p6208
as(dp6209
g16
V14860
p6210
stp6211
a((dp6212
g2
(lp6213
VNot just Java but any procedural language: procedural, that's the key
p6214
aVDB2 is a relational algebra, not a programming language
p6215
aVIf you need to do something complex, it's better to use a procedural language than try to bend SQL into something it's not meant to be
p6216
aVWe actually use REXX for our DB2/z work but I've seen guys here use bash on the mainframe for quick prototyping
p6217
aVSome who only use SQL create all these horrible temporary tables for storing things that are best kept in structures and away from the DB
p6218
aVMy thoughts are that complexity is the only differentiating factor between using SQL directly in a stored procedure and a procedural approach
p6219
aVWe have two rules of thumb when making these decisions
p6220
aV1/ If a unit of work requires more than two trips to the database, we make it a stored procedure
p6221
aV2/ If a stored procedures creates a temporary table, then we use a procedural language to do it
p6222
as(dp6223
g16
V14860
p6224
stp6225
a((dp6226
g2
(lp6227
VIt depends on your DBMS but a constraint should have the target table and column somewhere
p6228
aVIf it's a foreign key constraint, the target table will be different to the current table
p6229
aVTry
p6230
aVinstead of
p6231
aVto see all the magical columns you can work with
p6232
as(dp6233
g16
V14860
p6234
stp6235
a((dp6236
g2
(lp6237
VSeems simple enough
p6238
aVThe first line of your exception clearly states that the violation is from the column  to another column in another table,
p6239
aVYou should be able to access the database directly to figure out what the constraint is
p6240
aVI suspect it's a simple lookup on the other table
p6241
aVThen print out the value that you're using in the supplied Java code and, hopefully, voila, you'll know what value you're trying to insert in Semspace that isn't in Corpus
p6242
as(dp6243
g16
V14860
p6244
stp6245
a((dp6246
g2
(lp6247
VI'd set up code on the production server which held the production robots
p6248
aVtxt in another location and have it monitor the one that's in use
p6249
aVIf they're different, then I'd immediately overwrite the in-use one with the production version
p6250
aVThen it wouldn't matter if it gets overwritten since the bad version won't exists for long
p6251
aVIn a UNIX environment, I'd do this periodically with cron
p6252
as(dp6253
g16
V14860
p6254
stp6255
a((dp6256
g2
(lp6257
VIf you're looking for a space, that would be  (one space)
p6258
aVIf you're looking for one or more, it's  (that's two spaces and an asterisk) or  (one space and a plus)
p6259
aVIf you're looking for common spacing, use  or  or  where  is the physical tab character (and each is preceded by a single space in all those examples)
p6260
aVThese will work in every* regex engine I've ever seen (some of which don't even have the one-or-more  character, ugh)
p6261
aVIf you know you'll be using one of the more modern regex engines,  and its variations are the way to go
p6262
aVIn addition, I believe word boundaries match start and end of lines as well, important when you're looking for words that may appear without preceding or following spaces
p6263
aVFor PHP specifically, this page may help
p6264
aVFrom your edit, it appears you want to remove all non valid characters The start of this is (note the space inside the regex):
p6265
aVIf you also want trickery to ensure there's only one space between each word and none at the start or end, that's a little more complicated (and probably another question) but the basic idea would be:
p6266
as(dp6267
g16
V14860
p6268
stp6269
a((dp6270
g2
(lp6271
VI think g++, from version 3, automagically defines
p6272
aVThis is supported by your third line in the error stating that the first definition was done on the command line (with nary a  in sight):
p6273
aVIf you don't want it,  it as the first line in your compilation unit
p6274
aVYou may need it, however, in which case use:
p6275
aVThe reason you're getting the error is because you're re-defining it
p6276
aVIt shouldn't be an error if you define it to what it already was
p6277
aVAt least that's the case with C, it may be different with C++
p6278
aVBased on the GNU headers, I would say they're doing an implicit  which is why it thinks you're re-defining it to something else
p6279
aVThe following snippet should tell you its value provided you haven't changed it
p6280
as(dp6281
g16
V14860
p6282
stp6283
a((dp6284
g2
(lp6285
VTry:
p6286
aVIt may be that the release of the pool is preventing further logging in which case you'd get step 2 but not step 3
p6287
aVIf step 2 isn't being printed, then it's almost certainly something wrong with UIApplicationMain - there's a chance that it doesn't return so put NSLog statements (step 1
p6288
aV1, Step 1
p6289
aV2,
p6290
aVat various points within it and run to find the last message logged
p6291
aVKeep drilling down (Step 1
p6292
aV7
p6293
aV1, 1
p6294
ag6293
aV2,
p6295
ag2193
ag6293
ag4556
aV3
p6296
aV2,
p6297
aV- eventually, you'll track down the exact line (however deep in the call hierarchy) when the log messages stop being logged and that line will be your culprit (either "turning off" logging or exiting without returning normally)
p6298
aVOne further snippet I found on the web:
p6299
aV=====
p6300
aVWhen you use this line:
p6301
aVThe first MyApp is your main app delegate class
p6302
aVThe second is the class to where SpringBoard sends touch notifications
p6303
aVAlso, if you are using the SDK, and have a main nib defined in the Info
p6304
aVplist, then you can leave the call as:
p6305
aVas all that will be covered when you create your xibs
p6306
aV=====
p6307
aVNow I don't know enough about iPhone development (specifically xibs) to know what that last bit even means (or if you've set it up correctly) but it sounds like another phase of compilation
p6308
aVHowever, my first thought from reading that is that Springboard will call your delegate class when the buttons are pressed to ask you to do something (like shut down gracefully)
p6309
aVIf it can't ask you (i
p6310
ag75
aV, no delegate), it's probably within its rights to shut you down as it sees fit, such as with
p6311
aVIn the Windows world, you would probably send off a quit message to the main window but, as I say, iPhone development may be different
p6312
aVStill, it's an avenue to investigate
p6313
aVI'd be interested in seeing what calls were made to a delegate if you provided one
p6314
aVThe code included with the snippet above had this:
p6315
aVSo maybe a delegate with  is the secret to getting it to exit back to
p6316
aVWhy don't you give that a shot
p6317
aVIt may get you closer to your goal even if it doesn't solve the core problem
p6318
as(dp6319
g16
V14860
p6320
stp6321
a((dp6322
g2
(lp6323
VIn a decent DBMS (e
p6324
ag1775
aV, DB2 :-), the DB engine would recognize that there were no wildcard characters in the string and implicitly turn it into an "=" version
p6325
aVSo, you'd only get a small performance hit at the start, usually negligible for any decent-sized query
p6326
as(dp6327
g16
V14860
p6328
stp6329
a((dp6330
g2
(lp6331
VWhy not simply provide five slots (one under the other) for each of the choices and provide a higher/lower control on the right of each to change the order
p6332
aVThat's always more attractive than assigning an out-of-order sequence number
p6333
aVFor example, start with:
p6334
aVThen, if you want to bump Jon up to position 2, just click on the "" next to his name once
p6335
aVIf, for some reason, you think I've wronged you (and I'm truly sorry :-), click on my "" character four times and you end up with:
p6336
aVThis variable-position/fixed-number is (IMNSHO) much better than the fixed-position/variable-number solution thus:
p6337
as(dp6338
g16
V14860
p6339
stp6340
a((dp6341
g2
(lp6342
VBetter in what way
p6343
aVThat query does everything you ask of it and, provided there's an index on , it's as fast as it's going to get
p6344
aVIf you're worried about the query looking "ugly", don't be
p6345
aVIts intent is quite clear
p6346
aVThe only possible improvement you could consider is to use NULLs for these zero-date/time rows, in which case your query becomes:
p6347
aVThat's what I'd do with a standards-compliant DBMS
p6348
aVMy understanding is that MySQL may represent true NULL datetime fields in this horrific manner, in which case I guess the  may not work
p6349
as(dp6350
g16
V14860
p6351
stp6352
a((dp6353
g2
(lp6354
VWhenever I have trouble like this, I make a minimal self-contained example for testing
p6355
aVThis one works perfectly although I've used a local image
p6356
aVWhen I reduce the width to 50 pixels, the image extends beyond the right-hand side of the border so this may be the problem you're having
p6357
aVWhat exactly is outside the border in your case
p6358
aVBased on your further comments that you float:left the image div, the following shows what might be your problem
p6359
aVIf you run this code, you'll see the the first bordered div no longer encloses the image
p6360
aVIs that the problem you're seeing
p6361
aVIncluding the cleardiv fix (shown here) appears to fix the problem:
p6362
as(dp6363
g16
V14860
p6364
stp6365
a((dp6366
g2
(lp6367
Vhttp://www
p6368
aVicu-project
p6369
aVorg/ holds all the source code for icu4j which IBM has released under an open source license
p6370
aVThis includes the boundary analysis stuff like dictionary- and rule-based break iterators
p6371
aVHowever, there doesn't appear to be a text file suitable for perusing
p6372
aVI not sure that IBM would have released their rule set as open source (since it's a pretty big technological advantage to them)
p6373
aVInstead, the idea is to create your own rule set, a tutorial of which is here
p6374
aVThat same tutorial states that you can dump the default rules by running:
p6375
as(dp6376
g16
V14860
p6377
stp6378
a((dp6379
g2
(lp6380
VTwo things can affect this
p6381
aVThe first is hard-disk caching (done by the disk which has little impact and by the OS which tends to have more impact)
p6382
aVThe second is that Windows (and other OS') have little reason to unload DLLs when they're finished with them unless the memory is needed for something else
p6383
aVThis is because DLLs can easily be shared between processes
p6384
aVSo DLLs have a habit of hanging around even after the applications that were using them disappear
p6385
aVIf another application decides the DLL is needed, it's already in memory and just has to be mapped into the processes address space
p6386
aVI've seen some application pre-load their required DLLs (usually called QuickStart, I think both MS Office and Adobe Reader do this) so that the perceived load times are better
p6387
as(dp6388
g16
V14860
p6389
stp6390
a((dp6391
g2
(lp6392
VWhy don't you try:
p6393
aVThat should search for the word color in all your man pages (content, not just headings)
p6394
aVIt asks, for each man page, whether you want to open and view the page:
p6395
aVInside each individual man page, you can use your normal search method (e
p6396
ag1775
aV, ) for finding the text
p6397
aVWhen done with a man page, just exit and it will continue searching
p6398
as(dp6399
g16
V14860
p6400
stp6401
a((dp6402
g2
(lp6403
VWhoever thought that bytes should be signed when Java was invented should be taken out and beaten with a wet stick of celery until they cry :-)
p6404
aVYou can do what you want by casting up to an int and ensuring you never shift a 1 into the top bit, something like this:
p6405
aVYour particular problem is because >>> is casting up to an int to do the shift, then you're casting it back to a byte, as shown here:
p6406
aVWhich outputs:
p6407
aVYou can clearly see that x and x3 don't work (even though x3 shifts correctly, casting it back to byte in x sets it to -1 again)
p6408
aVx4 works perfectly
p6409
as(dp6410
g16
V14860
p6411
stp6412
a((dp6413
g2
(lp6414
VAll approaches will have their drawbacks
p6415
aVCookies may not be enabled in the browser, IP addresses may be duplicated due to NAT (I know at our work, all traffic to the outside world looks like it's coming from one IP address) or reused due to DHCP
p6416
aVIt depends on what you're going to use the information for
p6417
aVIf you want to know how many unique people are viewing your site, that's incredibly difficult since many people may use one browser or IP address
p6418
aVI would think most people are interested in how many useful accesses are made
p6419
aVThis means that, even if the same IP address comes back one week later, that should count again
p6420
aVWe've used that exact system (and made sure our clients realize it's an imperfect one)
p6421
aVStore the IP addresses and first and last date of access in a table
p6422
aVIf it's a newly added IP address, add one hit and store IP/dates
p6423
aVIf it's an already existing IP, update the last date
p6424
aVDo a nightly sweep to remove IP's whose last date is older than 7 days or whose first date is older than 14 days (both configurable)
p6425
aVThat way you catch the useful accesses:
p6426
aVpeople who visit continuously are assumed to have a useful access every two weeks
p6427
aVpeople who visit then disappear for a year and visit again have had two useful accesses
p6428
aVpeople who visit once have had one useful access
p6429
aVAs long as the inadequacies are understood, they can be managed
p6430
as(dp6431
g16
V14860
p6432
stp6433
a((dp6434
g2
(lp6435
VYes, that's what happens
p6436
aVEven if by some freak of nature, your threads were to start at exactly the same time, they would soon get out of step simply because of resource contention between them (at a bare minimum, access to the DB table or DBMS server process)
p6437
aVIf they stay mostly in step (i
p6438
ag75
aV, never more than a few milliseconds out), just choose a different "resolution" for your CreatedDateTime field
p6439
aVPut it in to the nearest 10th of a second (or second) rather than millisecond
p6440
aVOr use fixed values in some other way
p6441
aVOtherwise, just realize that this is perfectly normal behavior
p6442
aVAnd, as pointed out by BC in a comment, you may misunderstand the use of the word "synchronized"
p6443
aVIt's used (in Java, I hope C# is similar) to ensure two threads don't access the same resource at the same time
p6444
aVIn actuality, it almost guarantees that threads won't stay synchronized as you understand the term to mean (personally I think your definition is right in terms of English usage (things happening at the same time) but certain computer languages have suborned the definition for their own purposes)
p6445
aVIf you're testing what happens when specific timestamps go into the database, you cannot rely on threads "behaving themselves" by being scheduled in a specific order and at specific times
p6446
aVYou really need to dummy up the data somehow, otherwise it's like trying to nail jelly to a tree (or training a cat)
p6447
aVOne solution is to not use things such as  or  but use a specific set of inserts which have known timestamps
p6448
aVDepending on your actual architecture, this may be difficult (for example, if you just call an API which itself gets the current timestamp to millisecond resolution)
p6449
aVIf you control the actual SQL that's populating the timestamp column, you need to change that to use pre-calculated values rather the  or its equivalents
p6450
as(dp6451
g16
V14860
p6452
stp6453
a((dp6454
g2
(lp6455
VIt looks okay, every row in the  is using an index of some sort
p6456
aVOne possible worry is the  bit
p6457
aVTry running the query without the  clause and see if that improves it
p6458
aVThen, what I would do is gradually take out each  until you (hopefully) get that massive speed increase, then concentrate on why that's happening
p6459
aVThe reason I mention the  is because I can't see a mention of timestamp anywhere in the  output (even though it's your primary sort criteria) - it might be requiring a full non-indexed sort
p6460
aVUPDATE#1:
p6461
aVBased on edit#2, the query:
p6462
aVtakes 5-6 seconds
p6463
aVThat's abhorrent
p6464
aVTry creating a composite index on both  and  and see if that improves it:
p6465
aVOn one of the tests, I've left off the descending bit (DB2 for one sometimes doesn't use indexes if they're in the opposite order)
p6466
aVThe other variation is to take off the limit in case that's affecting it
p6467
as(dp6468
g16
V14860
p6469
stp6470
a((dp6471
g2
(lp6472
VIf you don't want to pass it as an argument, you'll need to shove it in a global so that the function can access it that way
p6473
aVI know of no other means (other than silly things like writing it to a file in  and reading it in the function):
p6474
aVThis is not how I would do it
p6475
aVSince you need to be able to change  to get access to  anyway, I'd rewrite it to pass the parameter:
p6476
aVUnless, of course, this is homework, or a brainteaser, or an interview question
p6477
as(dp6478
g16
V14860
p6479
stp6480
a((dp6481
g2
(lp6482
VTry this:
p6483
aVYou need to put the value of jempid into the string, not the text "jempid"
p6484
as(dp6485
g16
V14860
p6486
stp6487
a((dp6488
g2
(lp6489
VOne possibility is to make it a requirement that Windows installations running your program be either configured for DEP AlwaysOff (bad idea) or DEP OptOut (better idea)
p6490
aVThis can be configured (under WinXp SP2+ and Win2k3 SP1+ at least) by changing the boot
p6491
aVini file to have the setting:
p6492
aVand then configuring your individual program to opt out by choosing (under XP):
p6493
aVThis should allow you to execute code from within your program that's created on the fly in  blocks
p6494
aVKeep in mind that this makes your program more susceptible to attacks that DEP was meant to prevent
p6495
aVIt looks like this is also possible in Windows 2008 with the command:
p6496
as(dp6497
g16
V14860
p6498
stp6499
a((dp6500
g2
(lp6501
VWelcome
p6502
aVfish, hope your stay is a pleasant one
p6503
aVThe following pseudo-code shows how to do this in the case where the sum will fit within an integer type, and round rounds to the nearest integer
p6504
aVIn your sample, the numbers add sum to 16, dividing by 3 gives you 5 1/3, which rounds to 5
p6505
as(dp6506
g16
V14860
p6507
stp6508
a((dp6509
g2
(lp6510
VIn XML, it doesn't matter what order the attributes are in
p6511
aVIf you have some piece of XML processing code where it does matter, then I would suggest that code was buggy
p6512
aVFrom the XML spec here, note the phrase: "Note that the order of attribute specifications in a start-tag or empty-element tag is not significant"
p6513
aVIn answer to your specific question on whether you can enforce a certain order, I don't believe so
p6514
aVI've never actually tried to do it (since it's unnecessary) but it seems unlikely the REXML people would waste time implementing such a non-feature :-)
p6515
aVSince the key/value pairs are stored as a hash, their order is likely to be random (as far as you could tell from the alphabetic sequence of the keys)
p6516
aVOf course, since Ruby comes with the source code for REXML, you could (if desperate) replace or augment the included copy with your own version (REXML2
p6517
aVSince you're doing a simple puts, it's probably using the pretty formatter so check the start of the  code in  where it performs the "" - you may find it's as simple as sorting that list before processing the elements
p6518
aVYou may also want to suggest to the developers (see here for the mailing list or here for bug reports and enhancement requests) that they make this an option in a future release but, if I were them, I'd simply say it was unnecessary
p6519
as(dp6520
g16
V14860
p6521
stp6522
a((dp6523
g2
(lp6524
V always calls  but the reverse is not true
p6525
aVIn ,  is only called if  is set to true
p6526
aVThat's your exit from the infinite recursion right there
p6527
aVYou always look for the possible exit points if you suspect infinite recursion (in either a single recursive function or one of your ping-pong ones, as you so eloquently put it :-)
p6528
as(dp6529
g16
V14860
p6530
stp6531
a((dp6532
g2
(lp6533
VCookies are not a good idea for this for one specific reason
p6534
aVThey are under the control of the user, not you
p6535
aVIf a user has cookies disabled (globally or just for your site), they won't be able to get to page 2 now matter how many times they've read page 1
p6536
aVIn addition, if they know what your cookie contains (i
p6537
ag75
aV, it's not encrypted), they can easily create it themselves or forward the method to a friend to get them to create it
p6538
aVRegarding your question on whether you could send the page 2 link to someone else, cookies belong to the computer
p6539
aVThat means the "someone else" would almost certainly not have the correct cookie for properly viewing page 2: they'd get an error
p6540
aVWe implemented a similar scheme (many years ago so there may be better ways to do it now)
p6541
aVIt involved storing a special "one-time" key when delivering page 1 to an IP address
p6542
aVThe links in that page 1 were modified to include this key as an argument so that, when you requested page 2, the key was sent through as well
p6543
aVThe keys had a 30-minute lifetime (configurable but we ended up at 30 minutes)
p6544
aVIn order for us to deliver a page 2, the request had to come from the same IP address and have the proper key
p6545
aVThis prevented forwarding of links to other places and ensured the links had limited lifetimes
p6546
aVWhether that's a viable solution for you is a question only you can answer
p6547
aVI know we got a few complaints from people who bought up page 1, then went out for a coffee
p6548
aVWhen they got back, their attempt to access page 2 was unsuccessful
p6549
aVWe fixed this by simply redirecting them to page 1 with a suitable error message that their key had timed out
p6550
aVNot perfect but, since the users were educated as to why it was happening, they understood its necessity
p6551
as(dp6552
g16
V14860
p6553
stp6554
a((dp6555
g2
(lp6556
VYou simply need to specify your current RE, followed by a letter/number followed by your current RE again:
p6557
aVSince you've now stated they're Javascript REs, there's a useful site here where you can test the RE against input data
p6558
aVIf you want lowercase letters as well:
p6559
as(dp6560
g16
V14860
p6561
stp6562
a((dp6563
g2
(lp6564
VHave you tried:
p6565
aVI don't know if this will work but it seems to make sense from looking at this document here
p6566
aVI'd also think twice about using  as a variable name since it's confusing trying to figure out the difference between that and the keyword  (as in "")
p6567
aVFollowing your edit, if you cannot subscript intermediate values, then it appears you will have to implement a separate "chip" such as  which will take a 16-bit value as input (your intermediate ) and return one bit indicating its zero-ness that you can load into
p6568
aVOr you could make an  chip but you'd have to then call it it two stages as you're currently doing with
p6569
aVThis seems like a valid solution since you can subscript the input values to a chip
p6570
aVAnd, just looking at the error, this may be a different problem to the one you suggest
p6571
aVThe phrase "Can't connect gate's output pin to part" would mean to me that you're unable to connect signals from the output parameter back into the chips processing area
p6572
aVThat makes sense from an electrical point of view
p6573
aVYou may find you have to store the output into a temporary variable and use that to both set  and  (since once the signals have been "sent" to the chips output pins, they may no longer be available)
p6574
aVCan we try:
p6575
aVand then, in your ALU chip, use this at the end:
p6576
as(dp6577
g16
V14860
p6578
stp6579
a((dp6580
g2
(lp6581
VIt depends on the type of target "file" that you're uploading to
p6582
aVIf you're uploading to a member that has fixed block size (e
p6583
ag1775
aV, FB80), you'll need to ensure all the lines are padded out with spaces before you transmit it up (in binary mode)
p6584
aVText mode transfers are not suitable for binary files (and your files are binary if they contain packed decimals - there's no reliable way for FTP to detect real line-end characters)
p6585
aVYou'll need to fix your Windows ASCII-to-EBCDIC converter to be able to generate fixed length records
p6586
aVThe only other option is with a REXX script on the mainframe but this would still require being able to tell the difference between a real end-of-line marker and that marker within the binary data
p6587
aVYou could possibly tell the presence of a packed decimal by virtue of the fact that it consisted of BCD nybbles, the last of which is 0xC or 0xD, but that could also cause false positives or negatives
p6588
aVMy advice: when you convert it from ASCII to EBCDIC, pad out the lines to the desired record length at the same time
p6589
aVThe other point I'd like to raise is that if you just want to look at the files on the mainframe (not use them from any code that requires EBCDIC), the ISPF editor includes a few new commands (as of z/OS 1
p6590
aV9 if I remember correctly)
p6591
aVwill display the data as ASCII rather than EBCDIC
p6592
aVIn addition, the  command allows you to massage the ASCII stream in an FB member to correctly fix up line endings
p6593
as(dp6594
g16
V14860
p6595
stp6596
a((dp6597
g2
(lp6598
VSomeone's probably hijacked the google
p6599
aVcom address on your PC
p6600
aVTry a ping of google
p6601
aVcom and see if the address resolves to the same IP as you think it should
p6602
aVOtherwise, they may have hijacked your browser (such as a BHO under IE)
p6603
aVIn any case, you're right, this isn't really programming-related
p6604
aVEDIT: I've just typed that source into a HTML file on the hard drive and changed the 0 to a 5
p6605
aVIt successfully refreshes me to Google after 5 seconds which is what I'd expect yours to do
p6606
aVBut, this sort of page-initiated meta-refresh can be disabled in some browsers
p6607
aVFor example, if you bring up "Tools" menu, "Internet options", "Security" tab in IE6, you can disable meta-refresh (under "Miscellaneous")
p6608
aVThis may be worth looking into, and it depends on the browser you're using
p6609
aVTry typing this exact content into a file x
p6610
aVhtml and double-clicking on it:
p6611
aVIt should complain about not being able to find xxx
p6612
aVIf not, then your browser has somehow disabled meta-refresh (in which case, tell us the browser you're using)
p6613
aVHave a look here to see how this is meant to work
p6614
as(dp6615
g16
V14860
p6616
stp6617
a((dp6618
g2
(lp6619
VI don't believe so
p6620
aVName mangling is used so that each overloaded function has a different name as viewed by the linker
p6621
aVYou could rewrite them in C and use the  construct but then you lose all your beautiful inheritance, polymorphism and so forth
p6622
aVYou could also wrap the C++ inside C functions and expose only the C functions
p6623
as(dp6624
g16
V14860
p6625
stp6626
a((dp6627
g2
(lp6628
VYou need to use cursors in Berkeley DB to run through the entire key/value space
p6629
aVIn Berkeley DB itself, you would create a cursor then use it with the  flag followed by multiple invocations with the  flag until you run out of key/value pairs
p6630
aVYou can simplify the code by using only  since, if you do that to a newly created cursor, it's the same as using
p6631
aVWith the Ruby bindings, this appears to be done with (based on my very rudimentary knowledge of Ruby - you should be able to clean this up):
p6632
as(dp6633
g16
V14860
p6634
stp6635
a((dp6636
g2
(lp6637
VYou cannot capture Alt+Ctrl+Del
p6638
aVIt's captured by the operating system and is very secure
p6639
aVEven programs like VMWare have to emulate it with Alt+Ctrl+Ins since Windows protects it so well, and for good reason
p6640
aVIf you could subvert it, Windows login security would be useless
p6641
as(dp6642
g16
V14860
p6643
stp6644
a((dp6645
g2
(lp6646
VThat would be because you're now defining it with:
p6647
aVWhy don't you define it in the first place
p6648
aVThat seems pretty straightforward to me (unless I'm missing something)
p6649
aVUsing a variable before it's created (or set to something) is bad programming practice, and should be avoided
p6650
aVMy advice is to not use that trick to ensure it is set to something but to track down the logic error and fix it
p6651
as(dp6652
g16
V14860
p6653
stp6654
a((dp6655
g2
(lp6656
VIf you want to truncate the file to zero size, you can  with the  flag:
p6657
aVFor truncating to a specific size in standard C, you can do this with a transfer/rename solution, something like:
p6658
aVOf course, if you have access to the Win32 headers and libraries (and I believe MinGW gives you this), you can use , since it does it in place, rather than having to create a new file and then rename it
p6659
aVThat means using Windows handle-based file I/O rather than the C -based but, if you're limiting yourself to Windows anyway, that may not matter
p6660
aVIf you want portability on the other hand, you'll need a solution based on standard C, such as the transfer/rename solution above
p6661
as(dp6662
g16
V14860
p6663
stp6664
a((dp6665
g2
(lp6666
VIt's because of type coercion
p6667
aVSay you have the following functions:
p6668
aVNow, which of the two prototypes should you call, especially if they do two totally different things
p6669
aVBasically, a decision was made early on in the language design to only use the function name and arguments to decide which actual function gets called, and we're stuck with that until a new standard arrives
p6670
aVNow, you've tagged your question  but I see nothing wrong with designing a language that can do what you suggest
p6671
aVOne possibility would be to flag as an error any ambiguous commands like above and force the user to specify which should be called, such as with casting:
p6672
aVThis could allow the compiler to choose the right version
p6673
aVThis would even work for some issues that other answers have raised
p6674
aVYou could turn the ambiguous:
p6675
aVinto the specific:
p6676
aVThis may be possible to get added to  if it's not too far into a standards process (and Microsoft will listen) but I don't think much of your chances getting it added to  or  without an awfully large amount of effort
p6677
aVMaybe doing it as an extension to  would be easier
p6678
as(dp6679
g16
V14860
p6680
stp6681
a((dp6682
g2
(lp6683
VNo, you cannot rely on that unfortunately
p6684
aVLet's assume you have the array (two fields in each record used for checking but only first field used for sorting):
p6685
aVQuicksort may compare BBBB,1 with AAAA,3 and swap them, giving:
p6686
aVIf the next step were to compare BBBB,2 with BBBB,1, the keys would be the same and, since BBBB,2 has an address less than BBBB,1, no swap will take place
p6687
aVFor a stable sort, you should have ended up with:
p6688
aVThe only way to do it would be to attach the starting address of the pointer (not its current address) and sort using that as well as the other keys
p6689
aVThat way, the original address becomes the minor part of the sort key so that  will eventually end up before  regardless of where the two  lines go during the sorting process
p6690
as(dp6691
g16
V14860
p6692
stp6693
a((dp6694
g2
(lp6695
V is one for a start
p6696
as(dp6697
g16
V14860
p6698
stp6699
a((dp6700
g2
(lp6701
VIt cannot be done
p6702
aVIf your code can be run, then it can be read and reverse-engineered
p6703
aVAll you can do is make it a little harder and, believe me, it will only be a little harder
p6704
aVYou may not like the fact but most crackers are far better at cracking than anyone else is at making things hard to crack
p6705
aVThe amount of effort to protect your code is usually not worth it, especially if it disadvantages your paying customers
p6706
aVWitness the stunning non-successes of DRM
p6707
aVMy advice is to not worry about it
p6708
aVIf your algorithm is truly novel, seek a patent (although that got a little harder with the Bilski decision unless you tie it to a specific hardware implementation)
p6709
aVRelying on trade secrets is also useless unless you only distribute your software to those that sign contracts that ensure they will not allow unfettered access
p6710
aVAnd then, you have to have a way to police this
p6711
aVThe minute you put the binaries up on the internet or distributed them without a contract, I believe you'll be deemed to have lost trade secret status
p6712
aVRelying on licensing is also fraught with danger - you may think that you can insert clauses in your license that prohibit reverse-engineering but many jurisdictions around the world specifically disallow those provisions
p6713
aVAnd the Russian mobsters who whoever are responsible for most of the cracking are unlikely to honor said provisions anyway
p6714
aVWhy don't you just concentrate on making your product the best it can be
p6715
aVThe goal is to stay ahead of the crowd rather than lock them out altogether
p6716
aVBeing the first to deliver and always having the best product in a competitive group will ensure your prosperity far more than wasting a lot of effort on useless protection (IMNSHO)
p6717
aVThis is just my opinion
p6718
aVI may be wrong
p6719
aVI've been wrong before, you only need ask my wife :-)
p6720
as(dp6721
g16
V14860
p6722
stp6723
a((dp6724
g2
(lp6725
VCheck out this document here (from Microsoft)
p6726
aVIt's an Excel spreadsheet which lists a great deal of registry keys and what they mean, grouped by category
p6727
aVNote that it says the password policies aren't in the registry, but it does provide pointers to documents that state how to get at them
p6728
as(dp6729
g16
V14860
p6730
stp6731
a((dp6732
g2
(lp6733
VQuite easy
p6734
aVWhat you need to do is create an agent in the mail database which will process the incoming mail (this will require Domino Designer and the appropriate privileges in the mail DB)
p6735
aVDepending on your requirements, you can trigger the agent periodically (e
p6736
ag1775
aV, once an hour) or on a specific event (e
p6737
ag1775
aV, when new mail arrives)
p6738
aVAll the agents I've ever written are in LotusScript (sort of VBA) and they can scan documents in the database, examining the status, headers and so on, to decide what to do
p6739
aVOne recent one I wrote for someone here follows
p6740
aVWhen called, it basically runs through the InBox checking each document for a subject heading containing "qwertyuiop", and creates a response email back to the sender containing the same subject with "SUCCESS" appended
p6741
aVThen it moves the document from the InBox to the junk folder
p6742
aVThis particular agent ran every 60 minutes since immediate response was not required
p6743
aVYou should be able to pick up the intent from the code
p6744
aVWhat you probably need is a slight modification to this which will open up a different database and change documents in there based on the mail documents
p6745
aVAll you really need is a key in the email that can identify which document in the secondary database should be changed, and some logic that can apply the changes based on the mail content
p6746
aVThat's left as an exercise for the reader
p6747
aVWhat I've given you should be enough to get started (ask another question when you've had a play with this)
p6748
as(dp6749
g16
V14860
p6750
stp6751
a((dp6752
g2
(lp6753
VThere's a snippet of code here that shows how to change the label and state of all buttons but the one you desire
p6754
aVI would modify this to iterate over all the buttons but change the internal if-statement to '=" instead of "<>" (and remove the disabling if that's not needed)
p6755
as(dp6756
g16
V14860
p6757
stp6758
a((dp6759
g2
(lp6760
VIn C (as opposed to C++ where it may be possible, I haven't checked), you cannot reference the typedef that you're creating withing the structure itself
p6761
aVYou have to use the structure name, as in the following test program:
p6762
aVAlthough it's probably a lot more complicated than this in the standard, you can think of it as the compiler knowing about  on the first line of the  but not knowing about  until the last line :-) That's how I remember that rule
p6763
as(dp6764
g16
V14860
p6765
stp6766
a((dp6767
g2
(lp6768
VThe best way is to not detect it, but to use a cross-browser-compatible library like jQuery
p6769
aVThis also has a lot of other advantages in terms of expressiveness
p6770
as(dp6771
g16
V14860
p6772
stp6773
a((dp6774
g2
(lp6775
VI seem to recall being able to call make recursively, something along the lines of:
p6776
aVI've done similar tricks for making in subdirectories:
p6777
aVJust checked it and this works fine:
p6778
as(dp6779
g16
V14860
p6780
stp6781
a((dp6782
g2
(lp6783
VYou can call bash directly within your Makefile instead of using the default shell:
p6784
aVinstead of:
p6785
aVOr force make to use a specific shell with either (only export once):
p6786
aVor:
p6787
as(dp6788
g16
V14860
p6789
stp6790
a((dp6791
g2
(lp6792
VIt doesn't matter at all whether it's local or global
p6793
aVThe scope of the file pointer has nothing to do with its use
p6794
aVIn general, it's a good idea to avoid global variables as much as possible
p6795
aVHere's a sample showing how to copy from  to :
p6796
as(dp6797
g16
V14860
p6798
stp6799
a((dp6800
g2
(lp6801
VSince you've marked it language-agnostic, here's the algorithm I'd use
p6802
as(dp6803
g16
V14860
p6804
stp6805
a((dp6806
g2
(lp6807
VThere are a number of ways to "command" your application to exit (such as a global exit flag or return codes)
p6808
aVSome have already touched on using an exit code so I'll put forward an easy modification to make to an existing program using an exit flag
p6809
aVLet's assume your program executes a system call to output a directory listing (full directory or a single file):
p6810
aVHow do we go about making that loop until an exit condition
p6811
aVThe following steps are taken:
p6812
aVChange  to
p6813
aVAdd new
p6814
aVAdd new  to continuously call  until exit flagged
p6815
aVChange  to signal exit at some point
p6816
aVThis gives the following code:
p6817
as(dp6818
g16
V14860
p6819
stp6820
a((dp6821
g2
(lp6822
VFor unit tests, we actually have the test code within the source file itself and we conditionally compile it in when testing
p6823
aVThis gives the unit tests full access to all functions and file-level variables (static or otherwise)
p6824
aVThe unit tests themselves are not static - this allows us to call the unit tests from a single super-test program which unit tests all compilation units
p6825
aVWhen we ship the code, we conditionally compile out the unit tests but this isn't actually necessary (if you want to be certain you're shipping exactly the same code you tested)
p6826
aVWe've always found it invaluable to have the unit tests in the same place as the code you're testing since it makes it more obvious that you need to update the tests if and when the code changes
p6827
as(dp6828
g16
V14860
p6829
stp6830
a((dp6831
g2
(lp6832
VThis works fine for me
p6833
aVI've set one value to string and the other to integer so you can see that the variants behave themselves
p6834
as(dp6835
g16
V14860
p6836
stp6837
a((dp6838
g2
(lp6839
VYou can set your minimum size to whatever you want, as long as your software looks nice on all sizes greater than that
p6840
aVI'd be surprised if many people still ran 800x600 but they may, and you will be limiting your market by not handling it
p6841
aVPersonally, I don't think that would be much of a limit
p6842
aVIn addition, there's not a lot between 800x600 and 1024x768, they're the two "standard" resolutions right next to each other
p6843
aVSo if you think 1024x768 is too big (it's not), 800x600 is the next option down
p6844
as(dp6845
g16
V14860
p6846
stp6847
a((dp6848
g2
(lp6849
VIf you're looking at combining the two lists into one, and they're sorted already, you shouldn't be resorting
p6850
aVA simple merge will do, as follows
p6851
aVThis is assuming your assumptions are correct and there are no "naked" detail or total lines (details without totals or totals without details)
p6852
aVIf there are, you'll need extra code to handle that but the principle is the same
p6853
as(dp6854
g16
V14860
p6855
stp6856
a((dp6857
g2
(lp6858
VThere are a great number of ways to do this, all involving some form of inter-process communication
p6859
aVWhich one you choose will depend on many factors, but some are:
p6860
aVshared memory
p6861
aVpipes ( and such)
p6862
aVsockets
p6863
aVIn general, I would probably  a number of communications sessions in the parent before spawning the children; the parent will know about all five but each child can be configured to use only one
p6864
aVShared memory is also a possibility, although you'd probably have to have a couple of values in it per child to ensure communications went smoothly:
p6865
aVa value to store the variable and return value
p6866
aVa value to store the state (0 = start, 1 = variable ready for child, 2 = variable ready for parent again)
p6867
aVIn all cases, you need a way for the children to only pick up their values, not those destined for other children
p6868
aVThat may be as simple as adding a value to the shared memory block to store the PID of the child
p6869
aVAll children would scan every element in the block but would only process those where the state is 1 and the PID is their PID
p6870
aVFor example:
p6871
aVMain creates shared memory for five children
p6872
aVEach element has state, PID and value
p6873
aVMain sets all states to "start"
p6874
aVMain starts five children who all attach to the shared memory
p6875
aVMain stores all their PIDs
p6876
aVAll children start scanning the shared memory for state = "ready for child" and their PID
p6877
aVMain puts in first element (state = "ready for child", PID = pid1, value = 7)
p6878
aVMain puts in second element (state = "ready for child", PID = pid5, value = 9)
p6879
aVChild pid1 picks up first element, changes value to 49, sets state to "ready for parent"), goes back to monitoring
p6880
aVChild pid5 picks up second element, changes value to 81, sets state to "ready for parent"), goes back to monitoring
p6881
aVMain picks up pid5's response, sets that state back to "start
p6882
aVMain picks up pid1's response, sets that state back to "start
p6883
aVThis gives a measure of parallelism with each child continuously monitoring the shared memory for work it's meant to do, Main places the work there and periodically receives the results
p6884
as(dp6885
g16
V14860
p6886
stp6887
a((dp6888
g2
(lp6889
VThat will work but it will modify all rows that have progress in that column
p6890
aVI think you probably want to limit the update based on some other part of the record
p6891
aVFor example if it were the progress of installing a particular piece of software (say Ubuntu on machine number 7):
p6892
aVFrom a conceptual point of view, it's gathering the list of records to change first (with the  clause), then applying the  to all those records
p6893
as(dp6894
g16
V14860
p6895
stp6896
a((dp6897
g2
(lp6898
VIt sounds like you just want to remove leading zeros unless there's only one left ("0" for an integer or "0
p6899
aVxxx" for a float, where x can be anything)
p6900
aVHow about this for a first cut
p6901
as(dp6902
g16
V14860
p6903
stp6904
a((dp6905
g2
(lp6906
VAnother option no-one has mentioned is
p6907
as(dp6908
g16
V14860
p6909
stp6910
a((dp6911
g2
(lp6912
VThere's a couple of things you need to think about
p6913
aV1/ Do you have 256M now
p6914
aVI wouldn't think so - my smallest memory machine is 2G so a 200M application is not much of a problem
p6915
aV2a/ That 200M you talk about might not be "real" memory
p6916
aVIt may just be address space in which case it might not all be in physical memory at once
p6917
aVSome bits may only be pulled in to physical memory when you choose to do esoteric things
p6918
aV2b/ It may also be shared between other processes (such as a DLL)
p6919
aVThis means it could be only held in physical memory as one copy but be present in the address space of many processes
p6920
aVThat way, the usage is amortized over those many processes
p6921
aVBoth 2a and 2b depend on where your figure of 200M actually came from (which I don't know and, running Linux, I'm unlikel to find out without you telling me :-)
p6922
aV3/ Even if it is physical memory, modern operating systems aren't like the old DOS or Windows 3
p6923
aV1 - they have virtual memory where bits of applications can be paged out (data) or thrown away completely (code, since it can always reload from the executable)
p6924
aVVirtual memory gives you the ability to use far more memory than your actual physical memory
p6925
as(dp6926
g16
V14860
p6927
stp6928
a((dp6929
g2
(lp6930
VSince most CLIs are really only terminals (pretty dumb ones mostly but sometimes with color), the only cross-platform way I've ever done this is by allocating muliple physical lines per virtual line, such as:
p6931
aVIt's not ideal but it's probably the best you're going to get without a GUI
p6932
aVFollowing you extra information as to what platforms you're mainly interested in:
p6933
aVWith Ubuntu at least, gnome-terminal runs in UTF-8 mode by default so the following code shows how to generate the superscripts and subscripts:
p6934
aVThe  and  char* arrays are the UTF-8 encodings for the Unicode code points for numeric superscripts and subscripts (see here)
p6935
aVThe given program will output my formula from above (on one line instead of three), then another test line for all the choices and a y-super-999 and z-sub-75 so you can see what they look like
p6936
aVMacOS doesn't appear to use gnome-terminal as a terminal program but references here and here seem to indicate the standard terminal understands UTF-8 (or you could download and install gnome-terminal as a last resort)
p6937
as(dp6938
g16
V14860
p6939
stp6940
a((dp6941
g2
(lp6942
VUnder Gnome, it's
p6943
aVUnder KDE, it's
p6944
aVOr you could use the more generic terminal program
p6945
aVYou'll probably want to use options with most of this, so look up the man pages for the one you want
p6946
as(dp6947
g16
V14860
p6948
stp6949
a((dp6950
g2
(lp6951
VThe ellipses mean that there are a variable number of arguments following
p6952
aVThe place you will have used them (perhaps without realising) are the  family of functions
p6953
aVThey allow you to create functions of that style where the parameters are not known beforehand, and you can use the varargs functions (,  and ) to get at the specific arguments
p6954
aVThis link here has a good treatise on the  use of variable argument lists
p6955
as(dp6956
g16
V14860
p6957
stp6958
a((dp6959
g2
(lp6960
V will give you the inode of a file in the "" field
p6961
aVSorry, initial misunderstanding of the question
p6962
aVIf you want the actual inode structure within the kernel, I'm pretty certain the kernel itself wouldn't walk an array or list looking for the inode number (unless the list is very small)
p6963
aVSince the code to the kernel is publicly available, you should be able to find out how it does it, then do the same
p6964
as(dp6965
g16
V14860
p6966
stp6967
a((dp6968
g2
(lp6969
VThe socket has a function that will retrieve the remote endpoint
p6970
aVI'd give this (long-ish) chain of commands a go, they should retrieve the string representation of the remote end IP address:
p6971
aVor the one-liner version:
p6972
as(dp6973
g16
V14860
p6974
stp6975
a((dp6976
g2
(lp6977
VI'd do one of two things
p6978
aVThe first is to only execute the body for specific loop numbers:
p6979
aVOr, you can jump straight to the next:
p6980
as(dp6981
g16
V14860
p6982
stp6983
a((dp6984
g2
(lp6985
VPEP8 is a style guide, not a style requirement
p6986
aVIt even states that you should "know when to be inconsistent"
p6987
aVPersonally, I don't like some of the guidelines in it
p6988
aVI prefer tabs to spaces (but still abhor the mixing of the two)
p6989
aVAnd, to be brutal, I don't often look at the source code of libraries I'm using unless it's absolutely necessary
p6990
aVI'd much prefer the documentation for said library to be adequate enough that I never have to look at the source (bugs notwithstanding, of course)
p6991
aVSeriously, why do you really care what the source code for matplotlib looks like, as long as it does what it is intended to do
p6992
aVI agree with you on the missing docstrings (assuming they're public elements rather than internal ones) but that's not the only way to document a library
p6993
as(dp6994
g16
V14860
p6995
stp6996
a((dp6997
g2
(lp6998
VNo, no idea at all, but my first thought would be that your encryption algorithm is built such that it removes 1 bit per 10 from the output data
p6999
aVOnly you can know for sure since we cannot see you code from out here :-)
p7000
as(dp7001
g16
V14860
p7002
stp7003
a((dp7004
g2
(lp7005
VFor bash (which is one shell, but probably the most common in the Linux world), the equivalent is:
p7006
aVassuming there's no spaces in the arguments
p7007
aVIf there are spaces, you should quote your arguments:
p7008
aVYou can also do:
p7009
aVor:
p7010
aVif you want all parameters passed through (again, that second one is equivalent to quoting each of the parameters: "$1" "$2" "$3"
p7011
as(dp7012
g16
V14860
p7013
stp7014
a((dp7015
g2
(lp7016
VThe following should work:
p7017
aVkeeping in mind that months are zero-based so December is 11 rather than 12
p7018
aVBut, as others have pointed out, the month wraps, even as part of the atomic constructor, so the following is also possible:
p7019
as(dp7020
g16
V14860
p7021
stp7022
a((dp7023
g2
(lp7024
VOkay, I'm not going to get involved in yet another fight with those who say I shouldn't advocate database schema changes (yes, you know who you are :-), but here's how I'd do it
p7025
aV1/ If you absolutely cannot change the schema, I would solve it with code (either real honest-to-goodness procedural code outside the database or as a stored procedure in whatever language your DBMS permits)
p7026
aVThis would check the database for a non-yahoo name and return it, if there
p7027
aVIf not there, it would attempt to return the yahoo name
p7028
aVIf neither are there, it would return an empty data set
p7029
aV2/ If you can change the schema and you want an SQL query to do the work, here's how I'd do it
p7030
aVCreate a separate column in your table called CLASS which is expected to be set to 0 for non-yahoo addresses and 1 for yahoo addresses
p7031
aVCreate insert/update triggers to examine each addition or change of a row, setting the CLASS based on the email address (what it ends in)
p7032
aVThis guarantees that CLASS will always be set correctly
p7033
aVWhen you query your table, order it by name and class, and only select the first row
p7034
aVThis will give you the email address in the following preference: non-yahoo, yahoo, empty dataset
p7035
aVSomething like:
p7036
aVIf your DBMS doesn't have an equivalent to the DB2 "fetch first row only" clause, you'll probably still need to write code to only process one record
p7037
aVIf you want to process all names but only the specific desired email for that name, a program such as this will suffice (my views on trying to use a relational algebra such as SQL in a procedural way are pretty brutal, so I won't inflict them on you here):
p7038
as(dp7039
g16
V14860
p7040
stp7041
a((dp7042
g2
(lp7043
VIf you can change the code to have it write the last processed record to a file, why can't you change it to fix the memory leak
p7044
aVIt seems to me to be a better solution to fix the root cause of the problem rather than treat the symptoms
p7045
aVand  will degrade the performance but nowhere near as much as a open/write/close-type operation
p7046
aVI'm assuming you'll be storing the  value in the second file (so you can pick up where you left off)
p7047
aVYou should always  the file as well to ensure that data is written from the C runtime library down to the OS buffers
p7048
aVOtherwise your SEGV will ensure the value isn't up to date
p7049
as(dp7050
g16
V14860
p7051
stp7052
a((dp7053
g2
(lp7054
VPretty unlikely that it's hanging since PDO seems to be in use quite a bit, though how much with Oracle, I don't know
p7055
aVA  may take some time depending on how many records there are
p7056
aVHow long did you wait before deciding it was hung and how many records were in the table
p7057
as(dp7058
g16
V14860
p7059
stp7060
a((dp7061
g2
(lp7062
VIt sounds like what you're trying to do is work out a large number of compression possibilities for every possible segment (let's call your variable length 1-64K blocks segments) of the file
p7063
aVCorrect me if I'm wrong, but are you working out the best compression for the first segment from the following choices (method 0 is uncompressed):
p7064
aVcompression method 0, length 1 byte
p7065
aVcompression method 1, length 1 byte
p7066
aV: : : : :
p7067
aVcompression method 6, length 1 byte
p7068
aVcompression method 0, length 2 bytes
p7069
aVcompression method 1, length 2 bytes
p7070
aV: : : : :
p7071
aVcompression method 6, length 65534 bytes
p7072
aVcompression method 0, length 65535 bytes
p7073
aVcompression method 1, length 65535 bytes
p7074
aVcompression method 2, length 65535 bytes
p7075
aVcompression method 3, length 65535 bytes
p7076
aVcompression method 4, length 65535 bytes
p7077
aVcompression method 5, length 65535 bytes
p7078
aVcompression method 6, length 65535 bytes
p7079
aVThat's going to take a huge amount of time (roughly 420,000 compression attempts per segment)
p7080
aVIf that is what you're doing, you'll be better off choosing a single segment size (e
p7081
ag1775
aV, 64K) and applying each of the seven compression methods to it to choose the best
p7082
aVThen, for each segment, output the "method" byte followed by the compressed data
p7083
as(dp7084
g16
V14860
p7085
stp7086
a((dp7087
g2
(lp7088
VIt's unusual to have a  since there's usually nothing that needs to be exposed to the other compilation units at compile time
p7089
aVitself needs to be exposed for the linker/start-up-code but they don't use header files
p7090
aVYou can have either one header file per C file or, most likely, a header file for a related group of C files
p7091
aVOne example of that is if you have a BTree implementation and you've put add, delete, search and so on in their own C files to minimise recompilation when the code changes
p7092
aVIt doesn't make sense in that case to have separate header files for each C file as the header is the API, the view of the library to the user
p7093
aVI doubt the user would want to include 6 header files just to be able to use the functions
p7094
aVThere would be one  file and a single  file containing all of the BTree objects built from the individual C files
p7095
aVAnother example can be found in the standard C headers
p7096
aVWe don't know for certain whether there are multiple C files for the  functions (that's how I'd do it but it's not the only way) but, even if there were, they're treated as a unit in terms of the API
p7097
aVYou don't have to include ,  and so on - there's a single  for the standard I/O part of the C runtime library
p7098
as(dp7099
g16
V14860
p7100
stp7101
a((dp7102
g2
(lp7103
VFirst things first: setting y-speed to 1 when you bounce on the top of the window is not correct, you should set yspeed to -yspeed (but if you start within the borders, it should never bounce up to the top anyway)
p7104
aVSecondly, your multiply by -0
p7105
aV981 when bouncing on the bottom is okay but I'm concerned with the constant 0
p7106
aV4 gravity being added to yspeed every iteration
p7107
aVI think that's what is causing you wiggles at the bottom since you do the move before checking which can result in the ball dropping below ground level
p7108
aVI would try ensuring the the y value can never go below ground level by replacing the move with:
p7109
as(dp7110
g16
V14860
p7111
stp7112
a((dp7113
g2
(lp7114
VThe following works fine and has been cleaned up with consistent braces and spaces in function calls and definitions and loops/ifs
p7115
aVIt also works in C, if that was your intent from the tags, and prints an error and returns 1 if the file cannot be opened
p7116
as(dp7117
g16
V14860
p7118
stp7119
a((dp7120
g2
(lp7121
VUse this
p7122
aVJust replace the echo inside the loop to do whatever it is you need to do to file1, file2 and so on
p7123
as(dp7124
g16
V14860
p7125
stp7126
a((dp7127
g2
(lp7128
VOne possibility is that the time taken to create the threads exceeds the savings gained by using threads
p7129
aVI would think that N is not very large, if the elapsed time is only 6 seconds for a O(n^4) operation
p7130
aVThere's also no guarantee that multiple threads will run on different cores or CPUs
p7131
aVI'm not sure what the default thread affinity is with Linux - it may be that both threads run on a single core which would negate the benefits of a CPU-intensive piece of code such as this
p7132
aVThis article details default thread affinity and how to change your code to ensure threads run on specific cores
p7133
as(dp7134
g16
V14860
p7135
stp7136
a((dp7137
g2
(lp7138
VNo, XLib is certainly a valid topic here but I think your first contention is correct: almost nobody uses it anymore
p7139
aVI vaguely remember using it some fifteen years ago and I liken it to:
p7140
aVpulling out your teeth with a hammer
p7141
aVtrying to eat a pineapple without cutting it up first
p7142
aVnailing jelly to a tree
p7143
aVtrying to train a domestic cat
p7144
aV(Pick your favorite)
p7145
aVI suspect it's not the sort of question that'll be answered quickly by the PHP/Silverlight/
p7146
aVNET/Python groups who frequent this site
p7147
aVYou may have to wait a few days until someone a little more knowledgeable about the subject matter notices it
p7148
aVSorry I couldn't help with the specific question (I assume you meant the polygon filler without stipple - if not, let me know which one (with a link) and I'll have a quick look)
p7149
aVOther places to ask for help:
p7150
aVhttp://www
p7151
aVlinuxforums
p7152
aVorg/forum/linux-programming-scripting/
p7153
aVhttp://www
p7154
aVlinuxquestions
p7155
aVorg/questions/
p7156
as(dp7157
g16
V14860
p7158
stp7159
a((dp7160
g2
(lp7161
VIn an ideal high-availability situation, there should be no single point of failure
p7162
aVThat means a single box with the web pages on it is a no-no
p7163
aVHaving done HA work for a major Telco, I would initially propose the following
p7164
aV1/ Each of the four servers has it's own copy of the data
p7165
aV2/ At a quiet time, bring two of the servers off-line (i
p7166
ag75
aV, modify the HA balancer to remove them)
p7167
aV3/ Update the two off-line servers
p7168
aV4/ Modify the HA balancer to start using the two new servers and not the two old servers
p7169
aV5/ Test that to ensure correctness
p7170
aV6/ Update the two other servers then bring them online
p7171
aVThat's how you can do it without extra hardware
p7172
aVIn the anal-retentive world of the Telco I worked for, here's what we would have done:
p7173
aVWe would have had eight servers (at the time, we had more money than you could poke a stick at)
p7174
aVWhen the time came for transition, the four offline servers would be set up with the new data
p7175
aVThen the HA balancer would be modified to use the four new servers and stop using the old servers
p7176
aVThis made switchover (and, more importantly, switchback if we stuffed up) a very fast and painless process
p7177
aVOnly when the new servers had been running for a while would we consider the next switchover
p7178
aVUp until that point, the four old servers were kept off-line but ready, just in case
p7179
aVTo get the same effect with less financial outlay, you could have extra disks rather than whole extra servers
p7180
aVRecovery wouldn't be quite as quick since you'd have to power down a server to put the old disk back in, but it would still be faster than a restore operation
p7181
as(dp7182
g16
V14860
p7183
stp7184
a((dp7185
g2
(lp7186
VChange your code snippet to this to see if it's actually being called twice but, for some reason, the  isn't outputting something the second time around
p7187
aVThen you'll get the output:
p7188
aVIf you get the output:
p7189
aVthen I'm mistaken and I'll remove the answer (or more likely make it community wiki so others won't follow the same path)
p7190
as(dp7191
g16
V14860
p7192
stp7193
a((dp7194
g2
(lp7195
VPeople don't seem to get the fact that they don't have to use REs (or SQL, but that's another issue :-) for every task, especially those with procedural code is cleaner
p7196
aVIf you're limiting yourself to using REs, I think that's a lack of vision
p7197
aVI would simply process the string, token by token, where a token is one of:
p7198
aVa non-delimiter
p7199
aVa column delimiter
p7200
aVa row delimiter
p7201
aVStart with an empty column list, then extract (using indexOf/substring stuff) up to the first next row/column delimiter, adding that text to the column list
p7202
aVIf the delimiter is column, keep going
p7203
aVIf the delimiter is row, check the number of columns and process the list as required
p7204
aVIf there's no final row delimiter and the column list is non-empty, then the format was invalid
p7205
aVSorry if you were really after an RE method but I don't believe it's required (or even desirable) here
p7206
aVPseudo-code (only a first cut, may be slightly buggy) follows:
p7207
aVYou could easily add code to check the correct number of columns in this code, or in , if that was your desire
p7208
as(dp7209
g16
V14860
p7210
stp7211
a((dp7212
g2
(lp7213
VThis page (for 10g) says it's 57 bytes
p7214
as(dp7215
g16
V14860
p7216
stp7217
a((dp7218
g2
(lp7219
VFirst, remove the file-list:
p7220
aVThen, for each of the words, add the file to the filelist if it contains that word:
p7221
aVThen sort, uniqify and get a count:
p7222
aVAll those files in flsit_with_count that don't have the number of words should be deleted
p7223
aVThe format will be:
p7224
aVIf there were 8 words, then file1 and file2 should be deleted
p7225
aVI'll leave the writing/testing of the script to you
p7226
aVOkay, you convinced me, here's my script:
p7227
aVThis removes the files in the directory that didn't have all three words:
p7228
as(dp7229
g16
V14860
p7230
stp7231
a((dp7232
g2
(lp7233
VThat's a method of an object rather than an object itself, but my personal choice would be  since that captures the intent
p7234
aVBut I like Paul's "Bob" as well :-)
p7235
as(dp7236
g16
V14860
p7237
stp7238
a((dp7239
g2
(lp7240
VIt's because GLDrawable actually doesn't have such a method - see here
p7241
aVIt's an interface which is implemented by GLCanvas and GLJPanel, both of which do have such a method
p7242
aVI think what you need to do is pass in a GLAutoDrawable and use its getGL method
p7243
aVSee here
p7244
aVThis wikipedia article has some sample source which shows how it's done
p7245
aVIn answer to your further query where you ask why  doesn't work, you're probably using the latest JSR-231 version of the API but basing your own code on older source code samples
p7246
aVBefore that spec, you used to get the GLU from:
p7247
aVWith it, you now just use:
p7248
aVSee here for details on that particular object
p7249
as(dp7250
g16
V14860
p7251
stp7252
a((dp7253
g2
(lp7254
VI much prefer to just install the latest "real" Eclipse (Ganymede) and use its inbuilt tools to install and keep up-to-date all the different plugins and features I use
p7255
aVThat way, it never drops behind the mainstream release and I don't have to pay any money to companies that are really just repackaging what I can get for free
p7256
aVThis cost is especially important since MyEclipse is per-seat licensing which can get expensive very fast
p7257
aVI'm not even sure why people would choose to use it
p7258
aVThe only thing it seems to offer over baseline Eclipse is tutorials and support, of which there are a plethora on the internet without having to shell out money
p7259
aVAs for EasyEclipse, at least it's free and it provides more pre-packaged Eclipse variants than Eclipse itself but it's really not that difficult to get everything you need from within Eclipse by looking through Epic
p7260
as(dp7261
g16
V14860
p7262
stp7263
a((dp7264
g2
(lp7265
VIf you're targeting the Microsoft platform, by all means use them
p7266
aVEven if you're not, you can always implement them yourself when (or if) you need to port your software to a non-Microsoft platform
p7267
aVWorst case is that you end up using a few s to conditionally compile
p7268
as(dp7269
g16
V14860
p7270
stp7271
a((dp7272
g2
(lp7273
VA lttle trickery can emulate what you desire
p7274
aVOnly the first three lines are required, the rest are just a test
p7275
as(dp7276
g16
V14860
p7277
stp7278
a((dp7279
g2
(lp7280
VFor larger data sets where sorting may not be desirable, you can also use the following perl script:
p7281
aVThis basically just remembers every line output so that it doesn't output it again
p7282
aVIt has the advantage over the "" solution in that there's no sorting required up front
p7283
as(dp7284
g16
V14860
p7285
stp7286
a((dp7287
g2
(lp7288
VWhat I would do is create my own class for dealing with matrices (probably as an array[x*y] because I'm more used to C (and I'd have my own bounds checking), but you could use vectors or any other sub-structure in that class)
p7289
aVGet your stuff functional first then worry about how fast it runs
p7290
aVIf you design the class properly, you can pull out your array[x*y] implementation and replace it with vectors or bitmasks or whatever you want without changing the rest of the code
p7291
aVI'm not totally sure, but I thing that's what classes were meant for, the ability to abstract the implementation well out of sight and provide only the interface :-)
p7292
as(dp7293
g16
V14860
p7294
stp7295
a((dp7296
g2
(lp7297
VThere are a number of ways to do what you want
p7298
aVIf, by "dynamically CALL", you mean call via a data definition variable, I don't think you can do this with the linker/binder since the binder needs to know the target functions at bind time
p7299
aVYou have to specifically  the DLL load module,  the function and call it that way
p7300
aVTo use the linker/binder, I believe the following steps are required (P1 is the NODLL COBOL program doing the calling, P2 is the DLL program being called):
p7301
aVP2 must be compiled and bound with the DLL option
p7302
aVP1 must be compiled with NODYNAM and bound with DLL
p7303
aVP1 must contain "CALL 'dll-func' (i
p7304
ag75
aV, literal calls only)
p7305
aVWhen binding P1, SYSLIB must first point to the P2 location
p7306
aVThis will cause the binder to incorporate both P1 and P2 into a single load module which is not exactly DLL calling but I don't think there's any way around that other than the  solution
p7307
aVI've used the older-style dll-functions but, if you're at a high-enough level, there are also the newer  C helper functions
p7308
aVThis page seems to provide support for my contention that NODLL/DLL programs can only call each other if bound into a single load module
p7309
aVYou still have to use static calls however
p7310
aVThis page seems to offer up another option where you can put the DLL program into the same load module as the calling program and use static calls to get to it
p7311
aVIt seems that the DLL program can call other DLL programs not in that load module
p7312
aVSo it may be possible to provide a static gateway function in the DLL program that can dynamically call a DLL function not in the load module
p7313
aVThis is beyond anything I've ever done on the big iron so you'll have to experiment
p7314
aVBoth those pages are from the publib-boulder sites which everyone using an IBM product should know about (along with the redbooks/redpapers site as well)
p7315
aVMe, I prefer the  solution since that's what I'm used to from AIX and other UNIXes and it seems to provide maximum flexibility
p7316
as(dp7317
g16
V14860
p7318
stp7319
a((dp7320
g2
(lp7321
VI would like to make the following comments - these are from some company guidelines where the class-1 products are translated in 31 different locales
p7322
aVFollowing these guidelines has given us (our development team rather than the whole company) the greatest productivity in translation
p7323
aVDon't try to reuse snippets of error messages
p7324
aVFor example, don't think that because you have the two errors  and , you can extract  into a separate item and use it in both places
p7325
aVAll messages should be self contained as their translations may change based on context
p7326
aVUse a professional translator knowledgeable about technology
p7327
aVIf you go near a service like BabelFish, you're going to get everything you deserve
p7328
aVFor example,  is  everywhere on the planet, it doesn't become  in Germany
p7329
aVTry not to embed variables within your messages (such as  where  changes dynamically) since positions and, indeed, gender may change:  vs
p7330
aV, or  vs
p7331
aVBetter to use a generic noun with appended parameters:
p7332
aVOnly translate things which the user is expected to see
p7333
aVLog messages in a log file (that only you will use) should be in English (or your native language), not translated to something like Swahili that you couldn't read anyway
p7334
aVMenus should be sorted by functionality, not collating order
p7335
aVTranslatable units should be stored external to the code and loaded in at runtime
p7336
aVThis makes translation an issue of just shipping off the external file, not trying to shoehorn changes into the middle of code
p7337
aVIt also makes adding other languages easier in future
p7338
aVThat's enough for now
p7339
aVBetter to stop before you all fall asleep :-)
p7340
as(dp7341
g16
V14860
p7342
stp7343
a((dp7344
g2
(lp7345
VA number of potential problems I would fix:
p7346
aV1/ Your  is dangerous since it's not copying across the null-terminator for the string
p7347
aV2/ It also makes little sense to set  to  in  since it's a passed parameter and will have no effect on the actual parameter passed in
p7348
aV3/ I'm not sure why you return -1 from  if the added string length is 0 or less
p7349
aVFirst, it can't be negative
p7350
aVSecond, it seems quite plausible that you could add an empty string, which should result in not changing the string and returning the current string length
p7351
aVI would only return a length of -1 if it failed (i
p7352
ag75
aVdidn't work) and make sure the old string is preserved if that happens
p7353
aV4/ You're not storing the  variable into  even though it can change - it rarely re-allocates memory in-place if you're increasing the size although it is possible if the increase is small enough to fit within any extra space allocated by
p7354
aVReduction of size would almost certainly re-allocate in-place unless your implementation of  uses different buffer pools for different-sized memory blocks
p7355
aVBut that's just an aside, since you're not ever reducing the memory usage with this code
p7356
aV5/ I think your specific problem here is that you're only allocating space for string which is a pointer to the structure, not the structure itself
p7357
aVThis means when you put the string in, you're corrupting the memory arena
p7358
aVThis is the code I would have written (including more descriptive variable names, but that's just my preference)
p7359
aVI've changed:
p7360
aVthe return values from  to better reflect the length and error conditions
p7361
aVNow it only returns -1 if it couldn't expand (and the original string is untouched) - any other return value is the new string length
p7362
aVthe return from  if you want to really do want to set the string to NULL with something like ""
p7363
aVthe checks in  for  string since you can now never have an allocated  without an allocated
p7364
aVHere it is, use (or don't :-) as you see fit:
p7365
aVThe only other possible improvement I could see would be to maintain a buffer of space and the end of the  to allow a level of expansion without calling
p7366
aVThat would require both a buffer length and a string length and changing the code to only allocate more space if the combined string length and new chars length is greater than the buffer length
p7367
aVThis would all be encapsulated in the function so the API wouldn't change at all
p7368
aVAnd, if you ever get around to providing functions to reduce the size of a string, they wouldn't have to re-allocate memory either, they'd just reduce their usage of the buffer
p7369
aVYou'd probably need a  function in that case to reduce strings that have a large buffer and small string
p7370
as(dp7371
g16
V14860
p7372
stp7373
a((dp7374
g2
(lp7375
VA linear congruential generator is basically an expression which modifies a given value to produce the next value in the series
p7376
aVIt takes the form:
p7377
aVxi+1 = (a
p7378
aVxi + b) mod m
p7379
aVas you've already specified (slightly differently: I was taught to always put xi+1 on the left and I still fear my math teachers 25 years later :-), where values for ,  and  are carefully chosen to give a decent range of values
p7380
aVNote that with the  operator, you will always end up with a value between  and  inclusive
p7381
aVNote also that the values tend to be integral rather than floating point so if, as you request, you need a value in the range 0-0
p7382
aV999
p7383
aV, you'll need to divide the integral value by  to get that
p7384
aVHaving explained how it works, here's a simple Java program that implements it using values of ,  and  from your question:
p7385
aVAnd here's the output, which looks random to me anyway :-)
p7386
as(dp7387
g16
V14860
p7388
stp7389
a((dp7390
g2
(lp7391
VWe wrote an editor for an old machine (keep in mind that this was a while ago, about 1986, so this is from memory, and the state of the art may have advanced somewhat since then) which we managed to get to scream along, performance wise, by using fixed memory blocks from self-managed pools
p7392
aVIt had two pools, each containing a fixed number of specific-sized blocks (one pool was for line structures, the other for line-segment structures)
p7393
aVIt was basically a linked list of linked lists
p7394
aVMemory was pre-allocated from a ''-like call, and we used 65,534 (block number 65,535 was the NULL-block) blocks each for lines (384K or 512K for the padded version) and line segments (2G) to handle files up to 65,534 lines and ~1
p7395
aV6G of file, which was pretty big back then)
p7396
aVThat was the theoretical file size limit - I don't think we ever approached that in reality since we never allocated the full set of line segment structures
p7397
aVNot having to call  for every little block of memory gave us a huge speed increase, especially as we could optimize our own memory allocation routines for fixed size blocks (including inlining the calls in the final optimized version)
p7398
aVThe structures in the two pools were as follows:
p7399
aVwhere:
p7400
aVLower-case letters point to the line segment pool (except )
p7401
aVUpper-case letters to the line pool
p7402
aVwas a block number for the next line (0xffff was NULL for all these)
p7403
aVthe the block number for the previous line
p7404
aVwas the block number for the first line segment in that line
p7405
aVwas reserved padding (to bump the structure out to 8 bytes)
p7406
aVwas the block number for the next line segment
p7407
aVwas the block number for the previous line segment
p7408
aVwas the block number for the segment's line block
p7409
aVwas the 26 characters in that line segment
p7410
aVThe reason the line structure was padded was to speed up the conversion of block numbers into actual memory locations (shifting left by 3 bits was much faster than multiplying by 6 in that particular architecture and extra memory used was only 128K, minimal compared to the total storage used) although we did provide the slower version for those who cared more about memory
p7411
aVWe also had an array of 100 16-bit values which contained the line segment (and line number so we could quickly go to specific lines) at roughly that percentage (so that array[7] was the line that was roughly 7% into the file) and two free pointers to maintain the free list in each pool (this was a very simple one way list where  or  in the structure indicated the next free block and free blocks were allocated from, and put back to, the front of these lists)
p7412
aVThere was no need to keep a count of the characters in each line segment since 0-bytes were not valid in files
p7413
aVEach line segment was allowed to have 0-bytes at the end that were totally ignored
p7414
aVLines were compressed (i
p7415
ag75
aV, line segments were combined) whenever they were modified
p7416
aVThis kept block usage low (without infrequent and lengthy garbage collection) and also greatly sped up search-and-replace operations
p7417
aVThe use of these structures allowed very fast editing, insertion, deletion, searching and navigation around the text, which is where you're likely to get most of your performance problems in a simple text editor
p7418
aVThe use of selections (we didn't implement this as it was a text mode editor that used vi-like commands [e
p7419
ag1775
aV, 3d to delete 3 lines, 6x to delete 6 characters]) could be implemented by having a (line#,char-pos) tuple to mark positions in the text, and use two of those tuples for a selection range
p7420
as(dp7421
g16
V14860
p7422
stp7423
a((dp7424
g2
(lp7425
VIn traditional project management, the WBS is an invaluable tool, if used correctly
p7426
aVI've always done it in a top-down approach, starting with major chunks of work:
p7427
aVuser interface
p7428
aVback-end
p7429
aVdata conversions
p7430
aVand simply drilled down to more specific levels
p7431
aVdata entry screen for withdrawal transaction
p7432
aVquery to get user history
p7433
aVconversion of STATS12 table from version 1
p7434
aV1 to version 1
p7435
ag2836
aVuntil every single element in the work breakdown structure is smaller than the reporting period
p7436
aVBy that I mean, if I have to report progress up the chain once every two weeks, no single element is allowed to be longer than about eight days estimated
p7437
aVIf it is, it needs to be broken down further
p7438
aVThis has the following main beneficial effects:
p7439
aVIf most of the estimates are right, I can report progress at every meeting - this always looks good for PMs :-)
p7440
aVSmaller jobs are always easier to estimate accurately than bigger jobs
p7441
aVFalling behind schedule becomes apparent very fast
p7442
aVSaving historical data on estimations and their eventual accuracy against reality, gives you a lot more detailed information for the next cycle so that you can adjust the estimates intelligently
p7443
aVThat last point is important in future estimations
p7444
aVFor example, if Sam continuously under-estimates user interface jobs by 10%, you know to bump up those estimates in future
p7445
aVThis should be happening IMNSHO otherwise your PM effort is more guess-work/black-magic than engineering
p7446
aVI can't really provide any links for you, sorry, since this is mostly experience gained painfully from many years of doing that role
p7447
aVI do have access to a lot of links to make it easier, but they're company-internal (we're big enough to have our own methodology)
p7448
as(dp7449
g16
V14860
p7450
stp7451
a((dp7452
g2
(lp7453
VThere are  radians in a full circle and your circle length is the circumference ()
p7454
aVSo, if you want a constant speed of the circumference running past a point, you need a radial speed of:
p7455
aVor:
p7456
aVIn other words, make the value a factor of the inverse of your radius
p7457
as(dp7458
g16
V14860
p7459
stp7460
a((dp7461
g2
(lp7462
VIf all you're trying to do is count how many times a cmd script is called, you can just append one character to a file every time it runs rather than fiddling around with expression evaluation every time the script is run
p7463
aVThis also has the advantage of making the script quicker since the analysis of the count is moved elsewhere
p7464
aVThe counter file expands by one byte every time, so watch out if you're calling it a truly large number of times since the file will expand
p7465
aVBut even, calling it once per second, a 1G file will accrue only after 30 years
p7466
aVAt the top of your script, just put:
p7467
aVThis simply adds the character  to the end of the  file every time the script is called
p7468
aVIt uses the "" command with input/output redirection, which is the only way I'm aware of to get a character out without a CR/LF following it (like the UNIX "")
p7469
aVTo get a count of the number of calls to date, you can use the file size environment variable modifier, as in the following script (I expect this will be done less often than running the script so it's better to put the grunt work here [in fact, it's not a lot of grunt work since it's not counting the characters, rather it gets the information directly from the directory entry]):
p7470
aVTo reset the count, use the following extremely complicated command (I'm thinking of patenting this):
p7471
aVOne other thing I'd suggest - you don't need to prefix every command with "" to prevent echo, you can simply put "" at the top of your script for global no-echo
p7472
aVIf you want to selectively echo some commands, just ignore this paragraph
p7473
as(dp7474
g16
V14860
p7475
stp7476
a((dp7477
g2
(lp7478
VFor a start, here is the original ArregloBinario class with the spacing fixed up:
p7479
aVAnd here's a recursive version:
p7480
aVHere's a sample run under Eclipse as the intensive testing it underwent :-)
p7481
as(dp7482
g16
V14860
p7483
stp7484
a((dp7485
g2
(lp7486
VThe hideous:
p7487
aVSeriously, if you want to code in Pascal, buy a Pascal compiler, don't destroy the beautiful C language
p7488
as(dp7489
g16
V14860
p7490
stp7491
a((dp7492
g2
(lp7493
VIt's quite easy for a disk to have a large number of inodes used even if the disk is not very full
p7494
aVAn inode is allocated to a file so, if you have gazillions of files, all 1 byte each, you'll run out of inodes long before you run out of disk
p7495
aVIt's also possible that deleting files will not reduce the inode count if the files have multiple hard links
p7496
aVAs I said, inodes belong to the file, not the directory entry
p7497
aVIf a file has two directory entries linked to it, deleting one will not free the inode
p7498
aVAdditionally, you can delete a directory entry but, if a running process still has the file open, the inode won't be freed
p7499
aVMy initial advice would be to delete all the files you can, then reboot the box to ensure no processes are left holding the files open
p7500
aVIf you do that and you still have a problem, let us know
p7501
aVBy the way, if you're looking for the directories that contain lots of files, this script may help:
p7502
as(dp7503
g16
V14860
p7504
stp7505
a((dp7506
g2
(lp7507
VThis page seems to indicate that C# doesn't support C++ name mangling and you either need to declare the C++ functions with
p7508
aV(may not an option if they're from a third party), or call the mangled name directly if you can get it to work
p7509
aVIt may be easier to get the third party to provide a non-mangled interface to the functionality
p7510
as(dp7511
g16
V14860
p7512
stp7513
a((dp7514
g2
(lp7515
VI would drop the seconds totally and just print the rest of the time then you only have to parse it once a minute
p7516
aVThat's if you want a clock rather than a stopwatch
p7517
aVSeriously, I can't remember the last time I looked at a clock without seconds and thought "Gosh, I don't know if it's 12:51:00 or 12:51:59
p7518
aVHow will I make my next appointment
p7519
aVIf you want to ensure you're relatively accurate in updating the minute, follow these steps:
p7520
aVGet the full time (HHMMSS)
p7521
aVDisplay down to minute resolution (HH:MM)
p7522
aVSubtract SS from 61 and sleep for that many seconds
p7523
aVGo back to that first step
p7524
as(dp7525
g16
V14860
p7526
stp7527
a((dp7528
g2
(lp7529
VMost C compilers provide the  option for this, such as:
p7530
as(dp7531
g16
V14860
p7532
stp7533
a((dp7534
g2
(lp7535
VAfter doing some testing, it appears that  will prefix the current directory to every element that does not start with
p7536
aVI gather that it assumes this is the case since that would be the file you'd open if you just used "file" - similarly "x\u005cy" would be the file "\u005cx\u005cy"
p7537
aVFor example, the following script:
p7538
aVwhen run on the following file:
p7539
aVwill produce (I'm in the \u005cDocuments and Settings\u005cAdministrator directory):
p7540
aVSo the answer is simple
p7541
aVDetect first those lines that don't begin with  and treat them specially
p7542
aVThe following script:
p7543
aVgenerates your desired output, as follows:
p7544
aVThe setlocal/endlocal is something I put in most of my scripts nowadays since it prevents environment variables from leaking up one level and delayed expansion is brilliant (using  instead of )
p7545
aVI use a ch0 temporary variable to get the first character of the file ( is a substring operator, "get one character at offset 0 of ch0 variable", and you can use the  version as well if you're not doing delayed expansion)
p7546
aVThen I compare it to
p7547
aVIf it is a slash, I echo the , otherwise I just output a blank line as per your spec
p7548
as(dp7549
g16
V14860
p7550
stp7551
a((dp7552
g2
(lp7553
VIf you're looking to do something with a list of files, you can use find combined with the bash  construct (better than backticks since it's allowed to nest)
p7554
aVfor example, say you're at the top level of your project directory and you want a list of all C files starting with "btree"
p7555
aVThe command:
p7556
aVwill return a list of them
p7557
aVBut this doesn't really help with doing something with them
p7558
aVSo, let's further assume you want to search all those file for the string "ERROR" or edit them all
p7559
aVYou can execute one of:
p7560
aVto do this
p7561
as(dp7562
g16
V14860
p7563
stp7564
a((dp7565
g2
(lp7566
VBased on this link here, it's possible that there's some optimization going on under the covers for common NSNumbers (which may not happen in all implementations hence a possible reason why @dizy's retainCount is 1)
p7567
aVBasically, because NSNumbers are non-mutable, the underlying code is free to give you a second copy of the same number which would explain why the retain count is two
p7568
aVWhat is the address of n and n1
p7569
aVI suspect they're the same
p7570
aVBased on your update, that link I gave you is almost certainly the issue
p7571
aVSomeone ran a test and found out that the NSNumbers from 0 to 12 will give you duplicates of those already created (they may in fact be created by the framework even before a user requests them)
p7572
aVOthers above 12 seemed to give a retain count of 1
p7573
aVQuoting:
p7574
aVFrom the little bit of examination I've been able to do, it looks as if you will get "shared" versions of integer NSNumbers for values in the range [0-12]
p7575
aVAnything larger than 12 gets you a unique instance even if the values are equal
p7576
aVWhy twelve
p7577
aVNo clue
p7578
aVI don't even know if that's a hard number or circumstantial
p7579
aVTry it with 11, 12 and 13 - I think you'll find 13 is the first to give you a non-shared NSNumber
p7580
as(dp7581
g16
V14860
p7582
stp7583
a((dp7584
g2
(lp7585
VIt's critical for a reason so you probably shouldn't be killing it at all
p7586
aVThe best way is to shut down the box lest you leave it in a dangerous state
p7587
aVIf you choose to ignore my warning, here is some sample C++ code to do it
p7588
as(dp7589
g16
V14860
p7590
stp7591
a((dp7592
g2
(lp7593
s(dp7594
g16
V14860
p7595
stp7596
a((dp7597
g2
(lp7598
VAt the end of your script, put the line:
p7599
aVThis will append every directory in your ~/code tree to the current path
p7600
aVI don't like the idea myself, preferring to have only a couple of directories holding my own executables and explicitly listing them, but to each their own
p7601
aVIf you want to exclude all directories which are hidden, you basically need to strip out every line that has the sequence  (to ensure that you don't check subdirectories under hidden directories as well):
p7602
aVThis will stop you from getting directories such as  (i
p7603
ag75
aV, it stops searching within sub-trees as soon as it detects they're hidden)
p7604
aVIf you only want to keep the hidden directories out, but still allow non-hidden directories under them, use:
p7605
aVThis would allow  but disallow  since  only checks the base name of the file, not the full path name
p7606
as(dp7607
g16
V14860
p7608
stp7609
a((dp7610
g2
(lp7611
VI tend to prefer vi editing mode (since those keystrokes are embedded into my spinal cord now (the brain's not used at all), along with the CTRL-K, CTRL-X from WordStar 3
p7612
aV3 :-)
p7613
aVYou can use the command line  to activate it (and  to revert)
p7614
aVIn Vi, it would be (ESC-K to get the line up first of course) "" (without the double quotes)
p7615
aVOf course, you have to understand what's on the line to get away with this
p7616
aVBasically, it's
p7617
aVLet's see if the emacs aficionados can come up with a better solution, less than 5 keystrokes (although I don't want to start a religious war)
p7618
aVHave you thought about whether you'd maybe like to put this horrendously long command into a script
p7619
aV:-)
p7620
aVActually, I can go one better than that: "" to find the third occurrence of "5" then back up to the start of the word
p7621
as(dp7622
g16
V14860
p7623
stp7624
a((dp7625
g2
(lp7626
VThere's almost certainly nothing faster than the machine code NEG instruction that your compiler will most likely turn this into
p7627
aVIf there was, I'm sure the compiler would use it
p7628
aVFor a twos-complement number, you could NOT it and add 1 but that's almost certainly going to be slower
p7629
aVBut I'm not entirely certain that the C/C++ standards mandate the use of twos-complement (they may, I haven't checked)
p7630
aVI think this question belongs with those that attempt to rewrite  et al to get more speed
p7631
aVThose people naively assume that the C library  isn't already heavily optimized by using special machine code instructions (rather than a simplistic loop that would be most people's first attempt)
p7632
aVHave you run performance tests which seem to indicate that your negations are taking an overly long time
p7633
aVA NEG on a 486 (state of the art the last time I had to worry
p7634
aVabout clock cycles) takes 3 clock cycles (memory version,
p7635
aVregister only takes 1) - I'm assuming the later chips will be
p7636
aVsimilar
p7637
aVOn a 3Ghz CPU, that means you can do 1 billion of
p7638
aVthese every second
p7639
aVIs that not fast enough
p7640
as(dp7641
g16
V14860
p7642
stp7643
a((dp7644
g2
(lp7645
VI suspect it's simply because there's no real structure to it
p7646
aVBy that, I mean that you're not guaranteed to get the best-fit block or the next block in memory, rather you'll take what you're given depending on the whims of the allocation strategy
p7647
aVLike most names, it was probably thought of by some coder (in this case, I'd guess Dennis Ritchie, Ken Thompson or Brian Kernighan, so not really just some coder) who just needed a name
p7648
aVI've often heard of it referred to as an arena sometimes (an error message from many moons ago saying that the "memory arena was corrupted")
p7649
aVThis brings up images of chunks of memory doing battle in gladiatorial style inside your address space (a la Tron)
p7650
aVBottom line, it's just a name for an area of memory, you could just as well call it the brk-pool or sbrk-pool (after the calls to modify it) or any of a dozen other names
p7651
aVI remember when we were putting together comms protocol stacks even before the OSI 7-layer model was a twinkle in someone's eye, we used a layered approach and had to come up with names at each layer for the blocks
p7652
aVWe used blocks, segments, chunks, sections and various other names, all which simply indicated a fixed length thing
p7653
aVIt may be that heap had a similar origin:
p7654
as(dp7655
g16
V14860
p7656
stp7657
a((dp7658
g2
(lp7659
VTry this, since not everything can be solved by REs and even some things that can, shouldn't be :-)
p7660
as(dp7661
g16
V14860
p7662
stp7663
a((dp7664
g2
(lp7665
VThe only piece of code I've found which may indicate your problem sets the scan code in the  structure as well
p7666
aVTry changing your modifier sections to be:
p7667
aVand see if that helps
p7668
aVIf that still doesn't work, try setting the  to  instead of  (only for the modifier keys)
p7669
aVAlso do it for the key-up events as well and I'm assuming that you're setting  to , yes
p7670
aVYour code doesn't indicate this
p7671
aVFor reference, it was found on this page
p7672
as(dp7673
g16
V14860
p7674
stp7675
a((dp7676
g2
(lp7677
VIf by "global in a unique file", you mean  outside of any function, the it's not the compilers job to detect that, the variable needs to be available to the linker in case another compilation unit needs it (such as errno)
p7678
aVIf you meant  where it's not made available to the linker, this is probably just a choice made by GCC
p7679
aVI don't believe compilers are required to notify of this and it does no real damage other than wasting a few bytes in your address space
p7680
as(dp7681
g16
V14860
p7682
stp7683
a((dp7684
g2
(lp7685
VStack growth doesn't usually depend on the operating system itself, but on the processor it's running on
p7686
aVSolaris, for example, runs on x86 and SPARC
p7687
aVMac OSX (as you mentioned) runs on PPC and x86
p7688
aVLinux runs on everything from my big honkin' System z at work to a puny little wristwatch
p7689
aVThe processors and their direction are:
p7690
aVShowing my age on those last few, the 1802 was the chip used to control the early shuttles (sensing if the doors were open, I suspect, based on the processing power it had :-) and my second computer, the COMX-35 (following my ZX80)
p7691
aVAs an aside:
p7692
aVPDP11 details gleaned from here
p7693
aVThe SPARC architecture, by the way, is one example of a strange stack architecture - it's a circular buffer with a sliding window, giving a limited depth stack
p7694
aVSee here for details
p7695
aVThe afore-mentioned SCRT technique is another - the 1802 used some or it's sixteen 16-bit registers for SCRT (standard call and return technique)
p7696
aVOne was the program counter, you could use any register as the PC with the  instruction
p7697
aVOne was the stack pointer and two were set always to point to the SCRT code address, one for call, one for return
p7698
aVNo register was treated in a special way
p7699
aVKeep in mind these details are from memory, they may not be totally correct
p7700
aVFor example, if R3 was the PC, R4 was the SCRT call address, R5 was the SCRT return address and R2 was the "stack" (quotes as it's implemented in software),  would set R4 to be the PC and start running the SCRT call code
p7701
aVIt would then store R3 on the R2 "stack" (I think R6 was used for temp storage), adjusting it up or down, grab the two bytes following R3, load them into R3, then do  and be running at the new address
p7702
aVTo return, it would  which would pull the old address off the R2 stack, add two to it (to skip the address bytes of the call), load it into R3 and  to start running the previous code
p7703
aVVery hard to wrap your head around initially after all the 6502/6809/z80 stack-based code but still elegant in a bang-your-head-against-the-wall sort of way
p7704
aVAlso one of the big selling features of the chip was 16 16-bit registers, and you immediately lost 7 of those (5 for SCRT, two for DMA and interrupts from memory)
p7705
aVAhh, the triumph of marketing over reality
p7706
aVSystem z is actually quite similar, using its R14 and R15 registers for call/return
p7707
as(dp7708
g16
V14860
p7709
stp7710
a((dp7711
g2
(lp7712
VFor a start, that's an absolute-value operator, not modulus
p7713
aVSecondly, IF is blindingly fast since it normally translates to a conditional jump instruction at the machine code level (following the evaluation of the expression, which may be complex, but not in this case since it's a simple check for less than 0)
p7714
aVTaking the square root of a number is likely to be much slower (Newton's method would use many, many, IFs at the machine level)
p7715
as(dp7716
g16
V14860
p7717
stp7718
a((dp7719
g2
(lp7720
VI don't know what your specific problem is but first port of call for all IBM product problems is the  documentation site (iSeries stuff here) or the "Navigator for i" support site here
p7721
aVThe first thing I would do is to contact your iSeries support people and find out if there's a problem on their boxes with MQ
p7722
aVIf they say no, then you need to figure out where iSeries Navigator is storing its logs on your local machine (since it's more likely to be a problem there)
p7723
aVThe iSeries boxes are like nothing you've ever seen before (even the guys that work with System z think they're a bit strange :-)
p7724
aVBetter to get help from someone that knows about them
p7725
as(dp7726
g16
V14860
p7727
stp7728
a((dp7729
g2
(lp7730
VBy clever use of another tool freely available on Windows (VBScript), the following two scripts do the job you want
p7731
aVFirst, :
p7732
aVThen, :
p7733
aVExplanation follows:
p7734
aVsimply uses the password object to input the password from the user and then print it to standard output (the next paragraph will explain why that doesn't show up in the terminal)
p7735
aVis a bit trickier (but command scripts usually are)
p7736
aVThe  is somewhat sneaky - the effect of the command is to output the prompt with no trailing newline character - it's a sneaky way to emulate the   command from the  shell
p7737
aVIt sets  to an empty string as an irrelevant side effect and doesn't wait for input since it's taking its input from the  device
p7738
aVI've used this trick for things like this as well as providing progress bars in a command window (no fancy GUI installs for my software, no sir :-)
p7739
aVThe  statement is the trickiest bit
p7740
aVIt runs the VBScript with no Microsoft "advertising" , so that the only line output is the password (from the VBscript
p7741
aVSetting the delimiters to nothing is required to capture input lines with spaces, otherwise you just get the first word
p7742
aVThe  sets  to be the actual password output from the VBScript
p7743
aVThen we echo a blank line (to terminate the  line) and echo the password so you can verify it works (try to imagine I've typed in  (without the quotes) on the  line, it's not echoed):
p7744
aVUnfortunately,  is available with XP and 2003 but not later versions (Vista, Windows 2008 and Windows 7, I believe)
p7745
aVIn order to rectify this, you simply copy the  file from the  folder of an XP or Windows 2003 system to the  or  folder on your own system
p7746
aVOnce the DLL has been copied, you will need to register it by running:
p7747
aVTo successfully register the DLL on Vista and later, you will need administrator privileges
p7748
as(dp7749
g16
V14860
p7750
stp7751
a((dp7752
g2
(lp7753
VJava may be suited for an interface to it but speech recognition requires seriously raw grunt
p7754
aVI'd be choosing a compiled close-to-the-metal language like C for the actual recognition engine
p7755
aVThis is not something to be undertaken lightly, by the way
p7756
aVThere's an awful lot of theory you'll need to learn even before you begin
p7757
aVMyself, I would license one of the existing engines if possible, and concentrate on building a decent product around it
p7758
aVThat's if your intent is to build a product
p7759
aVIf you just want to experiment, by all means write your own
p7760
aVIt'll be fun (up to a point :-)
p7761
as(dp7762
g16
V14860
p7763
stp7764
a((dp7765
g2
(lp7766
VThere are no punch cards in modern mainframes, they're just having you on
p7767
aVYou will have a hard time since there are still many things done the "old" way
p7768
aVData sets are still allocated with properties such as fixed-block-80, variable-block-255 and so on
p7769
aVPlan your file contents
p7770
aVNo directories
p7771
aVThere are levels of hierarchy and they're limited to 8 characters each
p7772
aVThe user interface is ISPF, a green-screen text-mode user interface from the seventh circle of hell for those who aren't used to it
p7773
aVMost jobs will still be submitted as batch jobs and you will have to monitor their progress with SDSF (sort of task manager)
p7774
aVThat's some of the bad news, here's the good news:
p7775
aVIt has a USS subsystem (UNIX) so you can use those tools
p7776
aVIt's remarkably well integrated with z/OS
p7777
aVIt runs Java, it runs Websphere, it runs DB2 (proper DB2, not that little Linux/UNIX/Windows one), it runs MQ, etc, etc
p7778
aVMany shops will also run z/VM, a hypervisor, under which they will run many LPARs (logical partitions), including z/OS itself (multiple copies, sometimes) and zLinux (SLES/RHEL)
p7779
aVThe mainframe is in no danger of disappearing anytime soon
p7780
aVThere is still a large amount of work being done at the various IBM labs around the world and the 64-bit OS (z/OS, was MVS, was OS/390,
p7781
aVhas come a long way
p7782
aVIn fact, there's a bit of a career opportunity as all the oldies that know about it are at or above 55 years of age, so expect a huge suction up the corporate ladder if you position yourself correctly
p7783
aVIt's still used in the big corporations as it's the only thing that can be trusted with their transactions - the z in System z means zero downtime and that's not just marketing hype
p7784
aVThe power of the mainframe lies not in it's CPU grunt (the individual processors aren't that powerful but they come in books of 54 CPUs with hot backups, and you can run many books in a single System z box) but in the fact that all the CPU does is process instructions
p7785
aVEverything else is offloaded to specialist processors, zIIPs for DB2, zAAPs for Java workloads, other devices for I/O (and I/O is where the mainframe kills every other system, using fibre optics and very large disk arrays)
p7786
aVI wouldn't use it for protein folding or genome sequencing but it's ideal for where it's targeted, massively insane levels of transaction processing
p7787
aVAs I stated, z/OS has a UNIX subsystem and z/VM can run multiple copies of z/OS and other operating systems - I've seen a single z800 box running tens of thousands of instances of RHEL concurrently
p7788
aVThis puts all the PC manufacturers 'green' claims to shame and communications between the instances is blindingly fast with HyperSockets (TCP/IP but using shared memory rather than across slow network cables (yes, even Gigabit Ethernet crawls compared to HyperSockets (and sorry for the nested parentheses :-)))
p7789
aVIt runs Websphere Application Server and Java quite well in the Unix space while still allowing all the legacy (heritage
p7790
aVstuff to run as well
p7791
aVIn fact, mainframe shops need not buy PC-based servers at all, they just plonk down a few zLinux VMs and run everything on the one box
p7792
aVAnd recently, there's talk about that IBM may be providing xSeries (i
p7793
ag75
aV, PCs)  plugin devices for their mainframes as well
p7794
aVWhile most mainframe people would consider that a wart on the side of their beautiful box, it does open up a lot of possibilities for third-party vendors
p7795
aVI'm not sure they'll ever be able to run 50,000 Windows instances but that's the sort of thing they seem to be aiming for (one ring to rule them all
p7796
aVIf you're interested, there's a System z emulator called Hercules which I've seen running at 23 MIPS on a Windows box and it runs the last legally-usable MVS 3
p7797
aV8j fast enough to get a feel
p7798
aVJust keep in mind that MVS 3
p7799
aV8j is to z/OS 1
p7800
aV10 as CP/M is to Windows XP
p7801
aVTo provide a shameless plug for a book one of my friends at work has written, check out What On Earth is a Mainframe
p7802
aVby David Stephens (ISBN-13 = 978-1409225355)
p7803
aVI found this invaluable since I came from a PC/UNIX background, and it is quite a paradigm shift
p7804
aVI think this book would be ideal for your particular question
p7805
aVI think chunks of it are available on Google Books so you can try before you buy
p7806
aVRegarding JCL, there is a school of thought that only one JCL file has ever been written and all the others were cut'n'paste jobs on that
p7807
aVHaving seen the contents of them, I can understand this
p7808
aVPrograms like IEBGENER and IEFBR14 make Unix look, if not verbose, at least understandable
p7809
as(dp7810
g16
V14860
p7811
stp7812
a((dp7813
g2
(lp7814
V1/ Extract ALL of the object files from each library (using ) and try to compile your code without the libraries or any of the object files
p7815
aVYou'll probably get an absolute bucket-load of undefined symbols
p7816
aVIf you get no undefined symbols, go to step 5
p7817
aV2/ Grab the first one and find out which object file satisfies that symbol (using )
p7818
aV3/ Write down that object file then compile your code, including the new object file
p7819
aVYou'll get a new list of undefined symbols or, if there's none, go to step 5
p7820
aV4/ Go to step 2
p7821
aV5/ Combine all the object files in your list (if any) into a single library (again with )
p7822
aVBang
p7823
aVThere you have it
p7824
aVTry to link your code without any of the objects but with the new library
p7825
aVThis whole thing could be relatively easily automated with a shell script
p7826
as(dp7827
g16
V14860
p7828
stp7829
a((dp7830
g2
(lp7831
VYou actually have three problems in the script
p7832
aVThe first is that %%i is likely to be set to the words with a filename- this can be fixed by using  in the  statement
p7833
aVThe second is that you need to quote spacey filenames in you  statement
p7834
aVThe third is that I'm not aware of a  option for , perhaps you mean
p7835
aVAmyway, give this one a shot:
p7836
as(dp7837
g16
V14860
p7838
stp7839
a((dp7840
g2
(lp7841
VThere are many things going on in your system other than running your Ruby code
p7842
aVElapsed time is the total real time taken and should not be used for benchmarking
p7843
aVYou want the system and user CPU times since those are the times that your process actually had the CPU
p7844
aVAn example, if your process:
p7845
aVused the CPU for one second running your code; then
p7846
aVused the CPU for one second running OS kernel code; then
p7847
aVwas swapped out for seven seconds while another process ran; then
p7848
aVused the CPU for one more second running your code,
p7849
aVyou would have seen:
p7850
aVten seconds elapsed time,
p7851
aVtwo seconds user time,
p7852
aVone second system time,
p7853
aVthree seconds total CPU time
p7854
aVThe three seconds is what you need to worry about, since the ten depends entirely upon the vagaries of the process scheduling
p7855
as(dp7856
g16
V14860
p7857
stp7858
a((dp7859
g2
(lp7860
VThe warning  happens when you try to do a  on an variable that isn't an array
p7861
aVYou need to check that the return value from  actually is an array
p7862
aVWe can't tell this from your context since you've provided neither the constructor source nor the code that actually creates
p7863
aVIf that were forthcoming, it might be easier to help you out
p7864
aVOne thing you could try is printing out the return value before executing the , with
p7865
aVThis should be clear indication as to whether it's an array or not
p7866
aVI'd also suggest checking to see if the array is empty, using  or  - some sites on the net state that empty arrays will also cause this warning but I don't have a PHP environment at home to test that
p7867
as(dp7868
g16
V14860
p7869
stp7870
a((dp7871
g2
(lp7872
VI'm not aware of Windows FTP client having a similar functionality to the UNIX
p7873
aVnetrc file (although I've been wrong before, just ask the wife :-)
p7874
aVI've always had my scripts store the user name and password in a secure file and constructed an equally secure command script on the fly, using the  and  option of , such as:
p7875
aVand the go
p7876
aVftpcmds contains (with suitable values of  and ):
p7877
aVThis allows me to automate all sorts of FTP tasks
p7878
aVIf you want to automate logging in for an interactive task, just leave off the  at the end - it will leave you logged in
p7879
aVI'm not sure I understand your comment on using FTP to log in and monitor log files - surely you'd be logging in with telnet and its brethren rather than using FTP for that purpose
p7880
as(dp7881
g16
V14860
p7882
stp7883
a((dp7884
g2
(lp7885
VIf Python is installed in , why are you searching for the libraries in
p7886
aVAnd now that you've changed the question to fix this :-),
p7887
aVI don't think  is available any more, you have to use  (this may have changed since the early betas of Py3k which is the last time I looked)
p7888
aVBased on your comments, David, I'd suggest you need to avoid the HowTo sites outside of the official Python docs (I suspect they're well out of date)
p7889
aVThere was a lot of work happening on the extension interface at the 3
p7890
aV0 level and the best place to look is either
p7891
aVat the 3
p7892
aV0 docs or 3
p7893
aV1 alpha docs
p7894
aVThe specific Windows build instructions are here
p7895
as(dp7896
g16
V14860
p7897
stp7898
a((dp7899
g2
(lp7900
VIn SQL, NULL = NULL is false, you usually have to use IS NULL:
p7901
aVBut, if you want the number of rows, you should just use  since your solution will give 10 if your rows are (0,1,3,5,9) where it should give 5
p7902
aVIf you can guarantee you will always ids from 0 to N, max(id)+1 may be faster depending on the index implementation (it may be faster to traverse the right side of a balanced tree rather than traversing the whole tree, counting
p7903
aVBut that's very implementation-specific and I would advise against relying on it, not least because it locks your performance to a specific DBMS
p7904
as(dp7905
g16
V14860
p7906
stp7907
a((dp7908
g2
(lp7909
VNo point in re-sorting after every read since you really only need to insert a new entry
p7910
aVUse the following algorithm, it's likely to get you the best speed
p7911
aVIt's basically an unrolled loop, not the most beautiful code
p7912
aVAt the end, you have your sorted list of movies
p7913
aVIf there's less than 5, those others will have a rating of -1 so you'll know they're invalid
p7914
aVThis is assuming that the rating on a real movie is zero or greater but you can adjust the values if they're not
p7915
aVIf you need to adjust it for more than 5 movies, you can
p7916
aVThe best bet would be to roll up the loop again
p7917
aVAt some point, however, it's going to become more efficient to sort it than use this method
p7918
aVThis method's only really good for a small data set
p7919
as(dp7920
g16
V14860
p7921
stp7922
a((dp7923
g2
(lp7924
VAn interface definition language (IDL) is used to set up communications between clients and servers in remote procedure calls (RPC)
p7925
aVThere have been many variations of this such as Sun RPC, ONC RPC, DCE RPC and so on
p7926
aVBasically, you use an IDL to specify the interface between client and server so that the RPC mechanism can create the code stubs required to call functions across the network
p7927
aVRPC needs to create stub functions for the client and a server, using the IDL information
p7928
aVIt's very similar to a function prototype in C but the end result is slightly different, such as:
p7929
aVIn this example, instead of calling  in the same program,  calls a client stub function (with the same prototype as ) which is responsible for packaging up the information and getting it across the wire to another process
p7930
aVThis can be the same machine or a different machine, it doesn't really matter - one of the advantages of RPC is to be able to move servers around at will
p7931
aVIn the server, there's a 'listener' process that will receive that information and pass it to the server
p7932
aVThe server's stub receives the information, unpacks it and passes it to the real function
p7933
aVThe real function then does what it needs to and returns to the server stub which can package up the return information (both return code and any  or  variables) and pass it back to the client stub
p7934
aVThe client stub then unpacks that and passes it back to
p7935
aVThe actual details may differ a little but that explanation should be good enough for a conceptual overview
p7936
aVThe actual IDL may look like:
p7937
aVAll that stuff at the top is basically networking information, the meat of it is inside the interface section where the prototypes are shown
p7938
aVThis allows the IDL compiler to build the x stub and x server functions for compiling and linking with your client and server code to get RPC working
p7939
aVMicrosoft does use IDL (I think they have a MIDL compiler) for COM stuff
p7940
aVI've also used third party products with MS operating systems, both DCE and ONC RPC
p7941
as(dp7942
g16
V14860
p7943
stp7944
a((dp7945
g2
(lp7946
VI don't actually know whether TextMate can take a file to edit as its standard input, that seems a little bizarre
p7947
aVI suspect you would want to send the stdout/stderr to a file and edit it there, in which case you need:
p7948
aVThe  redirects  (file handle 2) to go to the same place as  (file handle 1) so that both of them end up in a single stream
p7949
aVThe  command then writes that to  as well as
p7950
aVThen, once the process has finished, the editor is called up on the temporary file
p7951
aVIf it can accept standard input for editing, use:
p7952
as(dp7953
g16
V14860
p7954
stp7955
a((dp7956
g2
(lp7957
VIf you are truly trying to test the operation of a piece of code ( in this case), you're actually better off doing the following:
p7958
aV1/ Do it in two separate executables since there is a possibility that position within the executable may affect the code
p7959
aV2/ Make sure you use CPU time rather than elapsed time (I'm not sure what  gives you)
p7960
aVThis is to avoid errant results from a CPU loaded up with other tasks
p7961
aV3/ Turn off compiler optimization (e
p7962
ag1775
aV, ) to ensure  doesn't put in any fancy stuff that's likely to skew the results
p7963
aV4/ You don't need to worry about  if you use the actual result, such as placing:
p7964
aVafter the loop, or:
p7965
aVif you don't want any output at all
p7966
aVI can't remember whether volatile was a suggestion to the compiler or enforced
p7967
aV5/ Iterations of 5,000 seem a little on the low side, where "noise" could affect the readings
p7968
aVMaybe a higher value would be better
p7969
aVThis may not be an issue if you're timing a larger piece of code and you've just included  as a place-holder
p7970
as(dp7971
g16
V14860
p7972
stp7973
a((dp7974
g2
(lp7975
VI would just use the MAC address to generate a request key, then require users to register with your client
p7976
aVYour client will have a special application that takes that request key and produces an activation key which the user can then use for activating the software
p7977
aVOnce activated, the software works, just works - no occasionally phoning home for verification and such
p7978
aVThat's if it were a real requirement
p7979
aVMy first task would be to try and convince the client that this was a bad idea
p7980
aVThe reason is that these schemes practically never prevent your code from being cracked
p7981
aVThey do however make the lives of your genuine customers harder
p7982
aVI find it hard to think of any other industry that goes out of its way to annoy its genuine customers with schemes that never achieve their goals (other than government service, of course :-)
p7983
aVIf you must do this, I'd just do a token effort to meet the contractual obligation (don't tell your client this however)
p7984
aVTaking the MAC address (or a random number if,  forbid, the computer didn't have a network card) as the request key and using a program to just  it with an ASCII string to get the activation key, seems like a workable approach
p7985
aVI would also store both keys since you don't want the software to de-activate if they just change their network card (or even motherboard) - they still see that as the same computer and will not be happy if the software stops working
p7986
aVYour code's going to be cracked regardless (unless the program is rubbish which I'm sure is not the case) - this method will give your genuine customers an avenue for moving their software to another machine if your client's company becomes unresponsive somehow (drops support, goes out of business, and so on)
p7987
aVThe main trouble with all schemes that rely on the uniqueness of a bit of hardware is that the customer may choose to change that bit of hardware:
p7988
aVghosting their disk contents to a larger hard disk makes HD serial numbers change
p7989
aVusing CPU serial numbers means upgrading to the latest Intel bigmutha CPU kill your software
p7990
aVusing the MAC address means they can't change their NIC
p7991
aVThese can all be fixed by using those values to create a key at install time and only check against that key, not the changed value six months down the track
p7992
aVIt means you have to store the request and activation values but upgrades will not require your users to go through the process of re-activating their software
p7993
aVBelieve me, they will despise you for having to do that
p7994
as(dp7995
g16
V14860
p7996
stp7997
a((dp7998
g2
(lp7999
VOnly the designers of the language can tell you why they didn't allow for non-integral enumerations but I can tell you the most likely explanation
p8000
aVThe original C didn't do it because it was unnecessary for its purposes (a systems programming language)
p8001
aVC++ didn't do it since it was based on C and you could emulate it with classes anyway
p8002
aVC# probably doesn't do it for the same reasons
p8003
aVThis is just guesswork on my part since I wasn't involved in the design of any of those languages
p8004
aVOnce you've decided to go the way of classes (DateTime), there's little reason to not go all the way
p8005
aVIf you want to use enum's, you can create the enums as sequential integers starting with zero and have an array of DateTime values using those enums as indexes
p8006
aVBut I'd just have a Holiday class which provided the whole kit and kaboodle within the class: the constants, the get() routine to return a DateTime based on those constants and so on
p8007
aVThat gives you true encapsulation and the ability to chage the implementation totally without affecting the interface
p8008
aVWhy toss away one of the benefits of OOP
p8009
as(dp8010
g16
V14860
p8011
stp8012
a((dp8013
g2
(lp8014
VIn order to get the best performance, you need to distinguish between trusted and untrusted input to your functions
p8015
aVFor example, a function like  which accepts input from the user should be checked for valid characters and compressed to remove leading zeroes
p8016
aVFirst, we'll show a general purpose in-place compression function:
p8017
aVThen provide a checker function that returns either the passed in value, or NULL if it was invalid:
p8018
aVThen the input function itself:
p8019
aVOther functions to add or multiply should be written to assume the input is already valid since it will have been created by one of the functions in this library
p8020
aVI won't provide the code for them since it's not relevant to the question:
p8021
aVIf the user chooses to source their data from somewhere other than , you could allow them to call  to validate it
p8022
aVIf you were really paranoid, you could check every number passed in to your routines and act accordingly (return NULL), but that would require relatively expensive checks that aren't necessary
p8023
as(dp8024
g16
V14860
p8025
stp8026
a((dp8027
g2
(lp8028
VThe underscore is put there by the compiler and used by the linker
p8029
aVThe basic path is:
p8030
aVSo, your main program should include the header file for the test module which should consist only of declarations, such as the function prototype:
p8031
aVThis lets the compiler know that it exists when main
p8032
aVc is being compiled but the actual code is in test
p8033
aVc, then test
p8034
aVo
p8035
aVIt's the linking phase that joins together the two modules
p8036
aVBy including test
p8037
aVc into main
p8038
aVc, you're defining the test() function in main
p8039
ag8035
aVPresumably, you're then linking main
p8040
aVo and test
p8041
aVo, both of which contain the function test()
p8042
as(dp8043
g16
V14860
p8044
stp8045
a((dp8046
g2
(lp8047
VOn an RPC server machine, there is a process running called the endpoint mapper (this applies specifically to ONC RPC but other RPC mechanisms will be similar)
p8048
aVThis process runs on a known port
p8049
aVA server will start up and register itself with the enpoint mapper, giving its code (e
p8050
ag1775
aV, MULT and port number) and the endpoint mapper will dutifully store that information
p8051
aVWhen a client connects to the endpoint mapper using the IP address, it gives the desired code (MULT) and the endpoint mapper then provides the final destination - now the client knows the IP address and port for the MULT service
p8052
aVAt that point, the enpoint mapper can step out of the way and let the client open up a session directly with the MULT service
p8053
as(dp8054
g16
V14860
p8055
stp8056
a((dp8057
g2
(lp8058
VYou've heard wrong
p8059
aVIt may well be that  is thread-safe for a specific compiler and specific processor architecture but it's not mandated in the standards at all
p8060
aVIn fact, since multi-threading isn't part of the ISO C or C++ standards (a), you can't consider anything to be thread-safe based on what you think it will compile down to
p8061
aVIt's quite feasible that  could compile to an arbitrary sequence such as:
p8062
aVwhich would not be thread-safe on my (imaginary) CPU that has no memory-increment instructions
p8063
aVOr it may be smart and compile it into:
p8064
aVwhere  disables and  enables interrupts
p8065
aVBut, even then, this may not be thread-safe in an architecture that has more than one of these CPUs sharing memory (the  may only disable interrupts for one CPU)
p8066
aVThe language itself (or libraries for it, if it's not built into the language) will provide thread-safe constructs and you should use those rather than depend on your understanding (or possibly misunderstanding) of what machine code will be generated
p8067
aVThings like Java  and  (available to C/C++ under some operating systems) are what you need to look into (a)
p8068
aV(a) This question was asked before the C++11 standard was completed
p8069
aVThat iteration of the standard has now introduced threading support into the language specification, including mutual exclusion semaphores similar to POSIX threads and atomic operations
p8070
as(dp8071
g16
V14860
p8072
stp8073
a((dp8074
g2
(lp8075
VThere's nothing wrong with your code, the following works fine for me when I have the file
p8076
aVtxt in the user
p8077
aVdir directory
p8078
aVDon't trust Eclipse with where it says the file is
p8079
aVGo out to the actual filesystem with Windows Explorer or equivalent and check
p8080
aVBased on your edit, I think we need to see your import statements as well
p8081
as(dp8082
g16
V14860
p8083
stp8084
a((dp8085
g2
(lp8086
VThe most likely explanation is that you've run hello_file before it was protected and the function has already been created
p8087
aVThen you protected your script (you say 100 in the command but mention 000 in your text)
p8088
aVSo, then the script won't run
p8089
aVBut hello() is still defined from you previous run
p8090
aVTry to open a new shell or just execute
p8091
as(dp8092
g16
V14860
p8093
stp8094
a((dp8095
g2
(lp8096
VYou shouldn't do it this way, because it can lead to race conditions
p8097
aVThat's what happens if, between your check and your insert, somebody else inserts that username into the table
p8098
aVThe correct way to do it is to have a primary key on the username and insert the record, catching an exception or error code returned from the DBMS
p8099
aVIf the username is already in there, it won't be inserted again and you'll catch the error
p8100
aVIf it's not there, it will be inserted and you'll get no error
p8101
aVIn terms of your casing problem, I'd either convert all user names to lowercase before insertion or checking, or insert the mixed-case version and lower-case both the DB copy and local copy in all checks
p8102
as(dp8103
g16
V14860
p8104
stp8105
a((dp8106
g2
(lp8107
VYou've almost certainly missed the header which defines
p8108
aVIn that case, it would be passed through unaltered and VC++ would assume that  was a function that returned
p8109
aVAnd, since it thinks it's a function, it also thinks it needs parentheses
p8110
aVYou just need to find where  is defined and  that file
p8111
as(dp8112
g16
V14860
p8113
stp8114
a((dp8115
g2
(lp8116
VSince you say you can edit the script itself, simply put a:
p8117
aVin it, where the problem is occurring
p8118
aVThis will create a number of files in your  directory that show the entire process list at the time it happened
p8119
aVYou can then work out which process called which other process by examining this output
p8120
aVThis can either be done manually, or automated with something like , since the output is regular - you just use those  and  columns to work out the relationships between all the processes you're interested in
p8121
aVYou'll need to keep an eye on the files, since you'll get one per process so they may have to be managed
p8122
aVSince this is something that should only be done during debugging, most of the time that line will be commented out (preceded by ), so the files won't be created
p8123
aVTo clean them up, you can simply do:
p8124
as(dp8125
g16
V14860
p8126
stp8127
a((dp8128
g2
(lp8129
VIt because environment variables are substituted when the command is read
p8130
aVFor the following command:
p8131
aVthe entire command (from  to the closing parenthesis) is read and substituted before execution
p8132
aVYou need to use delayed expansion, such as with:
p8133
aVWhen you enable delayed expansion, the  markers still act as before but you can use the  markers to do the delayed expansion
p8134
as(dp8135
g16
V14860
p8136
stp8137
a((dp8138
g2
(lp8139
VIt sounds like your primary concern is: how does the compiler know how much to allocate in the array if the size changes at run-time
p8140
aVThe answer is that it allocates the maximum amount of space (90 entries)
p8141
aVNote that this is for space in working storage
p8142
aVWhen the record is written to a file, only the relevant portion is written
p8143
aVAn example:
p8144
aVThis will allocate 36 characters (9 multiplied by 4) for  in working storage
p8145
aVIf  is set to 2 when the record is written to a file, only 8 characters will be written (over and above the characters written for , of course)
p8146
aVSimilarly, when the record is read back in, both  and the relevant bits of  will be populated from the file
p8147
aVI don't believe that the unused  entries are initialized to anything when that occurs
p8148
aVIt's best to assume not anyway, and populate them explicitly if you need to add another item to the table
p8149
aVFor efficiency, you may want to consider setting the  to
p8150
as(dp8151
g16
V14860
p8152
stp8153
a((dp8154
g2
(lp8155
VThis is why I've never understood why Oracle is so popular
p8156
aVThey don't actually follow the SQL standard, based on a silly decision they made many years ago
p8157
aVThe Oracle 9i SQL Reference states (this has been there for at least three major versions):
p8158
aVOracle currently treats a character value with a length of zero as null
p8159
aVHowever, this may not continue to be true in future releases, and Oracle recommends that you do not treat empty strings the same as nulls
p8160
aVBut they don't say what you should do
p8161
aVThe only ways I've ever found to get around this problem are either:
p8162
aVhave a sentinel value that cannot occur in your real data to represent NULL (e
p8163
aVg, "deoxyribonucleic" for a surname field and hope that the movie stars don't start giving their kids weird surnames as well as weird first names :-)
p8164
aVhave a separate field to indicate whether the first field is valid or not, basically what a real database does with NULLs
p8165
as(dp8166
g16
V14860
p8167
stp8168
a((dp8169
g2
(lp8170
V (not necessarily four digits) represents, in C at least, a hexadecimal (base-16 because 'hex' is 6 and 'dec' is 10 in Latin-derived languages) number, where  is one of the digits  through  or  through  (or their lower case equivalents, either representing 10 through 15), and there may be 1 or more of those digits in the number
p8171
aVThe other way of representing it is NNNN16
p8172
aVIt's very useful in the computer world as a single hex digit represents four bits (binary digits)
p8173
aVThat's because four bits, each with two possible values, gives you a total of  or  (24) values
p8174
aVIn other words:
p8175
aVA base-X number is a number where each position represents a multiple of a power of X
p8176
aVIn base 10, which we humans are used to, the digits used are  through , and the number 730410 is:
p8177
aV(7 x 103) = 700010 ; plus
p8178
aV(3 x 102) = 30010 ; plus
p8179
aV(0 x 101) = 010 ; plus
p8180
aV(4 x 100) = 410 ; equals 7304
p8181
aVIn octal, where the digits are  through
p8182
aVthe number 7548 is:
p8183
aV(7 x 82) = 44810 ; plus
p8184
aV(5 x 81) = 4010 ; plus
p8185
aV(4 x 80) = 410 ; equals 49210
p8186
aVOctal numbers in C are preceded by the character  so  is not 123 but is instead (1 * 64) + (2 * 8) + 3, or 83
p8187
aVIn binary, where the digits are  and
p8188
aVthe number 10112 is:
p8189
aV(1 x 23) = 810 ; plus
p8190
aV(0 x 22) = 010 ; plus
p8191
aV(1 x 21) = 210 ; plus
p8192
aV(1 x 20) = 110 ; equals 1110
p8193
aVIn hexadecimal, where the digits are  through  and  through  (which represent the "digits"  through )
p8194
aVthe number 7F2416 is:
p8195
aV(7 x 163) = 2867210 ; plus
p8196
aV(F x 162) = 384010 ; plus
p8197
aV(2 x 161) = 3210 ; plus
p8198
aV(4 x 160) = 410 ; equals 3254810
p8199
aVYour relatively simple number , which is the way C represents 1016, is simply:
p8200
aV(1 x 161) = 1610 ; plus
p8201
aV(0 x 160) = 010 ; equals 1610
p8202
aVAs an aside, the different bases of numbers are used for many things
p8203
aVbase 10 is used, as previously mentioned, by we humans with 10 digits on our hands
p8204
aVbase 2 is used by computers due to the relative ease of representing the two binary states with electrical circuits
p8205
aVbase 8 is used almost exclusively in UNIX file permissions so that each octal digit represents a 3-tuple of binary permissions (read/write/execute)
p8206
aVIt's also used in C-based languages and UNIX utilities to inject binary characters into an otherwise printable-character-only data stream
p8207
aVbase 16 is a convenient way to represent four bits to a digit, especially as most architectures nowadays have a word size which is a multiple of four bits
p8208
aVbase 64 is used in encoding mail so that binary files may be sent using only printable characters
p8209
aVEach digit represents six binary digits so you can pack three eight-bit characters into four six-bit digits (25% increased file size but guaranteed to get through the mail gateways untouched)
p8210
aVas a semi-useful snippet, base 60 comes from some very old civilisation (Babylon, Sumeria, Mesopotamia or something like that) and is the source of 60 seconds/minutes in the minute/hour, 360 degrees in a circle, 60 minutes (of arc) in a degree and so on [not really related to the computer industry, but interesting nonetheless]
p8211
aVas an even less-useful snippet, the ultimate question and answer in The Hitchhikers Guide To The Galaxy was "What do you get when you multiply 6 by 9
p8212
aVand "42"
p8213
aVWhilst same say this is because the Earth computer was faulty, others see it as proof that the creator has 13 fingers :-)
p8214
as(dp8215
g16
V14860
p8216
stp8217
a((dp8218
g2
(lp8219
VThe Amazon Affiliates site itself states (or used to state) that the "reports are updated every 24 hours"
p8220
aVI say "used to state" because it's changed since I originally answered this question
p8221
aVHowever, if you navigate to the "Understanding reports" page at https://affiliate-program
p8222
aVamazon
p8223
aVcom/gp/associates/help/t9
p8224
aVie=UTF8&pf;_rd_t=501&ref;_=amb_link_10038041_1&pf;_rd_m=ATVPDKIKX0DER&pf;_rd_p=&pf;_rd_s=assoc-center-2&pf;_rd_r=&pf;_rd_i=assoc_help_main, you'll see:
p8225
aVWith our performance reports, updated daily, you can get data
p8226
as(dp8227
g16
V14860
p8228
stp8229
a((dp8230
g2
(lp8231
VThere's a good one here, although a tad pricey in my opinion for what it offers
p8232
as(dp8233
g16
V14860
p8234
stp8235
a((dp8236
g2
(lp8237
VNo, I believe the best way to do it with a single RE is exactly as you describe
p8238
aVUnfortunately, it'll get very messy when your XML can have 5 different attributes, giving you a large number of different REs to check
p8239
aVOn the other hand, I wouldn't be doing this with an RE at all since they're not meant to be programming languages
p8240
aVWhat's wrong with the old fashioned approach of using an XML processing library
p8241
aVIf you're required to use an RE, this answer probably won't help much, but I believe in using the right tools for the job
p8242
as(dp8243
g16
V14860
p8244
stp8245
a((dp8246
g2
(lp8247
VThe approaches I've always used, though not as elegant as yours:
p8248
aV1/ Just use hex
p8249
aVAfter a while, you just get to know which hex digits represent which bit patterns
p8250
aV2/ Use constants and OR or ADD them
p8251
aVFor example (may need qualifiers on the bit patterns to make them unsigned or long):
p8252
aV3/ If performance isn't critical and readability is important, you can just do it at runtime with a function such as "x = fromBin("101011011");"
p8253
aV4/ As a sneaky solution, you could write a pre-pre-processor that goes through your *
p8254
aVcppme files and creates the *
p8255
aVcpp ones by replacing all "0b101011011"-type strings with their equivalent "0x15b" strings)
p8256
aVI wouldn't do this lightly since there's all sorts of tricky combinations of syntax you may have to worry about
p8257
aVBut it would allow you to write your string as you want to without having to worry about the vagaries of the compiler, and you could limit the syntax trickiness by careful coding
p8258
aVOf course, the next step after that would be patching GCC to recognize "0b" constants but that may be an overkill :-)
p8259
as(dp8260
g16
V14860
p8261
stp8262
a((dp8263
g2
(lp8264
VYou need to convince your manager of something
p8265
aVThat's an art form you learn to perfect :-)
p8266
aVShow them equivalent bits of code for doing a simple function in ASP, straight JS and jQuery, and choose a sample that ensures the straight JS version is large and hideous
p8267
aVTell them you fully agree with their concerns on ASP (butter them up, that always works well) but that you have concerns on quality and timeliness of delivery (this will scare the living daylights out of any manager)
p8268
aVYour carefully selected samples should convince them that they should move from ASP to jQuery rather than ASP to straight JS
p8269
aVOr, worst case, they'll stay with ASP for a bit longer
p8270
aVBoth these sound acceptable to you since they don't involve heavy lifting
p8271
aVI like to take my cues from the "Yes, Prime Minister" show where Sir Humphrey once commented (paraphrased):
p8272
aVGive them three options, two of which can be shown to eventually culminate in World War III, then let them think about it for a bit
p8273
as(dp8274
g16
V14860
p8275
stp8276
a((dp8277
g2
(lp8278
VNo language or library will give its user base everything that they desire, although Boost may claim to :-) You should be collecting snippets of code as you develop to ensure you never have to write the same thing twice
p8279
aVSuch as:
p8280
aVwhich will construct your binary string based on the decimal value
p8281
aVThe idea is to use code from (in order of preference):
p8282
aVthe language
p8283
aVthe libraries
p8284
aVthird-party libraries with suitable licenses
p8285
aVyour own collection
p8286
aVsomething new you need to write (and save in your collection for later)
p8287
as(dp8288
g16
V14860
p8289
stp8290
a((dp8291
g2
(lp8292
VYes (write your own), something like the following complete function
p8293
aVAdd this main to the end of it to see it in operation:
p8294
aVRun it with  to get:
p8295
as(dp8296
g16
V14860
p8297
stp8298
a((dp8299
g2
(lp8300
VUse  with the escape character clause:
p8301
aVThis will search for all records that contain the  character in the  column
p8302
aVDB2/z has a slightly different format:
p8303
aVObviously, you'll need to choose your escape character carefully so it won't interfere with the rest of your string but this is relatively easy for static strings
p8304
aVDynamically built strings will require dynamically built queries so that it doesn't use a character from the string
p8305
as(dp8306
g16
V14860
p8307
stp8308
a((dp8309
g2
(lp8310
VIf each case only allows one column, then you probably need two cases:
p8311
aVI hope I don't need to tell you that this sort of stuff doesn't scale very well when the database tables become large
p8312
as(dp8313
g16
V14860
p8314
stp8315
a((dp8316
g2
(lp8317
VSorry, I don't tend to get a buzz from that sort of thing but most situations have been pretty basic, monitoring performance of queries and adding indexes to speed them up
p8318
aVNow increasing the speed of "real" code that I've written by changing data structures and algorithms within the class, that's where I get my buzz (and reputation a the go-to man for performance fixes at work)
p8319
as(dp8320
g16
V14860
p8321
stp8322
a((dp8323
g2
(lp8324
VYou almost certainly have a string of the form:
p8325
aVwhere  is a newline character
p8326
aVThis would translate into:
p8327
aVif you simplistically detected the end of the word as either space or null-terminator
p8328
aVI'm not going to give you the code (since this is homework) but the easiest solution, in my opinion, would be to have another loop processing the entire string, replacing all  characters with spaces
p8329
aVThis would be done before your latinization loops
p8330
as(dp8331
g16
V14860
p8332
stp8333
a((dp8334
g2
(lp8335
VA flow chart details the processes to follow
p8336
aVA DFD details the flow of data through a system
p8337
aVIn a flow chart, the arrows represent transfer of control (not data) between elements and the elements are instructions or decision (or I/O, etc)
p8338
aVIn a DFD, the arrows are actually data transfer between the elements, which are themselves parts of a system
p8339
aVWikipedia has a good article on DFDs here
p8340
as(dp8341
g16
V14860
p8342
stp8343
a((dp8344
g2
(lp8345
VWith bash:
p8346
aVThe  bash variable expands to the PID of the most recently started background process
p8347
aVThe  just waits an hour, then the  shuts down that process
p8348
aVThe  loop just keeps doing it over and over
p8349
as(dp8350
g16
V14860
p8351
stp8352
a((dp8353
g2
(lp8354
VI seem to recall it's just a bitmask
p8355
aVAn array of chars (or some other basic type) where each bit of the char represents the state of each file descriptor
p8356
aVSome implementations also have a limit variable if they allow variable sized structures but most that I've seen (and these are generally the older ones) simply allow for the largest number of file descriptors
p8357
aVHowever, an implementation is free to use whatever data structure it wants as long as it provides the FD_* macros or functions to properly initialize and change them
p8358
as(dp8359
g16
V14860
p8360
stp8361
a((dp8362
g2
(lp8363
VIf you're not using it in code (and you're not, according to an answer you posted, which should have really been an edit to your question :-), it's not a programming question
p8364
aVBut the answer is to use nslookup
p8365
as(dp8366
g16
V14860
p8367
stp8368
a((dp8369
g2
(lp8370
VIt can be done in a tricky sort of way
p8371
aVYou need three separate  jobs for that range, all running the same code ( in this case):
p8372
aVone for the 29th and 30th of June ()
p8373
aVone for every day in the months July through November ()
p8374
aVone for all but the last day in December ()
p8375
aVThis gives you:
p8376
aVThen make sure you comment them out before June 29, 2010 comes around
p8377
aVYou can add a final  job on December 31 to email you that it needs to be disabled
p8378
aVOr you could modify  to exit immediately if the year isn't 2009
p8379
aVThen it won't matter if you forget to disable the jobs
p8380
as(dp8381
g16
V14860
p8382
stp8383
a((dp8384
g2
(lp8385
VSince you haven't answered as to which platform you're using, I'll take a stab at AIX for starters
p8386
aVYou need to have a look at the db2diag
p8387
aVlog to get the specific cause but it's usually because AIX has run out of shared memory segments
p8388
aVAIX has a total of 16 shared memory segments, of which 7 are available for the database
p8389
aVThe amount actually used by your database can be calculated with a formula too complicated for me to remember without looking it up in the troubleshooting guide
p8390
aVBut there's a real possibility that a database will use 6 segments, leaving just one
p8391
aVI've seen situations where that happens then a memory-mapped I/O request happens at the same time as a stored procedure
p8392
aVBoth these need a shared memory segment and, if the I/O begins first, the stored procedure will fail as you are seeing
p8393
aVThe ways to fix this are to free up segments by doing one or more of:
p8394
aVdisable memory mapped I/O
p8395
aVreduce the segment usage by the database: you'll need that formula but I think it involves buffer pools, heap sizes and lock lists
p8396
aVturn off intra_parallel if it's not needed
p8397
as(dp8398
g16
V14860
p8399
stp8400
a((dp8401
g2
(lp8402
VYou need to do all the exercises
p8403
aVThen you need to spend 10 years suffering the pain of C
p8404
aVThen you get to be initiated into the conclave with yak blood
p8405
aVBut, seriously:
p8406
aVYou learn by doing
p8407
aVWhether you prefer to do by completing all or some of those exercises is irrelevant
p8408
aVMyself, I would do as many as I could, then choose a project I'd enjoy
p8409
aVFor me, that would be a text-mode share portfolio manager, you're likely to have other interests
p8410
aVBut you'll learn faster if you're using it for something you enjoy - that's unlikely to be anything to do with the exercises in K&R
p8411
aV;
p8412
as(dp8413
g16
V14860
p8414
stp8415
a((dp8416
g2
(lp8417
VI always like to provide the very baseline REs so they will work on every RE engine, so:
p8418
aVWith suitable boundary conditions (on old RE engines, that would be ), that should work everywhere
p8419
aVHowever, it looks like you're wanting hex characters, if the  is correct, so maybe you're after:
p8420
aVor it's equivalent in many of the other excellent suggestions for the more advanced engines
p8421
as(dp8422
g16
V14860
p8423
stp8424
a((dp8425
g2
(lp8426
VPutting a  character before all of your  variables will fix it
p8427
aVThey're being parsed by Perl itself
p8428
aVThe following script:
p8429
aVoutputs:
p8430
aVbut:
p8431
aVoutputs:
p8432
aVHowever, since you want  and  to be interpreted by Perl, the actual line should be:
p8433
as(dp8434
g16
V14860
p8435
stp8436
a((dp8437
g2
(lp8438
VI wouldn't actually do it with  since that's not the best tool for the job
p8439
aVThe  tool is my tool of choice whenever somebody mentions columns
p8440
aVor the simplest form:
p8441
aVIf you must use :
p8442
aVmaking sure that you use the correct white space (the above uses only spaces)
p8443
as(dp8444
g16
V14860
p8445
stp8446
a((dp8447
g2
(lp8448
VSome people use REs for the wrong things (I'm waiting for the first SO question on how to detect a valid C++ program using a single RE)
p8449
aVI usually find that, if I can't fit my RE within 60 characters, it's better off being a piece of code since that will almost always be more readable
p8450
aVIn any case, I always document, in the code, what the RE is supposed to achieve, in great detail
p8451
aVThis is because I know, from bitter experience, how hard it is for someone else (or even me, six months later) to come in and try to understand
p8452
aVI don't believe they're evil, although I do believe some people who use them are evil (not looking at you, Michael Ash :-)
p8453
aVThey're a great tool but, like a chainsaw, you'll cut your legs off if you don't know how to use them properly
p8454
aVUPDATE: Actually, I've just followed the link to that monstrosity, and it's to validate m/d/y format dates between the years 1600 and 9999
p8455
aVThat is a classic case of where full-blown code would be more readable and maintainable
p8456
aVYou just split it up into three fields and check the individual values
p8457
aVI'd almost consider it an offense worthy of termination if one of my minions bought this to me
p8458
aVI'd certainly send them back to write it properly
p8459
as(dp8460
g16
V14860
p8461
stp8462
a((dp8463
g2
(lp8464
VMost times when you modify the code inconsequentially and it fixes your problem, it's a memory corruption problem of some sort
p8465
aVWe may need to see the actual code to do proper analysis, but that would be my first guess, based on the available information
p8466
as(dp8467
g16
V14860
p8468
stp8469
a((dp8470
g2
(lp8471
VAvik, this is what DNS is meant to be used for
p8472
aVWhile "regular" DNS is meant to hold names and IP addresses for each machine (statically configured), there is a dynamic DNS protocol which allows machines to update their DNS entries in real time
p8473
aVThis sort of capability is used in some of the office environments for my clients where printers on a machine are shared but the machines they're attached to use DHCP (meaning their IP address can change)
p8474
aVSee here and here for details and the Windows implementation with DHCP
p8475
aVLets call your machine that wants to advertise itself the SERVER and all the machines that can use it, the CLIENTS
p8476
aVOf course, dynamic DNS only notifies DNS itself of the name/IP mapping and is useful if the CLIENTS are already aware of your SERVER so they can get the IP address from DNS
p8477
aVIf you have no way for CLIENTS to discover that your SERVER has just been added, you'll still need to broadcast a packet occasionally indicating that your SERVER exists (this will only need the SERVER name since CLIENTS will use DNS to get the IP address)
p8478
aVThis broadcast packet should be picked up by all CLIENTS and kept in a local table
p8479
aVIf the communications from a CLIENT to your SERVER fails, the local table entry for your SERVER should be removed (it'll be re-added when your SERVER broadcasts again)
p8480
as(dp8481
g16
V14860
p8482
stp8483
a((dp8484
g2
(lp8485
VWe take it very seriously at our shop
p8486
aVWe do not allow non-standard SQL or extensions unless they're supported on ALL of the major platforms
p8487
aVEven then, they're flagged within the code as non-standard and justifications are necessary
p8488
aVIt is not up to the application developer to make their queries run fast, we have a clear separation of duties
p8489
aVThe query is to be optimized only by the DBMS itself or the DBAs tuning of the DBMS
p8490
aVReal databases, like DB2/z :-), process standard SQL plenty fast
p8491
aVThe reason we enforce this is to give the customer choice
p8492
aVThey don't like the idea of being locked into a specific vendor any more than we do
p8493
as(dp8494
g16
V14860
p8495
stp8496
a((dp8497
g2
(lp8498
VAssuming you mean the Message Passing Interface, the best approach is to write the output strings to a buffer and send them to the rank 0 process
p8499
aVThis process should be used not for doing the real work but just for filtering and outputting the output strings
p8500
aVLeave the other ranks to do the real work
p8501
aVI don't think your above solution will work because i is local to each rank
p8502
aVYou also don't want to use the messaging to stop the individual ranks (until they can output) since they will be unable to do their sorting work in the meantime
p8503
aVJust have each rank 1 through N do it's work and send strings to rank 0
p8504
aVThe strings could be of the form  where N is the rank and S is the string
p8505
aVRank 0 could then filter out specific messages or write different messages to different files, then combine them (sorted) once all the working ranks had shut down
p8506
as(dp8507
g16
V14860
p8508
stp8509
a((dp8510
g2
(lp8511
VUsing this file for demo purposes:
p8512
aVThis one-liner (split for readability):
p8513
aVor the minimum character version:
p8514
aVgives you:
p8515
aVwhich I believe is what you were after
p8516
aVIt's basically a simple state machine that turns on printing when it finds the desired block start and turns it off when it finds the end of that block
p8517
aVUPDATE: Here's a perl one-liner that takes care of your qualified_clock requirement
p8518
aVEnjoy :-)
p8519
as(dp8520
g16
V14860
p8521
stp8522
a((dp8523
g2
(lp8524
VI always coerce values in constructors
p8525
aVIf the users can't be bothered to follow the rules, I just silently enforce them without telling them
p8526
aVSo, if they pass a value of 107%, I'll set it to 100%
p8527
aVI just make it clear in the documentation that that's what happens
p8528
aVOnly if there's no obvious logical coercion do I throw an exception back to them
p8529
aVI like to call this the "principal of most astonishment to those too lazy or stupid to read the documentation"
p8530
as(dp8531
g16
V14860
p8532
stp8533
a((dp8534
g2
(lp8535
VEthics is a way for people to fail without even trying
p8536
aVI see absolutely no problem with doing this
p8537
aVI wouldn't even tell the guy
p8538
aVAnd I'd set up a separate company and try to keep my name as far away from the business as possible, so as to not burn any bridges
p8539
aVBut I'm sneakier and far more cynical than the average human
p8540
aVAnd, let's be honest, it sounds very much like you've already made up your mind what's right and wrong
p8541
aVYou don't really need our approval
p8542
aVGo out and do it, that's my advice
p8543
as(dp8544
g16
V14860
p8545
stp8546
a((dp8547
g2
(lp8548
VYou need to look into "headless mode"
p8549
aVThat's basically running the IDE to perform its work without the IDE showing up
p8550
aVI don't have any direct experience but one of the teams in our lab used RAD in headless mode to automate builds for an Eclipse/System-z interface
p8551
as(dp8552
g16
V14860
p8553
stp8554
a((dp8555
g2
(lp8556
VYou can set up a bash script to run the programs and use  to capture the CTRL-C
p8557
aVThen, in the function called by trap, just kill off the programs
p8558
aVIt's been a while since I did this but I think the following illustrates it
p8559
aVJust run this script and CTRL-C it, you'll find that it kills off the two sleep processes
p8560
as(dp8561
g16
V14860
p8562
stp8563
a((dp8564
g2
(lp8565
VSomething screwy with your setup, the folllowing program works fine for me
p8566
aVThe fact that it's asking for source code leads me to believe that it's trying to compile or run it in some sort of debugging mode
p8567
aVYou shouldn't need the source code for java
p8568
aVutil
p8569
aV* to compile, that's just bizarre
p8570
aVSee if my simple test program works in your environment, then try looking for something along those lines (debugging options)
p8571
aVFinal step: compile your code with the baseline javac (not NetBeans)
p8572
aVUPDATE:
p8573
aVActually, I have found something
p8574
aVIf you are creating GWT applications, I don't think  is available on the client side (only the server side)
p8575
aVAll of the references on the web to this error message point to GWT and its limitations on the client side which are, after all, converted to Javascript goodies, so cannot be expected to support the entire set of Java libraries
p8576
aVThis page here shows how to do i18n on GWT apps and there's no mention of  except on the server side
p8577
as(dp8578
g16
V14860
p8579
stp8580
a((dp8581
g2
(lp8582
VIt's actually to prevent brute force attacks from trying millions of passwords per second
p8583
aVThe idea is to limit how fast passwords can be checked and there are a number of rules that should be followed
p8584
aVA successful user/password pair should succeed immediately
p8585
aVThere should be no discernible difference in reasons for failure that can be detected
p8586
aVThat last one is particularly important
p8587
aVIt means no helpful messages like:
p8588
aVor:
p8589
aVNot even a time difference in response between the "invalid user and password" and "valid user but invalid password" failure reasons
p8590
aVEvery failure should deliver exactly the same information, textual and otherwise
p8591
aVSome systems take it even further, increasing the delay with each failure, or only allowing three failures then having a massive delay before allowing a retry
p8592
as(dp8593
g16
V14860
p8594
stp8595
a((dp8596
g2
(lp8597
VThese sites, http://www
p8598
aVlvr
p8599
aVcom/parport
p8600
aVhtm and http://lcdinterfacing
p8601
aVgooglepages
p8602
aVcom/, have some VB code for testing and using inpout
p8603
aVdll in real world scenarios, which you could probably tailor to C++
p8604
aVThis site, has a C++ tutorial on using it
p8605
aV(* Strange, if you click on that link, you get a 404 but, if you then just hit ENTER in the address bar, it works - the address is:
p8606
aVif you want to cut and paste - it appears to be something to do with underscore/%5F translation *)
p8607
aVNote the comments that, if you're developing for the more secure Windows platforms (anything after Win98, I guess), you should be using the inpout32 variant
p8608
aVThose links are good if you're just looking for source to be able to write your own
p8609
aVIf, by open source, you actually meant 'speech-free', I haven't been able to find any (SourceForge, which is my go-to place for FOSS, returns zero hits)
p8610
as(dp8611
g16
V14860
p8612
stp8613
a((dp8614
g2
(lp8615
VWell, since enums can't change at run-time, the best thing you can do is:
p8616
aVBut I find it difficult to envisage a situation where that information would come in handy
p8617
aVWhat exactly are you trying to do
p8618
as(dp8619
g16
V14860
p8620
stp8621
a((dp8622
g2
(lp8623
VWhen you're using varchars (or strings in most languages), you'll find that  just because of character sequencing rules (since )
p8624
aVYou should be storing date and time values in date and time columns
p8625
aVIf you must use varchars, you'll need to convert them to fixed-size 24-hour format to do it properly (e
p8626
ag1775
aV, "01:30", "12:15", "18:25")
p8627
aVBut my advice is to store them as proper DB date and time values
p8628
aVYour queries will be easier and faster
p8629
aVThe following solution may get you what you want if I understand your data storage (one entry per quarter hour) but my professional opinion is to fix the column types, since that will allow for far more expressive conditions in your select statements:
p8630
as(dp8631
g16
V14860
p8632
stp8633
a((dp8634
g2
(lp8635
VThese are the allowed  functions in C++
p8636
aVThe problem is that your code has an int as the first argument and C++ doesn't know whether to promote it to a double or long double
p8637
aVTry putting in  instead of just
p8638
as(dp8639
g16
V14860
p8640
stp8641
a((dp8642
g2
(lp8643
VI think that's a no-brainer: WMI is the Microsoft-blessed way of providing performance and hardware information
p8644
aVThat should be the way you provide the information you describe
p8645
aVThere's plenty of precedent in the Win32_Computer and other hardware classes, which provide CPU details, memory size and so on (stuff that doesn't change with the software running)
p8646
aVI say that since you specifically marked out "hardware device"
p8647
aVDon't think that WMI is for reporting just software type things like memory usage or process lists
p8648
aVThere's a large amount of software out there already specifically built to query WMI (including one of mine) so there's no shortage of people who will know how to do it
p8649
as(dp8650
g16
V14860
p8651
stp8652
a((dp8653
g2
(lp8654
VHow is that tedious
p8655
aVIt's really just a divide-and-modulo operation, one gets the octave, the other gets the note
p8656
aVIn real Java, as opposed to that pseudo-code above:
p8657
as(dp8658
g16
V14860
p8659
stp8660
a((dp8661
g2
(lp8662
VYou get a similar effect in UNIX when you SIGSTOP (CTRL-Z, although this depends on your  settings) a process
p8663
aVI believe it stops the process from executing totally and the address space, while not swapped to disk en masse, can be paged out (or discarded if it's reloadable from the executable) due to non-use
p8664
aVSIGCONT will restart the process
p8665
aVOne possible solution is something we implemented in UNIX a while back
p8666
aVMake the program responsible for its own start and stop, by passing a command-line parameter to it
p8667
aVSecondary copies of the program would not do any real work, they'd only communicate to the primary copy
p8668
aVSo there were four possibilities:
p8669
aVRun primary copy with 'resume' or no parameter
p8670
aVThis would just start the program and let it run
p8671
aVRun primary copy with 'pause'
p8672
aVThis would start the program which would initialize then send a SIGSTOP signal to itself to halt
p8673
aVRun secondary copy with 'resume'
p8674
aVThis would send a SIGCONT signal to the primary copy to start it running again
p8675
aVSecondary copies with no parameter would simply complain that a primary was already running then exit
p8676
aVRun secondary copy with 'pause'
p8677
aVThis would send a SIGSTOP signal to the primary copy to make it pause
p8678
aVWe used shared memory for communicating with the primary since there were many other things a secondary could pass to the primary
p8679
aVBut if all you want is stop and start instructions, I'd go for storing the PID in a known file and checking to make sure the process name is valid
p8680
aVThis gives you a nice idiom for a program that can pause and restart just by seemingly running it again with different parameters
p8681
as(dp8682
g16
V14860
p8683
stp8684
a((dp8685
g2
(lp8686
VMy understanding of async I/O is that you're notified when it's done via an interrupt of some sort so you can do more I/O at that point
p8687
aVWith buffered I/O, you do it and forget about it, you never hear about that particular I/O again
p8688
aVAt least that's how it is with the huge intelligent disk arrays we deal with
p8689
aVThe idea of async I/O is that you begin the I/O and return to doing other stuff
p8690
aVThen, when the I/O is finished, you're notified and can do more I/O - in other words, you're not waiting around for it to finish
p8691
aVSpecifically for the synchronous read case: you request some input and then wait around while it's read from the device
p8692
aVBuffering there just involves reading more than you need so it's available on the next read without going out to the device to get it
p8693
aVAsync reads, you simply start the process to read then you go off and do something else while it's happening
p8694
aVWhether by polling or an interrupt, you later discover that the read is finished and the data is available for you to use
p8695
aVFor writes, I'm not sure I can see the advantage of one over the other
p8696
aVBuffered sync writes will return almost immediately unless the buffer is full (that's the only time when an async write may have an advantage)
p8697
as(dp8698
g16
V14860
p8699
stp8700
a((dp8701
g2
(lp8702
VI don't think you're going to get a response to this one, leeand00 :-)
p8703
aVIt's been over a year with no responses and only six out of the three quarter of a million questions here on SO even mention the word  (one of which is this one)
p8704
aVWhat I tend to do when I find a project like this which may be good, but I know little about, is to:
p8705
aV(1) examine the history of it
p8706
aV(2) search for support history for it
p8707
aV(3) investigate the backers to see how well it's supported
p8708
aVIn terms of (1), the last release of the product was back in January 2007 (per sourceforge)
p8709
aVNow this may be a sign that it's incredibly stable but, given my cynical nature, I'm more likely to see it as an indication that not much is happening with the product
p8710
aVNow granted, there are still commits going on but they seem to be all minor things, compile fixes and documentation changes
p8711
aVThat doesn't auger well for a vibrant product
p8712
aVAnd there's only a single review on sourceforge which consists of the text "good work
p8713
aVRegarding (2), the mailing lists show 25 messages over the time span September 2009 through June 2010 while, while showing that support is ongoing, is not a huge number
p8714
aVIn addition, other than Tommi from tntnet itself, over four people used the forum over this time
p8715
aVNow, again, that may be because the product is very stable and has few problems
p8716
aVYou may think that, I couldn't possibly comment :-)
p8717
aVThe forum is absolutely empty over the last 12 months according to the official sourcefore statistics
p8718
aVFor backing (3), this looks like a small company consisting of only two people (that's supposition on my part)
p8719
aVI can see no customer lists on the website which I would think they would be trumpeting if any existed
p8720
aVIn terms of the compiler needed, they don't seem to specify but, given they support Linux/UNIX, probably any modern compiler would suffice (g++ for example)
p8721
aVTheir codebase doesn't seem to have any incredibly trick things in it from a cursory glance
p8722
aVMy analysis, based on the foregoing data, is that this project is not worth worrying about
p8723
aVIt's a relatively good idea in that the C++ code is broken out in shared libraries but I'm not sure the advantages of this are as good as they once might have been
p8724
aVYes, the source code isn't in the HTML and it does run at native speed but most important source code is held at the server end nowadays anyway, and speed is far less of a problem than it used to be (most of the time, applications are waiting around for the user anyway)
p8725
aVBut, by all means, download it and give it a go (if you haven't already, and are still interested a year later)
p8726
aVFor anyone who knows C++ very well and other languages (Java, PHP, etc) not very well at all, it may be a good way to get into web work
p8727
aVHow marketable the skills will be is a different matter
p8728
as(dp8729
g16
V14860
p8730
stp8731
a((dp8732
g2
(lp8733
VI did a little bit of patch work on GnuCash since my wife restarted work part-time recently after our kids were a little more grown up
p8734
aVI would've rather had my eyes ripped out with a hot poker than re-install Windows but GnuCash was missing something that [a certain other accounting package] had so I told her I'd get it added
p8735
aVAs it turns out, they took my patch and made it a lot better before putting it in (to the point where maybe 1% of the final patch was my stuff) but at least we can now use GnuCash instead of that proprietary stuff
p8736
aVThey were also incredibly responsive - from patch submission to patch availability was only a week or so and it was in the product three weeks later
p8737
aVI also once investigated getting a patch into the process accounting in the Linux kernel but the effort required far outweighed my needs :-)
p8738
aVI don't contribute on a regular basis, more as-needed (find your itch and scratch it)
p8739
aVThere are some who make a hobby of it but I'd rather be spending my spare time with the kids and, unfortunately, my employer won't pay me to contribute elsewhere
p8740
aVThat last bit particularly galled me since:
p8741
aVthe Linux patch would have greatly assisted our product (and a lot of others)
p8742
aVit was change in behavior of another of our products that degraded the usefulness of our product
p8743
aVthe solution was fairly simple, conceptually (the effort required was testing since a problem would have been high-impact [task switching] and very pervasive [everyone using Linux])
p8744
aVit would have been quicker to code up the patch than the workaround we eventually implemented
p8745
aVthe workaround is a kludge (p'tooee)
p8746
aVnow, nobody in the world has the benefit of our patch (including us)
p8747
as(dp8748
g16
V14860
p8749
stp8750
a((dp8751
g2
(lp8752
VThere are three types of standards behaviour you should be interested in
p8753
aV1/ Defined behaviour
p8754
aVThis will work on all complying implementations
p8755
aVUse this freely
p8756
aV2/ Implementation-defined behaviour
p8757
aVAs stated, it depends on the implementation but at least it's still defined
p8758
aVImplementations are required to document what they do in these cases
p8759
aVUse this if you don't care about portability
p8760
aV3/ Undefined behaviour
p8761
aVAnything can happen
p8762
aVAnd we mean anything, up to and including your entire computer collapsing into a naked singularity and swallowing itself, you and a large proportion of your workmates
p8763
aVNever use this
p8764
aVEver
p8765
aVSeriously
p8766
aVDon't make me come over there
p8767
aVCopying more that 4 characters and a zero-byte to a  is undefined behaviour
p8768
aVSeriously, it doesn't matter why your program crashes with 14 characters but not 13, you're almost certainly overwriting some non-crashing information on the stack and your program will most likely produce incorrect results anyway
p8769
aVIn fact, the crash is better since at least it stops you relying on the possibly bad effects
p8770
aVIncrease the size of the array to something more suitable ( in this case with the available information) or use some other data structure that can cope
p8771
aVUpdate:
p8772
aVSince you seem so concerned with finding out why an extra 7 characters doesn't cause problems but 8 characters does, let's envisage the possible stack layout on entering
p8773
aVI say "possible" since the actual layout depends on the calling convention that your compiler uses
p8774
aVSince the C start-up code calls  with  and , the stack at the start of , after allocating space for a , could look like this:
p8775
aVWhen you write the bytes  with:
p8776
aVto , it overwrites the  and  but, on return from , that's okay
p8777
aVSpecifically  populates ,  populates  and  populates
p8778
aVProvided you don't actually try to use  and/or  after that, you'll be okay
p8779
aVHowever, if you write  (note the extra "8") to , it overwrites the  and  and also one byte of the return address so that, when  attempts to return to the C start-up code, it goes off into fairy land instead
p8780
aVAgain, this depends entirely on the calling convention of your compiler
p8781
aVIt's possible a different compiler would always pad out arrays to a multiple of 4 bytes and the code wouldn't fail there until you wrote another three characters
p8782
aVEven the same compiler may allocate variables on the stack frame differently to ensure alignment is satisfied
p8783
aVThat's what they mean by undefined: you don't know what's going to happen
p8784
as(dp8785
g16
V14860
p8786
stp8787
a((dp8788
g2
(lp8789
VThat's because the size of an  is the size of an int pointer (4 or 8 bytes on modern platforms that I use but it depends entirely on the platform)
p8790
aVThe  is calculated at compile time, not run time, so even  won't help because you may call the  function at runtime with many different-sized arrays
p8791
aVThe size of an int array is the size of an int array
p8792
aVThis is one of the tricky bits in C/C++ - the use of arrays and pointers are not always identical
p8793
aVArrays will, under a great many circumstances, decay to a pointer to the first element of that array
p8794
aVThere are at least two solutions, compatible with both C and C++:
p8795
aVpass the length in with the array (not that useful if the intent of the function is to actually work out the array size)
p8796
aVpass a sentinel value marking the end of the data, e
p8797
ag1775
aV,
p8798
as(dp8799
g16
V14860
p8800
stp8801
a((dp8802
g2
(lp8803
VGiven the perl file:
p8804
aVthe following bash command will do it
p8805
aVBut that is run in a separate shell
p8806
aVIf you really want to invoke it in the context of the current shell, do this:
p8807
as(dp8808
g16
V14860
p8809
stp8810
a((dp8811
g2
(lp8812
VThere is nothing in HTTP that limits the number of sessions
p8813
aVHowever, there are configuration items in FF for one, that specifically set how many total sessions and how many sessions to a single server are allowed
p8814
aVOther browsers may also have this feature
p8815
aVIn addition, a server can limit how many sessions come in totally and from each client IP address
p8816
aVSo the correct answer is:
p8817
aV1/ The number is sessions is limited to the minimum of that imposed by the client (browser) and server
p8818
aV2/ Because of this, there's no reliable way to query it in JavaScript
p8819
as(dp8820
g16
V14860
p8821
stp8822
a((dp8823
g2
(lp8824
VThat error is almost always caused by the non-definition of the word preceding the error word (in this case,  preceding )
p8825
aVHence you have not defined  and (it looks like) all the other  types as well
p8826
aVI'm not sure that  is included in  (if you're using the sample code from here)
p8827
aVThat code includes both  and
p8828
as(dp8829
g16
V14860
p8830
stp8831
a((dp8832
g2
(lp8833
VYes, it will ()
p8834
aVThe main reason for using init-lists is to help the compiler with optimisation
p8835
aVInit-lists for non-basic types (i
p8836
ag75
aV, class objects rather than ints, floats,
p8837
aVcan generally be constructed in-place
p8838
aVIf you create the object then assign to it in the constructor, this generally results in the creation and destruction of temporary objects, which is inefficient
p8839
aVInit-lists can avoid this (if the compiler is up to it, of course - most of them should be)
p8840
aVThe following complete program will output 7 but this is for a specific compiler (CygWin g++) so it doesn't guarantee that behaviour any more than the given sample
p8841
aVHowever, the feature would be less-than-useful if it were not defined by the standard
p8842
aVThe latest ("2800", December 2008, the time of this answer) draft C++ standard is available as  from here
p8843
aVThis document (or its replacement once it leaves draft status) is the final arbiter in any C++ standards discussion (I don't have the interest to search this document so I'll leave it to others who are more inclined :-)
p8844
as(dp8845
g16
V14860
p8846
stp8847
a((dp8848
g2
(lp8849
VNeither of those is actually the best (in terms of how DBAs think)
p8850
aVThe best would be (assuming RefNo is unique and therefore the primary key):
p8851
aVIf RefNo/Date is the primary key, add date to the second table as well
p8852
aVThis allows you to minimize storage space for those rows that don't have all three types (although savings is minimal)
p8853
aVThen you use  clauses combining the two tables (or s) to do your queries
p8854
aVIt also allows you to add other types at will without restructuring the database
p8855
aVHowever, you need to keep in mind that third normal form is an ideal
p8856
aVIt's quite acceptable to violate the rules to gain performance as long as you understand the implications
p8857
aV100,000 records is actually quite small so, unless you think you're going to be adding more types in the near future, I'd go for your option 2 and use zeros for those values that don't exist
p8858
aVNULLs would most likely make your queries a little more complicated
p8859
as(dp8860
g16
V14860
p8861
stp8862
a((dp8863
g2
(lp8864
VThis is a classic example of using a union to store data depending on an external marker
p8865
aVThe int, float and char * all occupy the same place in the union, they are not consecutive so, if you need to store them all, it's a structure you're looking for, not a union
p8866
aVThe structure is the size of the largest thing in the union plus the size of the type, since it's outside the union
p8867
aVThe printMyType function will correctly detect what's stored in the structure (unless you lie to it) and print out the relevant value
p8868
aVWhen you populate one of them, you have to do:
p8869
aVor
p8870
aVand a given  can only be one thing at a time
p8871
aVWoe betide anyone who tries:
p8872
aVThey're asking for trouble
p8873
as(dp8874
g16
V14860
p8875
stp8876
a((dp8877
g2
(lp8878
VIf they're logged in as you, there's basically little you can do to stop them from learning that information
p8879
aVIf you're on Linux they'll have access to your /proc entries and can learn this information easily
p8880
aVThey can also:
p8881
aVdelete all your files
p8882
aVsend mail in your name to insult the CEO of your company
p8883
aVaccess all your files and command line history, if any
p8884
aVmyriad other things
p8885
aVThis is not a viable way to protect yourself
p8886
aVYou need to sort out the identical user problem first
p8887
as(dp8888
g16
V14860
p8889
stp8890
a((dp8891
g2
(lp8892
VMy advice is to make it worth their effort
p8893
aVPlace a link in the email and let them know that if they click on it or respond in some way (that allows you to know they've opened the email), they'll get some reward
p8894
aVThen reward them
p8895
aVMarket research companies actually pay people for their time, why should you be any different
p8896
aVThis is, after all, a service they're providing for you, not a basic right of yours
p8897
as(dp8898
g16
V14860
p8899
stp8900
a((dp8901
g2
(lp8902
VThere are on average, roughly 365
p8903
aV2425 days in a year at the moment (the Earth is slowing down but let's ignore that for now)
p8904
aVThe reason we have leap years every 4 years is because that gets us to 365
p8905
aV25 on average
p8906
aVThe reason we don't have leap years on the 100-multiples is to get us to 365
p8907
aV24 `[(1461 x 25 - 1) / 100 = 365
p8908
aV24, 36,524 days in 100 years
p8909
aVThen the reason we once again have a leap year on 400-multiples is to get us to 365
p8910
aV2425
p8911
aVI believe there may be another rule at 3600-multiples but I've never coded for it (Y2K was one thing but planning for one and a half thousand years into the future is not necessary in my opinion - keep in mind I've been wrong before)
p8912
aVSo, the rules are, in decreasing priority:
p8913
aVmultiple of 400 is a leap year
p8914
aVmultiple of 100 is not a leap year
p8915
aVmultiple of 4 is a leap year
p8916
aVanything else is not a leap year
p8917
as(dp8918
g16
V14860
p8919
stp8920
a((dp8921
g2
(lp8922
VIt appears to me that you have two totally independent keys, one for value1 and one for value2
p8923
aVSo when you use the value1 key to retrieve, the records aren't necessarily returned in order of value2, so they have to be sorted
p8924
aVThis is still better than a full table scan since you're only sorting the records that satisfy your "where value1" clause
p8925
aVI think (if this is possible in MySQL), a composite key on (value1,value2) would solve this
p8926
aVTry:
p8927
aV(or the equivalent ), assuming that's the correct syntax in MySQL for a composite key
p8928
aVIn all databases I know (and I have to admit MySQL isn't one of them), that would cause the DB engine to select the value1and2 key for retrieving the rows and they would already be sorted in value2-within-value1 order, so wouldn't need a file sort
p8929
aVYou can still keep the value2 key if you need it
p8930
as(dp8931
g16
V14860
p8932
stp8933
a((dp8934
g2
(lp8935
VWe've implemented finite state machine for Telcos in the past and always used an array of structures, pre-populated like:
p8936
aVI may have the function pointer  declared wrong since this is from memory
p8937
aVBasically the state machine searched the array for a relevant state and event and called the function which did what had to be done then returned the new state
p8938
aVThe specific states were put first and the ST_ANY entries last since priority of the rules depended on their position in the array
p8939
aVThe first rule that was found was the one used
p8940
aVIn addition, I remember we had an array of indexes to the first rule for each state to speed up the searches (all rules with the same starting state were grouped)
p8941
aVAlso keep in mind that this was pure C - there may well be a better way to do it with C++
p8942
as(dp8943
g16
V14860
p8944
stp8945
a((dp8946
g2
(lp8947
VYou shouldn't need the first replace since you can just add 1 to the "(" position
p8948
as(dp8949
g16
V14860
p8950
stp8951
a((dp8952
g2
(lp8953
VThe only advantage I can see to doing it in your OOP way is if there are other element types added in future (i
p8954
ag75
aV, other than artist, album and track)
p8955
aVIn that case, you wouldn't need a schema change
p8956
aVHowever, I'd tend to opt for the non-OOP way and just change the schema in that case
p8957
aVSome problems you have with the OOP solution are:
p8958
aVwhat if you want to add the birthdate of artist
p8959
aVwhat if you want to store duration of albums and tracks
p8960
aVwhat if the want to store track type
p8961
aVBasically, what if you want to store something that's psecific only to one or two of the element types
p8962
as(dp8963
g16
V14860
p8964
stp8965
a((dp8966
g2
(lp8967
VThis is homework so I'm only going to give you clues for now and add to it as you go
p8968
aVA couple of things:
p8969
aV1/ You need to tell us what it's supposed to do
p8970
aVThat's the most important thing
p8971
aV2/ You store array1 address into t0 then reuse t0 within the first loop
p8972
aV3/ You appear to be confused about addresses and the contents of those addresses ( and )
p8973
aVUPDATE:
p8974
aVActually I have to sign off for a while, so I'll post my solution so as to not leave you in the lurch
p8975
aVThe confusion I referred to before was the fact that you're loading up two addresses into $t1 and $s0, then adding them together to get another address - this is likely to be well beyond your data area (you should really be adding an address and an offset)
p8976
aVThat's basically the problem you have with your code (both the zeros being printed and the crash)
p8977
aVYour best bet would be to fix that and refer to my code below only as a last resort to see how I would have done it
p8978
aVCopying code will not help you in the long term and you would be wise to assume your educator is also checking all web sites for plagiarism
p8979
aVThis is the code I've come up with (quickly, so you'll need to test it - it may have bugs)
p8980
aVI suggest you read the comments in great detail to understand what it's doing
p8981
aVI'll be back in a few hours to see how you're doing
p8982
aVCheers
p8983
as(dp8984
g16
V14860
p8985
stp8986
a((dp8987
g2
(lp8988
VThe  keyword in C actually serves two functions depending on where it's used
p8989
aVThose functions are visibility and duration (these are my terms based on quite a bit of teaching, the standard, if you're interested in that level of detail, uses different terms which I often find confuses new students, hence my reticence in using them)
p8990
aVWhen used at file level, it marks an item (variable or function) as non-exported so that a linker cannot see it
p8991
aVThis is static as in visibility, duration is the same as the program (i
p8992
ag75
aV, until the program exits)
p8993
aVThis is useful for encapsulating the item within a single compilation unit (a source file, in its simplest definition)
p8994
aVThe item is available to the whole compilation unit (assuming it's declared before use)
p8995
aVWhen used within a function, it controls duration (visibility is limited to within the function)
p8996
aVIn this case, the item is also created once and endures until the program exits
p8997
aVNon-static variables within a function are created and destroyed on function entry and exit
p8998
aVI gather what you're after is the first type, basically a global variable since I can't immediately see much of a use for the other variant in recursion
p8999
aVIt can't be done since, in Java, everything must belong to a class
p9000
aVThe workaround is to create a class holding the "globals" and either:
p9001
aVpass that object around so you can reference its members; or
p9002
aVconstruct a singleton item so you can access its members
p9003
as(dp9004
g16
V14860
p9005
stp9006
a((dp9007
g2
(lp9008
VThat looks like it could be stored in a very simple database with the following tables:
p9009
aVThen, whenever you parse a sentence, just insert the ones that aren't already there, as follows:
p9010
aVThen you can query to your hearts content on what words follow or precede other words
p9011
as(dp9012
g16
V14860
p9013
stp9014
a((dp9015
g2
(lp9016
VWell, you generally run it in a servlet container such as Websphere Application Server or Tomcat
p9017
aVAnd the way you configure the classpath depends on the servlet container you choose
p9018
as(dp9019
g16
V14860
p9020
stp9021
a((dp9022
g2
(lp9023
VNot sure on your specific problem but you really should mutex-protect the size call as well
p9024
aVNow, examining your specific problem, I can see nothing wrong with the code you've provided
p9025
aVThe main thread and file loader thread should quite happily run side-by-side if that mutex is the only contention between them
p9026
aVI say that because there may be other points of contention, such as in the standard library, that your sample code doesn't show
p9027
as(dp9028
g16
V14860
p9029
stp9030
a((dp9031
g2
(lp9032
VWhat I always do with table design is look at it and work out what sort of trouble I can get into (i
p9033
ag75
aV, what inconsistencies can be generated)
p9034
aVIn your particular case, the obvious one is that you could create an address that's in the state of Wyoming and in the city of Dallas, which is in the state of decay, oops, I mean Texas :-)
p9035
aVSimilarly you could have an address that is in the country of Australia and the state of Texas (in the US) and the city of Xolotllotla in Peru in South America
p9036
aVI wouldn't want to have to explain your schema to the postman when he tracks you down
p9037
aVHow do you resolve that
p9038
aVYou should probably only reference the city from the address, then the state from the city, then the country from the state
p9039
aVBut addresses are a tricky beast and the form they take depends a great deal on where they are located
p9040
aVSome have counties, some cities cross state boundaries and so on
p9041
aVUnless you have a dire need for finding people in specific cities, I'd just incorporate that into a free-form address (most places have postcodes of some sort which is a better choice for that)
p9042
aVYou may well want to select by state or country, in which case leave those as separate fields
p9043
aVMy first attempt would have been:
p9044
aVYou would have to distinguish between 'identical' states in different countries (e
p9045
ag1775
aV, Washington and Western Australia both being WA) but you could easily show the country in data entry screens so that the operator knows which state they're entering (or more likely, they'll choose the country first and the choices of state will be whittled down)
p9046
aVa Xolotllotl is not a real city as far as I know, it's just one I made up that sounds like those beautiful Incan names of old
p9047
as(dp9048
g16
V14860
p9049
stp9050
a((dp9051
g2
(lp9052
VDoubles in IEE754 have a precision of 52 bits which means they can store numbers accurately up to (at least) 251
p9053
aVIf your longs are 32-bit, they will only have the (positive) range 0 to 231 so there is no 32-bit long that cannot be represented exactly as a double
p9054
aVFor a 64-bit long, it will be (roughly) 252 so I'd be starting around there, not at zero
p9055
aVYou can use the following program to detect where the failures start to occur
p9056
aVAn earlier version I had relied on the fact that the last digit in a number that continuously doubles follows the sequence {2,4,8,6}
p9057
aVHowever, I opted eventually to use a known trusted tool  for checking the whole number, not just the last digit
p9058
aVKeep in mind that this may be affected by the actions of  rather than the real accuracy of doubles (I don't think so personally since it had no troubles with certain numbers up to 2143)
p9059
aVThis is the program:
p9060
aVThis keeps going until:
p9061
aVwhich is about where I expected it to fail
p9062
aVAs an aside, I originally used numbers of the form 2n but that got me up to:
p9063
aVwith the size of a double being 8 bytes (checked with )
p9064
aVIt turned out these numbers were of the binary form  which can be represented for far longer with doubles
p9065
aVThat's when I switched to using 2n-1 to get a better bit pattern: all one bits
p9066
as(dp9067
g16
V14860
p9068
stp9069
a((dp9070
g2
(lp9071
V"Efficient" is not a catch-all term
p9072
aVAn array-of-arrays solution is more efficient in terms of storage, where the array may be sparse (i
p9073
ag75
aV, you can use null pointer to represent a matrix line of all zeroes)
p9074
aVThis would be (in C):
p9075
aVwhere each  would be allocated separately
p9076
aVA 2D array (which is not necessarily an array of arrays) will generally be faster (efficient in terms of speed) since it works out memory locations with math, without having to de-reference memory locations
p9077
aVI'm talking of the construct:
p9078
aVA 1D array of the form:
p9079
aVis unlikely to be any faster than the equivalent 2D version since you still have to do the calculations at some point to find the correct cell (manually in your code rather than letting the compiler do it)
p9080
aVAfter edit where Java was added as a requirement:
p9081
aVI believe Java 2D arrays are of the array of arrays variety (which will require two memory accesses as opposed to the one required for a 1D array) so the 1D array with manual index calculation may well be faster
p9082
aVSo, instead of declaring and using:
p9083
aVyou may get more speed with:
p9084
aVYou just need to be careful that you don't get the formula mixed up anywhere (i
p9085
ag75
aV, don't swap 4 and 7 inadvertently)
p9086
aVThis speed difference is based on how I think Java is coded under the covers so I could be wrong (but I doubt it :-)
p9087
aVMy advice is, as always for optimisation questions, measure, don't guess
p9088
as(dp9089
g16
V14860
p9090
stp9091
a((dp9092
g2
(lp9093
VWe'd need to see the Perl program (and I'm assuming you have it otherwise how would you know it's Perl)
p9094
aVOne  possibility is that the Perl script is not recognizing the login strings presented by your telnet daemon and so is shutting down the connection and retrying
p9095
aVI'm not sure why you'd think it was a buffer overflow (unless you have information that we don't)
p9096
aVIt seems to me that if Perl (the interpreter, not the script) had a buffer overflow, it would just crash and there would be no retries (assuming there's not something else retrying the script)
p9097
aVIf you think your script has a buffer overflow problem, again we'd need to see it to help you out
p9098
as(dp9099
g16
V14860
p9100
stp9101
a((dp9102
g2
(lp9103
VYour table is not normalized
p9104
aVIf you want to query for individual participants, they should be split into their own table, along the lines of:
p9105
aVOtherwise, you have to resort to all sorts of trickery (what I call SQL gymnastics) to find out what you want
p9106
aVThat trickery never scales well - your queries become slow very quickly as the table grows
p9107
aVWith a properly normalized database, the queries can remain fast well into the multi-millions of records (I work with DB2/z where we are used to truly huge tables)
p9108
aVThere are valid reasons for sometimes reverting to second normal form (or even first) for performance but that should be a very hard thought out decision (and based on actual performance data)
p9109
aVAll databases should initially start of in 3NF
p9110
as(dp9111
g16
V14860
p9112
stp9113
a((dp9114
g2
(lp9115
VFirst thoughts:
p9116
aVtoss away noise words (and, you, is, the, some,
p9117
aVcount all other words and sort by quantity
p9118
aVfor each word in the two articles, add a score depending on the sum (or product or some other formula) of the quantities
p9119
aVthe score represent the similarity
p9120
aVIt seems to be that an article primarily about Donald Rumsfeld would have those two words quite a bit, which is why I weight them in the article
p9121
aVHowever, there may be an article mentioning Warren Buffet many times with Bill Gates once, and another mentioning both Bill Gates and Microsoft many times
p9122
aVThe correlation there would be minimal
p9123
aVBased on your comment:
p9124
aVSo if an article was about Saddam Hussein, then the algorithm might recommend something about Donald Rumsfeld's business dealings in Iraq
p9125
aVthat wouldn't be the case unless the Saddam article also mentioned Iraq (or Donald)
p9126
aVThat's where I'd start and I can see potential holes in the theory already (an article about Bill Gates would match closely with an article about Bill Clinton if their first names are mentioned a lot)
p9127
aVThis may well be taken care of by all the other words (Microsoft for one Bill, Hillary for the other)
p9128
aVI'd perhaps give it a test run before trying to introduce word-proximity functionality since that's going to make it very complicated (maybe unnecessarily)
p9129
aVOne other possible improvement would be maintaining 'hard' associations (like always adding the word Afghanistan to articles with Osama bin Laden in them)
p9130
aVBut again, that requires extra maintenance for possibly dubious value since articles about Osama would almost certainly mention Afghanistan as well
p9131
as(dp9132
g16
V14860
p9133
stp9134
a((dp9135
g2
(lp9136
VWell, given that SO has +10 for an upvote and -2 for a downvote, and there's recalculation occasionally going on, it would need to store them independently
p9137
aVOtherwise an answer with 10 upvotes and 5 downvotes which originally gave you 90 points, this would recalc to 50 if they weren't stored separately
p9138
as(dp9139
g16
V14860
p9140
stp9141
a((dp9142
g2
(lp9143
VWe developed a tool on one of our projects many years ago which was basically a program started by the inetd daemon on a UNIX box
p9144
aVIt basically acted as a conduit between a client and server
p9145
aVFor example, if we started it on www
p9146
aVtest
p9147
aVbox with:
p9148
aVwe could then connect clients to it at www
p9149
aVtest
p9150
aVbox:1465 and it would open a conduit to www
p9151
aVtarget
p9152
aVbox:80 (inetd actually did most of the grunt work of connecting, although we did also have a version which could act as its own long-running server)
p9153
aVThe default behavior was to pass everything through in both directions at full speed but it was configurable (at runtime, with commands passed to it via shared memory, but other methods are possible) to:
p9154
aVslow down transmissions
p9155
aVcorrupt transmissions
p9156
aVlose data
p9157
aVsend spurious data
p9158
aVand quite a few others
p9159
aVIt served us well and helped out a great deal with network exception testing
p9160
as(dp9161
g16
V14860
p9162
stp9163
a((dp9164
g2
(lp9165
VI've observed that message before but I don't think it was the same cause - the "did not execute" is a generic RPC error which can be caused by many things
p9166
aVIn our particular case, it was because we were hammering WMI too hard and not cleaning up our objects
p9167
aVBut it appears to be a different cause in your case
p9168
aVI know you said you didn't want to shorten the parameter but that may be the only way forward for you
p9169
aVI'm having a hard time visualizing the circumstances under which you need to send 6M across an RPC call
p9170
aVPerhaps if you explain the reasons behind it, we can help further
p9171
aVOther possibilities based on comments to date:
p9172
aV1/ Segmentation
p9173
aVHave the RPC calls limit the amount of data that travels across the wire
p9174
aVThis could be done by segmenting the message at the source and reconstructing it at the destination, such as having three parameters (you could have the server dole out message identifiers in another RPC call or find some other way to ensure no two clients have the same ID):
p9175
aV- a message identifier (for tying message segments together)
p9176
aV- a last flag (to begin the reconstruction process)
p9177
aV- a limited size segment (e
p9178
ag1775
aV, 1M)
p9179
aV2/ Compression
p9180
aVSince XML is text, it's ripe for compression
p9181
aVThe 7zip libraries are the best I've seen in terms of size reduction
p9182
aVWhether this would be fast enough is another matter
p9183
aV3/ Possible fix by changing the registry
p9184
aVCheck out the HKLM/Software/Microsoft/Rpc registry area for the RpcMaxSize key
p9185
aVThere are a couple of sites I've googled that suggest setting this to -1 will remove size limitations (globally, so be careful)
p9186
aV4/ Possible fix while registering your interface
p9187
aVYou can apparently achieve the same effect as (3) on a specific interface with
p9188
as(dp9189
g16
V14860
p9190
stp9191
a((dp9192
g2
(lp9193
VA  is a bit of a pain in a linked list since you have to manage it's allocation separately to the list itself
p9194
aVOne approach I've used in the past is to have a 'variable sized' structure like:
p9195
aVNow I realize that doesn't look variable sized but let's allocate a structure thus:
p9196
aVNow you have a node that, for all intents and purposes, looks like this:
p9197
aVor, in graphical form (where  means  bytes):
p9198
aVThat is, assuming you know how to address the payload correctly
p9199
aVThis can be done as follows:
p9200
aVThat cast line simply casts the address of the  character (in the  type) to be an address of the actual  payload type
p9201
aVUsing this method, you can carry any payload type you want in a node, even different payload types in each node, without the wasted space of a union
p9202
aVThis wastage can be seen with the following:
p9203
aVwhere 96 bytes are wasted every time you store an integer type in the list (for a 4-byte integer)
p9204
aVThe payload type in the  allows you to easily detect what type of payload this node is carrying, so your code can decide how to process it
p9205
aVYou can use something along the lines of:
p9206
aVor (probably better):
p9207
as(dp9208
g16
V14860
p9209
stp9210
a((dp9211
g2
(lp9212
VNot specific to the health care industry but we had a similar requirement for telco customers
p9213
aVWe wanted to be able to provide representative data in test systems but ensure that no sensitive information was copied
p9214
aVTo that end, we tried a number of different things, including the ones we opted for:
p9215
aVViews that would be used instead of direct table accesses - these views would basically join non-sensitive information from the real table with dummy information from separate tables
p9216
aVThe dummy information replaced all sensitive information from the real table
p9217
aVData transfers through a cleanup filter
p9218
aVThis would basically unload the production database and pass it through an anonymiser program which replaced the sensitive information
p9219
aVFor simple cases, things like addresses were all set identical
p9220
aVSimilar to (2) above but the filter could use data from specific lookup data
p9221
aVFor example, an address could be formed with a 4-digit street number, a name selected from the 1000 most common street names, a street type (ST, RD, CRES, WAY, PLACE, etc) and a database of towns
p9222
aVA phone number could be any sequence of ten digits (subject to telco requirements) but with no duplication
p9223
as(dp9224
g16
V14860
p9225
stp9226
a((dp9227
g2
(lp9228
VHere's a  script which does what you requested:
p9229
aVYou run it with  and your sample file:
p9230
aVgenerates:
p9231
as(dp9232
g16
V14860
p9233
stp9234
a((dp9235
g2
(lp9236
VThat works fine for me, although I'm using Office XP rather than 2003
p9237
aVAre you sure that's the code (or only code) that's running for that button
p9238
aVIt sets the height correctly but doesn't change the contents of the cell at all
p9239
aVI've tried this as both a macro driven by a keypress and a command button on the sheet without a problem
p9240
aVUPDATE:
p9241
aVBased on your edit where you state that you're using LinkedCell to find the cell from your button, I don't think your using it properly
p9242
aVLinkedCell binds the value of the cell to the value of the control
p9243
aVWhat's happening when you press the button is that its value is being set to a boolean (possibly true when pressed then false when released, I don't know for sure)
p9244
aVBecause this is linked to a cell, the cells value is also changing to the button value
p9245
aVYou need to find a different way to "link" the button to the cell
p9246
aVMy first thought would be to link it to cell B1 so that your values are in A1, A2, A3,
p9247
aV(let's call them Ax) and your controls buttons are in (and linked to) Bx and don't use Bx for anything else (the buttons will probably appear above them anyway)
p9248
aVThen in your VBA code, you can still set the row height of Bx (since it affects the whole row) and you won't care what has been place in the B-column cell - the A-column cell value will be left untouched
p9249
aVOr, if you are using column B for something, link it to ZZx (or IVx or whatever the rightmost column is in a row)
p9250
as(dp9251
g16
V14860
p9252
stp9253
a((dp9254
g2
(lp9255
VMy own personal preference is to install Cygwin and use the  command but, if you actually have to do it as a batch file, you can't just subtract the strings, you have to treat them as parts
p9256
aVThe following script will time a 10-second ping command with the ability to cross a single day boundary without getting tied up in negative numbers
p9257
aVA slight enhancement would allow it to cross many day boundaries
p9258
as(dp9259
g16
V14860
p9260
stp9261
a((dp9262
g2
(lp9263
VIf you can do them with the same module, I'd consider that preferable since there's less code to worry about
p9264
aVThe only potential problem I can see is the differing nature of the two email types
p9265
aVUser notifications and password reminders would tend to have one recipient
p9266
aVNewsletters would be emailed to all of your users at once
p9267
aVIf this doesn't cause a problem (and you can't see any other problems), I'd stick with the one-mailer-to-rule-them-all approach
p9268
as(dp9269
g16
V14860
p9270
stp9271
a((dp9272
g2
(lp9273
VAt the risk of downvotes, this is not something you should be doing
p9274
aVThe "Recently Used Programs" belongs to the owner of the computer, not your program
p9275
aVIf your program is as useful as you think it is, it will automagically show up there
p9276
aVRaymond Chen has done quite a few articles as to why this sort of thing is a bad idea
p9277
aVThis rates among all those other bad ideas such as:
p9278
aVhow can I force my program to be the handler for certain file types
p9279
aVhow can I keep my program always on top
p9280
aVhow can I annoy my users by making decisions for them when they previously had the power to make their own decisions as to how their software was configured
p9281
aV:-)
p9282
aVUpdate:
p9283
aVA couple of things you may want to try
p9284
aVCopy a program (explorer
p9285
aVexe) to axolotl
p9286
aVexe and run it enough times to get it on the list
p9287
aVThen search the registry for it (assuming there's not another axolotl
p9288
aVexe somewhere on your disk)
p9289
aVBe aware that some strings are stored as Unicode so it might not be a simple search
p9290
aVIt also wouldn't surprise me if MS encoded them some way to make this more difficult
p9291
aVMicrosoft's sysinternals have a tool that can monitor the registry (regmon, look here, you could run that while you run a program a few times to see what gets updated when it's added to the list
p9292
as(dp9293
g16
V14860
p9294
stp9295
a((dp9296
g2
(lp9297
VREs are efficient, but they're not magic :-)
p9298
aVIt is not the number of lines in a input file which slows you down (3,000 is a very small number)
p9299
aVWhen an RE is compiled, it basically has to (conceptually) write a program which can parse the input file based on that RE
p9300
aVThe speed of that "program" always depends on the complexity of the RE
p9301
aVFor example,  will be very fast,  will be somewhat slower and anything that involves backtracking (i
p9302
ag75
aV, having to back up in the RE, usually anything involving multiple variable-number-of-elements clauses, of which yours is an example) will be slower still
p9303
aVAnything you can do to minimize the number of lines beforehand will help to some extent but as to optimizing the RE itself, that's often considered a black art
p9304
aVOne possibility is to first strip out the lines other than those between lines where the Annotation stops and starts
p9305
aVI don't tend to worry too much about optimizing my REs (but they're not usually this complex)
p9306
aVMy view is that they will take as long as they take
p9307
aVIf that's too long, I usually look for another solution which is faster but not so adaptable
p9308
aVIn the case of your RE where you wanted to get all Annotation XML where the  attribute contains MATCH, I would do it in Perl (or awk for us old-timers :-) since the input file was reasonably fixed format:
p9309
aVon last line and on its own [b]
p9310
aVThis would be fast as a simple line scanner, turning on echo when the [a] conditions were met (and printing that line), printing any other line when echo was on, and turning echo off when [b] conditions were met (after printing line)
p9311
aVYes, far less adaptable but almost certainly faster (given your well-formatted input)
p9312
as(dp9313
g16
V14860
p9314
stp9315
a((dp9316
g2
(lp9317
VYou should measure rather than guess at any potential improvement but my first thought is that it may be faster to do a union as follows:
p9318
aVThat may be the right order for the pushbacks but check just in case - it depends on the endian-ness of the CPU
p9319
as(dp9320
g16
V14860
p9321
stp9322
a((dp9323
g2
(lp9324
VIsomorphic comes from the Greek "same shape" (like isobar is points with the same air pressure and polygon means "many sided") so your understanding is correct
p9325
aVBut don't make the mistake of assuming shape in this case is a physical shape (like the tree has one root, one left node and one right node; see below for example)
p9326
aVMathematicians have their own language which only sometimes bears a passing relationship to English :-)
p9327
aVIt's not just binary trees
p9328
aVIn mathematics, two structures are isomorphic if their properties are preserved regardless of their expression (you can have a function that translates A to B and another from B to A without loss of information)
p9329
aVFor your particular case, it's the information in the tree that's preserved
p9330
aVFor example, if that information is the sorted elements , then the tree doesn't have to be the same physical shape at all - the following two would be isomorphic:
p9331
aVA sorted linked list (or sorted array, for that matter) is also isomorphic to those since, in that case, no information would be lost in the transformations between the two
p9332
aVIf the binary tree was used in a manner where sort order was irrelevant (i
p9333
ag75
aV, a "bag" sort of container), then the information would just be the contents in any order, and all the following would be isomorphic (that second last one's just a bag, the last is a list):
p9334
aVOf course, an unsorted tree may be considered to be a bit of a waste depending on your needs, but that's not relevant to this particular discussion
p9335
as(dp9336
g16
V14860
p9337
stp9338
a((dp9339
g2
(lp9340
VI think you've hit the nail on the head with your last statement
p9341
aVIf not every  has a , then you can gain memory saving by using a pointer (null for those s without a )
p9342
aVThis is unlikely to be really useful unless the cumulative size of all the unused s is a sizable proportion of the available heap
p9343
aVBut I would change your statement to read "when not all instances of  will have exactly one copy of " for the following reason (and this is the other case you're asking for):
p9344
aVWhere  is a node in a list (that also holds a pointer to another  or null), I would make it a pointer [although you could still embed the first node if all s had to have at least one ]
p9345
aVThe other possibility is sharing s among the s if their nature permits it (such as  being a windows on a screen ), although you'd have to reference-count the s in that case so as to know when to finally free them in your  calls (and, of course, being able to reuse an already-existing  in your  calls)
p9346
as(dp9347
g16
V14860
p9348
stp9349
a((dp9350
g2
(lp9351
VThere are commands in Linux that will beep for you
p9352
aVCheck out the source code for beep available with Ubuntu (and probably other distros) or have a look at http://www
p9353
aVjohnath
p9354
aVcom/beep/beep
p9355
aVc for another source (it's the same code, I believe)
p9356
aVIt allows you to control frequency, length and repetitions (among other things) with ease
p9357
aVTo actually get it to work, you'll need a script which starts your actual worker program in the background, then goes into a  loop, beeping until it finishes
p9358
aVThe following script should be a good start
p9359
aVYou run it with something like:
p9360
aVand it runs the  in the background, beeping every minute until it finishes
p9361
aVThis is how it works
p9362
aVIt runs the arguments as a background process and saves the process ID
p9363
aVThen it loops every couple of seconds, checking for when the minute changes and beeping when that's the case (so the first beep here may be anything up to a minute)
p9364
aVThe exit from the loop happens when the process disappears from the output of
p9365
aVYou can even do beeper sleep 3600 & to put the whole lot in the background
p9366
aVTo stop the beeping, either kill off the beeper process (if you want the work to continue without beeps) or kill of the worker process itself (which will stop both the work and the beeping)
p9367
as(dp9368
g16
V14860
p9369
stp9370
a((dp9371
g2
(lp9372
VI very much doubt C will be faster than Perl unless you were to hand-compile the RE
p9373
aVBy hand-compiling, I mean coding the finite state machine (FSM) directly rather than using the RE engine to compile it
p9374
aVThis approach means you can optimize it for your specific case which can often be faster than relying on the more general-purpose engine
p9375
aVBut that's not something I'd ever suggest to anyone who hasn't had to write compilers or parsers before without the benefit of lex, yacc, bison or other similar tools
p9376
aVThe generalized engines, such as PCRE, are usually powerful and fast enough (for my needs anyway, and those needs have often been very demanding)
p9377
aVWhen using a general RE engine, it needs to be able to handle all sorts of cases whether it's written in C or Perl
p9378
aVWhen you think about which is faster, you only have to compare what the RE engines are written in for both cases (hint: the Perl RE engine is not written in Perl)
p9379
aVThey're both written in C so you should find very little difference in terms of the matching speed
p9380
aVYou may find differences in the support code around the REs but that will be minimal, especially if it's a simple read/match/output loop
p9381
as(dp9382
g16
V14860
p9383
stp9384
a((dp9385
g2
(lp9386
VYour startup items are a combination of your own items and the "All Users" items
p9387
aVYou can find your own with:
p9388
aVand the "All Users" ones (usually) with:
p9389
aVAll you have to do is manipulate the file names to remove the path and the "
p9390
aVlnk" at the end to get the shortcut names
p9391
aVIf you  to those directories first and just do dir, you won't even have to remove the path
p9392
aVUPDATE:
p9393
aVIf, as your comments seem to indicate, you want all things that start when your system starts, they're found all over the place
p9394
aVYou'll want to get a copy of Autoruns (or its command-line brother, Autorunsc, for your purposes)
p9395
aVThis is the best approach since it's "blessed" by Microsoft themselves
p9396
as(dp9397
g16
V14860
p9398
stp9399
a((dp9400
g2
(lp9401
VIf your only concern is cramming too much onto one line, why don't you just use:
p9402
aVI tend to write the second case as:
p9403
aV(even lining up the returns to make it readable) since I like to see as much code on a screen as once (and you can insert other checks in between the lines as needed)
p9404
as(dp9405
g16
V14860
p9406
stp9407
a((dp9408
g2
(lp9409
VI'm not sure you can do this (I've never seen it done) but you could work around it with:
p9410
aVThat's certainly better than introducing a subquery
p9411
aVThe only other way I'd suggest is to create a view giving you the P/Q-type columns (using the formulae above) which would at least simplify the text of the query
p9412
aVThen you could just:
p9413
as(dp9414
g16
V14860
p9415
stp9416
a((dp9417
g2
(lp9418
VIf you're smart, you won't do this
p9419
aVBecause when it comes time to figure out which stores stock the item, your queries will be hideously deformed
p9420
aVSo will those of your stock control application when they try to insert and delete stores
p9421
aVWhat you'll end up with is what I like to call SQL gymnastics, spending more and more time trying to do SQL in the most bizarre way, simply due to a bad design choice
p9422
aVSeriously, store these in different rows in the database, as Codd intended
p9423
aVIt's far easier (and faster in terms of the DBMS grunt) to combine multiple rows into a single semicolon-separated string than to break that string into elements
p9424
aVA schema such as this would suffice:
p9425
as(dp9426
g16
V14860
p9427
stp9428
a((dp9429
g2
(lp9430
VWe developed a (pilot project) plug-in for Eclipse which was then converted to both a standalone RCP application (we didn't want to ship it as a plug-in since we didn't want Eclipse as a pre-req, so we had to add some supporting code making it slightly more complicated than just a simple move into RCP) and into a RIA application using jQuery
p9431
aVDespite the best efforts of the RCP camp, the RIA version took about the same time to develop (even though it was from scratch) and it looked smoother in execution
p9432
aVThe clincher was that there was no install required with the RIA version since all our clients already have application servers and updates are centralized at a server, not each client
p9433
aVThe RCP version has long since been left behind in functionality
p9434
aVAs far as we're concerned, Eclipse is fine as a development environment (for Java, we have no experience with the other languages) but the effort they put into splitting apart the IDE from the GUI (to make RCP possible) is not quite finished
p9435
aVOn the other hand, jQuery seems custom built for that sort of stuff (probably because it was custom built for that sort of stuff)
p9436
aVBoth development and running of applications are very nice
p9437
as(dp9438
g16
V14860
p9439
stp9440
a((dp9441
g2
(lp9442
VThere are plenty of tutorials available on the web but I'm going to take a different tack with my answer
p9443
aVAre you creating these pages to do things the right way or are you creating them for a business purpose
p9444
aVIf the former, by all means learn as much about the CSS-type solutions as you can
p9445
aVYou should be doing that anyway but don't let it get in the way of delivery
p9446
aVIf the latter, I doubt the customer cares how 'pure' the code is behind it, as long as it looks okay
p9447
aVTheir primary concern will be speed of delivery and nice rendering on all the major browsers
p9448
aVThat's the reason why I still use tables for layout on the stuff I deliver to customers
p9449
aVI also only test it on three browsers (I won't say which) since that's all my customers care about
p9450
aVThey really don't care whether Opera on the iPhone (for example) renders correctly since that's not their target market
p9451
as(dp9452
g16
V14860
p9453
stp9454
a((dp9455
g2
(lp9456
VHere's how I'd do it
p9457
aVYou don't need a separate linear search function
p9458
as(dp9459
g16
V14860
p9460
stp9461
a((dp9462
g2
(lp9463
VI don't know SQLServer as well as other DBMS' but I imagine the benefit is the same as with DB2 and Oracle
p9464
aVIf you use Windows authentication, you only have to maintain one set of users and/or passwords, that of Windows, which is already done for you
p9465
aVDBMS authentication means having a separate set of users and/or passwords which must be maintained
p9466
aVIn addition, Windows passwords allow them to be configured centrally for the enterprise (Active Directory) whereas SQLServer has to maintain one set for each DBMS instance
p9467
as(dp9468
g16
V14860
p9469
stp9470
a((dp9471
g2
(lp9472
VContiguous memory is also guaranteed by realloc so that's not a reason not to use it
p9473
aVHowever, I would prefer to use a vector in C++ since it's at a higher level of abstraction, hence it makes the code easier to write
p9474
aVThe only possible reason I can think for using realloc (over vector) for an array-type scenario, is raw speed
p9475
aVIt may be faster
p9476
aVAnd I stress the word "may" - measure, don't guess
p9477
aVHowever, you have to handle your own reallocations, which is more work
p9478
aVI'd rather have code that runs a little slower (assuming it still runs fast enough, of course), if I can deliver it and get paid quicker
p9479
aVI can't answer your second question since my knowledge of STL is not huge
p9480
aVEvery single neuron I have is currently dedicated to storing that 3% of the Java classes that I know about and use regularly :-)
p9481
as(dp9482
g16
V14860
p9483
stp9484
a((dp9485
g2
(lp9486
VThat works fine for me
p9487
aVAre you sure the macro is attached to the right worksheet rather than the workbook (or worse, in a module)
p9488
aVAn easy way to tell is to change it to:
p9489
aVand make sure a message pops up when you change any cell (including the value you should be checking for in your if statement), and also make sure you get two messages when you change cell A15
p9490
as(dp9491
g16
V14860
p9492
stp9493
a((dp9494
g2
(lp9495
VYou'll probably find there's an assertion in winocc
p9496
aVcpp on line 345
p9497
aVHave a look at that source file to see what it's checking for (what you shouldn't be doing), and then stop doing it :-)
p9498
aVIf you don't have the source code, then you'll have to either:
p9499
aVcontact whoever wrote it and find out what the assertion is; or
p9500
aVread the API docs to see if you're doing something wrong
p9501
aVAn assertion is a runtime check that coder use to ensure rules are being followed or unexpected situations are caught before any real damage is done
p9502
aVThings like a doubly linked list becoming corrupt (e
p9503
ag1775
aV, something like assert (x->next->prev
p9504
aV= x), which will assert a problem if node A's previous node doesn't have node A as a next node)
p9505
aVSomething like:
p9506
aV(in my mythical language in case I have the C syntax wrong) at the start of a function will raise an assertion if p1 is equal to NULL
p9507
aVA web search turns up the following at line 345 (see here):
p9508
aVASSERT(m_pCtrlSite
p9509
aV= NULL); // not an OLE control (not yet, at least)
p9510
aVand it looks to be a problem with the fact that you're trying to dynamically create a licensed ActiveX control
p9511
aVThat link also contains a KB number Q151804 which says that it's by design (which means MS probably won't have fixed it) - you need to create the control with a valid license string
p9512
aVOne other comment that I found states:
p9513
aVIt is not sufficient to just create an instance of ActiveX control
p9514
aVAn ActiveX control has to be properly hosted before it can be used
p9515
aVYours isn't
p9516
aVYou need to, say, put it on a dialog and create an instance of that dialog
p9517
aVWithout seeing the rest of your code, it's hard to tell if this is your specific problem, but if your line 345 is the one I think it is, that makes sense - it's complaining that the control site is NULL (i
p9518
ag75
aV, the control is not hosted)
p9519
aVOne final thing to watch out for:
p9520
aVIf your ActiveX control is in a dialog, are you trying to do something to the control before you call the dialog's
p9521
aVThe control will only be initialized after you call  so you cannot play with the control until after that's happened
p9522
aVYou should do this in the dialogs  - at that point, the control should be fully initialized and you can do what you want with it
p9523
aVIf you're trying to use parameters from the dialogs constructor to manipulate the control, you need to store them somewhere in the dialog and transfer them to the control in
p9524
aVThis information was gathered mostly from here
p9525
as(dp9526
g16
V14860
p9527
stp9528
a((dp9529
g2
(lp9530
VHas anyone seen Microsoft's requirements for VS2008 trial
p9531
aVThey are:
p9532
aVComputer with a 1
p9533
aV6 GHz or faster processor
p9534
aV384 MB of RAM or more (768 MB of RAM or more for Windows Vista)
p9535
ag2836
aV2 GB of available hard-disk space
p9536
aV5400 RPM hard drive
p9537
aV1024 x 768 or higher-resolution display
p9538
aVDVD-ROM Drive
p9539
aVAdditional features may require Internet access
p9540
aVFees may apply
p9541
aV5400 RPM hard drive"
p9542
aVNot "5400 RPM or faster hard drive"
p9543
aVDoes this mean my 10K RPM grunters won't work
p9544
aVAnyway, enough ranting
p9545
aVSome things to try:
p9546
aV1/ I don't trust installing from ISOs (your comment on the F drive points to DAEMON tools as a possible problem there)
p9547
aVI also don't trust Microsoft burning utilities
p9548
aVTry burning with a decent program and see if that helps
p9549
aVOr get 7zip and extract all the files from the ISO to an install directory on your hard disk and install it from there
p9550
aV2/ The lack of a license indicates the file was corrupt
p9551
aVThis may have been the downloaded file or the possible fact that you FTP'ed it across in ASCII mode
p9552
aV3/ Check the filesize and md5sum of the ISO against the one you successfully installed on XP
p9553
aV4/ Post the log file (or the errors from it at least) so we can help you out
p9554
as(dp9555
g16
V14860
p9556
stp9557
a((dp9558
g2
(lp9559
VThere are no good rules in terms of comment/code ratios
p9560
aVIt totally depends on the complexity of your code
p9561
aVI do follow one (and only one) rule with respect to comments (I like to stay flexible)
p9562
aVThe code show how things are done, the comments show what is done
p9563
aVSome code doesn't need comments at all, due to it's obviousness: this can often be achieved by use of good variable names
p9564
aVMostly, I'll comment a function then comment major blocks withing the function
p9565
aVI consider this bad:
p9566
aVsince all you're doing there is writing the code thrice
p9567
aVI would prefer something like:
p9568
as(dp9569
g16
V14860
p9570
stp9571
a((dp9572
g2
(lp9573
VThe  command will give you the process information, assuming you're root
p9574
aVThen you will have to kill the "offending" process which may well start up again just to annoy you :-)
p9575
aVWhat are you actually trying to achieve here
p9576
aVSolutions will vary based on the processes holding those ports
p9577
as(dp9578
g16
V14860
p9579
stp9580
a((dp9581
g2
(lp9582
VI don't believe this is something Java supplies
p9583
aVFor a start, it breaks the platform-independent nature
p9584
aVI can see two ways to approach it, both assuming you're running under a UNIX-type system
p9585
aVprovide a JNI which will call  and return it
p9586
aVuse system or one of the Runtime methods to run an external program which will call  to get the PID of its parent (i
p9587
ag75
aV, Java), or worse case, walk up the process tree until you find Java itself
p9588
as(dp9589
g16
V14860
p9590
stp9591
a((dp9592
g2
(lp9593
VDon't do anything
p9594
aVIf all you care about is whether the light is on or not:
p9595
aVOtherwise you should enumerate all your states
p9596
aVIf the other states are not allowed, you should error
p9597
aVIf they're allowed but irrelevant, just ignore them
p9598
aVWith properly designed code, there is no problem
p9599
aVYou're main problem here lies in a design that can have Light
p9600
aVOn and Light
p9601
aVOff set at the same time
p9602
aVYou should be using a state Light
p9603
aVState which is set to one of {on,  flickering, off, broken, unplugged, exploded, emitting_dangerous_gamma_rays} and so on
p9604
as(dp9605
g16
V14860
p9606
stp9607
a((dp9608
g2
(lp9609
VA primary key is better if it's never going to change
p9610
aVYou can change a primary key as long as you update all references to it but it's a bit of a pain
p9611
aVSometimes there's no natural non-changing column in a table and, in that case, a surrogate is useful
p9612
aVBut, if you have a natural non-changing value (like an employee ID that's never recycled or a set of roles that you never expect to change), it's better to use that
p9613
aVOtherwise, you're introducing complexity to cater for something with a minuscule chance of happening
p9614
aVThat's only my opinion, my name isn't Codd or Date, so don't take this as gospel
p9615
as(dp9616
g16
V14860
p9617
stp9618
a((dp9619
g2
(lp9620
VIt fails with floats because you're passing in European type numbers (1
p9621
aV000
p9622
aV000,25 for a million and a quarter)
p9623
aVThe function you've given should work if you just change over commas and periods
p9624
aVI'd test the current version first with 1000000
p9625
aV25 to see if it works with non-European numbers
p9626
aVThe following awk script can be called with  and it will show you both the "normal" and European version in action
p9627
aVIt outputs:
p9628
aVObviously, you're only interested in the functions, real-world code would use the input stream to pass values to the functions, not a fixed string
p9629
aVThe functions are identical except in their handling of commas and periods
p9630
aVWe'll call them separators and decimals in the following description:
p9631
aVgsub removes all of the existing separators since we'll be putting them back
p9632
aVpoint finds where the decimal is since that's our starting point
p9633
aVif there's no decimal, the if-statement starts at the end
p9634
aVwe loop while there's more than three characters left
p9635
aVinside the loop, we adjust the position for inserting a separator, and insert it
p9636
aVonce the loop is finished, we return the adjusted value
p9637
as(dp9638
g16
V14860
p9639
stp9640
a((dp9641
g2
(lp9642
VYou're not losing it in the assignment but in the echo
p9643
aVYou can see this clearly if you:
p9644
aVYou'll see a similar effect with the following script:
p9645
aVwhich outputs:
p9646
aVAnd, irrelevant to your question but I'd like to mention it anyway, I prefer to use the $() construct rather than backticks, just for the added benefit of being able to nest commands
p9647
aVSo your script line becomes:
p9648
aVNow that may not look any different (and it isn't) but it makes possible more complex commands like:
p9649
as(dp9650
g16
V14860
p9651
stp9652
a((dp9653
g2
(lp9654
VYou've actually got a couple of problems with that script
p9655
aVThe major one is that ipconfig will output "\u005cr" characters at the end of the line which stuffs up the calculation
p9656
aVAnother is that you're not allowing for multiple NICs, hence my  addition
p9657
aVYou'll need to select which NIC you want a little more intelligently
p9658
aVAnd finally, I stripped out the leading space (actually all spaces) from the front of the IP address
p9659
aVThe following works for me:
p9660
aVoutputting:
p9661
aVActually, my version output the following:
p9662
aVso you'll need to watch out for that
p9663
aVI'm no stranger to dummying up the output to impress/cajole management :-)
p9664
aVUSEFUL SNIPPET:
p9665
aVThe  at the top of the script (when un-commented) is ideal for finding these sorts of errors
p9666
aVIt outputs each line after all the substitutions but before executing, so that you can see exactly what's going on
p9667
as(dp9668
g16
V14860
p9669
stp9670
a((dp9671
g2
(lp9672
VI can't vouch for Ruby but most of these languages follow the C idiom of file I/O
p9673
aVThat means there's no way to do what you ask other than searching
p9674
aVThis usually takes one of two approaches
p9675
aVStarting at the start of the file and scanning it all, remembering the most recent 25 lines
p9676
aVThen, when you hit end of file, print them out
p9677
aVA similar approach but attempting to seek to a best-guess location first
p9678
aVThat means seeking to (for example) end of file minus 4000 characters, then doing exactly what you did in the first approach with the proviso that, if you didn't get 25 lines, you have to back up and try again (e
p9679
ag1775
aV, to end of file minus 5000 characters)
p9680
aVThe second way is the one I prefer since, if you choose your first offset wisely, you'll almost certainly only need one shot at it
p9681
aVLog files still tend to have fixed maximum line lengths (I think coders still have a propensity for 80-column files long after their usefulness has degraded)
p9682
aVI tend to choose number of lines desired multiplied by 132 as my offset
p9683
aVAnd from a cursory glance of Ruby docs online, it looks like it does follow the C idiom
p9684
aVYou would use  if you were to follow my advice, then read forward from there
p9685
as(dp9686
g16
V14860
p9687
stp9688
a((dp9689
g2
(lp9690
VBear with me, this will take awhile :-)
p9691
aVThink of a simple address book where you just add records on the end as new friends or colleagues arrive (the next entry would go at 5):
p9692
aVNow you need to find someone's address
p9693
aVNo trouble, I hear you say, just scan the list looking for the name, then read off the address
p9694
aVNow, what if you're so stunningly popular that you have 1,024 friends like me (I'm such a geek, I only allocate friends in powers of two - I actually have 2,024 but 1,000 of them are being held in limbo unitl I can get another 24 together :-)
p9695
aVIn order to find a particular friend, you'd have to scan, on average, 512 entries (half of those in use)
p9696
aVThat's quite tedious
p9697
aVThe worst case is scanning all 1,024 of them to find the last person you added
p9698
aVNow let's add that index
p9699
aVEvery time you add a new friend/colleague (or delete them if they cause you too much trouble), you update this index which stores just the name in sorted order along with the line number of the full entry (the index pages in your address book are magic and auto-sort everything you write in them)
p9700
aVThe index for out mini-list above would be:
p9701
aVThe names and line numbers take up less space than the full entries but the most important aspect is this
p9702
aVIn order to find an entry, you only have to scan, worst case, 10 entries (log21024)
p9703
aVFirst, you check index number 512
p9704
aVIf the name you're looking for is greater than that, you only have to look at entries 513-1024
p9705
aVIf it's less, you're now only interested in entries 1-511
p9706
aVIn either case, you've immediately cut down your search space by half
p9707
aVWith the original method, you can only discard the one you check since you don't have the ordering information available to you
p9708
aVSo the size of the search space goes like this (I've actually used powers of two for the indexed method but it's slightly better than that):
p9709
aVOnce you've found the index, extract the line number from it and, because you know you've got 16 entries per page, entry number 275 (for example) is on page 18, line 4
p9710
aVYou can go straight there without further searching
p9711
aVSo, at the cost of a little more storage space and some time maintaining the index, you've greatly increased the speed of your searches
p9712
aVAnd that's what indexes do in databases as well
p9713
as(dp9714
g16
V14860
p9715
stp9716
a((dp9717
g2
(lp9718
VHave you tried:
p9719
aVwith the quotes
p9720
aVAnd, responding to your statement that it doesn't work: au contraire, mon ami
p9721
aVThe following two files run fine on my IE8 install, using the files :
p9722
aVand :
p9723
aVWhen I load , I can move to  with the link, then the button moves back to
p9724
aVThis works in all three compatibility modes, ergo it must be a setting on your browser which is affecting this
p9725
aVOne thing I had to do to get this to work was to go to  and select , so it's almost certainly a security setting in your browser which is causing you grief
p9726
as(dp9727
g16
V14860
p9728
stp9729
a((dp9730
g2
(lp9731
VThe  variable is a pointer to a  structure which is never being initialized, so it's set to NULL (since it's at file scope)
p9732
aVYou're de-referencing it at the call from  to
p9733
aVFor help beyond that, you'll need to tell us, in English, what you're trying to achieve
p9734
as(dp9735
g16
V14860
p9736
stp9737
a((dp9738
g2
(lp9739
VThe command you're looking for is:
p9740
aVwhere  is the name of the table and  is the name of the column, but there's a few things you may need to do first
p9741
aVIf there are any foreign key references to the column, you'll need to get rid of them first
p9742
aVIf there's an index using that column, you'll need to either get rid of it or adjust it to not use that column
p9743
aVKeep in mind that the performance of this command may not necessarily be good
p9744
aVOne option is to wait for a down-time period when you can be certain no-one will be accessing the database, rename the current table, then use  and  to transfer the columns you don't want deleted
p9745
aVOne of the later releases of Oracle actually has a soft delete which can just marks a column as unused without removing it physically
p9746
aVIt has the same effect since you can no longer reference it and there's a command along the lines of  which is meant to be run in quiet time, which does the hard work of actually removing it physically
p9747
aVThis has the advantage of "disappearing" the columns immediately without dragging down database performance during busy times
p9748
as(dp9749
g16
V14860
p9750
stp9751
a((dp9752
g2
(lp9753
VOctal is base 8 (using digits 0-7) so each digit is 3 bits:
p9754
aV\u005c0354 = 11 101 100
p9755
aVHexadecimal is base 16 (using digits 0-9,A-F) and each digit is 4 bits:
p9756
aV\u005cx23 = 0010 0011
p9757
aVInside C strings (char arrays/pointers), they are generally used to encode bytes that can't be easily represented
p9758
aVSo, if you want a string which uses ASCII codes like STX and ETX, you can do:
p9759
as(dp9760
g16
V14860
p9761
stp9762
a((dp9763
g2
(lp9764
VYou may need to connect multiple times:
p9765
aVAlternatively, you should be able to put all your commands in a separate file such as  and use:
p9766
as(dp9767
g16
V14860
p9768
stp9769
a((dp9770
g2
(lp9771
VCHARs are still faster for processing than VARCHARs in the DBMS I know well
p9772
aVTheir fixed size allow for optimizations that aren't possible with VARCHARs
p9773
aVIn addition, the storage requirements are slightly less for CHARS since no length has to be stored, assuming most of the rows need to fully, or near-fully, populate the CHAR column
p9774
aVThis is less of an impact (in terms of percentage) with a CHAR(30) than a CHAR(4)
p9775
aVAs to usage, I tend to use CHARs when either:
p9776
aVthe fields will generally always be close to or at their maximum length (stock codes, employee IDs, etc); or
p9777
aVthe lengths are short (less than 10)
p9778
aVAnywhere else, I use VARCHARs
p9779
as(dp9780
g16
V14860
p9781
stp9782
a((dp9783
g2
(lp9784
VIf it's not homework, you shouldn't be using REs
p9785
aVThe following C code should be a good start
p9786
ag5385
aVUsing your test data:
p9787
aVwe get the following results:
p9788
as(dp9789
g16
V14860
p9790
stp9791
a((dp9792
g2
(lp9793
VMy opinion is that YAGNI applies to everything, coding, database design, work around the house (my wife disagrees with me vehemently on this one), and so on
p9794
aVEvery DBMS-based application I've ever worked on has had updates regularly to the scema so this should be planned for in processes
p9795
aVThe DBAs won't like the "release often" part of your proposal since that's more work for them (or you if it's a non-DBA database)
p9796
aVBut that's what they're there for
p9797
as(dp9798
g16
V14860
p9799
stp9800
a((dp9801
g2
(lp9802
VThe garbage collector should have no trouble cleaning up your old tree objects, so I can only assume there's some other allocation that you're doing that's not being cleaned up
p9803
as(dp9804
g16
V14860
p9805
stp9806
a((dp9807
g2
(lp9808
VAssuming they're of the right format already:
p9809
aVMake sure you don't mean
p9810
aVI've left it as one in case you have a filler byte
p9811
as(dp9812
g16
V14860
p9813
stp9814
a((dp9815
g2
(lp9816
VThe first one will work fine
p9817
aV100 will be converted to a float, and IEE754 can represent all integers exactly as floats, up to about 223
p9818
aVThe second one will also work but will be converted into an integer first, so you'll lose precision (that's unavoidable if you're turning floats into integers)
p9819
as(dp9820
g16
V14860
p9821
stp9822
a((dp9823
g2
(lp9824
VThe XP Home EULA states:
p9825
ag2193
aV1 Installation and use
p9826
aVYou may install, use, access, display and run one copy of the Software on a single computer, such as a workstation, terminal or other device ("Workstation Computer")
p9827
aVThe Software may not be used by more than one processor at any one time on any single Workstation Computer
p9828
aVwhich specifically says "one copy"
p9829
aVInterestingly, though, it appears to prohibit running XP Home on a multi-processor PC, which is news to me
p9830
aVThe equivalent for XP Professional states:
p9831
aVYou may install, use, access, display and run one copy of the Product on a single computer,
p9832
aVsuch as a workstation, terminal or other device (\u201cWorkstation Computer\u201d)
p9833
aVThe Product may not be used by more than two (2) processors at any one time on any single Workstation Computer
p9834
aVThat still limits you to one license for the host and another for the VM (and causes consternation for 4-way CPUs (probably not quad-cores since it's arguable that's a single CPU))
p9835
aVDisclaimer: I am not a lawyer
p9836
as(dp9837
g16
V14860
p9838
stp9839
a((dp9840
g2
(lp9841
VAn IEEE754 8-byte double can represent any 4-byte integer, simply because it has 53-odd bits available for precision (and the 4-byte integer only needs 32)
p9842
aVIt would be plausible for a 64-bit floating point number to have less than 32 bits of precision
p9843
aVThat would allow truly huge numbers (due to the exponent) but at the cost of precision
p9844
aVThe bottom line is that, provided there are more bits of precision in the mantissa of the floating point number than there are in the integer (and enough bits in the exponent to scale it), then it can be represented without loss of precision
p9845
as(dp9846
g16
V14860
p9847
stp9848
a((dp9849
g2
(lp9850
VI would use levels of linked lists
p9851
aVEach node would have a pointer to its:
p9852
aVWithin each level, messages would be sorted in the list by vote count (or whatever other score you wanted to use)
p9853
aVThat would give you maximum flexibility for moving things around and you could move whole sub-trees (e
p9854
ag1775
aV, ) just by changing the links at the parent and that level
p9855
aVFor example, say  gets a influx of votes that makes it more popular than
p9856
aVThe changes are (adjusting both the next and previous sibling pointers):
p9857
aVto get:
p9858
aVIf it continues until it garners more votes than , the following occurs:
p9859
aVAND the first-child pointer of  is set to  (it was ), still relatively easy, to get:
p9860
aVRe-ordering only needs to occur when a score change results in a message becoming more than its upper sibling or less than its lower sibling
p9861
aVYou don't need to re-order after every score change
p9862
as(dp9863
g16
V14860
p9864
stp9865
a((dp9866
g2
(lp9867
VI don't know MSSQL specifically, but 36 million rows is not large to an enterprise database - working with mainframe databases, 100,000 rows sounds like a configuration table to me :-)
p9868
aVWhile I'm not a big fan of some of Microsoft's software, this isn't Access we're talking about here: I assume they can handle pretty substantial database sizes with their enterprise DBMS
p9869
aVI suspect days may have been too fine a resolution to divide it up, if indeed it needs dividing at all
p9870
as(dp9871
g16
V14860
p9872
stp9873
a((dp9874
g2
(lp9875
VIdeally, have a keyword table containing the fields:
p9876
aVwith an index on Keyword
p9877
aVCreate an insert/update/delete trigger on the other table so that, when a row is changed, every keyword is extracted and put into (or replaced in) this table
p9878
aVYou'll also need a table of words to not count as keywords (if, and, so, but,
p9879
aVIn this way, you'll get the best speed for queries wanting to look for the keywords and you can implement (relatively easily) more complex queries such as "contains Java and RCA1802"
p9880
aVqueries will work but they won't scale as well
p9881
as(dp9882
g16
V14860
p9883
stp9884
a((dp9885
g2
(lp9886
VYou need to process the output from a  to a  first with a dummy page count
p9887
aVThen create a  from that , calling  to get the actual page count
p9888
aVThen recreate the PDF output, knowing what the page count will be, changing the footer accordingly
p9889
aVIt's messy, I know, but there's no easy way to know the page count until after you've generated the PDF, hence the two-pass approach
p9890
as(dp9891
g16
V14860
p9892
stp9893
a((dp9894
g2
(lp9895
VIt stops certain libraries from being used in conjunction with other libraries
p9896
aVFor example, the  library has an entry disallowing  (since putting the debug and release versions of that library in the same executable will cause all sorts of problems)
p9897
aVI'm not sure it's actually a linker switch, though I've never tried it (it's not documented as such in any of the linker versions from the various Visual Studio releases)
p9898
aVIt is possible to insert:
p9899
aVin your source files so it's possible the linker may allow it as well
p9900
aVWhere you do find it is within the libraries
p9901
aVIf you execute:
p9902
aVyou'll see something like:
p9903
aVin the output, meaning that the "command" is part of the library contents itself
p9904
as(dp9905
g16
V14860
p9906
stp9907
a((dp9908
g2
(lp9909
VI don't consider it bad practice
p9910
aVUnit tests can do whatever they want: assert, log to files, send insulting SMS messages to management, anything
p9911
aVThe possible problem is that added complexity may change the behavior of the program under test but that's rarely the case if you're being careful, and can be discovered anyway
p9912
as(dp9913
g16
V14860
p9914
stp9915
a((dp9916
g2
(lp9917
VIf you're talking about Vim (and you should be :-), you can start marking text with the  command, then you have all the standard cursor movement commands (and, as you know, there are a lot of them) which will extend the selection, as well as moving the cursor
p9918
aVThen you just do whatever you want with the selected text
p9919
aVSee here for the gory details
p9920
as(dp9921
g16
V14860
p9922
stp9923
a((dp9924
g2
(lp9925
VI've learnt from many years experience with threads that there are a couple of rules that, if followed, make life a lot easier
p9926
aVThe one pertinent to this question is:
p9927
aVlet threads control their own resources, including their lifetime
p9928
aVI wouldn't abort a thread, I'd simply set up a communications method between the threads creator and the thread itself to signal the thread to terminate, and then let the thread itself shut down
p9929
aVThis method can often be as simple as a write-by-creator/read-by-thread flag which controls the threads main loop
p9930
aVIf the thread has long running tasks while in the loop, you should also check periodically
p9931
aVThen the creator thread should just join until the thread exits
p9932
aVProperly designed, you can set an upper limit to the time this will take
p9933
as(dp9934
g16
V14860
p9935
stp9936
a((dp9937
g2
(lp9938
VYou simply append them before passing them to the network interface
p9939
aVSomething along the lines of:
p9940
aVIf they're not all strings, you'll need to encode them as such
p9941
as(dp9942
g16
V14860
p9943
stp9944
a((dp9945
g2
(lp9946
VI'll keep it short and simple
p9947
aVI don't want to rain on your parade but, commercially, I think maintaining SANOS is a waste of time
p9948
aVThe landscape is littered with the corpses of FOSS projects that were a good idea but turned out to be unnecessary or never gathered enough support
p9949
aVYou may get a small cadre of people working on a project like this but to what end
p9950
aVWhere are the installed bases for BeOS, Haiku, ReactOS et al
p9951
aVLet's be clear
p9952
aVLinux is so far ahead in terms of development effort that those other projects would take decades of effort just to catch up
p9953
aVI'm not talking about technical merit here (although that may be the case as well) but penetration into the mindsets of business
p9954
aVAnd business is, unfortunately, where the money comes from
p9955
aVThose four bullet items you list are already available in Linux so what would be gained by adding them to another operating system - people can just use Linux
p9956
aVTo answer your specific questions (be aware that much of this answer is my opinion - my wife will be happy to tell you, frequently and without much prompting, that I've been wrong before -:)
p9957
ag2193
aVDoes anyone here have experiences they would like to share using SANOS
p9958
aVNo, I'd never actually heard of it until this question popped up on SO (which should go a little towards justifying my statements that it will likely never be important in the grand scheme of things)
p9959
ag2836
aVWhat is the most expedient way to attract others who would like to contribute time to make it better
p9960
aVThis is a good start since you've made a large community of geeks aware of it
p9961
aVI'd shop it around some more, you need to get the size of that cadre up
p9962
ag6296
aVIn what ways is it better than either the kernel used in BSD and/or Linux
p9963
aVNo idea
p9964
aVI have zero interest in this project since I'm more concerned with running a business and spending time with the family than donating my time for free to a project that I think will go nowhere (I'm not trying to be obnoxious or condescending there, that's my actual belief)
p9965
aVGiven it's minimalist approach, it's possible that it could be faster
p9966
aV4
p9967
aVIs there merit in porting Ruby to this platform
p9968
aVOther than as an exercise in porting, probably not
p9969
aVThe Ruby crowd are not going to swarm across to SANOS just because you make it available
p9970
aVThey have to earn a living as well
p9971
as(dp9972
g16
V14860
p9973
stp9974
a((dp9975
g2
(lp9976
VThe Perl statement:
p9977
aVwhich, at the suggestion of the original author (Randal Schwartz himself, who said he disliked it but nothing else was available at the time), was replaced with something a little more understandable:
p9978
aVBeyond that one-liner, some of the Java JDBC libraries from IBM are obfuscated and all variables and functions are either combinations of the letter 'l' and '1' or single/double characters - very hard to track anything down until you get them all renamed
p9979
aVNeeded to do this to track down why they worked fine in IBM's JRE but not Sun's
p9980
as(dp9981
g16
V14860
p9982
stp9983
a((dp9984
g2
(lp9985
VYou're not forced to use every feature a language provides
p9986
aVI don't use setjmp/longjmp in C despite it being there
p9987
aVI also don't use every aspect of the Java collections
p9988
aVIf you think the new features will make your code delivery better (faster or higher quality or both), then use them
p9989
aVOtherwise ignore them
p9990
aVIt's useful to know at a high level what they all are, if only to get you through job interviews, but half the stuff they add to languages are unnecessary in my opinion
p9991
aVI never even got around to using C++ templates before switching to Java, but I knew what they were for
p9992
aVIt's not always about learning the latest and greatest
p9993
aVSoftware (at least at your job) is about delivery of product
p9994
aVThat can be done in COBOL or FORTRAN if you're proficient enough at it
p9995
as(dp9996
g16
V14860
p9997
stp9998
a((dp9999
g2
(lp10000
VHere's a critique since I don't believe in giving code for homework
p10001
aVBut you have at least tried which is better than most of the clowns posting homework here
p10002
aVyou need two variables, one for storing cat occurrences, one for dog, or a way of telling the difference
p10003
aVyour substring isn't getting enough characters
p10004
aVa string can never be both cat and dog, you need to check them independently and update the right count
p10005
aVyour return statement should return true if catcount is equal to dogcount, although your version would work if you stored the differences between cats and dogs
p10006
aVOther than those, I'd be using string searches rather than checking every position but that may be your next assignment
p10007
aVThe method you've chosen is perfectly adequate for CS101-type homework
p10008
aVIt should be reasonably easy to get yours working if you address the points I gave above
p10009
aVOne thing you may want to try is inserting debugging statements at important places in your code such as:
p10010
aVimmediately before the closing brace of the  loop
p10011
aVThis is invaluable in figuring out what your code is doing wrong
p10012
aVHere's my ROT13 version if you run into too much trouble and want something to compare it to, but please don't use it without getting yours working first
p10013
aVThat doesn't help you in the long run
p10014
aVAnd, it's almost certain that your educators are tracking StackOverflow to detect plagiarism anyway, so it wouldn't even help you in the short term
p10015
aVNot that I really care, the more dumb coders in the employment pool, the better it is for me :-)
p10016
as(dp10017
g16
V14860
p10018
stp10019
a((dp10020
g2
(lp10021
VI couldn't recognize the difference between C# and a bar of soap (well, I couldn't when I originally wrote this answer, things have changed quite a bit in the years since) but, if you're looking for a more concise solution, I would just put the whole thing in a function - there's little that will be more concise in your code than a simple call to said function:
p10022
aVThen you can put whatever you want in the function and just document how it works, such as (assuming these are all integer operations):
p10023
aVYou may also need some extra checks if secBase goes to 60 (unless C# DateTime objects are smart enough to bump up the minute (and hour if minute goes to 60, and so on)
p10024
as(dp10025
g16
V14860
p10026
stp10027
a((dp10028
g2
(lp10029
VIdeas
p10030
aVYou could start by telling us which web/app server you're using, that might help :-)
p10031
aVIn Apache, you should be able to use a RewriteRule to morph the request into a different form
p10032
aVFor example, turning  into  could be done with something like:
p10033
aVKeep in mind this is from memory (six years since I touched Apache and still clean :-), the format may be slightly different
p10034
aVUpdate:
p10035
aVNow you've got that sorted, here's a couple of options for your next problem
p10036
aV1/ Rename the PDFs to have a different extension so that they're not caught by the rewrite rule
p10037
aVThey should be configured to push out the same MIME type to the client so that they open in the clients choice of viewer
p10038
aV2/ Do the download as part of the script as well, not as a direct access to the PDF
p10039
aVSince the submission of the form is a HTTP request, you should be able to answer it immediately with the PDF contents rather than re-directing them again to the download page
p10040
aVThat second option would be my choice since it:
p10041
aVstops people figuring out they can get to the PDFs just by requesting xx
p10042
aVpdfx instead of xx
p10043
aVpdf
p10044
aVmakes it quicker for the person to get the PDF (they don't have to click on the link again)
p10045
as(dp10046
g16
V14860
p10047
stp10048
a((dp10049
g2
(lp10050
VWhen you lifted that code from here :-), you renamed the class but not the constructor
p10051
aVOnly constructors are allowed to not have return types
p10052
aVI suggest you either rename the class back or rename the constructor
p10053
aVI hope this isn't homework
p10054
aVAs it stands, your educator would have an easy time proving plagiarism
p10055
aVYou'll need to at least change the variable names as well as class names, you might want to also reformat it a bit including changing the order of methods in the class
p10056
aVThat's if it's homework
p10057
aVWhich it's not, right
p10058
aV:-)
p10059
as(dp10060
g16
V14860
p10061
stp10062
a((dp10063
g2
(lp10064
VThis is a common technique to ensure all constructors go through a single point so you only have to change that point (it may have other uses but I'm not aware of them)
p10065
aVI've seen it in things that use default arguments such as:
p10066
aVBear with the syntax, I don't have ready access to a compiler here but the basic intent is to centralize as much code as possible in that first constructor
p10067
aVSo if, for example, you add a check to ensure the denominator is greater than zero or the numerator and denominator are reduced using a greatest common divisor method, it only has to happen at one point in your code
p10068
as(dp10069
g16
V14860
p10070
stp10071
a((dp10072
g2
(lp10073
V makes no sense in terms of big-O notation since it's meant to measure the complexity as a ratio of the argument
p10074
aVDividing by 4 has no effect since that changes the value of the ratio but not its nature
p10075
aVAll of these are equivalent:
p10076
aVOther terms only make sense when they include an  term, such as:
p10077
aVAs Anthony Kanago rightly points out, it's convention to:
p10078
aVonly keep the term with the highest growth rate for sums:
p10079
aVget rid of constants for products:
p10080
aVAs an aside, I don't always agree with that first rule in all cases
p10081
aVIt's a good rule for deciding the maximal growth rate of a function but, for things like algorithm comparison(a) where you can intelligently put a limit on the input parameter, something like  is markedly worse than just
p10082
aVIn that case, any term that depends on the input parameter should be included
p10083
aVIn fact, even constant terms may be useful there
p10084
aVCompare for example  against  - the latter will outperform the former for quite a while, until  becomes large enough to have an effect on the constatnt term
p10085
aV(a) There are, of course, those who would say it shouldn't be used in such a way but pragmatism often overcomes dogmatism in the real world :-)
p10086
as(dp10087
g16
V14860
p10088
stp10089
a((dp10090
g2
(lp10091
VShould it
p10092
aVNo
p10093
aVSQL is a relational algebra and the DBMS should optimize irrespective of order within the statement
p10094
aVDoes it
p10095
aVPossibly
p10096
aVSome DBMS' may store data in a certain order (e
p10097
ag1775
aV, maintain a key of some sort) despite what they've been told
p10098
aVBut, and here's the crux: you cannot rely on it
p10099
aVYou may need to switch DBMS' at some point in the future
p10100
aVEven a later version of the same DBMS may change its behavior
p10101
aVThe only thing you should be relying on is what's in the SQL standard
p10102
aVRegarding the query given: with no indexes or primary key on the two fields in question, you should assume that you'll need a full table scan for both cases
p10103
aVHence they should run at the same speed
p10104
as(dp10105
g16
V14860
p10106
stp10107
a((dp10108
g2
(lp10109
VOne possibility would be to make it a two-stage process but it depends on where the bottleneck is
p10110
aVIf it's Excel, then just turn your recordset rows into a CSV-type file and then, when that's done, create the Excel object and import the entire file into a fixed location
p10111
aVThat's probably going to be faster than a cell-by-cell operation
p10112
aVIf you can't import CSV into a fixed location on the sheet (ot the cells are not in consecutive rows or columns), I'd import the CSV onto a new sheet, then do mass copies from there to your template sheet
p10113
aVMoving ranges should also be faster than cell-by-cell operations
p10114
aVIt's the bulk import and mass copy that should give you some good improvement
p10115
aVI've had worksheets that processed individual cells that sped up by many factors of 10 when you use the more complex Excel functionality (think using =sum(a1
p10116
aVa999) instead of adding up each individual cell in VBA and putting that value somewhere)
p10117
aVAs to how to do the import from VBA, I always rely on the  feature to get a baseline which can be modified (for those I'm not intimately acquainted with)
p10118
aVThis one imports  into the current sheet at :
p10119
aVNow I'm sure most of that rubbish in there could be deleted but you'd be wise to do it one at a time to ensure no problems show up
p10120
aVYou could also modify that with something like the following to use a different sheet
p10121
as(dp10122
g16
V14860
p10123
stp10124
a((dp10125
g2
(lp10126
VPresumably the JBoss
p10127
aVorg team know (it says so right there on hibernate
p10128
aVorg)
p10129
aVTheir web site has a contact us link which I'm sure would be more likely to get an intelligent response from them than the SO swarm :-)
p10130
aVNo offense intended
p10131
aVFor what it's worth, I asked them
p10132
aVLet's see what they come back with
p10133
as(dp10134
g16
V14860
p10135
stp10136
a((dp10137
g2
(lp10138
VIt's hard to tell what you're trying to do from the terse description but third normal form dictates that any column should be dependent on:
p10139
aVthe key
p10140
aVthe whole key
p10141
aVnothing but the key
p10142
aVTo that end, I'd say my initial analysis would generate:
p10143
aVThis is based on my (possibly flawed) analysis that you want to store a location at which zero or more events can happen
p10144
aVIt's good practice to put the events in a separate table since the alternative is to have arrays of columns which is never a good idea
p10145
as(dp10146
g16
V14860
p10147
stp10148
a((dp10149
g2
(lp10150
VThe only recent 6-bit code I'm aware of is base64
p10151
aVThis uses four 6-bit printable characters to store three 8-bit values (6x4 = 8x3 = 24 bits)
p10152
aVThe 6-bit values are drawn from the characters:
p10153
aVwhich are the values 0 thru 63
p10154
aVFour of these (say ) are used to represent three 8-bit values
p10155
aVIf this is how your data is encoded, there are plenty of snippets around that will tell you how to decode it (and many languages have the encoder and decoder built in, or in an included library)
p10156
aVWikipedia has a good article for it here
p10157
aVIf it's not base64, then you'll need to find out the encoding scheme
p10158
aVSome older schemes used other lookup methods of the shift-in/shift-out (SI/SO) codes for choosing a page within character sets but I think that was more for choosing extended (e
p10159
ag1775
aV, Japanese DBCS) characters rather than normal ACSII characters
p10160
as(dp10161
g16
V14860
p10162
stp10163
a((dp10164
g2
(lp10165
VI have to ask why you find it necessary to use the STL libraries from Java
p10166
aVIs there something in them that's not provided by Java's own massive set of libraries
p10167
aVI understand why you'd have to call your own code (and I'm assuming you've profiled the Java code and found it wanting, otherwise your effort is wasted) but you seem to be asking how to call STL stuff directly
p10168
aVWe've often had trouble with JNI and it makes our code less portable, so you have to have a very good reason for wanting to use it in our shop, and you have to prove with hard data, why the Java-supplied stuff is not adequate
p10169
as(dp10170
g16
V14860
p10171
stp10172
a((dp10173
g2
(lp10174
VIt really doesn't matter
p10175
aVTrust me
p10176
aVThe large number of questions on StackOverflow regarding whether this method or that method is faster, belie the fact that, in the vast majority of cases, code spends most of its time sitting around waiting for users to do something
p10177
aVIf you're really concerned, profile it for yourself
p10178
aVBut I think you'll most likely find that only in the most intense data-processing-heavy work does this question matter
p10179
aVThe difference may well be only a couple of seconds and even then, only when processing huge numbers of elements
p10180
aVGet your code working first
p10181
aVThen get it working fast (and only if you find an actual performance issue)
p10182
aVTime spent optimising before you've finished the functionality and can properly profile, is mostly wasted time
p10183
as(dp10184
g16
V14860
p10185
stp10186
a((dp10187
g2
(lp10188
VYour question is a little difficult to understand since you don't really explain what the error is, but I do have one question which I'm sure will be pertinent
p10189
aVWhy is the "father" process killing its child and its parent
p10190
aVShouldn't it kill its child and itself ( and  rather than  which is the parent PID)
p10191
aVThat appears to be the problem
p10192
aVWhen I run that under Cygwin, it kills off my shell (darned annoying)
p10193
aVIf I change it to , it terminates okay after five seconds with the following output:
p10194
aVThis is with the program modified as follows:
p10195
as(dp10196
g16
V14860
p10197
stp10198
a((dp10199
g2
(lp10200
VI would port them to
p10201
aVum
p10202
aVCOBOL
p10203
aVYes, that's it
p10204
aVCOBOL
p10205
aVSorry, couldn't resist
p10206
aVSeriously, there are COBOL compilers for current platforms out there and, unless we know a little more about why the code has to be ported, we may not be able to help
p10207
aVIs the platform on which it runs obsolete
p10208
aVIs management just pushing for a more 'modern' solution
p10209
aVAre you having to move stiff from System z to Windows (ugh
p10210
aVCOBOL (in its purest form, not that OOCOBOL rubbish) is mostly a simple procedural language (ReportWriter notwithstanding) so will translate to any of the other procedural languges fairly well:
p10211
aVC
p10212
aVC++ without classes
p10213
aVJava, although you can't avoid classes unless you have one big honkin' singleton
p10214
aVPascal (swapping one 'dead' language for another)
p10215
aVeven Python, Perl et al can be made to work
p10216
as(dp10217
g16
V14860
p10218
stp10219
a((dp10220
g2
(lp10221
VI understand that it is more secure provided you use different keys
p10222
aVBut don't take my word for it
p10223
aVI'm not a crypto-analyst
p10224
aVI don't even play one on TV
p10225
aVThe reason I understand it to be more secure is that you're using extra information for encoding (both multiple keys and an unknown number of keys (unless you publish the fact that there's two))
p10226
aVDouble encryption using the same key makes many codes easier to crack
p10227
aVI've heard this for some codes but I know it to be true for ROT13 :-)
p10228
aVI think the security scheme used by Kerberos is a better one than simple double encryption
p10229
aVThey actually have one master key whose sole purpose is to encrypt the session key and that's all the master key is used for
p10230
aVThe session key is what's used to encrypt the real traffic and it has a limited lifetime
p10231
aVThis has two advantages
p10232
aVEvil dudes don't have time to crack the session key since, by the time they've managed to do it, those session keys are no longer in use
p10233
aVThose same evil dudes don't get an opportunity to crack the master key simply because it's so rarely used (they would need a great many encrypted packets to crack the key)
p10234
aVBut, as I said, take that with a big grain of salt
p10235
aVI don't work for the NSA
p10236
aVBut then I'd have to tell you that even if I did work for the NSA
p10237
aVOh, no, you won't crack me that easily, my pretty
p10238
aVSemi-useful snippet: Kerberos (or Cerberus, depending on your lineage) is the mythological three-headed dog that guards the gates of Hell, a well-chosen mascot for that security protocol
p10239
aVThat same dog is called Fluffy in the Harry Potter world (I once had a girlfriend whose massive German Shepherd dog was called Sugar, a similarly misnamed beast)
p10240
as(dp10241
g16
V14860
p10242
stp10243
a((dp10244
g2
(lp10245
VNot online (since I'm not aware of any) but why don't you get a simple digital design book and set him to doing some of the exercises
p10246
aVThat's if you want him to really know Boolean algebra
p10247
aVIf you're looking for really good logic games that will stretch the mind, Sherlock was one I used to play a lot
p10248
aVIt's in the vein of Sudoku and Kakuro in that solutions require logic and thinking ahead
p10249
aVAnother was "The Incredible Machine"
p10250
aVI wouldn't have the faintest idea how to get a hold of these now but a web search may turn up something
p10251
as(dp10252
g16
V14860
p10253
stp10254
a((dp10255
g2
(lp10256
VI think the  command is the one you're looking for
p10257
aVIt starts a process separately to the console and it's part of  so no extra software required
p10258
aVBut I was of the opinion that GUI apps did this anyway
p10259
aVMaybe Delphi is different to MSVC
p10260
aVOpen up a console and type
p10261
aVAs  states in the comments, GUI application do generally detach themselves
p10262
aVIt's the actual  shell doing trickery in that it waits for it to finish if it's running from a cmd file
p10263
aVSo  from the prompt will start it in the background but  within a cmd file will wait
p10264
aVWithin the cmd file, you need to use:
p10265
aVor whatever your application is called (not notepad, presumably)
p10266
as(dp10267
g16
V14860
p10268
stp10269
a((dp10270
g2
(lp10271
VTwo obvious problems:
p10272
aV1/ You don't have a
p10273
aV2/ A  will be very hard to write with your current strategy unless you're always going to deallocate in the exact reverse order of allocating
p10274
aVYou'll need to cater for the case where a client wants to deallocate memory in the middle of your used section
p10275
aVOf course, if you do deallocate in reverse order, (2) is not a problem
p10276
aVAnd if you never free memory at all, (1) is also not a problem
p10277
aVIt depends on what you want it to do
p10278
as(dp10279
g16
V14860
p10280
stp10281
a((dp10282
g2
(lp10283
VActually none
p10284
aVAt any point up to the publication of the standard, ISO can change it, since it's subject to the vagaries of the voting process
p10285
aVIn reality, any major feature that's currently in the draft will remain (although tweaking is possible)
p10286
aVThey've already stated that they'll miss their 2009 delivery and ISO is as political a beast as any country, so they'll not want to miss another one
p10287
aVSo while you won't see tuples or threads or other major library changes being removed, there could be minor variations, nothing that will have a major impact on delivery of the standard (and hopefully, timely implementation by the vendors)
p10288
as(dp10289
g16
V14860
p10290
stp10291
a((dp10292
g2
(lp10293
VIt's the time between sending the request and receiving the response
p10294
aVTypically this is only a few milliseconds for localhost or the local network but can be very large (relatively) for satellite transmissions, for example
p10295
aVIf it's likely to be more than one second, you may have to bump up the timeout so as to not detect it as a lost packet
p10296
aVThe following diagram shows you the idea
p10297
as(dp10298
g16
V14860
p10299
stp10300
a((dp10301
g2
(lp10302
VThe System z has HLASM which we use for quite a bit of development
p10303
aVIt adds all sorts of higher-level-language constructs
p10304
aVAs well as HLASM bringing assembly up a bit towards a high-level language, I believe IBM have an internal product based on PL/I which brings C down a bit towards assembly :-)
p10305
as(dp10306
g16
V14860
p10307
stp10308
a((dp10309
g2
(lp10310
VBerkeley DB is available
p10311
aVI'm surprised no-one has mentioned it yet
p10312
aVYou can build it on Windows either with a native or Cygwin toolchain, but it's probably best with MSVC if you're going to be linking it with
p10313
as(dp10314
g16
V14860
p10315
stp10316
a((dp10317
g2
(lp10318
VThe best way is to look for patterns in memory and work it out using offsets
p10319
aVIt's not going to be simple simply because this is the sort of thing game developers want to stop
p10320
aVSo they're not going to have a nice text string saying "Ammo stored 27 bytes before the start of this string"
p10321
aVIf they're doing tricky stuff like moving it around every time the game is run (and I would because I'm devious), you'll need to disassemble their code to find out how they locate the memory
p10322
aVThen you do the same thing
p10323
aVI know, sounds easy and it is
p10324
aVBut based on your past questions, I'm not sure 'H4cKL0rD' is a suitable moniker :-), at least in this case
p10325
aVIf you're uncomfortable with disassemblers, hex editors and such, there's almost certainly a program out there that will do it for you
p10326
as(dp10327
g16
V14860
p10328
stp10329
a((dp10330
g2
(lp10331
VI wrote a learning  (or ) game once
p10332
aVDoes that count
p10333
aVIt basically maintained a 39 element array which was for each game state
p10334
aVAt the end of each game, it would add one to all the states during that game if it had won
p10335
aVOr subtract one if it had lost (including rotations and mirror images for faster learning)
p10336
aVWhen deciding on a move, it only had to consult a few possibilities and choose the one with the highest score
p10337
aVIt ended up getting quite good but not by playing a person, that was taking too long
p10338
aVIt had to be set loose playing another copy of itself, a random bot and a hard-coded rule bot for many, many thousands of games
p10339
aVWhen I unleashed it, it had 10 starting levels of intelligence which were just different stages during its learning process
p10340
aVMy son is currently playing against the dumbest level - he's only four years old so I don't want to be too rough on him, so they'll learn together (although he occasionally beats me at , so maybe I should put some more pressure on him)
p10341
as(dp10342
g16
V14860
p10343
stp10344
a((dp10345
g2
(lp10346
VIt's because you're not using quotes in your  statement
p10347
aVWhen you enter  as your input, the two different variants (unquoted and quoted) are equivalent to:
p10348
aVThe first of those simply sets  to  and  to  (twice
p10349
aVThe second sets  to
p10350
aVThat's because  lets you do multiple assignments like:
p10351
aVSo you need to use the quoted variant of
p10352
aVExamine the following transcript to see how it works:
p10353
aVThe reason you're getting the error you describe with input of  is because you're effectively executing:
p10354
aVand  is taking this to mean that you want to create the variable  set to  followed by the variable , which doesn't start with a letter, hence not allowed
p10355
aVWith the quoted variant, this becomes:
p10356
aVwhich will do what you expect
p10357
as(dp10358
g16
V14860
p10359
stp10360
a((dp10361
g2
(lp10362
VYes, it will always be on the root node simply because:
p10363
aVthat's the only place you can put it in an empty tree; and
p10364
aVyou're not moving it
p10365
aVOf course, you can delete it which will result in another node becoming the root but that doesn't move the original first node elsewhere in the tree
p10366
aVThe degenerate case for an unbalanced binary tree is a linked list, which has a search time complexity of O(n)
p10367
as(dp10368
g16
V14860
p10369
stp10370
a((dp10371
g2
(lp10372
VDepending on the DBMS but stored procedures aren't usually locked, rows in the database tables are locked and that's what prevents two stored procs from interfering with each other
p10373
aVThat has a finer granularity of locking so is less likely to cause contention
p10374
aVRe differences between SQLServer and MySQL, I wouldn't know at the lower level - they may well do vastly different things
p10375
aVBut they will be identical in terms of the SQL standard (otherwise they'd be pretty useless)
p10376
as(dp10377
g16
V14860
p10378
stp10379
a((dp10380
g2
(lp10381
VIt's often because you don't get the full environment when running under cron
p10382
aVBest bet is to capture the ouput by using the command:
p10383
aVand then have a look at
p10384
aVIf it does turn out to be a missing environment, then you may need to put:
p10385
aVor something similar, into the execution chain of your cron job, such as:
p10386
as(dp10387
g16
V14860
p10388
stp10389
a((dp10390
g2
(lp10391
VCollision detection for arbitrary shapes is usually quite tricky since you have to figure out if any pixel collides
p10392
aVThis is actually easier with circles
p10393
aVIf you have two circles of radius r1 and r2, a collision has occurred if the distance between the centers is less than r1+r2
p10394
aVThe distance between the two centers (x1,y1) and (x2,y2) can be calculated and compared as:
p10395
aVOr, as jfclavette points out, square roots are expensive so it may be better to calculate using just simple operations:
p10396
aVThe tricky bit comes in calculating the new movement vectors (the rate at which (x,y) changes over time for a given object) since you need to take into account the current movement vectors and the point of contact
p10397
aVI think as a first cut, you should just reverse the movement vectors to test if the collision detection works first
p10398
aVThen ask another question - it's better to keep individual questions specific so answers can be targeted
p10399
as(dp10400
g16
V14860
p10401
stp10402
a((dp10403
g2
(lp10404
VIn most of the scripts I write, I allow both with the command line parameters taking preference
p10405
aVThis is to allow 'lazy' users who want to set'n'forget the parameters to do so
p10406
aVIt also allows over-riding of those parameters in special cases by the command line
p10407
aVFor those that don't want to take the chance that their parameters might be set up incorrectly, they can just use parameters
p10408
aVSometimes I'll even have more levels in the hierarchy, in order of precedence:
p10409
aVValue set while program running
p10410
aVCommand-line parameter
p10411
aVEnvironment variable
p10412
aVLocal config file
p10413
aVGlobal config file
p10414
aVDefault
p10415
aVThat way, for each variable, you just work your way up that list, setting it to the relevant value, if it's there
p10416
as(dp10417
g16
V14860
p10418
stp10419
a((dp10420
g2
(lp10421
VI don't think that code will even compile (missing  from  for a start)
p10422
aVI suggest you post your real code
p10423
aVHowever, why do you not just initialize the stack on the first constructor call (with thread protection if you're running in a multithreaded environment of course)
p10424
aVThat seems to be a much cleaner way of doing it, something like (untested):
p10425
as(dp10426
g16
V14860
p10427
stp10428
a((dp10429
g2
(lp10430
VHere's the help
p10431
aVTry to follow these as much as possible before looking at my solution below
p10432
aVThat will help you out more in the long run, and in the short runsince it's a certainty that your educator can see this as easily as you can
p10433
aVIf he finds you've plagiarized code, it will probably mean an instant fail
p10434
aVYour "failed attempt" as you put it is here
p10435
aVIt's actually not too bad for a first attempt
p10436
aVAnd here's the hints:
p10437
aVYou have two loops, one inside the other, each occurring 7 times
p10438
aVThat means 49 lines of output rather than 7
p10439
aVYou want to process each day and look up up name and phone for that day (actually name for that day and phone for that name)
p10440
aVIt's not really suitable hardcoding linenumbers (although I admit it is sneaky)- what if the order of data changes
p10441
aVBetter to search on values
p10442
aVTabs make things messy, use spaces instead since then the output doesn't rely on terminal settings and you don't need to worry about misaligned tabs
p10443
aVAnd, for completeness, here's the two input files and the expected output:
p10444
aVHaving said all that, and assuming you've gone away for at least two hours to try and get your version running, here's mine:
p10445
aVAnd the following description should help:
p10446
aVLine 1elects the right shell, not always necessary
p10447
aVLine 2 gives us enough spaces to make formatting easier
p10448
aVLines 3-4 give us the title and blank line
p10449
aVLines 5-6 cycles through the days, one at a time
p10450
aVLine 7 gives us a name for the day
p10451
aVsearches for the given day (regardless of upper or lower case) at the end of a line in  while the awk statement gives you field 1 (the name)
p10452
aVLine 8 simply makes the name all lowercase
p10453
aVLine 9 creates a string of the right size for output by adding 50 spaces then cutting off all at the end except for 15
p10454
aVLine 11 does the same for the day
p10455
aVLine 13 is very similar to line 7 except it searches , looks for the name at the start of the line and returns the phone number as the second field
p10456
aVLine 15 just outputs the individual items
p10457
aVLine 16 ends the loop
p10458
aVSo there you have it, enough hints to (hopefully) fix up your own code, and a sample as to how a professional would do it :-)
p10459
aVIt would be wise to read up on the tools used, , ,  and
p10460
as(dp10461
g16
V14860
p10462
stp10463
a((dp10464
g2
(lp10465
VTry using:
p10466
aVinstead
p10467
aVThe expansion of the wildcard term is happening in the current shell before the arguments are passed to your script as shown in this transcript:
p10468
aVYou can see how these arguments work with the following simple script and output:
p10469
aVUpdate:
p10470
aVBased on your question in the comments:
p10471
aVThanks
p10472
aVIt worked when I wrapped the file with single quotes
p10473
aVIs there a way that I could do this inside the script so that the user doesn't have to bother with typing single quotes
p10474
aVNo, that's because the shell is doing it before your script ever sees it
p10475
aVHowever, if you move the file specification to the end of the command line thus:
p10476
aVyou could modify your script to not just process argument number 4 but every argument after that as well, one at a time
p10477
aVThen, when they've been expanded by the shell, it won't matter
p10478
aVSomething like (with the gawk/nawk on a single line):
p10479
aVLetting the shell handle your expansion and using a loop also allows you to do tricks such as printing the file name with each block (or line) of output:
p10480
as(dp10481
g16
V14860
p10482
stp10483
a((dp10484
g2
(lp10485
VI have no idea what ICETOOL is (nor the inclination to even look it up in Google :-) but this is a classic COBOL data processing task
p10486
aVBased on your simple data input, the algorithm would be:
p10487
aVHowever, you may need to take into account the fact that:
p10488
aVmultiple jobs of the same name may run during the day (multiple entries in the file)
p10489
aVmultiple jobs of the same name may run at the same time
p10490
aVYou could get around the first problem by ensuring the E record was the one immediately following the S record (based on time)
p10491
aVThe second problem is a doozy
p10492
aVIf you're running on z/OS (and you probably are, given the job names), have you considered using information from the SMF records to do this collection and analysis
p10493
aVI'm pretty certain SMF type 30 records hold everything you need
p10494
aVAnd assuming this is a mainframe question, here's a shameless plug for a book one of my friends at work has written, check out What On Earth is a Mainframe
p10495
aVby David Stephens (ISBN-13 = 978-1409225355)
p10496
as(dp10497
g16
V14860
p10498
stp10499
a((dp10500
g2
(lp10501
VIf it takes (and these figures are examples) 20 seconds for a file to arrive and 5 seconds for you to process it, what is the harm in your process waiting for, on average, another 7
p10502
aV5 seconds before it even detects that the file is there
p10503
aVA sleeping process should have as close to zero impact on the CPU as it is possible to get
p10504
aVSo no, I would not be concerned about this aspect at all
p10505
aVThe one thing you should be concerned about is how to restart the process automatically if it fails
p10506
aVI would run a cron job every 5 minutes (your choice of actual frequency) to kill off the old copy (politely, and only if it's running) and then start a new one
p10507
aVThat way, there'll only be a 5-minute downtime at most if something goes wrong
p10508
aVI say politely because the old one may be in the middle of processing files and you should not interrupt that unless it's recoverable
p10509
as(dp10510
g16
V14860
p10511
stp10512
a((dp10513
g2
(lp10514
VOn most Linux installs (all the ones I tested), bash recognizes both the Emacs and Vi command history keys (or you can use  to force it)
p10515
aVSo, you can just use the vi-mode  to to enter visual mode, this will start editing in a Vim session
p10516
aVTo run the command, you just save and exit from Vim ( or )
p10517
aVTo cancel the command, you need to delete the contents, save and exit ()
p10518
aVIn addition to running it by exiting, you can also save it while in the editor to another location ()
p10519
aVKeep in mind that visual mode will work with the currently selected line so you don't have to start with a blank command ()
p10520
aVYou can use the normal vi-mode tools to select a line from the history first and then enter visual mode ( for last command,  for third-last grep command and so on)
p10521
aVUsing this method has the advantage of not changing the  variable which may be used for other things (unless you want Vim for everything, which is a very sensible position to take IMNSHO)
p10522
aVUpdate:
p10523
aVRegarding your error, posted after the question:
p10524
aVis the function called by Vim for all files to put the cursor where it was when you last edited the file
p10525
aVI'm going to assume you're actually getting this error when the editing starts, not when you exit, since this is the auto function following a buffer read
p10526
aVCan you start a "normal" vim session ( and then ) without this error occurring
p10527
aVYou may find you get the same problem (and possibly only on the last one)
p10528
aVIf you do have the same problem, you need to look at your startup files
p10529
aVIt's possible the autocmd for BufRead is broken somehow
p10530
aVHave a look inside your vimrc and you filetype
p10531
aVvim files to see where that function is called and/or defined (I suspect it's called but not defined and that may be a mismatch between the two files or one of them has been damaged)
p10532
as(dp10533
g16
V14860
p10534
stp10535
a((dp10536
g2
(lp10537
VThe way that X works is the same as the way any network program works
p10538
aVYou have a server of some description (in this case, the X display server) which runs on a specific machine, and you have X clients (like firefox) that try to connect to that server to get their information displayed
p10539
aVOften (on "home" machines), the client and server run on the same box and there's only one server, but X is powerful enough that this doesn't need to happen
p10540
aVIt was built with the server/client separation built in from the start
p10541
aVThis allows you to do such wondrous things such as log on to your box (in text mode) halfway around the planet, tell it that the display server is the box you're currently on and, voila, the windows suddenly start appearing locally
p10542
aVIn order for a client to interact with a user, it needs to know how to find the server
p10543
aVThere are a number of ways to do this
p10544
aVMany clients allow the  option to specify it:
p10545
aVMany will use the  environment variable if a display isn't specifically given
p10546
aVYou can set this variable like any other:
p10547
aVThe first part of the  variable is just the address of the display server machine
p10548
aVIt follows the same rule as any other IP address; it can be a resolvable DNS name (including ) or a specific IP address (such as 192
p10549
aV168
p10550
aV10
p10551
aV55)
p10552
aVThe second part is X-specific
p10553
aVIt gives the X "display" (X server) number and screen number to use
p10554
aVThe first (display number) generally refers to a group of devices containing one or more screens but with a single keyboard and mouse (i
p10555
ag75
aV, one input stream)
p10556
aVThe screen number generally gives the specific screen within that group
p10557
aVAn example would be:
p10558
aVHere you have a single machine () with two display servers
p10559
aVThe first has four screens and the second has two
p10560
aVThe possibilities are then:
p10561
aVdepending on where you want your actual windows to appear and which input devices you want to use
p10562
as(dp10563
g16
V14860
p10564
stp10565
a((dp10566
g2
(lp10567
VThis complete program shows how I would do it
p10568
aVKeep in mind I was writing C when most of you whippersnappers were a glint in your mothers eyes so it's old-school, do-the-job, long-var-names-are-for-wimps
p10569
aVFix that if you wish, I'm more interested in the correctness of the code
p10570
aVIt handles NULLs, empty strings and all string sizes
p10571
aVI haven't tested it with strings of maximum size (max(size_t)) but it should work, and if you're handling strings that big, you're insane anyway :-)
p10572
aVThe output of that is:
p10573
as(dp10574
g16
V14860
p10575
stp10576
a((dp10577
g2
(lp10578
VThis document on MSDN shows the new methods in Vista to locate known folders, including the one you ask about specifically:
p10579
aVI gather this can be changed simply by changing the registry (and moving the current directory)
p10580
as(dp10581
g16
V14860
p10582
stp10583
a((dp10584
g2
(lp10585
VUsing  is not as reliable as using something like
p10586
aVBut I would opt for maximum reliability, which means a byte-by-byte comparison using
p10587
aVYou have to read every byte in both files for all checking methods so you may as well opt for the one that is most reliable
p10588
aVAs a first pass, you could check the directory listing to see if the sizes are different
p10589
aVThat's a quick way to get faster feedback for different files
p10590
as(dp10591
g16
V14860
p10592
stp10593
a((dp10594
g2
(lp10595
VThe order-by precedence is left to right so, if you want date to be the major sort field, the following is required
p10596
aVThat second query you gave does it in date order, but you've lost all the other sort criteria
p10597
as(dp10598
g16
V14860
p10599
stp10600
a((dp10601
g2
(lp10602
VThat's either a bad example or a bad database design :-)
p10603
aVYou should probably not be storing first (or any) names in any way that will require you to use
p10604
aVYou need to keep in mind that tables are almost always read far more often than written, and design accordingly
p10605
aVThat means you want the cost to be on insertion or update, not on selecting
p10606
aVPer-row functions such as  never scale well to proper enterprise-class databases
p10607
aVIn my opinion, you should have, for DB2, the following:
p10608
aVan insert/update trigger that will remove leading and trailing spaces from the first (and last) name
p10609
aVa generated column that will uppercase the names (this uses more storage but that's usually better than wasting time)
p10610
aVI'm not sure if UDB9 has generated columns (DB2/z has) but you can do this in the same insert/update trigger
p10611
aVBasically it's an extra column that's always set to the uppercase version of another field
p10612
aVan index on the generated column, not the original column
p10613
aVThat way, your selects will scream along with queries like (big and ugly, but efficient):
p10614
aVor (less big and ugly, just as efficient, and closer to the original query in intent):
p10615
aVusing the full power of the query optimizer (DB2, and other DBMS' I would think, can still optimize 'XX%' easily if the field is indexed)
p10616
aVI'm not a big fan of using  for any decent sized tables although sometimes there's not much choice
p10617
aVI can't think of any viable situation in which you'd want to look for  and  doing so results in an inability to use the optimizer to its fullest extent
p10618
as(dp10619
g16
V14860
p10620
stp10621
a((dp10622
g2
(lp10623
VI always prefer to put the terminating case(s) up front so they're obvious, and I have a violent near-psychopathic hatred of  constructs
p10624
aVMy choice would be (making it clear that it won't work properly for negative numbers):
p10625
aVI believe that's far more readable than a morass of braces and control flow
p10626
as(dp10627
g16
V14860
p10628
stp10629
a((dp10630
g2
(lp10631
VSince  will output something like:
p10632
aVyou need to just grab the first field using  as the delimiter as follows:
p10633
aVThis will set the environment variable  to  for the aforementioned output
p10634
aVDon't forget to use the double-% (%%d) variant if running inside a cmd file
p10635
as(dp10636
g16
V14860
p10637
stp10638
a((dp10639
g2
(lp10640
VThe original method you chose  would be very difficult to find optimal solutions for simply due to the large search space of possibilities
p10641
aVYou could factorize the number but it's that  that complicates things since you need to factorize not just that number but quite a few immediately below it
p10642
aVTwo methods for compression spring immediately to mind, both of which give you a much-better-than-10% saving on space from the numeric representation
p10643
aVA 64-bit number ranges from (unsigned):
p10644
aVor (signed):
p10645
aVIn both cases, you need to reduce the 20-characters taken (without commas) to something a little smaller
p10646
aVThe first is to simply BCD-ify the number the base64 encode it (actually a slightly modified base64 since  would not be kosher in a URL - you should use one of the acceptable characters such as )
p10647
aVConverting it to BCD will store two digits (or a sign and a digit) into one byte, giving you an immediate 50% reduction in space (10 bytes)
p10648
aVEncoding it base 64 (which turns every 3 bytes into 4 base64 characters) will turn the first 9 bytes into 12 characters and that tenth byte into 2 characters, for a total of 14 characters - that's a 30% saving
p10649
aVThe only better method is to just base64 encode the binary representation
p10650
aVThis is better because BCD has a small amount of wastage (each digit only needs about 3
p10651
aV32 bits to store [log210], but BCD uses 4)
p10652
aVWorking on the binary representation, we only need to base64 encode the 64-bit number (8 bytes)
p10653
aVThat needs 8 characters for the first 6 bytes and 3 characters for the final 2 bytes
p10654
aVThat's 11 characters of base64 for a saving of 45%
p10655
aVIf you wanted maximum compression, there are 73 characters available for URL encoding:
p10656
aVso technically you could probably encode base-73 which, from rough calculations, would still take up 11 characters, but with more complex code which isn't worth it in my opinion
p10657
aVOf course, that's the maximum compression due to the maximum values
p10658
aVAt the other end of the scale (1-digit) this encoding actually results in more data (expansion rather than compression)
p10659
aVYou can see the improvements only start for numbers over 999, where 4 digits can be turned into 3 base64 characters:
p10660
as(dp10661
g16
V14860
p10662
stp10663
a((dp10664
g2
(lp10665
VLet's say you have the following heap layouts
p10666
aVThis is a simplified memory allocator where no space is taken up in the heap by control information
p10667
aVIn both situations, you have 1000 bytes allocated at address 1000
p10668
aVHowever, in situation B, this is immediately followed by memory allocated for some other purpose
p10669
aVLet's examine what happens when you want to reallocate your memory to 2000 bytes
p10670
aVIn situation A, this is easy, it just expands your allocation as per the diagram below
p10671
aVBut, in situation B, it's not so easy
p10672
aVThe memory immediately following your block is in use so there isn't enough room to just expand your allocation, and you need consecutive memory
p10673
aVHere's the end position for the two situations:
p10674
aVFor situation B, the allocator finds a block (at 3000) that is big enough for your desired expansion, and copies the contents of your current block (at 1000) to it
p10675
aVThen it gives you the address of this new block and frees the old block since that is no longer required by you
p10676
aVThat's what the phrase in your question means
p10677
aVThis action of moving buffers around depends on the memory allocation strategy but, generally, a buffer won't be moved (it's often expensive since it involves a mass memory copy) if either:
p10678
aVthere is free space after it that, along with the current space, can satisfy the reallocation; or
p10679
aVyou're reducing the size
p10680
as(dp10681
g16
V14860
p10682
stp10683
a((dp10684
g2
(lp10685
VSome DBMS' have an extension to do this but why don't you just provide a function to do it for you
p10686
aVWe've actually done this before
p10687
aVI'm not sure what language you're using but it's probably got associative arrays where you can wrote something like:
p10688
aVand, if it doesn't have associative arrays, you can emulate them with multiple integer-based arrays of strings
p10689
aVIn our  function, we just constructed a string (, then  if the  failed) and passed it to our DBMS
p10690
aVWe kept the primary keys separate from our other fields since that made construction of the update statement a lot easier (primary key columns went in the where clause, other columns were just set)
p10691
aVThe result of the calls above would result in the following SQL (we had a different check for failed  but I've put your  in for this example):
p10692
aVThat's one solution which worked well for us
p10693
aVNo doubt there are others
p10694
as(dp10695
g16
V14860
p10696
stp10697
a((dp10698
g2
(lp10699
VThis is a routine I wrote a while ago for an embedded system which generated various suspect patterns on a network
p10700
aVAs such, it uses absolutely no fancy stuff like network libraries or even the standard C libraries, preferring to steer clear of all that modern stuff like string tokenizing and (shudder) regular expression libraries :-) To that end, it's suited to just about any environment you could find yourself in, and it was blindingly fast
p10701
aVAlthough, if you're in an environment that has something like , I'd suggest you use that instead
p10702
aVIt's an indication of the stuff you sometimes have to put up with when doing embedded stuff (although it is a real solution)
p10703
ag5385
as(dp10704
g16
V14860
p10705
stp10706
a((dp10707
g2
(lp10708
VBatch files aren't evil - they've actually come quite a long way from the brain-dead days of command
p10709
aVcom
p10710
aVThe command language can be pretty expressive nowadays, it just requires a bit of effort on your part to learn it
p10711
aVUnless there's an actual problem with your build script that you can't fix (and, if that's the case, that's the question you should be asking rather than some wishy-washy "What's the best replacement
p10712
aV:-), my approach would be to stick with what you've got
p10713
aVA vague feeling of evilness would not be reason for me to waste effort 'fixing' something that isn't broken
p10714
aVAnd it would be wasted effort unless there's a clear advantage to changing ("less evil" is not something I'd consider a clear advantage)
p10715
as(dp10716
g16
V14860
p10717
stp10718
a((dp10719
g2
(lp10720
VThe old tried and true
p10721
aVwill do what you want with none of the race conditions many of the other solutions have
p10722
aVSometimes the simplest (and ugliest) solutions are the best
p10723
as(dp10724
g16
V14860
p10725
stp10726
a((dp10727
g2
(lp10728
VIt's string substitution
p10729
aVBasically, if variableName is set to , then  generates  (double quotes put in for nicer formatting, they do not form part of the strings)
p10730
aVYou can also replace with an empty string (obvious) and replace from the start of the string (not so obvious):
p10731
aVIn addition, the substring variant is Pythonesque in that negative numbers work from the end of the string:
p10732
as(dp10733
g16
V14860
p10734
stp10735
a((dp10736
g2
(lp10737
VThat is a true hard link
p10738
aVIn UNIX (I'm not familiar with the Windows variant) a file is just a set of data on the disk (simplistically)
p10739
aVIt's the directory entry itself that gives that file a name
p10740
aVWhen you have two directory entries pointing at the same underlying file, deleting one of them does not delete the file unless it's the last directory entry attached to it (and the file is not still open by a process, but that's a different matter)
p10741
as(dp10742
g16
V14860
p10743
stp10744
a((dp10745
g2
(lp10746
VBackgrounding a process will not disconnect the output from the terminal device, that's why you're still seeing output and the output may well contain control characters which can stuff up your TTY settings (ing binary files is a good way to do that)
p10747
aVIf you want the job to run in the background, do it right:
p10748
aVthen examine the  file when it's finished
p10749
as(dp10750
g16
V14860
p10751
stp10752
a((dp10753
g2
(lp10754
VThe earlier you catch bugs, the cheaper they are to fix
p10755
aVA bug found during unit testing by the coder is pretty cheap (just fix the darn thing)
p10756
aVA bug found during system or integration testing costs more, since you have to fix it and restart the test cycle
p10757
aVA bug found by your customer will cost a lot: recoding, retesting, repackaging and so forth
p10758
aVIt may also leave a painful boot print on your derriere when you inform management that you didn't catch it during unit testing because you didn't do any, thinking that the system testers would find all the problems :-)
p10759
aVHow much money would it cost GM to recall 10,000 cars because the catalytic converter didn't work properly
p10760
aVNow think of how much it would cost them if they discovered that immediately after those converters were delivered to them, but before they were put into those 10,000 cars
p10761
aVI think you'll find the latter option to be quite a bit cheaper
p10762
aVThat's one reason why test driven development and continuous integration are (sometimes) a good thing - testing is done all the time
p10763
aVIn addition, unit tests don't check that the program works as a whole, just that each little bit performs as expected
p10764
aVThat's often quite a lot more than higher level tests would check
p10765
as(dp10766
g16
V14860
p10767
stp10768
a((dp10769
g2
(lp10770
VIf you can't find the information on MSDN or MVP, then it's probably a good idea to ask Microsoft directly here (the C++ ones, I'd guess)
p10771
aVI don't work for Microsoft but I do work for another (very) large organization and we developers monitor public fora very closely
p10772
aVI suspect there's quite a few MS developers who would be watching that site
p10773
aVHowever, if you're doing project planning without risk management and contingencies, you're not doing it right
p10774
aVYou should allow for the possibility that it will not be supported and do one of two things
p10775
aVhave an item in your Gantt chart to allow for the re-engineering
p10776
aVhave a risk log that clearly states re-engineering may be necessary
p10777
aVFrom my experience, the first is usually better since, if you find you don't have to do it and the schedule is slipping, you can just drop that item to catch up
p10778
aVSometimes you can drop it anyway and deliver sooner, just to make yourself look better for your annual performance review :-)
p10779
aVBut even if you don't allow for it and then find it's necessary, the risk morphs into an issue and you can go to higher management to explain why more time is needed
p10780
aVYou're covered since it was made clear in the risk log - it then becomes their decision to allow you more time or keep using a back-level of MSVC
p10781
aVKeep in mind that if you don't have to do it, you probably still should consider it (sans schedule slippage)
p10782
aVMicrosoft didn't deprecate them for a laugh, they're going to disappear at some point
p10783
aVAlthough YAGNI suggests you shouldn't worry about it unless it's imminent, it would be prudent to do some work on getting ready for it
p10784
aVThat will avoid the last-minute mad rush when Microsoft finally do remove the functionality
p10785
as(dp10786
g16
V14860
p10787
stp10788
a((dp10789
g2
(lp10790
VThat statement isn't actually true in all geographical areas
p10791
aVAustralia has a few sister cities that straddle state boundaries yet share the same postcode
p10792
aVAnd 3NF, while incredibly useful, is not inviolable
p10793
aVI've sometimes reverted some table information back to 2NF for performance reasons
p10794
as(dp10795
g16
V14860
p10796
stp10797
a((dp10798
g2
(lp10799
VIf:
p10800
aVthe language doesn't dictate it; and
p10801
aVyour coding standards don't dictate it,
p10802
aVthen just make it as readable as possible
p10803
aVHordes of developers in the future will sing praises to your name for not inflicting horrible code on them
p10804
aVMy personal favorite is all uppercase and underscores for constants  and camel case for everything else
p10805
aVBut that's personal preference, not something written on stone tablets
p10806
as(dp10807
g16
V14860
p10808
stp10809
a((dp10810
g2
(lp10811
VThreads were originally created as lightweight processes
p10812
aVIn a similar fashion, fibers are a lightweight thread, relying (simplistically) on the fibers themselves to schedule each other, by yielding control
p10813
aVI guess the next step will be strands where you have to send them a signal every time you want them to execute an instruction (not unlike my 5yo son :-)
p10814
aVIn the old days (and even now on some embedded platforms), all threads were fibers, there was no pre-emption and you had to write your threads to behave nicely
p10815
as(dp10816
g16
V14860
p10817
stp10818
a((dp10819
g2
(lp10820
VMost games I've found to be good have:
p10821
aVlimited resources (so you can lose)
p10822
aVshort-term goals (e
p10823
ag1775
aV, gathering resources to stave off the loss)
p10824
aVprogress points (e
p10825
ag1775
aV, level changes) to ensure ongoing "rewards" for playing
p10826
aVa long-term goal (so you can win)
p10827
aVWhile a moon lander can limit resources (fuel
p10828
aVand stave it off (pick up fuel cells from the surface), how do you "win" your game
p10829
aVPerhaps you need to rescue some stranded astronauts (and if you're targeting the young boy crowd, you might want to make them female and dress them in skimpy outfits a la "Leather Godesses of Phobos" - I'd buy that :-)
p10830
as(dp10831
g16
V14860
p10832
stp10833
a((dp10834
g2
(lp10835
VThat's bizarre
p10836
aVI always like to break a problem down to it's minimal case
p10837
aVWhat does the following program do when you run it
p10838
aVIf that works, then there's something else wrong and you need to add in one line at a time until it fails
p10839
aVThen examine that line very carefully ("I'm hunting wabbits")
p10840
aVBased on your edit, it may be a different string class being used
p10841
aVTry this:
p10842
aVUpdate:
p10843
aVSince it works in a new project and not the current one, check the following
p10844
aVMake sure you're linking with the standard C++ runtimes
p10845
aVmake sure you don't #define  as something else (and the includes a  command line option to the compiler)
p10846
aVcheck the behavior using , not just
p10847
as(dp10848
g16
V14860
p10849
stp10850
a((dp10851
g2
(lp10852
VChange the  to a  and see if it actually prints
p10853
aVSome report generation tools (and I have little experience with Crystal but quite a bit with others) will leave fields blank if they're zero - this often helps in reading the report by reducing unnecessary clutter
p10854
aVIf the 's print out, then that's what the problem is, and it's a matter of figuring out how to get Crystal to output an actual 0
p10855
aVThat may be a matter of configuring the output field or even stting it to a textual  instead of numeric
p10856
aVOf course, if that doesn't print out 's, then feel free to let me know
p10857
as(dp10858
g16
V14860
p10859
stp10860
a((dp10861
g2
(lp10862
VThose are all general rules (and good ones) but English is not a language for the faint of heart :-)
p10863
aVMy own preference would be to have a transformation engine along with a set of transformations (surprisingly enough) for doing the actual work
p10864
aVYou would run through the transformations (from specific to general) and, when a match was found, apply the transformation to the word
p10865
aVRegular expressions would be an ideal approach to this due to their expressiveness
p10866
aVAn example rule set:
p10867
aVNote that an earlier version of the rules may not have had entry number 4
p10868
aVHowever, when we found the problem with "types" being transformed to "typ" at 98, we then created a higher-priority transformation at 4 to cater for this
p10869
aVYou'll basically need to keep this transformation table updated as you find all those wondrous exceptions that English has spawned
p10870
aVThe other possibility is to not waste your time with a general rule
p10871
aVSince the names of the tables will be relatively limited, just create another table (or some sort of data structure) called  which maps all the relevant plural table names () to singular object names ()
p10872
aVThen every time a table is added, add an entry to the singulars "table" so you can singularize it
p10873
as(dp10874
g16
V14860
p10875
stp10876
a((dp10877
g2
(lp10878
VRemoving a file in UNIX does two things:
p10879
aVit removes the directory entry for it
p10880
aVif no processes have it open and no other directory entries point to it (hard links), it releases the space
p10881
aVYour nohupped process will gladly continue to write to the file that used to be called nohup
p10882
aVout, but is now known as nothing but a file descriptor within that process
p10883
aVYou can even have another process create a nohup
p10884
aVout, it won't interfere with the first
p10885
aVWhen all hard links are gone, and all processes have closed it, the disk space will be recovered
p10886
as(dp10887
g16
V14860
p10888
stp10889
a((dp10890
g2
(lp10891
VIf you're asking why doesn't a compiler generate push instructions for local storage rather than direct manipulation of the stack pointer, it's a matter of efficiency
p10892
aVAutomatic variables (in C anyway) are uninitialized, so the code sequence would be (I'm going to use subl since I'm used to stacks growing down in memory):
p10893
aVMy answer is that it's unnecessary and inefficient in cases such as:
p10894
aVWhat you propose may make sense for something like:
p10895
as(dp10896
g16
V14860
p10897
stp10898
a((dp10899
g2
(lp10900
VThe S9(15)V9(3) requires 19 nybbles (20 in reality since it must make an even number of nybbles) to store:
p10901
aVone for the sign
p10902
aV15 for the integer bit
p10903
aV3 for the non-integer bit (V is an implied decimal, not a real one)
p10904
aVThe sign usually appears at the end as a  or a  nybble so the answer to this question depends entirely on what did the unpacking
p10905
aVYour first example actually has the right number of digits without the sign so I'd be concerned with your statement that one of them represented the sign
p10906
aVEither that, or you've left off the "9"
p10907
aVThe other two examples have enough digits for both the sign and numeric part
p10908
aVBest bet, see if you can get a negative number (and other test data like 1) into there to see what it generates
p10909
as(dp10910
g16
V14860
p10911
stp10912
a((dp10913
g2
(lp10914
VThat will be a tricky one, if it's even possible
p10915
aVI've seen approaches that will work for text-based applications - they generally capture the standard output of the process as it happens and put it into a text control
p10916
aVBut what you're talking about is a fully fledged graphical application (Notepad, despite working on text, display pixels, not character codes)
p10917
aVSo, unless Notepad provides an interface where you can:
p10918
aVrequest arbitrary characters in the buffer; and
p10919
aVsend arbitrary keystrokes to the program,
p10920
aVI'd say you're flat out of luck
p10921
aVDefinitely a kludge, but one option is to continuously monitor the Notepad windows and ensure it's always superimposed over your forms client area
p10922
aVThat's pretty horrible since you have to stop it moving, resizing, minimizing and so on, and maintain its z-order to be just above your applications
p10923
aVI wouldn't wish those requirements on my worst enemy
p10924
aVHave you thought of using an editor control built specifically for Delphi (or an ActiveX editor that you could embed)
p10925
aVThat might be a better approach
p10926
as(dp10927
g16
V14860
p10928
stp10929
a((dp10930
g2
(lp10931
VRegarding your statement that "I think it's in general a good principle to always use the least general (ergo the most special) type possible
p10932
aV- actually I think it's a good principle to use the data type that will cause you least angst and trouble
p10933
aVGenerally for me that's a signed int since:
p10934
aVI don't usually have lists with 231 or more elements in them
p10935
aVYou shouldn't have lists that big either :-)
p10936
aVI don't like the hassle of having special edge cases in my code
p10937
aVBut it's really a style issue
p10938
aVIf 'purity' of code is more important to you than brevity of code, your method is best (with modifications to catch the edge cases)
p10939
aVMyself, I prefer brevity since edge cases tend to clutter the code and reduce understanding
p10940
as(dp10941
g16
V14860
p10942
stp10943
a((dp10944
g2
(lp10945
VThe #1 rule of StartUp Club: Every startup should have both nerds and businessmen
p10946
aVMost computer nerds don't know anything about how to run a business or market and sell a product
p10947
aVThere should be at least one businessman at your top level (but watch them like a hawk, lest they steal away with the fruits of your labor :-)
p10948
as(dp10949
g16
V14860
p10950
stp10951
a((dp10952
g2
(lp10953
VI'd change
p10954
aVto this for a start:
p10955
as(dp10956
g16
V14860
p10957
stp10958
a((dp10959
g2
(lp10960
VI'm going to assume you mean carriage returns () at the ends of lines rather than just blindly within a file (you may have them in the middle of strings for all I know :-)
p10961
aVUsing this test file:
p10962
aVis the way to go if it's installed on your system:
p10963
aVIf for some reason  is not available to you, then  will do it:
p10964
aVIf for some reason  is not available to you, then  will do it, in a complicated way:
p10965
aVIf you don't have any of those tools installed on your box, you've got bigger problems than trying to convert files :-)
p10966
as(dp10967
g16
V14860
p10968
stp10969
a((dp10970
g2
(lp10971
VIf your loop terminates natuarally, rather than with a break,  will be 16
p10972
aVThere's no way to avoid this
p10973
aVYour code is perfectly acceptable if what you want is for i to end up as 15 or less:
p10974
aVAnything that changes  from 16 to 15 after the loop body will do:
p10975
aVand so on
p10976
aVHowever that assumes that  is going to be used for something meaningful as a post-condition with respect to that loop
p10977
aVI find that's rarely the case, people tend to re-initialize it before re-use (such as another for loop)
p10978
aVIn addition, what you are doing makes it very difficult (impossible, even) to figure out as a post-condition, wheteher your loop terminated normally or whether it terminated prematurely because  returned true for
p10979
aVThis means using i to make further decision is fraught with danger
p10980
aVMy question would be: Why do you think you need to leave  as 15 or less
p10981
as(dp10982
g16
V14860
p10983
stp10984
a((dp10985
g2
(lp10986
VThat error message is because you're trying to unalias  and there is no such alias
p10987
aVSince you can alias something more than once without an error, I would change your code to be:
p10988
aVThat guarantees that  exists as an alias before you try to unalias it
p10989
as(dp10990
g16
V14860
p10991
stp10992
a((dp10993
g2
(lp10994
VYour choice really
p10995
aVIf you think you'll have more luck with another sockets implementation, then do it
p10996
aVHowever, Microsoft has a lot of developers (and I believe some of them may even be good ones)
p10997
aVYou may, just may, want to consider the possibility that the fault doesn't all lay at their end
p10998
aVThe amount of help you can get for their APIs and products is also good, in my opinion
p10999
aVPerhaps if you took the time to understand the MFC model, you would get that "AHA" moment and understand it better
p11000
aVI'm no fan of Winsock - I'm more used to the UNIX world where sync was the way to go, and you just ran separate processes/threads if you wanted async-type behavor
p11001
aVCAsyncSocket, I suspect, is still hamstrung by the fact that MFC is a single-threaded model (in terms of GUI) even though Windows has had real pre-emptive threads for quite a while
p11002
aV[I may be wrong about that hamstrung comment, it's been a while since I used Win32 directly]
p11003
aVUpdate:
p11004
aVBased on your update where you stated what you were doing, I'm fairly certain you are not allowed to connect before creating
p11005
aVQuoting http://msdn
p11006
aVmicrosoft
p11007
aVcom/en-us/library/3d46645f(VS
p11008
aV80)
p11009
aVaspx,
p11010
aVTo use a CAsyncSocket object, call its constructor, then call the Create function to create the underlying socket handle
p11011
aVand for a client socket call the Connect member function
p11012
aVAs to why, I think this is an extra complexity added because Windows needs to do async sockets in an event-pumping environment since they cannot block the main GUI thread
p11013
aVIn UNIXy environments, there is either no event thread (normal processes) or network ops are just farmed off to another thread manually (in GUI apps)
p11014
aVThis was most likely a design decision made in WinSock long ago (probably in Windows 3
p11015
aV11 which was a much more restrictive environment in which to do async operations) and carried through [although that's conjecture on my part, the UNIX sockets API has never had this sort of async behavior where messages are pumped, it always tended to use  or threads/processes]
p11016
aVFurther update:
p11017
aVThat assertion (not exception) usually occurs if you have closed and/or deleted the socket object while there is a pending operation on it
p11018
aVIn your case, I'd suggest it's still trying to do the connect when you close it
p11019
aVThen when the connect succeeds or fails, the callback is called and it cannot find your socket in the tables
p11020
aVThis isn't an MFC problem, it's your friend's code violating the contract
p11021
aVIf you do a connect (or any async operation), you have to wait for success or failure before closing the socket (or working further on it) - in this case, that means wait for the call to your OnConnect() function
p11022
aVFrom memory, you call the  when you create the async socket, then everything else happens in response to messages arriving in the message queue (i
p11023
ag75
aV, calls to your  functions)
p11024
aVLike all Win32 GUI stuff, the messages are supposed to drive the program (the code runs in response to messages)
p11025
aVThis code is looking more and more like classic coding where the program drives everything - that way lies madness as you'll have your program and the async socket 'thread' fighting for control
p11026
aVI haven't looked at it for quite a while but you should be able to get your hands on a CHATSRVR sample program which will show you how to do it
p11027
as(dp11028
g16
V14860
p11029
stp11030
a((dp11031
g2
(lp11032
VI'm of the opinion that threads should be responsible for their own resources as much as practicable, including their own lifetime
p11033
aVIt's usually a bad idea to kill threads from outside their scope
p11034
aVApplications that are engineered to pass a message to the thread to shut itself down tend to have far less problems related to multi-threaded behavior
p11035
aVA thread should monitor for said message, which can be as simple as a boolean set by another thread and read by that monitoring thread, in a timely fashion and shut itself down cleanly as soon as it can
p11036
aVThat means if it should look for the message:
p11037
aVin it's main loop, if any
p11038
aVperiodically in any long-running loops
p11039
aVThe thread shutting it down with the message should wait (but don't halt the GUI, of course)
p11040
aVNote that there are other possibilities for threaded environments with specific capabilities such as the case where threads can mark themselves cancellable at will, to allow external killing to be safer
p11041
aVBut it's still usually easier to just architect your application to leave a thread master of its own destiny
p11042
as(dp11043
g16
V14860
p11044
stp11045
a((dp11046
g2
(lp11047
VRoman number validator for a homework project - not mine, it's been a long time since I've had to do homework :-)
p11048
aVAny more complex than that and I tend to write code for it since I can better document it and optimize
p11049
as(dp11050
g16
V14860
p11051
stp11052
a((dp11053
g2
(lp11054
VI wouldn't think so
p11055
aVShort of having to debug the javac compiler or wanting to know as a matter of interest, I cannot think of one good reason why someone would care what bytecode gets generated
p11056
aVKnowing bytecode won't make you a better Java programmer any more than knowing how an internal combustion engine works will make you a better driver
p11057
aVThink in terms of abstractions
p11058
aVYou don't need to know about the actions of quarks or atoms when trying to calculate the orbits of planets
p11059
aVTo be a good Java programmer, you should probably learn
p11060
aVum
p11061
aVJava
p11062
aVYes, Java, that's it :-)
p11063
as(dp11064
g16
V14860
p11065
stp11066
a((dp11067
g2
(lp11068
VBackups are exactly that: backups
p11069
aVThey enable you to recover the data if something bad happens
p11070
aVReplication is another beast entirely
p11071
aVIt basically distributes the data across multiple nodes so that each node has a complete, (close to) up-to-date copy of the data
p11072
aVThere are a number of reasons why you would use replication including, but not limited to:
p11073
aVHigh availability so that, if one node goes down, other nodes can still service requests
p11074
aVGeographical distribution, meaning your data can be placed close to those that need it
p11075
aVClients in Belarus don't need to go all the way to Montana to get the data if you maintain a local replica in Belarus (or somewhere close) - this is for performance
p11076
aVYou may have 10,000 clients in Belarus - it's quicker to send one copy over than have all 10,000 request data [although this depends on how often they request data]
p11077
aVPrioritization
p11078
aVIf your reporting users (bank management) have a lower service level agreement than your customer-facing staff (bank tellers) [and they should], you can put all the management onto a replica so as not to slow down the primary copy
p11079
as(dp11080
g16
V14860
p11081
stp11082
a((dp11083
g2
(lp11084
VThe right way to swap two variables is:
p11085
aVIn other words, use a temporary variable
p11086
aVThere you have it
p11087
aVNo clever tricks, no maintainers of your code cursing you for decades to come, no entries to The Daily WTF, and no spending too much time trying to figure out why you needed it in one operation anyway since, at the lowest level, even the most complicated language feature is a series of simple operations
p11088
aVJust a very simple, readable, easy to understand,  solution
p11089
aVIn my opinion, developers who try to use tricks to, for example, "swap variables without using a temp" or "Duff's device" are just trying to show how clever they are (and failing miserably)
p11090
aVI liken them to those who read highbrow books solely for the purpose of seeming more interesting at parties (as opposed to expanding your horizons)
p11091
aVSolutions where you add and subtract, or the XOR-based ones, are less readable and most likely slower than a simple "temp variable" solution (arithmetic/boolean-ops instead of plain moves at an assembly level)
p11092
aVDo yourself, and others, a service by writing good quality readable code
p11093
aVThat's my rant
p11094
aVThanks for listening :-)
p11095
aVAs an aside, I'm quite aware this doesn't answer your specific question (and I'll apologise for that) but there's plenty of precedent on SO where people have asked how to do something and the correct answer is "Don't do it"
p11096
as(dp11097
g16
V14860
p11098
stp11099
a((dp11100
g2
(lp11101
VHere's a start, not exactly how a professional would do it, but good for a beginner level:
p11102
aVThe specific problem with your given makefile is that you're not linking in all the object files
p11103
aVBecause  includes  and  includes  and , your program will almost certainly need to link  and  as well
p11104
aVIt's also good practice to follow header dependencies (e
p11105
ag1775
aV,  depends on  and  because  depends on those two) - this is because there's no "neat" way to get an intermediate file for header dependencies
p11106
aVAnd you rarely put standard headers into make files simply because they're not expected to change - if they do (new compiler), just clean and make fresh
p11107
as(dp11108
g16
V14860
p11109
stp11110
a((dp11111
g2
(lp11112
VFrom my investigations, it looks like zsh performs  substitution before  substitution
p11113
aVThat means when you use the  variant, it first tries  substitution (nothing there) then  substitution (which works), and you're left with the string containing the  characters
p11114
aVWhen you don't use , it first tries  substitution and it works
p11115
aVIt's a matter of order
p11116
aVThe final version below shows how to defer expansion so they happen at the same time:
p11117
aVThese can be seen here:
p11118
as(dp11119
g16
V14860
p11120
stp11121
a((dp11122
g2
(lp11123
VThis is not something you can do in a foolproof way
p11124
aVOne possibility would be to examine every character in the file to ensure that it doesn't contain any characters in the ranges  or  but, as I said, this may be true for any number of files, including at least one other variant of ISO8859
p11125
aVAnother possibility is to look for specific words in the file in all of the languages supported and see if you can find them
p11126
aVSo, for example, find the equivalent of the English "and", "but", "to", "of" and so on in all the supported languages of 8859-1 and see if they have a large number of occurrences within the file
p11127
aVI'm not talking about literal translation such as:
p11128
aValthough that's possible
p11129
aVI'm talking about common words in the target language (for all I know, Icelandic has no word for "and" - you'd probably have to use their word for "fish" [sorry that's a little stereotypical, I didn't mean any offense, just illustrating a point])
p11130
as(dp11131
g16
V14860
p11132
stp11133
a((dp11134
g2
(lp11135
VI would begin by looking at the actual  source code for diff, which GNU makes available
p11136
aVFor an understanding of how that source code actually works, the docs in that package reference the papers that inspired it:
p11137
aVThe basic algorithm is described in "An O(ND) Difference Algorithm and its Variations", Eugene W
p11138
aVMyers, 'Algorithmica' Vol
p11139
aV1 No
p11140
aV2, 1986, pp
p11141
aV251-266; and in "A File
p11142
aVComparison Program", Webb Miller and Eugene W
p11143
aVMyers, 'Software--Practice and Experience' Vol
p11144
aV15 No
p11145
aV11, 1985, pp
p11146
aV1025-1040
p11147
aVThe algorithm was independently discovered as described in "Algorithms for Approximate String Matching", E
p11148
aVUkkonen, `Information and Control' Vol
p11149
aV64, 1985, pp
p11150
aV100-118
p11151
aVReading the papers then looking at the source code for an implementation should be more than enough to understand how it works
p11152
as(dp11153
g16
V14860
p11154
stp11155
a((dp11156
g2
(lp11157
VI don't specifically know SQL Server, but the generally accepted DBMS practice (for compatibility) would be to either:
p11158
aVput insert and update triggers on the table so that they're stored in the case you want
p11159
aVuse generated columns to store another copy of the column in the case you want
p11160
aVThere may be a faster way to do it in SQL Server but you should be careful of solutions that push workload into the SELECT statements - they never scale well
p11161
aVIt's almost always better doing this as part of inserts and updates since that's the only time data changes - doing it that way minimizes the extra workload
p11162
as(dp11163
g16
V14860
p11164
stp11165
a((dp11166
g2
(lp11167
VI'm no rocket scientist but it looks like you'll have to step into  with  populated with a pointer to the string
p11168
aVJust out of interest, do you get the error when you use your real IP address instead of the loopback
p11169
aVAnd, do you have an FTP server running on that machine
p11170
aVAnd, are you absolutely certain the string is
p11171
aVUpdate:
p11172
aVThere's only really three things that can cause the exception
p11173
aVis true, unlikely if addr is
p11174
aVis , again unlikely since  should have no trouble with 127
p11175
ag2592
ag2592
aV1 (as you've tested)
p11176
aVthe constructor for  returns NULL (or throws the  exception itself)
p11177
aVThat last one seems the most likely, what happens when you write your own code to do it
p11178
aVIn addition, if you breakpoint on the  line and examine :
p11179
aVzero means the ::parse returned NULL and it's the  constructor throwing
p11180
aVnon-zero means ::parse itself threw an exception which could only be from the  constructor
p11181
aVYou may have to step into that to debug further
p11182
as(dp11183
g16
V14860
p11184
stp11185
a((dp11186
g2
(lp11187
VIs this pre-emptive
p11188
aVI gather so since otherwise a watchdog task would not run if one of the others had gotten stuck
p11189
aVYou make no mention of the OS but, if a watchdog task can check if a single task has not checked in, there must be separate channels of communication between each task and the watchdog
p11190
aVYou'll probably have to modify the watchdog to somehow dump the task number of the one that hasn't checked in and dump the task control blocks and memory so you can do a post-mortem
p11191
aVDepending on the OS, this could be easy or hard
p11192
as(dp11193
g16
V14860
p11194
stp11195
a((dp11196
g2
(lp11197
VWhen you run setup
p11198
aVexe, the package selection will be set to "default"
p11199
aVYou need to click on the top-level circular arrow picture until it says "Install" or "Full" (my memory fails me), it will do this for all sub-packages as well
p11200
aVThe first time you click on it, wait a few seconds - there's a long delay in getting from "default" to the next option
p11201
aVThat's the best way
p11202
aVAll the times I've tried to select individual packages, I've had troubles so I've long since gotten into the habit of installing everything
p11203
as(dp11204
g16
V14860
p11205
stp11206
a((dp11207
g2
(lp11208
VIf you're using jQuery, the  command can set up a function to be called once all the images are loaded, as follows:
p11209
aVIf you're not using jQuery, I'd just do what I've done when I want a little bit of its functionality: download it and examine the source to see how it does it
p11210
aVThen do that :-)
p11211
as(dp11212
g16
V14860
p11213
stp11214
a((dp11215
g2
(lp11216
VTo detect your endian-ness, use the following union:
p11217
aVThen you can check the contents of  to detect where each byte went
p11218
aVTo do the conversion, I would use that detection code once to see what endian-ness the platform is using, then write my own function to do the swaps
p11219
aVYou could make it dynamic so that the code will run on any platform (detect once then use a switch inside your conversion code to choose the right conversion) but, if you're only going to be using one platform, I'd just do the detection once in a separate program then code up a simple conversion routine, making sure you document that it only runs (or has been tested) on that platform
p11220
aVHere's some sample code I whipped up to illustrate it
p11221
aVIt's been tested though not in a thorough manner, but should be enough to get you started
p11222
ag5385
aVKeep in mind that this just checks for pure big/little endian
p11223
aVIf you have some weird variant where the bytes are stored in, for example, {5,2,3,1,0,7,6,4} order,  will be a tad more complex
p11224
aVSuch an architecture doesn't deserve to exist, but I'm not discounting the lunacy of our friends in the microprocessor industry :-)
p11225
as(dp11226
g16
V14860
p11227
stp11228
a((dp11229
g2
(lp11230
VThere is no intellectual property, only copyright, patents, trademarks and trade secrets
p11231
aVLaws vary by jurisdiction (obviously) but I know that our company (a big one) does the following (in the USA)
p11232
aVCode is registered with the Library of Congress
p11233
aVThis is not necessary for copyright protection but it makes it easier to prove you hold the copyright in a court of law (I think the legal term is 'a priori', meaning not based on existing art)
p11234
aVPatents are filed with the USPTO and this is incredibly expensive, unless you go for a provisional patent (which offers less of a monopoly term) to "sound out the market"
p11235
aVTrademarks, I have little knowledge of, simply because we don't have to deal with them on a day-to-day basis
p11236
aVI also have no knowledge of trade secrets simply because, in our industry, there's no reliable way to keep them secret and, once they're out, the law gives little protection (possibly restitution if the body that released them was under NDA)
p11237
aVFor all but the biggest shops, I believe copyright would probably be the preferred method of protection
p11238
as(dp11239
g16
V14860
p11240
stp11241
a((dp11242
g2
(lp11243
VThis has so much going on under the covers:
p11244
aVThe  and  variables are pointers (almost certainly characters),  being the destination
p11245
aVThe following steps illustrate what's happening:
p11246
aVthe contents of t () are copied to s (), one character
p11247
aVand  are both incremented ()
p11248
aVthe assignment (copy) returns the character that was copied (to the )
p11249
aVthe  continues until that character is zero (end of string in )
p11250
aVEffectively, it's:
p11251
aVbut written out in a much more compact way
p11252
as(dp11253
g16
V14860
p11254
stp11255
a((dp11256
g2
(lp11257
VThere's an environment variable called  which is set to the system drive (surprisingly enough)
p11258
aVThe  call is how you can get to it
p11259
aVThis page lists a whole slew of environment variables available if you can't rely on specific directories existing on the system drive
p11260
aVAlternatively, use the Windows API call, SHGetSpecialFolderPath(), and pass in the correct CSIDL
p11261
aVThen you shouldn't have to rely on the environment variables
p11262
aVAlthough take note on those pages that this has been superceded by other functions in Vista (it should still work since this function becomes a wrapper around the new one)
p11263
as(dp11264
g16
V14860
p11265
stp11266
a((dp11267
g2
(lp11268
VFrom the Jargon file, always a good read for IT industry history buffs and those who want to know what we're talking about:
p11269
aV=====
p11270
aVBack in the mid-1970s, several of the system support staff at Motorola
p11271
aVdiscovered a relatively simple way to crack system security on the
p11272
aVXerox CP-V timesharing system
p11273
aVThrough a simple programming strategy,
p11274
aVit was possible for a user program to trick the system into running a
p11275
aVportion of the program in 'master mode' (supervisor state), in which
p11276
aVmemory protection does not apply
p11277
aVThe program could then poke a large
p11278
aVvalue into its 'privilege level' byte (normally write-protected) and
p11279
aVcould then proceed to bypass all levels of security within the
p11280
aVfile-management system, patch the system monitor, and do numerous
p11281
aVother interesting things
p11282
aVIn short, the barn door was wide open
p11283
aVMotorola quite properly reported this problem to XEROX via an official
p11284
aVlevel 1 SIDR' (a bug report with a perceived urgency of 'needs to be
p11285
aVfixed yesterday')
p11286
aVBecause the text of each SIDR was entered into a
p11287
aVdatabase that could be viewed by quite a number of people, Motorola
p11288
aVfollowed the approved procedure: they simply reported the problem as
p11289
aVSecurity SIDR', and attached all of the necessary documentation,
p11290
aVways-to-reproduce, etc
p11291
aVseparately
p11292
aVXerox sat on their thumbs
p11293
aVthey either didn't realize the severity of
p11294
aVthe problem, or didn't assign the necessary operating-system-staff
p11295
aVresources to develop and distribute an official patch
p11296
aVMonths passed
p11297
aVThe Motorola guys pestered their Xerox field-support
p11298
aVrep, to no avail
p11299
aVFinally they decided to take Direct Action, to
p11300
aVdemonstrate to Xerox management just how easily the system could be
p11301
aVcracked, and just how thoroughly the system security systems could be
p11302
aVsubverted
p11303
aVThey dug around in the operating-system listings, and devised a
p11304
aVthoroughly devilish set of patches
p11305
aVThese patches were then
p11306
aVincorporated into a pair of programs called Robin Hood and Friar Tuck
p11307
aVRobin Hood and Friar Tuck were designed to run as 'ghost jobs'
p11308
aV(daemons, in Unix terminology); they would use the existing loophole
p11309
aVto subvert system security, install the necessary patches, and then
p11310
aVkeep an eye on one another's statuses in order to keep the system
p11311
aVoperator (in effect, the superuser) from aborting them
p11312
aVSo
p11313
aVone day, the system operator on the main CP-V software
p11314
aVdevelopment system in El Segundo was surprised by a number of unusual
p11315
aVphenomena
p11316
aVThese included the following:
p11317
aVTape drives would rewind and dismount their tapes in the middle of a
p11318
aVjob
p11319
aVDisk drives would seek back and forth so rapidly that they'd attempt
p11320
aVto walk across the floor
p11321
aVThe card-punch output device would occasionally start up of itself
p11322
aVand punch a  (every hole punched)
p11323
aVThese would usually
p11324
aVjam in the punch
p11325
aVThe console would print snide and insulting messages from Robin Hood
p11326
aVto Friar Tuck, or vice versa
p11327
aVThe Xerox card reader had two output stackers;  it could be
p11328
aVinstructed to stack into A, stack into B, or stack into A unless a
p11329
aVcard was unreadable, in which case the bad card was placed into
p11330
aVstacker B
p11331
aVOne of the patches installed by the ghosts added some
p11332
aVcode to the card-reader driver
p11333
aVafter reading a card, it would flip
p11334
aVover to the opposite stacker
p11335
aVAs a result, card decks would divide
p11336
aVthemselves in half when they were read, leaving the operator to
p11337
aVrecollate them manually
p11338
aVThere were some other effects produced, as well
p11339
aVNaturally, the operator called in the operating-system developers
p11340
aVThey
p11341
aVfound the bandit ghost jobs running, and X'ed them
p11342
aVand were once
p11343
aVagain surprised
p11344
aVWhen Robin Hood was X'ed, the following sequence of
p11345
aVevents took place:
p11346
aVEach ghost-job would detect the fact that the other had been killed,
p11347
aVand would start a new copy of the recently-slain program within a few
p11348
aVmilliseconds
p11349
aVThe only way to kill both ghosts was to kill them
p11350
aVsimultaneously (very difficult) or to deliberately crash the system
p11351
aVFinally, the system programmers did the latter
p11352
aVonly to find that
p11353
aVthe bandits appeared once again when the system rebooted
p11354
aVIt turned
p11355
aVout that these two programs had patched the boot-time image (the
p11356
aV/vmunix file, in Unix terms) and had added themselves to the list of
p11357
aVprograms that were to be started at boot time
p11358
aVThe Robin Hood and Friar Tuck ghosts were finally eradicated when the
p11359
aVsystem staff rebooted the system from a clean boot-tape and
p11360
aVreinstalled the monitor
p11361
aVNot long thereafter, Xerox released a patch
p11362
aVfor this problem
p11363
aVIt is alleged that Xerox filed a complaint with Motorola's management about
p11364
aVthe merry-prankster actions of the two employees in question
p11365
aVIt is
p11366
aVnot recorded that any serious disciplinary action was taken against
p11367
aVeither of them
p11368
aV=====
p11369
aVSo, the upshot is to have multiple jobs (as many as you like), monitoring each other and restarting where necessary
p11370
aVYou also need to protect against variants of the kill statement that can kill a whole slew of processes in one hit
p11371
as(dp11372
g16
V14860
p11373
stp11374
a((dp11375
g2
(lp11376
VSeriously, you should not be asking us this question
p11377
aVIt will be far quicker for you to either:
p11378
aVrun this through a debugger, single-stepping the code and keeping a watch on  after each instruction; or
p11379
aVin the absence of a debugger, putting a printf/cout of  after every statement (with a unique ID: )
p11380
aVThis will be thew quickest way to see exactly what's causing the problem
p11381
aVIn any case, your latest answer/comment indicates that you're passing an uninitialized value to  and, given the fact that most of them are pointers, that's also causing you write to invalid memory
p11382
aVI can't tell from the valgrind output which parameter is uninitialized so put a printf/cout at the top of the function to print out all the pointers (not the contents of the pointers)
p11383
aVThis should allow you to see which parameter is bad or has been corrupted
p11384
as(dp11385
g16
V14860
p11386
stp11387
a((dp11388
g2
(lp11389
VIf you're using the MARS simulator, I don't think this is possible (unless someone's extended the syscall interface in your particular install)
p11390
aVFrom the docs here:
p11391
aVMARS implements two modes: 0 for read and 1 for write, and ignores flags
p11392
aVIf you're using a simulator other than MARS, you need to tell us which one
p11393
aVNot all of them implement the same syscalls
p11394
as(dp11395
g16
V14860
p11396
stp11397
a((dp11398
g2
(lp11399
VYes, quite easily
p11400
aVThe only places where physics is useful in computer science is in game programming and physics research
p11401
aVAlthough, in my opinion, there is certainly a correlation between physics bods and computer bods, if only because of a similar mindset
p11402
aVBut you don't have to know any physics to be good with computer science, or vice versa
p11403
as(dp11404
g16
V14860
p11405
stp11406
a((dp11407
g2
(lp11408
VA binary tree is a special case of an m-way tree with only one "value" per node (m = 1) and you either move down to the left or the right link
p11409
aVAn m-way tree can have more than one "value" per node but the theory is still the same: you choose which link to move down to and there's m+1 possible choices
p11410
aVAn m-way tree (where m is 2) can look like this:
p11411
aVThese m-way trees are often used in situations where you can fit more than one value in an efficient block (by efficient, I mean one that can be read and written efficiently, like a disk block, sector, cluster or cylinder depending on how your storage subsystem operates)
p11412
aVFor example, if a disk block is 512 bytes, the values take up 122 bytes and the links take up 4 bytes, you can fit 4 values in a disk block, calculated as follows:
p11413
aVThat gives you four values (4 x 122 = 488) and five links (5 x 4 = 20) for a total of 508 bytes
p11414
aVAlthough there's some wastage, this has the advantage of storing an integral number of values in each efficient block
p11415
as(dp11416
g16
V14860
p11417
stp11418
a((dp11419
g2
(lp11420
VThat second one is the wrong syntax, it should be
p11421
as(dp11422
g16
V14860
p11423
stp11424
a((dp11425
g2
(lp11426
VUnless your linked list is a doubly-linked one, this is difficult to do
p11427
aVRecursion is one way, assuming you don't have lists so big that you'll run out of stack space, something like this (pseudo-code):
p11428
aVThis works because you keep calling  for the next node until you exhaust the list then, as you roll back up the recursion stack, you process each node
p11429
as(dp11430
g16
V14860
p11431
stp11432
a((dp11433
g2
(lp11434
VDo you want a better way to pass the arguments or just a way to stop pylint from nagging you about it
p11435
aVIf the latter, I seem to recall that you could stop the nagging by putting pylint-controlling comments in your code along the lines of:
p11436
aVIn my opinion, there's nothing inherently wrong with passing a lot of arguments and solutions advocating wrapping them all up in some container argument don't solve any problems, other than the nagging pylint :-)
p11437
aVIf you need to pass twenty arguments, then pass them
p11438
aVIt may be that this is required because your function is doing too much and a re-factoring could assist there
p11439
aVBut that's not a decision we can really make unless we see what the 'real' code is
p11440
as(dp11441
g16
V14860
p11442
stp11443
a((dp11444
g2
(lp11445
VTo find the parent of any child (other than 1, which has no parent):
p11446
aVTo find the first and last child of a parent:
p11447
aVYou can see this in operation since, at each level, you add four times as many elements as you did in the previous level:
p11448
ag5385
aVExamples are:
p11449
as(dp11450
g16
V14860
p11451
stp11452
a((dp11453
g2
(lp11454
VThe layout managers for wxPython (and Swing and others) should be able to do this for you if you create the hierarchy properly
p11455
aVLet's assume it's bound to the right hand side, thus:
p11456
aVIf your layout is done right, you will have a top-level layout with two columns, one for the other stuff and one for the right-side container
p11457
aVThat container will have it's own layout manager with two rows, one for the top panel, one for the bottom
p11458
aVThat way, when you resize the top panel (your foldable one) to be shorter (fold) or taller (unfold), the layout manager should expand or contract the bottom panel to fit
p11459
aVObviously you can use more complicated layout managers, I've chosen the simplest ones to illustrate how to do it without cluttering the discussion with column/row spans and anchors and so on
p11460
aVYou can also change the direction of folding by reversing the window managers (horizontal <-> vertical)
p11461
as(dp11462
g16
V14860
p11463
stp11464
a((dp11465
g2
(lp11466
VIf they're graphical applications, your most likely going to need Visual C++ from Microsoft
p11467
aVIf, as I suspect, they're simple command-line applications (for ASCII/Unicode conversion), get a hold of one of the free command-line compilers
p11468
aVMinGW (Minimalist GNU for Windows) is one option but I always steer people towards CygWin since, other than a build environment, it offers a slew of other things which come in really handy
p11469
aVThe  file may well be the script which is supposed to build the code for you in which case its contents would be a great help (to you and us) in figuring out which tools you actually need
p11470
as(dp11471
g16
V14860
p11472
stp11473
a((dp11474
g2
(lp11475
VThat construct sends the standard error stream () to the current location of standard output () - this currency issue appears to have been neglected by the other answers
p11476
aVYou can redirect any output handle to another by using this method but it's most often used to channel  and  streams into a single stream for processing
p11477
aVSome examples are:
p11478
aVNote that that last one will not direct  to  - it redirects it to what  was when the argument was encountered () and then redirects  to
p11479
aVThis allows some pretty sophisticated trickery
p11480
as(dp11481
g16
V14860
p11482
stp11483
a((dp11484
g2
(lp11485
VA single hex character should be checked if it's in the range
p11486
aV0' thru '9' (48 thru  57),
p11487
aVA' thru 'F' (65 thru  70), or
p11488
aVa' thru 'f' (97 thru 102)
p11489
aVAnything else is an error
p11490
aVIf it does fall within one of those ranges, perform the following:
p11491
aVSubtract 48 (brings '0'-'9' down to 0-9)
p11492
aVIf it's still greater than  9, subtract  7 (brings 'A'-'F' down to 10-15)
p11493
aVIf it's still greater than 15, subtract 32 (brings 'a'-'f' down to 10-15)
p11494
aVIf you're certain that the character will always be uppercase for the non-decimal digits, you can skip the third step in each of those lists above but it doesn't require a lot of extra code to do it
p11495
as(dp11496
g16
V14860
p11497
stp11498
a((dp11499
g2
(lp11500
VSQL Server should have a network utility where you can configure the port to be used
p11501
aVContact your client's ISP to see which ports are open (they may even be able to open up 1433 for you) then configure the server to use that port
p11502
aVIn my install, you select: , select  then  and
p11503
aVFrom there you can set the default port to a more accessible one
p11504
as(dp11505
g16
V14860
p11506
stp11507
a((dp11508
g2
(lp11509
VI suggest the use of REs for syntax highlighting
p11510
aVIf it's not working properly, then your RE isn't powerful or complicated enough :-) This is one of those areas where REs shine
p11511
aVBut given that you couldn't supply any examples of failure (so we can tell you what the problem is) or the names of the editors that do it better (so we can tell you how they do it), there's not a lot more we'll be able to give you in an answer
p11512
aVI've never had any trouble with Vim with the mainstream languages and I've never had a need to use weird esoteric languages, so it suits my purposes fine
p11513
as(dp11514
g16
V14860
p11515
stp11516
a((dp11517
g2
(lp11518
VWebsphere MQ is going to be the best (i
p11519
ag75
aVmost supported) method for doing this
p11520
aVThere are clients for a large number of different systems and it runs on all the mainframe OS'
p11521
aVIt's not open source but the client libraries can still be obtained for no money, I believe
p11522
as(dp11523
g16
V14860
p11524
stp11525
a((dp11526
g2
(lp11527
V"MVS is a bit of a legacy system"
p11528
aVHa
p11529
aVIt's still the OS of choice for applications where reliability is the number one concern
p11530
aVNow on to your question :-)
p11531
aVIt depends entirely on what is generating the data
p11532
aVFor example, if you're just downloading files from the host, the FTP negotiation may handle it
p11533
aVBut since you mention Java, it's probably connecting via JDBC to DB2/z, and the JDBC drivers will handle it quite well (much better if you're using IBM's own JRE rather than the Sun version)
p11534
aVEBCDIC itself on the host has quite a few different encodings so you need to at least let us know where the data is coming from
p11535
aVRecent versions of DB2 have no issue with storing Unicode in the database which would alleviate all your concerns
p11536
aVFirst task, find out where the data is coming from and get the encoding from your SysProg (if it's not automatically handled)
p11537
aVUpdate:
p11538
aVAndrew, based on your added text where you state you can't use the provided translations, you're going to have to use the manual method
p11539
aVYou need to identify the source of the data and get the CCSID from that
p11540
aVThen do the translation to and from Unicode (or whatever code page you're using if not Unicode) manually
p11541
aVCCSID 500 is the default code page for EBCDIC International (no Euro) but these machines are used all over the planet
p11542
aVz/OS conversion services is how you usually do the conversion on the mainframe
p11543
aVAlthough this is an iSeries page, it lists a huge number of CCSIDs and their glyphs, applicable to the mainframe as well
p11544
aVYou probably just need to figure out whether you're using CCSID 500 or 37 (or one of the foreign language versions) and work out the mapping with Unicode CCSID 1208
p11545
aVYour SysProg will be able to tell you which one
p11546
aVIf you're working for a US company, it probably 500 or 37, but IBM expends a great deal of effort supporting multiple code pages
p11547
aVI'll be glad when all their mainframe software stores and uses Unicode by default, it'll make things much easier
p11548
as(dp11549
g16
V14860
p11550
stp11551
a((dp11552
g2
(lp11553
VNot sure of the value (or indeed, intent) of the question but it's quite possible to send an HTTP GET request to the web page and examine what comes back
p11554
aVIf all the bytes are within the range 0x20 through 0x7e, you can safely assume it's ASCII
p11555
aVAnything outside that range is not ASCII
p11556
aVPerhaps if your question indicated more on why you were trying to do this, we could help you out further
p11557
aVIf you want to figure out whether the page was FTP'ed to the server in ASCII or binary mode, it won't make any difference (and you won't be able to tell) if the server and the machine that uploaded it are both ASCII
p11558
aVIf you uploaded, for example, an EBCDIC file in binary mode to an ASCII server, that will be immediately obvious :-)
p11559
as(dp11560
g16
V14860
p11561
stp11562
a((dp11563
g2
(lp11564
VCan we get a look at the assembler output of the code (gcc -E, I think)
p11565
aVEven thought the uname indicates it's SMP-aware, that doesn't necessarily mean it was compiled with CONFIG_SMP
p11566
aVWithout that, the assembler code output does not have the  prefix and you can find your cores interfering with one another
p11567
aVBut I would be using the pthread functions anyway since they're portable across more platforms
p11568
as(dp11569
g16
V14860
p11570
stp11571
a((dp11572
g2
(lp11573
VI just use multiple lines to do it thus:
p11574
aVNo magic required for that at all
p11575
aVDon't you just love ASCII art
p11576
as(dp11577
g16
V14860
p11578
stp11579
a((dp11580
g2
(lp11581
VI have only ever found one use for  and it wasn't to do with error handling
p11582
aVThere really is no need to use it for that since it can always be refactored into something easier to follow
p11583
aVThe use of  is very similar to  in that it can be easily abused
p11584
aVAnything that makes your code less readable is a bad idea in general
p11585
aVNote that I'm not saying they're inherently bad, just that they can lead to bad code easier than the alternatives
p11586
aVFWIW, the one place they were invaluable was a project I did in the early days of the industry (MS-DOS 6 time frame)
p11587
aVI managed to put together a co-operative multi-threading library using Turbo C which used those functions in a  function to switch tasks
p11588
aVI'm pretty certain I haven't touched them (or had the need to) since those days
p11589
as(dp11590
g16
V14860
p11591
stp11592
a((dp11593
g2
(lp11594
VDownload instructions off the web for making a low grade dirty nuclear device, zip that up with a street map of Washington, D
p11595
ag10212
aV, then encrypt it and send it to obama@whitehouse
p11596
aVgov
p11597
aVThe strength of your encryption algorithm will be inversely proportional to the time it takes the men in black suits to show up at your door
p11598
aVKeep in mind this is likely to be a one-off experiment, at least for those couple of years you spend in Gitmo :-)
p11599
as(dp11600
g16
V14860
p11601
stp11602
a((dp11603
g2
(lp11604
VHere's the code you need for floating point square root, you can see that the initial input and final output are identical
p11605
aVHere's the output with your parameter:
p11606
as(dp11607
g16
V14860
p11608
stp11609
a((dp11610
g2
(lp11611
VNo, because the preprocessor only takes one "swipe" at the file
p11612
aVThere's no way to get it to recursively define macros
p11613
aVThe only code that I've seen do something like this was not variadic, but used default values the user had to pass:
p11614
aVassuming all values were non-negative
p11615
aVInline functions should give you the same for C++ at least
p11616
aVAs you state, it's probably better left to a function with variable arguments similar to
p11617
as(dp11618
g16
V14860
p11619
stp11620
a((dp11621
g2
(lp11622
VWith awk:
p11623
aVproduces:
p11624
aVIt basically just breaks each line into three fields (with the  option) and maintains a list of updates and deletes that it appends to, depending on the "command"
p11625
aVThe  and  are run before and after all line processing so they're initialization and the final output
p11626
aVI'd put it into a script to make it easier
p11627
aVI left it as a command line tool just since that's how I usually debug my awk scripts
p11628
as(dp11629
g16
V14860
p11630
stp11631
a((dp11632
g2
(lp11633
VWhat's wrong with just experimenting to find out, like the good old days
p11634
aVThis registry key holds, for each executable name, the directory that that application last did its SaveAs (and maybe Save, I'm not sure) in
p11635
aVEach letter holds information for one executable and the  holds the order (this is important)
p11636
aVMine is maxed out at "y" and my  is
p11637
aVFrom experimentation, when I do a SaveAs from an application that's already there, it just replaces the information for that letter and moves it to the front of the
p11638
aVIf the application isn't there and not all the letters are in the , it grabs the first available letter, places the information into that letter, then puts that letter at the front of the
p11639
aVIf the application isn't there and all the letters are used, it grabs the last one on the , places the information into that letter, then moves it to the front of the
p11640
aVI note that doing a SaveAs for a brand new application doesn't give me the  letter, it re-uses the last one in the `MRUList'
p11641
aVThe keys themselves just look like UCS-2 (16-bit Unicode, ASCII with interspersed null bytes in my Australia version of Windows, your mileage may vary for international variants) and they hold the null-terminated executable name, then the null-terminated directory
p11642
aVAnd regarding your comment about not having access to the source of that application, it doesn't matter
p11643
aVIt's not that application changing those keys
p11644
aVComDlg32 is the common dialogs of Windows itself (Open, SaveAs, Print setup, etc)
p11645
aVIf you want to set the MRU for a given application, follow these steps
p11646
aV1/ Search for that application in the letter keys
p11647
aVIf you find it, go to step 3
p11648
aV2/ Get the next letter available that's not in the
p11649
aVIf the  already has all the letters  through  or you're not confident that  will always be the last one (it may be configurable somewhere else in the registry), grab the last letter that is at the end of the
p11650
aV3/ Now you have your letter
p11651
aVChange or create that letter key with the UCS-2 data for your application and directory (both null-terminated)
p11652
aV4/ Change the  to put your letter at the front
p11653
aVThere
p11654
aVThat should do it
p11655
as(dp11656
g16
V14860
p11657
stp11658
a((dp11659
g2
(lp11660
VTo insert at the end of an array, you simply have to put the item there
p11661
aVTo insert into the middle of an array, you need to move the items after that point up by one
p11662
aVTo delete from the end of an array, you just drop its count by one
p11663
aVTo delete from the middle you have to do that and shift the other items down
p11664
aVIt's the shifting that turns it into O(n)
p11665
as(dp11666
g16
V14860
p11667
stp11668
a((dp11669
g2
(lp11670
VMy first step would be to take some of the larger cases and first push them out into separate functions
p11671
aVThat will reduce the visual clutter for a start and make it easier for you to do the next phase
p11672
aVSecondly, identify the commonality of the different cases and create generalized functions to call in their stead
p11673
aVUp to a point
p11674
aVIf you go too far, you'll have a generalized function that's every bit as bad as your current switch statement :-)
p11675
aVI've never seen a tool that can do even half the job of the spongy thing inside your skull
p11676
aVI'd suggest just using that
p11677
as(dp11678
g16
V14860
p11679
stp11680
a((dp11681
g2
(lp11682
VYou need to design your grammar with checkpoints in mind
p11683
aVBy checkpoints, I mean the semicolon for C, a line break for Python or a period for COBOL (as examples)
p11684
aVThis checkpointing is how many compilers recover so that they can report more than just the first error found
p11685
aVI've not used Bison but YACC allows you to override the error handling and I would hope the equivalent GNU tool was at least as powerful as our old UNIX clunkers
p11686
aVI've done this before with a config file YACC grammar
p11687
aVSay you have the following correctly formed segment:
p11688
aVand for some bizarre reason, the user mis-spells "quantity", rendering it incorrect
p11689
aVAt that point in your callbacks, you could just raise an error flag which would prevent further processing until the checkpoint was reached
p11690
aVYou let the parser keep going (catching and ignoring further errors) and make sure your callbacks don't do anything in response to any spurious successes in the damaged syntax
p11691
aVThis could be by simply ignoring all further stanzas up to the closing brace or even by setting a default value for price and only ignoring up to the line break (so that you at least get a partially formed object)
p11692
aVHowever you do it, just reset the error flag when you get to the checkpoint so you can continue processing
p11693
aVI'd still make sure that the user was notified, it's sometimes considered bad form to continue with data the customer didn't want :-)
p11694
as(dp11695
g16
V14860
p11696
stp11697
a((dp11698
g2
(lp11699
VYou have to look at every single line in the range you want (to tell if it's in the range you want) so I'm guessing you mean not every line in the file
p11700
aVAt a bare minimum, you will have to look at every line in the file up to and including the first one outside your range (I'm assuming the lines are in date/time order)
p11701
aVThis is a fairly simple pattern:
p11702
aVYou can write this in awk, Perl, Python, even COBOL if you must but the logic is always the same
p11703
aVLocating the line numbers first (with say grep) and then just blindly printing out that line range won't help since grep also has to look at all the lines (all of them, not just up to the first outside the range, and most likely twice, one for the first line and one for the last)
p11704
aVIf this is something you're going to do quite often, you may want to consider shifting the effort from 'every time you do it' to 'once, when the file is stabilized'
p11705
aVAn example would be to load up the log file lines into a database, indexed by the date/time
p11706
aVThat takes a while to get set up but will result in your queries becoming a lot faster
p11707
aVI'm not necessarily advocating a database - you could probably achieve the same effect by splitting the log files into hourly logs thus:
p11708
aVThen for a given time, you know exactly where to start and stop looking
p11709
aVThe range  through  would result in:
p11710
aVsome (the last bit) of the file
p11711
aVall of the files
p11712
aVall of the files
p11713
aVall of the files
p11714
aVall of the files
p11715
aVsome (the first bit) of the file
p11716
aVOf course, I'd write a script to return those lines rather than trying to do it manually each time
p11717
as(dp11718
g16
V14860
p11719
stp11720
a((dp11721
g2
(lp11722
VI think your copy of Perl must be broken, this is from CygWin's version (5
p11723
aV10):
p11724
aVWhat version are you running (output of )
p11725
aVYou may have to get a 64-bit enabled version of Perl [and possibly a new 64-bit production machine] (note the  in my output)
p11726
aVThat will at least avoid the need for changing the code
p11727
aVI'm stating this on the basis that you don't want to change the code greatly (i
p11728
ag75
aV, you fear breaking things)
p11729
aVThe solution of new hardware, whilst a little expensive, will almost certainly not require you to change the software at all
p11730
aVIt depends on your priorities
p11731
aVAnother possibility is that Perl itself may be storing the number correctly but just displaying it wrong due to a  foible
p11732
aVIn that case, you may want to try:
p11733
aVPut that in a function and call the function to return a string, such as:
p11734
aVNote that I tested this but on the 64-bit platform - you'll need to do your own test on 32-bit but you can use whatever scaling factor you want (including more than two segments if need be)
p11735
aVUpdate: That  trick works fine on a 32-bit Perl so it looks like it is just the  functions that are stuffing you up:
p11736
as(dp11737
g16
V14860
p11738
stp11739
a((dp11740
g2
(lp11741
VThis is what you need
p11742
as(dp11743
g16
V14860
p11744
stp11745
a((dp11746
g2
(lp11747
VStart with:
p11748
aVand go from there
p11749
aVOr are you saying that  is not there
p11750
aVIf it is there, it should be able to tell you where all the log files are
p11751
aVIf it's not there, you need to find out how  was run, either:
p11752
aVby looking at its entry from ; or
p11753
aVlooking at the  entry that started it
p11754
as(dp11755
g16
V14860
p11756
stp11757
a((dp11758
g2
(lp11759
VWe share a single database amongst all our developer (20-odd) but we've got it structured so that everyone has their own tables
p11760
aVYou don't need a separate database per developer if you structure the application right
p11761
aVIt should be configurable which database or table-prefix it uses anyway so you can easily move it between instances (unit test, system test, acceptance test, production, disaster recovery and so on)
p11762
aVThe advantage to using a single database is that the cost of maintenance is amortized
p11763
aVYou don't have your DBAs trying to handle a lot of databases (or, if you're a small-DB shop, you don't have every developer trying to maintain their own database when they're better utilized in developing)
p11764
as(dp11765
g16
V14860
p11766
stp11767
a((dp11768
g2
(lp11769
VIt's a pointer to a pointer, just like in C (which, despite its strange square-bracket syntax, Objective-C is based on):
p11770
aVand so on, ad infinitum (or until you run out of variable space)
p11771
aVIt's often used to pass a pointer to a function that must be able to change the pointer itself (such as re-allocating memory for a variable-sized object)
p11772
aV=====
p11773
aVFollowing your request for a sample that shows how to use it, here's some code I wrote for another post which illustrates it
p11774
aVIt's an  function which manages its own allocations (you still have to free the final version)
p11775
aVInitially you set the string () to NULL and the function itself will allocate space as needed
p11776
ag5385
ag5385
aVThe code outputs the following
p11777
aVYou can see how the pointer changes when the currently allocated memory runs out of space for the expanded string (at the comments):
p11778
aVIn that case, you pass in  since you need to be able to change the  value
p11779
aV=====
p11780
aVOr the following, which does an unrolled bubble sort (oh, the shame
p11781
aVon strings that aren't in an array
p11782
aVIt does this by directly exchanging the addresses of the strings
p11783
aVwhich produces:
p11784
aVNever mind the implementation of sort, just notice that the variables are passed as  so that they can be swapped easily
p11785
aVAny real sort would probably be acting on a true array of data rather than individual variables but that's not the point of the example
p11786
as(dp11787
g16
V14860
p11788
stp11789
a((dp11790
g2
(lp11791
Vx86_64 has the  ("q" for quadword) instruction for 8-byte (64 bit) compare and swap
p11792
as(dp11793
g16
V14860
p11794
stp11795
a((dp11796
g2
(lp11797
VFor code where we issue source, we actually have a build step which takes the unadorned source (without copyrights) and creates new source files with copyrights placed at the top
p11798
aVWe use the regular source files for development but it's the new source files which are the ones passed to manufacturing for distribution
p11799
aVWe then have a post-manufacturing step which verifies that all source code modules start with the correct copyright notice
p11800
aVThat guarantees that all source files have the correct copyright statements
p11801
as(dp11802
g16
V14860
p11803
stp11804
a((dp11805
g2
(lp11806
VIt looks like it might actually be calculating  and the errors are creeping in as soon as you get beyond the significant number of bits for the underlying float type
p11807
aVBut I don't believe that would happen for an IEE754 type float/double since it's quite able to represent 1x10full-range without loss of precision
p11808
aVOne possibility is that the problem you are having is related to the ability to store floats with less precision than allowed (which could possibly screw up a 1e25 calculation) - see http://www
p11809
aVuc
p11810
aVedu/sashtml/lrcon/z0695157
p11811
aVhtm#z0695187 for an explanation
p11812
aVUpdate 1:
p11813
aVOkay, so based on your comment, you're not restricting the length
p11814
aVWhat does the following code give you
p11815
aVBased on that output, we can probably deduce what's going on under the covers
p11816
as(dp11817
g16
V14860
p11818
stp11819
a((dp11820
g2
(lp11821
VSeriously, you should leave them where they are
p11822
aVApplications will be looking for them in specific locations (probably your $HOME directory which is not root, by the way, or shouldn't be)
p11823
aVThis is a very old UNIX convention that you should attempt to change only if you fully understand the consequences
p11824
aVNot meaning to sound condescending but your error in naming your home directory as your root directory seems to indicate your knowledge level of how it all works is less than it should be to understand those consequences (apologies if that offends you, I agonized over the best way to say it - what I mean is that you should tread carefully)
p11825
aVIf you move them, you will have to ensure you run the applications that use them with their paths fully specified, and some applications may not let you do that
p11826
aVThey all start with  so that they're hidden to the normal  commands and, if you're using a graphical file browser, there should be a way to hide them there as well (such as the Gnome File Manager )
p11827
as(dp11828
g16
V14860
p11829
stp11830
a((dp11831
g2
(lp11832
VYour friend is partially right but mostly wrong: it's the same language with extra features
p11833
aVThe good thing is, you don't have to master all the new features
p11834
aVOne of the primary mandates for a standards body is to not break existing code, so you'll be able to go on, happily coding in your old style (I'm still mostly a C coder even though I do "C++" applications :-)
p11835
aVOnly when you want to have a look at the new features will you need to bone up on the changes
p11836
aVThis is a process you can stretch over years if need be
p11837
aVMy advice is to learn what all the new features are at a high level (if only to sound knowledgeable in job interviews) but learn the details slowly
p11838
as(dp11839
g16
V14860
p11840
stp11841
a((dp11842
g2
(lp11843
VThere's a headless X server called Xvfb
p11844
aVIt's basically what you need since it accepts X clients but basically does nothing with the data from them
p11845
aVIf you can't find that, then another possibility would be to use a spare PC with a full CygWin install
p11846
aVIt comes with a full-blown X server which you could connect your application to (and just ignore it)
p11847
aVYou could even set it up as the corporate /dev/null DISPLAY
p11848
aVBut I'd look into Xvfb first
p11849
as(dp11850
g16
V14860
p11851
stp11852
a((dp11853
g2
(lp11854
VThat's usually because you don't have a file called  available to make
p11855
aVCheck that:
p11856
aVthat file exists
p11857
aVyou're in the right directory when you make
p11858
aVOther than that, I've not much else to suggest
p11859
aVPerhaps you could give us a directory listing of that directory
p11860
as(dp11861
g16
V14860
p11862
stp11863
a((dp11864
g2
(lp11865
VI think there's a /v option for findstr which is equivalent to grep -v (include all lines that don't contain the text
p11866
aVSo I'd be looking at:
p11867
aVThe syntax may be slightly different, I haven't had much need to use it and I don'r run Windows at my current location
p11868
aVUse findstr /
p11869
aVfrom a command prompt for details
p11870
aVOr, if you install CygWin (my tool of choice for this sort of stuff), you can just use grep itself:
p11871
aVAddendum:
p11872
aVI actually didn't realize this but apparently findstr also support regexes so you can use:
p11873
aVjust the same as grep (I haven't tested this, I only just found it on TechNet, so you'll need to test it yourself)
p11874
as(dp11875
g16
V14860
p11876
stp11877
a((dp11878
g2
(lp11879
VApart from the obvious typo in your question (the definition of  but the use of ), you don't need to pass arrays with the address-of operator (), since they're converted to addresses automatically
p11880
aVBut your  problem is caused by the use of:
p11881
aVwhich is actually a 2d array of  pointers (technically an array of array of pointer to ), not integers as you expected
p11882
aVYou should use:
p11883
as(dp11884
g16
V14860
p11885
stp11886
a((dp11887
g2
(lp11888
VThat is contiguous memory, you can tell by the addresses  so I don't think you have to worry about that
p11889
aVI'm pretty certain that mmap is required to give you contiguous memory in your address space
p11890
aVIt would be pretty useless otherwise since it only gives you one base address
p11891
aVWith two non-contiguous blocks, there would be no way to find that second block
p11892
aVSo I guess your question is: why does this show up as two blocks in the pmap
p11893
aVTo which my answer would be, "Stuffed if I know"
p11894
aVBut I can make an intelligent guess which is the best anyone can hope for from me at this time of the morning (pre-coffee)
p11895
aVI would suggest that those blocks had been allocated before to another process (or two) and had been released back to the mmap memory manager
p11896
aVI can see two possibilities on how that memory manager coalesces blocks to make bigger free blocks, either:
p11897
aVit does it as soon as the memory is released (not the case as your output shows that's not happening)
p11898
aVit does it periodically and it hadn't got around to it before you requested your 96K block; or
p11899
aVit doesn't bother at all because it's smart enough to do it during the allocation of a block to you
p11900
aVI suspect it's the latter simply because the memory manager had no problems giving you two blocks for your request so it's obviously built to handle it
p11901
aVThe 960K block is probably not segmented because it came from a much bigger block
p11902
aVKeep in mind this is speculation (informed, but still speculation)
p11903
aVI've seen quite a bit of the internals of UNIX (real UNIXes, not that new kid on the block :-) but I've never had a need to delve into mmap
p11904
as(dp11905
g16
V14860
p11906
stp11907
a((dp11908
g2
(lp11909
VThere's an MDGPU package (GPL) which includes an implementation of the GNU rand48() function for CUDA here
p11910
aVI found it (quite easily, using Google, which I assume you tried :-) on the NVidia forums here
p11911
as(dp11912
g16
V14860
p11913
stp11914
a((dp11915
g2
(lp11916
VOn most architectures I've used, the distinction is that:
p11917
aVa SEGV is caused when you access memory you're not meant to (e
p11918
ag1775
aV, outside of your address space)
p11919
aVa SIGBUS is caused due to alignment issues with the CPU (e
p11920
ag1775
aV, trying to read a long from an address which isn't a multiple of 4)
p11921
as(dp11922
g16
V14860
p11923
stp11924
a((dp11925
g2
(lp11926
VTo power up:
p11927
aVTo power back down:
p11928
aVLet's take a more complicated example, 17 power ups, each giving 3% to an intial 1234 power:
p11929
aVIt actually looks pretty simple when you write it out like that
p11930
as(dp11931
g16
V14860
p11932
stp11933
a((dp11934
g2
(lp11935
VSpaces at the beginning of the line in Vim:
p11936
aVThat's:
p11937
aVfor search
p11938
aVfor start of line
p11939
aVfor at least one space
p11940
aVfor zero or more spaces after that
p11941
as(dp11942
g16
V14860
p11943
stp11944
a((dp11945
g2
(lp11946
VWhy do you have a semi-colon  at the end of your function statement
p11947
aVI don't do any AS3 coding but it doesn't look right, and a cursory glance at a few samples on the web don't have it there
p11948
aVI suspect that may be what's causing your problem
p11949
aVTry this instead:
p11950
aVI've also changed the  statements to match what every other piece of AS3 does to return values (thanks, @Herms, forgot to mention that :-)
p11951
as(dp11952
g16
V14860
p11953
stp11954
a((dp11955
g2
(lp11956
VSorting a linked list in constant space is easy, you just have to adjust the pointers
p11957
aVThe easiest way to do this is to use a sort algorithm that only swaps adjacent elements
p11958
aVI'm going to provide a bubble-sort, just because you've made no requirement for efficiency:
p11959
as(dp11960
g16
V14860
p11961
stp11962
a((dp11963
g2
(lp11964
VOne solution is to compress it first
p11965
aVA textual log file should easily go from 9G to well below 5G then you delete the original, giving you 9G of free space
p11966
aVThen you pipe that compressed file directly through split so as to not use up more disk space
p11967
aVWhat you'll end up with is a compressed file and the three files for upload
p11968
aVUpload them then delete them the uncompress the original log
p11969
aV=====
p11970
aVI was half way through that solution when I realized what claptrap it was :-)
p11971
aVA better solution is to just count the lines (say 3 million) and use an awk script to extract and send the individual parts:
p11972
aVAnd, of course this can be done with any of the standard text processing tools in Unix: perl, python, awk, head/tail combo
p11973
aVIt depends on what you're comfortable with
p11974
as(dp11975
g16
V14860
p11976
stp11977
a((dp11978
g2
(lp11979
VI can't actually see anything in the docs (here) as to whether or not it even supports ampersand items
p11980
aVYou might want to test some of the others like  or
p11981
aVThere is mention of support for a  tag so you may be able to get a similar effect with (that's a space between those tags):
p11982
as(dp11983
g16
V14860
p11984
stp11985
a((dp11986
g2
(lp11987
VBasically you need to first separate the block of text into sentences
p11988
aVThat's tricky enough, even in English since you need to look out for periods, question marks, exclamation marks and any other sentence terminators
p11989
aVThen you process one sentence at a time after removing all punctuation (commas, semi-colons, colons, and so on)
p11990
aVThen, when you're left with an array of words, it becomes simpler:
p11991
aVThat's it, pretty simple (after initial massaging of the text block, which may not be as simple as you think)
p11992
aVThis will give you all phrases of two or more words in every sentence
p11993
aVThe separation into sentences, separation into words, removal of punctuation and so on will be the hardest bit but I've already shown you some simple initial rules to follow
p11994
aVThe rest should be added every time a block of text breaks the algorithm
p11995
aVUpdate:
p11996
aVAs requested, here's some Java code which gives the phrases:
p11997
ag5385
ag5385
aVwhich outputs:
p11998
aVNow, keep in mind this is pretty basic Java (some might say it's C written in a Java dialect :-)
p11999
aVIt's just meant to illustrate how to output word groupings from a sentence as you asked for
p12000
aVIt does not do all the fancy sentence detection and punctuation removal I mentioned in the original answer
p12001
as(dp12002
g16
V14860
p12003
stp12004
a((dp12005
g2
(lp12006
VYou're missing a  sign, try this:
p12007
as(dp12008
g16
V14860
p12009
stp12010
a((dp12011
g2
(lp12012
VYou can only get a definitive answer by scanning the entire file looking for newline characters
p12013
aVThere's no way around that
p12014
aVHowever, there are a couple of possibilities which you may want to consider
p12015
aV1/ If you're using a simplistic loop, reading one character at a time checking for newlines, don't
p12016
aVEven though the I/O may be buffered, function calls themselves are expensive, time-wise
p12017
aVA better option is to read large chunks of the file (say 5M) into memory with a single I/O operation, then process that
p12018
aVYou probably don't need to worry too much about special assembly instruction since the C runtime library will be optimized anyway - a simple  should do it
p12019
aV2/ If you're saying that the general line length is about 40-50 characters and you don't need an exact line count, just grab the file size and divide by 45 (or whatever average you deem to use)
p12020
aV3/ If this is something like a log file and you don't have to keep it in one file (may require rework on other parts of the system), consider splitting the file periodically
p12021
aVFor example, when it gets to 5M, move it (e
p12022
ag1775
aV, ) to a dated file name (e
p12023
ag1775
aV, ) and work out how many lines there are at that point (storing it in , then start a new  log file
p12024
aVCharacteristics of log files mean that this dated section that was created will never change so you will never have to recalculate the number of lines
p12025
aVTo process the log "file", you'd just  through some process pipe rather than
p12026
aVTo get the line count of the "file", do a  on the current x
p12027
aVlog (relatively fast) and add it to the sum of all the values in the  files
p12028
as(dp12029
g16
V14860
p12030
stp12031
a((dp12032
g2
(lp12033
VI don't know if this is a similar problem but, in DB2, you have to actually commit following the  statement
p12034
aVOtherwise it's still hanging around
p12035
as(dp12036
g16
V14860
p12037
stp12038
a((dp12039
g2
(lp12040
VThere is no reliable way to detect that you are running under a debugger
p12041
aVThat's because a debugger may use any number of methods to actually debug your code, some of which will almost certainly not be caught by your method
p12042
aVMy question is, why would you care
p12043
aVUnless you're trying to hide something :-)
p12044
as(dp12045
g16
V14860
p12046
stp12047
a((dp12048
g2
(lp12049
VThe use of variables that haven't been defined is actually a bad thing in any language since it indicates that the logic of the program hasn't been thought through properly
p12050
aVPython will assume you know what you're doing, otherwise you'd be using VB :-)
p12051
aVThe following trick, which is similar to yours, will ensure that a variable has some value before use:
p12052
aVHowever, I still don't think that's a good idea - in my opinion, you should refactor your code so that this situation does not occur
p12053
as(dp12054
g16
V14860
p12055
stp12056
a((dp12057
g2
(lp12058
VNo, because whatever "safety" you introduce can be suborned by the language
p12059
aVIt's like building your castle on sand - it doesn't matter how good the castle is, it can still be made to fall if you dig out the sand from underneath it
p12060
aVThere is no mechanism in C to enforce specific parameter types, nor should there be
p12061
aVIf people don't use your tools as they're meant to, that's their own problem, in my opinion
p12062
aVYou're not supposed to be providing software to three-year-olds - they're expected to have some modicum of intelligence
p12063
as(dp12064
g16
V14860
p12065
stp12066
a((dp12067
g2
(lp12068
VThe fact that you have to even ask this question, and that the solutions given are, shall we say, less than perfectly readable :-) should be a good indication that REs are not the real answer to this question
p12069
aVYou would be far better, from a readability viewpoint, to actually code this up as a relatively simple parser
p12070
aVToo often, people try to use REs to be "clever" (I don't mean that in a disparaging way), thinking that a single line is elegant, but all they end up with is an unmaintainable morass of characters
p12071
aVI'd rather have a fully commented 20-line solution that I can understand in an instant
p12072
as(dp12073
g16
V14860
p12074
stp12075
a((dp12076
g2
(lp12077
VAn  script is all you need for that, since it has  facilities built in as part of the language
p12078
aVLet's say your actual file consists of:
p12079
aVand you want to sum the third column
p12080
aVYou can use:
p12081
aVThe BEGIN clause is run before processing any lines, the END clause after processing all lines
p12082
aVThe other clause happens for every line but you can add more clauses to change the behavior based on all sorts of things (-py things)
p12083
as(dp12084
g16
V14860
p12085
stp12086
a((dp12087
g2
(lp12088
VWMI is the tool of choice for all Windows measurement stuff
p12089
aVI've written VB Script code that will periodically query the WMI interface to retrieve CPU information, disk information and all sorts of other things
p12090
aVThe Win32_Process class is the one you're looking for, and this page details how to do it in Java using a free tool called JACOB (Java COM Bridge)
p12091
as(dp12092
g16
V14860
p12093
stp12094
a((dp12095
g2
(lp12096
VI don't know of a way of doing this short of re-coding the history code inside of  (or , really)
p12097
aVHowever, is it really so hard to enter  once you've found your line to start appending at the end
p12098
aVIf you're going to ditch emacs mode then, at some point, you're going to have to do it totally and accept the  way of doing things
p12099
aVJoin us, you know you want to :-)
p12100
as(dp12101
g16
V14860
p12102
stp12103
a((dp12104
g2
(lp12105
VThe easiest way to do it is with char pointers as follows:
p12106
aVThe element "10" in the first line is referenced as  (zero-based, first index is line, second is column)
p12107
as(dp12108
g16
V14860
p12109
stp12110
a((dp12111
g2
(lp12112
VYour statement:
p12113
aVThe function returns the string description of the monitor but for some mysterious reasons, the hMonitor handle remains at 0
p12114
aVis correct
p12115
aVIf you look at the docs here, you'll see that hMonitor is clearly an  parameter and will not be changed
p12116
aVUpdate following comment:
p12117
aVSorry, didn't realize you meant the physical handle being returned in the structure
p12118
aVAll the information I can find on that particular problem seems to indicate that your monitor probably isn't fully DDC/CI compatible (e
p12119
ag1775
aV, here)
p12120
aVAll your structure definitions look fine to me, based on the docs on MSDN for that particular call
p12121
aVAnd indeed, it is populating the description for you
p12122
aVWhat is the value for the number of physical monitors being returned from  ()
p12123
aVAlso, what is the size of your  structure and are you running in 32 or 64 bits
p12124
as(dp12125
g16
V14860
p12126
stp12127
a((dp12128
g2
(lp12129
VUse the following, assuming you have the privileges):
p12130
aVThis will cause power off while giving applications a chance to shut down (if they take too long, they'll be terminated anyway)
p12131
aVIt's part of the Win32 API rather than standard C++ but that's because C++ provides no way to do this directly
p12132
as(dp12133
g16
V14860
p12134
stp12135
a((dp12136
g2
(lp12137
VIn bash, you can do this:
p12138
aVThat last line is commented out but will touch the specified files
p12139
as(dp12140
g16
V14860
p12141
stp12142
a((dp12143
g2
(lp12144
VThis is a standard problem in function interception code
p12145
aVWe had a similar issue with a logging library that used shared memory for storing log level information, while the shared memory library had to log information
p12146
aVThe way we fixed it could be applied to your situation, I believe
p12147
aVIn your intercept code, maintain a static flag that indicates whether or not you're in the middle of an intercept
p12148
aVWhen your intercept is called and the flag isn't set, set the flag then do what you currently do, including calling DbgHelp, then clear the flag
p12149
aVIf your intercept is called while the flag is set, only call the back-end HeapAlloc code without doing any of the other stuff (including calling DbgHelp which is what's causing your infinite recursion)
p12150
aVSomething along the lines of (pseudo-code):
p12151
as(dp12152
g16
V14860
p12153
stp12154
a((dp12155
g2
(lp12156
VI suspect that's because, in a real DBMS, as opposed to Oracle :-), there is a distinction between a blank value and a NULL value
p12157
aVBlank strings are perfectly valid for  fields
p12158
aVThe only value you shouldn't be able to put in a  field is, hang on, trying to remember,
p12159
aVNULL
p12160
aVYes, that's it
p12161
aVNULL
p12162
aV:-)
p12163
aVAside: Oracle made a decision many moons ago to treat empty VARCHARs as NULLs and it still haunts them (or it would if I wasn't the only one that refused to use it because of that problem)
p12164
aVIf you want your PHP code to work like Oracle (where blanks become NULLs), you're going to have to pre-process the string, something like (pseudo-code):
p12165
aVand so on for the other fields which can be NULL as well
p12166
aVI've only shown how to do it for
p12167
aVThat will cause your first_name column in the  statement to be either  or the value of  surrounded by single quotes
p12168
aVKeep in mind all these fields should be checked and/or modified to prevent SQL injection attacks
p12169
as(dp12170
g16
V14860
p12171
stp12172
a((dp12173
g2
(lp12174
VI've not done any work with Google maps specifically but many moons ago, I was involved in a project which managed a mobile workforce for a large Telco
p12175
aVThey had similar functionality in that they had maps which they could zoom in on for their allocated jobs (local to the machine rather than over the network) and we solved a similar problem which sounds very similar like yours
p12176
aVPoints of interest on the maps were called landmarks and were indicated by small markers on the map called landmark pointers, which the worker could select to get a textual description
p12177
aVAt the minimum zoom, there would have been a plethora of landmark pointers, making the map useless
p12178
aVWe made a command decision to limit the landmark pointers to a smaller number (400)
p12179
aVIn order to do that, the map was divided into a 20x20 matrix no matter what the zoom level, which gave us 400 matrix elements
p12180
aVThen, if a landmark shared the same matrix element as another, the application combined them and generated a single landmark pointer with the descriptive text containing the text of all the landmarks in that matrix element
p12181
aVThat way there were never more than 400 landmark pointers
p12182
aVAs the minion zoomed in, the landmark pointers were regenerated and landmarks could end up in different matrix elements - in that case, they were no longer combined with other landmarks
p12183
aVSimilarly, zooming out sometimes merged two or more landmarks into a single landmark pointer
p12184
aVThat sounds like what you're trying to achieve with "clustering or zoom level bunching" although, as I said, I have little experience with Google Maps itself so I'm not sure this is possible
p12185
aVBut given Google's reputation, I suspect it is
p12186
as(dp12187
g16
V14860
p12188
stp12189
a((dp12190
g2
(lp12191
VIs this for an add-in of some sort for Visual Studio
p12192
aVBecause otherwise, you need to be aware that someone running your program may not actually have Visual Studio installed
p12193
aVIf it is installed, you can generally find it at a known location in the registry, such as  for VS2008
p12194
as(dp12195
g16
V14860
p12196
stp12197
a((dp12198
g2
(lp12199
VYou have to watch out for name collisions but this should work okay:
p12200
aVafter you uncomment the  (I left it commented so you could see what it does safely)
p12201
aVThe quotes are for handling files with spaces (evil, vile things in my opinion :-)
p12202
as(dp12203
g16
V14860
p12204
stp12205
a((dp12206
g2
(lp12207
VThere are a number of ways to fix that problem
p12208
aV1/ Unindent the here document end marker, such as:
p12209
aVbut that will make your code look ugly
p12210
aV2/ "Indent" the here document begin marker:
p12211
aVwhere that bit before the first EOF is exactly the same as the before the second (tab, four spaces, two tabs, whatever)
p12212
aVThis allows you to keep your nice indenting, although it doesn't expand variables inside the here-document (  doesn't change)
p12213
aV3/ Allow tabs to be stripped from the start of input lines and the end marker
p12214
aVbut there's no way to get tabs into the beginnings of lines
p12215
aV4/ For your purposes, you can also use:
p12216
aVI believe number 4 is the best option for you
p12217
aVIt allows nice lining up of the input, tabs and spaces anywhere in the lines and variable expansion
p12218
as(dp12219
g16
V14860
p12220
stp12221
a((dp12222
g2
(lp12223
VMulti-threading is useful in any situation where a single thread has to wait for a resource and you can run another thread in the meantime
p12224
aVThis includes a thread waiting for an I/O request or database access while another thread continues with CPU work
p12225
aVMulti-threading is also useful if the individual threads can be farmed out to diffent CPUs (or cores) as they then run truly concurrently, although they'll generally have to share data so there'll still be some contention
p12226
aVI can't see any reason why a multi-threaded Sudoku solver would be more efficient than a single-threaded one, simply because there's no waiting for resources
p12227
aVEverything will be done in memory
p12228
aVBut I remember some of the homework I did at Uni, and it was similarly useless (Fortran code to see how deep a tunnel got when you dug down at 30 degrees for one mile then 15 degrees for another mile - yes, I'm pretty old :-)
p12229
aVThe point is to show you can do it, not that it's useful
p12230
aVOn to the algorithm
p12231
aVI wrote a single threaded solver which basically ran a series of rules in each pass to try and populate another square
p12232
aVA sample rule was: if row 1 only has one square free, the number is evident from all the other numbers in row 1
p12233
aVThere were similar rules for all rows, all columns, all 3x3 mini-grids
p12234
aVThere were also rules which checked row/column intersects (e
p12235
ag1775
aVif a given square could only contain 3 or 4 due to the row and 4 or 7 due to the column, then it was 4)
p12236
aVThere were more complex rules I won't detail here but they're basically the same way you solve it manually
p12237
aVI suspect you have similar rules in your implementation (since other than brute force, I can think of no other way to solve it, and if you've used brute force, there's no hope for you :-)
p12238
aVWhat I would suggest is to allocate each rule to a thread and have them share the grid
p12239
aVEach thread would do it's own rule and only that rule
p12240
aVUpdate:
p12241
aVJon, based on your edit:
p12242
aV[edit] I forgot to mention, the number of threads to be used is specified as an argument to the program, so as far as I can tell it's not related to the state of the puzzle in any way
p12243
aVAlso, there may not be a unique solution - a valid input may be a totally empty board
p12244
aVI have to report min(1000, number of solutions) and display one of them (if it exists)
p12245
aVIt looks like your teacher doesn't want you to split based on the rules but instead on the fork-points (where multiple rules could apply)
p12246
aVBy that I mean, at any point in the solution, if there are two or more possible moves forward, you should allocate each possibility to a separate thread (still using your rules for efficiency but concurrently checking each possibility)
p12247
aVThis would give you better concurrency (assuming threads can be run on separate CPUs/cores) since there will be no contention for the board; each thread will get it's own copy
p12248
aVIn addition, since you're limiting the number of threads, you'll have to work some thread-pool magic to achieve this
p12249
aVWhat I would suggest is to have a work queue and N threads
p12250
aVThe work queue is initially empty when your main thread starts all the worker threads
p12251
aVThen the main thread puts the beginning puzzle state into the work queue
p12252
aVThe worker threads simply wait for a state to be placed on the work queue and one of them grabs it for processing
p12253
aVThe work thread is your single-threaded solver with one small modification: when there are X possibilities to move forward (X > 1), your worker puts X-1 of those back onto the work queue then continues to process the other possibility
p12254
aVSo, lets say there's only one solution (true Sudoku :-)
p12255
aVThe first worker thread will whittle away at the solution without finding any forks and that will be exactly as in your current situation
p12256
aVBut with two possibilities at move 27 (say, 3 or 4 could go into the top left cell), your thread will create another board with the first possibility (put 3 into that cell) and place that in the work queue
p12257
aVThen it would put 4 in its own copy and continue
p12258
aVAnother thread will pick up the board with 3 in that cell and carry on
p12259
aVThat way, you have two threads running concurrently handling the two possibilities
p12260
aVWhen any thread decides that its board is insoluble, it throws it away and goes back to the work queue for more work
p12261
aVWhen any thread decides that its board is solved, it notifies the main thread which can store it, over-writing any previous solution (first-found is solution) or throw it away if it's already got a solution (last-found is solution) then the worker thread goes back to the work queue for more work
p12262
aVIn either case, the main thread should increment a count of solutions found
p12263
aVWhen all the threads are idle and the work queue is empty, main either will or won't have a solution
p12264
aVIt will also have a count of solutions
p12265
aVKeep in mind that all communications between workers and main thread will need to be mutexed (I'm assuming you know this based on information in your question)
p12266
as(dp12267
g16
V14860
p12268
stp12269
a((dp12270
g2
(lp12271
VSRV
p12272
aVSYS is the SMB server driver
p12273
aVWhat the article is saying is that named pipe requests are allowed unless they come from that driver (i
p12274
ag75
aV, unless they originate from somewhere other than the local machine)
p12275
aVThat makes sense since you're registering your server to accept local connections only
p12276
aVYou don't want named pipe connections sneaking in over the network
p12277
aVThis page details the use of named pipes over SMB
p12278
as(dp12279
g16
V14860
p12280
stp12281
a((dp12282
g2
(lp12283
VSWF files have a header right at the start where the frame size in twips is stored as a RECT structure
p12284
aVWhen the image is played back at 100% scaling, there are 20 twips to a pixel
p12285
aVSee this document for details
p12286
as(dp12287
g16
V14860
p12288
stp12289
a((dp12290
g2
(lp12291
VEmacs can do anything any other editor can do, you just have to learn Scheme/Lisp to write the macros :-)
p12292
aVI don't doubt that Vim could also do this (I'm a Vim man myself and I've written macros but I've never felt the need to do specifically what you ask for)
p12293
aVIt's a bit of a contrived question; you may as well ask which editor can:
p12294
aVcapitalize COBOL code
p12295
aVadd sequence numbers
p12296
aVupload it to the mainframe
p12297
aVsend an SMS message to the operator to start a compiler run
p12298
aVMost editors are incredibly configurable nowadays
p12299
as(dp12300
g16
V14860
p12301
stp12302
a((dp12303
g2
(lp12304
VIn C++, no, not really (well, not in any language I'm familiar with, really)
p12305
aVYou have to start at the start of the file so you can figure where line X starts (unless it's a fixed-record-length file but that's unlikely for text)
p12306
aVSimilarly, you have to do that until you find the last line you're interested in
p12307
aVYou can read characters instead of lines if you're scared of buffer overflow exploits, or you can read in fixed-size block and count the newlines for speed but it all boils down to reading and checking every character (by your code explicitly or the language libraries implicitly) to count the newlines
p12308
as(dp12309
g16
V14860
p12310
stp12311
a((dp12312
g2
(lp12313
VIf you start them yourself with the  class, you can probably monitor them that way
p12314
aVBut, if they're started outside of your control, WMI is the way I'd go
p12315
aVThe Win32_Process class is the one you're looking for, and this page details how to do it in Java/JACOB (Java COM Bridge)
p12316
as(dp12317
g16
V14860
p12318
stp12319
a((dp12320
g2
(lp12321
VThe stat() system call takes a filename string and returns the following structure:
p12322
aVThis works equally well on directory entries as well as files and the  is the specific field you're looking for
p12323
aVThe  header file should contain that structure and all the definitions along with  and/or macros for intelligently decoding the fields (see here for a sample)
p12324
aVIf you're interested in how it's really done, you can look at the  source code in GNU coreutils
p12325
aVBut only use that to educate yourself
p12326
aVIt's GPL so you can't just grab it for your own purposes and, if this is homework, your educator will almost certainly fail you if you turn in something that looks too similar to this
p12327
as(dp12328
g16
V14860
p12329
stp12330
a((dp12331
g2
(lp12332
VA socket being "open" doesn't help you with end-to-end connectivity
p12333
aVThe only way to know for sure that you can communicate with the other end is to, well, communicate with the other end
p12334
aVIn any protocol you design, you should think about implementing this checking behavior
p12335
aVIf it's not your protocol, there's sometimes ways to do it sneakily (for example FTP up a very small, useless file to check if the FTP ports are both still open)
p12336
as(dp12337
g16
V14860
p12338
stp12339
a((dp12340
g2
(lp12341
V itself won't stop a previous instance of a job running so, if there's a problem, there's almost certainly something in your PHP doing it
p12342
aVYou'll need to post that code
p12343
as(dp12344
g16
V14860
p12345
stp12346
a((dp12347
g2
(lp12348
V is usually never a good idea
p12349
aVIt may not slow down your DBMS fetch a lot but it will probably result in more data being transmitted over the network than you need
p12350
aVHowever, that's likely to be swamped into insignificance by the use of the  clause which is basically non-indexable and will result in a full table scan
p12351
aVYou might want to consider cleaning up the data as it enters the database since that will almost certainly make subsequent queries run much faster
p12352
aVIf you're after frank, then make sure it's stored as frank and use:
p12353
aVIf you want to get franklin as well, use:
p12354
aVBoth of these will be able to use an index on the name column,  will not
p12355
as(dp12356
g16
V14860
p12357
stp12358
a((dp12359
g2
(lp12360
VI actually despise both those ideas because they've both bitten me before as a developer
p12361
aVThe first doesn't take into account the situation where the operation actually gets faster, it says that there's 10 minutes to go and I come back after 3 and it's finished
p12362
aVThe second doesn't take into account the operation getting slower - I think Windows Explorer must use this method since it always seems to take 90% of the time copying 90% of the files, then another 90% of the time copying that last 10% of the files :-)
p12363
aVI've long since taken to calculating both those figures and averaging them
p12364
aVThe clients don't care (they didn't really care about the other two option either, they just want to see some progress) but it makes me feel better, and that's really all I care about at the end of the day ;-)
p12365
as(dp12366
g16
V14860
p12367
stp12368
a((dp12369
g2
(lp12370
VIt's a good idea to just install everything with CygWin
p12371
aVWhen you run setup, just click on the circular icon at the top level until it reads "Full" rather then "Default" - that will install all the packages
p12372
aVI've sometimes had trouble installing single packages due to dependencies but a full install is not affected by that same problem
p12373
aVDisk space is cheap, your time spent trying to figure out why things don't work is not
p12374
as(dp12375
g16
V14860
p12376
stp12377
a((dp12378
g2
(lp12379
VI'm not sure I understand the question but you normally have the rule by virtue of the fact that your executing a specific part of the makefile, such as:
p12380
aVIf you have some other setup in your makefile, your best bet is to post it so we can do  a better analysis
p12381
as(dp12382
g16
V14860
p12383
stp12384
a((dp12385
g2
(lp12386
VWhy are you giving a list of HTML files to xargs
p12387
aVThat program takes its file list from the pipeline (output of grep)
p12388
as(dp12389
g16
V14860
p12390
stp12391
a((dp12392
g2
(lp12393
VIt's almost always a bad idea to use the  function as it can leave your file pointer in an unknown location on failure
p12394
aVI prefer to use  to get each line in and then  that
p12395
aVYou can then continue to examine the line read in as you see fit
p12396
aVSomething like:
p12397
aVappears to be what you're trying to do, reading in a string until you encounter a newline character
p12398
as(dp12399
g16
V14860
p12400
stp12401
a((dp12402
g2
(lp12403
VDespite the fact that that is a 3D array, the most readable solution is often the best (best is a subjective word, you should have said best in terms of some property, and readability is usually my first choice)
p12404
aVIf there were really only three elements in the inner loop and you wanted to emphasize that ther were three columns, you could try:
p12405
as(dp12406
g16
V14860
p12407
stp12408
a((dp12409
g2
(lp12410
VI tend to avoid varargs except in one specific circumstance where it's very useful
p12411
aVVariable arguments don't really deliver all that much benefit over and above what can be done by individual function calls, especially in your case
p12412
aVIn terms of readability (and that's usually what I prefer over raw speed except for very specific cases), there's no real difference between the following two options (I've added a count to the varargs versions since you need either a count or sentinel to detect the end of the data):
p12413
aVIn fact, as the varargs version gets longer, you'll need to split it up anyway, for formatting:
p12414
aVDoing it the "one call per field name" way results in simpler code in the function itself, and does not degrade the readability of the calls
p12415
aVIn addition, it allows the compiler to properly detect certain errors that it cannot do for varargs, such as incorrect types or a mismatch between the user-supplied count and the actual count
p12416
aVIf you really must be able to call a single function to do it, I'd opt for:
p12417
aVYou could even do the higher-level functions as macros if you prefer, without losing type safety
p12418
aVThe only place I tend to use varargs functions is when providing the same functionality as  - for example, I've occasionally had to write logging libraries with functions such as  providing the same functionality
p12419
aVI can't think of any other time in my long (and I mean, long :-) time at the coalface that I've needed to use it
p12420
aVAs an aside, if you do decide to use varargs, I tend to go for sentinels rather than counts since this prevents mismatches when adding fields
p12421
aVYou could easily forget to adjust the count and end up with:
p12422
aVwhen adding, which is insidious because it silently skips k3/v3, or:
p12423
aVwhen deleting, which is almost certainly fatal to the successful running of your program
p12424
aVHaving a sentinel prevents this (as long as you don't forget the sentinel, of course):
p12425
as(dp12426
g16
V14860
p12427
stp12428
a((dp12429
g2
(lp12430
VNo, this cannot be done
p12431
aVThe whole concept of the root user relies on unfettered access
p12432
aVYou can quite easily protect your files from other regular users, using either the user/group/other paradigm or access control lists but, once someone has root powers, you cannot restrict them at all
p12433
aVThere's a good reason for this - if you lost access to your files somehow, how would you expect the administrators to recover them for you
p12434
aVThe way of dealing with your concerns is to either restrict the number of people with root access or somehow encrypt your files
p12435
aVBut even that latter suggestion wouldn't stop a determined root user who can look inside your process address spaces or intercept your input stream to grab your passwords if need be
p12436
aVThe only workable security will be having your own box with only you having the root powers
p12437
aVThen you can treat a root user on a different box as just a regular user on yours
p12438
as(dp12439
g16
V14860
p12440
stp12441
a((dp12442
g2
(lp12443
VThis has been asked a couple of times so I'm going to try for the definitive answer
p12444
aVWhen you divide a number by three, there are only three possible remainders (0, 1 and 2)
p12445
aVWhat you're aiming at is to ensure the remainder is 0, hence a multiple of three
p12446
aVThis can be done by an automata with the three states:
p12447
aVST0, multiple of 3 (0, 3, 6, 9,
p12448
aVST1, multiple of 3 plus 1 (1, 4, 7, 10,
p12449
aVST2, multiple of 3 plus 2 (2, 5, 8, 11,
p12450
aVNow think of any non-negative number (that's our domain) and multiply it by two (tack a binary zero on to it)
p12451
aVThe transitions for that are:
p12452
aVNow think of any non-negative number and multiply it by two then add one (tack a binary one on to it)
p12453
aVThe transitions for that are:
p12454
aVThis idea is that, at the end, you need to finish up in state ST0
p12455
aVHowever, given that there can be an arbitrary number of sub-expressions (and sub-sub-expressions), it does not lend itslef easily to reduction to a regular expression
p12456
aVWhat you have to do is allow for any of the transition sequences that can get from ST0 to ST0 then just repeat them:
p12457
aVThese boil down to the two RE sequences:
p12458
aVor the regex:
p12459
as(dp12460
g16
V14860
p12461
stp12462
a((dp12463
g2
(lp12464
VIf it's a paddle, then why not paddleBound
p12465
aVThat's not rocket science, it describes the object and its property and should be enough to distinguish it from anything else, except maybe the other paddle (then you can just use paddel1Bound or userPaddleBound for further distinction)
p12466
as(dp12467
g16
V14860
p12468
stp12469
a((dp12470
g2
(lp12471
VYour function seems very complicated for what should be a simple operation
p12472
aVSome problems are (not all of these are bugs):
p12473
aV, and other memory allocation functions, can fail, you should allow for all possible issues
p12474
aVonly allocate resources (memory in this case) if and when you need it
p12475
aVyou should be able to distinguish between errors and valid stings
p12476
aVAt the moment, you don't know whether  failure of  or a working  produces an empty string
p12477
aVyou don't need to  memory that you're going to overwrite anyway
p12478
aVall invalid parameters should either cause an error or be coerced to a valid parameter (and your API should document which)
p12479
aVyou don't need to set the local emptyString to NULL after freeing it - it will be lost on function return
p12480
aVyou don't need to usr  - you should know the sizes and the memory you have available before doing any copying so you can use the (most likely) faster
p12481
aVyou're use of base-1 rather than base-0 for string offsets goes against the grain of C
p12482
aVThe following segment is what I'd do (I rather like the Python idiom of negative values to count from the end of the string but I've kept length rather than end position)
p12483
as(dp12484
g16
V14860
p12485
stp12486
a((dp12487
g2
(lp12488
VThere are a number (roughly 20) of header files in the C standard and unistd is not one of them (it's a POSIX/UNIX95/UNIX98 header)
p12489
aVSo there's no requirement for a vendor to provide it
p12490
aVNeither C89 nor C99 have unistd as one the the mandated header files
p12491
aVThe easiest way to truncate a file is to reopen it in write mode (assuming you have the file name)
p12492
aVIf all you have is the file handle, you need to use
p12493
aVYou will only get  if the mode is incorrect
p12494
aVYou cannot change the mode except accoording to the following table:
p12495
aVSee man freopen for further details
p12496
as(dp12497
g16
V14860
p12498
stp12499
a((dp12500
g2
(lp12501
VI'm partially guessing based on the heritage of C# but I suspect it's the same as the other OO languages
p12502
aVStatic methods do not require an object to work on
p12503
aVA good example is something like:
p12504
aVInstance methods do require an object
p12505
aVAn example is along the lines of:
p12506
aVNot all information belonging to a class should need an object instantiated for that class to get access to it
p12507
aVAll those constants which can be used for creation of objects (, , etc) are prime examples of this
p12508
as(dp12509
g16
V14860
p12510
stp12511
a((dp12512
g2
(lp12513
VWhy do you need an API to do it
p12514
aVSimply write your own function to call  (or whatever produces BE) then simply reverse the bytes
p12515
aVThat doesn't sound so hard
p12516
aVSomething like:
p12517
as(dp12518
g16
V14860
p12519
stp12520
a((dp12521
g2
(lp12522
VThe dead letter queue was always used in MQSeries (the last time I used MQ) to store messages that arrived at the queue manager but the queue didn't exist
p12523
aVFor eample, if the message was address to queue manager X and queue Y, it would arrive via a channel at manager X
p12524
aVIf the receiver channel discovered there was no queue Y, it would be placed in the dead letter queue
p12525
aVThe backout queue, on the other hand, is more of an application-level thing (at least in terms of MQ)
p12526
aVWhen an MQ client cannot process the message for some reason, it can back it out for later processing (back to it's original queue)
p12527
aVIf it's backed out too many times (the threshold can be configured), it gets moved to the backout queue
p12528
as(dp12529
g16
V14860
p12530
stp12531
a((dp12532
g2
(lp12533
VNothing stops you from getting the parameters wrong in the "secure" version either
p12534
aVMicrosoft seems to think that you'll always use something like:
p12535
aVand check the error
p12536
aVBut this only helps people who don't know what they're doing with the language
p12537
aVIn my opinion, that group of people either shouldn't be using the language or they should learn how it works properly
p12538
aVThis sort of crutch doesn't do them any favors in the long run since their code won't be portable
p12539
aVNow it may be that Microsoft did some analysis and found that there were a lot of problems caused by people misusing  and they thought this would fix it
p12540
aVBut, if that were the case, I suspect a better solution would be to educate the developers rather than forcing them to use non-standard features which will be unavailable in standard compilers
p12541
as(dp12542
g16
V14860
p12543
stp12544
a((dp12545
g2
(lp12546
VWhat's happening is that variable substitution is done when a line is read
p12547
aVWhat you're failing to take into account is the fact that:
p12548
aVis one "line", despite what you may think
p12549
aVThe expansion of  is done before the  statement
p12550
aVWhat you need is delayed expansion
p12551
aVJust about every single one of my command scripts starts with  so as to use the full power of
p12552
aVSo my version of the script would be:
p12553
aVThis generates the correct  rather than
p12554
as(dp12555
g16
V14860
p12556
stp12557
a((dp12558
g2
(lp12559
VThis actually looks like a job for Superman, oops, I mean double entry accounting
p12560
aVYour transactions should be structured as bookkeeping entries thus:
p12561
aVAnd there you have it
p12562
aVAt each transaction, you credit one ledger account and debit another so that the balance is always zero
p12563
aVAt at the end, you simply work out the minimal number transactions to be applied to each account to return it to zero
p12564
aVFor this simple case, it's a simple $4 transfer from Bill to Alice
p12565
aVWhat you need to do is to reduce at least one account (but preferably two) to zero for every transaction added
p12566
aVLet's say you had the more complicated:
p12567
aVThen the transactions needed would be:
p12568
aVUpdate:
p12569
aVThere are some states where a simple greedy strategy does not generate the best solution (kudos to  for pointing this out)
p12570
aVOne example is:
p12571
aVClearly, this could be reversed in four moves (since four moves is all it took to get there) but, if you choose your first move unwisely , five is the minimum you'll get away with
p12572
aVYou can solve this particular problem with the following rules:
p12573
aV(1) if you can wipe out two balances, do it
p12574
aV(2) otherwise if you can wipe out one balance and set yourself up to wipe out two in the next move, do it
p12575
aV(3) otherwise, wipe out any one balance
p12576
aVThat would result in the following sequence:
p12577
aV(a) [1] not applicable, [2] can be achieved with
p12578
aV(b) [1] can be done with
p12579
aV(c) and (d), similar reasoning with Doug, Edie and Fred, for four total moves
p12580
aVHowever, that works simply because of the small number of possibilities
p12581
aVAs the number of people rises and the group inter-relations becomes more complex, you'll most likely need an exhaustive search to find the minimum number of moves required (basically the rules 1, 2 and 3 above but expanded to handle more depth)
p12582
aVI think that is what will be required to give you the smallest number of transactions in all circumstances
p12583
aVHowever, it may be that that's not required for the best answer (in terms of "bang per buck")
p12584
aVIt may be that even the basic 1/2/3 rule set will give you a good-enough answer for your purposes
p12585
aVI'm reminded of people complaining that calculating PI with the formula 355/113 isn't accurate
p12586
aVIn fact, it has an error of about one part in 125 million so that the calculation of the circumference of a circle as big as the whole Earth would only be out by about the length of your average car
p12587
aVBack-of-the-envelope proof follows for those of a more disbelieving nature:
p12588
as(dp12589
g16
V14860
p12590
stp12591
a((dp12592
g2
(lp12593
VThe idea of multiple testing cycles is to catch problems as early as possible when things change
p12594
aVUnit tests should be done by the developers to ensure the units work in isolation
p12595
aVAcceptance tests should be done by the client to ensure the system meets the requirements
p12596
aVHowever, something has changed between those two points that should also be tested
p12597
aVThat's the integration of units into a product before being given to the client
p12598
aVThat's something that should first be tested by the product creator, not the client
p12599
aVThe minute you invlove the client, things slow down so the more fixes you can do before they get their grubby little hands on it, the better
p12600
aVIn a big shop (like ours), there are unit tests, integration tests, globalization tests, master-build tests and so on at each point where the deliverable product changes
p12601
aVOnly once all high severity bugs are fixed (and a plan for fixing low priority bugs is in place) do we unleash the product to our beta clients
p12602
aVWe do not want to give them a dodgy product simply because fixing a bug at that stage is a lot more expensive (especially in terms of administrivia) than anything we do in-house
p12603
as(dp12604
g16
V14860
p12605
stp12606
a((dp12607
g2
(lp12608
VSince this sounds like homework, it's algorithms only from me
p12609
aVYou need to initialize both a position and count variable to 0 then start reading in character by character (with each character incrementing the position variable)
p12610
aVReading the characters means opening the file once then executing a loop for each read then closing the file once end-of-file has been detected
p12611
aVWhenever the character is "E" and the position variable is a multiple of five, increment the count
p12612
aVOnce all the characters have been read, output the count
p12613
aVUpdate:
p12614
aVAs requested, here's some code that demonstrates what I meant
p12615
aVSince you haven't provided any indication that you've tried it yourself, I've done it using standard C rather than C++ and I've not added any comments
p12616
aVBut I have put in enough debug stuff so you can see what I meant in the output (see below)
p12617
aVYou still have some work to do to understand it but, if you post your own attempts, you'll get a lot more help
p12618
aVPlease don't try to pass this work off as your own
p12619
aVYour educators will no doubt be able to see this code as well as you (hence you will fail if this is indeed classwork) and you should use C++ constructs for input and output (iostreams rather than stdio
p12620
aVh)
p12621
ag5385
aVHere's the output:
p12622
aVThis had a single file called  that contained your input string
p12623
aVSymbols on the second line are:
p12624
aVfor an  not in a 5-th character position
p12625
aVfor a 5-th character position that's not an
p12626
aVfor an  in a 5-th character position
p12627
aVfor everything else
p12628
as(dp12629
g16
V14860
p12630
stp12631
a((dp12632
g2
(lp12633
VMy first question would be: why are you assembling the code
p12634
aVIf you want the assembler code the, by all means, use  to get it (for viewing, I guess)
p12635
aVBut you don't need to run that through  to keep going, just use:
p12636
aVThat first step will turn the C source directly into an executable, the second will give you your assembler source
p12637
aVYour specific problem may be that  tries to write its output to
p12638
aVIf that's also your input file, it may well be being destroyed in the process of running
p12639
aVYou could try renaming  to  before running the ld command:
p12640
as(dp12641
g16
V14860
p12642
stp12643
a((dp12644
g2
(lp12645
VThis page shows a slightly torturous way to do it
p12646
aVI've trimmed it down to match what your question asked for but haven't tested thoroughly
p12647
aVLet me know if there's any problems
p12648
aVOne thing I noticed on that site is that the code they had for a quiet NaN was wrong, it should start the mantissa with a 1-bit - they seemed to have got that confused with a signalling NaN
p12649
ag5385
aVIt basically uses kernel-level memory copies to transfer the bit patterns from a byte array to the double
p12650
aVYou should keep in mind however that there are multiple bit-values that can represent QNaN, specifically the sign bit can be 0 or 1 and all bits of the mantissa other than the first can also be zero or 1
p12651
aVThis may complicate your strategy for comparisons unless you can discover if VB6 only uses one of the bit patterns - it won't affect the initialization of those values however, assuming VB6 properly implements IEE754 doubles
p12652
as(dp12653
g16
V14860
p12654
stp12655
a((dp12656
g2
(lp12657
VThis is a standard (although 8-way) merge sort
p12658
aVBasically you "open" the eight sorted lists then begin processing them, extracting the lowest value each time, something like:
p12659
ag5385
ag5385
as(dp12660
g16
V14860
p12661
stp12662
a((dp12663
g2
(lp12664
VWe never really found an adequate solution for stress testing our mainframe DB2 database so we ended up rolling our own
p12665
aVIt actually just consists of a bank of 30 PCs running Linux with DB2 Connect installed
p12666
aV29 of the boxes run a script which simply wait for a starter file to appear on an NFS mount then start executing fixed queries based on the data
p12667
aVThe fact that these queries (and the data in the database) are fixed means we can easily compare against previous successful runs
p12668
aVThe 30th box runs two scripts in succession (the second is the same as all the other boxes)
p12669
aVThe first empties then populates the database tables with our known data and then creates the starter file to allow all the other machines (and itself) to continue
p12670
aVThis is all done with  and DB2 Connect so is fairly easily maintainable (and free)
p12671
aVWe also have another variant to do random queries based on analysis of production information collected over many months
p12672
aVIt's harder to check the output against a known successful baseline but, in that circumstance, we're only looking for functional and performance problems (so we check for errors and queries that take too long)
p12673
aVWe're currently examining whether we can consolidate all those physical servers into virtual machines, on both the mainframe running zLinux (which will use the shared-memory HyperSockets for TCP/IP, basically removing the network delays) and Intel platforms with VMWare, to free up some of that hardware
p12674
aVIt's an option you should examine if you don't mind a little bit of work up front since it gives you a great deal of control down the track
p12675
as(dp12676
g16
V14860
p12677
stp12678
a((dp12679
g2
(lp12680
VSince you have two sources of the information (the search term and the modifier), I would use the following
p12681
aVIt allows for a single modifier ( for appending " is" and enclosing the whole thing in quotes,  for prefixing "define:" and enclosing the whole thing in quotes, and  for simply adding the search term to limit you to wikipedia)
p12682
aVNote that the placement of quotes is controlled by the modifier since it may need to quote the argument passed to Google or add search terms outside that argument
p12683
aVYou have full control over what's produced in the URL (make sure you turn the  back into an  before shipping to production)
p12684
aVAnd here's some sample output:
p12685
aVIf you don't provide a search term, you'll just get the Google search page
p12686
as(dp12687
g16
V14860
p12688
stp12689
a((dp12690
g2
(lp12691
VGenerally, static libs do not generate object files
p12692
aVWhat you do is create object files and place them in a library, then the linker will search for the object files in those libraries
p12693
aVI'll explain from a UNIXy command line point of view since that's the simpler to understande (I have no idea what machinations VS does before doing the basic stuff)
p12694
aVA sample command line for creating an executable is:
p12695
aVThe first line simply creates an object file from your  file
p12696
aVThe second line creates the executable by pulling object files together, generally following a rule set like:
p12697
aVAll  file listed explicitly are linked
p12698
aVOnce that's done, you search the libraries for other objects which satisfy referenced-but-undefined symbols
p12699
aVFor example, say your  contained the line
p12700
aVThat will have resulted in your  file containing a reference to  that is not yet satisfied
p12701
aVThe linker will search your specified libraries until it satisfies that reference
p12702
aVIn this case it will search all files of the form  where:
p12703
aVis from your  option (a path to search for libraries in)
p12704
aVis a constant
p12705
aVis the name of a library to search (from )
p12706
aVis one or more extensions (, etc)
p12707
aVOnce the symbol is found, that object file is linked in to resolve it
p12708
aVThis may result in more unsatisfied symbols appearing such as  having a reference to
p12709
aVYour particular problem may be caused by the fact that you're trying to link the object file directly rather than searching the libraries
p12710
aVVS should have project options to specify object files, library search paths and library names (I'm not sure of this for the latest versions but I know earlier versions of MSVC did)
p12711
as(dp12712
g16
V14860
p12713
stp12714
a((dp12715
g2
(lp12716
VI still use, and prefer, the Big Red Book method of time monitoring
p12717
aVI never managed to find any application that was as portable as that method
p12718
aVIt involves carrying around a big red book (no, seriously) and just writing down what you're working on
p12719
aVThen, if it needs to go into an application, I do that at the end of the day
p12720
aVThat way, I'm not bothered by switching apps or having to make sure I take my laptop everywhere
p12721
aVMy Big Red Book still puts even the slimline Macs to shame in terms of:
p12722
aVweight
p12723
aVpower management
p12724
aVboot times
p12725
aVreliability (always carry a spare pen)
p12726
aVSometimes the best application is no application
p12727
aVThat's my opinion, it works for me, but others may be different
p12728
as(dp12729
g16
V14860
p12730
stp12731
a((dp12732
g2
(lp12733
VSurely if you can  it, you can open, read and close it using the standard features of the language without resorting to a -type call
p12734
aVYou may just need to detect what platform you're on dynamically and either:
p12735
aVuse the  "file" for Linux; or
p12736
aVcommunicate with WMI for Windows
p12737
aVThat last line can use:
p12738
aVThen use info's NumberOfProcessors item
p12739
as(dp12740
g16
V14860
p12741
stp12742
a((dp12743
g2
(lp12744
VA couple of suggestions to narrow down the problem:
p12745
aVUse time on your program and look at the system/user times, not elapsed time
p12746
aVThat will give you a better indication
p12747
aVput a  before each of the three initial push_back statements, before the for loop, before the erase and before the return
p12748
aVThis will show which operation is causing the problem
p12749
aVTell us what hardware you're running on as well
p12750
aVYou may have a 286-class pSeries
p12751
aVThen get back to us with the hard data and we can help out some more
p12752
as(dp12753
g16
V14860
p12754
stp12755
a((dp12756
g2
(lp12757
VIf you're looking for the slope of the sine wave, it's done via standard calculus functions
p12758
aVThe slope of the line  is
p12759
aVHowever, based on your formula, I'm not entirely sure that's what you're after
p12760
aVMaybe you need to clarify it
p12761
aVBut if you want the approach as shown in your question, I think your concern about performance is misplaced here
p12762
aVIn order to do this calculation as a single arithmetic expression, you're going to have to multiply by -1 depending on whether you're above or below the x-axis (and whether you're transitioning across that axis from f(n-1) to f(n))
p12763
aVThat's likely to be slower (or at least no faster) than a simple sequence of if-statements once it's been compiled down to machine language
p12764
aVAs with all optimizations, you should choose the easiest-to-develop approach first then see if it has performance problems
p12765
aVOtherwise you may be wasting a lot of effort up front for an unneeded boost
p12766
as(dp12767
g16
V14860
p12768
stp12769
a((dp12770
g2
(lp12771
VMost likely is character based XOR
p12772
aVYou'll need to get samples of them to verify but most checksums usually end up at 0
p12773
aVSo, for an XOR checksum, you would have the packet:
p12774
aVwhere X is the checksum and, when you XOR all those characters together, you'd most likely get 0
p12775
aVSo, to work out X, you just XOR all the characters in "Bob,001"
p12776
aVThat's by virtue of the fact that N xor N is always 0, for any N
p12777
aVNow it may be that X will be two hex characters if all you're allowed to have is alphanumerics
p12778
aVThat's why you need either sample data (so we can work it out) or a proper spec (which should be provided by the device manufacturer)
p12779
aVWhat is the actual device you're referring to
p12780
aVIt may be there's info on the web that shows how to do it
p12781
aVBased on update:
p12782
aVIt's an Amadeus Hospitality PMS device
p12783
aVNo all they say is that it must be performed over all chars
p12784
aVexcluding the STX and ETX
p12785
aVYou'll need to get some sample data to confirm but it's likely to a data stream something like:
p12786
aVThe position of the checksum may vary and, indeed, it's calculation may vary too though that's much less likely
p12787
aVI don't think much more can be done without sample data or further information from the vendor
p12788
aVA cursory search of the internet turned up no technical details
p12789
as(dp12790
g16
V14860
p12791
stp12792
a((dp12793
g2
(lp12794
VIt's because  retrieves the character then increments the pointer
p12795
aVYou want  which increments the character at that pointer:
p12796
aVYou should be very careful on running this on strings above 9xxx since you'll have to ensure you've left room for the next digit up (pre-fill it with 0 if necessary)
p12797
aVOtherwise add protection such as the wrap feature below:
p12798
aVThis code results in:
p12799
aVas expected
p12800
as(dp12801
g16
V14860
p12802
stp12803
a((dp12804
g2
(lp12805
VAre you calling this function before outputting any HTML
p12806
aVThat's a known foible of the call since cookies have to appear in the HTTP header
p12807
aVYou might want to also check the time on the client side
p12808
aVEven though you're setting to expire one day ago, it's possible that the clock skew might be greater (if times aren't set correctly)
p12809
aVAnd I prefer to populate all parameters rather than relying on defaults (which can change based on many things)
p12810
aVIn addition, you may want to check the return code although I have no idea how it could fail, something like:
p12811
aVFailing that, you may need to have a look at what's going on at the wire level
p12812
aVIn other words, examine the HTTP response to ensure there's a  in the HTTP headers and examine the actual values being passed along with it
p12813
aVAnd one last trick to try: delete the cookie totally and exit from the browser (some of them cache in memory)
p12814
aVThen try again
p12815
aVIf the PHP setcookie is not working then no cookie will be created - the one you have that's not being changed or expired may be left over from a previous successful variant of your code
p12816
as(dp12817
g16
V14860
p12818
stp12819
a((dp12820
g2
(lp12821
VYou can "control" clients a little easier than managers since the only power they really have is to not give the work to you (that solves your incorrect estimates problem pretty quickly)
p12822
aVBut you just need to point out that it's not the analyst doing the work, it's you
p12823
aVAnd nobody is better at judging your times than you are
p12824
aVIt's a fact of life that people paying for the work (including managers) will focus on the lower figure
p12825
aVMany times I've submitted proper estimates with lower (e
p12826
ag1775
aV, $10
p12827
aV000) and upper bounds (e
p12828
ag1775
aV, $11,000) and had emails back saying that the clients were quite happy that I'd quoted $10,000 for the work
p12829
aVThen, for some reason, they take umbrage when I bill them $10,500
p12830
aVYou have to make it clear up front that estimates are, well, estimates, not guarantees
p12831
aVOtherwise they wouldn't be paying time-and-materials but fixed-price (and the fixed price would be considerably higher to cover the fact that the risk is now yours, not theirs)
p12832
aVIn addition, you should include all assumptions and risks in any quotes you give
p12833
aVThis will both cover you and demonstrate that your estimate is to be taken more seriously than some back-of-an-envelope calculation
p12834
as(dp12835
g16
V14860
p12836
stp12837
a((dp12838
g2
(lp12839
VAlgorithms only, since this is probably homework [Apologies to Raymond, it's an interview question rather than homework, as his edits/comments make clear
p12840
aVHowever, the algorithms and added pseudo-code are still valid for that purpose, and I've added some C code at the end]
p12841
aVYou need to find the longest palindrome at the end of the string
p12842
aVAn algorithm to see if a string is a palindrome can be created by simply running one pointer from the start of the string and one from the end, checking that the characters they refer to are identical, until they meet in the middle
p12843
aVSomething like:
p12844
aVTry that with the full string
p12845
aVIf that doesn't work, save the first character on a stack then see if the remaining characters form a palindrome
p12846
aVIf that doesn't work, save the second character as well and check again from the third character onwards
p12847
aVEventually you'll end up with a series of saved characters and the remaining string which is a palindrome
p12848
aVBest case is if the original string was a palindrome in which case the stack will be empty
p12849
aVWorst case is one character left (a one-character string is automatically a palindrome) and all the others on the stack
p12850
aVThe number of characters you need to add to the end of the original string is the number of characters on the stack
p12851
aVTo actually make the palindrome, pop the characters off the stack one-by-one and put them at the start and the end of the palindromic string
p12852
aVExamples:
p12853
ag5385
aVConverting this method to "code":
p12854
aVFor those less interested in pseudo-code, here's a test program in C which does the trick
p12855
ag5385
ag5385
aVRunning this with:
p12856
aVgives the output:
p12857
ag5385
ag5385
ag5385
ag5385
as(dp12858
g16
V14860
p12859
stp12860
a((dp12861
g2
(lp12862
VTry:
p12863
aVor, better yet:
p12864
aVI think the string input will wait until you enter real characters, not just a newline
p12865
as(dp12866
g16
V14860
p12867
stp12868
a((dp12869
g2
(lp12870
VAnd are you running it with something like:
p12871
aVYou'll need to make sure the shared object is in your library path
p12872
as(dp12873
g16
V14860
p12874
stp12875
a((dp12876
g2
(lp12877
VI actually consider good-enough programmers to be better than the blue-sky-make-sure-everything-is-perfect variety
p12878
aVThat's because, although I'm  a coder, I'm also a businessman and realize that programs are not for the satisfaction of programmers, they're to meet a specific business need
p12879
aVI actually had an argument in another question regarding the best way to detect a won tic-tac-toe/noughts-and-crosses game (an interview question)
p12880
aVThe best solution that I'd received was from a candidate that simply checked all 8 possibilities with  statements
p12881
aVThere were some that gave a generalized solution which, while workable, were totally unnecessary since the specs were quite clear it was for a 3x3 board only
p12882
aVMany people thought I was being too restrictive and the "winning" solution was rubbish but my opinion is that it's not the job of a programmer to write perfect beautifully-extendable software
p12883
aVIt's their job to meet a business need
p12884
aVIf that business need allows them the freedom to do more than necessary, that's fine, but most software and fixes are delivered under time and cost constraints
p12885
aVProgrammers (or any profession) don't work in a vacuum
p12886
as(dp12887
g16
V14860
p12888
stp12889
a((dp12890
g2
(lp12891
VMight I suggest (after backing up your files):
p12892
as(dp12893
g16
V14860
p12894
stp12895
a((dp12896
g2
(lp12897
VMy advice would be to not develop on Windows 7
p12898
aVNote that I don't mean you shouldn't target it as a platform, just that you should be doing your development on a stable platform
p12899
aVI personally won't trust a new release of Windows (or Linux for that matter) until it's been in the wild as a proper product (not release candidate) for many months
p12900
aVFor Windows, I tend to wait until the first real service pack plus a month for all the nigglies to be fixed
p12901
aVFor Linux, I'm still using Ubuntu 8
p12902
aV04 LTS, not 8
p12903
aV1, and certainly not the 9 alphas
p12904
aVTest machines are another matter, you should always have one at the "latest and greatest" level for testing, but I consider the development machine of prime importance, needing a stable platform
p12905
as(dp12906
g16
V14860
p12907
stp12908
a((dp12909
g2
(lp12910
VThe Windows mkdir does it automatically if command extensions are enabled
p12911
aVThey are on just about every box I've ever used but, if they're not, you can create your own script to do it:
p12912
aVExpanding:
p12913
aVCommand extensions are an added feature of cmd
p12914
aVexe which allows you to do so much more (at the cost of a little compatibility with earlier incarnations of the batch language)
p12915
aVWindows XP  should have these extensions enabled by default but you can configure your box so that they're disabled by default (using  as the default processor)
p12916
aVIf you do that and want to use the extensions, your  files must have a setlocal to turn them back on
p12917
aVThe script above could be called md2
p12918
aVcmd and then you would be guaranteed to be able to create multiple directory levels with  without having to worry whether the extensions were enabled
p12919
aVAlmost every one of the  scripts I write begins with:
p12920
aVto ensure I get as close as possible to the behavior of my beloved  :-)
p12921
as(dp12922
g16
V14860
p12923
stp12924
a((dp12925
g2
(lp12926
VYour  is a standard trick to remove the heading line, not a way to get the actual PID details from the output
p12927
aVIf all you want is the details for that process, just use:
p12928
aVThat will set search to the PID in question if it exists or the empty string otherwise, which is what you appear to want
p12929
aVThere's a problem with doing a blind search for the PID (as opposed to checking column 1 with ) is that you may pick up lines where that PID shows up in the command string
p12930
as(dp12931
g16
V14860
p12932
stp12933
a((dp12934
g2
(lp12935
VThat problem just looks like you haven't instructed gcc on where to find the relevant include files (i
p12936
ag75
aV, the directory in which  resides)
p12937
aVAre you running gcc from under MinGW or from the command prompt
p12938
aVYou should have a " on your Start menu which brings up this shell
p12939
aVA makefile for this should be as simple as:
p12940
as(dp12941
g16
V14860
p12942
stp12943
a((dp12944
g2
(lp12945
VTo "permute" your string (technically, this isn't permutation since you're not changing the order of anything, but I don't want to be seen as an an*l-retentive :-), I would use a recursive approach, which basically "permutes" the string minus the first character and attaches those to the upper and lower variations of that character
p12946
aVSomething like (in C, my C# is not really up to par so you'll have to convert it):
p12947
ag5385
aVRunning this as  returns:
p12948
as(dp12949
g16
V14860
p12950
stp12951
a((dp12952
g2
(lp12953
VI much prefer the dead-tree variants to online tutorials (here)
p12954
aVIt just seems (to me anyway) that the books are so much more polished, having been through countless edit cycles before being unleashed
p12955
aVMost online tutorials seem to have been strung together by a group of drunken lemurs
p12956
as(dp12957
g16
V14860
p12958
stp12959
a((dp12960
g2
(lp12961
VIt's unclear whether you want the nearest $50 or 50 cents, so here's both:
p12962
aVFor an integer to go to a multiple of 50, you need the formula:
p12963
aVFor an float to go to a multiple of 0
p12964
aV50, you need the formula:
p12965
aVUpdate:
p12966
aVIf you just want the last two digits changed to 50, simply do one of:
p12967
as(dp12968
g16
V14860
p12969
stp12970
a((dp12971
g2
(lp12972
VFrom the earliest days of C, the expression  was simply the address of a[0] added to i (scaled up by the size of a[0]) and then de-referenced
p12973
aVIn fact, all these were equivalent:
p12974
aV====
p12975
aVThe only thing I'd be concerned about is the actual de-referencing
p12976
aVWhilst they all produce the same address, de-referencing may be a concern if the types of  and  are different
p12977
aVFor example:
p12978
aVI haven't actually tested that behavior but it's something you may want to watch out for
p12979
aVIf it does change what gets de-referenced, it's likely to cause all sorts of problems with arrays of objects as well
p12980
aV====
p12981
aVUpdate:
p12982
aVYou can probably safely ignore the bit above between the  lines
p12983
aVI've tested it under Cygwin with a short and a long and it seems okay, so I guess my fears were unfounded, at least for the basic cases
p12984
aVI still have no idea what happens with more complicated ones because it's not something I'm ever likely to want to do
p12985
as(dp12986
g16
V14860
p12987
stp12988
a((dp12989
g2
(lp12990
VThe scale of  is zero because you've got no decimal point in there
p12991
aVThat means that your  will produce zero (it's effectively  or )
p12992
aVIf you really want to do fractional stuff, use  so the scale is set correctly, or use one of the other constructors to set the scale specifically
p12993
aVHere's the output from that simple change of  to , complete with your spellink misteak :-)
p12994
as(dp12995
g16
V14860
p12996
stp12997
a((dp12998
g2
(lp12999
VYou can extract the full path as follows:
p13000
aVThe first for statement gets the drive and path, the second gets the filename and extension
p13001
aVI've used  to change the drive and directory and just used  to preserve my path outside the script (you can remove these if you don't care)
p13002
aVThe full range of ~-modifiers can be found by running "for /
p13003
aVin a command window
p13004
aVIt really is a powerful command, and these modifiers aren't restricted to "for", they can be used on any %1-type arguments to scripts as well
p13005
as(dp13006
g16
V14860
p13007
stp13008
a((dp13009
g2
(lp13010
VSince you're on an embedded platform, it's quite possible that you don't have the full range of capabilities from the -style functions
p13011
aVAssuming you have floats at all (still not necessarily a given for embedded stuff), you can emulate it with something like:
p13012
aVYou'll need to restrict how many characters come after the decimal based on the sizes of your integers
p13013
aVFor example, with a 16-bit signed integer, you're limited to four digits (9,999 is the largest power-of-ten-minus-one that can be represented)
p13014
aVHowever, you could use repeated fractional bits to get more precision as follows:
p13015
aVThis should work up to the precision of your floats (and you may want to make it a library function so it doesn't look so ugly within the main flow of code)
p13016
aVCheck the docs for your embedded platform
p13017
aVEither floats aren't supported by  (likely) or you have to link in some special code
p13018
aVUpdate:
p13019
aVOne final point, aditya, you mentioned that you were using  in a response to one of the other answers
p13020
aVI found the following web page that seems to describe what you need to do to use  in your  statements here
p13021
aVAs I originally suspected, you need to do some extra legwork to get floating point support
p13022
aVThis is because embedded stuff rarely needs floating point (at least none of the stuff I've ever done)
p13023
aVIt involves setting extra parameters in your makefile and linking with extra libraries
p13024
aVHowever, that's likely to increase your code size quite a bit due to the need to handle general output formats
p13025
aVIf you can restrict your float outputs to 4 decimal places or less, I'd suggest turning my code into a function and just using that - it's likely to take up far less room
p13026
aVIn case that link ever disappears, what you have to do is ensure that your gcc command has "
p13027
aVThis translates to:
p13028
aVforce vfprintf to be initially undefined (so that the linker has to resolve it)
p13029
aVspecify the floating point  library for searching
p13030
aVspecify the math library for searching
p13031
as(dp13032
g16
V14860
p13033
stp13034
a((dp13035
g2
(lp13036
VYou can use
p13037
aVSeriously, don't take any notice of Microsoft here, they're doing programmers a real disservice by deviating from the ISO standards
p13038
aVThey seem to think that people writing code are somehow brain-dead and don't know how to check parameters before calling library functions
p13039
aVIf someone isn't willing to learn the intricacies of C programming, they really have no business doing it
p13040
aVThey should move on to a safer language
p13041
aVThis appears to be just another attempt at vendor lock-in by Microsoft of developers (although they're not the only ones who try it, so I'm not specifically berating them)
p13042
aVI usually add:
p13043
aV(or the  variant on the command line) to most of my projects to ensure I'm not bothered by the compiler when writing perfectly valid, legal C code
p13044
aVMicrosoft has provided extra functionality in the  function (file encodings, for one) as well as changing how things are returned
p13045
aVThis may make it better for Windows programmers but makes the code inherently unportable
p13046
aVIf you're only ever going to code for Windows, by all means use it
p13047
aVI myself prefer the ability to compile and run my code anywhere (with as little change as possible)
p13048
aVAs of C11, these safe functions are now a part of the standard, though optional
p13049
aVLook into Annex K for full details
p13050
as(dp13051
g16
V14860
p13052
stp13053
a((dp13054
g2
(lp13055
VYou're right in that  is a generic process name that is used by a multitude of different services
p13056
aVI think the reason was to prevent a lot of processes for every tiny little service that might want to do something - a group of them will share a single  process
p13057
aVProcess Explorer from Sysinternals can be used to figure out what services are being performed by a specific  process by finding the process ID (1296 in your JPEG file) and double-clicking on the entry
p13058
aVThen, in the properties dialog that appears, choose the services tab and it will show you the particular services using that process
p13059
aVIf you don't want to (or can't) install Process Explorer, you can use the command-line:
p13060
aVto get a list of all the services in each process
p13061
as(dp13062
g16
V14860
p13063
stp13064
a((dp13065
g2
(lp13066
VYou cannot hide anything from the root user, even in memory (they have access to /dev/mem)
p13067
aVThat's a fact that can't be avoided
p13068
aVSo I'd just use temp files in your home directory which should be protected from everyone except root
p13069
aVOn one line, enter:
p13070
aVIf you want real security, move the file to a box where you are the only root user and do it there
p13071
aVThen move the encrypted file back
p13072
as(dp13073
g16
V14860
p13074
stp13075
a((dp13076
g2
(lp13077
VYour code snippet is wrong since it's trying to write to a file that you've opened for input
p13078
aVIf you want to write to the file, simply use  instead of
p13079
aVIf you want to open the file for reading but create it if it does not exist, you can use:
p13080
aVThis will initialize the file with the integer 3 as the default contents, if it doesn't already exist
p13081
aVIf it does exist, it will leave the contents alone
p13082
aVIn either case, you'll have the file open at the first byte
p13083
as(dp13084
g16
V14860
p13085
stp13086
a((dp13087
g2
(lp13088
VThe value of regression testing is often not realized until it's automated
p13089
aVOnce that's done, things become a lot easier
p13090
aVThat means you have to be able to start from a known position (if you're generating MD5s on files, you have to start with the same files each time)
p13091
aVThen get one successful run where you can save the output - that's the baseline
p13092
aVFrom that point on, regression testing is simply a push-button job
p13093
aVStart your test, collect the output and compare it to your known baseline (of course, if the output ever changes, you'll need to check it manually, or with another independent script before saving it as the new baseline)
p13094
aVKeep in mind the idea of regression testing is to catch any bugs introduced by new code (i
p13095
ag75
aV, regressing the software)
p13096
aVIt's not to test the functionality of that new code
p13097
aVThe more you can automate this, the better, even as a one-man development team
p13098
as(dp13099
g16
V14860
p13100
stp13101
a((dp13102
g2
(lp13103
VSomething along the lines of:
p13104
aVThis is tested and will handle spaces in filenames (both the zip files and the extracted files)
p13105
aVYou may have collisions if the zip file has the same file name in different directories (you can't avoid this if you're going to flatten the directory structure)
p13106
as(dp13107
g16
V14860
p13108
stp13109
a((dp13110
g2
(lp13111
V - there's your culprit
p13112
aVThe class file was generated on a later version of the JDK than the JRE you're trying to run it on
p13113
as(dp13114
g16
V14860
p13115
stp13116
a((dp13117
g2
(lp13118
V is a standard C library function so it should be one of your development packages
p13119
aVHowever, I long ago gave up on using man on the UNIX boxes themselves, try typing "man fcntl" into Google (with the quotes) to get online versions
p13120
aVJust don't do this to try and figure out how  itself works
p13121
aVTyping "man man" into Google returns some interesting results (not safe for work)
p13122
as(dp13123
g16
V14860
p13124
stp13125
a((dp13126
g2
(lp13127
VYour best bet is to use WMI
p13128
aVSpecifically the Win32_Product class
p13129
as(dp13130
g16
V14860
p13131
stp13132
a((dp13133
g2
(lp13134
VI believe the upcoming VB in MSVS2010 has the  (64 bits),  (128 bits) and  (256 bits) data types
p13135
as(dp13136
g16
V14860
p13137
stp13138
a((dp13139
g2
(lp13140
VI suspect you should be pushing this while loop into a separate thread so as to not tie up your AWT thread during the transfer
p13141
as(dp13142
g16
V14860
p13143
stp13144
a((dp13145
g2
(lp13146
VOkay, short of running Zend itself under sudo, I'm not sure you're going to be able to do that
p13147
aVYou're asking how to be able to write to a write-protected directory
p13148
aVThe answer is "Don't try"
p13149
aVYou'll either have to unprotect it or figure out a way to have Zend make a copy of the file in an unprotected area for editing, then copy it back (under sudo) when you close it
p13150
aVI know which  option I'd choose (I'm inherently lazy)
p13151
as(dp13152
g16
V14860
p13153
stp13154
a((dp13155
g2
(lp13156
VFor concepts, I would choose assembler and Java
p13157
aVThe first because you should know in intimate detail how machines work
p13158
aVThe second because you should understand how to shield yourself from the intimate details of the way machines work :-)
p13159
aVBy that I mean a language with a rich set of data structures at hand (so really Java could be Python, C++ with Boost and so on)
p13160
as(dp13161
g16
V14860
p13162
stp13163
a((dp13164
g2
(lp13165
VIt may be the same reason as our applications taking a long time the first time we kick them off in Websphere
p13166
aVWAS has to do a lot of initial work to set up the containers when a new version of the application is installed (or WAS is restarted)
p13167
aVThe workaround we used was to modify the install scripts and WAS startup scripts so that they automatically browsed to the application (main page and selected other pages) as soon as it was running
p13168
aVThat way, the first real access to it was at full speed
p13169
aVI have no idea how to do this with Ruby or even whether it's possible
p13170
aVYou'll have to figure that one out
p13171
as(dp13172
g16
V14860
p13173
stp13174
a((dp13175
g2
(lp13176
VI could debug it for you, I guess but that won't help you in the long run
p13177
aVHere's what you do
p13178
aVAfter every line, put a printf() or cout staement dumping the changed variables to standard output
p13179
aVThen run your code, passing a simple set of parameters to it:
p13180
aVThen, examine the output to see why your implementation isn't working
p13181
aVYou'll probably have to break out of the code since, if it's just sitting there, you've probably got yourself one of those new-fangled infinite loops
p13182
aVGive a man a fish and he'll eat for a day, teach a man to fish, he'll never be hungry again
p13183
aVOr the Terry Pratchett version:
p13184
aVGive a man some fire and he'll be warm for a day, set a man on fire, he'll be warm for the rest of his life
p13185
aVUpdate:
p13186
aVSince you've stated that you've actually done what I suggested, here's what I found out from doing it
p13187
aVIt's evident that when you set  to  at the end of the  loop, it's pointing at the space
p13188
aVThat was discovered by printing the  string at the top of the  loop - it never changed after the first word was extracted
p13189
aVThen, when you do the next , it finds that exact same space rather than first skipping spaces then calling  properly
p13190
aVYou need to skip the spaces after each , making sure you don't iterate beyond the end of the string
p13191
aVThis is my solution
p13192
aVUse it as you wish
p13193
aVWithout that space-skipping code at the end of the  loop, the output was:
p13194
aVand so on, ad infinitum
p13195
aVWith the skipping code, you get:
p13196
as(dp13197
g16
V14860
p13198
stp13199
a((dp13200
g2
(lp13201
VI can't think of any situation in which this would be really useful
p13202
aVEven if I could, I suspect the added CPU cycles needed to sort fuzzy values would be more than those "extra comparisons" you allude to
p13203
aVBut I'll still offer a suggestion
p13204
aVConsider this possibility (all strings use the 27 characters a-z and _):
p13205
aVObviously strings 1 and 2 are more similar that 1 and 3 and much more similar than 1 and 4
p13206
aVOne approach is to scale the difference value for each identical character position and use the first different character to set the last position
p13207
aVPutting aside signs for the moment, comparing string 1 with 2, the differ in position 8 by 'n' - 't'
p13208
aVThat's a difference of 6
p13209
aVIn order to turn that into a single digit 1-9, we use the formula:
p13210
aVsince the maximum difference is 26
p13211
aVThe minimum difference of 1 becomes the digit 1
p13212
aVThe maximum difference of 26 becomes the digit 9
p13213
aVOur difference of 6 becomes 3
p13214
aVAnd because the difference is in position 8, out comparison function will return 3x10-8 (actually it will return the negative of that since string 1 comes after string 2
p13215
aVUsing a similar process for strings 1 and 4, the comparison function returns -5x10-1
p13216
aVThe highest possible return (strings 4 and 5) has a difference in position 1 of '-' - 'a' (26) which generates the digit 9 and hence gives us 9x10-1
p13217
aVTake these suggestions and use them as you see fit
p13218
aVI'd be interested in knowing how your fuzzy comparison code ends up working out
p13219
as(dp13220
g16
V14860
p13221
stp13222
a((dp13223
g2
(lp13224
VYou seem to be asking how to create a row if it doesn't already exist or, if it does exist, update one of the fields in it
p13225
aVThe normal approach (for DBMS' that don't provide some form of  statement) is:
p13226
aVYou need to ignore any errors on the first line (which should happen if the row already exists)
p13227
aVThen the second statement will update it
p13228
aVIt's also unusual to initially insert a zero entry since you're generally adding one 'thing' the first time you do it
p13229
aVIn that case, the insert would set the value to 0, not -1
p13230
as(dp13231
g16
V14860
p13232
stp13233
a((dp13234
g2
(lp13235
VWith propositional calculus, this would be described as:
p13236
aV\u2200x
p13237
aVH(x) \u2283 (M(x) \u2228 F(x)) \u2227 ((M(x) \u2227 F(x)))
p13238
aVwhere:
p13239
aVIn description logic, it's a little bit different:
p13240
as(dp13241
g16
V14860
p13242
stp13243
a((dp13244
g2
(lp13245
VI'm sure there is, but the question you should be asking is "What's the best way to find files which have specific extensions
p13246
aVRegular expressions are not the best answer to every question
p13247
aVI would suggest just getting a list of all files and passing them into a function like
p13248
aVThat's far easier than trying to shoehorn the use of regular expressions into your problem
p13249
aVSomething like this should do it:
p13250
aVDone in pseudo-code since it should be simple enough to turn into any other language
p13251
aVIf you must have a regex, it's going to look something like (based on the values in your question):
p13252
aVbut it depends entirely on the RE engine that you want to use
p13253
aVFor example, here's the output from an egrep command in my work directory:
p13254
as(dp13255
g16
V14860
p13256
stp13257
a((dp13258
g2
(lp13259
VYou can't
p13260
aVIf the JRE can run it, an application can de-compile it
p13261
aVThe best you can hope for is to make it very hard to read (replace all symbols with combinations of 'l' and '1' and 'O' and '0', put in lots of useless code and so on)
p13262
aVYou'd be surprised how unreadable you can make code, even with a relatively dumb translation tool
p13263
aVThis is called obfuscation and, while not perfect, it's sometimes adequate
p13264
aVRemember, you can't stop the determined hacker any more than the determined burglar
p13265
aVWhat you're trying to do is make things very hard for the casual attacker
p13266
aVWhen presented with the symbols O001l1ll10O, O001llll10O, OO01l1ll10O, O0Ol11ll10O and O001l1ll1OO, and code that doesn't seem to do anything useful, most people will just give up
p13267
as(dp13268
g16
V14860
p13269
stp13270
a((dp13271
g2
(lp13272
VError 11001 is a generic DNS lookup error so I have only one question
p13273
aVDoes the 120
p13274
aV15
p13275
aV22
p13276
aV14 address actually exist in DNS
p13277
aVYou can find this out by typing
p13278
aVfrom the command line
p13279
aVIf you get an error, it's because DNS doesn't know anything about those addresses, so a  will not be able to give you any information
p13280
aVUpdate:
p13281
aVAnswering your points:
p13282
aVI just type nslookup 120
p13283
aV15
p13284
aV22
p13285
aV14, but it returns back as cant find 120
p13286
aV15
p13287
aV22
p13288
aV14
p13289
aVNon-existent domain
p13290
aVSince  returns an error, there is no entry in DNS for that IP address
p13291
aVThat's your problem
p13292
aVI look at my device settings for the DNS and it sets to 120
p13293
aV20
p13294
aV32
p13295
aV10 which is different 120
p13296
aV15
p13297
aV22
p13298
aV14 so does it mean I haven't configured the DNS
p13299
aVIf  is what's in DNS for your device, and  is the actual address, then DNS is wrong
p13300
aVPlain and simple
p13301
aVFix DNS
p13302
aVwill it produce the same result if I use gethostbyname() instead of gethostbyaddr()
p13303
aVIf you want to turn a DNS name into an IP address, use
p13304
aVTo turn an IP address into a DNS name, use
p13305
aVFor connecting to a remote host, you would normally use the  call since the IP address of the host could change at any time
p13306
aVProvided DNS always accurately represents the IP address of that host, that's the preferred way
p13307
as(dp13308
g16
V14860
p13309
stp13310
a((dp13311
g2
(lp13312
VI'd go for option 2 for the following reasons
p13313
aVit simplifies your coding (and this is a big one for me, being intrinsically lazy)
p13314
aVit gives you greater control over what is entered
p13315
aVit makes it clear to the user what they're allowed to enter
p13316
aVHow you store it in the database is a matter for you to decide
p13317
aVMillimeters can't describe 64ths of an inch perfectly (at least as an integer), but that may not be an issue for you
p13318
aVMy own thoughts are that you should store things as accurately as you ask the user to enter and if, as you say, you really need accuracy to 1/64th of an inch, losing that accuracy when you put them in the database is not going to be good when you have to explain it to your users
p13319
aVYou could do one of:
p13320
aVstore them as 64ths of an inch (so that 5'11" 63/64 becomes 5x12x64 + 11x64 + 63, or 1007)
p13321
aVstore them as a float (mm or inches, up to you) but convert them back to imperial when displaying them
p13322
aVstore them as three separate integer fields, feet, inches and 64ths of an inch
p13323
aVMy own preference there would be the first one
p13324
aVIt results in a simple integer field which can be indexed far better than separate fields, there is no loss of accuracy and, provided you convert all application measurements to 64ths of an inch before comparing them with (and inserting them in, of course) the database, you should have no problems
p13325
aVThis conversion is a simple process (unlike the metric-imperial ones)
p13326
as(dp13327
g16
V14860
p13328
stp13329
a((dp13330
g2
(lp13331
VYou could start by:
p13332
aVgetting 65,000-odd regular users on your site
p13333
aVmaking your site linked to from all over the place
p13334
aVmake your site very active
p13335
aVproviding very useful content
p13336
aVThis is all standard SEO stuff which will up your "importance" in the eyes of Google (and other search engines, presumably, but who cares :-)
p13337
as(dp13338
g16
V14860
p13339
stp13340
a((dp13341
g2
(lp13342
VUnlimited, no
p13343
aVAt some point you're going to run out of storage space
p13344
aVSeriously, if you find yourself creating individual elements that wont fit within about 231 bytes, you're doing something wrong
p13345
aVWhy don't you tell us the "real" problem that you're trying to solve
p13346
aVWithout the preconceived notions that you must do it in a certain way
p13347
as(dp13348
g16
V14860
p13349
stp13350
a((dp13351
g2
(lp13352
VThe script:
p13353
aVis how I'd do it
p13354
aVYou write it with an editor like  and put it somewhere on your path
p13355
aVMy normal approach is to have a  directory and make sure my  file (or equivalent) contains:
p13356
as(dp13357
g16
V14860
p13358
stp13359
a((dp13360
g2
(lp13361
VSee the following test program:
p13362
aVwhich outputs:
p13363
as(dp13364
g16
V14860
p13365
stp13366
a((dp13367
g2
(lp13368
VWe did a similar thing with our development environment (it needed both Eclipse and our own plug-in which, in the early stages, had to run in a known location)
p13369
aVWe just put it in  and made that a requirement for the team
p13370
aVThat's probably the easiest solution for you
p13371
aVIt's your team, you can dictate this as a requirement
p13372
aVUnless your team members are absolute idiots, they'll work with you
p13373
as(dp13374
g16
V14860
p13375
stp13376
a((dp13377
g2
(lp13378
VDon't use , C++ allows you to use the unadorned  instead:
p13379
aVAnd, as at C++11, you generally shouldn't be using either  or  since it provides you with  of type , which is better suited to the task
p13380
as(dp13381
g16
V14860
p13382
stp13383
a((dp13384
g2
(lp13385
VUnfortunately, the standards in the RFID world at the moment specify all sorts of useful things, but not the tag size (these standards tend to be industry-specific and the ability to track cows may not map that well to what you have planned)
p13386
aVMy advice would be to allocate something to hold enough for test data ( should be fine) and then size it properly when you choose an actual implementation, at which point the vendor will be able to give you that information
p13387
as(dp13388
g16
V14860
p13389
stp13390
a((dp13391
g2
(lp13392
VThis is not the way to do things in an object-oriented way, it's a throwback to the old code/data dichotomy
p13393
aVNow that's not necessarily a bad thing (if you know what you're doing) but it should be left to the non-object-oriented languages like C
p13394
aVWith proper design, you don't need that sort of behavior
p13395
aVInstead of the construct:
p13396
aV(apologies to benjismith for 'stealing' his code), you should really be making the object itself responsible for its own activities thus:
p13397
aVThen each different  class will have its own definition for
p13398
aVThat is the right way to do it
p13399
as(dp13400
g16
V14860
p13401
stp13402
a((dp13403
g2
(lp13404
VBIRT can handle XML input provided you have an ODA source for it (you may need to write it yourself depending on the complexity of your XML)
p13405
aVWe've been using BIRT with database sources for quite a while and we're only just morphing our code to handle XML input, as a way of tacking our excellent code onto other products in a relatively painless way
p13406
aVThis page was our jumping-off point and is quite helpful
p13407
as(dp13408
g16
V14860
p13409
stp13410
a((dp13411
g2
(lp13412
VThe English language, and even that strange variant, American English :-) , is not the only language on the planet
p13413
aVThere are some very strange looking ones (at least to those familiar with the Latin-based characters) but even Latin-based ones have minor variations
p13414
aVTwo of which I am acquainted with on more than a casual basis are Greek and German:
p13415
aVThat's why we're not allowed to use bits of code like:
p13416
aVany more
p13417
aVDoing something like that in a company that takes i18n seriously is near grounds for dismissal
p13418
aVUsing Unicode-aware -type functions is the better way to go
p13419
as(dp13420
g16
V14860
p13421
stp13422
a((dp13423
g2
(lp13424
VSQL should not be formatting, period
p13425
aVIt's a relational algebra for extracting (when using ) data from the database
p13426
aVGetting the DBMS to format the data for you is the wrong thing to do, and that should be left to your own code (outside the DBMS)
p13427
aVThe DBMS is generally under enough load as it is without having to do your presentation work for you
p13428
aVIt's also optimized for data retrieval, not presentation
p13429
aVI know DBAs that would call for my immediate execution if I tried to do something like that :-)
p13430
as(dp13431
g16
V14860
p13432
stp13433
a((dp13434
g2
(lp13435
VI've written scripts before that simply use telnet to connect to port 80, then transmit the text:
p13436
aVfollowed by two CR/LF sequences
p13437
aVProvided you get back some form of HTTP response, you can generally assume the site is functioning
p13438
as(dp13439
g16
V14860
p13440
stp13441
a((dp13442
g2
(lp13443
VNo, I don't think they should be (or at least we don't do it, and we're pretty big :-)
p13444
aVThere's enough effort involved in localizing all the stuff that users see without having to worry about developers as well
p13445
aVThere are no mainstream languages that support foreign language keywords and standard libraries so a rudimentary command of the English language is already a pre-requisite for developers
p13446
aVOf course, if developers develop their own libraries (or language), they're quite at liberty to localize or choose a non-English language
p13447
as(dp13448
g16
V14860
p13449
stp13450
a((dp13451
g2
(lp13452
VYou can just capture the output and pass it through a filter, something like:
p13453
aVThe two greps strip out the header and trailer lines (others may be needed if there are other lines not containing useful information) and the sort is done based on the numeric field number 12 (I think that's right)
p13454
aVThis one works for your immediate output:
p13455
as(dp13456
g16
V14860
p13457
stp13458
a((dp13459
g2
(lp13460
VThis is not something you should be doing at run-time
p13461
aVA better option is to pre-calculate all these primes and then put them in your program somehow (a static array, or a file to be read in)
p13462
aVThe slow code is then run as part of the development process (which is slow anyway :-), not at the point where you need your speed
p13463
aVThen it's just a matter of a lookup of some sort rather than calculating them every time you need them
p13464
as(dp13465
g16
V14860
p13466
stp13467
a((dp13468
g2
(lp13469
VI doubt it
p13470
aVI don't believe this is something the underlying zlib libraries provide from memory (although it's been a good 7 or 8 years since I used it, the up-to-date docs don't seem to indicate this feature has been added)
p13471
aVOne possibility would be to transfer another file which contained the uncompressed size (e
p13472
ag1775
aV, transfer both  and ) but that seems fraught with danger, especially if you get the size wrong
p13473
aVAnother alternative is, if the server uncompressing is time-expensive but doesn't have to be done immediately, to do it in a lower-priority background task (like with  under Linux)
p13474
aVBut again, there may be drawbacks if the size checker starts running behind (too many uploads coming in)
p13475
aVAnd I tend to think of decompression in terms of "explosive decompression", not a good term to use :-)
p13476
as(dp13477
g16
V14860
p13478
stp13479
a((dp13480
g2
(lp13481
VThis seems incredibly wasteful of memory
p13482
aVYou read in the entire file as a sequence of bytes, then duplicate it in a  array
p13483
aVYou may even duplicate it again when you return that array
p13484
aVYour actual problem may lie in the way you are writing out the shorts when this function returns (rather than bytes)
p13485
aVI think we need to see that code
p13486
as(dp13487
g16
V14860
p13488
stp13489
a((dp13490
g2
(lp13491
VThat would be the SQL syntax:
p13492
aVIn your case, you'd be looking at:
p13493
as(dp13494
g16
V14860
p13495
stp13496
a((dp13497
g2
(lp13498
VIf you ever get to look at a network topology chart for a major organization, do so
p13499
aVIt's enlightening
p13500
aVThe whole point of NAT, firewalls and all that other "black magic" is to allow the network to manage addresses (including protecting you) without your knowledge
p13501
aVThere are only three ways in which I've been able to reliably (and reliable is a relative concept here) get the external-facing IP address of a server
p13502
aVThe first is to as the network gods themselves (and make sure you refer to them as gods when asking, this will assist you in getting the information)
p13503
aVSometimes (not always), it's a simple mapping of the top bytes of your IP address whilst retaining the low-order bytes
p13504
aVSometimes it's more complex, but still follows rules that you can use
p13505
aVJust keep in mind these rules can change at any time
p13506
aVThe second is to have a box outside of your network which you can query and it, in turn, can let you know your IP address
p13507
aVThe third is to specifically attach to an outside DNS server (not your corporate one) to retrieve the information
p13508
aVOf course, you should question the need to know your external IP address
p13509
aVThe whole point of DNS is to avoid having to worry too much about IP addresses and just refer to machines by the domain names
p13510
as(dp13511
g16
V14860
p13512
stp13513
a((dp13514
g2
(lp13515
VThe C++ standard says nothing about the performance of its requirements, only that the functionality should be there
p13516
aVThese sort of questions about which is better or faster or more efficient are meaningless unless you state which implementation you're talking about
p13517
aVFor example, the string handling in a certain version of a certain implementation of JavaScript was atrocious, but you can't extrapolate that to being a feature of the relevant standard
p13518
aVI would even go so far as to say it doesn't matter regardless of the implementation since the functionality provided by  and  is different (although there's overlap)
p13519
aVThese sort of micro-optimizations are almost never necessary, in my opinion
p13520
as(dp13521
g16
V14860
p13522
stp13523
a((dp13524
g2
(lp13525
VAlways assume that floating point operations will have some error in them and check for equality taking that error into account (either a percentage value like 0
p13526
aV00001% or a fixed value like 0
p13527
aV00000000001)
p13528
aVThis inaccuracy is a given since not all decimal numbers can be represented in binary with a fixed number of bits precision
p13529
aVYour particular case is not one of them if Python uses IEEE754 since 31 should be easily representable with even single precision
p13530
aVIt's possible however that it loses precision in one of the many steps it takes to calculate log2231, simply because it doesn't have code to detect special cases like a direct power of two
p13531
as(dp13532
g16
V14860
p13533
stp13534
a((dp13535
g2
(lp13536
VWhy don't you just multiply the number by 100 and use your  format string
p13537
aVThat seems to me to be the easiest solution
p13538
aVUnless you can come up with a viable reason why that's out of the question, that's my advice
p13539
aVIt's not rocket science :-)
p13540
as(dp13541
g16
V14860
p13542
stp13543
a((dp13544
g2
(lp13545
VI'd get myself another machine (or a VMWare image), delete all cookies, allow all cookies from all sites, then go to your site and log in (which sounds similar to what you've already tried)
p13546
aVThen, after your banking session is finished (or during, if they create a short-lived cookie just for testing you have them enabled), have a look at your cookie jar to see what the bank added
p13547
aVThat should tell you the domains you need to add to your real machine
p13548
aVIf that doesn't work, contact the bank and explain your issues
p13549
aVThey'll either tell you which ones you need to allow or they'll tell you to allow them all
p13550
aVIf the latter, you need to decide if they're still worth keeping as your bank
p13551
aVAlternatively, you can either:
p13552
aVuse that VM you set up as a sandbox for accessing the bank if you don't want all cookies appearing on your main box
p13553
aVset up a script to delete all non-whitelisted cookies after FF shuts down
p13554
aVstop worrying about cookies altogether and just allow them (I don't think I've ever heard of cookies being used as an attack vector)
p13555
aVIf you'd like, send me your account details (user/password) and I'll see if I can debug it from here :-) Just kidding (in case it wasn't immediately obvious)
p13556
aVUpdate:
p13557
aVYour bank has a particularly nefarious way of checking requirements
p13558
aVThey check to see if you're accepting ALL cookies, something they have no business doing at all
p13559
aVThey should just see if they can create a cookie and read it back, which would make them compatible with cookie managers
p13560
aVThe code they have is:
p13561
aVIt's that first bit of , the  bit which is problematic
p13562
aVNo amount of whitelisting URLs is going to help you here since that would only be checked once the global  is set to true (which it isn't for you, and rightly so)
p13563
aVIdeally, you'd just be able to replace that  function in the HTML that comes down
p13564
aVI've found a similar site that talks about the same problem from a different bank (I guess banks are where all the brain-dead Javascript kiddies end up :-) here, along with two proposed solutions
p13565
aVThe first was to install GreaseMonkey and use this script here
p13566
aVObviously this would need to be changed for your bank (URLs, function name and so on)
p13567
aVThe last post on that first link above (at the moment, look for "afternoonnap, February 15th, 2009, 10:10 am" post) also shows how to achieve the same result using NoScript
p13568
aVThis involves replacing the cookieEnabled script (for that specific page) with a more rational one, although I'd probably just opt for replacing it with  and hang the consequences :-)
p13569
aVHope that helps somewhat
p13570
aVFor completeness (in case the links ever disappear), I'll include the two scripts here
p13571
aVThe GreaseMonkey one boils down to:
p13572
ag5385
aVThe NoScript version boils down to "add the following to about:config":
p13573
aVTest and update:
p13574
aVWhen I install noscript and turn off cookies altogether in FF3, then add the following  items, the login prompt shows up for your bank, so I think this is probably the way to go:
p13575
aVI suggest you do this and test it to make sure you still have all your functionality
p13576
as(dp13577
g16
V14860
p13578
stp13579
a((dp13580
g2
(lp13581
VI actually wrote a crossword generation program about ten years ago (it was cryptic but the same rules would apply for normal crosswords)
p13582
aVIt had a list of words (and associated clues) stored in a file sorted by descending usage to date (so that lesser-used words were at the top of the file)
p13583
aVA template, basically a bit-mask representing the black and free squares, was chosen randomly from a pool that was provided by the client
p13584
aVThen, for each non-complete word in the puzzle (basically find the first blank square and see if the one to the right (across-word) or the one underneath (down-word) is also blank), a search was done of the file looking for the first word that fitted, taking into account the letters already in that word
p13585
aVIf there was no word that could fit, you just marked the whole word as incomplete and moved on
p13586
aVAt the end would be some uncompleted words which the compiler would have to fill in (and add the word and a clue to the file if desired)
p13587
aVIf they couldn't come up with any ideas, they could edit the crossword manually to change constraints or just ask for a total re-generation
p13588
aVOnce the word/clue file got up to a certain size (and it was adding 50-100 clues a day for this client), there was rarely a case of more than two or three manual fix ups that had to be done for each crossword
p13589
as(dp13590
g16
V14860
p13591
stp13592
a((dp13593
g2
(lp13594
VThat code won't work, simply because the line:
p13595
aVchanges  to point away from the allocated memory (and  remains pointing to the that memory so they're no longer the same location) to what is most likely read-only memory
p13596
aVYou are not permitted to change the memory belonging to string literals, it's undefined behaviour
p13597
aVYou need the following:
p13598
as(dp13599
g16
V14860
p13600
stp13601
a((dp13602
g2
(lp13603
VThe  keyword serves the same purposes in C and C++
p13604
aVWhen used at file level (outside of a function), it sets the visibility of the item it's applied to
p13605
aVStatic items are not visible outside of their compilation unit (e
p13606
ag1775
aV, to the linker)
p13607
aVTheir duration is the same as the duration of the program
p13608
aVThese file-level items (functions and data) should be static unless there's a specific need to access them from outside (and there's always never a need to give access to data since that breaks the central tenet of encapsulation)
p13609
aVIf (as your comment to the question indicates) this is the only use of  you're concerned with then, no, there is no difference between C and C++
p13610
aVWhen used within a function, it sets the duration of the item
p13611
aVAgain, the duration is the same as the program and the item continues to exist between invocations of that function
p13612
aVIt does not affect the visibility of that item since it's visible only within the function
p13613
aVAn example is a random number generator that needs to keep its seed value between invocations but doesn't want that value visible to other functions
p13614
aVC++ has one more use,  within a class
p13615
aVWhen used there, it becomes a single class variable that's common across all objects of that class
p13616
aVOne classic example is to store the number of objects that have been instantiated for a given class
p13617
aVAs others have pointed out, the use of file-level static has been deprecated in favour of unnamed namespaces
p13618
aVHowever, I believe it'll be a cold day in a certain warm place before it's actually removed from the language - there's just too much code using it at the moment
p13619
aVAnd ISO C have only just gotten around to removing  despite the amount of time we've all known it was a dangerous function
p13620
aVAnd even though it's deprecated, that doesn't change its semantics now
p13621
as(dp13622
g16
V14860
p13623
stp13624
a((dp13625
g2
(lp13626
VThese two lines:
p13627
aVhave the following effect
p13628
aVThe first allocates 100 bytes and sets  to point to those bytes
p13629
aVThe second changes num to point to the string "123456" which is almost certainly in read-only memory
p13630
aVAny attempt to change the contents of read-only memory will result in a segmentation violation
p13631
aVYou need to copy the string into the 'd  before attempting to change it, with:
p13632
aVThat's the line you should have where you currently have:
p13633
as(dp13634
g16
V14860
p13635
stp13636
a((dp13637
g2
(lp13638
VThat's usually caused by outputting character code 7, CTRL-G, which is the BEL (bell) character
p13639
aVThe first thing I normally do when buying a new computer or motherboard is to ensure the wire from the motherboard to the speaker is not connected
p13640
aVI haven't used the speaker since the days of Commander Keen (and removing that wire is the best OS-agnostic way of stopping the sound :-)
p13641
as(dp13642
g16
V14860
p13643
stp13644
a((dp13645
g2
(lp13646
VFirst off, "something not working well on mac browsers" is not a valid problem report, it's a vague indication that something may be wrong
p13647
aVYou should be first getting information from your user as to what exactly they mean by this
p13648
aVOtherwise you have no idea what you're really looking for
p13649
aVThen, you have few options
p13650
aVIf you can't borrow/beg/steal a Mac for testing, you'll need to either buy one or state that it's unsupported
p13651
aVIf you're hard up for cash, you might want to consider dropping by your local Mac store and asking to demo their latest and greatest machine, the most expensive one so they'll be more likely to give you free reign using it for 15 or 20 minutes
p13652
aVThat's what I'd do but I'm a sneaky cynical old guy :-)
p13653
aVAnother alternative (if possible) would be to drop around to the client's site to check it out
p13654
aVThis will save you both the cost of buying a Mac and endear you to the client as someone who goes out of their way to keep them happy (no good, obviously, if they're on the other side of the country)
p13655
as(dp13656
g16
V14860
p13657
stp13658
a((dp13659
g2
(lp13660
VWhat will be the index performance on that table with the following query
p13661
aVNo discernible change (see below for why)
p13662
aVWill the performance change because I added the two columns
p13663
aVYes, but minuscule
p13664
aVThe actual search of the index will not be affected in any way because you're not changing the key at all
p13665
aVThe only impact is that you will be returning more data from your one record and that may result in a little more I/O but, since it's only for the one record, it's not relevant
p13666
aVEven if there are not more I/O operations to retrieve the record itself, you will be transferring more data to the client
p13667
aVSo technically, it's slower no matter what, but the difference between your previous schema and the changed one is not worth worrying about
p13668
aVWill there be an effect on the clustered index
p13669
aVNo, you have not changed any of the parameters in such a way to affect the primary key
p13670
as(dp13671
g16
V14860
p13672
stp13673
a((dp13674
g2
(lp13675
VI would turn that question around
p13676
aVAre there compelling reasons to switch to Subversion
p13677
aVWe use CVS and it works fine for our stuff
p13678
aVThere's no business benefit at all that we can see for switching
p13679
aVAs with all decisions, it should have a cost/benefit analysis done to see if it's worth it
p13680
aVYour question doesn't give us enough information to help you out there
p13681
as(dp13682
g16
V14860
p13683
stp13684
a((dp13685
g2
(lp13686
VThis is the approach I would take (algorithms only, since it's homework)
p13687
aVCreate a data structure mapping words to counts
p13688
aVProcess the text one word at a time
p13689
aVif it's a new word, add it to the data structure and set its count to 1
p13690
aVif it's an existing one, just increment the count
p13691
aVOnce all words are processed, go through each word in the data structure, giving a unique integer to those with a count greater than one
p13692
aVCreate a new text string, empty to start with then process the text word-by-word again
p13693
aVif the word has a count of one, append that word to the new string
p13694
aVif the count is greater than one, append the unique integer
p13695
as(dp13696
g16
V14860
p13697
stp13698
a((dp13699
g2
(lp13700
VThere's no foolproof way to do it since you're not the one in control of the email client
p13701
aVMany people take their privacy seriously enough to prevent read-receipts, web beacons and all the other tricks which can be used to detect the reading (people can turn off read receipts, block images, prevent unsolicited outgoing connections and so on)
p13702
aVThis is my opinion of course but I believe you're approaching the problem the wrong way
p13703
aVInstead of trying to force the user to let you know if they've read the email, just make it worth their while
p13704
aVIt's obviously of some benefit to you to have this information (otherwise why do it
p13705
aVso you share that benefit around and make sure it's the user's decision
p13706
aVThat way, you turn the relationship from a battleground into a partnership (win/win)
p13707
as(dp13708
g16
V14860
p13709
stp13710
a((dp13711
g2
(lp13712
VI suspect most, if not all, of the "scripting" languages use the underlying OS calls for retrieving this sort of information and, if that is the case, then 1-second resolution is what you get under Linux and Windows (at least for NTFS - FAT32, if you're still using it, has a 2-second resolution IIRC)
p13713
aVIdeally, you'd look at the Ruby source code to confirm this (actually, ideally, it would be documented, but that may be too much to hope for) but you could run a simple test where you continuously "touch" the file (more than once per second) and monitor its  values
p13714
aVIn the absence of a documented statement, you either have to rely on empirical evidence or rely on nothing at all
p13715
as(dp13716
g16
V14860
p13717
stp13718
a((dp13719
g2
(lp13720
VMy first question would be: why are you doing this polling-type operation every five minutes
p13721
aVSurely rank changes will be in response to some event and you can localize the changes to a few rows in the database at the time when that event occurs
p13722
aVI'm pretty certain the entire user base of 50,000 doesn't change rankings every five minutes
p13723
aVI'm assuming the  indicates that a user's rank has changed so, rather than setting this when the user triggers a rank change, why don't you calculate the rank at that time
p13724
aVThat would seem to be a better solution as the cost of re-ranking would be amortized over all the operations
p13725
aVNow I may have misunderstood what you meant by ranking in which case feel free to set me straight
p13726
as(dp13727
g16
V14860
p13728
stp13729
a((dp13730
g2
(lp13731
VThe word "best" is, at best, a subjective term :-)
p13732
aVIf you're talking about speed, then it depends on how big the bitmap is
p13733
aVWith a LAN running at 100Mbps, you can expect something roughly around 1 second for each 10MB of file
p13734
aVFor a small file, just transfer it as-is
p13735
aVAt some file size, it will become worth zipping the file up, transmitting it and unzipping it at the other end, simply because CPU grunt is faster than network grunt
p13736
aVBut I think you'd be talking about pretty big files to make that extra coding worthwhile
p13737
aVUpdate:
p13738
aVSince you talk about a screen capture frame, let's say we're at 1280x1024, 32bpp
p13739
aVA full screen will then take up 5M which should be transferable on a 100Mbps LAN in under a second (other network traffic permitting)
p13740
aVIt's not worth it, in my opinion, to try and speed that up any more since the overhead of compression would outweigh the savings in time
p13741
aVIf you will be doing video transfer, that's another matter
p13742
aVThen you wouldn't send a brand new image for every frame - you'd work out the deltas and transfer only that information, relying on the fact that the screen generally only changes a little each frame
p13743
aVIt depends on what you're going to use the images for
p13744
aVA one-shot screen capture, just send the binary information
p13745
aVAnything else, well, you'll need to give us more detail
p13746
aVFor video transfer, we've actually done some work on different compression methods
p13747
aVThe simplest you may want to look at is to divide the screen into a (e
p13748
ag1775
aV16x16 matrix and only transmit the changed elements
p13749
aVSo, for example, each frame will consist of a 256-bit bitmask indicating which elements have changed
p13750
aVThen, that bitmask is followed by the elements themselves
p13751
aVThat algorithm means the smallest frame delta is 32 bytes (if the screen hasn't changed)
p13752
aVThe largest is only 32 bytes larger than a full screen dump
p13753
aVOne of the other methods we used was to simply store the topleft-most and bottomright-most pixel positions that had changed and transfer those two values along with the entire rectangle bounded by them
p13754
aVNo doubt there are other methods you could use, even choosing the method dynamically on a frame-by-frame basis to ensure minimum delta size
p13755
as(dp13756
g16
V14860
p13757
stp13758
a((dp13759
g2
(lp13760
VYour problem is that you're linking with two files providing the same symbol
p13761
aVYou haven't provided the real error message so we can't tell you exactly what the problem is but it's likely to be that you're linking with libraries from two different versions of Visual Studio
p13762
aVThere are also solutions available by searching the web (I assume you did this but just missed the articles in question :-) that suggest you can fix the problem by changing the project options from  to  but I haven't looked in to this
p13763
aVPlease post the complete error so we can offer more targeted assistance
p13764
as(dp13765
g16
V14860
p13766
stp13767
a((dp13768
g2
(lp13769
VSure, you put this in one of your your header files, say preinit
p13770
aVh:
p13771
aVand then, in one of your compilation units, put:
p13772
aVI know that's a kludge but I'm not aware of any portable way to do pre-main initialization without using a class constructor executed at file scope
p13773
aVYou should also be careful of including more than one of these initialization functions since I don't believe C++ dictates the order - it could be random
p13774
aVI'm not sure of this "sketch" of which you speak but would it be possible to transform the main compilation unit with a script before having it passed to the compiler, something like:
p13775
aVYou can see how this would affect your program because:
p13776
aVgenerates the following with the  call added:
p13777
aVIt may be that you can't post-process the generated file in which case you should ignore that final option, but that's what I'd be looking at first
p13778
as(dp13779
g16
V14860
p13780
stp13781
a((dp13782
g2
(lp13783
VAs a beginning DBA, you should be putting everything into third normal form
p13784
aVThat means, every column in a row depends on:
p13785
aVthe key (1NF)
p13786
aVthe whole key (2NF)
p13787
aVnothing but the key (3NF)
p13788
aVWith experience, you can opt to revert sometimes to 2NF for various reasons (usually speed), but that's not something I'd be worrying about as a beginner
p13789
as(dp13790
g16
V14860
p13791
stp13792
a((dp13793
g2
(lp13794
VRunning external processes can be a real performance hit when you have thousands of clients trying to connect to your web server
p13795
aVThat's why people ended up ditching CGI (common gateway interface, the act of web servers calling external processes to dynamically create content) and incorporating code directly into their web servers, such as mod_perl
p13796
aVYou won't notice it when you're testing your little web application at home but, when the hordes that make up the Internet swarm down to your site, it will collapse under the load
p13797
aVYou'd be far better trying to figure out a way to cache this information within PHP itself (how often does it change, really
p13798
aVFor your particular example, you could use the  call to retrieve the full name (e
p13799
ag1775
aV,  and (optionally) strip off the domain part, but I've assumed you want the question answered in a more general sense
p13800
aVUpdate:
p13801
aVSince someone has requested benchmarks, here's a C program that does three loops of 1,000 iterations each
p13802
aVThe first does nothing within the loop, the second gets an environment variable (one other possibility for having PHP get its hostname), the third runs a  command to execute hostname:
p13803
aVThe results are:
p13804
aVHowever you slice'n'dice it, that's quite a discrepancy on loop number 3
p13805
aVIt probably won't cause any problems if you're getting one hit a week on your site but, if you hold any hope of surviving in the real world under load, you'd be best to avoid  calls as much as possible
p13806
as(dp13807
g16
V14860
p13808
stp13809
a((dp13810
g2
(lp13811
VHave you tried using  and running it in the background
p13812
as(dp13813
g16
V14860
p13814
stp13815
a((dp13816
g2
(lp13817
VFor a start, I'd use the simplified form:
p13818
aVAnd you have to click twice to get back to page 1 ()
p13819
aVYou probably need (assuming as you seem to indicate that your page range is 1 through 5 inclusive):
p13820
aVThis translates the range (1,5) to (0,4) before adding the value (and the wrap value which is a way to avoid calculating modulus on a negative value - some languages have trouble with that), then adding the offset and wrapping, then adding 1 again to get back in the range (1,5)
p13821
as(dp13822
g16
V14860
p13823
stp13824
a((dp13825
g2
(lp13826
VIt's actually a bad idea to try and control threads externally
p13827
aVYou never know what state they may be in when you suspend them
p13828
aVIf they have a mutex lock on a resource that's needed elsewhere, you can easily end up with a deadlock situation
p13829
aVWe had to create a "safe" suspend functionality without resorting to any non-portable pthread extensions a while ago and I'll try to remember how we did it
p13830
aVIt consisted of a suspension mutex for each thread and a variable indicating that threads state
p13831
aVSo the thread we wanted to suspend would have a loop (they mostly do) that went something like this:
p13832
aVand the code to suspend/resume the thread would be:
p13833
aVWhat the suspender would do is basically get a lock on the mutex and wait for the thread to enter suspended state (the writing to mystate was done only by the suspendee and did not have to be protected by another mutex)
p13834
aVThe  function did not return until it was guaranteed that the suspendee would be stopped
p13835
aVSimilarly, resuming the thread released the mutex so the suspendee could restart and then waited until it had restarted before returning
p13836
aVThis allowed suspension to take place but under the control of the thread being suspended
p13837
aVThat was much safer since it could ensure it could only be suspended at safe points when it didn't have any locks that could deadlock the application
p13838
as(dp13839
g16
V14860
p13840
stp13841
a((dp13842
g2
(lp13843
VIf "abc" and "xyz" are fixed values, you can maintain three counters with your collection indicating the number of strings:
p13844
aVstarting with "abc" but not ending with "xyz"
p13845
aVnot starting with "abc" but ending with "xyz"
p13846
aVstarting with "abc" and ending with "xyz"
p13847
aVThat gives you an O(1) time complexity for searching at the cost of extra calculation when inserting into, or deleting from, the collection
p13848
aVIf the "abc" and "xyz" are arbitrary strings, it's O(n) for all operations, including the "abc
p13849
aVone
p13850
aVYou only have to consider what happens when your collections consists of items that all start with "abc" to see this
p13851
aVThat's not bounded by O(logN) at all since you have to process all items in the tree (both branches of every non-leaf node)
p13852
aVI think your ideal solution is to maintain the two ordered trees, one for the normal strings and one for the reversed strings
p13853
aVBut don't worry about trying to do an intersection between the two
p13854
aVAll you need to do is minimize the search space as much as practicable
p13855
aVTo find "abc
p13856
aV, use the normal tree to find the strings starting with that value
p13857
aVTo find "
p13858
aVxyz", use the reverse tree to find the strings ending with the reverse of that that value (zyx
p13859
aVTo find "abc
p13860
aVxyz", use the normal tree to find the strings starting with that value and then filter out those that don't end in "xyz"
p13861
aVThat way you don't have to worry about intersecting values between the two trees and you still get a performance improvement over the simplistic linear search
p13862
as(dp13863
g16
V14860
p13864
stp13865
a((dp13866
g2
(lp13867
VGenerally it's the job of the loader (the thing that loads your EXEs, fixes up references to shared libraries, relocates code, etc) to set up the memory areas, but it usually does so in response to fields in the header executable that were put there by the linker
p13868
aVBut this sort of thing is not covered by any standard, it's an OS-level thing
p13869
as(dp13870
g16
V14860
p13871
stp13872
a((dp13873
g2
(lp13874
VPrint your variables out, particularly , before you use them
p13875
aVYou may get a surprise
p13876
as(dp13877
g16
V14860
p13878
stp13879
a((dp13880
g2
(lp13881
V"Best" is a subjective term and circular queues are rarely large enough to warrant binary searches so I'd opt for simplicity in the absence of information regarding queue size
p13882
aVThe easiest way is just to start at the head and check each element until the tail (or you've passed beyond it in the order) to see if it exists
p13883
aVLet's say your head variable points to the first item that will be removed and the tail points to the next place to put an item
p13884
aVFurther assume that you're wasting an item slot to simplify the code (a trick to simplify the code and tell the difference between an empty and full queue)
p13885
aVThat means and empty queue is indicated by
p13886
as(dp13887
g16
V14860
p13888
stp13889
a((dp13890
g2
(lp13891
VSystem load, in the UNIX sense (and if I recall correctly), is the number of processes which are able to be run that aren't actually running on a CPU (averaged over a time period)
p13892
aVUtilities like  show this load over, for example, the last 1, 5 and 15 minutes
p13893
aVI don't believe this is possible with the standard Win32 WMI process classes
p13894
aVThe process state field  in the WMI  objects are documented as not being used
p13895
aVHowever, the thread class does provide that information (and it's probably a better indicator as modern operating systems tend to schedule threads rather than processes)
p13896
aVThe  class has an  field which is set to one of:
p13897
aV0 Unknown
p13898
aV1 Other
p13899
aV2 Ready
p13900
aV3 Running
p13901
aV4 Blocked
p13902
aV5 Suspended Blocked
p13903
aV6 Suspended Ready
p13904
aVIf you were to do a query of that class and count up the number of type 2 (and possibly type 6; I think suspended means swapped out in this context), that should give you your load snapshot
p13905
aVYou would then have to average them yourself if you wanted averages
p13906
aVAlternatively, there's a  in that class as well:
p13907
aV0 Initialized (recognized by the microkernel)
p13908
aV1 Ready (prepared to run on the next available processor)
p13909
aV2 Running (executing)
p13910
aV3 Standby (about to run, only one thread may be in this state at a time)
p13911
aV4 Terminated (finished executing)
p13912
aV5 Waiting (not ready for the processor, when ready, it will be rescheduled)
p13913
aV6 Transition (waiting for resources other than the processor)
p13914
aV7 Unknown (state is unknown)
p13915
aVso you could look into counting those in state 1 or 3
p13916
aVDon't ask me why there's two fields showing similar information or what the difference is
p13917
aVI've long since stopped second-guessing Microsoft with their WMI info, I just have to convince the powers that be that my choice is a viable one :-)
p13918
aVHaving just finished developing a Windows client for our own monitoring application, I'd just suggest going for 1-second snapshots and averaging these over whatever time frame you need to report on
p13919
aVVBScript and WMI seem remarkably resilient even at one query per second - it doesn't seem to suck up too much CPU and, as long as you free everything you use, you can run for extended periods of time
p13920
aVSo, every second, you'd do something like (in VBScript, and from memory since I don't have ready access to the code from here):
p13921
as(dp13922
g16
V14860
p13923
stp13924
a((dp13925
g2
(lp13926
VYou can do this in two different ways
p13927
aVThe first is with a VBA script which works by copying the data rather than inserting column
p13928
aVWhen you insert a new column , the chart range will follow the old data so that it's now using rows  through  () for the 12 months
p13929
aVWhat you need to do is to have a VBA script which inserts a new column after all the current ones (let's say you had  and you're adding a new one) at
p13930
aVThis will not cause the chart range to be moved
p13931
aVThen you simply copy all the data from  to ,  to ,  to ,
p13932
aV,  to  and  to , then blank out
p13933
aVThis leaves  free for your new data and the chart still using
p13934
aVThe second way is to insert at column  but write the VBA to manipulate the chart object and force it to use
p13935
aVThe chart object has a  method for this very reason so you can change it with a simple macro (bound to a keypress or automatically on open, etc)
p13936
as(dp13937
g16
V14860
p13938
stp13939
a((dp13940
g2
(lp13941
VBest practice is to try it both ways, see which way works best for your organization, then do it that way
p13942
aVOccasionally try it the other way to see if anything has changed
p13943
aVThat way you get a solution tailored to your situation without worrying about ephemeral transitory things like "best practice"
p13944
aVAs you can probably tell, I'm not a big fan of rules being handed down from on-high
p13945
aVDon't get me wrong, if something proves to be an advantage, I'll use it (agile, for instance, since it focuses you on immediate deliverables)
p13946
aVBut it has to be proven in the environment you work in, otherwise it's just something that worked for someone else
p13947
as(dp13948
g16
V14860
p13949
stp13950
a((dp13951
g2
(lp13952
VNo, because HTTP, as a protocol, doesn't really care
p13953
aVIn any case, 50 different requests to google
p13954
aVcom may end up at 50 different servers
p13955
aVIf you want that information, you need to build it into the application, something like "http://google
p13956
aVcom/uptime" which will deliver Google's view of how long it's been up - Google will probably do this as a static page showing the date of their inception :-)
p13957
as(dp13958
g16
V14860
p13959
stp13960
a((dp13961
g2
(lp13962
VIf all you've done is edit the source files, the best approach is probably to send those back and have your friend re-integrate them into his vs2008 project
p13963
aVIf you've added files, you may still be able to get them integrated okay
p13964
aVWhat will cause trouble is if there are binary files that VS2008 doesn't know about
p13965
aVI'm not aware of any tools that will automatically convert projects back into vs2008 so the re-integration may be the way to go
p13966
as(dp13967
g16
V14860
p13968
stp13969
a((dp13970
g2
(lp13971
VThe latest draft of the C standard (N1256) states that there are two allowed forms of the  function:
p13972
aVbut the crux is the clause "or in some other implementation-defined manner"
p13973
aVThis seems to me to be a loophole in the standard large enough to drive a semi-trailer through
p13974
aVSome people specifically use  for the  to disallow changes to the arguments
p13975
aVIf your main function is defined that way, you are not permitted to change the characters that  points to, as evidenced by the following program:
p13976
aVHowever, if you remove the , it works fine:
p13977
aVI think this is also the case for C++
p13978
aVThe current draft states:
p13979
aVbut it doesn't specifically disallow other variants so you could presumably accept a  version in C++ as well (and, in fact, g++ does)
p13980
aVThe only thing you need to be careful of is trying to increase the size of any of the elements
p13981
aVThe standards do not mandate how they're stored so extending one argument may (probably will) affect others, or some other unrelated data
p13982
as(dp13983
g16
V14860
p13984
stp13985
a((dp13986
g2
(lp13987
Vworks fine, so you can just use:
p13988
aVThe commands, by the way, work as follows
p13989
aVThe  sed string substitutes a  character followed by any number of non-"
p13990
aVcharacters up to the end of the line, with nothing (i
p13991
ag75
aV, it removes everything from the final "
p13992
aVto the end of the line, inclusive)
p13993
aVThis is basically a non-greedy substitution using regex trickery
p13994
aVThe  sed string substitutes a any number of characters followed by a "
p13995
aVcharacter at the start of the line, with nothing (i
p13996
ag75
aV, it removes everything from the start of the line to the final dot, inclusive)
p13997
aVThis is a greedy substitution which is the default action
p13998
as(dp13999
g16
V14860
p14000
stp14001
a((dp14002
g2
(lp14003
VThat will match CD02 because you have the  section in there which means one or more of any digit
p14004
aVIt would only match CD2 and not CD02 if you had something like
p14005
as(dp14006
g16
V14860
p14007
stp14008
a((dp14009
g2
(lp14010
VIn almost any situation where there's a fast mode and a safe mode, you'll find a trade-off of some sort
p14011
aVOtherwise everything would run in fast-safe mode :-)
p14012
aVAnd, if you're getting different results with the same input, your process is not deterministic, no matter how much you believe it to be (in spite of the empirical evidence)
p14013
aVI would say your explanation is the most likely
p14014
aVPut it in safe mode and see if the non-determinism goes away
p14015
aVThat will tell you for sure
p14016
aVAs to whether there are other optimizations, if you're compiling on the same hardware with the same compiler/linker and the same options to those tools, it should generate identical code
p14017
aVI can't see any other possibility other than the fast mode (or bit rot in the memory due to cosmic rays, but that's pretty unlikely)
p14018
aVFollowing your update:
p14019
aVIntel has a document here which explains some of the things they're not allowed to do in safe mode, including but not limited to:
p14020
aVreassociation:
p14021
aVzero folding:
p14022
aVreciprocal multiply:
p14023
aVWhile you state that these operations are compile-time defined, the Intel chips are pretty darned clever
p14024
aVThey can re-order instructions to keep pipelines full in multi-CPU set-ups so, unless the code specifically prohibits such behavior, things may change at run-time (not compile-time) to keep things going at full speed
p14025
aVThis is covered (briefly) on page 15 of that linked document that talks about vectorization ("Issue: different results re-running the same binary on the same data on the same processor")
p14026
aVMy advice would be to decide whether you need raw grunt or total reproducability of results and then choose the mode based on that
p14027
as(dp14028
g16
V14860
p14029
stp14030
a((dp14031
g2
(lp14032
VYou can split a string using regular expressions and put it back together with a loop over the resulting array:
p14033
as(dp14034
g16
V14860
p14035
stp14036
a((dp14037
g2
(lp14038
VThe single-step answer to the first question is to use something like:
p14039
aVThat's very much a single-instruction way of doing it
p14040
aVAs for the second question, you shouldn't need to resort to DBMS-specific SQL gymnastics (like ) to get the result you want
p14041
aVThere's a standard method to do update-or-insert that doesn't require a specific DBMS
p14042
aVThat is, you try to do the creation first
p14043
aVIf it's already there, ignore the error
p14044
aVOtherwise you create it with a 0 value
p14045
aVThen do the update which will work correctly whether or not:
p14046
aVthe row originally existed
p14047
aVsomeone updated it between your insert and update
p14048
aVIt's not a single instruction and yet, surprisingly enough, it's how we've been doing it successfully for a long long time
p14049
as(dp14050
g16
V14860
p14051
stp14052
a((dp14053
g2
(lp14054
VIf this is a question about programming, your program should never be in that state since you've tied up the GUI thread somehow
p14055
aVAnd you can't (and shouldn't) stop Windows or the user from closing your program
p14056
aVThey've detected your code is rubbish and have every right to forcefully toss it out of their valuable address space
p14057
aVIn any case, your program's too busy doing other stuff - if it can't respond to the user, it probably can't waste time protecting itself either
p14058
aVAt some point, developers need to get it through their thick skulls that the computer belongs to the user, not them
p14059
aVOf course, if you're talking about how to configure Windows to prevent this (such as on your PC), then this question belongs on serverfault
p14060
as(dp14061
g16
V14860
p14062
stp14063
a((dp14064
g2
(lp14065
VYou do it with the  call, by using the  option::
p14066
aVHere's a page explaining this in further detail
p14067
aVFor Linux, it appears you have to use the  option with the value  (or  to turn it off):
p14068
aVI haven't tested this, just looked in the header files and a bit of a web search so you'll need to test it
p14069
aVAs to whether there's another way the DF flag could be set:
p14070
aVI find nowhere in my program where the "force DF flag" is set, yet  suggests it is
p14071
aVIs there any other way this could get set
p14072
aVFrom this excellent page here:
p14073
aVSets or receives the Path MTU Discovery setting for a socket
p14074
aVWhen enabled, Linux will perform Path MTU Discovery as defined in RFC 1191 on this socket
p14075
aVThe don't fragment flag is set on all outgoing datagrams
p14076
aVThe system-wide default is controlled by the   for  sockets, and disabled on all others
p14077
aVFor non  sockets it is the user's responsibility to packetize the data in MTU sized chunks and to do the retransmits if necessary
p14078
aVThe kernel will reject packets that are bigger than the known path MTU if this flag is set (with )
p14079
aVThis looks to me like you can set the system-wide default using :
p14080
aVreturns  on my system but it may be set on yours
p14081
aVOther than that, I'm not aware of anything else (other than  as previously mentioned) that can affect the setting
p14082
as(dp14083
g16
V14860
p14084
stp14085
a((dp14086
g2
(lp14087
VMinMaxLikely is the method I use
p14088
aVThe minimum for the case where everything goes well, the maximum for everything going pear-shaped, and the likely somewhere in between
p14089
aVOf course, management only ever looks at the minimum figure but, by the time they start complaining about cost over-runs and missed deliverables, you've already got them locked in and you have been (hopefully) keeping the fully appraised of any problems you've encountered and the effect those problems are having (pushing the actuals away from Min and closer to Max)
p14090
as(dp14091
g16
V14860
p14092
stp14093
a((dp14094
g2
(lp14095
VI would "swap" parts of the array out to disk
p14096
aVBy that, I mean, divide your bit array into half-billion bit chunks and store them on disk
p14097
aVThe have only a few chunks in memory at any one time
p14098
aVWith C# (or any other OO language), it should be easy to encapsulate the huge array inside this chunking class
p14099
aVYou'll pay for it with a slower generation time but I don't see any way around that until we get larger address spaces and 128-bit compilers
p14100
as(dp14101
g16
V14860
p14102
stp14103
a((dp14104
g2
(lp14105
VI use a four-section whiteboard with embedded printer
p14106
aVThat way, I can both do design privately at my desk or in a group of peers, and it lets me print out my ramblings for later on
p14107
aVI've never found an application that gives me all those capabilities (although a 6 foot by 4 foot monitor would be neat, I don't think my employer will pony up the cash for it)
p14108
aVSometimes the best technological solution is no technology at all (although I will be checking out the other answers to see if the tools have improved since the last time I looked - I'm pretty cynical however so I approach it with a certain pessimism)
p14109
as(dp14110
g16
V14860
p14111
stp14112
a((dp14113
g2
(lp14114
VNo, because it has data types that are not objects (such as  and )
p14115
aVI believe Smalltalk is truly object-oriented but I have only a little experience with that language (about two months worth some five years ago)
p14116
aVI've also heard claims from the Ruby crowd but I have zero experience with that language
p14117
aVThis is, of course, using the definition of "truly OO" meaning it only has objects and no other types
p14118
aVOthers may not agree with this definition
p14119
aVIt appears, after a little research into Python (I had no idea about the name/object distinction despite having coded in it for a year or so - more fool me, I guess), that it may indeed be truly OO
p14120
aVThe following code works fine:
p14121
aVoutputting:
p14122
aVso even the base integers are objects here
p14123
as(dp14124
g16
V14860
p14125
stp14126
a((dp14127
g2
(lp14128
VThe best way to get back to zero state (minimum number of transactions) was covered in this question here
p14129
as(dp14130
g16
V14860
p14131
stp14132
a((dp14133
g2
(lp14134
VYou have two problems
p14135
aVThe first is that your (original) code won't segfault
p14136
aVIt's perfectly valid to assign that string constant to a char pointer
p14137
aVBut let's leave that aside for now and pretend you had put something there that would segfault
p14138
aVThen it's usually a matter of buffers, the one in the C runtime library and the one in the OS itself
p14139
aVYou need to flush them
p14140
aVThe easiest way to do that was (in UNIX, not entirely certain about the  in Linux but you should be guaranteed that this wil happen eventually unless the system itself goes down):
p14141
aVI've done this often in UNIX and it ensures that the C runtime libraries are flushed to UNIX () and the UNIX buffers are sync'ed to disk (), useful if stdout is not a terminal device or you're doing it for a different file handle
p14142
as(dp14143
g16
V14860
p14144
stp14145
a((dp14146
g2
(lp14147
VJust that it will almost certainly slow things down
p14148
aVEvery sync'ed object must perform a check of some sort to ensure it's not already in use and then set flags when being used and reset them when finished
p14149
aVThis takes time
p14150
aVYou probably won't notice a functional change but, if performance is important, you need to watch out
p14151
as(dp14152
g16
V14860
p14153
stp14154
a((dp14155
g2
(lp14156
VRaising of signal  number 6 ( in Linux) is one way to do it (though keep in mind that SIGABRT is not required to be 6 in all POSIX implementations so you may want to use the  value itself if this is anything other than quick'n'dirty debug code)
p14157
aVCalling  will also cause a core dump, and you can even do this without terminating your process by calling  followed by  in the child only - see this answer for details
p14158
as(dp14159
g16
V14860
p14160
stp14161
a((dp14162
g2
(lp14163
VYa goose :-) You changed the project to "xxx" in the heading but left it as "vireporting" in the error output
p14164
aVSo the cat's out of the bag
p14165
aVYou may as well make our life easier and post the XML since our ability to help you (psychic debugging) is greatly limited
p14166
aVIf you want, sanitize the XML you post (better than you sanitized the original, hopefully)
p14167
aVAnd your comment ('There is no target "1"') makes sense since that's what ant is telling you
p14168
aVWhat you may have done is inadvertently created a dependency on that non-existent target
p14169
as(dp14170
g16
V14860
p14171
stp14172
a((dp14173
g2
(lp14174
VProvided you have the "
p14175
aVtxt" extension registered (and text files should be associated with Notepad in a default installation, or something else if you've changed it from Explorer - you'd have to work pretty hard to disassociate them), Windows will open it for you without you having to specify the executable name:
p14176
aVor, for a web page in your browser of choice:
p14177
as(dp14178
g16
V14860
p14179
stp14180
a((dp14181
g2
(lp14182
VI have to agree with the parser-crowd on this one
p14183
aVIn order of increasing input complexity, the hierarchy I choose from is:
p14184
aVsubstrings;
p14185
aVregexes; and
p14186
aVparsers
p14187
aVWhile regexes can handle much more complicated inputs than simple substring operations, they tend to barf pretty easily when faced with the really hairy input possibilities of free-form markup languages
p14188
aVXML DOM parsers will be the easiest solution for this problem
p14189
aVYou can use regexes (and they'll work reasonably well if you restrict the input format, such as ensuring img tags don't cross line boundaries and so on), but the simplicity of a parser-based solution will blow regexes out of the water for multi-line, attributes-in-any-order DOM tags
p14190
as(dp14191
g16
V14860
p14192
stp14193
a((dp14194
g2
(lp14195
VExactly the same as non- fields:
p14196
aVYou can mark the entire  as volatile by using  but the method above is for individual fields
p14197
as(dp14198
g16
V14860
p14199
stp14200
a((dp14201
g2
(lp14202
VAPL had that sort of syntax
p14203
aVNot that exact syntax but near the same level of readability
p14204
aVDid the web site not offer a clue
p14205
aVForth, as well, had similar syntax  but it still tended to have spaces between words, unlike your sample
p14206
aVUpdate:
p14207
aVActually, it does look like APL or a variant thereof
p14208
aVSee this link here for the line:
p14209
aVThe comments at the top of that file:
p14210
aVso it's the J variant of APL
p14211
aVSee here if you want to enhance your migraines
p14212
as(dp14213
g16
V14860
p14214
stp14215
a((dp14216
g2
(lp14217
VIn standard C,  allows the mode  to write (and  to read) in binary mode, thus:
p14218
aVThis outputs:
p14219
as(dp14220
g16
V14860
p14221
stp14222
a((dp14223
g2
(lp14224
VIf your C compiler is targeting a CPU with no divide instruction, you can modify your code as follows:
p14225
aVThis works by subtracting the values in chunks of four rather than one, right up until the last one then it switches to subtracting chunks of one
p14226
aVThis should make your code run about four times as fast (assuming  isn't outside the range of your integers)
p14227
aVYou could even insert more loops (say an  one) before the  one for even more speed
p14228
aVOther than that, hand-coding assembler may help but I think you'll find quite a boost from the above code without it
p14229
aVIf you know more detail on the way you'll be using the mod call, you can optimize it for your particular cases
p14230
aVFor example, if you only want to know modulo 25 of a 16-bit integer, the following code will be much faster than a simplistic loop with variable denominator
p14231
aVRunning a test, I find that you have to do 10 million iterations before a noticeable difference appears between that modulo code and the use of the  operator (2 seconds vs
p14232
aV0 seconds)
p14233
aVUp until that point, they were both 0 seconds, although that was run on a fast machine (better for ) and with a  instruction (better for  operator) so you'd need to benchmark it on your own hardware
p14234
aVThis is about as fast as you're likely to get without making your code unreadable (although even that shouldn't stop you if you're willing to add lots of comments explaining how it works)
p14235
aVA more general solution for any denominator is to first double the denominator (with bit shifts for speed) as far as possible so that the ensuing subtractions are minimized
p14236
aVThen, as the numerator reduces below the increased denominator, halve the denominator and keep going (until the denominator is back at the start)
p14237
aVThis actually performs on par with the optimized version of  above while providing a more general solution
p14238
as(dp14239
g16
V14860
p14240
stp14241
a((dp14242
g2
(lp14243
VYou need to both:
p14244
aVfind out the method of encryption; and
p14245
aVfind out the key used to encrypt
p14246
aVEasiest way is (if possible) go to the person or company that did it and ask them
p14247
aVI don't envy you this task since, unless the encryption is something useless like XOR, you've got a serious job on your hands
p14248
aVFor a start, you may want to tell us the name of the tool
p14249
aVWithholding information from the question is just going to make it even harder for you, and you don't need that :-)
p14250
as(dp14251
g16
V14860
p14252
stp14253
a((dp14254
g2
(lp14255
VYes, that its odd
p14256
aVIt's truly not a constant expression since  changes in the loop
p14257
aVSo this would appear to be a problem with VS2005
p14258
aVFor what it's worth, VS2008 does exactly the same thing
p14259
aVStrangely enough, a project with just this in it does not complain so it may well be some weird edge-case problem with Microsoft's warning generation code:
p14260
aVHowever, you haven't actually asked a question
p14261
aVWhat is it that you want to know, or want us to do
p14262
aVUpdate:
p14263
aVSee "Windows programmer"'s answer for the actual cause - there's a  at the top of LightZ
p14264
aVcpp which is causing the problem
p14265
as(dp14266
g16
V14860
p14267
stp14268
a((dp14269
g2
(lp14270
VI would separate them on principle, just because they are different beasts
p14271
aVQuestion have titles (as you said), tags, favorite markers and (presumably) are subject to searches for attempted duplicate detection
p14272
aVThat would seem to me to make them different enough to warrant a separate table
p14273
aVHowever, we don't know how SO stores them in the database, you've only seen the export into the data dump - it may be that the export functionality combines questions and answers into posts
p14274
aVIt may also be that the information common to questions and answers are stored in a single table and the question-specific extras stored in another table
p14275
aVShort of asking the SO developers, I can't think of any way to confirm this
p14276
as(dp14277
g16
V14860
p14278
stp14279
a((dp14280
g2
(lp14281
V is the closest thing Windows has to  but Windows requires you to specify an executable to run in that process
p14282
aVThe UNIX process creation is quite different
p14283
aVIt basically duplicates the current process almost in total, each in their own address space and starts running them separately
p14284
aVThe real equivalent of  is the  pair of UNIX
p14285
aVIt's not necessary for the  to happen since the process itself may have different code paths for parent and child
p14286
aVIf you're porting software to Windows and you don't mind a translation layer, Cygwin may provide the capability that you want (I've never had the need to test  under Cygwin so I can't say for sure)
p14287
as(dp14288
g16
V14860
p14289
stp14290
a((dp14291
g2
(lp14292
VI'm not sure if your first one is a simplification or not
p14293
aVIf that's exactly what it is, I'd simply remove the onClick from the div altogether
p14294
aVBut I suspect your actual case is more complicated so I'm not really offering that one as an answer
p14295
aVFor the second case, I'd actually divide up the image into five sections and only put one of them inside the div, as follows:
p14296
aVKludgy, I know, but I tend to go for the simplest solutions first
p14297
as(dp14298
g16
V14860
p14299
stp14300
a((dp14301
g2
(lp14302
VI suggest you do a search on the web for "floating point accuracy" or look at the absolute dozens of other questions on SO that yours is a duplicate of
p14303
as(dp14304
g16
V14860
p14305
stp14306
a((dp14307
g2
(lp14308
VREs aren't that good for very complicated things like multiple orders but this simple one should be representable with:
p14309
as(dp14310
g16
V14860
p14311
stp14312
a((dp14313
g2
(lp14314
VRecheck your  file (including a hex dump if necessary)
p14315
aVIt's likely that you've inserted some strange character into it
p14316
aVThat code works fine for me
p14317
aVThe only problem with it is that you store the output from the VBScript file into  and then echo  to  but that's not the source of your compilation error
p14318
aVOnce that's fixed and the  is removed (no such label in the snippet given, I assume it's part of a bigger program), the script runs perfectly
p14319
aVYou might also want to try (from the command line):
p14320
aVon its own to ensure it's the VBScript file at fault rather than the cmd file
p14321
as(dp14322
g16
V14860
p14323
stp14324
a((dp14325
g2
(lp14326
VIf you just want a fast integer log2 operation, the following function will do it without having to worry about floating-point accuracy:
p14327
aVIt will return -1 for an input value of 0, rather than the correct infinity (which is a little hard to represent in an integer :-)
p14328
aVBy the way, there are some insanely fast hacks to do exactly this (find the highest bit set in a 2's complement number) available from here
p14329
aVI wouldn't suggest using them unless speed is of the essence (I prefer readability myself) but you should be made aware that they exist
p14330
as(dp14331
g16
V14860
p14332
stp14333
a((dp14334
g2
(lp14335
VThe number  cannot be represented as an exact number in IEEE754
p14336
aVPrinting out the constant  with  results in:
p14337
aVso it will be rounded down
p14338
aVTry using this instead:
p14339
aValthough you need to be careful of numbers that can be represented exactly, since they'll be rounded up wrongly by this expression
p14340
aVYou need to understand the limitations of floating point representations
p14341
aVIf it's important that you get accuracy, you can use (or code) a BCD or other decimal class that doesn't have the shortcoming of IEEE754 representation
p14342
as(dp14343
g16
V14860
p14344
stp14345
a((dp14346
g2
(lp14347
VIt usually depends on your input data but I've never found anything that gives me better general compression than 7zip (http://www
p14348
aV7-zip
p14349
aVorg)
p14350
as(dp14351
g16
V14860
p14352
stp14353
a((dp14354
g2
(lp14355
VYou can't calculate the gradient of a "kink" (as you so eloquently put it)
p14356
aVIf you really need a gradient at such a point (x), I'd just average the gradient at (x-d) and (x+d) where d is a small enough delta
p14357
aVIt's as mathematically valid as any other single answer you're likely to get
p14358
aVFor example, the function:
p14359
aVwill produce:
p14360
aVwhere there is no gradient at the origin (0,0)
p14361
aVHowever, averaging the gradients at -0
p14362
aV0001 (gradient = -1) and +0
p14363
aV0001 (gradient = +1) will give you a gradient of zero (flat line)
p14364
aVThis should give a half-decent answer for other equations that produce non-symmetrical gradients at (x-d) and (x+d) as well
p14365
aVWhat I would do, since it's licensed under MIT, is to modify the source to allow an option for the Bezierspline to use that +/- delta method to calculate gradients at the non-continuous points
p14366
aVMaybe even push back the source changes to the developers if you think it's a worthwhile addition
p14367
as(dp14368
g16
V14860
p14369
stp14370
a((dp14371
g2
(lp14372
V65,000 words is, in all seriousness, a minuscule sorting problem
p14373
aVUnless you have to re-sort it many times per minute, I would suggest you just use the  built into the language
p14374
aVThat's what it's for, after all
p14375
aVI'd suggest using a simple array of char pointers for the alpha order
p14376
aVFor maintaining the frequency order, you'll can use a structure such as:
p14377
aVin another array, which you can populate fully whenever you create or modify the alpha-sorted array of pointers (see below for my reasoning why this seemingly inefficient process is suitable)
p14378
aVAs an example of the speed, consider the following piece of code:
p14379
aVOn a 3GHz dual core Intel chip, here's the outputs from a few select values of MAXWDS:
p14380
aVSo, as you can see, qsort is fairly efficient for the data set sizes you're talking about
p14381
aVIn fact, implementing the whole process for maintaining two sorted lists, as shown in the code below, shows you exactly how insignificant 66,000 elements are
p14382
aVThe basic premise is to:
p14383
aVmodify the alpha sorted strings as needed, then do a full alpha sort of them ()
p14384
aVuse the fact that they're sorted to easily transfer them to another array but with only one element per word, and the frequency ()
p14385
aVsort that frequency array as well ()
p14386
aVThe following code shows how that's done
p14387
aVThe only mildly tricky bit is the transfer from the alpha array to the frequency array
p14388
ag5385
ag5385
ag5385
aVAnd the output for 66,000 random strings is (the first few strings are there so you can see that the sort worked):
p14389
aVSo, even if you do those operations every single time you insert or delete a value, they will have no discernible impact (unless obviously, if you're doing it more than once every couple of seconds, but then you would think about batching the changes for efficiency)
p14390
as(dp14391
g16
V14860
p14392
stp14393
a((dp14394
g2
(lp14395
VMathematical libraries with infinite precision are not implemented
p14396
aVIt cannot be done
p14397
aVThe number 1/3 cannot be represented in a finite number of bits other than as a fraction
p14398
aVTranscendent numbers like pi and e cannot be represented completely in any fashion
p14399
aVOn the other hand, it is possible to create math libraries with huge precision
p14400
aVIt's all a matter of allocating enough bits for the mantissa of the floating point value
p14401
as(dp14402
g16
V14860
p14403
stp14404
a((dp14405
g2
(lp14406
VThere's a contact link on their web page
p14407
aVI'm not sure why you'd think we would know more about their product than them
p14408
aVThere's no requirement for a web server to pull its content out of individual files
p14409
aVThey could be held in one big file and extracted as required, or even in the executable as strings for all we know
p14410
aVI suggest you ask them
p14411
as(dp14412
g16
V14860
p14413
stp14414
a((dp14415
g2
(lp14416
VThat's something you could be using a union for:
p14417
aVAn example (under Linix so using different types):
p14418
aVThis produces:
p14419
as(dp14420
g16
V14860
p14421
stp14422
a((dp14423
g2
(lp14424
VI don't think you can do this easily
p14425
aVIn addition, you shouldn't do this
p14426
aVThe machine belongs to the user and, if they'd prefer to stream your MP3s rather than downloading them, it's their decision
p14427
aVMy own solution would be to provide a link for people to complain that they're streamed rather than downloaded (well, complain about anything, really) and let the community (including yourself) provide solutions
p14428
aVThen, if someone states that it always seems to play rather than download, you can work with them to figure out they're using Firefox and QuickTime and tell them they can either right-click-save-as or reconfigure Firefox
p14429
aVI will say that there will be ways in which you can achieve this, such as changing the MIME type or file name that's sent down, but my comment that this should be under the control of the user stands
p14430
aVAnd anyway, a determined user can quite easily re-configure their browser to stream whatever MIME type you decide to use so you still can't guarantee it
p14431
as(dp14432
g16
V14860
p14433
stp14434
a((dp14435
g2
(lp14436
VIt doesn't matter where you store them in terms of preventing "theft"
p14437
aVIf you deliver the bytestream to a browser, it can be intercepted and saved by anyone
p14438
aVThere's no way to prevent that (I'm assuming you're talking about delivering the images to a browser)
p14439
aVIf you're just talking about securing images on the machine itself, it also doesn't matter
p14440
aVThe operating system can be locked down as securely as the database, preventing anyone from getting at the images
p14441
aVIn terms of performance (when presenting images to a browser), I personally think it'll be faster serving from a filesystem
p14442
aVYou have to present the images in separate HTTP transactions anyway, which would almost certainly require multiple trips to the database
p14443
aVI suspect (although I have no hard data) that it would be faster to store the image URLs in the database which point to static images on the file system - then the act of getting an image is a simple file open by the web server rather than running code to access the database
p14444
as(dp14445
g16
V14860
p14446
stp14447
a((dp14448
g2
(lp14449
VMyself, I've always found the task scheduling code a bit of a hoot :-/
p14450
aVMethinks you need to get yourself a hobby outside the industry
p14451
aVOr a life :-)
p14452
as(dp14453
g16
V14860
p14454
stp14455
a((dp14456
g2
(lp14457
VWell, yes, it is
p14458
aVHow about this
p14459
aVEither that's it, or I'm missing something fundamental in your question
p14460
aVSee:
p14461
as(dp14462
g16
V14860
p14463
stp14464
a((dp14465
g2
(lp14466
VThis is what StringBuilder is meant for
p14467
aVIf you're going to be doing a lot of manipulation, do it on a , then turn that into a  whenever you need to
p14468
aVis described thus:
p14469
aVA mutable sequence of characters
p14470
aVThis class provides an API compatible with StringBuffer, but with no guarantee of synchronization"
p14471
aVIt has  (and , , , et al) and you can use  to morph it into a real
p14472
as(dp14473
g16
V14860
p14474
stp14475
a((dp14476
g2
(lp14477
VYes, you can localize all your functions in a common file (or files)
p14478
aVThis is exactly what I do with all my utility functions
p14479
aVI have a single  in my home directory that's used by all my programs with:
p14480
aVwhich executes the script in the context of the current shell
p14481
aVThis is important - if you simply run the include script, it will run in a subshell and any changes will not propagate to the current shell
p14482
aVYou can do the same thing for groups of scripts
p14483
aVIf it's part of a "product", I'd tend to put all the scripts, and any included scripts, in a single shell directory to ensure everything is localized
p14484
as(dp14485
g16
V14860
p14486
stp14487
a((dp14488
g2
(lp14489
VIBM Personal Communicator, just for its sheer configurability (and 3270 capability - few terminal emulators have both standard telnet and 3270 capability)
p14490
aVBut this is a subjective/argumentative question (hence my community wiki and close vote)
p14491
as(dp14492
g16
V14860
p14493
stp14494
a((dp14495
g2
(lp14496
VThere are those that will argue you should only have one exit point in your function but I'm not in that camp
p14497
aVI frequently use multi-returns and it doesn't affect the readability of short well-thought-out functions so I'd say just go for whatever you think is the more readable
p14498
aVI've had people refactor code I've written to follow the "rules" and it's almost always ended up with a morass of unreadable code due mostly to excessive indentation
p14499
aVThey should have either left it alne or done it properly, breaking it into more functions
p14500
aVOne particular annoyance I see is the likes of the  in:
p14501
aVDo they think the flow of control is somehow going to escape from the  clause
p14502
as(dp14503
g16
V14860
p14504
stp14505
a((dp14506
g2
(lp14507
VA couple of points
p14508
aV2 million records is not a big table
p14509
aVhaving a separate table per class is definitely not normalized
p14510
aVYou haven't really provided enough information re links to other table and what else, if anything, this table will store
p14511
aVBut you should be starting with 3NF for all tables and only changing that if you find performance problems
p14512
as(dp14513
g16
V14860
p14514
stp14515
a((dp14516
g2
(lp14517
VFor learning programming, I would go the Python route
p14518
aVUsing the basics of the language is quite easy and reminiscent of the glory days of BASIC before it turned into the massive behemoth that it is nowadays
p14519
aVPython is, in my opinion, the best language for learning and, once the concepts of programming are known, you can apply them to most languages
p14520
as(dp14521
g16
V14860
p14522
stp14523
a((dp14524
g2
(lp14525
VIf you think about the Greek roots of the term, it should become obvious
p14526
aVPoly = many: polygon = many-sided, polystyrene = many styrenes (a), polyglot = many languages, and so on
p14527
aVMorph = change or form: morphology = study of biological form, Morpheus = the Greek god of dreams able to take any form
p14528
aVSo polymorphism is the ability (in programming) to present the same interface for differing underlying forms (data types)
p14529
aVFor example, integers and floats are implicitly polymorphic since you can add, subtract, multiply and so on, irrespective of the fact that the types are different
p14530
aVThey're rarely considered as objects in the usual term
p14531
aVBut, in that same way, a class like  or  or  can also provide those operations, even though they operate on different data types
p14532
aVThe classic example is the  class and all the classes that can inherit from it (square, circle, dodecahedron, irregular polygon, splat and so on)
p14533
aVWith polymorphism, each of these classes will have different underlying data
p14534
aVA point shape needs only two co-ordinates (assuming it's in a two-dimensional space of course)
p14535
aVA circle needs a center and radius
p14536
aVA square or rectangle needs two co-ordinates for the top left and bottom right corners (and possibly) a rotation
p14537
aVAn irregular polygon needs a series of lines
p14538
aVAnd, by making the class responsible for its code as well as its data, you can achieve polymorphism
p14539
aVIn this example, every class would have its own  function and the client code could simply do:
p14540
aVto get the correct behavior for any shape
p14541
aVThis is in contrast to the old way of doing things in which the code was separate from the data, and you would have had functions such as  and
p14542
aVObject orientation, polymorphism and inheritance are all closely-related concepts and they're vital to know
p14543
aVThere have been many "silver bullets" during my long career which basically just fizzled out but the OO paradigm has turned out to be a good one
p14544
aVLearn it, understand it, love it - you'll be glad you did :-)
p14545
aV(a) I originally wrote that as a joke but it turned out to be correct and, therefore, not that funny
p14546
aVThe momomer styrene happens to be made from carbon and hydrogen, , and polystyrene is made from groups of that,
p14547
as(dp14548
g16
V14860
p14549
stp14550
a((dp14551
g2
(lp14552
VI don't know why people insist in called 350K-row tables big
p14553
aVIn the mainframe world, that's how big the DBMS configuration tables are :-)
p14554
aVThat said, you should be designing your tables in third normal form
p14555
aVIf, and only if, you have performance problems, then should you consider de-normalizing
p14556
aVIf you have a column that will apply only to certain of the rows, it's (probably) not going to be 3NF to put it in the same table
p14557
aVYou should have a separate table with a foreign key into your 'primary' table
p14558
aVKeep in mind that's if the boolean field actually doesn't apply to some of the rows
p14559
aVThat's a different situation to the field applying to all rows but not being known for some
p14560
aVIn that case, a nullable column in the primary table would be better
p14561
aVBut that doesn't sound like what you're describing
p14562
as(dp14563
g16
V14860
p14564
stp14565
a((dp14566
g2
(lp14567
VEveryone seems to be suggesting VirtualBox but, in my opinion, you can't beat VMWare at the virtualization game
p14568
aVI would get a copy of VMWare Player (it's free for non-commercial use and you'd be hard pressed to find one cheaper than that), then use this web site here to create yourself a virtual machine to whatever specification you need
p14569
aVI run heaps of images under XP (and one XP image under Debian) and it really is easy to set up
p14570
aVEarly editions of the Linux VMWare required you to re-configure the software whenever the kernel changed but this is now an automatic process
p14571
as(dp14572
g16
V14860
p14573
stp14574
a((dp14575
g2
(lp14576
VError code -2146893819 is hex 80090005 which, in the MS crypto libraries, is
p14577
aVThat's about as far as I got before I lost interest (that tends to happen to me a lot with crypto stuff) and it's only slightly more helpful than what you've got, so I've made it community wiki
p14578
aVYou haven't actually stated what you were doing when you got the error but the top hit for  and  on Google was this
p14579
aVStill, it expands you Google search terms at least :-)
p14580
aVBest of luck
p14581
as(dp14582
g16
V14860
p14583
stp14584
a((dp14585
g2
(lp14586
VObjective-C is remarkably similar to C
p14587
aVIn fact, it can be implemented as a layer on top of standard C with runtime support for the creation and destruction of objects
p14588
aVWhat that generally means is that most things you can do in C, you can also do in Objective-C
p14589
aVCasting an unsigned long to a float is done (in both languages) as follows
p14590
as(dp14591
g16
V14860
p14592
stp14593
a((dp14594
g2
(lp14595
VThe following code uses the  function and the  ('is a directory') and  ('is a regular file') macros to get information on the file
p14596
aVThe rest is just error checking and enough to make a complete compilable program
p14597
aVSample runs are shown here:
p14598
as(dp14599
g16
V14860
p14600
stp14601
a((dp14602
g2
(lp14603
VMCardinale, you already have an answer but I wanted to give one extra piece of advice
p14604
aVBe very sure that you want to do it that way
p14605
aVPer-row functions in SELECT statements never scale very well as the database tables become bigger (not just the one in the accepted answer, I mean any per-row function)
p14606
aVThat's because they tend to break the ability of the DBMS to choose the correct execution plan for maximum speed
p14607
aVIf you want a solution to scale well, you need to store information in the DB in such a way as the extraction speed is blindingly fast (based on the maxim, some would say truism, that table rows are almost always read far more often than they're written)
p14608
aVTo that end, a workable solution is often to add an entire new column which just contains the date portion of the given datetime column and use insert/update triggers to ensure it's set correctly
p14609
aVThen, by having an index on that new column, queries on the date of each row can be done without having to worry about the performance of per-row functions
p14610
aVThe impact of the trigger on performance shouldn't matter since inserts and updates happen far less than selects
p14611
aVWhat this solution does is to shift the cost of converting datetimes to dates off to the insert/update rather than the select, greatly reducing the cumulative cost
p14612
aVThis becomes apparent in a database table that never changes once set up - the cost in your current situation happens (unnecessarily) every time you read the data
p14613
aVIn the situation described in this answer, the cost disappears totally
p14614
aVOf course it will need more disk space for the table but rarely have I ever seen disk space as the bottleneck in a DBMS - it's almost always raw CPU grunt
p14615
aVNow I realize that this may break 3NF (since that new column may not be dependent on the key) but often that comes in handy for performance
p14616
aVThe general rule I follow is to implement in 3NF and drop back to other normalized forms if performance becomes an issue
p14617
aVJust some food for thought - enjoy
p14618
aVPost Scriptum: If you are really storing a datetime in your field, you probably should steer clear of calling it
p14619
aVIf it is really intended to be a date, the column type is wrong (and my advice here becomes moot)
p14620
aVOtherwise, it should be renamed to something more descriptive
p14621
aVThe DBAs and code-cutters that follow you will be eternally grateful :-)
p14622
as(dp14623
g16
V14860
p14624
stp14625
a((dp14626
g2
(lp14627
VI don't bother using gzip for archiving any more, just for unpacking other people's archives who haven't yet been converted :-)
p14628
aV7zip has insane-level compression (although I haven't put it head-to-head in all scenarios) and it also supports creating volumes, which is in answer to your specific question
p14629
as(dp14630
g16
V14860
p14631
stp14632
a((dp14633
g2
(lp14634
VThe only way I know of to guarantee you won't have threading issues with non-protected resources like your  is to make it a requirement that they're all instantiated before any threads are created
p14635
aVThis could be as simple as just documenting that they have to call a  function in the main thread before doing anything else
p14636
aVThen you construct  to instantiate and destroy one object of each type that contains one of those statics
p14637
aVThe only other alternative is to put another restriction on how they can use your generated code (use Boost, Win32 threads, etc)
p14638
aVEither of those solutions are acceptable in my opinion - it's okay to generate rules that they must follow
p14639
aVIf they don't follow the rules as set out by your documentation, then all bets are off
p14640
aVThe rule that they must call an initialization function or be dependent on Boost is not unreasonable to me
p14641
as(dp14642
g16
V14860
p14643
stp14644
a((dp14645
g2
(lp14646
VNot directly answering your question but it's a good idea to never use  due to the near-certainty that failure will leave the file pointer in an unknown state
p14647
aVThe preferable solution is to use one of the line reading functions (like  or similar) and then  the string that it gives you
p14648
aVThat has two advantages:
p14649
aVyou will know the state of the function pointer
p14650
aVyou can  the string to your heart's content until you recognize it
p14651
aVIn addition, when you  a , it stores an integer into your character array
p14652
aVThat's not really what you want since the underlying types are almost certainly different sizes
p14653
aVEither scan characters or change the underlying data type to integers
p14654
aVAnd to top that off, you're opening the file in append rather than read mode
p14655
as(dp14656
g16
V14860
p14657
stp14658
a((dp14659
g2
(lp14660
VAssuming that  is an , the equation  will be an integer division which will then be cast to a double
p14661
aVThat means that myObject
p14662
aVValue being 12 will result in returnValue becoming 1, not 1
p14663
ag2836
aVYou need to cast the value(s) first:
p14664
aVThis would result in the correct value 1
p14665
aV2, at least as correct as doubles will allow given their limitations but that's discussed elsewhere on SO, almost endlessly :-)
p14666
as(dp14667
g16
V14860
p14668
stp14669
a((dp14670
g2
(lp14671
VEmbedded software may have come a long way in the last 10 years but we generally did the following:
p14672
aVfor algorithms that didn't depend on the target hardware, we simply had unit tests that were built and tested on a non-embedded platform
p14673
aVfor stuff that did require the hardware, unit tests were conditionally compiled into the code to use whatever hardware was available
p14674
aVIn our case, it was a serial port on the target pushing the results to another, more capable, machine where the tests were checked for correctness
p14675
aVDepending on the hardware, you could sometimes dummy up a "virtual" device on a non-embedded platform
p14676
aVThis usually consisted of having another thread of execution (or signal function) changing memory used by the program
p14677
aVUseful for memory mapped I/O but not IRQs and such
p14678
aVtypically, you could only unit test a small subset of the complete code at a time (due to memory constraints)
p14679
aVfor testing of time-sensitive things, we didn't
p14680
aVPlain and simple
p14681
aVThe hardware we used (8051 and 68302) was not always functional if it ran too slow
p14682
aVThat sort of debugging had to be done initially with a CRO (oscilloscope) and (when we had some more money) an ICE (in-circuit emulator)
p14683
aVHopefully the situation has improved since I last did it
p14684
aVI wouldn't wish that pain on my worst enemy
p14685
as(dp14686
g16
V14860
p14687
stp14688
a((dp14689
g2
(lp14690
VChildren inherit the current priority of a process when they're created
p14691
aVThat means, if you renice the parent and start a child, it will have the modified priority
p14692
aVChildren that are already running when you renice are not affected
p14693
aVThe clue is in the  man pages (starting a child is a  operation):
p14694
aVfork() creates a child process that differs from the parent process only in its PID and PPID, and in the fact that resource utilizations are set to 0
p14695
as(dp14696
g16
V14860
p14697
stp14698
a((dp14699
g2
(lp14700
VThe time-honored method of learning how to do code/templates/anything is to "steal" from someone who already knows how to do it and then modify that until:
p14701
aVyou're happy with the outcome; and/or
p14702
aVyou've learned enough to be able to go it alone
p14703
aVI suggest that would be the quickest route to success
p14704
aVTheory is fine but you'll learn faster by doing, and making mistakes
p14705
as(dp14706
g16
V14860
p14707
stp14708
a((dp14709
g2
(lp14710
VI usually just track back from the structure to find all the enclosing  and  lines that the preprocessor will encounter and see which one is controlling the removal of the structure from the input stream into the compiler
p14711
aVThat generally works pretty quickly for all but the hairiest of header files (i
p14712
ag75
aV, those with a great many nested conditional compile statements)
p14713
aVFor those, I generally have a look at the preprocessor output to identify the last line in the header file that made it to the compiler input stream
p14714
aVAlmost certainly the next line will be a conditional compile statement where you haven't met the condition for inclusion
p14715
aVFor example, if this is the header file, you would need to track back to see that  should be defined in order to get the declaration and definition
p14716
as(dp14717
g16
V14860
p14718
stp14719
a((dp14720
g2
(lp14721
VIf you just want to execute a synchronous command (run and wait), your best bet is to just use the  call (see here) to run it
p14722
aVYes, I know it's a Linux page but C is a standard, no
p14723
aV:-)
p14724
aVFor more fine-grained control of what gets run, how it runs (sync/async) and lots more options,  (see here), and its brethren, are probably better, though you'll be tied to the Windows platform (which may not be of immediate concern to you)
p14725
as(dp14726
g16
V14860
p14727
stp14728
a((dp14729
g2
(lp14730
VWell, it's an explicit request for help so it's output
p14731
aVIf for some reason you can't output the help or the user mis-spells "help" then, by all means, send that to error :-)
p14732
aVUsers that know what they're doing can use the infamous  if they want errors on standard output
p14733
as(dp14734
g16
V14860
p14735
stp14736
a((dp14737
g2
(lp14738
V is notorious for starting with a minimal environment
p14739
aVEither:
p14740
aVhave your script set up it's own environment;
p14741
aVhave a special cron script which sets up the environment then calls your script; or
p14742
aVset up the environment within crontab itself
p14743
aVAn example of the last (which is what I tend to use if there's not too many things that need setting up) is:
p14744
as(dp14745
g16
V14860
p14746
stp14747
a((dp14748
g2
(lp14749
VVolatile basically tells the compiler not to perform any optimizations on the "object" that you're applying it to
p14750
aVThis is useful when the object can be changed outside the scope of the program
p14751
aVOne example (and there are others) is with embedded systems
p14752
aVLet's say you have a device with a memory mapped keyboard
p14753
aVWhenever the user presses a key, the ASCII code for that key shows up in memory location  (for example)
p14754
aVSo you start with the code:
p14755
aVthen, whenever you want to wait for a key to be pressed, you can poll:
p14756
aVThe only problem here is that the compiler may figure out that nothing in the code is changing  so it may optimize the accesses so that the code no longer works
p14757
aVMost likely it will load  into key once then enter an infinite loop
p14758
aVBy specifying  as volatile, the compiler will make sure it doesn't try to optimize accesses to it and the code should work as expected
p14759
as(dp14760
g16
V14860
p14761
stp14762
a((dp14763
g2
(lp14764
VThe recursive approach :-)
p14765
aVOr iterative:
p14766
aVOr raw speed:
p14767
aVThose above have been modified to better process MININT
p14768
aVOn any weird systems that don't follow sensible 2n two's complement rules for integers, they may need further adjustment
p14769
aVThe raw speed version actually outperforms the floating point version, modified below:
p14770
aVWith a hundred million iterations, I get the following results:
p14771
aVThat actually surprised me a little - I thought the Intel chips had a decent FPU but I guess general FP operations still can't compete with hand-optimized integer code
p14772
aVUpdate following stormsoul's suggestions:
p14773
aVTesting the multiply-iterative solution by stormsoul gives a result of 4 seconds so, while it's much faster than the divide-iterative solution, it still doesn't match the optimized if-statement solution
p14774
aVChoosing the arguments from a pool of 1000 randomly generated numbers pushed the raw speed time out to 2 seconds so, while it appears there may have been some advantage to having the same argument each time, it's still the fastest approach listed
p14775
aVCompiling with -O2 improved the speeds but not the relative positions (I increased the iteration count by a factor of ten to check this)
p14776
aVAny further analysis is going to have to get seriously into the inner workings of CPU efficiency (different types of optimization, use of caches, branch prediction, which CPU you actually have, the ambient temperature in the room and so on) which is going to get in the way of my paid work :-)
p14777
aVIt's been an interesting diversion but, at some point, the return on investment for optimization becomes too small to matter
p14778
aVI think we've got enough solutions to have answered the question (which was, after all, not about speed)
p14779
aVFurther update:
p14780
aVThis will be my final update to this answer barring glaring errors that aren't dependent on architecture
p14781
aVInspired by stormsoul's valiant efforts to measure, I'm posting my test program (modified as per stormsoul's own test program) along with some sample figures for all methods shown in the answers here
p14782
aVKeep in mind this is on a particular machine, your mileage may vary depending on where you run it (which is why I'm posting the test code)
p14783
aVDo with it as you wish:
p14784
aVAnd here's the leaderboard for my environment:
p14785
aVOptimization level 0:
p14786
aVOptimization level 3:
p14787
as(dp14788
g16
V14860
p14789
stp14790
a((dp14791
g2
(lp14792
VFrom the command line:
p14793
aVOr, in a cmd file (since the use of  variables is slightly different there):
p14794
as(dp14795
g16
V14860
p14796
stp14797
a((dp14798
g2
(lp14799
VWell, it's at least 4M on my box
p14800
aVAt that point, I got bored and wandered off
p14801
aVHopefully the terminal output will be finished before I'm back at work on Monday :-)
p14802
aVIf you're worried that 4M may not be enough for your environment variable, you may want to rethink how you're doing things
p14803
aVPerhaps it would be a better idea to put the information into a file and then use an environment variable to reference that file
p14804
aVI've seen cases where, if the variable is of the form , it gets the actual information from the file
p14805
aVIf it _doesn't begin with , it uses the value of the environment variable itself
p14806
aVInterestingly enough, with all those variables set, every single command starts complaining that the argument list is too long so, even though it lets you set them, it may not be able to start programs after you've done it (since it has to pass the environment to those programs)
p14807
as(dp14808
g16
V14860
p14809
stp14810
a((dp14811
g2
(lp14812
VIf you want 3NF (and you should unless and until you find performance is a problem), you should either:
p14813
aVstore the order ID in each row of the food_item table (if food_items is a per-order table);
p14814
aVor use a many-to-many relationship (if food_items is just the possible things you can order)
p14815
aVWith the first option, something like this would suffice:
p14816
aVFor the second option, a separate table provides the many-to-many relationship:
p14817
aVIn my opinion, all database tables should be designed in third-normal form
p14818
aVOnce you table gets so big that performance may become an issue (and it will have to be very big), then you can start thinking about de-normalizing for speed
p14819
aVFor a restaurant, I cannot imagine the order and food item tables getting anywhere near big enough to warrant de-normalizing
p14820
as(dp14821
g16
V14860
p14822
stp14823
a((dp14824
g2
(lp14825
VI don't know a great deal about PHP so you may get a more specific answer from others, but I'd like to present a more language-agnostic approach
p14826
aVBy checking every element in A against every element in B, it is indeed O(n2) [I'll assume the arrays are of identical length here to simplify the equations but the same reasoning will hold for arrays of differing lengths]
p14827
aVIf you were to sort the data in both arrays, you could reduce the time complexity to O(n log n) or similar, depending on the algorithm chosen
p14828
aVBut you need to keep in mind that the complexity only really becomes important for larger data sets
p14829
aVIf those two arrays you gave were typical of the size, I would say don't sort it, just use the "compare everything with everything" method - sorting won't give you enough of an advantage over that
p14830
aVArrays of 50 elements would still only give you 2,500 iterations (whether that's acceptable to PHP, I don't know, it would certainly be water off a duck's back for C and other compiled languages)
p14831
aVAnd before anyone jumps in and states that you should plan for larger data sets just in case, that's YAGNI, as unnecessary as premature optimization
p14832
aVYou may never need it in which case you've wasted time that would have been better spent elsewhere
p14833
aVThe time to implement that would be when it became a problem (that's my opinion of course, others may disagree)
p14834
aVIf the data sets really are large enough to make the O(n2) unworkable, I think sorting then walking through the arrays in parallel is probably your best bet
p14835
aVOne other possibility is if the range of numbers is not too big - then your proposed solution of a vector of booleans is quite workable since that would be O(n), walking both arrays to populate the vector followed by comparisons of fixed locations within the two vectors
p14836
aVBut I'm assuming your range is too large or you wouldn't have already mentioned the 400K requirement
p14837
aVBut again, the size of the data sets will dictate whether or not that's worth doing
p14838
as(dp14839
g16
V14860
p14840
stp14841
a((dp14842
g2
(lp14843
VYou still need the  operator to allocate things on the heap and this is required if you want them to survive beyond the scope of the function they're created in
p14844
aVThe stack is often also far more limited than the heap in terms of size and I'd love to see a linked list (or any non-array collection) of objects created using the variable length array declaration method :-)
p14845
aVNo, I think  may be around for a little while longer
p14846
as(dp14847
g16
V14860
p14848
stp14849
a((dp14850
g2
(lp14851
VTo get a unique key without having to specify it, you need an auto_increment field:
p14852
aVFor efficiently searching first names, you just need an index on the first-name column
p14853
aVA couple of million rows is not a big table, so this should be reasonably efficient
p14854
as(dp14855
g16
V14860
p14856
stp14857
a((dp14858
g2
(lp14859
VI get similar results to the questioner under Ubuntu 9:
p14860
aVBut I'm not sure this is relevant
p14861
aVI don't tend to use unpack for simple string extractions, due to its unholy format string :-)
p14862
aVI think where it would shine is extracting encoded integers and all sorts of other binary information which is where I would use it
p14863
aVOne thing you should take from Matthew's and my (and your) benchmarks is that it will depend a lot on environmental factors
p14864
aVAnd keep in mind that speed, while good, is not the be-all and end-all - I don't think I've written much code that would be seriously affected by only being able to perform 4
p14865
aV6 million extractions per second rather than 6 million :-) You may need that extra performance but I doubt it for most applications written in Perl
p14866
as(dp14867
g16
V14860
p14868
stp14869
a((dp14870
g2
(lp14871
VTwo ways I know of, neither very clever unfortunately but this is more a limitation of the environment rather than me :-)
p14872
aVThe first is to  the number to a big buffer with a  format string, strip off the trailing zeros then count the characters after the decimal point
p14873
aVThis will be limited by the  family itself
p14874
aVOr you could use the string as input by the user (rather than ing a floating point value), so as to avoid floating point problems altogether
p14875
aVThe second is to subtract the integer portion then iteratively multiply by 10 and again subtract the integer portion until you get zero
p14876
aVThis is limited by the limits of computer representation of floating point numbers - at each stage you may get the problem of a number that cannot be represented exactly (so
p14877
aV2155 may actually be
p14878
aV215499999998)
p14879
aVSomething like the following (untested, except in my head, which is about on par with a COMX-35):
p14880
aVIf you know the sort of numbers you'll get (e
p14881
ag1775
aV, they'll all be 0 to 4 digits after the decimal point), you can use standard floating point "tricks" to do it properly
p14882
aVFor example, instead of:
p14883
aVuse
p14884
as(dp14885
g16
V14860
p14886
stp14887
a((dp14888
g2
(lp14889
VIf CE is the same as XP Pro (and I'm not sure you're right about that), you can use the same method:
p14890
aVHere it is running on my Windows VM (XP SP3):
p14891
aVSome of the useful multi-command options are:
p14892
as(dp14893
g16
V14860
p14894
stp14895
a((dp14896
g2
(lp14897
VSince none of the other answers are joining three tables (your question heading states three but your body only needs two), I'll give you a three table version
p14898
aVTo do that I assume you have the username of the user rather than the ID
p14899
aVIn that case, you can do:
p14900
aVThis sort of thing can also be done with explicit s but I prefer the "old school" SQL ways especially when the DBMS is clever enough to optimize it in the same manner, such as my beloved DB2/z :-)
p14901
as(dp14902
g16
V14860
p14903
stp14904
a((dp14905
g2
(lp14906
VIf by bash, you mean actually bash alone, I can't help you
p14907
aVYou really should be using the right tools for the job
p14908
aVIf you mean standard UNIX utilities that you can call from bash, I would be using  for that
p14909
aVThis outputs:
p14910
aVThe way it works is simple
p14911
aVe is the echo flag, initially set to false (0)
p14912
aVwhen you find line b, set echo to true (1) - don't print yet
p14913
aVThat will be handled by the last bullet point below
p14914
aVwhen you find line d and echo is on, print it and exit
p14915
aVwhen echo is on, print the line (this includes line b)
p14916
aVI've made an assumption here that you don't want to exit on a line d unless you're already echoing
p14917
aVIf that's wrong, move the exit outside of the if statement for line d:
p14918
aVThen, if you get a line d before your line b, it will just exit without echoing anything
p14919
aVThe -type clauses can be made very powerful to match pretty well anything you can throw at it
p14920
as(dp14921
g16
V14860
p14922
stp14923
a((dp14924
g2
(lp14925
VWhat's wrong with the perennial
p14926
aVThat usually works for me, at least as a first cut
p14927
as(dp14928
g16
V14860
p14929
stp14930
a((dp14931
g2
(lp14932
VI think you may be going too fast
p14933
aVMost operating systems have a limit on the number of sockets they can have open at any one time but it's actually worse than that
p14934
aVWhen a socket is closed down, it is put in a special time-wait state for a certain amount of time
p14935
aVThis is usually twice the packet time-to-live value and it ensures that there aren't still packets out in the network that are on the way to your socket
p14936
aVOnce that time expires, you can be sure that all packets out in the network have already died
p14937
aVThe socket is placed in that special state so that packets that were out in the network when you shut it down can be captured and thrown away if they arrive before they die
p14938
aVI think that's what's happening in your case, the sockets aren't being freed as quickly as you think
p14939
aVWe had a similar problem with code that opened lots of short-lived sessions
p14940
aVIt ran fine for a while but then the hardware got faster, allowing many more to be opened in a given time period
p14941
aVThis manifested itself as inability to open more sessions
p14942
aVOne way to check this is to do  from the command line and see how many sessions are actually in the wait state
p14943
aVIf that does turn out to be the case, there's a few ways to handle it
p14944
aVre-use your sessions, either manually or by maintaining a connection pool
p14945
aVintroduce a delay in each connection to try and stop reaching the saturation point
p14946
aVgo flat out until you reach saturation and then modify your behaviour, such as running your connect logic inside a while statement that retries for up to 60 times with a two-second delay each time before giving up totally
p14947
aVThis lets you run at full speed, slowing down only if there's a problem
p14948
aVThat last bullet point deserves some expansion
p14949
aVWe actually used a back-off strategy in our afore-mentioned application which would gradually lessen the load on a resource provider if it was complaining so, instead of 30 two-second delays, we opted for a one-second delay, then two seconds, then four and so on
p14950
aVThe general process for a back-off strategy is as follows and it can be used in any case where there may be temporary shortages of a resource
p14951
aVThe action alluded to in the pseudo-code below would be the opening of a socket in your case
p14952
aVThis allows the process to run at full speed in the vast majority of cases but backs off when errors start occurring, hopefully giving the resource provider time to recover
p14953
aVThe gradual increase in delays allows for more serious resource restrictions to recover and the maximum tries catches what you would term permanent errors (or errors that are taking too long to recover)
p14954
as(dp14955
g16
V14860
p14956
stp14957
a((dp14958
g2
(lp14959
VWhy is there even a possibility that your script will be run by the "wrong" shell
p14960
aVI would think you could make that a pre-requisite of your product by using the standard sh-bang line at the top of your script:
p14961
aVEven if a user uses a different shell, the other shells are generally still there and, if not, simply complain and state that they are a pre-req
p14962
aVExactly the same way that a specific kernel level, or the existence of awk, can be a pre-req
p14963
aVFor your specific question, I believe both  and  allow the single '=' to be used for string comparisons - that is POSIX behavior:
p14964
as(dp14965
g16
V14860
p14966
stp14967
a((dp14968
g2
(lp14969
VIf it works, leave it alone
p14970
aVWe're not paid to make code look beautiful, we're paid to make it functional
p14971
aVI'm not advocating writing ugly code, by all means make your own code as beautiful as you want (although beauty is subjective, of course)
p14972
aVJust be aware that there is no business benefit in changing code that works, no matter how butt-ugly you think it is
p14973
aVShow me a customer that cares about the beauty of the code in preference to its functionality and I'll show you a customer that will be out of business in five years
p14974
aVIf there's a bug in that code, you can consider refactoring but, even then, that should be secondary to fixing the bug
p14975
as(dp14976
g16
V14860
p14977
stp14978
a((dp14979
g2
(lp14980
VAssuming you can  the numbers, that is the key here, I believe, because of the following properties:
p14981
aVis commutative and associative (so the order in which it's done is irrelevant)
p14982
aVa number ed with itself will always be zero
p14983
aVzero ed with a number will be that number
p14984
aVSo, if you simply  all the values together, all of the ones that occur twice will cancel each other out (giving 0) and the one remaining number () will  with that result (0) to give
p14985
aVNo hash table needed, this has O(n) performance and O(1) extra space (just one tiny little integer)
p14986
as(dp14987
g16
V14860
p14988
stp14989
a((dp14990
g2
(lp14991
VAll business decisions are (or should be) made based on a cost/benefit analysis
p14992
aVYou need to show that the benefits outweigh the costs
p14993
aVPossible benefits are:
p14994
aVMore longevity in the product, due to using later tools
p14995
aVFaster development time, due to faster compiler and/or more productive tools
p14996
aVPossible counter-arguments to the costs are:
p14997
aVthe difference between VS2k3 and VS2k8 does not warrant a lot of training, the improvement process can be gradual as more of the new features are used
p14998
aVNone of these arguments are delivered under oath
p14999
aVIf you can't find data to back up your arguments, just make stuff up (without getting caught out, of course)
p15000
aVGuiding your management is a time-honored tradition for the successful grunt-worker :-)
p15001
as(dp15002
g16
V14860
p15003
stp15004
a((dp15005
g2
(lp15006
VWell maybe, just maybe, it's smart enough to figure out that the entire table can fit in one block and it doesn't bother to read the index
p15007
aVIt's probably faster to read the whole table into memory and sort it (if that's even necessary - there's a good chance it's already sorted by key within the block)
p15008
aVTry it with a bigger table
p15009
as(dp15010
g16
V14860
p15011
stp15012
a((dp15013
g2
(lp15014
VDatabase should always be designed and initially implemented in 3NF
p15015
aVBut the world is a place of reality, not ideals, and it's okay to revert to 2NF (or even 1NF) for performance reasons
p15016
aVDon't beat yourself up about it, pragmatism beats dogmatism in the real world all the time
p15017
aVYour solution, if it improves performance, is a good one
p15018
aVThe idea of having an actual radio (for example), manufactured by nobody and having no features, is not a bad one - it's been done a lot before, believe me :-) The only reason you would use that field as NULL was to see which vehicles have no radio and there's little difference between these queries:
p15019
aVMy first thought was to simply combine the four tables into one and hang the duplicate data issue
p15020
aVMost problems with DBMS' stem from poor performance rather than low storage space
p15021
aVMaybe keep that as your fallback position if your current de-normalized schema becomes slow as well
p15022
as(dp15023
g16
V14860
p15024
stp15025
a((dp15026
g2
(lp15027
VWe use Rational Robot for this but keep in mind it's not cheap
p15028
aVIt's also probably been renamed 27 times since we started using it so you may want to just search for Rational testing products in general
p15029
aVIt's fully script-able, allowing you to monitor the screen and send key presses and whatnot
p15030
as(dp15031
g16
V14860
p15032
stp15033
a((dp15034
g2
(lp15035
V - atomicity, consistency, isolation and durability
p15036
aVThese are the basic tenets of databases that you ignore at your peril
p15037
aVWhat your colleague is stating is that it's okay to ignore isolation, the property that you don't get to see half-done transactions
p15038
aVThat's okay in some situations
p15039
aVFor example, we have a set of reports that are not used for critical business purposes but merely to give an indication as to the general health  of the system
p15040
aVFor that, 95% accuracy is good enough and we don't want the reporting to get in the way of the real work
p15041
aVBut, for a statement from a bank to one of it's customers, 100% is the absolute minimum accuracy
p15042
aVIn situations where you will rely on the data, isolation must be adhered to
p15043
aVYou need to decide which bucket your particular system falls into
p15044
aVI'd be willing to bet good money that the number of situations in which you can ignore any of the ACID principles is minimal
p15045
as(dp15046
g16
V14860
p15047
stp15048
a((dp15049
g2
(lp15050
VFirst normal form (1NF) - every non-key column in a table depends on the key
p15051
aVSecond normal form (2NF) - 1NF and every non-key column in a table depends on the entire key
p15052
aVThird normal form (3NF) - 2NF and every non-key column in a table depends on nothing but the key
p15053
aVThis leads to the saying that 3NF depends on the key, the whole key and nothing but the key, so help me Codd (and if you don't know who Codd [or Date] is, you should research them, they're the fathers of relational databases)
p15054
aVNormalization is a valuable (read necessary) tool in ensuring we don't have redundant data (which becomes a real problem if the two redundant areas get out of sync)
p15055
aVIt doesn't generally increase performance
p15056
aVIn fact, although all database should start in 3NF, it's sometimes acceptable to drop to 2NF for performance gains, provided you're aware of, and mitigate, the potential problems
p15057
as(dp15058
g16
V14860
p15059
stp15060
a((dp15061
g2
(lp15062
VWhy don't you try the modified SQL:
p15063
aVand then use the  from each returned row  instead of
p15064
aVThe whole thing should be:
p15065
aVbased on what was in your question
p15066
as(dp15067
g16
V14860
p15068
stp15069
a((dp15070
g2
(lp15071
VIt doesn't have to be more pythonic, just more structured:
p15072
as(dp15073
g16
V14860
p15074
stp15075
a((dp15076
g2
(lp15077
VQuoting the Linux  man page:
p15078
aVfork() creates a child process that differs from the parent process only in its PID and PPID, and in the fact that resource utilizations are set to 0
p15079
aVFile locks and pending signals are not inherited
p15080
aVSo, while the pending signals do not make it through the  operation, the signal handlers themselves do
p15081
aVThis makes sense since the signals belong to the (parent) process
p15082
aVAlthough not directly related, the -type call that often follows a  will destroy all signal handlers since a brand new executable is being loaded into the process (overwriting the functions currently servicing signals)
p15083
as(dp15084
g16
V14860
p15085
stp15086
a((dp15087
g2
(lp15088
VActually, I seriously doubt you came across it in your code since it was included in an answer given to another question not half an hour ago :-)
p15089
aVSee here
p15090
aVIt's an email validation regex, possibly one of the worst regexes ever conceived, in my opinion
p15091
as(dp15092
g16
V14860
p15093
stp15094
a((dp15095
g2
(lp15096
VThe easiest way is to probably roll your own
p15097
aVI've had to do this in C before since there's no way to get the behavior you want with  formatting
p15098
aVIt doesn't appear to be much easier in Objective-C either
p15099
aVI'd give this a try:
p15100
aVor this (possibly faster) variant:
p15101
aVThe  guarantees there will always be a  at the end (where  is a digit character)
p15102
aVThe  and  simply strip off trailing zeros and the trailing decimal if it was an integer
p15103
aVObviously, you may want to put it in a function or class so you can get at it from anywhere without having to duplicate the code all over the place
p15104
as(dp15105
g16
V14860
p15106
stp15107
a((dp15108
g2
(lp15109
VI actually run three development environments (and many test environments) under Ubuntu host in Windows guest virtual machines - it's very good for keeping things separated and for being able to restore test environments to a known point
p15110
aVIt's also handy since the backup is a simple directory copy on the host and you don't have to worry about recovering settings or re-installing applications
p15111
aVetc
p15112
aVI prefer VMWare over Virtual PC for both performance and usability (keep in mind that's my opinion)
p15113
aVYou don't need the VMWare Workstation product to create a VM - check out EasyVMX here for a way to create easy VMs
p15114
aVThe one thing you'll miss though is VMWare tools which only comes with the Workstation product, not the player
p15115
aVBut VMWare has this for download here - I'm unsure of the legality of this even though it's an official download from VMWare, you may only be able to use it if you have the paid product
p15116
aVI actually have a license for Workstation, it's just an earlier version and I prefer the latest Player
p15117
as(dp15118
g16
V14860
p15119
stp15120
a((dp15121
g2
(lp15122
VWMI is the standard way under Windows to examine this sort of stuff from within a program
p15123
aVI believe you would be looking for this
p15124
aVis the value of physical RAM in use
p15125
aVis the size of your total address space in use
p15126
as(dp15127
g16
V14860
p15128
stp15129
a((dp15130
g2
(lp15131
VA lot of debuggers will use 0xdeadbeef for initializing registers
p15132
aVI always get a chuckle when I see that
p15133
aVBut, in all honesty, your question contains its own answer - use a value that your variable is not ever expected to become
p15134
aVIt doesn't matter what the value is
p15135
as(dp15136
g16
V14860
p15137
stp15138
a((dp15139
g2
(lp15140
VYou've got some funny characters in your file (at the end of each line)
p15141
aVDo:
p15142
aVand post the results here
p15143
aVIt's possible the file came from another system (DOS/Windows) although \u005c013 is the VT character rather than CR
p15144
aVWhen I do the same with files created from scratch, I get:
p15145
aVMy  output is:
p15146
aVHave a look at the  output for your file and see if there's anything before the  characters
p15147
aVUpdate:
p15148
aVFrom your comment, it appears your file was created under DOS/Windows since it has a CR/LF line ending
p15149
aVUse this as the script to strip out CR charcters first:
p15150
as(dp15151
g16
V14860
p15152
stp15153
a((dp15154
g2
(lp15155
Vbut in the above case it is returning sufficient data but the length reported is all wrong
p15156
aVNo, you are wrong about that
p15157
aVIt is returning what it says it's returning, 89 bytes
p15158
aVThe problem is that those 89 bytes don't include a nul terminator so that, when you  the buffer, it keeps going, printing whatever was already in the rest of the buffer before your  happened
p15159
aVWhat you should be doing (but see caveat below) is something like:
p15160
aVto ensure you don't print beyond the end of the buffer
p15161
aVWhat you're seeing is equivalent to:
p15162
aVBecause you're not transferring the nul character in the memcpy, the buffer you're left with is:
p15163
aVgiving the string
p15164
aVCaveat:
p15165
aVIf there are nul characters within your data stream, that  won't work since it'll stop at the first nul character it finds
p15166
aVThe  function reads binary data from a file descriptor and it doesn't have to stop at the first newline or nul character
p15167
aVThat would be equivalent to:
p15168
aVgiving the string
p15169
aVIf you really want to process nul- or newline-terminated string on what is a binary channel, the following (pseudo-code) is one way to do it:
p15170
aVIt's a process that reads data until you have at least one "unit of work", then processes those units of work until you don't have a complete unit of work left
p15171
as(dp15172
g16
V14860
p15173
stp15174
a((dp15175
g2
(lp15176
VFunction pointers are one alternative
p15177
aVConsider the following snippet that calls a function through a function pointer array:
p15178
aVThis generates:
p15179
aVThis sort of construct makes it very easy to implement things such as finite state machines where, instead of a massive  statement or near-unmanageable nested 's, you can just use an integer state variable to index into an array of function pointers
p15180
as(dp15181
g16
V14860
p15182
stp15183
a((dp15184
g2
(lp15185
VOther than enabling or disabling the IRQ/FIQ while you're in supervisor mode, there's no special setup you should have to do on the ARM to use it, unless the system (that the ARM chip is running in) has disabled it in hardware (based on your comment, this is not the case since you're seeing the FIQ input pin driven correctly)
p15186
aVFor those unaware of the acronyms, FIQ is simply the last interrupt vector in the list which means it's not limited to a branch instruction as the other interrupts are
p15187
aVThat means it can execute faster than the other IRQ handlers
p15188
aVNormal IRQs are limited to a branch instruction since they have to ensure their code fits into a single word
p15189
aVFIQ, because it won't overwrite any other IRQ vectors, can just run the code directly without a branch instruction (hence the "fast")
p15190
aVThe FIQ input line is just a way for external elements to kick the ARM chip into FIQ mode and start executing the correct exception
p15191
aVThere's nothing on the ARM itself which prevents that from happening except the CPSR
p15192
aVTo enable FIQ in supervisor mode:
p15193
aVA similar thing can be done for normal IRQs, but using #0x80 instead of #0x40
p15194
as(dp15195
g16
V14860
p15196
stp15197
a((dp15198
g2
(lp15199
VThis depends entirely on the processor you're talking about but it tends to be of the form:
p15200
aVIn other words, a compare instruction to set the relevant flags, followed by a conditional branch depending on those flags
p15201
aVThis is generally as low as you need to get for programming
p15202
aVYou only need to know the machine language for it if you're writing assemblers and you only need to know the microcode and/or circuit designs if you're building processors
p15203
as(dp15204
g16
V14860
p15205
stp15206
a((dp15207
g2
(lp15208
VA good start is to simply use  to replace all spaces with newlines, strip out the empty lines (again with ), then  with the  (uniquify) flag to remove duplicates, as in this example:
p15209
aVThen you can start worrying about punctuation and the likes
p15210
as(dp15211
g16
V14860
p15212
stp15213
a((dp15214
g2
(lp15215
VWhy don't you just create 251 static images, one for each payment level and serve the correct static image dynamically, based on the proportion of funds received to date
p15216
aVThis seems to be the simplest way of doing it, the only code required is to query the payment level, and send the relevant image down to the client
p15217
aVSo have a  (empty),  (one segment),  and so on, up to  (all segments), and have your web application serve the correct one
p15218
aVYou'll need to make sure these images aren't accessible in the public area of your web site so people can't just figure out the URL and steal your "precious"
p15219
aVSo, your web application will receive a request for , query which image should be sent, and respond with the data stream from the actual image, something like:
p15220
as(dp15221
g16
V14860
p15222
stp15223
a((dp15224
g2
(lp15225
VThis is why you have DBAs
p15226
aVIt depends entirely on the DBMS, and how your tables and indexes are configured, as to which one runs the fastest
p15227
aVDatabase tuning is not a set-and-forget operation, it should be done regularly, as the data changes, to ensure your database runs at peak performance
p15228
aVThe question is not really meaningful without specifying:
p15229
aVwhich DBMS you are asking about
p15230
aVwhat indexes you have on the tables
p15231
aVa host of other possible configuration items (which may also depend on the DBMS, such as clustering)
p15232
aVYou should run both those queries through the query optimizer to see which one is fastest, then start using that one
p15233
aVThat's assuming the difference in noticeable in the first place
p15234
aVIf the difference is minimal, go for the easiest to read/maintain
p15235
as(dp15236
g16
V14860
p15237
stp15238
a((dp15239
g2
(lp15240
VNo, POSIX does not specify any portable lock-free/atomic operations
p15241
aVThat's why they have pthreads
p15242
aVYou're either going to have to use non-standard ways or stick with ptrheads for portability
p15243
as(dp15244
g16
V14860
p15245
stp15246
a((dp15247
g2
(lp15248
VYou can cast a  to a  just fine, it's the using of such a beast that may be problematic
p15249
aVWhen you de-reference it, you'll simply get the  representation of the first part (but see below to understand what this really means, it's not as clear as you may think) of the float
p15250
aVIf you're talking about IEE754 floats, 12
p15251
aV2 in IEEE754 float is (abcd are the octets):
p15252
aVThe  at the end is the 51 (0x33) that you're seeing
p15253
aVThe reason you're seeing the last bit of the float is because it's stored like this in memory (in a little-endian architecture):
p15254
aVwhich means that the  cast of the  will point at the  part
p15255
aVOn big-endian architectures, you would get the  bit, , or 65 (0x41)
p15256
as(dp15257
g16
V14860
p15258
stp15259
a((dp15260
g2
(lp15261
VI stopped being able to fix my own cars after I sold my 1966 HR station wagon
p15262
aVI'm in a similar fix with modern CPUs :-)
p15263
aVIt really will depend on the underlying microcode or circuitry
p15264
aVIt's quite possible that the CPU could recognise  and simply zero all bits without worrying about the contents
p15265
aVBut of course, it may do the same thing with a
p15266
aVA good compiler will choose the best variant for the target platform anyway so this is usually only an issue if you're coding in assembler
p15267
aVIf the CPU is smart enough, your  dependency disappears since it knows the value is irrelevant and will set it to zero anyway (again this depends on the actual CPU being used)
p15268
aVHowever, I'm long past caring about a few bytes or a few clock cycles in my code - this seems like micro-optimisation gone mad
p15269
as(dp15270
g16
V14860
p15271
stp15272
a((dp15273
g2
(lp15274
VThe comma operator is a weird beastie until you get to understand it, and it's not specific to
p15275
aVThe expression:
p15276
aVevaluates  then evaluates  and returns
p15277
aVYou see it frequently, though you may not realize it:
p15278
aVYou're not actually using the return value from  but it's there nonetheless
p15279
aVThe comma operator evaluates both bits to modify both  and
p15280
aVYou can pretty well use it anywhere a normal expression can be used (that comma inside your function calls is not a comma operator, for example) and it's very useful in writing compact source code, if that's what you like
p15281
aVIn that way, it's part of the family that allows things like:
p15282
aVand so on
p15283
aVFor your specific example:
p15284
aVthe following occurs:
p15285
aVis executed fully (the comma operator is a sequence point)
p15286
aVis executed
p15287
aVthe comma operator throws away the first value (c) and "returns" the second
p15288
aVthe  uses that return value to control the loop
p15289
as(dp15290
g16
V14860
p15291
stp15292
a((dp15293
g2
(lp15294
VThere are a number of ways to solve it
p15295
aV1/ Change the data so that 10 is actually in the table (rather than NULL):
p15296
aV2/ Modify your query to return different values for NULL:
p15297
aV3/ Create a view to do option 2 above automagically
p15298
aVI'd tend to go for option 1 since it's likely to be the most efficient
p15299
aVSQL does not specify how NULLs are sorted (although I think it specifies they must be adjacent) - that means they could be at the beginning or end (or possibly in the middle though I've never seen that happen)
p15300
aVThe reason I bring up the efficiency aspect is that per-row functions do not scale well
p15301
aVAs the table gets bigger, you'll find that converting NULLs into 10 every time you select will be very expensive
p15302
aVIt's far better to bite the bullet and just set them to 10 in the database
p15303
aVThis will allow the DBMS to optimize queries better
p15304
aVAnd, if you ever need to use 10 for another real priority level, just change all the current 10s to 11s (or 9999s) before you start
p15305
as(dp15306
g16
V14860
p15307
stp15308
a((dp15309
g2
(lp15310
VPossibly not an option but sometimes a schema redesign will solve a lot of problems
p15311
aVAny solution that executes per-row functions should be examined very carefully for performance problems (actually any query should be continuously monitored for performance problems but especially per-row function ones)
p15312
aVConsider combining tables 1 and 2 together thus:
p15313
aVThen your query becomes a relatively simple (and almost certainly blindingly fast):
p15314
aVThe performance issue usually only rears its head for large tables, mainframe sizes where 5 million rows is considered a configuration table :-) It may not be necessary for the sort of tables you're dealing with but it's a useful tool to have in the armory
p15315
as(dp15316
g16
V14860
p15317
stp15318
a((dp15319
g2
(lp15320
VYou don't want to rely on external tools but you don't mind relying on the specific environment
p15321
aVI think you could safely assume that, if it's NTFS you're running on, the junction utility will probably be there
p15322
aVBut, if you mean you'd rather not call out to an external program, I've found the ctypes stuff to be invaluable
p15323
aVIt allows you to call Windows DLLs directly from Python
p15324
aVAnd I'm pretty sure it's in the standard Python releases nowadays
p15325
aVYou'd just have to figure out which Windows DLL the  (or whatever Windows calls it) API call is in and set up the parameters and call
p15326
aVBest of luck with that, Microsoft don't seem to support it very well
p15327
aVYou could disassemble the SysInternals  program or  or one of the other tools to find out how they do it
p15328
aVMe, I'm pretty lazy, I'd just call  as an external process :-)
p15329
as(dp15330
g16
V14860
p15331
stp15332
a((dp15333
g2
(lp15334
VYour question's a little confusing but I'll try it out
p15335
aVTypically, you have a group of C++ source files, for example,  and
p15336
aVThe compile phase will take these and create, for example,  and
p15337
aVThe link phase will take these and create a single executable, for example,
p15338
aV1/ The reason you would have a  in the batch file is to delete all object files so that the make can recreate them
p15339
aVMake (if you're using intelligent rules in the makefile) will only rebuild things that are needed (an example being that the  file will not be compiled to an  file if the current  file has a later date than it)
p15340
aVDeleting the object file will force a new one to be created
p15341
aV2/ There doesn't have to be an object file, these are typically created from the  or  source files
p15342
aVIn addition, you can combine compile and link phases so that no object files are created (or are destroyed pretty quickly once they're finished with)
p15343
aV3/ The object file doesn't have to be a  file, but it's usually built from a  file with the same base name
p15344
aVUpdate based on comment:
p15345
aVIf you want to only specify your application name once, your comments have it like this (I think, the format's not that great as you pointed out):
p15346
aVI think what you need is:
p15347
aVWhat you have with your  substitutions is something that will work inside a makefile, but not inside a cmd file
p15348
aVThere you need to use the %APP% variant to get what you want
p15349
as(dp15350
g16
V14860
p15351
stp15352
a((dp15353
g2
(lp15354
VSeiously, you're going to keep having troubles if you continue to use Borland's compiler
p15355
aVIt's free from their computer museum for a reason - it's ancient
p15356
aVThe copyright line itself should be proof enough of that:
p15357
aVBorland C++ 5
p15358
ag630
aV1 for Win32 Copyright (c) 1993, 2000 Borland
p15359
aVDo you really want a compiler that hasn't been updated in the last twelve years, one that the standard has long since left behind
p15360
aVIt's the compiler you get if you're interested in vintage computing stuff, in the same league as people with TRS-80 and Apple II emulators :-)
p15361
aVDownload Microsoft Visual C++ Express and install it
p15362
aVIt's as free (as in cost) as the Borland one and substantially more up to date
p15363
aVSee here for the product page
p15364
aVOr there are many other more up-to-date development  tools you can get for free as well, such as ,  and so forth
p15365
as(dp15366
g16
V14860
p15367
stp15368
a((dp15369
g2
(lp15370
VI always prefer the REs that can be used on any engine (so no fancy  things):
p15371
aVor, in a crunch,
p15372
aVif the RE engine doesn't even have
p15373
aVYes, I know the C# engine can do both  and  but that's not always the case
p15374
as(dp15375
g16
V14860
p15376
stp15377
a((dp15378
g2
(lp15379
VI think you'll find  is a special character in regexes as well (at least within the  bits)
p15380
aVIt specifies a range of characters, as in  meaning and of
p15381
aVThe reason your second one works but your first doesn't is because:
p15382
aVcomes after  (error in range)
p15383
aVcomes before  (no error in range)
p15384
aVTo clarify, your second regex  actually means:
p15385
aV; or
p15386
aV(quite a large range, including digits and uppercase letters) ; or
p15387
aV; or
p15388
aVAlthough it compiles, it's not what you want (because of that second bullet point)
p15389
aVI'd try this instead:
p15390
as(dp15391
g16
V14860
p15392
stp15393
a((dp15394
g2
(lp15395
VThe JDBC type-4 drivers for DB2 Connect are classics
p15396
aVEverything called one or two-letter names, irrelevant code that ends up having no effect, and more
p15397
aVI once tried to take a look to debug a particularly annoying problem and basically gave up
p15398
aVI'm hoping (but by no means confident) that this was passed through an obfuscator rather than the code actually looking like that
p15399
aVAnother favorite trick (although I can't remember the product) was to rename all objects to be constructed from the set , which made reading it very difficult
p15400
as(dp15401
g16
V14860
p15402
stp15403
a((dp15404
g2
(lp15405
V takes a format string as the first argument so, assuming  is the name of your character, you need:
p15406
aVWhat you have is the character name as the format string so, if it's  then  is what you'll get
p15407
aVIf it was , that would work but would probably stuff up somewhere else that you display just the character name :-)
p15408
aVNote that you should use  for a C string, I think  is the correct format specifier if character
p15409
aVname is an NSString itself
p15410
as(dp15411
g16
V14860
p15412
stp15413
a((dp15414
g2
(lp15415
VI don't think grep is the right tool for the job myself
p15416
aVYou need something a little more expressive like Perl or awk:
p15417
aVwhich generates:
p15418
aVObviously, that's just pumping some test data through a command line awk script
p15419
aVYou'd be better off putting that into an actual awk script file and running your input through it
p15420
aVIf datchg
p15421
aVawk contains:
p15422
aVthen:
p15423
aValso produces:
p15424
aVThe way this works is as follows
p15425
aVEach line is split into fields ( sets the field separator to a comma) and we extract and process the relevant parts of field 1 (the date)
p15426
aVBy this I mean the year and day are reversed and the textual month is turned into a numeric month by searching a string for it and manipulating the index where it was found, so that it falls in the range 1 through 12
p15427
aVThis is the only (relatively) tricky bit and is done with some basic mathematics: the index function simply finds the position within the string of your month (where the first char is 1)
p15428
aVSo JAN is at position 2, FEB at 6, MAR at 10,
p15429
aV, DEC at 46 (the set {2, 6, 10,
p15430
aV, 46})
p15431
aVThey're 4 apart so we're going to need to divide by 4 eventually to get consecutive month numbers but first we add 2 so the division will work well
p15432
aVAdding that 2 gives you the set {4, 8, 12,
p15433
aV, 48}
p15434
aVThen you divide by 4 to get {1, 2, 3,
p15435
aV12} and there's your month number:
p15436
aVThen we just output the new information
p15437
aVObviously, this is likely to barf if you provide bad data but I'm assuming either:
p15438
aVthe data is good; or
p15439
aVyou'll add your own error checks
p15440
aVRegarding modifying the files directly, the time-honored UNIX tradition is to use a shell script to save the current file elsewhere, process it to create a new file, then overwrite the old file with the new file (but not touching the saved file, in case something goes horribly wrong)
p15441
aVI won't make my answer any longer by detailing that, you've probably fallen asleep already :-)
p15442
as(dp15443
g16
V14860
p15444
stp15445
a((dp15446
g2
(lp15447
VI'd be checking:
p15448
aVthe  variable from within the cron job (); and
p15449
aVthe actual script itself ();
p15450
aVto see if there's weird characters being generated anywhere
p15451
aVAlso, I can't figure out your second command
p15452
aVIs there an  file there somewhere or was your command truncated somehow
p15453
as(dp15454
g16
V14860
p15455
stp15456
a((dp15457
g2
(lp15458
VA  answer is a good one but it suffers from the usually irrelevant shortcoming that it creates a separate sub-process for every single file
p15459
aVHowever it's perfectly functional and will only perform badly when the number of files gets really large
p15460
aVUsing  will batch up the file names into large groups before running a sub-process for that group of files
p15461
aVYou just have to be careful that, in using , you properly handle filenames with embedded spaces, newlines or other special characters in them
p15462
aVA solution that solves both these problems is (assuming you have a decent enough  and  implementation):
p15463
aVThe  causes  to terminate the file names on its output stream with a NUL character (rather than a space) and the  to  lets it know that it should expect that as the input format
p15464
as(dp15465
g16
V14860
p15466
stp15467
a((dp15468
g2
(lp15469
VIf you're talking about all digits, this will do it:
p15470
aVIt's just 9 different patterns OR'ed together, each of which checks for at least two occurrences of the desired 2-digit pattern
p15471
aVUsing Perls more advanced REs, you can use the following for two consecutive digits twice:
p15472
aVor, as one of your comments states, two consecutive digits follwed somewhere by two more consecutive digits which may not be the same:
p15473
as(dp15474
g16
V14860
p15475
stp15476
a((dp15477
g2
(lp15478
VWe keep a baseline of VMs in a library of sorts
p15479
aVThey're are about 20-odd (with mixtures of different versions of Java, DB2, WAS and so on) that the development and test teams can copy out for their own use
p15480
aVThe librarian (developer, doing this part-time) is responsible for keeping them up to date
p15481
aVWhat they'll do is copy one of the VMs every week or so, boot it and install all updates, then copy the updated VM back over the original
p15482
aVThis means it's available for checking out except when the copy operation is being done
p15483
aVAdditionally, the number of VMs that need to be updated is minimized by virtue of the fact that they're shared
p15484
aVThat's how we do our snapshots, by copying the directories partially because it's easier to manage but mostly because we're too tight to buy the workstation version :-) We use the player instead
p15485
aVIt's mostly automated since all the VMs grab their updates from our SUS server and we know when they have updates ready to go
p15486
aVThe librarian is notified by a script which VMs need to be updated and just has to run another script which copies the VM and starts the copy
p15487
aVOnce the librarian is satisfied the copy is up to date, they shut it down and yet another script copies that VM back into the library and updates its status
p15488
as(dp15489
g16
V14860
p15490
stp15491
a((dp15492
g2
(lp15493
VOne is a heap of rubbish, and the other one is from Microsoft
p15494
aVNo, seriously, someone set me straight if I'm wrong
p15495
aVCan Oracle tell the difference between an empty string and a NULL yet
p15496
aVI'd really like to know
p15497
aVAh, my beloved DB2 ;-)
p15498
as(dp15499
g16
V14860
p15500
stp15501
a((dp15502
g2
(lp15503
VThe C standard does not dictate what machine language gets created based on the C code
p15504
aVYou can sometimes make assumptions if you understand the underlying architecture but even that is unwise
p15505
aVThe days are long past where CPUs are simple beasts now that they have pipelining, multiple levels of caches and all sorts of other wondrous things to push their speed to the limit
p15506
aVYou should not be worrying about this level of optimization until you have a specific problem (some would say "at all")
p15507
aVWrite your code to be readable
p15508
aVThat should be rule number 1, 2 and 3
p15509
aVWhich do you think is the greatest problem in software development, code running at 99
p15510
aV5% of it's maximum speed or developers spending days trying to figure out and/or fix what a colleague (or even themselves) did six months ago
p15511
aVMy advice is to worry about performance only when you find it's a problem, then benchmark on the target platforms to see where the greatest improvement can be gained
p15512
aVA 1% improvement in a  statement is likely to be dwarfed by choosing a better algorithm elsewhere in your code (other things, such as number of times the code is called, being equal of course)
p15513
aVOptimization should always be targeted to get the best bang-per-buck
p15514
as(dp15515
g16
V14860
p15516
stp15517
a((dp15518
g2
(lp15519
VThe means for getting software installed is distribution-specific
p15520
aVFor example, in Ubuntu9, I would kick up Synaptic and do a search for Fortran or g77 (apt-get can also be used)
p15521
aVThe other distributions I know little about although I've heard of yum and yast for (I think but I'm not sure) RedHat and Suse
p15522
aVIf it's not available through your standard package installer, you'll have to find another solution, such as:
p15523
aVusing a different Fortran; or
p15524
aVbuilding it from the source
p15525
aVThat second method sounds ominous but it's really not (other than ensuring you have the right dependencies)
p15526
aVThe configure/make/install process that most source packages follow makes it remarkably easy to do in a cross-distribution manner
p15527
aVSome RPMs can be found here
p15528
aVThe GNU software is available here or you may want to check out their mirrors for a faster site
p15529
as(dp15530
g16
V14860
p15531
stp15532
a((dp15533
g2
(lp15534
VMy first attempt would be a simple tool using  (even though it may throw up false positives)
p15535
aVI doubt you need a full-blown parser-type tool for this
p15536
as(dp15537
g16
V14860
p15538
stp15539
a((dp15540
g2
(lp15541
VOthers have answered your specific question but I'd like to offer one piece of advice
p15542
aVNever use  or
p15543
aVEver
p15544
aVSeriously
p15545
aVFailure during a  operation invariably leaves your file pointer at an indeterminate location
p15546
aVSince most input from users is generally based on lines (except in GUIs), the option of using  and  is always better, in my opinion
p15547
aVIt has the advantage of leaving the input pointer at a known point (the start of the next line) and allowing you to manipulate the line that you just read in in many different ways, not just that dictated by the  family
p15548
aVIn other words, if the  fails, you still have the line available for other purposes (rescan with a different format string or even simply output it with an error) without having to go through  gymnastics to get back to the start of the line in the file (hard with a file, impossible with stdin from a terminal)
p15549
as(dp15550
g16
V14860
p15551
stp15552
a((dp15553
g2
(lp15554
V can do regexes under Windows just fine
p15555
aVI'd try:
p15556
aVThe  gives you the filenames only, one per line
p15557
aVThe regex matches one or more digits followed by a period followed by your desired extension
p15558
aVFor any extension, you could do:
p15559
aVObviously, if there are other cases more complicated, you can adjust the regex to suit
p15560
aVIt doesn't have the full power of UNIX regexes but it's reasonably good
p15561
aVThe following command file shows how you can process each pdf file in the current directory that meets your "all-numeric" requirement
p15562
aVThe site http://www
p15563
aVrobvanderwoude
p15564
aVcom/batchfiles
p15565
aVphp is a very good resource for CMD file magic (and many more things)
p15566
as(dp15567
g16
V14860
p15568
stp15569
a((dp15570
g2
(lp15571
VWe've done it as follows
p15572
aVIn our SQL query for the data set, we select both (for example)  and  (for  and  respectively), something like:
p15573
aVThen, when you create your table in the report, column 1 should be the grouping column based on isoyyyymm and blank out for that column in the table:
p15574
aVthe heading,
p15575
aVthe group data line; and
p15576
aVthe detail data line
p15577
aVSo you end up with, in the designer:
p15578
aVThe report table will still group on the month but the displayed detail lines will all contain the full date:
p15579
aVYou can group on intervals if you want to do it that way but we've opted for the simplest approach for those situations where we can use simple strings
p15580
aVObviously, if your interval is a week (or something else not amenable to simple string analysis), you'll need to use the interval grouping built into BIRT
p15581
aVThe best tutorial for this (in my opinion), is on page 187 (in chapter 12) of BIRT, A Field Guide to Reporting
p15582
aVThat, and Integrating and Extending BIRT are must-haves for any serious BIRT user
p15583
aVThis first is absolutely vital to any report designer
p15584
aVThe second covers much more advanced topics such as embedded Java and Javascript, the report object model and the underlying architecture of BIRT
p15585
aVThis is required if you want your reports to be truly spectacular
p15586
as(dp15587
g16
V14860
p15588
stp15589
a((dp15590
g2
(lp15591
VI gather you're looking for an usable aspect ratio  solution like  rather than a  solution like
p15592
aVIf so, what you need to do is find the greatest common divisor (GCD) and divide both values by that
p15593
aVThe GCD is the highest number that evenly divides both numbers
p15594
aVSo the GCD for 6 and 10 is 2, the GCD for 44 and 99 is 11
p15595
aVFor example, a 1024x768 monitor has a GCD of 256
p15596
aVWhen you divide both values by that you get 4x3 or 4:3
p15597
aVA (recursive) GCD algorithm:
p15598
aVIn C:
p15599
aVAnd here's some complete HTML/Javascript which shows one way to detect the screen size and calculate the aspect ratio from that
p15600
aVThis works in FF3, I'm unsure what support other browsers have for  and
p15601
aVIt outputs (on my weird wide-screen monitor):
p15602
aVOthers that I tested this on:
p15603
aVI wish I had that last one at home but, no, it's a work machine unfortunately
p15604
aVWhat you do if you find out the aspect ratio is not supported by your graphic resize tool is another matter
p15605
aVI suspect the best bet there would be to add letter-boxing lines (like the ones you get at the top and bottom of your old TV when you're watching a wide-screen movie on it)
p15606
aVI'd add them at the top/bottom or the sides (whichever one results in the least number of letter-boxing lines) until the image meets the requirements
p15607
aVOne thing you may want to consider is the quality of a picture that's been changed from 16:9 to 5:4 - I still remember the incredibly tall, thin cowboys I used to watch in my youth on television before letter-boxing was introduced
p15608
aVYou may be better off having one different image per aspect ratio and just resize the correct one for the actual screen dimensions before sending it down the wire
p15609
as(dp15610
g16
V14860
p15611
stp15612
a((dp15613
g2
(lp15614
VNot using the System
p15615
aVIO
p15616
aVDirectory namespace, there isn't
p15617
aVYou'll have to find a way of querying the directory that doesn't involve creating a massive list of files
p15618
aVThis seems like a bit of an oversight from Microsoft, the Win32 APIs have always had functions that could count files in a directory
p15619
aVYou may also want to consider splitting up your directory
p15620
aVHow you manage a 200,000-file directory is beyond me :-)
p15621
aVUpdate:
p15622
aVJohn Saunders raises a good point in the comments
p15623
aVWe already know that (general purpose) file systems are not well equipped to handle this level of storage
p15624
aVOne thing that is equipped to handle huge numbers of small "files" is a database
p15625
aVIf you can identify a key for each (containing, for example, date, hour and customer number), these files should be injected into a database
p15626
aVThe 4K record size and 108 million rows (200,000 rows/day * 30 days/month * 18 months) should be easily handled by most professional databases
p15627
aVI know that DB2/z would chew on that for breakfast
p15628
aVThen, when you need some test data extracted to files, you have a script/program which just extracts the relevant records onto the file system
p15629
aVThen run your tests to successful completion and delete the files
p15630
aVThat should make your specific problem quite easy to do:
p15631
aVassuming you have an index on directory_name, of course
p15632
as(dp15633
g16
V14860
p15634
stp15635
a((dp15636
g2
(lp15637
VThere are a number of ways to do this, depending on what you really want
p15638
aVWith no common columns, you need to decide whether you want to introduce a common column or get the product
p15639
aVLet's say you have the two tables:
p15640
aVForget the actual columns since you'd most likely have a customer/order/part relationship in this case; I've just used those columns to illustrate the ways to do it
p15641
aVA cartesian product will match every row in the first table with every row in the second:
p15642
aVThat's probably not what you want since 1000 parts and 100 customers would result in 100,000 rows with lots of duplicated information
p15643
aVAlternatively, you can use a union to just output the data, though not side-by-side (you'll need to make sure column types are compatible between the two selects, either by making the table columns compatible or coercing them in the select):
p15644
aVIn some databases, you can use a rowid/rownum column or pseudo-column to match records side-by-side, such as:
p15645
aVThe code would be something like:
p15646
aVIt's still like a cartesian product but the  clause limits how the rows are combined to form the results (so not a cartesian product at all, really)
p15647
aVI haven't tested that SQL for this since it's one of the limitations of my DBMS of choice, and rightly so, I don't believe it's ever needed in a properly thought-out schema
p15648
aVSince SQL doesn't guarantee the order in which it produces data, the matching can change every time you do the query unless you have a specific relationship or  clause
p15649
aVI think the ideal thing to do would be to add a column to both tables specifying what the relationship is
p15650
aVIf there's no real relationship, then you probably have no business in trying to put them side-by-side with SQL
p15651
aVIf you just want them displayed side-by-side in a report or on a web page (two examples), the right tool to do that is whatever generates your report or web page, coupled with two independent SQL queries to get the two unrelated tables
p15652
aVFor example, a two-column grid in BIRT (or Crystal or Jasper) each with a separate data table, or a HTML two column table (or CSS) each with a separate data table
p15653
as(dp15654
g16
V14860
p15655
stp15656
a((dp15657
g2
(lp15658
VI was under the impression that MSMQ was built to be compatible with IBM's MQ product
p15659
aVIf that is the case, you can call MQGET with a timeout and not worry about polling at all
p15660
aVJust get a message off the queue with a two-second timeout (for example)
p15661
aVIf there was one there, process it
p15662
aVThen either exit the service if desired or go back to the MQGET with wait
p15663
aVThis means your service will not suck up CPU time unnecessarily, but it will still be able to exit in a timely fashion if signaled
p15664
aVGenerally, you would have something like:
p15665
as(dp15666
g16
V14860
p15667
stp15668
a((dp15669
g2
(lp15670
VUsing classic SQL:
p15671
aVI've put the first  in square brackets since I'm unsure as to whether you wanted duplicates removed (remove either the brackets or the entire word)
p15672
aVThe second  should be left in just in case your DBMS doesn't optimize  clauses
p15673
aVIt may be faster (measure, don't guess) with an left join along the lines of:
p15674
aVSame deal with the
p15675
as(dp15676
g16
V14860
p15677
stp15678
a((dp15679
g2
(lp15680
VCode smell has got to be the single most vague term I have ever encountered in the programming world
p15681
aVFor a group of people that pride themselves on engineering principles, it ranks right up there in terms of unmeasurable rubbish and about as useless a measure as LOCs per day for programmer efficiency
p15682
aVAnyway, that's my rant, thanks for listening :-)
p15683
aVTo answer your specific question, I don't believe this is a problem
p15684
aVIf you test something that has pre-conditions, you need to ensure the pre-conditions have been set up first
p15685
aVOne of the tests should be what happens when you call it without first setting up the pre-conditions - it should either fail gracefully or set up it's own pre-condition if the caller hasn't bothered to do so
p15686
as(dp15687
g16
V14860
p15688
stp15689
a((dp15690
g2
(lp15691
VI don't believe the normal AND/EOR set the carry and overflow flags at all
p15692
aVThe ANDS and EORS variants (AND/EOR with set) can set carry but only if the right hand side is a shifted operand
p15693
aVNeither of these affect the overflow flag at all
p15694
aVFor example,
p15695
aVwill set carry depending on b0 of R2
p15696
aVIf the bit was 1 (i
p15697
ag75
aV, R2 was odd), carry will be set
p15698
aVSee here for the gory details (chapter 3, the instruction set)
p15699
as(dp15700
g16
V14860
p15701
stp15702
a((dp15703
g2
(lp15704
VBecause  is a pointer
p15705
aVIt points to the actual characters in memory and it's likely to be a weird value like
p15706
aVThe following diagram may illustrate:
p15707
aVWhen you de-reference  (with ), it actually gets the character at the memory location where  points to, which is the  that you want
p15708
aVThe basic difference is:
p15709
aVis a pointer to a constant char array
p15710
aVis the single character
p15711
aVWhat you were probably looking for was something along the lines of:
p15712
aVThis passes the character  rather than a pointer to the string containing that character
p15713
aVAlso note the judicious use of s - these usually make the code a lot more readable and less prone to errors (since, for example, CMD_POS is only defined at one point rather than scattered throughout the code as the magic number 4)
p15714
aVYou should look carefully at the use of all magic numbers other than zero or one
p15715
aVAs to the reason why you got the error stating that your string variable needs to be defined constant, this is because you cannot change the contents of a  array (which is what "\u005cx72" is, a two-element character array) - the compiler is free to place it into read-only memory and/or share it such as the two strings:
p15716
aVbeing allowed to overlap as follows:
p15717
aVBy attempting to treat a constant string as non-constant, you break your contract with the compiler
p15718
as(dp15719
g16
V14860
p15720
stp15721
a((dp15722
g2
(lp15723
VThe following (torturous) approach seems to work okay:
p15724
aVIt outputs:
p15725
aVas desired
p15726
aVI've often used that trick to (for example) format  into  to a certain size (a la ) but this is the first time I've had to do double indirection
p15727
aVIt works because you don't find the extra  being sucked up by the current shell level
p15728
as(dp15729
g16
V14860
p15730
stp15731
a((dp15732
g2
(lp15733
VTo set up a static background image as you would:
p15734
aVSelect the master page in your report workspace
p15735
aVSelect the "Properties" tab
p15736
aVExpand the Simple Master Page" section
p15737
aVSet the background image
p15738
aVHowever, to make it dynamic based on something (such as a parameter), you can use Javascript to manipulate the report items directly
p15739
aVThis is covered in chapter 13 of "Integrating and Extending BIRT" which, along with "BIRT, A Field Guide to Reporting", every BIRT report designer should have
p15740
aVThe easiest way is to name your master page specifically in the report designer and use  to get its handle
p15741
aVThen use a setter to dynamically change the background image
p15742
aVThe  script is the one where you want to put all this code which sets the background image
p15743
as(dp15744
g16
V14860
p15745
stp15746
a((dp15747
g2
(lp15748
VI'm going to go out on a limb here and assume you're talking about positioning with Swing (or SWT for that matter)
p15749
aVTo position elements intelligently, you need your container (window, panel, whatever) to have a layout manager
p15750
aVThe layout manager is responsible for position the child controls within a container
p15751
aVFor example, the Java tutorials here show how to use the many standard layout managers that ship with Java
p15752
aVThere are also some that don't ship with Java
p15753
aVOf particular interest is SWT which has a more platform-native look and feel
p15754
aVUpdate:
p15755
aVI see by your added stuff I was totally off-base, since you're just looking for a way to write text to a graphics handle in
p15756
aVYou already have part of the answer: you've used  where the  and  specify the location to draw at
p15757
aVWhat you need to do is change  and  to draw in the top-right corner
p15758
aVActually, it's only  that needs to change
p15759
aVThis is where it gets tricky
p15760
aVYou have to calculate  depending on the size of your workspace and the size of your text string
p15761
aVI don't know the specifics for Java since I've never done graphic output but it's likely that:
p15762
aVthere's a method you can call on  to return the available paint rectangle; this will get you the maximum  value
p15763
aVyou'll need to pass the string into another method to get the width required for it (based on font information)
p15764
aVOnce you have both of those, simply subtract the second from the first and you should have a starting  value to enable the string to finish in the top right corner
p15765
as(dp15766
g16
V14860
p15767
stp15768
a((dp15769
g2
(lp15770
VOne way, not necessarily the fastest (but at least the quickest developed):
p15771
aVIt's equivalent since your maxdepth is 2
p15772
aVThe script is just echoing the  command at the moment (for test purposes) and working on C files (since I had no  files to test with)
p15773
aVOr, you can use find with all its power thus:
p15774
as(dp15775
g16
V14860
p15776
stp15777
a((dp15778
g2
(lp15779
VThe right place to ask it would probably be the Oracle support forums but I'm not going to vote to close since you were so nice about it in the last paragraph
p15780
aVSee here
p15781
aVThis one is probably the most helpful
p15782
aVBasically, there'll be no support until at least Win7 goes GA
p15783
aVHow long after that before Oracle pulls their stuff together and supports it is anybody's guess
p15784
aVOne possibility to consider: I heard talk Microsoft was going to put a virtual machine manager into Win7 to try and convince all the XP bods to upgrade
p15785
aVThat appears to still be the case as documented here and here on Microsoft's own site
p15786
aVIf so, you could run Oracle 10g under the VM
p15787
as(dp15788
g16
V14860
p15789
stp15790
a((dp15791
g2
(lp15792
VWe've done this before in a number of different ways
p15793
aVMethod one:
p15794
aVIf you can control the process sending the files, have it send the file itself followed by a sentinel file
p15795
aVFor example, send the real file  followed by a one-byte
p15796
aVThen have your listener process watch out for the sentinel files
p15797
aVWhen one of them is created, you should process the equivalent data file, then delete both
p15798
aVAny data file that's more than a day old and doesn't have a corresponding sentinel file, get rid of it - it was a failed transmission
p15799
aVMethod two:
p15800
aVKeep an eye on the files themselves (specifically the last modification date/time)
p15801
aVOnly process files whose modification time is more than  minutes in the past
p15802
aVThat increases the latency of processing the files but you can usually be certain that, if a file hasn't been written to in five minutes (for example), it's done
p15803
aVConclusion:
p15804
aVBoth those methods have been used by us successfully in the past
p15805
aVI prefer the first but we had to use the second one once when we were not allowed to change the process sending the files
p15806
aVThe advantage of the first one is that you know the file is ready when the sentinel file appears
p15807
aVWith both  (I'm assuming you're treating files that aren't open by any process as ready for processing) and the timestamps, it's possible that the FTP crashed in the middle and you may be processing half a file
p15808
as(dp15809
g16
V14860
p15810
stp15811
a((dp15812
g2
(lp15813
VIt's funny, but almost every problem people have with databases is speed, not storage requirements
p15814
aVThat should tell you something :-)
p15815
aVWe've had problems like this before and I've said this many times: per-row functions generally do not scale well
p15816
aVThe best method we've found to fix them is with insert/update triggers (I'm assuming MySQL has these)
p15817
aVCreate another column call pretty_city_state (or whatever) and have the triggers populate it from city and state whenever you insert or update a row
p15818
aVThen create an index on it
p15819
aVThis takes advantage of the fact that database rows are generally read far more often than they're written (especially in this case)
p15820
aVBy evaluating that column on write, you bear the cost across the writes (thousands) rather than the reads (millions probably)
p15821
aVAnd it's the writing when it should be borne simply because pretty_city_state will only change when either city or state changes
p15822
aVIf you do the concat on every select, you're wasting effort
p15823
aVTry that and measure the difference - I'm sure you'll find that your selects will scream along at a minimal cost for the triggers (and that cost disappears totally once you have all cities and states within your database
p15824
aVAnd yes, I know this breaks 3NF
p15825
aVIt's perfectly acceptable to do so for performance reasons if you know what you're doing
p15826
aVYour query could be done as:
p15827
aVor, maybe even faster (measure, don't guess) if you can concatenate the city and state before starting the query:
p15828
as(dp15829
g16
V14860
p15830
stp15831
a((dp15832
g2
(lp15833
VIt's all a matter of adequate storage and algorithms to treat numbers as smaller parts
p15834
aVLet's assume you have a compiler in which an  can only be 0 through 99 and you want to handle numbers up to 999999 (we'll only worry about positive numbers here to keep it simple)
p15835
aVYou do that by giving each number three s and using the same rules you (should have) learned back in primary school for addition, subtraction and the other basic operations
p15836
aVIn an arbitrary precision library, there's no fixed limit on the number of base types used to represent our numbers, just whatever memory can hold
p15837
aVAddition for example: :
p15838
aVWorking from the least significant end:
p15839
aVinitial carry = 0
p15840
aV56 + 78 + 0 carry = 134 = 34 with 1 carry
p15841
aV34 + 00 + 1 carry =  35 = 35 with 0 carry
p15842
aV12 + 00 + 0 carry =  12 = 12 with 0 carry
p15843
aVThis is, in fact, how addition generally works at the bit level inside your CPU
p15844
aVSubtraction is similar (using subtraction of the base type and borrow instead of carry), multiplication can be done with repeated additions (very slow) or cross-products (faster) and division is trickier but can be done by shifting and subtraction of the numbers involved (the long division you would have learned as a kid)
p15845
aVI've actually written libraries to do this sort of stuff using the maximum powers of ten that can be fit into an integer when squared (to prevent overflow when multiplying two s together, such as a 16-bit  being limited to 0 through 99 to generate 9,801 (<32,768) when squared, or 32-bit  using 0 through 9,999 to generate 99,980,001 (<2,147,483,648)) which greatly eased the algorithms
p15846
aVSome tricks to watch out for
p15847
aV1/ When adding or multiplying numbers, pre-allocate the maximum space needed then reduce later if you find it's too much
p15848
aVFor example, adding two 100-"digit" (where digit is an ) numbers will never give you more than 101 digits
p15849
aVMultiply a 12-digit number by a 3 digit number will never generate more than 15 digits (add the digit counts)
p15850
aV2/ For added speed, normalise (reduce the storage required for) the numbers only if absolutely necessary - my library had this as a separate call so the user can decide between speed and storage concerns
p15851
aV3/ Addition of a positive and negative number is subtraction, and subtracting a negative number is the same as adding the equivalent positive
p15852
aVYou can save quite a bit of code by having the add and subtract methods call each other after adjusting signs
p15853
aV4/ Avoid subtracting big numbers from small ones since you invariably end up with numbers like:
p15854
aVInstead, subtract 10 from 11, then negate it:
p15855
aVHere are the comments (turned into text) from one of the libraries I had to do this for
p15856
aVThe code itself is, unfortunately, copyrighted, but you may be able to pick out enough information to handle the four basic operations
p15857
aVAssume in the following that  and  represent negative numbers and  and  are zero or positive numbers
p15858
aVFor addition, if signs are different, use subtraction of the negation:
p15859
aVFor subtraction, if signs are different, use addition of the negation:
p15860
aVAlso special handling to ensure we're subtracting small numbers from large:
p15861
aVMultiplication uses entry-level math as follows:
p15862
aVThe way in which this is achieved involves extracting each of the digits of 32 one at a time (backwards) then using add to calculate a value to be added to the result (initially zero)
p15863
aVand  operations are used to quickly multiply or divide a  by the wrap value (10 for "real" math)
p15864
aVIn the example above, we add 475 to zero 2 times (the last digit of 32) to get 950 (result = 0 + 950 = 950)
p15865
aVThen we left shift 475 to get 4750 and right shift 32 to get 3
p15866
aVAdd 4750 to zero 3 times to get 14250 then add to result of 950 to get 15200
p15867
aVLeft shift 4750 to get 47500, right shift 3 to get 0
p15868
aVSince the right shifted 32 is now zero, we're finished and, in fact 475 x 32 does equal 15200
p15869
aVDivision is also tricky but based on early arithmetic (the "gazinta" method for "goes into")
p15870
aVConsider the following long division for :
p15871
aVTherefore  is  with remainder
p15872
aVVerify:
p15873
aVThis is implemented by using a draw-down variable (initially zero) to bring down the segments of 12345 one at a time until it's greater or equal to 27
p15874
aVThen we simply subtract 27 from that until we get below 27 - the number of subtractions is the segment added to the top line
p15875
aVWhen there are no more segments to bring down, we have our result
p15876
aVKeep in mind these are pretty basic algorithms
p15877
aVThere are far better ways to do complex arithmetic if your numbers are going to be particularly large
p15878
aVYou can look into something like GNU Multiple Precision Arithmetic Library - it's substantially better and faster than my own libraries
p15879
aVIt does have the rather unfortunate misfeature in that it will simply exit if it runs out of memory (a rather fatal flaw for a general purpose library in my opinion) but, if you can look past that, it's pretty good at what it does
p15880
aVIf you cannot use it for licensing reasons (or because you don't want your application just exiting for no apparent reason), you could at least get the algorithms from there for integrating into your own code
p15881
aVI've also found that the bods over at MPIR (a fork of GMP)  are more amenable to discussions on potential changes - they seem a more developer-friendly bunch
p15882
as(dp15883
g16
V14860
p15884
stp15885
a((dp15886
g2
(lp15887
VIt does indeed look like the bods at SuperWaba have decided to monetize their investment and you now have to buy TotalCross
p15888
aVEven SuperWaba commercial support is gone as of the end of 2009
p15889
aVIf you're not up to shelling out your hard-earned cash for their product, my suggestion would be to look into the Waba SourceForge project here
p15890
aVIt's been a while since it changed, but may be the only way to get something for free
p15891
aVAlternatively, you could actually buy TotalCross
p15892
aVIt seems to me that either it's valuable to you (in which case you wouldn't mind paying for it) or not valuable (in which case, why bother with it)
p15893
aVThere's a TotalCross demo freely downloadable from that site you linked to, so there's no need to shell out cash until you're happy with it
p15894
aVI'm sorry if that doesn't fully answer your question (I'm not trying to cause offence) but, if you're a professional developer, I'm sure you don't want to deprive other professional developers of their income
p15895
aVIf you think that the TotalCross bods have somehow broken the GPL (I'm presuming here that SuperWaba was based on Waba and may be subject to GPL licencing itself - that may or may not be the case), another avenue may be to contact them and just ask them what they think about that
p15896
aVIt may be that they're still bound by the "make source code available" GPL provision and they may give it to you just to avoid any potential problems
p15897
as(dp15898
g16
V14860
p15899
stp15900
a((dp15901
g2
(lp15902
VWe subscribe to the "everything goes under source control" school of thought (anal retentive doesn't even begin to describe us)
p15903
aVThat means test cases (code and data) for all levels of testing that we're responsible for (unit, system, integration, translation
p15904
aV, development software CD/DVD images, OS images, VM's for the test environments, all doco, basically everything that would be needed to put together the development/test environments if all PCs and software in the team were to be stolen - except for the hardware but that's only because we haven't found a way to check it in yet :-)
p15905
aVDisk space is far cheaper than the time it would take to re-source everything we need
p15906
aVAnd when a version of the software is released to the wild, we actually check out everything needed to construct that version, burn it to multiple DVDs and test the process on virgin hardware
p15907
aVThen we make multiple copies and distribute it to the four corners of the universe
p15908
aVoops, sorry, got carried away
p15909
aVBut we do do everything I stated although the build DVDs are distributed to multiple geographically separated locations (on the planet, not across the universe)
p15910
aVAs to where it goes in the source control tree, the top level of our tree is always a version, everything to do with that version exists under there
p15911
aVThis gives massive duplication but makes things very easy to manage
p15912
aVAnd, generally, disk storage is a lot cheaper than human resources
p15913
as(dp15914
g16
V14860
p15915
stp15916
a((dp15917
g2
(lp15918
VThere's a number of things you should consider:
p15919
aVDon't use the Express edition, it's probably called that for a reason
p15920
aVGo with a real DBMS (and, yes, this includes the non-express SQL Server)
p15921
aVUse of  is always a bad idea unless you absolutely need every column
p15922
aVChange it to get only the columns you need
p15923
aVAre you using a  or " clause
p15924
aVIf so, you need to ensure you have indexes set up correctly (even for 330 rows, since tables always get bigger than you think)
p15925
aVUse , or whatever tool Microsoft provides as an equivalent
p15926
aVIt will show you why the query is running slow
p15927
aVIf your DB is on a different machine, there may be network issues (not necessarily problems, you may have stateful packet filters that slow down connections, for example)
p15928
aVExamine the system loads of the boxes you're using
p15929
aVIf there are other processes using a lot of CPU grunt or disk I/O, they may be causing slowdown
p15930
as(dp15931
g16
V14860
p15932
stp15933
a((dp15934
g2
(lp15935
VOn OSX,  by default uses basic REs
p15936
aVYou should use  if you want to use modern REs, including the  one-or-more operator
p15937
aVSee here for the indication that  uses basic REs by default, here for the modern RE syntax, and here for the basic RE () information
p15938
as(dp15939
g16
V14860
p15940
stp15941
a((dp15942
g2
(lp15943
VI would, for a start, not coalesce a per-row function like
p15944
aVYou're better off testing the actual field for NULL as in the following example:
p15945
aVwhich outputs:
p15946
aVIn your case, the code would look something like:
p15947
aVI haven't tested your specific case since my DB/2 is not set up for US date formats
p15948
aVThat's something else to look out for as well
p15949
aVThis may not work that well on platforms not using US date formats
p15950
aVIdeally, dates should be stored in the database as dates, not strings
p15951
aVIn other words, the conversion costs should be once when the data enters a table, not the millions of times you're going to extract it
p15952
aVThen your code becomes a simpler and faster:
p15953
aVor, better if you're never going to have that sentinel date as a real date, don't store s at all
p15954
aVInstead, convert them to  as they go into the tables, and use:
p15955
aVIt doesn't get much simpler or faster than that (assuming you're comfortable with a non-NULL sentinel)
p15956
as(dp15957
g16
V14860
p15958
stp15959
a((dp15960
g2
(lp15961
VPerl can't insert at the beginning of a file because few operating systems allow that
p15962
aVYou need a rewrite operation of the type you have here
p15963
aVOne possible problem you may have with that code is with truly large files that can't fit in your address space
p15964
aVBy reading the entire file in then writing it out, you may run into memory problems
p15965
aVWhat I would have done would be to:
p15966
aVrename the current file
p15967
aVre-create it with the stuff you want inserted at the start,
p15968
aVcopy the renamed file in large chunks (not necessarily lines) to the end of the new file,
p15969
aVadd the new bit at the end
p15970
aVThis will be fast and memory-efficient
p15971
aVOf course, if your files are small enough to fit in memory, stick with what you have
p15972
aVIt's good enough
p15973
aVUpdate:
p15974
aVEnough people seem to be under the misapprehension that I'm advocating a shell script that I thought I'd set it straight
p15975
aVYou can do all the things above from within native Perl
p15976
aVBut you may want to consider if it's necessary to use Perl
p15977
aVA shell command like:
p15978
aVwill do the trick just as well (and probably just as fast)
p15979
aVOf course, if you need Perl, then just ignore this update as the ramblings of an old man :-)
p15980
as(dp15981
g16
V14860
p15982
stp15983
a((dp15984
g2
(lp15985
V"is always 32-bit on most platforms" - what's wrong with that snippet
p15986
aV:-)
p15987
aVThe C standard does not mandate the sizes of its variables
p15988
aVIt does mandate relative sizes, for example,  and so on
p15989
aVIt also mandates minimum ranges but allows for multiple encoding schemes (two's complement, ones' complement, and sign/magnitude)
p15990
aVIf you want a specific sized variable, you need to use one suitable for the platform you're running on, such as the use of 's, something like:
p15991
aVAlternatively, C99 allows for exact width integer types  and :
p15992
aVThe typedef name  designates a signed integer type with width , no padding
p15993
aVbits, and a two\u2019s complement representation
p15994
aVThus,  denotes a signed integer
p15995
aVtype with a width of exactly 8 bits
p15996
aVThe typedef name  designates an unsigned integer type with width
p15997
aVThus,
p15998
aVdenotes an unsigned integer type with a width of exactly 24 bits
p15999
aVThese types are optional
p16000
aVHowever, if an implementation provides integer types with
p16001
aVwidths of 8, 16, 32, or 64 bits, no padding bits, and (for the signed types) that have a
p16002
aVtwo\u2019s complement representation, it shall define the corresponding typedef names
p16003
as(dp16004
g16
V14860
p16005
stp16006
a((dp16007
g2
(lp16008
VIt's just an extension to the shell comparison which is equivalent to the  "or" operator
p16009
aVDepending on your bash version, it may not be available or you may have to set  with the  built-in
p16010
aVSee the following session transcript:
p16011
aVpax@daemonspawn> $ bash --version
p16012
aVGNU bash, version 3
p16013
ag2836
aV48(21)-release (i686-pc-cygwin)
p16014
aVCopyright (C) 2007 Free Software Foundation, Inc
p16015
aVpax@daemonspawn> echo @(*~|*
p16016
aVpl)
p16017
aVbash: syntax error near unexpected token '('
p16018
aVpax@daemonspawn> shopt extglob
p16019
aVextglob off
p16020
aVpax@daemonspawn> shopt -s extglob
p16021
aVpax@daemonspawn> echo @(*~|*
p16022
aVpl)
p16023
aVqq
p16024
aVpl qq
p16025
aVsh~ xx
p16026
aVpl
p16027
aVpax@daemonspawn>
p16028
aVThat allows the following to work:
p16029
aV(pattern-list)
p16030
aVMatches zero or one occurrence of the given patterns
p16031
aV*(pattern-list)
p16032
aVMatches zero or more occurrences of the given patterns
p16033
aV+(pattern-list)
p16034
aVMatches one or more occurrences of the given patterns
p16035
aV@(pattern-list)
p16036
aVMatches one of the given patterns
p16037
aV(pattern-list)
p16038
aVMatches anything except one of the given patterns
p16039
aVIf you can't get it working with , you can generate a similar effect with older methods such as:
p16040
aV#
p16041
aV/bin/bash
p16042
aVfor i in $BASH_COMPLETION_DIR/*; do
p16043
aV# Ignore VIM, backup, swp, files with all #'s and install package files
p16044
aV# I think that's the right meaning for the '\u005c#*\u005c#' string
p16045
aV# I don't know for sure what it's meant to match otherwise
p16046
aVecho $i | egrep '~$|\u005c
p16047
aVbak$|\u005c
p16048
aVswp$|^#*#$|\u005c
p16049
aVdpkg|\u005c
p16050
aVrpm' >/dev/null 2>&1
p16051
aVif [[ $
p16052
aV== 0 ]] ; then
p16053
aV$i
p16054
aVfi
p16055
aVdone
p16056
aVAlternatively, if there's multiple complex determinations that will decide whether you want it sourced, you can use a  variable that's initially set to , and set it to  if any of those conditions trigger
p16057
aVFor example, the following script qq
p16058
aVsh:
p16059
ag16041
aV/bin/bash
p16060
aVfor i in * ; do
p16061
aVdoit=1
p16062
aV# Ignore VIM backups
p16063
aVecho $i | egrep '~$' >/dev/null 2>&1
p16064
aVif [[ $
p16065
aV-eq 0 ]] ; then
p16066
aVdoit=0
p16067
aVfi
p16068
aV# Ignore Perl files
p16069
aVecho $i | egrep '\u005c
p16070
aVpl$' >/dev/null 2>&1
p16071
aVif [[ $
p16072
aV-eq 0 ]] ; then
p16073
aVdoit=0
p16074
aVfi
p16075
aVif [[ ${doit} -eq 1 ]] ; then
p16076
aVecho Processing $i
p16077
aVelse
p16078
aVecho Ignoring $i
p16079
aVfi
p16080
aVdone
p16081
aVdid this in my home directory:
p16082
aVProcessing Makefile
p16083
aVProcessing binmath
p16084
ag1529
aV: : : : :
p16085
aVProcessing qq
p16086
aVin
p16087
aVIgnoring qq
p16088
aVpl    --+
p16089
aVProcessing qq
p16090
aVsh    |
p16091
aVIgnoring qq
p16092
aVsh~   --+--- see
p16093
aVProcessing qqin     |
p16094
aV: : : : :           |
p16095
aVIgnoring xx
p16096
aVpl    --+
p16097
as(dp16098
g16
V14860
p16099
stp16100
a((dp16101
g2
(lp16102
VWe too are at a complete loss
p16103
aVPerhaps you could make our lives easier by:
p16104
aV(1) posting the code (it's not that big) [forget this one, I've done it for you]
p16105
aV(2) tell us exactly what the correct behavior should be (desired output)
p16106
aV(3) tell us the behavior you're getting (sample actual output)
p16107
aVThen maybe we'll be able to do a better job
p16108
aVOne thing I've noticed straight up: there are not 2,419,200 seconds in any month other than February (and then only in non-leap years)
p16109
aVSimilarly, no year has 364 days
p16110
aVI think you need to rethink how you're calculating the intervals
p16111
aVAssuming that your "words" version of the duration can handle a little inaccuracy, at a bare minimum you should be using the averages for those figures (taking into account that a year is 365
p16112
aV2425 days which should be close enough for your purposes):
p16113
aVone year is 31,556,952 seconds
p16114
aVone month is 2,629,746 seconds (simple divide by 12)
p16115
as(dp16116
g16
V14860
p16117
stp16118
a((dp16119
g2
(lp16120
VIt slows it down because every time you reach that point, it has to check your condition
p16121
aVWhat I tend to do is to temporarily create another variable like this (in C but should be doable in Delphi)
p16122
aVthen I put a non-conditional breakpoint on the  line
p16123
aVThe program runs at full speed until it's been through the loop 600 times, because the debugger is just doing a normal breakpoint interrupt rather than checking conditions every time
p16124
aVYou can make the condition as complicated as you want
p16125
as(dp16126
g16
V14860
p16127
stp16128
a((dp16129
g2
(lp16130
VWell, the formula is wrong (there's only about a million kilobytes in a gigabyte, not a thousand million) but, other than that, it's fine
p16131
aVAnyone used to working with these numbers will know what it means
p16132
aVOne thing I would watch out for (and I don't know if this is a problem with C#) is that a compiler may not be able to optimize the  if  is not a basic type
p16133
aVWith C and integers, the compiler would quite easily turn that into a "blindingly-fast-shift-right-by-20-bits" instruction
p16134
aVIf decimal is a class rather than a basic type, the compiler may have to do two divide operations
p16135
aVWhether this has any real impact on speed (or even whether it happens at all) is outside of my sphere of knowledge
p16136
aVOne thing I'd consider changing is the actual variable names
p16137
aVIt makes no real difference to the compiled code but I prefer longer variable names rather than abbreviations, so I'd opt for  or something like that
p16138
aVis too easy to get confused with constants, depending on your coding standards
p16139
as(dp16140
g16
V14860
p16141
stp16142
a((dp16143
g2
(lp16144
VThey're calls to the zlib library functions, so you'll probably find that libhpdf has a dependency on that library
p16145
aVIn fact, if you go to http://libharu
p16146
aVsourceforge
p16147
aVnet/, you'll see that you need both zlib and pnglib
p16148
aVQuoting that page here:
p16149
aVIn addition, ZLIB and PNGLIB are required when you want to use the features of compression and embedding PNG images
p16150
aV(In the case of Windows, static library files for several compilers are included in the package for WIndows
p16151
aVIn the case of  most of UNIX, these libraries are usually installed
p16152
as(dp16153
g16
V14860
p16154
stp16155
a((dp16156
g2
(lp16157
VUnder the Control Panel, there's a applet called Scheduled Tasks
p16158
aVThis is usually how you set up, um, what was it again, yes, that's it, scheduled tasks :-)
p16159
aVIf you really want to do this from a batch file rather than a nice GUI (e
p16160
ag1775
aV, you're doing it as a part of some silent install), you use either  or
p16161
aVSee here for details, or use this as a template:
p16162
aVSee the afore-mentioned page for even more options
p16163
as(dp16164
g16
V14860
p16165
stp16166
a((dp16167
g2
(lp16168
VWell, for a start,  is always 1, so you could just
p16169
aVWhat you're allocating there is enough space for three characters
p16170
aVBut keep in mind you need one for a null terminator for C strings
p16171
aVWhat you tend to find is things like:
p16172
aVto get enough storage for a name and terminator character (keeping in mind that the string "xyzzy" is stored in memory as:
p16173
aVSometimes with non-char based arrays, you'll see:
p16174
aVwhich will allocate enough space for 22 integers
p16175
as(dp16176
g16
V14860
p16177
stp16178
a((dp16179
g2
(lp16180
VPeople (and especially beginners) should never use scanf() or gets() or any of those functions that do not have buffer overflow protection
p16181
aVJust remember than  stands for "scan formatted" and there's precious little less formatted than user-entered data
p16182
aVIt's ideal if you have total control of the input data format but generally unsuitable for user input
p16183
aVUse  to get your input into a string and  to evaluate it
p16184
aVSince you just want what the user entered, you don't really need  in this case anyway:
p16185
as(dp16186
g16
V14860
p16187
stp16188
a((dp16189
g2
(lp16190
VAre you sure you should be using
p16191
aVThe  and the  are added automagically by the linker
p16192
aVTry it with  instead
p16193
aVMy version of  works with that:
p16194
as(dp16195
g16
V14860
p16196
stp16197
a((dp16198
g2
(lp16199
VPer-row functions in SQL queries are always a bad idea for tables that may grow large
p16200
aVIf you want to search on part of a column, it should be extracted out to its own column and indexed
p16201
aVI would suggest, if you have power over the schema (as opposed to the population process), inserting new columns called OwnersFirstName and OwnersLastName along with an update/insert trigger which extracts the relevant information from OwnersName and populats the new columns appropriately
p16202
aVThis means the expense of figuring out the first name is only done when a row is changed, not every single time you run your query
p16203
aVThat is the right time to do it
p16204
aVThen your queries become blindingly fast
p16205
aVAnd, yes, this breaks 3NF, but most people don't realize that it's okay to do that for performance reasons, provided you understand the consequences
p16206
aVAnd, since the new columns are controlled by the triggers, the data duplication that would be cause for concern is "clean"
p16207
aVMost problems people have with databases is the speed of their queries
p16208
aVWasting a bit of disk space to gain a large amount of performance improvement is usually okay
p16209
aVIf you have absolutely no power over even the schema, another possibility is to create your own database with the "correct" schema and populate it periodically from the real database
p16210
aVThen query yours
p16211
aVThat may involve a fair bit of data transfer every month however so the first option is the better one, if allowed
p16212
as(dp16213
g16
V14860
p16214
stp16215
a((dp16216
g2
(lp16217
VIf you're after an algorithm for that type of sorting (where the data can't all fit into core at once), my solution comes from the very earliest days of the "revolution" when top-end machines had less memory than most modern-day calculators
p16218
aVI haven't worked out the big-O properties but I think it would be O(n) reads, O(n log n) sort phase (depends on the sort method chosen) and O(n) writes
p16219
aVLet's say your data set has one million elements and you can only fit 100,000 in memory at a time
p16220
aVHere's what I'd do:
p16221
aVread in the first 100,000, sort them and write that sorted list back out
p16222
aVdo this for each group of 100,000
p16223
aVrun a merge operation on the 10 groups
p16224
aVIn other words, once your 10 groups are sorted within the group, grab the first entry from each group
p16225
aVThen write that the lowest of those 10 (which is the lowest of the whole million) to the output file and read the next one from that group in its place
p16226
aVThen just continue selecting the lowest of the 10, writing it out and replacing it from the same group
p16227
aVIn that way, the final output is the entire sorted list of a million entries
p16228
as(dp16229
g16
V14860
p16230
stp16231
a((dp16232
g2
(lp16233
VThe right tool for that job is  rather than
p16234
aVTo do the same thing as your current :
p16235
aVwill give you:
p16236
aVIf you reverse the sense of the  statement controlling the , you will get what you want:
p16237
aVwill give you:
p16238
as(dp16239
g16
V14860
p16240
stp16241
a((dp16242
g2
(lp16243
VIf you replace the line:
p16244
aVwith these lines:
p16245
aVit should tell you exactly what the exception is (and the line number it occurred on)
p16246
aVThe next step is to use the full path name in the  constructor (e
p16247
ag1775
aV, )
p16248
aVIt may be that your IDE is running your code from a directory that's different from what you think it is
p16249
aVYou can figure out what actual directory you're in with:
p16250
as(dp16251
g16
V14860
p16252
stp16253
a((dp16254
g2
(lp16255
V will do this for you,  but the order is important
p16256
aVor, for your specific case:
p16257
aVWhatever method you choose, this is ripe for inclusion as a function to make your life easier:
p16258
as(dp16259
g16
V14860
p16260
stp16261
a((dp16262
g2
(lp16263
VRegular expressions, while elegant if done right, are not fit for all purposes
p16264
aVI would suggest that this is one of the cases it is not suited for
p16265
aVDon't get me wrong, you can do it with a single RE, but it's likely to be far more complex and hard to maintain than some simple procedural which checks the length and character classes
p16266
as(dp16267
g16
V14860
p16268
stp16269
a((dp16270
g2
(lp16271
VI'm not entirely clear why you want to do this but I can see why what you have isn't working
p16272
aVIt's because  is a , not a
p16273
aVI know with Yacc that the first  section allows you to define C stuff outside the control of Yacc (and it appears Bison has a similar feature, based on it's upward compatibility claim and the documentation here, 2
p16274
ag2193
aV1)
p16275
aVWhy would you not put:
p16276
aVin that section and then use:
p16277
aVlater on whenever you needed a pointer to that string
p16278
aVThat seems to me to be the easiest way to achieve what (I think) you want
p16279
aVIf you're worried about allocations within the Bison parser not being freed (and they should be), my advice is to not do them in there
p16280
aVYou can set up your string before calling  then free it after return
p16281
aVUpdate:
p16282
aVHere's how I'd do it to avoid allocating/freeing that fixed value within the Bison parser
p16283
aVSet it up as a global that lives for the duration of the program
p16284
aVMain code:
p16285
aVBison parser source:
p16286
aVThat returns the fixed pointer to your ABCD string with no allocation or freeing in the Bison code at all (and precious little even in the main code)
p16287
as(dp16288
g16
V14860
p16289
stp16290
a((dp16291
g2
(lp16292
VFor XP, Windows provides SHGetFolderPath() to get a known location
p16293
aVThe CSIDL that you're looking for is , described as:
p16294
aVThe file system directory that contains application data for all users
p16295
aVA typical path is
p16296
aVThis folder is used for application data that is not user specific
p16297
aVFor example, an application can store a spell-check dictionary, a database of clip art, or a log file in the  folder
p16298
aVThis information will not roam and is available to anyone using the computer
p16299
aVFor Vista and later, this has been replaced with SHGetKnownFolderPath() although SHGetFolderPath() is still available as a wrapper function for that
p16300
aVIf you use the real Vista call, you should use  instead of
p16301
aVThis link here seems to show a way of doing it
p16302
aVIt seems to boil down to this (treat this with circumspection, I don't know Delphi that well):
p16303
ag5385
aVThis page provides a list of all the  and  values
p16304
aVKeep in mind you should be using these functions for your user-specific data as well, not hard-coded values like
p16305
aVIt may be that different language versions of Windows use different directory names or it's possible that users can freely move their data areas around
p16306
as(dp16307
g16
V14860
p16308
stp16309
a((dp16310
g2
(lp16311
VFor your uints, it should either be  or
p16312
aVDitto for 232 but the first one (256) is okay
p16313
aVI would go for:
p16314
aVThis assumes you'll be limiting arguments to 32 bits
p16315
aVIf not, add more conditions to hamdle the larger numbers
p16316
aVI don't think your original code would have worked for them anyway since at least one condition is supposed to evaluate true
p16317
as(dp16318
g16
V14860
p16319
stp16320
a((dp16321
g2
(lp16322
VNo, no, no, no
p16323
aV:-)
p16324
aVWhy do people insist on trying to pack so much functionality into a single RE or SQL statement
p16325
aVMy suggestion, do something like:
p16326
aVEnsure the length is 27
p16327
aVExtract the three components into separate strings (0-2, 3-18, 19-26)
p16328
aVCheck that the first matches
p16329
aVCheck that the second matches
p16330
aVCheck that the third matches
p16331
aVIf you want the entire check to fit on one line of source code, put it in a function, , and call it
p16332
aVEven something like this would do the trick:
p16333
aVDon't be fooled into thinking that's clean Python code, it's actually PaxLang, my own proprietary pseudo-code
p16334
aVHopefully, it's clear enough, the first line checks to see that the length is 27, the second that it matches the given RE
p16335
aVThe middle field is automatically 16 characters total due to the first line and the fact that the other two fields are fixed-length in the RE
p16336
aVThe RE also ensures that it's eight or more alphas followed by the right number of spaces
p16337
aVTo do this sort of thing with a single RE would be some monstrosity like:
p16338
aVYou could do it by ensuring it passes two separate REs:
p16339
aVbut, since that last one is simply a length check, it's no different to the  above
p16340
as(dp16341
g16
V14860
p16342
stp16343
a((dp16344
g2
(lp16345
VFor a start, you may need to step back and re-examine your schema
p16346
aVHow did you end up with 10 million rows in the member table
p16347
aVDo you actually have 10 million members (it seems like a lot)
p16348
aVI suspect (although I'm not sure) that you have less than 10 million members in which case your table will not be correctly structured
p16349
aVPlease post the schema, that's the first step to us helping you out
p16350
aVIf you do have 10 million members, my advice is to make your application vendor-agnostic to begin with (i
p16351
ag75
aV, standard SQL)
p16352
aVThen, if you start running into problems, just toss out your current DBMS and replace it with a more powerful one
p16353
aVOnce you've established you have one that's suitable, then, and only then would I advise using vendor-specific stuff
p16354
aVOtherwise it will be a painful process to change
p16355
aVBTW, 10 million rows is not really considered a big database table, at least not where I come from
p16356
aVBeyond that, the following is important (not necessarily an exhaustive list but a good start)
p16357
aVDesign your tables for 3NF always
p16358
aVOnce you identify performance problems, you can violate that rule provided you understand the consequences
p16359
aVDon't bother performance tuning during development, your queries are in a state of flux
p16360
aVJust accept the fact they may not run fast
p16361
aVOnce the majority of queries are locked down, then start tuning your tables
p16362
aVAdd whatever indexes speed up the selects, de-normalize and so forth
p16363
aVTuning is not a set-and-forget operation (which is why we pay our DBAs so much)
p16364
aVContinuously monitor performance and tune to suit
p16365
aVI prefer to keep my SQL standard to retain the ability to switch vendors at any time
p16366
aVBut I'm pragmatic
p16367
aVUse vendor-specific stuff if it really gives you a boost
p16368
aVJust be aware of what you're losing and try to isolate the vendor-specific stuff as much as possible
p16369
aVPeople that use  when they don't need every column should be beaten into submission
p16370
aVLikewise those that select every row to filter out on the client side
p16371
aVThe people that write our DBMS' aren't sitting around all day playing Solitaire, they know how to make queries run fast
p16372
aVLet the database do what it's best at
p16373
aVFiltering and aggregation is best done on the server side - only send what is needed across the wire
p16374
aVGenerate your queries to be useful
p16375
aVOther than the DoD who require reports detailing every component of their aircraft carriers down to the nuts-and-bolts level, no-one's interested in reading your 1200-page report no matter how useful you think it may be
p16376
aVIn fact, I don't think the DoD reads theirs either, but I wouldn't want some general chewing me out because I didn't deliver - those guys can be loud and they have a fair bit of sophisticated weaponry under their control
p16377
as(dp16378
g16
V14860
p16379
stp16380
a((dp16381
g2
(lp16382
VStandard output tends to be line buffered by default so the reason you're not seeing anything is because you haven't flushed the line
p16383
aVThis will work:
p16384
aVAlternatively, you could  standard out or just get rid of the infinite loop so the program exits:
p16385
aVbut you probably want the newline there anyway
p16386
as(dp16387
g16
V14860
p16388
stp16389
a((dp16390
g2
(lp16391
VThat BSS section is given a memory block in the process address space just like the code and stack sections (and any other ELF may have)
p16392
aVOnce there, they don't go anywhere
p16393
aVThe loader arranges things then calls the process entry point
p16394
as(dp16395
g16
V14860
p16396
stp16397
a((dp16398
g2
(lp16399
VThe best way to do this (despite your desire to have them hard-coded) is to create a table of country codes:
p16400
aVThen just use
p16401
aVI am of the firm belief that data should be stored in tables where it can be easily changed, not embedded within source code or scripts where it's a nightmare to track down and modify
p16402
aVThat's my opinion, others may disagree
p16403
as(dp16404
g16
V14860
p16405
stp16406
a((dp16407
g2
(lp16408
VPeople use it because they're inherently lazy when building dynamic SQL queries
p16409
aVIf you start with a  then all your extra clauses just start with  and you don't have to figure out
p16410
aVNot that there's anything wrong with being inherently lazy
p16411
aVI've seen doubly-linked lists where an "empty" list consists of two sentinel nodes and you start processing at the  up until  inclusive
p16412
aVThis actually removed all the special handling code for deleting  and  nodes
p16413
aVIn this set-up, every node was a middle node since you weren't able to delete  or
p16414
aVTwo nodes were wasted but the code was simpler and (ever so slightly) faster
p16415
aVThe only other place I've ever seen the "1 = 1" construct is in BIRT
p16416
aVReports often use positional parameters and are modified with Javascript to allow all values
p16417
aVSo the query:
p16418
aVwhen the user selects  for the parameter being used for  is modified to read:
p16419
aVThis allows the new query to be used without fiddling around with the positional parameter details
p16420
aVThere's still exactly one such parameter
p16421
aVAny decent DBMS (e
p16422
ag1775
aV, DB2/z) will optimize that query to basically remove the clause entirely before trying to construct an execution plan, so there's no trade-off
p16423
as(dp16424
g16
V14860
p16425
stp16426
a((dp16427
g2
(lp16428
VNo
p16429
aVNeil Butterworth's suggestion to examine the function signature is a good one for C++ (since the parameters are often encoded into the function so the linker can tell the difference between  and  for example) but, for C, you're going to have to get your hands dirty and disassemble the function, taking particular note of how the stack frames are built and used in your environment
p16430
aVKeep in mind that SPARC has a rotating window stack rather than regular grow-down stack
p16431
aVYou're really going to delve deep into the way the CPU works
p16432
aVIf you're talking Solaris for Intel, the rotating stack is not there, of course
p16433
as(dp16434
g16
V14860
p16435
stp16436
a((dp16437
g2
(lp16438
VMy advice is to use transactions as follows (my SQL is a bit rusty but you should get the idea):
p16439
aVThis will ensure the atomicity of the decrement-and-delete operation
p16440
aVHowever, one other possibility you may want to consider - don't remove it at the point where it reaches zero
p16441
aVSince you say the default value is zero anyway, just leave the row in there with a value of 0
p16442
aVOf course, your queries will need to change to adapt to that
p16443
aVIf you have one that lists active tokens, it will change from:
p16444
aVto:
p16445
aVThe decrement SQL in that case must be careful not to push the token count down to -1, so it would become:
p16446
aVThat simplifies your SQL at the decrement time
p16447
aVIf you still want those rows with zero-count to disappear, you could have another process that runs periodically to sweep them all up:
p16448
aVThat's just some alternatives to consider - if you really want them gone at the exact time their count reaches zero, then use the transaction method above
p16449
as(dp16450
g16
V14860
p16451
stp16452
a((dp16453
g2
(lp16454
VI have a couple of questions to ask you:
p16455
aVDoes it work
p16456
aVIs it fast enough
p16457
aVIs it readable/maintainable
p16458
aVIf the answer to all three is yes then, beyond that, further changes are really just wasted effort in my opinion
p16459
aVDon't refactor just for the sake of refactoring
p16460
aVFar too often people change things in anticipation of what might be (your "changing int" for example)
p16461
aVI prefer to subscribe to the YAGNI school of thought
p16462
aVThe right time to worry about that is when you do it
p16463
aVAnd the Law of Demeter is a design guideline, not a rule
p16464
aVIn the real world, pragmatism usually beats dogmatism :-)
p16465
as(dp16466
g16
V14860
p16467
stp16468
a((dp16469
g2
(lp16470
VHere's some VBA (with test code) I strung together in Excel which does the trick
p16471
aVUnless VB
p16472
aVNET has changed drastically, it should work okay
p16473
aVEven if it has, you should be able to translate the idea into workable code
p16474
ag5385
as(dp16475
g16
V14860
p16476
stp16477
a((dp16478
g2
(lp16479
VTest driven development is not a way of testing, it's a way of developing (including design, coding and testing)
p16480
aVOtherwise it would be called development driven testing
p16481
aVThe verb of the phrase "test driven development" is development, "test-driven" is just the adverb
p16482
aVYou should explain that to whoever is giving you grief over the term
p16483
aVI have absolutely no problem with the name since it accurately reflects the intent
p16484
aVAnd you don't have to have all your tests finished before starting development but you should have them specified at least
p16485
as(dp16486
g16
V14860
p16487
stp16488
a((dp16489
g2
(lp16490
VIf you want your uploaded file to be treated as a JCL job, it's a simple matter to put:
p16491
aVinto the FTP commands
p16492
aVThis will direct JES to treat the incoming dataset as JCL and automatically submit it
p16493
aVHow you would achieve that with VB is not within my domain but the following works fine from cmd
p16494
aVexe:
p16495
aVwith  containing:
p16496
aVIf, for some reason, you can't do this from within VB, my next move would be to have a started task running under z/OS which monitored a specific data set and submitted any new members that appeared there
p16497
aVI'd use the sentinel method to ensure you're not trying to submit half-uploaded jobs:
p16498
aVclient uploads member into date dataset (e
p16499
ag1775
aV, "DATA
p16500
aVMYJOB")
p16501
aVclient then uploads dummy member into sentinel dataset (e
p16502
ag1775
aV, "SENTINEL
p16503
aVMYJOB")
p16504
aVstarted task continuously looks for new members in sentinel dataset
p16505
aVif found, submits the equivalent data member to JES and deletes both sentinel and data members
p16506
aVWe've actually used this method before when sysprogs weren't keen on allowing those foreign machines direct access to JES (despite passwords)
p16507
aVUpdate, after a bit of searching:
p16508
aVIt doesn't look good for the  solution
p16509
aVThis post from 2006 (but with updates well into 2009) seems to indicate MS won't allow  to be implemented since it would expose the inner workings of their code
p16510
aVI won't comment of the validity of that argument and their reasoning may have changed, but I can't see anything in the current docs that indicates they've added this feature
p16511
aVSo I guess you're stuck with an external FTP solution
p16512
as(dp16513
g16
V14860
p16514
stp16515
a((dp16516
g2
(lp16517
VIt's because the debugger is waiting for you to debug the code
p16518
aVGDB will normally start up your process then stop at main (if you start your process with the debugger)
p16519
aVIn your case, by attaching to an already-running process, the debugger stops it wherever it happens to be when you attach
p16520
aVYour program is now halted
p16521
aVIt's then up to you to inform the debugger that you want to keep running the code () or single-step ( for step-into,  for step-over) or whatever else you want to do
p16522
aVThe  command () simply gives you the current stack dump at the time of attach
p16523
as(dp16524
g16
V14860
p16525
stp16526
a((dp16527
g2
(lp16528
VYou need to show us the definitions for
p16529
aVThere's a good chance (based on the fact you're starting arrays at 1, not 0) that you're overwriting memory
p16530
aVFor example, if nod is defined as:
p16531
aVthe possible array subscripts are  and , not  and :
p16532
aVIf that is the case, you're memory is almost certainly being over-written, in which case all bets are off
p16533
aVYou could be corrupting any other piece of data
p16534
aVIf  is placed in memory immediately following , this memory overflow would explain why it's being changed
p16535
aVThe following diagram will (attempt to) illustrate this
p16536
aVLet's say your  definition is:
p16537
aVbut you attempt to set  instead of :
p16538
aVC/C++ will not check regular array bounds for overflow
p16539
aVSo, if you attempt to set , you'll find yourself in trouble very similar to what your question describes
p16540
aVThe bit patterns you're using (3 and 4) equate to IEEE754 single-precision 4
p16541
aV2x10-45 and 5
p16542
aV6x10-45 respectively so they'd certainly give  when printing (since you don't appear to be using a format string which would give you the more precise value)
p16543
aVA good way to test this theory would be to output the  variables immediately before and after setting the relevant  variables, something like:
p16544
aVActual details as to how the variables are laid out in memory may be different to that described above but the theory still holds
p16545
aVTwo possible solutions if that turns out to be the problem
p16546
aVUse zero-base arrays as C/C++ intended; or
p16547
aVDefine them with enough space to handle your unusual use, such as
p16548
as(dp16549
g16
V14860
p16550
stp16551
a((dp16552
g2
(lp16553
VOkay, first step: Is  being used in the makefile compiler line
p16554
aVOtherwise, you're just setting an environment variable that's being used exactly nowhere :-)
p16555
aVI don't know if this is supposed to be automatically added by the compiler or whether you have to do it manually
p16556
aVAlso you refer to both  and  in your question - which should it be, if automatic
p16557
aVIf manual, you can make it anything just so long as you add it to the compile line
p16558
as(dp16559
g16
V14860
p16560
stp16561
a((dp16562
g2
(lp16563
V is the Visual Studio Just-in-time debugger
p16564
aVThe command you're seeing in your source code is attempting to run it with some specific arguments:
p16565
aVI don't know what the  and  arguments are for, I've never used them
p16566
aVThe  specifies a process ID to attach the debugger to
p16567
aVThe  sections of the string are printf-formatting so you can insert the process ID (and other arguments) before running the command
p16568
as(dp16569
g16
V14860
p16570
stp16571
a((dp16572
g2
(lp16573
VYour method sounds fine with the caveat that there's absolutely no possibility that your GUID will occur in the text itself
p16574
aVOn approach I've used for this type of data before is to just split on the semi-colons regardless then, if two adjacent fields end and start with a quote, combine them
p16575
aVFor example:
p16576
aVbecomes:
p16577
aVThen, when you discover that fields 4 and 5 end and start (respectively) with a quote, you combine them by replacing the field 4 closing quote with a semicolon and removing the field 5 opening quote (and joining them of course)
p16578
as(dp16579
g16
V14860
p16580
stp16581
a((dp16582
g2
(lp16583
VThe two most invaluable features I find:
p16584
aVline-by-line debugging, watchpoints, breakpoints and so on, so I can properly debug my code
p16585
aVcode completion so I don't have to go looking up docs (even online)
p16586
as(dp16587
g16
V14860
p16588
stp16589
a((dp16590
g2
(lp16591
VThe function  below may be what you're looking for
p16592
aVIt basically iterates once over the list (which is local to the function so the shifts won't affect the list back in the main program), counting them until it runs out
p16593
aVIt also uses a nifty trick, passing the name of the return variable to be set by the function
p16594
aVThe main program just illustrates how to call it and echos the arguments afterwards to ensure that they're untouched:
p16595
as(dp16596
g16
V14860
p16597
stp16598
a((dp16599
g2
(lp16600
VProvided you're only using ASCII characters in your text file, they're already Unicode, encoded as UTF-8
p16601
aVIn you want a different encoding of the characters (UTF16/UCS2, etc), any language that supports Unicode should be able to read in one encoding and write out another
p16602
aVThe  stuff will do it as per the following example - it outputs UTF16 as both UTF8 and ASCII and then back again (code gratuitously stolen from here)
p16603
as(dp16604
g16
V14860
p16605
stp16606
a((dp16607
g2
(lp16608
Vwill give you every line from every meta
p16609
aVxml file in the current directory and all its subdirectories, in the form:
p16610
aVIf you need anything more complex, I'd suggest installing Cygwin or GNU tools and using the bash shell or UNIX-like utilities from that, something like:
p16611
as(dp16612
g16
V14860
p16613
stp16614
a((dp16615
g2
(lp16616
VIdeally, I would actually have an integer field there which was a foreign key to another table, something like:
p16617
aVThis will alleviate any concern you may have with using up too much space in your DB
p16618
aVAnother solution is to use hard-coded integers to specify the state but this introduces unnecessary tying between your DB and your application
p16619
aVAs to your question as to using , the DBMS should be solely responsible for its own data integrity
p16620
aVWho's to say that application A relies on the fact that a column cannot contain NULLs and application B comes along and inserts them (bug, incompetent coder or any other reason)
p16621
aVThat would potentially break application A
p16622
aVThe right place for controlling what data is in the DBMS is at the DBMS
p16623
as(dp16624
g16
V14860
p16625
stp16626
a((dp16627
g2
(lp16628
VIt's likely that your input is not a valid format
p16629
aVTry this instead
p16630
aVIf the number is not valid, it should output an error
p16631
aVKeep in mind that the string should consist of an optional sign followed by a number
p16632
aVOne thing you may be seeing is the user entering  for example
p16633
aVIf you do the  on that, you'll only get  which isn't really valid
p16634
as(dp16635
g16
V14860
p16636
stp16637
a((dp16638
g2
(lp16639
VRegular expression are not the answer to every single problem
p16640
aVMy advice would be to do something like:
p16641
aVIf you must use a regex, there's nothing wrong with your solution but I'd probably use the following variant (just based on my understanding of RE engines and how they work):
p16642
aVThe first section matches 0000-0999
p16643
aVThe second matches 1000-1299
p16644
aVThe third matches 1300-1329
p16645
aVThe final one matches 1330 and 1331
p16646
aVUpdate:
p16647
aVJust on the elegance comment, there are many forms of elegance of which regexes are one
p16648
aVYou can also achieve elegance just by abstracting the validation out to a separate function or macro and then call it from your code:
p16649
aVwhere  is a concrete business object
p16650
aVThis allows you to change your idea of a valid object easily, even using a regex as you desire or any other checks you deem appropriate (such as my function above)
p16651
aVThis allows you to cater for any changes down the line such as the requirement that these object now have to be prime numbers
p16652
aVI'm sure I could write a "prime-number-less-than-1332" regex
p16653
aVI'm equally sure I wouldn't want to - I'd prefer to code that up as a function (or lookup table for raw speed), especially since the regex would most likely just look like:
p16654
aVanyway
p16655
as(dp16656
g16
V14860
p16657
stp16658
a((dp16659
g2
(lp16660
VIt's a precedence problem
p16661
aVYour statement:
p16662
aVshould be evaluating as:
p16663
aVbut is actually evaluating as:
p16664
aVThat last expression will always be true, since , so you'll always get just the
p16665
aVThe reason you don't have the problem in the first test is because you're evaluating  separately, hence manually controlling the precedence
p16666
aVAs an aside, I love the way people seem to assume they've found a bug in a piece of software being used by untold millions of other people, rather than considering the slightest possibility that they may have done something wrong :-)
p16667
aVAlthough to be honest, I have found bugs in one product used by many people (a Microsoft COBOL compiler if I remember correctly) but that was due to signed/unsigned issues and I had one of the very earliest machines with more than 512K RAM (where the startup code checked to ensure you had enough memory and it treated 640K as some negative amount)
p16668
aVStill, one bug found in a quarter century is pretty low so it's not like you should assume the software is at fault immediately
p16669
aVMy first thought is always that I've stuffed up somehow (and I'm usually right, much to my chagrin)
p16670
as(dp16671
g16
V14860
p16672
stp16673
a((dp16674
g2
(lp16675
VThis is what transactions are meant for
p16676
aVStandard SQL does not permit a single statement inserting into multiple tables at once
p16677
aVThe correct way to do it is:
p16678
as(dp16679
g16
V14860
p16680
stp16681
a((dp16682
g2
(lp16683
VI know the answer but it doesn't matter
p16684
aVWhat you should do in all cases of potential database optimisation is to add the index and test it
p16685
aVAnd, by that, I mean test all of your affected queries, inserts and updates to ensure you have a performance boost that outdoes any loss of performance elsewhere
p16686
aVYou shouldn't trust my knowledge or anyone else's if the alternative is concrete data that you can gather yourself
p16687
aVMeasure, don't guess
p16688
aVThe answer is, by the way: "it should, unless your DBMS is truly brain-dead"
p16689
aVGenerally, adding indexes will increase the speed of selects but slow down inserts and updates
p16690
aVBut I mean "generally" - it's not always the case
p16691
aVA good DBA continuously examines the performance of the DBMS and tunes it where necessary
p16692
aVDatabases are not set-and-forget objects, they need to be cared for and nurtured :-)
p16693
as(dp16694
g16
V14860
p16695
stp16696
a((dp16697
g2
(lp16698
VRDz has a started task (a daemon in UNIX-speak) which runs on the z/OS host and accepts connections from the Eclipse plug-in
p16699
aVThe protocol is proprietary so you're unlikely to be able to find out any information about it
p16700
aVAnd RDz isn't just for COBOL programmers
p16701
aVIt's used in many shops where people want to store all their source code on the mainframe - why maintain two separate repositories
p16702
aVThat's why it has those longname/shortname and ASCII/EBCDIC translations to turn those ungodly Java paths into our beautifully elegant 8-character member names and allow us to read it under z/OS, although the ISPF editor's  command has alleviated that last concern somewhat
p16703
aVIf you want to do a similar thing, you'll need to code up your own started task to accept incoming connections from your clients
p16704
aVThis isn't as hard as it sounds
p16705
aVYou'll actually be doing it in a UNIX environment since USS (UNIX System Services, the renamed OpenMVS) comes with z/OS as part of the Base Operating System software
p16706
aVAnd it allows you to access both USS files and z/OS datasets/members transparently
p16707
aVThen, you'll need to convince the mainframe shops that your started task is not a security risk
p16708
aVLet me know how that works out for you :-)
p16709
aVYou may find it easier to just make NFS a pre-requisite of your software
p16710
aVThen, at least, it's IBM's security problem, not yours
p16711
as(dp16712
g16
V14860
p16713
stp16714
a((dp16715
g2
(lp16716
VIf you mean just add a comma to the end of each line:
p16717
aVIf you mean join all lines together into one line, separating each with a comma:
p16718
aVOr the more correct one without a trailing comma (thanks, @hacker, for pointing out the error):
p16719
aVIf you want the output of any of those in a shell variable, simply use the  construct, such as:
p16720
aVI find it preferable to use  rather than backticks since it allows me to nest commands, something backticks can't do
p16721
as(dp16722
g16
V14860
p16723
stp16724
a((dp16725
g2
(lp16726
VSince the other inserts are working okay and there doesn't appear to be a difference in the structure of them, my first thought is that you're running out of some resource at insert number 833
p16727
aVWhat happens if you do a commit after each insert (your transaction buffer may be running out of space)
p16728
aVDoes it work then
p16729
aVActually, a better test would be a single commit at transaction number 800
p16730
aVIf you then get beyond 833, then that was your problem
p16731
aVIf so, simply modify your script (or the script that creates your script id it's auto-generated) to commit every 100 or so inserts (committing after every insert will probably make it unbearably slow)
p16732
as(dp16733
g16
V14860
p16734
stp16735
a((dp16736
g2
(lp16737
VThis choice is called triage, a term from emergency departments in hospitals where they have to decide who gets treated (and sometimes, unfortunately, who lives and dies)
p16738
aVAs with all business decisions, it's a cost/benefit problem
p16739
aVWhat is the benefit of fixing a bug or adding a feature
p16740
aVWhat will it cost (including the opportunity cost of not doing something else)
p16741
aVPick those that have the most benefit for least cost
p16742
aVWhat you're aiming for is the maximum bang-per-buck
p16743
aVResources are limited, desires are not, the perennial problem of capitalism :-)
p16744
aVThere's no point fixing a bug experienced by only one customer who's never going to throw more repeat business your way if it means a feature that will sell hundreds of copies is dropped in the meantime
p16745
aVFor what it's worth, our company has a database of requested changes where customers can basically vote for what they want to see in upcoming versions of our products
p16746
aVThe actual creation of these requested changes in that database is limited to the sales force since we don't want all sorts of requests showing up without being evaluated and discussed at least a little bit with the customers
p16747
aVIn addition, we regularly approach our biggest customers (in terms of revenue generated) with the list to figure out what features should be added (they are free to suggest their own desires as well, which also get entered into the database - obviously voting power depends a bit on revenue)
p16748
aVThis is quite separate from our bug system although quite often bugs are raised which are actually new feature requests, and they're shipped across to the new features database
p16749
aVIt's possible that this may even happen for real bugs that are considered low-impact or have a suitable workarounds in place
p16750
as(dp16751
g16
V14860
p16752
stp16753
a((dp16754
g2
(lp16755
VI can't see your problem here
p16756
aVYou shouldn't use terms like cardinality to business people, you'll just get a blank stare or someone who thinks you're a pretentious &%^$#$@
p16757
aV:-)
p16758
aVThe two questions:
p16759
aVHow many leads can a reference have
p16760
aVHow many references can a lead have
p16761
aVare simple English, understandable by anyone who speaks the language
p16762
aVBut, as always, requirements gathering is a teasing-out process
p16763
aVIf you can't get clear answers to those simple questions, you need to:
p16764
aVmake it clear to the person you're asking that it's necessary to know (and that not knowing will delay the delivery)
p16765
aVsit them down in front of a whiteboard and walk through the possibilities (there's only four, assuming they have a relationship at all: one-one, one-many, many-one, many-many)
p16766
aVSitting down with them is a good idea for both of you
p16767
aVIt makes them understand why you need to know and it gives you the information you need and more domain knowledge
p16768
as(dp16769
g16
V14860
p16770
stp16771
a((dp16772
g2
(lp16773
VThe  command can get the first  lines
p16774
aVVariations are:
p16775
aVwhich will get the first 7 lines of the file called
p16776
aVThe command to use depends on your version of
p16777
aVLinux will work with the first one
p16778
aVTo append lines to the end of the same file, use:
p16779
aVor:
p16780
aVto do it in one hit
p16781
aVSo, tying these two ideas together, if you wanted to get the first 10 lines of the  file to  and append a line with five  characters, you could use something like:
p16782
aVIn this case, we do both operations in a sub-shell so as to consolidate the output streams into one, which is then used to create or overwrite the output file
p16783
as(dp16784
g16
V14860
p16785
stp16786
a((dp16787
g2
(lp16788
VAny other suggestions or recommendations
p16789
aVYes, don't do it
p16790
aVNot perhaps what you want to hear but you're right, it's unreliable at best
p16791
aVBeing inherently lazy, I'd opt for the solution that involved the least amount of work
p16792
aVThat's a big red text area next to the download link, stating something like:
p16793
aVBeware
p16794
aVThis product is only supported with OS X 10
p16795
aV5 or later
p16796
aVPlease do not attempt to use with earlier versions
p16797
aVThen let the user decide
p16798
aVIf you want to protect them further, make your executable program check itself once it's running on their box
p16799
aVI gather OS X has  on it, or a similar tool which can reliably get the OS version
p16800
aVIf it doesn't meet the specs at that point, you can simply exit with a similar message:
p16801
aVI warned you
p16802
aVBut no, you wouldn't listen
p16803
aVHad to go and download me anyway, didn't you
p16804
aVWell, now I'm not going to run at all, and you've wasted all that precious bandwidth
p16805
aVSilly, silly man, now go away
p16806
aVOf course, your error message may be more tactful than mine :-)
p16807
as(dp16808
g16
V14860
p16809
stp16810
a((dp16811
g2
(lp16812
VInteresting
p16813
aVI have a few questions which may point out the problem
p16814
aV1/ Are you untarring on the same platform as you're tarring on
p16815
aVThey may be different versions of  (e
p16816
ag1775
aV, GNU and old-unix)
p16817
aVIf they're different, can you untar on the same box you tarred on
p16818
aV2/ What happens when you simply gunzip myarchive
p16819
aVtar
p16820
aVgz
p16821
aVDoes that work
p16822
aVMaybe your file is being corrupted/truncated
p16823
aVI'm assuming you would notice if the compression generated errors, yes
p16824
aVBased on the GNU tar source, it will only print that message if  returns 0 prematurely which is usually caused by truncated archive
p16825
as(dp16826
g16
V14860
p16827
stp16828
a((dp16829
g2
(lp16830
VIf you want proper support for WAS, you should be using the Rational toolset
p16831
aVRAD/RSA and their brethren are optimized for Websphere (as you'd expect given they're both from IBM)
p16832
aVYou can do it with baseline Eclipse (I'd use the "real" Eclipse rather than myeclipse) but the easiest set up will be with Rational
p16833
aVYou may not want to spend the money however
p16834
aVIt's well worth the cost, since it comes bundled with WAS test environments and can deploy automatically to other WAS instances (for example, system test environments)
p16835
aVRAD 7
p16836
aV5 supports WAS 7 so I'd go for that one
p16837
aVRAD 7 only supports up to WAS 6
p16838
ag2193
as(dp16839
g16
V14860
p16840
stp16841
a((dp16842
g2
(lp16843
VWorks for any (fixed-size) maze with a minimum of CPU cycles (given a big enough BFG2000)
p16844
aVSource size is irrelevant since the compiler is incredibly efficient
p16845
as(dp16846
g16
V14860
p16847
stp16848
a((dp16849
g2
(lp16850
VYou need to capture the output of your  command and use  to run another command if it's not equal to the number of lines you want, such as:
p16851
as(dp16852
g16
V14860
p16853
stp16854
a((dp16855
g2
(lp16856
VYour code has a number of problems, the first being what you describe
p16857
aVIt will also put the numbers in reverse order and have a trailing comma, which is probably not what you want
p16858
aVIf that is what you want, just use the second solution
p16859
aVSolution 1, right order and no trailing comma:
p16860
aVSolution 2, right order with trailing comma:
p16861
aVSolution 3, much simpler, using tools meant for the job:
p16862
aVSolution 3 would be my preferred option since it'll be faster and be able to handle input lines with white space in them
p16863
as(dp16864
g16
V14860
p16865
stp16866
a((dp16867
g2
(lp16868
VStandard SQL does not provide a way to do this (MySQL may, but I prefer solutions that are vendor-neutral so I can switch DBMS' at any time)
p16869
aVThis is something you should do in post-processing after the result set is returned
p16870
aVSQL can only return them in an order specified in the "order by" clause (or in any order if there's no such clause)
p16871
aVThe other possibility (though I don't like it, I'm honor-bound to give you the choice) is to make multiple trips to the database, one for each ID, and process them as they come in:
p16872
as(dp16873
g16
V14860
p16874
stp16875
a((dp16876
g2
(lp16877
VWhenever you find yourself trying to do things with multi-column sets, you've probably got your schema wrong
p16878
aVIt would almost certainly be easier to separate A, B, C and D into separate rows in a separate table, tie them back to the row in the original table and create a -type query
p16879
aVAlternatively, if only one is ever non-NULL, I would opt for two columns, type (A, B, C or D) and value
p16880
aVThen you're not wasting the columns in every row, and the queries are immeasurably easier (assuming the types are the same)
p16881
aVHowever, you can do it this way with :
p16882
aVThe syntax may not be exactly correct, you'll need to look it up
p16883
aVIIt's not something I usually do since I consider it a bad idea (per-row functions in select never scale well)
p16884
as(dp16885
g16
V14860
p16886
stp16887
a((dp16888
g2
(lp16889
VUnfortunately, sometimes, the fluffy open questions are the ones that give you the best view of a person
p16890
aVWhatever technical questions you ask (and these depend a lot on your development methodology so I can't really help you there, they should be tailored), you should always establish how the potential candidate will work in a team environment
p16891
aVYou need to establish that:
p16892
aVthe person will work well in the team
p16893
aVthe person will take responsibility for working with development to get bugs fixed, not just "Here's a bug, go fix it, then get back to me"
p16894
aVthe person's ego will not get in the way of the team's work (such as fighting over the classification or severity of bugs)
p16895
aVI find this is usually more of a problem with developers getting defensive about "their" code
p16896
aVI find the best approach in interviews is to present scenarios and ask the candidate what they think, for example:
p16897
aVit's 4pm Friday afternoon and Bob, a developer, has agreed to work back to fix a high-severity bug
p16898
aVWe need a tester to validate the fix and you're the only one available but you had a dinner arrangement
p16899
aVWhat would you propose
p16900
aVJust on the answer to that question alone, you could evaluate whether the candidate:
p16901
aVis useless ("Sorry, I can't miss dinner")
p16902
aVthinks outside constraints ("Are there really no other testers available
p16903
aV, "Can I validate it on Saturday morning
p16904
aV, "Can Bob work some other time on the weekend
p16905
aVis adaptable ("I could put off dinner just this once")
p16906
aVand so on
p16907
aVI cannot stress also how communication skills are important to the developer/tester relationship
p16908
aVHave the tester generate a rough bug report (any bug they want to) and discuss its adequacy (exact steps, expected behavior, actual behavior,
p16909
as(dp16910
g16
V14860
p16911
stp16912
a((dp16913
g2
(lp16914
VIt's visible to the entire process, i
p16915
ag75
aV, all threads
p16916
aVOf course, this is in practice
p16917
aVIn theory, you couldn't say because threads have nothing to do with the C standard (at least up to c99, which is the standard that was in force when this question was asked)
p16918
aVBut all thread libraries I've ever used would have globals accessible to all threads
p16919
aVUpdate 1:
p16920
aVMany thread libraries (pthreads, for one) will allow you to create thread-specific data, a means for functions to create and use data specific to the thread without having it passed down through the function
p16921
aVSo, for example, a function to return pseudo random numbers may want each thread to have an independent seed
p16922
aVSo each time it's called it either creates or attaches to a thread-specific block holding that seed (using some sort of key)
p16923
aVThis allows the functions to maintain the same signature as the non-threaded ones (important if they're ISO C functions for example) since the other solution involves adding a thread-specific pointer to the function call itself
p16924
aVAnother possibility is to have an array of globals of which each thread gets one, such as:
p16925
aVThis would allow the thread function to be told which global variable in the array belongs to it
p16926
aVThere are other methods, no doubt, but short of knowing your target environment, there's not much point in discussing them
p16927
aVUpdate 2:
p16928
aVThe easiest way to use a non-thread-safe library in a threaded environment is to provide wrapper calls with mutex protection
p16929
aVFor example, say your library has a non-thread-safe  function
p16930
aVWhat you do is provide a wrapper for it:
p16931
aVWhat will happen there is that only one thread at a time will be able to claim the mutex (and hence call the non-thread-safe function)
p16932
aVOthers will be blocked until the current one returns
p16933
as(dp16934
g16
V14860
p16935
stp16936
a((dp16937
g2
(lp16938
VThe right way to do this (in my opinion, of course, since "right" is a subjective term) would be to modify the schema so that these values are separated
p16939
aVIn other words, 2009 and 1234 would be in different columns
p16940
aVIt's almost always a bad idea, in terms of speed and scalability, to use per-row functions in your select statements
p16941
aVThat's because the DBMS has to perform calculations on every single row it extracts, every time it extracts it
p16942
aVIf you're required to keep them as a single column, one trick I've used in the past is to use an insert/update trigger with two extra columns to receive the parts, so you would have:
p16943
aVYes, I know this isn't ideal 3NF but it's perfectly acceptable to break that for performance reasons if you do it right
p16944
aVThe triggers will guarantee the columns always match and you'll find that your queries run a lot faster at the minimal expense of the trigger and the duplication of data
p16945
aVBut it's better to do that split once when a row is created or updated rather than every time you read it
p16946
aVThat's because databases are usually read far more often than they're written
p16947
aVThe trigger expense is amortized over all the selects
p16948
aVKeep in mind that, if your table is small or (for some bizarre reason) written more often than read, you may be better off using per-row functions
p16949
as(dp16950
g16
V14860
p16951
stp16952
a((dp16953
g2
(lp16954
VPseudo-code only, since this smells suspiciously like homework :-)
p16955
aVNumber 1:
p16956
aVNumber 2:
p16957
as(dp16958
g16
V14860
p16959
stp16960
a((dp16961
g2
(lp16962
VThis will cause you headaches down the road, no doubt about it
p16963
aVYou can check for alternating zero bytes for the simplistic cases (ASCII only, UTF-16, either byte order) but the minute you start getting a stream of characters above the 0x7f code point, that method becomes useless
p16964
aVIf you have the file handle, the best bet is to save the current file pointer, seek to the start, read the BOM then seek back to the original position
p16965
aVEither that or remember the BOM somehow
p16966
aVRelying on the data contents is a bad idea unless you're absolutely certain the character range will be restricted for all inputs
p16967
as(dp16968
g16
V14860
p16969
stp16970
a((dp16971
g2
(lp16972
Vand I would like to make sure it is secure
p16973
aVNo amount of logging is going to make your system more secure
p16974
aVHowever, if your reason is to collect stats on failed attempts and look for possible problem areas (so you can, for example, ban IP addresses or accounts, or identify users with very bad memory), I would opt for logging the date, time, username, IP address and attempted password
p16975
aVThe IP address isn't as useful as you might think due to DHCP, NAT'ing and such but it can still be moderately useful
p16976
aVNone of this will prevent break-ins since a successful break-in will have the real password anyway (from social engineering or keyloggers)
p16977
aVWe used to have a bit of fun at a major telco whose field engineers logged in to get the workload for the next few hours
p16978
aVWe would see them connect and get the password wrong, then look up their real password in LDAP and give them a call on the mobile
p16979
aV"Excuse me, Bob, but you seem to be having trouble logging in
p16980
aVYou should be using 'octagon' as your password, not 'hexagon'
p16981
aVThat freaked 'em out no end and, obviously, our jobs weren't overly stressful at that point :-)
p16982
as(dp16983
g16
V14860
p16984
stp16985
a((dp16986
g2
(lp16987
VThe safest way to do it is to fully specify the columns both for insertion and extraction
p16988
aVThere's no guarantee (to the application) that either of these will be the order you think they may be
p16989
aVIf you're worried about having to change many multiple PHP pages that do this (as you seem to indicate in the comment to another answer), this is ripe for a stored procedure
p16990
aVThat way, all your PHP pages simply call the stored procedure with (for example) just the ID to copy and it controls the actual copy process
p16991
aVThat way, there's only one place where you need to maintain the code, and, in my opinion, the DBMS is the right place to do it
p16992
as(dp16993
g16
V14860
p16994
stp16995
a((dp16996
g2
(lp16997
VWhat you should be storing in your database is data
p16998
aVFormatting of that data is the responsibility of applications, not the database itself
p16999
aVI would store it as an integer and, if you need that to 7 decimal places with leading zeros, the right place to do that is after extraction of the data to your application
p17000
as(dp17001
g16
V14860
p17002
stp17003
a((dp17004
g2
(lp17005
VIt's the column of the data set that is used to set the value of the listbox
p17006
aVFor example, if it's bound to a dataset with the query:
p17007
aVthen setting the bound column to userid (3 in the above example) will cause the user ID information to be returned as the listbox value
p17008
as(dp17009
g16
V14860
p17010
stp17011
a((dp17012
g2
(lp17013
VI have no idea of what the limits are in
p17014
aVNET but, if it is a resource limitation, I'd solve it the same way we solved running out of space in the bad old 64K-segment days
p17015
aVExternalize the strings - put them in an external file and simply store the offsets (and lengths if they're not null terminated)
p17016
aVWhen you need a string, load it from the file and use it
p17017
as(dp17018
g16
V14860
p17019
stp17020
a((dp17021
g2
(lp17022
VJust leave the zeros out of the query with a  clause
p17023
as(dp17024
g16
V14860
p17025
stp17026
a((dp17027
g2
(lp17028
VFrom a network point of view, that's when you'd use a load balancer
p17029
aVYou have to have an address of some sort to be able to find the machine providing the service
p17030
aVIt's no different to the DNS part of a URL being used to locate a web server, or a  variable being used to locate a X server
p17031
aVA load balancer will allow you to use one single address which can then be delivered to one of many actual servers at the back end, assuming of course that it doesn't really matter which server services the request
p17032
aVIf you're more talking about the WCF address, that's an endpoint, analogous to a port in TCP/IP
p17033
aVIt's needed to distinguish between multiple WCF services
p17034
aVYou may provide multiple endpoints for your particular arcitecture so there needs to be a way to separate them out
p17035
aVIt's usually better to be more adaptable than less
p17036
as(dp17037
g16
V14860
p17038
stp17039
a((dp17040
g2
(lp17041
VGenerally, you're working at a lot lower level than general purpose computers
p17042
aVEach CPU will have certain behaviour on power up, such as clearing all registers and setting the program counter to 0xf000 (everything here is non-specific, as is your question)
p17043
aVThe trick is to ensure your code is at the right place
p17044
aVThe compilation process is usually similar to general purpose computers in that you translate C into machine code (object files)
p17045
aVFrom there, you need to link that code with:
p17046
aVyour system start-up code, often in assembler
p17047
aVany runtime libraries (including required bits of the C RTL)
p17048
aVSystem start-up code generally just initialises the hardware and sets up the environment so that your C code can work
p17049
aVRuntime libraries in embedded systems often make the big bulky stuff (like floating point support or printf) optional so as to keep down code bloat
p17050
aVThe linker in embedded systems also usually is a lot simpler, outputting fixed-location code rather than relocatable binaries
p17051
aVYou use it to ensure the start-up code goes at (e
p17052
ag1775
aV0xf000
p17053
aVIn embedded systems, you generally want the executable code to be there from the start so you may burn it into EPROM (or EEPROM or Flash or other device that maintains contents on power-down)
p17054
aVOf course, keep in mind my last foray was with 8051 and 68302 processors
p17055
aVIt may be that 'embedded' systems nowadays are full blown Linux boxes with all sorts of wonderful hardware, in which case there'd be no real difference between general purpose and embedded
p17056
aVBut I doubt it
p17057
aVThere's still a need for seriously low-spec hardware that needs custom operating systems and/or application code
p17058
aVSPJ Embedded Technologies has an downloadable evaluation of their 8051 development environment that looks to be what you want
p17059
aVYou can create programs up to 2K in size but it seems to go through the entire process (compiling linking, generation of HEX or BIN files for dumping on to target hardware, even a simulator which gives access to the on-chip stuff and external devices)
p17060
aVThe non-evaluation product costs 200 Euro but, if all you want is a bit of a play, I'd just download the evaluation - other than the 2K limit, it's the full product
p17061
as(dp17062
g16
V14860
p17063
stp17064
a((dp17065
g2
(lp17066
VSimple questions are fine, I think it's well established that SO is meant to be for all levels, not just an elite
p17067
aVThere is no  in C (unless you define it yourself)
p17068
aVInitializing to a null pointer can be done in one of the following two ways:
p17069
aVIf you dereference  after that, you're likely to get an access violation (I believe it's undefined behavior according to the standard, so really, anything could happen, up to and including, total annihilation of the universe - it may even continue to run fine, but I wouldn't rely on it)
p17070
aVTo get a pointer to a real integer, just use:
p17071
aVusing the address-of operator
p17072
aVRe your edit, it's not weird at all, you just need to visualize it
p17073
aVLet's pretend that all variables are created starting at memory location 100 and integers and pointers are both 4 bytes in length
p17074
aVBreaking your two situations down to their simplest form:
p17075
aVThen you execute the command
p17076
aVin an attempt to change the variable pointed to by
p17077
aVOn the left-hand side, you will try to write the value 7 to memory location 0
p17078
aVThat's a bad thing; very few systems will allow you to do that without crashing, even fewer will allow it without any adverse effects at all (some versions of HP-UX actually worked okay)
p17079
aVOn the right side is what should happen
p17080
aVThe value picked up from  is 100, so the value 7 is written to that memory location, changing  as intended
p17081
aVI often find pictures (even primitive ASCII art ones, since I'm no Rubens or Botticelli) help clarify the concepts
p17082
aVHopefully it's cleared it up a little for you
p17083
as(dp17084
g16
V14860
p17085
stp17086
a((dp17087
g2
(lp17088
VYou most likely want  with the FS (field separator variable) set to
p17089
aVAwk is the tool of choice for column-based data (some prefer Perl, but not me)
p17090
aVoutputs:
p17091
aVIf you just want to turn semicolons into newlines:
p17092
aVoutputs the numbers 1 through 10 on separate lines
p17093
aVObviously those commands are just using my test data
p17094
aVIf you want to use them on your own file, use something like:
p17095
as(dp17096
g16
V14860
p17097
stp17098
a((dp17099
g2
(lp17100
VYou can do it by executing the following in the shell context (e
p17101
ag1775
ag8798
aVbashrc)
p17102
aVThis creates a function then aliases the  command to that function
p17103
aVThe function itself provides the warning then calls the real
p17104
aVA better solution, however, may be to detect real paths, since the solution you've asked for will give you a false positive for  and false negative for  (if  was indeed the danger area)
p17105
aVI would do something like:
p17106
aVwhich will allow you to configure the top-level danger directories as absolute paths
p17107
as(dp17108
g16
V14860
p17109
stp17110
a((dp17111
g2
(lp17112
VThink of it as
p17113
aVWhen you want to pass the address of an integer to a function so that you can set the integer, you use:
p17114
aVIt's no different from what you have except that you want to set the value of a pointer so you need to pass the pointer to that pointer
p17115
aVSimple, no
p17116
aVTry this out:
p17117
aVThe output is:
p17118
aVThis will safely append one string value to another, allocating enough space
p17119
aVDouble pointers are often used in intelligent memory allocation functions, less so in C++ since you have a native string type, but it's still useful for other pointers
p17120
as(dp17121
g16
V14860
p17122
stp17123
a((dp17124
g2
(lp17125
VOptimization is generally done to make something run faster
p17126
aVHave you actually found that your code is not running fast enough
p17127
aVI suspect not
p17128
aVIf your code generates the right results and does it in such a way that it doesn't take a great deal of time, leave it alone, and concentrate on other code that's an actual rather than a perceived, problem
p17129
aVIf you're just worried about the way it looks, add some comments to explain how it works
p17130
aVYou would most likely have to do that anyway with a one-formula solution so you may as well not waste your effort
p17131
as(dp17132
g16
V14860
p17133
stp17134
a((dp17135
g2
(lp17136
VWith the pre-processor macro
p17137
aVbeing called with , the line is translated (a simple string substitution, replacing  with ) into:
p17138
aVwhich is a function call to  passing two things:
p17139
aVthe number of integers in the array {1,2,3} which is 3 (it gets this by dividing the size of the three-integer array by the size of a single integer)
p17140
aVthe pointer to the array itself (or a totally different array containing the same values, depending on how smart your compiler is)
p17141
aVAll the  function does is add each of the integers to  (which is initially zero) until the count runs out
p17142
aVThat first bullet point above bears some explanation
p17143
aVWhen you have an array of  elements defined as follows:
p17144
aVthe size of the array is , the size of all elements
p17145
aVThe size of a single element of that array is , the size of the first element, although I often prefer the  variant
p17146
aVSo, to count the number of elements, you simply divide the total size by the size of an element, using one of the following:
p17147
aVAnd, since you've asked for a detailed analysis of the code, here we go:
p17148
as(dp17149
g16
V14860
p17150
stp17151
a((dp17152
g2
(lp17153
VTry ; if you write it without suffixes, you'll find the compiler treats it as a regular integer
p17154
aVThe reason it's working in a variable is because the integer is being cast up to an  in the assignment, so that the value passed to  is the right type
p17155
aVAnd before you ask, no, the compiler probably isn't smart enough to figure it out from the " in the  format string
p17156
aVThat's a different level of abstraction
p17157
aVThe compiler is responsible for the language syntax,  semantics are not part of the syntax, it's a runtime library function (no different really from your own functions except that it's included in the standard)
p17158
aVConsider the following code for a 32-bit int and 64-bit unsigned long long system:
p17159
aVwhich outputs:
p17160
aVIn the first case, the two 32-bit integers 1 and 2 are pushed on the stack and  interprets that as a single 64-bit ULL value, 2 x 232 + 1
p17161
aVThe  argument is being inadvertently included in the ULL value
p17162
aVIn the second, you actually push the 64-bit 1-value and a superfluous 32-bit integer , which is ignored
p17163
aVNote that this "getting out of step" between your format string and your actual arguments is a bad idea
p17164
aVSomething like:
p17165
aVis likely to crash because the 32-bit  pointer will be consumed by the  and  will try to de-reference the final  argument
p17166
aVThe following "picture" illustrates this (let's assume that cells are 32-bits and that the "hello" string is stored at 0xbf000000
p17167
as(dp17168
g16
V14860
p17169
stp17170
a((dp17171
g2
(lp17172
VYou should really just test it and specify those browsers that support it as minimum requirements
p17173
aVThis eases your workload considerably since it makes the user responsible :-) Or, alternatively, use the word "euro" or the "EUR" curruncy designator (like USD, AUD, JPY and so on)
p17174
as(dp17175
g16
V14860
p17176
stp17177
a((dp17178
g2
(lp17179
VOn my Windows box,  returns
p17180
aVHowever, I'm not sure why you'd bother
p17181
aVIf you want to limit the platform it runs on technologically, I'd use a white-list rather than a black-list
p17182
aVIn fact, I wouldn't do it technologically at all since perhaps the next release of Python may have  instead of  (for black-listing) and  instead of  (for white-listing)
p17183
aVMy advice is to simply state what the requirements are and, if the user chooses to ignore that, that's their problem
p17184
aVIf they ring up saying they got an error message stating "Cannot find FHS" and they admit they're running on Windows, gently point out to them that it's not a supported configuration
p17185
aVMaybe your customers are smart enough to get FHS running under Windows so that your code will work
p17186
aVThey're unlikely to appreciate what they would then consider an arbitrary limitation of your software
p17187
aVThis is a problem faced by software developers every day
p17188
aVEven huge organizations can't support every single platform and configuration out there
p17189
as(dp17190
g16
V14860
p17191
stp17192
a((dp17193
g2
(lp17194
VOne approach we took (this wasn't because we ran out of command-line space, just because we wanted a cleaner build system) was to have each "module" do its build in passes
p17195
aVSo, for example, say you have 3 modules, A, B and C
p17196
aVYour control makefile simply calls each modules makefile with the same target
p17197
aVThen we set the targets to be a consistent clean, header, lib and exec
p17198
aVSo, the control makefile was something like:
p17199
aVEvery module that had header files needed by other modules copied those header files into a central location during the header phase
p17200
aVThen, during the lib or exec phase, each module only had to use that central location to locate all of its headers
p17201
aVThis also restricted modules to only using those headers that were published to the central location by other modules
p17202
aVSimilarly, every module that created a library needed by the exec phase, copied that library to a central location
p17203
aVThis greatly minimized the  (include directory) and  (library directory) clauses in the build commands
p17204
aVUsing that scheme, you could rebuild the entire thing just by executing  at the top level (or leave off the  for a proper make build, taking into account the dependencies)
p17205
aVThat's one way to get around your problem, but I'm actually wondering how you're exceeding the limit
p17206
aV8K, even at 25 characters per path, would require about 300 distinct include paths
p17207
aVIs your hierarchy really that voluminous
p17208
aVUpdate 1:
p17209
aVIf you're looking for a quick'n'dirty way to get it working without changing the makefile "architecture", you write a script which, given a list of directories, will copy all header files from those directories to a central location
p17210
aVThen run that as the first step in all your rules and modify the include statements in your compile lines to just reference that location rather than the large list
p17211
aVYou could even do the copy in stages (e
p17212
ag1775
aV, 20 directories at a time x 20 times could handle 400 directories in total)
p17213
aVThis gives you the same effect as my proposed solution with smaller changes to the makefiles
p17214
aVUpdate 2:
p17215
aVOne other solution, as you stated in your comments, was to alias a path
p17216
aVYou should be able to do that with  such as:
p17217
as(dp17218
g16
V14860
p17219
stp17220
a((dp17221
g2
(lp17222
VWell, that's quite a specialized field you're asking about
p17223
aVAnd, because of that, I doubt there's any equipment you could pick up fro WalMart or Best Buy to help you out
p17224
aVNo doubt there are medical equipment manufacturers that would make that sort of stuff but it wouldn't be readily available to your average Joe (at least not without buying some hideously expensive kit from them)
p17225
aVThat sort of equipment is generally based on the electrical signals from the brain that can be detected on the skin surface (Electroencephalographs or EEGs do this)
p17226
aVPicking up signals from deeper within the brain is going to require some specialized equipment to be inserted inside the skull, not something I'd look at for a weekend project :-)
p17227
aVThere is an Open EEG project on the web if you're interested
p17228
aVIt's got hardware links mostly but seems to indicate that several members have software available as well
p17229
aVThere's also a site for a homemade EEG device, but I seriously love the warning:
p17230
aVWARNING: USE AT YOUR OWN RISK
p17231
aVIf you download the following schematics and attempt to build this device, you must assume all responsibility for any misuse, injury or death that may ensue
p17232
aVThis device is neither guaranteed to work nor certified to be safe
p17233
aVA general suggestion is to never ever power this device with AC (i
p17234
ag75
aVfrom the wall), only with DC (batteries)
p17235
aVIn addition, do not connect this device to anything that is connected to AC power
p17236
aVConsider yourself warned
p17237
as(dp17238
g16
V14860
p17239
stp17240
a((dp17241
g2
(lp17242
VIn jQuery,  is generally how you run a piece of code once all the images are loaded
p17243
aVJust supply it with a function to do the grunt work:
p17244
as(dp17245
g16
V14860
p17246
stp17247
a((dp17248
g2
(lp17249
VUse one of:
p17250
aVThe difference is how it handles numbers that are equidistant to the rounding point (e
p17251
ag1775
aV, 0
p17252
aV65 in your case could either go to 0
p17253
aV7 or 0
p17254
aV6)
p17255
aVHere is a answer I gave to another question which holds much more information
p17256
as(dp17257
g16
V14860
p17258
stp17259
a((dp17260
g2
(lp17261
VInteresting
p17262
aVIt could quite easily be a fault in the floating point software
p17263
aVEmbedded systems often include floating point as an option so as to keep the code size down
p17264
aVI'm not sure that's the problem here though since your first statement works
p17265
aVWhat happens with:
p17266
aVThe idea here is to collect useful information as to what could be causing it, a common thing to do in forensics
p17267
aVThe results of those calculations are likely to be helpful in determining the actual problem
p17268
aVBased on your results in the comments:
p17269
aVIt looks like your floating point library has a serious shortcoming
p17270
aVTwo more questions:
p17271
aVHow are you printing out the results (show us the actual code)
p17272
aVWhich micro-controller and development environment are you using
p17273
aVThere may be some problem with the way you're printing or it may be a limitation of your environment
p17274
aVAjit, I think you're really going to have to give us some code to help you out
p17275
aVNot necessarily your real code (your concern about releasing the real code is understood), just some that demonstrates the problem
p17276
aVBased on some of your comments, to wit:
p17277
aVAdriaan, the datatype for "result" is of float, that is, 32-bit representation (single)
p17278
aVI have CAN as the system interface, and hence I am multiplying the result by 1000 to send it over the CAN bus
p17279
aVIf it happens to be a negative number, like -0
p17280
aV003, then I am expecting FF FD in the CAN message
p17281
aVI do not have a debugger
p17282
aVI'm not sure I totally understand, but I'll give it a shot
p17283
aVYou have a 32-bit float, for example, -0
p17284
aV003 and you multiply it by 1000 and put it in an integer (0xFFFD is the 16-bit two's complement representation of -3)
p17285
aVSo what happens when you run something like the following code:
p17286
aVThe reason I want you to test an integer is that it may have nothing to do with floats at all
p17287
aVIt may be that the float value is perfectly correct, but there's some problem with the way you're printing it (the CAN method)
p17288
aVIf "CAN" is some sort of serial interface, it may be there's a restriction on the bytes you're allowed to send across it
p17289
aVI can envisage a scenario where the high bytes are used as packet markers so that FF may actually end the message prematurely
p17290
aVThat's why I also want you to test -32768 (0x8000)
p17291
aVIt's hard to believe that STMicroelectronics would produce such a braindead runtime system that it couldn't handle negative floats
p17292
aVIt seems much more likely to me that the information is being corrupted somewhere else (for example, the "printing" process, whatever that may be)
p17293
as(dp17294
g16
V14860
p17295
stp17296
a((dp17297
g2
(lp17298
VSomething like this will do it
p17299
aVThe  loop may need to be modified depending on which filenames you wish to capture
p17300
aVYou should always test these scripts on copies of your data, by the way, and in totally different directories
p17301
as(dp17302
g16
V14860
p17303
stp17304
a((dp17305
g2
(lp17306
VA convention
p17307
aVMine would be, if my program was called , simply
p17308
aVI have to admit, I didn't really suffer any angst in coming up with that convention
p17309
aVMaybe I've been here too long :-)
p17310
aVOf course, if your configuration information is of a specific format (e
p17311
ag1775
aV, XML), you could consider
p17312
aVBut, really, I think  just about sums up the intent as much as any convention could
p17313
aVAnd, just to state the bleeding obvious, don't call your file  if your program is actually called
p17314
aVPlease don't take offense, I'm not really taking the mickey, just answering an interesting question in the tone of my strange sense of humor
p17315
aVYou wouldn't be the first to misunderstand my brand of humor (my wife, for instance, despairs of it most days)
p17316
as(dp17317
g16
V14860
p17318
stp17319
a((dp17320
g2
(lp17321
VI use numbers tables for primarily dummying up reports in BIRT without having to fiddle around with dynamic creation of recordsets
p17322
aVI do the same with dates, having a table spanning from 10 years in the past to 10 years in the future (and hours of the day for more detailed reporting)
p17323
aVIt's a neat trick to be able to get values for all dates even if your 'real' data tables don't have data for them
p17324
aVI have a script which I use to create these, something like (this is from memory):
p17325
aVThe number of rows doubles with each line so it doesn't take a lot to produce truly huge tables
p17326
aVI'm not sure I agree with you that it's important to be created fast since you only create it once
p17327
aVThe cost of that is amortized over all the accesses to it, rendering that time fairly insignificant
p17328
as(dp17329
g16
V14860
p17330
stp17331
a((dp17332
g2
(lp17333
VYes, in my experience, any large amount of work will make users think twice about deploying or upgrading
p17334
aVIt's your standard cost/benefit analysis done by businesses with just about every decision
p17335
aVWill the expected benefits more than outweigh the potential costs
p17336
aVWhen we release updates to our software, there's almost always a major component that's there just to assist the users to migrate
p17337
aVAn example (modified enough to protect the guilty): we have a product which generates reports on system performance and other things
p17338
aVBut the reports aren't that pretty and the software for viewing them is tied to a specific platform
p17339
aVWe've leveraged BIRT to give us intranet-based reporting that looks much nicer and only needs the client to have a web browser (not some fat client)
p17340
aVVery few customers made the switch until we provided a toolset that would take their standard reports and turn them into BIRT reports
p17341
aVOnce we supplied that, customers started taking it seriously - the benefit hadn't changed, but the cost had gone right down
p17342
as(dp17343
g16
V14860
p17344
stp17345
a((dp17346
g2
(lp17347
VJust add a constant to your column list as follows:
p17348
aVwhich will get you something like:
p17349
aVand so on
p17350
aVThis allows you to have string data types which will likely make your conversion to links easier (especially if you use values that just have to be copied to your page instead of being looked up or converted) and using the  clause will allow you to reference it like any other column (by name)
p17351
aVNote the use of  - if you're sure that there will be no duplicate rows from the tables (which is probably true in this case since you have a different  value for each and I'm assuming the titles are unique), the  can avoid a wasted sort-and-remove-duplicate operation
p17352
aVUse of  on its own may cause unnecessary work to be done
p17353
aVIf you want the duplicate removal done, just revert to using
p17354
as(dp17355
g16
V14860
p17356
stp17357
a((dp17358
g2
(lp17359
VProbably the most efficient method, if you're using the  shell (and you appear to be, based on your comments), is to use the substring variant of parameter expansion:
p17360
aVThis will set  to be the first two characters of
p17361
aVIf  is shorter than two characters,  will be identical to it
p17362
aVThis is usually better if you're going to be doing it a lot (like 50,000 times per report as you mention) since there's no process creation overhead
p17363
aVAll solutions which use external programs will suffer from that overhead
p17364
aVIf you also wanted to ensure a minimum length, you could pad it out before hand with something like:
p17365
aVThis would ensure that anything less than two characters in length was padded on the right with periods (or something else, just by changing the character used when creating )
p17366
aVIt's not clear that you need this but I thought I'd put it in for completeness
p17367
aVHaving said that, there are any number of ways to do this with external programs (such as if you don't have  available to you), some of which are:
p17368
aVThe first two ( and ) are identical for a single-line string - they basically both just give you back the first two characters
p17369
aVThey differ in that  will give you the first two characters of each line and  will give you the first two characters of the entire input
p17370
aVThe third one uses the  substring function to extract the first two characters and the fourth uses  capture groups (using  and ) to capture the first two characters and replace the entire line with them
p17371
aVThey're both similar to  - they deliver the first two characters of each line in the input
p17372
aVNone of that matters if you are sure your input is a single line, they all have an identical effect
p17373
as(dp17374
g16
V14860
p17375
stp17376
a((dp17377
g2
(lp17378
VClick on the top left icon in the window (the  one) and select "Properties"
p17379
aVThen select the "Layout" tab and change the window size to what you want it to be (I have 128x50 for the screen and 128x999 for the scroll buffer)
p17380
aVYou can also optionally set the top left position (I always have it at 1,1) if you don't want Windows itself deciding where the window goes
p17381
aVWhen you click on OK, make sure you tell it to modify the shortcut that started the window
p17382
aVThen it will remember
p17383
aVThis is for XP, other MS operating systems may vary slightly but the general idea should be the same
p17384
as(dp17385
g16
V14860
p17386
stp17387
a((dp17388
g2
(lp17389
V is usually a memory fault, possibly caused by a bad address
p17390
aVStart by printing out , ,  and  (the addresses, not the contents) immediately after you set them, to see if any of them have been set to NULL
p17391
as(dp17392
g16
V14860
p17393
stp17394
a((dp17395
g2
(lp17396
VWhy doesn't the query with the date clause not use the accessid index
p17397
aVBecause using the date index is more efficient
p17398
aVThat's because it's likely to pare the search space down faster
p17399
aVAt least one DBMS (DB2/z, I don't know much about MySQL) would benefit from an index on date+accessid since the access IDs would be sorted within dates in that index
p17400
aVThat DBMS will use the date+accessid key to efficiently use the where clause to whittle down the search space and to return distinct values of accessid within that space
p17401
aVWhether MySQL is that smart, I have no idea
p17402
aVMy suggestion would be to try it and see (which is the best answer to most DB optimization questions)
p17403
as(dp17404
g16
V14860
p17405
stp17406
a((dp17407
g2
(lp17408
VAssuming that header is all on a single line (and the "**" are added by you just to emphasize what you want extracted), you can extract the number with:
p17409
aVThis extracts the number (assuming your file is specified correctly)
p17410
aVThe expression "0 + n" will strip off leading zeros
p17411
aVThen, using my code from your other question:
p17412
aVNow  should contain the value you want
p17413
as(dp17414
g16
V14860
p17415
stp17416
a((dp17417
g2
(lp17418
VNo, this is a limitation of the underlying C sockets (and the TCP/IP protocol, for that matter)
p17419
aVMy question to you is: why are you shutting them down when you can architect your application to use them
p17420
aVThe problem with many short-term sockets is that shutting them down puts them in a state where they cannot be used for a while (basically, twice the packet lifetime, to ensure any packets in the network either arrive and are discarded, or get discarded by the network itself)
p17421
aVBasically what happens is that, in the 4-tuple that needs to be unique (source ip, source port, destination ip, destination port), the first one and last two tend to always be the same so, when you run out of source ports, you're hosed
p17422
aVWe've struck this problem in software before where it only became evident when we ran on faster machines (since we could use many more sessions)
p17423
aVWhy dont you just open up the socket and continue to use it
p17424
aVIt looks like your protocol is a simple request/response one, which should be easily do-able with that approach
p17425
aVSomething like:
p17426
aVUpdate:
p17427
aVOne possibility (and we've done this before) if you're running out of connection due to this continual open/close, is to detect the problem and throttle it
p17428
aVConsider the following code (the stuff I've added is more pseudo-code than Python since I haven't touched Python for quite a while):
p17429
aVBasically, it lets you run at full speed while there are plenty of resources but slows down when you strike your problem area
p17430
aVThis is actually what we did to our product to "fix" the problem of failing when resources got low
p17431
aVWe would have re-architected it except for the fact it was a legacy product approaching end of life and we were basically in the fix-at-minimal-cost mode for service
p17432
as(dp17433
g16
V14860
p17434
stp17435
a((dp17436
g2
(lp17437
V is, by definition, not portable
p17438
aVAnd weak linking is done at link time (surprisingly enough)
p17439
aVIt allows a function (or any symbol, really) with the same signature to override another
p17440
aVThat means a strong one will be chosen in preference to the weak one but, if there's no strong one, the weak one will be used
p17441
aVInclude guards are done by the compiler, not the linker, and they do not allow the fallback to a weak one if the strong one's not there
p17442
aVYou can simulate the same behavior if you control the source for both functions (by -ing for one, -ing for the other) but that's not always the case and this is more choosing between two strong functions
p17443
aVWeak linking allows you to do things like drop in your own  for debugging purposes while still linking with the library that provides them
p17444
as(dp17445
g16
V14860
p17446
stp17447
a((dp17448
g2
(lp17449
VGenerally, you would replace your column list with a  to return the row count
p17450
aVI'm not sure how well that would work on really complicated queries with many joins and such but, for simpler queries, it should be fine
p17451
aVReplace:
p17452
aVwith
p17453
aVThat will give you the row count before you run the real query
p17454
aVJust keep in mind there's a chance the data may change between your count query and real query (hopefully not too much)
p17455
aVKnowledge of the data properties will allow you to approximate kilobytes from row count
p17456
as(dp17457
g16
V14860
p17458
stp17459
a((dp17460
g2
(lp17461
VGet yourself a copy of Cygwin and use "real" search tools like grep :-) I've never trusted Windows search since I'm fairly certain it only searches within registered file types (although that may have changed since the last time I looked)
p17462
aVThe command-line  seems to work better across all file types, so you can use something like:
p17463
aVin your top-level directory
p17464
aVThe  tells it to search all subdirectories and the  means literal search
p17465
aVIt can even do regular expressions if you're so inclined - run  from the command line for details
p17466
as(dp17467
g16
V14860
p17468
stp17469
a((dp17470
g2
(lp17471
VYou're well out of the comfort zone, through the discomfort zone, and halfway through the having-a-hot-poker-shoved-up-your-backside zone :-)
p17472
aVYou should really be thinking of the toolbar as a speed-bar, somewhere where the user can go to do common operations with minimal actions
p17473
aVOther than the Gimp with its infamous UI, I can't fathom any application that would need anywhere near 1,000 common operations worthy of use in a speed-bar
p17474
aVPerhaps you need to rethink what you're providing
p17475
aVSome of the Microsoft applications do it reasonably well, they divide their toolbars into sections (e
p17476
ag1775
aV, drawing, statistics, formatting) and let the user decide which sections are shown
p17477
aVThat way the user decides if they want a minimal workspace or whether they want the whole top half of their workspace taken up by toolbars
p17478
aVThe non-common operations should always be available by menus anyway, whether common is fixed by you (hard-coded), chosen by the user (configuring those sections) or "intelligently" shown by the program (based on previous use)
p17479
aVHere's what I would consider a good approach
p17480
aVHave all operations accessible from the menus by dividing them into sections (operations within a section should be at least vaguely related)
p17481
aVLet's assume for now you can have 30 sections of 30 operations each (unlikely, I know, but simple for this discussion)
p17482
aVHave a special section for adaptive operations
p17483
aVBy that, I mean a section the program will populate with operations based on how often the user uses them
p17484
aVTo do that, you need to keep a record of how many times an operation is used by the user (each user has their own count, of course, since their usage profile will be different)
p17485
aVAllow the user to configure which sections are displayed in toolbars, including the adaptive one
p17486
aVThis gives them control over it
p17487
aVThe adaptive section should be populated by the most commonly used operation provided they don't already appear in another toolbar already
p17488
aVThat way, the user can get at the most commonly used operations which aren't already on one of their chosen toolbars
p17489
aVThat seems to me the most flexible solution, giving the user total control over the use of their screen real-estate
p17490
as(dp17491
g16
V14860
p17492
stp17493
a((dp17494
g2
(lp17495
VTry this instead:
p17496
aVIt still treats the input the same way as yours (I'd tend to use pointers but they are sometimes hard to understand by a beginner) but introduces three separate cases, 0-9, A-F and a-f, treating each appropriately
p17497
aVYour original code would actually allow erroneous characters (the six between '9' and 'A') and produce incorrect results based on them
p17498
aVNote that this new code only normally terminates the loop at end of string
p17499
aVFinding an invalid hex character will break out of the loop, functionally identical to your terminating condition
p17500
as(dp17501
g16
V14860
p17502
stp17503
a((dp17504
g2
(lp17505
VIf you just want to replace the value of , you can use  as follows:
p17506
aVThe  controls is what will replace the current value (in this case it changes it to 99)
p17507
aVThe following test command:
p17508
aVoutputs:
p17509
aVAlternatively, you could use :
p17510
aVor:
p17511
as(dp17512
g16
V14860
p17513
stp17514
a((dp17515
g2
(lp17516
VFor UTF8, you have to generate the encoding yourself using rules found, for example, here
p17517
aVFor example, the German sharp s (, code point 0xdf), has the UTF8 encoding 0xc3,0x9f
p17518
aVYour e-acute (, code point 0xe9) has a UTF8 encoding of 0xc3,0xa9
p17519
aVAnd you can put arbitrary hex characters in your strings with:
p17520
as(dp17521
g16
V14860
p17522
stp17523
a((dp17524
g2
(lp17525
VYes it can
p17526
aVIn fact, that's exactly what a singleton class does
p17527
aVThe first time you call its class-level  method, it constructs an instance of itself and returns that
p17528
aVThen subsequent calls to  return the already-constructed instance
p17529
aVYour particular case could use a similar method but you need some way of deciding the list of recent changes
p17530
aVAs such it will need to maintain its own list of such changes
p17531
aVYou could do this with a static array or list of the changes
p17532
aVJust be certain that the underlying information in the list doesn't disappear - this could happen in C++ (for example) if you maintained pointers to the objects and those objects were freed by your clients
p17533
aVLess of an issue in an automatic garbage collection environment like Java since the object wouldn't disappear whilst there was still a reference to it
p17534
aVHowever, you don't have to use this method
p17535
aVMy preference with what you describe would be to have two clases, changelist and change
p17536
aVWhen you create an instance of the change class, pass a changelist object (null if you don't want it associated with a changelist) with the constructor and add the change to that list before returning it
p17537
aVAlternatively, have a changelist method which creates a change itself and returns it, remembering the change for its own purposes
p17538
aVThen you can query the changelist to get recent changes (however you define recent)
p17539
aVThat would be more flexible since it allows multiple lists
p17540
aVYou could even go overboard and allow a change to be associated with multiple changelists if so desired
p17541
as(dp17542
g16
V14860
p17543
stp17544
a((dp17545
g2
(lp17546
VIrveen, for the input file (one line), you can have the following files:
p17547
ag5385
ag5385
ag5385
aVThis produces the file:
p17548
aVwhich is what, I believe, you wanted from this series of questions
p17549
aVBy way of explanation, the for loop processes your one line, extracting the 8th field (000
p17550
aV00581)
p17551
aVThe loop skip section simply removes leading zeros until you have either a 0 on its own or a real number (Windows treats numbers with leading zeros as octal which is no good for us here)
p17552
aVOnce the number is extracted, you simply construct your file from a pre and post bit, along with the line you want to modify
p17553
aVI know, it's a bit more of a kludge than the earlier awk solution I gave but it'll do the trick in Windows without having to add third party software (which you indicated was not an option in one of your other questions)
p17554
aVUpdate 1: Here is a version that, as requested, uses a single template file to create you output file
p17555
aVThe template file must have lines beginning with either  or  to dictate whether they come before or after the line to be inserted
p17556
aVLines without a marker are not used at all so you can insert blank lines or comments to your heart's content
p17557
aVSo your file would be:
p17558
aVAnd this is the command script which will give you what you needed
p17559
aVI just used a trick to temporarily create the pre- and post-files to minimize the changes needed
p17560
aVIt outputs:
p17561
aVjust like the pre/post solution above, but with your new requirement satisfied
p17562
aVUpdate 2: If you can convince them to go for a Cygwin solution, this is all you need:
p17563
aVWith  containing:
p17564
aVand  containing (shorter but same number of fields):
p17565
aVyou get the following :
p17566
aVVoila
p17567
aVSo much simpler
p17568
aVFeel free to use the cmd script and Cygwin script to convince your management they should be using better tools :-)
p17569
as(dp17570
g16
V14860
p17571
stp17572
a((dp17573
g2
(lp17574
VWhat are all these answers with
p17575
aVThey will match things like "7abc efghi" which is clearly two strings (in my opinion, based on the tone of the question)
p17576
aVThey'll also match "7999999999999999999999999999" (which is clearly wrong based on the question) unless you make it clear you're using an RE function with implicit start/end line boundaries
p17577
aVWhat you probably need is a whitelist of possibile characters amking up a string, something like:
p17578
aVwith (potentially) word boundaries on either side, or (for older RE engines without that feature), all of these ones:
p17579
aVIf there are more characters that you would consider part of a "string", simply add them to the  sections
p17580
as(dp17581
g16
V14860
p17582
stp17583
a((dp17584
g2
(lp17585
VThis sort of argument has been fought out here before (probably many times) such as in this question
p17586
aVThere are those that will argue that purity of code is all-important and they'll complain bitterly that your first option doesn't have identical post-conditions for all cases
p17587
aVWhat I would answer is "Twaddle
p17588
aVI'm a pragmatist, not a purist
p17589
aVI'm as against too much spaghetti code as much as the next engineer but some of the hideous terminating conditions I've seen in for loops are far worse than using a couple of breaks within your loop
p17590
aVI will always go for readability of code over "purity" simply because I have to maintain it
p17591
as(dp17592
g16
V14860
p17593
stp17594
a((dp17595
g2
(lp17596
VThis is how I'd approach it, a C-based solution (that will work in C++ of course, but doesn't have any C++ features):
p17597
ag5385
aVThis outputs:
p17598
aVfor your test case
p17599
aVIt also intelligently handles sequences where the range isn't an exact multiple of the increment (for example, [7,40,10]):
p17600
as(dp17601
g16
V14860
p17602
stp17603
a((dp17604
g2
(lp17605
VAny decent compiler will optimize those two statements to exactly the same underlying code
p17606
aVIn fact, it will most likely generate exactly the same code for:
p17607
aVI would opt for the first of yours just because its intent seems much clearer (mildly clearer than your second choice, massively clearer than that monstrosity I posted above)
p17608
aVI tend to think in terms of how I would read it
p17609
aVThink of the two sentences:
p17610
aVif number is greater than or equal to ten
p17611
aVif it's not the case that number is less than ten
p17612
aVI believe the first one to be clearer
p17613
aVIn fact, just testing with  to get the assembler output, both statements generate the following code:
p17614
aVI believe you're wasting your time looking at micro-optimisations like this - you'd be far more efficient looking at things like algorithm selection
p17615
aVThere's likely to be a much greater return on investment there
p17616
as(dp17617
g16
V14860
p17618
stp17619
a((dp17620
g2
(lp17621
VI assume you mean with  since  doesn't show anything
p17622
aVYou can use the  switch of  to stop the annoying copyright message from being displayed
p17623
aVFor example:
p17624
as(dp17625
g16
V14860
p17626
stp17627
a((dp17628
g2
(lp17629
VYou can locate an executable on the path (or other path-like string if necessary):
p17630
aVDetails can be found at the end of the help text for the  command,  but the summary is:
p17631
aVThe modifiers can be combined to get compound results:
p17632
aVIf your executable isn't on the path (as per your edit), your best bet is to use the bare/subdirectory format of  which will do it for you
p17633
aVFrom the root directory:
p17634
aVwill get you all of the files on that drive with that name
p17635
aVYou then just have to parse the output
p17636
aVMy own preference would be to use Cygwin's  but that's because I already have it installed
p17637
aVYou may not want that (or even have that option)
p17638
aVUpdate:
p17639
aVThat  command will take a while since it's basically searching the whole disk
p17640
aVIf that's a problem you may want to consider periodically creating a cached record of all files on all disks with a cmd file like:
p17641
aVYou could do this with scheduled tasks either nightly (for an always-on server) or on boot (for a desktop)
p17642
aVYou could even make the script more intelligent to do it only every couple of days (I have an automated backup script that does a similar thing on the family machines I support)
p17643
aVThis creates the list in a temporary cache file then overwrites the original one to ensure the time when the file doesn't exist is minimized
p17644
aVThen you can just use:
p17645
aVto locate all your files
p17646
as(dp17647
g16
V14860
p17648
stp17649
a((dp17650
g2
(lp17651
VIf you need to do it with tons (or tonnes but certainly not tones) of email addresses and/or you're doing it frequently, the right time to do it is when the data enters the table (by using an insert/update trigger) and splitting it into two columns at that point
p17652
aVThat way, it only happens when needed, not every time you do a select on the table
p17653
aVData is almost always read far more often than written so, by splitting at insertion/update time, you minimize the amount of work to be done
p17654
aVPer-row functions never scale well as your tables get bigger and it's a much smaller cost to simply concatenate two columns than to split them based on a character separator
p17655
aVThe other answers already tell you how to do the split
p17656
aVIt's my contention that you're doing it at the wrong time
p17657
aVOf course, if a schema change is out of the question, just ignore this response
p17658
aVBut, in my opinion, that would be the best way to go
p17659
as(dp17660
g16
V14860
p17661
stp17662
a((dp17663
g2
(lp17664
VAssuming that they're consecutive and you want to remove subsequent ones, the following awk script will do it:
p17665
aVIt works by printing the first line and storing the second column
p17666
aVThen for subsequent lines, it skips ones where the stored value and second column are the same (if different, it prints the line and updates the stored value)
p17667
aVIf they're not consecutive, I'd opt for a Perl solution where you maintain an associative array to detect and remove duplicates - I'd code it up but my 3yo daughter has just woken up , it's midnight and she has a cold - see you all tomorrow, if I survive the night :-)
p17668
as(dp17669
g16
V14860
p17670
stp17671
a((dp17672
g2
(lp17673
VThe best way I know of doing it (in any language, not just Java) is to use a producer/multi-consumer paradigm
p17674
aVHave one thread create a queue then start up  other threads
p17675
aVThis main thread will then enumerate all the files and place their names on that queue
p17676
aVThen it will place  end-of-queue markers on the queue
p17677
aVThe "other" threads simply read the next name off that queue and process the file
p17678
aVWhen they read off a end-of-queue marker, they exit (and the main thread can reap their exit status if need be)
p17679
aVThis simplifies the communication between threads to the queue (which should, of course, be protected by a mutex so as to not cause race conditions with all the threads)
p17680
aVIt also allows the threads to control their own exit condition (under direction from the main thread), another good way to to avoid certain multi-threading problems
p17681
as(dp17682
g16
V14860
p17683
stp17684
a((dp17685
g2
(lp17686
VThere is absolutely no guarantee that  will compile to interrupt-safe instructions on any platform, including x86
p17687
aVIt may well be that it is safe for a specific compiler and specific processor architecture but it's not mandated in the standards at all and the standard is the only guarantee you get
p17688
aVYou can't consider anything to be safe based on what you think it will compile down to
p17689
aVEven if a specific compiler/architecture states that it is, relying on it is very bad since it reduces portability
p17690
aVOther compilers, architectures or even later versions on the same compiler and architecture can break your code quite easily
p17691
aVIt's quite feasible that  could compile to an arbitrary sequence such as:
p17692
aVon a CPU that has no memory-increment instructions
p17693
aVOr it may be smart and compile it into:
p17694
aVwhere  disables and  enables interrupts
p17695
aVBut, even then, this may not be thread-safe in an architecture that has more than one of these CPUs sharing memory (the  may only disable interrupts for one CPU), as you've already stated
p17696
aVThe language itself (or libraries for it, if it's not built into the language) will provide thread-safe constructs and you should use those rather than depend on your understanding (or possibly misunderstanding) of what machine code will be generated
p17697
aVThings like Java  and  (available to C under some OS') are what you want to look into
p17698
as(dp17699
g16
V14860
p17700
stp17701
a((dp17702
g2
(lp17703
VIf you ever plan on searching for specific attribtes, it's a bad idea to serialize them into a single column, since you'll have to use per-row functions to get the information out - this never scales well
p17704
aVI would opt for your second choice
p17705
aVHave a list of attributes in an attribute table, the objects in their own table, and a many-to-many relationship table called object attributes
p17706
aVFor example:
p17707
aVYour concern about performance is noted but, in my experience, it's always more costly to split a column than to combine multiple columns
p17708
aVIf it turns out that there are performance problems, it's perfectly acceptable to break 3NF for performance reasons
p17709
aVIn that case I would store it the same way but also have a column with the raw serialized data
p17710
aVProvided you use insert/update triggers to keep the columnar and combined data in sync, you won't have any problems
p17711
aVBut you shouldn't worry about that until an actual problem surfaces
p17712
aVBy using those triggers, you minimize the work required to only when the data changes
p17713
aVBy trying to extract sub-column information, you do unnecessary work on every select
p17714
as(dp17715
g16
V14860
p17716
stp17717
a((dp17718
g2
(lp17719
VWhy don't you give:
p17720
aVa shot
p17721
aVThis is assuming you know the data type (char*) and other dimension (3)
p17722
aVYou divide the size of the structure by the size of each element to get the total number of elements, then divide it by the first dimension, giving you the second
p17723
aVAside: my original answer used  which was, of course, wrong, since it was the size of the array (2, being 'a' and '\u005c0'), not the pointer (4 on my hideously outdated 32-bit machine)
p17724
aVBut I love the way I got two upvotes for that wrong answer - don't you bods actually check the answers here before voting
p17725
aV:-)
p17726
as(dp17727
g16
V14860
p17728
stp17729
a((dp17730
g2
(lp17731
VProbably not what you want to hear, but I wouldn't do it that way
p17732
aVThere is nothing more annoying than a timer-based nag screen when you're evaluating software
p17733
aVAnd I don't mean annoying as in "it will give me a reason to buy a non-nag version of your software"
p17734
aVI mean annoying as in "I'll never touch that application again"
p17735
aVI've done software for accountants that had a similar approach yet, when I gave them a separate version which just splashed "Evaluation Copy" across the reports, they were quite happy
p17736
aVWhen quizzed, they made it clear that they were happy with a limitation like that, or even slightly reduced functionality (like only 10 client files instead of unlimited) but the nag screen slowed them down at the start and that gave a very bad impression of the software
p17737
aVIf you want to give them a reason to buy, take a leaf from the book of TechDirt - offer something for free (but not an annoying version) and then make it worth their while to buy something scarce
p17738
aVTo that end, I wouldn't advertise the free version as limited but rather concentrate on the extra functionality they'll get by paying
p17739
aVThat's basic marketing 101 along the lines of fast food outlets offering  and  sizes rather than  and  :-)
p17740
aVYou'll get more from a customer by offering them something extra for payment instead of taking away something if they don't pay
p17741
aVIt's the spin you put on it that matters, not the actual outcome
p17742
as(dp17743
g16
V14860
p17744
stp17745
a((dp17746
g2
(lp17747
VIf you want to get all lines with 'field3=' followed by any characters followed by 'highland', you need:
p17748
aVThe  means any character and the  means zero or more occurences of the last pattern
p17749
aVSo  is effectively any string, including the empty one
p17750
as(dp17751
g16
V14860
p17752
stp17753
a((dp17754
g2
(lp17755
VYou want unbuffered output whenever you want to ensure that the output has been written before continuing
p17756
aVOne example is standard error under a C runtime library - this is usually unbuffered by default
p17757
aVSince errors are (hopefully) infrequent, you want to know about them immediately
p17758
aVOn the other hand, standard output is buffered simply because it's assumed there will be far more data going through it
p17759
aVAnother example is a logging library
p17760
aVIf your log messages are held within buffers in your process, and your process dumps core, there a very good chance that output will never be written
p17761
aVIn addition, it's not just system calls that are minimized but disk I/O as well
p17762
aVLet's say a program reads a file one byte at a time
p17763
aVWith unbuffered input, you will go out to the (relatively very slow) disk for every byte even though it probably has to read in a whole block anyway (the disk hardware itself may have buffers but you're still going out to the disk controller which is going to be slower than in-memory access)
p17764
aVBy buffering, the whole block is read in to the buffer at once then the individual bytes are delivered to you from the (in-memory, incredibly fast) buffer area
p17765
aVKeep in mind that buffering can take many forms, such as in the following example:
p17766
as(dp17767
g16
V14860
p17768
stp17769
a((dp17770
g2
(lp17771
VIf your desire is to simply differentiate the real from the imaginary component for a complex number, I'd do one of the following
p17772
aVEnclose the number with some form of parentheses to ensure it's treated as a unit
p17773
aVFor example, 6+5i becomes {6,5} or {6,5i} for extra readability
p17774
aVIntroduce a marker to separate the parts, similar to the exponent in 6
p17775
aV022e23
p17776
aVFor example, 6+5i becomes 6i5
p17777
aVYou'd still need parentheses to specify formulae for this one, such as 6 + (b/2)i becoming 6i(b/2), not the confusing 6ib/2 (which could also be read as (6ib)/2) and unfortunately you lose the use of i as a variable
p17778
aVEither of those would be simple to process even with a simple parser and they're close enough to the mathematical notation so as not to confuse
p17779
aVI prefer the first since it seems more explicit to me and uses symbols that are unlikely to confuse
p17780
as(dp17781
g16
V14860
p17782
stp17783
a((dp17784
g2
(lp17785
VYou don't need another script to do that
p17786
aVJust change:
p17787
aVat the end of your line to read:
p17788
aVBut you need to be careful that your data doesn't have commas in it or they'll be mis-recognized by whatever uses the CSV file (but you may have that problem with tabs already)
p17789
as(dp17790
g16
V14860
p17791
stp17792
a((dp17793
g2
(lp17794
VAside from the syntax errors:
p17795
aVwhich would stop that code from even compiling, it looks okay
p17796
aVWhat is the actual output you're getting
p17797
aVIs it wrong or is it not there
p17798
aVStep 1, fix the syntax errors then try again
p17799
aVMake sure the code you paste here is exactly the same as the code you're testing
p17800
aVWarning: If you ever want to be a decent developer, don't read below until you've spent quite a bit of time trying to fix your problems using just the suggestions above
p17801
aVMyself, I don't care either way since you're unlikely to ever compete with me, due to geographical separation, skill difference and my fast-closing-on-retirement age :-)
p17802
aVIf you're still stuck after trying that, here's my solution but I strongly suggest against using it (assuming this is homework rather than just practice) rather than fixing your own code for the following reasons:
p17803
aVyou'll be a better problem solver and developer if you learn by your mistakes
p17804
aVyour educators will certainly be watching this site and, if you hand in verbatim-copied work, you will fail
p17805
aVHere it is:
p17806
aVwhich spits out:
p17807
as(dp17808
g16
V14860
p17809
stp17810
a((dp17811
g2
(lp17812
VHow about a picture of Bart Simpson writing on a blackboard:
p17813
aVThat's likely to be as good as anything not specifically done for you by your lawyer
p17814
aVOh yeah and, when the boys in black from Fox Network (or even Matt Groening himself) come beating at your door for copyright infringement, I've never seen you before :-)
p17815
aVOn a more serious note, just install one of those pieces of software and print out its license
p17816
aVThen make sure you understand every clause in it
p17817
aVYa know, looking back, I cannot believe I actually typed out those lines above in full without using cut'n'paste
p17818
aVI must be going senile
p17819
aVMade community wiki, of course, since it's not really that helpful other than to point out you shouldn't rely on legal advice from programmers
p17820
aVI don't ask my lawyer friends about big-O notation
p17821
as(dp17822
g16
V14860
p17823
stp17824
a((dp17825
g2
(lp17826
VIt is what it is, and the huge weight of software built to that assumption means it's going to be around for a while
p17827
aVMy opinion is that it was the fault of C, and all those other Johnie-come-lately languages just conformed with it
p17828
aVYou get some funny situations from people who don't know better
p17829
aVOne of the few Y2K bugs our team found was a web site proudly proclaiming the year was 19100 simply because they prefixed the  year with the literal "19"
p17830
as(dp17831
g16
V14860
p17832
stp17833
a((dp17834
g2
(lp17835
VThe easiest way (to me) would be to simply maintain a sparse mapping array which simply changes your Unicode code points into displayable strings
p17836
aVSuch as:
p17837
aVThe use of a sparse array will allow you to efficiently represent replacements even when they in widely spaced sections of the Unicode table
p17838
aVString replacements will allow arbitrary sequences to replace your diacritics (such as the  grapheme becoming )
p17839
aVThis is a language-agnostic answer so, if you have a specific language in mind, there will be better ways (although they'll all likely come down to this at the lowest levels anyway)
p17840
as(dp17841
g16
V14860
p17842
stp17843
a((dp17844
g2
(lp17845
VThe first thing I do when I create a new database is to create and populate some basic tables
p17846
aVOne is a list of all integers between -N and N, another is a list of dates 5 years in the past through 10 years in the future and the last is a list of all hours throughout the day
p17847
aVFor example:
p17848
aVThis is for DB2/z which has automatic transaction start which is why it seems to have naked commits
p17849
aVYes, it takes up space (although not a lot) but it makes my queries much easier to write, simply by selecting values from those tables rather than trying to figure out how to do it for each DBMS
p17850
aVYour particular query would be a simple:
p17851
aVThe hour figures and date ranges are quite useful for the sort of reporting applications we work on
p17852
aVIt allows us to create zero entries for those hours of the day (or dates) which don't have any real data so that, instead of:
p17853
aVwe can instead get:
p17854
as(dp17855
g16
V14860
p17856
stp17857
a((dp17858
g2
(lp17859
VThis was actually solved in another forum, I'm copying the solution here for posterity
p17860
aVIt turns out there's a parameter called  in the  section of the DB2 parameters assembly/link job (generally db2prefix though your setup may be different) which was set to zero in our case
p17861
aVThis parameter is the  for  threads and zero means "no timeout"
p17862
aVSetting this to 180 solved our problem
p17863
aVThe threads that were holding locks were shut down if they hadn't had any activity in those three minutes
p17864
aVSetting it to less than 120 is not useful since the threads are only checked every two minutes anyway (in DB2 v9 at least)
p17865
aVYou should also set  to protect well-behaved threads (those that have released all their resource locks but are still holding the thread open)
p17866
aVKeep in mind this was okay for our particular problem since the threads were for reports
p17867
aVTheir behavior was such that the opened a session, got the data for reporting, then didn't need the session any more
p17868
aVIf you have long-running sessions, you need to be careful (although any session that holds locks for more than three minutes is suspect anyway)
p17869
aVYou should edit the  member, run the job, then either recycle the DB2 instance or execute
p17870
aVThanks to the helpful bods at IBM Australia (West Perth Lab) for nutting this out for me
p17871
as(dp17872
g16
V14860
p17873
stp17874
a((dp17875
g2
(lp17876
VI'm not sure I understand your "single line data" comment but if this is in a file, you can just do something like:
p17877
aVHere's the cut'n'paste version:
p17878
aVThis turns:
p17879
aVquite happily into:
p17880
aVThe  simply extracts the lines you want while the  commandsrespectively:
p17881
aVstrip off up to the first quote
p17882
aVreplace the section between the name and value with an "="
p17883
aVremove everything following the value closing quote (including that quote)
p17884
as(dp17885
g16
V14860
p17886
stp17887
a((dp17888
g2
(lp17889
VI'm not a big fan of running a watchdog as a thread in the process you're watching
p17890
aVThat means if the whole process hangs for some reason, the watchdog won't work
p17891
aVWatchdogs are an idea lifted from the hardware world and they had it right
p17892
aVUse an external circuit as simple as possible (so it can be provably correct)
p17893
aVTypical watchdogs simply ran an timer and, if the process hadn't done something before the timer expired (like access a memory location the watchdog was watching), the whole thing was reset
p17894
aVWhen the watchdog was "kicked", it would restart the timer
p17895
aVThe act of the process kicking the watchdog protected that process from summary termination
p17896
aVMy advice would be to write a very simple stand-alone program which just monitored an event (such as file update time being modified)
p17897
aVIf that event didn't occur within the required time, kill the process being watched (and let Windows restart it)
p17898
aVThen have your watched program periodically rewrite that file
p17899
as(dp17900
g16
V14860
p17901
stp17902
a((dp17903
g2
(lp17904
VTry the following expression instead:
p17905
aVThat will force a negative number to be positive first so that it round towards zero, then changes the result back to negative
p17906
aVThis may cause issues for the minimum integer under two's complement notation (not ones' complement or sign/magnitude) but you could put a separate check in to catch that first
p17907
aVOr (and this is probably preferable) you could just stop trying to divide by eight with a right shift altogether, instead choosing:
p17908
aVThen let your compiler choose the best way of doing that
p17909
aVYou should be coding to specify intent rather than trying to optimise (needlessly, unless you have a truly brain-dead compiler)
p17910
as(dp17911
g16
V14860
p17912
stp17913
a((dp17914
g2
(lp17915
VOne way to do it without any masking (assuming you want to truncate zero bits):
p17916
aVHere's a complete program which illustrates it
p17917
aVIf you want to truncate zero nybbles, use:
p17918
as(dp17919
g16
V14860
p17920
stp17921
a((dp17922
g2
(lp17923
VA stack is a LIFO (last in, first out - the last entry you push on to the stack is the first one you get back when you pop) data structure that is typically used to hold stack frames (bits of the stack that belong to the current function)
p17924
aVThis includes, but is not limited to:
p17925
aVthe return address
p17926
aVa place for a return value
p17927
aVpassed parameters
p17928
aVlocal variables
p17929
aVYou push items onto the stack and pop them off
p17930
aVIn a microprocessor, the stack can be used for both user data (such as local variables and passed parameters) and CPU data (such as return addresses when calling subroutines)
p17931
aVThe actual implementation of a stack depends on the microprocessor architecture
p17932
aVIt can grow up or down in memory and can move either before or after the push/pop operations
p17933
aVOperation which typically affect the stack are:
p17934
aVsubroutine calls and returns
p17935
aVinterrupt calls and returns
p17936
aVcode explicitly pushing and popping entries
p17937
aVdirect manipulation of the SP register
p17938
aVConsider the following program in my (fictional) assembly language:
p17939
aVNow let's follow the execution, describing the steps shown in the comments above:
p17940
aVThis is the starting condition where the program counter is zero and the stack pointer is 8000 (all these numbers are hexadecimal)
p17941
aVThis simply loads register r0 with the immediate value 7 and moves to the next step (I'll assume that you understand the default behavior will be to move to the next step unless otherwise specified)
p17942
aVThis pushes r0 onto the stack by reducing the stack pointer by two then storing the value of the register to that location
p17943
aVThis calls a subroutine
p17944
aVWhat would have been the program counter is pushed on to the stack in a similar fashion to r0 in the previous step and then the program counter is set to its new value
p17945
aVThis is no different to a user-level push other than the fact it's done more as a system-level thing
p17946
aVThis loads r1 from a memory location calculated from the stack pointer - it shows a way to pass parameters to functions
p17947
aVThe return statement extracts the value from where the stack pointer points and loads it into the program counter, adjusting the stack pointer up at the same time
p17948
aVThis is like a system-level pop (see next step)
p17949
aVPopping r0 off the stack involves extracting the value from where the stack pointer points then adjusting that stack pointer up
p17950
aVHalt instruction simply leaves program counter where it is, an infinite loop of sorts
p17951
aVHopefully from that description, it will become clear
p17952
aVBottom line is: a stack is useful for storing state in a LIFO way and this is generally ideal for the way most microprocessors do subroutine calls
p17953
aVUnless you're a SPARC of course, in which case you use a circular buffer for your stack :-)
p17954
aVUpdate: Just to clarify the steps taken when pushing and popping values in the above example (whether explicitly or by call/return), see the following examples:
p17955
as(dp17956
g16
V14860
p17957
stp17958
a((dp17959
g2
(lp17960
VRegarding your statement:
p17961
aVThe C standard guarantees that  is a type that can hold any array index
p17962
aVThis means that, logically,  should be able to hold any pointer type
p17963
aVThis is called a fallacy, a misconception resulting from incorrect reasoning
p17964
aVYou may think the latter follows from the former but that's not necessarily so
p17965
aVPointers and array indexes are not the same thing
p17966
aVIt's quite plausible to envisage a conforming implementation that limits arrays to 65536 elements but allows pointers to address any value into a massive 128-bit address space
p17967
aVC99 states that the upper limit of a  variable is defined by  and this can be as low as 65535 (see C99 TR3, 7
p17968
aV18
p17969
aV3, unchanged in C11)
p17970
aVPointers would be fairly limited if they were restricted to this range in modern systems
p17971
aVIn practice, you'll probably find that your assumption holds, but that's not because the standard guarantees it
p17972
aVBecause it actually doesn't guarantee it
p17973
as(dp17974
g16
V14860
p17975
stp17976
a((dp17977
g2
(lp17978
VWhen you run a shell script, it's done in a sub-shell so it cannot affect the parent shell's environment
p17979
aVYou want to source the script by doing:
p17980
aVThis executes it in the context of the current shell, not as a sub shell
p17981
aVFrom the bash man page:
p17982
as(dp17983
g16
V14860
p17984
stp17985
a((dp17986
g2
(lp17987
VWhat's wrong with opening the  file and just reading the contents
p17988
as(dp17989
g16
V14860
p17990
stp17991
a((dp17992
g2
(lp17993
VWell, for a start, there was none of that function prototype rubbish
p17994
aVwas declared thus:
p17995
aVAnd there was none of that fancy double-slash comments either
p17996
aVNor enumerations
p17997
aVReal men used
p17998
aVAah, brings a tear to my eyes, remembering the good old days :-)
p17999
as(dp18000
g16
V14860
p18001
stp18002
a((dp18003
g2
(lp18004
VWhy are you asking instead of testing
p18005
aVBreak it down
p18006
aVWhat do you get from the following
p18007
aVSee that line
p18008
aVDoes that look right to you
p18009
aVBy my calculations,  should give you 2 which, when ed with , would still be 2
p18010
aVIf you try out the following, you'll see that  is not giving integer results:
p18011
as(dp18012
g16
V14860
p18013
stp18014
a((dp18015
g2
(lp18016
VFrom here:
p18017
aVNote that the effectiveness of aligned attributes may be limited by inherent limitations in your linker
p18018
aVOn many systems, the linker is only able to arrange for variables to be aligned up to a certain maximum alignment
p18019
aV(For some linkers, the maximum supported alignment may be very very small
p18020
aVIf your linker is only able to align variables up to a maximum of 8 byte alignment, then specifying aligned(16) in an __attribute__ will still only provide you with 8 byte alignment
p18021
aVSee your linker documentation for further information
p18022
aVI know why the assert isn't happening, it's because the expression is true - not sure exactly why the expression is true, but you should break it down in cases like this
p18023
aVAdd these to your debug statements:
p18024
aVand show us the results
p18025
aVAlso check which gcc version you're running - 4
p18026
ag6296
aV1 and earlier appear to have a problem with alignment
p18027
aVCygwin appears to have both gcc3 and gcc4 packages, assuming that's what you're using - if not, still check the version
p18028
aVUpdate 1: Actually I think @Falaina has nailed it in a comment below
p18029
aVHere's a plausible explanation
p18030
aVGCC is figuring out from the source code that input is indeed (supposed to be) aligned to 16 bytes
p18031
aVIt's smart enough to the drop the asserts altogether and to just print out 1 for the printf's
p18032
aVHowever, at the link stage, the linker (not as capable as GCC) is not able to guarantee alignment to 16 bytes, instead opting for 8 (see my quote above)
p18033
aVBy then it's too late to get the asserts and non-optimized printfs back into the code
p18034
aVSo the actual executable will not assert (since they've been taken out) and it will print the optimized 1 rather than calculating it an runtime
p18035
aVThe reason the volatile fixes it in @pmg's answer is because GCC will not optimize the expressions that contain volatile components
p18036
aVIt leaves the asserts in and calculates the print arguments at runtime properly
p18037
aVIf this turns out to be the case, this is without a doubt one of the more devious problems I've seen
p18038
aVI hesitate to call it a bug since both gcc and ld are acting as advertised - it's the combination of factors that are screwing things up
p18039
as(dp18040
g16
V14860
p18041
stp18042
a((dp18043
g2
(lp18044
VYou should probably print it out as either a pointer or hex value:
p18045
aVThis will give you a hex number of up to 8 digits (for your 32-bit address space)
p18046
aVA 32-bit number ranges from 16 through 16 ( through  in decimal) so it could be up to 10 decimal digits
p18047
aVThe reason you're only getting a 7-digit base-10 number is because your variable is nowhere near the top of the address space
p18048
as(dp18049
g16
V14860
p18050
stp18051
a((dp18052
g2
(lp18053
VSince  will be declared something like:
p18054
aVyou need to get at the underlying fields:
p18055
as(dp18056
g16
V14860
p18057
stp18058
a((dp18059
g2
(lp18060
VThat because you're assigning a  (character pointer) to your integer
p18061
aVPerhaps you meant this instead:
p18062
aVThe character pointer  can be put anywhere in memory the compiler/linker/loader desires (and it can change each time)
p18063
aVYou then get that memory address stored in  (with possible loss of precision if your pointer data types have more bits than your integers)
p18064
aVHowever the character  will always be the same value (assuming you're using the same underlying character set - obviously it will be different if you compile it on an EBCDIC platform like System z USS)
p18065
as(dp18066
g16
V14860
p18067
stp18068
a((dp18069
g2
(lp18070
VYou're only checking one of the possibilities and, on top of that, you're checking it wrongly since you'll return false if a + b == c (because you're using the  operator)
p18071
aVI'm not going to do you homework for you, but the full list of possibilities is:
p18072
aVIt should be a simple matter: the result should be true if any of those is true
p18073
aVOtherwise the result should be false
p18074
aVOr, to provide even a more obvious clue: it should be true if one or more of those conditions are met
p18075
aVElse it should be false
p18076
aVI don't know how much more obvious I can make it without writing the code for you :-)
p18077
aVUpdate: And now that more than enough time has probably elapsed to make the homework point moot, here's my solution:
p18078
aVAlthough those last two lines could be replaced with:
p18079
aVI prefer the (to me, anyway) more readable version
p18080
as(dp18081
g16
V14860
p18082
stp18083
a((dp18084
g2
(lp18085
VBack in the early days of the personal computer revolution, some bright spark came up with a program called "The Last One"
p18086
aVAt that point, it was said that there would soon be no more use for programmers since any business person and their dog would soon be able to write their own applications without programming
p18087
aVThen they released "The Last One", version 2, and we all got a good chuckle, knowing that our jobs were still safe
p18088
aVThere are plenty of tools around that let non-tech types "program" (I tremble sometimes when I think of all the Excel spreadsheets being used to run businesses)
p18089
aVThey'll never match what can be achieved with a real understanding of what goes on under the covers
p18090
as(dp18091
g16
V14860
p18092
stp18093
a((dp18094
g2
(lp18095
VYou need to have some way of assigning sequence numbers to the rows
p18096
aVConsider the following table:
p18097
aVcreated with:
p18098
aVYou can then execute:
p18099
aVwhich will give you:
p18100
as(dp18101
g16
V14860
p18102
stp18103
a((dp18104
g2
(lp18105
V is a -ism rather than a -ism, which is why it's not working
p18106
aVGiven that you seem to be on a UNIX-type system, probably the easiest solution is to use the  environment variable, such as:
p18107
aVAnd yes, I know the user can change their  environment variable but then I would assume they know what they're doing
p18108
aVIf not, they deserve everything they get :-)
p18109
aVIf you want to do it the right way, you can look into File::HomeDir, which is a lot more platform-savvy
p18110
aVYou can see it in action in the following script :
p18111
aVand transcript:
p18112
aVpax$ touch ~/foo
p18113
aVtxt ; perl chkfile
p18114
aVpl
p18115
aVYes, it exists
p18116
aVpax$ rm -rf ~/foo
p18117
aVtxt ; perl chkfile
p18118
aVpl
p18119
aVNo, it doesn't
p18120
as(dp18121
g16
V14860
p18122
stp18123
a((dp18124
g2
(lp18125
VYes, it does:
p18126
aVEven with other variables:
p18127
as(dp18128
g16
V14860
p18129
stp18130
a((dp18131
g2
(lp18132
VThe UDP checksum is performed over the entire payload, and the other fields in the header, and some fields from the IP header
p18133
aVA pseudo-header is constructed from the IP header in order to perform the calculation (which is done over this pseudo-header, the UDP header and the payload)
p18134
aVThe reason the pseudo-header is included is to catch packets that have been routed to the wrong IP address
p18135
aVBasically, at the receiving end, all the 16-bit words of the headers plus data area are added together (wrapping at 16 bits) and the result is checked against
p18136
aVOn the sending side, it's a little more complex
p18137
aVA one's complement sum is performed on all the 16-bit values then the one's complement (i
p18138
ag75
aV, invert all bits) is taken of that value to populate the checksum field
p18139
aVUnlike my earlier answer (which was wrong, and thanks to Jim Hunziker for setting me straight), the one's complement sum is not just the sum of all the one's complement values
p18140
aVIt's a little more complex
p18141
aVBasically, you have a running 16-bit accumulator starting at zero and you add every 16-bit value to that
p18142
aVWhenever one of those additions results in a carry, the value is wrapped around and you add one to the value again
p18143
aVThis effectively takes the carry bit of the 16-bit addition and adds it to the value
p18144
aVAs an aside, and this is pure conjecture on my part but this could probably be efficiently done by use of the  (add with carry) instruction rather than  (surprisingly enough, add), or whatever equivalent instructions were available on your CPU at the time
p18145
aVIf there were no carry,  would just add the zero bit from the carry
p18146
aVIn the days when this stuff was done (and yes, unfortunately, I am that old), memory was far more of a constraint than speed, not so much the case nowadays, so saving a few bytes in your code could well elevate you to the level of demi-god-emperor-of-the-universe :-)
p18147
aVNote that you never had to worry about carry the second time around (or a carry of two with the next  if you're using that method mentioned in the previous paragraph) since the two largest 16-bit values, when summed, produce (truncated from )  - adding one to that will never cause another carry
p18148
aVOnce the calculated one's complement sum is calculated, has its bits inverted and is inserted into the packet, that will cause the calculation at the receiving end to produce , assuming no errors in transmission of course
p18149
aVIt's worth noting that the payload is always padded to ensure there's an integral number of 16-bit words
p18150
aVIf it was padded, the length field tells you the actual length
p18151
aVRFC768 is the specification which details this
p18152
as(dp18153
g16
V14860
p18154
stp18155
a((dp18156
g2
(lp18157
VThe following code may be what you're looking for
p18158
aVHopefully you won't need too much of a description given the comments but, if you have questions, feel free to ask
p18159
aVIt basically uses an  loop to read each line in and  to separate that line into fields
p18160
aVIt constructs a linked list of integer arrays which contain the actual data - you can see the use of that linked list in the code at the end that dumps out the table
p18161
aVIt also has a means by which it can handle arbitrary-sized lines in the input file without buffer overflow (subject to memory constraints of course)
p18162
aVKeep in mind that the  only expects one space between each field on the line although that could be recoded to handle multiple spaces or even any amount of white space
p18163
aVI've kept that bit simple since the code was already getting a little big :-)
p18164
aVThe  function is used to convert the individual word on each line into integers
p18165
aVIf you want error checking on those, I'd call your own variant which also checks that all characters in the word are numeric
p18166
aVUsing your input file of:
p18167
aVit produces output along the lines of:
p18168
aVHere's the code that produced that output:
p18169
ag5385
ag5385
ag5385
ag5385
as(dp18170
g16
V14860
p18171
stp18172
a((dp18173
g2
(lp18174
VSee my answer to your other question here
p18175
aVIt's a relatively simple matter to replace the  section to recognize non-numeric words and neither increment the count (in the first pass) nor load them into the array (in the second pass)
p18176
aVThe code has changed as follows:
p18177
aVUsing an input file of:
p18178
aVit produces output along the lines of:
p18179
aVHere's the code that produced that output:
p18180
ag5385
ag5385
ag5385
ag5385
ag5385
as(dp18181
g16
V14860
p18182
stp18183
a((dp18184
g2
(lp18185
VIf your string is unique (and will always be unique), then it's fine to have that as the only column and primary key
p18186
aVThe only reason I would use a separate ID is if either
p18187
aVit will become non-unique at some point in the future; or
p18188
aVif it's a large string and you want another table column to reference it (foreign key)
p18189
aVI would apply the YAGNI principle to both those situations and worry about it when it happens
p18190
aVAs an aside, with database applications, it's better not to "check that it doesn't already exist before saving it"
p18191
aVI tend to just attempt to save it and catch the error if it alredy exists
p18192
aVSince it's a primary key (or unique constraint), that will work
p18193
aVChecking for existence then inserting often leads to race conditions
p18194
as(dp18195
g16
V14860
p18196
stp18197
a((dp18198
g2
(lp18199
VRegexes (other than  relatively simple ones) and readability rarely go hand-in-hand
p18200
aVDon't misunderstand me, I love them for the simplicity they usually bring, but they're not fit for all purposes
p18201
aVIf you want readability, just create an array of possible values and iterate through them, checking your field against them to see if there's a match
p18202
aVUnless you're doing gene sequencing, the speed difference shouldn't matter
p18203
aVAnd it will be a lot easier to add a new one when you discover it
p18204
aVAdding an element to an array is substantially easier than reverse-engineering a regex
p18205
as(dp18206
g16
V14860
p18207
stp18208
a((dp18209
g2
(lp18210
VThis is a relatively common request and it's sometimes implemented for (at least) two reasons:
p18211
aVAuditing and history - Marking a row as deleted rather than physically deleting it means the information is still available if needed (including recovery of information if, for example, you accidentally delete the wrong customer)
p18212
aVPerformance - I've seen systems that batch up deletes with this method so they can be performed physically at a quiet time
p18213
aVI'm doubtful this is needed with modern DBMS' but I can see how it might have been so in the past if you wanted to avoid cascaded deletes on severely overloaded systems (of course, you shouldn't be running on such a system in the first place)
p18214
aVOracle 8 introduced a feature like this where you could drop columns in this manner and it would only physically remove them when you asked - you couldn't use the column at all even though the information had not yet been removed fully
p18215
aVGranted removal of a column is more intensive than removal of a row but it may still help
p18216
as(dp18217
g16
V14860
p18218
stp18219
a((dp18220
g2
(lp18221
VGet yourself a copy of Cygwin and train yourself up on , , ,  and their brethren
p18222
aVThe Windows cmd language has come a long way since the brain-dead days of MSDOS 3
p18223
aV3 but it's still not a wart on the rear end of the UNIX tools
p18224
aVCygwin gives you all those tools and more
p18225
aVA way of doing your specific task (if I understand it correctly) is to change:
p18226
aVThe following command shows how to use  to acheive that:
p18227
aVThat's formatted for readability - I would tend to do it all on one line and get my input from a file rather than echoing it, but this is just for demo purposes
p18228
aVIf you want something a little more lightweight (in terms of what you have to install - it's still very powerrful), GnuWin32 can give you individual packagaes
p18229
aVJust install  or whatever you need
p18230
as(dp18231
g16
V14860
p18232
stp18233
a((dp18234
g2
(lp18235
VThe best way to get the connection out of TIME_WAIT is (surprisingly) to wait :-)
p18236
aVThat's how TCP/IP works
p18237
aVA session is identified by the tuple  and the reason why you can't re-use it is because there may be packets for it still out in the network somewhere
p18238
aVTIME_WAIT state is generally twice the maximum packet lifetme and you should not be fiddling with it since that may cause packets to show up from the previous session (which will screw up your current session)
p18239
aVIdeally, you should connect from a different source port, then you will be able to open the session immediately
p18240
aVAnother thing you should watch out for is badly closed sessions
p18241
aVI've always subscribed to the guideline that the client should shut down the session (and shut it down cleanly)
p18242
aVThis minimizes the possiblity for long-lived half-closed sessions hanging around
p18243
as(dp18244
g16
V14860
p18245
stp18246
a((dp18247
g2
(lp18248
VThe following works fine for me:
p18249
aVand gives:
p18250
aVThis is using Cygwin under XP
p18251
aVWhat platform and compiler are you using
p18252
aVUpdate: One possibility is that, because you're running from within the Eclipse environment, it may be doing some weird stuff that interferes with the normal I/O rules
p18253
aVI'm pretty certain that stdout, even if it's not line buffered like stderr, will autoflush if you attempt to read from stdin (at least in most environments I've used, which is a few)
p18254
aVEclipse may be fiddling around with the way it attaches the console to the program's actual I/O
p18255
aVI would try to compile the code to a standalone executable and then run it outside the Eclipse environment
p18256
aVIf it runs fine there, then it's probably the interaction between Eclipse and the program
p18257
aVAs I stated, your program works fine under XP with Cygwin, even without the flushes
p18258
aVFurther explanation is warranted
p18259
aVAs Jerry Coffin rightly points out in a comment, the C standard (c1x, 2009/03/01 draft) states:
p18260
ag630
ag2193
ag2836
aV1 para 6: The input and output dynamics of interactive devices shall take place as specified in 7
p18261
aV19
p18262
ag6296
aVThe intent of these requirements is that unbuffered or line-buffered output appear as soon as possible, to ensure that prompting messages actually appear prior to a program waiting for input
p18263
ag630
ag2193
ag2836
aV1 para 7: What constitutes an interactive device is implementation-defined
p18264
ag6293
aV9
p18265
aV13 para 3: When a stream is unbuffered, characters are intended to appear from the source or at the destination as soon as possible
p18266
aVOtherwise characters may be accumulated and transmitted to or from the host environment as a block
p18267
aVWhen a stream is fully buffered, characters are intended to be transmitted to or from the host environment as a block when a buffer is filled
p18268
aVWhen a stream is line buffered, characters are intended to be transmitted to or from the host environment as a block when a new-line character is encountered
p18269
ag6293
ag18265
aV13 para 7: At program startup, three text streams are predefined and need not be opened explicitly - standard input (for reading conventional input), standard output (for writing conventional output), and standard error (for writing diagnostic output)
p18270
aVAs initially opened, the standard error stream is not fully buffered; the standard input and standard output streams are fully buffered if and only if the stream can be determined not to refer to an interactive device
p18271
aVWhat may be happening is that the way Eclipse interacts with the programs input and output may be causing the program to not recognize stdout as an interactive device
p18272
aVIt would then be fully buffered, meaning that you wouldn't see the output until the buffer is full, or the program terminates
p18273
as(dp18274
g16
V14860
p18275
stp18276
a((dp18277
g2
(lp18278
VI would put another integer at the top to represent the number of bills for the current denomination:
p18279
aVthen replace each section (except the $1 section) with:
p18280
aVYou can do it with modulo operators with less lines of code but the above code is what the suggestion from  the book is pointing you toward
p18281
aVTry to work it out using just the information above, if possible (it'll make you a better programmer)
p18282
aVIf you still can't do it, here's my full solution
p18283
as(dp18284
g16
V14860
p18285
stp18286
a((dp18287
g2
(lp18288
VThe following will do it if, as I assume by your use of , you're on a UNIX-type platform
p18289
aVTest as follows:
p18290
aVproduces:
p18291
aVFor bigger ranges, use:
p18292
aVThis outputs 1 through 10 inclusive, just change the  terminating condition from 10 to 1000 for a much larger range as indicated in your comment
p18293
aVNested loops can be done thus:
p18294
aVproducing:
p18295
as(dp18296
g16
V14860
p18297
stp18298
a((dp18299
g2
(lp18300
VThis is possible in standard SQL if you use what I like to call "SQL gymnastics"
p18301
aVIt can be done with subqueries
p18302
aVBut it looks incredibly ugly, is hard to maintain and it's really not worth it
p18303
aVYou're far better off using one of the many programming languages that wrap SQL (such as PL/SQL) or even a general purpose language that can call SQL (such as Python)
p18304
aVThe result will be in two languages but will be all the more understandable than the same thing written in just SQL
p18305
as(dp18306
g16
V14860
p18307
stp18308
a((dp18309
g2
(lp18310
VThat's the escape sequence generated by that key
p18311
aVis  (the  character), and the other two characters are  and
p18312
aVIf you want to process them, you'll need to read all three characters and decide that they mean the user pressed the up-arrow key
p18313
aVWhether or not you can do this with your  depends on the format string
p18314
aVI would be using a lower level of character input for this
p18315
aVI never use  in real code since failure results in you not knowing where the input pointer is located
p18316
aVFor line-based input, I find it's always better to use  and then  the string retrieved
p18317
aVBut, as I said, you should be using  and its brethren for low-level character I/O
p18318
aVOr find a higher level function such as  under Linux, or other libraries that know to convert it into special keycodes such as  that you can process
p18319
as(dp18320
g16
V14860
p18321
stp18322
a((dp18323
g2
(lp18324
VWhy on Earth do you think they don't have bugs
p18325
aVIBM has a vast support infrastructure for bug reporting and resolution (PMRs, APARs and PTFs), which is heavily used
p18326
aVMainframe software which hasn't been touched for many years will certainly be well understood (at least in terms of its idiosyncrasies) and will likely have had many bugs either fixed or worked around
p18327
aVAll of the new stuff being developed nowadays actually plans for a certain number of bugs and patches from GA (general availability) to at least GA + 36 months
p18328
aVIn fact, an ex-boss of mine at IBM used to baulk at being forced to provide figures for planned bugs with the line: "We're not planning to have any bugs"
p18329
aVThe mainframe espouses RAS principles (reliability, availability and serviceability) beyond what most desktop hardware and software could ever aspire to - that's only my opinion of course, but I'm right :-)
p18330
aVThat's because IBM knows all too well that the cost of fixing bugs increases a great deal as you move through the development cycle - it's a lot cheaper to fix a bug in unit testing than it is to fix one in production, in terms of both money and reputation
p18331
aVThere's a great deal of effort and cost expended on only releasing bug-free software but even they don't get it right all the time
p18332
as(dp18333
g16
V14860
p18334
stp18335
a((dp18336
g2
(lp18337
VIf you're talking about an up-to-date timestamp on each line, that's something you'd probably want to do in your actual script (but see below for a nifty solution if you have no power to change it)
p18338
aVIf you just want a marker date on its own line before your script starts writing, I'd use:
p18339
aVWhat you need is a trick to pipe stderr through another program that can add timestamps to each line
p18340
aVYou could do this with a C program but there's a far more devious way using just
p18341
aVFirst, create a script which will add the timestamp to each line (called ):
p18342
aVFor example:
p18343
aVproduces:
p18344
aVThen you need another trick that can swap stdout and stderr, this little monstrosity here:
p18345
aVThen it's simple to combine the two tricks by timestamping  and redirecting it to your file:
p18346
aVThe following transcript shows this in action:
p18347
aVAs already mentioned,  will prefix each line with a timestamp and the  is simply a test program to write to  and  with specific time gaps
p18348
aVWhen you run the command, you actually get  written to stderr (but that's your TTY device or whatever else  may have been when you started)
p18349
aVThe timestamped  lines are written to your desired file
p18350
as(dp18351
g16
V14860
p18352
stp18353
a((dp18354
g2
(lp18355
VYou can use the following trick to swap  and
p18356
aVThen you just use the regular pipe functionality
p18357
aVProvided  and  both pointed to the same place at the start, this will give you what you need
p18358
aVWhat it does:
p18359
aVcreates a new file handle  which is set to the current  (original stdout) just to save it somewhere
p18360
aVsets stdout to got to the current file handle  (original stderr) then closes
p18361
aVsets stderr to got to the current file handle  (original stdout) then closes
p18362
aVIt's effectively the swap command you see in sorting:
p18363
as(dp18364
g16
V14860
p18365
stp18366
a((dp18367
g2
(lp18368
VI think it would be better to use cursors myself so that you're only actually executing one query
p18369
aVYou're probably not using mainframe DB2 but the LUW (Linux/Unix/Windows) version may also have the functionality to time out "badly-behaved" sessions (those that hold resource locks without activity), which would prevent orphaned cursors from accumulating
p18370
aVIn DB2/z, you would set IDTHTOIN to the number of seconds you wanted to use as a timeout, and COMTSTAT=INACTIVE to protect resource-holding threads that were showing some activity
p18371
aVBut, as I said, you're probably using the LUW version and I have no idea if that variant has similar functionality (I'd be surprised if it didn't)
p18372
aVIf you have a unique ID you can use for each record displayed, you can simply remember the ID for the last in your current list then, instead of:
p18373
aVuse:
p18374
aVThis would at least reduce the traffic being sent across the wire
p18375
as(dp18376
g16
V14860
p18377
stp18378
a((dp18379
g2
(lp18380
VThere's a good description here of the various CSIDL values and the folders that refer to them (including a description which should hopefully tell you what you need to know)
p18381
aVIt also contains links to the functions you should use to retrieve these special folder paths
p18382
aVNote that, as of Vista, the method has changed a little
p18383
aVIt now uses  instead of  and the functions have changed as well
p18384
aVSee here
p18385
aVYou can still use the older functions (at the moment) since I believe they're now just wrappers around the new ones
p18386
aVAt some point in the future, that may change
p18387
as(dp18388
g16
V14860
p18389
stp18390
a((dp18391
g2
(lp18392
VAssuming you mean the Windows  interpreter (I'd be surprised if you really were still using DOS), the following script will do what you want:
p18393
aVWith an input file of  as:
p18394
aVthis will output:
p18395
aVThis will still process all the lines, it just won't print those beyond line 1
p18396
aVIf you want to actually stop processing, use something like:
p18397
aVOr you could just go get your hands on Cygwin or GnuWin32 and use the  program
p18398
aVThat's what I'd do
p18399
aVBut, if that's not an option (some workplaces don't allow it), you can create a similar cmd file in Windows itself as follows ():
p18400
as(dp18401
g16
V14860
p18402
stp18403
a((dp18404
g2
(lp18405
VWithout seeing some of your code, it's very difficult to offer targeted assistance
p18406
aVHowever, that error message usually comes about because the item you're de-referencing is not a pointer
p18407
aVCheck to ensure it's of the correct type
p18408
aVIt should be something along the lines of:
p18409
aVOne possibility is that you've declared it not as a pointer to the checkbox but as a checkbox itself:
p18410
aVNote the lack of the asterisk there that would otherwise mark it as a pointer
p18411
aVIn that case, you would use  rather than , if it's allowed by the framework (this isn't standard C++ since that beast has no concept of GUI libraries)
p18412
aVIf that doesn't help, please post the code so we can offer better suggestions
p18413
aVUpdate:
p18414
aV1001 is not a pointer - it's not a variable of any description, it's an integer constant
p18415
aVYou need to declare and use a variable of some description
p18416
aVFirst step is, I think, to read up on the documentation for your framework and/or get some sample code that does compile and work, basing your initial work of that
p18417
as(dp18418
g16
V14860
p18419
stp18420
a((dp18421
g2
(lp18422
VBased on the lengths, I'd say you're getting the input string as:
p18423
aVwhere  and  are ASCII codes 0x13 and 0x10 respectively
p18424
aVWhen you chomp it, it removes the  but leaves the  there
p18425
aVIt's almost certainly an interaction issue between Eclipse, Cygwin and Windows, disagreeing on what the end-of-line character sequence should be
p18426
aVI couldn't replicate your problem with just Perl/Cygwin or Perl/Windows but this command gives similar results (in Cygwin):
p18427
aV( is your script and  is the actual CTRL-M)
p18428
aVHere's the output in text form:
p18429
aVand octal dump:
p18430
aVSo I'd say that your input is putting on both  and , and the print is translating  to  (or just doing the same thing for both of them)
p18431
aVIf you need a workaround for your environment, you can replace your  line with:
p18432
aVas in:
p18433
aVwhich works on Cygwin for the test data I used (check it for your own situation, of course), but you may find you can solve it better by using tools that all agree on the line end sequence (eg, Perl for Windows rather than the Cygwin one may do the trick for you)
p18434
as(dp18435
g16
V14860
p18436
stp18437
a((dp18438
g2
(lp18439
VMost implementations of C memory allocation functions will store accounting information for each block, either inline or separately
p18440
aVOne typical way (inline) is to actually allocate both a header and the memory you asked for, padded out to some minimum size
p18441
aVSo for example, if you asked for 20 bytes, the system may allocate a 48-byte block:
p18442
aV16-byte header containing size, special marker, checksum, pointers to next/previous block and so on
p18443
aV32 bytes data area (your 20 bytes padded out to a multiple of 16)
p18444
aVThe address then given to you is the address of the data area
p18445
aVThen, when you free the block,  will simply take the address you give it and, assuming you haven't stuffed up that address or the memory around it, check the accounting information immediately before it
p18446
aVKeep in mind the size of the header and the padding are totally implementation defined (actually, the entire thing is implementation-defined (a) but the inline-accounting-info option is a common one)
p18447
aVThe checksums and special markers that exist in the accounting information are often the cause of errors like "Memory arena corrupted" if you overwrite them
p18448
aVThe padding (to make allocation more efficient) is why you can sometimes write a little bit beyond the end of your requested space without causing problems (still, don't do that, it's undefined behaviour and, just because it works sometimes, doesn't mean it's okay to do it)
p18449
aV(a) I've written implementations of  in embedded systems where you got 128 bytes no matter what you asked for (that was the size of the largest structure in the system) and a simple non-inline bit-mask was used to decide whether a 128-byte chunk was allocated or not
p18450
aVOthers I've developed had different pools for 16-byte chunks, 64-bytes chunks, 256-byte chunks and 1K chunks, again using a bitmask to reduce the overhead of the accounting information and to increase the speed of  and  (no need to coalesce adjacent free blocks), particularly important in the environment we were working in
p18451
as(dp18452
g16
V14860
p18453
stp18454
a((dp18455
g2
(lp18456
VNowadays, you tend to have environments in which you develop code
p18457
aVIn other words, you get an IDE (integrated development environment) which is comprised of an editor, compiler, linker, debugger and many other wonderous tools (code analysis, refactoring and so forth)
p18458
aVYou never have to type in a command at all, preferring instead a key sequence like CTRLF5 which will build your entire project for you
p18459
aVNot so in earlier days
p18460
aVWe had to memorize all sorts of arcane commands to get our source code transformed into executables
p18461
aVSuch beautiful constructs as:
p18462
aVSimple, no
p18463
aVIt was actually a great leap forward when we started using makefiles since we could hide all those arcane commands in a complex file and simply execute  from the command line
p18464
aVIt would go away and perform all those commands for us, and only on files that needed it
p18465
aVOf course, there's still a need for command-line compilers in today's world
p18466
aVThe ability to run things like Eclipse in "headless" mode (no GUI) allow you to compile all your stuff in a batch way, without having to interact with the GUI itself
p18467
aVIn addition, both Borland (or whatever they're calling themselves this week) and Microsoft also provide command-line compilers for no cost (Microsoft also have their Express editions for free as well)
p18468
aVAnd  is also a command-line compiler
p18469
aVIt does its one job very well and leaves it up to other applications to add a front end, if people need that sort of thing
p18470
aVDon't get me wrong
p18471
aVI think the whole IDE thing is a wonderful idea for a quick code/debug cycle but I find that, once my applications have reached a certain level of maturity, I tend to prefer them in a form where I can edit the code with  and just run  to produce the end product
p18472
as(dp18473
g16
V14860
p18474
stp18475
a((dp18476
g2
(lp18477
VWhen you find yourself building an "extremely complex SQL statement", it's usually best to step back and rethink
p18478
aVRemember this - the vast majority of operations performed on database table are selects, not inserts or updates (though there are exceptions to every rule, of course)
p18479
aVThe right time to be "spending" CPU cycles calculating things like author lists is when the list changes, not when you just want to extract the information
p18480
aVAdd another column to the book table called author_list and then create an insert/update trigger on authors so that this column is rebuilt whenever an author is changed for the specific ISBN
p18481
aVThat puts the cost where it should be and will make your query a lot simpler
p18482
aVThe trigger ensures the data stays consistent, and it's okay to break 3NF if you know what you're doing
p18483
aVAs to the subcategory, the  statement can be your friend, but per-row functions on select never scale well
p18484
aVI would just create a set of rows in subcategories with the id of 0 (one for each category) and make its name blank
p18485
aVThen it can be done with a simple join without having to concern yourself with performance
p18486
aVThis could also be don with a trigger on category so every category will always have a subcategory of 0
p18487
aVWith those two changes, the query becomes a lot less complex, something along the lines of:
p18488
aVThis query should scream along since it's using just the basic levels of relational algebra (i
p18489
ag75
aV, no per-row functions (including case statements), no subqueries)
p18490
aVAnd that's an "old-school" query, you may get even more performance by using explicit rather than implicit JOINs
p18491
aVOne final point: a properly 3NF schema would not have the ISBN in the authors table - a better option would be to have a separate BookAuthor table holding the ISBN and author_id to properly model the many-to-many relationship
p18492
aVBut you may have aleready changed that for performance (I don't know)
p18493
as(dp18494
g16
V14860
p18495
stp18496
a((dp18497
g2
(lp18498
VGiven the following input file:
p18499
aVthis little snippet:
p18500
aVproduces the following, which is what I think you were after:
p18501
aVIt basically works by remembering the last line read and, when it finds the pattern, it outputs it and the pattern line
p18502
aVThen it continues to output pattern lines plus one more (with the  variable)
p18503
aVThere's also a little bit of trickery in there to ensure no line is printed twice
p18504
as(dp18505
g16
V14860
p18506
stp18507
a((dp18508
g2
(lp18509
VI haven't seen the code base but I assume it would be something like (pseudocode since I know as much about PHP as I do about the mating habits of white rhinos):
p18510
aVAdjust the value passed in and the denominators if you want a finer resolution than a single day (and allow for  instead of ) and you're good to go
p18511
aVI wouldn't worry too much about the inaccuracies of the division (e
p18512
ag1775
aV, the average month has about 30
p18513
aV44 days) since it's only supposed to be an approximation
p18514
as(dp18515
g16
V14860
p18516
stp18517
a((dp18518
g2
(lp18519
VYes, that would be slow, even with a
p18520
aVMy question is: why are you trying to create a string 46 exabytes in size
p18521
aVAt some point, a more conventional external-storage (i
p18522
ag75
aV, on-disk)  method becomes a good idea but you seem to have passed even that point (based on the disk arrays in common use today)
p18523
aVI don't generally have this problem since I tend not to use strings for storing such huge things
p18524
aVString are generally meant for somewhat smaller objects
p18525
aVWhat you have there is a sizable data warehouse, not a name or address field :-)
p18526
as(dp18527
g16
V14860
p18528
stp18529
a((dp18530
g2
(lp18531
VMeasure, don't guess
p18532
aVSome DBMS' will run explicit joins faster than implicit ones but it depends entirely upon the DBMS itself (the one I use is smart enough to do both at full speed)
p18533
aVThere's a reason why we have DBAs
p18534
aVThey're meant to monitor and tune the performance of the database based on reality, not some (mis-)conception as to how things might perform
p18535
aVThat's because the performance changes based on the data in the tables
p18536
aVSo, you should not be worrying about how fast those two queries perform, until there's a performance problem
p18537
aVUse your best guess (with indexes and such) but keep an eye on what the actual performance is, in production, and adjust for that
p18538
aVSee also here
p18539
as(dp18540
g16
V14860
p18541
stp18542
a((dp18543
g2
(lp18544
VYou don't actually need the RoleReportId
p18545
aVIt adds nothing to the relationship
p18546
aVMany people try to avoid using a naturally-unique key in real tables, instead opting for an artificially unique one, but I don't always agree with that
p18547
aVFor example, if you can be sure that your SSN will never change, you can use that as a key
p18548
aVIf it somehow does change in the future, you can fix it then
p18549
aVBut I don't intend arguing that point, there's good arguments on both sides
p18550
aVHowever, you certainly don't need an artificially unique key in this case since both your other fields are, and will remain, unique
p18551
as(dp18552
g16
V14860
p18553
stp18554
a((dp18555
g2
(lp18556
VI've found (from many years of bad experiences) that it's best to store dates and times as UTC and only convert them to local time when a user wants to view them
p18557
aVIn addition, let a user enter local times but convert them to UTC before storing
p18558
aVThis will save you all sorts of problems down the track, including trying to figure out what's going on when your applications are distributed across multiple time zones
p18559
aVIf you only get and store UTC times, then DST doesn't matter
p18560
aVOne particularly nasty application we inherited sent messages with a local time with a timezone across timezones, requiring a great deal of energy to be expended on modifying these frequently
p18561
aVWhen we modified it to only use UTC, it was much better
p18562
aVConversion to UTC at one end was done as early as possible, conversion to local time was deferred until the last possible instant
p18563
aVThe code got a lot smaller and a lot faster
p18564
as(dp18565
g16
V14860
p18566
stp18567
a((dp18568
g2
(lp18569
VThe following script shows a way to do this with functions
p18570
aVYou can either put the  and  functions in your script or have them in a separate file which is sourced from your script with:
p18571
aVIt has the advantage that you can maintain multiple groups of processes independently (you can run, for example, one group with a limit of 10 and another totally separate group with a limit of 3)
p18572
aVIt used the  built-in, , to get a list of sub-processes but maintains them in individual variables
p18573
aVIn the loop at the bottom, you can see how to call the  function:
p18574
aVset up an empty group variable
p18575
aVtransfer that to
p18576
aVcall  with the limit and command you want to run
p18577
aVtransfer the new group back to your group variable
p18578
aVOf course, if you only have one group, just use  directly rather than transferring in and out
p18579
aVHere's a sample run:
p18580
aVThe whole thing starts at 12:38:00 and, as you can see, the first three processes run immediately
p18581
aVEach process sleeps for  seconds so the fourth process doesn't start until the first exits (at time t=10 or 12:38:10)
p18582
aVYou can see that process 3368 has disappeared from the list before 1560 is added
p18583
aVSimilarly, the fifth process (5032) starts when the second (5880) exits at time t=20
p18584
aVAnd finally, the sixth process (5212) starts when the third (2524) exits at time t=30
p18585
aVThen the rundown begins, fourth process exits at t=50 (started at 10, duration of 40), fifth at t=70 (started at 20, duration of 50) and sixth at t=90 (started at 30, duration of 60)
p18586
aVOr, in time-line form:
p18587
as(dp18588
g16
V14860
p18589
stp18590
a((dp18591
g2
(lp18592
VHere's how I'd do it
p18593
aVExamine some sample diamonds (5, 7 and 9 lines):
p18594
aVThe first line consists on some spaces and some stars
p18595
aVHow many
p18596
aVNumber of stars is always one, number of spaces depends on the number of lines desired:
p18597
aVSo the initial number of spaces is
p18598
aVThe other thing you'll notice is that on each subsequent line, the number of spaces reduces by one and the number of stars increases by two
p18599
aVThat's up until the point where the number of spaces is zero, then you start increasing spaces by one and decreasing stars by two until the number of stars is once again one
p18600
aVThe only other special case is an even number of lines where you should duplicate the middle line
p18601
aVLooking at your code, you're very close, you just have to adjust where the loop statements are in relation to what's being printed
p18602
aVIn other words, the outer loop is for lines, then an inner loop for spaces followed by another inner loop for stars
p18603
aVI wrote a test program in Python (see below) but you really shouldn't have to understand Python syntax (that program's a lot bigger than I originally thought it would be) to get some use from this answer so here's some simplified pseudo-code
p18604
aVYou should always sit down and think out the problem before you start writing code
p18605
aVThis will help you develop the skills that will do you well in the future
p18606
aVFinally, here's the Python code I used to test the pseudo-code (not really giving you the code since you need C++):
p18607
aVand here's an example run:
p18608
as(dp18609
g16
V14860
p18610
stp18611
a((dp18612
g2
(lp18613
VFirst step is to learn how to use  or any of the other excellent debuggers for Linux
p18614
aVThat should be able to tell you exactly which source line caused the problem
p18615
aVThen work back from there
p18616
aVOther than that, we can't really help without seeing that source code
p18617
aVPsychic debugging, whilst useful, is not a highly developed field of endeavour :-)
p18618
as(dp18619
g16
V14860
p18620
stp18621
a((dp18622
g2
(lp18623
VFirst things first: if that's the exact code you're using, there's likely something wrong with your compiler :-)
p18624
aVwill evaluate (1/3)
p18625
aVtoString() first then try and raise 1
p18626
aV07 to the power of that string
p18627
aVI think you mean:
p18628
aVAs to the problem, (1/3) is being treated as an integer division returning 0 and n0 is 1 for all values of n
p18629
aVYou need to force it to a floating point division with something like
p18630
as(dp18631
g16
V14860
p18632
stp18633
a((dp18634
g2
(lp18635
VIf you're not using auto-incrementing fields, you can achieve a similar result with something like the following:
p18636
aVThis will ensure there's no chance of a race condition which could be caused by someone else inserting into the table between your extraction of the maximum ID and your insertion of the new record
p18637
aVThis is using standard SQL, there are no doubt better ways to achieve it with specific DBMS' but they're not necessarily portable (something we take very seriously in our shop)
p18638
as(dp18639
g16
V14860
p18640
stp18641
a((dp18642
g2
(lp18643
VAlex Martelli alludes to an algebraic solution which I'll include here for completeness
p18644
aVIt can be worked out with the use of simultaneous equations
p18645
aVBeing a simple mathematical solution, it's possibly faster, at least for large numbers of legs and heads :-)
p18646
aVLet:
p18647
aVbe the number of heads;
p18648
aVbe the number of legs;
p18649
aVbe the number of chicks; and
p18650
aVbe the number of pigs
p18651
aVGiven  and , we can calculate the other two variables with:
p18652
aVI'll detail every step in the calculations below
p18653
aVThe mathematically inclined can no doubt point out that steps could be combined but I'd prefer to be explicit
p18654
aVFrom (1), we can calculate:
p18655
aVand substitute that into (2):
p18656
aVNow you have two formulae, one that can calculate the number of chicks from head and legs , the other which can calculate number of pigs from chicks and heads
p18657
aVSo here's the Python code to do it, with appropriate checks to ensure you don't allow some of the more bizarre mathematical solutions, like 2 heads and 7 legs giving us a pig and a half along with half a chick, or 1 head and 12 legs giving 5 pigs and -4 chicks :-)
p18658
aVOf course, if you pass in fractional numbers of head or legs, all bets are off
p18659
aVHere's a complete test program so you can try out various values to ensure both methods return the same values:
p18660
as(dp18661
g16
V14860
p18662
stp18663
a((dp18664
g2
(lp18665
VIf you want to code in PHP (or C), code in it
p18666
aVDon't try to force its methods onto another language
p18667
aVOne of the basic tenets behind Python (in my opinion) is its readability
p18668
aVYou should be using:
p18669
aVI should also mention that your use of  is very strange; it's usually used to return boolean values
p18670
aVEspecially in this case where you're using it in an  statement
p18671
as(dp18672
g16
V14860
p18673
stp18674
a((dp18675
g2
(lp18676
VI think you'll find that  will give you a number in the range 0 through 8 inclusive
p18677
aVIf you want 0 through 9 inclusive, you should use
p18678
aVI'm going to assume that's what you wanted but you could adjust the answer easily if 0 through 8 was what you really intended
p18679
aVIf you want two numbers in that range, the easiest way is to generate one in that range then generate another in one less than that range and, if it's identical or greater, increment it
p18680
aVThis is the mathematical way to do it, and it's deterministic (always two calls to  no matter what)
p18681
aVAlthough unlikely, a true random number generator could produce a string of numbers all identical which would make the looping solutions unwise (you're likely to be using a linear generator so this probably won't be a problem)
p18682
aVOn the first attempt, you have the full range to choose from (10 numbers, 0 through 9)
p18683
aVOn the second you have the full range minus the number already chosen
p18684
aVSo, if your first number was 7, you generate a number from 0 through 8 and map 7 to 8 and 8 to 9:
p18685
as(dp18686
g16
V14860
p18687
stp18688
a((dp18689
g2
(lp18690
VThings are as safe as you make them
p18691
aVYou can just as easily overwrite integers on the stack as you can strings
p18692
aVIn fact, what you have in your question is safer (in some systems) since it may well be placed in a read-only memory section
p18693
aVPeople shouldn't be using C if they don't know what they're doing
p18694
aVJust like they shouldn't be using a chainsaw without proper training
p18695
aVThe whole raison d'etre of C was a systems programming language
p18696
aVIt gives you the full power to do what you want
p18697
aVAnd with power comes responsibility
p18698
as(dp18699
g16
V14860
p18700
stp18701
a((dp18702
g2
(lp18703
VKaleb has already given you the solution (and Joel has warned about index performance in the comment) but I'd like to suggest another route, one that will scale well
p18704
aVIf your tables are never going to get to be very large, you can ignore this advice
p18705
aVIn fact, you can ignore it right up until the time when you expect performance will suffer (or performance has actually started suffering) - this is the YAGNI principle
p18706
aVDatabases are almost always read far more than they're written
p18707
aVThis means that the right time to figure out when the URL starts with, or contains, a "/q/" is when the data is put in the table, not every single time you extract it
p18708
aVThis amortizes the cost of the calculation (done at write time) across all the reads
p18709
aVFor this scalable solution, you should have a totally separate column in the table, something like  or
p18710
aVThen, with an insert/update trigger, set that column based on the URL being put into the table
p18711
aVThen your query will become:
p18712
aVand, provided you have an index on that column, your queries will scream along
p18713
aVIf you actually look at most database problems, they're usually "my query isn't fast enough" rather than "my disk isn't big enough"
p18714
aVTrading disk space for speed is usually the best approach
p18715
aVThis may provide a performance improvent if your search string is
p18716
aVThis should be profiled, regularly and in production - databases are rarely set-and-forget since performance can change based on the data in the tables - measure, don't guess
p18717
aVIt will certainly provide an improvement if the search string is , unless your database is one of those very rare beasts that has more writes than reads
p18718
as(dp18719
g16
V14860
p18720
stp18721
a((dp18722
g2
(lp18723
VUnder the Berne convention, copyright is attached to something when you author it
p18724
aVSo yes, your JavaScript code is copyrighted (everywhere that the Berne Convention is adopted)
p18725
aVA license is (usually) used to grant people more rights than they have under copyright
p18726
aVIt cannot take rights away (unless by mutual consent, but I'm not a lawyer so take what I say with a pinch of salt), all it can do is prevent someone from using the copyrighted work if they don't accept the conditions of the license
p18727
aVBut that's not the license taking rights away, it's the license not conferring extra rights, in which case standard copyright rights are still in control
p18728
aVOf course, no amount of copyright or licensing will stop your code from being stolen
p18729
aVNor will any technological solution keep out those who are determined
p18730
aVYou have to ask yourself, is your code truly so valuable that you want to do battle with the forces of evil
p18731
aVI don't worry about anyone stealing my code
p18732
aVI make a living by servicing my clients, the software is really just one way of doing that
p18733
aVAnd, if I am being brutally honest, I don't doubt someone could write better versions of the applications I produce
p18734
aVGood luck to them
p18735
aVI'd rather spend my time keeping my clients happy
p18736
as(dp18737
g16
V14860
p18738
stp18739
a((dp18740
g2
(lp18741
VSeriously, if you don't know why it's better, why do you think you're qualified to convince someone else
p18742
aVI don't mean to disparage you but most people arguing something would do so because they believe it to be true (presumably because of some reason or reasons), something that seems lacking in this case
p18743
aVI mean I could try and convince you that C# is a better language than F# but I'd be wasting my time
p18744
aVMy knowledge of both is near-non-existent
p18745
as(dp18746
g16
V14860
p18747
stp18748
a((dp18749
g2
(lp18750
VNo, there are two things possibly at play here - you don't specify an OS so I'm going to give a general answer
p18751
aVThe first is that an executable file is rarely in the final format
p18752
aVAs a simplification, compilation turns source into object files and linking combines object files into an executable
p18753
aVBut the executable has to be loaded into memory and, at that stage, there can be even more modifications done
p18754
aVOne of these modifications may be to fix up memory references within the executable to point to memory that has been loaded at different locations
p18755
aVThis can be acheived by the executable file containing a list of addresses within itself that need to be fixed up at run time
p18756
aVThere is also a disconnect between virtual memory and physical memory in many modern operating systems
p18757
aVWhen your process starts, you get your own (4G for Windows 32bit, I believe) address space into which your process is loaded
p18758
aVThe addresses within this address space have little relationship to your actual physical memory addresses and the translation between the two is done by a memory management unit (MMU)
p18759
aVIn fact, your process could be flying all over the physical address space as it's paged out and in
p18760
aVThe virtual addresses will not change however
p18761
as(dp18762
g16
V14860
p18763
stp18764
a((dp18765
g2
(lp18766
VSorry I can't provide a specific answer to your problem but I will note that I tend to use the
p18767
aVkey when I have to reproduce quite a lot of commands (e
p18768
ag1775
aVI want to insert f 5 or more times)
p18769
aVIf that is the case here, I don't think the saving of using your macro is worth it
p18770
aVYou save one keystroke by using your macro rather than ifesc and that operation is atomic so you could then
p18771
aVto your heart's content
p18772
aVI would just use the non-macro version if I know I want to repeat it a lot
p18773
aVP
p18774
ag2767
aVYou know I'm starting to like the  tag quite a bit :-)
p18775
as(dp18776
g16
V14860
p18777
stp18778
a((dp18779
g2
(lp18780
VUse them
p18781
aVSeriously
p18782
aVThe only reason you may not want to use them is if you plan on working in an environment where they're not available
p18783
aVBut, given their cross-platform nature, that's not likely
p18784
aVYou will find that the benefit you get from using them is immense, even if they weren't cross-platform
p18785
aVThe "best practice" you speak of is to be able to deliver your "product" as quicly and easily as possible
p18786
aVI once answered a question from someone who stated he didn't want to use GUI libraries at a level above Xlib
p18787
aVIf he'd actually ever used Xlib, he'd know the pain we'd all felt when forced to code at such a low level of abstraction
p18788
aVThis makes about as much sense as wanting to code in assembler because C/C++
p18789
aVPython/Perl/everthting-else is simply a higher-level abstarction
p18790
as(dp18791
g16
V14860
p18792
stp18793
a((dp18794
g2
(lp18795
VIf you're using  (and you probably are if you're running Linux), the first thing you should do is change your  to include your own binary directory in the path
p18796
aVAdd the following line to the end of it:
p18797
aVThen create that directory with:
p18798
aVThen put whatever executables you want to use into that directory
p18799
aVVoila, whenever you log in, they will be available
p18800
aVKeep in mind that  will search your path for the first runnable program with that name so, if you want to make an ,  or  command, you'll need your  directory to come before the system directories in your path
p18801
aVBut this is usually a bad idea - better to name your executables so they don't clash with real ones (until you know what you're doing of course, then you can replace or trap system executables to your heart's content)
p18802
aVIn answer to your update as to how to set an environment variable, it's a simple (in ):
p18803
aVwhich will create an enviroment variable  and give it the value
p18804
aVIt's worth using  rather than  since that makes it available to sub-processes
p18805
as(dp18806
g16
V14860
p18807
stp18808
a((dp18809
g2
(lp18810
VThe reason your program can't get the file name is because you're not giving it to it
p18811
aVIf you run your program as:
p18812
aVit's given the argument  in
p18813
aVHowever, what you're doing is:
p18814
aVwhich means the shell is opening the file and feeding it into the standard input of your program
p18815
aVActually, to be more accurate,  is opening the file and the shell is simply connecting the standard output of  to the standard input of
p18816
aVOne way around this is to check the number of arguments ( is usually the count,  the values, despite the roundabout way you have it in your code) and, if it's zero, , read your file from standard input
p18817
aVOnly if an argument is given do you open that file and read it
p18818
aVThat's the way a lot of UNIX utilities work:
p18819
aVSome even change their behaviour depending on how they're invoked,  being one example - it shows the file name(s) if it knows them:
p18820
aVNote that last case - because all files are being presented over the single standard input stream, there's no way to tell how many files there are
p18821
aVwill just tally up the entire contents of that stream
p18822
aVTry this instead:
p18823
aVThis allows you to use both the file and standard input method as follows:
p18824
as(dp18825
g16
V14860
p18826
stp18827
a((dp18828
g2
(lp18829
VI'd do the query and feed the output of it into awk:
p18830
aVJust like any other command:
p18831
as(dp18832
g16
V14860
p18833
stp18834
a((dp18835
g2
(lp18836
VHere's the language agnostic version which you should be able to convert into any language:
p18837
aVNote that the year/month figures are approximate (based on averages) but that shouldn't really matter since the relative error will still be very low
p18838
as(dp18839
g16
V14860
p18840
stp18841
a((dp18842
g2
(lp18843
Vfindstr is your friend
p18844
aVFor example, to find all files containing Hello:
p18845
aVIt also allows subdirectory searches () and regular expressions () as well
p18846
aVOf course, you can't achieve real power unless you install and use the Cygwin or GnuWin32 tools
p18847
aVCygwin if you want an entire UNIX-like environment or GnuWin32 if you just want select tools
p18848
as(dp18849
g16
V14860
p18850
stp18851
a((dp18852
g2
(lp18853
VWith that range of skills, why don't you learn something more outside your comfort zone, like carpentry or painting, or any of hundreds of other skills that have little to do with your field
p18854
aVAt some point, all languages are the same and you'll get scant benefit from learning another
p18855
aVWhereas, with something totally different, you will become a much more well-rounded individual
p18856
aVI, for one, like painting and golf, even though I'm not that good at either of them - when I asked my golf instructor what my handicap was, he said it was an inability to hit the ball straight :-)
p18857
aVI find that I enjoy doing stuff I'm not accustomed to since it's a genuinely new experience
p18858
aVLearning another computer skill is a easy thing to do after a while and hence the pleasure from doing it is reduced
p18859
aVDon't get me wrong, I like to keep up with developments in the field but, for the most part, the brand new technologies give nothing to my career since most work I do is on stable technologies
p18860
aVYou may be in a different situation
p18861
as(dp18862
g16
V14860
p18863
stp18864
a((dp18865
g2
(lp18866
VThere's a class of question on SO that sometimes make less than perfect sense, this one is perilously close :-)
p18867
aVPerhaps you could explain your aversion to using one of the two methods you ruled out
p18868
aVIf it's just because you don't want to pepper your code with  statements or exception catching code, one solution is to use a helper function that will take care of it for you, something like:
p18869
aVwhich will check lengths beforehand and act accordingly (either return smaller string or pad with spaces)
p18870
aVThen you don't have to worry about it in your code at all, just call:
p18871
aVinstead of:
p18872
aVThis would work in the case that you seem to be worried about (based on your comments to other answers), not breaking the flow of the code when doing lots of string building stuff
p18873
as(dp18874
g16
V14860
p18875
stp18876
a((dp18877
g2
(lp18878
VAre those actually datetime columns of some form of varchar
p18879
aVI ask because a similar query in DB2 works fine:
p18880
aVThis returns:
p18881
aVIn fact, even with timestamps, I get the right result:
p18882
aVThis leads me to believe that there's some sort of problem with SQL Server
p18883
as(dp18884
g16
V14860
p18885
stp18886
a((dp18887
g2
(lp18888
VI'd just sort them then run through the sequence until I find a gap (including the gap at the start between zero and the first number)
p18889
aVIn terms of an algorithm, something like this would do it:
p18890
aVOf course, if you have a lot more memory than CPU grunt, you could create a bitmask of all possible 64-bit values and just set the bits for every number in the list
p18891
aVThen look for the first 0-bit in that bitmask
p18892
aVThat turns it into an O(n) operation in terms of time but pretty damned expensive in terms of memory requirements :-)
p18893
aVI doubt you could improve on O(n) since I can't see a way of doing it that doesn't involve looking at each number at least once
p18894
aVThe algorithm for that one would be along the lines of:
p18895
as(dp18896
g16
V14860
p18897
stp18898
a((dp18899
g2
(lp18900
V:-)
p18901
as(dp18902
g16
V14860
p18903
stp18904
a((dp18905
g2
(lp18906
VI think you want  on the AIX xlC compiler
p18907
aVThat's because  is a gcc extension
p18908
aVYou'll need to change your code to use the different name (or do some jiggery-pokery with a translation layer)
p18909
as(dp18910
g16
V14860
p18911
stp18912
a((dp18913
g2
(lp18914
VWAR (web archive) files contain servlet class files, JSPs (Java servlet pages), HTML and graphical files, and other supporting files
p18915
aVEAR (enterprise archive) files contain the WAR files along with the JAR files containing code
p18916
aVThere may be other things in those files but their basically meant for what they sound like they mean: WAR for web-type stuff, EAR for enterprise-type stuff (WARs, code, connectors et al)
p18917
as(dp18918
g16
V14860
p18919
stp18920
a((dp18921
g2
(lp18922
VI'm not a big fan of special characters in function names, but then I'll also beat to death, with a stick of wet celery to tease out the pain, anyone I find putting spaces into file names :-)
p18923
aVThe  variant can just as easily be done with something like  and the  variant with
p18924
aVEnglish is a very adaptive language, even without the punctuation
p18925
aVIn either case, my languages of choice (C and Java) use punctuation for all sorts of other things
p18926
aVHaving them in identifiers as well would make the lexical analysis a nightmare
p18927
as(dp18928
g16
V14860
p18929
stp18930
a((dp18931
g2
(lp18932
VThe number of elements in an array  can be obtained by:
p18933
aVYou need to be aware that arrays, when passed to functions, are degraded into pointers which do not carry the size information
p18934
aVIn reality, the size information is never available to the runtime since it's calculated at compile time, but you can act as if it is available where the array is visible (i
p18935
ag75
aV, where it hasn't been degraded)
p18936
aVWhen I pass arrays to a function that I need to treat as arrays, I always ensure two arguments are passed:
p18937
aVthe length of the array; and
p18938
aVthe pointer to the array
p18939
aVSo, whilst the array can be treated as an array where it's declared, it's treated as a size and pointer everywhere else
p18940
aVI tend to have code like:
p18941
aVthen  will have the size information available to it
p18942
aVAnother trick I've used in the past (a bit messier in my opinion but I'll give it here for completeness) is to have an array of a union and make the first element the length, something like:
p18943
aVthen  can access the length and all the elements and you don't have to worry about the array/pointer dichotomy
p18944
aVThis has the added advantage of allowing the length to vary (i
p18945
ag75
aV, the number of elements in use, not the number of units allocated)
p18946
aVBut I tend not to use this anymore since I consider the two-argument array version (size and data) better
p18947
as(dp18948
g16
V14860
p18949
stp18950
a((dp18951
g2
(lp18952
VI'm assuming, based on the micro-controller tag, you don't have a fast integer divide
p18953
aVMy answer is also for unsigned values - it will work for signed values, you just have to limit the numbers used in the tricky bit below
p18954
aVA good start is divide by 2, 4 and 8
p18955
aVThese can be done with right shifts of 1, 2 and 3 bits respectively, assuming your CPU has a logical right-shift instruction
p18956
aVSecondly, dividing by 1 is just keeping the number as-is
p18957
aVThat just leaves, 3, 5, 6, 7 and 9
p18958
aVTricky bit starts here:
p18959
aVFor the other numbers, you can use the fact that a divide can be replaced by a multiply-and-shift
p18960
aVLet's say you have a 16-bit processor
p18961
aVTo divide by N, you multiply by 256/N and shift right 8 bits:
p18962
aVTake the random example of 72 / 5
p18963
aVMultiply 72 by 51 to get 3672 then shift right 8 bits to get 14
p18964
aVIn order for this to work, your numbers that you're using must not overflow the 16 bits
p18965
aVSince your worst case is multiply-by-85, you can handle numbers up to 771
p18966
aVThe reason this works is because a shift-right of 8 bits is the same as dividing by 256, and:
p18967
aVIf you have a 32-bit processor, the values and ranges change somewhat, since it's 65536/N:
p18968
aVAgain, let's choose the random 20,000 / 7: 20,000 multiplied by 9,363 is 187,260,000 and, when you right shift that 16 bits, you get 2,857 - the real result is 2,857
p18969
aVThe following test program in C shows the accuracy figures for the values given
p18970
aVIt uses signed values so is only good up to about 98,000 but you can see that the largest error is 1 and that it occurs at the low point of 13,110 (only 0
p18971
aV008% error)
p18972
aVThis outputs:
p18973
as(dp18974
g16
V14860
p18975
stp18976
a((dp18977
g2
(lp18978
VYou don't have to throw out structured programming to do object-oriented programming
p18979
aVThe code is still structured, it just belongs to the objects rather than being separate from them
p18980
aVIn classical programming, code is the driving force that operates on data, leading to a dichotomy (and the possibility that code can operate on the wrong data)
p18981
aVIn OO, data and code are inextricably entwined - an object contains both data and the code to operate on that data (although technically the code (and sometimes some data) belongs to the class rather than an individual object)
p18982
aVAny client code that wants to use those objects should do so only by using the code within that object
p18983
aVThis prevents the code/data mismatch problem
p18984
aVFor a bookkeeping system, I'd approach it as follows:
p18985
aVLow-level objects are accounts and categories (actually, in accounting, there's no difference between these, this is a false separation only exacerbated by Quicken et al to separate balance sheet items from P&L; - I'll refer to them as accounts only)
p18986
aVAn account object consists of (for example) an account code, name and starting balance, although in the accounting systems I've worked on, starting balance is always zero - I've always used a "startup" transaction to set the balanaces initially
p18987
aVTransactions are a balanced object which consist of a group of accounts/categories with associated movements (changes in dollar value)
p18988
aVBy balanced, I mean they must sum to zero (this is the crux of double entry accounting)
p18989
aVThis means it's a date, description and an array or vector of elements, each containing an account code and value
p18990
aVThe overall accounting "object" (the ledger) is then simply the list of all accounts and transactions
p18991
aVKeep in mind that this is the "back-end" of the system (the data model)
p18992
aVYou will hopefully have separate classes for viewing the data (the view) which will allow you to easily change it, depending on user preferences
p18993
aVFor example, you may want the whole ledger, just the balance sheet or just the P&L
p18994
aV; Or you may want different date ranges
p18995
aVOne thing I'd stress to make a good accounting system
p18996
aVYou do need to think like a bookkeeper
p18997
aVBy that I mean lose the artificial difference between "accounts" and "categories" since it will make your system a lot cleaner (you need to be able to have transactions between two asset-class accounts (such as a bank transfer) and this won't work if every transaction needs a "category"
p18998
aVThe data model should reflect the data, not the view
p18999
aVThe only difficulty there is remembering that asset-class accounts have the opposite sign from which you expect (negative values for your cash-at-bank mean you have money in the bank and your very high positive value loan for that company sports car is a debt, for example)
p19000
aVThis will make the double-entry aspect work perfectly but you have to remember to reverse the signs of asset-class accounts (assets, liabilities and equity) when showing or printing the balance sheet
p19001
as(dp19002
g16
V14860
p19003
stp19004
a((dp19005
g2
(lp19006
VI don't think that's quite right
p19007
aVI think the syntax is:
p19008
aVTry this instead, it has some other improvements (I'm pretty certain  uses base 1, not base 0 - if not change the  to ):
p19009
aVI haven't tested this thoroughly (well, at all, really) so let me know if there's a problem (or just revert to your original solution, replacing  with , and possibly changing the range of  for base-1 )
p19010
as(dp19011
g16
V14860
p19012
stp19013
a((dp19014
g2
(lp19015
VAny DBMS worth its salt would strip out  clauses before even trying to run the query
p19016
aVI'm fairly certain I've seen DB2/z do this in its execution plans
p19017
aVThe prepared statement shouldn't make a difference since it should be turned into real SQL before it gets to the execution engine
p19018
aVBut, as with all optimization questions, measure, don't guess
p19019
aVDBAs exist because they constantly tune the DBMS based on actual data (which changes over time)
p19020
aVAt a bare minimum, you should time (and get the execution plans) for all variations with suitable static data to see if there's a difference
p19021
aVI know that queries like:
p19022
aVare optimized to remove the entire where clause before execution (on DB2 anyway and, before you ask, the construct is useful where you need to remove the effect of the where clause but still maintain the parameter placeholder (using BIRT with Javascript to modify the queries for wildcards))
p19023
as(dp19024
g16
V14860
p19025
stp19026
a((dp19027
g2
(lp19028
VThe 1 and the 7 are bit sizes to limit the range of the values
p19029
aVThey're typically found in structures and unions:
p19030
aVcreates an 8-bit value, one bit for  and 7 bits for
p19031
aVTypically used in C to access "compressed" values such as a 4-bit nybble which might be contained in the top half of an 8-bit char
p19032
aVUpdate: For the language lawyers among us, the 9
p19033
aV6 section of the standard (C++0x, draft n2914) explains this in detail
p19034
ag18265
aV6 Bit-fields [class
p19035
aVbit]
p19036
aVA member-declarator of the form
p19037
aVidentifieropt attribute-specifieropt : constant-expression
p19038
aVspecifies a bit-field; its length is set off from the bit-field name by a colon
p19039
aVThe optional attribute-specifier appertains to the entity being declared
p19040
aVThe bit-field attribute is not part of the type of the class member
p19041
aVThe constant-expression shall be an integral constant expression with a value greater than or equal to zero
p19042
aVThe value of the integral constant expression may be larger than the number of bits in the object
p19043
aVrepresentation (3
p19044
aV9) of the bit-field\u2019s type; in such cases the extra bits are used as padding bits and do not participate in the value representation (3
p19045
aV9) of the bit-field
p19046
aVAllocation of bit-fields within a class object is implementation-defined
p19047
aVAlignment of bit-fields is implementation-defined
p19048
aVBit-fields are packed into some addressable allocation unit
p19049
aV[ Note: bit-fields straddle allocation units on some machines and not on others
p19050
aVBit-fields are assigned right-to-left on some machines, left-to-right on others
p19051
aV\u2014 end note ]
p19052
aVA declaration for a bit-field that omits the identifier declares an unnamed bit-field
p19053
aVUnnamed bit-fields are not members and cannot be initialized
p19054
aV[ Note: an unnamed bit-field is useful for padding to conform to externally-imposed layouts
p19055
aV\u2014 end note ] As a special case, an unnamed bit-field with a width of zero specifies alignment of the next bit-field at an allocation unit boundary
p19056
aVOnly when declaring an unnamed bit-field may the value of the constant-expression be equal to zero
p19057
aVA bit-field shall not be a static member
p19058
aVA bit-field shall have integral or enumeration type (3
p19059
ag18265
aV1)
p19060
aVIt is implementation-defined whether a plain (neither explicitly signed nor unsigned) , ,  or  bit-field is signed or unsigned
p19061
aVA  value can successfully be stored in a bit-field of any nonzero size
p19062
aVThe address-of operator & shall not be applied to a bit-field, so there are no pointers to bit-fields
p19063
aVA non-const reference shall not be bound to a bit-field (8
p19064
ag630
aV3)
p19065
aV[ Note: if the initializer for a reference of type const T& is an lvalue that refers to a bit-field, the reference is bound to a temporary initialized to hold the value of the bit-field; the reference is not bound to the bit-field directly
p19066
aVSee 8
p19067
ag630
ag6296
aV\u2014 end note ]
p19068
aVIf the value  or  is stored into a bit-field of type  of any size (including a one bit bit-field), the original  value and the value of the bit-field shall compare equal
p19069
aVIf the value of an enumerator is stored into a bit-field of the same enumeration type and the number of bits in the bit-field is large enough to hold all the values of that enumeration type (7
p19070
aV2), the original enumerator value and the value of the bit-field shall compare equal
p19071
aV[ Example:
p19072
aV\u2014 end example ]
p19073
as(dp19074
g16
V14860
p19075
stp19076
a((dp19077
g2
(lp19078
VI generally tend not to worry about stepping into assembler for a variety of reasons
p19079
aVFor a start, if the error actually happens at a given stack level, you want to see whatever code is there, whether or not the source is available
p19080
aVOtherwise, you're likely to have less information than you need to fix it
p19081
aVSecondly, the tools I use almost always have:
p19082
ag8798
aV, and
p19083
aVIf I find myself accidentally stepping into some function (be that assembly or a higher level language) that I don't want to look at, I just do the
p19084
aVThis happens less often than you think since you generally debug in a top down manner, using  unless you know (find out) the problem lies at a lower level in the hierarchy
p19085
aVBut, as stated, you sometimes have no choice but to step into assembly if that's where the error is
p19086
aVAnd, it turns out that VS2008 does have those stepping functions:
p19087
aVSo my advice is to use  as much as possible, until you know which calls are actually causing the problems, then  those
p19088
aVAnd, if you find you have no source for where the error is, you'll need to know how to debug assembly code
p19089
as(dp19090
g16
V14860
p19091
stp19092
a((dp19093
g2
(lp19094
VNo, it does not
p19095
aVThat aspect has often annoyed me since you can't just use:
p19096
aVin your code if you want to free the original on failure
p19097
aVInstead you have to do something like:
p19098
aVOf course, I understand the rationale behind keeping the original buffer intact on failure but my use case has popped up enough that I generally code a  to handle that case, something like (from memory):
p19099
aVThe relevant section in the C11 standard (though it goes back to earlier iterations as well) states:
p19100
ag6293
aV20
p19101
ag6296
aV4 The realloc function
p19102
aVIf ptr is a null pointer, the realloc function behaves like the malloc function for the
p19103
aVspecified size
p19104
aVOtherwise, if ptr does not match a pointer earlier returned by the
p19105
aVcalloc, malloc, or realloc function, or if the space has been deallocated by a call
p19106
aVto the free or realloc function, the behavior is undefined
p19107
aVIf memory for the new
p19108
aVobject cannot be allocated, the old object is not deallocated and its value is unchanged
p19109
as(dp19110
g16
V14860
p19111
stp19112
a((dp19113
g2
(lp19114
VSince this sounds suspiciously like homework, the education here will be a gradual process
p19115
aVFirst, try brute force
p19116
aVHere's an algorithm (well, Python really) that will do it:
p19117
aVIt's basically seven nested loops, one for each digit position, with checks that there's no duplicates at any point
p19118
aVNote that this is not a solution that will scale well for lots of digit positions, but it performs quite well for seven of them
p19119
aVIf you want many more, a less brute-force solution would be better
p19120
as(dp19121
g16
V14860
p19122
stp19123
a((dp19124
g2
(lp19125
VThe bad version number is almost always because you've compiled your java file to a class file with one version and are trying to run it with an earlier version
p19126
aVYou need to be certain the this "cassandra" is using the Java version you think it is
p19127
aVIt's not necessarily using the same one you get when running java from the command prompt
p19128
as(dp19129
g16
V14860
p19130
stp19131
a((dp19132
g2
(lp19133
VThe following  script can do it:
p19134
as(dp19135
g16
V14860
p19136
stp19137
a((dp19138
g2
(lp19139
VI think in terms of readability, you're better putting it at the top of the relevant loop
p19140
aVGet rid of the outer while altogether and change:
p19141
aVinto:
p19142
aVThe change of  from a character to a string is so you don't need to worry about getting linefeeds as characters (if you type yENTER, you'll get the next two sections since y is one character and ENTER is another - even worse if you enter yesENTER)
p19143
aVThe use of a fixed size string and  is dangerous however and shouldn't be used in production code
p19144
aVI include it here only yo make your life a little easier
p19145
as(dp19146
g16
V14860
p19147
stp19148
a((dp19149
g2
(lp19150
VNo, the C standard specifies minimum sizes for integral types but makes no guarantee on maximum sizes
p19151
aVAn implementation shall provide  types if types of that size are available
p19152
aVI only mention that since you had a cross-platform tag - an implementation that does not have a type of the correct bit width does not need to provide those types
p19153
aVYou can generally select (with setting defines with, for example,  and s) the correct type to use for a specific bit size
p19154
aVYou can work out the required defines for each platform you want to support with C code using  and
p19155
aVThe relevant section of the c1x draft (n1362) is:
p19156
ag6293
aV18
p19157
ag2193
aV1 Exact-width integer types
p19158
aVThe typedef name  designates a signed integer type with width , no padding bits, and a two\u2019s complement representation
p19159
aVThus,  denotes a signed integer type with a width of exactly 8 bits
p19160
aVThe typedef name  designates an unsigned integer type with width
p19161
aVThus,  denotes an unsigned integer type with a width of exactly 24 bits
p19162
aVThese types are optional
p19163
aVHowever, if an implementation provides integer types with widths of 8, 16, 32, or 64 bits, no padding bits, and (for the signed types) that have a two\u2019s complement representation, it shall define the corresponding typedef names
p19164
aVRegarding the selection of types, something like this should suffice:
p19165
as(dp19166
g16
V14860
p19167
stp19168
a((dp19169
g2
(lp19170
VIt sounds like you want shuffling of a set rather than "true" randomness
p19171
aVSimply create an array where all the positions match the numbers and initialize a counter:
p19172
aVThen, whenever you want a random number, use the following method:
p19173
aVThis will return a random value from an ever-decreasing pool, guaranteeing no repeats
p19174
aVYou will have to beware of the pool running down to zero size of course, and intelligently re-initialize the pool
p19175
aVThis is a more deterministic solution than keeping a list of used numbers and continuing to loop until you find one not in that list
p19176
aVThe performance of that sort of algorithm will degrade as the pool gets smaller
p19177
aVA C function using static values something like this should do the trick
p19178
aVCall it with
p19179
aVto set the pool up (with any number zero or greater specifying the size) or
p19180
aVto get the next number from the pool (any negative number will suffice)
p19181
aVIf the function can't allocate enough memory, it will return -2
p19182
aVIf there's no numbers left in the pool, it will return -1 (at which point you could re-initialize the pool if you wish)
p19183
aVHere's the function with a unit testing main for you to try out:
p19184
aVAnd here's the output from one run:
p19185
aVKeep in mind that, because it uses statics, it's not safe for calling from two different places if they want to maintain their own separate pools
p19186
aVIf that were the case, the statics would be replaced with a buffer (holding count and pool) that would "belong" to the caller (a double-pointer could be passed in for this purpose)
p19187
aVAnd, if you're looking for the "multiple pool" version, I include it here for completeness
p19188
aVAs you can see from the modified , you need to first initialise an  pointer to  then pass its address to the  function
p19189
aVThis allows each client (location in the code) to have their own pool which is automatically allocated and freed, although you could still share pools if you wish
p19190
as(dp19191
g16
V14860
p19192
stp19193
a((dp19194
g2
(lp19195
VIf you're using Vim in visual mode, the standard cut and paste keys also apply, at least with Windows
p19196
aVCTRLA means "Mark the entire file
p19197
aVCTRLC means "Copy the selection
p19198
aVESC means "De-select, so your next key press doesn't replace the entire file :-)
p19199
aVUnder Ubuntu terminal (Gnome) at least, the standard copy also works (CTRLSHIFTC, although there doesn't appear to be a standard keyboard shortcut for  (other than ALTE followed by A)
p19200
as(dp19201
g16
V14860
p19202
stp19203
a((dp19204
g2
(lp19205
VFor a minimum of  and maximum of , you use
p19206
aVIf  and  are the same, just use
p19207
aVFor example, a line consisting only of three to four alphas followed by two numerics followed by six to twelve alphanumerics would be:
p19208
aVWhere you want unbounded repetitions on the high side (no maximum number), just leave out the
p19209
aVFor unbounded repetitions on the low side, there are some implementations that don't support leaving out the  so you may want to just specify 0 for that to be safe)
p19210
aVIn other words,
p19211
aVmeans six or more lowercase letters followed by zero to four digits
p19212
aVYour special cases are just versions of that, as in:
p19213
as(dp19214
g16
V14860
p19215
stp19216
a((dp19217
g2
(lp19218
VYou won't be able to reduce  to  simply because that's not a reduction by a constant factor
p19219
aVWhat's wrong with
p19220
as(dp19221
g16
V14860
p19222
stp19223
a((dp19224
g2
(lp19225
VYou need to return a value for every code path, including the one where the year predates 1853
p19226
aVIn your code, that case isn't taken into account
p19227
aVThe following function will work as you wish
p19228
aVI'm assuming you actually mean 1582 since that was the year the Gregorian calendar started being used (in the Catholic world, anyway)
p19229
aVSince it was enacted in October of that year, 1582 wasn't itself a leap year despite meeting the 4/100/400 rules
p19230
aVI've reformatted the code to what I consider a more readable style - I'm not a big fan of s followed by s since they break up the meaning in my opinion (others may disagree but I believe this form makes indentation problems easier to spot)
p19231
aVAnd, on top of that, you don't seem to take the every-four-year rule into account at all
p19232
aVOf course, the ideal solution is probably just to use , documented here
p19233
aVVery rarely do you have to write such a basic piece of code (other than for homework) since the Java class libraries provide a huge array of useful things
p19234
aVThe whole class, in all its beauty (including the ability to change the Julian-Gregorian cutover date) is documented here
p19235
as(dp19236
g16
V14860
p19237
stp19238
a((dp19239
g2
(lp19240
VThis should work in any of the Regular Expression (RE) engines
p19241
aVThere is a nicer syntax in the PCRE world but I prefer mine to be able to run anywhere:
p19242
aVBasically, the first character must be alpha, followed by zero or more alpha-numerics
p19243
aVThe start and end tags are there to ensure that the whole line is matched
p19244
aVWithout those, you may match the  of the  string
p19245
aVFull explanation:
p19246
aVUpdate:
p19247
aVAs Richard Szalay rightly points out, this is ASCII only (or, more correctly, any encoding scheme where the A-Z, a-z and 0-9 groups are contiguous) and only for the "English" letters
p19248
aVIf you want true internationalized REs (only you know whether that is a requirement), you'll need to use one of the more appropriate RE engines, such as the PCRE mentioned above, and ensure it's compiled for Unicode mode
p19249
aVThen you can use "characters" such as  and  for letters and numerics respectively
p19250
aVI think the RE in that case would be:
p19251
aVbut I'm not certain
p19252
aVI've never used REs for our internationalized software
p19253
aVSee here for more than you ever wanted to know about PCRE
p19254
as(dp19255
g16
V14860
p19256
stp19257
a((dp19258
g2
(lp19259
VDepending on you needs, a simple divide-and-conquer strategy can be used
p19260
aVIt won't converge as fast as some other methods but it may be easier for a novice to understand
p19261
aVIn addition, since it's an O(log n) algorithm (halving the search space each iteration), the worst case for a 32-bit float will be 32 iterations
p19262
aVLet's say you want the square root of 62
p19263
aV104
p19264
aVYou pick a value halfway between 0 and that and square it
p19265
aVIf the square is higher than your number, you need to concentrate on numbers less than the midpoint
p19266
aVIf it's too low, concentrate on those higher
p19267
aVWith real math, you could keep dividing the search space in two forever (if it doesn't have a rational square root)
p19268
aVIn reality, computers will eventually run out of precision and you'll have your approximation
p19269
aVThe following C program illustrates the point:
p19270
aVHere's a couple of runs so you hopefully get an idea how it works
p19271
aVFor 77:
p19272
aVFor 62
p19273
aV104:
p19274
aVFor 49:
p19275
as(dp19276
g16
V14860
p19277
stp19278
a((dp19279
g2
(lp19280
V first appeared for FreeBSD, the brainchild of one "Jason Evans", hence the "je"
p19281
aVI would ridicule him for being egotistical had I not once written an operating system called  :-)
p19282
aVSee this PDF for full details
p19283
aVIt's a white paper describing in detail how the algorithms work
p19284
aVThe main benefit is scalability in multi-processor and multi-threaded systems achieved, in part, by using multiple arenas (the chunks of raw memory from which allocations are made)
p19285
aVIn single-threaded situations, there is no real benefit to multiple arenas so a single arena is used
p19286
aVHowever, in multi-threaded situations, many arenas are created (four times as many arenas as there are processors), and threads are assigned to these arenas in a round-robin fashion
p19287
aVThis means that lock contention can be reduced since, while multiple threads may call  or  concurrently, they'll only contend if they share the same arena
p19288
aVTwo threads with different arenas will not affect each other
p19289
aVIn addition,  tries to optimise for cache locality since the act of fetching data from RAM is much slower than using data already in the CPU caches (no different in concept to the difference between fast fetching from RAM versus slow fetching from disk)
p19290
aVTo that end, it first tries to minimise memory usage overall since that is more likely to ensure the application's entire working set is in cache
p19291
aVAnd, where that can't be achieved, it tries to ensure that allocations are contiguous, since memory allocated together tends to be used together
p19292
aVFrom the white paper, these strategies seem to give similar performance to current best algorithms for single threaded use while offering improvements for multi-threaded usage
p19293
aVBut, I'm sure you bods can read as well as I can
p19294
aVGo check out the white paper if you want more detail
p19295
as(dp19296
g16
V14860
p19297
stp19298
a((dp19299
g2
(lp19300
VREST is not a valid HTTP command, those are limited to GET, POST, PUT, OPTIONS, HEAD and DELETE, TRACE and CONNECT (at least in HTTP/1
p19301
aV1)
p19302
aVREST is representational state transfer, which is something that happens at a higher level than the HTTP commands
p19303
aVSee here for the gory details but it's basically the description of what made the web work, many clients interacting with servers but spending most of their time interacting with the users and not putting a load on the infrastructure
p19304
aVThe client only puts load on the infrastructure when it needs to change states
p19305
as(dp19306
g16
V14860
p19307
stp19308
a((dp19309
g2
(lp19310
VThis can be simplified to the following
p19311
aVC# follows the same rules as C and C++ and  will give you a value between  and  for any integer, then the second line is to ensure it's in the range 0 through 359 inclusive
p19312
aVIf you wanted to be shifty, you could get it down to one line:
p19313
aVwhich would keep it positive under all conditions but that's a nasty hack for saving one line of code, so I wouldn't do it, but I will explain it
p19314
aVFrom  you will get a number between  and
p19315
aVAdding  will modify the range to between  and
p19316
aVIf  is already positive, adding this will guarantee it still is, and the final  will bring it back to the range  through
p19317
aVAt a bare minimum, you could simplify your code since the s and s can be combined
p19318
aVFor example, the result of the conditions in these two lines:
p19319
aVis always the same, hence you don't need the surrounding
p19320
aVSo, to that end, you could do:
p19321
aVbut I'd still go for the modulus version since it avoids loops
p19322
aVThis will be important when a user enters 360,000,000,000 for the rotation (and they will do this, believe me) and then find they have to take an early lunch while your code grinds away :-)
p19323
as(dp19324
g16
V14860
p19325
stp19326
a((dp19327
g2
(lp19328
VI don't know why but I do know it doesn't matter (to Java anyway, it may matter to you a great deal)
p19329
aVUnicode escapes are allowed to have upper or lower case hex digits so it really doesn't matter to Java which one is used (even mixed case is valid)
p19330
aVThe reason they're different is probably something as simple as they were written by two different people
p19331
aVIs there any way to control it
p19332
aVNot easily from what I can see
p19333
aVIt doesn't appear that  has any options to control that output (it allows options to control the JVM but not to that level)
p19334
aVuses an  (and  uses an ) which you could probably subclass to filter the Unicode escapes but that seems an awful lot of work for (what looks like) dubious benefit
p19335
aVPerhaps if you could tell us why you need this, there may be another way
p19336
aVUpdate 1:
p19337
aVOne thing that you could do is to pass the  output through a filter which turns the Unicode escape sequeces into uppercase
p19338
aVThe following code  should be able to do this although I've only given it cursory testing
p19339
aVSimply execute:
p19340
aVand you should see the likes of  instead of
p19341
ag4771
aVThere may be edge cases that this doesn't handle well
p19342
aVI'm pretty certain it will handle all valid input but may break on invalid input like  but, since that means your  is broken, you'll need to debug them yourself
p19343
aVThis is a good start however
p19344
aVUpdate 2:
p19345
aVOr, as a last-ditch solution, the OpenJDK project has the actual source files for  in  (and just about everything else that's not encumbered by copyright) which you could bring down and compile yourself (GPL2 applies)
p19346
aVThe files are ,  and  (and a couple of resource files)
p19347
aVYou'd simply have to change  to call:
p19348
aVinstead of just:
p19349
aVIn fact, by examining that source code, you can see that  (in ) uses the following functions to create it's Unicode escapes:
p19350
aVThis explains why it generates upper case while  produces lower case
p19351
as(dp19352
g16
V14860
p19353
stp19354
a((dp19355
g2
(lp19356
VNot an answer to your immediate question but you should never use blacklists in a real security environment
p19357
aVThat's because you may change the directory layouts but forget to update the blacklist, leaving your security impotent
p19358
aVWith a whitelist, you list the places where they're allowed to upload to
p19359
aVIf you then change the layout and forget to change the whitelist, your security has actually increased, not decreased
p19360
aVAnd the howls of protest from your users will alert you to your forgetfulness
p19361
aVIn terms of disallowing access to lower-level directories, I would think it's a simple matter of getting the real path (with all those  and  and  converted to a normalized form) and then, if it starts with , fail if there's any more  characters after that
p19362
aVI've done this normalization before and it basically consists of (from memory):
p19363
aVReplace all  with  (so it uses UNIX-isms)
p19364
aVIf it doesn't start with , add your base directory at the front (so it's always an absolute path)
p19365
aVReplace all  with  (gets rid of useless "stay in current directory" moves)
p19366
aVReplace all  with  where X is any non- character (gets rid of down-up directory moves)
p19367
aVThen make sure it's a valid location
p19368
aVWhat's left is generally safe to use, though there may be edge cases depending on whether there are more directory-move commands available (I've seen  as the quivalent to )
p19369
aVYour mileage may vary
p19370
as(dp19371
g16
V14860
p19372
stp19373
a((dp19374
g2
(lp19375
VThere are any number of ways to fix your variable but first we need to know what to get rid of (i
p19376
ag75
aV, the output of )
p19377
aVIf, for example, it's always putting two characters at the front that you don't need, you could use:
p19378
aVIf you want to strip off all characters in the output outside the range 0x20 through 0x7e (the non-printable characters from ), you could use:
p19379
aVIdeally, you would run  to get an actual hex dump of what it's outputting
p19380
aVThen we can help you out further
p19381
aVUpdate:
p19382
aVBased on your new data (that the output is ), you should be able to use  to strip out the empty lines
p19383
aVThat's assuming those  markers are actually two newlines ()
p19384
aVIf (for some bizarre reason) they're the four characters , use  instead
p19385
as(dp19386
g16
V14860
p19387
stp19388
a((dp19389
g2
(lp19390
VTo process each file between two given date/hours, you can use the following:
p19391
aVWhen you create the files  through  inclusive, this is a couple of sample runs:
p19392
aVAs you can see, the first argument must be of the correct format
p19393
aVThe second argument can be shorter since it inherits the start of the first argument to make it the correct length
p19394
aVThis only attempts to process files that exist (from ) and of the correct format, not every date/hour within the range
p19395
aVThis will be more efficient if you have sparse files (including at the start and the end of the range) since it doesn't need to check that the files exist
p19396
aVBy the way, this is the command that created the test files, if you're interested:
p19397
aVPlease don't type that in verbatim and then complain that it created files like:
p19398
aVI only trimmed down the line so it fits in the code width
p19399
aV:-)
p19400
as(dp19401
g16
V14860
p19402
stp19403
a((dp19404
g2
(lp19405
VI don't think you can
p19406
aVBy that I mean you may be able to, but it doesn't make any sense to me :-)
p19407
aVThe whole point of a memory-mapped file is that it's a window onto the actual file
p19408
aVIf you don't wany changes reflected in the file, you'll probably have to do something like batch up the changes in a data structure (e
p19409
ag1775
aV, an array of base address, size and data) and apply them when saving
p19410
aVIn which case, you wouldn't actually need the memory mapped file, just read in and maintain the chunks you want to change (lock the file first if there's a chance of multi-user access)
p19411
aVUpdate:
p19412
aVHave you thought of the possibility of, when doing a save, deleting the original file and just renaming the temporary file to the original file name
p19413
aVThat's likely to be much faster than copying 1G of data from temporary to original
p19414
aVThat way, if you don't want it saved, just delete the temporary file and keep the original
p19415
aVYou'll still have to copy the original data to the temporary file when loading but you won't have to copy the temporary data back (whether you save it or not) - that would halve the time taken
p19416
as(dp19417
g16
V14860
p19418
stp19419
a((dp19420
g2
(lp19421
VDepends on whether you need blindingly fast speed for updates
p19422
aVIf so, you may want to consider keeping the elements sorted by  and using a binary search to locate that number
p19423
aVThis will reduce the time complexity from O(n) to O(log n)
p19424
aVThen, once all the numbers are inserted, you could sort by  (or ) to rank them properly, or simply create a new list sorted by occurrence if you want to keep inserting into the original
p19425
aVThis is assuming write operations will be more frequent than read operations (usual for this sort of behavior)
p19426
aVBut it may be, in your case, that speed doesn't matter for 100 elements
p19427
aVThe difference is between a maximum of 100 iterations (for linear search) and 7 iterations (for binary search)
p19428
aVAlternatively (and this is probably the best idea), use one of the mapping data structures already provided by Java
p19429
aVYou should read and memorize this link :-)
p19430
aVYou could use a  and not worry about the 100-element limitation
p19431
aVTou're code size will be smaller since Sun have already done the hard yards getting it working
p19432
as(dp19433
g16
V14860
p19434
stp19435
a((dp19436
g2
(lp19437
VErr, do you mean something like (where  is whatever method you're using to get the character):
p19438
aVAlternatively, if you want to check that a user enters only alphas
p19439
aVYou can get a string with:
p19440
aVChecking for alphas is as simple as:
p19441
as(dp19442
g16
V14860
p19443
stp19444
a((dp19445
g2
(lp19446
VIt's not a leak if you return it (well, it's not your leak)
p19447
aVYou need to think in terms of resource ownership
p19448
aVIf you return an allocated buffer from your function, the caller of the function is now responsible for it
p19449
aVThe API should make it clear that it needs to be freed when they're finished with it
p19450
aVWhether they free it themselves or pass it to another of your functions to have it freed (encapsulation in case more needs to be done than just freeing the memory) is another issue for the API
p19451
as(dp19452
g16
V14860
p19453
stp19454
a((dp19455
g2
(lp19456
VI don't believe so (and, by all that's holy, it shouldn't)
p19457
aVBut there's a  module for it if you're feeling really masochistic
p19458
as(dp19459
g16
V14860
p19460
stp19461
a((dp19462
g2
(lp19463
VOften, it's the perceived speed that's important rather than the actual speed
p19464
aVIf you can get a splash screen up as quickly as possible and continue initializing while that's up, people will see that as faster
p19465
aVAnother trick is to put most of your code into DLLs and run your program on Windows startup with a special invisible mode:
p19466
aVwhich may convince Windows to leave your DLLs in memory so that, next time your application starts, it's faster
p19467
aVOr even stay running in memory in invisible mode and, when the user runs myprog
p19468
aVexe themselves, simply make yourself visible
p19469
aVYet again, use lazy-loading DLLs for the bulk of your functionality (we've used this one under UNIX) so that it's only loaded when needed
p19470
aVThis amortizes the loading process over the total execution time rather than taking a big hit at startup
p19471
aVThose are some tricks I've heard of, there may be others
p19472
as(dp19473
g16
V14860
p19474
stp19475
a((dp19476
g2
(lp19477
VBig-O notation is simply a relationship between the input value (number of elements in your case) and the complexity (time complexity in your case, van also be space complexity)
p19478
aVYou're correct about the bubble sort
p19479
aVBecause it loops  times inside another loop of  times, the time complexity is O(n2)
p19480
aVQuicksort is slightly different
p19481
aVIt does a number of passes which depends on  but, in each case, it manages to put all the values lower than the midpoint on the "left" and all values higher than the midpoint on the "right" - both halves are still unsorted but you know that the all the left elements are less than any of the right elements (let's call this the pivot rule)
p19482
aVThis basically chops the workload in half for each sub-loop which leads to average case O(log n)
p19483
aVSimilar to binary search or balanced trees, any algorithm that divides the workload by a factor for each iteration is O(log n)
p19484
aVCombining the two gives you O(n log n)
p19485
aVThis wikipedia page actually shows a nice little graphic on the top right that shows quicksort in action
p19486
aVSince a picture is worth a thousand words (and an animation is worth a thousand pictures), you should look at that for a while to understand
p19487
aVYou'll see that it first divides the workspace in two then swaps elements between the two halves until the pivot rule is met
p19488
aVBecause the workload is divided into two totally separate independent areas, quicksort is ripe for parrallel processing with no resource contention
p19489
aVProvided you have enough processors, as soon as you've partitiond the data into two areas, you can give each area to a separate processor for further partitioning
p19490
aVThis is not possible with bubble sort since that sort doesn't give you two independent areas
p19491
as(dp19492
g16
V14860
p19493
stp19494
a((dp19495
g2
(lp19496
VYour comparison string are incorrect
p19497
aVThey should be of the form , not
p19498
aVIn C++,  is simply a character literal (as stated in section 2
p19499
aV14
p19500
aV3 of the C++0x draft (n2914) standard), my emphasis on the last paragraph:
p19501
aVA character literal is one or more characters enclosed in single quotes, as in \u2019x\u2019, optionally preceded by one of the letters u, U, or L, as in u\u2019y\u2019, U\u2019z\u2019, or L\u2019x\u2019, respectively
p19502
aVA character literal that does not begin with u, U, or L is an ordinary character literal, also referred to as a narrow-character literal
p19503
aVAn ordinary character literal that contains a single c-char has type char, with value equal to the numerical value of the encoding of the c-char in the execution character set
p19504
aVAn ordinary character literal that contains more than one c-char is a multicharacter literal
p19505
aVA multicharacter literal has type int and implementation-defined value
p19506
aVAs to there being a better way, it depends on what you mean by better :-)
p19507
aVOne possibility is to set up a functon table which is basically an array of structs, each containing a word and a function pointer
p19508
aVThen you simply extract the word from your string and do a lookup in that array, calling the function if you find a match
p19509
aVThe following C program shows how to use function tables
p19510
aVAs to whether that's a better solution, I'll leave it up to you (it's a moderately advanced technique) - you may be better off sticking with what you understand
p19511
aVWhen run with:
p19512
aVyou get the output:
p19513
as(dp19514
g16
V14860
p19515
stp19516
a((dp19517
g2
(lp19518
VDatabase tuning is not a set-and-forget operation, any more than is investing in Bernie Madhoff's hedge funds :-)
p19519
aVYous should provide a moderately intelligent first guess (based on expected behavior) and then monitor, in production, the queries that are executed
p19520
aVYou should, at a minimum, start with indexes on the individual columns
p19521
aVThen, if someone complains that their queries are taking too long, have DB2 analyse the query and see where the bottleneck is (explain plan or Visual Explain)
p19522
aVAt that point, you should figure out whether the cost of adding the index is outweighed by the benefit
p19523
aVThat's the only way you can be sure that your database is tuned correctly
p19524
aVYour assumption that DB2 can re-order thing to use other indexes depends entirely on the query - all but the simplest of queries will invalidate your assumption
p19525
aVFor example, let's say you have the index (c1,c2)
p19526
aVThe query
p19527
aVwill not use that index since all the  keyparts are scattered around the index, not in one area
p19528
aVIt may be inteeligent enough to optimize
p19529
aVsince it can then just look up  in the index
p19530
aVHowever,
p19531
aVsuffers the same problem as the first query - the  keyparts are not contiguous in the index
p19532
aVThat's why you should measure, not guess
p19533
as(dp19534
g16
V14860
p19535
stp19536
a((dp19537
g2
(lp19538
VThe big arguments people have against declaring C++ as "pure" OO is that it still requires at least one non-OO bit, , and that not everything is an object (,  et al)
p19539
aVIt also exposes the state of an object for manipulation without using the message-passing paradigm (public members)
p19540
aVThis breaks the encapsulation of objects
p19541
aVJava, on the other hand, has  as just a static method of a class so it's closer but it still has non-object things in it
p19542
aVSmalltalk is the lingua franca normally held up as the purest of the pure, but I don't know enough about it to comment
p19543
aVMe, I tend to leave those sort of arguments for the intelligentsia while I get on with developing code and delivering to my clients :-)
p19544
as(dp19545
g16
V14860
p19546
stp19547
a((dp19548
g2
(lp19549
VAre you sending your stderr to the stdout stream as well
p19550
aVAll your prints will got to stdout which is presumably connected to a browser, given your HTML output
p19551
aVHowever,  writes to the stderr stream
p19552
aVThis is likely to go, not to the browser window, but to an error log of some sort
p19553
aVAs to where it's going, it depends on what Perl is running within
p19554
aVOne way to check is to  something instead of ing in the  clause
p19555
aVSo, some questions:
p19556
aVHow are you running it
p19557
aVIf on the command line, show us the exact command
p19558
aVIf in a web server of some sort, tell us which one so we can find the logs for you
p19559
as(dp19560
g16
V14860
p19561
stp19562
a((dp19563
g2
(lp19564
VThe  command will select the desired line(s) from many but it will not directly manipulate the line
p19565
aVFor that, you use  in a pipeline:
p19566
aVAlternatively,  (or  if available) can be used
p19567
aVIt's a far more powerful text processing tool than  in my opinion
p19568
aVFor simple text manipulations, just stick with the  combo
p19569
aVWhen you need more complicated processing, move on up to  or
p19570
aVMy first thought is to just use:
p19571
aVwhich keeps the number of  processes to one (you can give multiple commands with )
p19572
as(dp19573
g16
V14860
p19574
stp19575
a((dp19576
g2
(lp19577
VJust a quick query
p19578
aVDoes the core file owned by user  still exist when you run as user  (and what are its permissions)
p19579
aVIt may be that the system will not overwrite an existing core dump if the permissions protect it (despite 's supposed super powers)
p19580
aVTry deleting the current core file before running as  (check the directory permissions as well to ensure  can create files there)
p19581
aVFor what it's worth, there's a long list of reasons why core won't be dumped
p19582
aVSome of these don't apply to your situation but you should examine them for clues (if my hypothesis above is incorrect)
p19583
aVThe core would have been larger than the current ulimit
p19584
aVYou don't have permissions to dump core (directory and file)
p19585
aVThe file system isn't writable and hasn't sufficient free space
p19586
aVThere's a sub directory named core in the working directory
p19587
aVThere's a file named core with multiple hard links
p19588
aVThe executable has the suid or sgid bit enabled
p19589
aVDitto if you have execute permissions but no read permissions on the file
p19590
aVThe segmentation fault could be a kernel oops, check the system logs
p19591
as(dp19592
g16
V14860
p19593
stp19594
a((dp19595
g2
(lp19596
VIdeally, a  would simply see if there's enough free memory beyond the current block and, if so, just adjust the arena data structures to expand the current block in-place
p19597
aVThis gets rid of the expensive copy operation and reduces the chances of allocation failure
p19598
aVThat's for increasing the size
p19599
aVFor reducing, you should be able to do it in-place always, sending the remainder of the current block back to the free pool
p19600
aVBy doing a malloc/free, if you have 100K in the arena with a single 60K block allocated, calling your  to adjust the size to 50K will fail
p19601
aVHowever, it is a workable solution, at least for a first attempt, so here's how I'd implement it:
p19602
aVOne thing you'll notice that's missing from yours is that it has to copy only enough bytes for the smallest of the old and new blocks
p19603
aVOtherwise you risk core dumps by overflowing one of them
p19604
aVIn addition, your loop didn't actually copy the data, it set each byte of the block to its offset, and it lost the old pointer when allocating the new one, hence my use of  to keep them separate
p19605
as(dp19606
g16
V14860
p19607
stp19608
a((dp19609
g2
(lp19610
VI would simply refactor the experiments into individual functions (if not like that already) then accept an experiment number from the command line which calls the single experiment function
p19611
aVThe just bodgy up a shell script as follows:
p19612
aVThat way, you can leave most of your code as-is and this will clear out any memory leaks you think you have in between each experiment
p19613
aVOf course, the best solution is always to find and fix the root cause of a problem but, as you've already stated, that's not an option for you
p19614
aVAlthough it's hard to imagine a memory leak in Python, I'll take your word on that one - you may want to at least consider the possibility that you're mistaken there, however
p19615
aVConsider raising that in a separate question, something that we can work on at low priority (as opposed to this quick-fix version)
p19616
aVUpdate: Making community wiki since the question has changed somewhat from the original
p19617
aVI'd delete the answer but for the fact I still think it's useful - you could do the same to your experiment runner as I proposed the bash script for, you just need to ensure that the experiments are separate processes so that memory leaks dont occur (if the memory leaks are in the runner, you're going to have to do root cause analysis and fix the bug properly)
p19618
as(dp19619
g16
V14860
p19620
stp19621
a((dp19622
g2
(lp19623
VI'm not at all sure you can treat data set prefixes as directories
p19624
aVWhen I'm doing uploads to the mainframe with ftp, I always just specify the full target name
p19625
aVI would get rid of the
p19626
aVsection altogether and just change:
p19627
aVto:
p19628
aVif it's a sequesntial data set, or:
p19629
aVif it's a member (in which case the data set will have to exist first)
p19630
aVIt would also help if you changed the  statements so that they included an indication as to what is actually causing the error
p19631
aVSomething along the lines of:
p19632
aVinstead of the generic:
p19633
aVOne other point: you'll notice I've put single quotes around the targets above
p19634
aVThat's because z/OS has a habit of (sometimes) prefixing your login name to members
p19635
aVIt may be that:
p19636
aVis actually trying to put it into
p19637
aVQuoting it will prevent that
p19638
aVUpdate: You know, I just noticed something that totally escaped me the first time I read this question
p19639
aVThe error message spells it out plainly
p19640
aVData set name segments and member names within partitioned data sets are limited to 8 characters
p19641
aVHence your  is invalid on two counts, the  and the
p19642
aVTry shortening the names and re-transferring
p19643
aVHere's the proof:
p19644
as(dp19645
g16
V14860
p19646
stp19647
a((dp19648
g2
(lp19649
VShould you be blocking the comparison
p19650
aVI would have thought that:
p19651
aVwould be enough
p19652
as(dp19653
g16
V14860
p19654
stp19655
a((dp19656
g2
(lp19657
VIf you need to do something in the DBMS with the individual items, do not store them in list form
p19658
aVThis will make your queries run like a dog as your tables get bigger
p19659
aVOf course, if you're only ever going to treat the list as a unit, it's okay to store them that way
p19660
aVBut you'd better be sure you're going to always treat the list as a unit, and no cheating, saying they're a unit and then spiltting them apart somewhere else - better to let the DBMS do that for you
p19661
aVYou should always do 3NF first then if, and only if, you have performance problems, denormalize for speed
p19662
aVThose fields you're talking about in the question are not the sort that you will be treating as a unit
p19663
aVYou will need to do things to the individual elements in the lists, so they should be broken out into another table
p19664
as(dp19665
g16
V14860
p19666
stp19667
a((dp19668
g2
(lp19669
VGoogle for just cpugrab
p19670
aVThere are  and  files all over the place (rapidshare, badongo, etc)
p19671
aVThey may or may not be legal, I can't comment on that
p19672
as(dp19673
g16
V14860
p19674
stp19675
a((dp19676
g2
(lp19677
VIf the GC is refusing to destroy it, it's because you have a reference to it somewhere
p19678
aVGet rid of the reference and it will (eventually) go
p19679
aVFor example:
p19680
aVKeep in mind that GC may not necessarily destroy your object unless it needs to
p19681
aVIf your object is holding resources not under the management of Python (e
p19682
ag1775
aV, some trickery with C code called from Python), the object should provide a resource release call so you can do it when you want rather than when Python decides
p19683
as(dp19684
g16
V14860
p19685
stp19686
a((dp19687
g2
(lp19688
VEncapsulation (information hiding) allows you to only expose the absolute minimum to the outside world
p19689
aVThis means you can change the non-exposed bits to your heart's content without affecting clients
p19690
aVA case in point
p19691
aVSay you've implemented a data structure that holds strings in an array
p19692
aVIf you expose the array, users of your data structure can just use  to get the string at position 7
p19693
aVNow, what happens if you decide to re-implement your data structure as a balanced tree to speed up searches for strings
p19694
aVYou do this by moving the strings into a tree and changing your array to be, not strings, but pointers to locations within the tree
p19695
aVThat will break your clients, because they will be expecting strings, not pointers
p19696
aVEvery single client would have to change to get the pointers from the array then look those up in the tree
p19697
aVHowever, if you had totally hidden the implementation and just provided a function:
p19698
aVyou would just change the data structure and the function to stay compatible
p19699
aVThe clients don't break because your application programming interface (API) hasn't changed
p19700
aVOne of the most important rules I follow with classes is to aim for maximum coherence, minimum coupling
p19701
aVIn other words, a single class should have everything it needs (nothing more) and it should have as little information sharing as possible with the outside world
p19702
aVThat means all that clients can do is call the API
p19703
aVNo exposing non-API methods or allowing unfettered access to public variables - everything should be done with setters and getters
p19704
as(dp19705
g16
V14860
p19706
stp19707
a((dp19708
g2
(lp19709
VA connection is simply a virtual pathway between two endpoints
p19710
aVWith TCP, you open up the connection and start sending data through
p19711
aVIt's guaranteed to arrive at the other end in order (assuming the network doesn't fail)
p19712
aVThen you close down the connection
p19713
aVFor the duration of the connection, the two ends talk to each other, acknowledging receipt of packets, to ensure there's no loss or duplication
p19714
aVWith UDP, it's slightly different
p19715
aVYou basically just throw a packet out there with a destination address and it may or may not arrive - that's the U in UDP (unreliable)
p19716
aVYou shouldn't be lulled into thinking the connection of TCP results in all packets taking the same physical path
p19717
aVThey will be routed around problem areas if necessary
p19718
aVAs for your update, the connection is established after the following has happened:
p19719
aVa  packet has been sent from the initiator
p19720
aVthe responder has sent back a  packet
p19721
aVthe initiator has sent back another  packet
p19722
aVThis is the session establishment protocol for TCP
p19723
aVThe packets themselves are normal packets with the  and/or  flags set in the header
p19724
aVThe seminal book on TCP (and other protocols) is Stevens, get yourself a copy of this if you want a dead-tree version - I've had this for ages
p19725
aVOr, of course, there's the Wikipedia stuff
p19726
aVBoth of these are pretty heavy going for the casual enquirer, but well worth it if you're at all interested in going deeper - my own preference would be for the book, it ranks up there with Knuth on my bookshelf
p19727
as(dp19728
g16
V14860
p19729
stp19730
a((dp19731
g2
(lp19732
VIn the right order, based on the rules you provide
p19733
aVFor your particular example, that could mean any one of a number of different (4
p19734
aV= 24, from memory) orders
p19735
aVAll  programs are free to choose the order they like as long as the dependencies are honored
p19736
aVIf there were other rules in your example, say , then  would be made before  (but that isn't the case, as you point out)
p19737
aVIf you need to rely on a specific order, you'll need more rules to enforce it
p19738
aVOtherwise  can do what it pleases
p19739
aVThe documentation for GNU Make only states how rules are processed, not the order in which dependencies within a rule are processed
p19740
aVThe most logical order (to me, anyway) would be the order in which they're listed but that's not guaranteed
p19741
as(dp19742
g16
V14860
p19743
stp19744
a((dp19745
g2
(lp19746
VOkay, I'm not sure what purpose  is meant to serve in your function since it's never used but, if you want to see why your function's not working, just add debug code:
p19747
aVI'd bet money on there being something wrong with your  function (but not much money)
p19748
aVThese debug statements should give you enough to figure out where the problem lies
p19749
as(dp19750
g16
V14860
p19751
stp19752
a((dp19753
g2
(lp19754
VState machines that I've designed before (C, not C++) have all come down to a  array and a loop
p19755
aVThe structure basically consists of a state and event (for lookup) and a function that returns the new state, something like:
p19756
aVThen you define your states and events with simple defines (the  ones are special markers, see below):
p19757
aVThen you define all the functions that are called by the transitions:
p19758
aVAll these function are written to take no variables and return the new state for the state machine
p19759
aVBecause they all follow the same form and take no parameters, there's use made of "global" variables for information passing where necessary
p19760
aVThis isn't as bad as it sounds since the FSM is usually locked up inside a single compilation unit and all variables are static to that unit (which is why I used quotes around "global" above - they're more shared than truly global)
p19761
aVAs with all globals, it requires care
p19762
aVThe transitions array then defines all possible transitions and the functions that get called for those transitions (including the catch-all last one):
p19763
aVThe workings of the FSM then become a relatively simple loop:
p19764
aVAs alluded to above, note the use of  and  as wildcards, allowing an event to call a function no matter the current state, and guaranteeing that, if you reach the end of the transitions array, you get an error stating your FSM hasn't been built correctly
p19765
aVI've used code similar for this on a great many communications projects, such as an early implementation of the OSI layered model and protocols for embedded systems
p19766
aVIt's big advantage was its simplicity and relative ease in changing the transitions array
p19767
aVI've no doubt there will be higher-level abstractions which may be more suitable nowadays but I suspect they'll all boil down to this same sort of structure
p19768
aVAs  states in a comment, you can avoid the globals altogether by passing a structure pointer to all functions (and using that in the event loop)
p19769
aVThis will allow multiple state machines to run side-by-side without interference
p19770
aVJust create a structure type which holds the machine-specific data (state at a bare minimum) and use that instead of the globals
p19771
aVThe reason I've rarely done that is simply because most of the state machines I've written have been singleton types (one-off, at-process-start, configuration file reading for example), not needing to run more than one instance
p19772
aVBut it has value if you need to run more than one
p19773
as(dp19774
g16
V14860
p19775
stp19776
a((dp19777
g2
(lp19778
VIt looks bizarre but then I don't know C# that well
p19779
aVIt may be that there's some problem with casting a  directly to a , but not with  to  or  to
p19780
aVThe end result is probably the same as if you cast  to  in C: the ability to derefence  to get a single byte of the integer (assuming CHAR_BIT is 8 in the C implementation)
p19781
as(dp19782
g16
V14860
p19783
stp19784
a((dp19785
g2
(lp19786
VI don't think you need to worry about routers
p19787
aVThey route packets between IP addresses, not DNS names
p19788
aVAnd the millions of lines of business logic will still be able to handle Latin characters, they're not going to break overnight
p19789
aVThat's because the data entry fields for email names should already be filtering out non-Latin stuff (if it's not, they deserve everything they get)
p19790
aVGranted, they may need changes to allow non-Latin URLs to be entered but that's a management issue and vastly different to Y2K, where applications were expected to stop working
p19791
aVAside: most Y2K (financial) applications were fixed well in advance simply because they work with dates multiple years into the future anyway
p19792
aVFor all the money a major telco spent on Y2K, we found one problem and that was a web page listing the date as Jan 1, 19100 (because some clown didn't realize that a  was number of years since 1900, not just the last two digits of the year)
p19793
aVI suspect this issue will have even less impact than Y2K
p19794
as(dp19795
g16
V14860
p19796
stp19797
a((dp19798
g2
(lp19799
VI tend to use  (with a  filter to break your lines up) for things like that:
p19800
aVoutputs:
p19801
aVHere's how it works:
p19802
aVIt sets the field separator to  for easy extraction
p19803
aVWhen the record number is 1 (), it simply stores the time () and number of seconds since midnight ()
p19804
aVThis is the first baseline
p19805
aVOtherwise (), it gets the seconds since midnight () and, if that's more than 30 seconds since the last one, it outputs the last time and this time ()
p19806
aVThen it resets the baseline for the next line ()
p19807
aVKeep in mind the  command is probably more complicated that it needs to be in this example - it collapses all space sequences to one space, removes them from the start and end of lines then converts newline characters into spaces
p19808
aVDepending on the input form of your data (mine is complicated since it's formatted for readability), this may not all be necessary
p19809
aVUpdate: Since the question edit has stated that the input is one time per line, you don't need the  part at all
p19810
as(dp19811
g16
V14860
p19812
stp19813
a((dp19814
g2
(lp19815
VI used Python with wxPython for quite a while and found it very easy to use
p19816
aVI now use Java with both Swing and SWT
p19817
aVI prefer Java but that's just a personal preference so you shouldn't let that sway you
p19818
aVI didn't find the transition from Python to Java that difficult
p19819
aVIn terms of GUI, they both have the layout manager paradigm - the managers are different but not so different you'll have trouble switching
p19820
aVJava has an absolute huge class library to the point where you probably don't need to write your own version of anything, just string together the components
p19821
aVI never really got that deep into Python but it may well be similar
p19822
aVOne thing I did notice is that all the really good stuff I used in Python (e
p19823
ag1775
aV, s[-4:-1]) could still be done quite easily in Java
p19824
aVBoth languages were a step up from C where I had to manage strings with my own libraries
p19825
aVIf you think wxPython is limited on MacOS, you should try Java
p19826
aVI run my Java code on Windows, Linux and other UNIXes without compatibility problems
p19827
aVSadly, not Mac, so I can't really advise you there
p19828
aVMy advice, pick a smallish project - do it in both Python and Java - see how it runs on all the platforms you're interested in
p19829
as(dp19830
g16
V14860
p19831
stp19832
a((dp19833
g2
(lp19834
VTo remove any number of zeros from the start and prevent collisions:
p19835
aVOf course,  is a better option if available
p19836
aVI'm just including this for completeness in case you're running on a UNIX box that doesn't have that tool
p19837
as(dp19838
g16
V14860
p19839
stp19840
a((dp19841
g2
(lp19842
VYou should put in messages as meaningful as those you would put into code that has multiple developers
p19843
aVThere's usually little difference between someone else looking at your changes in a couple of days, and you looking at them 12 months down the track
p19844
aVThere's a good chance, in both those situations, that the person looking will have no idea why the change was made :-)
p19845
aVI even go so far as to use proper change control, even for the stuff I do solo
p19846
aVThat means every change to the code base has to have either a change request or a bug report (with full documentation)
p19847
aVThat makes my life a lot easier when I need to understand why something was done
p19848
aVI've got better uses for my "wetware" than trying to remember every little change and why it was done
p19849
aVFar better to let the machine remember it - its memory is so much better
p19850
aVAnd, in my opinion, if you can't be bothered doing it right, don't do it at all
p19851
aVJust revert to the cowboy-coder mentality and save yourself some effort
p19852
aVDoing it right doesn't take that much extra effort and the rewards are substantial
p19853
aVIt all comes down to a cost/benefit analysis
p19854
as(dp19855
g16
V14860
p19856
stp19857
a((dp19858
g2
(lp19859
VIt's always possible in C simply because you can convert every pointer to a
p19860
aVBut, if you want to be able to convert that back to a pointer to an arbitrary structure, you'll need some sort of type identification
p19861
aVYou could do that by using a function specific to the type (if the things you are comparing are the same), or encode the type into the structure somehow
p19862
aVThis can be done by having an extra field in the structure or by changing the  function itself to take a type identifier
p19863
aVBut you should be aware that C already has a  function that's usually reasonably efficient (although there's nothing in the standard that dictates what algorithm it uses - it could use bubble sort and still be conforming)
p19864
aVUnless you're implementing one for homework, or have a different algorithm in mind, tou should probably just use that
p19865
aVYour algorithm, as it stands, looks like the inner loop of a bubble sort and, as such, won't actually sort correctly
p19866
aVBubble sort consists of two nested loops and is generally only suitable for small data sets or those with specific characteristics (such as mostly sorted already)
p19867
as(dp19868
g16
V14860
p19869
stp19870
a((dp19871
g2
(lp19872
VIf your question is how to do it without using extra space on the disk, I would just read in the chunks in multiples of 32 bytes (as big as you can), work with the chunk in memory, then write it out again
p19873
aVYou should be able to use the  and  functions to do that (assuming your  type is large enough, of course)
p19874
aVIt may be faster to memory-map the file if you can spare that much out of your address space (and your OS supports it) but I'd try the easiest solution first
p19875
aVOf course, if space isn't a problem, just read the chunks in and write them to a new file, something like the following (pseudo-code):
p19876
aVThis sort of read/process/write is pretty basic stuff
p19877
aVIf you have more complicated requirements, you should update your question with them
p19878
as(dp19879
g16
V14860
p19880
stp19881
a((dp19882
g2
(lp19883
VI would hope so otherwise MySQL is not compliant with the SQL standard
p19884
aVYou can only have one primary key but you can mark other columns as unique
p19885
aVIn SQL, this is achieved with:
p19886
aVThere are other ways to do it (particularly with multi-part keys) but this is a simple solution
p19887
as(dp19888
g16
V14860
p19889
stp19890
a((dp19891
g2
(lp19892
VSome RE engines will allow you to use a different character so as to avoid having to escape those characters when used in the RE
p19893
aVFor example, with , you can use either of:
p19894
aVThe latter is often more readable
p19895
aVThe former is sometimes called "leaning toothpicks"
p19896
aVWith Perl, you can use either of:
p19897
aVbut I still contend the latter is easier on the eyes, especially as the REs get very complex
p19898
aVWell, as easy on the eyes as any Perl code could be :-)
p19899
as(dp19900
g16
V14860
p19901
stp19902
a((dp19903
g2
(lp19904
VI think what you need is:
p19905
aVInterestingly, I've heard that Perl is (or maybe even has, by now) introducing this syntax, something along the lines of:
p19906
aVI'm not a big fan of that syntax since I've had to write lexical parsers quite a bit and believe languages should be as unambiguous as possible
p19907
aVBut then, Perl has solved all these sorts of problems before with those hideous tail-side s and s so I suspect there'll be no trouble with it :-)
p19908
as(dp19909
g16
V14860
p19910
stp19911
a((dp19912
g2
(lp19913
VSince this is a programming question (it is a programming question, isn't it
p19914
aV, you should check out the ,  and  functions
p19915
aVThese are part of the Single UNIX Spec
p19916
aVThe  file should have the structure you need, containing at least:
p19917
aVSee here for the  manpage - it contains links to the others
p19918
aVKeep in mind that the amount of information about a file stored in the directory entries for it is minimal
p19919
aVThe inode itself contains the  stuff you get from the  function, things like times, size, owner, permissions and so on, along with the all-important pointers to the actual file content
p19920
as(dp19921
g16
V14860
p19922
stp19923
a((dp19924
g2
(lp19925
VLinux provides the  call which should be the equivalent of
p19926
aVI would simply use a  to select the correct one
p19927
aVIn fact, a cursory google seems to indicate that  is also available in Windows so it may be easier than you think
p19928
as(dp19929
g16
V14860
p19930
stp19931
a((dp19932
g2
(lp19933
VDon't waste your time
p19934
aVIf a browser can download it to run it (and it can, otherwise the code is useless), a program can be written to download it and save it
p19935
aVTime and time again, we've seen that technological methods to protect things like this don't work
p19936
aVDo you really think that your JS code is so precious that it needs that sort of protection
p19937
aVOnce you get it working, by all means run it through a minifier if only to speed up the download process
p19938
aVBut as to protecting it,  I would concentrate on what you do best (which I'm assuming is coding it)
p19939
aVIf you really need to protect the code from being viewed, don't do it in client side JS
p19940
aVPut it on the server and just use JS to communicate with that
p19941
as(dp19942
g16
V14860
p19943
stp19944
a((dp19945
g2
(lp19946
VWhen you  a process, you basically end up with two (almost) exact copies of the process and both of them will continue running
p19947
aVSo what's happening is that the children themselves are continuing the loop in the own process space (after they print their output) as well as the parent doing it
p19948
aVAnd, in fact, because these children are also forking, the grandchildren will also carry on from that point
p19949
aVI'm sure there's a formula for actually figuring out how many children you end up with (probably something like N
p19950
aVbut I don't have the energy to figure it out at the moment
p19951
aVBetter to use the following solution
p19952
aVThe way to tell the difference between parent and child is the return value from
p19953
aVIf you get back a -1, you're the parent and the  failed
p19954
aVIf you get back a zero, you're the child
p19955
aVIf you get back a positive number, you're the parent and that number is the child PID (so you can manipulate it or  for it)
p19956
aVHere's some test code:
p19957
aVand some output to show you what's happening:
p19958
as(dp19959
g16
V14860
p19960
stp19961
a((dp19962
g2
(lp19963
VWhere it stores it is actually totally up to the compiler
p19964
aVThe standard does not dictate this behavior
p19965
aVA typical place can be seen by actually compiling the code and looking at the assembler output:
p19966
aVwhich produces:
p19967
aVThe relevant bit is marked  and you can see that the value is created by the compiler and just inserted directly into a  type instruction
p19968
aVNote that it's only this simple because the expression is a constant value
p19969
aVAs soon as you introduce non-constant values (like variables), the code becomes a little more complicated
p19970
aVThat's because you have to look those variables up in memory (or they may already be in a register) and then manipulate the values at run-time, not compile-time
p19971
aVAs to how the compiler calculates what the value should be, that's to do with expression evaluation and is a whole other question :-)
p19972
as(dp19973
g16
V14860
p19974
stp19975
a((dp19976
g2
(lp19977
VIf their range is limited (say between -100 and 100), it's easy
p19978
aVCreate an array  then just cycle through your linked list, executing:
p19979
aVThen the following loop will do the trick
p19980
aVEven if their range isn't limited, you can have a more efficient method than what you proposed, by sorting the values first and then just keeping counts rather than individual values (same as the above solution)
p19981
aVThis is achieved by running two pointers, one at the start of the list and one at the end
p19982
aVWhen the numbers at those pointers add up to 10, output them and move the end pointer down and the start pointer up
p19983
aVWhen they're greater than 10, move the end pointer down
p19984
aVWhen they're less, move the start pointer up
p19985
aVThis relies on the sorted nature
p19986
aVLess than 10 means you need to make the sum higher (move start pointer up)
p19987
aVGreater than 10 means you need to make the sum less (end pointer down)
p19988
aVSince they're are no duplicates in the list (because of the counts), being equal to 10 means you move both pointers
p19989
aVStop when the pointers pass each other
p19990
aVThere's one more tricky bit and that's when the pointers are equal and the value sums to 10 (this can only happen when the value is 5, obviously)
p19991
aVYou don't output the number of pairs based on the product, rather it's based on the product of the value minus 1
p19992
aVThat's because a value 5 with count of 1 doesn't actually sum to 10 (since there's only one 5)
p19993
aVSo, for the list:
p19994
aVyou get:
p19995
aVYou start pointer  at  and  at
p19996
aVSince , you output those two numbers (as above, you do it  times where  is the product of the counts)
p19997
aVThats one copy of
p19998
aVThen you move  to  and  to
p19999
aVso leave  at , move  down to
p20000
aVso move  to , leave  at
p20001
aVso move  to , leave  at
p20002
aV, output two copies of  since the count of  is 2, move  to ,  to
p20003
aVbut  so the product is 0 times 0 or 0
p20004
aVOutput nothing, move  to ,  to
p20005
aVLoop ends since
p20006
aVHence the overall output was:
p20007
aVwhich is correct
p20008
aVHere's some test code
p20009
aVYou'll notice that I've forced 7 (the midpoint) to a specific value for testing
p20010
aVObviously, you wouldn't do this
p20011
aVYou'll see that the code above is all O(n) since I'm not sorting in this version, just intelligently using the values as indexes
p20012
aVIf the minimum is below zero (or very high to the point where it would waste too much memory), you can just use a minVal to adjust the indexes (another O(n) scan to find the minimum value and then just use  instead of  for array indexes)
p20013
aVAnd, even if the range from low to high is too expensive on memory, you can use a sparse array
p20014
aVYou'll have to sort it, O(n log n), and search it for updating counts, also O(n log n), but that's still better than the original O(n2)
p20015
aVThe reason the binary search is O(n log n) is because a single search would be O(log n) but you have to do it for each value
p20016
aVAnd here's the output from a test run, which shows you the various stages of calculation
p20017
as(dp20018
g16
V14860
p20019
stp20020
a((dp20021
g2
(lp20022
VWhat you need to do is replace all groups of "space and comma" with a single comma and then remove commas from the start and end:
p20023
aVThe first one replaces every sequence of whitespace and commas with a single comma, provided there's at least one comma in there
p20024
aVThis handles the edge case left in the comments for "Internet Explorer"
p20025
aVThe second and third get rid of the comma at the start and end of string where necessary
p20026
aVYou can also add (to the end):
p20027
aVto collapse multi-spaces down to one space and
p20028
aVif you want them to be formatted nicely (space after each comma)
p20029
aVA more generalized solution would be to pass parameters to indicate behavior:
p20030
aVPassing  for  will collapse the spaces within a section (a section being defined as the characters between commas)
p20031
aVPassing  for  will use  to separate sections rather than just  on its own
p20032
aVThat code follows
p20033
aVIt may not be necessary for your particular case but it might be better for others in terms of code re-use
p20034
as(dp20035
g16
V14860
p20036
stp20037
a((dp20038
g2
(lp20039
VSQL is more about working on rows rather than columns
p20040
aVIf you're talking about deleting rows where c is null, use:
p20041
aVIf you're talking about dropping a column when all rows have null for that column, I would just find a time where you could lock out the DB from users and execute one of:
p20042
aVThen, if you only get back just NULL (or 0 for that last one), weave your magic (the SQL Server command may be different):
p20043
aVDo this for whatever columns you want
p20044
aVYou really need to be careful if you're deleting columns
p20045
aVEven though they may be full of nulls, there may be SQL queries out there that use that column
p20046
aVDropping the column will break those queries
p20047
as(dp20048
g16
V14860
p20049
stp20050
a((dp20051
g2
(lp20052
VWhy don't you skip the alias and just create a shell script called  in a directory somewhere, then change the path to put that directory before the one containing the real
p20053
aVI had to do this recently with  because the new version output a different format that a third-party product couldn't handle (it scanned the output to generate a report)
p20054
aVI just created an  shell script which called the real  (with hardcoded path, but you could be more sophisticated), passing the output through an  script to massage it into the original format
p20055
aVThen, I changed the path for the third-party program and it started working fine
p20056
as(dp20057
g16
V14860
p20058
stp20059
a((dp20060
g2
(lp20061
V3NF is generally all you need and it follows three rules:
p20062
aVEvery column in the table should be dependent on:
p20063
aVthe key (1NF),
p20064
aVthe whole key (2NF),
p20065
aVand nothing but the key (3NF) (so help me Codd is the way that quote usually ends)
p20066
aVYou can often "downgrade" to 2NF for performance reasons, provided you understand the implications and only when you strike problems, but 3NF should be the initial goal for all your designs
p20067
as(dp20068
g16
V14860
p20069
stp20070
a((dp20071
g2
(lp20072
VThis isn't that specific to Java
p20073
aVSynchronization can be considered "expensive" in any multi-threaded environment if not done correctly
p20074
aVWhether it's particularly bad in Java, I do not know
p20075
aVIt prevents threads from running concurrently if they use the same resource
p20076
aVBut, since they do use the same resource, there's no better option (it has to be done)
p20077
aVThe problem is that people often protect a resource with too big a scope
p20078
aVFor example, a badly designed program may synchronize an entire array of objects rather than each individual element in the array (or even a section of the array)
p20079
aVThis would mean that a thread trying to read element 7 must wait for a thread reading or writing element 22
p20080
aVNot necessary
p20081
aVIf the granularity of the synchronization were at the element level instead of the array level, those two threads wouldn't interfere with each other
p20082
aVOnly when two threads tried to access the same element would there be resource contention
p20083
aVThat's why the general rule is to only protect as small a resource as possible (subject to limitations on number of synchronizations, of course)
p20084
aVBut, to be honest, it doesn't matter how expensive it is if the alternative is data corruption due to two threads fighting over a single resource
p20085
aVWrite your application correctly and only worry about performance problems if and when they appear ("Get it working first then get it working fast" is a favorite mantra of mine)
p20086
as(dp20087
g16
V14860
p20088
stp20089
a((dp20090
g2
(lp20091
VAfter a bit of fiddling around, I figured out you can manually allocate the required data sets and run  to do the copy:
p20092
as(dp20093
g16
V14860
p20094
stp20095
a((dp20096
g2
(lp20097
VThe best DB design, despite your misgivings, is exactly what you described
p20098
aVIn other words, have a mapping table
p20099
aVAlways start with 3NF and modify if and only if there are real performance problems that can't be solved in other ways
p20100
aVIf your business is as big as it looks (with 100 million customers), disk storage should not be a problem, and proper indexing of the mapping table should mitigate any performance concerns
p20101
aVAnd yes, if every customer maps to two different managers, you will have 200 million records
p20102
aVThat's not a problem
p20103
aVOn the sort of shops I work in (DB2 on System z), that's about a medium-sized table
p20104
aVThe beauty of SQL is that you can mostly swap out a DBMS if it doesn't perform well enough
p20105
aVTwo hundred million rows of two ID columns would not be onerous to the average database, and this is the best way to go, especially if there's the possibility that a customer may not be allocated to a manager (or vice versa)
p20106
aVAny other solution that tries to put a customer ID into the manager table (or a manager ID into the customer table) will waste space in that case
p20107
as(dp20108
g16
V14860
p20109
stp20110
a((dp20111
g2
(lp20112
VThat would be along the lines of:
p20113
aVSince you haven't specified what the condition is, a generic answer is all I can give
p20114
aVSome examples would be:
p20115
aVUpdate 1: Now that you've changed the entire question from a simple SQL one to one involving not executing an update if the user presses a REJECT button in ASP
p20116
aVNet :-), surely it's just a matter of not executing the SQL UPDATE statement in the (or whatever your REJECT control is called) method
p20117
aVIn other words, only run the SQL UPDATE in the  method
p20118
aVUpdate 2: If you're looking for an SQL query to execute that doesn't change the table, you can use the following:
p20119
aValthough why you'd need this is beyond me
p20120
aVWhy can't you just not execute an SQL statement in the situation where the user presses the REJECT button
p20121
as(dp20122
g16
V14860
p20123
stp20124
a((dp20125
g2
(lp20126
VI believe standard SQL lets you use either  or  for an , so I'd be looking at:
p20127
aVWhether SQLite allows this I don't know for sure, hence the community wiki
p20128
as(dp20129
g16
V14860
p20130
stp20131
a((dp20132
g2
(lp20133
VThere's nothing in the standard that mandates how things are organized on the stack at all
p20134
aVIn fact, you could build a conforming compiler that didn't store array elements at contiguous elements on the stack at all, provided it had the smarts to still do array element arithmetic properly (so that it knew, for example, that a[1] was 1K away from a[0] and could adjust for that)
p20135
aVThe reason you may be getting different results is because, while the stack may grow down to add "objects" to it, the array is a single "object" and it may have ascending array elements in the opposite order
p20136
aVBut it's not safe to rely on that behaviour since direction can change and variables could be swapped around for a variety of reasons including, but not limited to:
p20137
aVoptimization
p20138
aValignment
p20139
aVthe whims of the person the stack management part of the compiler
p20140
aVSee here for my excellent treatise on stack direction :-)
p20141
aVIn answer to your specific questions:
p20142
aVDoes stack grow up or down
p20143
aVIt doesn't matter at all (in terms of the standard) but, since you asked, it can grow up or down in memory, depending on the implementation
p20144
aVWhat happen between a[2] and q memory addresses
p20145
aVWhy there are a big memory difference there
p20146
aV(20 bytes)
p20147
aVIt doesn't matter at all (in terms of the standard)
p20148
aVSee above for possible reasons
p20149
as(dp20150
g16
V14860
p20151
stp20152
a((dp20153
g2
(lp20154
VThere's always a risk in using beta software (but then again, there's always a risk in using any software)
p20155
aVThe whole reason it's called beta is because the company is not confident that it's got all the bugs worked out
p20156
aVOtherwise, it would have been released so they could start raking in the moola
p20157
aVThere are quite a few ways to mitigate the possibility of any beta software (not limited to VS2010 or even any programming-related product) from causing you trouble
p20158
aVChoose any from this list, which is by no means exhaustive:
p20159
aVDon't use it on the same data (be it accounting information or source code) until you've run it in parallel and gotten the same results as with the older version
p20160
aVPlan a backout strategy if the software is so bad that it's easier to go back than to try and go forward
p20161
aVBackup your data even more frequently during the periods where you're using the beta software, up until the point that you're comfortable with it and can revert to a more normal backup strategy
p20162
aVDon't use beta software at all - wait for the real release (or SP1 if you want to be even safer)
p20163
aVThere may not be a driving force behind updating to the latest version
p20164
aVAs a company, limit your exposure to the beta software to a small set of your employees
p20165
aVSo, for example, if you have six different teams, choose the least important as a sacrificial lamb, so to speak
p20166
aVMy own personal preference is to wait until everyone else has sorted out the problems first
p20167
aVI didn't upgrade to the latest Ubuntu while it was in beta (I still got burnt a little bit with the video and X but that particular problem already had a solution on the net)
p20168
aVI don't download the latest and greatest Eclipse until it's been in use for a few months
p20169
aVI'm still using VS2008 under Windows XP since there's nothing I think I need in the latest release (of VS or Windows)
p20170
aVWe obviously have the latest and greatest OS' in our test environments but they're crash-and-burn environments that won't cause any real pain if they blow up (other than a rebuild but even that's pretty painless nowadays)
p20171
aVFor your particular circumstance, I would probably stick with a tried and true version
p20172
aVYou don't seem to have a pressing need for any of the new features in your question and the sort of failure you're talking about is not just losing some information at work which, while annoying, is probably backed up to the point where your career would survive
p20173
aVA similar loss of your educational work would affect you for a long time if you fail your subject because of it
p20174
aVI would probably just concentrate on getting it finished rather than worrying about what VS2010 beta might do to my work
p20175
aVDon't misunderstand me, you should still be protecting your work even with VS2008 but I'd personally feel safer with that option
p20176
aVThen, if you have some spare time at the end of your project (hah
p20177
aVas if that would happen
p20178
aV, you could try to convert what you've done so far to VS2010
p20179
aVIf it all goes pear-shaped, you still have all the VS2008 stuff available
p20180
as(dp20181
g16
V14860
p20182
stp20183
a((dp20184
g2
(lp20185
VThere's only small differences between arrays and pointers so I'd opt for:
p20186
aVYou can see from the output that the locations of the variables in memory are different and that the content of the new strings is what you wanted:
p20187
as(dp20188
g16
V14860
p20189
stp20190
a((dp20191
g2
(lp20192
VIf you added it in the control panel while your command prompt was open, that won't affect your current command prompt
p20193
aVYou'll need to exit and re-open or simply do:
p20194
aVBy way of checking, execute:
p20195
aVfrom your command prompt and let us know what it is
p20196
aVOtherwise, make sure there is a javac in that directory by trying:
p20197
aVfrom the command prompt
p20198
aVYou can also tell which executable (if any) is being used with the command:
p20199
aVThis is a neat trick similar to the  and/or  commands in some UNIX-type operating systems
p20200
as(dp20201
g16
V14860
p20202
stp20203
a((dp20204
g2
(lp20205
VThat's fine for simple cases like:
p20206
aVbut it's far better to be explicit so that you don't have to worry about statements like:
p20207
aVYes, I know that's a contrived example but we don't know the intent of the coder from just the type on the left, especially if it's not being assigned to a variable at all (such as being passed as an argument to an overloaded function that can take one of int, float, double, decimal et al)
p20208
as(dp20209
g16
V14860
p20210
stp20211
a((dp20212
g2
(lp20213
VIt's not wise, unless documented, to rely on any call preserving specific registers
p20214
aVIf the doco for the syscall states that it only modifies certain registers, that's a contract with your code
p20215
aVIf it breaks that contract, it's a bug (although probably easier for you to fix in your own code than wait for the developer)
p20216
aVIf it states nothing of the sort, don't depend on it, convention or otherwise
p20217
aVWell-written calls will preserve all registers that aren't specifically used to return you information
p20218
aVBut, if you're not sure, and you need that register preserved, do it yourself before calling the syscall
p20219
as(dp20220
g16
V14860
p20221
stp20222
a((dp20223
g2
(lp20224
VCygwin is good if you want the entire set of UNIX tools (compiler, X servers, everything)
p20225
aVThe Cygwin DLL actually gives you a full-blown UNIX environment, command line tools, GUI stuff and programming environment so you can easily port UNIX software to Windows
p20226
aVI prefer GnuWin32 (GNU for Windows) myself since I can just add what I need
p20227
aVIt comes in packages so you don't have to install the lot
p20228
aVThey're also compiled natively for Windows without requiring the Cygwin DLL
p20229
aVFor example, I had a situation recently where I just needed awk on a particular box for some quick and dirty text file manipulation
p20230
aVI balked at having to install the entire Cygwin environment and GnuWin32 was a lot easier (and quicker)
p20231
aVIn terms of , you may also be interested to know that the Windows  is a bit more powerful than days of yore - it can do regular expressions as well nowadays
p20232
aVIt's still not even a pimple on the rear end of my beloved UNIX toolchain :-) but it may be a viable option depending on your needs:
p20233
as(dp20234
g16
V14860
p20235
stp20236
a((dp20237
g2
(lp20238
VThis is an opinion so I'm marking it Community Wiki
p20239
aVSolaris' days are past
p20240
aVThat's it, really, that's all I wanted to say, thanks for listening
p20241
aVOh, and by the way, so is AIX and HP-UX
p20242
aVLinux is the present and the future (at least for a while) - that's where you should be putting your effort
p20243
aVThat's where you'll get the best bang per buck for your support dollars
p20244
aVThat's where you'll get hordes of opinionated clowns like myself willing to give you help at the drop of a hat
p20245
as(dp20246
g16
V14860
p20247
stp20248
a((dp20249
g2
(lp20250
VIf your intent is to run , then rename its log file, and do that in an infinite loop, why not just use:
p20251
aVinstead of fiddling around with running recursive copies of the command file
p20252
as(dp20253
g16
V14860
p20254
stp20255
a((dp20256
g2
(lp20257
VThe code:
p20258
aVgives you a pointer to what it probably read-only memory
p20259
aVThat's because string constants in C are non-modifiable
p20260
aVWhen you try to write to that memory, you'll most likely get a segmentation violation
p20261
aVThe relevant part of the standard ( on ) states:
p20262
aVIt is unspecified whether these arrays are distinct provided their elements have the appropriate values
p20263
aVIf the program attempts to modify such an array, the behavior is undefined
p20264
aVSo, while the memory doesn't have to be read-only, you're still breaking the rules by trying to modify it
p20265
aVTry this instead:
p20266
aVwhich is conceptually the same as:
p20267
aVIn other words, it puts the string you want to change into writable memory
p20268
aVThe following code:
p20269
aVgives you  as you desired
p20270
aVA few other things I'd like to point out which are not fatal:
p20271
aVIt's not usually a good idea to use 'magic' numbers like  and
p20272
aVIt's just as easy, and clearer in intent, to use 'a' and 'z'
p20273
aVIf you really want to rotate, you can't blindly add 2 to 'y' and 'z'
p20274
aVYou have to treat them specially (subtract 24) so that they map correctly to 'a' and 'b'
p20275
aVThe C standard doesn't guarantee that alpha characters are contiguous
p20276
aVIf you know you're using ASCII, you're probably okay but I thought I'd just mention that
p20277
aVAs an aside, it does guarantee that for the numeric characters
p20278
aVHaving said that, I'd rather use a mapping table as follows:
p20279
aVThis takes care of all the points I raised above and you can, if necessary, add more mappings if you're in an internationalized environment (rather than just plain ASCII or EDCDIC)
p20280
aVThis should be, in my opinion, fast enough for all but the most demanding of requirements (I clocked it at over 3 million characters per second on my PC)
p20281
aVIf you have a near-insatiable need for performance over and above that, yet don't want to opt for hand-crafted assembly targeted to your specific CPU, you could try something like the following
p20282
aVIt's still fully compliant with the C standard but may deliver better performance by virtue of the fact all heavy calculation work is done once at the start
p20283
aVIt creates a table holding all possible character values, initializes it so that every character translates to itself by default, then changes the specific characters you're interested in
p20284
aVThat removes any checking for characters from the translation itself
p20285
as(dp20286
g16
V14860
p20287
stp20288
a((dp20289
g2
(lp20290
VActually, I'm going to offer another solution even though this question has an accepted answer
p20291
aVCreate a conversion table in the database itself along the lines of:
p20292
aVand just use a query (or sub-query or implicit/explicit join) to retrieve the textual value of the number you're interested in
p20293
aVThis greatly simplifies the code out on the client at the cost of minimal storage and a bit of table set-up
p20294
as(dp20295
g16
V14860
p20296
stp20297
a((dp20298
g2
(lp20299
VWell, my first thought would be that the main thread is actually exiting, and taking its stack frame with it, before the other threads are finished
p20300
aVFrom what I remember about pthreads (and this is over a decade and a half ago, using them with DCE), there's absolutely nothing special about the main thread other than the stack size
p20301
aVIf the array is declared global, the exit from  will have no effect on it but, if it's in the stack frame for , I'd be very careful using it after it exits
p20302
aVI'm basing this partially on guesswork since you haven't actually explained what the behavior is that you're seeing
p20303
aVI would suggest inserting the following code before the  in :
p20304
as(dp20305
g16
V14860
p20306
stp20307
a((dp20308
g2
(lp20309
VNo, this is not a feature of standard C
p20310
aVWhatever solution you need will need to be OS-specific
p20311
aVIf you have some specific OS' in mind, you should mention them
p20312
aVBut I'm having a hard time wondering why this would matter
p20313
aVIt's not required to be able to write C programs, so perhaps you could enlighten us
p20314
aVBased on your comment:
p20315
aVWhat I'm curious is "if each process gets an address space in memory, can I be able to print out the top-address and bottom-address of that process
p20316
aVAgain this depends on the OS
p20317
aVYour address space is not necessarily the physical memory you have, it's the totality of the locations you can address
p20318
aVFor example, an operating system based on x86 may give every single process its own 4G address space but you have to ask the OS for "backing" memory (actual real memory to put in that address space)
p20319
aVAnd some of that address space is actually shared amongst all processes (where the OS can load one physical copy of its code for the use of all processes, for example)
p20320
aVYou have to remember that virtual memory and physical memory are very different beasts
p20321
as(dp20322
g16
V14860
p20323
stp20324
a((dp20325
g2
(lp20326
VPseudocode only since it's homework, to be turned into your language of choice
p20327
aVAssuming the list has two or more numbers in it (indexes 0 and 1):
p20328
aVThis works by basically checking every number to see if it should be the new lowest or new second lowest number
p20329
aVIt can be done in one loop
p20330
aVWhat you want to do is to run this program in your head, writing down on paper what the variables get changed to
p20331
aVThat's a good way to understand how a computer works
p20332
aVConsider the list , following the following steps:
p20333
as(dp20334
g16
V14860
p20335
stp20336
a((dp20337
g2
(lp20338
VAlgorithms only since it's homework
p20339
aVI'd start with something simple
p20340
aVBased on your example, you don't want a full join of the list to itself, rather a list where element1 and element2 is identical to element2 and element1
p20341
aVIn other words, simply create a brand new list containing all the possibilities you need, then sort it based on the sum
p20342
aVAs to what types to use in Java, the original list can simply be an  array
p20343
aVI would opt for a independent class holding each combination (a simple class holding the two s making up the combination would be sufficient) and an array to hold the lot
p20344
aVThe actual combinations array size can be pre-calculated, example combinations are:
p20345
aVso, where you have  elements, there are  combinations, which actually works out to be  or
p20346
aVAnd knowing that, you don't actually need any of the expandable collection classes (such as ), you can just use something like:
p20347
aVThen once you've populated each element of that array using code similar to my pseudo-code above, Java provides  which you can use to sort the actual array
p20348
aVAlternatively (since this is homework), you may implement your own sort function, even something primitive like a bubble sort
p20349
aVI would never suggest that for production code since Java provides a rich tapestry of data types and methods, but it's probably acceptable for homework
p20350
aVUpdate: Actually, I just noticed the homework tag was added by somebody else, not the OP
p20351
aVNow I'm fully aware that is most likely is homework but we can't be sure
p20352
aVAnd since SO is meant to be a place for answers, I'm going to provide an implementation below
p20353
aVFair warning: if you want to learn how to solve problems, start with what I've provided above and don't read below until you've spent at least a couple of days trying to figure it out
p20354
aVIf you just want a solution to the problem then, by all means, feel free to use the code below as a starting point
p20355
aVIf you try to pass it off as your own work in a homework situation, you will fail because you would be supremely foolish to think your educators can't see this site as easily as you can
p20356
aVYou deserve everything you get in that case and you'll get no sympathy from me
p20357
aVI'm not going to bother providing a bubble-sort since that was only suitable for a homework question and, if that were the case, you wouldn't be reading down here, would you
p20358
aVFirst of all, a double integer class
p20359
aVNot the most complicated one to understand and I haven't bothered with true encapsulation (private data with setters and getters) since it's only a helper class, and has no need of such luxuries :-)
p20360
aVNext, the actual code to do the combining and sorting, :
p20361
aVAnd the output from that is (formatted to look nicer):
p20362
aVwhich is sorted by the sum of the individual values
p20363
aVChanging the injection line to  results in:
p20364
aVwhere you can see the behavior of duplicate sums (,  and ) - the Java array sort is a stable one if I remember correctly
p20365
as(dp20366
g16
V14860
p20367
stp20368
a((dp20369
g2
(lp20370
VThinking in bits in not that hard, you just need to convert, in your head, all the values into bits and work on them a bit at a time
p20371
aVThat sounds hard but it does get easier over time
p20372
aVA good first step is to start thinking of them as hex digits (4 bits at a time)
p20373
aVFor example, let's say  is 0x13,  is 0x22 and  is 0x0f:
p20374
aVThis particular example is a way to combine the top four bits of  with the bottom 4 bits of  (the mask decides which bits come from  and
p20375
aVAs the site says, it's an optimization of :
p20376
aVAside: I wouldn't be overly concerned about not understanding something on that page you linked to
p20377
aVThere's some serious "black magic" going on there
p20378
aVIf you really want to understand bit fiddling, start with unoptimized ways of doing it
p20379
as(dp20380
g16
V14860
p20381
stp20382
a((dp20383
g2
(lp20384
VHomework means pseudo-code only from me, which you've made relatively easy by not specifying what language you want anyway :-)
p20385
aVTurn this into your language of choice:
p20386
aVAn ideal thing to do is to actually run that algorithm in your head, using a piece of paper to keep track of variables:
p20387
aVeach the elements in the array
p20388
aVand
p20389
aVI tend to do that for simpler algorithms
p20390
aVHarder ones I insert debug statement into so that the computer can do that grunt work for me
p20391
aVStart with a piece of paper thus:
p20392
aVand just run through the steps one by one, checking and/or changing each column as you go
p20393
aVThat will result in you understanding how it works far better than just being given some code
p20394
as(dp20395
g16
V14860
p20396
stp20397
a((dp20398
g2
(lp20399
VActive and passive are the two modes that FTP can run in
p20400
aVFTP uses two channels between client and server, the command channel and the data channel, which are actually separate TCP connections
p20401
aVThe command channel is for commands and responses, the data channel is for actually transferring files
p20402
aVIt's a nifty way of sending commands to the server without having to wait for the current data transfer to finish
p20403
aVIn active mode, the client establishes the command channel (from client port  to server port (b)) but the server establishes the data channel (from server port (b) to client port , where  has been supplied by the client)
p20404
aVIn passive mode, the client establishes both channels
p20405
aVIn that case, the server tells the client which port should be used for the data channel
p20406
aVPassive mode is generally used in situations where the FTP server is not able to establish the data channel
p20407
aVOne of the major reasons for this is network firewalls
p20408
aVWhile you may have a firewall rule which allows you to open up FTP channels to , Microsoft's servers may not have the power to open up the data channel back through your firewall
p20409
aVPassive mode solves this by opening up both types of channel from the client side
p20410
aVIn order to make this hopefully clearer:
p20411
aVActive mode:
p20412
aVClient opens up command channel from client port 2000(a) to server port 21(b)
p20413
aVClient sends (a) to server and server acknowledges on command channel
p20414
aVServer opens up data channel from server port 20(b) to client port 2001(a)
p20415
aVClient acknowledges on data channel
p20416
aVPassive mode:
p20417
aVClient opens up command channel from client port 2000(a) to server port 21(b)
p20418
aVClient sends  to server on command channel
p20419
aVServer sends back (on command channel) (a) after starting to listen on that port
p20420
aVClient opens up data channel from client 2001(a) to server port 1234(a)
p20421
aVServer acknowledges on data channel
p20422
aVAt this point, the command and data channels are both open
p20423
aV(a)Note that the selection of ports on the client side is up to the client, as the selection of the server data channel port in passive mode is up to the server
p20424
aV(b)Further note that the use of port 20 and 21 is only a convention (although a strong one)
p20425
aVThere's no absolute requirement that those ports be used although the client and server both have to agree on which ports are being used
p20426
aVI've seen implementations that try to hide from clients by using different ports (futile, in my opinion)
p20427
as(dp20428
g16
V14860
p20429
stp20430
a((dp20431
g2
(lp20432
VIn terms of C compilers, I wouldn't be able to do without gcc
p20433
aVBut C isn't the only game in town
p20434
aVI quite often put together fast little applications in Python and slightly more complicated desktop ones in Java (the Sun one, not gcj)
p20435
aVI wouldn't choose your language for an application
p20436
aVIt's a far better option to choose your application then do it in a language that suits
p20437
aVIf C is all you know then use it
p20438
aVBut I find the huge library of data structures and algorithms in Java (and Python) to be invaluable at cranking out code fast
p20439
aVI don't know much about HPUX or Solaris but, even on AIX, I prefer to use gcc in preference to xlC, the IBM compiler
p20440
as(dp20441
g16
V14860
p20442
stp20443
a((dp20444
g2
(lp20445
VWindows has the  control panel applet (or management console plug-in on later versions of Windows) but you can also access it via  if you want to automate it from the command line
p20446
aVIn addition, you can also use  from the command line to schedule a task
p20447
as(dp20448
g16
V14860
p20449
stp20450
a((dp20451
g2
(lp20452
VIf tcsh is anything like csh (and I think it is), you should be able to use:
p20453
aVto execute the second-last command ( is equivalent to )
p20454
aVAlternatively, you could use  to check out your last few commands and just use:
p20455
aVwhere  is the command number
p20456
as(dp20457
g16
V14860
p20458
stp20459
a((dp20460
g2
(lp20461
VI can't think of another way to do it, simply because you need to both swap and compare to detect if you're allowed to proceed
p20462
aVIf you don't have a compare-and-swap command, you'll have to implement it with a looping swap and compare, something like:
p20463
aVIt's only really klunky if you're doing it in a lot of places in your code
p20464
aVI've often found that isolating 'klunky' code to a function (like above) makes it far less klunky since you then end up with lots of code segments looking like the much simpler:
p20465
aVor, if you want your code even simpler, provide separate  and  functions:
p20466
aVThen your code sequences become:
p20467
aVor, if you can do macros, an even simpler:
p20468
as(dp20469
g16
V14860
p20470
stp20471
a((dp20472
g2
(lp20473
VI don't believe it will be possible to get  for both insertion and lookup
p20474
aVThe minute you add an array (or even fancy, splittable vectors), the insertion becomes
p20475
aVThere are ways to mitigate the damage depending on the expected behavior of your list
p20476
aVIf there will be a lot more lookups than insertions/deletions, it may be better to just use vectors (variable-sized arrays) - these are reasonably efficient, not quite like arrays, but better than traversing lists (since these tend to be lists of arrays, it's still technically traversing a list, but each element in the list typically has its size, which makes it more efficient)
p20477
aVIf insertions and deletions are more frequent, you can make the index build a lazy one so that it's only done when required
p20478
aVFor example, inserts and deletes will only change the linked list portion (and mark the index as dirty) - only when someone tries to use the index will it be rebuilt and marked as clean
p20479
aVYou can even optimize the rebuild by keeping a record of the first dirty entry
p20480
aVThis will mean if you only insert or delete in the last half of the list, you don't need to rebuild the entire index when someone wants to use it
p20481
aVA solution I once implemented was a 2D List
p20482
aVBy this, I mean:
p20483
aVWhile this made both insertion and lookup O(n), the balance was right
p20484
aVIn a pure array solution, lookup is  and insertion is
p20485
aVFor a pure linked list, insertion is  (once you've found the insertion point, of course, an operation that is itself ) and lookup is
p20486
aVThe 2D list is  for both but with a lower factor
p20487
aVIf you're looking to insert, you can find the right column simply by examining the first row of each column
p20488
aVThen you traverse the column itself looking for the right row
p20489
aVThen the item is inserted and the count for that column is increased
p20490
aVSimilarly for deletions although in that case the count is decreased, and the entire column is removed when its count reaches zero
p20491
aVFor an index lookup, you traverse the columns to find the correct column, then traverse the items in the column to get the right item
p20492
aVAnd, it can even be auto-adjusting by trying to keep the maximum height and width roughly the same
p20493
as(dp20494
g16
V14860
p20495
stp20496
a((dp20497
g2
(lp20498
VIn standard SQL (there may be better ways in vendor-specific implementations but I tend to prefer standard stuff where possible):
p20499
aVYou may also want to limit your select statement a little more depending on the results of your testing, such as uncommenting the  line above to stop copying all your 2009 and 2008 data as well, if any
p20500
aVI asume you only wanted to carry forward the previous year's stuff with a 10% increase on  and
p20501
aVThe way this works is to run the  which gives modified data for ,  and  as per your request, and pump all those rows back into the
p20502
as(dp20503
g16
V14860
p20504
stp20505
a((dp20506
g2
(lp20507
VFrom here (paraphrased):
p20508
aVStrToDate does not use ShortDateFormat to check the actual format; it uses it only to determine the order of y,m,d and then uses DateSeparator to determine the actual date separator character
p20509
aVSo what you need is:
p20510
aVYou may want to think about either:
p20511
aVsaving  and  before doing this so you can restore them (they're set initially based on your locale); or
p20512
aVusing dates based on your actual settings, and not change those two values at all
p20513
as(dp20514
g16
V14860
p20515
stp20516
a((dp20517
g2
(lp20518
VThis will give (255,255,255 = white) for  and (0,0,255 = blue) for
p20519
as(dp20520
g16
V14860
p20521
stp20522
a((dp20523
g2
(lp20524
VSection 6
p20525
aV4 of the C++ standard (draft n2914 of c++0x) has this to say about the format of  statements:
p20526
aVSelection statements choose one of several flows of control
p20527
aV
p20528
aV
p20529
aV
p20530
aV
p20531
aV
p20532
aV
p20533
aV
p20534
aV
p20535
aVThat bit at the end means a condition can be either an expression or a decalarator-type construct
p20536
aVAnd the minute the parser hits that second parenthesis, it becomes an expression, so no declarations allowed, I'm afraid
p20537
aVThe snippet:
p20538
aVis perfectly valid C++ in which the if section defines an integer  for the duration of the  and sets it to 2
p20539
aVIt then uses that 2 as the input to the  (2 is always true, being non-zero)
p20540
aVThe snippet  is no different syntactically to  which is not valid C++
p20541
as(dp20542
g16
V14860
p20543
stp20544
a((dp20545
g2
(lp20546
VYou can always turn a recursive problem into an iterative one if you maintain your own stack of important data - that's if the reason for avoiding recursion is that the language doesn't support it
p20547
aVBut, if the language does support it, then recursive solutions are far more elegant
p20548
aVThe only other reason I can think of for avoiding recursion is limited stack depth
p20549
aVIn that case an iterative conversion of a recursive solution will mitigate the problem by not requiring as much stack space
p20550
aVBut you need to understand that the stack depth for processing n numbers only grows relative to log10n
p20551
aVIn other words, you only get an extra stack frame per digit (only 10 stack frames to handle the full range of 32-bit integers)
p20552
aVAside: by the time you get to that point, you're algorithm will be taking so long to run, stack frames will be the least of your problems :-)
p20553
aVHere's a recursive Python solution:
p20554
aVwhich outputs (for 2 and 3):
p20555
aVKeep in mind that solution could still be optimized somewhat - I left it in its initial form to show how elegant recursion can be
p20556
aVA pure-iterative solution follows, but I still prefer the recursive one
p20557
aVRun the following program and use  and  under UNIX to get the desired order
p20558
aVFor example:
p20559
aVNote that this uses external tools to do the sorting but you could just as easily sort within the C code (memory permitting)
p20560
as(dp20561
g16
V14860
p20562
stp20563
a((dp20564
g2
(lp20565
VNo, it's not POSIX behaviour, it's ISO behaviour (well, it is POSIX behaviour but only insofar as they conform to ISO)
p20566
aVStandard output is line buffered if it can be detected to refer to an interactive device, otherwise it's fully buffered
p20567
aVSo there are situations where  won't flush, even if it gets a newline to send out, such as:
p20568
aVThis makes sense for efficiency since, if you're interacting with a user, they probably want to see every line
p20569
aVIf you're sending the output to a file, it's most likely that there's not a user at the other end (though not impossible, they could be tailing the file)
p20570
aVNow you could argue that the user wants to see every character but there are two problems with that
p20571
aVThe first is that it's not very efficient
p20572
aVThe second is that the original ANSI C mandate was to primarily codify existing behaviour, rather than invent new behaviour, and those design decisions were made long before ANSI started the process
p20573
aVEven ISO nowadays treads very carefully when changing existing rules in the standards
p20574
aVAs to how to deal with that, if you  after every output call that you want to see immediately, that will solve the problem
p20575
aVAlternatively, you can use  before operating on , to set it to unbuffered and you won't have to worry about adding all those  lines to your code:
p20576
aVJust keep in mind that may affect performance quite a bit if you are sending the output to a file
p20577
aVAlso keep in mind that support for this is implementation-defined, not guaranteed by the standard
p20578
aVISO C99 section  is the relevant bit:
p20579
aVWhen a stream is unbuffered, characters are intended to appear from the source or at the destination as soon as possible
p20580
aVOtherwise characters may be accumulated and transmitted to or from the host environment as a block
p20581
aVWhen a stream is fully buffered, characters are intended to be transmitted to or from the host environment as a block when a buffer is filled
p20582
aVWhen a stream is line buffered, characters are intended to be transmitted to or from the host environment as a block when a new-line character is encountered
p20583
aVFurthermore, characters are intended to be transmitted as a block to the host environment when a buffer is filled, when input is requested on an unbuffered stream, or when input is requested on a line buffered stream that requires the transmission of characters from the host environment
p20584
aVSupport for these characteristics is implementation-defined, and may be affected via the  and  functions
p20585
as(dp20586
g16
V14860
p20587
stp20588
a((dp20589
g2
(lp20590
VFor a three-digit number (negative or positive), you just need to divide it into sections and remember that numbers less than 20 are special (in any block of a hundred)
p20591
aVAs pseudo-code (well, Python, actually but close enough to pseudo-code), we first define the lookup tables:
p20592
aVNote that there's no  for numbers between ten and nineteen
p20593
aVAs previously mentioned, numbers under twenty in each block of a hundred are treated specially
p20594
aVThen we have the function which first checks the input value and handles negative numbers as a one-level recursive call
p20595
aVIt also handles the special case of zero:
p20596
aVNext step is to work out the three digits in the number:
p20597
aVHundreds are simple since it's only zero through nine:
p20598
aVThe rest is simply treating values from zero to nineteen as special, otherwise we treat it as ty  (like  or ):
p20599
aVAnd a quick and dirty test suite at the bottom:
p20600
aVproduces:
p20601
as(dp20602
g16
V14860
p20603
stp20604
a((dp20605
g2
(lp20606
VWhen you run a shell script, it executes in a sub-shell
p20607
aVWhat you need is to execute it in the context of the current shell, by sourcing it with:
p20608
aVor:
p20609
aVThe latter is my preferred approach since I'm inherently lazy
p20610
aVIf you're talking about system-wide scope inasmuch as you want to affect everybody, you'll need to put your commands in a place where they're sourced at login time (or shell creation time),  for example
p20611
aVWhere you put your commands depends on the shell being used
p20612
aVYou can find out what scripts get executed by examining the  page for your shell:
p20613
aVThe  shell, when invoked as a login shell (including as a non-login shell but with the  parameter), will use  and the first of ,  or
p20614
aVNon-login  shells will use
p20615
aVunless invoked with  or , the files  and
p20616
aVI'm pretty certain it's even more convoluted than that depending on how the shell is run, but that's as far as my memory stretches
p20617
aVThe  page should detail it all
p20618
as(dp20619
g16
V14860
p20620
stp20621
a((dp20622
g2
(lp20623
VAs long as the limits of your command-line handling code (e
p20624
ag1775
aV,  or  itself) are not exceeded, you should have no technical problems in doing this
p20625
aVWhether it's a good idea is another matter
p20626
aVDo you really want to have to type in a couple of hundred kilobytes every single time you run your program
p20627
aVDo you want to have to remember to put quotes around your data if it contains spaces
p20628
aVThere are a number of ways I've seen this handled which you may want to consider (this list is by no means exhaustive):
p20629
aVChange your code so that, if there's no arguments, read the information from standard input - this will allow you to do either
p20630
aV
p20631
aVor
p20632
aV
p20633
aVUse a special character to indicate file input (I've seen  used in this way)
p20634
aVSo,
p20635
aV
p20636
aVwould use the data supplied on the command line whilst
p20637
aV
p20638
aVwould get the data from the file
p20639
aVMy advice would be to use the file-based method for that size of data and allow an argument to be used if specified
p20640
aVThis covers both possible scenarios:
p20641
aVLots of data, put it in a file so you won't have to retype it every time you want to run your command
p20642
aVNot much data, allow it to be passed as an argument so that you don't have to create a file for something that's easier to type in on the command line
p20643
as(dp20644
g16
V14860
p20645
stp20646
a((dp20647
g2
(lp20648
VFrom what I know,  is what provides the line-editing functionality for bash
p20649
aVOne proviso: when you press  in vi command mode, you get the full blown  editor to edit your command line
p20650
aVFrom :
p20651
aVREADLINE
p20652
aVThis is the library that handles reading input when using an interactive shell, unless the  option is given at shell invocation
p20653
aVBy default, the line editing commands are similar to those of emacs
p20654
aVA vi-style line editing interface is also available
p20655
aVTo turn off line editing after the shell is running, use the  or  options to the  builtin
p20656
aVWhen the shell presents you with a prompt (unless you're in non-editing mode), you're already using
p20657
aVYou'll either be in emacs mode or vi insert mode (which is why you can just use  to get back to vi command mode)
p20658
as(dp20659
g16
V14860
p20660
stp20661
a((dp20662
g2
(lp20663
VThe general idea of recursion is to have a terminating position that returns a constant value of some sort and then every other case is built on top of that
p20664
aVFor example, the factorial function,  has the following terminating condition and dependent functions:
p20665
aVso could be implemented as:
p20666
aVIn your particular case, the terminating condition is when either string is empty, at which point you just tack the other string onto the end
p20667
aVThe dependent function is simply to grab the first character from the first string then call the next level down passing the rest of that string and the other string, but in reverse order so that you alternate
p20668
aVIn Java, this would translate to the following
p20669
aVBe warned that, if this is homework and you use this, you will almost certainly fail since you would be foolish to think your educators are not monitoring these sites
p20670
aVoutputs:
p20671
as(dp20672
g16
V14860
p20673
stp20674
a((dp20675
g2
(lp20676
VFirst things first:
p20677
aVwill give you an 14-element array , not 15 elements as you seem to think
p20678
aVSecondly, your inner loop isn't quite right
p20679
aVYours start at index 1 and go through to index 15 whereas, because C array are zero-based, you should be cycling from 0 through to 14
p20680
aVYou can fix that by changing the loop condition to  and moving the  to just before the end of the inner loop
p20681
aVJust to clarify that point, you do actually start the loop at 0 but, because the first thing you do in the loop is  before using , you're processing the elements starting at index 1
p20682
aVAnd, in the last run of the loop, where  (14 as per your other comments here), you increment it to 15 and use that, which is beyond the end of the array
p20683
aVAnd, just to clarify that clarification :-), your loop is correct if you have howmany set to 14 (i
p20684
ag75
aV, one less than the number of array elements) since, as you point out in a comment elsewhere, you load up element zero before entering the inner loop
p20685
aVI think you do still need to set  whenever you set  though
p20686
aVIf that's not done, I get two 6's and two 2's in my list and no 3 or 4
p20687
aVAs a side issue to your comment that  is set to 14, I would suggest that variable names should echo their intent
p20688
aVYou clearly have 15 elements in the array (indexes 0 through 14 inclusive)
p20689
aVDon't take that as criticism, I'm just trying to help out
p20690
aVThirdly, (and finally, I think), you're not setting  every time you're setting  - these should be kept in sync for your algorithm to work correctly
p20691
aVPlease let us know whether this is homework
p20692
aVIf not, I'll post my solution
p20693
aVIf so, you should work it out from the guidelines given in this, and other, answers
p20694
aVYou should be aware that, if it is homework and you use a solution posted on a public forum on the internet (such as this one), you will almost certainly be failed for plagiarism
p20695
aVDo not make the mistake of thinking your educators don't check that sort of stuff
p20696
aVBottom line, while I'm happy to post my solution, you probably shouldn't use it as classwork
p20697
aVTop marks though for at least giving it a shot first
p20698
aVMost homework seeker seem to come here with nothing more than the specs :-)
p20699
aVUpdate: Since you posted the following:
p20700
aVSorry to mention but this is part of an extra credit project for a class
p20701
aVI guess it's classwork
p20702
aVSo, no soup for you :-) Still, the three points above should be enough for you to fix it
p20703
aVIf you have specific questions about them, feel free to ask in a comment attached to this answer
p20704
aVGood luck
p20705
as(dp20706
g16
V14860
p20707
stp20708
a((dp20709
g2
(lp20710
VI don't think you can do this in a portable Python fashion
p20711
aVBut there are two possibilities
p20712
aVThe information is available from the  command so you could analyze that
p20713
aVIf you have a system with the  file systems, you can open the file  and search for the line containing , then do the same for that PID
p20714
aVFor example the following script will get you your PID, PPID and PPPID, permissions willing:
p20715
aVproduces:
p20716
aVObviously, you'd have to open those files with Python
p20717
as(dp20718
g16
V14860
p20719
stp20720
a((dp20721
g2
(lp20722
VIncredibly unlikely since, typically, you don't get the entire contents of the library injected into your executable
p20723
aVYou only get enough to satisfy all the undefined symbols
p20724
aVThis may actually only be a small proportion of the library
p20725
aVA library generally consists of a set of object files of which only those that are required are linked into your executable
p20726
aVFor example, if the only thing you called in the C runtime library was , you would be very unlikely to have the  family of functions in your executable
p20727
aVIf you linked with the object files directly, you may have a chance, since they would be included whether used or not (unless your linker is a smart one)
p20728
aVBut even that would be a Herculean task as there may be no information in the executable as to what code sections came from specific object files
p20729
aVIt's potentially doable but, if there's another way, I'd be looking at that first
p20730
aVLet me clarify the typical process:
p20731
aVFour object files, , ,  and  contain the functions , ,  and  respectively
p20732
aVThey are all added to the  archive
p20733
aVThey are all standalone (no dependencies) except for the fact that  calls
p20734
aVYou have a main program which calls  and  and you compile it then link it with the  library
p20735
aVThe linker drags  and  out of the library and into your executable, satisfying the need for  and  but introducing a need for , because  needs it
p20736
aVThe linker then drags  out of the library and into your executable, satisfying the need for
p20737
aVNow all undefined symbols are satisfied, the executable is done and dusted, you can run it when ready
p20738
aVAt no stage in that process was  dragged into your executable so you have zero hope of getting it out
p20739
aVUpdate: Re the "if there's another way, I'd be looking at that first" comment I made above, you have just stated in a comment to one of the other answers that you have the source code that made the libraries you want extracted
p20740
aVI need to ask: why can you not rebuild the libraries with that source
p20741
aVThat seems to me a much easier solution than trying to recreate the libraries from a morass of executable code
p20742
as(dp20743
g16
V14860
p20744
stp20745
a((dp20746
g2
(lp20747
VYour lines need the continuation character if you're going to run the string literals over multiple lines
p20748
aVPut a  character at the end of each line or use string concatenation
p20749
aVIn other words, you could turn the incorrect:
p20750
aVinto:
p20751
aVor:
p20752
aVYou don't actually need your HTML to be nicely formatted but, if you really want it in a form that you can print nicely, you can put embedded newlines into it as well:
p20753
aVFor readability of the code, I would use something like:
p20754
aVand then pass it through a compressor to get a much shorter version for distribution
p20755
as(dp20756
g16
V14860
p20757
stp20758
a((dp20759
g2
(lp20760
VPresumably you will store your articles separately from your users (to satisfy 3NF)
p20761
aVTo that end, I'd start with something like:
p20762
aVThe data types for the primary keys are in your hands (they don't affect the 3NF aspect)
p20763
aVWhether you wish to split the article text into paragraphs or add keywords to articles and so on is expansion from that
p20764
aVThis is where you should be starting from
p20765
aVThese are the things that come to mind immediately that I'd be looking at beyond the basic structure given above
p20766
aVKeywords or search terms for articles, kept in another two tables, one to hold the keywords themselves and the other to hold a many-to-many relationship between keywords and articles
p20767
aVSynopses of the articles, can simply be another column in the Articles table
p20768
aVArticles that end up needing more than the maximum space allotted, in which case the article text can be split out to another table with a foreign key reference to  and a sequence number to order the article pieces
p20769
as(dp20770
g16
V14860
p20771
stp20772
a((dp20773
g2
(lp20774
VIf you want to select lines then strip out the bits you don't want:
p20775
aVIt basically selects the lines you want with  and then uses  to strip off the bits before and after the number
p20776
aVYou can see this in action here:
p20777
aVUpdate: obviously if you actual situation is more complex, the REs will need to me modified
p20778
aVFor example if you always had a single number buried within zero or more non-numerics at the start and end:
p20779
as(dp20780
g16
V14860
p20781
stp20782
a((dp20783
g2
(lp20784
VAs with most OO languages, static variables do not belong to an individual object
p20785
aVThat means a single copy of the variable is shared by all objects in that class
p20786
aVIt also means the variable exists regardless of whether there are any objects in existence for that class
p20787
aVWhat's happening here is that you're calling the static method which increments the static variable
p20788
aVNo surprises there
p20789
aVis not a singleton
p20790
aVA singleton is defined as a class that never allows itself to have more then one object
p20791
aVHere (and in C++ for that matter), you can argue that the static member is like a singleton inasmuch as there's only ever one in existence but that is not the true definition of a singleton class, just a side-effect of being shared among objects
p20792
as(dp20793
g16
V14860
p20794
stp20795
a((dp20796
g2
(lp20797
VIn pseudo code (well, Python actually, but it's as close to pseudo code as a real language gets):
p20798
aVThis outputs:
p20799
aVThe way it works is relatively simple (most recursive solutions are once you understand them)
p20800
aVThe starting condition is when you have no prefix and a suffix that you need to iterate over to get all the different possibilities of mixed case
p20801
aVThe terminating condition is simply when there's no letters left to select two cases for
p20802
aVEvery other condition you simply recur twice, once with the lower case letter and once with the upper
p20803
aVKeep in mind that this will not handle non-alpha characters properly, it's only meant to show you how the logic works
p20804
aVFor example for the string "a
p20805
aV, you will get four lines of output even though "
p20806
aVis the same in upper and lower case
p20807
aVFor proper handling of that, you would use:
p20808
aVwhich only gives 8 lines instead of 64
p20809
aVThe equivalent in Java, since this isn't homework, is:
p20810
as(dp20811
g16
V14860
p20812
stp20813
a((dp20814
g2
(lp20815
VPre-calculation is the way to go if you want maximum speed
p20816
aVSince you have 216 (65,536) possible inputs, the naive approach would be to have an array of that many 16-bit values (for a total of 128K memory used)
p20817
aVBut that can be improved on a little bit if you don't want to use all that memory (at the cost of a little speed)
p20818
aVAssuming your inputs are in radians (I'm assuming they are since your ranges for a 4
p20819
aV12 number is 0 through 15
p20820
aV999
p20821
aV, not enough to represent all degrees in a circle), you can take advantage of the facts that:
p20822
aVSo your lookup table only needs to hold the values between 0 and PI/2 radians, cutting storage requirements dramatically: you only store between 0 and PI/2 (~1
p20823
aV571) rather than your full range of 0 through 15
p20824
aV999
p20825
aV, a reduction of some 90%
p20826
aVThen you just need to reduce values to below 2*PI radians with a modulo (first rule) and modify it with the other two rules to find the right index to lookup
p20827
aVModulo will work on fixed point as quickly as on integers
p20828
aVSo you'd be looking at something like:
p20829
aVThat  function shows how cheap it is to get cosines from the same table since they're really just a 90 degree phase shift from sines
p20830
aVIf speed is of extreme importance and memory is irrelevant, just use the full range of indexes so no calculations are required
p20831
aVAnother trick, if you're willing to sacrifice some accuracy, at the gain of using less memory, is to not store lookup values for all input values
p20832
aVGiven that the sine function is a smooth one (no discontinuities), you could store every second value and interpolate the values for those in between by simply averaging those on either side of it
p20833
aVFor example, if we had the function , a table of the real and interpolated values follows (assume we only store the values for even , odd values of  are interpolated, marked with  below):
p20834
aVNow, that's not a perfect example since the spreads between the f(x) values can be quite large but it works better for functions where the values are closer together
p20835
aVFor example, the real values of sin(0), sin(1) and sin(2) (degrees, not radians) are 0, 0
p20836
aV017452406 and 0
p20837
aV034899496 (and this is where the slope is the largest)
p20838
aVThe average of sin(0) and sin(2) is 0
p20839
aV017449748 which is an error of 0
p20840
aV0152% from the real value, one part in 6,500
p20841
aVSo, for a minimal error, you could halve your memory requirements to about 5% of 128K, or six and a half K
p20842
as(dp20843
g16
V14860
p20844
stp20845
a((dp20846
g2
(lp20847
VThe CDT only provides you with the facilities in Eclipse to edit and understand C files
p20848
aVIt does not, to my knowledge, incorporate a compiler (unlike the JDT)
p20849
aVYou need to install and configure a C compiler that the CDT can use
p20850
aVIf you're on Linux, you'll probably already have gcc installed that you can use
p20851
aVThe only time I ever had to install a C development environment under Windows, I actually used MinGW although you could use Cygwin since it comes with the gcc compiler as well
p20852
aVI used MinGW since it's only the development suite (hence the "minimalist" in "Minimalist GNU for Windows") whereas Cygwin include all sorts of extra stuff
p20853
as(dp20854
g16
V14860
p20855
stp20856
a((dp20857
g2
(lp20858
VI've never struck a pre-req for using jQuery itself
p20859
aVAll it needs is a Javascript implementation
p20860
aVThere may be pre-reqs for specific add-ons to jQuery but that will depend on the add-on itself
p20861
aVI've used it successfully on Firefox 2 and 3 and IE6 and 7 - I don't know if you'll strike any problems with IE8 but I imagine they'd be fixed up pretty fast
p20862
as(dp20863
g16
V14860
p20864
stp20865
a((dp20866
g2
(lp20867
VSection , "Constant expressions", of the ISO C99 standard is the section you need
p20868
aVIt states:
p20869
aVConstant expressions shall not contain assignment, increment, decrement, function-call,
p20870
aVor comma operators, except when they are contained within a subexpression that is not
p20871
aVevaluated
p20872
aVIn the C99 rationale document from ISO, there's this little snippet:
p20873
aVAn integer constant expression must involve only numbers knowable at translation time, and operators with no side effects
p20874
aVAnd, since there's no point in using the comma operator at all if you're not relying on side effects, it's useless in a constant expression
p20875
aVBy that, I mean there's absolutely no difference between the two code segments:
p20876
aVsince the  doesn't actually do anything
p20877
aVIn fact,
p20878
aVis a perfectly valid, though not very useful, C statement, something most people don't comprehend until they get to know the language better
p20879
aVHowever, there is a difference between these two statements:
p20880
aVThere's a side effect in the latter use of the comma operator which is to set the variable  to
p20881
aVAs to why they don't like side effects in constant expressions, the whole point of constant expressions is that they can be evaluated at compile-time without requiring an execution environment - ISO makes a distinction between translation (compile-time) and execution (run-time) environments
p20882
aVThe clue as to why ISO decided against requiring compilers to provide execution environment information (other than stuff contained in header files such as ) can be found a little later in the rationale document:
p20883
aVHowever, while implementations are certainly permitted to produce exactly the same result in translation and execution environments, requiring this was deemed to be an intolerable burden on many cross-compilers
p20884
aVIn other words, ISO didn't want the manufacturers of cross-compilers to be burdened with carrying an execution environment for every possible target
p20885
as(dp20886
g16
V14860
p20887
stp20888
a((dp20889
g2
(lp20890
VAll those warnings and errors are caused by the missing  before  in your  rule
p20891
aVThe hint is the unused  in a snippet that's plainly should only have 3 arguments
p20892
aVThat problem cascades into all the others
p20893
aVChange:
p20894
aVinto:
p20895
aVand try again
p20896
as(dp20897
g16
V14860
p20898
stp20899
a((dp20900
g2
(lp20901
VYou should evolve
p20902
aVThanks for listening :-)
p20903
aVActually, I'll expand on that
p20904
aVYou're right that C99 has been around for quite a while
p20905
aVYou should (in my opinion) be using that standard for anything other than legacy code (where you just fix bugs rather than add new features)
p20906
aVIt's probably not worth it for legacy code but you should (as with all business decisions) do your own cost/benefit analysis
p20907
aVI'm already ensuring my new code is compatible with C1x - while I'm not using any of the new features yet, I try to make sure it won't break
p20908
aVAs to what code to look out for, the authors of the standards take backward compatibility very seriously
p20909
aVTheir job was not ever to design a new language, it was to codify existing practices
p20910
aVThe phase they're in at the moment allows them some more latitude in updating the language but they still follow the Hippocratic oath in terms of their output: "first of all, do no harm"
p20911
aVGenerally, if your code is broken with a new standard, the compiler is forced to tell you
p20912
aVSo simply compiling your code base will be an excellent start
p20913
aVHowever, if you read the C99 rationale document, you'll see the phrase "quiet change" appear - this is what you need to watch out for
p20914
aVThese are behavioral changes in the compiler that you don't need to be informed about and may be the source of much angst and gnashing of teeth if your application starts acting strange
p20915
aVDon't worry about the "quiet change in c89" bits - if they were a problerm, you would have already been bitten by them
p20916
aVThat document, by the way, is an excellent read to understand why the actual standard says what it says
p20917
as(dp20918
g16
V14860
p20919
stp20920
a((dp20921
g2
(lp20922
VNormally, your SQL would contain a random function of some sort (it looks like Access has the  function for this)
p20923
aVSo you could use:
p20924
aVThis will let you see r for testing purposes
p20925
aVIn a real query, you might just want to use something like:
p20926
aVFrom this page:
p20927
aVWhen value is greater than 0, Rnd() returns the next random number
p20928
aVWhen value is less than 0, Rnd() returns the same random number, based on value
p20929
aVIf value occurs only once, you won\u2019t notice this behavior
p20930
aVAccess also resets seed, which means the sequence starts all over again
p20931
aVWhen value is equal to 0, Rnd() returns the most recently generated random number
p20932
aVUpdate 1: I'm unsure as to whether  is executed once in the following queries or once per row - the docs aren't clear
p20933
aVComments seem to indicate the same results are being received for all rows which indicates it may be the latter
p20934
aVIt may be that changing it to  or  will fix that problem
p20935
aVI'll have to check when I get to a box with Access installed
p20936
aVUpdate 2: I've now tested this in Access 2007 and it does indeed give the same random value for every row when you use rnd(1)
p20937
aVIt does give a different value for  each time you run the query and the individual rows get different values
p20938
aVSo the query you need is:
p20939
aVIf you create a table with two  fields and then run that query over it, you'll see that continual refreshing (with ) will swap around the ,  and  rows at random but leave the  and  rows in the same place since the weights of the first three are all  and the weights of the last two are  and  respectively
p20940
aVI've updated the queries above to match this new information
p20941
as(dp20942
g16
V14860
p20943
stp20944
a((dp20945
g2
(lp20946
Vwill work if modulo gives you a value between -359 and 359
p20947
aVI'd personally put this in a separate function since it's as ugly as sin
p20948
aVThe first modulo gives you a value from -359 to 359
p20949
aVThe addition bumps that up to something between 1 and 719
p20950
aVThe second modulo brings that back to the range you want, 0 through 359
p20951
aVFor code golf, 29 characters including the newline in Python:
p20952
aVNot that Python actually needs it:  gives you 355 in that language :-)
p20953
as(dp20954
g16
V14860
p20955
stp20956
a((dp20957
g2
(lp20958
VIf you choose a numeric data type, there will be no difference between 7
p20959
aV1 and 7
p20960
aV10 at all
p20961
aVWhat I would do in this case is actually split the column into two, an integer and decimal portion
p20962
aVSo 7
p20963
aV1 would be stored as 7 and 1, 7
p20964
aV10 would be stored as 7 and 10
p20965
aVIf it's a simple two-part (major/minor) number, that would work well enough, I think
p20966
aVYour query then becomes:
p20967
aVFor a multi-part number (like chapter headings, 3
p20968
ag2193
ag9967
ag630
aV9 and so on), I'd still split it but probably use a separate table for holding the components
p20969
as(dp20970
g16
V14860
p20971
stp20972
a((dp20973
g2
(lp20974
VEvery index you add may increase the speed of your queries
p20975
aVIt will decrease the speed of your updates, inserts and deletes and it will increase disk space usage
p20976
aVI, for one, would rather keep the control to myself, using tools such as DB Visualizer and explain statements to provide the information I need to evaluate what should be done
p20977
aVI do not want a DBMS unilaterally deciding what's best
p20978
aVIt's far better, in my opinion, that a truly intelligent entity be making decisions re database tuning
p20979
aVThe DBMS can suggest all it wants but the final decision should be left up to the DBAs
p20980
aVWhat happens when the database usage patterns change for one week
p20981
aVDo you really want the DBMS creating indexes and destroying them a week later
p20982
aVThat sounds like a management nightmare scenario right up alongside Skynet :-)
p20983
as(dp20984
g16
V14860
p20985
stp20986
a((dp20987
g2
(lp20988
VJust a couple of questions:
p20989
aVWhat is  set to
p20990
aVWhat is  set to
p20991
aVThat is, I suspect, where your problem lies
p20992
aVI'd be looking at  myself to make sure you've set it
p20993
aVUpdate:
p20994
aVIn your question updates, your code:
p20995
aVcreates the object but you don't actually initialize it to anything
p20996
aVYou need to do:
p20997
aVThis is actually preferable in the vast majority of the cases since the near-equivalent:
p20998
aVcreates an auto-instantiating object, meaning every time you use it, it will check to see if it needs to be created
p20999
aVThat makes a code segment like:
p21000
aVexpensive since it will check  four times to see if it exists (and create it only the first time)
p21001
aVIt's more efficient to create it manually once
p21002
as(dp21003
g16
V14860
p21004
stp21005
a((dp21006
g2
(lp21007
VFreePascal is self compiling
p21008
aVAt some point, I'm going to get round to having a play with it
p21009
aVI still remember the glory days of Turbo Pascal
p21010
aVIn fact, I've just noticed it in the Karmic Koala Synaptic repositories so I'm downloading it and the Lazarus IDE right now
p21011
aVGreat, another weekend down the tubes :-)
p21012
as(dp21013
g16
V14860
p21014
stp21015
a((dp21016
g2
(lp21017
VYou can generally prefix any character with  to turn off its special nature
p21018
aVFor example:
p21019
aVThat's a caret followed by an ENTER after the word
p21020
as(dp21021
g16
V14860
p21022
stp21023
a((dp21024
g2
(lp21025
Vshould give you more than enough information to debug your makefile
p21026
aVBe warned: it will take some time and effort to analyze the output but loading the output into your favorite editor and doing searches will assist a lot
p21027
aVYou can greatly reduce the amount of debugging output if you specify the specific target you're interested in
p21028
aVSo if you're only interested in the  target, instead of just  which may make a hundred different things, try:
p21029
aV(assuming you have a  target of course)
p21030
aVThe  is identical to  but you can also specify:
p21031
aVwhere flags can be:
p21032
aVfor all debugging (same as  and )
p21033
aVfor basic debugging
p21034
aVfor slightly more verbose basic debugging
p21035
aVfor implicit rules
p21036
aVfor invocation information
p21037
aVfor information during makefile remakes
p21038
aVIt looks like  is the best option for what you need, as shown in the following transcript:
p21039
as(dp21040
g16
V14860
p21041
stp21042
a((dp21043
g2
(lp21044
VWell, that really depends on the purpose of the diagram :-)
p21045
aVWe deal mostly with network infrastructure so we would use the arrows pointing in the direction of session establishment - this would assist us in defining firewall rules for all our zones
p21046
aVBut, if you're diagramming an application and you need to know data flow for the application, you'd use arrows depicting the flow of data, not session estasblishment
p21047
aVI would think that, as long as the chart made it clear what you were representing, you could go either way
p21048
aVYou could even do a hybrid solution with, for example, the arrows at the end showing data flow while you have a smaller arrow in the middle showing direction of session establishment - as long as you still document, on the chart, what it means
p21049
aVNo idea if Visio has that sort of arrow line - I'd just use two of them, one overlapping the other
p21050
as(dp21051
g16
V14860
p21052
stp21053
a((dp21054
g2
(lp21055
VFirst problem:
p21056
aVwhenever I had free-time for the past day and a half
p21057
aVDon't do that, your brain isn't built for it
p21058
aVAllocate a time, tell your workmates/wife-and-kids that, if they bother you during this time, there will be gunshots and police involvement :-)
p21059
aVOther problems: no idea (hence the community wiki)
p21060
as(dp21061
g16
V14860
p21062
stp21063
a((dp21064
g2
(lp21065
VHow are you running the file
p21066
aVIs it from the command line or from an IDE
p21067
aVThe directory that your executable is in is not necessarily your working directory
p21068
aVTry using the full path name in the  and see if that fixes it
p21069
aVIf so, then the problem is as described
p21070
aVFor example:
p21071
aVOr open up a command window and navigate to the directory where your executable is, then run it manually
p21072
aVAs an aside, you can insert a simple (for Windows or Linux/UNIX/BSD/etc respectively):
p21073
aVbefore the  to show which directory you're actually in
p21074
as(dp21075
g16
V14860
p21076
stp21077
a((dp21078
g2
(lp21079
VBitwise operators are operators that work on multi-bit values, but conceptually one bit at a time
p21080
aVis 1 only if both of its inputs are 1, otherwise it's 0
p21081
aVis 1 if one or both of its inputs are 1, otherwise it's 0
p21082
aVis 1 only if exactly one of its inputs are 1, otherwise it's 0
p21083
aVis 1 only if its input is 0, otherwise it's 0
p21084
aVThese can often be best shown as truth tables
p21085
aVInput possibilities are on the top and left, the resultant bit is one of the four (two in the case of NOT since it only has one input) values shown at the intersection of the inputs
p21086
aVOne example is if you only want the lower 4 bits of an integer, you AND it with 15 (binary 1111) so:
p21087
aVThe zero bits in 15 in that case effectively act as a filter, forcing the bits in the result to be zero as well
p21088
aVIn addition,  and  are often included as bitwise operators, and they "shift" a value respectively right and left by a certain number of bits, throwing away bits that roll of the end you're shifting towards, and feeding in zero bits at the other end
p21089
aVSo, for example:
p21090
aVWith that in mind, another example of bitwise operators is if you have two 4-bit values that you want to pack into an 8-bit one, you can use all three of your operators (,  and ):
p21091
aVThe  operation will make sure that both values only have the lower 4 bits
p21092
aVThe  is a 4-bit shift left to move  into the top 4 bits of an 8-bit value
p21093
aVThe  simply combines these two together
p21094
aVIf  is 7 and  is 4:
p21095
as(dp21096
g16
V14860
p21097
stp21098
a((dp21099
g2
(lp21100
VThis isn't so mush a C++ question as an operating system question
p21101
aVAll of the operating systems that I have knowledge of will reclaim conventional memory that had been allocated
p21102
aVThat's because the allocation generally comes from a processes private address space which will be reclaimed on exit
p21103
aVThis may not be true for other resources such as shared memory
p21104
aVThere are implementations that will not release shared memory segments unless you specifically mark them for deletion before your process exits (and, even then, they don't get deleted until everyone has detached)
p21105
as(dp21106
g16
V14860
p21107
stp21108
a((dp21109
g2
(lp21110
VThe cutoff is 2GB which, contrary to what you may think, is not 2,000,000,000 (2x10003)
p21111
aVIt's 2,147,483,648 (2x10243)
p21112
aVSo your second file, which works, is actually less than 2GB in size)
p21113
aV2GB, in the computer world, is only 2,000,000,000 in the minds of hard drive manufacturers so they can say their disks are bigger than they really are :-) - it lets them say their disks are actually 2
p21114
aV1GB
p21115
as(dp21116
g16
V14860
p21117
stp21118
a((dp21119
g2
(lp21120
VAIX 5
p21121
aV3L still uses the sticky bit for both directories (where it provides a little extra security for directories in which multiple users can write) and files (where it sets the  attribute of the file)
p21122
aVIf this flag is set on an executable file, it's not unmapped after you've finished using it
p21123
aVWikipedia doesn't mention AIX but, as you'll see from IBM's own doco, it's still used
p21124
aVThe relevant sections in the AIX doco on publib
p21125
aVboulder are here for the  command (look for "save-text") and that page also references here for the  subroutine call (look for "S_ISVTX")
p21126
aVBy the way, if you're using any IBM product, publib (google for ) should be your first point of call
p21127
aVThe top level for AIX5
p21128
aV3L is here
p21129
as(dp21130
g16
V14860
p21131
stp21132
a((dp21133
g2
(lp21134
VYou need to use a command like:
p21135
aVThat's a simple form that will turn a one-file C++ project into an executable
p21136
aVIf you have multiple C++ files, you can do:
p21137
aVbut eventually, you'll want to introduce makefiles for convenience so that you only have to compile the bits that have changed
p21138
aVThen you'll end up with a  like:
p21139
aVAnd then, you'll start figuring how to write your makefiles to make them more flexible (such as not needing a separate rule for each C++ file), but that can be left for another question
p21140
aVRegarding having a separate project for each C++ file, that's not necessary at all
p21141
aVIf you've got them all in one directory and there's a simple mapping of C++ files to executable files, you can use the following makefile:
p21142
aVThen run the  command and it will (intelligently) create all your executables
p21143
aVis the target and  is the list of pre-requisites
p21144
aVAnd, if you have more complicated rules, just tack them down at the bottom
p21145
aVSpecific rules will be chosen in preference to the pattern rules:
p21146
as(dp21147
g16
V14860
p21148
stp21149
a((dp21150
g2
(lp21151
VActually, a modified (bi-directional) bubble can be extremely efficient, such as in the case where the data set is already sorted before adding one element at the end
p21152
aVI've actually used it in one application where a built-in sort wasn't available and that sort was the quickest to implement
p21153
aVBubble sort will, in that case, execute as if it were an O(n) algorithm, based on n being the number of items added
p21154
aVThat's because the efficiency of an algorithm depends entirely on the properties of the data being sorted
p21155
aVThe extreme case can be seen if the data is already sorted - bubble sort makes one pass of the data with zero swaps
p21156
aVSo asking which is the fastest is not really valid
p21157
aVYou should ask which will have the best behavior for random unsorted data sets
p21158
aVKeep in mind that sort performance doesn't really matter that much if you're only sorting 100 items
p21159
aVThe difference between 0
p21160
aV1 seconds and 1 second is not that relevant (unless you're sorting multiple times per second in which case you'd be better off finding a better way to manage your data)
p21161
aVThe performance only really becomes an issues once the data sets get large
p21162
aVI would say that, if you have a built-in sort in whatever environment you're working in, just use that
p21163
aVIf you have to implement your own, figure out first the likely disposition of your data sets then choose based on that
p21164
as(dp21165
g16
V14860
p21166
stp21167
a((dp21168
g2
(lp21169
VUTF-8 isn't a character set, it's an encoding for Unicode characters
p21170
aVAnd, since this is not programming related, I'm nudging it over to superuser
p21171
aVIf you do want to write a program for detecting those sequences, it's pretty easy:
p21172
aVThen, provided the first octet is legal, just remember that the number of octets forming a code point can be obtained by counting the number of  bits before the first  bit
p21173
aVFor example,  is the start of a 4-octet sequence so you should skip ahead 4 octets once you've established its legality
p21174
aVThe other thing to do is ensure that all continuation octets start with
p21175
as(dp21176
g16
V14860
p21177
stp21178
a((dp21179
g2
(lp21180
VThe old 32-bit registers have been extended to 64 bits, the  registers (, ,  and so on)
p21181
aVIn addition, there's some extra general purpose registers  through  which can also be accessed as (for example) ,  and  (the lower 32-bit double-word, 16-bit word and 8-bit byte respectively)
p21182
aVThe high byte of the old 16-bit registers is still accessible as , , and so on, but this appears to not be the case for the  through  registers
p21183
aVIn addition, there's some new SSE registers,  though
p21184
aVThe  and  registers have also been extended to  and
p21185
aVSee the wikipedia page and MSDN for more details
p21186
aVWhether these are supported in the  keyword for a particular C compiler, I couldn't say
p21187
aVWhat little assembly I do (and it's becoming about one day a year) is done in assembly rather than C
p21188
as(dp21189
g16
V14860
p21190
stp21191
a((dp21192
g2
(lp21193
VThere's a  method which is better for that purpose
p21194
as(dp21195
g16
V14860
p21196
stp21197
a((dp21198
g2
(lp21199
VTry as I could, I'm not sure this is possible with a binary tree that has no parent pointers
p21200
aVspace means you can neither use recursion (the stack growth is ) nor copying to a doubly linked list ()
p21201
aVThe method you allude to is an  time complexity solution but not with a normal binary tree
p21202
aVIn fact, I answered a similar question in great detail here
p21203
aVThat was solved with  space but only because they weren't initially sorted
p21204
aVIt is possible with a tree containing parent pointers
p21205
aVIf the child nodes have pointers to their parents, you can basically treat the tree as a doubly-linked list processed iteratively
p21206
aVTo do that, you run the start pointer down to the leftmost node and the end pointer down to the righmost node
p21207
aVYou also maintain two variables to store the last movement (up or across, initially up) of each pointer so you can intelligently select the next move (the  and  in your question)
p21208
aVThen you can use the current pointers and last movements, along with the current sum, to decide which pointer to move (and how)
p21209
as(dp21210
g16
V14860
p21211
stp21212
a((dp21213
g2
(lp21214
VJust about every shift/reduce error with  statement is the infamous dangling else problem
p21215
aVWith this code segment:
p21216
aVyou (and Python due to it's bizarre indentation rules) know which  the  belongs to, but a parser is not so clever
p21217
aVIt can't tell whether the  belongs to the first or second
p21218
aVThis link shows how to convert the LR(n) to an LR(1) equivalent which should solve the problem
p21219
aVAnother alternative is to change your base language definition (if possible) so that the ambiguity disappears:
p21220
as(dp21221
g16
V14860
p21222
stp21223
a((dp21224
g2
(lp21225
Vis the message you get when the linker cannot find the library
p21226
aVYou need to locate liby
p21227
aVa or liby
p21228
aVso and then insert a  in your  command line
p21229
aVOn my Cygwin install, it's located in  so I would use something like:
p21230
as(dp21231
g16
V14860
p21232
stp21233
a((dp21234
g2
(lp21235
VDid your script open the window
p21236
aVFirefox 2 and later do not allow scripts to close windows that they did not open
p21237
aVYou could try this trick, but I have no idea whether it will work
p21238
aVI live on the side of the population that believes users should be in control of their browser windows, not applications (despite the fact you may have a good reason for this)
p21239
as(dp21240
g16
V14860
p21241
stp21242
a((dp21243
g2
(lp21244
VNo
p21245
aVAll my application software is developed in Java
p21246
aVAll my quick-and-dirty code is done in Python
p21247
aVAll my low-level work is done in C
p21248
aVI don't generally use C++ (hence it hasn't affected me)
p21249
aVIf I did use C++, I'd treat c++0x like I'm treating C1x - I'm making sure my code won't break but I'm not going to use the new features until the standard is done and dusted
p21250
aVAs to whether I'll use new features as soon as the standard ratifies, no
p21251
aVThe process will be a gradual one
p21252
aVAs maintenance gets rolled out for my current applications, I may add it, depending on the likely benefit
p21253
aVEven new applications that I write will require a need for the new language features before I consider using those feautures
p21254
as(dp21255
g16
V14860
p21256
stp21257
a((dp21258
g2
(lp21259
VAs far as I'm aware, Objective C is built on C so you should have access to all the standard UNIXy capabilities, among them:
p21260
aVfamily
p21261
as(dp21262
g16
V14860
p21263
stp21264
a((dp21265
g2
(lp21266
VThe IBM  documentation for System p and AIX is stored here -  is a vital resource if you're using any IBM product
p21267
aVLook under , ,
p21268
aVThis will show you what the commands are meant to do from which you'll hopefully be able to work out the similar commands for other operating systems
p21269
as(dp21270
g16
V14860
p21271
stp21272
a((dp21273
g2
(lp21274
VYou have the size of the output buffer already passed in, by the looks of that prototype above
p21275
aVwill no doubt be a null terminated string and  will be the output buffer:  (not  as you have it, since that's not a valid identifier) will be how many characters you are allowed to write
p21276
aVThe pseudocode will be something like:
p21277
aVYou'll have to convert that to C and implement the lookup function but that should be a good start
p21278
aVThe pointers are used to extract from, and insert into, the relevant strings
p21279
aVFor every character, you basically check whether there is enough room left in the output buffer for adding the morse code segment
p21280
aVAnd, at the end, you also need to check there's enough room for the string terminator character ;
p21281
aVThe way in which you check if there is enough room is by reducing the  variable by the length of the string you're adding to  each time through the loop
p21282
aVThat way,  will always be the size remaining in the buffer for your use
p21283
as(dp21284
g16
V14860
p21285
stp21286
a((dp21287
g2
(lp21288
VHow about:
p21289
aVor, if it is a long command you don't want to have to enter twice:
p21290
aVJust as an aside, I hope you're aware that the command sequence:
p21291
aVwill set x to 2 regardless of the  results
p21292
aVYou may have meant to write:
p21293
as(dp21294
g16
V14860
p21295
stp21296
a((dp21297
g2
(lp21298
VFrom the command line:
p21299
aVFrom C:
p21300
aVwhere pid is the process ID you want to send the signal to
p21301
aVThe parent can get the relevant PID from the return value from
p21302
aVIf a child wants its own PID, it can call
p21303
as(dp21304
g16
V14860
p21305
stp21306
a((dp21307
g2
(lp21308
VYou can optimise it further (and make it more readable, in my opinion) by making the following changes
p21309
aVFirst performance:
p21310
aVUse longs, not floats
p21311
aVThis will result in a huge speed increase
p21312
aVYou don't need to check up to , only the square root of
p21313
aVThat's because if a factor  greater than  exists, its counterpart  would have already been found under
p21314
aVWe use a special variable for this so that we don't get overflow by calculating divisor2
p21315
aVIt also speeds it up by calculating that once rather than calculating the square every time through the loop (even though getting the square root is undoubtedly slower than squaring, it only happens once)
p21316
aVDo a special check first for multiples of two then you need only check that your number is a multiple of an odd number, effectively doubling the speed (not checking if you're a factor of a multiple of two)
p21317
aVUse the modulo operator rather than division/multiplication
p21318
aVNow readability:
p21319
aVUse descriptive variable names
p21320
aVUse a boolean for boolean values (not a string like )
p21321
aVMove the message box logic down to the bottom, based on the  boolean, rather than scattering the messages amongst your code
p21322
aVWith all those changes, the following code can detect a 9-digit prime number (795,028,841) in well under a second
p21323
aVIn fact, we can detect the largest 31-bit prime (2,147,483,647) in the same time
p21324
aVBased on benchmarks (putting a 10,000-iteration  loop around the ), it takes 35 seconds on my box to detect that 31-bit prime
p21325
aVThat's about 285 times per second - hopefully that'll be fast enough for you :-)
p21326
as(dp21327
g16
V14860
p21328
stp21329
a((dp21330
g2
(lp21331
VTry out:
p21332
aVThis has the advantage of not being rollback-able so will not have to log its actions, and also does not fire triggers
p21333
aVThat makes it substantially faster than the equivalent
p21334
aVOtherwise, you can work out subsets to delete, based on your table data
p21335
aVFor example, if there's a field (hopefully indexed) containing last names:
p21336
aVNote that this is just an example
p21337
aVYou can also use things like
p21338
aVsalary (<20K, 20K-40K, 40K-60K,
p21339
aVSSN
p21340
aVcurrent balance
p21341
aVand so on
p21342
aVWhat you choose depends entirely on the table you're trying to delete
p21343
aVI prefer the  command myself due to its simplicity
p21344
as(dp21345
g16
V14860
p21346
stp21347
a((dp21348
g2
(lp21349
VYou can do this (not necessarily should)
p21350
aVBut, even for a singleton, I tend to make all the variables object-level rather than class-level because:
p21351
aVI may at some point decide a singleton was a bad idea for that class and having class-level variables will make refactoring harder
p21352
aVWith object-level variables, they only come into existence when you instantiate the singleton
p21353
aVWith class-level, they're always there
p21354
aVBottom line: I've never been able to think of a disadvantage to having them as object-level so that's how I do it
p21355
aVThe above two disadvantages to class-level may be minuscule but they're there
p21356
aVIt probably comes down to personal preference in the end
p21357
as(dp21358
g16
V14860
p21359
stp21360
a((dp21361
g2
(lp21362
VThe following  script will do what you want (I find that  is not that well suited to tasks spanning multiple lines)
p21363
aVThis is based on the assumption that your  lines are just empty lines
p21364
aVIf they're not, you will need to adjust the  pattern near the bottom to match what it actually is
p21365
aVIt is basically a simplified state machine controlled by the  variable
p21366
aVWhen this is positive, you're skipping that many lines (starts at 2 and is set to 2 for every  line)
p21367
aVWhen  reaches zero, it stays there until you get an empty line (you're echoing these lines as you go)
p21368
aVWhen you get an empty line, you set it to -1 and stop echoing the lines
p21369
aVThe  variable is a bit of a hack to ensure there's no trailing blank line in your output
p21370
aVHere's the output I got from your input file:
p21371
aVwhich I believe is what you were after
p21372
as(dp21373
g16
V14860
p21374
stp21375
a((dp21376
g2
(lp21377
VNothing in DB2 or SQL requires the column names of functions to be specific values
p21378
aVIt may be that the earlier drivers (or even the t2 drivers, which I would generally never use anymore, preferring t4 myself) gave you a column name you expected but I wonder what it would have given you for
p21379
aVYour query really should be what you have to get it working:
p21380
aVThis guarantees the column name is
p21381
aVIf you really want to know what the column names are for your query, you can retrieve the meta data for the result set with the following calls (examples only):
p21382
aVBut you should be using the  clause to ensure the names are as expected
p21383
as(dp21384
g16
V14860
p21385
stp21386
a((dp21387
g2
(lp21388
VThe rule is that variables should be set before they're used
p21389
aVYou do not have to explicitly initialize them on creation if you know you will be setting them elsewhere before use
p21390
aVFor example, the following code is perfectly okay:
p21391
aVIn that case, it's wasteful to initialize the array at the point of its creation
p21392
aVAs to whether there's a performance penalty, it depends partially on where your variable is defined and partially on the execution environment
p21393
aVThe C standard guarantees that variables defined with static storage duration (either at file level or as statics in a function) are first initialized to a bit pattern of all zeros, then set to their respective initialized values
p21394
aVIt does not mandate how that second step is done
p21395
aVA typical way is to just have the compiler itself create the initialized variable and place it in the executable so that it's initialized by virtue of the fact that the executable is loaded
p21396
aVThis will have no performance impact (for initialization, obviously it will have some impact for program load)
p21397
aVOf course, an implementation may wish to save space in the executable and initialize those variables with code (before main is called)
p21398
aVThis will have a performance impact but it's likely to be minuscule
p21399
aVAs to those variables with automatic storage duration (local variables and such), they're never implicitly initialized unless you assign something to them, so there will also be a performance penalty for that
p21400
aVBy "never implicitly initialized", I mean the code segment:
p21401
aVwill result in x[] having indeterminate values
p21402
aVBut since:
p21403
aVmay simply result in a 1000-integer memcpy-type operation (more likely memset for that case), this will likely to be fast as well
p21404
aVYou just need to keep in mind that the initialization will happen every time that function is called
p21405
as(dp21406
g16
V14860
p21407
stp21408
a((dp21409
g2
(lp21410
VThe SQL clause
p21411
aVis the single most destructive thing you can do if you want performance from your database
p21412
aVWhat you really should be doing is making sure that things like skills, industries and so on, are broken out into other tables with fixed values (like 'C', 'C++', 'SQL' and so on)
p21413
aVThen have a many-to-many table between person and skills
p21414
aVFor example:
p21415
aVThis sort of layout will both improve the speed of your queries massively and make incorrect data entry impossible if you only allow entry of search terms from the Skills table (no 'Linex' possible where you meant 'Linux', simply because 'Linex' isn't in the skills table)
p21416
aVThe one unassailable rule I follow with table design is: if you're trying to extract a bit of information from within a column, that information should be put in its own column
p21417
aVThe number of performance issues people suffer because they created tables with a single column holding comma-separated values (where they want to extract individual values from that column) should be testament to that
p21418
aVThe downside of having to ensure all skills and industries are in a separate table will be more than made up for by the increased speed and accuracy
p21419
aVDatabases should be always designed for third normal form
p21420
aVThey can be regressed to 2NF for performance reasons if you understand the consequences (and mitigate the possibility of incorrect data by using triggers or calculated columns) but this is rarely necessary
p21421
as(dp21422
g16
V14860
p21423
stp21424
a((dp21425
g2
(lp21426
VThis is a better first attempt, which does perform all three cases depending on the input
p21427
aVThe original version you gave didn't even compile due to various errors
p21428
aVI suggest you start from this one:
p21429
aVHere's a sample run:
p21430
aVThere are still problems even with the fixed code such as when you enter a non-numeric
p21431
aVYou really should be getting strings from standard input and checking them for validity before converting to a number
p21432
aVTo handle non-numerics, this would be a good start:
p21433
as(dp21434
g16
V14860
p21435
stp21436
a((dp21437
g2
(lp21438
VJust one more thing I'd like to mention
p21439
aVUnless a vote is allowed to have both up and down karma at the same time (unlikely from the desription), you would better off replacing them  and  with a single  column
p21440
aVThen set it to -1 or 1 depending on whether it's down or up respectively
p21441
aVThis would simplify your query even more:
p21442
as(dp21443
g16
V14860
p21444
stp21445
a((dp21446
g2
(lp21447
VI was not actually aware you could set arrays like that
p21448
aVI've always used:
p21449
aVYou may need quotes around the strings
p21450
aVIn my  (4
p21451
ag2592
aV33),
p21452
aVis being interpreted as "set initiate[1]=thin then run start -d" because you can:
p21453
aVto set an environment variable for a single command
p21454
aVWhat version of  are you running (use )
p21455
aVUpdate:
p21456
aVDeepak, I've gotten that script working under the same release of  as yours
p21457
aVSee the following transcript:
p21458
aVCan you try the modified script in your own environment and see how it goes
p21459
as(dp21460
g16
V14860
p21461
stp21462
a((dp21463
g2
(lp21464
VThe easiest way I found was to base it on something that counts the ones then simply subtract that from 32 (assuming that you're sure the  size is 32 bits)
p21465
aVThis actually gives you both variants (ones and zeros) - there are faster ways to do it but I wouldn't consider them unless and until you know there's a performance problem
p21466
aVI tend to code for readability first
p21467
as(dp21468
g16
V14860
p21469
stp21470
a((dp21471
g2
(lp21472
VVMDK is a virtual disk file, what you need is a VMX file
p21473
aVCruise on over to EasyVMX and have it create one for you, then just replace the VMDK file it gives you with the Cnrome OS one
p21474
aVEasyVMX is good since VMWare Player has no VM creation stuff in it (at least in version 2, not sure about 3)
p21475
aVYou had to use one of VMWare's other products to do that
p21476
as(dp21477
g16
V14860
p21478
stp21479
a((dp21480
g2
(lp21481
VThey drop off the data type totally, not carrying over to the next array element
p21482
aVIf you want that sort of behavior, you have to code it yourself with something like (left shifting the entire array by four bits):
p21483
aVThis outputs:
p21484
as(dp21485
g16
V14860
p21486
stp21487
a((dp21488
g2
(lp21489
VEvery 40 milliseconds would be impressive
p21490
aVIt's not really suited for , which runs on 1-minute boundaries
p21491
aVPerhaps if you explained why you need that level of performance, we could make some better suggestions
p21492
aVAnother thing you have to understand is that it takes time to create processes under UNIX - this may be better suited to a long running task started once and just doing the desired activity every 40ms
p21493
aVUpdate: For an online game with that sort of performance, I think you seriously need to consider having a fat client running on the desktop
p21494
aVBy that I mean a language compiled to machine language (not interpreted) and where the bulk of the code runs on the client, using the network only for transmitting information that needs to be shared
p21495
aVI don't doubt that the interpreted languages are suitable for less performance intensive games but I don't think, from personal experience, you'll be able to get away with them for this purpose
p21496
as(dp21497
g16
V14860
p21498
stp21499
a((dp21500
g2
(lp21501
VI'm pretty certain the Win32 API uses  even for partial repaints
p21502
aVFrom MSDN:
p21503
aVThe  message is sent when the system or another application makes a request to paint a portion of an application's window
p21504
aV[My italics]
p21505
aVThat link has the full detail on  but if, as you say, the WM_PAINT message is not being sent for partial redraws, the Spy++ is the tool you need to find out for sure
p21506
as(dp21507
g16
V14860
p21508
stp21509
a((dp21510
g2
(lp21511
VYour assignment is as follows
p21512
aVAssume the availability of a function is_prime
p21513
aVAssume a variable n has been associated with a positive integer
p21514
aVWrite the statements needed to compute the sum of the first n prime numbers
p21515
aVThe sum should be associated with the variable total
p21516
aVAs NVRAM rightly points out in the comments (and nobody else appears to have picked up on), the question states "assume the availability of a function "
p21517
aVYou don't have to write that function
p21518
aVWhat you do have to do is "write the statements needed to compute the sum of the first n prime numbers"
p21519
aVThe pseudocode for that would be something like:
p21520
aVI think you'll find that, if you just implement that pseudocode in your language of choice, that'll be all you have to do
p21521
aVIf you are looking for an implementation of  to test your assignment with, it doesn't really matter how efficient it is, since you'll only be testing a few small values anyway
p21522
aVYou also don't have to worry about numbers less than two, given the constraints of the code that will be using it
p21523
aVSomething like this is perfectly acceptable:
p21524
as(dp21525
g16
V14860
p21526
stp21527
a((dp21528
g2
(lp21529
VThat's what  is for
p21530
aVIt holds the number of elements in
p21531
aVTry to compile and run this:
p21532
aVTest runs:
p21533
aVThe  array ranges from  (the name used to invoke the program, or "" if it's not available) to
p21534
aVThe first parameter is actually in
p21535
aVThe C++ standard actually mandates that  is 0 (a NULL pointer) so you could ignore  altogether and just step through the  array until you hit the NULL
p21536
as(dp21537
g16
V14860
p21538
stp21539
a((dp21540
g2
(lp21541
VIf  is your primary key, it will almost certainly already have an index for it
p21542
aVThat's how primary keys work
p21543
aVYou don't have to specify another index for that particular column
p21544
aVAnd, in response to your question as to whether you can store the rows sorted in the DBMS, you can't
p21545
aVSQL is a relational algebra that will extract rows in any order it wants to, unless you specifically use an  clause
p21546
aVWhen you execute the query:
p21547
aVthere's no guarantee in what order the rows will be delivered to you
p21548
aVOn the other hand:
p21549
aVdoes guarantee the order, and the  primary key index will be used to extract records in that order
p21550
aVThere should be no sorting or other performance penalty since the primary key index is built for ordered access to the rows
p21551
aVYou're best to think of a primary key as just a special type of index
p21552
aVYou can certainly index other columns if you think it's necessary (although it sounds like that's not the case here)
p21553
as(dp21554
g16
V14860
p21555
stp21556
a((dp21557
g2
(lp21558
VHere is some actual code I used in a project to load a DLL, lookup a function and set up and call that function
p21559
aVThe function was one in a terminal emulator package and the function was a simple one, taking four parameters and returning no value (some was actually returned via pointer parameters)
p21560
aVThe first parameter (1) is to indicate that we want to connect to the host
p21561
aVThe second parameter ("Z") is the session ID
p21562
aVThis particular terminal emulator allowed short-name sessions of "A" through "Z"
p21563
aVThe other two parameters were simply a length and another byte the use of which excapes me at the moment (I should have documented that code a little better)
p21564
aVThe steps were to:
p21565
aVload the DLL
p21566
aVSet up the prototype and parameters for a function
p21567
aVMap that to a Python name (for ease of calling)
p21568
aVCreate the necessary parameters
p21569
aVCall the function
p21570
aVThe ctypes library has all the C data types (int, char, short, void* and so on), and can pass parameters either by value or reference
p21571
aVThere's a tutorial located here
p21572
as(dp21573
g16
V14860
p21574
stp21575
a((dp21576
g2
(lp21577
VIt's because your  clause is limiting the result set before the  clause is checking
p21578
aVHence you are stripping out  so that the only  left is the  one
p21579
aVAnd it will have a count of 1
p21580
aVThis one works for me (albeit in DB2 but since I tend to prefer standard SQL, it should work on any DBMS):
p21581
aVYellow returns (no Bob):
p21582
aVwhile red returns (no Tom or Bob):
p21583
aVThe way this works is as follows:
p21584
aVA subquery is run to get a list of all names that have the color yellow
p21585
aVThey can also have other colors at this point
p21586
aVThis restricts the names to Jerry, Keri and Bob
p21587
aVThen the "real" query is run getting the list of all names but only when they match one of the names in the subquery (so limiting it to names that have yellow)
p21588
aVThis is grouped by the name and we use the  aggregate function to combine rows with the same name and give us a count of the colors for each name
p21589
aVLastly we throw away those that have more than one color
p21590
aVI'm assuming here that you won't have a row in the table with a duplicate name and color - in other words, you should have a primary key or other constraint on (name,color)
p21591
aVIf you did have duplicates, then the cross-join would result in more rows and you would have to use  or  in the subquery)
p21592
as(dp21593
g16
V14860
p21594
stp21595
a((dp21596
g2
(lp21597
VYou could use a per-row function to change the columns as other answers have stated but, if you expect this database to scale well, per-row functions are rarely a good idea
p21598
aVFeel free to ignore this advice if your table is likely to remain small
p21599
aVThe advice here works because of a few general "facts" (I enclose that in quotation marks since it's not always the case but, in my experience, it mostly is):
p21600
aVThe vast majority of databases are read far more often than they're written
p21601
aVThat means it's usually a good idea to move the cost of calculation to the write phase rather than the read phase
p21602
aVMost problems with database tend to be the "my query is slow" type rather than the "there's not enough disk space" type
p21603
aVTables always grow bigger than you thought they would :-)
p21604
aVIf your situation is matched by those "facts", it makes sense to sacrifice a little disk space in order to speed up your queries
p21605
aVIt's also better to incur the cost of calculation only when necessary (insert/update), not when the data hasn't actually changed (select)
p21606
aVTo do that, you would create a new column ( for example) in the table which would hold a numeric sort value (or more than one column if you want different soert orders)
p21607
aVThe have an insert/update trigger so that, whenever a row is added to, or changed in, the table, you populate the sort field with the correct value ( = 1,  = 2,  = 3, anything else = 0)
p21608
aVThen put an index on that column and your query becomes a much simpler (and faster):
p21609
as(dp21610
g16
V14860
p21611
stp21612
a((dp21613
g2
(lp21614
VDon't think of a cube as a three-dimensional structure (despite the name)
p21615
aVA "dimension" in a data warehouse situation is simply a varying value that you can use to access data in your warehouse
p21616
aVYou could think of them as key parts but ones that can be accessed individually, or in combination, quite easily (unlike primary keys in a classical table)
p21617
aVAs for an example, you may have the following dimensions in a warehouse for keeping customer and sales data
p21618
aVCustomer ID
p21619
aVState (location)
p21620
aVYear
p21621
aVMonth
p21622
aVDay of month
p21623
aVThat layout (a 5D "cube") would allow queries to be easily performed fo customers that cross state boundaries and that may have different purchasing patterns throughout the year (and even at different times of the month)
p21624
aVAll of those keyparts would just point to a single sales figure for the day of month in a specific month in a specific year in a specific location for a specific customer
p21625
aVAn example on how to access that data
p21626
aVLet's say you wanted to see how all customer's buying patterns changed on a monthly basis, averaged over all the years
p21627
aVYou would do this to see which customers generated the most revenue for you at specific times of the yearso you could, for example, target your advertizing at them in the month or so before then
p21628
aVYou would use the customer ID and month to extract information, effectively "collapsing" the state, year and day-of-month dimensions (in other words, sum up the sales figures for those three dimensions to get a two-dimensional result, customers vs
p21629
aVmonth)
p21630
as(dp21631
g16
V14860
p21632
stp21633
a((dp21634
g2
(lp21635
VDon't ever use  (or  for that matter) if you want your input to be robust
p21636
aVYou should be using  (or a similarly "protected from buffer overflow" variant) then use  on that
p21637
aVThe main problem with  and  is that your file pointer can end up in an indeterminate position if the line is not of the expected format (i
p21638
ag75
aV, if the  fails)
p21639
aVWith the  method, it's a lot easier to guarantee that you're on a line boundary, without having to use  and  to move around the file
p21640
aVRegarding your specific query about whether the buffer will overflow, the C standard has this to say:
p21641
aVthe corresponding argument shall be a pointer to the initial element of a character array large enough to accept the sequence and a terminating null character, which will be added automatically
p21642
aVSo, for a  format, you need a 9-character array
p21643
aVI suspect you have some other problem in your code
p21644
aVWith a test program:
p21645
aVI get:
p21646
aVWhen I change that same program to use , I get (for exactly the same input):
p21647
as(dp21648
g16
V14860
p21649
stp21650
a((dp21651
g2
(lp21652
VPseudocode only, since it's probably homework:
p21653
aVWill only work for positive numbers, fixing it for negatives and divide-by-zero is left as an exercise
p21654
aVIt works by repeatedly subtracting  from , and going down a level, until you can no longer subtract  from  without going negative
p21655
aVThen it returns up the recursion tree, adding 1 for each level you went down
p21656
aVSome hints for handling signs and errors:
p21657
aVDetect straight up if b is equal to zero and exit with an error
p21658
aVis the same as
p21659
aVis the same as
p21660
aVis also the same as
p21661
aVthose four special cases can be handled when first entering the  function, the final three can also be done by just adding some  statements and one recursion level
p21662
as(dp21663
g16
V14860
p21664
stp21665
a((dp21666
g2
(lp21667
VThe tar file format is here on Wikipedia
p21668
aVI suspect your best bet would be to check that the header checksum for the first file is valid
p21669
aVYou may also want to check the file name for sanity but that may not be reliable, depending on the file names that have been stored in there
p21670
aVDuplicating the relevant information here:
p21671
aVThe checksum is calculated by taking the sum of the unsigned byte values of the header block with the eight checksum bytes taken to be ASCII spaces (decimal value 32)
p21672
aVIt is stored as a six digit octal number with leading zeroes followed by a null and then a space
p21673
aVVarious implementations do not adhere to this, so relying on the first white space trimmed six digits for checksum yields better compatibility
p21674
aVIn addition, some historic tar implementations treated bytes as signed
p21675
aVReaders must calculate the checksum both ways, and treat it as good if either the signed or unsigned sum matches the included checksum
p21676
aVThere is also the UStar format (also detailed in that link) but, since it's an extension to the old tar format, the method detailed above should still work
p21677
aVUStar is generally for just storing extra information about each file
p21678
aVAlternatively, since Python is open source, you could see how  works and adapt it to check your stream rather than a file
p21679
aVThe source code is available here under  but it's not for the faint of heart :-)
p21680
as(dp21681
g16
V14860
p21682
stp21683
a((dp21684
g2
(lp21685
VWe solved a similar problem in the following way
p21686
aVWe weren't interested in how fast the download was over the entire time, just roughly how long it was expected to take based on recent activity but, as you say, not so recent that the figures would be jumping all over the place
p21687
aVThe reason we weren't interested in the entire time frame was that a download could so 1M/s for half an hour then switch up to 10M/s for the next ten minutes
p21688
aVThat first half hour will drag down the average speed quite severely, despite the fact that you're now honkin' along at quite a pace
p21689
aVWe created a circular buffer with each cell holding the amount downloaded in a 1-second period
p21690
aVThe circular buffer size was 300, allowing for 5 minutes of historical data, and every cell was initialized to zero
p21691
aVWe also maintained a total (the sum of all entries in the buffer, so also initially zero) and the count (zero, obviously)
p21692
aVEvery second, we would figure out how much data had been downloaded since the last second and then:
p21693
aVsubtract the current cell from the total
p21694
aVput the current figure into that cell and advance the cell pointer
p21695
aVadd that current figure to the total
p21696
aVincrease the count if it wasn't already 300
p21697
aVupdate the figure displayed to the user, based on total / count
p21698
aVBasically, in pseudo-code:
p21699
aVYou can change your resolution (1 second) and history (300) to suit your situation but we found 5 minutes was more than long enough that it smoothed out the irregularities but still gradually adjusted to more permanent changes in a timely fashion
p21700
as(dp21701
g16
V14860
p21702
stp21703
a((dp21704
g2
(lp21705
VThere have been studies (which I'm too lazy to go looking for at the moment) that show that the cost of fixing a bug becomes higher as you move away from the point where the bug was introduced
p21706
aVFor example, how much does it cost for you to fix a bug in software you haven't even pushed up to source control yet
p21707
aVIt's your time and not much of it, I'd warrant (assuming you're any good at your job)
p21708
aVContrast that with how much it costs to fix when the customer (or all your customers) find that problem
p21709
aVMany level of people get involved and new software has to be built in a hurry and pushed out to the field
p21710
aVThat's the extreme comparison
p21711
aVBut even the difference between unit and integration tests can be apparent
p21712
aVIf your code fails in integration, you start holding up all your team-mates, testers and so on, rather than just yourself
p21713
aVWe wouldn't dream of replacing our unit tests with integration tests since:
p21714
aVOur unit tests are automated as well
p21715
aVThey form the beginning of the integration tests
p21716
aVAll unit tests are rerun in the integration phase to check that the integration itself hasn't broken anything, and then there are the extra tests that have been added by the integration team
p21717
as(dp21718
g16
V14860
p21719
stp21720
a((dp21721
g2
(lp21722
VA  loop can be simulated in  with:
p21723
aVFor example, the following script:
p21724
aVoutputs:
p21725
aVFor your particular case, I would start with the following
p21726
aVYour initial description was a little confusing
p21727
aVI'm assuming you want to delete files in that directory until there's 20 or less:
p21728
as(dp21729
g16
V14860
p21730
stp21731
a((dp21732
g2
(lp21733
VYou will only get an  from the stream when the end of file is reached, not the end of line
p21734
aVHow you signal an end of file depends on your OS and terminal settings
p21735
aVIt's usually CTRLd on UNIX-type systems and CTRLz on Windows
p21736
aVFor UNIX in cooked mode (normal input mode), you'll generally have to enter it as the first character of a line and follow it with a newline (ENTER)
p21737
aVWith Windows, the CTRLz can be entered anywhere on the line, but still needs to be followed by a newline
p21738
aVIn UNIX, the actual character to inform the terminal interface that you want to send  can be set with the  command
p21739
aVIf you execute , you'll see something like:
p21740
aVYou can see at the end of the second line that  is set to  (CTRLd)
p21741
aVYou can change this with:
p21742
aVto set it to CTRLx, for example
p21743
aVYou can also set a huge number of other things, most of which will make your current terminal unusable, so be careful :-)
p21744
aVBottom line, if you want to signal your program that the file is finished, use CTRLd for UNIX (or check  if that doesn't work) or CTRLz for Windows
p21745
aVIf you want to just get a line of input, use the  character in your code as follows:
p21746
as(dp21747
g16
V14860
p21748
stp21749
a((dp21750
g2
(lp21751
VThe  method will return a pointer to  data
p21752
aVOne approach is to replace:
p21753
aVwith:
p21754
aVThis gives you a duplicate writeable string that you can run  on
p21755
aVI'm not usually a big fan of using old-style C stuff in C++ code but I'm also pragmatic in getting code running
p21756
aVThere may well be a more "C++" way of doing things
p21757
aVAnd, if your implementation doesn't have a  (I don't think it's part of the standard):
p21758
aVUpdate:
p21759
aVAnthony, based on the updates to your question, if you're getting an error still then it's probably because the string is not what you expect
p21760
aVCome to think of it, you should not get  from writing to the result of a  since the memory is technically not read-only
p21761
aVshould only occur if you try to write to read-only memory (or outside your address space)
p21762
aVAs one commenter has pointed out,  may return a pointer to read-only memory for certain simple cases but that's unlikely to be the case here if your file has complex lines
p21763
aVIn either case, the copying to a mutable string will fix it
p21764
aVWhat I think may be happening is that one of your s is returning NULL
p21765
aVThis would be the case if you're processing a line with less than three fields (e
p21766
ag1775
aV, "hello there" where the third  will return NULL)
p21767
aVPrint out the string in your code before the  calls:
p21768
aV(and ensure you free the string after the  calls lest you end up with a memory leak)
p21769
aVIf that turns out to be the problem, the solution depends on what you need
p21770
aVYou could ignore those lines totally by checking and copying the individual string out before calling  - in other words, only call them if all three strings were non-null
p21771
aVYou could check the string before hand to count the number of separators, ensuring that there were at least two
p21772
aVI'm sure there are other possibilities but I can't really help until:
p21773
aVWe know that the problem is as suspected; and
p21774
aVYou tell us what you want to happen
p21775
aVHope that helps
p21776
as(dp21777
g16
V14860
p21778
stp21779
a((dp21780
g2
(lp21781
VYou should be using radians in all your calculations
p21782
aVHere's a complete program that illustrates how best to do this:
p21783
aVwhich outputs (no fancy graphics here, but you should get the idea):
p21784
aVI've written the  function as per your original specification, passing in just the two co-ordinates
p21785
aVAs an aside, you don't want those  calls in your calculations for radius and angle because:
p21786
aVthey're useless for radius (since  =  for all )
p21787
aVthey're bad for angle since that will force you into a specific quadrant (wrong starting point)
p21788
as(dp21789
g16
V14860
p21790
stp21791
a((dp21792
g2
(lp21793
VWhen your code isn't working as you think it should be, it's time for some good old-fashioned debugging
p21794
aVYou'll get more benefit out of that than the advice of a hundred people here on SO, unless the advice is to do some good old-fashioned debugging of course :-)
p21795
aVChange your non-working one to:
p21796
aVthen let us know what the output was, although there's a good chance you'll see the problem yourself
p21797
aVThose  statements should just about cover every conceivable problem, if it's actually in that code
p21798
aVFor example, the following project:
p21799
aVgives me:
p21800
aVIn particular, the fact that the last line was printed okay for me leads me to believe there's nothing wrong with the code you've shown
p21801
aVMethinks the problem lies elsewhere
p21802
as(dp21803
g16
V14860
p21804
stp21805
a((dp21806
g2
(lp21807
VForget  for complex multi-line processing
p21808
aVSeriously
p21809
aVIf you're not willing to use a proper XML tool, at least use a standard string processing tool that has proper branching statements :-)
p21810
aVIf you can guarantee your file is formatted in the way you have it, you can use something like:
p21811
aVto get:
p21812
aVThe trouble with that sort of method is that it doesn't handle what may be perfectly valid XML files
p21813
aVThis particular version has certain limitations such as:
p21814
aVthe somenode start and end tags must be at the start of the line
p21815
aVthe enabled tag must be preceded by four spaces
p21816
aVYou could work around these to make it a bit more flexible but, by the time you've written your script to handle any valid XML input, it'll be such a monstrosity that it would have been quicker to use an XML transformation tool
p21817
aVThat's why it's better to use a tool built specifically for the job
p21818
aVBut, if you just want a quick hack and the file format is under your control, it's probably okay to use the  (or  or  or your other quick-and-dirty scripting tool of choice)
p21819
as(dp21820
g16
V14860
p21821
stp21822
a((dp21823
g2
(lp21824
VYou may need to insert the odd  so as to not fill up the transaction logs
p21825
as(dp21826
g16
V14860
p21827
stp21828
a((dp21829
g2
(lp21830
VThe way to check if you can write to a socket is, surprisingly, to try and write to it :-)
p21831
aVIf the socket has been closed, you will get a  return code from  and you can examine  to see what the problem was
p21832
aVIf the socket is still valid but you just can't write any data at the moment,  will return 0
p21833
aVThe  call also behaves in a similar fashion, returning if there's a problem
p21834
aVBasically, for :
p21835
aVif you get back a , there's been a problem and you should check  to see if it's recoverable or fatal
p21836
aVIf you get back a , then you can't write anything at the moment (may be a network backlog or some other problem but definitely not (yet) fatal)
p21837
aVIf you get a value less that what you wanted, then some of the data has been sent
p21838
aVAdjust your pointers so you can try send the rest in the next cycle
p21839
aVDo not assume a positive return value means the entire block has been sent
p21840
aVIf you get back the same number as the number of bytes you tried to send, the entire buffer has been accepted for delivery
p21841
aVIf you get back more than what you asked to be sent, send an email off to the kernel developers with some acerbic comment
p21842
aVLinus et al will love that :-)
p21843
aVUpdate: As caf has pointed out in the comments, I forgot to take into account the signal handling
p21844
aVYou have to ignore the broken pipe signal or  will fail internally by raising that signal
p21845
aVYou can do this by inserting:
p21846
aVbefore starting to use the socket functions
p21847
aVYou can then use:
p21848
aVto restore the previous signal handling
p21849
as(dp21850
g16
V14860
p21851
stp21852
a((dp21853
g2
(lp21854
VOn AIX at least, you should be using LVM, the logical volume manager
p21855
aVAll our systems bundle all the physical hard drive into a single volume group and then create one big honkin' file system out of that
p21856
aVThat way, you can add physical devices to your machine at will and increase the size of your file system to whatever you need
p21857
aVOne other solution I've seen is to allocate a trash directory on each file system and use a combination of  and a   job to tackle the space problem
p21858
aVBasically, have a  job that runs every ten minutes and executes:
p21859
aVThen, when you want your specific directory on that file system recycled, use something like:
p21860
aVand, within the next ten minutes your disk space will start being recovered
p21861
aVThe  directory will immediately be available for use even before the trashed version has started being deleted
p21862
aVIt's important that the trash directory be on the same filesystem as the directory you want to get rid of, otherwise you have a massive copy/delete operation on your hands rather than a relatively quick move
p21863
as(dp21864
g16
V14860
p21865
stp21866
a((dp21867
g2
(lp21868
VThe  keyword serves two distinct purposes in C, what I call duration and visibility
p21869
aVWhen used at file level (outside of any function), it controls visibility
p21870
aVThe duration of those variables are already defined as being the entire duration of the program so you don't need  for that
p21871
aVStatic variable at file level are invisible to anything outside the translation unit (the linker can't see it)
p21872
aVWhen used at function level (inside a function), it controls duration
p21873
aVThat's because the visibility is already defined as being local to that function
p21874
aVIn that case, the duration of the variable is the entire duration of the program and the value is maintained between invocations of the function
p21875
as(dp21876
g16
V14860
p21877
stp21878
a((dp21879
g2
(lp21880
VNot sure about MySQL (which is why my answer is wiki) but I can tell you one difference in at least one other DBMS
p21881
aVThe  command honors transactions (allowing rollback) and triggers, making it a much slower way of clearing out a table
p21882
aVTruncate, on the other hand, just annihilates the rows without the possibility of rollback and without running any triggers on the deleted rows
p21883
as(dp21884
g16
V14860
p21885
stp21886
a((dp21887
g2
(lp21888
VYou can replace the whole sequence:
p21889
aVwith the simpler:
p21890
aVNo need at all to mess about with temporary variables
p21891
aVThe reason you need to use  instead of  is because the former is the character '0' which has a value of 48, rather than the value 0
p21892
as(dp21893
g16
V14860
p21894
stp21895
a((dp21896
g2
(lp21897
VMultiple definitions in the link phase is almost always caused by having code in header files but I'm not sure that's the case here
p21898
aVHave a look at line 162 of  and line 28 of  (post them here, with a few lines either side for context, for further help)
p21899
aVThat appears to be where the conflict is, based on the messages you're getting
p21900
aVIt may well be that your new stuff that you're interfacing with shares a type name with some of your current stuff
p21901
as(dp21902
g16
V14860
p21903
stp21904
a((dp21905
g2
(lp21906
VSome ways I can see to do it (that spring immediately to mind - there may well be others):
p21907
aVAs you add the images to your database, move them to a different location on the disk
p21908
aVThen your script won't see them the next time it runs
p21909
aVAs you add the images to your database, rename them from  to  (for example)
p21910
aVThen have your script ignore the processed ones
p21911
aVMaintain a list of files that you've already processed and don't reprocess them
p21912
aVStore the file name of the actual source file in the database along with the image, and query the database to prevent re-import
p21913
as(dp21914
g16
V14860
p21915
stp21916
a((dp21917
g2
(lp21918
VThe best method, in my opinion, is to use what's gone before
p21919
aVThere are lists of the first  primes on the internet with  stretching up to at least fifty million
p21920
aVDownload the files and use them, it's likely to be much faster than any other method you'll come up with
p21921
aVIf you want an actual algorithm for making your own primes, Wikipedia has all sorts of good stuff on primes here, including links to the various methods for doing it, and prime testing here, both probability-based and fast-deterministic methods
p21922
aVThere should be a concerted effort to find the first billion (or even more) primes and get them published on the net somewhere so people can stop doing this same job over and over and over and
p21923
aV:-)
p21924
as(dp21925
g16
V14860
p21926
stp21927
a((dp21928
g2
(lp21929
VI hate to be the bearer of bad news but I don't think your three-pointer solution actually works
p21930
aVWhen I used it in the following test harness, the list was reduced to one node, as per the following output:
p21931
aVYou won't get better time complexity than your solution since it's O(n) and you have to visit every node to change the pointers, but you can do a solution with only two extra pointers quite easily, as shown in the following code:
p21932
aVThis code outputs:
p21933
aVwhich I think is what you were after
p21934
aVIt can actually do this since, once you've loaded up  into the pointer traversing the list, you can re-use  at will
p21935
as(dp21936
g16
V14860
p21937
stp21938
a((dp21939
g2
(lp21940
VList comprehensions is how I'd do it
p21941
aVThis snippet below shows how to convert a list to all upper case then back to lower:
p21942
as(dp21943
g16
V14860
p21944
stp21945
a((dp21946
g2
(lp21947
VIf you're talking about  batch files under Windows, you can use:
p21948
aVFor  and a lot of other UNIX-type shells, you use:
p21949
aVI'm pretty certain you're not using  since that would give you an error like:
p21950
aVrather then:
p21951
aVIf you are using a UNIX-type shell, the  character is almost certainly what you're after
p21952
aVIf you let us know exactly the shell you're using, we can probably help out further
p21953
as(dp21954
g16
V14860
p21955
stp21956
a((dp21957
g2
(lp21958
VIf you're using C++ as your tags indicate, you really should be using the C++ strings, not the C  arrays
p21959
aVThe  type makes manipulating strings a lot easier
p21960
aVIf you're stuck with  arrays for some reason, the line:
p21961
aVallocates 1 byte of space and puts a null terminator character into it
p21962
aVIt's subtly different from:
p21963
aVsince that may give you a reference to non-writable memory
p21964
aVThe statement:
p21965
aVon its own gives you a pointer but nothing that it points to
p21966
aVIt can also have a random value if it's local to a function
p21967
aVWhat people tend to do (in C rather than C++) is to do something like:
p21968
aVto get enough space
p21969
aVIf you use the  functions, you're basically responsible for ensuring that you have enough space in the  array, lest you get all sorts of weird and wonderful practice at debugging code
p21970
aVIf you use real C++ strings, a lot of the grunt work is done for you
p21971
as(dp21972
g16
V14860
p21973
stp21974
a((dp21975
g2
(lp21976
VSearching for text within a column is horrendously inefficient and does not scale well (per-row functions, as a rule, all have this problem)
p21977
aVWhat you should be doing is trading disk space (which is cheap) for performance (which is never cheap) by creating a new column,  for example, adding an index to it, then using an insert/update trigger to set it based on the data going into the real column
p21978
aVThis means the calculation is done only when the row is created or modified, not every single time you extract the data
p21979
aVDatabases are almost always read far more often than they're written and using this solution allows you to amortize the cost of the calculation over many  statement executions
p21980
aVThen, when you want your data, just use:
p21981
aVand watch it leave a regular expression query or  monstrosity in its dust
p21982
as(dp21983
g16
V14860
p21984
stp21985
a((dp21986
g2
(lp21987
VIf you want this solution to scale at all, you should not be trying to extract sub-columns
p21988
aVPer-row functions are notoriously slow as the table gets bigger and bigger
p21989
aVThe right thing to do in this case is to move the cost of extraction from  (where it happens a lot) to  where it happens less (in most normal databases)
p21990
aVBy incurring the cost only on  and , you greatly increase the overall efficiency of the database, since that's the only point in time where you need to do it (i
p21991
ag75
aV, it's the only time when the data changes)
p21992
aVIn order to achieve this, split the email address into two distinct columns in the table,  and )
p21993
aVThen you can either split it in your application before insertion/update or use a trigger (or pre-computed columns if your DBMS supports it) in the database to do it automatically
p21994
aVThen you sort on  and, when you want the full email address, you use
p21995
aVAlternatively, you can keep the full  column and use a trigger to duplicate just the domain part in , then you never need to worry about concatenating the columns to get the full email address
p21996
aVIt's perfectly acceptable to revert from 3NF for performance reasons provided you know what you're doing
p21997
aVIn this case, the data in the two columns can't get out of sync simply because the triggers won't allow it
p21998
aVIt's a good way to trade disk space (relatively cheap) for performance (we always want more of that)
p21999
aVAnd, if you're the sort that doesn't like reverting from 3NF at all, the  solution will fix that
p22000
aVThis is also assuming you just want to handle email addresses of the form  - there are other valid email addresses but I can't recall seeing any of them in the wild for years
p22001
as(dp22002
g16
V14860
p22003
stp22004
a((dp22005
g2
(lp22006
VIn your code:
p22007
aVyou allocate space for two elements in the array and set  to point to the first:
p22008
aVYou then increment the element pointer with  and that is what gets returned to the calling function at the end
p22009
aVThat pointer points to the second array element which is why it seems to be wrong (and why you will almost certainly crash when you try to free that memory later by the way):
p22010
aVWhat you need is:
p22011
aVas you've already pointed out
p22012
aVThis solution does not change the  pointer at all
p22013
aVBut, if you really want to use pointers, you can just reverse the actions of the  with an  before returning so that  is set back to the right value:
p22014
aVOr, another way, which doesn't change the original pointer, doesn't use array indexing and doesn't use a second pointer is to use pointer arithmetic
p22015
aVThe compiler knows what type the pointer points to so can adjust the pointer correctly to find the next element (you already know that it knows how to do this since  is shorthand for  and that statement adjusts the value by the correct amount also):
p22016
as(dp22017
g16
V14860
p22018
stp22019
a((dp22020
g2
(lp22021
VThe only way you can really tell is if you examine the assembler output (which you appear to have discounted)
p22022
aVOther than that, you could read the doco to see what types of optimization each level of your compiler provides
p22023
aVBut, in all honesty, if you don't trust that the optimization levels of your compiler are doing the job, you probably won't trust the doco :-)
p22024
aVI would look at the assembler myself, it's the only way you could be truly certain
p22025
as(dp22026
g16
V14860
p22027
stp22028
a((dp22029
g2
(lp22030
VUpper and lower bounds have to do with the minimum and maximum "complexity" of an algorithm (I use that word advisedly since it has a very specific meaning in complexity analysis)
p22031
aVTake, for example, our old friend, the bubble sort
p22032
aVIn an ideal case where all the data are already sorted, the time taken is f(n), a function dependent on , the number of items in the list
p22033
aVThat's because you only have to make one pass of the data set (with zero swaps) to ensure your list is sorted
p22034
aVIn a particularly bad case where the data are sorted in the opposite to the order you want, the time taken becomes f(n2)
p22035
aVThis is because each pass moves one element to the right position and you need  passes to do all elements
p22036
aVIn that case, the upper and lower bounds are different, even though the big-O complexity remains the same
p22037
aVAs an aside, the bubble sort is much maligned (usually for good reasons) but it can make sense in certain circumstances
p22038
aVI actually use it in an application where the bulk of the data are already sorted and only one or two items tend to be added at a time to the end of the list
p22039
aVFor adding one item, and with a reverse-directional bubble sort, you can guarantee the new list will be sorted in one pass
p22040
aVThat illustrates the lower bound concept
p22041
aVIn fact, you could make an optimization of the bubble sort that sets the lower bound to f(1), simply by providing an extra datum which indicates whether the list is sorted
p22042
aVYou would set this after sorting and clear it when adding an item to the end
p22043
as(dp22044
g16
V14860
p22045
stp22046
a((dp22047
g2
(lp22048
VBecause your  command is inside single quotes, the shell variables  and  will not be expanded
p22049
aVThat's why you're getting the  errors
p22050
aVI would use the following script:
p22051
aVThat will simply set  to either both files or one file, depending on whether  is  or not, then push that list of files through a single  script
p22052
as(dp22053
g16
V14860
p22054
stp22055
a((dp22056
g2
(lp22057
V doesn't go out and get shell variables for you, you have to pass them in as  variables:
p22058
aVThere is another way of doing it by using double quotes instead of single quotes (so that  substitutes the values before  sees them), but then you have to start escaping  symbols and all sorts of other things in your  command:
p22059
aVI prefer to use explicit variable creation
p22060
aVBy the way, there's another solution to your previous related question here which should work
p22061
as(dp22062
g16
V14860
p22063
stp22064
a((dp22065
g2
(lp22066
VYou should be able to find your command with a  variant like:
p22067
aVThen, once located, it should be a simple matter to use  to kill the process (permissions permitting)
p22068
aVIf you're talking about getting rid of jobs in the  queue (that aren't running yet), you can use  to list them and  to get rid of them
p22069
as(dp22070
g16
V14860
p22071
stp22072
a((dp22073
g2
(lp22074
VThe following  script can do what you ask:
p22075
aVThis outputs:
p22076
aVThe way it works is relatively simple
p22077
aVThe counter variable  decides how many lines are left to comment
p22078
aVIt starts as 0 but when you find a specific pattern, it gets set to 3
p22079
aVThen, it starts counting down, affecting that many lines (including the one that set it to 3)
p22080
aVIf you're not that worried about readability, you can use the shorter:
p22081
aVBe aware that the count will be reset whenever the pattern is found
p22082
aVThis seems to be the logical way of handling:
p22083
aVIf that's not what you wanted, replace  with  or use:
p22084
aVfor the compact version
p22085
as(dp22086
g16
V14860
p22087
stp22088
a((dp22089
g2
(lp22090
VYes, there is a possibility of stack overflow
p22091
aVThe C and C++ standard do not dictate things like stack depth, those are generally an environmental issue
p22092
aVMost decent development environments and/or operating systems will let you tailor the stack size of a process, either at link or load time
p22093
aVYou should specify which OS and development environment you're using for more targeted assistance
p22094
aVFor example, under Ubuntu Karmic Koala, the default for gcc is 2M reserved and 4K committed but this can be changed when you link the program
p22095
aVUse the  option of  to do that
p22096
as(dp22097
g16
V14860
p22098
stp22099
a((dp22100
g2
(lp22101
VOne immediate thing I noticed
p22102
aVYour  loop is checking  for  whereas that value is actually in
p22103
aVOther than that possibility ( may be  to begin with, which could cause exit from the loop regardless of the value entered), nothing jumps out as obviously causing premature exit from a function or loop
p22104
aVI think you'll be better off posting your full code base so we're not guessing too much
p22105
aVUpdate:
p22106
aVDon't use the following for homework - you will almost certainly be failed for plagiarism (since your educators, assuming they're not total fools, will be on the lookout for work taken from these sites)
p22107
aVI just wanted to give you an idea of what you can use for user I/O to make your programs a little more robust
p22108
aVAs one helpful soul pointed out, you should never use the input routines that don't have buffer over-run protection as an option since that will almost certainly allow malicious input to crash your code (that's the best case, worst case is that they will take over your computer)
p22109
aVThat means no , you need to use  instead since it can limit how much information is actually input
p22110
aVIn addition, I tend to avoid the use of  and  since any failure in those functions actually leaves the input file pointer at an indeterminate location
p22111
aVI find it's far better to use  to get a whole line, check that you actually got a whole line, then use  on that line
p22112
aVThat way, you can be sure you're on a line boundary, that you've got an entire line and that you can then  that line to your heart's content until you match it with something
p22113
aVTo that end, you may want to look over the following code:
p22114
ag5385
ag5385
ag5385
ag5385
ag5385
ag5385
as(dp22115
g16
V14860
p22116
stp22117
a((dp22118
g2
(lp22119
VIt's not signals which directly control whether jobs are foreground or background
p22120
aVThe jobs are under the control of a shell (usually)
p22121
aVFor example, under , if you execute:
p22122
aVyou will see output like:
p22123
aVThen, you can bring that job back into the foreground by using:
p22124
aV(and the terminal waits)
p22125
aVUsing CTRLZ does send a signal to the process () as well as putting it into the background but the only signal that can change that is  (to continue):
p22126
aVThat will instruct the process to start running again but it doesn't bring it into the foreground
p22127
aVFor that, you need the  command
p22128
aVIt's probably best to think of signals (which affect the process) and foreground/background (which affect the shell that started the process by determining whether it waits for it, amongst other things) separately
p22129
as(dp22130
g16
V14860
p22131
stp22132
a((dp22133
g2
(lp22134
VOne possibility:
p22135
aVproduces:
p22136
as(dp22137
g16
V14860
p22138
stp22139
a((dp22140
g2
(lp22141
VSure you can:
p22142
aVgives you:
p22143
aVcommands consist of an actual pattern to match and a command to run
p22144
aVIf there's no pattern, the command runs for all lines
p22145
as(dp22146
g16
V14860
p22147
stp22148
a((dp22149
g2
(lp22150
VBinary trees are the simplest form of multi-way trees so they're easier to study in that sense
p22151
aVMulti-way trees have nodes that consist of  keys and  pointers, along the lines of:
p22152
aVTo find out which pointer to follow in a search, you compare the key you're looking for against the keys in the node
p22153
aVThat example above is an order-2 multi-way tree (I'm defining order  as having  keys and  pointers)
p22154
aVWhen you "degenerate" this structure to have the smallest node possible, you end up with one key and two pointers, your classical binary tree:
p22155
aVWhen I went to university (and I'll freely admit that it was a while ago), we studied binary trees first, simply because the algorithms were elegant
p22156
aVSearch was a simple compare node and select one of two sub-trees
p22157
aVInsertion and deletion were also relatively easy
p22158
aVThen we went on to balanced binary trees, where search was exactly the same but insertion and deletion were a little more complicated, involving 'rotating' of sub-trees through the sub-tree root where necessary to keep it balanced
p22159
aVThis was then followed by non-balanced multi-way trees to get the concept of searching within a node once you've found the correct node then, finally, balanced multi-way trees which were basically the same as binary trees but with that same added complexity of a sequential search, as well as insertion or deletion within the node and combining and spitting of nodes themselves
p22160
aVAt each of those steps you simply added a little more complexity to the algorithms
p22161
aVI don't recall too many people having trouble with that progression so maybe all the textbooks you mention are just at the starter level
p22162
aVI've never really found multi-way trees to be more useful than binary trees except in one very specific situation
p22163
aVThat's when you're reading nodes of the tree from a slow medium like disk and you've optimized for sector/cluster/block sizes
p22164
aVWe developed a multi-way tree implementation under OS/2 (showing my age here) which screamed along, by ensuring the nodes were identical in size to the underlying disk blocks
p22165
aVEven though this could result in some wasted space, the speed improvements were worth it
p22166
aVFor in-memory stuff, binary trees have all the advantages of multi-ways with none of the extra complications (having to combine sequential search of a node with sub-tree selection)
p22167
aVBinary trees boil down to "Should we move left or right
p22168
aV, multi-ways are "Where's the key in this node so that we can choose the sub-tree
p22169
as(dp22170
g16
V14860
p22171
stp22172
a((dp22173
g2
(lp22174
VIf you want to do it in a non-destructive way, one way is to pass all the arguments to a function and return the last one:
p22175
aVIf you don't actually care about keeping the other arguments, you don't need it in a function but I have a hard time thinking of a situation where you would never want to keep the other arguments unless they've already been processed, in which case I'd use the process/shift/process/shift/
p22176
aVmethod of sequentially processing them
p22177
aVI'm assuming here that you want to keep them because you haven't followed the sequential method
p22178
aVThis method also handles the case where there's no arguments, returning ""
p22179
aVYou could easily adjust that behavior by inserting the commented-out  clause
p22180
as(dp22181
g16
V14860
p22182
stp22183
a((dp22184
g2
(lp22185
VChoosing random values and then throwing away those that you've already used is a bad idea
p22186
aVIt makes the run-times longer as the pool of available numbers gets less since you're throwing away more and more
p22187
aVWhat you want is a shuffle list which I would implement with the following code (pseudo-code since it's homework):
p22188
aVBy simply selecting a random number from the pool then replacing it with the top number from that pool and reducing the size of the pool, you get a shuffle without having to worry about a large number of swaps up front
p22189
aVThis is important if the number is high in that it doesn't introduce an unnecessary startup delay
p22190
aVFor example, examine the following bench-check:
p22191
aVYou can see the pool reducing as you go and, because you're always replacing the used one with an unused one, you'll never have a repeat
p22192
aVAnd now your homework consists of turning that into VB :-)
p22193
aVAnd, since this homework is now almost certainly overdue (about a year ago), I'll post a VBA solution showing how to do it, for completeness
p22194
aVThis generated, on three separate runs:
p22195
as(dp22196
g16
V14860
p22197
stp22198
a((dp22199
g2
(lp22200
VIt's not possible to do this with a truly random number generator since you either have to:
p22201
aVremember which numbers have already been chosen and skip them (which requires an O(n) list of booleans and progressively worsening run-times as you skip more and more numbers); or
p22202
aVreduce the pool after each selection (which requires either modifications to the original list or a separate O(n) list to modify)
p22203
aVNeither of those are possibilities in your question so I'm going to have to say "no, you can't do it"
p22204
aVWhat I would tend to go for in this case is a bit mask of used values but not with skipping since, as mentioned, the run-times get worse as the used values accumulate
p22205
aVA bit mask will be substantially better than the original list of 39Gb (10 million bits is only about 1
p22206
aV2M), many order of magnitude less as you requested even though it's still O(n)
p22207
aVIn order to get around the run-time problem, only generate one random number each time and, if the relevant "used" bit is already set, scan forward through the bit mask until you find one that's not set
p22208
aVThat means you won't be hanging around, desperate for the random number generator to give you a number that hasn't been used yet
p22209
aVThe run times will only ever get as bad as the time taken to scan 1
p22210
aV2M of data
p22211
aVOf course this means that the specific number chosen at any time is skewed based on the numbers that have already been chosen but, since those numbers were random anyway, the skewing is random (and if the numbers weren't truly random to begin with, then the skewing won't matter)
p22212
aVAnd you could even alternate the search direction (scanning up or down) if you want a bit more variety
p22213
aVBottom line: I don't believe what you're asking for is doable but keep in mind I've been wrong before as my wife will attest to, quickly and frequently :-) But, as with all things, there's usually ways to get around such issues
p22214
as(dp22215
g16
V14860
p22216
stp22217
a((dp22218
g2
(lp22219
VI'm not sure why you even had to introduce the circle
p22220
aVFor a line stretching from  to , you can calculate any point on that line as:
p22221
aVwhere  is the percentage along the line you wish to go
p22222
aVTo calculate the percentage, you just need:
p22223
aVSo in your case,  can be calculated as:
p22224
aVFor example, if you have the two points  and , they have a length of sqrt(72 + 172 or 18
p22225
aV38477631 and 10 divided by that is 0
p22226
aV543928293
p22227
aVPutting all those figures into the equation above:
p22228
aVThe distance between  and  is sqrt(3
p22229
aV1925019472 + 7
p22230
aV7532190152) or 8
p22231
aV384776311, a difference of 10 to within one part in a thousand million, and that's only because of rounding errors on my calculator
p22232
as(dp22233
g16
V14860
p22234
stp22235
a((dp22236
g2
(lp22237
VYou don't really 'create' instances of structures in C like that
p22238
aVAssuming that  points to a block of usable memory, you can just treat  as a pointer to your structure type:
p22239
aVOnce  is cast (implicitly or explicitly as above), you can initialize the contents of your structure however you wish
p22240
aVAs an example, the following code will initialize a structure as you seem to request:
p22241
aVDon't get hung up on the  function above, it's only to illustrate how you can pass an arbitrary memory address to the function
p22242
aVIn your real-world case, you will have the memory already allocated somehow
p22243
as(dp22244
g16
V14860
p22245
stp22246
a((dp22247
g2
(lp22248
VThis is begging for an interface, either with functions or macros, something like:
p22249
aVYou can also provide macros to extract the size portion and create the whole integer:
p22250
aVYou'll find your code becomes a lot more readable if you provide the "functions" to do the work and give them sensible names like the above
p22251
aVOtherwise your code is peppered with bit manipulation instructions that are harder to understand
p22252
aVJust keep in mind the normal rules for macros, things like not passing in things like  if your macros use it more than once (which isn't actually the case here)
p22253
aVIf you want to be ultra-safe, you can do them as functions
p22254
aVEquivalent functions would be:
p22255
as(dp22256
g16
V14860
p22257
stp22258
a((dp22259
g2
(lp22260
VYou don't need to use assert on pointers at all
p22261
aVThe idea is to ensure you don't crash when dereferencing your pointers when they're null
p22262
aVYou can do this with  but it's not a very professional way to handle errors like this since it invariably terminates the program - not a good idea if the user hasn't, for example, saved their last three hours worth of data entry
p22263
aVWhat you should do with pointers is to check them for null-ness and fail gracefully
p22264
aVIn other words, have your function return an error of some sort or do nothing (not everyone will agree with this approach but it's perfectly acceptable if it's documented)
p22265
aVThe  stuff is meant, in my opinion, for catching problems during development which is why you'll find assert does nothing in release builds under some compilers
p22266
aVIt is not a substitute for defensive programming
p22267
aVAs to how to do it:
p22268
aVbut this would be better done as:
p22269
aVIn other words, even if your "contract" (API) states that you're not allowed to receive null pointers, you should still handle them gracefully
p22270
aVAn old quote: be conservative in what you give, liberal in what you accept (paraphrased)
p22271
as(dp22272
g16
V14860
p22273
stp22274
a((dp22275
g2
(lp22276
VSQLite does not support the  command
p22277
aVYou will need to create a new table without a constraint, transfer the data, then delete the old table
p22278
aVI think something like the following should work:
p22279
aVYou could also leave out parent_id from all the statements above if you don't want it transferred
p22280
as(dp22281
g16
V14860
p22282
stp22283
a((dp22284
g2
(lp22285
VYou need a  in there
p22286
aVIt selects the first non-NULL argument, so you need something like:
p22287
aVThen, when the result of the round is NULL, it will give you zero instead
p22288
as(dp22289
g16
V14860
p22290
stp22291
a((dp22292
g2
(lp22293
VI don't think so (but I've been wrong before)
p22294
aVWhat I tend to do is those cases is a two-step process
p22295
aVIf your DBMS has a command line interface, you can use it to create a script to do the bulk of the work, something like:
p22296
aVThe first bit simply creates a  file (or a  file under Windows) containing a  statement for every table owned by
p22297
aVThen you just run that command file to do the dirty work
p22298
aVYou may want to check it first, of course :-)
p22299
aVNot the one-step process you were looking for but still very simple
p22300
aVI'm assuming here that mysql also has a command line interface
p22301
aVUpdate:
p22302
aVThe MySQL version of the above looks like it should be:
p22303
aVThis uses the  command which is usually more efficient than  for deleting all rows
p22304
aVIt also uses the proper MySQL system tables to get the table names
p22305
aVOne point though - you may want to put a  clause on that select to limit the tables to those you want deleted
p22306
aVThe query as it stands will try to delete every table
p22307
aVOne possibility is to limit it with specific  and/or  values
p22308
as(dp22309
g16
V14860
p22310
stp22311
a((dp22312
g2
(lp22313
VActually, when you're running in a co-operatively threaded environment, you really do want determinism
p22314
aVBut, if you're hell-bent on doing it, you just need to make it random
p22315
aVthen change your  calls to  and, depending on what value  is set to at compile time, you'll get deterministic or non-deterministic behavior
p22316
aVIf it doesn't exist or is outside the range 1 through 100,  will yield all the time
p22317
aVIf it's within the range, then it will call the  function randomly, based on the probability you give it
p22318
as(dp22319
g16
V14860
p22320
stp22321
a((dp22322
g2
(lp22323
VIt will no doubt be an alignment issue
p22324
aVOn many architectures, certain types have to be aligned properly, an example being that 4-byte integers must start on a 4-byte boundary
p22325
aVIf you access non-aligned data, some architectures won't care, others will run slower, still others (such as in this case) will fall in a screaming heap
p22326
aVWhen you create the integer , it will be aligned correctly on the stack at an address which is a correct multiple
p22327
aVBy moving that address up on byte, and de-referencing that as an , you're causing the
p22328
aVThis link at Oracle shows the alignment requirements
p22329
aVIn short:
p22330
aVshort integers are aligned on 16-bit boundaries
p22331
aVint integers are aligned on 32-bit boundaries
p22332
aVlong integers are aligned on 64-bit boundaries for SPARC systems
p22333
aVlong long integers are aligned on 64-bit boundaries
p22334
as(dp22335
g16
V14860
p22336
stp22337
a((dp22338
g2
(lp22339
VIt depends on exactly what the applications expect when they read this file
p22340
aVIf, for example, it's a text file, you could simply insert a space following one of the paragraphs
p22341
aVThis doesn't change the readability of the file by humans but it will change the MD5
p22342
aVLikewise for basic HTML files or source files such as C or PHP where the spacing doesn't matter (as long as you insert the space in a syntactically insignificant area, so not inside string constants for example)
p22343
aVPut in some extra spaces or add newline characters at the end and you'll find the behavior of your web pages doesn't change
p22344
aVHowever this is unlikely to work for an executable file since it will probably crash and burn when you run it (if indeed it even loads - some loaders may use checksums for the load sections)
p22345
aVYou need to specify exactly what corruption means in the case you're talking about
p22346
aVUpdate:
p22347
aVFor example, in JPEG files, it's probably a simple matter of replacing the EOI marker at the end with a unique COM section followed by an EOI marker
p22348
aVThe EOI marker is the end of image and you should be able to insert the comment section (with a unique comment) before it
p22349
aVThis would make each JPEG have a different MD5 while stil presenting the same image
p22350
aVSee here
p22351
aVWith ZIP files, you can actually insert arbitrary data in between each file since the catalog at the end lists files with their offsets
p22352
aVSee here for details
p22353
aVUnfortunately, I'm not familiar with the internals of RAR files
p22354
as(dp22355
g16
V14860
p22356
stp22357
a((dp22358
g2
(lp22359
VIf you can't use , then you'll need to resort to setting each byte individually
p22360
aVSince you're calling  from your  function, I'm going to assume it looks something like this:
p22361
aVand you just need the code for
p22362
aVHere's what you need to know
p22363
aVIn order to process the block one byte at a time, you need to cast the pointer to a type that references bytes ( would be good)
p22364
aVTo cast your pointer to (for example) an  pointer, you would use
p22365
aVOnce you have the right type of pointer, you can use that to store the correct data value based on the type
p22366
aVYou would do this by storing the desired value in a loop which increments the pointer and decrements the count until the count reaches zero
p22367
aVHopefully that's enough to start with without giving away every detail of the solution
p22368
aVIf you still have problems, leave a comment and I'll flesh out the answer until you have it correct (since it's homework, I'll be trying to get you to do most of the thinking)
p22369
aVUpdate: Since an answer's already been accepted, I'll post my full solution
p22370
aVTo write a basic  in terms of just :
p22371
aVNote that you can work directly with  pointers within the function since they freely convert to and from  pointers
p22372
as(dp22373
g16
V14860
p22374
stp22375
a((dp22376
g2
(lp22377
VYour code looks fine to me and several people here have commented that it works on their system
p22378
aVSo the obvious thing to do is to debug it - that's a skill that will come in handy quite a bit in future :-) You should learn it now
p22379
aVWhat does the following code output when you run it
p22380
aVFrom the output, it should be clear what paths the code is taking and what your parameters are (which will greatly assist the debugging process)
p22381
aVUpdate:
p22382
aVIf you're filling your memory block with anything other than zeros and using this:
p22383
aVto print it out, you will get strange results
p22384
aVYou're basically asking for a number of those bytes to be interpreted as an integer
p22385
aVSo, for example, if you filled it with  bytes and you have a 4-byte integer type, you will get the integer  (33686018), not  as you may expect
p22386
aVIf you want to see what the first character value is, use:
p22387
aVAnd based on your latest question update:
p22388
aVFor example, if you to print the chars ( c ) it prints like a weird char that looks like ( for the value 4 )
p22389
aV0 0
p22390
aV0 4
p22391
aVIf that's a single character and you're printing it as a character, there's probably nothing wrong at all
p22392
aVMany output streams will give you that for a control character (CTRL-D in this case, ASCII code 4)
p22393
aVIf you instead filled it with ASCII code 0x30 (48), you would see the character '0' or ASCII 0x41 (65) would give you 'A'
p22394
as(dp22395
g16
V14860
p22396
stp22397
a((dp22398
g2
(lp22399
VJust use the  command to change the variable, based on the format string:
p22400
aVYou'll want to make sure it's numeric first otherwise the conversion will fail
p22401
aVIf you want to be able to pad any string out to two or more characters, you can also use:
p22402
aVwhich is basically a  loop (using  which doesn't output the newline as well, which is what was skewing your character count) which prefixes "0" until the length is right
p22403
as(dp22404
g16
V14860
p22405
stp22406
a((dp22407
g2
(lp22408
VI see two problems here
p22409
aVThe first is that the source of the  is  where it probably should be
p22410
aVThe second is that  is not null-terminated
p22411
aVStrings in C are null-terminated character arrays
p22412
aVI would change the two lines:
p22413
aVto:
p22414
aVHere's a complete program that gives you what you want (it actually prints out the number twice, once in your inner loop character by character and once with the  so that you can see they're the same):
p22415
aVUpdate based on comment:
p22416
aVI am sorry
p22417
aVI am new to C
p22418
aVMy apologies for not pasting the code snippet correctly in the beginning: "printf("%c",a[0]
p22419
aVcode);" doesn't display "3025931"
p22420
aVNo, it won't
p22421
aVThat's because  is a character array (string in this case) and you should be using , not
p22422
aVChanging the format specifier in the  should fix that particular issue
p22423
as(dp22424
g16
V14860
p22425
stp22426
a((dp22427
g2
(lp22428
VWell, you could set up a template to be copied into it later:
p22429
aVOutputs 30 when run
p22430
aVBut this is still techically sourcing the data at compile-time
p22431
aVIf you really want to do it at runtime (with calculated values), you need to do it element by element
p22432
as(dp22433
g16
V14860
p22434
stp22435
a((dp22436
g2
(lp22437
VYou should never compare booleans against anything in any of the C based languages
p22438
aVThe right way to do it is to use either:
p22439
aVor:
p22440
aVThis makes your code much more readable (especially if you're using intelligently named variables and functions like  or ) and safe
p22441
aVThe reason something like:
p22442
aVis not so safe is that there are actually a large number of values of  which will evaluate to true, and  is only one of them
p22443
aVConsider the following:
p22444
aVYou should get both those lines printed out if it were working as expected but you only get the first
p22445
aVThat's because 7 is actually true if treated correctly (0 is false, everything else is true) but the explicit test for equality evaluates to false
p22446
aVUpdate:
p22447
aVIn response to your comment that you thought there'd be more to it than coder stupidity: yes, there is (but I still wouldn't discount coder stupidity as a good enough reason - defensive programming is always a good idea)
p22448
aVI also mentioned readability, which is rather high on my list of desirable features in code
p22449
aVA condition should either be a comparison between objects or a flag (including boolean return values):
p22450
aVIf you use (what I consider) an abomination like:
p22451
aVwhere do you stop:
p22452
aVand so on
p22453
aVThe right way to do it for readability is to just use appropriately named flag variables
p22454
as(dp22455
g16
V14860
p22456
stp22457
a((dp22458
g2
(lp22459
VWhat other alternatives
p22460
aVIf you're tired of trying the "hacks", I'd be looking at one or more of the following, in no particular order
p22461
aVUse a different IDE
p22462
aVRe-install Visual Studio
p22463
aVRe-install Windows along with all your other apps (including VS)
p22464
aVTry installing Visual Studio in a newly created virtual machine
p22465
aVUpgrade to XP :-)
p22466
aVRaise a support call with Microsoft
p22467
aVHire someone to fix the problem for you
p22468
aVProvide more detail in this question
p22469
aVReally, the possibilities are (figuratively) endless
p22470
aVThere are any number of problems that could be causing this and the detail is a bit light on at the moment
p22471
aVWhat I tend to do is always have a fresh-install VM of XP lying around so I can test problems in environments that haven't been heavily changed from the originals
p22472
aVNo doubt we will be able to provide more help once the problem has been narrowed down some more
p22473
aVSorry I can't help more than that at the moment
p22474
as(dp22475
g16
V14860
p22476
stp22477
a((dp22478
g2
(lp22479
VThere is nothing in the C or C++ standards themselves about directory handling but just about any OS worth its salt will have such a beast, one example being the  functions or
p22480
aVThe way you would do it is a simple loop over those functions, checking the end of the strings returned for the extension you want
p22481
aVSomething like:
p22482
aVAs stated, the actual functions you will use for traversing the directory are OS-specific
p22483
aVFor UNIX, it would almost certainly be the use of opendir, readdir and closedir
p22484
aVThis code is a good starting point for that:
p22485
as(dp22486
g16
V14860
p22487
stp22488
a((dp22489
g2
(lp22490
VNo, that should be the most optimal order based on common compiler behavior (keeping in mind that the standard does not actually mandate how the structures are packed with respect to the spaces between the elements, although it does guarantee the order is as specified: see '6
p22491
ag2836
aV5 Types' of the latest draft C1x-n1425)
p22492
aVYou have all your pointers up the front and all your characters down the back, so you'll probably find that, with a four-byte pointer size you'll end up with a 19- or 20-byte structure
p22493
aVYou can easily check this by inserting the following lines in your code:
p22494
aVThe reason I've put in all the  checks is to ensure you have full information
p22495
aVI'm well aware the  is always 1
p22496
as(dp22497
g16
V14860
p22498
stp22499
a((dp22500
g2
(lp22501
VYou won't get any output until the standard input stream is closed (with either CTRLZ under Windows or CTRLD under various UNIX flavors)
p22502
aVThe newline is just another character
p22503
aVYou may also want to get a more recent C tutorial book
p22504
aVis no longer one of the mandated main prototypes for ISO C, you should be using one of:
p22505
aVOn top of that, your code as shown won't compile since you don't terminate the  format string
p22506
aVUse:
p22507
aVinstead of:
p22508
aVWhy you're using a  is also a mystery unless you want to process really large files - I'd be using an  or a  for that
p22509
aVHere's the code I'd be using:
p22510
aVwhich produces the following session:
p22511
as(dp22512
g16
V14860
p22513
stp22514
a((dp22515
g2
(lp22516
VJust before you do that segmentation-violation-causing instruction, insert:
p22517
aVand see which one is set to NULL (or an invalid value)
p22518
aVYour segmentation violation is almost certainly caused by an uninitialized pointer
p22519
as(dp22520
g16
V14860
p22521
stp22522
a((dp22523
g2
(lp22524
VInterestingly enough, I've seen exactly this sort of system in use recently but perhaps not where you'd expect it
p22525
aVWoolworths (in Australia) recently introduced self-serve checkouts where you can scan you own stuff through the bar-code reader and basically take the checkout person out of the loop
p22526
aVScales at each station, and a single person monitoring 8 checkout stations, are used to ensure you don't rip them off, and you can now fit those eight checkouts in a space that used to have two
p22527
aVBut this is really an aside
p22528
aVThe meat of this answer is the things that don't have bar-codes (deli meats, fruit and vegetable mostly)
p22529
aVFor these, you place them on the scales and then use exactly the system you describe: selecting a broad category and eventually drilling down to a specific item (fruit/apples/pink-ladies, vegetables/green/peas/minted-peas or deli/meat/sliced/ham/champagne-ham for example)
p22530
aVI'm willing to bet Woolies did a bucket-load of research before foisting this on the general public so it's probably one of the better solutions
p22531
aVThe trick is to figure out the most efficient way of getting from 3 or 4 image selections to a coherent sentence
p22532
aVOne example springing immediately to mind is the difference between "I want a both" and "Oh, my God, you really need a bath"
p22533
aVUsing the same images but just having an arrow that points to either your family member or the party they're talking to could be one solution
p22534
aVFor that reason (and many others), you should probably make the imagechain-to-sentence part of your software as configurable as possible
p22535
aVYou will have many false starts so making this so will ease your workload considerably
p22536
aVAs to development, I'd do that on a regular machine (with mouse and keyboard) but make everything in the software reliant on the mouse clicks
p22537
aVA finger touch sensitive screen will be indistinguishable from a mouse-driven one provided you make the images large enough and leave enough spacing between them
p22538
aVPeople writing programs for the iPhone don't actually write them on the iPhone - there's no reason why you should have to develop on a tablet
p22539
aVYou will need one for testing eventually but that doesn't have to happen straight away
p22540
aVYou can even test with your family member without a touch screen
p22541
aVJust sit with them and you click the mouse in the appropriate place when they touch the screen
p22542
aVThat way you can delay the costs until the project is well along (and you're more certain of success)
p22543
aVAnd you shouldn't need to worry too much about reliability
p22544
aVYou can get very robust portable PCs
p22545
aVI did some work for a Telco some ten years ago which involved getting jobs out to the field workforce (the bods that fix your handsets or local loop) and they were the roughest group of users I've ever seen
p22546
aVWe used to get machines coming in labeled "communications problem" that were covered in mud because 'Joe' had thrown in through the open van window into a cow paddock because it couldn't contact the base station :-)
p22547
as(dp22548
g16
V14860
p22549
stp22550
a((dp22551
g2
(lp22552
VWhy are you doing  and  inside the loop
p22553
aVThis creates a new string array every single time through the loop, invalidating the previous assignments
p22554
aVTry this instead:
p22555
aVIt creates a big-enough array up front and populates all the array elements
p22556
aVI've also changed the starting value for  in the above code because array indexes usually start at zero, not one
p22557
aVYou may want to check that
p22558
aVOne final thing to watch out for is those statics
p22559
aVIf your class is ever allocated as multiple instances, they may overwrite each other's data in that case (especially in a threaded program where you can't dictate sequencing easily)
p22560
aVMaking these private to an instance will prevent this
p22561
aVAgain, it depends on how you're using the class
p22562
aVIf it's a singleton, it won't matter (yet), but I tend to plan ahead - you don't know when you may want to change it to a non-singleton and you lose nothing (in my opinion) using instance variables even for a singleton
p22563
as(dp22564
g16
V14860
p22565
stp22566
a((dp22567
g2
(lp22568
VBrowsers do not listen on port 80, HTTP servers do (although that's just convention, you could easily have an FTP or telnet server using port 80)
p22569
aVIn TCP/IP, a "session" must be unique and the session is defined as the 5-tuple (protocol, sourceIP, destinationIP, sourcePort, destinationPort)
p22570
aVThis allows the packets to be routed correctly on the internet
p22571
aVTypically when a client attempts to contact a server, it specifies 0 as its source port which means that the operating system assigns it an unused one
p22572
aVThat means that the client will actually listen on that port, not port 80
p22573
aVSo you may get a session with the properties (TCP,mybox
p22574
aVcom,1101,www
p22575
aVmicrosoft
p22576
aVcom,80) when your browser goes out to access Microsoft's web pages
p22577
aVIf you find you cannot bind your server to port 80, it will most likely because you already have a server running on that port, or your program doesn't have the required privileges to bind to that port (ports less than 1024 are generally considered privileged ports)
p22578
aVRunning  (on Linux or Windows) will tell you whether a server is bound to port 80
p22579
aVLook for a listener on port 80 (or  if it's resolving ports to service names), something like:
p22580
as(dp22581
g16
V14860
p22582
stp22583
a((dp22584
g2
(lp22585
VThe first time you add an element (let's call it ) to the list,  is null and you go through the  part
p22586
aVThat means that both  and tail are set to point to  when adding that first element
p22587
aVNow let's add another element
p22588
aVThis time,  is not null so it goes through the  part, setting  to point to  but leaving  pointing at
p22589
aVThis is as expected, you now have  pointing to ,  pointing to ,  pointing to nothing (null) and  pointing to
p22590
aVLet's take it step by step
p22591
aVYou can see at each stage (other than the initial) that the current tail is set to point to the new node (which already points to NULL for its next node) then the tail pointer is updated to point to the new last node
p22592
aVIn fact, let's go through the addition of C in even more detail (line by line) so you can see what each line of code is doing (I've renamed  to  just to help with formatting):
p22593
aVThen eventually  disappears since it's a local variable and you have your final state:
p22594
aVThe advantage of maintaining a  pointer in a singly-linked list is to avoid having to step through the entire list to find the end when you're trying to add an item to the end
p22595
aVTraversing the entire list makes insertion at the end an  time operation (time taken is dependent on the number of items in the list)
p22596
aVThe use of the  pointer makes that an  time operation (same amount of time irrespective of the list size)
p22597
aVAs an aside, a doubly linked list has an extra use for a  pointer - it gives the ability to quickly begin a traversal from the end of the list to the start, using  and the  pointers in lieu of  and the  pointers
p22598
as(dp22599
g16
V14860
p22600
stp22601
a((dp22602
g2
(lp22603
VIt is used but it's by no means portable so you have to be careful
p22604
aVThe C standard does not mandate that pointer types have at least as many bits as integer types, so you may not always be able to do it
p22605
aVBut I can't recall any platform in which pointers have actually been smaller than integers so you're probably safe (despite not being technically safe)
p22606
aVThe only reason I can think that the casting may be there for is to remove the possibility of alignment warnings
p22607
aVSection 6
p22608
ag6296
ag2836
aV3 of the C1x draft states:
p22609
aVAn integer may be converted to any pointer type
p22610
aVExcept as previously specified, the
p22611
aVresult is implementation-defined, might not be correctly aligned, might not point to an
p22612
aVentity of the referenced type, and might be a trap representation
p22613
as(dp22614
g16
V14860
p22615
stp22616
a((dp22617
g2
(lp22618
VThat is, without a doubt, the second most hideous SQL query I have ever laid my eyes on :-)
p22619
aVMy advice is to trade storage requirements for speed
p22620
aVThis is a common trick used when you find your queries have a lot of per-row functions (,  and so forth)
p22621
aVThese per-row functions never scale very well as the table becomes larger
p22622
aVCreate new fields in the table which will hold the values you want to extract and then calculate those values on insert/update (with a trigger) rather than select
p22623
aVThis doesn't technically break 3NF since the triggers guarantee data consistency between columns
p22624
aVThe vast majority of database tables are read far more often than they're written so this will amortise the cost of the calculation across many selects
p22625
aVIn addition, just about every reported problem with databases is one of speed, not storage
p22626
aVAn example of what I mean
p22627
aVYou can replace:
p22628
aVwith:
p22629
aVin your query if your insert/update trigger simply sets the  column to  or  depending on the value of
p22630
aVThen you index  and, voila, instant speed improvement at the cost of a little storage
p22631
aVThis trick can be done to the five  clauses, the  bit and the "naked"  function as well (the  functions containing  and  may be harder to do)
p22632
as(dp22633
g16
V14860
p22634
stp22635
a((dp22636
g2
(lp22637
VI'm not sure I understand the question
p22638
aVAs far as I'm aware, unless you're inside a , naked  characters without a closing  are invalid
p22639
aVIf that's not the case for your XML file, then it's invalid, and you'll need to find another way of parsing it, or fixing it before SAX gets a hold of it
p22640
aVIf I'm misunderstanding something here, you should probably post a sample of the actual XML so we can hep further
p22641
aVUpdate:
p22642
aVIt looks like:
p22643
aVis the offending line
p22644
aVIs this section within a  or not
p22645
aVIf not, this is not valid XML and you should not expect SAX to be able to handle it
p22646
aVYou'll need to either:
p22647
aVchange the application that created it; or
p22648
aVfix it before it's loaded by SAX (if you can't change that application) to something like ""; or
p22649
aVfind a non-SAX method for parsing
p22650
as(dp22651
g16
V14860
p22652
stp22653
a((dp22654
g2
(lp22655
Vshould return you a string along the lines of:
p22656
aVThat's the version of Java that Eclipse is using to run your code which is not necessarily the same version that's being used to run Eclipse itself
p22657
as(dp22658
g16
V14860
p22659
stp22660
a((dp22661
g2
(lp22662
VWhen you divide by zero (or a small enough number), there is no way to represent the result in floating point notation
p22663
aVIn that case you get one of the infinities (+Inf or -Inf)
p22664
aVAs an example, if you already have the largest number that can be represented by IEEE754 doubles, and you divide it by 0
p22665
aV1 (i
p22666
ag75
aV, multiply it by 10), you'll get +Inf
p22667
aVIEEE754 allocates some of the bit patterns to special values like +/- infinity and NaN (not a number)
p22668
aVI long ago stopped trying to represent lines as a (gradient,y-intersect) pair on computers (it's okay on paper since you can calculate with infinities in your head)
p22669
aVYou can avoid all the hassles of infinities by simply representing lines as (x1,y1,x2,y2) 4-tuples - you'll find algorithms that work quite well for all gradients if you represent your line segments that way
p22670
aVOtherwise, you'll always need special handling for near-vertical lines that cause overflow when calculating the gradient
p22671
as(dp22672
g16
V14860
p22673
stp22674
a((dp22675
g2
(lp22676
VInteresting
p22677
aVWhat happens when you set max memory to 513M
p22678
aVIf that fails, it's possibly a problem I haven't seen in quite a while
p22679
aVAn ancient COBOL compiler I used refused to work on PCs with 640K of RAM because they used a signed-number check to decide if there was enough memory
p22680
aVAnd in that world, 640K actually had the high bit set, hence was a negative number, so the check always failed
p22681
aVI find it hard to believe that this would be the case in todays world but it may be worth looking at
p22682
aVIf it doesn't fail at 513M, then it may just be that you're trying to allocate too much memory
p22683
aVIt's not necessarily physical memory that matters, address space may be the issue but you should have 2G (at least) of that as well in 32bit Windows
p22684
aVWith your settings shown, you use 1G just for permgen and heap
p22685
aVTry adjusting these until it works and post the figures you have
p22686
as(dp22687
g16
V14860
p22688
stp22689
a((dp22690
g2
(lp22691
VWhen attempting to perform tasks that may fail due to temporary or permanent restrictions on some resource, I tend to use a back-off strategy
p22692
aVThis strategy has been followed on things as diverse as message queuing and socket opens
p22693
aVThe general process for such a strategy is as follows
p22694
aVThis allows the process to run at full speed in the vast majority of cases but backs off when errors start occurring, hopefully giving the resource provider time to recover
p22695
aVThe gradual increase in delays allows for more serious resource restrictions to recover and the maximum tries catches what you would term permanent errors (or errors that are taking too long to recover)
p22696
aVI actually prefer this try-it-and-catch-failure approach to the check-if-okay-then-try one since the latter can still often fail if something changes between the check and the try
p22697
aVThis is called the "better to seek forgiveness than ask permission" method, which also works quite well with bosses most of the time, and wives a little less often :-)
p22698
aVOne particularly useful case was a program which opened a separate TCP session for each short-lived transaction
p22699
aVOn older hardware, the closed sockets (those in TCP WAIT state) eventually disappeared before they were needed again
p22700
aVBut, as the hardware got faster, we found that we could open sessions and do work much quicker and Windows was running out of TCP handles (even when increased to the max)
p22701
aVRather than having to re-engineer the communications protocol to maintain sessions, this strategy was implemented to allow graceful recovery in the event handles were starved
p22702
aVGranted it's a bit of a kludge but this was legacy software approaching end-of-life, where bug fixes are often just enough to get it working and it wasn't deemed strategic enough to warrant spending a lot of money in fixing it properly
p22703
aVUpdate: It may be that there's a (more permanent) problem with PresentationCore
p22704
aVThis KB article states that there's a memory leak in WPF within
p22705
aVNET 3
p22706
aV5SP1 (of which your print driver may be a client)
p22707
aVIf the backoff strategy doesn't fix your problem (it may not if it's a leak in a long lived process), you might want to try applying the hotfix
p22708
aVMe, I'd replicate the problem in a virtual machine and then patch that to test it (but I'm an extreme paranoid)
p22709
aVIt was found by googling  and checking the first link here
p22710
aVSearch for the string "hotfix that relates to this issue" on that page
p22711
as(dp22712
g16
V14860
p22713
stp22714
a((dp22715
g2
(lp22716
VIf you're not adverse to using other tools, try , it will better preserve the spacing of the original file:
p22717
aVIt basically strips off any leading spaces followed by any non-space characters, followed by space characters, effectively lopping off the first word in each line
p22718
aVIf the line format can be tied down to any number of digits at the start of the line followed by two spaces then the text you're interested in, you could improve the regex a little with (there's two spaces following the ):
p22719
as(dp22720
g16
V14860
p22721
stp22722
a((dp22723
g2
(lp22724
VThere is a way you can guarantee the order in which they're inserted:
p22725
aV:-)
p22726
aVBut you need to understand that SQL is a relational algebra, working with result sets,  and that the order in which things are inserted does not matter
p22727
aVUnless one of the columns is a time stamp of some sort or you have a auto-increment field that you want set in a specific order for the three rows, it won't matter (and both those are actually not good reasons for wanting order controlled)
p22728
aVYou're not guaranteed any particular when you extract the rows unless you specify what order you want them in so you shouldn't be concerned about the order they're created
p22729
aVWithout an  clause, the order can actually change each time you do a
p22730
as(dp22731
g16
V14860
p22732
stp22733
a((dp22734
g2
(lp22735
VNo, we can't say that CPU implementations have changed to make forward looping faster
p22736
aVAnd that has very little to do with the CPUs themselves
p22737
aVIt has to do with the fact that you haven't specified which CPU you're talking about, nor which compiler
p22738
aVYou cannot ask a blanket question about CPU issues with the C tag and expect to get an intelligent answer simply because nothing in the C standard mandates how fast CPU s should be at various operations
p22739
aVIf you'd like to rephrase your question to target a specific CPU and machine language (since what machine language you get out of a C compiler depends entirely on the compiler), you may get a better answer
p22740
aVIn either case, it shouldn't matter
p22741
aVYou should be relying on the fact that the people that wrote your compiler know a great deal more than you about how to eke the last inch of performance from the various CPUs
p22742
aVThe direction in which you should be iterating has always been dictated by what you have to do
p22743
aVFor example, if you have to process array elements in ascending order, you use:
p22744
aVrather than:
p22745
aVsimply because any advantage you may gain in going backwards is more than swamped by the extra calculations on
p22746
aVIt may well be that a naked loop (no work done in the body) may be faster in one direction than another but, if you have such a naked loop, it's not doing any real work anyway
p22747
aVAs an aside, it may well be that both those loops above will come down to the same machine code anyway
p22748
aVI've seen some of the code put out by the GCC optimizer and it made my head spin
p22749
aVCompiler writers are, in my opinion, a species alone when it comes to insane levels of optimization
p22750
aVMy advice: always program for readability first then target any specific performance problems you have ("get it working first, then get it working fast")
p22751
as(dp22752
g16
V14860
p22753
stp22754
a((dp22755
g2
(lp22756
VThe  type is meant to specify the size of something so it's natural to use it, for example, getting the length of a string and then processing each character:
p22757
aVYou do have to watch out for boundary conditions of course, since it's an unsigned type
p22758
aVThe boundary at the top end is not usually that important since the maximum is usually large (though it is possible to get there)
p22759
aVMost people just use an  for that sort of thing because they rarely have structures or arrays that get big enough to exceed the capacity of that
p22760
aVBut watch out for things like:
p22761
aVwhich will cause an infinite loop due to the wrapping behavior of unsigned values (although I've seen compilers warn against this)
p22762
as(dp22763
g16
V14860
p22764
stp22765
a((dp22766
g2
(lp22767
VThe echo needs to either be at the end of the if statement:
p22768
aVor of the following form:
p22769
aVI tend to use the former for very simple conditionals and the latter for multi-command ones and primitive  statements:
p22770
aVWhat your particular piece of code is doing is trying to execute the command  which is not valid in and of itself
p22771
as(dp22772
g16
V14860
p22773
stp22774
a((dp22775
g2
(lp22776
VAny application in which you may be waiting around for a resource (for example, blocking I/O from network sockets or disk devices) can benefit from threading
p22777
aVIn that case the thread blocking on the slow operation can be put to sleep while other threads continue to run (including, under some operating systems, the GUI thread which, if the OS cannot contact it for a while, will offer the use the chance to destroy it, thinking it's deadlocked somehow)
p22778
aVSo it's not just for multi-core machines at all
p22779
as(dp22780
g16
V14860
p22781
stp22782
a((dp22783
g2
(lp22784
VThe file:
p22785
aVworks fine for me under Ubuntu 9
p22786
aV10 in Firefox 3
p22787
ag630
aV5 as does:
p22788
aVwhich is probably better
p22789
aVI suspect you may be having another issue
p22790
aVIf you're doing this on a Windows server, you may need the drive letter as well
p22791
as(dp22792
g16
V14860
p22793
stp22794
a((dp22795
g2
(lp22796
VFor your specific case, you want to use  as follows:
p22797
aVYou need to be aware that the wildcard matching is not greedy
p22798
aVThat means that the file  will be turned into , not
p22799
aVThe  program was installed as part of my CygWin but I had to
p22800
aVon my Ubuntu box to get it down
p22801
aVIf it's not in you standard distribution, whatever package manager you're using will hopefully have it available
p22802
aVIf, for some reason, you're not permitted to install it, you'll have to use one of the other  -loop-type solutions shown in the other answers
p22803
aVI prefer the terseness of  myself but you may not have the option
p22804
as(dp22805
g16
V14860
p22806
stp22807
a((dp22808
g2
(lp22809
VThe language-agnostic version (mostly, obviously this doesn't count for declarative languages or other weird ones):
p22810
aVWhen I was taught programming (quite a while ago, I'll freely admit), a language consisted of three ways of executing instructions:
p22811
aVsequence (doing things in order)
p22812
aVselection (doing one of many things)
p22813
aViteration (doing something zero or more times)
p22814
aVThe  and  statements are both variants on selection
p22815
aVis used to select one of two different options based on a condition (using pseudo-code):
p22816
aVkeeping in mind that the  may not be needed in which case it's effectively
p22817
aVAlso remember that option 1 or 2 may also consist of any of the statement types, including more  statements (called nesting)
p22818
aVis slightly different - it's generally meant for more than two choices like when you want to do different things based on a character:
p22819
aVNote that you can use  for two options (or even one) but it's a bit like killing a fly with a thermonuclear warhead
p22820
aVis not a selection variant but an iteration one
p22821
aVIt belongs with the likes of , ,  and a host of other possibilities
p22822
aVAs to which is fastest, it doesn't matter in the vast majority of cases
p22823
aVThe compiler writers know far more than we mortal folk how to get the last bit of performance out of their code
p22824
aVYou either trust them to do their job right or you hand-code it in assembly yourself (I'd prefer the former)
p22825
aVYou'll get far more performance by concentrating on the macro view rather than the minor things
p22826
aVThat includes selection of appropriate algorithms, profiling, and targeting of hot spots
p22827
aVIt does little good to find something that take five minutes each month and get that running in two minutes
p22828
aVBetter to get a smaller improvement in something happening every minute
p22829
aVThe language constructs like , ,  and so on will already be as fast as they can be since they're used heavily and are relative simple
p22830
aVYou should be first writing your code for readability and only worrying about performance when it becomes an issue (see YAGNI)
p22831
aVEven if you found that using  combinations instead of  allowed you to run a bit faster, the resulting morass of source code would be harder to maintain down the track
p22832
as(dp22833
g16
V14860
p22834
stp22835
a((dp22836
g2
(lp22837
VThe main problem I see with using a name is not speed of lookup, but the fact that you can't have Jason Davis from Omaha, Nebraska and another Jason Davis from Perth, Western Australia
p22838
aVBy all means use the name in everything the world can see but, to ensure uniqueness, I would use an integer ID
p22839
aVThis may well speed up the database queries as well but that would be a secondary concern for me
p22840
aVIt's doubtful using a string would cause too much angst for your application
p22841
as(dp22842
g16
V14860
p22843
stp22844
a((dp22845
g2
(lp22846
VIt looks like you're just forgetting the closing tag for the table
p22847
aVTry this instead:
p22848
aVThe only change was from:
p22849
aVto:
p22850
aVUpdate: In your comment, you stated that
p22851
aVI still need to separate counter, name and link in separated [sic] TD
p22852
aVThat's probably just a matter of inserting some  sections, something like:
p22853
as(dp22854
g16
V14860
p22855
stp22856
a((dp22857
g2
(lp22858
VOthers have already given you the actual answer, and you should accept one of those but feel free to upvote me if you like this sage advice :-)
p22859
aVUse of  should never be contemplated if you're looking for a robust application
p22860
aVThat's because there's no way to guard against a buffer overflow which could render your program insecure
p22861
aVI prefer a little function like  in the following program
p22862
aVIt uses  which can be protected from oveflow and is a robust solution
p22863
ag5385
aVSample runs with 'hello', CTRLD, and a string that's too big:
p22864
as(dp22865
g16
V14860
p22866
stp22867
a((dp22868
g2
(lp22869
VUntested but I think it will work:
p22870
aVKeep in mind that this is a Cartesian product (albeit not a full cross-join due to the last  clause) so it will not produce rows for dates that do not have corresponding last-year rows
p22871
as(dp22872
g16
V14860
p22873
stp22874
a((dp22875
g2
(lp22876
VUse:
p22877
aVinstead of:
p22878
aVTranscript:
p22879
aVThe problem is that you're actually executing the statement  which is not an assignment to  but an evaluation of the string
p22880
aVThe  built-in, when given a string, evaluates it as an expression (not a statement) and returns the result
p22881
aVYou can get  to run non-expression code by giving it a code object, which we create with  above
p22882
aVIn that case it runs the code and returns
p22883
aVYou can see a similar effect if you just enter:
p22884
aVClearly  is not valid Python, yet  is, for the reason explained above
p22885
aVDescriptions of the ,  and  built-ins, adequate enough to work this out, were found here
p22886
aVNo built-ins were harmed during the making of this answer
p22887
as(dp22888
g16
V14860
p22889
stp22890
a((dp22891
g2
(lp22892
VThere is a difference of 3600 seconds
p22893
aVThis should be the kicker
p22894
aVIt's a timezone problem, pure and simple
p22895
aVNow all you have to do is find out why 2
p22896
aV4 and 2
p22897
aV6 are using different timezone information :-)
p22898
as(dp22899
g16
V14860
p22900
stp22901
a((dp22902
g2
(lp22903
VI'd be a bit concerned about your  code
p22904
aVIt creates a  buffer to receive the data but doesn't actually allocate any memory for it
p22905
aVNow I can't tell whether you're calling the WinSock  there since you don't explicitly say  but I think you would need to either:
p22906
aVallocate some space with  first (id  wants a buffer); or
p22907
aVpass the address of the buffer pointer (if  allocates its own buffer)
p22908
aVI'm actually surprised that the doesn't cause a core dump since the value of  could be set to anything when you call
p22909
aVSomething like this may be better:
p22910
ag4771
aVBut you need to remember that the client of this function is responsible for freeing the buffer when it's finished with it
p22911
as(dp22912
g16
V14860
p22913
stp22914
a((dp22915
g2
(lp22916
VHere's a practical example which extracts a single character from a C string:
p22917
aVOr another, which swaps an integer in an array with the one immediately before it (with no range checking):
p22918
aVIn both these cases,  is identical to  but using pointer arithmetic instead of array offsets:
p22919
aVWarning: Don't use these verbatim in your homework, have a think about them then write your own
p22920
aVIf you copy them verbatim, you will almost certainly be failed since your educators no doubt watch these sites as well
p22921
as(dp22922
g16
V14860
p22923
stp22924
a((dp22925
g2
(lp22926
VIf you're interested in which will perform better, you need to test it on the target platform
p22927
aVNothing in the standard mandates how the functions are implemented and, while it may seem logical that a non-checking  would be faster, this is by no means a certainty
p22928
aVIt's quite possible, though unlikely, that the person who wrote  for your particular compiler was a certified genius while the poor soul who got the job of writing  was the village idiot :-)
p22929
aVAlthough, in reality, I find it hard to imagine the  could be faster than , I don't discount the possibility
p22930
aVMeasure, don't guess
p22931
as(dp22932
g16
V14860
p22933
stp22934
a((dp22935
g2
(lp22936
VMost mulitply-defined-symbol error situations tend to be caused by including code into two different compilation units
p22937
aVAre you sure that you're not including  into one of your other source files
p22938
aVFor example, with both your files and a  holding:
p22939
aVI get no errors with
p22940
aVIf I change that first line to:
p22941
aVand compile with the same command, I get:
p22942
aVThe only other possibility I can think of is if you're explicitly including the code file twice
p22943
aVUsing the error-free version of  above, I still get the error when I use:
p22944
aVIf it's neither of those two cases, your best bet is to provide the full details of your situation
p22945
aVThat means every source file (including the main one), the compile and link commands you're using, and the environment (e
p22946
ag1775
aV, gcc3 under Linux, Code::Blocks on Windows)
p22947
as(dp22948
g16
V14860
p22949
stp22950
a((dp22951
g2
(lp22952
VMy first thought for the use of a reverse direction linked list would be for those languages that support overriding of variable names, such as:
p22953
aVIn that case, you want access to the variable with the innermost scope (the last one defined)
p22954
aVThis can be found by walking backwards through the list (assuming that you're building the list by going forward of course)
p22955
aVThen, when a scope disappears, you can also just adjust the 'head' pointer to remove the most recently added variables
p22956
aVOf course, you could achieve the same effect by inserting before the current head rather than adding to the end of the list (which looks like conceptually what is being done, just with the pointer called  instead of )
p22957
as(dp22958
g16
V14860
p22959
stp22960
a((dp22961
g2
(lp22962
VIn terms of your first question, a developer is judged in many different ways, of which adherence to coding standards may be one
p22963
aVIt is also true that developers are not always judged on this adherence
p22964
aVSome environments prefer to judge on actual productivity rather than some obscure measure which can usually be automated anyway :-)
p22965
aVDon't get me wrong - if you have coding standards, you should follow them
p22966
aVI tend to code to a standard (however informal) even for my own code that no-one else will ever see, simply because it makes my life a lot easier in future
p22967
aVOur latest project at work actually separates the semantics of the language from its layout
p22968
aVWhat gets stored in source control is the semantic content of each file and, when it's checked out, it's converted to a developer-specific format based on local configuration
p22969
aVThen the developer gets the code delivered in their preferred format and can write their code however they want (even in a totally different way to their preferred format if they're feeling masochistic)
p22970
aVAnd, when checked in, it's converted back into semantic form
p22971
aVThat way, there's absolutely no problems with each developer using their own style
p22972
aVIn terms of your other two questions, they're almost certainly a subjective thing and, since I don't do web applications, I can't help you there
p22973
as(dp22974
g16
V14860
p22975
stp22976
a((dp22977
g2
(lp22978
VThis isn't really a C question since it's totally dependent on the compiler
p22979
aVHowever stack frames are a useful way to think about the current function and it's parent function
p22980
aVTypically a frame pointer points to a specific location on the stack (for the given stack depth) from which you can locate parameters that were passed in as well as local variables
p22981
aVHere's an example, let's say you call a function which takes one argument and returns the sum of all numbers between 1 and that argument
p22982
aVThe C code would be something like:
p22983
aVIn order to call this function, the caller will push 7 onto the stack then call the subroutine
p22984
aVThe function itself sets up the frame pointer and allocates space for local variables, so you may see the code:
p22985
aVAt that point (following the ), you have the following stack area:
p22986
aVand you can see that you can find passed-in parameters by using addresses 'above' the frame pointer and local variables 'below' the frame pointer
p22987
aVThe function can access the passed in value (7) by using , the contents of memory at  (each of those cells is four bytes in this example)
p22988
aVIt can also access its own local variable () with , the contents of memory at
p22989
aVI've used the  nomenclature even though subtracting zero has no effect since other locals will have corresponding lower addresses like ,  and so on
p22990
aVAs you move up and down the stack, the frame pointer also moves and it's typical that the previous frame pointer is pushed onto the stack before calling a function, to give easy recovery when leaving that function
p22991
aVBut, whereas the stack pointer may move wildly while within a function, the frame pointer typically stays constant so you can always find your relevant variables
p22992
as(dp22993
g16
V14860
p22994
stp22995
a((dp22996
g2
(lp22997
VThis is known as a soft delete and you can see it at work right here on SO
p22998
aVWhen you see an answer from a 'deleted' user, they're grayed out
p22999
aVKeep the user in the database but add a flag column  which you set when the user is deleted
p23000
aVThen (obviously) disallow any logins for that user and (optionally) display them specially
p23001
as(dp23002
g16
V14860
p23003
stp23004
a((dp23005
g2
(lp23006
VThe benefits
p23007
aVI imagine one of them (a 'negative' one) is to stop the code from trying to process directories as regular files
p23008
aVIf you run code such as:
p23009
aVthe shell will change that  into a list of all files within the current directory (including subdirectories, pipes, device nodes and all sorts of other special files), equivalent to:
p23010
aVTesting to see whether one of the arguments is a non-regular file is vital to ensure you only process the types of files you want
p23011
aVYou don't want to (for example) open a pipe file for input and read until end of file since end of file will only occur when the other end of the pipe closes it
p23012
aVThis will look like your program has frozen
p23013
aVAnother possibility (a 'positive' one) is to ensure something that the program expects to be a directory (such as a temporary directory or configuration file directory) actually is a directory
p23014
aVIt's because of the UNIX philosophy - everything is a file and, if you only want certain types of files, you have to filter them yourself
p23015
aVThe way in which this works is that  returns all sorts of wonderful information about a file and one of those pieces of information is its mode
p23016
aVIn this mode, certain bits are set to indicate what type of file it is
p23017
aVThe S_ISDIR function tests  for a specific combination of bits indicating that the file is a directory and returns true in that case
p23018
aVIt returns false if either those bits aren't set to indicate a directory or if the file does not exist
p23019
as(dp23020
g16
V14860
p23021
stp23022
a((dp23023
g2
(lp23024
VAny language will do for learning the absolute basics
p23025
aVPython is considered very good for beginners and you should stick with that for now
p23026
aVIf you want to end up doing iPhone development, you'll probably switch to Objective-C at some point
p23027
aVFirst step, simply learn the three basic ways in which code is executed (apologies if you already know this, I'm assuming you're an absolute newcomer to programming as your question indicates):
p23028
aVsequence, one thing after another
p23029
aVselection, choosing to do one of many things
p23030
aViteration, doing one thing over and over
p23031
aVThen find a program that combines all three such as a program Celsius to Fahrenheit converter which also lists if water would be frozen at that temperature:
p23032
aVOnce you've mastered that (or something similar), move onto something more complicated
p23033
aVThe best bet is to find your own itch and scratch it, trying to create something that will be useful to you (ask yourself what your interests are: cute kittens, heavy metal, torture implements of the early fifteenth century; then think of something that will aid you in that)
p23034
aVThat way, you're more likely to see it through to the end
p23035
aVThe code I used to produce that is below and could no doubt be improved but it's fine for entry-level
p23036
aVDon't look at it until you've tried it yourself since you'll get a much better sense of achievement from doing your own work
p23037
aVThink of it as something you could compare your solution to
p23038
aVAnd as @deceze points out in a comment, learn the best places to find information on your language of choice: the documentation followed in a very close second place by Stack Overflow itself :-)
p23039
as(dp23040
g16
V14860
p23041
stp23042
a((dp23043
g2
(lp23044
VIf you're going to be developing specifically for Windows, I'd personally steer clear of Eclipse and just use Microsoft's own Visual Studio
p23045
aVThe Visual Studio Express editions are free (beer-free, not speech-free) although limited compared to the full-blown professional editions
p23046
aVThey should, however, have enough grunt for all but the most complicated uses
p23047
aVIt is, in my mind, the best solution for Windows-only development
p23048
as(dp23049
g16
V14860
p23050
stp23051
a((dp23052
g2
(lp23053
VThis is a very foolish idea
p23054
aVIf I was you, I would get that stuff off the company machines as quickly as possible and try to remove all traces of it
p23055
aVYour company would have pretty good cause to both claim all your work as their own (since it was developed with company resources) and to fire you for misuse of said resources
p23056
aVThe chance of there being an official company policy that work done with their resources is not theirs, is slim to none
p23057
aVThat's because they gain nothing from such a policy but it costs them
p23058
aVWhy would they do that
p23059
aVI keep every piece of my non-company work well away from their machines and I made sure that my employment contract was modified to state that stuff done outside company hours on non-company resources was entirely mine
p23060
aVIf you cannot retroactively modify your employment contract, get written advice from a company representative that you're allowed to work on outside products on your time and with your equipment, without the company having a claim
p23061
aVThat would be a good start
p23062
aVIf you can't get such a declaration then there may be other ways to mitigate the possible damage but they will depend entirely on your legal jurisdiction
p23063
aVOne method I've seen used is to have another company do the work and you just work for that company (the company was a $2 shelf company owned by the developers, I'm not talking about cutting some sort of back-door deal with Microsoft here)
p23064
aVThe employment contract with that company was very explicit that all work was owned by the company and nothing in the original employment contract stated that the employee couldn't work two jobs
p23065
aVWhether that would work in your jurisdiction (or even whether it would work when it went to the courts here), I have no idea
p23066
aVYou'd need to consult a local lawyer
p23067
aVThis is not legal advice
p23068
aVI am not a lawyer
p23069
aVI am not your lawyer
p23070
aVI am not licensed to practice in your (or any) jurisdiction
p23071
aVI know a few lawyers and they're not bad blokes, when they're not trying to sell your body parts on the black market :-) This advice is general in nature and you should treat it as being worth every cent you paid for it (which is none)
p23072
as(dp23073
g16
V14860
p23074
stp23075
a((dp23076
g2
(lp23077
VThere are usually a significant number of things you need to do to move an executable from the command line to a cron job
p23078
aVBy default, cron jobs get a minimal environment which will almost certainly not have the full path (and a host of other environment variables) that your login sessions have
p23079
aVYou may also not be in the same directory (as you have discovered)
p23080
aVWhat I tend to do is to execute:
p23081
aVfrom a login session to get the full environment, then make sure that my cron jobs execute that script before attempting to do the real work
p23082
aVThe resultant script may need a small amount of tidying up (quoting, removing transient environment variables like  and  and so forth)
p23083
aVThat way I can be sure that the login and cron environments are identical
p23084
as(dp23085
g16
V14860
p23086
stp23087
a((dp23088
g2
(lp23089
VNo, what you're doing is mapping the file into memory
p23090
aVThis is different to actually reading the file into memory
p23091
aVWere you to read it in, you would have to transfer the entire contents into memory
p23092
aVBy mapping it, you let the operating system handle it
p23093
aVIf you attempt to read or write to a location in that memory area, the OS will load the relevant section for you first
p23094
aVIt will not load the entire file unless the entire file is needed
p23095
aVThat is where you get your performance gain
p23096
aVIf you map the entire file but only change one byte then unmap it, you'll find that there's not much disk I/O at all
p23097
aVOf course, if you touch every byte in the file, then yes, it will all be loaded at some point but not necessarily in physical RAM all at once
p23098
aVBut that's the case even if you load the entire file up front
p23099
aVThe OS will swap out parts of your data if there's not enough physical memory to contain it all, along with that of the other processes in the system
p23100
aVThe main advantages of memory mapping are:
p23101
aVyou defer reading the file sections until they're needed (and, if they're never needed, they don't get loaded)
p23102
aVSo there's no big upfront cost as you load the entire file
p23103
aVIt amortises the cost of loading
p23104
aVThe writes are automated, you don't have to write out every byte
p23105
aVJust close it and the OS will write out the changed sections
p23106
aVI think this also happens when the memory is swapped out as well (in low physical memory situations), since your buffer is simply a window onto the file
p23107
aVKeep in mind that there is most likely a disconnect between your address space usage and your physical memory usage
p23108
aVYou can allocate an address space of 4G (ideally, though there may be OS, BIOS or hardware limitations) in a 32-bit machine with only 1G of RAM
p23109
aVThe OS handles the paging to and from disk
p23110
aVAnd to answer your further request for clarification:
p23111
aVJust to clarify
p23112
aVSo If I need the entire file, mmap will actually load the entire file
p23113
aVYes, but it may not be in physical memory all at once
p23114
aVThe OS will swap out bits back to the filesystem in order to bring in new bits
p23115
aVBut it will also do that if you've read the entire file in manually
p23116
aVThe difference between those two situations is as follows
p23117
aVWith the file read into memory manually, the OS will swap parts of your address space (may include the data or may not) out to the swap file
p23118
aVAnd you will need to manually rewrite the file when your finished with it
p23119
aVWith memory mapping, you have effectively told it to use the original file as an extra swap area for that file/memory only
p23120
aVAnd, when data is written to that swap area, it affects the actual file immediately
p23121
aVSo no having to manually rewrite anything when you're done and no affecting the normal swap (usually)
p23122
aVIt really is just a window to the file:
p23123
aV
p23124
aV
p23125
aV
p23126
aV
p23127
as(dp23128
g16
V14860
p23129
stp23130
a((dp23131
g2
(lp23132
VFor optimisation, you simply want to skip those sub-trees of the search where you already now they'll exceed the value V
p23133
aVRecursion is the way to go but, since you've already ruled that out, you're going to be best off setting an upper limit on the allowed depths
p23134
aVI'd go for something like this (for a depth of 3):
p23135
aVNow that's pretty convoluted but it basically check at every stage whether you've already exceed the desired value and refuses to check lower sub-trees as an efficiency measure
p23136
aVIt also keeps a running total for the current level so that it doesn't have to do a large number of additions when checking at lower levels
p23137
aVThat's the adding and subtracting of the array values against Z
p23138
aVIt's going to get even more complicated when you modify it to handle more depth (by using variables from  to  for 11 levels (more if you're willing to move  and  down to  and  or if TI BASIC allows more than one character in a variable name)
p23139
aVThe only other non-recursive way I can think of doing that is to use an array of value groups to emulate recursion with iteration, and that will look only slightly less hairy (although the code should be less nested)
p23140
as(dp23141
g16
V14860
p23142
stp23143
a((dp23144
g2
(lp23145
VThere are a number of ways to handle this:
p23146
aVChange the upload process to upload the data file itself (e
p23147
ag1775
aV, data
p23148
aVtxt) followed by a sentinel file (e
p23149
ag1775
aV, data
p23150
aVtxt
p23151
aVsentinel)
p23152
aVThen wait for the sentinel before processing the data file and deleting them both
p23153
aVData files older then N days with no corresponding sentinel - just delete them
p23154
aVThis is only good if you can change the uploader
p23155
aVIf you can evaluate the content of the file to check completeness, this is another way
p23156
aVFor example, if you're only uploading HTML files, you could check that it ends with
p23157
aVNot always possible unless you can control what's being uploaded
p23158
aVThe not-been-modified-for-a-while method
p23159
aVBasically, if the file hasn't been modified for N minutes, you can assume the upload has been finished
p23160
aVThis may still result in the processing of incomplete files where the transfer has failed partway through
p23161
aVAll these methods have their advantages and drawbacks and you will have to decide which is the best for you
p23162
aVWe try to opt for number 1 where we can influence the uploading side
p23163
aVAnd remember that N is configurable in the above scenarios
p23164
aVYou need to balance the possibility that a too-small N will result in you processing an incomplete file in option 3 but too large a value of N will delay the processing of said file
p23165
as(dp23166
g16
V14860
p23167
stp23168
a((dp23169
g2
(lp23170
VI'm marking this community wiki since it doesn't actually answer your requirement for no tables, but one of the first things we do when installing a database is to create a set of tables for this sort of purpose
p23171
aVA table containing a large number of integers (e
p23172
ag1775
aV, -99999 through 99999)
p23173
aVA table containing every date from 10 years in the past to 10 years in the future (which is continuously added to each month and trimmed occasionally)
p23174
aVA table containing each hour of the day
p23175
aVBy doing this, we greatly reduce the complexity, and increase the speed, of a large number of our queries at the cost of (minimal and cheap) disk space
p23176
aVYou should give some serious thought to that
p23177
aVAside from maintaining the date table, there's not a lot of upkeep needed
p23178
as(dp23179
g16
V14860
p23180
stp23181
a((dp23182
g2
(lp23183
VIf, as in your previous question, you are using this value to create a file, it may be that it's the space before "to" that is causing the problem
p23184
aVTry to use:
p23185
aVinstead and see if that fixes it
p23186
aVIf that does fix it, you'll probably need to either figure out how to quote the entire file name so it's not treated as the three separate arguments, ,  and
p23187
aVOr simply leave your reports names without spaces
p23188
aVI'd choose the latter but then I'm fundamentally opposed to spaces in filenames - they make simple scripts so much harder to write :-)
p23189
as(dp23190
g16
V14860
p23191
stp23192
a((dp23193
g2
(lp23194
VSQLite has a backup API for exactly this purpose
p23195
aVIf you can guarantee that no-one is changing the database while you're backing it up, then you can simply copy the file
p23196
aVBut, if you want to ensure data integrity and still allow applications to access your database during the backup process, this API is what you need
p23197
as(dp23198
g16
V14860
p23199
stp23200
a((dp23201
g2
(lp23202
VYou need to use the delayed expansion option of cmd
p23203
aVexe
p23204
aVAt the top of your script, put:
p23205
aVand then put:
p23206
aVat the bottom
p23207
aVThen you need to use  instead of
p23208
aVThe reason your code is not working is that the entire FOR statement (including the commands within it) is evaluated when it's encountered
p23209
aVThat's the point where the  variables are expanded
p23210
aVBy using deferred expansion, you don't expand them until they're actually needed (after you've set them within the block)
p23211
aVYou can see the difference in this script:
p23212
aVwhich outputs:
p23213
aVYou'll notice that the check with  does not work because that was evaluated when the  statement started (and  was 0)
p23214
aVThe delayed-expansion  does work since that is evaluated each time through the loop
p23215
as(dp23216
g16
V14860
p23217
stp23218
a((dp23219
g2
(lp23220
VIf hardware support is a must for virtualization,
p23221
aVLet me stop you right there :-)
p23222
aVThere is a difference in concept between the JVM (software virtualization) and (for example) a VMWare VM (hardware-assisted virtualization)
p23223
aVThe JVM (and other software-based VMMs such as the ones that allow to to emulate x86 on Solaris hardware - I think Bochs and possibly DosBox fall into this category) runs like any other application, using the operating system to gain access to the hardware, or emulating its own hardware purely in software
p23224
aVVMWare, and the other VMMs optimised for speed, rely on hardware support
p23225
aVIn other words, they run on the hardware as if they have full access to the hardware and, only when they try to do something they're not supposed to does the OS captures that attempt and fake it
p23226
aVThat's why VMWare runs so much faster than the software-only emulators
p23227
aVIt's because, for the vast majority of the time, it's actually running on the real hardware
p23228
as(dp23229
g16
V14860
p23230
stp23231
a((dp23232
g2
(lp23233
VThe  method for your class does not contain a loop, so it will do what it has to do once then fall out the bottom, effectively terminating the thread
p23234
aVIf you want it to run continuously, you'll need something like:
p23235
as(dp23236
g16
V14860
p23237
stp23238
a((dp23239
g2
(lp23240
VThe position of the redirection clause shouldn't matter, so I'd give this a shot:
p23241
aVI've also put a  before the  because I'm assuming you want start and end word markers rather than a literal
p23242
aVIf I'm mistaken, just take it out again
p23243
aVBut I have to mention that, if all you want to do is stop the voluminous output from scrolling off the top of the console, you could just pipe the whole thing through :
p23244
aVwill act as a pager so you can view it bit by bit
p23245
as(dp23246
g16
V14860
p23247
stp23248
a((dp23249
g2
(lp23250
VYou need to provide the function (which will return the next value) to your  call
p23251
aVIn your case, that's  rather than
p23252
aVThis snippet below works as expected by producing all the yielded values up to, but exclusive of, the terminating value
p23253
aVThe output of that is:
p23254
as(dp23255
g16
V14860
p23256
stp23257
a((dp23258
g2
(lp23259
VYou can limit the total number of concurrent processes that each user is allowed to create
p23260
aVI think it's in  and the  field is what you need to set
p23261
aVUpdate: Just looked it up here and it appears my memory isn't failing me after all :-)
p23262
aVThe simplest way is to enter:
p23263
aVwhich will limit all users to 50 processes
p23264
aVYou may want to have a little more fine-grained control than that
p23265
aVAlternatively, you can use  to enforce the limit if  is not available on your system
p23266
aVYou will have to ensure that all started processes are restricted by, for example, putting it into  and all other possible entry points:
p23267
as(dp23268
g16
V14860
p23269
stp23270
a((dp23271
g2
(lp23272
VWell, if it came fron an ActionScript file then yes, it probably does work
p23273
aVIt's certainly consistent in its use of strange identifiers for variables and functions
p23274
aVThat means it's almost certainly been passed through an obfuscator of some sort to make it harder to do exactly what you're trying to do (decompile it is my guess but I may be wrong)
p23275
aVI'm not entirely sure that it does anything useful in its current form since there's no body in the  loop
p23276
aVBut the code itself seems to:
p23277
aVSet the variable  to whatever the function  returns less 712
p23278
aVLoop with specific values of  until it's not 765 (these seems unusual - terminating conditions are usually inequalities rather than equalties - in this case it seems that the loop will only execute once since you change  each time through the loop)
p23279
aVBasically, with obfucated code, you should just replace the weird identifiers with more sensible ones to see if makes sense
p23280
aVThat's a good first step to understanding the code (but probably not the only step required)
p23281
as(dp23282
g16
V14860
p23283
stp23284
a((dp23285
g2
(lp23286
VWhy not just have five separate images of a star (empty, quarter-full, half-full, three-quarter-full and full) then just inject the images into your DOM depending on the truncated or rouded value of rating multiplied by 4 (to get a whole numner for the quarters)
p23287
aVFor example, 4
p23288
aV8618164 multiplied by 4 and rounded is 19 which would be four and three quarter stars
p23289
aVAlternatively (if you're lazy like me), just have one image selected from 21 (0 stars through 5 stars in one-quarter increments) and select the single image based on the aforementioned value
p23290
aVThen it's just one calculation followed by an image change in the DOM (rather than trying to change five different images)
p23291
as(dp23292
g16
V14860
p23293
stp23294
a((dp23295
g2
(lp23296
VIf your computer can run it, then you can reverse-engineer it
p23297
aVThere is no way to avoid this
p23298
aVThe best you can hope for is to stop casual cracking by (for example) passing your source through an obfuscater before compiling
p23299
aVIBM did this with their type-4 JDBC drivers and it makes it hellishly difficult to understand what's going on (right up until the point you write a program that can de-obfuscate it although you still need to add information back in like function and variable names, no easy task)
p23300
aVSecurity through obscurity never works against a determined foe
p23301
aVThis is the same as with physical security
p23302
aVYou can put as much security in your house as you like, and that will prevent casual break-ins, but it will not stop a determined burglar
p23303
aVI would rather concentrate on doing what I do best, providing top-notch quality software
p23304
aVMost attempts to secure code (beyond simple obfuscation) almost always disadvantages your real customers more than your attackers
p23305
aVIs your code really so precious that you want to risk that
p23306
as(dp23307
g16
V14860
p23308
stp23309
a((dp23310
g2
(lp23311
VThere is no  type in C, it's a Windows thing
p23312
aVAnd the reason those sort of things exists is so that the underlying types can change from release to release without affecting your source code
p23313
aVFor example, let's say early versions of Microsoft's C compiler had a 16-bit  and a 32-bit
p23314
aVThey could simply use:
p23315
aVand, voila, you have your 32-bit integer type
p23316
aVNow let's go forward a few years to a time where Microsoft C uses a 32-bit  and a 64-bit
p23317
aVIn order to still have your source code function correctly, they simply change the  line to read:
p23318
aVThis is in contrast to what you'd have to do if you were using  for your 32-bit integer types
p23319
aVYou'd have to go through all your source code and ensure that you changed your own definitions
p23320
aVIt's much cleaner from a compatibility viewpoint (compatibility between different versions of Windows) to use Microsoft's data types
p23321
aVIn answer to your specific question, it's probably okay to use  instead of  provided the definition of  is not expected to change
p23322
aVBut I wouldn't, just in case
p23323
aVYou never know if Microsoft may introduce some different way of handling generic pointers in future that would change the definition of
p23324
aVYou don't really lose anything by using Microsoft's type but you could be required to do some work in future if they change the definition and you've decided to use the underlying type
p23325
aVYou may not think pointers would be immune to this sort of change but, in the original 8088 days when Windows was created, there were all sorts of weirdness with pointers and memory models (tiny, small, large, huge et al) which allowed pointers to be of varying sizes even within the same environment
p23326
as(dp23327
g16
V14860
p23328
stp23329
a((dp23330
g2
(lp23331
VI'm not sure why you'd be getting subscript out of range unless your sheets weren't actually called  or
p23332
aVWhen I rename my  to , I get that same problem
p23333
aVIn addition, some of your code seems the wrong way about (you paste before selecting the second sheet)
p23334
aVThis code works fine for me
p23335
aVIf you don't want to know about what the sheets are called, you can use integer indexes as follows:
p23336
as(dp23337
g16
V14860
p23338
stp23339
a((dp23340
g2
(lp23341
VNo, you don't get a pointer for each and every array index
p23342
aVYou get a single pointer pointing to the array, which is a contiguous block of memory, which is why the address of any index can be calculated from the index itself plus the array address
p23343
aVFor example, if the variable  known by the memory location  is set to , then they could be laid out in memory as:
p23344
aVand you can see that the address of index  is
p23345
aVSo you will actually have one 8-byte pointer and a million 2-byte shorts which, in your case, totals 2,000,008 bytes
p23346
aVThis is on top of any  housekeeping overhead which, like the pointer itself, is minuscule compared to your actual array
p23347
as(dp23348
g16
V14860
p23349
stp23350
a((dp23351
g2
(lp23352
VDo you mean a random string
p23353
aVIf so, simply create a string containing the 36 characters, generate 5 random numbers and create the string based on the character positions (pseudo-code):
p23354
aVIf you want 5 unique characters, you do the same thing but with one slight difference
p23355
aVGenerate the first random number in the range 0 through 35, the second in the range 0 through 34 and so on
p23356
aVThen, as you add the character from the source string to your own string, replace the used character in the source string with the last character in the source string
p23357
aVThis will prevent the same character from being selected twice:
p23358
aVAside: @Tatu has provided a simple solution using  which is a more elegant way of doing that last method (unique characters) but I'm not convinced it's the most efficient way since it's likely to involve a lot of swaps to get a decent shuffle
p23359
aVThe method here seems to me to be more likely to be faster
p23360
aVKeep that in mind if performance is important, but also keep in mind that I haven't tested how good it is - it may be fast enough - it may even blow my solution out of the water :-) As with all performance-related things, measure, don't guess
p23361
as(dp23362
g16
V14860
p23363
stp23364
a((dp23365
g2
(lp23366
VThe fact that  and pointer data types are not required to have the same number of bits, according to the C++ standard, is one thing - that means you could lose precision
p23367
aVIn addition, casting an  to an  pointer then back again is silly
p23368
aVWhy not just leave it as an
p23369
aVI actually did try to compile this under gcc and it worked fine but that's probably more by accident than good design
p23370
as(dp23371
g16
V14860
p23372
stp23373
a((dp23374
g2
(lp23375
VAssuming you're getting no rows returned (you don't really say what the problem is, so I'm guessing a bit here), my first thought is that there are no rows in  where  is equal to
p23376
aVThat's the basic difference between those two SQL segments, the second is a cross-join of the ,  and  tables
p23377
aVThe first does not join with  at all, so that's where I'd be looking for the problem
p23378
aVIt appears that your  table is a many-to-many relationship between  and
p23379
aVIf that is true, are you sure you have a foreign key constraint between the ID fields in that table to both corresponding other tables, something like:
p23380
aVIf you have those foreign key constraints, it should be impossible to end up with a  value that doesn't have a corresponding  value
p23381
aVIf those constraints aren't there, a query can tell you which values need to be fixed before immediately adding the constraints (this is important to prevent the problem from re-occurring), something like:
p23382
as(dp23383
g16
V14860
p23384
stp23385
a((dp23386
g2
(lp23387
VIt may well be possible
p23388
aVWhether it's advisable, I have my doubts
p23389
aVYou should choose the gruntiest machine, with a decent screen size, that you can afford for development since it will more than pay for itself in increased productivity and reduced development time
p23390
aVThe minimum requirements are:
p23391
ag2193
aV6 GHz CPU, 384 MB RAM, 1024x768 display, 5400 RPM hard drive
p23392
aVRecommended:
p23393
ag2836
aV2 GHZ or higher CPU, 1024 MB or more RAM, 1280x1024 display, 7200 RPM or higher hard drive, 1
p23394
aV22 GB of available disk space for the minimum installation, 2 GB of available disk space for the full installation
p23395
aVAnd minimum requirements are notorious for being publisged by the marketing department rather than the techs, so take taht with a grain of salt
p23396
aVYour machine barely meets those so I would suggest you should be looking for a better machine
p23397
as(dp23398
g16
V14860
p23399
stp23400
a((dp23401
g2
(lp23402
VYou're waiting until  is NULL before doing the first de-reference (which will dump core)
p23403
aVYou need to run forward until the successor to  is NULL:
p23404
aVReplace the line:
p23405
aVwith:
p23406
aVin  and you'll get:
p23407
aVwhich is what I think you were after
p23408
aVBut you'll also want to guard against an empty list, so the full implementation should be something like the following
p23409
aVI'm not a big fan of polluting namespaces so I'd probably drop the  and explicitly qualify  and  (which I prefer to ) as well
p23410
aVIn addition, there's no actual need for  if you want to save a few lines
p23411
aVCompilers are more than smart enough to cache things like  without you doing it manually
p23412
as(dp23413
g16
V14860
p23414
stp23415
a((dp23416
g2
(lp23417
VLet's try a little debugging
p23418
aVYou say that
p23419
aVdoesn't work, nor does:
p23420
aVThen you should isolate what does work
p23421
aVTry each of the following:
p23422
aVuntil you get some output, then have a look at the last few lines of each where you should find employee number 7
p23423
aVIf it's not there, then you have no such employee and that's your problem
p23424
aVIf it is there, we're going to need some more investigation since your integer select of 7 should work fine in that case
p23425
aVUpdate: Okay, with only 14 records, in the table, show us the output from:
p23426
aVand we should be able to help from there
p23427
as(dp23428
g16
V14860
p23429
stp23430
a((dp23431
g2
(lp23432
VWell,  is an infinite loop that will run forever
p23433
aVI'm guessing here a bit but  looks like the sort of function that would try to do something 100 times a second (or minute or other time period), in which case it's likely to be a simple "sleep for time period divided by rate"
p23434
aVFor example,  would, in that case, be a sleep for 1/100th of a second (or other time unit)
p23435
aVBottom line, it looks like a loop which continously tries something 100 times per time unit and, upon failure, do something else (the exception)
p23436
aVWithout more context, you're probably not going to be able to get much more than that
p23437
as(dp23438
g16
V14860
p23439
stp23440
a((dp23441
g2
(lp23442
VWarnings are exactly that: warnings
p23443
aVIt means you're okay for now but, if you continue with the behaviour that elicited the warning, you will be punished in one form or another (I'm just trying to get this concept through to my three-year-old daughter at the moment so forgive me if it seems a little simplistic)
p23444
aVThat's MySQL being polite
p23445
aVIt s next step, if you continue down this particular path is to refuse to co-operate (probable) or flat-out lose your data (less likely but karmic in a dark-humour sort of way), neither of which you want
p23446
aVThe right response is to listen to what it's telling you
p23447
aVIf you want a quick'n'dirty fix while you're thinking about the best way to refactor, you can split the row across two tables with a common identifier
p23448
aVThis will make your queries (temporarily) ugly but will at least stop the warnings
p23449
aVBut don't use this as a final solution
p23450
aVI'm finding it very hard to imagine an item that would have thousands of attributes that couldn't be organised into a better hierarchy
p23451
as(dp23452
g16
V14860
p23453
stp23454
a((dp23455
g2
(lp23456
VWell, that actually depends on what  and  contain rather than  and  themselves
p23457
aVBut my question to you is:
p23458
aVWhat did it return when you tried it
p23459
aVThat'll probably give you the right answer, surprisingly enough, rather than having one of us do it for you
p23460
aVResponding to your comment:
p23461
aVI was just checking if I did right
p23462
aVI couldn't figure out why I added the ",1" to my code
p23463
aVI completely forgot so I wanted to check, maybe that should of been my question
p23464
aVMaybe, but there's ample precedent on StackOverflow where the question that was asked is frequently replaced, over time, by the question that was meant
p23465
aVThat's not a problem and the best help-desk-type people (including those, like myself, who look after countless family computers) are those who can tease out the real question without insulting the intelligence of the asker :-)
p23466
aVIn any case, the  argument to the round function specifies how many fractional places are used to round the number, so:
p23467
aVand so on
p23468
as(dp23469
g16
V14860
p23470
stp23471
a((dp23472
g2
(lp23473
VSet it to  to start with:
p23474
aVThen use:
p23475
aVis the ObjC way of doing null objects (those that do not refer to an actual object)
p23476
as(dp23477
g16
V14860
p23478
stp23479
a((dp23480
g2
(lp23481
VHashes are not (necessarily) retrieved in a sorted manner
p23482
aVIf you want them sorted, you have to do it yourself:
p23483
aVYou retrieve all the keys from a hash by using  and you then sort them using
p23484
aVYeah, I know, that crazy Larry Wall guy, who would've ever thought of calling them that
p23485
aV:-)
p23486
aVThis outputs:
p23487
as(dp23488
g16
V14860
p23489
stp23490
a((dp23491
g2
(lp23492
Vantirez, I'm not sure I'll be much help since my Apple experience is limited to the , but I'll give it a shot
p23493
aVFirst thing is a question
p23494
aVI would have thought that, for virtual memory, speed of operation would be a more important measure than disk space (especially for a NoSQL DB where speed is the whole point, otherwise you'd be using SQL, no
p23495
aVBut, if your swap file is 26G, maybe not :-)
p23496
aVSome things to try (if possible)
p23497
aVTry to actually isolate the problem to the seek or write
p23498
aVI have a hard time believing a seek could take that long since, at worst, it should be a buffer pointer change
p23499
aVStill, I didn't write OSX so I can't be sure
p23500
aVTry adjusting the size of the swap file to see if that's what is causing the problem
p23501
aVDo you ever dynamically expand the swap file (as opposed to pre-allocation)
p23502
aVIf you do, that may be what is causing the problem
p23503
aVDo you always write as low in the file as you can
p23504
aVIt may be that creating a 26G file may not actually fill it with data but, if you create it then write to the last byte, the OS may have to zero out the bytes before then (deferring the initialization, if any)
p23505
aVWhat happens if you just pre-allocate the entire file (write to every byte) and not unlink it
p23506
aVIn other words, leave the file there between runs of your program (creating it if it doesn't already exist of course)
p23507
aVThen in your startup code for Redis, just initialize the file (pointers and such)
p23508
aVThis may get rid of any problems like those in point 4 above
p23509
aVAsk on the various BSD sites as well
p23510
aVI'm not sure how much Apple changed under the covers but OSX is just BSD at the lowest level (Pax ducks for cover)
p23511
aVAlso consider asking on the Apple sites (if you haven't already done so)
p23512
aVWell, that's my small contribution, hopefully it'll help
p23513
aVGood luck with your project
p23514
as(dp23515
g16
V14860
p23516
stp23517
a((dp23518
g2
(lp23519
VWe use HyperSnap 6 for all our screen capture needs
p23520
aVIt's quite capable of capturing screen information inside a VMWare guest from the actual host machine and I suspect it would have little trouble with a Palm emulator as well, since it basically operates at the host level
p23521
aVYou can easily capture dynamic ranges (where you use the mouse/keyboard to mark top-left and bottom-right corners) as well as pre-specified ranges like "same range as last time" or "the current window" with simple key combinations (this last one is ideal for our demo and documentation purposes)
p23522
aVOne other nice feature is the fact that it's like a mini-paint program (actually, it's a lot better than MSPaint) which allows us to highlight important bits of the image with markers and such, before saving
p23523
aVSorry to sound like an advert, but you did ask :-)
p23524
as(dp23525
g16
V14860
p23526
stp23527
a((dp23528
g2
(lp23529
VFrom the Lotus Notes Designer version 8 online help:
p23530
aVWhen you view a list of agents in the Work pane, an icon may appear next to the name of a scheduled agent
p23531
aVThe icons are:
p23532
aVCheck mark with a 6 next to it - the scheduled agent is enabled and runs only on IBM Lotus Domino(TM) 6 or later (or on Lotus Notes/Domino R5
p23533
aV08 or later)
p23534
aVCheck mark with a 5 next to it - the scheduled agent is disabled for Lotus Domino release 5
p23535
aV08 or later, but will be considered enabled on Lotus Notes Domino R5
p23536
aV07 or earlier which does not recognize this functionality
p23537
aVCheck mark - the scheduled agent is enabled and runs on any version of IBM Lotus Notes
p23538
aVA yellow X - the scheduled agent is disabled
p23539
aVSo I'm thinking that, in the transition from Notes 7 to 8 (and that was a big one since it was basically a rewrite of Notes on top of Eclipse), extra flags were introduced that Notes 7 picks up as the R508+ icon but which is, in reality, a "disabled" flag in Notes 8
p23540
aVThis would be similar to their description of R507 not recognising the R508+ flag and considering it enabled
p23541
aVIf you really want to know, ask here where the actual developers hang out (they may well keep an eye on StackOverflow but I know that IBM software developers have to monitor the IBM-run forums from personal experience)
p23542
as(dp23543
g16
V14860
p23544
stp23545
a((dp23546
g2
(lp23547
VI tend to run all my queries as:
p23548
aVI rarely use  - the DBMS I use has the same perormance irrespective of which of those methods is used
p23549
aVMy advice would be to do some timings to see if there's no performance degradation to using  instead of  and then switch if not
p23550
aVSome DBMS' actually exclude the "endpoints" (first and/or last) which is probably what you're seeing
p23551
aVThe two-clause SQL statement should not have that problem
p23552
as(dp23553
g16
V14860
p23554
stp23555
a((dp23556
g2
(lp23557
VI don't know much about ASP
p23558
aVNet but I know how I'd do this in Java
p23559
aVIf the characters are Unicode, I would just post-process the output from  with some simple substitutions, one being the conversion of \u005cu038C () to \u005cu039F () or \u005cu0386 () to \u005cu0391 ()
p23560
aVFrom the looks of the Greek/Coptic code page (\u005cu0370 through \u005cu03ff), there's only a few characters (6 or 7) you'll need to change
p23561
as(dp23562
g16
V14860
p23563
stp23564
a((dp23565
g2
(lp23566
VAssuming you want to know how it could be done in code (possible if it is indeed homework), one way is to think about what constitutes an integer in terms of the string
p23567
aVIt would most likely be:
p23568
aVan optional sign, +/-
p23569
aVa required digit
p23570
aVany number of optional digits (but watch out for overflow)
p23571
aVthe end of string
p23572
aVFrom that specification, you can write a function  that will do the work for you
p23573
aVSomething like this pseudo-code would be a good start:
p23574
as(dp23575
g16
V14860
p23576
stp23577
a((dp23578
g2
(lp23579
VI think you have a problem with your  code (or even some other code) since the rest of what you have is okay
p23580
aVOften, memory arena corruption is only detected when freeing the memory which is probably why removing the line seems to fix it
p23581
aVBut rest assured, the arena is still corrupted whether or not you're detecting it
p23582
aVYou need to fix it
p23583
aVOne way this might happen is if your memory allocation routines actually allocate extra bits before and possibly after what you're given
p23584
aVFor example, if you ask for 1024 bytes, what might actually be allocated from the heap is a 1040-byte block of which you're given the address of the 16th byte
p23585
aVThis gives the arena manager 16 bytes at the start to store housekeeping information (including a sentinal value at the very start of it)
p23586
aVThen, when the block is deleted, the arena manager knows that its housekeeping is in the 16 bytes before the address you're trying to free and can check the sentinal value (or all the sentinals in the arena or just the ones on either side of the one you're freeing - this is all implementation detail) to make sure they're unchanged
p23587
aVIf they have been changed, that's detected as corruption
p23588
aVAs I said earlier, the corruption couuld be caused by your  code or it could be somewhere totally different - all that matters is that the arena is being trashed
p23589
as(dp23590
g16
V14860
p23591
stp23592
a((dp23593
g2
(lp23594
VWhat you need is a many-to-many joining table
p23595
aVThis is the correct way to do this in third normal form
p23596
aVExample:
p23597
aVIt's never generally a good idea to add arrays of attributes to a table since that can be handled better with a joining table
p23598
aVAs you've already stated, an array of four franchisees in your stores table would waste space for those stores with less and, more importantly, limit the number of franchisees that can own a store arbitrarily
p23599
as(dp23600
g16
V14860
p23601
stp23602
a((dp23603
g2
(lp23604
VWhat you're talking about is an age rather than a version so you could call it RecordAge
p23605
aVBut I would get rid of it altogether since all you seem to want to do is get the most recent order for a specific customer
p23606
aVThat can be achieved by using the customer number and the date/time field
p23607
aVIf you make the combination of those two a unique constraint, and put retry logic in your client code on the rare chance you get a race condition, you should have no problems
p23608
aVThe idea of firing a trigger to modify lots of records when inserting one is a bad idea since it becomes more and more expensive as records get added
p23609
aVLook very critically at any design that introduces an arbitrary column like your version number
p23610
aVIt's actually a derived attribute (depends on other attributes, in this case, customer number and date) and, while it's okay to do this for performance reasons, it should only be done to alleviate a specific problem and only if you understand the consequences
p23611
aVI can't see the performance improvement in using a small integer over the date as offsetting the cost of the trigger myself but, as with all database decisions, measure, don't guess
p23612
as(dp23613
g16
V14860
p23614
stp23615
a((dp23616
g2
(lp23617
VAs with many assembler languages, this means indirection
p23618
aVIn other words, the first  loads  with the contents of  (the byte  in other words), not the address
p23619
aVYour second  actually loads  with the address  and you can later dereference that to get or set its content
p23620
aVIn both those cases,  is conceptually considered to be the address
p23621
as(dp23622
g16
V14860
p23623
stp23624
a((dp23625
g2
(lp23626
VThe  character is a format specifier which controls how the corresponding variables are formatted
p23627
aVIn this particular case, the two argumnents  and  are formatted as floats with three fractional digits
p23628
aVYou should of course already know this, even as a PHP coder, since PHP itself appears to have printf and the format specifiers are listed here
p23629
as(dp23630
g16
V14860
p23631
stp23632
a((dp23633
g2
(lp23634
VI can't say for sure but it sounds like an optimization strategy similar to IP
p23635
aVIf you don't require an ACK for every data packet, it makes sense to hold off for a bit so that, if more data packets arrive, you can acknowledge them all with a single ACK
p23636
aVExample: client sends 400 packets really fast to the server
p23637
aVRather than the server sending back 400 ACKs, it can simply wait until the client takes a breather before sending a single ACK back
p23638
aVCombined with the likelihood that the client will take a breather even under heavy load (it has to as its unacknowledged-packets buffer fills up), this would be workable
p23639
aVThis is possible in systems where the  means "I've received everything up to and including packet #
p23640
aVYou'll get better performance and less traffic by using such a strategy
p23641
aVAs long as the wait-before-sending-ack time on the receiver is less than the retransmit-if-no-ack-before time on the sender (taking transmission delays into account), there should be no problem
p23642
as(dp23643
g16
V14860
p23644
stp23645
a((dp23646
g2
(lp23647
VYes, or it will be eventually (there may still be some things they're working on replacing since they were used under licence)
p23648
aVSun committed to making it open source and you can download it from them
p23649
aVCheck out OpenJDK
p23650
as(dp23651
g16
V14860
p23652
stp23653
a((dp23654
g2
(lp23655
VWarnings you can recover from
p23656
aVErrors you can't
p23657
aVThat's my heuristic, others may have other ideas
p23658
aVFor example, let's say you enter a last name from a European person that had an umlaut
p23659
aVYour code may be English only (though it probably shouldn't be in this day and age) and could warn that all "funny" characters had been converted to regular English characters
p23660
aVContrast that with trying to write that information to the database and getting back a network down message for 60 seconds straight
p23661
aVThat's more of an error than a warning
p23662
as(dp23663
g16
V14860
p23664
stp23665
a((dp23666
g2
(lp23667
VYou should be storing it in a timestamp since that's most likely what the DBMS will optimize for timestamp data
p23668
aVI'm curious as to why you would sacrifice all the hard work that the MySQL have put into making timestamps work the way they should and replacing it with something that will almost certainly not work as well
p23669
aVSince you don't state why you want to use an integer, I'm just going to assume it was temporary insanity and that you'll soon recover :-)
p23670
as(dp23671
g16
V14860
p23672
stp23673
a((dp23674
g2
(lp23675
VNo, it won't, because the deallocation does not have the power to change the pointer
p23676
aVIt could only do this is you passed a pointer to the pointer
p23677
aVIf you want to ensure it's set to nil, you have to do it yourself
p23678
aVSome consider this good practice, some consider it a waste of time since your code should be structured to not use pointers after deallocation (until reallocated)
p23679
aVI actually lean towards the latter camp but I can see why people want to protect themselves from accessing freed memory (programming defensively is rarely a bad idea)
p23680
as(dp23681
g16
V14860
p23682
stp23683
a((dp23684
g2
(lp23685
VAs to the historic rationale, I can't say for certain (because I didn't design them)
p23686
aVMy thoughts on the matter are that early CPUs got their original program counter set to 0 and it was a natural desire to start the stack at the other end and grow downwards, since their code naturally grows upward
p23687
aVNote that this setting of the program counter to 0 on reset is not the case for all early CPUs
p23688
aVOne of the first things some historical CPUs would do would be to scan memory from the top until it found a location that would read back the same value written, so that it would know the actual RAM installed (e
p23689
ag1775
aV, a z80 with 64K address space didn't necessarily have 64K or RAM, in fact 64K would have been massive in my early days)
p23690
aVOnce it found the top actual address, it would set the stack pointer appropriately and could then start calling subroutines
p23691
aVWith regard to the stacks growth, not all of them grow downwards, see this answer for details
p23692
as(dp23693
g16
V14860
p23694
stp23695
a((dp23696
g2
(lp23697
VUnless you have a particularly huge number of attendance records you're adding each day, the best way to do it is with  statements (I don't know why exactly you've got it into your head that this is a bad idea, our databases frequently handle tens of millions of rows being added throughout the day)
p23698
aVIf your attendance records are more than that, you're on a winner, getting that many people to attend whatever functions or courses you're running :-)
p23699
aVBulk copies and imports are generally meant for transferring sizable quantities of data and I mean sizeable as in the entire contents of a database to a disaster recovery site (and other things like that)
p23700
aVI've never seen it used in the wild as a way to get small-size data into a database
p23701
aVUpdate 1:
p23702
aVI'm guessing based on the comments that you're actually entering the attendance records one by one into your web app and 1,500 is taking too long
p23703
aVIf that's the case, it's not the database slowing you down, nor the web app
p23704
aVIt's how fast you can type
p23705
aVThe solution to that problem (if indeed it is the problem) is to provide a bulk import functionality into your web application (or database directly if you wish but you're better off in my opinion having the application do all the work)
p23706
aVThis is of course assuming that the data you're entering can be accessed electronically
p23707
aVIf all you're getting is pieces of paper with attendance details, you're probably out of luck (OCR solutions notwithstanding), although if you could get muliple people doing it concurrently, you may have some chance of getting it done in a timely manner
p23708
aVHiring 1,500 people do do one each should knock it over in about five minutes :-)
p23709
aVYou can add functionality to your web application to accept the file containing attendance details and process each entry, inserting a row into your database for each
p23710
aVThis will be much faster than manually entering the information
p23711
aVUpdate 2:
p23712
aVBased on your latest information that it's taking to long to process the data after starting it from the web application, I'm not sure how much data you have but 100 records should basically take no time at all
p23713
aVWhere the bottleneck is I can't say, but you should be investigating that
p23714
aVI know in the past we've had long-running operations from a web UI where we didn't want to hold up the user
p23715
aVThere are numerous solutions for that, two of which we implemented:
p23716
aVtake the operation off-line (i
p23717
ag75
aV, run it in the background on the server), giving the user an ID to check on the status from another page
p23718
aVsame thing but notify user with email once it's finished
p23719
aVThis allowed them to continue their work asynchronously
p23720
as(dp23721
g16
V14860
p23722
stp23723
a((dp23724
g2
(lp23725
VYou would normally use the start end end anchors  and  respecitvely:
p23726
aVKeep in mind that, if you regex engine supports multi-line, this may also capture strings that span multiple lines as long as one of those lines matches the regex(since  then anchors after any newline or string-start and  before any newline or string end)
p23727
aVIf you're only running the regex against a single line, that won't be a problem
p23728
aVIf you want to ensure that a multi-line input is only a single line consisting of your pattern, you can use  and  if supported - these mean start and end of string regardless of newlines
p23729
as(dp23730
g16
V14860
p23731
stp23732
a((dp23733
g2
(lp23734
VThe  clause is used to order your data set
p23735
aVFor example,
p23736
aVwill give you a list of customers in order of customer id from lowest to highest
p23737
aVThe  clause is used to aggregate your data
p23738
aVFor example,
p23739
aVwill give you each customer along with their total sales and maximum sale, again ordered by customer id
p23740
aVIn other words, grouping allows you to combine multiple rows from the database into a single output row, based on some criteria, and select functions of those fields not involved in the grouping (minimum, maximum, total, average and so on)
p23741
as(dp23742
g16
V14860
p23743
stp23744
a((dp23745
g2
(lp23746
VThis is a recursive function (one that calls itself repeatedly)
p23747
aVThe purpose of the  is to ensure that it doesn't attempt to do so forever, resulting in a null pointer exception as you run off the bottom of the tree
p23748
aVWhat will happen is that the first time you call this function with a node (usually, but not always, the root node), it will first print out the left sub-tree of that node, then the value of the node itself, then the right sub-tree of that node
p23749
aVThe way it prints out the sub-trees is by calling itself with the top level node of that sub-tree
p23750
aVThis is a very common method of elegantly processing recursive structures
p23751
aVThe test for  is so that it has a condition where the search down through the levels of the tree stops when it reaches a node that has no children on the particular side you're examining (left or right)
p23752
aVBy way of example, let's say you have the following tree (uppercase letters with their numbers are real nodes with the numbers being their value, and  markers are nulls):
p23753
aVHere's what will happen, when you call the function with
p23754
aVThe upshot is that it's printed out the sequence  which, in a sorted tree, is the elements in sorted order
p23755
aVOr a simpler version if you can't be bothered to read through my voluminous explanation above:
p23756
aVIn that case, you'd get  or
p23757
as(dp23758
g16
V14860
p23759
stp23760
a((dp23761
g2
(lp23762
VRather than exiting the process, you can instead find the process ID of the  process and kill it (a  would even be safe here if you're sure the log file has finished)
p23763
aVThat way, the  will terminate naturally and you won't need to exit
p23764
aVOr, since you're not really using the  to output to the screen, you could also try the more old-school:
p23765
as(dp23766
g16
V14860
p23767
stp23768
a((dp23769
g2
(lp23770
VWhy can you just not use the standard getters to check the individual fields, along the lines of:
p23771
as(dp23772
g16
V14860
p23773
stp23774
a((dp23775
g2
(lp23776
VSince  cannot be ,  and  at the same time, at least two of the sub-conditions are true
p23777
aVAnd, since you're using  instead of , any true sub-condition will render the entire condition true
p23778
aVYou want something like:
p23779
as(dp23780
g16
V14860
p23781
stp23782
a((dp23783
g2
(lp23784
VIn order to get a truly empty file without having to provide user interaction, you can use the  command with a little trickery:
p23785
aVThe  asks the user for input into the  variable after outputting the prompt after the  character
p23786
aVSince the prompt is empty, no prompt is shown
p23787
aVSince you're reading from nul, it doesn't wait for user interaction
p23788
aVAnd you can store the empty string straight into  thus removing the need to unset it
p23789
aVActually, after some more thought, there's an easier way
p23790
aVI've used that  trick in the past since it's the only way I know of echoing text without a newline being added (great for progress bars in the console)
p23791
aVBut if all you want is an empty file, you can probably get away with:
p23792
aVThe  simply copies the contents of the  device (effectively an empty file) to your new file name
p23793
aVThe  is to ensure it's overwritten without bothering the user
p23794
as(dp23795
g16
V14860
p23796
stp23797
a((dp23798
g2
(lp23799
VGuesswork (even educated guesswork) is fun but you really need to go to the standards documents to be sure
p23800
aVFor example, the c1x n1425 draft states:
p23801
aVIf the value of argc is greater than zero, the string pointed to by argv[0] represents the program name; argv[0][0] shall be the null character if the program name is not available from the host environment
p23802
aVSo no, it's only the program name if that name is available
p23803
aVAnd it "represents" the program name, not necessarily is the program name
p23804
aVThe section before that states:
p23805
aVIf the value of argc is greater than zero, the array members argv[0] through argv[argc-1] inclusive shall contain pointers to strings, which are given implementation-defined values by the host environment prior to program startup
p23806
aVThis is unchanged from C99, the previous standard, and means that even the values are not dictated by the standard - it's up to the implementation entirely
p23807
aVThis means that the program name can be empty if the host environment doesn't provide it, and anything else if the host environment does provide it, provided that "anything else" somehow represents the program name
p23808
aVIn my more sadistic moments, I would consider translating it into Swahili, running it through a substitution cipher then storing it in reverse byte order :-)
p23809
aVHowever, implementation-defined does have a specific meaning in the ISO standards - the implementation must document how it works
p23810
aVSo even UNIX, which can put anything it likes into  with the  family of calls, has to (and does) document it
p23811
as(dp23812
g16
V14860
p23813
stp23814
a((dp23815
g2
(lp23816
VIf you know the maximum size of a message, I'd just give serious consideration to creating a byte array and having a method  that writes the message directly into that, leaving space for the length
p23817
aVThen, when you've written all the data bytes, go back and put in the length and calculate the CRC
p23818
aVThen you should be able to push the entire byte array (limited to the actual length) out to the oter end
p23819
aVIf you don't know the maximum size, you can use a vector or one of the other collections
p23820
aVIt seems a larger-than-necessary effort to bring in all the serialisation stuff just to ship byte buffers around
p23821
as(dp23822
g16
V14860
p23823
stp23824
a((dp23825
g2
(lp23826
VNo, never seen this before, and it definitely looks like a bug
p23827
aVrounded to two decimal places should definitely be
p23828
aVThe  should not change the behaviour since you're not dealing with midpoint values
p23829
aVThis link has more details
p23830
aVIt seems to be a bug in the 1
p23831
aV8 levels that's been fixed in 1
p23832
ag18265
aVIt's a slightly bizarre one in that it only seems to affect numbers with an even number of zeros before the first non-zero digit and only if that digit is 5 or greater
p23833
aVThat appears to be exactly your problem based on the data provided
p23834
as(dp23835
g16
V14860
p23836
stp23837
a((dp23838
g2
(lp23839
VYou need to actually ask us the real question :-) It's apparent to you why you think this is necessary but it almost certainly isn't
p23840
aVIn fact, it's almost always a bad idea
p23841
aVWhy do you think you need to do this
p23842
aVI usually find it's because developers want to delete or not delete the object based on where it was allocated but that's something that should usually be left to the client of your code rather than your code itself
p23843
aVUpdate:
p23844
aVApologies, you've probably found one of the few areas in which what you're asking makes sense
p23845
aVIdeally, you'd override all the memory allocation and de-allocation operators to keep track of what is created and removed from the heap
p23846
aVHowever, I'm not sure it's a simple matter of intercepting the new/delete for the class since there could be situations where  is not called and, since mark/sweep relies on a reference count, you need to be able to intercept pointer assignments for it to work correctly
p23847
aVHave you thought about how you're going to handle that
p23848
aVThe classic example:
p23849
aVwill not result in a delete call
p23850
aVAlso, how will you detect the fact that the pointer to one of your instances is on the stack
p23851
aVThe interception of new and delete can let you store whether the object itself is stack or heap-based but I'm at a loss as to how you tell where the pointer is going to be assigned to, especially with code like:
p23852
as(dp23853
g16
V14860
p23854
stp23855
a((dp23856
g2
(lp23857
VThere's nothing wrong with that code at all
p23858
aVI tested it (albeit not in Xcode) with a file and the transcript was:
p23859
aVSo the obvious think to ask is what happens when you examine test
p23860
aVrtf
p23861
aVDoes it actually have any content
p23862
aVBecause, when I do:
p23863
aVI get the same behaviour you observe
p23864
aVAlso try renaming it to test2
p23865
aVrtf temporarily and make sure you get the error
p23866
aVIt's possible it may be opening a different copy of the file than what you think (this often happens in Visual C since the directory the program runs in is not always what developers think at first)
p23867
as(dp23868
g16
V14860
p23869
stp23870
a((dp23871
g2
(lp23872
VThat would depend almost entirely on why your boss enacted this policy
p23873
aVIf it's because you are a bunch of cowboys who push buggy code out to production with no sense of what that means to the user (and the reputation of your company), your boss is probably right
p23874
aVIf it's because some six-sigma type bod has come in and told your boss it's the right way to do things, I'd be circumspect
p23875
aVAs always, it depends on the circumstances (and you haven't really told us the whole picture)
p23876
aVIn any case, a couple of decade's experience has taught me that there are always ways around arbitrary limitations if you're clever enough :-)
p23877
aVCase in point: while we're not allowed to code new functionality without funding, we can (as a lab-type environment) put together a PoC (proof-of-concept) on our own dime, and then find that it's remarkably easy to get that to a production-quality solution
p23878
as(dp23879
g16
V14860
p23880
stp23881
a((dp23882
g2
(lp23883
VYou can ship the required shared libraries with your own code (in a subdirectory for instance) and set LD_LIBRARY_PATH, as a precursor to running your application, to first search in that directory
p23884
aVShipping the specific version that you need will mean that it won't matter which version the user has installed
p23885
aVYou just have to make sure you ship all dependencies as well
p23886
as(dp23887
g16
V14860
p23888
stp23889
a((dp23890
g2
(lp23891
VLate binding is not really a function of the C language itself, more something that your execution environment provides for you
p23892
aVMany systems will provide deferred binding as a feature of the linker/loader and you can also use explicit calls such as  (to open a shared library) and  (to get the address of a symbol within that library so you can access it or call it)
p23893
aVThe only semi-portable way of getting late binding with the C standard would be to use some trickery with  and even that is at least partially implementation-specific
p23894
aVIf you're not so much talking about deferred binding but instead polymorphism, you can achieve that effect with function pointers
p23895
aVBasically, you create a  which has all the data for a type along with function pointers for locating the methods for that type
p23896
aVThen, in the "constructor" (typically an init() function), you set the function pointers to the relevant functions for that type
p23897
aVYou still need to include all the code even if you don't use it but it is possible to get polymorphism that way
p23898
as(dp23899
g16
V14860
p23900
stp23901
a((dp23902
g2
(lp23903
VThat works just fine in my :
p23904
aVHowever, when I connect to a machine that doesn't refuse the connection, I get:
p23905
aVThat's because I'm actually connecting successfully and all the other host names are being sent to the  session
p23906
aVThese are no doubt being used to attempt a login, the remaining host names are invalid as user/password and the session is being closed because of that
p23907
aVIf you just want to log in interactively to each system, you can use:
p23908
aVwhich will not capture the rest of the host names into the first successful session
p23909
aVIf you want to truly automate a telnet session, you should look into a tool such as  or using one of the remoting UNIX tools such as
p23910
as(dp23911
g16
V14860
p23912
stp23913
a((dp23914
g2
(lp23915
VActually, you have it down pat, there's nothing more you need to know :-)
p23916
aVI would just add the following bits:
p23917
aVthe two operations are opposite ends of the spectrum
p23918
aVtakes a variable and gives you the address,  takes an address and gives you the variable (or contents)
p23919
aVarrays "degrade" to pointers when you pass them to functions
p23920
aVyou can actually have multiple levels on indirection ( means that  is a pointer to a pointer to a
p23921
aVAs to things working differently, not really:
p23922
aVarrays, as already mentioned, degrade to pointers (to the first element in the array) when passed to functions; they don't preserve size information
p23923
aVthere are no strings in C, just character arrays that, by convention, represent a string of characters terminated by a zero () character
p23924
aVWhen you pass the address of a variable to a function, you can de-reference the pointer to change the variable itself (normally variables are passed by value (except for arrays))
p23925
as(dp23926
g16
V14860
p23927
stp23928
a((dp23929
g2
(lp23930
VNo, this is usually the purview of the  statement:
p23931
aVOf course, you can incorporate that into a  statement:
p23932
as(dp23933
g16
V14860
p23934
stp23935
a((dp23936
g2
(lp23937
VIf you want to return a binary truth value then you should be using a boolean data type where available
p23938
aVCompilers will optimise things if necessary, you should be writing your code as much as possible to be clear
p23939
aVThat way, you or your successor will have no doubt five years down the track what was intended
p23940
as(dp23941
g16
V14860
p23942
stp23943
a((dp23944
g2
(lp23945
Vwill do it
p23946
aVIt basically walks  through the list, deleting as it goes (using  to store the next one) until you've run out of elements
p23947
as(dp23948
g16
V14860
p23949
stp23950
a((dp23951
g2
(lp23952
VYour original error was because you were attempting to use  without including
p23953
aVYour new error (which really should have been a separate question since you've now invalidated all the other answers to date) is because you're missing a semicolon character at the end of the  definition
p23954
aVThis code compiles fine (albeit without a ):
p23955
as(dp23956
g16
V14860
p23957
stp23958
a((dp23959
g2
(lp23960
VSilly me
p23961
aVIt turns out that I just forgot to allocate the array before pushing values on to it
p23962
aVWhy the runtime lets you do that without an error is a separate question
p23963
aVAll I had to do was change the code from:
p23964
aVto:
p23965
aVso that the audio array is created properly
p23966
aVRegarding why the pushing to a non-existent array didn't get caught by the runtime, there's an interesting snippet in the Professional haXe and Neko book (which only arrived today and looks like it's going to return my investment very quickly, which is why I don't mind giving it a shameless plug) that explains it, pretty much exactly the situation I encountered:
p23967
aVSo, now that you can see what you're up against, take a look at both Neko and Flash when generating an exception:
p23968
aVCompile the preceding class for both Neko and Flash, and then run them both
p23969
aVWhen run, the Flash player should display a blank screen, while the Neko application will generate the following text:
p23970
aVThis is an uncaught exception, which means it is an exception that you have not caught and dealt with in your code
p23971
aVThe problem with the preceding class is that the Array t was not instantiated before the method push was called, so as far as the virtual machine is concerned, there is no method called push available
p23972
aVNow, the fact of the matter is, the Flash virtual machine would have hit the same wall that the Neko virtual machine encountered, except that the Flash virtual machine chose to ignore the error and continue as normal
p23973
aVDoes this mean the exception was even generated
p23974
aVMaybe, but, like most invisible pests, you'll need to catch one to prove it exists
p23975
as(dp23976
g16
V14860
p23977
stp23978
a((dp23979
g2
(lp23980
VThat's not porting from 32bit to 64, that's just running your 32bit code on a 64bit machine to make sure it still works
p23981
aVThe way to do that is to just test all the functionality on the 64-bit machine, just as you do every time you release a new version, right
p23982
aV:-)
p23983
aVIf you really want to port it (i
p23984
ag75
aV, compile it to a 64bit executable), the first step is to just try it
p23985
aVYou may find it works as-is
p23986
aVI'd only be worried about porting problems if you try it and then problems appear
p23987
aVThen, and only then, would I go looking for the causes
p23988
aVOtherwise it's potentially wasted effort
p23989
as(dp23990
g16
V14860
p23991
stp23992
a((dp23993
g2
(lp23994
VI would bypass all the angst you're likely to get from trying to re-run yourself and leave it in the hands of the environment
p23995
aVBy that, I mean:
p23996
aVHave a controlling program which does nothing more than run your program (with the same parameters it was given) in a loop while your program exits with a specific "restart" code
p23997
aVThis could be as simple as a  file or as complex as another (very simple) Python program that uses )
p23998
aVBasically, as long as the controlling program gets the code "restart", it will re-run your program with exactly the same parameters
p23999
aVAny other code will cause it to exit with that code
p24000
aVWhen you want to exit fully, have your real Python program exit with return code 0 (or anything that's not the "restart" code in an error situation)
p24001
aVIf you just want to cycle to another iteration of your program (to re-read the config for example), exit with the "restart" code recognised by the controlling program
p24002
aVBut you may also want to think about re-engineering your application so that it can re-read its configuration at any time
p24003
aVThis will make the whole problem go away
p24004
aVYou don't mention why that's not an option so I'm assuming you have some reason why it won't work
p24005
aVBut, if you don't, that's the path I'd be choosing
p24006
aVTo provide some sample code for the first option (this is on Windows but under Cygwin - the same basic rules should apply for Windows native Python but you should check the return values from )
p24007
ag1611
ag5385
ag5385
aVYou can see the controller using an exit code of 9 to decide whether to re-run the program
p24008
aVThe program itself is a dumb one which returns 9 unless it's on a 10-second multiple
p24009
as(dp24010
g16
V14860
p24011
stp24012
a((dp24013
g2
(lp24014
VThe current standard explicitly mentions these two:
p24015
aValthough it does mention the phrase "or equivalent" with the following footnote:
p24016
aVThus,  can be replaced by a  name defined as , or the type of  can be written as , and so on
p24017
aVIn addition, it also provides for more (implementation-defined) possibilities
p24018
aVThe relevant section (section  in , but this particular aspect is unchanged from ) states:
p24019
aVThe function called at program startup is named main
p24020
aVThe implementation declares no prototype for this function
p24021
aVIt shall be defined with a return type of int and with no parameters:
p24022
aVor with two parameters (referred to here as argc and argv, though any names may be
p24023
aVused, as they are local to the function in which they are declared):
p24024
aVor equivalent; or in some other implementation-defined manner
p24025
aVIf they are declared, the parameters to the main function shall obey the following constraints:
p24026
aVThe value of argc shall be nonnegative
p24027
aVargv[argc] shall be a null pointer
p24028
aVIf the value of argc is greater than zero, the array members argv[0] through
p24029
aVargv[argc-1] inclusive shall contain pointers to strings, which are given
p24030
aVimplementation-defined values by the host environment prior to program startup
p24031
aVThe
p24032
aVintent is to supply to the program information determined prior to program startup
p24033
aVfrom elsewhere in the hosted environment
p24034
aVIf the host environment is not capable of
p24035
aVsupplying strings with letters in both uppercase and lowercase, the implementation
p24036
aVshall ensure that the strings are received in lowercase
p24037
aVIf the value of argc is greater than zero, the string pointed to by argv[0]
p24038
aVrepresents the program name; argv[0][0] shall be the null character if the
p24039
aVprogram name is not available from the host environment
p24040
aVIf the value of argc is
p24041
aVgreater than one, the strings pointed to by argv[1] through argv[argc-1]
p24042
aVrepresent the program parameters
p24043
aVThe parameters argc and argv and the strings pointed to by the argv array shall
p24044
aVbe modifiable by the program, and retain their last-stored values between program
p24045
aVstartup and program termination
p24046
aVNote that this is for a hosted environment, the ones you normally see in C programs
p24047
aVA free-standing environment (such as an embedded system) is far less constrained, as stated in  of that same standard:
p24048
aVIn a freestanding environment (in which C program execution may take place without any
p24049
aVbenefit of an operating system), the name and type of the function called at program
p24050
aVstartup are implementation-defined
p24051
aVAny library facilities available to a freestanding
p24052
aVprogram, other than the minimal set required by clause 4, are implementation-defined
p24053
as(dp24054
g16
V14860
p24055
stp24056
a((dp24057
g2
(lp24058
VTry:
p24059
aVSimple, really :-) Aren't pipelines wonderful beasts
p24060
aVThe  gives you the files one per line, the  converts all uppercase to lowercase, the  sorts them (surprisingly enough),  removes subsequent occurrences of duplicate lines whilst giving you a count as well and, finally, the  strips out those lines where the count was one
p24061
aVWhen I run this in a directory with one "duplicate" (I copied  to ), I get:
p24062
aVFor the "this directory and every subdirectory" version, just replace  with  or  if you want a specific directory starting point ( is the directory name you want to use)
p24063
aVThis returns (for me):
p24064
aVwhich are caused by:
p24065
aVUpdate:
p24066
aVActually, on further reflection, the  will lowercase all components of the path so that both of
p24067
aVwill be considered duplicates even though they're in different directories
p24068
aVIf you only want duplicates within a single directory to show as a match, you can use the (rather monstrous):
p24069
aVin place of:
p24070
aVWhat it does is to only lowercase the final portion of the pathname rather than the whole thing
p24071
aVIn addition, if you only want regular files (no directories, FIFOs and so forth), use  to restrict what's returned
p24072
as(dp24073
g16
V14860
p24074
stp24075
a((dp24076
g2
(lp24077
VIt should be a simple matter of changing:
p24078
aVto:
p24079
aVso that the memory options are passed as two arguments
p24080
aVBut, since you say that doesn't work (
p24081
aV, please try the following
p24082
aVA) Create a shell script  containing:
p24083
aV(you may need to alter that first line if your  is somewhere else: use  to figure out where)
p24084
aVB) Set its permissions correctly:
p24085
aVC) Replace your entire  command with:
p24086
aVand see how many arguments there actually are
p24087
aVI get:
p24088
aVfrom the controlling script:
p24089
as(dp24090
g16
V14860
p24091
stp24092
a((dp24093
g2
(lp24094
VIn general terms (not necessarily Python), I tend to prefer the "try-then-tell-me-if-it-went-wrong" method (exceptions) in all but the simplest cases
p24095
aVThis is because, in threaded environments or during database access, the underlying data can change between the key check and the value extraction
p24096
aVIf you're not changing the associative array outside of the current thread, then you can do the "check-first-then-extract" method
p24097
aVBut that's for the general case
p24098
aVHere, specifically, you can use the  method which allows you to specify a default if the key doesn't exist:
p24099
aVI'll clarify what I stated in the first paragraph
p24100
aVIn situations where the underlying data can change between checking and using, you should always use an exception-type operation (unless you have an operation that will not cause a problem, such as , mentioned above)
p24101
aVConsider for example the following two thread time-lines:
p24102
aVWhen thread 1 attempts to extract the value, it will get an exception anyway, so you may as well just code for the possibility and remove the initial check
p24103
aVThe comment about databases is also relevant since that's another situation where the underlying data can change
p24104
aVThat's why I tend to prefer atomic SQL (where possible) rather than something like getting a list of keys then processing them with individual statements
p24105
as(dp24106
g16
V14860
p24107
stp24108
a((dp24109
g2
(lp24110
VNULL values are meant to indicate that the attribute is either not applicable or unknown
p24111
aVThere are religious wars fought over whether they're a good thing or a bad thing but I fall in the "good thing" camp
p24112
aVThey are often necessary to distinguish known values from unknown values in many situations and they make a sentinel value unnecessary for those attributes that don't have a suitable default value
p24113
aVFor example, whilst the default value for a bank balance may be zero, what is the default value for a mobile phone number
p24114
aVYou may need to distinguish between "customer has no mobile phone" and "customer's mobile number is not (yet) known" in which case a blank column won't do (and having an extra column to decide whether that column is one or the other is not a good idea)
p24115
aVDefault values are simply what the DBMS will put in a column if you don't explicitly specify it
p24116
as(dp24117
g16
V14860
p24118
stp24119
a((dp24120
g2
(lp24121
VThe default  port is 2401 but, of course, that's no guarantee that your particular server will be using that port
p24122
aVHowever, since you asked for the default, 2401 is the answer
p24123
as(dp24124
g16
V14860
p24125
stp24126
a((dp24127
g2
(lp24128
VIt's actually undefined, according to the standard
p24129
aVPointer arithmetic is not guaranteed to work unless the pointers are both pointing to either an element in, or just beyond, the same array
p24130
aVThe relevant section of the standard is 6
p24131
ag630
aV6:9 (n1362 draft of c1x but this hasn't changed since c99) which states:
p24132
aVWhen two pointers are subtracted, both shall point to elements of the same array object,
p24133
aVor one past the last element of the array object; the result is the difference of the
p24134
aVsubscripts of the two array elements
p24135
aVYou'll most likely get 250 if your  datatype is 4 bytes but there's no guarantee
p24136
aVUndefined behaviour (unlike implementation-defined behaviour) means just that, undefined
p24137
aVAnything can happen, up to an including the total destruction of a large proportion of space-time
p24138
aVA refresher course:
p24139
aVDefined behaviour is what is mandated by the standard
p24140
aVImplementations must do this to be conformant
p24141
aVImplementation-defined behaviour is left up to the implementation but it must document that behaviour clearly
p24142
aVUse this if you don't care too much about portability
p24143
aVUndefined behaviour means anything can happen
p24144
aVDon't ever do that
p24145
as(dp24146
g16
V14860
p24147
stp24148
a((dp24149
g2
(lp24150
VYes, you cannot form a third-normal-form many-to-many relationship between two tables with just those two tables
p24151
aVYou can form a one-to-many (in one of the two directions) but in order to get a true many-to-many, you need something like:
p24152
aVYou do not need a category in the Item table unless you have some privileged category for an item which doesn't seem to be the case here
p24153
aVI'm also not a big fan of introducing unnecessary primary keys when there is already a "real" unique key on the joining table
p24154
aVThe fact that the item and category IDs are already unique means that the entire record for the ItemCategory table will be unique as well
p24155
aVSimply monitor the performance of the ItemCategory table using your standard tools
p24156
aVYou may require an index on one or more of:
p24157
aVitemid
p24158
aVcategoryid
p24159
aV(itemid,categoryid)
p24160
aV(categoryid,itemid)
p24161
aVdepending on the queries you use to join the data (and one of the composite indexes would be the primary key)
p24162
aVThe actual syntax for the entire job would be along the lines of:
p24163
aVThere's other sorts of things you should consider, such as making your ID columns into identity/autoincrement columns, but that's not directly relevant to the question at hand
p24164
as(dp24165
g16
V14860
p24166
stp24167
a((dp24168
g2
(lp24169
VIn , you can use:
p24170
aVto output the contents of the  that  finds
p24171
aVThis, like the backtick solution, takes the output of the command within  and uses that as a parameter to the  command
p24172
aVI prefer the  to the backtick method since the former can be nested in more complex situations
p24173
aVAssigning the output of  to a variable is done similarly:
p24174
aVIn both cases, it's better to use the quotes in case , or it's path, contains spaces, as heinous as that crime is :-)
p24175
aVI've often used a similar trick when I want to edit a small group of files with similar names under a given sub-directory:
p24176
aVwhich will give me a single  session for all the makefiles (obviously, if there were a large number, I'd be using  or  to modify them en masse instead of )
p24177
as(dp24178
g16
V14860
p24179
stp24180
a((dp24181
g2
(lp24182
VThe array:
p24183
aVis laid out in memory as (assuming  itself is at memory location , a particular endian-ness and for a four-byte ):
p24184
aVBreaking down the expression:
p24185
aVgives you a  pointer
p24186
aVadvances that pointer by 4 bytes ()
p24187
aVturns the result of that back into an  pointer
p24188
aVdereferences that pointer to extract the
p24189
aVThis is a very silly way of doing it since it's inherently non-portable (to environments where an  is two or eight bytes, for example)
p24190
as(dp24191
g16
V14860
p24192
stp24193
a((dp24194
g2
(lp24195
VOutput redirection is generally a feature of the shell you're working with and, given how much use it gets, I'd be pretty amazed if you'd found a bug in it :-)
p24196
aVAre you sure you're not trying to do redirection with  itself rather than the shell
p24197
aVWhat happens when you do:
p24198
aVUpdate:
p24199
aVIf this is your code as stated, it's because the  is not being expanded by your shell script since the  command is within single quotes
p24200
aVWhat I tend to do is pass in specific values to  using the  option, something like (in your case):
p24201
aVThen the variables become first-class  citizens without having to worry about who's doing the expansion
p24202
aVFurther update:
p24203
aVI'm standing behind my original advice
p24204
aVThere's something definitely screwy with the method chosen
p24205
aVI have a directory in my home directory called XpVm (among others) and I've created the file  containing the single line:
p24206
aVWhen I execute:
p24207
aV(I've stripped out directories starting with  since they were causing another problem), I get this output:
p24208
aVwhich is clearly not what is expected
p24209
aVHowever, when I use the  option to  as I originally suggested, the command:
p24210
aV(the only difference being the changes to ), I get:
p24211
aVwhich is correct
p24212
aVFinal update (hopefully):
p24213
aVI think I have the problem solved
p24214
aVI'm on a different machine now (so the directory names are simply  and ) and, when I run the original script:
p24215
aVwith a modified  containing  instead of , I get:
p24216
aVThat's because the  statement is being seen by  as:
p24217
aV(without quotes, since the quotes are actually outside the  string being used to surround the directory name)
p24218
aVThis will test  for equality against the  variable called  rather than the actual string
p24219
aVWhat you need is to make sure that the quotes are inside the  script, like:
p24220
aVand you can do this with the following script (only the  line has changed):
p24221
aVNote that the double quotes are duplicated
p24222
aVI've still kept the double quotes immediately around  in case someone's committed the heinous crime of creating a file with a space in it :-)
p24223
aVRunning that script produces:
p24224
aVwhich is what I think you were aiming for
p24225
aVSo, the upshot is, if you don't want to use  variables, you can just change your awk string from:
p24226
aVto:
p24227
aVand it should function okay
p24228
as(dp24229
g16
V14860
p24230
stp24231
a((dp24232
g2
(lp24233
VThat seems a bizarre way of doing it, changing the actual input variables
p24234
aVI would opt instead for:
p24235
aVIn any case, even if you do use the same variables for input and output (and then they should be renamed to something more appropriate), it's still easiest to convert to a single form (inches) then do the conversion to centimeters then back to m/cm
p24236
aVIn your current code, if you pass in 1ft,0in, you'll get back 0
p24237
aV3048m,0cm rather than the more correct 30
p24238
aV48cm
p24239
aVBy using the code in this answer, it will be converted first to 12
p24240
aV0 inches, then from there to 30
p24241
aV48cm, then to 0m,30
p24242
aV48cm
p24243
aVSimilarly, four and a half feet (4ft,6in) will first be converted to 54 inches, then to 137
p24244
aV16cm, then to 1m,37
p24245
aV16cm
p24246
as(dp24247
g16
V14860
p24248
stp24249
a((dp24250
g2
(lp24251
VThere's a couple of things I would do to your  function:
p24252
aVpass a  variable so you can specify where the file is to go
p24253
aVnot initialise  to  since you set it in the  statement anyway
p24254
aVThat would give you something like:
p24255
aVIn order to use it to print to the standard output, just use:
p24256
aVsince  is simply a  for standard output (and you can also use  if you wish)
p24257
aVIf you want to write it to a file:
p24258
aVThere's also a change you can make to get rid of the extraneous space at the end of each line when the particular list is not empty
p24259
aVAt the moment, a list (1,2,3) will print as (the  characters are spaces):
p24260
aVIf you change the function to be:
p24261
aVit will get rid of that extraneous space at the end
p24262
aVWhether this is actually necessary is a decision for you to make - I've often done this to have a specific output format without making the code too much uglier but it may well be that the space at the end doesn't cause you any trouble
p24263
as(dp24264
g16
V14860
p24265
stp24266
a((dp24267
g2
(lp24268
VChanging the code to yield  chunks rather than chunks of :
p24269
aVwhich gives:
p24270
aVThis will assign the extra elements to the final group which is not perfect but well within your specification of "roughly N equal parts" :-) By that, I mean 56 elements would be better as (19,19,18) whereas this gives (18,18,20)
p24271
aVYou can get the more balanced output with the following code:
p24272
aVwhich outputs:
p24273
as(dp24274
g16
V14860
p24275
stp24276
a((dp24277
g2
(lp24278
VNot sure why it's not being picked up but I do know that a pattern of that sort can produce large lexical elements
p24279
aVIt's more efficient to detect just the start comment marker and toss everything in the bitbucket until you find the end marker
p24280
aVThis site has code which will do that:
p24281
as(dp24282
g16
V14860
p24283
stp24284
a((dp24285
g2
(lp24286
VYes, any number other than -1,0 or 1 is probably a magic number
p24287
aVUnless you're a real guru, then you're probably allowed to use powers of two freely as well :-)
p24288
aVAs an aside, you could probably refactor that code to be a little more understandable, something like:
p24289
aVThis removes the magic numbers spread all over the code to an area where it's immediately obvious how they work (assuming you align them nicely)
p24290
aVIt also removes a problem with your original solution as to what we do with someone that achieved a score of 380
p24291
aV5 - it's not really fair to fail those bods :-) Or to assign a grade to  to those above 400 (since there doesn't appear to be a way to return )
p24292
as(dp24293
g16
V14860
p24294
stp24295
a((dp24296
g2
(lp24297
VA binary tree, in its raw form, is actually useful for little more than educating students about data structures :-) *a
p24298
aVThat's because, unless the data is coming in in a relatively random order, the tree can easily degenerate into its worst-case form, which is a linked list, since simple binary trees are not balanced
p24299
aVA good case in point: I once had to fix some software which loaded its data into a binary tree for manipulation and searching
p24300
aVIt wrote the data out in sorted form:
p24301
aVso that, when reading it back in, ended up with the following tree:
p24302
aVwhich is the degenerate form
p24303
aVIf you go looking for Frank in that tree, you'll have to search all six nodes before you find him
p24304
aVBinary trees become truly useful when you balance them
p24305
aVThis involves rotating sub-trees through their root node so that the height difference between any two sub-trees is less than or equal to 1
p24306
aVAdding those names above one at a time into a balanced tree would give you the following sequence:
p24307
ag5385
ag5385
ag5385
ag5385
ag5385
aVYou can actually see whole sub-trees rotating to the left as the entries are added and this gives you a balanced binary tree in which the worst case lookup is O(log N) rather than O(N) as the degenerate form gives
p24308
aVAt no point does the highest NULL () differ from the lowest by more than one level
p24309
aVAnd, in the final tree above, you can find Frank by only looking at three nodes (,  and, finally, )
p24310
aVOf course, they become even more useful when you make them balanced multi-way trees rather than binary tress
p24311
aVThat means that each node holds more than one item (technically, they hold N items and N+1 pointers, a binary tree being a special case of a 1-way multi-way tree  with 1 item and 2 pointers)
p24312
aVWith a three-way tree, you end up with:
p24313
aVThis is typically used in maintaining keys for an index of items
p24314
aVI've written database software optimised for the hardware where a node is exactly the size of a disk block (say, 512 bytes) and you put as many keys as you can into a single node
p24315
aVThe pointers in this case were actually record numbers into a fixed-length-record direct-access file separate from the index file (so record number  could be found by just seeking to )
p24316
aVFor example, if the pointers are 4 bytes and the key size is 10, the number of keys in a 512-byte node is 36
p24317
aVThat's 36 keys (360 bytes) and 37 pointers (148 bytes) for a total of 508 bytes with 4 bytes wasted per node
p24318
aVThe use of multi-way keys introduces the complexity of a two-phase search (multi-way search to find the correct node combined with a small sequential search to find the correct key in the node) but the advantage in doing less disk I/O more than makes up for this
p24319
aVI see no reason to do this for an in-memory structure, you'd be better off sticking with a balanced binary tree and keeping your code simple
p24320
aVAlso keep in mind that the advantages of O(log N) over O(N) don't really appear when your data sets are small
p24321
aVIf you're using a multi-way tree to store the fifteen people in your address book, it's probably overkill
p24322
aVThe advantages come when you're storing something like every order from your hundred thousand customers over the last ten years
p24323
aVThe whole point of big-O notation is to indicate what happens as the N approaches infinity
p24324
aVSome people may disagree but it's even okay to use bubble sort if you're sure the data sets will stay below a certain size, as long as nothing else is readily available :-)
p24325
aV*a Actually, that's not quite true since there are uses for non-balanced trees as well
p24326
aVBut it is funny and, since the vast majority of binary trees are either balanced or small (where balancing doesn't matter so much), I'll let it stand
p24327
as(dp24328
g16
V14860
p24329
stp24330
a((dp24331
g2
(lp24332
VThe following (pure ) script will do it:
p24333
aVFor the input file ():
p24334
aVhello
p24335
aVhai
p24336
aVit produces:
p24337
aVhello name in batch file
p24338
aVhai name in batch file
p24339
aVI gather you'd need to adjust the "name in batch file" bit of the script to be something more suitable (like  for example)
p24340
aVUpdate:
p24341
aVProvided you have correctly created the  variable before entering the  loop, you can also use variables for the name
p24342
aVFor example, the following script:
p24343
aVallows:
p24344
aVc:\u005cpax>
p24345
aV\u005cgo
p24346
aVcmd
p24347
aVEnter name: Pax
p24348
aVhello Pax
p24349
aVhai Pax
p24350
aVc:\u005cpax> _
p24351
as(dp24352
g16
V14860
p24353
stp24354
a((dp24355
g2
(lp24356
VYou cannot ensure the numbers are random simply because random numbers are, well, random
p24357
aVThe chances of getting a string of one million consecutive 9's is the same as getting any other specific one-million-long sequence
p24358
aVThe one thing you can check for is correct distribution over a large sample set
p24359
aVRun a sizeable test and work out the relative occurrences of each possible outcome
p24360
aVOver a large enough sample, they should be roughly the same
p24361
aVOne other possibility is to test for non-repeatability
p24362
aVIdeally, random numbers should not depend on the numbers that came before
p24363
aVVery simple (linear congruential) PRNGs will most likely give you the same sequence of numbers eventually but over a large enough set that you probably won't care (unless you're serious about randomness)
p24364
as(dp24365
g16
V14860
p24366
stp24367
a((dp24368
g2
(lp24369
V10
p24370
ag2592
ag2592
aV0/8 is reserved for internal private networks
p24371
aVIf you are in a corporate environment, there will be frequent IP addresses handed out in this range
p24372
aVWhile they're not supposed to got out over the internet, big companies will have packets using that range flying all over the place
p24373
aVIf you're receiving this in a hosted environment (i
p24374
ag75
aV, your web app faces the internet), it's possible that your hosting provider is hitting your page
p24375
aVI've seen this happen with performance monitoring tools that were installed to monitor service level agreements
p24376
as(dp24377
g16
V14860
p24378
stp24379
a((dp24380
g2
(lp24381
VRecursion is a tool like any other
p24382
aVYou don't have to use every tool that's available but you should at least understand it
p24383
aVRecursion makes a certain class of problems very easy and elegant to solve and your "hatred" of it is irrational at best
p24384
aVIt's just a different way of doing things
p24385
aVThe "canonical" recursive function (factorial) is shown below in both recursive and iterative forms and, in my opinion, the recursive form more clearly reflects the mathematical definition of
p24386
aVPretty much the only place I would prefer an iterative solution to a recursive one (for solutions that are really well suited for recursion) is when the growth in stack size may lead to problems (the above factorial function may well be one of those since stack growth depends on  but it may also be optimised to an iterative solution by the compiler)
p24387
aVBut this stack overflow rarely happens since:
p24388
aVMost stacks can be configured where necessary
p24389
aVRecursion (especially tail-end recursion where the recursive call is the last thing that happens in the function) can usually be optimised to an iterative solution by an intelligent compiler
p24390
aVMost algorithms I use in recursive situations (such as balanced trees and so on, as you mention) tend to be  and stack use doesn't grow that fast with increased data
p24391
aVFor example, you can process a 16-way tree storing two billion entries with only seven levels of stack (167 =~ 2
p24392
aV6 billion)
p24393
as(dp24394
g16
V14860
p24395
stp24396
a((dp24397
g2
(lp24398
VWell, the answer appears to be in the thread for your first link:
p24399
aVIt's unfortunately not as simple as finding someone who wants a feature to be a certain way
p24400
aVMerging these two options into one eliminated a class of bugs that originated from setting them differently; we didn't consider changing this simply because we felt one fewer text box would constitute a significant improvement
p24401
aVIn the absence of a critical mass of users who voiced negative feedback, we made the decision to update the options
p24402
aVAnd those 8 comments weren't the only feedback they got, apparently
p24403
aVQuoting yet again:
p24404
aVRegarding user feedback on the decision to merge these two options, we asked a wide variety of people and phased in the changes gradually
p24405
aVWe blogged publicly about the potential change on the VS Editor blog (admittedly not the most widely-read VS blog, but readership was significant enough to generate discussion): http://blogs
p24406
aVmsdn
p24407
aVcom/vseditor/archive/2009/03/19/how-do-you-use-tab-size-and-indent-size
p24408
aVaspx
p24409
aVWe solicited feedback from members of Microsoft's MVP program, who spend a lot of time in Visual Studio, and from many internal teams and developers who use Visual Studio
p24410
aVWe also phased in the change gradually: for Beta 1, Indent Size was disabled/grayed out and always set to the same value as tab size
p24411
aVIn the absence of negative customer feedback on this, we merged the Tab Size and Indent Size options into a single \u201cTab and indent size\u201d option for Beta 2
p24412
aVI'm not saying it's a good idea, just that Microsoft appears not to have just inflicted this on their users without at least some consultation
p24413
aVI'm no Microsoft fan-boy in case you think I'm an apologist, other than XP at work, I pretty much use al free software
p24414
aVIt just seems to me they may not be totally in the wrong here
p24415
aVAnd I have had experiences with customers trying to get changes made to software late in the cycle - it's a royal PITA :-)
p24416
aVMore worrying to me would be the comment from your second link:
p24417
aVVisual Studio 2010 can support multiple font faces and multiple font heights
p24418
aVColour and italicise my code all you want, but you'll have to prise my beloved fixed width font from my cold dead hands
p24419
aVAnd I've just noticed that MS went out of their way to actually give a workaround to those people who vehemently want the setting kept separate
p24420
aVThe comment on the second link, dated Dec 16 2009, gives an editor extension that allows different values to be set for tabs and indents
p24421
aVThis is pretty darn good service if you ask me
p24422
as(dp24423
g16
V14860
p24424
stp24425
a((dp24426
g2
(lp24427
VQuite simply, where  is the floating point length:
p24428
as(dp24429
g16
V14860
p24430
stp24431
a((dp24432
g2
(lp24433
VWindows itself has these tools
p24434
aVUse ftp to get the file
p24435
aVYou can set up a file called snatch
p24436
aVftp:
p24437
aV(with suitable values of USER and PASSWORD) then have a command file () run by scheduled tasks on whatever schedule you desire:
p24438
aVI have to say though that generating 100M an hour is not a very good idea for any log file
p24439
aVIt may be that this is necessary but you should examine why so much data is being generated and whether it is really necessary
p24440
aVShifting 100M an hour across the network is also something I'd be circumspect of as well
p24441
aVI know you stated that you don't have a lot of access to the UNIX side but I'd still be looking at that as the first choice, especially since the text processing tools under UNIX are more than up to the task
p24442
aVAt a bare minimum, think about filtering the log file a little on the UNIX side before copying it to your own box
p24443
aVYour network administrators will be eternally grateful :-)
p24444
as(dp24445
g16
V14860
p24446
stp24447
a((dp24448
g2
(lp24449
VYou can do  with nested conditions:
p24450
aVor:
p24451
aVYou can do  with a separate variable:
p24452
as(dp24453
g16
V14860
p24454
stp24455
a((dp24456
g2
(lp24457
VI'd rather explain it in terms totally unrelated to computers since that's often the best way to get an idea across
p24458
aVI have a five-year-old son and a three-year-old daughter
p24459
aVBoth want to do the same colouring-in book
p24460
aVThe daughter grabs the pencils while the son grabs the book
p24461
aVNeither will relinquish what they have until they get the other
p24462
aVThat's deadlock
p24463
aVIt doesn't get any simpler than that
p24464
aVYour processes (or children) are stuck waiting for each other and will continue waiting indefinitely until some other superior process (like Dad) comes in and breaks the deadlock
p24465
aVAt least with the children, you can (sometimes) get one of them to see reason and relinquish their lock
p24466
aVThis is not usually possible with computers since the processes are not doing anything except waiting for that resource (although sometimes children enter this state as well)
p24467
aVFollowing one rule will guarantee that deadlock cannot occur:
p24468
aVHave all threads of execution allocate resources in the same order
p24469
aVFollowing some extra rules will make your threads less likely to slow each other down but keep in mind that the above rule should take precedence over all others:
p24470
aVAllocate resources only when you need them
p24471
aVRelease them as soon as you're finished with them
p24472
as(dp24473
g16
V14860
p24474
stp24475
a((dp24476
g2
(lp24477
VIf you are sure that you "have freed all malloc'ed memory", then, no there's nothing wrong
p24478
aVYou are not directly responsible for memory leaks in components from other parties even though you may often have to work around them
p24479
aVThe reports from valgrind don't really give enough information for us to help you out
p24480
aVI've seen memory checking tools come up with false positives many times but I don't have any direct experience with valgrind itself
p24481
as(dp24482
g16
V14860
p24483
stp24484
a((dp24485
g2
(lp24486
VA web hosting provider is unlikely to give you compilers on the hosting box for your use
p24487
aVThey will expect you to do your development on your own box and copy the executables to theirs
p24488
aVThat's if they even allow arbitrary code running on their machines at all - they may if you get your own VM but, if you're sharing resources with any of their other customers, I'll guarantee you'll be restricted in what you're allowed to put on their machine (and, unless you're in your own little VM, it's rightly still their machine - all you do is pay for the ability to use their server infrastructure)
p24489
as(dp24490
g16
V14860
p24491
stp24492
a((dp24493
g2
(lp24494
VWell, the  and  instructions are pseudo instructions which should be recognised by the assembler but it's possible your environment needs to do something to define them (it wouldn't surprise me if they were macros)
p24495
aVTry changing them to their "real" form:
p24496
aVOr whatever your particular MIPS assembler uses for  and
p24497
aVThe  instruction I've never seen before
p24498
aVAre you sure that's not a typo for
p24499
aVAnd I think  should be
p24500
aVMost CPUs would use the same instruction in different ways, an example being that both decrementing a register down to zero (z) and comparing a register with something (eq) would set the zero flag
p24501
aVNone of ,  or  show up in the MIPS assembler Wikipedia page although the latter two are listed as pseudo-instructions in Patterson & Hennessy
p24502
aVSo it's looking more and more like there's some extra set-up you need to do to get the pseudo-instructions working
p24503
as(dp24504
g16
V14860
p24505
stp24506
a((dp24507
g2
(lp24508
VI don't know if there's a better way in C++ but the best way in C (which will also work in C++) is one of the ones you've listed
p24509
aVHave a separate compilation unit (eg,) holding just the data:
p24510
aVand a header file (eg,) declaring it so it can be used elsewhere:
p24511
aVThen you just have to ensure any compilation unit that wants to use it include the header file (eg,), and any executable that wants to use it link with the separate compilation unit (eg,)
p24512
aVThis gives you one copy of the variable, accessible anywhere
p24513
aVOf course, you could just define it in the header file as static and have one copy per compilation unit
p24514
aVThat would simplify what files you need to have and the static would ensure there's no doubly-defined symbols
p24515
aVBut that's not something I'd ever recommend
p24516
aVI don't know why you state:
p24517
aVbut I'm afraid I'll get a linker error if I breath on it wrong
p24518
aVThis is accepted practice from long ago and you should know how all these things fit together if you wish to call yourself a C++ programmer (no insult intended)
p24519
as(dp24520
g16
V14860
p24521
stp24522
a((dp24523
g2
(lp24524
VA cycle, when doing a recursive copy, is visiting the same "file" twice
p24525
aVThis can be caused by links being set up in a circular manner
p24526
aVFor example, if you make the directory :
p24527
aVthen symbolically link a file under there to that directory:
p24528
aVyou basically end up with a circular reference
p24529
aVThat means you can do:
p24530
aVto your heart's content and never leave the  directory
p24531
aVThis causes problems for a recursive copy since it would effective be an infinite loop
p24532
aVYou can use  or  (on Solaris 10 and above, I think) to not follow the symlinks
p24533
aVSpecifically, there are three flags you may be interested in:
p24534
aV: If the source_file operand is a symbolic link, then cp copies the file referenced by the symbolic link for the source_file operand
p24535
aVAll other symbolic links encountered during traversal of a file hierarchy are preserved
p24536
aVThis means that if the file/directory you specify as the source is a link, it will copy the target of that link
p24537
aVAll symbolic links underneath that source will not be followed
p24538
aV: Copies files referenced by symbolic links
p24539
aVSymbolic links encountered during traversal of a file hierarchy are not preserved
p24540
aVThis will follow all symbolic links under the source
p24541
aV: Copies symbolic links
p24542
aVSymbolic links encountered during traversal of a file hierarchy are preserved
p24543
aVI think this is identical to  but also preserves the symbolic link for the specific source
p24544
as(dp24545
g16
V14860
p24546
stp24547
a((dp24548
g2
(lp24549
VNormally, you would use:
p24550
aVor something similar (i
p24551
ag75
aV, there may be other limiting clauses like  for regular files or  to do current directory only, no subdirectories)
p24552
aVThe  only gets those files whose modification date is 3 days age or more
p24553
aVExecute  on your system for full details
p24554
aVWhether Solaris has the same features as GNU find I don't know
p24555
aVIt may be more limited (or better)
p24556
aVUpdate: Please, in the name of whatever gods you worship, please test the command first with  instead of
p24557
aVI take no responsibility for the destruction of your files if you trust the advice of "some random guy on the net who may or may not have your best interests at heart" :-)
p24558
aVAnd, before anyone jumps in and berates me for not using  (or, better yet,  with  where available), I know
p24559
aVBut it's not relevant to the specific question at hand
p24560
aVThe OP can ask another question if and when the performance of the  is a problem
p24561
aVIf you have a specific file format with the date in it (as you indicate in your comment), you can actually use  under
p24562
aVConsider the following script:
p24563
aVOther than a slight annoyance where you may have up to six days of files left there on month boundaries, this does what you need
p24564
aVYou could of course make the code handling the month boundaries a little more intelligent if that's really important
p24565
aVJust run this script on your box each day and it will clear out files on the target box by using standard  tooling
p24566
aVI still think it's easier to run a  on the server box but I'll present this option if that avenue is not available
p24567
as(dp24568
g16
V14860
p24569
stp24570
a((dp24571
g2
(lp24572
VRegular expressions are rarely suitable for checking ranges since for ranges like 27 through 9076 inclusive, they become incredibly ugly
p24573
aVIt can be done but you're really better off just doing a regex to check for numerics, something like:
p24574
aVwhich should work on just about every regex engine, and then check the range manually
p24575
aVIn toto:
p24576
aVWhat your particular regex  is checking for is exactly four occurrences of any of the following character:  - in other words, exactly four digits drawn from
p24577
aVWith letters before an after, you will need to modify the regex and check the correct substring, something like:
p24578
aVAs an aside, a regex for checking the range 27 through 9076 inclusive would be something like this hideous monstrosity:
p24579
aVI think that's substantially less readable than using  then checking if it's between 27 and 9076 with an  statement
p24580
as(dp24581
g16
V14860
p24582
stp24583
a((dp24584
g2
(lp24585
VSometimes the easiest solution (if you want nice-looking queries) is to re-engineer the schema
p24586
aVIt may well be that the best solution is to change your table to be:
p24587
aVwith suitable indexes on date and currency for performance
p24588
aVThat's the way it should be in 3NF since the rates depend on each other, violating the 3NF rule:
p24589
aVEvery column must depend on the key, the whole key and nothing but the key, so help me Codd
p24590
aV(I love that little ditty)
p24591
aVAnother alternative is to provide a view which does the same thing, then you query the view
p24592
aVIt's no less work for the DBMS but your query at least looks prettier (the  still looks ugly though)
p24593
aVOr you could just accept the fact that some queries look ugly, document it well, and move on :-)
p24594
as(dp24595
g16
V14860
p24596
stp24597
a((dp24598
g2
(lp24599
V is a test for equality
p24600
aVis an assignment
p24601
aVAny good C book should cover this (fairly early on in the book I would imagine)
p24602
aVFor example:
p24603
aVJust watch out for the heinous:
p24604
aVwhich is valid C and frequently catches people out
p24605
aVThis actually assigns 4 to the variable  and uses that as the truth value in the  statement
p24606
aVThis leads a lot of people to use the uglier but safer:
p24607
aVwhich, if you accidentally use  instead of , is a compile-time error rather than something that will bite you on the backside while your program is running :-)
p24608
aVThe logical-or operator is two vertical bar characters, one after the other, not a single character
p24609
aVHere it is lined up with a logical-and, and a variable called :
p24610
aVNo magic there
p24611
as(dp24612
g16
V14860
p24613
stp24614
a((dp24615
g2
(lp24616
VYou have no specific subcommands listed for  so I'm assuming it's using the default, somewhere (such as )
p24617
aVMake should exit if any of the subcommands return a non-zero exit code, unless the command begins with
p24618
aVCheck the actual command that's being used for the  target
p24619
aVWhether there's a previously built file shouldn't matter,  should not carry on after an error condition
p24620
as(dp24621
g16
V14860
p24622
stp24623
a((dp24624
g2
(lp24625
VIn the general case, the linker will only bring in what it needs
p24626
aVOnce the compiler phase has turned your source code into an object file, it's treated much the same as all other object files
p24627
aVYou have:
p24628
aVthe C start-up code which prepares the execution environment (sets up argv, argv and so on) then calls your  or equivalent
p24629
aVyour code itself
p24630
aVwhatever object files need to be dragged in from libraries (dynamic linking is a special case of linking that happens at runtime and I won't cover that here since you asked specifically about static linking)
p24631
aVThe linker will include all the object files you explicitly specify (unless it's a particularly smart linker and can tell you're not using the object file)
p24632
aVWith libraries, it's a little different
p24633
aVBasically, you start with a list of unresolved symbols (like )
p24634
aVThe linker will search all the object files in all the libraries you specify and, when it finds an object file that satisfies that symbol, it will drag it in and fix up the symbol references
p24635
aVThis may, of course, add even more unresolved symbols if, for example, there was something in the object file that relies on the C  function (unlikely but possible)
p24636
aVThe linker continues like this until all symbols are satisfied (when it gives you an executable) or one cannot be satisfied (when it complains to you bitterly about your coding practices)
p24637
aVSo as to what is in your executable, it may be the entire iostream library or it may just be the minimum required to do what you asked
p24638
aVIt will usually depend on how many object files the iostream library was built into
p24639
aVI've seen code where an entire subsystem went into one object file so, that if you wanted to just use one tiny bit, you still got the lot
p24640
aVAlternatively, you can put every single function into its own object file and the linker will probably create an executable as small as possible
p24641
aVThere are options to the linker which can produce a link map which will show you how things are organised
p24642
aVYou probably won't generally see it if you're using the IDE but it'll be buried deep within the compile-time options dialogs under MSVC
p24643
aVAnd, in terms of your added comment, the code:
p24644
aVwill quite possibly bring in sizeable chunks of both the iostream and string processing code
p24645
as(dp24646
g16
V14860
p24647
stp24648
a((dp24649
g2
(lp24650
VCan't say for sure but I do know that the ISO C standard doesn't distinguish between the binary and non-binary modes when calling  and yet Windows does
p24651
aVIt's likely that the Python code just uses  under the covers (since it's written in C) and this is being opened in Windows in non-binary mode
p24652
aVThis will most likely convert line end characters () and possibly others
p24653
aVIf you yourself specify the mode as 'rb' on your open statement, that should fix it:
p24654
as(dp24655
g16
V14860
p24656
stp24657
a((dp24658
g2
(lp24659
VWhy don't you just XOR your arbitrary sequence into a type of the right length (padding it with part of itself if necessary)
p24660
aVFor example, if you want the seed "paxdiablo" and your PRNG has a four-byte seed:
p24661
aVI know that seed looks artificial (and it is since the key is chosen from alpha characters)
p24662
aVIf you really wanted to make it disparate where the phrase is likely to come from a similar range, XOR it again with a differentiator like  or :
p24663
aVI prefer the second one since it will more readily move similar bytes into disparate ranges (the upper bits of the bytes in the differentiator are disparate)
p24664
as(dp24665
g16
V14860
p24666
stp24667
a((dp24668
g2
(lp24669
VIf there is a chance you'll get two added with the same date, you'll probably need:
p24670
aV(note the 'descending' clause on both fields)
p24671
aVHowever, you will need to take into account what you want to happen when someone adds an adjusting entry of the 2nd of February which is given the date 31st January to ensure the month of January is complete
p24672
aVIt will have an ID greater than those made on the 1st of February
p24673
aVGenerally, accounting systems just work on the date
p24674
aVPerhaps if you could tell us why the order is important, we could make other suggestions
p24675
aVIn response to your comment:
p24676
aVI would love to hear any other ideas or advice you might have, even if they're off-topic since I have zero knowledge of accounting-type database models
p24677
aVI would provide a few pieces of advice - this is all I could think of immediately, I usually spew forth much more "advice" with even less encouragement :-) The first two, more database-related than accounting-relared, are:
p24678
aVFirst, do everything in third normal form and only revert if and when you have performance problems
p24679
aVThis will save you a lot of angst with duplicate data which may get out of step
p24680
aVEven if you do revert, use triggers and other DBMS capabilities to ensure that data doesn't get out of step
p24681
aVAn example, if you want to speed up your searches on a last_name column, you can create an upper_last_name column (indexed) then use that to locate records matching your already upper-cased search term
p24682
aVThis will almost always be faster than the per-row function
p24683
aVYou can use an insert/update trigger to ensure the upper_last_name is always set correctly and this incurs the cost only when the name changes, not every time you search
p24684
aVSecondly, don't duplicate data even across tables (like your current schema) unless you can use those same trigger-type tricks to guarantee the data won't get out of step
p24685
aVWhat will your customer do when you send them an invoice where the final balance doesn't match the starting balance plus purchases
p24686
aVThat's not going to make your company look very professional :-)
p24687
aVThirdly (and this is more accounting-related), you generally don't need to worry about the number of transactions when calculating balances on the fly
p24688
aVThat's because accounting systems usually have a roll-over function at year end which resets the opening balances
p24689
aVSo you're usually never having to process more than a year's worth of data at once which, unless you're the US government or Microsoft, is not that onerous
p24690
as(dp24691
g16
V14860
p24692
stp24693
a((dp24694
g2
(lp24695
VI don't know about other DBMS' but DB2/z, for one,  does this just fine
p24696
aVIt's not required to have the column in the select portion but, of course, it does have to extract the data from the table in order to aggregate so you're probably not saving any time by leaving it off
p24697
aVYou should only select the columns that you need, aggregation of the data is a separate task from that
p24698
aVI'm pretty certain the SQL standard allows this (although that's only based on the knowledge that the mainframe DB2 product follows it pretty closely)
p24699
as(dp24700
g16
V14860
p24701
stp24702
a((dp24703
g2
(lp24704
VIf you really want to be safe, record your own sounds - that way, you know that the copyright holder has given you permission to use them
p24705
aVUnless you have a blanket release of copyright on those (or other) files, or an explicit licence to use them for any purpose, you can still get into trouble
p24706
aVAnd I don't mean something wishy-washy like:
p24707
aVTo the best of our knowledge, blah blah blah
p24708
aVThat's unlikely to hold up in a court of law :-)
p24709
aVThe main problem with digital copies is that they're perfect reproductions, meaning the copyright holder can easily tell that you've ripped off their work
p24710
aVNot that I would suggest this as an option, since it's still probably a derivative work, but if you really can't record your own sounds, you might want to think about editing the sounds somewhat to make that harder, ideally fed from the computer out through a speaker back into a microphone and into another file :-)
p24711
aVOr, look into sites on the web where they actually state that they own the copyright and license you to use the files as you see fit
p24712
aVThat way, you at least have some protection if they (or someone else) comes back later to collect payment
p24713
aVOne example is Partners In Rhyme, which has a huge range of effects which they appear to own the copyright to, and with a generous royalty-free licence
p24714
aVThis was found as the second entry when googling  (this first was a rather useless, content-free tutorial on how to find public domain sound effects)
p24715
aVThere are plenty of other links bought up that you may wish to check as well
p24716
aVTo be safe, I'd actually print out the licence and screen dump the pages where you're downloading from but that's because I'm inherently paranoid :-)
p24717
as(dp24718
g16
V14860
p24719
stp24720
a((dp24721
g2
(lp24722
VOnly with trickery
p24723
aVThe function is generally not visible to the linker so it won't let you do it
p24724
aVBut, if you provide a function inside the same compilation unit (as the static function) which returns the address of that function:
p24725
aVIn :
p24726
aVIn :
p24727
aVThis will result in the static function  being called
p24728
as(dp24729
g16
V14860
p24730
stp24731
a((dp24732
g2
(lp24733
VYou'll probably find it's the "with CR line terminators" that gives the game away
p24734
aVIf you're working on a platform that uses newlines as line terminators, it will see your file as one big honkin' line
p24735
aVChange your input file so that it uses the correct line terminators
p24736
aVYour editor is probably more forgiving than your Python implementation
p24737
aVThe CR line endings are a Mac thing as far as I'm aware and you can use the  mode modifier to  to auto-detect based on the first line terminator found
p24738
as(dp24739
g16
V14860
p24740
stp24741
a((dp24742
g2
(lp24743
VYou could be sneaky:
p24744
aVor you could use  and  (or equivalent) depending on your execution environment but these aren't standard C so that might not be an option
p24745
aVThat's about all I've got other than incredibly non-portable stuffing around with the executable file or designing hideous macros (which would most likely boil down to the collection of  statements shown above anyway, or a function pointer array of some sort)
p24746
as(dp24747
g16
V14860
p24748
stp24749
a((dp24750
g2
(lp24751
VOne way would be to not reseed the random number generator every time you execute your code
p24752
aVCreate the generator and seed it once, then just continue to use it
p24753
aVThat's assuming you're calling that code multiple times within the same run
p24754
aVIf you're doing multiple runs (but still within the same second), you can use another differing property such as the process ID to change the seed
p24755
aVAlternatively, you can go platform-dependent, using either the Windows  returning a SYSTEMTIME structure with one of its elements being milliseconds, or the Linux  returning number of microseconds since the epoch
p24756
aVWindows:
p24757
aVLinux:
p24758
as(dp24759
g16
V14860
p24760
stp24761
a((dp24762
g2
(lp24763
VWith a simple two-column many-to-many mapping, I see no real advantage to having a surrogate key
p24764
aVHaving a primary key on  is guaranteed unique (assuming your  and  values in the referenced tables are unique) and a separate index on  will catch those cases where the opposite order would execute faster
p24765
aVThe surrogate is a waste of space
p24766
aVYou won't need indexes on the individual columns since the table should only ever be used to join the two referenced tables together
p24767
aVThat comment is not worth the electrons it uses, in my opinion
p24768
aVIt sounds like the author thinks the table is stored in an array rather than an extremely high performance balanced multi-way tree structure
p24769
aVFor a start, it's never necessary to store or get at the table sorted, just the index
p24770
aVAnd the index won't be stored sequentially, it'll be stored in an efficient manner to be able to be retrieved sequentially
p24771
aVIn addition, the vast majority of database tables are read far more often than written
p24772
aVThat makes anything you do on the select side far more relevant than anything on the insert side
p24773
as(dp24774
g16
V14860
p24775
stp24776
a((dp24777
g2
(lp24778
VThe problem is that you're using  inside a  loop
p24779
aVThis is evaluated when the loop is read (before any iterations at all)
p24780
aVIn other words, the entire loop, up to and including the closing parenthesis, is read and evaluated before executing
p24781
aVSo  will always be it's initial value no matter what you actually set it to within the loop
p24782
aVAn example should hopefully illustrate this:
p24783
aVwhich results in the unexpected (to some):
p24784
aVsimply because the  in the first echo statement is interpreted (i
p24785
ag75
aV, the entire  loop is interpreted) before any of it is run
p24786
aVYou need delayed expansion along with something that will force the value of  to be set to the first  regardless
p24787
aVUsing the  command and  instead of  will delay evaluation of  until each time the line is executed
p24788
aVIn addition, setting  initially to nothing and forcing it to be  when it is nothing will ensure the first value of  is loaded into
p24789
aVUsing the above code with this  file:
p24790
aVresults in the output of:
p24791
aVas expected or, for your sample data in another comment:
p24792
aVyou get:
p24793
as(dp24794
g16
V14860
p24795
stp24796
a((dp24797
g2
(lp24798
VPass it through multiple regexes if you can
p24799
aVIt'll be a lot cleaner than those look-ahead monstrosities :-)
p24800
aVThough some might consider it clever, it's not necessary to do everything with a single regex (or even with any regex, sometimes - just witness the people who want a regex to detect numbers between 75 and 4093)
p24801
aVWould you rather see some nice clean code like:
p24802
aVor something like:
p24803
aVI know which one I'd prefer to maintain :-)
p24804
as(dp24805
g16
V14860
p24806
stp24807
a((dp24808
g2
(lp24809
VIt's because the operations are a single atomic action - the current values of  and  are read first before any of the assignments are done
p24810
aVSo it's not so much:
p24811
aVbut more like:
p24812
aVKeep in mind that's just the conceptual view
p24813
aVIt's likely to be much more efficient under the covers
p24814
aVWithout that, you'd have to store the temporary yourself for every row, or just rename the columns :-)
p24815
as(dp24816
g16
V14860
p24817
stp24818
a((dp24819
g2
(lp24820
VThat actually looks like it should say:
p24821
aVGiven a linked list of T size , select first 2n nodes and delete last n nodes from them; Then do it for the next 2n nodes and so on
p24822
aVor:
p24823
aVGiven a linked list of T size , select first 2n nodes and keep first n nodes from them; Then do it for the next 2n nodes and so on
p24824
aVThat would mean select 1,2,3,4 then delete 3,4 (or keep 1,2 which is the same thing)
p24825
aVThen select 5,6,7,8, not possible so stop
p24826
as(dp24827
g16
V14860
p24828
stp24829
a((dp24830
g2
(lp24831
VHaving two ranges that overlap (in the input and record) is a little ticky but you should try:
p24832
aVThis will match if any price within your row min/max range is within your search min/max range (including when row min/max is entirely within search range) or if the entire search range is within your row range, which is what I think you were after
p24833
aVIn addition, you may want to rethink using  unless those  variable are actually allowed to have wild-cards
p24834
aVSome less intelligent DBMS' may not convert them into a more efficient  operation automatically
p24835
as(dp24836
g16
V14860
p24837
stp24838
a((dp24839
g2
(lp24840
VThe following level-limited recursive call will give the desired range without a backing table
p24841
aVWithout the limit on level, DB2 complains that the function may be infinitely recursive
p24842
aVThis gives:
p24843
aVas desired
p24844
as(dp24845
g16
V14860
p24846
stp24847
a((dp24848
g2
(lp24849
VYou can do this in O(n) in any language, basically as:
p24850
aVI'm assuming here that  is an O(1) operation, which it should be unless the implementer was brain-dead
p24851
aVSo with k steps each O(n), you still have an O(n) operation
p24852
aVWhether the steps are explicitly done in your code or whether they're done under the covers of a language is irrelevant
p24853
aVOtherwise you could claim that the C  was one operation and you now have the holy grail of an O(1) sort routine :-)
p24854
aVAs many people have discovered, you can often trade off space complexity for time complexity
p24855
aVFor example, the above only works because we're allowed to introduce the  and  variables
p24856
aVIf this were not allowed, the next best solution may be sorting the list (probably no better the O(n log n)) followed by an O(n) (I think) operation to remove the duplicates
p24857
aVAn extreme example, you can use that same extra-space method to sort an arbitrary number of 32-bit integers (say with each only having 255 or less duplicates) in O(n) time, provided you can allocate about four billion bytes for storing the counts
p24858
aVSimply initialise all the counts to zero and run through each position in your list, incrementing the count based on the number at that position
p24859
aVThat's O(n)
p24860
aVThen start at the beginning of the list and run through the count array, placing that many of the correct value in the list
p24861
aVThat's O(1), with the 1 being about four billion of course but still constant time :-)
p24862
aVThat's also O(1) space complexity but a very big "1"
p24863
aVTypically trade-offs aren't quite that severe
p24864
as(dp24865
g16
V14860
p24866
stp24867
a((dp24868
g2
(lp24869
VI'm not entirely sure I understand the problem
p24870
aVIf you wish to generate a different random number every two minutes, simply call your  function every two minutes
p24871
aVThis could be as simple as something like (pseudo-code):
p24872
aVIf you want to keep using the same random number for two minutes and generate a new one:
p24873
aVwhich will continue to return the same number for a two minute period
p24874
as(dp24875
g16
V14860
p24876
stp24877
a((dp24878
g2
(lp24879
VThis is not possible with standard printf semantics
p24880
aVIn, the past, I've had to do this by outputting to a string (with something like ) then post-processing the string
p24881
aVSomething like this is probably what you're looking for:
p24882
ag5385
aVThe code runs through each of it's arguments, morphing each one in turn
p24883
aVThe following transcript shows how it works:
p24884
aVYou should be aware however that, if using floats or doubles, you'll have to watch out for the normal floating point inaccuracies
p24885
aVOn my system 3
p24886
aV57 is actually 3
p24887
aV5699999999999998401, which won't be truncated at all
p24888
aVOf course, you can get around that problem by using a less-specific number of output digits in the , something less than the actual accuracy of the floating point point
p24889
aVFor example,  on my system outputs 3
p24890
aV5700000000 which will be truncated
p24891
aVAdding the following lines to :
p24892
aVwill result in the following added output:
p24893
aVas per your test data
p24894
aVOne other possibility (if your input range and precision can be controlled) is to use the  format specifier
p24895
aVThis outputs in either  format where the precision is the maximum number of digits (rather than fixed number like ) or exponential format ()
p24896
aVBasically, it prefers the non-exponential output format as long as all the information is shown
p24897
aVIt will switch to exponential only if that will deliver more information
p24898
aVA simple example is the format string  with  and
p24899
aVThe former would be printed as , the latter as
p24900
aVUpdate: for those more concerned about performance than robustness or readability, you could try the following (unnecessary in my opinion but to each their own):
p24901
aVIt may be faster but, given the extreme optimisations I've seen modern compilers do, you can never be too sure
p24902
aVI tend to code for readability first and only worry about speed when it becomes an issue (YAGNI can apply equally to performance as well as functionality)
p24903
as(dp24904
g16
V14860
p24905
stp24906
a((dp24907
g2
(lp24908
VWell, my first guess is that you haven't actually installed all of Cygwin
p24909
aVThe default installation does not install every single package, just a subset
p24910
aVThat's why I always changed the install type to 'Full' when I'm running
p24911
aVWhether gcc is included in the standard install, I don't know, since I never install the standard one
p24912
aVHowever, it should be in /usr/bin/gcc, the same as my system, and which is on your path
p24913
aVOpen up the bash shell and execute:
p24914
aVto see if it's there
p24915
as(dp24916
g16
V14860
p24917
stp24918
a((dp24919
g2
(lp24920
VYou could try subtracting (or adding for a negative number) a small delta that will have no effect on the rounding for numbers far enough away from the precision
p24921
aVFor example, if you're rounding with , try this version on Windows:
p24922
aVFloating point numbers are notoriously problematic if you don't know what's happening under the covers
p24923
aVIn that case, your best bet is to write (or use) a decimal type library to alleviate the problems
p24924
aVThe example program:
p24925
aVoutputs this in my Cygwin environment:
p24926
aVwhich is okay for your specific case (it's going the wrong way but should hopefully apply in the other direction as well: you need to test it) but you should check your entire possible input range if you want to be certain this will work for all your cases
p24927
aVUpdate:
p24928
aVEvgeny, based on your comment:
p24929
aVIt works for this specific case, but not as a general solution
p24930
aVFor instance if the number I want to format is 0
p24931
aV545 instead of 11
p24932
aV545 then '%
p24933
aV2f' % (0
p24934
aV545 - 0
p24935
aV001) returns "0
p24936
aV54", while '%
p24937
aV2f' % 0
p24938
aV545 on Linux correctly returns "0
p24939
aV55"
p24940
aVthat's why I said you would have to check the entire range to see if it would work, and why I stated a decimal data type would be preferable
p24941
aVIf you want decimal accuracy, that's what you'll have to do
p24942
aVBut you might want to consider the cases in that range where Linux goes the other way too (as per your comment) - there may be situation where Linux and Windows disagree in the opposite direction to what you've found - a decimal type probably won't solve that
p24943
aVYou may need to make your comparison tools a little more intelligent inasmuch as they can ignore a difference of 1 in the final fractional place
p24944
as(dp24945
g16
V14860
p24946
stp24947
a((dp24948
g2
(lp24949
VThe following complete program shows you how to access the seconds value:
p24950
aVIt outputs:
p24951
aVHow it works is as follows
p24952
aVit calls  to get the best approximation to the current time (usually number of seconds since the epoch but that's not actually mandated by the standard)
p24953
aVit then calls  to convert that to a structure which contains the individual date and time fields, among other things
p24954
aVat that point, you can just de-reference the structure to get the fields you're interested in ( in your case but I've shown a few of them)
p24955
aVKeep in mind you can also use  instead of  if you want Greenwich time, or UTC for those too young to remember :-)
p24956
as(dp24957
g16
V14860
p24958
stp24959
a((dp24960
g2
(lp24961
VWell, ideally, you'd wait until Intel fixes the bug or provides a workaround :-)
p24962
aVBut if you want to detect  and  from IEEE754 values, map it to an integer (32 or 64 bit depending on whether it's single or double precision) and check if the exponent bits are all 1
p24963
aVThis indicates those two cases
p24964
aVYou can distinguish between  and  by checking the high order bit of the mantissa
p24965
aVIf it's 1, that's  otherwise
p24966
aVis dictated by the sign bit
p24967
aVFor single precision (32-bit values), the sign is the high-order bit (b31), exponent is the next eight bits (plus a 23-bit mantissa)
p24968
aVFor double precision, the sign is still the high-order bit but the exponent is eleven bits (plus 52 bits for the mantissa)
p24969
aVWikipedia has all the gory details
p24970
aVThe following code shows you how the encoding works
p24971
aVand it outputs:
p24972
aVJust keep in mind that this code (but not the method) depends a great deal on the sizes of your longs which is not overly portable
p24973
aVBut, if you have to bit-fiddle to get the information, you've already entered that territory :-)
p24974
aVAs an aside, I've always found Harald Schmidt's IEEE754 converter very useful for floating point analysis
p24975
as(dp24976
g16
V14860
p24977
stp24978
a((dp24979
g2
(lp24980
VHere are your specific problems:
p24981
aVYou define  twice (a86 will barf on that)
p24982
aVYou call int21 fn9 with the same value of msg so you're not printing the two messages out, just two copies of the first
p24983
aVYou don't have a newline character in either message so they'll abut each other rather than be on separate lines
p24984
aVThe solutions to those points (without providing the actual code)
p24985
aVLabel the second message as
p24986
aVLoad  into dx before calling int21 for the second time
p24987
aVChange the messages to put a newline before the '$' symbol (or at least the first one)
p24988
aVUpdate: Since some other helpful soul has already provided source, here's my solution
p24989
aVI would suggest you learn from this and modify your own code to do a similar thing
p24990
aVIf you copy it verbatim from a public site for classwork, you'll almost certainly be caught out for plagiarism:
p24991
aVThis outputs:
p24992
as(dp24993
g16
V14860
p24994
stp24995
a((dp24996
g2
(lp24997
VGiven your data structures representing a node on the stack, and the actual stack itself:
p24998
aVyou would initialise a stack as follows:
p24999
aVThis basically gives you an empty stack
p25000
aVI'm going to use  to decide if the stack is empty - you could use either  or  (as  or  respectively) to do that job but it's a good idea to choose one and stick with it in case you ever write some buggy code in future where the cached count and actual count get out of step :-)
p25001
aVTo push a node onto the stack, it's a simple operation of:
p25002
aVallocate the new node and set the payload (1)
p25003
aVpoint the new node's link to the current head
p25004
aVpoint the head to that new node (3)
p25005
aVincrement the count (4)
p25006
aVThe following code shows how you can do it:
p25007
aVThis will push onto either an empty stack or a populated one
p25008
aVThe edge case of an empty stack will see  set to , then  set to , which is the correct behaviour
p25009
aVTo pop a node off the stack:
p25010
aVsave the current head (1)
p25011
aVif the current head isn't NULL, advance head to its link (and decrement count)
p25012
aVreturn the saved current head (3)
p25013
aVwhich , translated to code, is:
p25014
aVThis returns either the address of the popped node, or  if the stack was empty
p25015
aVThe whole set of operations could be encapsulated as follows
p25016
aVHopefully the comments will make it self-explanatory in conjunction with the comments above but feel free to raise any concerns and I'll address them with an edit
p25017
aVThe reason I've insisted that a stack must be empty before deleting is because the code doesn't know for certain what the payload is
p25018
aVIt could be a simple pointer to a block of memory (shallow) in which case you could just use:
p25019
aVbut, if it's a pointer to memory holding other pointers to memory, it's more problematic to automatically free the memory it references (it would probably be best done as a callback to the caller of the API since it would be the only beast that knew for sure how to properly free the memory)
p25020
aVFar simpler to make that a pre-requisite on the caller up front
p25021
as(dp25022
g16
V14860
p25023
stp25024
a((dp25025
g2
(lp25026
VThis is covered in ISO C11  though it's largely unchanged from earlier standards
p25027
aVThat states, in paragraph :
p25028
aVAn integer character constant has type int
p25029
aVThe value of an integer character constant
p25030
aVcontaining a single character that maps to a single-byte execution character is the
p25031
aVnumerical value of the representation of the mapped character interpreted as an integer
p25032
as(dp25033
g16
V14860
p25034
stp25035
a((dp25036
g2
(lp25037
VPython is a language that relies heavily on indentation to decide program structure unlike C and some other languages that use braces for this purpose
p25038
aVWhen you have a statement like:
p25039
aVit will complain because there's no indented statement for the
p25040
aVYou would need to fix it to be:
p25041
aVThat sounds like the sort of error you have, though it may have been more obvious had you posted the actual code
p25042
aVWhen stating a problem, it's a good idea to give the code and explain what the expected behaviour was and how that related to the actual behaviour
p25043
aVYou'll make the lives of those trying to help you out that much easier :-)
p25044
aVAlso keep in mind that you may get this problem even if your code looks right
p25045
aVMixing spaces and tabs in your source code can often lead to this
p25046
as(dp25047
g16
V14860
p25048
stp25049
a((dp25050
g2
(lp25051
VYou can run it through a debugger or you can run it through that bit of wetware inside your skull - both will show you that it works fine
p25052
aVFor example, let's start with the list:
p25053
aVRunning that list through your statements:
p25054
aVsets  to 47
p25055
aVis non-zero so enter loop
p25056
aVsets  to NULL
p25057
aVwill delete the
p25058
aVsets  to NULL
p25059
aVis now NULL (0) so exit loop
p25060
aVThere you go, you've deleted the only entry in the list and  is now set to NULL
p25061
aVThat's all you need to do
p25062
aVYou can do a similar thing with a longer list or an empty list, you'll find it's still okay (there's no real difference between a one-element list and a fifty-element list)
p25063
aVAs an aside, I'm not a big fan of treating pointers as booleans - I'd rather write it as something like:
p25064
aVIt makes the code read better in my opinion and you don't really sacrifice any performance (unless you have a brain-dead compiler)
p25065
aVBut that's a matter of taste
p25066
aVRe your comment:
p25067
aVThe thing that concerns me is reaching the very last node
p25068
aVThe condition "head;" should check that it is not null, but I'm not sure if it will work
p25069
aVIt will work
p25070
aVA value of zero will be treated as false so you'll find that you never dereference head->next when head is NULL simply because you will have exited the loop body before that point (or not even entered the body if the list is empty)
p25071
aVAny other pointer value will be treated as true and you will enter or continue the loop body
p25072
as(dp25073
g16
V14860
p25074
stp25075
a((dp25076
g2
(lp25077
VNo
p25078
aVYou can make it more difficult to decompile but you cannot prevent it
p25079
aVMy advice is to stop wasting your time and instead concentrate on delivering a fantastic product with ever-improving features
p25080
aVThen people will be willing to pay for it
p25081
aVYour main problem is that the only way to make your code un-decipherable is to make it un-runnable
p25082
aVAnything that can be loaded into a PC can be cracked
p25083
aVThe people that do reverse engineering for fun, profit or fame are generally very good at it and will really not be the least bit phased by anything you do to try and stop them
p25084
aVThey have access to tools that make the job of deciphering your code far easier than the job you will have obfuscating it :-) Far better to convince the world at large that your software is worth buying, and seeing piracy as an opportunity to possibly convert "thieves" to genuine users
p25085
aVFor example, find out why they're not paying for your software and try to fix that
p25086
aVYou'll never convert 100% of the people, some will pirate your code just for the fun of it
p25087
aVCheck out the series of articles running over on techdirt concerning CwF+RtB (connect with fans plus reason to buy)
p25088
aVI've found many of the points raised there could be applicable to the software industry
p25089
as(dp25090
g16
V14860
p25091
stp25092
a((dp25093
g2
(lp25094
VA pipeline with ,  and  will do the trick:
p25095
aVgives:
p25096
aVas expected
p25097
aVThe  will pull out the three fields and print them with  between them:
p25098
aVThe  will strip out all  sequences where  is any two characters (,  and  in this particular case):
p25099
aVThe  will evaluate that and give you the answer:
p25100
as(dp25101
g16
V14860
p25102
stp25103
a((dp25104
g2
(lp25105
VBased on your requirements, I would say Swing
p25106
aVSWT has a more platform-specific look about it but Java ships with Swing built-in, there's no messing about with external libraries as with SWT although the use of Eclipse may make that much easier (I still develop quite a bit of my stuff from the command line unfortunately)
p25107
aVThey're both easy in terms of use (well, easy once you get used to layout managers) and will work fine under both your desired platforms but since the only differentiator you seem to care about is the "without any additional tricks, settings and installations", I would stick with Swing
p25108
aVThat's my advice
p25109
aVFeel free to accept or ignore or even call me an old coot
p25110
aVI won't take offence :-)
p25111
as(dp25112
g16
V14860
p25113
stp25114
a((dp25115
g2
(lp25116
VThat would be the command language or batch language, also called  unless you're really on MS-DOS
p25117
aVAnd the same commands you use at the command line are available to those batch files you discuss even though there's slight differences such as the use of  for  variables inside the batch files
p25118
aVIt's come a long way since the bad old days of MS-DOS batch programming but it still doesn't come close to the ease of use of  or  under UNIX
p25119
aVI suspect most modern batch programs under Windows will now be using PowerShell
p25120
as(dp25121
g16
V14860
p25122
stp25123
a((dp25124
g2
(lp25125
VThe various members of the  family, derived from C where they first appeared (though they hark back to the olden days of BCPL's  call along that particular lineage), include:
p25126
aVprintf    - print formatted (to standard output)
p25127
aVfprintf   - file printf (to a file handle)
p25128
aVsprintf   - string printf (to a string)
p25129
aVsnprintf  - sprintf with added overflow protection
p25130
aVIn addition, there are variants of those starting with  (as in ) which can take variable arguments like  itself
p25131
aVBy that I mean that they pass around a  argument rather than a series of arguments, allowing you to write your own -like function
p25132
aVI've used this before when developing logging libraries in the past
p25133
as(dp25134
g16
V14860
p25135
stp25136
a((dp25137
g2
(lp25138
VThere is no portable way of doing this
p25139
aVNeither the C nor C++ standard require the  array to hold this information and there are no library routines in the standard libraries that provide it
p25140
aVYou will need to find a non-portable way of obtaining this information in a platform-specific way, such as  under Windows or reading  under Linux
p25141
aVIn any case, it's actually a bad idea to store configuration information with the executable since that means it's the same for all users
p25142
aVThe UNIX way of doing this is to store program-specific information in the  tree and user-specific info in the user's home directory
p25143
aVFor example, for your application called , the user's configuration file could be called  or
p25144
aVFor Windows, you should be storing program-specific information in the registry (HKLM) and user-specific information either in the registry (HKCU) or in the user's own areas (e
p25145
ag1775
aV,  although the right way to do that is with  passing  or (Vista and later) with known folder IDs, though the old method still works on Vista as a stub function)
p25146
as(dp25147
g16
V14860
p25148
stp25149
a((dp25150
g2
(lp25151
VSince ROT13 is out because it only affects alphas, why not just implement something across a larger character set
p25152
aVSet up a  array of characters containing your entire printable character set and a  array containing the same characters in a different order
p25153
aVThen for every character in your string, if it's in the  array, replace it with the equivalent position in the  array
p25154
aVThis yields no compression at all but will satisfy all your requirements (shorter or same length, disguised string)
p25155
aVIn pseudo-code, something like:
p25156
as(dp25157
g16
V14860
p25158
stp25159
a((dp25160
g2
(lp25161
VYou can use standard SQL for this, specifically the  statement
p25162
aVSay you have the following table:
p25163
aVYou can move data from that table to another similar table with:
p25164
aVIt doesn't have to be the same structure as long as the fields are compatible
p25165
aVIf t2 is defined thus:
p25166
aVyou could do:
p25167
aVIn addition
p25168
aVthe select statement has all the regular options such as the  clause for limiting the amount of data copied, although some may not make sense (such as )
p25169
aVIf you need the table itself copied (as well as copying data),  is the way to go:
p25170
aVThis also allows a  clause which limits the data transferred
p25171
aVIf you need to transfer a lot of data and performance is important, you may want to consider one of the non-standard-SQL options such as unloading and reloading the table, or performance "tricks" like turning off indexing on the target table until after the data is transferred
p25172
as(dp25173
g16
V14860
p25174
stp25175
a((dp25176
g2
(lp25177
VThe CTRLD character (hex 04) is not an end of file character per se
p25178
aVPressing that key sequence will signal to the terminal driver that this is the end of the input stream and any further reads from that stream will be treated as if the "file" is finished
p25179
aVIn fact you can change the character used for this with the  command under UNIX
p25180
aVWhat will happen when you press that sequence is that no further input will be given to the program
p25181
aVYou need to find a more intelligent sequence to delimit your data (like, for example, newline (0x10))
p25182
aVBut this will require you to input strings rather than floats (you can use  to get a string and  to extract a float after you've checked for an empty line)
p25183
aVAnother possibility is to use -1 as a special sentinel value (assuming -1 isn't a valid input) but watch out for floating point comparisons, they're sometimes not what you expect
p25184
aVMy suggestion is to go the  route but, since you're required to get  floats, your  should go something like this:
p25185
aVwhich will stop getting values once you've reached your limit
p25186
aVKeep in mind that's not perfect
p25187
aVI've left at least one problem there due to the fact that it's homework (you may never strike it, depending on your input data)
p25188
aVI should also mention it's somewhat unusual to mix C++ and C I/O semantics ( and ) - you really should choose one or the other
p25189
aVIf this is a C++ assignment, you'll find that C++ has a richer way of doing I/O
p25190
aVIf it's C, then  has no place in the code and you should probably use
p25191
aVI'm not saying it won't work, just that it's an unusual mix
p25192
as(dp25193
g16
V14860
p25194
stp25195
a((dp25196
g2
(lp25197
VI have zero experience with Qt, but SWT has native look-and-feel for the major platforms by virtue of the fact it ships native libraries to do the job
p25198
aVWe've used it to make Eclipse plug-ins for our various projects
p25199
as(dp25200
g16
V14860
p25201
stp25202
a((dp25203
g2
(lp25204
VI'm not sure how easy it is to do this with sending key sequences but just about any action can be done by calling the appropriate executable
p25205
aVFor example,
p25206
aVwill do what WinL normally does
p25207
aVThis site shows quite a number of possibilities
p25208
as(dp25209
g16
V14860
p25210
stp25211
a((dp25212
g2
(lp25213
VMemory access through pointers is said to be more efficient than memory access through an array
p25214
aVThat may have been true in the past when compilers were relatively stupid beasts
p25215
aVYou only need to look at some of the code output by gcc in high optimization modes to know that it is no longer true
p25216
aVSome of that code is very hard to understand but, once you do, its brilliance is evident
p25217
aVA decent compiler will generate the same code for pointer accesses and array accesses and you should probably not be worrying about that level of performance
p25218
aVThe people that write compilers know far more about their target architectures than we mere mortals
p25219
aVConcentrate more on the macro level when optimizing your code (algorithm selection and so on) and trust in your tool-makers to do their job
p25220
aVIn fact, I'm surprised the compiler didn't optimize the entire
p25221
aVline out of existence since  is over-written in the very next line with a different value and  is in no way marked
p25222
aVI remember an urban myth from long ago about a benchmark for the latest VAX Fortran compiler (showing my age here) that outperformed its competitors by several orders of magnitude
p25223
aVTurns out the compiler figured out that the result from the benchmark calculation wasn't used anyhwere so it optimized the entire calculation loop into oblivion
p25224
aVHence the substantial improvement in run speed
p25225
aVUpdate: The reason that unoptimized code is more efficient in your particular case is because of the way you find the location
p25226
aVwill be at a fixed location decided at link/load time and the reference to it will be fixed up at the same time
p25227
aVSo  or indeed  will be at a fixed location
p25228
aVAnd  itself will also be at a fixed location for the same reason
p25229
aVBut  (the contents of ) is variable and therefore will have an extra lookup involved to find the correct memory location
p25230
aVYou'll probably find that having yet another variable  set to 0 (not ) and using  would also introduce extra calculations
p25231
aVIn one of your comments, you state:
p25232
aVDoing as you suggested resulted in 3 instructions for memory access through arrays too (fetch index, fetch value of array element, store in temp)
p25233
aVBut I am still unable to see the efficiency
p25234
aV:-(
p25235
aVMy response to that is that you very likely won't see an efficiency in using pointers
p25236
aVModern compilers are more than up to the task of figuring out that array operations and pointer operations can be turned into the same underlying machine code
p25237
aVIn fact, without optimisation turned on, pointer code can be less efficient
p25238
aVConsider the following translations:
p25239
aVFrom that example, you can actually see that the pointer example is longer, and unnecessarily so
p25240
aVIt loads  into  multiple times without it changing and indeed alternates  between  and
p25241
aVThe default optimisation here is basically none at all
p25242
aVWhen you switch up to optimisation level 2, the code you get is:
p25243
aVfor the array version, and:
p25244
aVfor the pointer version
p25245
aVI'm not going to do an analysis on clock cycles here (since it's too much work and I'm basically lazy) but I will point out one thing
p25246
aVThere's not a huge difference in the code for both versions in terms of assembler instructions and, given the speeds that modern CPUs actually run at, you won't notice a difference unless you're doing billions of these operations
p25247
aVI always tend to prefer writing code for readability and only worrying about performance if it becomes an issue
p25248
aVAs an aside, that statement you reference:
p25249
ag630
aV3 Pointers and Arrays: The pointer version will in general be faster but, at least to the uninitiated, somewhat harder to grasp immediately
p25250
aVdates back to the earliest versions of K&R;, including my ancient 1978 one where functions are still written:
p25251
aVCompilers have come an awfully long way since back then
p25252
as(dp25253
g16
V14860
p25254
stp25255
a((dp25256
g2
(lp25257
VNot quite
p25258
aVIn your original question,  would be set to point to the same first character as , which may not necessarily be
p25259
aVYou may have done:
p25260
aVin which case both  and  will point to that
p25261
aVHowever your edit now makes it clear that you meant:
p25262
aVYour comment on  is correct
p25263
aVIt will move  so that it points to the next character and, as per C string handling convention,  marks the end of the string
p25264
aVThe statement:
p25265
aVis something you often see in string copying code (copying  to ), something like:
p25266
aVIn this case, the line  means:
p25267
aVcopy the character at  to the memory location
p25268
aVincrement  to point to the next destination character
p25269
aVincrement  to point to the next source character
p25270
aVIn other words,
p25271
aVis functionally identical to:
p25272
as(dp25273
g16
V14860
p25274
stp25275
a((dp25276
g2
(lp25277
VWhat exactly leads you to believe that stuff is being stored below the stack pointer
p25278
aVAll I can see is a negative offset from  which is the frame pointer
p25279
aVThis is typically used as a pointer to the next stack frame up from the current for a number of reasons
p25280
aVEither side of  are the parameters passed in to this function (above ) and locals for this function (below )
p25281
aVUsing  just means that you're doing something with a local variable
p25282
aVIt easy to revert to the previous stack frame just by loading  with  and returning
p25283
aVOf course, you may be hitting something below  but that would depend on the data being loaded, which isn't actually shown in your sample
p25284
aVA "diagram" may help:
p25285
aVMy memory of this is rusty (the specific instruction may not be exact but they should be good enough to indicate the concept behind it), but the typical function calling sequence is:
p25286
aVcaller pushes parameters on the stack (, ,
p25287
aVcaller pushes current  on to the stack ()
p25288
aVcaller loads  with  ()
p25289
aVcaller calls callee ()
p25290
aVcallee allocates space for locals ()
p25291
aVcallee can then use  for parameters,  for locals
p25292
aVAnd, for returning:
p25293
aVcallee loads  with  ()
p25294
aVcallee returns to caller ()
p25295
aVcaller pops previous  off the stack ()
p25296
aVcaller cleans up parameter section ()
p25297
as(dp25298
g16
V14860
p25299
stp25300
a((dp25301
g2
(lp25302
VYou can test for the presence of the last line with the following:
p25303
aVAt that point  will be 0 if the line started with either  or , assuming that's enough to catch the trailer record
p25304
aVOnce you've established that, you can extract the line count with:
p25305
aVand you can get the expected line count with:
p25306
aVand compare the two
p25307
aVSo, tying all that together, this would be a good start
p25308
aVIt outputs the file itself (my test files ) along with a message indicating whether the file is okay or why it is not okay
p25309
aVThe sample run, showing the test files I used:
p25310
as(dp25311
g16
V14860
p25312
stp25313
a((dp25314
g2
(lp25315
VI'm not sure you're going to get much faster than the delivery of SIGCHLD
p25316
aVYou may want to think about re-architecting the application to be a master/multi-slave one, if possible
p25317
aVIf you're running with one master  and five slaves, then the loss of one slave will result in a 20% drop in capacity rather than total loss
p25318
aVAnd hopefully the master can get another slave up quickly enough before it's noticed
p25319
aVAnother possible advantage to this is to have spare slaves waiting in the wings, already started but waiting on a semaphore or other signal to start doing the real work
p25320
aVIt's possible that this may help even if you can't run multiple slaves side-by-side since it will remove at least part of the delay (waiting for the process to load up)
p25321
aVSimply signal a spare child to start as soon as the SIGCHLD appears
p25322
as(dp25323
g16
V14860
p25324
stp25325
a((dp25326
g2
(lp25327
VYou can do it by in one query by stringing together the individual LIKEs with ORs:
p25328
aVJust be aware that things like LIKE and per-row functions don't always scale that well
p25329
aVIf your table is likely to grow large, you may want to consider adding another column to your table to store the first four characters of the field independently
p25330
aVThis duplicates data but you can guarantee it stays consistent by using insert and update triggers
p25331
aVThen put an index on that new column and your queries become:
p25332
aVThis moves the cost-of-calculation to the point where it's necessary (when the data changes), not every single time you read it
p25333
aVIn fact, you could go even further and have your new column as a boolean indicating that it was one of the four special types (if that group of specials will change infrequently)
p25334
aVThen the query would be an even faster:
p25335
aVThis tradeoff of storage requirement for speed is a useful trick for larger databases - generally, disk space is cheap, CPU grunt is precious, and data is read far more often than written
p25336
aVBy moving the cost-of-calculation to the write stage, you amortise the cost across all the reads
p25337
as(dp25338
g16
V14860
p25339
stp25340
a((dp25341
g2
(lp25342
VQuite a few years ago, I wrote a static web site generator which used Perl (<-- interesting that my spell checker suggests "Peril" as a replacement for that) as its scripting language
p25343
aVIt allowed the user to enter information about different levels of a hierarchy - the first to market was for a cemetery where you had clients (paying customers) who owned memorials (for the deceased, obviously)
p25344
aVIt had a GUI where you entered variables such as (tremble at my graphical skills here):
p25345
aVand picture variables as well
p25346
aVIn addition, for each market (such as the afore-mentioned cemetery), there was a controlling script which basically ran and processed each record at multiple hierarchy levels to generate the static content
p25347
aVBefore then, the program had turned all those variables into things like:
p25348
aV(I think that syntax is right, I haven't done any Perl development for a while)
p25349
aVThe end result was a full web site with lots of clients, lots of memorials, search pages and a nice little money earner while it lasted (I was blown out of the market by funeral directors providing the same thing as a 'free' service within their regular packages)
p25350
aVBut the whole thing was basically written in minimal Perl which only did two things:
p25351
aVturned the variables into Perl assignment statements; and
p25352
aVran the market-specific Perl code
p25353
aVBoth the execution of the assignment statements and the market-specific Perl code was done with eval
p25354
aVSo it's not as useless as you may think
p25355
aVIt was a cheap way to introduce scripting into an application
p25356
as(dp25357
g16
V14860
p25358
stp25359
a((dp25360
g2
(lp25361
VThe things you should know about  before starting any large project with it are the things you learnt about  in your first few small projects
p25362
aVThe preceding statement is true for all values of
p25363
aVIt's true within and without the computer industry
p25364
aVYou may, if you so wish, consider it a good life rule as well
p25365
aVBottom line: if you're starting a big project where you're not intending to throw away the first few versions totally, don't do it in a language you have no experience in
p25366
aVYou will almost certainly fail
p25367
as(dp25368
g16
V14860
p25369
stp25370
a((dp25371
g2
(lp25372
VNo, not in the general case, since the number of possible algorithms is far more than what you may think
p25373
aVA sample space of 250 may not be enough to do proper numerical analysis
p25374
aVFor an extreme example, let's say your samples are all 15 digits long
p25375
aVYou would not be able to reliably detect the algorithm if it changed the behaviour for those greater than 15 characters
p25376
aVIf you wanted to be sure, you should reverse engineer the code that checks the numbers for validity (if available)
p25377
aVIf you know that the algorithm is drawn from a smaller subset than "every possible algorithm", then it might be possible
p25378
aVBut algorithms may be only half the story - there's also the case where multipliers, exponentiation and wrap-around points change even using the same algorithm
p25379
as(dp25380
g16
V14860
p25381
stp25382
a((dp25383
g2
(lp25384
VNo
p25385
aVFrom the  pages:
p25386
aVexecve() does not return on success, and the text, data, bss, and  stack  of  the  calling process  are  overwritten by that of the program loaded
p25387
aVThe program invoked inherits the calling process's PID, and any open file descriptors that are not set to  close  on  exec
p25388
aVSignals  pending  on the calling process are cleared
p25389
aVAny signals set to be caught by the calling process are reset to their default behaviour
p25390
aVThe SIGCHLD  signal  (when  set  to SIG_IGN) may or may not be reset to SIG_DFL
p25391
aVIn fact, if the signal handler were still active after the code had been replaced with some very different code, you could expect all sorts of mayhem when the signal occurred
p25392
aVThe signal handler is, after all, just an address to call when something happens (discounting  and  for now)
p25393
aVWho knows what piece of code would be at that address when you replace the entire text segment
p25394
as(dp25395
g16
V14860
p25396
stp25397
a((dp25398
g2
(lp25399
VAre you talking about formatting it or creating it
p25400
aVIf the latter, one solution I've used in the past is the venerable:
p25401
aVwhere  is the obvious and  is simply a number that increments every time you get a transaction ID
p25402
aVThat way, as long as you don't ask for more than a thousand IDs per second, you'll have your uniqueness and the IDs will only roll over every century
p25403
aVOf course, if you really wanted a little more compaction, you could use the fact that many of those two-digit fields are a waste
p25404
aVSet up a character array able to encode some of the fields into a single characterfrom the set:
p25405
aV(62 characters) and use it to encode the MM, DD, hh, mm and ss into a single character
p25406
aVFor example, April being month 4 could be coded as
p25407
aVForty-five minutes past the hour would have the minute field encoded as
p25408
aVThat saves 5 characters, add in the century CC to stop it from rolling over for another 8,000 years or so, and you can then handle a million IDs per second, ten million if you encode  the same way although you'll end up with a Y6K problem :-)
p25409
aVSo right now (2010-02-25/20:22:15), you would get, assuming the  is currently 0):
p25410
as(dp25411
g16
V14860
p25412
stp25413
a((dp25414
g2
(lp25415
VYou don't initialise  and, on top of that, your call to  is wrong
p25416
aVIt should be:
p25417
aVWhen you call  as you have, you throw away the new address and there's a good chance that the old address has now been freed
p25418
aVAll bets are off when you then try to dereference it
p25419
aVThe reason  returns a new address is because expansion of the buffer may necessitate it being moved if that current block is surrounded in the memory arena (in other words, it can't just expand into a free block following it)
p25420
aVIn that case, a new block will be created in the arena, the contents transferred from the old block and the old block freed
p25421
aVYou have to get the return value from  in case that happens
p25422
aVKeep in mind that  doesn't have to return a new pointer, it may give you the same pointer if, for example, there was enough free space after the block to satisfy the new size or if you're reducing the size
p25423
aVIt can also return NULL if it can't expand the block, you should watch out for that as well, especially since:
p25424
aVwill result in a memory leak when it returns NULL (it doesn't free the old block)
p25425
aVA few other things:
p25426
aVyou rarely need to use , especially in this case since you're copying over the memory anyway
p25427
aVsimilarly, you don't need to  a memory chunk to 0 if you're immediately going to  over it
p25428
aVprovided you initialise  to , you can just use  without testing it
p25429
aVThat's because  is identical to  -  is perfectly capable of starting with a null pointer
p25430
aVsince you don't need , this is for education only -  is always 1 by definition
p25431
aVyou seem to be doing an awful lot of unnecessary copying of data
p25432
aVWhy don't we start with something a bit simpler
p25433
aVNow, this is totally from my head so there may be some bugs but it's at least cut down from the memory-moving behemoth in the question :-) so should be easier to debug
p25434
aVIt's basically broken down into:
p25435
aVinitialise empty message
p25436
aVenter infinite loop
p25437
aVget a segment
p25438
aVif error occurred, free everything and return error
p25439
aVif no more segments, return current message
p25440
aVcreate space for new segment at end of message
p25441
aVif no space could be created, free everything and return empty message
p25442
aVappend segment to message and adjust message size
p25443
aVand the code looks like this:
p25444
as(dp25445
g16
V14860
p25446
stp25447
a((dp25448
g2
(lp25449
VNot quite, you only need a number of characters so  is not required
p25450
aVHowever, for easily maintainable and portable code, you should have something like:
p25451
aVThis has a number of advantages:
p25452
aVIf you change the string, you change one thing and one thing only
p25453
aVThe argument to  adjusts automatically
p25454
aVThe expression  is calculated at compile time
p25455
aVA solution involving  would have a runtime cost
p25456
aVIf you try to compile your code on a system where integers may cause overflow, you'll be told about it (go fix the code)
p25457
aVYou should actually allocate an extra character for the number since the biggest 16-bit number (in terms of character count) is  (six characters long)
p25458
aVYou'll notice I still have a  on the end - that's because you need space for the string null terminator
p25459
as(dp25460
g16
V14860
p25461
stp25462
a((dp25463
g2
(lp25464
VNo, since I'm not running
p25465
aVHowever, you will want to, at a bare minimum, exclude the process running your grep:
p25466
aVFor debugging, you may want to do:
p25467
aV(to see your input to the script in great detail) and then rewrite your script temporarily as:
p25468
aVThat way, you can see the input and figure out what effect it's having on your code, even as you debug it
p25469
aVA good debugger will eventually learn to only change one variable at a time
p25470
aVIf your changing your code to get it working, that's the variable - don't let the input to your code change as well
p25471
as(dp25472
g16
V14860
p25473
stp25474
a((dp25475
g2
(lp25476
V redirects standard error (file handle 2) to the same file that standard output (file handle 1) is currently going to
p25477
aVIt's also a position-dependent thing so:
p25478
aVwill actually send standard error to  and standard output to  as follows:
p25479
aVConnect standard output to ;
p25480
aVThen connect standard error to same as current standard output, which is ;
p25481
aVThen connect standard output to ;
p25482
as(dp25483
g16
V14860
p25484
stp25485
a((dp25486
g2
(lp25487
VWhy is it not just a matter of changing:
p25488
aVto:
p25489
aVThat will start writing the rows starting with the second one in the range
p25490
aVIf you want to auto-detect whether the starting row has column headers, then you will need to check the first cell in the range (using  probably) and figure out how to tell the difference between a column header and a value
p25491
as(dp25492
g16
V14860
p25493
stp25494
a((dp25495
g2
(lp25496
VHave you profiled your code to see that it's spending too much time locking and unlocking the mutex
p25497
aVDon't try to optimise until you have
p25498
aVOptimisation without hard data is usually wasted effort
p25499
aVAssuming that:
p25500
aVyou have ascertained that the mutex operations are a sizable performance hit; and
p25501
aVyou cannot make the resolution of the mutex finer (eg, separate mutexes to reduce contention, unlikely since you're talking about one variable)
p25502
aVyou can look into OS-specific features such as atomic increments and decrements without mutex
p25503
aVThese will not be portable C but you can use defines to target specific OS features ( for Windows and the GCC  calls are where I'd be looking first)
p25504
as(dp25505
g16
V14860
p25506
stp25507
a((dp25508
g2
(lp25509
VWe actually have a reporting solution where dates and times can be passed in as plain text  and  values then, when the code needs to do anything to those values, it simply uses string operations to turn them back into a format that can be displayed or easily parsed (such as the DB2 ISO formats CCYY-MM-DD or hh
p25510
aVmm
p25511
aVss)
p25512
aVThe result is readable and I'd be surprised if
p25513
aVNET didn't have string manipulation instructions that could do this easily
p25514
as(dp25515
g16
V14860
p25516
stp25517
a((dp25518
g2
(lp25519
VI have a directory "FS2" that contains the following files: #ARGH#
p25520
aVTherein lies your problem
p25521
aVIn my opinion, it is unwise using "funny" characters in filenames
p25522
aVNow I know that those characters are allowed but that doesn't make them a good idea (ASCII control characters like backspace are also allowed with similar annoying results)
p25523
aVI don't even like spaces in filenames, preferring instead SomethingLikeThis to show independent words in a file name, but at least the tools for handling spaces in many UNIX tools is known reasonably well
p25524
aVMy advice would be to rename the file if it was one of yours and save yourself some angst
p25525
aVBut, since they're temporary files left around by an editor crash, delete them before your rules start running in the makefile
p25526
aVYou probably shouldn't be rebuilding based on an editor temporary file anyway
p25527
aVOr use a more targeted template like:  to bypass those files altogether (that's an example only, you should ensure it doesn't faslely exclude files that should be included)
p25528
as(dp25529
g16
V14860
p25530
stp25531
a((dp25532
g2
(lp25533
VFor a start, deliminator would probably be delimiter, although I notice your text has both delineator and deliminator in it - perhaps deliminator is a special delimiter/terminator combination :-)
p25534
aVHowever, a delimiter is usually used to separate fields and is usually present no matter what
p25535
aVWhat you have is an optional prefix which dictates the following field type
p25536
aVSo I would probably call that a "prefix" or "type prefix" instead
p25537
aVThe "formatted string containing value expressions" I would just call a "value expression string" or "value string" to change it to a shorter form
p25538
aVOne other possible problem:
p25539
aVmust be in the range -128 to 255 (inclusive) as they must fit in 8bytes
p25540
aVI think you mean 8 bits
p25541
as(dp25542
g16
V14860
p25543
stp25544
a((dp25545
g2
(lp25546
VIf you're talking about C, then pointers simply represent another level of indirection
p25547
aVIf you consider the variable  as an integer,  (address of ) is the location and it contains the value of  in that location
p25548
aVWhen you use , you will get the value from the address
p25549
aVA pointer variable , when used, will also get a value from a location
p25550
aVBut the value at that location is another location from which you can get a value
p25551
aVSo let's say you have:
p25552
aVIn this example,  is the variable on the stack at location 0x1234 and  is on the stack at location 0x1236 (a 16-bit int/pointer system)
p25553
aVWhat you have in memory is:
p25554
aVWhen you use  with, for example:
p25555
aVthe value of  at memory location 0x1234 is used to set
p25556
aVHowever, with a pointer:
p25557
aVyou first look up the value of  in memory location 0x1236 (the value is 0x1234), then dereference it (with '*') to get the value of
p25558
as(dp25559
g16
V14860
p25560
stp25561
a((dp25562
g2
(lp25563
VIf you don't want your  characters interpreted by cmd
p25564
aVexe, you should prefix them with the escape character:
p25565
as(dp25566
g16
V14860
p25567
stp25568
a((dp25569
g2
(lp25570
VChange:
p25571
aVto:
p25572
aVThat will fix your immediate problem, although I suspect you'll have a few more questions today :-)
p25573
aVThe actual problem with your current code is that it defines a prototype for main, followed by a file-level variable, followed by a naked brace, which is why it's complaining about a missing function header
p25574
aVYou may also want to consider changing your  function to one of:
p25575
aV(probably the second in your case) as these are the two forms required to be supported by the ISO C standard
p25576
aVImplementations are free to accept others if they wish but I usually prefer my code to be as standard as possible
p25577
aVThe reason I say "may" is because it's not necessarily required to get your code working, more of a style thing
p25578
as(dp25579
g16
V14860
p25580
stp25581
a((dp25582
g2
(lp25583
VI don't see how you can represent a rectangle with just a "focus point"
p25584
aVYou'll need either the two corner points or one corner point with a width/height/rotation set of data
p25585
aVHowever, once you have a rectangle, I would simply break it down into four lines and do the intercept checks between each of those four lines and the line you want to check against
p25586
aVDoing a search on SO for "line intersection" turns up numerous questions, including this one, which seems promising
p25587
aVIn fact, searching for "line rectangle intersection" gives you this one, which seems to be exactly what you're after
p25588
as(dp25589
g16
V14860
p25590
stp25591
a((dp25592
g2
(lp25593
Vmeans change to your home directory (the place designated as yours in UNIX-land, including Mac OSX which is based on UNIX)
p25594
aVIt's likely to be something along the lines of  or  if your user name was
p25595
aVIn UNIX, you have the concept of a working directory, your current location within the filesystem hierarchy, and  is the command you use to change it
p25596
aVTypically, this is the place programs will look for their files if you use a relative filename, so  will attempt to remove the  file in your working directory whereas  will attempt to remove a file of the same name in the top level (root) directory
p25597
aVAnd you don't have to compile and run Java that way
p25598
aVIt's just one way of doing it
p25599
aVIf you have an IDE like Eclipse, you probably never need use the command line at all
p25600
aVis indeed the Java compiler, which will turn your source code into class files, and  is the Java runtime which will actually run those class files
p25601
aVYou can put your Java source code anywhere where you have the privileges to create files, you don't have to put them in your home directory
p25602
aVOf course, if you put them somewhere else, like  or , you'll need to ensure that's the directory you're in when you compile and run them from the command line
p25603
aVTo do that, the  command would be more like one of:
p25604
as(dp25605
g16
V14860
p25606
stp25607
a((dp25608
g2
(lp25609
VI would simply stop worrying about how to evaluate precedence, and use something like:
p25610
aVI'm assuming here that 1-100 was an inclusive range in which case you should use  rather than
p25611
aVIt won't matter for your specific case since 100 is divisible by neither 6 nor 7
p25612
aVGuess what
p25613
aVAny decent optimising compiler (including JIT ones) will probably end up generating the same code as for all the other possibilities
p25614
aVAnd, even if it didn't, it wouldn't matter unless you were calling this function a great many times
p25615
aVI think that's a tiny bit more readable than:
p25616
aVor, worse yet, the Lisp-like thing you'll have to turn it into to get it working properly :-)
p25617
aVKeep in mind one possibility - you can change your loop to make it more efficient (sevenfold), for the specific case with 6 and 7,  thus:
p25618
aVThis uses the  loop itself to only check multiples of 7 and print them if they're not also multiples of 6
p25619
as(dp25620
g16
V14860
p25621
stp25622
a((dp25623
g2
(lp25624
VBeing able to shove almost any old rubbish into an XML file is a job for CDATA, something like:
p25625
aVThen you don't have to worry about anything other than the  possibility
p25626
as(dp25627
g16
V14860
p25628
stp25629
a((dp25630
g2
(lp25631
VThe  command
p25632
aVmeans to replace:
p25633
aVwith:
p25634
aVjust like a regular  command
p25635
aVHowever, the parentheses,  and  markers change it a little
p25636
aVThe search string matches (and remembers as pattern 1) the single character at the start, followed by a single character, follwed by the rest of the string (remembered as pattern 2)
p25637
aVIn the replacement string, you can refer to these matched patterns to use them as part of the replacement
p25638
aVYou can also refer to the whole matched portion as
p25639
aVSo what that  command is doing is creating a  command based on the original file (for the source) and character 1 and 3 onwards, effectively removing character 2 (for the destination)
p25640
aVIt will give you a series of lines along the following format:
p25641
aVand so on
p25642
as(dp25643
g16
V14860
p25644
stp25645
a((dp25646
g2
(lp25647
VTry this on for size:
p25648
as(dp25649
g16
V14860
p25650
stp25651
a((dp25652
g2
(lp25653
VCourtesy of my library of useful snippets, here's a solution in C, complete with test harness, and providing both hex and ASCII data:
p25654
aVThe output on my system is:
p25655
aVSince this question is tagged C++ too, here's an iostream version to compare
p25656
aVEven if you're not a particular fan of iostreams, it still fits in if you're already using them
p25657
aVBeing able to use  is nice too, but of course can be done with just a delegating function template similar to the ctor
p25658
as(dp25659
g16
V14860
p25660
stp25661
a((dp25662
g2
(lp25663
VYou can use:
p25664
aVto get all of the parameters strung together, as in:
p25665
aVwhich produces (all four arguments used):
p25666
aVIf you want to preserve white space
p25667
aVyou can pass it as a quoted string
p25668
aVwhich produces (from a single argument):
p25669
as(dp25670
g16
V14860
p25671
stp25672
a((dp25673
g2
(lp25674
VI can get that output by using:
p25675
aVI'm having to escape the  characters because I'm doing it from  but you can use them unescaped in a more UNIXy environment if you just use single quotes to surround the  commands
p25676
aVThe individual  commands:
p25677
aVgets rid of the starting quote from the file name
p25678
aVgets rid of the ending quote from the file name and replaces the text between file name and line number with the opening parenthesis before the line number
p25679
aVputs the closing parenthesis after the line number after removing some other unnecessary text
p25680
as(dp25681
g16
V14860
p25682
stp25683
a((dp25684
g2
(lp25685
VCron always runs in an environment different to what you think :-)
p25686
aVI always have my cronjobs set up like:
p25687
aVto ensure that there's something logged that I can look at
p25688
aVThis will narrow your problem down to either:
p25689
aVcron, if the temp file doesn't appear; or
p25690
aVyour script, if it does appear
p25691
aVAnd, in the latter case, hopefully there'll be some output you can debug
p25692
aVIf not, put output in there
p25693
aVOne way to do that is to put:
p25694
aVat the top of the script which will cause all lines to be output before execution
p25695
aVAll of my scripts tend to start:
p25696
aVso I can just uncomment that second line while debugging
p25697
as(dp25698
g16
V14860
p25699
stp25700
a((dp25701
g2
(lp25702
VOther than by looking at the generated code, no
p25703
aVSome implementations may provide that information but it's not required by the standard
p25704
aVThings like  or  (shudder) are suggestions to the compiler and it's free to accept them, ignore them or even lie to you that it's done it while secretly going behind your back and not doing it :-)
p25705
aVI tend not to use features like that since I suspect the compiler often knows better than I do how to wring the most performance out of my code
p25706
as(dp25707
g16
V14860
p25708
stp25709
a((dp25710
g2
(lp25711
VSorry, I have to ask: does the  directory exist
p25712
aVAs a second thought, the error seems to also indicate that it's trying to open the directory for writing
p25713
aVAre you sure that  doesn't need a file name
p25714
aVIn fact, I think it does
p25715
aVFrom this page:
p25716
aVSaving Images: Saving images is pretty easy
p25717
aVYou need only pass the full path to where you wish to save the image (including the file name) the the save function
p25718
aVSo, I would try something like:
p25719
as(dp25720
g16
V14860
p25721
stp25722
a((dp25723
g2
(lp25724
VJavascript, like other languages, may treat numbers beginning with  as octal
p25725
aVThat means only the digits 0 through 7 would be valid
p25726
aVWhat seems to be happening is that  and  are being treated as octal but, because they have invalid characters, those characters are being silently ignored
p25727
aVSo what you're actually calculating is
p25728
aVAlternatively, it may be that the entire  is being ignored and having  substituted for it
p25729
aVThe best way would be to try  and see if you get  or  (or possibly even  if the interpretation is really weird)
p25730
as(dp25731
g16
V14860
p25732
stp25733
a((dp25734
g2
(lp25735
V means to take the current value of the stack pointer (), add 4 () then store the long (32-bit) value  into that location
p25736
aVThe  register is one of the general purpose 32-bit registers
p25737
aVx86 architecture specifies the following 32-bit registers:
p25738
aVand the names and purposes of some of then harken back to the days of the Intel 8080
p25739
aVThis page gives a good overview on the Intel-type registers
p25740
aVThe first four of those in the above list can also be accessed as a 16-bit or two 8-bit values as well
p25741
aVFor example:
p25742
aVThe pointer and index registers do not allow use of 8-bit parts but you can have, for example, the 16-bit
p25743
as(dp25744
g16
V14860
p25745
stp25746
a((dp25747
g2
(lp25748
VHere's what you do
p25749
aVFirst, the relationship between publisher and movie is one to many - a publisher can publish many movies but each movie only has one publisher
p25750
aVHowever, type to movie is a many-to-many relationship (you state that one movie is of many types, but it's also the case that one type is of many movies), so you should have an extra table for that relationship
p25751
aVEssentially:
p25752
aVwith suitable primary keys for all those
p25753
aVThen assuming you have the publisher and type inserted, you can insert the movie thus:
p25754
aVIn other words, you use sub-selects to get the IDs from the relevant tables based on a unique set of properties (above example assumes movie names are unique, in reality you will need a more specific query, such as to handle the different films with the same name: The Omega Man, for example)
p25755
aVIf you're not using a DBMS that supports selects in value sections, your best bet will be probably just to remember or extract the relevant values to a variable in whatever programming language you're using and construct a query to do it
p25756
aVIn pseudo-code:
p25757
aVIn response to your comment:
p25758
aVhey, i didn't got the point that of type and movie relationship
p25759
aVwill you please elaborate this point
p25760
aVregards Abid
p25761
aVBoth Avatar and Solaris can be considered of the type SciFi
p25762
aVSo many movies to one genre
p25763
aVAnd Xmen:Wolverine can be considered both action and comic-remake
p25764
aVSo many types to one movie
p25765
aVMany-to-many relationships are best represented with a separate table containing the cross matches between the two related tables
p25766
as(dp25767
g16
V14860
p25768
stp25769
a((dp25770
g2
(lp25771
VYou should think of the following number split into 3-sized chunks:
p25772
aVYou have two problems
p25773
aVThe first is that if you put those integers back together, you'll get:
p25774
aV(i
p25775
ag75
aV, the middle one is 0, not 000) which is not what you started with
p25776
aVSecond problem is that you're not sure what size the last part should be
p25777
aVI would ensure that you're first using a string whose length is an exact multiple of the part size so you know exactly how big each part should be:
p25778
aVSecondly, make sure that you put the parts back together with the right length for each part (ensuring you don't put leading zeros on the first part of course):
p25779
aVTying it all together, the following complete program:
p25780
aVproduces the output:
p25781
aVwhich shows that it goes back together
p25782
aVJust keep in mind I haven't done Python for a few years
p25783
aVThere's almost certainly a more "Pythonic" way to do it with those new-fangled lambdas and things (or whatever Python calls them) but, since your code was of the basic form, I just answered with the minimal changes required to get it working
p25784
aVOh yeah, and be wary of negative numbers :-)
p25785
as(dp25786
g16
V14860
p25787
stp25788
a((dp25789
g2
(lp25790
VThe problem you have is in deciding what data goes into the cache in the first place
p25791
aVI'm assuming the cache is smaller than the data you wish to store
p25792
aVIf that's not the case, why use a cache
p25793
aVJust store the data in-memory and be done with it
p25794
aVHaving said that, once you've decided that, I see nothing wrong with your proposal
p25795
aVWe actually used a similar scheme when reloading our Java code in an early version of WAS
p25796
aVPart of the startup code for the app server was modified to access the pages we wanted pre-compiled (sort of a web scraper) so that there would be no delay the first time the user tried to access it
p25797
aVAs to periodically updating the cache, this should be done by the cache itself
p25798
aVIf all changes are going through the cache (write-behind or write-through), the cache should be automatically updated for you, without a separate process required
p25799
as(dp25800
g16
V14860
p25801
stp25802
a((dp25803
g2
(lp25804
VFrom REXX, you can target TSO then use the  command:
p25805
aVwhere XXX is the GDG base
p25806
aVFor capturing TSO output, look into OUTTRAP which can capture the output from most TSO commands - I haven't specifically tested  since I don't have a z900 under my desk at home :-) I'll give it a shot at work tomorrow
p25807
aVshould give you the output into the  stem variable and you can stop the capture with:
p25808
as(dp25809
g16
V14860
p25810
stp25811
a((dp25812
g2
(lp25813
VI'm unaware of any way to do this if the interim result you need is a flat file that can be used by other applications other than the editor
p25814
aVIf you want a flat file to be produced, you will have to update it from the change point to the end of file, since it's really just a sequential file
p25815
aVBut the italics are there for good reason
p25816
aVIf you can control the file format, you have some options
p25817
aVSome versions of MS Word had a quick-save feature where they didn't rewrite the entire document, rather they appended a delta record to the end of the file
p25818
aVThen, when re-reading the file, it applied all the deltas in order so that what you ended up with was the right file
p25819
aVThis obviously won't work if the saved file has to be usable immediately to another application that doesn't understand the file format
p25820
aVWhat I'm proposing there is to not store the file as text
p25821
aVUse an intermediate form that you can efficiently edit and save, then have a step which converts that to a usable text file infrequently (e
p25822
ag1775
aV, on editor exit)
p25823
aVThat way, the user can save as much as they want but the time-expensive operation won't have as much of an impact
p25824
aVBeyond that, there are some other possibilities
p25825
aVMemory-mapping (rather than loading)  the file may provide efficiences which would speed things up
p25826
aVYou'd probably still have to rewrite to the end of the file but it would be happening at a lower level in the OS
p25827
aVIf the primary reason you want fast save is to start letting the user keep working (rather than having the file available to another application), you could farm the save operation out to a separate thread and return control to the user immediately
p25828
aVThen you would need synchronisation between the two threads to prevent the user modifying data yet to be saved to disk
p25829
as(dp25830
g16
V14860
p25831
stp25832
a((dp25833
g2
(lp25834
VIt means it's an  constant
p25835
aVIt's a way of telling the compiler to use a specific type for a constant where it wouldn't otherwise know the type
p25836
aVA naked 193 would be treated as an  normally
p25837
aVIt's similar to the  suffix for , the  for  and so forth
p25838
as(dp25839
g16
V14860
p25840
stp25841
a((dp25842
g2
(lp25843
VYou mean, is it encoded somehow in the actual code point
p25844
aVNo
p25845
aVThere may well be a table somewhere you can find on the net (or create one) but it's not part of the Unicode mandate to store this sort of metadata
p25846
as(dp25847
g16
V14860
p25848
stp25849
a((dp25850
g2
(lp25851
VIf using normal assignment, no spaces are allowed so you need:
p25852
aV(note that the semicolon is unnecessary)
p25853
aVIf you really want nicely formatted expressions, you can use the:
p25854
aVstatement
p25855
aVI would also use it in place of  as well since  is an external command with all the cost of process creation (this usually doesn't matter for quick and dirty scripts where only a few external processes are created but, if you find it happening a lot, you can get a very decent performance improvement)
p25856
aVUnfortunately, it doesn't like floating point but you can easily emulate it in your case since your numbers simply range from  through  (i
p25857
ag75
aV, only the fractional part changes):
p25858
aVand running it from 0 to 9, modifying the other lines to suit the new range
p25859
aVThe only other thing I'd check would be:
p25860
aVI think  is treated as a command so you may need spaces (and you definitely need a real comparison operator):
p25861
aVAnd  is typically also an external program, I prefer the  built in
p25862
aVTying all those elements together:
p25863
aVYou'll notice a difference with the output in that previously your zero file would have been  with the others , whereas now it's
p25864
aVI think that's beneficial as well since it gives all your files exactly the same format
p25865
aVIf you disagree, it would be a simple matter to add:
p25866
aVto the end of your script
p25867
as(dp25868
g16
V14860
p25869
stp25870
a((dp25871
g2
(lp25872
VSince I was neither closely associated with the creators of C nor C++ in the days of their creation (though I am rather old), nor part of the ANSI/ISO committees that created the standards, this is necessarily opinion on my part
p25873
aVI'd like to think it's informed opinion but, as my wife will tell you (frequently and without much encouragement needed), I've been wrong before :-)
p25874
aVSupposition, for what it's worth, follows
p25875
aVI suspect that the reason the original (pre-ANSI) C didn't have this feature is because it was totally unnecessary
p25876
aVThere was already a perfectly good way of doing integer powers (with doubles and then simply converting back to an integer, giving you the ability to check for integer overflow and underflow before converting)
p25877
aVThe other thing you have to remember is that the original intent of C was a systems programming language and it's questionable whether floating point is desirable in that arena anyway
p25878
aVSince it's initial use case was to code up UNIX, the floating point would have been next to useless
p25879
aVBCPL, on which C was based, also had no use for powers (it didn't have floating point at all, from memory)
p25880
aVAs an aside, an integral power operator would probably have been a binary operator rather than a library call
p25881
aVYou don't add two integers with  but with  - part of the language proper rather than the library
p25882
aVSince the implementation of integral power is relatively trivial, it's almost certain that the developers of the language would better use their time providing more useful stuff (see below comments on opportunity cost)
p25883
aVThat's also relevant for the original C++
p25884
aVSince the original implementation was effectively just a translator which produced C code, it carried over many of the attributes of C
p25885
aVIts original intent was C-with-classes, not C-with-classes-plus-a-little-bit-of-extra-math-stuff
p25886
aVAs to why it's never been added to the standards, you have to remember that the standards-setting bodies have specific guidelines to follow
p25887
aVFor example, ANSI C was specifically tasked to codify existing practice, not to create a new language
p25888
aVOtherwise, they could have gone crazy and given us Ada :-)
p25889
aVLater iterations of that standard also have specific guidelines and can be found in the rationale documents (rationale as to why the committee made certain decisions, not rationale for the language itself)
p25890
aVFor example the C99 rationale document specifically carries forward two of the C89 guiding principles which limit what can be added:
p25891
aVKeep the language small and simple
p25892
aVProvide only one way to do an operation
p25893
aVGuidelines (not necessarily those specific ones) are laid down for the individual working groups and hence limit the C++ committees (and all other ISO groups) as well
p25894
aVIn addition, the standards-setting bodies realise that there is an opportunity cost (an economic term meaning what you have to forego for a decision made) to every decision they make
p25895
aVFor example, the opportunity cost of buying that $10,000 uber-gaming machine is cordial relations (or probably all relations) with your other half for about six months
p25896
aVEric Gunnerson explains this well with his -100 points explanation as to why things aren't always added to Microsoft products- basically a feature starts 100 points in the hole so it has to add quite a bit of value to be even considered
p25897
aVIn other words, would you rather have a integral power operator (which, honestly, any code monkey could whip up in ten minutes) or multi-threading added to the standard
p25898
aVFor myself, I'd prefer to have the latter and not have to muck about with the differing implementations under UNIX and Windows
p25899
aVI would like to also see thousands and thousands of collection the standard library (hashes, btrees, red-black trees, dictionary, arbitrary maps and so forth) as well but, as the rationale states:
p25900
aVA standard is a treaty between implementer and programmer
p25901
aVAnd the number of implementers on the standards bodies far outweigh the number of programmers (or at least those programmers that don't understand opportunity cost)
p25902
aVIf all that stuff was added, the next standard C++ would be C++215x and would probably be fully implemented by compiler developers three hundred years after that
p25903
aVAnyway, that's my (rather voluminous) thoughts on the matter
p25904
aVIf only votes were handed out bases on quantity rather than quality, I'd soon blow everyone else out of the water
p25905
aVThanks for listening :-)
p25906
as(dp25907
g16
V14860
p25908
stp25909
a((dp25910
g2
(lp25911
VDepends on what you mean by real work
p25912
aVThe constructor should put the object into a usable state, even if that state is a flag meaning it hasn't yet been initialised :-)
p25913
aVThe only rationale I've ever come across for not doing real work would be the fact that the only way a constructor can fail is with an exception (and the destructor won't be called in that case)
p25914
aVThere is no opportunity to return a nice error code
p25915
aVThe question you have to ask yourself is:
p25916
aVIs the object usable without calling the  method
p25917
aVIf the answer to that is "No", I would be doing all that work in the constructor
p25918
aVOtherwise you'll have to catch the situation when a user has instantiated but not yet initialised and return some sort of error
p25919
aVOf course, if you can re-initialise the device, you should provide some sort of  method but, in that case, I would still call that method from the constructor if the condition above is met
p25920
as(dp25921
g16
V14860
p25922
stp25923
a((dp25924
g2
(lp25925
VBecause  allocates space on the stack for a character pointer whilst  allocates space for 100 characters
p25926
aVIn the former case, you need to allocate some actual memory for the pointer to point to
p25927
aVWhat's happening to cause your crash is that  is being set to some arbitrary value (you don't initialise it) and, when you , that's where the data is being written
p25928
aVThat's if you just use , let's call that crash type number one
p25929
aVIf you use , it will write your input over the pointer itself which will leave you with a pointer that points who-knows-where, leading to crash type number two
p25930
aVThat's assuming you haven't entered more characters than will overflow the pointer - that would corrupt the call stack leading to yet another crash situation (type three)
p25931
aVAnd as a word of advice, please don't use input functions that don't have bounds checking unless you're absolutely in control as to what data is presented to them
p25932
aVEven with a , someone could cause a stack overflow in your code by entering more characters than will fit in your buffer
p25933
aVI find the best thing to do is to use  (which can limit the characters read) in conjunction with  (although if all you're getting is a string,  is not really needed)
p25934
as(dp25935
g16
V14860
p25936
stp25937
a((dp25938
g2
(lp25939
VNot sure if this will help but your offending line is:
p25940
aVWe no longer code our own web applications for BIRT (we use a web application provided by another part of the company) but digging through our old code found two differences between what we had and what you have
p25941
aVWhether one of them is a fix, you'll have to check for yourself
p25942
aVAll care, no responsibility :-)
p25943
aVThe differences are:
p25944
aVAfter setting the log config engine home but before starting the platform, we also set up an HTML emitter and the platform context:
p25945
aVKeep in mind we were running in a servlet, not as part of a standalone application
p25946
aVSo you'll probably need:
p25947
aVfor the platform context
p25948
aVGive that a shot and see if it works
p25949
aVSomehow I doubt it since PlatformFileContext is the default
p25950
aVThe emitter might be something to consider though
p25951
aVThe only other possibility I can suggest is to actually get the source code for BIRT (your particular build) and have a look at the offending lines in the stack trace
p25952
aVYou should hopefully be able to figure out which parameter may be causing the problem
p25953
aVFor example, the final line  is part of:
p25954
aVso it's almost certainly that the  passed in was null
p25955
aVYou'll need to follow that back through the various layers to try and find out what's happening
p25956
aVThis may well be difficult in which case you may be better off just raising a bug report and letting the experts handle it
p25957
aVOr hassle Jason Weathersby directly if you can get your grubby little hands on his email address :-)
p25958
aVAs an aside, you don't need those hideous escaped  characters in your paths
p25959
aVJava is perfectly fine in dealing with (for example):
p25960
as(dp25961
g16
V14860
p25962
stp25963
a((dp25964
g2
(lp25965
VIf you really want to be able to store different types into each node, you're going to need an indicator in the node itself as to what type the payload is
p25966
aVSomething like:
p25967
aVThe your comparison function needs to first look at the type
p25968
aVIf the types are different, the nodes are different
p25969
aVIf the types are the same, you then need to compare the nodes based on the type
p25970
aVOff the top of my head so it may need debugging:
p25971
aVIf you don't need to store different types in the tree, then the type (and comparison function) belong to the tree rather than each node
p25972
aVThis is the usual case although it is certainly possible to have a tree holding different types - it just makes the code mildly more complicated
p25973
as(dp25974
g16
V14860
p25975
stp25976
a((dp25977
g2
(lp25978
VDo you mean something like the following
p25979
aVThis should turn:
p25980
aVinto:
p25981
aVwhich is what it sounds like you're after
p25982
as(dp25983
g16
V14860
p25984
stp25985
a((dp25986
g2
(lp25987
VYou need the Jargon file
p25988
aVAmongst al the fantastic definitions (in the glossary section) is a list of ASCII symbols and what they're called
p25989
as(dp25990
g16
V14860
p25991
stp25992
a((dp25993
g2
(lp25994
VIn your  function, there are four possible code paths, one of which doesn't return anything
p25995
aVThat is what the error message is complaining about
p25996
aVYou need to replace:
p25997
aVwith:
p25998
aVin the  case
p25999
aVHaving said that, this is actually not a good way to calculate if a number is prime
p26000
aVThe problem is that every recursive call allocates a stack frame and you'll get into serious stack overflow problems if you're trying to work out whether 99,999,999 is a prime number
p26001
aVRecursion is a very nice tool for a certain subset of problems but you need to be aware of the stack depth
p26002
aVAs to more efficient solutions, the are many tests you can carry out to determine a number is not prime, then only check the others with a brute force test
p26003
aVOne thing you should be aware of is to check divisibility against smaller numbers first since this will reduce your search scope quicker
p26004
aVAnd don't use divide where multiply will do, multiplication is typically faster (though not always)
p26005
aVAnd some possibly sneaky tricks along the lines of:
p26006
aVevery number other than 2 that ends in 2, 4, 6, 8 or 0 is non-prime
p26007
aVevery number other than 5 that ends in 5 is non-prime
p26008
aVThose two rules alone will reduce your search space by 60%
p26009
aVAssuming you get your test number as a string, it's a simple matter to test the last digit of that string even before converting to an integral type
p26010
aVThere are some more complex rules for divisibility checks
p26011
aVIf you take a multiple of 9 and sum all the digits to get a new number, then do it again to that number, then keep going until you have a single digit, you'll find that it's always 9
p26012
aVThat will give you another 10% reduction in search space albeit with a more time-expensive check
p26013
aVKeep in mind that these checks are only advantageous for really large numbers
p26014
aVThe advantages are not so great for, say, 32-bit integers since a pre-calculated bitmap would be much more efficient there (see below)
p26015
aVFor a simplistic start, I would use the following iterative solution:
p26016
aVIf you want real speed in your code, don't calculate it each time at all
p26017
aVCalculate it once to create a bit array (one of the sieve methods will do it) of all primes across the range you're interested in, then simply check your values against that bit array
p26018
aVIf you don't even want the cost of calculating the array every time your program starts, do it once and save the bit array to a disk file, loading it as your program  starts
p26019
aVI actually have a list of the first 100 million primes in a file and it's easier and faster for me to use  to find if a number is prime, than to run some code to calculate it :-)
p26020
aVAs to why your algorithm (fixed with a  statement) insists that 7 is not prime, it will insist that every number is non-prime (haven't checked with negative numbers, I'm pretty sure they would cause some serious problems - your first check should probably be )
p26021
aVLet's examine what happens when you call
p26022
aVFirst time through, it hits the third condition so calls
p26023
aVThen it hits the second condition since  is true ( is always 0)
p26024
aVSo it returns false
p26025
aVThis could probably be fixed by changing the third condition to  although I haven't tested that thoroughly since I don't think a recursive solution is a good idea anyway
p26026
aVThe following complete code snippet will do what you need although I appreciate your curiosity in wanting to know what you did wrong
p26027
aVThat's the mark of someone who's actually going to end up a good code cutter
p26028
as(dp26029
g16
V14860
p26030
stp26031
a((dp26032
g2
(lp26033
VI see a couple of issues, some problematic, some stylistic
p26034
aVYou should really test the return values from ,  and  since it's possible that the allocation can fail, and no data may be read or written
p26035
aVis always 1, there's no need to multiply by it
p26036
aVThe character array  is actually 7 bytes long
p26037
aVYou don't need to add a superfluous null terminator
p26038
aVI prefer the idiom  rather than specifying a definite length (unless you want an array longer than the string of course)
p26039
aVWhen you , you're actually overwriting the pointer, not the memory it points to
p26040
aVThis is the cause of your crash
p26041
aVIt should be
p26042
as(dp26043
g16
V14860
p26044
stp26045
a((dp26046
g2
(lp26047
VI think if you were to open up a HTTP session with all of:
p26048
aVwww
p26049
aVgoogle
p26050
aVcom
p26051
aVwww
p26052
aVmicrosoft
p26053
aVcom
p26054
aVwww
p26055
aVibm
p26056
aVcom
p26057
aVwww
p26058
aVford
p26059
aVcom
p26060
aVand at least one of them came back with a valid response, you would have internet connectivity
p26061
aVDon't keep testing once you get a valid response since that would be a waste
p26062
aVFeel free to expand on that list with some more mega-corporations in case you fear that all four of them may be down at the same time :-)
p26063
aVOf course, even that method can be tricked if someone has taken control of your DNS servers but it's probably about as reliable as you're going to get
p26064
as(dp26065
g16
V14860
p26066
stp26067
a((dp26068
g2
(lp26069
VIf you just want to strip those unwanted characters out of the first argument, there's no need for memory allocation, just walk through the input string character-by-character
p26070
aVAnd, if you know you'll be working in an ASCII environment (or any other that supports contiguous  through ), you could even replace the function calls with faster versions checking the character ranges
p26071
aVBut, I can't see the increase in speed as being enough to justify non-portable code
p26072
as(dp26073
g16
V14860
p26074
stp26075
a((dp26076
g2
(lp26077
VThe right way to do this, if you want to scale well, is to re-engineer your table
p26078
aVPer-row functions like  and  do not scale
p26079
aVDon't store whether they're over 60 or 80 in the database at all
p26080
aVFor a start, that's a variable thing changing as time goes by
p26081
aVStore their birthdate which is an invariant
p26082
aVThen simply run:
p26083
aVWith an index on birthdate, that should scream along because, unless the DBMS is brain dead,  will only be calculated once
p26084
as(dp26085
g16
V14860
p26086
stp26087
a((dp26088
g2
(lp26089
VThat's because what you've pushed on the stack is three 32-bit values and your format string tries to use four of them or, more accurately, one 64-bit value and two 32-bit values
p26090
aVIn the first case, the  sucks up two 32-bit values, the  sucks up the third one and the  gets whatever happens to be on the stack after that, which could really be anything
p26091
aVWhen you change the order of the format specifiers in the string, it works differently because the  sucks up the first 32-bit value, the  sucks up the second and the  sucks up the third plus whatever happens to be on the stack after that
p26092
aVThat's why you're getting different values, it's a data alignment/availability issue
p26093
aVYou can see this in action with the first value
p26094
aV429496729700 is equal to , i
p26095
ag75
aV, (232+1)*100
p26096
aVYour code snippet
p26097
aVactually has the following effect:
p26098
aVIn the second case
p26099
aVthe following occurs:
p26100
as(dp26101
g16
V14860
p26102
stp26103
a((dp26104
g2
(lp26105
VSure you can
p26106
aVIf you code up some Javascript in the report itself, it can access files on the disk to retrieve the textual queries and modify the query before it's executed
p26107
aVThe event you need to code for is  on the data source
p26108
aVWe actually use this for wildcarding parameters by detecting if they're set to  and dynamically adjusting the SQL query, changing it from:
p26109
aVto:
p26110
aVThe ugly modification is just so we don't have to worry about changing the positional parameters
p26111
aVYou can read a line from a disk file and change the query with something like:
p26112
aValthough you should probably have better error checking than that :-) I removed it as it's (1) somewhat large; and (2) somewhat proprietary
p26113
as(dp26114
g16
V14860
p26115
stp26116
a((dp26117
g2
(lp26118
VThat's because  is supposed to return the string matching the pattern in its entirety
p26119
aVFor getting a group within that string, you need to pass the group number that you want
p26120
aVSee here for details, paraphrased below:
p26121
aVgroup
p26122
aVpublic String group()
p26123
aVReturns the input subsequence matched by the previous match
p26124
aVpublic String group(int group)
p26125
aVReturns the input subsequence captured by the given group during the previous match operation
p26126
aVCapturing groups are indexed from left to right, starting at one
p26127
aVGroup zero denotes the entire pattern, so the expression m
p26128
aVgroup(0) is equivalent to m
p26129
aVgroup()
p26130
as(dp26131
g16
V14860
p26132
stp26133
a((dp26134
g2
(lp26135
VThe problems with scanf are (at a minimum):
p26136
aVusing  to get a string from the user, which leads to the possibility that the string may be longer than your buffer, causing overflow
p26137
aVthe possibility of a failed scan leaving your file pointer in an indeterminate location
p26138
aVI very much prefer using  to read whole lines in so that you can limit the amount of data read
p26139
aVIf you've got a 1K buffer, and you read a line into it with  you can tell if the line was too long by the fact there's no terminating newline character (last line of a file without a newline notwithstanding)
p26140
aVThen you can complain to the user, or allocate more space for the rest of the line (continuously if necessary until you have enough space)
p26141
aVIn either case, there's no risk of buffer overflow
p26142
aVOnce you've read the line in, you know that you're positioned at the next line so there's no problem there
p26143
aVYou can then  your string to your heart's content without having to save and restore the file pointer for re-reading
p26144
aVHere's a snippet of code which I frequently use to ensure no buffer overflow when asking the user for information
p26145
aVIt could be easily adjusted to use a file other than standard input if necessary and you could also have it allocate its own buffer (and keep increasing it until it's big enough) before giving that back to the caller (although the caller would then be responsible for freeing it, of course)
p26146
ag5385
aVA test run:
p26147
as(dp26148
g16
V14860
p26149
stp26150
a((dp26151
g2
(lp26152
VSee below on why you should not depend on  in pthreads
p26153
aVHowever, your specific problem is probably because you malloc your pthread array, based on the  variable before you've actually set  from :
p26154
aVSo there's a very good chance you're writing beyond the end of the  array
p26155
aVThe  variable will probably be zero on start-up which means you're not allocating what you think you are
p26156
aVMove the allocation to after the extraction of the arguments and that should fix it
p26157
aVAnd now, for your viewing pleasure :-), my original rant on the unsafe use of , which I still stand by
p26158
aVDo not rely on  to protect your shared variables
p26159
aVThe correct way to do this is with the  calls
p26160
aVOf particular note, examine this code segment:
p26161
aVis the point where your current thread may be switched out and another run, leading to the possibility that two threads can be running a critical section of code
p26162
aVMy advice is to forget the  altogether and just protect all the shared variables with a mutex, something like (from memory):
p26163
aVThen put at file-level:
p26164
aVand, in main, before starting any other threads:
p26165
aVOh yeah, although I haven't done it, you should also check the return codes for all those mutex calls
p26166
aVI'm not going to add that since it'll clog up the answer with unnecessary detail, but it's good practice
p26167
as(dp26168
g16
V14860
p26169
stp26170
a((dp26171
g2
(lp26172
VThis is a good reason for either only using standard SQL as much as possible, or for isolating those dependencies into stored procedures (yes, I know that doesn't help you in this specific case, I just thought I'd mention it for future reference)
p26173
aVI suspect you'll have to change each one individually although a simple search over you source code for "select " or "first " will be a good start
p26174
aVThen you can decide how you want to change them, since you may also still want it to work on Informix
p26175
aVFor what it's worth, I think you get the same effect with Oracle's
p26176
aVI would be farming the job of dynamically constructing a query (based on a template) out to another layer which can return a different query based on which database you have configured
p26177
aVThen, when you also want to support DB2 (for example), it's a simple matter of changing just that layer
p26178
aVFor example, have a call like:
p26179
aVwhich would give you either of:
p26180
aVI should also mention, although I realise your query is just an example, that SQL can return rows in any order if you don't specify  so
p26181
aVmakes little sense, especially if you may be running it in different DBMS'
p26182
as(dp26183
g16
V14860
p26184
stp26185
a((dp26186
g2
(lp26187
VWhat I would do would be to actually grab the source code for  from Linux and compile it under HP-UX as , then just use that
p26188
aVI haven't used HPUX since version 9 but it was getting a bit long in the tooth even way back then
p26189
aVThe great advantage with open source is that you can just recompile it under the target platform
p26190
aVNow this may not work due to incompatibilities with API s and such but I'd be looking at this as a first attempt
p26191
aVThe work that  has to do is fairly simple in terms of what APIs it would need to call
p26192
aVThen you have the full power of Linux  at your disposal
p26193
as(dp26194
g16
V14860
p26195
stp26196
a((dp26197
g2
(lp26198
VActually I just use either a pen and a bit of paper or, if I'm feeling really adventurous, gVim
p26199
aVThen I just build the SQL out of that with some ad-hoc macros
p26200
aVYes, I know I'm a luddite but I've never really found any advantages to database designer tools to justify the pain of learning them
p26201
aVThere's plenty of other things to learn where the return on investment is better and more immediate
p26202
aVBut then again, I always opt for simplicity in the schema design to make my job a lot easier
p26203
aVI only worry about using advanced features of SQL or the DBMS if performance becomes a measurable problem
p26204
aVMaybe it's because I was burnt badly by Rational System Architect in my "youth" :-)
p26205
as(dp26206
g16
V14860
p26207
stp26208
a((dp26209
g2
(lp26210
VIt maxes out at 32 bits per pixel, 24 RGB plus alpha transparency, so that would be 32 x 32 x 32, or 32768 bits
p26211
aVSo 4096 bytes (4K)
p26212
as(dp26213
g16
V14860
p26214
stp26215
a((dp26216
g2
(lp26217
VYou don't need to solve every problem with a regular expression, you can quite easily check it with code
p26218
aVAll but number 5 are easy, so you could use:
p26219
aVthen check characters 7 and 8 (and 9 if the total length is 14 rather than 13) for condition number 5
p26220
aVAnd also check the positions 3 and 7 are identical
p26221
aVThe code needed to check this old style is likely to be much more readable (and maintainable) than a regular expression to do the same thing
p26222
aVOn re-reading the question, there appears to be confusion in conditions 5 and 6
p26223
aVCondition 5 makes it sound like any of the two or three characters can be alpha whereas your second example indicates the last must be alpha
p26224
aVCondition 6 use of the word similar indicates the condition is similar whereas your first example indicates the characters must be identical
p26225
aVIf the examples are correct, you can use:
p26226
aV(adjusting if you need lower case as well) but I still maintain that well laid out non-regex code is more maintainable
p26227
as(dp26228
g16
V14860
p26229
stp26230
a((dp26231
g2
(lp26232
VSee here for full details
p26233
aVThe second argument to  is the window style (minimised, maximised, etc) and the third is whether to wait for the program to complete before continuing
p26234
aVThe first is, of course, the program to run
p26235
aVAnd copying the information here to make the answer self-contained:
p26236
aVobject
p26237
aVRun(strCommand, [intWindowStyle], [bWaitOnReturn])
p26238
aVobject - WshShell object
p26239
aVstrCommand - String value indicating the command line you want to run
p26240
aVYou must include any parameters you want to pass to the executable file
p26241
aVintWindowStyle - Optional
p26242
aVInteger value indicating the appearance of the program's window
p26243
aVNote that not all programs make use of this information
p26244
aVbWaitOnReturn - Optional
p26245
aVBoolean value indicating whether the script should wait for the program to finish executing before continuing to the next statement in your script
p26246
aVIf set to true, script execution halts until the program finishes, and Run returns any error code returned by the program
p26247
aVIf set to false (the default), the Run method returns immediately after starting the program, automatically returning 0 (not to be interpreted as an error code)
p26248
aVThe window styles are:
p26249
aV0   Hides the window and activates another window
p26250
aV1   Activates and displays a window
p26251
aVIf the window is minimized or maximized,
p26252
aVthe system restores it to its original size and position
p26253
aVAn application
p26254
aVshould specify this flag when displaying the window for the first time
p26255
aV2   Activates the window and displays it as a minimized window
p26256
aV3   Activates the window and displays it as a maximized window
p26257
aV4   Displays a window in its most recent size and position
p26258
aVThe active window
p26259
aVremains active
p26260
aV5   Activates the window and displays it in its current size and position
p26261
aV6   Minimizes the specified window and activates the next top-level window in
p26262
aVthe Z order
p26263
aV7   Displays the window as a minimized window
p26264
aVThe active window remains active
p26265
aV8   Displays the window in its current state
p26266
aVThe active window remains active
p26267
aV9   Activates and displays the window
p26268
aVIf the window is minimized or maximized,
p26269
aVthe system restores it to its original size and position
p26270
aVAn application
p26271
aVshould specify this flag when restoring a minimized window
p26272
aV10   Sets the show-state based on the state of the program that started the
p26273
aVapplication
p26274
as(dp26275
g16
V14860
p26276
stp26277
a((dp26278
g2
(lp26279
VAll that  does is to define the pre-processor token  exactly as if you had  right at the start of each of your source files
p26280
aVAs to what it's used for, that depends entirely upon the rest of your source file (and everything that it includes as well)
p26281
aVThat's where you should be looking for to work out its effect
p26282
aVIt looks like it may mean that a header file  is available and should be included, in which case you'll probably find the following sequence somewhere in you source files:
p26283
aVwhich will include the header file when you say it's available
p26284
aVHowever that's supposition on my part and by no means the exact effect, just what I would use such a preprocessor symbol for
p26285
as(dp26286
g16
V14860
p26287
stp26288
a((dp26289
g2
(lp26290
VIf your  supports , I would use that instead
p26291
aVEven though  doesn't add a newline,  does
p26292
aVThe  variant will not put the newline at the end like  does:
p26293
aVHere's your version hex-dumped, note the  at the end when you pass it through :
p26294
aVand here's the  version:
p26295
aVAnd here it is, running on your real file (named FILE in this example to ease my testing):
p26296
as(dp26297
g16
V14860
p26298
stp26299
a((dp26300
g2
(lp26301
VHave you seen XML
p26302
aVIt appears to be an insidious scheme by hardware manufacturers to sell larger hard disks :-)
p26303
aVHowever, humour aside, I would choose to use binary files if:
p26304
aVI wasn't too concerned about making the information available to outside systems, or portable to other platforms
p26305
aVI wanted to read and write it in at maximum speed (without having to parse/produce XML)
p26306
aVI didn't need it human-readable, or easily transformed
p26307
aVI was working on a system where XML didn't make sense (embedded C) or where XML processing libraries weren't readily available
p26308
as(dp26309
g16
V14860
p26310
stp26311
a((dp26312
g2
(lp26313
VThat should work fine provided you have enough space in the output buffer (at least 26 bytes) to take the largest string you'll create:
p26314
aVYou need:
p26315
aV5 for
p26316
aV4 for the year (for at least the next 79 centuries)
p26317
aV2 each for the other five numerics
p26318
aV5 for the separators ()
p26319
aV1 for the newline
p26320
aV1 for the terminating null character
p26321
aVYou may also want to consider changing the format string to  so that the datetimes will line up if you're outputting them, to avoid something like:
p26322
aVwhen
p26323
aVlooks so much better
p26324
aVYou'll notice I've left the  off the end - since this is the sort of code you see a lot in logging, you'd want the datetime to be in a format you could easily append to, something like:
p26325
aVIf I've misunderstood what you're using this for, feel free to ignore the last few paragraphs
p26326
as(dp26327
g16
V14860
p26328
stp26329
a((dp26330
g2
(lp26331
VCopy them into the sandbox or open them all before ing
p26332
aVSeriously
p26333
aVIf there was a way to do this, there would be a way to suborn it to allow other access and make your protection useless
p26334
aVThe whole point of the sandbox is to prevent exactly what you're trying to achieve
p26335
as(dp26336
g16
V14860
p26337
stp26338
a((dp26339
g2
(lp26340
VYou cannot use equality operators for nulls, you must use  and
p26341
aVSo your first query would be:
p26342
aVThere's no easy way to do your second operation (excluding columns that are null)
p26343
aVI'm assuming you mean don't display the column if all rows have NULL for that column, since it would be even harder to do this on a row-by-row basis
p26344
aVA select statement expects a list of columns to show, and will faithfully show them whether they are null or not
p26345
aVThe only possibility that springs to mind is a series (one per column) of selects with grouping to determine if the column only has nulls, then dynamically construct a new query with only columns that didn't meet that criteria
p26346
aVBut that's incredibly messy and not at all suited to SQL - perhaps if you could tell us the rationale behind the request, there may be another solution
p26347
as(dp26348
g16
V14860
p26349
stp26350
a((dp26351
g2
(lp26352
VI really wouldn't have a 30,000 element drop-down
p26353
aVThe GUI is supposed to make it easier on the user rather than harder
p26354
aVIf you have no other way to categorise the data other than alphabetically, you're not restricted to using a two-stage approach with just the first character
p26355
aVMake it reliant on the first two characters
p26356
aVThis would give you at most 676 (assuming alphas only) in the first drop-down and (on average) 44 in the second
p26357
aVWe've actually taken two approaches to this problem
p26358
aVBIRT (which we use) allows for cascading parameters which can easily run that second-level query whenever you change the first drop-down box
p26359
aVHowever, some of our customers care absolutely zero for nice GUI stuff (other than the output of nice 9-point Verdana and beautiful charts to placate management, of course)
p26360
aVThey prefer a free-form text entry field where they can just type in  to change their queries
p26361
aVOf course, these are the customers that know exactly what data is in their database and use values which lend themselves to categorisation with SQL  clauses
p26362
aVOthers prefer the ability to search
p26363
as(dp26364
g16
V14860
p26365
stp26366
a((dp26367
g2
(lp26368
VI've struck this problem before on our reporting solution where the user wanted to be able to enter up to 5 values in independent drop-down controls
p26369
aVThese controls were populated with the possible values and a NULL value meaning "don't use" (The first control did not allow NULL since you have top select one possibility at least)
p26370
aVOur query has the snippet (translated to your situation):
p26371
aVThen when we set up the place-holders, we assigned the values from the drop-downs to their respective place-holder with one proviso: if the drop-down contained NULL, we populated the place-holder with the contents of the first drop-down
p26372
aVThat way, if you enter , you end up with:
p26373
aVIf you enter , you get:
p26374
aVand so on
p26375
aVThe DBMS we used is smart enough to collapse  statements to their most efficient form before executing them so there was no real penalty to doing it this way
p26376
aVYour mileage may vary
p26377
aVOne problem with this kludge is that you have to set an upper bound to the number of possible entries in the  clause but that's not a problem in our situation
p26378
as(dp26379
g16
V14860
p26380
stp26381
a((dp26382
g2
(lp26383
VCollision detection is generally tricky for anything other than rectangles
p26384
aVThe way I've done this in the past is to provide both an image and a mask for each object
p26385
aVSo for example, an object like the Jupiter 2 spaceship from Lost in Space would have the following image and mask:
p26386
aVThe image is what gets blatted to the screen but the mask is what's used for collision detection
p26387
aVYou'll notice that the 1's in the mask are basically the outline and contents of the image
p26388
aVThe way in which you detect collision:
p26389
aVcheck if the rectangles overlap
p26390
aVIf not, there can be no chance of collision
p26391
aVOtherwise create a rectangle of object number 1 consisting of its mask
p26392
aVConstruct another rectangle of object 2 consisting of its mask
p26393
aVBitwise-AND the overlapping part of rectangle 2 with rectangle 1
p26394
aVIf there are any 1-bits left in rectangle 1, you have collision
p26395
aVThis takes into account "near misses" where the bounding rectangles of each object overlap but not necessarily the object outlines themselves
p26396
aVBitwise operators are an efficient way to detect this
p26397
aVHere's an example of an arrow not quite hitting a balloon - tremble before my graphical design skills:
p26398
aVYou can see that, even though the rectangles overlap (see ), the arrow has not actually made contact with the balloon
p26399
aVBy applying the bitwise AND operation to the masks, those bits will end up as zero, resulting in a non-collision
p26400
aVAnd @kyoryu raises an interesting point in his comment
p26401
aVSome games adapt well to having objects made up off smaller rectangles and you can simplify collision detection based on the rectangular components (without worrying about pixel perfection)
p26402
aVFor example, our old friend the space invader (actually the defender against the space invaders in that game) may be made up of two rectangles, X and Y with the missiles being made from Z:
p26403
aVThis would come down to a simple rectangular check of the missile against the two space invader rectangles - Given the size of the missile, you could probably call it a collision even if you contact one of the  characters (consider them proximity missiles rather than those of the impact variety)
p26404
as(dp26405
g16
V14860
p26406
stp26407
a((dp26408
g2
(lp26409
VYour prototypes should match your actual functions
p26410
aVYours do not:
p26411
aVEither change the prototype to:
p26412
aVor change the function to:
p26413
aVYou should also bear in mind that  is not part of the C language, but people often use it to replace static
p26414
aVThis can be made possible by the line:
p26415
aVwith the only proviso being that that macro must be active wherever you use the  name
p26416
aVIf it's not working on your prototype, that's probably because it's not defined at that point
p26417
aVMy advice would be to ditch  altogether and use static (if indeed that's how  is defined)
p26418
aVPeople should learn the language, not adopt unnecessary crutches (in my opinion)
p26419
aVOther favourites which I also despise are:
p26420
aVThe  and  are used to mean local to this file and global to all files respectively
p26421
aVThe  and  are particularly nasty abominations from people who should go back to Pascal where they belong :-)
p26422
aVIn addition to that problem, your line:
p26423
aVwill actually hide the parameter that you're passing into the function (since it has the same name) and:
p26424
aVwill cause an error (since it has a different type)
p26425
aVIt's rarely a good idea to do that
p26426
aVRename one of them
p26427
as(dp26428
g16
V14860
p26429
stp26430
a((dp26431
g2
(lp26432
VSure
p26433
aVYou can use the following code
p26434
aVI'm answering in C since that's what the question asked for, despite the C# tag
p26435
aVIf you really want C#, someone else will have to help
p26436
aVThis outputs (on my system):
p26437
aVKeep in mind that this gives you the values in terms of bytes which, under the C standard, are not necessarily 8 bits
p26438
aVYou should examine CHAR_BITS from  to see how many bits are in a byte
p26439
as(dp26440
g16
V14860
p26441
stp26442
a((dp26443
g2
(lp26444
VYou can use:
p26445
aVbut you should be careful what you mean by empty cell
p26446
aVI've been caught out by this before
p26447
aVIf you want to know if a cell is truly blank, , as above,  will work
p26448
aVUnfortunately, you sometimes also need to know if it just contains no useful data
p26449
aVThe expression:
p26450
aVwill return true for cells that are either truly blank, or contain nothing but white space
p26451
aVHere's the results when column  contains varying amounts of spaces, column  contains the length (so you know how many spaces) and column  contains the result of the above expression:
p26452
aVTo return 1 if the cell is blank or white space and 0 otherwise:
p26453
aVwill do the trick
p26454
aVThis trick comes in handy when the cell that you're checking is actually the result of an Excel function
p26455
aVMany Excel functions (such as trim) will return an empty string rather than a blank cell
p26456
aVYou can see this in action with a new sheet
p26457
aVLeave cell  as-is and set  to
p26458
aVThen set  to  and  to
p26459
aVYou'll see that the former is true while the latter is false
p26460
as(dp26461
g16
V14860
p26462
stp26463
a((dp26464
g2
(lp26465
VYou need to use a double quote within those quotes (and get the return value - String
p26466
aVReplace does not operate on the string itself, it returns a new string):
p26467
as(dp26468
g16
V14860
p26469
stp26470
a((dp26471
g2
(lp26472
VIt will generally always be faster to store something calculated once, rather than calculate it each time
p26473
aVBut depending on the complexity of the calculation, it may not matter
p26474
aVFor example, if you want to calculate the sum of 3, 2 and 1, the speed increase from calculating it once and calculating it each time will be minimal and not worth the trouble unless you're doing it millions of times
p26475
aVHowever, as a counterpoint, I have a list of the first 50 million primes in a file and it's definitely faster to search that file than to check if one of the big numbers is prime using mathematical methods
p26476
aVYou should write your code for functionality and readability first and only worry about performance when you strike a problem
p26477
as(dp26478
g16
V14860
p26479
stp26480
a((dp26481
g2
(lp26482
VWhy use
p26483
aVWhy not just:
p26484
aVAnd what sort is more efficient depends on a number of issues
p26485
aVYou could no doubt make a faster sort for specific data sets (size and other properties)- bubble sort can actually outperform other sorts (with particular inputs)
p26486
aVHowever, have you tested the standard sort and established that it's too slow
p26487
aVThat's the first thing you should do
p26488
aVMy machine (which is by no means the gruntiest on the planet) can do 4 million of those lines in under ten seconds:
p26489
aVHaving said that, there is at least one trick which may speed it up
p26490
aVTransform the file into fixed-length records with fixed length fields before applying a sort to it
p26491
aVSorting on a specific set of characters and fixed length records can often be much faster than the more flexible sorting allowed by variable field and record sizes allowed by
p26492
aVThat way, you add an  operation (the transformation) to speed up what is probably at best an  operation (the sort)
p26493
aVBut, as with all optimisations, measure, don't guess
p26494
as(dp26495
g16
V14860
p26496
stp26497
a((dp26498
g2
(lp26499
VI'm pretty certain it's DB2 running on those boxes (they're called iSeries now, by the way) so you can give:
p26500
aVa shot
p26501
aVThis should return a single column , set to
p26502
as(dp26503
g16
V14860
p26504
stp26505
a((dp26506
g2
(lp26507
VA balanced binary tree is fine
p26508
aVYou'll locate or insert each duplicate in O(log N) time, where N is the number of elements already in the tree, so O(N log N) overall
p26509
aVAnd insertions are ordered - you can decide the order just by reversing the comparisons
p26510
aVThen you just read it out once it's finished in depth first order and, voila, descending values with no duplicates
p26511
aVYour stream  will result in:
p26512
aVA>  5           B>  5           C>  6
p26513
aV/               / \u005c
p26514
aV6               7   5
p26515
aVD>  6           E>  6           F>  5
p26516
aV/ \u005c             / \u005c             / \u005c
p26517
aV7   5           7   3           6   2
p26518
aV\u005c             / \u005c         /   / \u005c
p26519
aV2           5   2       7   3   1
p26520
aVthen the final 2 and 3 are discarded since they already exist in the tree
p26521
aVAnd, when you process that tree recursively (left,current,right), you get  as desired
p26522
aVAnother solution, if you have a limited range of numbers, is a boolean map
p26523
aVLet's say the input range is only the digits 0 through 9
p26524
aVSet up a 10-element boolean array and set all the values to false
p26525
aVThem, for every number, set the corresponding value to true
p26526
aVSo, for your input (blank is false,  is true):
p26527
aVthe backwards-processing of the boolean map would output
p26528
aVOnce all the numbers are received, go through the array in reverse order and output numbers whose values are true
p26529
aVThis is an  time operation which may take more space (it's a general rule that you can often trade off space for time when developing algorithms)
p26530
aVThis will also work for ranges not starting at 0 - you just need to offset everything by the low end of the range
p26531
aVSo if the range was 100 through 109, you would still have a 10-element array with the index  representing the number
p26532
aVHowever, if the range is large and numbers sparse, I'd stick with the tree structure
p26533
as(dp26534
g16
V14860
p26535
stp26536
a((dp26537
g2
(lp26538
VShort of figuring out how variadic lists work under the covers (and hence rendering your code non-portable), there's no way to modify the arguments
p26539
aVBut I did have one thought which may or may not work
p26540
aVI haven't tested it since I really don't think you should use it but, if you're hell-bent on doing this, it may help
p26541
aVSince you just want to get the number of characters scanned, you should realise that you don't have to do it at the same time as the actual setting of the caller's variables
p26542
aVHave your code scan the string to set the arguments as needed by the caller
p26543
aVNo change needed there at all
p26544
aVThe next stage is the slightly tricky one
p26545
aVCount up the number of  characters in the format string that are not immediately followed by  or  - in other words, the number of variables that need to be supplied to the
p26546
aVAssert if this is greater than your upper limit (see code below)
p26547
aVThen add a  sequences to the end of your format string to ensure that you will get the character count
p26548
aVThen, using your new format string, use a junk buffer (repeatedly) to receive all values from the scan including the last (character count)
p26549
aVSomething like this (the responsibility for debugging is yours):
p26550
aVI'd be interested in hearing how it goes if you decide to give it a shot
p26551
aVThat's my work (and responsibility) done
p26552
aVI'm happy to sell you the chainsaw but, if you cut your leg off while using it, that's your problem :-)
p26553
as(dp26554
g16
V14860
p26555
stp26556
a((dp26557
g2
(lp26558
VA sequential scan of a dataset, looking for a maximum, can be done in O(n) time with O(1) memory usage
p26559
aVYou just set the current maximum to the first element then run through all the other elements, setting the current maximum to the value if the value is greater
p26560
aVPseudo-code:
p26561
aVThe complexity doesn't change regardless of the number of elements in the list so it doesn't matter how many there are
p26562
aVThe running time will change however (since the algorithm is O(n) time) and, if it's important to find the maximum fast, there are a number of possibilities
p26563
aVThese all hinge on doing work when the list changes, not every time you want the information, hence they're better for a list that is read more often than written, so the cost can be amortised
p26564
aVOption 1 is to keep the list sorted so you can just grab the last element
p26565
aVThis is probably overkill for just keeping a record of the maximum
p26566
aVOption 2 is to recalculate the maximum (and number of elements holding it) when you insert into, or delete from, the list
p26567
aVInitially set  to 0 and  to 0 for an empty list
p26568
aVFor an insert:
p26569
aVif  is 0 (the list is empty), set  to this value and  to 1
p26570
aVotherwise, if this value is greater than , set  to this value and  to 1
p26571
aVotherwise, if this value is equal to , add 1 to
p26572
aVFor a deletion:
p26573
aVif this value is equal to , subtract 1 from
p26574
aVthen, if  is 0, rescan list to get new  and
p26575
aVThis way, at any time, you have the maximum value (the count is simply an extra "trick" to speed up the algorithm where there is more than one element holding the maximum value)
p26576
aVI've used this once before in a data analysis application and it turned out to be much faster than re-sorting - I had to store both minimum and maximum in that case, but it's the same idea
p26577
as(dp26578
g16
V14860
p26579
stp26580
a((dp26581
g2
(lp26582
VStandard C has no concept of a "page size" so, based on your tags, no
p26583
aVThere may be an implementation-specific method - do you have a particular aversion to using
p26584
aVI'm assuming you mention it because it's a way to actually get the information you need, in which case, why not use it
p26585
as(dp26586
g16
V14860
p26587
stp26588
a((dp26589
g2
(lp26590
VIt cannot be done in constant time unless you store the information
p26591
aVYou would have to do something like specially modify the array to store, for each index, the sum of all values between the start of the array and this index, then using subtraction on the range to get the difference in sums
p26592
aVHowever, nothing in your code sample seems to allow this
p26593
aVThe array is created by the user (and can change at any time) and you have no control over it
p26594
aVAny algorithm that needs to scan a group of elements in a sequential unsorted list will be O(n)
p26595
as(dp26596
g16
V14860
p26597
stp26598
a((dp26599
g2
(lp26600
VAs shown here, the second argument to substr is the length, not the ending position:
p26601
aVstring substr ( size_t pos = 0, size_t n = npos ) const;
p26602
aVGenerate substring
p26603
aVReturns a string object with its contents initialized to a substring of the current object
p26604
aVThis substring is the character sequence that starts at character position pos and has a length of n characters
p26605
aVYour line  will generate, for values of :
p26606
aVWhat you need is
p26607
aVYou should also be aware that your output will look funny for a number like 12045
p26608
aVYou'll get  due to the fact that you're using  on the string section and outputting that integer
p26609
aVYou might want to try just outputing the string itself which will be two characters long:
p26610
aVIn fact, the entire thing could be more simply written as:
p26611
as(dp26612
g16
V14860
p26613
stp26614
a((dp26615
g2
(lp26616
VThere is a specific section for ODBC access to DB2/z in the DB2/z 9
p26617
aV1 docs over on publib
p26618
aVPublib should always be the first point of call for any IBM doco
p26619
aVThere's also the DB2/z ODBC PDF
p26620
aVThis is the best way to access DB2/z from C on OE/OMVS/USS (or whatever it's called nowadays)
p26621
aVIf it was Java, I could probably help out more
p26622
aVThe online help was invaluable in getting JREs to talk to the mainframe DB2 (from both USS and PCs) with minimal hassling of our local sysprogs
p26623
aVOf course, it'll be a lot easier with them :-) especially for setting up the z/OS (non-USS) side of things
p26624
as(dp26625
g16
V14860
p26626
stp26627
a((dp26628
g2
(lp26629
VThese are the steps you should follow for initial database design
p26630
aVFirst, list down all the "objects" you want to store, such as users, posts, relationships and so on
p26631
aVSecond, figure out, for each of those, what information you want to store (user name, password, full name, address,
p26632
aVThen design your database tables following the third normal form
p26633
aVEvery column in a table should be an attribute of the key
p26634
aVEvery column in a table should be an attribute of the entire key
p26635
aVEvery column in a table should be an attribute of only the key
p26636
aVDatabase design should always be done in third normal form, reverting to other forms if there is a performance problem and you understand the ramifications of reversion
p26637
aVYou can generally do this safely (and efficiently) with the proper application of computed fields or triggers
p26638
aVAs an example, one thing you should not do is to try and model relationships in the users table
p26639
aVA row in that table will have the user name as the key and a relationship depends on two user names, so that would violate rule 3
p26640
as(dp26641
g16
V14860
p26642
stp26643
a((dp26644
g2
(lp26645
VYour original question had the line:
p26646
aVwhich should have been:
p26647
aVNow that you've confirmed that was a simple typo in the question (not your actual code), the other likelihood is that you are running on either Server 2003, 2000, NT4, XP or Me/98/95, where the documentation lists the  key as unavailable
p26648
as(dp26649
g16
V14860
p26650
stp26651
a((dp26652
g2
(lp26653
VI'm not aware of any standard way to do this but we have solved a similar problem before by using two tables,  and  in your case, the former with an index, the latter without
p26654
aVAssuming that rows don't ever switch back from  to , here's the steps you can use:
p26655
aVWhen you create a record, insert it into the  table with the column set to
p26656
aVWhen it's finished, set the column to
p26657
aVPeriodically sweep the  table, moving  rows to the  table
p26658
aVThat last one can be tricky
p26659
aVYou can do the insert/delete in a transaction to ensure it transfers properly or you could use a unique ID to detect if it's already transferred and then just delete it from  (I have no experience with MySQL transaction support which is why I'm also giving that option)
p26660
aVThat way, you're only indexing a few of the 99
p26661
aV9% of  rows, the ones that have yet to be transferred to the  table
p26662
aVIt will also work with multiple states of  as you have alluded to in comments (entries are only transferred when they hit the  state, all other states stay in the  table)
p26663
aVIt's akin to having historical data (stuff that will never change again) transferred to a separate table for efficiency
p26664
aVIt can complicate some queries where you need access to both  and non- rows since you have to join two tables so be aware there's a trade-off
p26665
as(dp26666
g16
V14860
p26667
stp26668
a((dp26669
g2
(lp26670
VI've actually written a crossword program before (cryptic but the theory behind the construction is identical)
p26671
aVI had a database of words and their clues which could be sorted by times used (so that I wouldn't tend to get duplicate crosswords on subsequent runs)
p26672
aVThe first thing you should do is design your patterns (blacks where you can't put letters and whites where you can)
p26673
aVTrying to fit words into a grid while creating the pattern on the fly is very time consuming and prone to errors
p26674
aVIf you look at most crosswords, they tend to follow certain rules to make it easier
p26675
aVThings like being symmetrical around one of the diagonals and disallowing a square of four white cells (to ease the task of selecting suitable words)
p26676
aVOnce you have the pattern, then you start finding words to place in it
p26677
aVThat way, you would know that "app" was the start of the word and be able to limit your searches to those starting with "app", not every word that has "app" in it
p26678
aVSimilarly for words where you have known letters at any positions
p26679
aVIt's a lot easier to locate words with letters at known positions than to evaluate those letters at any starting position within a word
p26680
aVMine ended up being written in shell script (believe it or not) and using the dictionary that came from Linux as a word search tool
p26681
aVIf you know you have a 5-letter word starting with "app", it's quite easy to use:
p26682
aVto get a list of all valid possibilities
p26683
aVAnd, as each word was found, it was copied to a clues
p26684
aVtxt file that contained both the word and multiple possible clues
p26685
aVThe actual format was use {count, word, clue} where the same word may exist on multiple lines with a different clue - this allowed piping of the  through  so that lesser used words/clues floated to the top (whenever a word/clue was used, its count was incremented, making it less likely to be used next time)
p26686
aVOnce that file was a decent size, the program would use it first to locate words and, only if one wasn't found would it revert to the words file (sans clues) where manual intervention would be required
p26687
aVIt actually ended up being quite good at doing the job
p26688
aVIt wasn't blindingly fast but I didn't need to generate one every three seconds - this was for a community newsletter sent out once a week
p26689
aVNow that you've changed the question to a Scrabble variant, that's actually much harder
p26690
aVYou need to take into account the letters you have, the letters on the board and the fact that there's a lot more places that you have to evaluate
p26691
aVThis makes a brute force method much harder
p26692
aVWhat I would do as an initial cut would be to select possibilities (starting position and direction on the board) chosen randomly, then use the same algorithm as for the crossword variant above to locate all words that can fit there
p26693
aVThen, if you have the letters to satisfy that word, store it (along with its score) in a list
p26694
aVKeep in mind that you need to watch out for interfering with other words on the board
p26695
aVI would continue to examine possibilities until one of:
p26696
aVyour list is big enough to choose from
p26697
aVyou run out of time
p26698
aVyou've examined enough possibilities to satisfy your competency level
p26699
aVThat last one's important - if you're playing a beginner, you don't want to exhaustively examine millions of possibilities
p26700
aVThen, choose the best move from your list (or maybe not the best if playing at beginner level - it all depends on how good you want the computer to be)
p26701
as(dp26702
g16
V14860
p26703
stp26704
a((dp26705
g2
(lp26706
VYou use , documented here:
p26707
aVYou can also then treat it as a C-style string (non-modifiable) by using , documented here
p26708
as(dp26709
g16
V14860
p26710
stp26711
a((dp26712
g2
(lp26713
VI'm sorry but I simply can't see the rationale for encrypting numbers in a database
p26714
aVIf you want to protect the data from prying eyes, surely SQL Server has security built into it, yes
p26715
aVIn that case, protect the database with its standard security
p26716
aVIf not, get a better DBMS (though I'd be surprised if this were necessary)
p26717
aVIf you have bits of information from that table that you want to make available (like some columns but not others), use a view, or a trigger to update another table (less secured), or a periodic transfer to that table
p26718
as(dp26719
g16
V14860
p26720
stp26721
a((dp26722
g2
(lp26723
VThe best solution is to download and install Cygwin or GNUWin32 but, if you're really limited to the standard command processor, it can get a little messy
p26724
aVThis is not the fastest method in the world but it's at least functional
p26725
aVThis command file processes each line one character at a time, treating specially the case where you find the stanza you're looking for
p26726
aVWith the input file:
p26727
aVyou end up with:
p26728
as(dp26729
g16
V14860
p26730
stp26731
a((dp26732
g2
(lp26733
VYou don't need a batch file, you can just execute:
p26734
aVYou can check the option to command with :
p26735
as(dp26736
g16
V14860
p26737
stp26738
a((dp26739
g2
(lp26740
VA typical algorithm would be as follows, with string indexes ranging from 0 to M-1
p26741
aVIt returns either the position of the match or -1 if not found
p26742
aVIt has a reasonable performance since it only checks as many characters in each haystack position as needed to discover there's no chance of a match
p26743
aVIt's not necessarily the most efficient algorithm but if your interviewer expects you to know all the high performance algorithms off the top of your head, they're being unrealistic (i
p26744
ag75
aV, fools)
p26745
aVA good developer knows the basics well, and how to find out the advanced stuff where necessary (e
p26746
ag1775
aV, when there's a performance problem, not before)
p26747
aVThe performance ranges between O(a) and O(ab) depending on the actual data in the strings, where a and b are the haystack and needle lengths respectively
p26748
aVOne possible improvement is to store, within the npos loop, the first location greater than hpos, where the character matches the first character of the needle
p26749
aVThat way you can skip hpos forward in the next iteration since you know there can be no possible match before that point
p26750
aVBut again, that may not be necessary, depending on your performance requirements
p26751
aVYou should work out the balance between speed and maintainability yourself
p26752
as(dp26753
g16
V14860
p26754
stp26755
a((dp26756
g2
(lp26757
VOnly if you actually rely on security through obscurity, which is a bad idea regardless of the language or platform
p26758
aVIf the code can be run, it can be reverse-engineered
p26759
as(dp26760
g16
V14860
p26761
stp26762
a((dp26763
g2
(lp26764
VFist thoughts are that you've run out of code space or data space while compiling
p26765
aVTurbo-C comes from the dark ages where memory models were rife and you frequently ran out of memory
p26766
aVYour code has a large number of character constants and quite a bit of code in the one compilation unit, which also points towards a compilation memory limitation
p26767
aVOne suggestion is to use a larger memory model
p26768
aVFrom memory, you had different memory models like 64K code+data, 64K code + 64K data, 64K code + multiple 64K data segments, multiple 64K code + multiple 64K data, and so on
p26769
aVA better suggestion is to start using a more recent compiler
p26770
as(dp26771
g16
V14860
p26772
stp26773
a((dp26774
g2
(lp26775
VWhy can you not simply use:
p26776
aVand then distinguish between  and
p26777
aVAnd this is a matter of style, so others may disagree but I never use  in queries, tending to prefer explicit column specifications
p26778
aVThat's not actually a problem in your case other than if you wanted to do:
p26779
aVand still distinguish between the two names
p26780
aVWith explicit column specifications, you can add an  clause to each column to give then unique names
p26781
as(dp26782
g16
V14860
p26783
stp26784
a((dp26785
g2
(lp26786
VI have no idea if this is the actual reason but I would think any DBMS worth its salt would see the "rows=3" property and just decide that it's not worth even looking at the indexes
p26787
aVThe speed at which you can do a full table scan on three rows would make any other method moot
p26788
aVTry to do the same thing with a few thousand rows and see if you get the same results
p26789
aVFrom here, a commenter states that "the table I tested with resulted in the index-merge-union version not using any indexes in certain situations" although they don't seem to know what those situations are, exactly :-) That's probably something you can raise with the MySQL support groups (and developers) as well
p26790
aVJust out of interest, what does the following query give you from EXPLAIN:
p26791
aVAnd it may be that MySQL is evaluating whether to use index-union based on the data within the table itself
p26792
aVIf there are only 2 variants of  and 3 variants of , it may again decide that your query will return a large proportion of the rows anyway, so not bother with optimization
p26793
aVYou could try with both a large number of rows and a large variety of values in both  and  columns
p26794
aVKeep in mind this is not based on my knowledge of MySQL, I've never seen the codebase or used the product
p26795
aVHowever, I have done a bit of work on a certain mainstream database product - so this advice is based on how I understand to do things efficiently, which may not be the case for MySQL specifically, and indeed may not be the case at all generally :-)
p26796
as(dp26797
g16
V14860
p26798
stp26799
a((dp26800
g2
(lp26801
VIt's just a shorter way of writing the same thing and it's only confusing to those who don't grok C
p26802
aVThe same argument could be made for replacing:
p26803
aVwith:
p26804
aVor ($DEITY forbid):
p26805
aVbut (I'm hoping) you wouldn't do that, would you
p26806
aVOr, invoking "reductio ad absurdum" mode, perhaps you'd rather change:
p26807
aVinto:
p26808
aV:-)
p26809
as(dp26810
g16
V14860
p26811
stp26812
a((dp26813
g2
(lp26814
VActually, you really shouldn't do that
p26815
aVThe amount of memory you grab should be dictated by the work you're doing rather than the amount you have available to you
p26816
aVDo you eat everything in the fridge (icebox
p26817
aVfor dinner just because it's there
p26818
aVI hope not
p26819
aVThe main reason for not doing it is to play nice
p26820
aVYours is rarely the only process running on the box and, if you try to allocate as much as possible, you may have an adverse effect on others
p26821
aVApplications should be designed to only allocate what they need, when they need it, and to fail gracefully if the OS decides they've already got too much
p26822
aVBy all means, allocate a big chunk at the start if you wish, but don't try to figure out how much it should be based on the memory available
p26823
aVIn any case, there is a disconnect between address space and physical memory in modern operating systems
p26824
aVYou can allocate more memory than physically exists and the OS will generally take care of it for you, swapping bits out to secondary storage as required
p26825
as(dp26826
g16
V14860
p26827
stp26828
a((dp26829
g2
(lp26830
VWell, given that it works for your non-mask values (including the first which also has the high bit set), I'd be looking at what  actually contains
p26831
aVWhat is it when you print it out as a normal unsigned long
p26832
aVMy bet is that  is actually not the correct value:
p26833
aV(assuming you have four-byte longs)
p26834
aVFor example, this little program (compiled under Cygwin):
p26835
aVoutputs:
p26836
aVNote that I had to separate my calls to  as it appears to use a static buffer
p26837
aVWhen I was doing it all within a single , it overwrote the contents of that buffer before any of them were printed, hence I only got the last one processed
p26838
aVI don't think that's happening in your case since you're getting different values
p26839
as(dp26840
g16
V14860
p26841
stp26842
a((dp26843
g2
(lp26844
VI very much doubt it
p26845
aVMemory leaks are dynamic allocations (in other words, run-time allocation rather than compile-time) where you forget to free them
p26846
aVGlobal variables like  are supposed to exist for the duration of the executable so they should not be considered a leak
p26847
aVI suspect you'll have to look elsewhere
p26848
aVPerhaps if you posted the output from your leak checker, we could help out some more
p26849
as(dp26850
g16
V14860
p26851
stp26852
a((dp26853
g2
(lp26854
VA standard
p26855
aVLike an ISO standard
p26856
aVNo, although quite a few of them actually count bits at b0
p26857
aVBut, in English terms, the second least significant bit is one removed from the (first) least significant bit, so that would be b1
p26858
aVSo the seventh would be b6
p26859
aVIn an octet, the most significant bit, b7, would be the eighth least signicant bit
p26860
aVFor what it's worth, I don't think I've ever heard the phrase, "the 7th least significant bit", in my entire 30-odd year worklife
p26861
aVIt's always been bN (where N rages from 0 to the number of bits minus one) or just the least or most significant bit (not even second most significant)
p26862
as(dp26863
g16
V14860
p26864
stp26865
a((dp26866
g2
(lp26867
VBecause it's better to be properly encapsulated and only open up the things that are needed, as opposed to having everything open by default and having to close it
p26868
aVEncapsulation (information hiding) is a good thing and, like security (for example the locking down of network services), the default should be towards good rather than bad
p26869
as(dp26870
g16
V14860
p26871
stp26872
a((dp26873
g2
(lp26874
VThe numbers 0 through 12 are special as I discovered when answering another question here
p26875
aVKeep in mind that this is an implementation detail, not a language specification thing
p26876
aVBasically, numbers up to (and including) 12 give you a reference to an already existing NSNumber, something which is possible due to the fact that they're immutable
p26877
aVInvestigation showed that numbers 13 or greater gave a separate instance
p26878
aVSo you probably have screwed up your memory management after all :-) It's just that the fact that numbers less than 13 are likely references to numbers already in existence that's saving your bacon in those cases
p26879
aVI suggest you post more code so that we can track down that specific problem
p26880
aVAnd based on your comment to another answer here:
p26881
aVI added a retain line into the code and everything works perfectly now
p26882
aVNo idea why
p26883
aVI'm just going to roll with it
p26884
aVThanks
p26885
aVI think you'll find that the fact that NSNumbers less than 13 already have a retain count of 1 before you get your own (bumping the count up to 2) is why they're not causing the EXC_BAD_ACCESS
p26886
aVObviously your code is losing all the numbers you allocate, but the system isn't freeing those under 13 since they're still in use (retain count of 1 or more)
p26887
as(dp26888
g16
V14860
p26889
stp26890
a((dp26891
g2
(lp26892
VYou need to use ftell to give you the position within the file
p26893
aVIf you want the current line, you'll have to count the number of line terminator sequences between the start of the file and the position
p26894
aVThe best way to do that is to probably start at the beginnning of the file and simmply read forward until you get to the position, counting the line terminator sequences as you go
p26895
aVIf you want the current line position (I assume you mean which character of the current line you're at), you'll have to count the number of characters between the line terminator sequence immediately preceding the position, and the position itself
p26896
aVThe best way to do that (since reading backwards is not as convenient) is to use fseek to back up a chunk at a time from the position, read the chunk into a buffer, then find the last line terminator sequence in the chunk, calculating the difference between that point and the position
p26897
as(dp26898
g16
V14860
p26899
stp26900
a((dp26901
g2
(lp26902
VThat would be part of the implementation of the stack itself
p26903
aVIf you're implementing a stack in (for example) C, you may store the stack pointer and the current number of elements
p26904
aVOr the stack pointer along with the base of the stack, something like:
p26905
aVIf you're talking about a CPU stack (return addresses and so forth), you may detect the stack underflow by virtue of the fact that you crash
p26906
aVBadly
p26907
aVAs an example, in olden days when processors were limited to 64K address space, CPUs typically tested memory until they found the first byte that didn't read the same as what was just written (in the boot up process)
p26908
aVThe was the first byte beyond actual physical memory so they set SP to one below that
p26909
aVOf course, some (small number of) machines had 64K of physical RAM so just set SP to the top of the address space
p26910
aVThe process nowadays, in huge-address-space, virtual-memory, multi-tasking operating systems, is a little more complicated but it still boils down to (in most cases):
p26911
aVAddress space is allocated for a process
p26912
aVSP is set to somewhere in that address space
p26913
aVProcess runs
p26914
aVAt that point, you're probably on your own as far as the kernel is concerned
p26915
aVIt's responsibility stops at the point where your code starts running other than task switching and providing services as requested, but that's nothing to do with your stack
p26916
aVIf your buggy code overflows or underflows the stack, that's your problem
p26917
aVThe kernel may check your SP on task switch to see if you've done something wrong but that's by no means guaranteed
p26918
aVIt may also use hardware memory protection to detect an underflow (if the stack is at the top of your allocated address space)
p26919
aVBut again, this depends entirely on the kernel you're using
p26920
as(dp26921
g16
V14860
p26922
stp26923
a((dp26924
g2
(lp26925
VEach number can be from 1 to 10000
p26926
aVThat means each number occupies at least 14 bits (213 = 8192, 214 = 16384)
p26927
aVYou have the ability to load 1000 numbers into memory
p26928
aVThat means you can use a bit mask since you've stated that the numbers are unique
p26929
aVSet up a bit mask of 10000 bits which, at 14 bits per number, is only 715 numbers (at most, less if you have more than 14 bits per number)
p26930
aVInitially clear the bits to indicate no numbers exist, then read the numbers one at a time, setting the relevant bit to indicate that it exists
p26931
aVThis is an O(n) operation
p26932
aVThen, once you have that bit array set up, it's an O(1) operation to see if a particular bit is set
p26933
aVEven the best sorting algorithm won't give you better than O(n) on random data
p26934
as(dp26935
g16
V14860
p26936
stp26937
a((dp26938
g2
(lp26939
VShould be okay on Vista
p26940
aVthe docs here state at the bottom of the page:
p26941
aVDLL: Wmicookr
p26942
aVdll on Windows Server 2003 and Windows XP, WmiPerfInst
p26943
aVdll on Windows Server 2008 and Windows Vista
p26944
aVCan you check that the  DLL exists on your box
p26945
aVAnother things to try is to see if you can get stats from the corresponding RawData class
p26946
aVVista appears to have changed the way in which raw data is translated to cooked data
p26947
aVMy knowledge of that is pretty thin (based on a very cursory Google search) since I'm only involved in WMI on XP/Svr2k3/Svr2k8 - I didn't think anyone was actually using Vista :-)
p26948
aVAnd, if you're going to accept my answer even though it didn't help, at least let me plagiarise your solution :-)
p26949
aVThese counters can be disabled in the registry
p26950
aVJust set HKEY_LOCAL_MACHINE\u005cSYSTEM\u005cCurrentControlSet\u005cServices\u005cPerfdisk\u005cPerformance\u005cDisable Performance Counters to 0 and reboot
p26951
aVBut seriously, thanks for that
p26952
aVAt some point, we'll probably have to support post-Vista ourselves so it'll help us out to know this
p26953
as(dp26954
g16
V14860
p26955
stp26956
a((dp26957
g2
(lp26958
VYes, by all means assume that copyright doesn't hold and then watch yourself get dragged through the courts when you find out you were mistaken :-)
p26959
aVThe default state for software in signatories to the Berne convention is that works are protected by copyright
p26960
aVIn the absence of an explicit licence to state otherwise (by the copyright owner, not some hosting site), you should assume you have no extra rights
p26961
aVI would suggest contacting the copyright holders and asking them to clarify the situation
p26962
as(dp26963
g16
V14860
p26964
stp26965
a((dp26966
g2
(lp26967
VIt looks like you're trying to get the  from the  (where  is any sequence of numerics), yes
p26968
aVIf so, I would just use:
p26969
aVNo doubt you could get it working with one  "instruction" () but sometimes it's easier just to break it down
p26970
aVThe first strips out everything from the start up to and including , the second strips from the first non-numeric after that to the end
p26971
aVAnd, as an aside, this is actually how I debug  regular expressions
p26972
aVI put simple ones in independent instructions (or independent part of a pipeline for other filtering commands) so I can see what each does
p26973
aVFollowing your edit, this also works:
p26974
aVAs to your comment:
p26975
aVIn the example path the components other than the numerical one can contain numbers similar to the numeric path component that I listed, but not quite the same
p26976
aVI'm trying to exactly match the component that that is 1-1
p26977
aVand see what some-number is
p26978
aVThe two-part  command I gave you should work with numerics anywhere in the string (as long as there's no  after the one you're interested in)
p26979
aVThat's because it actually deletes up to the specific  string and thereafter from the first non-numeric)
p26980
aVIf you have some examples that don't work as expected, toss them into the question as an update and I'll adjust the answer
p26981
as(dp26982
g16
V14860
p26983
stp26984
a((dp26985
g2
(lp26986
VI'm pretty certain the  stuff is not relevant here
p26987
aVIt's simply a way to automagically provide retries with a back-off strategy
p26988
aVIn other words, if the database manipulation fails, it waits a little bit then tries again, a number of times before finally failing
p26989
aVYou seem to be getting a  from your dictionary  operation which is more likely to be due  to the fact that the key you're using doesn't actually exist in the database
p26990
aVTry your code with something like:
p26991
aVThis should show you if the record doesn't exist in the table (by outputting the  message)
p26992
aVAs to what you do in that case, it depends on your architecture
p26993
aVYou would probably want to return either  or an empty string
p26994
aVYou may also want to do exactly what you're doing now (raising an exception)
p26995
as(dp26996
g16
V14860
p26997
stp26998
a((dp26999
g2
(lp27000
VThe following code snippet shows how to do this:
p27001
aVIts output is  as desired
p27002
aVThe  is what I use in every script to ensure variables are treated in a known way
p27003
aVThe  statement processes each line in the input file (the  bit stops the line from being tokenised into separate words)
p27004
aVThe  bits are substrings with  being the first ten characters and  being the rest
p27005
aVSo, basically, it checks every line to see if it starts with  and, if so, extracts the rest of the line for later
p27006
as(dp27007
g16
V14860
p27008
stp27009
a((dp27010
g2
(lp27011
VLoad the data into memory 512M at a time then sort that chunk and write it out to disk (as its own file)
p27012
aVOnce the entire 1T has been done this way, merge-sort the individual files into one big honkin' file, then read that big (sorted) file sequentially, writing it to the final file while removing the duplicate records
p27013
aV1T, 512M at a time, will be about 2
p27014
aV1 million files (assuming the binary definitions of SI units rather than decimal)
p27015
aV512M of 1K records will only allow 524,288 records in memory at one time so you'll probably have to do the merge sort in two stages
p27016
aVIn other words, merge-sort the 2
p27017
aV1 million files in four groups to create four bigger files, then merge-sort those four into the big sorted file
p27018
aVThen that's the one you process sequentially to remove duplicates
p27019
aVA merge-sort is simply merging multiple already-sorted files by just selecting the first remaining record from each file and choosing the "lowest"
p27020
aVFor example, the two files  and :
p27021
as(dp27022
g16
V14860
p27023
stp27024
a((dp27025
g2
(lp27026
VThe thing with  loops is that they tend to process one item at a time, often when it's unnecessary
p27027
aVThis is where  has an advantage - it can batch up the arguments to allow one command to process lots of items
p27028
aVFor example, a while loop:
p27029
aVand the corresponding :
p27030
aVHere you can see that the lines are processed one-by-one with the  and altogether with the
p27031
aVIn other words, the former is equivalent to  while the latter is equivalent to  (five processes as opposed to one)
p27032
aVThis really makes a difference when processing thousands or tens of thousands of lines, since process creation takes time
p27033
aVIt's mostly advantageous when using commands that can accept multiple arguments since it reduces the number of individual processes started, making things much faster
p27034
aVWhen I'm processing small files or the commands to run on each item are complicated (where I'm too lazy to write a separate script to give to ), I will use the  variant
p27035
aVWhere I'm interested in performance (large files), I will use , even if I have to write a separate script
p27036
as(dp27037
g16
V14860
p27038
stp27039
a((dp27040
g2
(lp27041
VWell, since this is a programming site, I would just compile something like:
p27042
aV:-)
p27043
as(dp27044
g16
V14860
p27045
stp27046
a((dp27047
g2
(lp27048
VI've never seen SQL like that
p27049
aVIf it exists, I would suspect it's a non-standard extension
p27050
aVTry:
p27051
aVIn other words, build the dynamic query from your tuples but as a series of unions instead, or as a series of ANDs within ORs:
p27052
aVSo, instead of code (pseudo-code, tested only in my head so debugging is your responsibility) such as:
p27053
aVyou would instead have something like:
p27054
as(dp27055
g16
V14860
p27056
stp27057
a((dp27058
g2
(lp27059
VThere was a time long ago when it was properly typed as
p27060
aVOther than that, I have a vague recollection that some platforms had a different bit pattern for NULL (ie, not all zeros) although I think ISO/ANSI fixed that at some point by specifying that 0 was the NULL pointer regardless of the underlying bit pattern
p27061
as(dp27062
g16
V14860
p27063
stp27064
a((dp27065
g2
(lp27066
VYou'll probably find you need to set a  option somewhere (or use  to send a specific low-level command to the FTP server - use  for details)
p27067
aVThe  command is typically implemented at the lower level as a  (name list) followed by a series of  (retrieve) operations
p27068
aVSince  is a command to the server to give you a list of names, it's probably the server that's delivering only those files with an extension
p27069
aVWithout knowing the server you're connecting to, (Windows, UNIX, z/OS,
p27070
aV, it's a little hard to give further information
p27071
as(dp27072
g16
V14860
p27073
stp27074
a((dp27075
g2
(lp27076
VThe right answer is to measure it, in the target environment, to see if it makes a difference
p27077
aVThen do a cost/benefit analysis to see if it's worth it
p27078
aVThe cost is the added storage and possibility of data getting out of sync (but see below on how to mitigate this)
p27079
aVThe benefit is the increased speed or reduced load
p27080
aVDatabase schemas are not set-and-forget operations, they should be tuned periodically as the underlying data changes
p27081
aVThat's what DBAs are paid for, continual monitoring and tuning
p27082
aVIn any case, the duplication of a column can be controlled quite easily in a decent DBMS by the use of triggers
p27083
aVBy that, I mean place an insert/update trigger on the users table so that, if a user changes their user name, it's also changed in the items table (and possibly vice versa)
p27084
aVWhether MySQL meets my definition of a decent DBMS, I can't comment - I'm a DB2 bod myself
p27085
aVBut reversion from third normal form is a tried and tested technique for wringing every last ounce of performance out of databases and, provided you understand the consequences, is quite acceptable
p27086
aVVery few people complain about their databases taking up too much disk space
p27087
aVMany complain about how slow their queries run
p27088
aVJust keep in mind that reversion is something you do if and when you have a performance problem
p27089
aVIt's not something that should be done just because you think it may reduce the load
p27090
aVUnless the load (or time taken) is actually a problem, the benefit part of your cost/benefit analysis is zero, so any sane bean counter will tell you that means "no change"
p27091
aVBased on your added queries, I have a couple of points to make:
p27092
aVFirst, the  column
p27093
aVPlease tell me how I can get access to this database :-)
p27094
aVYou should only extract the columns you need
p27095
aVIf the user name is all you require from the  table, you should not be getting all that extra stuff in the first query
p27096
aVPossibly likewise for the  stuff - only get what you need
p27097
aVMake sure you have indexes on all columns used in  clauses - this may also entail combination indexes (those with more than one column)
p27098
aVWhat gets indexed depends on your queries but each column used in the  clauses is a good start for analysis
p27099
aVFor large tables, you can consider "sweeping" removed items periodically into a separate table (e
p27100
ag1775
aV, ) to minimise the size of  and speed up the queries
p27101
aVBut keep in mind this is only useful if you rarely need to look for romoved items, since it will complicate those queries (by forcing them to search in two tables instead of one)
p27102
aVAgain, this is a cost/benefit thing
p27103
aVOne million rows is not really that big a table (at least in my world)
p27104
as(dp27105
g16
V14860
p27106
stp27107
a((dp27108
g2
(lp27109
VThat's not right
p27110
aVYou should be able to specify 0 as the number of file descriptors in the set
p27111
aVIn fact, that's how I remember doing timeout code in the early days, using  with no descriptors and a timeout value set appropriately
p27112
aVIf it's returning -1, you need to look at  to see what the problem is
p27113
aVAh, based on your comment,  means WinSock
p27114
aVThat explains your problems
p27115
aVIt's a hideous beast that should be put out of our misery :-)
p27116
aVThis page here states that you will get  if the time-out value is not valid or all three descriptor parameters are null
p27117
aVIt later states that  "initialises the set to the null set"
p27118
aVWhether that last snippet means that the parameter is still considered NULL, I don't know
p27119
aVAssuming that your timeout is okay (since it works if you have an FD in one of the sets), that's probably the case
p27120
aVI do know that Berkeley sockets distinguishes between a NULL FD set (i
p27121
ag75
aV, a NULL pointer) and and empty FD set (a valid pointer with no FDs set) - WinSock may not be that versatile especially since the  is ignored and included only for compatibility with Berkeley
p27122
aVI suspect (although I'm not sure) that WinSock is probably expecting you to not do what you're trying to do
p27123
aVIt may well just assume that you're doing something wrong and should use  only for one or more sockets in one or more FD sets (since the only use for  with no FDs is a delay and Windows has plenty of better ways of doing delays)
p27124
as(dp27125
g16
V14860
p27126
stp27127
a((dp27128
g2
(lp27129
VProbably subjective but I call it the first element or element zero
p27130
aVIt is the first and, Isaac Asimov's laws of robotics aside, I'm not even confident that zeroth is a real word :-)
p27131
aVBy definition, anything preceding the first becomes the first, and pushes everything else out by one
p27132
as(dp27133
g16
V14860
p27134
stp27135
a((dp27136
g2
(lp27137
VYou should do an  on that script
p27138
aVMy guesstimate is that it's almost certainly going to have the wrong line ending character in it
p27139
aVThe reason I suggest this is because the line:
p27140
aVlooks suspiciously like the two lines:
p27141
aVmerged together (where the  characters indicate something that's been overwritten)
p27142
aVThat would be the case if your variable in that line was var_namecarriage-return rather than the more normal
p27143
aVThe fact that it's Cygwin also points to that conclusion since there's often trouble when you edit your scripts with a Windows editor which uses CR/LF where Cygwin expects just LF
p27144
aVI suspect you'll find that doing an  on your actual script shows that you have those Windows line endings on one or more of your script lines
p27145
aVIn fact, I just tested this under Ubuntu by putting a  at the end of just the  line and the output was (slightly modified to show the ):
p27146
aVIn other words, very similar to what you're seeing
p27147
aVAs an aside (now that I have access to my Cygwin environment), what you're seeing is the output:
p27148
aVwhere the second line overwrites the first, giving:
p27149
aVIn other words, the strange word  is actually made up of  and the final  from
p27150
aVThe reason it's only similar to my example above (as opposed to exact) is because your file name and line number will be different to my little test script
p27151
as(dp27152
g16
V14860
p27153
stp27154
a((dp27155
g2
(lp27156
VI believe this may be what you're looking for
p27157
aVIt forces at least one word of your desired pattern, then zero to four of the same, each preceded by one or more whitespace characters:
p27158
aVwhere  is your actual one-word regex
p27159
aVIt's separated into two distinct sections so that you're not required to have whitespace at the end of the string
p27160
as(dp27161
g16
V14860
p27162
stp27163
a((dp27164
g2
(lp27165
VSince it's homework, I'm going to help you help yourself
p27166
aVThe first thing you should do is to code up a  function which spits out the tree in readable form, showing, for every node:
p27167
aVaddress of current node
p27168
aVvalue of current node
p27169
aVaddress of left node pointer
p27170
aVaddress of right node pointer
p27171
aVThen call that  function after every insert and delete
p27172
aVThis is standard debugging 101 and you can, if you wish, leave that code in
p27173
aVIt may well garner more marks from your educator if you show them you have the smarts to write unit testing code
p27174
as(dp27175
g16
V14860
p27176
stp27177
a((dp27178
g2
(lp27179
VHow about:
p27180
aVThis is assuming you're not too worried about the white space between fields (in other words, three tabs and a space is no different to a space and 7 tabs)
p27181
aVThis is usually the case when you're talking about fields within a text file
p27182
aVWhat it does is output both files, stripping off the last field (since you don't care about that one in terms of comparisons)
p27183
aVIt the sorts that so that similar lines are adjacent then uniquifies them (replaces each group of adjacent identical lines with one copy and a count)
p27184
aVIt then gets rid of all those that had a one-count (no duplicates) and prints out each with the count stripped off
p27185
aVThat gives you your "keys" to the duplicate lines and you can then use another awk iteration to locate those keys in the files if you wish
p27186
aVThis won't work as expected if two identical keys are only in one file since the files are combined early on
p27187
aVIn other words, if you have duplicate keys in  but not in , that will be a false positive
p27188
aVThen, the only real solution I can think of is a solution which checks  for each line in  although I'm sure others may come up with cleverer solutions
p27189
aVAnd, for those who enjoy a little bit of sado-masochism, here's the afore-mentioned not-overly-efficient solution:
p27190
aVThis one constructs a separate script file to do the work
p27191
aVFor each line in , it creates a line in the script to look for that in
p27192
aVIf you want to see how it works, just have a look at  before you delete it
p27193
aVAnd, in this one, the spaces do matter so don't be surprised if it doesn't work for lines where spaces are different between  and  (though, as with most "hideous" scripts, that can be fixed with just another link in the pipeline)
p27194
aVIt's more here as an example of the ghastly things you can create for quick'n'dirty jobs
p27195
aVThis is not what I would do for production-quality code but it's fine for a once-off, provided you destroy all evidence of it before The Daily WTF finds out about it :-)
p27196
as(dp27197
g16
V14860
p27198
stp27199
a((dp27200
g2
(lp27201
VAs an aside, they're file descriptors rather than file handles
p27202
aVThe latter are a C feature used with  and its brethren while descriptors are more UNIXy, for use with  et al
p27203
aVInteresting
p27204
aVThe only reason that comes to mind is that some other piece of code has a specific need for the file descriptor to be 256
p27205
aVI suspect only Oracle would know the bizarre reasons for that
p27206
aVIn any case, you're not guaranteed to get 256, you get the file first available file descriptor greater than or equal to that number
p27207
aVFrom a bit of investigation (I don't know every little thing about the innards of UNIX off the top of my head), there are attributes that belong to a group of duplicated descriptors such as file position and access mode
p27208
aVThere are other attributes that belong to a single file descriptor, even when duplicated, such as the close-on-exec flag in GNULib
p27209
aVDoing a duplicate (either with ,  or your ) could be a way to create two descriptors, one with different file descriptor attributes, but I can't see that being the case in your question since the first descriptor is closed anyway
p27210
aVAs you say, why not just use the low descriptor
p27211
aVInterestingly enough, if you google for , you will see similar traces where the  fails and it continues to read that file with the low descriptor so my thoughts on the matter are that this is an attempt to preserve low file descriptors as much as possible
p27212
aVFor example:
p27213
aVMaybe the software has a byte array of file descriptors somewhere that's limited so it attempts to move other files above the 255-limit
p27214
aVBut really, that's just guesswork on my part (although I'd like to think it's relatively intelligent guesswork)
p27215
aVAlso keep in mind that it may not be Oracle itself doing this
p27216
aVThe netconfig stuff is used in a lot of places so it may be some underlying library doing that, especially in light of the fact that most of the afore-mentioned web hits weren't Oracle-specific (,  and so on)
p27217
as(dp27218
g16
V14860
p27219
stp27220
a((dp27221
g2
(lp27222
VTry:
p27223
aVI've never used braces within braces and prefer the semi-colon separators for this purpose
p27224
aVI'm pretty certain the else clause is bound only to  in your example, not to both the braced entries
p27225
aVIn that case,  will be executed for all lines
p27226
as(dp27227
g16
V14860
p27228
stp27229
a((dp27230
g2
(lp27231
VAssuming that  is a date field rather than a datetime field, that should work
p27232
aVIf it's a datetime field, you would have to use something like  as the first ordering predicate:
p27233
as(dp27234
g16
V14860
p27235
stp27236
a((dp27237
g2
(lp27238
VYou can do this with :
p27239
aVwhich outputs:
p27240
aVNot all implementations of  will require the  clause but I always like to include explicit initialisation
p27241
aVIt works by using an echo flag () to decide whether you're in the summary section or not
p27242
as(dp27243
g16
V14860
p27244
stp27245
a((dp27246
g2
(lp27247
VFor part 1,  is the answer
p27248
aVYou can just use the regex feature along with :
p27249
aVIt's important in this case that you do not have a space between the  and the pipe character , since that will result in a space being output which is not one of your acceptable characters
p27250
aVFor part 2,  is also the answer ( is ignore case which may be what you want - leave it off if case must match):
p27251
aVYou can then use:
p27252
aVto change the behaviour of your script in both cases
p27253
aVFor example, the code segment for the ruby check could be something like:
p27254
as(dp27255
g16
V14860
p27256
stp27257
a((dp27258
g2
(lp27259
VThis appears to be a bug caused by the use of ranges within regular expression searches
p27260
aVIt doesn't occur for the first character in the range
p27261
aVIt doesn't occur at all for non-ranges
p27262
aVTo get around the problem, I simply used specific ranges ( instead of )
p27263
aVA more sensible approach for those that are allowed would be to download CygWin or GnuWin32 and use  from one of those packages
p27264
as(dp27265
g16
V14860
p27266
stp27267
a((dp27268
g2
(lp27269
VWell, for the flag changing at every odd number, it looks like your boolean should be true if and only if , where  is the modulo operator:
p27270
aVI've deliberately added three instead of subtracting one, since some languages have different ideas of what the modulo operator should do for negative numbers
p27271
aVAnd keep in mind that this is language-agnostic
p27272
aVIf you're specifically looking for a C or C-like language solution, see the excellent answer here from Christoffer Hammarstrm ( just in case it ever disappears) - this is far more succinct in those particular languages
p27273
as(dp27274
g16
V14860
p27275
stp27276
a((dp27277
g2
(lp27278
VYou cannot rely on ordering unless you specify  in your SQL query
p27279
aVSQL is a relational algebra that works with sets
p27280
aVThose sets are unordered
p27281
aVDatabase tables do not have an intrinsic ordering
p27282
aVIt may well be that the sets are ordered due to the way the data is retrieved from the tables
p27283
aVThis may be based on primary key, order of insertion, clustered key, seemingly random order based on the execution plan of the query or the actual data in the table or even the phase of the moon
p27284
aVBottom line, if you want a specific order, use
p27285
aVIf you don't want a specific order, the DBMS is free to deliver your rows in any order, including one based on the first column
p27286
aVIf you really want them sorted depending on the position in the import file, you should add another column to the table to store an increasing number based on its position in that file
p27287
aVThen use  using that column
p27288
aVBut that's a pretty arbitrary sort order, you're generally better off choosing one that makes more sense to the data (transaction ID, date/time, customer number or whatever else you have)
p27289
aVIf you want to avoid the default sort (however variable that may be), use a specific sort
p27290
as(dp27291
g16
V14860
p27292
stp27293
a((dp27294
g2
(lp27295
VIt looks like you haven't provided a  function in any of your source files
p27296
aVThe  object file is most likely the startup code which sets up your environment then calls  (CRT usually stands for C runtime, when it's not being used to mean Cathode Ray Tube, which it shouldn't any more, that being dead technology and all)
p27297
aVThe  simply means that the linker has discovered  needs the  symbol satisfied and none of the files provided are satisfying it
p27298
aVShort of seeing the actual linker command line, we can't be certain what's being included
p27299
aVYou should check your source code and confirm or deny the existence of
p27300
aVAnd that it's inluded in the build
p27301
as(dp27302
g16
V14860
p27303
stp27304
a((dp27305
g2
(lp27306
VWell, they bring a larger range of integers so computers can easily handle, for example, Bill Gates' tax returns
p27307
aVAs an aside,  isn't very new at all but most people just use the shorter variant
p27308
aVLook for the sequels to these in an upcoming draft of the new ISO standards:
p27309
as(dp27310
g16
V14860
p27311
stp27312
a((dp27313
g2
(lp27314
VIf you want a simplistic solution (using 1-based indexes):
p27315
aVThis is assuming zeros are allowed in the upper left
p27316
aVIf not, you'd have to check that as well
p27317
aVReasonably simple
p27318
aVOn your 4x4 matrix, it iterates row from 2 to 4 inclusive
p27319
aVFor row 2, it iterates column from 4 to 4 inclusive
p27320
aVFor row 3, it iterates column from 3 to 4 inclusive
p27321
aVFor row 4, it iterates column from 2 to 4 inclusive
p27322
aVAt every one of those cells, it just checks that the number is zero
p27323
aVIf not, it's not upper left triangular
p27324
aVIf all cells checked are zero, then it is
p27325
as(dp27326
g16
V14860
p27327
stp27328
a((dp27329
g2
(lp27330
VThe line:
p27331
aVallocates exactly one  for storage, into which you are then copying more than one -  needs to put, at a bare minimum, the null terminator but, in your case, also the results of your  as well
p27332
aVThe reason it may work on a different system is that some implementations of  will allocate at a certain resolution (e
p27333
ag1775
aV, a multiple of 16 bytes) no matter what actual value you ask for, so you may have some free space there at the end of your buffer
p27334
aVBut what you're attempting is still very much undefined behaviour
p27335
aVThe fact that the undefined behaviour may be to work sometimes in no way abrogates your responsibility to avoid such behaviour
p27336
aVAllocate enough space for storing the results of your  and you should be okay
p27337
aVThe safest way to do this is to dynamically allocate the space so that it's at least as big as the string you're passing to
p27338
aVThat way there can be no possibility of overflow (other than weird edge cases where other threads may modify the data behind your back but, if that were the case,  would be a very bad choice anyway)
p27339
aVSomething like (if  is your original input string):
p27340
aVThis guarantees that any token extracted from  will fit within
p27341
aVAs an aside,  is always 1 by definition, so you don't need to multiply by it
p27342
as(dp27343
g16
V14860
p27344
stp27345
a((dp27346
g2
(lp27347
VCan't be done, unfortunately, without rewriting the file, either in-place or as a separate file
p27348
aVOne thing you may want to look at is to maintain a pointer in another file, specifying the position of the first unprocessed line
p27349
aVThen your process simply opens the file and seeks to that location, processes some lines, then updates the pointer
p27350
aVYou'll still need to roll over the files at some point lest they continue to grow forever
p27351
as(dp27352
g16
V14860
p27353
stp27354
a((dp27355
g2
(lp27356
VObjective-C is really (conceptually) just a layer on the C language itself and, as such, can have both static and dynamic types
p27357
aVStatic if you're using the base-C stuff, dynamic if you're using the Objective-C extensions
p27358
aVBut C also sort-of provides this feature
p27359
aVIf you just think about the void * type in C, you'll see that it can point to any type, hence giving you a (very rough) dynamically-typed language
p27360
aVFor example:
p27361
aVAt all those assignments to  above, it's made to point to a different type
p27362
aVIf you do your code cleverly enough, you can even emulate RTTI and polymorphism in C
p27363
aVI would consider a language primarily statically or dynamically typed, based on what it was most used for
p27364
as(dp27365
g16
V14860
p27366
stp27367
a((dp27368
g2
(lp27369
VOne way of doing this is to simply execute an insert and update command, ignoring the error on the first if there's already a record with that key:
p27370
aVIf you want the initial weight of a created entry to be (for example) 72, use this as the first statement:
p27371
as(dp27372
g16
V14860
p27373
stp27374
a((dp27375
g2
(lp27376
VChange  to  and see how it goes and use `Match` as the table:  is a reserved word
p27377
as(dp27378
g16
V14860
p27379
stp27380
a((dp27381
g2
(lp27382
VFor categories and sub-categories to any level, along with products belonging to multiple categories, I would start with:
p27383
aVThis way you can reach your goal of a hierarchy of categories as well as achieving a many-to-many relationship between products and categories
p27384
aVYou can select a product ID belonging to multiple categories (e
p27385
ag1775
aV, 3 and 4) with a query like:
p27386
as(dp27387
g16
V14860
p27388
stp27389
a((dp27390
g2
(lp27391
VMeet your deadlines
p27392
aVAnd if you don't have deadlines, create your own
p27393
aVProgrammers don't work in a vacuum, they're there to serve a business need most of the time
p27394
aVI usually get a rapid delivery solution done first then, provided I have time, I begin the process of cleaning it up (making sure not to break the functionality
p27395
aVThe last good version at the deadline is the shipping version
p27396
aVTrust me, the first couple of boots in the rear-end or other bad performance appraisals will educate you on the importance of this :-)
p27397
as(dp27398
g16
V14860
p27399
stp27400
a((dp27401
g2
(lp27402
VYou have the right idea, the following programs is one way to do it:
p27403
aVIt produced the following output:
p27404
as(dp27405
g16
V14860
p27406
stp27407
a((dp27408
g2
(lp27409
VFor a start, it's a waste of time doing that first  since you immediately initialise them with the first  loop
p27410
aVHaving said that, there's nothing at all wrong with the code you've shown
p27411
aVTherefore, either your error lies elsewhere or that's not the code you've posted
p27412
aVI suggest you post the exact error message along with a cut-and-pasted copy of the offending line and ten lines either side of it for context
p27413
aVThat will make our lives a lot easier in helping you out
p27414
aVThe errors:
p27415
aVas shown in one of your comments is usually caused by unbalanced parentheses
p27416
aVCheck all your  and  characters to ensure they're equal in number, and in the right place
p27417
aVIt's probably because you're missing a  in the statement before the  but that's just an educated guess since the code you posted does not have that problem
p27418
as(dp27419
g16
V14860
p27420
stp27421
a((dp27422
g2
(lp27423
VMy own thought are that, for efficiency, as much as possible should be done in the view, as long as there are no data implications
p27424
aVIn other words, the view can check for missing zipcode or non-numeric zipcode (as long as you're certain the data model won't ever allow non-numerics)
p27425
aVBut, the second you decide to check data (such as "Is the zipcode a valid one for the continental US
p27426
aV, that should be referred to the data model itself
p27427
aVI've seen situations where the view is created with a series of regular expressions for pre-validation (one per field) so as to not unnecessarily burden the other layers
p27428
aVThis means that the data entered passes at least the first layer of sanity checks before being passed back for more complete validation
p27429
aVAnd, as an aside, don't ever use the term "sanity check" in user documentation when referring to checking what the user has entered
p27430
aVYou might think it's an innocent phrase but user don't always think so :-)
p27431
as(dp27432
g16
V14860
p27433
stp27434
a((dp27435
g2
(lp27436
VGenerally, if you're sure the errors are on the lines you think they're on, and the character being complained about doesn't exist, you should look to see what the preprocessor is expanding those lines into, such as by using the  flag to see the output of said preprocessor
p27437
aVI suspect  and its brethren may be expanding to something unexpected, but only viewing the preprocessor output will tell you for sure
p27438
as(dp27439
g16
V14860
p27440
stp27441
a((dp27442
g2
(lp27443
VThat depends entirely on your build environment of course and has nothing to do with C itself
p27444
aVOne thing you can try is to set up your include paths in your makefiles thus:
p27445
aVand uncomment the one you're working on
p27446
aVThen put your platform specific headers in those directories:
p27447
aVYou could, at a pinch, even have different platform makefiles such as  and  and not have to edit any files at all
p27448
aVBut I don't see your aversion to the preprocessor, that's one of the things it's good at, and people have been doing it successfully for decades
p27449
aVOn top of that, what happens when your code needs to change per-platform
p27450
aVYou can abstract the code into header files but that seems far harder to manage than a few s to me
p27451
as(dp27452
g16
V14860
p27453
stp27454
a((dp27455
g2
(lp27456
V is only called when an INT signal is delivered to the code (most likely when you press CTRLC or CTRLBREAK although there are other ways to raise that signal), not continuously while waiting for a keypress
p27457
aVYou'll also find that the lines
p27458
aVand
p27459
aVare typos - that first brace should be a parenthesis and you should use  for the second
p27460
aVIn addition,  should return an integer if you want to be standards-compliant
p27461
as(dp27462
g16
V14860
p27463
stp27464
a((dp27465
g2
(lp27466
VYou can use the following code as a baseline (you can use  files but I prefer  as an extension):
p27467
aVKeep in mind that  is the same format as you get from the  command and this may depend on locale
p27468
aVThe format I'm getting is  for around 8:15pm but your result may be different
p27469
aVIf it is, just adjust the substrings when setting  and
p27470
aVThe command:
p27471
aVsets  to the two characters of  at offset 3 (where offset 0 is the first character)
p27472
aVIf you're not a big fan of spaghetti code, even in batch, you could also use:
p27473
as(dp27474
g16
V14860
p27475
stp27476
a((dp27477
g2
(lp27478
V is the 32-bit value to use as the numerator of your division
p27479
aVThe most significant 16 bits are held in , the least significant in
p27480
aVIt's a way of specifying a 32-bit value in an otherwise 16-bit environment
p27481
as(dp27482
g16
V14860
p27483
stp27484
a((dp27485
g2
(lp27486
VThat seems about right
p27487
aVAs way of education, consider what happens when you feed in different  values (using rough powers of 10 rather than exact values):
p27488
aVSo, in terms of how fast they grow, you're list is correct
p27489
aVdoesn't grow at all
p27490
aVincreases its power-of-ten by one for each step
p27491
aVincreases its power-of-ten by 10 for each step
p27492
aVmultiplies its power-of-ten by ten each step
p27493
as(dp27494
g16
V14860
p27495
stp27496
a((dp27497
g2
(lp27498
VActually, that can't be done
p27499
aVYou can emulate it with something like the following:
p27500
aVThen you use the enumerated values () for all your code and, when you want the string value for descriptive purposes such as logging, use
p27501
aVJust make sure you keep your enumeration and array synchronised
p27502
as(dp27503
g16
V14860
p27504
stp27505
a((dp27506
g2
(lp27507
VNormally you would just run a sub-shell and background that:
p27508
as(dp27509
g16
V14860
p27510
stp27511
a((dp27512
g2
(lp27513
VQuite a few issues here
p27514
aVThe first parameter passed to  is of the wrong type:
p27515
aVYou should probably exit the function (or some other error handling) if you can't open the file:
p27516
aVThere's no need to open the file a hundred times
p27517
aVIf a regular file doesn't open the first time, it probably won't open at all (although there are cases where this may happen)
p27518
aVThis particular segment will result in wasted file handles:
p27519
aVIn addition it will reset the file pointer to the start of the file each time
p27520
aVIf your intent is to read up to 100 items from that file for storage into your array, I would suggest you start with:
p27521
aVIt successfully reads a test file I created
p27522
aVNow it may be that your input file is more complicated that just 100 strings to be loaded into  but the code above is a good start, showing the controlling logic
p27523
aVAd different line format would only change the way each line is read, not the loop around it
p27524
aVAnd, if you want to be able to handle arbitrary numbers of lines, I would move away from arrays to more expandable data structures
p27525
aVBut, for a first attempt, you're making the right choice keeping it simple
p27526
as(dp27527
g16
V14860
p27528
stp27529
a((dp27530
g2
(lp27531
VDo your pthread header files have  around the function prototypes
p27532
aVThat's the usual case for the linker not being able to link in C++
p27533
aVIt occurs because C++ generally does name-mangling so that it can encode parameter details into symbols (allowing polymorphism)
p27534
aVFor example, the functions:
p27535
aVall get different linker symbols
p27536
aVIf the header files don't have the , you may need to do it yourself:
p27537
aVHopefully that will work
p27538
as(dp27539
g16
V14860
p27540
stp27541
a((dp27542
g2
(lp27543
VIt doesn't come much cheaper than the solution I use - I like to consider myself frugal, my wife has another phrase for it :-)
p27544
aVAll my useful code is stored in individual files in a single  directory
p27545
aVThe first line of each contains:
p27546
aVwhere ,  and  are useful search terms such as ,  or
p27547
aVThe next few lines are often a description, mostly unnecessary since the code itself has extensive comments on how to use it
p27548
aVThen when I want some code for a BTree implementation in COBOL, I just use a script  which boils down to:
p27549
aValong with other tools which can be run within  using  to insert a snippet directly into my current source code file
p27550
aVOkay, so it's not the most speedy or elegant solution on the planet, but it works for me
p27551
aVAnd it easily handles the huge amounts of code I've collected over the last 30-odd years, in a format that's easy to recover and process
p27552
aV$80 isn't really that expensive but I prefer a simple free solution that's guaranteed to be around, and working, longer than any software product I could purchase
p27553
aVIf UNIX ever ships without , I may change my mind, but it'll no doubt be replaced with another search tool I could drop in as easily
p27554
as(dp27555
g16
V14860
p27556
stp27557
a((dp27558
g2
(lp27559
VActually, you don't need to use the  statement:
p27560
aV(under transactional control if you need atomicity)
p27561
aVYou could possibly combine the first two if they have the same multiplier as your question states
p27562
aVIt works by ensuring you do the higher values first and limit what rows get affected in the  clause
p27563
aVIf you feel you must use a  statement:
p27564
aVTo just change what you're pulling out of the table (rather than changing the table itself) and compare it with the current:
p27565
as(dp27566
g16
V14860
p27567
stp27568
a((dp27569
g2
(lp27570
VAs far as I'm aware
p27571
aV, unlike , is just a typeder to a real integer type along the lines of:
p27572
aVSo you should be able to do:
p27573
aVHere's a complete program, compiled under Cygwin with GNUstep, which illustrates it:
p27574
aVIt outputs:
p27575
as(dp27576
g16
V14860
p27577
stp27578
a((dp27579
g2
(lp27580
VIf your plan is to do this as part of a query, please don't do that (a)
p27581
aVSeriously, it's a performance killer
p27582
aVThere may be situations where you don't care about performance (such as one-off migration jobs to split the fields allowing better performance in future) but, if you're doing this regularly for anything other than a mickey-mouse database, you're wasting resources
p27583
aVIf you ever find yourself having to process only part of a column in some way, your DB design is flawed
p27584
aVIt may well work okay on a home address book or recipe application or any of myriad other small databases but it will not be scalable to "real" systems
p27585
aVStore the components of the name in separate columns
p27586
aVIt's almost invariably a lot faster to join columns together with a simple concatenation (when you need the full name) than it is to split them apart with a character search
p27587
aVIf, for some reason you cannot split the field, at least put in the extra columns and use an insert/update trigger to populate them
p27588
aVWhile not 3NF, this will guarantee that the data is still consistent and will massively speed up your queries
p27589
aVYou could also ensure that the extra columns are lower-cased (and indexed if you're searching on them) at the same time so as to not have to fiddle around with case issues
p27590
aVAnd, if you cannot even add the columns and triggers, be aware (and make your client aware, if it's for a client) that it is not scalable
p27591
aV(a) Of course, if your intent is to use this query to fix the schema so that the names are placed into separate columns in the table rather than the query, I'd consider that to be a valid use
p27592
aVBut I reiterate, doing it in the query is not really a good idea
p27593
as(dp27594
g16
V14860
p27595
stp27596
a((dp27597
g2
(lp27598
VFor that particular case, you can start with:
p27599
aVwhich will set  to x86 (in my case)
p27600
aVIf the third value on the line can contain spaces, you'll need to get a bit trickier
p27601
aVThe following script shows one way to be trickier
p27602
aVIt basically uses a debug line to produce fictional output from  that gives you an architecture with spaces
p27603
aVThe output of that is:
p27604
aVas expected (keep in mind it collapses multiple spaces into one)
p27605
aVThe  bit puts token 2 () into  and all following tokens into
p27606
aVSo a good final script would be:
p27607
aVThis script outputs:
p27608
aVso you know it's being set as you desire
p27609
as(dp27610
g16
V14860
p27611
stp27612
a((dp27613
g2
(lp27614
VI would be very impressed in a CPU that provided array lookup semantics in its assembly language
p27615
aVOr rather, I would be annoyed if it meant something more important had been sacrificed
p27616
aVThe general way to do array lookup in assembly is by doing the calculation yourself to turn the two indexes for a 2D array into a single index for a 1D array, and adjust for the element size
p27617
aVFor example (pseudo-code):
p27618
aVwhere  is one of the dimensions of the 2D array (which dimension you use depends entirely on how the data is laid out in memory),  is the size of each element,  is the start of the array and cx/dx are the indexes you're using to access the array
p27619
aVFor example, if you have a 3-by-4 () array at memory location  and these are 32-bit integers:
p27620
aVTo find array element , you calculate the major index multiplied by four plus the minor index, scale it to the correct element size (4 bytes) then add the base
p27621
aVTo find element
p27622
aVThen that's the address you use for looking up the 1D array
p27623
aVAnd, based on the comment that:
p27624
aVwould work, that's not quite right ( is masm-specific syntax equivalent to )
p27625
aVAll that does is a simple addition of the  address with the  and  registers
p27626
aVIt does not scale the  or  register to take into account the major dimension and it does not scale the  value for the element size
p27627
aVSo it will only work as-is for a 2D array of bytes where the major dimension is 1, which I'm pretty sure would make it a 1D array :-)
p27628
aVTo work for any case, you would first need to multiply  or  (depending on which is being used for the major dimension) by the major dimension then both  and  by the element size
p27629
as(dp27630
g16
V14860
p27631
stp27632
a((dp27633
g2
(lp27634
VJust restart (or recreate) the timer within the function:
p27635
as(dp27636
g16
V14860
p27637
stp27638
a((dp27639
g2
(lp27640
VI'd give:
p27641
aVa shot
p27642
aVI also like to offer extra solutions for RE engines that don't support all that PCRE stuff so, in a pinch, you could use:
p27643
aVIf you're RE engine is so primitive that it doesn't even allow specific repetitions, you'd have to revert to either some ugly hack like fully specifying the number of digits with alternate REs for 10 to 14 or, easier, just checking for:
p27644
aVand ensuring the length was between 10 and 14
p27645
aVBut that won't be needed for this case (ASP
p27646
aVNET)
p27647
as(dp27648
g16
V14860
p27649
stp27650
a((dp27651
g2
(lp27652
VThink first in terms of decimal (base 10): 643
p27653
aV72 is:
p27654
aV(6 * 102) +
p27655
aV(4 * 101) +
p27656
aV(3 * 100) +
p27657
aV(7 * 10-1) +
p27658
aV(2 * 10-2)
p27659
aVor 600 + 40 + 3 + 7/10 + 2/100
p27660
aVThat's because n0 is always 1, n-1 is the same as 1/n (for a specific case) and n-m is identical to 1/nm (for  more general case)
p27661
aVSimilarly, the binary number 1
p27662
aV1 is:
p27663
aV(1 * 20) +
p27664
aV(1 * 2-1)
p27665
aVwith 20 being one and 2-1 being one-half
p27666
aVIn decimal, the numbers to the left of the decimal point have multipliers 1, 10, 100 and so on heading left from the decimal point, and 1/10, 1/100, 1/1000 heading right (i
p27667
ag75
aV, 102, 101, 100, decimal point, 10-1, 10-2,
p27668
aVIn base-2, the numbers to the left of the binary point have multipliers 1, 2, 4, 8, 16 and so on heading left
p27669
aVThe numbers to the right have multipliers 1/2, 1/4, 1/8 and so on heading right
p27670
aVSo, for example, the binary number:
p27671
aVis equivalent to:
p27672
aVor:
p27673
as(dp27674
g16
V14860
p27675
stp27676
a((dp27677
g2
(lp27678
VThis is really stretching my memory back to high school physics
p27679
aVWhat you need are the suvat formulae, specifically the one for displacement:
p27680
aVs is the displacement (from initial position)
p27681
aVu is the starting speed
p27682
aVt is the elapsed time
p27683
aVa is the acceleration
p27684
aVSo, given that you're throwing the ball up at (for example) 5 metres per second, and with acceleration being -9
p27685
aV8 metres per second squared (on Earth), its position after one second would be 0
p27686
aV2 metres above the starting height
p27687
aVNote that you only have to worry about up and down in these equations (gravity) unless your application is going to be so realistic that it takes wind resistance into account
p27688
aVAll you need to do is to store the initial displacement (height) and velocity (vertical component only), then you can calculate the displacement at any given time value
p27689
aVKeep in mind these equations are for constant acceleration situations
p27690
aVThey may hold (mostly) around the Earth but may not be so accommodating where the gravity changes rapidly (like near a black hole)
p27691
as(dp27692
g16
V14860
p27693
stp27694
a((dp27695
g2
(lp27696
VWell, if you're looking for a way to just list the pages in order of most comments, I would group by page ID and then order by the count, something like:
p27697
aVTechnically, you don't need the  but I like to ensure a specific order even within a descending comment count
p27698
aVSo, if a lot of pages with an identical comment count appear, you can locate a specific page within that group easily
p27699
aVIn other words, if page 7 had two comments and all other pages had just one, you'd get
p27700
aVWithout the , pages 1 through 6 and 8 through 9 could come back in any order, like  and it could even change between runs of the query
p27701
aVFor example, build a sample table:
p27702
aVThen show all the data:
p27703
aVThen run a select to group by descending comment count:
p27704
as(dp27705
g16
V14860
p27706
stp27707
a((dp27708
g2
(lp27709
VIn answer to your specific questions:
p27710
aVResult: I would just set the result to an integer number of seconds
p27711
aVMy opinion is that data should be stored in databases, not formatting
p27712
aVSince the likely things you're going to want to do with this is sort by it and return rows less than or greater than specific values of it, an integer seems better to me
p27713
aVRace number: Same for race number
p27714
aVIf it's always going to be numeric, use an integer and worry about the formatting in the application
p27715
aVIf it can be non-numeric then by all means make it varchar but, for a numeric value, I can't see enough gain in making it so
p27716
aVUnique key: I don't really see the point in having a unique index on race number and ID
p27717
aVID is, by definition, already unique as a primary key
p27718
aVPerhaps you meant race number and place although even that is risky in the event of two people drawing for a place
p27719
aVSplit names: If you're ever going to treat them as individual values, then yes
p27720
aVOtherwise no
p27721
aVIn other words, avoid things like
p27722
as(dp27723
g16
V14860
p27724
stp27725
a((dp27726
g2
(lp27727
VYou shouldn't have any problem with this since they're fairly self-contained
p27728
aVWe run Europa and Ganymede side-by-side under Windows just fine
p27729
aVEuropa since our reporting solution depends on a specific version of BIRT and Ganymede (soon Galileo) for Java development
p27730
as(dp27731
g16
V14860
p27732
stp27733
a((dp27734
g2
(lp27735
VHow would you store these values, and why
p27736
aVI would store them as a single column
p27737
aVDespite your desire to separate the data into multiple columns, anyone who understands accounting or bookkeeping will know that the dollar value of a transaction is one thing, not two separate things based on whether it's income or expense (or asset, liablity, equity and so forth)
p27738
aVAs someone who's actually written fully balanced double-entry accounting applications and less formal budgeting applications, I suggest you rethink your decision
p27739
aVIt will make future work on this endeavour a lot easier
p27740
aVI'm sorry, that's probably not what you want to hear and may well result in ngative rep for me but I can't, in all honesty, let this go without telling you what a mistake it will be
p27741
aVYour "thoughts so far" are an indication of the problems already appearing
p27742
aV1/ "Having seperate columns might be more difficult to maintain (what happens if we end up with a 1 in both columns
p27743
aV- well, this shouldn't happen
p27744
aVData is supposed to be internally consistent to the data model
p27745
aVYou would be best advised preventing it with an insert/update trigger or, say, a single column that didn't allow it to happen :-)
p27746
aV2/ "Lookup might be easier with a single column, but there is a risk of mistaking 0 (false, expense) for null  (unknown)
p27747
aV- no mistake possible if the sign is stored with the magnitude of the value
p27748
aVAnd the whole idea of not knowing whether an item is expense or income is abhorrent to accountants
p27749
aVThat knowledge exists when the transaction is created, it's not something that is nebulous until some point after a transaction happens
p27750
as(dp27751
g16
V14860
p27752
stp27753
a((dp27754
g2
(lp27755
VRather than trying to protect yourself from your own mistakes, is there any way you could learn from them so that, in future, you won't make the same mistakes again
p27756
aV:-)
p27757
aVAll these sorts of things, such as setting pointers to NULL when the memory behind them is freed, or using "safe" string functions, belie the fact that even the use of so-called unsafe things can be perfectly safe in the hands of people that know what they're doing
p27758
aVMy suggestion is to either learn the gotchas of any language you want to use or move to a language that you feel safer with
p27759
aVWhat you're talking about is something like reference counting and there are many languages that have this (Objective-C springs to mind for one)
p27760
aVBut, if you're going to, or are forced to, code in C, learn the language, including it's dark side - you'll become a much better coder for it
p27761
aVAs an aside, I think what you're asking for is a way to track aliases of a pointer so that, if you free the memory behind one, all aliases are automagically set to NULL:
p27762
aVYou could achieve this this by doing a form of indirection in C
p27763
aVIn other words, intercept malloc (manually or using some gcc-like lazy binding trickery) so that, instead of returning a pointer to an allocated block, it returns a pointer to an allocated pointer to an allocated block
p27764
aVThe  calls would also have to be modified so that they freed the block but not the allocated pointer (which would be set to NULL)
p27765
aVIndirection operations within your code would then have to be double indirections ( instead of ):
p27766
aVIn graphical form:
p27767
aVWhen you called , the  would be freed but not the  pointer
p27768
aVIt would be set to NULL so that, whether you used  or  to try and get to the , you would get an error
p27769
aVOf course, this has the problem of leaving pointers lying around and the added problem that the first decent C coder that saw this code would track you down and beat you to a pulp :-)
p27770
aVThe "pointers lying around" problem could probably be solved by using a reference count in  but you'd have to ensure all copies of the pointer were tracked, such as with
p27771
aVThe "beating you to a pulp" problem is, for all intents and purposes, insoluble
p27772
as(dp27773
g16
V14860
p27774
stp27775
a((dp27776
g2
(lp27777
VI almost never use  directly since it's a pain to know where the file pointer is left on an error condition
p27778
aVI use  to pull in a single line, then I can use  to my heart's content without having to go back to the file to re-read
p27779
as(dp27780
g16
V14860
p27781
stp27782
a((dp27783
g2
(lp27784
VHow about something like:
p27785
aVObviously feel free to add whatever condition you want in a  clause but the basic premise of the  is to reverse the order in the two  sections
p27786
aVThe  clause will just get the first row in both cases
p27787
aVThat just happens to be the last row of set in the second  due to the fact that you've reversed the ordering
p27788
aVIf there is only one row resulting from your conditions and you don't want it returned twice, use  instead of
p27789
as(dp27790
g16
V14860
p27791
stp27792
a((dp27793
g2
(lp27794
VWow, those constraints are quite limiting but I think there may be a way around it
p27795
aVI think you may well have to write your own little script for this
p27796
aVI would use Java with JDBC myself (but any language that can connect to and read the database, and output strings, will do), writing a little program which retrieved a record set of every row in the database
p27797
aVThen, for every one of those rows:
p27798
aVConstruct an insert statement with the full data
p27799
aVIf this is less than 2,000 bytes, then just output it to the file and move on to the next row
p27800
aVOtherwise create an insert statement for every field, but leave the  field as  (empty)
p27801
aVThen, as long as your  string is greater than 2000 characters, output an update statement of the form  (appending the next 2000 characters) and then do  to strip off those characters from your string
p27802
aVOnce  is less than or equal to 2000 characters in length, just output one final update to tack it on the end
p27803
aVThis allows you to keep your individual SQL statements around the 2000-character mark and efficiently execute the correct SQL to repopulate another database table
p27804
aVThis is the type of thing I'm talking about (for a table containing just a primary key  and a big honkin' varchar ):
p27805
aVObviously, you may need to morph the strings to allow inserts of special characters - I'm not sure what format Oracle expects these in, but it would hopefully be a simple matter of passing the strings ( if the length of the full insert is less than 2000,  and  if you're constructing updates as well) to a helper function to do this
p27806
aVIf that morphing is likely to increase the size of the line printed, you may want to drop the threshold back to 1000 to be safe, to ensure the morphed string doesn't result in a line greater than the PL/SQL limit
p27807
aVSorry if that seems convoluted but the restrictions you've stated hamstring us a little bit
p27808
aVThere may well be a better way but I can't think of one that meets all your criteria
p27809
aVUpdate: It appears you're even more hamstrung than originally thought: if you have to limit yourself to SQL for generating the script as well as running it, there is a way, torturous though it is
p27810
aVYou can use SQL to generate SQL
p27811
aVUsing my afore-mentioned table with  and , you can do:
p27812
aVThat will give you all your baseline  statements for duplicating everything but the  column
p27813
aVWhat you then need to do is generate more statements for setting
p27814
aVTo update  for all values of length 1000 or less (simple set):
p27815
aVThen, to  c13 for all values between 1001 and 2000 characters (set then append):
p27816
aVAnd so on for the ones that are 2001-to-3000 and 3001-to-4000 in length
p27817
aVThere'll likely need to be some tweaking done
p27818
aVI'm happy to give you a way of solving it but my desire to work on such a monstrosity through to completion is minimal at best :-)
p27819
aVWill it get the job done
p27820
aVYes
p27821
aVIs it pretty
p27822
aVI'd say that was a resounding "NO
p27823
aVbut, given your constraints, that may be the best you can hope for
p27824
aVAs a proof of concept, here's an SQL script in DB2 (no special features though, it should work fine in any DBMS that has a  and  equivalent):
p27825
aVand this generates the following lines:
p27826
aVBreaking out the output lines, we get:
p27827
aVwhich should give you the original rows, albeit in a roundabout way
p27828
aVAnd that's about as much effort as I can put into any one question without my brain frying, so I'll bid you adieu unless any serious errors are pointed out to me
p27829
aVGood luck with your project, and best wishes
p27830
as(dp27831
g16
V14860
p27832
stp27833
a((dp27834
g2
(lp27835
VTry:
p27836
aVYou'll have to free the returned string yourself
p27837
aVIt simply finds the last  in the string and replaces it with a null terminator character
p27838
aVIt will handle errors (passing NULL or running out of memory) by returning NULL
p27839
aVIt won't work with things like  since it will find the  in the non-file portion but you could handle this by also doing a  of , or whatever your path separator is, and ensuring it's position is NULL or before the  position
p27840
aVA more general purpose solution to this problem could be:
p27841
aVand this produces:
p27842
as(dp27843
g16
V14860
p27844
stp27845
a((dp27846
g2
(lp27847
VJust like in C, the  loop has three sections:
p27848
aVa pre-loop section, which executes before the loop starts
p27849
aVa continuing condition section which, while true, will keep the loop going
p27850
aVa post-iteration section which is executed after each iteration of the loop body
p27851
aVFor example:
p27852
aVwill add up the numbers from 1 to 10 inclusive (in C and, assuming you use Perl syntax like  and braces, in Perl as well)
p27853
aVHowever, nothing requires that the sections actually contain anything and, if the condition is missing, it's assumed to be true
p27854
aVSo the  loop basically just means: don't do any loop setup, loop forever (breaks notwithstanding) and don't do any iteration-specific processing
p27855
aVIn other words, it's an infinite loop
p27856
as(dp27857
g16
V14860
p27858
stp27859
a((dp27860
g2
(lp27861
VYou should create the column and have:
p27862
aVan insert(after) trigger which sets it to the current date (or date/time)
p27863
aVan update(instead-of) trigger which does not allow the column to change
p27864
aVAny default-value solution is not secure since it can be bypassed by either specifically setting the column when inserting or changing the column afterwards
p27865
aVThe trigger-based solution puts the control with the DBMS where it belongs
p27866
as(dp27867
g16
V14860
p27868
stp27869
a((dp27870
g2
(lp27871
VI would simply create a  where the first integer is the value in the scores array and the second is the frequency
p27872
aVThen process the array filling in the hashmap
p27873
aVIf a key already existed, up the count by one
p27874
aVIf it's a new key, set it to one
p27875
aVThen process the hashmap to find the value with the largest occurrence
p27876
aVI was going to work on the source code once I got access to a machine where Java was installed but, since it's now marked homework, it's algorithms only (which will be better for you in the long run anyway):
p27877
aVThat's the basic algorithm I would follow which consists of two sequential loops
p27878
aVThe first simply creates a mapping of values to counts so that you can find the greatest count later
p27879
aVThe second runs through the map and creates a list of the values with the highest count
p27880
as(dp27881
g16
V14860
p27882
stp27883
a((dp27884
g2
(lp27885
VThat would depend on the language, which you haven't specified :-)
p27886
aVIn C (and some others), the scope (effectively duration in this case) of the variable is different
p27887
aVIn the first, the variable exists after the loop because it's declared outside it
p27888
aVIn the latter, it disappears when the loop ends because its existence is "inside" the loop body
p27889
as(dp27890
g16
V14860
p27891
stp27892
a((dp27893
g2
(lp27894
VThis C code will do it
p27895
aVYou'll need to translate to PHP:
p27896
aVIf you want to take an arbitrary two-digit number and sum the digits, you need an integer divide and modulo operator
p27897
aVInteger division of  by  can be done in PHP with  if both  and  are positive integers (as they are in your case)
p27898
aVModulo uses the  operator such as
p27899
as(dp27900
g16
V14860
p27901
stp27902
a((dp27903
g2
(lp27904
VYou could do a search and replace such as with sed:
p27905
aVI'm not entirely certain what the PHP syntax would be but it basically takes a pattern consisting of a digit (X), a comma, and three other digits (Y) and replaces them with just the XY bit
p27906
as(dp27907
g16
V14860
p27908
stp27909
a((dp27910
g2
(lp27911
VKeep in mind that the Single UNIX Spec may not necessarily be the controlling document in your case
p27912
aVGranted, it probably should be, but since you haven't actually specified the platform, it may be that you're in an environment that decided to follow different rules and/or have other return codes
p27913
aVA couple of things to check
p27914
aV1/ Are you sure that  is returning -1
p27915
aVI've seen coders simply check  following a call, not realising that most calls don't set it to zero on success, rather they simply leave it alone
p27916
aVIt's possible that such a situation would arise if  were set to  before the  call
p27917
aV2/ Have you followed all the rules in creating the semaphores, such as initialising them
p27918
aV3/ Are you referring to a valid semaphore
p27919
aVPrimarily, are you certain that the  index is not out of range
p27920
aVShort of seeing some code, that's about all the advice I have to give
p27921
aVOne thing I found with a cursory google of  is here
p27922
aVTurns out this was a problem with using  in a threaded environment without including the correct headers
p27923
aVBy doing that, the global  value was being used rather than the correct threaded macro (which would give the thread-specific )
p27924
aVWhether that's your problem, I have no idea, but it may be worth looking into
p27925
aVAnd following that chain of messages a little more closely, there are some other possibilities
p27926
aV4/ Are you using  to initialise the semaphores
p27927
aVIf so, check its return value
p27928
aVThe messages are from 2008 so it may be dated information, but OSX may still not support , preferring  (see here)
p27929
aVYou really should check the return codes from all your  functions as well, just to be certain (if you're using  for them all (and if it's unsupported) and are only checking one, you may find that they're all failing)
p27930
aV5/ There is (was
p27931
aVa race condition in the thread  function chain under OSX where the  function called another library call  before using  (in main thread, or  in other threads)
p27932
aVTechnically this is not allowed and there was a small window where problems could occur
p27933
as(dp27934
g16
V14860
p27935
stp27936
a((dp27937
g2
(lp27938
VPut the following statements before your  statement:
p27939
aVand see what comes out
p27940
aVThat error is alnmost invariably caused, surprisingly enough :-), by passing non-numeric data to  and the  statements should tell you exactly what the problem is
p27941
aVFor example:
p27942
aVBased on your comment that your output is:
p27943
aVit's possible that the spaces preceding your numeric values are causing your problems
p27944
aVTry replacing all your occurrences of:
p27945
aVwith:
p27946
aVto get rid of spaces in the  output
p27947
as(dp27948
g16
V14860
p27949
stp27950
a((dp27951
g2
(lp27952
VI follow two simple rules that avoid the vast majority of problems:
p27953
aVAll headers (and indeed any source files) should include what they need
p27954
aVThey should not rely on their users including things
p27955
aVAs an adjunct, all headers should have include guards so that they don't get included multiple times by over-ambitious application of rule 1 above
p27956
aVI also follow the guidelines of:
p27957
aVInclude system headers first (stdio
p27958
aVh, etc) with a dividing line
p27959
aVGroup them logically
p27960
aVIn other words:
p27961
aVAlthough, being guidelines, that's a subjective thing
p27962
aVThe rules on the other hand, I enforce rigidly, even to the point of providing 'wrapper' header files with include guards and grouped includes if some obnoxious third-party developer doesn't subscribe to my vision :-)
p27963
as(dp27964
g16
V14860
p27965
stp27966
a((dp27967
g2
(lp27968
VThese sort of comments are automatically modified by various source code control systems, things like author, date, history and so forth
p27969
aVSee here for some common ones for RCS which is the first source code control system I ever saw to implement this sort of thing (that doesn't mean it was the first, just that RCS was the first I ever used and it had that capability)
p27970
aVOne particular trick we used to use was to put the line:
p27971
aVinto the source file (and header files as well, although the names had to be unique) so that, when it was built, it would automatically have the ID of the files in the executable itself
p27972
aVThen we could use something like  to find out which source files were used to build the executable
p27973
aVIdeal for debugging problems in the field
p27974
as(dp27975
g16
V14860
p27976
stp27977
a((dp27978
g2
(lp27979
VJust wait around for a 256-bit compiler, then use  :-)
p27980
aVNo, seriously, since you just want to start with 1 and keep doubling, your best bet is to get a big integer library like GNU MP
p27981
aVYou would do that with a piece of code like (untested):
p27982
aVYou could code up your own data structure of an array of longs with only two operations, double and print but I think it would be far easier to just use GMP
p27983
aVIf you do want to roll your own, have a look at this
p27984
aVIt's a variation/simplification of some big integer libraries I've developed in the past:
p27985
ag5385
ag5385
ag5385
ag5385
aVand its associated output:
p27986
as(dp27987
g16
V14860
p27988
stp27989
a((dp27990
g2
(lp27991
VIt's just the way that condition variables are (or were originally) implemented
p27992
aVThe mutex is used to protect the condition variable itself
p27993
aVThat's why you need it locked before you do a wait
p27994
aVThe wait will "atomically" unlock the mutex, allowing others access to the condition variable (for signalling)
p27995
aVThen when the condition variable is signalled or broadcast to, one or more of the threads on the waiting list will be woken up and the mutex will be magically locked again for that thread
p27996
aVYou typically see the following operation with condition variables, illustrating how they work
p27997
aVThe following example is a worker thread which is given work via a signal to a condition variable
p27998
aVThe work is done within this loop provided that there is some available when the wait returns
p27999
aVWhen the thread has been flagged to stop doing work (usually by another thread setting the exit condition then kicking the condition variable to wake this thread up), the loop will exit, the mutex will be unlocked and this thread will exit
p28000
aVThe code above is a single-consumer model as the mutex remains locked while the work is being done
p28001
aVFor a multi-consumer variation, you can use, as an example:
p28002
aVwhich allows other consumers to receive work while this one is doing work
p28003
aVThe condition variable relieves you of the burden of polling some condition instead allowing another thread to notify you when something needs to happen
p28004
aVAnother thread can tell that thread that work is available as follows:
p28005
aVThe vast majority of what are often erroneously called spurious wakeups was generally always because multiple threads had been signalled within their  call (broadcast), one would return with the mutex, do the work, then re-wait
p28006
aVThen the second signalled thread could come out when there was no work to be done
p28007
aVSo you had to have an extra variable indicating that work should be done (this was inherently mutex-protected with the condvar/mutex pair here - other threads needed to lock the mutex before changing it however)
p28008
aVIt was technically possible for a thread to return from a condition wait without being kicked by another process (this is a genuine spurious wakeup) but, in all my many years working on pthreads, both in development/service of the code and as a user of them, I never once received one of these
p28009
aVMaybe that was just because HP had a decent implementation :-)
p28010
aVIn any case, the same code that handled the erroneous case also handled genuine spurious wakeups as well since the work-available flag would not be set for those
p28011
as(dp28012
g16
V14860
p28013
stp28014
a((dp28015
g2
(lp28016
VSimply  it with the bit inversion of (64-1):
p28017
aVThis basically clears out the lower six bits which is the same as rounding it down to a multiple of 64
p28018
aVBe aware that this will round towards negative infinity for negative numbers, not towards zero, but that seems to be what your question requires
p28019
aVYou can see the behaviour here in this multiple-of-four variant:
p28020
aVThis produces:
p28021
aVKeep in mind this only works for powers of two (like 26 = 64) and two's complement (the ISO standard doesn't mandate that representation - see here for details - but I've never seen an C environment that doesn't use it and I've worked on systems from the puniest 8051 to the largest mainframes)
p28022
aVIf you want to use any other number for the divisor, you should probably use the proper math functions like
p28023
as(dp28024
g16
V14860
p28025
stp28026
a((dp28027
g2
(lp28028
VThis is how I'd do it, with a helper function that just gave you the date and time in your desired format for inclusion into any output stream:
p28029
aVThis creates the file  with the contents:
p28030
as(dp28031
g16
V14860
p28032
stp28033
a((dp28034
g2
(lp28035
VYou should try opening  directly
p28036
aVThat's the only way I know for sure that you can bypass the  redirection
p28037
aVis usually a symbolic link to your actual tty device, which may be  or  or pretty much anything you want, depending on the weird and wonderful way your system may be set up
p28038
aVThe  command should be able to tell you which one it is (as will listing the symbolic link itself with )
p28039
aVBut as long as you open  for input, it should get the input from your terminal rather than the standard input stream, which may have been redirected
p28040
as(dp28041
g16
V14860
p28042
stp28043
a((dp28044
g2
(lp28045
VIt's not comparing '08' with '20', it is, as you expect, comparing '0800' with '20'
p28046
aVWhat you don't seem to expect, however, is that '0800' (the string) is indeed less than '20' (the string)
p28047
aVIf converting it to numerics for a numeric comparison is out of the question, you could use the following DB2 function:
p28048
aVwhich will give you  padded on the left with zeroes to a size of 10 (ideal for a , for example)
p28049
aVThat will at least guarantee that the fields are the same size and the comparison will work for your particular case
p28050
aVBut I urge you to rethink how you're doing things: per-row functions rarely scale well, performance-wise
p28051
aVIf you're using z/OS, you should have a few DBAs just lying around on the computer room floor waiting for work - you can probably ask one of them for advice more tailored to your specific application :-)
p28052
aVOne thing that comes to mind in the use of an insert/update trigger and secondary column  to hold the  column fully padded out (using the same method as above)
p28053
aVThen make sure your  variable is similarly formatted before executing the
p28054
aVIncurring that cost at insert/update time will amortise it over all the selects you're likely to do (which, because they're no longer using per-row functions, will be blindingly fast), giving you better overall performance (assuming your database isn't one of those incredibly rare beasts that are written more than read, of course)
p28055
as(dp28056
g16
V14860
p28057
stp28058
a((dp28059
g2
(lp28060
VErr, how about the venerable:
p28061
aVOn second thought,  itself should work fine, so there's something about the string you're getting from  that's not quite what you expect
p28062
aVWe'll need to see that
p28063
aVI suspect it's because your string doesn't actually end with a comma
p28064
aVWhen you run:
p28065
aVthe output is:
p28066
aVIn other words, if there's a newline at the end of the string as well as a comma, you'll need to  both characters with
p28067
aVOkay, based on your comment, here's what you're trying:
p28068
aVWhat are you actually getting from your two  statements and what is being appended to the log file
p28069
aVMy particular  doesn't have a :
p28070
aVbut yours may be different
p28071
aVStill, we need to see the output of your script
p28072
as(dp28073
g16
V14860
p28074
stp28075
a((dp28076
g2
(lp28077
VAnnotated below for your enjoyment:
p28078
aVIt works because the representation of an IPv4 address is a 32-bit value in memory and each of the four segments occupies one octet each
p28079
aVSo it's a relatively simple matter to cast the address of the 32-bit integer to a four-char array then use that array to extract the individual segments
p28080
aVThis is, of course, predicated on the data types having specific bit widths so it's not that portable
p28081
aVThe bizarre thing is the 12-IP-Address circular queue
p28082
aVMaybe that was so you could get up to 12 IP addresses at a time without the strings being overwritten although I don't think I've ever encountered a situation where more than two (maybe three for a proxy or pass-thru server) was required at the same time
p28083
aVI don't think it's for thread safety since the modification to  is inherently dangerous in a threaded environment
p28084
as(dp28085
g16
V14860
p28086
stp28087
a((dp28088
g2
(lp28089
VSurprisingly enough, I'm going to risk downvotes and tell you that the right direction is to leave your code in its relatively readable state
p28090
aVI suspect the only thing you could do that would be worse would be to do it as a regular expression or convert it to inline assembly :-)
p28091
aVThe fact that it's not converting easily should tell you something about the wisdom in what you're attempting
p28092
aVBased on your comment elsewhere:
p28093
aVThis is verilog and therefore I need to do it in ternary and can't have an if else, otherwise I would need an always block before and I don't want that
p28094
aVI want the remaining to be 0 if none of the conditions in the if else above is satisfied
p28095
aVWell, if you must do it, against my advice (and I'm not alone here in offering this advice), here's the method you should use (I have no idea what an "always block" even is so I'm not qualified to argue the point with you)
p28096
aVSince your current code is setting  and  to values then only changing them under certain conditions, you can transform that into a ternary by reversing the order
p28097
aVThat's because, in your  version, later code takes precedence but earlier code takes precedence in the ternary
p28098
aVFind out under what circumstances  and  are set in reverse order and reconstruct those conditions
p28099
aVHere's your original code, compressed a bit
p28100
aVI've also changed your  things into  so we still get nice formatting in the SO rendering engine - don't forget to change them back
p28101
aVYou can see B is set in three places
p28102
aVIt's set to  in the bottom ,  in the top one and  at the start
p28103
aVConverting the conditions:
p28104
aVSimilarly for A:
p28105
aVNow the theory behind that is good but I wouldn't be the least bit surprised if I'd made an error in the transcription, or if Verilog just threw its hands up in disgust, picked up its ball, and trotted off home :-)
p28106
aVCan I at least suggest, if you must follow this path, you both:
p28107
aVtry to leave the ternary expressions at least a little readable, with all that nice white space and multiple lines; and
p28108
aVkeep the original code in a comment so at least you can go back to it if you have problems or want to change the logic
p28109
aVSeriously, you'll thank me in six months time when you're looking over this again, trying to figure out what on Earth you were thinking :-)
p28110
as(dp28111
g16
V14860
p28112
stp28113
a((dp28114
g2
(lp28115
VAssuming you want to get rid of the math for performance reasons, the best way to do this (from a DBA's point of view) is to create another column called , then use an insert/update trigger to automatically populate it when a row changes, with the value you want:
p28116
aVThat way, the calculation is only done when required (on a row create/change) rather than on every single read
p28117
aVThis amortises the cost of the operation on databases that are read more often than written (which, in my experience, is close to all of them)
p28118
aVThen your query becomes a simple and blindingly fast:
p28119
aVThis method works because:
p28120
aVthe vast majority of databases are indeed read far more often than they're written; and
p28121
aVdisk space is cheaper than CPU grunt (compare the number of database questions regarding database performance against those regarding storage requirements - the former greatly outweigh the latter)
p28122
aVdatabase queries with per-row functions rarely scale well as the tables get bigger
p28123
aVThis is all assuming Oracle has triggers of course
p28124
aVI'm a DB2 man myself but I'd be surprised if Oracle was so brain dead it didn't have them
p28125
aVThen again, for all I know, maybe Oracle still can't distinguish between NULL and an empty string, so who knows
p28126
aV:-)
p28127
as(dp28128
g16
V14860
p28129
stp28130
a((dp28131
g2
(lp28132
VI don't believe Windows has a , you can emulate it with , as shown in this example  script:
p28133
aVThe  in the above script will wait for twenty seconds:
p28134
as(dp28135
g16
V14860
p28136
stp28137
a((dp28138
g2
(lp28139
V30% of any value is that value multiplied by 0
p28140
ag6296
aVSo 30% of 30% is  or 9%
p28141
aVSubstitute in whatever numbers you desire
p28142
as(dp28143
g16
V14860
p28144
stp28145
a((dp28146
g2
(lp28147
VThere are no general purpose pointers in Java, that you can easily manipulate by adding and subtracting arbitrary values like in C
p28148
aVThis can lead to all sorts of problems for those unused to them
p28149
aVHowever, Java still needs to distinguish between an object and "no object"
p28150
aVIt's just the name of the exception that means you're trying to use an object reference that doesn't have a backing object behind it
p28151
aVYou could just as easily call it  or , or one of a myriad of other names to minimise the possibility that people would think Java had general purpose pointers
p28152
aVBut  is what the language creators opted for, probably because they were used to coding in C and/or C++
p28153
as(dp28154
g16
V14860
p28155
stp28156
a((dp28157
g2
(lp28158
VThe query:
p28159
aVwill give you the second set of output:
p28160
aVbut not necessarily in that order
p28161
aVIt may also give you those three lines in any other order
p28162
aVA  clause does not mandate the order in which rows are returned
p28163
as(dp28164
g16
V14860
p28165
stp28166
a((dp28167
g2
(lp28168
VThe assignment does not remove the newline characters, it's actually the  doing this
p28169
aVYou need simply put quotes around the string to maintain those newlines:
p28170
aVThis wil give the result you want
p28171
aVSee the following transcript for a demo:
p28172
as(dp28173
g16
V14860
p28174
stp28175
a((dp28176
g2
(lp28177
VYes, there's a function  that you can use for this purpose:
p28178
aVThe float will be upgraded to a double by C itself and then GMP will turn that into an  type for you
p28179
aVBut you should be aware that  is an integer type, so you may lose precision
p28180
aVIf you're just using the floats to hold integers larger than your  type, that should be fine
p28181
aVIf you want to handle actual floating point values, you should probably be using
p28182
aVTo expand, here's some sample code and output:
p28183
aVNote the use of the combined  to simplify the code
p28184
aVThis is equivalent to the two statements:
p28185
aVThe program above outputs:
p28186
as(dp28187
g16
V14860
p28188
stp28189
a((dp28190
g2
(lp28191
VIt will result in five bytes being output
p28192
aVAnd five chars
p28193
aVIn ISO C, there is no distinction between chars and bytes
p28194
aVBytes are not necessarily 8 bits, instead being defined as the width of a char
p28195
aVThe ISO term for an 8-bit value is an octet
p28196
aVYour "nio" string is actually five characters wide in terms of the C environment (sans the null terminator, of course)
p28197
aVIf only four symbols show up on your terminal, that's almost certainly a function of the terminal, not C's output functions
p28198
aVI'm not saying a C implementation couldn't handle Unicode
p28199
aVIt could quite easily do UTF-32 if CHAR_BITS was defined as 32
p28200
aVUTF-8 would be harder since it's a variable length encoding but there are ways around almost any problem :-)
p28201
aVBased on your update, it seems like you might have a problem
p28202
aVHowever, I'm not seeing your described behaviour in my setup with the same locale settings
p28203
aVIn my case, I'm getting the same output in those last two  statements
p28204
aVIf your setup is just stopping output after the first  (I assume that's what you mean by abort but, if you meant the whole program aborts, that's much more serious), I would raise the issue with GNU (try your particular distributions bug procedures first)
p28205
aVYou've done all the important work such as producing a minimal test case so someone should even be happy to run that against the latest version if your distribution doesn't quite get there (most don't)
p28206
aVAs an aside, I'm not sure what you meant by checking the  output
p28207
aVOn my system, I get:
p28208
aVso you can see the output stream contains the UTF-8, meaning that it's the terminal program which must interpret this
p28209
aVC/glibc isn't modifying the output at all, so maybe I just misunderstood what you were trying to say
p28210
aVAlthough I've just realised you may be saying that your  output has only the starting bar on that line as well (unlike mine which appears to not have the problem), meaning that it is something wrong within C/glibc, not something wrong with the terminal silently dropping the characters (in all honesty, I would expect the terminal to drop either the whole line or just the offending character (i
p28211
ag75
aV, output ) - the fact that you're just getting  seems to preclude a terminal problem)
p28212
aVPlease clarify that
p28213
as(dp28214
g16
V14860
p28215
stp28216
a((dp28217
g2
(lp28218
VIf it's not a fixed-record-length file and you don't do some sort of indexing on the line starts, your best bet is to just use:
p28219
aVwhere  is the line number you want
p28220
aVThis isn't going to be the best-performing piece of code for a 3Gb file unfortunately but there are ways to make it better
p28221
aVIf the file doesn't change too often, you may want to consider indexing it
p28222
aVBy that I mean having another file with the line offsets in it as fixed length records
p28223
aVSo the file:
p28224
aVwould give you an fast way to locate each line
p28225
aVJust multiply the desired line number by the index record size and seek to there in the index file
p28226
aVThen use the value at that location to seek in the main file so you can read until the next newline character
p28227
aVSo for line 3, you would seek to 33 in the index file (index record length is 10 characters plus one more for the newline)
p28228
aVReading the value there, , would give you the offset to use into the main file
p28229
aVOf course, that's not so useful if the file changes frequently although, if you can control what happens when things get appended, you can still add offsets to the index efficiently
p28230
aVIf you don't control that, you'll have to re-index whenever the last-modified date of the index is earlier than that of the main file
p28231
aVAnd, based on your update:
p28232
aVUpdate: If it matters, all the lines have the same length
p28233
aVWith that extra piece of information, you don't need the index - you can just seek immediately to the right location in the main file by multiplying the record length by the record length (assuming the values fit into your data types)
p28234
aVSo something like the pseudo-code:
p28235
as(dp28236
g16
V14860
p28237
stp28238
a((dp28239
g2
(lp28240
VWith the  class of calls, you specify the program name and program executable separately so you can set it to NULL then
p28241
aVBut that quote is actually from the ISO standard (possibly paraphrased) and that standard covers a awfully large range of execution environments from the smallest micro-controller to the latest z10 Enterprise-class mainframe
p28242
aVMany of those embedded systems would be in the situation where an executable name makes little sense
p28243
aVFrom the latest c1x draft:
p28244
aVThe value of  shall be nonnegative
p28245
aVThe value  shall be a null pointer
p28246
aVIf the value of  is greater than zero, the array members  through  inclusive shall contain pointers to strings, which are given implementation-defined values by the host environment prior to program start up
p28247
aVThis means that, if  is zero (and it can be), argv[0] is NULL
p28248
aVBut, even when  is not 0, you may not get the program name, since the standard also states:
p28249
aVIf the value of  is greater than zero, the string pointed to by  represents the program name;  shall be the null character if the program name is not available from the host environment
p28250
aVIf the value of  is greater than one, the strings pointed to by  through  represent the program parameters
p28251
aVSo, there is no requirement under the standard that a program name be provided
p28252
aVI've seen programs use a wide selection of options for this value:
p28253
aVno value at all (for supposed security)
p28254
aVa blatant lie (such as  for a malicious piece of code)
p28255
aVthe actual program name (such as )
p28256
aVa slightly modified one (such as  for the login shell)
p28257
aVa descriptive name (e
p28258
ag1775
aV, )
p28259
as(dp28260
g16
V14860
p28261
stp28262
a((dp28263
g2
(lp28264
VCan't say for certain and this may not be what you want to hear but, given that the last release is dated 2006, I'd be very wary of using this in the latest compilers
p28265
aVIt may work but it's probably going to be up to you to get it going
p28266
aVThere seems to be a lot of discussion about getting it working in Cygwin and MinGW but precious little for MSVC, and nothing I can find beyond MSVC2005
p28267
aVAlso, if you examine the CVS archives, there are precious few files that have been updated in the last year (most are two to five years ago)
p28268
aVThe couple that are dated less than a year ago have the description "Comments and code style changes" which leads me to believe none of the meat of the product has been under active development for a while
p28269
aVNow maybe I'm wrong and this is just an incredibly well-written, stable product but my inner nature is more likely to conclude it's one of the bazillions of good ideas that have gone by the wayside
p28270
aVAnd, having a look at the mailing lists, there are only seven messages posted in the first five months of 2010 (the earliest of which has been unanswered for four months) and only 59 for the whole of 2009
p28271
aVColour me sceptical but that doesn't seem like a massively vibrant support community
p28272
aVThere seems to be a patch for 64-bit Windows (see here in the 2010 archives) but, again, this appears to have problems which are unanswered since February and it only mentions support for MinGW:
p28273
aVthis patch (a bit rough and need some final cleaning up and some extension to the test run makefile for allowing CROSS here) enables pthread to be build for the x86_64-pc-mingw32 target
p28274
aVThis is not the sort of thing I'd be using for my mission-critical software
p28275
aVAnd I know you stated that you're not interested in re-inventing the wheel but you can implement multi-reader locks and condition variables from the more basic primitives quite easily - I even had a multi-reader scheme that solved the write starvation problem in a way that almost got me a patent (not that I agree with software patents but my employer insists they're valuable)
p28276
aVAnd if the only wheel you have has half its spokes missing and is horribly bent out of shape, you may just need to reconsider :-)
p28277
aVIn any case, Vista and Server2k8 introduced both condition variables and slim reader/writer locks
p28278
aVThread-local storage has been around since Win2k
p28279
aVI know that won't help if you still need to support XP but I'd be looking to the future
p28280
aVAnd since you seem to have defined portability as "Windows-only", and all the features you want are available in the current versions, I'm not sure I see an advantage to sticking with pthreads
p28281
aVIf you wanted portability to POSIX, yes, but that doesn't seem to be the case here
p28282
as(dp28283
g16
V14860
p28284
stp28285
a((dp28286
g2
(lp28287
VWhat's wrong with something like:
p28288
aVThat syntax may not be perfect, I haven't done Python for a while - I'm just trying to get the basic idea across
p28289
aVThis defaults to the  case and only adds the extra restriction if you give a real user ID
p28290
as(dp28291
g16
V14860
p28292
stp28293
a((dp28294
g2
(lp28295
VYou really shouldn't store multiple items in one column if your SQL is ever going to want to process them individually
p28296
aVThe "SQL gymnastics" you have to perform in those cases are both ugly hacks and performance degraders
p28297
aVThe ideal solution is to split the individual items into separate columns and, for 3NF, move those columns to a separate table as rows if you really want to do it properly (but baby steps are probably okay if you're sure there will never be more than two reasons in the short-medium term)
p28298
aVThen your queries will be both simpler and faster
p28299
aVHowever, if that's not an option, you can use the afore-mentioned SQL gymnastics to do something like:
p28300
aVassuming your SQL dialect has a string search function ( in this case, but I think  for SQLServer)
p28301
aVThis will ensure all sub-columns begin and start with a comma (comma plus field plus comma) and look for a specific desired value (with the commas on either side to ensure it's a full sub-column match)
p28302
aVIf you can't control what the application puts in that column, I would opt for the DBA solution - DBA solutions are defined as those a DBA has to do to work around the inadequacies of their users :-)
p28303
aVCreate two new columns in that table and make an insert/update trigger which will populate them with the two reasons that a user puts into the original column
p28304
aVThen query those two new columns for specific values rather than trying to split apart the old column
p28305
aVThis means that the cost of splitting is only on row insert/update, not on _every single select`, amortising that cost efficiently
p28306
aVStill, my answer is to re-do the schema
p28307
aVThat will be the best way in the long term in terms of speed, readable queries and maintainability
p28308
as(dp28309
g16
V14860
p28310
stp28311
a((dp28312
g2
(lp28313
VBreak, in this case, will only break out of the  loop, not the  and  ones
p28314
aVA quick fix is to ensure you don't get repeats by starting each variable greater than or equal to the previous (so  is never less than  and  is never less than )
p28315
aVIn addition, you can actually get rid of the  loop altogether since there's only one value of  that is valid for a given  pair (unless  in which case there are none)
p28316
aVI would try something like:
p28317
aVThe overall effect of that is to reduce the total loop count from a billion (short scale) to about half a million hence reducing it by about 99
p28318
aV95% - that should be a tiny bit faster :-)
p28319
aVAnd potentially making it faster with Jerry Coffin's suggestion as well (and an inline suggestion to the compiler), a full program:
p28320
aVwhich takes 0
p28321
aV004 seconds on average (system + user) on my box, with the original taking about 2
p28322
aV772 seconds on average (ten samples each)
p28323
aVNot that it really matters unless you're running it many, many times, of course
p28324
aVThe output of that code is, as expected:
p28325
as(dp28326
g16
V14860
p28327
stp28328
a((dp28329
g2
(lp28330
VHow about the regex way:
p28331
aVThe  anchors to the start of the string (I'm assuming from context your strings are not multi-line here, otherwise you may need to look into  for start of input rather than start of line)
p28332
aVThe  means zero or more  characters (you could use  as well)
p28333
aVThe  just replaces all those  characters at the start with nothing
p28334
aVAnd if, like Vadzim, your definition of leading zeros doesn't include turning  (or  or similar strings) into an empty string (a rational enough expectation), simply put it back if necessary:
p28335
as(dp28336
g16
V14860
p28337
stp28338
a((dp28339
g2
(lp28340
VWell,  is still a numeric type, despite the fact it actually stands for Not-A-Number :-)
p28341
aVjust means the specific value cannot be represented within the limitations of the numeric type (although that could be said for all numbers that have to be rounded to fit, but  is a special case)
p28342
aVA specific  is not considered equal to another  because they may be different values
p28343
aVHowever,  is still a number type, just like 2718 or 31415
p28344
aVAs to your updated question to explain in layman's terms:
p28345
aVA comparison with a NaN always returns an unordered result even when comparing with itself
p28346
aVThe comparison predicates are either signalling or non-signalling, the signalling versions signal an invalid exception for such comparisons
p28347
aVThe equality and inequality predicates are non-signalling so x = x returning false can be used to test if x is a quiet NaN
p28348
aVAll this means is (broken down into parts):
p28349
aVA comparison with a NaN always returns an unordered result even when comparing with itself
p28350
aVBasically, a  is not equal to any other number, including another , and even including itself
p28351
aVThe comparison predicates are either signalling or non-signalling, the signalling versions signal an invalid exception for such comparisons
p28352
aVAttempting to do comparison (less than, greater than, and so on) operations between a  and another number can either result in an exception being thrown (signalling) or just getting another  as the result (non-signalling or quiet)
p28353
aVThe equality and inequality predicates are non-signalling so x = x returning false can be used to test if x is a quiet NaN
p28354
aVTests for equality (equal to, not equal to) are never signalling so using them will not cause an exception
p28355
aVIf you have a regular number , then  will always be true
p28356
aVIf  is a , then  will always be false
p28357
aVIt's giving you a way to detect  easily (quietly)
p28358
as(dp28359
g16
V14860
p28360
stp28361
a((dp28362
g2
(lp28363
VYes, and no :-)
p28364
aVIn UNIX, the contents of a file are distinct from the directory entries for that file
p28365
aVYou can have multiple directory entries point to the same contents (look up inode for a description of how this works) and, here's the tricky bit:
p28366
aVAll those directory entries are equal
p28367
aVEven though one may have been created first, there's nothing special about it
p28368
aVIf you remove it, the contents don't disappear, just the directory entry
p28369
aVThe contents will disappear once the inode has zero directory entries pointing to it (and all processes close the file - I've been bitten before by trying to clear up disk space deleting log files only to find that, because a process still has the file open, the file contents aren't recovered even though no directory entries point to them)
p28370
aVThat's for hard links
p28371
aVSoft links are a bit trickier
p28372
aVThey do create a "file" of sorts (a separate inode), containing the path to the target file
p28373
aVAnd those links are not equal
p28374
aVDeleting the original will leave you with a soft link pointing nowhere
p28375
aVBecause inodes are unique on a given filesystem, hard links cannot refer to data on a different filesystem
p28376
aVSoft links do not have that limitation since they store the path to the target file, not its inode
p28377
aVThe following transcript may help:
p28378
aVI've used only the last four digits of the inode number to keep the entry short (and not hit you with inode numbers like ) but you can see that  and  have the exact same inode whereas  is different
p28379
aVYou can also see that the contents of the file created originally as  survive its deletion because  is still referencing it
p28380
aVHowever, because  is referencing the  name rather than its inode, you get an error trying to use it
p28381
aVAside: You've gotta love it when UNIX toys with you like this:
p28382
aVAlmost as much fun as creating a file called spacebackspacex and then watching somebody try to delete it :-)
p28383
as(dp28384
g16
V14860
p28385
stp28386
a((dp28387
g2
(lp28388
VIt's giving the "wrong" answer simply because not all real values are representable by floats (or doubles, for that matter)
p28389
aVWhat you'll get is an approximation based on the underlying encoding
p28390
aVIn order to represent every real value, even between 1
p28391
aV0x10-100 and 1
p28392
aV1x10-100 (a truly minuscule range), you still require an infinite number of bits
p28393
aVSingle-precision IEEE754 values have only 32 bits available (some of which are tasked to other things such as exponent and NaN/Inf representations) and cannot therefore give you infinite precision
p28394
aVThey actually have 23 bits available giving precision of about 224 (there's an extra implicit bit) or just over 7 decimal digits (log10(224) is roughly 7
p28395
aV2)
p28396
aVI enclose the word "wrong" in quotes because it's not actually wrong
p28397
aVWhat's wrong is your understanding about how computers represent numbers (don't be offended though, you're not alone in this misapprehension)
p28398
aVHead on over to http://www
p28399
aVh-schmidt
p28400
aVnet/FloatApplet/IEEE754
p28401
aVhtml and type your number into the "Decimal representation" box to see this in action
p28402
aVIf you want a more accurate number, use doubles instead of floats - these have double the number of bits available for representing values (assuming your C implementation is using IEEE754 single and double precision data types for float and double respectively)
p28403
aVIf you want arbitrary precision, you'll need to use a "bignum" library like GMP although that's somewhat slower than native types so make sure you understand the trade-offs
p28404
as(dp28405
g16
V14860
p28406
stp28407
a((dp28408
g2
(lp28409
VSurely  will get the actual current height and  will get the preferred height, no
p28410
aV:-)
p28411
aVActually, on further investigation, it appears  is used by a layout manager so you can tell it what height you want your control to be
p28412
aVThe  call returns the actual height which, presumably, can change if need be
p28413
as(dp28414
g16
V14860
p28415
stp28416
a((dp28417
g2
(lp28418
VThe macro is simply stringizing L with the argument so that:
p28419
aVbecomes:
p28420
aVThis is the way to make a  but, in the non-Unicode versions,  will map to nothing, so you'll get regular strings there
p28421
as(dp28422
g16
V14860
p28423
stp28424
a((dp28425
g2
(lp28426
VYes, post the code
p28427
aVThere are hordes of alpha geeks just waiting here to do this sort of work for you, sort of like Rent A Coder but without the cost :-)
p28428
aVSeriously, it's likely to be just the fact that, from memory,  uses parentheses for conditions while  uses  but, until you post the code (at least the offending lines with some context), we can't be sure
p28429
aVIn other words, the :
p28430
aVwould become the :
p28431
as(dp28432
g16
V14860
p28433
stp28434
a((dp28435
g2
(lp28436
VIt's just a System V IPC (inter-process communications) key so different processes can create or attach to the same block of shared memory
p28437
aVThe key is typically created with  which turns a fully-specified filename and project ID into a usable key
p28438
aVSince an application can generally use the same filename in all its different processes (the filename is often a configuration file associated with your application), each different process gets the same key (or, more likely if your using the project ID to specify multiple shared memory segments, the same set of keys)
p28439
aVFor example, we once had an application that used a configuration file processed by our lex/yacc code so we just used that pathname and one project ID for each different shared memory block (there were three or four depending on the purpose of the process in question)
p28440
aVThis actually made a lot of sense since it was the parsed and evaluated data from that configuration file that was stored in the shared memory blocks
p28441
aVSince no other application on the system should be using our configuration file for making a key, there was no conflict
p28442
aVThe key itself is not limited to shared memory, it could be used for semaphores and other IPC mechanisms as well
p28443
as(dp28444
g16
V14860
p28445
stp28446
a((dp28447
g2
(lp28448
VThe basic rule I follow is: if you need to be running continuously because events of interest can happen at any time, use a service (or daemon in UNIX)
p28449
aVIf you just want to periodically do something, use a scheduled task (or )
p28450
aVThe clincher here is your phrase  - go for a scheduled task
p28451
as(dp28452
g16
V14860
p28453
stp28454
a((dp28455
g2
(lp28456
VI think your problem lies here:
p28457
aVYou're scaling  by the size of your structure but this is something done automatically by that second statement -  is equivalent to  and the latter is more readable to all but those of us who have been using C since K&R; was first published :-)
p28458
aVIn other words,  should be a value from  to , so try changing the first statement to remove the multiplication by :
p28459
aVAnd keep in mind that you'll eventually overflow  in that infinite loop of yours
p28460
aVYou will presumably be checking to ensure that  is not incremented beyond MAX_QUEUE in the final production-ready code, yes
p28461
as(dp28462
g16
V14860
p28463
stp28464
a((dp28465
g2
(lp28466
VWell, guess what
p28467
aVYou work for them, they don't work for you :-)
p28468
aVYou have two options that I can see
p28469
aV1/ Go through all the rigmarole of trying to change their mind and letting you develop on baseline Eclipse (which may not be that difficult if you focus your arguments on, and quantify the benefits to be had); or
p28470
aV2/ Just set up and support your own installation of Eclipse/JBoss for development and introduce an extra local step testing with WSAD/WAS before pushing your code to the repository
p28471
aVIf you hide (2) well enough, they need never know
p28472
aVBut check your corporate policies first, they may not allow unapproved software on their machines
p28473
aVThe thing is, if you have a good boss, they may allow this regardless if it means your productivity is higher
p28474
aVThe problem you have is that IBM's products (WSAD, RAD, RSA et al) all have very good integration, and possibly some subtle vendor lock-in ("advanced features"), with WAS which is harder to set up with the baseline Eclipse
p28475
aVThat's something you'll have to figure out and maintain
p28476
aVYour employers will be unlikely to help with that, or even condone it since, in their eyes, they have a solution: use WSAD
p28477
aVYou need to convince them that the cost of doing it your way is outweighed by the benefits
p28478
as(dp28479
g16
V14860
p28480
stp28481
a((dp28482
g2
(lp28483
VHere's a complete program that shows how I'd do it:
p28484
aVRunning this with certain inputs gives:
p28485
aVThose last two show the importance of testing
p28486
aVIf you want different behaviour, you'll need to modify the code
p28487
aVI generally opt for silent enforcement of rules if the caller can't be bothered (or is too stupid) to follow them but apparently some people like to use the principle of least astonishment and raise an exception :-)
p28488
as(dp28489
g16
V14860
p28490
stp28491
a((dp28492
g2
(lp28493
VJust for the sake of completeness, what happens to memory usage if you comment out the entire  block and the
p28494
aVIf there's no leak there, then I would suggest you're correct as to what's causing it
p28495
aVWorst case, report it to MS and see if they can fix it - you have a nice simple test case to work from which is more than what I see in most bug reports
p28496
aVAnother thing you may want to try is to check the error code against  rather than a specific error condition
p28497
aVIf you get back a different error than , there may be a leak for that:
p28498
as(dp28499
g16
V14860
p28500
stp28501
a((dp28502
g2
(lp28503
VUpdate: The question has been edited to state that all files contain all keys, so the accepted answer () is definitely better than this one
p28504
aVOnly consider using this one if it's possible the keys may not be in all files
p28505
aVIf you're not too concerned about performance, you could try the quick and dirty:
p28506
aVThis actually works out the keys first then gets the values from each file with that key, or  if it's not in the relevant file
p28507
aVThe  commands will need to be adjusted if the file is more complex (either if field 1 isn't at the start of the line or is followed by a non-space separator) but this should be a reasonable first-cut solution
p28508
aVThe likely  to use in that case would be:
p28509
aVwhere  is actually the tab character, as this allows for zero-or-more spaces or tabs before the key and a space or tab to terminate the key
p28510
aVIf the files are particularly large, you may want to look into using the associative arrays within  but, since there's no indication of the size, I'd start with this one until you get to the point where it's running too slow
p28511
as(dp28512
g16
V14860
p28513
stp28514
a((dp28515
g2
(lp28516
VWhy not just create a helper function, something like (untested):
p28517
aVA more complete solution may be (again untested since I don't have Qt locally, but a competent coder should be able to get this going):
p28518
as(dp28519
g16
V14860
p28520
stp28521
a((dp28522
g2
(lp28523
VIs that queue transactional
p28524
aVIf so
p28525
aVI believe you have to send your message as a transaction or use the two-parameter version of  with  as the second parameter
p28526
as(dp28527
g16
V14860
p28528
stp28529
a((dp28530
g2
(lp28531
VAh, pardon me for asking but are you actually linking in the library or object file for zlib (probably  if you're using an up-to-date version)
p28532
aVThat error is normally caused by the fact the you're missing the actual libraries with the code in it
p28533
aVThe fact that you include the header files lets the compiler know that those functions exist but, unless you link the libraries along with your main code, the linker won't be able to find them
p28534
aVYour other problems are minor
p28535
aVIgnore the ones suggesting that you use the so called "safe" functions
p28536
aVThat's just Microsoft attempting some vendor lock-in and does a disservice to programmers who want to code to the standard
p28537
aVYou can shut these warnings up by adding
p28538
aVto the top of your source file
p28539
aVThe "not all control paths" warnings are because you specify your two functions to return an  but then don't actually return one
p28540
aVJust change those to return a  for now, you can add error checking later
p28541
as(dp28542
g16
V14860
p28543
stp28544
a((dp28545
g2
(lp28546
VWell, assuming the SSN is the primary key of the  table, I would just (in a transaction of course):
p28547
aVcreate a brand new row with the new SSN, copying all other details from the old row
p28548
aVupdate the columns in the other tables to point to the new row
p28549
aVdelete the old row
p28550
aVNow this is actually a good example of why you shouldn't use real data as table cross-references, if that data can change
p28551
aVIf you'd used an artificial column to tie them together (and only stored the SSN in one place), you wouldn't have the problem
p28552
as(dp28553
g16
V14860
p28554
stp28555
a((dp28556
g2
(lp28557
VIn standard SQL, you want the  command
p28558
aVIf you then want to populate the column for all existing rows, it's a simple matter of working out the query and:
p28559
aVHere's an example session which shows you the  in action (for DB2):
p28560
as(dp28561
g16
V14860
p28562
stp28563
a((dp28564
g2
(lp28565
VMultiply it by four, round it as you need to an integer, then divide it by four again:
p28566
aVThe various options for rounding, and their explanations, can be found in this excellent answer here :-)
p28567
as(dp28568
g16
V14860
p28569
stp28570
a((dp28571
g2
(lp28572
VIf you're running on a UNIX-like OS, why not just select the whole lot and pipe the output through:
p28573
aVAs proof of concept:
p28574
aVcreates three files ,  and  containing the lines ,  and  respectively
p28575
aVOr, even on other operating systems, you can get the GNU tools, like GnuWin32, where  is in coreutils
p28576
as(dp28577
g16
V14860
p28578
stp28579
a((dp28580
g2
(lp28581
VA quick google for  turned up http://8086
p28582
aVtk/ which seems to have all the timings and sizes for the 8086 (and more) instruction sets
p28583
aVNo doubt you could find official Intel doco on the web with similar information
p28584
aVFor your specific question:
p28585
aVtakes 3+3=6 clock cycles and 2+1=3 bytes while
p28586
aVtakes 4 clock cycles and 3 bytes
p28587
aVSo the latter is better in that case
p28588
aVBut you need to talk to your educational institute about this guy
p28589
aV10% for a simple thing like that beggars belief
p28590
aVYou should ask what should be done in the case where you have two possibilities, one faster and one shorter
p28591
aVThen, once they've admitted that there are different ways to code depending on what you're trying to achieve, tell them that what you're trying to achieve is readability and maintainability and seriously couldn't give a flying leap about a wasted cycle or byte here or there*a
p28592
aVOptimisation is something you generally do if and when you have a performance problem, after a piece of code is in a near-complete state - it's almost always wasted effort when the code is still subject to a not-insignificant likelihood of change
p28593
aVFor what it's worth,  appears to be on par with  in terms of clock cycles and bytes, so maybe you could throw that into the mix next time to cause him some more work
p28594
aV*a) No, don't really, but it's fun to vent occasionally :-)
p28595
as(dp28596
g16
V14860
p28597
stp28598
a((dp28599
g2
(lp28600
VYou probably should be directly running a HTML file so that the user's association is honoured
p28601
aVThere's nothing more annoying to me, as a user, than having some package force me to use IE when I've clearly set my preferences to use another browser
p28602
as(dp28603
g16
V14860
p28604
stp28605
a((dp28606
g2
(lp28607
VThere is an easy way to get rid of the grep process:
p28608
aV(as long as the process you're trying to find doesn't include the string )
p28609
aVSo something like this should work in a script (again, assuming there's only one copy running):
p28610
aVIf you call your script , you can call it with:
p28611
aVAlthough I'd add some sanity checks such as detecting if there's zero or more than one process returned from  and ensuring the user supplies an argument
p28612
as(dp28613
g16
V14860
p28614
stp28615
a((dp28616
g2
(lp28617
VWhat's most likely to be happening is that your compiler is not aware that  can be changed by another thread (because C doesn't know about threads)
p28618
aVBecause of that, it's optimising the  loop to an infinite loop
p28619
aVIn other words, it looks at this code:
p28620
aVand thinks to itself, "Hah, nothing in that loop can ever change  to FALSE, so the coder obviously just meant to write "
p28621
aVWhen you add the call to , the compiler has another think about it and assumes that the function call may change the global, so it plays it safe and doesn't optimise it
p28622
aVNormally you would mark the variable as  to stop the compiler from optimising it but, in this case, you should use the facilities provided by pthreads and join to the thread after setting the flag to true (and don't have the sub-thread reset it, do that in the main thread after the join if it's necessary)
p28623
aVThe reason for that is that a join is likely to be more efficient than a continuous loop waiting for a variable change since the thread doing the join will most likely not be executed until the join needs to be done
p28624
aVIn your spinning solution, the joining thread will most likely continue to run and suck up CPU grunt
p28625
aVIn other words, do something like:
p28626
aVAnd, as an aside, you should technically protect shared variables with mutexes but this is one of the few cases where it's okay, one-way communication where half-changed values of a variable don't matter (false/not-false)
p28627
aVThe reason you normally mutex-protect a variable is to stop one thread seeing it in a half-changed state
p28628
aVLet's say you have a two-byte integer for a count of some objects, and it's set to  (255)
p28629
aVLet's further say that thread A tries to increment that count but it's not an atomic operation
p28630
aVIt changes the top byte to  but, before it gets a chance to change the bottom byte to , thread B swoops in and reads it as
p28631
aVNow that's not going to be very good if thread B want to do something with the last element counted by that value
p28632
aVIt should be looking at  but will instead try to look at , the effect of which will be wrong, if not catastrophic
p28633
aVIf the count variable were protected by a mutex, thread B wouldn't be looking at it until thread A had finished updating it, hence no problem would occur
p28634
aVThe reason that doesn't matter with one-way booleans is because any half state will also be considered as true or false so, if thread A was halfway between turning  into  (just the top byte), thread B would still see that as  (false) and keep going (until thread A finishes its update next time around)
p28635
aVAnd if thread A was turning the boolean into , the half state of  would still be considered true by thread B so it would do its thing before thread A had finished updating the boolean
p28636
aVNeither of those two possibilities is bad simply because, in both, thread A is in the process of changing the boolean and it will finish eventually
p28637
aVWhether thread B detects it a tiny bit earlier or a tiny bit later doesn't really matter
p28638
as(dp28639
g16
V14860
p28640
stp28641
a((dp28642
g2
(lp28643
VThere is a way to do this
p28644
aVYou can do something along the lines of:
p28645
aVor:
p28646
aVbut it will be a horrible hog of resources (as well as looking ugly) because you cannot index parts of columns
p28647
aVPer-row functions in select queries never scale well
p28648
aVThe right way to do this is to separate the comma separated values out and follow third normal form (3NF) - all aspiring DBAs really should read up on this concept as should all coders who want to work with and understand databases:
p28649
aVThen you can use a query like:
p28650
aV(or its explicit-join equivalent)
p28651
aVThis will allow the DBMS to efficiently use the indexes you have set up for all the tables
p28652
aVYou should never put yourself in the situation where you need to use part of a column for anything, since that inherently destroys scalability
p28653
aVBy separating out the tags into separate columns (and making them a true many-to-many relationship by introducing another table), you remove that problem
p28654
aVAll databases should be built in 3NF and only reverted if there's a performance problem and only when you understand the consequences
p28655
aVThere are tricks you can use to ensure data integrity (such as insert/update triggers) in those cases but, for a beginner, I would suggest sticking with 3NF
p28656
as(dp28657
g16
V14860
p28658
stp28659
a((dp28660
g2
(lp28661
VThis is actually a tricky one
p28662
aVThe table you're talking about is basically a trade table, detailing all your buys and sells
p28663
aVIn that sense, you would think it would make sense to have both buys and sells in a single table
p28664
aVHowever, in many jurisdictions, there is extra information for a sell order
p28665
aVThat piece of information is which buy order to offset it against (for capital gains or profit purposes)
p28666
aVWhile this is not necessary in a strict first-bought, first-sold (FBFS) environment, that's by no means the only possibility
p28667
aVFor example, under Australian law, you can actually offset a sale against your most recent purchase, as long as you have the rationale written down in clear language before-hand
p28668
aVEven though my company follow FBFS, I am allowed to receive bonus issues or supplemental shares which I can then sell immediately
p28669
aVThese are offset against the most recent shares bought, not ones I've held for X number of years (this is often handy to minimise taxes payable)
p28670
aVIf you follow a strict FBFS, then you don't need that extra information and your trades are symmetrical
p28671
aVEven where they're not, I've implemented it in one table with the extra information, useless for buy orders of course
p28672
aVThat seemed the easiest way to go
p28673
aVYou could do it as two asymmetrical tables but that makes queries a bit more problematic since you often need to pull data from both tables
p28674
aVMy advice is to stick with a single table with the extra information if needed
p28675
aVI would also never store the average price
p28676
aVI prefer the quantity, the price per share and the brokerage costs
p28677
aVEvery other figure can be calculated from those three, for example:
p28678
aVbut it's sometimes impossible to work backwards from just the average price, since you don't know what the brokerage was
p28679
aVAnd I wouldn't have a boolean for buy/sell, it's just as easy to use negative numbers for the sell orders and it makes balance-sheet-type calculations a lot easier since you just sum values irrespective of the order type instead of needing to negate some of them depending on that order type
p28680
aVUpdate: If, as you seem to indicate, you're only going to store aggregate information for each company, I would go for the following:
p28681
aVthen you update the individual columns depending on whether it's a buy or sell
p28682
aVYou don't need a separate row for the buy/sell stuff
p28683
aVWhen the company is first added, both quantities and prices are set to 0
p28684
aVYour entity is now the company so this makes more sense
p28685
aVOne thing you may want to consider is to store the aggregate values of shares bought and sold rather than the average buy and sell prices
p28686
aVThat will simplify your update calculations and you can still easily get the averages by dividing the aggregate by the quantity
p28687
aVSo, the following table:
p28688
aVWhen adding a company, set all quanities and values to 0,
p28689
aVWhen buying  shares at  dollars each, add  to  and  to
p28690
aVWhen selling  shares at  dollars each, add  to  and  to
p28691
aVGet average buy price as
p28692
aVGet average sell price as
p28693
as(dp28694
g16
V14860
p28695
stp28696
a((dp28697
g2
(lp28698
VI've found the best way to organise your data is to follow two simple rules:
p28699
aVOnly declare things in header files
p28700
aVDefine things in C (or cpp, but I'll just use C here for simplicity) files
p28701
aVBy declare, I mean notify the compiler that things exist, but don't allocate storage for them
p28702
aVThis includes , ,  and so on
p28703
aVBy define, I generally mean "allocate space for", like  and so on
p28704
aVIf you have a line like:
p28705
aVin a header file, every compilation unit (basically defined as an input stream to the compiler - the C file along with everything it brings in with , recursively) will get its own copy
p28706
aVThat's going to cause problems if you link two object files together that have the same symbol defined (except under certain limited circumstances like )
p28707
aVA better way to do this is to define that  variable in one of your C files and then put:
p28708
aVin your header file
p28709
aVNote that if your header file is only included in one C file, this isn't a problem
p28710
aVBut, in that case, I probably wouldn't even have a header file
p28711
aVHeader files are, in my opinion, only for sharing things between compilation units
p28712
as(dp28713
g16
V14860
p28714
stp28715
a((dp28716
g2
(lp28717
VMy first thought was "OMG
p28718
aVWhat a horrible name for a table
p28719
aV:-)
p28720
aVThe MySQL docs state that:
p28721
aVDatabase and table names cannot contain \u201c/\u201d, \u201c\u005c\u201d, \u201c
p28722
aV\u201d, or characters that are not allowed in file names
p28723
aVI suspect you violate that on two counts, the  in your domain name and (probably) the  seperator
p28724
aVYou should probably consider having one table which is keyed on the email address (or another unique ID)
p28725
as(dp28726
g16
V14860
p28727
stp28728
a((dp28729
g2
(lp28730
VHmm,  is not what I'd be using for high speed numerical processing
p28731
aVGet yourself a copy of GMP and put together a C program to do it
p28732
aVThere may well be a mathematical formula to give it to you quickly but, in the time it takes you to figure it out, GMP could probably throw you the result :-)
p28733
as(dp28734
g16
V14860
p28735
stp28736
a((dp28737
g2
(lp28738
VThe assembler (not compiler, although it's very similar) will work out the  bit as 42 and then the instruction is:
p28739
aVThis is what the processor can execute, by adding the contents of the  register and the constant 42, then using that address to load up
p28740
aVThere is no instruction that encodes 6 and 7 as different entities, to be multiplied later
p28741
aVis as real an instruction as any other
p28742
aVAgain, the assembler can handle constant-folding (working out fixed values) to get the assembler statement into a usable form for the processor
p28743
aVYou only have to think about the instruction:
p28744
aVThis won't be encoded as some (magical) sequence of bytes , it will be encoded exactly the same as any of the following:
p28745
as(dp28746
g16
V14860
p28747
stp28748
a((dp28749
g2
(lp28750
VYou can just append that select (slightly modified as in "you don't need the  clauses") onto an insert
p28751
aVFor example:
p28752
aVassuming that your query is actually correct - I make no evaluation of that :-)
p28753
aVBy way of further example,
p28754
aVwould add the following rows:
p28755
as(dp28756
g16
V14860
p28757
stp28758
a((dp28759
g2
(lp28760
VIf it's in a string, you can just use:
p28761
aVFor example, head on over to W3Schools and enter:
p28762
aVto get:
p28763
aVIf you want to swap the thousands separators and decimal point, it's a little bit trickier:
p28764
aVwill give you:
p28765
aVIf you want to intelligently figure out which separator is being used, that's even trickier
p28766
aVWhat I would do in that case is analyse the string for specific formats
p28767
aVCheck how many of each of the  and  characters are and ensure the one with a count of one is treated as the decimal
p28768
aVBut that will not work for edge cases like  - is that fifteen hundred or one point five
p28769
aVWhat I would do then is simply put a big message on the web page along the lines of:
p28770
aVPlease ensure all amounts are entered in U
p28771
ag2767
aVformat (with comma for thousands separator and period for decimal point)
p28772
aVSometimes you just have to tell the client what's right :-)
p28773
as(dp28774
g16
V14860
p28775
stp28776
a((dp28777
g2
(lp28778
VI'm not sure I see the problem here
p28779
aVThere is a contract between a caller and callee and, whether that contract involves an exception being thrown, or an error return code (such as if the exception is caught within the callee and translated to a return code), you just need to check that the problem is signalled somehow
p28780
aVFor example, if your contract states the  will throw  if the database isn't open, do something like:
p28781
aVIn other words, if your unit tests expect a specific exception for a given circumstance, they should trap it and report that as okay
p28782
aVThey should flag a failure if that exception doesn't occur
p28783
as(dp28784
g16
V14860
p28785
stp28786
a((dp28787
g2
(lp28788
VYour  tag says it all
p28789
aVYou need to look into inter-process communuication:
p28790
aVShared memory
p28791
aVSemaphores
p28792
aVPipes
p28793
aVSignals
p28794
aVMemory-mapped files
p28795
aVSockets
p28796
aVNo doubt there are other possibilities but that's a good start
p28797
aVHow efficient each is depends pretty much on your use case
p28798
aVIf you only need to notify a child to do something, signals is probably what I'd use
p28799
aVIf you need to transfer some more information between processes, it's probably a good idea to fully specify the requirements
p28800
aVOne thing you may want to consider is to bypass all the inter-process stuff altogether and just use threads
p28801
aVAt least in Linux, threads are first class citizens to the scheduler
p28802
aVOlder UNIXes may have made a distinction (with user-mode threads) but that is not the case with Linux
p28803
aVI've found that it's simpler to do it that way and your information is automatically shared (keeping in mind you still need to protect shared stuff with mutexes and such)
p28804
aVAnother possibility if you're already committed to shared memory is to use signals
p28805
aVAssuming you've set aside sections of that memory for each child (and they know where they are), signals are probably the quickest way to notify a bunch of children for parallel work
p28806
aVIf your children just wait around in a  loop with (for example) a 30-second timeout for doing periodic work, a signal will cause it to exit immediately with
p28807
aVThat gives you your efficient CPU usage while still giving immediate response
p28808
as(dp28809
g16
V14860
p28810
stp28811
a((dp28812
g2
(lp28813
VYou're incrementing  twice for the space character
p28814
aVYour  statement should be just:
p28815
aVYou have another subtle bug as well inasmuch as the string hellospcspcthere (with two spaces) will register as three words in your code
p28816
aVThis is how I would have written it to avoid those problems
p28817
aVNote the use of  to avoid counting space sequences as multiple words
p28818
as(dp28819
g16
V14860
p28820
stp28821
a((dp28822
g2
(lp28823
VFrom IBM's own doco on :
p28824
aVThis method takes an ActiveX string and writes it into the message data buffer at the current position in UTF format
p28825
aVThe data written consists of a 2-byte length followed by the character data
p28826
aVDataOffset is incremented by the length of the string if the method succeeds
p28827
aVIf you don't want that length, consider using  instead (follow that doco link above and just go up a couple of lines in the navigation pane)
p28828
as(dp28829
g16
V14860
p28830
stp28831
a((dp28832
g2
(lp28833
VYes,  is supposed to return UTC
p28834
aVIf you want that converted to local time, you need a function like,
p28835
aV, hmm, let me think,
p28836
aV, yes, that's it,  :-)
p28837
aVThis will give you a more usable form with the individual fields broken out
p28838
aVFollow those links above for the PHP doc on each
p28839
aVNot sure if PHP has the  equivalent
p28840
aVAnd, as an aside, be very careful searching the web for the  manpage with  - you may not get what you expect
p28841
aVYou certainly won't get what you expect if you're looking for the manpage for  itself:
p28842
aVThat is, unless you're looking for different things than I was :-)
p28843
as(dp28844
g16
V14860
p28845
stp28846
a((dp28847
g2
(lp28848
VThe header  is equivalent to the C header  and contains  and  among many other things
p28849
aVThe integer limits ( in C) are held in
p28850
aVThis is detailed in 18
p28851
ag6296
aV2 of the C++0x draft
p28852
aVBut, as pointed out elsewhere, a double cannot hold values outside this range anyway
p28853
aVYou would have to use a "larger" type such as long double (although, according to the standard, that could be the same size as double, so may not necessarily help)
p28854
aVHere's a full sample program for your enjoyment :-)
p28855
aVwith accompanying transcript:
p28856
as(dp28857
g16
V14860
p28858
stp28859
a((dp28860
g2
(lp28861
VIf you want to scan to the end of the string (stripping out a newline if there), just use:
p28862
aVThat's because  only matches non-whitespace characters and will stop on the first whitespace it finds
p28863
aVThe  format specifier will match every character that's not (because of ) in the selection given (which is a newline)
p28864
aVIn other words, it will match any other character
p28865
aVKeep in mind that you should have allocated enough space in your buffer to take the string since you cannot be sure how much will be read (a good reason to stay away from  unless you use specific field widths)
p28866
aVYou could do that with:
p28867
aV(you don't need  since that's always 1 by definition)
p28868
as(dp28869
g16
V14860
p28870
stp28871
a((dp28872
g2
(lp28873
VIt depends on whether the person-to-address relationship is one-to-zero-plus or one-to-one-plus
p28874
aVIf a person is required to have a primary address, I would put it in the   table itself (since it's a required attribute)
p28875
aVIn the other hand, if a person can exist in your schema without an address, I would leave all addresses in the  table as equal and use an attribute of the  table to select the primary (either NULL or a pointer to the relevant  row)
p28876
aVIf you store the primality of an address in the  table, what do you do when two addresses for Bob Smith both claim to be the primary
p28877
aVYou could stop that with triggers but it's far more efficient to design your schema properly
p28878
aVAnd, if two room-mates share the same address, but one lives there all the time and the other spends most of his time shacked up with his girlfriend, what happens then
p28879
aVIf the primality is in the Addresses table, you won't be able to share address rows between persons
p28880
aVWhat I'm trying to get across is that you need to allocate your attributes to the right objects
p28881
aVA person's primary address belongs to a person, not an address
p28882
aVFor maximum efficiency and flexibility, I would have the following schema:
p28883
aVYou have the minor data integrity problem that  may be a hanging pointer
p28884
aVYou can't make it a foreign key to one of the primary keys since you want it to allow
p28885
aVThat means you'll have to cater for the possibility that it might point to a non-existent
p28886
aVI would simply fix that as a before-delete trigger on  so that the relevant  rows are updated (setting  to NULL)
p28887
aVOr you could be tricky and have one address of "Unknown" in the  table so that every row in  has at least one address (those whose primary address is unknown automatically get their  set to the "Unknown" address row
p28888
aVThen you could make it a proper constrained relationship and simplify your SQL somewhat
p28889
aVPragmatism often beats dogmatism in the real world :-)
p28890
as(dp28891
g16
V14860
p28892
stp28893
a((dp28894
g2
(lp28895
VIf you set your unpopulated fields to be NULL instead of blanks, you could rely on the fact that  will not include NULL fields
p28896
aVAll solutions with per-row function (, ,  and so on) are fine for small databases but will not scale well to big databases
p28897
aVKeep in mind that small is a relative term, it might still be okay for your databases even if you think they're big - I work in a shop where millions of rows are the sizes of our configuration tables :-)
p28898
aVThen you can just use:
p28899
aV(or  for distinct values, of course)
p28900
aVIf that's a plausible way to go, you can just get your table set up with:
p28901
aVBut, as with all database performance questions, measure, don't guess
p28902
aVAnd measure in the target environment (or suitable copy)
p28903
aVAnd measure often
p28904
aVDatabase tuning is not a set-and-forget operation
p28905
as(dp28906
g16
V14860
p28907
stp28908
a((dp28909
g2
(lp28910
VSometimes, the only way to acheive an end is to create a piece of SQL so ugly and heinous, that the alternative of doing multiple queries becomes attractive :-)
p28911
aVI would just do one query to get a list of your friends then, for each friend, get the three most recent photos
p28912
aVSomething like:
p28913
aVYou don't have to do it as one query any more than you're limited to one regular expression for matching a heinous pattern
p28914
aVSure it'd be nice to be "clever" but it's rarely necessary
p28915
aVI prefer a pragmatic approach
p28916
as(dp28917
g16
V14860
p28918
stp28919
a((dp28920
g2
(lp28921
VWell, assuming your textArea understands HTML (I don't know GWT specifically), why don't you prefix it with  then append
p28922
aVYou'll may still have to escape all the HTML special characters such as  to  and  to
p28923
as(dp28924
g16
V14860
p28925
stp28926
a((dp28927
g2
(lp28928
VThe c99 standard states that  calls  and the  stuff states this about the return code:
p28929
aVAn implementation-defined form of the status unsuccessful termination is returned to the host environment by means of the function call raise(SIGABRT)
p28930
aVIt's documented in section 7
p28931
ag2836
ag2193
aV1 (assert) and 7
p28932
aV20
p28933
ag9967
aV1 (abort) of the c99 standard here
p28934
aVMany UNIX systems will return 128 plus the signal number (SIGABRT is signal number 6) so you may get 134
p28935
aVWhatever you get, it should be documented by the C implementation
p28936
aVFor example, see here for gcc
p28937
aVAlthough it's quite silent on what gets returned to the calling environment
p28938
aVFrom the specific sections here:
p28939
aVSome choices are made by the library and operating system (or other environment when compiling for a freestanding environment); refer to their documentation for details
p28940
aVAnd here:
p28941
aVThe behavior of most of these points are dependent on the implementation of the C library, and are not defined by GCC itself
p28942
aVSo is the glibc doco here on program termination (specifically the exit status bit)
p28943
aVIt mentions conventions but no firm rules
p28944
as(dp28945
g16
V14860
p28946
stp28947
a((dp28948
g2
(lp28949
VAll you seem to be doing is appending three spaces to the end of each field
p28950
aVPerhaps you should be doing something more like:
p28951
aVIn other words, make sure the field is 14 characters or more, the truncate it to 14
p28952
aVOr better yet, use the printf facilities:
p28953
aVIn fact, your entire segment could be compressed to something like:
p28954
as(dp28955
g16
V14860
p28956
stp28957
a((dp28958
g2
(lp28959
VYour best bet is to run it in a virtual machine like Bochs, which specialises in emulating the older stuff
p28960
aVYou can run FreeDOS inside it so you're not bothered by licensing issues, although it will run MS DOS if you have a valid copy
p28961
aVBut I have to admit, I agree with your commenters
p28962
aVYou'd be better off teaching your students with a more modern compiler
p28963
aVCode::Blocks springs to mind and Microsoft themselves release a free (as in cost, not freedom) Visual C package
p28964
as(dp28965
g16
V14860
p28966
stp28967
a((dp28968
g2
(lp28969
VThe major difference in my eyes is that DB2 can tell the difference between a NULL and an empty string :-)
p28970
as(dp28971
g16
V14860
p28972
stp28973
a((dp28974
g2
(lp28975
VIn C/UNIX, the equivalent would be something like:
p28976
aVand the proof that it works:
p28977
aVBut try it yourself
p28978
aVProvided you have the correct environment, it should be fine
p28979
as(dp28980
g16
V14860
p28981
stp28982
a((dp28983
g2
(lp28984
VJust introduce a constant addition to the column (rather than the table):
p28985
aVand spell "Employees" correctly :-)
p28986
as(dp28987
g16
V14860
p28988
stp28989
a((dp28990
g2
(lp28991
VHere's a command file () you can use to extract the relevant values:
p28992
aVAnd here's a transcript showing it in action (I've manually indented the output to make it easier to read):
p28993
aVTo actually use this in another  file, just replace the  line below with whatever you want to do with it):
p28994
as(dp28995
g16
V14860
p28996
stp28997
a((dp28998
g2
(lp28999
VWhy are you asking us
p29000
aVWe don't have the copyright and we cannot license it to you
p29001
aVYou've already been in contact with the creator, these questions are better suited for him
p29002
aVPersonally, I would think both your scenarios are okay since no-one is forced to pay you for the use
p29003
aVBut, as I said, I'm not the copyright holder
p29004
aVYou need to either have a lawyer look over the licence or get a very explicit release from the author stating that what you want to do is okay
p29005
aVOkay, based on your edit
p29006
aVHere is what my employer would most likely do (a company deadly serious about IP issues)
p29007
aVThey would evaluate the relative costs of getting into trouble misusing the program (getting their considerable legal department to evaluate the licence) against that of just clean-rooming the program
p29008
aVThey would choose the cheaper option and go with that
p29009
aVNow here's what I would do, not having my own personal Nazgul of lawyers
p29010
aVIf I couldn't contact the author, then he's probably a one-man show - he'll be able to afford legal representation about as well as I can so will be unlikely to push that hard, in a legal sense
p29011
aVI would argue that my application is indeed freeware since I'm not charging anything for its use
p29012
aVIf a customer chooses to ask for extras (in-app purchase) or make a donation, that money transfer is not tied to the acquisition of my freeware at all
p29013
aVOf course, if your freeware is near-useless without an in-app purchase, it could be argued that the connection is there between money and product transfers
p29014
aVBut I think I would be quite safe going the donation route
p29015
aVThere is an absolute unbundling of the two events (product transfer and money transfer) there and one does not require the other
p29016
aVSome people have even just asked for donations without a reciprocal arrangement (Save Karyn), although I wouldn't give money to some clown who'd already proven themselves inept at managing it
p29017
aVStandard disclaimers apply: I am not a lawyer, I am not your lawyer, I don't even look like a lawyer from a hundred yards away
p29018
as(dp29019
g16
V14860
p29020
stp29021
a((dp29022
g2
(lp29023
VIt usually means you've freed the same memory twice, which is a big no-no
p29024
aVThe reason for this is that freeing the memory returns it to the free pool where it can be allocated for another use
p29025
aVNow while freeing the same memory twice is not so bad if it can be intercepted and ignored, that's not so easy if it's been allocated to someone else in the meantime
p29026
aVThat will mean that the same memory block may be allocated to multiple uses and you're quite likely to get data corruption as a consequence
p29027
as(dp29028
g16
V14860
p29029
stp29030
a((dp29031
g2
(lp29032
VA couple of things to look at
p29033
aVcheck which directory your program is running in (by running  the same way), then check to ensure you have permissions to write to that directory
p29034
aVsee if that file  already exists (and check permissions)
p29035
aVif the file does exist, delete it and re-run to see if it gets re-created, and look at the contents if it does
p29036
aVtry using the command  - it may be that the  output is not the same as the  output (in your example the redirection could be applying to  rather than )
p29037
as(dp29038
g16
V14860
p29039
stp29040
a((dp29041
g2
(lp29042
VIntel does not support an immediate-argument  (only register and memory ones)  so whatever tutorial you're using is built for a non-standard assembler
p29043
as(dp29044
g16
V14860
p29045
stp29046
a((dp29047
g2
(lp29048
VSome rules that I follow that make the most difference
p29049
aVDon't use per-row functions in your queries like , ,  and so on
p29050
aVWork around them by putting data in the database in the format you're going to need it, even if that involves duplicate data
p29051
aVFor example, if you need to lookup surnames fast, store them in the entered form and in their lowercase form, and index the lowercase form
p29052
aVThen you don't have to worry about things like
p29053
aVYes, I know that breaks 3NF but you can still guarantee data integrity by judicious use of triggers or pre-computed columns
p29054
aVFor example, an insert/update trigger on the table can force the  column to be set to the lowercase version of
p29055
aVThis moves the cost of conversion to the  (which happens infrequently) and away from the  (which happens quite a lot more)
p29056
aVYou basically amortise the cost of conversion
p29057
aVMake sure that every column used in a  clause is indexed
p29058
aVNot necessarily on its own but at least as the primary part of a composite key
p29059
aVAlways start off in 3NF and only revert if you have performance problems (in production)
p29060
aV3NF is often the easiest to handle and reverting should only be done when absolutely necessary
p29061
aVProfile, in production (or elsewhere, as long as you have production data and schemas)
p29062
aVDatabase tuning is not a set-and-forget operation unless the data in your tables never changes (very rare)
p29063
aVYou should be monitoring, and possibly tuning, periodically to avoid the possibility that changing data will bring down performance
p29064
aVDon't, unless absolutely necessary, allow naked queries to your database
p29065
aVTry to control what queries can be run
p29066
aVYour job as a DBA will be much harder if some manager can come along and just run:
p29067
aVon your database
p29068
aVIf managers want to be able to run ad-hoc queries, give them a cloned DBMS (or replica) so that your real users (the ones that need performance) aren't affected
p29069
aVDon't use  when  will suffice
p29070
aVIf you know that there can be no duplicates between two selects of a union, there's no point letting the DBMS try to remove them
p29071
aVSimilarly, don't use  on a table if you're retrieving all the primary key columns (or all columns in a unique constraint)
p29072
aVThere is no possibility of duplicates in those cases so, again, you're asking the DBMS to do unnecessary work
p29073
aVExample: we had a customer with a view using  on one of their tables
p29074
aVQuerying the view took 50 seconds
p29075
aVWhen we replaced it with a view starting , the time came down to sub-second
p29076
aVNeedless to say, I got a good bottle of red wine out of that :-)
p29077
aVTry to avoid  as much as possible
p29078
aVIn other words, only get the columns you need
p29079
aVThis makes little difference when you're using MySQL on your local PC but, when you have an app in California querying a database in Inner Mongolia, you want to minimise the amount of traffic being sent across the wire as much as possible
p29080
as(dp29081
g16
V14860
p29082
stp29083
a((dp29084
g2
(lp29085
VIf you don't control the source for the program you're running, one possibility is to have another script, run as a scheduled task, which shuts down the program, moves the log file, and restarts the program
p29086
aVSchedule this for somewhere around midnight
p29087
aVIf you can't shut down the program periodically, another possibility is to develop a filter program which will take standard input and send it to a log file based on today's date
p29088
aVThat program can detect date changes and close/reopen the file when it crosses the midnight boundary
p29089
aVThen pipe the output of your original program through this filter
p29090
aVThis is true piping by the way
p29091
aVWhat you're currently doing is not technically piping but redirection (piping goes to a process, redirection goes to a file)
p29092
aVPseudocode would be something like:
p29093
aVAs a proof of concept, here's a script () that runs, generating the date every thirteen seconds, ten times:
p29094
aVAnd here's a C filter program () that does what I describe in my answer above:
p29095
aVWhen you execute:
p29096
aVit creates the following files
p29097
aVNote that this uses a minute boundary to switch log files
p29098
aVIt's a simple matter to change the  function to use the day boundary instead (see the comments)
p29099
as(dp29100
g16
V14860
p29101
stp29102
a((dp29103
g2
(lp29104
VActually, the number of rows affected by a rollback is zero
p29105
aVThat's because, technically, those rows aren't changed until a commit occurs (the  in )
p29106
aVAnd, if you're rolling back, the commit doesn't happen
p29107
as(dp29108
g16
V14860
p29109
stp29110
a((dp29111
g2
(lp29112
VHere's what you need:
p29113
aVIn this case  passes the actual command (your example just passed the constant string  rather than its value)
p29114
aVIn addition,  executes a command made up of every parameter, not just the first
p29115
aVWhen you create those two files and execute , you get:
p29116
aVas expected
p29117
as(dp29118
g16
V14860
p29119
stp29120
a((dp29121
g2
(lp29122
VThe reason you're getting those results is because  is being treated as %%inputPar%% and  becomes a literal
p29123
aVYou need:
p29124
aVThis gives you %%%inputPar%%% and, again,  becomes a literal  with  becoming
p29125
as(dp29126
g16
V14860
p29127
stp29128
a((dp29129
g2
(lp29130
VIf you want your code to be readable in terms of the bit numbers, something like this may be useful:
p29131
aVBut, after a while you should be able to tell which hex values relate to which bits and you won't need mnemonic tricks like that:
p29132
as(dp29133
g16
V14860
p29134
stp29135
a((dp29136
g2
(lp29137
VI don't think the  way of setting up environment variables supports the  stuff
p29138
aVIt doesn't even support variable substitutions
p29139
aVI think you'll either have to put the date calculation into the  command:
p29140
aVor create another script which sets the variable then calls  with it (and of course you call that script from within your )
p29141
as(dp29142
g16
V14860
p29143
stp29144
a((dp29145
g2
(lp29146
VFrom Microsoft's own mouth:
p29147
aVTo repeat sequences of random numbers, call Rnd with a negative argument immediately before using Randomize  with a numeric argument
p29148
aVSee here for details
p29149
aVThe whole section:
p29150
aVRemarks
p29151
aVThe  function returns a value less than 1 but greater than or equal to zero
p29152
aVThe value of number determines how  generates a random number:
p29153
aVFor any given initial seed, the same number sequence is generated because each successive call to the  function uses the previous number as a seed for the next number in the sequence
p29154
aVBefore calling , use the  statement without an argument to initialize the random-number generator with a seed based on the system timer
p29155
aVTo produce random integers in a given range, use this formula:
p29156
aVHere, upperbound is the highest number in the range, and lowerbound is the lowest number in the range
p29157
aVNote To repeat sequences of random numbers, call Rnd with a negative argument immediately before using  with a numeric argument
p29158
aVUsing Randomize with the same value for number does not repeat the previous sequence
p29159
aVBy way of example, if you put this code into Excel, it generates a different numner each time you run ti:
p29160
aVHowever, if you uncomment the  line, it generates the same number on each run
p29161
aVNote that you have to do two things
p29162
aVCall  with a specific negative argument and call  with a specific argument
p29163
aVChanning either of those arguments will give you a different seed (and therefore sequence)
p29164
aVEdit:
p29165
aVRe your comment:
p29166
aVBy repeating sequence, I mean if you run a loop to get 10 random numbers, each random number in the list will be unique
p29167
aVIn addition, if you were to run this sequence again, you would get the same 10 random numbers as before
p29168
aVDoes what I'm describing make sense
p29169
aVYou now need one more piece of information
p29170
aVWhat you're asking for is not random numbers but a shuffling algorithm
p29171
aVI'll refer you to an earlier answer I gave on how to do this here
p29172
aVAll you need to do is combine the shuffling algorithm with the seed-setting detailed above and you'll have your repeatable, unique sequence
p29173
aVAnd here's some code that shows it in action
p29174
aVEvery run of this subroutine returns the sequence  so I think that's what you were after, a repetable, "random", unique sequence
p29175
aVIf you wanted to be able to generate different sequences (but still in a repeatable manner), you only need to change the value given to
p29176
as(dp29177
g16
V14860
p29178
stp29179
a((dp29180
g2
(lp29181
VYes
p29182
aVWhen you apply  to a function, it's not the same as a static variable within a recursive function (which is a problem)
p29183
aVThe former simply controls whether the function is visible outside the compilation unit (for the linker, for example)
p29184
aVThe latter means that there's only one copy of the variable for all recursion levels rather than one per recursion level, which is usually what's needed
p29185
aVSo:
p29186
aVis okay, but:
p29187
aVis not, since the static variable will be corrupted
p29188
as(dp29189
g16
V14860
p29190
stp29191
a((dp29192
g2
(lp29193
VIf you're using  (especially older ones), it's normally caused by declarations after statements, something like:
p29194
aVYou probably need to give us a little more context, such as 10 or so lines before the error line
p29195
aVMy advice would be to get  running on that box if you are using an older xlc
p29196
aVIBM makes some fine compilers now but the earlier ones weren't so crash hot (in my opinion)
p29197
as(dp29198
g16
V14860
p29199
stp29200
a((dp29201
g2
(lp29202
VIf you ever want your database to scale, you should follow one important rule: Avoid per-row functions, like , ,  and yes,  and
p29203
aVAn attribute (column) in a table should be the smallest unit you handle
p29204
aVIf you will need to search on date, store the date separately
p29205
aVDon't combine it into a datetime where you will have to extract it in your  statements
p29206
aVPeople who combine attributes into a single fields such as date into a datetime or, horror of horrors, a comma-separated-list which you want to check individual parts of, are doing themselves and their successors a huge disservice
p29207
aVYou're usually better off pasting two fields together (such as date and time into a datetime for your pagination script) than trying to split the other way (for other purposes)
p29208
aVOf course, if you never intend to use the date and time separately in your queries, or if you expect your database to remain small, feel free to ignore my rant :-)
p29209
as(dp29210
g16
V14860
p29211
stp29212
a((dp29213
g2
(lp29214
VSince the macro is (see here):
p29215
aVthat means that:
p29216
aVtranslates to:
p29217
aVNow with your current code:
p29218
aVyou have one too many indirections on
p29219
aVYou should try:
p29220
aVinstead
p29221
as(dp29222
g16
V14860
p29223
stp29224
a((dp29225
g2
(lp29226
VThat's because  is not an in-situ function
p29227
aVIt returns a new string with the changed value
p29228
aVTry:
p29229
aVinstead
p29230
aVSee here for the gruesome details (here for flex4 but it appears to be the same)
p29231
as(dp29232
g16
V14860
p29233
stp29234
a((dp29235
g2
(lp29236
V won't change the case of your commands as evidenced with:
p29237
aVI think your main problem is that you're trying to impose case-sensitivity on an environment that doesn't really support it
p29238
aVYou should probably just embrace case-insensitivity and set  to  on all your systems if one of them is Windows
p29239
aVFrom your symptoms, it sounds like it's been set to  somehow which is not really kosher
p29240
aVFrom the docs, values of this variable mean:
p29241
aV0/ Table and database names are stored on disk using the lettercase specified in the CREATE TABLE or CREATE DATABASE statement
p29242
aVName comparisons are case sensitive
p29243
aVYou should not set this variable to 0 if you are running MySQL on a system that has case-insensitive file names (such as Windows or Mac OS X)
p29244
aVIf you force this variable to 0 with --lower-case-table-names=0 on a case-insensitive file system and access MyISAM tablenames using different lettercases, index corruption may result
p29245
aV1/ Table names are stored in lowercase on disk and name comparisons are not case sensitive
p29246
aVMySQL converts all table names to lowercase on storage and lookup
p29247
aVThis behavior also applies to database names and table aliases
p29248
aV2/ Table and database names are stored on disk using the lettercase specified in the CREATE TABLE or CREATE DATABASE statement, but MySQL converts them to lowercase on lookup
p29249
aVName comparisons are not case sensitive
p29250
aVThis works only on file systems that are not case sensitive
p29251
aVInnoDB table names are stored in lowercase, as for lower_case_table_names=1
p29252
aVYou can get the current and new-session values by executing:
p29253
as(dp29254
g16
V14860
p29255
stp29256
a((dp29257
g2
(lp29258
VAre you including the header file
p29259
aVBarring misspellings, that error is almost invariably caused by a missing typedef
p29260
aVIn other words, the compiler doesn't know about either the  or  type (or both)
p29261
aVEdit: There's something else wrong because this compiles fine:
p29262
aVI had to use other types (and I modified the  structure to be a named one - I'm not sure your given one should have compiled since as-is since there is no  type in existence)
p29263
aVBased on all the comments and answers to date, I'm pretty certain there's something wrong with your compiler
p29264
aVGCC compiles that snippet above just fine
p29265
aVTry putting my two files above onto your system and seeing if they compile okay
p29266
aVAnd be aware that you do need to name your  structure
p29267
aVSee here for the gory details but the consensus seems to be that
p29268
aVwill define a  incomplete type which is a distinct type from  (and the structure you're currently defining)
p29269
as(dp29270
g16
V14860
p29271
stp29272
a((dp29273
g2
(lp29274
VThere is no portable way in C to ensure your code will run before
p29275
aVWhat I would do is just maintain an  flag in your library, set to false, and then refuse to do anything until your  function has been called
p29276
aVAs in:
p29277
as(dp29278
g16
V14860
p29279
stp29280
a((dp29281
g2
(lp29282
VNo, we don't do this
p29283
aVAnd in my 30-odd year history in the IT industry, I've never heard of anyone doing this
p29284
aVThe only way this could help you design better systems is by:
p29285
aVkeeping the class count down since it's hard to build the styrofoam model; and
p29286
aVminimising changes, since updating it would be a serious pain in the rear end
p29287
aVOther than those two dubious features, I can't see this as being very useful
p29288
aVI'd almost conclude it was some sort of prank
p29289
aVFar better to do some real work, I think
p29290
aVSeriously, if we tried to model our application with styro coffee cups and straws, our bosses would be calling the men in white coats
p29291
as(dp29292
g16
V14860
p29293
stp29294
a((dp29295
g2
(lp29296
VWe struck this exact problem when putting together queries for our product using DB2
p29297
aVWe had a query along the lines of:
p29298
aVand the  was actually inserted dynamically by our software, based on a user selection (forget about injection attacks for now, they were prevented via another means)
p29299
aVIn locales where "five and two tenths" was written as  (darn those Europeans), we ended up with:
p29300
aVwhich DB2 complained about bitterly
p29301
aVThe IBM-given solution was to ensure that separator commas had spaces on either side and decimal commas did not:
p29302
aVBut you'll find that many languages solve this problem in exactly the non-friendly way you mention
p29303
aVNone of the ISO C-like standards (well, none that I know of, anyway) allow a constant number to be declared as , despite the fact that ISO is very much an "internationalised" organisation
p29304
aVThey also don't require that keywords like ,  and  be localised into Arabic, or Mongolian, or Klingon :-)
p29305
as(dp29306
g16
V14860
p29307
stp29308
a((dp29309
g2
(lp29310
VI wouldn't process the description column directly - per-row functions on selects rarely scale well
p29311
aVOne of the guidelines I subscribe to is to never have to process things inside columns (like descriptions in your case, or parts of comma-separated-variable columns or even names (first/last) and address (street/town/state) components)
p29312
aVIf you're doing that, there's usually a more efficient way
p29313
aVWhat I would do is to have insert, update and delete triggers on the table
p29314
aVFor the insert/update triggers, I would populate another table along the lines of  below:
p29315
aVBasically, for every non-noise word in the description (i
p29316
ag75
aV, discount things like , , , punctuation, single-letter words and so on), you get an entry in this table (with the lower-cased word)
p29317
aVMake sure that the trigger deletes all current rows for that  before re-populating lest you be left with incorrect information
p29318
aVThen you use that table to run your queries
p29319
aVThis moves the "cost" of finding the words to the insert/update rather than every single select, amortising that cost considerably
p29320
aVThis works well because the vast majority of databases are read far more often than written so moving the cost to the write part is a good idea
p29321
aVKeep in mind there's extra storage required for this but, if you examine the large number of questions people ask about databases, "How can I do this fast
p29322
aVfar outweighs "How can I use less disk space
p29323
aVAnd the delete trigger will simply remove all entries in the  table with the relevant
p29324
aVBecause the  column is indexed (and also, as you requested, you will not be searching every single description field), searches on it will be blindingly fast
p29325
aVThat's because:
p29326
aVwill blow:
p29327
aVout of the water
p29328
as(dp29329
g16
V14860
p29330
stp29331
a((dp29332
g2
(lp29333
VSure, if your operating system lets you take over the page fault mechanism, that's easy to do
p29334
aVJust implement your own fault handler, temporarily store a  instruction at that address, then just  to that location
p29335
aVYou'll have to set a flag in the handler to indicate it was invalid (either for writing the  or trying to execute it), and you'll need to replace the original contents if it was valid
p29336
aVAlternatively, you could possibly walk the IDT/GDT/LDT tables to see if your address exists within any of them
p29337
aVGood luck finding an OS that allows either of these to be done by mere mortals :-)
p29338
aVPerhaps if you could tell us why you want to do this, rather than just assuming this is the best way to achieve what you want, we could think of another solution
p29339
as(dp29340
g16
V14860
p29341
stp29342
a((dp29343
g2
(lp29344
VYou need to specifically set the field separator to a TAB character:
p29345
aVThe default behaviour for  is to treat an  of SPACE (the default) as a special case
p29346
aVFrom the man page:
p29347
aVIn the special case that  is a single space, fields are separated by runs of spaces and/or tabs and/or newlines
p29348
aV(my italics)
p29349
as(dp29350
g16
V14860
p29351
stp29352
a((dp29353
g2
(lp29354
VUnder Windows, use  instead of
p29355
aVSee here for link, relevant bit copied here:
p29356
aVThe  command is identical to , except that with  there is no associated console window
p29357
aVUse  when you don't want a command prompt window to appear
p29358
aVThe  launcher will, however, display a dialog box with error information if a launch fails for some reason
p29359
as(dp29360
g16
V14860
p29361
stp29362
a((dp29363
g2
(lp29364
VYou can access Access databases from your favorite scripting languages such as VBScript:
p29365
as(dp29366
g16
V14860
p29367
stp29368
a((dp29369
g2
(lp29370
VI'll tell you one thing wrong
p29371
aVThe  will create a sub-shell, change into the directory within that sub-shell, then exit
p29372
aVThe process running Perl will still be in its original directory
p29373
aVI'm not sure if that's your specific problem since  is a little light on detail :-)
p29374
aVOne possible fix is:
p29375
aVThat will do the whole lot in one sub-shell so shouldn't suffer from  the problems mentioned
p29376
aVIn fact, this script works fine:
p29377
aVoutputting:
p29378
as(dp29379
g16
V14860
p29380
stp29381
a((dp29382
g2
(lp29383
VUNIX, where all these  things come from, separated the program executable file from the program name, so that your process could have any arbitrary name
p29384
aVThe first argument is the program that will run
p29385
aVThis must exist
p29386
aVThe first argument is what your process running the program will be called, what will be in , and what comes up in the  (process list) output
p29387
aVSo, if I did (in C, but it maps to Python as well):
p29388
aVThis would run the program  but it would show up in the process list as
p29389
aVwould be  and  (the actual argument) would be 60
p29390
aVOften, the first two parameters will be identical but it's by no means required
p29391
aVThat's why the first argument of you list is (seemingly) ignored
p29392
aVIt's the name to give to the process, not the first argument to it
p29393
as(dp29394
g16
V14860
p29395
stp29396
a((dp29397
g2
(lp29398
VA few things to check out:
p29399
aVYou need to check that is actually is the same code
p29400
aVAs in, are your inline assembly statements exactly the same as those generated by the compiler
p29401
aVI can see three potential differences (potential because they may be optimised out)
p29402
aVThe first is the initial setting of  to zero, the second is the extra variable  (unlikely since it will most likely just change the constant subtraction of the stack pointer), the third is that your inline assembly version may not put the interim results back into
p29403
aVYou need to make sure your sample space is large
p29404
aVYou didn't mention whether you'd done only one run of each version or a hundred runs but, the more runs, the better, so as to remove the effect of "noise" in your statistics
p29405
aVAn even better measurement would be CPU time rather than elapsed time
p29406
aVElapsed time is subject to environmental changes (like your virus checker or one of your services deciding to do something at the time you're testing)
p29407
aVThe large sample space will alleviate, but not necessarily solve, this
p29408
as(dp29409
g16
V14860
p29410
stp29411
a((dp29412
g2
(lp29413
VUsually I would just use  since my file names tend to follow certain rules, but that won't catch all possible cases
p29414
aVYou can use:
p29415
aVwhich will basically list all the files and directories, strip out the parent directory then process the rest
p29416
aVBeware of spaces in file names though, it'll treat them as separate files
p29417
aVOf course, if you just want to do files, you can use:
p29418
aVor, yet another solution, which should do all files and directories except the  one:
p29419
aVbut now you're getting into territory where scripts or aliases may be necessary
p29420
as(dp29421
g16
V14860
p29422
stp29423
a((dp29424
g2
(lp29425
VDo you really intend to set the supervisor's quota to 0 in
p29426
aVDoesn't that mean all their projects are now blocked
p29427
aVQuoth the raven:
p29428
aVThe supervisor has a fixed quota of students he can supervise
p29429
aVThis is decremented by 1
p29430
aVOnce the quota hits 0, all the projects from that supervisor become blocked and this has the same effect as a project being allocated
p29431
aVIf that's not it, you should check the output of  to ensure it's returning a full list
p29432
aVIt is, after all, the controlling item for that inner loop
p29433
aVUpdate based on comments:
p29434
aVIt appears the problem was that you were setting the supervisor's quota to 0 thus rendering all their projects blocked
p29435
aVThis is pure guesswork on my part but you probably got one student out in each iteration because the checking of all supervisors happened after an allocation
p29436
aVIn that case, the one just allocated would have a quota of -1 and all the other quotas would be 0, effectively stopping all allocations after that one
p29437
aVIdeally, you'd want to set the supervisor's quota back to their original value in
p29438
aVIf it were a fixed quota (same for each supervisor), you could simply use:
p29439
aVIf each supervisor had a different quota, you would need to store that along with the other information (during initialisation but not resetting) as, for, example
p29440
aVThen you could use:
p29441
as(dp29442
g16
V14860
p29443
stp29444
a((dp29445
g2
(lp29446
VThis is a classic case where you want either the variable declared or declared-and-defined
p29447
aVIf you define it in both source files, you will get a double-definition linker error
p29448
aVOne way to handle this is to only set  for one of the source files so that it is the one where the variable is defined
p29449
aVAll other source files get the declaration only
p29450
aVOf course, it's best to leave definitions out of header files altogether in case you accidentally define  in two source files
p29451
aVTry:
p29452
as(dp29453
g16
V14860
p29454
stp29455
a((dp29456
g2
(lp29457
VA good rule to follow is: "Don't define things in header files"
p29458
aVDeclare all you want but definitions should be restricted to non headers
p29459
aVA declaration is simply a notification that something exists
p29460
aVA definition actually defines what it is
p29461
aVThe rationale behind this guideline is to prevent exactly the situation you're seeing - having things define twice (or more) because header files are included into multiple compilation units
p29462
aVTo avoid this, you could use something like:
p29463
aVThe definition above will only end up in , you won't get another copy in  to cause you problems at link time
p29464
aVLeaving aside that proper encapsulation would make these global variables a very bad idea, that's the way I'd do it
p29465
aVThe encapsulated way of doing it would be something like this:
p29466
aVEncapsulation is basically information hiding
p29467
aVIt means you should expose as little as possible of your inner working to get the job done, lest you open yourself up the possibility of other code sneaking in under the covers and either invalidating your assumptions (see below) or making it harder to change your inner workings later
p29468
aVA classic example is if you want the  variable restricted to the range 0 through 359 inclusive (say an angle)
p29469
aVWith encapsulation you could simply use:
p29470
aVand never have to worry about it being invalid
p29471
aVYou can safely assume, memory corruption aside, that  will always be within the range desired
p29472
aVYou would not have that certainty if some rogue piece of user code could come in and just do:
p29473
aVwithout you knowing it
p29474
aVYou would either have to cater for values outside your desired range or force it to the valid range at the start of all your functions:
p29475
aVThat's poor coding practice, and totally unnecessary
p29476
as(dp29477
g16
V14860
p29478
stp29479
a((dp29480
g2
(lp29481
VNo, C++ does not provide that facility
p29482
aVYou may be able to hack something together with macros (or other trickery) but it's likely to be fairly ugly
p29483
aVSince I can think of no good reason of the top of my head why this would be useful, perhaps you could enlighten us
p29484
aVWhen something cannot be done in a certain way, it's often good to step back to the base requirements and see if there's another way
p29485
as(dp29486
g16
V14860
p29487
stp29488
a((dp29489
g2
(lp29490
VIf you want to do socket communications with timeouts, then  is the way to go
p29491
aVYou basically set up arrays of file descriptors for various events such as read-ready or write-able, then call  with a timeout
p29492
aVIf one of the events is valid, you will be notified and you can perform your actions
p29493
aVIf none of the events occurs before the timeout, you'll still be notified and can take whatever remedial action you see fit
p29494
aVSee here for the gory details, expanded on below
p29495
aVAlternatively, you can use  with the SO_RCVTIMEO:
p29496
aVFor details on , you use the  and  macros to construct a set of file descriptors (fdsets) of interest to you
p29497
aVYou can have three sets, one indicating whether one or more fds has data to read, one indicating whether one or more is ready for writing to, and one indicating errors
p29498
aVYou may not necessarily have all three, it depends on what your code is doing
p29499
aVOnce you've set up the fdsets, you pass them, along with the number of fds and a timeout, to  which weaves its magic and returns to you
p29500
aVBefore you do this, make a copy () of the fdsets for later recovery
p29501
aVOn return, there's either been an error, timeout or an event pertaining to one of the fds of interest
p29502
aVIn that latter case, the fdsets have been modified to only have the fds set for those with an event and you can use  to detect which ones
p29503
aVThen, once you've handled all the events, use  to restore the original fdsets (they were modified by , remember) and call  again
p29504
aVContinue for as long as you need to
p29505
aVKeep in mind that an error return from  is not necessarily fatal
p29506
aVYou can get (in )  for a temporary resource shortage or  if a signal was handled
p29507
aVFor that second case, you can just re-enter the select call
p29508
aVFor the first, I'd implement a retry loop in case it was just a temporary thing
p29509
as(dp29510
g16
V14860
p29511
stp29512
a((dp29513
g2
(lp29514
VNot sure where you got the figure of  for the  (souldn't it be
p29515
aV, but this script will print out the free licences for those two product codes:
p29516
aVI basically cut and pasted your transcript into the  file and ran this script to get:
p29517
aV(you can replace  with whatever command you need to generate that output)
p29518
aVBreakdown:
p29519
aVThe  just sets up  to allow extensions and delayed expansion of environment variables
p29520
aVAll my scripts start with this since it's so useful
p29521
aVThe  loop basically processes one line at a time, grabbing tokens 1 and 3 ( and ) from each
p29522
aVThen it's a simple matter of checking  for the required licence values and, if it matches, outputting that along with
p29523
as(dp29524
g16
V14860
p29525
stp29526
a((dp29527
g2
(lp29528
VYou can combine columns from both tables using (id,name) as the joining criteria with:
p29529
aVIf you want to join on just the (id) and combine the name and somefield1 columns:
p29530
aVAlthough I have to admit this is a rather unusual way of doing things
p29531
aVI assume you have your reasons however :-)
p29532
aVIf I've misunderstood your question and you just want a more conventional union of the two tables, use something like:
p29533
aVThis won't combine rows but will instead just append the rows from the two queries
p29534
aVUse  on its own if you want to remove duplicate rows but, if you're certain there are no duplicates or you don't want them removed,  is often more efficient
p29535
aVBased on your edit, the actual query would be:
p29536
aV(or  if you don't want duplicates where  and )
p29537
as(dp29538
g16
V14860
p29539
stp29540
a((dp29541
g2
(lp29542
VWell, it's not for me
p29543
aVBy far the best language I've ever taught is Python
p29544
aVC is of course the best I've ever learnt but I come from a time when dinosaurs roamed the earth :-)
p29545
aVThe learning curve there for students to get a program running and understood is far less than with any other language I've tried (including C++)
p29546
as(dp29547
g16
V14860
p29548
stp29549
a((dp29550
g2
(lp29551
VTo get cross-tab totals (horizontal and vertical):
p29552
aVThis will give you:
p29553
as(dp29554
g16
V14860
p29555
stp29556
a((dp29557
g2
(lp29558
VYour first and second cases both try to initialise the rwlock for a pointer that points nowhere (well, technically, to a random or NULL location)
p29559
aVIn the first case, you allocate space for your wrapper structure but not the  within it
p29560
aVHence it would point to a random location
p29561
aVThis would work with an actual  rather than a pointer to one:
p29562
aVIn the second, similarly, there's no backing storage for  so it either points to a random location (if allocated within a function) or NULL (if declared at file level)
p29563
aVYou need:
p29564
aVYour third case, which works, does so because the pointer  actually points to a real  (which is of course )
p29565
as(dp29566
g16
V14860
p29567
stp29568
a((dp29569
g2
(lp29570
VActually I wouldn't use a regex for that at all
p29571
aVAssuming your language has a  operation, I'd first split on the  character to get a list of:
p29572
aVThen I'd split each of them on the  character to get the key and (optional) value:
p29573
aVYou haven't specified why you think a regex is the right tool for the job but most modern languages also have a  capability and regexes aren't necessarily the answer to every requirement
p29574
as(dp29575
g16
V14860
p29576
stp29577
a((dp29578
g2
(lp29579
VIt's to prevent out-of-order execution
p29580
aVSee here for full details, relevant bit below:
p29581
aVThe Pentium Pro and Pentium II processors support out-of-order execution instructions may be executed in another order as you programmed them
p29582
aVThis can be a source of errors if not taken care of
p29583
aVTo prevent this the programmer must serialize the the instruction queue
p29584
aVThis can be done by inserting a serializing instruction like CPUID instruction before the RDTSC instruction
p29585
as(dp29586
g16
V14860
p29587
stp29588
a((dp29589
g2
(lp29590
VActually,  is unbuffered by default but I think that's only in terms of the C runtime
p29591
aVWe've solved this before with:
p29592
aV(although we actually did it to  but the same rules apply - the actual  may not be necessary for  but it does no harm)
p29593
aVThe  flushes the C runtime buffers to the OS, the  forces write to disk
p29594
aVKeep in mind this may severely affect your performance
p29595
as(dp29596
g16
V14860
p29597
stp29598
a((dp29599
g2
(lp29600
VYes, you ask them
p29601
aVDespite your misgivings, people will be far happier with you if you bother them, asking for the information, than they will be if you 'steal' such information
p29602
aVYou only have to re-read your question with phrases like "sneaking", "more of a hack", "planning to crack down", and "might be abused" to realise what a bad idea this is - maybe you could scan their hard disk looking for bank account information while you're at it :-)
p29603
as(dp29604
g16
V14860
p29605
stp29606
a((dp29607
g2
(lp29608
VI believe that it was simply to mirror the  type functions which must be able to return any real character plus the  special character
p29609
aVTo do that, they needed an  type since a  isn't quite large enough
p29610
as(dp29611
g16
V14860
p29612
stp29613
a((dp29614
g2
(lp29615
VGenerally, there is wasted space in a block header of an allocated region
p29616
aVMany implementations I've seen use a 16-byte (I'm using the classical definition of byte here, one of eight bits, rather than the ISO C definition) header, immediately before the address returned from , and pad out the allocated region to 16 bytes at the end as well
p29617
aVThis greatly simplifies the algorithms used for allocation and also guarantees that memory addresses returned will be aligned appropriately for the architecture
p29618
aVBut keep in mind that this is an implementation detail, not a feature of the C standard
p29619
aVIf there are no alignment requirements and memory allocations are limited to 255 bytes, it's quite plausible that only one byte will be wasted (albeit at the expense of a more complicated algorithm)
p29620
aVIt's quite plausible that you could have an embedded application that only ever allocates 256-byte chunks in which case you could have a simple bitmap-based allocator (with the bitmap stored elsewhere rather than in-line with the memory blocks being allocated), wasting only one bit per chunk (we've done this before in low memory environments)
p29621
aVOr maybe you have an allocator in a large address-space and memory environment that gives you 4G no matter what you ask for
p29622
aVThen there's no wastage for a header, but probably plenty for the padding :-)
p29623
aVOr maybe you get a chunk from a size-specific arena (1-64 bytes from arena A, 65-128 from arena B and so on)
p29624
aVThis means no header required but still allowing variable size (up to a maximum) and substantially less wastage than the 4G solution above
p29625
aVBottom line, it depends on the implementation
p29626
aVIn a (reasonably simple) implementation of , you could have a doubly-linked list of "chunks" which are given out by the allocator
p29627
aVThese chunks consist of a header and a data section and, to ensure alignment of the data section is correct, the header must be on a 16-byte boundary and be a multiple of 16 bytes in length (that's for a 16-byte alignment requirement - your actual requirement may not be that stringent)
p29628
aVIn addition, the chunk itself is padded so it's a multiple of 16 bytes so that the next chunk is suitably aligned as well
p29629
aVThat guarantees that the data section of any chunk, which is the address given to the caller of , is aligned correctly
p29630
aVSo you may well get wastage in that area
p29631
aVA header (with 4-byte integers and pointers) may simply be:
p29632
aVmeaning that four of those sixteen bytes will be wasted
p29633
aVSometimes that's necessary to meet the other requirements (alignment) and, in any case, you can use that padding space for other purposes
p29634
aVAs one commenter pointed out, guard bytes can be used to detect some forms of arena corruption:
p29635
aVAnd, while that padding is technically wasted space, it only becomes important if it's a sizeable proportion of the entire arena
p29636
aVIf you're allocating 4K blocks of memory, the four bytes of wastage is only about a thousandth of the total size
p29637
aVActually, the wastage to you as a user is probably the entire 16 bytes of the header since that's memory you can't use, so it's about 0
p29638
aV39% (16 / (4096 + 16))
p29639
aVThat's why a malloc'ed linked list of characters is a very bad idea - you tend to use, for every single character:
p29640
aV16 bytes of header
p29641
aV1 byte for the character (assuming 8-bit characters)
p29642
aV15 bytes of padding
p29643
aVThis would change your 0
p29644
aV39% figure into 96
p29645
aV9% wastage (31 / (31 + 1))
p29646
aVAnd, in response to your further question:
p29647
aVIs this an acceptable sacrifice, or am I thinking about this wrong
p29648
aVI would say, yes, this is acceptable
p29649
aVGenerally, you allocate larger chunks of memory where four bytes won't make a difference in the grand scheme of things
p29650
aVAs I stated earlier, it's not a good solution if you allocate lots of little things but that's not the general use case of
p29651
as(dp29652
g16
V14860
p29653
stp29654
a((dp29655
g2
(lp29656
VFrom the c99 standard:
p29657
aVThe sprintf function returns the number of characters written in the array, not counting the terminating null character, or a negative value if an encoding error occurred
p29658
aVThis generally happens only with the multi-byte and wide character character set functions
p29659
as(dp29660
g16
V14860
p29661
stp29662
a((dp29663
g2
(lp29664
V is the token type
p29665
aVIt's the category of the value rather than the value itself
p29666
aVIn other words, some of your own YACC code may not care what the actual value is, just that it's of a specific type
p29667
aVA classic example is a (very) simple expression evaluator that takes
p29668
aVYou don't want a special rule for every case:
p29669
aVso you have one rule that handles the general case, then use  for the specific value
p29670
as(dp29671
g16
V14860
p29672
stp29673
a((dp29674
g2
(lp29675
VYes, you can use a hideous non-scalable query segment along the lines of:
p29676
aVor you can do it the right way :-)
p29677
aVIntroduce another column like  and use an insert/update trigger to populate it with the correct value
p29678
aVThen index that column and your queries will be the blindingly fast:
p29679
aVThat moves the cost of calculation to the insert/update where it belongs, rather than the select where the cost is incurred unnecessarily
p29680
aVThe data only changes on insert/update so that's the only time you should need to incur that cost
p29681
aVIf your needs are more complicated than a simple first and last name, you can populate other tables in your triggers
p29682
as(dp29683
g16
V14860
p29684
stp29685
a((dp29686
g2
(lp29687
VThe following awk script will do it:
p29688
aVas shown in the following transcript:
p29689
aVwhich produces:
p29690
aVas requested
p29691
aVBreaking it down:
p29692
aVskip is initially 0 (false)
p29693
aVif you find a line you want to start skipping from, set skip to 1 (true) - change this pattern where necessary
p29694
aVif skip is false, output the line
p29695
aVregardless of skip, store the last line
p29696
aVat the end, is skip is true, output the last line (sjip check prevents double print)
p29697
aVFor doing it to multiple files, you can just use :
p29698
aVThe command required for your update in the comment (searching for ) is:
p29699
as(dp29700
g16
V14860
p29701
stp29702
a((dp29703
g2
(lp29704
VIf you want fields from a text file,  is almost always the answer:
p29705
aVFor example:
p29706
as(dp29707
g16
V14860
p29708
stp29709
a((dp29710
g2
(lp29711
V is where your source files go,  is where your resource files go (icons, images, externalised strings for internationalisation and so forth)
p29712
as(dp29713
g16
V14860
p29714
stp29715
a((dp29716
g2
(lp29717
V takes an  which is the representation of the character
p29718
aVCharacter 9 is (assuming you're using ASCII) the TAB character
p29719
aVCharacter 0x39 or '9' (not 9) is the actual character representing the digit 9
p29720
aVThe digit characters are integer codes 0x30 through 0x39 (or 48 through 57) in ASCII - I reiterate that since ASCII is not a requirement of the ISO C standard
p29721
aVHence the following code:
p29722
aVwhich I've seen before, is not a good idea for portability since there is at least one implementation that uses EBCDIC under the covers -  is the best option in all situations
p29723
as(dp29724
g16
V14860
p29725
stp29726
a((dp29727
g2
(lp29728
VYour  specifically states that it only wants two characters so that's all it gets
p29729
aVYou are not putting any more characters into the  area so you won't get any segmentation violations
p29730
aVAs to why it's executing the  part, that doesn't actually happen on my immediate system since the program hangs around until ENTER is pressed, and it appears the program's I/O is absorbing the extra
p29731
aVBut that immediate system is Cygwin - see update below for behaviour on a "real" UNIX box
p29732
aVAnd you'll only get  if  is outside your address space or otherwise invalid
p29733
aVThat's not the case here
p29734
aVUpdate:
p29735
aVTrying this on Ubuntu 9, I see that the behaviour is identical to yours
p29736
aVWhen I supply the characters , the program outputs  then does a directory listing
p29737
aVThat means your program is only reading the two characters and leaving the rest for the "next" program to read, which is the shell
p29738
aVJust make sure you don't try entering:
p29739
aV(no, seriously, don't do that)
p29740
as(dp29741
g16
V14860
p29742
stp29743
a((dp29744
g2
(lp29745
VA couple of things:
p29746
aVI always install the whole Cygwin package
p29747
aVEarlier versions had troubles with dependencies that are fixed now, I believe, but it's still a good habit
p29748
aVYou never know when you may need the most esoteric bit of Cygwin
p29749
aVYou may have to change your path
p29750
aVAll the tools can generally be found okay if you're running inside the Cygwin bash shell but that's not necessarily the case from
p29751
aVIt's unlikely to be that last one since your error message is coming from  itself, so I'm pretty certain that's how you're running it
p29752
aVHave a look to make sure you have  from within  and that your path includes  somewhere:
p29753
aVIf it's not there, go back and re-install everything (or the relevant development package if you don't want everything)
p29754
aVIf it is there and your path doesn't have its location, change your path, in either  or the equivalent in your home directory
p29755
as(dp29756
g16
V14860
p29757
stp29758
a((dp29759
g2
(lp29760
VSQLite provides C/C++ reference material and a C/C++ tutorial on their site
p29761
aVIn addition, the quickstart page has some C/C++ starter code that you can play with
p29762
aVThat may be the best place to start looking, then come back to SO with specific questions when you encounter a problem
p29763
aVAll that stuff mentioned above can be found from the prodigious SQLite document page
p29764
as(dp29765
g16
V14860
p29766
stp29767
a((dp29768
g2
(lp29769
V will give you the space taken up by the directory itself, not the files within it
p29770
aVAs such, it has a minimum size
p29771
aVWhen a directory is created, it's given this much space to store file information which is a set number of bytes per file (let's say 64 bytes thought the number could be different)
p29772
aVIf the initial size was 4K, that would allow up to 64 files
p29773
aVOnce you put more than 64 files into the directory, it would have to be expanded
p29774
aVAs for your comment:
p29775
aVThe reason why it may not get smaller when you delete all the files in it is because there's usually no real advantage
p29776
aVIt's just left at the same size so that it doesn't have to be expanded again next time you put a bucketload of files in there (it tends to assume that past behaviour is an indicator of future behaviour)
p29777
aVIf you want to reduce the space taken, there's an old trick for doing that
p29778
aVTo reduce the size of , create a brand new , copy all the files across (after deleting those you don't need), then simply rename  to  and  to
p29779
aVVoila
p29780
aVOh yeah, eventually delete
p29781
as(dp29782
g16
V14860
p29783
stp29784
a((dp29785
g2
(lp29786
VI don't believe it will make a discernable difference which language you use for this purpose
p29787
aVThe bottleneck here is not your application but the disk performance
p29788
aVJust because a language is interpreted, it doesn't mean that every single operation in it is slow
p29789
aVAs an example, it's a fairly safe bet that the lower-level code in Python will call assembly (or compiled) code to do copying
p29790
aVSimilarly, when you do stuff with collections and other libraries in Java, that's mostly compiled C, not interpreted Java
p29791
aVThere are a couple of things you can do to possibly speed up the process
p29792
aVBuy faster hard disks (10K RPMs rather than 7
p29793
aV5K or less latency, larger caches and so forth)
p29794
aVCopying between two physical disks may be faster than copying on a single disk (due to the head movement)
p29795
aVIf you're copying across the network, stage it
p29796
aVIn other words, copy it fast to another local disk, then slow from there across the net
p29797
aVYou can also stage it in a different way
p29798
aVIf you run a nightly (or even weekly) process to keep the copy up to date (only copying changed files) rather than three times a year, you won't find yourself in a situation where you have to copy a massive amount
p29799
aVAlso if you're using the network, run it on the box where the repository is
p29800
aVYou don't want to copy all the data from a remote disk to another PC then back to yet another remote disk
p29801
aVYou may also want to be careful with Python
p29802
aVI may be mistaken (and no doubt the Pythonistas will set me straight if I'm mistaken on this count ) but I have a vague recollection that its threading may not fully utilise multi-core CPUs
p29803
aVIn that case, you'd be better off with another solution
p29804
aVYou may well be better off sticking with your current solution
p29805
aVI suspect a specialised copy program will already be optimised as much as possible since that's what they do
p29806
as(dp29807
g16
V14860
p29808
stp29809
a((dp29810
g2
(lp29811
V was often used frequently in situations that produced "spaghetti" code
p29812
aVIn other words, to follow the logic of the code required you to move frequently from point to point, often in an unstructured or unobvious way
p29813
aVThis lead to code that was difficult to understand
p29814
aVBut in the old days (early BASIC),  was often the only way to do iteration so there wasn't always a choice
p29815
aVMore expressive languages provided other ways of doing iteration (, ,  and so forth) where the loop was far more obvious
p29816
aVHaving said that, it's really the overuse of  that's considered harmful
p29817
aVIt still has its place in many situations such as error handling or finite state machines, provided it doesn't make the code too hard to follow
p29818
as(dp29819
g16
V14860
p29820
stp29821
a((dp29822
g2
(lp29823
VIt means that  itself will ignore any error code from
p29824
aVIn a , if any command fails then the  process itself discontinues processing
p29825
aVBy prefixing your commands with , you notify  that it should continue processing rules no matter the outcome of the command
p29826
aVFor example, the makefile rule:
p29827
aVwill not remove the  files if  returns an error (if, for example, there aren't any  files to delete)
p29828
aVUsing:
p29829
aVwill fix that particular problem
p29830
aVAside: Although it's probably not needed in your specific case (since the  flag appears to prevent  from returning an error when the file does not exist), it's still good practice to mark the line explicitly in the  -  may return other errors under certain circumstances and it makes your intent clear
p29831
as(dp29832
g16
V14860
p29833
stp29834
a((dp29835
g2
(lp29836
VYou can either use  for remark or the more shorthand version , which sort of looks like  if you squint a bit and look at it sideways :-)
p29837
aVI originally preferred the  variant since I'm a -aholic and I'm still trying to forget the painful days of BASIC
p29838
aVUnfortunately, there are situations where  stuffs up the command line processor (such as within complex  or  statements) so I generally use  nowadays
p29839
as(dp29840
g16
V14860
p29841
stp29842
a((dp29843
g2
(lp29844
VI follow two very simple rules which make my life easier
p29845
aV1/ Allocate memory when you need it, as soon as you know what you need
p29846
aVThis will allow you to capture out-of-memory errors before doing too much work
p29847
aV2/ Every allocated block of memory has a responsibility property
p29848
aVIt should be clear when responsibility passes through function interfaces, at which point responsibility for freeing that memory passes with the memory
p29849
aVThis will guarantee that someone has a clearly specified requirement to free that memory
p29850
aVIn your particular case, you need to pass in a double char pointer if you want the value given back to the caller:
p29851
aVAs long as you clearly state what's expected by the function, you could either allocate the memory in the caller or the function itself
p29852
aVI would prefer outside of the function since you know the size required
p29853
aVBut keep in mind you can allow for both options
p29854
aVIn other words, if the function is passed a  that points to NULL, have it allocate the memory
p29855
aVOtherwise it can assume the caller has done so:
p29856
as(dp29857
g16
V14860
p29858
stp29859
a((dp29860
g2
(lp29861
VI can't see that this would be specific to the relational model
p29862
aVAll databases that have to read and write (and that's most of them) will have a similar problem
p29863
aVFor what it's worth, most databases are read far more than written so the write roof occurs less frequently than you might think
p29864
aVIn addition, load balancing databases as per your method tends to be an immediate write to the primary with queued writes to all secondaries (at least in my experience)
p29865
aVIn that case, you're not actually waiting around for multiple writes as a user, you just wait for the first
p29866
aVThe DBMS itself manages the synchronisation between instances
p29867
aVThis of course means that secondary databases might not be totally up-to-date but this can be controlled
p29868
aVTechnically, this breaks the ACID properties of the system as a whole but this can be architected around
p29869
as(dp29870
g16
V14860
p29871
stp29872
a((dp29873
g2
(lp29874
VIf you can modify  and it doesn't otherwise output anything, just change it to output its log file with a line like:
p29875
aVthen use:
p29876
aVin your parent
p29877
aVAlternatively, you can provide a wrapper function to do the work:
p29878
aVThis produces:
p29879
aVas expected
p29880
aVOr this if you think your executable may output something
p29881
aVThis one stores the PID into a variable:
p29882
as(dp29883
g16
V14860
p29884
stp29885
a((dp29886
g2
(lp29887
V simply means that the contents of a directory are processed before the the directory itself:
p29888
aVmeans that each item is printed to standard output
p29889
aVThis is often the default on system where you don't specify an action but I've seen some that default to doing nothing (not very useful in my opinion)
p29890
aVYou're probably better off (if your system supports them) explicitly using  if you're going to be piping the output to  (and use )
p29891
aVThis will remove problems of spaces in filenames
p29892
as(dp29893
g16
V14860
p29894
stp29895
a((dp29896
g2
(lp29897
VI don't believe so
p29898
aVwill not remove the entry from the catalog if it was already there
p29899
aVwill remove it no matter what
p29900
aVI think that, if you want to keep the data set, you have three options:
p29901
aVwill give you a catalog entry regardless of whether one existed before
p29902
aVwill remove the catalog entry regardless of whether one existed before
p29903
aVwill not change the catalog entry
p29904
aVAll those options keep the data set itself
p29905
aVIf you're talking specifically about SMS-managed or VSAM data sets,  is implied and  is ignored
p29906
as(dp29907
g16
V14860
p29908
stp29909
a((dp29910
g2
(lp29911
VI think from memory that the standard  on AIX is an older variant
p29912
aVIt may not support the ranged for loop
p29913
aVTry to run it with  instead of
p29914
aVThis should be in the same place as , probably
p29915
aVOtherwise, just use something old-school like:
p29916
aVActually, looking through publib seems to confirm this (the  snippet) so I'd try to go down that route
p29917
as(dp29918
g16
V14860
p29919
stp29920
a((dp29921
g2
(lp29922
VWhich version of DB2 are you using
p29923
aVThe  command was introduced in DB2 v9 (at least on the mainframe, which appears to be what you're asking about based on the link)
p29924
aVYou may have to resort to the  option although this article gives a stored procedure way of doing it in DB2 v8
p29925
as(dp29926
g16
V14860
p29927
stp29928
a((dp29929
g2
(lp29930
VWell, for one thing, if you want to change it
p29931
aVImagine the following contrived function:
p29932
aVEach time you call it, it returns the next most frequent character from a list by returning the count from the function and setting a character by way of the character pointer
p29933
aVI'm having a hard time finding another use case which would require the pointer if you only ever wanted to use (but not change) the underlying character
p29934
aVThat doesn't mean one doesn't exist of course :-)
p29935
aVIn addition, I'm not sure what you're discussing is deep/shallow copy
p29936
aVThat tends to apply to structures with pointers where a shallow copy just duplicates the top level while a deep copy makes copies of all levels
p29937
aVWhat you're referring to is pass-by-value and pass-by-reference
p29938
as(dp29939
g16
V14860
p29940
stp29941
a((dp29942
g2
(lp29943
VHere's a complete C program that shows how you can do this
p29944
aVIt basically reads in lines at a time with , then uses  to process each of the inetegrs on that line
p29945
aVIt has rudimentary error checking but it hasn't been tested with bad data (line non-numerics) but it should be a good start
p29946
aVJust replace the  statements with code that will append each number to an array:
p29947
aVAnd here's the output to show you that it's working:
p29948
as(dp29949
g16
V14860
p29950
stp29951
a((dp29952
g2
(lp29953
VThe culprit is the
p29954
aVIt appears to be outputting  for the value 6 whereas the  one is outputting
p29955
aVThe Java docs for  state:
p29956
aVThis value is converted to a string of ASCII digits in hexadecimal (base 16) with no extra leading 0s
p29957
aVThe other zeros in the string aren't being affected since they're the second half of the bytes (e
p29958
ag1775
aV, )
p29959
aVOne way to fix it would be to change:
p29960
aVto:
p29961
as(dp29962
g16
V14860
p29963
stp29964
a((dp29965
g2
(lp29966
VI don't think you can do them directly
p29967
aVYou can do inline assembly with code like:
p29968
as(dp29969
g16
V14860
p29970
stp29971
a((dp29972
g2
(lp29973
VThis will do it:
p29974
as(dp29975
g16
V14860
p29976
stp29977
a((dp29978
g2
(lp29979
V was declared
p29980
aVis a function that will take a pointer to a  and add 5 to its Y value
p29981
aVIt's no different to the following:
p29982
aVYou wouldn't say  wasn't defined in that case
p29983
aVIt's the same for  in your case
p29984
aVPerhaps some comments in the code would help:
p29985
aVPointers are simply a level of indirection
p29986
aVIn the code:
p29987
aVthe effect of lines 3 and 4 are identical
p29988
aVThat's because  is a pointer to  so that , the contents of , is actually
p29989
aVIn your case,  is the same as , or the  member of the class pointed to by
p29990
as(dp29991
g16
V14860
p29992
stp29993
a((dp29994
g2
(lp29995
VIf you want both  and , use:
p29996
aVIf you want both  alone, you can use:
p29997
aVThe first sends all output destined for file handle 2 () to file handle 1 (), then pipes that through
p29998
aVThe second does the same but also sends  to the bit bucket
p29999
aVThis will work since redirection is a positional thing
p30000
aVFirst,  is redirected to the current , then  is redirected to
p30001
as(dp30002
g16
V14860
p30003
stp30004
a((dp30005
g2
(lp30006
VActually, I don't imagine it would be a caching issue
p30007
aVI'm pretty certain SQLite doesn't load the entire database into memory when you open it - it just gets some relatively small amount of on-disk structures
p30008
aVOne possibility, however, is if it has not been compiled with the  preprocessor define
p30009
aVIn that case, a call to  will result in a call to
p30010
aVQuite a bit happens within that function though I'm unsure as to how much time it will take
p30011
aVThe  function maintains a flag indicating it's been called before and then, on subsequent calls, it will exit (almost) immediately
p30012
aVThat's why I mention it as a possible culprit in the difference between first and subsequent opens
p30013
aVI'd suggest changing your code from:
p30014
aVto:
p30015
aVand timing the two function calls independently
p30016
aVIt may be that it's the initialisation taking up the time
p30017
as(dp30018
g16
V14860
p30019
stp30020
a((dp30021
g2
(lp30022
VYour problem lies here:
p30023
aVYou'll end up with a query like:
p30024
aVIf the branch_id column is an integer, you should not be quoting it, and you should insert the commas slightly differently to avoid a trailing one, such as with:
p30025
aVThis works by setting the initial separator to an empty string then to a comma after adding each item
p30026
aVSo, when adding A, B and C, you'll get "A", "A,B" and "A,B,C'
p30027
aVI also removes the erroneous quoting on integers
p30028
aVYou'll also probably need to catch the case where none of your items are selected since otherwise you'll end up with:
p30029
as(dp30030
g16
V14860
p30031
stp30032
a((dp30033
g2
(lp30034
VIt really is quite ingenious
p30035
aVLet's break it down
p30036
aVThe  command
p30037
aVwill search for all empty lines and execute the  command (an arbitrary  command) on each of them
p30038
aVThe tricky bit here is that the  command in your case is yet another substitute command:
p30039
aVThe  specifies a range
p30040
aVThis is of the form  and, because there's nothing before the comma, it assumes the current line (the one where you found the blank line) is the start
p30041
aVAfter the comma is  which means search for the next character ( means any character) then back up one line ( is short for  since the one is implied if no value is given)
p30042
aVYou'll find that pattern  on the first non-blank line following the one you're operating on
p30043
aVIn other words, the end of the range is the last blank line after or at the one you're currently operating on
p30044
aVThen you execute a join over that range
p30045
aVIf the start and the end of the range were equal (only one blank line was in the section), join does nothing
p30046
aVIf they're not equal, join will join them all up
p30047
aVThat's the way in which it combines multiple blank lines into one
p30048
aVLets look at an example (line numbers are not in the file):
p30049
aVThe  command will find all blank lines and perform its operation on them (lines 2, 5, 6, 7 and 8)
p30050
aVFor line 2,  will set up a range from 2 to 2 (next  found on line 3 then subtract 1)
p30051
aVA join on the range 2,2 does nothing
p30052
aVFor line 5,  will set up a range from 5 to 8 (next  found on line 9 then subtract 1)
p30053
aVA join on the range 5,8 will join all those lines together
p30054
aVI'm not entirely certain about this but I think the operation may not be performed on lines that disappear as part of an earlier operation
p30055
aVThat's because it would make no sense to process lines that have been deleted earlier in the cycle
p30056
aVIn other words, because lines 6 through 8 are deleted (combined with line 5), the global command doesn't operate on them after that
p30057
aVI base that on nothing more than the fact that the vim documentation states a two-pass algorithm, one to mark the lines, one to perform the operation
p30058
aVI may be wrong on that point (it wouldn't be the first time) but it's an implementation detail which doesn't affect the functionality
p30059
as(dp30060
g16
V14860
p30061
stp30062
a((dp30063
g2
(lp30064
VYou should probably use HeapReAlloc since Windows will no doubt have optimisations in place if it can just expand the memory without copying data
p30065
aVFor example, I've seen implementations of  (the C standard one) which checks to see if the current block can just absorb a free block following it
p30066
aVIf so, it does that to avoid a copy operation
p30067
aVIf not, it allocates the new memory and does the copy before freeing the old
p30068
aVAnother advantage of that is that you minimise the extra memory required
p30069
aVIn a copy version, you have to have two copies of the current data in existence at some point
p30070
as(dp30071
g16
V14860
p30072
stp30073
a((dp30074
g2
(lp30075
VNo, no, no, no no
p30076
aVSeriously, no
p30077
aVDon't make me come over there and slap you around :-)
p30078
aVYou're breaking third normal form by storing the email address twice
p30079
aVThe relationship need only be a short one, that of
p30080
aVAssuming you're not guaranteeing the IDs will be identical in the two tables (i
p30081
ag75
aV, my contact_info
p30082
aVidci_iduserscontact_info` table
p30083
aVThen the query to get a user's username and email will be something like:
p30084
aVBy the way, it's not necessary to Community-Wiki questions like this
p30085
aVThey're perfectly appropriate here on SO and you'll probably get more answers if there's rep involved
p30086
aVLack of rep won't stop me of course, I'm just here because I like telling people what to do and that's pretty difficult in a household with a strong-willed wife and two kids under the age of six :-)
p30087
as(dp30088
g16
V14860
p30089
stp30090
a((dp30091
g2
(lp30092
VThis line (the third in the multiline statement):
p30093
aVhas one too many closing parentheses {tremble in fear at my awesome drawing skills :-) }
p30094
aVIt should be:
p30095
aVThe full list of problems I got from that source was:
p30096
aVThe second of those is the one you're probably having (and the one you can fix with the above solution)
p30097
aVThe first, if you're having it, will cause a problem but I suspect it's just because of my environment
p30098
as(dp30099
g16
V14860
p30100
stp30101
a((dp30102
g2
(lp30103
VThe main way in which  can fail is not having the JDBC drivers available on the class path but that would be a run-time error, not a compile-time error as you seem to be getting here
p30104
aVUsing my powers of psychic debugging, I think you may be using GWT
p30105
aVI don't believe it allows that on the client side (where it's converted to JavaScript)
p30106
aVAll JDBC stuff has to stay on the server side
p30107
aVGoogle themselves publish the JRE emulation reference so you can see what is allowed
p30108
aVThe supported methods of  are limited to:
p30109
aVdesiredAssertionStatus()
p30110
aVgetEnumConstants()
p30111
aVgetName()
p30112
aVgetSuperclass()
p30113
aVisArray()
p30114
aVisEnum()
p30115
aVisInterface()
p30116
aVisPrimitive()
p30117
aVtoString()
p30118
aVIf I am right about the fact you're using GWT, it's probably best to use GWT-RPC to talk between the client and server, and have the server itself issue JDBC calls
p30119
aVIf you want further information on GWT-RPC, see here
p30120
aVThere's a thread in the GWT news group which you can read for further information
p30121
as(dp30122
g16
V14860
p30123
stp30124
a((dp30125
g2
(lp30126
VRun-time is basically the time at which your code is running (as opposed to compile-time or link-time)
p30127
aVIn the context you're seeing it, it means run-time libraries, those libraries needed to load an execute your program
p30128
aVThis is dynamically linked stuff (DLLs or shared objects) since statically linked code can't be missing (it's in the executable file itself)
p30129
aVA classic example is to depend on Microsoft's C run-time or
p30130
aVNET libraries but not ship them with your product
p30131
aVThat means your executable will run on any machine that has those libraries already there (such as those with Visual Studio installed) but not necessarily every computer you want to run your code on
p30132
aVI answered a question here regarding the difference between static and dynamic linking which should hopefully add to your knowledge
p30133
aVThe dynamic linking allows you to update certain parts of the application without recompiling or relinking
p30134
aVYou do this by dropping in a new version of the DLL
p30135
aVUnfortunately, having that code in a separate file means it can go missing
p30136
aVThat would be one cause of the problem but I suspect the most likely is just that someone didn't do their installation code very well, otherwise everything needed would have been installed
p30137
as(dp30138
g16
V14860
p30139
stp30140
a((dp30141
g2
(lp30142
VA function to do that, along with a test harness:
p30143
aVRunning this with:
p30144
aVgives you:
p30145
as(dp30146
g16
V14860
p30147
stp30148
a((dp30149
g2
(lp30150
VFrom the docs:
p30151
aVIf you use the IGNORE keyword, errors that occur while executing the INSERT statement are treated as warnings instead
p30152
aVFor example, without IGNORE, a row that duplicates an existing UNIQUE index or PRIMARY KEY value in the table causes a duplicate-key error and the statement is aborted
p30153
aVWith IGNORE, the row still is not inserted, but no error is issued
p30154
aV(my italics)
p30155
aVYour row is not duplicating "an existing UNIQUE index or PRIMARY KEY value" since you have no primary key nor any unique constraints
p30156
aVIf, as you mention in one of your comments, you want neither field to be unique but you do want the combination to be unique, you need a composite primary key across both columns (get rid of any duplicates first):
p30157
as(dp30158
g16
V14860
p30159
stp30160
a((dp30161
g2
(lp30162
VDepends on the shell
p30163
aVIn , you can use:
p30164
aVwhich will set the variable and make it available to other programs
p30165
aVIf you want to set it for one invocation of a program, you can use:
p30166
aVThis will have it set for the  process but not after it exits
p30167
as(dp30168
g16
V14860
p30169
stp30170
a((dp30171
g2
(lp30172
VFrom memory (I don't have an ObjC environment handy at the moment):
p30173
aVIn other words:
p30174
aVGet the user's current calendar
p30175
aVGet the weekday unit based on the given date
p30176
aVGet the week day from that
p30177
aVCompare it with what you want
p30178
as(dp30179
g16
V14860
p30180
stp30181
a((dp30182
g2
(lp30183
VYou could just take the MIT licence and add an overriding clause which prevents selling or sub-licencing the product for money
p30184
aVOr you could take that licence to someone who knows about licensing and get them to do it
p30185
aVIn other words, a lawyer type, not a tech type
p30186
aVAny advice from non-lawyers will be worth exactly the amount of money they put towards their law degree at University :-)
p30187
as(dp30188
g16
V14860
p30189
stp30190
a((dp30191
g2
(lp30192
VWhat I tend to do in those cases is just perform the following (pseudo-code since I'm a DB2 man myself):
p30193
aVYou can do it in the opposite order if you're more likely to have rows than not:
p30194
aVYou never test first in a DBMS since the database can change underneath you between the test and the execution (the "better to ask forgiveness than seek permission" principle)
p30195
as(dp30196
g16
V14860
p30197
stp30198
a((dp30199
g2
(lp30200
VBaby steps to start with
p30201
aVCreate the file you want to compile () in your favorite editor, like:
p30202
aVThen from the command prompt, execute:
p30203
aVThat will give you an executable you can then run
p30204
aVBeyond that, it really depends on how much C (or C++ or other GCC language) you know
p30205
aVIf you're a beginner at C, rather than just the GCC toolchain, get yourself a good beginner's book on the language and start reading
p30206
aVMost importantly, do the exercises, play with the code and so forth
p30207
aVBased on your update that you're comfortable with C itself (the Borland line), you'll probably only be interested in the immediate GCC differences
p30208
aVGCC is a command-line compiler
p30209
aVThere are IDEs that use it but GCC itself is not an IDE
p30210
aVThat means you'll probably be doing command-line compilation
p30211
aVThe basic forms of this are:
p30212
aVOnce you get sick of doing that, you'll want to learn how to use make, a way of automating the build process with a file containing rules (dependencies and actions to take), such as:
p30213
aVI don't do justice to the power of  here, it's far more expressive than it looks
p30214
as(dp30215
g16
V14860
p30216
stp30217
a((dp30218
g2
(lp30219
VYou misunderstand the way that mutexes work (at least under your particular implementation)
p30220
aVThe release of a mutex doesn't automatically swap to another thread that's waiting for it
p30221
aVGenerally, threads keep running until either they have to wait for a resource or they use up their quantum (time slice)
p30222
aVWhere there is no resource contention and all threads have the same priority, the fairest scheduling algorithm is to give each an equal time slice before swapping
p30223
aVThat's because the swap operation itself takes some time so you don't want to be doing it too often (relative to the real work being done by the threads
p30224
aVIf you want to alternate between threads, you need something more deterministic than mutexes, such as a set of condition variables:
p30225
as(dp30226
g16
V14860
p30227
stp30228
a((dp30229
g2
(lp30230
VI don't know of any text-mode IDEs (unless you count emacs as an IDE which isn't beyond the bounds of possibility)
p30231
aVFor a text mode distro, I would simply use vim along with makefiles from the command line
p30232
aVThat will get you a large way towards simplifying the development process inasmuch as it will handle incremental compilation and linking
p30233
as(dp30234
g16
V14860
p30235
stp30236
a((dp30237
g2
(lp30238
VThe following  program is a good place to start
p30239
aVIt relies on the fact that you can do a single-shot ping and that, if successful, the output will contain the line:
p30240
aVBy extracting tokens 5 and 7 and checking they're respectively  and , you can detect the success
p30241
aVCall it with the name (or IP address) you want to test:
p30242
aVTo only notify you when the state changes, you can use:
p30243
aVHowever, as Gabe points out in a comment, you can just use  so the equivalent of that second script above becomes:
p30244
as(dp30245
g16
V14860
p30246
stp30247
a((dp30248
g2
(lp30249
VI don't know that there's an easy way to do this without resorting to sub-shells, something you probably want to avoid for efficiency
p30250
aVI would just use:
p30251
aVIf you're not fussed about efficiency and just want a one-liner:
p30252
aVKeep in mind that this second method starts sub-shells - it's not something I'd be doing a lot of if your script has to run fast
p30253
as(dp30254
g16
V14860
p30255
stp30256
a((dp30257
g2
(lp30258
VNo, it's actually known as a Debanjan bug :-) Have a look at this:
p30259
aVIt looks to me like you only allow enough space to store one prime in the  array
p30260
aVThat means writing to  for  is likely to overwrite other values
p30261
aVThis is the dreaded undefined behavior which means that anything can happen (including it working as in the Ideone situation)
p30262
aVJust use:
p30263
aVto declare the array
p30264
aVI'm pretty certain there won't be more than 100 primes less than or equal to 100 :-)
p30265
as(dp30266
g16
V14860
p30267
stp30268
a((dp30269
g2
(lp30270
VWorking for a company that takes copyrights very seriously, we are required to put copyright/licence messages in every single file, despite the fact it's not technically required under US law
p30271
aVI suspect it's so that, if a file was somehow separated from the product as a whole, it would still be easily identifiable
p30272
aVHowever, we don't maintain that message in every single file
p30273
aVWe have scripts which automatically add in the copyright messages to every file that's released to the wild
p30274
aVThat way you only have to change one file
p30275
aVWe also have scripts that check every single release file has the correct message
p30276
aVHowever, in terms of licensing, the lack of an explicit licence means that standard copyright would apply so it may be that you're happy with the single  file
p30277
aVAs always, my legal opinion is worth every cent you paid me for it (which is zero)
p30278
aVI am not a lawyer, I am certainly not your lawyer
p30279
as(dp30280
g16
V14860
p30281
stp30282
a((dp30283
g2
(lp30284
VProbably the safest way would be to run the trial in a VM under VMWare or VirtualBox
p30285
aVI wouldn't trust different versions or levels of the same software to run nicely together
p30286
aVBut I'm inherently paranoid :-)
p30287
as(dp30288
g16
V14860
p30289
stp30290
a((dp30291
g2
(lp30292
VAll levels of question are accepted here
p30293
aVYou can use  to only get the first field:
p30294
aVYour script would then be something like:
p30295
aVYou'll notice I've changed a couple of other things as well:
p30296
aVI prefer  to `X` for capturing output of command simply because they're easier to nest
p30297
aVIf you've already put  into , you may as well use  from that point on (the  in the  is a different beast)
p30298
aVI prefer to put all my variables inside  so that it's obvious to both the reader and the shell that  is  appended with , rather than $varX being the non-existent ${varX}
p30299
aVThese are really personal preferences but, as with all my personal preferences, I consider them best practices for the entire IT industry :-)
p30300
as(dp30301
g16
V14860
p30302
stp30303
a((dp30304
g2
(lp30305
VOn error,  should contain the error code
p30306
aVWhat was it
p30307
aVRalf Brown's (excellent) interrupt list details them:
p30308
aVYou also don't specify what your  is set to to recive the information
p30309
aVHas that been set correctly
p30310
aVFrom your comment:
p30311
aV01h invalid function in AH or invalid parameter
p30312
aVCheck to see if the INT13 extensions are available for your BIOS
p30313
aVAH = 41h, DL = 80h (first drive), BX = 55AAh, INT13, carry will be clear on return if extensions are there
p30314
as(dp30315
g16
V14860
p30316
stp30317
a((dp30318
g2
(lp30319
VYour first step should be to ensure you set up a test system with your exact production layout and current software (9
p30320
ag2836
ag2592
aV7)
p30321
aVRun it for a bit to make sure it's okay, then perform the upgrade on your test system and run it for as bit longer to ensure it hasn't broken anything
p30322
aVI'm not talking about the cowboy-developer "if it runs for five minutes, that's okay" type of test
p30323
aVIt should be a thorough test of all functionality and performance if possible
p30324
aVOnce you're happy with the level of testing, you can plan to do the same thing to production
p30325
aVThis isn't rocket science, you should always have a production mirror on which you can test upgrades of software, both your own and third-party stuff
p30326
aVAnd you should have backout strategies on the off-chance that the production upgrade fails anyway despite your testing
p30327
aVWe're pretty paranoid so we actually set up a whole new machine well in advance doing as much as possible
p30328
aVThen, at cutover time, we disable current production, perform whatever transfer is still required to the new machine, then bring that up and test it
p30329
aVIf at any point during testing something cannot be fixed in the upgrade window, the old machine is put back online and we try again later, with appropriate kicks in the rear end for those responsible for the failure :-)
p30330
as(dp30331
g16
V14860
p30332
stp30333
a((dp30334
g2
(lp30335
VOkay, there are 26 possibilities for a 1-character string, 262 for a 2-character string, and so on up to 2626 possibilities for a 26-character string
p30336
aVThat means there are 26 times as many possibilities for an (N)-character string than there are for an (N-1)-character string
p30337
aVYou can use that fact to select your length:
p30338
aVI use 27 in the above code since the total sample space for selecting strings from "ab" is the 26 1-character possibilities and the 262 2-character possibilities
p30339
aVIn other words, the ratio is 1:26 so 1-character has a probability of 1/27 (rather than 1/26 as I first answered)
p30340
aVThis solution isn't perfect since you're calling  multiple times and it would be better to call it once with an possible range of 26N+26N-1+261 and select the length based on where your returned number falls within there but it may be difficult to find a random number generator that'll work on numbers that large (10 characters gives you a possible range of 2610+
p30341
aV+261 which, unless I've done the math wrong, is 146,813,779,479,510)
p30342
aVIf you can limit the maximum size so that your  function will work in the range, something like this should be workable:
p30343
aVOnce you have the length, I would then use your current algorithm to choose the actual characters to populate the string
p30344
aVExplaining it further:
p30345
aVLet's say our alphabet only consists of "ab"
p30346
aVThe possible sets up to length 3 are  (2),  (4) and  (8)
p30347
aVSo there is a 8/14 chance of getting a length of 3, 4/14 of length 2 and 2/14 of length 1
p30348
aVThe 14 is the magic figure: it's the sum of all 2n for n = 1 to the maximum length
p30349
aVSo, testing that pseudo-code above with  and :
p30350
aVSo, from that code, the first iteration of the final loop will exit with  if  is greater than or equal to
p30351
aVIn other words, for the values 6 through 13 inclusive, 8 of the 14 possibilities
p30352
aVOtherwise,  becomes  and  becomes
p30353
aVThen the second iteration of the final loop will exit with  if  is greater than or equal to
p30354
aVIn other words, for the values 2 through 5 inclusive, 4 of the 14 possibilities
p30355
aVOtherwise,  becomes  and  becomes
p30356
aVThen the third iteration of the final loop will exit with  if  is greater than or equal to
p30357
aVIn other words, for the values 0 through 1 inclusive, 2 of the 14 possibilities (this iteration will always exit since the value must be greater than or equal to zero
p30358
aVIn retrospect, that second solution is a bit of a nightmare
p30359
aVIn my personal opinion, I'd go for the first solution for its simplicity and to avoid the possibility of rather large numbers
p30360
as(dp30361
g16
V14860
p30362
stp30363
a((dp30364
g2
(lp30365
VAn assembler, like any other "compiler", is best written as a lexical analyser feeding into a language grammar processor
p30366
aVAssembly language is usually easier than the regular compiled languages since you don't need to worry about constructs crossing line boundaries and the format is usually fixed
p30367
aVI wrote an assembler for a (fictional) CPU some two years ago for educational purposes and it basically treated each line as:
p30368
aVoptional label (e
p30369
ag1775
aV, )
p30370
aVoperation (e
p30371
ag1775
aV, )
p30372
aVoperands (e
p30373
ag1775
aV, )
p30374
aVThe easiest way to do it is to ensure that tokens are easily distinguishable
p30375
aVThat's why I made the rule that labels had to begin with  - it made the analysis of the line so much easier
p30376
aVThe process for handling a line was:
p30377
aVstrip off comments (first  outside a string to end of line)
p30378
aVextract label if present
p30379
aVfirst word is then the operation
p30380
aVrest are the operands
p30381
aVYou can easily insist that different operands have special markers as well, to make your life easier
p30382
aVAll this is assuming you have control over the input format
p30383
aVIf you're required to use Intel or AT&T; format, it's a little more difficult
p30384
aVThe way I approached it is that there was a simple per-operation function that got called (e
p30385
ag1775
aV, , , ) and that function decided on what was allowed in the operands
p30386
aVFor example,  only allows a numeric or label,  allows nothing
p30387
aVFor example, here's a code segment from the  function:
p30388
aVThe  functions simply took the operands and returned a byte array containing the instructions
p30389
aVThey're useful when many operations have similar operand requirements, such as adcaddand` all requiring two register operands in the above case (the second parameter controlled what opcode was returned for the instruction)
p30390
aVBy making the types of operands easily distinguishable, you can check what operands are provided, whether they are legal and which byte sequences to generate
p30391
aVThe separation of operations into their own functions provides for a nice logical structure
p30392
aVIn addition, most CPUs follow a reasonably logical translation from opcode to operation (to make the chip designers lives easier) so there will be very similar calculations on all opcodes that allow, for example, indexed addressing
p30393
aVIn order to properly create code in a CPU that allows variable-length instructions, you're best of doing it in two passes
p30394
aVIn the first pass, don't generate code, just generate the lengths of instructions
p30395
aVThis allows you to assign values to all labels as you encounter them
p30396
aVThe second pass will generate the code and can fill in references to those labels since their values are known
p30397
aVThe  in that code segment above was used for this purpose (byte sequences of code were returned so we could know the length but any references to symbols just used 0)
p30398
as(dp30399
g16
V14860
p30400
stp30401
a((dp30402
g2
(lp30403
VSQL is a relational algebra meant to operate on sets (not subsets) and, in my opinion, would not gain anything if modified to allow this
p30404
aVIf you want this capability, it's easy enough to make two round trips to the database, the first with  and display it quickly, the second without, to retrieve the entire set
p30405
aVThere's nothing stopping an implementation (such as DB2)  from returning the first  rows quickly while it still transmitting the rest down
p30406
as(dp30407
g16
V14860
p30408
stp30409
a((dp30410
g2
(lp30411
VI think you should be calling  with a node pointer, not a node
p30412
aVYou generally use pointers for this sort of operation
p30413
aVThis would result in something like:
p30414
aVand you would call it with:
p30415
aVYou may want to re-engineer your code at some point to make it more C++-like:
p30416
aVIn other words, traverse using the methods of the sub-nodes themselves rather than passing the pointers (which is really the "old-school" non-object-oriented way of doing things)
p30417
as(dp30418
g16
V14860
p30419
stp30420
a((dp30421
g2
(lp30422
VShort answer:
p30423
aVYou need:
p30424
aVLong answer:
p30425
aVThe problem with
p30426
aVis that  is the escape character
p30427
aVWhat it's doing in this particular case is escaping the  so that it's treated as a character of the string rather than the string terminator, similar to:
p30428
aVwhich would have the same problem
p30429
aVIn other words, you're trying to construct a string consisting of , some other text and the end of line (, the carriage return character)
p30430
aVThat's where your error is coming from:
p30431
as(dp30432
g16
V14860
p30433
stp30434
a((dp30435
g2
(lp30436
VThere is no standard way of doing this although gcc provides a  attribute for functions
p30437
aVThe usual way of ensuring some pre-setup has been done (other than a simple variable initialization to a compile time value) is to make sure that all functions requiring that pre-setup
p30438
aVIn other words, something like:
p30439
aVThis is best done in a separate library since it insulates you from the implementation
p30440
as(dp30441
g16
V14860
p30442
stp30443
a((dp30444
g2
(lp30445
VYes, it can indeed return zero
p30446
aVI've seen this in the situation of massive data transfers where the other end is not keeping up
p30447
aVIn that case, the remote TCP stack buffers had filled up, the stack had notified the local end that it was to delay until some space was cleared out and the local buffers had filled up as well
p30448
aVAt that point, it's not technically an error (hence no -1 returned) but no data could be accepted by the local stack
p30449
aVThis flow control is a basic feature of TCP
p30450
aVReceivers send back a window size with each acknowledgement indicating how much data they can accept
p30451
aVOnce this hits zero, the sender no longer transmits until told that it's okay
p30452
aVNote that this is the TCP stack doing this, al the application sees (eventually) is a zero return code from the send
p30453
aVOnce the window size has been zero for a while (by using a persist timer on the sender), then an error may be generated
p30454
aVSo it returns zero
p30455
aVGranted, it's an edge case but you always code for edge cases
p30456
as(dp30457
g16
V14860
p30458
stp30459
a((dp30460
g2
(lp30461
VPer-row functions are a bad idea in any database that you want to scale well
p30462
aVThat's because they have to perform the calculation on every row you retrieve every time you do a
p30463
aVThe intelligent DBA's way of doing this is to create a whole new column containing the computed sort key, and use an insert/update trigger to ensure it's set correctly
p30464
aVThe means the calculation is performed only when needed and amortises its cost across all selects
p30465
aVThis is one of the few cases where it's okay to revert from third normal form since the use of the triggers prevents data inconsistency
p30466
aVHardly anyone complains about the disk space taken up by their databases, the vast majority of questions concern speed
p30467
aVAnd, by using this method and indexing the new column, your queries will absolutely scream along
p30468
aVSo basically, you create another column called  mapped as follows:
p30469
aVensuring that the mapping function used in the trigger allows for the maximum value allowed
p30470
aVThen you use a query like:
p30471
as(dp30472
g16
V14860
p30473
stp30474
a((dp30475
g2
(lp30476
VReally just a guess on my part but I suspect they'll be named pipes, created with
p30477
aVThat seems to me the best way to achieve the desired goal
p30478
aVYou can see this in operation here
p30479
aVFrom a terminal session:
p30480
aVThen, from another terminal:
p30481
as(dp30482
g16
V14860
p30483
stp30484
a((dp30485
g2
(lp30486
VYou can normally get the output of the preprocessor with  (assuming you're using  of course, though other compiler tend to have the same feature)
p30487
aVOf course, processing that file to automatically expand the 's into other text is not a trivial task
p30488
aVI'd probably write a shell script (or Perl since it's a lot better at massaging text in my opinion) to automate the task
p30489
aVIn Visual Studio, you can use  to perform the same operation
p30490
aVThis can be set in the IDE according to this page
p30491
as(dp30492
g16
V14860
p30493
stp30494
a((dp30495
g2
(lp30496
VMost implementations of C memory allocation functions will store accounting information for each block, either inline or separately
p30497
aVOne typical way (inline) is to actually allocate both a header and the memory you asked for, padded out to some minimum size
p30498
aVSo for example, if you asked for 20 bytes, the system may allocate a 48-byte block:
p30499
aV16-byte header containing size, special marker, checksum, pointers to next/previous block and so on
p30500
aV32 bytes data area (your 20 bytes padded out to a multiple of 16)
p30501
aVThe address then given to you is the address of the data area
p30502
aVThen, when you free the block,  will simply take the address you give it and, assuming you haven't stuffed up that address or the memory around it, check the accounting information immediately before it
p30503
aVKeep in mind the size of the header and the padding are totally implementation defined (actually, the entire thing is implementation-defineda but the inline-accounting-info option is a common one)
p30504
aVThe checksums and special markers that exist in the accounting information are often the cause of errors like "Memory arena corrupted" if you overwrite them
p30505
aVThe padding (to make allocation more efficient) is why you can sometimes write a little bit beyond the end of your requested space without causing problems (still, don't do that, it's undefined behaviour and, just because it works sometimes, doesn't mean it's okay to do it)
p30506
aVa I've written implementations of  in embedded systems where you got 128 bytes no matter what you asked for (that was the size of the largest structure in the system) and a simple non-inline bit-mask was used to decide whether a 128-byte chunk was allocated or not
p30507
aVOthers I've developed had different pools for 16-byte chunks, 64-bytes chunks, 256-byte chunks and 1K chunks, again using a bitmask to reduce the overhead of the accounting information and to increase the speed of  and  (no need to coalesce adjacent free blocks), particularly important in the environment we were working in
p30508
as(dp30509
g16
V14860
p30510
stp30511
a((dp30512
g2
(lp30513
VSeriously, if you have CygWin installed, you should be doing everything from , not
p30514
aVIt has much more capability when it comes to processing and escaping command line arguments
p30515
aVHaving said that, you may try to use the  escape character
p30516
aVThat's the standard one for  and it may allow you to at least get rid of the problem with :
p30517
aVI haven't tried this since I don't have Perl installed on my local Windows VM
p30518
aVI do have CygWin on the laptop but, as I said, I tend to use  there instead of
p30519
aVSo all care and no responsibility on this answer :-)
p30520
as(dp30521
g16
V14860
p30522
stp30523
a((dp30524
g2
(lp30525
VYou need delayed expansion:
p30526
aVThe reason it doesn't appear to be working is because  is evaluated at the time the entire command is parsed
p30527
aVThe command is the entire four lines of the  statement
p30528
aVBy using delayed expansion, you defer the evaluation of  to when the actual  is executed, when it's been set correctly
p30529
as(dp30530
g16
V14860
p30531
stp30532
a((dp30533
g2
(lp30534
VThis approach is fine
p30535
aVThe O(n) requirement simply means that the running time is proportional to the number of items which in this case means the number of characters in the string (assuming you mean time complexity which is a fairly safe bet here)
p30536
aVThe pseudocode:
p30537
aVis basically what you're trying to do
p30538
aVBecause it has a single loop dependent only on the number of characters, it is indeed O(n) time complexity
p30539
aVThe following C program shows this in action:
p30540
ag5385
aVRunning this gives you:
p30541
aVNote that, if there are no spaces in the string, it simply copies every character over itself
p30542
aVYou might think that you could optimise it by checking if  and not copying but you'll probably find the check is as expensive as the copy
p30543
aVAnd, unless you're frequently copying multi-megabyte strings, performance won't be an issue here
p30544
aVAlso keep in mind this will be undefined behaviour with  strings but that would be the case in any in-place modification
p30545
as(dp30546
g16
V14860
p30547
stp30548
a((dp30549
g2
(lp30550
VWell, for pseudo-random sequences, the only possibility is to keep count how many of each possibility has come before
p30551
aVIf the 1s outweigh the 0s, it's more likely that the next one will be 0
p30552
aVHow much more likely depends on the relative occurrences of each
p30553
aVNote that this won't work for true randomness since the events are independent, despite what the statisticians tell you :-)
p30554
aVYou'll find that out (painfully) the first time you get a run of 13 reds on the table when you're using the double-on-loss method of playing roulette
p30555
aVIn any case, the house derives its advantage from 0 (and double-0 on some tables) which are neither red nor black
p30556
as(dp30557
g16
V14860
p30558
stp30559
a((dp30560
g2
(lp30561
VBecause you're pushing  onto the stack
p30562
aVIn other words, you're pushing the 10 and 7 integers onto there and one of them is being used for the , the other for the
p30563
aVThe actual pointer isn't being used at all
p30564
aVChange the line to:
p30565
aVand you'll get something like:
p30566
aVwhich has the correct address:
p30567
aVHere's a picture to help out:
p30568
aVI've seen similar problems when people pass a  to  with the  integer format specifier
p30569
aVThe  only uses the first part of the  and the second part screws around with all the other arguments
p30570
aVSee here for details
p30571
aVThat's why gcc has those nice little warming messages that pop up when you mismatch types with specifiers in the  family of functions:
p30572
as(dp30573
g16
V14860
p30574
stp30575
a((dp30576
g2
(lp30577
VBinding is probably the word I'd put in there
p30578
aVIt applies as much to computers as it does to the loom :-)
p30579
as(dp30580
g16
V14860
p30581
stp30582
a((dp30583
g2
(lp30584
VIf it's linear, you can use the following formula to allow for any minimum and maximum:
p30585
aVThe  bit scales the range from the  range to the  range
p30586
aVSubtracting  before and adding  after locates the correct point within the  range
p30587
aVExamples, first the original:
p30588
aVThen the one using -1
p30589
aV3 as the lower bound as mentioned in one of your comments:
p30590
aVThis answer (and all the others to date of course) assume that it is a linear function
p30591
aVThat's by no means clear based on your use of words like "arc" and "knob" in the question
p30592
aVYou may need some trigonometry (sines, cosines and such) if it turns out linear doesn't suffice
p30593
as(dp30594
g16
V14860
p30595
stp30596
a((dp30597
g2
(lp30598
VIf you just want to store the data as a binary dump of the Java array then, by all means, use a BLOB
p30599
aVYour friend may well be advising against this since you may want some non-Java program to use the information at some later date so binary dumps are probably a pain to interpret
p30600
aVWith serialization to a VARCHAR, you know the data format and can easily read it with any application
p30601
aVOf course, if there's even the slightest chance that you'll want to manipulate or report on the individual floats, they should be stored in a database-friendly format
p30602
aVIn other words, not a binary dump, not serialized, not a CSV column
p30603
aVStore them as Codd intended, in third normal form
p30604
aVBy the way, a few hundred 300-element floating point arrays each day is not a big database
p30605
aVTake it from someone who works on the mainframe with DB2, most DBMS' will easily handle that sort of volume
p30606
aVWe collect tens of millions of rows every day into our application and it doesn't even break into a sweat
p30607
as(dp30608
g16
V14860
p30609
stp30610
a((dp30611
g2
(lp30612
VSimilar to the behaviour in some implentations of C where an  just wraps around from INT_MAX to INT_MIN ( though it's actually undefined behaviour according to the ISO standard), C# also wraps
p30613
aVTesting it in VS2008 with:
p30614
aVwill result in the message box appering
p30615
aVIf your  is greater than the maximum  value, then your loop will run forever because of this
p30616
aVFor example, if it's , just as you think you're getting close to it, the  wraps around from  back to  and the loop just keeps on going
p30617
as(dp30618
g16
V14860
p30619
stp30620
a((dp30621
g2
(lp30622
VWhy don't you just refactor  (I'm assuming this is a big chunk of instructions rather than a single line) into its own function  and call it
p30623
aVSomething like:
p30624
aVThat gcc trick is truly hideous
p30625
aVI would rather have readable code over such monstrosities any day
p30626
aVYou should always assume that the programmer that inherits your code is a homicidal maniac who knows where you live :-)
p30627
as(dp30628
g16
V14860
p30629
stp30630
a((dp30631
g2
(lp30632
VWell, you just have to have a way for the program to receive the events, such as:
p30633
aVkeyboard input
p30634
aVconnection coming over the net (sockets and such)
p30635
aVother IPC mechanisms (shared memory, semaphores, signals)
p30636
aVThere are a number of ways this can be done
p30637
aVThen you run it in the foreground (if you want the user to be able to stop it easily) or as a background process under the various operating systems (UNIX daemon or Windows service, or a background task using UNIX  or Windows )
p30638
as(dp30639
g16
V14860
p30640
stp30641
a((dp30642
g2
(lp30643
VIf this is a homework question, you should mark it as such so we can target the assistance better (more nudges in the right direction rather than outright solutions)
p30644
aVIf it's not homework, you should consider using the IComparable interface with Array
p30645
aVsort()
p30646
aVFor integers, which do provide the IComparable interface, you should be able to just use something like:
p30647
aVwhich results in:
p30648
aVand I'm pretty certain it uses QuickSort under the covers
p30649
aVRe-inventing the wheel is a bad idea, fine for educational purposes but, if the intent is (as you indicate) to just be able to sort an array, use the language-provided features and save yourself the effort
p30650
as(dp30651
g16
V14860
p30652
stp30653
a((dp30654
g2
(lp30655
VI wouldn't
p30656
aVThat  is probably there for a good reason
p30657
aVIt obviously doesn't want to execute anything after that if the  variable is empty
p30658
aVI would just move the inserted line up above the  statement
p30659
aVIn addition, if that's actually in the system-wide  file, you should be using something like:
p30660
aVrather than:
p30661
aVI'm sure Bob and Alice don't want to run your startup script
p30662
aVIf it's actually your  file (in ), you can ignore that last snippet above
p30663
as(dp30664
g16
V14860
p30665
stp30666
a((dp30667
g2
(lp30668
VCreate a sorted data structure to hold  elements and set the initial count to 0
p30669
aVProcess each element in the source array, adding it to that new structure until the new structure is full
p30670
aVThen process the rest of the source array
p30671
aVFor each one that is larger than the smallest in the sorted data structure, remove the smallest from that structure and put the new one in
p30672
aVOnce you've processed all elements in the source array, your structure will hold the  greatest elements
p30673
aVJust grab the last of these and you have your 'th greatest element
p30674
aVVoila
p30675
aVAlternatively, sort it then just grab the 'th element directly
p30676
as(dp30677
g16
V14860
p30678
stp30679
a((dp30680
g2
(lp30681
VYou might want to consider externalising all your string literals to a separate file anyway and using a  function (or similar) to get them at runtime
p30682
aVThis will allow you to have a single file (with a BOM) containing all your string literals and will make your life a lot easier if you ever have to internationalise your application
p30683
aVWe do that with our stuff but keep in mind our class 1 programs have to be i18n'ed for 21 different locales so we save a lot of work by doing it this way :-) Your mileage may vary
p30684
as(dp30685
g16
V14860
p30686
stp30687
a((dp30688
g2
(lp30689
VSee here for the description of your problem or what I think it is since it's a little hard to tell from the question
p30690
aVIt's a good idea when posting questions with "I'm having problems with the syntax" to actually show what the syntax problem is :-)
p30691
aVSee here for the solution (but it may not work, see below)
p30692
aVBasically, the  statement in NASM is meant to set the base address for the section and cannot be used to arbitrarily insert bytes into the stream
p30693
aVIt suggests you use something like:
p30694
aVHowever, have you thought about what you're trying to do
p30695
aVIf you're creating a flat binary file to load into memory, I don't think you want both the boot sector and kernel in a single file anyway
p30696
aVThe BIOS will want to load your boot sector as a single chunk at 7c00:0 and will almost certainly be confused when it has the kernel at the start of that chunk
p30697
aVI think what you will need to do is to create two totally separate flat binary files, one for the boot sector and another for the kernel
p30698
aVBIOS will load your boot sector, then your boot sector will load your kernel
p30699
aVThen you can put the relevant  statement in the two source files and your problem should hopefully be solved
p30700
as(dp30701
g16
V14860
p30702
stp30703
a((dp30704
g2
(lp30705
VCrucial, no, you can get away without it but, as you've found out, everything that you have to do manually will slow down your cycle time
p30706
aVYou should be aiming to automate as much as possible, build, deployment, regression testing and so forth, so that you're not unnecessarily delayed
p30707
aVThe idea of a sprint without a release is an
p30708
aVinteresting
p30709
aVone
p30710
aVI can't say I've ever seen that tried before :-)
p30711
as(dp30712
g16
V14860
p30713
stp30714
a((dp30715
g2
(lp30716
VThe  method is one belonging to (at a minimum) the   or  classes, you cannot execute it on a primitive  type
p30717
aVTry:
p30718
aVSee here for the gory details
p30719
aVNote particularly the shortcomings with respect to full Unicode support
p30720
aVYou may be better of using strings instead although you should be okay with that sample code since you only allow , , ,  and
p30721
aVWhat happened to  by the way
p30722
aVAnd, as Ben rightly mentioned in his answer, you should switch on the variable holding the uppercased character rather than the original
p30723
aVIn my line above, that's still  since I see little reason for keeping the original
p30724
as(dp30725
g16
V14860
p30726
stp30727
a((dp30728
g2
(lp30729
VThat's an interesting one
p30730
aVSubstituting  for  works as does removing the quotes from the assignment
p30731
aVIf you put a  at the top of that script, you'll see that the version with quotes sets filename to  which is what's given to
p30732
aVIf you remove the quotes, filename is set to the expanded
p30733
aVSo in the first case, you see:
p30734
aVand it doesn't like it
p30735
aVIn the second case, you see:
p30736
aVand it does work
p30737
aVIf you do it without the variable, you see:
p30738
aVand, yes, it works
p30739
aVAfter a bit of investigation, I've found that it's actually the order in which  performs its expansions
p30740
aVFrom the bash man page:
p30741
aVThe order of expansions is: brace expansion, tilde expansion, parameter, variable and arithmetic expansion and command  substitution (done in a left-to-right fashion), word splitting, and pathname expansion
p30742
aVThat's why it's not working, the variable is substituted after the tilde expansion
p30743
aVIn other words, at the point where  wants to expand , there isn't one
p30744
aVIt's only after variable expansion does the word get changed into  and there will be no tilde expansion after that
p30745
aVOne thing you could do is to change your  statement to:
p30746
aVThis will evaluate the $filename argument twice
p30747
aVThe first time (with ), there will be no  during the tilde expansion phase but  will be changed to  during the variable expansion phase
p30748
aVThen, on the second evaluation (the one being done as part of the  itself), the  will be there during the tilde expansion phase
p30749
aVI've tested that on my  file and it seems to work, I suggest you confirm in your particular case
p30750
as(dp30751
g16
V14860
p30752
stp30753
a((dp30754
g2
(lp30755
VIf you're getting that error then you're doing something wrong and you'll need to post the code so we can figure out what it is
p30756
aVFor what it's worth, you can free a  as evidenced in the following code, which compiles and executes perfectly:
p30757
as(dp30758
g16
V14860
p30759
stp30760
a((dp30761
g2
(lp30762
VNo, the sqlite iteration code is specifically one-way
p30763
aVI'm not aware of even a hack method of achieving what you want, other than caching it all yourself of course :-)
p30764
aVThe method of a reverse direction query may work a little bit but you can no more make the reverse query go "forward" (its backwards) than you can make the normal query go backwards
p30765
aVOnce your forward query had gotten to row 50 and your reverse query had gotten to row 20, rows 21 through 49 would be inaccessible to both of them
p30766
aVSo you can't really use it as a general purpose browsing method
p30767
aVAssuming you're trying to achieve a paging mechanism such as displaying records fifty at a time and allowing the user to scroll forwards and backwards through the rows, you may just have to resort to the time-honored approach of running many queries, one at a time, retrieving only fifty rows in each
p30768
aVSomething like:
p30769
aVand so forth
p30770
aVYou can use the offset and limit to restrict your window onto the table
p30771
as(dp30772
g16
V14860
p30773
stp30774
a((dp30775
g2
(lp30776
VEven on a single core, you cannot assume that an operation will be atomic
p30777
aVThat may be the case where you're coding in assembler but, if you are coding in C++ as per your question, you do not know what it will compile down to
p30778
aVYou should rely on the synchronisation primitives at the level of abstraction that you're coding to
p30779
aVIn your case, that's the threading calls for C++
p30780
aVwhether they be pthreads, Windows threads or something else entirely
p30781
aVIt's the same reasoning that I gave in another answer to do with whether i++ was thread-safe
p30782
aVThe bottom line is, you don't know since you're not coding to that level (if you're doing inline assembler and/or you understand and can control what's going on under the covers, you're no longer coding at the C++ level and you can ignore my advice)
p30783
aVThe operating system and/or OS-type libraries know a great deal about the environment they're running in, far more so than the C++ compiler would
p30784
aVUse of proper syncronisation primitives will save you a great deal of angst
p30785
as(dp30786
g16
V14860
p30787
stp30788
a((dp30789
g2
(lp30790
VOthers have already mentioned indexOf where you can do:
p30791
aVbut I'd like to also mention a more powerful option (if needed) - you can use the regex string search method:
p30792
aVTyping either of these into a file () and loading it in your browser, you'll see the number 7 appear which is the first position of the string found
p30793
aVThis value is zero-based (0 is the first position) and you'll get back -1 if it cannot be found
p30794
aVThe regex version will allow more complex search patterns, not necessary for this specific case, but you should keep it in mind for when a simple constant string may not suffice
p30795
as(dp30796
g16
V14860
p30797
stp30798
a((dp30799
g2
(lp30800
VNo, you can't set them to arbitrary values in one statement (unless done as part of the declaration)
p30801
aVYou can either do it with code, something like:
p30802
aVor (if there's a formula):
p30803
aVThe other possibility is to keep around some templates that are set at declaration time and use them to initialise your array, something like:
p30804
aVThis has the advantage of (most likely) being faster and allows you to create smaller arrays than the templates
p30805
aVI've used this method in situations where I have to re-initialise an array fast but to a specific state (if the state were all zeros, I would just use )
p30806
aVYou can even localise it to an initialisation function:
p30807
aVThe static array will (almost certainly) be created at compile time so there will be no run-time cost for that, and the  should be blindingly fast, certainly faster than 1,229 assignment statements :-)
p30808
as(dp30809
g16
V14860
p30810
stp30811
a((dp30812
g2
(lp30813
VThis is personal preference only since the question is a subjective one, but I tend to follow these guidelines
p30814
aVLimit code to 79 characters where possible (this is just so it prints out nicely at a high enough font size for my aging eyes to read it)
p30815
aVUsually I'll break them initially somewhere in the 60-range so that the inevitable editing of lines to fix problems doesn't mean I have to reformat a lot :-)
p30816
aVBreak the line as high up in the hierarchy as possible
p30817
aVBy that I mean  would be broken at the first  in preference to anywhere else
p30818
aVThat's because the highest level "elements" of the statement are ,  and
p30819
aVUse indentation intelligently to ensure that the following lines are seen as part of the first line
p30820
aVFor example, if the first line of a three line statement starts with 3 tabs, the following two lines have 4 tabs
p30821
aVSomething like:
p30822
aVor:
p30823
aVThat last one is usually the only time I put an opening brace on a separate line
p30824
aVUsually I would have:
p30825
aVbut splitting it makes it look like the second line of the  is part of the block:
p30826
aVwhich I don't like
p30827
aVAs for strings, where they are longer than my preferred width, I tend to break them up
p30828
aVC and its brethren make this easy since the compiler treats  exactly the same as
p30829
aVEven if there is a runtime impact (like concatenating strings), I'll break them up but I'll still try to minimise such impacts
p30830
as(dp30831
g16
V14860
p30832
stp30833
a((dp30834
g2
(lp30835
VThe word  is actually an SQL keyword
p30836
aVYou would have the same problem if you tried to use a table called  or
p30837
aVYou can fix it is MySQL by using quotes around it, along the lines of:
p30838
aVHowever, unless your table will only ever hold a single order (in which case it won't do so for long since the underlying business will soon be bankrupt), you should probably call your table
p30839
aVThat solves both your problems, the one you found and the one you didn't :-)
p30840
as(dp30841
g16
V14860
p30842
stp30843
a((dp30844
g2
(lp30845
VI can find no mention of the  command in the Solaris documents (either the user or system administration ones)
p30846
aVIf you mean the  command, that should be available, or you probably want to look at
p30847
aVIt's possible your command may be a local one in which case you'll need to tell us what it's supposed to do so we can tell you the alternatives
p30848
aVIn terms of figuring it out, you should post:
p30849
aVthe first bit of output from
p30850
aVthe output of
p30851
aVthe first 20-odd lines from that file (assuming it's a script rather than binary file)
p30852
aVFollowing your question update, it looks like you have some code that depends on the  command return value
p30853
aVThat will return true on a Sun and false everywhere else
p30854
aVSo the easiest solution is to probably just create a  script that returns false:
p30855
aVHowever, it's probably not going to be that simple
p30856
aVObviously there are some platform-specific things going on there that you will have to add code in for Linux
p30857
aVThat doesn't directly affect the  command but all the stuff that happens when  returns 0 will have to be done for Linux as well
p30858
aVIf you do a  on Linux, you should get back "Linux" somewhere in the string (from memory)
p30859
aVThat should be enough to identify the operating system which is probably all you need
p30860
aVThe detection of machine and/or processor is probably not that relevant for software unless you're shipping binary executables for all platforms and selecting which ones to run dynamically
p30861
as(dp30862
g16
V14860
p30863
stp30864
a((dp30865
g2
(lp30866
VYour problem is that you're feeding the bits of the second number in backwards
p30867
aVThat's because  is the low order bit:
p30868
aVCringe at my awesome artistic abilities :-) However, if you already know that it's 3 bits wide, just use:
p30869
aVIn terms of how that looks graphically:
p30870
aVThere's no apparent reason for doing it one bit at a time
p30871
as(dp30872
g16
V14860
p30873
stp30874
a((dp30875
g2
(lp30876
VThe first thing I'd be checking is the value of
p30877
aVIt only returns the millisecond part of the current time and the doco states:
p30878
aVNote that the accuracy depends on the accuracy of the underlying operating system; not all systems provide 1-millisecond accuracy
p30879
aVIt may be that your platform always returns the same value for
p30880
aVIf that's the case, you could try using minutes and seconds combined somehow (assuming you're not running your code multiple times every second)
p30881
aVYou haven't stated which platform you're running on but the Qt source code only supports sub-second resolution if either  or  is set
p30882
aVKeep in mind that the random numbers are per-thread so you should probably do the  in each thread, lest it be automatically seeded with 1
p30883
as(dp30884
g16
V14860
p30885
stp30886
a((dp30887
g2
(lp30888
VThe  command will return 0 if the requested lines are found (1 if not, 2 if an error), so you can just use:
p30889
aVIf you really wanted to use strings (and you probably shouldn't), you should quote them so that you don't get too many arguments for the  command:
p30890
as(dp30891
g16
V14860
p30892
stp30893
a((dp30894
g2
(lp30895
VDon't remove them until you understand the impact
p30896
aVIf, as others are pointing out, they have no effect on the query and are probably optimised out, there's no harm in leaving them there but there may be harm in removing them
p30897
aVDon't try to fix something that's working until your damn sure you're not breaking something else
p30898
aVThe reason I mention this is because we inherited a legacy reporting application that had exactly this construct, along the lines of:
p30899
aVAnd, being a sensible fellow, I ditched it, only to discover that the database engine wasn't the only thing using the query
p30900
aVIt first went through a pre-processor which extracted every column that existed in a  clause and ensured they were indexed
p30901
aVBasically an auto-tuning database
p30902
aVWell, imagine our surprise on the next iteration when the database slowed to a fraction of its former speed when users were doing ad-hoc queries on the  field :-)
p30903
aVTurns out this was a kludge put in by the previous support team to ensure common ad-hoc queries were using indexed columns as well, even though none of our standard queries did so
p30904
aVSo, I'm not saying you can't do it, just suggesting that it might be a good idea to understand why it was put in first
p30905
as(dp30906
g16
V14860
p30907
stp30908
a((dp30909
g2
(lp30910
VThe top Google page for  is the plan with each of the major components linked from there
p30911
aVNow normally I'd cut and paste the lot in here for some cheap rep but there's too much to cover and I'm feeling lazy :-)
p30912
aVSo go check out the link and enjoy
p30913
aVJDT specifics are:
p30914
aVCore;
p30915
aVDebug; and
p30916
aVUI
p30917
as(dp30918
g16
V14860
p30919
stp30920
a((dp30921
g2
(lp30922
VAn O(n log n) solution (i
p30923
ag75
aV, the sort) would be to sort all the data values then run a pointer from lowest to highest at the same time you run a pointer from highest to lowest:
p30924
aVAn O(n) time complexity solution is to maintain an array of all values met:
p30925
aVThis works by simply maintaining a sign for a given magnitude, every possible magnitude between 0 and the maximum value
p30926
aVSo, if at any point we find -12, we set b[12] to -1
p30927
aVThen later, if we find 12, we know we have a pair
p30928
aVSame for finding the positive first except we set the sign to 1
p30929
aVIf we find two -12's in a row, that still sets b[12] to -1, waiting for a 12 to offset it
p30930
aVThe only special cases in this code are:
p30931
aV0 is treated specially since we need to detect it despite its somewhat strange properties in this algorithm (I treat it specially so as to not complicate the positive and negative cases)
p30932
aVlow negative values whose magnitude is higher than the highest positive value can be safely ignored since no match is possible
p30933
aVAs with most tricky "minimise-time-complexity" algorithms, this one has a trade-off in that it may have a higher space complexity (such as when there's only one element in the array that happens to be positive two billion)
p30934
aVIn that case, you would probably revert to the sorting O(n log n) solution but, if you know the limits up front (say if you're restricting the integers to the range ), this can be a powerful optimisation
p30935
aVIn retrospect, perhaps a cleaner-looking solution may have been:
p30936
aVThis makes one full pass and a partial pass (or full on no match) whereas the original made the partial pass only but I think it's easier to read and only needs one bit per number (positive found or not found) rather than two (none, positive or negative found)
p30937
aVIn any case, it's still very much O(n) time complexity
p30938
as(dp30939
g16
V14860
p30940
stp30941
a((dp30942
g2
(lp30943
VThey're generally private header files, used so that components of a subsystems know about everything but users don't need to
p30944
aVIn other words, something that multiple C source files in Qt might want to know about would be in the private header files if the users of Qt didn't need to know about them
p30945
aVOne example might be a customised memory allocator for your subsystem
p30946
aVPerhaps you know that every memory allocation you make is 128 bytes then you can provide such an allocator:
p30947
aVSince this is likely to be of dubious value to users of your subsystem, there's no point publishing it as part of the official API but every single one of your own source files needs the prototype so you'd put it in the private header file
p30948
aVThen your own code uses:
p30949
aVwhile users of your API use:
p30950
as(dp30951
g16
V14860
p30952
stp30953
a((dp30954
g2
(lp30955
VWhen I've had to do that stuff in the past, I've simply added an extra pre-compilation step to the build process which automagically creates one file from another
p30956
aVSince your constants will probably be within a class in C#, you can use that as the source file:
p30957
aVThis will give you:
p30958
aVNow, getting Visual Studio to perform that step is not something I know how to do
p30959
aVYou'll have to investigate whether or not it's even possible
p30960
aVThe UNIXy text processing tools are really worth downloading
p30961
aVI have CygWin installed on a few boxes but, for something this localised, you could get away with individual GnuWin32 packages
p30962
aVYou could probably do a similar job in PowerShell but I'm not really well versed in that
p30963
aVNow that's a bit of a kludge so may I suggest a possibly better way for you particular question
p30964
aVDon't use a constant at all
p30965
aVPut the address into a configuration file and have your C# and C++ code read it at startup
p30966
aVThat way, you get to share the value painlessly and it's configurable in case you ever want to change it in future
p30967
as(dp30968
g16
V14860
p30969
stp30970
a((dp30971
g2
(lp30972
VWhy don't you just add a:
p30973
aVto the  definition
p30974
aVI'm not sure where the default size comes from but I've set specific sizes on my windows to get around this
p30975
aVThen I dynamically resize in the application startup code
p30976
aVI'm hoping that WPF will have a -like feature where it recursively sets controls based on the preferred sizes of the sub-controls (Swing and wxPython both had this feature) so you may want to go looking for that
p30977
aVActually, a bit of searching has turned up the  property which may be what you're looking for
p30978
aVIts default is  but, if you set it to one of the other values (,  or ), you may see a better presentation
p30979
aVIn fact, I just nicked over to the Windows laptop and entered:
p30980
aVinto the Window definition and it looks perfectly sized
p30981
aVSo, I'd suggest giving that a try and seeing if it fixes (or at least works around) your problem
p30982
as(dp30983
g16
V14860
p30984
stp30985
a((dp30986
g2
(lp30987
VIf you're looking to implement a simple procedural update of employees, you haven't specified a language (which is good since I only provide pseudo-code for homework anyway), but here it is:
p30988
aVNow your task is to translate that into whatever language you have to implement this in :-)
p30989
aVIf you're wanting to solve all the unknowns in an equation, you have a problem (conflicting requirements)
p30990
aVIt appears you may be after the value of N which will make the largest wage $50K
p30991
aVYou just need to go through every employee and figure the maximum percentage out:
p30992
aVIt's possible to come up with a value of  that's less than 1 if, for example, a category C employee is already on $50K
p30993
aVYou need to decide what you want to do in that case, either:
p30994
aVgive no-one a payrise (violates the >=1% rule)
p30995
aVgive everyone 1% (violates the $50K cap rule)
p30996
aVgive everyone 1% but cap at $50K (violates the 1,2,3 multiplier rule)
p30997
aVOnce you have the percent increase from that code (with your decision on what to do for the conflicting requirements), you can pass it into the first piece of code above to actually do and print the update
p30998
as(dp30999
g16
V14860
p31000
stp31001
a((dp31002
g2
(lp31003
VI'll tell you one thing that's immediately wrong with your code, not your specific problem but a hairy one nonetheless
p31004
aVI'm presuming that your  function is calling this one
p31005
aVIn that case, you appear to be under the misapprehension that:
p31006
aVwill return to your menu
p31007
aVIt will not do that
p31008
aVWhat it will do is to call your main menu code afresh and eventually you will run out of stack space
p31009
aVI suspect that what you should be doing is having a loop in  and that code above should just use  rather than calling  recursively
p31010
aVThat and the fact that I think you should be comparing  against  rather than
p31011
aVAnother thing I would do would be to put some temporary debug code in:
p31012
aVand see what gets printed
p31013
aVOf course, you could trace the execution in a debugger but that would require you to do the work yourself
p31014
aVIf you just post the output (first 100 lines if it's huge), then we can probably tell you what's wrong easily
p31015
aVActually, I think your problem is the
p31016
aVWhen I run your code, nothing works, neither  nor
p31017
aVThat's because it's ignoring the first 1080 characters I'm trying to input
p31018
aVProof can be seen when you change those statements to:
p31019
aVand you get  output when you enter
p31020
aVTake out the  line and try again
p31021
aVI'm not certain of this since you seem to indicate that  works but I can't see this as being correct
p31022
aVSo here's what you need to do (at a bare minimum):
p31023
aVget rid of the  altogether
p31024
aVuse  rather than
p31025
aVuse  instead of
p31026
aVlet us know how it goes then
p31027
as(dp31028
g16
V14860
p31029
stp31030
a((dp31031
g2
(lp31032
VWell, you have to use the heap if you want to use objects
p31033
aVObjects are inherently pointers on the stack (or inside other objects) to memory chunks in the heap
p31034
aVUnlike C++ where you can put objects on the stack or heap, Java does things differently
p31035
aVEven in C++, it's a good idea to use the heap for objects that must outlive the function they were created in
p31036
aVYou probably can avoid it but you may find yourself with a performance problem with all the copy constructors
p31037
aVAs to your edit:
p31038
aVIs there any other kind of memory which we can think of alternative to Heap and Stack
p31039
aVSure there is: Static data members, the ones where there's only one per class rather than one per instantiated object must go somewhere
p31040
aVThese can't be on the stack since they may disappear when you exit from a function
p31041
aVAnd they can't belong to an particular object
p31042
aVThese (at least in the Sun/Oracle JVM) go into the Method area
p31043
aVIn addition, you should not think of there being one stack
p31044
aVEvery thread gets its own stack on creation
p31045
aVThere's also the runtime constant pool and stacks for native (non-Java) calls
p31046
aVThere's lots of information on the JVM internals here regarding that aspect but keep in mind there may be a distinction between the logical machine and the implementation
p31047
as(dp31048
g16
V14860
p31049
stp31050
a((dp31051
g2
(lp31052
VGenerally the allocation of memory to a process happens at a lower level than heap management
p31053
aVIn other words, the heap is built within the process virtual address space given to the process by the operating system and is private to that process
p31054
aVWhen the process exits, this memory is reclaimed by the operating system
p31055
aVNote that C++ does not mandate this, this is part of the execution environment in which C++ runs, so the ISO standards do not dictate this behaviour
p31056
aVWhat I'm discussing is common implementation
p31057
aVIn UNIX, the  and  system calls were used to allocate more memory from the operating system to expand the heap
p31058
aVThen, once the process finished, all this memory was given back to the OS
p31059
aVThe normal way to get memory which can outlive a process is with shared memory (under UNIX-type operating systems, not sure about Windows)
p31060
aVThis can result in a leak but more of system resources rather than process resources
p31061
as(dp31062
g16
V14860
p31063
stp31064
a((dp31065
g2
(lp31066
VThe  keyword is a suggestion to the compiler, nothing more
p31067
aVIt's free to take that suggestion on board, totally ignore it or even lie to you and tell that it's doing it while it's really not
p31068
aVThe only way to force code to be inline is to, well, write it inline
p31069
aVBut, even, then the compiler may decide it knows better and decide to shift it out to another function
p31070
aVIt has a lot of leeway in generating executable code for your particular source, provided it doesn't change the semantics of it
p31071
aVModern compilers are more than capable of generating better code than most developers would hand-craft in assembly
p31072
aVI think the  keyword should go the same path as the  keyword
p31073
aVIf you've seen the output of gcc at its insane optimisation level, you'll understand why
p31074
aVIt has produced code that I wouldn't have dreamed possible, and that took me a long time to understand
p31075
aVAs an aside, check this out for what optimisations that gcc actually has, including a great many containing the text "inline" or "inlining"
p31076
as(dp31077
g16
V14860
p31078
stp31079
a((dp31080
g2
(lp31081
VNot safe at all
p31082
aVYes, it will really compromise the computer
p31083
aVPeople who assume that attacks or malicious behaviour can only come from outside "the corporate firewall" will eventually be very disappointed :-)
p31084
aVI would never delegate the responsibility for securing my systems or applications to a party outside of my control
p31085
aVThat's just asking for trouble
p31086
aVI see this in the same area as people asking why they need constraints in their databases if their applications will always follow the rules, not realising that all it takes is some rogue with a JDBC driver and JRE, or even a buggy release of your application, to bring down the whole house of cards
p31087
aVI would have thought that, in a corporate environment, all users would be centrally maintained anyway (e
p31088
ag1775
aV, AD) so that the issue with authentication would be minimal
p31089
as(dp31090
g16
V14860
p31091
stp31092
a((dp31093
g2
(lp31094
VHow big is an  on your system
p31095
aVThe only thing I can think of that may cause this is if the 16 bit bitfield forms only part of the  variable (if, for example, an  is 32 bits wide)
p31096
aVIn other words, maybe the compiler is turning that into:
p31097
aVwhich would cause that problem if  were uninitialised
p31098
aVThat fits in with:
p31099
aVusing a 16-bit short since the code would probably just then become
p31100
aVusing  since, it expands the bitfield to the point where a direct assignment is also possible
p31101
aVPure supposition on my part but, discounting a brain-dead compiler, that's the best I can come up with (if it's true, it's probably still brain-dead but in a different way)
p31102
aVFWIW, gcc doesn't complain even with
p31103
as(dp31104
g16
V14860
p31105
stp31106
a((dp31107
g2
(lp31108
VThe binaries
p31109
aVUnlikely
p31110
aVWhen you compile to a specific platform, you tend to be locked into that platform
p31111
aVYou can't, for example, take binaries created on a PPC Mac and expect them to run on an Intel CPU
p31112
aVYour first problem is that the binaries are a different language (different processors have different instruction sets such as Intel x86, PPC, SPARC and so on)
p31113
aVThe second is that other platforms may not have the same way of implementing lower-level functions like disk I/O or user interaction
p31114
aVIf it's ANSI/ISO C, you should probably be able to re-compile it for the new platform
p31115
aVOr you may be able to use an emulator to run the binary unchanged
p31116
aVBut running the binary directly on different hardware that it wasn't made for is not going to fly unfortunately
p31117
as(dp31118
g16
V14860
p31119
stp31120
a((dp31121
g2
(lp31122
VI'm sorry but there's absolutely nothing clever about that piece of code and people who use it are very foolish
p31123
aVAddendum:
p31124
aVOr, sometimes, just sometimes, very clever
p31125
aVHaving watched the video linked to in the question update, this wasn't some rogue code monkey breaking the rules
p31126
aVThis guy understood what he was doing quite well
p31127
aVIt requires a deep understanding of the underlying code generated and can easily break (as mentioned and seen here) if your environment changes (like compilers, architectures and so on)
p31128
aVBut, provided you have that knowledge, you can probably get away with it
p31129
aVIt's not something I'd suggest to anyone other than a veteran but I can see it having its place in very limited situations and, to be honest I've no doubt occasinally been somewhat more
p31130
aVpragmatic
p31131
aVthan I should have been in my own career :-)
p31132
aVNow back to your regular programming
p31133
aVIt's non-portable between architectures, compilers, releases of compilers, and probably even optimisation levels within the same release of a compiler, as well as being undefined behaviour (reading uninitialised variables)
p31134
aVYour best bet if you want to understand it is to examine the assembler code output by the compiler
p31135
aVBut your best bet overall is to just forget about it and code to the standard
p31136
aVFor example, this transcript shows how gcc can have different behaviour at different optimisation levels:
p31137
aVAt gcc's high optimisation level (what I like to call its insane optimisation level), this is the  function
p31138
aVIt's basically figured out that the array is not used and therefore optimised its initialisation out of existence
p31139
aVI'm actually slightly surprised that gcc even left the function stub in there at all
p31140
aVUpdate: as Nicholas Knight points out in a comment, the function remains since it must be visible to the linker - making the function static results in gcc removing the stub as well
p31141
aVIf you check the assembler code at optimisation level 0 below, it gives a clue (it's not the actual reason - see below)
p31142
aVExamine the following code and you'll see that the stack frame setup is different for the two functions despite the fact that they have exactly the same parameters passed in and the same local variables:
p31143
aVThis is because printArray allocates some extra space to store the address of the  format string and the address of the array element, four bytes each, which accounts for the eight bytes (two 32-bit values) difference
p31144
aVThat's the most likely explanation for your array in  being off by two values
p31145
aVHere's the two functions at optimisation level 0 for your enjoyment :-)
p31146
aVUpdate: As Roddy points out in a comment
p31147
aVthat's not the cause of your specific problem since, in this case, the array is actually at the same position in memory ( with  being the same across the two calls)
p31148
aVWhat I was trying to point out was that two functions with the same argument list and same local parameters did not necessarily end up with the same stack frame layout
p31149
aVAll it would take would be for  to swap the location of its local variables (including any temporaries not explicitly created by the developer) around and you would have this problem
p31150
as(dp31151
g16
V14860
p31152
stp31153
a((dp31154
g2
(lp31155
VThat's not a bad first attempt
p31156
aVAt least you tried before you asked for help, which is more than some do here
p31157
aVYou have the following problems:
p31158
aVYour defines are of the wrong format
p31159
aVYou use non-standard stuff ()
p31160
aVYou use lowercase  and  for the constants
p31161
aVYour  function has an extraneous semi-colon
p31162
aVYou don't define  correctly
p31163
aVThe main function should always return an
p31164
aVIn more detail:
p31165
aV(1) Your defines are of the wrong format
p31166
aVYou don't use  in defines since they're supposed to be relatively simple text substitutions
p31167
aVSo the line  is not want you want since that's basically trying to define the symbol  to have an empty value
p31168
aVTo get a symbol  with a value , you need to use
p31169
aVOf course, in more modern code you would use  since that would give you a first-class compiler symbol rather than just a text substitution
p31170
aVThere really isn't any need to use pre-processor definitions for constants (use ) or functions (use ) nowadays
p31171
aV(2) You use non-standard stuff ()
p31172
aVISO C (the standard) does not include a  header file
p31173
aVI understand that you're using it so that you can use the  function but ISO C provides a perfectly adequate  function which serves the same purpose here
p31174
aVIt's okay to use extensions to the language, just be aware that they generally make your code less portable
p31175
aV(3) You use lowercase  and  for the constants
p31176
aVSince you've used uppercase  and  for your row and column constants, you should use uppercase in your  statements
p31177
aVC is a case-sensitive language and using  and  will cause the compiler to complain that they don't exist
p31178
aV(4) Your  function has an extraneous semi-colon
p31179
aVThis is just a misplaced  in the first line of that function, at the end of the line containing the function devclaration
p31180
aV(5) You don't define  correctly
p31181
aVThe  variable should have a definite size
p31182
aVThe definition  is what's known as an incomplete type since the size cannot be known
p31183
aV(6) The main function should always return an
p31184
aVThere are two standard forms of the main function in C
p31185
aVThose are:
p31186
aVOthers are allowed to be provided by the implementation but, if you want code that will run anywhere, you should limit yourself to one of those
p31187
aVThis gets rid of all your syntax errors, now you can work on making the interface less ugly :-)
p31188
aVSome suggestions for making it nicer:
p31189
aVMake it more obvious which value you're entering by showing the matrix number and co-ordinates
p31190
aVMake it print spaces between the output numbers
p31191
aVMake it print newlines between the output lines
p31192
aVMake it print the numbers fixed width (to line up nicely)
p31193
aVComment your code (I can't stress this enough)
p31194
as(dp31195
g16
V14860
p31196
stp31197
a((dp31198
g2
(lp31199
VIt's fine
p31200
aVCoding standards don't really come into it since you have to go with what you're given
p31201
aVIf the v8 people only provide  and the boost people only provide  then, short of copying one set of files to the other choice or providing your own wrapper header files, you have few options
p31202
aVBoth of those option have their downsides for what is really dubious benefits, so I wouldn't concern yourself with the fact that you have to include two different file extensions
p31203
as(dp31204
g16
V14860
p31205
stp31206
a((dp31207
g2
(lp31208
VWell, generally you would use a file associated with the application itself
p31209
aVFor example, we had an application which loaded a configuration file into shared memory (in a parsed efficiently accessible way - think of an XML file which has been turned into in-memory structures with fast pointers and so forth) and we created the shared memory segment from the  derived from the configuration file itself
p31210
aVWorst case, if you have no configuration files for your application, try to use the executable itself
p31211
aVYou can be pretty certain that it exists on the system somewhere (since you're running it)
p31212
aVYou're also not restricted to files, you can use  itself or  or even  if you must
p31213
aVI say "if you must" because it's a little bit dangerous
p31214
aVThe  call will give you a unique key based on your file spec and your ID
p31215
aVIf you use your own file such as , you can be reasonably certain that you won't get a clash with any other -returned key
p31216
aVHowever, if you, and everyone else, decides to use  as the file spec part then the only differentiator is the ID
p31217
aVHence it's a lot easier to get a collision with other keys
p31218
aVWhat I've always done is to use the file spec as a truly unique value for my application and then just use the ID for the particular thing I want to create
p31219
aVSo, if I need 27 semaphores and 15 shared memory blocks, they all use  as the file spec and the IDs from 1 to 42 (and my application knows what ID relates to what object)
p31220
as(dp31221
g16
V14860
p31222
stp31223
a((dp31224
g2
(lp31225
VWindows scheduled tasks are built for exactly that purpose
p31226
aVYou can run things on multiple schedules (so you can get your every-three-hour behaviour) and you can get your code to run whether or not logged in
p31227
aVThe multiple scheduling is a bit tricky
p31228
aVYou basically set it up as a daily task to start with but, near the end, it will ask you if you want to do advanced features
p31229
aVSelect yes then you can set up multiple schedules at that point
p31230
as(dp31231
g16
V14860
p31232
stp31233
a((dp31234
g2
(lp31235
VNo
p31236
aVThat's it
p31237
aVNone of this "it may work in some architectures" or "it should, based on experience"
p31238
aVThe standard states clearly that the address may change so rely on that and nothing more
p31239
aVIn terms of coding to the standard: do, or do not
p31240
aVThere is no "try" :-)
p31241
aVFrom c99:
p31242
aVThe realloc function deallocates the old object pointed to by ptr and returns a pointer to a new object that has the size specified by size
p31243
aVThe contents of the new object shall be the same as that of the old object prior to deallocation, up to the lesser of the new and old sizes
p31244
aVAny bytes in the new object beyond the size of the old object have indeterminate values
p31245
aVIf ptr is a null pointer, the realloc function behaves like the malloc function for the specified size
p31246
aVOtherwise, if ptr does not match a pointer earlier returned by the calloc, malloc, or realloc function, or if the space has been deallocated by a call to the free or realloc function, the behavior is undefined
p31247
aVIf memory for the new object cannot be allocated, the old object is not deallocated and its value is unchanged
p31248
aVThe realloc function returns a pointer to the new object (which may have the same
p31249
aVvalue as a pointer to the old object), or a null pointer if the new object could not be
p31250
aVallocated
p31251
as(dp31252
g16
V14860
p31253
stp31254
a((dp31255
g2
(lp31256
VPage loads in a browser are normally stateless (i
p31257
ag75
aV, they don't store state once the page has fully loaded)
p31258
aVThat means that your next page load, which may be as simple as going from the shopping catalogue page to the shopping cart page, is a separate HTTP "transaction"
p31259
aVIn fact, it's possible that the text of a page and its 12 images (and 400 porn ads) may each go to a totally separate server (even if they use the same base URL) since they may operate on different TCP sessions
p31260
aVYou don't want to serialise all the traffic so that you can re-use a single TCP session, it's usually faster to do them in parallel on separate sessions
p31261
aVSo it may end up at a totally different server, yes
p31262
aVIn that case, you would want the state stored in a shared resource of some sort (like a database)
p31263
aVThere's other ways to get around the problem (there always are) such as IP-based affinity where traffic from the same IP address will prefer the same server but that sort of flies in the face of all your lovely load balancing architecture :-)
p31264
as(dp31265
g16
V14860
p31266
stp31267
a((dp31268
g2
(lp31269
VThis is not something that regular expressions are good for
p31270
aVThe sort of regex you're going to need to acheive this is likely to be bigger and uglier than simple procedural code to do the same thing
p31271
aVBy all means use a regex to ensure you have five digits in your string but then just use normal coding checks to ensure the order is correct
p31272
aVYou don't bang in nails with a screwdriver (if you're smart), don't try to use regular expressins for every job either :-)
p31273
as(dp31274
g16
V14860
p31275
stp31276
a((dp31277
g2
(lp31278
Vlooks problematic at best :-)
p31279
aVYou're allocating some memory in the first then leaking it when you allocate more memory in the second
p31280
aVEven if that weren't a problem, I've never seen the paradigm:
p31281
aVYou would tend to either use  or  when calling
p31282
aVI think what you have, even if it worked, would simply allocate enough space for a , the return value from
p31283
aVI could be wrong on that count but I don't think it's relevant since you're not using that memory anyway due to the leak
p31284
aVThere are other problems such as:
p31285
aVis supposed to return a  which you're ignoring
p31286
aVgives you a copy of a string that is exactly the right size, then you  on to it, almost certainly corrupting memory
p31287
aVNow this is untested but I think it's probably a better starting position:
p31288
as(dp31289
g16
V14860
p31290
stp31291
a((dp31292
g2
(lp31293
VYes, it works exactly like the more standard  since it is, after all, a  equivalent
p31294
aVSee here for details
p31295
aVBased on your added comment:
p31296
aVAfter I asked this quesiton it occured to me that I'm probably looking for something that provides the same functionality as replace but in an update
p31297
aVI'm trying to update the active and inactive columns if the record exists (if ip and proto exist)
p31298
aVIf the ip and proto columns don't match a row it will insert it
p31299
aVThe query I provided in my original post does not work
p31300
aVI think you're looking for the INSERT
p31301
aVON DUPLICATE KEY UPDATE command
p31302
aVThis will attempt to  the data and do the  bit if the row already exists
p31303
aVNow I'm not sure how well this will work unless the ip/proto is the primary key
p31304
aVYou may need to revert to the standard method of:
p31305
as(dp31306
g16
V14860
p31307
stp31308
a((dp31309
g2
(lp31310
VFor turning any angle into a 0-359 range in C#, you can use the following "algorithm":
p31311
aVC# follows the same rules as C and C++ and  will give you a value between  and  for any integer, then the second line is to ensure it's in the range 0 through 359 inclusive
p31312
aVA sneaky version on one line:
p31313
aVwhich would normalise it under all conditions
p31314
aVI'm not sure I'd worry too much about using the inline one-liner unless performance was critical, but I will explain it
p31315
aVFrom , you will get a number between  and
p31316
aVAdding  will modify the range to between  and
p31317
aVThen the final  will bring it back to the range  through
p31318
as(dp31319
g16
V14860
p31320
stp31321
a((dp31322
g2
(lp31323
VFirst few things to check:
p31324
aVWhich user owns the file that exists
p31325
aVWhich user owns the directory that the file is in
p31326
aVWhich user is running your PHP script
p31327
aVWhat are the permissions on the file itself
p31328
aVWhat are the permissions on the directory that the file is in
p31329
aVThe reason I ask these questions is because it may be a simple permissions problem
p31330
aVThe user running the  and file create of the target file will need write access to the directory
p31331
aVIt's possible that the user that's running the script is not the one that owns the directory or file, in which case you may have to open up the permissions a bit
p31332
aVOf course, that's just conjecture on my part but that's the first thing I'd be looking for
p31333
as(dp31334
g16
V14860
p31335
stp31336
a((dp31337
g2
(lp31338
VMy question to you is a simple "Why
p31339
aVSQL is a relational algebra and data sets only have order when you specify it on extraction
p31340
aVIt makes no sense to talk about the order of your data since your database is free to impose whatever order it likes
p31341
aVAny decent database will not care one bit the order in which records are inserted, only the keys and constraints and other properties that can be used to efficiently store and retrieve the data
p31342
aVOnly when you extract data with a  does the order have to be fixed
p31343
aVIf you want to be able to efficiently extract data ordered by your  column, simply index it and use an  clause when extracting the data
p31344
as(dp31345
g16
V14860
p31346
stp31347
a((dp31348
g2
(lp31349
VYou must have a different definition of "error" to me :-) What gets printed the first two times you call your  function
p31350
aVI get
p31351
aVfor my three function calls
p31352
aVWhat you're seeing is a holdover from the very early days of C when people played footloose and fancy-free with their function calls
p31353
aVAll that is happening is that you are calling a function  and it's printing out three values from the stack (yes, even when you only give it one or two)
p31354
aVWhat happens when you don't provide enough is that your program will most likely just use what was there anyway, usually leading to data issues when reading and catastrophic failure when writing
p31355
aVThis is perfectly compilable, though very unwise, C
p31356
aVAnd I mean that in a very real, "undefined behaviour", sense of the word (referring specifically to C99: "If the expression that denotes the called function has a type that does not include a prototype,
p31357
aVif the number of arguments does not equal the number of parameters, the behaviour is undefined")
p31358
aVYou should really provide fully formed function prototypes such as:
p31359
aVto ensure your compiler picks up this problem, and use ellipses () in variable parameter functions
p31360
aVAs an aside, what usually happens under the covers is that the calling function starts with a stack like:
p31361
aVand pushes (for example) two values onto a stack, so that it ends up like:
p31362
aVWhen the called function uses the first three values on the stack (since that's what it wants), it finds that it has ,  and
p31363
aVIt does what it has to do then returns and the calling function clears those two values off the stack (this is called a caller-makes-good strategy)
p31364
aVWoe betide anyone who tries this with a callee-makes-good strategy :-) although that's pretty unusual in C since it makes variable argument functions like  a little hard to do
p31365
as(dp31366
g16
V14860
p31367
stp31368
a((dp31369
g2
(lp31370
VThis line here:
p31371
aVis, shall we say, rather interesting
p31372
aVWhy do you give the address of your  as the second parameter
p31373
aVThat's just asking for trouble :-)
p31374
aVI think it should probably be:
p31375
as(dp31376
g16
V14860
p31377
stp31378
a((dp31379
g2
(lp31380
VThe normal way of doing what you want is to use a regular expression replace with word boundaries:
p31381
aVor:
p31382
as(dp31383
g16
V14860
p31384
stp31385
a((dp31386
g2
(lp31387
VYou probably mean a doubly-linked list, with one of the pointers going forward and the other going backward
p31388
aVThis allows you to get to the next and previous nodes for a given node without having to remember the last one or two nodes encountered (as in a singly-linked list)
p31389
aVBut the one thing I discovered which made the code even more elegant was to always have two dummy elements in the list at all times, the first and the last
p31390
aVThis gets rid of the edge cases for insertion and deletion since you're always acting on a node in the middle of the list
p31391
aVFor example, an empty list is created:
p31392
aVObviously, traversing the list is slightly modified (forward version shown only):
p31393
aVThe insertions are much simpler since you don't have to concern yourself with whether you're inserting at the start or end of the list
p31394
aVTo insert before the current point:
p31395
aVDeletions are also simpler, avoiding the edge cases:
p31396
aVAll very much cleaner code and at the cost of only having to maintain two extra nodes per list, not a great burden in today's huge memory space environments
p31397
aVCaveat 1: If you're doing embedded programming where space still might matter, this may not be a viable solution (though some embedded environments are also pretty grunty these days)
p31398
aVCaveat 2: If you're using a language that already provides linked list capabilities, it's probably better to do that rather than roll your own (other than for very specific circumstances)
p31399
as(dp31400
g16
V14860
p31401
stp31402
a((dp31403
g2
(lp31404
VIn C under UNIX (and probably other operating systems as well), there are usually two buffers, at least in your given scenario
p31405
aVThe first exists in the C runtime libraries where information to be written is buffered before being delivered to the OS
p31406
aVThe second is in the OS itself, where information is buffered until it can be physically written to the underlying media
p31407
aVAs an example, we wrote a logging library many moons ago that forced information to be written to the disk so that it would be there if either the program crashed or the OS crashed
p31408
aVThis was achieved with the sequence:
p31409
aVThe first of these actually ensured that the information was handed from the C runtime buffers to the operating system, the second that it was written to disk
p31410
aVKeep in mind that this is an expensive operation and should only be done if you absolutely need the information written immediately (we only did it at the SUPER_ENORMOUS_IMPORTANT logging level)
p31411
aVTo be honest, I'm not entirely certain why your interviewer thought it would be slow unless you're writing a lot of information
p31412
aVThe two levels of buffering already there should perform quite adequately
p31413
aVIf it was a problem, then you could just introduce another layer yourself which wrote the messages to an in-memory buffer and then delivered that to a single -type call when it was about to overflow
p31414
aVBut, unless you do it without any function calls, I can't see it being much faster than what the -type buffering already gives you
p31415
aVFollowing clarification in comments that this question is actually about buffering inside a kernel:
p31416
aVBasically, you want this to be as fast, efficient and workable (not prone to failure or resource shortages) as possible
p31417
aVProbably the best bet would be a buffer, either statically allocated or dynamically allocated once at boot time (you want to avoid the possibility that dynamic re-allocation will fail)
p31418
aVOthers have suggested a ring (or circular) buffer but I wouldn't go that way (technically) for the following reason: the use of a classical circular buffer means that to write out the data when it has wrapped around will take two independent writes
p31419
aVFor example, if your buffer has:
p31420
aVthen you'll have to write  followed by
p31421
aVInstead, maintain the  pointer and, if the bytes in the buffer plus the bytes to be added are less than the buffer size, just add them to the buffer with no physical write to the underlying media
p31422
aVOnly if you are going to overflow the buffer do you start doing tricky stuff
p31423
aVYou can take one of two approaches:
p31424
aVEither flush the buffer as it stands, set the  pointer back to the start for processing the new message; or
p31425
aVAdd part of the message to fill up the buffer, then flush it and set the  pointer back to the start for processing the rest of the message
p31426
aVI would probably opt for the second given that you're going to have to take into account messages that are too big for the buffer anyway
p31427
aVWhat I'm talking about is something like this:
p31428
aVThat basically handles messages of any size efficiently by reducing the number of physical writes
p31429
aVThere will be optimisations of course - it's possible that the message may have been copied into kernel space so it makes little sense to copy it to the buffer if you're going to write it anyway
p31430
aVYou may as well write the information from the kernel copy directly to the underlying media and only transfer the last bit to the buffer (since you have to save it)
p31431
aVIn addition, you'd probably want to flush an incomplete buffer to the underlying media if nothing had been written for a time
p31432
aVThat would reduce the likelihood of missing information on the off chance that the kernel itself crashes
p31433
aVAside: Technically, I guess this is sort of a circular buffer but it has special case handling to minimise the number of writes, and no need for a tail pointer because of that optimisation
p31434
as(dp31435
g16
V14860
p31436
stp31437
a((dp31438
g2
(lp31439
VIn C / C++ (bash, too
p31440
aVthe first command-line argument, argv[0], is the binary filename"
p31441
aVis dead wrong, by the way
p31442
aVThe ISO standard mandates no such thing
p31443
aVFrom C99:
p31444
aVIf the value of argc is greater than zero, the string pointed to by argv[0] represents the program name; argv[0][0] shall be the null character if the program name is not available from the host environment
p31445
aVAnd notice that it states "represents the program name", not "is the location of the binary executable"
p31446
aVThat's because there's an earlier snippet which states:
p31447
aVthe array members argv[0] through argv[argc-1] inclusive shall contain pointers to strings, which are given implementation-defined values by the host environment prior to program startup
p31448
aVIt's quite legal for your  for the command "sleep 60" to be "pax's fantastic sleep utility" rather than "/bin/sleep"
p31449
aVIn short, the environment doesn't have to provide a representation of the program and, even if it does, it doesn't have to be anything usable for locating the binary
p31450
aVBut, having bored you with my diatribe, Perl provides  or  (in that hideous "English" mode) for this purpose
p31451
aVSee perlvar for details
p31452
as(dp31453
g16
V14860
p31454
stp31455
a((dp31456
g2
(lp31457
VI wouldn't encrypt the fields at all since it's going to be a royal pain in the rear end :-)
p31458
aVI would instead move sensitive data to a separate table and use the security features of the DBMS itself to protect the data while still allowing access to the non-sensitive data
p31459
aVIn other words, have two tables ( and ) tied together with a  column
p31460
aVLet anyone peruse the  table to their hearts content but access (of any sort) to  is restricted to admin-type bods)
p31461
aVAnd, if my DBMS didn't provide such facilities (I do not know whether MySQL does), I would move to a DBMS that did
p31462
aVIf you want a user to have access to their own sensitive data but not that of other users, we once implemented such a scheme in DB2 by providing a stored procedure
p31463
aVIt retrieved all the desired rows but also checked to see which user was executing it
p31464
aVFor rows that didn't match that user, the sensitive information was blanked out
p31465
aVThe underlying table was fully protected from everyone except the stored procedure itself
p31466
aVIn order for that to work, you would have to be able to run the stored procedure under a different user from the one invoking it
p31467
aVWhether that's possible under MySQL, I have no idea
p31468
as(dp31469
g16
V14860
p31470
stp31471
a((dp31472
g2
(lp31473
VIt's been a long time since I used that particular syntax
p31474
aVNowadays, I prefer:
p31475
aVsince I know that these are short-circuited
p31476
aVThe  man page specifically states:
p31477
aVThe  and  operators do not evaluate expression2 if the value of expression1 is sufficient to determine the return value of the entire conditional expression
p31478
aVIt doesn't appear to state clearly one way or the other for the  and  variant (using )
p31479
aVHowever, in the interests of furthering your knowledge and mine (and an indication as to why open source is a good thing), I went trolling through the  source code
p31480
aVIt turns out that it's not short-circuited in that case
p31481
aVThe particular pieces of code are (compressed a bit for readability):
p31482
aVYou can see in both those cases that it continues to interpret the expressions regardless of the state of the first expression
p31483
aVThat was from  2
p31484
aV5 but I've just checked the 4
p31485
aV1 source as well and it hasn't changed
p31486
aVSource was pulled straight from the horse's mouth
p31487
aVSo
p31488
aVbottom line: it appears that all sub-expressions are evaluated when using  and  with  or
p31489
as(dp31490
g16
V14860
p31491
stp31492
a((dp31493
g2
(lp31494
VGo to your client machine and type in:
p31495
aVsubstituting the real host name of your server for , of course
p31496
aVThat should tell you which DNS server your client is using (if any) and what it thinks the problem is with the name
p31497
aVTo force an application to use an IP address, generally you just configure it to use the IP address instead of a host name
p31498
aVIf the host name is hard-coded, or the application insists on using a host name in preference to an IP address (as one of your other comments seems to indicate), then you're probably out of luck there
p31499
aVHowever, you can change the way that most machine resolve the host names, such as with  and  on UNIXy systems and a local hosts file on Windows-y systems
p31500
as(dp31501
g16
V14860
p31502
stp31503
a((dp31504
g2
(lp31505
VFor a 32-bit  value, you will overflow in mid to late January 2038
p31506
aVSpecifically about 3:14 AM UTC on January 19 (actually somewhere between 3:14 and 3:15 but that should be close enough for you)
p31507
aVThe maximum value is 231-1 or 2,147,483,647
p31508
as(dp31509
g16
V14860
p31510
stp31511
a((dp31512
g2
(lp31513
VI would start with:
p31514
aVwhich produces:
p31515
aVAll it does is store the information from every  line and then print it out when you get an  line
p31516
aVYou'll notice it still has the quotes around the values but, if you really want to get rid of those, use the (very simplistic)  script:
p31517
aVRunning this with:
p31518
aVgives:
p31519
aVYou can use any input file or stream with that (for example):
p31520
aVor:
p31521
as(dp31522
g16
V14860
p31523
stp31524
a((dp31525
g2
(lp31526
VYes, you can create the threads up front and have them wait for signals to go and start their work
p31527
aVThese signals can be message queues or semaphores or any other sort of inter-thread communication method
p31528
aVAs an example, we once put together a system under UNIX which had a master thread to receive work over the net and farm the jobs out to slave threads
p31529
aVThe slave threads would actually have to interact with another system by screen scraping (basically emulating a user) to get their desired information
p31530
aVIn other words, work could come in faster than slave threads could do it
p31531
aVSo we started up about fifty odd slaves and just created a condition variable for them (this was using pthreads)
p31532
aVEach slave that wasn't doing active work simply waited on the condition variable
p31533
aVWhen a job came in to the master thread, it loaded the relevant data into known memory and "kicked" the condition variable, waking up one of the slaves which would then grab the work and start processing it (after notifying the master that it could continue)
p31534
aVSo there was no overhead in having to create threads on the fly - all were created on application start-up and simply waited for work to be handed over
p31535
aVOf course, there's a potential downside to this sort of static sizing in that you may get into trouble if you actually need more threads
p31536
aVWe solved it by simply monitoring the maximum number of threads and ensuring the process was restarted the following day with more if we were consistently running out
p31537
aVIf you want to have a more dynamic solution, you need to look into a concept called thread pooling
p31538
aVThis is basically what I've described above but it generally lets you set a minimum and maximum number of threads along with a maximum time an inactive thread will be allowed to survive without work (unless you're already at the minimum)
p31539
aVIts implementation could be something as simple as:
p31540
aVand:
p31541
aV(with proper semaphore protection of all shared variables of course, , ,  and the others if you decide to change them after threads have been started)
p31542
aVAnd, if your environment already has thread pooling, I suggest you use it rather than trying to convert my pseudo-code above
p31543
aVMy code is from memory and is meant to illustrate a point - it may or may not be bug-free :-)
p31544
as(dp31545
g16
V14860
p31546
stp31547
a((dp31548
g2
(lp31549
VMy first thoughts were listed below but if, as you state, you're certain that  is returning incorrect values, see RESOLUTION further down
p31550
aVWhat's wrong with  and
p31551
aVThe method you're using seems a very roundabout way of doing it and, if you can call , I'm pretty certain you can call  as well
p31552
aVOne other possibility is to use  to get the entire bounding rectangle for the window and  to get the bounding rectangle for the client (non-border) area
p31553
aVThis should give you something like  and  respectively and you can work out the top border as , bottom as , left as  and right as  (27,12,12,12)
p31554
aVRESOLUTION:
p31555
aVA bit of investigation turns up this
p31556
aVIt's a thread from 2006 stating that you might not get the correct values from
p31557
aVThe thread that pointed me to this stated:
p31558
aVApps under Vista that are not linked with WINVER=6 will receive a misleading set of values here, that do not account for the extra padding of "glass" pixels Vista Aero applies to the window
p31559
aVThis appears to happen even in Aero Basic (without Glass) to retain sizing consistency
p31560
aVThe workaround (if you don't want to set WINVER=6) seems to be to dynamically bind to dwmapi
p31561
aVdll and use GetProcAddress() to obtain the DwmGetWindowAttribute() function, and call it with the DWMWA_EXTENDED_FRAME_BOUNDS argument to request the genuine window frame dimensions
p31562
aVSo basically, use something like (you may have to use ctypes to do this from Python):
p31563
aVand that should give you the correct bounding rectangle
p31564
as(dp31565
g16
V14860
p31566
stp31567
a((dp31568
g2
(lp31569
VPerhaps a middle ground may be more appropriate
p31570
aVYour "brand" will suffer a great deal if either:
p31571
aVthe software you release is a steaming pile of dung (as in your former cases); or
p31572
aVthe software is not released in a timely fashion (as in your latter case)
p31573
aVIn both those cases, you won't be very likely to stay in business for long
p31574
aVThe shop I operate in recognises the fact that software will have some bugs in it
p31575
aVAll high severity bugs must be fixed before release and all low severity bugs must have a plan in place for fixing after release
p31576
aVSoftware maintenance (basically bug fixing and answering customer questions) is an important part of our development process
p31577
aVIn addition, the "cost" of fixing a bug becomes more as the discovery of said bug moves away from the developer and towards the customer
p31578
aVFixing a bug I find during unit testing involves only me though it can affect others if my stuff is delayed
p31579
aVFinding a bug during system test means other phases are definitely delayed since the code has to come back and be changed and unit tested again before once again being promoted to system test
p31580
aVFinding a bug after your software is live is a whole other world of pain, involving communications with customers, multiple managerial reporting lines all wanting to leave an impression of their boot in your rear end and putting any bug fix through all phases, or risking adverse effects otherwise - a particularly nasty place in the ninth circle of hell is reserved for those developers who, in fixing their bug, introduce yet another one
p31581
as(dp31582
g16
V14860
p31583
stp31584
a((dp31585
g2
(lp31586
VMost likely it's an en dash or em dash rather than a real hyphen or minus symbol
p31587
aVTypesetters will most likely try to track you down and beat you to death if they discover you're using the wrong term :-)
p31588
as(dp31589
g16
V14860
p31590
stp31591
a((dp31592
g2
(lp31593
VFrom the code given, either ,  or  will be null
p31594
aVThe exception stack trace itself should tell you exactly what line is causing the problem
p31595
aVFirst thoughts are that you're getting the physical number of rows in the sheet but  gets you a logical row
p31596
aVYou may want to look into using  and  which appear to return logical rows
p31597
aVBut that just my thoughts
p31598
aVMore information is needed before I can say for sure
p31599
aVTo get a stack trace given your exception , use:
p31600
aVor:
p31601
as(dp31602
g16
V14860
p31603
stp31604
a((dp31605
g2
(lp31606
VYes, it is
p31607
aVThere's no specific violations of the standard there
p31608
aVThe  is a waste of time however since it's al going to be overwritten anyway (make your first  into a )
p31609
aVAnd you should always check for  returning NULL
p31610
aVNo matter what
p31611
aVC89/90 is not the current standard, C99 is
p31612
aVAnd C1x is not that far away
p31613
aVGCC is keeping up with the bleeding edge
p31614
aVOnly use local arrays if you don't need them to survive beyond the end of the function
p31615
aVOtherwise  is your best bet, particularly if you want to return the combined string
p31616
aVI think gcc has the  flag or something similar
p31617
aVIn any case, MSVC does not always follow the standard :-)
p31618
aVCompile and test it on both platforms frequently
p31619
aVThat's the only way to be sure
p31620
aVI would opt for:
p31621
aVor, since you're not actually doing anything with the string except printing it:
p31622
aV:-)
p31623
aVAnother strategy I've seen is the "only allocate if you have to" strategy:
p31624
aVwhich uses stack storage if the combined string will fit and only allocates memory if it won't
p31625
aVThis can often lead to a substantial speed improvement if the bulk of strings combine into less than the limit
p31626
as(dp31627
g16
V14860
p31628
stp31629
a((dp31630
g2
(lp31631
VI really wouldn't
p31632
aVI'd throw the whole thing away and redo it as readable procedural code
p31633
aVThere are some things you really shouldn't do with regular expressions
p31634
aVThis is one of them
p31635
aVI'm all for educating yourself but do you really think that's going to come in handy at some point
p31636
aVPerhaps you'd be better off learning something that will actually be usable and maintainable :-)
p31637
as(dp31638
g16
V14860
p31639
stp31640
a((dp31641
g2
(lp31642
VUsually padding bytes to ensure that data is aligned correctly
p31643
aVFor example:
p31644
aVwill probably have slack bytes between  and  to get  aligned on a correct boundary
p31645
aVYou can check this by seeing what  gives you (12 in the case above although it depends on the implementation)
p31646
aVSome architectures run slower if they have to use (for example) a four byte value that isn't aligned on a four-byte boundary
p31647
aVSome architectures won't allow that at all, instead generating an exception
p31648
as(dp31649
g16
V14860
p31650
stp31651
a((dp31652
g2
(lp31653
VPOP3 does not provide attachment information in the header so no, unfortunately, I'm pretty sure you have to read and parse the entire message
p31654
aVIn any cases, not all POP3 servers provide the  command
p31655
as(dp31656
g16
V14860
p31657
stp31658
a((dp31659
g2
(lp31660
V is the C++ stream and  is the C file handle, both representing the standard error output
p31661
aVYou write to them the same way you write to other streams and file handles:
p31662
aVI'm not sure what you mean by "recover" in this context, the output goes to standard error and that's it
p31663
aVThe program's not meant to care about it after that
p31664
aVIf you mean how to save it for later, from outside the program, see the next paragraph
p31665
aVBy default, they'll go to your terminal but the output can be redirected elsewhere with something like:
p31666
aVAnd, yes, the "screen" output is a stream (or file handle) but that's generally only because  and  are connected to your "screen" by default
p31667
aVRedirection will affect this as in the following case where nothing will be written to your screen:
p31668
aV(tricky things like writing directly to  notwithstanding)
p31669
aVThat snippet will redirect both standard output and standard error to go to the bit bucket
p31670
as(dp31671
g16
V14860
p31672
stp31673
a((dp31674
g2
(lp31675
VYou generally don't have to explicitly link the C or C++ runtime libraries in
p31676
aVUsually the compiler will call the linker with the correct options to do it for you
p31677
aVIn fact, with gcc, you have to do something to not include the default libraries (such as using ,   or )
p31678
aVThe actual location of the standard library, including whether or not it's in a single file, is an implementation issue
p31679
as(dp31680
g16
V14860
p31681
stp31682
a((dp31683
g2
(lp31684
VCocoa is just the code name for one of the Apple API's, originally provided on the Mac (I used to code for that on my old iMac)
p31685
aVOne of the others was Carbon
p31686
aVWikipedia has a more in-depth description that will do it far more justice than my brief snippet above
p31687
as(dp31688
g16
V14860
p31689
stp31690
a((dp31691
g2
(lp31692
VI've used the IBM JDK and JRE for two reasons
p31693
aVIt's the one that drives all the IBM products (Websphere, Rational,et al) and the mainframe connectivity is so much better
p31694
aVOther than that, I used to use the non-Sun JVM under Ubuntu at home but I've started using Sun's (or Oracle's now, I guess) for that now
p31695
aVPersonally (and this is opinion only), I'd prefer to use Sun's for stand-alone stuff
p31696
aVFor stuff like Websphere, it's probably best to use the one that's delivered as part of the product
p31697
as(dp31698
g16
V14860
p31699
stp31700
a((dp31701
g2
(lp31702
VWell, I see two possibilities
p31703
aVEither  is not set correctly or it's not equal to any of those strings in which case  is left uninitialised
p31704
aVIn the former case, the exception is probably on the line:
p31705
aVIn the latter, it will probably be at:
p31706
aVThe debugger should provide you with that information, and you should provide it to us as well :-)
p31707
aVIn addition,  returns another string, it doesn't operate in-place, so you need:
p31708
aVWhat you may want to do is set  to an initially empty string so that nothing is appended if there is no match:
p31709
as(dp31710
g16
V14860
p31711
stp31712
a((dp31713
g2
(lp31714
VYou could change:
p31715
aVinto:
p31716
aVand change your clean to:
p31717
aVBut the whole point to clean is to do a full rebuild
p31718
aVIf you don't want a full rebuild, just use  on its own and it'll build only what it needs to
p31719
aVWith a properly built makefile, you should almost never need to do a full rebuild (the only exception I can think of to that is when you change the makefile itself but I even bypass that by making all rules depend on the makefile as well)
p31720
aVBy the way,
p31721
aVand
p31722
aVdon't seem write to me - there's no dependency between  and , nor between  and  (at least based on your compilation statements)
p31723
aVThe only way you would have a dependency is if you 'd one C file within another, and that's rarely a good idea
p31724
as(dp31725
g16
V14860
p31726
stp31727
a((dp31728
g2
(lp31729
VYou'd probably be better off doing something like:
p31730
aVsince that'll be near-atomic in duration
p31731
aVThen  it to the  filesystem after that while processes will recreate a new
p31732
aVKeep in mind that, if you have a long lived process writing to , it will continue to write to  after the first move
p31733
aVBut, if you just have a lot of processes which open/write/close your file, the atomic move is probably the safest way to do it
p31734
as(dp31735
g16
V14860
p31736
stp31737
a((dp31738
g2
(lp31739
VBecause  is the standard prefix for introducing preprocessor statements
p31740
aVIn early C compilers, the pre-processor was a separate program which would handle all the preprocessor statements (similar to the way early C++ "compilers" such as cfront generated C code) and generate C code for the compiler (it may still be a separate program but it may also be just a phase of the compiler nowadays)
p31741
aVThe  symbol is just a useful character that can be recognised by the preprocessor and acted upon, such as:
p31742
aVand so on
p31743
as(dp31744
g16
V14860
p31745
stp31746
a((dp31747
g2
(lp31748
VIf you mean the characters of the numbers (such as 1927 and 9721), one approach is to simply  them to two buffers, sort the characters in the buffers, then see if the strings are equal
p31749
aVAnother alternative (that matches your new non-sorting requirement) would be to set up a ten-element array, with all elements initially set to zero, then process each digit in the first number, incrementing the relevant element
p31750
aVThen do the same with the second number but decrementing
p31751
aVIf, at the end, it's still all zeros, the numbers were a permutation of each other
p31752
aVThis is efficient in that it's an  algorithm where  is the number of digits in the two numbers
p31753
aVIn C, the following complete program illustrates how this can be done:
p31754
ag5385
aVSimply pass it two (positive) numbers and, assuming they fit in a , it'll tell you whether they have the same digit counts
p31755
as(dp31756
g16
V14860
p31757
stp31758
a((dp31759
g2
(lp31760
VThere are ways to do it such as being able to recognise memory patterns around the thing you're looking for
p31761
aVCrackers can use this to find memory locations to patch even with software that "moves around", so to speak (as with operating systems that provide randomisation of address spaces)
p31762
aVFor example, if you know that there are fixed character strings always located  bytes beyond the area of interest, you can scan the whole address space to find them, then calculate the area of interest from that
p31763
aVHowever, it's not always as reliable as you might think
p31764
aVI would instead be thinking of another way to achieve your ends, one that doesn't involve battling the features that are protecting such software from malicious behaviour
p31765
aVThink of questions like:
p31766
aVWhy exactly do you need access to the address space at all
p31767
aVDoes the program itself provide status information in a more workable manner
p31768
aVIf the program is yours, can you modify it to provide that information
p31769
aVIf you only need to know if the program is doing its job, can you simply "ping" the program (e
p31770
ag1775
aV, for a web page, send an HTML request and ensure you get a valid response)
p31771
aVAs a last resort, can you convince the OS to load your program without address space randomisation then continue using your (somewhat dubious) method
p31772
aVGiven your comment that:
p31773
aVI use the program on four machines and I have to "re-find" the addresses (8 of them) on all of them every time they update the program
p31774
aVI would simply opt for automating this process
p31775
aVThis is what some cracking software does
p31776
aVIt scans files or in-memory code and data looking for markers that it can use for locating an area of interest
p31777
aVIf you can do it manually, you should be able to write a program that can do it
p31778
aVHave that program locate the areas of interest (by reading the process address space) and, once they're found, just read your required information from there
p31779
aVIf the methods of finding them changes with each release (instead of just the actual locations), you'll probably need to update your locator routines with each release of their software but, unfortunately, that's the price you pay for the chosen method
p31780
aVIt's unlikely the program you're trying to read will be as secure as some - I've seen some move their areas of interest around as the program is running, to try and confuse crackers
p31781
as(dp31782
g16
V14860
p31783
stp31784
a((dp31785
g2
(lp31786
VPrasoon has already offered up a host of different (and good) ways to do this, none of which need repeating here
p31787
aVI'd like to suggest an alternative approach for speed however
p31788
aVIf you're going to be doing this quite a bit, you may want to consider "sub-classing" your vector so that a sum of elements is maintained separately (not actually sub-classing vector which is iffy due to the lack of a virtual destructor - I'm talking more of a class that contains the sum and a vector within it ( rather than ) and provides the vector-like methods)
p31789
aVFor an empty vector, the sum is set to zero
p31790
aVOn every insertion to the vector, add the element being inserted to the sum
p31791
aVOn every deletion, subtract it
p31792
aVBasically, anything that can change the underlying vector is intercepted to ensure the sum is kept consistent
p31793
aVThat way, you have a very efficient O(1) method for "calculating" the sum at any point in time (just return the sum currently calculated)
p31794
aVInsertion and deletion will take slightly longer as you adjust the total and you should take this performance hit into consideration
p31795
aVVectors where the sum is needed more often than the vector is changed are the ones likely to benefit from this scheme, since the cost of calculating the sum is amortised over all accesses
p31796
aVObviously, if you only need the sum every hour and the vectors is changing three thousand times a second, it won't be suitable
p31797
aVSomething like this would suffice:
p31798
aVObviously, that's pseudo-code and you may want to have a little more functionality and clean up the error checking, but it shows the basic concept
p31799
as(dp31800
g16
V14860
p31801
stp31802
a((dp31803
g2
(lp31804
VFor something as important as banking, I don't mind it complaining about my input, especially if the other option is mistakenly transferring a bucketload of money into some stranger's account instead of my wife's (because of a missing or incorrect digit for example)
p31805
aVA classic example is one of my banks which disallows monetary values unless they have "
p31806
aV99" at the end (where 9 can be any digit of course)
p31807
aVThe vast majority of things I do are for exact dollar amounts and it's a tad annoying to have to always enter 500
p31808
aV00 instead of just 500
p31809
aVBut I'll be happier about that the first time I avoid accidentally paying somebody $5072 instead of $50
p31810
aV72 just because I forgot the decimal point
p31811
aVActually, that's pretty unlikely since it also asks for confirmation and I'm pretty anal in controlling my money :-)
p31812
aVHaving said that, the general rule I try to follow is "be liberal in what you accept, be strict in what you produce"
p31813
aVThis allows other software using my output to expect a limited range of possibilities (making their lives easier)
p31814
aVBut it makes my software more useful if it can handle simple misteaks
p31815
as(dp31816
g16
V14860
p31817
stp31818
a((dp31819
g2
(lp31820
VIf you're talking about processing each element in the arrays one-by-one (I'm assuming here that the printing is just an example and your your actual desired processing is more complicated), the simplest way is to not do that
p31821
aVYou obviously have your data structured in that way for a reason, in which case your code should mirror it
p31822
aVYou save very little by doing that with a single  statement so I would use:
p31823
aVBelieve it or not, having your code mirror your data actually improves code readability
p31824
aVAs an example, to get your exact output as specified in the edit:
p31825
as(dp31826
g16
V14860
p31827
stp31828
a((dp31829
g2
(lp31830
VImmediate problems:
p31831
aV1/ When you append, you do not set the current tail's next pointer to be the new node
p31832
aV2/ When inserting, you do not check that you've moved beyond the end of your list
p31833
aV3/ Likewise, when removing, you don't check that you're trying to move beyond the bounds of your list
p31834
aV4/ When removing, you don't check the edge cases
p31835
aVFor example, removing the current head will cause you to try and set  to something even though  is NULL
p31836
aV5/ The loop in , along with item 1 above is what's causing your segfault
p31837
aVThat's because  is never being set to the tail so, even though your creating items, they're not is the list that  knows about
p31838
aVIt's actually a strange approach to take inasmuch as what's normally done is that you remove based on value rather than index
p31839
aVIf you're going to remove (or print or process in any way) a node based on index, you should handle the case where the index given is beyond the bounds of the list
p31840
aVI've often found that it's useful to draw the current list with paper and pencil then bench-run your code to make sure it's working as expected
p31841
aVFor a wonderful example of this, see here
p31842
aVBy way of explaining what's wrong with your  code (where  represents an unknown value and  means an unknown pointer, forward links at the top, backward links at the bottom):
p31843
ag5385
ag5385
ag5385
ag5385
ag5385
aVNow that all looks okay
p31844
aVYou could traverse that forwards and backwards without issue
p31845
aVNow let's append another value
p31846
ag5385
ag5385
ag5385
ag5385
ag5385
aVNow you should be able to see easily what's missing there
p31847
aVThere's no link from  to the node that we're adding
p31848
aVThat means that any loop starting at head will only ever see one element in the list
p31849
aVIt also means that, if you try to dereference  (such as using a 10-iteration  loop for example), you will get undefined behaviour, which is what's causing your segfault
p31850
aVTo fix it, back up one step and insert  before the :
p31851
ag5385
ag5385
aVAnd there's our new list, fully traversable in both directions
p31852
aVYou can add another one using the same method to verify that the behaviour is correct
p31853
as(dp31854
g16
V14860
p31855
stp31856
a((dp31857
g2
(lp31858
V"Implement" generally means write, pure and simple
p31859
aVYour educator wants you to write code that can do what the assignment says
p31860
aVStacks of fixed size () can be easily implemented as an array with a current stack depth but you have an extra twist to your assignment inasmuch as you're only alowed to have  elements on both stacks combined rather than each stack
p31861
aVI would implement it as follows (pseudo-code only since it's homework and, in any case, you haven't specified a language):
p31862
ag5385
ag5385
aVThe variables , , ,  and  should be declared in such a way that they survive in between function calls (i
p31863
ag75
aV, not locals)
p31864
aVAll others are transitory
p31865
aVIf you have troubles converting that to a specific language, leave a comment and I'll provide pointers on what to look for
p31866
as(dp31867
g16
V14860
p31868
stp31869
a((dp31870
g2
(lp31871
VI believe that every type must have a  of at least 1 (partly to ensure instance of that type get different addresses in an array for example)
p31872
aVSection 5
p31873
ag6296
aV3 of the C++0x draft standard is where this is dictated:
p31874
aVWhen applied to a class, the result is the number of bytes in an object of that class including any padding required for placing objects of that type in an array
p31875
aVThe size of a most derived class shall be greater than zero
p31876
aVThey shouldn't affect the size of an instance (since they're static) but they will probably need to be stored in the executable somewhere since you need to be able to use the address-of operator on them
p31877
aVWhether they can be optimised out of existence depends entirely on the compiler and whether it can tell they're not being de-referenced
p31878
aVEnumerations are probably a better tool to use in this particular case
p31879
aVHowever, three integers in an application is unlikely to cause a problem
p31880
as(dp31881
g16
V14860
p31882
stp31883
a((dp31884
g2
(lp31885
VYou have your basic list of tests
p31886
aVYou just provided them to us
p31887
aVAt a bare minimum, you should test that every functional requirement has been met (for example, the four points you gave us in the question)
p31888
aVAdding to that are the edge cases, things like empty lists (on one and both sides), identical lists and so forth
p31889
aVThe simplest way to start is to add the following:
p31890
aVempty list on both sides
p31891
aVidentical lists
p31892
aVempty left list with a one-element right list to add
p31893
aVone-element left list with an empty right list to remove
p31894
aVprevious two tests but with five-element lists on the one side
p31895
aVreplacing of one element in a one-element left list
p31896
aVreplacing of one element in a five-element left list
p31897
aVreplacing of three elements in a five-element left list
p31898
aVchecking that no replacements done on identical version tags
p31899
aVand then add more as you strike individual problems
p31900
aVAnd I cannot stress this enough: automate your testing
p31901
aVYou will find that testing is a lot easier when you can just press a button and look over the results
p31902
aVEvery time you strike a bug, add a test which would have caught that bug to the test suite above and press the button to verify it
p31903
aVWe have our testing down to a fine art
p31904
aVWith one command, an entire process is put into place which blows away databases, loads them up with known data, runs our tests, compares the output with previous successful tests and so forth
p31905
aVIf we had to do all that manually whenever we made a change, we'd soon toss in the whole idea
p31906
aVBy automating everything, testing is a breeze
p31907
as(dp31908
g16
V14860
p31909
stp31910
a((dp31911
g2
(lp31912
VI'm pretty certain you have to specify the  before the index column that you're using:
p31913
aVThe doco referenced in that link states (MySQL 5
p31914
aV1):
p31915
aVand  is the  bit
p31916
aVFailing that, check that you have compatible versions on the source and destination server
p31917
aVThere was a patch which made the interpretation of that command a little more robust in terms of what order they should be in
p31918
aVOr you could remove the  altogether and use the server default method though you should understand the ramifications of that before choosing it as an option
p31919
as(dp31920
g16
V14860
p31921
stp31922
a((dp31923
g2
(lp31924
VDon't you mean
p31925
aVThere doesn't appear to be a  anywhere in the query other than in the  and  clauses where I'm assuming the error is occurring
p31926
aVFrom IBM's own  site:
p31927
aVFor a SELECT or DELETE statement, the specified column is not a column of any of the tables or views identified in a FROM clause in the statement
p31928
aVVerify that the names are specified correctly in the SQL statement
p31929
aVFor a SELECT statement, ensure that all the required tables are named in the FROM clause
p31930
as(dp31931
g16
V14860
p31932
stp31933
a((dp31934
g2
(lp31935
VThis isn't a problem specific to Objective C or the iPad family of devices
p31936
aVVariables should have the minimum "visibility" and "duration" that they need, and no more
p31937
aVYou would have to come up with some very convincing reasons for trying to get a global variable through our code review processes
p31938
aVThey're almost always able to be replaced with something a little more appropriate
p31939
aVIn response to your comment:
p31940
aVI don't know how global/class variable affects on memory
p31941
aVThere's a nice snippet over here which details how to do class level variables
p31942
aVThese are normal C file-scoped variables so they're not visible outside the file but you only get one for the class, not one for every object that you instantiate
p31943
aVIn that sense, they have the advantages of a global (minimal storage and the value is still accessible for reading) without the disadvantages (polluting the global name-space and making it possible for code outside of the class to change it)
p31944
aVAnd, if it doesn't need to be read outside of the file, just don't provide the  method
p31945
as(dp31946
g16
V14860
p31947
stp31948
a((dp31949
g2
(lp31950
VIf it's just the large amount of source code taken up with your  statements, you could opt for something like:
p31951
aVThis is nice and neat, doesn't take up a lot of screen real-estate and it's fairly easy to see the intent
p31952
aVOr, better yet, something like:
p31953
aVbecause the fields could be invalid and non-blank
p31954
aVYou can do the same thing with arrays and a  loop if you structure your data and controls differently but it may not be necessary for only fifteen items
p31955
aVCertainly if you were to add more, I'd give serious consideration to that option
p31956
aVAnd you may want to load the values directly into an array so that you don't need :
p31957
aVFor a minimal code solution, you can also create an array of the text boxes that you're pulling the information from
p31958
aVSomething like (untested):
p31959
as(dp31960
g16
V14860
p31961
stp31962
a((dp31963
g2
(lp31964
VFor data integrity, this is something that should be done at the DBMS end with an update and insert trigger
p31965
aVAny other method can be gotten around by malicious (or buggy) code
p31966
aVHow to get the actual value (and how to create the appropriate triggers) depends on the DBMS itself
p31967
aVDB2 provides ,  and  that you can use to insert the server time into the database, which is likely to be more consistent than hundreds of different client times
p31968
as(dp31969
g16
V14860
p31970
stp31971
a((dp31972
g2
(lp31973
VUsing bit wise operators like  and , you can't get the address of an arbitrary variable, no
p31974
aVAt some point, you have to use
p31975
aVIf you're talking about manipulating bits within one of the more basic types, there are (at least) two approaches you can take:
p31976
aVSpecify bit-field structures such as  where the number after the  is the number of bits; or
p31977
aVUse bitmasking tchniques like
p31978
as(dp31979
g16
V14860
p31980
stp31981
a((dp31982
g2
(lp31983
VAt least under Linux, signal handlers themselves are inherited but not the pending signals
p31984
aVQuoting the Linux  man page:
p31985
aVfork() creates a child process that differs from the parent process only in its PID and PPID, and in the fact that resource utilizations are set to 0
p31986
aVFile locks and pending signals are not inherited
p31987
aVThis makes sense since the signals belong to the (parent) process
p31988
aVThe newly created process is (mostly) a copy of the current process so signal handlers are preserved
p31989
aVAlthough not directly related, the -type call that often follows a  will destroy all signal handlers since a brand new executable is being loaded into the process (overwriting the functions currently servicing signals)
p31990
as(dp31991
g16
V14860
p31992
stp31993
a((dp31994
g2
(lp31995
VThe System class has a  and  that can be used to change the output stream to, for example, a new  with a backing  or, in this case, probably another stream which uses your logging subsystem of choice
p31996
aVKeep in mind you may well get yourself into trouble if you ever configure your logging library to output to standard output or error (of the infinite recursion type, possibly)
p31997
aVIf that's the case, you may want to just go and replace your -type statements with real logging calls
p31998
as(dp31999
g16
V14860
p32000
stp32001
a((dp32002
g2
(lp32003
VThis doesn't necessarily answer your question the way you want it answered (it's not in the comments section since my diatribe is probably going to be too long)
p32004
aVHowever, I think it may still be helpful
p32005
aVA couple of points
p32006
aVI think you should re-educate your clients on the benefits and costs of interrupts
p32007
aVInterrupts are a very efficient way of handling device control and, unless you're meticulous about your coding, you're unlikely to match the performance with non-interrupt-driven code
p32008
aVSecondly, using GPL software will give them full unrestricted rights to the software, it just won't allow them to restrict others
p32009
aVIf you mean they do want to restrict others then I'd be asking why they think they should have the right to use the labours of others without any give-back
p32010
aVYou may well be able to find a TCP stack under a more permissive licence than GPL (allowing them to effectively close-source it)
p32011
aVIf you have a C compiler for your FPGA, you can possibly look into uIP which has a very permissive licence from a brief look:
p32012
aVCopyright (c) 2001-2006, Adam Dunkels and the Swedish Institute of Computer Science
p32013
aVAll rights reserved
p32014
aVRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
p32015
aVRedistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer
p32016
aVRedistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution
p32017
aVThe name of the author may not be used to endorse or promote products derived from this software without specific prior written permission
p32018
aVTHIS SOFTWARE IS PROVIDED BY THE AUTHOR `AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
p32019
aVARE DISCLAIMED
p32020
aVIN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
p32021
aVGOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE
p32022
aVThat's it, no "must release under GPL" or any other viral clauses, and the only attribution is the inclusion of the copyright notice
p32023
as(dp32024
g16
V14860
p32025
stp32026
a((dp32027
g2
(lp32028
VWell, no, they're not contradictory, if only for the reason the sentences say "most" :-)
p32029
aVIn either case, where the order of operations does not affect the result, the compiler should be free to choose the most efficient method
p32030
aVNo matter how you slice and dice it,  is always equal to
p32031
aVConsider the statement:
p32032
aVThe compiler can choose whether is uses:
p32033
aVor even:
p32034
aVprovided that the results are the same (within the expected bounds of accuracy)
p32035
aVIn fact, provided the results are identical, even a statement like:
p32036
aVcan have its individual components moved around without an issue
p32037
aVIf the compiler can achieve the same ends with faster or smaller code, it should
p32038
aVLanguage standards tend to specify that a certain result has to be reached, not how that result is reached
p32039
as(dp32040
g16
V14860
p32041
stp32042
a((dp32043
g2
(lp32044
VPython has argument processing built in, with the  module
p32045
aVIt can handle long and short forms of arguments as well as "naked" and parameterised versions ( versus )
p32046
aVFor your specific use cases (with a little more), you'd probably be looking at something like:
p32047
aVI'm not sure off the top of my head if it allows multi-character single-hyphen variants like
p32048
aVI'd just use  and  myself to make my life easier
p32049
as(dp32050
g16
V14860
p32051
stp32052
a((dp32053
g2
(lp32054
VWell, you can just union them but, since one is a subset of the other, it's not strictly necessary:
p32055
aVThat will give you exactly the same results as if you had just run the second query on its own
p32056
aVThat will make sense once you realise that every single row from the first query has a  equal to , so it will match the first part of the  clause in the second query
p32057
aVIf you want duplicate rows for those returned in both queries, just use  instead of
p32058
aVIf you were using  as just a placeholder and its values are different in the two queries, then you have two approaches
p32059
aVUse a construct like:
p32060
aVor use the  solution I gave above, something like:
p32061
aV(use  when you know there is no possibility of duplicates between the two queries, - it will save the DBMS the trouble of removing non-existent duplicates - that's not the case with these queries)
p32062
aVThe  may give better performance on a DBMS that can hive off the two selects more easily to separate query engines (something that would be more difficult with a single query with a complex where clause)
p32063
aVOf course, as will all optimisations, measure, don't guess
p32064
as(dp32065
g16
V14860
p32066
stp32067
a((dp32068
g2
(lp32069
VThat's either  or  which will not do regular expressions
p32070
aVis identical to  but I prefer to not have to worry about the arguments, being intrinsically lazy :-)
p32071
as(dp32072
g16
V14860
p32073
stp32074
a((dp32075
g2
(lp32076
VIn common LISP, it looks like you can do:
p32077
aV(defun average (&rest; args)
p32078
aV(when args
p32079
aV(/ (apply #'+ args) (length args))))
p32080
aValthough I have no idea if  is available on all LISPs
p32081
aVReference here
p32082
aVPutting that code into GNU CLISP results in:
p32083
aV[1]> (defun average (&rest; args)
p32084
aV(when args
p32085
aV(/ (apply #'+ args) (length args))))
p32086
aVAVERAGE
p32087
aV[2]> (average 1 2 3 4 5 6)
p32088
aV7/2
p32089
aVwhich is 3
p32090
aV5 (correct)
p32091
as(dp32092
g16
V14860
p32093
stp32094
a((dp32095
g2
(lp32096
VThat's actually very annoying, but not so unexpected for those of us bought up in a pre-x86 world :-)
p32097
aVThe only reason that comes to mind (and this is pure speculation) is that the compiler is "fixing" your code to ensure that the data types are aligned correctly but the  mismatches are causing problems
p32098
aVI seem to recall that ARM6 architecture relaxed some of the rules for some data types but never got a good look at it because the decision was made to go with a different CPU
p32099
aV(Update: this is actually controlled by a register setting (hence probably the software) so I guess even modern CPUs can still complain bitterly about the misalignments)
p32100
aVThe first thing I would do would be to have a look at the generated assembly to see if the compiler is padding your short to align the next (actual) data type (that would be impressive) or (more likely) pre-padding the actual data type before writing it
p32101
aVSecondly, find out what the actual alignment requirement are for the Cortex A8 which I think is the core used in the IPhone4
p32102
aVTwo possible solutions:
p32103
aV1/ You may have to cast each type into a  array and transfer the characters one at a time - this should hopefully avoid the alignment issues but may have a performance impact
p32104
aVUse of  would probably be best since it will no doubt be coded to take advantage of the underlying CPU already (such as transferring four-byte chunks where possible with one-byte chunks at the start and end)
p32105
aV2/ For those data types that don't want to be put immediately after a , add enough padding after that  to ensure they align correctly
p32106
aVFor example, something like:
p32107
aVwhich should advance  to the next properly aligned location before attempting to store the value
p32108
aVYou'll need to do the same reading it back later (I'm assuming the short is indicative of the data being stored so you can tell what data type it is)
p32109
aVPutting the final solution from OP in the answer for completeness (so people don't have to check the comments):
p32110
aVFirst, the assembly (on Xcode, ) shows that the  instruction is used when handling 8 bytes of data (i
p32111
ag75
aV, ), instead of the  instruction
p32112
aVNext, section "A3
p32113
ag2836
aV1 Unaligned data access" of the "ARM Architecture Reference Manual ARMv7-A" (the architecture corresponding to Cortex A8) states that  does not support unaligned data access while  does (depending on certain registry settings)
p32114
aVSo, the problem was the size of  and misalignment
p32115
aVAs for the solution, one-char-at-a-time is working, as a starter
p32116
as(dp32117
g16
V14860
p32118
stp32119
a((dp32120
g2
(lp32121
VBIRT works for us
p32122
aVIt's one of the core Eclipse products and we use it for the web reporting side of our product (currently shipping over 500 reports)
p32123
aVHead on over to Eclipse BIRT and check out the doco and samples, they're comprehensive
p32124
aVThe BIRT newsgroup is also very active
p32125
aVIt has many output formats (PDF, Excel, HTML, etc) and you can schedule reports to be run using normal schedulers (it has a CLI interface)
p32126
aVThe running and rendering of reports can be different phases so you can generate just the report data and render it later in any form you want
p32127
aVIn addition, it has full Java and Javascript control over the report object model (report equivalent to the web browser DOMs that allow you to do all those fancy web tricks)
p32128
aVWe've written quite a bit of Javascript to make the reports more interactive (standard reports have interactivity, it's just that you can do some much more once you start running code within the report itself)
p32129
aVThe web (HTML) aspect really shines (even though you don't seem that interested)
p32130
aVThe ability to drill down through hot links is a very good selling point
p32131
aVAs to its ability to last four years, it's hard to say but, given that it's been around for at least four years already (and that was 2
p32132
aV0), it's not a fly-by-night operation
p32133
aVAnd, on top of all that, it does pretty colours and charts as well
p32134
aVAnyway, I hope you've enjoyed my advertorial, feel free to ask any questions you want and I'll try to answer them, or refer them for our more technically minded specialists :-)
p32135
as(dp32136
g16
V14860
p32137
stp32138
a((dp32139
g2
(lp32140
VIf you want an executable to run, use Windows Scheduled Tasks
p32141
aVI'm going to assume (perhaps erroneously) that you want a method to run in your current program
p32142
aVWhy not just have a thread running continuously storing the last date that the method was called
p32143
aVHave it wake up every minute (for example) and, if the current time is greater than the specified time and the last date stored is not the current date, call the method then update the date
p32144
as(dp32145
g16
V14860
p32146
stp32147
a((dp32148
g2
(lp32149
VI would actually make a user ID a character type since I'd rather log in as "pax" than 14860
p32150
aVHowever, if it has to be numeric (such as if you want the name to be changed easily or you want to minimise storage for foreign keys to the user table), an integer should be fine
p32151
aVJust how many users are you expecting to have
p32152
aV:-)
p32153
aVI would always use  for character data since I know that's supported on all SQL databases (or at least the ones that matter)
p32154
aVI prefer to stay with the standards as much as possible so moving between databases is easier
p32155
as(dp32156
g16
V14860
p32157
stp32158
a((dp32159
g2
(lp32160
VExclusive or between two bits means that the result is 1 if one and only one bit is 1
p32161
aVThe truth table is:
p32162
aVWhen you talk about xoring a larger value, it's just taking each bit one at a time, so:
p32163
aVFor what it's worth, a full list of binary operations:
p32164
aV, 1 only if both its inputs are 1, else 0
p32165
aV, 0 only if both its inputs are 0, else 1
p32166
aV, 1 only if one (not both) of its inputs is 1, else 0
p32167
aV, 1 only if its input is 0, else 1
p32168
aVAnd the truth tables:
p32169
as(dp32170
g16
V14860
p32171
stp32172
a((dp32173
g2
(lp32174
VI'm pretty certain it just means that a task takes two clocks in unit 0 the second time through
p32175
aVThe fact that it takes seven clocks in total alludes to this, 1 in unit0, 1 in unit1, 1 in unit2, 1 in unit3, 2 more in unit0 and finally 1 in unit4
p32176
aVIt may well just be a contrived example so that there was a conflict when shifting by one clock (the author had to do something to ensure that task 2 would catch up to task 1 and that seems the easiest solution) or unit0 may well be a non-linear processor of some sort
p32177
aVAnother example would have been trying to pump in a task at the point where the previous task was re-entering unit0
p32178
aVWhat they're trying to show is that, given a maximum duration within a unit of  cycles in a pipeline, you have to limit your injections of work to one every  cycles to be sure of no conflict
p32179
aVMy bet (based on the small number of authors I know) would be on the author doing the minimal amount of work to describe the problem :-)
p32180
as(dp32181
g16
V14860
p32182
stp32183
a((dp32184
g2
(lp32185
VOkay, assuming ASCII which is by no means guaranteed,  is  () and  is  ():
p32186
aVHow it works:
p32187
aVsimply means shift the bits  spaces to the left,  is the same but shifting to the right
p32188
aVThe  () operation will set each bit of the result to 1 if and only if the corresponding bit in both inputs is 1
p32189
aVThe  () operations sets each bit of the result to 1 if one or more of the corresponding bit in both inputs is 1
p32190
aVNote that the 0x1862 will be truncated to fit into  if it's type is not wide enough
p32191
aVThe folowing C program shows this in action:
p32192
aVIt outputs:
p32193
aVand, when you change  to a char array, you get:
p32194
as(dp32195
g16
V14860
p32196
stp32197
a((dp32198
g2
(lp32199
VIt (your original snippet, the  method)  looks like a thread whose sole task it is to just repaint the component every tenth of a second
p32200
aVAs to what component it refers to, you haven't provided enough information
p32201
aVIt depends on the object that the  is running for
p32202
aVIn terms of the  bit, this is most likely a way to prevent other threads doing stuff to the component while this thread is within the
p32203
aVIf  is the object , then any other thread trying to execute a block like:
p32204
aVwill not be able to run while the  is progressing
p32205
aVBy the way, if you use four spaces at the start of each code line (instead of ), you get the nice syntax colouring as well
p32206
aVIf you just mark the entire bit of code in the editor and use CTRLK, it will do it for you automagicaly
p32207
aVAnd, in terms of your update, SlideMenu (picture on this page) appears to be a menu where one item is shown on the screen and left/right arrows allow you to scroll:
p32208
aV(forgive my pitiful graphic ability, I'll leave it there in case the link below ever disappears)
p32209
aVNo doubt the images in the  ate the menu items to display
p32210
aVWith that in mind, the other things make sense
p32211
aV, I've already described
p32212
aVis called to display the new menu in response to the  getting a paint request
p32213
aVslides the menu left or right depending on the argument
p32214
aVThe 100ms makes more sense now, if the image actually scrolls smoothly to the left or right
p32215
as(dp32216
g16
V14860
p32217
stp32218
a((dp32219
g2
(lp32220
VNo, I suspect that, if you use an index, it will actually go slower
p32221
aVThat's because it has to update the index as well as inserting the data
p32222
aVIf you're reasonably certain that the data won't have duplicate keys, add the index after you've inserted all the rows
p32223
aVThat way, it built once rather than being added to and re-balanced on every insert
p32224
aVThat's a function of the DBMS
p32225
aVI know it's true for the one I use frequently (which is not SQLServer)
p32226
as(dp32227
g16
V14860
p32228
stp32229
a((dp32230
g2
(lp32231
VIn my opinion, you should probably not be performance-testing your debug release
p32232
aVSave the debug release for unit testing so you can easily find problems but real testing (functionality and performance) should probably be on the release version
p32233
aVThat's what your customers will be running after all, right
p32234
as(dp32235
g16
V14860
p32236
stp32237
a((dp32238
g2
(lp32239
VIn your main function, your passed a string array which contains arguments
p32240
aVThe Java tutorial has a program that shows you how this works:
p32241
aVBut this is only for arguments given to your code
p32242
aVThose particular ones you've shown are given to the Java interpreter itself and you can use  to access them:
p32243
as(dp32244
g16
V14860
p32245
stp32246
a((dp32247
g2
(lp32248
VFrom the details here:
p32249
aVExcess-N notation is simply a way of representing number where  is the zero point
p32250
aVYou simply subtract the zero point from the encoded numbers to get the real numbers
p32251
aVFor a 16-bit excess representation, the zero point is 215 or 32768
p32252
aVTherefore,  would be represented as , which is 3328310, 0x8203 or binary
p32253
aVSimilarly, -515 would be represented as , which is 3325310, 0x7dfd or binary
p32254
as(dp32255
g16
V14860
p32256
stp32257
a((dp32258
g2
(lp32259
VI have no idea where you got the idea that that string of yours is a base64-encoded version of your XML
p32260
aVIf you pass the first bit of it () through  then , you get:
p32261
aVat the start, which is nothing like your string
p32262
aVIn fact, your first four characters "fZJN" are values 31, 25, 9 and 13 in base 64 so will give you:
p32263
aVthen, grouping them in octets instead of sextets (I guess that's the right word):
p32264
aVwhich are not the characters you're expecting to see
p32265
aVPutting the whole string in gives you:
p32266
aVPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4gPHNhbWxw
p32267
aVOkF1dGhuUmVxdWVzdCB4bWxuczpzYW1scD0idXJuOm9hc2lzOm5hbWVzOnRj
p32268
aVOlNBTUw6Mi4wOnByb3RvY29sIiBJRD0iYWdkb2JqY2Zpa25lb21tZmphbWRj
p32269
aVbGVuamNwY2ptZ2RnYm1wZ2ptbyIgVmVyc2lvbj0iMi4wIiBJc3N1ZUluc3Rh
p32270
aVbnQ9IjIwMDctMDQtMjZUMTM6NTE6NTZaIiBQcm90b2NvbEJpbmRpbmc9InVy
p32271
aVbjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpiaW5kaW5nczpIVFRQLVBPU1Qi
p32272
aVIFByb3ZpZGVyTmFtZT0iZ29vZ2xlLmNvbSIgQXNzZXJ0aW9uQ29uc3VtZXJT
p32273
aVZXJ2aWNlVVJMPSJodHRwczovL3d3dy5nb29nbGUuY29tL2Evc29sd2ViLm5v
p32274
aVL2FjcyIgSXNQYXNzaXZlPSJ0cnVlIj48c2FtbDpJc3N1ZXIgeG1sbnM6c2Ft
p32275
aVbD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiI+Z29v
p32276
aVZ2xlLmNvbTwvc2FtbDpJc3N1ZXI+PHNhbWxwOk5hbWVJRFBvbGljeSBBbGxv
p32277
aVd0NyZWF0ZT0idHJ1ZSIgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FN
p32278
aVTDoyLjA6bmFtZWlkLWZvcm1hdDp1bnNwZWNpZmllZCIgLz48L3NhbWxwOkF1
p32279
aVdGhuUmVxdWVzdD4=
p32280
aVWhen you escape that, you get:
p32281
aVSo, the bottom line is that you're getting junk from the decode because the data is not of the correct format
p32282
as(dp32283
g16
V14860
p32284
stp32285
a((dp32286
g2
(lp32287
VUp to a point, yes (though in C, you could convert it to Java - it would look much uglier)
p32288
aVwhich produces:
p32289
aV:-)
p32290
aVThe real question, of course, is: Why would you want to
p32291
as(dp32292
g16
V14860
p32293
stp32294
a((dp32295
g2
(lp32296
VYou should not have spaces on either side of the  in your  statements
p32297
aVUse:
p32298
aVwhich produces what you want:
p32299
as(dp32300
g16
V14860
p32301
stp32302
a((dp32303
g2
(lp32304
VIf you want to make your database scalable, the best approach will be to add a new column  along with an insert/update trigger which sets that to the latest of the two candidate fields using, for example, greatest
p32305
aVRunning per-row functions on your selects slows down very fast as the table gets bigger
p32306
aVIf you want performance to stay workable as the table grows, this sort of trick is a common one
p32307
aVIt technically violates 3NF since it duplicates one of the dates but violation is okay for performance reasons and you still maintain the ACID properties because the triggers dictate that the columns stay consistent
p32308
aVI don't know the MySQL trigger syntax off the top of my head (I'm a DB2 man myself) but I would do the following:
p32309
aVCreate the new column, setting it to a suitable default value
p32310
aVCreate the insert/update triggers to ensure changes will be reflected
p32311
aVTouch all the rows with a query like  so that the trigger fires for all current rows
p32312
aVThe advantage this solution has is that it moves the cost of calculation to the time when data changes, not every single time you query the database
p32313
aVThis amortises the cost across all reads, making it more efficient (unless you're one of those very rare beasts where the table is written more often than read)
p32314
aVKeep in mind this may not be necessary if the size of your table is relatively small - I work in environments where the tables are truly huge
p32315
as(dp32316
g16
V14860
p32317
stp32318
a((dp32319
g2
(lp32320
VYou need to find a better way of doing this
p32321
aVNot because it's technically hard (it is) but because your users will track you down and beat you to death if they have to scroll through a drop-down list containig a million items
p32322
aVAs examples, people in the world can be separated alphabetically (six billion people separated based on the first five characters will give you 500 items on average per group) or by geographical region
p32323
aVKeratin molecules I don't know about but I'mm pretty sure from what I remember of my high school chemistry that it was full of hierarchies
p32324
as(dp32325
g16
V14860
p32326
stp32327
a((dp32328
g2
(lp32329
VHere's one:
p32330
aVThen, you check to make sure all the new files in  are okay before you copy them back over the originals manually:
p32331
aVThat last paragraphe is important
p32332
aVI don't care how long I've been writing scripts, I always assume my first attempt will screw up and possible trash my files :-)
p32333
as(dp32334
g16
V14860
p32335
stp32336
a((dp32337
g2
(lp32338
VThere are a few approaches you can take, one of which involves storing a  in your ADT
p32339
aVI've always found this to be a bit of a pain in a linked list since you have to manage it's allocation separately to the list itself
p32340
aVIn other words, to allocate a node, you need to alocate both the node and its payload separately (and remember to clean them both up on deletion as well)
p32341
aVOne approach I've used in the past is to have a 'variable sized' structure like:
p32342
aVNow that doesn't look variable sized but let's allocate a structure thus:
p32343
aVNow you have a node that, for all intents and purposes, looks like this:
p32344
aVor, in graphical form (where  means  bytes):
p32345
aVThat is, assuming you know how to address the payload correctly
p32346
aVThis can be done as follows:
p32347
aVThat cast line simply casts the address of the  character (in the  type) to be an address of the actual  payload type
p32348
aVUsing this method, you can carry any payload type you want in a node, even different payload types in each node, if you make the structure more like:
p32349
aVand use  to store an indicator as to what the payload actually is
p32350
aVThis has the advantage over a union in that it doesn't waste space, as can be seen with the following:
p32351
aVwhere 96 bytes are wasted every time you store an integer type in the list (for a 4-byte integer)
p32352
aVThe payload type in the  allows you to easily detect what type of payload this node is carrying, so your code can decide how to process it
p32353
aVYou can use something along the lines of:
p32354
aVor (probably better):
p32355
aVThe only thing you need to watch out for is to ensure that the alignment of the payload is correct
p32356
aVSince both my payload placeholder and the payload are all  types, that's not an issue
p32357
aVHowever, if your payload consists of types with more stringent alignment requirements (such as something more strict than the pointers, you may need to adjust for it)
p32358
aVWhile I've never seen an environment with alignments more strict than pointers, it is possible according to the ISO C standard
p32359
aVYou can usually get the required alignment simply by using a data type for the payload placeholder which has the strictest alignment requirement such as:
p32360
aVIn retrospect, it occurs to me that you probably don't need an array as the payload placeholder
p32361
aVIt's simple enough to just have something you can take the address of
p32362
aVI suspect that particular idiom of mine hearkens back to the days where I just stored an array of characters (rather than a structure) and referenced them directly
p32363
aVIn that case, you could use  on its own without casting to another type
p32364
as(dp32365
g16
V14860
p32366
stp32367
a((dp32368
g2
(lp32369
VAfter this code has executed, exactly none, since it will have exited :-)
p32370
aVIf you mean at the point just before exit, there's a reference on the stack to your circle and a reference in your circle to the second point, assuming the constructor stores it
p32371
as(dp32372
g16
V14860
p32373
stp32374
a((dp32375
g2
(lp32376
VThere is usually overhead with any single memory allocation
p32377
aVNow this is from my knowledge of  rather than  but I suspect it's the same
p32378
aVA section of the memory arena, when carved out for an allocation of (say) 30 bytes, will typically have a header (e
p32379
ag1775
aV, 16 bytes, and all figures like that are examples only below, they may be different) and may be padded to a multiple of 16 bytes for easier arena management
p32380
aVThe header is usually important to allow the section to be re-integrated into the free memory pool when you're finished with it
p32381
aVIt contains information about the size of the block at a bare minimum and may have memory guards as well (to detect corruption of the arena)
p32382
aVSo, when you allocate your one million structure array, you'll find that it uses an extra 16 bytes for the header (four million and sixteen bytes)
p32383
aVWhen you try to allocate one million individual structures, each and every one of them will have that overhead
p32384
aVI answered a related question here with more details
p32385
aVI suspect there will be more required header information for C++ since it will probably have to store the number of items over and above the section size (for proper destructor calls) but that's just supposition on my part
p32386
aVIt doesn't affect the fact that accounting information of some sort is needed per allocated item
p32387
aVIf you really want to see what the space is being used for, you'll need to dig through the MSVC runtime source code
p32388
as(dp32389
g16
V14860
p32390
stp32391
a((dp32392
g2
(lp32393
VIf this is real 8086 (i
p32394
ag75
aV, segmented architecture), what is  set to at the point where you do the subtraction
p32395
aVThe the first thing that springs to mind, that you may be changing a totally different memory location
p32396
aVOn top of that, you should provide:
p32397
aVthe shortest possible complete program that exhibits the problematic behaviour (and you may find you solve your own problem while doing this - I frequently do)
p32398
aVthe actual incorrect values that  is being set to, in both cases
p32399
as(dp32400
g16
V14860
p32401
stp32402
a((dp32403
g2
(lp32404
VWhat I tend to do in those cases, if the DBMS doesn't provide an easy way to do it, is to simply write a script that will do it for me
p32405
aVSomething like:
p32406
aVThat's  type format, you'll need to adapt for whatever scripting tool you use
p32407
as(dp32408
g16
V14860
p32409
stp32410
a((dp32411
g2
(lp32412
VChoose how much you value your time
p32413
aVI value mine at $100 per hour
p32414
aVWhatever figure you choose, you should stick to it
p32415
aVIf you had a perfectly good setup using Komodo and it cost, for example, $300 per year, I wouldn't even think about changing that if it was going to take me three hours or more to get another solution running
p32416
aVIn that case, the best way is to fork out for another licence
p32417
aVIf you're developing software for (non-free-as-in-beer) distribution, you should easily recoup that each year (otherwise you need to rethink your business strategy)
p32418
aVIf you're developing hobbyist software (or stuff for yourself), why would you even need it as an executable
p32419
aVIf you're hell-bent on a free solution (and it's only free if your time is worthless), no less a guru than Randal Schwartz himself has said you should probably not use perl2exe
p32420
aVOne possibility is to use , the PAR Packer, which is part of the PAR stuff that Randal suggests you look at
p32421
as(dp32422
g16
V14860
p32423
stp32424
a((dp32425
g2
(lp32426
V is the simplest way to call external programs
p32427
aVIt's a matter of doing something like:
p32428
aVThe Win32 API has a lot of process control calls as well, which give you better control and monitoring
p32429
aVLook for  and its brethren
p32430
as(dp32431
g16
V14860
p32432
stp32433
a((dp32434
g2
(lp32435
VThe safest way to allocate memory is to simply learn how it works properly
p32436
aVIf you want a safe language, use a safe one
p32437
aVJava has automated garbage collection, for one
p32438
aVIf you want to use C, your best bet is to embrace it in all its glory
p32439
aVYou probably will be burnt at some point but, with pain, comes experience
p32440
aVOne thing I've always found useful for students is to think of every allocation as having one peice of extra information, the responsibility
p32441
aVYou pass responsibility for a memory block around with the memory itself and whoever is the last man given the responsibility is the one that must free it
p32442
aVIn addition, no two pieces of code can have reponsibility at the same time
p32443
aVIn other words, when you pass memory to another party, you are not allowed to touch it until it's given back
p32444
as(dp32445
g16
V14860
p32446
stp32447
a((dp32448
g2
(lp32449
VThe inverse of exponentiation is the logarithm
p32450
aVIf , then
p32451
aVYou can find logarithm in the  module
p32452
aVThis is logarithm base-e () or base-10 ()
p32453
aVTo get a logarithm to base-N, use the formula:
p32454
aVwhere  is a value such as  or
p32455
aVFor your specific case:
p32456
aVWhether you consider the explanation good because it expands your knowledge, or bad because you hated high school math, is entirely up to you :-)
p32457
as(dp32458
g16
V14860
p32459
stp32460
a((dp32461
g2
(lp32462
VI find it hard (but not impossible) to believe that any other check on  would be faster than
p32463
aVOne possibility is if this is a function
p32464
aVThere is an overhead with calling functions, sometimes substantial, especially if the function itself is relatively small
p32465
aVYou could take advantage of the fact that the bit patterns for IEEE754 NaNs are well known and just do some bit checks (without calling a function to do it) - this would remove that overhead
p32466
aVIn C, I'd try that with a macro
p32467
aVWhere the exponent bits are all 1 and the mantissa bits are not all 0, that's a NaN (signalling or quiet is decided by the sign bit but you're probably not concerned with that)
p32468
aVIn addition, NaNs are never equal to one another so you could test for equality between  and itself - false means it's a NaN
p32469
aVAnother possibility may be workable if the array is used more often than it's changed
p32470
aVMaintain another array of booleans which indicate whether or not the associated double is a NaN
p32471
aVThen, whenever one of the doubles changes, compute the associated boolean
p32472
aVThen your function becomes:
p32473
aVThis is the same sort of "trick" used in databases where you pre-compute values only when the data changes rather than every time you read it out
p32474
aVIf you're in a situation where the data is being used a lot more than being changed, it's a good optimisation to look into (most algorithms can trade off space for time)
p32475
aVBut remember the optimisation mantra: Measure, don't guess
p32476
as(dp32477
g16
V14860
p32478
stp32479
a((dp32480
g2
(lp32481
VYes, you can quote them for simple things:
p32482
aVand pipe the output through  for complex things:
p32483
aVThe  puts stdout and stderr onto the stdout stream and the  replaces every start-of-line marker with three spaces
p32484
aVHow well this will work on something like  which does all sorts of cursor manipulations I'm not sure
p32485
aVExample shown here:
p32486
aVOne trick I've used in the past is to ensure that the scripts themselves take care of the indentation:
p32487
aVThis will re-run the script with indentation through  if it's not already doing so
p32488
aVThat way, you don't have to worry about changing all your output statements
p32489
aVA bit of a hack, I know, but I tend to just do what's necessary for quick-and-dirty shell scripts
p32490
as(dp32491
g16
V14860
p32492
stp32493
a((dp32494
g2
(lp32495
VIf it's a doubly linked list, you shouldn't need to change any pointers at all
p32496
aVJust swap over the payloads:
p32497
aVIf by back sentinel you mean the  pointer (as in no first pointer is available), then you need to step backwards throw the deque to find it
p32498
aVIt's hard to believe however that this would be the case since it would be a fairly inefficient deque (which is supposed to be a double ended queue)
p32499
as(dp32500
g16
V14860
p32501
stp32502
a((dp32503
g2
(lp32504
VWell, MySQL has regular expressions but I would like to ask you what the problem is with multiple LIKEs
p32505
aVI know it won't scale well when tables get really large but that's rarely a concern for the people using MySQL (not meaning to be disparaging to MySQL there, it's just that I've noticed a lot of people seem to use it for small databases, leaving large ones to the likes of Oracle, DB2 or SQLServer (or NoSQL where ACID properties aren't so important))
p32506
aVIf, as you say:
p32507
aVI plan to use it for really large sites
p32508
aVthen you should avoid LIKE altogether
p32509
aVAnd, if you cannot use full text search, you'll need to roll your own solution
p32510
aVOne approach we've used in the past is to use insert/update/delete triggers on the table to populate yet another table
p32511
aVThe insert/update trigger should:
p32512
aVevaluate the string in question;
p32513
aVseparate it into words;
p32514
aVthrow away inconsequential words (all-numerics, noise words like 'at', 'the', 'to', and so on); then
p32515
aVadd those words to a table which a marker to the row in the original table
p32516
aVThen use that table for searching, almost certainly much faster than multiple LIKEs
p32517
aVIt's basically a roll-your-own sort-of-full text search where you can fine-tune and control what actually should be indexed
p32518
aVThe advantage of this is speed during the select process with a minor cost during the update process
p32519
aVKeep in mind this is best for tables that are read more often than written (most of them) since it amortises the cost of indexing the individual words across all reads
p32520
aVThere's no point in incurring that cost on every read, better to do it only when the data changes
p32521
aVAnd, by the way, the delete trigger will simply delete all entries in the indexing table which refer to the real record
p32522
aVThe table structures would be something like:
p32523
aVSetting the many-to-many relationship to id-id (i
p32524
ag75
aV, separate Words and WordsInComments tables) instead of id-text (combining them into one) is the correct thing to do for third normal form but you may want to look at trading off storage space for speed and combining them, provided you understand the implications
p32525
as(dp32526
g16
V14860
p32527
stp32528
a((dp32529
g2
(lp32530
VTwo things to check for
p32531
aVNumber one, did it actually succeed
p32532
aVFrom the docs:
p32533
aVReturn Value
p32534
aVIf the function succeeds, the return value is an open handle to the specified file, device, named pipe, or mail slot
p32535
aVIf the function fails, the return value is
p32536
aVTo get extended error information, call
p32537
aVNumber two, are you looking in the right place
p32538
aVFrequently, people who run their code from within an IDE don't realise that their current working directory is not always what they think it is
p32539
aVYou can  or something similar to see what it actually is
p32540
aVOr, you can use absolute pathnames to ensure the file is being created at the right place (for testing, that is - you should never use absolute paths for production code)
p32541
aVIf neither of those two suggestions help, you should post the code that shows the particular problem
p32542
aVPreferably enough so that we don't have to come back and ask for more
p32543
as(dp32544
g16
V14860
p32545
stp32546
a((dp32547
g2
(lp32548
VThe  and  markers are meant to provide a way to identify the start and end of a string, primarily for multi-line strings
p32549
aVIf you're processing one line at a time (which is mostly, but not completely, the case with UNIXy text processing tools), you could simply use  and  because start/end of string is the same as start/end of line
p32550
aVFor example, the single string:
p32551
aVwould have two matches for , one before  and one between  and
p32552
aVIt would only have one match for , before
p32553
as(dp32554
g16
V14860
p32555
stp32556
a((dp32557
g2
(lp32558
VSure, try this one:
p32559
aVThis has the advantage of fixing the bug where the King's English is not used properly :-)
p32560
as(dp32561
g16
V14860
p32562
stp32563
a((dp32564
g2
(lp32565
VAssuming that's VB
p32566
aVNet, you need to escape the :
p32567
aVIn
p32568
aVNet regular expressions, parentheses are the grouping characters
p32569
aVIf, as you say, the word 'Serial)' is generated dynamically, you will have to escape it before passing it to the RE engine:
p32570
aVAs one other answerer has posted, this won't match  (for example) since there's no  between the  and space ( only exists between  and  characters and both  and a space are )
p32571
aVYou may have to resort to an ugly hack like:
p32572
aVI thought that maybe you could match a character class consisting of ( or ) and  along the lines of:
p32573
aVbut this doesn't appear to work based on the regex tester here so you may have to go for the ugly hack version or you could combine them into a single regex as in:
p32574
as(dp32575
g16
V14860
p32576
stp32577
a((dp32578
g2
(lp32579
VAssuming you don't have a z10 EC and licences to use DB2/z at home, first step is to get DB2/LUW (the Linux/Unix/Windows version)
p32580
aVThe Express edition is here
p32581
aVThen head on over to publib, the first site anyone should go to for IBM product related information
p32582
aVAnd the Redbooks are another very good source of information
p32583
aVIBM employees frequently get time off to do these (I say "time off" but it's actually very gruelling, believe me)
p32584
aVAs for the mainframe product, it's not always an exact match for LUW but it is close
p32585
aVStored procedures can be written in any of the languages available on the mainframe (we mostly use REXX) and I think you can also use all the UNIX (USS) toolchain as well if you'd prefer bash, Perl and tools you may be more familiar with
p32586
as(dp32587
g16
V14860
p32588
stp32589
a((dp32590
g2
(lp32591
VYou need GMP, the GNU multi-precision library
p32592
aVSeriously, don't re-invent the wheel
p32593
as(dp32594
g16
V14860
p32595
stp32596
a((dp32597
g2
(lp32598
VWhen something runs from the command line but refuses to do so within , it's often an environment issue (path or some other environment variable that's needed by the code you're running)
p32599
aVFor a start you should modify the script to output the current environment (
p32600
aVat the very top and examine the output from the command line and cron
p32601
aVHopefully, there will be something obvious such as  but, if not, you should move the cron environment towards your command line one, one variable at a time, until it starts working
p32602
aVA quick test to ascertain this
p32603
aVFrom your command line, do:
p32604
aVThen run your PHP script from a shell script which first executes:
p32605
aVso that the environments are identical
p32606
aVAnd keep in mind that  on its own doesn't give you the same environment as you'd get from logging in directly as a specific user ( does, I think)
p32607
aVYou may want to check the behaviour for when you log in as root directly
p32608
aVRe your comment:
p32609
aVYes, I do believe you've got it
p32610
aVI'm likely going to mark your answer as correct but need you to suffer through a few addendums about your clever solution
p32611
aVFirst of all, what's the best way to execute the pax_env
p32612
aVsh script
p32613
aVDoes shell_exec() work
p32614
aVNever let it be said I didn't work for my money :-) No
p32615
aVThe  will almost certainly be running a sub-shell so the variables would be set in that sub-shell but would not affect the PHP parent process
p32616
aVMy advice, if you wanted all those variables set, would be to create a shell-script consisting of all the commands in  (probably prefixing each with ) followed by the command you currently have running in , something along the lines of:
p32617
aVThen run that script from  rather than  directly
p32618
aVThat will ensure the environment is set up before your PHP code is called
p32619
aVAstute readers will have noticed the phrase "if you wanted all those variables set" above
p32620
aVI don't personally think it's a good idea to dump all your command line variables into the shell script for the  job
p32621
aVI'd prefer to actually find out which ones are needed and only include those
p32622
aVThat lessens the pollution your cron job has to run under
p32623
aVFor example, it's unlikely that the  prompt variables will be required for your PHP script
p32624
aVIf it works, you can set all the environment variables - I just prefer the absolute minimum so I don't have to worry too much when things change
p32625
aVA way of finding out what's needed is to comment out one  at a time until your script breaks again
p32626
aVThen you know that variable is needed
p32627
aVOnce it works with the maximum amount of  statements commented out, you can just delete those commented export statements altogether and what remains, however improbable, must be okay (with apologies to Sir Arthur Conan Doyle)
p32628
as(dp32629
g16
V14860
p32630
stp32631
a((dp32632
g2
(lp32633
VUsing  (or  on data you don't control) with a standard "%s" specifier is a near-certain way to get yourself into trouble with buffer overflows
p32634
aVThe classic example is that it I enter the string "This string is way more than 10 characters" into your program, chaos will ensue, cats and dogs will begin sleeping together and a naked singularity may well appear and consume the Earth (most people just state "undefined behaviour" but I think my description is better)
p32635
aVI actively discourage the use of functions that cannot provide protection
p32636
aVI would urge you (especially as a newcomer to C) to use  to read your input since you can control buffer overflows with it a lot easier, and it's more suited to simple line input than
p32637
aVOnce you have a line, you can then call  on it to your heart's content which, by the way, you don't need to do in this particular case since you're only getting a raw string anyway
p32638
aVI would use:
p32639
as(dp32640
g16
V14860
p32641
stp32642
a((dp32643
g2
(lp32644
VWell, since errors generally occur while doing something, your best bet is to look up the  page for "something"
p32645
aVFor example, if you get back an  of 34 from your  call, you would first do:
p32646
aVto figure out what the error was:
p32647
aVThen, looking at the  page for , you see:
p32648
aVand you would (hopefully) be able to figure it out from there
p32649
aVIf you want a list of the errors and (brief) description, modify the  above as follows:
p32650
aVand browse the output
p32651
aVAnd, if you still don't know about the error and what caused it (the descriptions are a little terse, I'll agree), I would just bung it (e
p32652
ag1775
aV, ) into that little dialog box in the top right corner of your browser1 and you'll get back something like this (or many other wonderful pages):
p32653
aVCannot assign requested address
p32654
aVYou are attempting to  to a local address that isn't local
p32655
aVFor example if the IP addresses of a machine are  and  and you're trying to bind to , you are going to get this error
p32656
aVCheck to make sure the address you are trying to bind to exists on the machine you are trying to bind it from
p32657
aVThis error can also come up if you're doing a "pre-bound connect", where you're first binding to a local port, then doing an outbound connect with a socket
p32658
aVIf the local port is already connected to the given remote IP and port (i
p32659
ag75
aV, there's already an identical socketpair), you'll receive this error (value = 99 on Linux)
p32660
aV4 pages link to :
p32661
aV-bind(2)
p32662
aV-connect(2)
p32663
aV-setsockopt(2)
p32664
aV-packet(7)
p32665
aVGo ahead, try it with other error values as well, it's not too bad
p32666
aV1 You are using Firefox, right
p32667
aV:-)
p32668
as(dp32669
g16
V14860
p32670
stp32671
a((dp32672
g2
(lp32673
VWell, think about it (and this is important - it's your homework and you need to understand)
p32674
aVBased on your description (your actual RE is in a very strange form BTW, nothing like any RE format I've used - in more regular RE language, it would be ), there is no reject condition unless you have implicit anchors at the start and end of the string (in that case,  would be rejected)
p32675
aVThe fact that all of your constraints are "zero or more" means that any string will pass
p32676
as(dp32677
g16
V14860
p32678
stp32679
a((dp32680
g2
(lp32681
VThe C++ standard defers to the C standard for  and  (see section 26
p32682
aV8 of C++0x):
p32683
aVThe  function has the semantics specified in the C standard, except that the implementation may specify that particular library functions may call
p32684
aVThe C standard (7
p32685
aV20
p32686
ag2836
aV2 of C99) states quite categorically:
p32687
aVIf  is called before any calls to  have been made, the same sequence shall be generated as when  is first called with a seed value of 1
p32688
aVSo the first time you call , the seed is 1
p32689
aVIt's also 1 the third time you call it which is why you get the same value
p32690
aVThe second time that you called , the seed had been set based on the current time, which is why you got a different result
p32691
aVIt's usually not a good idea to re-seed the random number generator unless you actually want the same sequence (such as in testing)
p32692
as(dp32693
g16
V14860
p32694
stp32695
a((dp32696
g2
(lp32697
VYes, you can, just as you can with just about any decent language
p32698
aVJava is a fairly complete language with many data structures built into the standard library
p32699
aVIn fact, I implemented an micro-processor assembler and emulator in it a few years back (actually I implemented it in Python then ported it to Java but I could have just as easily done it in Java to start with)
p32700
aVAll you have to do is get your object model right (what are objects and what are their properties and methods)
p32701
aVI'm not sure exactly what you want to specify as objects for an assembler - if you want further direction, you'll need to provide those details
p32702
as(dp32703
g16
V14860
p32704
stp32705
a((dp32706
g2
(lp32707
VIt takes the most significant 8 bits of a 32-bit value so that , for example, becomes
p32708
aVTypically, the  will carry a few bits of information and this is getting one of them
p32709
aVIt looks like that's the shock call identifier and the other two macros will get different bits out of the  for other purposes (channel ID and channel information)
p32710
aVC# would be something like:
p32711
aVTechnically, the  is not needed for this case but will be if  happens to be a signed int (since negative numbers are sign-extended) or a value larger than 32 bits (which is unlikely)
p32712
as(dp32713
g16
V14860
p32714
stp32715
a((dp32716
g2
(lp32717
VI would create another column to store a deleted user's previous name and set their real name to NULL when they're deleted (as well as setting the status to 0)
p32718
aVThen have a unique constraint on name and company
p32719
aVNULLs will not affect the uniqueness (since ) and you can still recover the user's original name if desired
p32720
aVSo the delete operation is something like:
p32721
as(dp32722
g16
V14860
p32723
stp32724
a((dp32725
g2
(lp32726
VYou don't need to use the underline, it's just a convention to separate the header name and extension
p32727
aVYou cannot use the literal  since that's not valid in an identifier so you replace it with an underscore which is valid
p32728
aVThe reason you actually do it is as an include guard
p32729
aVThe entire contents of the file are something like:
p32730
aVso that, if you accidentally include it twice:
p32731
aVyou won't get everything in it duplicated
p32732
aVThe double inclusions are normally more subtle than that - for example, you may include  and  in your code and  also includes  for its purposes:
p32733
aVIn this case, if the include guards weren't there you would try to compile the line  twice in your program
p32734
aVOnce for  and again for
p32735
aVWith the include guards, the pre-processor symbol  is defined when  includes  so the  and  are not processed
p32736
aVThis particular mapping of header files to  names breaks down in the situation where you have  and  since they would both use
p32737
aVIn that case, you can use a scheme like  and  to solve the problem
p32738
as(dp32739
g16
V14860
p32740
stp32741
a((dp32742
g2
(lp32743
VI think it goes something like this:
p32744
aVThen, your string is in
p32745
aVYou know, I can't imagine why people thought COBOL was verbose :-)
p32746
aVOn a more serious note, I think you can do something along these lines to achieve the same result (you may have to fiddle with the start and length parameters, it's been a while since I did any serious COBOL):
p32747
as(dp32748
g16
V14860
p32749
stp32750
a((dp32751
g2
(lp32752
VIt's because you're missing braces for your  loop
p32753
aVWithout those braces, the only thing inside the  is the first  statement
p32754
aVThat's why it's only counting blanks, because you go through the whole file doing that one  statement then, after exiting the loop,  is  so neither of the other two  statements will be true
p32755
aVThat was a tricky one, it's hard to see because the indentation looks like it should work but, unlike Python, the compiler doesn't use indentation to figure out where things are :-)
p32756
aVIf you put a opening brace after the  and a closing brace before the , it should count everything
p32757
aVIn other words, this is what your compiler sees:
p32758
aVwhereas you want:
p32759
as(dp32760
g16
V14860
p32761
stp32762
a((dp32763
g2
(lp32764
VPossibly there's a single statement that can do it but why wouldn't you just use transactions, a vendor-agnostic way:
p32765
aVI always tend to use standard SQL where possible so as to be able to switch between vendors easily, never mind the fact I haven't switched vendors for over a decade now :-)
p32766
aVStill, it's nice to have the ability even if I never use it (though sometimes I'll go vendor-specific for performance reasons if required - I don't think that'll be necessary for this particular use case since it's probably not something you'll be doing a lot of)
p32767
as(dp32768
g16
V14860
p32769
stp32770
a((dp32771
g2
(lp32772
VYes, utility classes are a good idea but, as with all object-oriented programming, you should be aiming for maximum cohesion, minimal coupling
p32773
aVMaximum cohesion means that everything in a single class should be heavily related to each other
p32774
aVMinimal coupling means there should be no unnecessary dependencies between classes
p32775
aVIn other words, lumping together compression with image manipulation or the launching of external processes in a single class is a bad idea
p32776
aVBy all means have a compression utility class and an image manipulation utility class but don't put them together
p32777
aVDoing so is akin to using the singleton pattern as a god object, a ghetto where you just dump all your rubbish that should be better organised
p32778
aVI would say it's okay to use an uber-utility class during development but make sure your code is better organised before shipping
p32779
aVMaintenance will be a lot easier
p32780
aVIs it a good practice
p32781
aVNo, not in the long term although it's useful when done temporarily
p32782
aVWill things grow unmanageable when the number of functions grow larger and larger
p32783
aVYes, no question about it
p32784
as(dp32785
g16
V14860
p32786
stp32787
a((dp32788
g2
(lp32789
VOne thing that you should do is initialise  to zero in your main function
p32790
aVThat's because you're just adding the size of each room to it and it starts out with a random value:  is still  :-)
p32791
aVOn top of that, you call  from your main function and then again from
p32792
aVAnd then you call them both again in
p32793
aVThat's why it's asking four times
p32794
aVJust call  once
p32795
aVSince it's homework, I'll leave you to figure out where but here's a hint
p32796
aVIf you do it in main (nudge, nudge, wink, wink), you'll have to pass he variables into  as well, not create new variables of the same name within that function and magically expect the compiler to associate them with the originals
p32797
as(dp32798
g16
V14860
p32799
stp32800
a((dp32801
g2
(lp32802
VOne possibility is to not have it sleep for ten minutes
p32803
aVHave it sleep for 10 seconds then only do its work on every sixtieth wakeup
p32804
aVThen you only have a latency of ten seconds before it stops
p32805
aVAside: This is not necessarily the best solution but it's probably the quickest to implement
p32806
aVAs with all possibilities you should do a cost/benefit analysis when selecting which solution is right for you
p32807
aVIf ten seconds is still too much, you can drop it further although keep in mind that dropping it too far will result in a possible performance impact
p32808
aVYou're right that you shouldn't kill threads from outside, it's usually a recipe for disaster if you happen to do it while they have a lock on some resource that's not freed on kill
p32809
aVThreads should always be responsible for their own resources, including their lifetimes
p32810
as(dp32811
g16
V14860
p32812
stp32813
a((dp32814
g2
(lp32815
VYes, sort of
p32816
aVWe had to do something similar a few years back because one of our customers split their data across two DB2 instances but still wanted single queries that would get at them both (the reporting tool we were using could only connect to one instance)
p32817
aVFrom memory, it's a matter of:
p32818
aVturning on federation support (needed for instance-to-instance communication)
p32819
aVcreating a wrapper with  so one DB2 instance knows how to connect to another
p32820
aVregistering the other server with
p32821
aVusing  to set up mapping of credentials between the two instances
p32822
aVcreating an alias in the local instance for the remote table with
p32823
aVFrom there, you would just create your view as something like:
p32824
aVand you should have rows from both tables
p32825
as(dp32826
g16
V14860
p32827
stp32828
a((dp32829
g2
(lp32830
VThey're bit-fields, an example being that  creates an  field 9 bits long
p32831
aVIt's commonly used to pack lots of values into an integral type
p32832
aVIn your particular case, it defining the structure of a 32-bit microcode instruction for a (possibly) hypothetical CPU (if you add up all the bit-field lengths, they sum to 32)
p32833
aVThe union allows you to load in a single 32-bit value and then access the individual fields with code like (minor problems fixed as well, specifically the declarations of  and ):
p32834
aVThis prints out 7, which is the three bits making up the  bit-field
p32835
as(dp32836
g16
V14860
p32837
stp32838
a((dp32839
g2
(lp32840
VIf you want to interpret , you should not use single quotes since they prevent variable substitution
p32841
aVTry:
p32842
aVassuming you want the quotes put in
p32843
aVIf you don't want the quotes, use:
p32844
aVTranscript:
p32845
aVJust be careful to ensure that  doesn't have any characters of significance to  (like  for instance) since it will cause confusion unless escaped
p32846
aVBut if, as you say, you're replacing one number with another, that shouldn't be a problem
p32847
as(dp32848
g16
V14860
p32849
stp32850
a((dp32851
g2
(lp32852
VThat particular first example is a bad idea
p32853
aVPer-row functions do not scale well as the table gets bigger
p32854
aVIn fact, a (likely) better way to do it would be to index  and use something like:
p32855
aVOn databases where data are read more often than written (and that's most of them), these sorts of calculations should be done at write time such as using an insert/update trigger to populate a real  field
p32856
aVDatabases should be used for storing and retrieving data, not doing massive non-databasey calculations that will slow down everything
p32857
as(dp32858
g16
V14860
p32859
stp32860
a((dp32861
g2
(lp32862
VSince a linked list is simply a number of items pointed to by other items, you can construct an array of the pointers with O(n) time and O(n) space, sort that using any of the excellent sorting algorithms with O(n log n) time and O(1) space, then reconstruct the linked list from scratch with O(n) time and O(1) space
p32863
aVOverall, that's O(n log n) time and O(n) space
p32864
as(dp32865
g16
V14860
p32866
stp32867
a((dp32868
g2
(lp32869
VI would just do them as two "separate" statements and not worry about trying to find a clever solution (which is rarely clever IMNSHO)
p32870
aVYou'll see I quoted the word "separate" above since any decent DBMS will provide transactional support which will make the two of those statements into one, in terms of atomicity (the A in ACID)
p32871
aVIn other words, something like:
p32872
aVThis will almost invariably be faster (assuming  is indexed) than a clever solution using per-row functions like ,  and so on, since two very fast passes is better than one slow pass :-)
p32873
as(dp32874
g16
V14860
p32875
stp32876
a((dp32877
g2
(lp32878
VYou can combine some of the solutions already given to make it even faster but at some point you will hit diminishing returns, where the extra effort may not be worth the benefit gained
p32879
aVI would both return a  using fixed strings and do it from a static array assuming you can guarantee that the source range is contigous (such as  through )
p32880
aVThe use of a static constant character array means that there's minimal cost where a writable copy is not needed
p32881
aVThe cost of creating this array will most likely be during compile time rather than run-time
p32882
aVIf the caller actually wants a writable copy, it's up to them to do it with something like:
p32883
aV(and, yes, I know  isn't ISO-standard but it's trivial to write anyway)
p32884
aVAlso for raw speed, you can drop error checking and make the assumption that callers will not pass invalid values part of the contract
p32885
aVSo something like:
p32886
aVAnd this is important, do not assume that this (or any other solution) will be fastest based on what you think you know
p32887
aVThe optimisation mantra is "Measure, don't guess
p32888
aV(and measure in a production-like environment)
p32889
as(dp32890
g16
V14860
p32891
stp32892
a((dp32893
g2
(lp32894
VI can guarantee you that  alone won't be any faster than  for this task
p32895
aVStarting up external processes in  is a generally bad idea but only if you do it a lot
p32896
aVSo, if you're starting a  process for each line of your input, I'd be concerned
p32897
aVBut you're not
p32898
aVYou only need to start one  which will do all the work for you
p32899
aVYou may however find that the following  will be a bit faster than your version:
p32900
aVAll this does is remove the last three characters on each line, rather than substituting the whole line with a shorter version of itself
p32901
aVNow maybe more modern RE engines can optimise your command but why take the risk
p32902
aVTo be honest, about the only way I can think of that would be faster would be to hand-craft your own C-based filter program
p32903
aVAnd the only reason that may be faster than  is because you can take advantage of the extra knowledge you have on your processing needs ( has to allow for generalised procession so may be slower because of that)
p32904
aVDon't forget the optimisation mantra: "Measure, don't guess
p32905
aVIf you really want to do this one line at a time in  (and I still maintain that it's a bad idea), you can use:
p32906
aVYou may also want to investigate whether you actually need a speed improvement
p32907
aVIf you process the lines as one big chunk, you'll see that  is plenty fast
p32908
aVType in the following:
p32909
aVand run it
p32910
aVHere's the output on my (not very fast at all) R40 laptop:
p32911
aVThat's 20,000 lines in under a second, pretty good for something that's only done every hour
p32912
as(dp32913
g16
V14860
p32914
stp32915
a((dp32916
g2
(lp32917
VHow big is the output you're checking
p32918
aVA hundred lines max
p32919
aVI'd just save the entire original file then use  to see if it's changed
p32920
aVGiven that a hash calculation will have to read every byte anyway, the only way you'll get an advantage from a checksum type calculation is if the cost of doing it is less than reading two files of that size
p32921
aVAnd  won't give you any false positives or negatives :-)
p32922
aVBased on your question update:
p32923
aVI've been asked to monitor the DNS record of a set of 1000 or so domains and immediately call certain other scripts if there has been any change
p32924
aVI intend to do a dig xyz +short statement and hash its output and store that, and then check it against a previously stored value
p32925
aVAny change will trigger the other script, otherwise it just goes on
p32926
aVRight now, we're planning on using cron for a set of these 1000, but can think completely diffeerently for "seriously heavy" usage - ~20,000 or so
p32927
aVI'm not sure you need to worry too much about the file I/O
p32928
aVThe following script executed  5000 times first with file I/O then with output to  (by changing the comments)
p32929
aVThe elapsed times at 5 runs each are:
p32930
aVAfter removing the outliers and averaging, the results are 2:49 for the file I/O and 2:45 for the
p32931
aVThe time difference is four seconds for 5000 iterations, only 1/1250th of a second per item
p32932
aVHowever, since an iteration over the 5000 takes up to three minutes, that's how long it will take maximum to detect a problem (a minute and a half on average)
p32933
aVIf that's not acceptable, you need to move away from  to another tool
p32934
aVGiven that a single  only takes about 0
p32935
aV012 seconds, you should theoretically do 5000 in sixty seconds assuming your checking tool takes no time at all
p32936
aVYou may be better off doing something like this in Perl and using an associative array to store the output from
p32937
aVPerl's semi-compiled nature means that it will probably run substantially faster than a  script and Perl's fancy stuff will make the job a lot easier
p32938
aVHowever, you're unlikely to get that 60-second time much lower just because that's how long it takes to run the  commands
p32939
as(dp32940
g16
V14860
p32941
stp32942
a((dp32943
g2
(lp32944
VActually, that was the way it was done in Windows 3
p32945
aV1, with many applications using their own INI files
p32946
aVWindows 95 (from memory) introduced the concept of a centralised repository (though I think there was a limited purpose registry before then) and people have been buying registry cleaner programs ever since
p32947
aVPeople used to complain then that there were too many INI files to manage and that speed was a problem since they were text files that needed parsing
p32948
aVI, for one, prefer applications to have their own stuff in their own directories so as to make clean-up easier when you want to delete them
p32949
as(dp32950
g16
V14860
p32951
stp32952
a((dp32953
g2
(lp32954
VI think you should probably be using , something like:
p32955
aVThe  function returns the date with an implicit time of 00:00:00
p32956
aVYou want  which gives you both current date and time
p32957
as(dp32958
g16
V14860
p32959
stp32960
a((dp32961
g2
(lp32962
VSorting is one of the things that databases do best
p32963
aVAssuming you have an index on the column, you should let the database do it
p32964
aVAnd, if you don't have an index on it, it's not set up correctly
p32965
as(dp32966
g16
V14860
p32967
stp32968
a((dp32969
g2
(lp32970
VYou can use  to execute arbitrary commands but, if you want to easily control the input and output with the program, you should look into
p32971
aVFor even more control, you can look into doing exactly what a shell might do, creating some extra file descriptors, forking to start another process, setting up file descriptors 0, 1 and 2 (input, output and error) in that process to connect them to your original process file descriptors then exec'ing the program you want to control
p32972
aVThis isn't for the faint of heart :-)
p32973
as(dp32974
g16
V14860
p32975
stp32976
a((dp32977
g2
(lp32978
VI'm pretty certain you need a  at the end of the  line itself as well as the , and possibly the empty lines in that macro as well (I'm not sure about that)
p32979
aVI suspect the  on the line preceding your  statement is dodgy as well
p32980
aVHowever, the one thing I'm absolutely certain about is that you would be better off using inline functions than  macros
p32981
aVWhile  doesn't guarantee that it's actually inlined, I tend to always leave optimisation up to the compiler
p32982
aVAnd code macros, I frown on that pretty heavily in C++, especially for complex things like this :-)
p32983
as(dp32984
g16
V14860
p32985
stp32986
a((dp32987
g2
(lp32988
VI'm not sure whether there's any hidden meaning in your question but the standard way of doing this seems to fit:
p32989
aVThat gives you hours within dates, like:
p32990
aVIf you actually have those two fields as real  fields, your schema is screwed up
p32991
aVYou should have a  field for the date and a  or integral field for the hour
p32992
aVYou could combine both into a single  field but you should balance that against the inefficiencies of doing per-row functions in your  statements if you want to separate them
p32993
aVIt's usually better to keep fields separate if your going to use them distinctly
p32994
aVIf you do have to use per-row functions, you can use:
p32995
aVto extract just the  and  components of a
p32996
as(dp32997
g16
V14860
p32998
stp32999
a((dp33000
g2
(lp33001
VWhy aren't you just using a space character itself rather than some funny encoding
p33002
aVAs in:
p33003
aVFor what it's worth, the command you gave also fails to work in 4
p33004
ag2836
aV1 but, if you add in the quotes, it does work
p33005
aVSo I suggest you change it to:
p33006
aVApologies, I've just noticed you're running Windows so you've probably got CygWin or GnuWin32 (or equivalent)
p33007
aVQuotes work differently under Windows so you should try two things
p33008
aVThe first is to use  instead of  quotes:
p33009
aVOtherwise, the escape character in Windows is  so something like this should be able to escape the space:
p33010
aVAs an aside, I'd be looking to switch to GnuWin32, if possible, which has more recent versions of  (for example)
p33011
aVIt doesn't look like UnxUtils has had an update since 2003 based on that web page you link to
p33012
aVYou can get individual packages from here
p33013
aVYou're looking for  which contains the bulk of the UNIX text processing toolkit
p33014
aVBut, if you're stuck with UnxUtils, I'd just use the actual space rather than a decimal code, and then I'd use  to get rid of new lines:
p33015
aVassuming of course that the  in  can handle that syntax :-)
p33016
as(dp33017
g16
V14860
p33018
stp33019
a((dp33020
g2
(lp33021
VIf you're looking to extract the last part of the string, you'd need:
p33022
aVif you don't want the  or
p33023
aVif you do
p33024
as(dp33025
g16
V14860
p33026
stp33027
a((dp33028
g2
(lp33029
VSince this appears to be a simple parent/child relationship between  and , you would be better off creating your foreign key constraint with a deleting cascade
p33030
aVThat way, when a  row is deleted, the  rows associated with it are automatically deleted as well
p33031
aVThen your query becomes a simple:
p33032
as(dp33033
g16
V14860
p33034
stp33035
a((dp33036
g2
(lp33037
VThe compiler implementor chooses their underlying character set
p33038
aVAbout the only thing the standard has to say is that a certain minimal number of characters must be available and that the numeric characters are contiguous
p33039
aVThe required characters for a C99 execution environment are  through ,  through ,  through  (which must be together and in order), any of , space, horizontal tab, vertical tab, form-feed, alert, backspace, carriage return and new line
p33040
aVThis remains unchanged in the current draft of C1x, the next iteration of that standard
p33041
aVEverything else depends on the implementation
p33042
aVFor example, code like:
p33043
aVwill break on the mainframe which uses EBCDIC, dividing the upper case characters into two regions
p33044
aVTruly portable code will take that into account
p33045
aVAll other code should document its dependencies
p33046
aVA more portable implementation of your example would be something along the lines of:
p33047
aVIf you want a real portable solution, you should probably use  since code that checks only the Latin characters won't be portable to (for example) Greek using Unicode for its underlying character set
p33048
as(dp33049
g16
V14860
p33050
stp33051
a((dp33052
g2
(lp33053
VStrangely enough, the word "design" is also used for building houses, carpentry, town planning and developing evil schemes to take over the world :-)
p33054
aVDesign" is a generic term meaning the work before actual building or doing of something
p33055
aVIf we had to use a different word for every type of design, we'd either end up like eskimos with the 600 words for ice, or be in a similar position as I once was when developing communication software with even more protocol layers than those contained in the OSI 7-layer model - we had to use blocks, datagrams, segments, chunks, packets, sections and doodads to avoid confusion
p33056
as(dp33057
g16
V14860
p33058
stp33059
a((dp33060
g2
(lp33061
VIf your numbers after the  don't have spaces after them, you can use:
p33062
aVThe use of  creates groups which you can refer to as  in the replacement text, where  is the position of the group within the search string
p33063
aVThis will give you:
p33064
aVIf they do have spaces after them (which yours seem to have), you'll get:
p33065
aVin which case you can then do:
p33066
aVto fix it up
p33067
as(dp33068
g16
V14860
p33069
stp33070
a((dp33071
g2
(lp33072
VThe following looks like a sine wave but it does the trick:
p33073
aVIt works by collapsing all occurrences of two or more  characters into a single one
p33074
as(dp33075
g16
V14860
p33076
stp33077
a((dp33078
g2
(lp33079
VIf  is an actual VB variable, you need to use something like:
p33080
aVso that the  statement is constructed from the value of the variable rather than a fixed string
p33081
aVIn addition, you appear to have a superfluous comma in your statement and you may need quotes around both values since they're both  type
p33082
as(dp33083
g16
V14860
p33084
stp33085
a((dp33086
g2
(lp33087
VYou should be looking at the  command
p33088
aVFor example, to change permissions all JPEG files under your  directory:
p33089
aVAlthough, if there are a lot of files, you can combine it with  to batch them up, something like:
p33090
aVAnd, on implementations of  and  that support null-separation:
p33091
as(dp33092
g16
V14860
p33093
stp33094
a((dp33095
g2
(lp33096
VYou can use the  command:
p33097
aVfor this
p33098
aVThe following transcript gives an example:
p33099
aVYou should also check whether you want to match whole lines with, for example:
p33100
aVsince, as it stands, that will also delete lines like the following:
p33101
as(dp33102
g16
V14860
p33103
stp33104
a((dp33105
g2
(lp33106
VWell, IBM had a product, Visual Age Generator, which had a common language which was then 'compiled' to everything from C under UNIX to COBOL on the mainframe
p33107
aVI think it's well out of service now and there may have been other attempts that don't spring to mind immediately
p33108
aVHowever, the whole point of having different semantics is because languages are different, otherwise there would be no reason to choose Java over COBOL or Ruby over BCPL
p33109
aVAnd  was a brilliant idea
p33110
aVTo have a different ending word for each construct greatly eased the parser and allowed greater error checking
p33111
aVIn other words,  had ,  had
p33112
aVThe only thing I don't like is that  uses  rather than  :-)
p33113
as(dp33114
g16
V14860
p33115
stp33116
a((dp33117
g2
(lp33118
VI'm pretty certain I remember one of the reasons Python was created was to avoid these abominations, instead preferring readability over supposed cleverness :-)
p33119
aVWhat, pray tell, is wrong with the following
p33120
as(dp33121
g16
V14860
p33122
stp33123
a((dp33124
g2
(lp33125
VIf you're worried about starting two  processes in a pipeline instead of one, you probably shouldn't be, it's not that inefficient
p33126
aVHowever, if you do want a single process, you can use multiple  arguments, something like:
p33127
aVIn response to your comment on why you want a single process, wanting to use  for in-place editing, you can still do that as per the following transcript:
p33128
aVNote how the file is modified in-place even with two  options
p33129
aVYou can see that both commands are executed on each line
p33130
aVThe line with a comment first has the comment removed then all is removed because it's empty
p33131
aVIn addition, the original empty line is also removed
p33132
as(dp33133
g16
V14860
p33134
stp33135
a((dp33136
g2
(lp33137
VNeither  nor a naked  should be used for comparing MAC addresses
p33138
aVThe first won't work properly in cases where they may have an embedded zero byte which would cause  to state they're equal when they're actually not
p33139
aVThat's because a  of the following two values:
p33140
aVwould be true (it only checks up to the first zero byte)
p33141
aVThe second won't work because you're comparing pointers rather than the contents that the pointers point to
p33142
aVIf you have the following memory layout:
p33143
aVthen comparing  with  with  will give you  since they are distinct pointers, one ending in , the other in
p33144
aVYou should use  instead since it will compare the raw memory bytes without stopping at an early zero byte:
p33145
as(dp33146
g16
V14860
p33147
stp33148
a((dp33149
g2
(lp33150
VHere's a script which shows how you can do it
p33151
aVIt's not the most efficient in the world but command scripts rarely are :-)
p33152
aVWhen run over the file containing  for N ranging from 1 to 24, you get:
p33153
aVas expected
p33154
aVI wouldn't be using this for a very large number of line numbers (since the inner loop runs that many times for every line in the file)
p33155
as(dp33156
g16
V14860
p33157
stp33158
a((dp33159
g2
(lp33160
VWell, one classic example is where you wanted to get a list of employees and their immediate managers:
p33161
aVIt's basically used where there is any relationship between rows stored in the same table
p33162
aVemployees
p33163
aVmulti-level marketing
p33164
aVmachine parts
p33165
aVAnd so on
p33166
as(dp33167
g16
V14860
p33168
stp33169
a((dp33170
g2
(lp33171
VTo subtract the  field from  in the  clause (as you indicate in one of the comments), use:
p33172
aVThis will pass the:
p33173
aVas-is through to the DBMS, not interpreted by PHP
p33174
as(dp33175
g16
V14860
p33176
stp33177
a((dp33178
g2
(lp33179
VMost UNIXes have a  executable for just that purpose
p33180
aVIf you want a bash-only solution, you can start with:
p33181
aVThat little snippet sets  (the file path),  (the file prefix) and  (the file extension)
p33182
as(dp33183
g16
V14860
p33184
stp33185
a((dp33186
g2
(lp33187
VBased on your code, the following will get you the next Saturday (today if it's Saturday)
p33188
aVYou can replace the  line with:
p33189
aVto get next Saturday even if today is Saturday
p33190
as(dp33191
g16
V14860
p33192
stp33193
a((dp33194
g2
(lp33195
VWhenever you get an error in a line like:
p33196
aVyou should immediately insert some code to print it out and check whether it's valid SQL:
p33197
aVor:
p33198
aVThis should show you exactly where your problem lies
p33199
aVMost likely insertions of dates should use strings of the format  or something similar so you should, at a bare minimum:
p33200
aVquote the date string ()
p33201
aVensure that its format is okay (I'm not sure what  will give you off the top of my head but I would think, given that you posted this today and it's not the tenth month or tenth day of the month, that it's probably something like  and the unquoted 10 from 2010 is causing you grief)
p33202
as(dp33203
g16
V14860
p33204
stp33205
a((dp33206
g2
(lp33207
VYou can use:
p33208
aVwhich will replace the start-line zero-width marker with a comment character for all lines containing , as shown in the following example:
p33209
aVBut you need to keep in mind a couple of things
p33210
aVIt's usually not enough to just change the file, you also need to notify  that it needs to re-read it
p33211
aVThis is automatic if you use the  command itself but you may have to send a signal to  if you're editing the file directly
p33212
aVIt's not always a good idea to turn scripts loose on important system files
p33213
aVMake sure you know what you're doing and don't trust any old codger on the net (including me)
p33214
aVTest it thoroughly
p33215
aVTo get rid of the marker, use:
p33216
aVThis is the opposite operation, it finds those lines containing  and substitute any  character at the start of the line with nothing
p33217
as(dp33218
g16
V14860
p33219
stp33220
a((dp33221
g2
(lp33222
VIt appears your entire function could be replaced with the following array-based variation
p33223
aVAssuming that your  variables are defined outside the function and you want to minimise the scope of changes, you should look at something like:
p33224
aVThe idea is to store everything in arrays so that you don't have to deal with individual variables
p33225
aVIf the  variables are required to be a non-array, then I would set up a single array of pointers to them so this approach would still work, something like:
p33226
aVYou should also set the formulae intelligently for the  and  coordinates since you probably don't want a 60x1 matrix for them
p33227
aVLook into making it 12x5 or something equally as compact
p33228
as(dp33229
g16
V14860
p33230
stp33231
a((dp33232
g2
(lp33233
VCheck the type of , it may be that  is evaluating as 0 if the type is integral
p33234
aVThat would mean the denominator would be zero (the square root of zero is zero and zero multiplied by Data
p33235
aVVolatility is still zero) which would lead to a problem
p33236
aVIn fact the numerator turns out to be zero in your case as well since logn1 is always zero and you're adding that to zero (another value which is multiplied by )
p33237
aVYou may want to consider using floating point types throughout the process
p33238
as(dp33239
g16
V14860
p33240
stp33241
a((dp33242
g2
(lp33243
VWhat is your primary object
p33244
aVIt appears to me that it's the  and that appendage lengths are simply attributes of that
p33245
aVBy all means have an  collection if you think you're going to find a lot of humans with more than two arms :-)
p33246
aVBut I think you'll be able to get away with your first solution for your given example
p33247
aVOnce an object starts getting hundreds of attributes then, yes, you should think about organising it in a more hierarchical fashion
p33248
aVAs to the best way to do that, we'd have to see your actual requirement
p33249
as(dp33250
g16
V14860
p33251
stp33252
a((dp33253
g2
(lp33254
VFrom the Jargon file, the prime nerd reference which really should be an ISO standard :-)
p33255
aVCommon: backquote; left quote; left single quote; open quote; ; grave
p33256
aVRare: backprime; backspark; unapostrophe; birk; blugle; back tick; back glitch; push; opening single quotation mark; quasiquote
p33257
as(dp33258
g16
V14860
p33259
stp33260
a((dp33261
g2
(lp33262
VIt seems like I'm giving this advice three times a week here on SO, maybe I should just give up and let it go :-) Nah, I don't think so:
p33263
aVDon't use per-row functions in your column calculations (or  clauses) if you want your database to scale well
p33264
aVYou should check performance for your particular case (measure, don't guess) but doing calculations when reading the database will generally affect your ability to scale (this won't matter for your address book database but the shops I work in have huge amounts of data)
p33265
aVThe number of "how do I get my DB to go faster
p33266
aVquestions far outweighs the number of "how do I use less space
p33267
aVones
p33268
aVIt's a well-trodden path to sacrifice disk space for performance
p33269
aVThe right time to do calculations is when the data changes
p33270
aVThat way the cost of the changes is amortised across all reads
p33271
aVMy advice is to create another column such as  to contain the ordering value then use an insert/update trigger to set it to the same as  if not null, or  if  is null
p33272
aVTechnically, this violates 3NF but that's okay if you know what you're doing, and the triggers guarantee data consistency in that case
p33273
aVThen index on the  column and see the speed of your queries improve at the (lesser) cost of some extra work during inserts and updates
p33274
aVI say lesser because the vast majority of database tables are read more often than written (obviously this method is useless if your particular situation is one of the very rare exceptions)
p33275
aVAlternatively, for this particular case, you could set  and  to the same value when creating the entry, meaning that  will never be null
p33276
aVYou can still detect posts that have never been modified by the fact that these two datetime values are identical
p33277
as(dp33278
g16
V14860
p33279
stp33280
a((dp33281
g2
(lp33282
VYou don't have to use a regex for everything
p33283
aVI find that requirements like the "no two consecutive characters" usually make the regexes so ugly that it's better to do that bit with a simple procedural loop
p33284
aVI'd just use something like  (or the equivalents like  if your regex engine is more advanced) and then just check every character in a loop to make sure the next character isn't the same
p33285
aVBy doing it procedurally, you can check all the other rules you're likely to want at some point without resorting to what I call "regex gymnastics", things like:
p33286
aVnot allowed to contain your first or last name
p33287
aVno more than two consecutive digits
p33288
aVand so forth
p33289
as(dp33290
g16
V14860
p33291
stp33292
a((dp33293
g2
(lp33294
VYes, grouping is done first, and it affects a single  whereas ordering affects all the results from all  statements in a , such as:
p33295
aV(using field numbers in  since I couldn't be bothered to name my columns)
p33296
aVEach  affects only its , the  affects the combined result set
p33297
aVIt seems that what you're after can be achieved with:
p33298
aVThis uses the  aggregation function to basically do your pre-group ordering (it doesn't actually sort it in any decent DBMS, rather it will simply choose the maximum from an suitable index if available)
p33299
as(dp33300
g16
V14860
p33301
stp33302
a((dp33303
g2
(lp33304
VBecause floats actually have a representation for the "number" you're trying to calculate
p33305
aVSo it uses that
p33306
aVAn integer has no such representation
p33307
aVJava (mostly) follows IEEE754 for its floating point support, see here for more details
p33308
as(dp33309
g16
V14860
p33310
stp33311
a((dp33312
g2
(lp33313
VMy initial idea would be to set up a 15x3 matrix of resizable images
p33314
aVThe leftmost and righmost of the 15 would be the inner and outer table sides of the boards and the central one would be the bar
p33315
aVThe three-high dimension would be the middle of the board (no image) with the triangular images when the pieces are placed at top and bottom
p33316
aVThen I would see how that worked out with resizing
p33317
aVIf no good, change it
p33318
aVI'd make these all the same size except possibly the outer table edge since you don't need to put any pieces there
p33319
aVKeep in mind that you need:
p33320
aVspace to show the dice throws and doubling cube
p33321
aVa way to offset the pieces slightly if you end up with six or more at one point
p33322
aVPerhaps a good move would be to fire up the Windows backgammon game and see how it does it
p33323
as(dp33324
g16
V14860
p33325
stp33326
a((dp33327
g2
(lp33328
VUnfortunately, I think standard  only allows one field separator character so you'll have to pre-process the data
p33329
aVYou can do this with  but if you really want an -only solution, use:
p33330
aVThis outputs:
p33331
aVas desired
p33332
aVThe first  changes the  characters to  so that you have four fields separated with the same character (this is the bit I'd usually use  for)
p33333
aVThe second  prints them out in the order you specified, correcting the field separators at the same time
p33334
aVIf you're using an  implementation that allows multiple  characters, you can use something like:
p33335
as(dp33336
g16
V14860
p33337
stp33338
a((dp33339
g2
(lp33340
VAvoid these things like the plague
p33341
aVThey are impossible for a general DBMS to optimise
p33342
aVThe right way is to calculate things like this (first and last names) at the time where the data is inserted or updated so that the cost is amortised across all reads
p33343
aVThis can be done by adding two new columns (indexed) and using insert/update triggers
p33344
aVOr, if you want all words in the column, have the trigger break the data into words then have an application-level index table to find relevant records, something like:
p33345
aVThen you can query  to find those s that have both  and  in them, far faster than the abominable
p33346
aVYou could also break the actual words out to a separate table and use word IDs but that's a matter of taste - it's effect on performance would be questionable
p33347
aVYou may well have a similar problems with  but I've not seen that syntax before (if, as it seems to be, the context is  can be one or the other)
p33348
aVBasically, if you want your databases to scale, don't do anything that even looks like a per-row function in your selects
p33349
aVTake that from someone who works with mainframe databases where 84 million rows is about the size of our config tables :-)
p33350
aVAnd, as with all optimisation questions, measure, don't guess
p33351
as(dp33352
g16
V14860
p33353
stp33354
a((dp33355
g2
(lp33356
VI usually put them as close as practicable to the things that need them, whilst ensuring you don't set them incorrectly
p33357
aVRelated pieces of information should be kept close to make it easier to identify
p33358
aVA classic example is the ability for C to now allow variable definitions anywhere in the code rather than just at the top of a function:
p33359
aVis a lot better than:
p33360
aVsince you don't have to go searching for the type of  in the latter case
p33361
aVBy way of example, if you need to compile a single source file multiple times with different values, you have to do it with the compiler:
p33362
aVHowever, if every compilation of that file will use 7, it can be moved closer to the place where it's used:
p33363
aVNote that I've done it twice so that it's more localised
p33364
aVThis isn't a problem since, if you change only one, the compiler will tell you about it, but it ensures that you know those defines are set for the specific headers
p33365
aVAnd, if you're certain that you will never include (for example)  without first setting  to 8, you can even go so far as to create a  file containing nothing but:
p33366
aVand then just include  in your source files
p33367
as(dp33368
g16
V14860
p33369
stp33370
a((dp33371
g2
(lp33372
VStandard input - this is the file handle that your process reads to get information from you
p33373
aVStandard output - your process writes normal information to this file handle
p33374
aVStandard error - your process writes error information here
p33375
aVThat's about as dumbed-down as I can make it :-)
p33376
aVOf course, that's mostly by convention
p33377
aVThere's nothing stopping you from writing your error information to standard output if you wish
p33378
aVYou can even close the three file handles totally and open your own files for I/O
p33379
aVWhen your process starts, it should already have these handles open and it can just read to and/or write from them
p33380
aVBy default, they're probably connected to your terminal device (e
p33381
ag1775
aV, ) but shells will allow you to set up connections between these handles and specific files and/or devices (or even pipelines to other processes) before your process starts (some of the manipulations possible are rather clever)
p33382
aVAn example being:
p33383
aVwhich will:
p33384
aVcreate a process for
p33385
aVopen  as your standard input (file handle 0)
p33386
aVopen  as your standard error (file handle 2)
p33387
aVcreate another process for
p33388
aVattach the standard output of  to the standard input of
p33389
aVRe your comment:
p33390
aVWhen I open these files in /dev folder, how come I never get to see the output of a process running
p33391
aVIt's because they're not normal files
p33392
aVWhile UNIX presents everything as a file in a file system somewhere, that doesn't make it so at the lowest levels
p33393
aVMost files in the  hierarchy are either character or block devices, effectively a device driver
p33394
aVThey don't have a size but they do have a major and minor device number
p33395
aVWhen you open them, you're connected to the device driver rather than a physical file, and the device driver is smart enough to know that separate processes should be handled separately
p33396
aVThe same is true for the Linux  filesystem
p33397
aVThose aren't real files, just tightly controlled gateways to kernel information
p33398
as(dp33399
g16
V14860
p33400
stp33401
a((dp33402
g2
(lp33403
VThat's the old style K&R; format
p33404
aVIt's not actually declaring the argument , rather defining its type
p33405
aVBy default, things were  unless otherwise specified
p33406
aVBack when C was a much simpler language, not that far removed from my beloved BCPL, this was how you gave function arguments their types
p33407
aVNone of these prototype stuff that you young whippersnappers take for granted
p33408
aVOh yeah, and get off my lawn :-)
p33409
as(dp33410
g16
V14860
p33411
stp33412
a((dp33413
g2
(lp33414
VSeriously, leave these sorts of micro-optimisations up to the compiler
p33415
aVEven if there is a difference, it will only become obvious if you're doing it a bazillion times a second
p33416
aVFor the vast majority of cases, it won't matter one bit as most programs spend 99
p33417
aV9% of their time waiting around for something to happen
p33418
aVYou're also more likely to get a better return on your investment if you concentrate on the macro stuff like algorithm selection
p33419
as(dp33420
g16
V14860
p33421
stp33422
a((dp33423
g2
(lp33424
VIt means you should use statistical techniques to work out which loop is faster (and I would hope those techniques established that they were pretty much on par with each other)
p33425
aVYou have no idea what your CPU is doing over and above the load you're putting it under here
p33426
aVIt could be starting up scheduled tasks, handling interrupts, all sorts of things that would skew your results
p33427
aVYou may well have to do a million runs, toss out the outliers, and average the rest to get a decent sample
p33428
aVOn top of that, a hundred iterations is not much, especially since you're doing function calls to  which may well swamp the time spent doing the loop control
p33429
aVWhen I run checks under UNIX, I don't use elapsed time for this very reason
p33430
aVThe system and user time give how many seconds the CPU was in use for the given process regardless of the elapsed time
p33431
as(dp33432
g16
V14860
p33433
stp33434
a((dp33435
g2
(lp33436
VIn command mode, you can use  to indent a single line
p33437
aVwill indent the current and next three lines
p33438
aVIf you don't know how many lines in advance (it may be quite large), you can use ranges
p33439
aVGo to the first line of the range and enter  to place marker A
p33440
aVThen go to the last line and enter  to indent from here to marker A
p33441
aVYou can do all sorts of wonderful things with ranges
p33442
aVHow they're indented depends on a couple of things like your shiftwidth settings
p33443
aVI always have my shiftwidth and tabstop settings the same to avoid problems:
p33444
aV(for example)
p33445
as(dp33446
g16
V14860
p33447
stp33448
a((dp33449
g2
(lp33450
VThe  structure returned by  itself has been upgraded for POSIX
p33451
aV1-2008
p33452
aVThe  structure contains the three modification times as:
p33453
aV(from this OpenGroup link here under ) and that  is defined there (in ) as containing at least:
p33454
aVPreviously, these three times were  values with their one-second resolution
p33455
as(dp33456
g16
V14860
p33457
stp33458
a((dp33459
g2
(lp33460
VI can tell you what the problem is
p33461
aVWhen you use  with the  format, it only populates the  field on your
p33462
aVThis isn't limited to Solaris by the way, CygWin gcc is doing the same thing
p33463
aVBecause your  is most likely using other fields ( and ), and these are still set to zero, that's why you're getting the wrong day of the year
p33464
aVThe following code illustrates this:
p33465
aVWhen you run it thus:
p33466
aVyou get:
p33467
aVFixing it is tricky, I'm not aware of any standard time function that will rebuild  and  from
p33468
aVBut, if you're stuck for a solution, try this out:
p33469
aVIt will set those two fields based on  and  and it's a bit of a kludge but will get you going at least (and maybe you'll find a better way)
p33470
aVI would insert a call to this in your convert function and only call it under specific circumstances so as not to overwrite values that are already set:
p33471
aVwhich gives:
p33472
aVAnd, like all code here, you should test it thoroughly
p33473
aVI'm pretty certain I got all the edge cases but, since you haven't paid me cold hard cash for my services, you should assume this is general advice only, not a specific solution :-)
p33474
as(dp33475
g16
V14860
p33476
stp33477
a((dp33478
g2
(lp33479
VYou need to use the  (number of fields) variable to control the actions, such as in the following transcript:
p33480
aVThis will print the line if the number of fields is two, otherwise it will do nothing
p33481
aVThe reason I have the (seemingly) strange construct  is because some implementations of  will print by default if no rules are matched for a line
p33482
aVThe empty command  guarantees that this will not happen
p33483
aVIf you're lucky enough to have one of those that doesn't do this, you can get away with:
p33484
aVbut the first solution above will work in both cases
p33485
as(dp33486
g16
V14860
p33487
stp33488
a((dp33489
g2
(lp33490
VThat's a horrible idea
p33491
aVYou end up with code of the form:
p33492
aVHow anyone could think that's more readable or maintainable that not having an  at all is beyond me
p33493
aVIt sounds like one of those rules made up by people who have too much free time on their hands
p33494
aVGet them fired as quickly as you can, or at least move away calmly and quietly :-)
p33495
as(dp33496
g16
V14860
p33497
stp33498
a((dp33499
g2
(lp33500
VYou don't do it in
p33501
aVIntelligent people don't try to cut down trees with a fish, so my advice is to try and use the right tool for the job
p33502
aVYou can use, for example,  to do it thus:
p33503
as(dp33504
g16
V14860
p33505
stp33506
a((dp33507
g2
(lp33508
V"Figure out whether a given year is a leap year" springs to mind almost immediately
p33509
aVJust give 'em the rules and turn 'em loose
p33510
aVOther possibilities (albeit with stuff other than  statements):
p33511
aVHunt the Wumpus (you may have to google for this one, I'm showing my age)
p33512
aVThe perennial "detect a win in a Tic Tac Toe (Noughts and Crosses) game" (you could do this with eight  statements if you don't want a loop)
p33513
aVGuessing a number between 1 and 100 as quickly as possible (higher, lower)
p33514
aVFor nothing but  statements, the leap year one is good
p33515
aVYou could also consider:
p33516
aVTest if a number is a multiple of 3, 5 or 7
p33517
aVGiven an age, figure out whether someone's a baby, toddler, child, teenager, adult or old codger
p33518
aVCalculate grades A-F based on final percentage score
p33519
aVGiven a number on the roulette table, figure out whether it's red/black, high/low and odd/even
p33520
aVGiven a blackjack hand, check if it's okay or bust (this is good since J/Q/K morph into 10)
p33521
aVYou could also figure out whether to draw another card (if total under 17 for example)
p33522
aVThat's just a smattering of possibilities that you could get away with
p33523
as(dp33524
g16
V14860
p33525
stp33526
a((dp33527
g2
(lp33528
VWhat you are seeing is the wraparound of function return values at 256
p33529
aVis  ()
p33530
aVMy advice, if you must use a shell function, is to do:
p33531
aVThis uses standard output for returning values, rather than the return code
p33532
aVOr, even better, use the right tools for the job:
p33533
aVI'd love to see a -only solution calculate the factorial of 500 :-)
p33534
as(dp33535
g16
V14860
p33536
stp33537
a((dp33538
g2
(lp33539
VA number of reasons spring to mind as to why you would use them
p33540
aVThe first is that sometimes memory is tight on micro-controller type devices and you may want to store as much as possible in as little space as possible
p33541
aVThis requirement may also be driven by the fact that other devices or software you interface with have that same minimal-space desire
p33542
aVThey may use sub-byte data types for doing work, one example being TCP/IP headers where fields range from a single bit (such as the DF field) up to much more (such as the IP addresses)
p33543
aVIn fact, that second bit of code you gave, , is setting up properties for a serial comms chip (UART = Universal Asynchronous Receiver and Transmitter)
p33544
aVUCSRx usually stands for UART Control/Status Register #x so you're writing information to a fairly low-level device to control its behaviour
p33545
aVAnother reason is that you may have memory mapped I/O
p33546
aVThat means that, though you think you're writing to memory, you may well be sending those bits directly to an I/O device of some sort
p33547
aVA classic example may be the use of a memory mapped byte where a seven-segment LEDs is controlled
p33548
aVThe LED may be structured as:
p33549
aV+---+---+---+---+---+---+---+---+
p33550
aV| d | e | g | f | a | b | c | p |
p33551
aV+---+---+---+---+---+---+---+---+
p33552
aV#   #   #   #   #   #   #   #
p33553
aV#   #   #   #   #   #   #   #===========#
p33554
aV#   #   #   #   #   #   #               #
p33555
aV#   #   #   #   #   #   #===========#   #
p33556
aV#   #   #   #   #   #               #   #
p33557
aV#   #   #   #   #   #===========#   #   #
p33558
aV#   #   #   #   #               #   #   #
p33559
aV#   #   #   #   #=====#         #   #   #
p33560
aV#   #   #   #         #         #   #   #
p33561
aV#   #   #   #     +-------+     #   #   #
p33562
aV#   #   #   #     |aaaaaaa|     #   #   #
p33563
aV#   #   #   #   +-+-------+-+   #   #   #
p33564
aV#   #   #   #   |f|       |b|   #   #   #
p33565
aV#   #   #   #===|f|       |b|===#   #   #
p33566
aV#   #   #       |f|       |b|       #   #
p33567
aV#   #   #       +-+-------+-+       #   #
p33568
aV#   #   #=========|ggggggg|         #   #
p33569
aV#   #           +-+-------+-+       #   #
p33570
aV#   #           |e|       |c|       #   #
p33571
aV#   #===========|e|       |c|=======#   #
p33572
aV#               |e|       |c|           #
p33573
aV#               +-+-------+-+ +---+     #
p33574
aV#=================|ddddddd|   |ppp|=====#
p33575
aV+-------+   +---+
p33576
aVwhere each of the seven segments and the dot are controlled by a different bit
p33577
aVIf you wanted to turn on a single segment while leaving the others as they are, you would use bit operations like your question contains
p33578
aVBy way of example, turning on the  segment involves an operation like:
p33579
aVTurning it off involves:
p33580
aVYou may also find yourself in a situation where single bits or groups of bit in a byte control totally distinct devices and you don't want the operation of one to affect the other
p33581
aVAs to what bitwise operators do, they are operators that work on a multi-bit value but conceptually one bit at a time:
p33582
aVAND is 1 only if both of its inputs are 1
p33583
aVOR is 1 if one or more of its inputs are 1
p33584
aVXOR is 1 only if exactly one of its inputs are 1
p33585
aVNOT is 1 only if its input are 0
p33586
aVleft shift shifts bits left a certain amount
p33587
aVright shift shifts bits right a certain amount
p33588
aVDiscounting the shifts for now, these can be best described as truth tables
p33589
aVInputs possibilities are on the top and left, the resultant bit is one of the four (two in the case of NOT since it only has one input) values shown at the intersection of the two inputs
p33590
aVOne example is if you only want the lower 4 bits of an integer, you AND it with 15 (binary 1111) so:
p33591
aVAnother example is if you have two 4-bit values that you want to pack into an 8-bit one, you can use all three of your operators (,  and ):
p33592
aVThe  operation will make sure that both values only have the lower 4 bits
p33593
aVThe  is a 4-bit shift left to move  into the top 4 bits of an 8-bit value
p33594
aVThe  simply combines these two together
p33595
aVIf  is 7 and  is 4:
p33596
as(dp33597
g16
V14860
p33598
stp33599
a((dp33600
g2
(lp33601
VInteresting, it's not actually running it at all
p33602
aVIf you do the following:
p33603
aVyou get nothing
p33604
aVIt's not just missing output, it's not running at all (as evidenced by putting  before the  line)
p33605
aVIn code page 850, Explorer runs, not so for code page 65001
p33606
aVThere's some discussion on the issue over here
p33607
aVYou can get your script to run with:
p33608
aVso it seems to be some sort of problem in starting command files but only when the code page is 65001 before you enter the command
p33609
aVOthers on the net seem to be suggesting that PowerShell may be a good choice, given the finicky support in
p33610
aVThat's a decision you'll have to evaluate for yourself but, working in a large organisation myself with many tools to do the same job, I suspect Microsoft will be placing any enhancement efforts behind PowerShell rather the older command shell
p33611
aVTheir resources are large but not unlimited
p33612
as(dp33613
g16
V14860
p33614
stp33615
a((dp33616
g2
(lp33617
VIt really depends on what you mean by "many" :-)
p33618
aVI think you'll probably find that using the ISO standard  and  functions will be more than fast enough
p33619
aVFor example, on my , using unoptimised code, I can call  ten million times in 1
p33620
aV045 seconds, and a  combination half a million times in 0
p33621
aV98 seconds
p33622
aVWhether that's fast enough for your needs, only you can decide, but I'm hard-pressed trying to come up with a use case that needs more grunt than that
p33623
aVThe  function gives you the number of seconds since the epoch, while  both converts it to local time (from UTC) and splits it into a more usable form, the  structure
p33624
aVAny attempt to cache the date/time and use other ways of finding out a delta to apply to it, such as with , will almost invariably:
p33625
aVbe slower; and
p33626
aVsuffer from the fact you won't pick up external time changes
p33627
as(dp33628
g16
V14860
p33629
stp33630
a((dp33631
g2
(lp33632
VAssuming they're always of that format (two lines, same order, colon separator):
p33633
aVIf you must use  (in other words, if you don't want to call the ClearCase tool twice), simply substitute it as follows:
p33634
as(dp33635
g16
V14860
p33636
stp33637
a((dp33638
g2
(lp33639
VYou can use  to run simple code
p33640
aVThis gives you back a  and you can read its standard output directly without having to temporarily store the output on disk
p33641
aVFor example, here's a complete program that will showcase how to do it:
p33642
aVWhen compiled and run, it outputs:
p33643
aVas expected
p33644
aVYou can also get the the error stream for the process standard error, and output stream for the process standard input, confusingly enough
p33645
aVIn this context, the input and output are reversed since it's input from the process to this one (i
p33646
ag75
aV, the standard output of the process)
p33647
aVIf you want to merge the process standard output and error from Java (as opposed to using  in the actual command), you should look into
p33648
as(dp33649
g16
V14860
p33650
stp33651
a((dp33652
g2
(lp33653
VThat's undoubtedly because your code is running on the server itself, not the client
p33654
aVHence, when you ask for the IP address, it faithfully gives it to you
p33655
aVAny solution running on the server (such as examining the source IP address of the TCP session) has to keep in mind that, with firewalls and network address translation and all the other wonderful features of networking that protect us from the baddies, the address you get may bear little resemblance to the actual IP address of the client machine
p33656
aVYou need to get code running on the client machine that can basically do the same thing
p33657
aVAnd keep in mind there that a client may have many IP addresses allocated to it
p33658
aVOn my desktop machine alone, I have two physical NICs, each with two addresses and multiple virtual NICs for VPNs and VMWare images
p33659
aVGranted, my desktop box is not your ordinary home PC, but it's not out of the realms of possibility for a box to have two addresses
p33660
aVAnd, in fact, a single machine can quite easily change its IP address if on DHCP and it decides to release the lease on its address and get another one
p33661
aVAll in all, the IP address is not a very reliable indicator of which machine is doing things
p33662
aVPerhaps if you step back and give us more details on what you're trying to achieve, we can help further
p33663
as(dp33664
g16
V14860
p33665
stp33666
a((dp33667
g2
(lp33668
VIt's the ternary operator
p33669
aVThe snippet:
p33670
aVis equivalent to:
p33671
aVor (optimised):
p33672
aVThe basic form of the operator is along the lines of:
p33673
as(dp33674
g16
V14860
p33675
stp33676
a((dp33677
g2
(lp33678
VOne simple question: Do you need them to build your code
p33679
aVIf not, then they're artefacts, not source files, and have no place being in the source control system
p33680
aVThings like your editor color preferences or keybindings are not part of the build system
p33681
aVCompiler flags and so on are
p33682
aVWe store everything that's needed to build, down to the operating system install disks and required configuration
p33683
aVAnal-retentive doesn't even come close to describing us :-) If we could store the hardware, we would (we have to make do with storing a document detailing the hardware specs)
p33684
aVWe also occasionally test our capability to build the development environment from scratch using only what's stored in the repositories
p33685
aVFailure there means that we;re not covered in terms of disaster recovery
p33686
as(dp33687
g16
V14860
p33688
stp33689
a((dp33690
g2
(lp33691
VLinux is the kernel (I find myself channelling RMS here)
p33692
aVThat's what Linus wrote and that's what the kernel developers continue to work on today
p33693
aVIt controls the hardware
p33694
aVAn operating system is something that includes a kernel plus quite a few lower-level "applications" to allow you as a user to do useful stuff with your computer (think file manager, control panel and so on)
p33695
aVA distro is an operating system packaged with an absolute bucketload of higher-level applications like DVD authoring tools, web browsers, office suites and so on ad-near-infinitum
p33696
aVEven Windows does this to some extent, with the inclusion of Wordpad, Calculator and Paint, though not to the insanely prolific level that Linux distros extend to - do we really need 472 different file managers
p33697
aVChoice is good, yes, but only up to a point :-)
p33698
aVNow there are grey areas between kernel/OS and even OS/distro but I think that's a fair starting point for understanding how it hangs together
p33699
as(dp33700
g16
V14860
p33701
stp33702
a((dp33703
g2
(lp33704
VYou can use the  command to do what you want:
p33705
aVIf you're using a shell that doesn't support , you may need to use backticks instead:
p33706
as(dp33707
g16
V14860
p33708
stp33709
a((dp33710
g2
(lp33711
VIf  is a script, add the following two lines to the top:
p33712
aVand change the  line to:
p33713
aVThen, when it runs, you should have all the environment variables, and the commands that were run, in the  file
p33714
aVIf it isn't a script, make a script that calls it and add the  line to it
p33715
aVThat will at least give you the environment you're running in
p33716
as(dp33717
g16
V14860
p33718
stp33719
a((dp33720
g2
(lp33721
VMulti-threading itself doesn't affect the number of registers in use
p33722
aVWhen a thread is swapped out, it generally has its registers saved to memory and the next thread to run has those registers loaded up from its previous save
p33723
aVAn example is a system having a thread control block structure (TCB)
p33724
aVThis structure would contain (while the thread wasn't running), the saved instruction pointer, stack pointer, general purpose registers, floating point registers, thread statistics and so on
p33725
aVIn short, everything needed to totally restore the thread to the state it was in when it was swapped out for another thread to run
p33726
aVAnd not everything that goes on in a computer is done in registers
p33727
aVModern compilers can optimise code so that the data items used the most are kept in registers but the vast majority of data is held in memory and only bought into registers when needed
p33728
aVThe best book I've ever read on the subject is Tanenbaum's "Structured Computer Organization" which examines computers in terms of layers, from the digital logic level up to the operating system level, with each level building on the previous
p33729
aV
p33730
aVAside: my dream is to one day write a book just like this that covers everything, from the quark level up to Emacs :-)
p33731
as(dp33732
g16
V14860
p33733
stp33734
a((dp33735
g2
(lp33736
VIf  is an instance of a standard Java class implementing the  interface, the chance that you have found a bug with it are
p33737
aVwell, close enough to zero that we can discount it as a possibility
p33738
aVIf, on the other hand, you've implemented your own queue then, yes, there may well be a problem but, since psychic debugging is not yet a well-established field of endeavour, you're going to have to show us the code for it :-)
p33739
aVI see one of two possibilities
p33740
aVThe first is that you are somehow setting each node of your queue to the same value and you may well be removing items okay (you can detect this by adding one item then trying to remove two)
p33741
aVThis is far more likely in a language like C where you may inadvertently reuse the same pointer but it's far less likely in Java with its improved strings
p33742
aVThe second and most likely is that you're not removing the element from the queue when you call , rather you're returning the string without adjusting whatever your underlying data structure is (or, alternatively, adjusting it wrongly)
p33743
aVShort of seeing the code, that's about as good as I can do
p33744
aVAfter your update that you were indeed using , I thought I'd give it a shot with a very simple example :
p33745
aVThis outputs:
p33746
aVas expected
p33747
aVSo, bottom line is, I think we're going to need to see more of your code
p33748
aVIt's difficult to conceive that, if there were a bug in  or the  interface, it wouldn't have been found yet by the millions of other users :-)
p33749
aVYou also want to try putting the  line at a few strategic places in your code to see what's happening with the queue
p33750
aVThis may give you an indication as to what's going on
p33751
as(dp33752
g16
V14860
p33753
stp33754
a((dp33755
g2
(lp33756
VAssuming that your tables are structured something like:
p33757
aVWhat you want is the ability to insert an entry into  given only the value and the user name
p33758
aVIt's important that you do this in an atomic way to ensure the user_id/user_name mapping isn't changed underneath you
p33759
aVIn other words, you can't do:
p33760
aVsince the user_id or user_name may change between those two steps above (the user_id probably wouldn't change for the physical row, but it's certainly possible that the table could change from:
p33761
aVto:
p33762
aVSo, to do it atomically, it has to be in a single SQL statement (or part of a transaction but you can avoid a transaction in this case):
p33763
aVFor your specific case (added after my original answer), you're looking at:
p33764
as(dp33765
g16
V14860
p33766
stp33767
a((dp33768
g2
(lp33769
VBecause  gives you the newline as well
p33770
aVYou need to  it
p33771
aVTry:
p33772
aVand you'll see it starts working:
p33773
as(dp33774
g16
V14860
p33775
stp33776
a((dp33777
g2
(lp33778
VIf you mean you want to create a new batch file from an unrelated existing executable file (in other words, the batch file does something different), you do it the way you create any file
p33779
aVIn C, you'd use ,  and  to create your new file and write whatever batch file commands you want to it
p33780
aVIf you mean you want to create a batch file that "intercepts" your exe file, you can do that too
p33781
aVIf your executable file is , you can simply rename it to  and create a batch file called  thus:
p33782
aVThis will allow you to do arbitrary actions before and after your executable runs but there are things to watch out for such as executables that return control before they're actually finsihed
p33783
aVIf, however, you're talking about converting an arbitrary executable into a batch file that performs the same task, that's much more difficult
p33784
aVUnless you have the source code or a very good specification on how the executable works, you're going to have a lot of trouble
p33785
aVAutomating the conversion for anything but the simplest executable will be insanely difficult
p33786
aVAnd, if you want a link to a batch file that runs your executable, just create the batch file (say in ) containing:
p33787
aVand then create a shortcut to it from wherever you want (such as the desktop)
p33788
aVYou could even put the batch file itself in your desktop directory but I'm not a big fan of that
p33789
aVHowever, to each their own
p33790
as(dp33791
g16
V14860
p33792
stp33793
a((dp33794
g2
(lp33795
VThere's a fairly good chance that any decent compiler will detect common sub-expressions and optimise them for you
p33796
aVHowever, I would still opt for a temporary variable if it improved the readability of my code, despite the fact that it introduced extra storage (though minimal)
p33797
aVI consider maintainability of code far more important than a tiny storage hit
p33798
aVBy way of (contrived) example, I would probably replace a whole lot of:
p33799
aVcalls with:
p33800
aVAs to interpreted languages, I have less information on that
p33801
aVI know quite a bit about how to optimise assembly code (though nowhere near as much as the demigods that write compilers, which is why I normally leave it to them)
p33802
aVI know somewhat less about the virtual machines running inside most interpreters
p33803
aVBut I would still code for readability
p33804
aVI don't want to see a bucketload of  snippets stuck in my code
p33805
aVI would rather add
p33806
aVin there somewhere and just use  from that point onward
p33807
as(dp33808
g16
V14860
p33809
stp33810
a((dp33811
g2
(lp33812
VMicrosoft have delivered a gee-whiz WPF AboutBox for VS2010 (as a downloadable control, not in the product) but there was no such beast in VS2008 last time I looked (about a month ago)
p33813
aVI ended up just creating a WinForms one (from the wizard) which worked fine
p33814
aVI then found I could simplify it to just use hard-coded values since I didn't need any of that variable-based stuff:
p33815
aVAboutBox1
p33816
aVcs:
p33817
aVTo call it, just use:
p33818
aVI haven't included the boilerplate files from the wizard,  and , since the attempt made me realise SO has a 30K limit for answers (and they're pretty chunky)
p33819
aVYou should just use what the wizard gives you
p33820
as(dp33821
g16
V14860
p33822
stp33823
a((dp33824
g2
(lp33825
VUse:
p33826
aVor:
p33827
as(dp33828
g16
V14860
p33829
stp33830
a((dp33831
g2
(lp33832
VYour google-fu is indeed weak, young padawan :-)
p33833
aVTry googling for
p33834
aVThe first and second links are actual code implementations (the first under a liberal MIT licence, no idea about the second)
p33835
as(dp33836
g16
V14860
p33837
stp33838
a((dp33839
g2
(lp33840
VMeasure, don't guess
p33841
aVThis is something you should be doing yourself, with production-like data
p33842
aVWe don't know the make-up of your data and that makes a big difference
p33843
aVHaving said that, I wouldn't do it either way
p33844
aVI'd create another column,  to store  if non-NULL and  if  is NULL
p33845
aVThen I'd have an insert/update trigger to populate that column correctly, index it and use the screaming-banshee-speed:
p33846
aVThe vast majority of databases are read more often than written and it's better if this calculation is done as few times as possible (i
p33847
ag75
aV, when the data changes, not every time you select it)
p33848
aVIf you want your databases to be scalable, don't use per-row functions
p33849
aVIt's perfectly valid to sacrifice disk space for speed and the triggers ensure that the data doesn't become inconsistent
p33850
aVIf adding another column and triggers is out of the question, I'd go for the  solution since it can often be split into two parallel queries by the smarter DBMS engines
p33851
aVAn alternative, which MarkB gave but since deleted his answer so I'll have to go hunting for another good answer of his to upvote :-), is to use
p33852
aVIf your DBMS isn't quite smart enough to recognise  as a chance for parallelism, it may be smart enough to recognise  in that context, something like:
p33853
aVBut again, it depends on both your database and your data
p33854
aVA smart DBA would put the whole thing in a stored procedure so they could swap in a new method seamlessly should the data change its properties
p33855
as(dp33856
g16
V14860
p33857
stp33858
a((dp33859
g2
(lp33860
VBoth floats and doubles have representations for infinity
p33861
aVIntegral types do not have this capacity built into the language but, if you need it, there are tricks you can use to assign  or  from  for that purpose
p33862
aVOf course, to do that, you have to have complete control of the calculations - you don't want a regular calculation ending up with that value and then being treated as infinity from there on
p33863
aVFor numbers larger than those that can be represented by the native types, you can turn to an arbitrary precision math library such as GMP
p33864
as(dp33865
g16
V14860
p33866
stp33867
a((dp33868
g2
(lp33869
VWhether this is the most efficient or quickest, I'm unsure, but this is how I would do it
p33870
aVIf it turned out to be a bottleneck, then and only then would I look into optimising further:
p33871
aVYou ensure that the first range starts earlier (or at the same time) by swapping the ranges if necessary
p33872
aVThen, you can detect overlap if the other range start is less than or equal to the first range end (if ranges are inclusive, containing both the start and end times) or less than (if ranges are inclusive of start and exclusive of end)
p33873
aVAssuming inclusive at both ends, there's only four possibilities of which one is a non-overlap:
p33874
aVThe endpoint of the range 2 doesn't enter into it
p33875
aVSo, in pseudo-code:
p33876
aVIf the ranges are inclusive at the start and exclusive at the end, you just have to replace  with  in the second  statement:
p33877
aVYou greatly limit the number of checks you have to make because you remove half of the problem space early by ensuring range 1 never starts after range 2
p33878
as(dp33879
g16
V14860
p33880
stp33881
a((dp33882
g2
(lp33883
VIt's not enough to know
p33884
aVAllocation of an item to a bucket is a function of the item itself so, if you want a perfect hash function (one item per bucket), you need to know the data
p33885
aVIn any case, if you're limiting the number of elements to a known , you're already technically O(1) lookup
p33886
aVThe upper bound will be based on the constant
p33887
aVThis would be true even for a non-hash solution
p33888
aVYour best bet is to probably just use the hash function you have and have each bucket be a linked list of the colliding items
p33889
aVEven if the hash is less than perfect, you're still greatly minimising the time taken
p33890
aVOnly if the hash is totally imperfect (all  elements placed in one bucket) will it be as bad as a normal linked list
p33891
aVIf you don't know the data in advance, a perfect hash is not possible
p33892
aVUnless, of course, you use  itself as the hash key rather than  but that's going to take an awful lot of storage :-)
p33893
aVMy advice is to go the good-enough hash with linked list route
p33894
aVI don't doubt that you could make a better hash function based on the relative frequencies of letters in people's names across the population but even the hash you have (which is ideal for all letters having the same frequency) should be adequate
p33895
aVAnd, anyway, if you start relying on frequencies and you get an influx of people from those countries that don't seem to use vowels (a la Bosniaa), you'll end up with more collisions
p33896
aVBut keep in mind that it really depends on the  that you're using
p33897
aVIf  is small enough, you could even get away with a sequential search of an unsorted array
p33898
aVI'm assuming your  is large enough here that you've already established that (or a balanced binary tree) won't give you enough performance
p33899
aVA case in point: we have some code which searches through problem dockets looking for names of people that left comments (so we can establish the last member on our team who responded)
p33900
aVThere's only ever about ten or so members in our team so we just use a sequential search for them - the performance improvement from using a faster data structure was deemed too much trouble
p33901
aVaNo offence intended
p33902
aVI just remember the humorous article a long time ago about Clinton authorising the airlifting of vowels to Bosnia
p33903
aVI'm sure there are other countries with a similar "problem"
p33904
as(dp33905
g16
V14860
p33906
stp33907
a((dp33908
g2
(lp33909
VIf you mean just the double quote in , you can use:
p33910
aVas in:
p33911
as(dp33912
g16
V14860
p33913
stp33914
a((dp33915
g2
(lp33916
VI'm not entirely sure I see your problem
p33917
aVin this case is clearly  and you should be using  which is
p33918
aVIf you mean you want to ensure that the user specifies  first, you can use something like:
p33919
aVIf the  is optional, you can often do:
p33920
aVand then use  and
p33921
aVDoing true position-independent parameter parsing in batch is not an easy job
p33922
aVWe have a subsystem which does it but unfortunately, it's proprietary
p33923
aVI will tell you it runs across about 80-odd lines and is not the fastest beast in the world
p33924
aVMy advice would be to impose strict requirements of the argument formats rather than go down the position-independent path
p33925
aVYou'll save yourself a lot of hassles :-)
p33926
as(dp33927
g16
V14860
p33928
stp33929
a((dp33930
g2
(lp33931
VIt is immutable
p33932
aVYou're not changing the underlying string with those statements, you're creating/using a brand new string
p33933
aVThe pointer itself can change as often as you want but that's not the string
p33934
as(dp33935
g16
V14860
p33936
stp33937
a((dp33938
g2
(lp33939
VIt's generally used by automated code generation tools (like  or ) to set the line number to the value of the line in the actual source file rather than the  source file
p33940
aVThat way, when you get an error that says:
p33941
aVyou can look at line 15 of the actual source file to see the problem
p33942
aVOtherwise, it says something ridiculous like  and you have to manually correlate that line in your auto-generated  file with the equivalent in your real file
p33943
aVTrust me, unless you want to get deeply involved in the internals of lexical and semantic analysis (or you want a brain haemorrhage), you don't want to go through the code generated by  ( may generate nicer code, I don't know but nor do I really care since I write the higher level code)
p33944
aVIt has two forms as per the C99 standard:
p33945
aVThe first sets just the reported line number, the second changes the reported filename as well, so you can get an error in line 27 of  instead of
p33946
aVAs to "the programmer put it in purely for the sheer joy of lying to the compiler", no
p33947
aVWe may be bent and twisted but we're not usually malevolent :-) That line was put there by  or  itself to do you a favour
p33948
as(dp33949
g16
V14860
p33950
stp33951
a((dp33952
g2
(lp33953
VFrom the C99 standard:
p33954
aVIf the size of the space requested is zero, the behavior is implementation-defined: either a null pointer is returned, or the behavior is as if the size were some nonzero value, except that the returned pointer shall not be used to access an object
p33955
aVYou're better off using
p33956
aVThat's guaranteed to return non-NULL if the memory is available
p33957
as(dp33958
g16
V14860
p33959
stp33960
a((dp33961
g2
(lp33962
VI always design to 3NF (and urge others to)
p33963
aVIf you strike specific performance problems, you can then (and only then) figure out the merits of reverting to non-normalised data
p33964
aVYou don't revert just for the sake of reverting, since that introduces its own set of problems
p33965
aVThe point of having normalised data is to avoid inconsistencies in the data
p33966
aVYou can revert for performance but you then usually have to introduce "tricks" (like triggers) to ensure data consistency (the C is ACID)
p33967
as(dp33968
g16
V14860
p33969
stp33970
a((dp33971
g2
(lp33972
VIf the only difference between the two types of patients is whether it's their first visit or not, it would be a silly idea to dedicate another table for this
p33973
aVSimply have an attribute in the one table which indicates the status of the patient ( or
p33974
aV, I guess)
p33975
aVIf a decision is made at some point to mark someone as "will not become an old-timer, just remove them from the table altogether
p33976
aVThough that's not how I'd approach it since you never know if they might return and, by removing them, you have no record that they've been there before
p33977
aVLeaving first-timers lying around in a table doesn't sound too onerous, especially if there's only about a thousand of them
p33978
as(dp33979
g16
V14860
p33980
stp33981
a((dp33982
g2
(lp33983
VJava SE (standard edition) is just the normal specification of Java
p33984
aVJava EE (enterprise edition) is Java with all sorts of add-ons for enterpris-y things like:
p33985
aVEnterprise JavaBeans;
p33986
aVJava Persistence API;
p33987
aVServlets;
p33988
aVJava Server Pages
p33989
aV(not an exhaustive list, more detail available on Wikipedia)
p33990
aVYou generally get Java SE when you download the SDK (for development) or JRE (for running Java applications)
p33991
aVOn the other hand, you generally get all the Java EE goodies when you start using IBM Websphere Application Server, or JBoss, or another enterprise-class application server
p33992
aVYou can download the Oracle Java EE 6 SDK here
p33993
aVThe JSR for Java EE 6 is here
p33994
as(dp33995
g16
V14860
p33996
stp33997
a((dp33998
g2
(lp33999
VYou could try using 64-bit unsigned integers (check your C implementation for support), or simply use a BigNum package like GMP
p34000
aVIn the past, I've made BigNum libraries myself for various purposes but GMP blows my meagre efforts out of the water
p34001
as(dp34002
g16
V14860
p34003
stp34004
a((dp34005
g2
(lp34006
VIn a little-endian architecture, the number  () will be stored as:
p34007
aVand, because you're using  on its own, the C standard doesn't specify whether it's signed or unsigned (it's implementation defined)
p34008
aVIn your case, it appears to be signed
p34009
aVAside: sign extension happens in two's complement encoding when you load a "thin" data value into a wider one
p34010
aVWhere the top bit of the thin number is 1 (indicating a negative number), this is extended to all higher bits in the wider type
p34011
aVThe reason this is done is to preserve the nature of the number
p34012
aVFor example, -12 in 8-bit is , in 16-bit is  and in 256-bit is
p34013
aVThat means the  ( or ) will be sign-extended to
p34014
aVThat's likely to screw up your  and  solutions quite badly
p34015
aVThe values you'll get are:
p34016
aVMethod 1 uses  so you end up with  (the other one bit in x1 are already set in x0 so it remains unaffected, and x2/x3 are all zero) which is  as an
p34017
aVMethod 2 adds them so that you end up with  which of course wraps, discarding the high byte and leaving you with  or 244
p34018
aVIn method 3, the sign extension still happens but before you  it with
p34019
aVIt's that  operation that reverses the effect of the sign extension and turns your  back into
p34020
aVAs others have already mentioned, use  explicitly
p34021
aVThis will prevent sign extension happening when promoting to a larger integral type
p34022
as(dp34023
g16
V14860
p34024
stp34025
a((dp34026
g2
(lp34027
VYou have to escape the  characters
p34028
aVIn a C string  is the TAB character
p34029
aVUse:
p34030
as(dp34031
g16
V14860
p34032
stp34033
a((dp34034
g2
(lp34035
VMy thoughts (and I've been wrong before, just ask my wife) are that it's simply a holdover from earlier incarnations of the language
p34036
aVEarly versions of C did not allow you to declare variables anywhere you wanted in a function, they had to be at the top (or maybe at the start of a block, it's hard to remember off the top of my head since I rarely do that nowadays)
p34037
aVIn addition, you have the understandable desire to set a variable only when you know what it should be
p34038
aVThere's no point in initialising a variable to something if the next thing you're going to do with it is simply overwrite that value (that's where the performance people are coming from here)
p34039
aVThat's why it's necessary to allow uninitialised variables though you still shouldn't use them before you initialise them, and the good compilers have warnings to let you know about it
p34040
aVIn C++ (and later incarnations of C) where you can create your variable anywhere in a function, you really should create it and initialise it at the same time
p34041
aVBut that wasn't possible early on
p34042
aVYou had to use something like:
p34043
aVNowadays, I'd opt for:
p34044
as(dp34045
g16
V14860
p34046
stp34047
a((dp34048
g2
(lp34049
VWe still actually use it in some of our production code, a toolkit for historical monitoring of various server performance and configuration details
p34050
aVIt was very handy for us since it was quite easy to put together some VBScript files under the control of Scheduled Tasks which did the data collection and transmission
p34051
aVThis makes it runnable on a wide variety of Windows boxes without having to worry about compiling to the right target
p34052
aVIt also allowed very fast bug fixing in the field since we can just ship a simple text file
p34053
aVThe fact that the source code is viewable is of no concern to us, it's not as if the idea of using WMI to collect data is some sort of precious IP :-)
p34054
aVI'm sure there's better tools but this was the simplest way we found
p34055
aVAs far as I'm aware, it's still supported, inasmuch as they're still providing it in the later operating systems
p34056
aVThe only thing that burnt us (once) was the subtle changes between releases, such as objects themselves being deprecated or removed, making the WMI queries useless
p34057
aVWe just need to watch out for that happening and adjust the scripts as necessary
p34058
as(dp34059
g16
V14860
p34060
stp34061
a((dp34062
g2
(lp34063
VYes, by use of the fact that a  is not equal to any other number, including itself
p34064
aVThat makes sense when you think about what  means, the fact that you've created a value that isn't really within your power to represent with "normal" floating point values
p34065
aVSo, if you create two numbers where you don't know what they are, you can hardly consider them equal
p34066
aVThey may be but, given the rather large possibility of numbers that it may be (infinite in fact), the chances that two are the same number are vanishingly small :-)
p34067
aVYou can either look for a function (macro actually) like  (in  for C and  for C++) or just use the property that a  value is not equal to itself with something like:
p34068
aVIf, for some bizarre reason, your C implementation has no  (it should, since the standard mandates it), you can code your own, something like:
p34069
as(dp34070
g16
V14860
p34071
stp34072
a((dp34073
g2
(lp34074
VYou're not restricted to using the  conditional statements - each command is a shell command which may be as complex as you need (including a shell conditional statement):
p34075
aVConsider the following :
p34076
aVWhen you use , there is no output
p34077
aVWhen you use , it outputs  as expected
p34078
as(dp34079
g16
V14860
p34080
stp34081
a((dp34082
g2
(lp34083
VI would do this as a recursive call, one function to do all of a specific length, another to call that for all relevant lengths
p34084
aVThe following complete C# 2008 console application shows what I mean:
p34085
aVThis outputs:
p34086
aVwhich is what I think you were after
p34087
as(dp34088
g16
V14860
p34089
stp34090
a((dp34091
g2
(lp34092
VIf that's a  function, I would just use:
p34093
aVor
p34094
aVI'm not a big fan of using C/C++ "extensions" since they tie me to a specific implementation of the language
p34095
aVYou should never use a non-standard extension where a perfectly adequate standard method is available
p34096
as(dp34097
g16
V14860
p34098
stp34099
a((dp34100
g2
(lp34101
VI've always believed it was to keep the session establishment phase separate from the data transfer phase so that no real data is transferred until both ends of the session have agreed on the sequence numbers and session options, especially since packets arriving may be from a totally different, previous, session that just happens to have the same endpoints
p34102
aVHowever, on further investigation, I'm not entirely certain that transmitting data with the handshake packets is disallowed
p34103
aVThe section on TCP connection establishment in my Internetworking with TCP/IP1 book contains the following snippet:
p34104
aVBecause of the protocol design, it is possible to send data along with the initial sequence numbers in the handshake segments
p34105
aVIn such cases, the TCP software must hold the data until the handshake completes
p34106
aVOnce a connection has been established, the TCP software can release data being held and deliver it to a waiting application program quickly
p34107
aVSince it's certainly possible to construct a TCP packet with  (or ) and data, this may well be allowed
p34108
aVI've never seen it happen in the wild but, then again, I've never seen a hairy-eared dwarf lemur in the wild either, though I'm assured they exist
p34109
aVIt may be that it's the sockets software that prevents data going out before the session is fully established but TCP appears to consider it valid
p34110
aVIt appears you can send data with a  packet (phase 2 of the connection establishment) since you have the other end's sequence number and options
p34111
aVLikewise, sending data with the phase 3  packet appears to be possible as well
p34112
aVThe reason the TCP software holds on to the data until the handshake is fully complete is probably due to the reason mentioned above - only once both ends have agreed on the sequence numbers can you be sure that the data is not from a previous session
p34113
ag2193
as(dp34114
g16
V14860
p34115
stp34116
a((dp34117
g2
(lp34118
VI would use neither of those two but that's just personal preference
p34119
aVOf the two,  is the safest for terminating a thread since the thread is only supposed to be affected when it has set its cancelability state to true using
p34120
aVIn other words, it shouldn't disappear while holding resources in a way that might cause deadlock
p34121
aVThe  call sends a signal to the specific thread, and this is a way to affect a thread asynchronously for reasons other than cancelling it
p34122
aVMost of my threads tends to be in loops doing work anyway and periodically checking flags to see if they should exit
p34123
aVThat's mostly because I was raised in a world when  was dangerous and  didn't exist
p34124
aVI subscribe to the theory that each thread should totally control its own resources, including its execution lifetime
p34125
aVI've always found that to be the best way to avoid deadlock
p34126
aVTo that end, I simply use mutexes for communication between threads (I've rarely found a need for true asynchronous communication) and a flag variable for termination
p34127
as(dp34128
g16
V14860
p34129
stp34130
a((dp34131
g2
(lp34132
VError 410 is a "configuration file not found" error based on Apendix A of the user guide
p34133
aVAre you sure your  file is in the directory you're running your code in
p34134
aVFailing that, error 251 states "Incorrect runtime command" and all the samples I can find have an uppercase
p34135
aVSo maybe change your C program to use to:
p34136
aVand see if that fixes it (a long shot, I know, but I've seen stranger things than that)
p34137
aVBased on update:
p34138
aVI tried changing the c to a C on the C=WINDOWS
p34139
aVCFG, ran it in C++ and directly on the Command Line, no change
p34140
aVI am still looking into the reasons behind this, and I read through tek-tips
p34141
aVcom/viewthread
p34142
aVcfm
p34143
aVqid=1119251&page;=5 but I couldn't use any of that info
p34144
aVAny extra tips would be gold at this point
p34145
aVTHANKS
p34146
aVA couple of questions:
p34147
aVHas it ever worked in this environment
p34148
aVIs it failing on both cmdline and within C (just want to clarify)
p34149
aVDoes windows
p34150
aVcfg actually exist in the current directory when you run it
p34151
aVAre you running it in a directory with spaces (like )
p34152
aVOther than that, maybe post the windows
p34153
aVcfg file, though the error seems pretty explicit that it's config file not found rather than error in config file
p34154
as(dp34155
g16
V14860
p34156
stp34157
a((dp34158
g2
(lp34159
VEven if you're not interested in career development, you probably should be interested in marketability of your skills
p34160
aVTo that end, I would choose (and, in fact, have chosen) C#
p34161
aVI'm afraid that VB is still stained as being considered a toy language even though it's every bit as powerful as the vast majority of other languages
p34162
aVThis is not a technical argument (since I haven't used the latest VB) but I do keep my finger on the pulse of people who hire and fire and there is still that perception there, however unfounded
p34163
aVGiven that both C# and VB use the underlying
p34164
aVNET, there's probably not a great deal of difference under the covers
p34165
aVBut, since you already have experience with languages more like C# than VB (C/C++), I would go with that
p34166
aVI've found WPF quite easy to get used to, coming from a Java Swing world and my application, after a little help from the SO crowd, actually look quite good
p34167
aVAnd, if I were not even interested in skills marketability, I would choose the easiest path which, for you, is likely to be C#, simply because of your huge exposure to C/C++
p34168
as(dp34169
g16
V14860
p34170
stp34171
a((dp34172
g2
(lp34173
VFor the entire class, you define it as  inside the class but outside any function, such as:
p34174
aVBut make sure that's what you want
p34175
aVThat one single variable will be shared amongst all instances of your class and you'll probably have to synchronise access to it if you're using threads
p34176
aVIf you want something that's available to all functions in your class but still has one per instance, leave off the static
p34177
as(dp34178
g16
V14860
p34179
stp34180
a((dp34181
g2
(lp34182
VIt's almost certainly because you haven't allocated space for your string
p34183
aVThe reason  works is because you set the pointer to point to a string that already exists (the compiler generally puts that "123" into pre-initialised memory and it just gets loaded)
p34184
aVBy using something like:
p34185
aVyou'll generally run into problems because there's no allocated backing storage for the  pointer
p34186
aVWhat you can do is to simply set  directly to the buffer where you -ed the string:
p34187
aVOr, if you're re-using that buffer (so that the value gets overwritten for multiple integer arguments), use
p34188
aVAnd if, for some reason, your platform doesn't have a , here's one for you:
p34189
aVKeep in mind you should always check the return value from  to make sure the memory allocation worked
p34190
aVI've left it out here since it's not relevant to the question at hand
p34191
aVYou can avoid memory allocation with multiple buffers (provided you know the absolute number of buffers you'll need in advance):
p34192
as(dp34193
g16
V14860
p34194
stp34195
a((dp34196
g2
(lp34197
VDoes SQL*Plus not allow you to run its commands from the shell
p34198
aVIt's been a while since I used it but I though it did
p34199
aVI know with DB2 you can just do:
p34200
aVat the command line and let the shell handle the paging
p34201
aVIf not, I'd just create an  script like:
p34202
aVand use it:
p34203
aVThat way you get the full power of  paging, being able to scroll up and down, search and so on
p34204
as(dp34205
g16
V14860
p34206
stp34207
a((dp34208
g2
(lp34209
VA way I've done it in the past is to simply put at the top of each script (say, ):
p34210
aVthen have another job that runs periodically that uses  to locate all those "marker" files in  that are older than a day
p34211
aVYou can fiddle with the timings, having  and  to separate jobs that have different schedules
p34212
aVNote that this won't catch scripts that have never run since they will never create the initial file for -ing
p34213
aVTo alleviate that, you can either:
p34214
aVcreate that file manually when creating the cron job (won't handle situations where someone inadvertently deletes the marker file); or
p34215
aVmaintain a list of required marker files somewhere so that you can detect when they're missing as well as outdated
p34216
aVAnd, if your cron job is not a script, put the  directly into :
p34217
aVIt's a lot easier to validate a simple  script than to validate every one of your  jobs
p34218
as(dp34219
g16
V14860
p34220
stp34221
a((dp34222
g2
(lp34223
VI can only suggest that you're doing something wrong though it's a little hard to tell exactly what (you should generally post your code when asking about specifics)
p34224
aVSample programs, like the following, seem to work fine:
p34225
aVIt outputs:
p34226
aVThe only possibility that springs to mind immediately is if you're using  instead of
p34227
aVIn that case, you would get:
p34228
as(dp34229
g16
V14860
p34230
stp34231
a((dp34232
g2
(lp34233
VThat's unlikely to be an issue with your code (unless  is particularly slow)
p34234
aVThe first thing I would do is to output the time (preferably to the millisecond, with , I think) in between each of those lines in your code, to find out exactly where the time is being spent
p34235
aVThe  may well have to go out to a remote DNS machine to resolve the IP address into a hostname
p34236
aVIf your network is set up badly, or the DNS server containing that address is in the remote regions of the Tibetan mountains for example, resolution will take some time
p34237
aVFrom your command line, enter:
p34238
aV(where  is the IP address you're interested in) and see how long that takes
p34239
aVBased on your comment between the ruler lines below:
p34240
aVI am working on LAN with just 3 machines
p34241
aVAlso that network is not connected to the internet
p34242
aVIt takes 16 secs (+/- some millisecs) for only the line:
p34243
aVwhile:
p34244
aVis instantaneous
p34245
aVBelow is the output of Ping (instant output) and nslookup:
p34246
aVI think your problem is with that timeout
p34247
aVIt appears your network is set up okay for DNS name resolution but not IP reverse resolution
p34248
aVWhen you just type , it should show you your DNS server that it's trying to use and this will probably give you a clue
p34249
aVIt may be that resolving names to IP addresses doesn't go out through DNS but is instead handled with local information
p34250
aVThat's about as much help as I can give you with the current information
p34251
aVSince this now seems very much a SuperUser question now rather than StackOverflow, I'll nudge it over to there
p34252
as(dp34253
g16
V14860
p34254
stp34255
a((dp34256
g2
(lp34257
VI don't know what doco you've seen for the  command but the output of  clearly states:
p34258
aVThe /P switch allows you to set the value of a variable to a line of input entered by the user
p34259
aV(my italics)
p34260
aVI think  is getting its input from the console regardless of what you're trying to pipe in through standard input
p34261
aVWhy it's not waiting, I'm not sure
p34262
aValso fails to set the variable
p34263
aVBut, if you want to set a variable from a single line file, you can just use one of these:
p34264
aVThat second one is the simplest but it doesn't help much if you want to grab the output of an arbitrary command but you may well have to direct it to a file first
p34265
aVThe first one allows you to execute arbitrary commands without temporary files:
p34266
aVThere's an interesting snippet on this page which suggests it has to do with contexts:
p34267
aVOk, I found out why myself
p34268
aVIt's because the  creates a new context so the variable never makes it out to the rest of the current context
p34269
aVProof:
p34270
aValthough I decline to comment on the veracity of that conclusion
p34271
aVI don't know what contexts are in this sense, I'm just bringing it to your attention for completeness
p34272
as(dp34273
g16
V14860
p34274
stp34275
a((dp34276
g2
(lp34277
VThis answer primarily for those who don't trust online services and cannot use GPL/LGPL software for various reasons
p34278
aVIf those aren't problems, Andreas_D's answer is probably better
p34279
aVIt's an interesting problem
p34280
aVHere's how I'd approach it
p34281
aVFor every language you want to support, pick the twenty most common words in that language, that are unique to that language (such as ,  and  and so forth for English)
p34282
aVIn other words, don't use blancmange or souffl to identify French, since you may well get a message from a German chef
p34283
aVThen just score your languages against the email to see which language has the highest occurrence of those words
p34284
aVBut I wouldn't use that to exclusively decide the language
p34285
aVRather I'd use it to select the order in which the messages appeared
p34286
aVIf an email was predominantly German but stood even a little chance of being French, I'd put the message out like this:
p34287
aVGerman bit
p34288
aVFrench bit
p34289
aVEnglish bit (see below)
p34290
aVEach "bit" would also contain a section at the start along the lines of "We have detected your most likely language as BLAH but, if this is not the case, scroll down for other likely languages"
p34291
aVAnd always have the fallback of English just in case you're dead wrong
p34292
aVI know it's linguocentric but I'm pretty certain the vast majority of Internet users are forced to deal with English (or its strange and slightly warped cousin, American) every day
p34293
as(dp34294
g16
V14860
p34295
stp34296
a((dp34297
g2
(lp34298
VI've always pointed people towards Harald Schmidt's online converter, along with the Wikipedia IEEE754-1985 article with its nice pictures
p34299
aVFor those two specific values, you get (for 0
p34300
aV1):
p34301
aVThe sign is positive, that's pretty easy
p34302
aVThe exponent is , so the multiplier is  or
p34303
aVThe mantissa is chunky
p34304
aVIt consists of  (the implicit base) plus (for all those bits with each being worth  as  starts at  and increases to the right),
p34305
aVWhen you add all these up, you get
p34306
aVWhen you multiply that by the multiplier, you get , which is why they say you cannot represent  exactly as an IEEE754 float, and provides so much opportunity on SO for people answering -type questions :-)
p34307
aVThe 0
p34308
aV5 example is substantially easier
p34309
aVIt's represented as:
p34310
aVwhich means it's the implicit base, , plus no other additives (all the mantissa bits are zero)
p34311
aVThe sign is again positive
p34312
aVThe exponent is
p34313
aVHence the multiplier is  which is  or
p34314
aVSo the final value is  multiplied by , or
p34315
aVVoila
p34316
aVI've sometimes found it easier to think of it in terms of decimal
p34317
aVThe number 1
p34318
aV345 is equivalent to
p34319
aVor:
p34320
aVSimilarly, the IEEE754 representation for decimal  is:
p34321
aVWith the implicit base of 1, that's equivalent to the binary:
p34322
aVor:
p34323
aVwhich becomes:
p34324
aVand then becomes:
p34325
as(dp34326
g16
V14860
p34327
stp34328
a((dp34329
g2
(lp34330
VOne great advantage of open source software is that the source is, well, open :-)
p34331
aVBash itself does not provide this functionality but there are various tricks you can use to provide a subset (such as substituting  with  and so on)
p34332
aVHowever, this requires a lot of duplication of functionality and ensuring that the code is kept in sync with whatever  does in future
p34333
aVIf you want to get all the power of prompt variables (and you don't mind getting your hands dirty with a bit of coding (and, if you do mind, why are you here
p34334
aV, it's easy enough to add to the shell itself
p34335
aVIf you download the code for  (I'm looking at version 4
p34336
aV2), there's a  file which contains the  function:
p34337
aVThis is the function that evaluates the  variables for prompting
p34338
aVIn order to allow this functionality to be provided to users of the shell itself (rather than just used by the shell), you can follow these steps to add an internal command
p34339
aVFirst, change  so that you won't confuse it with a "real" , and so that the FSF can deny all knowledge for warranty purposes :-) Simply change one line (I added the  bit):
p34340
aVSecond, change `builtins/Makefile
p34341
aVin to add a new source file
p34342
aVThis entails a number of steps
p34343
aV(a) Add  to the end of
p34344
aV(b) Add  to the end of
p34345
aV(c) Add the required dependencies:
p34346
aVThird, add the  file itself, this is the code that gets executed when you run the  command:
p34347
aVThe bulk of that is the GPL licence (since I modified it from ) with a very simple function at the end to get and decode
p34348
aVLastly, just build the thing in the top level directory:
p34349
aVThe  executable that appears can be renamed to , though I doubt it will ever become as prevalent as its ancestor :-)
p34350
aVAnd running it, you can see it in action:
p34351
aVWhen you put one of the  variables into the prompt, echoing  simply gives you the variable, while the  command evaluates it and outputs the result
p34352
aVNow, granted, making code changes to  to add an internal command may be considered by some to be overkill but, if you want an perfect evaluation of , it's certainly an option
p34353
as(dp34354
g16
V14860
p34355
stp34356
a((dp34357
g2
(lp34358
VYou read every line but only process every third one:
p34359
aVThe  will cycle  through  and lines will only be processed when it's zero (so lines 1, 4, 7,
p34360
as(dp34361
g16
V14860
p34362
stp34363
a((dp34364
g2
(lp34365
VYou can try:
p34366
aVThis is a feature of the Windows  command and you can use  to get the details:
p34367
aVIn addition, substitution of FOR variable references has been enhanced
p34368
aVYou can now use the following optional syntax:
p34369
aV%~I         - expands %I removing any surrounding quotes (")
p34370
aV%~fI        - expands %I to a fully qualified path name
p34371
aV%~dI        - expands %I to a drive letter only
p34372
aV%~pI        - expands %I to a path only
p34373
aV%~nI        - expands %I to a file name only
p34374
aV%~xI        - expands %I to a file extension only
p34375
aV%~sI        - expanded path contains short names only
p34376
aV%~aI        - expands %I to file attributes of file
p34377
aV%~tI        - expands %I to date/time of file
p34378
aV%~zI        - expands %I to size of file
p34379
aV%~$PATH:I   - searches the directories listed in the PATH
p34380
aVenvironment variable and expands %I to the
p34381
aVfully qualified name of the first one found
p34382
aVIf the environment variable name is not
p34383
aVdefined or the file is not found by the
p34384
aVsearch, then this modifier expands to the
p34385
aVempty string
p34386
aVThe modifiers can be combined to get compound results:
p34387
aV%~dpI       - expands %I to a drive letter and path only
p34388
aV%~nxI       - expands %I to a file name and extension only
p34389
aV%~fsI       - expands %I to a full path name with short names only
p34390
aV%~dp$PATH:I - searches the directories listed in the PATH
p34391
aVenvironment variable for %I and expands to the
p34392
aVdrive letter and path of the first one found
p34393
aV%~ftzaI     - expands %I to a DIR like output line
p34394
aVIn the above examples %I and PATH can be replaced by other valid
p34395
aVvalues
p34396
aVThe %~ syntax is terminated by a valid FOR variable name
p34397
aVPicking upper case variable names like %I makes it more readable and
p34398
aVavoids confusion with the modifiers, which are not case sensitive
p34399
as(dp34400
g16
V14860
p34401
stp34402
a((dp34403
g2
(lp34404
VA perceptron is a term from artificial intelligence/neural networks
p34405
aVIt operates in much the same way as a single neuron is supposed to operate in the brain
p34406
aVIt has a number of inputs and a single output
p34407
aVAll this file is doing is specifying what the output should be for a given set of inputs
p34408
aVThat's why the  and  are named differently
p34409
aVAs to why it's morphing the output from 0 to -1 (that's all it's doing by the way: changing zeros in the third file column into negative one), I'm not sure
p34410
aVThe outputs of perceptrons almost invariably feed into other perceptrons so passing a -1 to something that expects 0 or 1 is an
p34411
aVinteresting
p34412
aVidea
p34413
as(dp34414
g16
V14860
p34415
stp34416
a((dp34417
g2
(lp34418
VI hardly know where to begin :-)
p34419
aVIn C, strings are just  arrays which, by convention, end with a NUL byte
p34420
aVIn terms of dynamic memory management, you can simply  the space for them (including the extra byte)
p34421
aVMemory management when modifying strings is your responsibility:
p34422
aVIn C++, strings () are objects with all the associated automated memory management and control which makes them a lot safer and easier to use, especially for the novice
p34423
aVFor dynamic allocation, use something like:
p34424
aVI know which I'd prefer to use, the latter
p34425
aVYou can (if you need one) always construct a C string out of a  by using the  method
p34426
as(dp34427
g16
V14860
p34428
stp34429
a((dp34430
g2
(lp34431
VIf you're storing them as strings rather than bit patterns:
p34432
aVIPv4 addresses consist of four 3-digit decimal characters with three  separators, so that only takes 15 characters such as
p34433
aVIPv6 addresses consist of eight 4-digit hex characters with seven  separators, so that takes 39 characters such as
p34434
as(dp34435
g16
V14860
p34436
stp34437
a((dp34438
g2
(lp34439
VYou're getting rubbish printed out because  does not null-terminate your buffer
p34440
aVThe important section in the below code is:
p34441
aVwhich will properly terminate your buffer before trying to print it, as well as remove the trailing newline if present (and allow the client to distinguish between input and echoed lines)
p34442
aVThis one (a complete program) works a little better:
p34443
aVOn the client side:
p34444
aVand, on the server side:
p34445
as(dp34446
g16
V14860
p34447
stp34448
a((dp34449
g2
(lp34450
VYou should probably re-do your schema
p34451
aVWhenever you have something that looks like an array in a single row, it's often better to split it out to separate rows
p34452
aVBut, assuming you're stuck with the current schema, I'd just go for a simple:
p34453
aV(substituting in the correct SQL Server transaction syntax if need be)
p34454
aVIf you don't want to actually change the underlying data, you can use a view, but it's likely to be hideous, and you may want to opt for doing the transformation in whatever application you're using to execute the SQL instead
p34455
aVOne possibility, but I strongly urge you not to do this, and there may be a better vendor-specific way:
p34456
aVcreate a view  over the table which leaves all columns untouched except for  which becomes  (or whatever the SQL Server equivaluent is -  if it's not NULL otherwise 0)
p34457
aVcreate a view  over the view  which leaves all columns untouched except for  which becomes
p34458
aVcreate a view  over the view  which leaves all columns untouched except for  which becomes
p34459
aVblah, blah, blah
p34460
aVcreate a view  over the view  which leaves all columns untouched except for  which becomes
p34461
aVuse the view
p34462
aVAs I said, a massive kludge and please, for the love of whatever gods you believe in, don't use it
p34463
aVBut sometimes needs dictate our actions so I'm putting it out there just in case
p34464
aVAll care, no responsibility, test (and profile) it yourself
p34465
aVAnd, having posted that and discovered Damien has a more compact version, I also like to offer the following
p34466
aVIt's sometimes useful to sacrifice space for time (make things faster at the expense of more disk space taken up)
p34467
aVYou can create another 8 columns,  through , to store the morphed values that I suggested in my first solution
p34468
aVThis would normally violate 3NF but that's actually okay if you do two things: (1) understand the ramifications; and (2) mitigate the chance of inconsistent data
p34469
aVBy the use of insert/update triggers, you can actually guarantee that the data will remain consistent
p34470
aVHave your trigger do the following whenever a row changes
p34471
aVThat way, you only incur the cost when the data changes, not every single time you use the data
p34472
aVOn a table where reads outnumber writes (and that's the vast majority), this can lead to an impressive performance improvement
p34473
as(dp34474
g16
V14860
p34475
stp34476
a((dp34477
g2
(lp34478
VIn C, you'll have to code a function to do this for you
p34479
aVYou can't just blat the structure out to disk because  is a pointer that makes no sense without the backing string
p34480
aVAnd, unless you know (and can control) how your compiler packs its structures, you're better off with a utility function anyway, even without pointers
p34481
aVAnd, as if that wasn't enough, you should output the length of the string as well so you know how many bytes to read back
p34482
aVYou'll be looking for something like:
p34483
as(dp34484
g16
V14860
p34485
stp34486
a((dp34487
g2
(lp34488
VI'm pretty certain I remember reading somewhere that  outputs length information as well as the string
p34489
aVAh, yes, here it is:
p34490
aVFrom IBM's own doco on :
p34491
aVThis method takes an ActiveX string and writes it into the message data buffer at the current position in UTF format
p34492
aVThe data written consists of a 2-byte length followed by the character data
p34493
aVDataOffset is incremented by the length of the string if the method succeeds
p34494
aV(my italics)
p34495
aVAs you've already discovered,  is the way to do it without a length
p34496
as(dp34497
g16
V14860
p34498
stp34499
a((dp34500
g2
(lp34501
VEnvironment variables belong to the current "process" so they can't be changed from outside
p34502
aVProvided you check the error level after the relevant command in your batch file, you should be checking the right value
p34503
aVYou can confirm this by opening up two command windows and entering into the first:
p34504
aVand then the second:
p34505
aVthen go back to the first and:
p34506
aVYou should be very careful about setting the  environment variable by the way
p34507
aVThat particular variable is a special one in that, when you haven't set it specifically, it will automatically serve up the return code from the previous program
p34508
aVSetting it explicitly overrides this behaviour, and the only way to recover is to either use  instead of the environment variable (it bypasses the environment variable), or use  to remove the override
p34509
as(dp34510
g16
V14860
p34511
stp34512
a((dp34513
g2
(lp34514
VYou can use something like:
p34515
aVThis will locate the first  regular file then change to that directory
p34516
aVIn terms of what each bit does:
p34517
aVThe find will start at  and search down, listing out all regular files () called  ()
p34518
aVThere are other things you can add to  to further restrict the files you get
p34519
aVThe piping through  will filter out all but the first
p34520
aVis a way to take the output of a command and put it on the command line for another command
p34521
aVcan take a full file specification and give you the path bit
p34522
aVjust changes to that directory
p34523
aVIf you execute each bit in sequence, you can see what happens:
p34524
as(dp34525
g16
V14860
p34526
stp34527
a((dp34528
g2
(lp34529
VTo round a number to the nearest 10, first divide it by 10, then round it to the nearest 1, then multiply it by 10 again:
p34530
aVThis page has some details
p34531
aVThey go the other way (e
p34532
ag1775
aV, rounding to the nearest 0
p34533
aV01) but the theory and practice are identical - multiply (or divide), round, then divide (or multiply)
p34534
as(dp34535
g16
V14860
p34536
stp34537
a((dp34538
g2
(lp34539
VI have to admit that regular expressions are not the first tool I would have thought of for doing this
p34540
aVI can pretty much guarantee that any RE capable of doing that to an unsorted hand is going to be far more hideous and far less readable than the equivalent procedural code
p34541
aVAssuming the cards are sorted by face value (and they seem to be otherwise your listed regexes wouldn't work either), and you must use a regex, you could use a construct like
p34542
aVto detect the face value part of the hand
p34543
aVIn fact, from what I gather here of the "standard" hands, the following should be checked in order of decreasing priority:
p34544
aVBasically, those are the same as yours except I've added the royal/straight flush and the straight
p34545
aVProvided you check them in order, you should get the best score from the hand
p34546
aVThere's no regex for the high card since, at that point, it's the only score you can have
p34547
aVI also changes the steel wheel (wrap-around) straights from  to  since they'll be sorted that way
p34548
as(dp34549
g16
V14860
p34550
stp34551
a((dp34552
g2
(lp34553
VI would suggest starting with the simple one and then only worrying about introducing the fast requirement if it turns out to be an issue
p34554
aVFar too much time is wasted on solving problems that do not exist (see )
p34555
aVBy simple, I mean simply starting a checksum character (all characters here are unsigned) at zero, reading in every character and subtracting it from the checksum character until the end of the file is reached, assuming your implementation wraps intelligently
p34556
aVSomething like in the following program:
p34557
aVwhich outputs:
p34558
aVThat  function actually does both jobs
p34559
aVIf you pass it a block of data without a checksum on the end, it will give you the checksum
p34560
aVIf you pass it a block with the checksum on the end, it will give you zero for a good checksum, or non-zero if the checksum is bad
p34561
aVThis is the simplest approach and will detect most random errors
p34562
aVIt won't detect edge cases like two swapped characters so, if you need even more veracity, use something like Fletcher or Adler
p34563
aVBoth of those Wikipedia pages have sample C code you can either use as-is, or analyse and re-code to avoid IP issues if you're concerned
p34564
as(dp34565
g16
V14860
p34566
stp34567
a((dp34568
g2
(lp34569
VIf you're on Linux, it has a  program for just this purpose
p34570
aVOther UNIX variants may also have it
p34571
aVPadding a numeric with  is not really on of its use cases but you could get the same result with:
p34572
aVThat outputs the 250 with space padding, then uses the  translate utility to turn those spaces into  characters
p34573
aVIf you're looking for a -only solution, you can start with:
p34574
aVIf you want a generalised solution, you can use this function , unit test code is included:
p34575
ag5385
aVThis outputs:
p34576
aVand you're not limited to just printing them, you can also save the variables for later with a line such as:
p34577
as(dp34578
g16
V14860
p34579
stp34580
a((dp34581
g2
(lp34582
VEven discounting a specific implementation where the alignment and packing are known, unions can still be useful
p34583
aVThey allow you to store one of many values into a single block of memory, along the lines of:
p34584
aVAnd yes, it is non-portable to expect to be able to store your data into  and read it from
p34585
aVBut if you simply use the  to specify what the underlying variable is, you can easily get at it without having to cast
p34586
aVIn other words:
p34587
aVis fine assuming you use  to decide that a  variable is stored there
p34588
as(dp34589
g16
V14860
p34590
stp34591
a((dp34592
g2
(lp34593
VIt may well depend on the language
p34594
aVI treat types and classes as the same thing in OO, only making a distinction between class (the definition of a family of objects) and instance (or object), specific concrete occurrences of a class
p34595
aVI come originally from a C world where there was no real difference between language-defined types like  and types that you made yourself with  or
p34596
aVLikewise, in C++, there's little difference (probably none) between  and any class you put together yourself, other than the fact that  will almost certainly be bug-free by now
p34597
aVThe same isn't always necessary in our own code :-)
p34598
aVI've heard people suggest that types are classes without methods but I don't believe that distinction (again because of my C/C++ background)
p34599
aVThere is a fundamental difference in some languages between integral (in the sense of integrated rather than integer) types and class types
p34600
aVClasses can be extended but  and  (examples for C++) cannot
p34601
as(dp34602
g16
V14860
p34603
stp34604
a((dp34605
g2
(lp34606
VTry the more SQL-ish:
p34607
aVbut keep in mind that, if  is a numeric rather than string type, you'll probably find that  will actually be  and will render as , not what you want
p34608
aVIf that's the case, you're probably looking for something more like:
p34609
aV(check the number of zeros there, I tried to get it right but testing is rightly your concern)
p34610
as(dp34611
g16
V14860
p34612
stp34613
a((dp34614
g2
(lp34615
VYou could try using  since I seem to recall that  uses a hash to find executables
p34616
aVTrying  will also allow you to tell if this is the problem (or may tell you what the problem actually is)
p34617
aVAlso check the permissions of  and the  directory to make sure they're executable/searchable (although it's unlikely that's a problem)
p34618
aVFailing that, you should probably wait until this question gets nudged across to SU where it belongs :-)
p34619
as(dp34620
g16
V14860
p34621
stp34622
a((dp34623
g2
(lp34624
VThe normal way to do that would be
p34625
aVThis means only one character between the start and end anchors
p34626
aVFeel free to change  to any other limitation to suit your purposes
p34627
aVAnd keep in mind, there may be other ways to do what you want
p34628
aVFor example, if it's a WPF , you can set properties on the text box itself that will restrict lengths without you having to worry about regexes
p34629
as(dp34630
g16
V14860
p34631
stp34632
a((dp34633
g2
(lp34634
VThe prototype for  is:
p34635
aVIt returns an  because it needs to return EOF which is not a character
p34636
aVExpanding on that, the function needs to be able to return any valid character, as well as being able to return a special "character" indicating that you're reached the end of file (or an error has occurred)
p34637
aVSince a  data type can only hold one of the characters, there would be no way to indicate this end of file if all the function returned was a
p34638
aVThat's because, if you selected one of those  values to represent end of file, you would not be able to tell the difference between the end of file and the actual character
p34639
aVFor example, let's choose 'A' to indicate end of file
p34640
aVWhen you actually get back an 'A' from , how will you know whether you've reached the end of file or whether the user actually entered 'A'
p34641
aVTo get around this, many functions that give you back a  will actually give you an  and use one of the integer values which don't have an actual  equivalent (such as -1)
p34642
aVIn that case (assuming an 8-bit ), you would get back either a -1 if you've reached the end of the file or a value from 0 through 255 inclusive representing the character entered
p34643
aVAnd you need to get yourself both a more modern book and a more modern compiler:
p34644
aVWhy anyone is still using Borland is this day and age (where gcc is both just as cheap and much better) is beyond me
p34645
as(dp34646
g16
V14860
p34647
stp34648
a((dp34649
g2
(lp34650
VWell, actually:
p34651
aVis the same as:
p34652
aVThat's because, if , it's automatically less than  since  and here's the code that proves it (in C but C# should be the same):
p34653
aVIt outputs:
p34654
aVBut, if those were just general items rather than specific ones,  has a higher precedence than  in C#, so you should use:
p34655
as(dp34656
g16
V14860
p34657
stp34658
a((dp34659
g2
(lp34660
VI would start with replacing both  and with nothing
p34661
aVThough I know little about the specific PHP regex engine, the following  worked fine:
p34662
aVIn fact, you should be able to combine that into one regex :
p34663
as(dp34664
g16
V14860
p34665
stp34666
a((dp34667
g2
(lp34668
VUsually,  with its various options will tell you what environment you're running in:
p34669
aVUnfortunately, I don't have a Linux or Mac handy so someone else will have to add those
p34670
aVAccording to the very helpful schot,  gives  for OSX and  for Linux and my Cygwin gives
p34671
aVBut you'll probably have to experiment with all sorts of different versions
p34672
as(dp34673
g16
V14860
p34674
stp34675
a((dp34676
g2
(lp34677
VI've been a BIRT fan for quite a while now, using it in one of our products, but I've recently started warming a great deal towards Cognos 8 BI which we've integrated with BIRT using the same interface
p34678
aVIt's obviously not as cheap as BIRT but enterprises often care less about initial cost than functionality and ease of use
p34679
aVBeing able to move columns around and aggregate them in so many different way in the browser, easier than BIRT (at least for us) is a great advantage
p34680
aVIt's basically moved a lot of the power from the report designer to the report user, something our customers appreciate a great deal (these are, after all, management types used to having the power of Excel at their fingers)
p34681
as(dp34682
g16
V14860
p34683
stp34684
a((dp34685
g2
(lp34686
VIf you have the  command on your UNIX, you should be able to use something like:
p34687
aVThe  will rename all the files specified by , changing the first occurrence of  to
p34688
aVIf that's not available, you can use something like:
p34689
aVTo do this recursively, I would put it into a script with :
p34690
aVOnly the middle bit of that is required, the rest is for testing
p34691
aVThe output below shows how it works, copying across every file to the new directory structure and renaming the relevant files
p34692
aVTo flatten the file hierarchy, you can use something like:
p34693
aVwhich outputs:
p34694
aVbut you need to keep in mind that filename clashes (the same file name under different directories) will overwrite each other
p34695
as(dp34696
g16
V14860
p34697
stp34698
a((dp34699
g2
(lp34700
VYou can use either of the two methods below, depending on whether you're comfortable with pointers or not
p34701
aVIt will also be worthwhile looking at them side-by-side when you satrt learning about pointers so you can better understand how they map to each other
p34702
aVThis is a full program for testing purposes:
p34703
ag5385
aVand the output is:
p34704
as(dp34705
g16
V14860
p34706
stp34707
a((dp34708
g2
(lp34709
VNormally, you would use  as the value to insert
p34710
aVHow does your system distinguish between what you have and the integer (non-date) value 1971, which is what you'd get by subtracting 9 and 20 from 2000
p34711
aVSee here for more details
p34712
as(dp34713
g16
V14860
p34714
stp34715
a((dp34716
g2
(lp34717
VNo
p34718
aVSingle update statements are atomic and there is no order in their individual parts
p34719
aVBoth of these:
p34720
aVdo exactly the same thing because the two assignments are considered to happen concurrently
p34721
aVIn other words,  on the right side of  is the old value of
p34722
aVAddendum: How a DBMS implements this behaviour depends on the cleverness of those writing the DBMS
p34723
aVFor example a DBMS might attempt to lock all the rows where  is 1 then, once that's done, go through and execute ,  (in that order because the execution engine deems that will satisfy concurrency, setting  to  before changing ) on each of those rows
p34724
aVA statement like  would require somewhat more intelligence but it could do that easily enough by saving the current row first and using values there to set values in the new row, something like:
p34725
aVThen it will unlock all the rows
p34726
aVThat's just one option
p34727
aVA very dumb DBMS may just lock the entire database file although that wouldn't make for very intelligent concurrency
p34728
aVA single-user, single-thread DBMS doesn't have to care about concurrency at all
p34729
aVIt would lock absolutely nothing, just going through each relevant row, making the changes
p34730
as(dp34731
g16
V14860
p34732
stp34733
a((dp34734
g2
(lp34735
VYou can use:
p34736
aVJust keep in mind that floats and doubles are as close an approximation as the underlying type can provide
p34737
aVIt may not be exact
p34738
as(dp34739
g16
V14860
p34740
stp34741
a((dp34742
g2
(lp34743
VIf you have a 64-bit integer type, I'd go with that, since it gives you the (18 full digits) range:
p34744
aVFor other tasks (even bigger integers or massive floating point values), I use GMP, the GNU multi-precision library
p34745
aVIt's performance is impressive
p34746
as(dp34747
g16
V14860
p34748
stp34749
a((dp34750
g2
(lp34751
VThe following script shows how this can be done:
p34752
aVIt outputs:
p34753
aVand works by substituting the last character of the line (if it's not a ) with the same character plus a trailing  as well
p34754
as(dp34755
g16
V14860
p34756
stp34757
a((dp34758
g2
(lp34759
VThe offset of something is how many units it is from the start
p34760
aVThe first thing is at the start so its offset is zero
p34761
aVThink in terms of your structure being at memory location 100:
p34762
aVAs you can see, the address of  is the same as the address of the entire structure, so its offset (what you have to add to the structure address to get the item address) is 0
p34763
aVNote that the ISO standard doesn't specify where the items are laid out in memory
p34764
aVPadding bytes to create correct alignment are certainly possible
p34765
aVIn a hypothetical environment where ints were only two bytes but their required alignment was 256 bytes, they wouldn't be at 0, 2 and 4 but rather at 0, 256 and 512
p34766
aVAnd, if that book you're taking the excerpt from is really , it's getting a little long in the tooth
p34767
aVThe fact that it's from '96 and discusses the internals underneath C++ (waxing lyrical about how good it is to know where the  is, missing the whole point that that's working at the wrong abstraction level and you should never care) dates it quite a bit
p34768
aVIn fact, the introduction even states "Explains the basic implementation of the object-oriented features
p34769
aV(my italics)
p34770
aVAnd the fact that nobody can find anything in the ISO standard saying this behaviour is required, along the fact that neither MSVC not gcc act that way, leads me to believe that, even if this was true of one particular implementation far in the past, it's not true (or required to be true) of all
p34771
aVThe author apparently led the cfront 2
p34772
aV1 and 3 teams and, while this books seems of historical interest, I don't think it's relevant to the modern C++ language (and implementation), at least those bits I've read
p34773
as(dp34774
g16
V14860
p34775
stp34776
a((dp34777
g2
(lp34778
VBecause C++ was in existence long before the C++ standard was, and built heavily on C
p34779
aVAnd, like the original ANSI C standard, codifying existing practice was an important part of it
p34780
aVThere's no point in changing something that works, especially if it will break a whole lot of existing code
p34781
aVEven ISO C, which has been through quite a few iterations, still takes backwards compatibility very seriously
p34782
as(dp34783
g16
V14860
p34784
stp34785
a((dp34786
g2
(lp34787
VYou haven't actually allocated  or
p34788
aVYou need to do something like:
p34789
aVjust like you did with:
p34790
aVThe reason you're getting the exception is because you're trying to dereference it and there's nothing there
p34791
aVSee here for the JToolBar docs
p34792
as(dp34793
g16
V14860
p34794
stp34795
a((dp34796
g2
(lp34797
VTopera, your main problem is really going to be that you're not using ASCII encodings for your hands, you're using numerics and non-consecutive, non-ordered characters for the face cards
p34798
aVYou need to detect, at the start of the strings,  and
p34799
aVThese are not consecutive ASCII codes and, even if they were, you would run into problems since both  and  are valid and you won't get  being both less than and greater than the other characters in the same character set
p34800
aVIf it has to be done by a regex, then the regex segment I gave for your other question:
p34801
aVis probably the easiest and most readable one you'll get
p34802
as(dp34803
g16
V14860
p34804
stp34805
a((dp34806
g2
(lp34807
VFor a start, you don't need the  if you want it done every minute
p34808
aVJust setting the minute field to  will do
p34809
aVNext, you should place, as the first lines in your test script (though after the  line if it's there):
p34810
aVand see if that file shows up
p34811
aVThat will tell you if the script is running or not
p34812
aVIf it's not running, check to make sure  itself is running:
p34813
aV(mine is)
p34814
aVIf it is running, the most likely problem is that the environment under which  runs your jobs is nowhere near the environment your shell gives you
p34815
aVExamine the differences between what was output to your  file and what your shell gives your when you execute
p34816
as(dp34817
g16
V14860
p34818
stp34819
a((dp34820
g2
(lp34821
VYour problem is that you're not increasing  when  wraps around (and so on up the hierarchy)
p34822
aVThe following code should do the trick, finally wrapping from  to :
p34823
aVThe following may also work:
p34824
as(dp34825
g16
V14860
p34826
stp34827
a((dp34828
g2
(lp34829
VThat's a fairly good solution
p34830
aVYou're using recursion for the children (which won't go too deep) but iteration for the siblings (which would go deep if you used recursion)
p34831
aVYour code could certainly be more elegant as a recursion-only solution (calling  for both  and ) but the risk of stack overflow would be greatly increased so I think you made the right choice there
p34832
aVHaving said that, there's no need for  at all if you re-arrange the order of your operations:
p34833
aVIf you think the length of your sibling list won't be that large, you could try the elegant solution:
p34834
aVIt's untested so I make no statement of warranty or fitness for purpose, especially since it's probably dangerous for your specific case of a large number of sibling links
p34835
aVI include it more as an indication of what's possible with recursion
p34836
aVMy advice is to use the first one
p34837
as(dp34838
g16
V14860
p34839
stp34840
a((dp34841
g2
(lp34842
VForget Revelations,  is the true number of the beast :-)
p34843
aVYou should almost never need to set permissions that way
p34844
aVSurely your images are being created in the directory under a single user ID like
p34845
aVIf that's the case (and it should be), you just need to add that user to the specific group of that directory and allow group write access,  most likely, though the last digit may change based on other needs
p34846
aVYou can probably figure out which user is running by changing the upload script to do:
p34847
aVor whatever the equivalent is in PHP for running a command line tool
p34848
aVThen check the  file for the details
p34849
aVYou'll have something like:
p34850
aVOnce you find that out (), work out the group of that  directory:
p34851
aVThat would be  from the above transcript
p34852
aVThen ensure that the  user is added to the  group
p34853
aVThis can usually be done in  by changing, for example:
p34854
aVinto:
p34855
aVthen ensure the directory permissions allow group (but not world) writes
p34856
aVAnd, based on your update, it doesn't actually matter who owns your PHP file, just who's running it, and that may not be  at all
p34857
aVOtherwise, I could remove any file on the hard disk because  is owned by root :-)
p34858
aVThe quickest way to find that user out for certain is to change that file so that it outputs the  information as I suggested
p34859
as(dp34860
g16
V14860
p34861
stp34862
a((dp34863
g2
(lp34864
VI would suggest restricting your use of SQL to retrieving data only and leave the presentation of that data up to your application
p34865
aVI don't doubt that you will be able to achieve that effect in raw SQL by the use of things like  and  (so that you treat the first row of a section differently), but it will put unnecessary strain on your database and be some seriously ugly SQL
p34866
aVIn other words, extract the data as per your "instead of" bit and just use the presentation layer (database client code) to only display the first three columns when either:
p34867
aVit's the first row; or
p34868
aVthe URL is different from the previous row
p34869
as(dp34870
g16
V14860
p34871
stp34872
a((dp34873
g2
(lp34874
VSlicing of arrays is done with
p34875
aVOne trick I tend to use a lot of is to indicate extra information with ellipses
p34876
aVSo, if your field is one hundred characters, I would use:
p34877
as(dp34878
g16
V14860
p34879
stp34880
a((dp34881
g2
(lp34882
VYou'll never know until you try
p34883
aVIf the C++ uses anything that C does not (such as constructors, destructors and even non-virtual methods), it may be slower
p34884
aVBut the difference will probably be so small as to be unnoticeable
p34885
aVEarly implementations of C++ may have been  slower than C but that's the nature of any software
p34886
aVIt improves with time
p34887
aVMeasure, don't guess
p34888
aVProfile your specific code to see which is faster
p34889
aVBut even if C code is faster, the price of losing all that extra functionality may be too much
p34890
aVExecution speed is only one speed, and rarely the important one
p34891
aVMy opinion of which speed is the most important is development speed
p34892
as(dp34893
g16
V14860
p34894
stp34895
a((dp34896
g2
(lp34897
VThere's a race condition between your two threads
p34898
aVBasically, there is a time between setting  to something before setting  to four times that value
p34899
aVIf the second thread comes in and checks the values during that time, the data inconsistency will occur
p34900
aVYou may think the two threads refer to their own  information but that's not the case
p34901
aVThey are both references to the main  array
p34902
aVIf you really want them to have their own data arrays, you should change:
p34903
aVinto:
p34904
aVin both  functions
p34905
aVOtherwise (and this is the more likely case where you want to share the data), you need to ensure your threads are properly synchronised so that the data is always consistent, something like using a mutex:
p34906
ag5385
aVNow locks aren't the only way to synchronise threads but they're fine for this particular case
p34907
as(dp34908
g16
V14860
p34909
stp34910
a((dp34911
g2
(lp34912
VIf the string could contain anything, then there is no regular expression, or indeed any piece of code that could extract the longitude and latitude
p34913
aVThis can be confirmed with the following string:
p34914
aVWhich one of those is the latitude
p34915
aVYou could try something like:
p34916
aVas a starting point
p34917
as(dp34918
g16
V14860
p34919
stp34920
a((dp34921
g2
(lp34922
VYou can use:
p34923
aVgives you the day of the week from Monday (1) through to Sunday (7)
p34924
aVIf it's greater than 5 (Saturday = 6 or Sunday = 7), then it's the weekend
p34925
aVSo you could put something like this at the top of your script:
p34926
aVTo check if it's a weekday, use:
p34927
as(dp34928
g16
V14860
p34929
stp34930
a((dp34931
g2
(lp34932
VIt's basically an -type (or -type) function for creating an integral value from a string
p34933
aVConsider the string
p34934
aVBefore starting,  is set to zero
p34935
aVOn the first iteration, that's multiplied by 10 to give you 0, then it has the character value  added and  subtracted, effectively adding 1 to give 1
p34936
aVOn the second iteration, that's multiplied by 10 to give you 10, then it has the character value  added and  subtracted, effectively adding 2 to give 12
p34937
aVOn the third iteration, that's multiplied by 10 to give you 120, then it has the character value  added and  subtracted, effectively adding 3 to give 123
p34938
aVVoila
p34939
aVThere you have it, 123
p34940
aVIf you change the code to look like:
p34941
aVthen you should see it in action (I had to change your value from the 17-character array you provided in your comment to an 18-character one, otherwise you'd get some problems when you tried to use the character beyond the end; I also had to change to a  because my longs weren't big enough):
p34942
as(dp34943
g16
V14860
p34944
stp34945
a((dp34946
g2
(lp34947
VI see two possibilities (there may well be more)
p34948
aVThe first (most likely) is true of all Java objects: just because you set the reference to  doesn't automatically mean that the object behind it will be garbage-collected
p34949
aVIf a  object itself contains a reference to the two thread objects, none of the three will necessarily be GC'ed until space is required (although that depends, of course, on how aggressive your collector is)
p34950
aVThe second (less likely) is that Android may be smart enough to cache thread (or even ) objects in case they need to be used again
p34951
aVThey may nave done this as a performance optimisation if object creation is more expensive than object re-cycling
p34952
aVIn that case, they would still have a reference to the objects somewhere in a cache and they wouldn't be considered eligible for garbage collection
p34953
as(dp34954
g16
V14860
p34955
stp34956
a((dp34957
g2
(lp34958
VActually, I answered with another (somewhat humorous) answer which used a absolutely huge array for a table lookup but, thinking back on it, it's not that bad an idea, provided you limit the table size
p34959
aVThe following functions trade off space for time
p34960
aVAs with all optimisations, you should profile them yourself in the target environment
p34961
aVFirst the (elegant) recursive version:
p34962
aVIt basically separates the number into three-digit groupings with fixed lookups for each possibility
p34963
aVThis can easily handle a 64-bit unsigned value with a recursion depth of seven stack frames
p34964
aVFor those who don't even trust that small amount of recursion (and you should, since normal programs go that deep and more even without recursion), you could try the iterative solution:
p34965
aVThese are probably three times faster than the one-digit-at-a-time solution, at the cost of a thousand bytes of data
p34966
aVIf you're not adverse to using 10K or 100K, you could increase the speed to four or five times but you may want to write a program to generate the static array statement above :-)
p34967
aVAs with all optimisation options, measure, don't guess
p34968
aVI prefer the more elegant recursive solution myself but I'm also one of those types who prefer cryptic crosswords
p34969
aVRead into that what you will
p34970
as(dp34971
g16
V14860
p34972
stp34973
a((dp34974
g2
(lp34975
VI trust computer software about as far as I can comfortably spit out a rat (attribution required to the excellent "BlackAdder" TV show for that little gem)
p34976
aVIf you're worried about it, don't use it
p34977
aVI'm sure people thought their Facebook profiles were safe as well
p34978
aVNot to mention all the credit card numbers that have been released to the wild by supposedly secure sites
p34979
as(dp34980
g16
V14860
p34981
stp34982
a((dp34983
g2
(lp34984
VThe line:
p34985
aVdoes not actually allocate any space for a server structure, just for a pointer to one, that's set to a random value
p34986
aVIt looks like the change you need is:
p34987
aVwhich actually allocates some memory for you to use
p34988
aVThink of the difference as follows:
p34989
as(dp34990
g16
V14860
p34991
stp34992
a((dp34993
g2
(lp34994
VThe following code shows one way to do it:
p34995
aVThis outputs:
p34996
aVas you desired
p34997
aVOr, as inspired by kriss, better but still readable:
p34998
aVI pine for the days of the original, readable Python :-)
p34999
as(dp35000
g16
V14860
p35001
stp35002
a((dp35003
g2
(lp35004
VYou often find this sort of behaviour when you measure elapsed times
p35005
aVThat's because elapsed times depends on all of the other things that your computer may be doing
p35006
aVSee for example:
p35007
aVIn all those cases, the elapsed  time varies but the actual use of the processor,  is remarkably consistent
p35008
aVFor timing, you should use the most accurate measurement you can (such as ) to remove external influences
p35009
aVYou should also use statistical techniques to get a more accurate picture
p35010
aVFor example, I tend to do twelve runs, throw away the outliers (fastest and slowest), then average the remaining ten
p35011
as(dp35012
g16
V14860
p35013
stp35014
a((dp35015
g2
(lp35016
VPrimary keys should be minimal since they only have to be large enough to uniquely identify the row
p35017
aVAnything else is a waste in terms on index space used
p35018
aVIn other words, if I have a unique column  along with another unique column , a primary key built from both of those is a waste
p35019
aVThe normal way to handle that would be to use one as the primary key and then have a unique constraint/index on the other
p35020
as(dp35021
g16
V14860
p35022
stp35023
a((dp35024
g2
(lp35025
VYou should pass it through  first to get rid of the unwanted lines (and optionally put on line numbers so that you can still tell what the real lines are):
p35026
aV(just use  if you don't care about the line numbers)
p35027
aVSo something like:
p35028
aVshould do the trick
p35029
as(dp35030
g16
V14860
p35031
stp35032
a((dp35033
g2
(lp35034
V gets text from the user which is then interpreted as Python code (hence it's trying to evaluate the thing you entered, )
p35035
aVYou need  for both of them and you'll need to convert the number entered (since it's a string) to an integer for your
p35036
as(dp35037
g16
V14860
p35038
stp35039
a((dp35040
g2
(lp35041
VThe code is a hack because Microsoft decided to put their events in the global  instead of passing it as a parameter to the event function
p35042
aVSo, this code will attempt to set  to the event passed in (which will work for the non-Microsoft browsers) and, if that turns out to be  (as it will be for Microsoft browsers), it will then grab it from the global
p35043
aVFrom that point on, your function can just use  disregarding browser differences (well, at least those relating to events)
p35044
as(dp35045
g16
V14860
p35046
stp35047
a((dp35048
g2
(lp35049
VActually, you really don't need to do it in C
p35050
aVUNIX includes tools that can just about do any task that you want
p35051
aVThat particular snippet above will find all files under the current directory and attempt to copy the null device to it, effectively truncating the file to 0 bytes
p35052
aVYou can change the starting (top level) directory, restrict names (with  for example) and even restrict it to the current directory (no subdirectories) with
p35053
aVThere are many other options with  that you can discover by entering  into your command line shell
p35054
aVJust don't enter it into Google, you may get more than you bargained for :-)
p35055
aVIf the need to use C is an absolutely non-negotiable one, I would still do it this way but with:
p35056
aVI'm not keen on re-writing software that someone's already put a bucketload of effort into providing for free :-)
p35057
aVIf, after my advice, you still want to do it the hard way, you need to look into ,  and  for processing directories, then just use  in write mode followed by  on each candidate file
p35058
aVIf you want to navigate whole directory structures rather than just the current directory, you'll have to detect directories from  and probably recurse through them
p35059
as(dp35060
g16
V14860
p35061
stp35062
a((dp35063
g2
(lp35064
VBah
p35065
aVThe people who say C++ isn't object oriented are the same ones that would say Spam isn't food :-)
p35066
aVThe OO "religious nutter" crowd will say that you can only have a true OO language if absolutely everything is an object
p35067
aVThat's fine, they can sit in their ivory towers and believe what they want
p35068
aVSome of us have actual jobs to do
p35069
aVProvided you use the object mindset, C++ (and even C if you use all sorts of tricks with function pointers within structures) is more than enough to be considered object oriented
p35070
as(dp35071
g16
V14860
p35072
stp35073
a((dp35074
g2
(lp35075
VIf you have an up-to-date , just use  or , which will modify the actual file itself
p35076
aVIf you want a backup, you need to supply a suffix for it
p35077
aVSo  or  will create a backup file with the  suffix
p35078
aVUse this
p35079
aVSeriously
p35080
aVYou'll appreciate it a lot the first time you damage your file due to a mistyped  command or wrong assumption about the data in the file
p35081
as(dp35082
g16
V14860
p35083
stp35084
a((dp35085
g2
(lp35086
VNo, you cannot even assume that  is atomic
p35087
aVIt's possible that it might load 16 bits of a 32-bit pointer, then be swapped out before loading the rest
p35088
aVIf another thread sneaks in at that point and calls , you're toasted because your  pointer is invalid
p35089
aVFor true security, you will have to protect the entire test-and-set mechanism, even though that means using mutexes even after the pointer is built
p35090
aVIn other words (and I'm assuming that  will release the lock when it goes out of scope here (I have little experience with Boost)), something like:
p35091
aVIf you don't want a mutex (for performance reasons, presumably), an option I've used in the past is to build all singletons before threading starts
p35092
aVIn other words, assuming you have that control (you may not), simply create an instance of each singleton in  before kicking off the other threads
p35093
aVThen don't use a mutex at all
p35094
aVYou won't have threading problems at that point and you can just use the canonical don't-care-about-threads-at-all version:
p35095
aVAnd, yes, this does make your code more dangerous to people who couldn't be bothered to read your API docs but (IMNSHO) they deserve everything they get :-)
p35096
as(dp35097
g16
V14860
p35098
stp35099
a((dp35100
g2
(lp35101
VYou can use  and  to do this:
p35102
aVNote that I've put all those  sections on different lines for readability
p35103
aVThey should be all on one line to test
p35104
aVIf your version of  supports case-insensitive searches (like the GNU one does), you can replace that last substitution with
p35105
aVTo catch lines with different foramts is a bit trickier and will require all the formats to be known to avoid false positives
p35106
aVThe following command will catch the alternate format as supplied in your comment:
p35107
as(dp35108
g16
V14860
p35109
stp35110
a((dp35111
g2
(lp35112
VC has no concept of font size
p35113
aVIt will just output characters
p35114
aVIf you want to control the look of those characters, that's outside the purview of the standard
p35115
aVAs an example, Windows provides DirectX functions that you can specify font types and sizes for
p35116
aVAs does Windows GDI
p35117
aVI have no doubt that any GUI will give you that sort of control as well (Gnome, KDE et al) but it has nothing to do with ISO C other than the fact you'll be able to call them from your C code
p35118
as(dp35119
g16
V14860
p35120
stp35121
a((dp35122
g2
(lp35123
VI believe it's because you're in a specific mode that you can't escape from until you dismiss the dialog box or form
p35124
aVNormal modal dialog boxes meant you couldn't do anything else in that application
p35125
aVSystem modal was defined as "cannot do anything else with the system at all" until you're finished
p35126
as(dp35127
g16
V14860
p35128
stp35129
a((dp35130
g2
(lp35131
VIt's incredibly unlikely but not impossible according to the standard
p35132
aVThere's nothing stating what the underlying representation of an integer is, not does the standard specify how the values are loaded
p35133
aVI can envisage, however weird, an implementation where the underlying bit pattern for 0 is  and the architecture only supports loading data into memory by bit-shifting it over eight cycles but reading it as a single unit in one cycle
p35134
aVIf another thread reads the value while the bit pattern is being shifted in (e
p35135
ag1775
aV, , , and so on), you will have a problem
p35136
aVThe chances of anyone designing such a bizarre architecture is so close to zero as to be negligible
p35137
aVBut, unfortunately, it's not zero
p35138
aVAll I'm trying to get across is that you shouldn't rely on assumptions at all when it comes to standards compliance
p35139
aVAnd please, before you vote me down, feel free to quote the part of the standard that states this is not possible :-)
p35140
as(dp35141
g16
V14860
p35142
stp35143
a((dp35144
g2
(lp35145
VThis is what the Network Time Protocol was built for
p35146
aVBut it's probably something best left to your operating system, lest you end up with duelling applications using different, not-quite-synchronised servers
p35147
aVSee the headings in the link above for UNIX and Windows implementations
p35148
as(dp35149
g16
V14860
p35150
stp35151
a((dp35152
g2
(lp35153
VNo, you should start learning 8086 ASM by learning 8086 ASM
p35154
aVAt their heart, most assembly languages are very similar but I wouldn't try to learn Esperanto as a precursor to Italian
p35155
aVJust jump right in and, if you strike trouble, come back and ask us questions
p35156
aVWe're practically falling over ourselves to help people out here, you may as well use us :-)
p35157
as(dp35158
g16
V14860
p35159
stp35160
a((dp35161
g2
(lp35162
VIt's creating a 4-column by 5-row grid and putting buttons into all but the third one (offset 2)
p35163
aVThe third one is left blank by putting a label in there
p35164
aVSo what you're getting is the following calculator layout with no button in that third spot:
p35165
aVIt just an easy way to put a list of buttons together in a short loop, with a bit of a kludge to ensure the layout doesn't have a button that does nothing
p35166
aVFor what it's worth, I think the following would be better so that you don't rely on absolute positions:
p35167
aVThat just relies on one piece of information, the one in the  array
p35168
aVOf course, it assumes you only want blank labels but, in this case, it's okay since that's all they're being used for
p35169
as(dp35170
g16
V14860
p35171
stp35172
a((dp35173
g2
(lp35174
VThat's because, when you enter 1 followed by the  key, two characters are put in your buffer (the  and a )
p35175
aVThe  is then picked up by the second  and, since because that's neither  nor , it exits
p35176
aVQuick fix (but kludgy): put another  before the
p35177
aVIf you want more robust user input, see here, here or use this near-bulletproof code from my arsenal:
p35178
ag5385
aVHere's a test run:
p35179
aVYou may also want to flesh out your ,  and  functions a little :-) Just kidding
p35180
aVI'm assuming that's your next step
p35181
aVBy the way, if this is homework, I'd suggest not handing in that code above as your own work
p35182
aVYou will almost certainly be picked up as cheating since it's most likely beyond the level of education you're currently receiving, and it's available with an easy web search: enter
p35183
aVinto your friendly neighbourhood Google search box to find out
p35184
as(dp35185
g16
V14860
p35186
stp35187
a((dp35188
g2
(lp35189
VThere are a few ways to do this
p35190
aVNumber 1: Have a column on your administrator (or user) table called  and have an insert/update trigger to ensure that only one has it set at any given time
p35191
aVNumber 2: Have a  column in your table
p35192
aVThen, in your query to figure out who it is, use something like:
p35193
aVNumber 3/4: Put the SuperAdmin user ID into a separate table, using either the trigger or last-person-made-has-the-power approach from numbers 1 or 2
p35194
aVPersonally, I like number 2 since it gives you what you need without unnecessary triggers, and there's an audit trail as to who had the power at any given time (though not a complete audit trail since it will only store the most recent time that someone was made a SuperAdmin)
p35195
aVThe trouble with number 1 is what to do if you just clear the current SuperAdmin
p35196
aVEither you have to give the power to someone else, or nobody has it
p35197
aVn other words, you can get yourself into a situation where there is no SuperAdmin
p35198
aVAnd number 3 and 4 just complicate things with an extra table
p35199
as(dp35200
g16
V14860
p35201
stp35202
a((dp35203
g2
(lp35204
VIf your database is set up correctly to collect statistics on the table contents, then your query optimiser should be easily able to figure out the cardinality of each subclause and first process those that reduce the dataset the most (highest cardinality)
p35205
aVThe cardinality can be thought of as how many unique values are in a column
p35206
aVFor example, if there are a million different  values but  is only 0 or 1, the query optimiser should process the  clause first
p35207
aVBut this is why database tuning is not a set-and-forget operation
p35208
aVThe performance of your database depends both on the schema, and the data held in the table
p35209
aVThat means that out-of-date, incorrect, statistics are actually worse than no statistics at all
p35210
aVAt least if there's no statistics, the optimiser won't bother to use them
p35211
aVIf the data properties change regularly, you should tune regularly
p35212
aVSee here for SQL Server 2008 specific statistics, and how to create and maintain them
p35213
as(dp35214
g16
V14860
p35215
stp35216
a((dp35217
g2
(lp35218
VAs with every one of the billion other questions on SO to do with floating point :-), the answer is that not all numbers can be represented exactly
p35219
aVAnd, even if they can be represented exacly, you may get a bad result from something like  which may work within a loop
p35220
aVIn other words, no matter how small the error on an operation, if you do it a lot of times, the error becomes large
p35221
aVTry printing out the return from  with a  or other floating point specifier, and I'll guarantee you'll see something like  instead of
p35222
aVFor what it's worth, the correct results are produced under gcc 3
p35223
ag9967
aV4 under CygWin so it's likely that you're using a less-exact implementation of
p35224
as(dp35225
g16
V14860
p35226
stp35227
a((dp35228
g2
(lp35229
VAs with most database questions, it depends :-)
p35230
aVIn fact, it shouldn't be removed in all circumstances
p35231
aVIf you have a query that uses  alone in the  clause, it's possible that the use of  will still outperform  just by virtue of the fact that less index data will need to be read in
p35232
aVAn extreme example, let's say that  is a  and  is a char(4094)`
p35233
aVIf you have the query:
p35234
aVThat's most likely to result in an index-only scan since there's absolutely no reason to go to the table
p35235
aVIf you use  and you read in 4K blocks from your index, you can bring in a couple of thousand codes with every read
p35236
aVBy using , each read only gives you one code (and possibly a wasted status)
p35237
aVThat's a huge difference in performance
p35238
aVHowever, and I cannot stress this enough, measure, don't guess
p35239
aVProfile your queries (and updates) using both indexes to see which performs better, and do it with representative data
p35240
aVIf you find that  gives you better performance for some queries, leave it in
p35241
aVIt will affect the update/insert speed and storage requirements but you'll find that won't generally matter since:
p35242
aVthe vast majority of databases are read far more often than written; and
p35243
aVmost complaints about databases have to do with speed rather than storage space
p35244
as(dp35245
g16
V14860
p35246
stp35247
a((dp35248
g2
(lp35249
VUse:
p35250
aVThe  sorts in reverse order, using the first field as a numeric value
p35251
aVThe  simply reverses the order of the columns
p35252
aVYou can test the added pipeline commands thus (with nicer formatting):
p35253
as(dp35254
g16
V14860
p35255
stp35256
a((dp35257
g2
(lp35258
VIn , you should be able to do:
p35259
aVDetails on its workings are as follows:
p35260
aVThe  gives you the list of all the processes
p35261
aVThe  filters that based on your search string,  is a trick to stop you picking up the actual  process itself
p35262
aVThe  just gives you the second field of each line, which is the PID
p35263
aVThe  construct means to execute  then take its output and put it on the command line
p35264
aVThe output of that  pipeline inside that construct above is the list of process IDs so you end up with a command like
p35265
aVHere's a transcript showing it in action:
p35266
aVand you can see it terminating all the sleepers
p35267
aVExplaining the  bit in a bit more detail:
p35268
aVWhen you do  followed by , you tend to get two processes with  in it, the  and the  (because they both have  in them, that's not rocket science)
p35269
aVHowever,  won't create a process with  in it, it instead creates  and here's the tricky bit: the  doesn't find it because it's looking for the regular expression "any character from the character class  (which is ) followed by
p35270
aVIn other words, it's looking for  but the grep process is  which doesn't have  in it
p35271
aVWhen I was shown this (by someone here on SO), I immediately started using it because
p35272
aVit's one less process than adding ; and
p35273
aVit's elegant and sneaky, a rare combination :-)
p35274
as(dp35275
g16
V14860
p35276
stp35277
a((dp35278
g2
(lp35279
VWell, you can use the time-honoured approach of putting one of your own path components in front of all the others:
p35280
aVand then, in , you put scripts that are "safer" like :
p35281
aVThat script outputs for :
p35282
aVNow obviously the  is a simplistic one and a black list
p35283
aVI'd probably prefer to have a white list of things I was allowed to delete and deny everything else
p35284
aVAnd here's a white list version based on regular expressions:
p35285
aVwhich outputs:
p35286
as(dp35287
g16
V14860
p35288
stp35289
a((dp35290
g2
(lp35291
VIf you mean a fixed-length number when expressed in decimal, you can use:
p35292
aVThat will give you a number from 100,000 to 165,535 inclusive
p35293
aVTo reverse the operation:
p35294
as(dp35295
g16
V14860
p35296
stp35297
a((dp35298
g2
(lp35299
s(dp35300
g16
V14860
p35301
stp35302
a((dp35303
g2
(lp35304
VWhy are you using a regex at all
p35305
aVJust use Basename:
p35306
aVYou can see this returning the results you requested but it's also capable of capturing the extensions as well (in the latter section above):
p35307
as(dp35308
g16
V14860
p35309
stp35310
a((dp35311
g2
(lp35312
VYou can find symbolic links to the actual files in  where  is the process ID
p35313
as(dp35314
g16
V14860
p35315
stp35316
a((dp35317
g2
(lp35318
VThe instant you see variable-sized columns in your data, you should start thinking about :
p35319
aVwill do the trick assuming your file format is correct
p35320
as(dp35321
g16
V14860
p35322
stp35323
a((dp35324
g2
(lp35325
VIf you have Perl available (and your  doesn't have nice features like ), you can use:
p35326
as(dp35327
g16
V14860
p35328
stp35329
a((dp35330
g2
(lp35331
VThat's exactly what  means
p35332
aVA vector is like an array, but expandable
p35333
aVAll that
p35334
aVis doing is creating such a vector (of  pointers) and creating the first one (index 0)
p35335
as(dp35336
g16
V14860
p35337
stp35338
a((dp35339
g2
(lp35340
VBackslashes inside strings need to be quoted in order to work
p35341
aVFor example, the following works fine:
p35342
aVoutputting:
p35343
aVIf you use a string like , you should get an error along the lines of:
p35344
aVfrom your compiler since  is not a valid escape sequence (for strings, I mean, not regexes)
p35345
as(dp35346
g16
V14860
p35347
stp35348
a((dp35349
g2
(lp35350
VFrequency difference is the difference in speeds between your clock and the NTP clock (effectively deemed to be perfect)
p35351
aVIf you clock gains a minute every hour (compared to the NTP server clock), that's the frequency difference
p35352
aVIt's also called drift
p35353
aVAn extreme, simplified, example:
p35354
aVLets say you sync with NTP at the top of every hour (, ,
p35355
aVbut your clock is really bad and loses ten minutes in that hour
p35356
aVIf you sync with NTP at midnight so that both your clocks are set to  then, when the (real)  comes around, your clock will read  (you've lost your ten minutes)
p35357
aVThat means that you will be out of step by anywhere between zero and ten minutes
p35358
aVSo how would you fix that in a simplistic way
p35359
aVWhat if the synchronisation set your clock to  at (real) midnight
p35360
aVYou would be out by five minutes but the NTP clock would gradually creep up on you, matching perfectly at  before it starts getting ahead of you
p35361
aVThen at (real) , you would be at  so that at no point would the error be more than five minutes
p35362
aVNow NTP will try to avoid doing things like immediately changing your time from  to  since a lot of software (like ) won't take too kindly to it
p35363
aVIt's far more likely to synch the clocks together at midnight then gradually creep the local time forward over the hour to keep them aligned (say adding one second every five, which will effectively recover that lost ten minutes in the hour in a non-gut-wrenching way)
p35364
as(dp35365
g16
V14860
p35366
stp35367
a((dp35368
g2
(lp35369
VProvided a is exactly the right size and arrays are already sorted (as seems to be the case), the following pseudo-code should help:
p35370
aVIt's basically a merge of the two lists into one, starting at the ends
p35371
aVOnce  hits -1, there are no more elements in  so the remainder in  were less than the lowest in
p35372
aVTherefore the rest of  can remain unchanged
p35373
aVIf  runs out first, then it's a matter of transferring the rest of  since all the  elements have been transferred above  already
p35374
aVThis is O(n) as requested and would result in something like:
p35375
aVUnderstanding that pseudo-code and translating it to your specific language is a job for you, now that you've declared it homework :-)
p35376
as(dp35377
g16
V14860
p35378
stp35379
a((dp35380
g2
(lp35381
VThis pseudo-code gives you the algorithm to work out the difference in minutes
p35382
aVIt assumes that, if the start time is after the end time, the start time was actually on the previous day
p35383
aVThe  and  values are the number of minutes since midnight
p35384
aVThis is basically doing:
p35385
aVGet number of minutes from start of day for start time
p35386
aVGet number of minutes from start of day for end time
p35387
aVSubtract the former from the latter
p35388
aVIf result is negative, add number of minutes in a day
p35389
aVDon't be so sure though that you can't use date/time manipulation functions
p35390
aVYou may find that you could easily construct a date/time and calculate differences with something like:
p35391
aValthough it's probably not needed for your simple scenario
p35392
aVI'd stick with the pseudo-code I gave above unless you find yourself doing some trickier date/time manipulation
p35393
aVIf you then want to turn the duration (in minutes) into hours and minutes:
p35394
as(dp35395
g16
V14860
p35396
stp35397
a((dp35398
g2
(lp35399
VMagic numbers are any number in your code that isn't immediately obvious to someone with very little knowledge
p35400
aVFor example, the following piece of code:
p35401
aVhas a magic number in it and would be far better written as:
p35402
aVSome extreme views state that you should never have any numbers in your code except -1, 0 and 1 but I prefer a somewhat less dogmatic view since I would instantly recognise 24, 1440, 86400, 3
p35403
aV1415, 2
p35404
aV71828 and 1
p35405
aV414 - it all depends on your knowledge
p35406
aVHowever, even though I know there are 1440 minutes in a day, I would probably still use a  identifier since it makes searching for them that much easier
p35407
aVWhose to say that the capacity increment mentioned above wouldn't also be 1440 and you end up changing the wrong value
p35408
aVThis is especially true for the low numbers: the chance of dual use of 37197 is relatively low, the chance of using 5 for multiple things is pretty high
p35409
aVUse of an identifier means that you wouldn't have to go through all your 700 source files and change  to  when the capacity increment changed
p35410
aVYou could just change the one line:
p35411
aVto:
p35412
aVand recompile the lot
p35413
aVContrast this with magic constants which are the result of naive people thinking that just because they remove the actual numbers from their code, they can change:
p35414
aVto:
p35415
aVThat adds absolutely zero extra information to your code and is a total waste of time
p35416
as(dp35417
g16
V14860
p35418
stp35419
a((dp35420
g2
(lp35421
VYou may well find a faster linker but, unless it's ten times as fast and I'm linking thirty times an hour, I think I'd prefer to use the tools that Microsoft has tested with
p35422
aVI would rather have relatively slow link times than potentially unstable software
p35423
aVAnd you kids are spoilt nowadays
p35424
aVIn my day, we had to submit our 80-column cards to the computer centre and, if we were lucky, the operator would get it typed in by next Thursday and we could start debugging from the hardcopy output :-)
p35425
as(dp35426
g16
V14860
p35427
stp35428
a((dp35429
g2
(lp35430
VYou should release memory when you've finished with it
p35431
aVObjects are reference counted so, as long as you  and  (and everyone else does too), you should have no problems
p35432
aVIf you find you're crashing because you release the memory, then either you or someone else isn't following the rules
p35433
aVIn either case, find out who isn't following the rules, and fix it
p35434
aVDon't hold on to memory just to avoid crashes
p35435
aVThat way lies madness (and lack of memory)
p35436
as(dp35437
g16
V14860
p35438
stp35439
a((dp35440
g2
(lp35441
VI would suggest using a lexer and parser for doing this, either the lex/yacc combo or flex/bison
p35442
aVYou basically write code in a  and  file to describe the layout and the lexer/parser generator creates C code that will process the file for you, calling functions to deliver the data to you
p35443
aVLexical analysis and parsing are a pain to do unless you're well versed in the art
p35444
aVTools like those I've mentioned make the job a lot easier
p35445
aVIn the lexer, you get it to recognise the lexical elements like
p35446
aVand so on
p35447
aVThe lexer is used by the parser to detect the lexical elements and the parser has the higher level rules for deciding what constructs are valid
p35448
aVThings like an account section being , , zero or more of  then finally
p35449
aVAnd also detecting  as being (among others) , ,  then
p35450
aVMost of the intelligence is under the covers (and pretty ugly looking code at least for lex/yacc) but it's better than trying to write it yourself :-)
p35451
as(dp35452
g16
V14860
p35453
stp35454
a((dp35455
g2
(lp35456
VNo, you should really only use  when your tables are relatively small or you don't care about the performance of your own or other peoples' queries on your database
p35457
aVThere are other ways to achieve this capability which scale much better, full text indexing or, if that's unavailable or not flexible enough, using insert/update triggers to extract non-noise words for querying later
p35458
aVI mention that last possibility since you may not want a full text index
p35459
aVIn other words, do you really care about words like "is", "or" and "but" (these are the noise-words I was alluding to before)
p35460
aVYou can separate the field into words and place the relevant ones in another table and use blindingly fast queries on that table to find the actual rows
p35461
as(dp35462
g16
V14860
p35463
stp35464
a((dp35465
g2
(lp35466
VThe first thing I would try would be to kick the condition variable in between the cancel and the join, and have your target thread check for cancellation explicitly after it returns from the condition wait
p35467
aVThat's because it may be that the thread is not responding to cancellation while it's in the condition wait (or at all)
p35468
aVPOSIX
p35469
aV1c-2004 (v6) states:
p35470
aVThe cancelability state and type of any newly created threads, including the thread in which main() was first invoked, shall be  and  respectively
p35471
aVThat means you have to explicitly check for cancellation with
p35472
aVThe other option is to actually set the threads cancel type to  when it first starts to run, something like:
p35473
aVThat is, of course, assuming that's what the problem is
p35474
aVYou should be able to test if it is by examining the output of that third line above
p35475
aVCancellation is a request to the target thread which it is free to ignore if it wishes, as opposed to the far more evil
p35476
aVI'm a great believer in letting threads control their own lifetimes since I've found it invariably leads to fewer concurrency problems
p35477
aVAside: In fact, having been bought up in very early editions of pthreads, even before integration into DCE, I still find myself just using a global variable for each thread indicating when it should exit, along with manually kicking mutexes or condition variables to wake the threads up
p35478
aVI guess I should update my methods (or I would if I could see a clear advantage)
p35479
aV:-)
p35480
as(dp35481
g16
V14860
p35482
stp35483
a((dp35484
g2
(lp35485
VBecause  is not a pointer, it's a , 65 or 4116 if the underlying character set is ASCII
p35486
aV, on the other hand, is string, basically the character array , which degrades to a pointer to its first character
p35487
aVYour "difference between  and " has been answered here, far better than I could
p35488
aVThe reason why you get rubbish with a  is because  is a  which means it's being treated as a string - in that case,  outputs characters up to the final nul character  which isn't there, or is there beyond the character
p35489
aVThe following code shows this:
p35490
aVoutputting:
p35491
aVWhen you uncomment the  lines, it works, because it's putting zeros around the character, outputting  on its own)
p35492
aVKeep in mind this is not kosher C, it's only working because of the way my stack is organised
p35493
aVDon't use this is real code
p35494
as(dp35495
g16
V14860
p35496
stp35497
a((dp35498
g2
(lp35499
VFor the first question, you create a pointer  without initialising it, then you immediately try to dereference it with
p35500
aVFor the second one, you should be casting to , not :
p35501
aVThat's because  is a structure, not a pointer to a structure
p35502
aVThe code above outputs  as expected
p35503
as(dp35504
g16
V14860
p35505
stp35506
a((dp35507
g2
(lp35508
VUsually you can just use
p35509
aVAlternatively, you can use  but you should find that  for "zero or one occurrences of" is supported just about everywhere
p35510
aVIf you want to accept 12 digits with any number of dashes in there anywhere, you might have to do something like:
p35511
aVwhich is basically zero or more dashes followed by 12 occurrences of (a digit followed by zero or more dashes) and will capture all sorts of wonderful things like:
p35512
aV(of course, you should use  instead of  if your regex engine has support for that)
p35513
as(dp35514
g16
V14860
p35515
stp35516
a((dp35517
g2
(lp35518
VIt's a pointer to a function, said function taking a void pointer as an argument and returning a void pointer
p35519
aVIn other words, you can do:
p35520
aVto create a thread using the function  as it's procedure
p35521
as(dp35522
g16
V14860
p35523
stp35524
a((dp35525
g2
(lp35526
VCheck your  - that's most likely where it's defined
p35527
aVYour code compiles fine with CygWin since the  contains (by virtue of the fact it includes ):
p35528
aVAs a kludge, you could try adding that line to your own code
p35529
aVBut you should still investigate why it's missing and maybe raise a bug report
p35530
aVThere's a great many pages complaining that MinGW doesn't support socklen_t, for example here, here, here and here, the last of which states that it lives in  as I defined it in my kludge above
p35531
as(dp35532
g16
V14860
p35533
stp35534
a((dp35535
g2
(lp35536
VI think you might be confused on a number of fronts
p35537
aVThe  setting is for , not
p35538
aVTo flag a variable for export with , you use
p35539
aVAnd you're also confusing directions of propagation :-)
p35540
aVDefining a variable as local will prevent its lifetime from extending beyond the current function (outwards or upwards depending on how your mind thinks)
p35541
aVThis does not affect the propagation of the variable to sub-processes run within the function (inwards or downwards)
p35542
aVFor example, consider the following scripts :
p35543
aVand :
p35544
aVWhen you run , the output is:
p35545
aVso you can see that neither local variable survives the return from the function
p35546
aVHowever, the auto-export of the local variables to a sub-process called within  is different
p35547
aVThe one marked for export with  is available in the sub-shell, the other isn't
p35548
as(dp35549
g16
V14860
p35550
stp35551
a((dp35552
g2
(lp35553
VErr, I think the problem is that MySQL doesn't actually have a VARCHAR_IGNORECASE type
p35554
aVHSQL from OpenOffice has it but I've not seen it used elsewhere
p35555
as(dp35556
g16
V14860
p35557
stp35558
a((dp35559
g2
(lp35560
VYou can use:
p35561
aVbut this is a compile-time initialisation - you can't use that method in the current standard to re-initialise (although I think there are ways to do it in the upcoming standard, which may not immediately help you)
p35562
aVThe other two ways that spring to mind are to blat the contents if they're fixed:
p35563
aVor provide a function that looks like your initialisation code anyway:
p35564
aVkeeping in mind those ellipses () are placeholders, not things to literally insert in the code
p35565
as(dp35566
g16
V14860
p35567
stp35568
a((dp35569
g2
(lp35570
VYou're dead right
p35571
aVThe documentation doesn't even list ERROR_ACCESS_DENIED as a possible error code for that function so it may well be a bug
p35572
aVI would do as you suggest in implementing a retry/backoff strategy
p35573
aVIn other words, if you get that error, try again up to three times with no delay (obviously stop at any point here if you get a non-error return code), then up to four more times with delays of (for example, 100 milliseconds, 500 milliseconds, 1 second and 2 seconds)
p35574
aVThis sort of strategy (which I've used before) usually gets around any temporary resource shortages
p35575
aVIf you still can't create the directory after 7 attempts and 3
p35576
aV6+ seconds, you can probably safely assume it's not going to happen
p35577
aVYour function could be as ugly as (pseudo-code):
p35578
aVbut you may want you make it a little more elegant:
p35579
as(dp35580
g16
V14860
p35581
stp35582
a((dp35583
g2
(lp35584
VThe bit shifting of  is usually for situations where you have non-exclusive values that you want to store
p35585
aVFor example, say you want to be able to draw lines on any side of a box
p35586
aVYou define:
p35587
aVThen you can combine them for multiple sides:
p35588
aVThe fact that they're using totally different bits means that they're independent of each other
p35589
aVBy ing them you get  which is equal to  and you can detect each individual bit with other boolean operations (see here and here for an explanation of these)
p35590
aVIf they were defined as 1, 2, 3 and 4 then you'd probably either have to make one call for each side or you'd have to pass four different parameters, one per side
p35591
aVOtherwise you couldn't tell the difference between  () and  (), since both of them would be the same value (with a simple addition operation)
p35592
aVThe  stuff is just hexadecimal numbers which are easier to see as binary bitmasks (each hexadecimal digit corresponds exactly with four binary digits
p35593
aVYou'll tend to see patterns like , , , , ,  and so on, since they're the equivalent of a single  bit moving towards the most significant bit position - those values are equivalent to binary , , , , ,  and so on
p35594
aVAside: Once you get used to hex, you rarely have to worry about the  stuff
p35595
aVYou can instantly recognise  as binary
p35596
aVThat's less obvious if you see the value 16384 in the code although some of us even recognise that :-)
p35597
as(dp35598
g16
V14860
p35599
stp35600
a((dp35601
g2
(lp35602
VThat's not entirely the same thing
p35603
aVIn your first sample, you're iterating over multiple rows, not columns
p35604
aVUnless you're certain that there's only one row with the name , you're still going to need the loop
p35605
aVYou are right that you shouldn't  when you only need  some of the columns, it's wasteful
p35606
aVIn other words, you should use the only slightly modified:
p35607
as(dp35608
g16
V14860
p35609
stp35610
a((dp35611
g2
(lp35612
VI would probably prefer to use  for that:
p35613
aVThat  will give you:
p35614
aVYou can then pipe that through  to filter out the blank lines
p35615
as(dp35616
g16
V14860
p35617
stp35618
a((dp35619
g2
(lp35620
VYou have one visible problem and one invisible problem
p35621
aVFirst the invisible one
p35622
aVThe fact that you're crashing in  is almost certainly because you haven't allocated enough (or any) space for the  array
p35623
aVWe'll need to see where that's done to be certain but it's a fairly safe bet
p35624
aVOne possibility, if you're using a dynamic array, is to create it in the constructors thus (after setting up width and height members):
p35625
aVThen, in, , create the actual matrix, something like (untested):
p35626
aVkeeping in mind that you may want to copy the old data in some cases
p35627
aVThe other problem is with your  loop in that function
p35628
aVIt only sets up the diagonals  to 0, ,  and so on
p35629
aVIt should be:
p35630
aVThe other problem with the loop you had will be if you have non-square matrices
p35631
aVSince the value of the expression  is , your loop:
p35632
aVwill only exit when
p35633
aVIf your matrix is higher than it is wide, you may well be running off the end of your array, even if it is allocated correctly
p35634
as(dp35635
g16
V14860
p35636
stp35637
a((dp35638
g2
(lp35639
VAt least for C, it makes no difference nowadays
p35640
aVThe ISO standard states that the location of the files is implementation defined in both cases
p35641
aVThe usual way is to use  for system headers (things under  for example) and  for your own headers, but it's not required
p35642
aVThe relevant bits of C99 are from 6
p35643
aV10
p35644
aV2, "Source file inclusion", quoted below
p35645
aVA preprocessing directive of the form
p35646
aVsearches a sequence of implementation-defined places for a header identified uniquely by
p35647
aVthe specified sequence between the  and  delimiters, and causes the replacement of that
p35648
aVdirective by the entire contents of the header
p35649
aVHow the places are specified or the header
p35650
aVidentified is implementation-defined
p35651
aVA preprocessing directive of the form
p35652
aVcauses the replacement of that directive by the entire contents of the source file identified
p35653
aVby the specified sequence between the  delimiters
p35654
aVThe named source file is searched
p35655
aVfor in an implementation-defined manner
p35656
aVIf this search is not supported, or if the search
p35657
aVfails, the directive is reprocessed as if it read
p35658
aVwith the identical contained sequence (including  characters, if any) from the original
p35659
aVdirective
p35660
as(dp35661
g16
V14860
p35662
stp35663
a((dp35664
g2
(lp35665
VSurely if "names starting with __ are disallowed in C++", you shouldn't be using them in prototypes either :-) *a
p35666
aVI see two ways to do it
p35667
aVOne, you can ensure that the order of parameters in your comments always matches the order in your prototype
p35668
aVOr, two, you could actually put the real names in your prototypes as well
p35669
aVMyself, I prefer the second approach since I like to be able to tell what parameters are passed in, even if the function has no comments on it (or worse, the comments get out of date)
p35670
aVThis is far easier with a prototype like:
p35671
aVthan it is with:
p35672
aVIn some environments, we've even gone so far as to have the build process ensure that all function prototypes have identically named parameters as the function definition
p35673
aV*a) These identifiers are actually not for the use of regular programs
p35674
aVSection 17
p35675
ag4556
ag6296
ag6296
aV2 of cpp0x (but this restriction has been around for quite a while in both C and C++) states:
p35676
aVCertain sets of names and function signatures are always reserved to the implementation:
p35677
aVEach name that contains a double underscore  or begins with an underscore followed by an uppercase letter is reserved to the implementation for any use
p35678
aVEach name that begins with an underscore is reserved to the implementation for use as a name in the global namespace
p35679
aVIn other words, don't use them for your own purposes
p35680
as(dp35681
g16
V14860
p35682
stp35683
a((dp35684
g2
(lp35685
VI'll guarantee it's not a  thing
p35686
aVUNIX is famous for the terseness of its commands but even it wouldn't go that far :-)
p35687
aVIt's possible that RVM may create a script or executable with that name so that entering it on the command line may do something but, if that's so, it's a good reason for me to avoid RVM
p35688
aVHowever, since the context seems to be lines like:
p35689
aVI would suggest it's the prompt in use for the shell rather than a command
p35690
as(dp35691
g16
V14860
p35692
stp35693
a((dp35694
g2
(lp35695
VNot sure why you're getting those results with your (unspecified) compiler but  under Ubuntu 10 gives:
p35696
aVwith those last two being  and (264-1) respectively, as you desire
p35697
aVSo maybe consider switching to a more up-to-date compiler
p35698
aVIt may be you're using a pre-C99 compiler
p35699
aVJust out of interest, what does  and  give you on your system
p35700
aVThis would go a long way towards explaining your problem
p35701
aVA couple of other things to check since your s seem to indicate the data types themselves are okay (though these may not fix the problem - they were found with a fairly shallow web search):
p35702
aVTry using  as the format string instead of
p35703
aVIf MinGW is using the MSVCRT libs, that might be required for real 64-bit  support
p35704
aVMake sure you're compiling with
p35705
as(dp35706
g16
V14860
p35707
stp35708
a((dp35709
g2
(lp35710
VWell, it depends entirely on your hardware but I'd be surprised if an ISR could be interrupted by the main thread
p35711
aVSo probably the only thing you have to watch out for is if the main thread could be interrupted halfway through a read (so it may get part of the old value and part of the new)
p35712
aVIt should be a simple matter of consulting the specs to ensure that interrupts are only processed between instructions (this is likely since the alternative would be very complex) and that your 32-bit load is a single instruction
p35713
as(dp35714
g16
V14860
p35715
stp35716
a((dp35717
g2
(lp35718
VWell, it appears to me that you don't need OR conditions at all (but see below)
p35719
aVFor the numeric bit, you could get away with:
p35720
aVwhich would handle all those fractional values
p35721
aVI would still keep your decimal separate with an OR clause since it's likely to complicate things
p35722
aVSo I think you could probably get away with something like:
p35723
aValthough that allows for an empty fractional amount so you may be better off with what you've got (whole, fractional and decimal in separate OR clauses)
p35724
aVI prefer the  construct to  myself but that may just be an aversion on my past to have multiple line end markers in my RE :-)
p35725
aVBut, in all honesty, I think you may be trying to swat a fly with a thermo-nuclear warhead here
p35726
aVDo you really need to restrict what gets entered
p35727
aVI've seen recipes that call for  and
p35728
aVI personally think you may be being to restrictive in what you'll allow
p35729
aVI would have a free-form field for quantity and a drop-down for food-type (actually I would probably just allow free-form for the lot unless I was offering the ability to search for recipes based on what's in the fridge)
p35730
as(dp35731
g16
V14860
p35732
stp35733
a((dp35734
g2
(lp35735
VI see that as similar to what you state but with a small caveat
p35736
aVI suspect it's just experience with application support with a vendor (not another vendor)
p35737
aVIn other words, they're looking for the fact that you worked for Dodgy Brothers Software Ltd in supporting their top-of-the-line application, BCPL Toolkit
p35738
aVYou'll probably be quizzed about how customers raised faults, how they were prioritised, how they were classified as bugs or feature requests, how they were tracked, developed, tested, deployed and so forth
p35739
aVIt sounds like they want you to be a pseudo-third-party product provider at this hospital, not a bad idea since it will probably provide a fair bit of autonomy (it would be unusual to treat you as "separate" while still maintaining a tight control on how you do your job
p35740
aVOf course, like any vendor-customer relationship, they still control the purse-strings so autonomy is a two-edged sword
p35741
aVThe other possibility is that they're just looking for experience with dealing with vendors (if they want you to evaluate/integrate real third-party products)
p35742
aVBut I see that as less likely since that would less call for "Vendor Application Support" and more call for tendering, requirements and evaluation skills which you don't mention
p35743
aVAnd remember that almost any experience can be subtly morphed into exactly what the employer requires :-)
p35744
as(dp35745
g16
V14860
p35746
stp35747
a((dp35748
g2
(lp35749
VThe precedence is fine
p35750
aVis evaluated first, then , then , so it breaks down into:
p35751
aVYour problem is that your  loop is not being executed at all, so that  is still set to
p35752
aVThe range  when  is 1 equates to  which will result in the body not being executed
p35753
aVIn fact it won't be executed where  is 2 either since  is 2 and the range  doesn't execute
p35754
aVThe values are the start and terminating value, not start and end (last) value - it's just fortuitous there that 2 is considered a prime by virtue of the initialisation of  :-)
p35755
aVTry this instead:
p35756
aVIt's wasteful going all the way up to , the square root of  is all that's needed
p35757
as(dp35758
g16
V14860
p35759
stp35760
a((dp35761
g2
(lp35762
VIf you're up for something quick and dirty (not something I'd release into production but certainly okay for my own purposes):
p35763
aVThe first line retrieves all the unique keys from both files into a list (won't work if your keys have spaces but that's likely to make any solution harder to implement, and it doesn't appear to be the case here)
p35764
aVThe second and third lines simply get the values for each key from the two files
p35765
aVThe  statement then prints out the key and the two values but only where the values are different
p35766
aVNot pretty, not even thoroughly tested, but it may be adequate for your purposes
p35767
aVYou do have to watch out for edge cases, like the possibility a key might exist multiple times in a file, or where the key may not be at the start of a line
p35768
as(dp35769
g16
V14860
p35770
stp35771
a((dp35772
g2
(lp35773
VIt bumps it up
p35774
aVThe capacity in the constructor is only the initial capacity
p35775
aVThis page has the following snippet:
p35776
aVinitWithCapacity:
p35777
aVDiscussion: Mutable dictionaries allocate additional memory as needed, so numItems simply establishes the object\u2019s initial capacity
p35778
as(dp35779
g16
V14860
p35780
stp35781
a((dp35782
g2
(lp35783
VThe database is responsible for data
p35784
aVThat's it
p35785
aVPeriod
p35786
aVIf referential integrity is not done in the database, then it's not integrity
p35787
aVIt's just trusting people not to do bad things, in which case you probably shouldn't even worry about password-protecting your data either :-)
p35788
aVWho's to say you won't get someone writing their own JDBC-connected client to totally screw up the data, despite your perfectly crafted and bug-free business layer (the fact that it probably won't be bug-free is another issue entirely, mandating that the DB should protect itself)
p35789
as(dp35790
g16
V14860
p35791
stp35792
a((dp35793
g2
(lp35794
VErr, I can find nothing in that linked thread stating that  is available
p35795
aVSomeone implemented their own :
p35796
aVbut you should be careful since I think, from memory, that  is interruptable
p35797
as(dp35798
g16
V14860
p35799
stp35800
a((dp35801
g2
(lp35802
VIt's basic trigonometry
p35803
aVConsider the following diagram
p35804
aV/|
p35805
aV/B|
p35806
aV/  |
p35807
aV/   |
p35808
aV/    |
p35809
aVc /     | a
p35810
aV/      |
p35811
aV/       |
p35812
aV/       _|
p35813
aV/A      | |
p35814
aV*----------+
p35815
aVb
p35816
aVYou know the angles  and  (one is 45o, so is the other because the angles inside a triangle add up to 180o and this is a right-angled (90o) triangle)
p35817
aVYou also know the length of the hypotenuse
p35818
aVTo get the lengths of the other two sides:
p35819
aVThen simply add those to your starting point (making sure you get the signs right) and you have your ending point
p35820
aVFor example, let's say your hypotenuse was , a number I just just picked at random off the top of my head
p35821
aVThe length  is  or  or  or
p35822
aVWow, what were the chances of that
p35823
aV:-)
p35824
as(dp35825
g16
V14860
p35826
stp35827
a((dp35828
g2
(lp35829
VIn order to limit your search space, you should start at 2 and work up to the square root of the number
p35830
aVThere are far more numbers (in a finite search space) divisible by 2 than by 27 so you're more likely to get a low divisor than a high one, statistically speaking
p35831
aVYou'll find a big difference when using the square root, rather than half the value, when you processing (for example) 1,000,000
p35832
aVThe difference is between a search space of 500,000 for your method and 1,000 for the square root method is considerable
p35833
aVAnother advantage is to halve the search space right at the front by discounting multiples of two
p35834
aVThen, when you have your lowest divisor, the highest one is simply the number divided by that
p35835
aVPseudocode:
p35836
as(dp35837
g16
V14860
p35838
stp35839
a((dp35840
g2
(lp35841
VYou could use something like:
p35842
aVwhich produces:
p35843
as(dp35844
g16
V14860
p35845
stp35846
a((dp35847
g2
(lp35848
VI very much doubt that the compiler knows it's a system call
p35849
aVIt's far more likely that  is in a library somewhere and the code within the library calls the relevant kernel interface
p35850
aVThe assembly output from the simple program:
p35851
aVis (irrelevant bits removed):
p35852
aVThe first thing you'll notice is that there's a call to
p35853
aVIn other words, it's a function
p35854
aVThere's not an  or  in sight, which is the mechanism used for proper system calls (on my platform anyway - YMMV)
p35855
aVThe wrapper functions in libc are where the actual work of accessing the system call interface is done
p35856
aVAn excerpt from Wikipedia on system calls:
p35857
aVGenerally, systems provide a library that sits between normal programs and the operating system, usually an implementation of the C library (libc), such as glibc
p35858
aVThis library exists between the OS and the application, and increases portability
p35859
aVOn exokernel based systems, the library is especially important as an intermediary
p35860
aVOn exokernels, libraries shield user applications from the very low level kernel API, and provide abstractions and resource management
p35861
aVThe terms "system call" and "syscall" are often incorrectly used to refer to C standard library functions, particularly those that act as a wrapper to corresponding system calls with the same name
p35862
aVThe call to the library function itself does not cause a switch to kernel mode (if the execution was not already in kernel mode) and is usually a normal subroutine call (i
p35863
ag75
aV, using a "CALL" assembly instruction in some ISAs)
p35864
aVThe actual system call does transfer control to the kernel (and is more implementation-dependent than the library call abstracting it)
p35865
aVFor example,  and  are GLIBC functions that in turn call the  and  system-calls
p35866
aVAnd, after a bit of searching, the  function is found in glibc 2
p35867
aV9 in the  file, and 'ed to
p35868
aVIf you execute:
p35869
aVyou can see them in there:
p35870
as(dp35871
g16
V14860
p35872
stp35873
a((dp35874
g2
(lp35875
VIn C, you need to specify the sizes of your arrays such as with  but you're barking up the wrong tree if you think you need to store all those values
p35876
aVThe minimum, maximum and sum can all be calculated on the fly without any need to go back and retrieve any previous numbers
p35877
aVAll you need to do is enter them one at a time and, for each:
p35878
aVif it's the first or greater the the current high, set the current high to it
p35879
aVif it's the first or less the the current low, set the current low to it
p35880
aVadd it to a sum
p35881
aVThe sum by the way, should be initialised to zero to start with
p35882
aVIn terms of pseudo-code, start with this:
p35883
aVAnd the best way to understand it is to get a non-tech piece of paper and write up a table like this:
p35884
aVThen run that program step-by-step through your head, entering or changing the values in that table as you go
p35885
aVYou'll even be able to detect when you're using uninitialised values such as if you came across  if the  column was empty
p35886
aVYou'll be surprised how quickly you begin to think like a computer, just hope it doesn't push all those social skills out of your head in the process :-)
p35887
as(dp35888
g16
V14860
p35889
stp35890
a((dp35891
g2
(lp35892
VSorry to say, Ruba, but it looks like Microsoft removed this nifty little feature when moving from VS2008 to VS2010
p35893
aVI can't find anything on MSDN, the web in general, or VS options to turn it back on
p35894
aVMy advice is to bypass the environment altogether for testing your application
p35895
aVSimply open a  window in your runtime directory (debug or release or whatever), build the executable within the IDE then switch to the command window and enter  to run your program
p35896
aVMake sure you include any required command line parameters and, after you've entered it the first time, you can just use the up-arrow to retrieve the last command
p35897
aVYes, it's a bit of a pain but, until someone comes up with a better solution, it's probably the best way to ensure you see all the output while ensuring the program has shut down completely
p35898
as(dp35899
g16
V14860
p35900
stp35901
a((dp35902
g2
(lp35903
VI've had some troubles with  before re currency - they don't seem to be as up to date as the GnuWin32 stuff (for example,  at 2
p35904
aV1 instead of 5
p35905
aV3)
p35906
aVI've simply downloaded the executables and required libraries for what I've needed (no install needed if you avoid the setup packages, just copy and go)
p35907
aVIf you click on the package names on the left of that second link above (not the "Setup" on the right), it allows you to download both the executable plus all dependencies on a single page
p35908
aVMy particular needs for a recent project were met with  and about four DLL files, no installation, no impinging on the environment or registry
p35909
aVIn short, ideal for running from a memory stick or standalone CD
p35910
aVI must, at some point, put together a CD with the entire suite on it
p35911
aVI used to carry around CygWin but the necessity to install was a pain
p35912
as(dp35913
g16
V14860
p35914
stp35915
a((dp35916
g2
(lp35917
VFrom the book itself:
p35918
aVEach class may also define what happens if a variable of the type is defined but an initializer is not provided
p35919
aVA class does so by defining a special constructor, known as the default constructor
p35920
aVThis constructor is called the default constructor because it is run "by default;" if there is no initializer, then this constructor is used
p35921
aVThe default constructor is used regardless of where a variable is defined
p35922
aV(my italics)
p35923
aVSo you're in a section of the book where they're already talking about default constructors (as should be evident in some of the other answers, the default constructor is most definitely not always used)
p35924
aVAll that the book is saying is, in those situations where the default constructor is used, it makes no difference at all where the variable is defined (inside or outside functions, inside or outside classes, inside braces such as loops, selection statements or even naked braces, and so on)
p35925
as(dp35926
g16
V14860
p35927
stp35928
a((dp35929
g2
(lp35930
VI'm not certain you fully understand how  is meant to work
p35931
aVYou call  when you're finished with it and that decrements the reference count that was incremented when you loaded it
p35932
aVIf some other part of your process is still using it, it's probably not your concern
p35933
aVThe reference count may tell you how many times it's been "loaded" but won't help in figuring out who loaded it
p35934
as(dp35935
g16
V14860
p35936
stp35937
a((dp35938
g2
(lp35939
VI'd probably go for John's  solution but, since you asked about  as well:
p35940
aVThis outputs:
p35941
aVAn explanation as to how it works may be helpful
p35942
aVThink of the  script as follows with conditions on the left and commands on the right:
p35943
aVThese two  clauses are executed for every single line processed
p35944
aVIf the line matches the regular expression  (meaning "Line2:" at the start of the line), you change  by appending your desired string ( is the entire line as read into )
p35945
aVIf the line matches the empty condition (all lines will match this),  is executed
p35946
aVThis outputs the current line
p35947
aVSo you can see it's just a simple program which modifies the line where necessary and outputs the line, modified or not
p35948
aVIn addition, you may want to use  as the key even for a  solution so you don't pick up  in the middle of the text or  through ,  through  and so on:
p35949
as(dp35950
g16
V14860
p35951
stp35952
a((dp35953
g2
(lp35954
VPseudo-code only since it may be homework
p35955
aVIf it is, you should do some of the work yourself
p35956
aVIf it isn't you should be able to convert it to whatever language you want :-)
p35957
aVTo work out the maximum and minimum of  and :
p35958
aVIt basically uses  which, assuming  and  are different will return -1 if  otherwise 1
p35959
aVYou would get a divide-by-zero error if they were equal hence the outer switch to detect this first
p35960
aVIf you're looking for the minimum and maximum from a list, just set  and  initially to the first value in the list, then run through the list comparing each value with  and  and adjusting them accordingly:
p35961
as(dp35962
g16
V14860
p35963
stp35964
a((dp35965
g2
(lp35966
VThe behaviour of compilers in locating header files is implementation defined for both the  and  variants
p35967
aVHowever, based on this page for VC2010, it appears the quoted form searches a superset of the angle bracket form so I'm not sure that's the problem
p35968
aVI suppose it would be a silly question to ask if the following file actually existed
p35969
aVSo, a couple of investigative jobs:
p35970
aVMake sure that  exists
p35971
aVTry changing your top-level include to use quotes
p35972
aVTry changing the include in  to use angle brackets
p35973
aVMake sure you try all four possibilities for those last two
p35974
aVIs  a network-mounted drive
p35975
aVWhat happens if you put it all on
p35976
aVThat last one is just in case Windows is doing some shenanigans under the covers :-)
p35977
as(dp35978
g16
V14860
p35979
stp35980
a((dp35981
g2
(lp35982
VThe  command will do the trick:
p35983
aVFor your specific purposes, you can use:
p35984
aVUse  for further details, though it will probably give you the massive  manpage, so I'll duplicate the relevant section from mine here:
p35985
aVread [-ers] [-u fd] [-t timeout] [-a aname] [-p prompt]
p35986
aV[-n nchars] [-d delim] [name
p35987
aVOne line is read from the standard input, or from the file descriptor fd
p35988
aVsupplied as an argument to the -u option, and the first word is assigned
p35989
aVto the first name, the second word to the second name, and so on, with
p35990
aVleftover words and their intervening separators assigned to the last name
p35991
aVIf there are fewer words read from the input stream than names, the
p35992
aVremaining names are assigned empty values
p35993
aVThe characters in IFS are used
p35994
aVto split the line into words
p35995
aVThe backslash character (\u005c) may be used to
p35996
aVremove any special meaning for the next character read and for line
p35997
aVcontinuation
p35998
aVOptions, if supplied, have the following meanings:
p35999
aV-a aname      The words are assigned to sequential indices of the array
p36000
aVvariable aname, starting at 0
p36001
aVaname is unset before any new
p36002
aVvalues are assigned
p36003
aVOther name arguments are ignored
p36004
aV-d delim      The first character of delim is used to terminate the input
p36005
aVline, rather than newline
p36006
aV-e            If the standard input is coming from a terminal, readline is
p36007
aVused to obtain the line
p36008
aV-n nchars     Read returns after reading nchars characters rather than
p36009
aVwaiting for a complete line of input
p36010
aV-p prompt     Display prompt on standard error, without a trailing newline,
p36011
aVbefore attempting to read any input
p36012
aVThe prompt is displayed
p36013
aVonly if input is coming from a terminal
p36014
aV-r            Backslash does not act as an escape character
p36015
aVThe backslash is
p36016
aVconsidered to be part of the line
p36017
aVIn  particular, a
p36018
aVbackslash-newline pair may not be used as a line continuation
p36019
aV-s            Silent mode
p36020
aVIf input is coming from a terminal, characters are
p36021
aVnot echoed
p36022
aV-t timeout    Cause read to time out and return failure if a complete line of
p36023
aVinput is not read within timeout seconds
p36024
aVThis option has no
p36025
aVeffect if read is not reading input from the terminal or a pipe
p36026
aV-u fd         Read input from file descriptor fd
p36027
aVIf no names are supplied, the line read is assigned to the variable REPLY
p36028
aVThe return code is zero, unless  end-of-file is encountered, read times out,
p36029
aVor an invalid file descriptor is supplied as the argument to -u
p36030
as(dp36031
g16
V14860
p36032
stp36033
a((dp36034
g2
(lp36035
VYou should really post your code, but here goes
p36036
aVStart with:
p36037
ag4771
aVYou need to check in your case that  is both set and refers to an actual directory
p36038
aVWhen this is run with:
p36039
aV( is a subdirectory off my current directory but you can use any valid directory), I get:
p36040
aVNote that you have to pass a directory in, not a file
p36041
aVWhen I execute:
p36042
aVI get:
p36043
aVbecause that's a file rather than a directory (if you're sneaky, you can attempt to use  if the initial  fails)
p36044
as(dp36045
g16
V14860
p36046
stp36047
a((dp36048
g2
(lp36049
VYes, you will almost certainly have to link with the library files for Tokyo Cabinate (whatever that is)
p36050
aVTypically, you would use a command like:
p36051
aVwhere:
p36052
aVspecifies search paths for libraries
p36053
aVlists libraries to search for undefined symbols
p36054
aVand the linker will go looking for the libraries, following certain rules for turning  into a file name like
p36055
aVIn fact, a search of the net turns up this (on one line, I'm just splitting it for readability):
p36056
aVas the command line to use
p36057
aVso I would suggest that you need for your specific case (again, on one line):
p36058
as(dp36059
g16
V14860
p36060
stp36061
a((dp36062
g2
(lp36063
VHere's the code with some helpful pointers:
p36064
aVI'd also suggest you go back to my original answer and create your code from that
p36065
aVIt really is a much cleaner way of doing it than trying to fiddle around with arrays
p36066
aVLet me emphasise that: if you're using an array, you're doing it the hard way
p36067
as(dp36068
g16
V14860
p36069
stp36070
a((dp36071
g2
(lp36072
VI would just use bitwise operators:
p36073
aVThat would work for that specific case
p36074
aVIn order to make it more adaptable, I'd put it in a function, something like:
p36075
aVThe lookup values allow you to specify which bits to swap
p36076
aVLet's take the values  for  and  for y along with start bit  of 2 and end bit  of 6 (bit numbers start at zero on the left in this scenario)
p36077
as(dp36078
g16
V14860
p36079
stp36080
a((dp36081
g2
(lp36082
VAdd the line:
p36083
aVto the start of your program
p36084
aVThe following program runs to completion in the debugger:
p36085
aVoutputting:
p36086
aVWithout the  line, it stops at 100, the same as yours:
p36087
aVThat's been tested successfully up to a stack depth of 50,000 (use 50000 in the  statement and set  to 50001)
p36088
aVIf your stack depth is greater than that, I suspect you should be re-engineering rather than debugging :-)
p36089
aVBy the way, if you don't want to touch the code at all, you can change that value in the debugger before running your code - just enter  before you enter  to run the code, or just set it in your  file:
p36090
as(dp36091
g16
V14860
p36092
stp36093
a((dp36094
g2
(lp36095
VIf it were a "string" instead of a char, you would do something like this:
p36096
aVwhich outputs:
p36097
aVA "string" in C is really an array of characters terminated by the  (NUL) character
p36098
aVWhat the above code does is to pass in the address of the first character in that array and the function populates the four characters starting from there
p36099
as(dp36100
g16
V14860
p36101
stp36102
a((dp36103
g2
(lp36104
VMathematically, you don't have to worry about whether they overlap at all
p36105
aVIf  is less than , just copy from the end
p36106
aVIf  is greater than , just copy from the beginning
p36107
aVIf  and  are equal, just exit straight away
p36108
aVThat's because your cases are one of:
p36109
aVEven if there's no overlap, that will still work fine, and simplify your conditions
p36110
aVIf you have a more efficient way to copy forwards than backwards then, yes, you should check for overlap to ensure you're using the more efficient method if possible
p36111
aVIn other words, change option 1 above to copy from the beginning
p36112
aVHowever, in that case, you may also find that it's faster to copy twice, once from  to some temporary memory then from that temporary memory to  but that depends entirely on your respective algorithms
p36113
as(dp36114
g16
V14860
p36115
stp36116
a((dp36117
g2
(lp36118
VWhen a sequence point occurs, it basically means that you are guaranteed that all previous operations are complete
p36119
aVChanging a variable twice without an intervening sequence point is one example of undefined behaviour
p36120
aVFor example,  is undefined because there's no sequence point between the two changes to
p36121
aVWikipedia has a list of the sequence points in the C and C++ standards although the definitive list should always be taken from the ISO standard
p36122
aVFrom C99 appendix C:
p36123
aVThe following are the sequence points described in 5
p36124
ag2193
ag2836
aV3:
p36125
aVThe call to a function, after the arguments have been evaluated (6
p36126
ag630
ag2836
aV2)
p36127
aVThe end of the first operand of the following operators: logical AND && (6
p36128
ag630
aV13);
p36129
aVlogical OR || (6
p36130
ag630
aV14); conditional
p36131
aV(6
p36132
ag630
aV15); comma , (6
p36133
ag630
aV17)
p36134
aVThe end of a full declarator: declarators (6
p36135
ag6293
aV5);
p36136
aVThe end of a full expression: an initializer (6
p36137
ag6293
aV8); the expression in an expression
p36138
aVstatement (6
p36139
aV8
p36140
aV3); the controlling expression of a selection statement (if or switch)
p36141
aV(6
p36142
ag36140
aV4); the controlling expression of a while or do statement (6
p36143
ag36140
aV5); each of the
p36144
aVexpressions of a for statement (6
p36145
ag36140
ag630
aV3); the expression in a return statement
p36146
aV(6
p36147
ag36140
ag4556
aV4)
p36148
aVImmediately before a library function returns (7
p36149
ag2193
aV4)
p36150
aVAfter the actions associated with each formatted input/output function conversion
p36151
aVspecifier (7
p36152
aV19
p36153
aV6, 7
p36154
aV24
p36155
aV2)
p36156
aVImmediately before and immediately after each call to a comparison function, and
p36157
aValso between any call to a comparison function and any movement of the objects
p36158
aVpassed as arguments to that call (7
p36159
aV20
p36160
aV5)
p36161
aVC11 has the wording changed
p36162
aVIt appears to have broken out the ternary operator and added some more detail:
p36163
aVThe following are the sequence points described in 5
p36164
ag2193
ag2836
aV3:
p36165
aVBetween the evaluations of the function designator and actual arguments in a function
p36166
aVcall and the actual call
p36167
aV(6
p36168
ag630
ag2836
aV2)
p36169
aVBetween the evaluations of the first and second operands of the following operators:
p36170
aVlogical AND && (6
p36171
ag630
aV13); logical OR || (6
p36172
ag630
aV14); comma , (6
p36173
ag630
aV17)
p36174
aVBetween the evaluations of the first operand of the conditional
p36175
aV: operator and
p36176
aVwhichever of the second and third operands is evaluated (6
p36177
ag630
aV15)
p36178
aVThe end of a full declarator: declarators (6
p36179
ag6293
aV6);
p36180
aVBetween the evaluation of a full expression and the next full expression to be
p36181
aVevaluated
p36182
aVThe following are full expressions: an initializer (6
p36183
ag6293
aV9); the expression in
p36184
aVan expression statement (6
p36185
ag36140
aV3); the controlling expression of a selection statement
p36186
aV(if or switch) (6
p36187
ag36140
aV4); the controlling expression of a while or do statement
p36188
aV(6
p36189
ag36140
aV5); each of the expressions of a for statement (6
p36190
ag36140
ag630
aV3); the expression in a
p36191
aVreturn statement (6
p36192
ag36140
ag4556
aV4)
p36193
aVImmediately before a library function returns (7
p36194
ag2193
aV4)
p36195
aVAfter the actions associated with each formatted input/output function conversion
p36196
aVspecifier (7
p36197
aV21
p36198
aV6, 7
p36199
aV28
p36200
aV2)
p36201
aVImmediately before and immediately after each call to a comparison function, and
p36202
aValso between any call to a comparison function and any movement of the objects
p36203
aVpassed as arguments to that call (7
p36204
aV22
p36205
aV5)
p36206
as(dp36207
g16
V14860
p36208
stp36209
a((dp36210
g2
(lp36211
VConsider the following code with your current instruction pointer at the  line in :
p36212
aVIf you were to step into at that point, you will move to the  line in , stepping into the function call
p36213
aVIf you were to step over at that point, you will move to the  line in , stepping over the function call
p36214
aVAnother useful feature of debuggers is the step out of or step return
p36215
aVWith your current instruction pointer on the first line of  above (assume you've stepped into from the previous position), a step return will basically run you through the current function until you go back up one level
p36216
aVIn other words, it will step through to  in
p36217
aVEclipse (at least Europa, which is the only one I have handy right here) uses F5 for , F6 for  and F7 for
p36218
as(dp36219
g16
V14860
p36220
stp36221
a((dp36222
g2
(lp36223
s(dp36224
g16
V14860
p36225
stp36226
a((dp36227
g2
(lp36228
VWe just usually soft-delete the users
p36229
aVIn other words, have a column in the users table indicating that they're no longer active and modify all the queries so that they only work on active users
p36230
aVThat has two advantages:
p36231
aVit doesn't stuff up foreign key constraints with other tables; and
p36232
aVit preserves all the data on the off-chance that you need to recover it at some point
p36233
aVUnless your user quantity is into the billions or your turnover is massively high, keeping old users around will not stress most databases
p36234
aVThis can be used to enact a similar scheme to what SO has
p36235
aVWhen users "disappear", the questions and answers authored by them still have author information but it's greyed out
p36236
aVIf you NULLed the user information (or even if you had a single  user to assign the posts to if you didn't want to allow NULLs), you would not have this information
p36237
as(dp36238
g16
V14860
p36239
stp36240
a((dp36241
g2
(lp36242
VThis will give you all the tables with  in them in the  schema
p36243
aVSee here for more details on the  table
p36244
aVIf you have a look at the navigation pane on the left, you can get all sorts of wonderful DB2 metatdata
p36245
aVNote that this link is for the mainframe DB2/z
p36246
aVDB2/LUW (the Linux/UNIX/Windows one) has slightly different columns
p36247
aVFor that, I believe you want the  column
p36248
aVIn any case, you should examine the IBM docs for your specific variant
p36249
aVThe table name almost certainly won't change however, so just look up  for the details
p36250
as(dp36251
g16
V14860
p36252
stp36253
a((dp36254
g2
(lp36255
VYou should not be printing  for a start, the variable in  is :
p36256
aVWhat is most likely to be happening in your case is that you're using an  with that limitation of about 32000 fields per record
p36257
aVBecause your fields ,  and  are respectively ,  and  (from one of your comments), your  value becomes  or
p36258
aVIf you tried to print , that's what you'd get but, because you're trying to print , it thinks you want  (field number 4008572) which is just a little bit beyond the 32000 range
p36259
aVInterestingly, if you have a lot more free memory, you wouldn't get the error but you'd still get an erroneous value :-)
p36260
aVBy the way,  doesn't have this limitation, it simply prints an empty field (see, for example, section 11
p36261
aV9 here)
p36262
as(dp36263
g16
V14860
p36264
stp36265
a((dp36266
g2
(lp36267
VIs it possible
p36268
aVOf course it's possible
p36269
aVWorst case is that you have to reverse engineer all the protocols being used in Windows
p36270
aVIs it easy
p36271
aVI have no idea
p36272
aVIt depends on how well documented those protocols are
p36273
aVGiven Microsoft's history, I would say not
p36274
aVNot being snarky there, just telling it like (I believe) it is
p36275
aVIt may be that someone has tackled this before in which case that would make it easier
p36276
aVA cursory Google search turns up very little on this front
p36277
as(dp36278
g16
V14860
p36279
stp36280
a((dp36281
g2
(lp36282
VThe  function (or  for unsigned long), from  in C or  in C++, allows you to convert a string to a long in a specific base, so something like this should do:
p36283
as(dp36284
g16
V14860
p36285
stp36286
a((dp36287
g2
(lp36288
VThe condition  is a single string
p36289
aVYou should try  instead
p36290
aVThe following transcript shows the fix:
p36291
aVYou can see in the last bit of output that only  is shown as equal since it's the only one that matches
p36292
aVThe reason you're getting true is because that's what non-empty strings will give you:
p36293
aVThat's because that form is the string length checking variation
p36294
aVFrom the  manpage under :
p36295
aV
p36296
aVUpdate:
p36297
aVThe new code in your question won't quite work as expected
p36298
aVYou need:
p36299
aVto actually execute  and use its output as the first part of the equality check
p36300
as(dp36301
g16
V14860
p36302
stp36303
a((dp36304
g2
(lp36305
VNo, don't avoid regular expressions
p36306
aVThey're actually quite a nifty little tool and will save you a lot of work if you use them wisely
p36307
aVWhat you do need to avoid is trying to use it for everything, a malaise that appears to strike those new to regular expressions before they become a little more tempered and a little less enamoured :-)
p36308
aVFor example, don't use it to validate email addresses
p36309
aVThe way you validate an email address is to send an email to it with a link that the receiver has to click on to complete the "transaction"
p36310
aVThere are billions of valid email addresses (according to the RFCs) that have no physical email receiver behind them
p36311
aVThe only way to be certain that there is a receiver is to send an email and wait for proof positive that it was received and acted upon
p36312
aVIf I find myself writing a regular expression that's more than, let's say, 60 characters, I step back to see if there's a more readable way
p36313
aVSimilarly, if I write a regular expression and come back a week later and can't instantly recognise what it does, I think about replacing it
p36314
aVThis particular paragraph consists of my opinions of course, but they've served me well :-)
p36315
as(dp36316
g16
V14860
p36317
stp36318
a((dp36319
g2
(lp36320
VIf you're doing the ASCII-EBCDIC translation outside of the FTP transfer process, I have to assume that you're transferring in binary mode (otherwise the translation would be done again and your data would be bad)
p36321
aVIf that is the case, then I'm pretty certain you're responsible yourself for the conversion of line endings as well
p36322
aVBinary transfers will not attempt to convert line endings
p36323
aVYou'll need to pad out the lines to the desired lengths and remove the line endings altogether, before sending it up to the host
p36324
aVBy way of example, if you transfer this file:
p36325
aVup in binary mode using , you'll get the following (shown in ISPF editor with ):
p36326
aVYou can see it's just transferred the bytes as-is, including the CR/LF
p36327
aVIf you switch to ASCII mode in FTP and upload again, you get:
p36328
aVHere, the characters have been converted to the right EBCDIC code points and the line endings have been morphed into padding with EBCDIC spaces
p36329
aVI suppose my first question to you would be: "Why are you doing the translation outside of FTP
p36330
aVIBM invests quite a lot of money in ensuring that it will accept all sorts of different encodings and translate them into the correct code page
p36331
aVIt's very unlikely that a stand-alone solution will work on all the internationalised versions of z/OS as well as IBM's own
p36332
aVIf you must convert on the client and transfer in binary mode, you'll either have to have the client do the line ending conversion and padding as well or post-process the file after the transfer, such as with a REXX script
p36333
aVIf you don't know what the properties of the target data set will be (such as if you're transferring into a member in a PDS), the latter option may be the only viable one
p36334
as(dp36335
g16
V14860
p36336
stp36337
a((dp36338
g2
(lp36339
VThere's nothing wrong with your code that a simple  at the end wouldn't fix :-)
p36340
aVWithout:
p36341
aVWith:
p36342
aVThe other alternative is to switch to a C99 compiler (or mode)
p36343
aVThe C99 standard states, in part (paraphrased):
p36344
aVIf the return type of the main function is a type compatible with int, a return from the initial call to the main function is equivalent to calling the exit function with the value returned by the main function as its argument: reaching the } that terminates the
p36345
aVmain function returns a value of 0
p36346
aV(my italics)
p36347
as(dp36348
g16
V14860
p36349
stp36350
a((dp36351
g2
(lp36352
VYou don't actually say what you tried but substringFromIndex:
p36353
aVshould do the trick
p36354
aVYou'll probably find that you want to use 5 unless you want the leading space in your new string
p36355
as(dp36356
g16
V14860
p36357
stp36358
a((dp36359
g2
(lp36360
VAs with all DBMS optimisation questions, it depends on your execution engine
p36361
aVI would start with the simplest scenario, four separate indexes on each of the columns
p36362
aVThis will ensure that any queries using those columns in a way you haven't anticipated will still run okay (a  index will be of zero use to a query only using )
p36363
aVAny decent execution engine will efficiently choose the index with lowest cardinality first so as to reduce the result set and then perform the other filters based on that
p36364
aVThen, and only if you have a performance problem, you can look into improving it with different indexes
p36365
aVYou should test performance on production-type data, not any test databases you have built yourself (unless they mirror the attributes of production anyway)
p36366
aVAnd keep in mind that database tuning is rarely a set-and-forget operation
p36367
aVYou should periodically re-tune because performance depends both on the schema and the data you hold
p36368
aVEven if the schema never changes, the data may vary wildly
p36369
aVRe your comment "I just cant experiment by applying indexes and explaining the query", that's exactly what you should be doing
p36370
aVIf you're worried about playing in production (and you should be), you should have another environment set up with similar specs, copy the production data across to it, then fiddle around with your indexes there
p36371
as(dp36372
g16
V14860
p36373
stp36374
a((dp36375
g2
(lp36376
VThe  pseudo-device, along with , can do this for you:
p36377
aVThis will create a file  of size 10M
p36378
aVThe  device will often block if there is not sufficient randomness built up,  will not block
p36379
aVIf you're using the randomness for crypto-grade stuff, you can steer clear of
p36380
aVFor anything else, it should be sufficient and most likely faster
p36381
aVIf you want to corrupt just bits of your file (not the whole file), you can simply use the C-style random functions
p36382
aVJust use  to figure out an offset and length , then use it  times to grab random bytes to overwrite your file with
p36383
aVThe following Perl script shows how this can be done (without having to worry about compiling C code):
p36384
ag5385
aVIt consists of the  function that you call with a file name, minimum and maximum corruption size and a character set to draw the corruption from
p36385
aVThe bit at the bottom is just unit testing code
p36386
aVBelow is some sample output where you can see that a section of the file has been corrupted:
p36387
aVIt's tested at a basic level but you may find there are edge error cases which need to be taken care of
p36388
aVDo with it what you will
p36389
as(dp36390
g16
V14860
p36391
stp36392
a((dp36393
g2
(lp36394
VThe following transcript shows how to acheive this:
p36395
aVGiving the  command a negative count goes up to that far from the end
p36396
aVSimilarly, a count starting with  causes  to start at that line rather than a certain number of lines from the end
p36397
as(dp36398
g16
V14860
p36399
stp36400
a((dp36401
g2
(lp36402
VNo idea why it was actually done that way but it's the way I'd do it, simply because, being an engineering type, it seems more natural to me to start from a general category and drill down to specifics
p36403
aVIt would also mean the parser would have to store less stuff if processing sequentially
p36404
aVWith:
p36405
aVyou have to remember ,  and
p36406
aVWith:
p36407
aVyou only have to remember
p36408
aVThat's why I had so much trouble when I first encountered Perl's post-if variant:
p36409
aVsince you don't know in advance whether what you're reading is conditional or not
p36410
as(dp36411
g16
V14860
p36412
stp36413
a((dp36414
g2
(lp36415
VYou need to be careful
p36416
aVThe first operation on  will usually clear it so that your  won't work anyway
p36417
aVYou would be better off using:
p36418
aVOther than that, it works fine for me:
p36419
aVNote the lack of output in the last one
p36420
aVThat's because the  has sucked up the return value and overwritten it (since the echo was successful)
p36421
aVAs an aside, you should let us know which UNIX and which ksh you're actually using
p36422
aVMy working version is ksh93 under Ubuntu
p36423
aVYour mileage may vary if you're using a lesser version
p36424
aVIt looks like, from your update, your only problem now is the function call
p36425
aVThat's most likely because you're defining it after using it
p36426
aVThe script:
p36427
aVproduces:
p36428
aVwhile:
p36429
aVproduces
p36430
as(dp36431
g16
V14860
p36432
stp36433
a((dp36434
g2
(lp36435
VIf you're on an optimization kick, my advice is to get off it :-)
p36436
aVOptimization is something that should be done in response to a performance problem, not a whim
p36437
aVIf there's no performance problem, all optimization is wasted effort
p36438
aVEmpty fields rarely make a large difference to data retrieval in a properly designed schema since most queries should, as much as possible, use indexes only for deciding which rows to get
p36439
aVOnce the rows are discovered, that's when you go to the table to get the actual data
p36440
aVAnd speed of indexing won't change just because the column is stored in another table
p36441
aVIf it needs to be indexed, then it needs to be indexed
p36442
aVI prefer my schema to be as simple as possible (while still mostly following 3NF) so as to avoid unnecessary joins
p36443
as(dp36444
g16
V14860
p36445
stp36446
a((dp36447
g2
(lp36448
VA compiler generally takes source code and turns it into instructions that run on the hardware directly
p36449
aVAn interpreter generally processes the source code directly or first tokenises it into a byte-code type form to interpret that
p36450
aVThere are grey areas since you can think of the Java virtual machine as being the "hardware" on which Java byte code runs
p36451
aVAdditionally, some CPUs are actually interpreters at the machine instruction level, running a program to interpret instructions (see microcode)
p36452
aVAnd virtual machines like VMWare can also muddy the waters as well :-)
p36453
aVA Java compiler takes Java source files and compiles them to byte-code class files, which are then executed by the Java virtual machine
p36454
aVIn most scenarios, this virtual machine is just a program running on "real" hardware
p36455
as(dp36456
g16
V14860
p36457
stp36458
a((dp36459
g2
(lp36460
VFrom the POSIX specifications:
p36461
aVUpon successful completion, readdir() returns a pointer to an object of type struct dirent
p36462
aVWhen an error is encountered, a null pointer is returned and errno is set to indicate the error
p36463
aVIn other words,  should tell you exactly what the problem is
p36464
aVMy best guess is that a directory called  is likely to contain some system-level information about the file system itself, and probably doesn't want users mucking about in there
p36465
aVBut why the filesystem implementers would protect that without going the extra yards to make it invisible would be a mystery
p36466
aVBottom line, check
p36467
aVIf that gives you no satisfaction, post the shortest pcomplete program that exhibits the behaviour, along with details on your environment (OS, filesystem type, which directory that  directory is in, compiler, libraries and so forth)
p36468
as(dp36469
g16
V14860
p36470
stp36471
a((dp36472
g2
(lp36473
VWhat version of  are you using
p36474
aVThe capture of the output has zero effect on the return code with my version, :
p36475
aVIt's not always a good idea to rely on standard error being non-empty to detect errors
p36476
aVMany programs don't output errors but rely solely on the return code
p36477
as(dp36478
g16
V14860
p36479
stp36480
a((dp36481
g2
(lp36482
VActually, it's reasonably logical
p36483
aVYou only have to look at the names
p36484
aVIn data flow diagrams, the lines between "boxes" represent data that flows between components of a system
p36485
aVBecause these only show the flow of data, they do not give an indication of sequencing
p36486
aVIn activity diagrams, those lines are simply transitions between activities and do not represent data flow at all
p36487
aVThey more represent the sequencing of activities and decisions
p36488
aVYou can tell from these what order things happen in
p36489
aVThat's a simplistic explanation but should be a good starting point
p36490
aVFurther information can be garnered from Wikipedia for DFDs and activity diagrams
p36491
as(dp36492
g16
V14860
p36493
stp36494
a((dp36495
g2
(lp36496
VWell, it usually means you're receiving more data than your buffer has allowed for
p36497
aVFor example, if you  20 bytes and  1000 bytes, you'll run into this problem
p36498
aVUnfortunately, without seeing the code, and without some very rapid advances in the field of psychic debugging, we'll never know for sure *a
p36499
aV*a That's a subtle hint to post the code, by the way :-)
p36500
as(dp36501
g16
V14860
p36502
stp36503
a((dp36504
g2
(lp36505
VMy opinion, for what it's worth, is that de-normalisation is something you do to gain performance if, and only if, you actually have a performance problem
p36506
aVI always design for 3NF and only revert if absolutely necessary
p36507
aVIt's not something you do to make your queries look nicer
p36508
aVAny decent database developer would not fear a moderately complex SQL statement although I do have to admit I've seen some multi-hundred-line statements that gave me the shivers - mind you, these were from customers who had no control over the schema: a DBA would have first re-engineered the schema to avoid such a monstrosity
p36509
aVBut, as long as you're happy with the limitations imposed by de-normalisation, you can do whatever you want
p36510
aVIt's not as if there's a band of 3NF police roaming the planet looking for violators :-)
p36511
aVThe immediate limitations (there may be others) that I can see are:
p36512
aVYou'll be limited (initially, without a schema change) to five phone numbers per location
p36513
aVFrom your description, it doesn't appear you see this as a problem
p36514
aVYou'll waste space storing data that doesn't have to be there
p36515
aVIn other words, every row uses space for five numbers regardless of what they actually have, although this impact is probably minimal (e
p36516
ag1775
aV, if they're varchar and nullable)
p36517
aVYour queries to look up a phone number will be complicated since you'll have to check five different columns
p36518
aVWhether that's one of your use cases, I don't know, so it may be irrelevant
p36519
aVYou should probably choose one way or the other though (I'm not sure if that's your intent here)
p36520
aVI'd be particularly annoyed if I came across a schema that had phone numbers in both the store table and a separate phone numbers table, especially if they disagreed with each other
p36521
aVEven when I de-normalise, I tend to use insert/update triggers to ensure data consistency is maintained
p36522
as(dp36523
g16
V14860
p36524
stp36525
a((dp36526
g2
(lp36527
VOne approach, not necessarily the best: from a , you can get the file specification with :
p36528
aVthen you can just use the string features like :
p36529
as(dp36530
g16
V14860
p36531
stp36532
a((dp36533
g2
(lp36534
VIn , you capture the output of a command with  (or backticks, but I prefer the former since you can nest them):
p36535
aVSo, in your particular case you'd be looking at something like:
p36536
aVKeep in mind I've split that across multiple lines for readability but it should go on a single line
p36537
aVAs to how it works:
p36538
aVThe  combines standard output and error
p36539
aVThe  will ensure you have the entire output stored somewhere
p36540
aVThe  will give you the relevant line
p36541
aVThe  will print out only
p36542
aVThe  will take that and assign it to
p36543
aVYou may need to fine-tune some of the command if your output is slightly different to what you've stated but that should be a good start
p36544
aVBased on comments, here's what you need to start with:
p36545
aVThis will execute the DB2 command sending output and error to both the terminal and the temporary file ( gives you the current process ID to avoid file name collisions)
p36546
aVYou then extract the date/time from the temporary file then delete that file
p36547
aVThen you use the date/time
p36548
as(dp36549
g16
V14860
p36550
stp36551
a((dp36552
g2
(lp36553
VPutting aside the problems with your code, yes, arrays are contiguous elements
p36554
aVWhat happens with the second line of the code snippet below:
p36555
aVis thus:
p36556
aVthe value  is multiplied by the size of the  to get 70 (in this example, we assume a 7-byte )
p36557
aVthis is then added to the base pointer  (unscaled) and the (7-byte) value is extracted from that location
p36558
aVThis scaling is an important feature
p36559
aVYou won't see it when you're working with  arrays but the values  and  will be separated by the size of an , not a  (7 in our example case above)
p36560
aVWhen you add 1 to a pointer, that doesn't actually add 1, it adds the size of the underlying data type
p36561
aVSo that:
p36562
aVwon't give you an address corresponding to the second byte of that memory, it will actually give you the address of the second  (the seventh byte)
p36563
aVTo that end,  is exactly equivalent to  in that they both give you element number three, even though it's made up of bytes from offset 21 through 27 inclusive
p36564
aVPre-emptive strike, just in case: keep in mind that a byte in ISO C is not necessarily 8 bits
p36565
aVISO uses the term  for that
p36566
aVA byte is the size of a
p36567
as(dp36568
g16
V14860
p36569
stp36570
a((dp36571
g2
(lp36572
VNULL values should be reserved for either:
p36573
aVunknown values; or
p36574
aVnot-applicable values;
p36575
aVneither of which is the case here
p36576
aVI would simply store a  value myself, one of the set
p36577
aVThat's probably the easiest solution and takes up little space while still providing mnemonic value (easily converting 'G' to 'Good' for example)
p36578
aVIf you're less concerned about space, then you could even store them as  or equivalent and store the actual values  so that no translation at all would be needed in your  statements (assuming those are the actual values you will be printing)
p36579
as(dp36580
g16
V14860
p36581
stp36582
a((dp36583
g2
(lp36584
VWhy would you do this on every frame
p36585
aVYou'll find if you do it on every tenth frame, and then divide that value by 10, you'll easily get frame rates within the gaps you're seeing
p36586
aVYou'll also probably find your frame rates are higher since you're doing less admin work within the loop :-)
p36587
aVIn other words, something like (pseudo code):
p36588
as(dp36589
g16
V14860
p36590
stp36591
a((dp36592
g2
(lp36593
VStatic libraries are linked into your executable at link time so are fixed at that point
p36594
aVFor dynamic linking, only a reference to the library is linked in at link time
p36595
aVThe dynamic library (the actual code) is linked to your executable at load time, when you run your program
p36596
aVThat means you can change the dynamic library at any time and you'll use the new one the next time you load the program
p36597
aVSee here for more detail
p36598
as(dp36599
g16
V14860
p36600
stp36601
a((dp36602
g2
(lp36603
VThe cost will vary depending on the implementation but you should keep in mind two things:
p36604
aVthe cost will be most likely be minimal since it's both a fairly primitive operation and it will be optimised as much as possible due to its use pattern (used a lot)
p36605
aVit doesn't matter how expensive it is since you need to use it if you want safe multi-threaded operation
p36606
aVIf you need it, then you need it
p36607
aVOn single processor systems, you can generally just disable interrupts long enough to atomically change data
p36608
aVMulti-processor systems can use a test-and-set strategy
p36609
aVIn both those cases, the instructions are relatively efficient
p36610
aVAs to whether you should provide a single mutex for a massive data structure, or have many mutexes, one for each section of it, that's a balancing act
p36611
aVBy having a single mutex, you have a higher risk of contention between multiple threads
p36612
aVYou can reduce this risk by having a mutex per section but you don't want to get into a situation where a thread has to lock 180 mutexes to do its job :-)
p36613
as(dp36614
g16
V14860
p36615
stp36616
a((dp36617
g2
(lp36618
VThe reason for the "strange" addresses such as , , ,  and so on, is because each instruction takes up a variable number of bytes
p36619
aVFor example:
p36620
aVis a one-byte instruction so the next instruction is at
p36621
aVOn the other hand,
p36622
aVis a three-byte instruction so the next instruction after that is at
p36623
aVAnd, since you ask in the comments why  seems to take a variable number of bytes, the explanation for that is as follows
p36624
aVInstruction length depends not only on the opcode (such as ) but also the addressing modes for the operands as well (the things the opcode are operating on)
p36625
aVI haven't checked specifically for your code but I suspect the
p36626
aVinstruction is probably shorter because there's no offset involved - it just uses  as the address
p36627
aVWhereas something like:
p36628
aVrequires everything that  does, plus an extra byte for the offset
p36629
aVIn fact, here's a debug session showing what I mean:
p36630
aVYou can see that the second instruction with an offset is actually different to the first one without it
p36631
aVIt's one byte longer (5 bytes instead of 4, to hold the offset) and actually has a different encoding  instead of
p36632
aVYou can also see that you can encode the first and third instruction in two different ways but they basically do the same thing
p36633
aVThe  instruction is a way to force  to be on a specific boundary
p36634
aVThis is used to ensure proper alignment of variables
p36635
aVMany memory accesses on modern processors will be more efficient if they follow the alignment rules (such as a 4-byte value having to be aligned to a 4-byte boundary)
p36636
aVSome modern processors will even raise a fault if you don't follow these rules
p36637
aVAfter this instruction, you're guaranteed that  is both less than or equal to its previous value and aligned to a 16 byte boundary
p36638
aVThe  prefix simply means to use the  segment register to access memory rather than the default
p36639
aVThe instruction  means to take the contents of the  register, subtract 12 () and then put the value of  into that memory location
p36640
aVRe the explanation of the code
p36641
aVYour  function is basically one big no-op
p36642
aVThe assembly generated is limited to stack frame setup and teardown, along with some stack frame corruption checking which uses the afore-mentioned  memory location
p36643
aVIt loads the value from that location (probably something like ) into the stack frame, does its job, then checks the stack to ensure it hasn't been corrupted
p36644
aVIts job, in this case, is nothing
p36645
aVSo all you see is the function administration stuff
p36646
aVStack set-up occurs between  and
p36647
aVEverything after that is setting up the return code in  and tearing down the stack frame, including the corruption check
p36648
aVSimilarly,  consist of stack frame set-up, pushing the parameters for , calling , tearing down the stack frame and exiting
p36649
aVComments have been inserted into the code below:
p36650
aVI think the reason for the  may be evident from above but, just in case, I'll elaborate here
p36651
aVIt uses this value (a sentinel) to put in the current stack frame so that, should something in the function do something silly like write 1024 bytes to a 20-byte array created on the stack or, in your case:
p36652
aVthen the sentinel will be overwritten and the check at the end of the function will detect that, calling the failure function to let you know, and then probably aborting so as to avoid any other problems
p36653
aVIf it placed  onto the stack and this was changed to something else, then an  with  would produce a non-zero value which is detected in the code with the  instruction
p36654
aVThe relevant bit is paraphrased here:
p36655
as(dp36656
g16
V14860
p36657
stp36658
a((dp36659
g2
(lp36660
VTwo things you need to think about: cost/benefit analysis and opportunity cost
p36661
aVWhat is the cost of changing your code to be OO
p36662
aVWhat is the benefit
p36663
aVIf the latter outweighs the former, then I'd tend towards changing it
p36664
aVCosts include traditional costs such as time spent, money spent and so on
p36665
aVBenefits include a cleaner implementation, leading to easier maintenance in future
p36666
aVWhatever other costs and benefits there are depend really upon your own situation
p36667
aVBut one thing often overlooked is the opportunity cost
p36668
aVThis is a cost that should be factored in to your analysis
p36669
aVIt's an economic term meaning foregone opportunities
p36670
aVIn other words, if you do convert your code, your cost includes your inability to do something else with that time
p36671
aVClassic example
p36672
aVIf you do the conversion and a customer decides to not buy your software because you're not adding the feature they want, that lost sales opportunity is a cost
p36673
as(dp36674
g16
V14860
p36675
stp36676
a((dp36677
g2
(lp36678
VFirst things first: get rid of that abominable  - it should be:
p36679
aV(I also prefer to name my booleans as a readable sentence segments like  or  but that's just personal preference)
p36680
aVOther than that, the only thing I can suggest is a threading problem
p36681
aVThere's nothing wrong with that code per se, but there is a window in which two threads could enter the  statement and both start pushing values into your vector
p36682
aVIn other words, if thread 1 is doing the pushing when thread 2 encounters the  statement, thread 2 will also start pushing values, since thread 1 has yet to set  to
p36683
aVAnd don't think you can just move the assignment to the top of the  block - that will reduce but not remove the window
p36684
aVMy advice is to print out the contents of the vectors in the situation where they have more than six entries and that may give a clue as to what's happened (post the output here if you wish)
p36685
aVRe your update that the second  below is running twice:
p36686
aVIf this code is executed twice in the same second (and that's not beyond the bounds of possibility), the second  statement will run twice
p36687
aVThat's because  give you the number of seconds since the epoch so, until that second is over, you may well be executing the contents of that  thousands of times (or more)
p36688
as(dp36689
g16
V14860
p36690
stp36691
a((dp36692
g2
(lp36693
VIt's valid inasmuch as it contains four octets, each within the range 0 through 255 inclusive
p36694
aVHowever, it's not usable as a real IP address
p36695
aVRFC1700 states that  () is reserved as a source address only
p36696
aVYou can get into situation where it appears you have this address but that's normally because no address has been assigned to you (by DHCP, for example)
p36697
aVSee also Wikipedia entry on IPv4
p36698
as(dp36699
g16
V14860
p36700
stp36701
a((dp36702
g2
(lp36703
VI'm not sure why you would think that changing a register would require kernel intervention
p36704
aVSome special registers may be privileged (those controlling things like descriptor tables or protection levels, with which user-mode code could bypass system-mode protections) but general purpose registers can be changed freely without a kernel getting involved
p36705
aVWhen your code is running, the vast majority of instructions would be things like:
p36706
aVAs an aside, I'm just imagining how slow my code would run if it required a system call to the kernel every time I incremented a counter or called a function :-)
p36707
aVThe only thing I can think of would be if you thought your execution thread wasn't allowed to change registers arbitrarily since that may affect those registers for other threads
p36708
aVBut the kernel would take care of that when switching threads - all your registers would be packed away somewhere for later and the ones for the next thread would be loaded in
p36709
aVBased on your comments, you seem to think that the time of adding is when the CPU protection mechanism should step in
p36710
aVIn fact, it can't at that point because it has no idea what you're going to use the register for
p36711
aVYou may just be using it as a counter
p36712
aVHowever, if you do use it as an address to access memory, and that memory is invalid somehow (outside of your address space, or swapped to disk), the kernel will step in at that point to rectify the situation (toss your application out on its ear, or bring in the swapped-out memory)
p36713
aVHowever, even that is not a privileged instruction, it's just the CPU handling page faults
p36714
aVA privileged instruction is something that you're not allowed to do at all, like change the interrupt descriptor table location registers or deactivate interrupts
p36715
as(dp36716
g16
V14860
p36717
stp36718
a((dp36719
g2
(lp36720
VTo get rid of the newline, you can just echo it again:
p36721
aVIf that's not satisfactory (I think it may give you one line for the whole input file), you can use :
p36722
ag5385
aVThis one allows you to use a single  script and all you need to do is to provide a comma-separated list of keys to print out
p36723
aVAnd here's the one-liner version :-)
p36724
as(dp36725
g16
V14860
p36726
stp36727
a((dp36728
g2
(lp36729
VIf you just want to select those with a 1 in them, you can use:
p36730
aVBut you should be aware that this will be a performance killer
p36731
aVIf you ever find yourself needing to manipulate things that are smaller than a column, your database schema is set up badly
p36732
aVThe reason why that query above will not perform well is that it is not possible to use indexes to quickly locate rows satisfying the query
p36733
aVIt will either need a full table or index scan to get the rows
p36734
aVYou would be better off re-engineering the schema to break the comma-separated stuff out into rows in another table
p36735
aVAn example of that would be something like:
p36736
aVThis will allow you to write blindingly fast queries as opposed to the slow stuff you're proposing:
p36737
aV(or the equivalent explicit join syntax)
p36738
aVThe reason this solution works faster is because it can use an index on  to quickly retrieve the relevant rows and the primary key of both tables to cross-match
p36739
as(dp36740
g16
V14860
p36741
stp36742
a((dp36743
g2
(lp36744
VIt's used generally to wait until a specific process finishes (or otherwise changes state if you're using special flags), based on its process ID (otherwise known as a )
p36745
aVIt can also be used to wait for any of a group of child processes, either one from a specific process group or any child of the current process
p36746
aVSee here for the gory details
p36747
as(dp36748
g16
V14860
p36749
stp36750
a((dp36751
g2
(lp36752
VWell, it's because  refers to a  which is an incomplete type
p36753
aVAre you sure you didn't mean  (with an uppercase 'C')
p36754
aVThe  will not be known in the  call since you haven't specified what's actually inside that structure
p36755
aVThe ISO C standard (C99, 6
p36756
ag2836
aV5) defines incomplete types as those that "describe objects but lack information needed to determine their sizes"
p36757
aVThat's exactly what you have in this situation
p36758
as(dp36759
g16
V14860
p36760
stp36761
a((dp36762
g2
(lp36763
VIf you convert them to a 32-bit integer, the greater one will be the greater integer
p36764
aVIn other words:
p36765
aVI'm having a hard time imagining a use case where it would matter but that's the approach I would take if I had to check in a program
p36766
as(dp36767
g16
V14860
p36768
stp36769
a((dp36770
g2
(lp36771
VThis is usually a particularly bad idea
p36772
aVThe desktop belongs to the user of your application, not your application
p36773
aVIf I was running an application that disabled my screen saver (or moved around my desktop icons or added itself to my various quick-access toolbars) without my permission, it would be tossed out on its ear pretty quickly
p36774
aVAnd, if you are the user, don't do it in your application
p36775
aVChange it manually like the rest of us :-)
p36776
aVIf you must do it (and I urge you not to, but you may feel free to ignore that), I don't think the method has changed since NT
p36777
aVYou use  with  to change the behaviour
p36778
aVThese are in  from memory
p36779
aVBut I have a vague recollection of seeing problems reported with using that method under Win7 and I think the solution was a registry change, setting  under  to  (and back to  when you're done)
p36780
as(dp36781
g16
V14860
p36782
stp36783
a((dp36784
g2
(lp36785
VOriginal question was tagged  so this first section applies to that
p36786
aVSee below for an updated answer for the Quartz CronTrigger tool
p36787
aVMost crontabs don't let you specify the year so you'll probably have to put that in the script itself (or a wrapper around the script/program)
p36788
aVYou can do this with something like:
p36789
aVThe option you're looking for to run at 6am on September 6 every year is
p36790
aVFor the Quartz CronTrigger format, you'd be looking at something like:
p36791
aV(details garnered from here)
p36792
as(dp36793
g16
V14860
p36794
stp36795
a((dp36796
g2
(lp36797
VThe most reliable database is, without a doubt DB2
p36798
aVBut not that toy LUW thing you run under UNIX and Windows
p36799
aVI'm talking about the big grunter, DB2/z, the one that runs on the mainframe
p36800
aVQuake in terror, all you puny, non-mainframe, database wannabes :-)
p36801
aVBy the way, the reason it's so reliable is the underlying hardware
p36802
aVNon-mainframe platforms can only dream of the sorts of redundancy levels and self-checking that goes on in the System z boxes
p36803
as(dp36804
g16
V14860
p36805
stp36806
a((dp36807
g2
(lp36808
VWell, the way we use it (with Cognos BI) is in the second sense
p36809
aVBusiness intelligence is the information about your organisation and Cognos BI is one way to gather and present that information in a way that's easily adaptable and useful
p36810
aVHaving moved from BIRT to Cognos last year, I have to admit that, despite the increased cost of the product, things are a lot easier to do
p36811
aVIt always seemed to me that BIRT was very little "BI" and mostly "RT" :-)
p36812
aVSorry to sound like an advertorial back there, I was just stating how we use the term
p36813
as(dp36814
g16
V14860
p36815
stp36816
a((dp36817
g2
(lp36818
VYou need the  statement:
p36819
aV
p36820
aVYou can see this in action with the following two scripts:
p36821
aVWhen you run , you see:
p36822
as(dp36823
g16
V14860
p36824
stp36825
a((dp36826
g2
(lp36827
V gives you the drive and the path of the file pointed to by  (using double  since you're running within a script, of course)
p36828
aVFrom the bottom of the  help in :
p36829
aVIn addition, substitution of FOR variable references has been enhanced
p36830
aVYou can now use the following optional syntax:
p36831
aV%~I         - expands %I removing any surrounding quotes (")
p36832
aV%~fI        - expands %I to a fully qualified path name
p36833
aV%~dI        - expands %I to a drive letter only
p36834
aV%~pI        - expands %I to a path only
p36835
aV%~nI        - expands %I to a file name only
p36836
aV%~xI        - expands %I to a file extension only
p36837
aV%~sI        - expanded path contains short names only
p36838
aV%~aI        - expands %I to file attributes of file
p36839
aV%~tI        - expands %I to date/time of file
p36840
aV%~zI        - expands %I to size of file
p36841
aV%~$PATH:I   - searches the directories listed in the PATH
p36842
aVenvironment variable and expands %I to the
p36843
aVfully qualified name of the first one found
p36844
aVIf the environment variable name is not
p36845
aVdefined or the file is not found by the
p36846
aVsearch, then this modifier expands to the
p36847
aVempty string
p36848
aVThe modifiers can be combined to get compound results:
p36849
aV%~dpI       - expands %I to a drive letter and path only
p36850
aV%~nxI       - expands %I to a file name and extension only
p36851
aV%~fsI       - expands %I to a full path name with short names only
p36852
aV%~dp$PATH:I - searches the directories listed in the PATH
p36853
aVenvironment variable for %I and expands to the
p36854
aVdrive letter and path of the first one found
p36855
aV%~ftzaI     - expands %I to a DIR like output line
p36856
aVIn the above examples %I and PATH can be replaced by other valid
p36857
aVvalues
p36858
aVThe %~ syntax is terminated by a valid FOR variable name
p36859
aVPicking upper case variable names like %I makes it more readable and
p36860
aVavoids confusion with the modifiers, which are not case sensitive
p36861
aVis the name of the batch file running and  and  are options for the  command
p36862
aVcan be used to assign words to specific variables and in this case, using  puts the whole lot into
p36863
aVchanges how the quotes are treated around the  argument
p36864
aVWithout it, single quotes would run a command and use the output of that command rather than the value of
p36865
aVMore details can be found by running the aforementioned
p36866
aVThat  trick, by the way, is a nifty way to find executables on your path
p36867
as(dp36868
g16
V14860
p36869
stp36870
a((dp36871
g2
(lp36872
VThe standard itself is here (with TC1, 2 and 3 included), the rationale document is here
p36873
as(dp36874
g16
V14860
p36875
stp36876
a((dp36877
g2
(lp36878
VYes, there can be
p36879
aVThere is no guarantee that an increment itself is an atomic operation
p36880
aVFor example, if one thread reads the value for increment then gets swapped out, the other thread could come in and change it, then the first thread will write back the wrong value:
p36881
aVSo you can see that, even though both threads have tried to increment the value, it's only increased by one
p36882
aVThis is just one of the possible problems
p36883
aVIt may even be that the write itself is not atomic and one thread may update only part of the value before being swapped out
p36884
aVUse mutexes
p36885
aVThat's what they're for
p36886
as(dp36887
g16
V14860
p36888
stp36889
a((dp36890
g2
(lp36891
V defines a  function which can give you a textual representation of a  using something like:
p36892
aVbut that won't give you sub-second resolution since that's not available from a
p36893
aVIt outputs:
p36894
aVIf you're really constrained by the specs and do not want the space between the day and hour, just remove it from the format string
p36895
as(dp36896
g16
V14860
p36897
stp36898
a((dp36899
g2
(lp36900
VI would simply use code like the following to set up a couple of translation tables, one from node to ASCII, the other to go back the other way
p36901
aVThe sample code below provides  nodes for one-character,  for up to two characters,  for up to three characters and a whopping  for up to four characters but you should start being wary about the sizes of the tables at that point (run-time conversion, rather than pre-calculating lookup tables, may be a better option if you get to that point)
p36902
aVKeep in mind that this was with digits and lowercase letters only
p36903
aVIf you decide to use uppercase, the quantities are:
p36904
aVSample code follows below:
p36905
as(dp36906
g16
V14860
p36907
stp36908
a((dp36909
g2
(lp36910
VThere are three ways you can do it (at least)
p36911
aVLook up the algorithm on the net and see what it says about its time complexity
p36912
aVExamine the algorithm yourself to look at things like nested loops and recursion conditions, and how often each loop is run or each recursion is done, based on the input size
p36913
aVAn extension of this is a rigorous mathematical analysis
p36914
aVExperiment
p36915
aVVary the input variable and see how long it takes depending on that
p36916
aVCalculate an equation that gives you said runtime based on the variable (simultaneous equation solving is one possibility here for O(nc)-type functions
p36917
aVOf these, probably the first is the easiest for the layman since it will almost certainly have been produced by someone more knowledgable doing the second :-)
p36918
as(dp36919
g16
V14860
p36920
stp36921
a((dp36922
g2
(lp36923
VI would just load it directly into  and step through it instruction by instruction, monitoring all registers and memory contents as you go
p36924
aVI'm sure I'm not telling you anything you don't know there but the program seems simple enough to warrant this sort of approach
p36925
aVI would leave fancy debugging tricks like backtracking (and even breakpoints) for more complex code
p36926
aVAs to the specific problem (code paraphrased below):
p36927
aVYou appear to be just pushing 5 on to the stack followed by the address of that 5 in memory ()
p36928
aVI'm pretty certain you're going to need to push the address of the format string at some point if you want to call
p36929
aVIt's not going to take to kindly to being given a rogue format string
p36930
aVIt's likely that your:
p36931
aVshould be:
p36932
aVand I'm assuming that there's more code after that call to  that you just left off as unimportant (otherwise you'll be going off to never-never land when it returns)
p36933
as(dp36934
g16
V14860
p36935
stp36936
a((dp36937
g2
(lp36938
V, as a mutex attribute, gives you an implementation defined default attribute
p36939
aVIf you want to know what you can do with attributes, check out the following reference and follow the  links in the  section
p36940
aVThis is for issue 7 of the standard, 1003
p36941
aV1-2008
p36942
aVThe starting point for that is here
p36943
aVClicking on  in the bottom left will allow you to navigate to the specific functionality (including )
p36944
aVThe attributes allow you to set or get:
p36945
aVthe type (deadlocking, deadlock-detecting, recursive, etc)
p36946
aVthe robustness (what happens when you acquire a mutex and the original owner died while possessing it)
p36947
aVthe process-shared attribute (for sharing a mutex across process boundaries)
p36948
aVthe protocol (how a thread behaves in terms of priority when a higher-priority thread wants the mutex)
p36949
aVthe priority ceiling (the priority at which the critical section will run, a way of preventing priority inversion)
p36950
aVAnd, of course, there's the init and destroy calls as well, not directly related to a specific attribute but used to create them
p36951
as(dp36952
g16
V14860
p36953
stp36954
a((dp36955
g2
(lp36956
VNot sure that this is really optimisation, but you use function pointers like this:
p36957
aVThis outputs:
p36958
aVas expected
p36959
aVThe best that you could hope for here is that  might be slightly smaller but that's offset by the fact that you need the function table
p36960
aVIt's useful in a "How does C work
p36961
aVsort of way but not so useful in the real world
p36962
aVOf course function pointers themselves are useful, I've used them quite a bit to do state machines and object oriented code in C
p36963
aVIt's just that this specific example seems contrived
p36964
aVIf you wanted to execute them continuously, you could use:
p36965
aVbut it would be just as good to wrap the previous  loop inside a  anyway
p36966
as(dp36967
g16
V14860
p36968
stp36969
a((dp36970
g2
(lp36971
VIf you've got plenty of extra disk space, something like this should be workable:
p36972
aVAssuming your hash function is relatively balanced, the sorts shouldn't be too onerous
p36973
as(dp36974
g16
V14860
p36975
stp36976
a((dp36977
g2
(lp36978
VYes, C has the concept of variadic functions, which is similar to the way  allows a variable number of arguments
p36979
aVA maximum function would look something like this:
p36980
aVThis outputs:
p36981
aVNote the use of the  variable
p36982
aVThere are generally two ways to indicate the end of your arguments, either a count up front (the ) or a sentinel value at the back
p36983
aVAn example of the latter would be a list of pointers, passing  as the last
p36984
aVSince this  function needs to be able to handle the entire range of integers, a sentinel solution is not viable
p36985
aVThe  function uses the former approach but slightly differently
p36986
aVIt doesn't have a specific count, rather it uses the  fields in the format string to figure out the other arguments
p36987
as(dp36988
g16
V14860
p36989
stp36990
a((dp36991
g2
(lp36992
VThink of it as:
p36993
aVIn other words, the thing that get returned from  is having  applied to it
p36994
aVIt's no different to some other languages where the equivalent would be:
p36995
aVIn fact you can do all sorts of weird things like:
p36996
aValthough that monstrosity should never get past a code review :-)
p36997
as(dp36998
g16
V14860
p36999
stp37000
a((dp37001
g2
(lp37002
VIf it's not a content URI, this link may help
p37003
aVIt seems to indicate that  should not be used for regular URIs
p37004
aVCopying in the relevant bit:
p37005
aVYes,  works, but it is for content URIs particular to the Android platform, not URIs specifying Internet resources
p37006
aVThe convention is applied to binary objects (images, for example) which cannot be exposed directly through a ContentProvider's Cursor methods
p37007
aVInstead, a String reference is used to reference a distinct content URI, which can be resolved by a separate query against the content provider
p37008
aVThe setImageURI method is simply a wrapper to perform those steps for you
p37009
aVI have tested this usage of , and it does work as expected
p37010
aVFor your usage, though, I'd look at  and
p37011
aVAlso to make this answer self-contained, the sample code from another post at that link, showing how to do it:
p37012
aVI haven't tested this code, I'm just paranoid and like to ensure SO answers are useful even if every other site on the net disappears :-)
p37013
as(dp37014
g16
V14860
p37015
stp37016
a((dp37017
g2
(lp37018
V is allowed to return less characters than you asked for, so you should code for that eventuality rather than trying to find a way to avoid it
p37019
aVFor example, if there's only 22 bytes left in the file (or the pipe), it will give you those bytes
p37020
aVFrom the Linux man page (since  is a POSIX thing rather than a C++ thing):
p37021
aVIt is not an error if this number is smaller than the number of bytes requested; this may happen for example because fewer bytes are actually available right now (maybe because we were close to end-of-file, or because we are reading from a pipe, or from a terminal), or because read() was interrupted by a signal
p37022
aVIf the rest of your buffer seems to be populated correctly, I can assure you that it's entirely by accident and you shouldn't rely on that
p37023
aVIf  returns 1, then only use that one character
p37024
aVIf you follow the rules and characters seem to disappear, then you can come back and complain about a buggy  implementation (I shouldn't need to point out that this is incredibly unlikely)
p37025
aVTry the following program:
p37026
aVwith:
p37027
aVand see what you get
p37028
aVMy output is:
p37029
aVas I expect
p37030
as(dp37031
g16
V14860
p37032
stp37033
a((dp37034
g2
(lp37035
VOther than syntax errors presumably introduced during cut'n'paste here, there's nothing wrong with that code, as shown by the following experiment:
p37036
aVWhen run, this outputs:
p37037
aVso you can see it's carrying on after the failure
p37038
aVOne piece of invaluable advice: when you're debugging  scripts, put the line:
p37039
aVright up the top (after  if it's there)
p37040
aVThat will cause it to output each command before executing it
p37041
aVIn fact, I always right my scripts starting with:
p37042
aVso I can just uncomment the second line for debugging purposes
p37043
aVAs an aside, I would code that as:
p37044
aVbut that's just because I don't like complicated  constructs
p37045
as(dp37046
g16
V14860
p37047
stp37048
a((dp37049
g2
(lp37050
VIf you're looking to roll over log files, and depending on how complex you need to get, I've used the following segment before:
p37051
aVThis will automatically roll over log files up to version 9 although you can just change the   loop to allow more
p37052
aVWith that  added so new files are created automatically for testing, the following transcript shows it in action:
p37053
aVThe good thing about this script is that it's easily configurable to handle a large amount of history (by changing the  bit), handles names with spaces, and handles gaps relatively robustly if log files go missing
p37054
as(dp37055
g16
V14860
p37056
stp37057
a((dp37058
g2
(lp37059
VThe only reasons I have ever used the  solution is if either I needed my code to be run more than once a minute or if it needed to respond immediately to an external event, neither of which appear to be the case here
p37060
aVMy thinking is usually along the lines of:  has been tested by millions and millions of people over decades so it's at least as reliable as the code I've just strung together
p37061
aVEven in situations where I've used , I've still had a  job to restart my script in case of failure
p37062
aVMy advice would be to simply use
p37063
aVThat's what it's designed for
p37064
aVAnd, as an aside, I rarely redirect the output to , that makes it too hard to debug
p37065
aVUsually I simply redirect to a file in the  file system so that I can see what's going on
p37066
aVYou can append as long as you have an automated clean-up procedure and you can even write to a more private location if you're worried about anyone seeing stuff in the output
p37067
aVThe bottom line, though, is that a rare failure can't be analysed if you're throwing away the output
p37068
aVIf you consider your job to be bug-free then, by all means, throw the output away but I rarely consider my scripts bug-free, just in case
p37069
as(dp37070
g16
V14860
p37071
stp37072
a((dp37073
g2
(lp37074
VIf you have  available to you, I would make use of that
p37075
aVIt prevents buffer overflow since you provide the buffer size, and it returns the actual size needed
p37076
aVSo allocate your 1K buffer then attempt to use  to write into that buffer, limiting the size
p37077
aVIf the size returned was less than or equal to your buffer size, then it's worked and you can just use the buffer
p37078
aVIf the size returned was greater than the buffer size, then call  to get a bigger buffer and try it again
p37079
aVProvided the data hasn't changed (e
p37080
ag1775
aV, threading issues), the second one will work fine since you already know how big it will be
p37081
aVThis is relatively efficient provided you choose your default buffer size carefully
p37082
aVIf the vast majority of your outputs are within that limit, very few reallocations has to take place (see below for a possible optimisation)
p37083
aVIf you don't have an -type function, a trick we've used before is to open a file handle to  and use that for the same purpose (checking the size before outputting to a buffer)
p37084
aVUse  to that file handle to get the size (the output goes to the bit bucket), then allocate enough space based on the return value, and  to that buffer
p37085
aVAgain, it should be large enough since you've figured out the needed size
p37086
aVAn optimisation to the methods above would be to use a local buffer, rather than an allocated buffer, for the 1K chunk
p37087
aVThis avoids having to use  in those situations where it's unnecessary, assuming your stack can handle it
p37088
aVIn other words, use something like:
p37089
as(dp37090
g16
V14860
p37091
stp37092
a((dp37093
g2
(lp37094
VIn virtual memory systems, there is a disconnect between logical and physical addresses
p37095
aVThis answer is by no means exhaustive but it may explain it enough to make things click
p37096
aVAn application can be given a virtual address space of (say) 4G
p37097
aVThis is its usable memory and it's free to use it as it sees fit
p37098
aVIt's a nice contiguous block of memory (from the view of the application)
p37099
aVHowever, it is not the only application running, and the OS has to mediate between them all
p37100
aVUnderneath that nice contiguous model, there is mapping going on to convert logical to physical addresses
p37101
aVWith this mapping, the OS and hardware (I'll just call these the lower layers from here forward) is free to put the application pages anywhere it wants (both in physical memory and swapped out to secondary storage)
p37102
aVWhen the application tries to access memory at logical address 50, the lower levels can translate that to a physical address using translation tables
p37103
aVAnd, if it tries to access logical memory that's been swapped out to disk, a page fault is raised and the lower levels can bring the relevant data back into memory, at whatever physical address it wants
p37104
aVIn the bad old days when physical addresses were all you had, code had to be relocatable (or fixed up on load) since it could load anywhere
p37105
aVWith virtual memory, that code (and data) can be at logical memory location 50 in a dozen different processes at the same time - it's actual physical address will be different however
p37106
aVIt can even be shared so that one physical copy exists in the address space of many processes at once
p37107
aVThis is the crux of shared code (why use more physical memory than you need
p37108
aVand shared memory to allow easy inter-process communication)
p37109
aVIt is, of course, less efficient than a pure physical-address environment but the CPU manufacturers try to make it as insanely efficient as possible, since it's used heavily
p37110
aVThe advantages far outweigh the disadvantages
p37111
as(dp37112
g16
V14860
p37113
stp37114
a((dp37115
g2
(lp37116
VThey're mostly just convention for names
p37117
aVThe language itself defines a few types like , which is the type to be used for storing the sizes of things, or  the type for storing the differences between pointers
p37118
aVThe  suffix is most likely a pointer type like:
p37119
aVso you could replace all your:
p37120
aVlines with:
p37121
aVI don't ever recall seeing the  suffix in the actual standard so that's just user convention, no different to mine, which is to use  and  as prefixes:
p37122
as(dp37123
g16
V14860
p37124
stp37125
a((dp37126
g2
(lp37127
VOne way to do this is to pass it through two regular expressions making sure they both match (assuming you want to use regular expressions at all, see below for an alternative):
p37128
aVAnything else (and, in fact, even that) is most likely just an attempt to be clever, one that's generally a massive failure
p37129
aVThe first regular expression ensures there are an even number of  with  anywhere in the mix (before, after and in between)
p37130
aVThe second is similar but ensures that there's an odd number of  by virtue of the starting
p37131
aVA far better way to do it is to ignore regular expressions altogether and simply run through the string as follows:
p37132
aVThough regular expressions are a wonderful tool, they're not suited for everything and they become far less useful as their readability and maintainability degrades
p37133
aVFor what it's worth, a single-regex answer is:
p37134
aVbut, if I caught anyone on my team actually using a monstrosity like that, they'd be sent back to do it again
p37135
aVThis comes from a paper by one Greg Bacon
p37136
aVSee here for the actual inner workings
p37137
as(dp37138
g16
V14860
p37139
stp37140
a((dp37141
g2
(lp37142
VMany CSV readers will allow commas within a single column by surrounding the column with double quotes
p37143
aVIn that case, double quotes can be represented by double double quotes:
p37144
as(dp37145
g16
V14860
p37146
stp37147
a((dp37148
g2
(lp37149
VOne possibility is to use a helper function, pseudo-code:
p37150
as(dp37151
g16
V14860
p37152
stp37153
a((dp37154
g2
(lp37155
VThe boot sector of the floppy was the first sector
p37156
aVIf you're talking about a raw floppy image (1440K), it should be the first 512 bytes of the image file
p37157
aVFrom memory, this gets loaded by the BIOS into 7c00:0000 (real mode) and then jumps to that address
p37158
aVThe DOS boot floppies had a 3-byte  instruction there to jump over the Disk Parameter Block (DPB), which detailed the attributes of the disk
p37159
aVBut, if you're in total control of the disk and your boot code, I don't think you need to follow that convention
p37160
aVI don't recall any BIOS' checking what was loaded for validity (though admittedly it was a long time ago)
p37161
as(dp37162
g16
V14860
p37163
stp37164
a((dp37165
g2
(lp37166
VIf your  is changing to a zero value in the caller to this function, the most likely explanation is buffer overflow
p37167
aVI suspect it's probably because the buffer you're passing in as the second argument is defined thus:
p37168
aVand  is adjacent to it on the stack
p37169
aVThe  format string requires three bytes, two for the characters and one for the terminating NUL character
p37170
aVEven if that's not the specific case, it's still almost certainly buffer overflow
p37171
aVIf so, please post the code that calls this function, along with the definitions for the relevant variables
p37172
as(dp37173
g16
V14860
p37174
stp37175
a((dp37176
g2
(lp37177
VUnless your multiplications are fairly simplistic, the  most likely won't outperform a
p37178
aVHaving said that, you can use  to do multiplications:
p37179
aVThey work nicely for powers of two
p37180
aVI'm not saying they're faster
p37181
aVThey were certainly necessary in the days before fancy multiplication instructions
p37182
aVThat's from someone whose soul was forged in the hell-fires that were the Mostek 6502, Zilog z80 and RCA1802 :-)
p37183
aVYou can even multiply by non-powers by simply storing interim results:
p37184
aVI generally suggest that you write your code primarily for readability and only worry about performance when you need it
p37185
aVHowever, if you're working in assembler, you may well already at that point
p37186
aVBut I'm not sure my "solution" is really applicable to your situation since you have an arbitrary multiplicand
p37187
aVYou should, however, always profile your code in the target environment to ensure that what you're doing is actually faster
p37188
aVAssembler doesn't change that aspect of optimisation at all
p37189
aVIf you really want to see some more general purpose assembler for using  to do multiplication, here's a routine that will take two unsigned values in  and  and return the product in
p37190
aVIt will not handle overflow elegantly
p37191
aVIt relies on the fact that  multiplied by  is identical to:
p37192
aVwhich is the same way you were taught multiplication back in grade/primary school
p37193
aVIt's easier with binary since you're only ever multiplying by zero or one (in other words, either adding or not adding)
p37194
aVIt's pretty old-school x86 (8086, from a DEBUG session - I can't believe they still actually include that thing in XP) since that was about the last time I coded directly in assembler
p37195
aVThere's something to be said for high level languages :-)
p37196
as(dp37197
g16
V14860
p37198
stp37199
a((dp37200
g2
(lp37201
VIf the problem is that you're getting  for both, either you consider  to be positive or not
p37202
aVIf so, you should have something like:
p37203
aVIf not, leave it as it is, since  is neither positive not negative and you should return false for both
p37204
aVHowever if the problem is that you're getting errors with  (far more likely), the reason you're getting a problem is because  is a , not a
p37205
aVYou can see that with the following message:
p37206
aVYou should probably add it to  itself, or , or , the base class for various numeric types like  and
p37207
aVWhere you inject your convenience methods depends on how widely you want them available
p37208
aVFor example, if you change your code to the following (I'm including test code here):
p37209
aVit then works fine, outputting:
p37210
aVas expected
p37211
as(dp37212
g16
V14860
p37213
stp37214
a((dp37215
g2
(lp37216
VProvided there are no special -type characters in your fields and values, you can use a  approach:
p37217
aVIf you look at the  file, you'll see that the first  just makes a list of  commands to be executed on your second file
p37218
as(dp37219
g16
V14860
p37220
stp37221
a((dp37222
g2
(lp37223
VBecause you are either a  person or an  person
p37224
aVThe same way you're either a dog person or a cat person
p37225
aVOn a more serious note, why would I change
p37226
aVoffers me all the power I need and I'm pretty certain the  people would feel the same way about their editor of choice
p37227
aVI've used  for over twenty years and some of its features still surprise me (admittedly, it's usually  rather than  nowadays)
p37228
aVI don't want to dedicate the next twenty years of my life at becoming adept with
p37229
aVThere's no benefit and plenty of cost, and pretty much all of my non-minor decisions are subject to cost/benefit analyses
p37230
aVMostly, it comes down to what you're comfortable with
p37231
aVIt took years for me to stop trying to use the WordStar 3
p37232
aV3 CTRL-K CTRL-X key sequence to exit from most editors
p37233
aVIt had burnt itself into my spinal cord so that all the brain had to do was issue an  command and the lowest levels of the nervous system would take over
p37234
aVAnd, anyway,  with its strange command sequence like
p37235
aVCTRL META LEFTSHIFT RIGHTSHIFT WINDOWS OPENAPPLE ALT K
p37236
aVis better suited to aliens with 87 fingers, or elite pianists :-)
p37237
as(dp37238
g16
V14860
p37239
stp37240
a((dp37241
g2
(lp37242
VHow do I trouble shoot something like that
p37243
aVYou start by posting the  statement here so we can help without having to hone our psychic debugging skills :-)
p37244
aVIt's possible that you're not ordering on every column you think you are
p37245
aVIt's also possible that SSRS re-orders the data even after you've retrieved it
p37246
aVThey'd be the first two places I'd look
p37247
as(dp37248
g16
V14860
p37249
stp37250
a((dp37251
g2
(lp37252
VYes, if you're just talking about pushing content up to a site, I'm working on such a beast now
p37253
aVMy proof-of-concept used a  object to simply run a  script that used FTP:
p37254
aVThe program published the web site (it wasn't an actual web site but similar enough that the same method can be used) locally and used the browser to open the file (this was static content only so no need for a web server)
p37255
aVThen, once validated by the user, it simply created a script file  containing all the relevant commands and used  within  to do the file transfer
p37256
aVThe  specifies the script to run and the  stops automatic login
p37257
aVThat's so you can dynamically create a  command in your script to log in
p37258
aVThe final version will actually probably run Python code so I don't have to fight the brain-deadedness of  but the theory is the same
p37259
as(dp37260
g16
V14860
p37261
stp37262
a((dp37263
g2
(lp37264
VThis is a trick used to version shared object files
p37265
aVIt's a way of avoiding the dreaded DLL hell which came about because of lazy linking
p37266
aVThe advantage of lazy linking (or late binding) is that components of your executable can be changed without actually re linking those executables
p37267
aVThis allows for bug fixes in third party components without having to ship a new executable, among other things
p37268
aVThe disadvantage is exactly the same as the advantage
p37269
aVYour executable can find that assumptions it made about the underlying libraries have been changed and this is likely to cause all sorts of issues
p37270
aVVersioning of shared objects is one way to avoid this
p37271
aVAnother would be to not share objects at all but that also has pros and cons which I won't get into here
p37272
aVBy way of example, let's say you have version 1 of
p37273
aVYou have a file and a symbolic link to that file:
p37274
aVNow, when you create an executable file , linking it with , it will follow the symbolic link so that it stores  in the executable as the thing it needs to load at runtime
p37275
aVThat way, when you upgrade the shared library thus:
p37276
aVyour original executable  will still load version 1 of the shared object
p37277
aVHowever, any executables you create now (such as ) will be linked with version 2 of the shared object
p37278
aVThe actual implementation details may vary somewhat (I'm basing my answer on earlier UNIXes and Linux appears to do versioning a little more intelligently than just following symbolic links)
p37279
aVIBM developerWorks has a nice article on how it's done here
p37280
aVWhen you create a shared object, you give it both a real name and an
p37281
aVThese are used to install the shared object (which creates both the object and a link to it)
p37282
aVSo you can end up with the situation:
p37283
aVwith  possessing the  of
p37284
aVWhen the linker links in , it follows the links all the way to  and uses its  of  to store in the executable
p37285
aVThen, when you run the executable, it tries to load  which will point to a specific  (not necessarily version 1
p37286
aV5)
p37287
aVSo you could install  and update the  link to point to it instead and already-linked executables would use that instead
p37288
aVOne advantage of this multi-layer method is that you can have multiple potentially incompatible libraries of the same name (, ) but, within each major version, you can freely upgrade them since they're supposed to be compatible
p37289
aVWhen you link new executables:
p37290
aVThose linking with  will get the latest minor version of the latest major version
p37291
aVOthers linking with  will get the latest minor version of a specific major version
p37292
aVStill others linking with  will get a specific minor version of a specific major version
p37293
as(dp37294
g16
V14860
p37295
stp37296
a((dp37297
g2
(lp37298
VI'm going to go out on a limb here and venture the possibility that you're probably (not necessarily) doing something wrong
p37299
aVRaymond Chen said it best but, if you're worried about the maximum number of mutexes, you're probably protecting your resources at too fine a granularity
p37300
aVCertainly there will be a maximum number even if it's dictated by available memory rather than a constant
p37301
aVHowever, I can't see any valid situation in which you would need so many mutexes that you would hit a limit
p37302
aVI'm not saying it's not possible since I have no idea what the architecture of your application is
p37303
aVBut I would be very surprised if there wasn't a better way to do it
p37304
aVPerhaps if you step back and tell us the "what I want" rather than the "how I did it", we could offer better advice
p37305
as(dp37306
g16
V14860
p37307
stp37308
a((dp37309
g2
(lp37310
VIt should only do that if it doesn't recognise the format specifier
p37311
aVFor example:
p37312
aVI think you're going to have to go on site to figure this one out although you may want to first get them to cut and paste the text and a screen dump from, for example, HyperSnap demo, into an email so you can check it carefully
p37313
aVI only suggest that one since we use it internally and it has a free trial
p37314
aVYou can use any decent screen capture program you like
p37315
aVI originally thought that they may be typing in  (wun jee) instead of  (ell jee) but the former still works
p37316
aVI do notice the  (eye jee) will print out the text rather than the number but, unless they're using a particularly bad font, that should be a recognisable difference
p37317
aVBTW, I only have 5
p37318
aV10 to work with so it may be a version problem
p37319
aVIt's hard to imagine, however, that there'd be a major difference between 5
p37320
aV8 and 5
p37321
ag36140
ag2193
as(dp37322
g16
V14860
p37323
stp37324
a((dp37325
g2
(lp37326
VA good starting point is the ADA website
p37327
aVSee also IBM's accessibility site
p37328
as(dp37329
g16
V14860
p37330
stp37331
a((dp37332
g2
(lp37333
VThe specific problem you're having is that a  format string of  will skip white space (including newlines) until it finds an actual character to scan
p37334
aVFrom the c99 standard:
p37335
aVA conversion specification is executed in the following steps:
p37336
aV-Input white-space characters (as specified by the  function) are skipped, unless the specification includes a , , or  specifier
p37337
aVand, elsewhere, describing :
p37338
aVThe standard white-space characters are the following: space , form feed , new-line , carriage return , horizontal tab , and vertical tab
p37339
aVYour best bet is to use  to get the line (and this can be protected from buffer overflow very easily), then use  on the resultant line
p37340
aVThe  function is one of those ones you should look at very warily
p37341
aVThe following piece of code is one I often use to handle line input:
p37342
ag5385
aVTesting it with various combinations:
p37343
aVWhat I would do is to use this function to get a line safely, then simply use:
p37344
aVto get the actual values (and check the count)
p37345
aVIn fact, here's a complete program which is closer to what you want:
p37346
ag5385
aValong with a test run:
p37347
as(dp37348
g16
V14860
p37349
stp37350
a((dp37351
g2
(lp37352
VThere's nothing built into the language or standard library itself but, depending on your requirements, there are a number of ways to do it
p37353
aVIf the data set will remain relatively small, the easiest solution is to probably just have an array of structures along the lines of:
p37354
aVthen use a sequential search to look them up
p37355
aVHave functions which insert keys, delete keys and look up keys so that, if you need to change it in future, the API itself won't change
p37356
aVPseudo-code:
p37357
aVInsertion means ensuring it doesn't already exist then just tacking an element on to the end (you'll maintain a separate size variable for the structure)
p37358
aVDeletion means finding the element then simply overwriting it with the last used element and decrementing the size variable
p37359
aVNow this isn't the most efficient method in the world but you need to keep in mind that it usually only makes a difference as your dataset gets much larger
p37360
aVThe difference between a binary tree or hash and a sequential search is irrelevant for, say, 20 entries
p37361
aVI've even used bubble sort for small data sets where a more efficient one wasn't available
p37362
aVThat's because it massively quick to code up and the performance is irrelevant
p37363
aVStepping up from there, you can remove the fixed upper size by using a linked list
p37364
aVThe search is still relatively inefficient since you're doing it sequentially but the same caveats apply as for the array solution above
p37365
aVThe cost of removing the upper bound is a slight penalty for insertion and deletion
p37366
aVIf you want a little more performance and a non-fixed upper limit, you can use a binary tree to store the elements
p37367
aVThis gets rid of the sequential search when looking for keys and is suited to somewhat larger data sets
p37368
aVIf you don't know how big your data set will be getting, I would consider this the absolute minimum
p37369
aVA hash is probably the next step up from there
p37370
aVThis performs a function on the string to get a bucket number (usually treated as an array index of some sort)
p37371
aVThis is O(1) lookup but the aim is to have a hash function that only allocates one item per bucket, so that no further processing is required to get the value
p37372
aVA degenerate case of "all items in the same bucket" is no different to an array or linked list
p37373
aVFor maximum performance, and assuming the keys are fixed and known in advance, you can actually create your own hashing function based on the keys themselves
p37374
aVKnowing the keys up front, you have extra information that allows you to fully optimise a hashing function to generate the actual value so you don't even involve buckets - the value generated by the hashing function can be the desired value itself rather than a bucket to get the value from
p37375
aVI had to put one of these together recently for converting textual months ("January", etc) in to month numbers
p37376
aVYou can see the process here
p37377
aVI mention this possibility because of your "pre-defined string" comment
p37378
aVIf your keys are limited to  and  (as in your example) and you're using a character set with contiguous  characters (which even covers EBCDIC as well as ASCII though not necessarily every esoteric character set allowed by ISO), the simplest hashing function would be:
p37379
aVNote that this doesn't work well if you feed it bad data
p37380
aVThese are ideal for when the data is known to be restricted to certain values
p37381
aVThe cost of checking data can often swamp the saving given by a pre-optimised hash function like this
p37382
as(dp37383
g16
V14860
p37384
stp37385
a((dp37386
g2
(lp37387
VHere's where you begin
p37388
aVInsert the specifications as documentation, then do one at a time, testing along the way
p37389
aVI've also added a small comment detailing what language elements you should look in to for each section
p37390
as(dp37391
g16
V14860
p37392
stp37393
a((dp37394
g2
(lp37395
Vis an array of character pointers
p37396
aVI think what you meant it to be was:
p37397
aVa single character array
p37398
aVI would just opt for:
p37399
aVsince that guarantees the string will be empty each time through the loop before you start doing anything with it, and irrespective of scope rules
p37400
as(dp37401
g16
V14860
p37402
stp37403
a((dp37404
g2
(lp37405
V is not a statement, it's a variable that refers to the standard input stream
p37406
aVSo the closest match in C is actually
p37407
aVIf you have a C++ statement like:
p37408
aVa similar thing in C would be the use of any of a wide variety of input functions:
p37409
aVSee an earlier answer I gave to a question today on one way to do line input and parsing safely
p37410
aVIt's basically inputting a line with  (taking advantage of its buffer overflow protection) and then using  to safely scan the line
p37411
aVThings like  and certain variations of  (like unbounded strings) should be avoided like the plague since they're easily susceptible to buffer over-runs
p37412
aVThey're fine for playing around with but the sooner you learn to avoid them, the more robust your code will be
p37413
as(dp37414
g16
V14860
p37415
stp37416
a((dp37417
g2
(lp37418
VHow about something along the lines of:
p37419
aVwith a couple of test runs:
p37420
as(dp37421
g16
V14860
p37422
stp37423
a((dp37424
g2
(lp37425
VThe following script shows one way to do it
p37426
aVIt uses the  range feature to run 100 iterations of the loop, outputting the loop counter and date
p37427
aVIt then times your command ( in this case) and combines standard output and error before nicely formatting it, and sending it to both the terminal and a log file for later analysis
p37428
aVA smaple run with  five iterations:
p37429
as(dp37430
g16
V14860
p37431
stp37432
a((dp37433
g2
(lp37434
VIt's because you're recompiling the  file with  and that doesn't have an  wrapper around the function definition
p37435
aVHence the name will undergo C++ mangling and there will be no  in the  object file
p37436
aVHowever,  will think that  is a C name (since it has the ) so it will go looking for the unmangled version
p37437
aVEither put  around the definition in  (which probably makes that unusable with a regular C compiler, so keep that in mind) or change your  command to use  (which has the unmangled name by virtue of the fact it was done with the C compiler) instead of
p37438
aVIn fact, that won't work because you're not invoking the linker in the  command
p37439
aVI'm not even sure why you're trying to include  into
p37440
aVProbably the best time to do that is at link time to create an  executable, not compile time, something like:
p37441
aVUpdate: Breaking it down to the simplest test case so you can see what I mean:
p37442
aVThen running make and the program:
p37443
aVIf you change the compilation of  to use , that gives you your original error where it cannot find :
p37444
aVNow it appears that your final Makefile is correct
p37445
aVIt compiles  with the C compiler so that the name mangling does not take place
p37446
aVMy advice is to clean everything (remove all the  files) and run  again, then post the output here at the bottom of your question
p37447
aVIt may be that some of the files are older ones which is why you should delete all the object files before running
p37448
as(dp37449
g16
V14860
p37450
stp37451
a((dp37452
g2
(lp37453
VNo, there is no limit imposed by the ISO C99 standard
p37454
aVIf you're using the "blessed"  form (of which there are two):
p37455
aVthen you will be limited to the maximum size of a signed integer (implementation-dependent but guaranteed to be at least 215-1 or 32,767)
p37456
aVOf course, you could even have more than that since the standard specifically allows for non-blessed  forms (for example, one that takes a  as the count)
p37457
aVThe standard mandates how the arguments are stored and things like  having to be NULL, but it does not directly limit the quantity
p37458
aVOf course, there will be a limit in practice but this will depend entirely on the implementation and environment
p37459
aVHowever, if you have to ask, then you're probably doing something wrong
p37460
aVMost tools would place a truly large number of arguments into a response file (say ) then pass a single argument like:
p37461
aVwhich gets around arbitrary limits on argument quantity and size
p37462
as(dp37463
g16
V14860
p37464
stp37465
a((dp37466
g2
(lp37467
VYou should be able to use something like:
p37468
aVThe division by  gives you a value from 0 to 1, dividing that by two drops the range to 0 to 0
p37469
aV5, then adding 0
p37470
aV5 gives you 0
p37471
aV5 to 1
p37472
aV(inclusive at the low end and exclusive at the top end)
p37473
as(dp37474
g16
V14860
p37475
stp37476
a((dp37477
g2
(lp37478
VIf your question was "What does this output
p37479
aV, why didn't you just type it in and test it
p37480
aVThis outputs  on my system
p37481
aVHow about yours
p37482
aVIf you print out  and , you'll get  and  respectively (on a two's complement architecture)
p37483
aVThat's because, with two's complement, you can get the negative of a number by inverting all the bits then adding 1
p37484
aVSo  (the tilde means "invert all bits") is effectively
p37485
aVAside: I don't think that ISO actually mandates an underlying two's complement architecture for storing numbers so that may not work on all implementations
p37486
aVHowever, it's been a long time since I saw such a beast
p37487
aVAnd, to be honest, if you want to get the negative of a number, why wouldn't you just use
p37488
as(dp37489
g16
V14860
p37490
stp37491
a((dp37492
g2
(lp37493
VThere's not necessarily a relationship between constraint names and tables although most people name them appropriately to make their lives easier
p37494
aVAll this means is that you have a  constraint
p37495
aVThe actual problem is in the rest of the message:
p37496
aVYou need to insert a row into your  table first
p37497
aVThe  that you insert there should be the  you're trying to insert into  (which is  for some reason - I'm pretty certain this should be a real value (or possibly NULL))
p37498
aVYou can create foreign keys with a clause of the  or  DDL statements
p37499
as(dp37500
g16
V14860
p37501
stp37502
a((dp37503
g2
(lp37504
VI f you know the numbers will be together like that:
p37505
aVIt basically replaces all non-numeric characters with nothing
p37506
aVOf course, it won't do sensible stuff with:
p37507
aVbut, if you've only got one number it will work fine
p37508
aVIf you just need the first number, you can use:
p37509
aVFor the last:
p37510
as(dp37511
g16
V14860
p37512
stp37513
a((dp37514
g2
(lp37515
VYour specific problem is that you have no storage behind
p37516
aVIt's an uninitialised pointer, pointing to a random spot in memory, which is unlikely to be anywhere useful
p37517
aVYou can use something like:
p37518
aVor:
p37519
aVbut you have a serious problem with your use of  (see below)
p37520
aVYou should never use an unbounded  in  (or any of its variants unless you totally control the input)
p37521
aVIt's a dangerous practice prone to buffer overflows and the sooner you get out of the habit, the better
p37522
aVIt's akin to  in that way
p37523
aVFrom an earlier answer of mine, this piece of code below (along with your main code incorporated into it) provides a safe way of getting user input
p37524
aVYou pass in an optional prompt, the buffer to load the input into, and the size of the buffer
p37525
aVIt will return the input up to the size of the buffer (stripped of the newline if there) then clear out the rest of the line if necessary so that it doesn't affect the next input operation
p37526
aVIt will return either OK or an error indication on end-of-file or if the input was too long (you still get the first part of the input in case you want to do something with it)
p37527
aVOnce you have the line, you can  it, safely, to your heart's content
p37528
aVHowever, that's not required in your case since you're only trying to get a string
p37529
aVJust use the buffer that's returned directly
p37530
ag5385
aVGive that a shot, it's far more robust than using  on its own
p37531
aVAs for your update asking why this works:
p37532
aVIt's undefined code
p37533
aVPeriod
p37534
aVYou only allocate space for a character but you scan in a string
p37535
aVSince a string is a character array of all the characters followed by a zero character, the only string you could input safely there would be an empty one
p37536
aVAnything else will write to both the character and whatever happens to be adjacent to the character on the stack
p37537
aVThis is no different to allocating  then entering 200 characters, it's still buffer overflow and should be avoided
p37538
aVDiscussion below is based on a particular implementation of C, not necessarily all implementations
p37539
aVChances are, you got lucky here
p37540
aVCompilers may generate code that keeps the stack pointer aligned so that, even though you asked for one byte, you may get space allocated for four (or even more, depending on the architecture - I'll assume most types are four bytes here for simplicity)
p37541
aVIn addition, you may find that you can also safely overwrite the eight bytes of argc integer and argv pointer (they're probably still there even though you don't use them, no point having two different sets of start-up code just to save a few bytes on the stack)
p37542
aVIf you write further than that, you'll eventually overwrite the return address from  to your start-up code
p37543
aVThen you'll know about it since your code will go off into la-la land when  exits
p37544
aVWith undefined behaviour, anything can happen
p37545
aVSometimes that anything includes the possibility that it will work perfectly (similar to "throw a deck of cards in the air often enough and they'll eventually fall in a nice neat sorted heap" but a little less random)
p37546
aVThat does not make undefined behaviour any less of a bad thing
p37547
as(dp37548
g16
V14860
p37549
stp37550
a((dp37551
g2
(lp37552
VThe  shouldn't match beyond the closing  simply because that's not included in the  character class
p37553
aVI'm not sure why you think it's doing that
p37554
aVHowever, the  will match more characters if avalaible so that applying the  regex to  will get you:
p37555
aVIf you have a regex engine that doesn't support non-greediness, you can use:
p37556
aVvideo_id": "([^"]*)"
p37557
aVwhich will basically match  followed by the maximum number of non- characters, followed by the  again
p37558
as(dp37559
g16
V14860
p37560
stp37561
a((dp37562
g2
(lp37563
VDo what you want
p37564
aVIt doesn't matter
p37565
aVWhen ISO state that you "shall not do something", doing it is undefined behaviour
p37566
aVI would opt for whatever makes your implementation "better" (in your eyes, be that faster, more readable, subject to the principle of least astonishment, and so forth)
p37567
aVMyself, I'd go for readability (since I would have to maintain the thing) with speed taking a close second
p37568
as(dp37569
g16
V14860
p37570
stp37571
a((dp37572
g2
(lp37573
VYour edit has prior information, the bit that states "counter <= 10" :-)
p37574
aVPseudo-code for deleting elements meeting that criteria in a singly-linked list:
p37575
as(dp37576
g16
V14860
p37577
stp37578
a((dp37579
g2
(lp37580
VMy trouble spot is how to run this loop so that it is properly sorted thoroughly and not just one time
p37581
aVIf you already have a loop that will successfully do one pass and swap is okay, the usual way to do multiple passes relatively efficiently is:
p37582
aVThis avoids the naive n2 solution that beginners will invariably start with
p37583
aVAnd that's it really
p37584
aVYou set  to  so that you initially enter the list then set it to  immediately, inside the loop
p37585
aVYour single pass will set  only if a swap takes place
p37586
aVIf no swap takes place in your pass, then the list is sorted and you exit the loop
p37587
aVIf any swap takes place, the  flag is set and you will need to run another pass
p37588
aVThis is because the swap could be at the end of the list and invalidate the order earlier on, such as:
p37589
aVSo, assuming your code is correct, start with something like:
p37590
as(dp37591
g16
V14860
p37592
stp37593
a((dp37594
g2
(lp37595
VYou can do it as per the following command script:
p37596
aVThis outputs:
p37597
aVThe magic line, of course, is:
p37598
aVwhich removes the last four characters
p37599
aVIf you have a file  with lines it it, like:
p37600
aVyou can use a slight modification:
p37601
aVwhich outputs:
p37602
aVJust keep in mind that it won't output empty lines (though it will do lines with spaces on them)
p37603
aVThat may not be a problem depending on what's allowed in your input file
p37604
aVIf it is a problem, my advice is to get your hands on either CygWin or GnuWin32 (or Powershell if you have it on your platform) and use some real scripting languages
p37605
as(dp37606
g16
V14860
p37607
stp37608
a((dp37609
g2
(lp37610
VThe best site I've ever seen that explains why some numbers can't be represented exactly is Harald Schmidt's IEEE754 Converter site
p37611
aVIt's an online tool for showing representations of IEEE754 single precision values and I liked it so much, I wrote my own Java app to do it (and double precision as well)
p37612
aVBottom line, there are only about four billion different 32-bit values you can have but there are an infinite number of real values between any two different values
p37613
aVSo you have a problem with precision
p37614
aVThat's something you'll have to get used to
p37615
aVIf you want more precision and/or better type for decimal values, you can either:
p37616
aVswitch to a higher number of bits
p37617
aVuse a decimal type
p37618
aVuse a big-number library like GMP (although I refuse to use this in production code since I discovered it doesn't handle memory shortages elegantly)
p37619
aVAlternatively, you can use the inaccurate values (their error rates are very low, something like one part per hundred million for floats, from memory) and just print them out with less precision
p37620
aVPrinting out  to two decimal places will get you
p37621
aVYou would have to do millions and millions of additions for the error to accumulate noticeably
p37622
aVLess of other operations of course but still a lot
p37623
aVAs to why you're getting that value,  is stored in IEEE754 single precision format as follows (sign, exponent and mantissa):
p37624
aVThe sign is positive, that's pretty easy
p37625
aVThe exponent is , so the multiplier is 2-4 or
p37626
aVThe mantissa is chunky
p37627
aVIt consists of  (the implicit base) plus (for all those bits with each being worth 1/(2n) as  starts at  and increases to the right),
p37628
aVWhen you add all these up, you get
p37629
aVWhen you multiply that by the multiplier, you get , matching the double precision value on Harald's site as far as it's printed:
p37630
aVAnd when you turn off the least significant (rightmost) bit, which is the smallest downward movement you can make, you get:
p37631
aVPutting those two together:
p37632
aVyou can see that the first one is a closer match, by about a factor of four (14
p37633
aV9:59
p37634
aV6)
p37635
aVSo that's the closest value you can get to
p37636
as(dp37637
g16
V14860
p37638
stp37639
a((dp37640
g2
(lp37641
VThese are mutually incompatible
p37642
aVI don't see how you can say that code works for positive numbers since it's not even compiling
p37643
aVYou probably need to change the first line to something like:
p37644
aVbut, since you don't actually use the argument, you may have other problems
p37645
aVIf you're using global or object-level variables to do this work, recursion is not going to work, since they different levels will be stepping on each other's feet (unless you do your own stack)
p37646
aVOne of the beauties of recursion is that your code can be small and elegant but using local variables is vital to ensure your data is level-specific
p37647
aVBy way of example, examine the following (badly written) pseudo-code:
p37648
aVNow that won't work for  since  will be corrupted by lower levels
p37649
aVHowever, something like:
p37650
aVwill work just fine as each level gets its own copy of  to play with
p37651
aVOf course:
p37652
aVwould be even better
p37653
as(dp37654
g16
V14860
p37655
stp37656
a((dp37657
g2
(lp37658
VYes, there are differences between an array of things and a pointer to a thing, but they usually disappear under certain circumstances
p37659
aVWhen you pass an array to a function (for example), that degrades to a pointer to the first element in that array
p37660
aVAn example:
p37661
aVThis outputs:
p37662
aVThis usually annoys people no end since you can't get the size of an "array" passed to a function (you only get the size of what was passed, which is a pointer)
p37663
aVIf you want the actual size, you have to pass it along as well:
p37664
as(dp37665
g16
V14860
p37666
stp37667
a((dp37668
g2
(lp37669
VThe Unicode points below 128 are exactly the same as ASCII so, yes, they're at U+0030 through U+0039 inclusive
p37670
as(dp37671
g16
V14860
p37672
stp37673
a((dp37674
g2
(lp37675
VAn O(n) solution to find the first node in one of the lists with the same value
p37676
aVYou can then extract the value from that node
p37677
aVAll code sections (comments) are  unless otherwise specified and there are no nested  operations
p37678
aVHence the entire solution is O(n)
p37679
aVIt works by counting the elements in each list then advancing the pointer for the longest list so that the ends are aligned
p37680
aVThen it steps through both lists in a synchronised fashion
p37681
aVIf the nodes match and haven't previously matched, it saves that node (not just if they match since you want the earliest match in a sequence)
p37682
aVIf they don't match, you save that fact so that a subsequent match will be considered the earliest in the sequence
p37683
aVBy the time you get to the end of both lists, you either have an indication that there was no match (if the final node of both lists are different) or the earliest match in the sequence
p37684
aVPseudo-code only of course, since it's homework:
p37685
aVLet's say you have the two lists  and
p37686
aVAligning these and advancing the list 1 pointer based on the size difference, you'll get:
p37687
aVThen you set match to NULL and start processing
p37688
aVThey don't match () so you set the first matching node to NULL (even though it's already NULL) and advance to
p37689
aVThese () do match (and the current match is NULL) so you save the address of one of them as the match, and advance
p37690
aVdoes not match so you once again set the match to NULL, then advance
p37691
aVmatches and the match is NULL so you once again set the match to one of them, then advance
p37692
aValso matches but match is already set so you don't change it
p37693
aVAdvance then and your out of elements in both lists
p37694
aVYou then return the match with is one of the  nodes
p37695
aVAnd that's your earliest match for a common trailing section
p37696
as(dp37697
g16
V14860
p37698
stp37699
a((dp37700
g2
(lp37701
VSince it's homework, we're unlikely to give you a direct answer
p37702
aVSome help instead:
p37703
aVYou start a counter at 0
p37704
aVYou loop until the value you're testing is zero
p37705
aVIf the least significant bit is one, you increment the count
p37706
aVYou shift the value you're testing right one bit
p37707
aVThe counter now contains the number of 1-bits
p37708
aVSubtract that from the total bits to get the number of 0-bits
p37709
aVProcessors will usually have store instructions like  or
p37710
aVThey'll also generally have compare and conditional jumps like  and
p37711
aVYou can generally use a bitwise AND instruction to get just one bit () and shift instructions such as
p37712
aVYou just have to map that algorithm above to your particular assembler language
p37713
as(dp37714
g16
V14860
p37715
stp37716
a((dp37717
g2
(lp37718
VText inside an  or  pair will be left in or removed by the pre-processor depending on the condition
p37719
aVmeans "if the following is defined" while  means "if the following is not defined"
p37720
aVSo:
p37721
aVis equivalent to:
p37722
aVsince  is defined so the  is true and the  is false
p37723
aVIt doesn't matter what it's defined as
p37724
aVA similar (better in my opinion) piece of code to that would be:
p37725
aVsince that specifies the intent more clearly in this particular situation
p37726
aVIn your particular case, the text after the  is not removed since  is defined
p37727
aVThe text after the  is removed for the same reason
p37728
aVThere will need to be two closing  lines at some point and the first will cause lines to start being included again, as follows:
p37729
as(dp37730
g16
V14860
p37731
stp37732
a((dp37733
g2
(lp37734
VThat's two different levels of abstraction
p37735
aVA DBA should need have no knowledge of networks beyond the fact that it may be up or down and, if it's down, you can't contact the database servers across said network
p37736
aVOf course, that's not to say the knowledge is useless
p37737
aVIt can be quite handy to actually track down a problem preventing your database for working properly but that's not part of the DBA role itself
p37738
aVEven DBA's should be well rounded individuals with various skills under their belts
p37739
aVIt's quite handy to tell your network people that you've isolated a problem to the router on the fourth floor, or that intranet access is fine but the internet is not
p37740
aVThis makes their job easier and will speed up your recovery
p37741
as(dp37742
g16
V14860
p37743
stp37744
a((dp37745
g2
(lp37746
VI'm pretty certain that  and  are artefacts of an earlier age when the x86 architecture was truly segmented (into 64K chunks)
p37747
aVThe  IDE doesn't like them very much at all (not unexpected since it's far more common nowadays to be doing 32-bit flat model code)
p37748
aVThe problem lies in the fact that the  file is being used by the editor to assemble the file and it contains the line:
p37749
aV(with the  option)
p37750
aVThis is what's making the assembler complain
p37751
aVYou can get it to work by reverting to the command line
p37752
aVAssuming your file is , use the following commands:
p37753
aVand you'll have a  that works fine
p37754
aVThe following transcript shows that this works:
p37755
ag5385
ag5385
ag5385
aVAlternatively, the editor is very configurable
p37756
aVIf you open up the  file for editing (back it up first, I shouldn't need to tell you that) and change:
p37757
aVto:
p37758
aVyou can get your new menu item added on IDE restart
p37759
aVYou also need to copy  to  and remove the  from the latter
p37760
aVThen you can compile fine from within the IDE with the new menu option
p37761
aVOf course, you'll have to do the same thing for the  and  menu items as well
p37762
aVBut, now that you know how it's done, that shouldn't present a problem
p37763
as(dp37764
g16
V14860
p37765
stp37766
a((dp37767
g2
(lp37768
VYou could do it your way with two loops
p37769
aVAfter doing your first loop, you then have to do it again but with the length reduced by one, so that the current first (originally second) character gets put at the second-last position, leaving the current last (originally first) character alone
p37770
aVThen keep going until the length drops to zero
p37771
aVBut that's pretty inefficient since you have the nested loops, O(n2)
p37772
aVHere's a better algorithm that uses just one loop, O(n):
p37773
aVIt basically maintains a start and end pointer which initially swaps the first and last character, then the pointers are moved towards each other
p37774
aVSo the second time through the loop, you swap the second and second-last character, the third time the third and third-last character and so on
p37775
aVThis process stops when the pointers are equal (for an odd-length string) or the start pointer is greater than the end pointer (for an even-length string)
p37776
aVSince this may be homework (and you seem up to speed with x86 anyway), you should perform the exercise of converting that to assembler
p37777
aVIf it turns out not to be homework, you can use the masm32 code below as a baseline
p37778
aVPlease don't try to pass this off as your own work for education since you'll almost certainly be caught out
p37779
aVYou'll learn a great deal more (as homework or non-homework) if you tackle the conversion yourself, I'm just providing some fall-back code if you have trouble nutting it out
p37780
as(dp37781
g16
V14860
p37782
stp37783
a((dp37784
g2
(lp37785
VThe relational model does not care one tiny little bit what order columns are in within a table, nor (without an ordering clause) what order rows are returned
p37786
aVYour requirement makes little sense
p37787
aVWhat if the first column were a  or a
p37788
aVThe whole point of having named columns is that you reference them by name
p37789
aVNow DBMS' often contain metadata in system tables, like DB2's  and , but you need to extract not just the names but all the other metadata as well (column type, size, nullable, and so on) in order to use them properly
p37790
aVWe'd probably understand better what you were after if you told us the reason behind doing this
p37791
as(dp37792
g16
V14860
p37793
stp37794
a((dp37795
g2
(lp37796
VRaw arrays aren't resizable in C++
p37797
aVYou should be using something like a Vector class which does allow resizing
p37798
aVallows you to resize it as well as allowing dynamic resizing when you add elements (often making the manual resizing unnecessary for adding)
p37799
as(dp37800
g16
V14860
p37801
stp37802
a((dp37803
g2
(lp37804
VYes, you'll find with most algorithms that you can trade space for time
p37805
aVIn other words, by allowing the use of more memory, the speed is greatly increased *a
p37806
aVI don't actually know the Miller-Rabin algorithm but, unless it's simpler than a single shift-left/add and memory extraction, it will be blown out of the water by a pre-calculated sieve
p37807
aVThe important thing here is pre-calculated
p37808
aVIt's a good idea, in terms of performance, to pre-calculate things like this since the first million primes will be unlikely to change in the near future :-)
p37809
aVIn other words, create your sieve with something like:
p37810
aVwith all the usual caveats about not passing things like  into macros
p37811
aVThis gives you the best of both worlds, a blindingly fast table lookup for "small-ish" primes, dropping back to a calculation method for those outside the range
p37812
aVObviously you would write a program using one of the other methods to generate that lookup table - you don't really want to have to type it all in by hand
p37813
aVBut, as with all optimisation questions, measure, don't guess
p37814
aV*a A classic case of this was some trig functions I once had to write for an embedded system
p37815
aVThis was a competitive contract bid and the system had a little more storage than CPU grunt
p37816
aVWe actually won the contract since our benchmark figures for the functions blew the competition away
p37817
aVWhy
p37818
aVBecause we pre-calculated the values into a lookup table originally calculated on another machine
p37819
aVBy judicious use of reduction (bringing the input values down below 90 degrees) and trig properties (the fact that cosine is just a phase shift of sine and that the other three quadrants are related to the first), we got the lookup table down to 180 entries (one per half degree)
p37820
aVThe best solutions are those that are elegant and devious :-)
p37821
aVFor what it's worth, the following C code will generate such a table for you, all the primes below four million (283,000 of them)
p37822
aVIf you can bump up the  table to sixteen million entries (16M), you'll find that's enough to keep the prime count above a million (the first 1,031,130 primes)
p37823
aVNow there are ways to make that take less storage such as only storing odd numbers and adjusting the macro to take care of that, or using a bit mask instead of unsigned characters
p37824
aVI prefer simplicity of algorithms myself if the memory is available
p37825
as(dp37826
g16
V14860
p37827
stp37828
a((dp37829
g2
(lp37830
VIf you mean working array as in the extra storage required over and above the final array, you don't even need that
p37831
aVTo sort two lists which are already sorted, you only need to merge them and that requires only two values (one per source list) rather than
p37832
aVThe algorithm is as follows:
p37833
aVIf you mean "Can you combine two -size arrays into another -size array
p37834
aVthen, short of doing some trickery where you can combine two elements into one (such as tow 16-bit integers into a 32-bit element), no, it's not possible
p37835
as(dp37836
g16
V14860
p37837
stp37838
a((dp37839
g2
(lp37840
VThe IEEE754 double format is made up of a 1-bit sign, 11-bit exponent and 52-bit mantissa:
p37841
aVDue to the vagaries of endianness, that most significant byte on the left is actually , the least significant on the right is  - this is the same for  below
p37842
aVThe exponent gives you a value of  through  (211-1) some of which are used to represent special values like  (infinity) and  (not a number)
p37843
aVThe mantissa bits represent, from left to right, , ,  and so on
p37844
aVIn order to get the number, you calculate n = (-1)s x 2e-bias x 1
p37845
aVm
p37846
aVMicrosoft double binary format is:
p37847
aVThe code you see is simply transferring (and slightly changing) the values from MBF to IEEE754 double precision format
p37848
aVTo answer your specific questions:
p37849
aVWhat is the reason for 'And &H80;'
p37850
aVHex 80 () is the binary pattern
p37851
aVWhen you  a value with that, you get  if that bit was set or  otherwise
p37852
aVThis basically just records what the sign of the number was and you can simply transfer it as-is from  to
p37853
aVWhy 1152 (128+1+1023)
p37854
aVExponents in IEEE754 are biased exponents
p37855
aVIn other words, the values stored may be  thru  but the actual values represented by those may be  thru  (disregarding the special values for now)
p37856
aVThis allows you to have negative exponents for very small values and positive exponents for large values
p37857
aVMBF exponents are also biased but they're biased on  for both single and double types whereas IEEE754 double precision exponents have their 0-point at
p37858
aVThe reason for the extra  is because of the differences between MBF and IEEE754 regarding where the implicit  goes
p37859
aVIEEE754 puts it before the binary point, MBF after
p37860
aVThat means the exponent must be adjusted by one
p37861
aVWhy don't we just save sign to ieee(7)
p37862
aVThat's a slight mystery since  hasn't been explicitly set at that point
p37863
aVI can only assume that  has been initialised to zero upon creation, otherwise you may get into trouble since just about every transfer operation here is done with an
p37864
aVYou're right that it makes more sense to just use
p37865
aVThe actual ing to combine the exponent bits are on the next line
p37866
aVWhat is the reason for shifting by 4
p37867
aVBecause the IEEE754 exponent crosses two bytes and you want only part of that exponent in the most significant one
p37868
aVSeven bits of the exponent go into the most significant byte, the other four go into the next byte
p37869
aVThis is handled by the two lines:
p37870
aVGiven the 16-bit value , the two are calculated:
p37871
as(dp37872
g16
V14860
p37873
stp37874
a((dp37875
g2
(lp37876
VCron is a job scheduler that is built to have a minimum one-minute resolution
p37877
aVIf you need a finer resolution than that, you either have to find another scheduling tool or roll your own
p37878
aVOne I've used in the past is as follows
p37879
aVYou configure a desired gap and a minimum gap and the following script will execute your payload every  seconds
p37880
aVNote that this is not a simplistic "wait  seconds between each iteration" scheduler
p37881
aVIt actually starts the next iteration  seconds after the start of the previous one, not after the end
p37882
aVThe minimum gap is there so that, if your payload takes more than  seconds, it's not running it continuously
p37883
aVIf you do want it to run continuously in that situation, just set the minimum gap to 0
p37884
aVThe code to do it is here:
p37885
aVThe payload isn't part of the logic, it's just something I have there for debug purposes
p37886
aVYou can replace that with whatever you want
p37887
aVIn addition, the  loop is also a sample
p37888
aVYou can replace it with an infinite loop or have the script only do (for example) 60 minutes of iterations with a new instance of the script being kicked off by  each hour
p37889
aVThe sample run follows
p37890
aVYou can see that the payload runs every ten seconds (with the odd eleven seconds due to the vagaries of ) up until it takes more than seven seconds to do it
p37891
aVAt that point, the minimum gap kicks in
p37892
as(dp37893
g16
V14860
p37894
stp37895
a((dp37896
g2
(lp37897
VYou can use the following function:
p37898
aVIt simply runs through the string looking for the specific character and replaces it with the new character
p37899
aVEach time through (as with yours), it starts with the address one beyond the previous character so as to not recheck characters that have already been checked
p37900
aVIt also returns the address of the string, a trick often used so that you can use the return value as well, such as with:
p37901
as(dp37902
g16
V14860
p37903
stp37904
a((dp37905
g2
(lp37906
VDebugging symbols, if available, need to be stored somewhere so the debugger can get at them
p37907
aVThey may or may not be stored in the executable file itself
p37908
aVYou may or may not know the executable file name ( is not required to have the full path of the program name, or indeed have any useful information in it - see here for details)
p37909
aVEven if you could locate the debugging symbols, you would have to decode them to try and figure out where you were called from
p37910
aVAnd your code may be optimised to the point where the information is useless
p37911
aVThat's the long answer
p37912
aVThe short answer is that you should probably rely on passing in  and  as you have been
p37913
aVIt's far more portable an reliable
p37914
as(dp37915
g16
V14860
p37916
stp37917
a((dp37918
g2
(lp37919
VYou can get a signed NaN since the NaN-ness of the value and the sign of the value are controlled by different bits in IEEE754 (NaN is simply indicated by special exponent values, distinct from the sign bit)
p37920
aVI'm at a loss as to what sort of operation would do it though
p37921
aVIt's possible that one of the normal operations that produce NaN could be causing a negative variation (like  or )
p37922
aVBut I would have thought that NaNs would print as  regardless of sign
p37923
aVHowever, while the standard specifies in great detail how numbers are handled, it's strangely silent on how they're printed
p37924
aVThe Wikipedia page for NaN lists these:
p37925
aVwith some of those showing sign and the extra payload
p37926
aVNote that I'm talking about the IEEE standards here
p37927
aVThe ISO C standards do indicate a limited number of forms but whether the sign and/or payload is printed is implementation-dependent
p37928
aVI can only assume that the later versions of the library have changed their behaviour
p37929
aVHow to fix it within the compiler, I'm not sure
p37930
aVI'd just take the pragmatic approach and run your output file through something like
p37931
aVHopefully that won't introduce other problems
p37932
aVAnd you should also keep an eye on the form that allows the payload to be printed as well, though I'd only worry about that when the tests start failing again
p37933
aVBut I'd put a comment somewhere near that  command indicating that it may happen at some time in the future
p37934
aVThat way, at least the guy that follows you will understand why
p37935
as(dp37936
g16
V14860
p37937
stp37938
a((dp37939
g2
(lp37940
VShort timetable
p37941
aVCygWin, plain and simple
p37942
aVDespite your preference to not use a layer, that's going to provide the fastest path and you don't seem to indicate that the timeframe requirement is flexible
p37943
aVWe've ported both command-line and X-based UNIX programs to Windows using CygWin with minimal hassle
p37944
as(dp37945
g16
V14860
p37946
stp37947
a((dp37948
g2
(lp37949
VWhether something's allocated on the stack in case 1 is implementation defined
p37950
aVImplementations aren't even required to have a stack
p37951
aVIt's usually no slower to do so since the operation tends to be a simple subtraction (for a downward growing stack) of one value from the stack pointer for the entire local variable area
p37952
aVThe thing that's important here is that the scope should be as local as possible
p37953
aVIn other words, declare your variables as late as possible and only keep them around as long as needed
p37954
aVNote that declaring here is at a different abstraction level to allocating space for them
p37955
aVThe actual space may be allocated at the start of the function (implementation level) but you can only use those variables while they're scoped (C level)
p37956
aVLocality of information is important, just like its cousin, encapsulation
p37957
as(dp37958
g16
V14860
p37959
stp37960
a((dp37961
g2
(lp37962
VThe algorithm you have is fine for a homework assignment
p37963
aVThere are all sorts of things you could do to optimise the code, such as:
p37964
aVuse a binary tree for efficiency,
p37965
aVuse an array of counts where the index is the number (assuming the number range is limited)
p37966
aVBut I think you'll find they're not necessary in this case
p37967
aVFor homework, the intent is just to show that you understand how to program, not that you know all sorts of tricks for wringing out the last ounce of performance
p37968
aVYour educator will be looking far more for readable, structured, code than tricky optimisations
p37969
aVI'll describe below what I'd do
p37970
aVYou're obviously free to use my advice as much or as little as you wish, depending on how much satisfaction you want to gain at doing it yourself
p37971
aVI'll provide pseudo-code only, which is my standard practice for homework questions
p37972
aVI would start with a structure holding a number, a count and next pointer (for your linked list) and the global pointer to the first one:
p37973
aVThen create some functions for creating and using the list:
p37974
aVThose functions will, respectively:
p37975
aVIncrement the count for an element (or create it and set count to 1)
p37976
aVScan all the elements returning the maximum count
p37977
aVGet the next element pointer matching the count, starting at a given point, or NULL if no more
p37978
aVThe pseudo-code for each:
p37979
ag5385
ag5385
aVThen your main program becomes:
p37980
as(dp37981
g16
V14860
p37982
stp37983
a((dp37984
g2
(lp37985
VThe ISO standards does not guarantee the order in which subexpressions will be evaluated
p37986
aVFrom the c++0x draft standard:
p37987
ag2193
ag18265
aVProgram execution:
p37988
aV:
p37989
aV13/ Sequenced before is an asymmetric, transitive, pair-wise relation between evaluations executed by a single thread, which induces a partial order among those evaluations
p37990
aVGiven any two evaluations A and B, if A is sequenced before B, then the execution of A shall precede the execution of B
p37991
aVIf A is not sequenced before B and B is not sequenced before A, then A and B are unsequenced
p37992
aV[Note: The execution of unsequenced
p37993
aVevaluations can overlap
p37994
aVEvaluations A and B are indeterminately sequenced when either A is sequenced before B or B is sequenced before A, but it is unspecified which
p37995
aV[Note: Indeterminately sequenced evaluations cannot overlap, but either could be executed first
p37996
aV:
p37997
aV15/ Except where noted, evaluations of operands of individual operators and of subexpressions of individual expressions are unsequenced
p37998
aV:
p37999
aVWhen calling a function (whether or not the function is inline), every value computation and side effect associated with any argument expression, or with the postfix expression designating the called function, is sequenced before execution of every expression or statement in the body of the called function [Footnote: In other words, function executions do not interleave with each other]
p38000
aV[Note: Value computations and side effects associated with different argument expressions are unsequenced
p38001
aVEvery evaluation in the calling function (including other function calls) that is not otherwise specifically sequenced before or after the execution of the body of the called function is indeterminately sequenced with respect to the execution of the called function
p38002
aVIn other words, the implementation is free to arrange the calls using whatever method it desires
p38003
aVHowever, function calls are treated specially as per the footnote - they do not interleave
p38004
as(dp38005
g16
V14860
p38006
stp38007
a((dp38008
g2
(lp38009
VI'm not sure where your problem lies specifically but I've had no problems with the following code:
p38010
aVObviously that's been cut down a bit for the purposes of hiding my "secret sauce" but that's code currently being used in production without issues
p38011
aVI do have one question
p38012
aVWhy don't you execute the  file directly rather than running
p38013
aVProbably the first thing I'd do is to print out the  value to see if you're creating any weirdly named files which would prevent  from running them
p38014
as(dp38015
g16
V14860
p38016
stp38017
a((dp38018
g2
(lp38019
VI'm going to go out on a limb here since you haven't specified a lot about the environment
p38020
aVIf you're running on a UNIXy-type box, you can simply use something like:
p38021
aVThe  indicates one or more of the preceding character so it will find the words ,  and  with spaces between them (the  means ignore case)
p38022
aVIf you're allowed to have spaces at the start and end, use:
p38023
aV( means zero or more of the preceding character)
p38024
aVIf you have a more advanced regex tool, you can use  for white space and  for word boundaries
p38025
as(dp38026
g16
V14860
p38027
stp38028
a((dp38029
g2
(lp38030
VYou don't write a function for this (unless you're insane, of course)
p38031
aVThere's a perfectly good  function defined in the  header
p38032
aVAside: if you try to use  as a power operator, as some people are wont to do, you'll be in for a nasty surprise
p38033
aVIt's the exclusive-or (XOR) operator (see here)
p38034
as(dp38035
g16
V14860
p38036
stp38037
a((dp38038
g2
(lp38039
VNo, the  signal is only sent to foreground processes when it's actioned by using CTRLC (or whatever  has the  keystroke set to)
p38040
aVYou can always send a SIGINT to a specific process with  (where  is the process ID)
p38041
as(dp38042
g16
V14860
p38043
stp38044
a((dp38045
g2
(lp38046
VIn psuedo-code, in case this is homework:
p38047
aVIf, for some reason, you can't use loops (and this certainly marks it as homework - no-one in their right mind would try this without a loop), just unroll the loop:
p38048
aVThat's not too bad for ten entries but it's going to get cumbersome as the number rises
p38049
aVOr a recursive solution for the more bizarrely-minded of us :-)
p38050
aVBut I wouldn't hand that recursive solution in - if you haven't done loops yet, it's probably well beyond the level at which your class is operating
p38051
aVAnd, since the recursive solution is a rather nifty, no-loop, solution (and you have a near-zero chance of using it and not being found out as a plagiarist), here it is:
p38052
aVThis outputs:
p38053
aVas expected but don't use it on large lists since you'll probably run out of stack space
p38054
as(dp38055
g16
V14860
p38056
stp38057
a((dp38058
g2
(lp38059
VYou can use the following loop to do it
p38060
aVI've included an entire page for testing purposes
p38061
aVUsing various test data:
p38062
as(dp38063
g16
V14860
p38064
stp38065
a((dp38066
g2
(lp38067
VYes, there are plenty of times I would not use recursion
p38068
aVRecursion is not free, it has a cost in stack space and that can often be a much more limited resource than some others
p38069
aVThere's also a time cost, however small, in setting up and tearing down stack frames
p38070
aVBy way of example, the much vaunted factorial function is one where I would probably opt for an iterative approach where the numbers were large
p38071
aVCalculating 10000
p38072
aVwith:
p38073
aVwill use 10,000 stack frames (assuming it's not optimised by the compiler into an iterative solution of course), quite a lot
p38074
aVThe iterative solution:
p38075
aVwill use just the one stack frame and precious little else
p38076
aVIt's true that recursive solutions are often more elegant code but you have to temper that with the limitations of your environment
p38077
aVYour  example is one where I would actually use recursion since:
p38078
aVit uses at most six stack frames (one per character in the string); and
p38079
aVit's relatively elegant, at least much more so than six nested loops and huge equality checks
p38080
aVFor example the following Python code does the trick:
p38081
aVproducing:
p38082
aVOf course, if your string can be 10K long, I'd rethink it, since that would involve a lot more stack levels but, provided you keep in low enough, recursion is a viable solution
p38083
as(dp38084
g16
V14860
p38085
stp38086
a((dp38087
g2
(lp38088
VThere is none
p38089
aVThat's because arrays will decay to a pointer to the first element when passing to a function
p38090
aVYou have to either pass the length yourself or use something in the array itself to indicate the size
p38091
aVFirst, the "pass the length" option
p38092
aVCall your function with something like:
p38093
aVA sentinel method uses a special value at the end to indicate no more elements (similar to the  at the end of a C  array to indicate a string) and would be something like this:
p38094
aVAnother method I've seen used (mostly for integral arrays) is to use the first item as a length (similar to Rexx stem variables):
p38095
as(dp38096
g16
V14860
p38097
stp38098
a((dp38099
g2
(lp38100
VI wouldn't use a regex for this at all, for the same reason I wouldn't try kill a fly with a thermo-nuclear warhead
p38101
aVAssuming you're reading a line in at a time, just:
p38102
aVif the first character is a , set comment to the whole line and empty the line
p38103
aVotherwise, find the first occurrence of  not immediately after , set the comment to that plus the rest of the line and set the line to everything before that
p38104
aVreplace all occurrences of  in the line with
p38105
aVThat's it, you now have a proper line and a comment section
p38106
aVUse regexes to split up the new line section by all means
p38107
aVFor example:
p38108
aVproduces:
p38109
aVIf you must use a regex (against my advice), your specific problem lies here:
p38110
aVThis (assuming you meant the properly escaped ) will attempt to match any character other than either  or , not the sequence  as you desire
p38111
aVYou can use negative look-behinds to do it but I always say that, once a regular expression becomes unreadable to a moron in a hurry, it's better to revert to procedural code :-)
p38112
aVOn reflection, a better way to do it is with a multi-level split (so the regex doesn't have to get too hideous by handling missing fields), as follows:
p38113
aVThis uses the negative look-ahead to correctly match the comment separator then separates the non-comment bit into key and value
p38114
aVSpaces are handled correctly in this one as well, yielding:
p38115
as(dp38116
g16
V14860
p38117
stp38118
a((dp38119
g2
(lp38120
VThe elegant recursive solution (in pseudo-code):
p38121
aVthen just use:
p38122
aVThis correctly handles the case of a NULL root node
p38123
aVAnd if you want to see it in action in C++, here's some code following the same algorithm:
p38124
aVThat code above provides the structure and the  function as preiously described
p38125
aVThe code below is some test harness code for inserting nodes:
p38126
aVAnd, finally, the main function for constructing the following tree:
p38127
aVis shown here:
p38128
aVThis outputs (the correct):
p38129
as(dp38130
g16
V14860
p38131
stp38132
a((dp38133
g2
(lp38134
VThis is usually something specified by the compiler
p38135
aVFor example with gcc, you can create the following files:
p38136
aVThen, when you compile them:
p38137
aVIn other words, it's the order in which the include paths are specified (with ) which dictates the order of search (there are other things such as whether headers are named the same as system headers but they need not concern us here)
p38138
as(dp38139
g16
V14860
p38140
stp38141
a((dp38142
g2
(lp38143
VNever use a naked (unbounded)  in  unless you control totally the input data format (which you don't here)
p38144
aVOtherwise you open up your code to buffer overruns
p38145
aVWhat you should do is to  a line from  (since this provides buffer overrun protection) then simply  the line
p38146
aVThis has the added bonus that you can  your longer four-argument format string and, if it fails, then try the two-argument one
p38147
aVSomething like this:
p38148
as(dp38149
g16
V14860
p38150
stp38151
a((dp38152
g2
(lp38153
VWhat you are doing won't work because the  family of calls will actually replace your current program in the current process
p38154
aVIn other words, you will have been terminated so that, when  is finished, your parent process will once again take over
p38155
aVIf you want to change the working directory for the current process, use
p38156
aVIf you want to change it on exit, you're out of luck because your program itself is running in a separate process from the parent that started it
p38157
aVSo, unless you have some form of communication with the parent, that's not going to work
p38158
as(dp38159
g16
V14860
p38160
stp38161
a((dp38162
g2
(lp38163
VIt may be possible to do in a select query (possibly using something like  though I'm not sure that's allowed in the  clause itself, YMMV depending on the DBMS) but it's rarely a good idea to use per-row calculations if you want your database to scale well as tables get bigger ("not have the performance of a one-legged pig in a horse race", as one of our DBAs eloquently puts it)
p38164
aVIn situations like this, I set up an additional (indexed) column to hold the maximum and ensure that the data integrity is maintained by using an insert/update trigger to force that new column to the maximum of the other three
p38165
aVBecause most database tables are read far more often than written, this amortises the cost of the calculation across all the reads
p38166
aVThe cost is borne only when the data is updated and the queries become blindingly fast since you're ordering on a single, indexed, column:
p38167
as(dp38168
g16
V14860
p38169
stp38170
a((dp38171
g2
(lp38172
VThe simplest solution is to probably just process the string character by character, with pointers for source and destination:
p38173
aVThis sets up two pointers initially the same
p38174
aVIt then copies a character and always advances the source pointer
p38175
aVHowever, it only advances the destination pointer if the character wasn't a carriage return
p38176
aVThat way, all carriage returns are overwritten by either the next character or the null terminator
p38177
aVThe output is:
p38178
aVThis would be adequate for most strings
p38179
aVIf your strings are truly massive in size (or this is something you need to do many times each second), you could look at a -based solution since the library function will most likely be optimised
p38180
as(dp38181
g16
V14860
p38182
stp38183
a((dp38184
g2
(lp38185
VOkay, I'm not going to question your sanity here since I'm sure you wouldn't be asking the question if there weren't a good reason :-)
p38186
aVHere's how I'd approach it
p38187
aVCreate a sorted list, then simply create another list by processing the keys in order, alternately inserting before and appending, something like:
p38188
aVThis will give you a list where the big items are in the middle
p38189
aVOther items will fan out from the middle (in alternating directions) as needed:
p38190
aVTo get a list where the larger elements are at the ends, just replace the initial sort with an ascending one
p38191
aVThe sorted and final lists can just be pointers to the actual items (since you state they're not simple integers) - this will minimise both extra storage requirements and copying
p38192
as(dp38193
g16
V14860
p38194
stp38195
a((dp38196
g2
(lp38197
VIf your strings are Unicode (and they really should be, nowadays), you can simply check that all code points are 127 or less
p38198
aVThe bottom 128 code points of Unicode are ASCII
p38199
as(dp38200
g16
V14860
p38201
stp38202
a((dp38203
g2
(lp38204
VA compiler can do anything it wants to, as long as that doesn't violate the standard
p38205
aVIf it can figure out that the code is never called again, it can ditch it completely
p38206
aVIt could even replace it with a smaller stub function that would reload the code, were it required
p38207
aVBut you'll be very unlikely to ever see that in a modern OS since the OS itself provides that capability under the covers
p38208
aVOperating systems (at least the common ones) will swap out your physical pages when memory runs low, and they won't be reloaded until they're needed (usually by a page fault when trying to access them)
p38209
as(dp38210
g16
V14860
p38211
stp38212
a((dp38213
g2
(lp38214
VAll you can do is to try and educate the managers as to why what they're doing is incorrect
p38215
aVBeyond that, you can't stop idiots from being idiotic, and you'll just go mad trying
p38216
aVI definitely wouldn't "break" code that people are relying on, even if it's not a specific deliverable
p38217
aVThat will only cause them to complain about you, a move which may affect your own EPR :-)
p38218
as(dp38219
g16
V14860
p38220
stp38221
a((dp38222
g2
(lp38223
VYou're looking for the  clause which happens after grouping (the  clause is before grouping):
p38224
as(dp38225
g16
V14860
p38226
stp38227
a((dp38228
g2
(lp38229
VC++ had  and  for just this purpose
p38230
aVsets the width and  sets the fill character
p38231
aVIn your case, you can just use something like:
p38232
aVYou have a number of other problems with that code, at least some of which are listed below:
p38233
aVYou don't allocate enough space for your array, it should be  (or use a two-dimensional array)
p38234
aVArray indexes start at 0, not 1
p38235
aVis not a good idea,  will be enough to increment
p38236
aVYou may be trying to increment  twice in each iteration, once if the  statement itself and once in the  body
p38237
aVis an ugly hack where the language provides a perfectly good  or  equivalent
p38238
aVjust looks plain wrong :-) since  will never equal
p38239
aVJust use  or  - any coder worth their salt will know what you mean
p38240
as(dp38241
g16
V14860
p38242
stp38243
a((dp38244
g2
(lp38245
VI've had problems with the  command before
p38246
aVI prefer the  variant since it's much more powerful and, in my experience, less prone to "gotchas" like this
p38247
aVIf you use the  command, your test commands work fine:
p38248
as(dp38249
g16
V14860
p38250
stp38251
a((dp38252
g2
(lp38253
VI'm not too sure about this but it appears to me that you will exit this function if the first poll response fails
p38254
aVThen, when you come back in, you'll send another message (with the  call), independent from the first
p38255
aVThat means that, unless you strike it lucky and a response appears before you call , you'll always get a polling message
p38256
as(dp38257
g16
V14860
p38258
stp38259
a((dp38260
g2
(lp38261
VIf you're talking about checking that a given text is a valid percentage, you can do one of a few things
p38262
aVvalidate it with a regex like  then just convert that to a floating point value and check it's between 0 and 100 (that particular regex requires a zero before the decimal for values less than one but you can adapt it to handle otherwise)
p38263
aVconvert it to a float using a method that raises an exception on invalid data (rather than just stopping at the first bad character
p38264
aVuse a convoluted regex which checks for valid entries without having to convert to a float
p38265
aVjust run through the text character by character counting numerics (a), decimal points (b) and non-numerics (c)
p38266
aVProvided  is at least one,  is at most one, and  is zero, then convert to a float
p38267
aVI have no idea whether your environment support any of those options since you haven't actually specified what it is :-)
p38268
aVHowever, my preference is to go for option 1, 2, 4 and 3 (in that order) since I'm not a big fan of convoluted regexes
p38269
aVI tend to think that they do more harm than good when thet become to complex to understand in less than three seconds
p38270
as(dp38271
g16
V14860
p38272
stp38273
a((dp38274
g2
(lp38275
VThis is almost certainly because the OS has loaded needed DLLs which stay in memory (unless the memory is needed elsewhere) after your application exits
p38276
aVYou can run your program in a special mode that just loads and exits) so that those DLLs will load up and this is a trick used by a few applications (MS Office and OpenOffice
p38277
aVorg are two that spring to mind immediately)
p38278
aVSome people will run their programs at startup to make their first invocation seem faster but it's my opinion that this should be left to the user
p38279
aVIt is their machine after all
p38280
aVBy all means show them how they can do it (e
p38281
ag1775
aV, add  to your startup folder) but leave it up to them
p38282
aVI, for one, don't want every application I run slowing down my boot time
p38283
as(dp38284
g16
V14860
p38285
stp38286
a((dp38287
g2
(lp38288
VI'll tell you one thing that you can look at for increasing the speed
p38289
aVYou only generally have  values in the data for either unknown or non-applicable rows
p38290
aVIt appears to me that, since you're treating  as  anyway, you should think about getting rid of them and making sure that all  values are  where they were previously  so that you can get rid of the time penalty of the
p38291
aVIn fact, you could go one step further and introduce another column called  which you set with an insert/update trigger to the actual value  or ( if you still need nullability of )
p38292
aVThen, you can simply use:
p38293
aV(I'm not sure you should have two output columns with the same name or whether that was a typo, that's going to be, at worst, an error, at best, confusing)
p38294
aVThis moves the cost of the calculation to insert/update time rather than select time and amortises that cost over all the selects - most database tables are read far more often than written
p38295
aVThe consistency of the data is maintained due to the trigger and the performance should be better, at the cost of some storage requirements
p38296
aVBut, since the vast majority of database questions are "How can I get more speed
p38297
aVrather than "How can I use less disk
p38298
aV, that's often a good idea
p38299
aVAnother suggestion is to provide a non-composite index on the column that reduces your result set the fastest (high cardinality)
p38300
aVIn other words, if you store only two weeks worth of data (14 different dates) in your table but 400 different shops, you should have an index on  and make sure your statistics are up to date
p38301
aVThis should cause the DBMS execution engine to whittle down the result set using that key so that subsequent operations are faster
p38302
aVA composite index on  will not be able to use  to whittle down the results because the key ordering will be  within
p38303
as(dp38304
g16
V14860
p38305
stp38306
a((dp38307
g2
(lp38308
VWell, you need a way of getting individual words from the input stream (perhaps something like an "input stream" method applied to the "standard input stream") and a way of storing those strings and counts in some sort of "collection"
p38309
aVMy natural homework cynicism and general apathy towards life prevent me from adding more detail at the moment :-)
p38310
aVThe meaning of any variables I use is fairly self-evident since I tend to use things like  or
p38311
as(dp38312
g16
V14860
p38313
stp38314
a((dp38315
g2
(lp38316
VISO C (C99) states the difference
p38317
aVThe  data type is signed and has a minimum range of at least -32767 through 32767 inclusive
p38318
aVThe actual values are given in  as INT_MIN and INT_MAX respectively
p38319
aVAn  has a minimal range of 0 through 65535 inclusive with the actual maximum value being UINT_MAX from that same header file
p38320
aVBeyond that, the standard does not mandate twos complement notation for encoding the values, that's just one of the possibilities
p38321
aVThe three allowed types would have encodings of the following for 5 and -5 (using 16-bit data types):
p38322
aVIn twos complement, you get a negative of a number by inverting all bits then adding 1
p38323
aVIn ones complement, you get a negative of a number by inverting all bits
p38324
aVIn sign/magnitude, the top bit is the sign so you just invert that to get the negative
p38325
aVNote that positive values have the same encoding for all representations, only the negative values are different
p38326
aVNote further that, for unsigned values, you do not need to use one of the bits for a sign
p38327
aVThat means you get more range on the positive side (at the cost of no negative encodings, of course)
p38328
aVAnd no,  and  cannot have the same encoding regardless of which representation you use
p38329
aVOtherwise, there'd be no way to tell the difference
p38330
as(dp38331
g16
V14860
p38332
stp38333
a((dp38334
g2
(lp38335
VNot quite:
p38336
aVBut you do have to make sure you have a  available (CygWin or GnuWin32 are excellent for these tools - I prefer GnuWin32 if you only need specific things, CygWin tends to give you a lot)
p38337
aVYou also have to be careful with environment variables like
p38338
aVWhile UNIX will create them in the context of the current shell (so its effect will be limited),  scripts will "leak" them (hence the direct use of )
p38339
as(dp38340
g16
V14860
p38341
stp38342
a((dp38343
g2
(lp38344
VAre you sure you want to be connecting to port 22
p38345
aV21 is the usual FTP port
p38346
aVAdditionally, you should try to execute that script manually (run  and type them in yourself) to see where the error occurs
p38347
aVIt may be that your firewall is blocking return traffic in active mode (see if Filezilla is running in passive mode)
p38348
aVBased on your comment, you're definitely connecting to a secure FTP server
p38349
aVThe  program that comes with Windows only does standard FTP
p38350
aVA quick Google of  turns up many possibilities, one of which is a secure FTP client in Putty, a tool we use (and highly recommend) at work
p38351
aVAnother is  that comes with CygWin
p38352
aVI don't believe either of these allow you to specify a password other than interactively
p38353
aVThey rightly assume that you're using them for security purposes and having a password in plaintext in a script would render the security moot
p38354
aVYour best option is to set up shared keys the way SSH wants you to
p38355
aVThat is the most secure way
p38356
aVHowever, if you're more interested in ease of setup rather than security, you can just use  to await the password prompt and then give your password to the SFTP program
p38357
aVCygWin also comes with  (Putty doesn't) so I'd suggest using that
p38358
as(dp38359
g16
V14860
p38360
stp38361
a((dp38362
g2
(lp38363
VYou want:
p38364
aVThe initial  ensures that it starts with a letter, the second bit  ensures that it's at least three characters long and consists of between one and three letters at the start, and the final bit  allows you to go up to 9 characters in total
p38365
aVFurther explaining:
p38366
as(dp38367
g16
V14860
p38368
stp38369
a((dp38370
g2
(lp38371
VThat's not really a C++ question since the console depends entirely on the underlying environment
p38372
aVFor example, I know of no way to do this with the  window under Windows
p38373
aVI thought there may be a way to do this with  under UNIX-like operating systems but I can't find it after a cursory search
p38374
aVOne possibility is to pass the output through a separate filter program like:
p38375
aVbut this is outside the scope of your C++ application
p38376
aVIf you want to be able to do this in C++ portably, you'll probably have to subclass one of the output streams so that you can keep a record of your current column number and translate tab characters into the correct number of spaces
p38377
as(dp38378
g16
V14860
p38379
stp38380
a((dp38381
g2
(lp38382
VThey are somewhat related but there's a subtle difference
p38383
aVAtomicity means that your transaction either happens or doesn't happen
p38384
aVConsistency means that things like referential integrity are enforced
p38385
aVLet's say you start a transaction to add two rows (a credit and debit which forms a single bank transaction)
p38386
aVThe atomicity of this has nothing to do with the consistency of the database
p38387
aVAll it means it that either both rows or neither row will be added
p38388
aVOn the consistency front, let's say you have a foreign key constraint from  to
p38389
aVIf you try to add an order that refers to a non-existent product, that's when consistency kicks in to prevent you from doing it
p38390
aVBoth are about maintaining the database in a workable state, hence their similarity
p38391
aVThe former example will ensure the bank doesn't lose money (or steal it from you), the latter will ensure your application doesn't get surprised by orders for products you know nothing about
p38392
as(dp38393
g16
V14860
p38394
stp38395
a((dp38396
g2
(lp38397
VHere's one possibility
p38398
aVFor nine-character codes, insert a random even letter (B,D,F,
p38399
aVafter the first digit and two random digits at the end
p38400
aVFor eleven-character codes, insert a random odd letter (A,C,E,
p38401
aVafter the first digit and leave the rest as is
p38402
aVIn both cases, you could also ROT-13 the non-noise alphas and ROT-5 the digits to further change the codes, though I'm not sure that's necessary for your purposes
p38403
aVThat way you end up with a twelve character code for both cases, which you can reverse if need be
p38404
aVIt's human-readable and unique
p38405
aVIt's not, as you say, NSA-level crypto but it should hold off the casual onlooker
p38406
aVIf you need a hash that generates a more deterministic result (i
p38407
ag75
aV, no random numbers), you can make the added stuff dependent on the input data
p38408
aVHere's one way, there are probably hundreds more
p38409
aVConsider the two input types:
p38410
aVStill insert a character after the  in both cases but make it dependent on the input
p38411
aVAdd up the digits at positions ,  and  and take the modulo-10 of that to get 0 through 9
p38412
aVUse that as a lookup into the string "ABXVRWECPU" for a nine-digit code or "OIYJTQLSDK" for an eleven-digit code to get the character
p38413
aVYou can then use that character in the resulting code to decide whether it was a nine or eleven-character code initially (the truly paranoid would ensure those strings are not stored in plaintext in the code)
p38414
aVFor the two digits to add to the first case, add up the ASCII codes for A, C and a function of B (for example, xor 'B' with 147), then add that to the numbers formed from 64, 51 and 23
p38415
aVTake the modulo-87 of that then add 7 to get a value between 7 and 93
p38416
as(dp38417
g16
V14860
p38418
stp38419
a((dp38420
g2
(lp38421
VFirst thing is to ensure you're running the java you think you're running
p38422
aVYou can tell from your error output that it's using  so run
p38423
aVto check the version
p38424
aVThat java is not necessarily the one on your path - you can find out which one that is with:
p38425
aVSecond thing you should probably try is the 64bit version of Eclipse
p38426
aVEverything else you have is 64bit
p38427
aVBeyond that, I had all sorts of trouble early on with non-Sun JREs
p38428
aVThat may not be the case now (or it may have been only specific to me) but it's something else you may want to look at
p38429
aVOn top of that (and probably unrelated to the problem at hand), do you really want to be running Eclipse from within your Firefox download directory
p38430
aVI would move it somewhere else personally
p38431
as(dp38432
g16
V14860
p38433
stp38434
a((dp38435
g2
(lp38436
VSure, with something like:
p38437
aVThe first line makes a temporary copy of the file
p38438
aVThe second line overwrites the file with the line you want to add (note particularly the lack of spaces between the text being added and the  redirection operator -  has a nasty habit of including such spaces)
p38439
aVThe third line uses the append redirection operator  to add the original file to the end of the new one, then the final line deletes the temporary file
p38440
as(dp38441
g16
V14860
p38442
stp38443
a((dp38444
g2
(lp38445
VNo, there's no real use to leaving it set to the original value, other than showing how inept people are at writing code :-)
p38446
aVIt follows the traditions of C in that you're expected to know what you're doing
p38447
aVThe cost of having the compiler set freed pointers to NULL was deemed too high in the C days and this has carried over to C++ with
p38448
aVIf you code properly, then having the compiler set the pointer to NULL is a waste, since you'll either set it to something else or not use it again
p38449
aVIf you really want to make your code safer, you'd do something like (in C):
p38450
aVinstead of just:
p38451
aVBut, if you're going to go to that level (and introduce such an abomination), just switch to Java and be done with it, then you don't have to concern yourself with manual memory management at all
p38452
as(dp38453
g16
V14860
p38454
stp38455
a((dp38456
g2
(lp38457
VThe expression  is always true since the range of  is 0
p38458
aV255 (in your particular implementation)
p38459
aVIt's only complaining about that bit of the expressions since  can be true or false
p38460
aVKeep in mind that the range of an  need not be 0
p38461
aV255 for all implementations (ISO C standards do not mandate this)
p38462
as(dp38463
g16
V14860
p38464
stp38465
a((dp38466
g2
(lp38467
VVersioning of shared objects works as follows:
p38468
aVWhen you create a shared object, you give it both a real name and an
p38469
aVThese are used to install the shared object (which creates both the object and a link to it)
p38470
aVSo you can end up with the situation:
p38471
aVwith  possessing the  of
p38472
aVWhen the linker links in , it follows the links all the way to  and uses its  of  to store in the executable
p38473
aVThen, when you run the executable, it tries to load  which will point to a specific  (not necessarily version 1
p38474
aV5)
p38475
aVSo you could install  and update the  link to point to it instead and already-linked executables would use that instead
p38476
aVOne advantage of this multi-layer method is that you can have multiple potentially incompatible libraries of the same name (, ) but, within each major version, you can freely upgrade them since they're supposed to be compatible
p38477
aVWhen you link new executables:
p38478
aVThose linking with  will get the latest minor version of the latest major version
p38479
aVOthers linking with  will get the latest minor version of a specific major version
p38480
aVStill others linking with  will get a specific minor version of a specific major version
p38481
aVNow keep that last paragraph in mind as we examine your comment:
p38482
aVNow lets say I compile another version of the same library with the following real-name,
p38483
aVThe SONAME by guidelines would be
p38484
aVNo, I don't believe so
p38485
aVThe  would be more likely to be  so that you can make minor updates to the  stream and get the latest behaviour
p38486
as(dp38487
g16
V14860
p38488
stp38489
a((dp38490
g2
(lp38491
VThat code runs and compiles fine in my environment, gcc 4
p38492
ag9967
aV3 under Ubuntu 10
p38493
aVThat leads me to believe that you have a different problem from the one you think you have :-)
p38494
aVTry the following code to see if the actual  is failing
p38495
aVIf it is, it should tell you why
p38496
aVIf it isn't, then you won't see the  output at all
p38497
aVAlso check to make sure the  is what you expect it to be (an executable, not a script, for example)
p38498
aVAnd it's worth clarifying what you mean by "crash"
p38499
aVIs it just not producing any output
p38500
aVIt it dumping a core file
p38501
aVIs it bringing your entire OS to its knees, causing a reboot
p38502
as(dp38503
g16
V14860
p38504
stp38505
a((dp38506
g2
(lp38507
VYes, actually you can tell yourself
p38508
aVIf  fails, it will set the  variable to indicate why
p38509
aVYou just need to find out what that's set to
p38510
aVYou may also want to ensure that  itself is valid even though you've stated it's set to
p38511
aVEven if it is what you state, it may be that  doesn't like working on the root directory in that form
p38512
aVThis will depend a great deal on the implementation you're using (you should add that as a tag)
p38513
aVIn other words, change your line to something like:
p38514
aVFor what it's worth (and that may not be much), the following program works fine under VS2008:
p38515
aVoutputting:
p38516
as(dp38517
g16
V14860
p38518
stp38519
a((dp38520
g2
(lp38521
VThere are a number of ways to fix this problem:
p38522
aVinsert copious quantities of  debug statements throughout your code and run it, examining the output
p38523
aVrun your code within a debugger, single stepping and examining variables after each step
p38524
aVask an open-ended, vague question here on SO and try to get us to do all the work for you
p38525
aVOnly two of those options will make you a better developer and less likely to annoy us in future :-)
p38526
aVWhat you should try to do first is to narrow the problem down
p38527
aVAll problem reports (here on SO and in the real world) should contain:
p38528
aVwhat you were doing (in great detail) that caused the problem
p38529
aVwhat you expected to happen
p38530
aVwhat actually happened
p38531
aVAnything less is a user not keeping up their end of the bargain
p38532
aVOkay, that's your function and it appears you want to rotate right through the  ( below) node
p38533
aVAnd, as per your comment:  = father,  = right and  = left
p38534
aVso you end up with something like:
p38535
aVI see one immediate possible problem
p38536
aVYou're trying to change the parent pointer of that node so that it points to the rotated node
p38537
aVBut you're changing  which is the right node of
p38538
aVWhat happens if the tree is structured as follows
p38539
aVIf you try to rotate through the  node of that tree with your code, you're going to seriously compromise the  sub-tree
p38540
aVFrom a cursory desk-check, I think you can start by changing:
p38541
aVto:
p38542
aVwhich should change the correct pointer in the parent
p38543
aVKeep in mind I haven't checked a large number of possible trees, just this one:
p38544
aVwith the in-order traversal of , which, if you rotate right through  with the code change I gave, you get:
p38545
aVwhich looks about right (inorder , the same as before)
p38546
aVSo, bottom line, try this one:
p38547
aVand see how it goes
p38548
aVDiogo, I'll leave you some code to play with to illustrate what I meant
p38549
aVLook over the following code
p38550
aVIt basically creates a dummy structure and dumps it out then runs your rotate routine on it
p38551
aVYou can see from the output that the resultant tree is wrong
p38552
aVIt then recreates the original tree and runs the fixed rotate function, producing what I believe to be the correct result
p38553
aVFeel free to use the  function in your debugging efforts if you have further problems
p38554
aVIt outputs a relatively nicely formatted tree with a node followed by indented child nodes ( for the left and  for the right)
p38555
ag5385
ag5385
ag5385
ag5385
ag5385
ag5385
aVWhen you run this, it produces the following
p38556
aVYou can see the original code has multiple copies of some of the sub-trees due to the fact the code assumed the roration point would always be on the right side of its parent
p38557
aVThe fixed code does not make that assumption
p38558
ag5385
as(dp38559
g16
V14860
p38560
stp38561
a((dp38562
g2
(lp38563
VIt's not a matter of laziness, it's a matter of efficiency
p38564
aVDo you feel lazy by coding in a high level language rather than assembler (or binary)
p38565
aVI don't
p38566
aVDo you feel lazy driving your car across the country rather than cycling
p38567
aVI don't (for a start, the old ticker probably wouldn't hold out)
p38568
aVAnyway, you make laziness sound like a bad thing
p38569
aVI'm all for doing things in an easier way - it gets it done faster and allows me to spend more time with the family
p38570
as(dp38571
g16
V14860
p38572
stp38573
a((dp38574
g2
(lp38575
VIf you want the directory where you're currently at, you can get that from
p38576
aVThat's your current working directory
p38577
aVIf you're going to be changing your current working directory during the script execution, just save it at the start:
p38578
aVthen you can use  in your code regardless of any changes later on (which affect )
p38579
aVIf you just want to get the last component of that path (as per your comment), you can use the following as a baseline:
p38580
aV@setlocal enableextensions enabledelayedexpansion
p38581
aV@echo off
p38582
aVset startdir=%cd%
p38583
aVset temp=%startdir%
p38584
aVset folder=
p38585
aV:loop
p38586
aVif not "x%temp:~-1%"=="x\u005c" (
p38587
aVset folder=
p38588
aVtemp:~-1
p38589
aVfolder
p38590
aVset temp=
p38591
aVtemp:~0,-1
p38592
aVgoto :loop
p38593
aV)
p38594
aVecho
p38595
aVstartdir = %startdir%
p38596
aVecho
p38597
aVfolder   = %folder%
p38598
aVendlocal && set folder=%folder%
p38599
aVThis outputs:
p38600
aVC:\u005cDocuments and Settings\u005cPax> testprog
p38601
aVcmd
p38602
aVstartdir = C:\u005cDocuments and Settings\u005cPax
p38603
aVfolder   = Pax
p38604
aVIt works by copying the characters from the end of the full path, one at a time, until it finds the  separator
p38605
aVIt's neither pretty nor efficient, but Windows batch programming rarely is :-)
p38606
aVEDIT
p38607
aVActually, there is a simple and very efficient method to get the last component name
p38608
aVNot an issue for this situation, but if you are dealing with a variable containing a path that may or may not end with , then you can guarantee the correct result by appending
p38609
as(dp38610
g16
V14860
p38611
stp38612
a((dp38613
g2
(lp38614
VC itself has no concept of segments (nor far pointers), this will be a feature of the underlying implementation or architecture (which you haven't specified)
p38615
aVSegmented architectures and near/far/tiny pointers are ancient things from the 8086 days - most code nowadays (with the possible exception of embedded stuff) gives you a flat memory model where you don't have to worry about that
p38616
aVAll the standard states is that the actual characters of the string will be characters that you are not allowed to modify
p38617
aVFor what it's worth (which isn't much)
p38618
aVmy implementation stores the string itself in memory marked read-only (this may or may not be a code segment, you can easily have other segments marked read-only) and  (the address of the first of those characters) is placed on the stack at runtime
p38619
aVIf you run your compiler to produce the assembler output:
p38620
aVyou'll see something like (in  in my case):
p38621
aVYou can see from that, it's in its own section  (read-only data), not in the  section
p38622
aVA possible disadvantage of placing it into  would be that things like DEP (data execute protection) would be much harder
p38623
aVYou want both code and read-only data to be read-only, but you also want code to be executable - you don't generally  want read-only data to be executable
p38624
as(dp38625
g16
V14860
p38626
stp38627
a((dp38628
g2
(lp38629
VDatabases are used for storing data
p38630
aVPresentation of data should not be in its responsibilities
p38631
aVBy that, I mean you should very rarely thing about storing a string value in the database like
p38632
aVIf you want specific formatting, the best place to do it is after extracting the data:
p38633
aVBecause  expects strings, numeric values are automagically cast into string before joining them together
p38634
as(dp38635
g16
V14860
p38636
stp38637
a((dp38638
g2
(lp38639
V (assuming you're talking about x86) is a move of a quadword (64-bit value)
p38640
aVThis particular instruction:
p38641
aVlooks very much like code that will walk up through stack frames
p38642
aVThis particular instruction grabs the quadword pointed to by the current stack pointer, and loads it into the stack pointer, overwriting it
p38643
aVBy way of example, this code sequence (based on real code, and in Intel rather that AT&T; format) will continuously load the stack pointer from its contents until the value 16 bytes beyond it is 0
p38644
aVIt's possible it may not be stack-frame walking code but it's be unusual since it would be suborning the stack pointer for something it's not usually used for
p38645
aVIt is unusual in that moving up stack frames usually involves stack pointer and base pointer but that's usually for just going up one level (i
p38646
ag75
aV, a return from a function)
p38647
aVFor the sort of code shown above where you want to move up multiple levels, it's probably faster to just use the stack pointer until you get where you need to be, then pop the base pointer off then (calling conventions will often push the current base pointer before changing it, so that a simple pop will recover the old value)
p38648
as(dp38649
g16
V14860
p38650
stp38651
a((dp38652
g2
(lp38653
VYou need a way to join individual related rows in the two tables, something like:
p38654
as(dp38655
g16
V14860
p38656
stp38657
a((dp38658
g2
(lp38659
V"Opaque" is defined, in English, as "not able to be seen through; not transparent"
p38660
aVIn Computer Science, this means a value which reveals no details other then the type of the value itself
p38661
aVPeople often use the C type  as the classic example but often this is not opaque - the details are revealed in  for anyone to see and they simply rely on the user of the type to not fiddle with the internals
p38662
aVThat's fine as long as people stick to the rules, only passing such values to functions like  and  but the problem with revealing information is that people sometimes (foolishly) begin to rely on it
p38663
aVFor example,  publishes its  structure (as ) in  so that type is not technically opaque
p38664
aVNote that part of the definition at the front: "not able" rather than "not willing"
p38665
aVOpacity requires the information to be hidden rather than just enacting a "gentleman's agreement" not to use it
p38666
aVOpaque pointers, done correctly, should reveal no information other than the type name itself and you can implement that in C relatively easily
p38667
aVConsider the following header file  for obtaining and releasing  objects:
p38668
aVThis is all that clients of the code see, an incomplete type  and some functions to allocate and release objects of that type (they don't get to see  detailed below)
p38669
aVNote that pointers to an incomplete type are fine but you cannot instantiate an object of that type since you don't know its internals
p38670
aVSo the code:
p38671
aVwould cause an error along the lines of:
p38672
aVNow you can quite happily use those functions from a program  without knowing the internals of the structure:
p38673
aVAnd the implementation of the calls, , actually controls and knows the internals, so can use them quite freely:
p38674
aVThe  calls are there simply to show that it can use the internals, and you'd probably want to add checking of the return value from  in production-ready code but that's not relevant to the purpose of this example
p38675
aVWhen you compile  and  into a single executable and run it, the output is:
p38676
aVas you would expect from the main function
p38677
as(dp38678
g16
V14860
p38679
stp38680
a((dp38681
g2
(lp38682
VIn the interests of pragmatism, I tend to just do it as a three-stage process:
p38683
aVI don't doubt that there may be a better way (perhaps using macros or even a pure regex way) but I usually find this works when I'm in a hurry
p38684
aVOf course, if you have lines starting with , you may want to adjust the string :-)
p38685
aVIt's good enough to turn:
p38686
aVinto:
p38687
aVAside: If you're wondering why I use  instead of , that's just habit mostly
p38688
aVcan do everything  can and so much more
p38689
aVIt's actually a way to execute an arbitrary command on selected lines
p38690
aVThe command to execute happens to be  in this case so there's no real difference but, if you want to become a  power user, you should look into  at some point
p38691
as(dp38692
g16
V14860
p38693
stp38694
a((dp38695
g2
(lp38696
VThis is generally an implementation issue
p38697
aVAll you need to concern yourself with as a Java programmer is that each class can have different methods from other classes
p38698
aVIn terms of implementation (if you're interested in under-the-covers behaviour), the easiest solution would be for each class to have a pointer to all the relevant functions
p38699
aVThat way, when you extend  with , an instance of type  will get all of 's pointers to methods but with the  method pointer pointing to 's code
p38700
aVA graphical representation where  extends , overriding just :
p38701
aVInstances of a class (objects) know about their type so you can get easily from object  to class
p38702
aVFrom there, it's a simple operation to find the correct code to run
p38703
as(dp38704
g16
V14860
p38705
stp38706
a((dp38707
g2
(lp38708
VA good DBA can detect problems using nothing more than tea leaves and chicken entrails
p38709
aVSeriously though, a hallmark of a good DBA is not so much to be able to detect the problems, but to be able to detect possible problems, based on this sort of static analysis
p38710
aVBy way of example, a good DBA can look at:
p38711
aVand immediately figure out that:
p38712
aVthe user of that query should either use every column they ask for, or they should ask for less
p38713
aVthe table may need indexes on the  and  columns
p38714
aVNow, those two potential problem areas aren't enough to decide whether there are problems
p38715
aVTo find that out for sure, the DBA would need to examine the database schema and statistics
p38716
aVBut static analysis should be a good start
p38717
aVSo, in answer to your actual question, no, they generally don't find problems from only reading TSQL (or any SQL), but they should be able to use that information to target their efforts
p38718
as(dp38719
g16
V14860
p38720
stp38721
a((dp38722
g2
(lp38723
VWhy you want to do this without an  statement may be questionable but (as of Java 5)  has a  method which will return -1, 0 or 1 depending on the integer value:
p38724
aVAssuming your input value will be always zero or more, this will do what you want
p38725
aVBut it's unlikely to be any faster than an  statement like:
p38726
aVnor any more succinct than the ternary version:
p38727
aVI just though I'd include it as an option in case you want neither the  nor ternary variant
p38728
as(dp38729
g16
V14860
p38730
stp38731
a((dp38732
g2
(lp38733
VUsually, you would just pass it like any other argument
p38734
aVI've used code similar to the following in projects before to specify fixed thread counts
p38735
aVThis is fairly simple but suitable for situations where you don't need the full power of thread pooling (though you could just as easily set a minimum and maximum thread count the same way)
p38736
as(dp38737
g16
V14860
p38738
stp38739
a((dp38740
g2
(lp38741
VIf you really want to know how the code looks under the covers, you have to get the compiler to generate the assembler code ( can do this with the  option)
p38742
aVWhen you truly grok C and pointers at their deepest level, you'll realise that it's just the address of the variable being passed in rather than the value of the variable
p38743
aVThere's no need for creating extra memory to hold a pointer since the pointer is moved directly from the code to the stack (the address will probably have been set either at link time or load time, not run time)
p38744
aVThere's also no need for internal type creation since the compiled code already knows the type and how to manipulate it
p38745
aVKeeping in mind that this is implementation-specific, consider the following code:
p38746
aVwhich, when compiled with  to get the assembler, produces:
p38747
aVThe important bit is these sections:
p38748
aVHence the address is passed, and used to get at the variable
p38749
as(dp38750
g16
V14860
p38751
stp38752
a((dp38753
g2
(lp38754
VWhy do you think you need to run these things on the database server
p38755
aVYour database is surely available across the network, yes
p38756
aVIf so, why not set up your own server box to run the queries and updates
p38757
aVIf you're saying that they're not going to allow you to run a scheduled task anywhere that will access the database, then any other automated solution will have the same problem
p38758
aVAs per your update, you are likely not permitted to connect to the SMTP server from another box (assuming your  value is correct in the first place)
p38759
aVYou will either have to convince the administrators of that box to allow you to access the mail server, or find another SMTP server for sending the mail
p38760
aVIn a corporate environment, that's probably easier than it sounds
p38761
aVThere should be at least one kosher SMTP server floating around, you just need to find it
p38762
aVAlternatively, you may have to install a mail client on your own server box and use that for sending mail
p38763
as(dp38764
g16
V14860
p38765
stp38766
a((dp38767
g2
(lp38768
VWhat's wrong with something like an
p38769
aVOr, if you want a faster algorithm, I'd just create a hash from the file length (mod 64K to fit in two bytes) and 32-bit checksum
p38770
aVThat'll give you a 6-byte hash which should be reasonably well distributed
p38771
aVIt's not overly complex to implement
p38772
aVOf course, as with all hashing solutions, you should monitor the collisions and change the algorithm if the cardinality gets too low
p38773
aVThis would be true regardless of the algorithm chosen (since your users may start uploading degenerate data)
p38774
aVYou may end up finding you're trying to solve a problem that doesn't exist (in other words, possible YAGNI)
p38775
as(dp38776
g16
V14860
p38777
stp38778
a((dp38779
g2
(lp38780
VIf you know the maximum size, it's not too big and you only need one copy, you should use a static buffer, allocated at program load time:
p38781
aVIf any of those pre-conditions are false and you only need the information while the program is running, use :
p38782
aVJust make sure you check that the allocations work and that you free whatever you allocate
p38783
aVIf the information has to survive the termination of your program or be usable from other programs at the same time, it'll need to go into a file (or long-lived shared memory if you have that capability)
p38784
aVAnd, if it's too big to fit into your address space at once, you'll need to store it in a file and read it in a bit at a time
p38785
aVThat's basically going from the easiest/least-flexible to the hardest/most-flexible possibilities
p38786
aVWhere your requirements lie along that line is a decision you need to make
p38787
as(dp38788
g16
V14860
p38789
stp38790
a((dp38791
g2
(lp38792
V stands for "file scan formatted" and user data is about as unformatted as you can get
p38793
aVYou should never use naked  format strings on data where you don't have absolute control over what can be read
p38794
aVThe best solution is to use  to read a line since this allows you to prevent buffer overflow
p38795
aVThen, once you know the size of your line, that's the maximum size of each string that you will require
p38796
aVUse  to your heart's content to get the actual fields
p38797
aVOne final thing
p38798
aVIt's probably a bit wasteful having  types for the integers, since you know they have a specific maximum size already
p38799
aVI'd use the non-pointer variant, something like:
p38800
aVBy way of example, here's some safe code:
p38801
aVwhich reads in your file and stores it in a linked list
p38802
aVIt outputs:
p38803
aVat the end, as expected
p38804
aVI've done a whole series of answers on the pitfalls of using  functions on non-controlled data (enter  into the search box above), some of which (here, here and here, for example) include a perennial favourite function of mine, , for safer user input
p38805
as(dp38806
g16
V14860
p38807
stp38808
a((dp38809
g2
(lp38810
VThink of files as just an easy way to split up your code to make it both more reusable and more maintainable
p38811
aVYou can just as easily put an entire application in one big honking source file but you may find that the file will get rather big, leading to the compiler complaining about it (or at least taking a long time to compile it)
p38812
aVTypically you would hive off a part of your application (such as a generic database access layer) into a separate source file such as  and create a  file with its API
p38813
aVThis file isn't so much used by  as it is used by all the other files that need to call the functions in
p38814
aVIt can be included in  but it tends to be mostly published information about the  code
p38815
aVAs to how an environment figures out which things to compile/link: you tend to have a project of some sort (makefile, IDE project file, etc) which lists all the programs that you want to compile (usually not header files)
p38816
aVThe environment will compile each source file that it has been told about to produce an object file - part of this process is incorporating the included header files into each source file, to make a compilation or translation unit - this unit is basically the source file with the included header files incorporated at the point where the  was
p38817
aVThe environment will then link all the object files to form an executable
p38818
aVKeep in mind there are variations on this process such as late (dynamic) linking
p38819
aVSee here for a description of this
p38820
as(dp38821
g16
V14860
p38822
stp38823
a((dp38824
g2
(lp38825
VYou can use an  script to do this as shown below:
p38826
aVThat's the nicely formatted version, the quick version is:
p38827
aVKeep in mind this is a specific solution to your input file format
p38828
aVXML files should generally be handled with tools specific to the job since quick'n'dirty solutions will break when the input format changes (for example, if your end tags aren't on a line of their own with no spaces either side, or if you have a sinfle line containing two tariff sections)
p38829
aVHowever, if your input file format is limited as you describe, a quick'n'dirty solution will often be faster than trying to learn how to use XML transformation tools
p38830
aVIt sometimes depends on whether you want the job done right, or done right now
p38831
as(dp38832
g16
V14860
p38833
stp38834
a((dp38835
g2
(lp38836
VMy BASIC is pretty rusty but you should just be able to use something like:
p38837
aVor, putting it in a subroutine for code re-use:
p38838
aVOf course, you probably should be using arrays for that sort of thing so you can just use:
p38839
as(dp38840
g16
V14860
p38841
stp38842
a((dp38843
g2
(lp38844
VIt's not a comparison with , it's a logical AND operation with
p38845
aVThe bit mask  is  so what the AND is doing is extracting only the top two bits:
p38846
aVThis is then compared to  (binary )
p38847
aVIn other words, the  statement is checking to see if the top two bits of the value are not equal to
p38848
aVWhy
p38849
aV, I hear you ask
p38850
aVWell, that's a good question
p38851
aVThe answer is that, in UTF-8, all bytes that begin with the bit pattern  are subsequent bytes of a multi-byte sequence:
p38852
aVSo, what this little snippet is doing is going through every byte of your UTF-8 string and counting up all the bytes that aren't continuation bytes (i
p38853
ag75
aV, it's getting the length of the string, as advertised)
p38854
aVSee this wikipedia link for more detail and Joel Spolsky's excellent article for a primer
p38855
aVAn interesting aside by the way
p38856
aVYou can classify bytes in a UTF-8 stream as follows:
p38857
aVWith the high bit set to , it's a single byte value
p38858
aVWith the two high bits set to , it's a continuation byte
p38859
aVOtherwise, it's the first byte of a multi-byte sequence and the number of leading  bits indicates how many bytes there are in total for this sequence ( means two bytes,  means three bytes, etc)
p38860
as(dp38861
g16
V14860
p38862
stp38863
a((dp38864
g2
(lp38865
VYou're correct
p38866
aVThis is going to be a single type which can hold a number of different typed values
p38867
aVThis is the first step
p38868
aVThe second step will be to add another type to this
p38869
aVTo do that, you'll add an type ID to the  and add the value itself to the union, something like:
p38870
aVAs to the reason why you have single-field structures, my guess is that they're allowing for the possibility of multi-field structures later on:
p38871
aVThat's just supposition on my part, it will probably become clear as you advance through the iterations why they chose to do it that way
p38872
as(dp38873
g16
V14860
p38874
stp38875
a((dp38876
g2
(lp38877
VFor a start, your  variable should be of type , not
p38878
aVAs for the  statement:
p38879
aVThis is first evaluating  which, in Boolean logic (and for ASCII) is true since both of them are "true" (non-zero)
p38880
aVIn other words, you'd only get the  statement to fire if you'd somehow entered CTRLA (again, for ASCII, and where a true values equates to 1)*a
p38881
aVYou could use the more correct:
p38882
aVbut you really should be using:
p38883
aVsince that's the more portable way to achieve the same end
p38884
aV*a You may be wondering why I'm putting in all sorts of conditionals for my statements
p38885
aVWhile the vast majority of C implementations use ASCII and certain known values, it's not necessarily mandated by the ISO standards
p38886
aVI know for a fact that at least one compiler still uses EBCDIC so I don't like making unwarranted assumptions
p38887
as(dp38888
g16
V14860
p38889
stp38890
a((dp38891
g2
(lp38892
VI don't mean to be the bearer of bad tidings but what you're proposing is actually a bad idea
p38893
aVI work for a company that take i18n very seriously and we've discovered (painfully) that you cannot just slot words into sentences like that, since they often make no sense
p38894
aVWhat we do is to simply disconnect the error text from the variable bits altogether, so as to avoid these problems
p38895
aVFor, example, we'll generate an error:
p38896
aVAnd then, in the description of the error, you state simply that the two values in the parentheses at the end were the Frobozz identifier and the number of zorkmids you tried to inflict on it
p38897
aVThis leaves i18n translation as an incredibly easy task since you have, at translation time, all of the language elements you need without worrying whether the variable bits should be singular or plural, masculine or feminine, first, second, or third declension (whatever the heck that actually means)
p38898
aVThe translation team simply has to convert  and that's a lot easier
p38899
aVFor those who would like to see a concrete example, I have something back from our translation bods (with enough stuff changed to protect the guilty)
p38900
aVAt some point, someone submitted the following:
p38901
aVwhere  was the name of a object (customers, orders, etc) and  was the object type itself (table, file, document, stored procedure, etc)
p38902
aVSimple enough for English, the primary (probably only) language of the developers, but they struck a problem when translating to German/Swiss-German
p38903
aVWhile the "customers document" translated correctly (in a positional sense) to , the fact that the format string had a space between the two words was an issue
p38904
aVThat was basically because the developers were trying to get the sentence to sound more natural but, unfortunately, only more natural based on their limited experience
p38905
aVA bigger problem was with the "customers stored procedure" which became , literally "stored procedure of the customers"
p38906
aVWhile the German customers may have put up with a space in , there is no way to impose  onto  successfully
p38907
aVNow you may say that a cleverer format string would have fixed this but there are several reasons why that would be incorrect:
p38908
aVthis is a very simple example, there are likely to be others more complex (I'd try get some examples but our translation bods have made it clear they have more pressing work than to submit themselves to my every whim)
p38909
aVthe whole point of the format strings is to externalise translation
p38910
aVIf the format strings themselves are specific to the translation target, you've gained very little by externalising the text
p38911
aVdevelopers should not have to concern themselves with format strings like
p38912
aVThat is the job of the translation teams since they understand the nuances
p38913
aVNote that introducing the disconnect sidesteps this issue nicely:
p38914
aVThe object specified by , of type , is invalid
p38915
aVParameter 1 = {name}
p38916
aVParameter 2 = {object}
p38917
aVDer sache nannte , dessen art  ist, ist falsch
p38918
aVParameter 1 = {name}
p38919
aVParameter 2 = {object}
p38920
aVThat last translation was one of mine, please don't use it to impugn the quality of our translators
p38921
aVNo doubt more fluent German speakers will get a good laugh out of it
p38922
as(dp38923
g16
V14860
p38924
stp38925
a((dp38926
g2
(lp38927
VFor a -only solution with no potentially expensive calls to external programs (only important if you do it a lot, which may not be the case here):
p38928
aVThe  statement detects if there's an underscore by checking a modified string against the original
p38929
aVIf there is an underscore, they will be different
p38930
aVThe  gives you the string up to the removal of the longest  pattern (in other words, it deletes everything from the first underscore to the end)
p38931
aVA (slightly) simpler variant would be:
p38932
as(dp38933
g16
V14860
p38934
stp38935
a((dp38936
g2
(lp38937
VIn regex engines that support multi-line regular expressions,  and  are usually used for start and end of line markers
p38938
aVand  are for start and end of string markers
p38939
aVFor example, the string:
p38940
aVwould match  twice (for names and James) but  only once (for James)
p38941
as(dp38942
g16
V14860
p38943
stp38944
a((dp38945
g2
(lp38946
VIf you don't control the source for the program you're wrapping, and it doesn't already provide a facility to receive input in another way, you're going to find it difficult at best
p38947
aVOne possibility would be to intercept the file open and access calls used by the program though this is a horrible way to do it
p38948
aVIt would probably involve injecting your own runtime libraries containing (for C) , ,  and so on, between the program and the real libraries (such as using  or something similar), and that's assuming it's not statically linked
p38949
aVNot something for the faint of heart
p38950
aVIf you're worried about people being able to see your file, there's plenty of ways to avoid that, such as by creating it with  permissions in a similarly protected directory (assuming UNIX-like OS)
p38951
aVThat's probably safer than using command line arguments which any joker logged in could find out with a  command
p38952
aVIf you just don't want the hassle of creating a file, I think you'll find the hassle of avoiding it is going to be so much more
p38953
aVDepending on what you're really after, it wouldn't take much to put together a program that accepted arguments, wrote them to a temporary file, called the real program with that temporary file name, then deleted the file
p38954
aVIt would still be being written to disk, but that would no longer be the responsibility of your wrapper program
p38955
aVSomething along the lines of (a bit rough, but you should get the idea):
p38956
as(dp38957
g16
V14860
p38958
stp38959
a((dp38960
g2
(lp38961
VIt's because the naked  in your replacement string is actually terminating the  command, meaning the shell is trying to process the line
p38962
aVThis actually became immediately obvious when Benoit's edit caused your question to syntax-colour correctly
p38963
aVYou can see the second  on the line (the first character of the substitution text) changed the colour from red to black due to the string termination
p38964
aVIn addition,  won't like the use of naked  since they indicate character classes in regular expressions
p38965
aVYou can fix both problems with:
p38966
aVwhich outputs:
p38967
aVSo basically, escape the square brackets in the search string so they're treated as literals and use  in the replacement string instead of
p38968
as(dp38969
g16
V14860
p38970
stp38971
a((dp38972
g2
(lp38973
VFrom a comment from Arch Robison, and it doesn't get much more "horse's mouth" than that (a):
p38974
aVPPL's  has no blocking pop, hence neither does
p38975
aVThe blocking pop is available in
p38976
aVThe design argument for omitting blocking pop is that in many cases, the synchronization for blocking is provided outside of the queue, in which case the implementation of blocking inside the queue becomes unnecessary overhead
p38977
aVOn the other hand, the blocking pop of the old  was popular among users who did not have outside synchronization
p38978
aVSo we split the functionality
p38979
aVUse cases that do not need blocking or boundedness can use the new , and use cases that do need it can use
p38980
aV(a) Arch is the architect of Threading Building Blocks
p38981
as(dp38982
g16
V14860
p38983
stp38984
a((dp38985
g2
(lp38986
VThere are a number of ways to achieve this, some of which are:
p38987
aVuse  to basically wait on a group of file descriptors until one of them is ready for reading or writing
p38988
aVuse threading, such as , to hand off individual sessions to separate threads within the one process
p38989
aVuse  to replicate the process for handling a session, so that the forked process handles that session and the original goes back to waiting for more connections
p38990
aVOf these, I prefer the middle one
p38991
aVForking a process is a sometimes-expensive operation in that the data normally has to be copied if either process attempts to change it
p38992
aVThe  option means that your code has to manage multiple sessions and that can sometimes get messy
p38993
aVWith threading, you can separate relatively easily the sessions from each other, without incurring the cost of process duplication
p38994
aVOf course, threading has its own pitfalls if you're not careful but I consider it a preferable option once you understand the potential problem areas
p38995
as(dp38996
g16
V14860
p38997
stp38998
a((dp38999
g2
(lp39000
VQuite simply (at least for me) because some people like to be able to treat user defined types as "primary" types
p39001
aVJust like I wouldn't like to have to say:
p39002
aVI prefer:
p39003
aVto:
p39004
aVIn fact, I usually get rid of the structure tag altogether, preferring:
p39005
aVThe only time I genarally use the tag is if I have to refer to the type within the type definition itself, such as in linked lists:
p39006
aVThat's because, at the time of creating the definition,  doesn't yet exist but  does (you can think of it as a simple sequencing thing if that makes it easier -  gets created on line 1 above,  on line 4, which means on line 3 where you create the  pointer, you have to use the structure name)
p39007
aVIn the case you cite, the structure tag is superfluous at least in the code shown
p39008
aVWhether some other piece of the code declares a variable with the structure name rather than the typedef name is unclear
p39009
as(dp39010
g16
V14860
p39011
stp39012
a((dp39013
g2
(lp39014
VI see the following problems:
p39015
aVdoes not free the memory for its  object
p39016
aVwon't free the element if the data allocation fails
p39017
aVThis doesn't matter that much since you're exiting but it would be good form in case you ever decide to return an error (in other words, it will stop a memory leak)
p39018
aVHowever, I've tested that code by inserting a new element, an element before that one then an element at the end, and it seems fine
p39019
aVWhat priority values are you inserting (in order)
p39020
aVAnd you may want to post the code that's calling this code
p39021
aVIt's quite possible it may be a memory corruption issue unrelated to this actual code
p39022
aVWhile I appreciate your attempt in introducing the  stuff to keep your code nice, you really should just bite the bullet and get rid of it
p39023
aVIts removal will probably more than offset the minimal amount of extra code you're going to have to add for handling a truly empty list
p39024
aVThis simpler code should handle all scenarios without the added processing required to keep extra pointers synchronised
p39025
aVI haven't actually tested this other than in my wetware but it should (hopefully) work okay:
p39026
ag5385
ag5385
ag5385
aVKeep in mind that  makes a copy of the memory so that you can pass it dynamically allocated memory or otherwise
p39027
aVThat function doesn't accept responsibility for freeing any allocated memory that you pass to it
p39028
aVIf it's dynamically allocated, you still have to free it yourself
p39029
aVIt was done this way so you could pass in any sort of memory
p39030
aVOn the other hand,  just passes you back the allocated memory so you are responsible for freeing it when you're done
p39031
aVThe memory you receive will have always been obtained via
p39032
aVYou could optimise  so that you could specify that the memory being passed in is allocated via  and you are passing responsibility by changing the first part of the function from:
p39033
aVto:
p39034
aVIn other words, set the final parameter to true if the data was obtained via  and you agree to give up responsibility for it - that way, the function just takes your memory block as is
p39035
aVOtherwise, use false and a copy will be made
p39036
as(dp39037
g16
V14860
p39038
stp39039
a((dp39040
g2
(lp39041
VIn standard C (C99), you can use  to do this:
p39042
aVBy the way, this assumes  returns a 1-second resolution value
p39043
aVI don't think that's mandated by the standard so you may have to adjust for it
p39044
aVIn order to clarify, this is the only way I'm aware of to do this with ISO C99 (and the question is tagged with nothing more than "C" which usually means portable solutions are desirable although, of course, vendor-specific solutions may still be given)
p39045
aVBy all means, if you're on a platform that provides a more efficient way, use it
p39046
aVAs several comments have indicated, there may be specific problems with a tight loop like this, with regard to CPU usage and battery life
p39047
aVAny decent time-slicing OS would be able to drop the dynamic priority of a task that continuously uses its full time slice but the battery power may be more problematic
p39048
aVHowever C specifies nothing about the OS details in a hosted environment, and this answer is for ISO C and ISO C alone (so no use of , , Win32 API calls or anything like that)
p39049
aVAnd keep in mind that POSIX  can be interrupted by signals
p39050
aVIf you are going to go down that path, you need to do something like:
p39051
as(dp39052
g16
V14860
p39053
stp39054
a((dp39055
g2
(lp39056
VAn integrated development environment is generally a whole bunch of tools integrated into one
p39057
aVThis includes editor, compiler, debugger and whatever other tools you may want to add
p39058
aVBack in pre-history, we used to use an editor to edit the files, then we would exit and use a compiler, then a linker to produce the final product (actually, when I first started, we used punch cards and 80x25 data entry sheets and handed them to data entry operators for input into the computer, but I don't want to bore the youngsters among you)
p39059
aVNowadays we just press the  key or, if you use Emacs,
p39060
aVCTRLALTMETAOPEN-APPLEATTNLEFT-SHIFTRIGHT_SHIFTB
p39061
aVwhile holding our heads inclined at an angle of 22
p39062
aV5o to the Earth's magnetic field and biting the head off a chicken :-)
p39063
aVSome IDEs (such as Eclipse) provide a plug-in environment where people can create plug-ins to add many tools to the standard ones
p39064
aVThink in terms of:
p39065
aVsource code control and versioning
p39066
aVsupport for multiple (computer) languages
p39067
aVrefactoring tools
p39068
aVdirect publishing of applications to environments (such as EAR files to an application server)
p39069
aVextraction of strings for internationalisation
p39070
aVand so on, ad near infinitum
p39071
as(dp39072
g16
V14860
p39073
stp39074
a((dp39075
g2
(lp39076
VHere's my initial algorithm:
p39077
aVThis has the (very slight) advantage is that there's no O(n^2) shuffling for the first 100 elements, just an O(n log n) sort and that you very quickly identify and throw away those that are too small
p39078
aVIt also uses a binary search (7 comparisons max) to find the correct insertion point rather than 50 (on average) for a simplistic linear search (not that I'm suggesting anyone else proffered such a solution, just that it may impress the interviewer)
p39079
aVYou may even get bonus points for suggesting the use of optimised  operations like  in C provided you can be sure the overlap isn't a problem
p39080
aVOne other possibility you may want to consider is to maintain three lists (of up to 100 integers each):
p39081
aVI'm not sure, but that may end up being more efficient than the continual shuffling
p39082
aVThe merge-sort is a simple selection along the lines of (for merge-sorting lists 1 and 2 into 3):
p39083
aVSimply put, pulling the top 100 values out of the combined list by virtue of the fact they're already sorted in descending order
p39084
aVI haven't checked in detail whether that would be more efficient, I'm just offering it as a possibility
p39085
aVI suspect the interviewers would be impressed with the potential for "out of the box" thinking and the fact that you'd stated that it should be evaluated for performance
p39086
aVAs with most interviews, technical skill is one of the the things they're looking at
p39087
as(dp39088
g16
V14860
p39089
stp39090
a((dp39091
g2
(lp39092
VA good PM does not estimate
p39093
aVEver
p39094
aVA good PM will get an estimate from the person who is going to do the work
p39095
aVThey will not change it
p39096
aVThey may try to coax the worker to change it but, since the worker is the one doing the job, they should be controlling the estimate
p39097
aVIf you have a PM who cuts your estimate in half, make sure your estimate was in writing and then use that to explain to him (sorry for the gender bias, English doesn't really have a good neutral pronoun) and hopefully his boss that the reason your work only seems half finished is because he was screwing around with your estimates
p39098
aVTactfully point out that, if they're not going to take your estimates seriously, they should leave you alone and just pluck any old number out of their derrire
p39099
aVThat will have the same effect of missed deadlines and unhappy customers but without you wasting time providing numbers that are just going to be ignored anyway
p39100
aVIn any case, the cold war between bad PMs and smart developers will naturally lead to the situation where you should initially double your estimates so that the halving will have little effect :-)
p39101
as(dp39102
g16
V14860
p39103
stp39104
a((dp39105
g2
(lp39106
VIf a client isn't happy with a time estimate, don't do the work
p39107
aVIf they think they can do it better or faster, tell them to go ahead
p39108
aVThe one thing I never allow is for my estimates to be modified
p39109
aVThat's something that caught me out early on in my career but we learn our lessons
p39110
aVIf clients were so good at doing the work, they wouldn't be hiring me
p39111
aVI'd simply point out that they hired me for my expertise so why are they disregarding that expertise
p39112
aVOf course, if they were to allow the scope of the project to change (i
p39113
ag75
aV, less work), that would be another matter, and one up for discussion
p39114
aVIf you didn't lock in exactly what they were meant to provide as part of the deal, then it's a "he says, she says" situation and, unfortunately, the customer controls the purse strings
p39115
aVHowever, often, the greatest power you can have is the ability to just walk away
p39116
aVNo-one says you have to do the job
p39117
aVOf course, all that advice above is worth every cent you paid for it :-)
p39118
aVI don't know your specific circumstances
p39119
as(dp39120
g16
V14860
p39121
stp39122
a((dp39123
g2
(lp39124
VIt's typically either <- Backspace () or DEL ()
p39125
aVSince backspace will almost always render as  (CTRLH), I would suggest  is the one to try
p39126
as(dp39127
g16
V14860
p39128
stp39129
a((dp39130
g2
(lp39131
VYou need to at least give it some strings to look for
p39132
aVThat error message is the one you get if it doesn't think you've provided a search string (everything else is optional):
p39133
aVC:\u005cDocuments and Settings\u005cPax> findstr /
p39134
aVSearches for strings in files
p39135
aVFINDSTR [/B] [/E] [/L] [/R] [/S] [/I] [/X] [/V] [/N] [/M] [/O] [/P] [/F:file]
p39136
aV[/C:string] [/G:file] [/D:dir list] [/A:color attributes] [/OFF[LINE]]
p39137
aVstrings [[drive:][path]filename[
p39138
aV/B         Matches pattern if at the beginning of a line
p39139
aV/E         Matches pattern if at the end of a line
p39140
aV/L         Uses search strings literally
p39141
aV/R         Uses search strings as regular expressions
p39142
aV/S         Searches for matching files in the current directory and all
p39143
aVsubdirectories
p39144
aV/I         Specifies that the search is not to be case-sensitive
p39145
aV/X         Prints lines that match exactly
p39146
aV/V         Prints only lines that do not contain a match
p39147
aV/N         Prints the line number before each line that matches
p39148
aV/M         Prints only the filename if a file contains a match
p39149
aV/O         Prints character offset before each matching line
p39150
aV/P         Skip files with non-printable characters
p39151
aV/OFF[LINE] Do not skip files with offline attribute set
p39152
aV/A:attr    Specifies color attribute with two hex digits
p39153
aVSee "color /
p39154
aV/F:file    Reads file list from the specified file(/ stands for console)
p39155
aV/C:string  Uses specified string as a literal search string
p39156
aV/G:file    Gets search strings from the specified file(/ stands for console)
p39157
aV/D:dir     Search a semicolon delimited list of directories
p39158
aVstrings    Text to be searched for
p39159
aV[drive:][path]filename
p39160
aVSpecifies a file or files to search
p39161
aVUse spaces to separate multiple search strings unless the argument is prefixed
p39162
aVwith /C
p39163
aVFor example, 'FINDSTR "hello there" x
p39164
aVy' searches for "hello" or
p39165
aVthere" in file x
p39166
aVy
p39167
aV'FINDSTR /C:"hello there" x
p39168
aVy' searches for
p39169
aVhello there" in file x
p39170
ag39167
aVRegular expression quick reference:
p39171
aVWildcard: any character
p39172
aV*        Repeat: zero or more occurances of previous character or class
p39173
aV^        Line position: beginning of line
p39174
aV$        Line position: end of line
p39175
aV[class]  Character class: any one character in set
p39176
aV[^class] Inverse class: any one character not in set
p39177
aV[x-y]    Range: any characters within the specified range
p39178
aV\u005cx       Escape: literal use of metacharacter x
p39179
aV\u005c    Word position: end of word
p39180
aVFor full information on FINDSTR regular expressions refer to the online Command
p39181
aVReference
p39182
aVFor example, this shows how you can use regular expressions:
p39183
aVC:\u005cDocuments and Settings\u005cPax> type qq
p39184
aVcmd
p39185
aV@setlocal enableextensions enabledelayedexpansion
p39186
aV@echo off
p39187
aVset startdir=%cd%
p39188
aVset temp=%startdir%
p39189
aVset folder=
p39190
aV:loop
p39191
aVif not "x%temp:~-1%"=="x/" (
p39192
aVset folder=
p39193
aVtemp:~-1
p39194
aVfolder
p39195
aVset temp=
p39196
aVtemp:~1,-1
p39197
aVgoto :loop
p39198
ag38594
aVecho
p39199
aVstartdir = %startdir%
p39200
aVecho
p39201
aVfolder   = %folder%
p39202
aVendlocal
p39203
aVC:\u005cDocuments and Settings\u005cPax> findstr d
p39204
aVr% qq
p39205
aVcmd
p39206
aVset temp=%startdir%
p39207
aVecho
p39208
aVstartdir = %startdir%
p39209
aVecho
p39210
aVfolder   = %folder%
p39211
aVC:\u005cDocuments and Settings\u005cPax> findstr
p39212
aVFINDSTR: Bad command line
p39213
as(dp39214
g16
V14860
p39215
stp39216
a((dp39217
g2
(lp39218
VAn earlier version of MSVC had this "misfeature" in that it leaked those variables into the enclosing scope
p39219
aVIn other words, it treated:
p39220
aVthe same as:
p39221
aVSee the answers to this question I asked about a strange macro definition, for more detail
p39222
as(dp39223
g16
V14860
p39224
stp39225
a((dp39226
g2
(lp39227
V is simply an  operating followed by
p39228
aVIn terms of implementing the other boolean operations with just :
p39229
as(dp39230
g16
V14860
p39231
stp39232
a((dp39233
g2
(lp39234
VWhen you  a value like  the scanning will stop at the decimal point and return 1
p39235
aVThe next time you call , the pointer will still point to the decimal point and your scan will return immediately because there are no digits there to scan
p39236
aVYou should be checking the return value from  - it gives you the number of items successfully scanned which will be 1 initially for the  before the decimal point, and 0 from then on
p39237
aVAs an aside,  stands for "scan formatted" and I'll guarantee you won't find anything more unformatted than user input
p39238
aVInvestigate looking into  for line input
p39239
aVHere's a copy of a function I often use for such purposes:
p39240
ag5385
aVOnce you get a line in with that function, you can  it to your heart's content, handling errors much easier
p39241
as(dp39242
g16
V14860
p39243
stp39244
a((dp39245
g2
(lp39246
VActually bittorrent is a protocol
p39247
aVThe original program which implemented bittorrent may have been written in Python but that's not the case now
p39248
aVA lot of them now are coded in compiled languages, Transmission being the one I'm most familiar with (comes with Ubuntu) - it uses gcc
p39249
as(dp39250
g16
V14860
p39251
stp39252
a((dp39253
g2
(lp39254
VAs a general answer, the first will require the C++ runtime libraries (the stuff you need to support the standard library calls)
p39255
aVThese form an interface of sorts between the language and the support libraries, which in turn know how to achieve what they do in the given environment
p39256
aVThe second makes no use of the runtime libraries
p39257
aVIt will use the C startup and termination code (that initialises and tears down the C environment) but it's a discussion point as to whether or not these are considered part of the runtime libraries
p39258
aVIf you consider them a part, then , yes, they will be used
p39259
aVIt will probably be a very small part used since there's usually a big difference in size between startup code and the streams stuff
p39260
aVYou can link your code statically (binding at link time) with runtime libraries or dynamically (so that the actual binding is done at load time)
p39261
aVThat's true for both Windows and Linux
p39262
as(dp39263
g16
V14860
p39264
stp39265
a((dp39266
g2
(lp39267
VYou need an array of chars because, well, you have to store the characters somewhere
p39268
aVYou could store them in a  but then you would have little need of a , whose raison d'etre is to be more efficient than a  (you generaly use the more efficient  to construct a string, then use  to get a real  object)
p39269
aVThe length would be used to specify the length of the
p39270
aVYou may thing you could just use the length of the character array but it's actually more efficient, when reducing the size of the , to not re-allocate a smaller array, especially if you may just end up needing more anyway
p39271
aVThe  constructor you would need for this scheme would be  using an offset of zero and a count of
p39272
aVThis would allow you to use only the desired subset of the  array
p39273
as(dp39274
g16
V14860
p39275
stp39276
a((dp39277
g2
(lp39278
VThe commands you need to look at are:
p39279
aVwhich can be used to find files (including those of a certain age (such as with the  option) and name (such as )
p39280
aVeither  or  for compressing
p39281
aVeither  or  for sending mail
p39282
aVThose aren't necessarily an exhaustive list of the potential programs for doing those tasks but they should be available on the vast majority of UNIX-like boxes
p39283
aVIf you need help with those specific commands, your best bet is to first look into executing (for example):
p39284
aVto see how they work
p39285
as(dp39286
g16
V14860
p39287
stp39288
a((dp39289
g2
(lp39290
VThe idea behind balance (in general balanced tree data structures) is that the difference in depths between any two sub-trees is zero or one (depending on the tree)
p39291
aVIn other words, the number of comparisons used to find a leaf node is always similar
p39292
aVSo yes, you can end up in the situation you describe, simply because the depths are the same
p39293
aVThe number of elements in each node is not a concern to the balance (but see below)
p39294
aVThis is perfectly legal even though there's more items in the left node than the right (null pointers are not shown):
p39295
aVHowever, it's very unusual to have a 3-4 BTree (some would actually say that's not a BTree at all, but some other data structure)
p39296
aVWith BTrees, you usually have an even number of keys as maximum in each node (e
p39297
ag1775
aV, a 4-5 tree) so that the splitting and combining is easier
p39298
aVWith a 4-5 tree, the decision as to which key is promoted when a node fills up is easy - it's the middle one of the five
p39299
aVThat's not such a clear-cut matter with a 3-4 tree since it could be one of two (there is no definite middle for four elements)
p39300
aVIt also allows you to follow the rule that your nodes should contain between  and  elements
p39301
aVIn addition (for "proper" BTrees), the leaf nodes are all at the same depth, not just within one of each other
p39302
aVIf you added the following values to an empty BTree, you could end up with the situation you describe:
p39303
as(dp39304
g16
V14860
p39305
stp39306
a((dp39307
g2
(lp39308
VISO C (C99), section , states that an implementation must choose one of three different representations for integral data types, two's complement, one's complement or sign/magnitude (although it's incredibly likely that the two's complement implementations far outweigh the others)
p39309
aVIn all those representations, positive numbers are identical, the only difference being the negative numbers
p39310
aVTo get the negative representation for a positive number, you:
p39311
aVinvert all bits then add one for two's complement
p39312
aVinvert all bits for one's complement
p39313
aVinvert just the sign bit for sign/magnitude
p39314
aVYou can see this in the table below:
p39315
aVKeep in mind that ISO doesn't mandate that all bits are used in the representation
p39316
aVThey introduce the concept of a sign bit, value bits and padding bits
p39317
aVNow I've never actually seen an implementation with padding bits but, from the C99 rationale document, they have this explanation:
p39318
aVSuppose a machine uses a pair of 16-bit shorts (each with its own sign bit) to make up a 32-bit int and the sign bit of the lower short is ignored when used in this 32-bit int
p39319
aVThen, as a 32-bit signed int, there is a padding bit (in the middle of the 32 bits) that is ignored in determining the value 20 of the 32-bit signed int
p39320
aVBut, if this 32-bit item is treated as a 32-bit unsigned int, then that padding bit is visible to the user\u2019s program
p39321
aVThe C committee was told that there is a machine that works this way, and that is one reason that padding bits were added to C99
p39322
as(dp39323
g16
V14860
p39324
stp39325
a((dp39326
g2
(lp39327
VTrying to make this as opaque as possible given the homework tag, you should, at a minimum, re-examine your initial value of
p39328
aVThe way you have it, you will end up with something other than the desired
p39329
aVAs to your specific question on how to get the arguments from the command line, the following prints out all the arguments and would form a good basis for your own code:
p39330
as(dp39331
g16
V14860
p39332
stp39333
a((dp39334
g2
(lp39335
VIf you want to implement a capacity limit to a linked list, the best way is to have a per-list limitation
p39336
aVThe following structures will allow that:
p39337
aVThen you initialise your limit per list:
p39338
aVAfter that, adding a node will fail if the  is zero, otherwise it will add a node and decrement
p39339
aVRemoving a node will increase , something like:
p39340
ag5385
aVNotice how all the normal error conditions are there (no memory, list empty and so on) as well as the extra limitation of trying to add a node when you've already reached full capacity (when  is zero)
p39341
as(dp39342
g16
V14860
p39343
stp39344
a((dp39345
g2
(lp39346
VWith TCP, you can only have one process listening on a port but, when it accepts the connection (as yours does), you get a whole different socket descriptor to carry on the session, so you can go back and listen on the original socket descriptor for another connection
p39347
aVThe uniqueness in TCP is at the session level
p39348
aVIn other words, the 5-tuple (source-ip, source-port, dest-ip, dest-port, protocol) must be unique in order for packets to not become confused about where they're going
p39349
aVYou can have thousands of clients talking to a given dest-ip/dest-port pair (like the large number of people hitting  right now)
p39350
aVSo yes, you are allowed to do what you're doing
p39351
aVWhat you may find is, if you try to bind to that port while there are still sessions in TIME_WAIT state, you won't be allowed to bind
p39352
aVThis is to stop any live packets from a previous session on the network from coming in and spoiling your session
p39353
aVMore information on TIME_WAIT and why it's needed can be found in this excellent answer :-)
p39354
as(dp39355
g16
V14860
p39356
stp39357
a((dp39358
g2
(lp39359
VISO C is the C standard
p39360
aVThe current one is C99 but C1x is right around the corner
p39361
aVIf by rapid, you mean a new standard every decade or so, then yes, it is rapidly evolving :-)
p39362
aVSection 6
p39363
ag630
ag6296
aV4/3 of ISO C99 states:
p39364
aVWhen applied to an operand that has type char, unsigned char, or signed char, (or a qualified version thereof) the result is 1
p39365
aVWhen applied to an operand that has array type, the result is the total number of bytes in the array
p39366
as(dp39367
g16
V14860
p39368
stp39369
a((dp39370
g2
(lp39371
VStrange,  is normally used to indicate a record set rather than a command but to each their own, I guess
p39372
aVI see some potential issues
p39373
aVI'm not entirely certain of the difference since my exposure to VB6 was pleasantly brief but all the code I did had:
p39374
aVin it (i
p39375
ag75
aV, with the  keyword)
p39376
aVThat may be causing a problem
p39377
aVI also assume you have some code between that second  and the , yes
p39378
aVBecause otherwise, you're not actually opening a connection for use
p39379
aVThere's some tutorial code here which may be of assistance
p39380
aVI'd say "Enjoy
p39381
aVbut I don't think that's an option :-)
p39382
as(dp39383
g16
V14860
p39384
stp39385
a((dp39386
g2
(lp39387
VThere is no concept of real or virtual memory in the C standard so the question is meaningless
p39388
aVAn implementation is free to do it however it wishes
p39389
aVIn a virtual-memory OS, you will almost certainly get a virtual address
p39390
aVIn a non-virtual-memory OS, you probably won't
p39391
aVWhat you will get in both cases is an address you can use for all the usual things C provides addresses for, such as de-referencing, freeing, reallocating and so forth
p39392
aVThat is your only guarantee, and also the only thing you usually need to concern yourself with
p39393
aVIt's free to give you a list of sequential IDs (1, 2, 3,
p39394
aVif it wishes, provided all the expected operations still work as advertised
p39395
aVGranted that may not be very efficient in the current architectures but it's still workable
p39396
as(dp39397
g16
V14860
p39398
stp39399
a((dp39400
g2
(lp39401
VTo be honest, modular is going to be about as much as you'll come up with, simply because that's the basic idea behind it
p39402
aVYou could probably call on the old favourites,  and , meaning that the three parts have a very small interface between them but each part in itself is fully self-contained
p39403
aVOr, although it's not as pithy (nor technically an adjective),
p39404
aVIn other words, the model is all the data-based stuff with no presentation or control information, similarly the controller part knows nothing about the data or how it's viewed, instead containing only control flow
p39405
aVBeyond that, I can't provide much more help without referring to a thesaurus
p39406
as(dp39407
g16
V14860
p39408
stp39409
a((dp39410
g2
(lp39411
VYes, you simply define an array of your 32-bit integers
p39412
aVThen you manipulate a specific element of the array
p39413
aVGiven a bit ID from 0 through 255 inclusive (for example), that would be an array:
p39414
aVIn order to find which element to operate on:
p39415
aVTo get the masks for a given bit ID:
p39416
aVIf you have the  type available in your implementation, that's probably the safest way to go
p39417
aVOtherwise, there are known methods for using  using  and  to actually figure out at runtime how big to make the  array and what values you should use for discovering the array index and bitmask index
p39418
aVFor example, this snippet from my code library shows how I did it for a character-based bitmask:
p39419
aVand using:
p39420
aVfor clearing and setting bits respectively
p39421
aVIf you wanted to use  instead of  you would simply calculate the number of bits for that:
p39422
aVand use it where I've used  above (the  array can be dynamically allocated at runtime if need be)
p39423
as(dp39424
g16
V14860
p39425
stp39426
a((dp39427
g2
(lp39428
VThat's pretty much exactly how I've done it in the past
p39429
aVNote that this doesn't actually guarantee that all the threads have started before the first one starts doing something, just that the main thread has created them
p39430
aVIn order to do that, you can use something like the following method:
p39431
aVWhatever initialisation a thread has to do to be considered started will occur between the  and the
p39432
aVI see from further investigation that barriers are actually a more elegant way to do this
p39433
aVThey weren't actually available in the pthread implementations I used which is why my code may seem a little verbose
p39434
aVHowever, I'll leave it as-is on the off-chance that someone uses pre-v6 pthreads or a different threading method (without barriers) and because, as the question asked, this is a different way of doing it
p39435
as(dp39436
g16
V14860
p39437
stp39438
a((dp39439
g2
(lp39440
VIf it's being run for a user, let's see, what sort of storage exists that is user-specific
p39441
aVHmmm
p39442
aVThat's it
p39443
aVThe home directory
p39444
aVI knew it would come to me eventually :-)
p39445
aVSorry for the light jab
p39446
aVSeriously, I would just stash the PID into  or  (how you name the file is up to you of course)
p39447
aVThis is, of course, assuming you will only have one daemon running for a user
p39448
aVIf not, you'll need to be a bit trickier
p39449
aVAnd hopefully allaying your fears that a user will inadvertently delete unknown files in their home directory, that's why you make it "hidden" by starting it with a  character
p39450
aVMost non-experienced users should never even see these and experienced users should know better than to muck about with them
p39451
as(dp39452
g16
V14860
p39453
stp39454
a((dp39455
g2
(lp39456
VThat's not actually an easy question (even without taking into account differences between individulas)
p39457
aVWikipedia  has a good article explaining why
p39458
aVFor what it's worth, I think cinema films run at 24fps so, if you're happy with that, that's what I'd consider realtime
p39459
as(dp39460
g16
V14860
p39461
stp39462
a((dp39463
g2
(lp39464
VThe best database to store banking transactions is the one the banks use, DB2/z
p39465
aVBut, since I doubt you'd be able to afford a System z mainframe, that's probably not an option
p39466
aVThat doesn't make it any less the best database of course
p39467
aVIf, however, you're talking about storing transaction for Joe Bloggs or Dodgy Brothers Rug Emporium (as opposed to the two hundred million or so customers of ICBC), pretty well any database will be up to the task - Oracle (despite its inability to differentiate NULLs from empty strings), SQL Server, MySQL PostgreSQL, even SQLite probably
p39468
as(dp39469
g16
V14860
p39470
stp39471
a((dp39472
g2
(lp39473
VI think your problem is because you are executing either:
p39474
aVor:
p39475
aVIn both those cases, they run in a subshell which means the export is in that subshell, not the shell you're calling them from
p39476
aVYou can either use the short form of :
p39477
aVor create an alias:
p39478
aVin your  or other startup scripts
p39479
aVThat latter solution will allow you to just execute:
p39480
aVto do the work
p39481
as(dp39482
g16
V14860
p39483
stp39484
a((dp39485
g2
(lp39486
VYou can use the  statement do do this
p39487
aVHere's a script which lets you run it with something like:
p39488
aVand it will output :
p39489
as(dp39490
g16
V14860
p39491
stp39492
a((dp39493
g2
(lp39494
VYou should think about using  arrays for this sort of work:
p39495
as(dp39496
g16
V14860
p39497
stp39498
a((dp39499
g2
(lp39500
VYou need to think what will happen if your two strings are as follows:
p39501
aVBecause you're simply advancing the pointers while the contents are equal, you may end up reading memory in a way that's undefined
p39502
aVA better way is to base your code of the following pseudo-code:
p39503
aVThis will stop when you either reach the end of the first string or you find a difference (including if you've reached the end of the second string before the first)
p39504
as(dp39505
g16
V14860
p39506
stp39507
a((dp39508
g2
(lp39509
VDoesn't work in what way
p39510
aVThe normal way to "unset" a pointer in C++ is with:
p39511
aVbut what you have should be fine, assuming you've included the correct headers or otherwise have the correct definition for
p39512
aVAs an aside, you should first call  on that memory before losing the pointer, otherwise you'l have a memory leak (and this is assuming you have a good reason to use C-style  instead of the more kosher C++ )
p39513
as(dp39514
g16
V14860
p39515
stp39516
a((dp39517
g2
(lp39518
VWell, that is a tricky one
p39519
aVHave you considered hiding the panel with the  event for every control except the panel and the edit field
p39520
aVIn other words, the panel will not hide itself when you exit the edit field and enter the panel but it will hide itself once it has performed its work
p39521
aVExiting the edit field and entering any field other than the panel will also cause the panel to hide
p39522
aVNone of that is driven by the edit field , more by the other fields as you enter them
p39523
aVIt's convoluted but it may just work
p39524
aVSee the table below for conditions and their associated actions:
p39525
as(dp39526
g16
V14860
p39527
stp39528
a((dp39529
g2
(lp39530
VYou really shouldn't store your data like that since it makes queries horribly inefficient
p39531
aVFor that particular use case, you can (if you don't care about performance) use:
p39532
aVThis will alleviate your concerns about partial matches since something like  will not match any of those conditions but  in any position will match
p39533
aVHowever, despite your protestations to the contrary, what you should do is re-engineer your schema, something like:
p39534
aVThen your queries will be blindingly fast
p39535
aVOne of the first things you should loearn is to always design your schema for third normal form
p39536
aVYou can revert to other forms for performance once you understand the trade-offs (and know how to mitigate problems) but it's rarely necessary unless you database is horribly convoluted
p39537
as(dp39538
g16
V14860
p39539
stp39540
a((dp39541
g2
(lp39542
VThat's what transactions are for:
p39543
aVThe  in  means atomicity, in short a guarantee that a transaction is either wholly done or not done at all
p39544
aVIt is never partly done (with the exceptions of within the transaction itself and certain isolation levels, neither which you should concern yourself with yet)
p39545
as(dp39546
g16
V14860
p39547
stp39548
a((dp39549
g2
(lp39550
VYou should be able to discern this with
p39551
aVThe  option prevent a single line containing  from being treated as a message terminator (on the off chance that a valid message may contain a line like that) while  means that it will get the recipient list from the message headers (,  and ) as well as the command line (which may well be empty so you probably want to scan the headers)
p39552
as(dp39553
g16
V14860
p39554
stp39555
a((dp39556
g2
(lp39557
VYou may want to rethink this strategy
p39558
aVIn similar situations, I've often found it invaluable to leave the old configuration rows lying around for historical information
p39559
aVTo do that, you actually have an extra column  (date/time of insertion or update) and an insert or insert/update trigger which will populate it correctly with the current date/time
p39560
aVThen, in order to get your current configuration, you use something like:
p39561
aV(depending on your DBMS flavour)
p39562
aVThat way, you still get to maintain the history for recovery purposes (you can institute cleanup procedures if the table gets too big but this is unlikely) and you still get to work with the latest configuration
p39563
as(dp39564
g16
V14860
p39565
stp39566
a((dp39567
g2
(lp39568
VThat's correct
p39569
aVWhat you're doing in the first case is bypassing the thread-safety nature of
p39570
aVWith many non-thread-safe functions, persistent state is stored between calls to that function (such as the random seed here)
p39571
aVWith the thread-safe variant, you actually provide a thread-specific piece of data ( and ) to ensure the state is not shared between threads
p39572
aVKeep in mind that this doesn't make the numbers truly random, it just makes the sequences independent of each other
p39573
aVIf you start them with the same seed, you'll probably get the same sequence in both threads
p39574
aVBy way of example, let's say you get a random sequence 2, 3, 5, 7, 11, 13, 17 given an initial seed of 0
p39575
aVWith a shared seed, alternating calls to  from two different threads would cause this:
p39576
aVand that's the best case - you may actually find that the shared state gets corrupted since the updates on it may not be atomic
p39577
aVWith non-shared state (with  and  representing the two different sources of the random numbers):
p39578
aVSome thread-safe calls require you to provide the thread-specific state like this, others can create thread-specific data under the covers (using a thread ID or similar information) so that you never need to worry about it, and you can use exactly the same source code in threaded and non-threaded environments
p39579
aVI prefer the latter myself, simply because it makes my life easier
p39580
aVAdditional stuff for edited question:
p39581
aVAssuming you want a value between  and  inclusive, use
p39582
aVThe first bit gives you a value from  to  inclusive, then you add 1 to get the desired range
p39583
aVThe seed has to be persistent as long as you're using it
p39584
aVYou could dynamically allocate it in the thread but you could also declare it in the thread's top-level function
p39585
aVIn both those cases, you'll need to communicate the address down to the lower levels somehow (unless your thread is just that one function which is unlikely)
p39586
aVYou could either pass it down through the function calls or set up a global array somehow where the lower levels can discover the correct seed address
p39587
aVAlternatively, since you need a global array anyway, you can have a global array of seeds rather than seed addresses, which the lower levels could use to discover their seed
p39588
aVYou would probably (in both cases of using the global array) have a keyed structure containing the thread ID as a key and the seed to use
p39589
aVYou would then have to write your own  routine which located the correct seed and called  with that
p39590
aVThis is why I prefer library routines which do this under the covers with thread-specific data
p39591
as(dp39592
g16
V14860
p39593
stp39594
a((dp39595
g2
(lp39596
VYour problem with your original code is that you will output your newline for every whitespace character
p39597
aVYou only want to do it when transitioning from word to non-word:
p39598
aVChange:
p39599
aVto:
p39600
aVIn fact, what I originally thought I'd suggest would be an enumeration for the states along the lines of:
p39601
aVbut, for a simple finite state machine with only two states, you can just use an boolean:
p39602
as(dp39603
g16
V14860
p39604
stp39605
a((dp39606
g2
(lp39607
VIn standard C (and, I believe, C++ as well), you can't, at least not for a hosted environment (but see below)
p39608
aVThe standard specifies that the starting point for the C code is
p39609
aVThe standard (c99) doesn't leave much scope for argument:
p39610
ag630
ag2193
ag2836
ag2836
aV1 Program startup: (1) The function called at program startup is named main
p39611
aVThat's it
p39612
aVIt then waffles on a bit about parameters and return values but there's really no leeway there for changing the name
p39613
aVThat's for a hosted environment
p39614
aVThe standard also allows for a freestanding environment (i
p39615
ag75
aV, no OS, for things like embedded systems)
p39616
aVFor a freestanding environment:
p39617
aVIn a freestanding environment (in which C program execution may take place without any benefit of an operating system), the name and type of the function called at program startup are implementation-defined
p39618
aVAny library facilities available to a freestanding program, other than the minimal set required by clause 4, are implementation-defined
p39619
aVYou can use "trickery" in C implementations so that you can make it look like  isn't the entry point
p39620
aVThis is in fact what early Windows compliers did to mark  as the start point
p39621
aVFirst way: a linker may include some pre-main startup code in a file like  and it is this piece of code which runs to set up the C environment then call
p39622
aVThere's nothing to stop you replacing that with something that calls  instead
p39623
aVSecond way: some linkers provide that very option with a command-line switch so that you can change it without recompiling the startup code
p39624
aVThird way: you can link with this piece of code:
p39625
aVand then your entry point for your code is seemingly  rather than
p39626
aVHowever, all this, while of possibly academic interest, doesn't change the fact that I can't think of one single solitary situation in my many decades of cutting code, where this would be either necessary or desirable
p39627
aVI would be asking the interviewer: why would you want to do this
p39628
as(dp39629
g16
V14860
p39630
stp39631
a((dp39632
g2
(lp39633
VI usually have a global variable which is initialised to true and set to false when you want the threads to exit and join to the threads from the main function
p39634
aVPseudo-code below:
p39635
aVAnd make sure that threads do that loop in a timely fashion so that they can detect when they're supposed to exit
p39636
aVIf they have long running jobs, you'll need to check periodically within  as well
p39637
aVI make it a general rule that threads should exit within five seconds of being told to
p39638
aVI don't ever kill threads from outside
p39639
aVThere's too many problems that can be introduced
p39640
aVThe global flag method lets each thread control itself since it's usually the only one that knows when it's safe to exit cleanly
p39641
as(dp39642
g16
V14860
p39643
stp39644
a((dp39645
g2
(lp39646
VUnless you're going to be doing it hundreds of times a second, I would just opt for the readable solution, something like the following pseudocode:
p39647
aVIt seems a bit of a waste to create a whole array of other strings just so you can count them and throw them away
p39648
aVAnd if, for some reason, it becomes an issue, you can just replace the function body with a faster version
p39649
aVMake sure it is a problem first however
p39650
aVOptimisation of code that's fast enough already is wasted effort
p39651
as(dp39652
g16
V14860
p39653
stp39654
a((dp39655
g2
(lp39656
VI tend to avoid the switch since it's usually a big piece of code
p39657
aVI prefer a table lookup along the lines of:
p39658
aVNot that it usually matters since errors should be the exception rather than the rule, but table lookups are generally faster than running big switch statements (unless they get heavily optimised)
p39659
as(dp39660
g16
V14860
p39661
stp39662
a((dp39663
g2
(lp39664
VFor part 2,  will allow you to print a range of lines thus:
p39665
aVThis basically gives a range based on the record number
p39666
aVFor part 1, context from  can be obtained using the  and  switches
p39667
aVIf you're running a  that doesn't allow that, you can dummy up an  script based on the part 2 answer above
p39668
as(dp39669
g16
V14860
p39670
stp39671
a((dp39672
g2
(lp39673
VThe largest "number" you can store in IEEE754 double precision is , the smallest is
p39674
aVIf you mean non-infinite representations, then that would be roughly
p39675
aV
p39676
aVSee here for an excellent answer regarding IEEE754 formats
p39677
aVSee here for a wikipedia article showing the representation
p39678
as(dp39679
g16
V14860
p39680
stp39681
a((dp39682
g2
(lp39683
VBecause bytes are signed in Java so they will always be less than 128
p39684
aVWhy Java chose signed bytes is a mystery from the depths of time
p39685
aVI've never been able to understand why they corrupted a perfectly good unsigned data type :-)
p39686
aVTry this instead:
p39687
aVor, better yet:
p39688
as(dp39689
g16
V14860
p39690
stp39691
a((dp39692
g2
(lp39693
VYou should follow a proximity rule and declare the variables as late as possible
p39694
aVThis localises their creation and use
p39695
aVYou should also check parameters for validity at the earliest possible opportunity to minimise the work performed
p39696
aVHence I agree that your first one is better but it is subjective
p39697
aVThere's possibly arguments for the other approach but I've yet to hear convincing ones, so I consider those two guidelines as best practice
p39698
aVSince you state "language agnostic" despite the fact your code looks somehow strangely familiar :-), there are almost certainly some languages where you don't get a choice and variables have to be declared at the top
p39699
as(dp39700
g16
V14860
p39701
stp39702
a((dp39703
g2
(lp39704
VNo doubt there is
p39705
aVThere are also ways you can run all your programs as  under Linux
p39706
aVI still wouldn't actually do that since it's a bad idea
p39707
aVThe first dodgy plug-in you install will zombify your system
p39708
as(dp39709
g16
V14860
p39710
stp39711
a((dp39712
g2
(lp39713
VYour byte values are being sign-extended
p39714
aVThat happens when you promote the (signed) char to a wider type and the top bit is set, because it tries to preserve the sign (which is why you're seeing the extra  characters only for values greater than )
p39715
aVUsing an  should fix the problem:
p39716
as(dp39717
g16
V14860
p39718
stp39719
a((dp39720
g2
(lp39721
VIf you see CTRL-CCTRL-V and recognise what it does, you should use visual mode
p39722
aVIf, like me, you see A:esc0df:$p$x as an edit command, don't bother :-)
p39723
as(dp39724
g16
V14860
p39725
stp39726
a((dp39727
g2
(lp39728
VI'm surprised the error message didn't actually give you the name of the unresolved external
p39729
aVHowever, there's a good chance you didn't link with the GLUT libraries
p39730
aVIt's not enough to just include the header files, all they do is inform the compiler what capabilities are provided by the library
p39731
aVThey do not automatically figure out which file contains the code for that library
p39732
aVFrom what I've seen, GLUT comes with a  and a  file
p39733
aVYou will probably have to link with the library and ensure the DLL is accessible on the path somewhere
p39734
aVI see from your update that the linker is actually telling you the unresolved function
p39735
aVThat means you've created a non-console mode application, I believe
p39736
aVInstead of , your entry point in your code will have to be :
p39737
aVOr, you could re-create your project as a console mode application so that  is the correct entry point
p39738
as(dp39739
g16
V14860
p39740
stp39741
a((dp39742
g2
(lp39743
VYou should use one of the library-provided sort routines but, for what it's worth, the canonical bubble sort can be done as follows:
p39744
aVI would only use this where library-provided routines are not usable for some reason and, even then, only for small data sets
p39745
aVIt's relatively efficient (as far as bubble sort goes) since it doesn't re-check elements that have already been placed in the correct position (each iteration moves one more element to its correct position at the top of the list, hence the use of ), and will exit after an iteration in which no swaps are done (i
p39746
ag75
aV, the list is sorted)
p39747
as(dp39748
g16
V14860
p39749
stp39750
a((dp39751
g2
(lp39752
VReally
p39753
aVVB3, if it runs fine in XP, should be okay in the Windows compatibility box
p39754
aVWhat I would do is to say that you couldn't find anything suitable (which is almost certainly true) but that you may be able to fix their problem for a moderate fee
p39755
aVThen, hopefully it's just a matter of setting a flag on the application (you may want to check this first to ensure it won't be too much work)
p39756
aVMoney for Jam
p39757
aVThe other option is that you can offer to rewrite it for them in a more modern setting, using your vast knowledge of the application
p39758
aVHowever, I'm surprised you don't have a copy lying around
p39759
aVI keep just about every piece of software I've ever written just in case (with permission for work-for-hire stuff of course), even down to the Fortran assignments I did at Uni back in the early 80s
p39760
aVThat's a good habit to get into, although I'm starting to wonder whether I should perhaps free up some space by ditching the Fortran :-)
p39761
as(dp39762
g16
V14860
p39763
stp39764
a((dp39765
g2
(lp39766
VI think maybe you do need to focus it a bit :-)
p39767
aVFor UNIX file systems, there are many different types
p39768
aVThe one I'm most familiar with () has a "file" on disk containing directory entries
p39769
aVThese entries are simple names and pointers to the file itself (which is why you can have multiple directory entries pointing to the same file, )
p39770
aVThe file itself is an  which contains the properties of the file (owner, size, permissions and so on)
p39771
aVThe  also contains direct and indirect pointers to the contents of the file
p39772
aVBy direct, I mean a pointer to a data block
p39773
aVAn indirect pointer is a pointer to a pointer to contents
p39774
aVI believe you can go to another two levels of indirection, which gives you truly massive file sizes:
p39775
aVMore details on Wikipedia
p39776
as(dp39777
g16
V14860
p39778
stp39779
a((dp39780
g2
(lp39781
V"I chose the single-table strategy for persistence" - that's actually not that good a reason for combining them, in my opinion
p39782
aVCustomers and providers are fundamentally different beasts
p39783
aVThe fact that you're having troubles is a clear indication that you're most likely doing it the wrong way - that's true of most things in the IT industry (and probably life itself but you don't need me proselytising on that)
p39784
aVI would separate them out into different tables to resolve this particular problem
p39785
aVIf you really want part of the data to be shared, you could put the common things in yet another table and reference it from the customers and providers tables
p39786
aVYou may want this if a single entity can be both a customer and provider - in that case, you would want the two different table entries to share the same information (such as balance, reputation and so on)
p39787
as(dp39788
g16
V14860
p39789
stp39790
a((dp39791
g2
(lp39792
VSeems simple enough
p39793
aVTell them that you are far more proficient with Vim and that you know next to nothing about UltraEdit
p39794
aVWhether this is true is irrelevant - provisioning requests for software aren't delivered under oath :-)
p39795
aVThis has two effects:
p39796
aVyou won't need the IT staff to support you since you such a guru
p39797
aVyou won't need weeks of ramp-up time trying to figure out how UltraEdit works
p39798
aVManagers understand cost/benefit analyses
p39799
aVThe cost of letting you use Vim is zero
p39800
aVThe cost of making you use UltraEdit is considerably more
p39801
aVLikewise Vim's benefits are high since you're immediately productive
p39802
aVThe company where I work actually has two classes of software that they let us use
p39803
aVThe first is the stuff they support
p39804
aVThe second is stuff that you need to get yourself (off the company distribution site, not from outside, they're still paranoid about malware and rightly so) and, if you have trouble with it, don't call them
p39805
aVBut don't make the mistake of trying to evangelise Vim
p39806
aVYou want to be given a choice, not try to convince everyone else to have their choice taken away
p39807
as(dp39808
g16
V14860
p39809
stp39810
a((dp39811
g2
(lp39812
VThe nine derangements are:
p39813
aVAs you can see, column 1 does not contain , column 2 does not contain  and so on
p39814
aVIn addition, every row has the numbers , ,  and  and there are no duplicates (they're sorted to make that easier to detect)
p39815
aVFor what it's worth, that was discovered with a brute force attack (the attack space was relatively small):
p39816
as(dp39817
g16
V14860
p39818
stp39819
a((dp39820
g2
(lp39821
VNormally, I wouldn't give this much help for homework but, since you've put a fair bit of effort into it already and you're unlikely to find many of us dinosaurs here, I'll help you out
p39822
aVYour problem is here (ignore the things in parentheses on the right, they're just comments to help you out):
p39823
aVThis is the paragraph that processes one record
p39824
aVWhat you are doing here is putting three things into both the left and right output sections (so that the first two are being overwritten)
p39825
aVWhat you need is a toggle variable to select whether you're processing a left value or a right value, and the ability to store the left data so you can output them both when you process the right data, something like:
p39826
aVThen modify your record processing code thus (check the  syntax, it's been a while since I cut any COBOL code):
p39827
aVThen, at the end, after the file has been fully read, you need to detect if you've populated the left data (i
p39828
ag75
aV, there was an odd number of input lines)
p39829
aVThis will be the case if  is set to
p39830
aVI'll leave that to you but it involves moving the left data and populating the right data with spaces, in a manner very similar to  above (nudge, nudge,wink, wink)
p39831
aVAnd, now that I've had a good look at the desired output, it appears you actually need two copies of each address on both the left and the right
p39832
aVAre you sure that's the way you want to do it since it's a pretty unusual requirement for a mailing label program
p39833
aVIn any case, I'll leave all that code in above since it's a good way to do the one-each method of mailing labels but the code you seem to need is much simpler, a very slight variation of the  paragraph
p39834
aVForget all the extra working storage I mentioned, and just change  to:
p39835
as(dp39836
g16
V14860
p39837
stp39838
a((dp39839
g2
(lp39840
VThe search command is of the following format:
p39841
aVIf the  part is left out, the search looks for the last pattern that was searched for
p39842
aVIf the offset is left out, no offset is applied
p39843
aVThe offset is basically what to do to the cursor once you've found your  item
p39844
aVMost  users are familiar with the variation without an offset,  and the repeat last search, , which is equivalent to
p39845
aVIn your specific examples,  is the same as  and it means repeat the last search and apply no offset
p39846
aVOn the other hand,  means to repeat the last search and move the cursor to the end of the found item
p39847
aVThe offsets are:
p39848
aVA plus or minus without a  uses
p39849
as(dp39850
g16
V14860
p39851
stp39852
a((dp39853
g2
(lp39854
VFrom the  man page:
p39855
aVstats the file pointed to by path and fills in
p39856
aVis identical to , except that if path is a symbolic link, then the link itself is stat-ed, not the file that it refers to
p39857
aVIn other words, the  call will follow the symbolic link to the target file and retrieve the information for that
p39858
aVTry using  instead, it will give you the information for the link
p39859
aVIf you do the following:
p39860
aVthen compile and run the following program:
p39861
aVyou will get:
p39862
aVas expected
p39863
as(dp39864
g16
V14860
p39865
stp39866
a((dp39867
g2
(lp39868
VNo, not really
p39869
aVIf you have to check, you have to check
p39870
aVYou could replace the  with a ternary operator but that will almost certainly compile down to the same code
p39871
aVUnless the  method is particularly convoluted, I can't see it dragging down the performance that much
p39872
aVYou may get some speed improvement by caching the value in the  class (I'm assuming  is a vector of some sort)
p39873
aVHowever, if it is a vector, it's perfectly capable of acting as a stack on its own so you can let it raise its own exceptions rather than imposing your exceptions on it
p39874
aVThe only thing you're missing is the  method which you could do as:
p39875
as(dp39876
g16
V14860
p39877
stp39878
a((dp39879
g2
(lp39880
VIt's a fairly simple conversion job:
p39881
aVAll variables of the form  should be replaced with
p39882
aVAll  statements should be
p39883
aVYour  type statements should be  (different position for quotes)
p39884
aVPaths, of course, should reflect the Linux filesystem (no drives, forward slashes, different locations)
p39885
aVIf you want to use those variables once the script is finished, you need to  it or  it, not run it
p39886
aVRunning it will create those variable in a sub-shell, not your desired shell
p39887
as(dp39888
g16
V14860
p39889
stp39890
a((dp39891
g2
(lp39892
VYou'll probably find it won't make a difference with modern compilers
p39893
aVMost of them would probably perform common subexpresion elimination of the expressions that don't change within the loop
p39894
aVIt's not wise to assume that there's a simple one-to-one mapping between your C statements and assembly code
p39895
aVI've seen gcc pump out code that would put my assembler skills to shame
p39896
aVBut this is neither a C nor C++ question since the ISO standard doesn't mandate how it's done
p39897
aVThe best way to check for sure is to generate the assembler code with something like  and examine the two cases in detail
p39898
aVYou'll also get more return on your investment if you steer away from this sort of micro-optimisation and concentrate more on the macro level, such as algorithm selection and such
p39899
aVAnd, as with all optimisation questions, measure, don't guess
p39900
aVThere are too many variables which can affect it, so you should be benchmarking different approaches in the target environment, and with realistic data
p39901
as(dp39902
g16
V14860
p39903
stp39904
a((dp39905
g2
(lp39906
VI seem to remember that Visual C 1
p39907
aV52c was the last version that would generate 16-bit code
p39908
aVThere's been quite a bit of water under the bridge since then
p39909
aVYou can probably still pick up Turbo Pascal 3 or Turbo C 2 from the Borland museum I don't care whether they call themselves Inprise or Enchilada or whatever, they will always be Borland to those who used and loved their products :-)
p39910
aVI'm not sure if DJGPP (based on gcc) will generate 16-bit code
p39911
aVI vaguely recall it comes with a DOS extender which may mean it generates 32-bit code
p39912
aVI may be wrong
p39913
aVThere was also something called egcs (from memory) that you may want to look into
p39914
aVYou can also check out OpenWatcom, they appear to do 16-bit DOS among others
p39915
aVWatcom was a respected name alongside Borland back in the day
p39916
as(dp39917
g16
V14860
p39918
stp39919
a((dp39920
g2
(lp39921
VNo, at least not with the one I use (someone may have an enhanced one out there but it won't be standard anywhere)
p39922
aVFor that particular case, it's probably okay to use:
p39923
aValthough, for larger cases, that might be unwieldy
p39924
aVHave you thought about not treating them as individual options
p39925
aVIn other words, say they're debug levels for a logging procedure
p39926
aVWhy could you not use:
p39927
aVand specify them with  instead of
p39928
as(dp39929
g16
V14860
p39930
stp39931
a((dp39932
g2
(lp39933
VThe official term is "idiocy" :-) You can put backticks around the names such as
p39934
aVbut I would give serious consideration to changing the names if possible
p39935
aVBackticks are not standard SQL, and I prefer my column names to be a little more expressive
p39936
aVFor example,  or  (the general rule I try to follow is to have a noun and a verb in there somewhere)
p39937
aVInterestingly, some DBMS' can figure out not to treat it as a reserved word based on context
p39938
aVFor example, DB2/z allows the rather hideous:
p39939
as(dp39940
g16
V14860
p39941
stp39942
a((dp39943
g2
(lp39944
VWhat you have is a "Heisenbug", one which disappears when you try to find it
p39945
aVMake no mistake, the problem is still there and you do need to find it
p39946
aVThe first thing you should be doing is checking the return code of
p39947
aVIn addition, you should not assume that a successful read will return the full 100 bytes, even if there are more to come
p39948
aVThe doco states:
p39949
aVTo ensure all data is retrieved, an application must continue to call the  function until the function returns  and the  parameter equals zero
p39950
aV: : :
p39951
aVAlso, converted lines might not completely fill the buffer, so  can return with less data in  than requested
p39952
aVIn other words, I would add:
p39953
aVand change your two:
p39954
aVstatements to:
p39955
aVthen your loop becomes:
p39956
as(dp39957
g16
V14860
p39958
stp39959
a((dp39960
g2
(lp39961
VYes, you can get rid of this error by ensuring every path returns a value
p39962
aVThis can be done by simply initialising the return value at the top of the function:
p39963
aVBut you have another problem that you're probably not seeing because your desired window is at the top level
p39964
aVIf you recurse into your function, the  will once again be set to the desktop, not the child window
p39965
as(dp39966
g16
V14860
p39967
stp39968
a((dp39969
g2
(lp39970
VIf you mean variables, no, there's not
p39971
aVWhen you create a variable, it's tied to a specific type and a specific location
p39972
aVHaving said that, there's nothing stopping you from re-using the same variable for two different things:
p39973
aVYou can use a pointer so that it can be changed to point to a different variable but that's not what you're asking, I suspect
p39974
aVIn any case, unless you use a void pointer and cast it, it's still tied to a specific type:
p39975
aVIf what you're proposing is something like:
p39976
aVI'm not sure I see the point
p39977
aVI think you could do that by putting the definitions within a new scope (i
p39978
ag75
aV, braces):
p39979
aVbut it's not as if we have a world-wide shortage of variable names
p39980
aVAnd, if you're naming your variables well, it's pretty unlikely that a string and a float would even have the same name (double and float maybe but it's still an dubious function to add to the language)
p39981
as(dp39982
g16
V14860
p39983
stp39984
a((dp39985
g2
(lp39986
VAs with all floating point questions, some numbers can not be represented exactly
p39987
aVGet used to that, it's a fact of life :-)
p39988
aVWith a 32-bit floating point value (for example), there are about four billion numbers that can be represented exactly
p39989
aVUnfortunately, in mathematics, even between  and , there are, hmm
p39990
aV, let me think, an infinite number of numbers
p39991
aVOne thing you may find helpful is to use doubles instead of floats - they have more bits in them so can represent more exact numbers
p39992
aVBeyond that, there are arbitrary precision libraries you can use if you want even more precision
p39993
aVIf you change your code to (including a decent ):
p39994
aVyou'll see this in action:
p39995
aVYou can see that the doubles are much closer to your desired value, but they're still not exact
p39996
aVIEEE754 doubles have about 16 digits of precision (single precision floats have about 7)
p39997
as(dp39998
g16
V14860
p39999
stp40000
a((dp40001
g2
(lp40002
VYou can use  instead of just
p40003
aVThe  function returns the first non-NULL value in the list
p40004
aVI should mention that per-row functions like this are usually problematic for scalability
p40005
aVIf you think your database may get to be a decent size, it's often better to use extra columns and triggers to move the cost from the  to the
p40006
aVThis amortises the cost assuming your database is read more often than written (and most of them are)
p40007
as(dp40008
g16
V14860
p40009
stp40010
a((dp40011
g2
(lp40012
VThe mode is modified by your current ,  in this case
p40013
aVThe way the  works is a subtractive one
p40014
aVYou take the initial permission given to  and subtract the  to get the actual permission
p40015
aVbecomes  which is
p40016
aVIf you don't want this to happen, you need to set your  to 0
p40017
aVYou can do this temporarily with the following snippet:
p40018
aVSee the PHP doco for umask and mkdir for more details
p40019
as(dp40020
g16
V14860
p40021
stp40022
a((dp40023
g2
(lp40024
VI'm going to risk downvotes here and suggest that regexes are most likely not the best tool for this job
p40025
aVThey have their place but I usually find that, if you're getting into "horrendous" territory with multiple backtracking or negative lookahead and lots of  clauses, you're probably better off tossing away the whole regex idea and writing a simple string scanning function which simply count each digit and ensures the counts are correct at the end
p40026
aVPseudo-code something like:
p40027
aVThat's my advice, take it or leave it, I won't be offended :-)
p40028
as(dp40029
g16
V14860
p40030
stp40031
a((dp40032
g2
(lp40033
VBasic regular expressions don't handle differing orders of words very well
p40034
aVThere are ways to do it but the regular expressions become ugly and unreadable to all but the regex gurus
p40035
aVI prefer to opt for readability in most cases myself
p40036
aVMy advice would be to use a simple  variant, something like:
p40037
aVwith word boundaries if necessary:
p40038
aVAs Lucero points out, this will become unwieldy as the number of words your searching for increases, in which case I would go for the multiple regex match solution:
p40039
aVThat pseudo-code will run a check for each word and ensure that all of them appear
p40040
as(dp40041
g16
V14860
p40042
stp40043
a((dp40044
g2
(lp40045
VExamine the assembler code
p40046
aVTurn it back into C++
p40047
aVProfit
p40048
aVAdmittedly, there a fair bit of detail you could add to steps 1 and 2 but that's the basic idea, and the level of detail in my answer more than match the level of detail in your question :-)
p40049
as(dp40050
g16
V14860
p40051
stp40052
a((dp40053
g2
(lp40054
VThe  (code selector) register is set to  and  (instruction pointer) is set to
p40055
aVThis corresponds to the physical memory location  but the contents of  are important since they affect how much memory you can use without a far jump, and also how the code needs to be generated if it's not position-independent
p40056
aVBasically, it's just like the old 8080 days where you have a 64K chunk you can address your code in
p40057
aVOnce you change , that all changes of course
p40058
as(dp40059
g16
V14860
p40060
stp40061
a((dp40062
g2
(lp40063
VThis isn't part of the language
p40064
aVIf you really want to avoid the typing, you could just create a function to do it, something along the lines of:
p40065
aV(and similar for other data types)
p40066
aVI question the usefulness of this approach however because (1) it's only less typing for longer lists; and (2) you'll probably end up on "The Daily WTF" :-)
p40067
aVMy opinion would be to just suck it up, it's not really that much typing
p40068
as(dp40069
g16
V14860
p40070
stp40071
a((dp40072
g2
(lp40073
VThis shouldn't be an issue
p40074
aVIf you had been doing proper reporting, it should have been obvious early on that slippage was occurring
p40075
aVThe whole point of reporting progress is that issues like this don't come as a surprise
p40076
aVIf it has come as a surprise, that is most definitely a failure on your part (you should know better)
p40077
aVIn that case, act accordingly
p40078
aVBe honest and be prepared for an upset customer
p40079
aVI will give one piece of advice that's been invaluable to me
p40080
aVIf you come straight out and say you stuffed up, that will disarm all but the most obnoxious client (and you can't disarm those ones anyway so don't worry about it)
p40081
aVIt will also be helpful to present some options to the client, such as extending the deadline, dropping functionality to make up time, and so on
p40082
aVThat way, you're not seen as a defeatist
p40083
aVBring them solutions rather than problems
p40084
aVI answered an earlier question about a failed academic project which may be of some interest to you
p40085
as(dp40086
g16
V14860
p40087
stp40088
a((dp40089
g2
(lp40090
VA similar thing was done with Forth many moons ago (Novix, I think it was called)
p40091
aVI suspect it would fail for a number of reasons
p40092
aVThe cost of creating a Java CPU would far outweigh the cost of creating a Java interpreter
p40093
aVThat's why there aren't a million different CPU fabricators, but there are a million different computer languages (well, maybe not that many, but it's a lot)
p40094
aVJIT compilers remove quite a bit of the need for Java-in-silicon since they compile to assembly language anyway
p40095
aVRelated to point 1, imagine the cost of fixing a bug in your CPU as opposed to one in your interpreter
p40096
aVA vast number of people already use machines that have Java
p40097
aVYou going to face a lot of resistance to the market moving to your solution
p40098
as(dp40099
g16
V14860
p40100
stp40101
a((dp40102
g2
(lp40103
VYou're probably better off allocating a decent amount of space initially, based on what you think is the most likely maximum
p40104
aVThen, if you find you need more space, don't just allocate enough for the extra, allocate a big chunk extra
p40105
aVThis will minimise the number of re-allocations while still only processing the list once
p40106
aVBy way of example, initially allocate 100K
p40107
aVIf you then find you need more, re-allocate to 200K, even if you only need 101K
p40108
as(dp40109
g16
V14860
p40110
stp40111
a((dp40112
g2
(lp40113
VIt is serious
p40114
aVMost of the languages I code in have a real cost to function calls (the compilers for them can generally do tail recursion as well so sometimes it's not an issue)
p40115
aVThat cost, and the fact that the stack is not an unlimited resource, usually makes me tend to use recursion only for cases where I know there's a limit on the depth it can go to
p40116
aVFor example, I know a balanced binary tree search will only go fifty levels deep for one quadrillion entries
p40117
aVI wouldn't, however, use:
p40118
aVsince doing that for  of twenty million would not be healthy for a stack
p40119
as(dp40120
g16
V14860
p40121
stp40122
a((dp40123
g2
(lp40124
VNo, your can use it just fine
p40125
aVDespite the fact that the code you gave is uncompilable, I think I understand what you're asking
p40126
aVA code segment like:
p40127
aVshould be just fine
p40128
aVIf you find that  is not getting what it expects then either:
p40129
aVis changing what  points to (normally not possible since it's a ); or
p40130
aVsome unshown piece of code is changing the pointer itself; or
p40131
aVsomething is corrupting the memory
p40132
aVTry this code as an example:
p40133
aVIt outputs, as expected:
p40134
as(dp40135
g16
V14860
p40136
stp40137
a((dp40138
g2
(lp40139
VThat regex is pretty smart if it can turn  into  :-)
p40140
aVOn a more serious note, code up a parser and don't try to rely on a singular regex to do this for you
p40141
aVYou'll find you learn more, the code will be more readable, and you won't have to concern yourself with edge cases that you haven't even figured out yet, like:
p40142
aVA simple parser for that situation would be:
p40143
aVand it's relatively easy to add support for quoting:
p40144
aVNote that I haven't tested these thoroughly but I've done these quite a bit in the past so I'm quietly confident
p40145
aVIt's only a short step from there to one that can also allow escaping (for example, if you want quotes within quotes like )
p40146
aVTo get a single regex capable of handling multiple separators isn't that hard, getting it to monitor state, such as when you're within quotes, so you can treat separators differently, is another level
p40147
as(dp40148
g16
V14860
p40149
stp40150
a((dp40151
g2
(lp40152
VThe first thing I would do is use single quotes (some shells will expand the wildcards, though I don't think  does, at least by default), and the first argument to  is a directory, not a list of files:
p40153
aVBeyond that, it may just be taking a long time, though I can't imagine anyone having that many text files (you say you have a lot but it would have to be pretty massive to slow down )
p40154
aVTry it first without the redirection and see what it outputs:
p40155
as(dp40156
g16
V14860
p40157
stp40158
a((dp40159
g2
(lp40160
VWell, if you don't have the  attribute, you can just steal it from the representation:
p40161
aVYes, I know it's horrible
p40162
aVI would prefer to upgrade to 2
p40163
aV7 myself but sometimes we're not given the power we desire, and we have to resort to kludges like this
p40164
as(dp40165
g16
V14860
p40166
stp40167
a((dp40168
g2
(lp40169
VSince  decays to a pointer when passed to a function, you can replace:
p40170
aVwith:
p40171
aVor, assuming they're the same size:
p40172
aVPost question edit:
p40173
aVEDIT: I see memcpy is an option
p40174
aVIs there another way just manipulating pointers
p40175
aVThere is no safe way to do this by manipulating the pointers if you mean changing the value of the pointer itself
p40176
aVIf you pass in a pointer to a pointer, you can change it so that it points elsewhere but, if you point it at the  array, you're going to get into trouble since that goes out of scope when you exit from
p40177
aVYou can use the pointer to transfer characters as per my first solution above ( array access is equivalent to  pointer access)
p40178
as(dp40179
g16
V14860
p40180
stp40181
a((dp40182
g2
(lp40183
VAssuming you mean doing this in VBA (since it's tagged  and this is a programming Q&A; site), you can insert and populate a row with code like:
p40184
aVEverything else is just figuring out a loop which will do the whole thing
p40185
aVThe code below will expand the rows as you desire (by adding ,  and  rows after each  row)
p40186
aVThe actual values of those items are left as  since it's not clear how to calculate them from the other data
p40187
as(dp40188
g16
V14860
p40189
stp40190
a((dp40191
g2
(lp40192
VIt's a little hard to combine two files into standard input like that
p40193
aVBetter would be:
p40194
aVWith  (at least), the second input redirection overrides the first, it does not augment it
p40195
aVYou can see that with the two commands:
p40196
aVWhen you use redirection, your application never even sees  (for example)
p40197
aVIt is evaluated by the shell which opens it up and connects it to the standard output of the process you're trying to run
p40198
aVAll your program will generally see will be:
p40199
aVSame with standard input, it's taken care of by the shell
p40200
aVThe only possible problem with that first command above is that it combines the two files into one stream so that your program doesn't know where the first ends and second begins (unless it can somehow deduce this from the content of the files)
p40201
aVIf you want to process multiple files and know which they are, there's a time-honoured tradition of doing something like:
p40202
aVand then having your application open and process the files itself
p40203
aVThis is more work than letting the shell do it though
p40204
as(dp40205
g16
V14860
p40206
stp40207
a((dp40208
g2
(lp40209
VYes, though I would suggest another approach, one that adds no load to the app server and minimal load to the DBMS
p40210
aVIt's a little hard to answer the question since you haven't provided a concrete example but I'll give it a shot
p40211
aVMy preferred solution is to get rid of the  conditions totally if you can
p40212
aVAt a bare minimum, you can re-jig your database schema to move the cost of calculation away from the  (which happens a lot) and into the  (which happens less often)
p40213
aVThat's the normal case, I have seen databases that write more frequently than read, but they're the exception rather than the rule
p40214
aVBy way of example, let's say you store person information and you want to get a list of people whose first name is more than 5 characters long
p40215
aVDon't ask why, I'm the customer, you have to give me what I want :-)
p40216
aVRather than a monstrous  statement to (possibly) split apart the name and count the characters in it, do that as an insert/update trigger when the data enters the table - that's the only time when the value can change after all
p40217
aVPut that calculation in another column (indexed) and use that in your select
p40218
aVThe cost of the calculation is amortised over al the selects, which will be blindingly fast
p40219
aVIt will take up more storage space but, if you compare the number of database "how can I make this faster
p40220
aVquestions against the number of "how can I use less space
p40221
aVquestions, you'll find the former greatly outweigh the latter
p40222
aVAnd, yes, it does mean you store redundant data but the triggers mitigate the possibility of losing ACID properties
p40223
aVIt's okay to bend rules if you know the possible consequences and how best to avoid them
p40224
aVBased on your update, you should put the workload on to the machine where it causes the least impact
p40225
aVThat may be the DBMS, it may be the app server, it may even be on the client side (of the app server) itself since that would distribute the cost across a lot of machines rather than concentrating it at a single point
p40226
aVYou should measure, not guess
p40227
aVSet up realistic performance test systems along with realistic production-quality data, then try the different approaches
p40228
aVThat's the only real way to be certain
p40229
as(dp40230
g16
V14860
p40231
stp40232
a((dp40233
g2
(lp40234
VThere are a couple of approaches you can take:
p40235
aVspecify a maximum size that you can handle, then you just allocate once (whether as a global or on the heap)
p40236
aVhandle the file in chunks if you're worried about fitting it all into memory at once
p40237
aVhandle an arbitrary size by using  with  (as you read bits in)
p40238
aVNumber 1 is easy:
p40239
aVNumber 2 is probably the best way to do it unless you absolutely need the whole file in memory at once
p40240
aVFor example, if your program counts the number of words, it can sequentially process the file a few K at a time
p40241
aVNumber 3, you can maintain a ,  and  variable
p40242
aVInitially set  to 50K and allocate  as that size
p40243
aVThen try read in one 10K chunk to a fixed buffer
p40244
aVAdd up the current  and the number of bytes read into  and, if that's greater than , do a  to increase  by another 50K (adjusting  at the same time)
p40245
aVThen append  to , adjust , rinse and repeat
p40246
aVNote that all those values (10K, 50K and so on) are examples only
p40247
aVThere are different values you can use depending on your needs
p40248
as(dp40249
g16
V14860
p40250
stp40251
a((dp40252
g2
(lp40253
VWell, for a simplistic case, you could try:
p40254
aVFor a more complex case where you want to use a regular expression for a splitter:
p40255
aVThe earlier example will output  as:
p40256
aVwhile the latter will more correctly give you:
p40257
aV(and you can improve the regex if you have more edge cases)
p40258
as(dp40259
g16
V14860
p40260
stp40261
a((dp40262
g2
(lp40263
VThat may depend on the environment you're using
p40264
aVWith Gnome at least (I haven't tried the others but it may work), you can pipe your output as follows:
p40265
aVThe first goes to the mouse clipboard, the second to the "normal" clipboard
p40266
as(dp40267
g16
V14860
p40268
stp40269
a((dp40270
g2
(lp40271
VYou should never use  (or  with an unbounded string size) since that opens you up to buffer overflows
p40272
aVUse the  with a  handle since it allows you to limit the data that will be placed in your buffer
p40273
aVHere's a little snippet I use for line input from the user:
p40274
aVThis allows me to set the maximum size, will detect if too much data is entered on the line, and will flush the rest of the line as well so it doesn't affect the next input operation
p40275
aVYou can test it with something like:
p40276
as(dp40277
g16
V14860
p40278
stp40279
a((dp40280
g2
(lp40281
VIt's interesting that the FreeBSD connect() manpage doesn't list
p40282
aVA different BSD manpage states:
p40283
aVBased on the disparate documentation from the different BSD flavours floating around, I would venture that there may be undocumented return code possibilities in FreeBSD, see here for example
p40284
aVMy advice is to print out your address length and the  and contents of your socket address structure before calling  - this will hopefully assist you to find out what's wrong
p40285
aVBeyond that, it's probably best if you show us the code you use to set up the connection
p40286
aVThis includes the type used for the socket address (, , etc), the code which initialises it, and the actual call to
p40287
aVThat'll make it a lot easier to assist
p40288
as(dp40289
g16
V14860
p40290
stp40291
a((dp40292
g2
(lp40293
VA stub routine can be one of (at least) two things
p40294
aVFirst, it can be a place-holder routine which you quickly develop to test a higher level routine, with the intention of substituting a real version later on
p40295
aVThis is typically used with top-down development (coding the higher levels first then working your way down to the more detailed stuff) and can be as simple as:
p40296
aVor slightly more complex:
p40297
aVOf course, once the stub gets complex enough, you may as well just implement the real thing :-)
p40298
aVSecondly, it's commonly used in remote procedure call (RPC) environments
p40299
aVA stub there is used for marshalling data at one end and communicating it to a server at the other end
p40300
aVRPC needs to create stub functions for the client and a server
p40301
aVIt's very similar to a function prototype in C but the end result is slightly different, such as:
p40302
aVIn this example, instead of calling  in the same program,  calls a client stub function (with the same prototype as ) which is responsible for packaging up the information and getting it across the wire to another process
p40303
aVThis can be the same machine or a different machine, it doesn't really matter - one of the advantages of RPC is to be able to move servers around at will
p40304
aVIn the server, there's a 'listener' process that will receive that information and pass it to the server
p40305
aVThe server's stub receives the information, unpacks it and passes it to the real function
p40306
aVThe real function then does what it needs to and returns to the server stub which can package up the return information and pass it back to the client stub
p40307
aVThe client stub then unpacks that and passes it back to
p40308
as(dp40309
g16
V14860
p40310
stp40311
a((dp40312
g2
(lp40313
VIf you want decent speed, you should avoid per-row functions as much as possible
p40314
aVNormally, I'd suggest an insert/update trigger to store modified data so as to amortise the cost of the calculation across all selects (see here for an explanation along with some other guidelines I follow) but, for this particular case, there's an easier way *a
p40315
aVJust use:
p40316
aVIf the execution engine of your DBMS is any good, it will turn that into two very fast (assuming title is indexed) passes of the data without having to process every single row in the table
p40317
aVIf your execution engine is not that smart, try:
p40318
aVto see if that helps
p40319
aVMake sure you use , not just
p40320
aVThe latter will attempt to remove duplicates, unnecessary in this case since a title cannot start with both  and
p40321
aVAnd, as with all optimisations, measure, don't guess
p40322
aV*a You may still want to consider using the trigger/extra-column method if there's a chance you want a case-insensitive search
p40323
aVThe method in this answer will work okay for case-insensitivity on the first letter () but will quickly degrade if you're looking for something like items starting with  which would require 32 separate clauses (24 character combinations with and without the hyphen prefix)
p40324
as(dp40325
g16
V14860
p40326
stp40327
a((dp40328
g2
(lp40329
VForget what the debugger is telling you
p40330
aVIn your code, immediately following:
p40331
aVput the statement:
p40332
aVand see what it prints out (hopefully )
p40333
aVIt's possible the debugging information, created at compile time, is not enough to properly determine the sizes of variable length arrays
p40334
aVBy way of example, even though  supports variable length arrays,  itself couldn't properly handle them as recently as late 2009 and there's still no mention of them in the documentation dated October 2010
p40335
aVSo I suspect that is the problem, especially since the test code I provided above output  as expected
p40336
as(dp40337
g16
V14860
p40338
stp40339
a((dp40340
g2
(lp40341
VWhy it's happening: probably it's outputting exponential formatted numbers, like  being equivalent to
p40342
aVIt's a little hard to tell since you cut off the output at the , just as it was getting interesting :-)
p40343
aVI think  may be able to turn that into the desired format or, alternatively, try:
p40344
aV(I haven't tested this, it may not work)
p40345
as(dp40346
g16
V14860
p40347
stp40348
a((dp40349
g2
(lp40350
VWell, if the question is simply "what is the size of the page table
p40351
aVirrespective of whether it will fit into physical memory, the answer can be calculated thus:
p40352
aVFirst physical memory
p40353
aVThere are 512K pages of physical memory (512M / 1K)
p40354
aVThis requires 19 bits to represent each page
p40355
aVAdd that to the 4 bits of accounting information and you get 23 bits
p40356
aVNow virtual memory
p40357
aVWith a 38-bit address space and a 10-bit (1K) page size, you need 228 entries in your page table
p40358
aVTherefore 228 page table entries at 23 bits each is 6,174,015,488 bits or 736M
p40359
aVThat's the maximum size needed for a single-level VM subsystem for each process
p40360
aVNow obviously that's not going to work if you only have 512M of physical RAM so you have a couple of options
p40361
aVYou can reduce the number of physical pages
p40362
aVFor example, only allow half of the memory to be subject to paging, keeping the other half resident at all time
p40363
aVThis will save one bit per entry, not really enough to make a difference
p40364
aVIncrease the page size, if possible
p40365
aVA 1K page on a 38-bit address space is the reason for the very chunky page tables
p40366
aVFor example, I think the '386, with its 32-bit address space, uses 4K pages
p40367
aVThat would result in a million page table entries, far less than the 260 million required here
p40368
aVGo multi-level
p40369
aVA bit more advanced but it basically means that the page tables themselves are subject to paging
p40370
aVYou have to keep the first level of page tables resident in physical memory but the second level can go in and out as needed
p40371
aVThis will greatly reduce the physical requirements but at the cost of speed, since two levels of page faults may occur to get at an actual process page (one for the secondary paging tables then one for the process page)
p40372
aVLet's look a little closer at option 3
p40373
aVIf we allow 32M for the primary paging table and give each entry 4 bytes (32 bits: only 23 are needed but we can round up for efficiency here), this will allow 8,388,608 pages for the secondary page table
p40374
aVSince each of those secondary page table pages is 1K long (allowing us to store 256 secondary page table entries at 4 bytes each), we can address a total of 2,147,483,648 virtual pages
p40375
aVThis would allow 8,192 fully-loaded (i
p40376
ag75
aV, using their entire 28-bit address space) processes to run side by side, assuming you have a fair chunk of disk space to store the non-resident pages
p40377
aVNow obviously the primary paging table (and the VM subsystem, and probably a fair chunk of the rest of the OS) has to stay resident at all times
p40378
aVYou cannot be allowed to page out one of the primary pages since you may well need that page in order to bring it back in :-)
p40379
aVBut that's a resident cost of only 32M of the 512M for the primary paging table, much better than the (at a minimum, for one fully-loaded process) of 736M
p40380
as(dp40381
g16
V14860
p40382
stp40383
a((dp40384
g2
(lp40385
VNo, that should still be available to you
p40386
aVThe only way you could lose the value would be if  were 0 on one of the iterations of your  loop or if you execute the  inside the outer loop without entering the inner loop - it's hard to tell if this is possible since you don't specify what  is in both cases
p40387
aVIt's true that variable created within a certain scope will disappear when you exit that scope but that isn't the case here
p40388
aVAllocated memory will survive scope changes
p40389
aVA given pointer to that memory may not but your pointer in this case ( is still in scope when you exit the outer  statement)
p40390
aVI do see one other potential problem - your  should probably be  (since  is always 1)
p40391
aVIt probably works because a  will normally be bigger than a  but it's the wrong way to do it nonetheless
p40392
aVHowever, I cannot see anywhere in your code where you actually set  to anything so I'm at a loss as to how it can ever have a correct value, unless it's somehow picking up a value from a previous  (this is possible since  itself is not required to clear the memory it gives to you)
p40393
aVYou should post your actual code or preferably the smallest piece of code that exhibits the problem
p40394
as(dp40395
g16
V14860
p40396
stp40397
a((dp40398
g2
(lp40399
VAre you sure that you absolutely have to do this before continuing
p40400
aVI would examine the possibility of hiving off the task to a separate thread which sets a flag when finished
p40401
aVThen your startup code simply kicks off that thread and continues on its merry way, pausing only when both:
p40402
aVthe flag is not yet set; and
p40403
aVno more work can be done without the data
p40404
aVOften, the illusion of speed is good enough, as anyone who has coded up a splash screen will tell you
p40405
aVAnother possibility, if you control the data, is to store it in a more binary form so you can just blat it all in with one hit (i
p40406
ag75
aV, no interpretation of the data, just read in the whole thing)
p40407
aVThat, of course, makes it harder to edit the data from outside your application but you haven't stated that as a requirement
p40408
aVIf it is a requirement or you don't control the data, I'd still look into my first suggestion above
p40409
as(dp40410
g16
V14860
p40411
stp40412
a((dp40413
g2
(lp40414
VThat's because  is not an external executable command (i
p40415
ag75
aV, there is no  file on your hard disk, unless you put it there yourself)
p40416
aVIt's an internal command of the shell
p40417
aVYou'll probably find that you need to execute something like:
p40418
as(dp40419
g16
V14860
p40420
stp40421
a((dp40422
g2
(lp40423
V is a C idiom which means "do forever", an infinite loop
p40424
aVThis loop will only exit when either the  statement fires (violently) , or the cause is set to  (not so violently)
p40425
aVIt's a  loop with no pre-setup, no condition and not post-iteration commands, effectively the same as  (pseudo-code)
p40426
as(dp40427
g16
V14860
p40428
stp40429
a((dp40430
g2
(lp40431
VNo, it depends entirely on what the parent program puts in there
p40432
aVThe  family of functions allow the executable name to be totally different to the argument passed in, and this is supported by the ISO C standard
p40433
aVIf the value of argc is greater than zero, the string pointed to by argv[0] represents the program name; argv[0][0] shall be the null character if the program name is not available from the host environment
p40434
aVSo no, it's only the program name if the name is available
p40435
aVAnd the section before that states:
p40436
aVIf the value of argc is greater than zero, the array members argv[0] through argv[argc-1] inclusive shall contain pointers to strings, which are given implementation-defined values by the host environment prior to program startup
p40437
aV(my italics)
p40438
aVSo, even their values are not dictated by the standard, it's up to the implementation entirely
p40439
aVThis means that the program name can be empty if the host environment doesn't provide it, and anything else if the host environment does provide it
p40440
aVHowever, implementation-defined has a specific meaning in the ISO standards - the implementation must document how it works
p40441
aVSo even UNIX, which can put anything it likes into  with the  family of calls, has to (and does) document it
p40442
aVSimilarly (thanks to Chubsdad), C++03 states:
p40443
aVIf argc is nonzero these arguments shall be supplied in argv[0] through argv[argc-1] as pointers to the initial characters of null-terminated multibyte strings (NTMBSs) (17
p40444
ag6296
ag2836
ag2193
ag6296
aV2) and argv[0] shall be the pointer to the initial character of a NTMBS that represents the name used to invoke the program or ""
p40445
aVSo, even there, argv[0] may not contain anything and, even if it does, "represents the name" is a very vague requirement
p40446
aVIt doesn't have to be the full pathname of the executable or even contain the command used to invoke it
p40447
aVAnother way to do it under Linux is with the  filesystem
p40448
aVI think  is a link to the executable file
p40449
aVWikipedia has an entry for the  filesystem with lots of goodies
p40450
as(dp40451
g16
V14860
p40452
stp40453
a((dp40454
g2
(lp40455
VWhy not change the prototypes to something like:
p40456
aV(they're not actually returning anything) then, in your main code, have:
p40457
aVEach function is then responsible for using and updating  like this:
p40458
as(dp40459
g16
V14860
p40460
stp40461
a((dp40462
g2
(lp40463
VSomething along the lines of this should do it:
p40464
aVFor continued adding until you get a single digit:
p40465
aVNote that both of these are destructive to the original  value
p40466
aVIf you want to preserve it, you should make a copy or do this in a function so the original is kept
p40467
as(dp40468
g16
V14860
p40469
stp40470
a((dp40471
g2
(lp40472
VThe type is not relevant because it's a simple text substitution
p40473
aVIn other words, the value of the variable  will be substituted in place of  (for example)
p40474
aVAt least for the version of  I'm running, for the numeric comparison, if the value starts with a non-numeric, it will equate to 0
p40475
aVIf it starts with a numeric but contains non-numerics, you will get an error
p40476
aVFor example:
p40477
aVHowever, based on your comments, that may not be the case for all versions of
p40478
aVBased on that, I would try to ensure that you use string comparisons for strings and numeric comparisons for numbers
p40479
aVAnything else may be non-portable
p40480
as(dp40481
g16
V14860
p40482
stp40483
a((dp40484
g2
(lp40485
VWhy are you breaking apart the date like that
p40486
aVPer-row functions do not scale well
p40487
aVIt seems to me that the entire date section at the end can be replaced by:
p40488
aVEven if you want a range, you're still better of using the dates as they are
p40489
aVBased on your edits to state that you're using variables, you should do the calculation on the right-hand side of the conditions
p40490
aVThat's because this will be done once before the query start
p40491
aVWith what you have, the calculation on the left side will be done once per row, a definite performance killer
p40492
as(dp40493
g16
V14860
p40494
stp40495
a((dp40496
g2
(lp40497
VIt's actually an 8-byte entry in the global descriptor table
p40498
aVIt creates a descriptor addressing the entire 4G address space as a selector
p40499
aVThe  sets up a value in the assembler equal to the difference between this location () and the  label
p40500
aVIn other words, it's the offset of this entry within the GDT itself
p40501
aVThe structure of a GDT entry is as follows:
p40502
aV
p40503
aVwhere the individual parts are explained below
p40504
aV
p40505
aVFor your specific values:
p40506
aVThe base address is calculated from the ,  and  fields, from most significant to least - because these are all zero, the base is at zero
p40507
aVThe selector limit is calculated from the rightmost 4 bits of  and all of , to give  in this case
p40508
aVThis has 1 added to it to give
p40509
aVSee point 3 below for what this means
p40510
aVThe top 4 bits of  (the flags) set the granularity (4K rather than 1 byte) and the operand size (32-bit)
p40511
aVWith a granularity of 4K (12 bits) and page count of  (20 bits), that gives you your full 32-bit (4G) address space
p40512
aVThe  field is the access byte and sets the following properties based on :
p40513
aVpresent (in-memory) bit to true
p40514
aVprivelege level to 0 (need to be ring 0 to get access)
p40515
aVexecutable bit 0 (data selector)
p40516
aV, direction bit is 0, segment grows up
p40517
aVof 1, memory is writable
p40518
aVaccessed bit set to 0
p40519
as(dp40520
g16
V14860
p40521
stp40522
a((dp40523
g2
(lp40524
VThe following pseudo-code will do what you want for a tree in ascending order
p40525
aVto be called with:
p40526
aVIt will give you the node or null if no node exists
p40527
aVIf you want to avoid recursion, you can use the iterative solution:
p40528
aVObviously, there's all sorts of enhancements you could make such as allowing a different order, or a callback comparison function, or allowing duplicate keys, but this is the canonical example of a binary tree search
p40529
as(dp40530
g16
V14860
p40531
stp40532
a((dp40533
g2
(lp40534
VI can help you on your first point
p40535
aVThe use of  is to change what code is compiled based on previously configured information
p40536
aVFor example:
p40537
aVis _exactly the same as:
p40538
aVas far as the compiler is concerned
p40539
aVWhy is this useful
p40540
aVWell, one reason is that you may want different code to be compiled for different machines, while still only having one copy of the source code
p40541
aVNow this "configuration" can be set with a  or even as part of the command line for the compiler, like
p40542
aVA more useful example than given above may be to use a different data type depending on the environment you're targeting
p40543
aVThe code:
p40544
aVwill allow you to use the correct type for a 32-bit integer type, for different architectures
p40545
aVFor all those an  is 32 bits, you use , for all those a  is 32 bits, you use , for all others, the compiler will complain
p40546
as(dp40547
g16
V14860
p40548
stp40549
a((dp40550
g2
(lp40551
VIf you're talking Cocoa, the mutex functionality there is provided by  and
p40552
aVIn order to properly protect non-atomic resource, you need these mutexes, lest multiple threads may try to change the data at the same time (leading to corruption) or use the data in a half-changed state (leading to invalid data)
p40553
aVYour code would look something like this:
p40554
aVIf you're not using Cocoa (or what little Cocoa programming I remember from my brief interlude with an iMac is so dimly remembered that it's near useless), just use the concept, translating it to whatever language or framework you have:
p40555
aVlock the mutex before using or changing a protected resource
p40556
aVuse or change the resource
p40557
aVunlock the mutex
p40558
aVbonus advice 1: lock the mutex as late as possible and unlock it as soon as possible
p40559
aVbonus advice 2: only lock what you need so you avoid unnecessary delays
p40560
aVExplaining that last point some more: if you synchronise on  for two totally unrelated things (say a session ID and a user ID), they will block each other despite the fact that it's not necessary to do so
p40561
aVI would prefer two separate mutexes to keep the granularity low
p40562
aVOf course, if you only have a mutex on the session ID alone (but see below for caveat), feel free to use  but I'd prefer to do it my way so I wouldn't get caught out adding another protected resource later
p40563
aVIn any case (this is the caveat mentioned), you will probably find that synchronising on  would not adequately protect a static variable, which would be shared across multiple objects
p40564
aVThe mutex should belong to the data rather than whatever is using it
p40565
as(dp40566
g16
V14860
p40567
stp40568
a((dp40569
g2
(lp40570
VHere's another way of doing it which returns the list of odd numbers rather than modifying the list passed in
p40571
aVVery similar to that provided by  but I thought I'd add it for completeness
p40572
aVOutput is:
p40573
as(dp40574
g16
V14860
p40575
stp40576
a.